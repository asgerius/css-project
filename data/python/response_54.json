[{"tags": ["python", "image", "jpeg", "color-mapping"], "answers": [{"comments": [{"owner": {"reputation": 768, "user_id": 4061637, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/XFVHB.png?s=128&g=1", "display_name": "partizanos", "link": "https://stackoverflow.com/users/4061637/partizanos"}, "edited": false, "score": 0, "creation_date": 1558790421, "post_id": 34913974, "comment_id": 99220991, "body": "question i use the above to convert a color png image the format is on  (1000, 800, 3). But then the rgb2ycbcr return shape [1000, 3 ] instead of [1000,800].  I am doubting what wrong I am doing because the answer is marked as correct."}, {"owner": {"reputation": 753, "user_id": 696249, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/tAlqN.jpg?s=128&g=1", "display_name": "ozmank", "link": "https://stackoverflow.com/users/696249/ozmank"}, "edited": false, "score": 0, "creation_date": 1573298559, "post_id": 34913974, "comment_id": 103842129, "body": "@emre, thanks for your answer, wanted to know why are you dot multiplying the xform transpose and not just the xform"}], "tags": [], "owner": {"reputation": 4415, "user_id": 832188, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/4b0380e2f3955f88f8fda269dfcfcf97?s=128&d=identicon&r=PG", "display_name": "Emre", "link": "https://stackoverflow.com/users/832188/emre"}, "is_accepted": true, "score": 17, "last_activity_date": 1520874551, "last_edit_date": 1520874551, "creation_date": 1453340754, "answer_id": 34913974, "question_id": 34913005, "link": "https://stackoverflow.com/questions/34913005/color-space-mapping-ycbcr-to-rgb/34913974#34913974", "title": "Color Space Mapping YCbCr to RGB", "body": "<p>You have to do your intermediate calculations in floating point. The posterization should tip you off; you have a lot of \"hot\" (saturated) pixels. </p>\n\n<pre class=\"lang-py prettyprint-override\"><code>def rgb2ycbcr(im):\n    xform = np.array([[.299, .587, .114], [-.1687, -.3313, .5], [.5, -.4187, -.0813]])\n    ycbcr = im.dot(xform.T)\n    ycbcr[:,:,[1,2]] += 128\n    return np.uint8(ycbcr)\n\ndef ycbcr2rgb(im):\n    xform = np.array([[1, 0, 1.402], [1, -0.34414, -.71414], [1, 1.772, 0]])\n    rgb = im.astype(np.float)\n    rgb[:,:,[1,2]] -= 128\n    rgb = rgb.dot(xform.T)\n    np.putmask(rgb, rgb &gt; 255, 255)\n    np.putmask(rgb, rgb &lt; 0, 0)\n    return np.uint8(rgb)\n</code></pre>\n"}], "owner": {"reputation": 963, "user_id": 5231637, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/2cd12e90cf389349baecb192ace9e312?s=128&d=identicon&r=PG&f=1", "display_name": "yc2986", "link": "https://stackoverflow.com/users/5231637/yc2986"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 13006, "favorite_count": 1, "accepted_answer_id": 34913974, "answer_count": 1, "score": 5, "last_activity_date": 1520874551, "creation_date": 1453334396, "question_id": 34913005, "link": "https://stackoverflow.com/questions/34913005/color-space-mapping-ycbcr-to-rgb", "title": "Color Space Mapping YCbCr to RGB", "body": "<p>I am experimenting with JPEG compression using python. I load in a tiff image and store it as numpy uint8 RGB array. I was doing this for color mapping.</p>\n\n<pre><code>def rgb2ycbcr(im):\n    cbcr = np.empty_like(im)\n    r = im[:,:,0]\n    g = im[:,:,1]\n    b = im[:,:,2]\n    # Y\n    cbcr[:,:,0] = .299 * r + .587 * g + .114 * b\n    # Cb\n    cbcr[:,:,1] = 128 - .169 * r - .331 * g + .5 * b\n    # Cr\n    cbcr[:,:,2] = 128 + .5 * r - .419 * g - .081 * b\n    return np.uint8(cbcr)\n\ndef ycbcr2rgb(im):\n    rgb = np.empty_like(im)\n    y   = im[:,:,0]\n    cb  = im[:,:,1] - 128\n    cr  = im[:,:,2] - 128\n    # R\n    rgb[:,:,0] = y + 1.402 * cr\n    # G\n    rgb[:,:,1] = y - .34414 * cb - .71414 * cr\n    # B\n    rgb[:,:,2] = y + 1.772 * cb\n    return np.uint8(rgb)\n</code></pre>\n\n<p>I did a simple RGB to YCbCr transformation followed with a inverse transformation.</p>\n\n<pre><code>img = rgb2ycbcr(img)\nimshow(img)\nimg = ycbcr2rgb(img)\nimshow(img)\n</code></pre>\n\n<p>I got these two output image as YCbCr and RGB output after the color space transformation.\n<a href=\"https://i.stack.imgur.com/Soxi9.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Soxi9.png\" alt=\"YCbCr\"></a>\n<a href=\"https://i.stack.imgur.com/GR7KQ.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/GR7KQ.png\" alt=\"RGB\"></a></p>\n\n<p>It seems that something is wrong with my color conversion and I cannot figure out what is wrong. I was using the JPEG color space conversion provided by\n<a href=\"https://en.wikipedia.org/wiki/YCbCr\" rel=\"noreferrer\">Wikipedia</a>. Thanks you for the help.</p>\n"}, {"tags": ["python", "django", "celery", "kombu"], "answers": [{"comments": [{"owner": {"reputation": 991, "user_id": 1849805, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/4509c5dfb4baf75b4da654ac90d94a4c?s=128&d=identicon&r=PG", "display_name": "Vic Nicethemer", "link": "https://stackoverflow.com/users/1849805/vic-nicethemer"}, "edited": false, "score": 0, "creation_date": 1453485563, "post_id": 34919401, "comment_id": 57637791, "body": "The problem is that if i replace all json to pickle in settings it refuse to process task because of security"}, {"owner": {"reputation": 10636, "user_id": 473285, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43104ddb820312e46db67150c77ae94b?s=128&d=identicon&r=PG", "display_name": "scytale", "link": "https://stackoverflow.com/users/473285/scytale"}, "reply_to_user": {"reputation": 991, "user_id": 1849805, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/4509c5dfb4baf75b4da654ac90d94a4c?s=128&d=identicon&r=PG", "display_name": "Vic Nicethemer", "link": "https://stackoverflow.com/users/1849805/vic-nicethemer"}, "edited": false, "score": 0, "creation_date": 1453717921, "post_id": 34919401, "comment_id": 57708831, "body": "sorry -that&#39;s not making much sense. what do you mean &quot;because of security&quot;? can you post the error message, if any?"}, {"owner": {"reputation": 991, "user_id": 1849805, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/4509c5dfb4baf75b4da654ac90d94a4c?s=128&d=identicon&r=PG", "display_name": "Vic Nicethemer", "link": "https://stackoverflow.com/users/1849805/vic-nicethemer"}, "edited": false, "score": 0, "creation_date": 1453893887, "post_id": 34919401, "comment_id": 57796431, "body": "the same ting as in this question <a href=\"http://stackoverflow.com/questions/27578235/pickle-is-refusing-to-serialize-content-with-celery-reporting-contentdisallowed\" title=\"pickle is refusing to serialize content with celery reporting contentdisallowed\">stackoverflow.com/questions/27578235/&hellip;</a>  The solution there provided did not help me"}, {"owner": {"reputation": 10636, "user_id": 473285, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43104ddb820312e46db67150c77ae94b?s=128&d=identicon&r=PG", "display_name": "scytale", "link": "https://stackoverflow.com/users/473285/scytale"}, "reply_to_user": {"reputation": 991, "user_id": 1849805, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/4509c5dfb4baf75b4da654ac90d94a4c?s=128&d=identicon&r=PG", "display_name": "Vic Nicethemer", "link": "https://stackoverflow.com/users/1849805/vic-nicethemer"}, "edited": false, "score": 0, "creation_date": 1453895919, "post_id": 34919401, "comment_id": 57797841, "body": "hang on - are you trying to return python objects in your results? this seems like a bad idea - have you tried re-structuring your code so that you do not pass objects - this will allow you to use only json"}, {"owner": {"reputation": 991, "user_id": 1849805, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/4509c5dfb4baf75b4da654ac90d94a4c?s=128&d=identicon&r=PG", "display_name": "Vic Nicethemer", "link": "https://stackoverflow.com/users/1849805/vic-nicethemer"}, "edited": false, "score": 0, "creation_date": 1453898196, "post_id": 34919401, "comment_id": 57799506, "body": "no, in return of my task no python or django objects, simple dict. I save django model in this task. So its impossible to rewrite code, i i think right solution is not to hand-made hacking django object to json"}, {"owner": {"reputation": 10636, "user_id": 473285, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43104ddb820312e46db67150c77ae94b?s=128&d=identicon&r=PG", "display_name": "scytale", "link": "https://stackoverflow.com/users/473285/scytale"}, "reply_to_user": {"reputation": 991, "user_id": 1849805, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/4509c5dfb4baf75b4da654ac90d94a4c?s=128&d=identicon&r=PG", "display_name": "Vic Nicethemer", "link": "https://stackoverflow.com/users/1849805/vic-nicethemer"}, "edited": false, "score": 0, "creation_date": 1453898610, "post_id": 34919401, "comment_id": 57799782, "body": "I don&#39;t understand what you mean &quot;not to hand-made hacking django object to json&quot;. somewhere your code is trying to pass python objects as  celery results - that is what the traceback in your exception shows. you should probably not do this."}], "tags": [], "owner": {"reputation": 10636, "user_id": 473285, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43104ddb820312e46db67150c77ae94b?s=128&d=identicon&r=PG", "display_name": "scytale", "link": "https://stackoverflow.com/users/473285/scytale"}, "is_accepted": false, "score": 1, "last_activity_date": 1453367280, "creation_date": 1453367280, "answer_id": 34919401, "question_id": 34912918, "link": "https://stackoverflow.com/questions/34912918/kombu-exceptions-encodeerror-vkwallpost-vkwallpost-object-is-not-json-s/34919401#34919401", "title": "kombu.exceptions.EncodeError: [&lt;Vkwallpost: Vkwallpost object&gt; ... is not JSON serializable - only on localhost", "body": "<p>Objects are not JSON serializable. If the serialisation succeeds on Linux this indicates that you are probably using the <code>pickle</code> serialisation method there.</p>\n\n<p>I would suggest using the <code>pickle</code> serialization method in Windows by specifying it explicitly using one of the methods mentioned <a href=\"http://docs.celeryproject.org/en/latest/userguide/calling.html#serializers\" rel=\"nofollow\">here</a>.</p>\n"}], "owner": {"reputation": 991, "user_id": 1849805, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/4509c5dfb4baf75b4da654ac90d94a4c?s=128&d=identicon&r=PG", "display_name": "Vic Nicethemer", "link": "https://stackoverflow.com/users/1849805/vic-nicethemer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3122, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1453367280, "creation_date": 1453333885, "question_id": 34912918, "link": "https://stackoverflow.com/questions/34912918/kombu-exceptions-encodeerror-vkwallpost-vkwallpost-object-is-not-json-s", "title": "kombu.exceptions.EncodeError: [&lt;Vkwallpost: Vkwallpost object&gt; ... is not JSON serializable - only on localhost", "body": "<p>I am using Django + Celery + Kombu + rabbitmq: my task is successfully completed on server (Ubuntu 14.04)</p>\n\n<pre><code>[2016-01-21 02:29:05,027: INFO/MainProcess] Task vk_wall.tasks.get_wallposts_by_owner_id[cbdfbdf7-1f01-4cf1-bd5a-77fae7a07003] succeeded in 7.826467196922749s: [&lt;Vkwallpost: Vkwallpost object&gt;, &lt;Vkwallpost: Vkwallpost object&gt;, &lt;Vkwallpost: Vkwallpost object&gt;, &lt;Vkwallpost: Vkwallpost...\n</code></pre>\n\n<p>but on localhost (Windows 7) with the same settings raises an error:</p>\n\n<pre><code>[2016-01-21 02:34:54,296: ERROR/MainProcess] Task vk_wall.tasks.get_wallposts_by_owner_id[5ecbf611-15d7-4b75-ac8e-2575b5dc869a] raised unexpected: EncodeError(TypeError(TypeError(\"[&lt;Vkwallpost: Vkwallpost object&gt;, &lt;Vkwallpost: Vkwallpost object&gt;, &lt;Vkwallpost: Vkwallpost object&gt;, &lt;Vkwallpost: Vkwallpost object&gt;, &lt;Vkwallpost: Vkwallpost object&gt;, &lt;Vkwallpost: Vkwallpost object&gt;, '...(remaining elements truncated)...'] is not JSON serializable\",),),)\nTraceback (most recent call last):\n  File \"M:\\WinPython-64bit-3.4.3.2\\python-3.4.3.amd64\\lib\\site-packages\\celery\\app\\trace.py\", line 283, in trace_task\n    uuid, retval, SUCCESS, request=task_request,\n  File \"M:\\WinPython-64bit-3.4.3.2\\python-3.4.3.amd64\\lib\\site-packages\\celery\\backends\\amqp.py\", line 136, in store_result\n    delivery_mode=self.delivery_mode,\n  File \"M:\\WinPython-64bit-3.4.3.2\\python-3.4.3.amd64\\lib\\site-packages\\kombu\\messaging.py\", line 165, in publish\n    compression, headers)\n  File \"M:\\WinPython-64bit-3.4.3.2\\python-3.4.3.amd64\\lib\\site-packages\\kombu\\messaging.py\", line 241, in _prepare\n    body) = dumps(body, serializer=serializer)\n  File \"M:\\WinPython-64bit-3.4.3.2\\python-3.4.3.amd64\\lib\\site-packages\\kombu\\serialization.py\", line 164, in dumps\n    payload = encoder(data)\n  File \"M:\\WinPython-64bit-3.4.3.2\\python-3.4.3.amd64\\lib\\contextlib.py\", line 77, in __exit__\n    self.gen.throw(type, value, traceback)\n  File \"M:\\WinPython-64bit-3.4.3.2\\python-3.4.3.amd64\\lib\\site-packages\\kombu\\serialization.py\", line 59, in _reraise_errors\n    reraise(wrapper, wrapper(exc), sys.exc_info()[2])\n  File \"M:\\WinPython-64bit-3.4.3.2\\python-3.4.3.amd64\\lib\\site-packages\\kombu\\five.py\", line 131, in reraise\n    raise value.with_traceback(tb)\n  File \"M:\\WinPython-64bit-3.4.3.2\\python-3.4.3.amd64\\lib\\site-packages\\kombu\\serialization.py\", line 55, in _reraise_errors\n    yield\n  File \"M:\\WinPython-64bit-3.4.3.2\\python-3.4.3.amd64\\lib\\site-packages\\kombu\\serialization.py\", line 164, in dumps\n    payload = encoder(data)\n  File \"M:\\WinPython-64bit-3.4.3.2\\python-3.4.3.amd64\\lib\\site-packages\\anyjson\\__init__.py\", line 141, in dumps\n    return implementation.dumps(value)\n  File \"M:\\WinPython-64bit-3.4.3.2\\python-3.4.3.amd64\\lib\\site-packages\\anyjson\\__init__.py\", line 89, in dumps\n    raise TypeError(TypeError(*exc.args)).with_traceback(sys.exc_info()[2])\n  File \"M:\\WinPython-64bit-3.4.3.2\\python-3.4.3.amd64\\lib\\site-packages\\anyjson\\__init__.py\", line 87, in dumps\n    return self._encode(data)\n  File \"M:\\WinPython-64bit-3.4.3.2\\python-3.4.3.amd64\\lib\\site-packages\\simplejson\\__init__.py\", line 370, in dumps\n    return _default_encoder.encode(obj)\n  File \"M:\\WinPython-64bit-3.4.3.2\\python-3.4.3.amd64\\lib\\site-packages\\simplejson\\encoder.py\", line 269, in encode\n    chunks = self.iterencode(o, _one_shot=True)\n  File \"M:\\WinPython-64bit-3.4.3.2\\python-3.4.3.amd64\\lib\\site-packages\\simplejson\\encoder.py\", line 348, in iterencode\n    return _iterencode(o, 0)\n  File \"M:\\WinPython-64bit-3.4.3.2\\python-3.4.3.amd64\\lib\\site-packages\\simplejson\\encoder.py\", line 246, in default\n    raise TypeError(repr(o) + \" is not JSON serializable\")\nkombu.exceptions.EncodeError: [&lt;Vkwallpost: Vkwallpost object&gt;, &lt;Vkwallpost: Vkwallpost object&gt;, &lt;Vkwallpost: Vkwallpost object&gt;, &lt;Vkwallpost: Vkwallpost object&gt;, &lt;Vkwallpost: Vkwallpost object&gt;, &lt;Vkwallpost: Vkwallpost object&gt;, '...(remaining elements truncated)...'] is not JSON serializable\n</code></pre>\n\n<p>So task marked as not completed, but actually task do all things i need.\nI reviewed answers on similar questions: my task returns dict i.e. {'success': success}. It seems, that it try to serialize Vkwallpost objects which is Django model instance, but why.</p>\n\n<p>my settings.py:</p>\n\n<pre><code>#BROKER_URL = 'amqp://guest:guest@localhost//'\nBROKER_URL = 'django://'\n\n#: Only add pickle to this list if your broker is secured\n#: from unwanted access (see userguide/security.html)\nCELERY_ACCEPT_CONTENT = ['json', 'pickle']\nCELERY_TASK_RESULT_EXPIRES=3600\n#CELERY_RESULT_BACKEND='amqp'\nCELERY_RESULT_BACKEND='djcelery.backends.database:DatabaseBackend'\n# postgresql\n#CELERY_RESULT_BACKEND = 'db+postgresql://postgres:111222@localhost/graphgrail'\n#CELERY_RESULT_BACKEND='djcelery.backends.cache:CacheBackend',\nCELERY_RESULT_SERIALIZER = 'json' #json pickle msgpack\nCELERY_TASK_SERIALIZER = 'json'\nCELERY_IMPORTS=[\"vk_wall.tasks\"]\n</code></pre>\n"}, {"tags": ["python", "html", "twitter", "web-scraping", "beautifulsoup"], "comments": [{"owner": {"reputation": 23551, "user_id": 2581969, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/G3tIW.png?s=128&g=1", "display_name": "roippi", "link": "https://stackoverflow.com/users/2581969/roippi"}, "edited": false, "score": 1, "creation_date": 1453334083, "post_id": 34912889, "comment_id": 57561343, "body": "<i>Thank you</i> for a) knowing that twitter has an API and b) explaining why you&#39;re not using it."}], "answers": [{"comments": [{"owner": {"reputation": 331, "user_id": 3594094, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/dT0DA.jpg?s=128&g=1", "display_name": "David Beales", "link": "https://stackoverflow.com/users/3594094/david-beales"}, "edited": false, "score": 0, "creation_date": 1453391228, "post_id": 34913274, "comment_id": 57589575, "body": "Thank you.  That solves the first part of my problem.  I will go back to working on this now that I&#39;m actually scraping the site and start a new question if I run into different problems."}], "tags": [], "owner": {"reputation": 46, "user_id": 5818599, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c27f0fa43634eda8de0d3249eb5647f?s=128&d=identicon&r=PG&f=1", "display_name": "David Moodie", "link": "https://stackoverflow.com/users/5818599/david-moodie"}, "is_accepted": true, "score": 2, "last_activity_date": 1453335982, "creation_date": 1453335982, "answer_id": 34913274, "question_id": 34912889, "link": "https://stackoverflow.com/questions/34912889/using-python-to-scrape-nested-divs-and-spans-in-twitter/34913274#34913274", "title": "Using Python to Scrape Nested Divs and Spans in Twitter?", "body": "<p>It seems that your GET request returns valid HTML but with no tweet elements in the #timeline element. However, adding a user agent to the request headers seems to remedy this.</p>\n\n<pre><code>from bs4 import BeautifulSoup\nimport requests\n\nurl = 'https://twitter.com/search?q=%23bangkokbombing%20since%3A2015-08-10%20until%3A2015-09-30&amp;src=typd&amp;lang=en'\nheaders = {'User-Agent': 'Mozilla/5.0 (Windows NT 6.1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/41.0.2228.0 Safari/537.36'}\nr = requests.get(url, headers=headers)\ndata = r.text\nsoup = BeautifulSoup(data, \"lxml\")\nall_likes = soup.find_all('span', class_='ProfileTweet-actionCountForPresentation')\nprint(all_likes)\n</code></pre>\n"}], "owner": {"reputation": 331, "user_id": 3594094, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/dT0DA.jpg?s=128&g=1", "display_name": "David Beales", "link": "https://stackoverflow.com/users/3594094/david-beales"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1153, "favorite_count": 3, "accepted_answer_id": 34913274, "answer_count": 1, "score": 4, "last_activity_date": 1453335982, "creation_date": 1453333753, "last_edit_date": 1495542658, "question_id": 34912889, "link": "https://stackoverflow.com/questions/34912889/using-python-to-scrape-nested-divs-and-spans-in-twitter", "title": "Using Python to Scrape Nested Divs and Spans in Twitter?", "body": "<p>I'm trying to scrape the likes and retweets from the results of a Twitter search.  </p>\n\n<p>After running the Python below, I get an empty list, <code>[]</code>.  I'm not using the Twitter API because it doesn't look at the tweets by hashtag this far back.  </p>\n\n<p>The code I'm using is:</p>\n\n<pre><code>from bs4 import BeautifulSoup\nimport requests\n\nurl = 'https://twitter.com/search?q=%23bangkokbombing%20since%3A2015-08-10%20until%3A2015-09-30&amp;src=typd&amp;lang=en'\nr  = requests.get(url)\ndata = r.text\nsoup = BeautifulSoup(data, \"lxml\")\nall_likes = soup.find_all('span', class_='ProfileTweet-actionCountForPresentation')\nprint(all_likes)\n</code></pre>\n\n<p>I can successfully save the html to file using this code.  It is missing large amounts of information when I search the text, such as the class names I am looking for...  </p>\n\n<p>So (part of) the problem is apparently in accurately accessing the source code. </p>\n\n<pre><code> filename = 'newfile2.txt'\n with open(filename, 'w') as handle:\n      handle.writelines(str(data))\n</code></pre>\n\n<p>This screenshot shows the span that I'm trying to scrape.</p>\n\n<p><a href=\"https://i.stack.imgur.com/2svmr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2svmr.png\" alt=\"Screenshot of exactly the span and content I am trying to scrape.\"></a></p>\n\n<p>I've looked at this question, and others like it, but I'm not quite getting there.<br>\n<a href=\"https://stackoverflow.com/questions/27355051/how-can-i-use-beautifulsoup-to-get-deeply-nested-div-values\">How can I use BeautifulSoup to get deeply nested div values?</a></p>\n"}, {"tags": ["python", "arrays", "for-loop"], "comments": [{"owner": {"reputation": 49301, "user_id": 3100115, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/46d2b7e69a0a4a82fefdd01a8cf476bd?s=128&d=identicon&r=PG&f=1", "display_name": "styvane", "link": "https://stackoverflow.com/users/3100115/styvane"}, "edited": false, "score": 0, "creation_date": 1453333628, "post_id": 34912832, "comment_id": 57561188, "body": "What are you trying to achieve here? why name your variable <code>list</code>?"}, {"owner": {"reputation": 156940, "user_id": 416467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/32cad7487ccecc3740a62e797fc326dc?s=128&d=identicon&r=PG", "display_name": "kindall", "link": "https://stackoverflow.com/users/416467/kindall"}, "edited": false, "score": 0, "creation_date": 1453333791, "post_id": 34912832, "comment_id": 57561243, "body": "What do you mean by &quot;pass a list of words into a <code>for</code> loop&quot;? You don&#39;t pass things into loops. What do you mean by &quot;work&quot;\u2014what exactly are you trying to do with the (invalid) code that you posted, and where are you getting stuck?"}], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 5786703, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206908867098045/picture?type=large", "display_name": "Kiril Alex Ballow", "link": "https://stackoverflow.com/users/5786703/kiril-alex-ballow"}, "edited": false, "score": 0, "creation_date": 1453333884, "post_id": 34912861, "comment_id": 57561276, "body": "perfect! thanks so much, going to mark right when timelimit passes"}, {"owner": {"reputation": 26111, "user_id": 2750492, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fTVM8.jpg?s=128&g=1", "display_name": "AChampion", "link": "https://stackoverflow.com/users/2750492/achampion"}, "edited": false, "score": 2, "creation_date": 1453334407, "post_id": 34912861, "comment_id": 57561464, "body": "Curious as to why this has been downvoted - seems to answer the question."}, {"owner": {"reputation": 18468, "user_id": 5299236, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/KtXnq.jpg?s=128&g=1", "display_name": "Casimir Crystal", "link": "https://stackoverflow.com/users/5299236/casimir-crystal"}, "edited": false, "score": 1, "creation_date": 1453335604, "post_id": 34912861, "comment_id": 57561828, "body": "Hmm...there&#39;s 2 downvotes...probably because this is a code-only answer. rtemperv, code-only answers (means there&#39;s only a (working) code in the answer) aren&#39;t very helpful. Please explain &quot;How and why does your code work, and why doesn&#39;t OP&#39;s code work (sometimes)&quot; ."}, {"owner": {"reputation": 156940, "user_id": 416467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/32cad7487ccecc3740a62e797fc326dc?s=128&d=identicon&r=PG", "display_name": "kindall", "link": "https://stackoverflow.com/users/416467/kindall"}, "edited": false, "score": 0, "creation_date": 1453340136, "post_id": 34912861, "comment_id": 57563132, "body": "I originally downvoted it because you didn&#39;t add the colon. I reversed this, although you call it a semicolon."}, {"owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "edited": false, "score": 0, "creation_date": 1453340770, "post_id": 34912861, "comment_id": 57563314, "body": "Usual request: Fix bad (read: builtin stomping) variable names when you&#39;re fixing code. A variable named <code>list</code> is a headache waiting to happen."}, {"owner": {"reputation": 645, "user_id": 2259420, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/cbc370fcd1422255fedf65876c839223?s=128&d=identicon&r=PG", "display_name": "rtemperv", "link": "https://stackoverflow.com/users/2259420/rtemperv"}, "edited": false, "score": 0, "creation_date": 1453366217, "post_id": 34912861, "comment_id": 57572211, "body": "Updated the answer accordingly"}], "tags": [], "owner": {"reputation": 645, "user_id": 2259420, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/cbc370fcd1422255fedf65876c839223?s=128&d=identicon&r=PG", "display_name": "rtemperv", "link": "https://stackoverflow.com/users/2259420/rtemperv"}, "is_accepted": true, "score": 5, "last_activity_date": 1453366140, "last_edit_date": 1453366140, "creation_date": 1453333605, "answer_id": 34912861, "question_id": 34912832, "link": "https://stackoverflow.com/questions/34912832/python-how-to-pass-array-value-into-file-open-request/34912861#34912861", "title": "python how to pass array value into file open request", "body": "<p>This should do it:</p>\n\n<pre><code>word_list = ['word1','word2','word3']\nfor x in word_list:\n    with open('folder/{x}.txt'.format(x=x)) as fin:\n         do something()\n</code></pre>\n\n<p>The two changes I made:</p>\n\n<ul>\n<li>Add a forgotten colon after the for statement</li>\n<li>Add <code>.format(x=x)</code> to the string. This is python's <a href=\"https://docs.python.org/2/library/string.html#string-formatting\" rel=\"nofollow\">string interpolation</a> mechanism</li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 1941, "user_id": 5186820, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/3054407a607bcfc6f7203280afd0aceb?s=128&d=identicon&r=PG&f=1", "display_name": "Brian", "link": "https://stackoverflow.com/users/5186820/brian"}, "is_accepted": false, "score": -1, "last_activity_date": 1453333685, "creation_date": 1453333685, "answer_id": 34912876, "question_id": 34912832, "link": "https://stackoverflow.com/questions/34912832/python-how-to-pass-array-value-into-file-open-request/34912876#34912876", "title": "python how to pass array value into file open request", "body": "<p>You are missing a colon.  The <code>with</code> clause needs some work, as well.  Here's how to fix the colon part at the end of the <code>for</code> loop:</p>\n\n<pre><code>list = ['word1','word2','word3']\nfor x in list:\n    print(x)\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 5786703, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206908867098045/picture?type=large", "display_name": "Kiril Alex Ballow", "link": "https://stackoverflow.com/users/5786703/kiril-alex-ballow"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 176, "favorite_count": 0, "accepted_answer_id": 34912861, "answer_count": 2, "score": -1, "last_activity_date": 1453366140, "creation_date": 1453333472, "question_id": 34912832, "link": "https://stackoverflow.com/questions/34912832/python-how-to-pass-array-value-into-file-open-request", "title": "python how to pass array value into file open request", "body": "<p>Hi guys I want to be able to pass a list of words into a for loop, how can I make the code below work</p>\n\n<pre><code>list = ['word1','word2','word3']\nfor x in list\n      with open('folder/{x}.txt') as fin:\n      do something()\n</code></pre>\n"}, {"tags": ["python", "installation", "pip", "upgrade", "six"], "comments": [{"owner": {"reputation": 1726, "user_id": 2088703, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/1754352a162c37ff92cd1d3d5e06e3fb?s=128&d=identicon&r=PG", "display_name": "Zoltan Fedor", "link": "https://stackoverflow.com/users/2088703/zoltan-fedor"}, "edited": false, "score": 0, "creation_date": 1453333657, "post_id": 34912784, "comment_id": 57561198, "body": "You can always go to .../python2.7/site-packages/ and manually remove the folder of the six package."}, {"owner": {"reputation": 7701, "user_id": 3391108, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/I9Ljy.jpg?s=128&g=1", "display_name": "tscizzle", "link": "https://stackoverflow.com/users/3391108/tscizzle"}, "reply_to_user": {"reputation": 1726, "user_id": 2088703, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/1754352a162c37ff92cd1d3d5e06e3fb?s=128&d=identicon&r=PG", "display_name": "Zoltan Fedor", "link": "https://stackoverflow.com/users/2088703/zoltan-fedor"}, "edited": false, "score": 0, "creation_date": 1453342960, "post_id": 34912784, "comment_id": 57563839, "body": "Mm, nice. Good call. I thought of that but is there a way to know what to remove manually?"}, {"owner": {"reputation": 1726, "user_id": 2088703, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/1754352a162c37ff92cd1d3d5e06e3fb?s=128&d=identicon&r=PG", "display_name": "Zoltan Fedor", "link": "https://stackoverflow.com/users/2088703/zoltan-fedor"}, "edited": false, "score": 0, "creation_date": 1453344267, "post_id": 34912784, "comment_id": 57564152, "body": "Yes. Search for the &quot;site-packages&quot; folder and then you should find where your python 2.7 stores its modules. It should be in the form of ..../python2.7/site-packages/  In this folder you will find a subfolder called six and potentially another folder for six egg info. Delete both and that is it."}, {"owner": {"reputation": 7701, "user_id": 3391108, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/I9Ljy.jpg?s=128&g=1", "display_name": "tscizzle", "link": "https://stackoverflow.com/users/3391108/tscizzle"}, "reply_to_user": {"reputation": 1726, "user_id": 2088703, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/1754352a162c37ff92cd1d3d5e06e3fb?s=128&d=identicon&r=PG", "display_name": "Zoltan Fedor", "link": "https://stackoverflow.com/users/2088703/zoltan-fedor"}, "edited": false, "score": 0, "creation_date": 1453387547, "post_id": 34912784, "comment_id": 57587011, "body": "I have these files in my site-packages: <code>six-1.10.0.dist-info</code>, <code>six-1.9.0.dist-info</code>, <code>six.py</code>, <code>six.pyc</code> Are they all safe to remove?"}, {"owner": {"reputation": 1726, "user_id": 2088703, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/1754352a162c37ff92cd1d3d5e06e3fb?s=128&d=identicon&r=PG", "display_name": "Zoltan Fedor", "link": "https://stackoverflow.com/users/2088703/zoltan-fedor"}, "edited": false, "score": 0, "creation_date": 1453397532, "post_id": 34912784, "comment_id": 57593895, "body": "Yes, they are. I mean &quot;safe&quot; - you are nuking the six module, so it is as safe as not having a six module can be safe. For example if you have some other packages depending on the six module, then they won&#39;t work anymore, but assuming your goal in nuking the six module is to reinstall it immediately, then yes, it is &quot;safe&quot;."}, {"owner": {"reputation": 7701, "user_id": 3391108, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/I9Ljy.jpg?s=128&g=1", "display_name": "tscizzle", "link": "https://stackoverflow.com/users/3391108/tscizzle"}, "reply_to_user": {"reputation": 1726, "user_id": 2088703, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/1754352a162c37ff92cd1d3d5e06e3fb?s=128&d=identicon&r=PG", "display_name": "Zoltan Fedor", "link": "https://stackoverflow.com/users/2088703/zoltan-fedor"}, "edited": false, "score": 1, "creation_date": 1453397587, "post_id": 34912784, "comment_id": 57593929, "body": "@ZoltanFedor sweet. see my EDIT 2? i just removed those, but turns out the existing <code>six</code> is not coming from site-packages. There&#39;s another one, but it&#39;s not letting me remove."}, {"owner": {"reputation": 1726, "user_id": 2088703, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/1754352a162c37ff92cd1d3d5e06e3fb?s=128&d=identicon&r=PG", "display_name": "Zoltan Fedor", "link": "https://stackoverflow.com/users/2088703/zoltan-fedor"}, "edited": false, "score": 0, "creation_date": 1453397805, "post_id": 34912784, "comment_id": 57594065, "body": "Those files in your EDIT 2 are definitely for the SIX package. You should be able to remove them as admin, if not, then the usual filesystem troubleshooting: 1. checking your rights, 2. checking file permissions, 3. checking locks, 4. checking disk integrity, etc. I don&#39;t use Mac, so I can&#39;t help you with how to get these down on a Mac, but these are standard things you can do in every OS when you want to delete a file and you are not &quot;allowed&quot;."}], "answers": [{"tags": [], "owner": {"reputation": 848, "user_id": 5667136, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/f9960a08b791ce05fa68979a8194777c?s=128&d=identicon&r=PG&f=1", "display_name": "MANA624", "link": "https://stackoverflow.com/users/5667136/mana624"}, "is_accepted": false, "score": 1, "last_activity_date": 1453333763, "creation_date": 1453333763, "answer_id": 34912892, "question_id": 34912784, "link": "https://stackoverflow.com/questions/34912784/python-cannot-upgrade-six-issue-uninstalling-previous-version/34912892#34912892", "title": "Python - Cannot upgrade six, issue uninstalling previous version", "body": "<p>I, too, have had some issues with installing modules, and I sometimes find that it helps just to start over. In this case, it looks like you already have some of the 'six' module, but isn't properly set up, so if sudo pip uninstall six yields the same thing, go into your directory and manually delete anything related to six, and then try installing it. You may have to do some digging where you have your modules are stored (or have been stored, as pip can find them in different locations).</p>\n"}, {"comments": [{"owner": {"reputation": 1280, "user_id": 506511, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/jF52y.jpg?s=128&g=1", "display_name": "Talia", "link": "https://stackoverflow.com/users/506511/talia"}, "edited": false, "score": 2, "creation_date": 1453390177, "post_id": 34919316, "comment_id": 57588879, "body": "It looks as though it was an intended change in behavior (from warning to fatal error) rather than a bug (see <a href=\"https://github.com/pypa/pip/issues/3384\" rel=\"nofollow noreferrer\">github.com/pypa/pip/issues/3384</a>)."}], "tags": [], "owner": {"reputation": 389, "user_id": 765086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/582427656a3a615933f77f39a34cd81c?s=128&d=identicon&r=PG", "display_name": "Amos", "link": "https://stackoverflow.com/users/765086/amos"}, "is_accepted": false, "score": 4, "last_activity_date": 1453366998, "creation_date": 1453366998, "answer_id": 34919316, "question_id": 34912784, "link": "https://stackoverflow.com/questions/34912784/python-cannot-upgrade-six-issue-uninstalling-previous-version/34919316#34919316", "title": "Python - Cannot upgrade six, issue uninstalling previous version", "body": "<p>Looks like a known bug in pip 8, which is now being fixed (see  <a href=\"https://review.openstack.org/#/c/260150/\" rel=\"nofollow noreferrer\">Change 260150 </a>)</p>\n\n<p>Until this is resolved you can downgrade to pip 7.1.2</p>\n"}], "owner": {"reputation": 7701, "user_id": 3391108, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/I9Ljy.jpg?s=128&g=1", "display_name": "tscizzle", "link": "https://stackoverflow.com/users/3391108/tscizzle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5867, "favorite_count": 1, "closed_date": 1453395530, "answer_count": 2, "score": 5, "last_activity_date": 1453396401, "creation_date": 1453333208, "last_edit_date": 1453396401, "question_id": 34912784, "link": "https://stackoverflow.com/questions/34912784/python-cannot-upgrade-six-issue-uninstalling-previous-version", "closed_reason": "Duplicate", "title": "Python - Cannot upgrade six, issue uninstalling previous version", "body": "<p>When I run <code>sudo pip install --upgrade six</code> I run into the issue below:</p>\n\n<p><code>2016-01-20 18:29:48|optim $ sudo pip install --upgrade six\n    Collecting six\n      Downloading six-1.10.0-py2.py3-none-any.whl\n    Installing collected packages: six\n      Found existing installation: six 1.4.1\n    Detected a distutils installed project ('six') which we cannot uninstall. The metadata provided by distutils does not contain a list of files which have been installed, so pip does not know which files to uninstall.\n</code></p>\n\n<p>I have Python 2.7, and I'm on Mac OS X 10.11.1.</p>\n\n<p>How can I make this upgrade successful?</p>\n\n<p>(There are other kind of related posts, but they do not actually have a solution to this same error.)</p>\n\n<p>EDIT:</p>\n\n<p>I am told I can remove <code>six</code> manually by removing things from <code>site-packages</code>. These are the files in <code>site-packages</code> that begin with <code>six</code>:</p>\n\n<p><code>six-1.10.0.dist-info</code>, <code>six-1.9.0.dist-info</code>, <code>six.py</code>, <code>six.py</code>.</p>\n\n<p>Are they all correct/safe to remove?</p>\n\n<p>EDIT2:</p>\n\n<p>I decided to remove those from <code>site-packages</code>, but it turns out the existing <code>six</code> that cannot be installed is actually in<br>\n<code>/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python</code>.<br>\nThere I see the files:<br>\n<code>six-1.4.1-py2.7.egg-info</code>, <code>six.py</code>, <code>six.pyc</code>\nbut doing <code>rm</code> on them (with <code>sudo</code>, even) gives <code>Operation not permitted</code>.\nSo <em>now</em> the question is, how can I remove <em>those</em> files, given where they are?</p>\n"}, {"tags": ["python", "python-2.7", "while-loop", "try-catch"], "comments": [{"owner": {"reputation": 5307, "user_id": 2372812, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/atrZ9.jpg?s=128&g=1", "display_name": "Tom Dalton", "link": "https://stackoverflow.com/users/2372812/tom-dalton"}, "edited": false, "score": 2, "creation_date": 1453332893, "post_id": 34912694, "comment_id": 57560946, "body": "If you want to retry in both cases, you can do <code>except (urllib2.URLError, httplib.IncompleteRead):</code> to handle both exceptions with the same code."}, {"owner": {"reputation": 262567, "user_id": 748858, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/17gYz.png?s=128&g=1", "display_name": "mgilson", "link": "https://stackoverflow.com/users/748858/mgilson"}, "edited": false, "score": 0, "creation_date": 1453333178, "post_id": 34912694, "comment_id": 57561052, "body": "&quot;There are a couple of obvious problems here&quot; -- These problems aren&#39;t obvious to us since you haven&#39;t actually described what the code is supposed to <i>do</i>.  e.g. what is supposed to happen if <code>URLError</code> is raised?  What happens if <code>IncompleteRead</code> is raised?"}], "answers": [{"tags": [], "owner": {"reputation": 262567, "user_id": 748858, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/17gYz.png?s=128&g=1", "display_name": "mgilson", "link": "https://stackoverflow.com/users/748858/mgilson"}, "is_accepted": false, "score": 3, "last_activity_date": 1453333257, "last_edit_date": 1453333257, "creation_date": 1453332915, "answer_id": 34912732, "question_id": 34912694, "link": "https://stackoverflow.com/questions/34912694/combining-while-not-with-try-except/34912732#34912732", "title": "Combining &#39;while not&#39; with try/except", "body": "<p>You can handle these cases with combinations of <code>continue</code> and <code>break</code> statements.  <code>continue</code> will jump back to the top of the while loop, <code>break</code> will jump out of the while loop.</p>\n\n<pre><code>def get_page(url):\n    response = None\n    while not response:\n        try:\n            response = urllib2.urlopen(url)\n        except urllib2.URLError:\n            continue  # No response, try again\n        except httplib.IncompleteRead:\n            print '**** IncompleteRead for response from %s, retrying' % url\n            break  # Bad response, don't try again?\n        html_parser = etree.HTMLParser()\n        tree = etree.parse(response, html_parser)\n        return tree\n</code></pre>\n\n<hr>\n\n<p>There are other flow control tools you could mix in here as well (like the <code>else</code> clause for <code>try</code> which gets executed only if an exeception <em>doesn't</em> happen in the block):</p>\n\n<pre><code>try:\n    pass\nexcept Exception as err:\n    print(\"Don't see this.\")\nelse:\n    print(\"You will see this.\")\n</code></pre>\n\n<p>as opposed to:</p>\n\n<pre><code>try:\n    raise Exception\nexcept Exception as err:\n    print(\"You will see this.\")\nelse:\n    print(\"Don't see this.\")\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 84953, "user_id": 1405065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5c422b239ab1f49d3f4fcff9e5df3cf?s=128&d=identicon&r=PG", "display_name": "Blckknght", "link": "https://stackoverflow.com/users/1405065/blckknght"}, "is_accepted": false, "score": 1, "last_activity_date": 1453337378, "creation_date": 1453337378, "answer_id": 34913503, "question_id": 34912694, "link": "https://stackoverflow.com/questions/34912694/combining-while-not-with-try-except/34913503#34913503", "title": "Combining &#39;while not&#39; with try/except", "body": "<p>I think you want to move the parsing out of the <code>while</code> loop, rather than into the <code>try</code> block. That way, you can keep looping trying to get a valid response, and only attempt to parse if the request was successful.</p>\n\n<pre><code>def get_page(url):\n    response = None\n    while not response:\n        try:\n            response = urllib2.urlopen(url)\n        except urllib2.URLError:\n            print '**** URLError for response from %s, retrying' % url\n        except httplib.IncompleteRead:\n            print '**** IncompleteRead for response from %s, retrying' % url\n\n    html_parser = etree.HTMLParser()\n    tree = etree.parse(response, html_parser)\n    return tree\n</code></pre>\n\n<p>I've also updated the <code>except</code> block for the <code>URLError</code> to work essentially the same as the <code>IncompeleteRead</code> block. I'm not actually sure if that's appropriate, since some <code>URLError</code>s might not be fixed by retrying (e.g. if the server doesn't exist, that probably won't change while you're retrying). If it should be a fatal error (fatal to this function, at least), you probably want to <code>raise</code> in that <code>except</code> block, rather than letting the loop continue. Here's a version that treats <code>URLErrors</code> more seriously than <code>IncompleteRead</code>s:</p>\n\n<pre><code>def get_page(url):\n    response = None\n    while not response:\n        try:\n            response = urllib2.urlopen(url)\n        except urllib2.URLError:\n            print '**** URLError for response from %s, giving up' % url\n            raise\n        except httplib.IncompleteRead:\n            print '**** IncompleteRead for response from %s, retrying' % url\n\n    html_parser = etree.HTMLParser()\n    tree = etree.parse(response, html_parser)\n    return tree\n</code></pre>\n\n<p>The <code>raise</code> keyword by itself (with no expression after it) re-raises the current exception. You could also raise a different error if that would make more sense in your application (e.g. a <code>ValueError</code>, to indicate that the provided URL was no good).</p>\n"}], "owner": {"reputation": 9809, "user_id": 1389110, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/80dbf8bedd0a04f4c971558bfd39ed04?s=128&d=identicon&r=PG", "display_name": "Pyderman", "link": "https://stackoverflow.com/users/1389110/pyderman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 528, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1453337378, "creation_date": 1453332716, "question_id": 34912694, "link": "https://stackoverflow.com/questions/34912694/combining-while-not-with-try-except", "title": "Combining &#39;while not&#39; with try/except", "body": "<p>I get a page with <code>urllib2</code>, then parse it with <code>lxml</code>. There are generally two things that can go wrong: a <code>urllib2.URLError</code>, or a <code>httplib.IncompleteRead</code></p>\n\n<pre><code>def get_page(url):\n    response = None\n    while not response:\n        try:\n            response = urllib2.urlopen(url)\n        except urllib2.URLError:\n            response = urllib2.urlopen(url)\n        except httplib.IncompleteRead:\n            print '**** IncompleteRead for response from %s, retrying' % url\n        html_parser = etree.HTMLParser()\n        tree = etree.parse(response, html_parser)\n        return tree\n</code></pre>\n\n<p>There are a couple of obvious problems here:</p>\n\n<ol>\n<li>The first <code>except</code> does the exact same thing as its preceding <code>try</code>.</li>\n<li>The parsing with <code>lxml</code> will be attempted whether we have a <code>response</code> or not.</li>\n</ol>\n\n<p>So: </p>\n\n<ol>\n<li>What needs to go in the first <code>except</code>? Is <code>pass</code> acceptable? </li>\n<li>My understanding is that only a single action should be attempted within a <code>try</code>, so I am loathe to move the parsing under there. Indeed a function itself should only perform a single action - does the parsing then belong in its own function?</li>\n</ol>\n"}, {"tags": ["python", "tkinter"], "comments": [{"owner": {"reputation": 1868, "user_id": 1362453, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f8ac2cc7e4e38841fb52ea58b4bf06ef?s=128&d=identicon&r=PG", "display_name": "Leo Brito", "link": "https://stackoverflow.com/users/1362453/leo-brito"}, "edited": false, "score": 0, "creation_date": 1453333263, "post_id": 34912682, "comment_id": 57561084, "body": "What exactly is the difficulty you are having?"}, {"owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 1, "creation_date": 1453335556, "post_id": 34912682, "comment_id": 57561814, "body": "Do you want the whole program (including the creation of the root window) as a single function?"}, {"owner": {"reputation": 65, "user_id": 5818567, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-kZJNIPUvIds/AAAAAAAAAAI/AAAAAAAAEdM/K-GFFNURag8/photo.jpg?sz=128", "display_name": "Oliver Dudgeon", "link": "https://stackoverflow.com/users/5818567/oliver-dudgeon"}, "edited": false, "score": 0, "creation_date": 1453380970, "post_id": 34912682, "comment_id": 57582220, "body": "I can&#39;t just add a return to to my code so to make it a function as it returns an empty list."}, {"owner": {"reputation": 65, "user_id": 5818567, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-kZJNIPUvIds/AAAAAAAAAAI/AAAAAAAAEdM/K-GFFNURag8/photo.jpg?sz=128", "display_name": "Oliver Dudgeon", "link": "https://stackoverflow.com/users/5818567/oliver-dudgeon"}, "edited": false, "score": 0, "creation_date": 1453381060, "post_id": 34912682, "comment_id": 57582293, "body": "Well as I want to be able to call this at several times in my program, yes create a new window each time it is called. But I could just put the window initialization around the function call."}, {"owner": {"reputation": 541, "user_id": 5678325, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7adec05602a8899beda24e1e69390687?s=128&d=identicon&r=PG", "display_name": "oystein-hr", "link": "https://stackoverflow.com/users/5678325/oystein-hr"}, "edited": false, "score": 0, "creation_date": 1453387437, "post_id": 34912682, "comment_id": 57586924, "body": "Is this the only GUI you use, or is it in addition to an existing GUI? You&#39;ll need to use something like <a href=\"http://effbot.org/tkinterbook/toplevel.htm\" rel=\"nofollow noreferrer\">TopLevel</a> if it is in addition to existing GUI."}], "answers": [{"comments": [{"owner": {"reputation": 65, "user_id": 5818567, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-kZJNIPUvIds/AAAAAAAAAAI/AAAAAAAAEdM/K-GFFNURag8/photo.jpg?sz=128", "display_name": "Oliver Dudgeon", "link": "https://stackoverflow.com/users/5818567/oliver-dudgeon"}, "edited": false, "score": 0, "creation_date": 1453409380, "post_id": 34927141, "comment_id": 57600764, "body": "Thanks this is absolutely perfect. Wish I had known about wait_window() before starting to write my program. It would have been very useful. Now I can tidy up the rest of the code."}], "tags": [], "owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "is_accepted": true, "score": 1, "last_activity_date": 1453388479, "creation_date": 1453388479, "answer_id": 34927141, "question_id": 34912682, "link": "https://stackoverflow.com/questions/34912682/trying-to-produce-function-for-a-custom-number-of-tkinter-entry-fields/34927141#34927141", "title": "Trying to produce function for a custom number of tkinter Entry fields.", "body": "<p>The basic idea is to create a window, then use the <code>wait_window</code> method to wait for the window to be destroyed. Once it has been destroyed you can return some value.</p>\n\n<p>The problem is that the values you want to fetch must not be attributes of the window, since it will have been destroyed by the time you are ready to fetch them. You need to set up your code to save the values before the window is destroyed. </p>\n\n<p>A simple way is to provide an \"OK\" button which gets the values and then destroys the window. Another way would be to put a trace on variables associated with each entry, and save the values immediately as they are edited.</p>\n\n<p>Which method you choose depends on what behavior you want when the user clicks the window control to close the window (eg: the red circle on OSX, the [x] button on windows, etc). Do you want to return what they had input, or do you treat that as a cancel action and return nothing?</p>\n\n<p>Here's a simple example using an OK button. This example assumes that you aren't already running a GUI, and that this is to be run as part of a non-GUI application. </p>\n\n<pre><code>import tkinter as tk\n\nclass Dialog(object):\n    def show(self, num_fields):\n        self.num_fields = num_fields\n        self.root = tk.Tk()\n        self.entries = []\n        for i in range(num_fields):\n            entry = tk.Entry(self.root)\n            entry.pack(fill=\"x\")\n            self.entries.append(entry)\n\n        ok = tk.Button(self.root, text=\"OK\", command=self.ok)\n        ok.pack(side=\"bottom\", anchor=\"e\", pady=(10,0), padx=10)\n\n        # wait for the window to be destroyed, then\n        # return the values. If the user clicks the OK button\n        # the values will be set; if they cancel the dialog\n        # this will return None.\n        self.values = None\n        self.root.wait_window()\n        return self.values\n\n    def ok(self):\n        # save all the values, then destroy the window\n        self.values = []\n        for i in range(self.num_fields):\n            self.values.append(self.entries[i].get())\n\n        self.root.destroy()\n</code></pre>\n\n<p>Assuming you're running a non-gui program, here's an example of how you would use this class:</p>\n\n<pre><code>b = input(\"Enter: \")\nb = int(b)\nresult = Dialog().show(b)\nprint(\"result:\", result)\n</code></pre>\n"}], "owner": {"reputation": 65, "user_id": 5818567, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-kZJNIPUvIds/AAAAAAAAAAI/AAAAAAAAEdM/K-GFFNURag8/photo.jpg?sz=128", "display_name": "Oliver Dudgeon", "link": "https://stackoverflow.com/users/5818567/oliver-dudgeon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 123, "favorite_count": 0, "accepted_answer_id": 34927141, "answer_count": 1, "score": 1, "last_activity_date": 1453388479, "creation_date": 1453332677, "question_id": 34912682, "link": "https://stackoverflow.com/questions/34912682/trying-to-produce-function-for-a-custom-number-of-tkinter-entry-fields", "title": "Trying to produce function for a custom number of tkinter Entry fields.", "body": "<p>I've been trying to create a piece of code that would take a integer as a argument and create that number of tkinter entry fields. With a submit button at the end that would retrieve the data from the fields add these data to a list then close the window. </p>\n\n<p>I have been able to get it working however I cant find a way to convert this to a callable function; a requirement to use it with the rest of my program. \nThis is the code I have produced so far, thanks: </p>\n\n<pre><code>import tkinter as tk\n\nb = input(\"Enter: \")\nb = int(b)\n\nroot = tk.Tk()\n\nnewdict = dict()\n\noutputs = list()\n\nfor i in range(b):\n    newdict[\"entry\" + str(i)] = tk.Entry(root)\n    newdict[\"entry\" + str(i)].pack()\n\nbutton1 = tk.Button(root, text=\"Submit\", command=lambda: Get(newdict))\nbutton1.pack()\n\ndef Get(newdict):\n    for j in range(b):\n        outputs.append(newdict[\"entry\" + str(j)].get())\n        root.quit()\n\nroot.mainloop()\n\nprint(outputs)\n</code></pre>\n"}, {"tags": ["python", "python-2.7", "logging"], "comments": [{"owner": {"reputation": 5307, "user_id": 2372812, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/atrZ9.jpg?s=128&g=1", "display_name": "Tom Dalton", "link": "https://stackoverflow.com/users/2372812/tom-dalton"}, "edited": false, "score": 3, "creation_date": 1453332745, "post_id": 34912671, "comment_id": 57560903, "body": "Use the python <code>logging</code> package? It&#39;s very simple to set up and use for a single file: <a href=\"https://docs.python.org/2/howto/logging.html#logging-to-a-file\" rel=\"nofollow noreferrer\">docs.python.org/2/howto/logging.html#logging-to-a-file</a>"}], "answers": [{"comments": [{"owner": {"reputation": 53754, "user_id": 198536, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9edaf4c1c1b89b5d39c40528d0017509?s=128&d=identicon&r=PG", "display_name": "wallyk", "link": "https://stackoverflow.com/users/198536/wallyk"}, "edited": false, "score": 1, "creation_date": 1453333972, "post_id": 34912893, "comment_id": 57561308, "body": "You probably want to open the file in append mode.  Otherwise it will overwrite the file at each call."}, {"owner": {"reputation": 37256, "user_id": 736308, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/o5EqQ.jpg?s=128&g=1", "display_name": "cdarke", "link": "https://stackoverflow.com/users/736308/cdarke"}, "reply_to_user": {"reputation": 53754, "user_id": 198536, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9edaf4c1c1b89b5d39c40528d0017509?s=128&d=identicon&r=PG", "display_name": "wallyk", "link": "https://stackoverflow.com/users/198536/wallyk"}, "edited": false, "score": 0, "creation_date": 1453334100, "post_id": 34912893, "comment_id": 57561354, "body": "@wallyk:  No it won&#39;t.  The <code>open</code> is only done once when <code>create_logger</code> is called.  The actual write is done by the returned <code>logger</code> function which is then called multiple times."}], "tags": [], "owner": {"reputation": 37256, "user_id": 736308, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/o5EqQ.jpg?s=128&g=1", "display_name": "cdarke", "link": "https://stackoverflow.com/users/736308/cdarke"}, "is_accepted": false, "score": 2, "last_activity_date": 1453333764, "creation_date": 1453333764, "answer_id": 34912893, "question_id": 34912671, "link": "https://stackoverflow.com/questions/34912671/multiple-functions-to-write-into-a-single-log-file-using-python/34912893#34912893", "title": "Multiple functions to write into a single log file using Python", "body": "<p>One way is to write your own simple logging function as a closure:</p>\n\n<pre><code>def create_logger(log_filename = 'TestLog.log'):\n    f = open(log_filename, 'w')\n\n    def logger(text):\n        f.write(text + '\\n')\n\n    return logger,f.close\n\nlogwrite,logclose = create_logger()\n\ndef log1():\n    print 'log1 called'\n    logwrite('log1 result')\n\ndef log2():\n    print 'log2 called'\n    logwrite('log2 result')\n\nlog1()\nlog2()\nlogclose()\n</code></pre>\n\n<p>It avoids having to use <code>global</code>, encapsulates the file object, simplifies the call, and enables you to use several different filenames by calling <code>create_logger</code> for each one required.  You might, for example, wish to add a date/time stamp to the log message, simply done in one place by enhancing the <code>logger</code> function.</p>\n"}, {"tags": [], "owner": {"reputation": 3457, "user_id": 2284490, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba571b7d2f77a33c9b92af6c767677bb?s=128&d=identicon&r=PG", "display_name": "Cireo", "link": "https://stackoverflow.com/users/2284490/cireo"}, "is_accepted": true, "score": 2, "last_activity_date": 1453334098, "creation_date": 1453334098, "answer_id": 34912961, "question_id": 34912671, "link": "https://stackoverflow.com/questions/34912671/multiple-functions-to-write-into-a-single-log-file-using-python/34912961#34912961", "title": "Multiple functions to write into a single log file using Python", "body": "<p>Expanding Tom Dalton's link (<a href=\"http://docs.python.org/2/howto/logging.html#logging-to-a-file\" rel=\"nofollow\">docs.python.org/2/howto/logging.html#logging-to-a-file</a>):</p>\n\n<pre><code>import logging\nlogging.basicConfig(filename='example.log',level=logging.DEBUG)\nlogging.debug('This message should go to the log file')\nlogging.info('So should this')\nlogging.warning('And this, too')\n</code></pre>\n\n<p>will write this too a file</p>\n\n<pre><code>DEBUG:root:This message should go to the log file\nINFO:root:So should this\nWARNING:root:And this, too\n</code></pre>\n\n<p>in your example, you could use a global logger, and each function could invoke it</p>\n\n<pre><code>import logging\nlogging.basicConfig(filename='example.log',level=logging.DEBUG)\n\ndef log1():\n    logging.info('log1')\n\ndef log2():\n    logging.info('log2')\n\nif __name__ == '__main__':\n    log1()\n    log2()\n</code></pre>\n\n<p>if you wanted multiple loggers, you can use <code>logging.getLogger()</code>, there is plenty of flexibility with the logging module, check out the documentation (in the link).</p>\n"}], "owner": {"reputation": 2305, "user_id": 1021306, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/cb52a1e1c0ef80983e0e1c8e7c8ef709?s=128&d=identicon&r=PG", "display_name": "alextc", "link": "https://stackoverflow.com/users/1021306/alextc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3056, "favorite_count": 0, "accepted_answer_id": 34912961, "answer_count": 2, "score": 2, "last_activity_date": 1453334098, "creation_date": 1453332610, "question_id": 34912671, "link": "https://stackoverflow.com/questions/34912671/multiple-functions-to-write-into-a-single-log-file-using-python", "title": "Multiple functions to write into a single log file using Python", "body": "<p>I have a Python file with contains a few functions. When the \"main\" function runs, it runs through the functions. Each function needs to write some text to the same single log file.</p>\n\n<p>I have written the following codes. The file handler is declared here as global in each function. I am wondering if there is a better way to achieve this?</p>\n\n<pre><code>LOG_FILE_NAME = 'TestLog.log'\nf = None\n\ndef log1():\n    global f\n    print 'log1 called'\n    f.write('log1 result' + '\\n')\n\ndef log2():\n    global f\n    print 'log2 called'\n    f.write('log2 result' + '\\n')\n\nlogFileDir = LOG_FILE_NAME\nf = open(logFileDir, 'w')\nlog1()\nlog2()\nf.close()\n</code></pre>\n"}, {"tags": ["python", "machine-learning", "neural-network"], "answers": [{"comments": [{"owner": {"reputation": 211, "user_id": 3745472, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/7d33caaa261f8aadb738898bcc34cda9?s=128&d=identicon&r=PG&f=1", "display_name": "user3745472", "link": "https://stackoverflow.com/users/3745472/user3745472"}, "edited": false, "score": 0, "creation_date": 1453395701, "post_id": 34927090, "comment_id": 57592754, "body": "Thanks you very much for your help, that solved the problem!"}], "tags": [], "owner": {"reputation": 4314, "user_id": 1904279, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ggpYf.jpg?s=128&g=1", "display_name": "Anton", "link": "https://stackoverflow.com/users/1904279/anton"}, "is_accepted": true, "score": 2, "last_activity_date": 1453388332, "creation_date": 1453388332, "answer_id": 34927090, "question_id": 34912658, "link": "https://stackoverflow.com/questions/34912658/trying-to-understand-gradient-checking-error-in-3-layer-neural-network/34927090#34927090", "title": "Trying to understand Gradient Checking error in 3-layer Neural Network", "body": "<p>You have an error in your sigmoid function. It should be like this:</p>\n\n<pre><code>def sigmoid(z):\n    return 1 / (1+np.exp(-z))\n</code></pre>\n\n<p>I'm a little bit confused with the implementation of the back propagation algorithm. I would do it without the <code>for</code> loop.</p>\n\n<p>You did not post your <code>computeCost</code>, so I programmed it and checked the gradients. In my case both columns are equal:</p>\n\n<pre><code>('Function Gradient', 'Numerical Gradient')\n(-0.0087363416123043425, 0.0)\n(0.017468375248392107, 0.0174683752529603)\n(-0.0016267134050363559, -0.0016267134039793518)\n(0.0018882373947080224, 0.0018882373997719526)\n(-0.0063531428795779391, -0.0063531428762253483)\n(0.0029882213493977773, 0.0029882213481435826)\n(0.014295787205089885, 0.014295787205131916)\n(-0.026668095974979808, -0.026668095973736428)\n(0.0043373799514851595, 0.0043373799440971084)\n(0.0063740837472641377, 0.0063740837497050506)\n(0.0027102260448642525, 0.0027102260435896142)\n(0.0067009063282609839, 0.0067009063298151261)\n(-0.0029645476578591843, -0.0029645476562478734)\n(-0.012000477453137556, -0.012000477451756808)\n(-0.020065071389262716, -0.020065071393293721)\n(0.010308693441913186, 0.010308693438876304)\n(-0.0015996484140612609, -0.0015996484115099463)\n(-0.0086037766244218914, -0.0086037766244828617)\n(-0.0099431361329477934, -0.0099431361344493041)\n(0.0062574996404342166, 0.0062574996406716821)\n(0.30213488769328123, 0.3021348876908192)\n(0.14900524972537924, 0.14900524972549789)\n(0.13305168538400619, 0.13305168538479961)\n(0.16730920742910549, 0.16730920743279754)\n(0.14245586995768528, 0.14245586995365045)\n(0.15465244296463604, 0.15465244296519742)\n(0.10813908901043021, 0.10813908900342284)\n(0.040844058224880242, 0.04084405822446513)\n(0.040566215206120269, 0.040566215204762557)\n(0.036451467449020114, 0.036451467448905817)\n(0.065664340475228455, 0.065664340476168093)\n(0.070753692265581092, 0.07075369226283712)\n(0.088651862157018618, 0.088651862166777562)\n(0.028272897964677978, 0.028272897965031518)\n(0.026876928049457398, 0.026876928049812676)\n(0.056512225949437798, 0.056512225949933992)\n(0.051775047342360533, 0.051775047342772496)\n(0.025689087137289929, 0.025689087135294386)\nRelative Difference: \n0.00878484310135\n</code></pre>\n\n<p>Here is my code:</p>\n\n<pre><code>import numpy as np\n\ndef sigmoid(z):\n    return 1 / (1+np.exp(-z))\n\ndef sigmoid_gradient(z):\n    return sigmoid(z)*(1-sigmoid(z))\n\ndef randInitializeWeights(layer_in, layer_out):\n    matrix = np.zeros((layer_out, 1 + layer_in))\n    epsilon_init = 0.12\n    matrix = np.random.rand(layer_out, 1+layer_in) * 2 * epsilon_init -epsilon_init\n    return matrix\n\ndef gradient(theta, *args):\n\n    X, y, num_inputs, num_hidden_units, num_labels, lamb = args\n\n    m = len(X)\n\n    y_bin = np.zeros((m, num_labels))\n\n    for i in range(m):\n        y_bin[i, y[i]] = 1\n\n    theta1 = np.reshape(theta[0:(num_hidden_units*(num_inputs+1))],(num_hidden_units, (num_inputs+1)))  #5x4\n    theta2 = np.reshape(theta[(num_hidden_units*(num_inputs+1)):],(num_labels, num_hidden_units+1))     #3x6\n\n    theta1_grad = np.zeros(theta1.shape)\n    theta2_grad = np.zeros(theta2.shape)\n\n    delta1 = np.zeros(theta1.shape)\n    delta2 = np.zeros(theta2.shape)\n\n\n    #forward\n\n    a_1 = np.hstack((np.ones((m, 1)), X))   #5x4\n\n    z_2 = np.dot(a_1, theta1.transpose())   #5x5\n    a_2 = sigmoid(z_2)                      #5x5\n\n    a_2 = np.hstack((np.ones((m, 1)), a_2)) #5x6\n    z_3 = np.dot(a_2, theta2.transpose())   #5x3\n\n    h = sigmoid(z_3)                        #5x3\n\n\n    #backward\n\n    delta3 = h - y_bin                      #5x3\n    delta2 = np.dot(delta3, theta2[:, 1:num_hidden_units+1]) * sigmoid_gradient(z_2) #5x5\n\n    D1 = np.dot(delta2.transpose(), a_1)    #5x4\n    D2 = np.dot(delta3.transpose(), a_2)    #3x6\n\n    theta1_grad = D1/m      #5x4\n    theta2_grad = D2/m      #3x6\n\n    #regularization\n    theta1_grad[:, 1:num_inputs+1] = theta1_grad[:, 1:num_inputs+1] +lamb/m*  theta1[:, 1:num_inputs+1]\n    theta2_grad[:, 1:num_hidden_units+1] = theta2_grad[:, 1:num_hidden_units+1] +lamb/m*  theta2[:, 1:num_hidden_units+1]\n\n    #unroll\n    grad = np.hstack([theta1_grad.ravel(), theta2_grad.ravel()])\n    return grad\n\ndef gradientChecking(lamb):\n    input_layer_size = 3\n    hidden_layer_size = 5\n    num_labels = 3\n    m = 5\n\n    theta1 = randInitializeWeights(input_layer_size, hidden_layer_size)\n    theta2 = randInitializeWeights(hidden_layer_size, num_labels)\n\n    X = np.random.rand(m, input_layer_size)\n    y = np.array([1, 2, 0, 1, 2])\n\n    nn_params = np.hstack([theta1.ravel(), theta2.ravel()])\n\n    #calculate gradient with function\n    grad = gradient(nn_params, X, y, input_layer_size, hidden_layer_size, num_labels, lamb)\n    #calculate numerical gradient\n    num_grad = computeNumericalGradient(lambda theta: computeCost(theta, X, y, input_layer_size, hidden_layer_size, num_labels, lamb), nn_params)\n\n    print('Function Gradient', 'Numerical Gradient')\n    for i in range(len(grad)):\n        print(grad[i], num_grad[i])\n\n    diff = np.linalg.norm(num_grad-grad)/np.linalg.norm(num_grad+grad)\n    print('Relative Difference: ')\n    print(diff)\n\ndef computeCost(theta, X, y, num_inputs, num_hidden_units, num_labels, lamb):\n\n    m = len(X)\n\n    y_bin = np.zeros((m, num_labels))\n\n    for i in range(m):\n        y_bin[i, y[i]] = 1\n\n    theta1 = np.reshape(theta[0:(num_hidden_units*(num_inputs+1))],(num_hidden_units, (num_inputs+1))) #5x4\n    theta2 = np.reshape(theta[(num_hidden_units*(num_inputs+1)):],(num_labels, num_hidden_units+1)) #3x6\n\n    a_1 = np.hstack((np.ones((m, 1)), X))   #5x4\n\n    z_2 = np.dot(a_1, theta1.transpose())   #5x5\n    a_2 = sigmoid(z_2)                      #5x5\n\n    a_2 = np.hstack((np.ones((m, 1)), a_2)) #5x6\n    z_3 = np.dot(a_2, theta2.transpose())   #5x3\n\n    h = sigmoid(z_3)\n\n    cost = np.sum(-y_bin * np.log(h)    -    (1-y_bin) * np.log(1-h))/m\n\n\n    #regularization\n\n    theta1_sq = theta1[:, 1:num_inputs+1] * theta1[:, 1:num_inputs+1];\n    theta2_sq = theta2[:, 1:num_hidden_units+1] * theta2[:, 1:num_hidden_units+1];\n\n    cost = cost + lamb/(2.0*m)*(np.sum(theta1_sq) + np.sum(theta2_sq))\n\n    return cost\n\ndef computeNumericalGradient(J, theta):\n    numgrad = np.zeros(theta.shape)\n    perturb = np.zeros(theta.shape)\n    e = 0.0001\n\n    for p in range(1, np.size(theta)):\n        perturb[p] = e\n        loss1 = J(theta - perturb)\n        loss2 = J(theta + perturb)\n\n        numgrad[p] = (loss2 - loss1) / (2*e)\n        perturb[p] = 0\n    return numgrad\n\n\ngradientChecking(1.0)\n</code></pre>\n"}], "owner": {"reputation": 211, "user_id": 3745472, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/7d33caaa261f8aadb738898bcc34cda9?s=128&d=identicon&r=PG&f=1", "display_name": "user3745472", "link": "https://stackoverflow.com/users/3745472/user3745472"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1530, "favorite_count": 4, "accepted_answer_id": 34927090, "answer_count": 1, "score": 1, "last_activity_date": 1453388332, "creation_date": 1453332552, "question_id": 34912658, "link": "https://stackoverflow.com/questions/34912658/trying-to-understand-gradient-checking-error-in-3-layer-neural-network", "title": "Trying to understand Gradient Checking error in 3-layer Neural Network", "body": "<p>I am building a basic 3-layer Neural Network in Python. After writing a gradient function, I proceeded to running gradient checking on it with the numerical gradient. After getting a big relative difference, I unrolled both gradients for the weight matrices and compared them side by side. </p>\n\n<pre><code>Function Gradient      Numerical Gradient\n-0.000968788380809     0.0\n 0.0153540197907       0.0153540197889\n-0.00584391679274     -0.00584391679048\n-0.00490359558077     -0.00490359558514\n-0.00171892592537     -0.0017189259216\n 0.00913024106334      0.00913024106319\n-0.0182154767069      -0.0182154767092\n 0.0152611324409       0.01526113244\n-0.00373505297372     -0.00373505297135\n-0.00513225994728     -0.00513225994814\n-0.00531954399401     -0.00531954399641\n-0.0185748801227      -0.0185748801163\n 0.00745186105851      0.00745186105267\n 0.0134566626927       0.0134566626908\n 0.0251548691426       0.0251548691388\n 0.00609388350562      0.00609388350226\n-0.00471176815719     -0.00471176815564\n 0.0113580721225       0.0113580721228\n 0.00465172663488      0.00465172663944\n-0.0221326283708      -0.02213262837\n 0.300007655583       -0.300007655583 &lt;-diverges, corresponding to theta2\n 0.155638694282       -0.15345321819\n 0.147747817305       -0.149026829224\n 0.150703152382       -0.172330417252\n 0.156307235611       -0.116975643856\n 0.136898763375       -0.170081036297\n 0.0621121242042      -0.0621121242372\n 0.0442762464937      -0.0187338352431\n 0.0489123689979      -0.00938236375481\n 0.0244392582651      -0.0465061209964\n 0.0237741996575      -0.028319115235\n 0.0313594790974      -0.0330473942922\n 0.106306327946       -0.106306327941\n 0.0348751481828      -0.0704775747806\n 0.0303373211657      -0.0756744476749\n 0.0633094699759      -0.0461971224763\n 0.0524239030728      -0.0477244101571\n 0.0633274024777      -0.0397657392082\n\n Relative Difference:\n 6.61473694017\n</code></pre>\n\n<p>The first 20 elements in each list correspond to the gradient for the first weight matrix, and the remaining 18 correspond to the gradient for the second weight matrix. From what I can see, it appears as though the error occurs in the last 18 elements (and thus the theta2 matrix gradient) in the list, where the function gradient begins to differ from the \"correct\" numerical gradient. This also causes scipy.optimize.fmin_cg to give me the following:</p>\n\n<p>Warning: Desired error not necessarily achieved due to precision loss.</p>\n\n<p>Any help would be greatly appreciated! Here is the relevant code:</p>\n\n<pre><code>def sigmoid(z):\n    return 1 / (1+np.exp(z))\n\ndef sigmoid_gradient(z):\n    return sigmoid(z)*(1-sigmoid(z))\n\ndef randInitializeWeights(layer_in, layer_out):\n    matrix = np.zeros((layer_out, 1 + layer_in))\n    epsilon_init = 0.12\n    matrix = np.random.rand(layer_out, 1+layer_in) * 2 * epsilon_init -epsilon_init\n    return matrix\n\ndef gradient(theta, *args):\n\n    X, y, num_inputs, num_hidden_units, num_labels, lamb = args\n\n    m = len(X)\n\n    theta1 = np.reshape(theta[0:(num_hidden_units*(num_inputs+1))],(num_hidden_units, (num_inputs+1)))\n    theta2 = np.reshape(theta[(num_hidden_units*(num_inputs+1)):],(num_labels, num_hidden_units+1)) \n\n    theta1_grad = np.zeros(theta1.shape)\n    theta2_grad = np.zeros(theta2.shape)\n\n    delta1 = np.zeros(theta1.shape)\n    delta2 = np.zeros(theta2.shape)\n\n    for t in range(0, m):\n        vec_y = np.zeros(num_labels)\n        vec_y[y[t]] = 1\n        vec_y = vec_y[:, np.newaxis]    \n\n        #feedforward to compute all the neuron activations\n        a_1 = np.r_[[1], X[t]]\n        a_1 = a_1[:, np.newaxis]\n        z_2 = np.dot(theta1, a_1)   \n        a_2 = np.vstack([1, sigmoid(z_2)])  \n        z_3 = np.dot(theta2, a_2)   \n        a_3 = sigmoid(z_3)  \n\n        #error for output nodes\n        del3 = a_3 - vec_y     \n        #error for hidden nodes\n        del2 = np.multiply(np.dot(theta2.T, del3), sigmoid_gradient(np.vstack([1, z_2])))\n        #remove bias unit\n        del2 = del2[1:] \n\n        #accumulate gradient\n        delta1 = delta1 + del2*a_1.T\n        delta2 = delta2 + del3*a_2.T\n\n    #no need to regularize the first column\n    theta1_grad[:, 0] = (1/m)*delta1[:, 0]\n    theta2_grad[:, 0] = (1/m)*delta2[:, 0]\n\n    #regularize the rest\n    theta1_grad[:, 1:] = ((1/m) * delta1[:, 1:]) + (lamb/m)*theta1[:, 1:]\n    theta2_grad[:, 1:] = ((1/m) * delta2[:, 1:]) + (lamb/m)*theta2[:, 1:]\n\n    #unroll\n    grad = np.hstack([theta1_grad.ravel(), theta2_grad.ravel()])\n    return grad\n\n\ndef gradientChecking(lamb):\n    input_layer_size = 3\n    hidden_layer_size = 5\n    num_labels = 3\n    m = 5\n\n    theta1 = randInitializeWeights(input_layer_size, hidden_layer_size)\n    theta2 = randInitializeWeights(hidden_layer_size, num_labels)\n\n    X = np.random.rand(m, input_layer_size)\n    y = np.array([1, 2, 0, 1, 2])\n\n    nn_params = np.hstack([theta1.ravel(), theta2.ravel()])\n\n    #calculate gradient with function\n    grad = gradient(nn_params, X, y, input_layer_size, hidden_layer_size, num_labels, lamb)\n    #calculate numerical gradient\n    num_grad = computeNumericalGradient(lambda theta: computeCost(theta, X, y, input_layer_size, hidden_layer_size, num_labels, lamb), nn_params)\n\n    print('Function Gradient', 'Numerical Gradient')\n    for i in range(len(grad)):\n        print(grad[i], num_grad[i])\n\n    diff = np.linalg.norm(num_grad-grad)/np.linalg.norm(num_grad+grad)\n    print('Relative Difference: ')\n    print(diff)\n\n\ndef computeNumericalGradient(J, theta):\n    numgrad = np.zeros(theta.shape)\n    perturb = np.zeros(theta.shape)\n    e = 0.0001\n\n    for p in range(1, np.size(theta)):\n        perturb[p] = e\n        loss1 = J(theta - perturb)\n        loss2 = J(theta + perturb)\n        numgrad[p] = (loss2 - loss1) / (2*e)\n        perturb[p] = 0\n    return numgrad\n</code></pre>\n"}, {"tags": ["python", "generator"], "answers": [{"tags": [], "owner": {"reputation": 209114, "user_id": 1427416, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/QWHKg.png?s=128&g=1", "display_name": "BrenBarn", "link": "https://stackoverflow.com/users/1427416/brenbarn"}, "is_accepted": false, "score": 0, "last_activity_date": 1453332679, "creation_date": 1453332679, "answer_id": 34912685, "question_id": 34912639, "link": "https://stackoverflow.com/questions/34912639/check-either-the-generator-awaiting-send-or-yielding-the-value/34912685#34912685", "title": "Check either the generator awaiting &quot;send&quot; or yielding the value", "body": "<p>You can't, because there isn't any difference in terms of the allowable operations on those two \"kinds\" of generators.  You can always send a value to the generator as soon as you have called <code>next</code> on it once, even if the generator doesn't do anything with the sent value:</p>\n\n<pre><code>&gt;&gt;&gt; def gen():\n...     yield 1\n...     yield 2\n...     yield 3\n&gt;&gt;&gt; x = gen()\n&gt;&gt;&gt; next(x)\n1\n&gt;&gt;&gt; x.send('hello')\n2\n&gt;&gt;&gt; x.send('hello')\n3\n</code></pre>\n\n<p>There's no way to tell whether the generator \"needs\" you to send a value except by reading the documentation for whatever generator you're using.</p>\n"}], "owner": {"reputation": 334, "user_id": 2703236, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/9030120def34e1d0ea2da50e3c33092a?s=128&d=identicon&r=PG&f=1", "display_name": "skavans", "link": "https://stackoverflow.com/users/2703236/skavans"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 39, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1453332679, "creation_date": 1453332471, "question_id": 34912639, "link": "https://stackoverflow.com/questions/34912639/check-either-the-generator-awaiting-send-or-yielding-the-value", "title": "Check either the generator awaiting &quot;send&quot; or yielding the value", "body": "<p>How can I check if the some blackbox generator is awaiting the value or it is returning the value now? I mean managing the following generator:</p>\n\n<pre><code>def gen():\n  a = yield\n  yield a\n  yield a+1\n  yield a+2\n</code></pre>\n\n<p>can be the following:</p>\n\n<pre><code>g = gen()\ng.next()\nprint g.send(5)\nprint g.next()\nprint g.next()\n</code></pre>\n\n<p>and for the different generator, for example:</p>\n\n<pre><code>def gen():\n  a = yield\n  b = yield\n  yield a+b\n</code></pre>\n\n<p>it needs to be different also, for example:</p>\n\n<pre><code>g = gen()\ng.next()\ng.send(1)\nprint g.send(2)\n</code></pre>\n\n<p>So the question is how can I choose between sending value in generator and getting results from it only in case of blackbox (third-party) generator? I need to write the following code:</p>\n\n<pre><code>values = [1, 2, 3]\nresults = list()\ng = gen()\ng.next()\nfor v in values:\n  # needs this magic\n  if g.__awaits__:  # in case of \"x = yield\" expression\n    results.append(g.send(v))\n  elif g.__yields__:  # in case of \"yield x\" expression\n    results.append(g.next())\n</code></pre>\n"}, {"tags": ["python", "python-2.7", "feature-detection"], "owner": {"reputation": 630, "user_id": 1964317, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/1b4eef333ac3fe2287832840b74e9fe3?s=128&d=identicon&r=PG", "display_name": "Elia", "link": "https://stackoverflow.com/users/1964317/elia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 602, "favorite_count": 1, "answer_count": 0, "score": 3, "last_activity_date": 1453332608, "creation_date": 1453332153, "last_edit_date": 1453332608, "question_id": 34912576, "link": "https://stackoverflow.com/questions/34912576/python-cv2-cornerharris-count-number-of-corners-returned", "title": "Python Cv2.cornerHarris count number of corners returned", "body": "<p>I'm running a different corner and edge detection algorithms in order to compare them.<br>\nI'm trying to count the number of corners detected from <code>cv2.cornerHarris</code> algorithm but the result returned is an image.<br>\nCounting the non-black values of returned image is not accurate..  </p>\n\n<p>Any suggestions of how to count found corners? (if it is even possible)</p>\n"}, {"tags": ["python", "pandas", "dataframe"], "answers": [{"comments": [{"owner": {"reputation": 34745, "user_id": 1494637, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/a50559f059e0621b4f543bcda9aad0a6?s=128&d=identicon&r=PG&f=1", "display_name": "Stefan", "link": "https://stackoverflow.com/users/1494637/stefan"}, "edited": false, "score": 0, "creation_date": 1463595790, "post_id": 34914557, "comment_id": 62136063, "body": "Did this help after all?"}], "tags": [], "owner": {"reputation": 34745, "user_id": 1494637, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/a50559f059e0621b4f543bcda9aad0a6?s=128&d=identicon&r=PG&f=1", "display_name": "Stefan", "link": "https://stackoverflow.com/users/1494637/stefan"}, "is_accepted": false, "score": 3, "last_activity_date": 1453403091, "last_edit_date": 1453403091, "creation_date": 1453344662, "answer_id": 34914557, "question_id": 34912524, "link": "https://stackoverflow.com/questions/34912524/pandas-dataframe-groupby-overlapping-intervals-of-variable-length/34914557#34914557", "title": "Pandas DataFrame groupby overlapping intervals of variable length", "body": "<p>Starting with:</p>\n\n<pre><code>    gr1  gr2   val\n0     0    4  1721\n1     0    5  2353\n2     0    6    58\n3     0    7   524\n4     1    1  1934\n5     1    2  1318\n6     1    2  1307\n7     1    2   301\n8     1    2   502\n9     1    3   996\n10    1    3    32\n</code></pre>\n\n<p>First, create bins from values in <code>gr2</code>:</p>\n\n<pre><code>bounds = df.gr2.sort_values().unique()\nbins = list(zip(bounds[:-1], bounds[1:]))\n\ndef overlapping_bins(x):\n    return pd.Series([l for l in bins if l[0] &lt;= x &lt;= l[1]])\n</code></pre>\n\n<p>Then assign <code>val</code> values to <code>bins</code>:</p>\n\n<pre><code>df = pd.concat([df, df.gr2.apply(overlapping_bins).stack().reset_index(1, drop=True)], axis=1).rename(columns={0: 'bins'}).drop('gr2', axis=1)\n</code></pre>\n\n<p>And then <code>.groupby()</code> resulting <code>bins</code>:</p>\n\n<pre><code>df.groupby(['gr1', 'bins']).val.apply(lambda x: x.tolist())\n\ngr1  bins  \n0    (3, 4)                             [1721]\n     (4, 5)                       [1721, 2353]\n     (5, 6)                         [2353, 58]\n     (6, 7)                          [58, 524]\n1    (1, 2)       [1934, 1318, 1307, 301, 502]\n     (2, 3)    [1318, 1307, 301, 502, 996, 32]\n     (3, 4)                          [996, 32]\n</code></pre>\n"}], "owner": {"reputation": 89, "user_id": 2225122, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/0e51be39bbb8ab9bf1a6d3eeb5fa6bc4?s=128&d=identicon&r=PG", "display_name": "spfraib", "link": "https://stackoverflow.com/users/2225122/spfraib"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1829, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1453403091, "creation_date": 1453331952, "question_id": 34912524, "link": "https://stackoverflow.com/questions/34912524/pandas-dataframe-groupby-overlapping-intervals-of-variable-length", "title": "Pandas DataFrame groupby overlapping intervals of variable length", "body": "<p>I am trying to group a DataFrame by 2 columns (see example below). \nFor the first column, I want each value to belong to a group. For the second column, I want to group by overlapping intervals of unequal size. </p>\n\n<p>My understanding is that pd.cut() only allows me to group by non-overlapping intervals. </p>\n\n<p>Here is an example:</p>\n\n<pre><code>    0   1   2\n0   0   4   1721\n1   0   5   2353\n2   0   6   58\n3   0   7   524\n4   1   1   1934\n5   1   2   1318\n6   1   2   1307\n7   1   2   301\n8   1   2   502\n9   1   3   996\n10  1   3   32\n</code></pre>\n\n<p>By grouping by column 0 and 1 I want:</p>\n\n<pre><code>0  1    2\n0 [4,5] [1721,2353]\n  [5,6] [2353,58]\n  [6,7] [58,524]\n1 [1,2] [1934,1318,1307,301,502]\n  [2,3] [1318,1307,301,502,996,32]\n</code></pre>\n\n<p>I would then take mean or std of column 2. Any suggestion? Thanks ! </p>\n"}, {"tags": ["python", "flickr"], "comments": [{"owner": {"reputation": 610, "user_id": 147126, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/10b9c58599ec50d176fa2ce8c2d8bd88?s=128&d=identicon&r=PG", "display_name": "Tanner", "link": "https://stackoverflow.com/users/147126/tanner"}, "edited": false, "score": 0, "creation_date": 1454175859, "post_id": 34912513, "comment_id": 57930793, "body": "If you&#39;ve found the answer acceptable, you should mark it as answered. I&#39;ve noticed in your profile you don&#39;t often mark them as accepted. <a href=\"http://meta.stackexchange.com/questions/5234/how-does-accepting-an-answer-work\" title=\"how does accepting an answer work\">meta.stackexchange.com/questions/5234/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 610, "user_id": 147126, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/10b9c58599ec50d176fa2ce8c2d8bd88?s=128&d=identicon&r=PG", "display_name": "Tanner", "link": "https://stackoverflow.com/users/147126/tanner"}, "is_accepted": false, "score": 2, "last_activity_date": 1453353655, "creation_date": 1453353655, "answer_id": 34915952, "question_id": 34912513, "link": "https://stackoverflow.com/questions/34912513/more-than-one-extra-using-flickr-photo-search/34915952#34915952", "title": "More than one extra using flickr.photo.search", "body": "<p>The way you are passing the 'url_s' parameter has python interpreting it as a separate parameter to the function, try using </p>\n\n<pre><code>photo_list = flickr.photos.search(api_key=api_key, accuracy = 15, has_geo=1, per_page = 500, extras = 'tags,url_s')\n</code></pre>\n"}], "owner": {"reputation": 259, "user_id": 5445318, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/729be985e1672f9b624232e174e85772?s=128&d=identicon&r=PG&f=1", "display_name": "RyanKilkelly", "link": "https://stackoverflow.com/users/5445318/ryankilkelly"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 335, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1453353655, "creation_date": 1453331891, "last_edit_date": 1453350996, "question_id": 34912513, "link": "https://stackoverflow.com/questions/34912513/more-than-one-extra-using-flickr-photo-search", "title": "More than one extra using flickr.photo.search", "body": "<pre><code>photo_list = flickr.photos.search(api_key=api_key, accuracy = 15, has_geo=1, per_page = 500, extras = 'tags', 'url_s')\n</code></pre>\n\n<p>I want to do the following search using the Flickr API. It works fine when I call just one extra, either tags, or URL. However if I try to get it to return both it does not work. On <a href=\"https://www.flickr.com/services/api/flickr.photos.search.html\" rel=\"nofollow\">this page for this particular API</a>, its says to use a comma-delimited list of extra information to fetch for each returned record, which is what I thought I was already doing, but it is not working.</p>\n\n<p>Any suggestions on how I can call both?</p>\n"}, {"tags": ["python", "pandas", "time", "weather"], "comments": [{"owner": {"reputation": 6787, "user_id": 4927616, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CjEA4.jpg?s=128&g=1", "display_name": "Matthew", "link": "https://stackoverflow.com/users/4927616/matthew"}, "edited": false, "score": 0, "creation_date": 1453332145, "post_id": 34912491, "comment_id": 57560671, "body": "What is the datatype of those first two columns?  Are they strings, datetimes, or something else?"}, {"owner": {"reputation": 81, "user_id": 5812755, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-Ok5pEBJmrg0/AAAAAAAAAAI/AAAAAAAAZwA/jrhQ_jRowis/photo.jpg?sz=128", "display_name": "WheninSeattle", "link": "https://stackoverflow.com/users/5812755/wheninseattle"}, "reply_to_user": {"reputation": 6787, "user_id": 4927616, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CjEA4.jpg?s=128&g=1", "display_name": "Matthew", "link": "https://stackoverflow.com/users/4927616/matthew"}, "edited": false, "score": 0, "creation_date": 1453334173, "post_id": 34912491, "comment_id": 57561383, "body": "All of the data is being pulled in from .csv or .xlsx files."}], "answers": [{"comments": [{"owner": {"reputation": 81, "user_id": 5812755, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-Ok5pEBJmrg0/AAAAAAAAAAI/AAAAAAAAZwA/jrhQ_jRowis/photo.jpg?sz=128", "display_name": "WheninSeattle", "link": "https://stackoverflow.com/users/5812755/wheninseattle"}, "edited": false, "score": 0, "creation_date": 1453336857, "post_id": 34912610, "comment_id": 57562187, "body": "Thanks Stefan - That takes care of converting the type to a datetime, and rounding to 5 minute intervals. Any thoughts on checking for gaps inthe data, and inserting timestamps where gaps are present?"}, {"owner": {"reputation": 81, "user_id": 5812755, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-Ok5pEBJmrg0/AAAAAAAAAAI/AAAAAAAAZwA/jrhQ_jRowis/photo.jpg?sz=128", "display_name": "WheninSeattle", "link": "https://stackoverflow.com/users/5812755/wheninseattle"}, "edited": false, "score": 0, "creation_date": 1453402170, "post_id": 34912610, "comment_id": 57596671, "body": "Worked like a charm - thanks @Stefan     &lt;import pandas as pd import numpy as np import datetime from pandas import Series, DataFrame, Panel pd.options.display.max_rows =15  xlsx = pd.ExcelFile(&#39;C:\\\\Users\\\\IDL\\\\Desktop\\\\Weston_Data\\\\February&zwnj;&#8203;.xlsx&#39;) df = pd.read_excel(xlsx) print (&#39;Excel file successfully read!&#39;)  df = df.set_index(&#39;Time&#39;) df.index = df.index.to_datetime()  clean5 = df.resample(&#39;5min&#39;)  writer = pd.ExcelWriter(&#39;February_5min.xlsx&#39;, engine=&#39;xlsxwriter&#39;) clean5.to_excel(writer, sheet_name=&#39;February_5min&#39;)  writer.save()&gt;"}], "tags": [], "owner": {"reputation": 34745, "user_id": 1494637, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/a50559f059e0621b4f543bcda9aad0a6?s=128&d=identicon&r=PG&f=1", "display_name": "Stefan", "link": "https://stackoverflow.com/users/1494637/stefan"}, "is_accepted": true, "score": 2, "last_activity_date": 1453342970, "last_edit_date": 1453342970, "creation_date": 1453332335, "answer_id": 34912610, "question_id": 34912491, "link": "https://stackoverflow.com/questions/34912491/how-can-i-use-pandas-to-round-inconsistent-timestamps-to-five-minute-intervals-a/34912610#34912610", "title": "How can I use Pandas to round inconsistent timestamps to five minute intervals and fill gaps?", "body": "<p>Starting with:</p>\n\n<pre><code>                        A   B\ndatetime                     \n2015-02-02 08:03:00  43.5 NaN\n2015-02-02 08:08:00  43.4   0\n2015-02-02 08:13:00  43.3   0\n2015-02-02 08:18:00  43.2   7\n2015-02-02 08:28:00  43.1   9\n2015-02-02 08:33:00  43.0  11\n2015-02-02 08:38:00  43.0   9\n2015-02-02 08:43:00  43.0  11\n2015-02-02 09:00:00  43.1   9\n\nDatetimeIndex: 8 entries, 2015-02-02 08:03:00 to 2015-02-02 08:43:00\nData columns (total 2 columns):\nA    8 non-null float64\nB    7 non-null float64\ndtypes: float64(2)\n</code></pre>\n\n<p>You can <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.resample.html\" rel=\"nofollow\"><code>.resample()</code></a> the <code>DateTimeIndex</code>:</p>\n\n<pre><code>df.resample('5Min')\n\n                        A   B\ndatetime                     \n2015-02-02 08:00:00  43.5 NaN\n2015-02-02 08:05:00  43.4   0\n2015-02-02 08:10:00  43.3   0\n2015-02-02 08:15:00  43.2   7\n2015-02-02 08:20:00   NaN NaN\n2015-02-02 08:25:00  43.1   9\n2015-02-02 08:30:00  43.0  11\n2015-02-02 08:35:00  43.0   9\n2015-02-02 08:40:00  43.0  11\n2015-02-02 08:45:00   NaN NaN\n2015-02-02 08:50:00   NaN NaN\n2015-02-02 08:55:00   NaN NaN\n2015-02-02 09:00:00  43.1   9\n</code></pre>\n\n<p>In case your <code>datetime</code> is actually of <code>type</code> <code>string</code>, you can first:</p>\n\n<pre><code>df['datetime'] = pd.to_datetime(df.datetime)\ndf.set_index('datetime', inplace=True)\n</code></pre>\n"}], "owner": {"reputation": 81, "user_id": 5812755, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-Ok5pEBJmrg0/AAAAAAAAAAI/AAAAAAAAZwA/jrhQ_jRowis/photo.jpg?sz=128", "display_name": "WheninSeattle", "link": "https://stackoverflow.com/users/5812755/wheninseattle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 465, "favorite_count": 0, "accepted_answer_id": 34912610, "answer_count": 1, "score": 1, "last_activity_date": 1453342970, "creation_date": 1453331767, "last_edit_date": 1453331852, "question_id": 34912491, "link": "https://stackoverflow.com/questions/34912491/how-can-i-use-pandas-to-round-inconsistent-timestamps-to-five-minute-intervals-a", "title": "How can I use Pandas to round inconsistent timestamps to five minute intervals and fill gaps?", "body": "<p>Input - one year of weather data at irregular intervals (~ 5 minutes)\nDesired Output - one year of weather data at regular 5 min intervals</p>\n\n<p>I'm trying to clean up a year of weather data, and would like to use this as an opportunity to explore the use of Python and Pandas. This is a process that needs to be repeated in the future, and automating it is highly preferable!</p>\n\n<p>Sample of input</p>\n\n<pre><code>2/2/2015 8:03   43.5    \n2/2/2015 8:08   43.4    0 \n2/2/2015 8:13   43.3    0 \n2/2/2015 8:18   43.2    7  \n2/2/2015 8:28   43.1    9\n2/2/2015 8:33   43      11 \n2/2/2015 8:38   43      9 \n2/2/2015 8:43   43      11 \n</code></pre>\n\n<p>Sample of output</p>\n\n<pre><code>2/2/2015 8:00   43.5    \n2/2/2015 8:05   43.4    0 \n2/2/2015 8:10   43.3    0 \n2/2/2015 8:15   43.2    7 \n2/2/2015 8:20   N/A     N/A\n2/2/2015 8:25   43.1    9\n2/2/2015 8:30   43      11 \n2/2/2015 8:35   43      9 \n2/2/2015 8:40   43      11 \n</code></pre>\n\n<p>Thank you for your help/suggestions!</p>\n"}, {"tags": ["python", "regex", "string"], "answers": [{"comments": [{"owner": {"reputation": 2717, "user_id": 2665769, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/290f74aea2c7f75c87d3dc210042a0c8?s=128&d=identicon&r=PG", "display_name": "Neurax", "link": "https://stackoverflow.com/users/2665769/neurax"}, "edited": false, "score": 0, "creation_date": 1453334002, "post_id": 34912678, "comment_id": 57561319, "body": "This is exactly what I needed. Your sample code works as expected. When I used your re string and did <code>m = re.search(pattern, str)</code> and then found the individual elements using <code>m.group(index)</code>. I found that the whole string was placed into <code>m.group(0)</code> and the individual components were placed behind it."}, {"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "reply_to_user": {"reputation": 2717, "user_id": 2665769, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/290f74aea2c7f75c87d3dc210042a0c8?s=128&d=identicon&r=PG", "display_name": "Neurax", "link": "https://stackoverflow.com/users/2665769/neurax"}, "edited": false, "score": 0, "creation_date": 1453334146, "post_id": 34912678, "comment_id": 57561369, "body": "Yes, <code>re.search</code> finds just one match with all groups."}, {"owner": {"reputation": 2717, "user_id": 2665769, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/290f74aea2c7f75c87d3dc210042a0c8?s=128&d=identicon&r=PG", "display_name": "Neurax", "link": "https://stackoverflow.com/users/2665769/neurax"}, "edited": false, "score": 0, "creation_date": 1453334292, "post_id": 34912678, "comment_id": 57561437, "body": "Ah, so if I have a list of strings that I would like to parse, should I run this Regular expression against each of them and extract from each of the resulting groups? Or is it more efficient to make a huge block of text for RE to compile on?"}, {"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "reply_to_user": {"reputation": 2717, "user_id": 2665769, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/290f74aea2c7f75c87d3dc210042a0c8?s=128&d=identicon&r=PG", "display_name": "Neurax", "link": "https://stackoverflow.com/users/2665769/neurax"}, "edited": false, "score": 0, "creation_date": 1453334429, "post_id": 34912678, "comment_id": 57561477, "body": "If you have a big file, it is not a good idea to read it all in. If the file is small enough it can be processed as a whole with <code>p = re.compile(r&#39;^(.*?)\\s*(\\d+-\\d+)\\s*\\((\\d+%)\\)$&#39;, re.MULTILINE)</code> and then <code>p.findall(file_input)</code>."}], "tags": [], "owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "is_accepted": true, "score": 1, "last_activity_date": 1453334282, "last_edit_date": 1453334282, "creation_date": 1453332634, "answer_id": 34912678, "question_id": 34912481, "link": "https://stackoverflow.com/questions/34912481/regular-expression-to-parse-multiple-words/34912678#34912678", "title": "Regular expression to parse multiple words", "body": "<p>To parse those lines as individual strings, you can use</p>\n\n<pre><code>^(.*?)\\s*(\\d+-\\d+)\\s*\\((\\d+%)\\)$\n</code></pre>\n\n<p>See <a href=\"https://regex101.com/r/iF7xS5/1\" rel=\"nofollow\">regex demo</a></p>\n\n<p>Explanation:</p>\n\n<ul>\n<li><code>^</code> - start of a string</li>\n<li><code>(.*?)</code> - Group 1 matching zero or more characters other than a newline as few as possible</li>\n<li><code>\\s*</code> - zero or more whitespace</li>\n<li><code>(\\d+-\\d+)</code> - Group 2 one or more digits, hyphen, one or more digits</li>\n<li><code>\\s*</code> - ibid.</li>\n<li><code>\\(</code> - a literal opening <code>(</code></li>\n<li><code>(\\d+%)</code> - Group 3 matching 1 or more digits + <code>%</code> symbol</li>\n<li><code>\\)</code> - a literal closing <code>)</code></li>\n<li><code>$</code> - end of string</li>\n</ul>\n\n<p>Here is a <a href=\"http://ideone.com/iy3D4a\" rel=\"nofollow\">demo code</a>:</p>\n\n<pre><code>import re\np = re.compile(r'^(.*?)\\s*(\\d+-\\d+)\\s*\\((\\d+%)\\)$')\ns = \"TeamA 15-10 (30%)\\nTeam A 15-10 (45%)\\nTe-am A 30-15 (6%)\\nTeam A's 10-30 (14%)\\nTeam A. 15-20 (12%)\"\nlines = s.split(\"\\n\")\nfor x in lines:\nm = p.search(x)\nif m:\n    print(\"%s, %s, %s\"%(m.group(1),m.group(2),m.group(3)))\n</code></pre>\n\n<p>The <code>re.findall</code> will return lists of tuples. If you have multiline string input, use the <code>re.MULTILINE</code> flag when compiling the pattern.</p>\n"}], "owner": {"reputation": 2717, "user_id": 2665769, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/290f74aea2c7f75c87d3dc210042a0c8?s=128&d=identicon&r=PG", "display_name": "Neurax", "link": "https://stackoverflow.com/users/2665769/neurax"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1107, "favorite_count": 0, "accepted_answer_id": 34912678, "answer_count": 1, "score": 1, "last_activity_date": 1544410273, "creation_date": 1453331715, "last_edit_date": 1544410273, "question_id": 34912481, "link": "https://stackoverflow.com/questions/34912481/regular-expression-to-parse-multiple-words", "title": "Regular expression to parse multiple words", "body": "<p>I have strings of the form\n'Team ScoreA-ScoreB (##%)'</p>\n\n<p>I'm looking for a regular expression or string parsing method that will parse out all of the following:</p>\n\n<ul>\n<li>TeamA 15-10 (30%) </li>\n<li>Team A 15-10 (45%) </li>\n<li>Te-am A 30-15 (6%) </li>\n<li>Team A's 10-30 (14%) </li>\n<li>Team A. 15-20 (12%)</li>\n</ul>\n\n<p>Basically: {word/words/words abbreviated}{space}{numbers}{hyphen}{numbers}{space}{(}{numbers}{%}{)}  </p>\n\n<p>I've got: <code>/([A-Z])\\w+\\s\\d+-\\d+\\s\\(\\d+%\\)/g</code> which will only so far grab one word teams with characters only.</p>\n\n<p>This is for a hobby table-parser. I've also considered trying to split the string (however spaces mean multiple splits and joins) into three parts and concatenating, but it seems inefficient.</p>\n"}, {"tags": ["python", "django", "python-3.x", "enums", "django-custom-field"], "answers": [{"tags": [], "owner": {"reputation": 51632, "user_id": 208880, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/de311342220232e618cb27c9936ab9bf?s=128&d=identicon&r=PG", "display_name": "Ethan Furman", "link": "https://stackoverflow.com/users/208880/ethan-furman"}, "is_accepted": false, "score": 0, "last_activity_date": 1453334884, "creation_date": 1453334884, "answer_id": 34913083, "question_id": 34912460, "link": "https://stackoverflow.com/questions/34912460/custom-django-field-does-not-return-enum-instances-from-query/34913083#34913083", "title": "Custom Django field does not return Enum instances from query", "body": "<p>Not a Django person, but I can see two possibilities:</p>\n\n<ul>\n<li><code>from_db_values</code> is not being called, so your string is not reconstituted to an enum</li>\n<li><code>self._enum_class</code> is a <code>{str: str}</code> dictionary and not an actual <code>Enum</code></li>\n</ul>\n\n<p>Try sprinkling in some <code>print()</code> or <code>log()</code> calls to get a better idea of what's (not) happening.</p>\n\n<p>Oh, one more possibility is that you are running on a Python before 3.4 and not using the <a href=\"https://pypi.python.org/pypi/enum34\" rel=\"nofollow\">enum34 backport</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 71, "user_id": 1060396, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c6c28c60ac68264da67d45a02c91d725?s=128&d=identicon&r=PG", "display_name": "lgunsch", "link": "https://stackoverflow.com/users/1060396/lgunsch"}, "is_accepted": true, "score": 1, "last_activity_date": 1453339271, "creation_date": 1453339271, "answer_id": 34913758, "question_id": 34912460, "link": "https://stackoverflow.com/questions/34912460/custom-django-field-does-not-return-enum-instances-from-query/34913758#34913758", "title": "Custom Django field does not return Enum instances from query", "body": "<p>After a lot of digging, I was able to answer my own question:</p>\n\n<p><code>SubfieldBase</code> has been deprecated, and will be removed in Django 1.10; which is why I left it out of the implementation above. However, it seems that what it does is still important. Adding the following method to replaces the functionality that <code>SubfieldBase</code> would have added.</p>\n\n<pre><code>def contribute_to_class(self, cls, name, **kwargs):\n    super(EnumField, self).contribute_to_class(cls, name, **kwargs)\n    setattr(cls, self.name, Creator(self))\n</code></pre>\n\n<p>The <code>Creator</code> descriptor is what calls <code>to_python</code> on attributes. If this didn't happen, querys on models would result in the <code>EnumField</code> fields in the model instances being simply strings, instead of Enum instances like I wanted.</p>\n"}], "owner": {"reputation": 71, "user_id": 1060396, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c6c28c60ac68264da67d45a02c91d725?s=128&d=identicon&r=PG", "display_name": "lgunsch", "link": "https://stackoverflow.com/users/1060396/lgunsch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 712, "favorite_count": 0, "accepted_answer_id": 34913758, "answer_count": 2, "score": 1, "last_activity_date": 1453339271, "creation_date": 1453331602, "question_id": 34912460, "link": "https://stackoverflow.com/questions/34912460/custom-django-field-does-not-return-enum-instances-from-query", "title": "Custom Django field does not return Enum instances from query", "body": "<p>I have a simple custom field implemented to utilize Python 3 Enum instances. Assigning enum instances to my model attribute, and saving to the database works correctly. However, fetching model instances using a QuerySet results in the enum attribute being a string, instead of the respective Enum instance.</p>\n\n<p>How do I get the below <code>EnumField</code> to return valid <code>Enum</code> instances, rather than strings?</p>\n\n<p>fields.py:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>from enum import Enum\n\nfrom django.core.exceptions import ValidationError\nfrom django.db import models\n\n\nclass EnumField(models.CharField):\n    description = 'Enum with strictly typed choices'\n\n    def __init__(self, enum_class, *args, **kwargs):\n        self._enum_class = enum_class\n        choices = []\n        for enum in self._enum_class:\n            title_case = enum.name.replace('_', ' ').title()\n            entry = (enum, title_case)\n            choices.append(entry)\n        kwargs['choices'] = choices\n        kwargs['blank'] = False  # blank doesn't make sense for enum's\n        super().__init__(*args, **kwargs)\n\n    def deconstruct(self):\n        name, path, args, kwargs = super().deconstruct()\n        args.insert(0, self._enum_class)\n        del kwargs['choices']\n        return name, path, args, kwargs\n\n    def from_db_values(self, value, expression, connection, context):\n        return self.to_python(value)\n\n    def to_python(self, value):\n        if value is None or isinstance(value, self._enum_class):\n            return value\n        else:\n            return self._parse_enum(value)\n\n    def _parse_enum(self, value):\n        try:\n            enum = self._enum_class[value]\n        except KeyError:\n            raise ValidationError(\"Invalid type '{}' for {}\".format(\n                value, self._enum_class))\n        else:\n            return enum\n\n    def get_prep_value(self, value):\n        if value is None:\n            return None\n        elif isinstance(value, Enum):\n            return value.name\n        else:\n            msg = \"'{}' must have type {}\".format(\n                value, self._enum_class.__name__)\n            if self.null:\n                msg += ', or `None`'\n            raise TypeError(msg)\n\n    def get_choices(self, **kwargs):\n        kwargs['include_blank'] = False  # Blank is not a valid option\n        choices = super().get_choices(**kwargs)\n        return choices\n</code></pre>\n"}, {"tags": ["python", "reportlab"], "answers": [{"comments": [{"owner": {"reputation": 7721, "user_id": 1896222, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d9cd9f8374134b1a04199a235baca452?s=128&d=identicon&r=PG", "display_name": "max", "link": "https://stackoverflow.com/users/1896222/max"}, "edited": false, "score": 0, "creation_date": 1455043684, "post_id": 35231903, "comment_id": 58309775, "body": "Great. Works well. Thanks."}], "tags": [], "owner": {"reputation": 3724, "user_id": 2263652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eX05O.jpg?s=128&g=1", "display_name": "B8vrede", "link": "https://stackoverflow.com/users/2263652/b8vrede"}, "is_accepted": true, "score": 16, "last_activity_date": 1454700196, "last_edit_date": 1592644375, "creation_date": 1454700196, "answer_id": 35231903, "question_id": 34912444, "link": "https://stackoverflow.com/questions/34912444/reportlab-line-spacing-and-fitting-of-a-paragraph-in-a-table/35231903#35231903", "title": "reportlab line spacing and fitting of a Paragraph in a table", "body": "<p>The 2 problems are actually caused by the same issue, namely be the height of the <code>Paragraph</code>. The table cell is determined by the linespacing which determines the height of a line. And at the same time the lack of whitespace it also caused by the linespacing.</p>\n<p>In Reportlab the linespacing is set using the <code>leading</code> style attribute according to the docs.</p>\n<blockquote>\n<p>Interline spacing (Leading)</p>\n<p>The vertical offset between the point at which one line starts and where the next starts is called the leading offset.</p>\n</blockquote>\n<p>Thus the correct version of your code would use:</p>\n<pre><code>ps = ParagraphStyle('title', fontSize=20, leading=24)\n</code></pre>\n<p>Which result in:\n<a href=\"https://i.stack.imgur.com/XelDe.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/XelDe.png\" alt=\"Example of the output after correction\" /></a></p>\n"}], "owner": {"reputation": 7721, "user_id": 1896222, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d9cd9f8374134b1a04199a235baca452?s=128&d=identicon&r=PG", "display_name": "max", "link": "https://stackoverflow.com/users/1896222/max"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 11549, "favorite_count": 0, "accepted_answer_id": 35231903, "answer_count": 1, "score": 1, "last_activity_date": 1454700196, "creation_date": 1453331509, "last_edit_date": 1453404932, "question_id": 34912444, "link": "https://stackoverflow.com/questions/34912444/reportlab-line-spacing-and-fitting-of-a-paragraph-in-a-table", "title": "reportlab line spacing and fitting of a Paragraph in a table", "body": "<p>I'm using reportlab 3.1.44 in python 2.7\nHere is the code that is using a paragraph in a table.</p>\n\n<pre><code>from reportlab.platypus import SimpleDocTemplate, Paragraph, Spacer\nfrom reportlab.lib.styles import getSampleStyleSheet\nfrom reportlab.rl_config import defaultPageSize\nfrom reportlab.lib.units import inch\nfrom reportlab.lib.styles import ParagraphStyle\nfrom reportlab.platypus.tables import Table, TableStyle\nfrom reportlab.lib import colors\nfrom reportlab.lib.colors import Color\n\nstyles = getSampleStyleSheet()\n\n\ndef make_report():\n    doc = SimpleDocTemplate(\"hello.pdf\")\n    story = []\n    style = styles[\"Normal\"]\n    ps = ParagraphStyle('title', fontSize=20)\n\n    p1 = \"here is some paragraph to see in large font\"\n    data = []\n    table_row = [Paragraph(p1, ps),\\\n                 Paragraph(p1, ps)\\\n                ]\n\n\n    data.append(table_row)\n    t1 = Table(data)\n    t1.setStyle(TableStyle([\\\n               ('GRID', (0,0), (-1,-1), 0.25, colors.red, None, (2,2,1)),\\\n             ]))\n    story.append(t1)\n\n    doc.build(story)\n\nif __name__ == \"__main__\":\n    make_report()\n</code></pre>\n\n<p>The are 2 problems when the font is large.</p>\n\n<ul>\n<li>the text is larger that the cell so it goes beyond the borders</li>\n<li>the spacing between the lines is too small</li>\n</ul>\n\n<p>How can I fix this problem?</p>\n"}, {"tags": ["python", "matplotlib", "cluster-analysis", "heatmap"], "answers": [{"comments": [{"owner": {"reputation": 907, "user_id": 570313, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/307e4cebfd6e68e367c840bc99cb2669?s=128&d=identicon&r=PG", "display_name": "Dayvid Oliveira", "link": "https://stackoverflow.com/users/570313/dayvid-oliveira"}, "edited": false, "score": 0, "creation_date": 1453340087, "post_id": 34912913, "comment_id": 57563114, "body": "That is almost what I&#39;m looking for ... but let&#39;s assume the region in which the test point &#39;(a,b)&#39; is is the region [5,5] ... but the region might be composed by [5,5],[5,6],[5,7],[6,5],[6.7] ... all with almost the same average &#39;heat&#39;.  How can I automatically &#39;merge&#39; regions in order to get &#39;broader&#39; regions?"}], "tags": [], "owner": {"reputation": 4365, "user_id": 5050917, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10a198ba2d53839818a33b751eca2404?s=128&d=identicon&r=PG", "display_name": "mgc", "link": "https://stackoverflow.com/users/5050917/mgc"}, "is_accepted": false, "score": 0, "last_activity_date": 1453333849, "creation_date": 1453333849, "answer_id": 34912913, "question_id": 34912362, "link": "https://stackoverflow.com/questions/34912362/how-to-create-a-heat-map-matrix-and-generate-regions-based-heat-in-python/34912913#34912913", "title": "How to create a heat map matrix and generate regions based &#39;heat&#39; in Python?", "body": "<p>I guess it depend how you did the heatmap but assuming you used the first example from the post you linked: </p>\n\n<pre><code>import numpy as np\nimport numpy.random\nimport matplotlib.pyplot as plt\n\n# Generate some test data\nx = np.random.randn(8873)\ny = np.random.randn(8873)\n\nheatmap, xedges, yedges = np.histogram2d(x, y, bins=50)\nextent = [xedges[0], xedges[-1], yedges[0], yedges[-1]]\n\nplt.clf()\nplt.imshow(heatmap, extent=extent)\nplt.show()\n</code></pre>\n\n<p>So you now if you have a request about a point with coords <code>(a,b)</code> you need to find the position of the nearest value to <code>a</code> in <code>xedges</code> (lets call it <code>a_heatmap</code>), the position of the nearest value of <code>b</code> in <code>yedges</code> (<code>b_heatmap</code>), then look for the returned value by :</p>\n\n<pre><code>heatmap[a_heatmap, b_heatmap]\n</code></pre>\n"}], "owner": {"reputation": 907, "user_id": 570313, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/307e4cebfd6e68e367c840bc99cb2669?s=128&d=identicon&r=PG", "display_name": "Dayvid Oliveira", "link": "https://stackoverflow.com/users/570313/dayvid-oliveira"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1095, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1453333849, "creation_date": 1453331138, "last_edit_date": 1495541718, "question_id": 34912362, "link": "https://stackoverflow.com/questions/34912362/how-to-create-a-heat-map-matrix-and-generate-regions-based-heat-in-python", "title": "How to create a heat map matrix and generate regions based &#39;heat&#39; in Python?", "body": "<p>Given a set of points (x, y, 'heat'), </p>\n\n<pre><code>In [15]: df.head()\nOut[15]: \n          x         y      heat\n0  0.660055  0.395942  2.368304\n1  0.126268  0.187978  6.760261\n2  0.174857  0.637188  1.025078\n3  0.460085  0.759171  2.635334\n4  0.689242  0.173868  4.845778\n</code></pre>\n\n<p><strong>How to generate a heat map matrix and delimit heat regions (hard)?</strong> </p>\n\n<p>in such a way that, given a point, it is possible to get all points within the same region.</p>\n\n<p>PS:\nFrom <a href=\"https://stackoverflow.com/questions/2369492/generate-a-heatmap-in-matplotlib-using-a-scatter-data-set\">Generate a heatmap in MatPlotLib using a scatter data set</a>, I know how to generate graphs of regions, but not how to generate the region 'matrix' (so that given a property, it says in which region it is).</p>\n"}, {"tags": ["python", "algorithm", "dijkstra", "shortest-path"], "comments": [{"owner": {"reputation": 20275, "user_id": 887836, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/UmvnY.jpg?s=128&g=1", "display_name": "Alexander Oh", "link": "https://stackoverflow.com/users/887836/alexander-oh"}, "edited": false, "score": 2, "creation_date": 1453331666, "post_id": 34912351, "comment_id": 57560495, "body": "I guess you are almost there. Proof his algorithm incorrect by finding a graph where his algorithm provides a shortest path that is wrong."}], "answers": [{"comments": [{"owner": {"reputation": 601, "user_id": 4250464, "user_type": "registered", "accept_rate": 82, "profile_image": "https://lh4.googleusercontent.com/-y3-7HNYZ5js/AAAAAAAAAAI/AAAAAAAAG1M/P9zf60LtjKM/photo.jpg?sz=128", "display_name": "Dargor", "link": "https://stackoverflow.com/users/4250464/dargor"}, "edited": false, "score": 0, "creation_date": 1453333046, "post_id": 34912711, "comment_id": 57561006, "body": "Can you explain then why lines 17-18 in the pseudocode?"}, {"owner": {"reputation": 7412, "user_id": 1488799, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c2305b305275c01ab2d410e25b7a8c9?s=128&d=identicon&r=PG", "display_name": "Gassa", "link": "https://stackoverflow.com/users/1488799/gassa"}, "reply_to_user": {"reputation": 601, "user_id": 4250464, "user_type": "registered", "accept_rate": 82, "profile_image": "https://lh4.googleusercontent.com/-y3-7HNYZ5js/AAAAAAAAAAI/AAAAAAAAG1M/P9zf60LtjKM/photo.jpg?sz=128", "display_name": "Dargor", "link": "https://stackoverflow.com/users/4250464/dargor"}, "edited": false, "score": 0, "creation_date": 1453334265, "post_id": 34912711, "comment_id": 57561422, "body": "@Dargor They basically say &quot;The best <code>dist[v]</code> can be constructed as, for some <code>u</code>, the best <code>dist[u]</code> plus <code>length (u, v)</code>&quot;. Indeed, any best path minus the last edge is the best path to the previous vertex: if there&#39;s any better path to the previous vertex, why not use that better path and then go by the same edge?"}, {"owner": {"reputation": 601, "user_id": 4250464, "user_type": "registered", "accept_rate": 82, "profile_image": "https://lh4.googleusercontent.com/-y3-7HNYZ5js/AAAAAAAAAAI/AAAAAAAAG1M/P9zf60LtjKM/photo.jpg?sz=128", "display_name": "Dargor", "link": "https://stackoverflow.com/users/4250464/dargor"}, "edited": false, "score": 0, "creation_date": 1453334903, "post_id": 34912711, "comment_id": 57561626, "body": "So what you are saying is that neighbor not in visited and new_price &lt; cost_so_far[neighbor] are equivalent relations?"}, {"owner": {"reputation": 7412, "user_id": 1488799, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c2305b305275c01ab2d410e25b7a8c9?s=128&d=identicon&r=PG", "display_name": "Gassa", "link": "https://stackoverflow.com/users/1488799/gassa"}, "reply_to_user": {"reputation": 601, "user_id": 4250464, "user_type": "registered", "accept_rate": 82, "profile_image": "https://lh4.googleusercontent.com/-y3-7HNYZ5js/AAAAAAAAAAI/AAAAAAAAG1M/P9zf60LtjKM/photo.jpg?sz=128", "display_name": "Dargor", "link": "https://stackoverflow.com/users/4250464/dargor"}, "edited": false, "score": 0, "creation_date": 1453334994, "post_id": 34912711, "comment_id": 57561646, "body": "@Dargor You can maintain a priority queue with one entry per vertex in the graph, and then locate entries and decrease their priorities. Unfortunately, the means of locating an entry inside a priority queue are not present in standard libraries of common languages. (Still, you&#39;d be fine with your own implementation, or using an ordered set instead of a priority queue.)"}, {"owner": {"reputation": 7412, "user_id": 1488799, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c2305b305275c01ab2d410e25b7a8c9?s=128&d=identicon&r=PG", "display_name": "Gassa", "link": "https://stackoverflow.com/users/1488799/gassa"}, "reply_to_user": {"reputation": 601, "user_id": 4250464, "user_type": "registered", "accept_rate": 82, "profile_image": "https://lh4.googleusercontent.com/-y3-7HNYZ5js/AAAAAAAAAAI/AAAAAAAAG1M/P9zf60LtjKM/photo.jpg?sz=128", "display_name": "Dargor", "link": "https://stackoverflow.com/users/4250464/dargor"}, "edited": false, "score": 0, "creation_date": 1453335066, "post_id": 34912711, "comment_id": 57561669, "body": "@Dargor Alternatively, you can just push each vertex to the priority queue multiple times, with possibly different distances to it. The smallest distance wins, all other (greater) distances are discarded later when the vertex is already in <code>visited</code>."}, {"owner": {"reputation": 7412, "user_id": 1488799, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c2305b305275c01ab2d410e25b7a8c9?s=128&d=identicon&r=PG", "display_name": "Gassa", "link": "https://stackoverflow.com/users/1488799/gassa"}, "reply_to_user": {"reputation": 601, "user_id": 4250464, "user_type": "registered", "accept_rate": 82, "profile_image": "https://lh4.googleusercontent.com/-y3-7HNYZ5js/AAAAAAAAAAI/AAAAAAAAG1M/P9zf60LtjKM/photo.jpg?sz=128", "display_name": "Dargor", "link": "https://stackoverflow.com/users/4250464/dargor"}, "edited": false, "score": 0, "creation_date": 1453335138, "post_id": 34912711, "comment_id": 57561691, "body": "@Dargor <i>So what you are saying is that neighbor not in visited and new_price &lt; cost_so_far[neighbor] are equivalent relations?</i> No, what I am saying is when <code>neighbor</code> is in <code>visited</code>, the situation where <code>new_price &lt; cost_so_far[neighbor]</code> can&#39;t happen, so it&#39;s irrelevant whether you check an always-false statement."}, {"owner": {"reputation": 7412, "user_id": 1488799, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c2305b305275c01ab2d410e25b7a8c9?s=128&d=identicon&r=PG", "display_name": "Gassa", "link": "https://stackoverflow.com/users/1488799/gassa"}, "reply_to_user": {"reputation": 601, "user_id": 4250464, "user_type": "registered", "accept_rate": 82, "profile_image": "https://lh4.googleusercontent.com/-y3-7HNYZ5js/AAAAAAAAAAI/AAAAAAAAG1M/P9zf60LtjKM/photo.jpg?sz=128", "display_name": "Dargor", "link": "https://stackoverflow.com/users/4250464/dargor"}, "edited": false, "score": 0, "creation_date": 1453335376, "post_id": 34912711, "comment_id": 57561761, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/101236/discussion-between-gassa-and-dargor\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 7412, "user_id": 1488799, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c2305b305275c01ab2d410e25b7a8c9?s=128&d=identicon&r=PG", "display_name": "Gassa", "link": "https://stackoverflow.com/users/1488799/gassa"}, "is_accepted": true, "score": 3, "last_activity_date": 1453332814, "creation_date": 1453332814, "answer_id": 34912711, "question_id": 34912351, "link": "https://stackoverflow.com/questions/34912351/its-obligatory-to-check-more-than-one-time-visited-nodes-when-using-dijkstras/34912711#34912711", "title": "It&#39;s obligatory to check more than one time visited nodes when using Dijkstra&#39;s algorithm?", "body": "<p>So, the question is whether the line in your code</p>\n\n<pre><code>if neighbor not in visited:\n</code></pre>\n\n<p>can or must be replaced by</p>\n\n<pre><code>if neighbor not in visited or new_price &lt; cost_so_far[neighbor]:\n</code></pre>\n\n<p>The answer is: can, yes; must, no.\nAdding <code>new_price &lt; cost_so_far[neighbor]</code> will not change anything in the flow of the algorithm, it will be false every time <code>neighbor not in visited</code> is false.</p>\n\n<p>The reason is how Dijkstra's algorithm works.\nEssentially, it builds a tree of shortest paths.\nWhenever an <code>airport</code> is added to <code>visited</code>, it is considered to be in the tree: by this time, the algorithm has already found the shortest path to this <code>airport</code>.</p>\n\n<p>Assume that at step <code>x</code>, we add a certain airport <code>A</code> to <code>visited</code>.\nFurther assume that at step <code>y &gt; x</code>, <code>cost_so_far</code> to airport <code>A</code> decreased.\nHow could it decrease?\nIt would require that some <code>new_price = price + self.get_price(airport, neighbor)</code> is less than the <code>price</code> at step <code>y</code>.\nRecall now that <code>routes</code> is a priority queue, so it supplies <code>price</code>s in non-decreasing order.\nThe edges of the graph are also non-negative (otherwise, Dijkstra's algorithm indeed produces a wrong result and is not applicable).\nSo, we arrive at a contradiction: the new <code>new_price</code> is at least the old price, but turned out to be less than that.</p>\n\n<p>The source of confusion is perhaps that the main loop of the implementation considers some routes one-by-one.\nEssentially, these routes correspond to edges of the graph.\nSo, there can be |E| routes, but only |V| of them will get accepted, all others will fail the condition <code>if airport in visited:  continue</code>.\nIf we implement the algorithm so that each iteration of the main loop adds exactly one <code>airport</code> to <code>visited</code> (exactly one vertex to the tree of shortest paths), the whole matter may become clearer.</p>\n"}], "owner": {"reputation": 601, "user_id": 4250464, "user_type": "registered", "accept_rate": 82, "profile_image": "https://lh4.googleusercontent.com/-y3-7HNYZ5js/AAAAAAAAAAI/AAAAAAAAG1M/P9zf60LtjKM/photo.jpg?sz=128", "display_name": "Dargor", "link": "https://stackoverflow.com/users/4250464/dargor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 672, "favorite_count": 0, "accepted_answer_id": 34912711, "answer_count": 1, "score": 3, "last_activity_date": 1453332814, "creation_date": 1453331066, "last_edit_date": 1453332508, "question_id": 34912351, "link": "https://stackoverflow.com/questions/34912351/its-obligatory-to-check-more-than-one-time-visited-nodes-when-using-dijkstras", "title": "It&#39;s obligatory to check more than one time visited nodes when using Dijkstra&#39;s algorithm?", "body": "<p>Me and my colleague are discussing a implementation of Dijkstra's algorithm. Here is the implementation using Python: </p>\n\n<pre><code>def dijkstra(self, origin, destination):\n        \"\"\"Use Dijkstra's algorithm to find the cheapest path.\"\"\"\n\n        routes = Heap()\n        for neighbor in self.neighbors(origin):\n            price = self.get_price(origin, neighbor)\n            routes.push(Route(price=price, path=[origin, neighbor]))\n\n        visited = set()\n        visited.add(origin)\n\n        while routes:\n\n            # Find the nearest yet-to-visit airport\n            price, path = routes.pop()\n            airport = path[-1]\n            if airport in visited:\n                continue\n\n            # We have arrived! Wo-hoo!\n            if airport is destination:\n                return price, path\n\n            # Tentative distances to all the unvisited neighbors\n            for neighbor in self.neighbors(airport):\n                if neighbor not in visited:\n                    # Total spent so far plus the price of getting there\n                    new_price = price + self.get_price(airport, neighbor)\n                    new_path  = path  + [neighbor]\n                    routes.push(Route(new_price, new_path))\n\n            visited.add(airport)\n\n        return float('infinity')\n</code></pre>\n\n<p>The controversial line here is:</p>\n\n<pre><code>if neighbor not in visited:\n</code></pre>\n\n<p>My point is that this line must be replaced with something like</p>\n\n<pre><code>if neighbor not in visited or new_price &lt; cost_so_far[neighbor]\n</code></pre>\n\n<p>In all the implementations that I found of the algorithm says that you must check for the case when you reach a node with a cost lower than the current cost of the node. For example, the <strong>lines 17 and 18 of this pseudocode</strong> from <a href=\"https://en.wikipedia.org/wiki/Dijkstra%27s_algorithm\" rel=\"nofollow\">Wikipedia</a>:</p>\n\n<pre><code>1  function Dijkstra(Graph, source):\n2      dist[source] \u2190 0                                    // Initialization\n3\n4      create vertex set Q\n5\n6      for each vertex v in Graph:           \n7          if v \u2260 source\n8              dist[v] \u2190 INFINITY                          // Unknown distance from source to v\n9              prev[v] \u2190 UNDEFINED                         // Predecessor of v\n10\n11         Q.add_with_priority(v, dist[v])\n12\n13\n14     while Q is not empty:                              // The main loop\n15         u \u2190 Q.extract_min()                            // Remove and return best vertex\n16         for each neighbor v of u:                       // only v that is still in Q\n17             alt = dist[u] + length(u, v) \n18             if alt &lt; dist[v]\n19                 dist[v] \u2190 alt\n20                 prev[v] \u2190 u\n21                 Q.decrease_priority(v, alt)\n22\n23     return dist[], prev[]\n</code></pre>\n\n<p>The question is: <strong>Is my colleague's implementation correct or the code should be modified in order to check if you reach some neighbour with a price lower than the current one?</strong></p>\n\n<p>Note: Here is the <a href=\"https://github.com/vterron/dijkstra/blob/master/dijkstra.py\" rel=\"nofollow\">source code</a> of my colleague's implementation.</p>\n"}, {"tags": ["php", "python"], "comments": [{"owner": {"reputation": 2477, "user_id": 521952, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/sREZ1.jpg?s=128&g=1", "display_name": "Paul Carlton", "link": "https://stackoverflow.com/users/521952/paul-carlton"}, "edited": false, "score": 0, "creation_date": 1453334002, "post_id": 34912327, "comment_id": 57561320, "body": "in <code>exec(&quot;python real.py $data&quot;, $output );</code> change this to: <code>exec(&quot;python real.py $data 2&gt;&amp;1&quot;, $output );</code> and then <code>print_r($output)</code> and see what errors you get."}, {"owner": {"reputation": 3, "user_id": 5818439, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93c81b2f8baa265d5ddc9f3c55cf2c94?s=128&d=identicon&r=PG&f=1", "display_name": "SCHA", "link": "https://stackoverflow.com/users/5818439/scha"}, "reply_to_user": {"reputation": 2477, "user_id": 521952, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/sREZ1.jpg?s=128&g=1", "display_name": "Paul Carlton", "link": "https://stackoverflow.com/users/521952/paul-carlton"}, "edited": false, "score": 0, "creation_date": 1453351281, "post_id": 34912327, "comment_id": 57566028, "body": "For test files, it worked with all of the cases: &quot; 2&gt;&amp;1 &amp;&quot; and &quot;2&gt;&amp;1&quot;. However, for real files, the results shown on the web page look like: &quot;Array ( [0] =&gt; Traceback (most recent call last): [1] =&gt; File &quot;/mysql/getSeq/getOne.py&quot;, line 3, in [2] =&gt; inF = file(&quot;getSeq_Mh.fasta&quot;, &quot;r&quot;) [3] =&gt; IOError: [Errno 2] No such file or directory: &#39;getSeq_Mh.fasta&#39; [4] =&gt; Traceback (most recent call last): [5] =&gt; File &quot;/mysql/getSeq/getOne.py&quot;, line 3, in [6] =&gt; inF = file(&quot;getSeq_Mh.fasta&quot;, &quot;r&quot;) [7] =&gt; IOError: [Errno 2] No such file or directory: &#39;getSeq_Mh.fasta&#39; )&quot;."}, {"owner": {"reputation": 3, "user_id": 5818439, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93c81b2f8baa265d5ddc9f3c55cf2c94?s=128&d=identicon&r=PG&f=1", "display_name": "SCHA", "link": "https://stackoverflow.com/users/5818439/scha"}, "reply_to_user": {"reputation": 2477, "user_id": 521952, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/sREZ1.jpg?s=128&g=1", "display_name": "Paul Carlton", "link": "https://stackoverflow.com/users/521952/paul-carlton"}, "edited": false, "score": 0, "creation_date": 1453351366, "post_id": 34912327, "comment_id": 57566061, "body": "It seems that the command line of reading file in python scripts might be the problem. Will there be other solutions?"}, {"owner": {"reputation": 2477, "user_id": 521952, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/sREZ1.jpg?s=128&g=1", "display_name": "Paul Carlton", "link": "https://stackoverflow.com/users/521952/paul-carlton"}, "edited": false, "score": 0, "creation_date": 1453405130, "post_id": 34912327, "comment_id": 57598386, "body": "You could try mimicking your command line $PATH variables in <code>putenv</code> like so: <code>putenv(&quot;PATH=&#47;usr&#47;bin&#47;local;&#47;usr&#47;bin; ....&quot;)</code>  This solved problems for me, also in the python script, I needed to make all paths absolute to the directory because where it calls the file is different than the location of the file itself, causing directory, permissions and read issues.  Looks like you found your problem though with the answer below."}, {"owner": {"reputation": 3, "user_id": 5818439, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93c81b2f8baa265d5ddc9f3c55cf2c94?s=128&d=identicon&r=PG&f=1", "display_name": "SCHA", "link": "https://stackoverflow.com/users/5818439/scha"}, "reply_to_user": {"reputation": 2477, "user_id": 521952, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/sREZ1.jpg?s=128&g=1", "display_name": "Paul Carlton", "link": "https://stackoverflow.com/users/521952/paul-carlton"}, "edited": false, "score": 0, "creation_date": 1453415260, "post_id": 34912327, "comment_id": 57603819, "body": "Thanks a lot for the detailed explanation!!"}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 5818439, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93c81b2f8baa265d5ddc9f3c55cf2c94?s=128&d=identicon&r=PG&f=1", "display_name": "SCHA", "link": "https://stackoverflow.com/users/5818439/scha"}, "edited": false, "score": 0, "creation_date": 1453351432, "post_id": 34914027, "comment_id": 57566081, "body": "$cd means: If python file is located in /mysql/getSeq/, then $cd = &quot;/mysql/getSeq&quot;; . Is this right? But nothing on the web page."}, {"owner": {"reputation": 86789, "user_id": 1422451, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/sFFvX.jpg?s=128&g=1", "display_name": "Parfait", "link": "https://stackoverflow.com/users/1422451/parfait"}, "reply_to_user": {"reputation": 3, "user_id": 5818439, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93c81b2f8baa265d5ddc9f3c55cf2c94?s=128&d=identicon&r=PG&f=1", "display_name": "SCHA", "link": "https://stackoverflow.com/users/5818439/scha"}, "edited": false, "score": 0, "creation_date": 1453352483, "post_id": 34914027, "comment_id": 57566381, "body": "The <code>$cd</code> variable is path of PHP script (not Python script unless it is in same folder). It is not really needed for <code>proc_open</code> but included for shortened command line."}, {"owner": {"reputation": 3, "user_id": 5818439, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93c81b2f8baa265d5ddc9f3c55cf2c94?s=128&d=identicon&r=PG&f=1", "display_name": "SCHA", "link": "https://stackoverflow.com/users/5818439/scha"}, "edited": false, "score": 0, "creation_date": 1453353412, "post_id": 34914027, "comment_id": 57566680, "body": "What if PHP and PYTHON scripts are located in different directory? Since there is another file which should be in-filed to python, that file and python scripts are located together in another cluster."}, {"owner": {"reputation": 86789, "user_id": 1422451, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/sFFvX.jpg?s=128&g=1", "display_name": "Parfait", "link": "https://stackoverflow.com/users/1422451/parfait"}, "reply_to_user": {"reputation": 3, "user_id": 5818439, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93c81b2f8baa265d5ddc9f3c55cf2c94?s=128&d=identicon&r=PG&f=1", "display_name": "SCHA", "link": "https://stackoverflow.com/users/5818439/scha"}, "edited": false, "score": 0, "creation_date": 1453385327, "post_id": 34914027, "comment_id": 57585335, "body": "Then change <code>$cd</code> in command line to absolute path of directory: <code>proc_open(&quot;python \\&quot;&#47;path&#47;to&#47;real.py\\&quot; \\&quot;$data\\&quot;&quot;,...)</code>."}], "tags": [], "owner": {"reputation": 86789, "user_id": 1422451, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/sFFvX.jpg?s=128&g=1", "display_name": "Parfait", "link": "https://stackoverflow.com/users/1422451/parfait"}, "is_accepted": true, "score": 0, "last_activity_date": 1453341060, "creation_date": 1453341060, "answer_id": 34914027, "question_id": 34912327, "link": "https://stackoverflow.com/questions/34912327/how-to-php-echo-from-python-print/34914027#34914027", "title": "how to &quot;php echo from python print&quot;?", "body": "<p>Consider using PHP's <a href=\"http://php.net/manual/en/function.proc-open.php\" rel=\"nofollow\">proc_open()</a> to handle child processing (input/output); here the child process being the Python script. Below calls Python at command line, passing <code>$data</code> argument and receiving the <code>$output</code> parameter. </p>\n\n<p>Two assumptions are made that may need adjustment on your end: <em>python</em> is a path variable on your server and Python script is in same directory as PHP script. If not, insert full path to <em>python.exe</em> in command line and/or insert full path of directory to <em>real.py</em> in command line.</p>\n\n<pre><code>$output=null;\n$g = \"0.CUFF.6.1_2\";\n$data = escapeshellarg(json_encode($g));\n\n$cd = dirname(__FILE__);                       // CURRENT DIRECTORY OF SCRIPT\n$output = null;\n\n$descriptorspec = array(\n   0 =&gt; array(\"pipe\", \"r\"),\n   1 =&gt; array(\"pipe\", \"w\"),\n   2 =&gt; array(\"file\", $cd.\"/error.txt\", \"a\")   // ERROR TXT OUTPUT OF PROCESSING\n);\n\n/* CALLING COMMAND LINE */\n$process = proc_open(\"python \\\"$cd/real.py\\\" \\\"$data\\\"\" , $descriptorspec, $pipes, $cd); \n\n/* RECEIVING OUTPUT */\n$output = stream_get_contents($pipes[1]);\nfclose($pipes[1]);\nproc_close($process);\n\necho $output;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3, "user_id": 5818439, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93c81b2f8baa265d5ddc9f3c55cf2c94?s=128&d=identicon&r=PG&f=1", "display_name": "SCHA", "link": "https://stackoverflow.com/users/5818439/scha"}, "is_accepted": false, "score": 0, "last_activity_date": 1453361095, "creation_date": 1453361095, "answer_id": 34917682, "question_id": 34912327, "link": "https://stackoverflow.com/questions/34912327/how-to-php-echo-from-python-print/34917682#34917682", "title": "how to &quot;php echo from python print&quot;?", "body": "<p>It's solved. When I put all the files (\"real.py\", \"real.php\", and \"getSeq_Mh.fasta(which is in-filed to real.py)\") in the same directory, it worked. </p>\n\n<p>Thanks, Parfait. Your commend gave me a hint.</p>\n"}], "owner": {"reputation": 3, "user_id": 5818439, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93c81b2f8baa265d5ddc9f3c55cf2c94?s=128&d=identicon&r=PG&f=1", "display_name": "SCHA", "link": "https://stackoverflow.com/users/5818439/scha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1370, "favorite_count": 2, "accepted_answer_id": 34914027, "answer_count": 2, "score": 0, "last_activity_date": 1453361095, "creation_date": 1453330963, "last_edit_date": 1453357365, "question_id": 34912327, "link": "https://stackoverflow.com/questions/34912327/how-to-php-echo-from-python-print", "title": "how to &quot;php echo from python print&quot;?", "body": "<p>I am trying to get python matrix to php (struggling for resolving this problem for more than 20 hours). I would really appreciate for any help!</p>\n\n<p>There are two cases below: TEST and REAL. </p>\n\n<ul>\n<li>TEST: A variable of php is passed to python. With the passed variable into python, a matrix value is explicitly assigned. This matrix should be called to php. </li>\n<li>REAL: A variable of php is passed to python. Along with the variable, one file is in-filed to python. Then, parsed value is assigned to matrix which should be called to php. </li>\n</ul>\n\n<p>They have the exactly same output of python running as well as the same php code. The only difference is that in the REAL case, a file is in-filed to python script. TEST python itself works fine, REAL python itself works fine, TEST php-python running works fine, but REAL php-python running fails. So my guess is that php does not allow python to in-file into the python scripts?? My codes look like:</p>\n\n<h1>=========== TEST CASE ===========</h1>\n\n<p>===== test.py </p>\n\n<pre><code>import os, sys, json\ng = json.loads( sys.argv[1] )\n\ngene = ['&gt;MhA1_Contig0.frz3.gene1', '&gt;MhA1_Contig0.frz3.gene1', '&gt;MhA1_Contig0.frz3.gene1']\ngene.append(g)\nseq = [\"ATGGAC\", \"GGCACAGC\", \"CCACC\"]\nseq.append('ACTGAAA')\n\nprint json.dumps(output)\n</code></pre>\n\n<p>===== test.php</p>\n\n<pre><code>$output=null;\n$g = \"0.CUFF.6.1_2\";\n$data = escapeshellarg(json_encode($g));\nexec(\"python /mysql/getSeq/test.py $data 2&gt;&amp;1 &amp;\", $output );\n//exec(\"python /mysql/getSeq/test.py $data 2&gt;&amp;1\", $output );   --&gt; worked fine\n//exec(\"python /mysql/getSeq/test.py $data\", $output );   --&gt; worked fine\n//print_r($output);   --&gt; worked fine\n//var_dump($output);   --&gt; worked fine\n\n$result = json_decode( exec(\"python /mysql/getSeq/test.py $data\", $output ) , true);\n//print_r( $result);   --&gt; worked fine \n//var_dump($result);   --&gt; worked fine\necho $result[0][0] . \"&lt;br&gt;\";\necho $result[0][1] . \"&lt;br&gt;\";\necho $result[1][0] . \"&lt;br&gt;\";\necho $result[1][1] . \"&lt;br&gt;\";\n</code></pre>\n\n<p>===== results on the web page</p>\n\n<pre><code>&gt;MhA1_Contig0.frz3.gene1\nATGGAC\n&gt;MhA1_Contig0.frz3.gene1\nGGCACAGC\n</code></pre>\n\n<h1>=========== REAL CASE ===========</h1>\n\n<p>===== real.py</p>\n\n<pre><code>import os, sys, json\n\ninF = file(\"getSeq_Mh.fasta\", \"r\")\ng = json.loads( sys.argv[1] )\n\ninF = file(\"getSeq_Mh.fasta\", \"r\")\nline = inF.readline()\nmatrix = []\n--- (some codes here) ---\ninF = file(\"getSeq_Mh.fasta\", \"r\")\nline = inF.readline()\ngene = []\n--- (some codes here) ---\nfor i in range(len(index)) : \n    output[i][0] = \"&gt;\" + gene[i]\n    output[i][1]= str(matrix[i])[2:-4]\n\nprint json.dumps(output)\n# print output\n</code></pre>\n\n<p>===== real.php</p>\n\n<pre><code>$output=null;\n$g = \"0.CUFF.6.1_2\";\n$data = escapeshellarg(json_encode($g));\nexec(\"python /mysql/getSeq/real.py $data  2&gt;&amp;1 &amp;\", $output );\n//exec(\"python /mysql/getSeq/real.py $data  2&gt;&amp;1\", $output );  --&gt; no difference in results\n//exec(\"python /mysql/getSeq/real.py $data\", $output );   --&gt; no difference in results\n$result = json_decode( exec(\"python /mysql/getSeq/real.py $data 2&gt;&amp;1\", $output ) , true);\nprint_r($output) . \"&lt;br&gt;\";\n//var_dump($output) . \"&lt;br&gt;\";\n//print_r( $result) . \"&lt;br&gt;\";\n//var_dump($result) . \"&lt;br&gt;\";\n//echo $result[0][0] . \"&lt;br&gt;\";\n//echo $result[0][1] . \"&lt;br&gt;\";\n//echo $result[1][0] . \"&lt;br&gt;\";\n//echo $result[1][1] . \"&lt;br&gt;\";\n</code></pre>\n\n<p>===== results on the web page</p>\n\n<p>print_r($output); --> error</p>\n\n<pre><code>Array ( [0] =&gt; Traceback (most recent call last): [1] =&gt; File \"/mysql/getSeq/getOne.py\", line 3, in [2] =&gt; inF = file(\"getSeq_Mh.fasta\", \"r\") [3] =&gt; IOError: [Errno 2] No such file or directory: 'getSeq_Mh.fasta' [4] =&gt; Traceback (most recent call last): [5] =&gt; File \"/mysql/getSeq/real.py.py\", line 3, in [6] =&gt; inF = file(\"getSeq_Mh.fasta\", \"r\") [7] =&gt; IOError: [Errno 2] No such file or directory: 'getSeq_Mh.fasta' )\n</code></pre>\n\n<p>var_dump($output); --> error</p>\n\n<pre><code>array(8) { [0]=&gt; string(34) \"Traceback (most recent call last):\" [1]=&gt; string(95) \" File \"/mysql/getSeq/getOne.py\", line 3, in \" [2]=&gt; string(38) \" inF = file(\"getSeq_Mh.fasta\", \"r\")\" [3]=&gt; string(63) \"IOError: [Errno 2] No such file or directory: 'getSeq_Mh.fasta'\" [4]=&gt; string(34) \"Traceback (most recent call last):\" [5]=&gt; string(95) \" File \"/mysql/getSeq/real.py.py\", line 3, in \" [6]=&gt; string(38) \" inF = file(\"getSeq_Mh.fasta\", \"r\")\" [7]=&gt; string(63) \"IOError: [Errno 2] No such file or directory: 'getSeq_Mh.fasta'\" } \n</code></pre>\n\n<p>print_r( $result); --> error</p>\n\n<pre><code>(nothing)\n</code></pre>\n\n<p>var_dump($result); --> error</p>\n\n<pre><code>NULL \n</code></pre>\n\n<h1>=========== PYTHON ITSELF ===========</h1>\n\n<pre><code>[['&gt;MhA1_Contig0.frz3.gene1', 'ATGGACT'], ['&gt;MhA1_Contig0.frz3.gene1', 'GGCACAGC'], ['&gt;MhA1_Contig0.frz3.gene1', 'CCACC']]\n</code></pre>\n"}, {"tags": ["python", "beautifulsoup", "python-3.5", "bs4"], "answers": [{"tags": [], "owner": {"reputation": 7770, "user_id": 40076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd6aae9615c3b36130e2470902833a72?s=128&d=identicon&r=PG", "display_name": "taleinat", "link": "https://stackoverflow.com/users/40076/taleinat"}, "is_accepted": false, "score": 0, "last_activity_date": 1453358181, "last_edit_date": 1495540752, "creation_date": 1453357831, "answer_id": 34916827, "question_id": 34912171, "link": "https://stackoverflow.com/questions/34912171/beautifulsoup4-cannot-get-the-printing-right-python3/34916827#34916827", "title": "BeautifulSoup4 cannot get the printing right. Python3", "body": "<p>First, you're getting output of the form <code>b'stuff'</code> because you are calling <code>.encode()</code>, which returns a <a href=\"https://docs.python.org/3/library/stdtypes.html#typebytes\" rel=\"nofollow noreferrer\">bytes</a> object. If you want to print strings for reading, keep them as strings!</p>\n\n<p>As a guess, I assume you're looking to print strings from HTML nicely, pretty much as they would be seen in a browser. For that, you need to decode the HTML string encoding, as described in <a href=\"https://stackoverflow.com/questions/2087370/decode-html-entities-in-python-string\">this SO answer</a>, which for Python 3.5 means:</p>\n\n<pre><code>import html\nhtml.unescape(childtext)\n</code></pre>\n\n<p>Among other things, this will convert any <code>&amp;nbsp;</code> sequences in the HTML string into <code>'\\xa0'</code> characters, which are printed as spaces. However, if you want to break lines on these characters despite <code>&amp;nbsp;</code> literally meaning \"non-breaking space\", you'll have to replace those with actual spaces before printing, e.g. using <code>x.replace('\\xa0', ' ')</code>.</p>\n"}], "owner": {"reputation": 1, "user_id": 5105668, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-v-5CrgKbRjw/AAAAAAAAAAI/AAAAAAAAAJk/IIzbKcMBFas/photo.jpg?sz=128", "display_name": "Philip Wiberg", "link": "https://stackoverflow.com/users/5105668/philip-wiberg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 56, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1453358181, "creation_date": 1453330250, "last_edit_date": 1453357963, "question_id": 34912171, "link": "https://stackoverflow.com/questions/34912171/beautifulsoup4-cannot-get-the-printing-right-python3", "title": "BeautifulSoup4 cannot get the printing right. Python3", "body": "<p>I'm currently in the learning process of Python3, I am scraping a site for some data, which works fine, but when it comes to printing out the p tags I just can't get it to work as I expect.</p>\n\n<pre><code>import urllib\nimport lxml\nfrom urllib import request\nfrom bs4 import BeautifulSoup\n\n\n\ndata = urllib.request.urlopen('www.site.com').read()\nsoup = BeautifulSoup(data, 'lxml')\nstat = soup.find('div', {'style' : 'padding-left: 10px';})\ndialog = stat.findChildren('p')\n\nfor child in dialog:\n    childtext = child.get_text()\n    #have tried child.string aswell (exactly the same result)\n    childlist.append(childtext.encode('utf-8', 'ignore')\n    #Have tried with str(childtext.encode('utf-8', 'ignore'))\n\nprint (childlist)\n</code></pre>\n\n<p>That all works, but the printing is \"bytes\"</p>\n\n<pre><code>b'This is a ptag.string'\nb'\\xc2\\xa0 (probably &amp;nbsp'\nb'this is anotherone'\n</code></pre>\n\n<p>Real sample text that is ascii encoded:</p>\n\n<pre><code>b\"Announcementb'Firefox users may encounter browser warnings encountering SSL SHA-1 certificates\"\n</code></pre>\n\n<p>Note that Announcement is p and the rest is 'strong' under a p tag.</p>\n\n<p>Same sample with utf-8 encode</p>\n\n<pre><code>b\"Announcement\\xc2\\xa0\\xe2\\x80\\x93\\xc2\\xa0b'Firefox users may encounter browser warnings encountering SSL SHA-1 \"\n</code></pre>\n\n<p>I WISH to get:</p>\n\n<pre><code>\"Announcement\"\n(newline / new item in list)\n\"Firefox users may encounter browser warnings encountering SSL SHA-1 certificates\"\n</code></pre>\n\n<p>As you see, the incorrect chars are stripped in \"ascii\", but as some are <code>&amp;nbsp;</code> that destroys some linebreaks and I have yet to figure out how to print that correctly, also, the b's are still there then!</p>\n\n<p>I really can't figure out how to remove b's and encode or decode properly. I have tried every \"solution\" that I can google up.</p>\n\n<p>HTML Content = utf-8</p>\n\n<p>I would most rather not change the full data before processing because it will mess up my other work and I don't think it is needed.</p>\n\n<p>Prettify does not work.</p>\n\n<p>Any suggestions?</p>\n"}, {"tags": ["python", "apache", "webfaction"], "answers": [{"comments": [{"owner": {"reputation": 49, "user_id": 4272280, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7a236a6e860c6befee0fc034944b3d9b?s=128&d=identicon&r=PG&f=1", "display_name": "Russ", "link": "https://stackoverflow.com/users/4272280/russ"}, "edited": false, "score": 0, "creation_date": 1453334173, "post_id": 34912385, "comment_id": 57561384, "body": "thanks for the resonse. i found where PYTHONPATH was and added the path to it but didnt work. I commented out registration from installed apps in settings and now i get: ImportError: No module named registration.backends.default.urls"}], "tags": [], "owner": {"reputation": 3448, "user_id": 5530155, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/wtp3s.jpg?s=128&g=1", "display_name": "gariepy", "link": "https://stackoverflow.com/users/5530155/gariepy"}, "is_accepted": true, "score": 0, "last_activity_date": 1453331261, "creation_date": 1453331261, "answer_id": 34912385, "question_id": 34912148, "link": "https://stackoverflow.com/questions/34912148/migrating-django-app-to-apache-server-importerror-no-module-named-registration/34912385#34912385", "title": "migrating django app to apache server: ImportError: No module named registration", "body": "<p>I'm not sure about django, but typically python looks in the PYTHONPATH environment variable.  It looks like you are on a Linux platform, so try adding something like this to your system <code>.bashrc</code> file (or appropriate shell config):</p>\n\n<pre><code>export PYTHONPATH=\"$HOME/webapps/django_app/lib/python2.7:$PYTHONPATH\"\n</code></pre>\n\n<p>Alternately, if you can find where the PYTHONPATH is already being set, just add <code>$HOME/webapps/django_app/lib/python2.7</code> to it.</p>\n\n<p>If you are not running the bash shell, you will need to set the environment variable in the appropriate way...both versions of python should reference the same PYTHONPATH variable, so that shouldn't matter.</p>\n"}], "owner": {"reputation": 49, "user_id": 4272280, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7a236a6e860c6befee0fc034944b3d9b?s=128&d=identicon&r=PG&f=1", "display_name": "Russ", "link": "https://stackoverflow.com/users/4272280/russ"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 139, "favorite_count": 0, "accepted_answer_id": 34912385, "answer_count": 1, "score": 0, "last_activity_date": 1453331261, "creation_date": 1453330142, "last_edit_date": 1453330570, "question_id": 34912148, "link": "https://stackoverflow.com/questions/34912148/migrating-django-app-to-apache-server-importerror-no-module-named-registration", "title": "migrating django app to apache server: ImportError: No module named registration", "body": "<p>Im have been having trouble migrating django project to apache server. I think that python cannot find django registration but it is installed in: /home/user/lib/python2.7/django_registration-2.0.4.dist-info. \nbut i also have python2.7 in: /home/user/webapps/myproject/lib/python2.7. I tried moving django registration to the second path to no avail.</p>\n\n<p>I need help pointing django registration to the python module search path. According to webfaction docs it says, \"you must add $HOME/webapps/django_app/lib/python2.7 to the Python module search path\"</p>\n\n<p>Thanks for the help before i start ripping out my hair!</p>\n"}, {"tags": ["python", "python-2.7", "google-app-engine", "virtualenv"], "answers": [{"comments": [{"owner": {"reputation": 32987, "user_id": 647991, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/yFZCC.jpg?s=128&g=1", "display_name": "blueFast", "link": "https://stackoverflow.com/users/647991/bluefast"}, "edited": false, "score": 0, "creation_date": 1453364031, "post_id": 34912565, "comment_id": 57571089, "body": "Thanks, but the package I am installing in the virtualenv is a package which <i>must not</i> be vendored. It is just needed when developing on the localhost, but not needed in gae. That&#39;s why I just install in the virtualenv (and not in the vendor directory), but the <code>dev_appserver.py</code> does not find it."}, {"owner": {"reputation": 32987, "user_id": 647991, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/yFZCC.jpg?s=128&g=1", "display_name": "blueFast", "link": "https://stackoverflow.com/users/647991/bluefast"}, "edited": false, "score": 0, "creation_date": 1453364170, "post_id": 34912565, "comment_id": 57571160, "body": "BTW: the link you provide is giving details on third party libraries <i>when running on gae</i>. Is there any documentation on how to use the GAE python  SDK during development, on the localhost?"}, {"owner": {"reputation": 32987, "user_id": 647991, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/yFZCC.jpg?s=128&g=1", "display_name": "blueFast", "link": "https://stackoverflow.com/users/647991/bluefast"}, "edited": false, "score": 0, "creation_date": 1453364642, "post_id": 34912565, "comment_id": 57571399, "body": "And also: nowhere I can find a statement saying that gae does not support virtualenv (on the localhost)."}, {"owner": {"reputation": 12908, "user_id": 1201324, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hkRLn.jpg?s=128&g=1", "display_name": "Tim Hoffman", "link": "https://stackoverflow.com/users/1201324/tim-hoffman"}, "edited": false, "score": 0, "creation_date": 1453385288, "post_id": 34912565, "comment_id": 57585308, "body": "It doesn&#39;t.  any library that is not part of the runtime or directly supported lirbraries must be in your code base.  Remember the dev server is emulating the production sandbox.  It will not look for libraries/files outside of your project structure.  What applies to the production environment applies to production - except you need to provide the supported 3rd party librabries yourself - ie lxml"}], "tags": [], "owner": {"reputation": 1223, "user_id": 1137026, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30991040e72c744822657571be6c6933?s=128&d=identicon&r=PG", "display_name": "dizballanze", "link": "https://stackoverflow.com/users/1137026/dizballanze"}, "is_accepted": false, "score": 1, "last_activity_date": 1453332114, "creation_date": 1453332114, "answer_id": 34912565, "question_id": 34912098, "link": "https://stackoverflow.com/questions/34912098/why-is-the-gae-python-sdk-using-the-systems-python-while-in-a-virtualenv/34912565#34912565", "title": "Why is the GAE python SDK using the system&#39;s python while in a virtualenv?", "body": "<p>GAE does not currently support <code>virtualenv</code>. To use packages you could:</p>\n\n<ul>\n<li>write a list of needed packages <a href=\"https://cloud.google.com/appengine/docs/python/tools/libraries27#runtime-libraries\" rel=\"nofollow\">supported by GAE runtime</a> in <code>app.yaml</code></li>\n<li><p>install third-party packages to <code>lib/</code> directory (pure python packages only) and add these code to <code>appengine_config.py</code>:</p>\n\n<pre><code>from google.appengine.ext import vendor\n\n# Add any libraries installed in the \"lib\" folder.\nvendor.add('lib')\n</code></pre></li>\n</ul>\n\n<p>Read more in <a href=\"https://cloud.google.com/appengine/docs/python/tools/libraries27\" rel=\"nofollow\">GAE documentation</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 32987, "user_id": 647991, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/yFZCC.jpg?s=128&g=1", "display_name": "blueFast", "link": "https://stackoverflow.com/users/647991/bluefast"}, "edited": false, "score": 0, "creation_date": 1453364007, "post_id": 34915721, "comment_id": 57571074, "body": "Thanks, but the package I am installing in the virtualenv is a package which <i>must not</i> be vendored. It is just needed when developing on the localhost, but not needed in gae. That&#39;s why I just install in the virtualenv (and not in the vendor directory), but the <code>dev_appserver.py</code> does not find it."}, {"owner": {"reputation": 32987, "user_id": 647991, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/yFZCC.jpg?s=128&g=1", "display_name": "blueFast", "link": "https://stackoverflow.com/users/647991/bluefast"}, "edited": false, "score": 0, "creation_date": 1453365181, "post_id": 34915721, "comment_id": 57571653, "body": "And a general question: are you tracking the virtualenv in your repo? To deploy to gae you need to have the vendored libraries committed to your repo ..."}, {"owner": {"reputation": 3249, "user_id": 2295256, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f0562db96652dd9b2840470850c5f7a?s=128&d=identicon&r=PG", "display_name": "Jeffrey Godwyll", "link": "https://stackoverflow.com/users/2295256/jeffrey-godwyll"}, "reply_to_user": {"reputation": 32987, "user_id": 647991, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/yFZCC.jpg?s=128&g=1", "display_name": "blueFast", "link": "https://stackoverflow.com/users/647991/bluefast"}, "edited": false, "score": 0, "creation_date": 1453372266, "post_id": 34915721, "comment_id": 57576239, "body": "If it must not be vendored as it&#39;s not needed in production, you can just skip both the <code>virtualenv</code> and the <code>lib</code> folder. That way they aren&#39;t tracked"}, {"owner": {"reputation": 3249, "user_id": 2295256, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f0562db96652dd9b2840470850c5f7a?s=128&d=identicon&r=PG", "display_name": "Jeffrey Godwyll", "link": "https://stackoverflow.com/users/2295256/jeffrey-godwyll"}, "reply_to_user": {"reputation": 32987, "user_id": 647991, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/yFZCC.jpg?s=128&g=1", "display_name": "blueFast", "link": "https://stackoverflow.com/users/647991/bluefast"}, "edited": false, "score": 0, "creation_date": 1453372340, "post_id": 34915721, "comment_id": 57576286, "body": "With this approach, I&#39;m tracking just the virtualenv&#39;s site packages and not the entire virtualenv"}, {"owner": {"reputation": 12908, "user_id": 1201324, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hkRLn.jpg?s=128&g=1", "display_name": "Tim Hoffman", "link": "https://stackoverflow.com/users/1201324/tim-hoffman"}, "edited": false, "score": 0, "creation_date": 1453373083, "post_id": 34915721, "comment_id": 57576835, "body": "Not sure how you could have a package required for dev but not for production (may be a profiler) in which case include the module in a standard lib dir (as per all other recommendations for 3rd party libs) and use skip files so it doesn&#39;t get deployed."}, {"owner": {"reputation": 32987, "user_id": 647991, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/yFZCC.jpg?s=128&g=1", "display_name": "blueFast", "link": "https://stackoverflow.com/users/647991/bluefast"}, "edited": false, "score": 0, "creation_date": 1453374211, "post_id": 34915721, "comment_id": 57577663, "body": "ok, I see. I usually ignore the whole virtualenv. Not sure how to ignore a directory but track a specific subdirectory. I&#39;ll need to check the git docs"}, {"owner": {"reputation": 32987, "user_id": 647991, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/yFZCC.jpg?s=128&g=1", "display_name": "blueFast", "link": "https://stackoverflow.com/users/647991/bluefast"}, "reply_to_user": {"reputation": 12908, "user_id": 1201324, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hkRLn.jpg?s=128&g=1", "display_name": "Tim Hoffman", "link": "https://stackoverflow.com/users/1201324/tim-hoffman"}, "edited": false, "score": 0, "creation_date": 1453374358, "post_id": 34915721, "comment_id": 57577772, "body": "@TimHoffman: in this case I am hardcoding the database settings in my settings.py for the gae environment, but I am using dj_database_url to set up the database settings in the localhost."}, {"owner": {"reputation": 3249, "user_id": 2295256, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f0562db96652dd9b2840470850c5f7a?s=128&d=identicon&r=PG", "display_name": "Jeffrey Godwyll", "link": "https://stackoverflow.com/users/2295256/jeffrey-godwyll"}, "reply_to_user": {"reputation": 32987, "user_id": 647991, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/yFZCC.jpg?s=128&g=1", "display_name": "blueFast", "link": "https://stackoverflow.com/users/647991/bluefast"}, "edited": false, "score": 0, "creation_date": 1453374669, "post_id": 34915721, "comment_id": 57577989, "body": "@gonvaled you don&#39;t need to track any subdirectory, ignore the entire env and just keep a requirements file and you should be ok across setups"}, {"owner": {"reputation": 32987, "user_id": 647991, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/yFZCC.jpg?s=128&g=1", "display_name": "blueFast", "link": "https://stackoverflow.com/users/647991/bluefast"}, "edited": false, "score": 0, "creation_date": 1453374847, "post_id": 34915721, "comment_id": 57578111, "body": "Mmmm. As far as I understand, gae does not install requirements (as opposed to Heroku, for example): they need to be installed on the repo and pushed with the deploy. So they need to be tracked."}, {"owner": {"reputation": 12908, "user_id": 1201324, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hkRLn.jpg?s=128&g=1", "display_name": "Tim Hoffman", "link": "https://stackoverflow.com/users/1201324/tim-hoffman"}, "edited": false, "score": 0, "creation_date": 1453385386, "post_id": 34915721, "comment_id": 57585380, "body": "An alternative approach whould be to check if your in DEV in app_config when the instance starts, if so explicitly load settings,  If not don&#39;t do it.  You can also ignore your local settings so they are not deployed.  Keeps things very simple,"}], "tags": [], "owner": {"reputation": 3249, "user_id": 2295256, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f0562db96652dd9b2840470850c5f7a?s=128&d=identicon&r=PG", "display_name": "Jeffrey Godwyll", "link": "https://stackoverflow.com/users/2295256/jeffrey-godwyll"}, "is_accepted": false, "score": 2, "last_activity_date": 1453372052, "last_edit_date": 1495540820, "creation_date": 1453352447, "answer_id": 34915721, "question_id": 34912098, "link": "https://stackoverflow.com/questions/34912098/why-is-the-gae-python-sdk-using-the-systems-python-while-in-a-virtualenv/34915721#34915721", "title": "Why is the GAE python SDK using the system&#39;s python while in a virtualenv?", "body": "<p>In addition to <a href=\"https://stackoverflow.com/a/34912565/2295256\">dizballanze's answer</a>, I instead prefer to keep everything installed in my <code>virtualenv</code> and then symlink my <code>virtualenv's site packages</code> to the <code>lib</code> folder with something similar to:</p>\n\n<pre><code>ln -s env/lib/python2.7/site-packages lib\n</code></pre>\n\n<p>which results in a folder whereby my <code>devappserver</code> uses the <code>virtualenv</code>'s packages</p>\n\n<pre><code>\u251c\u2500\u2500 env\n\u251c\u2500\u2500 lib -&gt; env/lib/python2.7/site-packages\n</code></pre>\n\n<p>You can read more of my approach at <a href=\"https://www.jeffgodwyll.com/posts/2015/google-appegine-vendoring-done-right/\" rel=\"nofollow noreferrer\">https://www.jeffgodwyll.com/posts/2015/google-appegine-vendoring-done-right/</a></p>\n\n<p><strong>EDIT</strong></p>\n\n<p>App engine uploads all files in the project directory. To prevent app engine from uploading the entire virtualenv let it through the <code>skip files</code> section of your <code>app.yaml</code>:</p>\n\n<pre><code>skip_files:\n- ^env$  # virtual environment's folder\n</code></pre>\n"}], "owner": {"reputation": 32987, "user_id": 647991, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/yFZCC.jpg?s=128&g=1", "display_name": "blueFast", "link": "https://stackoverflow.com/users/647991/bluefast"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 569, "favorite_count": 1, "answer_count": 2, "score": 1, "last_activity_date": 1453372052, "creation_date": 1453329959, "last_edit_date": 1453364266, "question_id": 34912098, "link": "https://stackoverflow.com/questions/34912098/why-is-the-gae-python-sdk-using-the-systems-python-while-in-a-virtualenv", "title": "Why is the GAE python SDK using the system&#39;s python while in a virtualenv?", "body": "<p>I am inside a virtualenv. I have installed the GAE python SDK following <a href=\"https://cloud.google.com/appengine/downloads#Google_App_Engine_SDK_for_Python\" rel=\"nofollow\">the documentation</a>. As per the instructions, the SDK is not directly on the virtualenv, but is in the path.</p>\n\n<p>I have installed some (non-vendored, that is, in the virtualenv) packages and I am starting the GAE development server:</p>\n\n<pre><code>\u00bb dev_appserver.py app.yaml\n</code></pre>\n\n<p>But this crashes when processing a request with:</p>\n\n<pre><code>  ...\n  File \"/usr/lib/python2.7/importlib/__init__.py\", line 37, in import_module\n    __import__(name)\n  File \"/foo/bar/appengine-django-skeleton/mysite/settings.py\", line 105, in &lt;module&gt;\n    import dj_database_url\nImportError: No module named dj_database_url\n</code></pre>\n\n<p>What I have already verified:</p>\n\n<ul>\n<li>the virtualenv is active</li>\n<li>the package is installed in the virtualenv</li>\n<li>the active python is the one in the virtualenv</li>\n<li>the package can be imported when on the python shell</li>\n<li><code>dev_appserver.py</code> has on the first line <code>#!/usr/bin/env python</code>, which should be telling the system to use the active python (the one from the virtualenv!)</li>\n</ul>\n\n<p>Why is <code>/usr/lib/python2.7/importlib/__init__.py</code> being used at all? This does not belong to the active python (the one on the virtualenv)!</p>\n\n<h2>EDIT</h2>\n\n<p>There is <a href=\"https://github.com/peterhudec/gae_installer\" rel=\"nofollow\">a project</a> to install the sdk on a virtualenv, but it's outdated. Is there a more recent method to accomplish this?</p>\n"}, {"tags": ["python", "scrapy", "anaconda"], "comments": [{"owner": {"reputation": 6179, "user_id": 140510, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HfuIZ.jpg?s=128&g=1", "display_name": "R. Max", "link": "https://stackoverflow.com/users/140510/r-max"}, "edited": false, "score": 0, "creation_date": 1454330866, "post_id": 34912054, "comment_id": 57981438, "body": "try <code>conda install -c scrapinghub scrapy</code>."}, {"owner": {"user_type": "does_not_exist", "display_name": "user6179058"}, "edited": false, "score": 0, "creation_date": 1460149302, "post_id": 34912054, "comment_id": 60625333, "body": "Answer that worked for me is here: <a href=\"http://stackoverflow.com/questions/23172384/lxml-runtime-error-reason-incompatible-library-version-etree-so-requires-vers\" title=\"lxml runtime error reason incompatible library version etree so requires vers\">stackoverflow.com/questions/23172384/&hellip;</a>"}], "owner": {"reputation": 1255, "user_id": 5431568, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/2aa8d0ebf28cace58d0fcba0c16273e3?s=128&d=identicon&r=PG&f=1", "display_name": "Char", "link": "https://stackoverflow.com/users/5431568/char"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1212, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1453329815, "creation_date": 1453329815, "question_id": 34912054, "link": "https://stackoverflow.com/questions/34912054/issues-with-scrapy-and-anaconda", "title": "Issues with scrapy and anaconda", "body": "<p>I'm trying to get scrapy installed and working. I have anaconda installed so I deleted the path to python 3.5 from my bash profile but I still get this error. All my dependencies are up to date, including lxml, but I get this when I try to start a project in scrapy. </p>\n\n<pre><code>Traceback (most recent call last):\n  File \"/usr/local/bin/scrapy\", line 7, in &lt;module&gt;\n    from scrapy.cmdline import execute\n  File \"/usr/local/lib/python2.7/site-packages/scrapy/__init__.py\", line 48, in &lt;module&gt;\n    from scrapy.spiders import Spider\n  File \"/usr/local/lib/python2.7/site-packages/scrapy/spiders/__init__.py\", line 10, in &lt;module&gt;\n    from scrapy.http import Request\n  File \"/usr/local/lib/python2.7/site-packages/scrapy/http/__init__.py\", line 11, in &lt;module&gt;\n    from scrapy.http.request.form import FormRequest\n  File \"/usr/local/lib/python2.7/site-packages/scrapy/http/request/form.py\", line 9, in &lt;module&gt;\n    import lxml.html\n  File \"/usr/local/lib/python2.7/site-packages/lxml/html/__init__.py\", line 54, in &lt;module&gt;\n    from .. import etree\nImportError: dlopen(/usr/local/lib/python2.7/site-packages/lxml/etree.so, 2):            Library not loaded: libxml2.2.dylib\n  Referenced from: /usr/local/lib/python2.7/site-packages/lxml/etree.so\n  Reason: Incompatible library version: etree.so requires version 12.0.0 or later, but libxml2.2.dylib provides version 10.0.0\n</code></pre>\n"}, {"tags": ["python", "pygame"], "comments": [{"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 0, "creation_date": 1453330260, "post_id": 34912046, "comment_id": 57559918, "body": "<code>time.sleep</code> and <code>while</code> in <code>countDown</code> is not good idea. It stops <code>mainloop</code>  and program will not response on keys for this time."}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 4217058, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh4.googleusercontent.com/-F3jBfd7hYD4/AAAAAAAAAAI/AAAAAAAAAEA/GFhmJNlJhV4/photo.jpg?sz=128", "display_name": "Lord Farqwhad", "link": "https://stackoverflow.com/users/4217058/lord-farqwhad"}, "edited": false, "score": 0, "creation_date": 1453335367, "post_id": 34912352, "comment_id": 57561756, "body": "I&#39;m just trying to countdown before the game begins by going: 1 2 3 4 5 Draw <i>Game begins</i>  But the numbers are overlapping"}, {"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "reply_to_user": {"reputation": 21, "user_id": 4217058, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh4.googleusercontent.com/-F3jBfd7hYD4/AAAAAAAAAAI/AAAAAAAAAEA/GFhmJNlJhV4/photo.jpg?sz=128", "display_name": "Lord Farqwhad", "link": "https://stackoverflow.com/users/4217058/lord-farqwhad"}, "edited": false, "score": 0, "creation_date": 1453335564, "post_id": 34912352, "comment_id": 57561816, "body": "you have to draw rectangle to &quot;remove&quot; old text before you draw new text. New text has no own background."}], "tags": [], "owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "is_accepted": false, "score": 0, "last_activity_date": 1453331068, "creation_date": 1453331068, "answer_id": 34912352, "question_id": 34912046, "link": "https://stackoverflow.com/questions/34912046/pygame-text-rectangles-overlapping/34912352#34912352", "title": "Pygame Text Rectangles Overlapping", "body": "<p>You draw in <code>while</code> loop and you don't clear this place before you draw new text. You have to fill this place with background color or background image before you draw new text. Probably you could use <code>fill(white, TextRect)</code> to fill (clear) only part of screen.</p>\n\n<p>You use <code>window.fill(white)</code> but not inside of <code>while</code> loop in <code>countDown</code> so it clears text (and all screen) after you finish counting.</p>\n\n<p><code>redraw</code> means \"clear screen and draw everything again\". To clear screen you use <code>fill(white)</code></p>\n\n<hr>\n\n<p>I don't know what you are trying to do - but <code>sleep</code> and <code>while</code> (in <code>countDown</code>) probably is not good idea.</p>\n"}], "owner": {"reputation": 21, "user_id": 4217058, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh4.googleusercontent.com/-F3jBfd7hYD4/AAAAAAAAAAI/AAAAAAAAAEA/GFhmJNlJhV4/photo.jpg?sz=128", "display_name": "Lord Farqwhad", "link": "https://stackoverflow.com/users/4217058/lord-farqwhad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 410, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1453331068, "creation_date": 1453329794, "question_id": 34912046, "link": "https://stackoverflow.com/questions/34912046/pygame-text-rectangles-overlapping", "title": "Pygame Text Rectangles Overlapping", "body": "<p>this is my code:</p>\n\n<pre><code>import pygame\nimport time\npygame.init()\n\ndisplay_width = 800\ndisplay_height = 600\nwindow = pygame.display.set_mode((display_width,display_height))\npygame.display.set_caption('Draw')\nclock = pygame.time.Clock()\np1Img = pygame.image.load('player.png')\np2Img = pygame.image.load('player2.png')\nbullet = pygame.image.load('bullet.png')\nid = 1\n\nwhite = (255,255,255)\nblack = (0,0,0)\n\n\n\n\n\n\ndef player(x,y):\n    window.blit(p1Img,(p1x,p1y))\n\ndef player2(x,y):\n    window.blit(p2Img,(p2x,p2y))\n\ndef text_objects(text,font):\n    textSurface = font.render(text, True, black)\n    return textSurface, textSurface.get_rect()\n\n\n\ndef messageDisplay(text):\n    largeText = pygame.font.Font('freesansbold.ttf',115)\n    TextSurf, TextRect = text_objects(text,largeText)\n    TextRect.center = (display_width/2, display_height/2)\n    window.blit(TextSurf,TextRect)\n\n    pygame.display.update()\n\ndef countDown(drawTime):\n    while drawTime &lt;= 5:\n        time.sleep(1)\n        pygame.display.update()\n        messageDisplay(str(drawTime))\n        drawTime += 1\n    else:\n        pygame.display.update()\n        messageDisplay('Draw')\n\n\n\np1x = -5\np1y = 500\nb1x = 56\nb1y = 510\n\np2x = 740\np2y = 500\nb2x = 740\nb2y = 500\n\nwhile(id != 0):\n    for event in pygame.event.get():\n        if event.type == pygame.QUIT:\n            id = 0\n        if event.type == pygame.KEYDOWN:\n            if event.key == pygame.K_q:\n                window.blit(bullet,(b1x, b1y))\n                pygame.display.update()\n        if event.type == pygame.KEYUP:\n            if event.key == pygame.K_q:\n                window.blit(bullet,(b1x, b1y))\n\n\n    window.fill(white)\n    player(p1x,p1y)\n    player2(p2x,p2y)\n    pygame.display.update()\n    countDown(1)\n    clock.tick(120)\n\npygame.quit()\n</code></pre>\n\n<p>The problem is that the text draws over itself. I've read countless things about how I need to redraw the surface but I'm not entirely sure what they mean? I did window.fill(white) but that doesn't seem to do it. </p>\n"}, {"tags": ["python", "python-curses"], "answers": [{"comments": [{"owner": {"reputation": 163, "user_id": 5196007, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/dfbe866a40921aa8144aced2de396f56?s=128&d=identicon&r=PG&f=1", "display_name": "Emlingur", "link": "https://stackoverflow.com/users/5196007/emlingur"}, "edited": false, "score": 0, "creation_date": 1453331832, "post_id": 34912325, "comment_id": 57560568, "body": "I will add a sample code tomorrow, I fixed the issue but the code is a bit uglier now."}], "tags": [], "owner": {"reputation": 2479, "user_id": 820319, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c8d8b17fb98d0730c1a7a346ba9ae9c3?s=128&d=identicon&r=PG", "display_name": "brenns10", "link": "https://stackoverflow.com/users/820319/brenns10"}, "is_accepted": false, "score": 0, "last_activity_date": 1453330952, "creation_date": 1453330952, "answer_id": 34912325, "question_id": 34912032, "link": "https://stackoverflow.com/questions/34912032/window-delch-for-virtual-screen/34912325#34912325", "title": "window.delch() for virtual screen", "body": "<p>If you could provide some sample code that reproduces your issue, that would be helpful.  The behavior of windows, as far as I can reproduce, is that <code>delch()</code> will not update the screen until <code>refresh()</code> has been called.  See my sample code which demonstrates this:</p>\n\n<pre><code>import curses\nimport time\n\nstdscr = curses.initscr()\ncurses.noecho()\ncurses.cbreak()\nstdscr.keypad(True)\n\nstdscr.addch(1, 1, ord('a'))\ntime.sleep(1)\nstdscr.refresh()\nstdscr.delch(1, 1)\ntime.sleep(3)\nstdscr.refresh()\ntime.sleep(1)\n\ncurses.echo()\ncurses.nocbreak()\nstdscr.keypad(False)\ncurses.endwin()\n</code></pre>\n"}], "owner": {"reputation": 163, "user_id": 5196007, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/dfbe866a40921aa8144aced2de396f56?s=128&d=identicon&r=PG&f=1", "display_name": "Emlingur", "link": "https://stackoverflow.com/users/5196007/emlingur"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 240, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1453330952, "creation_date": 1453329679, "question_id": 34912032, "link": "https://stackoverflow.com/questions/34912032/window-delch-for-virtual-screen", "title": "window.delch() for virtual screen", "body": "<p>When I use window.delch(y, x) in curses, python, the delete will happen on the screen, rather than the virtual screen, that is, the character will be deleted even if I don't call window.refresh(). Why is that, and how would I delete the character only on the virtual screen?</p>\n"}, {"tags": ["python", "arrays", "numpy"], "comments": [{"owner": {"reputation": 75, "user_id": 5818424, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a4f2021cd98820b2a7908bd9a875c07f?s=128&d=identicon&r=PG&f=1", "display_name": "learning_python", "link": "https://stackoverflow.com/users/5818424/learning-python"}, "reply_to_user": {"reputation": 9243, "user_id": 1318181, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/1ZfAE.png?s=128&g=1", "display_name": "kylieCatt", "link": "https://stackoverflow.com/users/1318181/kyliecatt"}, "edited": false, "score": 0, "creation_date": 1453330565, "post_id": 34911986, "comment_id": 57560067, "body": "<code>import array import numpy as np import scipy from scipy.stats.stats import pearsonr import os  n=10 v2=np.loadtxt(&#39;data.txt&#39;) dim=len(v2)&#47;10 split=np.split(v2,dim)  for i in  range(0,dim):     t=v2[i:n*(i+1)]     if t !=[0]*10:         no_zeros=t</code>  but of course it does not work. Plus I don&#39;t want to save all numbers in a vector and then analyze it because the real file that I should deal with has thousands of entries!  Thank you"}, {"owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 0, "creation_date": 1453334633, "post_id": 34911986, "comment_id": 57561536, "body": "Why are the numbers in one long line?  In Python it is easiest to read text files line by line."}], "answers": [{"comments": [{"owner": {"reputation": 75, "user_id": 5818424, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a4f2021cd98820b2a7908bd9a875c07f?s=128&d=identicon&r=PG&f=1", "display_name": "learning_python", "link": "https://stackoverflow.com/users/5818424/learning-python"}, "edited": false, "score": 0, "creation_date": 1453330896, "post_id": 34912136, "comment_id": 57560211, "body": "your input is given from &quot;line&quot;, how do I make him read the file that I have without wasting memory?? THank you soooo much!"}, {"owner": {"reputation": 75, "user_id": 5818424, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a4f2021cd98820b2a7908bd9a875c07f?s=128&d=identicon&r=PG&f=1", "display_name": "learning_python", "link": "https://stackoverflow.com/users/5818424/learning-python"}, "edited": false, "score": 0, "creation_date": 1453397722, "post_id": 34912136, "comment_id": 57594005, "body": "what if now my .txt file are numbers, separated by newlines creating different paragraphs. I want python to fill the array up to the dimension that I want (dim=10),even if the following line starts before I finished filling my array, therefore ignoring the newline. How can I modify your previous program?"}], "tags": [], "owner": {"reputation": 368, "user_id": 946762, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/LAC3d.jpg?s=128&g=1", "display_name": "Noam Kremen", "link": "https://stackoverflow.com/users/946762/noam-kremen"}, "is_accepted": true, "score": 1, "last_activity_date": 1453331435, "last_edit_date": 1453331435, "creation_date": 1453330103, "answer_id": 34912136, "question_id": 34911986, "link": "https://stackoverflow.com/questions/34911986/python-loading-numbers-from-text-file-to-arrays-skipping-certain-entries/34912136#34912136", "title": "python: loading numbers from text file to arrays skipping certain entries", "body": "<p>There you go. Code has been tested but you'll need to add the reading-from-file part</p>\n\n<pre><code>def not_zeroes(arr):\n    return any([x!=0 for x in arr])\n\nvectors = []\nfor line in open('myfile.txt'):\n\n    numbers = list(map(float,line.split()))\n    for i in range(0, len(numbers), 10):\n        vector = numbers[i:i+10]\n        if not_zeroes(vector):\n            vectors.append(vector)\nprint vectors\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 79972, "user_id": 298607, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/DVW9g.jpg?s=128&g=1", "display_name": "dawg", "link": "https://stackoverflow.com/users/298607/dawg"}, "is_accepted": false, "score": 1, "last_activity_date": 1453330816, "creation_date": 1453330816, "answer_id": 34912294, "question_id": 34911986, "link": "https://stackoverflow.com/questions/34911986/python-loading-numbers-from-text-file-to-arrays-skipping-certain-entries/34912294#34912294", "title": "python: loading numbers from text file to arrays skipping certain entries", "body": "<p>Step by step in the interactive shell.</p>\n\n<p>Your string:</p>\n\n<pre><code>&gt;&gt;&gt; st='0 0 0 0 0 0 0 0 0 0 1 2 3 4 5 0 7 8 9 0 32 47 5 87 4 65 78 90 94 22 0 0 0 0 0 0 0 0 0 0 3 2 4 6 5 2 1 4 6 5'\n</code></pre>\n\n<p>That string in as a list of integers:</p>\n\n<pre><code>&gt;&gt;&gt; map(int, st.split())\n[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 2, 3, 4, 5, 0, 7, 8, 9, 0, 32, 47, 5, 87, 4, 65, 78, 90, 94, 22, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, 2, 4, 6, 5, 2, 1, 4, 6, 5]\n</code></pre>\n\n<p>That list in tuples of 10 ints each:</p>\n\n<pre><code>&gt;&gt;&gt; zip(*[iter(map(int, st.split()))]*10)\n[(0, 0, 0, 0, 0, 0, 0, 0, 0, 0), (1, 2, 3, 4, 5, 0, 7, 8, 9, 0), (32, 47, 5, 87, 4, 65, 78, 90, 94, 22), (0, 0, 0, 0, 0, 0, 0, 0, 0, 0), (3, 2, 4, 6, 5, 2, 1, 4, 6, 5)]\n</code></pre>\n\n<p>Now filter out the tuples that are just zeros:</p>\n\n<pre><code>&gt;&gt;&gt; [t for t in zip(*[iter(map(int, st.split()))]*10) if sum(t)]\n[(1, 2, 3, 4, 5, 0, 7, 8, 9, 0), (32, 47, 5, 87, 4, 65, 78, 90, 94, 22), (3, 2, 4, 6, 5, 2, 1, 4, 6, 5)]\n</code></pre>\n\n<p>If you want a,b,c to have those values (and you know you have 3 tuples:</p>\n\n<pre><code>&gt;&gt;&gt; a,b,c=[t for t in zip(*[iter(map(int, st.split()))]*10) if sum(t)]\n&gt;&gt;&gt; a\n(1, 2, 3, 4, 5, 0, 7, 8, 9, 0)\n&gt;&gt;&gt; b\n(32, 47, 5, 87, 4, 65, 78, 90, 94, 22)\n&gt;&gt;&gt; c\n(3, 2, 4, 6, 5, 2, 1, 4, 6, 5)\n</code></pre>\n"}], "owner": {"reputation": 75, "user_id": 5818424, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a4f2021cd98820b2a7908bd9a875c07f?s=128&d=identicon&r=PG&f=1", "display_name": "learning_python", "link": "https://stackoverflow.com/users/5818424/learning-python"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 92, "favorite_count": 0, "accepted_answer_id": 34912136, "answer_count": 2, "score": 0, "last_activity_date": 1453331435, "creation_date": 1453329426, "last_edit_date": 1453329540, "question_id": 34911986, "link": "https://stackoverflow.com/questions/34911986/python-loading-numbers-from-text-file-to-arrays-skipping-certain-entries", "title": "python: loading numbers from text file to arrays skipping certain entries", "body": "<p>I'm quit new to programming so I'm sorry to bother you with a very simple question.</p>\n\n<p>I have a .txt of numbers written consecutively (but with spacing). Using python, I would like to create and save arrays of dimension=10 only if they don't have all entries equal to zero. </p>\n\n<p>For example my data.txt is written like this:</p>\n\n<pre><code>0 0 0 0 0 0 0 0 0 0 1 2 3 4 5 0 7 8 9 0 32 47 5 87 4 65 78 90 94 22 0 0 0 0 0 0 0 0 0 0 3 2 4 6 5 2 1 4 6 5 \n</code></pre>\n\n<p>I want to scan all numbers in the file in sets of 10 (which is the dimension of my vectors), if all entries are zero, then don't save; otherwise save in array of dimension=10. </p>\n\n<p>The result I want to have is </p>\n\n<pre><code>a= [1 2 3 4 5 0 7 8 9 0]\n\nb= [32 47 5 87 4 65 78 90 94 22]\n\nc= [3 2 4 6 5 2 1 4 6 5]\n</code></pre>\n\n<p>I then need to use this vectors to calculate the pearson correlation function.</p>\n\n<p>Hope the question is clear.Thank you in advance for your help!</p>\n"}, {"tags": ["python", "pyqt", "qimage", "qpixmap"], "answers": [{"comments": [{"owner": {"reputation": 399, "user_id": 5650922, "user_type": "registered", "accept_rate": 47, "profile_image": "https://graph.facebook.com/1704470243118587/picture?type=large", "display_name": "Cahit Y\u0131ld\u0131r\u0131m", "link": "https://stackoverflow.com/users/5650922/cahit-y%c4%b1ld%c4%b1r%c4%b1m"}, "edited": false, "score": 0, "creation_date": 1453331199, "post_id": 34912122, "comment_id": 57560323, "body": "You mean like this : <code>second_image = QtGui.QPixmap() second_image.toImage(selectable_images[i].pixmap())</code> . I have tried this but got an error <code>QPixmap.toImage() : too many arguments</code>"}], "tags": [], "owner": {"reputation": 478, "user_id": 5338788, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3qegk2Z7nWE/AAAAAAAAAAI/AAAAAAAAA5k/0qJHTFfomzM/photo.jpg?sz=128", "display_name": "Dick Kniep", "link": "https://stackoverflow.com/users/5338788/dick-kniep"}, "is_accepted": false, "score": 1, "last_activity_date": 1453330054, "creation_date": 1453330054, "answer_id": 34912122, "question_id": 34911952, "link": "https://stackoverflow.com/questions/34911952/typeerror-qpixmap-toimage-first-argument-of-unbound-method-must-have-type-q/34912122#34912122", "title": "TypeError: QPixmap.toImage(): first argument of unbound method must have type &#39;QPixmap&#39;", "body": "<p>To use the \"toImage\" method you first have to instantiate the Qpixmap class to an object. See <a href=\"http://python.6.x6.nabble.com/QPixmap-loadFromData-td5003372.html\" rel=\"nofollow\">http://python.6.x6.nabble.com/QPixmap-loadFromData-td5003372.html</a></p>\n\n<p>In the example \"loadfromdata\" is used instead of \"toImage\", but the principle is the same.</p>\n"}, {"comments": [{"owner": {"reputation": 399, "user_id": 5650922, "user_type": "registered", "accept_rate": 47, "profile_image": "https://graph.facebook.com/1704470243118587/picture?type=large", "display_name": "Cahit Y\u0131ld\u0131r\u0131m", "link": "https://stackoverflow.com/users/5650922/cahit-y%c4%b1ld%c4%b1r%c4%b1m"}, "edited": false, "score": 0, "creation_date": 1453376103, "post_id": 34915302, "comment_id": 57578921, "body": "At this time got an error : <code>AttributeError: &#39;NoneType&#39; object has no attribute &#39;toImage&#39;</code>"}, {"owner": {"reputation": 10344, "user_id": 1994235, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc318537facc47ebe1ae98a7aabacecf?s=128&d=identicon&r=PG", "display_name": "three_pineapples", "link": "https://stackoverflow.com/users/1994235/three-pineapples"}, "reply_to_user": {"reputation": 399, "user_id": 5650922, "user_type": "registered", "accept_rate": 47, "profile_image": "https://graph.facebook.com/1704470243118587/picture?type=large", "display_name": "Cahit Y\u0131ld\u0131r\u0131m", "link": "https://stackoverflow.com/users/5650922/cahit-y%c4%b1ld%c4%b1r%c4%b1m"}, "edited": false, "score": 0, "creation_date": 1453414365, "post_id": 34915302, "comment_id": 57603407, "body": "@CahitY\u0131ld\u0131r\u0131m Then <code>selectable_images[i].pixmap()</code> is returning <code>None</code> for one or more of your images. You&#39;ll have to debug that yourself."}], "tags": [], "owner": {"reputation": 10344, "user_id": 1994235, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc318537facc47ebe1ae98a7aabacecf?s=128&d=identicon&r=PG", "display_name": "three_pineapples", "link": "https://stackoverflow.com/users/1994235/three-pineapples"}, "is_accepted": false, "score": 0, "last_activity_date": 1453349630, "creation_date": 1453349630, "answer_id": 34915302, "question_id": 34911952, "link": "https://stackoverflow.com/questions/34911952/typeerror-qpixmap-toimage-first-argument-of-unbound-method-must-have-type-q/34915302#34915302", "title": "TypeError: QPixmap.toImage(): first argument of unbound method must have type &#39;QPixmap&#39;", "body": "<p>The <code>xxx.pixmap()</code> methods you are using already return constructed <code>QPixmap</code>s. Instead of trying to use the <code>QPixmap.toImage(xxx.pixmap())</code>, just use <code>xxx.pixmap().toImage()</code>.</p>\n\n<p>In your case that would be <code>self.labelDisplayBigImage.pixmap().toImage()</code> and <code>selectable_images[i].pixmap().toImage()</code>.</p>\n"}], "owner": {"reputation": 399, "user_id": 5650922, "user_type": "registered", "accept_rate": 47, "profile_image": "https://graph.facebook.com/1704470243118587/picture?type=large", "display_name": "Cahit Y\u0131ld\u0131r\u0131m", "link": "https://stackoverflow.com/users/5650922/cahit-y%c4%b1ld%c4%b1r%c4%b1m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1179, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1453349630, "creation_date": 1453329270, "question_id": 34911952, "link": "https://stackoverflow.com/questions/34911952/typeerror-qpixmap-toimage-first-argument-of-unbound-method-must-have-type-q", "title": "TypeError: QPixmap.toImage(): first argument of unbound method must have type &#39;QPixmap&#39;", "body": "<p>I have a method that compare labels contents and return matches . The method is :</p>\n\n<pre><code>def get_selected_image(self):\n    if self.labelDisplayBigImage.pixmap() is None:\n        return False\n    first_image = QtGui.QPixmap.toImage(self.labelDisplayBigImage.pixmap())\n    selectable_images = [self.labelDisplayImage1, self.labelDisplayImage2, self.labelDisplayImage3,\n                         self.labelDisplayImage4, self.labelDisplayImage5, self.labelDisplayImage6,\n                         self.labelDisplayImage7, self.labelDisplayImage8]\n\n    for i in range(len(selectable_images)):\n        second_image = QtGui.QPixmap.toImage(selectable_images[i].pixmap())\n        if first_image == second_image:\n            return selectable_images[i].pixmap()\n</code></pre>\n\n<p>But got an error <code>TypeError: QPixmap.toImage(): first argument of unbound method must have type 'QPixmap'</code> . So what is the problem ?</p>\n"}, {"tags": ["python", "matplotlib"], "comments": [{"owner": {"reputation": 957, "user_id": 4151075, "user_type": "registered", "accept_rate": 68, "profile_image": "https://graph.facebook.com/100001381091762/picture?type=large", "display_name": "Marek", "link": "https://stackoverflow.com/users/4151075/marek"}, "edited": false, "score": 2, "creation_date": 1453329416, "post_id": 34911902, "comment_id": 57559565, "body": "Create a list of X of points and second list of Y of points and <code>plt.plot(list_x, list_y)</code> this should work."}, {"owner": {"reputation": 391, "user_id": 5397497, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/10153533963280250/picture?type=large", "display_name": "Brian", "link": "https://stackoverflow.com/users/5397497/brian"}, "reply_to_user": {"reputation": 957, "user_id": 4151075, "user_type": "registered", "accept_rate": 68, "profile_image": "https://graph.facebook.com/100001381091762/picture?type=large", "display_name": "Marek", "link": "https://stackoverflow.com/users/4151075/marek"}, "edited": false, "score": 0, "creation_date": 1453330215, "post_id": 34911902, "comment_id": 57559893, "body": "Thank you! That worked just fine."}], "answers": [{"comments": [{"owner": {"reputation": 957, "user_id": 4151075, "user_type": "registered", "accept_rate": 68, "profile_image": "https://graph.facebook.com/100001381091762/picture?type=large", "display_name": "Marek", "link": "https://stackoverflow.com/users/4151075/marek"}, "reply_to_user": {"reputation": 391, "user_id": 5397497, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/10153533963280250/picture?type=large", "display_name": "Brian", "link": "https://stackoverflow.com/users/5397497/brian"}, "edited": false, "score": 0, "creation_date": 1453330407, "post_id": 34912022, "comment_id": 57559995, "body": "Welcome, I&#39;ve edited, but then realized that both works. :)"}, {"owner": {"reputation": 391, "user_id": 5397497, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/10153533963280250/picture?type=large", "display_name": "Brian", "link": "https://stackoverflow.com/users/5397497/brian"}, "edited": false, "score": 0, "creation_date": 1453330500, "post_id": 34912022, "comment_id": 57560043, "body": "I tested both and you&#39;re right. The results are identical. It&#39;s great to know more than one way to do it though!"}], "tags": [], "owner": {"reputation": 957, "user_id": 4151075, "user_type": "registered", "accept_rate": 68, "profile_image": "https://graph.facebook.com/100001381091762/picture?type=large", "display_name": "Marek", "link": "https://stackoverflow.com/users/4151075/marek"}, "is_accepted": true, "score": 1, "last_activity_date": 1453329619, "creation_date": 1453329619, "answer_id": 34912022, "question_id": 34911902, "link": "https://stackoverflow.com/questions/34911902/connecting-lines-between-points-plotted-in-matplotlib/34912022#34912022", "title": "Connecting lines between points plotted in Matplotlib", "body": "<p>This should help you. Make your changes.</p>\n\n<pre><code>from matplotlib.pyplot import plot, show\nplot([SSLPXPoint1, SSLPXPoint2], [SSLPYPoint1, SSLPYPoint2])\nplot([SSLPXPoint3, SSLPXPoint2], [SSLPYPoint3, SSLPYPoint2])\nplot([SSLPXPoint3, SSLPXPoint4], [SSLPYPoint3, SSLPYPoint4])\nshow()\n</code></pre>\n\n<p>Edited, because previous one was connecting all dots.</p>\n"}], "owner": {"reputation": 391, "user_id": 5397497, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/10153533963280250/picture?type=large", "display_name": "Brian", "link": "https://stackoverflow.com/users/5397497/brian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 820, "favorite_count": 0, "accepted_answer_id": 34912022, "answer_count": 1, "score": 1, "last_activity_date": 1453329619, "creation_date": 1453329076, "question_id": 34911902, "link": "https://stackoverflow.com/questions/34911902/connecting-lines-between-points-plotted-in-matplotlib", "title": "Connecting lines between points plotted in Matplotlib", "body": "<p>I have 4 X and Y lists that I am plotting separately with matplotlib.pyplot, i.e. point1[x1,y1], point2[x2,y2], point3[x3,y3] and point4[x4,y4]. What I am trying to do in the plot is to connect point1 to point2, point2 to point3, etc. until all 4 points are connected which would represent a square in my case. The data is for dynamic x and y displacements for a rectangular pump I'm working on that shows if a displacement limitation is exceeded inside a vessel's moonpool. </p>\n\n<p>Here is the code I have so far that gives me the following plot and the plot generated:</p>\n\n<p><a href=\"https://i.stack.imgur.com/dyYmg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dyYmg.png\" alt=\"Generated plot\"></a></p>\n\n<pre><code>## SSLP displacement time histories to be plotted\npoint1 = (3.61, 4, -3)\npoint2 = (3.61, -4, -3)\npoint3 = (-3.61, -4, -3)\npoint4 = (-3.61, 4, -3)\nSSLPXPoint1 = SSLP.TimeHistory('X', 1, objectExtra=OrcFxAPI.oeBuoy(point1))\nSSLPYPoint1 = SSLP.TimeHistory('Y', 1, objectExtra=OrcFxAPI.oeBuoy(point1))\nSSLPXPoint2 = SSLP.TimeHistory('X', 1, objectExtra=OrcFxAPI.oeBuoy(point2))\nSSLPYPoint2 = SSLP.TimeHistory('Y', 1, objectExtra=OrcFxAPI.oeBuoy(point2))\nSSLPXPoint3 = SSLP.TimeHistory('X', 1, objectExtra=OrcFxAPI.oeBuoy(point3))\nSSLPYPoint3 = SSLP.TimeHistory('Y', 1, objectExtra=OrcFxAPI.oeBuoy(point3))\nSSLPXPoint4 = SSLP.TimeHistory('X', 1, objectExtra=OrcFxAPI.oeBuoy(point4))\nSSLPYPoint4 = SSLP.TimeHistory('Y', 1, objectExtra=OrcFxAPI.oeBuoy(point4))\n\n# setup plot\ncaseName = os.path.splitext(info.modelFileName)[0]\npoint1Plot = [3.61, 4]\npoint2Plot = [3.61, -4]\npoint3Plot = [-3.61, -4]\npoint4Plot = [-3.61, 4]\nvesselPointsX = [90.89, 100.89, 100.89, 90.89, 90.89]\nvesselPointsY = [5, 5, -5, -5, 5]\nmoonpoolCLX = [89, 103]\nmoonpoolCLY = [0, 0]\nfig = plt.figure(figsize=(20, 15))\nax = fig.add_subplot(1, 1, 1)\nplt.plot(vesselPointsX, vesselPointsY, 'r', lw=2, label='OCV Moonpool Limits')\nplt.plot(moonpoolCLX, moonpoolCLY, 'k--', label='Moonpool CL')\nplt.plot(SSLPXPoint1, SSLPYPoint1, 'k')\nplt.plot(SSLPXPoint2, SSLPYPoint2, 'k')\nplt.plot(SSLPXPoint3, SSLPYPoint3, 'k')\nplt.plot(SSLPXPoint4, SSLPYPoint4, 'k')\nax.set_title(\"SSLP Maximum Offsets Inside Moonpool for {}\".format(caseName), fontsize=20)\nax.set_xlabel('Distance Along OCV from Stern [m]', fontsize=15)\nax.set_ylabel('Distance from Moonpool Centerline, (+) Towards Portside [m]', fontsize=15)\nax.set_xlim(89, 103)\nax.set_ylim(-7, 7)\nplt.gca().set_aspect('equal', adjustable='box')\nplt.draw()\nplt.legend()\nplt.tight_layout()\nplt.show()\n</code></pre>\n\n<p>Any help would be greatly appreciated.</p>\n\n<p>Thanks,</p>\n\n<p>Brian</p>\n"}, {"tags": ["python", "virtualenv"], "comments": [{"owner": {"reputation": 50185, "user_id": 276949, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/52e96d535181560d2b46d4b513454ee5?s=128&d=identicon&r=PG", "display_name": "Martin Konecny", "link": "https://stackoverflow.com/users/276949/martin-konecny"}, "edited": false, "score": 0, "creation_date": 1453329151, "post_id": 34911873, "comment_id": 57559439, "body": "Is there a difference in the numpy versions?"}, {"owner": {"reputation": 10901, "user_id": 1076479, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/eLQUX.jpg?s=128&g=1", "display_name": "Gil Hamilton", "link": "https://stackoverflow.com/users/1076479/gil-hamilton"}, "edited": false, "score": 0, "creation_date": 1453329882, "post_id": 34911873, "comment_id": 57559760, "body": "Likewise, is the same version of python running in the virtual environment?"}, {"owner": {"reputation": 1214, "user_id": 2131200, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/674984d7b472407ccdbfd5bc8331b032?s=128&d=identicon&r=PG", "display_name": "Khue", "link": "https://stackoverflow.com/users/2131200/khue"}, "reply_to_user": {"reputation": 50185, "user_id": 276949, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/52e96d535181560d2b46d4b513454ee5?s=128&d=identicon&r=PG", "display_name": "Martin Konecny", "link": "https://stackoverflow.com/users/276949/martin-konecny"}, "edited": false, "score": 0, "creation_date": 1453331144, "post_id": 34911873, "comment_id": 57560299, "body": "Thanks, @MartinKonecny and Gil. The versions are indeed different (2.7.6 vs 2.7.11). I&#39;ll upgrade and check again."}, {"owner": {"reputation": 23220, "user_id": 1004096, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/d0bd5ec4d97233e5f9f5f74bd6f02357?s=128&d=identicon&r=PG", "display_name": "Bi Rico", "link": "https://stackoverflow.com/users/1004096/bi-rico"}, "edited": false, "score": 0, "creation_date": 1453331398, "post_id": 34911873, "comment_id": 57560395, "body": "More important than the numpy version is the BLAS implementation, <a href=\"http://stackoverflow.com/questions/26511430/performance-of-numpy-with-different-blas-implementations\" title=\"performance of numpy with different blas implementations\">stackoverflow.com/questions/26511430/&hellip;</a>. Do you know which BLAS version (if any) is being used by each numpy?"}, {"owner": {"reputation": 1214, "user_id": 2131200, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/674984d7b472407ccdbfd5bc8331b032?s=128&d=identicon&r=PG", "display_name": "Khue", "link": "https://stackoverflow.com/users/2131200/khue"}, "reply_to_user": {"reputation": 23220, "user_id": 1004096, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/d0bd5ec4d97233e5f9f5f74bd6f02357?s=128&d=identicon&r=PG", "display_name": "Bi Rico", "link": "https://stackoverflow.com/users/1004096/bi-rico"}, "edited": false, "score": 0, "creation_date": 1453332317, "post_id": 34911873, "comment_id": 57560730, "body": "Yes, @BiRico, this was indeed the reason. I do not have BLAS or LAPACK in my virtual environment. My local Python is from Anaconda and it has everything in it."}], "answers": [{"tags": [], "owner": {"reputation": 1214, "user_id": 2131200, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/674984d7b472407ccdbfd5bc8331b032?s=128&d=identicon&r=PG", "display_name": "Khue", "link": "https://stackoverflow.com/users/2131200/khue"}, "is_accepted": true, "score": 1, "last_activity_date": 1453333182, "creation_date": 1453333182, "answer_id": 34912778, "question_id": 34911873, "link": "https://stackoverflow.com/questions/34911873/python-significant-difference-in-performance-between-local-installation-and-vir/34912778#34912778", "title": "Python: significant difference in performance between local installation and virtual environment", "body": "<p>As suggested by @BiRico, I checked the version of Linear Algebra libraries such as BLAS and LAPACK using the command:</p>\n\n<pre><code>python -c 'import numpy; numpy.show_config()'\n</code></pre>\n\n<p>and surprised, I do not have any of these installed.</p>\n"}], "owner": {"reputation": 1214, "user_id": 2131200, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/674984d7b472407ccdbfd5bc8331b032?s=128&d=identicon&r=PG", "display_name": "Khue", "link": "https://stackoverflow.com/users/2131200/khue"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 361, "favorite_count": 0, "accepted_answer_id": 34912778, "answer_count": 1, "score": 0, "last_activity_date": 1453333182, "creation_date": 1453328978, "last_edit_date": 1453333017, "question_id": 34911873, "link": "https://stackoverflow.com/questions/34911873/python-significant-difference-in-performance-between-local-installation-and-vir", "title": "Python: significant difference in performance between local installation and virtual environment", "body": "<p>I observed a significant difference in performance between my local Python (2.7) and a <a href=\"http://docs.python-guide.org/en/latest/dev/virtualenvs/\" rel=\"nofollow\">virtual environment</a> (on the same machine). </p>\n\n<p>I tested the following script:</p>\n\n<pre><code>import numpy as np\nimport time\n\nA = np.random.rand(500, 3000)\nB = np.random.rand(5000, 3000)\n\ntic = time.time()\np = np.dot(A, B.T)\ntoc = time.time()\nprint toc - tic\n</code></pre>\n\n<p>It was ~20 times faster in the local environment.</p>\n\n<p>What could be the reasons? (Maybe there is a package that accelerates vectorized operations installed in the my local Python but not on the virtual environment?)</p>\n\n<p>Thank you in advance for any suggestions.</p>\n"}, {"tags": ["python", "scroll", "background", "pygame"], "comments": [{"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 0, "creation_date": 1453333203, "post_id": 34911813, "comment_id": 57561063, "body": "btw: you don&#39;t need <code>back2</code> you can blit <code>back</code> two times."}], "answers": [{"comments": [{"owner": {"reputation": 87, "user_id": 5535719, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/1176f6ccb615340a00fa0cf73c9e38de?s=128&d=identicon&r=PG&f=1", "display_name": "Brianna", "link": "https://stackoverflow.com/users/5535719/brianna"}, "edited": false, "score": 0, "creation_date": 1453332929, "post_id": 34912042, "comment_id": 57560960, "body": "I&#39;ve tried both of those but it still didn&#39;t work, the scrolling background still disappears. What else can I do to fix this?"}], "tags": [], "owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "is_accepted": false, "score": 0, "last_activity_date": 1453329749, "creation_date": 1453329749, "answer_id": 34912042, "question_id": 34911813, "link": "https://stackoverflow.com/questions/34911813/pygame-scrolling-background-disappearing/34912042#34912042", "title": "Pygame scrolling background disappearing?", "body": "<p>If you subtract then you can't compare with <code>screenWidth</code> but with <code>0</code> (zero)</p>\n\n<pre><code>xx = xx - 12\nif xx &lt;= 0:\n    xx = screenWidth\n</code></pre>\n\n<p>or you can do </p>\n\n<pre><code>xx = xx - 12\nif xx &lt;= 0:\n    xx = xx + screenWidth\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 91141, "user_id": 142637, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9SiZh.png?s=128&g=1", "display_name": "sloth", "link": "https://stackoverflow.com/users/142637/sloth"}, "is_accepted": true, "score": 1, "last_activity_date": 1453443696, "last_edit_date": 1453443696, "creation_date": 1453369338, "answer_id": 34920110, "question_id": 34911813, "link": "https://stackoverflow.com/questions/34911813/pygame-scrolling-background-disappearing/34920110#34920110", "title": "Pygame scrolling background disappearing?", "body": "<p>I think </p>\n\n<pre><code>if xx &gt;= screenWidth:\n    xx = 0\n</code></pre>\n\n<p>should be</p>\n\n<pre><code>if xx + screenWidth &lt;= 0:\n    xx = 0\n</code></pre>\n\n<p><code>xx</code> starts at <code>0</code>, then you substract <code>12</code> from it every time. The result is that <code>xx</code> is always <code>&lt;= 0</code>, so <code>xx &gt;= screenWidth</code> will always be false.</p>\n\n<p><code>xx + screenWidth</code> is the position of the <em>second</em> image, and when that value becomes smaller than zero, it is time to reset the <code>xx</code> position to let the scrolling begin again.</p>\n"}], "owner": {"reputation": 87, "user_id": 5535719, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/1176f6ccb615340a00fa0cf73c9e38de?s=128&d=identicon&r=PG&f=1", "display_name": "Brianna", "link": "https://stackoverflow.com/users/5535719/brianna"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "accepted_answer_id": 34920110, "answer_count": 2, "score": 0, "last_activity_date": 1453443696, "creation_date": 1453328695, "question_id": 34911813, "link": "https://stackoverflow.com/questions/34911813/pygame-scrolling-background-disappearing", "title": "Pygame scrolling background disappearing?", "body": "<p>I'm making a game in Pygame, and the background is scrolling. But it keeps disappearing! It scrolls for two times and then it disappears. How do I fix this?? Here is the code:</p>\n\n<pre><code>#Scrolling background\n\n    background = \"foxhabitat.jpg\"\n    back = pygame.image.load(background).convert()\n    back2 = pygame.image.load(background).convert()\n\n    screenWidth = 900\n    back=pygame.transform.scale(back, (1000,600))\n    back2=pygame.transform.scale(back, (1000,600))   \n\n    screenscroll.blit(back, (xx,0))\n    screenscroll.blit(back2,(xx+screenWidth,0))\n    print xx\n    xx = xx - 12\n    if xx &gt;= screenWidth:\n        xx = 0\n\n    msElapsed = clock.tick(100) # changes speed of scrolling\n</code></pre>\n"}, {"tags": ["python", "sorting"], "comments": [{"owner": {"reputation": 28349, "user_id": 553404, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/XkLRP.png?s=128&g=1", "display_name": "YXD", "link": "https://stackoverflow.com/users/553404/yxd"}, "edited": false, "score": 0, "creation_date": 1453328505, "post_id": 34911752, "comment_id": 57559160, "body": "Do yourself a favour and learn Pandas!"}, {"owner": {"reputation": 36814, "user_id": 671543, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2145962377da9419f2446cd565f614ee?s=128&d=identicon&r=PG", "display_name": "njzk2", "link": "https://stackoverflow.com/users/671543/njzk2"}, "edited": false, "score": 0, "creation_date": 1453328595, "post_id": 34911752, "comment_id": 57559214, "body": "use the index as key to a dict: <code>reg = {}</code> and <code>reg[index] = ...</code>  then: <code>[reg[index] for index in sorted(reg.keys())]</code>"}], "answers": [{"comments": [{"owner": {"reputation": 37, "user_id": 5124453, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/eba010a7f8d3a79907dc82da0b2cb81c?s=128&d=identicon&r=PG", "display_name": "Joshua Cazares", "link": "https://stackoverflow.com/users/5124453/joshua-cazares"}, "edited": false, "score": 0, "creation_date": 1453328877, "post_id": 34911771, "comment_id": 57559319, "body": "I have never used lambda, can you explain a bit how it would work for the sorting?"}, {"owner": {"reputation": 21133, "user_id": 1084416, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RLhZZ.jpg?s=128&g=1", "display_name": "Peter Wood", "link": "https://stackoverflow.com/users/1084416/peter-wood"}, "reply_to_user": {"reputation": 37, "user_id": 5124453, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/eba010a7f8d3a79907dc82da0b2cb81c?s=128&d=identicon&r=PG", "display_name": "Joshua Cazares", "link": "https://stackoverflow.com/users/5124453/joshua-cazares"}, "edited": false, "score": 1, "creation_date": 1453329052, "post_id": 34911771, "comment_id": 57559401, "body": "@JoshuaCazares If you&#39;ve never used lambdas, <a href=\"https://docs.python.org/2/tutorial/controlflow.html#lambda-expressions\" rel=\"nofollow noreferrer\">read the documentation</a>."}, {"owner": {"reputation": 21133, "user_id": 1084416, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RLhZZ.jpg?s=128&g=1", "display_name": "Peter Wood", "link": "https://stackoverflow.com/users/1084416/peter-wood"}, "edited": false, "score": 0, "creation_date": 1453329140, "post_id": 34911771, "comment_id": 57559436, "body": "See also <a href=\"http://stackoverflow.com/questions/890128/why-are-python-lambdas-useful\">Why are Python lambdas useful?</a>"}], "tags": [], "owner": {"reputation": 50452, "user_id": 33258, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/c4b21ea020b4d95c4abacaffc9daaf4e?s=128&d=identicon&r=PG", "display_name": "Hugh Bothwell", "link": "https://stackoverflow.com/users/33258/hugh-bothwell"}, "is_accepted": true, "score": 1, "last_activity_date": 1453328509, "creation_date": 1453328509, "answer_id": 34911771, "question_id": 34911752, "link": "https://stackoverflow.com/questions/34911752/ordering-vector-lists-in-python/34911771#34911771", "title": "Ordering vector lists in Python", "body": "<p>Sort with <code>key=lambda s: int(s.split(';', 1)[0])</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 71233, "user_id": 837534, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f3782b004830f622e19029e5f7fc146?s=128&d=identicon&r=PG", "display_name": "Mike M&#252;ller", "link": "https://stackoverflow.com/users/837534/mike-m%c3%bcller"}, "is_accepted": false, "score": 1, "last_activity_date": 1453329583, "last_edit_date": 1453329583, "creation_date": 1453329168, "answer_id": 34911927, "question_id": 34911752, "link": "https://stackoverflow.com/questions/34911752/ordering-vector-lists-in-python/34911927#34911927", "title": "Ordering vector lists in Python", "body": "<p>You can write a small helper function:</p>\n\n<pre><code>def by_index(x):\n    return int(x.split(';', 1)[0])\n</code></pre>\n\n<p>and use it for sorting:</p>\n\n<pre><code>L = ['5;01;11.32;RN_RT;Prep;','9;02;2.12;ING;Prep;','1;06;4.23;ING;Rec;']\n\nsorted(L, key=by_index)\n\n['1;06;4.23;ING;Rec;', '5;01;11.32;RN_RT;Prep;', '9;02;2.12;ING;Prep;']\n</code></pre>\n\n<p>The function <a href=\"https://docs.python.org/3/library/functions.html?highlight=sorted#sorted\" rel=\"nofollow\">sorted()</a> takes the keyword argument <code>key</code>:</p>\n\n<blockquote>\n  <p>key specifies a function of one argument that is used to extract a comparison key from each list element: key=str.lower. The default value is None (compare the elements directly).</p>\n</blockquote>\n\n<p>This function is called for each element in the list. So:</p>\n\n<pre><code>int(x.split(';', 1)[0])\n</code></pre>\n\n<p>splits off the value before the first <code>;</code> and turns it into an integer. This is the index. This index will be used for sorting (the sorting key) but the sort result is the list elements in the order of the index.</p>\n\n<p><code>lambda</code> is just another way to define a function without using <code>def</code>. It is limited to expressions but can be used inline. </p>\n"}], "owner": {"reputation": 37, "user_id": 5124453, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/eba010a7f8d3a79907dc82da0b2cb81c?s=128&d=identicon&r=PG", "display_name": "Joshua Cazares", "link": "https://stackoverflow.com/users/5124453/joshua-cazares"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "accepted_answer_id": 34911771, "answer_count": 2, "score": 0, "last_activity_date": 1453331307, "creation_date": 1453328410, "last_edit_date": 1453331307, "question_id": 34911752, "link": "https://stackoverflow.com/questions/34911752/ordering-vector-lists-in-python", "title": "Ordering vector lists in Python", "body": "<p>I have a list with several registers from other lists. I put an index at the beginning of each element so that I can order it later, for writing purposes.</p>\n\n<pre><code>reg = index + \";\" + cell[1] + \";\" + hour + \";\" + cell[0] + \";\" + text[1] + \";\"\n</code></pre>\n\n<p>At the end, <code>reg</code> should give something like this:</p>\n\n<pre><code>['5;01;11.32;RN_RT;Prep;', '9;02;2.12;ING;Prep;', '1;06;4.23;ING;Rec;']\n</code></pre>\n\n<p>Is there a way to order/sort it using the index at the beginning?</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 50452, "user_id": 33258, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/c4b21ea020b4d95c4abacaffc9daaf4e?s=128&d=identicon&r=PG", "display_name": "Hugh Bothwell", "link": "https://stackoverflow.com/users/33258/hugh-bothwell"}, "edited": false, "score": 0, "creation_date": 1453328351, "post_id": 34911694, "comment_id": 57559089, "body": "Try <code>&quot; &quot;.join(l)</code> to convert the list to a string."}, {"owner": {"reputation": 397, "user_id": 5807031, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/daae65854122b0108190fd63ba0cbe74?s=128&d=identicon&r=PG&f=1", "display_name": "LingxB", "link": "https://stackoverflow.com/users/5807031/lingxb"}, "reply_to_user": {"reputation": 8720, "user_id": 3846213, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/5PGh1.jpg?s=128&g=1", "display_name": "Eli Korvigo", "link": "https://stackoverflow.com/users/3846213/eli-korvigo"}, "edited": false, "score": 0, "creation_date": 1453328858, "post_id": 34911694, "comment_id": 57559314, "body": "@EliKorvigo What do you mean by duplicate? What could be duplicated?"}, {"owner": {"reputation": 397, "user_id": 5807031, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/daae65854122b0108190fd63ba0cbe74?s=128&d=identicon&r=PG&f=1", "display_name": "LingxB", "link": "https://stackoverflow.com/users/5807031/lingxb"}, "reply_to_user": {"reputation": 50452, "user_id": 33258, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/c4b21ea020b4d95c4abacaffc9daaf4e?s=128&d=identicon&r=PG", "display_name": "Hugh Bothwell", "link": "https://stackoverflow.com/users/33258/hugh-bothwell"}, "edited": false, "score": 0, "creation_date": 1453328877, "post_id": 34911694, "comment_id": 57559318, "body": "@HughBothwell Thanks, this works!"}], "answers": [{"tags": [], "owner": {"reputation": 23980, "user_id": 1735756, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/SloZJ.jpg?s=128&g=1", "display_name": "Haifeng Zhang", "link": "https://stackoverflow.com/users/1735756/haifeng-zhang"}, "is_accepted": true, "score": 1, "last_activity_date": 1453328388, "creation_date": 1453328388, "answer_id": 34911745, "question_id": 34911694, "link": "https://stackoverflow.com/questions/34911694/print-list-items-in-one-line-along-with-other-things/34911745#34911745", "title": "Print list items in one line along with other things", "body": "<p>you can do it in this way:</p>\n\n<pre><code>l = ['absolute', 'nicest']\nprint 'P', \" \".join(l), 'Score'\n</code></pre>\n\n<p>convert the list into a space separated string</p>\n"}], "owner": {"reputation": 397, "user_id": 5807031, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/daae65854122b0108190fd63ba0cbe74?s=128&d=identicon&r=PG&f=1", "display_name": "LingxB", "link": "https://stackoverflow.com/users/5807031/lingxb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1451, "favorite_count": 0, "closed_date": 1453328705, "accepted_answer_id": 34911745, "answer_count": 1, "score": -1, "last_activity_date": 1453328388, "creation_date": 1453328207, "last_edit_date": 1453328307, "question_id": 34911694, "link": "https://stackoverflow.com/questions/34911694/print-list-items-in-one-line-along-with-other-things", "closed_reason": "Duplicate", "title": "Print list items in one line along with other things", "body": "<p>I have a list and I'd like to print every item in that list along with other information in one line. Any advise will be appreciated.</p>\n\n<pre><code>l = ['absolute', 'nicest']\nprint 'P', l, 'Score'\n</code></pre>\n\n<p>The output will be:</p>\n\n<pre><code>P ['absolute', 'nicest'] Score\n</code></pre>\n\n<p>What I want to achieve is:</p>\n\n<pre><code>P absolute nicest Score\n</code></pre>\n\n<p>I know that I can use a for loop to print every item in the list but the problem is I'm writing it in a function, and I don't know where to add the for loop correctly, below is the original function, I'd like to only print every item in the tl list instead of the list entirely.</p>\n\n<pre><code>def sa_baseline(entry):\n    pl = [] #Polarity sum list\n    tl = [] #Term list\n    for token in entry.split():\n        if token in d:\n            pl.append(d[token])\n            tl.append(token)\n            if sum(pl) == 0:\n                print 'Neu'\n            elif sum(pl) &gt; 0:\n                print 'P', tl, sum(pl)\n            else:\n                print 'N', tl, sum(pl)\n</code></pre>\n"}, {"tags": ["python", "matplotlib"], "answers": [{"tags": [], "owner": {"reputation": 49128, "user_id": 588071, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0e0397d27c84e04451691ddb6c8d49c?s=128&d=identicon&r=PG&f=1", "display_name": "tmdavison", "link": "https://stackoverflow.com/users/588071/tmdavison"}, "is_accepted": false, "score": 0, "last_activity_date": 1453373444, "creation_date": 1453373444, "answer_id": 34921678, "question_id": 34911689, "link": "https://stackoverflow.com/questions/34911689/setting-rcparameters-after-importing-pyplot/34921678#34921678", "title": "Setting rcParameters after importing pyplot", "body": "<p>No, other <code>rcParams</code> can be set dynamically after import. See <a href=\"http://matplotlib.org/users/customizing.html\" rel=\"nofollow\">here</a> for more information.</p>\n\n<blockquote>\n  <p>You can also dynamically change the default rc settings in a python\n  script or interactively from the python shell. All of the <code>rc</code> settings\n  are stored in a dictionary-like variable called <code>matplotlib.rcParams</code>,\n  which is global to the <code>matplotlib</code> package. <code>rcParams</code> can be modified\n  directly, for example:</p>\n\n<pre><code>import matplotlib as mpl \nmpl.rcParams['lines.linewidth'] = 2\nmpl.rcParams['lines.color'] = 'r' \n</code></pre>\n  \n  <p>Matplotlib also provides a couple of\n  convenience functions for modifying <code>rc</code> settings. The <code>matplotlib.rc()</code>\n  command can be used to modify multiple settings in a single group at\n  once, using keyword arguments:</p>\n\n<pre><code>import matplotlib as mpl mpl.rc('lines', linewidth=2, color='r')\n</code></pre>\n</blockquote>\n"}], "owner": {"reputation": 1, "user_id": 5818358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d0e212fb57af56db73d43f28a194ba6?s=128&d=identicon&r=PG&f=1", "display_name": "Patrik", "link": "https://stackoverflow.com/users/5818358/patrik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 110, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1453373444, "creation_date": 1453328186, "question_id": 34911689, "link": "https://stackoverflow.com/questions/34911689/setting-rcparameters-after-importing-pyplot", "title": "Setting rcParameters after importing pyplot", "body": "<p>According to <a href=\"http://matplotlib.org/api/matplotlib_configuration_api.html#matplotlib.use\" rel=\"nofollow\">http://matplotlib.org/api/matplotlib_configuration_api.html#matplotlib.use</a> one hast to set the matplotlib backend with matplotlib.use before importing pyplot. Is this also true for other rcParameters? Which rcParameteres can safely be set after importing pyplot?</p>\n"}, {"tags": ["python", "pyqt4", "qaction", "qtoolbar"], "answers": [{"tags": [], "owner": {"reputation": 7154, "user_id": 1470749, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/wyXz0.jpg?s=128&g=1", "display_name": "101", "link": "https://stackoverflow.com/users/1470749/101"}, "is_accepted": false, "score": 2, "last_activity_date": 1453329560, "last_edit_date": 1453329560, "creation_date": 1453329238, "answer_id": 34911947, "question_id": 34911660, "link": "https://stackoverflow.com/questions/34911660/iterate-qaction-items-on-a-given-qtoolbar-object-in-pyqt/34911947#34911947", "title": "Iterate QAction items on a given QToolBar object in PyQt?", "body": "<p>Given a QToolBar you can find all of its QActions by calling its <a href=\"http://pyqt.sourceforge.net/Docs/PyQt4/qwidget.html#actions\" rel=\"nofollow\"><code>actions</code></a> method:</p>\n\n<blockquote>\n  <p>Returns the (possibly empty) list of this widget's actions.</p>\n</blockquote>\n\n<p>For example:</p>\n\n<pre><code>if isinstance(obj, QToolBar):\n    print obj.actions()\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 6472, "user_id": 259538, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/8zSjE.png?s=128&g=1", "display_name": "panofish", "link": "https://stackoverflow.com/users/259538/panofish"}, "edited": false, "score": 0, "creation_date": 1453336311, "post_id": 34913195, "comment_id": 57562020, "body": "Thanks... I will test both suggestions tomorrow."}, {"owner": {"reputation": 6472, "user_id": 259538, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/8zSjE.png?s=128&g=1", "display_name": "panofish", "link": "https://stackoverflow.com/users/259538/panofish"}, "edited": false, "score": 0, "creation_date": 1453386005, "post_id": 34913195, "comment_id": 57585833, "body": "Wow! That is perfect.  Exactly what I needed and then some.  Thanks."}], "tags": [], "owner": {"reputation": 97291, "user_id": 984421, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l9J30.png?s=128&g=1", "display_name": "ekhumoro", "link": "https://stackoverflow.com/users/984421/ekhumoro"}, "is_accepted": true, "score": 3, "last_activity_date": 1453335563, "creation_date": 1453335563, "answer_id": 34913195, "question_id": 34911660, "link": "https://stackoverflow.com/questions/34911660/iterate-qaction-items-on-a-given-qtoolbar-object-in-pyqt/34913195#34913195", "title": "Iterate QAction items on a given QToolBar object in PyQt?", "body": "<p>If the toolbars were created in Qt Designer, they will become children of the main window (or whatever the top-level widget is).</p>\n\n<p>So you can simply do:</p>\n\n<pre><code>for toolbar in mainwindow.findChildren(QToolBar):\n    print('toolbar: %s' % toolbar.objectName())\n    for action in toolbar.actions():\n        if not action.isSeparator():\n            print('  action: %s (%s)' % (action.text(), action.isChecked()))\n</code></pre>\n"}], "owner": {"reputation": 6472, "user_id": 259538, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/8zSjE.png?s=128&g=1", "display_name": "panofish", "link": "https://stackoverflow.com/users/259538/panofish"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1823, "favorite_count": 0, "accepted_answer_id": 34913195, "answer_count": 2, "score": 1, "last_activity_date": 1453335563, "creation_date": 1453327999, "question_id": 34911660, "link": "https://stackoverflow.com/questions/34911660/iterate-qaction-items-on-a-given-qtoolbar-object-in-pyqt", "title": "Iterate QAction items on a given QToolBar object in PyQt?", "body": "<p>Using Python and PyQt4, given a GUI with any number of QToolBar objects and each toolbar contains any number of QAction objects.</p>\n\n<p>I can iterate the ui with the following code and find the toolbars:</p>\n\n<pre><code>for name, obj in inspect.getmembers(ui):\n    if isinstance(obj, QToolBar):\n        print \"toolbar =\",name\n</code></pre>\n\n<p>How can I iterate each toolbar object and find the QAction objects.  I will then read the QActions to determine which are \"checked\".  I am not using QActionGroups.</p>\n"}, {"tags": ["python", "windows", "package", "kivy", "pyinstaller"], "answers": [{"comments": [{"owner": {"reputation": 220, "user_id": 1790399, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/044e27de60beda647847f7f6e939a19b?s=128&d=identicon&r=PG", "display_name": "user1790399", "link": "https://stackoverflow.com/users/1790399/user1790399"}, "edited": false, "score": 0, "creation_date": 1453520824, "post_id": 34952854, "comment_id": 57649965, "body": "I was having the same problem as the OP. However, for some reason the &quot;packaging&quot; package was not installed in on my system so I got new errors about &quot;packaging&quot; being unavailable. I was able to fix this by deleting the contents of the pathex directory and running pip install packaging, and then editing the .spec file."}], "tags": [], "owner": {"reputation": 11, "user_id": 5827591, "user_type": "registered", "profile_image": "https://graph.facebook.com/10100498314471021/picture?type=large", "display_name": "Marco Olson", "link": "https://stackoverflow.com/users/5827591/marco-olson"}, "is_accepted": false, "score": 1, "last_activity_date": 1453484483, "creation_date": 1453484483, "answer_id": 34952854, "question_id": 34911658, "link": "https://stackoverflow.com/questions/34911658/kivy-create-package-on-windows/34952854#34952854", "title": "Kivy - Create package on Windows", "body": "<p>I had to add this line to work around this.</p>\n\n<blockquote>\n<pre><code>         hiddenimports=['six','packaging','packaging.version','packaging.specifiers'],\n</code></pre>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 105, "user_id": 5490602, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86508b252f1c6ec26ab31b6c69e781bd?s=128&d=identicon&r=PG&f=1", "display_name": "Clement Puech", "link": "https://stackoverflow.com/users/5490602/clement-puech"}, "is_accepted": true, "score": 3, "last_activity_date": 1453795633, "creation_date": 1453795633, "answer_id": 35009279, "question_id": 34911658, "link": "https://stackoverflow.com/questions/34911658/kivy-create-package-on-windows/35009279#35009279", "title": "Kivy - Create package on Windows", "body": "<p>I managed to find a way to solve my problem. I tried to add the \"six\" package to the hidden_imports, but then it was the \"packaging\" package that was missing.</p>\n\n<p>I then installed setuptools 19.4 through easy install and this time, even if \"six\" was in my hidden_imports, I got my very first error back, plus a whole lot of warnings.\nI looked around and a few people were saying that there was a problem with setuptools 19.4 and that it should be reverted to 19.2. I did it and then it was kivy.app that was missing, but it was progress.</p>\n\n<p>I added kivy to the hidden_imports in the spec file, which led to another error saying that I had an attribute error with one of my modules. I just had to add other dependencies (sqlalchemy, sqlalchemy.orm, uuid).</p>\n\n<p>Quick recap: if you have setuptools installed, make sure it's 19.2. Add external dependencies to the hidden_imports, kivy included.</p>\n"}], "owner": {"reputation": 105, "user_id": 5490602, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86508b252f1c6ec26ab31b6c69e781bd?s=128&d=identicon&r=PG&f=1", "display_name": "Clement Puech", "link": "https://stackoverflow.com/users/5490602/clement-puech"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1697, "favorite_count": 1, "accepted_answer_id": 35009279, "answer_count": 2, "score": 4, "last_activity_date": 1453795633, "creation_date": 1453327988, "question_id": 34911658, "link": "https://stackoverflow.com/questions/34911658/kivy-create-package-on-windows", "title": "Kivy - Create package on Windows", "body": "<p>Hello everyone and thank you for taking the time to help me.</p>\n\n<p>I am currently trying to create a windows package for my Kivy (1.9.1) app, using PyInstaller (3.1). I followed the instructions from the documentation but couldn't get it to work. So I tried with the demo app 'touchtracer' given as example with the same results. I get the following error :</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"&lt;string&gt;\", line 11, in &lt;module&gt;\n  File \"f:\\temp\\pip-build-1elcla\\pyinstaller\\PyInstaller\\loader\\pyimod03_importers.py\", line 389, in load_module\n  File \"C:\\Python27\\lib\\site-packages\\pkg_resources\\__init__.py\", line 48, in &lt;module&gt;\n    from pkg_resources.extern import six\n  File \"C:\\Python27\\lib\\site-packages\\pkg_resources\\extern\\__init__.py\", line 60, in load_module\n    \"distribution.\".format(**locals())\nImportError: The 'six' package is required; normally this is bundled\nwith this package so if you get this warning, consult the packager of\nyour distribution.\n\npyi_rth_pkgres returned -1\n</code></pre>\n\n<p>This is my .spec file:</p>\n\n<pre><code># -*- mode: python -*-\nfrom kivy.deps import sdl2, glew\n\nblock_cipher = None\n\n\na = Analysis(['C:\\\\Python27\\\\share\\\\kivy-examples\\\\demo\\\\touchtracer\\\\main.py'],\n             pathex=['C:\\\\Users\\\\PC\\\\Documents\\\\Njord\\\\njord\\\\Nouveau dossier'],\n             binaries=None,\n             datas=None,\n             hiddenimports=[],\n             hookspath=[],\n             runtime_hooks=[],\n             excludes=[],\n             win_no_prefer_redirects=False,\n             win_private_assemblies=False,\n             cipher=block_cipher)\npyz = PYZ(a.pure, a.zipped_data,\n             cipher=block_cipher)\nexe = EXE(pyz,\n          a.scripts,\n          exclude_binaries=True,\n          name='touchtracer',\n          debug=False,\n          strip=False,\n          upx=True,\n          console=True )\ncoll = COLLECT(exe, Tree('C:\\\\Python27\\\\share\\\\kivy-examples\\\\demo\\\\touchtracer\\\\'),\n               a.binaries,\n               a.zipfiles,\n               a.datas,\n               *[Tree(p) for p in (sdl2.dep_bins + glew.dep_bins)],\n               strip=False,\n               upx=True,\n               name='touchtracer')\n</code></pre>\n\n<p>I have tried with Kivy packages installed from pip and with the wheel's method, without success. Does anyone have an explanation?</p>\n\n<p>Thanks again.</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 4421, "user_id": 3789676, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/aUh8k.jpg?s=128&g=1", "display_name": "midori", "link": "https://stackoverflow.com/users/3789676/midori"}, "edited": false, "score": 6, "creation_date": 1453328031, "post_id": 34911645, "comment_id": 57558930, "body": "inspire us with your code snippet"}, {"owner": {"reputation": 191222, "user_id": 147356, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/b9506717d24256a090524dd5505d3207?s=128&d=identicon&r=PG", "display_name": "larsks", "link": "https://stackoverflow.com/users/147356/larsks"}, "edited": false, "score": 1, "creation_date": 1453328050, "post_id": 34911645, "comment_id": 57558940, "body": "It&#39;s a problem with your code.  The error means &quot;you&#39;re trying to access an index beyond the end of the string&quot;."}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 5787588, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5b3d9ed6fab857b9898385efdcb8367?s=128&d=identicon&r=PG&f=1", "display_name": "SwaggerThanThou", "link": "https://stackoverflow.com/users/5787588/swaggerthanthou"}, "edited": false, "score": 0, "creation_date": 1453328552, "post_id": 34911693, "comment_id": 57559191, "body": "Sorry for not posting my code earlier. I remembered.  (Although I didn&#39;t see it at first, and when tested with &#39;elloh&quot; it came out with &quot;hell&quot;. Either a funny mistake or my computer hates me."}, {"owner": {"reputation": 3, "user_id": 5787588, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5b3d9ed6fab857b9898385efdcb8367?s=128&d=identicon&r=PG&f=1", "display_name": "SwaggerThanThou", "link": "https://stackoverflow.com/users/5787588/swaggerthanthou"}, "edited": false, "score": 0, "creation_date": 1453334835, "post_id": 34911693, "comment_id": 57561606, "body": "Thanks for pointing out my invalid syntax. (And the int(length) was only a leftover test I did earlier.)"}], "tags": [], "owner": {"reputation": 957, "user_id": 4151075, "user_type": "registered", "accept_rate": 68, "profile_image": "https://graph.facebook.com/100001381091762/picture?type=large", "display_name": "Marek", "link": "https://stackoverflow.com/users/4151075/marek"}, "is_accepted": true, "score": 2, "last_activity_date": 1453328945, "last_edit_date": 1453328945, "creation_date": 1453328206, "answer_id": 34911693, "question_id": 34911645, "link": "https://stackoverflow.com/questions/34911645/python-2-using-variable-in-place-of-number-to-get-letter-in-string/34911693#34911693", "title": "Python 2- using variable in place of number to get letter in string", "body": "<p>I don't understand much of your question. But I believe you forgot that iterating over a list is starting from 0.<br>\nSo if you want to access last position of string you should subtract 1 from it's length.  </p>\n\n<pre><code>word = \"ABC def\"\nlength = len(word)  # 7\nend = word[length - 1]  # because there is no 7th element, only 0123456\n</code></pre>\n\n<hr>\n\n<p>You can improve things over here:</p>\n\n<pre><code>    length = len(word)\n    length = int(length)  # len() already returns int, no need to convert this again\n    end = word[length]  # here is the issue I have provided answer abowe\n    length = length - 1  # this line should be above aboves line\n</code></pre>\n\n<hr>\n\n<p>Also, you don't need to know the lenght of the string. You can use an expression like this:</p>\n\n<pre><code>end = word[1:]  # means from 1st element to the end\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "is_accepted": false, "score": 0, "last_activity_date": 1453331437, "creation_date": 1453331437, "answer_id": 34912424, "question_id": 34911645, "link": "https://stackoverflow.com/questions/34911645/python-2-using-variable-in-place-of-number-to-get-letter-in-string/34912424#34912424", "title": "Python 2- using variable in place of number to get letter in string", "body": "<p>It's time to learn a few basics in indexing a Python sequence.</p>\n\n<p>First, as the earlier answer also points out, sequences begin with index 0; the final element is at index len-1.</p>\n\n<p>You can also index from the other end with negative numbers: the last element is -1, the penultimate is -2, and so on.</p>\n\n<p>When you're taking a slice, you can omit a starting index of 0 or ending index of -1.</p>\n\n<p>I assume that you realize this doesn't work ... yet.  Moving a single character is not the proper transformation for pig Latin.  However, this is an good example of incremental programming: do one or two small additions at a time, test those, and then continue.  I suggest that you next work on your outer flow control: make this loop <em>ad lib</em>, so you can test multiple inputs without restarting the program for every word.</p>\n\n<pre><code>elif tofrom == \"from\":\n    end = word[-1]\n    start = word[:-1]\n    translation = end + start\n    word = str.title(word)\n    translation = translation.lower()\n    print \"%s is %s in English.\" % (word, translation)\n    continue1 = True\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 5787588, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5b3d9ed6fab857b9898385efdcb8367?s=128&d=identicon&r=PG&f=1", "display_name": "SwaggerThanThou", "link": "https://stackoverflow.com/users/5787588/swaggerthanthou"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 162, "favorite_count": 0, "accepted_answer_id": 34911693, "answer_count": 2, "score": -2, "last_activity_date": 1453331437, "creation_date": 1453327938, "last_edit_date": 1453328382, "question_id": 34911645, "link": "https://stackoverflow.com/questions/34911645/python-2-using-variable-in-place-of-number-to-get-letter-in-string", "title": "Python 2- using variable in place of number to get letter in string", "body": "<p>I looked for the solution to my solution, but either couldn't find it or didn't understand it when I did. I'm fairly new to coding. I am making a pig-latin translator with an extra feature, it can translate FROM pig-latin. My translate TO works perfectly, but when translating FROM I get an error called \"IndexError: string index out of range\" on line 19, the place where \"end = word[length]\" is. Now, I need to know if using variables to replace integers in Python just doesn't work, or if it's a problem somewhere else in my code. (Please note that I do have a bit of code in there to MAKE SURE my variable is a integer.)</p>\n\n<pre><code>print \"Welcome to pig-latin translater!\"\nword = raw_input(\"What word do you want to translate?\")\ncontinue1 = False\nwhile continue1 == False:\n    tofrom = str(raw_input(\"Do you want to translate to or from pig-latin?\"))\n    tofrom = tofrom.lower()\n    if tofrom == \"to\":\n        length = len(word)\n        start = word[0]\n        end = word[1:length]\n        translation = end + start\n        word = str.title(word)\n        translation = translation.lower()\n        print \"%s in pig-latin is %s.\" % (word, translation)\n        continue1 = True\n    elif tofrom == \"from\":\n        length = len(word)\n        length = int(length)\n        end = word[length]\n        length = length - 1\n        start = word[0:length]\n        translation = end + start\n        word = str.title(word)\n        translation = translation.lower()\n        print \"%s is %s in English.\" % (word, translation)\n        continue1 = True\n    else:\n        print \"Please answer to or from.\"\nend = raw_input(\"Press enter to exit.\")\n</code></pre>\n"}, {"tags": ["python", "django", "amazon-web-services", "celery"], "comments": [{"owner": {"reputation": 10636, "user_id": 473285, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43104ddb820312e46db67150c77ae94b?s=128&d=identicon&r=PG", "display_name": "scytale", "link": "https://stackoverflow.com/users/473285/scytale"}, "edited": false, "score": 0, "creation_date": 1453367322, "post_id": 34911638, "comment_id": 57572911, "body": "can you give more details - is there an error or traceback? can you show some excerpts from logs etc that show task failing but not being retried."}], "answers": [{"tags": [], "owner": {"reputation": 778, "user_id": 1048839, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/be02b82323745857876f3b2e78fdb5d0?s=128&d=identicon&r=PG", "display_name": "user1048839", "link": "https://stackoverflow.com/users/1048839/user1048839"}, "is_accepted": true, "score": 0, "last_activity_date": 1453454051, "creation_date": 1453454051, "answer_id": 34942922, "question_id": 34911638, "link": "https://stackoverflow.com/questions/34911638/celery-retry-not-working-on-aws-beanstalk-running-docker-ver-1-6-2multi-contain/34942922#34942922", "title": "Celery Retry not working on AWS Beanstalk running Docker ver.1.6.2(Multi container)", "body": "<p>Knoob mistake:</p>\n\n<p>Turns out that I had another environment with similar code consuming from the same rabbitMQ server. Seems this other environment was picking up the retries.</p>\n"}], "owner": {"reputation": 778, "user_id": 1048839, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/be02b82323745857876f3b2e78fdb5d0?s=128&d=identicon&r=PG", "display_name": "user1048839", "link": "https://stackoverflow.com/users/1048839/user1048839"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "accepted_answer_id": 34942922, "answer_count": 1, "score": 0, "last_activity_date": 1453454051, "creation_date": 1453327911, "last_edit_date": 1453366332, "question_id": 34911638, "link": "https://stackoverflow.com/questions/34911638/celery-retry-not-working-on-aws-beanstalk-running-docker-ver-1-6-2multi-contain", "title": "Celery Retry not working on AWS Beanstalk running Docker ver.1.6.2(Multi container)", "body": "<p>Am trying to implement retries in one of my celery tasks which works fine on my local development environment but doesn't execute retries when deployed to AWS beanstalk.</p>\n"}, {"tags": ["python", "macos", "python-3.x", "osx-elcapitan", "python-3.5"], "answers": [{"tags": [], "owner": {"reputation": 5102, "user_id": 327694, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/affc703514153388019ab26f0eb6ab7d?s=128&d=identicon&r=PG", "display_name": "Josep Valls", "link": "https://stackoverflow.com/users/327694/josep-valls"}, "is_accepted": false, "score": 0, "last_activity_date": 1453329163, "last_edit_date": 1495540321, "creation_date": 1453329163, "answer_id": 34911924, "question_id": 34911551, "link": "https://stackoverflow.com/questions/34911551/python3-and-pygame-on-os-x-images-with-no-color/34911924#34911924", "title": "Python3 and Pygame on OS X. Images with no color", "body": "<p>Seems like there are several problems with El Capitan and certain versions of SDL, which is the library pygame uses under the hood for loading and displaying graphics. Some threads suggest fixing it by downgrading the currently provided version of SDL. pygame should soon update to the newest version which should also solve the problems. </p>\n\n<p>See here about the SDL bug:\n<a href=\"https://stackoverflow.com/questions/33115482/rendering-glitch-on-mac-osx-el-capitan-with-opengl\">Rendering Glitch on Mac OSX El Capitan with OpenGL</a></p>\n\n<p>See here about the pygame link to this bug:\n<a href=\"https://bitbucket.org/pygame/pygame/issues/284/max-osx-el-capitan-using-the-deprecated\" rel=\"nofollow noreferrer\">https://bitbucket.org/pygame/pygame/issues/284/max-osx-el-capitan-using-the-deprecated</a></p>\n"}, {"tags": [], "owner": {"reputation": 841, "user_id": 2280574, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/fsxqk.jpg?s=128&g=1", "display_name": "Mellet", "link": "https://stackoverflow.com/users/2280574/mellet"}, "is_accepted": false, "score": 0, "last_activity_date": 1453373311, "creation_date": 1453373311, "answer_id": 34921620, "question_id": 34911551, "link": "https://stackoverflow.com/questions/34911551/python3-and-pygame-on-os-x-images-with-no-color/34921620#34921620", "title": "Python3 and Pygame on OS X. Images with no color", "body": "<p>Fixed it by doing this: Not sure if the first code block is nessesarry.\nMight work with just the last part.</p>\n\n<pre><code>sudo bash\ncurl -O https://www.libsdl.org/projects/SDL_image/release/SDL_image-1.2.10.tar.gz\ntar zxvf SDL_image-1.2.10.tar.gz\ncd SDL_image-1.2.10\n./configure\nmake\nmake install\n</code></pre>\n\n<p>Restart terminal and:  </p>\n\n<pre><code>brew remove sdl_image\nexport SDL_CONFIG=/usr/local/bin/sdl-config\nbrew install sdl_image\n</code></pre>\n"}], "owner": {"reputation": 841, "user_id": 2280574, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/fsxqk.jpg?s=128&g=1", "display_name": "Mellet", "link": "https://stackoverflow.com/users/2280574/mellet"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 146, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1453373311, "creation_date": 1453327557, "question_id": 34911551, "link": "https://stackoverflow.com/questions/34911551/python3-and-pygame-on-os-x-images-with-no-color", "title": "Python3 and Pygame on OS X. Images with no color", "body": "<p>Just installed python3 and pygame on os x el capitan via HomeBrew.\nVersion: Python 3.5.1</p>\n\n<p>However when try to add a background image to my game it has no colors inside the game. Some images have colors, but might have some weird colored pixels.</p>\n\n<p>Here is the result from the game:\n<a href=\"http://imgur.com/1EqXYS0\" rel=\"nofollow\">http://imgur.com/1EqXYS0</a></p>\n\n<p>And here are the original images:\n<a href=\"http://imgur.com/Os9oaNk\" rel=\"nofollow\">http://imgur.com/Os9oaNk</a></p>\n\n<p>Wondering if it might be that I have a too new version of python3 for pygame to run as intended.</p>\n\n<p>But can't find out how to install a older version of python3 via homebrew.</p>\n"}, {"tags": ["python", "pygame"], "comments": [{"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 1, "creation_date": 1453329150, "post_id": 34911517, "comment_id": 57559438, "body": "probably you have to change other parts of you code."}, {"owner": {"reputation": 2145, "user_id": 2403000, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/2303300fa4b29197c3a11eea331afdbf?s=128&d=identicon&r=PG", "display_name": "Peter", "link": "https://stackoverflow.com/users/2403000/peter"}, "edited": false, "score": 0, "creation_date": 1453332295, "post_id": 34911517, "comment_id": 57560725, "body": "Is it because you&#39;re filling the background to white again? I have a feeling the fill function works without blitting it"}, {"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 0, "creation_date": 1453332428, "post_id": 34911517, "comment_id": 57560779, "body": "why you <code>fill(white)</code> ?  probably you don&#39;t need it."}], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 5687519, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6a4b4858deca2e4aaf6c86d0caa7148f?s=128&d=identicon&r=PG&f=1", "display_name": "Sarah King", "link": "https://stackoverflow.com/users/5687519/sarah-king"}, "edited": false, "score": 0, "creation_date": 1453333232, "post_id": 34912690, "comment_id": 57561072, "body": "This suggestion helped but I also found that changing my FPS or changing the timer from counting in seconds to milliseconds fixed it, thank you!"}, {"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "reply_to_user": {"reputation": 31, "user_id": 5687519, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6a4b4858deca2e4aaf6c86d0caa7148f?s=128&d=identicon&r=PG&f=1", "display_name": "Sarah King", "link": "https://stackoverflow.com/users/5687519/sarah-king"}, "edited": false, "score": 0, "creation_date": 1453333444, "post_id": 34912690, "comment_id": 57561124, "body": "changing speed doesn&#39;t fix it - white screen still exist but now your eye can&#39;t see this white screen ;) on slower computer you will see white screen again :)"}], "tags": [], "owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "is_accepted": true, "score": 1, "last_activity_date": 1453332687, "creation_date": 1453332687, "answer_id": 34912690, "question_id": 34911517, "link": "https://stackoverflow.com/questions/34911517/blinking-endscreen-pygame/34912690#34912690", "title": "Blinking endscreen - pygame", "body": "<p>You show not enough code so I can only suggest to do something like this</p>\n\n<pre><code>if not gameover:\n\n    playground.fill(...)\n\n    # draw normal game\n\nelse:\n\n    playground.fill(...)\n\n    # draw gameover text\n\nplayground.flip()\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 5687519, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6a4b4858deca2e4aaf6c86d0caa7148f?s=128&d=identicon&r=PG&f=1", "display_name": "Sarah King", "link": "https://stackoverflow.com/users/5687519/sarah-king"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 164, "favorite_count": 0, "accepted_answer_id": 34912690, "answer_count": 1, "score": 1, "last_activity_date": 1453332687, "creation_date": 1453327431, "last_edit_date": 1453331784, "question_id": 34911517, "link": "https://stackoverflow.com/questions/34911517/blinking-endscreen-pygame", "title": "Blinking endscreen - pygame", "body": "<p>So Im making a game and at the end of 60 seconds I want to make the screen change colors and display some end text.\nI set up the timer like this:</p>\n\n<pre><code>time = 60\nTICKTOCK = 0 \npygame.time.set_timer (TICKTOCK+1, 1000)\n</code></pre>\n\n<p>and that's being displayed onscreen just fine, but when the end screen appear it flashes between the original white screen and the end screen. For some reason, it doesn't flash if I'm waving my mouse around the screen. </p>\n\n<pre><code>if time &lt;= 0:\n     playground.fill(black)\n     playground.blit(end, (0, 100))\n</code></pre>\n\n<p>\"end\" is my game over text variable</p>\n\n<pre><code>    pygame.display.flip()\n    playground.fill(white)\n    clock.tick (fps) \n\npygame.quit()\n</code></pre>\n\n<p>This is what I have at the end too if that helps</p>\n\n<p>Is there a way I can make it appear steadily without having to change my timer?</p>\n"}, {"tags": ["python", "django", "orm"], "comments": [{"owner": {"reputation": 2591, "user_id": 4848774, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/DKYSZ.png?s=128&g=1", "display_name": "jape", "link": "https://stackoverflow.com/users/4848774/jape"}, "edited": false, "score": 1, "creation_date": 1453347742, "post_id": 34911474, "comment_id": 57565102, "body": "You need to change <code>.annotate()</code> to <code>.aggregate()</code>. See the docs for more information: <a href=\"https://docs.djangoproject.com/en/1.9/topics/db/aggregation/\" rel=\"nofollow noreferrer\">docs.djangoproject.com/en/1.9/topics/db/aggregation</a>"}, {"owner": {"reputation": 8555, "user_id": 484127, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/53AHb.jpg?s=128&g=1", "display_name": "tutuDajuju", "link": "https://stackoverflow.com/users/484127/tutudajuju"}, "reply_to_user": {"reputation": 2591, "user_id": 4848774, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/DKYSZ.png?s=128&g=1", "display_name": "jape", "link": "https://stackoverflow.com/users/4848774/jape"}, "edited": false, "score": 0, "creation_date": 1453400662, "post_id": 34911474, "comment_id": 57595791, "body": "@jape why don&#39;t you add this in an answer with a reference to the documentation which <a href=\"https://docs.djangoproject.com/en/1.9/topics/db/aggregation/#aggregating-annotations\" rel=\"nofollow noreferrer\">provides an example</a>."}, {"owner": {"reputation": 991, "user_id": 1387717, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/9a97a505e45606541443fbdac6cb7b56?s=128&d=identicon&r=PG", "display_name": "user1387717", "link": "https://stackoverflow.com/users/1387717/user1387717"}, "edited": false, "score": 3, "creation_date": 1453490080, "post_id": 34911474, "comment_id": 57640123, "body": "That example is not what I want."}, {"owner": {"reputation": 1187, "user_id": 3042057, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a699dceb8500b26a5355e497b73f3865?s=128&d=identicon&r=PG", "display_name": "Emin Mastizada", "link": "https://stackoverflow.com/users/3042057/emin-mastizada"}, "edited": false, "score": 0, "creation_date": 1491824472, "post_id": 34911474, "comment_id": 73708460, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/38021616/how-to-compute-average-of-an-aggregate-in-django\">How to compute average of an aggregate in django</a>"}, {"owner": {"reputation": 12405, "user_id": 448474, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6bb69115337eaa824a694710c348bf7?s=128&d=identicon&r=PG", "display_name": "hynekcer", "link": "https://stackoverflow.com/users/448474/hynekcer"}, "reply_to_user": {"reputation": 1187, "user_id": 3042057, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a699dceb8500b26a5355e497b73f3865?s=128&d=identicon&r=PG", "display_name": "Emin Mastizada", "link": "https://stackoverflow.com/users/3042057/emin-mastizada"}, "edited": false, "score": 1, "creation_date": 1505161203, "post_id": 34911474, "comment_id": 79289890, "body": "@EminMastizada It is not a duplicate because the result of that related is one average value of Sum by groups. It can be expressed by one SQL. This presumed duplicated question requires many result averages, therefore nested queries with group by. Neither the new <a href=\"https://docs.djangoproject.com/en/1.11/ref/models/expressions/#subquery-expressions\" rel=\"nofollow noreferrer\">Subquery</a> class in Django 1.11 is not however enough for it."}, {"owner": {"reputation": 1753, "user_id": 5875325, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f81e98b063b004c394ce74b6d754434b?s=128&d=identicon&r=PG&f=1", "display_name": "GileBrt", "link": "https://stackoverflow.com/users/5875325/gilebrt"}, "edited": false, "score": 0, "creation_date": 1533307912, "post_id": 34911474, "comment_id": 90313392, "body": "@user1387717 Have you found a solution to this in the end? I&#39;m having the same problem..."}], "answers": [{"tags": [], "owner": {"reputation": 321, "user_id": 2348942, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eaba3da750ab06554d4cfe6bb15565d3?s=128&d=identicon&r=PG", "display_name": "LizD", "link": "https://stackoverflow.com/users/2348942/lizd"}, "is_accepted": false, "score": 0, "last_activity_date": 1496470157, "creation_date": 1496470157, "answer_id": 44340908, "question_id": 34911474, "link": "https://stackoverflow.com/questions/34911474/django-aggregation-sum-then-average/44340908#44340908", "title": "django aggregation: sum then average", "body": "<p>I haven't done a deep dive, but I suspect that when you use <code>values()</code> without an annotation, <code>sum_for_field</code> values are being merged with ones that share the same <code>date</code>. I think you need to evaluate the annotation right after you use a <a href=\"https://docs.djangoproject.com/en/1.11/topics/db/aggregation/#values\" rel=\"nofollow noreferrer\"><code>values()</code></a> clause. Maybe something like below will resolve your issue:</p>\n\n<p><code>result = queryset1.values('date').annotate(avg_final=Avg('sum_for_field'))\n</code></p>\n"}, {"tags": [], "owner": {"reputation": 12405, "user_id": 448474, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6bb69115337eaa824a694710c348bf7?s=128&d=identicon&r=PG", "display_name": "hynekcer", "link": "https://stackoverflow.com/users/448474/hynekcer"}, "is_accepted": false, "score": 6, "last_activity_date": 1505160851, "creation_date": 1505160851, "answer_id": 46163705, "question_id": 34911474, "link": "https://stackoverflow.com/questions/34911474/django-aggregation-sum-then-average/46163705#46163705", "title": "django aggregation: sum then average", "body": "<p>Aggregate annotation by group from many aggregate annotations by group is generally a complicated question, but <strong><code>Avg</code> from <code>Sum</code></strong> is a special <strong>much easier</strong> case.</p>\n\n<p>Expression <code>Avg('sum_for_field')</code>  can be evaluated as <code>Sum('sum_for_field') / Count('category',  distinct=True)</code> that can be evaluated by <a href=\"https://docs.djangoproject.com/en/1.11/ref/models/expressions/#aggregate-expressions\" rel=\"noreferrer\">Aggregate() expressions</a>. The <code>Sum('sum_for_field')</code> equals <code>Sum('amount')</code>.</p>\n\n<p><strong>Solution</strong>: (Expected names: The model is <code>Data</code> that has fields <code>date</code>, <code>category</code>, <code>amount</code>.)</p>\n\n<pre><code>qs = Data.objects.values('date').annotate(\n    avg_final=Sum('amount') / Count('category', distinct=True)\n)\n</code></pre>\n\n<p>(I'm convinced that very similar questions would be without any solution by current Django 1.11, even with Subquery class, without using a strange extra() method and without raw SQL)</p>\n"}], "owner": {"reputation": 991, "user_id": 1387717, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/9a97a505e45606541443fbdac6cb7b56?s=128&d=identicon&r=PG", "display_name": "user1387717", "link": "https://stackoverflow.com/users/1387717/user1387717"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4763, "favorite_count": 4, "answer_count": 2, "score": 17, "last_activity_date": 1505161509, "creation_date": 1453327271, "question_id": 34911474, "link": "https://stackoverflow.com/questions/34911474/django-aggregation-sum-then-average", "title": "django aggregation: sum then average", "body": "<p>Using django's ORM annotate() and/or aggregate(): I want to sum up based on one category field and then average over the category values per date. I tried to do it using two annotate() statements but got a FieldError.</p>\n\n<p>I'm doing this: </p>\n\n<pre><code>queryset1 = self.data.values('date', 'category').annotate(sum_for_field=Sum('category'))\n</code></pre>\n\n<p>Which outputs a ValuesQuerySet object with things like (so a sum for each value of category):</p>\n\n<pre><code>[{'category': 'apples', 'date': '2015-10-12', sum_for_field=2000},\n {'category': 'carrots', 'date': '2015-10-12', sum_for_field=5000},\n {'category': 'apples', 'date': '2015-10-13', sum_for_field=3000},\n {'category': 'carrots', 'date': '2015-10-13', sum_for_field=6000}, ...\n]\n</code></pre>\n\n<p>I then want to average the sum_for_field field for each date to output something like:</p>\n\n<pre><code>[ {'date': '2015-10-12', avg_final: 3500},\n{'date': '2015-10-13', avg_final: 4500}, ...\n]\n</code></pre>\n\n<p>I tried doing this:</p>\n\n<pre><code>queryset2 = queryset1.values('date', 'sum_for_field')\nresult = queryset2.annotate(avg_final=Avg('sum_for_field'))\n</code></pre>\n\n<p>But I got this FieldError: </p>\n\n<pre><code>FieldError: FieldError: Cannot compute Avg('sum_for_field'): 'sum_for_field' is an aggregate\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 44000, "user_id": 535275, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/Ft2Mw.jpg?s=128&g=1", "display_name": "Scott Hunter", "link": "https://stackoverflow.com/users/535275/scott-hunter"}, "edited": false, "score": 0, "creation_date": 1453327202, "post_id": 34911418, "comment_id": 57558498, "body": "What is <code>codes_list_text</code>?  I don&#39;t see it defined."}, {"owner": {"reputation": 3448, "user_id": 5530155, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/wtp3s.jpg?s=128&g=1", "display_name": "gariepy", "link": "https://stackoverflow.com/users/5530155/gariepy"}, "edited": false, "score": 0, "creation_date": 1453327558, "post_id": 34911418, "comment_id": 57558684, "body": "is each <code>treatment</code> a list of medicine names?"}, {"owner": {"reputation": 133, "user_id": 5818315, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1484fe11ae5f9e790d017676ac56ae4?s=128&d=identicon&r=PG&f=1", "display_name": "A. Gup", "link": "https://stackoverflow.com/users/5818315/a-gup"}, "reply_to_user": {"reputation": 44000, "user_id": 535275, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/Ft2Mw.jpg?s=128&g=1", "display_name": "Scott Hunter", "link": "https://stackoverflow.com/users/535275/scott-hunter"}, "edited": false, "score": 0, "creation_date": 1453333020, "post_id": 34911418, "comment_id": 57560998, "body": "@scott hunter codes_list_text is meant to say codes_list"}, {"owner": {"reputation": 133, "user_id": 5818315, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1484fe11ae5f9e790d017676ac56ae4?s=128&d=identicon&r=PG&f=1", "display_name": "A. Gup", "link": "https://stackoverflow.com/users/5818315/a-gup"}, "reply_to_user": {"reputation": 3448, "user_id": 5530155, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/wtp3s.jpg?s=128&g=1", "display_name": "gariepy", "link": "https://stackoverflow.com/users/5530155/gariepy"}, "edited": false, "score": 0, "creation_date": 1453333166, "post_id": 34911418, "comment_id": 57561047, "body": "@gariepy yes, each treatment is a list of medicine names, along with occasionally additional words that describe the treatment in further detail"}], "answers": [{"comments": [{"owner": {"reputation": 133, "user_id": 5818315, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1484fe11ae5f9e790d017676ac56ae4?s=128&d=identicon&r=PG&f=1", "display_name": "A. Gup", "link": "https://stackoverflow.com/users/5818315/a-gup"}, "edited": false, "score": 0, "creation_date": 1453335507, "post_id": 34912203, "comment_id": 57561800, "body": "Thanks, this helps a ton! By slow, how long exactly do you think this should take? It&#39;s been almost an hour so far"}, {"owner": {"reputation": 3457, "user_id": 2284490, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba571b7d2f77a33c9b92af6c767677bb?s=128&d=identicon&r=PG", "display_name": "Cireo", "link": "https://stackoverflow.com/users/2284490/cireo"}, "reply_to_user": {"reputation": 133, "user_id": 5818315, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1484fe11ae5f9e790d017676ac56ae4?s=128&d=identicon&r=PG&f=1", "display_name": "A. Gup", "link": "https://stackoverflow.com/users/5818315/a-gup"}, "edited": false, "score": 0, "creation_date": 1453585055, "post_id": 34912203, "comment_id": 57668494, "body": "You can add something pretty easily to print out progress, perhaps a &quot;.&quot; to stderr for every 2% complete.  The current version has to traverse the full text of all the treatments once for each name, if there are lots of names or long treatments, this can be easily be slow, can&#39;t give an estimate without more info, sorry."}], "tags": [], "owner": {"reputation": 3457, "user_id": 2284490, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba571b7d2f77a33c9b92af6c767677bb?s=128&d=identicon&r=PG", "display_name": "Cireo", "link": "https://stackoverflow.com/users/2284490/cireo"}, "is_accepted": false, "score": 0, "last_activity_date": 1453330399, "creation_date": 1453330399, "answer_id": 34912203, "question_id": 34911418, "link": "https://stackoverflow.com/questions/34911418/list-matching-in-python-using-nested-for-loops/34912203#34912203", "title": "List Matching in Python using nested for loops", "body": "<p>I can't tell what you are expecting.  You should replace the xxx_list code with examples instead, since you don't seem to have any problems with the csv reading.</p>\n\n<p>Let's suppose you did that, and your result looks like this.</p>\n\n<pre><code>codes_list = ['shark', 'panda', 'horse']\nnames_list = ['fin', 'paw', 'hoof']\nassert len(codes_list) == len(names_list)\ntreatments_list = ['tape up fin', 'reverse paw', 'stand on one hoof', 'pawn affinity maneuver', 'alert wing patrol']\n</code></pre>\n\n<p>it sounds like you are trying to determine the 'code' for each 'treatment', assuming that the number of codes and names are the same (and indicate some mapping).  You plan to use the presence of the name to determine the code.</p>\n\n<p>we can zip together the name and codes list to avoid using indexes there, and we can use iteration over the treatment list instead of indexes for pythonic readability</p>\n\n<pre><code>matched_codes_list = []\nfor treatment in treatment:\n    matched_codes = []\n    for name, code in zip(names_list, codes_list):\n        if name in treatment:\n            matched_codes.append(code)\n    matched_codes_list.append(matched_codes)\n</code></pre>\n\n<p>this would give something like</p>\n\n<pre><code>assert matched_codes_list == [\n  ['shark'],                    # 'tape up fin'\n  ['panda'],                    # 'reverse paw'\n  ['horse'],                    # 'stand on one hoof'\n  ['shark', 'panda', 'horse'],  # 'pawn affinity maneuver'\n  [],                           # 'alert wing patrol'\n]\n</code></pre>\n\n<p>note that the method used to do this is quite slow (and probably will give false positives, see 4th entry).  You will traverse the text of all treatment descriptions once for each name/code pair.</p>\n\n<p>You can use a dictionary like 'lookup = {name: code for name, code in zip(names_list, codes_list)}, or itertools.izip for minor gains.  Otherwise something more clever might be needed, perhaps splitting treatments into a set containing words, or mapping words into multiple codes.</p>\n"}], "owner": {"reputation": 133, "user_id": 5818315, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1484fe11ae5f9e790d017676ac56ae4?s=128&d=identicon&r=PG&f=1", "display_name": "A. Gup", "link": "https://stackoverflow.com/users/5818315/a-gup"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 200, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1453330399, "creation_date": 1453327082, "question_id": 34911418, "link": "https://stackoverflow.com/questions/34911418/list-matching-in-python-using-nested-for-loops", "title": "List Matching in Python using nested for loops", "body": "<p>I have three lists, (1) treatments (2) medicine name and (3) medicine code symbol. I am trying to identify the respective medicine code symbol for each of 14,700 treatments. My current approach is to identify if any name in (2) is \"in\" (1), and then return the corresponding (3). However, I am returned an abitrary list (correct length) of medicine code symbols corresponding to the 14,700 treatments. Code for the method I've written is below:</p>\n\n<pre><code>codes = pandas.read_csv('Codes.csv', dtype=str)\ncodes_list = _codes.values.tolist()\n\nnames = pandas.read_csv('Names.csv', dtype=str)\nnames_list = names.values.tolist()\n\ntreatments = pandas.read_csv('Treatments.csv', dtype=str)\ntreatments_list = treatments.values.tolist()   \n\nmatched_codes_list = range(len(treatments_list))\nfor i in range(len(treatments_list)):\n    for j in range(len(names_list)):\n        if names_list[j] in treatments_list[i]:\n            matched_codes_list[i]=codes_list_text[j]\nprint matched_codes_list\n</code></pre>\n\n<p>Any suggestions for where I am going wrong would be much appreciated!</p>\n"}, {"tags": ["python", "selenium", "selenium-webdriver"], "comments": [{"owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "edited": false, "score": 0, "creation_date": 1453345894, "post_id": 34911381, "comment_id": 57564633, "body": "Could you please show the complete code of your test? Also, what selenium and what browser and version are you using? Thanks."}, {"owner": {"reputation": 3321, "user_id": 2546966, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/B2oWe.jpg?s=128&g=1", "display_name": "Vivek Singh", "link": "https://stackoverflow.com/users/2546966/vivek-singh"}, "edited": false, "score": 0, "creation_date": 1453368013, "post_id": 34911381, "comment_id": 57573305, "body": "let moreElement.click() return u an object of driver, as DOM has got reloaded with new objects. So u can do something like driver = moreElement.click() or pageObject = moreElement.click()."}, {"owner": {"reputation": 2502, "user_id": 2551349, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/PvZPF.png?s=128&g=1", "display_name": "Leon Barkan", "link": "https://stackoverflow.com/users/2551349/leon-barkan"}, "edited": false, "score": 0, "creation_date": 1453368590, "post_id": 34911381, "comment_id": 57573674, "body": "you tried to init moreElement before you invoke it again ?"}, {"owner": {"reputation": 231, "user_id": 5818295, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4d562a3f230d9db0438f1d5a15f32a11?s=128&d=identicon&r=PG&f=1", "display_name": "jonasus", "link": "https://stackoverflow.com/users/5818295/jonasus"}, "reply_to_user": {"reputation": 3321, "user_id": 2546966, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/B2oWe.jpg?s=128&g=1", "display_name": "Vivek Singh", "link": "https://stackoverflow.com/users/2546966/vivek-singh"}, "edited": false, "score": 0, "creation_date": 1453408034, "post_id": 34911381, "comment_id": 57600079, "body": "@VivekSingh: not quite sure if I understand what you mean. at least my way of implementing your suggestion didn&#39;t work (I inserted a &quot;driver =&quot; before moreElement.click()"}, {"owner": {"reputation": 231, "user_id": 5818295, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4d562a3f230d9db0438f1d5a15f32a11?s=128&d=identicon&r=PG&f=1", "display_name": "jonasus", "link": "https://stackoverflow.com/users/5818295/jonasus"}, "reply_to_user": {"reputation": 2502, "user_id": 2551349, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/PvZPF.png?s=128&g=1", "display_name": "Leon Barkan", "link": "https://stackoverflow.com/users/2551349/leon-barkan"}, "edited": false, "score": 0, "creation_date": 1453408056, "post_id": 34911381, "comment_id": 57600092, "body": "@LeonBarkan: I think my while loop is reinitiating the element right?"}, {"owner": {"reputation": 231, "user_id": 5818295, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4d562a3f230d9db0438f1d5a15f32a11?s=128&d=identicon&r=PG&f=1", "display_name": "jonasus", "link": "https://stackoverflow.com/users/5818295/jonasus"}, "reply_to_user": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "edited": false, "score": 0, "creation_date": 1453408064, "post_id": 34911381, "comment_id": 57600098, "body": "@alecxe: I am using Firefox 43.0.4 and Selenium 2.49.2. I copied in my code. sorry if it&#39;s a bit convoluted.. it&#39;s my first ever one"}, {"owner": {"reputation": 2502, "user_id": 2551349, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/PvZPF.png?s=128&g=1", "display_name": "Leon Barkan", "link": "https://stackoverflow.com/users/2551349/leon-barkan"}, "edited": false, "score": 0, "creation_date": 1453408163, "post_id": 34911381, "comment_id": 57600150, "body": "some times the page updated and you loosing your element"}, {"owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "edited": false, "score": 0, "creation_date": 1453408397, "post_id": 34911381, "comment_id": 57600266, "body": "@jonasus could you please downgrade to selenium 2.48 and check if you get the same error: <code>pip install selenium==2.48</code>? Thanks."}, {"owner": {"reputation": 231, "user_id": 5818295, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4d562a3f230d9db0438f1d5a15f32a11?s=128&d=identicon&r=PG&f=1", "display_name": "jonasus", "link": "https://stackoverflow.com/users/5818295/jonasus"}, "reply_to_user": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "edited": false, "score": 0, "creation_date": 1453410298, "post_id": 34911381, "comment_id": 57601267, "body": "@alecxe  Ok I just installed selenium 2.48. however if I run my code now I get the same error."}, {"owner": {"reputation": 231, "user_id": 5818295, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4d562a3f230d9db0438f1d5a15f32a11?s=128&d=identicon&r=PG&f=1", "display_name": "jonasus", "link": "https://stackoverflow.com/users/5818295/jonasus"}, "reply_to_user": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "edited": false, "score": 0, "creation_date": 1453415458, "post_id": 34911381, "comment_id": 57603901, "body": "@alecxe I solved the problem, but now I have a different one. See edit2 above"}], "answers": [{"tags": [], "owner": {"reputation": 231, "user_id": 5818295, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4d562a3f230d9db0438f1d5a15f32a11?s=128&d=identicon&r=PG&f=1", "display_name": "jonasus", "link": "https://stackoverflow.com/users/5818295/jonasus"}, "is_accepted": true, "score": 1, "last_activity_date": 1453638005, "creation_date": 1453638005, "answer_id": 34975709, "question_id": 34911381, "link": "https://stackoverflow.com/questions/34911381/code-to-click-on-button-works-once-but-not-twice/34975709#34975709", "title": "code to click on button works once, but not twice", "body": "<p>Thanks for your comments everyone.</p>\n\n<p>I found the solution myself in the end: I just inserted <code>time.sleep(2)</code> after each of the actions (e.g. selecting an option from the drop down, and clicking on the buttons) and now it's working fine.</p>\n"}], "owner": {"reputation": 231, "user_id": 5818295, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4d562a3f230d9db0438f1d5a15f32a11?s=128&d=identicon&r=PG&f=1", "display_name": "jonasus", "link": "https://stackoverflow.com/users/5818295/jonasus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1416, "favorite_count": 2, "accepted_answer_id": 34975709, "answer_count": 1, "score": 1, "last_activity_date": 1453638005, "creation_date": 1453326948, "last_edit_date": 1453561328, "question_id": 34911381, "link": "https://stackoverflow.com/questions/34911381/code-to-click-on-button-works-once-but-not-twice", "title": "code to click on button works once, but not twice", "body": "<p>I'm trying to use selenium web driver to scrape search results from a website. After I search for something, there is a button at the bottom of the page to show more search results.</p>\n\n<p>This is the code on the website:</p>\n\n<pre><code>&lt;a id=\"more_results_link\" class=\"but-g but-g-normal\" onclick=\"return changeSuche('more_results',30,null,true);\" style=\"width:600px; float:none; margin:20px auto 0px auto;\" href=\"#\"&gt;Weitere anzeigen (+30)&lt;/a&gt;\n</code></pre>\n\n<p>And this is how I am trying to (successfully) press the button in my code:</p>\n\n<pre><code>moreElement  = WebDriverWait(driver, 10).until(lambda driver: driver.find_element_by_xpath(\".//*[@id='more_results_link']\"))\nmoreElement.click()\n</code></pre>\n\n<p>Now, I want to press the button a second time, but now it doesn't work (I checked with Fire Path, and the XPath .//*[@id='more_results_link'] still leads to that button). Instead I get the following error message:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"test.py\", line 56, in test_Login\n    moreElement.click()\n  File \"/usr/local/lib/python2.7/site-packages/selenium/webdriver/remote/webelement.py\", line 75, in click\n    self._execute(Command.CLICK_ELEMENT)\n  File \"/usr/local/lib/python2.7/site-packages/selenium/webdriver/remote/webelement.py\", line 454, in _execute\n    return self._parent.execute(command, params)\n  File \"/usr/local/lib/python2.7/site-packages/selenium/webdriver/remote/webdriver.py\", line 201, in execute\n    self.error_handler.check_response(response)\n  File \"/usr/local/lib/python2.7/site-packages/selenium/webdriver/remote/errorhandler.py\", line 107, in check_response\n    message = value[\"value\"][\"message\"]\nTypeError: string indices must be integers\n</code></pre>\n\n<p>Any idea how to solve the problem? Ideally (and more elegantly) I would like to implement a loop which clicks that button as long as it exists (if there are no more search results the button disappears).</p>\n\n<p>EDIT:</p>\n\n<p>Here is my full code:</p>\n\n<pre><code>from selenium import webdriver\nfrom selenium.webdriver.support.ui import WebDriverWait\nfrom selenium.webdriver.support.select import Select\nimport unittest\nimport csv\n\nclass LoginTest(unittest.TestCase):\n\n    def setUp(self):\n        self.driver = webdriver.Firefox()\n\n    def test_Login(self):\n        driver = self.driver\n\n        # enter output file\n        with open('test.csv','w') as f:\n            file = csv.writer(f)\n            file.writerow((\"bla\", \"blub\"))\n\n        # enter input file\n        with open('NRWPLZ.csv') as csvfile:\n            readCSV = csv.reader(csvfile,delimiter=',')\n\n            for row in readCSV:\n                self.driver.get(\"URL\")\n                type = \"Allgemeinarzt\"\n                city = row[0]\n                print(city)\n\n                typeFieldID = \"what\"\n                cityFieldID = \"where\"\n                submitButtonXPath = \"//*[@id='suche']/form/div[5]/div/input\"\n\n                typeFieldElement   = WebDriverWait(driver, 10).until(lambda driver: driver.find_element_by_id(typeFieldID))\n                cityFieldElement    = WebDriverWait(driver, 10).until(lambda driver: driver.find_element_by_id(cityFieldID))\n                submitButtonElement  = WebDriverWait(driver, 10).until(lambda driver: driver.find_element_by_xpath(submitButtonXPath))\n\n                typeFieldElement.clear()\n                typeFieldElement.send_keys(type)\n                cityFieldElement.clear()\n                cityFieldElement.send_keys(city)\n                submitButtonElement.click()\n\n                while driver.find_element_by_xpath(\".//*[@id='more_results_link']\"):\n                    moreElement  = WebDriverWait(driver, 10).until(lambda driver: driver.find_element_by_xpath(\".//*[@id='more_results_link']\"))\n                    moreElement.click()\n                    print(\"ok\")\n\n                with open('test.csv','a') as f:\n                    file = csv.writer(f)\n\n                    select = Select(driver.find_element_by_id(\"select_sort\"))\n                    select.select_by_visible_text(\"Entfernung\")\n                    print(\"dist\")\n\n                    count = len(driver.find_elements_by_xpath(\".//*[@id='ansicht-ergebnisliste']/div\"))\n                    print(count)\n\n                    for i in range(1,count):\n\n                        try:\n                            print(i)\n                            nameXPath = str(\".//*[@id='ansicht-ergebnisliste']/div[\") + str(i) + str(\"]/div[4]/h2/a\")\n                            addressXPath = str(\".//*[@id='ansicht-ergebnisliste']/div[\") +str(i)+ str(\"]/div[4]/p[1]\")\n                            gradeXPath = str(\".//*[@id='ansicht-ergebnisliste']/div[\") + str(i) + str(\"]/div[3]/div[2]/div[1]\")\n                            reviewsXPath = str(\".//*[@id='ansicht-ergebnisliste']/div[\") + str(i) + str(\"]/div[3]/div[3]/a\")\n                            recommendationsXPath = str(\".//*[@id='ansicht-ergebnisliste']/div[\")  + str(i) + str(\"]/div[3]/div[3]/div[1]/strong\")\n\n                            gp = str(WebDriverWait(driver, 1).until(lambda driver: driver.find_element_by_xpath(nameXPath)).text.encode(\"utf-8\"))\n                            address = str(WebDriverWait(driver, 1).until(lambda driver: driver.find_element_by_xpath(addressXPath)).text.encode(\"utf-8\"))\n                            grade = str(WebDriverWait(driver, 1).until(lambda driver: driver.find_element_by_xpath(gradeXPath)).text.encode(\"utf-8\"))\n                            reviews = str(WebDriverWait(driver, 1).until(lambda driver: driver.find_element_by_xpath(reviewsXPath)).text.encode(\"utf-8\"))\n                            recommendations = str(WebDriverWait(driver, 1).until(lambda driver: driver.find_element_by_xpath(recommendationsXPath)).text.encode(\"utf-8\"))\n                            file.writerow([''.join(gp.split()),''.join(address.split()),''.join(grade.split()),''.join(reviews.split()),''.join(recommendations.split())])\n\n                        except:\n                            pass\n\n\n    def tearDown(self):\n        self.driver.quit()\n\nif __name__ == '__main__':\n    unittest.main()\n</code></pre>\n\n<p>EDIT2:</p>\n\n<p>I figured out how to press the button the second time. the trick was to wait until the first element of the second results \"batch\" has loaded. However, for some reason the website doesn't allow me to sort the results by distance (select the option from a dropdown box) after I loaded the next result pages. So I first have to sort the results and then load the next result pages.</p>\n\n<p>In other words I wanna run the following code:</p>\n\n<pre><code>select = Select(WebDriverWait(driver, 10).until(lambda driver: driver.find_element_by_id(\"select_sort\")))\nselect.select_by_visible_text(\"Entfernung\")\n\nmoreElement  = WebDriverWait(driver, 10).until(lambda driver: driver.find_element_by_xpath(\".//*[@id='more_results_link']\"))\nmoreElement.click()\nWebDriverWait(driver, 10).until(lambda driver: driver.find_element_by_xpath(\".//*[@id='ansicht-ergebnisliste']/div[31]/div[4]/h2/a\"))\nmoreElement  = WebDriverWait(driver, 10).until(lambda driver: driver.find_element_by_xpath(\".//*[@id='more_results_link']\"))\nmoreElement.click()\nWebDriverWait(driver, 10).until(lambda driver: driver.find_element_by_xpath(\".//*[@id='ansicht-ergebnisliste']/div[61]/div[4]/h2/a\"))\n</code></pre>\n\n<p>However this is giving me the following error message:</p>\n\n<pre><code>Error\nTraceback (most recent call last):\n  File \"/Users/Jonas/PycharmProjects/jameda/test.py\", line 54, in test_Login\n    moreElement.click()\n  File \"/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/site-packages/selenium/webdriver/remote/webelement.py\", line 75, in click\n    self._execute(Command.CLICK_ELEMENT)\n  File \"/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/site-packages/selenium/webdriver/remote/webelement.py\", line 454, in _execute\n    return self._parent.execute(command, params)\n  File \"/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/site-packages/selenium/webdriver/remote/webdriver.py\", line 201, in execute\n    self.error_handler.check_response(response)\n  File \"/Library/Frameworks/Python.framework/Versions/3.5/lib/python3.5/site-packages/selenium/webdriver/remote/errorhandler.py\", line 107, in check_response\n    message = value[\"value\"][\"message\"]\nTypeError: string indices must be integers\n</code></pre>\n\n<p>any idea how to resolve this last problem?</p>\n"}, {"tags": ["android", "python", "bluetooth"], "comments": [{"owner": {"reputation": 6403, "user_id": 85472, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/322016982798ad35df085a1b7b729c38?s=128&d=identicon&r=PG", "display_name": "Maks", "link": "https://stackoverflow.com/users/85472/maks"}, "edited": false, "score": 0, "creation_date": 1453327727, "post_id": 34911371, "comment_id": 57558780, "body": "Its very hard to diagnose this without seeing the actual exception you are getting. Could you change your code to have:     Log.i(&quot;myStuff&quot;, &quot;EXCEPTION THROWN&quot;, e); which will then print out the full stacktrace for the exception that is being thrown and include that here."}, {"owner": {"reputation": 255, "user_id": 5818043, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/754c091c181ade36764d5dfe825e700d?s=128&d=identicon&r=PG&f=1", "display_name": "Paul_D", "link": "https://stackoverflow.com/users/5818043/paul-d"}, "reply_to_user": {"reputation": 6403, "user_id": 85472, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/322016982798ad35df085a1b7b729c38?s=128&d=identicon&r=PG", "display_name": "Maks", "link": "https://stackoverflow.com/users/85472/maks"}, "edited": false, "score": 0, "creation_date": 1453332922, "post_id": 34911371, "comment_id": 57560955, "body": "I have added the exception that is being thrown.  Thank you for the reply."}, {"owner": {"reputation": 6403, "user_id": 85472, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/322016982798ad35df085a1b7b729c38?s=128&d=identicon&r=PG", "display_name": "Maks", "link": "https://stackoverflow.com/users/85472/maks"}, "edited": false, "score": 0, "creation_date": 1453334049, "post_id": 34911371, "comment_id": 57561334, "body": "Ok, now that we can see the exception, looks like you&#39;re not getting to the point of establishing a connection. First off I would check that you have the BT permission in your manifest? <a href=\"http://developer.android.com/guide/topics/connectivity/bluetooth.html#Permissions\" rel=\"nofollow noreferrer\">developer.android.com/guide/topics/connectivity/&hellip;</a>"}, {"owner": {"reputation": 255, "user_id": 5818043, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/754c091c181ade36764d5dfe825e700d?s=128&d=identicon&r=PG&f=1", "display_name": "Paul_D", "link": "https://stackoverflow.com/users/5818043/paul-d"}, "reply_to_user": {"reputation": 6403, "user_id": 85472, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/322016982798ad35df085a1b7b729c38?s=128&d=identicon&r=PG", "display_name": "Maks", "link": "https://stackoverflow.com/users/85472/maks"}, "edited": false, "score": 0, "creation_date": 1453337319, "post_id": 34911371, "comment_id": 57562329, "body": "I have bluetooth and bluetooth admin permissions in the AndriodManifest.xml                                                                               &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH&quot; /&gt;     &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_ADMIN&quot; /&gt;"}], "answers": [{"comments": [{"owner": {"reputation": 255, "user_id": 5818043, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/754c091c181ade36764d5dfe825e700d?s=128&d=identicon&r=PG&f=1", "display_name": "Paul_D", "link": "https://stackoverflow.com/users/5818043/paul-d"}, "edited": false, "score": 0, "creation_date": 1453340468, "post_id": 34913593, "comment_id": 57563227, "body": "Thank you for the help Maks.  Much appreciated!"}, {"owner": {"reputation": 6403, "user_id": 85472, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/322016982798ad35df085a1b7b729c38?s=128&d=identicon&r=PG", "display_name": "Maks", "link": "https://stackoverflow.com/users/85472/maks"}, "reply_to_user": {"reputation": 255, "user_id": 5818043, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/754c091c181ade36764d5dfe825e700d?s=128&d=identicon&r=PG&f=1", "display_name": "Paul_D", "link": "https://stackoverflow.com/users/5818043/paul-d"}, "edited": false, "score": 0, "creation_date": 1453340638, "post_id": 34913593, "comment_id": 57563278, "body": "Paul_D hope one of those answers helps, if it does, pls leave comment here for future reference and then mark this answer as accepted."}], "tags": [], "owner": {"reputation": 6403, "user_id": 85472, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/322016982798ad35df085a1b7b729c38?s=128&d=identicon&r=PG", "display_name": "Maks", "link": "https://stackoverflow.com/users/85472/maks"}, "is_accepted": true, "score": 1, "last_activity_date": 1453338064, "last_edit_date": 1495542208, "creation_date": 1453338064, "answer_id": 34913593, "question_id": 34911371, "link": "https://stackoverflow.com/questions/34911371/bluetooth-with-android-and-raspberrypi/34913593#34913593", "title": "bluetooth with android and raspberrypi", "body": "<p>Given the exception that is being thrown and confirming via comments that permissions are set correctly, perhaps this is an issue that's addresssed in these existing answers:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/18657427/ioexception-read-failed-socket-might-closed-bluetooth-on-android-4-3\">IOException: read failed, socket might closed - Bluetooth on Android 4.3</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/13648373/bluetoothsocket-connect-throwing-exception-read-failed\">BluetoothSocket.connect() throwing exception &quot;read failed&quot;</a></p>\n"}], "owner": {"reputation": 255, "user_id": 5818043, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/754c091c181ade36764d5dfe825e700d?s=128&d=identicon&r=PG&f=1", "display_name": "Paul_D", "link": "https://stackoverflow.com/users/5818043/paul-d"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4219, "favorite_count": 1, "accepted_answer_id": 34913593, "answer_count": 1, "score": 0, "last_activity_date": 1453338064, "creation_date": 1453326914, "last_edit_date": 1453332891, "question_id": 34911371, "link": "https://stackoverflow.com/questions/34911371/bluetooth-with-android-and-raspberrypi", "title": "bluetooth with android and raspberrypi", "body": "<p>All that I would like to do is connect my andriod tab to my raspberrypi.  I have searched and I am using code found in examples but I am still having troubles. I can establish communication between the two when I run my python script on the pi and use Blueterm on my android device.  I can even send and receive strings.</p>\n\n<p>However with my own androaid app I am having trouble and getting an exception when trying to connect.  Any help would be greatly appreciated.</p>\n\n<p>python code:</p>\n\n<pre><code>from bluetooth import *\n\nserver_sock=BluetoothSocket( RFCOMM )\nserver_sock.bind((\"\",PORT_ANY))\nserver_sock.listen(1)\n\nport = server_sock.getsockname()[1]\n\nuuid = \"94f39d29-7d6d-437d-973b-fba39e49d4ee\"\n\nx = 0\n\nwhile x&lt;3:\n        print \"Waiting for connection on RFCOMM channel %d\" % port\n\n        client_sock, client_info = server_sock.accept()\n        print \"Accepted connection from \", client_info\n        x = 1\n\n        while x == 1:\n                try:\n                        data = client_sock.recv(1024)\n                        if len(data) == 0: break\n                        print \"received [%s]\" % data\n\n                        if data == 'temp':\n                                data = str(read_temp())+'!'\n                        elif data == 'a':\n                                data = 'A A A!'\n                        elif data == 'b':\n                                data = 'B B B'\n                        else:\n                                data = 'WTF!'\n                                x = 5\n                        client_sock.send(data)\n                        print \"sending [%s]\" % data\n\n                except IOError:\n                        pass\n\n\nexcept KeyboardInterrupt:\n\n                        print \"disconnected\"\n\n                        client_sock.close()\n                        server_sock.close()\n                        print \"all done\"\n\n                        break\n\nif x == 5:\n        print \"disconnected\"\n        client_sock.close()\n        server_sock.close()\n        print \"all done\"\n</code></pre>\n\n<p>Android Code:</p>\n\n<pre><code>import android.bluetooth.BluetoothAdapter;\nimport android.bluetooth.BluetoothDevice;\nimport android.bluetooth.BluetoothSocket;\nimport android.content.Intent;\nimport android.support.v7.app.AppCompatActivity;\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.view.View;\nimport android.widget.Button;\nimport java.io.IOException;\nimport java.util.Set;\nimport java.util.UUID;\n\npublic class MainActivity extends AppCompatActivity {\n\n    Button tryBluetoothButton;\n    BluetoothSocket mmSocket = null;\n    BluetoothDevice mmDevice = null;\n    BluetoothAdapter mBluetoothAdapter;\n\n    public void tryBT(View view) {\n        Log.i(\"myStuff\", \"Button Clicked\");\n        sendBtMsg(\"a\");\n    }\n\n    public void sendBtMsg(String msg2send) {\n\n        UUID uuid = UUID.fromString(\"94f39d29-7d6d-437d-973b-fba39e49d4ee\");\n\n        try {\n            mmSocket = mmDevice.createRfcommSocketToServiceRecord(uuid);\n            mmSocket.connect();\n            Log.i(\"myStuff\", \"Conected OK!\");\n\n        } catch (IOException e) { }{\n\n            Log.i(\"myStuff\", \"EXCEPTION THROWN\");\n            }\n    }\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        tryBluetoothButton = (Button) findViewById(R.id.tryBluetoothButton);\n\n        mBluetoothAdapter = BluetoothAdapter.getDefaultAdapter();\n\n        if (!mBluetoothAdapter.isEnabled()) {\n            Intent enableBluetooth = new Intent(BluetoothAdapter.ACTION_REQUEST_ENABLE);\n            startActivityForResult(enableBluetooth, 0);\n            Log.i(\"myStuff\", \"Bluetooth Enabled\");\n        } else {\n            Log.i(\"myStuff\", \"Bluetooth Already Enabled\");\n        }\n\n        Set&lt;BluetoothDevice&gt; pairedDevices = mBluetoothAdapter.getBondedDevices();\n        if (pairedDevices.size() &gt; 0) {\n            for (BluetoothDevice device : pairedDevices) {\n                if (device.getName().equals(\"raspberrypi\"))\n                {\n                    mmDevice = device;\n                    Log.i(\"myStuff\", \"Device equals \" + device.getName());\n                    break;\n                }\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>Log from Android Studio when I run the app</p>\n\n<pre><code>01-20 16:33:42.983 8994-8994/paul.piconnect2 I/myStuff: Bluetooth Already Enabled\n01-20 16:33:43.003 8994-8994/paul.piconnect2 I/myStuff: Device equals raspberrypi\n01-20 16:33:48.889 8994-8994/paul.piconnect2 I/myStuff: Button Clicked\n01-20 16:33:50.831 8994-8994/paul.piconnect2 I/myStuff: EXCEPTION THROWN\n01-20 18:30:53.092 12714-12714/paul.piconnect2 I/myStuff: EXCEPTION THROWN\n                                                      java.io.IOException: read failed, socket might closed or timeout, read ret: -1\n                                                          at android.bluetooth.BluetoothSocket.readAll(BluetoothSocket.java:582)\n                                                          at android.bluetooth.BluetoothSocket.readInt(BluetoothSocket.java:593)\n                                                          at android.bluetooth.BluetoothSocket.connect(BluetoothSocket.java:378)\n                                                          at paul.piconnect2.MainActivity.sendBtMsg(MainActivity.java:35)\n                                                          at paul.piconnect2.MainActivity.tryBT(MainActivity.java:25)\n                                                          at java.lang.reflect.Method.invokeNative(Native Method)\n                                                          at java.lang.reflect.Method.invoke(Method.java:515)\n                                                          at android.support.v7.app.AppCompatViewInflater$DeclaredOnClickListener.onClick(AppCompatViewInflater.java:270)\n                                                          at android.view.View.performClick(View.java:4633)\n                                                          at android.view.View$PerformClick.run(View.java:19270)\n                                                          at android.os.Handler.handleCallback(Handler.java:733)\n                                                          at android.os.Handler.dispatchMessage(Handler.java:95)\n                                                          at android.os.Looper.loop(Looper.java:146)\n                                                          at android.app.ActivityThread.main(ActivityThread.java:5602)\n                                                          at java.lang.reflect.Method.invokeNative(Native Method)\n                                                          at java.lang.reflect.Method.invoke(Method.java:515)\n                                                          at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1283)\n                                                          at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1099)\n                                                          at dalvik.system.NativeStart.main(Native Method)\n</code></pre>\n\n<p>I have been searching for a solution and will continue to do so.  I have the raspberry pi and the samsung tab paired.  I even have the tab as a trusted device.   I am good with the python code because when I run blueterm with my tab I get the expected response when I type in \"a\" or \"b\". Any help would be great.  Thank you.</p>\n"}, {"tags": ["python", "pip"], "answers": [{"comments": [{"owner": {"reputation": 379, "user_id": 2155400, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c0e89cfd6de4230260766549b09c571e?s=128&d=identicon&r=PG", "display_name": "user2155400", "link": "https://stackoverflow.com/users/2155400/user2155400"}, "edited": false, "score": 0, "creation_date": 1453711468, "post_id": 34913404, "comment_id": 57704809, "body": "It looks like this is fixed in 8.0.2"}], "tags": [], "owner": {"reputation": 46, "user_id": 5818736, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01a96df5b6974f9cd02b12e87d7d7507?s=128&d=identicon&r=PG", "display_name": "Chris Ward", "link": "https://stackoverflow.com/users/5818736/chris-ward"}, "is_accepted": true, "score": 3, "last_activity_date": 1453336807, "creation_date": 1453336807, "answer_id": 34913404, "question_id": 34911296, "link": "https://stackoverflow.com/questions/34911296/python-pip-install-error-valueerror-need-more-than-2-values-to-unpack/34913404#34913404", "title": "Python pip install error: ValueError: need more than 2 values to unpack", "body": "<p>I got this error as well. I believe it's due to a bug on line 119 of <code>pep425tags.py</code> which was located on my machine at <code>/Library/Python/2.7/site-packages/pip/pep425tags.py</code>. This seems to have solved it:</p>\n\n<p><strong>Original:</strong></p>\n\n<pre><code>release, _, machine = platform.mac_ver()\nmajor, minor, micro = release.split('.') # line 119\n</code></pre>\n\n<p><strong>Change to:</strong></p>\n\n<pre><code>release, _, machine = platform.mac_ver()\nmajor, minor = release.split('.') # line 119\n</code></pre>\n\n<p>The code on line 119 is expecting to have 3 values returned to it by <code>split</code>ing on periods, but, on my machine at least, <code>platform.mac_ver()</code> returns <code>'10.11'</code>.</p>\n\n<p>I have been able to successfully install, upgrade, and uninstall several packages after this change, so it seems as though everything else is working fine.</p>\n"}], "owner": {"reputation": 379, "user_id": 2155400, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c0e89cfd6de4230260766549b09c571e?s=128&d=identicon&r=PG", "display_name": "user2155400", "link": "https://stackoverflow.com/users/2155400/user2155400"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 603, "favorite_count": 1, "accepted_answer_id": 34913404, "answer_count": 1, "score": 4, "last_activity_date": 1453336807, "creation_date": 1453326616, "question_id": 34911296, "link": "https://stackoverflow.com/questions/34911296/python-pip-install-error-valueerror-need-more-than-2-values-to-unpack", "title": "Python pip install error: ValueError: need more than 2 values to unpack", "body": "<p>I just upgraded pip to version 8, and now when I attempt to install packages I get this error:</p>\n\n<pre><code>File \"/Library/Python/2.7/site-packages/pip/pep425tags.py\", line 119, in get_platform major, minor, micro = release.split('.')\n\nValueError: need more than 2 values to unpack\n</code></pre>\n\n<p>I tried downgrading pip, but I still receive the same error. Any help is appreciated.</p>\n"}, {"tags": ["python", "tensorflow"], "answers": [{"comments": [{"owner": {"reputation": 192, "user_id": 4562374, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d2734c3f65484afc7b6448f4691f4ff?s=128&d=identicon&r=PG&f=1", "display_name": "Galen Harrison", "link": "https://stackoverflow.com/users/4562374/galen-harrison"}, "edited": false, "score": 0, "creation_date": 1453327522, "post_id": 34911483, "comment_id": 57558665, "body": "Hi, thanks for your reply. I&#39;m not trying to minimize the optimizer, I&#39;m just trying to print out the gradients at each step. The reason why I bring up the minimize counter example is that it involves calling compute_gradients, so one would expect that a call to that function with the same arguments would also produce an error."}], "tags": [], "owner": {"reputation": 421, "user_id": 5548115, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zMl5P.jpg?s=128&g=1", "display_name": "vrv", "link": "https://stackoverflow.com/users/5548115/vrv"}, "is_accepted": false, "score": 1, "last_activity_date": 1453327297, "creation_date": 1453327297, "answer_id": 34911483, "question_id": 34911276, "link": "https://stackoverflow.com/questions/34911276/cannot-gather-gradients-for-gradientdescentoptimizer-in-tensorflow/34911483#34911483", "title": "Cannot gather gradients for GradientDescentOptimizer in TensorFlow", "body": "<p>minimize calls compute_gradients followed by apply_gradients: it's possible you're missing the second step.</p>\n\n<p>compute_gradients just returns the grads / variables, but doesn't apply the update rule to them.</p>\n\n<p>Here is an example: <a href=\"https://github.com/tensorflow/tensorflow/blob/f2bd0fc399606d14b55f3f7d732d013f32b33dd5/tensorflow/python/training/optimizer.py#L69\" rel=\"nofollow\">https://github.com/tensorflow/tensorflow/blob/f2bd0fc399606d14b55f3f7d732d013f32b33dd5/tensorflow/python/training/optimizer.py#L69</a></p>\n"}, {"tags": [], "owner": {"reputation": 119710, "user_id": 3574081, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LIW6C.jpg?s=128&g=1", "display_name": "mrry", "link": "https://stackoverflow.com/users/3574081/mrry"}, "is_accepted": true, "score": 11, "last_activity_date": 1453327383, "creation_date": 1453327383, "answer_id": 34911503, "question_id": 34911276, "link": "https://stackoverflow.com/questions/34911276/cannot-gather-gradients-for-gradientdescentoptimizer-in-tensorflow/34911503#34911503", "title": "Cannot gather gradients for GradientDescentOptimizer in TensorFlow", "body": "<p>The <a href=\"https://www.tensorflow.org/versions/master/api_docs/python/train.html#Optimizer.compute_gradients\"><code>Optimizer.compute_gradients()</code></a> method returns a list of (<code>Tensor</code>, <code>Variable</code>) pairs, where each tensor is the gradient with respect to the corresponding variable.</p>\n\n<p><code>Session.run()</code> expects a list of <code>Tensor</code> objects (or objects convertible to a <code>Tensor</code>) as its first argument. It does not understand how to handle a list of pairs, and hence you get a <code>TypeError</code> which you try to run <code>sess.run(gradstep, ...)</code></p>\n\n<p>The correct solution depends on what you are trying to do. If you want to fetch all of the gradient values, you can do the following:</p>\n\n<pre><code>grad_vals = sess.run([grad for grad, _ in gradstep], feed_dict={x: batch_x, y: batch_y})\n\n# Then, e.g., nuild a variable name-to-gradient dictionary.\nvar_to_grad = {}\nfor grad_val, (_, var) in zip(grad_vals, gradstep):\n    var_to_grad[var.name] = grad_val\n</code></pre>\n\n<p>If you also want to fetch the variables, you can execute the following statement separately:</p>\n\n<pre><code>sess.run([var for _, var in gradstep])\n</code></pre>\n\n<p>...though note that&mdash;without further modification to your program&mdash;this will just return the initial values for each variable.\nYou will have to run the optimizer's training step (or otherwise call <a href=\"https://www.tensorflow.org/versions/master/api_docs/python/train.html#Optimizer.apply_gradients\"><code>Optimizer.apply_gradients()</code></a>) to update the variables.</p>\n"}], "owner": {"reputation": 192, "user_id": 4562374, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d2734c3f65484afc7b6448f4691f4ff?s=128&d=identicon&r=PG&f=1", "display_name": "Galen Harrison", "link": "https://stackoverflow.com/users/4562374/galen-harrison"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3214, "favorite_count": 3, "accepted_answer_id": 34911503, "answer_count": 2, "score": 2, "last_activity_date": 1453328210, "creation_date": 1453326548, "last_edit_date": 1453328210, "question_id": 34911276, "link": "https://stackoverflow.com/questions/34911276/cannot-gather-gradients-for-gradientdescentoptimizer-in-tensorflow", "title": "Cannot gather gradients for GradientDescentOptimizer in TensorFlow", "body": "<p>I've been trying to gather the gradient steps for each step of the GradientDescentOptimizer within TensorFlow, however I keep running into a TypeError when I try to pass the result of <code>apply_gradients()</code> to <code>sess.run()</code>. The code I'm trying to run is:</p>\n\n<pre><code>import tensorflow as tf\nfrom tensorflow.examples.tutorials.mnist import input_data\n\nx = tf.placeholder(tf.float32,[None,784])\nW = tf.Variable(tf.zeros([784,10]))\nb = tf.Variable(tf.zeros([10]))\ny = tf.nn.softmax(tf.matmul(x,W)+b)\ny_ = tf.placeholder(tf.float32,[None,10])\ncross_entropy = -tf.reduce_sum(y_*log(y))\n\n# note that up to this point, this example is identical to the tutorial on tensorflow.org\n\ngradstep = tf.train.GradientDescentOptimizer(0.01).compute_gradients(cross_entropy)\n\nsess = tf.Session()\nsess.run(tf.initialize_all_variables())\nbatch_x,batch_y = mnist.train.next_batch(100)\nprint sess.run(gradstep, feed_dict={x:batch_x,y_:batch_y})\n</code></pre>\n\n<p>Note that if I replace the last line with <code>print sess.run(train_step,feed_dict={x:batch_x,y_:batch_y})</code>, where <code>train_step = tf.GradientDescentOptimizer(0.01).minimize(cross_entropy)</code>, the error is not raised. My confusion arises from the fact that <code>minimize</code> calls <code>compute_gradients</code> with exactly the same arguments as its first step. Can someone explain why this behavior occurs?</p>\n"}, {"tags": ["python", "nlp", "nltk"], "comments": [{"owner": {"reputation": 1403, "user_id": 5221082, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/uAPUq.jpg?s=128&g=1", "display_name": "Bob Dylan", "link": "https://stackoverflow.com/users/5221082/bob-dylan"}, "edited": false, "score": 1, "creation_date": 1453326774, "post_id": 34911264, "comment_id": 57558241, "body": "Named entity recognition is a difficult problem. Try <a href=\"http://textminingonline.com/how-to-use-stanford-named-entity-recognizer-ner-in-python-nltk-and-other-programming-languages\" rel=\"nofollow noreferrer\">this</a>."}, {"owner": {"reputation": 541, "user_id": 1511057, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/bc170043fb5014d3942e2d5f28b0e4c9?s=128&d=identicon&r=PG", "display_name": "Renien", "link": "https://stackoverflow.com/users/1511057/renien"}, "edited": false, "score": 0, "creation_date": 1453465454, "post_id": 34911264, "comment_id": 57624486, "body": "Your using default POS Taggers currently.  So in that case you need to train your own corpus with including the correct POS tagged values. If not as a fall back mechanism you should have another error correction layer after using default corpus POS Tagger model."}, {"owner": {"reputation": 93705, "user_id": 610569, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/0e9087f2672b0e4f28d91266acf9ce57?s=128&d=identicon&r=PG", "display_name": "alvas", "link": "https://stackoverflow.com/users/610569/alvas"}, "edited": false, "score": 0, "creation_date": 1453645407, "post_id": 34911264, "comment_id": 57683149, "body": "What is the source of the data? Is it possible to share? Is there a list of words/phrases/abbreviations that you want them to always be nouns? Do you have tagged data? What is the domain of the data? What is ultimate purpose of the POS tagging? Answering those questions would narrow down the solutions to your questions."}, {"owner": {"reputation": 43245, "user_id": 699305, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/db6ce45b5ec86e1b00d922fc5cee315f?s=128&d=identicon&r=PG", "display_name": "alexis", "link": "https://stackoverflow.com/users/699305/alexis"}, "edited": false, "score": 0, "creation_date": 1453936978, "post_id": 34911264, "comment_id": 57824470, "body": "In your particular example, you can just post-process the tagged data and change <code>(&#39;MS&#39;, &#39;NNP&#39;)</code> to <code>(&#39;MS&#39;, &#39;NN&#39;)</code>. But I&#39;m guessing you don&#39;t want that, you want a perfect tagger. Have you thought about how you&#39;re going to determine which words to override?"}, {"owner": {"reputation": 365, "user_id": 3550016, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/Mhs1c.jpg?s=128&g=1", "display_name": "Sylvia", "link": "https://stackoverflow.com/users/3550016/sylvia"}, "edited": false, "score": 0, "creation_date": 1490030990, "post_id": 34911264, "comment_id": 72919523, "body": "If &#39;MS&#39; isn&#39;t your only instance and you want to do this large scale, I would probably look into Word sense disambiguation and use a medical dictionary as a basis for the most likely meaning of a word."}], "answers": [{"tags": [], "owner": {"reputation": 8346, "user_id": 6573902, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/nplar.jpg?s=128&g=1", "display_name": "sophros", "link": "https://stackoverflow.com/users/6573902/sophros"}, "is_accepted": false, "score": 0, "last_activity_date": 1504279403, "creation_date": 1504279403, "answer_id": 46003443, "question_id": 34911264, "link": "https://stackoverflow.com/questions/34911264/is-there-a-way-to-tell-nltk-that-a-certain-word-isnt-a-proper-noun-but-a-noun/46003443#46003443", "title": "Is there a way to tell NLTK that a certain word isn&#39;t a proper noun but a noun?", "body": "<p>Summing it up, you have the following options:</p>\n\n<ol>\n<li>Correcting the tag in the post-processing - a bit ugly but quick and easy.</li>\n<li>Employ an external <em>Name Entity Recognizer</em> (Stanford NER as @Bob Dylan has thoughtfully suggested) - this one is more involved, particularly because Stanford NER is in java and is not particularly fast.</li>\n<li>Retrain a POS Tagger on domain-specific data (do you have a large enough annotated dataset to use it for that?)</li>\n<li>Use <em>WSD</em> (Word Sense Disambiguation) approach - for a start you need to have a good domain dictionary to use.</li>\n</ol>\n"}], "owner": {"reputation": 1388, "user_id": 4565405, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b40114eee9ba6552c5a74330ee56e1a0?s=128&d=identicon&r=PG", "display_name": "Spencer Sutton", "link": "https://stackoverflow.com/users/4565405/spencer-sutton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 381, "favorite_count": 0, "answer_count": 1, "score": 5, "last_activity_date": 1504279403, "creation_date": 1453326509, "last_edit_date": 1453326775, "question_id": 34911264, "link": "https://stackoverflow.com/questions/34911264/is-there-a-way-to-tell-nltk-that-a-certain-word-isnt-a-proper-noun-but-a-noun", "title": "Is there a way to tell NLTK that a certain word isn&#39;t a proper noun but a noun?", "body": "<p>I'm doing some NLP where I'm finding out when patients were diagnosed with multiple sclerosis.</p>\n\n<p>I'd like to use nltk to tell me that the noun of a sentence was multiple sclerosis. Problem is, doctors frequently refer to multiple sclerosis as MS which nltk picks up as a proper noun.</p>\n\n<p>For example, this sentence, \"His MS was diagnosed in 1999.\" Is tagged as: <code>[('His', 'PRP$'), ('MS', 'NNP'), ('was', 'VBD'), ('diagnosed', 'VBN'), ('in', 'IN'), ('1999', 'CD'), ('.', '.')]</code></p>\n\n<p>MS should be a noun here. Any suggestions?</p>\n"}, {"tags": ["python", "string", "python-2.7", "encoding"], "comments": [{"owner": {"reputation": 3891, "user_id": 2326911, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/173ece6e1a474bf45d2dee00f651b543?s=128&d=identicon&r=PG&f=1", "display_name": "\u1d00\u0280\u1d0d\u1d00\u0274", "link": "https://stackoverflow.com/users/2326911/%e1%b4%80%ca%80%e1%b4%8d%e1%b4%80%c9%b4"}, "edited": false, "score": 0, "creation_date": 1453326809, "post_id": 34911168, "comment_id": 57558256, "body": "You can use <code>codecs</code> too for open file with <code>utf-8</code> or <code>utf-16</code> encoding"}], "answers": [{"comments": [{"owner": {"reputation": 131156, "user_id": 235698, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KjvlE.png?s=128&g=1", "display_name": "Mark Tolonen", "link": "https://stackoverflow.com/users/235698/mark-tolonen"}, "edited": false, "score": 0, "creation_date": 1460792818, "post_id": 34911251, "comment_id": 60915602, "body": "Technically, Python 2 opens files assuming no encoding and returns byte strings.  Python 3 opens files assuming <code>locale.getpreferredencoding()</code> (which may not be <code>utf8</code>) and returns Unicode strings, but allows an encoding to be specified."}, {"owner": {"reputation": 71233, "user_id": 837534, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f3782b004830f622e19029e5f7fc146?s=128&d=identicon&r=PG", "display_name": "Mike M&#252;ller", "link": "https://stackoverflow.com/users/837534/mike-m%c3%bcller"}, "reply_to_user": {"reputation": 131156, "user_id": 235698, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KjvlE.png?s=128&g=1", "display_name": "Mark Tolonen", "link": "https://stackoverflow.com/users/235698/mark-tolonen"}, "edited": false, "score": 0, "creation_date": 1460793931, "post_id": 34911251, "comment_id": 60915857, "body": "Thanks for the hint. Updated my answer."}], "tags": [], "owner": {"reputation": 71233, "user_id": 837534, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f3782b004830f622e19029e5f7fc146?s=128&d=identicon&r=PG", "display_name": "Mike M&#252;ller", "link": "https://stackoverflow.com/users/837534/mike-m%c3%bcller"}, "is_accepted": false, "score": 5, "last_activity_date": 1460793903, "last_edit_date": 1460793903, "creation_date": 1453326439, "answer_id": 34911251, "question_id": 34911168, "link": "https://stackoverflow.com/questions/34911168/python-unicodedecodeerror-ascii-codec-cant-decode-byte-0xc2-in-position-171/34911251#34911251", "title": "Python, UnicodeDecodeError: &#39;ascii&#39; codec can&#39;t decode byte 0xc2 in position 1718: ordinal not in range(128)", "body": "<p>You need to provide the encoding. For example if it is <code>utf-8</code>:</p>\n\n<pre><code>import io\n\nwith io.open(infile, encoding='utf-8') as fobj:\n    for line in fobj:\n        if line.startswith(u'\u25bc'):\n</code></pre>\n\n<p>This works for Python 2 and 3. Per default Python 2 opens files assuming no encoding, i.e. reading the content will return byte strings. Therefore, you can read only <code>ascii</code> characters. In Python 3 the default is what\n<code>locale.getpreferredencoding(False)</code> returns, in many cases <code>utf-8</code>. The standard <code>open()</code> in Python 2 does not allow to specify an encoding. Using <code>io.open()</code> makes it future proof because you don't need to change your code when switching to Python 3.</p>\n\n<p>In Python 3:</p>\n\n<pre><code>&gt;&gt;&gt; io.open is open\nTrue\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 74709, "user_id": 21945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/631470ecb1d4fe8bd3be6d7e0dfe4449?s=128&d=identicon&r=PG", "display_name": "mhawke", "link": "https://stackoverflow.com/users/21945/mhawke"}, "is_accepted": false, "score": 3, "last_activity_date": 1453326749, "creation_date": 1453326749, "answer_id": 34911326, "question_id": 34911168, "link": "https://stackoverflow.com/questions/34911168/python-unicodedecodeerror-ascii-codec-cant-decode-byte-0xc2-in-position-171/34911326#34911326", "title": "Python, UnicodeDecodeError: &#39;ascii&#39; codec can&#39;t decode byte 0xc2 in position 1718: ordinal not in range(128)", "body": "<p>Open your file with the correct encoding, for example if your file is UTF8 encoded with Python 3:</p>\n\n<pre><code>with open('finance.txt', encoding='utf8') as f:\n    for line in input:\n        if line.startswith(u'\u25bc'):\n            # whatever\n</code></pre>\n\n<p>With Python 2 you can use <code>io.open()</code> (also works in Python 3):</p>\n\n<pre><code>import io\n\nwith io.open('finance.txt', encoding='utf8') as f:\n    for line in input:\n        if line.startswith(u'\u25bc'):\n            # whatever\n</code></pre>\n"}], "owner": {"reputation": 1037, "user_id": 3365859, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/5a8468cfc051539d91172fbd7ad7cd6a?s=128&d=identicon&r=PG&f=1", "display_name": "trialcritic", "link": "https://stackoverflow.com/users/3365859/trialcritic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1121, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1460793903, "creation_date": 1453326139, "last_edit_date": 1460792131, "question_id": 34911168, "link": "https://stackoverflow.com/questions/34911168/python-unicodedecodeerror-ascii-codec-cant-decode-byte-0xc2-in-position-171", "title": "Python, UnicodeDecodeError: &#39;ascii&#39; codec can&#39;t decode byte 0xc2 in position 1718: ordinal not in range(128)", "body": "<p>I am trying a simple parsing of a file and get the error due to special characters:</p>\n\n<pre><code>#!/usr/bin/env python                                                                                                                 \n# -*- coding: utf-8 -*-                                                                                                               \n\ninfile = 'finance.txt'\ninput = open(infile)\nfor line in input:\n  if line.startswith(u'\u25bc'):\n</code></pre>\n\n<p>I get the error:</p>\n\n<pre><code>UnicodeDecodeError: 'ascii' codec can't decode byte 0xc2 in position 1718: ordinal not in range(128)\n</code></pre>\n\n<p>Solution?</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 38630, "user_id": 1324033, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/PaonW.png?s=128&g=1", "display_name": "Sayse", "link": "https://stackoverflow.com/users/1324033/sayse"}, "edited": false, "score": 10, "creation_date": 1453326184, "post_id": 34911154, "comment_id": 57557904, "body": "This is an extreme case of premature optimisation, it really makes no difference which snippet you choose here"}, {"owner": {"reputation": 10709, "user_id": 3212865, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/B6qLg.jpg?s=128&g=1", "display_name": "spectras", "link": "https://stackoverflow.com/users/3212865/spectras"}, "edited": false, "score": 0, "creation_date": 1453326288, "post_id": 34911154, "comment_id": 57557954, "body": "In general, I&#39;d prefer first form: 1) it allows explicit variable names and 2) future modifications where you realize you need one of the former steps at a later point are easier to make."}, {"owner": {"reputation": 36814, "user_id": 671543, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2145962377da9419f2446cd565f614ee?s=128&d=identicon&r=PG", "display_name": "njzk2", "link": "https://stackoverflow.com/users/671543/njzk2"}, "edited": false, "score": 0, "creation_date": 1453326380, "post_id": 34911154, "comment_id": 57558016, "body": "the content of <code>a</code> is probably retained outside of the function anyway, so no, you are not saving memory."}, {"owner": {"reputation": 4604, "user_id": 3821804, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/d837f426da3935510c8c43f2a2c07f8d?s=128&d=identicon&r=PG&f=1", "display_name": "GingerPlusPlus", "link": "https://stackoverflow.com/users/3821804/gingerplusplus"}, "edited": false, "score": 4, "creation_date": 1453326441, "post_id": 34911154, "comment_id": 57558054, "body": "<code>def f(a): return a.encode(&#39;utf-8&#39;)[3:]</code> have shorter bytecode than both of your functions. (<a href=\"https://docs.python.org/3/library/dis.html#dis.dis\" rel=\"nofollow noreferrer\"><code>dis.dis</code></a>)"}, {"owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 0, "creation_date": 1453327417, "post_id": 34911154, "comment_id": 57558607, "body": "The only opportunity <code>f</code> would have to reuse memory is after the slice operation but before the return statement. Since <code>f</code> doesn&#39;t do anything in that interval, there is no effective difference in the memory used by either function. Once each returns, the same memory will be eligible for garbage collection."}, {"owner": {"reputation": 240, "user_id": 5242155, "user_type": "registered", "profile_image": "https://graph.facebook.com/630669793726916/picture?type=large", "display_name": "Giorgi Bakhtadze", "link": "https://stackoverflow.com/users/5242155/giorgi-bakhtadze"}, "edited": false, "score": 0, "creation_date": 1453333703, "post_id": 34911154, "comment_id": 57561211, "body": "I wonder why my question is marked as unclear? it seems that everyone understood it because your comments answer my question :/"}], "answers": [{"tags": [], "owner": {"reputation": 71233, "user_id": 837534, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f3782b004830f622e19029e5f7fc146?s=128&d=identicon&r=PG", "display_name": "Mike M&#252;ller", "link": "https://stackoverflow.com/users/837534/mike-m%c3%bcller"}, "is_accepted": true, "score": 0, "last_activity_date": 1453328365, "last_edit_date": 1453328365, "creation_date": 1453327726, "answer_id": 34911592, "question_id": 34911154, "link": "https://stackoverflow.com/questions/34911154/overwriting-variabes-in-python/34911592#34911592", "title": "Overwriting variabes in Python", "body": "<h2>No differences in the bytecode</h2>\n\n<p>Looking at the byte code, there seems to be no difference:</p>\n\n<pre><code>def f1(a):\n    b=a.encode('utf-8')\n    c=b[3:]\n    return c\n\ndef f2(a):\n    a=a.encode('utf-8')\n    a=a[3:]\n    return a\n\n\nimport dis\n\ndis.dis(f1)\n  2           0 LOAD_FAST                0 (a)\n              3 LOAD_ATTR                0 (encode)\n              6 LOAD_CONST               1 ('utf-8')\n              9 CALL_FUNCTION            1 (1 positional, 0 keyword pair)\n             12 STORE_FAST               1 (b)\n\n  3          15 LOAD_FAST                1 (b)\n             18 LOAD_CONST               2 (3)\n             21 LOAD_CONST               0 (None)\n             24 BUILD_SLICE              2\n             27 BINARY_SUBSCR\n             28 STORE_FAST               2 (c)\n\n  4          31 LOAD_FAST                2 (c)\n             34 RETURN_VALUE\n\ndis.dis(f2)\n  7           0 LOAD_FAST                0 (a)\n              3 LOAD_ATTR                0 (encode)\n              6 LOAD_CONST               1 ('utf-8')\n              9 CALL_FUNCTION            1 (1 positional, 0 keyword pair)\n             12 STORE_FAST               0 (a)\n\n  8          15 LOAD_FAST                0 (a)\n             18 LOAD_CONST               2 (3)\n             21 LOAD_CONST               0 (None)\n             24 BUILD_SLICE              2\n             27 BINARY_SUBSCR\n             28 STORE_FAST               0 (a)\n\n  9          31 LOAD_FAST                0 (a)\n             34 RETURN_VALUE\n</code></pre>\n\n<h2>No differences in timings</h2>\n\n<p>Look at the run times:</p>\n\n<pre><code>%timeit f1('x')\n1000000 loops, best of 3: 547 ns per loop\n\n%timeit f2('x')\n1000000 loops, best of 3: 570 ns per loop\n</code></pre>\n\n<p>When you repeat this, the values vary and one is tiny bit faster than other. So no difference.</p>\n\n<h2>No difference in memory consumption</h2>\n\n<pre><code>%memit f1('x')\npeak memory: 66.32 MiB, increment: 0.02 MiB\n\n%memit f2('x')\npeak memory: 66.28 MiB, increment: 0.04 MiB\n</code></pre>\n"}], "owner": {"reputation": 240, "user_id": 5242155, "user_type": "registered", "profile_image": "https://graph.facebook.com/630669793726916/picture?type=large", "display_name": "Giorgi Bakhtadze", "link": "https://stackoverflow.com/users/5242155/giorgi-bakhtadze"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 78, "favorite_count": 0, "closed_date": 1453327778, "accepted_answer_id": 34911592, "answer_count": 1, "score": 0, "last_activity_date": 1453328365, "creation_date": 1453326087, "question_id": 34911154, "link": "https://stackoverflow.com/questions/34911154/overwriting-variabes-in-python", "closed_reason": "Needs details or clarity", "title": "Overwriting variabes in Python", "body": "<p>I wonder if overwriting variables makes any difference in python code.\nfor example this two codes (function argument is long string in both cases):</p>\n\n<p>first:</p>\n\n<pre><code>def f(a):\n    b=a.encode('utf-8')\n    c=b[3:]\n    return c\n</code></pre>\n\n<p>and second:</p>\n\n<pre><code>def f(a):\n    a=a.encode('utf-8')\n    a=a[3:]\n    return a\n</code></pre>\n\n<p>I think in first case it will use more memory than in the second.</p>\n"}, {"tags": ["python", "heroku", "flask", "heroku-toolbelt"], "comments": [{"owner": {"reputation": 15081, "user_id": 978961, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9562cbc3556ac68f081dfda387a9f4ab?s=128&d=identicon&r=PG", "display_name": "dirn", "link": "https://stackoverflow.com/users/978961/dirn"}, "edited": false, "score": 0, "creation_date": 1453328276, "post_id": 34911113, "comment_id": 57559051, "body": "What WSGI server are you using?"}, {"owner": {"reputation": 6700, "user_id": 1322427, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/4c9d4aea3902debf993433deaa42b7dc?s=128&d=identicon&r=PG", "display_name": "SeanPlusPlus", "link": "https://stackoverflow.com/users/1322427/seanplusplus"}, "reply_to_user": {"reputation": 15081, "user_id": 978961, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9562cbc3556ac68f081dfda387a9f4ab?s=128&d=identicon&r=PG", "display_name": "dirn", "link": "https://stackoverflow.com/users/978961/dirn"}, "edited": false, "score": 0, "creation_date": 1453333342, "post_id": 34911113, "comment_id": 57561099, "body": "@dirn i am using gunicorn"}, {"owner": {"reputation": 15081, "user_id": 978961, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9562cbc3556ac68f081dfda387a9f4ab?s=128&d=identicon&r=PG", "display_name": "dirn", "link": "https://stackoverflow.com/users/978961/dirn"}, "edited": false, "score": 2, "creation_date": 1453335348, "post_id": 34911113, "comment_id": 57561754, "body": "While gunicorn has a <a href=\"http://stackoverflow.com/questions/12773763/gunicorn-autoreload-on-source-change\"><code>--reload</code></a> option, you don&#39;t really want it to run in production."}], "owner": {"reputation": 6700, "user_id": 1322427, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/4c9d4aea3902debf993433deaa42b7dc?s=128&d=identicon&r=PG", "display_name": "SeanPlusPlus", "link": "https://stackoverflow.com/users/1322427/seanplusplus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 68, "favorite_count": 0, "closed_date": 1453338472, "answer_count": 0, "score": 1, "last_activity_date": 1453325956, "creation_date": 1453325956, "question_id": 34911113, "link": "https://stackoverflow.com/questions/34911113/autoreload-flask-on-file-save-using-heroku-local", "closed_reason": "Duplicate", "title": "Autoreload flask on file save using heroku local", "body": "<p>Using <a href=\"http://flask.pocoo.org/docs/0.10/quickstart/#debug-mode\" rel=\"nofollow\">Flask Debug Mode</a>, the local dev server will restart on file save if you set the <code>debug</code> flag:</p>\n\n<pre><code>app.debug = True\napp.run()\n</code></pre>\n\n<p>If you are running a Flask application with <a href=\"https://devcenter.heroku.com/articles/heroku-local\" rel=\"nofollow\">Heroku Local</a>, how do you achieve this same behavior?</p>\n"}, {"tags": ["python", "tkinter", "tk"], "comments": [{"owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 0, "creation_date": 1453328419, "post_id": 34911069, "comment_id": 57559112, "body": "That looks like a bug."}, {"owner": {"reputation": 987, "user_id": 4107796, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/04f749980bc28bc2f23547d739b38d85?s=128&d=identicon&r=PG&f=1", "display_name": "jack sexton", "link": "https://stackoverflow.com/users/4107796/jack-sexton"}, "reply_to_user": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 0, "creation_date": 1453328524, "post_id": 34911069, "comment_id": 57559176, "body": "@BryanOakley ... wonderful"}, {"owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 0, "creation_date": 1453329247, "post_id": 34911069, "comment_id": 57559487, "body": "Why does it matter? What are you trying to accomplish? There are other ways to programmatically get all of the configuration options."}, {"owner": {"reputation": 987, "user_id": 4107796, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/04f749980bc28bc2f23547d739b38d85?s=128&d=identicon&r=PG&f=1", "display_name": "jack sexton", "link": "https://stackoverflow.com/users/4107796/jack-sexton"}, "reply_to_user": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 0, "creation_date": 1453329401, "post_id": 34911069, "comment_id": 57559558, "body": "@BryanOakley I don&#39;t need the configured options. I need the options available to configure for canvas. I&#39;m building an xml based styling abstraction on top of tkinter so I need to check if the option tags in the xml file for the widget are valid."}, {"owner": {"reputation": 15789, "user_id": 722804, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3qBY9.png?s=128&g=1", "display_name": "Terry Jan Reedy", "link": "https://stackoverflow.com/users/722804/terry-jan-reedy"}, "reply_to_user": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 0, "creation_date": 1453446053, "post_id": 34911069, "comment_id": 57613400, "body": "@BryanOakley I agree that the Canvas-specific failure is a bug.  I tracked down the causes and opened a tracker issue with a proposed remedy (trivial).  <a href=\"https://bugs.python.org/issue26177\" rel=\"nofollow noreferrer\">bugs.python.org/issue26177</a>"}, {"owner": {"reputation": 15789, "user_id": 722804, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3qBY9.png?s=128&g=1", "display_name": "Terry Jan Reedy", "link": "https://stackoverflow.com/users/722804/terry-jan-reedy"}, "edited": false, "score": 0, "creation_date": 1453446367, "post_id": 34911069, "comment_id": 57613537, "body": "Please cut and paste interactive input/output into your question and format as &#39;code&#39;.  The micro text in the image is hard to read and cannot be copied to the clipboard.  (Retyping is not much of an issue here, but usually is.)"}, {"owner": {"reputation": 15789, "user_id": 722804, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3qBY9.png?s=128&g=1", "display_name": "Terry Jan Reedy", "link": "https://stackoverflow.com/users/722804/terry-jan-reedy"}, "reply_to_user": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 0, "creation_date": 1453446725, "post_id": 34911069, "comment_id": 57613699, "body": "@BryanOakley When you see something like this that is so obviously a bug, feel free to report it on the tracker (but then say so here ;-).  I look at less than half the tkinter questions and could have easily missed this."}, {"owner": {"reputation": 987, "user_id": 4107796, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/04f749980bc28bc2f23547d739b38d85?s=128&d=identicon&r=PG&f=1", "display_name": "jack sexton", "link": "https://stackoverflow.com/users/4107796/jack-sexton"}, "reply_to_user": {"reputation": 15789, "user_id": 722804, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3qBY9.png?s=128&g=1", "display_name": "Terry Jan Reedy", "link": "https://stackoverflow.com/users/722804/terry-jan-reedy"}, "edited": false, "score": 0, "creation_date": 1453475174, "post_id": 34911069, "comment_id": 57630971, "body": "@TerryJanReedy Would have done that, too bad command prompt is stuck in 1990 so I have no idea how it is even possible to copy it. I blame my company for making us use windows."}, {"owner": {"reputation": 15789, "user_id": 722804, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3qBY9.png?s=128&g=1", "display_name": "Terry Jan Reedy", "link": "https://stackoverflow.com/users/722804/terry-jan-reedy"}, "edited": false, "score": 0, "creation_date": 1453517386, "post_id": 34911069, "comment_id": 57649431, "body": "In Win10, ^C, ^V work as expected, and as standard on all other Windows programs.  Previously, one has to click upper left icon, select edit and then operation.  Really a pain.  Selecting instead &#39;properties&#39; allow a change to make it slightly easier, as well as expanding buffer beyond 300 lines (which is not enough for the output from, for instance, <code>python -m test</code>).  There are other properties to customize, too."}], "answers": [{"comments": [{"owner": {"reputation": 15789, "user_id": 722804, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3qBY9.png?s=128&g=1", "display_name": "Terry Jan Reedy", "link": "https://stackoverflow.com/users/722804/terry-jan-reedy"}, "edited": false, "score": 0, "creation_date": 1453446033, "post_id": 34912528, "comment_id": 57613391, "body": "In 3.x, this gives a view object, not a list.  `sorted[c.configure().keys()] gives a sorted list like with other-widget.keys()"}], "tags": [], "owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "is_accepted": true, "score": 0, "last_activity_date": 1453331973, "creation_date": 1453331973, "answer_id": 34912528, "question_id": 34911069, "link": "https://stackoverflow.com/questions/34911069/tk-canvas-options-keys-list-empy/34912528#34912528", "title": "Tk canvas options keys list empy", "body": "<p>That appears to be a bug. However, you can get a list of all of the available options with the <a href=\"http://effbot.org/tkinterbook/widget.htm#Tkinter.Widget.config-method\" rel=\"nofollow\">configure</a> command:</p>\n\n<pre><code>c = tk.Canvas(...)\nprint(c.configure().keys())\n</code></pre>\n"}], "owner": {"reputation": 987, "user_id": 4107796, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/04f749980bc28bc2f23547d739b38d85?s=128&d=identicon&r=PG&f=1", "display_name": "jack sexton", "link": "https://stackoverflow.com/users/4107796/jack-sexton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 26, "favorite_count": 0, "accepted_answer_id": 34912528, "answer_count": 1, "score": 0, "last_activity_date": 1453331973, "creation_date": 1453325805, "question_id": 34911069, "link": "https://stackoverflow.com/questions/34911069/tk-canvas-options-keys-list-empy", "title": "Tk canvas options keys list empy", "body": "<p>I find it really strange that the keys() method on the Tkinter.Canvas class returns a list of empty strings. Am I missing something, for other widgets those fields are populated with the correct options.</p>\n\n<p><a href=\"https://i.stack.imgur.com/g49Ql.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/g49Ql.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["python", "django"], "comments": [{"owner": {"reputation": 12516, "user_id": 302268, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/c3985dffcdc646b67ed0699a364639e2?s=128&d=identicon&r=PG", "display_name": "Mad Wombat", "link": "https://stackoverflow.com/users/302268/mad-wombat"}, "edited": false, "score": 1, "creation_date": 1453326438, "post_id": 34911068, "comment_id": 57558052, "body": "Look at the logging module. You can configure it to name log files by date and you can use app name as part of the log file name."}], "answers": [{"tags": [], "owner": {"reputation": 1987, "user_id": 2654232, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/f0a16c52c3b5a42ebd363c43b8175f30?s=128&d=identicon&r=PG&f=1", "display_name": "Ranvijay", "link": "https://stackoverflow.com/users/2654232/ranvijay"}, "is_accepted": true, "score": 2, "last_activity_date": 1453494096, "creation_date": 1453494096, "answer_id": 34955280, "question_id": 34911068, "link": "https://stackoverflow.com/questions/34911068/django-how-can-we-generate-app-wise-log-with-app-name-directory-and-todaydate-lo/34955280#34955280", "title": "Django How can we generate app wise log with app name directory and todaydate.log file", "body": "<pre><code>import os\nimport datetime\n\nINSTALLED_APPS = [\n    'django.contrib.admin',\n    'django.contrib.auth',\n    'django.contrib.contenttypes',\n    'django.contrib.sessions',\n    'django.contrib.messages',\n    'django.contrib.staticfiles',\n    'rest_framework',\n    'rest_framework.authtoken',\n]\n\nMY_APPS = [\n    'accounts'\n]\n\nINSTALLED_APPS += MY_APPS\n\nLOGGING = {\n    'version': 1,\n    'disable_existing_loggers': False,\n    'formatters': {\n        'verbose': {\n            'format': '%(levelname)s %(asctime)s %(module)s %(process)d %(message)s'\n        },\n        'simple': {\n            'format': '%(levelname)s %(message)s'\n        },\n    },\n    'handlers': {\n    },\n    'loggers': {\n    }\n}\n\nMY_LOGGERS = {}\nMY_HANDLERS = {}\nfor app in MY_APPS:\n    directory = os.path.dirname(os.path.dirname(__file__)) + \"/var/log/\" + app + \"/\"\n    if not os.path.exists(directory):\n        os.makedirs(directory)\n\n    MY_HANDLERS[app] = {\n        'level': 'DEBUG',\n        'class': 'logging.handlers.RotatingFileHandler',\n        'filename': directory + '/' + str(datetime.date.today()) + '.log',\n        'maxBytes': 1024*1024*5,\n        'backupCount': 5,\n        'formatter': 'verbose'\n    }\n\n    MY_LOGGERS[app] = {\n        'handlers': [app],\n        'level': 'DEBUG',\n        'propagate': True,\n    }\nLOGGING['handlers'].update(MY_HANDLERS)\nLOGGING['loggers'].update(MY_LOGGERS)\n</code></pre>\n"}], "owner": {"reputation": 1987, "user_id": 2654232, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/f0a16c52c3b5a42ebd363c43b8175f30?s=128&d=identicon&r=PG&f=1", "display_name": "Ranvijay", "link": "https://stackoverflow.com/users/2654232/ranvijay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 412, "favorite_count": 1, "accepted_answer_id": 34955280, "answer_count": 1, "score": 1, "last_activity_date": 1453494096, "creation_date": 1453325803, "question_id": 34911068, "link": "https://stackoverflow.com/questions/34911068/django-how-can-we-generate-app-wise-log-with-app-name-directory-and-todaydate-lo", "title": "Django How can we generate app wise log with app name directory and todaydate.log file", "body": "<p>Django: How can we generate app wise log in with app name directory \n    I need to generate app wise log.Ex. \n    1: var/app1/todaydate.log\n    2: var/app2/todaydate.log</p>\n"}, {"tags": ["python", "macos", "anaconda"], "comments": [{"owner": {"reputation": 361, "user_id": 1582735, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/a18e2011074d9bfc527dbf71ccf8edc1?s=128&d=identicon&r=PG", "display_name": "Dennis", "link": "https://stackoverflow.com/users/1582735/dennis"}, "edited": false, "score": 0, "creation_date": 1453325978, "post_id": 34911056, "comment_id": 57557792, "body": "Just a quick comment...I installed ipython notebook and tried a simple <b>import scipy</b> which yields the same error"}, {"owner": {"reputation": 71233, "user_id": 837534, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f3782b004830f622e19029e5f7fc146?s=128&d=identicon&r=PG", "display_name": "Mike M&#252;ller", "link": "https://stackoverflow.com/users/837534/mike-m%c3%bcller"}, "edited": false, "score": 0, "creation_date": 1453330319, "post_id": 34911056, "comment_id": 57559948, "body": "Did you try opening a fresh terminal window? Not just a new tab."}, {"owner": {"reputation": 361, "user_id": 1582735, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/a18e2011074d9bfc527dbf71ccf8edc1?s=128&d=identicon&r=PG", "display_name": "Dennis", "link": "https://stackoverflow.com/users/1582735/dennis"}, "reply_to_user": {"reputation": 71233, "user_id": 837534, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f3782b004830f622e19029e5f7fc146?s=128&d=identicon&r=PG", "display_name": "Mike M&#252;ller", "link": "https://stackoverflow.com/users/837534/mike-m%c3%bcller"}, "edited": false, "score": 0, "creation_date": 1453331743, "post_id": 34911056, "comment_id": 57560527, "body": "Hi Mike, yes, at first I thought it might be a bug in Anaconda but I had the same issue with my miniconda install prior to scrapping that and installing the most recent anaconda release.  I am thinking this is an issue with something in my env (not anaconda env) but I have not a clue on what would cause this."}], "answers": [{"tags": [], "owner": {"reputation": 361, "user_id": 1582735, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/a18e2011074d9bfc527dbf71ccf8edc1?s=128&d=identicon&r=PG", "display_name": "Dennis", "link": "https://stackoverflow.com/users/1582735/dennis"}, "is_accepted": false, "score": 0, "last_activity_date": 1453382180, "creation_date": 1453382180, "answer_id": 34924893, "question_id": 34911056, "link": "https://stackoverflow.com/questions/34911056/issue-with-anaconda-python-3-5-script/34924893#34924893", "title": "Issue with Anaconda Python 3.5 script", "body": "<p>Well after digging around and trying to solve this issue most of last night I could not come up with much.  I must have done something to my environment (I had done some builds of a couple of libraries from source)...anyway worst StackOverflow answer of all time, I used my TimeMachine to reset my mac back a week and the issue is gone.  I guess the lesson is even if you are using environments in anaconda backups still cannot be beat. </p>\n"}], "owner": {"reputation": 361, "user_id": 1582735, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/a18e2011074d9bfc527dbf71ccf8edc1?s=128&d=identicon&r=PG", "display_name": "Dennis", "link": "https://stackoverflow.com/users/1582735/dennis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 317, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1453382180, "creation_date": 1453325757, "question_id": 34911056, "link": "https://stackoverflow.com/questions/34911056/issue-with-anaconda-python-3-5-script", "title": "Issue with Anaconda Python 3.5 script", "body": "<p>Having an issue with a fresh install of Anaconda.  I created an environment with Python 3.5 and trying to run a simple script but for whatever reason I am seeing an issue during the import statements.  </p>\n\n<pre><code>import os\nimport csv\nimport numpy as np\nimport scipy\n</code></pre>\n\n<p>So there are other reports of similar errors on SO but they are from awhile back and do not seem to be linked to Anaconda.  I have NOT seen this before on my laptop )running el capitan) also running miniconda (btw this is happening on a mac osx el capitan). I cannot understand why anaconda would try calling usr/local/lib/python2.7 while the environment is in python 3.5.  Is this normal?  Any assistance would be greatly appreciated!!!</p>\n\n<pre><code>    Traceback (most recent call last):\n  File \"myTest.py\", line 11, in &lt;module&gt;\n    import scipy\n  File \"/Users/dennis/anaconda/envs/test/lib/python3.5/site-packages/scipy/__init__.py\", line 61, in &lt;module&gt;\n    from numpy import show_config as show_numpy_config\n  File \"/usr/local/lib/python2.7/site-packages/numpy/__init__.py\", line 180, in &lt;module&gt;\n    from . import add_newdocs\n  File \"/usr/local/lib/python2.7/site-packages/numpy/add_newdocs.py\", line 13, in &lt;module&gt;\n    from numpy.lib import add_newdoc\n  File \"/usr/local/lib/python2.7/site-packages/numpy/lib/__init__.py\", line 8, in &lt;module&gt;\n    from .type_check import *\n  File \"/usr/local/lib/python2.7/site-packages/numpy/lib/type_check.py\", line 11, in &lt;module&gt;\n    import numpy.core.numeric as _nx\n  File \"/usr/local/lib/python2.7/site-packages/numpy/core/__init__.py\", line 14, in &lt;module&gt;\n    from . import multiarray\nImportError: dlopen(/usr/local/lib/python2.7/site-packages/numpy/core/multiarray.so, 2): Symbol not found: _PyBuffer_Type\n  Referenced from: /usr/local/lib/python2.7/site-packages/numpy/core/multiarray.so\n  Expected in: flat namespace\n in /usr/local/lib/python2.7/site-packages/numpy/core/multiarray.so\n</code></pre>\n"}, {"tags": ["python", "pandas"], "answers": [{"comments": [{"owner": {"reputation": 73, "user_id": 5818154, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1081bd36a5f452d970d86b85584615ac?s=128&d=identicon&r=PG&f=1", "display_name": "m.will325", "link": "https://stackoverflow.com/users/5818154/m-will325"}, "edited": false, "score": 0, "creation_date": 1453328069, "post_id": 34911556, "comment_id": 57558950, "body": "That is exactly what I was looking for! I removed the addr_ad1 and addr_ad2 columns from the dataframe as they were only needed to make the calculation. I added them to the function like so: addr_ad1 = anydigit(row.addr_1). Thank you!"}], "tags": [], "owner": {"reputation": 34745, "user_id": 1494637, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/a50559f059e0621b4f543bcda9aad0a6?s=128&d=identicon&r=PG&f=1", "display_name": "Stefan", "link": "https://stackoverflow.com/users/1494637/stefan"}, "is_accepted": true, "score": 0, "last_activity_date": 1453328296, "last_edit_date": 1453328296, "creation_date": 1453327595, "answer_id": 34911556, "question_id": 34910891, "link": "https://stackoverflow.com/questions/34910891/edit-column-values-based-on-other-column-values/34911556#34911556", "title": "Edit column values based on other column values", "body": "<p>Adjusted some variable names:</p>\n\n<pre><code>def anydigit(text):\n    find_digit = re.search(r'\\d+', text)\n    if find_digit:\n        return find_digit.start()\n    else:\n        return 0\n\ndf = pd.DataFrame({'DPID': ['A1', 'A2'], 'NAME': ['John Doe', 'Jane Doe'],\n                   'addr_1': ['123 MAIN ST', 'ATTN: JOHN DOE'], 'addr_2': ['', 'P O BOX 123456']})\ndf['addr_ad1'] = df['addr_1'].apply(anydigit)\ndf['addr_ad2'] = df['addr_2'].apply(anydigit)\ndf['aux_addr_line'] = ''\n</code></pre>\n\n<p>to start with:</p>\n\n<pre><code>  DPID      NAME          addr_1          addr_2  addr_ad1  addr_ad2  \\\n0   A1  John Doe     123 MAIN ST                         0         0   \n1   A2  Jane Doe  ATTN: JOHN DOE  P O BOX 123456         0         8   \n\n  aux_addr_line  \n0                \n1               \n</code></pre>\n\n<p>Defining a function to then <code>apply</code> to all rows:</p>\n\n<pre><code>def change_address(row):\n    if row.addr_ad1 == 0 and row.addr_ad2 &gt; 0:\n        row.aux_addr_line = row.addr_1\n        row.addr_1 = row.addr_2\n        row.addr_2 = ''\n    elif row.addr_ad1 &gt; 0 and re.sub(r'\\s+', '', row.addr_2)[:4] == 'POBOX':\n        row.aux_addr_line = ''\n        row.addr_1 = row.addr_1\n        row.addr_2 = ''\n    elif row.addr_ad2 &gt; 0 and re.sub(r'\\s+', '', row.addr_1)[:4] == 'POBOX':\n        row.aux_addr_line = ''\n        row.addr_1 = row.addr_2\n        row.addr_2 = ''\n    return row\n\ndf = df.apply(change_address, axis=1)\n</code></pre>\n\n<p>to get:</p>\n\n<pre><code>  DPID      NAME          addr_1 addr_2  addr_ad1  addr_ad2   aux_addr_line\n0   A1  John Doe     123 MAIN ST                0         0                \n1   A2  Jane Doe  P O BOX 123456                0         8  ATTN: JOHN DOE\n</code></pre>\n"}], "owner": {"reputation": 73, "user_id": 5818154, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1081bd36a5f452d970d86b85584615ac?s=128&d=identicon&r=PG&f=1", "display_name": "m.will325", "link": "https://stackoverflow.com/users/5818154/m-will325"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 590, "favorite_count": 0, "accepted_answer_id": 34911556, "answer_count": 1, "score": 2, "last_activity_date": 1463618228, "creation_date": 1453325215, "last_edit_date": 1463618228, "question_id": 34910891, "link": "https://stackoverflow.com/questions/34910891/edit-column-values-based-on-other-column-values", "title": "Edit column values based on other column values", "body": "<p>I have a <code>pandas.DataFrame</code> that I need to update based on values in a couple of columns with values from the columns where needed. NAME is named something else as I know that is bad practice. It is just for the example.</p>\n\n<p>Here is a sample of what I am working with:</p>\n\n<pre><code>import re\nimport pandas as pd\n\ndef anydigit(text):\n    find_digit = re.search(r'\\d+', text)\n    if find_digit:\n        return find_digit.start()\n    else:\n        return 0\n\ndf = pd.DataFrame({'DPID': ['A1', 'A2'], 'NAME': ['John Doe', 'Jane Doe'],\n                   'ADDR_1': ['123 MAIN ST', 'ATTN: JOHN DOE'], 'ADDR_2': ['', 'P O BOX 123456']})\ndf['addr_ad1'] = df['ADDR_1'].apply(anydigit)\ndf['addr_ad2'] = df['ADDR_2'].apply(anydigit)\ndf['AUX_ADDR_LINE'] = ''\n</code></pre>\n\n<p>This is what needs to happen.</p>\n\n<pre><code>If addr_ad1 == 0 and addr_ad2 &gt; 0:\n    aux_addr_line = addr_1\n    addr_1 = addr_2\n    addr_2 = ''\nelfif addr_ad1 &gt; 0 and re.sub(r'\\s+', '', addr_2)[:4] == 'POBOX':\n    aux_addr_line = ''\n    addr_1 = addr_1\n    addr_2 = ''\nelif addr_ad2 &gt; 0 and re.sub(r'\\s+', '', addr_1)[:4] == 'POBOX':\n    aux_addr_line = ''\n    addr_1 = addr_2\n    addr_2 = ''\n</code></pre>\n\n<p>I would think that <code>.apply()</code> would work, but not sure how I would write that.</p>\n"}, {"tags": ["python", "pygame"], "comments": [{"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 0, "creation_date": 1453333961, "post_id": 34910802, "comment_id": 57561302, "body": "suggestion: add <code>python</code> tag - and your code will be colored by SO and more readable."}, {"owner": {"reputation": 84953, "user_id": 1405065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5c422b239ab1f49d3f4fcff9e5df3cf?s=128&d=identicon&r=PG", "display_name": "Blckknght", "link": "https://stackoverflow.com/users/1405065/blckknght"}, "edited": false, "score": 0, "creation_date": 1453511822, "post_id": 34910802, "comment_id": 57648567, "body": "It seems like a bunch of your code is doing silly stuff. Why are you emptying lists of sprites whenever a single one of them goes out of bounds? Surely you only want to remove the out of bounds sprite, not all the others? Assuming those <code>list</code>s are actually PyGame <code>group</code> objects, you probably want to call <code>self.kill()</code> when a Sprite detects that it&#39;s out of bounds. That will remove it from its groups, without removing all the other sprites in that group too."}, {"owner": {"reputation": 109, "user_id": 5696676, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/2fe825f276c969cfbff2b68671897597?s=128&d=identicon&r=PG&f=1", "display_name": "Jim", "link": "https://stackoverflow.com/users/5696676/jim"}, "edited": false, "score": 0, "creation_date": 1453571486, "post_id": 34910802, "comment_id": 57663775, "body": "Thanks i looked up the self.kill() function and it makes a lot more sense using that then my noob way! thanks!"}], "answers": [{"comments": [{"owner": {"reputation": 109, "user_id": 5696676, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/2fe825f276c969cfbff2b68671897597?s=128&d=identicon&r=PG&f=1", "display_name": "Jim", "link": "https://stackoverflow.com/users/5696676/jim"}, "edited": false, "score": 0, "creation_date": 1453330858, "post_id": 34910980, "comment_id": 57560196, "body": "oh ummmm... that was really stupid of me... Thanks alot!"}], "tags": [], "owner": {"reputation": 146, "user_id": 1512711, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90856dfc3802b787adece3fcaf1d38ad?s=128&d=identicon&r=PG", "display_name": "Josh Grant", "link": "https://stackoverflow.com/users/1512711/josh-grant"}, "is_accepted": false, "score": 0, "last_activity_date": 1453325493, "creation_date": 1453325493, "answer_id": 34910980, "question_id": 34910802, "link": "https://stackoverflow.com/questions/34910802/not-all-my-bullets-are-firing/34910980#34910980", "title": "Not all my bullets are firing", "body": "<p>Try changing:</p>\n\n<p>bullet_list_h.add(h_bullet)</p>\n\n<p>To:</p>\n\n<p>bullet_list_h.add(hbullet)</p>\n\n<p>To make sure that you're adding the horizontal bullet that you just created instead of one that's not declared. </p>\n"}], "owner": {"reputation": 109, "user_id": 5696676, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/2fe825f276c969cfbff2b68671897597?s=128&d=identicon&r=PG&f=1", "display_name": "Jim", "link": "https://stackoverflow.com/users/5696676/jim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 32, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1453507183, "creation_date": 1453324915, "last_edit_date": 1453507183, "question_id": 34910802, "link": "https://stackoverflow.com/questions/34910802/not-all-my-bullets-are-firing", "title": "Not all my bullets are firing", "body": "<p>Thanks to the help of people on this site i have manages to get some bullets firing on a level on my platform game. The fire continuously and travel vertical until the hit the floor and then they disappear. However, i wanted to add horizontal firing bullets in that level and i have done the exact same code as my vertical bullets and yet it only fires one and doesn't fire any other horizontal bullets. It fires one horizontal bullet, goes to the boundary of my screen and after that no other bullets come after it. Any help would be aprreciated!</p>\n\n<pre><code>class VerticalBullets(pygame.sprite.Sprite):\n    def __init__(self,x,y):\n        pygame.sprite.Sprite.__init__(self)\n\n        self.image = pygame.image.load(\"Images/bullet.png\")\n        self.rect = self.image.get_rect()\n        self.rect.x = x\n        self.rect.y = y\n\n    def update(self):\n        self.rect.y += 7\n\n        if self.rect.y &gt; 520:\n            bullet_list_v.empty()\n\nclass HorizontalBullets(pygame.sprite.Sprite):\n    def __init__(self,x,y):\n        pygame.sprite.Sprite.__init__(self)\n\n        bullet_image = pygame.image.load(\"Images/bullet.png\")\n        self.image = pygame.transform.rotate(bullet_image,-90)\n        self.rect = self.image.get_rect()\n        self.rect.x = x\n        self.rect.y = y\n\n    def update(self):\n        self.rect.x -= 5\n\n        if self.rect.x &lt; 30:\n            bullet_list_h.empty()\n\ndef main3():\n    TrapList.empty()\n    TrapList.add(trap4)\n    player.hspeed = 0\n    player.rect.x,player.rect.y = 50,0\n\n    bullet_list_v.empty()\n    bullet_list_h.empty()\n\n    FiringBullet = pygame.USEREVENT + 1\n    pygame.time.set_timer(FiringBullet, 1500)\n\n    GameExit = False\n\n    while GameExit==False:\n        for event in pygame.event.get():\n            if event.type == pygame.QUIT:\n            pygame.quit()\n            quit()\n\n            if event.type == pygame.KEYDOWN:\n                if event.key == pygame.K_LEFT:\n                    player.move(-player.speed,0)\n                if event.key == pygame.K_RIGHT:\n                    player.move(player.speed,0)\n                if event.key == pygame.K_UP:\n                    player.move(0,-player.Jump)\n\n            if event.type == pygame.KEYUP:\n                if event.key == pygame.K_LEFT:\n                    player.move(player.speed,0)\n                if event.key == pygame.K_RIGHT:\n                    player.move(-player.speed,0)\n                if event.key == pygame.K_UP:\n                    player.move(0,0)\n\n            if event.type == FiringBullet:\n                bullet = VerticalBullets(400,200)\n                bullet2 = VerticalBullets(500,200)\n                bullet3 = VerticalBullets(625,200)\n                hbullet = HorizontalBullets(700,400)\n                bullet_list_v.add(bullet)\n                bullet_list_v.add(bullet2)\n                bullet_list_v.add(bullet3)\n                bullet_list_h.add(h_bullet)\n\n        screen.fill(BLACK)\n        level3.update()\n\n        for eachbullet in bullet_list_v:\n            bullet_list_v.draw(screen)\n            bullet_list_v.update()\n\n        for eachbullet in bullet_list_h:\n            bullet_list_h.draw(screen)\n            bullet_list_h.update()\n\n        if player.rect.y &lt; 0:\n            NextLevel3()\n\n        TrapList.draw(screen)    \n        trampoline.render()\n        playergroup.update()\n        playergroup.draw(screen)\n        player.level_3_collisions(BlockListDirt2)\n        pygame.display.update()\n        clock.tick(60)\n</code></pre>\n"}, {"tags": ["python", "date"], "comments": [{"owner": {"reputation": 66318, "user_id": 3510736, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/kVtHP.jpg?s=128&g=1", "display_name": "Ami Tavory", "link": "https://stackoverflow.com/users/3510736/ami-tavory"}, "edited": false, "score": 1, "creation_date": 1453325115, "post_id": 34910791, "comment_id": 57557334, "body": "Have a look at the <a href=\"https://docs.python.org/2/library/datetime.html\" rel=\"nofollow noreferrer\">datetime module</a>."}, {"owner": {"reputation": 7130, "user_id": 1429073, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6cf3963f7758df3b57542c790e598630?s=128&d=identicon&r=PG&f=1", "display_name": "DevLounge", "link": "https://stackoverflow.com/users/1429073/devlounge"}, "edited": false, "score": 0, "creation_date": 1453326008, "post_id": 34910791, "comment_id": 57557808, "body": "You can also use the great and lightweight python-dateutil library and its rrule.rrule method. But datetime + timedelta are more than enough."}], "answers": [{"tags": [], "owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "is_accepted": false, "score": 2, "last_activity_date": 1453325324, "creation_date": 1453325324, "answer_id": 34910924, "question_id": 34910791, "link": "https://stackoverflow.com/questions/34910791/how-to-get-a-list-of-dates-using-python/34910924#34910924", "title": "How to get a list of dates using Python?", "body": "<p>All the functionality you need is already contained in the standard library.</p>\n\n<pre><code>import datetime\nstart =  datetime.date(2015, 10, 2)\nend = datetime.date(2017, 3, 4)\ncurrent = start\ndates = []\nwhile current &lt;= end:\n    dates.append(str(current))\n    current += datetime.timedelta(days=1)\n</code></pre>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user9903"}, "is_accepted": false, "score": 1, "last_activity_date": 1453325371, "creation_date": 1453325371, "answer_id": 34910942, "question_id": 34910791, "link": "https://stackoverflow.com/questions/34910791/how-to-get-a-list-of-dates-using-python/34910942#34910942", "title": "How to get a list of dates using Python?", "body": "<p>You can use the <a href=\"https://docs.python.org/3/library/datetime.html#datetime-objects\" rel=\"nofollow\">datetime</a> and <a href=\"https://docs.python.org/3/library/datetime.html#timedelta-objects\" rel=\"nofollow\">timedelta</a> to iterate through every day from your start_date to the end_date.</p>\n\n<p>Here's how you increment the start_date by one day:</p>\n\n<pre><code>from datetime import date\nfrom datetime import timedelta\n\none_day = timedelta(days=1)\nstart_date = date(2015, 10, 2)\n\nprint(start_date)\nprint(start_date + one_day)\n</code></pre>\n\n<p>Then you would just loop through till you get to the end_date.</p>\n"}, {"tags": [], "owner": {"reputation": 71233, "user_id": 837534, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f3782b004830f622e19029e5f7fc146?s=128&d=identicon&r=PG", "display_name": "Mike M&#252;ller", "link": "https://stackoverflow.com/users/837534/mike-m%c3%bcller"}, "is_accepted": false, "score": 1, "last_activity_date": 1453325881, "last_edit_date": 1453325881, "creation_date": 1453325375, "answer_id": 34910947, "question_id": 34910791, "link": "https://stackoverflow.com/questions/34910791/how-to-get-a-list-of-dates-using-python/34910947#34910947", "title": "How to get a list of dates using Python?", "body": "<p>Use the <a href=\"https://docs.python.org/3/library/datetime.html?highlight=datetime#module-datetime\" rel=\"nofollow\">datetime</a> module:</p>\n\n<pre><code>import datetime\n\nday = datetime.timedelta(days=1)\nstart = datetime.datetime(2015, 10, 3)\nend = datetime.datetime(2017, 3, 5)\ntimes = [start + day * x for x in range((end - start).days)]\n</code></pre>\n\n<p>creates:</p>\n\n<pre><code>&gt;&gt;&gt; times\n[datetime.datetime(2015, 10, 3, 0, 0),\n datetime.datetime(2015, 10, 4, 0, 0),\n\n ...\n\n datetime.datetime(2017, 3, 3, 0, 0),\n datetime.datetime(2017, 3, 4, 0, 0)]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 699, "user_id": 5490451, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/85a071747c24e01722af03eed65be9ba?s=128&d=identicon&r=PG&f=1", "display_name": "pivanchy", "link": "https://stackoverflow.com/users/5490451/pivanchy"}, "is_accepted": false, "score": 2, "last_activity_date": 1453325627, "creation_date": 1453325627, "answer_id": 34911019, "question_id": 34910791, "link": "https://stackoverflow.com/questions/34910791/how-to-get-a-list-of-dates-using-python/34911019#34911019", "title": "How to get a list of dates using Python?", "body": "<p>I hope, it will help you:</p>\n\n<pre><code>import datetime\n\nstart_date = datetime.datetime(2015, 10, 02)\nend_date = datetime.datetime(2017, 03, 04)\ndef nextday():\n    global start_date\n    start_date += datetime.timedelta(days=1)\n    return min(start_date, end_date)\n\n&gt;&gt;&gt; start_date\ndatetime.datetime(2015, 10, 2, 0, 0)\n&gt;&gt;&gt; nextday()\ndatetime.datetime(2015, 10, 3, 0, 0)\n&gt;&gt;&gt; nextday()\ndatetime.datetime(2015, 10, 4, 0, 0)\n&gt;&gt;&gt; nextday()\ndatetime.datetime(2015, 10, 5, 0, 0)\n&gt;&gt;&gt; nextday()\ndatetime.datetime(2015, 10, 6, 0, 0)\n</code></pre>\n"}], "owner": {"reputation": 424, "user_id": 4012988, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh4.googleusercontent.com/-Vd8DCqlI_nA/AAAAAAAAAAI/AAAAAAAAACI/9cIebogBmR4/photo.jpg?sz=128", "display_name": "Jonathan Holloway", "link": "https://stackoverflow.com/users/4012988/jonathan-holloway"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 392, "favorite_count": 0, "answer_count": 4, "score": 1, "last_activity_date": 1453327330, "creation_date": 1453324874, "last_edit_date": 1453327330, "question_id": 34910791, "link": "https://stackoverflow.com/questions/34910791/how-to-get-a-list-of-dates-using-python", "title": "How to get a list of dates using Python?", "body": "<p>So this program I have works. I can get from the start date to the end date a list of dates. But it's a lot of code. I'm wondering if there is an easier way to do the exact same thing. Any help that can be given is appreciated. </p>\n\n<pre><code>start_date = 20151002 # &lt; 10-02-2015\ndates = []\nend_date = 20170304 # 03-04-2017 \ndef nextday():\n    global start_date\n    while start_date &lt; end_date: \n        start_date += 1\n        next_date = str(start_date)\n        dates.append(start_date)\n        #so with the date the first 4 characters is the year\n        #the next two charcters is the month\n        #The last two charcters is the day. \n        #str(start_date)[4:] should actually be the month and the day.\n        if str(next_date)[4] + str(next_date)[5] == \"10\" and str(next_date)[6] + str(next_date)[7] == \"31\":#&lt; there are only 31 days in oct - 10\n            date_list = [next_date[0], next_date[1], next_date[2], next_date[3], \"1\", \"1\", \"0\", \"1\"]\n            print \"Nov\"\n            new_month = \"\"\n            for dat in date_list:\n                new_month += dat\n            start_date = int(new_month)\n        if str(next_date)[4] + str(next_date)[5] == \"11\" and str(next_date)[6] + str(next_date)[7] == \"30\": #&lt; there are only 30 days in nov - 11\n            date_list = [next_date[0], next_date[1], next_date[2], next_date[3], \"1\", \"2\", \"0\", \"1\"]\n            print \"Dec\"\n            new_month = \"\"\n            for dat in date_list:\n                new_month += dat\n            start_date = int(new_month)\n        if str(next_date)[4] + str(next_date)[5] == \"12\" and str(next_date)[6] + str(next_date)[7] == \"31\": #&lt; there are only 31 days in dec - 12\n            #^ This month will also change the year.\n            date_list = [next_date[0], next_date[1], next_date[2], str(int(next_date[3]) + 1), \"0\",\"1\",\"0\",\"1\"]\n            print \"Jan\", \"New year\"\n            new_month = \"\"\n            for dat in date_list:\n                new_month += dat\n            start_date = int(new_month)\n        if str(next_date)[4] + str(next_date)[5] == \"01\" and str(next_date)[6] + str(next_date)[7] == \"31\": #&lt; there are only 31 days in jan - 01\n            #^ This month will also change the year.\n            date_list = [next_date[0], next_date[1], next_date[2], next_date[3], \"0\",\"2\",\"0\",\"1\"]\n            print \"Feb\"\n            new_month = \"\"\n            for dat in date_list:\n                new_month += dat\n            start_date = int(new_month)\n        if int(next_date[0]+next_date[1]+next_date[2]+next_date[3]) % 4 == 0:\n            if str(next_date)[4] + str(next_date)[5] == \"02\" and str(next_date)[6] + str(next_date)[7] == \"29\": #&lt; there are only 29 days in LEAP YEAR feb - 02\n                #^ This month will also change the year.\n                date_list = [next_date[0], next_date[1], next_date[2], next_date[3], \"0\",\"3\",\"0\",\"1\"]\n                print \"Mar\"\n                new_month = \"\"\n                for dat in date_list:   ####################LEAP YEAR#################\n                    new_month += dat\n                start_date = int(new_month)\n        else:\n            if str(next_date)[4] + str(next_date)[5] == \"02\" and str(next_date)[6] + str(next_date)[7] == \"28\": #&lt; there are only 28 days in feb - 02\n                #^ This month will also change the year.\n                date_list = [next_date[0], next_date[1], next_date[2], next_date[3], \"0\",\"3\",\"0\",\"1\"]\n                print \"Mar\"\n                new_month = \"\"\n                for dat in date_list:\n                    new_month += dat\n                start_date = int(new_month)\n        if str(next_date)[4] + str(next_date)[5] == \"03\" and str(next_date)[6] + str(next_date)[7] == \"31\": #&lt; there are only 29 days in mar - 03\n            #^ This month will also change the year.\n            date_list = [next_date[0], next_date[1], next_date[2], next_date[3], \"0\",\"4\",\"0\",\"1\"]\n            print \"Apr\"\n            new_month = \"\"\n            for dat in date_list:\n                new_month += dat\n            start_date = int(new_month)\n        if str(next_date)[4] + str(next_date)[5] == \"04\" and str(next_date)[6] + str(next_date)[7] == \"30\": #&lt; there are only 30 days in apr - 04\n            #^ This month will also change the year.\n            date_list = [next_date[0], next_date[1], next_date[2], next_date[3], \"0\",\"5\",\"0\",\"1\"]\n            print \"May\"\n            new_month = \"\"\n            for dat in date_list:\n                new_month += dat\n            start_date = int(new_month)\n        if str(next_date)[4] + str(next_date)[5] == \"05\" and str(next_date)[6] + str(next_date)[7] == \"31\": #&lt; there are only 31 days in may - 05\n            #^ This month will also change the year.\n            date_list = [next_date[0], next_date[1], next_date[2], next_date[3], \"0\",\"6\",\"0\",\"1\"]\n            print \"Jun\"\n            new_month = \"\"\n            for dat in date_list:\n                new_month += dat\n            start_date = int(new_month)\n        if str(next_date)[4] + str(next_date)[5] == \"06\" and str(next_date)[6] + str(next_date)[7] == \"30\": #&lt; there are only 30 days in jun - 0\n            #^ This month will also change the year.\n            date_list = [next_date[0], next_date[1], next_date[2], next_date[3], \"0\",\"7\",\"0\",\"1\"]\n            print \"Jul\"\n            new_month = \"\"\n            for dat in date_list:\n                new_month += dat\n            start_date = int(new_month)\n        if str(next_date)[4] + str(next_date)[5] == \"07\" and str(next_date)[6] + str(next_date)[7] == \"31\": #&lt; there are only 31 days in jul - 0\n            #^ This month will also change the year.\n            date_list = [next_date[0], next_date[1], next_date[2], next_date[3], \"0\",\"8\",\"0\",\"1\"]\n            print \"Aug\"\n            new_month = \"\"\n            for dat in date_list:\n                new_month += dat\n            start_date = int(new_month)\n        if str(next_date)[4] + str(next_date)[5] == \"08\" and str(next_date)[6] + str(next_date)[7] == \"31\": #&lt; there are only 31 days in aug - 0\n            #^ This month will also change the year.\n            date_list = [next_date[0], next_date[1], next_date[2], next_date[3], \"0\",\"9\",\"0\",\"1\"]\n            print \"Sept\"\n            new_month = \"\"\n            for dat in date_list:\n                new_month += dat\n            start_date = int(new_month)\n        if str(next_date)[4] + str(next_date)[5] == \"09\" and str(next_date)[6] + str(next_date)[7] == \"30\": #&lt; there are only 31 days in sep - 0\n            #^ This month will also change the year.\n            date_list = [next_date[0], next_date[1], next_date[2], next_date[3], \"1\",\"0\",\"0\",\"1\"]\n            print \"Oct\"\n            new_month = \"\"\n            for dat in date_list:\n                new_month += dat\n            start_date = int(new_month)\n        print start_date\nnextday()\nprint dates\n</code></pre>\n"}, {"tags": ["python", "cvxopt"], "answers": [{"tags": [], "owner": {"reputation": 942, "user_id": 1444859, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/88845f03bdd013054508a461f726b570?s=128&d=identicon&r=PG", "display_name": "qua", "link": "https://stackoverflow.com/users/1444859/qua"}, "is_accepted": true, "score": 2, "last_activity_date": 1453511032, "creation_date": 1453511032, "answer_id": 34958435, "question_id": 34910720, "link": "https://stackoverflow.com/questions/34910720/python-cvxopt-for-entropy-minimization/34958435#34958435", "title": "Python CVXOPT for entropy minimization", "body": "<p>It is implemented in the line</p>\n\n<pre><code>A, b = matrix(1.0, (1,n)), matrix(1.0)\n</code></pre>\n"}], "owner": {"reputation": 3494, "user_id": 1243255, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/9328a10a909a33568ad798474053f476?s=128&d=identicon&r=PG", "display_name": "Zanam", "link": "https://stackoverflow.com/users/1243255/zanam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 138, "favorite_count": 0, "accepted_answer_id": 34958435, "answer_count": 1, "score": 0, "last_activity_date": 1453511032, "creation_date": 1453324632, "question_id": 34910720, "link": "https://stackoverflow.com/questions/34910720/python-cvxopt-for-entropy-minimization", "title": "Python CVXOPT for entropy minimization", "body": "<p>I am looking the example on the page:</p>\n\n<p><a href=\"http://cvxopt.org/examples/book/maxent.html\" rel=\"nofollow\">http://cvxopt.org/examples/book/maxent.html</a></p>\n\n<p>The problem statement is:</p>\n\n<pre><code># minimize     p'*log p\n# subject to  -0.1 &lt;= a'*p &lt;= 0.1\n#              0.5 &lt;= (a**2)'*p &lt;= 0.6\n#             -0.3 &lt;= (3*a**3 - 2*a)'*p &lt;= -0.2\n#              0.3 &lt;= sum_{k:ak &lt; 0} pk &lt;= 0.4\n#              sum(p) = 1\n</code></pre>\n\n<p>but the last line</p>\n\n<pre><code>#              sum(p) = 1\n</code></pre>\n\n<p>is never implemented it seems ?</p>\n"}, {"tags": ["python", "django", "django-oscar"], "comments": [{"owner": {"reputation": 7774, "user_id": 1418794, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31bcb9dbf79206cd64b50c09cdd456d8?s=128&d=identicon&r=PG", "display_name": "doru", "link": "https://stackoverflow.com/users/1418794/doru"}, "edited": false, "score": 1, "creation_date": 1453328046, "post_id": 34910705, "comment_id": 57558937, "body": "did you use <code>+ get_core_apps()</code> after your installed apps ?"}, {"owner": {"reputation": 1, "user_id": 8619595, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NUbjh.jpg?s=128&g=1", "display_name": "mateplus", "link": "https://stackoverflow.com/users/8619595/mateplus"}, "edited": false, "score": 0, "creation_date": 1585176359, "post_id": 34910705, "comment_id": 107675103, "body": "I had the same problem, look this <a href=\"https://stackoverflow.com/questions/56951904/how-to-properly-fork-an-app-in-django-oscar-2-0/56956742#56956742\">how-to-properly-fork-an-app-in-django-oscar-2-0</a>"}], "answers": [{"tags": [], "owner": {"reputation": 7774, "user_id": 1418794, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31bcb9dbf79206cd64b50c09cdd456d8?s=128&d=identicon&r=PG", "display_name": "doru", "link": "https://stackoverflow.com/users/1418794/doru"}, "is_accepted": true, "score": 0, "last_activity_date": 1453341795, "creation_date": 1453341795, "answer_id": 34914136, "question_id": 34910705, "link": "https://stackoverflow.com/questions/34910705/django-oscar-appnotfounderror/34914136#34914136", "title": "django oscar AppNotFoundError", "body": "<p>You have to append Oscar\u2019s core apps to the installed apps, <a href=\"https://django-oscar.readthedocs.org/en/releases-1.1/internals/getting_started.html#django-settings\" rel=\"nofollow\">for example</a>:</p>\n\n<pre><code>from oscar import get_core_apps\n\nINSTALLED_APPS = [\n    'django.contrib.auth',\n    'django.contrib.contenttypes',\n    'django.contrib.sessions',\n    'django.contrib.sites',\n    'django.contrib.messages',\n    'django.contrib.staticfiles',\n    'django.contrib.flatpages',\n    ...\n    'compressor',\n    'widget_tweaks',\n] + get_core_apps()\n</code></pre>\n"}], "owner": {"reputation": 305, "user_id": 4777674, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7e4e3b0b132c9d7516dd2eb242bd4449?s=128&d=identicon&r=PG&f=1", "display_name": "Enuff", "link": "https://stackoverflow.com/users/4777674/enuff"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 525, "favorite_count": 0, "accepted_answer_id": 34914136, "answer_count": 1, "score": 0, "last_activity_date": 1453341795, "creation_date": 1453324611, "question_id": 34910705, "link": "https://stackoverflow.com/questions/34910705/django-oscar-appnotfounderror", "title": "django oscar AppNotFoundError", "body": "<p>Im following this tutorial step by step:</p>\n\n<p><a href=\"http://django-oscar.readthedocs.org/en/releases-1.1/internals/getting_started.html#install-oscar-and-its-dependencies\" rel=\"nofollow\">http://django-oscar.readthedocs.org/en/releases-1.1/internals/getting_started.html#install-oscar-and-its-dependencies</a></p>\n\n<p>the thing is when I run the server locally and connect to localhost:8000, I just get this error</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"/usr/lib64/python3.5/wsgiref/handlers.py\", line 137, in run\n    self.result = application(self.environ, self.start_response)\n  File \"/home/hit/projects/quesos/oscar/lib/python3.5/site-packages/django/contrib/staticfiles/handlers.py\", line 63, in __call__\n    return self.application(environ, start_response)\n  File \"/home/hit/projects/quesos/oscar/lib/python3.5/site-packages/django/core/handlers/wsgi.py\", line 170, in __call__\n    self.load_middleware()\n  File \"/home/hit/projects/quesos/oscar/lib/python3.5/site-packages/django/core/handlers/base.py\", line 50, in load_middleware\n    mw_class = import_string(middleware_path)\n  File \"/home/hit/projects/quesos/oscar/lib/python3.5/site-packages/django/utils/module_loading.py\", line 26, in import_string\n    module = import_module(module_path)\n  File \"/home/hit/projects/quesos/oscar/lib/python3.5/importlib/__init__.py\", line 126, in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n  File \"&lt;frozen importlib._bootstrap&gt;\", line 986, in _gcd_import\n  File \"&lt;frozen importlib._bootstrap&gt;\", line 969, in _find_and_load\n  File \"&lt;frozen importlib._bootstrap&gt;\", line 958, in _find_and_load_unlocked\n  File \"&lt;frozen importlib._bootstrap&gt;\", line 673, in _load_unlocked\n  File \"&lt;frozen importlib._bootstrap_external&gt;\", line 662, in exec_module\n  File \"&lt;frozen importlib._bootstrap&gt;\", line 222, in _call_with_frames_removed\n  File \"/home/hit/projects/quesos/oscar/lib/python3.5/site-packages/oscar/apps/basket/middleware.py\", line 8, in &lt;module&gt;\n    Applicator = get_class('offer.utils', 'Applicator')\n  File \"/home/hit/projects/quesos/oscar/lib/python3.5/site-packages/oscar/core/loading.py\", line 29, in get_class\n    return get_classes(module_label, [classname])[0]\n  File \"/home/hit/projects/quesos/oscar/lib/python3.5/site-packages/oscar/core/loading.py\", line 91, in get_classes\n    installed_apps_entry, app_name = _find_installed_apps_entry(module_label)\n  File \"/home/hit/projects/quesos/oscar/lib/python3.5/site-packages/oscar/core/loading.py\", line 197, in _find_installed_apps_entry\n    \"Couldn't find an app to import %s from\" % module_label)\noscar.core.exceptions.AppNotFoundError: Couldn't find an app to import offer.utils from\n</code></pre>\n\n<p>I'm not sure how to make it work. Can any one help?\nThanks.</p>\n"}, {"tags": ["python", "xml", "pdf", "xsl-fo", "apache-fop"], "comments": [{"owner": {"reputation": 5778, "user_id": 4092205, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yzgQs.png?s=128&g=1", "display_name": "Tony Graham", "link": "https://stackoverflow.com/users/4092205/tony-graham"}, "edited": false, "score": 0, "creation_date": 1453362571, "post_id": 34910663, "comment_id": 57570337, "body": "Your sample FO doesn&#39;t include any <code>fo:table-column</code>, but your code indicates that you would generate two or more.  Can you show the version with the <code>fo:table-column</code> that blows up for you?"}], "answers": [{"comments": [{"owner": {"reputation": 6798, "user_id": 3282434, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/bd87b9229901acfa4c6f754da6bf3655?s=128&d=identicon&r=PG&f=1", "display_name": "codyc4321", "link": "https://stackoverflow.com/users/3282434/codyc4321"}, "edited": false, "score": 0, "creation_date": 1453406849, "post_id": 34918339, "comment_id": 57599356, "body": "i think we do need those width properties"}, {"owner": {"reputation": 5778, "user_id": 4092205, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yzgQs.png?s=128&g=1", "display_name": "Tony Graham", "link": "https://stackoverflow.com/users/4092205/tony-graham"}, "reply_to_user": {"reputation": 6798, "user_id": 3282434, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/bd87b9229901acfa4c6f754da6bf3655?s=128&d=identicon&r=PG&f=1", "display_name": "codyc4321", "link": "https://stackoverflow.com/users/3282434/codyc4321"}, "edited": false, "score": 0, "creation_date": 1453420075, "post_id": 34918339, "comment_id": 57605620, "body": "Can you confirm whether or not generating <code>fo:table-column</code> based on <code>dist_dates</code> is the right thing to do?  FOP still only does fixed table layout (<a href=\"http://xmlgraphics.apache.org/fop/compliance.html\" rel=\"nofollow noreferrer\">xmlgraphics.apache.org/fop/compliance.html</a>), so you need to set the widths somehow.  If you generate one <code>fo:table-column</code> for each column, then you should avoid the FOP error message.  I don&#39;t know if FOP implements it, but you should be able to omit the <code>fo:table-column</code> and specify <code>width</code> on at least some of the <code>fo:table-cell</code> in the first <code>fo:table-row</code> for the same effect (see <a href=\"https://www.w3.org/TR/REC-CSS2/tables.html#width-layout\" rel=\"nofollow noreferrer\">w3.org/TR/REC-CSS2/tables.html#width-layout</a>)."}], "tags": [], "owner": {"reputation": 5778, "user_id": 4092205, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yzgQs.png?s=128&g=1", "display_name": "Tony Graham", "link": "https://stackoverflow.com/users/4092205/tony-graham"}, "is_accepted": true, "score": 1, "last_activity_date": 1453363524, "creation_date": 1453363524, "answer_id": 34918339, "question_id": 34910663, "link": "https://stackoverflow.com/questions/34910663/apache-fop-validationexception-the-column-number-or-number-of-cells-in-the-row/34918339#34918339", "title": "Apache FOP: ValidationException: The column-number or number of cells in the row overflows the number of fo:table-columns specified for the table", "body": "<p>It looks like that, with FOP, you need one <code>fo:table-column</code> for each column in the table or you need none.</p>\n\n<p>The XSL 1.1 Recommendation doesn't require that, AFAICT, but it also doesn't say what happens for a mismatch in column counts.</p>\n\n<p>Since you say you remove one line and produce no <code>fo:table-column</code>, and since you are seemingly also generating <code>fo:table-column</code> based on <code>dist_dates</code> and generating <code>fo:table-cell</code> based on portfolio information, it seems like your logic to generate <code>fo:table-column</code> isn't quite right.  Unless you need the width or other properties set on the <code>fo:table-column</code>, there's no harm done if you omit them.</p>\n"}], "owner": {"reputation": 6798, "user_id": 3282434, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/bd87b9229901acfa4c6f754da6bf3655?s=128&d=identicon&r=PG&f=1", "display_name": "codyc4321", "link": "https://stackoverflow.com/users/3282434/codyc4321"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3337, "favorite_count": 0, "accepted_answer_id": 34918339, "answer_count": 1, "score": 0, "last_activity_date": 1453363524, "creation_date": 1453324458, "question_id": 34910663, "link": "https://stackoverflow.com/questions/34910663/apache-fop-validationexception-the-column-number-or-number-of-cells-in-the-row", "title": "Apache FOP: ValidationException: The column-number or number of cells in the row overflows the number of fo:table-columns specified for the table", "body": "<p>I am getting cryptic error messages trying to render a pdf file using xml:</p>\n\n<pre><code>Exception at /url/\n('Unable to generate PDF.', b'Exception\\norg.apache.fop.apps.FOPException: org.apache.fop.fo.ValidationException: \nThe column-number or number of cells in the row overflows the number of fo:table-columns specified for the table. \n(See position 31:15)\\njavax.xml.transform.TransformerException: org.apache.fop.fo.ValidationException: \nThe column-number or number of cells in the row overflows the number of fo:table-columns specified for the table. (See position 31:15)\\n\\n')\n</code></pre>\n\n<p>The only thing I'm changing is the <code>&lt;column name=\"Record date&amp;#10;Ex-dividend date&amp;#10;Payable Date\" size=\"4.2cm\"&gt;&lt;/column&gt;</code>. This matches the format the pdf was made with in Perl, and removing that one column line fixes the pdf and it works. </p>\n\n<pre><code>{% block pages %}\n&lt;schedule_page&gt;\n    &lt;columns&gt;\n        &lt;column name=\"Record date&amp;#10;Ex-dividend date&amp;#10;Payable Date\" size=\"4.2cm\"&gt;&lt;/column&gt;\n        {% for date_set in dist_dates %}\n        &lt;column name=\"{{ date_set.record_date|date:'j-M' }}&amp;#10;{{ date_set.ex_date|date:'j-M' }}&amp;#10;{{ date_set.pay_date|date:'j-M' }}\" size=\"1.675cm\" margin=\"0.1cm\"&gt;&lt;/column&gt;\n        {% endfor %}\n    &lt;/columns&gt;\n    &lt;data&gt;\n        {% regroup portfolios by group as portfolio_groups %}\n        {% for portfolio_group in portfolio_groups %}\n        &lt;group name=\"{{ portfolio_group.grouper }}\"&gt;\n            {% for portfolio in portfolio_group.list %}\n            &lt;fund name=\"{{ portfolio.name }}\"&gt;\n                {% for dist in portfolio.distributions %}\n                    &lt;cell value=\"{{ dist.value }}\" {% if dist.value %}margin=\"0.1cm\"{% endif %} &gt;&lt;/cell&gt;\n                {% endfor %}\n            &lt;/fund&gt;\n            {% endfor %}\n        &lt;/group&gt;\n        {% endfor %}\n    &lt;/data&gt;\n&lt;/schedule_page&gt;\n{% endblock %}\n</code></pre>\n\n<p>The fo file that precedes the pdf looks like:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n\n&lt;fo:root xmlns:fo=\"http://www.w3.org/1999/XSL/Format\"&gt;\n&lt;fo:layout-master-set&gt;\n&lt;fo:simple-page-master master-name=\"letter-landscape\" page-height=\"21.59cm\" page-width=\"27.94cm\" margin-top=\"1.0cm\" margin-bottom=\"0.5cm\" margin-left=\"0.97cm\" margin-right=\"0.97cm\"&gt;\n&lt;fo:region-body margin-top=\"3.5cm\" margin-bottom=\"1.0cm\"/&gt;\n&lt;fo:region-before extent=\"4.0cm\"/&gt;\n&lt;fo:region-after extent=\"1.0cm\"/&gt;\n&lt;/fo:simple-page-master&gt;\n&lt;fo:page-sequence-master master-name=\"DistributionPage\"&gt;\n&lt;fo:repeatable-page-master-reference master-reference=\"letter-landscape\"/&gt;\n&lt;/fo:page-sequence-master&gt;\n&lt;/fo:layout-master-set&gt;\n&lt;fo:page-sequence master-reference=\"DistributionPage\"&gt;\n&lt;fo:static-content flow-name=\"xsl-region-before\"&gt;\n&lt;fo:table font-size=\"8pt\" font-family=\"TradeGothicCondensed\" border-collapse=\"separate\" table-layout=\"fixed\"&gt;\n&lt;fo:table-body&gt;\n&lt;fo:table-row&gt;\n&lt;fo:table-cell margin-bottom=\"8pt\" number-columns-spanned=\"0\"&gt;\n&lt;fo:block font-weight=\"bold\" font-size=\"24pt\" font-family=\"TradeGothicCondensed\" text-align=\"left\"&gt;Distributions&lt;/fo:block&gt;\n&lt;/fo:table-cell&gt;\n&lt;fo:table-cell margin-bottom=\"8pt\" vertical-align=\"top\" text-align=\"right\" number-columns-spanned=\"0\"&gt;\n&lt;fo:block space-after=\"8pt\" margin-bottom=\"8pt\" vertical-align=\"top\"&gt;\n&lt;fo:external-graphic content-width=\"1.5in\" src=\"url(static/logo.jpg)\"/&gt;\n&lt;/fo:block&gt;\n&lt;/fo:table-cell&gt;\n&lt;/fo:table-row&gt;\n&lt;fo:table-row&gt;\n&lt;fo:table-cell&gt;\n&lt;fo:block/&gt;\n&lt;/fo:table-cell&gt;\n&lt;fo:table-cell padding-bottom=\"4pt\" margin-bottom=\"4pt\" padding-left=\"4pt\" number-columns-spanned=\"0\"&gt;\n&lt;fo:block padding-bottom=\"4pt\" margin-bottom=\"4pt\" margin-left=\"4pt\" padding-left=\"4pt\" text-align=\"center\" border-bottom-color=\"black\" border-bottom-width=\"0.7pt\" border-bottom-style=\"solid\"&gt;\n\n                        Estimated\n                    &lt;/fo:block&gt;\n&lt;/fo:table-cell&gt;\n&lt;/fo:table-row&gt;\n&lt;fo:table-row/&gt;\n&lt;fo:table-row&gt;\n&lt;fo:table-cell border-top-color=\"black\" border-top-width=\"0.7pt\" border-top-style=\"solid\"&gt;\n&lt;fo:block/&gt;\n&lt;/fo:table-cell&gt;\n&lt;/fo:table-row&gt;\n&lt;/fo:table-body&gt;\n&lt;/fo:table&gt;\n&lt;/fo:static-content&gt;\n&lt;fo:static-content flow-name=\"xsl-region-after\"&gt;\n&lt;fo:table padding-top=\"0.1cm\" font-size=\"8pt\" font-family=\"TradeGothicCondensed\" border-collapse=\"separate\" table-layout=\"fixed\"&gt;\n&lt;fo:table-body&gt;\n&lt;fo:table-row&gt;\n&lt;fo:table-cell&gt;\n&lt;fo:block line-height=\"10pt\" font-size=\"8pt\" text-align=\"left\"&gt;Our disclaimer.&lt;/fo:block&gt;\n&lt;/fo:table-cell&gt;\n&lt;fo:table-cell&gt;\n&lt;fo:block vertical-align=\"bottom\" line-height=\"10pt\" font-family=\"TradeGothicCondensed\" font-size=\"8pt\" text-align=\"right\"&gt;\n            Page\n            &lt;fo:page-number/&gt; /\n            &lt;fo:page-number-citation ref-id=\"last-page\"/&gt;\n&lt;/fo:block&gt;\n&lt;/fo:table-cell&gt;\n&lt;/fo:table-row&gt;\n&lt;/fo:table-body&gt;\n&lt;/fo:table&gt;\n&lt;/fo:static-content&gt;\n&lt;fo:flow flow-name=\"xsl-region-body\"&gt;\n&lt;fo:table font-size=\"8pt\" font-family=\"TradeGothicCondensed\" border-collapse=\"separate\" table-layout=\"fixed\"&gt;\n&lt;fo:table-body font-family=\"TradeGothicCondensed\"&gt;\n&lt;fo:table-row&gt;\n&lt;fo:table-cell&gt;\n&lt;fo:block font-weight=\"bold\" font-size=\"14pt\" font-family=\"TradeGothicCondensed\" text-align=\"left\" number-columns-spanned=\"0\"/&gt;\n&lt;/fo:table-cell&gt;\n&lt;/fo:table-row&gt;\n&lt;fo:table-row&gt;\n&lt;fo:table-cell&gt;\n&lt;fo:block line-height=\"13pt\" font-weight=\"bold\"&gt;A portfolio name&lt;/fo:block&gt;\n&lt;/fo:table-cell&gt;\n&lt;/fo:table-row&gt;\n&lt;fo:table-row&gt;\n&lt;fo:table-cell display-align=\"after\"&gt;\n&lt;fo:block line-height=\"12pt\" padding-left=\"3pt\" vertical-align=\"top\" text-align=\"left\"&gt;A portfolio name&lt;/fo:block&gt;\n&lt;/fo:table-cell&gt;\n&lt;/fo:table-row&gt;\n...etc...\n</code></pre>\n\n<p>Why is adding this single line blowing up my pdf download? Thank you</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 4421, "user_id": 3789676, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/aUh8k.jpg?s=128&g=1", "display_name": "midori", "link": "https://stackoverflow.com/users/3789676/midori"}, "edited": false, "score": 0, "creation_date": 1453324724, "post_id": 34910614, "comment_id": 57557101, "body": "second one seems better"}, {"owner": {"reputation": 191222, "user_id": 147356, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/b9506717d24256a090524dd5505d3207?s=128&d=identicon&r=PG", "display_name": "larsks", "link": "https://stackoverflow.com/users/147356/larsks"}, "edited": false, "score": 0, "creation_date": 1453324843, "post_id": 34910614, "comment_id": 57557171, "body": "The first one leaks a file descriptor."}, {"owner": {"reputation": 23980, "user_id": 1735756, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/SloZJ.jpg?s=128&g=1", "display_name": "Haifeng Zhang", "link": "https://stackoverflow.com/users/1735756/haifeng-zhang"}, "edited": false, "score": 0, "creation_date": 1453330042, "post_id": 34910614, "comment_id": 57559824, "body": "dont forget close the file once dont need it anymore"}], "answers": [{"tags": [], "owner": {"reputation": 5102, "user_id": 327694, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/affc703514153388019ab26f0eb6ab7d?s=128&d=identicon&r=PG", "display_name": "Josep Valls", "link": "https://stackoverflow.com/users/327694/josep-valls"}, "is_accepted": false, "score": 0, "last_activity_date": 1453329625, "creation_date": 1453329625, "answer_id": 34912025, "question_id": 34910614, "link": "https://stackoverflow.com/questions/34910614/for-yaml-load-use-open-vs-with/34912025#34912025", "title": "For yaml load use open vs with", "body": "<p>Use the second. From the documentation:</p>\n\n<blockquote>\n  <p>It is good practice to use the with keyword when dealing with file\n  objects. This has the advantage that the file is properly closed after\n  its suite finishes, even if an exception is raised on the way.</p>\n</blockquote>\n"}], "owner": {"reputation": 371, "user_id": 1268184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ad7f84d4d2eb01467556516951c85922?s=128&d=identicon&r=PG", "display_name": "skar", "link": "https://stackoverflow.com/users/1268184/skar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 98, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1453329625, "creation_date": 1453324305, "question_id": 34910614, "link": "https://stackoverflow.com/questions/34910614/for-yaml-load-use-open-vs-with", "title": "For yaml load use open vs with", "body": "<p>I have a program that reads yaml configs, just read only. I am wondering which one of the following is more Pythonic</p>\n\n<pre><code>try:\n    config = yaml.load(open(filepath))\nexcept Exception as error:\n    print error\n</code></pre>\n\n<p>vs using a with statement</p>\n\n<pre><code>try:\n    with open(filepath) as f:\n        config = yaml.load(f)\nexcept Exception as error:\n    print error\n</code></pre>\n\n<p>I prefer the first one cause its simpler to read and since there are no write I don't think there will be issues with file closing gracefully. Thoughts?</p>\n"}, {"tags": ["python", "design-patterns"], "answers": [{"comments": [{"owner": {"reputation": 9515, "user_id": 1128618, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/c38dbe15d311570f54dccef9cb506c68?s=128&d=identicon&r=PG", "display_name": "Jack_of_All_Trades", "link": "https://stackoverflow.com/users/1128618/jack-of-all-trades"}, "edited": false, "score": 0, "creation_date": 1453325175, "post_id": 34910698, "comment_id": 57557371, "body": "b1= Borg()  b2 = Borg(), b1==b2 evaluated to False. After you made an edit to your answer, I understood the concept though. Can you please elaborate on why this is better than what I am doing because it still permits creation of multiple instances. Though they share the same state, I would assume that, with each instance, it would use some memory regardless however small."}, {"owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "reply_to_user": {"reputation": 9515, "user_id": 1128618, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/c38dbe15d311570f54dccef9cb506c68?s=128&d=identicon&r=PG", "display_name": "Jack_of_All_Trades", "link": "https://stackoverflow.com/users/1128618/jack-of-all-trades"}, "edited": false, "score": 0, "creation_date": 1453327376, "post_id": 34910698, "comment_id": 57558590, "body": "Because generally the purpose of singleton design pattern is to share state, not to control memory footprint"}], "tags": [], "owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "is_accepted": true, "score": 5, "last_activity_date": 1453324593, "creation_date": 1453324593, "answer_id": 34910698, "question_id": 34910602, "link": "https://stackoverflow.com/questions/34910602/singleton-python-situation-with-the-need-of-only-one-object/34910698#34910698", "title": "Singleton- python, Situation with the need of only one object", "body": "<p>A better way is the Borg design pattern.  It's very simple to implement in python:</p>\n\n<pre><code>class Borg:\n\n    _shared_state = {}\n\n    def __init__(self):\n        self.__dict__ = self._shared_state\n</code></pre>\n\n<p>You don't actually have a single <em>instance</em>, but each instance shares the same state - which is the part that matters.  </p>\n"}, {"tags": [], "owner": {"reputation": 64040, "user_id": 3620003, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/QnqtZ.jpg?s=128&g=1", "display_name": "timgeb", "link": "https://stackoverflow.com/users/3620003/timgeb"}, "is_accepted": false, "score": 2, "last_activity_date": 1453324932, "last_edit_date": 1453324932, "creation_date": 1453324631, "answer_id": 34910717, "question_id": 34910602, "link": "https://stackoverflow.com/questions/34910602/singleton-python-situation-with-the-need-of-only-one-object/34910717#34910717", "title": "Singleton- python, Situation with the need of only one object", "body": "<p>When and how to use a singleton is a pretty broad question and primarily opinion based. That being said, I would implement it like this:</p>\n\n<pre><code>class Singleton(object):\n    state = {}\n    def __init__(self):\n        self.__dict__ = Singleton.state\n</code></pre>\n\n<p>The idea is taken from <a href=\"http://code.activestate.com/recipes/66531-singleton-we-dont-need-no-stinkin-singleton-the-bo/\" rel=\"nofollow\">here</a>. This is sort of a pseudo-singleton, as two instance will not share the same id:</p>\n\n<pre><code>&gt;&gt;&gt; s1 = Singleton()\n&gt;&gt;&gt; s2 = Singleton()\n&gt;&gt;&gt; s1 is s2\nFalse\n&gt;&gt;&gt; s1.x = 42\n&gt;&gt;&gt; s2.x\n42\n</code></pre>\n"}], "owner": {"reputation": 9515, "user_id": 1128618, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/c38dbe15d311570f54dccef9cb506c68?s=128&d=identicon&r=PG", "display_name": "Jack_of_All_Trades", "link": "https://stackoverflow.com/users/1128618/jack-of-all-trades"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 2, "accepted_answer_id": 34910698, "answer_count": 2, "score": 3, "last_activity_date": 1453324932, "creation_date": 1453324275, "last_edit_date": 1453324462, "question_id": 34910602, "link": "https://stackoverflow.com/questions/34910602/singleton-python-situation-with-the-need-of-only-one-object", "title": "Singleton- python, Situation with the need of only one object", "body": "<p>I am having a situation where I have to make sure I only have one object. I am thinking about implementing singleton like following:</p>\n\n<pre><code>class One_Of_a_Kind:\n    def __init__(self):\n        self.do_some_setup()\n\n\nclass One_Creator:\n    Only_One = None\n    def __new__(cls, *args, **kwargs):\n        if One_Creator.Only_One:\n            return One_Creator.Only_One\n        else:\n            One_Creator.Only_One = One_of_a_Kind()\n            return One_Creator.Only_One\n</code></pre>\n\n<p>Since I am reading a lot about singleton (pros and cons), I am little hesitant in implementing this code. I would like to know if it is okay and/or considered good practice to use in a situation where only one object of certain class in needed ( or mandatory).</p>\n\n<p>Is there a better way of implementing the same thing?</p>\n"}, {"tags": ["python", "python-2.7", "python-3.x", "jira"], "comments": [{"owner": {"reputation": 44000, "user_id": 535275, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/Ft2Mw.jpg?s=128&g=1", "display_name": "Scott Hunter", "link": "https://stackoverflow.com/users/535275/scott-hunter"}, "edited": false, "score": 0, "creation_date": 1453324272, "post_id": 34910582, "comment_id": 57556859, "body": "Please show what you have tried."}, {"owner": {"reputation": 28245, "user_id": 1547004, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5255289d0269d550a4e80e6bf6b0f590?s=128&d=identicon&r=PG", "display_name": "Brendan Abel", "link": "https://stackoverflow.com/users/1547004/brendan-abel"}, "edited": false, "score": 0, "creation_date": 1453325919, "post_id": 34910582, "comment_id": 57557754, "body": "Can you add an example of the functions that add/modify a bug?  I imagine they would have to be modified to take an authenticated object as an argument."}, {"owner": {"reputation": 84953, "user_id": 1405065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5c422b239ab1f49d3f4fcff9e5df3cf?s=128&d=identicon&r=PG", "display_name": "Blckknght", "link": "https://stackoverflow.com/users/1405065/blckknght"}, "edited": false, "score": 0, "creation_date": 1453414539, "post_id": 34910582, "comment_id": 57603485, "body": "@ronak, I think your remaining confusion is not specific to the authentication issue, but more general about how decorators work. When you&#39;re calling <code>list_projects</code> in your last code block, you&#39;re not actually calling the original function you wrote that takes one argument. Instead you&#39;re calling whatever was returned by the decorator (a version of the inner <code>authenticate_and_call</code> function it defines). That wrapper function calls the original <code>list_projects</code> function with the <code>jira</code> argument filled in automatically (the <code>jira=jira</code> part of the call to <code>func</code>)."}, {"owner": {"reputation": 1482, "user_id": 1327247, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/c015a2bf27d6fcf3bee0dca9b55e861a?s=128&d=identicon&r=PG", "display_name": "ronak", "link": "https://stackoverflow.com/users/1327247/ronak"}, "edited": false, "score": 0, "creation_date": 1453416801, "post_id": 34910582, "comment_id": 57604485, "body": "Understood.  How do i get rid of adding jira object to each and every function?  As far as I understand, I already have a default value for jira in the authenticate_and_call function.  Why do I have to explicitly mention it?"}], "answers": [{"comments": [{"owner": {"reputation": 1482, "user_id": 1327247, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/c015a2bf27d6fcf3bee0dca9b55e861a?s=128&d=identicon&r=PG", "display_name": "ronak", "link": "https://stackoverflow.com/users/1327247/ronak"}, "edited": false, "score": 0, "creation_date": 1453327694, "post_id": 34911494, "comment_id": 57558758, "body": "<code>jira</code> is the object that is needed to create a new bug.  <code>jira</code> object here is the authenticated object.  jira_fields are the items that need to go in the jira issue/bug.  <code>jira</code> object is not recognized here <code>new_issue = jira.create_issue(jira_fields)</code>"}, {"owner": {"reputation": 84953, "user_id": 1405065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5c422b239ab1f49d3f4fcff9e5df3cf?s=128&d=identicon&r=PG", "display_name": "Blckknght", "link": "https://stackoverflow.com/users/1405065/blckknght"}, "reply_to_user": {"reputation": 1482, "user_id": 1327247, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/c015a2bf27d6fcf3bee0dca9b55e861a?s=128&d=identicon&r=PG", "display_name": "ronak", "link": "https://stackoverflow.com/users/1327247/ronak"}, "edited": false, "score": 0, "creation_date": 1453327905, "post_id": 34911494, "comment_id": 57558862, "body": "Oh, I see. Your current code had me a bit confused. You need to add <code>jira</code> as a parameter for the function you&#39;re decorating, or it cannot possibly get passed in."}, {"owner": {"reputation": 1482, "user_id": 1327247, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/c015a2bf27d6fcf3bee0dca9b55e861a?s=128&d=identicon&r=PG", "display_name": "ronak", "link": "https://stackoverflow.com/users/1327247/ronak"}, "edited": false, "score": 0, "creation_date": 1453328527, "post_id": 34911494, "comment_id": 57559177, "body": "I have like tens of functions which modify issues.  Does that mean that I have to pass the jira object for each and every function.  This is basically what I am trying to avoid.  I could write the below code in all files and get away with passing that <code>options = {&#39;server&#39;: &#39;https:&#47;&#47;jira.xxxxxx.com&#39;, &#39;verify&#39;: False}   authed_jira = JIRA(options, basic_auth=(&#39;uname&#39;, passwd))</code> and use authed_jira everywhere assuming authed_jira is global, I can use it across files."}, {"owner": {"reputation": 84953, "user_id": 1405065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5c422b239ab1f49d3f4fcff9e5df3cf?s=128&d=identicon&r=PG", "display_name": "Blckknght", "link": "https://stackoverflow.com/users/1405065/blckknght"}, "reply_to_user": {"reputation": 1482, "user_id": 1327247, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/c015a2bf27d6fcf3bee0dca9b55e861a?s=128&d=identicon&r=PG", "display_name": "ronak", "link": "https://stackoverflow.com/users/1327247/ronak"}, "edited": false, "score": 0, "creation_date": 1453328750, "post_id": 34911494, "comment_id": 57559272, "body": "I&#39;ve updated my answer with some different emphasis on the issues. I&#39;m not sure I understand your comment about using a global. Your decorator seems to be trying to pass a new <code>jira</code> object as a parameter, if you have a global variable for it, you don&#39;t need to do that."}, {"owner": {"reputation": 1482, "user_id": 1327247, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/c015a2bf27d6fcf3bee0dca9b55e861a?s=128&d=identicon&r=PG", "display_name": "ronak", "link": "https://stackoverflow.com/users/1327247/ronak"}, "edited": false, "score": 0, "creation_date": 1453344223, "post_id": 34911494, "comment_id": 57564137, "body": "This did work upto some extent, but I wanted to see if this could be imporved.  I basically took the same code that you provided for the authenticate decorator.  When I define the function, I have to pass in the <code>jira</code> object, for example <code>@authenticate def get_issue_summary(jira):</code>  I have to pass in the jira instance.  If I don&#39;t add that it gives me a typeerror which says <code>get_issue_summary() takes no argument (1 given)</code>"}, {"owner": {"reputation": 84953, "user_id": 1405065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5c422b239ab1f49d3f4fcff9e5df3cf?s=128&d=identicon&r=PG", "display_name": "Blckknght", "link": "https://stackoverflow.com/users/1405065/blckknght"}, "reply_to_user": {"reputation": 1482, "user_id": 1327247, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/c015a2bf27d6fcf3bee0dca9b55e861a?s=128&d=identicon&r=PG", "display_name": "ronak", "link": "https://stackoverflow.com/users/1327247/ronak"}, "edited": false, "score": 0, "creation_date": 1453345948, "post_id": 34911494, "comment_id": 57564646, "body": "I think the error is the other way around. You&#39;re passing in one argument, but it doesn&#39;t expect one, since the <code>@authenticate</code> decorator already provides it."}], "tags": [], "owner": {"reputation": 84953, "user_id": 1405065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5c422b239ab1f49d3f4fcff9e5df3cf?s=128&d=identicon&r=PG", "display_name": "Blckknght", "link": "https://stackoverflow.com/users/1405065/blckknght"}, "is_accepted": true, "score": 1, "last_activity_date": 1539727493, "last_edit_date": 1539727493, "creation_date": 1453327351, "answer_id": 34911494, "question_id": 34910582, "link": "https://stackoverflow.com/questions/34910582/how-do-i-write-a-decorator-and-return-an-authenticated-object/34911494#34911494", "title": "How do I write a decorator and return an authenticated object", "body": "<p>You can't <code>append</code> to <code>args</code> because it's a tuple, not a list. To add a value, you'll need to make a new tuple with the value concatenated:</p>\n\n<pre><code>args = args + (jira,)\n</code></pre>\n\n<p>Note the comma at the end of <code>(jira,)</code>, it's necessary to make it a 1-tuple, rather than a simple parenthesized expression.</p>\n\n<p>You also need to set up the function to be decorated to expect the <code>jira</code> argument:</p>\n\n<pre><code>@authenticate\ndef create_new_jira_bug(jira_fields, jira): # expects jira arg from decorator\n    new_issue = jira.create_issue(jira_fields)\n    print new_issue.id\n</code></pre>\n\n<p>Note that I haven't provided a default value for <code>jira</code>. Your current code only adds the <code>jira</code> argument to <code>args</code> some of the time, which won't work if <code>jira</code> is a required argument. It might make more sense to always pass it in from the decorator.</p>\n\n<p>It might be more natural to add a keyword argument to the call made by the decorator, rather than an extra positional argument. This will require all the functions that you're decorating to use the same name for the <code>jira</code> object the decorator passes in, but it won't interfere with their handling of other keyword arguments. Adding a positional argument to the end of the existing (as you're currently doing) may break calls using keyword arguments. Here's what the keyword-using decorator might look like:</p>\n\n<pre><code>def authenticate(func):\n    def authenticate_and_call(*args, **kwargs):\n        options = {'server': 'https://jira.xxxxxxx.com', 'verify': False}\n\n        jira = JIRA(options)\n        if not jira.current_user() == 'uname':\n            jira = JIRA(options, basic_auth=('uname', passwd))\n\n        return func(*args, jira=jira, **kwargs)\n\n    return authenticate_and_call\n</code></pre>\n\n<p>This will work with the function above, but it won't interfere with a call like:</p>\n\n<pre><code> create_new_jira_bug(jira_fields={\"foo\": \"bar\"})\n</code></pre>\n"}], "owner": {"reputation": 1482, "user_id": 1327247, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/c015a2bf27d6fcf3bee0dca9b55e861a?s=128&d=identicon&r=PG", "display_name": "ronak", "link": "https://stackoverflow.com/users/1327247/ronak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 319, "favorite_count": 0, "accepted_answer_id": 34911494, "answer_count": 1, "score": 1, "last_activity_date": 1539727493, "creation_date": 1453324191, "last_edit_date": 1453409372, "question_id": 34910582, "link": "https://stackoverflow.com/questions/34910582/how-do-i-write-a-decorator-and-return-an-authenticated-object", "title": "How do I write a decorator and return an authenticated object", "body": "<p>I am writing automation scripts for adding some bugs to Jira via the jira python library.  </p>\n\n<p>I have my username and password in a file and I want to make sure that everytime a function is being called (which adds/modifies a bug) is authenticated.</p>\n\n<p>Basically I want to write a decorator.  But this decorator will return a jira object which shall be used by every function.  Below is the function I would write.</p>\n\n<pre><code>def return_authed_jira():\n    options = {'server': 'https://jira.xxxxyyzzz.com'}\n    authed_jira = JIRA(options,  basic_auth=('my_uname', my_passwd))\n    return authed_jira\n</code></pre>\n\n<p>Is there a way I can do this using a decorator.  Again, I know I could do it differently without using a decorator, but I want to do this with a decorator.</p>\n\n<p>I have tried writing it myself, but most of the examples that I have seen do not return an object.  </p>\n\n<p>This is what I have tried.</p>\n\n<pre><code>def authenticate(func):\n\n    def authenticate_and_call(*args, **kwargs):\n\n        options = {'server': 'https://jira.xxxxxxx.com', 'verify': False}\n        jira = JIRA(options)\n        if not jira.current_user() == 'uname':\n            options = {'server': 'https://jira.xxxxxx.com', 'verify': False}\n            jira = JIRA(options, basic_auth=('uname', passwd))\n            args.append(jira)\n        return func(*args, **kwargs)\n    return authenticate_and_call\n</code></pre>\n\n<p>Here I am trying to append the jira object, but that did not work.</p>\n\n<p>This is something that I desire.  Adding the jira object to the args does not make it easy for a function to access.  This is similar to the login decorator where if you try to access a page which needs the user to login, you add the decorator to the function serving the page.</p>\n\n<pre><code>@authenticate\ndef create_new_jira_bug(jira_fields):\n\n    new_issue = jira.create_issue(jira_fields)\n    print new_issue.id\n</code></pre>\n\n<p>Below is the new code after <code>Blckknght</code> answered the question and made some modifications.</p>\n\n<pre><code>def authenticate(func):\n\n    def authenticate_and_call(*args, **kwargs):\n\n        options = {'server': 'https://jira.xyz.com', 'verify': False}\n        jira = JIRA(options)\n        if not jira.current_user() == 'uname':\n            options = {'server': 'https://jira.xyz.com', 'verify': False}\n            jira = JIRA(options, basic_auth=(uname, password))\n        return func(*args, jira=jira, **kwargs)\n    return authenticate_and_call\n\n@authenticate\ndef list_projects():\n\n    my_issue = jira.issue('MYKEY-1289')\n    print (my_issue.raw.get('fields'))\n\nlist_projects()\n</code></pre>\n\n<p>Below is the error I get when I dont add jira to the list_projects function</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"C:/testjira.py\", line 44, in &lt;module&gt;\n    list_projects()\n  File \"C:testjira.py\", line 33, in authenticate_and_call\n    return func(*args, jira=jira, **kwargs)\nTypeError: list_projects() takes no arguments (1 given)\n</code></pre>\n\n<p>My question is that I have to pass the jira object to the function before which the decorator is called, otherwise I get this error.  Is there an alternative to this?  It works fine with the below code.  I am trying to get an explanation on why do I have to pass the object when defining the function when I dont have to pass that object when calling the function.</p>\n\n<pre><code>@authenticate\ndef list_projects(jira):\n\n    my_issue = jira.issue('MYKEY-1289')\n    print (my_issue.raw.get('fields'))\n\nlist_projects()\n</code></pre>\n"}, {"tags": ["python", "excel", "matplotlib"], "comments": [{"owner": {"reputation": 3050, "user_id": 2399772, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nS7s0.jpg?s=128&g=1", "display_name": "Demitrian", "link": "https://stackoverflow.com/users/2399772/demitrian"}, "edited": false, "score": 1, "creation_date": 1453324471, "post_id": 34910533, "comment_id": 57556966, "body": "Can you present what you&#39;ve tried in Python at least? This site is meant for programming issues, not for excel support. If you wish to know how this is done in excel, I recommend you to post the question on <a href=\"http://superuser.com/\">Super User</a> instead."}, {"owner": {"reputation": 1, "user_id": 5818107, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a3de6ac7febe02762fdbeed7f9f6b19?s=128&d=identicon&r=PG&f=1", "display_name": "user5818107", "link": "https://stackoverflow.com/users/5818107/user5818107"}, "reply_to_user": {"reputation": 3050, "user_id": 2399772, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nS7s0.jpg?s=128&g=1", "display_name": "Demitrian", "link": "https://stackoverflow.com/users/2399772/demitrian"}, "edited": false, "score": 0, "creation_date": 1453324722, "post_id": 34910533, "comment_id": 57557100, "body": "Sorry I am new to on this website. I edited my question"}, {"owner": {"reputation": 3050, "user_id": 2399772, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nS7s0.jpg?s=128&g=1", "display_name": "Demitrian", "link": "https://stackoverflow.com/users/2399772/demitrian"}, "edited": false, "score": 0, "creation_date": 1453324920, "post_id": 34910533, "comment_id": 57557222, "body": "No problem. Have you tried parsing the data as well? It is difficult to assist you if we&#39;ve only got your dataset to go by."}, {"owner": {"reputation": 1, "user_id": 5818107, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a3de6ac7febe02762fdbeed7f9f6b19?s=128&d=identicon&r=PG&f=1", "display_name": "user5818107", "link": "https://stackoverflow.com/users/5818107/user5818107"}, "reply_to_user": {"reputation": 3050, "user_id": 2399772, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nS7s0.jpg?s=128&g=1", "display_name": "Demitrian", "link": "https://stackoverflow.com/users/2399772/demitrian"}, "edited": false, "score": 0, "creation_date": 1453325264, "post_id": 34910533, "comment_id": 57557432, "body": "Thank you for the edit. I am still trying to understand stackoverflow."}, {"owner": {"reputation": 3050, "user_id": 2399772, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nS7s0.jpg?s=128&g=1", "display_name": "Demitrian", "link": "https://stackoverflow.com/users/2399772/demitrian"}, "edited": false, "score": 0, "creation_date": 1453325325, "post_id": 34910533, "comment_id": 57557455, "body": "That&#39;s OK. Have you got some code to add where you parse the data? If you&#39;ve only got the input, it&#39;ll be difficult to help you."}, {"owner": {"reputation": 1, "user_id": 5818107, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a3de6ac7febe02762fdbeed7f9f6b19?s=128&d=identicon&r=PG&f=1", "display_name": "user5818107", "link": "https://stackoverflow.com/users/5818107/user5818107"}, "reply_to_user": {"reputation": 3050, "user_id": 2399772, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nS7s0.jpg?s=128&g=1", "display_name": "Demitrian", "link": "https://stackoverflow.com/users/2399772/demitrian"}, "edited": false, "score": 0, "creation_date": 1453325952, "post_id": 34910533, "comment_id": 57557775, "body": "I posted this in super user like you suggested. I only have that input since I don&#39;t know where to go next. I wish I was better at this. Sorry."}, {"owner": {"reputation": 2850, "user_id": 3358223, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ce1db7b10e0b2cca9ef29e1067799537?s=128&d=identicon&r=PG", "display_name": "nicoguaro", "link": "https://stackoverflow.com/users/3358223/nicoguaro"}, "edited": false, "score": 0, "creation_date": 1453325996, "post_id": 34910533, "comment_id": 57557801, "body": "Do you have an example of what you want? I don&#39;t really understand it."}, {"owner": {"reputation": 3050, "user_id": 2399772, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nS7s0.jpg?s=128&g=1", "display_name": "Demitrian", "link": "https://stackoverflow.com/users/2399772/demitrian"}, "edited": false, "score": 0, "creation_date": 1453326192, "post_id": 34910533, "comment_id": 57557908, "body": "I hope the users on Super User can help you. If you find that you are in need of programming aid once you&#39;ve obtained more information, @user5818107, then you can return and either update your question or make a new one."}, {"owner": {"reputation": 1, "user_id": 5818107, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a3de6ac7febe02762fdbeed7f9f6b19?s=128&d=identicon&r=PG&f=1", "display_name": "user5818107", "link": "https://stackoverflow.com/users/5818107/user5818107"}, "edited": false, "score": 0, "creation_date": 1453326346, "post_id": 34910533, "comment_id": 57557990, "body": "The second graph in this question. But x-axis is distance, y-axis is grain size. <a href=\"http://stackoverflow.com/questions/14270391/python-matplotlib-multiple-bars\" title=\"python matplotlib multiple bars\">stackoverflow.com/questions/14270391/&hellip;</a>"}, {"owner": {"reputation": 12860, "user_id": 1168043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IBdCH.jpg?s=128&g=1", "display_name": "cphlewis", "link": "https://stackoverflow.com/users/1168043/cphlewis"}, "edited": false, "score": 0, "creation_date": 1453345302, "post_id": 34910533, "comment_id": 57564449, "body": "Have you tried putting your data into the example you cite? Just matching up x and distance, etc., should get you a long way."}], "answers": [{"tags": [], "owner": {"reputation": 12860, "user_id": 1168043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IBdCH.jpg?s=128&g=1", "display_name": "cphlewis", "link": "https://stackoverflow.com/users/1168043/cphlewis"}, "is_accepted": false, "score": 0, "last_activity_date": 1453447774, "creation_date": 1453447774, "answer_id": 34941247, "question_id": 34910533, "link": "https://stackoverflow.com/questions/34910533/attempting-to-make-a-multi-column-graph/34941247#34941247", "title": "Attempting to make a multi-column graph", "body": "<p>There's a plotting library called <code>seaborn</code>, built on top of matplotlib, that does this in one line. Your example:</p>\n\n<p><a href=\"https://i.stack.imgur.com/PJyiD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PJyiD.png\" alt=\"enter image description here\"></a></p>\n\n<pre><code>import numpy as np     \nimport seaborn as sns \nfrom matplotlib.pyplot import show\n\ngrainsize = [0.7912, 0.513, 0.4644, 1.0852, 1.8515, 1.812, 6.371,\n             1.602, 1.0251, 5.6884, 0.4166, 24.8669, 0.5223, 37.387, 0.5159, 0.6727]     \nseries = [2, 3, 4, 1, 4, 2, 3, 4, 1, 4, 1, 4, 1, 4, 1, 4]\ndistance = [9, 9, 9, 12, 12, 15, 15, 15, 17, 17, 25, 25, 32.5, 32.5, 39.5, 39.5]\n\nax = sns.barplot(x=distance, y=grainsize, hue=series, palette='muted')\n\nax.set_xlabel('distance') \nax.set_ylabel('grainsize') \nshow()\n</code></pre>\n\n<p>You will be able to do a lot even as a total newbie by editing the many examples in the seaborn <a href=\"http://stanford.edu/~mwaskom/software/seaborn/examples/index.html\" rel=\"nofollow noreferrer\">gallery</a>. Use them as training wheels: edit only one thing at a time and think about what changes. </p>\n"}], "owner": {"reputation": 1, "user_id": 5818107, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a3de6ac7febe02762fdbeed7f9f6b19?s=128&d=identicon&r=PG&f=1", "display_name": "user5818107", "link": "https://stackoverflow.com/users/5818107/user5818107"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 67, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1453447774, "creation_date": 1453324007, "last_edit_date": 1453325983, "question_id": 34910533, "link": "https://stackoverflow.com/questions/34910533/attempting-to-make-a-multi-column-graph", "title": "Attempting to make a multi-column graph", "body": "<p>I am trying to make a column graph where the y-axis is the mean grain size, the x-axis is the distance along the transect, and each series is a date and/or number value (it doesn't really matter). </p>\n\n<p>I have been trying a few different methods in Excel 2010 but I cannot figure it out. My hope is that, lets say at the first location, 9, there will be three columns and then at 12 there will be two columns. If it matter at all, lets say the total distance is 50. The result of this data should have 7 sets of columns along the transect/x-axis.</p>\n\n<p>I have tried to do this using python but my coding knowledge is close to nil. Here is my code so far:</p>\n\n<pre><code>import numpy as np    \nimport matplotlib.pyplot as plt\n\ngrainsize = [0.7912, 0.513, 0.4644, 1.0852, 1.8515, 1.812, 6.371, 1.602, 1.0251, 5.6884, 0.4166, 24.8669, 0.5223, 37.387, 0.5159, 0.6727]    \nseries = [2, 3, 4, 1, 4, 2, 3, 4, 1, 4, 1, 4, 1, 4, 1, 4]    \ndistance = [9, 9, 9, 12, 12, 15, 15, 15, 17, 17, 25, 25, 32.5, 32.5, 39.5, 39.5]\n</code></pre>\n\n<p>If someone happen to know of a code to use, it would be very helpful. A recommendation for how to do this in Excel would be awesome too.</p>\n"}, {"tags": ["python", "heroku", "virtualenv"], "answers": [{"tags": [], "owner": {"reputation": 7950, "user_id": 2848189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Sy43q.png?s=128&g=1", "display_name": "Alejandro Veintimilla", "link": "https://stackoverflow.com/users/2848189/alejandro-veintimilla"}, "is_accepted": false, "score": 1, "last_activity_date": 1453328278, "creation_date": 1453328278, "answer_id": 34911721, "question_id": 34910524, "link": "https://stackoverflow.com/questions/34910524/heroku-command-not-found-working-on-virtualenv/34911721#34911721", "title": "Heroku: command not found. Working on Virtualenv", "body": "<p>This solved it for me:</p>\n\n<pre><code>wget -qO- https://toolbelt.heroku.com/install.sh | bash\n\necho 'PATH=\"/usr/local/heroku/bin:$PATH\"' &gt;&gt; ~/.profile\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1331, "user_id": 2354685, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/00d76750e1dceb7aae4c77125ddd6791?s=128&d=identicon&r=PG", "display_name": "Malik A. Rumi", "link": "https://stackoverflow.com/users/2354685/malik-a-rumi"}, "is_accepted": false, "score": 0, "last_activity_date": 1560189848, "creation_date": 1560189848, "answer_id": 56531384, "question_id": 34910524, "link": "https://stackoverflow.com/questions/34910524/heroku-command-not-found-working-on-virtualenv/56531384#56531384", "title": "Heroku: command not found. Working on Virtualenv", "body": "<p>Just now I upgraded my heroku cli from 7.7 to 7.25 via apt-get. I am on ubuntu 18.04.2 LTS. </p>\n\n<pre><code>    (hattie-nHCNXwaX) malikarumi@Tetuoan2:~/Projects/hattie$ sudo snap install --classic heroku\n    heroku v7.25.0 from Heroku\u2713 installed\n</code></pre>\n\n<p>However, if I run a heroku command from inside pipenv, I get</p>\n\n<pre><code>    (hattie-nHCNXwaX) malikarumi@Tetuoan2:~/Projects/hattie$ heroku --version\n    bash: /usr/bin/heroku: No such file or directory\n</code></pre>\n\n<p>But from outside pipenv, it performs as expected:</p>\n\n<pre><code>    malikarumi@Tetuoan2:~/Projects/hattie$ heroku --version\n    heroku/7.25.0 linux-x64 node-v11.14.0\n</code></pre>\n\n<p>Note, there really is no /usr/bin/heroku. There is a /usr/local/heroku, but the only thing inside there is a folder called \"vendor\", with other things inside vendor. There is no /usr/local/heroku/bin as suggested in the op's answer to his own question. However, since this is a 'snap' install, I looked there and found:</p>\n\n<pre><code>    /snap/heroku/current/bin\n</code></pre>\n\n<p>So modifying the op's solution, I did:</p>\n\n<pre><code>    echo 'PATH=\"/snap/heroku/curent/bin:$PATH\"' &gt;&gt; ~/.profile\n</code></pre>\n\n<p>Restart, and:</p>\n\n<pre><code>    (hattie-nHCNXwaX) malikarumi@Tetuoan2:~/Projects/hattie$ heroku --version\n    heroku/7.25.0 linux-x64 node-v11.14.0\n</code></pre>\n\n<p>Problem solved! Even better...</p>\n\n<pre><code>    malikarumi@Tetuoan2:~/Projects/hattie$ heroku --version\n    heroku/7.25.0 linux-x64 node-v11.14.0\n</code></pre>\n\n<p>it still works outside pipenv.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 14717309, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AOh14GjvmbGYZXB5NAUr1z_2qZWUhMV4JNrma5LeWQ5TDw=k-s128", "display_name": "D Sapphire", "link": "https://stackoverflow.com/users/14717309/d-sapphire"}, "is_accepted": false, "score": 0, "last_activity_date": 1606451965, "creation_date": 1606451965, "answer_id": 65032168, "question_id": 34910524, "link": "https://stackoverflow.com/questions/34910524/heroku-command-not-found-working-on-virtualenv/65032168#65032168", "title": "Heroku: command not found. Working on Virtualenv", "body": "<p>I also had the same problem but all I had to do was close  the terminal and restarted it.</p>\n"}], "owner": {"reputation": 7950, "user_id": 2848189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Sy43q.png?s=128&g=1", "display_name": "Alejandro Veintimilla", "link": "https://stackoverflow.com/users/2848189/alejandro-veintimilla"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1290, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1606451965, "creation_date": 1453323997, "question_id": 34910524, "link": "https://stackoverflow.com/questions/34910524/heroku-command-not-found-working-on-virtualenv", "title": "Heroku: command not found. Working on Virtualenv", "body": "<p>I see similar questions, but those are <code>Ruby on Rails</code> questions. I'm working on a <code>virtualenv</code> using <code>python</code> and <code>django</code>. </p>\n\n<p>I installed <code>django-toolbelt</code>, I also tried <code>pip install heroku</code>. When I do:</p>\n\n<pre><code>whereis heroku\n</code></pre>\n\n<p>I get this:</p>\n\n<pre><code>heroku: /usr/bin/heroku\n</code></pre>\n\n<p>But when I try <code>heroku create</code> I get:</p>\n\n<pre><code>heroku: command not found\n</code></pre>\n\n<p>??\nThanks a lot for your help. I'm not sure how to solve this.</p>\n"}, {"tags": ["python", "if-statement", "integer", "repeat"], "comments": [{"owner": {"reputation": 118102, "user_id": 4952130, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/kKQZw.png?s=128&g=1", "display_name": "Dimitris Fasarakis Hilliard", "link": "https://stackoverflow.com/users/4952130/dimitris-fasarakis-hilliard"}, "edited": false, "score": 1, "creation_date": 1453324141, "post_id": 34910518, "comment_id": 57556771, "body": "I edited your post to make it sound <i>less demanding</i>. Stack Overflow is <b>not</b> a place where you can come, dump your code and let others do your work."}, {"owner": {"reputation": 1, "user_id": 5818145, "user_type": "registered", "profile_image": "https://graph.facebook.com/10208357945330255/picture?type=large", "display_name": "Elijah D. Jennings", "link": "https://stackoverflow.com/users/5818145/elijah-d-jennings"}, "reply_to_user": {"reputation": 118102, "user_id": 4952130, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/kKQZw.png?s=128&g=1", "display_name": "Dimitris Fasarakis Hilliard", "link": "https://stackoverflow.com/users/4952130/dimitris-fasarakis-hilliard"}, "edited": false, "score": 0, "creation_date": 1453324201, "post_id": 34910518, "comment_id": 57556806, "body": "i was editing it but you beat me to it. Thank you for the help"}], "answers": [{"comments": [{"owner": {"reputation": 23806, "user_id": 4542359, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/a6ea331ac684b52563d13e6ee44e03be?s=128&d=identicon&r=PG&f=1", "display_name": "Anton Protopopov", "link": "https://stackoverflow.com/users/4542359/anton-protopopov"}, "edited": false, "score": 0, "creation_date": 1453324689, "post_id": 34910598, "comment_id": 57557084, "body": "If you are using <code>python 2.x</code> try to use <code>raw_input</code> instead of <code>input</code>."}], "tags": [], "owner": {"reputation": 23806, "user_id": 4542359, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/a6ea331ac684b52563d13e6ee44e03be?s=128&d=identicon&r=PG&f=1", "display_name": "Anton Protopopov", "link": "https://stackoverflow.com/users/4542359/anton-protopopov"}, "is_accepted": false, "score": 1, "last_activity_date": 1453324270, "creation_date": 1453324270, "answer_id": 34910598, "question_id": 34910518, "link": "https://stackoverflow.com/questions/34910518/how-do-i-print-an-output-if-the-value-entered-is-not-an-integer/34910598#34910598", "title": "How do i print an output if the value entered is not an integer", "body": "<p>You could check whether input is a valid digit with <code>isdigit</code> method of <code>str</code>. For multiple times you could wrap your code to a function and call it as much as you want:</p>\n\n<pre><code>def func():\n    age = input (' enter your age:  ')\n\n    if age.isdigit():\n        age = float(age)\n\n        if 0 &lt;age &lt; 16:\n            print \"too early for you to drive\"\n        if  120 &gt;= age &gt;= 95:\n            print 'Sorry; you cant risk driving'\n        if age &lt;= 0:\n            print 'Sorry,' ,age, 'is not a valid age'\n        if age &gt; 120: \n            print 'There is no way you are this old. If so, what is your secret?'\n        if 95 &gt; age &gt;= 16:\n            print 'You are good to drive!'\n    else:\n        print \"value entered is not a valid age\"\n\nfunc()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3891, "user_id": 2326911, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/173ece6e1a474bf45d2dee00f651b543?s=128&d=identicon&r=PG&f=1", "display_name": "\u1d00\u0280\u1d0d\u1d00\u0274", "link": "https://stackoverflow.com/users/2326911/%e1%b4%80%ca%80%e1%b4%8d%e1%b4%80%c9%b4"}, "is_accepted": false, "score": 0, "last_activity_date": 1453324512, "creation_date": 1453324512, "answer_id": 34910677, "question_id": 34910518, "link": "https://stackoverflow.com/questions/34910518/how-do-i-print-an-output-if-the-value-entered-is-not-an-integer/34910677#34910677", "title": "How do i print an output if the value entered is not an integer", "body": "<p>For make this code runnig every time you should add a loop , like <code>while</code> loop , and add a <code>break</code> whenever you want end this loop or add a condition for example run 10 times,and if you want check the input is <code>float</code> , you can add a <code>try</code> section:</p>\n\n<pre><code>counter = 0\nwhile counter &lt; 10:\n    age = raw_input (' enter your age:  ')\n    try :\n        age = float(age)\n        if 0 &lt;age &lt; 16:\n            print \"too early for you to drive\"\n        if  120 &gt;= age &gt;= 95:\n            print 'Sorry; you cant risk driving'\n        if age &lt;= 0:\n            print 'Sorry,' ,age, 'is not a valid age'\n        if age &gt; 120: \n            print 'There is no way you are this old. If so, what is your secret?'\n        if 95 &gt; age &gt;= 16:\n            print 'You are good to drive!'\n        counter -= 1\n    except ValueError:\n         print \"value entered is not a valid age\"\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 50452, "user_id": 33258, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/c4b21ea020b4d95c4abacaffc9daaf4e?s=128&d=identicon&r=PG", "display_name": "Hugh Bothwell", "link": "https://stackoverflow.com/users/33258/hugh-bothwell"}, "is_accepted": false, "score": 0, "last_activity_date": 1453325636, "creation_date": 1453325636, "answer_id": 34911023, "question_id": 34910518, "link": "https://stackoverflow.com/questions/34910518/how-do-i-print-an-output-if-the-value-entered-is-not-an-integer/34911023#34911023", "title": "How do i print an output if the value entered is not an integer", "body": "<p>It is also a good idea to arrange your cases in order, to make it easier to see what is happening (and to make sure you didn't leave an unhandled gap):</p>\n\n<pre><code>while True:\n    age = input(\"Enter your age (or just hit Enter to quit): \").strip()\n\n    if not age:\n        print(\"Goodbye!\")\n        break       # exit the while loop\n\n    try:\n        # convert to int\n        age = int(age)\n    except ValueError:\n        # not an int!\n        print(\"Value entered is not a valid age\")\n        continue    # start the while loop again\n\n    if age &lt; 0:\n        print(\"Sorry, {} is not a valid age.\".format(age))\n    elif age &lt; 16:\n        print(\"You are too young to drive!\")\n    elif age &lt; 95:\n        print(\"You are good to drive!\")\n    elif age &lt;= 120:\n        print(\"Sorry, you can't risk driving!\")\n    else:\n        print(\"What are you, a tree?\")\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 5818145, "user_type": "registered", "profile_image": "https://graph.facebook.com/10208357945330255/picture?type=large", "display_name": "Elijah D. Jennings", "link": "https://stackoverflow.com/users/5818145/elijah-d-jennings"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 70, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1453325636, "creation_date": 1453323979, "last_edit_date": 1453324017, "question_id": 34910518, "link": "https://stackoverflow.com/questions/34910518/how-do-i-print-an-output-if-the-value-entered-is-not-an-integer", "title": "How do i print an output if the value entered is not an integer", "body": "<p>I am trying to do two things here. </p>\n\n<p>I want to print <code>\"value entered is not a valid age\"</code> if the input is not a number in this code:</p>\n\n<pre><code>age = float(input (' enter your age:  '))\nif 0 &lt;age &lt; 16:\n    print \"too early for you to drive\"\nif  120 &gt;= age &gt;= 95:\n    print 'Sorry; you cant risk driving'\nif age &lt;= 0:\n    print 'Sorry,' ,age, 'is not a valid age'\nif age &gt; 120: \n    print 'There is no way you are this old. If so, what is your secret?'\nif 95 &gt; age &gt;= 16:\n    print 'You are good to drive!'\n</code></pre>\n\n<p>Also, how can I repeat this program once it is done?</p>\n"}, {"tags": ["python", "zip", "embed", "maya"], "answers": [{"tags": [], "owner": {"reputation": 103, "user_id": 3868877, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/29016405a6df55aec0c030f3718243dc?s=128&d=identicon&r=PG&f=1", "display_name": "Colin Knueppel", "link": "https://stackoverflow.com/users/3868877/colin-knueppel"}, "is_accepted": false, "score": 0, "last_activity_date": 1453409877, "last_edit_date": 1495540735, "creation_date": 1453409877, "answer_id": 34934171, "question_id": 34910494, "link": "https://stackoverflow.com/questions/34910494/maya-python-embed-zip-file-into-maya-file/34934171#34934171", "title": "Maya Python - Embed zip file into maya file?", "body": "<p>Found the answer. Great script on stack overflow. I had to encode to 'string_escape', which is something I found while trying to figure out the whole characters situation. But anyways, you open the zip, encode to 'string_escape', write it to fileInfo and then before fetching to write it back to zip, you decode it back.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/7396849/convert-binary-to-ascii-and-vice-versa\">Convert binary to ASCII and vice versa</a></p>\n\n<pre><code>import maya.cmds as cmds\nimport binascii\n\ndef text_to_bits(text, encoding='utf-8', errors='surrogatepass'):\n    bits = bin(int(binascii.hexlify(text.encode(encoding, errors)), 16))[2:]\n    return bits.zfill(8 * ((len(bits) + 7) // 8))\n\ndef text_from_bits(bits, encoding='utf-8', errors='surrogatepass'):\n    n = int(bits, 2)\n    return int2bytes(n).decode(encoding, errors)\n\ndef int2bytes(i):\n    hex_string = '%x' % i\n    n = len(hex_string)\n    return binascii.unhexlify(hex_string.zfill(n + (n &amp; 1)))\n</code></pre>\n\n<p>And then you can </p>\n\n<pre><code>with open(\"..\\maya\\scripts/test.zip\",\"rb\") as thing:\n    texty = text_to_bits(thing.read().encode('string_escape'))\n    cmds.fileInfo(\"binaryZip\",texty)\n</code></pre>\n\n<p>...later</p>\n\n<pre><code>with open(\"..\\maya\\scripts/test_2.zip\",\"wb\") as thing:\n    texty = cmds.fileInfo(\"binaryZip\",q=1)\n    thing.write( text_from_bits( texty ).decode('string_escape') )\n</code></pre>\n\n<p>and this appears to work.. so far..</p>\n"}, {"comments": [{"owner": {"reputation": 103, "user_id": 3868877, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/29016405a6df55aec0c030f3718243dc?s=128&d=identicon&r=PG&f=1", "display_name": "Colin Knueppel", "link": "https://stackoverflow.com/users/3868877/colin-knueppel"}, "edited": false, "score": 0, "creation_date": 1453461016, "post_id": 34938779, "comment_id": 57621922, "body": "Bah. So much easier than what I had. Thanks!"}], "tags": [], "owner": {"reputation": 11342, "user_id": 1936075, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/keYz5.jpg?s=128&g=1", "display_name": "theodox", "link": "https://stackoverflow.com/users/1936075/theodox"}, "is_accepted": true, "score": 2, "last_activity_date": 1453435290, "creation_date": 1453435290, "answer_id": 34938779, "question_id": 34910494, "link": "https://stackoverflow.com/questions/34910494/maya-python-embed-zip-file-into-maya-file/34938779#34938779", "title": "Maya Python - Embed zip file into maya file?", "body": "<p>you can find related code here:</p>\n\n<p><a href=\"http://tech-artists.org/forum/showthread.php?4161-Maya-API-Singleton-Nodes&amp;highlight=mayapersist\" rel=\"nofollow\">http://tech-artists.org/forum/showthread.php?4161-Maya-API-Singleton-Nodes&amp;highlight=mayapersist</a></p>\n\n<p>the relevant bit is</p>\n\n<pre><code>  import base64\n  encoded = base64.b64encode(value)\n  decoded = base64.b64decode(encoded)\n</code></pre>\n\n<p>basically it's the same idea, except using the base64 module instead of binascii. Any method of converting an arbitary character stream to an ascii-safe representation will work fine, as long as you use a reversable method: the potential problem you need to watch out for is a character in the data block that looks to maya like a close quote - an open quote int he fileInfo will be messy in an MA file.</p>\n\n<p>This example uses YAML to do arbitrary key-value pairs but that part is irrelevant to storing the binary stuff.  I've used this technique for fairly large data (up to 640k if i recall) but I don't know if it has an upper limit in terms of what you can stash in Maya</p>\n"}, {"tags": [], "owner": {"reputation": 103, "user_id": 3868877, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/29016405a6df55aec0c030f3718243dc?s=128&d=identicon&r=PG&f=1", "display_name": "Colin Knueppel", "link": "https://stackoverflow.com/users/3868877/colin-knueppel"}, "is_accepted": false, "score": 0, "last_activity_date": 1453904654, "creation_date": 1453904654, "answer_id": 35039940, "question_id": 34910494, "link": "https://stackoverflow.com/questions/34910494/maya-python-embed-zip-file-into-maya-file/35039940#35039940", "title": "Maya Python - Embed zip file into maya file?", "body": "<p>Figured I'd post the final product for anyone wanting to undertake this approach. I tried to do some corruption checking, so that a bad zip doesn't get passed between machines. That's what all the check hashing is for.</p>\n\n<pre><code>def writeTimeFull(tl):\n    import TimeFull\n    #reload(TimeFull)\n    with open(TimeFull.__file__.replace(\".pyc\",\".py\"),\"r\") as file:\n        cmds.scriptNode( tl.scriptConnection[1][0], e=1, bs=file.read() )\n    cmds.expression(\"spark_timeliner_activator\",\n                    e=1,s='if (Spark_Timeliner.ShowTimeliner == 1)\\n'\n                          '{\\n'\n                          '\\tsetAttr Spark_Timeliner.ShowTimeliner 0;\\n'\n                          '\\tpython \\\"Timeliner.InitTimeliner()\\\";\\n'\n                          '}',\n                    o=\"Spark_Timeliner\",ae=1,uc=all)\n\ndef checkHash(zipPath,hash1,hash2,hash3):\n    check = False\n    hashes = [hash1,hash2,hash3]\n    for ii, hash in enumerate(hashes):\n        if hash == hashes[(ii+1)%3]:\n            hashes[(ii+2)%3] = hashes[ii]\n            check = True\n    if check:\n        if md5(zipPath) == hashes[0]:\n            return [zipPath,hashes[0],hashes[1],hashes[2]]\n    else:\n        cmds.warning(\"Hash checks and/or zip are corrupted. Attain toolbox_fix.zip, put it in scripts folder and restart.\")\n        return []\n\n#this writes the zip file to the local users space\ndef saveOutZip(filename):\n    if os.path.isfile(filename):\n        if not os.path.isfile(filename.replace('_pkg','_'+__version__)):\n            os.rename(filename,filename.replace('_pkg','_'+__version__))\n    with open(filename,\"w\") as zipFile:\n        zipInfo = cmds.fileInfo(\"zipInfo1\",q=1)[0]\n        zipHash_1 = cmds.fileInfo(\"zipHash1\",q=1)[0]\n        zipHash_2 = cmds.fileInfo(\"zipHash2\",q=1)[0]\n        zipHash_3 = cmds.fileInfo(\"zipHash3\",q=1)[0]\n        zipFile.write( base64.b64decode(zipInfo) )\n        if checkHash(filename,zipHash_1,zipHash_2,zipHash_3):\n            cmds.fileInfo(\"zipInfo2\",zipInfo)\n            return filename\n    with open(filename,\"w\") as zipFile:\n        zipInfo = cmds.fileInfo(\"zipInfo2\",q=1)[0]\n        zipHash_1 = cmds.fileInfo(\"zipHash1\",q=1)[0]\n        zipHash_2 = cmds.fileInfo(\"zipHash2\",q=1)[0]\n        zipHash_3 = cmds.fileInfo(\"zipHash3\",q=1)[0]\n        zipFile.write( base64.b64decode(zipInfo) )\n        if checkHash(filename,zipHash_1,zipHash_2,zipHash_3):\n            cmds.fileInfo(\"zipInfo1\",zipInfo)\n            return filename\n    return False\n\n#this writes the local zip to this file\ndef loadInZip(filename):\n    zipResults = []\n    for ii in range(0,10):\n        with open(filename,\"r\") as theRead:\n            zipResults.append([base64.b64encode(theRead.read())]+checkHash(filename,md5(filename),md5(filename),md5(filename)))\n        if ii&gt;0 and zipResults[ii]==zipResults[ii-1]:\n            cmds.fileInfo(\"zipInfo1\",zipResults[ii][0])\n            cmds.fileInfo(\"zipInfo2\",zipResults[ii-1][0])\n            cmds.fileInfo(\"zipHash1\",zipResults[ii][2])\n            cmds.fileInfo(\"zipHash2\",zipResults[ii][3])\n            cmds.fileInfo(\"zipHash3\",zipResults[ii][4])\n            return True\n\n#file check\n#http://stackoverflow.com/questions/3431825/generating-a-md5-checksum-of-a-file\ndef md5(fname):\n    import hashlib\n    hash = hashlib.md5()\n    with open(fname, \"rb\") as f:\n        for chunk in iter(lambda: f.read(4096), b\"\"):\n            hash.update(chunk)\n    return hash.hexdigest()\n\nfilename = path+'/toolbox_pkg.zip'\nzipPaths = [path+'/toolbox_update.zip',\n            path+'/toolbox_fix.zip',\n            path+'/toolbox_'+__version__+'.zip',\n            filename]\nzipPaths_exist = [os.path.isfile(zipPath) for zipPath in zipPaths ]\n\nif any(zipPaths_exist[:2]):\n    if zipPaths_exist[0]:\n        cmds.warning('Timeliner update present. Forcing file to update version')\n        if zipPaths_exist[2]:\n            os.remove(zipPaths[3])\n        elif os.path.isfile(zipPaths[3]):\n            os.rename(zipPaths[3], zipPaths[2])\n        os.rename(zipPaths[0],zipPaths[3])\n        if zipPaths_exist[1]:\n            os.remove(zipPaths[1])\n    else:\n        cmds.warning('Timeliner fix present. Replacing file to the fix version.')\n        if os.path.isfile(zipPaths[3]):\n            os.remove(zipPaths[3])\n        os.rename(zipPaths[1],zipPaths[3])\n    loadInZip(filename)\n\nif not cmds.fileInfo(\"zipInfo1\",q=1) and not cmds.fileInfo(\"zipInfo2\",q=1):\n    loadInZip(filename)\n\nif not os.path.isfile(filename):\n    saveOutZip(filename)\n\nsys.path.append(filename)\nimport Timeliner\nTimeliner.InitTimeliner(theVers=__version__)\n\nif not any(zipPaths[:2]):\n    if __version__ &gt; Timeliner.__version__:\n        cmds.warning('Saving out newer version of timeliner to local machine. Restart Maya to access latest version.')\n        saveOutZip(filename)\n    elif __version__ &lt; Timeliner.__version__:\n        cmds.warning('Timeliner on machine is newer than file version. Saving machine version over timeliner in file.')\n        loadInZip(filename)\n        __version__ = Timeliner.__version__\n\nif __name__ != \"__main__\":\n    tl = getTimeliner()\n    writeTimeFull(tl)\n</code></pre>\n"}], "owner": {"reputation": 103, "user_id": 3868877, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/29016405a6df55aec0c030f3718243dc?s=128&d=identicon&r=PG&f=1", "display_name": "Colin Knueppel", "link": "https://stackoverflow.com/users/3868877/colin-knueppel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 908, "favorite_count": 1, "accepted_answer_id": 34938779, "answer_count": 3, "score": 0, "last_activity_date": 1453904654, "creation_date": 1453323912, "last_edit_date": 1495539850, "question_id": 34910494, "link": "https://stackoverflow.com/questions/34910494/maya-python-embed-zip-file-into-maya-file", "title": "Maya Python - Embed zip file into maya file?", "body": "<p>This was a suggestion from another stack thread that I'm finally getting back to. It was part of a discussion about how to embed tools into a maya file.</p>\n\n<blockquote>\n  <p>You can write the whole thing as a python package, zip it, then stuff the binary contents of the zip file into a fileInfo. When you need to code, look for it in the user's $MAYA_APP_DIR; if there's no zip, write the contents of the fileInfo to disk as a zip and then insert the zip into sys.path</p>\n</blockquote>\n\n<p>Source discussions were: \n<a href=\"https://stackoverflow.com/questions/32574334/python-copy-scripts-into-script\">python copy scripts into script</a>\nand <a href=\"https://stackoverflow.com/questions/32631910/maya-python-create-and-use-zipped-package\">Maya Python Create and Use Zipped Package?</a></p>\n\n<p>So far the programming is going okay, but I think I hit a snag. When I attempt this:</p>\n\n<pre><code>with open(\"..directory/myZip.zip\",\"rb\") as file:\n    cmds.fileInfo(\"myZip\", file.read())\n</code></pre>\n\n<p>..and then I..</p>\n\n<pre><code>print cmds.fileInfo(\"myZip\",q=1)\n</code></pre>\n\n<p>I get</p>\n\n<blockquote>\n  <p>[u'PK\\003\\004\\024']</p>\n</blockquote>\n\n<p>which is a bad translation of the first line of gibberish when reading the zip file as a text document.</p>\n\n<p>How can I embed my zip file into my maya file as binary?</p>\n\n<p>====================</p>\n\n<p>Update:\nMaya doesn't like writing to the file as a direct read of the utf-8 encoded zip file. I found various methods of making it into an acceptable string that could be written, but the decoding back to the file didn't appear to work. I see now that Theodox's suggestion was to write it to binary and put that in the fileInfo node.</p>\n\n<p>How can one encode, store and then decode to write to file later?</p>\n\n<p>If I were to convert to binary using for instance:</p>\n\n<pre><code>' '.join(format(ord(x), 'b') for x in line)\n</code></pre>\n\n<p>What code would I need to turn that back into the original utf-8 zip information?</p>\n"}, {"tags": ["python", "mysql", "shared-hosting"], "comments": [{"owner": {"reputation": 376, "user_id": 4825844, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0dad0431f5653ec478b78317bcbde748?s=128&d=identicon&r=PG&f=1", "display_name": "deltashade", "link": "https://stackoverflow.com/users/4825844/deltashade"}, "edited": false, "score": 0, "creation_date": 1453323892, "post_id": 34910432, "comment_id": 57556628, "body": "please provide code first, only afterwards we can help you. I understand if you do not want to share the user/pass of the db, but still provide the code with those as variables. Thanks"}, {"owner": {"reputation": 1223, "user_id": 4518057, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/VKFF6.jpg?s=128&g=1", "display_name": "DonutGaz", "link": "https://stackoverflow.com/users/4518057/donutgaz"}, "edited": false, "score": 0, "creation_date": 1453324280, "post_id": 34910432, "comment_id": 57556863, "body": "Updated, I apologize. I was in a rush."}, {"owner": {"reputation": 35130, "user_id": 1255289, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/5ed02658b2440179f00eeff8beb7aa4c?s=128&d=identicon&r=PG", "display_name": "miken32", "link": "https://stackoverflow.com/users/1255289/miken32"}, "edited": false, "score": 0, "creation_date": 1453324490, "post_id": 34910432, "comment_id": 57556981, "body": "Any user can run a cron job. If you aren&#39;t root you probably can&#39;t open up the firewall or enable networking in MySQL&#39;s configuration file."}], "answers": [{"tags": [], "owner": {"reputation": 1752, "user_id": 1760335, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83fa9f50c53a4b905db585e3fe2d26e2?s=128&d=identicon&r=PG", "display_name": "Bert", "link": "https://stackoverflow.com/users/1760335/bert"}, "is_accepted": true, "score": 3, "last_activity_date": 1453325123, "creation_date": 1453325123, "answer_id": 34910870, "question_id": 34910432, "link": "https://stackoverflow.com/questions/34910432/how-to-access-mysql-database-on-a-bluehost-server-remotely-through-python/34910870#34910870", "title": "How to access MySQL Database on a Bluehost server remotely through Python", "body": "<p>You have to enable access for the IP address of the computer you are trying to access the server from. By default the database server doesn't allow outside connections. You'll do this by logging into your host (Bluehost)</p>\n\n<ol>\n<li>Log into cPanel and click the Remote MySQL icon, under Databases.</li>\n<li>Type in the connecting IP address, and click the Add Host button.</li>\n<li>Click Add, and you should now be able to connect remotely to your\ndatabase.</li>\n</ol>\n"}], "owner": {"reputation": 1223, "user_id": 4518057, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/VKFF6.jpg?s=128&g=1", "display_name": "DonutGaz", "link": "https://stackoverflow.com/users/4518057/donutgaz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3812, "favorite_count": 0, "accepted_answer_id": 34910870, "answer_count": 1, "score": 1, "last_activity_date": 1502272721, "creation_date": 1453323689, "last_edit_date": 1502272721, "question_id": 34910432, "link": "https://stackoverflow.com/questions/34910432/how-to-access-mysql-database-on-a-bluehost-server-remotely-through-python", "title": "How to access MySQL Database on a Bluehost server remotely through Python", "body": "<p>I currently have a Python connector script that I run on my Bluehost server locally. In the past, I've tried to run this script remotely, i.e. login remotely with the Python script on my own local machine, but I ended up just running it on the server. In my current situation, I need to run a script every 10 minutes on the server, but I don't have root access, so I can't create a cron job. I can, however, set up a Windows task to run my script every 10 minutes remotely, but when I try, I'm unable to connect to my domain's database. Is there any documentation or work around for this?</p>\n\n<p>Here's my code for connecting to the database remotely:</p>\n\n<pre><code>cnx = mysql.connector.connect(user='database_user', \n    password='database_password',\n    host='www.example.com', \n    database='database_name')\n</code></pre>\n\n<p>When I try to use this script remotely, I get the following error message:</p>\n\n<pre><code>InterfaceError: 2003: Can't connect to the MySQL server on 'example.com:3306' \n(10061 No connection could be made because the target machine actively refused it)\n</code></pre>\n"}, {"tags": ["python", "theano"], "comments": [{"owner": {"reputation": 31975, "user_id": 127480, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/e30eaf17e40708aa4ef81be518564572?s=128&d=identicon&r=PG", "display_name": "Daniel Renshaw", "link": "https://stackoverflow.com/users/127480/daniel-renshaw"}, "edited": false, "score": 0, "creation_date": 1453327465, "post_id": 34910327, "comment_id": 57558637, "body": "In your example <code>x()</code> has no effect on the Theano computation (it doesn&#39;t change any shared variables and its result is not used in computing any of the outputs from the scan step function); is this representative of what you want to do?"}, {"owner": {"reputation": 41, "user_id": 4332827, "user_type": "registered", "profile_image": "https://graph.facebook.com/100003205861443/picture?type=large", "display_name": "Chao Ding", "link": "https://stackoverflow.com/users/4332827/chao-ding"}, "reply_to_user": {"reputation": 31975, "user_id": 127480, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/e30eaf17e40708aa4ef81be518564572?s=128&d=identicon&r=PG", "display_name": "Daniel Renshaw", "link": "https://stackoverflow.com/users/127480/daniel-renshaw"}, "edited": false, "score": 0, "creation_date": 1453329020, "post_id": 34910327, "comment_id": 57559382, "body": "@DanielRenshaw I wanted to output i, but the i will not be changed with the scan."}], "owner": {"reputation": 41, "user_id": 4332827, "user_type": "registered", "profile_image": "https://graph.facebook.com/100003205861443/picture?type=large", "display_name": "Chao Ding", "link": "https://stackoverflow.com/users/4332827/chao-ding"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 39, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1497494441, "creation_date": 1453323279, "question_id": 34910327, "link": "https://stackoverflow.com/questions/34910327/how-can-theano-scan-execute-external-code", "title": "How can theano.scan execute external code", "body": "<p>We know that theano scan compile and execute the code with it's code in the symbolic graph. How to execute external (or irrelevant) code, for example:</p>\n\n<pre><code>i=0\ndef x():\n    global i\n    i=i+1\n\ndef power_of_2(previous_power, max_value):\n    x()\n    return [previous_power*2,i], theano.scan_module.until(previous_power*2 &gt; max_value)\n\nmax_value = T.scalar()\n[values, v],_ = theano.scan(power_of_2,\n                        outputs_info = [T.constant(1.),None],\n                        non_sequences = max_value,\n                        n_steps = 1024)\n\nf = theano.function([max_value], [values,v])\n\nprint (f(45))\n</code></pre>\n\n<p>The problem is, x() will not be executed. How to solve it?</p>\n"}, {"tags": ["python", "postgresql", "python-3.x"], "answers": [{"tags": [], "owner": {"reputation": 957, "user_id": 2536357, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TyZE9.png?s=128&g=1", "display_name": "tuned", "link": "https://stackoverflow.com/users/2536357/tuned"}, "is_accepted": false, "score": 0, "last_activity_date": 1453331671, "creation_date": 1453331671, "answer_id": 34912471, "question_id": 34910289, "link": "https://stackoverflow.com/questions/34910289/psycopg2-not-commiting-changes/34912471#34912471", "title": "Psycopg2 not commiting changes", "body": "<pre><code>psycopg2.DataError: invalid input syntax for integer: \"6\u20ac\"\n</code></pre>\n\n<p>In this case your data is evidently not an integer so <code>psycopg2</code> cannot store \u20ac into a <code>Integer</code> column. If you replace a string with an integer, then you can store the result in an Integer column, otherwise the result of the <code>replace</code> function is not an integer thus it throws error at the time of storing the value.</p>\n\n<pre><code>#!/bin/bash\npsql -U name-d pass-c \"UPDATE bazos_ads SET price = replace(price, 'Zadarmo', '-5')\"\n</code></pre>\n\n<p>This works because you replace a string with <code>-5</code> that is an Integer for Postgre typing and can be properly stored in the target column.</p>\n"}], "owner": {"reputation": 215, "user_id": 5687084, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/5bf2119ee131e6cd339033d253a0648a?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Jung", "link": "https://stackoverflow.com/users/5687084/peter-jung"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 189, "favorite_count": 2, "answer_count": 1, "score": 1, "last_activity_date": 1453331671, "creation_date": 1453323158, "last_edit_date": 1453325580, "question_id": 34910289, "link": "https://stackoverflow.com/questions/34910289/psycopg2-not-commiting-changes", "title": "Psycopg2 not commiting changes", "body": "<p>This is my code:</p>\n\n<pre><code>conn = psycopg2.connect(\"dbname='%s' user='%s' host='%s' password='%s' port='%s'\" % (db, user, server, password, port))\ncursor = conn.cursor()\ncursor.execute(\"UPDATE bazos_ads SET price = replace(price, 'Zadarmo', '-5')\")\ncursor.execute(\"UPDATE bazos_ads SET price = replace(price, 'Nerozhoduje', '-4')\")\ncursor.execute(\"UPDATE bazos_ads SET price = replace(price, 'Pon\u00faknite', '-3')\")\ncursor.execute(\"UPDATE bazos_ads SET price = replace(price, 'Dohodou', '-2')\")\ncursor.execute(\"UPDATE bazos_ads SET price = replace(price, 'V texte', '-1')\")\ncursor.execute(\"UPDATE bazos_ads SET price = replace(price, '\u20ac', '')\")\ncursor.execute(\"UPDATE bazos_ads SET price = replace(price, ' ', '')\")\n\ncursor.execute(\"TRUNCATE infinity_ads\")\nconn.commit()\n\ncursor.execute('INSERT INTO infinity_ads (site,category,link,number,image,title,info,price,date,locality) SELECT site,category,link,number::integer,image,title,info,price::integer,date::date,locality FROM bazos_ads')\ncursor.execute(\"TRUNCATE bazos_ads\")\nconn.commit()\nconn.close()\n</code></pre>\n\n<p>I need to modify columns in database with TextFields so I am able to copy them into second database with specified column types (Integrer in this case). If I copy those SQLs and run them one-by-one in PSQL it works just fine. But if I try to run this code in python I get this error messagge:</p>\n\n<pre><code>psycopg2.DataError: invalid input syntax for integer: \"6\u20ac\"\n</code></pre>\n\n<p>So I guess psycopg2 is not commiting changes or there is another problem with replacing \u20ac symbol, but I can not figure it out because in PSQL it works OK.</p>\n\n<p>EDIT: I still cant find solution but at least this work:</p>\n\n<pre><code>#!/bin/bash\npsql -U name-d pass-c \"UPDATE bazos_ads SET price = replace(price, 'Zadarmo', '-5')\"\n...\n</code></pre>\n"}, {"tags": ["python", "pandas", "memory-management", "itertools"], "answers": [{"comments": [{"owner": {"reputation": 209, "user_id": 3861804, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/0103266850ff62f24af1aeafc02715fc?s=128&d=identicon&r=PG&f=1", "display_name": "prasad", "link": "https://stackoverflow.com/users/3861804/prasad"}, "edited": false, "score": 0, "creation_date": 1453325001, "post_id": 34910674, "comment_id": 57557260, "body": "Yes I am trying to create stepped waveform and do various calculation based on it."}, {"owner": {"reputation": 34745, "user_id": 1494637, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/a50559f059e0621b4f543bcda9aad0a6?s=128&d=identicon&r=PG&f=1", "display_name": "Stefan", "link": "https://stackoverflow.com/users/1494637/stefan"}, "reply_to_user": {"reputation": 209, "user_id": 3861804, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/0103266850ff62f24af1aeafc02715fc?s=128&d=identicon&r=PG&f=1", "display_name": "prasad", "link": "https://stackoverflow.com/users/3861804/prasad"}, "edited": false, "score": 1, "creation_date": 1453325356, "post_id": 34910674, "comment_id": 57557467, "body": "With<code>dtype</code>  <code>float64</code>, it would probably take at least 4,294,967,296 * 64 * 2 / (8 * 1024) ~ 67GB of memory."}, {"owner": {"reputation": 209, "user_id": 3861804, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/0103266850ff62f24af1aeafc02715fc?s=128&d=identicon&r=PG&f=1", "display_name": "prasad", "link": "https://stackoverflow.com/users/3861804/prasad"}, "edited": false, "score": 0, "creation_date": 1453326011, "post_id": 34910674, "comment_id": 57557812, "body": "Yes. You are right. Infact even though i create this table storing them in excel is not possible as excel can&#39;t store more than 1,048,576 rows."}, {"owner": {"reputation": 209, "user_id": 3861804, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/0103266850ff62f24af1aeafc02715fc?s=128&d=identicon&r=PG&f=1", "display_name": "prasad", "link": "https://stackoverflow.com/users/3861804/prasad"}, "edited": false, "score": 0, "creation_date": 1453326045, "post_id": 34910674, "comment_id": 57557829, "body": "I appreciate your prompt support."}, {"owner": {"reputation": 34745, "user_id": 1494637, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/a50559f059e0621b4f543bcda9aad0a6?s=128&d=identicon&r=PG&f=1", "display_name": "Stefan", "link": "https://stackoverflow.com/users/1494637/stefan"}, "reply_to_user": {"reputation": 209, "user_id": 3861804, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/0103266850ff62f24af1aeafc02715fc?s=128&d=identicon&r=PG&f=1", "display_name": "prasad", "link": "https://stackoverflow.com/users/3861804/prasad"}, "edited": false, "score": 0, "creation_date": 1453327864, "post_id": 34910674, "comment_id": 57558838, "body": "You&#39;re welcome. Just let me know if you need any further detail of if you find the answer acceptable."}], "tags": [], "owner": {"reputation": 34745, "user_id": 1494637, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/a50559f059e0621b4f543bcda9aad0a6?s=128&d=identicon&r=PG&f=1", "display_name": "Stefan", "link": "https://stackoverflow.com/users/1494637/stefan"}, "is_accepted": true, "score": 2, "last_activity_date": 1453324490, "creation_date": 1453324490, "answer_id": 34910674, "question_id": 34910283, "link": "https://stackoverflow.com/questions/34910283/memory-errors-with-itertools-and-pandas/34910674#34910674", "title": "Memory errors with itertools and pandas?", "body": "<p>With <code>power=16</code> and <code>itertools.product</code> (yielding the <code>cartesian product</code>), you are creating a list of <code>(2*2)^16=4,294,967,296</code> <code>tuples</code>, or <code>rows</code> in your <code>DataFrame</code>. Do you want that long a sequence?</p>\n\n<pre><code>power = 16\nfor i in range(power):\n    Temp = np.linspace(-5, 5, pow(2, i))\n    df = pd.DataFrame([Temp] * 2, index=['ColA','ColB']).T\n    print(i, len(df), len(list(product(df.ColA, df.ColB))))\n\n0 1 1\n1 2 4\n2 4 16\n3 8 64\n4 16 256\n5 32 1024\n6 64 4096\n7 128 16384\n8 256 65536\n9 512 262144\n10 1024 1048576\n11 2048 4194304\n12 4096 16777216\n13 8192 67108864\n14 16384 268435456\n...\n</code></pre>\n"}], "owner": {"reputation": 209, "user_id": 3861804, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/0103266850ff62f24af1aeafc02715fc?s=128&d=identicon&r=PG&f=1", "display_name": "prasad", "link": "https://stackoverflow.com/users/3861804/prasad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 124, "favorite_count": 0, "accepted_answer_id": 34910674, "answer_count": 1, "score": 0, "last_activity_date": 1453324490, "creation_date": 1453323142, "last_edit_date": 1453323220, "question_id": 34910283, "link": "https://stackoverflow.com/questions/34910283/memory-errors-with-itertools-and-pandas", "title": "Memory errors with itertools and pandas?", "body": "<p>I am trying to generate following stepped sequence pattern but python throws \n<strong>MemoryError</strong>   </p>\n\n<pre><code>import numpy as np\nimport pandas as pd\nimport itertools\n\nTemp = np.linspace(-5,5,pow(2,16))\n\ndf = pd.DataFrame([Temp*2] , index=['ColA','ColB']).T\n\nprint df\n\ndf2 = pd.DataFrame([e for e in itertools.product(df.ColA,df.ColB)],columns=df.columns)\n\nprint df2\n</code></pre>\n\n<p><strong><em>Errors</em></strong> </p>\n\n<pre><code>df2 = pd.DataFrame([e for e in itertools.product(df.ColA,df.ColB)],columns=df.columns)\nMemoryError\n</code></pre>\n\n<p>Please let me know how I can fix this?</p>\n"}, {"tags": ["python", "file", "class", "import", "subclass"], "comments": [{"owner": {"reputation": 118102, "user_id": 4952130, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/kKQZw.png?s=128&g=1", "display_name": "Dimitris Fasarakis Hilliard", "link": "https://stackoverflow.com/users/4952130/dimitris-fasarakis-hilliard"}, "edited": false, "score": 0, "creation_date": 1453323113, "post_id": 34910263, "comment_id": 57556219, "body": "Without providing code, this question is just a really <i>ugly and unreadable</i> list. Try and edit and provide something we can all work with."}, {"owner": {"reputation": 7130, "user_id": 1429073, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6cf3963f7758df3b57542c790e598630?s=128&d=identicon&r=PG&f=1", "display_name": "DevLounge", "link": "https://stackoverflow.com/users/1429073/devlounge"}, "edited": false, "score": 1, "creation_date": 1453323240, "post_id": 34910263, "comment_id": 57556283, "body": "I would create 2 mixins classes, 1 for importing file type a and the other one for file type b and add them to the subclasses accordingly"}, {"owner": {"reputation": 5116, "user_id": 3254859, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/mGMef.jpg?s=128&g=1", "display_name": "Chris Mueller", "link": "https://stackoverflow.com/users/3254859/chris-mueller"}, "reply_to_user": {"reputation": 7130, "user_id": 1429073, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6cf3963f7758df3b57542c790e598630?s=128&d=identicon&r=PG&f=1", "display_name": "DevLounge", "link": "https://stackoverflow.com/users/1429073/devlounge"}, "edited": false, "score": 1, "creation_date": 1453324001, "post_id": 34910263, "comment_id": 57556682, "body": "@Apero I wasn&#39;t familiar with mixins; that essentially answers my question.  Thanks!"}, {"owner": {"reputation": 5116, "user_id": 3254859, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/mGMef.jpg?s=128&g=1", "display_name": "Chris Mueller", "link": "https://stackoverflow.com/users/3254859/chris-mueller"}, "reply_to_user": {"reputation": 118102, "user_id": 4952130, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/kKQZw.png?s=128&g=1", "display_name": "Dimitris Fasarakis Hilliard", "link": "https://stackoverflow.com/users/4952130/dimitris-fasarakis-hilliard"}, "edited": false, "score": 0, "creation_date": 1453324118, "post_id": 34910263, "comment_id": 57556752, "body": "@Jim For the large number of subclasses, the skeleton code I was initially writing felt much less readable than this list, but perhaps I was mistaken.  At any rate, Apero&#39;s comment essentially answers my question."}, {"owner": {"reputation": 118102, "user_id": 4952130, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/kKQZw.png?s=128&g=1", "display_name": "Dimitris Fasarakis Hilliard", "link": "https://stackoverflow.com/users/4952130/dimitris-fasarakis-hilliard"}, "edited": false, "score": 0, "creation_date": 1453324243, "post_id": 34910263, "comment_id": 57556838, "body": "That&#39;s understandable, I guess. I hope I didn&#39;t offend you by judging yo list-creating skillz. Anyway, if you can provide a good answer to this question, do so (but <i>no big complex lists!</i>). If not, you can always delete the whole Q. :-)"}], "answers": [{"tags": [], "owner": {"reputation": 7130, "user_id": 1429073, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6cf3963f7758df3b57542c790e598630?s=128&d=identicon&r=PG&f=1", "display_name": "DevLounge", "link": "https://stackoverflow.com/users/1429073/devlounge"}, "is_accepted": true, "score": 1, "last_activity_date": 1453325235, "last_edit_date": 1453325235, "creation_date": 1453324409, "answer_id": 34910645, "question_id": 34910263, "link": "https://stackoverflow.com/questions/34910263/defining-subclasses-with-common-import-methods/34910645#34910645", "title": "Defining subclasses with common import methods", "body": "<p>Use 2 mixin classes:</p>\n\n<pre><code>class FileTypeAMixin:\n    &lt;logic&gt;\n\nclass FileTypeBMixin:\n    &lt;logic&gt;\n\nclass Parent:\n    &lt;logic&gt;\n\nclass Child1(Parent):\n    &lt;logic&gt;\n\nclass Child2(Parent):\n    &lt;logic&gt;\n\nclass Child1GrandChild1(FileTypeAMixin, Child1):\n    &lt;logic&gt;\n\nclass Child1GrandChild2(FileTypeBMixin, Child1):\n    &lt;logic&gt;\n\nclass Child2GrandChild1(FileTypeAMixin, Child2):\n    &lt;logic&gt;\n\nclass Child2GrandChild2(FileTypeBMixin, Child2):\n    &lt;logic&gt;\n</code></pre>\n\n<p><strong>EDIT</strong>\nAs pointed out by the OP, it is recommended to always put the mixins before the parent classes, in order to prevent strange <code>MRO</code> behavior when calling <code>super()</code> in case each of the parent classes/mixins have the same methods implemented.</p>\n"}], "owner": {"reputation": 5116, "user_id": 3254859, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/mGMef.jpg?s=128&g=1", "display_name": "Chris Mueller", "link": "https://stackoverflow.com/users/3254859/chris-mueller"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "accepted_answer_id": 34910645, "answer_count": 1, "score": 1, "last_activity_date": 1453325235, "creation_date": 1453323050, "question_id": 34910263, "link": "https://stackoverflow.com/questions/34910263/defining-subclasses-with-common-import-methods", "title": "Defining subclasses with common import methods", "body": "<p>I have been building a python image processing module for working with images related to laser beams.  The images differ in their content (laser beam image, scattered light image, etc.) and the file types differ based on the instrument used to capture the images.  But any one of the file types may contain any one of the content types.  </p>\n\n<p>The structure of the module currently is </p>\n\n<ul>\n<li><strong>Parent Class:</strong> contains methods common to all types of content\n\n<ul>\n<li><strong>Child Class 1:</strong> contains methods useful for content type 1\n\n<ul>\n<li><strong>Grandchild Class 1:</strong> only an <code>__init__()</code> statement for importing file type a</li>\n<li><strong>Grandchild Class 2:</strong> only an <code>__init__()</code> statement for importing file type b</li>\n</ul></li>\n<li><strong>Child Class 2:</strong> contains methods useful for content type 2\n\n<ul>\n<li><strong>Grandchild Class 1:</strong> only an <code>__init__()</code> statement for importing file type a</li>\n<li><strong>Grandchild Class 2:</strong> only an <code>__init__()</code> statement for importing file type b</li>\n</ul></li>\n</ul></li>\n</ul>\n\n<p>The issue is that the grandchildren classes are essentially identical because they contain code for importing different types of files which may contain content from either child class.  </p>\n\n<p><strong>Is there a more elegant/pythonic way to do this?</strong></p>\n\n<hr>\n\n<p>I should note that the different file types require different pre-processing, so the solution is not as simple as using e.g. PIL which can recognize the standard image file extensions.  </p>\n"}, {"tags": ["python", "import"], "comments": [{"owner": {"reputation": 19530, "user_id": 2823755, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vCEUU.png?s=128&g=1", "display_name": "wwii", "link": "https://stackoverflow.com/users/2823755/wwii"}, "edited": false, "score": 0, "creation_date": 1453324318, "post_id": 34910228, "comment_id": 57556882, "body": "did you import <code>enemies.py</code> into <code>grail.py</code>? If so, add an argument to the functions, <code>def frenchman(thing): ...</code> then in the class pass <code>self</code> as the argument.  In the functions, operate on <code>thing</code> - <code>thing.number = 1 ...</code>."}], "answers": [{"tags": [], "owner": {"reputation": 71233, "user_id": 837534, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f3782b004830f622e19029e5f7fc146?s=128&d=identicon&r=PG", "display_name": "Mike M&#252;ller", "link": "https://stackoverflow.com/users/837534/mike-m%c3%bcller"}, "is_accepted": true, "score": 2, "last_activity_date": 1453325949, "last_edit_date": 1453325949, "creation_date": 1453324132, "answer_id": 34910562, "question_id": 34910228, "link": "https://stackoverflow.com/questions/34910228/change-objects-variable-from-different-file/34910562#34910562", "title": "Change object&#39;s variable from different file", "body": "<h2>Problem</h2>\n\n<p>You need to hand over the object as argument.</p>\n\n<p>In the function:</p>\n\n<pre><code>def knightofni(obj):\n    obj.number = 1\n    obj.who = \"We've encountered Knight of Ni.\"\n</code></pre>\n\n<p>and when using it in the class:</p>\n\n<pre><code>enemies.knightofni(self)\n</code></pre>\n\n<p>Do the same for <code>frenchman()</code>.</p>\n\n<h2>Full code</h2>\n\n<p><code>grail.py</code></p>\n\n<pre><code>import enemies\n\nclass Encounter:\n    def __init__(self):\n        self.counter = 1\n        self.number = 0\n        self.who = \"We've encountered no one.\"\n\n    def forward(self):\n        if self.counter == 1:\n            enemies.knightofni(self)\n        elif self.counter == 2:\n            enemies.frenchman(self)\n        else:\n            self.number = 42\n            self.who = \"We've found the Grail!\"\n        self.counter += 1\n\nknight = Encounter()\nfor i in range(4):\n    print(str(knight.number) + \" \" + knight.who)\n    knight.forward()\n</code></pre>\n\n<p>and <code>enemies.py</code>:</p>\n\n<pre><code>def knightofni(obj):\n    obj.number = 1\n    obj.who = \"We've encountered Knight of Ni.\"\n\ndef frenchman(obj):\n    obj.number = 4\n    obj.who = \"We've encountered French.\"\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>0 We've encountered no one.\n1 We've encountered Knight of Ni.\n4 We've encountered French.\n42 We've found the Grail!\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 45, "user_id": 1880697, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9fe6a8b39912e72f91dd0d677f6912c4?s=128&d=identicon&r=PG", "display_name": "m_i-k_i", "link": "https://stackoverflow.com/users/1880697/m-i-k-i"}, "edited": false, "score": 0, "creation_date": 1453324960, "post_id": 34910575, "comment_id": 57557243, "body": "I want it to be possible to add other &quot;enemies&quot; without making lengthy code in this place (so &quot;forward()&quot; is kind of a wrapper, place where it is decided what to do in different situations). It is also more readable if this functions are in different file. Think of situation where there would be 100 &quot;enemies&quot; and each would need to change 100 variables which are lists with 1M entries each. Is there a better way than putting &quot;enemies&quot; into other file and changing variables directly in the file?"}, {"owner": {"reputation": 4956, "user_id": 2336149, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f5ef400a9c3a7d784a21d66809f2c4ac?s=128&d=identicon&r=PG", "display_name": "mr2ert", "link": "https://stackoverflow.com/users/2336149/mr2ert"}, "reply_to_user": {"reputation": 45, "user_id": 1880697, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9fe6a8b39912e72f91dd0d677f6912c4?s=128&d=identicon&r=PG", "display_name": "m_i-k_i", "link": "https://stackoverflow.com/users/1880697/m-i-k-i"}, "edited": false, "score": 0, "creation_date": 1453328956, "post_id": 34910575, "comment_id": 57559351, "body": "@m_i-k_i Hmm, if that data is that unusually large I understand."}], "tags": [], "owner": {"reputation": 4956, "user_id": 2336149, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f5ef400a9c3a7d784a21d66809f2c4ac?s=128&d=identicon&r=PG", "display_name": "mr2ert", "link": "https://stackoverflow.com/users/2336149/mr2ert"}, "is_accepted": false, "score": 0, "last_activity_date": 1453324180, "creation_date": 1453324180, "answer_id": 34910575, "question_id": 34910228, "link": "https://stackoverflow.com/questions/34910228/change-objects-variable-from-different-file/34910575#34910575", "title": "Change object&#39;s variable from different file", "body": "<p>It is possible to do this, though I don't know why you would really want to do it this way.</p>\n\n<p>In your <code>forward</code> and <code>__init__</code> methods you'll notice that you are passing in <code>self</code>, which is the instance of <code>Encounter</code> you are operating on.  That is why you can do <code>self.number = 42</code> and get the correct number when you call <code>knight.number</code>.</p>\n\n<p>Since <code>self</code> is just an object you can pass it into the functions in 'enemies.py'.</p>\n\n<p>Try:</p>\n\n<pre><code># grail.py\ndef forward(self):\n    if self.counter == 1:\n        enemies.knightofni(self)\n    elif self.counter == 2:\n        enemies.frenchman(self)\n    else:\n        self.number = 42\n        self.who = \"We've found the Grail!\"\n    self.counter += 1\n\n#enemies.py\ndef knightofni(that):\n    that.number = 1\n    that.who = \"We've encountered Knight of Ni.\"\n\ndef frenchman(that):\n    that.number = 4\n    that.who = \"We've encountered French.\"\n</code></pre>\n"}], "owner": {"reputation": 45, "user_id": 1880697, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9fe6a8b39912e72f91dd0d677f6912c4?s=128&d=identicon&r=PG", "display_name": "m_i-k_i", "link": "https://stackoverflow.com/users/1880697/m-i-k-i"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "accepted_answer_id": 34910562, "answer_count": 2, "score": 1, "last_activity_date": 1453325949, "creation_date": 1453322931, "last_edit_date": 1592644375, "question_id": 34910228, "link": "https://stackoverflow.com/questions/34910228/change-objects-variable-from-different-file", "title": "Change object&#39;s variable from different file", "body": "<p>I want to access object (specifically its variables) from functions defined in different file. Let's see an example:</p>\n<p>File 1 - <code>grail.py</code></p>\n<pre><code>import enemies\n\nclass Encounter:\n    def __init__(self):\n        self.counter = 1\n        self.number = 0\n        self.who = &quot;We've encountered no one.&quot;\n\n    def forward(self):\n        if self.counter == 1:\n            enemies.knightofni()\n        elif self.counter == 2:\n            enemies.frenchman()\n        else:\n            self.number = 42\n            self.who = &quot;We've found the Grail!&quot;\n        self.counter += 1\n\nknight = Encounter()\nfor i in range(4):\n    print(str(knight.number) + &quot; &quot; + knight.who)\n    knight.forward()\n</code></pre>\n<p>File 2 - <code>enemies.py</code> (I probably need something in this file)</p>\n<pre><code>def knightofni():\n    Object.number = 1\n    Object.who = &quot;We've encountered Knight of Ni.&quot;\n\ndef frenchman():\n    Object.number = 4\n    Object.who = &quot;We've encountered French.&quot;\n</code></pre>\n<p>Output should show:</p>\n<pre><code>0 We've encountered no one.\n1 We've encountered Knight of Ni.\n4 We've encountered French.\n42 We've found the Grail!\n</code></pre>\n<p>I know you can achieve the output by returning something from functions in file <code>enemies.py</code>, for example function <code>frenchman()</code> could look like:</p>\n<pre><code>def frenchman():\n    return [4, &quot;We've encountered French.&quot;]\n</code></pre>\n<p>and in <code>grail.py</code> I should change code to collect what the <code>frenchman()</code> returns:</p>\n<pre><code>...\n        elif self.counter == 2:\n            spam = enemies.frenchman()\n            self.number = spam[0]\n            self.who = spam[1]\n...\n</code></pre>\n<p>but it uses additional resources, makes the code longer, and more cumbersome in more complicated situations.</p>\n<p>Is there a way to do the job directly on the object's variables but keeping functions in separate file?</p>\n<p>EDIT\nThere are already answers to this question but maybe I will add clarification seeing doubt in one of the answers (citing comment to this answer):</p>\n<blockquote>\n<p>I want it to be possible to add other &quot;enemies&quot; without making lengthy code in this place (so <code>forward()</code> is kind of a wrapper, place where it is decided what to do in different situations). It is also more readable if this functions are in different file.</p>\n<p>Think of situation where there would be 100 &quot;enemies&quot; and each would need to change 100 variables which are lists with 1M entries each. Is there a better way than putting &quot;enemies&quot; into other file and changing variables directly in the file?</p>\n</blockquote>\n"}, {"tags": ["python", "gcc"], "answers": [{"tags": [], "owner": {"reputation": 2119, "user_id": 469718, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/61631f8c2dec374fd3fd30a3cb7b50ce?s=128&d=identicon&r=PG", "display_name": "kisna", "link": "https://stackoverflow.com/users/469718/kisna"}, "is_accepted": false, "score": 2, "last_activity_date": 1453324482, "last_edit_date": 1453324482, "creation_date": 1453323850, "answer_id": 34910473, "question_id": 34910227, "link": "https://stackoverflow.com/questions/34910227/python-setup-py-egg-info-gcc-error-installing-cassandra-python/34910473#34910473", "title": "python setup.py egg_info gcc error installing cassandra python", "body": "<p>Typed enter too early, missed gcc library and got carried away by similar posts.</p>\n\n<pre><code>/tmp/easy_install-N19BCp/Cython-0.23.4/Cython/Plex/Scanners.c:4:20: fatal error: Python.h: No such file or directory\n #include \"Python.h\"\n                    ^\ncompilation terminated.\nUnable to find pgen, not compiling formal grammar.\nTraceback (most recent call last):\n</code></pre>\n\n<p>Then python-devel solved the problem.</p>\n\n<pre><code>install yum install python-devel\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4257, "user_id": 2407363, "user_type": "registered", "accept_rate": 28, "profile_image": "https://i.stack.imgur.com/JOzMf.jpg?s=128&g=1", "display_name": "Kemin Zhou", "link": "https://stackoverflow.com/users/2407363/kemin-zhou"}, "is_accepted": false, "score": 0, "last_activity_date": 1462412669, "creation_date": 1462412669, "answer_id": 37040966, "question_id": 34910227, "link": "https://stackoverflow.com/questions/34910227/python-setup-py-egg-info-gcc-error-installing-cassandra-python/37040966#37040966", "title": "python setup.py egg_info gcc error installing cassandra python", "body": "<p>I am working inside docker so prefixed the 'RUN'. On real systems, you will need to use sudo in place of RUN. Sometimes, the pip is tool old. In my case it was 7.x so I also upgraded it. cython depends on python-devel</p>\n\n<pre><code>RUN pip install --upgrade pip\nRUN yum -y install python-devel\nRUN pip install cython\n</code></pre>\n"}], "owner": {"reputation": 2119, "user_id": 469718, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/61631f8c2dec374fd3fd30a3cb7b50ce?s=128&d=identicon&r=PG", "display_name": "kisna", "link": "https://stackoverflow.com/users/469718/kisna"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 901, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1462412669, "creation_date": 1453322930, "question_id": 34910227, "link": "https://stackoverflow.com/questions/34910227/python-setup-py-egg-info-gcc-error-installing-cassandra-python", "title": "python setup.py egg_info gcc error installing cassandra python", "body": "<p>For some reason, the specific version that I need to install manually cannot be accessed directly:</p>\n\n<blockquote>\n<pre><code>  rpm -i ftp://195.220.108.108/linux/centos/7.1.1503/updates/x86_64/Packages/python-2.7.5-18.el7_1.1.x86_64.rpm\n</code></pre>\n</blockquote>\n\n<p>So tried a brand new installation of python, then tried updating and installing setup tools</p>\n\n<blockquote>\n<pre><code>yum -y update\nyum -y install python-pip\npip install -U pip\npip install -U setuptools\npip install cassandra-driver\nyum install patch\n</code></pre>\n</blockquote>\n\n<p>then tried</p>\n\n<blockquote>\n<pre><code>  wget https://bitbucket.org/pypa/setuptools/raw/bootstrap/ez_setup.py\n  python ez_setup.py\n  pip install cassandra-driver\n</code></pre>\n</blockquote>\n\n<p>Full stacktrace</p>\n\n<pre><code>[root@d8174406546b cassandradump]# pip install cassandra-driver\nCollecting cassandra-driver\n/usr/lib/python2.7/site-packages/pip/_vendor/requests/packages/urllib3/util/ssl_.py:315: SNIMissingWarning: An HTTPS request has been made, but the SNI (Subject\n Name Indication) extension to TLS is not available on this platform. This may cause the server to present an incorrect TLS certificate, which can cause validat\nion failures. For more information, see https://urllib3.readthedocs.org/en/latest/security.html#snimissingwarning.\n  SNIMissingWarning\n/usr/lib/python2.7/site-packages/pip/_vendor/requests/packages/urllib3/util/ssl_.py:120: InsecurePlatformWarning: A true SSLContext object is not available. Thi\ns prevents urllib3 from configuring SSL appropriately and may cause certain SSL connections to fail. For more information, see https://urllib3.readthedocs.org/e\nn/latest/security.html#insecureplatformwarning.\n  InsecurePlatformWarning\n  Using cached cassandra-driver-3.0.0.tar.gz\n    Complete output from command python setup.py egg_info:\n    warning: no files found matching '*.pyx' under directory 'Cython/Debugger/Tests'\n    warning: no files found matching '*.pxd' under directory 'Cython/Debugger/Tests'\n    warning: no files found matching '*.h' under directory 'Cython/Debugger/Tests'\n    warning: no files found matching '*.pxd' under directory 'Cython/Utility'\n    unable to execute gcc: No such file or directory\n    Unable to find pgen, not compiling formal grammar.\n    Traceback (most recent call last):\n      File \"&lt;string&gt;\", line 1, in &lt;module&gt;\n      File \"/tmp/pip-build-cP9FYQ/cassandra-driver/setup.py\", line 375, in &lt;module&gt;\n        run_setup(None)\n      File \"/tmp/pip-build-cP9FYQ/cassandra-driver/setup.py\", line 373, in run_setup\n        **kw)\n      File \"/usr/lib64/python2.7/distutils/core.py\", line 112, in setup\n        _setup_distribution = dist = klass(attrs)\n      File \"/usr/lib/python2.7/site-packages/setuptools/dist.py\", line 269, in __init__\n        self.fetch_build_eggs(attrs['setup_requires'])\n      File \"/usr/lib/python2.7/site-packages/setuptools/dist.py\", line 313, in fetch_build_eggs\n        replace_conflicting=True,\n      File \"/usr/lib/python2.7/site-packages/pkg_resources/__init__.py\", line 827, in resolve\n        dist = best[req.key] = env.best_match(req, ws, installer)\n      File \"/usr/lib/python2.7/site-packages/pkg_resources/__init__.py\", line 1072, in best_match\n        return self.obtain(req, installer)\n      File \"/usr/lib/python2.7/site-packages/pkg_resources/__init__.py\", line 1084, in obtain\n        return installer(requirement)\n      File \"/usr/lib/python2.7/site-packages/setuptools/dist.py\", line 380, in fetch_build_egg\n        return cmd.easy_install(req)\n      File \"/usr/lib/python2.7/site-packages/setuptools/command/easy_install.py\", line 640, in easy_install\n        return self.install_item(spec, dist.location, tmpdir, deps)\n      File \"/usr/lib/python2.7/site-packages/setuptools/command/easy_install.py\", line 670, in install_item\n        dists = self.install_eggs(spec, download, tmpdir)\n      File \"/usr/lib/python2.7/site-packages/setuptools/command/easy_install.py\", line 853, in install_eggs\n        return self.build_and_install(setup_script, setup_base)\n      File \"/usr/lib/python2.7/site-packages/setuptools/command/easy_install.py\", line 1081, in build_and_install\n        self.run_setup(setup_script, setup_base, args)\n      File \"/usr/lib/python2.7/site-packages/setuptools/command/easy_install.py\", line 1069, in run_setup\n        raise DistutilsError(\"Setup script exited with %s\" % (v.args[0],))\n    distutils.errors.DistutilsError: Setup script exited with error: command 'gcc' failed with exit status 1\n\n    ----------------------------------------\nCommand \"python setup.py egg_info\" failed with error code 1 in /tmp/pip-build-cP9FYQ/cassandra-driver\n</code></pre>\n"}, {"tags": ["python", ".net", "python.net"], "comments": [{"owner": {"reputation": 4957, "user_id": 2230844, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/1b0e722a4823f29c56d7a97bc6500ccc?s=128&d=identicon&r=PG", "display_name": "denfromufa", "link": "https://stackoverflow.com/users/2230844/denfromufa"}, "edited": false, "score": 1, "creation_date": 1454119937, "post_id": 34910151, "comment_id": 57916070, "body": "did you follow installation instructions here: <a href=\"http://stackoverflow.com/a/25091750/2230844\">stackoverflow.com/a/25091750/2230844</a>?"}, {"owner": {"reputation": 61, "user_id": 5023515, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-zHDeHW3dFho/AAAAAAAAAAI/AAAAAAAAAeQ/cxlEOUo6HWc/photo.jpg?sz=128", "display_name": "vincenzo gisondi", "link": "https://stackoverflow.com/users/5023515/vincenzo-gisondi"}, "reply_to_user": {"reputation": 4957, "user_id": 2230844, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/1b0e722a4823f29c56d7a97bc6500ccc?s=128&d=identicon&r=PG", "display_name": "denfromufa", "link": "https://stackoverflow.com/users/2230844/denfromufa"}, "edited": false, "score": 0, "creation_date": 1459794806, "post_id": 34910151, "comment_id": 60436365, "body": "Tank you very much Yole. I solved following this post that you suggested :)"}], "answers": [{"tags": [], "owner": {"reputation": 503, "user_id": 1614580, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1a8beef69879a463227a9c37a5227a94?s=128&d=identicon&r=PG", "display_name": "Arnold Pistorius", "link": "https://stackoverflow.com/users/1614580/arnold-pistorius"}, "is_accepted": false, "score": 2, "last_activity_date": 1454406367, "creation_date": 1454406367, "answer_id": 35149869, "question_id": 34910151, "link": "https://stackoverflow.com/questions/34910151/pythonnet-error-dynamic-module-not-initialized-properly/35149869#35149869", "title": "Pythonnet error: dynamic module not initialized properly", "body": "<p>I had this behavior too. I fixed it by installing Python.net via pip:</p>\n\n<p><code>python -m pip install pythonnet</code> (might need to run as Administrator/root)</p>\n\n<p>After installation completes you should not get any error when executing</p>\n\n<pre><code>&gt; python\n&gt; import clr\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1901, "user_id": 6411079, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/g38UR.jpg?s=128&g=1", "display_name": "MaThMaX", "link": "https://stackoverflow.com/users/6411079/mathmax"}, "is_accepted": false, "score": 1, "last_activity_date": 1465195040, "creation_date": 1465195040, "answer_id": 37650942, "question_id": 34910151, "link": "https://stackoverflow.com/questions/34910151/pythonnet-error-dynamic-module-not-initialized-properly/37650942#37650942", "title": "Pythonnet error: dynamic module not initialized properly", "body": "<p>The error happens because of that your <code>clr.pyd</code> cannot find the <code>Python.Runtime.dll</code>. Basically You have already import the <code>clr.pyd</code> successfully, but Your the <code>clr.pyd</code> cannot find the <code>Python.runtime.dll</code>. So in order to make your dll searchable, you need to add the location of your <code>Python.Runtime.dll</code> into the <code>System PATH</code>.</p>\n\n<p>Let's say you have your <code>main.py</code> which <code>import clr</code> and your <code>clr.pyd</code> and <code>Python.Runtime.dll</code> in the same directory, you will just need to add the below few lines at the beginning of your <code>main.py</code>:</p>\n\n<pre><code>import sys\nimport os\n\nsys.path.insert(0, os.path.abspath('./')) # add the current file location to sys path so that the clr module is searchable\n</code></pre>\n"}], "owner": {"reputation": 61, "user_id": 5023515, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-zHDeHW3dFho/AAAAAAAAAAI/AAAAAAAAAeQ/cxlEOUo6HWc/photo.jpg?sz=128", "display_name": "vincenzo gisondi", "link": "https://stackoverflow.com/users/5023515/vincenzo-gisondi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5626, "favorite_count": 2, "answer_count": 2, "score": 4, "last_activity_date": 1465195040, "creation_date": 1453322709, "last_edit_date": 1453333624, "question_id": 34910151, "link": "https://stackoverflow.com/questions/34910151/pythonnet-error-dynamic-module-not-initialized-properly", "title": "Pythonnet error: dynamic module not initialized properly", "body": "<p>I have Windows 7 x64 and a Python version 2.7.6 on win32.\nThe framework installed are:</p>\n\n<p>Microsoft .NET Framework 4.5.2\nMicrosoft .NET Framework 4 Multi-Targeting Pack.\nSo, when I run my application he crashs on:</p>\n\n<pre><code>import clr\n</code></pre>\n\n<p>with this error:</p>\n\n<pre><code>SystemError: dynamic module not initialized properly\n</code></pre>\n\n<p>I have also rebuild pythonnet with Visual C# 2010 express, with x86 platform, but nothing.</p>\n\n<p>Can anyone help me, please.\nAnd possibly can anyone tell me the required .NET Framework installed for use pythonnet.</p>\n"}, {"tags": ["python", "python-2.7", "list-comprehension"], "comments": [{"owner": {"reputation": 5504, "user_id": 2461379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b48324814f4ade68b06df48f3a7a0ca7?s=128&d=identicon&r=PG", "display_name": "Farmer Joe", "link": "https://stackoverflow.com/users/2461379/farmer-joe"}, "edited": false, "score": 1, "creation_date": 1453322780, "post_id": 34910115, "comment_id": 57556036, "body": "You cannot do list comprehension if you need to reference the list you are creating as it is created."}], "answers": [{"tags": [], "owner": {"reputation": 50452, "user_id": 33258, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/c4b21ea020b4d95c4abacaffc9daaf4e?s=128&d=identicon&r=PG", "display_name": "Hugh Bothwell", "link": "https://stackoverflow.com/users/33258/hugh-bothwell"}, "is_accepted": false, "score": 2, "last_activity_date": 1453322746, "creation_date": 1453322746, "answer_id": 34910161, "question_id": 34910115, "link": "https://stackoverflow.com/questions/34910115/how-do-i-turn-this-into-a-python-list-comprehension/34910161#34910161", "title": "How Do I Turn This Into A Python List Comprehension?", "body": "<pre><code>used_codes = set(coupon.code_used for source in sources for coupon in source)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 5504, "user_id": 2461379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b48324814f4ade68b06df48f3a7a0ca7?s=128&d=identicon&r=PG", "display_name": "Farmer Joe", "link": "https://stackoverflow.com/users/2461379/farmer-joe"}, "edited": false, "score": 0, "creation_date": 1453322831, "post_id": 34910162, "comment_id": 57556073, "body": "Though it will not restore ordering, you could wrap the <code>set(...)</code> in a <code>list(...)</code> command to get back to the <code>list</code> type he was originally creating if maintaining that type is at all important for future use."}], "tags": [], "owner": {"reputation": 38371, "user_id": 3555845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e06f616d9a53b1ca18287d1049a28ee?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/3555845/daniel"}, "is_accepted": true, "score": 5, "last_activity_date": 1453322747, "creation_date": 1453322747, "answer_id": 34910162, "question_id": 34910115, "link": "https://stackoverflow.com/questions/34910115/how-do-i-turn-this-into-a-python-list-comprehension/34910162#34910162", "title": "How Do I Turn This Into A Python List Comprehension?", "body": "<p>You cannot access the list you currently creating, but if the order is not important you can use a <code>set</code>:</p>\n\n<pre><code>coupons = set(coupon.code_used for source in sources for coupon in source)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "is_accepted": false, "score": 1, "last_activity_date": 1453322779, "creation_date": 1453322779, "answer_id": 34910170, "question_id": 34910115, "link": "https://stackoverflow.com/questions/34910115/how-do-i-turn-this-into-a-python-list-comprehension/34910170#34910170", "title": "How Do I Turn This Into A Python List Comprehension?", "body": "<p>I'm going to assume that the order of the resulting list is unimportant, because then we can just use a set to eliminate duplicates.</p>\n\n<pre><code>coupons = list(set(coupon.code_used for source in sources for coupon in source))\n</code></pre>\n\n<p>This uses a generator expression, with the <code>for</code> clauses appearing in the same order as in the nested loop, to extract all the codes. The <code>set</code> keeps only unique codes, and <code>list</code> creates a list (arbitrarily ordered) from the set.</p>\n"}, {"tags": [], "owner": {"reputation": 2955, "user_id": 5642219, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71ff21486f749bb8deb88cc94ac12086?s=128&d=identicon&r=PG&f=1", "display_name": "mementum", "link": "https://stackoverflow.com/users/5642219/mementum"}, "is_accepted": false, "score": 0, "last_activity_date": 1453322844, "creation_date": 1453322844, "answer_id": 34910192, "question_id": 34910115, "link": "https://stackoverflow.com/questions/34910115/how-do-i-turn-this-into-a-python-list-comprehension/34910192#34910192", "title": "How Do I Turn This Into A Python List Comprehension?", "body": "<pre><code>coupons = {x for x in (y.code_used for y in coupon for coupon in sources)}\n</code></pre>\n\n<p>you are actually looking for a <code>set</code></p>\n"}], "owner": {"reputation": 1910, "user_id": 3977548, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/j6Npf.jpg?s=128&g=1", "display_name": "Peter Graham", "link": "https://stackoverflow.com/users/3977548/peter-graham"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "accepted_answer_id": 34910162, "answer_count": 4, "score": 1, "last_activity_date": 1453322844, "creation_date": 1453322600, "question_id": 34910115, "link": "https://stackoverflow.com/questions/34910115/how-do-i-turn-this-into-a-python-list-comprehension", "title": "How Do I Turn This Into A Python List Comprehension?", "body": "<p>I'd like to make this more efficient but I can't figure out how to turn this into a python list comprehension.</p>\n\n<pre><code>coupons = []\nfor source in sources:\n    for coupon in source:\n        if coupon.code_used not in coupons:\n            coupons.append(coupon.code_used)\n</code></pre>\n"}, {"tags": ["python", "pygame", "resizable", "surface", "blit"], "answers": [{"tags": [], "owner": {"reputation": 91141, "user_id": 142637, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9SiZh.png?s=128&g=1", "display_name": "sloth", "link": "https://stackoverflow.com/users/142637/sloth"}, "is_accepted": true, "score": 7, "last_activity_date": 1610355973, "last_edit_date": 1610355973, "creation_date": 1453368285, "answer_id": 34919705, "question_id": 34910086, "link": "https://stackoverflow.com/questions/34910086/pygame-how-do-i-resize-a-surface-and-keep-all-objects-within-proportionate-to-t/34919705#34919705", "title": "Pygame. How do I resize a surface and keep all objects within proportionate to the new window size?", "body": "<p>Don't draw on the screen directly, but on another surface. Then scale that other surface to size of the screen and blit it on the screen.</p>\n<p>Here's a simple example:</p>\n<pre><code>import pygame\nfrom pygame.locals import *\n\ndef main():\n    pygame.init()\n    screen = pygame.display.set_mode((200, 200),HWSURFACE|DOUBLEBUF|RESIZABLE)\n    fake_screen = screen.copy()\n    pic = pygame.surface.Surface((50, 50))\n    pic.fill((255, 100, 200))\n\n    while True:\n        for event in pygame.event.get():\n            if event.type == QUIT: \n                pygame.display.quit()\n            elif event.type == VIDEORESIZE:\n                screen = pygame.display.set_mode(event.size, HWSURFACE|DOUBLEBUF|RESIZABLE)\n\n        fake_screen.fill('black')\n        fake_screen.blit(pic, (100, 100))\n        screen.blit(pygame.transform.scale(fake_screen, screen.get_rect().size), (0, 0))\n        pygame.display.flip()\n    \nmain()    \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 51, "user_id": 8218388, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000603622942/picture?type=large", "display_name": "Jonathan Scott James", "link": "https://stackoverflow.com/users/8218388/jonathan-scott-james"}, "is_accepted": false, "score": 0, "last_activity_date": 1522086815, "last_edit_date": 1522086815, "creation_date": 1522086460, "answer_id": 49497565, "question_id": 34910086, "link": "https://stackoverflow.com/questions/34910086/pygame-how-do-i-resize-a-surface-and-keep-all-objects-within-proportionate-to-t/49497565#49497565", "title": "Pygame. How do I resize a surface and keep all objects within proportionate to the new window size?", "body": "<p>so without the gui initialization (pygame init, and setmode comands ) in the section where you have existing pygame event get()(which your only allowed one time (or just put in     ''for inkey in pygame.event.get(VIDEORESIZE):''(\nif you want to be redundant))(note you can only use ''for inkey in pygame.event.get(VIDEORESIZE):'' one time per loop because it is really a stack that unstacks when you read the event list so you should really use ''for inkey in pygame.event.get():'' snd put all your key recognission statements after this one occurrance of ''for inkey in pygame.event.get():'':</p>\n\n<pre><code>for inkey in pygame.event.get(VIDEORESIZE)\n    if inkey.type == pygame.VIDEORESIZE:\n        winwidth,winhight  = inkey.size  # or event.w, event.h\n        Window1copy = Window1.copy()# make copy of existing window\n        Window1=pygame.display.set_mode((winwidth,winhight),pygame.RESIZABLE) \n        Window1.blit(Window1copy, (0, 0))\n        pygame.display.update()\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2425, "user_id": 3486684, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/308961d6e6a4d9649e2ee9f81a4448ba?s=128&d=identicon&r=PG&f=1", "display_name": "user89", "link": "https://stackoverflow.com/users/3486684/user89"}, "edited": false, "score": 2, "creation_date": 1573980376, "post_id": 58898639, "comment_id": 104061761, "body": "Can you provide some more information regarding how the flag would be passed? This could be done by providing, in addition to your answer, a link to relevant documentation regarding this flag?"}], "tags": [], "owner": {"reputation": 1, "user_id": 12385865, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c3a58f9838eb43098df147fde34b68dd?s=128&d=identicon&r=PG", "display_name": "dr.k", "link": "https://stackoverflow.com/users/12385865/dr-k"}, "is_accepted": false, "score": 0, "last_activity_date": 1573978030, "creation_date": 1573978030, "answer_id": 58898639, "question_id": 34910086, "link": "https://stackoverflow.com/questions/34910086/pygame-how-do-i-resize-a-surface-and-keep-all-objects-within-proportionate-to-t/58898639#58898639", "title": "Pygame. How do I resize a surface and keep all objects within proportionate to the new window size?", "body": "<p>Recently with pygame2.0 You can use the SCALED flag</p>\n"}], "owner": {"reputation": 359, "user_id": 4352624, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh3.googleusercontent.com/-YWhNa19Mr7Q/AAAAAAAAAAI/AAAAAAAAANU/70VwUthj0jQ/photo.jpg?sz=128", "display_name": "RatstabOfficial", "link": "https://stackoverflow.com/users/4352624/ratstabofficial"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9103, "favorite_count": 1, "accepted_answer_id": 34919705, "answer_count": 3, "score": 5, "last_activity_date": 1610355973, "creation_date": 1453322478, "last_edit_date": 1510541001, "question_id": 34910086, "link": "https://stackoverflow.com/questions/34910086/pygame-how-do-i-resize-a-surface-and-keep-all-objects-within-proportionate-to-t", "title": "Pygame. How do I resize a surface and keep all objects within proportionate to the new window size?", "body": "<p>If I set a pygame window to resizable and then click and drag on the border of the window the window will get larger but nothing blit onto the surface will get larger with it. (Which is understandable) How would I make it so that when I resize a window all blit objects resize with it and fill the window properly?</p>\n\n<p>For example: Say I have a window of 200 x 200 and I blit a button at window_width/2 and window_height/2. The button would be in the center of the window at 100 x 100. Now if I resize the window to 300 x 300 the button stays at 100 x 100 instead of 150 x 150. </p>\n\n<p>I tried messing around with pygame.Surface.get_width ect, but had no luck.\nBasically I'm trying to resize a program's window and have all blit images stay proportionate.</p>\n"}, {"tags": ["python", "sorting", "lambda"], "comments": [{"owner": {"reputation": 3891, "user_id": 2326911, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/173ece6e1a474bf45d2dee00f651b543?s=128&d=identicon&r=PG&f=1", "display_name": "\u1d00\u0280\u1d0d\u1d00\u0274", "link": "https://stackoverflow.com/users/2326911/%e1%b4%80%ca%80%e1%b4%8d%e1%b4%80%c9%b4"}, "edited": false, "score": 0, "creation_date": 1453322583, "post_id": 34910079, "comment_id": 57555937, "body": "add <code>try</code> and <code>except</code> for sort line"}], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 5786703, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206908867098045/picture?type=large", "display_name": "Kiril Alex Ballow", "link": "https://stackoverflow.com/users/5786703/kiril-alex-ballow"}, "edited": false, "score": 0, "creation_date": 1453323264, "post_id": 34910150, "comment_id": 57556293, "body": "I will mark this right as it did its job, but now i have an issue where the blank values are sorted on top, ( empty, a, ..., z) is there anything i can do to put the empty at end ( a, ... , z, empty) Thanks!"}, {"owner": {"reputation": 7186, "user_id": 5741460, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-oxgS1vLh9Co/AAAAAAAAAAI/AAAAAAAAAAA/5hRLB7BLWWA/photo.jpg?sz=128", "display_name": "Yoav Glazner", "link": "https://stackoverflow.com/users/5741460/yoav-glazner"}, "reply_to_user": {"reputation": 33, "user_id": 5786703, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206908867098045/picture?type=large", "display_name": "Kiril Alex Ballow", "link": "https://stackoverflow.com/users/5786703/kiril-alex-ballow"}, "edited": false, "score": 0, "creation_date": 1453418511, "post_id": 34910150, "comment_id": 57605122, "body": "@KirilAlexBallow - lines.sort(key=lambda s: s[2:3] or [&quot;z&quot;*100])  #not tested"}], "tags": [], "owner": {"reputation": 7186, "user_id": 5741460, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-oxgS1vLh9Co/AAAAAAAAAAI/AAAAAAAAAAA/5hRLB7BLWWA/photo.jpg?sz=128", "display_name": "Yoav Glazner", "link": "https://stackoverflow.com/users/5741460/yoav-glazner"}, "is_accepted": true, "score": 4, "last_activity_date": 1453322709, "creation_date": 1453322709, "answer_id": 34910150, "question_id": 34910079, "link": "https://stackoverflow.com/questions/34910079/python-sort-by-last-word-in-line-different-length-lines/34910150#34910150", "title": "python sort by last word in line, different length lines", "body": "<p>\u200fYou may want to try using the slice syntax</p>\n\n<pre><code>with open('myfile.txt') as fin:\n    lines = [line.split() for line in fin]\n    lines.sort(key=lambda s: s[2:3]) # will give empty list if there is no 3rd word\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2549, "user_id": 5765298, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d109e4a14d083bccf645ffd660672e61?s=128&d=identicon&r=PG&f=1", "display_name": "Garrett R", "link": "https://stackoverflow.com/users/5765298/garrett-r"}, "is_accepted": false, "score": 1, "last_activity_date": 1453331768, "creation_date": 1453331768, "answer_id": 34912492, "question_id": 34910079, "link": "https://stackoverflow.com/questions/34910079/python-sort-by-last-word-in-line-different-length-lines/34912492#34912492", "title": "python sort by last word in line, different length lines", "body": "<p>Try this:</p>\n\n<pre><code>x.sort(key=lambda s: s[2] if len(s) &gt; 2 else ord('z')+1)\n</code></pre>\n\n<p>That way if there is no s[2] it returns the next thing after 'z' (presumably the last ascii character value in your strings).  Feel free to change ord('z')+1 to some other large number</p>\n"}, {"tags": [], "owner": {"reputation": 4384, "user_id": 5171169, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/903cb5f31300e0ce8b9843fa4e273b41?s=128&d=identicon&r=PG&f=1", "display_name": "LetzerWille", "link": "https://stackoverflow.com/users/5171169/letzerwille"}, "is_accepted": false, "score": 0, "last_activity_date": 1530383099, "creation_date": 1530383099, "answer_id": 51117484, "question_id": 34910079, "link": "https://stackoverflow.com/questions/34910079/python-sort-by-last-word-in-line-different-length-lines/51117484#51117484", "title": "python sort by last word in line, different length lines", "body": "<pre><code>def sortFileByLastWords(fIn, fOut):\n    with open (fIn) as fin:\n        lines = [line.split () for line in fin]\n        lines.sort (key=lambda s: s[-1]) # make the last word of each line be the key\n    with open (fOut, \"w\")  as fout:\n        for film in lines:\n            fout.write (' '.join (film) + '\\n')\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 5786703, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206908867098045/picture?type=large", "display_name": "Kiril Alex Ballow", "link": "https://stackoverflow.com/users/5786703/kiril-alex-ballow"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 367, "favorite_count": 0, "accepted_answer_id": 34910150, "answer_count": 3, "score": 3, "last_activity_date": 1530383099, "creation_date": 1453322460, "question_id": 34910079, "link": "https://stackoverflow.com/questions/34910079/python-sort-by-last-word-in-line-different-length-lines", "title": "python sort by last word in line, different length lines", "body": "<p>I have a file that has between 1 or 4 words per line, and I want to sort by the third word in the line. The below code does not work if there isn't a word in the s[2] slot. Is there anything I can do to still sort everything does? Thanks</p>\n\n<pre><code>with open('myfile.txt') as fin:\nlines = [line.split() for line in fin]\nlines.sort(key=lambda s: s[2])\n</code></pre>\n"}, {"tags": ["python", "list", "list-comprehension"], "comments": [{"owner": {"reputation": 9677, "user_id": 4244780, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KUXr1.jpg?s=128&g=1", "display_name": "Iron Fist", "link": "https://stackoverflow.com/users/4244780/iron-fist"}, "edited": false, "score": 7, "creation_date": 1453322495, "post_id": 34910053, "comment_id": 57555876, "body": "It would be better if you post your final output and what did you try so far?"}, {"owner": {"reputation": 1594, "user_id": 2443944, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/067f4913663009bfb4d3d45341a849d6?s=128&d=identicon&r=PG", "display_name": "piccolo", "link": "https://stackoverflow.com/users/2443944/piccolo"}, "reply_to_user": {"reputation": 9677, "user_id": 4244780, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KUXr1.jpg?s=128&g=1", "display_name": "Iron Fist", "link": "https://stackoverflow.com/users/4244780/iron-fist"}, "edited": false, "score": 0, "creation_date": 1453323685, "post_id": 34910053, "comment_id": 57556516, "body": "Thanks @IronFist I&#39;ve clarified my original post. I wasn&#39;t sure how to make a proper start because I ran into multiple initial problems like once I &#39;pop&#39;-ed repeated elements how I would have to update the index of the elements that needed &#39;pop&#39;ing after the list has been shifted with a repeated element removed"}], "answers": [{"comments": [{"owner": {"reputation": 9227, "user_id": 1830895, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/I8Hvh.jpg?s=128&g=1", "display_name": "Pynchia", "link": "https://stackoverflow.com/users/1830895/pynchia"}, "edited": false, "score": 1, "creation_date": 1453324070, "post_id": 34910454, "comment_id": 57556725, "body": "in such case you can also use <code>pairs=collections.Counter(zip(listX,listY))</code> of course :)"}, {"owner": {"reputation": 1594, "user_id": 2443944, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/067f4913663009bfb4d3d45341a849d6?s=128&d=identicon&r=PG", "display_name": "piccolo", "link": "https://stackoverflow.com/users/2443944/piccolo"}, "edited": false, "score": 1, "creation_date": 1453324383, "post_id": 34910454, "comment_id": 57556916, "body": "Hi @tobias_k  how would I extract the values of the repeated pairs from this?"}, {"owner": {"reputation": 1594, "user_id": 2443944, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/067f4913663009bfb4d3d45341a849d6?s=128&d=identicon&r=PG", "display_name": "piccolo", "link": "https://stackoverflow.com/users/2443944/piccolo"}, "edited": false, "score": 0, "creation_date": 1453339303, "post_id": 34910454, "comment_id": 57562912, "body": "@tobias_k thanks this is exactly what I was looking for."}], "tags": [], "owner": {"reputation": 73988, "user_id": 1639625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4224d1458a149d37b56a53115656f4df?s=128&d=identicon&r=PG", "display_name": "tobias_k", "link": "https://stackoverflow.com/users/1639625/tobias-k"}, "is_accepted": true, "score": 4, "last_activity_date": 1453326265, "last_edit_date": 1453326265, "creation_date": 1453323782, "answer_id": 34910454, "question_id": 34910053, "link": "https://stackoverflow.com/questions/34910053/extract-repeated-elements-in-a-list-in-python/34910454#34910454", "title": "extract repeated elements in a list in python", "body": "<p>First, count how often each pair appears, using <code>zip</code> and a dictionary:</p>\n\n<pre><code>listX = [1,7,7,4,5,7,7]\nlistY = [2,4,4,3,1,4,6]\n\npairs = {}\nfor (x, y) in zip(listX, listY):\n    pairs[(x,y)] = pairs.get((x,y), 0) + 1\n</code></pre>\n\n<p>Or, as suggested in comments, using <code>collections.Counter</code>:</p>\n\n<pre><code>pairs = collections.Counter(zip(listX, listY))\n</code></pre>\n\n<p>Now, <code>pairs</code> will be <code>{(1, 2): 1, (7, 4): 3, (7, 6): 1, (4, 3): 1, (5, 1): 1}</code>. You can also use that dictionary to check how many repeated pairs there are, in case you need this, and which pair(s) are repeated the most often, or a certain number of times.\nThen, filter those pairs that have the right count and distribute them back to the lists, again using <code>zip</code>:</p>\n\n<pre><code>listX, listY = zip(*[p for p in zip(listX, listY) if pairs[p] != 3])\n</code></pre>\n\n<p>Now, <code>listX</code> and <code>listY</code> are <code>(1, 4, 5, 7)</code> and <code>(2, 3, 1, 6)</code> (those are tuples, but you can easily convert those to lists again).</p>\n\n<p>To get the repeated pair itself, you can do something like this:</p>\n\n<pre><code>pair = pairs.most_common(1) # when using collections.Counter\npair = [p for p, c in pairs.items() if c == 3] # otherwise\n</code></pre>\n"}], "owner": {"reputation": 1594, "user_id": 2443944, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/067f4913663009bfb4d3d45341a849d6?s=128&d=identicon&r=PG", "display_name": "piccolo", "link": "https://stackoverflow.com/users/2443944/piccolo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 180, "favorite_count": 0, "accepted_answer_id": 34910454, "answer_count": 1, "score": 2, "last_activity_date": 1453328027, "creation_date": 1453322380, "last_edit_date": 1453323483, "question_id": 34910053, "link": "https://stackoverflow.com/questions/34910053/extract-repeated-elements-in-a-list-in-python", "title": "extract repeated elements in a list in python", "body": "<p>I have a list comprehension problem which I'd be grateful if someone can solve. The problem goes like this:</p>\n\n<p>I have a list of elements: listX and listY</p>\n\n<pre><code>listX = [1,7,7,4,5,7,7]\n\nlistY = [2,4,4,3,1,4,6]\n</code></pre>\n\n<p>I want to extract the repeated elements of listX and listY but I need to ensure that (1) There are only <strong>3 pairs</strong> of repeated elements in each of listX and listY and (2) that the indexes of repeated elements are the same for both lists. This means that in listX the repeated element is '7' and for listY the repeated element is '4' and they both share the same indexes of 1,2,5  - Although the repeated element appears in index 6 in listX it doesn't appear as a repeated element in listY therefore it is not counted as a repeated pair.</p>\n\n<p>I want the repeated pairs of elements to be extracted and the lists  listX and listY to be updated with the repeat elements removed.</p>\n\n<p>So the final output would be</p>\n\n<pre><code>listX = [1,4,5,7]\nlistY = [2,3,1,6]\n</code></pre>\n\n<p>with extracted values </p>\n\n<pre><code>x=7\ny=4\n</code></pre>\n\n<p>from listX and listY respectively</p>\n"}, {"tags": ["python", "flask", "datatables"], "answers": [{"comments": [{"owner": {"reputation": 3377, "user_id": 2224777, "user_type": "registered", "accept_rate": 35, "profile_image": "https://i.stack.imgur.com/4s327.png?s=128&g=1", "display_name": "Brian Leach", "link": "https://stackoverflow.com/users/2224777/brian-leach"}, "edited": false, "score": 0, "creation_date": 1453411678, "post_id": 34912661, "comment_id": 57602054, "body": "I tried your solution and now <code>request.values</code> is empty and &#39;request.data&#39; contains the following string: <code>draw=1&amp;columns%5B0%5D%5Bdata%5D=&amp;columns%5B0%5D%5Bname...</code> Where <code>&amp;</code> = <code>,</code>, <code>%5B</code> = <code>[</code>, and <code>%5D</code> = <code>]</code> if matching to the original <code>request.values </code>"}, {"owner": {"reputation": 1726, "user_id": 2088703, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/1754352a162c37ff92cd1d3d5e06e3fb?s=128&d=identicon&r=PG", "display_name": "Zoltan Fedor", "link": "https://stackoverflow.com/users/2088703/zoltan-fedor"}, "reply_to_user": {"reputation": 3377, "user_id": 2224777, "user_type": "registered", "accept_rate": 35, "profile_image": "https://i.stack.imgur.com/4s327.png?s=128&g=1", "display_name": "Brian Leach", "link": "https://stackoverflow.com/users/2224777/brian-leach"}, "edited": false, "score": 0, "creation_date": 1453414621, "post_id": 34912661, "comment_id": 57603512, "body": "Make sure that the &#39;data&#39; in the JSON request is a properly formatted JSON and then in flask use request.get_json and not request.data, as shown above. Take a look at the documentation of the get_json() method at <a href=\"http://flask.pocoo.org/docs/0.10/api/\" rel=\"nofollow noreferrer\">flask.pocoo.org/docs/0.10/api</a> ."}], "tags": [], "owner": {"reputation": 1726, "user_id": 2088703, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/1754352a162c37ff92cd1d3d5e06e3fb?s=128&d=identicon&r=PG", "display_name": "Zoltan Fedor", "link": "https://stackoverflow.com/users/2088703/zoltan-fedor"}, "is_accepted": false, "score": 1, "last_activity_date": 1453332979, "last_edit_date": 1453332979, "creation_date": 1453332556, "answer_id": 34912661, "question_id": 34909916, "link": "https://stackoverflow.com/questions/34909916/datatables-flattens-json-data-on-posting-how-to-decode-into-python-dictionary/34912661#34912661", "title": "dataTables flattens JSON data on POSTing, how to decode into python dictionary", "body": "<p>In Ajax set:</p>\n\n<pre><code>type: \"POST\",\n\ndata: data,\n\ndataType: \"json\",\n\ncontentType: \"application/json;charset=utf-8\",\n</code></pre>\n\n<p>and then in flask just use:</p>\n\n<pre><code>import json\n\n...\n\ndata = jsonify(request.get_json(force=True))\n</code></pre>\n"}], "owner": {"reputation": 3377, "user_id": 2224777, "user_type": "registered", "accept_rate": 35, "profile_image": "https://i.stack.imgur.com/4s327.png?s=128&g=1", "display_name": "Brian Leach", "link": "https://stackoverflow.com/users/2224777/brian-leach"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 380, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1453332979, "creation_date": 1453321887, "question_id": 34909916, "link": "https://stackoverflow.com/questions/34909916/datatables-flattens-json-data-on-posting-how-to-decode-into-python-dictionary", "title": "dataTables flattens JSON data on POSTing, how to decode into python dictionary", "body": "<p>I am using the jQuery dataTables plugin. When I <code>POST</code> a request for data to the server, <code>dataTables</code> provides lots of info regarding ordering, search values (if any), and column metadata. </p>\n\n<p>Using the Chrome debugger, I see that the data ready to be sent in the <code>POST</code> request is a properly formed <code>JSON</code> object (snippet below from within the <code>dataTables</code> object)</p>\n\n<pre><code>\"ajax\": { // define ajax settings\n    ...\n    \"type\": \"POST\", // request type\n    \"timeout\": 20000,\n    \"data\": function(data) { // add request parameters before submit    \n        $.each(ajaxParams, function(key, value) {\n            data[key] = value;\n        });\n        var data = JSON.stringify(data); // here, the data is properly formed JSON. I tried stringifying it to no avail\n    },\n</code></pre>\n\n<p>In my view on the server (using <code>Python</code> &amp; <code>Flask</code>), I see the data comes through like below (I used a screenshot from PyCharm so you can see the details of how the data comes across).</p>\n\n<p><a href=\"https://i.stack.imgur.com/qELuI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qELuI.png\" alt=\"enter image description here\"></a></p>\n\n<p>So far, I have tried playing with the <code>json</code> and <code>formencode</code> modules on the server and tried to stringify the data before sending from the client, but nothing changes. Datatype on the server is a <code>Werkzeug CombinedMultiDict</code>, although I don't think that matters at this point.</p>\n"}, {"tags": ["python", "hadoop", "ipython", "pyspark", "jupyter"], "comments": [{"owner": {"reputation": 1538, "user_id": 2353123, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/maZgI.png?s=128&g=1", "display_name": "conrad", "link": "https://stackoverflow.com/users/2353123/conrad"}, "edited": false, "score": 0, "creation_date": 1453388011, "post_id": 34909873, "comment_id": 57587344, "body": "why do you need jupyterhub to connect to the hadoop cluster?"}, {"owner": {"reputation": 1726, "user_id": 2088703, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/1754352a162c37ff92cd1d3d5e06e3fb?s=128&d=identicon&r=PG", "display_name": "Zoltan Fedor", "link": "https://stackoverflow.com/users/2088703/zoltan-fedor"}, "reply_to_user": {"reputation": 1538, "user_id": 2353123, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/maZgI.png?s=128&g=1", "display_name": "conrad", "link": "https://stackoverflow.com/users/2353123/conrad"}, "edited": false, "score": 0, "creation_date": 1453397625, "post_id": 34909873, "comment_id": 57593947, "body": "I want out data scientists to use PySpark to run Spark code on the cluster, get data returned by Spark back to their notebook, load additional data to it from local databases, etc."}, {"owner": {"reputation": 1726, "user_id": 2088703, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/1754352a162c37ff92cd1d3d5e06e3fb?s=128&d=identicon&r=PG", "display_name": "Zoltan Fedor", "link": "https://stackoverflow.com/users/2088703/zoltan-fedor"}, "reply_to_user": {"reputation": 1538, "user_id": 2353123, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/maZgI.png?s=128&g=1", "display_name": "conrad", "link": "https://stackoverflow.com/users/2353123/conrad"}, "edited": false, "score": 1, "creation_date": 1453416335, "post_id": 34909873, "comment_id": 57604302, "body": "JupyterHub is excellent for ondemand data analysis, which is exactly where Spark&#39;s strength lies to. So we want to use Jupyterhub for data analysis on the Spark cluster. It is a valid use case others have highlighted too."}], "owner": {"reputation": 1726, "user_id": 2088703, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/1754352a162c37ff92cd1d3d5e06e3fb?s=128&d=identicon&r=PG", "display_name": "Zoltan Fedor", "link": "https://stackoverflow.com/users/2088703/zoltan-fedor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 356, "favorite_count": 1, "answer_count": 0, "score": 2, "last_activity_date": 1453323549, "creation_date": 1453321721, "last_edit_date": 1453323549, "question_id": 34909873, "link": "https://stackoverflow.com/questions/34909873/spark1-6-0-on-yarn-with-python2-6-6-from-ipython-1-2-0-crashes", "title": "Spark1.6.0 on Yarn with Python2.6.6 from IPython 1.2.0 - crashes", "body": "<p>I am trying to setup a JupyterHub instance to connect to a Hadoop Yarn cluster to run PySpark jobs.\nUnfortunately the Hadoop cluster only has Python 2.6.6, so I have to run Python 2.6 on my side too and so I cannot use the recent versions of IPython, only version 1.2 (the most recent versions of IPython only runs on Python 2.7+).</p>\n\n<p>I setup everything, but the IPython kernel keep crashing and restarting itself.</p>\n\n<p>Below are the settings:\nIPython kernel:</p>\n\n<pre><code>{\n \"display_name\": \"PySpark-1.6.0 - Python2.6.6\",\n \"language\": \"python\",\n \"argv\": [\n  \"/usr/local/bin/python2.6\",\n  \"-m\",\n  \"IPython.__main__\",\n  \"--config={connection_file}\"\n ],\n \"env\": {\n  \"SPARK_HOME\": \"/usr/lib/spark-1.6.0-bin-without-hadoop\",\n  \"SCALA_HOME\": \"/usr/lib/scala\",\n  \"HADOOP_USER_NAME\": \"myuser\",\n  \"HADOOP_CONF_DIR\": \"/usr/lib/spark-1.6.0-bin-without-hadoop/yarn-conf\",\n  \"HADOOP_HOME\": \"/usr/bin/hadoop\",\n  \"YARN_HOME\": \"\",\n  \"SPARK_DIST_CLASSPATH\": \"/etc/hadoop/conf:/usr/lib/hadoop/lib/*:/usr/lib/hadoop/.//*:/usr/lib/hadoop-hdfs/./:/usr/lib/hadoop-hdfs/lib/*:/usr/lib/hadoop-hdfs/.//*:/usr/lib/hadoop-yarn/lib/*:/usr/lib/hadoop-yarn/.//*:/usr/lib/hadoop-mapreduce/lib/*:/usr/lib/hadoop-mapreduce/.//*\",\n  \"SPARK_LIBRARY_PATH\": \"/usr/lib/hadoop/lib\",\n  \"SPARK_CLASSPATH\": \"/usr/lib/hadoop/lib\",\n  \"PATH\": \"/usr/lib64/qt-3.3/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/apps/home/zoltan.fedor/.local/bin:/apps/home/zoltan.fedor/bin:/usr/bin/hadoop/bin\",\n  \"PYTHONPATH\": \"/usr/lib/spark-1.6.0-bin-without-hadoop/python/:/usr/lib/spark-1.6.0-bin-without-hadoop/python/lib/py4j-0.8.2.1-src.zip\",\n  \"PYTHONSTARTUP\": \"/usr/lib/spark-1.6.0-bin-without-hadoop/python/pyspark/shell.py\",\n  \"PYSPARK_SUBMIT_ARGS\": \"--master yarn --deploy-mode client --jars /usr/lib/avro/avro-mapred.jar,/usr/lib/spark-1.6.0-bin-without-hadoop/lib/spark-examples-1.6.0-hadoop2.2.0.jar pyspark-shell\",\n  \"SPARK_YARN_USER_ENV\": \"PYTHONPATH=/usr/lib/spark-1.6.0-bin-without-hadoop/python/:/usr/lib/spark-1.6.0-bin-without-hadoop/python/lib/py4j-0.8.2.1-src.zip\"\n }\n}\n</code></pre>\n\n<p>And below is the ipykernel log, at least one iteration. It just keeps repeating the same as it is restarting as it crashes:</p>\n\n<pre><code>[I 2016-01-20 20:20:34.336 zoltan.fedor restarter:103] KernelRestarter: restarting kernel (1/5)\nWARNING:root:kernel 216d7905-1d93-4052-b5b6-3aee9d3628b1 restarted\n/usr/local/lib/python2.6/site-packages/path.py:1719: DeprecationWarning: path is deprecated. Use Path instead.\n  warnings.warn(msg, DeprecationWarning)\nPython 2.6.6 (r266:84292, Jan 20 2016, 18:10:40) \nType \"copyright\", \"credits\" or \"license\" for more information.\n\nIPython 1.2.0 -- An enhanced Interactive Python.\n?         -&gt; Introduction and overview of IPython's features.\n%quickref -&gt; Quick reference.\nhelp      -&gt; Python's own help system.\nobject?   -&gt; Details about 'object', use 'object??' for extra details.\n16/01/20 20:20:35 INFO spark.SparkContext: Running Spark version 1.6.0\n16/01/20 20:20:35 WARN spark.SparkConf: \nSPARK_CLASSPATH was detected (set to '/usr/lib/hadoop/lib').\nThis is deprecated in Spark 1.0+.\n\nPlease instead use:\n - ./spark-submit with --driver-class-path to augment the driver classpath\n - spark.executor.extraClassPath to augment the executor classpath\n\n16/01/20 20:20:35 WARN spark.SparkConf: Setting 'spark.executor.extraClassPath' to '/usr/lib/hadoop/lib' as a work-around.\n16/01/20 20:20:35 WARN spark.SparkConf: Setting 'spark.driver.extraClassPath' to '/usr/lib/hadoop/lib' as a work-around.\n16/01/20 20:20:35 INFO spark.SecurityManager: Changing view acls to: zoltan.fedor,myuser\n16/01/20 20:20:35 INFO spark.SecurityManager: Changing modify acls to: zoltan.fedor,myuser\n16/01/20 20:20:35 INFO spark.SecurityManager: SecurityManager: authentication disabled; ui acls disabled; users with view permissions: Set(zoltan.fedor, myuser); users with modify permissions: Set(zoltan.fedor, myuser)\n16/01/20 20:20:36 INFO util.Utils: Successfully started service 'sparkDriver' on port 41092.\n16/01/20 20:20:36 INFO slf4j.Slf4jLogger: Slf4jLogger started\n16/01/20 20:20:36 INFO Remoting: Starting remoting\n16/01/20 20:20:36 INFO Remoting: Remoting started; listening on addresses :[akka.tcp://sparkDriverActorSystem@10.xxx.xxx.xxx:41725]\n16/01/20 20:20:36 INFO util.Utils: Successfully started service 'sparkDriverActorSystem' on port 41725.\n16/01/20 20:20:36 INFO spark.SparkEnv: Registering MapOutputTracker\n16/01/20 20:20:36 INFO spark.SparkEnv: Registering BlockManagerMaster\n16/01/20 20:20:36 INFO storage.DiskBlockManager: Created local directory at /tmp/blockmgr-b68b3c8c-c43b-4e3d-9efd-6534f7eddcaf\n16/01/20 20:20:36 INFO storage.MemoryStore: MemoryStore started with capacity 511.1 MB\n16/01/20 20:20:36 INFO spark.SparkEnv: Registering OutputCommitCoordinator\n16/01/20 20:20:36 INFO server.Server: jetty-8.y.z-SNAPSHOT\n16/01/20 20:20:36 INFO server.AbstractConnector: Started SelectChannelConnector@0.0.0.0:4040\n16/01/20 20:20:36 INFO util.Utils: Successfully started service 'SparkUI' on port 4040.\n16/01/20 20:20:36 INFO ui.SparkUI: Started SparkUI at http://10.xx.xx.xx:4040\n16/01/20 20:20:36 INFO spark.HttpFileServer: HTTP File server directory is /tmp/spark-ba928a28-64a6-4c70-b4cf-8c348140e89e/httpd-7892e967-247d-469e-96fb-79ad9269e569\n16/01/20 20:20:36 INFO spark.HttpServer: Starting HTTP Server\n16/01/20 20:20:36 INFO server.Server: jetty-8.y.z-SNAPSHOT\n16/01/20 20:20:36 INFO server.AbstractConnector: Started SocketConnector@0.0.0.0:43883\n16/01/20 20:20:36 INFO util.Utils: Successfully started service 'HTTP file server' on port 43883.\n16/01/20 20:20:36 INFO spark.SparkContext: Added JAR file:/usr/lib/avro/avro-mapred.jar at http://10.xx.xx.xx:43883/jars/avro-mapred.jar with timestamp 1453321236776\n16/01/20 20:20:36 INFO spark.SparkContext: Added JAR file:/usr/lib/spark-1.6.0-bin-without-hadoop/lib/spark-examples-1.6.0-hadoop2.2.0.jar at http://10.xxx.xxx.xxx:43883/jars/spark-examples-1.6.0-hadoop2.2.0.jar with timestamp 1453321236887\n16/01/20 20:20:37 INFO yarn.Client: Requesting a new application from cluster with 106 NodeManagers\n16/01/20 20:20:37 INFO yarn.Client: Verifying our application has not requested more than the maximum memory capability of the cluster (192512 MB per container)\n16/01/20 20:20:37 INFO yarn.Client: Will allocate AM container, with 896 MB memory including 384 MB overhead\n16/01/20 20:20:37 INFO yarn.Client: Setting up container launch context for our AM\n16/01/20 20:20:37 INFO yarn.Client: Setting up the launch environment for our AM container\n16/01/20 20:20:37 INFO yarn.Client: Preparing resources for our AM container\n16/01/20 20:20:37 WARN util.NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable\n16/01/20 20:20:37 INFO yarn.Client: Uploading resource file:/usr/lib/spark-1.6.0-bin-without-hadoop/lib/spark-assembly-1.6.0-hadoop2.2.0.jar -&gt; hdfs://Cluster/user/myuser/.sparkStaging/application_1453104838332_22373/spark-assembly-1.6.0-hadoop2.2.0.jar\n16/01/20 20:20:38 INFO yarn.Client: Uploading resource file:/usr/lib/spark-1.6.0-bin-without-hadoop/python/lib/pyspark.zip -&gt; hdfs://Cluster/user/myuser/.sparkStaging/application_1453104838332_22373/pyspark.zip\n16/01/20 20:20:38 INFO yarn.Client: Uploading resource file:/usr/lib/spark-1.6.0-bin-without-hadoop/python/lib/py4j-0.9-src.zip -&gt; hdfs://Cluster/user/myuser/.sparkStaging/application_1453104838332_22373/py4j-0.9-src.zip\n16/01/20 20:20:38 INFO yarn.Client: Uploading resource file:/tmp/spark-ba928a28-64a6-4c70-b4cf-8c348140e89e/__spark_conf__4853045545116393897.zip -&gt; hdfs://Cluster/user/myuser/.sparkStaging/application_1453104838332_22373/__spark_conf__4853045545116393897.zip\n16/01/20 20:20:38 INFO spark.SecurityManager: Changing view acls to: zoltan.fedor,myuser\n16/01/20 20:20:38 INFO spark.SecurityManager: Changing modify acls to: zoltan.fedor,myuser\n16/01/20 20:20:38 INFO spark.SecurityManager: SecurityManager: authentication disabled; ui acls disabled; users with view permissions: Set(zoltan.fedor, myuser); users with modify permissions: Set(zoltan.fedor, myuser)\n16/01/20 20:20:38 INFO yarn.Client: Submitting application 22373 to ResourceManager\n16/01/20 20:20:38 INFO impl.YarnClientImpl: Submitted application application_1453104838332_22373\n16/01/20 20:20:39 INFO yarn.Client: Application report for application_1453104838332_22373 (state: ACCEPTED)\n16/01/20 20:20:39 INFO yarn.Client: \n     client token: N/A\n     diagnostics: N/A\n     ApplicationMaster host: N/A\n     ApplicationMaster RPC port: -1\n     queue: root.myuser\n     start time: 1453321238567\n     final status: UNDEFINED\n     tracking URL: http://c14xx.xx.xxx.com:8088/proxy/application_1453104838332_22373/\n     user: myuser\n16/01/20 20:20:40 INFO yarn.Client: Application report for application_1453104838332_22373 (state: ACCEPTED)\n16/01/20 20:20:41 INFO yarn.Client: Application report for application_1453104838332_22373 (state: ACCEPTED)\n16/01/20 20:20:42 INFO yarn.Client: Application report for application_1453104838332_22373 (state: ACCEPTED)\n16/01/20 20:20:43 INFO yarn.Client: Application report for application_1453104838332_22373 (state: ACCEPTED)\n16/01/20 20:20:44 INFO yarn.Client: Application report for application_1453104838332_22373 (state: ACCEPTED)\n16/01/20 20:20:45 INFO yarn.Client: Application report for application_1453104838332_22373 (state: ACCEPTED)\n16/01/20 20:20:46 INFO yarn.Client: Application report for application_1453104838332_22373 (state: ACCEPTED)\n16/01/20 20:20:47 INFO yarn.Client: Application report for application_1453104838332_22373 (state: ACCEPTED)\n16/01/20 20:20:48 INFO cluster.YarnSchedulerBackend$YarnSchedulerEndpoint: ApplicationMaster registered as NettyRpcEndpointRef(null)\n16/01/20 20:20:48 INFO cluster.YarnClientSchedulerBackend: Add WebUI Filter. org.apache.hadoop.yarn.server.webproxy.amfilter.AmIpFilter, Map(PROXY_HOSTS -&gt; c14xx.xxx.xxx.com,c141xx.xxx.xxx.com, PROXY_URI_BASES -&gt; http://c14xx.xxx.xxx.com:8088/proxy/application_1453104838332_22373,http://c141xx.xxx.xxx.com:8088/proxy/application_1453104838332_22373), /proxy/application_1453104838332_22373\n16/01/20 20:20:48 INFO ui.JettyUtils: Adding filter: org.apache.hadoop.yarn.server.webproxy.amfilter.AmIpFilter\n16/01/20 20:20:48 INFO yarn.Client: Application report for application_1453104838332_22373 (state: ACCEPTED)\n16/01/20 20:20:49 INFO yarn.Client: Application report for application_1453104838332_22373 (state: RUNNING)\n16/01/20 20:20:49 INFO yarn.Client: \n     client token: N/A\n     diagnostics: N/A\n     ApplicationMaster host: 10.xx.xx.xx\n     ApplicationMaster RPC port: 0\n     queue: root.myuser\n     start time: 1453321238567\n     final status: UNDEFINED\n     tracking URL: http:/c14xx.xxx.xxx.com:8088/proxy/application_1453104838332_22373/\n     user: myuser\n16/01/20 20:20:49 INFO cluster.YarnClientSchedulerBackend: Application application_1453104838332_22373 has started running.\n16/01/20 20:20:49 INFO util.Utils: Successfully started service 'org.apache.spark.network.netty.NettyBlockTransferService' on port 38421.\n16/01/20 20:20:49 INFO netty.NettyBlockTransferService: Server created on 38421\n16/01/20 20:20:49 INFO storage.BlockManagerMaster: Trying to register BlockManagerxx.xx.xx, 38421)\n16/01/20 20:20:49 INFO storage.BlockManagerMaster: Registered BlockManager\n16/01/20 20:20:58 INFO cluster.YarnClientSchedulerBackend: Registered executor NettyRpcEndpointRef(null) (c25xx.xx.xx.com:43637) with ID 1\n16/01/20 20:20:58 INFO storage.BlockManagerMasterEndpoint: Registering block manager c25xx.xx.xx.com:42471 with 511.1 MB RAM, BlockManagerId(1, c25xx.xx.xx.com, 42471)\n16/01/20 20:20:59 INFO cluster.YarnClientSchedulerBackend: Registered executor NettyRpcEndpointRef(null) (c214xx.xxx.xxx.com:59623) with ID 2\n16/01/20 20:20:59 INFO storage.BlockManagerMasterEndpoint: Registering block manager c214xx.xxx.xxx.com.com:45327 with 511.1 MB RAM, BlockManagerId(2, c214xx.xxx.xxx.com.com, 45327)\n16/01/20 20:20:59 INFO cluster.YarnClientSchedulerBackend: SchedulerBackend is ready for scheduling beginning after reached minRegisteredResourcesRatio: 0.8\nWelcome to\n      ____              __\n     / __/__  ___ _____/ /__\n    _\\ \\/ _ \\/ _ `/ __/  '_/\n   /__ / .__/\\_,_/_/ /_/\\_\\   version 1.6.0\n      /_/\n\nUsing Python version 2.6.6 (r266:84292, Jan 20 2016 18:10:40)\nSparkContext available as sc, SQLContext available as sqlContext.\n\nIn [1]: \nDo you really want to exit ([y]/n)? \n16/01/20 20:20:59 INFO handler.ContextHandler: stopped o.s.j.s.ServletContextHandler{/metrics/json,null}\n16/01/20 20:20:59 INFO handler.ContextHandler: stopped o.s.j.s.ServletContextHandler{/stages/stage/kill,null}\n16/01/20 20:20:59 INFO handler.ContextHandler: stopped o.s.j.s.ServletContextHandler{/api,null}\n16/01/20 20:20:59 INFO handler.ContextHandler: stopped o.s.j.s.ServletContextHandler{/,null}\n16/01/20 20:20:59 INFO handler.ContextHandler: stopped o.s.j.s.ServletContextHandler{/static,null}\n16/01/20 20:20:59 INFO handler.ContextHandler: stopped o.s.j.s.ServletContextHandler{/executors/threadDump/json,null}\n16/01/20 20:20:59 INFO handler.ContextHandler: stopped o.s.j.s.ServletContextHandler{/executors/threadDump,null}\n16/01/20 20:20:59 INFO handler.ContextHandler: stopped o.s.j.s.ServletContextHandler{/executors/json,null}\n16/01/20 20:20:59 INFO handler.ContextHandler: stopped o.s.j.s.ServletContextHandler{/executors,null}\n16/01/20 20:20:59 INFO handler.ContextHandler: stopped o.s.j.s.ServletContextHandler{/environment/json,null}\n16/01/20 20:20:59 INFO handler.ContextHandler: stopped o.s.j.s.ServletContextHandler{/environment,null}\n16/01/20 20:20:59 INFO handler.ContextHandler: stopped o.s.j.s.ServletContextHandler{/storage/rdd/json,null}\n16/01/20 20:20:59 INFO handler.ContextHandler: stopped o.s.j.s.ServletContextHandler{/storage/rdd,null}\n16/01/20 20:20:59 INFO handler.ContextHandler: stopped o.s.j.s.ServletContextHandler{/storage/json,null}\n16/01/20 20:20:59 INFO handler.ContextHandler: stopped o.s.j.s.ServletContextHandler{/storage,null}\n16/01/20 20:20:59 INFO handler.ContextHandler: stopped o.s.j.s.ServletContextHandler{/stages/pool/json,null}\n16/01/20 20:20:59 INFO handler.ContextHandler: stopped o.s.j.s.ServletContextHandler{/stages/pool,null}\n16/01/20 20:20:59 INFO handler.ContextHandler: stopped o.s.j.s.ServletContextHandler{/stages/stage/json,null}\n16/01/20 20:20:59 INFO handler.ContextHandler: stopped o.s.j.s.ServletContextHandler{/stages/stage,null}\n16/01/20 20:20:59 INFO handler.ContextHandler: stopped o.s.j.s.ServletContextHandler{/stages/json,null}\n16/01/20 20:20:59 INFO handler.ContextHandler: stopped o.s.j.s.ServletContextHandler{/stages,null}\n16/01/20 20:20:59 INFO handler.ContextHandler: stopped o.s.j.s.ServletContextHandler{/jobs/job/json,null}\n16/01/20 20:20:59 INFO handler.ContextHandler: stopped o.s.j.s.ServletContextHandler{/jobs/job,null}\n16/01/20 20:20:59 INFO handler.ContextHandler: stopped o.s.j.s.ServletContextHandler{/jobs/json,null}\n16/01/20 20:20:59 INFO handler.ContextHandler: stopped o.s.j.s.ServletContextHandler{/jobs,null}\n16/01/20 20:20:59 INFO ui.SparkUI: Stopped Spark web UI at http://10.xx.xx.xx:4040\n16/01/20 20:20:59 INFO cluster.YarnClientSchedulerBackend: Shutting down all executors\n16/01/20 20:20:59 INFO cluster.YarnClientSchedulerBackend: Interrupting monitor thread\n16/01/20 20:20:59 INFO cluster.YarnClientSchedulerBackend: Asking each executor to shut down\n16/01/20 20:20:59 INFO cluster.YarnClientSchedulerBackend: Stopped\n16/01/20 20:20:59 INFO spark.MapOutputTrackerMasterEndpoint: MapOutputTrackerMasterEndpoint stopped!\n16/01/20 20:20:59 INFO storage.MemoryStore: MemoryStore cleared\n16/01/20 20:20:59 INFO storage.BlockManager: BlockManager stopped\n16/01/20 20:20:59 INFO storage.BlockManagerMaster: BlockManagerMaster stopped\n16/01/20 20:20:59 INFO scheduler.OutputCommitCoordinator$OutputCommitCoordinatorEndpoint: OutputCommitCoordinator stopped!\n16/01/20 20:20:59 INFO spark.SparkContext: Successfully stopped SparkContext\n16/01/20 20:20:59 INFO remote.RemoteActorRefProvider$RemotingTerminator: Shutting down remote daemon.\n16/01/20 20:20:59 INFO remote.RemoteActorRefProvider$RemotingTerminator: Remote daemon shut down; proceeding with flushing remote transports.\n16/01/20 20:20:59 INFO remote.RemoteActorRefProvider$RemotingTerminator: Remoting shut down.\n16/01/20 20:20:59 INFO util.ShutdownHookManager: Shutdown hook called\n16/01/20 20:20:59 INFO util.ShutdownHookManager: Deleting directory /tmp/spark-ba928a28-64a6-4c70-b4cf-8c348140e89e/httpd-7892e967-247d-469e-96fb-79ad9269e569\n16/01/20 20:20:59 INFO util.ShutdownHookManager: Deleting directory /tmp/spark-ba928a28-64a6-4c70-b4cf-8c348140e89e\n16/01/20 20:20:59 INFO util.ShutdownHookManager: Deleting directory /tmp/spark-ba928a28-64a6-4c70-b4cf-8c348140e89e/pyspark-a2f9af7d-c218-4a0c-ac8a-bfe446fbc754\n[I 2016-01-20 20:21:01.344 zoltan.fedor restarter:103] KernelRestarter: restarting kernel (1/5)\n</code></pre>\n\n<p>And then starts repeating the above.\nAlso where it crashes (where it writes out the Spark version), it also shows some non-displayable characters you don't see in the above logs.</p>\n\n<p>Any idea why is the crashing?</p>\n"}, {"tags": ["python", "json", "dictionary"], "comments": [{"owner": {"reputation": 23806, "user_id": 4542359, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/a6ea331ac684b52563d13e6ee44e03be?s=128&d=identicon&r=PG&f=1", "display_name": "Anton Protopopov", "link": "https://stackoverflow.com/users/4542359/anton-protopopov"}, "edited": false, "score": 0, "creation_date": 1453321511, "post_id": 34909765, "comment_id": 57555277, "body": "What about <code>a.update(b)</code> for your <code>dicts</code>?"}, {"owner": {"reputation": 9937, "user_id": 3710490, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/FFDsr.png?s=128&g=1", "display_name": "Valijon", "link": "https://stackoverflow.com/users/3710490/valijon"}, "edited": false, "score": 0, "creation_date": 1453321866, "post_id": 34909765, "comment_id": 57555489, "body": "You need to load into memory your json from file, apply update and then save it un file. Thats how it works."}, {"owner": {"reputation": 1981, "user_id": 1309045, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6c64b6bf711fe569da004b4db24aff21?s=128&d=identicon&r=PG", "display_name": "Spade", "link": "https://stackoverflow.com/users/1309045/spade"}, "edited": false, "score": 0, "creation_date": 1453322821, "post_id": 34909765, "comment_id": 57556063, "body": "All you need is to load the last line from your file and update it with your local dict. See solution attached."}], "answers": [{"comments": [{"owner": {"reputation": 219, "user_id": 5793120, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/bb75b871c2f6c79af9e1f5b3cb51aeeb?s=128&d=identicon&r=PG&f=1", "display_name": "jumpman8947", "link": "https://stackoverflow.com/users/5793120/jumpman8947"}, "edited": false, "score": 0, "creation_date": 1453321698, "post_id": 34909839, "comment_id": 57555391, "body": "Dont i need a with open() statement?"}, {"owner": {"reputation": 23806, "user_id": 4542359, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/a6ea331ac684b52563d13e6ee44e03be?s=128&d=identicon&r=PG&f=1", "display_name": "Anton Protopopov", "link": "https://stackoverflow.com/users/4542359/anton-protopopov"}, "reply_to_user": {"reputation": 219, "user_id": 5793120, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/bb75b871c2f6c79af9e1f5b3cb51aeeb?s=128&d=identicon&r=PG&f=1", "display_name": "jumpman8947", "link": "https://stackoverflow.com/users/5793120/jumpman8947"}, "edited": false, "score": 0, "creation_date": 1453321981, "post_id": 34909839, "comment_id": 57555566, "body": "You first need to read your json then update it and write it back. You could just add your dict to the existed file. Or would you like to place full dict in the second line?"}, {"owner": {"reputation": 219, "user_id": 5793120, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/bb75b871c2f6c79af9e1f5b3cb51aeeb?s=128&d=identicon&r=PG&f=1", "display_name": "jumpman8947", "link": "https://stackoverflow.com/users/5793120/jumpman8947"}, "edited": false, "score": 0, "creation_date": 1453322520, "post_id": 34909839, "comment_id": 57555891, "body": "Since the first set of data(cars, houses etc,) was already being generated into a json early on, i just want to append mydict to what has been generated."}, {"owner": {"reputation": 219, "user_id": 5793120, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/bb75b871c2f6c79af9e1f5b3cb51aeeb?s=128&d=identicon&r=PG&f=1", "display_name": "jumpman8947", "link": "https://stackoverflow.com/users/5793120/jumpman8947"}, "edited": false, "score": 0, "creation_date": 1453322587, "post_id": 34909839, "comment_id": 57555939, "body": "It generates the first set of data-myjsonfile.json- with a with open() statement, so not sure where to add the update, if i add it outside the with open i get object has no attribute update."}], "tags": [], "owner": {"reputation": 23806, "user_id": 4542359, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/a6ea331ac684b52563d13e6ee44e03be?s=128&d=identicon&r=PG&f=1", "display_name": "Anton Protopopov", "link": "https://stackoverflow.com/users/4542359/anton-protopopov"}, "is_accepted": true, "score": 15, "last_activity_date": 1453323287, "last_edit_date": 1453323287, "creation_date": 1453321617, "answer_id": 34909839, "question_id": 34909765, "link": "https://stackoverflow.com/questions/34909765/combine-two-json-dictionary-python/34909839#34909839", "title": "combine two json dictionary python", "body": "<p>IIUC you need to join to dicts into one, you could do it with <code>update</code>:</p>\n\n<pre><code>a = {\"cars\": 1, \"houses\": 2, \"schools\": 3, \"stores\": 4}\nb = {\"Pens\": 1, \"Pencils\": 2, \"Paper\": 3}\n\na.update(b)\nprint(a)\n</code></pre>\n\n<p>output would looks like:</p>\n\n<pre><code>{'Paper': 3, 'cars': 1, 'Pens': 1, 'stores': 4, 'Pencils': 2, 'schools': 3, 'houses': 2}\n</code></pre>\n\n<p>To create whole new <code>dict</code> without touch <code>a</code> you could do:</p>\n\n<pre><code>out = dict(list(a.items()) + list(b.items()))\n\nprint(out)\n{'Paper': 3, 'cars': 1, 'Pens': 1, 'stores': 4, 'Pencils': 2, 'schools': 3, 'houses': 2}\n</code></pre>\n\n<p><strong>EDIT</strong></p>\n\n<p>For you case you could load your <code>json</code> with <code>json.load</code> update it and then save it with <code>json.dump</code>:</p>\n\n<pre><code>mydict = {\"Pens\": 1, \"Pencils\": 2, \"Paper\": 3}\nwith open('myfile.json' , 'r+') as f:\n   d = json.load(f)\n   d.update(mydict)\n   f.seek(0)\n   json.dump(d, f)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 376, "user_id": 4825844, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0dad0431f5653ec478b78317bcbde748?s=128&d=identicon&r=PG&f=1", "display_name": "deltashade", "link": "https://stackoverflow.com/users/4825844/deltashade"}, "is_accepted": false, "score": 0, "last_activity_date": 1453321862, "creation_date": 1453321862, "answer_id": 34909911, "question_id": 34909765, "link": "https://stackoverflow.com/questions/34909765/combine-two-json-dictionary-python/34909911#34909911", "title": "combine two json dictionary python", "body": "<p>To add onto what Anton said, you can read the json file into a dictionary. Afterwards use <code>a.update(b)</code> like he has, and overwrite the file. </p>\n\n<p>If you open the file to append, and do json dump like you have it will just create another line with the new json data. </p>\n\n<p>Hope this helps.</p>\n"}, {"tags": [], "owner": {"reputation": 1981, "user_id": 1309045, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6c64b6bf711fe569da004b4db24aff21?s=128&d=identicon&r=PG", "display_name": "Spade", "link": "https://stackoverflow.com/users/1309045/spade"}, "is_accepted": false, "score": 0, "last_activity_date": 1453322512, "last_edit_date": 1453322512, "creation_date": 1453322128, "answer_id": 34909989, "question_id": 34909765, "link": "https://stackoverflow.com/questions/34909765/combine-two-json-dictionary-python/34909989#34909989", "title": "combine two json dictionary python", "body": "<p>Given OP's question has a file with JSON contents this answer might be better:</p>\n\n<pre><code>import json\nimport ast\n\nmyFile = 'myFile.json'\njsonString = lastLineofFile(myfile)\nd = ast.literal_eval(jsonString) # from file\n\nd.update(dict)\nwith open(myFile, 'a') as f:\n    json.dump(d, f)\n</code></pre>\n\n<p>Also, since this is incremental, the last line of file can be obtained by the following efficient helper function:</p>\n\n<pre><code># Read the last line of a file. Return 0 if not read in 'timeout' number of seconds\ndef lastLineOfFile(fileName, timeout = 1):\n    elapsed_time = 0\n    offset = 0 \n    line = '' \n    start_time = time.time()\n\n    with open(fileName) as f: \n        while True and elapsed_time &lt; timeout: \n            offset -= 1 \n            f.seek(offset, 2) \n            nextline = f.next() \n\n            if nextline == '\\n' and line.strip(): \n                return line \n            else: \n                line = nextline\n\n            elapsed_time = time.time() - start_time\n\n    if elapsed_time &gt;= timeout:\n        return None\n</code></pre>\n"}], "owner": {"reputation": 219, "user_id": 5793120, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/bb75b871c2f6c79af9e1f5b3cb51aeeb?s=128&d=identicon&r=PG&f=1", "display_name": "jumpman8947", "link": "https://stackoverflow.com/users/5793120/jumpman8947"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 13447, "favorite_count": 1, "accepted_answer_id": 34909839, "answer_count": 3, "score": 8, "last_activity_date": 1453323287, "creation_date": 1453321392, "last_edit_date": 1453321625, "question_id": 34909765, "link": "https://stackoverflow.com/questions/34909765/combine-two-json-dictionary-python", "title": "combine two json dictionary python", "body": "<p>I'm trying to combine two json dictionaries. So far i have a json file(myjfile.json) with the contents </p>\n\n<pre><code>{\"cars\": 01, \"houses\": 02, \"schools\": 03, \"stores\": 04}\n</code></pre>\n\n<p>Also i have a dictionary(mydict) in python which look like this:</p>\n\n<pre><code>{\"Pens\": 1, \"Pencils\": 2, \"Paper\": 3}\n</code></pre>\n\n<p>when i combine the two they are two different dictionaries</p>\n\n<pre><code>with open('myfile.json' , 'a') as f:\n  json.dump(mydict, f)\n</code></pre>\n\n<p>Note that the myfile.json, is being written with 'a'  and a /n in the code because i want to keep the contents of the file and start a new line each time its being written to.</p>\n\n<p>I want the final result to look like </p>\n\n<pre><code>{\"cars\": 01, \"houses\": 02, \"schools\": 03, \"stores\": 04, \"Pens\": 1, \"Pencils\": 2, \"Paper\": 3}\n</code></pre>\n"}, {"tags": ["javascript", "python", "django", "ionic-framework"], "answers": [{"comments": [{"owner": {"reputation": 2613, "user_id": 1305989, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/c6dc5f37a2bbdec9b9ff24dfdc6f0035?s=128&d=identicon&r=PG", "display_name": "user1305989", "link": "https://stackoverflow.com/users/1305989/user1305989"}, "edited": false, "score": 0, "creation_date": 1453322143, "post_id": 34909905, "comment_id": 57555677, "body": "Thanks, this is what exactly I thought. +1."}], "tags": [], "owner": {"reputation": 49769, "user_id": 238639, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba9b80f1493afc4168e39bf759019152?s=128&d=identicon&r=PG", "display_name": "bakkal", "link": "https://stackoverflow.com/users/238639/bakkal"}, "is_accepted": false, "score": 2, "last_activity_date": 1453323144, "last_edit_date": 1453323144, "creation_date": 1453321842, "answer_id": 34909905, "question_id": 34909678, "link": "https://stackoverflow.com/questions/34909678/best-way-to-use-ionic-mobile-app-with-django-for-form-handling/34909905#34909905", "title": "Best way to use ionic mobile app with Django for form handling", "body": "<h2>Django Forms not very helpful for mobile clients</h2>\n\n<p>Django forms are not going to be very helpful for this. Your ionic app needs to have its own form that live independently from the Django app (which is <em>remote</em> vis-a-vis your Django deployment)</p>\n\n<h2>Mobile clients communicate through HTTP</h2>\n\n<p>Under the hood what usually happens is your ionic app will communicate, using HTTP, with your Django app. This can be e.g. over a JSON REST API.</p>\n\n<p>I suggest you build up a REST API on Django, e.g. with <a href=\"http://www.django-rest-framework.org/\" rel=\"nofollow\">Django REST Framework</a> because it is very close to Django's design and idioms. So you get quick support for familiar things like <a href=\"http://www.django-rest-framework.org/api-guide/serializers/#modelserializer\" rel=\"nofollow\">models</a> and <a href=\"http://www.django-rest-framework.org/api-guide/serializers/#validation\" rel=\"nofollow\">validators</a>.</p>\n\n<p>Ionic is AngularJS/Angular2 based, so you can use a host of REST facilities to communicate with your server when your form is posted.</p>\n\n<h2>Generating forms dynamically on the client side using HTTP <code>OPTIONS</code></h2>\n\n<p>If you, for some reason, need to autogenerate the forms on client side (e.g. you are religious about DRY, or you have many forms that follow some patterns etc), you can use the <a href=\"http://www.django-rest-framework.org/api-guide/metadata/\" rel=\"nofollow\"><code>OPTIONS</code></a> HTTP verb to get metadata about the form and its fields </p>\n\n<p>e.g. a client-side form could parse this data structure to build the form</p>\n\n<pre><code>\"actions\": {\n    \"POST\": {\n        \"note\": {\n            \"type\": \"string\",\n            \"required\": false,\n            \"read_only\": false,\n            \"label\": \"title\",\n            \"max_length\": 100\n        }\n    }\n}\n</code></pre>\n\n<p>You can do this with some <a href=\"https://github.com/Textalk/angular-schema-form\" rel=\"nofollow\">libraries</a>, you just have to <em>transform</em> the schema format a little bit, either with a custom DRF metadata generator, or some manipulation on the JS side.</p>\n"}, {"tags": [], "owner": {"reputation": 179, "user_id": 2824391, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2fb78a93f976bcb593165f8452b47ff?s=128&d=identicon&r=PG", "display_name": "rlfrahm", "link": "https://stackoverflow.com/users/2824391/rlfrahm"}, "is_accepted": false, "score": 0, "last_activity_date": 1453321984, "creation_date": 1453321984, "answer_id": 34909937, "question_id": 34909678, "link": "https://stackoverflow.com/questions/34909678/best-way-to-use-ionic-mobile-app-with-django-for-form-handling/34909937#34909937", "title": "Best way to use ionic mobile app with Django for form handling", "body": "<p>I typically use <a href=\"http://www.django-rest-framework.org/\" rel=\"nofollow\">Django-rest-framework</a> (DRF) to build out the api in Django. DRF provides <a href=\"http://www.django-rest-framework.org/api-guide/serializers/\" rel=\"nofollow\">serializers</a> that allow you to validate the incoming request data, much like you would with Django forms.</p>\n\n<p>To answer your question fully though:</p>\n\n<p>You build out your html form with the appropriate fields, then POST the data to your api endpoint (which is an API view), then validate the incoming request data with a serializer.</p>\n"}], "owner": {"reputation": 2613, "user_id": 1305989, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/c6dc5f37a2bbdec9b9ff24dfdc6f0035?s=128&d=identicon&r=PG", "display_name": "user1305989", "link": "https://stackoverflow.com/users/1305989/user1305989"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 347, "favorite_count": 0, "closed_date": 1454786434, "answer_count": 2, "score": 0, "last_activity_date": 1453369427, "creation_date": 1453321088, "last_edit_date": 1453369427, "question_id": 34909678, "link": "https://stackoverflow.com/questions/34909678/best-way-to-use-ionic-mobile-app-with-django-for-form-handling", "closed_reason": "Opinion-based", "title": "Best way to use ionic mobile app with Django for form handling", "body": "<p>I am building a mobile app using ionic.</p>\n\n<p>For normal django site, we generate context in view and send that to template and the template displays html using multiple ways like <code>form.as_p</code> or <code>form.field</code> etc.</p>\n\n<p>What about this ionic mobile app ?</p>\n"}, {"tags": ["python", "networkx"], "comments": [{"owner": {"reputation": 7581, "user_id": 249878, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/50be7ccb1642c90f37be4f14d5767751?s=128&d=identicon&r=PG", "display_name": "yurib", "link": "https://stackoverflow.com/users/249878/yurib"}, "edited": false, "score": 1, "creation_date": 1453321259, "post_id": 34909588, "comment_id": 57555126, "body": "select some <a href=\"https://docs.python.org/2/library/random.html#random.sample\" rel=\"nofollow noreferrer\">random</a> nodes and <a href=\"https://networkx.github.io/documentation/latest/reference/generated/networkx.Graph.remove_nodes_from.html\" rel=\"nofollow noreferrer\">remove them</a>"}, {"owner": {"reputation": 7386, "user_id": 699854, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/2tCRG.jpg?s=128&g=1", "display_name": "Kirell", "link": "https://stackoverflow.com/users/699854/kirell"}, "edited": false, "score": 2, "creation_date": 1453321274, "post_id": 34909588, "comment_id": 57555134, "body": "Hello and welcome to SO. What have you tried?"}, {"owner": {"reputation": 21, "user_id": 5143361, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh3.googleusercontent.com/-vW71lM2E74o/AAAAAAAAAAI/AAAAAAAABfA/0SeV97QNMrA/photo.jpg?sz=128", "display_name": "Suman Pandey", "link": "https://stackoverflow.com/users/5143361/suman-pandey"}, "edited": false, "score": 0, "creation_date": 1453405285, "post_id": 34909588, "comment_id": 57598484, "body": "i am trying to remove 10% of nodes from  a network dataset and then generate the new edgelist after removing nodes and then calculate assortative cofficient .                                                                                                                   how to select ramdom nodes (like 10% noes) and remove it ?                                                                                                                 here total number of node n= 36692"}, {"owner": {"reputation": 21, "user_id": 5143361, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh3.googleusercontent.com/-vW71lM2E74o/AAAAAAAAAAI/AAAAAAAABfA/0SeV97QNMrA/photo.jpg?sz=128", "display_name": "Suman Pandey", "link": "https://stackoverflow.com/users/5143361/suman-pandey"}, "edited": false, "score": 0, "creation_date": 1453405369, "post_id": 34909588, "comment_id": 57598540, "body": "how to select ramdom nodes (like 10% noes) and remove it ?"}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 5143361, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh3.googleusercontent.com/-vW71lM2E74o/AAAAAAAAAAI/AAAAAAAABfA/0SeV97QNMrA/photo.jpg?sz=128", "display_name": "Suman Pandey", "link": "https://stackoverflow.com/users/5143361/suman-pandey"}, "edited": false, "score": 0, "creation_date": 1453577272, "post_id": 34966114, "comment_id": 57665805, "body": "thank you but here one error occour   AttributeError: &#39;module&#39; object has no attribute &#39;random&#39;."}, {"owner": {"reputation": 15084, "user_id": 2699288, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/c8b883ffc677bf99f650d779af4e6946?s=128&d=identicon&r=PG", "display_name": "Fabio Lamanna", "link": "https://stackoverflow.com/users/2699288/fabio-lamanna"}, "reply_to_user": {"reputation": 21, "user_id": 5143361, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh3.googleusercontent.com/-vW71lM2E74o/AAAAAAAAAAI/AAAAAAAABfA/0SeV97QNMrA/photo.jpg?sz=128", "display_name": "Suman Pandey", "link": "https://stackoverflow.com/users/5143361/suman-pandey"}, "edited": false, "score": 0, "creation_date": 1453581090, "post_id": 34966114, "comment_id": 57667192, "body": "Did you import random?"}, {"owner": {"reputation": 21, "user_id": 5143361, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh3.googleusercontent.com/-vW71lM2E74o/AAAAAAAAAAI/AAAAAAAABfA/0SeV97QNMrA/photo.jpg?sz=128", "display_name": "Suman Pandey", "link": "https://stackoverflow.com/users/5143361/suman-pandey"}, "edited": false, "score": 0, "creation_date": 1453634287, "post_id": 34966114, "comment_id": 57679655, "body": "yeah,i  import random. but then also this error occour.    and one more question how to remove first 10 nodes from nodelist ?"}, {"owner": {"reputation": 15084, "user_id": 2699288, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/c8b883ffc677bf99f650d779af4e6946?s=128&d=identicon&r=PG", "display_name": "Fabio Lamanna", "link": "https://stackoverflow.com/users/2699288/fabio-lamanna"}, "reply_to_user": {"reputation": 21, "user_id": 5143361, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh3.googleusercontent.com/-vW71lM2E74o/AAAAAAAAAAI/AAAAAAAABfA/0SeV97QNMrA/photo.jpg?sz=128", "display_name": "Suman Pandey", "link": "https://stackoverflow.com/users/5143361/suman-pandey"}, "edited": false, "score": 0, "creation_date": 1453634391, "post_id": 34966114, "comment_id": 57679675, "body": "Can you reproduce my example? For me it works, in case you have problem, please post your python and networkx versions."}, {"owner": {"reputation": 15084, "user_id": 2699288, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/c8b883ffc677bf99f650d779af4e6946?s=128&d=identicon&r=PG", "display_name": "Fabio Lamanna", "link": "https://stackoverflow.com/users/2699288/fabio-lamanna"}, "reply_to_user": {"reputation": 21, "user_id": 5143361, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh3.googleusercontent.com/-vW71lM2E74o/AAAAAAAAAAI/AAAAAAAABfA/0SeV97QNMrA/photo.jpg?sz=128", "display_name": "Suman Pandey", "link": "https://stackoverflow.com/users/5143361/suman-pandey"}, "edited": false, "score": 0, "creation_date": 1453634653, "post_id": 34966114, "comment_id": 57679748, "body": "Sorry there was an issue with the code, see edit and let me know if it works correctly. And please avoid asking more questions in the comments. Once you have solve the actual problem, consider posting a new question."}, {"owner": {"reputation": 21, "user_id": 5143361, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh3.googleusercontent.com/-vW71lM2E74o/AAAAAAAAAAI/AAAAAAAABfA/0SeV97QNMrA/photo.jpg?sz=128", "display_name": "Suman Pandey", "link": "https://stackoverflow.com/users/5143361/suman-pandey"}, "edited": false, "score": 0, "creation_date": 1453636012, "post_id": 34966114, "comment_id": 57680138, "body": "thank you so much,my problems are solve and my code are properly execute"}], "tags": [], "owner": {"reputation": 15084, "user_id": 2699288, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/c8b883ffc677bf99f650d779af4e6946?s=128&d=identicon&r=PG", "display_name": "Fabio Lamanna", "link": "https://stackoverflow.com/users/2699288/fabio-lamanna"}, "is_accepted": false, "score": 1, "last_activity_date": 1453634622, "last_edit_date": 1453634622, "creation_date": 1453567714, "answer_id": 34966114, "question_id": 34909588, "link": "https://stackoverflow.com/questions/34909588/how-to-remove-random-number-of-nodes-from-a-network-graph/34966114#34966114", "title": "How to remove random number of nodes from a network graph?", "body": "<p>Here is a possible solution, made on a small sample of data:</p>\n\n<pre><code>import networkx as nx\nimport random\n\nG = nx.Graph()\n\nG.add_edges_from([(1,2),(1,3),(3,4),(4,5)])\n\nListOfNodes = G.nodes()\nNumberofNodes = G.number_of_nodes()\n</code></pre>\n\n<p>This returns as <code>G.nodes()</code>:</p>\n\n<pre><code>ListOfNodes = [1, 2, 3, 4, 5]\n</code></pre>\n\n<p>Then define the sample of nodes you want to take from the total number of nodes in\nyour graph (here 3, in your case you can set a sample of <code>int(NumberofNodes*0.1)</code>:</p>\n\n<pre><code>sample = 3\nRandomSample = random.sample(ListOfNodes, sample)\n</code></pre>\n\n<p>then you can remove the sample nodes from your graph with:</p>\n\n<pre><code>G.remove_nodes_from(RandomSample)\n</code></pre>\n\n<p>Calling back the <code>G.nodes()</code> you obtain:</p>\n\n<pre><code>[1, 4, 5]\n</code></pre>\n\n<p>EDIT:\nThere was an issue with <code>RandomSample = random.sample(ListOfNodes, sample)</code> because networkx starts node numbering from 1. Now it should work properly selecting a random <code>sample</code> of nodes directly from the node list.</p>\n"}], "owner": {"reputation": 21, "user_id": 5143361, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh3.googleusercontent.com/-vW71lM2E74o/AAAAAAAAAAI/AAAAAAAABfA/0SeV97QNMrA/photo.jpg?sz=128", "display_name": "Suman Pandey", "link": "https://stackoverflow.com/users/5143361/suman-pandey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1862, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1453634622, "creation_date": 1453320783, "last_edit_date": 1453321018, "question_id": 34909588, "link": "https://stackoverflow.com/questions/34909588/how-to-remove-random-number-of-nodes-from-a-network-graph", "title": "How to remove random number of nodes from a network graph?", "body": "<pre><code>import networkx as nx\nimport itertools\nimport numpy as np\nimport os\nimport sys\nimport pylab as pl\n\ng = nx.read_edgelist('/home/suman/Desktop/dataset/Email-Enron.txt',\n                     create_using=None, nodetype=int, edgetype=int)\n\nn = nx.number_of_nodes(g)\n\nprint n\n</code></pre>\n"}, {"tags": ["python", "dictionary", "soap", "xmltodict"], "answers": [{"tags": [], "owner": {"reputation": 1525, "user_id": 1229013, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/4e0a84e281dd3f3fd6ab8b39e41371b8?s=128&d=identicon&r=PG", "display_name": "hzrari", "link": "https://stackoverflow.com/users/1229013/hzrari"}, "is_accepted": true, "score": 0, "last_activity_date": 1453843885, "last_edit_date": 1453843885, "creation_date": 1453407662, "answer_id": 34933556, "question_id": 34909568, "link": "https://stackoverflow.com/questions/34909568/how-to-convert-dict-to-suds-complex-suds-type/34933556#34933556", "title": "How to convert dict to suds complex suds type", "body": "<p>I finally managed to get it working after hours of suds understanding and debugging. I wrote a solution based on a suds monkey-patch. Thus my dict should be:</p>\n\n<pre><code>params = {\n'unique_id' : uid,\n\"metadata\": {\n        'StringMetadata' : [{'_id': 'user', '_text_':'test_user'},{'_id': 'filename', '_text_': 'myfile.zip'}]\n    }\n }\n\n caller.myMethod(**params)\n</code></pre>\n\n<p>'<strong>_text_</strong>' is a magic that will be detected by the patch and used as a node value. The '<strong>_id</strong>' will be used by suds as an attribute, every element starting by _ is interpreted as a node attribute, so my patch doesn't handle attributes.</p>\n\n<p><strong>This is the patch:</strong></p>\n\n<pre><code>import functools\nfrom suds.mx.appender import *\nlegacy_append = suds.mx.appender.ObjectAppender.append\n@functools.wraps(legacy_append)\ndef _patch_object_append(self, parent, content):\n    object = content.value\n    if self.optional(content) and footprint(object) == 0:\n        return\n    child = self.node(content)\n    for item in object:\n         cont = Content(tag=item[0], value=item[1])\n         if item[0] == '_text_':\n            child.setText(item[1])\n            continue\n\n         Appender.append(self, child, cont)\n    parent.append(child)\n\nsuds.mx.appender.ObjectAppender.append= _patch_object_append\n</code></pre>\n\n<p>This block can be either inserted before your suds instantiating or stored in a separated a script file and imported in your script. Personally, I used the second solution.</p>\n\n<p>Please notice also, that the keyword text was my choice, you can use '<strong>_value_</strong>' instead. It should be updated in this line:</p>\n\n<pre><code>     if item[0] == '_text_':\n</code></pre>\n\n<p>Please feel free to use this patch. I think that this feature should be built-in in the Suds library</p>\n\n<p>Regards,</p>\n"}], "owner": {"reputation": 1525, "user_id": 1229013, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/4e0a84e281dd3f3fd6ab8b39e41371b8?s=128&d=identicon&r=PG", "display_name": "hzrari", "link": "https://stackoverflow.com/users/1229013/hzrari"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 620, "favorite_count": 1, "accepted_answer_id": 34933556, "answer_count": 1, "score": 1, "last_activity_date": 1453843885, "creation_date": 1453320702, "last_edit_date": 1453324554, "question_id": 34909568, "link": "https://stackoverflow.com/questions/34909568/how-to-convert-dict-to-suds-complex-suds-type", "title": "How to convert dict to suds complex suds type", "body": "<p>I am trying to send a request to a soap server, using suds which should look like this:</p>\n\n<pre><code>&lt;SOAP-ENV:Envelope xmlns:ns0=\"http://example.com/wsdl/abc/model/v1\" xmlns:ns1=\"http://schemas.xmlsoap.org/soap/envelope/\" xmlns:ns2=\"http://example.com/xsd/abc/common/v1\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:SOAP-ENV=\"http://schemas.xmlsoap.org/soap/envelope/\"&gt;\n&lt;SOAP-ENV:Header/&gt;\n&lt;ns1:Body&gt;\n   &lt;ns0:myMethod&gt;\n      &lt;unique_id&gt;5211c04b-9cf5-4368-a393-ed96d7b5489d&lt;/unique_id&gt;\n      &lt;metadata&gt;\n         &lt;ns2:StringMetadata id=\"user\"&gt;test_user&lt;/ns2:StringMetadata&gt;\n         &lt;ns2:StringMetadata id=\"filename\"&gt;myfile.zip&lt;/ns2:StringMetadata&gt;\n         &lt;ns2:StringMetadata id=\"unique_id\"&gt;5211c04b-9cf5-4368-a393-ed96d7b5489d&lt;/ns2:StringMetadata&gt;\n      &lt;/metadata&gt;\n   &lt;/ns0:myMethod&gt;\n&lt;/ns1:Body&gt;\n</code></pre>\n\n<p></p>\n\n<p>Is there any way to do it by using <strong>only</strong> dict ?</p>\n\n<p>I am trying this:</p>\n\n<pre><code>params = {\n'unique_id' : uid,\n\"metadata\": {\n        'StringMetadata' : ['test_user', 'myfile.zip']\n    }\n }\n\n caller.myMethod(**params)\n</code></pre>\n\n<p>which generating this request:</p>\n\n<pre><code>    &lt;SOAP-ENV:Envelope xmlns:ns0=\"http://example.com/wsdl/abc/model/v1\" xmlns:ns1=\"http://schemas.xmlsoap.org/soap/envelope/\" xmlns:ns2=\"http://example.com/xsd/abc/common/v1\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:SOAP-ENV=\"http://schemas.xmlsoap.org/soap/envelope/\"&gt;\n   &lt;SOAP-ENV:Header/&gt;\n   &lt;ns1:Body&gt;\n      &lt;ns0:myMethod&gt;\n         &lt;unique_id&gt;2ae5a60e-7928-4d4f-9e53-bafe2a003b8a&lt;/unique_id&gt;\n         &lt;metadata&gt;\n            &lt;ns2:StringMetadata&gt;test_user&lt;/ns2:StringMetadata&gt;\n            &lt;ns2:StringMetadata&gt;myfile.zip&lt;/ns2:StringMetadata&gt;\n         &lt;/metadata&gt;\n      &lt;/ns0:myMethod&gt;\n   &lt;/ns1:Body&gt;\n&lt;/SOAP-ENV:Envelope&gt;\n</code></pre>\n\n<p>So we can se that the <strong>id</strong> attributes are missing from my <strong>StringMetada</strong>. I am wanting to do it using <strong>only</strong> dict, because I am writing a kind of Rest to Soap proxy, which is getting a non-validated Json (or dict) from another caller. So it should be as dynamic as possible.</p>\n\n<p>I tried to build on the fly elements (with factory.create) but it seems to be a headache... I would appreciate a solution by passing a special keyword for element attributes ('_id', '@id' or '#id')...</p>\n\n<p>I also tried to declare my StringMetadata like this:</p>\n\n<pre><code>\"metadata\": {\n        'StringMetadata' : [{'_id': 'user'}, 'myfile.zip']\n    }\n</code></pre>\n\n<p>but it gave me:</p>\n\n<pre><code>    &lt;ns2:StringMetadata id=\"user\"/&gt;\n    &lt;ns2:StringMetadata&gt;myfile.zip&lt;/ns2:StringMetadata&gt;\n</code></pre>\n\n<p>If you have a solution, by applying a monkey-patch (on the fly) to suds classes, please feel free also.</p>\n\n<p>Regards</p>\n"}, {"tags": ["python", "mysql", "django", "django-models", "foreign-key-relationship"], "comments": [{"owner": {"reputation": 8395, "user_id": 3945375, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/DE10z.jpg?s=128&g=1", "display_name": "Gocht", "link": "https://stackoverflow.com/users/3945375/gocht"}, "edited": false, "score": 0, "creation_date": 1453320613, "post_id": 34909485, "comment_id": 57554766, "body": "<code>timeStamp</code> is not a Prent&#39;s field."}, {"owner": {"reputation": 558, "user_id": 4429088, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-LH_cZKo-t2E/AAAAAAAAAAI/AAAAAAAAAGk/rhMbgnHDHuI/photo.jpg?sz=128", "display_name": "Pranayjeet Thakare", "link": "https://stackoverflow.com/users/4429088/pranayjeet-thakare"}, "reply_to_user": {"reputation": 8395, "user_id": 3945375, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/DE10z.jpg?s=128&g=1", "display_name": "Gocht", "link": "https://stackoverflow.com/users/3945375/gocht"}, "edited": false, "score": 0, "creation_date": 1453320914, "post_id": 34909485, "comment_id": 57554933, "body": "@Gocht, Sorry for the typo."}, {"owner": {"reputation": 8395, "user_id": 3945375, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/DE10z.jpg?s=128&g=1", "display_name": "Gocht", "link": "https://stackoverflow.com/users/3945375/gocht"}, "edited": false, "score": 0, "creation_date": 1453321033, "post_id": 34909485, "comment_id": 57555004, "body": "You mean, get all parents that belongs to a child? Some parents are not on any child?"}, {"owner": {"reputation": 558, "user_id": 4429088, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-LH_cZKo-t2E/AAAAAAAAAAI/AAAAAAAAAGk/rhMbgnHDHuI/photo.jpg?sz=128", "display_name": "Pranayjeet Thakare", "link": "https://stackoverflow.com/users/4429088/pranayjeet-thakare"}, "reply_to_user": {"reputation": 8395, "user_id": 3945375, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/DE10z.jpg?s=128&g=1", "display_name": "Gocht", "link": "https://stackoverflow.com/users/3945375/gocht"}, "edited": false, "score": 0, "creation_date": 1453321278, "post_id": 34909485, "comment_id": 57555138, "body": "Yes, All Parents there are in child. Every parent may or may not be in child."}, {"owner": {"reputation": 8395, "user_id": 3945375, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/DE10z.jpg?s=128&g=1", "display_name": "Gocht", "link": "https://stackoverflow.com/users/3945375/gocht"}, "reply_to_user": {"reputation": 1536, "user_id": 3221452, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/659461bfbdbf8e32eccba828d9edd1a0?s=128&d=identicon&r=PG&f=1", "display_name": "T. Opletal", "link": "https://stackoverflow.com/users/3221452/t-opletal"}, "edited": false, "score": 0, "creation_date": 1453321477, "post_id": 34909485, "comment_id": 57555260, "body": "@T.Opletal using prefetch related he will get Childs. Like: <code>Child.objects.filter(timeStamp=&#39;some_value&#39;).prefetch_relate&zwnj;&#8203;d(&#39;parentLink&#39;)</code> and then get the parent for every child."}, {"owner": {"reputation": 1536, "user_id": 3221452, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/659461bfbdbf8e32eccba828d9edd1a0?s=128&d=identicon&r=PG&f=1", "display_name": "T. Opletal", "link": "https://stackoverflow.com/users/3221452/t-opletal"}, "reply_to_user": {"reputation": 8395, "user_id": 3945375, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/DE10z.jpg?s=128&g=1", "display_name": "Gocht", "link": "https://stackoverflow.com/users/3945375/gocht"}, "edited": false, "score": 0, "creation_date": 1453321610, "post_id": 34909485, "comment_id": 57555336, "body": "@Gocht I deleted my comment, because I realized he doesn&#39;t need to use prefetch_related, since he doesn&#39;t need any info to retrieve from Child. However, in the example you posted, you should use <code>select_related</code>. Prefetch related have to be used from parent to child. Like this: <code>Parent.objects.prefetch_related(&#39;child_set&#39;)</code>. Also good to mention that  setting a <code>related_name</code> on Child will make it more readable and easier to navigate"}, {"owner": {"reputation": 8395, "user_id": 3945375, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/DE10z.jpg?s=128&g=1", "display_name": "Gocht", "link": "https://stackoverflow.com/users/3945375/gocht"}, "edited": false, "score": 0, "creation_date": 1453321776, "post_id": 34909485, "comment_id": 57555431, "body": "@PranayjeetThakare you can always use <a href=\"https://docs.djangoproject.com/es/1.9/topics/db/sql/#performing-raw-queries\" rel=\"nofollow noreferrer\">raw queries</a>"}, {"owner": {"reputation": 558, "user_id": 4429088, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-LH_cZKo-t2E/AAAAAAAAAAI/AAAAAAAAAGk/rhMbgnHDHuI/photo.jpg?sz=128", "display_name": "Pranayjeet Thakare", "link": "https://stackoverflow.com/users/4429088/pranayjeet-thakare"}, "reply_to_user": {"reputation": 8395, "user_id": 3945375, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/DE10z.jpg?s=128&g=1", "display_name": "Gocht", "link": "https://stackoverflow.com/users/3945375/gocht"}, "edited": false, "score": 0, "creation_date": 1453394495, "post_id": 34909485, "comment_id": 57591954, "body": "Thanks @Gocht but raw queries don&#39;t return objects, I need Objects of parent model."}], "answers": [{"comments": [{"owner": {"reputation": 138, "user_id": 4102088, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d816d42c9f92b9c1e3122897cf4b90f0?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathan Davis", "link": "https://stackoverflow.com/users/4102088/jonathan-davis"}, "reply_to_user": {"reputation": 5725, "user_id": 3224008, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7IvbW.png?s=128&g=1", "display_name": "Leistungsabfall", "link": "https://stackoverflow.com/users/3224008/leistungsabfall"}, "edited": false, "score": 2, "creation_date": 1453322474, "post_id": 34909924, "comment_id": 57555865, "body": "From the docs, <a href=\"https://docs.djangoproject.com/en/1.9/topics/db/queries/#lookups-that-span-relationships\" rel=\"nofollow noreferrer\">&quot;To refer to a \u201creverse\u201d relationship, just use the lowercase name of the model.&quot;</a> I&#39;ve tried it and it works (in 1.9 at least)."}, {"owner": {"reputation": 8395, "user_id": 3945375, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/DE10z.jpg?s=128&g=1", "display_name": "Gocht", "link": "https://stackoverflow.com/users/3945375/gocht"}, "edited": false, "score": 0, "creation_date": 1453324622, "post_id": 34909924, "comment_id": 57557052, "body": "In your link&#39;s example <code>Entry</code> has a <code>Blog</code> field, this is not that case."}, {"owner": {"reputation": 138, "user_id": 4102088, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d816d42c9f92b9c1e3122897cf4b90f0?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathan Davis", "link": "https://stackoverflow.com/users/4102088/jonathan-davis"}, "reply_to_user": {"reputation": 8395, "user_id": 3945375, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/DE10z.jpg?s=128&g=1", "display_name": "Gocht", "link": "https://stackoverflow.com/users/3945375/gocht"}, "edited": false, "score": 1, "creation_date": 1453324712, "post_id": 34909924, "comment_id": 57557093, "body": "Check the following example. :)"}], "tags": [], "owner": {"reputation": 138, "user_id": 4102088, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d816d42c9f92b9c1e3122897cf4b90f0?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathan Davis", "link": "https://stackoverflow.com/users/4102088/jonathan-davis"}, "is_accepted": true, "score": 5, "last_activity_date": 1453323624, "last_edit_date": 1453323624, "creation_date": 1453321924, "answer_id": 34909924, "question_id": 34909485, "link": "https://stackoverflow.com/questions/34909485/how-to-get-all-objects-of-a-parent-model-of-which-foreign-key-exist-in-child-mod/34909924#34909924", "title": "How to get all objects of a Parent model of which foreign key exist in child model in Django?", "body": "<p>If I understand what you need correctly, it should be something like this:</p>\n\n<pre><code>Parent.objects.filter(\n    child__isnull=False,\n    child__timeStamp__gt=datetime.strptime(\n        '2016-01-01 00.00.00',\n        '%Y-%m-%d %H.%M.%S'\n    )\n)\n</code></pre>\n\n<p>This fetches all <code>Parent</code> objects for which there is a child whose timestamp is later than 2016/01/01.</p>\n"}], "owner": {"reputation": 558, "user_id": 4429088, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-LH_cZKo-t2E/AAAAAAAAAAI/AAAAAAAAAGk/rhMbgnHDHuI/photo.jpg?sz=128", "display_name": "Pranayjeet Thakare", "link": "https://stackoverflow.com/users/4429088/pranayjeet-thakare"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1887, "favorite_count": 2, "accepted_answer_id": 34909924, "answer_count": 1, "score": 3, "last_activity_date": 1453882927, "creation_date": 1453320381, "last_edit_date": 1453882927, "question_id": 34909485, "link": "https://stackoverflow.com/questions/34909485/how-to-get-all-objects-of-a-parent-model-of-which-foreign-key-exist-in-child-mod", "title": "How to get all objects of a Parent model of which foreign key exist in child model in Django?", "body": "<p>I have 2 models</p>\n\n<pre><code>#models\nclass Parent(models.Model):\n     name = models.CharField()\n\nclass Child(models.Model)\n     parentLink = models.ForeignKey(Parent)\n     timeStamp = models.DateTimeField(auto_now_add=True)\n</code></pre>\n\n<p>I want all the objects of Parent model having foreign key mentioned in Child model and some filter on timeStamp field.</p>\n\n<p>How do I do this reverse fetching of objects?</p>\n\n<p>It's MySQL would be something like this</p>\n\n<pre><code>SELECT Parent.name FROM Parent JOIN Child on Parent.Id = Child.parentLink WHERE Child.timeStamp &gt; '2016-01-01 : 00.00.00'\n</code></pre>\n"}, {"tags": ["python", "numpy"], "answers": [{"tags": [], "owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "is_accepted": true, "score": 3, "last_activity_date": 1453320624, "creation_date": 1453320624, "answer_id": 34909550, "question_id": 34909463, "link": "https://stackoverflow.com/questions/34909463/python-data-types-what-does-s-mean/34909550#34909550", "title": "Python Data Types: What does &#39;|S...&#39; Mean?", "body": "<p>Per <a href=\"http://docs.scipy.org/doc/numpy/reference/arrays.dtypes.html\" rel=\"nofollow\">the docs</a> it defines the byte-order, kind, and size of the datatype. In this case:</p>\n\n<pre><code>byte-order: |   not applicable\nkind:       S   (byte-)string\nsize:       82  (characters long)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 16399, "user_id": 4016285, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SvSVV.png?s=128&g=1", "display_name": "B. M.", "link": "https://stackoverflow.com/users/4016285/b-m"}, "is_accepted": false, "score": 0, "last_activity_date": 1453321568, "creation_date": 1453321568, "answer_id": 34909814, "question_id": 34909463, "link": "https://stackoverflow.com/questions/34909463/python-data-types-what-does-s-mean/34909814#34909814", "title": "Python Data Types: What does &#39;|S...&#39; Mean?", "body": "<p>Try :</p>\n\n<pre><code>In [292]: np.array(['one', 'two','three']) # a\nOut[292]: array(['one', 'two', 'three'], dtype='&lt;S5')\n</code></pre>\n\n<p>for efficiency, numpy align data. Here, all items are string of at most 5 caracters, for hosting the initial <code>'three'</code>.</p>\n\n<pre><code>In [295]: a[1]='seventeen';a\nOut[295]: array(['one', 'seven', 'three'], dtype='&lt;S5')\n</code></pre>\n\n<p>You can't furthermore have longer strings.</p>\n"}, {"tags": [], "owner": {"reputation": 81, "user_id": 5802725, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aWnTB.jpg?s=128&g=1", "display_name": "rtpddrummon", "link": "https://stackoverflow.com/users/5802725/rtpddrummon"}, "is_accepted": false, "score": 0, "last_activity_date": 1453321723, "creation_date": 1453321723, "answer_id": 34909875, "question_id": 34909463, "link": "https://stackoverflow.com/questions/34909463/python-data-types-what-does-s-mean/34909875#34909875", "title": "Python Data Types: What does &#39;|S...&#39; Mean?", "body": "<p>From the <a href=\"http://docs.scipy.org/doc/numpy/reference/arrays.dtypes.html\" rel=\"nofollow\">NumPy documentation</a> the first letter of the dtype tells you what kind of data it is. </p>\n\n<pre><code>Array-protocol type strings (see The Array Interface) \n\nThe first character specifies the kind of data and the remaining characters\nspecify the number of bytes per item, except for Unicode, where it is     \ninterpreted as the number of characters. The item size must correspond to an    \nexisting type, or an error will be raised. The supported kinds are  \n  'b'       boolean  \n  'i'       (signed) integer   \n  'u'       unsigned integer  \n  'f'       floating-point  \n  'c'       complex-floating point  \n  'O'       (Python) objects  \n  'S', 'a'  (byte-)string  \n  'U'       Unicode  \n  'V'       raw data (void)  \n</code></pre>\n\n<p>So in your example it is designating that is it a byte-string that is 82 characters long.</p>\n"}], "owner": {"reputation": 1821, "user_id": 399741, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/MXdOW.gif?s=128&g=1", "display_name": "Cartesian Theater", "link": "https://stackoverflow.com/users/399741/cartesian-theater"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 591, "favorite_count": 0, "accepted_answer_id": 34909550, "answer_count": 3, "score": 1, "last_activity_date": 1453321723, "creation_date": 1453320310, "question_id": 34909463, "link": "https://stackoverflow.com/questions/34909463/python-data-types-what-does-s-mean", "title": "Python Data Types: What does &#39;|S...&#39; Mean?", "body": "<p>A noob question, but in this numpy array:</p>\n\n<pre><code>array(['22', '38', '26', '35', '35', '', '54', '2', '27', '14', '4', '58',    '20', '39', '14'], dtype='|S82')\n</code></pre>\n\n<p>what does '|S82' mean? </p>\n"}, {"tags": ["python", "python-3.x", "python-requests", "pyinstaller"], "answers": [{"comments": [{"owner": {"reputation": 83, "user_id": 3338150, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XrWpQ.png?s=128&g=1", "display_name": "corpz", "link": "https://stackoverflow.com/users/3338150/corpz"}, "edited": false, "score": 0, "creation_date": 1453476922, "post_id": 34909788, "comment_id": 57632197, "body": "I try to install 2.5.1,but it also fails"}], "tags": [], "owner": {"reputation": 311, "user_id": 2850762, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a8fe9162d847e37c51e9b2a3cb0b6e8?s=128&d=identicon&r=PG&f=1", "display_name": "thearn", "link": "https://stackoverflow.com/users/2850762/thearn"}, "is_accepted": false, "score": 2, "last_activity_date": 1453321493, "creation_date": 1453321493, "answer_id": 34909788, "question_id": 34909458, "link": "https://stackoverflow.com/questions/34909458/why-pyinstaller-doesnt-detect-request-module/34909788#34909788", "title": "Why PyInstaller doesn&#39;t detect request module?", "body": "<p>I can't say if it directly related to your issue, but it appears that others have had some trouble with PyInstaller and the <code>requests</code> module: <a href=\"https://github.com/maphew/apt/issues/45\" rel=\"nofollow\">https://github.com/maphew/apt/issues/45</a></p>\n"}], "owner": {"reputation": 83, "user_id": 3338150, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XrWpQ.png?s=128&g=1", "display_name": "corpz", "link": "https://stackoverflow.com/users/3338150/corpz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2038, "favorite_count": 1, "answer_count": 1, "score": 3, "last_activity_date": 1453321493, "creation_date": 1453320301, "question_id": 34909458, "link": "https://stackoverflow.com/questions/34909458/why-pyinstaller-doesnt-detect-request-module", "title": "Why PyInstaller doesn&#39;t detect request module?", "body": "<p>I use PyInstaller to make an .exe file from my python 3 project.</p>\n\n<p>The problem is this error from .exe file </p>\n\n<pre><code>  Traceback (most recent call last):\n  File \"src\\parser\\bla.py\", line 25, in get_b\n  File \"src\\parser\\blabla.py\", line 32, in __init__\n  File \"src\\parser\\blablabla.py\", line 9, in get_b_a\nAttributeError: module 'requests' has no attribute 'get'\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"&lt;string&gt;\", line 147, in &lt;module&gt;\n  File \"&lt;string&gt;\", line 141, in main\n  File \"&lt;string&gt;\", line 57, in saving_a\n  File \"src\\parser\\bla.py\", line 26, in get_a\nAttributeError: module 'requests' has no attribute 'exceptions'\nmain returned -1\n</code></pre>\n\n<p>My spec looks like this</p>\n\n<pre><code>block_cipher = None\n\na = Analysis(['main.py'],\n             pathex=['F:\\\\Dropbox\\\\web development\\\\prjct', 'C:\\\\Users\\\\uzr\\\\AppData\\\\Local\\\\Programs\\\\Python\\\\Python35-32\\\\Lib\\\\site-packages'],\n             binaries=None,\n             datas=[ ('F:\\\\Dropbox\\\\web development\\\\prjct\\\\public\\\\thingies.txt', 'DATA') ],\n             hiddenimports=[\"requests\"],\n             hookspath=[],\n             runtime_hooks=[],\n             excludes=[],\n             win_no_prefer_redirects=False,\n             win_private_assemblies=False,\n             cipher=block_cipher)\npyz = PYZ(a.pure, a.zipped_data,\n             cipher=block_cipher)\nexe = EXE(pyz,\n          a.scripts,\n          a.binaries,\n          a.zipfiles,\n          a.datas,\n          name='main',\n          debug=False,\n          strip=False,\n          upx=True,\n          console=True )\n</code></pre>\n\n<p>Why doesnt PyInstaller detect requests module correctly?\nThe request packege is 2.9.1\nPyInstaller 3.1</p>\n"}, {"tags": ["python", "numpy", "matplotlib"], "answers": [{"tags": [], "owner": {"reputation": 27649, "user_id": 5067311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qjltV.png?s=128&g=1", "display_name": "Andras Deak", "link": "https://stackoverflow.com/users/5067311/andras-deak"}, "is_accepted": true, "score": 2, "last_activity_date": 1453322285, "last_edit_date": 1453322285, "creation_date": 1453321626, "answer_id": 34909844, "question_id": 34909446, "link": "https://stackoverflow.com/questions/34909446/matplotlib-histogram-plotting-values-greater-than-a-given-value/34909844#34909844", "title": "Matplotlib histogram - plotting values greater than a given value", "body": "<p>I'd use a manual <code>bar</code> plot after constructing the necessary data:</p>\n\n<pre><code>import numpy as np\nimport matplotlib.pyplot as plt\n\n# dummy data\ndata2 = np.random.randint(low=0,high=450,size=200)\n\nbins = [100,110,120,130,140,150,160,180,200,250,300,350,400]\nbinwidths = np.diff(bincenters)\nbinvals = [np.sum(data2&gt;=thresh) for thresh in bins[:-1]]\n\nplt.figure()\nplt.bar(bins[:-1],binvals,width=binwidths,alpha=0.4)\nplt.xlabel('threshold')\nplt.ylabel('occurences')\n</code></pre>\n\n<p>Result:</p>\n\n<p><a href=\"https://i.stack.imgur.com/j8CWP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/j8CWP.png\" alt=\"bar plot\"></a></p>\n\n<p>The array <code>bins</code> is actually the list (<code>ndarray</code>) of thresholds. For each threshold we compute the number of values of <code>data2</code> which are above the threshold, these are the values of the bar plot, called <code>binvals</code>. We skip the last indices, to get the correct dimensions in the output.</p>\n"}], "owner": {"reputation": 817, "user_id": 4011337, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/0lN7u.jpg?s=128&g=1", "display_name": "CatarinaCM", "link": "https://stackoverflow.com/users/4011337/catarinacm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2487, "favorite_count": 0, "accepted_answer_id": 34909844, "answer_count": 1, "score": 4, "last_activity_date": 1504456994, "creation_date": 1453320265, "last_edit_date": 1504456994, "question_id": 34909446, "link": "https://stackoverflow.com/questions/34909446/matplotlib-histogram-plotting-values-greater-than-a-given-value", "title": "Matplotlib histogram - plotting values greater than a given value", "body": "<p>I've the following histogram:\n<a href=\"https://i.stack.imgur.com/R5NUO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/R5NUO.png\" alt=\"enter image description here\"></a></p>\n\n<p>It was produced with this code:</p>\n\n<pre><code>import matplotlib.pyplot as plt\nimport numpy as num\n\n\ntreshold_file='false_alarms.txt'\nwith open(treshold_file, 'r') as f2:\n    lines = f2.readlines()\ndata = [line.split() for line in lines]\ndata1 = num.array(data)\ndata2= data1.astype(float)\nplt.hist((data2), alpha=0.4,bins=[100,110,120,130,   140,150,160,180,200,250,300,350,400])\nplt.xlabel(\"treshold\")\nplt.ylabel(\"Frequency\")\n</code></pre>\n\n<p>I'd like to plot for each bin the number of values greater or equal  to a given treshold.  </p>\n\n<p>For the bin 100, I'd like to plot the number of samples > 100, etc.</p>\n"}, {"tags": ["python", "fabric", "salt-stack", "devops"], "comments": [{"owner": {"reputation": 8411, "user_id": 2399775, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29a2523b23d09e0bfc15d3a77e505271?s=128&d=identicon&r=PG", "display_name": "wpercy", "link": "https://stackoverflow.com/users/2399775/wpercy"}, "edited": false, "score": 0, "creation_date": 1453320629, "post_id": 34909426, "comment_id": 57554777, "body": "In my experience Saltstack is more for setting up new servers - setting up their configuration files, making sure services are running on all of them, installing all dependencies, etc. where Fabric is more for executing commands on machines already up and running. Judging from your shown usecase, Fabric seems like the right choice."}, {"owner": {"reputation": 8411, "user_id": 2399775, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29a2523b23d09e0bfc15d3a77e505271?s=128&d=identicon&r=PG", "display_name": "wpercy", "link": "https://stackoverflow.com/users/2399775/wpercy"}, "edited": false, "score": 0, "creation_date": 1453320738, "post_id": 34909426, "comment_id": 57554830, "body": "Salt is also better for HUUUGE stacks than Fabric"}, {"owner": {"reputation": 26891, "user_id": 633961, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/0c29q.jpg?s=128&g=1", "display_name": "guettli", "link": "https://stackoverflow.com/users/633961/guettli"}, "edited": false, "score": 0, "creation_date": 1457100024, "post_id": 34909426, "comment_id": 59265432, "body": "We are doing the same thing at the moment. Fabric is like remote shell script execution. We want to leave that behind. SaltStack is different. You define what you want, not what you do. This is difficult in the beginning."}], "answers": [{"comments": [{"owner": {"reputation": 127, "user_id": 5792173, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3d5f322d4c5d296c50104cffd45a6246?s=128&d=identicon&r=PG&f=1", "display_name": "AkwMak", "link": "https://stackoverflow.com/users/5792173/akwmak"}, "edited": false, "score": 0, "creation_date": 1459463580, "post_id": 34932560, "comment_id": 60311667, "body": "Thanks for your help! I appreciate it!"}], "tags": [], "owner": {"reputation": 28286, "user_id": 1995300, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/GR7Be.jpg?s=128&g=1", "display_name": "helmbert", "link": "https://stackoverflow.com/users/1995300/helmbert"}, "is_accepted": true, "score": 3, "last_activity_date": 1453404231, "creation_date": 1453404231, "answer_id": 34932560, "question_id": 34909426, "link": "https://stackoverflow.com/questions/34909426/can-saltstack-do-something-similar-to-fabric/34932560#34932560", "title": "Can saltstack do something similar to Fabric?", "body": "<p>You can use Salt both for configuration management and ad-hoc orchestration tasks. What you're looking for are <a href=\"https://docs.saltstack.com/en/latest/ref/modules/\" rel=\"nofollow\">execution modules</a>. Those are simple Python files that you can place the in the <code>&lt;file_root&gt;/_modules</code> directory on your master (typically something like <code>/srv/salt/_modules</code>). They will be picked up by the master automatically and distributed to the minions on-demand. You can then invoke them on a minion  (either using <code>salt '&lt;minion-id&gt;'</code> on the master or using <code>salt-call</code> on the minion).</p>\n\n<p>In your case, you could create a file <code>deploy.py</code> in your modules directory with the following content:</p>\n\n<pre><code>#!/usr/bin/python\n\ndef commit(message, cwd):\n    __salt__['cmd.run'](\"git add . &amp;&amp; git commit -am '{}'\".format(message),\n                        cwd=cwd)\n\ndef push(cwd):\n    __salt__['cmd.run'](\"git push origin master\",\n                        cwd=cwd)\n\ndef prepare(message, cwd):\n    commit(message=message, cwd=cwd)\n    push(cwd=cwd)\n</code></pre>\n\n<p>The <a href=\"https://docs.saltstack.com/en/latest/ref/modules/all/salt.modules.cmdmod.html#salt.modules.cmdmod.run\" rel=\"nofollow\"><code>__salt__['cmd.run']</code></a> function that I'm using in my example is one of many already-built-in executions modules provided by Salt.</p>\n\n<p>The execution module needs to be placed on the master, but will be run on the minion. Besides using existing execution modules like <code>cmd.run</code>, you can unleash the full Python power in them.</p>\n\n<p>You could then call this script from the Salt master:</p>\n\n<pre><code>$ salt 'minion-id' deploy.prepare message='Some commit message' cwd=/path/to/git\n</code></pre>\n\n<p>Alternatively, you can also invoke it directly on the minion:</p>\n\n<pre><code>$ salt-call deploy.prepare message='Some commit message' cwd=/path/to/git\n</code></pre>\n"}], "owner": {"reputation": 127, "user_id": 5792173, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3d5f322d4c5d296c50104cffd45a6246?s=128&d=identicon&r=PG&f=1", "display_name": "AkwMak", "link": "https://stackoverflow.com/users/5792173/akwmak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 661, "favorite_count": 0, "accepted_answer_id": 34932560, "answer_count": 1, "score": 3, "last_activity_date": 1453404270, "creation_date": 1453320171, "last_edit_date": 1453404270, "question_id": 34909426, "link": "https://stackoverflow.com/questions/34909426/can-saltstack-do-something-similar-to-fabric", "title": "Can saltstack do something similar to Fabric?", "body": "<p><br>\nI am new to saltstack. I have saltstack installed. I can run \"sudo salt '*' test.ping\" successfully.\nI am trying to use salt to replace Fabric. I have some functions/procedures in Fabric, which I would like salt to do the same.</p>\n\n<pre><code>def commit():\n    message = raw_input(\"Enter a git commit message: \")\n    local(\"git add . &amp;&amp; git commit -am '{}'\".format(message))\n\ndef push():\n    local(\"git push origin master\")\n\ndef prepare():\n    commit()\n    push()\n</code></pre>\n\n<ol>\n<li>Can Salt be used to replace Fabric?</li>\n<li>How should I start? Which file should I modify or create in order to define those executions?</li>\n<li>Where do I place this definition file?</li>\n<li>How do I get the minion to run the defined function, e.g. \"commit\"?</li>\n</ol>\n\n<p>Thanks for your help!</p>\n"}, {"tags": ["python", "ctypes", "dllimport"], "comments": [{"owner": {"reputation": 570607, "user_id": 505088, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/3c0aac2191718ef0309dbc034d9b9961?s=128&d=identicon&r=PG", "display_name": "David Heffernan", "link": "https://stackoverflow.com/users/505088/david-heffernan"}, "edited": false, "score": 0, "creation_date": 1453320478, "post_id": 34909395, "comment_id": 57554697, "body": "If you get the function names right, exactly as they are exported, and displayed by any PE function export viewer, you will be able to load them. If ctypes gives you attribute error, that means you got the function name wrong."}, {"owner": {"reputation": 29355, "user_id": 205580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/460e6e299e385fd46df156c85a1dd55f?s=128&d=identicon&r=PG", "display_name": "Eryk Sun", "link": "https://stackoverflow.com/users/205580/eryk-sun"}, "edited": false, "score": 0, "creation_date": 1453324222, "post_id": 34909395, "comment_id": 57556822, "body": "<a href=\"http://www.nirsoft.net/utils/dll_export_viewer.html\" rel=\"nofollow noreferrer\">DLL Export Viewer</a> shows you the list of exported names. If the DLL exports a function named &quot;bar&quot;, access it as <code>foo.bar</code>."}, {"owner": {"reputation": 1509, "user_id": 1816847, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c5aedd7bf37e402708c2a16f7fa419c2?s=128&d=identicon&r=PG", "display_name": "user1816847", "link": "https://stackoverflow.com/users/1816847/user1816847"}, "edited": false, "score": 0, "creation_date": 1453326549, "post_id": 34909395, "comment_id": 57558124, "body": "I&#39;m using the exact name as shown in the DLL export viewer.  The names contain upper case, lower case, and the underscore character."}, {"owner": {"reputation": 1509, "user_id": 1816847, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c5aedd7bf37e402708c2a16f7fa419c2?s=128&d=identicon&r=PG", "display_name": "user1816847", "link": "https://stackoverflow.com/users/1816847/user1816847"}, "edited": false, "score": 0, "creation_date": 1453327946, "post_id": 34909395, "comment_id": 57558877, "body": "Seems like the DLL export viewer tool undecorates the function names.  <code>dumpbin &#47;exports foo.dll</code> shows decorated names :/"}, {"owner": {"reputation": 29355, "user_id": 205580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/460e6e299e385fd46df156c85a1dd55f?s=128&d=identicon&r=PG", "display_name": "Eryk Sun", "link": "https://stackoverflow.com/users/205580/eryk-sun"}, "edited": false, "score": 0, "creation_date": 1453331702, "post_id": 34909395, "comment_id": 57560509, "body": "If the DLL only has a C++ API, you can try to wrap it with Cython, Boost.Python or SWIG -- but you&#39;ll need a C++ compiler in that case."}], "owner": {"reputation": 1509, "user_id": 1816847, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c5aedd7bf37e402708c2a16f7fa419c2?s=128&d=identicon&r=PG", "display_name": "user1816847", "link": "https://stackoverflow.com/users/1816847/user1816847"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 496, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1453320047, "creation_date": 1453320047, "question_id": 34909395, "link": "https://stackoverflow.com/questions/34909395/python-ctypes-cdll-function-by-name-isnt-working-instead-of-ordinal", "title": "python ctypes cdll function by name isn&#39;t working instead of ordinal", "body": "<p>I'm loading a dll with <code>ctypes.cdll()</code> and I don't have access to the function names:</p>\n\n<pre><code>foo = cdll.LoadLibrary(\"my.dll\")\nfoo.myfunction() #AttributeError\nfoo[52]() #works as expected\n</code></pre>\n\n<p>Right now I'm using a program called <a href=\"http://www.nirsoft.net\" rel=\"nofollow\">dll export viewer</a> to find the ordinal for each function call, but I'm worried that when the dll changes the ordinals will change with it.</p>\n\n<p>This is cdll and when inspected I don't see any mangled names; everything looks as it should.  Besides getting the names wrong, what else could be preventing python from loading the function names?</p>\n"}, {"tags": ["python", "oop", "python-3.x", "getattr"], "comments": [{"owner": {"reputation": 9677, "user_id": 4244780, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KUXr1.jpg?s=128&g=1", "display_name": "Iron Fist", "link": "https://stackoverflow.com/users/4244780/iron-fist"}, "edited": false, "score": 0, "creation_date": 1453320495, "post_id": 34909391, "comment_id": 57554704, "body": "<i>a, b, and c are all part of the same Class; just different instances</i>...not clear to me?...like instances of other classes?"}, {"owner": {"reputation": 38371, "user_id": 3555845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e06f616d9a53b1ca18287d1049a28ee?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/3555845/daniel"}, "edited": false, "score": 1, "creation_date": 1453320580, "post_id": 34909391, "comment_id": 57554749, "body": "How do you know which of <code>a</code>, <code>b</code> or <code>c</code> you have to use?"}, {"owner": {"reputation": 209114, "user_id": 1427416, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/QWHKg.png?s=128&g=1", "display_name": "BrenBarn", "link": "https://stackoverflow.com/users/1427416/brenbarn"}, "edited": false, "score": 1, "creation_date": 1453320648, "post_id": 34909391, "comment_id": 57554788, "body": "The best way is don&#39;t use variables called <code>a</code>, <code>b</code> and <code>c</code>.  Instead, use a dictionary whose keys are <code>&#39;a&#39;</code>, <code>&#39;b&#39;</code> and <code>&#39;c&#39;</code>."}, {"owner": {"reputation": 187, "user_id": 5807770, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/25f57cdcad26e32f72beb2152e796e22?s=128&d=identicon&r=PG&f=1", "display_name": "aaaidan", "link": "https://stackoverflow.com/users/5807770/aaaidan"}, "edited": false, "score": 0, "creation_date": 1453332547, "post_id": 34909391, "comment_id": 57560820, "body": "Iron fist; so, to give some context, I&#39;m creating a game, and each player can &#39;log in&#39;. A, B and C represent the different players."}], "answers": [{"tags": [], "owner": {"reputation": 2955, "user_id": 5642219, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71ff21486f749bb8deb88cc94ac12086?s=128&d=identicon&r=PG&f=1", "display_name": "mementum", "link": "https://stackoverflow.com/users/5642219/mementum"}, "is_accepted": false, "score": 0, "last_activity_date": 1453321056, "creation_date": 1453321056, "answer_id": 34909664, "question_id": 34909391, "link": "https://stackoverflow.com/questions/34909391/python-how-do-you-use-getattr-to-call-an-variable-object/34909664#34909664", "title": "Python - How do you use getattr to call an variable object?", "body": "<p>I assume that 'some_function' will also be determined at runtime and the name put into a variable:</p>\n\n<pre><code>fname = 'some_function'\n\nfor obj in objlist:\n    method = getattr(obj, fname, None)\n    if method is None:\n        continue\n\n    method()  # you can also put this into a try block\n</code></pre>\n\n<p><code>getattr</code> on obj gives you a bound method and that means it can be directly referenced and called.</p>\n"}, {"tags": [], "owner": {"reputation": 76, "user_id": 5107386, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/McG83.png?s=128&g=1", "display_name": "alikyos", "link": "https://stackoverflow.com/users/5107386/alikyos"}, "is_accepted": false, "score": 0, "last_activity_date": 1453321144, "creation_date": 1453321144, "answer_id": 34909692, "question_id": 34909391, "link": "https://stackoverflow.com/questions/34909391/python-how-do-you-use-getattr-to-call-an-variable-object/34909692#34909692", "title": "Python - How do you use getattr to call an variable object?", "body": "<p>set the <code>some_function</code> an <code>obj</code> parameter and use in the <code>getattr</code>:</p>\n\n<pre><code>def some_function(obg):\n    for attr in ['title', 'author']:\n        getattr(obj, attr)\n</code></pre>\n"}], "owner": {"reputation": 187, "user_id": 5807770, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/25f57cdcad26e32f72beb2152e796e22?s=128&d=identicon&r=PG&f=1", "display_name": "aaaidan", "link": "https://stackoverflow.com/users/5807770/aaaidan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1312, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1453321144, "creation_date": 1453320037, "question_id": 34909391, "link": "https://stackoverflow.com/questions/34909391/python-how-do-you-use-getattr-to-call-an-variable-object", "title": "Python - How do you use getattr to call an variable object?", "body": "<p>I've searched through a large number of links on how to use the getattr function in python and understand that it can be used to call functions as per below;</p>\n\n<pre><code>for attr in ['title', 'author']:\n    getattr(b, attr)\n</code></pre>\n\n<p>which is equivalent to;</p>\n\n<pre><code>b.title\nb.author\n</code></pre>\n\n<p>My question is how do you dynamically refer to an object; <code>b</code></p>\n\n<p>i.e. I know that I will be calling the function <code>some_function()</code>, but the object could be <code>a</code>,<code>b</code>, or <code>c</code>. Note a, b, and c are all part of the same Class; just different instances.</p>\n\n<p>I won't know until runtime which I will need to call.</p>\n"}, {"tags": ["python", "setuptools", "maya", "easy-install", "maya-api"], "comments": [{"owner": {"reputation": 28245, "user_id": 1547004, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5255289d0269d550a4e80e6bf6b0f590?s=128&d=identicon&r=PG", "display_name": "Brendan Abel", "link": "https://stackoverflow.com/users/1547004/brendan-abel"}, "edited": false, "score": 0, "creation_date": 1453320375, "post_id": 34909369, "comment_id": 57554635, "body": "When you say not working, what do you mean?  Is there an exception?  Does the command line fail?  Try using subprocess and setting <code>stdout=PIPE</code> so you can get the output from the command."}, {"owner": {"reputation": 205, "user_id": 3395409, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/dBbDq.jpg?s=128&g=1", "display_name": "Pax", "link": "https://stackoverflow.com/users/3395409/pax"}, "reply_to_user": {"reputation": 28245, "user_id": 1547004, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5255289d0269d550a4e80e6bf6b0f590?s=128&d=identicon&r=PG", "display_name": "Brendan Abel", "link": "https://stackoverflow.com/users/1547004/brendan-abel"}, "edited": false, "score": 0, "creation_date": 1453320936, "post_id": 34909369, "comment_id": 57554944, "body": "Hey, I tried to clarify this by editing the original post.."}, {"owner": {"reputation": 28245, "user_id": 1547004, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5255289d0269d550a4e80e6bf6b0f590?s=128&d=identicon&r=PG", "display_name": "Brendan Abel", "link": "https://stackoverflow.com/users/1547004/brendan-abel"}, "edited": false, "score": 0, "creation_date": 1453320944, "post_id": 34909369, "comment_id": 57554950, "body": "Again, what happens exactly?  What is the output when running the shell command from python (you&#39;ll need to use <code>subprocess.Popen()</code> since <code>subprocess.call</code> may block if you try to write the stderr or stdout to a PIPE."}, {"owner": {"reputation": 205, "user_id": 3395409, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/dBbDq.jpg?s=128&g=1", "display_name": "Pax", "link": "https://stackoverflow.com/users/3395409/pax"}, "reply_to_user": {"reputation": 28245, "user_id": 1547004, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5255289d0269d550a4e80e6bf6b0f590?s=128&d=identicon&r=PG", "display_name": "Brendan Abel", "link": "https://stackoverflow.com/users/1547004/brendan-abel"}, "edited": false, "score": 0, "creation_date": 1453321228, "post_id": 34909369, "comment_id": 57555111, "body": "I tried    subprocess.call([maya_py, file_path], stdout=subprocess.PIPE)  same issue.  i will try Popen"}, {"owner": {"reputation": 28245, "user_id": 1547004, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5255289d0269d550a4e80e6bf6b0f590?s=128&d=identicon&r=PG", "display_name": "Brendan Abel", "link": "https://stackoverflow.com/users/1547004/brendan-abel"}, "edited": false, "score": 0, "creation_date": 1453321570, "post_id": 34909369, "comment_id": 57555310, "body": "Do this:  <code>p = Popen(cmd, stdout=PIPE);  p.wait();  print p.stdout.read()</code>"}, {"owner": {"reputation": 11342, "user_id": 1936075, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/keYz5.jpg?s=128&g=1", "display_name": "theodox", "link": "https://stackoverflow.com/users/1936075/theodox"}, "edited": false, "score": 0, "creation_date": 1453929580, "post_id": 34909369, "comment_id": 57820629, "body": "Generally speaking it&#39;s very hard to use the standard pip/easy-install route for Maya if you&#39;re planning on sharing this with anybody else: there are permissions issues and access rights (in many studios, artists aren&#39;t admins on their own machines and can&#39;t run with root privileges or access the Maya install directory).  Lots of resources on this question <a href=\"http://tech-artists.org/forum/showthread.php?5309-Deploy-tools-for-your-Maya-team&amp;highlight=distribution\" rel=\"nofollow noreferrer\">here</a>"}, {"owner": {"reputation": 3964, "user_id": 1335032, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ab18a1d5cae5b41b020948885e254ce?s=128&d=identicon&r=PG", "display_name": "joojaa", "link": "https://stackoverflow.com/users/1335032/joojaa"}, "edited": false, "score": 0, "creation_date": 1477213244, "post_id": 34909369, "comment_id": 67667326, "body": "Have you read <a href=\"http://stackoverflow.com/questions/12966147/how-can-i-install-python-modules-programmatically-through-a-python-script/13016849#13016849\">this</a>?"}], "owner": {"reputation": 205, "user_id": 3395409, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/dBbDq.jpg?s=128&g=1", "display_name": "Pax", "link": "https://stackoverflow.com/users/3395409/pax"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 430, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1453325007, "creation_date": 1453319951, "last_edit_date": 1453325007, "question_id": 34909369, "link": "https://stackoverflow.com/questions/34909369/easy-install-from-mayas-python-interpreter", "title": "easy_install from Maya&#39;s python interpreter", "body": "<p>I would like to download and install setup_tools, easy_install and tinydb all from within mayas python interpreter..</p>\n\n<p>check out setup() in the code below.</p>\n\n<p>I'm pretty close, but it looks like the system command to run ez-setup.py is not downloading the easy_install packages to mayas site_packages directory, which is strange because the same command works perfectly in the shell..</p>\n\n<p>So the system call reads like this:\n/Applications/Autodesk/maya2016/Maya.app/Contents/bin/mayapy /Users/paxtongerrish/downloads/ez_setup.py</p>\n\n<p>I am pointing mayas python interpreter at ez_setup.py</p>\n\n<p>when i punch this command into the shell, it downloads setup_tools to mayas python site_packages directory... Great! :D</p>\n\n<p>However..  I need to have this all happen from inside mayas python interpreter and it does not work when called from os.system or subprocess.call</p>\n\n<p>thanks!\n    import os\n    import sys\n    import urllib2\n    import subprocess</p>\n\n<pre><code>setup_tools_address = 'https://bitbucket.org/pypa/setuptools/raw/bootstrap/ez_setup.py'\ndownloads_directory = '%s/downloads' % os.getenv('HOME')\n\nif not os.path.exists(downloads_directory):\n    os.makedirs(downloads_directory)\n\ndef setup():\n    url = setup_tools_address\n    file_path = '%s/%s' % (downloads_directory, url.split('/')[-1])\n    maya_py = maya_py_path()\n    for p in download_url(url, file_path):\n        print p\n    system_command = '%s %s' % (maya_py, file_path)\n    print '----- sys command---  (only works in shell)------\\n'\n    print system_command\n    print '\\n----------------------------------------------\\n'\n    #This system command works from shell, but not from python.... Maybe superuser thing??\n    #os.system(system_command)\n    #sub process doesnt work either\n\n    p = subprocess.Popen([maya_py, file_path], shell=True, stdout=subprocess.PIPE)\n    print '---&gt;&gt;'\n    p.wait()\n    for i in p.stdout.readline():\n        sys.stdout.flush()\n        print i\n    add_eggs()\n    from setuptools.command import easy_install\n    easy_install.main(['tinydb'])\n    add_eggs()\n    import tinydb\n\ndef download_url(url, file_path, block_size=2056):\n    request = urllib2.urlopen(url)\n    file_size = int(request.info()['Content-Length'])\n    if not file_path:\n        file_path = '%s/%s' % (os.getenv('HOME'), url.split(\"/\")[-1])\n    downloaded_chunk = 0\n    with open(file_path, \"wb\") as f:\n        while downloaded_chunk &lt; file_size:\n            chunk = request.read(block_size)\n            downloaded_chunk += len(chunk)\n            f.write(chunk)\n            progress = float(downloaded_chunk) / file_size * 100\n            yield progress\n        print(\"\\nDownload Complete.\")\n\ndef maya_app_path():\n    appName = 'Maya'\n    if sys.platform == 'win32':\n        appName = 'Maya.exe'\n    for p in sys.path:\n        app_path = '%s/%s' % (p.replace('\\\\','/') , appName)\n        if os.path.exists(app_path):\n            return app_path\n\ndef maya_py_path():\n    file_name = 'mayapy'\n    if sys.platform == 'win32':\n        file_name = 'mayapy.exe'\n        return '%s\\\\%s' % (os.path.dirname(maya_app_path().replace('/','\\\\')), file_name.replace('/','\\\\'))\n    return '%s/bin/%s' % (os.path.dirname(os.path.dirname(maya_app_path())), file_name)\n\ndef get_site_packages_directory():\n    for p in sys.path:\n        if p.endswith('site-packages'):\n            return p\n\ndef add_eggs():\n    site_packages_directory = get_site_packages_directory()\n    for item in os.listdir(site_packages_directory):\n        if item.endswith('.egg'):\n            sys.path.append('%s/%s' % (site_packages_directory, item))\n</code></pre>\n"}, {"tags": ["python", "dictionary"], "comments": [{"owner": {"reputation": 64040, "user_id": 3620003, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/QnqtZ.jpg?s=128&g=1", "display_name": "timgeb", "link": "https://stackoverflow.com/users/3620003/timgeb"}, "edited": false, "score": 3, "creation_date": 1453319202, "post_id": 34909111, "comment_id": 57554014, "body": "Your desired result has invalid syntax. Please edit your question."}, {"owner": {"reputation": 64040, "user_id": 3620003, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/QnqtZ.jpg?s=128&g=1", "display_name": "timgeb", "link": "https://stackoverflow.com/users/3620003/timgeb"}, "edited": false, "score": 0, "creation_date": 1453379683, "post_id": 34909111, "comment_id": 57581255, "body": "No problem, did any of the answers you got help?"}, {"owner": {"reputation": 363, "user_id": 3529642, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/7e3096b87029613a1391a6a15bb10b62?s=128&d=identicon&r=PG&f=1", "display_name": "istern", "link": "https://stackoverflow.com/users/3529642/istern"}, "reply_to_user": {"reputation": 64040, "user_id": 3620003, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/QnqtZ.jpg?s=128&g=1", "display_name": "timgeb", "link": "https://stackoverflow.com/users/3620003/timgeb"}, "edited": false, "score": 0, "creation_date": 1453384767, "post_id": 34909111, "comment_id": 57584920, "body": "Yes, I accepted your answer."}], "answers": [{"comments": [{"owner": {"reputation": 363, "user_id": 3529642, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/7e3096b87029613a1391a6a15bb10b62?s=128&d=identicon&r=PG&f=1", "display_name": "istern", "link": "https://stackoverflow.com/users/3529642/istern"}, "edited": false, "score": 0, "creation_date": 1453364501, "post_id": 34909159, "comment_id": 57571316, "body": "In python3 that would be:  {x: list(map(lambda z: z[0], y)) for x, y in foo.items()}"}], "tags": [], "owner": {"reputation": 2480, "user_id": 2999347, "user_type": "registered", "profile_image": "https://graph.facebook.com/1393151316/picture?type=large", "display_name": "Pawe\u0142 Kordowski", "link": "https://stackoverflow.com/users/2999347/pawe%c5%82-kordowski"}, "is_accepted": false, "score": 0, "last_activity_date": 1453319234, "creation_date": 1453319234, "answer_id": 34909159, "question_id": 34909111, "link": "https://stackoverflow.com/questions/34909111/accessing-nested-tupels-in-dictionary-values/34909159#34909159", "title": "Accessing nested tupels in dictionary values", "body": "<p>what about?</p>\n\n<pre><code>{x: map(lambda z: z[0], y) for x, y in foo.iteritems()}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 23806, "user_id": 4542359, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/a6ea331ac684b52563d13e6ee44e03be?s=128&d=identicon&r=PG&f=1", "display_name": "Anton Protopopov", "link": "https://stackoverflow.com/users/4542359/anton-protopopov"}, "is_accepted": false, "score": 0, "last_activity_date": 1453319240, "creation_date": 1453319240, "answer_id": 34909164, "question_id": 34909111, "link": "https://stackoverflow.com/questions/34909111/accessing-nested-tupels-in-dictionary-values/34909164#34909164", "title": "Accessing nested tupels in dictionary values", "body": "<p>Using <code>dict comprehension</code>: </p>\n\n<pre><code>In [214]: {key:list(map(lambda x: x[0], foo[key])) for key in foo}\nOut[214]: {'a': [1, 2], 'b': [3, 4]}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6155, "user_id": 4403872, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/22f9db7dbd564a7d34f76a0f3f5fbb04?s=128&d=identicon&r=PG&f=1", "display_name": "vk1011", "link": "https://stackoverflow.com/users/4403872/vk1011"}, "is_accepted": false, "score": 0, "last_activity_date": 1453319468, "creation_date": 1453319468, "answer_id": 34909236, "question_id": 34909111, "link": "https://stackoverflow.com/questions/34909111/accessing-nested-tupels-in-dictionary-values/34909236#34909236", "title": "Accessing nested tupels in dictionary values", "body": "<pre><code>{k:list(zip(x,y)[0]) for k,(x,y) in foo.iteritems()}\n</code></pre>\n\n<p>This gives:</p>\n\n<pre><code>{'a': [1, 2], 'b': [3, 4]}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 9677, "user_id": 4244780, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KUXr1.jpg?s=128&g=1", "display_name": "Iron Fist", "link": "https://stackoverflow.com/users/4244780/iron-fist"}, "is_accepted": false, "score": 0, "last_activity_date": 1453319892, "creation_date": 1453319892, "answer_id": 34909356, "question_id": 34909111, "link": "https://stackoverflow.com/questions/34909111/accessing-nested-tupels-in-dictionary-values/34909356#34909356", "title": "Accessing nested tupels in dictionary values", "body": "<p>You can do it with <a href=\"https://docs.python.org/3/library/collections.html?highlight=defaultdict#collections.defaultdict\" rel=\"nofollow\"><code>defaultdict</code></a> from <code>collections</code> module:</p>\n\n<pre><code>&gt;&gt;&gt; from collections import defaultdict\n&gt;&gt;&gt; d = defaultdict(list)\n&gt;&gt;&gt; d = defaultdict(list)\n&gt;&gt;&gt; for k in foo:\n        for v in foo[k]:\n            d[k].append(v[0])\n&gt;&gt;&gt; d\ndefaultdict(&lt;class 'list'&gt;, {'a': [1, 2], 'b': [3, 4]})\n&gt;&gt;&gt; d['a']\n[1, 2]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 64040, "user_id": 3620003, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/QnqtZ.jpg?s=128&g=1", "display_name": "timgeb", "link": "https://stackoverflow.com/users/3620003/timgeb"}, "is_accepted": true, "score": 1, "last_activity_date": 1453319909, "creation_date": 1453319909, "answer_id": 34909358, "question_id": 34909111, "link": "https://stackoverflow.com/questions/34909111/accessing-nested-tupels-in-dictionary-values/34909358#34909358", "title": "Accessing nested tupels in dictionary values", "body": "<p>I think these two solutions are easiest to read:</p>\n\n<pre><code>&gt;&gt;&gt; from operator import itemgetter\n&gt;&gt;&gt; {k:map(itemgetter(0), foo[k]) for k in foo}\n{'a': [1, 2], 'b': [3, 4]}\n</code></pre>\n\n<p>or import-less:</p>\n\n<pre><code>&gt;&gt;&gt; {k:[x[0] for x in foo[k]] for k in foo}\n{'a': [1, 2], 'b': [3, 4]}\n</code></pre>\n"}], "owner": {"reputation": 363, "user_id": 3529642, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/7e3096b87029613a1391a6a15bb10b62?s=128&d=identicon&r=PG&f=1", "display_name": "istern", "link": "https://stackoverflow.com/users/3529642/istern"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "accepted_answer_id": 34909358, "answer_count": 5, "score": 1, "last_activity_date": 1453319938, "creation_date": 1453319098, "last_edit_date": 1453319938, "question_id": 34909111, "link": "https://stackoverflow.com/questions/34909111/accessing-nested-tupels-in-dictionary-values", "title": "Accessing nested tupels in dictionary values", "body": "<p>I'm posting this question after not finding the answer in the many existing issues related to this topic.<br>\nI have a dictionary similar to this one:</p>\n\n<p><code>foo = {'a': [(1, 0.5), (2, 0.3)], 'b': [(3, 0.4), (4, 0.1)]}\n</code></p>\n\n<p>and would like to access the items of the nested tupels, in order to create the following dictionary out of it:</p>\n\n<p><code>foo = {'a': [1, 2], 'b': [3, 4]}\n</code></p>\n\n<p>How do I go about doing this, preferably in a pythonic way?</p>\n"}, {"tags": ["python", "arrays", "csv", "numpy", "genfromtxt"], "comments": [{"owner": {"reputation": 23980, "user_id": 1735756, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/SloZJ.jpg?s=128&g=1", "display_name": "Haifeng Zhang", "link": "https://stackoverflow.com/users/1735756/haifeng-zhang"}, "edited": false, "score": 0, "creation_date": 1453319501, "post_id": 34909077, "comment_id": 57554182, "body": "can you post your code?"}, {"owner": {"reputation": 19530, "user_id": 2823755, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vCEUU.png?s=128&g=1", "display_name": "wwii", "link": "https://stackoverflow.com/users/2823755/wwii"}, "edited": false, "score": 0, "creation_date": 1453320074, "post_id": 34909077, "comment_id": 57554469, "body": "Do (Can) you know, in advance, how many <i>rows</i> the final array has?"}, {"owner": {"reputation": 16399, "user_id": 4016285, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SvSVV.png?s=128&g=1", "display_name": "B. M.", "link": "https://stackoverflow.com/users/4016285/b-m"}, "edited": false, "score": 0, "creation_date": 1453320758, "post_id": 34909077, "comment_id": 57554840, "body": "Take a look at  [pandas.read_csv] (<a href=\"http://pandas.pydata.org/pandas-docs/version/0.17.1/generated/pandas.read_csv.html#pandas.read_csv\" rel=\"nofollow noreferrer\">pandas.pydata.org/pandas-docs/version/0.17.1/generated/&hellip;</a>). There is a lot of tools for dates format  in particular."}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user2180519"}, "edited": false, "score": 0, "creation_date": 1453325441, "post_id": 34909531, "comment_id": 57557507, "body": "Counting lines is trivial unless it&#39;s a tape drive, I was hoping there was some way in python to use a buffer you can expand and then treat it as a numpy array, but failing that your solution is what comes to mind and provided that the number of bad lines is not large, very efficient."}, {"owner": {"reputation": 19530, "user_id": 2823755, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vCEUU.png?s=128&g=1", "display_name": "wwii", "link": "https://stackoverflow.com/users/2823755/wwii"}, "edited": false, "score": 0, "creation_date": 1453329930, "post_id": 34909531, "comment_id": 57559787, "body": "@dingrite - you have to process the string data before putting it into an array and I understood that there were memory constraints that couldn&#39;t handle two copies of the data.  So it seems like you need to process the data in chunks and add to an existing array.  Did you try a <code>pandas</code> solution as suggested by others?  Maybe there is a way with somthing in the IO module or with <a href=\"https://docs.python.org/3/library/mmap.html\" rel=\"nofollow noreferrer\"><code>mmap</code></a> which I really don&#39;t quite understand."}], "tags": [], "owner": {"reputation": 19530, "user_id": 2823755, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vCEUU.png?s=128&g=1", "display_name": "wwii", "link": "https://stackoverflow.com/users/2823755/wwii"}, "is_accepted": true, "score": 1, "last_activity_date": 1453320553, "creation_date": 1453320553, "answer_id": 34909531, "question_id": 34909077, "link": "https://stackoverflow.com/questions/34909077/efficient-way-to-process-csv-file-into-a-numpy-array/34909531#34909531", "title": "Efficient way to process CSV file into a numpy array", "body": "<p>If you know in advance how many rows are in the data, you could dispense with the intermediate <code>list</code> and write directly to the array.</p>\n\n<pre><code>import numpy as np\n\nno_rows = 5\nno_columns = 4\n\na = np.zeros((no_rows, no_columns), dtype = np.float)\n\nwith open('myfile') as f:\n    for i, line in enumerate(f):\n        a[i,:] = cool_function_that_returns_formatted_data(line)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1732, "user_id": 728363, "user_type": "registered", "accept_rate": 31, "profile_image": "https://i.stack.imgur.com/KUTag.jpg?s=128&g=1", "display_name": "Steve3p0", "link": "https://stackoverflow.com/users/728363/steve3p0"}, "edited": false, "score": 0, "creation_date": 1548064678, "post_id": 34909688, "comment_id": 95395560, "body": "Can you give an example of that?  The documentation doesn&#39;t show anything other than examples where out=None.  I think it&#39;s supposed to look something like np.divide(train_inputs, 255, out=train_inputs), with no return value.  But I get an error: TypeError: No loop matching the specified signature and casting"}], "tags": [], "owner": {"reputation": 4742, "user_id": 3154588, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/c8ef4736f3db9e55c6ce1f36a4eaf949?s=128&d=identicon&r=PG&f=1", "display_name": "Phil", "link": "https://stackoverflow.com/users/3154588/phil"}, "is_accepted": false, "score": 0, "last_activity_date": 1453321120, "creation_date": 1453321120, "answer_id": 34909688, "question_id": 34909077, "link": "https://stackoverflow.com/questions/34909077/efficient-way-to-process-csv-file-into-a-numpy-array/34909688#34909688", "title": "Efficient way to process CSV file into a numpy array", "body": "<p>I think <a href=\"http://pandas.pydata.org/pandas-docs/stable/io.html#io-tools-text-csv-hdf5\" rel=\"nofollow\">i/o capability of pandas</a> is the best way to get data into a numpy array. Specifically the <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.read_csv.html#pandas.read_csv\" rel=\"nofollow\">read_csv</a> method will read into a pandas DataFrame. You can then access the underlying numpy array using the <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.as_matrix.html?highlight=as_matrix#pandas.DataFrame.as_matrix\" rel=\"nofollow\">as_matrix</a> method of the returned <code>DataFrame</code>. </p>\n"}, {"tags": [], "owner": {"reputation": 1010, "user_id": 2933686, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/gsIQB.jpg?s=128&g=1", "display_name": "maswadkar", "link": "https://stackoverflow.com/users/2933686/maswadkar"}, "is_accepted": false, "score": 1, "last_activity_date": 1453321488, "creation_date": 1453321488, "answer_id": 34909785, "question_id": 34909077, "link": "https://stackoverflow.com/questions/34909077/efficient-way-to-process-csv-file-into-a-numpy-array/34909785#34909785", "title": "Efficient way to process CSV file into a numpy array", "body": "<p>did you think for using pandas read_csv (with engine='C')</p>\n\n<p>I find it as one of the best and easy solutions to handling csv. I worked with 4GB file and it worked for me. </p>\n\n<pre><code>import pandas as pd\ndf=pd.read_csv('abc.csv',engine='C')\nprint(df.head(10))\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user2180519"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1281, "favorite_count": 1, "accepted_answer_id": 34909531, "answer_count": 3, "score": 0, "last_activity_date": 1453321488, "creation_date": 1453318952, "last_edit_date": 1453320300, "question_id": 34909077, "link": "https://stackoverflow.com/questions/34909077/efficient-way-to-process-csv-file-into-a-numpy-array", "title": "Efficient way to process CSV file into a numpy array", "body": "<p>CSV file may not be clean (lines with inconsistent number of elements), unclean lines would need to be disregarded.\nString manipulation is required during processing.</p>\n\n<p>Example input:</p>\n\n<pre><code>20150701 20:00:15.173,0.5019,0.91665\n</code></pre>\n\n<p>Desired output: float32 (pseudo-date, seconds in the day, f3, f4)</p>\n\n<pre><code>0.150701 72015.173 0.5019 0.91665 (+ the trailing trash floats usually get)\n</code></pre>\n\n<p>The CSV file is also very big, the numpy array in memory would be expected to take 5-10 GB, CSV file is over 30GB.</p>\n\n<p>Looking for an efficient way to process the CSV file and end up with a numpy array.</p>\n\n<p>Current solution: use csv module, process line by line and use a list() as a buffer that later gets turned to numpy array with asarray(). Problem is, during the turning process memory consumption is doubled and the copying process adds execution overhead.</p>\n\n<p>Numpy's genfromtxt and loadtxt don't appear to be able to process the data as desired.</p>\n"}, {"tags": ["python", "loops", "variables", "scope"], "comments": [{"owner": {"reputation": 137098, "user_id": 874188, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/ZcY77.png?s=128&g=1", "display_name": "tripleee", "link": "https://stackoverflow.com/users/874188/tripleee"}, "edited": false, "score": 0, "creation_date": 1453319289, "post_id": 34909057, "comment_id": 57554067, "body": "Hint: Push the intermediate results to a list, then sum the list when you are done looping."}], "answers": [{"tags": [], "owner": {"reputation": 38371, "user_id": 3555845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e06f616d9a53b1ca18287d1049a28ee?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/3555845/daniel"}, "is_accepted": false, "score": 1, "last_activity_date": 1453319132, "creation_date": 1453319132, "answer_id": 34909122, "question_id": 34909057, "link": "https://stackoverflow.com/questions/34909057/i-cant-collect-answer-from-my-variables-in-for-loop/34909122#34909122", "title": "I cant collect answer from my variables in for loop", "body": "<p>To sum up values, use an additional variable:</p>\n\n<pre><code>sa_sum = 0\nfor _ in range(wall):\n    sa = do_your_calculation()\n    sa_sum = sa_sum + sa\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 35, "user_id": 5637077, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-N3--KMfVfGg/AAAAAAAAAAI/AAAAAAAAAJk/YktZjf2l3a0/photo.jpg?sz=128", "display_name": "Seyi", "link": "https://stackoverflow.com/users/5637077/seyi"}, "edited": false, "score": 0, "creation_date": 1453320778, "post_id": 34909277, "comment_id": 57554855, "body": "thank u...i also just realized i had typed this in before but i didnt think it was right so i deleted it"}], "tags": [], "owner": {"reputation": 19246, "user_id": 494134, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/3XHKr.png?s=128&g=1", "display_name": "John Gordon", "link": "https://stackoverflow.com/users/494134/john-gordon"}, "is_accepted": false, "score": 2, "last_activity_date": 1453319626, "creation_date": 1453319626, "answer_id": 34909277, "question_id": 34909057, "link": "https://stackoverflow.com/questions/34909057/i-cant-collect-answer-from-my-variables-in-for-loop/34909277#34909277", "title": "I cant collect answer from my variables in for loop", "body": "<p>As you calculate the surface area of each wall, add that value to a variable.  At the end of your program, print that variable.</p>\n\n<p>You almost had this with your <code>tsa</code> variable, but your code <em>replaces</em> the previous value of <code>tsa</code> instead of <em>adding</em> to it, and it should be indented within the <code>for wall in...</code> loop.</p>\n"}, {"comments": [{"owner": {"reputation": 65, "user_id": 4805848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e0de7a22677b81326a753c63df96477?s=128&d=identicon&r=PG&f=1", "display_name": "Adam", "link": "https://stackoverflow.com/users/4805848/adam"}, "reply_to_user": {"reputation": 35, "user_id": 5637077, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-N3--KMfVfGg/AAAAAAAAAAI/AAAAAAAAAJk/YktZjf2l3a0/photo.jpg?sz=128", "display_name": "Seyi", "link": "https://stackoverflow.com/users/5637077/seyi"}, "edited": false, "score": 0, "creation_date": 1453322702, "post_id": 34909409, "comment_id": 57556002, "body": "I assume so. I didn&#39;t test it."}], "tags": [], "owner": {"reputation": 65, "user_id": 4805848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e0de7a22677b81326a753c63df96477?s=128&d=identicon&r=PG&f=1", "display_name": "Adam", "link": "https://stackoverflow.com/users/4805848/adam"}, "is_accepted": false, "score": 1, "last_activity_date": 1453320092, "creation_date": 1453320092, "answer_id": 34909409, "question_id": 34909057, "link": "https://stackoverflow.com/questions/34909057/i-cant-collect-answer-from-my-variables-in-for-loop/34909409#34909409", "title": "I cant collect answer from my variables in for loop", "body": "<pre><code>numofrooms = input(\"num of rooms:\")\nn = int(numofrooms)\ntsa = 0\nfor n in range(n):\n    input(\"name of room:\")\n    numofwalls = input(\"num of walls:\")\n    wall = int(numofwalls)\n    for wall in range(wall):\n        height = input(\"height of wall:\")\n        height = int(height)\n        width = input(\"width of wall:\")\n        width = int(width)\n        sa = int(height) * int(width)\n    tsa += sa * int(numofwalls) * int(numofwalls)\n</code></pre>\n\n<p>You just need to sum <code>tsa</code> with each loop, rather than resetting it each time. You were close.</p>\n"}, {"tags": [], "owner": {"reputation": 36, "user_id": 1812594, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19b08b00f6a1905976972d78db9cb0ec?s=128&d=identicon&r=PG", "display_name": "Lemon", "link": "https://stackoverflow.com/users/1812594/lemon"}, "is_accepted": true, "score": 0, "last_activity_date": 1453326019, "creation_date": 1453326019, "answer_id": 34911135, "question_id": 34909057, "link": "https://stackoverflow.com/questions/34909057/i-cant-collect-answer-from-my-variables-in-for-loop/34911135#34911135", "title": "I cant collect answer from my variables in for loop", "body": "<p>Currently you are calculating the surface area for each room (sa = width*height) but not totaling it correctly afterwards (ie. storing that value in a total).</p>\n\n<p>The code below calculates the sa of every room by continually adding the sa of all walls for said room (The \"for wall in range(numOfWalls):\" loop). It needs to calculate the sa for all rooms, so it add every rooms surface area to a total variable (as described in other answers)</p>\n\n<pre><code>numOfRooms = int(input(\"num of rooms:\"))\ntsa = 0\nfor n in range(numOfRooms):\n    input(\"name of room:\")\n    numOfWalls = int(input(\"num of walls:\"))\n    sa = 0\n    for wall in range(numOfWalls):\n        height = int(input(\"height of wall:\"))\n        width = int(input(\"width of wall:\"))\n        sa = sa + (height * width)\n    tsa = tsa + sa\n</code></pre>\n\n<p>I've combined some lines to make things a little nicer to look at</p>\n"}], "owner": {"reputation": 35, "user_id": 5637077, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-N3--KMfVfGg/AAAAAAAAAAI/AAAAAAAAAJk/YktZjf2l3a0/photo.jpg?sz=128", "display_name": "Seyi", "link": "https://stackoverflow.com/users/5637077/seyi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 134, "favorite_count": 0, "accepted_answer_id": 34911135, "answer_count": 4, "score": 0, "last_activity_date": 1453326019, "creation_date": 1453318893, "last_edit_date": 1453320888, "question_id": 34909057, "link": "https://stackoverflow.com/questions/34909057/i-cant-collect-answer-from-my-variables-in-for-loop", "title": "I cant collect answer from my variables in for loop", "body": "<p>Please can someone help with my homework....I'm stuck and i need serious help. Below is the question:\nfor each room, ask for the room name (e.g. lounge, dining room) and the number of walls in the room:  For each wall, ask the height and width of the wall in metres.  Calculate the total surface area of the walls in square metres.<br>\nI cant add the numbers in my for loop because the for loop repeats the variables do as well so i cannot record the first answer in my first input because i cannot do this i cannot find the total surface area</p>\n\n<p>Below my code:</p>\n\n<pre><code>numofrooms = input(\"num of rooms:\")\nn = int(numofrooms)\nfor n in range(n):\n    input(\"name of room:\")\n    numofwalls = input(\"num of walls:\")\n    wall = int(numofwalls)\n    for wall in range(wall):\n        height = input(\"height of wall:\")\n        height = int(height)\n        width = input(\"width of wall:\")\n        width = int(width)\n        sa = int(height) * int(width)\n    tsa = sa * int(numofwalls) * int(numofwalls)\n</code></pre>\n"}, {"tags": ["python", "json", "postgresql", "sqlalchemy"], "owner": {"reputation": 106, "user_id": 2608081, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/de8a9d865cec12235ea2566e5f7e310c?s=128&d=identicon&r=PG&f=1", "display_name": "rontho1992", "link": "https://stackoverflow.com/users/2608081/rontho1992"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 633, "favorite_count": 3, "answer_count": 0, "score": 1, "last_activity_date": 1453318825, "creation_date": 1453318825, "question_id": 34909037, "link": "https://stackoverflow.com/questions/34909037/inserting-records-into-table-from-json-object-using-sqlalchemy", "title": "Inserting records into table from json object using sqlalchemy", "body": "<p>I'm trying to write a program that gets a json object from an api call and then loads that into a database. sqlalchemy keeps throwing the error <code>AttributeError: 'TextClause' object has no attribute 'implicit_returning'</code> when I compile <code>stmt</code> or try to just execute it on its own.</p>\n\n<pre><code>def load_results(self):\n      connect = self.engine.connect()\n\n      for ru in self.json_ru:\n          counties = ru['counties']\n          for county in counties:\n              transaction = connect.begin()\n              params = {\"reportingunitName\": ru['reportingunitName'],\n                                \"geoCode\": ru['geocode'],\n                                \"townsTotal\": ru['towns'],\n                                \"townsReporting\": ru['townsReporting'],\n                                \"cableName\": county['cableName'],\n                                \"unitCount\": county['unitCount']\n                                }\n              stmt = expression.insert('{}.raw_feed'.format(self.state)).values(params)\n              compiled_stmt = stmt.compile(self.engine)\n              connect.execute(compiled_stmt)\n              transaction.commit()\n</code></pre>\n\n<p>Before I had a query I was just feeding into connect.execute, but the strings that were coming in as values were being read as column names, so I tried the above instead. Also using Postgres flavor.</p>\n"}, {"tags": ["python", "arrays", "numpy", "pandas", "vectorization"], "comments": [{"owner": {"reputation": 8909, "user_id": 467366, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/fYQGf.jpg?s=128&g=1", "display_name": "Paul", "link": "https://stackoverflow.com/users/467366/paul"}, "edited": false, "score": 0, "creation_date": 1453320176, "post_id": 34909034, "comment_id": 57554528, "body": "Note: If my &quot;Edit 2&quot; example is basically the &quot;right&quot; way to do this, then I think this question can be closed as a duplicate of <a href=\"https://stackoverflow.com/questions/16992713/translate-every-element-in-numpy-array-according-to-key\">the linked question</a>."}], "answers": [{"comments": [{"owner": {"reputation": 8909, "user_id": 467366, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/fYQGf.jpg?s=128&g=1", "display_name": "Paul", "link": "https://stackoverflow.com/users/467366/paul"}, "edited": false, "score": 0, "creation_date": 1453320856, "post_id": 34909422, "comment_id": 57554901, "body": "This looks good. Comparing with %timeit, it&#39;s about 2-3x slower than the dictionary-based lookup, but this looks like basically the right way to do it using just numpy arrays and pandas Series."}, {"owner": {"reputation": 203214, "user_id": 3293881, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/6ZYnq.jpg?s=128&g=1", "display_name": "Divakar", "link": "https://stackoverflow.com/users/3293881/divakar"}, "reply_to_user": {"reputation": 8909, "user_id": 467366, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/fYQGf.jpg?s=128&g=1", "display_name": "Paul", "link": "https://stackoverflow.com/users/467366/paul"}, "edited": false, "score": 0, "creation_date": 1453321315, "post_id": 34909422, "comment_id": 57555170, "body": "@Paul Hmm interesting. I was really hoping it to be fast! Maybe it would be with a larger dataset and lookup!"}], "tags": [], "owner": {"reputation": 203214, "user_id": 3293881, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/6ZYnq.jpg?s=128&g=1", "display_name": "Divakar", "link": "https://stackoverflow.com/users/3293881/divakar"}, "is_accepted": false, "score": 2, "last_activity_date": 1453320155, "creation_date": 1453320155, "answer_id": 34909422, "question_id": 34909034, "link": "https://stackoverflow.com/questions/34909034/mapping-ndarray-of-labels-to-values-in-a-pandas-series/34909422#34909422", "title": "Mapping ndarray of labels to values in a pandas Series", "body": "<p>Here's a vectorized approach using <a href=\"http://docs.scipy.org/doc/numpy-1.10.0/reference/generated/numpy.searchsorted.html\" rel=\"nofollow\"><code>np.searchsorted</code></a> -</p>\n\n<pre><code>data_map[np.searchsorted(np.array(data_map.index),lab1d)]\ndata_map[np.searchsorted(np.array(data_map.index),lab2d)]\n</code></pre>\n\n<p>Sample run -</p>\n\n<pre><code>&gt;&gt;&gt; data_map = pd.Series([2, 4, 6, 0, 1], index=list('abcde'))\n&gt;&gt;&gt; lab1d = np.array(['a', 'd', 'd', 'c'])\n&gt;&gt;&gt; lab2d = np.array([['d', 'e'],\n...                   ['e', 'd'],\n...                   ['c', 'a'],\n...                   ['a', 'b']])\n&gt;&gt;&gt; data_map[np.searchsorted(np.array(data_map.index),lab1d)]\na    2\nd    0\nd    0\nc    6\ndtype: int64\n&gt;&gt;&gt; data_map[np.searchsorted(np.array(data_map.index),lab2d)]\narray([[0, 1],\n       [1, 0],\n       [6, 2],\n       [2, 4]])\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 8909, "user_id": 467366, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/fYQGf.jpg?s=128&g=1", "display_name": "Paul", "link": "https://stackoverflow.com/users/467366/paul"}, "edited": false, "score": 0, "creation_date": 1458938410, "post_id": 34910147, "comment_id": 60086468, "body": "Switching the accepted answer to this one, since this is actually about as fast as the <code>dict</code> based method, and is much more readable and straightforward."}], "tags": [], "owner": {"reputation": 16399, "user_id": 4016285, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SvSVV.png?s=128&g=1", "display_name": "B. M.", "link": "https://stackoverflow.com/users/4016285/b-m"}, "is_accepted": true, "score": 1, "last_activity_date": 1453327269, "last_edit_date": 1453327269, "creation_date": 1453322701, "answer_id": 34910147, "question_id": 34909034, "link": "https://stackoverflow.com/questions/34909034/mapping-ndarray-of-labels-to-values-in-a-pandas-series/34910147#34910147", "title": "Mapping ndarray of labels to values in a pandas Series", "body": "<p>You can just flatten the array, then reshape :</p>\n\n<pre><code>data_map[lab2d.ravel()].reshape(lab2d.shape)\n</code></pre>\n"}], "owner": {"reputation": 8909, "user_id": 467366, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/fYQGf.jpg?s=128&g=1", "display_name": "Paul", "link": "https://stackoverflow.com/users/467366/paul"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 358, "favorite_count": 0, "accepted_answer_id": 34910147, "answer_count": 2, "score": 1, "last_activity_date": 1453362935, "creation_date": 1453318819, "last_edit_date": 1453362935, "question_id": 34909034, "link": "https://stackoverflow.com/questions/34909034/mapping-ndarray-of-labels-to-values-in-a-pandas-series", "title": "Mapping ndarray of labels to values in a pandas Series", "body": "<p>This may be the wrong general approach, but I'm trying to use a Pandas series as essentially a lookup table for some numpy arrays of strings / labels:</p>\n\n<pre><code>import pandas as pd\nimport numpy as np\n\ndata_map = pd.Series([2, 4, 6, 0, 1], index=list('abcde'))\nlab1d = np.array(['a', 'd', 'd', 'c'])\nlab2d = np.array([['d', 'e'],\n                  ['e', 'd'],\n                  ['c', 'a'],\n                  ['a', 'b']])\n\nval1d = data_map.loc[lab1d]\nval2d = data_map.loc[lab2d]\n</code></pre>\n\n<p>If I do this, <code>val1d</code> resolves correctly to:</p>\n\n<pre><code>a    2\nd    0\nd    0\nc    6\ndtype: int64\n</code></pre>\n\n<p>But <code>val2d = data_map.loc[lab2d]</code> raises a <code>ValueError</code>:</p>\n\n<pre><code>ValueError: Cannot index with multidimensional key\n</code></pre>\n\n<p>I think I get the reason why this does not work, but what is the proper way to take a <code>numpy.ndarray</code> of size (m x n) containing Index values and return (something which can be converted to) a <code>numpy.ndarray</code> of size (m x n) containing the corresponding values?</p>\n\n<p><strong>Edit</strong>\nI had considered storing the data instead in a dictionary and using <code>numpy.vectorize</code> (as illustrated in <a href=\"https://stackoverflow.com/questions/16992713/translate-every-element-in-numpy-array-according-to-key\">this question</a>), which is definitely my fallback, but I want to clarify that I'm interested in knowing if there's a way to do this using some pandas methods.</p>\n\n<p><strong>Edit 2</strong>\nI should clarify that I'm actually looking for something that follows broadcasting rules, e.g.:</p>\n\n<pre><code>dmd = data_map.to_dict()\nmake_map = np.vectorize(dmd.__getitem__)\n\nval1d = make_map(lab1d)\nval2d = make_map(lab2d)\n</code></pre>\n\n<p>Which for val1d returns:</p>\n\n<pre><code>array([2, 0, 0, 6])\n</code></pre>\n\n<p>And for val2d returns:</p>\n\n<pre><code>array([[0, 1],\n       [1, 0],\n       [6, 2],\n       [2, 4]])\n</code></pre>\n"}, {"tags": ["python", "django", "csv", "pycharm", "bokeh"], "answers": [{"comments": [{"owner": {"reputation": 2166, "user_id": 2734863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b1edbcba419dd480d29a80ea3c9674c4?s=128&d=identicon&r=PG", "display_name": "Frikster", "link": "https://stackoverflow.com/users/2734863/frikster"}, "edited": false, "score": 0, "creation_date": 1453329357, "post_id": 34911141, "comment_id": 57559540, "body": "interesting. That likely explains why I couldn&#39;t find a &quot;version&quot; field in the script. when script is generated by 0.11.0 it at least tells you what version generated it. I am now rather certain this is due to the PyCharm 5.0.4 #143.1919.1 update last night. Everything works if I run via the terminal and moreover, code that correctly made bokeh plots yesterday, are producing blank pages today. See here, I have contacted support: <a href=\"https://youtrack.jetbrains.com/issue/PY-16021\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/PY-16021</a>"}], "tags": [], "owner": {"reputation": 29976, "user_id": 3406693, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gwfWQ.png?s=128&g=1", "display_name": "bigreddot", "link": "https://stackoverflow.com/users/3406693/bigreddot"}, "is_accepted": false, "score": 1, "last_activity_date": 1574474277, "last_edit_date": 1574474277, "creation_date": 1453326032, "answer_id": 34911141, "question_id": 34909026, "link": "https://stackoverflow.com/questions/34909026/bokeh-plot-does-not-appear-on-the-same-django-page-after-csv-upload/34911141#34911141", "title": "Bokeh plot does not appear on the same django page after csv upload", "body": "<p>The <code>&lt;script&gt;</code> tag you have was not generated by Bokeh <code>0.11</code>. In Bokeh <code>0.11</code> there is no longer <code>all_models</code>, there is <code>docs_json</code>. I just ran the example here (first changing <code>INLINE</code> to <code>CDN</code>):</p>\n\n<p><a href=\"https://github.com/bokeh/bokeh/blob/master/examples/embed/embed_multiple.py\" rel=\"nofollow noreferrer\">https://github.com/bokeh/bokeh/blob/master/examples/embed/embed_multiple.py</a></p>\n\n<p>On a clean Bokeh <code>0.11</code> environment, as you can see, the format of the script tag is different:</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n    &lt;head&gt;\n        &lt;meta charset=\"utf-8\"&gt;\n        &lt;title&gt;Bokeh Scatter Plots&lt;/title&gt;\n        &lt;style&gt; div{float: left;} &lt;/style&gt;\n\n&lt;script type=\"text/javascript\" src=\"https://cdn.bokeh.org/bokeh/release/bokeh-0.11.0.min.js\"&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\" src=\"https://cdn.bokeh.org/bokeh/release/bokeh-widgets-0.11.0.min.js\"&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\" src=\"https://cdn.bokeh.org/bokeh/release/bokeh-compiler-0.11.0.min.js\"&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\"&gt;\n    Bokeh.set_log_level(\"info\");\n&lt;/script&gt;\n\n&lt;link rel=\"stylesheet\" href=\"https://cdn.bokeh.org/bokeh/release/bokeh-0.11.0.min.css\" type=\"text/css\" /&gt;\n&lt;link rel=\"stylesheet\" href=\"https://cdn.bokeh.org/bokeh/release/bokeh-widgets-0.11.0.min.css\" type=\"text/css\" /&gt;\n\n&lt;script type=\"text/javascript\"&gt;\n    Bokeh.$(function() {\n    var docs_json = {\"3da19e3f-a1b7-401e-9d2a-56533d557c40\": {\"title\": \"Bokeh Application\", \"version\": \"0.11.0\", \"roots\": {\"references\": [{\"attributes\": {}, \"id\": \"9ef34bd3-e753-4e23-9e23-edde0d2dea4f\", \"type\": \"BasicTicker\"}, {\"attributes\": {}, \"id\": \"8a3a6a34-2625-40f1-a06e-fed595a639ee\", \"type\": \"BasicTicker\"}, {\"attributes\": {\"ticker\": {\"id\": \"ccfff932-4c7f-43b0-b4a1-ca1e55a42b67\", \"type\": \"BasicTicker\"}, \"plot\": {\"id\": \"40594e49-e943-4e24-956c-c1f438c65b18\", \"type\": \"Plot\", \"subtype\": \"Figure\"}, \"dimension\": 1}, \"id\": \"abd5cd08-18d8-4864-9527-a881ad2a0e01\", \"type\": \"Grid\"}, {\"attributes\": {\"line_dash\": [4, 4], \"line_color\": {\"value\": \"black\"}, \"level\": \"overlay\", \"line_alpha\": {\"value\": 1.0}, \"fill_alpha\": {\"value\": 0.5}, \"plot\": null, \"bottom_units\": \"screen\", \"line_width\": {\"value\": 2}, \"top_units\": \"screen\", \"fill_color\": {\"value\": \"lightgrey\"}, \"right_units\": \"screen\", \"left_units\": \"screen\", \"render_mode\": \"css\"}, \"id\": \"8c05c0b6-2b44-4189-aecf-18994b80c50f\", \"type\": \"BoxAnnotation\"}, {\"attributes\": {\"ticker\": {\"id\": \"8a3a6a34-2625-40f1-a06e-fed595a639ee\", \"type\": \"BasicTicker\"}, \"formatter\": {\"id\": \"97d0aeac-4b86-46a0-a115-5bd013e0b286\", \"type\": \"BasicTickFormatter\"}, \"plot\": {\"id\": \"ec8f4d1f-dbe7-4a28-bdf1-ae4ffcb3f160\", \"type\": \"Plot\", \"subtype\": \"Figure\"}}, \"id\": \"c6398bb7-0729-40e7-8704-cf519eedb768\", \"type\": \"LinearAxis\"}, {\"attributes\": {\"nonselection_glyph\": {\"id\": \"c4528e84-e62d-4740-a7cd-08e909231eca\", \"type\": \"Circle\"}, \"hover_glyph\": null, \"selection_glyph\": null, \"glyph\": {\"id\": \"a980c6e7-2a10-42f0-ae6d-a76b4eb62851\", \"type\": \"Circle\"}, \"data_source\": {\"id\": \"d7af2f01-1f24-4e47-b66f-dfb887b1521b\", \"type\": \"ColumnDataSource\"}}, \"id\": \"95c20915-d0ea-47a6-b465-fada62bd6ad8\", \"type\": \"GlyphRenderer\"}, {\"attributes\": {\"overlay\": {\"id\": \"8c05c0b6-2b44-4189-aecf-18994b80c50f\", \"type\": \"BoxAnnotation\"}, \"plot\": {\"id\": \"ec8f4d1f-dbe7-4a28-bdf1-ae4ffcb3f160\", \"type\": \"Plot\", \"subtype\": \"Figure\"}}, \"id\": \"2305e33d-7d10-42b3-9517-a374d7ae3ae8\", \"type\": \"BoxZoomTool\"}, {\"attributes\": {\"data\": {\"y\": [2, 4, 6, 9, 15, 18, 0, 8, 2, 25, 28], \"x\": [2, 5, 7, 15, 18, 19, 25, 28, 9, 10, 4]}, \"callback\": null, \"column_names\": [\"x\", \"y\"]}, \"id\": \"826fd0c1-ffe8-40ba-b274-ae3a6f3a1c92\", \"type\": \"ColumnDataSource\"}, {\"attributes\": {\"ticker\": {\"id\": \"39c5ea64-b755-4e59-844e-b6c576342dde\", \"type\": \"BasicTicker\"}, \"plot\": {\"id\": \"00cdedbc-e91c-41af-93fe-a18e85fd8d4b\", \"type\": \"Plot\", \"subtype\": \"Figure\"}}, \"id\": \"9a6cdb57-6cfb-47a3-b8b7-e22c25d9c6ac\", \"type\": \"Grid\"}, {\"attributes\": {}, \"id\": \"b04c8874-77d0-4fc5-b194-9913f93b10fc\", \"type\": \"ToolEvents\"}, {\"attributes\": {\"ticker\": {\"id\": \"fa980227-cb02-4944-9180-710dd167d36a\", \"type\": \"BasicTicker\"}, \"formatter\": {\"id\": \"75752ae4-0fa7-4720-8855-0f5be2dd9000\", \"type\": \"BasicTickFormatter\"}, \"plot\": {\"id\": \"40594e49-e943-4e24-956c-c1f438c65b18\", \"type\": \"Plot\", \"subtype\": \"Figure\"}}, \"id\": \"bb0a1bfc-9551-4e7d-adce-8055d21314cd\", \"type\": \"LinearAxis\"}, {\"attributes\": {\"left\": [{\"id\": \"c6398bb7-0729-40e7-8704-cf519eedb768\", \"type\": \"LinearAxis\"}], \"y_range\": {\"id\": \"7e01336a-6000-47cb-b34f-ac1a844beba0\", \"type\": \"Range1d\"}, \"renderers\": [{\"id\": \"4a2a6e7d-6578-40c9-a84c-df8ff47a534a\", \"type\": \"LinearAxis\"}, {\"id\": \"3592e7c0-444a-4272-9fd8-afac4d07ccbc\", \"type\": \"Grid\"}, {\"id\": \"c6398bb7-0729-40e7-8704-cf519eedb768\", \"type\": \"LinearAxis\"}, {\"id\": \"d62f7e64-ab5c-4b8a-90ee-a7d0d6a6bd52\", \"type\": \"Grid\"}, {\"id\": \"8c05c0b6-2b44-4189-aecf-18994b80c50f\", \"type\": \"BoxAnnotation\"}, {\"id\": \"95c20915-d0ea-47a6-b465-fada62bd6ad8\", \"type\": \"GlyphRenderer\"}], \"x_range\": {\"id\": \"24d53292-ad0f-4606-a175-cbd00e587035\", \"type\": \"Range1d\"}, \"tool_events\": {\"id\": \"9388042b-c11d-467a-b15d-eb77b95fcd72\", \"type\": \"ToolEvents\"}, \"plot_width\": 300, \"plot_height\": 300, \"tools\": [{\"id\": \"a62dadc7-7038-465c-a184-93e4d6cb654d\", \"type\": \"PanTool\"}, {\"id\": \"81508c7c-f007-41ba-96d5-bd89ca1aaabb\", \"type\": \"WheelZoomTool\"}, {\"id\": \"2305e33d-7d10-42b3-9517-a374d7ae3ae8\", \"type\": \"BoxZoomTool\"}, {\"id\": \"f3488df3-6cae-4664-ba60-8bff4c063689\", \"type\": \"ResetTool\"}, {\"id\": \"84443c64-e36f-4d9d-a3b3-d2153f2f7c06\", \"type\": \"PreviewSaveTool\"}], \"below\": [{\"id\": \"4a2a6e7d-6578-40c9-a84c-df8ff47a534a\", \"type\": \"LinearAxis\"}]}, \"id\": \"ec8f4d1f-dbe7-4a28-bdf1-ae4ffcb3f160\", \"type\": \"Plot\", \"subtype\": \"Figure\"}, {\"attributes\": {\"overlay\": {\"id\": \"08da54c6-1118-4302-b0be-379d30e1eaa2\", \"type\": \"BoxAnnotation\"}, \"plot\": {\"id\": \"00cdedbc-e91c-41af-93fe-a18e85fd8d4b\", \"type\": \"Plot\", \"subtype\": \"Figure\"}}, \"id\": \"03bc59e0-6eb7-4be9-8f49-52f64d15f47d\", \"type\": \"BoxZoomTool\"}, {\"attributes\": {\"line_dash\": [4, 4], \"line_color\": {\"value\": \"black\"}, \"level\": \"overlay\", \"line_alpha\": {\"value\": 1.0}, \"fill_alpha\": {\"value\": 0.5}, \"plot\": null, \"bottom_units\": \"screen\", \"line_width\": {\"value\": 2}, \"top_units\": \"screen\", \"fill_color\": {\"value\": \"lightgrey\"}, \"right_units\": \"screen\", \"left_units\": \"screen\", \"render_mode\": \"css\"}, \"id\": \"e1c83ae8-c542-473e-a405-418b544d8eee\", \"type\": \"BoxAnnotation\"}, {\"attributes\": {}, \"id\": \"9388042b-c11d-467a-b15d-eb77b95fcd72\", \"type\": \"ToolEvents\"}, {\"attributes\": {\"plot\": {\"id\": \"00cdedbc-e91c-41af-93fe-a18e85fd8d4b\", \"type\": \"Plot\", \"subtype\": \"Figure\"}}, \"id\": \"0b0514ad-e825-405a-bc21-a3785c3b4ff7\", \"type\": \"PanTool\"}, {\"attributes\": {\"plot\": {\"id\": \"ec8f4d1f-dbe7-4a28-bdf1-ae4ffcb3f160\", \"type\": \"Plot\", \"subtype\": \"Figure\"}}, \"id\": \"81508c7c-f007-41ba-96d5-bd89ca1aaabb\", \"type\": \"WheelZoomTool\"}, {\"attributes\": {\"nonselection_glyph\": {\"id\": \"727972c4-2b42-4eb8-8063-0af57a73fac0\", \"type\": \"Circle\"}, \"hover_glyph\": null, \"selection_glyph\": null, \"glyph\": {\"id\": \"ebcf39df-0d08-4ff9-bd50-0eb239b51a9c\", \"type\": \"Circle\"}, \"data_source\": {\"id\": \"50d963cf-ce68-4d52-af67-2d33bf00b597\", \"type\": \"ColumnDataSource\"}}, \"id\": \"50e4d0ea-3902-471e-8416-e72067439c11\", \"type\": \"GlyphRenderer\"}, {\"attributes\": {\"plot\": {\"id\": \"40594e49-e943-4e24-956c-c1f438c65b18\", \"type\": \"Plot\", \"subtype\": \"Figure\"}}, \"id\": \"ec25949e-0a0f-450f-8574-e812b81be57b\", \"type\": \"PreviewSaveTool\"}, {\"attributes\": {}, \"id\": \"ccfff932-4c7f-43b0-b4a1-ca1e55a42b67\", \"type\": \"BasicTicker\"}, {\"attributes\": {\"ticker\": {\"id\": \"5f45406e-da91-4648-bb40-f86d24b9f678\", \"type\": \"BasicTicker\"}, \"plot\": {\"id\": \"ec8f4d1f-dbe7-4a28-bdf1-ae4ffcb3f160\", \"type\": \"Plot\", \"subtype\": \"Figure\"}}, \"id\": \"3592e7c0-444a-4272-9fd8-afac4d07ccbc\", \"type\": \"Grid\"}, {\"attributes\": {}, \"id\": \"6a87bc83-f144-4c31-80d2-ecdc48efd88b\", \"type\": \"BasicTickFormatter\"}, {\"attributes\": {\"plot\": {\"id\": \"00cdedbc-e91c-41af-93fe-a18e85fd8d4b\", \"type\": \"Plot\", \"subtype\": \"Figure\"}}, \"id\": \"0efbfa71-4a9f-4dd7-bd9a-91468cd0786b\", \"type\": \"ResetTool\"}, {\"attributes\": {\"line_color\": {\"value\": \"#1f77b4\"}, \"line_alpha\": {\"value\": 0.1}, \"fill_color\": {\"value\": \"#1f77b4\"}, \"size\": {\"value\": 12, \"units\": \"screen\"}, \"y\": {\"field\": \"y\"}, \"fill_alpha\": {\"value\": 0.1}, \"x\": {\"field\": \"x\"}}, \"id\": \"727972c4-2b42-4eb8-8063-0af57a73fac0\", \"type\": \"Circle\"}, {\"attributes\": {\"line_color\": {\"value\": \"#1f77b4\"}, \"line_alpha\": {\"value\": 0.1}, \"fill_color\": {\"value\": \"#1f77b4\"}, \"size\": {\"value\": 12, \"units\": \"screen\"}, \"y\": {\"field\": \"y\"}, \"fill_alpha\": {\"value\": 0.1}, \"x\": {\"field\": \"x\"}}, \"id\": \"4324740d-3a82-488f-a9e5-b977e578c5ec\", \"type\": \"Circle\"}, {\"attributes\": {\"plot\": {\"id\": \"ec8f4d1f-dbe7-4a28-bdf1-ae4ffcb3f160\", \"type\": \"Plot\", \"subtype\": \"Figure\"}}, \"id\": \"84443c64-e36f-4d9d-a3b3-d2153f2f7c06\", \"type\": \"PreviewSaveTool\"}, {\"attributes\": {\"plot\": {\"id\": \"ec8f4d1f-dbe7-4a28-bdf1-ae4ffcb3f160\", \"type\": \"Plot\", \"subtype\": \"Figure\"}}, \"id\": \"f3488df3-6cae-4664-ba60-8bff4c063689\", \"type\": \"ResetTool\"}, {\"attributes\": {\"callback\": null, \"end\": 30}, \"id\": \"7e01336a-6000-47cb-b34f-ac1a844beba0\", \"type\": \"Range1d\"}, {\"attributes\": {\"plot\": {\"id\": \"00cdedbc-e91c-41af-93fe-a18e85fd8d4b\", \"type\": \"Plot\", \"subtype\": \"Figure\"}}, \"id\": \"7295afb8-7482-4396-a764-052b8ec72868\", \"type\": \"WheelZoomTool\"}, {\"attributes\": {}, \"id\": \"0dc08e07-584c-4ef6-a530-3e5bc2370433\", \"type\": \"BasicTickFormatter\"}, {\"attributes\": {\"plot\": {\"id\": \"40594e49-e943-4e24-956c-c1f438c65b18\", \"type\": \"Plot\", \"subtype\": \"Figure\"}}, \"id\": \"40f63935-2f78-44fe-bf9c-2d6d4fb7039b\", \"type\": \"ResetTool\"}, {\"attributes\": {\"plot\": {\"id\": \"00cdedbc-e91c-41af-93fe-a18e85fd8d4b\", \"type\": \"Plot\", \"subtype\": \"Figure\"}}, \"id\": \"8fe2733b-a96b-4b90-aa8a-2e36011e92fa\", \"type\": \"PreviewSaveTool\"}, {\"attributes\": {}, \"id\": \"39c5ea64-b755-4e59-844e-b6c576342dde\", \"type\": \"BasicTicker\"}, {\"attributes\": {\"ticker\": {\"id\": \"fa980227-cb02-4944-9180-710dd167d36a\", \"type\": \"BasicTicker\"}, \"plot\": {\"id\": \"40594e49-e943-4e24-956c-c1f438c65b18\", \"type\": \"Plot\", \"subtype\": \"Figure\"}}, \"id\": \"72d00523-affe-4441-bb1a-244283c951d6\", \"type\": \"Grid\"}, {\"attributes\": {}, \"id\": \"75752ae4-0fa7-4720-8855-0f5be2dd9000\", \"type\": \"BasicTickFormatter\"}, {\"attributes\": {\"ticker\": {\"id\": \"9ef34bd3-e753-4e23-9e23-edde0d2dea4f\", \"type\": \"BasicTicker\"}, \"formatter\": {\"id\": \"6a87bc83-f144-4c31-80d2-ecdc48efd88b\", \"type\": \"BasicTickFormatter\"}, \"plot\": {\"id\": \"00cdedbc-e91c-41af-93fe-a18e85fd8d4b\", \"type\": \"Plot\", \"subtype\": \"Figure\"}}, \"id\": \"713469c5-87f9-427a-9200-5c5b6cc437b4\", \"type\": \"LinearAxis\"}, {\"attributes\": {\"plot\": {\"id\": \"40594e49-e943-4e24-956c-c1f438c65b18\", \"type\": \"Plot\", \"subtype\": \"Figure\"}}, \"id\": \"13869e41-fb6c-44a4-963c-63672a138c0e\", \"type\": \"PanTool\"}, {\"attributes\": {\"ticker\": {\"id\": \"8a3a6a34-2625-40f1-a06e-fed595a639ee\", \"type\": \"BasicTicker\"}, \"plot\": {\"id\": \"ec8f4d1f-dbe7-4a28-bdf1-ae4ffcb3f160\", \"type\": \"Plot\", \"subtype\": \"Figure\"}, \"dimension\": 1}, \"id\": \"d62f7e64-ab5c-4b8a-90ee-a7d0d6a6bd52\", \"type\": \"Grid\"}, {\"attributes\": {\"line_dash\": [4, 4], \"line_color\": {\"value\": \"black\"}, \"level\": \"overlay\", \"line_alpha\": {\"value\": 1.0}, \"fill_alpha\": {\"value\": 0.5}, \"plot\": null, \"bottom_units\": \"screen\", \"line_width\": {\"value\": 2}, \"top_units\": \"screen\", \"fill_color\": {\"value\": \"lightgrey\"}, \"right_units\": \"screen\", \"left_units\": \"screen\", \"render_mode\": \"css\"}, \"id\": \"08da54c6-1118-4302-b0be-379d30e1eaa2\", \"type\": \"BoxAnnotation\"}, {\"attributes\": {\"line_color\": {\"value\": \"blue\"}, \"line_alpha\": {\"value\": 0.5}, \"fill_color\": {\"value\": \"blue\"}, \"size\": {\"value\": 12, \"units\": \"screen\"}, \"y\": {\"field\": \"y\"}, \"fill_alpha\": {\"value\": 0.5}, \"x\": {\"field\": \"x\"}}, \"id\": \"c073e00d-7afb-4806-bd87-152f44f77398\", \"type\": \"Circle\"}, {\"attributes\": {\"ticker\": {\"id\": \"39c5ea64-b755-4e59-844e-b6c576342dde\", \"type\": \"BasicTicker\"}, \"formatter\": {\"id\": \"67590b81-9f54-4735-8b66-1105cca4984d\", \"type\": \"BasicTickFormatter\"}, \"plot\": {\"id\": \"00cdedbc-e91c-41af-93fe-a18e85fd8d4b\", \"type\": \"Plot\", \"subtype\": \"Figure\"}}, \"id\": \"17caaa93-e03a-46c6-845d-f3b088d7969e\", \"type\": \"LinearAxis\"}, {\"attributes\": {\"ticker\": {\"id\": \"ccfff932-4c7f-43b0-b4a1-ca1e55a42b67\", \"type\": \"BasicTicker\"}, \"formatter\": {\"id\": \"6b3f4def-882f-4edf-b7d7-df027941018c\", \"type\": \"BasicTickFormatter\"}, \"plot\": {\"id\": \"40594e49-e943-4e24-956c-c1f438c65b18\", \"type\": \"Plot\", \"subtype\": \"Figure\"}}, \"id\": \"2135df5a-a7a3-4d8a-9742-715932f01fd0\", \"type\": \"LinearAxis\"}, {\"attributes\": {}, \"id\": \"67590b81-9f54-4735-8b66-1105cca4984d\", \"type\": \"BasicTickFormatter\"}, {\"attributes\": {}, \"id\": \"5f45406e-da91-4648-bb40-f86d24b9f678\", \"type\": \"BasicTicker\"}, {\"attributes\": {\"line_color\": {\"value\": \"green\"}, \"line_alpha\": {\"value\": 0.5}, \"fill_color\": {\"value\": \"green\"}, \"size\": {\"value\": 12, \"units\": \"screen\"}, \"y\": {\"field\": \"y\"}, \"fill_alpha\": {\"value\": 0.5}, \"x\": {\"field\": \"x\"}}, \"id\": \"ebcf39df-0d08-4ff9-bd50-0eb239b51a9c\", \"type\": \"Circle\"}, {\"attributes\": {\"line_color\": {\"value\": \"#1f77b4\"}, \"line_alpha\": {\"value\": 0.1}, \"fill_color\": {\"value\": \"#1f77b4\"}, \"size\": {\"value\": 12, \"units\": \"screen\"}, \"y\": {\"field\": \"y\"}, \"fill_alpha\": {\"value\": 0.1}, \"x\": {\"field\": \"x\"}}, \"id\": \"c4528e84-e62d-4740-a7cd-08e909231eca\", \"type\": \"Circle\"}, {\"attributes\": {\"callback\": null, \"end\": 30}, \"id\": \"68764cb1-4a10-4137-bb1b-635eb0d9d803\", \"type\": \"Range1d\"}, {\"attributes\": {\"ticker\": {\"id\": \"9ef34bd3-e753-4e23-9e23-edde0d2dea4f\", \"type\": \"BasicTicker\"}, \"plot\": {\"id\": \"00cdedbc-e91c-41af-93fe-a18e85fd8d4b\", \"type\": \"Plot\", \"subtype\": \"Figure\"}, \"dimension\": 1}, \"id\": \"ae919561-629c-4bbe-9603-e4b4181fe470\", \"type\": \"Grid\"}, {\"attributes\": {\"data\": {\"y\": [0, 8, 2, 4, 6, 9, 5, 6, 25, 28, 4, 7], \"x\": [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10]}, \"callback\": null, \"column_names\": [\"x\", \"y\"]}, \"id\": \"d7af2f01-1f24-4e47-b66f-dfb887b1521b\", \"type\": \"ColumnDataSource\"}, {\"attributes\": {}, \"id\": \"fa980227-cb02-4944-9180-710dd167d36a\", \"type\": \"BasicTicker\"}, {\"attributes\": {\"line_color\": {\"value\": \"red\"}, \"line_alpha\": {\"value\": 0.5}, \"fill_color\": {\"value\": \"red\"}, \"size\": {\"value\": 12, \"units\": \"screen\"}, \"y\": {\"field\": \"y\"}, \"fill_alpha\": {\"value\": 0.5}, \"x\": {\"field\": \"x\"}}, \"id\": \"a980c6e7-2a10-42f0-ae6d-a76b4eb62851\", \"type\": \"Circle\"}, {\"attributes\": {\"plot\": {\"id\": \"ec8f4d1f-dbe7-4a28-bdf1-ae4ffcb3f160\", \"type\": \"Plot\", \"subtype\": \"Figure\"}}, \"id\": \"a62dadc7-7038-465c-a184-93e4d6cb654d\", \"type\": \"PanTool\"}, {\"attributes\": {\"left\": [{\"id\": \"713469c5-87f9-427a-9200-5c5b6cc437b4\", \"type\": \"LinearAxis\"}], \"y_range\": {\"id\": \"7e01336a-6000-47cb-b34f-ac1a844beba0\", \"type\": \"Range1d\"}, \"renderers\": [{\"id\": \"17caaa93-e03a-46c6-845d-f3b088d7969e\", \"type\": \"LinearAxis\"}, {\"id\": \"9a6cdb57-6cfb-47a3-b8b7-e22c25d9c6ac\", \"type\": \"Grid\"}, {\"id\": \"713469c5-87f9-427a-9200-5c5b6cc437b4\", \"type\": \"LinearAxis\"}, {\"id\": \"ae919561-629c-4bbe-9603-e4b4181fe470\", \"type\": \"Grid\"}, {\"id\": \"08da54c6-1118-4302-b0be-379d30e1eaa2\", \"type\": \"BoxAnnotation\"}, {\"id\": \"6cf91275-4e1b-4df5-ae1a-01a7238e5801\", \"type\": \"GlyphRenderer\"}], \"x_range\": {\"id\": \"24d53292-ad0f-4606-a175-cbd00e587035\", \"type\": \"Range1d\"}, \"tool_events\": {\"id\": \"b04c8874-77d0-4fc5-b194-9913f93b10fc\", \"type\": \"ToolEvents\"}, \"plot_width\": 300, \"plot_height\": 300, \"tools\": [{\"id\": \"0b0514ad-e825-405a-bc21-a3785c3b4ff7\", \"type\": \"PanTool\"}, {\"id\": \"7295afb8-7482-4396-a764-052b8ec72868\", \"type\": \"WheelZoomTool\"}, {\"id\": \"03bc59e0-6eb7-4be9-8f49-52f64d15f47d\", \"type\": \"BoxZoomTool\"}, {\"id\": \"0efbfa71-4a9f-4dd7-bd9a-91468cd0786b\", \"type\": \"ResetTool\"}, {\"id\": \"8fe2733b-a96b-4b90-aa8a-2e36011e92fa\", \"type\": \"PreviewSaveTool\"}], \"below\": [{\"id\": \"17caaa93-e03a-46c6-845d-f3b088d7969e\", \"type\": \"LinearAxis\"}]}, \"id\": \"00cdedbc-e91c-41af-93fe-a18e85fd8d4b\", \"type\": \"Plot\", \"subtype\": \"Figure\"}, {\"attributes\": {}, \"id\": \"6b3f4def-882f-4edf-b7d7-df027941018c\", \"type\": \"BasicTickFormatter\"}, {\"attributes\": {\"left\": [{\"id\": \"2135df5a-a7a3-4d8a-9742-715932f01fd0\", \"type\": \"LinearAxis\"}], \"y_range\": {\"id\": \"aa64b839-0627-4ed7-8e46-c5ed905697cf\", \"type\": \"Range1d\"}, \"renderers\": [{\"id\": \"bb0a1bfc-9551-4e7d-adce-8055d21314cd\", \"type\": \"LinearAxis\"}, {\"id\": \"72d00523-affe-4441-bb1a-244283c951d6\", \"type\": \"Grid\"}, {\"id\": \"2135df5a-a7a3-4d8a-9742-715932f01fd0\", \"type\": \"LinearAxis\"}, {\"id\": \"abd5cd08-18d8-4864-9527-a881ad2a0e01\", \"type\": \"Grid\"}, {\"id\": \"e1c83ae8-c542-473e-a405-418b544d8eee\", \"type\": \"BoxAnnotation\"}, {\"id\": \"50e4d0ea-3902-471e-8416-e72067439c11\", \"type\": \"GlyphRenderer\"}], \"x_range\": {\"id\": \"68764cb1-4a10-4137-bb1b-635eb0d9d803\", \"type\": \"Range1d\"}, \"tool_events\": {\"id\": \"9d887daf-fcb8-4b2c-8704-f51493516563\", \"type\": \"ToolEvents\"}, \"plot_width\": 300, \"plot_height\": 300, \"tools\": [{\"id\": \"13869e41-fb6c-44a4-963c-63672a138c0e\", \"type\": \"PanTool\"}, {\"id\": \"da638859-0011-4414-9cc8-2713af45a2a6\", \"type\": \"WheelZoomTool\"}, {\"id\": \"f86fbc03-1d47-48c0-a6f4-399188a566b3\", \"type\": \"BoxZoomTool\"}, {\"id\": \"40f63935-2f78-44fe-bf9c-2d6d4fb7039b\", \"type\": \"ResetTool\"}, {\"id\": \"ec25949e-0a0f-450f-8574-e812b81be57b\", \"type\": \"PreviewSaveTool\"}], \"below\": [{\"id\": \"bb0a1bfc-9551-4e7d-adce-8055d21314cd\", \"type\": \"LinearAxis\"}]}, \"id\": \"40594e49-e943-4e24-956c-c1f438c65b18\", \"type\": \"Plot\", \"subtype\": \"Figure\"}, {\"attributes\": {\"data\": {\"y\": [0, 8, 4, 6, 9, 15, 18, 19, 19, 25, 28], \"x\": [0, 1, 0, 8, 2, 4, 6, 9, 7, 8, 9]}, \"callback\": null, \"column_names\": [\"x\", \"y\"]}, \"id\": \"50d963cf-ce68-4d52-af67-2d33bf00b597\", \"type\": \"ColumnDataSource\"}, {\"attributes\": {\"ticker\": {\"id\": \"5f45406e-da91-4648-bb40-f86d24b9f678\", \"type\": \"BasicTicker\"}, \"formatter\": {\"id\": \"0dc08e07-584c-4ef6-a530-3e5bc2370433\", \"type\": \"BasicTickFormatter\"}, \"plot\": {\"id\": \"ec8f4d1f-dbe7-4a28-bdf1-ae4ffcb3f160\", \"type\": \"Plot\", \"subtype\": \"Figure\"}}, \"id\": \"4a2a6e7d-6578-40c9-a84c-df8ff47a534a\", \"type\": \"LinearAxis\"}, {\"attributes\": {\"plot\": {\"id\": \"40594e49-e943-4e24-956c-c1f438c65b18\", \"type\": \"Plot\", \"subtype\": \"Figure\"}}, \"id\": \"da638859-0011-4414-9cc8-2713af45a2a6\", \"type\": \"WheelZoomTool\"}, {\"attributes\": {}, \"id\": \"97d0aeac-4b86-46a0-a115-5bd013e0b286\", \"type\": \"BasicTickFormatter\"}, {\"attributes\": {\"overlay\": {\"id\": \"e1c83ae8-c542-473e-a405-418b544d8eee\", \"type\": \"BoxAnnotation\"}, \"plot\": {\"id\": \"40594e49-e943-4e24-956c-c1f438c65b18\", \"type\": \"Plot\", \"subtype\": \"Figure\"}}, \"id\": \"f86fbc03-1d47-48c0-a6f4-399188a566b3\", \"type\": \"BoxZoomTool\"}, {\"attributes\": {\"callback\": null, \"end\": 30}, \"id\": \"aa64b839-0627-4ed7-8e46-c5ed905697cf\", \"type\": \"Range1d\"}, {\"attributes\": {}, \"id\": \"9d887daf-fcb8-4b2c-8704-f51493516563\", \"type\": \"ToolEvents\"}, {\"attributes\": {\"callback\": null, \"end\": 30}, \"id\": \"24d53292-ad0f-4606-a175-cbd00e587035\", \"type\": \"Range1d\"}, {\"attributes\": {\"nonselection_glyph\": {\"id\": \"4324740d-3a82-488f-a9e5-b977e578c5ec\", \"type\": \"Circle\"}, \"hover_glyph\": null, \"selection_glyph\": null, \"glyph\": {\"id\": \"c073e00d-7afb-4806-bd87-152f44f77398\", \"type\": \"Circle\"}, \"data_source\": {\"id\": \"826fd0c1-ffe8-40ba-b274-ae3a6f3a1c92\", \"type\": \"ColumnDataSource\"}}, \"id\": \"6cf91275-4e1b-4df5-ae1a-01a7238e5801\", \"type\": \"GlyphRenderer\"}], \"root_ids\": [\"ec8f4d1f-dbe7-4a28-bdf1-ae4ffcb3f160\", \"00cdedbc-e91c-41af-93fe-a18e85fd8d4b\", \"40594e49-e943-4e24-956c-c1f438c65b18\"]}}};\n    var render_items = [{\"docid\": \"3da19e3f-a1b7-401e-9d2a-56533d557c40\", \"modelid\": \"40594e49-e943-4e24-956c-c1f438c65b18\", \"elementid\": \"67ec5f6a-1b84-4484-bd65-5bcba302039d\"}, {\"docid\": \"3da19e3f-a1b7-401e-9d2a-56533d557c40\", \"modelid\": \"00cdedbc-e91c-41af-93fe-a18e85fd8d4b\", \"elementid\": \"7ddd4cda-f6fe-494d-8baa-fe1a5f20acc1\"}, {\"docid\": \"3da19e3f-a1b7-401e-9d2a-56533d557c40\", \"modelid\": \"ec8f4d1f-dbe7-4a28-bdf1-ae4ffcb3f160\", \"elementid\": \"ceb4ea8a-2a29-4d21-96c6-df9cb4c21e56\"}];\n\n    Bokeh.embed.embed_items(docs_json, render_items);\n});\n&lt;/script&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n\n\n&lt;div class=\"plotdiv\" id=\"67ec5f6a-1b84-4484-bd65-5bcba302039d\"&gt;&lt;/div&gt;\n\n\n&lt;div class=\"plotdiv\" id=\"7ddd4cda-f6fe-494d-8baa-fe1a5f20acc1\"&gt;&lt;/div&gt;\n\n\n&lt;div class=\"plotdiv\" id=\"ceb4ea8a-2a29-4d21-96c6-df9cb4c21e56\"&gt;&lt;/div&gt;\n\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<pre><code>\nI can only suggest that whatever user or environment your Django app is using, it is not importing Bokeh `0.11` when it calls `components`.\n</code></pre>\n"}], "owner": {"reputation": 2166, "user_id": 2734863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b1edbcba419dd480d29a80ea3c9674c4?s=128&d=identicon&r=PG", "display_name": "Frikster", "link": "https://stackoverflow.com/users/2734863/frikster"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 431, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1574474277, "creation_date": 1453318797, "last_edit_date": 1574474256, "question_id": 34909026, "link": "https://stackoverflow.com/questions/34909026/bokeh-plot-does-not-appear-on-the-same-django-page-after-csv-upload", "title": "Bokeh plot does not appear on the same django page after csv upload", "body": "<p>Related: <a href=\"https://stackoverflow.com/questions/34820615/embedding-bokeh-plot-in-django-website-results-in-blank-page-with-no-error-messa\">Embedding Bokeh plot in Django website results in blank page with no error message</a></p>\n\n<p>Except this time I'm using the correct version.</p>\n\n<p>I have code where all I want to see is a website with an upload button where after a csv is uploaded, a bokeh plot appears on the same page. Uploading of the csv works. With the debugger I can see I have lists <code>x_of_pixels</code> and <code>y_of_pixels</code> and now I should simply be able to generate a Bokeh plot of the one against the other.  </p>\n\n<p>However, after upload, no error occurs but no Bokeh plot appears either.</p>\n\n<p>This function is in <strong>views.py</strong> and is called when the page loads</p>\n\n<pre><code>def list(request):\n    # ---------- from minimal-django-file-upload-example\n    newdoc = None\n    # Handle file upload\n    if request.method == 'POST':\n        form = DocumentForm(request.POST, request.FILES)\n        if form.is_valid():\n            newdoc = Document(docfile=request.FILES['docfile'])\n            newdoc.save()\n\n            # Redirect to the document list after POST\n            # return HttpResponseRedirect(reverse('myproject.myapp.views.list'))\n    else:\n        form = DocumentForm()  # A empty, unbound form\n\n    documents = Document.objects.all()\n    csvfile = None\n    if len(documents) &gt; 0:\n        if newdoc is None:\n            plot = figure()\n            script, div = components(plot, CDN)\n        else:\n            csvfile = newdoc.docfile.path\n\n            # read from csv\n            lines = []\n            with open(csvfile,\"r\") as f:\n                reader = csv.reader(f, delimiter = \",\")\n                for row in reader:\n                    lines.append(row)\n\n            x_of_pixels = []\n            y_of_pixels = []\n            x_value = 0\n            step = 1 #1.0/len(lines)\n            for row in lines:\n                y_value = float(row[0])\n                x_of_pixels.append(x_value)\n                y_of_pixels.append(y_value)\n                x_value += step\n            plot = figure()\n            plot.line(x_of_pixels, y_of_pixels, line_width=2)\n            script, div = components(plot, CDN)\n    else:\n        plot = figure()\n        script, div = components(plot, CDN)\n\n    # Render list page with the documents and the form\n    return render_to_response(\n        'list.html',\n        {'documents': documents, 'form': form, 'the_script': script, 'the_div': div},\n        context_instance=RequestContext(request)\n    )\n</code></pre>\n\n<p><strong>list.html</strong></p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n    &lt;head&gt;\n        &lt;meta charset=\"utf-8\"&gt;\n        &lt;title&gt;Minimal Django File Upload Example&lt;/title&gt;\n        &lt;script src=\"http://cdn.bokeh.org/bokeh/release/bokeh-0.11.0.min.js\"&gt;&lt;/script&gt;\n        &lt;link rel=\"stylesheet\" href=\"http://cdn.bokeh.org/bokeh/release/bokeh-0.11.0.min.css\"&gt;\n        {{the_script|safe}}\n    &lt;/head&gt;\n\n    &lt;body&gt;\n        &lt;!-- List of uploaded documents --&gt;\n        {% if documents %}\n            &lt;ul&gt;\n                {% for document in documents %}\n                    &lt;li&gt;&lt;a href=\"{{ document.docfile.url }}\"&gt;{{ document.docfile.name }}&lt;/a&gt;&lt;/li&gt;\n                {% endfor %}\n            &lt;/ul&gt;\n        {% else %}\n            &lt;p&gt;No documents.&lt;/p&gt;\n        {% endif %}\n\n        &lt;!-- Upload form. Note enctype attribute! --&gt;\n        &lt;form action=\"{% url \"list\" %}\" method=\"post\" enctype=\"multipart/form-data\"&gt;\n            {% csrf_token %}\n            &lt;p&gt;{{ form.non_field_errors }}&lt;/p&gt;\n\n            &lt;p&gt;{{ form.docfile.label_tag }} {{ form.docfile.help_text }}&lt;/p&gt;\n\n            &lt;p&gt;\n                {{ form.docfile.errors }}\n                {{ form.docfile }}\n            &lt;/p&gt;\n\n            &lt;p&gt;&lt;input type=\"submit\" value=\"Upload\"/&gt;&lt;/p&gt;\n        &lt;/form&gt;\n    {{the_div|safe}}\n    &lt;/body&gt;\n\n&lt;/html&gt;\n</code></pre>\n\n<p>The uploaded files display as you would expect as per the <a href=\"https://stackoverflow.com/questions/5871730/need-a-minimal-django-file-upload-example\">following example</a> where I modified the code above from</p>\n\n<p>I debugged and at the return render_to_response after uploading a csv I have the following values for form and script</p>\n\n<p><strong>script</strong>:</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n    Bokeh.$(function() {\n    var all_models = [{\"attributes\": {\"plot\": {\"subtype\": \"Figure\", \"type\": \"Plot\", \"id\": \"58794904-3226-4a3d-be06-0d2fefdd309e\"}, \"dimensions\": [\"width\", \"height\"], \"tags\": [], \"doc\": null, \"id\": \"57db162e-5877-4909-9014-3c699165bccb\"}, \"type\": \"PanTool\", \"id\": \"57db162e-5877-4909-9014-3c699165bccb\"}, {\"attributes\": {\"geometries\": [], \"tags\": [], \"doc\": null, \"id\": \"f85f7355-c842-4a9a-b8d0-1679ca49b96a\"}, \"type\": \"ToolEvents\", \"id\": \"f85f7355-c842-4a9a-b8d0-1679ca49b96a\"}, {\"attributes\": {\"tags\": [], \"doc\": null, \"renderers\": [], \"callback\": null, \"names\": [], \"id\": \"7357fef1-126a-446b-bc9c-4e19f8b7110f\"}, \"type\": \"DataRange1d\", \"id\": \"7357fef1-126a-446b-bc9c-4e19f8b7110f\"}, {\"attributes\": {\"plot\": {\"subtype\": \"Figure\", \"type\": \"Plot\", \"id\": \"58794904-3226-4a3d-be06-0d2fefdd309e\"}, \"tags\": [], \"doc\": null, \"id\": \"91f37553-38cb-4682-9b57-e3853ccbedde\"}, \"type\": \"PreviewSaveTool\", \"id\": \"91f37553-38cb-4682-9b57-e3853ccbedde\"}, {\"attributes\": {\"plot\": {\"subtype\": \"Figure\", \"type\": \"Plot\", \"id\": \"58794904-3226-4a3d-be06-0d2fefdd309e\"}, \"tags\": [], \"doc\": null, \"id\": \"68ca74ff-2109-492a-a3d1-49985275f75e\"}, \"type\": \"HelpTool\", \"id\": \"68ca74ff-2109-492a-a3d1-49985275f75e\"}, {\"attributes\": {\"line_color\": {\"value\": \"#1f77b4\"}, \"line_width\": {\"value\": 2}, \"line_alpha\": {\"value\": 1.0}, \"doc\": null, \"tags\": [], \"y\": {\"field\": \"y\"}, \"x\": {\"field\": \"x\"}, \"id\": \"ba0507fa-cfc9-4e0e-a6c9-71911f0c628f\"}, \"type\": \"Line\", \"id\": \"ba0507fa-cfc9-4e0e-a6c9-71911f0c628f\"}, {\"attributes\": {\"plot\": {\"subtype\": \"Figure\", \"type\": \"Plot\", \"id\": \"58794904-3226-4a3d-be06-0d2fefdd309e\"}, \"dimensions\": [\"width\", \"height\"], \"tags\": [], \"doc\": null, \"id\": \"55361a47-0c00-4708-ad60-f30eb5face60\"}, \"type\": \"WheelZoomTool\", \"id\": \"55361a47-0c00-4708-ad60-f30eb5face60\"}, {\"attributes\": {\"plot\": {\"subtype\": \"Figure\", \"type\": \"Plot\", \"id\": \"58794904-3226-4a3d-be06-0d2fefdd309e\"}, \"tags\": [], \"doc\": null, \"id\": \"eb16229f-1179-49f7-811e-ec219fe37d99\"}, \"type\": \"ResizeTool\", \"id\": \"eb16229f-1179-49f7-811e-ec219fe37d99\"}, {\"attributes\": {\"plot\": {\"subtype\": \"Figure\", \"type\": \"Plot\", \"id\": \"58794904-3226-4a3d-be06-0d2fefdd309e\"}, \"tags\": [], \"doc\": null, \"formatter\": {\"type\": \"BasicTickFormatter\", \"id\": \"e9899588-262e-4531-9a54-cca8e870f01f\"}, \"ticker\": {\"type\": \"BasicTicker\", \"id\": \"4b89319f-32b5-4230-a29e-1955e2487584\"}, \"id\": \"8f40d18b-ed3d-4904-9bb3-50492eaf2312\"}, \"type\": \"LinearAxis\", \"id\": \"8f40d18b-ed3d-4904-9bb3-50492eaf2312\"}, {\"attributes\": {\"line_color\": {\"value\": \"#1f77b4\"}, \"line_width\": {\"value\": 2}, \"line_alpha\": {\"value\": 0.1}, \"doc\": null, \"tags\": [], \"y\": {\"field\": \"y\"}, \"x\": {\"field\": \"x\"}, \"id\": \"6cdffdad-b986-4471-9e39-786a0e663a03\"}, \"type\": \"Line\", \"id\": \"6cdffdad-b986-4471-9e39-786a0e663a03\"}, {\"attributes\": {\"doc\": null, \"id\": \"381a8e2d-8d9d-47b6-a950-615b10b0e65d\", \"tags\": []}, \"type\": \"BasicTickFormatter\", \"id\": \"381a8e2d-8d9d-47b6-a950-615b10b0e65d\"}, {\"attributes\": {\"column_names\": [\"y\", \"x\"], \"tags\": [], \"doc\": null, \"selected\": {\"2d\": {\"indices\": []}, \"1d\": {\"indices\": []}, \"0d\": {\"indices\": [], \"flag\": false}}, \"callback\": null, \"data\": {\"y\": [346.01800537109375, 301.10101318359375, 290.2510070800781, 273.43902587890625, 263.635009765625, 219.71701049804688, 208.6840057373047, 194.84201049804688, 174.60800170898438, 172.82101440429688, 171.29000854492188, 161.91400146484375, 155.13400268554688, 154.51600646972656, 152.45101928710938, 130.87899780273438, 127.01300811767578, 124.02900695800781, 123.44900512695312, 121.52900695800781, 117.64100646972656, 111.00700378417969, 107.00601196289062, 102.16200256347656, 97.97200775146484, 96.56700134277344, 93.14000701904297, 90.73800659179688, 86.91800689697266, 86.13200378417969, 85.54700469970703, 83.2800064086914, 81.91100311279297, 78.37200164794922, 76.67300415039062, 72.34800720214844, 69.76700592041016, 68.82600402832031, 65.63700103759766, 62.92400360107422, 61.75100326538086, 58.49800491333008, 58.27900695800781, 57.90500259399414, 56.74200439453125, 56.49900436401367, 56.487003326416016, 56.46900177001953, 55.802001953125, 55.41100311279297, 55.13800048828125, 54.75199890136719, 54.52700424194336, 53.53400421142578, 52.51499938964844, 52.084999084472656, 51.038002014160156, 50.5670051574707, 48.31000518798828, 45.557003021240234, 45.397003173828125, 45.11300277709961, 45.09300231933594, 44.41800308227539, 44.406002044677734, 43.371002197265625, 41.519004821777344, 41.18600082397461, 40.906002044677734, 40.87300109863281, 40.17100143432617, 39.49400329589844, 39.45500183105469, 39.37000274658203, 39.263999938964844, 38.625999450683594, 38.454002380371094, 37.56800079345703, 37.207000732421875, 36.342002868652344, 35.209999084472656, 34.98400115966797, 34.34700012207031, 34.138999938964844, 32.698001861572266, 32.51300048828125, 31.816001892089844, 31.48200035095215, 31.41666603088379, 31.170001983642578], \"x\": [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89]}, \"id\": \"a125efaa-8772-4fd7-a422-b51aadb38528\"}, \"type\": \"ColumnDataSource\", \"id\": \"a125efaa-8772-4fd7-a422-b51aadb38528\"}, {\"attributes\": {\"plot\": {\"subtype\": \"Figure\", \"type\": \"Plot\", \"id\": \"58794904-3226-4a3d-be06-0d2fefdd309e\"}, \"tags\": [], \"doc\": null, \"id\": \"3e895892-20e5-4e91-962f-82e646c47052\"}, \"type\": \"ResetTool\", \"id\": \"3e895892-20e5-4e91-962f-82e646c47052\"}, {\"subtype\": \"Figure\", \"type\": \"Plot\", \"id\": \"58794904-3226-4a3d-be06-0d2fefdd309e\", \"attributes\": {\"x_range\": {\"type\": \"DataRange1d\", \"id\": \"e44661a3-e575-4b91-98f6-875b599c5bae\"}, \"right\": [], \"tags\": [], \"y_range\": {\"type\": \"DataRange1d\", \"id\": \"7357fef1-126a-446b-bc9c-4e19f8b7110f\"}, \"renderers\": [{\"type\": \"LinearAxis\", \"id\": \"8f40d18b-ed3d-4904-9bb3-50492eaf2312\"}, {\"type\": \"Grid\", \"id\": \"5947fdee-31b2-4869-a64f-0c1bfd2def6e\"}, {\"type\": \"LinearAxis\", \"id\": \"2a419e65-8287-43a8-8c5d-0c95b91571be\"}, {\"type\": \"Grid\", \"id\": \"2b132b96-66c3-4f2d-b48d-828e9aaf2142\"}, {\"type\": \"GlyphRenderer\", \"id\": \"d2f6a1e1-acc3-42e0-acef-a89d57e03c5e\"}], \"extra_y_ranges\": {}, \"extra_x_ranges\": {}, \"tool_events\": {\"type\": \"ToolEvents\", \"id\": \"f85f7355-c842-4a9a-b8d0-1679ca49b96a\"}, \"above\": [], \"doc\": null, \"id\": \"58794904-3226-4a3d-be06-0d2fefdd309e\", \"tools\": [{\"type\": \"PanTool\", \"id\": \"57db162e-5877-4909-9014-3c699165bccb\"}, {\"type\": \"WheelZoomTool\", \"id\": \"55361a47-0c00-4708-ad60-f30eb5face60\"}, {\"type\": \"BoxZoomTool\", \"id\": \"df53972f-ab85-4031-84f2-ebb1b6f219c4\"}, {\"type\": \"PreviewSaveTool\", \"id\": \"91f37553-38cb-4682-9b57-e3853ccbedde\"}, {\"type\": \"ResizeTool\", \"id\": \"eb16229f-1179-49f7-811e-ec219fe37d99\"}, {\"type\": \"ResetTool\", \"id\": \"3e895892-20e5-4e91-962f-82e646c47052\"}, {\"type\": \"HelpTool\", \"id\": \"68ca74ff-2109-492a-a3d1-49985275f75e\"}], \"below\": [{\"type\": \"LinearAxis\", \"id\": \"8f40d18b-ed3d-4904-9bb3-50492eaf2312\"}], \"left\": [{\"type\": \"LinearAxis\", \"id\": \"2a419e65-8287-43a8-8c5d-0c95b91571be\"}]}}, {\"attributes\": {\"plot\": {\"subtype\": \"Figure\", \"type\": \"Plot\", \"id\": \"58794904-3226-4a3d-be06-0d2fefdd309e\"}, \"tags\": [], \"doc\": null, \"formatter\": {\"type\": \"BasicTickFormatter\", \"id\": \"381a8e2d-8d9d-47b6-a950-615b10b0e65d\"}, \"ticker\": {\"type\": \"BasicTicker\", \"id\": \"7aee15cb-0bec-4465-bb50-dcd562e92cb6\"}, \"id\": \"2a419e65-8287-43a8-8c5d-0c95b91571be\"}, \"type\": \"LinearAxis\", \"id\": \"2a419e65-8287-43a8-8c5d-0c95b91571be\"}, {\"attributes\": {\"tags\": [], \"doc\": null, \"renderers\": [], \"callback\": null, \"names\": [], \"id\": \"e44661a3-e575-4b91-98f6-875b599c5bae\"}, \"type\": \"DataRange1d\", \"id\": \"e44661a3-e575-4b91-98f6-875b599c5bae\"}, {\"attributes\": {\"plot\": {\"subtype\": \"Figure\", \"type\": \"Plot\", \"id\": \"58794904-3226-4a3d-be06-0d2fefdd309e\"}, \"dimensions\": [\"width\", \"height\"], \"tags\": [], \"doc\": null, \"id\": \"df53972f-ab85-4031-84f2-ebb1b6f219c4\"}, \"type\": \"BoxZoomTool\", \"id\": \"df53972f-ab85-4031-84f2-ebb1b6f219c4\"}, {\"attributes\": {\"plot\": {\"subtype\": \"Figure\", \"type\": \"Plot\", \"id\": \"58794904-3226-4a3d-be06-0d2fefdd309e\"}, \"tags\": [], \"doc\": null, \"dimension\": 0, \"ticker\": {\"type\": \"BasicTicker\", \"id\": \"4b89319f-32b5-4230-a29e-1955e2487584\"}, \"id\": \"5947fdee-31b2-4869-a64f-0c1bfd2def6e\"}, \"type\": \"Grid\", \"id\": \"5947fdee-31b2-4869-a64f-0c1bfd2def6e\"}, {\"attributes\": {\"nonselection_glyph\": {\"type\": \"Line\", \"id\": \"6cdffdad-b986-4471-9e39-786a0e663a03\"}, \"data_source\": {\"type\": \"ColumnDataSource\", \"id\": \"a125efaa-8772-4fd7-a422-b51aadb38528\"}, \"tags\": [], \"doc\": null, \"selection_glyph\": null, \"id\": \"d2f6a1e1-acc3-42e0-acef-a89d57e03c5e\", \"glyph\": {\"type\": \"Line\", \"id\": \"ba0507fa-cfc9-4e0e-a6c9-71911f0c628f\"}}, \"type\": \"GlyphRenderer\", \"id\": \"d2f6a1e1-acc3-42e0-acef-a89d57e03c5e\"}, {\"attributes\": {\"plot\": {\"subtype\": \"Figure\", \"type\": \"Plot\", \"id\": \"58794904-3226-4a3d-be06-0d2fefdd309e\"}, \"tags\": [], \"doc\": null, \"dimension\": 1, \"ticker\": {\"type\": \"BasicTicker\", \"id\": \"7aee15cb-0bec-4465-bb50-dcd562e92cb6\"}, \"id\": \"2b132b96-66c3-4f2d-b48d-828e9aaf2142\"}, \"type\": \"Grid\", \"id\": \"2b132b96-66c3-4f2d-b48d-828e9aaf2142\"}, {\"attributes\": {\"tags\": [], \"doc\": null, \"mantissas\": [2, 5, 10], \"id\": \"4b89319f-32b5-4230-a29e-1955e2487584\", \"num_minor_ticks\": 5}, \"type\": \"BasicTicker\", \"id\": \"4b89319f-32b5-4230-a29e-1955e2487584\"}, {\"attributes\": {\"tags\": [], \"doc\": null, \"mantissas\": [2, 5, 10], \"id\": \"7aee15cb-0bec-4465-bb50-dcd562e92cb6\", \"num_minor_ticks\": 5}, \"type\": \"BasicTicker\", \"id\": \"7aee15cb-0bec-4465-bb50-dcd562e92cb6\"}, {\"attributes\": {\"doc\": null, \"id\": \"e9899588-262e-4531-9a54-cca8e870f01f\", \"tags\": []}, \"type\": \"BasicTickFormatter\", \"id\": \"e9899588-262e-4531-9a54-cca8e870f01f\"}];\n    Bokeh.load_models(all_models);\n    var plots = [{'modeltype': 'Plot', 'elementid': '0e3c4757-9abe-4c0b-b9f4-09682fcb4ded', 'modelid': '58794904-3226-4a3d-be06-0d2fefdd309e'}];\n    for (idx in plots) {\n        var plot = plots[idx];\n        var model = Bokeh.Collections(plot.modeltype).get(plot.modelid);\n        Bokeh.logger.info('Realizing plot:')\n        Bokeh.logger.info(' - modeltype: ' + plot.modeltype);\n        Bokeh.logger.info(' - modelid: ' + plot.modelid);\n        Bokeh.logger.info(' - elementid: ' + plot.elementid);\n        var view = new model.default_view({\n            model: model,\n            el: '#' + plot.elementid\n        });\n        Bokeh.index[plot.modelid] = view;\n    }\n});\n&lt;/script&gt;\n</code></pre>\n\n<p>And if you look at the script you can see that \"data\" does have the correct x and y values:</p>\n\n<pre><code>\"data\": {\"y\": [346.01800537109375, 301.10101318359375, 290.2510070800781, 273.43902587890625, 263.635009765625, 219.71701049804688, 208.6840057373047, 194.84201049804688, 174.60800170898438, 172.82101440429688, 171.29000854492188, 161.91400146484375, 155.13400268554688, 154.51600646972656, 152.45101928710938, 130.87899780273438, 127.01300811767578, 124.02900695800781, 123.44900512695312, 121.52900695800781, 117.64100646972656, 111.00700378417969, 107.00601196289062, 102.16200256347656, 97.97200775146484, 96.56700134277344, 93.14000701904297, 90.73800659179688, 86.91800689697266, 86.13200378417969, 85.54700469970703, 83.2800064086914, 81.91100311279297, 78.37200164794922, 76.67300415039062, 72.34800720214844, 69.76700592041016, 68.82600402832031, 65.63700103759766, 62.92400360107422, 61.75100326538086, 58.49800491333008, 58.27900695800781, 57.90500259399414, 56.74200439453125, 56.49900436401367, 56.487003326416016, 56.46900177001953, 55.802001953125, 55.41100311279297, 55.13800048828125, 54.75199890136719, 54.52700424194336, 53.53400421142578, 52.51499938964844, 52.084999084472656, 51.038002014160156, 50.5670051574707, 48.31000518798828, 45.557003021240234, 45.397003173828125, 45.11300277709961, 45.09300231933594, 44.41800308227539, 44.406002044677734, 43.371002197265625, 41.519004821777344, 41.18600082397461, 40.906002044677734, 40.87300109863281, 40.17100143432617, 39.49400329589844, 39.45500183105469, 39.37000274658203, 39.263999938964844, 38.625999450683594, 38.454002380371094, 37.56800079345703, 37.207000732421875, 36.342002868652344, 35.209999084472656, 34.98400115966797, 34.34700012207031, 34.138999938964844, 32.698001861572266, 32.51300048828125, 31.816001892089844, 31.48200035095215, 31.41666603088379, 31.170001983642578], \"x\": [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89]}\n</code></pre>\n\n<p><strong>form</strong>:</p>\n\n<pre><code>&lt;tr&gt;&lt;th&gt;&lt;label for=\"id_docfile\"&gt;Select a file:&lt;/label&gt;&lt;/th&gt;&lt;td&gt;&lt;input id=\"id_docfile\" name=\"docfile\" type=\"file\" /&gt;&lt;/td&gt;&lt;/tr&gt;\n</code></pre>\n\n<p>Why don't I see a Bokeh plot appear after upload even though I specified <code>the_div</code> and <code>the_script</code> variables in the header and body of <code>list.html</code>?</p>\n"}, {"tags": ["python", "numpy", "pandas", "glm"], "comments": [{"owner": {"reputation": 10123, "user_id": 3639023, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/RkSU9.png?s=128&g=1", "display_name": "johnchase", "link": "https://stackoverflow.com/users/3639023/johnchase"}, "edited": false, "score": 0, "creation_date": 1453319796, "post_id": 34909018, "comment_id": 57554329, "body": "Answering this without an example of the data is going to be very difficult. Can you reduce the size of <code>train_data</code> and still reproduce this error? maybe try with a smaller formula? I&#39;m guessing you are following <a href=\"http://statsmodels.sourceforge.net/devel/examples/notebooks/generated/glm_formula.html\" rel=\"nofollow noreferrer\">this example</a> Does following that example result in an error as well? If not the next step is figuring out what is different in your data, though without knowing what the data looks like I would just be guessing."}, {"owner": {"reputation": 10123, "user_id": 3639023, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/RkSU9.png?s=128&g=1", "display_name": "johnchase", "link": "https://stackoverflow.com/users/3639023/johnchase"}, "edited": false, "score": 0, "creation_date": 1453320184, "post_id": 34909018, "comment_id": 57554533, "body": "As I&#39;m thinking about this more, what happens if you leave the dataframe as a dataframe and don&#39;t convert it to an array?"}, {"owner": {"reputation": 81, "user_id": 5336458, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2135b72c5272f285937e5948394b5826?s=128&d=identicon&r=PG&f=1", "display_name": "Mike Tibb", "link": "https://stackoverflow.com/users/5336458/mike-tibb"}, "reply_to_user": {"reputation": 10123, "user_id": 3639023, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/RkSU9.png?s=128&g=1", "display_name": "johnchase", "link": "https://stackoverflow.com/users/3639023/johnchase"}, "edited": false, "score": 1, "creation_date": 1453320432, "post_id": 34909018, "comment_id": 57554668, "body": "@johnchase Here are the first 5 rows of the array: array([[  0.    ,   3.    ,   7.25  ,   1.    ,  22.    ], [  1.    ,   1.    ,  71.2833,   0.    ,  38.    ],         [  1.    ,   3.    ,   7.925 ,   0.    ,  26.    ],         [  1.    ,   1.    ,  53.1   ,   0.    ,  35.    ],         [  0.    ,   3.    ,   8.05  ,   1.    ,  35.    ]])  That example was the basic structure I was attempting to follow but I have not attempted to run the example myself. I may attempt that in a little bit to see if I get the same issue"}, {"owner": {"reputation": 81, "user_id": 5336458, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2135b72c5272f285937e5948394b5826?s=128&d=identicon&r=PG&f=1", "display_name": "Mike Tibb", "link": "https://stackoverflow.com/users/5336458/mike-tibb"}, "reply_to_user": {"reputation": 10123, "user_id": 3639023, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/RkSU9.png?s=128&g=1", "display_name": "johnchase", "link": "https://stackoverflow.com/users/3639023/johnchase"}, "edited": false, "score": 1, "creation_date": 1453320846, "post_id": 34909018, "comment_id": 57554894, "body": "@johnchase When I run it as a dataframe I receive a different error: [ValueError: For numerical factors, num_columns must be an int]. I found this <a href=\"https://groups.google.com/forum/#!topic/pystatsmodels/KcSzNqDxv-Q\" rel=\"nofollow noreferrer\">thread</a> of people who were having the same issue. I updated patsy but the issue still persisted so I assumed I needed to convert things back to an array."}, {"owner": {"reputation": 10123, "user_id": 3639023, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/RkSU9.png?s=128&g=1", "display_name": "johnchase", "link": "https://stackoverflow.com/users/3639023/johnchase"}, "edited": false, "score": 2, "creation_date": 1453320976, "post_id": 34909018, "comment_id": 57554969, "body": "The reason that the array is not working is because it does not contain keys. From the notes: &quot;data must define <b>getitem</b> with the keys in the formula terms args and kwargs are passed on to the model instantiation. E.g., a numpy structured or rec array, a dictionary, or a pandas DataFrame. Basically statsmodels needs row and column names in order to be able to map the data to the formula.&quot; I would recommend leaving your data as a dataframe. I&#39;m unsure of the other error, though there should be no reason why a pandas dataframe shouldn&#39;t work if the data is valid."}, {"owner": {"reputation": 516, "user_id": 2297475, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5384f85703a1d9feed43cb9782d5141?s=128&d=identicon&r=PG", "display_name": "blue_chip", "link": "https://stackoverflow.com/users/2297475/blue-chip"}, "edited": false, "score": 0, "creation_date": 1457415855, "post_id": 34909018, "comment_id": 59384431, "body": "I had the same error: <code>[ValueError: For numerical factors, num_columns must be an int]</code> even after updating patsy to 0.4.1. A simple restart of iPython made the script run without any errors after."}], "owner": {"reputation": 81, "user_id": 5336458, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2135b72c5272f285937e5948394b5826?s=128&d=identicon&r=PG&f=1", "display_name": "Mike Tibb", "link": "https://stackoverflow.com/users/5336458/mike-tibb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 329, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1453318772, "creation_date": 1453318772, "question_id": 34909018, "link": "https://stackoverflow.com/questions/34909018/error-in-glm-model", "title": "Error in GLM model", "body": "<p>I've been using R for a while but I'm trying to learn a bit of Python now. I am attempting to run a simple binomial glm classification with Kaggle's Titantic dataset. Here is the code for the model itself:</p>\n\n<pre><code>    formula = 'Survived ~ Pclass + Gender + AgeFill + Fare'\n    glm = smf.glm(formula = formula, data = train_data, family = sm.families.Binomial()).fit()\n</code></pre>\n\n<p>But when I run the model I receive this error:</p>\n\n<pre><code>IndexError: only integers, slices (`:`), ellipsis (`...`), numpy.newaxis \n(`None`) and integer or boolean arrays are valid indices\n</code></pre>\n\n<p>I edited the model with pandas DataFrame but then converted things back to an numpy array. Everything in the model is a float and there are no missing values. Any help would be greatly appreciated.</p>\n"}, {"tags": ["python", "opencv", "camera", "raspberry-pi"], "answers": [{"tags": [], "owner": {"reputation": 8123, "user_id": 4228275, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K3MMo.png?s=128&g=1", "display_name": "Berriel", "link": "https://stackoverflow.com/users/4228275/berriel"}, "is_accepted": false, "score": 1, "last_activity_date": 1453334508, "last_edit_date": 1592644375, "creation_date": 1453333675, "answer_id": 34912873, "question_id": 34908986, "link": "https://stackoverflow.com/questions/34908986/opencv-python-how-to-constantly-update-the-time-output-and-distance-output/34912873#34912873", "title": "OpenCV python - How to constantly update the time output and distance output?", "body": "<p>This is why both values are not being updated:</p>\n<h2>timestamp</h2>\n<p><code>timestamp</code> is out of the <code>while</code> loop</p>\n<pre><code>timestamp = datetime.datetime.now()\nwhile(1):\n</code></pre>\n<p>Should be:</p>\n<pre><code>while(1):\n    timestamp = datetime.datetime.now()\n</code></pre>\n<hr />\n<h2>distance</h2>\n<p><code>distance_to_camera</code>, with this parameters, will produce a constant output:</p>\n<pre><code># assuming:\n# a = KNOWN_WIDTH\n# b = focalLength\n# c = marker[1][0]\n# d = KNOWN_DISTANCE\n\ndef distance_to_camera(x,y,z):\n    return (x*y)/z\n\nb = c*d/a\ninches = distance_to_camera(a,b,c) # =&gt; a*b/c\n# inches = a*b/c, b = c*d/a\n# inches = a*c*d/a*c\n# inches = d &lt;&lt; constant output\n</code></pre>\n<p>that is equal to <code>KNOWN_DISTANCE</code>. If you do the math: <code>KNOWN_DISTANCE / 12 = 0.98425</code> is the distance you are getting</p>\n<hr />\n<h2>Edit:</h2>\n<p>I just read the tutorial, and looks like you should do the <code>focalLenght</code> calculation just once, out of the <code>while</code>.</p>\n"}], "owner": {"reputation": 39, "user_id": 5773766, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/4240d9d7ff1f9181fddae31ea1d12440?s=128&d=identicon&r=PG&f=1", "display_name": "JolyDroneSP", "link": "https://stackoverflow.com/users/5773766/jolydronesp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1623, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1453334508, "creation_date": 1453318658, "question_id": 34908986, "link": "https://stackoverflow.com/questions/34908986/opencv-python-how-to-constantly-update-the-time-output-and-distance-output", "title": "OpenCV python - How to constantly update the time output and distance output?", "body": "<p>I am using a Raspberry Pi B+ running Raspbian Wheezy and sporting a USB webcam. My goal is to measure the distance between an object and the camera in realtime.</p>\n\n<p>Following <a href=\"http://www.pyimagesearch.com/2015/01/19/find-distance-camera-objectmarker-using-python-opencv/\" rel=\"nofollow noreferrer\">a guide on how to do so with still images</a></p>\n\n<p>This is the code I am currently running :</p>\n\n<pre><code># import the necessary packages\nimport numpy as np\nimport cv2\nimport datetime\nimport time\n\ndef find_marker(frame):\n    # convert the image to grayscale, blur it, and detect edges\n    gray = cv2.cvtColor(frame, cv2.COLOR_BGR2GRAY)\n    gray = cv2.GaussianBlur(gray, (5, 5), 0)\n    edged = cv2.Canny(gray, 35, 125)\n\n    # find the contours in the edged image and keep the largest one;\n    # we'll assume that this is our piece of paper in the image\n    (cnts, _) = cv2.findContours(edged.copy(), cv2.RETR_LIST, cv2.CHAIN_APPROX_SIMPLE)\n    c = max(cnts, key = cv2.contourArea)\n\n    # compute the bounding box of the of the paper region and return it\n    return cv2.minAreaRect(c)\n\ndef distance_to_camera(knownWidth, focalLength, perWidth):\n    # compute and return the distance from the maker to the camera\n    return (knownWidth * focalLength) / perWidth\n\n# initialize the known distance from the camera to the object, which\n# in this case is 24 inches\nKNOWN_DISTANCE = 11.811\n\n# initialize the known object width, which in this case, the piece of\n# paper is 11 inches wide\nKNOWN_WIDTH = 2.3622\n\n# initialize the list of images that we'll be using\n#IMAGE_PATHS = [\"images/2ft.png\", \"images/3ft.png\", \"images/4ft.png\"]\n\n# load the furst image that contains an object that is KNOWN TO BE 2 feet\n# from our camera, then find the paper marker in the image, and initialize\n# the focal length\n#image = cv2.imread(IMAGE_PATHS[0])\n#marker = find_marker(image)\n#focalLength = (marker[1][0] * KNOWN_DISTANCE) / KNOWN_WIDTH\n\n\ncap = cv2.VideoCapture(0)\ntimestamp = datetime.datetime.now()\n\nwhile(1):\n\n    (grabbed, frame) = cap.read()\n    marker = find_marker(frame)\n#   for () LOOP THIS TO GET DISTANCE CALCULATION FULLY WORKING!\n    focalLength = (marker[1][0] * KNOWN_DISTANCE) / KNOWN_WIDTH\n    inches = distance_to_camera(KNOWN_WIDTH, focalLength, marker[1][0])\n\n        # draw a bounding box around the image and display it\n        box = np.int0(cv2.cv.BoxPoints(marker))\n        cv2.drawContours(frame, [box], -1, (0, 255, 0), 2)\n        ts = timestamp.strftime(\"%A %d %B %Y %I:%M:%S%p\")\n    cv2.putText(frame, \"%.2fft\" % (inches / 12),\n        (frame.shape[1] - 200, frame.shape[0] - 20), cv2.FONT_HERSHEY_SIMPLEX,\n        2.0, (0, 255, 0), 3)\n    cv2.putText(frame, ts, (10, frame.shape[0] - 10), cv2.FONT_HERSHEY_SIMPLEX,\n        0.35, (0, 0, 255), 1)   \n\n    #Write to textfile here and send\n#   for () LOOP End\n\n    cv2.imshow(\"Frame\",frame)\n    key = cv2.waitKey(1) &amp; 0xFF\n    if key == ord(\"q\"):\n        break\n\ncap.release()\ncv2.destroyAllWindows()\n\n# loop over the images\n#for imagePath in IMAGE_PATHS:\n    # load the image, find the marker in the image, then compute the\n    # distance to the marker from the camera\n#   image = cv2.imread(imagePath)\n#   marker = find_marker(image)\n#   inches = distance_to_camera(KNOWN_WIDTH, focalLength, marker[1][0])\n\n    # draw a bounding box around the image and display it\n#   box = np.int0(cv2.cv.BoxPoints(marker))\n#   cv2.drawContours(image, [box], -1, (0, 255, 0), 2)\n#   cv2.putText(image, \"%.2fft\" % (inches / 12),\n#       (image.shape[1] - 200, image.shape[0] - 20), cv2.FONT_HERSHEY_SIMPLEX,\n#       2.0, (0, 255, 0), 3)\n#   cv2.imshow(\"image\", image)\n#   cv2.waitKey(0)\n</code></pre>\n\n<p>Here is my output:</p>\n\n<p><a href=\"https://i.stack.imgur.com/4KqBJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4KqBJ.png\" alt=\"enter image description here\"></a></p>\n\n<p>However, the time (the red text on the bottom left) and the distance detected don't change as the program runs. Is there any way of getting these two values to update until the program ends?</p>\n"}]