[{"tags": ["python", "csv", "numpy"], "answers": [{"tags": [], "owner": {"reputation": 1314, "user_id": 5932638, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/063b8ac2eac8f08d59de5c889b0dc42a?s=128&d=identicon&r=PG&f=1", "display_name": "agg3l", "link": "https://stackoverflow.com/users/5932638/agg3l"}, "is_accepted": false, "score": 0, "last_activity_date": 1476317908, "last_edit_date": 1476317908, "creation_date": 1476317550, "answer_id": 40010319, "question_id": 40010178, "link": "https://stackoverflow.com/questions/40010178/numpy-read-csv-deal-with-undefined-values/40010319#40010319", "title": "Numpy: Read csv, deal with undefined values", "body": "<p>I'd suggest you to try to cast each value you read to float, then catch typecast ValueError exception and assign it to zero in exception handler.</p>\n\n<p>This will be the most pythonic way</p>\n\n<p>Assuming your CSV contains float values, you should end with something like:</p>\n\n<pre><code>with open('data.csv', 'r') as fd:\n    # iterate over all lines in csv\n    for line in fd:\n        # split and iterate over values in line, maintaining item index\n        for i, value in enumerate(line.split(',')):\n            try:\n                value = float(value)\n            except ValueError:\n                # consider undefined/non-float value equals to 0\n                value = 0.0\n            # store parsed value wherever you need it\n            print('value[%d] = %f' % (i, value))\n</code></pre>\n\n<p>Alternatively, of only '--undefined--' strings to be handled as '0.0', you can write it like (the innermost loop)</p>\n\n<pre><code>            value = float(value) if value != '--undefined--' else 0\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2289, "user_id": 3142347, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/Tbfqk.jpg?s=128&g=1", "display_name": "tupan", "link": "https://stackoverflow.com/users/3142347/tupan"}, "is_accepted": false, "score": 1, "last_activity_date": 1516374775, "last_edit_date": 1516374775, "creation_date": 1476319063, "answer_id": 40010512, "question_id": 40010178, "link": "https://stackoverflow.com/questions/40010178/numpy-read-csv-deal-with-undefined-values/40010512#40010512", "title": "Numpy: Read csv, deal with undefined values", "body": "<p>To read CSV files and replace the values the best way I think it is using Pandas which uses numpy as well</p>\n\n<pre><code>import pandas as pd\n\ndf = pd.read_csv('foo.csv', header=None)\ndf.replace(\"--undefined--\", 0.0, inplace=True)\ndf\n\n         0        1         2\n0  0.23162  0.00001   444.157\n1  0.22537        0  1914.637\n2  0.23787   0.0003         0\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 487, "user_id": 2951318, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/2b97e3b7ef9b4d7f77e511cc40aed8a7?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher Brown", "link": "https://stackoverflow.com/users/2951318/christopher-brown"}, "edited": false, "score": 0, "creation_date": 1476371986, "post_id": 40014406, "comment_id": 67327164, "body": "Lots of good answers. I had settled on Marcus Renno&#39;s using Pandas, and that works great. But this one is a little bit better for only relying on Numpy (and bonus style points for being a one-liner)."}], "tags": [], "owner": {"reputation": 687, "user_id": 4708327, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1bc0e5f645ceb0d3dc0d08c65bfc0d1?s=128&d=identicon&r=PG&f=1", "display_name": "u55", "link": "https://stackoverflow.com/users/4708327/u55"}, "is_accepted": true, "score": 0, "last_activity_date": 1476342327, "creation_date": 1476342327, "answer_id": 40014406, "question_id": 40010178, "link": "https://stackoverflow.com/questions/40010178/numpy-read-csv-deal-with-undefined-values/40014406#40014406", "title": "Numpy: Read csv, deal with undefined values", "body": "<p>No need for Pandas, just use Numpy.</p>\n\n<pre><code>import numpy as np\nx = np.genfromtxt('data.csv', dtype=np.float, delimiter=',',\n    missing_values='--undefined--', filling_values=0.0,\n    )\n</code></pre>\n"}], "owner": {"reputation": 487, "user_id": 2951318, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/2b97e3b7ef9b4d7f77e511cc40aed8a7?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher Brown", "link": "https://stackoverflow.com/users/2951318/christopher-brown"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 444, "favorite_count": 0, "accepted_answer_id": 40014406, "answer_count": 3, "score": 1, "last_activity_date": 1516374775, "creation_date": 1476316597, "question_id": 40010178, "link": "https://stackoverflow.com/questions/40010178/numpy-read-csv-deal-with-undefined-values", "title": "Numpy: Read csv, deal with undefined values", "body": "<p>What is the best way to read data from a csv file into a numpy array when some of the values are labelled as 'undefined' as follows:</p>\n\n<pre><code>0.231620,0.00001,444.157\n0.225370,--undefined--,1914.637\n0.237870,0.0003,--undefined--\n</code></pre>\n\n<p>I have a lot of these files that I will have to loop over, and it is fine to assume that an undefined value should be zero.</p>\n"}, {"tags": ["python", "list", "dictionary"], "answers": [{"comments": [{"owner": {"reputation": 110538, "user_id": 1219006, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/M1ZlR.jpg?s=128&g=1", "display_name": "jamylak", "link": "https://stackoverflow.com/users/1219006/jamylak"}, "edited": false, "score": 0, "creation_date": 1476317547, "post_id": 40010243, "comment_id": 67298624, "body": "As @juanpa.arrivillaga alluded to, on Python 3 you must use <code>list(map(..))</code>"}], "tags": [], "owner": {"reputation": 3422, "user_id": 6950186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb0ba437716e595ca8620f2d5fd75b13?s=128&d=identicon&r=PG&f=1", "display_name": "Transhuman", "link": "https://stackoverflow.com/users/6950186/transhuman"}, "is_accepted": false, "score": 7, "last_activity_date": 1476317413, "last_edit_date": 1476317413, "creation_date": 1476317063, "answer_id": 40010243, "question_id": 40010175, "link": "https://stackoverflow.com/questions/40010175/summation-of-elements-of-dictionary-that-are-list-of-lists/40010243#40010243", "title": "Summation of elements of dictionary that are list of lists", "body": "<pre><code>&gt;&gt;&gt; d = {'a': [[1, 2, 3], [1, 2, 3]], 'b': [[2, 4, 1], [1, 6, 1]]}\n&gt;&gt;&gt; {k: map(sum, zip(*v)) for k, v in d.items()}\n{'a': [2, 4, 6], 'b': [3, 10, 2]}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "is_accepted": true, "score": 4, "last_activity_date": 1476318074, "last_edit_date": 1476318074, "creation_date": 1476317206, "answer_id": 40010268, "question_id": 40010175, "link": "https://stackoverflow.com/questions/40010175/summation-of-elements-of-dictionary-that-are-list-of-lists/40010268#40010268", "title": "Summation of elements of dictionary that are list of lists", "body": "<p>The following will work on Python 2 or 3:</p>\n\n<pre><code>&gt;&gt;&gt; {k: [a + b for a, b in zip(*v)] for k, v in d.items()}\n{'a': [2, 4, 6], 'b': [3, 10, 2]}\n</code></pre>\n\n<p>The issue with your code is you are mapping <code>add_element</code> to every individual element in <code>v</code> inside your dictionary comprehension. This passes a one-dimensional list to <code>zip</code> in <code>add_element</code>, resulting in your error (since individual integers don't support iteration.</p>\n"}, {"comments": [{"owner": {"reputation": 63, "user_id": 5231398, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5448d73481ff1f9242d072d22514844?s=128&d=identicon&r=PG&f=1", "display_name": "Iqbal", "link": "https://stackoverflow.com/users/5231398/iqbal"}, "edited": false, "score": 0, "creation_date": 1476332968, "post_id": 40010367, "comment_id": 67302360, "body": "Thank you very much  jamylak, juanpa.arrivillaga I gradually figured it out and made a change in my code"}, {"owner": {"reputation": 63, "user_id": 5231398, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5448d73481ff1f9242d072d22514844?s=128&d=identicon&r=PG&f=1", "display_name": "Iqbal", "link": "https://stackoverflow.com/users/5231398/iqbal"}, "edited": false, "score": 0, "creation_date": 1476332982, "post_id": 40010367, "comment_id": 67302363, "body": "return {k: list(map(sum, zip(*v))) for k, v in dict_1.items()}"}], "tags": [], "owner": {"reputation": 110538, "user_id": 1219006, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/M1ZlR.jpg?s=128&g=1", "display_name": "jamylak", "link": "https://stackoverflow.com/users/1219006/jamylak"}, "is_accepted": false, "score": 4, "last_activity_date": 1476317922, "creation_date": 1476317922, "answer_id": 40010367, "question_id": 40010175, "link": "https://stackoverflow.com/questions/40010175/summation-of-elements-of-dictionary-that-are-list-of-lists/40010367#40010367", "title": "Summation of elements of dictionary that are list of lists", "body": "<p>To fix your original code, the only change you need to make is:</p>\n\n<pre><code>return {k: list(map(add_element, v)) for k, v in dicty.items()}\n</code></pre>\n\n<p>-></p>\n\n<pre><code>return {k: add_element(v) for k, v in dicty.items()}\n</code></pre>\n\n<p>Because <code>zip(*lst)</code> is trying to transpose multiple rows into columns, but you are only passing it single rows through your original <code>map</code></p>\n"}], "owner": {"reputation": 63, "user_id": 5231398, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5448d73481ff1f9242d072d22514844?s=128&d=identicon&r=PG&f=1", "display_name": "Iqbal", "link": "https://stackoverflow.com/users/5231398/iqbal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 181, "favorite_count": 0, "accepted_answer_id": 40010268, "answer_count": 3, "score": 6, "last_activity_date": 1476318074, "creation_date": 1476316593, "last_edit_date": 1476317349, "question_id": 40010175, "link": "https://stackoverflow.com/questions/40010175/summation-of-elements-of-dictionary-that-are-list-of-lists", "title": "Summation of elements of dictionary that are list of lists", "body": "<pre><code>d = {\n  'a': [[1, 2, 3], [1, 2, 3]],\n  'b': [[2, 4, 1], [1, 6, 1]],\n}\n\ndef add_element(lst):\n    ad = [sum(i) for i in zip(*lst)]\n    return ad\n\ndef csv_reducer2(dicty):\n    return {k: list(map(add_element, v)) for k, v in dicty.items()}\n\ncsv_reducer2(d)\n</code></pre>\n\n<p>required output:</p>\n\n<pre><code>{'b': [3, 10, 2], 'a': [2, 4, 6]}\n</code></pre>\n\n<p>Above is the code I have been trying but it gives an error</p>\n\n<blockquote>\n  <p>zip argument #1 must support iteration</p>\n</blockquote>\n"}, {"tags": ["python", "window", "pyside", "maya"], "answers": [{"tags": [], "owner": {"reputation": 4158, "user_id": 4759736, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/JHRRj.jpg?s=128&g=1", "display_name": "Green Cell", "link": "https://stackoverflow.com/users/4759736/green-cell"}, "is_accepted": true, "score": 1, "last_activity_date": 1476352256, "creation_date": 1476352256, "answer_id": 40017712, "question_id": 40010166, "link": "https://stackoverflow.com/questions/40010166/maya-pyside-window-remember-position-and-size/40017712#40017712", "title": "Maya PySide Window - Remember position and size", "body": "<p>One option you can use is <code>QWidget.saveGeometry()</code> and <code>QWidget.restoreGeometry()</code>. With this you can save your window's position and size when your tool closes, then restore it back when it initializes. </p>\n\n<p>Normally for stuff like this where it's saving a state of the tool, I'll store the data to an ini file somewhere with <code>QtCore.QSettings</code>. This way it will restore to the last state even if you close Maya, or have multiple sessions running.</p>\n\n<p>Here's an example:</p>\n\n<pre><code>import traceback\nfrom PySide import QtCore\nfrom PySide import QtGui\nfrom shiboken import wrapInstance\nimport maya.cmds as cmds\nimport maya.OpenMayaUI as omui\nimport pymel.core as pm\nimport maya.cmds as cmds\nimport os\n\ndef maya_main_window():\n    '''\n    Return the Maya main window widget as a Python object\n    '''\n    main_window_ptr = omui.MQtUtil.mainWindow()\n    return wrapInstance(long(main_window_ptr), QtGui.QWidget)\n\nclass TestTool(QtGui.QDialog):\n\n    def __init__(self, parent=maya_main_window()):\n        super(TestTool, self).__init__(parent)\n        self.qtSignal = QtCore.Signal()\n\n        # Using an env variable makes the path more generic, but use whatever you want\n        self.settings_path = os.path.join(os.getenv('HOME'), \"settingsFile.ini\")\n\n        #################################################################\n\n    def create(self):\n        '''\n        Set up the UI prior to display\n        '''\n        self.setWindowTitle(\"Test\")\n        self.setWindowFlags(QtCore.Qt.Tool)\n        self.resize(400, 250) # re-size the window\n        self.setGeometry(650, 200, 600, 300)\n        self.setFixedHeight(580)\n        self.setFixedWidth(300)\n\n        QtGui.QToolTip.setFont(QtGui.QFont('SansSerif', 10))\n\n        # Restore window's previous geometry from file\n        if os.path.exists(self.settings_path):\n            settings_obj = QtCore.QSettings(self.settings_path, QtCore.QSettings.IniFormat)\n            self.restoreGeometry(settings_obj.value(\"windowGeometry\"))\n\n    def closeEvent(self, event):\n        # Save window's geometry\n        settings_obj = QtCore.QSettings(self.settings_path, QtCore.QSettings.IniFormat)\n        settings_obj.setValue(\"windowGeometry\", self.saveGeometry())\n\nif __name__ == \"__main__\":\n    try:\n        ui.deleteLater()\n    except:\n        pass\n\n    ui = TestTool()\n\n    try:\n        ui.create()\n        ui.show()\n    except:\n        ui.deleteLater()\n        traceback.print_exc()\n</code></pre>\n\n<p>Since you're setting the size to be fixed, this will only effect position. Hope it helps!</p>\n"}], "owner": {"reputation": 13, "user_id": 7010724, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f839c1e2e995f4993341d29f62637878?s=128&d=identicon&r=PG&f=1", "display_name": "natecomes", "link": "https://stackoverflow.com/users/7010724/natecomes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1645, "favorite_count": 0, "accepted_answer_id": 40017712, "answer_count": 1, "score": 1, "last_activity_date": 1476352256, "creation_date": 1476316520, "question_id": 40010166, "link": "https://stackoverflow.com/questions/40010166/maya-pyside-window-remember-position-and-size", "title": "Maya PySide Window - Remember position and size", "body": "<p>I am working in Pyside.  Every time I re-open the window it pops back to the middle of the screen.  How can I get either Maya or Windows to remember the position and size?</p>\n\n<p>Here is some basic code I am working with:</p>\n\n<pre><code>import traceback\nfrom PySide import QtCore\nfrom PySide import QtGui\nfrom shiboken import wrapInstance\nimport maya.cmds as cmds\nimport maya.OpenMayaUI as omui\nimport pymel.core as pm\nimport maya.cmds as cmds\n\ndef maya_main_window():\n     '''\n     Return the Maya main window widget as a Python object\n     '''\n     main_window_ptr = omui.MQtUtil.mainWindow()\n     return wrapInstance(long(main_window_ptr), QtGui.QWidget)\n\nclass TestTool(QtGui.QDialog):\n\n\n def __init__(self, parent=maya_main_window()):\n      super(TestTool, self).__init__(parent)\n      self.qtSignal = QtCore.Signal()\n      #################################################################\n def create(self):\n     '''\n      Set up the UI prior to display\n      '''\n      self.setWindowTitle(\"Test\")\n      self.setWindowFlags(QtCore.Qt.Tool)\n      #self.resize(400, 250) # re-size the window\n     self.setGeometry(650, 200, 600, 300)\n      self.setFixedHeight(580)\n      self.setFixedWidth(300)\n\n      QtGui.QToolTip.setFont(QtGui.QFont('SansSerif', 10))\n\n\n\n\nif __name__ == \"__main__\":\n     try:\n          ui.deleteLater()\n     except:\n          pass\n     ui = TestTool()\n     try:\n          ui.create()\n          ui.show()\n     except:\n          ui.deleteLater()\n          traceback.print_exc()\n</code></pre>\n"}, {"tags": ["python", "graphics", "area"], "comments": [{"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1476316677, "post_id": 40010154, "comment_id": 67298386, "body": "&quot;Get&quot; the area to do what?"}, {"owner": {"reputation": 1, "user_id": 6934393, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61873e0e72ad96f4795eb7e1b1e9efe7?s=128&d=identicon&r=PG&f=1", "display_name": "MistahDylan", "link": "https://stackoverflow.com/users/6934393/mistahdylan"}, "reply_to_user": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1476316981, "post_id": 40010154, "comment_id": 67298475, "body": "Im trying to find a print the area but im not sure how to go about doing this from a graphics window."}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1476317725, "post_id": 40010154, "comment_id": 67298662, "body": "Do you mean &quot;paint&quot; (or fill) the area with a color? Also, the <code>graphics</code> module you&#39;re using isn&#39;t a standard one. What is it and where did you get it?"}, {"owner": {"reputation": 41485, "user_id": 2521214, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/nd58V.jpg?s=128&g=1", "display_name": "Spektre", "link": "https://stackoverflow.com/users/2521214/spektre"}, "edited": false, "score": 0, "creation_date": 1476339238, "post_id": 40010154, "comment_id": 67304512, "body": "In case you really need the area (and not filling/recoloring instead) Hope you know <code>area of circle = Pi*r*r</code> in the same units squared as you got the radius <code>r</code> defined (so most likely in <code>[pixels^2]</code>) where <code>Pi = 3.1415926535897932384626433832795</code> If you got any scaling you need to apply it to <code>r</code> before computation. If you need the precise pixel count of rasterization then you need to count them by 2 nested <code>for</code> loops."}, {"owner": {"reputation": 1, "user_id": 6934393, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61873e0e72ad96f4795eb7e1b1e9efe7?s=128&d=identicon&r=PG&f=1", "display_name": "MistahDylan", "link": "https://stackoverflow.com/users/6934393/mistahdylan"}, "reply_to_user": {"reputation": 41485, "user_id": 2521214, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/nd58V.jpg?s=128&g=1", "display_name": "Spektre", "link": "https://stackoverflow.com/users/2521214/spektre"}, "edited": false, "score": 0, "creation_date": 1476384044, "post_id": 40010154, "comment_id": 67334310, "body": "@Spektre i know that the area of a circle = pi*r**2, but Im new to programming and the problem is I dont know how to implament that into a graphics, like how am I to get the radius of a graphics cirlce? or is there some other way I should be doing this?"}, {"owner": {"reputation": 41485, "user_id": 2521214, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/nd58V.jpg?s=128&g=1", "display_name": "Spektre", "link": "https://stackoverflow.com/users/2521214/spektre"}, "edited": false, "score": 0, "creation_date": 1476388000, "post_id": 40010154, "comment_id": 67336532, "body": "@MistahDylan Iam not familiar with python nor graphics lib you are using but I think <code>Circle(center,100)</code> means <code>r=100</code> so you already know all the radiuses you need"}], "owner": {"reputation": 1, "user_id": 6934393, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61873e0e72ad96f4795eb7e1b1e9efe7?s=128&d=identicon&r=PG&f=1", "display_name": "MistahDylan", "link": "https://stackoverflow.com/users/6934393/mistahdylan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 116, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1476316429, "creation_date": 1476316429, "question_id": 40010154, "link": "https://stackoverflow.com/questions/40010154/how-do-i-get-the-area-of-a-graphics-circle", "title": "How do I get the area of a graphics circle?", "body": "<p>I'm trying to take the inner area of the yellow circle and outer area of the rest of the circles. But I'm not sure how to compute the area of a circle in a graphics.</p>\n\n<pre><code>from graphics import *\nimport math\ndef main():\nwin = GraphWin('Archery Target',300,300)\ncenter = Point(150,150)\n\nw = Circle(center,100)\nw.setFill('White')\nw.draw(win)\n\nb = Circle(center,80)\nb.setFill('Black')\nb.draw(win)\n\nbl = Circle(center,60)\nbl.setFill('Blue')\nbl.draw(win)\n\nr = Circle(center,40)\nr.setFill('Red')\nr.draw(win)\n\ny = Circle(center,20)\ny.setFill('Yellow')\ny.draw(win)\n\n\nmsg1 = Text(Point(100, 280), \"inner area = \", innerA)\nmsg1.draw(win)\n\n\nmsg = Text(Point(150, 20), \"Click anywhere to close\")\nmsg.setTextColor('red')\nmsg.draw(win)\nwin.getMouse()\nwin.close()\n\nmain()\n</code></pre>\n"}, {"tags": ["python", "loops", "sum"], "comments": [{"owner": {"reputation": 27649, "user_id": 5067311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qjltV.png?s=128&g=1", "display_name": "Andras Deak", "link": "https://stackoverflow.com/users/5067311/andras-deak"}, "edited": false, "score": 0, "creation_date": 1476315852, "post_id": 40010073, "comment_id": 67298148, "body": "You should first learn about loops. Then use that to sum up elements in a list. It&#39;s simple, really. Unfortunately Stack Overflow is not a tutorial website."}, {"owner": {"reputation": 262567, "user_id": 748858, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/17gYz.png?s=128&g=1", "display_name": "mgilson", "link": "https://stackoverflow.com/users/748858/mgilson"}, "edited": false, "score": 0, "creation_date": 1476315908, "post_id": 40010073, "comment_id": 67298171, "body": "<a href=\"https://docs.python.org/3/library/itertools.html#itertools.accumulate\" rel=\"nofollow noreferrer\">itertools.accumulate</a>"}, {"owner": {"reputation": 96714, "user_id": 198633, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/5b9c04999233026354268c2ee4237e04?s=128&d=identicon&r=PG", "display_name": "inspectorG4dget", "link": "https://stackoverflow.com/users/198633/inspectorg4dget"}, "edited": false, "score": 0, "creation_date": 1476315920, "post_id": 40010073, "comment_id": 67298175, "body": "<code>[sum(L[:i] for i in range(1, len(L)+1)]</code>"}], "answers": [{"comments": [{"owner": {"reputation": 343, "user_id": 6811362, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3e0f7810adbac6915155b830f4f9257?s=128&d=identicon&r=PG", "display_name": "Emma", "link": "https://stackoverflow.com/users/6811362/emma"}, "edited": false, "score": 1, "creation_date": 1476316642, "post_id": 40010169, "comment_id": 67298374, "body": "Thanks heaps for that!"}], "tags": [], "owner": {"reputation": 3422, "user_id": 6950186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb0ba437716e595ca8620f2d5fd75b13?s=128&d=identicon&r=PG&f=1", "display_name": "Transhuman", "link": "https://stackoverflow.com/users/6950186/transhuman"}, "is_accepted": false, "score": 1, "last_activity_date": 1476318813, "last_edit_date": 1476318813, "creation_date": 1476316542, "answer_id": 40010169, "question_id": 40010073, "link": "https://stackoverflow.com/questions/40010073/summing-subsequent-list-entries/40010169#40010169", "title": "Summing subsequent list entries", "body": "<pre><code>a = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31]\nb = [sum(a[:i]) for i in range(1, len(a) + 1)]\n</code></pre>\n"}], "owner": {"reputation": 343, "user_id": 6811362, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3e0f7810adbac6915155b830f4f9257?s=128&d=identicon&r=PG", "display_name": "Emma", "link": "https://stackoverflow.com/users/6811362/emma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "closed_date": 1476330531, "answer_count": 1, "score": -1, "last_activity_date": 1476318813, "creation_date": 1476315804, "last_edit_date": 1476315961, "question_id": 40010073, "link": "https://stackoverflow.com/questions/40010073/summing-subsequent-list-entries", "closed_reason": "Not suitable for this site", "title": "Summing subsequent list entries", "body": "<p>I am a beginner with python and I want to add each entry of a list (of days in a month) to the previous entry to get a sum of total days in a year.</p>\n\n<p>a is a list of days in each month</p>\n\n<pre><code>a = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31]\n</code></pre>\n\n<p>I want b to be a list of totals like this:</p>\n\n<pre><code>b= (a[0],a[0]+a[1],a[0]+a[1]+a[2],a[0]+a[1]+a[2]+a[3],a[0]+a[1]+a[2]+a[3]+a[4]...\n</code></pre>\n\n<p>I don't know how to make a loop to do this.<br>\nHelp would be greatly appreciated!\nThanks</p>\n"}, {"tags": ["python", "list"], "comments": [{"owner": {"reputation": 694, "user_id": 5574063, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/LO9TW.png?s=128&g=1", "display_name": "af3ld", "link": "https://stackoverflow.com/users/5574063/af3ld"}, "edited": false, "score": 1, "creation_date": 1476316828, "post_id": 40010066, "comment_id": 67298429, "body": "duplicate of <a href=\"http://stackoverflow.com/questions/19967001/count-vowels-in-string-python\" title=\"count vowels in string python\">stackoverflow.com/questions/19967001/&hellip;</a>"}, {"owner": {"reputation": 116557, "user_id": 918959, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/b9051b2917c3d55d55b3d7042fa49f6c?s=128&d=identicon&r=PG", "display_name": "Antti Haapala", "link": "https://stackoverflow.com/users/918959/antti-haapala"}, "edited": false, "score": 1, "creation_date": 1476605641, "post_id": 40010066, "comment_id": 67409907, "body": "Instead of that generator expression you can use <code>itertools.product</code>."}, {"owner": {"reputation": 116557, "user_id": 918959, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/b9051b2917c3d55d55b3d7042fa49f6c?s=128&d=identicon&r=PG", "display_name": "Antti Haapala", "link": "https://stackoverflow.com/users/918959/antti-haapala"}, "edited": false, "score": 0, "creation_date": 1476607060, "post_id": 40010066, "comment_id": 67410281, "body": "And this question in itself is about a simple typo."}], "answers": [{"comments": [{"owner": {"reputation": 59, "user_id": 6928055, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/1335707803106604/picture?type=large", "display_name": "Alex Chase", "link": "https://stackoverflow.com/users/6928055/alex-chase"}, "edited": false, "score": 0, "creation_date": 1476316329, "post_id": 40010101, "comment_id": 67298300, "body": "When i change it to that it still comes out with the same output as before. Doesn&#39;t seem to be adding the vowels."}, {"owner": {"reputation": 952, "user_id": 5505161, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/c62b36b7d0f6241b61ef9e9a671240a5?s=128&d=identicon&r=PG&f=1", "display_name": "lordingtar", "link": "https://stackoverflow.com/users/5505161/lordingtar"}, "reply_to_user": {"reputation": 59, "user_id": 6928055, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/1335707803106604/picture?type=large", "display_name": "Alex Chase", "link": "https://stackoverflow.com/users/6928055/alex-chase"}, "edited": false, "score": 1, "creation_date": 1476317130, "post_id": 40010101, "comment_id": 67298519, "body": "Check out my edit - you were initializing name to a tuple. Instead, concatenate the strings to create the name variable."}], "tags": [], "owner": {"reputation": 952, "user_id": 5505161, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/c62b36b7d0f6241b61ef9e9a671240a5?s=128&d=identicon&r=PG&f=1", "display_name": "lordingtar", "link": "https://stackoverflow.com/users/5505161/lordingtar"}, "is_accepted": true, "score": 2, "last_activity_date": 1476317101, "last_edit_date": 1476317101, "creation_date": 1476315975, "answer_id": 40010101, "question_id": 40010066, "link": "https://stackoverflow.com/questions/40010066/counting-number-of-vowels-in-a-merged-string/40010101#40010101", "title": "Counting number of vowels in a merged string", "body": "<p>The reason you're not calculating the vowels is because the score variable is not getting incremented. To increment it, you have to set the variable score to previous score + 1.</p>\n\n<p>This should work:</p>\n\n<pre><code>for letter in name:\n    if letter in vowel:\n        score+=1\n</code></pre>\n\n<p>Edit: It's worth writing that score+=1 is the same as score=score+1</p>\n\n<p>I worked out the error - instead of creating name = first, second, initialize name to first+second. You will get the results you want. The reason it was failing is because name=first, second creates a tuple, and iterating through the tuple makes letter = \"Kate\", \"John\" etc, and not the actual individual characters.</p>\n"}, {"tags": [], "owner": {"reputation": 110538, "user_id": 1219006, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/M1ZlR.jpg?s=128&g=1", "display_name": "jamylak", "link": "https://stackoverflow.com/users/1219006/jamylak"}, "is_accepted": false, "score": 1, "last_activity_date": 1476319229, "creation_date": 1476319229, "answer_id": 40010535, "question_id": 40010066, "link": "https://stackoverflow.com/questions/40010066/counting-number-of-vowels-in-a-merged-string/40010535#40010535", "title": "Counting number of vowels in a merged string", "body": "<pre><code>a = [\"John\", \"Kate\", \"Oli\"]\nb = [\"Green\", \"Fletcher\", \"Nelson\"]\nvowel = {\"a\", \"e\", \"i\", \"o\", \"u\"}\nnames = (first + ' ' + last for first in a for last in b)\n\nfor name in names:\n    score = len(name) + sum(c in vowel for c in name.lower())\n    print \"Full Name: {name} Score: {score}\".format(name=name, score=score)\n</code></pre>\n\n<hr>\n\n<pre><code>Full Name: John Green Score: 13\nFull Name: John Fletcher Score: 16\nFull Name: John Nelson Score: 14\nFull Name: Kate Green Score: 14\nFull Name: Kate Fletcher Score: 17\nFull Name: Kate Nelson Score: 15\nFull Name: Oli Green Score: 13\nFull Name: Oli Fletcher Score: 16\nFull Name: Oli Nelson Score: 14\n</code></pre>\n"}], "owner": {"reputation": 59, "user_id": 6928055, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/1335707803106604/picture?type=large", "display_name": "Alex Chase", "link": "https://stackoverflow.com/users/6928055/alex-chase"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 113, "favorite_count": 0, "accepted_answer_id": 40010101, "answer_count": 2, "score": 3, "last_activity_date": 1476321918, "creation_date": 1476315734, "last_edit_date": 1476318931, "question_id": 40010066, "link": "https://stackoverflow.com/questions/40010066/counting-number-of-vowels-in-a-merged-string", "title": "Counting number of vowels in a merged string", "body": "<p>I am trying to figure out how to calculate the score of two merged lists of names. I need to give one point for each character (including spaces between first and last name) plus one point for each vowel in the name. I can currently calculate score for the the lengths of the names but cannot figure out how to include the number of vowels. </p>\n\n<pre><code>a = [\"John\", \"Kate\", \"Oli\"]\nb = [\"Green\", \"Fletcher\", \"Nelson\"]\n\nvowel = [\"a\", \"e\", \"i\", \"o\", \"u\"]\n\ngen = ((x, y) for x in a for y in b)\n\nscore = 0\n\nfor first, second in gen:\n    print first, second\n    name = first, second\n    score = len(first) + len(second) +1\n    for letter in name:\n        if letter in vowel:\n            score+1\n    print score\n</code></pre>\n\n<p><strong>This is what i currently have and this is the output I get:</strong></p>\n\n<pre><code>John Green\n10\nJohn Fletcher\n13\nJohn Nelson\n11\nKate Green\n10\nKate Fletcher\n13\nKate Nelson\n11\nOli Green\n9\nOli Fletcher\n12\nOli Nelson\n10\n</code></pre>\n\n<p><strong>This is the output I need:</strong></p>\n\n<pre><code>Full Name: John Green Score: 13 \nFull Name: John Fletcher Score: 16 \nFull Name: John Nelson Score: 14 \nFull Name: Kate Green Score: 14 \nFull Name: Kate Fletcher Score: 17 \nFull Name: Kate Nelson Score: 15 \nFull Name: Oli Green Score: 13 \nFull Name: Oli Fletcher Score: 16\nFull Name: Oli Nelson Score: 14\n</code></pre>\n"}, {"tags": ["python", "django", "asset-pipeline", "django-pipeline"], "answers": [{"comments": [{"owner": {"reputation": 1734, "user_id": 1146710, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/VhkH2.jpg?s=128&g=1", "display_name": "Michael Bates", "link": "https://stackoverflow.com/users/1146710/michael-bates"}, "edited": false, "score": 0, "creation_date": 1476953544, "post_id": 40142068, "comment_id": 67568520, "body": "Thanks, that was exactly my problem. I realised that about a week ago but never got around to writing an answer to this question. I&#39;ll accept yours."}, {"owner": {"reputation": 149, "user_id": 697935, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/47a6d1530efee754749f86587d6aa2cb?s=128&d=identicon&r=PG", "display_name": "Gustavo Guevara", "link": "https://stackoverflow.com/users/697935/gustavo-guevara"}, "edited": false, "score": 0, "creation_date": 1484973390, "post_id": 40142068, "comment_id": 70742758, "body": "This allowed me to solve a problem I was having trouble identifying. Thank you."}], "tags": [], "owner": {"reputation": 86, "user_id": 7044747, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7075527baa74947b0443b4bc10e10f7d?s=128&d=identicon&r=PG&f=1", "display_name": "Marcio Tomiyoshi", "link": "https://stackoverflow.com/users/7044747/marcio-tomiyoshi"}, "is_accepted": true, "score": 7, "last_activity_date": 1476913679, "creation_date": 1476913679, "answer_id": 40142068, "question_id": 40010040, "link": "https://stackoverflow.com/questions/40010040/django-pipeline-throwing-valueerror-the-file-could-not-be-found/40142068#40142068", "title": "django-pipeline throwing ValueError: the file could not be found", "body": "<p>Your problem is related to <a href=\"https://code.djangoproject.com/ticket/21080\" rel=\"noreferrer\">this bug</a> on the Django project.</p>\n\n<p>In short, django-pipeline is post-processing the <code>url()</code> calls with Django's <code>CachedStaticFilesStorage</code> to append the md5 checksum to the filename (<a href=\"https://docs.djangoproject.com/en/1.10/ref/contrib/staticfiles/#manifeststaticfilesstorage\" rel=\"noreferrer\">more details here</a>) and doesn't detect when it is inside a comment.</p>\n\n<p>If you look on the header of the <code>jquery-ui.css</code> (and similar) files there is a comment that starts with </p>\n\n<blockquote>\n  <ul>\n  <li>To view and modify this theme, visit [...]</li>\n  </ul>\n</blockquote>\n\n<p>Inside the URL on this line there is a parameter that is being interpreted as an <code>url()</code> call and generating the error you see.</p>\n\n<p>To work around this issue you can simply remove the above line from <code>jquery-ui.css</code> and <code>collectstatic</code> should work properly.</p>\n"}, {"tags": [], "owner": {"reputation": 137, "user_id": 6551200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a7ecfaefbe482503cd5f0698e7dd5b7b?s=128&d=identicon&r=PG&f=1", "display_name": "motad333", "link": "https://stackoverflow.com/users/6551200/motad333"}, "is_accepted": false, "score": 0, "last_activity_date": 1612597762, "creation_date": 1612597762, "answer_id": 66074672, "question_id": 40010040, "link": "https://stackoverflow.com/questions/40010040/django-pipeline-throwing-valueerror-the-file-could-not-be-found/66074672#66074672", "title": "django-pipeline throwing ValueError: the file could not be found", "body": "<p>as <a href=\"https://stackoverflow.com/a/40142068/6551200\">Marcio</a> said u can remove <code>url</code> from <code>css</code> file or use flag <code>--no-post-process</code></p>\n<pre><code>manage.py collectstatic --no-post-process\n</code></pre>\n"}], "owner": {"reputation": 1734, "user_id": 1146710, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/VhkH2.jpg?s=128&g=1", "display_name": "Michael Bates", "link": "https://stackoverflow.com/users/1146710/michael-bates"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1450, "favorite_count": 0, "accepted_answer_id": 40142068, "answer_count": 2, "score": 2, "last_activity_date": 1612597762, "creation_date": 1476315592, "last_edit_date": 1476315984, "question_id": 40010040, "link": "https://stackoverflow.com/questions/40010040/django-pipeline-throwing-valueerror-the-file-could-not-be-found", "title": "django-pipeline throwing ValueError: the file could not be found", "body": "<p>When running <code>python manage.py collectstatic --noinput</code> I'm getting the following error:</p>\n\n<pre><code>Post-processing 'jquery-ui-dist/jquery-ui.css' failed!\nTraceback (most recent call last):\nFile \"manage_local.py\", line 10, in &lt;module&gt;\nexecute_from_command_line(sys.argv)\nFile \"/Users/michaelbates/GoogleDrive/Development/inl/venv/lib/python3.4/site-packages/django/core/management/__init__.py\", line 367, in execute_from_command_line\nutility.execute()\nFile \"/Users/michaelbates/GoogleDrive/Development/inl/venv/lib/python3.4/site-packages/django/core/management/__init__.py\", line 359, in execute\nself.fetch_command(subcommand).run_from_argv(self.argv)\nFile \"/Users/michaelbates/GoogleDrive/Development/inl/venv/lib/python3.4/site-packages/django/core/management/base.py\", line 294, in run_from_argv\nself.execute(*args, **cmd_options)\nFile \"/Users/michaelbates/GoogleDrive/Development/inl/venv/lib/python3.4/site-packages/django/core/management/base.py\", line 345, in execute\noutput = self.handle(*args, **options)\nFile \"/Users/michaelbates/GoogleDrive/Development/inl/venv/lib/python3.4/site-packages/django/contrib/staticfiles/management/commands/collectstatic.py\", line 193, in handle\ncollected = self.collect()\nFile \"/Users/michaelbates/GoogleDrive/Development/inl/venv/lib/python3.4/site-packages/django/contrib/staticfiles/management/commands/collectstatic.py\", line 145, in collect\nraise processed\nFile \"/Users/michaelbates/GoogleDrive/Development/inl/venv/lib/python3.4/site-packages/django/contrib/staticfiles/storage.py\", line 257, in post_process\ncontent = pattern.sub(converter, content)\nFile \"/Users/michaelbates/GoogleDrive/Development/inl/venv/lib/python3.4/site-packages/django/contrib/staticfiles/storage.py\", line 187, in converter\nhashed_url = self.url(unquote(target_name), force=True)\nFile \"/Users/michaelbates/GoogleDrive/Development/inl/venv/lib/python3.4/site-packages/django/contrib/staticfiles/storage.py\", line 132, in url\nhashed_name = self.stored_name(clean_name)\nFile \"/Users/michaelbates/GoogleDrive/Development/inl/venv/lib/python3.4/site-packages/django/contrib/staticfiles/storage.py\", line 292, in stored_name\ncache_name = self.clean_name(self.hashed_name(name))\nFile \"/Users/michaelbates/GoogleDrive/Development/inl/venv/lib/python3.4/site-packages/django/contrib/staticfiles/storage.py\", line 95, in hashed_name\n(clean_name, self))\nValueError: The file 'jquery-ui-dist/\"images/ui-icons_555555_256x240.png\"' could not be found with &lt;pipeline.storage.PipelineCachedStorage object at 0x1073e2c50&gt;.\n</code></pre>\n\n<p>If I run <code>python manage.py findstatic jquery-ui-dist/\"images/ui-icons_555555_256x240.png\"</code> I get:</p>\n\n<pre><code>Found 'jquery-ui-dist/images/ui-icons_555555_256x240.png' here:\n      /Users/michaelbates/GoogleDrive/Development/inl/node_modules/jquery-ui-dist/images/ui-icons_555555_256x240.png\n      /Users/michaelbates/GoogleDrive/Development/inl/staticfiles/jquery-ui-dist/images/ui-icons_555555_256x240.png\n</code></pre>\n\n<p>Here are some relevant settings:</p>\n\n<pre><code>STATICFILES_FINDERS = (\n    'django.contrib.staticfiles.finders.FileSystemFinder',\n    'pipeline.finders.AppDirectoriesFinder',\n    'pipeline.finders.PipelineFinder',\n)\n\nSTATICFILES_STORAGE = 'pipeline.storage.PipelineCachedStorage'\nSTATIC_ROOT = os.path.join(BASE_DIR, 'staticfiles')\n\nSTATICFILES_DIRS = (\n    os.path.join(BASE_DIR, 'static'),\n    os.path.join(BASE_DIR, 'node_modules'),\n)\n</code></pre>\n\n<p>My <code>PIPELINE</code> settings dict is huge so I won't post the entire thing, but some parts of it are:</p>\n\n<pre><code>PIPELINE = {\n    'STYLESHEETS': {\n        'pricing': {\n            'source_filenames': (\n                'jquery-ui-dist/jquery-ui.min.css',\n            ),\n            'output_filename': 'css/pricing.min.css'\n        },\n    }\n    'JS_COMPRESSOR': 'pipeline.compressors.yuglify.YuglifyCompressor',\n    'CSS_COMPRESSOR': 'pipeline.compressors.yuglify.YuglifyCompressor',\n    'COMPILERS': (\n        'pipeline.compilers.sass.SASSCompiler',\n    )\n}\n</code></pre>\n\n<p>I've tried changing the STATICFILES_FINDERS to the django-pipeline specific ones but it makes no difference.</p>\n\n<p>Can anyone shed some light on why that png file can't be found during collectstatic but can with findstatic?</p>\n"}, {"tags": ["python", "numpy"], "comments": [{"owner": {"reputation": 27649, "user_id": 5067311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qjltV.png?s=128&g=1", "display_name": "Andras Deak", "link": "https://stackoverflow.com/users/5067311/andras-deak"}, "edited": false, "score": 1, "creation_date": 1476315621, "post_id": 40010027, "comment_id": 67298068, "body": "You need fancy (or advanced) indexing: <code>out = A[range(I.size),I]</code>."}, {"owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 0, "creation_date": 1476374601, "post_id": 40010027, "comment_id": 67328956, "body": "Love the 3 levels of duplicates - can we make it 4, 5?"}], "owner": {"reputation": 3494, "user_id": 1243255, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/9328a10a909a33568ad798474053f476?s=128&d=identicon&r=PG", "display_name": "Zanam", "link": "https://stackoverflow.com/users/1243255/zanam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 14, "favorite_count": 0, "closed_date": 1476315651, "answer_count": 0, "score": 0, "last_activity_date": 1476315625, "creation_date": 1476315483, "last_edit_date": 1476315625, "question_id": 40010027, "link": "https://stackoverflow.com/questions/40010027/using-vector-of-index-on-multidimensional-array", "closed_reason": "Duplicate", "title": "Using vector of index on multidimensional array", "body": "<p>I have a 2D array <code>A</code> of size 500x14. I have a vector of indexes <code>Ind</code> of size 500. The vector stores desired index for each row of A.</p>\n\n<p>I want to extract the following:\n<code>A[0,:][Ind[0]]</code> and so on</p>\n\n<p>I am trying <code>out = A[Ind]</code> to give me an output of size 500 but it gives me output of size 500x14.</p>\n"}, {"tags": ["python", "file", "memoization", "persistent-storage"], "owner": {"reputation": 11007, "user_id": 683710, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/NNKIH.jpg?s=128&g=1", "display_name": "Nordl&#246;w", "link": "https://stackoverflow.com/users/683710/nordl%c3%b6w"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 41, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1476314931, "creation_date": 1476314931, "question_id": 40009954, "link": "https://stackoverflow.com/questions/40009954/python-memoization-and-file-content-hashing", "title": "Python Memoization and File Content Hashing", "body": "<p>I'm looking for a Python memoizer, preferrably like <a href=\"https://docs.python.org/3/library/functools.html#functools.lru_cache\" rel=\"nofollow\">@functools.lru_cache</a>, but with the extension that every input parameter (of the hashed function) that is of type Python standard file handle (<code>_io.TextIOWrapper</code>) should be opened (if not already opened) and its content should be read, hashed and included in the hash-chain used to calculate the memoization-key of the function evaluation.</p>\n"}, {"tags": ["python", "list", "scikit-learn", "conditional", "list-comprehension"], "comments": [{"owner": {"reputation": 262567, "user_id": 748858, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/17gYz.png?s=128&g=1", "display_name": "mgilson", "link": "https://stackoverflow.com/users/748858/mgilson"}, "edited": false, "score": 2, "creation_date": 1476314812, "post_id": 40009897, "comment_id": 67297860, "body": "Generally, loops with side-effects (like printing) don&#39;t lend themselves to being made into comprehensions ..."}, {"owner": {"reputation": 19411, "user_id": 6640099, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/tf1sO.jpg?s=128&g=1", "display_name": "Christian Dean", "link": "https://stackoverflow.com/users/6640099/christian-dean"}, "edited": false, "score": 0, "creation_date": 1476314813, "post_id": 40009897, "comment_id": 67297864, "body": "You do realize that print returns <code>None</code>?"}, {"owner": {"reputation": 262567, "user_id": 748858, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/17gYz.png?s=128&g=1", "display_name": "mgilson", "link": "https://stackoverflow.com/users/748858/mgilson"}, "reply_to_user": {"reputation": 19411, "user_id": 6640099, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/tf1sO.jpg?s=128&g=1", "display_name": "Christian Dean", "link": "https://stackoverflow.com/users/6640099/christian-dean"}, "edited": false, "score": 0, "creation_date": 1476314845, "post_id": 40009897, "comment_id": 67297873, "body": "@leaf -- It looks like OP is on python2.x where <code>print</code> is a statement (barring <code>__future__</code> imports of course)."}, {"owner": {"reputation": 19411, "user_id": 6640099, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/tf1sO.jpg?s=128&g=1", "display_name": "Christian Dean", "link": "https://stackoverflow.com/users/6640099/christian-dean"}, "reply_to_user": {"reputation": 262567, "user_id": 748858, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/17gYz.png?s=128&g=1", "display_name": "mgilson", "link": "https://stackoverflow.com/users/748858/mgilson"}, "edited": false, "score": 0, "creation_date": 1476314872, "post_id": 40009897, "comment_id": 67297876, "body": "@mgilson Shoot! I always miss that."}, {"owner": {"reputation": 8573, "user_id": 895932, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/rX9hW.jpg?s=128&g=1", "display_name": "justhalf", "link": "https://stackoverflow.com/users/895932/justhalf"}, "edited": false, "score": 0, "creation_date": 1476314945, "post_id": 40009897, "comment_id": 67297892, "body": "Comprehension is a way to create a list, not simply to do things repeatedly, for which the for loop is already Pythonic =)"}, {"owner": {"reputation": 39811, "user_id": 1322401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/JlaPg.jpg?s=128&g=1", "display_name": "Steven Rumbalski", "link": "https://stackoverflow.com/users/1322401/steven-rumbalski"}, "edited": false, "score": 0, "creation_date": 1476315012, "post_id": 40009897, "comment_id": 67297909, "body": "List comprehensions are for making lists. If your goal is a side effect (like printing) then use a regular loop. Also since you are using Python 2, <code>print</code> is a statement and therefore cannot be used in a list comprehension."}], "answers": [{"comments": [{"owner": {"reputation": 533, "user_id": 5705270, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/SMqJC.jpg?s=128&g=1", "display_name": "Flow Nuwen", "link": "https://stackoverflow.com/users/5705270/flow-nuwen"}, "edited": false, "score": 0, "creation_date": 1476376236, "post_id": 40009941, "comment_id": 67330077, "body": "Thank you for your answer! The clarity was very helpful and it was nice to hear the print SyntaxError articulated. My intention was to store a list, not print, but I accidentally left the print statement in when checking if the loop works."}, {"owner": {"reputation": 7558, "user_id": 448496, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/BZtrd.png?s=128&g=1", "display_name": "rubik", "link": "https://stackoverflow.com/users/448496/rubik"}, "reply_to_user": {"reputation": 533, "user_id": 5705270, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/SMqJC.jpg?s=128&g=1", "display_name": "Flow Nuwen", "link": "https://stackoverflow.com/users/5705270/flow-nuwen"}, "edited": false, "score": 0, "creation_date": 1476376698, "post_id": 40009941, "comment_id": 67330363, "body": "@FlowNuwen Glad I could be of help. If your intention is to store a list, then what I wrote initially is how you write the list comprehension: all the for loops are one after the other and the innermost if statement is at the end. Note that either you have one if statement or you have none. You cannot have multiple if statements in a list comprehension."}], "tags": [], "owner": {"reputation": 7558, "user_id": 448496, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/BZtrd.png?s=128&g=1", "display_name": "rubik", "link": "https://stackoverflow.com/users/448496/rubik"}, "is_accepted": true, "score": 2, "last_activity_date": 1476315129, "last_edit_date": 1476315129, "creation_date": 1476314840, "answer_id": 40009941, "question_id": 40009897, "link": "https://stackoverflow.com/questions/40009897/list-conditional-comprehension-in-python/40009941#40009941", "title": "List/Conditional Comprehension in Python", "body": "<p>The correct way to translate those loops would be</p>\n\n<pre><code>[print g for g in a for f in g[::3] if f == clf.best_params_]\n</code></pre>\n\n<p>However, in Python 2 <code>print g</code> is a statement, and that's why you get a SyntaxError. The Python 3 counterpart (i.e. with <code>print(g)</code>) would work, but note that a list comprehension here is completely useless. A list comprehension is useful when you have to gather values into a list - here it just hampers the readability.</p>\n\n<p>Regarding the SyntaxError, it's not the primary issue here. Note that you can use</p>\n\n<pre><code>from __future__ import print_function\n</code></pre>\n\n<p>and then use the <code>print()</code> function in your list comprehension as you would in Python 3.</p>\n"}, {"comments": [{"owner": {"reputation": 7558, "user_id": 448496, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/BZtrd.png?s=128&g=1", "display_name": "rubik", "link": "https://stackoverflow.com/users/448496/rubik"}, "edited": false, "score": 1, "creation_date": 1476315232, "post_id": 40009947, "comment_id": 67297968, "body": "You <i>do</i> get the side effects though. The list is then full of useless values. On the other hand, I agree with you that a list comprehension is totally misused here."}, {"owner": {"reputation": 110538, "user_id": 1219006, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/M1ZlR.jpg?s=128&g=1", "display_name": "jamylak", "link": "https://stackoverflow.com/users/1219006/jamylak"}, "edited": false, "score": 1, "creation_date": 1476319598, "post_id": 40009947, "comment_id": 67299082, "body": "You can get side effects in list comprehensions eg. mutating the list but it is very bad practice. This example tries to use a <code>print</code> <code>statement</code> which isn&#39;t even correct syntax"}], "tags": [], "owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "is_accepted": false, "score": 1, "last_activity_date": 1476314867, "creation_date": 1476314867, "answer_id": 40009947, "question_id": 40009897, "link": "https://stackoverflow.com/questions/40009897/list-conditional-comprehension-in-python/40009947#40009947", "title": "List/Conditional Comprehension in Python", "body": "<p>I think you've confused the construct: it's a <strong>list</strong> comprehension, not a macro of some sort.</p>\n\n<p>You don't get this sort of side effect; the purpose of a list comprehension is to construct a list.</p>\n"}, {"comments": [{"owner": {"reputation": 3184, "user_id": 447599, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/16869820699afa8b6b6d358e9234f1d7?s=128&d=identicon&r=PG", "display_name": "Jules G.M.", "link": "https://stackoverflow.com/users/447599/jules-g-m"}, "edited": false, "score": 0, "creation_date": 1476315132, "post_id": 40009950, "comment_id": 67297944, "body": "can I ask the source for these rules"}, {"owner": {"reputation": 305833, "user_id": 68587, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/7d9fd158e03cbde94f7e0b33b78222af?s=128&d=identicon&r=PG", "display_name": "John Kugelman", "link": "https://stackoverflow.com/users/68587/john-kugelman"}, "reply_to_user": {"reputation": 3184, "user_id": 447599, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/16869820699afa8b6b6d358e9234f1d7?s=128&d=identicon&r=PG", "display_name": "Jules G.M.", "link": "https://stackoverflow.com/users/447599/jules-g-m"}, "edited": false, "score": 0, "creation_date": 1476315575, "post_id": 40009950, "comment_id": 67298061, "body": "The first one is simply how the conversion works. The second isn&#39;t a &quot;rule&quot; so much as a best practice. I treat it like a rule: I never write list comprehensions that have side effects."}, {"owner": {"reputation": 533, "user_id": 5705270, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/SMqJC.jpg?s=128&g=1", "display_name": "Flow Nuwen", "link": "https://stackoverflow.com/users/5705270/flow-nuwen"}, "edited": false, "score": 0, "creation_date": 1476376079, "post_id": 40009950, "comment_id": 67329960, "body": "Thank you! My intention was not to print, but I just put it in to check it was working originally."}], "tags": [], "owner": {"reputation": 305833, "user_id": 68587, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/7d9fd158e03cbde94f7e0b33b78222af?s=128&d=identicon&r=PG", "display_name": "John Kugelman", "link": "https://stackoverflow.com/users/68587/john-kugelman"}, "is_accepted": false, "score": 1, "last_activity_date": 1476315489, "last_edit_date": 1476315489, "creation_date": 1476314879, "answer_id": 40009950, "question_id": 40009897, "link": "https://stackoverflow.com/questions/40009897/list-conditional-comprehension-in-python/40009950#40009950", "title": "List/Conditional Comprehension in Python", "body": "<p><strong>Rule 1</strong> - Keep the order of the <code>for</code> and <code>if</code> parts the same. The only part that changes order is the last part, <code>print g</code>: that moves to the front.</p>\n\n<pre><code>[print g for g in a for f in g[::3] if f == clf.best_params_]\n</code></pre>\n\n<p><strong>Rule 2</strong> - List comprehensions should not <em>do</em> anything. Instead of <em>printing</em> <code>g</code>, have <code>g</code> be the value that is accumulated.</p>\n\n<pre><code>[g for g in a for f in g[::3] if f == clf.best_params_]\n</code></pre>\n\n<p>If your entire goal was simply to print things, stick with the original loops; a list comprehension wouldn't add any value.</p>\n\n<hr>\n\n<p>If we take another look at your original nested loops, there may be a better way to write them. Is your goal to find all the items <code>g</code> that have <code>clf.best_params_</code> in one of the matching positions? If so, I recommend replacing the inner loop with a single <code>if any</code> statement.</p>\n\n<pre><code>for g in a:\n    if any(f == clf.best_params_ for f in g[::3]):\n        print g\n</code></pre>\n\n<p>To me, this reads better. The logic is clearer. It will only print any one value of <code>g</code> once, instead of multiple times if <code>clf.best_params_</code> is present more than once.</p>\n\n<p>If that is an improvement, then you could convert that version to a list comprehension like so:</p>\n\n<pre><code>[g for g in a if any(f == clf.best_params_ for f in g[::3])]\n</code></pre>\n"}], "owner": {"reputation": 533, "user_id": 5705270, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/SMqJC.jpg?s=128&g=1", "display_name": "Flow Nuwen", "link": "https://stackoverflow.com/users/5705270/flow-nuwen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 114, "favorite_count": 0, "accepted_answer_id": 40009941, "answer_count": 3, "score": 0, "last_activity_date": 1476315489, "creation_date": 1476314575, "question_id": 40009897, "link": "https://stackoverflow.com/questions/40009897/list-conditional-comprehension-in-python", "title": "List/Conditional Comprehension in Python", "body": "<p>I was wondering how to make the following into a comprehension:</p>\n\n<pre><code>for g in a:\n    for f in g[::3]:\n        if f == clf.best_params_:\n            print g\n</code></pre>\n\n<p>I tried this:</p>\n\n<pre><code>p = [[print g for g in a] if f==clf.best_params for f in [g[::3] for g in a]]\np\n</code></pre>\n\n<p>but got an error at <code>for f in</code> </p>\n\n<p>Would love some help! Thanks!</p>\n"}, {"tags": ["python", "python-3.x", "file-io", "seek"], "comments": [{"owner": {"reputation": 5868, "user_id": 3270037, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6HVI4.png?s=128&g=1", "display_name": "Nick", "link": "https://stackoverflow.com/users/3270037/nick"}, "edited": false, "score": 0, "creation_date": 1476314416, "post_id": 40009858, "comment_id": 67297774, "body": "Open in write mode instead of append mode to clear the file first"}, {"owner": {"reputation": 118102, "user_id": 4952130, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/kKQZw.png?s=128&g=1", "display_name": "Dimitris Fasarakis Hilliard", "link": "https://stackoverflow.com/users/4952130/dimitris-fasarakis-hilliard"}, "edited": false, "score": 1, "creation_date": 1476314456, "post_id": 40009858, "comment_id": 67297788, "body": "<i>&quot;I am not able to implement it into my example</i>&quot;; care to elaborate on why you can&#39;t?"}, {"owner": {"reputation": 395, "user_id": 6407935, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2b9980041c14b1e534e2e76006b8d53e?s=128&d=identicon&r=PG&f=1", "display_name": "Ash", "link": "https://stackoverflow.com/users/6407935/ash"}, "edited": false, "score": 0, "creation_date": 1476317195, "post_id": 40009858, "comment_id": 67298533, "body": "I just laborated more on the issue. I am trying to avoid <i>delete</i> function altogether and rather produce the file from scratch using &#39;w&#39; mode each time the simulation runs."}], "answers": [{"comments": [{"owner": {"reputation": 395, "user_id": 6407935, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2b9980041c14b1e534e2e76006b8d53e?s=128&d=identicon&r=PG&f=1", "display_name": "Ash", "link": "https://stackoverflow.com/users/6407935/ash"}, "edited": false, "score": 0, "creation_date": 1476316168, "post_id": 40009972, "comment_id": 67298250, "body": "sorry, that was &#39;w&#39; in the original snippet and I changed it few times and ended up being &#39;a&#39;. But still with that &#39;w&#39; is not working."}, {"owner": {"reputation": 7558, "user_id": 448496, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/BZtrd.png?s=128&g=1", "display_name": "rubik", "link": "https://stackoverflow.com/users/448496/rubik"}, "reply_to_user": {"reputation": 395, "user_id": 6407935, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2b9980041c14b1e534e2e76006b8d53e?s=128&d=identicon&r=PG&f=1", "display_name": "Ash", "link": "https://stackoverflow.com/users/6407935/ash"}, "edited": false, "score": 0, "creation_date": 1476364163, "post_id": 40009972, "comment_id": 67320723, "body": "@Allan I don&#39;t understand. You say that there were three runs and you see only the result from the last one. But in the code you provided you only print to the file once, so for every run the content of the file is overridden. If you are indeed writing to the file three times, then remember that with the &#39;w&#39; mode the file is overridden <b>when you open it</b>. That means that if you want three result per program run you have to open it just once and then keep writing in it, or opening it the first time with &#39;w&#39; and the other times with &#39;a&#39;."}, {"owner": {"reputation": 395, "user_id": 6407935, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2b9980041c14b1e534e2e76006b8d53e?s=128&d=identicon&r=PG&f=1", "display_name": "Ash", "link": "https://stackoverflow.com/users/6407935/ash"}, "edited": false, "score": 0, "creation_date": 1476387341, "post_id": 40009972, "comment_id": 67336140, "body": "Sorry for the misunderstanding. The code produces three consecutive rows for each run. I should have not used the word &quot;running three times&quot;. So, yes in fact I need three results per run and I need to open it just once and then keep writing in it until all three rows are filled and then close the file."}], "tags": [], "owner": {"reputation": 7558, "user_id": 448496, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/BZtrd.png?s=128&g=1", "display_name": "rubik", "link": "https://stackoverflow.com/users/448496/rubik"}, "is_accepted": false, "score": 6, "last_activity_date": 1476315026, "creation_date": 1476315026, "answer_id": 40009972, "question_id": 40009858, "link": "https://stackoverflow.com/questions/40009858/how-to-delete-the-contents-of-a-file-before-writing-into-it-in-a-python-script/40009972#40009972", "title": "How to delete the contents of a file before writing into it in a python script?", "body": "<p>You are using 'append' mode (<code>'a'</code>) to open your file. When this mode is specified, new text is appended to the existing file content. You're looking for the 'write' mode, that is <code>open(filename, 'w')</code>. This will override the file contents every time you <strong>open</strong> it.</p>\n"}, {"tags": [], "owner": {"reputation": 395, "user_id": 6407935, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2b9980041c14b1e534e2e76006b8d53e?s=128&d=identicon&r=PG&f=1", "display_name": "Ash", "link": "https://stackoverflow.com/users/6407935/ash"}, "is_accepted": true, "score": 0, "last_activity_date": 1476641900, "creation_date": 1476641900, "answer_id": 40073770, "question_id": 40009858, "link": "https://stackoverflow.com/questions/40009858/how-to-delete-the-contents-of-a-file-before-writing-into-it-in-a-python-script/40073770#40073770", "title": "How to delete the contents of a file before writing into it in a python script?", "body": "<p>Using mode 'w' is able to delete the content of the file and overwrite the file but prevents the loop containing the above snippet from printing two more times to produce two more rows of data. In other words, using 'w' mode is not compatible with the code I have given the fact that it is supposed to print into the file three times (since the loop containing this snippet is executing three times). For this reason, I had to empty the file through the following command line inside the main.py code: </p>\n\n<pre><code>os.system(\"&gt; output/Images/MW_Size/covering_fractions.txt\")\n</code></pre>\n\n<p>And only then use the 'a' mode in the code snippet mentioned above. This way the loop is executing AND printing into the empty file three times as expected without deleting the first two rows.</p>\n"}], "owner": {"reputation": 395, "user_id": 6407935, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2b9980041c14b1e534e2e76006b8d53e?s=128&d=identicon&r=PG&f=1", "display_name": "Ash", "link": "https://stackoverflow.com/users/6407935/ash"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4283, "favorite_count": 0, "accepted_answer_id": 40073770, "answer_count": 2, "score": 4, "last_activity_date": 1600672019, "creation_date": 1476314301, "last_edit_date": 1495542728, "question_id": 40009858, "link": "https://stackoverflow.com/questions/40009858/how-to-delete-the-contents-of-a-file-before-writing-into-it-in-a-python-script", "title": "How to delete the contents of a file before writing into it in a python script?", "body": "<p>I have a file called fName.txt in a directory. Running the following python snippet (coming from a simulation) would add 6 numbers into 3 rows and 2 columns into the text file through executing the loop (containing the snippet) three times. However, I would like to empty the file completely before writing new data into it. (Otherwise running the script for many times would produce more than three rows needed for the simulation which would produce nonsense results; in other words the script needs to <em>see</em> only three rows just produced from the simulation). I have come across the following page <a href=\"https://stackoverflow.com/questions/17126037/how-to-delete-only-the-content-of-file-in-python\">how to delete only the contents of file in python</a>  where it explains how to do it but I am not able to implement it into my example. In particular, after <code>pass</code> statement, I am not sure of the order of statements given the fact that my file is closed to begin with and that it must be closed again once <code>print</code> statement is executed. Each time, I was receiving a different error message which I could not avoid in any case. Here is one sort of error I was receiving which indicated that the content is deleted (mostly likely after print statement):</p>\n\n<blockquote>\n  <p>/usr/lib/python3.4/site-packages/numpy/lib/npyio.py:1385: UserWarning: genfromtxt: Empty input file: \"output/Images/MW_Size/covering_fractions.txt\"\n    warnings.warn('genfromtxt: Empty input file: \"%s\"' % fname)\n  Traceback (most recent call last):\n    File \"Collector2.py\", line 81, in \n      LLSs, DLAs = np.genfromtxt(r'output/Images/MW_Size/covering_fractions.txt', comments='#', usecols = (0,1), unpack=True)\n  ValueError: need more than 0 values to unpack</p>\n</blockquote>\n\n<p>This is why I decided to leave the snippet in its simplest form without using any one of those suggestions in that page:</p>\n\n<pre><code>covering_fraction_data = \"output/Images/MW_Size/covering_fractions.txt\"    \nwith open(covering_fraction_data,\"mode\") as fName:\n        print('{:.2e} {:.2e}'.format(lls_number/grid_number, dla_number/grid_number), file=fName)\n        fName.close()\n</code></pre>\n\n<p>Each run of the simulation produces 3 rows that should be printed into the file. When <code>mode</code> is 'a', the three produced lines are added to the existing file producing a text file that would contain more than three rows because it already included some contents. After changing 'a' to 'w', instead of having 3 rows printed in the text file, there is only 1 row printed; the first two rows are deleted unwantedly. </p>\n\n<p><strong>Workaround:</strong></p>\n\n<p>The only way around to avoid all this is to choose the 'a' <code>mode</code> and manually delete the contents of the file before running the code. This way, only three rows are produced in the text file after running the code which is what is expected from the output.</p>\n\n<p><strong>Question:</strong></p>\n\n<p>So, my question is basically, \"how can I modify the above code to actually do the deletion of the file <em>automatically</em> and <em>before</em> it is filled with three new rows?\"</p>\n\n<p>Your help is greatly appreciated.</p>\n"}, {"tags": ["python", "class", "object"], "comments": [{"owner": {"reputation": 27649, "user_id": 5067311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qjltV.png?s=128&g=1", "display_name": "Andras Deak", "link": "https://stackoverflow.com/users/5067311/andras-deak"}, "edited": false, "score": 1, "creation_date": 1476314290, "post_id": 40009850, "comment_id": 67297745, "body": "&quot;python type hints&quot;"}], "answers": [{"tags": [], "owner": {"reputation": 3184, "user_id": 447599, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/16869820699afa8b6b6d358e9234f1d7?s=128&d=identicon&r=PG", "display_name": "Jules G.M.", "link": "https://stackoverflow.com/users/447599/jules-g-m"}, "is_accepted": false, "score": 1, "last_activity_date": 1476314635, "creation_date": 1476314635, "answer_id": 40009903, "question_id": 40009850, "link": "https://stackoverflow.com/questions/40009850/what-is-the-meaning-of-the-object-in-the-python-classes/40009903#40009903", "title": "What is the meaning of the object in the python classes", "body": "<p>They are type annotations.</p>\n\n<p>Type annotations are type hints that were brought in with <a href=\"https://www.python.org/dev/peps/pep-0484/\" rel=\"nofollow\">pep-0484</a>. They were made to allow developers to use third party tools or modules that consume these to give more information to the user about types for example.</p>\n\n<p>The more obvious use case imho right now is that the Python visual editor PyCharm (which is afaik the most used pycharm editor after sublime, which is not a complete editor) supports them to give programmers information about types, and for auto complete.</p>\n\n<p>See\n<a href=\"https://www.jetbrains.com/help/pycharm/2016.1/type-hinting-in-pycharm.html\" rel=\"nofollow\">https://www.jetbrains.com/help/pycharm/2016.1/type-hinting-in-pycharm.html</a></p>\n"}, {"tags": [], "owner": {"reputation": 19411, "user_id": 6640099, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/tf1sO.jpg?s=128&g=1", "display_name": "Christian Dean", "link": "https://stackoverflow.com/users/6640099/christian-dean"}, "is_accepted": false, "score": 0, "last_activity_date": 1476314680, "creation_date": 1476314680, "answer_id": 40009910, "question_id": 40009850, "link": "https://stackoverflow.com/questions/40009850/what-is-the-meaning-of-the-object-in-the-python-classes/40009910#40009910", "title": "What is the meaning of the object in the python classes", "body": "<p>It's a <a href=\"https://www.python.org/dev/peps/pep-0484/\" rel=\"nofollow\">Type aliases</a>.They were added in pep-404.</p>\n\n<p>Straight from the Python docs:</p>\n\n<blockquote>\n  <p>A type aliases is defined by assigning the type to the alias...Type aliases are useful for simplifying complex type signatures...Note that None as a type hint is a special case and is replaced by type(None).</p>\n</blockquote>\n"}], "owner": {"reputation": 11, "user_id": 6680470, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca3a4550ba35d40bbb124342843a3e17?s=128&d=identicon&r=PG&f=1", "display_name": "Hamid Shahrokhshahi", "link": "https://stackoverflow.com/users/6680470/hamid-shahrokhshahi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "closed_date": 1476315865, "answer_count": 2, "score": 0, "last_activity_date": 1476314680, "creation_date": 1476314226, "last_edit_date": 1476314614, "question_id": 40009850, "link": "https://stackoverflow.com/questions/40009850/what-is-the-meaning-of-the-object-in-the-python-classes", "closed_reason": "Duplicate", "title": "What is the meaning of the object in the python classes", "body": "<p>what is the meaning of the following command:</p>\n\n<pre><code>def run_initial(self) -&gt; object:\n</code></pre>\n\n<p>I don't know why he put <code>object</code> after the arrow. What is the meaning of the object here?</p>\n"}, {"tags": ["python", "matlab"], "answers": [{"comments": [{"owner": {"reputation": 813, "user_id": 4023805, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/dda6191b026b0fd5fc4836f7955a1412?s=128&d=identicon&r=PG&f=1", "display_name": "user_1_1_1", "link": "https://stackoverflow.com/users/4023805/user-1-1-1"}, "edited": false, "score": 1, "creation_date": 1476383984, "post_id": 40015703, "comment_id": 67334274, "body": "Super +1 for <code>patch</code> tip!"}], "tags": [], "owner": {"reputation": 1862, "user_id": 6469393, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-RfQ6zgjcnq0/AAAAAAAAAAI/AAAAAAAAArA/lGm-TROLG8E/photo.jpg?sz=128", "display_name": "erfan", "link": "https://stackoverflow.com/users/6469393/erfan"}, "is_accepted": true, "score": 0, "last_activity_date": 1476350287, "last_edit_date": 1495540000, "creation_date": 1476346592, "answer_id": 40015703, "question_id": 40009795, "link": "https://stackoverflow.com/questions/40009795/coloring-cells-of-a-grid-overlaid-on-top-of-a-polygon-with-different-colors/40015703#40015703", "title": "Coloring cells of a grid overlaid on top of a polygon with different colors", "body": "<p>You can consider using <code>fill</code> command, but try to avoid it and use <a href=\"http://www.mathworks.com/help/matlab/ref/patch.html\" rel=\"nofollow noreferrer\"><code>patch</code></a> if you can. The problem with <code>fill</code> is that you will face serious performance issues when the number of lattice points increases. Take a look at the two answers I provided on <a href=\"https://stackoverflow.com/questions/39556915/hexagonal-lattice-which-is-randomly-colored-with-black-and-white-color/39636195#39636195\">this question</a> to see how to use them with a conditional coloring.</p>\n\n<p><strong>My suggestion</strong> is to keep using <code>imagesc</code> and <code>inpolygon</code>, and try to numerically classify the conditions you want to apply on the bordering lattice points.</p>\n\n<p>Let's count the number of corners per lattice cell that falls inside the polygon and call it <code>w</code>. My coloring conditions are:</p>\n\n<ul>\n<li><p><code>w == 0</code>: black</p></li>\n<li><p><code>w == 1</code>: blue</p></li>\n<li><p><code>w == 2</code>: red</p></li>\n<li><p><code>w == 3</code>: green</p></li>\n<li><p><code>w == 4</code>: yellow</p></li>\n</ul>\n\n<p>So I define <code>myColors = [0 0 0; 0 0 1; 1 0 0; 0 1 0; 1 1 0];</code> as my colormap. This is how I count <code>w</code>:</p>\n\n<pre><code>X = [264; 208; 207; 76; 59; 201; 294; 448; 476; 465; 428; 365; 307; 286];\nY = [235; 221; 78; 67; 447; 454; 381; 431; 263; 214; 146; 134; 153; 194];\nxl = 10; % xl is your lattice length\nyl = 25; % yl is your lattice height\nxv = 0:xl:500;\nyv = 0:yl:500;\n[a, b] = meshgrid(xv, yv);\nv = inpolygon(a, b, X, Y);\n\n% summing up 4 adjacent lattice points and decreasing lattice dimensions by 1:\nw = v(1:end-1,1:end-1) + v(2:end,1:end-1) + v(1:end-1,2:end) + v(2:end,2:end);\n\n% shifting the new lattice to the center of previous lattice: \nxw = xl/2:xl:500 - xl/2;\nyw = yl/2:yl:500 - yl/2;\n\n% plotting\nmyColors = [0 0 0; 0 0 1; 1 0 0; 0 1 0; 1 1 0];\ncolormap(myColors)\nimagesc(xw, yw, w)\naxis equal tight off\n</code></pre>\n\n<p>And this is the result:</p>\n\n<p><a href=\"https://i.stack.imgur.com/RT8Ho.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RT8Ho.png\" alt=\"enter image description here\"></a></p>\n\n<p>Note that I shift the lattice. You should pass the coordinates of the center of lattice cells to <code>imagesc</code>, and therefore you need to do a half-lattice shift to go from borders to centers (and to reduce the size to one row and one column less, which I did when calculating <code>w</code>).</p>\n\n<p>Also note that if you are interested only in the bordering cells, <code>w &gt; 0 &amp; w &lt; 4</code> separates them.</p>\n"}], "owner": {"reputation": 813, "user_id": 4023805, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/dda6191b026b0fd5fc4836f7955a1412?s=128&d=identicon&r=PG&f=1", "display_name": "user_1_1_1", "link": "https://stackoverflow.com/users/4023805/user-1-1-1"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 406, "favorite_count": 0, "accepted_answer_id": 40015703, "answer_count": 1, "score": 2, "last_activity_date": 1476350287, "creation_date": 1476313794, "last_edit_date": 1495542737, "question_id": 40009795, "link": "https://stackoverflow.com/questions/40009795/coloring-cells-of-a-grid-overlaid-on-top-of-a-polygon-with-different-colors", "title": "Coloring cells of a grid overlaid on top of a polygon with different colors", "body": "<p>There is a grid which has been overlaid on top of a polygon. To make the discussion concrete, assume the following picture:</p>\n\n<p><a href=\"https://i.stack.imgur.com/tLIHQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tLIHQ.png\" alt=\"enter image description here\"></a></p>\n\n<p>I had the yellow polygon and I want to overlay a grid as shown in the image. I wish to color the grid cells based on certain rules. They are not as simple as coloring the intersecting cells red and rest green. I want to preform a conditional check on each grid cell and then color them based on the result. I am at a loss to think how to represent the grid cells and then proceed with my conditional checks on them. This is my first issue. This is more of a data structure question.</p>\n\n<p>Next if I know which certain cells to color orange, how do I do it? This is a graphics question.</p>\n\n<p>I could figure out how to for <code>1x1</code> grid cells basically the points like this:</p>\n\n<pre><code>figure\nhold on\n\nroi=[264.418629550321 234.728971962617;207.673447537473 220.710280373832;206.60278372591 78.1869158878505;75.9817987152034 66.5046728971964;58.8511777301927 447.345794392523;201.249464668094 454.355140186916;294.39721627409 380.757009345795;447.502141327623 430.990654205608;476.410064239829 262.766355140187;464.632762312634 213.700934579439;428.230192719486 145.943925233645;365.061027837259 134.261682242991;307.245182012848 152.953271028038;285.831905781585 193.841121495327];\n\naxis([0 500 0 500])\naxis equal\nview([0 -90])\n\nX=roi(:,1);\nY=roi(:,2);\n\n[a b] = meshgrid(1:500);\ninPoly1 = inpolygon(a,b,X,Y);\nimagesc(inPoly1); \nline(X, Y,'Color','r'); \n\nfor k = 1:25:500\n    x = [1 500];\n    y = [k k];\n    plot(x,y,'Color','w','LineStyle','-');\n    plot(x,y,'Color','k','LineStyle',':');\nend\n\nfor k = 1:25:500\n    x = [k k];\n    y = [1 500];\n    plot(x,y,'Color','w','LineStyle','-');\n    plot(x,y,'Color','k','LineStyle',':');\nend\n</code></pre>\n\n<p>This code snippet can also be used to produce above image. But this is not helpful. I want to be able to work with general <code>nxn</code> grid cells in this same way.</p>\n\n<p>I had a na\u00efve idea that I will form a Matlab-cell of all the quadrilaterals that are the grid cells and then do my conditional check over them and color them just as polygons using fill command. Is there a better, easier way so that I have to reinvent the wheel as less as possible? If your advice is that I should go ahead with this idea, then can you suggest a way to form the Matlab-cell of all these quadrilaterals in a smart way?</p>\n\n<p>I saw <a href=\"https://stackoverflow.com/a/12269837\">here</a> but this uses Mapping toolbox which I don't have. So if someone can suggest within the realm of basic matlab toolboxes, it will be highly appreciated. Else please suggest python solutions. If it is difficult to provide code snippets, algorithmic advice would also be helpful.</p>\n"}, {"tags": ["python", "maya"], "comments": [{"owner": {"reputation": 216, "user_id": 5376782, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/T2g6e.jpg?s=128&g=1", "display_name": "UKDP", "link": "https://stackoverflow.com/users/5376782/ukdp"}, "edited": false, "score": 0, "creation_date": 1477393314, "post_id": 40009763, "comment_id": 67738222, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/35833586/batch-constraining-objects-feathers-to-a-wing\" title=\"batch constraining objects feathers to a wing\">stackoverflow.com/questions/35833586/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1376, "user_id": 3009212, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19084c3252a453d925bdf57b27f0450b?s=128&d=identicon&r=PG&f=1", "display_name": "Ari Gold", "link": "https://stackoverflow.com/users/3009212/ari-gold"}, "edited": false, "score": 0, "creation_date": 1476442700, "post_id": 40017021, "comment_id": 67358584, "body": "you can also use dist = cmds.distanceDimension( sp=obj_pos, ep=target_pos)"}, {"owner": {"reputation": 4158, "user_id": 4759736, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/JHRRj.jpg?s=128&g=1", "display_name": "Green Cell", "link": "https://stackoverflow.com/users/4759736/green-cell"}, "reply_to_user": {"reputation": 1376, "user_id": 3009212, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19084c3252a453d925bdf57b27f0450b?s=128&d=identicon&r=PG&f=1", "display_name": "Ari Gold", "link": "https://stackoverflow.com/users/3009212/ari-gold"}, "edited": false, "score": 0, "creation_date": 1476459973, "post_id": 40017021, "comment_id": 67370321, "body": "Yes but this creates a new object that you need to delete later on. It would be faster to do it in memory."}], "tags": [], "owner": {"reputation": 4158, "user_id": 4759736, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/JHRRj.jpg?s=128&g=1", "display_name": "Green Cell", "link": "https://stackoverflow.com/users/4759736/green-cell"}, "is_accepted": false, "score": 0, "last_activity_date": 1476350880, "last_edit_date": 1476350880, "creation_date": 1476350490, "answer_id": 40017021, "question_id": 40009763, "link": "https://stackoverflow.com/questions/40009763/maya-python-parentconstraint-by-distance/40017021#40017021", "title": "Maya python. parentConstraint by distance", "body": "<p>Here's an example of how you can constrain objects from one list to another by their world positions. There may be smarter ways of doing it, like adding the values to a <code>dict</code> then sorting it, but this feels more readable.</p>\n\n<pre><code>import math\n\n# Add code here to get your two selection lists\n\n# Loop through skeleton A\nfor obj in first_sel:\n    closest_jnt = None # Name of the closest joint\n    closest_dist = 0 # Distance of the closest joint\n\n    obj_pos = cmds.xform(obj, q=True, ws=True, t=True)\n\n    # Loop through skeleton B to find the nearest joint\n    for target in second_sel:\n        target_pos = cmds.xform(target, q=True, ws=True, t=True)\n\n        # Calculate the distance between the 2 objects\n        dist = math.sqrt((target_pos[0]-obj_pos[0])**2 + \n                         (target_pos[1]-obj_pos[1])**2 + \n                         (target_pos[2]-obj_pos[2])**2)\n\n        # If this is the first object we loop through, automatically say it's the closest\n        # Otherwise, check to see if this distance beats the closest distance\n        if closest_jnt is None or dist &lt; closest_dist:\n            closest_jnt = target\n            closest_dist = dist\n\n    cmds.parentConstraint(closest_jnt, obj, mo=True)\n</code></pre>\n\n<p>Also as a side note, no need to do <code>firstSel.append(joints)</code> when you're getting your selection (you're actually adding a list to a list!). You can either just assign it directly like <code>firstSel = mc.ls(sl=True, type = \"joint\")</code>, or if the list already exists with some items and you want to add to it, you can use <code>firstSel.extend(joints)</code></p>\n"}], "owner": {"reputation": 1, "user_id": 7010636, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40feb9367cf5d7a7e812c78e7c7f33f0?s=128&d=identicon&r=PG&f=1", "display_name": "superman", "link": "https://stackoverflow.com/users/7010636/superman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 471, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1476350880, "creation_date": 1476313588, "last_edit_date": 1476329079, "question_id": 40009763, "link": "https://stackoverflow.com/questions/40009763/maya-python-parentconstraint-by-distance", "title": "Maya python. parentConstraint by distance", "body": "<p>I have two sets of skeletons (A and B), and trying to parent constraint A set of joints to B joints.</p>\n\n<p>What I did was put A selection into A array and B selection to B array.\nbut how can I proceed parent constraint A to B by distance, which the distance is 0 basically so the toe joint doesn't hook up with fingers.\nsomething like bellow. </p>\n\n<p>I'd appreciate if some one can advise me.</p>\n\n<pre><code>firstSel = []\nsecondSel = []\n\ndef firstSelection(*args):\n\n    sel = mc.select(hi = True)\n    joints = mc.ls(sl=True, type = \"joint\")\n    firstSel.append(joints)\n    print \"this is first selection\"\n\n\ndef secondSelection(*args):\n\n    tsmgRoot = mc.select(hi = True)\n    tsmgJoints = mc.ls(sl=True, type = \"joint\")\n    secondSel.append(tsmgJoints)\n</code></pre>\n"}, {"tags": ["python"], "answers": [{"tags": [], "owner": {"reputation": 31, "user_id": 6744950, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205752205959178/picture?type=large", "display_name": "Pedro Henrique Barcha", "link": "https://stackoverflow.com/users/6744950/pedro-henrique-barcha"}, "is_accepted": false, "score": 1, "last_activity_date": 1476395071, "creation_date": 1476395071, "answer_id": 40031518, "question_id": 40009710, "link": "https://stackoverflow.com/questions/40009710/oserror-pynative-file-too-short/40031518#40031518", "title": "OSError: .pynative/... : file too short", "body": "<p>Problem solved.\nI saw other people having trouble (on diverse matters) with:  </p>\n\n<blockquote>\n  <p>OSError:<strong>[X]</strong>... : file too short</p>\n</blockquote>\n\n<p>My suggestion is: whatever you are doing, check for hidden directories named [X] in the current directory and delete them.</p>\n"}], "owner": {"reputation": 31, "user_id": 6744950, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205752205959178/picture?type=large", "display_name": "Pedro Henrique Barcha", "link": "https://stackoverflow.com/users/6744950/pedro-henrique-barcha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1228, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1476395071, "creation_date": 1476313194, "question_id": 40009710, "link": "https://stackoverflow.com/questions/40009710/oserror-pynative-file-too-short", "title": "OSError: .pynative/... : file too short", "body": "<p>When I try to apply OCRopus (a python-based OCR tool) to a TIFF image, I get the following python error:</p>\n\n<pre><code>    Traceback (most recent call last):\n  File \"/usr/local/bin/ocropus-nlbin\", line 10, in &lt;module&gt;\n    import ocrolib\n  File \"/usr/local/lib/python2.7/dist-packages/ocrolib/__init__.py\", line 12, in &lt;module&gt;\n    from common import *\n  File \"/usr/local/lib/python2.7/dist-packages/ocrolib/common.py\", line 18, in &lt;module&gt;\n    import lstm\n  File \"/usr/local/lib/python2.7/dist-packages/ocrolib/lstm.py\", line 32, in &lt;module&gt;\n    import nutils\n  File \"/usr/local/lib/python2.7/dist-packages/ocrolib/nutils.py\", line 25, in &lt;module&gt;\n    lstm_native = compile_and_load(lstm_utils)\n  File \"/usr/local/lib/python2.7/dist-packages/ocrolib/native.py\", line 68, in compile_and_load\n    return ctypes.CDLL(path)\n  File \"/usr/lib/python2.7/ctypes/__init__.py\", line 365, in __init__\n    self._handle = _dlopen(self._name, mode)\nOSError: .pynative/cccd32009099f8dade0fe6cd205bf188.so: file too short\nTraceback (most recent call last):\n  File \"/usr/local/bin/ocropus-gpageseg\", line 22, in &lt;module&gt;\n    import ocrolib\n  File \"/usr/local/lib/python2.7/dist-packages/ocrolib/__init__.py\", line 12, in &lt;module&gt;\n    from common import *\n  File \"/usr/local/lib/python2.7/dist-packages/ocrolib/common.py\", line 18, in &lt;module&gt;\n    import lstm\n  File \"/usr/local/lib/python2.7/dist-packages/ocrolib/lstm.py\", line 32, in &lt;module&gt;\n    import nutils\n  File \"/usr/local/lib/python2.7/dist-packages/ocrolib/nutils.py\", line 25, in &lt;module&gt;\n    lstm_native = compile_and_load(lstm_utils)\n  File \"/usr/local/lib/python2.7/dist-packages/ocrolib/native.py\", line 68, in compile_and_load\n    return ctypes.CDLL(path)\n  File \"/usr/lib/python2.7/ctypes/__init__.py\", line 365, in __init__\n    self._handle = _dlopen(self._name, mode)\nOSError: .pynative/cccd32009099f8dade0fe6cd205bf188.so: file too short\nTraceback (most recent call last):\n  File \"/usr/local/bin/ocropus-rpred\", line 7, in &lt;module&gt;\n    import ocrolib\n  File \"/usr/local/lib/python2.7/dist-packages/ocrolib/__init__.py\", line 12, in &lt;module&gt;\n    from common import *\n  File \"/usr/local/lib/python2.7/dist-packages/ocrolib/common.py\", line 18, in &lt;module&gt;\n    import lstm\n  File \"/usr/local/lib/python2.7/dist-packages/ocrolib/lstm.py\", line 32, in &lt;module&gt;\n    import nutils\n  File \"/usr/local/lib/python2.7/dist-packages/ocrolib/nutils.py\", line 25, in &lt;module&gt;\n    lstm_native = compile_and_load(lstm_utils)\n  File \"/usr/local/lib/python2.7/dist-packages/ocrolib/native.py\", line 68, in compile_and_load\n    return ctypes.CDLL(path)\n  File \"/usr/lib/python2.7/ctypes/__init__.py\", line 365, in __init__\n    self._handle = _dlopen(self._name, mode)\nOSError: .pynative/cccd32009099f8dade0fe6cd205bf188.so: file too short\nTraceback (most recent call last):\n  File \"/usr/local/bin/ocropus-hocr\", line 8, in &lt;module&gt;\n    import ocrolib\n  File \"/usr/local/lib/python2.7/dist-packages/ocrolib/__init__.py\", line 12, in &lt;module&gt;\n    from common import *\n  File \"/usr/local/lib/python2.7/dist-packages/ocrolib/common.py\", line 18, in &lt;module&gt;\n    import lstm\n  File \"/usr/local/lib/python2.7/dist-packages/ocrolib/lstm.py\", line 32, in &lt;module&gt;\n    import nutils\n  File \"/usr/local/lib/python2.7/dist-packages/ocrolib/nutils.py\", line 25, in &lt;module&gt;\n    lstm_native = compile_and_load(lstm_utils)\n  File \"/usr/local/lib/python2.7/dist-packages/ocrolib/native.py\", line 68, in compile_and_load\n    return ctypes.CDLL(path)\n  File \"/usr/lib/python2.7/ctypes/__init__.py\", line 365, in __init__\n    self._handle = _dlopen(self._name, mode)\nOSError: .pynative/cccd32009099f8dade0fe6cd205bf188.so: file too short\n</code></pre>\n\n<p>Since this is as python issue, I haven't tagged OCROpus, should I tag it as well? \nCould it be an Python installation matter? If so, how can I solve it?</p>\n"}, {"tags": ["python", "panel-data", "pandas"], "answers": [{"comments": [{"owner": {"reputation": 913, "user_id": 6293038, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7167908694353eb297e1ed2dc4941d21?s=128&d=identicon&r=PG&f=1", "display_name": "dayum", "link": "https://stackoverflow.com/users/6293038/dayum"}, "edited": false, "score": 0, "creation_date": 1476322121, "post_id": 40010287, "comment_id": 67299654, "body": "somehow i get this error on trying  T.update(T.loc[n1_loop, n2_loop, n3_loop].add(1))   AttributeError: &#39;numpy.float64&#39; object has no attribute &#39;add&#39;"}, {"owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "reply_to_user": {"reputation": 913, "user_id": 6293038, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7167908694353eb297e1ed2dc4941d21?s=128&d=identicon&r=PG&f=1", "display_name": "dayum", "link": "https://stackoverflow.com/users/6293038/dayum"}, "edited": false, "score": 0, "creation_date": 1476324254, "post_id": 40010287, "comment_id": 67300185, "body": "@dayum I assumed your loop variables were lists."}, {"owner": {"reputation": 913, "user_id": 6293038, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7167908694353eb297e1ed2dc4941d21?s=128&d=identicon&r=PG&f=1", "display_name": "dayum", "link": "https://stackoverflow.com/users/6293038/dayum"}, "edited": false, "score": 0, "creation_date": 1476333258, "post_id": 40010287, "comment_id": 67302438, "body": "sorry probably should have mentioned this earlier, but n1_loop, n2_loop and n3_loop are all strings (referencing the indices along 3 axis)"}, {"owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "reply_to_user": {"reputation": 913, "user_id": 6293038, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7167908694353eb297e1ed2dc4941d21?s=128&d=identicon&r=PG&f=1", "display_name": "dayum", "link": "https://stackoverflow.com/users/6293038/dayum"}, "edited": false, "score": 0, "creation_date": 1476333837, "post_id": 40010287, "comment_id": 67302631, "body": "@dayum if <code>n1_loop</code> is a string that is a single member of the <code>items</code> index and so on, then use <code>T.update(T.loc[[n1_loop], [n2_loop], [n3_loop]].add(1))</code>"}], "tags": [], "owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "is_accepted": true, "score": 1, "last_activity_date": 1476333876, "last_edit_date": 1476333876, "creation_date": 1476317349, "answer_id": 40010287, "question_id": 40009667, "link": "https://stackoverflow.com/questions/40009667/pandas-panel-data-update/40010287#40010287", "title": "pandas panel data update", "body": "<p><strong><em>TL;DR</em></strong>  </p>\n\n<pre><code>T.update(T.loc[[n1_loop], [n2_loop], [n3_loop]].add(1))\n</code></pre>\n\n<hr>\n\n<p>The analogous exercise for a DataFrame would be to assign with <code>loc</code></p>\n\n<pre><code>df = pd.DataFrame(np.zeros((5, 5)), list('abcde'), list('ABCDE'), int)\ndf.loc['b':'d', list('AE')] += 1\ndf\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/qIupI.png\" rel=\"nofollow\"><img src=\"https://i.stack.imgur.com/qIupI.png\" alt=\"enter image description here\"></a></p>\n\n<hr>\n\n<p>Exact <code>pd.Panel</code> analog generates an Error</p>\n\n<pre><code>pn = pd.Panel(np.zeros((5, 5, 2)), list('abcde'), list('ABCDE'), list('XY'), int)\npn.loc['b':'d', list('AE'), ['X']] += 1\npn\n</code></pre>\n\n<blockquote>\n<pre><code>NotImplementedError: cannot set using an indexer with a Panel yet!\n</code></pre>\n</blockquote>\n\n<hr>\n\n<p>But we can still slice it</p>\n\n<pre><code>pn = pd.Panel(np.zeros((5, 5, 2)), list('abcde'), list('ABCDE'), list('XY'), int)\npn.loc['b':'d', list('AE'), ['X']]\n\n&lt;class 'pandas.core.panel.Panel'&gt;\nDimensions: 3 (items) x 2 (major_axis) x 1 (minor_axis)\nItems axis: b to d\nMajor_axis axis: A to E\nMinor_axis axis: X to X\n</code></pre>\n\n<hr>\n\n<p>And we can use the <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.Panel.update.html\" rel=\"nofollow\"><code>update</code> method</a></p>\n\n<pre><code>pn.update(pn.loc['b':'d', list('AE'), ['X']].add(1))\n</code></pre>\n\n<p>Which we can see did stuff if we use the <code>to_frame</code> method</p>\n\n<pre><code>pn.to_frame().astype(int)\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/59N5f.png\" rel=\"nofollow\"><img src=\"https://i.stack.imgur.com/59N5f.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong><em>OR</em></strong></p>\n\n<pre><code>pn.loc[:, :, 'X'].astype(int).T\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/qIupI.png\" rel=\"nofollow\"><img src=\"https://i.stack.imgur.com/qIupI.png\" alt=\"enter image description here\"></a></p>\n\n<hr>\n\n<p><strong><em>YOUR CASE</em></strong><br>\nThis should work</p>\n\n<pre><code>T.update(T.loc[[n1_loop], [n2_loop], [n3_loop]].add(1))\n</code></pre>\n"}], "migrated_from": {"other_site": {"aliases": ["http://statistics.stackexchange.com", "http://crossvalidated.com"], "markdown_extensions": ["MathJax", "Prettify"], "launch_date": 1288900046, "open_beta_date": 1280170800, "closed_beta_date": 1279566000, "site_state": "normal", "high_resolution_icon_url": "https://cdn.sstatic.net/Sites/stats/Img/apple-touch-icon@2.png", "twitter_account": "StackStats", "favicon_url": "https://cdn.sstatic.net/Sites/stats/Img/favicon.ico", "icon_url": "https://cdn.sstatic.net/Sites/stats/Img/apple-touch-icon.png", "audience": "people interested in statistics, machine learning, data analysis, data mining, and data visualization", "site_url": "https://stats.stackexchange.com", "api_site_parameter": "stats", "logo_url": "https://cdn.sstatic.net/Sites/stats/Img/logo.png", "name": "Cross Validated", "site_type": "main_site"}, "on_date": 1476312926, "question_id": 239895}, "owner": {"reputation": 913, "user_id": 6293038, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7167908694353eb297e1ed2dc4941d21?s=128&d=identicon&r=PG&f=1", "display_name": "dayum", "link": "https://stackoverflow.com/users/6293038/dayum"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 488, "favorite_count": 0, "accepted_answer_id": 40010287, "answer_count": 1, "score": 3, "last_activity_date": 1476333876, "creation_date": 1476312861, "question_id": 40009667, "link": "https://stackoverflow.com/questions/40009667/pandas-panel-data-update", "title": "pandas panel data update", "body": "<p>I am using panel datastructure in pandas for storing a 3d panel. </p>\n\n<pre><code>T=pd.Panel(data=np.zeros((n1,n2,n3)),items=n1_label, major_axis=n2_label, minor_axis=n3_label)\n</code></pre>\n\n<p>Later on, I am trying to update (increment) the values stored at individual locations inside a loop. Currently I am doing:</p>\n\n<pre><code> u=T.get_value(n1_loop,n2_loop,n3_loop)\n T.set_value(n1_loop,n2_loop,n3_loop,u+1)\n</code></pre>\n\n<p>My question- is this the simplest way? Is there any other simpler way? The following dont work:</p>\n\n<pre><code>T[n1_loop,n2_loop,n3_loop] +=1\n</code></pre>\n\n<p>or </p>\n\n<pre><code>T[n1_loop,n2_loop,n3_loop] = T[n1_loop,n2_loop,n3_loop] +1\n</code></pre>\n"}, {"tags": ["python", "matplotlib-basemap"], "answers": [{"comments": [{"owner": {"reputation": 1160, "user_id": 3826115, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/64deaa69ef71ef12623f3ced55f16d2d?s=128&d=identicon&r=PG&f=1", "display_name": "hm8", "link": "https://stackoverflow.com/users/3826115/hm8"}, "edited": false, "score": 1, "creation_date": 1476480311, "post_id": 40009718, "comment_id": 67380545, "body": "This doesn&#39;t quite give the result I want. Rather then end up with a smooth increase from -180 to 180, it just adds 360 to my numbers after the jump. So I end up with a smooth increase, but it is from ~90 to ~240 degrees....essentially like you took the section of my line plot above after the jump and just raised it up to match with the rest of the line.  So I end up with longitude values &gt;180, which basemap just doesn&#39;t plot."}, {"owner": {"reputation": 27649, "user_id": 5067311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qjltV.png?s=128&g=1", "display_name": "Andras Deak", "link": "https://stackoverflow.com/users/5067311/andras-deak"}, "reply_to_user": {"reputation": 1160, "user_id": 3826115, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/64deaa69ef71ef12623f3ced55f16d2d?s=128&d=identicon&r=PG&f=1", "display_name": "hm8", "link": "https://stackoverflow.com/users/3826115/hm8"}, "edited": false, "score": 0, "creation_date": 1476482621, "post_id": 40009718, "comment_id": 67381328, "body": "@user3826115 yes, that&#39;s what it&#39;s supposed to do. All reasonable representations of angles on a sphere should just wrap around properly, I didn&#39;t know that basemap doesn&#39;t do that:/ In this case you have no other chance than reorder your data cyclically. Brute force option: <code>ind = np.where(np.diff(lon[i,:])&lt;0)[0]+1; lon[i,:] = np.concatenate((lon[i,ind:],lon[i,:ind]))</code>, a cyclic permutation. You can also try what <a href=\"http://matplotlib.org/basemap/api/basemap_api.html#mpl_toolkits.basemap.addcyclic\" rel=\"nofollow noreferrer\"><code>addcyclic</code></a> does, it might be what you need after using unwrap, I didn&#39;t find the docs clear."}], "tags": [], "owner": {"reputation": 27649, "user_id": 5067311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qjltV.png?s=128&g=1", "display_name": "Andras Deak", "link": "https://stackoverflow.com/users/5067311/andras-deak"}, "is_accepted": false, "score": 0, "last_activity_date": 1476313232, "creation_date": 1476313232, "answer_id": 40009718, "question_id": 40009652, "link": "https://stackoverflow.com/questions/40009652/using-python-basemap-pcolormesh-with-non-monotonic-longitude-jumps/40009718#40009718", "title": "Using python Basemap.pcolormesh with non-monotonic longitude jumps", "body": "<p>You could try using <a href=\"http://docs.scipy.org/doc/numpy/reference/generated/numpy.unwrap.html\" rel=\"nofollow\"><code>numpy.unwrap</code></a> to unwrap your data. It was designed exactly for this: to unwrap angular jumps (in radians) that are artifacts due to the way how we use single-valued functions.</p>\n\n<p>You need to convert your longitudes back and forth between degrees and radians for this to work, but the gist is this:</p>\n\n<pre><code>import numpy as np\nlon_unwrapped = np.rad2deg(np.unwrap(np.deg2rad(lon)))\n</code></pre>\n\n<p>This will find those jumps in your data that are larger than 180 degrees, and take their 360-degree complement. Example:</p>\n\n<pre><code>np.rad2deg(np.unwrap(np.deg2rad([150,-150])))\n# array([ 150.,  210.])\n</code></pre>\n\n<p>Additionally, <code>unwrap</code> accepts ndarray data, and you can tell it along which axes to perform the unravelling. By default this is the last dimension, which seems to be fine for your case, where you want to unwrap <code>lon[i,:]</code>.</p>\n"}], "owner": {"reputation": 1160, "user_id": 3826115, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/64deaa69ef71ef12623f3ced55f16d2d?s=128&d=identicon&r=PG&f=1", "display_name": "hm8", "link": "https://stackoverflow.com/users/3826115/hm8"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 420, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1476313232, "creation_date": 1476312815, "question_id": 40009652, "link": "https://stackoverflow.com/questions/40009652/using-python-basemap-pcolormesh-with-non-monotonic-longitude-jumps", "title": "Using python Basemap.pcolormesh with non-monotonic longitude jumps", "body": "<p>I have satellite sweep data that I am attempting to plot on a basemap using pcolormesh.</p>\n\n<p>The data is organized as a 2d matrix, (bTemp), with two corresponding 2D arrays lat and lon, that give the corresponding latitude and longitude at each point. So my plotting code looks like</p>\n\n<pre><code>m = Basemap()\nm.drawcoastlines()\nm.pcolormesh(lon, lat, bTemp)\n</code></pre>\n\n<p>However, this doesn't quite give me the result I am looking for. A large stripe runs across the map.\n<a href=\"https://i.stack.imgur.com/S9unj.png\" rel=\"nofollow\"><img src=\"https://i.stack.imgur.com/S9unj.png\" alt=\"enter image description here\"></a></p>\n\n<p>I think the cause of this is that my longitude increases non-monotonically along a given ray, at the wrap-around point.</p>\n\n<p>Here is a plot of on ray in my longitude array</p>\n\n<pre><code>plot(lon[100,:])\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/Sv1Yq.png\" rel=\"nofollow\"><img src=\"https://i.stack.imgur.com/Sv1Yq.png\" alt=\"enter image description here\"></a></p>\n\n<p>What would the best way to fix this be, so that the pcolormesh plot just jumps to the other side of the map without connecting the two points with a filled in area?</p>\n"}, {"tags": ["python", "syntax-checking"], "comments": [{"owner": {"reputation": 2952, "user_id": 5244995, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CPafo.png?s=128&g=1", "display_name": "Jed Fox", "link": "https://stackoverflow.com/users/5244995/jed-fox"}, "edited": false, "score": 0, "creation_date": 1476312857, "post_id": 40009629, "comment_id": 67297385, "body": "<code>NameError: j is not defined</code> or something when you run it."}, {"owner": {"reputation": 157, "user_id": 6756884, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/3b1e99f24c0aa97021ea46f8993fc63d?s=128&d=identicon&r=PG&f=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/6756884/chris"}, "edited": false, "score": 1, "creation_date": 1476313017, "post_id": 40009629, "comment_id": 67297420, "body": "<code>Line 10: TypeError: unsupported operand type(s) for *: &#39;NoneType&#39; and &#39;int&#39;</code>"}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 3, "creation_date": 1476313020, "post_id": 40009629, "comment_id": 67297422, "body": "This is not a syntax error; this is a run-time semantic error."}, {"owner": {"reputation": 10425, "user_id": 2142055, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fGuXb.png?s=128&g=1", "display_name": "Stop harming Monica", "link": "https://stackoverflow.com/users/2142055/stop-harming-monica"}, "edited": false, "score": 1, "creation_date": 1476313036, "post_id": 40009629, "comment_id": 67297426, "body": "No, your code is syntactically correct so no syntax checker can detect any problems in it."}], "answers": [{"tags": [], "owner": {"reputation": 49388, "user_id": 6779307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p7O3q.jpg?s=128&g=1", "display_name": "Patrick Haugh", "link": "https://stackoverflow.com/users/6779307/patrick-haugh"}, "is_accepted": true, "score": 3, "last_activity_date": 1476313514, "creation_date": 1476313514, "answer_id": 40009755, "question_id": 40009629, "link": "https://stackoverflow.com/questions/40009629/python-syntax-checkers-that-test-edge-cases/40009755#40009755", "title": "Python syntax checkers that test edge cases", "body": "<p>You're looking for a type checker, not a syntax checker.  Here's one attempt to make one: <a href=\"http://mypy-lang.org/\" rel=\"nofollow\">http://mypy-lang.org/</a></p>\n"}, {"tags": [], "owner": {"reputation": 142, "user_id": 1593372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f48d651b35bc54f9befab8b46790741c?s=128&d=identicon&r=PG", "display_name": "Artem Sychov", "link": "https://stackoverflow.com/users/1593372/artem-sychov"}, "is_accepted": false, "score": 1, "last_activity_date": 1476316501, "creation_date": 1476316501, "answer_id": 40010163, "question_id": 40009629, "link": "https://stackoverflow.com/questions/40009629/python-syntax-checkers-that-test-edge-cases/40010163#40010163", "title": "Python syntax checkers that test edge cases", "body": "<p>You need a type checker, not a syntax checker. <a href=\"https://github.com/python/mypy\" rel=\"nofollow\">github.com/python/mypy</a></p>\n"}], "owner": {"reputation": 781, "user_id": 2533394, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/fc25f3819c7ca70c3ec3eedaba802c1c?s=128&d=identicon&r=PG", "display_name": "wizmer", "link": "https://stackoverflow.com/users/2533394/wizmer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 220, "favorite_count": 0, "accepted_answer_id": 40009755, "answer_count": 2, "score": 0, "last_activity_date": 1476316501, "creation_date": 1476312714, "question_id": 40009629, "link": "https://stackoverflow.com/questions/40009629/python-syntax-checkers-that-test-edge-cases", "title": "Python syntax checkers that test edge cases", "body": "<p>Are there syntax checkers able to detect broken code based on edge cases. An example:</p>\n\n<pre><code>def run():\n    for j in [0, 1]:\n        if j == 0:\n            yield j\n        else:\n            yield None\n\n\nfor i in run():\n    print i * 2\n</code></pre>\n\n<p>This code is broken because <code>None * 2</code> does not make sense. Are there tools to detect this kind of error ?</p>\n\n<p>Thank you</p>\n"}, {"tags": ["python", "continuous-integration", "python-import", "importerror", "codeship"], "comments": [{"owner": {"reputation": 659, "user_id": 2096747, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Tsy2J.png?s=128&g=1", "display_name": "Robert Lucian Chiriac", "link": "https://stackoverflow.com/users/2096747/robert-lucian-chiriac"}, "reply_to_user": {"reputation": 570, "user_id": 4256345, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7d83aded81e3d7ccfef87df0506a9f6e?s=128&d=identicon&r=PG&f=1", "display_name": "blurb", "link": "https://stackoverflow.com/users/4256345/blurb"}, "edited": false, "score": 0, "creation_date": 1476316122, "post_id": 40009619, "comment_id": 67298234, "body": "I did include an __ init __.py file in the testing folder. For the moment it gives me another error which refers to an invalid syntax on some imported module.Judging from this I think it works .. I&#39;m still verifying. The syntax error must come from the fact that codeship deploys a python2.7 environment instead of python3."}], "answers": [{"tags": [], "owner": {"reputation": 570, "user_id": 4256345, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7d83aded81e3d7ccfef87df0506a9f6e?s=128&d=identicon&r=PG&f=1", "display_name": "blurb", "link": "https://stackoverflow.com/users/4256345/blurb"}, "is_accepted": false, "score": 0, "last_activity_date": 1476316143, "creation_date": 1476316143, "answer_id": 40010121, "question_id": 40009619, "link": "https://stackoverflow.com/questions/40009619/importing-modules-fails-in-codeship/40010121#40010121", "title": "Importing modules fails in Codeship", "body": "<p>This seems to be a pathing issue.  What seems to be happening on your local machine is you insert into your path your CWD, which is most likely returning as <code>repo_folder\\</code>. from there, you can import your src files via <code>src.src1</code> because src is containe.  On your codeship account, the cwd (current working directory) is not correct, thus is cannot find the <code>src.</code> part of <code>src.src1</code>.  Check what the line <code>sys.path.insert(0, os.path.dirname(os.getcwd()))</code> returns, more importantly <code>os.path.dirname(os.getcwd())</code> and verify that it is leading to <code>repo_folder\\</code></p>\n"}], "owner": {"reputation": 659, "user_id": 2096747, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Tsy2J.png?s=128&g=1", "display_name": "Robert Lucian Chiriac", "link": "https://stackoverflow.com/users/2096747/robert-lucian-chiriac"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 124, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1476316143, "creation_date": 1476312655, "question_id": 40009619, "link": "https://stackoverflow.com/questions/40009619/importing-modules-fails-in-codeship", "title": "Importing modules fails in Codeship", "body": "<p>I have a repository with the following directory structure:</p>\n\n<pre><code>repo_folder\\\n----src\\\n    ----__init__.py\n    ----src1.py\n    ----src2.py\n    ----src3.py\n----testing\\\n    ----specific_test.py\n----requirements.txt\n</code></pre>\n\n<hr>\n\n<p><code>specific_test.py</code> has on it's first lines:</p>\n\n<pre><code>import os\nimport sys\n\nsys.path.insert(0, os.path.dirname(os.getcwd()))\nimport src.src1\nimport src.src2\nimport src.src3\n\n# lots of asserts\n</code></pre>\n\n<hr>\n\n<p>When I run <code>specific_test.py</code> from within <code>testing</code> folder or from <code>repo_folder</code> folder it works, but <strong>only</strong> on my <strong>local machine.</strong></p>\n\n<p>The problem is that when I try to run this from my <code>codeship</code> account, it gives me an <code>Import Error</code>.\nThe error looks like this:</p>\n\n<ul>\n<li><code>ImportError</code> while importing test module </li>\n<li>ERROR collecting <code>testing/specific_test.py</code></li>\n<li>No module named <code>src.src1</code></li>\n<li>Make sure your test modules/packages have valid Python names.</li>\n</ul>\n\n<hr>\n\n<p>Do you know what would the problem be?</p>\n\n<p>Do you have suggestions for better alternatives?</p>\n"}, {"tags": ["python", "pandas"], "answers": [{"comments": [{"owner": {"reputation": 645, "user_id": 3978628, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/1e63fe120318adc5fb902d3905f23926?s=128&d=identicon&r=PG&f=1", "display_name": "Rahul", "link": "https://stackoverflow.com/users/3978628/rahul"}, "edited": false, "score": 0, "creation_date": 1476401879, "post_id": 40010083, "comment_id": 67342457, "body": "Thanks mate. This is useful"}], "tags": [], "owner": {"reputation": 2719, "user_id": 2028710, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/RsoK4.png?s=128&g=1", "display_name": "Dickster", "link": "https://stackoverflow.com/users/2028710/dickster"}, "is_accepted": false, "score": 0, "last_activity_date": 1476315860, "creation_date": 1476315860, "answer_id": 40010083, "question_id": 40009591, "link": "https://stackoverflow.com/questions/40009591/pandas-dataframe-vwap-calculation-for-custom-duration/40010083#40010083", "title": "Pandas Dataframe VWAP calculation for custom duration", "body": "<p>A merge, groupby, and apply weighted average function.</p>\n\n<p>Migrated your data to code so easy for people to load.</p>\n\n<pre><code>df1 = pd.DataFrame({'Date': {0: '2016-10-11', 1: '2016-10-11', 2: '2016-10-11'}, 'Stock': {0: 'ABC', 1: 'ABC', 2: 'XYZ'}, 'EndTime': {0: '13:06:34.232', 1: '13:04:34.232', 2: '11:24:23.533'}, 'StartTime': {0: '12:00:00.243', 1: '12:02:00.243', 2: '08:02:00.243'}, 'time': {0: '12:00:00', 1: '12:01:00', 2: '12:03:00'}})\ndf2 = pd.DataFrame({'Date': {0: '2016-10-11', 1: '2016-10-11', 2: '2016-10-11', 3: '2016-10-11', 4: '2016-10-11'}, 'Volume': {0: 100, 1: 300, 2: 600, 3: 1500, 4: 200}, 'Price': {0: 10.0, 1: 10.1, 2: 10.4, 3: 5.0999999999999996, 4: 10.1}, 'Stock': {0: 'ABC', 1: 'ABC', 2: 'ABC', 3: 'XYZ', 4: 'XYZ'}, 'time': {0: '12:00:00', 1: '12:01:00', 2: '16:01:00', 3: '12:01:00', 4: '17:01:00'}})\n\nprint df1\nprint df2\n</code></pre>\n\n<p>I am assuming your dataframes are as follows, the question is a little unclear, let me know and we can revise this example so the answer matches the question as desired, the <em>redundant</em> date has in time field I have omitted:</p>\n\n<pre><code>         Date       EndTime     StartTime Stock      time\n0  2016-10-11  13:06:34.232  12:00:00.243   ABC  12:00:00\n1  2016-10-11  13:04:34.232  12:02:00.243   ABC  12:01:00\n2  2016-10-11  11:24:23.533  08:02:00.243   XYZ  12:03:00\n\n         Date  Price Stock  Volume      time\n0  2016-10-11   10.0   ABC     100  12:00:00\n1  2016-10-11   10.1   ABC     300  12:01:00\n2  2016-10-11   10.4   ABC     600  16:01:00\n3  2016-10-11    5.1   XYZ    1500  12:01:00\n4  2016-10-11   10.1   XYZ     200  17:01:00\n\n\n\ndf_merged= df1.merge(df2, on=['Date','Stock']) # Merge \ndf_merged =  df_merged[['StartTime','EndTime','Price','Volume','Stock']] #Filter Columns\n\nWithout Stock Partition:\nprint df_merged.groupby(['StartTime','EndTime']).apply(lambda x: np.average(x['Price'],weights=x['Volume']))\n\nWith Stock Partition:\nprint df_merged.groupby(['StartTime','EndTime','Stock']).apply(lambda x: np.average(x['Price'],weights=x['Volume']))\n</code></pre>\n\n<p>gives:</p>\n\n<pre><code>StartTime     EndTime     \n08:02:00.243  11:24:23.533     5.688235\n12:00:00.243  13:06:34.232    10.270000\n12:02:00.243  13:04:34.232    10.270000\ndtype: float64\n\n\nStartTime     EndTime       Stock\n08:02:00.243  11:24:23.533  XYZ       5.688235\n12:00:00.243  13:06:34.232  ABC      10.270000\n12:02:00.243  13:04:34.232  ABC      10.270000\n</code></pre>\n"}], "owner": {"reputation": 645, "user_id": 3978628, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/1e63fe120318adc5fb902d3905f23926?s=128&d=identicon&r=PG&f=1", "display_name": "Rahul", "link": "https://stackoverflow.com/users/3978628/rahul"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1494, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1476315860, "creation_date": 1476312512, "last_edit_date": 1476315633, "question_id": 40009591, "link": "https://stackoverflow.com/questions/40009591/pandas-dataframe-vwap-calculation-for-custom-duration", "title": "Pandas Dataframe VWAP calculation for custom duration", "body": "<p>I have a slightly unique problem to solve using Pandas Dataframe. I have following two dataframes:</p>\n\n<pre><code>df1\ntime,                  Date,         Stock,  StartTime,      EndTime\n2016-10-11 12:00:00    2016-10-11    ABC     12:00:00.243    13:06:34.232\n2016-10-11 12:01:00    2016-10-11    ABC     12:02:00.243    13:04:34.232\n2016-10-11 12:03:00    2016-10-11    XYZ     08:02:00.243    11:24:23.533\n\ndf2\ntime,                  Date,         Stock,  Price, Volume\n2016-10-11 12:00:00    2016-10-11    ABC     10.0    100\n2016-10-11 12:01:00    2016-10-11    ABC     10.1    300\n...\n2016-10-11 16:01:00    2016-10-11    ABC     10.4    600\n2016-10-11 12:01:00    2016-10-11    XYZ     5.1    1500\n...\n2016-10-11 17:01:00    2016-10-11    XYZ     10.1    200\n...\n</code></pre>\n\n<p>Now for each row in df1, I want to join it to df2 on Date and Stock column such that in df2, I am able to calculate the weighted price of all the rows within StartTime and EndTime in df1.<br></p>\n\n<p>Thanks a lot for your help.<br></p>\n"}, {"tags": ["python", "google-api", "python-requests", "google-oauth"], "answers": [{"comments": [{"owner": {"reputation": 306, "user_id": 3705139, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dX4yi.png?s=128&g=1", "display_name": "ModelHX", "link": "https://stackoverflow.com/users/3705139/modelhx"}, "edited": false, "score": 0, "creation_date": 1476381521, "post_id": 40027453, "comment_id": 67332974, "body": "I&#39;ve tried this, but with no success; I&#39;m still receiving the same error message."}, {"owner": {"reputation": 358, "user_id": 2131578, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/eb9c0e3133de45129d7716d56c71f565?s=128&d=identicon&r=PG", "display_name": "Sayali", "link": "https://stackoverflow.com/users/2131578/sayali"}, "reply_to_user": {"reputation": 306, "user_id": 3705139, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dX4yi.png?s=128&g=1", "display_name": "ModelHX", "link": "https://stackoverflow.com/users/3705139/modelhx"}, "edited": false, "score": 0, "creation_date": 1476463798, "post_id": 40027453, "comment_id": 67372520, "body": "Did you add the grant_type as a part of the header and not as payload?"}, {"owner": {"reputation": 306, "user_id": 3705139, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dX4yi.png?s=128&g=1", "display_name": "ModelHX", "link": "https://stackoverflow.com/users/3705139/modelhx"}, "edited": false, "score": 0, "creation_date": 1476465568, "post_id": 40027453, "comment_id": 67373420, "body": "Posting with <code>grant_type</code> in the payload and in the header (and changed to <code>authorisation_code</code> gives the same error message as above; posting with <code>grant_type</code> in only the header gives the error message <code>{&#39;error_uri&#39;: &#39;&#39;, &#39;error_description&#39;: &#39;Required parameter is missing: grant_type&#39;, &#39;error&#39;: &#39;invalid_request&#39;}</code>"}, {"owner": {"reputation": 358, "user_id": 2131578, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/eb9c0e3133de45129d7716d56c71f565?s=128&d=identicon&r=PG", "display_name": "Sayali", "link": "https://stackoverflow.com/users/2131578/sayali"}, "reply_to_user": {"reputation": 306, "user_id": 3705139, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dX4yi.png?s=128&g=1", "display_name": "ModelHX", "link": "https://stackoverflow.com/users/3705139/modelhx"}, "edited": false, "score": 1, "creation_date": 1476503909, "post_id": 40027453, "comment_id": 67385136, "body": "Try using a REST client to send the request first just to verify if it works."}], "tags": [], "owner": {"reputation": 358, "user_id": 2131578, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/eb9c0e3133de45129d7716d56c71f565?s=128&d=identicon&r=PG", "display_name": "Sayali", "link": "https://stackoverflow.com/users/2131578/sayali"}, "is_accepted": false, "score": 0, "last_activity_date": 1476379959, "last_edit_date": 1495542184, "creation_date": 1476379959, "answer_id": 40027453, "question_id": 40009577, "link": "https://stackoverflow.com/questions/40009577/google-service-account-access-token-request-required-parameter-is-missing-gra/40027453#40027453", "title": "Google service account access token request: &quot;Required parameter is missing: grant_type&quot;", "body": "<p>Try \"grant_type\": \"authorization_code\".  And add grant type as header.</p>\n\n<p>Also, check this link - <a href=\"https://stackoverflow.com/questions/32919099/accessing-google-oauth-giving-invalid-grant-type-bad-request?rq=1\">Accessing Google oAuth giving invalid grant_type (Bad request)</a></p>\n"}], "owner": {"reputation": 306, "user_id": 3705139, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dX4yi.png?s=128&g=1", "display_name": "ModelHX", "link": "https://stackoverflow.com/users/3705139/modelhx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 674, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1476723856, "creation_date": 1476312424, "last_edit_date": 1476723856, "question_id": 40009577, "link": "https://stackoverflow.com/questions/40009577/google-service-account-access-token-request-required-parameter-is-missing-gra", "title": "Google service account access token request: &quot;Required parameter is missing: grant_type&quot;", "body": "<p><strong>UPDATE:</strong> Solved. I was indeed making a basic mistake, among other things. My usage of the <code>session.headers.update</code> function was incorrect; instead of <code>session.headers.update = {foo:bar}</code>, I needed to be doing <code>session.headers.update({foo:bar})</code>. Additionally, I changed the following section of code:</p>\n\n<p>From this:</p>\n\n<pre><code>payload = urllib.parse.urlencode({\n    \"grant_type\":\"urn:ietf:params:oauth:grant-type:jwt-bearer\", \n    \"assertion\": str(token)\n})\n</code></pre>\n\n<p>To this:</p>\n\n<pre><code>    payload = \"grant_type=urn%3Aietf%3Aparams%3Aoauth%3Agrant-type%3Ajwt-bearer&amp;assertion=\" + token.decode(\"utf-8\")\n</code></pre>\n\n<p>The code now works as intended.</p>\n\n<hr>\n\n<p><strong>Original question below</strong></p>\n\n<p>I've seen several hits on SO and Google about this problem; none of them have helped, although I've certainly made sure to double-check my code to make sure I'm not guilty of the same problems they detail. The problems people tend to have involve passing the POST data as parameters or POSTing to the wrong URL, which I'm not doing, as far as I can tell. Additionally, most of the hits I've found involve 3-legged OAuth2 involving users; I've found comparatively few hits pertaining to service accounts and JWTs, which differ enough from the user flow that I'm concerned about how relevant they are to my problem.</p>\n\n<hr>\n\n<p>I'm trying to get an access token from the Google Authentication server for a service account. I've generated my JWT and now want to POST to the server to receive back my access token. I've set the headers according to the documentation described <a href=\"https://developers.google.com/identity/protocols/OAuth2ServiceAccount\" rel=\"nofollow\">here</a>, under \"Making the access token request,\" and as far as I can tell, my request is up to spec, but Google responds back with a 400 response, and the following JSON:</p>\n\n<pre><code>{'error': 'invalid_request', 'error_description': 'Required parameter is missing: grant_type'}\n</code></pre>\n\n<p>Here's the code causing the problem:</p>\n\n<pre><code># Returns the session, now with the Host and Authorization headers set.\ndef gAuthenticate(session):\n    token = createJWT()\n    session.headers.update = {\n        \"Host\": \"www.googleapis.com\", \n        \"Content-Type\": \"application/x-www-form-urlencoded\"\n    }\n    payload = urllib.parse.urlencode({\n        \"grant_type\":\"urn:ietf:params:oauth:grant-type:jwt-bearer\", \n        \"assertion\": str(token)\n    })\n    response = session.post(\"https://www.googleapis.com/oauth2/v4/token\", data = payload)\n\n    session.headers.update = {\"Authorization\": \"Bearer \" + response.json()[\"access_token\"]} \n    return session\n</code></pre>\n\n<p>I'm having a lot of strange issues with this code. First of all, if I don't <code>urllib.parse.urlencode</code> my dictionary (i.e. simply <code>payload = {dictionary}</code>), I get only a <code>Bad Request / 'invalid_request'</code> error, which I assume from the less specific error message means that this is less acceptable than what I'm currently doing. Why do I have to do this? Isn't Requests supposed to encode my data for me? I've never had this problem when POSTing with Requests before.</p>\n\n<p>Second, examining the prepared request before it's sent reveals that my headers aren't being correctly set, despite the header update. Neither of the headers I've added to the request are being transmitted. </p>\n\n<p>I've examined the request body and it looks to be identical (except of course the content of the JWT) to the one that Google provides as an example in the documentation.</p>\n\n<p>All of this leads me to believe that I'm making a very basic error somewhere, but I haven't had any success finding it. What am I doing wrong here? Links to any helpful documentation would be extremely appreciated; thanks for your time and attention.</p>\n"}, {"tags": ["python", "pandas", "dataframe"], "answers": [{"comments": [{"owner": {"reputation": 1329, "user_id": 1355984, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de92e6470a16fd7f9b7f23a575eae105?s=128&d=identicon&r=PG", "display_name": "Michael Griffiths", "link": "https://stackoverflow.com/users/1355984/michael-griffiths"}, "edited": false, "score": 1, "creation_date": 1476312957, "post_id": 40009647, "comment_id": 67297403, "body": "You can name the columns as well, e.g. <code>df.LastName.str.extract(r&quot;(?P&lt;LastName&gt;\\w+)\\s?(?P&lt;Generation&zwnj;&#8203;&gt;Jr|Sr?)&quot;, expand = True)</code>"}], "tags": [], "owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "is_accepted": false, "score": 3, "last_activity_date": 1476313004, "last_edit_date": 1476313004, "creation_date": 1476312785, "answer_id": 40009647, "question_id": 40009553, "link": "https://stackoverflow.com/questions/40009553/in-pandas-set-a-new-column-and-update-existing-column/40009647#40009647", "title": "In pandas, set a new column and update existing column", "body": "<p>You can use <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.Series.str.extract.html\" rel=\"nofollow\">.str.extract()</a> method:</p>\n\n<pre><code>In [19]: df2 = df.LastName.str.extract(r'(?P&lt;LastName&gt;\\w+)\\s?(?P&lt;Generation&gt;Jr|Sr)?', expand=True)\n\nIn [20]: df2\nOut[20]:\n  LastName Generation\n0    Jones         Jr\n1    Smith        NaN\n</code></pre>\n"}], "owner": {"reputation": 7046, "user_id": 854739, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/61af09414341715d110f08b7505fe114?s=128&d=identicon&r=PG", "display_name": "mikebmassey", "link": "https://stackoverflow.com/users/854739/mikebmassey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 181, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1476314095, "creation_date": 1476312296, "last_edit_date": 1476314095, "question_id": 40009553, "link": "https://stackoverflow.com/questions/40009553/in-pandas-set-a-new-column-and-update-existing-column", "title": "In pandas, set a new column and update existing column", "body": "<p>In a <code>pandas</code> dataframe, I have a last name field that looks like</p>\n\n<pre><code>df = pd.DataFrame(['Jones Jr', 'Smith'], columns=['LastName'])\n</code></pre>\n\n<p>I am trying to set a new column named 'Generation', while stripping out the Generation for the last name, so the outcome would look like this:</p>\n\n<pre><code>df2 = pd.DataFrame([('Jones', 'Jr'), ('Smith', '')], columns=['LastName', 'Generation'])\n</code></pre>\n\n<p>I could set the Generation column then go back and remove the Generation from the last name:</p>\n\n<pre><code>df.loc[df['LastName'].str[-3:] == ' Jr', 'Generation'] = 'Jr'\ndf.loc[df['LastName'].str[-3:] == ' Jr', 'LastName'] = df['LastName'].str[:-3]\n</code></pre>\n\n<p>However, that's two steps and it seems like performing an update in one swoop would be best. </p>\n\n<p>I thought about apply, but it's an apply to two columns where matching X and I couldn't find anything close to that.  </p>\n"}, {"tags": ["python", "coordinates", "netcdf"], "comments": [{"owner": {"reputation": 2972, "user_id": 1951065, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/0248f7bae0b87311ebabc3f6c51b2154?s=128&d=identicon&r=PG", "display_name": "cd98", "link": "https://stackoverflow.com/users/1951065/cd98"}, "edited": false, "score": 1, "creation_date": 1476313812, "post_id": 40009528, "comment_id": 67297634, "body": "show us what <code>lons</code> and <code>lats</code> look like and what are their types. Even better: gives us an example that we can run in our computers and the expected output."}, {"owner": {"reputation": 337, "user_id": 6610946, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/116d123d9bd9b2c1ac5b76f896df6775?s=128&d=identicon&r=PG&f=1", "display_name": "pwprnt", "link": "https://stackoverflow.com/users/6610946/pwprnt"}, "reply_to_user": {"reputation": 2972, "user_id": 1951065, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/0248f7bae0b87311ebabc3f6c51b2154?s=128&d=identicon&r=PG", "display_name": "cd98", "link": "https://stackoverflow.com/users/1951065/cd98"}, "edited": false, "score": 0, "creation_date": 1476314880, "post_id": 40009528, "comment_id": 67297880, "body": "@cd98 I&#39;m not sure what you mean by an example, but maybe I wasn&#39;t clear enough in my question.  The sel_lat, sel_lon values are given above, and those are the coordinates I need to find the nearest corresponding indices for on the grid from the &#39;coords.nc&#39; file.    The lons.shape = (93,83) and same with the lats.shape.  And so that means the latLon_pairsGrid I made is a (93,83,2).  I hope this is clear enough, I&#39;m not sure what else to add"}, {"owner": {"reputation": 3184, "user_id": 447599, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/16869820699afa8b6b6d358e9234f1d7?s=128&d=identicon&r=PG", "display_name": "Jules G.M.", "link": "https://stackoverflow.com/users/447599/jules-g-m"}, "edited": false, "score": 0, "creation_date": 1476315412, "post_id": 40009528, "comment_id": 67298017, "body": "&quot;does not have the format it wants&quot; can you print the error please"}, {"owner": {"reputation": 3184, "user_id": 447599, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/16869820699afa8b6b6d358e9234f1d7?s=128&d=identicon&r=PG", "display_name": "Jules G.M.", "link": "https://stackoverflow.com/users/447599/jules-g-m"}, "edited": false, "score": 0, "creation_date": 1476315486, "post_id": 40009528, "comment_id": 67298039, "body": "also can you try to do <code>lats.T.as_matrix()</code> and <code>lons.T.as_matrix()</code> to your arrays inside of the np.vstack to convert them to pure numpy arrays instead of pandas stuff"}, {"owner": {"reputation": 337, "user_id": 6610946, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/116d123d9bd9b2c1ac5b76f896df6775?s=128&d=identicon&r=PG&f=1", "display_name": "pwprnt", "link": "https://stackoverflow.com/users/6610946/pwprnt"}, "reply_to_user": {"reputation": 3184, "user_id": 447599, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/16869820699afa8b6b6d358e9234f1d7?s=128&d=identicon&r=PG", "display_name": "Jules G.M.", "link": "https://stackoverflow.com/users/447599/jules-g-m"}, "edited": false, "score": 0, "creation_date": 1476316191, "post_id": 40009528, "comment_id": 67298257, "body": "@Julius I&#39;m not using pandas, when I do lats.T.as_matrix() it gives the error `   &gt;&gt;&gt; lats.T.as_matrix() Traceback (most recent call last):   File &quot;&lt;stdin&gt;&quot;, line 1, in &lt;module&gt; AttributeError: &#39;numpy.ndarray&#39; object has no attribute &#39;as_matrix&#39; `  For the error received in the distance.cdist command in the last line of my question it returns:  ` 2027, in cdist     raise ValueError(&#39;XA must be a 2-dimensional array.&#39;) `"}, {"owner": {"reputation": 337, "user_id": 6610946, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/116d123d9bd9b2c1ac5b76f896df6775?s=128&d=identicon&r=PG&f=1", "display_name": "pwprnt", "link": "https://stackoverflow.com/users/6610946/pwprnt"}, "edited": false, "score": 0, "creation_date": 1476316273, "post_id": 40009528, "comment_id": 67298281, "body": "Maybe this helps: &gt;&gt;&gt; latLon_pairsGrid array([[[  55.90655136, -168.12886047],         [  55.95423126, -167.83164978],         [  56.00105667, -167.53356934],         ...,          [  73.11053467, -133.51173401],         [  73.05083466, -132.90879822],         [  72.98931122, -132.31021118]]], dtype=float32) &gt;&gt;&gt;"}, {"owner": {"reputation": 2927, "user_id": 1103901, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/09dec0737b1899b0ed3226671220af58?s=128&d=identicon&r=PG", "display_name": "N1B4", "link": "https://stackoverflow.com/users/1103901/n1b4"}, "edited": false, "score": 0, "creation_date": 1476370240, "post_id": 40009528, "comment_id": 67325810, "body": "This may help: <a href=\"http://stackoverflow.com/questions/33789379/netcdf-and-python-finding-the-closest-lon-lat-index-given-actual-lon-lat-values/33792778#33792778\" title=\"netcdf and python finding the closest lon lat index given actual lon lat values\">stackoverflow.com/questions/33789379/&hellip;</a>"}, {"owner": {"reputation": 2972, "user_id": 1951065, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/0248f7bae0b87311ebabc3f6c51b2154?s=128&d=identicon&r=PG", "display_name": "cd98", "link": "https://stackoverflow.com/users/1951065/cd98"}, "edited": false, "score": 0, "creation_date": 1476744772, "post_id": 40009528, "comment_id": 67466480, "body": "@pwprnt I think you got an answer already, but by example I mean (hopefully) a reproducible example. Construct (maybe by taking the first few rows of lons and lats) two matrices lons and lats, paste them here and then we can easily run your code in our computers. You&#39;ll get much better answers and people that see your question later can experiment by themselves too!"}], "answers": [{"comments": [{"owner": {"reputation": 2624, "user_id": 112699, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6f2120457867e358c347a979ed5be6bc?s=128&d=identicon&r=PG", "display_name": "Brian Hawkins", "link": "https://stackoverflow.com/users/112699/brian-hawkins"}, "edited": false, "score": 0, "creation_date": 1494350698, "post_id": 40010836, "comment_id": 74787314, "body": "You&#39;re minimizing an L1 metric, also called <a href=\"https://en.wikipedia.org/wiki/Taxicab_geometry\" rel=\"nofollow noreferrer\">Manhattan distance</a>, which is not totally unreasonable and cheaper to compute than the usual L2 metric <code>a=sqrt(dx**2+dy**2)</code>.  And like you said, you&#39;re computing distance in the lat/lon domain, not geodesic or Cartesian distances, which would require coordinate transformations. If you&#39;re going to query multiple points and speed is an issue, definitely check out @Funkensieper&#39;s answer or other tree-based approaches."}], "tags": [], "owner": {"reputation": 337, "user_id": 6610946, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/116d123d9bd9b2c1ac5b76f896df6775?s=128&d=identicon&r=PG&f=1", "display_name": "pwprnt", "link": "https://stackoverflow.com/users/6610946/pwprnt"}, "is_accepted": false, "score": 1, "last_activity_date": 1476321883, "last_edit_date": 1495540962, "creation_date": 1476321883, "answer_id": 40010836, "question_id": 40009528, "link": "https://stackoverflow.com/questions/40009528/find-indices-of-lat-lon-point-on-a-grid-using-python/40010836#40010836", "title": "find indices of lat lon point on a grid using python", "body": "<p>I think I found an answer, but it is a workaround that avoids calculating distance between the chosen lat/lon and the lat/lons on the grid.  This doesn't seem completely accurate because I am never calculating distances, just the closest difference between lat/lon values themselves.</p>\n\n<p>I used the answer to the question <a href=\"https://stackoverflow.com/questions/28006077/find-i-j-location-of-closest-long-lat-values-in-a-2d-array\">find (i,j) location of closest (long,lat) values in a 2D array</a></p>\n\n<pre><code>a = abs(lats-sel_lat)+abs(lons-sel_lon)\ni,j = np.unravel_index(a.argmin(),a.shape)\n</code></pre>\n\n<p>Using those returned indices i,j, I can then find on the grid the coordinates that correspond most closely to my selected lat, lon value:</p>\n\n<pre><code>&gt;&gt;&gt; lats[i,j]\n71.490295\n&gt;&gt;&gt; lons[i,j]\n-161.65045\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 844, "user_id": 5703449, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a7ba4d65fb7627afc5b41d1b4273ef3a?s=128&d=identicon&r=PG&f=1", "display_name": "sfinkens", "link": "https://stackoverflow.com/users/5703449/sfinkens"}, "is_accepted": false, "score": 2, "last_activity_date": 1476452154, "creation_date": 1476452154, "answer_id": 40044540, "question_id": 40009528, "link": "https://stackoverflow.com/questions/40009528/find-indices-of-lat-lon-point-on-a-grid-using-python/40044540#40044540", "title": "find indices of lat lon point on a grid using python", "body": "<p>Checkout the <a href=\"http://pyresample.readthedocs.io\" rel=\"nofollow\">pyresample</a> package. It provides spatial nearest neighbour search using a fast kdtree approach:</p>\n\n<pre><code>import pyresample\nimport numpy as np\n\n# Define lat-lon grid\nlon = np.linspace(30, 40, 100)\nlat = np.linspace(10, 20, 100)\nlon_grid, lat_grid = np.meshgrid(lon, lat)\ngrid = pyresample.geometry.GridDefinition(lats=lat_grid, lons=lon_grid)\n\n# Generate some random data on the grid\ndata_grid = np.random.rand(lon_grid.shape[0], lon_grid.shape[1])\n\n# Define some sample points\nmy_lons = np.array([34.5, 36.5, 38.5])\nmy_lats = np.array([12.0, 14.0, 16.0])\nswath = pyresample.geometry.SwathDefinition(lons=my_lons, lats=my_lats)\n\n# Determine nearest (w.r.t. great circle distance) neighbour in the grid.\n_, _, index_array, distance_array = pyresample.kd_tree.get_neighbour_info(\n    source_geo_def=grid, target_geo_def=swath, radius_of_influence=50000,\n    neighbours=1)\n\n# get_neighbour_info() returns indices in the flattened lat/lon grid. Compute\n# the 2D grid indices:\nindex_array_2d = np.unravel_index(index_array, grid.shape)\n\nprint \"Indices of nearest neighbours:\", index_array_2d\nprint \"Longitude of nearest neighbours:\", lon_grid[index_array_2d]\nprint \"Latitude of nearest neighbours:\", lat_grid[index_array_2d]\nprint \"Great Circle Distance:\", distance_array\n</code></pre>\n\n<p>There is also a shorthand method for directly obtaining the data values at the nearest grid points:</p>\n\n<pre><code>data_swath = pyresample.kd_tree.resample_nearest(\n    source_geo_def=grid, target_geo_def=swath, data=data_grid,\n    radius_of_influence=50000)\nprint \"Data at nearest grid points:\", data_swath\n</code></pre>\n"}], "owner": {"reputation": 337, "user_id": 6610946, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/116d123d9bd9b2c1ac5b76f896df6775?s=128&d=identicon&r=PG&f=1", "display_name": "pwprnt", "link": "https://stackoverflow.com/users/6610946/pwprnt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5466, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1476452154, "creation_date": 1476312042, "last_edit_date": 1476317422, "question_id": 40009528, "link": "https://stackoverflow.com/questions/40009528/find-indices-of-lat-lon-point-on-a-grid-using-python", "title": "find indices of lat lon point on a grid using python", "body": "<p>I am new to python, and I can't figure out how to find the minimum distance from a given lat/lon point (which is not given from the grid, but selected by me) to a find the closest indices of a lat/lon point on a grid.</p>\n\n<p>Basically , I am reading in an ncfile that contains 2D coordinates:</p>\n\n<pre><code>coords = 'coords.nc'\nfh = Dataset(coords,mode='r')\nlons = fh.variables['latitudes'][:,:]\nlats = fh.variables['longitudes'][:,:]\nfh.close()\n\n&gt;&gt;&gt; lons.shape\n(94, 83)\n&gt;&gt;&gt; lats.shape\n(94, 83)\n</code></pre>\n\n<p>I want to find the indices in the above grid for the nearest lat lon to the below values:    </p>\n\n<pre><code>sel_lat=71.60556\nsel_lon=-161.458611\n</code></pre>\n\n<p>I tried to make lat/lon pairs in order to use the scipy.spatial.distance function, but I still am having problems because I did not set up the input arrays to the format it wants, but I don't understand how to do that:</p>\n\n<pre><code>latLon_pairsGrid = np.vstack(([lats.T],[lons.T])).T\n\n&gt;&gt;&gt; latLon_pairsGrid.shape\n(94, 83, 2)\n\ndistance.cdist([sel_lat,sel_lon],latLon_pairsGrid,'euclidean')\n</code></pre>\n\n<p>Any help or hints would be appreciated</p>\n"}, {"tags": ["python", "timing", "benchmarking"], "answers": [{"tags": [], "owner": {"reputation": 2391, "user_id": 6764079, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/mUwmx.png?s=128&g=1", "display_name": "Juggernaut", "link": "https://stackoverflow.com/users/6764079/juggernaut"}, "is_accepted": false, "score": 0, "last_activity_date": 1476312217, "creation_date": 1476312217, "answer_id": 40009545, "question_id": 40009520, "link": "https://stackoverflow.com/questions/40009520/timing-blocks-of-code-python/40009545#40009545", "title": "Timing blocks of code - Python", "body": "<p>use <code>python -m cProfile myscript.py</code> It provides a full log about time consumption of methods.</p>\n"}, {"tags": [], "owner": {"reputation": 377, "user_id": 4199141, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-_jGxyF86jpQ/AAAAAAAAAAI/AAAAAAAAAX0/r1vbGgE85DM/photo.jpg?sz=128", "display_name": "John Griffin", "link": "https://stackoverflow.com/users/4199141/john-griffin"}, "is_accepted": false, "score": 1, "last_activity_date": 1476312665, "creation_date": 1476312665, "answer_id": 40009620, "question_id": 40009520, "link": "https://stackoverflow.com/questions/40009520/timing-blocks-of-code-python/40009620#40009620", "title": "Timing blocks of code - Python", "body": "<p>If you use IPython, and it's a good thing to do, and you can construct your code to be a single line, i.e. a function call:</p>\n\n<pre><code>%timeit your-code\n</code></pre>\n\n<p>It's been handy for me.  Hope it helps.</p>\n"}, {"tags": [], "owner": {"reputation": 8167, "user_id": 3734244, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/y1UTF.png?s=128&g=1", "display_name": "danidee", "link": "https://stackoverflow.com/users/3734244/danidee"}, "is_accepted": false, "score": 7, "last_activity_date": 1476312676, "creation_date": 1476312676, "answer_id": 40009625, "question_id": 40009520, "link": "https://stackoverflow.com/questions/40009520/timing-blocks-of-code-python/40009625#40009625", "title": "Timing blocks of code - Python", "body": "<p>This would be a good use of a decorator. You could write a decorator that does that like this</p>\n\n<pre><code>import time\n\ndef timer(func):\n    def wrapper(*args, **kwargs):\n        start = time.time()\n        func(*args, **kwargs)\n\n        print('The function ran for', time.time() - start)\n    return wrapper\n\n\n@timer\ndef just_sleep():\n    time.sleep(5)\n\njust_sleep()\n</code></pre>\n\n<p>Output</p>\n\n<pre><code>The function ran for 5.0050904750823975\n</code></pre>\n\n<p>and then you can decorate any function you want to time with <code>@timer</code> and you can also do some other fancy things inside the decorator. Like if the function ran for more than 15 seconds do something...else do another thing</p>\n\n<p><strong>Note: This is not the most accurate way to measure execution time of a function in python</strong></p>\n"}, {"tags": [], "owner": {"reputation": 55248, "user_id": 642070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c280b71b3187d1cc113a6e302b414b9?s=128&d=identicon&r=PG", "display_name": "tdelaney", "link": "https://stackoverflow.com/users/642070/tdelaney"}, "is_accepted": false, "score": 5, "last_activity_date": 1590675655, "last_edit_date": 1590675655, "creation_date": 1476312724, "answer_id": 40009631, "question_id": 40009520, "link": "https://stackoverflow.com/questions/40009520/timing-blocks-of-code-python/40009631#40009631", "title": "Timing blocks of code - Python", "body": "<p>You can build your own context manager to time relatively long bits of code.</p>\n\n<pre><code>import time\n\nclass MyTimer(object):\n\n    def __enter__(self):\n        self.start = time.clock()\n        return self\n\n    def __exit__(self, typ, value, traceback):\n        self.duration = time.clock() - self.start\n\nwith MyTimer() as timer:\n    time.sleep(3)\nprint(timer.duration)\n</code></pre>\n\n<p>But be careful about what you are measuring. On Linux <code>time.clock</code> is cpu run time, but on Windows (where cpu run time is not easily available) it is a wall-clock.</p>\n"}], "owner": {"reputation": 439, "user_id": 5175044, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/1V440.jpg?s=128&g=1", "display_name": "tulians", "link": "https://stackoverflow.com/users/5175044/tulians"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3165, "favorite_count": 0, "closed_date": 1476315716, "answer_count": 4, "score": 1, "last_activity_date": 1590675655, "creation_date": 1476311986, "last_edit_date": 1477342759, "question_id": 40009520, "link": "https://stackoverflow.com/questions/40009520/timing-blocks-of-code-python", "closed_reason": "Duplicate", "title": "Timing blocks of code - Python", "body": "<p>I'm trying to measure the time it takes to run a block of instructions in Python, but I don't want to write things like:</p>\n\n<pre><code>start = time.clock()\n...\n&lt;lines of code&gt;\n...\ntime_elapsed = time.clock() - start\n</code></pre>\n\n<p>Instead, I want to know if there is a way I can send the block of instructions as a parameter to a function that returns the elapsed time, like</p>\n\n<pre><code>time_elapsed = time_it_takes(&lt;lines of code&gt;)\n</code></pre>\n\n<p>The implementation of this method could be something like</p>\n\n<pre><code>def time_it_takes(&lt;lines of code&gt;):\n  start = time.clock()\n  result = &lt;lines of code&gt;\n  return (result, time.clock() - start)\n</code></pre>\n\n<p>Does anybody know if there is some way I can do this? Thanks in advance.</p>\n"}, {"tags": ["python", "api", "python-requests"], "answers": [{"tags": [], "owner": {"reputation": 154, "user_id": 2077548, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c45189f8cba5ee7b77ef65e7b76d7ad?s=128&d=identicon&r=PG", "display_name": "Joseph LeClerc", "link": "https://stackoverflow.com/users/2077548/joseph-leclerc"}, "is_accepted": true, "score": 0, "last_activity_date": 1476313776, "creation_date": 1476313776, "answer_id": 40009792, "question_id": 40009499, "link": "https://stackoverflow.com/questions/40009499/requests-gateway-timeout/40009792#40009792", "title": "requests - Gateway Timeout", "body": "<p>\"504, try once more. 502, it went through.\"</p>\n\n<p>Your code is fine, this is a network issue. \"Gateway Timeout\" is a 504. The intermediate host handling your request was unable to complete it. It made its own request to another server on your behalf in order to handle yours, but this request took too long and timed out. Usually this is because of network congestion in the backend; if you try a few more times, does it sometimes work?</p>\n\n<p>In any case, I would talk to your network administrator. There could be any number of reasons for this and they should be able to help fix it for you.</p>\n"}], "owner": {"reputation": 7995, "user_id": 3451339, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/HPuzK.png?s=128&g=1", "display_name": "8-Bit Borges", "link": "https://stackoverflow.com/users/3451339/8-bit-borges"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1648, "favorite_count": 0, "accepted_answer_id": 40009792, "answer_count": 1, "score": 1, "last_activity_date": 1476313776, "creation_date": 1476311829, "question_id": 40009499, "link": "https://stackoverflow.com/questions/40009499/requests-gateway-timeout", "title": "requests - Gateway Timeout", "body": "<p>this is a test script to request data from <code>Rovi API</code>, provided by the <code>API</code> itself.</p>\n\n<p><strong>test.py</strong></p>\n\n<pre><code>import requests \nimport time\nimport hashlib\nimport urllib\n\nclass AllMusicGuide(object):\n    api_url = 'http://api.rovicorp.com/data/v1.1/descriptor/musicmoods'\n\n    key = 'my key'\n    secret = 'secret'\n\n    def _sig(self):\n        timestamp = int(time.time())\n\n        m = hashlib.md5()\n        m.update(self.key)\n        m.update(self.secret)\n        m.update(str(timestamp))\n\n        return m.hexdigest()\n\n    def get(self, resource, params=None):\n        \"\"\"Take a dict of params, and return what we get from the api\"\"\"\n\n        if not params:\n            params = {}\n\n        params = urllib.urlencode(params)\n\n        sig = self._sig()\n\n        url = \"%s/%s?apikey=%s&amp;sig=%s&amp;%s\" % (self.api_url, resource, self.key, sig, params)\n\n        resp = requests.get(url)\n\n        if resp.status_code != 200:         \n            # THROW APPROPRIATE ERROR\n                print ('unknown err')\n\n        return resp.content\n</code></pre>\n\n<p>from another <code>script</code> I import the <code>module</code>:</p>\n\n<pre><code>from roviclient.test import AllMusicGuide\n</code></pre>\n\n<p>and create an instance of the <code>class</code> inside a <code>mood function</code>:</p>\n\n<pre><code>def mood():\n    test = AllMusicGuide()\n    print (test.get('[moodids=moodids]'))\n</code></pre>\n\n<p>according to <a href=\"http://developer.rovicorp.com/docs\" rel=\"nofollow\">documentation</a>, the following is the <code>syntax</code> for requests:</p>\n\n<pre><code>descriptor/musicmoods?apikey=apikey&amp;sig=sig\u2009[&amp;moodids=moodids]\u2009[&amp;format=format]\u2009[&amp;country=country]\u2009[&amp;language=language]\n</code></pre>\n\n<p>but running the script I get the following error:</p>\n\n<p><code>unknown err\n&lt;h1&gt;Gateway Timeout&lt;/h1&gt;:</code></p>\n\n<p>what is wrong?</p>\n"}, {"tags": ["python", "html", "python-2.7", "pandas", "dataframe"], "answers": [{"comments": [{"owner": {"reputation": 4020, "user_id": 5082463, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/877843e34372342a80c73f38ee79ad60?s=128&d=identicon&r=PG&f=1", "display_name": "KcFnMi", "link": "https://stackoverflow.com/users/5082463/kcfnmi"}, "edited": false, "score": 1, "creation_date": 1476319116, "post_id": 40009594, "comment_id": 67298959, "body": "The <code>position: fixed; </code> does something. But it stays on top of the first content line. And, when I scroll left/right the head stays, I want it to move left/right together with the rest of the table. Would you mind to provide a full example?"}, {"owner": {"reputation": 117, "user_id": 6945703, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/hD39b.png?s=128&g=1", "display_name": "Dove Man", "link": "https://stackoverflow.com/users/6945703/dove-man"}, "reply_to_user": {"reputation": 4020, "user_id": 5082463, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/877843e34372342a80c73f38ee79ad60?s=128&d=identicon&r=PG&f=1", "display_name": "KcFnMi", "link": "https://stackoverflow.com/users/5082463/kcfnmi"}, "edited": false, "score": 0, "creation_date": 1476322031, "post_id": 40009594, "comment_id": 67299630, "body": "Can you provide a link to the project or JsFiddle? It would help to have a visual."}], "tags": [], "owner": {"reputation": 117, "user_id": 6945703, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/hD39b.png?s=128&g=1", "display_name": "Dove Man", "link": "https://stackoverflow.com/users/6945703/dove-man"}, "is_accepted": true, "score": 1, "last_activity_date": 1476312533, "creation_date": 1476312533, "answer_id": 40009594, "question_id": 40009461, "link": "https://stackoverflow.com/questions/40009461/html-table-header-locked-to-the-top-of-the-page-even-when-scrolling-down/40009594#40009594", "title": "html table header locked to the top of the page even when scrolling down", "body": "<p>Is this what you need?</p>\n\n<pre><code>#NAME HERE{ \nposition: fixed; \n{\n</code></pre>\n\n<p>You can also do the width ect with this code...</p>\n\n<pre><code> #NAME HERE{ \n position: fixed; \n bottom:0px; \n right: 0; \n width: 0px; \n height: 0px;\n }\n</code></pre>\n\n<p>Also, if you want the width to span across the page just change the 0px to 100% Also depending on what you want, change \" fixed \" to \" absolute \"</p>\n"}], "owner": {"reputation": 4020, "user_id": 5082463, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/877843e34372342a80c73f38ee79ad60?s=128&d=identicon&r=PG&f=1", "display_name": "KcFnMi", "link": "https://stackoverflow.com/users/5082463/kcfnmi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 677, "favorite_count": 0, "accepted_answer_id": 40009594, "answer_count": 1, "score": 3, "last_activity_date": 1476312533, "creation_date": 1476311618, "question_id": 40009461, "link": "https://stackoverflow.com/questions/40009461/html-table-header-locked-to-the-top-of-the-page-even-when-scrolling-down", "title": "html table header locked to the top of the page even when scrolling down", "body": "<p>I've used both <code>to_html()</code> and <code>style.render()</code> of Pandas DataFrame to generate html page from CSV data. It's cool!</p>\n\n<p>But when I scroll the page down I lose sight of the column names, that's the problem.</p>\n\n<p>Is there some way of hanging it up on the top of the page?</p>\n"}, {"tags": ["python", "python-2.7", "docker", "docker-compose", "dockerfile"], "comments": [{"owner": {"reputation": 2687, "user_id": 91714, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/1c147075cb809d0e3853cb0e77398fc7?s=128&d=identicon&r=PG", "display_name": "Boris Modylevsky", "link": "https://stackoverflow.com/users/91714/boris-modylevsky"}, "edited": false, "score": 0, "creation_date": 1479893377, "post_id": 40009458, "comment_id": 68745797, "body": "is there any progress with this?"}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user5154816"}, "edited": false, "score": 0, "creation_date": 1480370050, "post_id": 40762011, "comment_id": 68924978, "body": "I was able to do it with volume option. Thanks for the alternate suggestion."}, {"owner": {"reputation": 2687, "user_id": 91714, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/1c147075cb809d0e3853cb0e77398fc7?s=128&d=identicon&r=PG", "display_name": "Boris Modylevsky", "link": "https://stackoverflow.com/users/91714/boris-modylevsky"}, "edited": false, "score": 0, "creation_date": 1480596718, "post_id": 40762011, "comment_id": 69034436, "body": "@Sweety that&#39;s nice. Would you be so kind to post your code?"}, {"owner": {"reputation": 321, "user_id": 2896235, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/04b4a6da1828024bf8807cea2a74ef33?s=128&d=identicon&r=PG&f=1", "display_name": "user2896235", "link": "https://stackoverflow.com/users/2896235/user2896235"}, "edited": false, "score": 5, "creation_date": 1553828020, "post_id": 40762011, "comment_id": 97539802, "body": "Isn&#39;t the question is about copy from container ?"}, {"owner": {"reputation": 585, "user_id": 6420513, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/pzKbR.png?s=128&g=1", "display_name": "John Drinane", "link": "https://stackoverflow.com/users/6420513/john-drinane"}, "edited": false, "score": 0, "creation_date": 1579041912, "post_id": 40762011, "comment_id": 105633996, "body": "I think this is not the question... <a href=\"https://stackoverflow.com/questions/46390309/how-to-copy-a-file-from-host-to-container-using-docker-py-docker-sdk\" title=\"how to copy a file from host to container using docker py docker sdk\">stackoverflow.com/questions/46390309/&hellip;</a>"}], "tags": [], "owner": {"reputation": 2687, "user_id": 91714, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/1c147075cb809d0e3853cb0e77398fc7?s=128&d=identicon&r=PG", "display_name": "Boris Modylevsky", "link": "https://stackoverflow.com/users/91714/boris-modylevsky"}, "is_accepted": false, "score": 10, "last_activity_date": 1479897327, "creation_date": 1479897327, "answer_id": 40762011, "question_id": 40009458, "link": "https://stackoverflow.com/questions/40009458/how-to-copy-a-file-from-container-to-host-using-copy-in-docker-py/40762011#40762011", "title": "How to copy a file from container to host using copy in docker-py", "body": "<p><code>copy</code> is a deprecated method in docker and the preferred way is to use <code>put_archive</code> method. So basically we need to create an archive and then put it into the container. I know that's sounds weird, but that's what the API supports currently. If you, like me, think this can be improved, feel free to open an issue/feature request and I'll upvote it.</p>\n\n<p>Here is a code snippet on how to copy a file to the container :</p>\n\n<pre><code>def copy_to_container(container_id, artifact_file):\n    with create_archive(artifact_file) as archive:\n        cli.put_archive(container=container_id, path='/tmp', data=archive)\n\ndef create_archive(artifact_file):\n    pw_tarstream = BytesIO()\n    pw_tar = tarfile.TarFile(fileobj=pw_tarstream, mode='w')\n    file_data = open(artifact_file, 'r').read()\n    tarinfo = tarfile.TarInfo(name=artifact_file)\n    tarinfo.size = len(file_data)\n    tarinfo.mtime = time.time()\n    # tarinfo.mode = 0600\n    pw_tar.addfile(tarinfo, BytesIO(file_data))\n    pw_tar.close()\n    pw_tarstream.seek(0)\n    return pw_tarstream\n</code></pre>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user5154816"}, "is_accepted": true, "score": 2, "last_activity_date": 1483591399, "creation_date": 1483591399, "answer_id": 41477432, "question_id": 40009458, "link": "https://stackoverflow.com/questions/40009458/how-to-copy-a-file-from-container-to-host-using-copy-in-docker-py/41477432#41477432", "title": "How to copy a file from container to host using copy in docker-py", "body": "<p>In my python script I added a call to run docker with <code>docker run -it -v artifacts:/artifacts target-build</code> so I can get my files generated from docker run in artifacts folder.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user5154816"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4836, "favorite_count": 1, "accepted_answer_id": 41477432, "answer_count": 2, "score": 5, "last_activity_date": 1483591399, "creation_date": 1476311592, "question_id": 40009458, "link": "https://stackoverflow.com/questions/40009458/how-to-copy-a-file-from-container-to-host-using-copy-in-docker-py", "title": "How to copy a file from container to host using copy in docker-py", "body": "<p>I am using docker-py. I want to copy a file from docker container to host machine.</p>\n\n<p>From docker-py documentation:</p>\n\n<pre><code>copy\n\nIdentical to the docker cp command. Get files/folders from the container.\n\nParams:\n\n    container (str): The container to copy from\n    resource (str): The path within the container\n\nReturns (str): The contents of the file as a string\n</code></pre>\n\n<p>I could create container and start it but unable to get the file which gets copied from container to host. Can someone help me in pointing out if I am missing anything? I have /mydir/myshell.sh in my docker container which I tried copying to host.</p>\n\n<pre><code>&gt;&gt;&gt; a = c.copy(container=\"7eb334c512c57d37e38161ab7aad014ebaf6a622e4b8c868d7a666e1d855d217\", resource=\"/mydir/myshell.sh\") &gt;&gt;&gt; a\n&lt;requests.packages.urllib3.response.HTTPResponse object at 0x7f2f2aa57050&gt;\n&gt;&gt;&gt; type(a)\n&lt;class 'requests.packages.urllib3.response.HTTPResponse'&gt;\n</code></pre>\n\n<p>It will be very helpful if someone can help me figuring out whether it is copying or not even copying the file.</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 19411, "user_id": 6640099, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/tf1sO.jpg?s=128&g=1", "display_name": "Christian Dean", "link": "https://stackoverflow.com/users/6640099/christian-dean"}, "edited": false, "score": 0, "creation_date": 1476311888, "post_id": 40009437, "comment_id": 67297116, "body": "A dictionary would seem to be a much better choice in this case."}], "answers": [{"tags": [], "owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "is_accepted": false, "score": 0, "last_activity_date": 1476311806, "creation_date": 1476311806, "answer_id": 40009497, "question_id": 40009437, "link": "https://stackoverflow.com/questions/40009437/removing-elements-from-a-list-of-genes/40009497#40009497", "title": "removing elements from a list of genes", "body": "<pre><code>For each string in the list:\n    Split the string on spaces (Python **split** command)\n    Find the element starting with \"gene:\"\n    Keep the rest of the string (grab the slice [5:] of that element)\n</code></pre>\n\n<p>Do you have enough basic Python knowledge to take it from there?  If not, I suggest that you consult the <a href=\"https://docs.python.org/release/2.5.2/lib/string-methods.html\" rel=\"nofollow\">string method documentation</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 3031, "user_id": 2562137, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/3cxTg.png?s=128&g=1", "display_name": "OrderAndChaos", "link": "https://stackoverflow.com/users/2562137/orderandchaos"}, "is_accepted": false, "score": 0, "last_activity_date": 1476312501, "creation_date": 1476312501, "answer_id": 40009587, "question_id": 40009437, "link": "https://stackoverflow.com/questions/40009437/removing-elements-from-a-list-of-genes/40009587#40009587", "title": "removing elements from a list of genes", "body": "<p>This is by no means the most Pythonic way to achieve this but it should do what you want.</p>\n\n<pre><code>l = [\n    '&gt;ENST00000262144 cds:known chromosome:GRCh37:16:74907468:75019046:-1 gene:ENSG00000103091 gene_biotype:protein_coding transcript_biotype:protein_coding',\n    '&gt;ENST00000446813 cds:known chromosome:GRCh37:7:72349936:72419009:1 gene:ENSG00000196313 gene_biotype:protein_coding transcript_biotype:protein_coding'\n]\ngenes = []\nfor e in l:\n    e = e.split('gene:')\n    gene = ''\n    for c in e[1]:\n        if c != ' ':\n            gene += c\n        else:\n            break\n    genes.append(gene)\n\nprint(genes)\n</code></pre>\n\n<p>Loop through the elements in the list then split them on <code>gene:</code> after that append all the chars to a string and add it to an array.</p>\n"}, {"comments": [{"owner": {"reputation": 3031, "user_id": 2562137, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/3cxTg.png?s=128&g=1", "display_name": "OrderAndChaos", "link": "https://stackoverflow.com/users/2562137/orderandchaos"}, "edited": false, "score": 0, "creation_date": 1476312938, "post_id": 40009605, "comment_id": 67297399, "body": "Nice, I didn&#39;t know you could pass out elements from a nested <code>for</code> like that."}, {"owner": {"reputation": 19411, "user_id": 6640099, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/tf1sO.jpg?s=128&g=1", "display_name": "Christian Dean", "link": "https://stackoverflow.com/users/6640099/christian-dean"}, "reply_to_user": {"reputation": 3031, "user_id": 2562137, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/3cxTg.png?s=128&g=1", "display_name": "OrderAndChaos", "link": "https://stackoverflow.com/users/2562137/orderandchaos"}, "edited": false, "score": 0, "creation_date": 1476313130, "post_id": 40009605, "comment_id": 67297447, "body": "@Sarcoma It&#39;s <a href=\"http://stackoverflow.com/questions/35479600/name-is-not-defined-in-a-list-comprehension-with-multiple-loops\">all about the order</a> my friend ;)"}], "tags": [], "owner": {"reputation": 19411, "user_id": 6640099, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/tf1sO.jpg?s=128&g=1", "display_name": "Christian Dean", "link": "https://stackoverflow.com/users/6640099/christian-dean"}, "is_accepted": false, "score": 1, "last_activity_date": 1476313070, "last_edit_date": 1476313070, "creation_date": 1476312598, "answer_id": 40009605, "question_id": 40009437, "link": "https://stackoverflow.com/questions/40009437/removing-elements-from-a-list-of-genes/40009605#40009605", "title": "removing elements from a list of genes", "body": "<p>Just use some basic list comprehension:</p>\n\n<pre><code>lst = ['&gt;ENST00000262144 cds:known chromosome:GRCh37:16:74907468:75019046:-1 gene:ENSG00000103091 gene_biotype:protein_coding transcript_biotype:protein_coding', '&gt;ENST00000446813 cds:known chromosome:GRCh37:7:72349936:72419009:1 gene:ENSG00000196313 gene_biotype:protein_coding transcript_biotype:protein_coding']\n\nres = [el[5:] for s in lst for el in s.split() if el.startswith('gene:')]\n</code></pre>\n\n<p>If you prefer to do this using regular for-loops instead, use this:</p>\n\n<pre><code>lst = ['&gt;ENST00000262144 cds:known chromosome:GRCh37:16:74907468:75019046:-1 gene:ENSG00000103091 gene_biotype:protein_coding transcript_biotype:protein_coding', '&gt;ENST00000446813 cds:known chromosome:GRCh37:7:72349936:72419009:1 gene:ENSG00000196313 gene_biotype:protein_coding transcript_biotype:protein_coding']\n\nres = []\nfor el in lst: # for each string in your list\n    l = el.split() # create a second list, of split strings\n    for s in l: # for each string in the 'split strings' list\n        if s.startswith('gene:'): # if the string starts with 'gene:' we know we have match\n            res.append(s[5:]) # so skip the 'gene:' part of the string, and append the rest to a list\n</code></pre>\n"}], "owner": {"reputation": 95, "user_id": 3925736, "user_type": "registered", "accept_rate": 8, "profile_image": "https://www.gravatar.com/avatar/27ab81092fba3d6f687d5e02383b01f2?s=128&d=identicon&r=PG&f=1", "display_name": "user3925736", "link": "https://stackoverflow.com/users/3925736/user3925736"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "answer_count": 3, "score": -3, "last_activity_date": 1476315415, "creation_date": 1476311505, "last_edit_date": 1476315415, "question_id": 40009437, "link": "https://stackoverflow.com/questions/40009437/removing-elements-from-a-list-of-genes", "title": "removing elements from a list of genes", "body": "<p>I have a list like this:</p>\n\n<pre><code>['&gt;ENST00000262144 cds:known chromosome:GRCh37:16:74907468:75019046:-1 gene:ENSG00000103091 gene_biotype:protein_coding transcript_biotype:protein_coding', \n '&gt;ENST00000446813 cds:known chromosome:GRCh37:7:72349936:72419009:1 gene:ENSG00000196313 gene_biotype:protein_coding transcript_biotype:protein_coding']\n</code></pre>\n\n<p>I want to make a new list with the same dimension and order but in the new list I will keep only gene id. the results would be like this:</p>\n\n<pre><code>['ENSG00000103091', 'ENSG00000196313']\n</code></pre>\n\n<p>I am using python. do you guys know how to do that? thanks</p>\n"}, {"tags": ["python", "node.js", "raspberry-pi", "raspberry-pi3"], "comments": [{"owner": {"reputation": 1229, "user_id": 9044469, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/ab445818b77285bccf153015bba67538?s=128&d=identicon&r=PG&f=1", "display_name": "ShpielMeister", "link": "https://stackoverflow.com/users/9044469/shpielmeister"}, "edited": false, "score": 0, "creation_date": 1514331467, "post_id": 40009417, "comment_id": 82938502, "body": "what happens if you change 800 to 80 or 8?  you may have some feedback effect happening."}], "answers": [{"tags": [], "owner": {"reputation": 22, "user_id": 1435025, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/350809199a2705324cba836f0ca32b9b?s=128&d=identicon&r=PG", "display_name": "D.Mistry", "link": "https://stackoverflow.com/users/1435025/d-mistry"}, "is_accepted": true, "score": 0, "last_activity_date": 1514331231, "creation_date": 1514331231, "answer_id": 47984775, "question_id": 40009417, "link": "https://stackoverflow.com/questions/40009417/buzzer-making-weird-screeching-sound-in-node-js/47984775#47984775", "title": "Buzzer making weird screeching sound in Node.js", "body": "<p>Node uses an event looping system. When you tell it to sleep, you are actually saying: \"Be free! Do what ever else you need to do, and keep checking to see if I have any more work for you to do\". Then after your given time, it adds a job to the queue and the raspberry will pick it up and execute it.</p>\n\n<p>The problem with this, is that the pi can't be very precise this way. You free the CPU and can only play the next tick when the CPU comes back to you. This can vary each time and is probably leading to the screetching sound.</p>\n\n<p>I'm going to try a different approach and post back with my findings, but I suspect that holding onto the CPU will yield better results:\n- Node has a much more precise timer called <code>process.hrtime</code> which will prove useful.\n- I will start an infinite loop and use hrtime to control when to tick.\n- This could go badly and cause the pi to be unreachable.</p>\n\n<p>I'll let you know. ;)</p>\n"}], "owner": {"reputation": 21, "user_id": 7010492, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1637646e82ac5b4dd8adbdaf1615b83f?s=128&d=identicon&r=PG&f=1", "display_name": "v3ryn3rdy", "link": "https://stackoverflow.com/users/7010492/v3ryn3rdy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 443, "favorite_count": 0, "accepted_answer_id": 47984775, "answer_count": 1, "score": 1, "last_activity_date": 1514331231, "creation_date": 1476311391, "question_id": 40009417, "link": "https://stackoverflow.com/questions/40009417/buzzer-making-weird-screeching-sound-in-node-js", "title": "Buzzer making weird screeching sound in Node.js", "body": "<p>Recently, I've been messing around with Node.js, dash buttons, and Raspberry Pi GPIO. I'm kind of a noob with the whole GPIO scene, so I messed around with it. I have a buzzer connected to a breadboard, and I triggered it using Python, like so:</p>\n\n<pre><code>while True:    \n    GPIO.output(18, True)\n    time.sleep(0.001)\n    GPIO.output(18, False)\n    time.sleep(0.001)\n</code></pre>\n\n<p>That works pretty well. The buzzer sounds okay. However, my Node.js script makes the buzzer emanate a strange screeching sound. I made it like so:</p>\n\n<pre><code>var Gpio = require('onoff').Gpio;\nvar sleep = require('sleep');\nvar buzz = new Gpio(18, 'out');\nfor (var i = 0; i &lt; 800; i++) {\n    buzz.writeSync(1);\n    sleep.usleep(1);\n    buzz.writeSync(0);\n    sleep.usleep(1);\n};\n</code></pre>\n\n<p>(<code>i &lt; 800</code> is just how many times it will buzz to create the buzzer effect)</p>\n\n<p>For some reason, the Node.js script makes a weird screeching sound compared to the uniform, buzzer-like sound that the Python script makes. Thanks so much in advance. Help is appreciated.</p>\n"}, {"tags": ["python", "serialization", "pickle", "lazy-evaluation"], "answers": [{"comments": [{"owner": {"reputation": 5042, "user_id": 1732418, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/8f08425f8724d6ea2d605d431a2e8fb5?s=128&d=identicon&r=PG&f=1", "display_name": "tribbloid", "link": "https://stackoverflow.com/users/1732418/tribbloid"}, "edited": false, "score": 0, "creation_date": 1476313952, "post_id": 40009646, "comment_id": 67297670, "body": "I thought of it, but I cannot find any <b>getstate</b> implementation in the superclass as a point of reference, plus, the point of decorator is simplicity, if the decorator cannot affect pickling composition on its own, then I don&#39;t think its a very convenient decorator."}, {"owner": {"reputation": 1314, "user_id": 5932638, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/063b8ac2eac8f08d59de5c889b0dc42a?s=128&d=identicon&r=PG&f=1", "display_name": "agg3l", "link": "https://stackoverflow.com/users/5932638/agg3l"}, "reply_to_user": {"reputation": 5042, "user_id": 1732418, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/8f08425f8724d6ea2d605d431a2e8fb5?s=128&d=identicon&r=PG&f=1", "display_name": "tribbloid", "link": "https://stackoverflow.com/users/1732418/tribbloid"}, "edited": false, "score": 0, "creation_date": 1476314219, "post_id": 40009646, "comment_id": 67297729, "body": "as Python pickle documentation states: <code>If there is no __getstate__() method, the instance\u2019s __dict__ is pickled</code>. So you can simply pickle/unpickle superclass <code>__dict__</code> yourself. Ability to handle such properties only with decorators... Hmm, I&#39;m not sure of it"}], "tags": [], "owner": {"reputation": 1314, "user_id": 5932638, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/063b8ac2eac8f08d59de5c889b0dc42a?s=128&d=identicon&r=PG&f=1", "display_name": "agg3l", "link": "https://stackoverflow.com/users/5932638/agg3l"}, "is_accepted": false, "score": 1, "last_activity_date": 1476313295, "last_edit_date": 1476313295, "creation_date": 1476312782, "answer_id": 40009646, "question_id": 40009409, "link": "https://stackoverflow.com/questions/40009409/whats-the-closest-implementation-of-scalas-transient-lazy-val-in-python/40009646#40009646", "title": "What&#39;s the closest implementation of scala&#39;s &#39;@transient lazy val&#39; in Python?", "body": "<p>Unaware of scala implementation details, but the easiest solution comes to my mind, if you're satisfied with other aspects of the 'lazy property' library you've found, would be implementing <code>__getstate__</code> and <code>__setstate__</code> object methods, as described in <a href=\"https://docs.python.org/2/library/pickle.html#pickling-and-unpickling-normal-class-instances\" rel=\"nofollow\">Pickling and unpickling normal class instances</a></p>\n\n<p>These methods are called by pickle/unpickle handler during object instance (de)serialization.</p>\n\n<p>This way you can have fine-grained control of how/which attributes of your object serialized. \nYou should read corresponding documentation on another two pickle-related methods as well (take care of <code>__getinitargs__</code> specifically).\nPython deserialized objects initialization differes from common <code>__new__</code> &amp; <code>__init__</code> sequence</p>\n"}], "owner": {"reputation": 5042, "user_id": 1732418, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/8f08425f8724d6ea2d605d431a2e8fb5?s=128&d=identicon&r=PG&f=1", "display_name": "tribbloid", "link": "https://stackoverflow.com/users/1732418/tribbloid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 307, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1476313295, "creation_date": 1476311350, "last_edit_date": 1495542795, "question_id": 40009409, "link": "https://stackoverflow.com/questions/40009409/whats-the-closest-implementation-of-scalas-transient-lazy-val-in-python", "title": "What&#39;s the closest implementation of scala&#39;s &#39;@transient lazy val&#39; in Python?", "body": "<p>According to this post:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/3012421/python-memoising-deferred-lookup-property-decorator\">Python memoising/deferred lookup property decorator</a></p>\n\n<p>A mnemonic decorator can be used to declare a lazy property in a class. There is even an 'official' package that can be used out of the box:</p>\n\n<p><a href=\"https://pypi.python.org/pypi/lazy\" rel=\"nofollow noreferrer\">https://pypi.python.org/pypi/lazy</a></p>\n\n<p>however, both of these implementation has a severe problem: any memorized values will be attempted to be pickled by python. If these values are unpicklable it will cause the program to break down.</p>\n\n<p>My question is: is there an easy way to implement scala's \"@transient lazy val\" declaration without too much tinkering? This declaration should remember the property in case of multiple invocation, and drop it once the class/object is serialized.</p>\n"}, {"tags": ["python", "math", "vector"], "comments": [{"owner": {"reputation": 89500, "user_id": 1426065, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/476e67c92121154e7910301e56cdfc4c?s=128&d=identicon&r=PG", "display_name": "MattDMo", "link": "https://stackoverflow.com/users/1426065/mattdmo"}, "edited": false, "score": 1, "creation_date": 1476315929, "post_id": 40009384, "comment_id": 67298178, "body": "Questions seeking debugging help (<b>&quot;why isn&#39;t this code working?&quot;</b>) must include the desired behavior, <i>a specific problem or error</i> and <i>the shortest code necessary</i> to reproduce it <b>in the question itself</b>. Questions without <b>a clear problem statement</b> are not useful to other readers. See: <a href=\"http://stackoverflow.com/help/mcve\">How to create a Minimal, Complete, and Verifiable Example</a>. Please don&#39;t dump a wall of code and expect people to troubleshoot the whole thing. Only post the <b>shortest code necessary</b> to replicate the problem."}, {"owner": {"reputation": 3031, "user_id": 2562137, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/3cxTg.png?s=128&g=1", "display_name": "OrderAndChaos", "link": "https://stackoverflow.com/users/2562137/orderandchaos"}, "edited": false, "score": 1, "creation_date": 1476381956, "post_id": 40009384, "comment_id": 67333209, "body": "Please see the bottom of my answer, I now have a solution."}], "answers": [{"comments": [{"owner": {"reputation": 2080, "user_id": 1325621, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f248ec34f953bc62cafcbdd81fddd6b6?s=128&d=identicon&r=PG", "display_name": "Goddard", "link": "https://stackoverflow.com/users/1325621/goddard"}, "edited": false, "score": 0, "creation_date": 1476326312, "post_id": 40009442, "comment_id": 67300705, "body": "I don&#39;t ever see the resulting value during debugging.  How can I fix this?"}, {"owner": {"reputation": 3031, "user_id": 2562137, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/3cxTg.png?s=128&g=1", "display_name": "OrderAndChaos", "link": "https://stackoverflow.com/users/2562137/orderandchaos"}, "reply_to_user": {"reputation": 2080, "user_id": 1325621, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f248ec34f953bc62cafcbdd81fddd6b6?s=128&d=identicon&r=PG", "display_name": "Goddard", "link": "https://stackoverflow.com/users/1325621/goddard"}, "edited": false, "score": 0, "creation_date": 1476347662, "post_id": 40009442, "comment_id": 67309156, "body": "Litter the code with print statements, or set up a debugging environment in an IDE like PyCharm (which has a free version) and use breakpoints. <a href=\"https://www.jetbrains.com/help/pycharm/2016.1/debugging.html\" rel=\"nofollow noreferrer\">jetbrains.com/help/pycharm/2016.1/debugging.html</a>"}, {"owner": {"reputation": 2080, "user_id": 1325621, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f248ec34f953bc62cafcbdd81fddd6b6?s=128&d=identicon&r=PG", "display_name": "Goddard", "link": "https://stackoverflow.com/users/1325621/goddard"}, "edited": false, "score": 0, "creation_date": 1476376112, "post_id": 40009442, "comment_id": 67329982, "body": "I posted it here to get help with the answer.  I already knew where the problem was occurring.  I am already using an IDE and know how to debug.  I don&#39;t know where the problem is REALLY happening which is why I asked for help."}, {"owner": {"reputation": 3031, "user_id": 2562137, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/3cxTg.png?s=128&g=1", "display_name": "OrderAndChaos", "link": "https://stackoverflow.com/users/2562137/orderandchaos"}, "reply_to_user": {"reputation": 2080, "user_id": 1325621, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f248ec34f953bc62cafcbdd81fddd6b6?s=128&d=identicon&r=PG", "display_name": "Goddard", "link": "https://stackoverflow.com/users/1325621/goddard"}, "edited": false, "score": 0, "creation_date": 1476376434, "post_id": 40009442, "comment_id": 67330194, "body": "Ha, sorry, fair enough. What are you expecting to get back from dot()? Do you think it be a rounding float error?"}, {"owner": {"reputation": 3031, "user_id": 2562137, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/3cxTg.png?s=128&g=1", "display_name": "OrderAndChaos", "link": "https://stackoverflow.com/users/2562137/orderandchaos"}, "reply_to_user": {"reputation": 2080, "user_id": 1325621, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f248ec34f953bc62cafcbdd81fddd6b6?s=128&d=identicon&r=PG", "display_name": "Goddard", "link": "https://stackoverflow.com/users/1325621/goddard"}, "edited": false, "score": 0, "creation_date": 1476376518, "post_id": 40009442, "comment_id": 67330253, "body": "How accurate do you need the result to be?"}, {"owner": {"reputation": 3031, "user_id": 2562137, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/3cxTg.png?s=128&g=1", "display_name": "OrderAndChaos", "link": "https://stackoverflow.com/users/2562137/orderandchaos"}, "reply_to_user": {"reputation": 2080, "user_id": 1325621, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f248ec34f953bc62cafcbdd81fddd6b6?s=128&d=identicon&r=PG", "display_name": "Goddard", "link": "https://stackoverflow.com/users/1325621/goddard"}, "edited": false, "score": 0, "creation_date": 1476376660, "post_id": 40009442, "comment_id": 67330344, "body": "So this only seems to happen in the first test is that right?"}, {"owner": {"reputation": 3031, "user_id": 2562137, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/3cxTg.png?s=128&g=1", "display_name": "OrderAndChaos", "link": "https://stackoverflow.com/users/2562137/orderandchaos"}, "reply_to_user": {"reputation": 2080, "user_id": 1325621, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f248ec34f953bc62cafcbdd81fddd6b6?s=128&d=identicon&r=PG", "display_name": "Goddard", "link": "https://stackoverflow.com/users/1325621/goddard"}, "edited": false, "score": 0, "creation_date": 1476377902, "post_id": 40009442, "comment_id": 67331035, "body": "I&#39;m guessing you need it to be precise but the issue goes away if you reduce the precision to 16, so I&#39;d imagine the problem as to the decimal place losing accuracy. You probably worked that out already. I&#39;d suggest that you would be best off posting the question again but ask about maintaining accuracy with decimal places."}, {"owner": {"reputation": 269348, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "reply_to_user": {"reputation": 2080, "user_id": 1325621, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f248ec34f953bc62cafcbdd81fddd6b6?s=128&d=identicon&r=PG", "display_name": "Goddard", "link": "https://stackoverflow.com/users/1325621/goddard"}, "edited": false, "score": 0, "creation_date": 1476380279, "post_id": 40009442, "comment_id": 67332340, "body": "@Goddard if this is indeed the problem, it&#39;s an easy fix: <code>angle_in_radians = acos(round(u1.dot(u2), 15))</code>"}, {"owner": {"reputation": 3031, "user_id": 2562137, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/3cxTg.png?s=128&g=1", "display_name": "OrderAndChaos", "link": "https://stackoverflow.com/users/2562137/orderandchaos"}, "edited": false, "score": 0, "creation_date": 1476380328, "post_id": 40009442, "comment_id": 67332368, "body": "Hold on, it may be the <code>sqrt()</code> magintude."}, {"owner": {"reputation": 3031, "user_id": 2562137, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/3cxTg.png?s=128&g=1", "display_name": "OrderAndChaos", "link": "https://stackoverflow.com/users/2562137/orderandchaos"}, "edited": false, "score": 0, "creation_date": 1476380388, "post_id": 40009442, "comment_id": 67332394, "body": "magnitude and normalise are returning float type objects, so It could be around there."}, {"owner": {"reputation": 3031, "user_id": 2562137, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/3cxTg.png?s=128&g=1", "display_name": "OrderAndChaos", "link": "https://stackoverflow.com/users/2562137/orderandchaos"}, "edited": false, "score": 0, "creation_date": 1476380524, "post_id": 40009442, "comment_id": 67332466, "body": "I&#39;ve just been reading up about Decimal and it should be accurate from what I can see, but it does look like a floating point error is occurring somewhere as you lose accuracy around 16 decimal places which is about how accurate floats are."}, {"owner": {"reputation": 3031, "user_id": 2562137, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/3cxTg.png?s=128&g=1", "display_name": "OrderAndChaos", "link": "https://stackoverflow.com/users/2562137/orderandchaos"}, "edited": false, "score": 0, "creation_date": 1476380597, "post_id": 40009442, "comment_id": 67332508, "body": "Maybe this could help: <a href=\"http://stackoverflow.com/questions/10725522/arbitrary-precision-of-square-roots\" title=\"arbitrary precision of square roots\">stackoverflow.com/questions/10725522/&hellip;</a>"}, {"owner": {"reputation": 3031, "user_id": 2562137, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/3cxTg.png?s=128&g=1", "display_name": "OrderAndChaos", "link": "https://stackoverflow.com/users/2562137/orderandchaos"}, "edited": false, "score": 0, "creation_date": 1476381471, "post_id": 40009442, "comment_id": 67332943, "body": "Let me know if you do get to the bottom of this, the round you suggest looks as though it would do the trick. I suspect the culprit is the sqrt() function though."}, {"owner": {"reputation": 3031, "user_id": 2562137, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/3cxTg.png?s=128&g=1", "display_name": "OrderAndChaos", "link": "https://stackoverflow.com/users/2562137/orderandchaos"}, "edited": false, "score": 0, "creation_date": 1476381923, "post_id": 40009442, "comment_id": 67333194, "body": "So what does it actually do?"}, {"owner": {"reputation": 2080, "user_id": 1325621, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f248ec34f953bc62cafcbdd81fddd6b6?s=128&d=identicon&r=PG", "display_name": "Goddard", "link": "https://stackoverflow.com/users/1325621/goddard"}, "edited": false, "score": 0, "creation_date": 1476473866, "post_id": 40009442, "comment_id": 67377724, "body": "Excellent, thanks.  It is just vector math.  I was trying to learn how to multiple vectors etc.."}], "tags": [], "owner": {"reputation": 3031, "user_id": 2562137, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/3cxTg.png?s=128&g=1", "display_name": "OrderAndChaos", "link": "https://stackoverflow.com/users/2562137/orderandchaos"}, "is_accepted": true, "score": 2, "last_activity_date": 1476382048, "last_edit_date": 1476382048, "creation_date": 1476311523, "answer_id": 40009442, "question_id": 40009384, "link": "https://stackoverflow.com/questions/40009384/acos-getting-error-math-domain-error/40009442#40009442", "title": "acos getting error math domain error", "body": "<p>Could it be that <code>u1.dot(u2)</code> equals <code>-1.00000000000000018058942747512</code></p>\n\n<pre><code>print(u2)\nprint(u1.dot(u2))\nangle_in_radians = acos(u1.dot(u2))\n</code></pre>\n\n<p>This is around line 60</p>\n\n<p>Update, with further tests:</p>\n\n<pre><code>getcontext().prec = 16\n\n......\n\ndef dot(self, v):\n    print(self.coordinates, v.coordinates)\n    print(\"asf\")\n    result = 0\n    for x, y in zip(self.coordinates, v.coordinates):\n        print(\"=================\")\n        print(\"x: \", x)\n        print(\"y: \", y)\n        print(\"x*y: \", x*y)\n        result += (x*y)\n        print(\"=================\")\n    print(\"Result: \", result)\n    print(sum([x * y for x, y in zip(self.coordinates, v.coordinates)]))\n    return sum([x * y for x, y in zip(self.coordinates, v.coordinates)])\n</code></pre>\n\n<p>Results in:</p>\n\n<pre><code>=================\nx:  -0.6932074151971374\ny:  0.6932074151971375\nx*y:  -0.4805365204842965\n=================\n=================\nx:  -0.7207381490636552\ny:  0.7207381490636553\nx*y:  -0.5194634795157037\n=================\nResult:  -1.000000000000000\n-1.000000000000000\n</code></pre>\n\n<p>But with:</p>\n\n<pre><code>getcontext().prec = 30\n</code></pre>\n\n<p>The decimal begins to drift.</p>\n\n<pre><code>=================\nx:  -0.693207415197137377521618972764\ny:  0.693207415197137482701372768190\nx*y:  -0.480536520484296481693529594664\n=================\n=================\nx:  -0.720738149063655170190045851086\ny:  0.720738149063655279547013776664\nx*y:  -0.519463479515703698895897880460\n=================\nResult:  -1.00000000000000018058942747512\n</code></pre>\n\n<p>Which leaves the result less than -1 breaking the <code>acos()</code> function.</p>\n\n<p>After finding the floats were out, I looked through your code I noticed a couple of functions that return floats. The culprit is the <code>sqrt()</code> function which doesn't have a high enough accuracy.</p>\n\n<pre><code>def magnitude(self):\n    coordinates_squared = [x ** 2 for x in self.coordinates]\n    return Decimal(sum(coordinates_squared)).sqrt()\n\ndef normalized(self):\n    try:\n        magnitude = self.magnitude()\n        return self.times_scalar(Decimal(1.0) / magnitude)\n</code></pre>\n\n<p>Using the <code>Decimal(x).sqrt()</code> function will fix your issue. You'll then need to update the <code>normalized()</code> function a bit too.</p>\n"}], "owner": {"reputation": 2080, "user_id": 1325621, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f248ec34f953bc62cafcbdd81fddd6b6?s=128&d=identicon&r=PG", "display_name": "Goddard", "link": "https://stackoverflow.com/users/1325621/goddard"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1428, "favorite_count": 0, "accepted_answer_id": 40009442, "answer_count": 1, "score": 0, "last_activity_date": 1476382048, "creation_date": 1476311187, "question_id": 40009384, "link": "https://stackoverflow.com/questions/40009384/acos-getting-error-math-domain-error", "title": "acos getting error math domain error", "body": "<p>Trying to figure out why I am getting an error.  My numbers are between -1 and 1, but still errors.  </p>\n\n<blockquote>\n  <p>ValueError: math domain error</p>\n</blockquote>\n\n<p>Any ideas?</p>\n\n<p>Thanks</p>\n\n<pre><code>from math import sqrt, acos, pi\nfrom decimal import Decimal, getcontext\n\ngetcontext().prec = 30\n\n\nclass Vector(object):\n    CANNOT_NORMALIZE_ZERO_VECTOR_MSG = 'Cannot normalize the zero vector'\n\n    def __init__(self, coordinates):\n        try:\n            if not coordinates:\n                raise ValueError\n            self.coordinates = tuple([Decimal(x) for x in coordinates])\n            self.dimension = len(self.coordinates)\n\n        except ValueError:\n            raise ValueError('The coordinates must be nonempty')\n\n        except TypeError:\n            raise TypeError('The coordinates must be an iterable')\n\n    def __str__(self):\n        return 'Vector: {}'.format(self.coordinates)\n\n    def __eq__(self, v):\n        return self.coordinates == v.coordinates\n\n    def magnitude(self):\n        coordinates_squared = [x ** 2 for x in self.coordinates]\n        return sqrt(sum(coordinates_squared))\n\n    def normalized(self):\n        try:\n            magnitude = self.magnitude()\n            return self.times_scalar(Decimal(1.0 / magnitude))\n\n        except ZeroDivisionError:\n            raise Exception('Cannot normalize the zero vector')\n\n    def plus(self, v):\n        new_coordinates = [x + y for x, y in zip(self.coordinates, v.coordinates)]\n        return Vector(new_coordinates)\n\n    def minus(self, v):\n        new_coordinates = [x - y for x, y in zip(self.coordinates, v.coordinates)]\n        return Vector(new_coordinates)\n\n    def times_scalar(self, c):\n        new_coordinates = [Decimal(c) * x for x in self.coordinates]\n        return Vector(new_coordinates)\n\n    def dot(self, v):\n        return sum([x * y for x, y in zip(self.coordinates, v.coordinates)])\n\n    def angle_with(self, v, in_degrees=False):\n        try:\n            u1 = self.normalized()\n            u2 = v.normalized()\n            angle_in_radians = acos(u1.dot(u2))\n\n            if in_degrees:\n                degrees_per_radian = 180. / pi\n                return angle_in_radians * degrees_per_radian\n            else:\n                return angle_in_radians\n\n        except Exception as e:\n            if str(e) == self.CANNOT_NORMALIZE_ZERO_VECTOR_MSG:\n                raise Exception('Cannot comput an angle with a zero vector')\n            else:\n                raise e\n\n    def is_orthogonal_to(self, v, tolerance=1e-10):\n        return abs(self.dot(v)) &lt; tolerance\n\n    def is_parallel_to(self, v):\n        return self.is_zero() or v.is_zero() or self.angle_with(v) == 0 or self.angle_with(v) == pi\n\n    def is_zero(self, tolerance=1e-10):\n        return self.magnitude() &lt; tolerance\n\n\nprint('first pair...')\nv = Vector(['-7.579', '-7.88'])\nw = Vector(['22.737', '23.64'])\nprint('is parallel:', v.is_parallel_to(w))\nprint('is orthogonal:', v.is_orthogonal_to(w))\n\nprint('second pair...')\nv = Vector(['-2.029', '9.97', '4.172'])\nw = Vector(['-9.231', '-6.639', '-7.245'])\nprint('is parallel:', v.is_parallel_to(w))\nprint('is orthogonal:', v.is_orthogonal_to(w))\n\nprint('third pair...')\nv = Vector(['-2.328', '-7.284', '-1.214'])\nw = Vector(['-1.821', '1.072', '-2.94'])\nprint('is parallel:', v.is_parallel_to(w))\nprint('is orthogonal:', v.is_orthogonal_to(w))\n\nprint('fourth pair...')\nv = Vector(['2.118', '4.827'])\nw = Vector(['0', '0'])\nprint('is parallel:', v.is_parallel_to(w))\nprint('is orthogonal:', v.is_orthogonal_to(w))\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 485, "user_id": 5807388, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-R4Ji1j-xY74/AAAAAAAAAAI/AAAAAAAAE-8/BXGVRjFaCnI/photo.jpg?sz=128", "display_name": "Lewis Fogden", "link": "https://stackoverflow.com/users/5807388/lewis-fogden"}, "edited": false, "score": 0, "creation_date": 1476311759, "post_id": 40009358, "comment_id": 67297080, "body": "This looks like a reasonable solution based on the question, rather than appending results to output, do you just need to print each time?"}, {"owner": {"reputation": 392, "user_id": 6942925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/49b3e156f7d7fe5e13ef9a62aa006511?s=128&d=identicon&r=PG&f=1", "display_name": "Simon", "link": "https://stackoverflow.com/users/6942925/simon"}, "edited": false, "score": 1, "creation_date": 1476311874, "post_id": 40009358, "comment_id": 67297112, "body": "Maybe it&#39;s because of a ambiguous problem statement exception."}, {"owner": {"reputation": 1995, "user_id": 5015758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90dcc6a1dbfffa1e3c09bb0222a29507?s=128&d=identicon&r=PG&f=1", "display_name": "yosemite_k", "link": "https://stackoverflow.com/users/5015758/yosemite-k"}, "edited": false, "score": 0, "creation_date": 1476313177, "post_id": 40009358, "comment_id": 67297465, "body": "may be you need to read the instructions. e.g if you have to add the interpreter !/usr/bin/python , also strip the new line from output <code>print output.strip()</code> not to print six lines."}], "answers": [{"tags": [], "owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "is_accepted": false, "score": 0, "last_activity_date": 1476312943, "creation_date": 1476312943, "answer_id": 40009674, "question_id": 40009358, "link": "https://stackoverflow.com/questions/40009358/python-higher-lower-program-not-higher-lower-game/40009674#40009674", "title": "Python Higher-Lower program (not higher-lower game)", "body": "<p>Given your description, I suspect that the validation program wants to see a single result after each additional input.  Have you tried that?</p>\n\n<pre><code>while s &lt;= 5:\n   curr = input()\n\n   if prev &lt; curr:\n      print \"higher\"\n   elif curr &lt; prev:\n      print \"lower\"\n   else:\n      print \"equal\"\n\n   s = s + 1\n   prev = curr\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 12980576, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mCAAyD9GVgIhlzQGPKpM-dgx8AMik2EBwJGJCdU=k-s128", "display_name": "Dionasia Gardner", "link": "https://stackoverflow.com/users/12980576/dionasia-gardner"}, "is_accepted": false, "score": -3, "last_activity_date": 1582921722, "last_edit_date": 1582921722, "creation_date": 1582908611, "answer_id": 60456089, "question_id": 40009358, "link": "https://stackoverflow.com/questions/40009358/python-higher-lower-program-not-higher-lower-game/60456089#60456089", "title": "Python Higher-Lower program (not higher-lower game)", "body": "<pre><code>magic_number = 3\n\n# Your code here...\n\nwhile True:\n    guess = int(input(\"Guess my number: \"))\n    if guess == magic_number:\n        print \"Correct!\"\n        break\n    elif guess &gt; magic_number:\n        print \"Too high!\"\n    else:\n        print \"Too low!\"\n\nprint \"Great job guessing my number!\"\n</code></pre>\n"}], "owner": {"reputation": 15, "user_id": 7010470, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XA_xooMfX_Q/AAAAAAAAAAI/AAAAAAAAArY/W09XI6VZieU/photo.jpg?sz=128", "display_name": "Michael Bradley", "link": "https://stackoverflow.com/users/7010470/michael-bradley"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 3908, "favorite_count": 0, "answer_count": 2, "score": -3, "last_activity_date": 1582921722, "creation_date": 1476311001, "last_edit_date": 1476312832, "question_id": 40009358, "link": "https://stackoverflow.com/questions/40009358/python-higher-lower-program-not-higher-lower-game", "title": "Python Higher-Lower program (not higher-lower game)", "body": "<p>I'm a 1st year CS student been struggling over the past few days on this lab task I received for python(2.7):</p>\n\n<hr>\n\n<p>Write a Python script named higher-lower.py which:\nfirst reads exactly one integer from standard input (10, in the example below),\nthen reads exactly five more integers from standard input and\nfor each of those five values outputs the message higher, lower or equal depending upon whether the new value is higher than, lower than or equal to the previous value.</p>\n\n<p>(Must have good use of a while loop)</p>\n\n<p>(Must not use a list)</p>\n\n<p>Example standard input:</p>\n\n<pre><code>10\n20\n10\n8\n8\n12\n</code></pre>\n\n<p>Example standard output:</p>\n\n<pre><code>higher\nlower\nlower\nequal\nhigher\n</code></pre>\n\n<p>(1 string per line)</p>\n\n<hr>\n\n<p>I have a working solution but when I upload it for correction I am told it's incorrect, This is my solution:</p>\n\n<pre><code>    prev = input()\n    output = \"\"\n    s = 1\n    while s &lt;= 5:\n       curr = input()\n\n       if prev &lt; curr:\n          output = output + \"higher\\n\"\n       elif curr &lt; prev:\n          output = output + \"lower\\n\"\n       else:\n          output = output + \"equal\\n\"\n\n       s = s + 1\n       prev = curr\n    print output\n</code></pre>\n\n<p>I think it's incorrect because each higher/lower/equal is printed on a single string over 5 lines, where the task wants each higher/lower/equal to be printed as an individual string on each line.</p>\n\n<p>Could anyone give me any hints in the right direction? I searched stackoverflow as well as google for a similar problem and couldn't find anything related to this. Any help would be appreciated! </p>\n"}, {"tags": ["python", "remote-server"], "comments": [{"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1476310771, "post_id": 40009230, "comment_id": 67296706, "body": "<code>tarfile.open(fullfilename)</code>"}, {"owner": {"reputation": 45, "user_id": 6937720, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/00b923803ea79763634c32bc95673922?s=128&d=identicon&r=PG&f=1", "display_name": "monicak", "link": "https://stackoverflow.com/users/6937720/monicak"}, "reply_to_user": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1476311025, "post_id": 40009230, "comment_id": 67296813, "body": "i see this error now :  File &quot;/usr/lib64/python2.6/tarfile.py&quot;, line 2032, in extractall     if tarinfo.isdir(): AttributeError: &#39;str&#39; object has no attribute &#39;isdir&#39;"}], "answers": [{"tags": [], "owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "is_accepted": true, "score": 0, "last_activity_date": 1476341614, "creation_date": 1476341614, "answer_id": 40014207, "question_id": 40009230, "link": "https://stackoverflow.com/questions/40009230/connecting-to-a-remote-server-and-downloading-and-extracting-binary-tar-file-usi/40014207#40014207", "title": "connecting to a remote server and downloading and extracting binary tar file using python", "body": "<p>There are 2 errors here:</p>\n\n<ul>\n<li><code>urllib.urlretrieve</code> (or <code>urllib.requests.urlretrieve</code> in Python 3) returns a <code>tuple</code>: filename, httprequest. You have to unpack the result in 2 values (or in the original <code>fullfilename</code>)</li>\n<li>download is OK but the <code>tarfile</code> module doesn't work the way to think it works: <code>tar.extractall</code> takes 2 arguments: path of the .tar/.tgz file and optional <code>list</code> of members (that you can get with <code>tar.getmembers()</code> in your case). For this example, I propose that we drop that filter and extract all the contents in the temp directory.</li>\n</ul>\n\n<p>Fixed code:</p>\n\n<pre><code>url = 'http://**************/Lintel/Mongodb/mongodb-linux-x86_64-enterprise-suse12-3.2.6.tgz'\ntemp_dir = '/tmp/demo1'\n\nfullfilename = os.path.join(temp_dir,'file.tgz')\n# urllib.request in Python 3\nfile_tmp,http_message = urllib.urlretrieve(url,fullfilename)\nbase_name = os.path.basename(url)\nfile_name, file_extension = os.path.splitext(base_name)\ntar = tarfile.open(file_tmp)\n\n#print(tar.getmembers()[0:5])  # would print 5 first members of the archive\n\ntar.extractall(os.path.join(temp_dir,file_name))\ntar.close()\n</code></pre>\n"}], "owner": {"reputation": 45, "user_id": 6937720, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/00b923803ea79763634c32bc95673922?s=128&d=identicon&r=PG&f=1", "display_name": "monicak", "link": "https://stackoverflow.com/users/6937720/monicak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 910, "favorite_count": 0, "accepted_answer_id": 40014207, "answer_count": 1, "score": 1, "last_activity_date": 1476341614, "creation_date": 1476310442, "question_id": 40009230, "link": "https://stackoverflow.com/questions/40009230/connecting-to-a-remote-server-and-downloading-and-extracting-binary-tar-file-usi", "title": "connecting to a remote server and downloading and extracting binary tar file using python", "body": "<p>I would like to connect to a remote server, download and extract binary tar file into a specific directory on that host. I am using python 2.6.8</p>\n\n<ol>\n<li>What would be a simple way to ssh to that server?</li>\n<li><p>I see the below errors on my script to download the tar file and extract it</p>\n\n<p>Traceback (most recent call last):\n  File \"./wgetscript.py\", line 16, in \n    tar = tarfile.open(file_tmp)\n  File \"/usr/lib64/python2.6/tarfile.py\", line 1653, in open\n    return func(name, \"r\", fileobj, **kwargs)\n  File \"/usr/lib64/python2.6/tarfile.py\", line 1715, in gzopen\n    fileobj = bltn_open(name, mode + \"b\")\nTypeError: coercing to Unicode: need string or buffer, tuple found</p></li>\n</ol>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>#!/usr/bin/env python\r\n\r\nimport os\r\nimport tarfile\r\nimport urllib\r\n\r\nurl = 'http://**************/Lintel/Mongodb/mongodb-linux-x86_64-enterprise-suse12-3.2.6.tgz'\r\n\r\nfullfilename = os.path.join('/tmp/demo1','file.tgz')\r\nfile_tmp = urllib.urlretrieve(url,fullfilename)\r\nprint file_tmp\r\nbase_name = os.path.basename(url)\r\nprint base_name\r\nfile_name, file_extension = os.path.splitext(base_name)\r\nprint file_name, file_extension\r\ntar = tarfile.open(file_tmp)\r\nnameoffile = os.path.join('/tmp/demo1','file')\r\ntar.extractall(file_name,nameoffile)\r\ntar.close()</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["python"], "answers": [{"tags": [], "owner": {"reputation": 3966, "user_id": 469072, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/13ce453eb105a974aea64b2461cfc200?s=128&d=identicon&r=PG", "display_name": "joel goldstick", "link": "https://stackoverflow.com/users/469072/joel-goldstick"}, "is_accepted": false, "score": 1, "last_activity_date": 1476310587, "creation_date": 1476310587, "answer_id": 40009267, "question_id": 40009212, "link": "https://stackoverflow.com/questions/40009212/python-to-extract-a-specific-string/40009267#40009267", "title": "python - to extract a specific string", "body": "<pre><code>&gt;&gt;&gt; string.split(\"), (\")[1].split(\":\")[1].split(\")\")[0].strip()\n'develop-CD123-2s'\n&gt;&gt;&gt; \n</code></pre>\n\n<p>The first split separates each tuple, then split on : and take the second result</p>\n"}, {"tags": [], "owner": {"reputation": 3031, "user_id": 2562137, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/3cxTg.png?s=128&g=1", "display_name": "OrderAndChaos", "link": "https://stackoverflow.com/users/2562137/orderandchaos"}, "is_accepted": false, "score": 1, "last_activity_date": 1476310657, "creation_date": 1476310657, "answer_id": 40009287, "question_id": 40009212, "link": "https://stackoverflow.com/questions/40009212/python-to-extract-a-specific-string/40009287#40009287", "title": "python - to extract a specific string", "body": "<p>You could do it like this:</p>\n\n<pre><code>string = \"(tag, index: develop-AB123-2s), (index: develop-CD123-2s)\"\n\nstring = string.split('(index:')\nstring = string[1].strip(')')\nprint(string)\n</code></pre>\n\n<p>split the string on <code>(index:</code> and strip off the closing curly bracket</p>\n"}, {"comments": [{"owner": {"reputation": 18468, "user_id": 5249307, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c640cd731ca8e455d79860519b6b208?s=128&d=identicon&r=PG", "display_name": "donkopotamus", "link": "https://stackoverflow.com/users/5249307/donkopotamus"}, "edited": false, "score": 0, "creation_date": 1476310819, "post_id": 40009289, "comment_id": 67296730, "body": "Always useful to use <code>r&quot;...&quot;</code> style strings with regex to avoid needing to use double slashes."}, {"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "reply_to_user": {"reputation": 18468, "user_id": 5249307, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c640cd731ca8e455d79860519b6b208?s=128&d=identicon&r=PG", "display_name": "donkopotamus", "link": "https://stackoverflow.com/users/5249307/donkopotamus"}, "edited": false, "score": 0, "creation_date": 1476310991, "post_id": 40009289, "comment_id": 67296801, "body": "I know. Just a Java habit. Also don&#39;t need the <code>(.*?</code>, really."}], "tags": [], "owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "is_accepted": false, "score": 2, "last_activity_date": 1476310844, "last_edit_date": 1476310844, "creation_date": 1476310688, "answer_id": 40009289, "question_id": 40009212, "link": "https://stackoverflow.com/questions/40009212/python-to-extract-a-specific-string/40009289#40009289", "title": "python - to extract a specific string", "body": "<p><sup>Warning: I'm not the best at regex</sup></p>\n\n<pre><code>import re\ns='(tag, index: develop-AB123-2s), (index: develop-CD123-2s)'\nprint re.findall(\"\\\\(.*?index: ([^)]+)\", s)[1]  # 'develop-CD123-2s'\n</code></pre>\n\n<p><a href=\"https://regex101.com/r/zF786N/1\" rel=\"nofollow\">Regex Demo</a></p>\n\n<p>Alternative regex</p>\n\n<pre><code>re.findall(\"index: ([^\\s)]+)\", s)[1]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 28310, "user_id": 203454, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3d0cec803550bd0d9f2d46b268585df2?s=128&d=identicon&r=PG", "display_name": "arunkumar", "link": "https://stackoverflow.com/users/203454/arunkumar"}, "is_accepted": false, "score": 1, "last_activity_date": 1476314206, "creation_date": 1476314206, "answer_id": 40009848, "question_id": 40009212, "link": "https://stackoverflow.com/questions/40009212/python-to-extract-a-specific-string/40009848#40009848", "title": "python - to extract a specific string", "body": "<p>One way is using python regex - <a href=\"https://docs.python.org/2/library/re.html\" rel=\"nofollow\">positive lookbehind assertion</a></p>\n\n<pre><code>import re\nstring = \"(tag, index: develop-AB123-2s), (index: develop-CD123-2s)\"\nre.findall(r\"(?&lt;=\\(index:) ([^)]+)\", string)\n</code></pre>\n\n<p>This pattern only matches things that start with <code>(index:</code>. You can also look at negative lookbehind assertions to try and match the <code>(tag,</code> part.</p>\n"}], "owner": {"reputation": 789, "user_id": 3920295, "user_type": "registered", "accept_rate": 7, "profile_image": "https://www.gravatar.com/avatar/d9d7d25d005a10771708f9b228bc885f?s=128&d=identicon&r=PG&f=1", "display_name": "user3920295", "link": "https://stackoverflow.com/users/3920295/user3920295"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "answer_count": 4, "score": 1, "last_activity_date": 1476314206, "creation_date": 1476310306, "question_id": 40009212, "link": "https://stackoverflow.com/questions/40009212/python-to-extract-a-specific-string", "title": "python - to extract a specific string", "body": "<p>I have a string like :  </p>\n\n<pre><code>    string=\"(tag, index: develop-AB123-2s), (index: develop-CD123-2s)\"\n</code></pre>\n\n<p>I want to extract only \"develop-CD123-2s\", i.e. the string that comes after \"(index:\" and not the one with tag. How do I do in python? Thanks!</p>\n"}, {"tags": ["python", "python-3.x", "opencv", "anaconda", "opencv3.0"], "answers": [{"tags": [], "owner": {"reputation": 91, "user_id": 6746587, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-kp2GMR7RIQc/AAAAAAAAAAI/AAAAAAAAAHM/HUnWUDYSbUE/photo.jpg?sz=128", "display_name": "Sabbir Bin Azad", "link": "https://stackoverflow.com/users/6746587/sabbir-bin-azad"}, "is_accepted": false, "score": 1, "last_activity_date": 1476336328, "creation_date": 1476336328, "answer_id": 40012908, "question_id": 40009184, "link": "https://stackoverflow.com/questions/40009184/error-importing-cv2-in-python3-anaconda/40012908#40012908", "title": "Error importing cv2 in python3, Anaconda", "body": "<p>Try again by installing </p>\n\n<p><code>conda install -c https//conda.binstar.org/menpo opencv3</code></p>\n"}, {"tags": [], "owner": {"reputation": 10095, "user_id": 1158977, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/B6Za7.png?s=128&g=1", "display_name": "Sam Hammamy", "link": "https://stackoverflow.com/users/1158977/sam-hammamy"}, "is_accepted": true, "score": 28, "last_activity_date": 1476669111, "creation_date": 1476669111, "answer_id": 40077448, "question_id": 40009184, "link": "https://stackoverflow.com/questions/40009184/error-importing-cv2-in-python3-anaconda/40077448#40077448", "title": "Error importing cv2 in python3, Anaconda", "body": "<p>i also had the same issue.  I found an answer that may work for you.  Try</p>\n\n<pre><code>source activate envPython3\nconda install -c asmeurer pango\npython\n&gt;&gt;&gt; import cv2\n</code></pre>\n\n<p>Please see this <a href=\"https://github.com/ContinuumIO/anaconda-issues/issues/368\" rel=\"noreferrer\">github link</a></p>\n"}, {"tags": [], "owner": {"reputation": 1909, "user_id": 2375574, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/9ed9192b2e8d4dad7864bb45f589a449?s=128&d=identicon&r=PG", "display_name": "Saleem Ahmed", "link": "https://stackoverflow.com/users/2375574/saleem-ahmed"}, "is_accepted": false, "score": 0, "last_activity_date": 1531166473, "creation_date": 1531166473, "answer_id": 51253192, "question_id": 40009184, "link": "https://stackoverflow.com/questions/40009184/error-importing-cv2-in-python3-anaconda/51253192#51253192", "title": "Error importing cv2 in python3, Anaconda", "body": "<p>Had the same error on python3 . </p>\n\n<p>Though it was working fine, and then it wasn't. Maybe I installed some other package that caused the conflict. \nNone of the above solutions worked. </p>\n\n<p>Resolution by uninstalling menpo and installing conda-forge : </p>\n\n<pre><code>conda install -c conda-forge opencv\n</code></pre>\n"}], "owner": {"reputation": 123, "user_id": 3568373, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d9cc29326ec45e8344437ea4909bbd9?s=128&d=identicon&r=PG&f=1", "display_name": "krasin", "link": "https://stackoverflow.com/users/3568373/krasin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6672, "favorite_count": 5, "accepted_answer_id": 40077448, "answer_count": 3, "score": 12, "last_activity_date": 1531166473, "creation_date": 1476310147, "last_edit_date": 1492086990, "question_id": 40009184, "link": "https://stackoverflow.com/questions/40009184/error-importing-cv2-in-python3-anaconda", "title": "Error importing cv2 in python3, Anaconda", "body": "<p>I get the following error when importing opencv in python:</p>\n\n<pre><code>&gt; python\n&gt;&gt;&gt; import cv2\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\nImportError: /usr/lib/x86_64-linux-gnu/libpangoft2-1.0.so.0: undefined symbol: hb_buffer_set_cluster_level\n</code></pre>\n\n<p>The system is Linux debian 4.7.0-1-amd64, stretch. I have created an environment for Python 3 in Anaconda:</p>\n\n<pre><code>conda create --name=envPython3 python=3 anaconda\nsource activate envPython3\n</code></pre>\n\n<p>and then installed OpenCV:</p>\n\n<pre><code>conda install -c https://conda.anaconda.org/menpo opencv3\n</code></pre>\n\n<p>It should be installed because</p>\n\n<pre><code>conda list | grep cv\n</code></pre>\n\n<p>returns</p>\n\n<pre><code>opencv3          3.1.0         py35_0    menpo\n</code></pre>\n\n<p>Everything works fine with Python 2</p>\n\n<p><a href=\"https://unix.stackexchange.com/questions/235012/problem-with-gtk-application-s\">May be this post is related</a> </p>\n"}, {"tags": ["python", "numpy", "vectorization"], "owner": {"reputation": 3494, "user_id": 1243255, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/9328a10a909a33568ad798474053f476?s=128&d=identicon&r=PG", "display_name": "Zanam", "link": "https://stackoverflow.com/users/1243255/zanam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 23, "favorite_count": 0, "closed_date": 1476312659, "answer_count": 0, "score": 1, "last_activity_date": 1476311641, "creation_date": 1476310090, "last_edit_date": 1476311641, "question_id": 40009175, "link": "https://stackoverflow.com/questions/40009175/finding-index-by-iterating-each-element-of-a-vector-over-each-row-of-matrix", "closed_reason": "Duplicate", "title": "Finding index by iterating each element of a vector over each row of matrix", "body": "<p>I have an numpy array 'A' of size <code>5000x10</code>. I also have another vector <code>'B'</code> of size 5000x1. I want to apply the following to each row of A:</p>\n\n<pre><code>import numpy as np\nnp.max(np.where(B[0] &gt; A[0,:]))\n</code></pre>\n\n<p>i.e. each row of B should be tested to corresponding row of A.</p>\n\n<p>Is there a pythonic way than writing a for loop for above?</p>\n"}, {"tags": ["python", "multithreading"], "answers": [{"tags": [], "owner": {"reputation": 154, "user_id": 2077548, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c45189f8cba5ee7b77ef65e7b76d7ad?s=128&d=identicon&r=PG", "display_name": "Joseph LeClerc", "link": "https://stackoverflow.com/users/2077548/joseph-leclerc"}, "is_accepted": false, "score": 1, "last_activity_date": 1476312057, "last_edit_date": 1592644375, "creation_date": 1476310562, "answer_id": 40009259, "question_id": 40009172, "link": "https://stackoverflow.com/questions/40009172/python-threading-with-strange-output-errors/40009259#40009259", "title": "Python threading with strange output errors", "body": "<p>You're looking for the <a href=\"https://docs.python.org/2/library/logging.html\" rel=\"nofollow noreferrer\">logging</a> module:</p>\n<blockquote>\n<p>15.7.9. Thread Safety</p>\n<p>The logging module is intended to be thread-safe without any special work needing to be done by its clients. It achieves this though using threading locks; there is one lock to serialize access to the module\u2019s shared data, and each handler also creates a lock to serialize access to its underlying I/O.</p>\n</blockquote>\n<p>Here is an example:</p>\n<pre><code>FORMAT = '%(threadName)s %(asctime)s'\nlogging.basicConfig(format=FORMAT, level=logging.DEBUG) # &quot;level&quot; default is to only print WARN and above.\nlogger = logging.getLogger('MyThreadClass')\nlogger.debug('')\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1281, "user_id": 266852, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/36b32e9c5c886960a4559a4cdac9dd62?s=128&d=identicon&r=PG", "display_name": "dgg32", "link": "https://stackoverflow.com/users/266852/dgg32"}, "is_accepted": false, "score": 2, "last_activity_date": 1554379797, "last_edit_date": 1554379797, "creation_date": 1476311133, "answer_id": 40009378, "question_id": 40009172, "link": "https://stackoverflow.com/questions/40009172/python-threading-with-strange-output-errors/40009378#40009378", "title": "Python threading with strange output errors", "body": "<p>Complement to Joseph's reply, you can use Semaphore</p>\n\n<pre><code>from threading import Semaphore\nwriteLock = Semaphore(value = 1)\n</code></pre>\n\n<p>...</p>\n\n<p>When you are about to print in the thread:</p>\n\n<pre><code>writeLock.acquire()\nprint (\"%s: %s\" %(self.getName(), now))\nwriteLock.release()\n</code></pre>\n\n<p>writeLock makes sure only one thread can print at any single moment until release().</p>\n\n<p>Imagine Semaphore as the conch in the \"Lord of the flies\", only the one who gets it can speak. When the first speaker finishes, he gives it to the next speaker.</p>\n"}, {"comments": [{"owner": {"reputation": 380, "user_id": 6610427, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KxmWy.jpg?s=128&g=1", "display_name": "BrandonM", "link": "https://stackoverflow.com/users/6610427/brandonm"}, "edited": false, "score": 0, "creation_date": 1476315669, "post_id": 40009737, "comment_id": 67298086, "body": "Yes, this is more of the answer I was looking for. I figured it had to be something with how the output stream was being called, or something it did when receive multiple items to print. Thank you for the explanation!"}], "tags": [], "owner": {"reputation": 18468, "user_id": 5249307, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c640cd731ca8e455d79860519b6b208?s=128&d=identicon&r=PG", "display_name": "donkopotamus", "link": "https://stackoverflow.com/users/5249307/donkopotamus"}, "is_accepted": true, "score": 1, "last_activity_date": 1476313820, "last_edit_date": 1476313820, "creation_date": 1476313393, "answer_id": 40009737, "question_id": 40009172, "link": "https://stackoverflow.com/questions/40009172/python-threading-with-strange-output-errors/40009737#40009737", "title": "Python threading with strange output errors", "body": "<p>Part of your question is <strong>why</strong> is this occurring?  And its a good question as you'll notice in your output there is a completely spurious space that <em>neither of the threads actually tried to print</em></p>\n\n<pre><code>Thread-1: 2016-10-12 17:34:23.012802\n Thread-2: 2016-10-12 17:34:23.013025\n^\n</code></pre>\n\n<p>How did that get there?  None of your threads tried to print it!  Its due to the way the <code>print</code> statement in Python 2.x implements <em>soft spacing</em>.</p>\n\n<p>For example ... when you execute <code>print 1,</code> you receive on <code>stdout</code></p>\n\n<pre><code>1              # there is no space after that 1 yet!\n</code></pre>\n\n<p>Then a subsequent <code>print 2</code> will cause a space to be inserted to give a final output of:</p>\n\n<pre><code>1 2\n</code></pre>\n\n<p>What is happening is that a <code>print &lt;something&gt;,</code> statement gets compiled to the bytecode operation <code>PRINT_ITEM</code>.  The implementation of <code>PRINT_ITEM</code>:</p>\n\n<ul>\n<li>checks the output stream to see if the last <code>PRINT_ITEM</code> to this stream marked it as needing a soft space printed;</li>\n<li>if it does, print a \" \";</li>\n<li>then print our item and remark the stream as needing another soft space.</li>\n</ul>\n\n<p>And there is another bytecode operation <code>PRINT_NEWLINE</code> which prints a new line and clears any soft space marker on the stream.</p>\n\n<p>Now in your code, each thread will do the following:</p>\n\n<pre><code>print \"%s: %s\" %(self.getName(), now)\n</code></pre>\n\n<p>This gets compiled to:</p>\n\n<pre><code>PRINT_ITEM          # print the top of the stack\nPRINT_NEWLINE       # print a new line\n</code></pre>\n\n<p>Thus, thread interaction can mean that:</p>\n\n<ul>\n<li><code>Thread-1</code> can perform <code>PRINT_ITEM</code> and mark the stream as needing a softspace for the next <code>PRINT_ITEM</code>;</li>\n<li><code>Thread-2</code> can begin <code>PRINT_ITEM</code>, and see the stream needs a soft space;</li>\n<li><code>Thread-1</code> now prints a new line;</li>\n<li><code>Thread-2</code> now prints that space and its item;</li>\n</ul>\n\n<p>Note that this error would not occur if:</p>\n\n<ul>\n<li>you used <code>sys.stdout.write</code> to perform your output; or</li>\n<li>you were using Python 3.x which has a different io structure</li>\n</ul>\n"}], "owner": {"reputation": 380, "user_id": 6610427, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KxmWy.jpg?s=128&g=1", "display_name": "BrandonM", "link": "https://stackoverflow.com/users/6610427/brandonm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 202, "favorite_count": 0, "accepted_answer_id": 40009737, "answer_count": 3, "score": 3, "last_activity_date": 1554379797, "creation_date": 1476310065, "question_id": 40009172, "link": "https://stackoverflow.com/questions/40009172/python-threading-with-strange-output-errors", "title": "Python threading with strange output errors", "body": "<p>I am new to threading in general and have been playing around with different ideas to get my feet under me. However, I came across something I am not sure how to explain. Here is the code:</p>\n\n<pre><code>import threading, datetime\nclass ThreadClass(threading.Thread):\n    def run(self):\n        for _ in range(3):\n            now = datetime.datetime.now()\n            print \"%s: %s\" %(self.getName(), now)\n\nfor i in range(2):\n    t = ThreadClass()\n    t.start()\n</code></pre>\n\n<p>The program does exactly what I wanted it to do, however, the output has some random errors in it.</p>\n\n<pre><code>Thread-1: 2016-10-12 17:34:23.012462\nThread-1: 2016-10-12 17:34:23.012802\n Thread-2: 2016-10-12 17:34:23.013025\nThread-2: 2016-10-12 17:34:23.013108\n\nThread-2: 2016-10-12 17:34:23.013225\nThread-1: 2016-10-12 17:34:23.013252\n</code></pre>\n\n<p>The errors are relatively consistent (i.e. the same space and new line show up in the output, just in different places). I suspect it has something to do with the threads trying to write to the output stream at about the same time, but in this particular run both errors occur when Thread-2 is running.</p>\n\n<p>Any assistance in describe why this issue is occuring is greatly appreciated!</p>\n\n<p>I am running this code with Python 2.7 on Ubuntu 14.04 (dual-core CPU), if that would make any difference.</p>\n"}, {"tags": ["python", "python-requests", "grequests"], "answers": [{"tags": [], "owner": {"reputation": 21, "user_id": 3017343, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Pg03a.png?s=128&g=1", "display_name": "oscomon", "link": "https://stackoverflow.com/users/3017343/oscomon"}, "is_accepted": false, "score": 2, "last_activity_date": 1476318155, "creation_date": 1476318155, "answer_id": 40010389, "question_id": 40009167, "link": "https://stackoverflow.com/questions/40009167/how-to-catch-a-503-error-and-retry-request/40010389#40010389", "title": "How to Catch a 503 Error and retry request", "body": "<p>Maybe you can try using event hooks to catch the error and re-launch the requests <a href=\"http://docs.python-requests.org/en/master/user/advanced/#event-hooks\" rel=\"nofollow\">http://docs.python-requests.org/en/master/user/advanced/#event-hooks</a></p>\n\n<pre><code> import grequests\n\n def response_handler(response):\n     if response.status_code == '503':\n         print('error.503')\n\n rs = (grequests.get(u, headers=header, hooks = dict('response' : response_handler)) for u in urls)\n response = grequests.map(rs)`\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 9405, "user_id": 507544, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/75330946da121a9e1d905dd3f54042f6?s=128&d=identicon&r=PG", "display_name": "nealmcb", "link": "https://stackoverflow.com/users/507544/nealmcb"}, "is_accepted": false, "score": 0, "last_activity_date": 1508101432, "creation_date": 1508101432, "answer_id": 46759980, "question_id": 40009167, "link": "https://stackoverflow.com/questions/40009167/how-to-catch-a-503-error-and-retry-request/46759980#46759980", "title": "How to Catch a 503 Error and retry request", "body": "<p>You should be able to apply the general methods described at \n <a href=\"https://stackoverflow.com/questions/15431044/can-i-set-max-retries-for-requests-request\">Can I set max_retries for requests.request?</a> to configure requests and urllib3 to do retries, assuming that grequests lets you customize the underlying connections or requests.</p>\n"}], "owner": {"reputation": 2332, "user_id": 5319229, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/fe016d5983a221686cebf48bc87769f9?s=128&d=identicon&r=PG&f=1", "display_name": "Rafael", "link": "https://stackoverflow.com/users/5319229/rafael"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1706, "favorite_count": 0, "answer_count": 2, "score": 4, "last_activity_date": 1508101432, "creation_date": 1476310041, "last_edit_date": 1476314465, "question_id": 40009167, "link": "https://stackoverflow.com/questions/40009167/how-to-catch-a-503-error-and-retry-request", "title": "How to Catch a 503 Error and retry request", "body": "<p>I'm using <code>grequests</code> to make about 10,000 calls, but some of these calls return as <code>503</code>. This problem goes away if I don't queue all 10,000 calls at once. Breaking it into groups of 1000 seems to do the trick. However I was wondering if there's a way to catch this <code>503</code> error and just retry the <code>request</code>.</p>\n\n<p>This is how I'm calling and combining the threads:</p>\n\n<pre><code>import grequests\nrs = (grequests.get(u, headers=header) for u in urls)\nresponse = grequests.map(rs)\n</code></pre>\n\n<p>I know this is really vague, but I don't even know if this is possible using <code>grequests</code>. </p>\n\n<p>I naivley tried </p>\n\n<pre><code>import grequests\nrs = (grequests.get(u, headers=header) for u in urls)\ntime.sleep(1)\nresponse = grequests.map(rs)\n</code></pre>\n\n<p>But this does nothing to slow it down. </p>\n"}, {"tags": ["python", "python-3.x", "jupyter-notebook", "solver", "scip"], "comments": [{"owner": {"reputation": 4387, "user_id": 673271, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/8skfj.png?s=128&g=1", "display_name": "mattmilten", "link": "https://stackoverflow.com/users/673271/mattmilten"}, "edited": false, "score": 0, "creation_date": 1476430012, "post_id": 40009141, "comment_id": 67350931, "body": "Numberjack&#39;s setup routine seems to be broken. Running <code>python setup.py build</code> will always search for CPLEX - even if another solver is specified. see <a href=\"https://github.com/eomahony/Numberjack/issues/47\" rel=\"nofollow noreferrer\">github.com/eomahony/Numberjack/issues/47</a> for updates"}], "answers": [{"comments": [{"owner": {"reputation": 41, "user_id": 3676951, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000140066986/picture?type=large", "display_name": "user3676951", "link": "https://stackoverflow.com/users/3676951/user3676951"}, "edited": false, "score": 0, "creation_date": 1476461262, "post_id": 40013421, "comment_id": 67371207, "body": "I did everything stated in Numberjack install page. Using the python setup.py install command made it be installed in a directory the jupyter noteboook was not searching for. Thank you."}], "tags": [], "owner": {"reputation": 4387, "user_id": 673271, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/8skfj.png?s=128&g=1", "display_name": "mattmilten", "link": "https://stackoverflow.com/users/673271/mattmilten"}, "is_accepted": false, "score": 1, "last_activity_date": 1476342859, "last_edit_date": 1476342859, "creation_date": 1476338642, "answer_id": 40013421, "question_id": 40009141, "link": "https://stackoverflow.com/questions/40009141/install-scip-solver-on-python3-5-numberjack-osx/40013421#40013421", "title": "Install SCIP solver on Python3.5 Numberjack (OSX)", "body": "<p>Why is there a <code>scip-3.2.1</code> directory? The SCIP Opt Suite 3.1.0 contains SCIP 3.1.0. You need to make sure to run all setup and make commands <em>exactly</em> as stated on the <a href=\"https://github.com/eomahony/Numberjack#scip\" rel=\"nofollow\">Numberjack install page</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 41, "user_id": 3676951, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000140066986/picture?type=large", "display_name": "user3676951", "link": "https://stackoverflow.com/users/3676951/user3676951"}, "is_accepted": true, "score": 2, "last_activity_date": 1476461089, "last_edit_date": 1592644375, "creation_date": 1476461089, "answer_id": 40047557, "question_id": 40009141, "link": "https://stackoverflow.com/questions/40009141/install-scip-solver-on-python3-5-numberjack-osx/40047557#40047557", "title": "Install SCIP solver on Python3.5 Numberjack (OSX)", "body": "<p>After talking to the assistant teacher I got the answer for this problem.</p>\n<p>The folder where Numberjack/SCIP was being installed was not the one it was supposed to be, therefore it was not really included in the solver list. After completing the <code>python setup.py build</code> and <code>python setup.py install</code> installation I ran <code>python setup.py build -solver SCIP</code> and the terminal feedback stated</p>\n<p><code>Successfully built solver interfaces for MipWrapper, SCIP</code></p>\n<p>But the jupyter notebook didn't recognize the solver.</p>\n<p>What solution should work having Anaconda (python3.5) already installed:</p>\n<ol>\n<li><p>Download <a href=\"https://github.com/eomahony/Numberjack#scip\" rel=\"nofollow noreferrer\">Numberjack</a> (file &quot;Numberjack-master.zip&quot;) and unpack it.</p>\n</li>\n<li><p>Download <a href=\"http://scip.zib.de/download.php?fname=scipoptsuite-3.1.0.tgz\" rel=\"nofollow noreferrer\">SCIP</a> and copy the downloaded file, <code>scipoptsuite-3.1.0.tgz</code>. Paste it <strong>inside</strong> Numberjack-master unpacked directory. The path of it should be <code>~/Downloads/Numberjack-master/scipoptsuite-3.1.0.tgz</code>.</p>\n</li>\n<li><p>In terminal run <code>cd ~/Downloads/Numberjack-master</code> (or your Numberjack-master directory path).</p>\n</li>\n<li><p>Then run <code> python3.5 setup.py install --user</code>.</p>\n<p>In my case Jupyter was looking for the solvers in\n<code>~/anaconda3/lib/python3.5/site-packages/Numberjack/</code> and they were\nnot being installed there so, instead of using <code>python</code>, I used <code>python3.5</code> since my Anaconda was the Python 3.5 package.</p>\n</li>\n</ol>\n"}], "owner": {"reputation": 41, "user_id": 3676951, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000140066986/picture?type=large", "display_name": "user3676951", "link": "https://stackoverflow.com/users/3676951/user3676951"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 850, "favorite_count": 0, "accepted_answer_id": 40047557, "answer_count": 2, "score": 1, "last_activity_date": 1476461089, "creation_date": 1476309881, "last_edit_date": 1476344199, "question_id": 40009141, "link": "https://stackoverflow.com/questions/40009141/install-scip-solver-on-python3-5-numberjack-osx", "title": "Install SCIP solver on Python3.5 Numberjack (OSX)", "body": "<p>I am learning Constraint Programming in Python and, for the solving of the problems, I am supposed to use the SCIP solver. I have installed the Numberjack standard package from Github witch includes Mistral, Mistral2, Toulbar2, MipWrapper, SatWrapper, MiniSat and Walksat solvers.</p>\n\n<p>Running my code I got the following error:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"/Users/angelocoelho/anaconda3/lib/python3.5/site-packages/Numberjack/__init__.py\", line 910, in load\n    lib = __import__(solverstring, fromlist=[solverspkg])\nImportError: No module named 'Numberjack.solvers.SCIP'\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"grafosdefluxos.py\", line 42, in &lt;module&gt;\n    solver = model.load('SCIP')\n  File \"/Users/angelocoelho/anaconda3/lib/python3.5/site-packages/Numberjack/__init__.py\", line 915, in load\n    solvername)\nImportError: ERROR: Failed during import, wrong module name? (SCIP)\n</code></pre>\n\n<p>I already ran <code>make</code> in '<strong>scipoptsuite-3.1.0</strong>' and in '<strong>scip-3.2.1</strong>', installed <strong>Numberjack-master</strong>'s 'setup.py' and tried this:</p>\n\n<p><code>python setup.py -solver SCIP</code></p>\n\n<p>witch returned the error</p>\n\n<pre><code>Error: the solver 'SCIP' is not known, please use one of: Mistral, SatWrapper, Toulbar2, Walksat, MipWrapper, MiniSat, Mistral2\n</code></pre>\n\n<p>I have the SCIP folders alongside and inside the Numberjack folders.\nI read and ran all the commands in the README and INSTALL files on how I could get this solver configured but I couldn't get it right.\nHow can I get SCIP available to solve the problems in Numberjack?</p>\n"}, {"tags": ["python", "machine-learning", "keras", "deep-learning", "noise-reduction"], "answers": [{"comments": [{"owner": {"reputation": 111, "user_id": 14236920, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/832852974951d07bf9fe71341926cb2d?s=128&d=identicon&r=PG", "display_name": "Sarah", "link": "https://stackoverflow.com/users/14236920/sarah"}, "edited": false, "score": 0, "creation_date": 1602649075, "post_id": 53604373, "comment_id": 113784035, "body": "I was wondering if it is possible to flip the noisy labels in binary classifications, instead of removing them completely."}, {"owner": {"reputation": 2847, "user_id": 3638768, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/552588938/picture?type=large", "display_name": "cgnorthcutt", "link": "https://stackoverflow.com/users/3638768/cgnorthcutt"}, "reply_to_user": {"reputation": 111, "user_id": 14236920, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/832852974951d07bf9fe71341926cb2d?s=128&d=identicon&r=PG", "display_name": "Sarah", "link": "https://stackoverflow.com/users/14236920/sarah"}, "edited": false, "score": 0, "creation_date": 1602765383, "post_id": 53604373, "comment_id": 113827445, "body": "You can, just note that if your model has low accuracy, this will introduce more error, and in a way that is biased by your model. If you do this iteratively, you can fall into a bad minima"}, {"owner": {"reputation": 111, "user_id": 14236920, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/832852974951d07bf9fe71341926cb2d?s=128&d=identicon&r=PG", "display_name": "Sarah", "link": "https://stackoverflow.com/users/14236920/sarah"}, "edited": false, "score": 0, "creation_date": 1602777679, "post_id": 53604373, "comment_id": 113834035, "body": "Thanks! One more question: by noisy labels in CL, do we mean random noises (e.g. someone labelled a cat as a dog just by mistake), or it also considers mislabeled data due to the difficulty of the object as noisy labels (e.g. it&#39;s hard to say the image is a cat or a dog and we probably select a wrong label)?"}, {"owner": {"reputation": 2847, "user_id": 3638768, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/552588938/picture?type=large", "display_name": "cgnorthcutt", "link": "https://stackoverflow.com/users/3638768/cgnorthcutt"}, "reply_to_user": {"reputation": 111, "user_id": 14236920, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/832852974951d07bf9fe71341926cb2d?s=128&d=identicon&r=PG", "display_name": "Sarah", "link": "https://stackoverflow.com/users/14236920/sarah"}, "edited": false, "score": 1, "creation_date": 1602785086, "post_id": 53604373, "comment_id": 113837282, "body": "@Sarah Neither, but much closer to the second than to random noise. CL models class-conditional noise. So that means, for every class, it learns the probability of it being mislabeled as any other class. This assumption is commonly used because it is reasonable.  For example, in ImageNet, a &quot;tiger&quot; is more likely to be mislabeled &quot;cheetah&quot; than &quot;flute.&quot;"}], "tags": [], "owner": {"reputation": 2847, "user_id": 3638768, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/552588938/picture?type=large", "display_name": "cgnorthcutt", "link": "https://stackoverflow.com/users/3638768/cgnorthcutt"}, "is_accepted": true, "score": 5, "last_activity_date": 1579039542, "last_edit_date": 1579039542, "creation_date": 1543886745, "answer_id": 53604373, "question_id": 40009134, "link": "https://stackoverflow.com/questions/40009134/dealing-with-noisy-training-labels-in-text-classification-using-deep-learning/53604373#53604373", "title": "Dealing with noisy training labels in text classification using deep learning", "body": "<p>The <code>cleanlab</code> Python package, <code>pip install cleanlab</code>, for which I am an author, was designed to solve this task: <a href=\"https://github.com/cgnorthcutt/cleanlab/\" rel=\"nofollow noreferrer\">https://github.com/cgnorthcutt/cleanlab/</a>. It's a professional package created for finding labels errrors in datasets and learning with noisy labels. It works with any scikit-learn model out-of-the-box and can be used with PyTorch, FastText, Tensorflow, etc.</p>\n\n<p>To find label errors in your dataset.</p>\n\n<pre><code>from cleanlab.latent_estimation import estimate_cv_predicted_probabilities\n\n# Find the indices of label errors in 2 lines of code.\n\nprobabilities = estimate_cv_predicted_probabilities(\n    X_train_data, \n    train_noisy_labels, \n    clf=LogisticRegression(),\n)\nlabel_error_indices = get_noise_indices(\n    s = train_noisy_labels, \n    psx = probabilities, \n)\n</code></pre>\n\n<p>For learning with noisy labels.</p>\n\n<pre><code># Code taken from https://github.com/cgnorthcutt/cleanlab\nfrom cleanlab.classification import LearningWithNoisyLabels\nfrom sklearn.linear_model import LogisticRegression\n\n# Learning with noisy labels in 3 lines of code.\n\n# Wrap around any classifier. Works with sklearn/pyTorch/Tensorflow/FastText/etc.\nlnl = LearningWithNoisyLabels(clf=LogisticRegression())\nlnl.fit(X = X_train_data, s = train_noisy_labels)\n# Estimate the predictions you would have gotten by training with *no* label errors.\npredicted_test_labels = lnl.predict(X_test)\n</code></pre>\n\n<p>Given that you are working with NLP classification and image classification, here are working examples with <a href=\"https://github.com/cgnorthcutt/cleanlab/blob/master/tests/test_model_fasttext.py\" rel=\"nofollow noreferrer\">FastText</a> (NLP) and <a href=\"https://github.com/cgnorthcutt/cleanlab/blob/master/tests/test_model_pytorch_cnn.py\" rel=\"nofollow noreferrer\">PyTorch</a> (MNIST AlexNet CNN).</p>\n\n<p>Additional documentation is available here: <a href=\"https://l7.curtisnorthcutt.com/cleanlab-python-package\" rel=\"nofollow noreferrer\">https://l7.curtisnorthcutt.com/cleanlab-python-package</a></p>\n"}], "owner": {"reputation": 3626, "user_id": 1829370, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/9e3fd1243386fd33b76d728aabc01a85?s=128&d=identicon&r=PG", "display_name": "JoelKuiper", "link": "https://stackoverflow.com/users/1829370/joelkuiper"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2073, "favorite_count": 2, "accepted_answer_id": 53604373, "answer_count": 1, "score": 3, "last_activity_date": 1579039542, "creation_date": 1476309853, "last_edit_date": 1544565512, "question_id": 40009134, "link": "https://stackoverflow.com/questions/40009134/dealing-with-noisy-training-labels-in-text-classification-using-deep-learning", "title": "Dealing with noisy training labels in text classification using deep learning", "body": "<p>I have a dataset that comprises of sentences and corresponding multi-labels (e.g. a sentence can belong to multiple labels). Using a combination of Convolutional Neural Networks and Recurrent Neural Nets on language models (Word2Vec) I'm able to achieve a good accuracy. However, it's /too/ good at modelling the output, in the sense that a lot of labels are arguably wrong and thus the output too. This means that the evaluation (even with regularization and dropout) gives a wrong impression, since I have no ground truth. Cleaning up the labels would be prohibitively expensive. So I'm left to explore \"denoising\" the labels somehow. I've looked at things like <a href=\"http://www.ee.cuhk.edu.hk/~xgwang/papers/xiaoXYHWcvpr15.pdf\" rel=\"nofollow\">\"Learning from Massive Noisy Labeled Data for Image Classification\"</a>, however they assume to learn some sort of noise covariace matrix on the outputs, which I'm not sure how to do in Keras. </p>\n\n<p>Has anyone dealt with the problem of noisy labels in a mutli-label text classification setting before (ideally using Keras or similar) and has good ideas on how to learn a robust model with noisy labels? </p>\n"}, {"tags": ["python", "python-2.7", "microsoft-cognitive"], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 7010413, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd0081403ed65bbf86efdd7c896356ff?s=128&d=identicon&r=PG&f=1", "display_name": "Harshil Shah", "link": "https://stackoverflow.com/users/7010413/harshil-shah"}, "edited": false, "score": 0, "creation_date": 1476375585, "post_id": 40024245, "comment_id": 67329655, "body": "I realized my mistake. thanks but get the following response:"}, {"owner": {"reputation": 3, "user_id": 7010413, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd0081403ed65bbf86efdd7c896356ff?s=128&d=identicon&r=PG&f=1", "display_name": "Harshil Shah", "link": "https://stackoverflow.com/users/7010413/harshil-shah"}, "edited": false, "score": 0, "creation_date": 1476375597, "post_id": 40024245, "comment_id": 67329662, "body": "{   &quot;error&quot;: {     &quot;code&quot;: &quot;BadRequest&quot;,     &quot;message&quot;: &quot;Invalid Audio Format: Not a WAVE file - no RIFF header&quot;   } }"}, {"owner": {"reputation": 2858, "user_id": 5580267, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/t25i0.png?s=128&g=1", "display_name": "cthrash", "link": "https://stackoverflow.com/users/5580267/cthrash"}, "reply_to_user": {"reputation": 3, "user_id": 7010413, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd0081403ed65bbf86efdd7c896356ff?s=128&d=identicon&r=PG&f=1", "display_name": "Harshil Shah", "link": "https://stackoverflow.com/users/7010413/harshil-shah"}, "edited": false, "score": 0, "creation_date": 1476376147, "post_id": 40024245, "comment_id": 67330011, "body": "This is unrelated to the original question, but you&#39;ll want to send the raw audio, including the RIFF headers.  In your code snippet you&#39;re sending &#39;naked&#39; audio frames.  Since you&#39;re sending the entire .wav file anyway, you can just set <code>body = open(&#39;test.wav&#39;, &#39;rb&#39;)</code>"}, {"owner": {"reputation": 3, "user_id": 7010413, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd0081403ed65bbf86efdd7c896356ff?s=128&d=identicon&r=PG&f=1", "display_name": "Harshil Shah", "link": "https://stackoverflow.com/users/7010413/harshil-shah"}, "edited": false, "score": 0, "creation_date": 1476376457, "post_id": 40024245, "comment_id": 67330213, "body": "I did try it , the error is solved but returns empty data rather what actually should be returned is the location url"}, {"owner": {"reputation": 2858, "user_id": 5580267, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/t25i0.png?s=128&g=1", "display_name": "cthrash", "link": "https://stackoverflow.com/users/5580267/cthrash"}, "reply_to_user": {"reputation": 3, "user_id": 7010413, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd0081403ed65bbf86efdd7c896356ff?s=128&d=identicon&r=PG&f=1", "display_name": "Harshil Shah", "link": "https://stackoverflow.com/users/7010413/harshil-shah"}, "edited": false, "score": 0, "creation_date": 1476380551, "post_id": 40024245, "comment_id": 67332478, "body": "The location URL is in a response header, not the body. <code>response.info().getheader(&#39;Operation-Location&#39;).</code>"}, {"owner": {"reputation": 2858, "user_id": 5580267, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/t25i0.png?s=128&g=1", "display_name": "cthrash", "link": "https://stackoverflow.com/users/5580267/cthrash"}, "reply_to_user": {"reputation": 3, "user_id": 7010413, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd0081403ed65bbf86efdd7c896356ff?s=128&d=identicon&r=PG&f=1", "display_name": "Harshil Shah", "link": "https://stackoverflow.com/users/7010413/harshil-shah"}, "edited": false, "score": 0, "creation_date": 1476381063, "post_id": 40024245, "comment_id": 67332719, "body": "Or, rather, <code>response.getheader(&#39;operation-location&#39;)</code>"}], "tags": [], "owner": {"reputation": 2858, "user_id": 5580267, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/t25i0.png?s=128&g=1", "display_name": "cthrash", "link": "https://stackoverflow.com/users/5580267/cthrash"}, "is_accepted": true, "score": 1, "last_activity_date": 1476369971, "creation_date": 1476369971, "answer_id": 40024245, "question_id": 40009127, "link": "https://stackoverflow.com/questions/40009127/error-with-speaker-recognition-api-resource-or-path-cant-be-found/40024245#40024245", "title": "Error with Speaker Recognition API: &quot;Resource or path can&#39;t be found.&quot;", "body": "<p>identificationProfileId is part of the URL path, not a query parameter.  You should do the following instead:</p>\n\n<pre><code>params = urllib.urlencode({\n        # Request parameters\n        'shortAudio': 'true',\n    })\n...\nconn.request(\"POST\", \"/spid/v1.0/identificationProfiles/{0}/enroll?{1}\".format(user1, params), body, headers)\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 7010413, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd0081403ed65bbf86efdd7c896356ff?s=128&d=identicon&r=PG&f=1", "display_name": "Harshil Shah", "link": "https://stackoverflow.com/users/7010413/harshil-shah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 492, "favorite_count": 0, "accepted_answer_id": 40024245, "answer_count": 1, "score": 0, "last_activity_date": 1476369971, "creation_date": 1476309809, "last_edit_date": 1476311850, "question_id": 40009127, "link": "https://stackoverflow.com/questions/40009127/error-with-speaker-recognition-api-resource-or-path-cant-be-found", "title": "Error with Speaker Recognition API: &quot;Resource or path can&#39;t be found.&quot;", "body": "<p>I'm trying to run the enroll profile code of speaker recognition API using Jupyter Python.</p>\n\n<p>Unfortunately, I am getting an error:</p>\n\n<pre><code>{ \"error\": { \"code\": \"NotFound\", \"message\": \"Resource or path can't be found.\" } }\n</code></pre>\n\n<p>Here is the code:</p>\n\n<pre><code>#Loading .wav file   \n     w = wave.open(\"Harshil_recording_final.wav\", \"rb\")\n     binary_data = w.readframes(w.getnframes())\n#User Enrollment\n    headers = {\n        # Request headers\n        'Content-Type': 'application/octet-stream',\n        'Ocp-Apim-Subscription-Key': '*subscription-key*',\n    }\n\n    params = urllib.urlencode({\n        # Request parameters\n        'identificationProfileId':user1,\n        'shortAudio': 'true',\n    })\n\n    body = w\n\n    try:\n        conn = httplib.HTTPSConnection('api.projectoxford.ai')\n        conn.request(\"POST\",  \"/spid/v1.0/identificationProfiles/{identificationProfileId}/enroll?%s\" % params, str(body), headers)\n        response = conn.getresponse()\n        data = response.read()\n        print(data)\n        conn.close()\n    except Exception as e:\n        print(\"[Errno {0}] {1}\".format(e.errno, e.strerror))\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 2535, "user_id": 3771976, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cnoOG.png?s=128&g=1", "display_name": "nbering", "link": "https://stackoverflow.com/users/3771976/nbering"}, "edited": false, "score": 2, "creation_date": 1476309811, "post_id": 40009106, "comment_id": 67296355, "body": "What library are you using? I don&#39;t see any imports or anything here to determine what you&#39;re using."}, {"owner": {"reputation": 133, "user_id": 3869287, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f657280b1e6f2851bd981d7fd2bf2fe?s=128&d=identicon&r=PG&f=1", "display_name": "Jeremiah Johnson", "link": "https://stackoverflow.com/users/3869287/jeremiah-johnson"}, "edited": false, "score": 0, "creation_date": 1476403784, "post_id": 40009106, "comment_id": 67342950, "body": "Do you intend for b to be true_strain and a to be true_stress_2? Because you have x as true_strain and y as true_stress, so it looks like you&#39;re swapping independent and dependent variables, which could throw the plot."}], "answers": [{"tags": [], "owner": {"reputation": 570, "user_id": 4256345, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7d83aded81e3d7ccfef87df0506a9f6e?s=128&d=identicon&r=PG&f=1", "display_name": "blurb", "link": "https://stackoverflow.com/users/4256345/blurb"}, "is_accepted": false, "score": 0, "last_activity_date": 1476309891, "creation_date": 1476309891, "answer_id": 40009145, "question_id": 40009106, "link": "https://stackoverflow.com/questions/40009106/how-to-plot-two-different-graphs-in-python/40009145#40009145", "title": "How to plot two different graphs in python", "body": "<p>you haven't actually called plt.show(), try adding it at the bottom.</p>\n\n<pre><code>x=sorted(true_strain)\ny=sorted(true_stress_1)\nplt.plot(x,y)\nplt.title('$Tensile Stress-Strain Curve$')\nplt.xlabel('True Strain [-]')\nplt.ylabel('$True Stress (MPa)$')\na=(true_stress_2)\nb=sorted(true_strain)\nplt.plot(a,b)\nplt.show()\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 7010463, "user_type": "registered", "profile_image": "https://graph.facebook.com/1772429756356308/picture?type=large", "display_name": "Tom Tan", "link": "https://stackoverflow.com/users/7010463/tom-tan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 124, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1476332269, "creation_date": 1476309701, "last_edit_date": 1476332269, "question_id": 40009106, "link": "https://stackoverflow.com/questions/40009106/how-to-plot-two-different-graphs-in-python", "title": "How to plot two different graphs in python", "body": "<p>I want to get two lines in the same graph.</p>\n\n<p>This is my code: </p>\n\n<pre><code>    x=sorted(true_strain)\n    y=sorted(true_stress_1)\n    plt.plot(x,y)\n    plt.title('$Tensile Stress-Strain Curve$')\n    plt.xlabel('True Strain [-]')\n    plt.ylabel('$True Stress (MPa)$')\n    a=(true_stress_2)\n    b=sorted(true_strain)\n    plt.plot(a,b)\n</code></pre>\n\n<p>But the image I got is blank. What am I missing?</p>\n"}, {"tags": ["python", "python-2.7", "mime-types", "xlsxwriter"], "owner": {"reputation": 11, "user_id": 7010448, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eee52b55182703bf5d536a078343401c?s=128&d=identicon&r=PG&f=1", "display_name": "markk", "link": "https://stackoverflow.com/users/7010448/markk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 207, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1476451699, "creation_date": 1476309626, "last_edit_date": 1476311565, "question_id": 40009088, "link": "https://stackoverflow.com/questions/40009088/serving-excel-2007-file-generated-by-python", "title": "Serving Excel 2007 file generated by Python", "body": "<p>I am looking to generate an Excel workbook based on the input from users in an HTML form. After the form is submitted, a Python script will generate the file and send it to the user. I am using xlsxwriter to create the spreadsheet. </p>\n\n<p>I have been able to create a sample file and then provide a link to it, but I want to create the file in memory so there is no clean up. </p>\n\n<p>My code creates a file and sends it to me but when I try to open it in Excel, I receive a message saying</p>\n\n<blockquote>\n  <p>Excel found unreadable content in 'sample.xlsx'. Do you want to recover the contents of this workbook? If you trust the source of this workbook, click Yes.</p>\n</blockquote>\n\n<p>If i click yes, I get a blank sheet. If I open it in a text editor, I can see the file is not empty; the file is 6k in size. Do I need to change my content-type? Or  make some other change?</p>\n\n<pre><code>#!/Temp/Python27/python\nimport io\nfrom sys import stdout\nimport xlsxwriter\n\noutput = io.BytesIO()\n\nworkbook = xlsxwriter.Workbook(output)\nworksheet = workbook.add_worksheet()\nworksheet.write(1, 1, 'Hello, world!')\nworkbook.close()\n\ncontents = output.getvalue()\noutput.close()\n\nprint('Content-Type:application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\\nContent-Disposition:attachment; filename=\"sample.xlsx\"\\n')\nprint (contents)\n</code></pre>\n"}, {"tags": ["python", "pandas", "zipfile"], "answers": [{"tags": [], "owner": {"reputation": 55248, "user_id": 642070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c280b71b3187d1cc113a6e302b414b9?s=128&d=identicon&r=PG", "display_name": "tdelaney", "link": "https://stackoverflow.com/users/642070/tdelaney"}, "is_accepted": false, "score": 1, "last_activity_date": 1476311299, "creation_date": 1476311299, "answer_id": 40009399, "question_id": 40009022, "link": "https://stackoverflow.com/questions/40009022/extract-files-inside-zip-sub-folders-with-python-zipfile/40009399#40009399", "title": "extract files inside zip sub folders with python zipfile", "body": "<p>Use another <code>BytesIO</code> object to open the contained zipfile</p>\n\n<pre><code>from io import BytesIO\nimport pandas as pd\nimport requests\nimport zipfile\n\n# Read outer zip file\nurl1 = 'https://www.someurl.com/abc.zip'\nr = requests.get(url1)\nz = zipfile.ZipFile(BytesIO(r.content))\n\n# lets say the archive is:\n#     zippped_folder/pqr.zip (which contains pqr.csv)\n\n# Read contained zip file\npqr_zip = zipfile.ZipFile(BytesIO(z.open('zippped_folder/pqr.zip')))\ntemp = pd.read_csv(pqr_zip.open('prq.csv'))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2563, "user_id": 4695774, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/bdc15d346c2f5b951bc99e0150c1a49d?s=128&d=identicon&r=PG&f=1", "display_name": "Siraj S.", "link": "https://stackoverflow.com/users/4695774/siraj-s"}, "is_accepted": false, "score": 1, "last_activity_date": 1476466496, "last_edit_date": 1476466496, "creation_date": 1476386524, "answer_id": 40029280, "question_id": 40009022, "link": "https://stackoverflow.com/questions/40009022/extract-files-inside-zip-sub-folders-with-python-zipfile/40029280#40029280", "title": "extract files inside zip sub folders with python zipfile", "body": "<p>After trying some permutation-combination, i hatched the problem with this code</p>\n\n<pre><code>zz = zipfile.ZipFile(z.namelist()[i])\ntemp2  = pd.read_csv(zz.open('pqr.csv'))\n# where i is the index position of the child zip folder in the namelist() list. In this case, the 'xyz.zip' folder\n\n# for eg if the 'xyz.zip' folder was third in the list, the command would be:\nzz = zipfile.ZipFile(z.namelist()[2])\n</code></pre>\n\n<p>alternatively, if the index position is not known, the same can be achieved like this:</p>\n\n<pre><code>zz  = zipfile.ZipFile(z.namelist()[z.namelist().index('xyz.zip')])\n</code></pre>\n"}], "owner": {"reputation": 2563, "user_id": 4695774, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/bdc15d346c2f5b951bc99e0150c1a49d?s=128&d=identicon&r=PG&f=1", "display_name": "Siraj S.", "link": "https://stackoverflow.com/users/4695774/siraj-s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 991, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1476466496, "creation_date": 1476309304, "question_id": 40009022, "link": "https://stackoverflow.com/questions/40009022/extract-files-inside-zip-sub-folders-with-python-zipfile", "title": "extract files inside zip sub folders with python zipfile", "body": "<p>i have a zip folder that contains files and child zip folders. I am able to read the files placed in the parent folder but how can i get to the files inside the child zip folders? here is my code to get the files inside the parent folder</p>\n\n<pre><code>from io import BytesIO\nimport pandas as pd\nimport requests\nimport zipfile\nurl1 = 'https://www.someurl.com/abc.zip'\nr = requests.get(url1)\nz = zipfile.ZipFile(BytesIO(r.content))    \ntemp  = pd.read_csv(z.open('mno.csv')\n</code></pre>\n\n<p>my question is, if lets say, I have a child sub folder </p>\n\n<pre><code>xyz.zip \n</code></pre>\n\n<p>containing file</p>\n\n<pre><code>pqr.csv\n</code></pre>\n\n<p>how can I read this file</p>\n"}, {"tags": ["python", "list", "recursion", "sum"], "answers": [{"comments": [{"owner": {"reputation": 7736, "user_id": 2744242, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/71d3267f5993b6b79619213c789524b5?s=128&d=identicon&r=PG&f=1", "display_name": "rafaelcb21", "link": "https://stackoverflow.com/users/2744242/rafaelcb21"}, "edited": false, "score": 0, "creation_date": 1531891384, "post_id": 40009062, "comment_id": 89759600, "body": "In python 2.7 I used <code>from more_itertools import accumulate</code> installed by <code>pip install more-itertools</code>"}], "tags": [], "owner": {"reputation": 30387, "user_id": 6260170, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/0caf9a0d28be362618ffc0223b301d6e?s=128&d=identicon&r=PG&f=1", "display_name": "Chris_Rands", "link": "https://stackoverflow.com/users/6260170/chris-rands"}, "is_accepted": true, "score": 2, "last_activity_date": 1476309517, "creation_date": 1476309517, "answer_id": 40009062, "question_id": 40009019, "link": "https://stackoverflow.com/questions/40009019/python-recursive-sum-list/40009062#40009062", "title": "Python - recursive sum list", "body": "<p>Use <code>itertools.accumulate</code></p>\n\n<pre><code>&gt;&gt;&gt; from itertools import accumulate\n&gt;&gt;&gt; l = [ 25690.16, -34010.61, 9278.44, -808.00, -2126.95, 3920.19, -1793.23, 997.54, -1142.55, -69349.58 ]\n&gt;&gt;&gt; list(accumulate(l))\n[25690.16, -8320.45, 957.9899999999998, 149.98999999999978, -1976.96, 1943.23, 150.0, 1147.54, 4.990000000000009, -69344.59]\n</code></pre>\n\n<p>This is generally faster than the alternative of <code>numpy.cumsum</code></p>\n\n<pre><code>&gt;&gt;&gt; from numpy import cumsum\n&gt;&gt;&gt; l = [ 25690.16, -34010.61, 9278.44, -808.00, -2126.95, 3920.19, -1793.23, 997.54, -1142.55, -69349.58 ]\n&gt;&gt;&gt; cumsum(l)\narray([  2.56901600e+04,  -8.32045000e+03,   9.57990000e+02,\n         1.49990000e+02,  -1.97696000e+03,   1.94323000e+03,\n         1.50000000e+02,   1.14754000e+03,   4.99000000e+00,\n        -6.93445900e+04])\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 17319, "user_id": 3124746, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/0ihpR.jpg?s=128&g=1", "display_name": "vishes_shell", "link": "https://stackoverflow.com/users/3124746/vishes-shell"}, "edited": false, "score": 1, "creation_date": 1476309849, "post_id": 40009125, "comment_id": 67296370, "body": "That one is inefficient(every iteration computing <code>sum</code>)"}], "tags": [], "owner": {"reputation": 965, "user_id": 5109681, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/h7mck.jpg?s=128&g=1", "display_name": "Rehan Shikkalgar", "link": "https://stackoverflow.com/users/5109681/rehan-shikkalgar"}, "is_accepted": false, "score": 0, "last_activity_date": 1476309808, "creation_date": 1476309808, "answer_id": 40009125, "question_id": 40009019, "link": "https://stackoverflow.com/questions/40009019/python-recursive-sum-list/40009125#40009125", "title": "Python - recursive sum list", "body": "<p>iterative method</p>\n\n<pre><code>L = [1,2,3,4,5,6]\nN = []\nfor i in range(1,len(L)+1):\n    N.append(sum(L[:i]))\nprint(N)\n</code></pre>\n\n<p>hope this helps</p>\n"}, {"tags": [], "owner": {"reputation": 1789, "user_id": 5626104, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d9bff58c22f757507d69a779603d3eac?s=128&d=identicon&r=PG&f=1", "display_name": "Brian", "link": "https://stackoverflow.com/users/5626104/brian"}, "is_accepted": false, "score": 1, "last_activity_date": 1476309953, "creation_date": 1476309953, "answer_id": 40009157, "question_id": 40009019, "link": "https://stackoverflow.com/questions/40009019/python-recursive-sum-list/40009157#40009157", "title": "Python - recursive sum list", "body": "<p>Without using imports:</p>\n\n<pre><code>&gt;&gt;&gt; l = [ 25690.16, -34010.61, 9278.44, -808.00, -2126.95, 3920.19, -1793.23, 997.54, -1142.55, -69349.58 ]\n&gt;&gt;&gt; o = [l[0]]\n&gt;&gt;&gt; for x in l[1:]:\n&gt;&gt;&gt;     o.append(x+o[-1])\n&gt;&gt;&gt; print(o)    \n[25690.16, -8320.45, 957.9899999999998, 149.98999999999978, -1976.96, 1943.23, 150.0, 1147.54, 4.990000000000009, -69344.59]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 25, "user_id": 5786532, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a587a907242a044a6b98b28c611fdb4f?s=128&d=identicon&r=PG&f=1", "display_name": "Michael Wang", "link": "https://stackoverflow.com/users/5786532/michael-wang"}, "is_accepted": false, "score": 0, "last_activity_date": 1476310357, "creation_date": 1476310357, "answer_id": 40009218, "question_id": 40009019, "link": "https://stackoverflow.com/questions/40009019/python-recursive-sum-list/40009218#40009218", "title": "Python - recursive sum list", "body": "<pre><code>def sum_list(l):\n    L = [sum(l[:i+1]) for i in range(len(l))]\n    return L\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 91, "user_id": 3835358, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/a2968bcb48531f2d33104ebcee37ca2a?s=128&d=identicon&r=PG&f=1", "display_name": "PeterPa1va", "link": "https://stackoverflow.com/users/3835358/peterpa1va"}, "is_accepted": false, "score": 0, "last_activity_date": 1476310583, "creation_date": 1476310583, "answer_id": 40009264, "question_id": 40009019, "link": "https://stackoverflow.com/questions/40009019/python-recursive-sum-list/40009264#40009264", "title": "Python - recursive sum list", "body": "<p>I Think that you want something like this:</p>\n\n<pre><code>l = [1,2,3,4,5]\nl2 = []\nl2.append(l[0])\naux = l[0]\ni = 0\nwhile i &lt; len(l):\n    if i+1 &lt; len(l):\n        l2.append(aux + l[i+1])\n        aux=l[i+1]\n    i=i+1\n\nprint (l2)\n</code></pre>\n"}], "owner": {"reputation": 7736, "user_id": 2744242, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/71d3267f5993b6b79619213c789524b5?s=128&d=identicon&r=PG&f=1", "display_name": "rafaelcb21", "link": "https://stackoverflow.com/users/2744242/rafaelcb21"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 819, "favorite_count": 2, "closed_date": 1476319639, "accepted_answer_id": 40009062, "answer_count": 5, "score": 1, "last_activity_date": 1476310583, "creation_date": 1476309284, "question_id": 40009019, "link": "https://stackoverflow.com/questions/40009019/python-recursive-sum-list", "closed_reason": "Duplicate", "title": "Python - recursive sum list", "body": "<p>How to generate a list with Python in which each element is the sum of the previous numbers.</p>\n\n<p>Here's an example:</p>\n\n<pre><code>input: [ 25690.16, -34010.61, 9278.44, -808.00, -2126.95, 3920.19, -1793.23, 997.54, -1142.55, -69349.58 ]\n\n25690.16 + -34010.61 = -8320.45\n-8320.45 + 9278.44 = -8320.45\n957.99 + -808.00 = 149.99\n149.99 + -2126.95 = -1976.96\n-1976.96 + 3920.19 = 1943.23\n1943.23 + -1793.23 = 150\n150 + 997.54 = 1147.54\n1147.54 + -1142.55 = 4.99\n4.99 + -69349.58 = -69344.54\n\noutput: [ 25690.16, -8320.45, -8320.45, 149.99, -1976.96, 1943.23, 150, 1147.54, 4.99, -69344.54 ]\n</code></pre>\n"}, {"tags": ["python", "python-2.7", "pandas", "dataframe"], "comments": [{"owner": {"reputation": 26041, "user_id": 3339965, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ac89d084d3bc5dc083bad3ea5518f11?s=128&d=identicon&r=PG&f=1", "display_name": "root", "link": "https://stackoverflow.com/users/3339965/root"}, "edited": false, "score": 3, "creation_date": 1476309951, "post_id": 40009017, "comment_id": 67296412, "body": "Can&#39;t you just use the <code>decimal</code> parameter of <code>read_csv</code>, i.e. <code>pd.read_csv(file.csv, decimal=&#39;,&#39;)</code>?"}, {"owner": {"reputation": 4020, "user_id": 5082463, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/877843e34372342a80c73f38ee79ad60?s=128&d=identicon&r=PG&f=1", "display_name": "KcFnMi", "link": "https://stackoverflow.com/users/5082463/kcfnmi"}, "reply_to_user": {"reputation": 26041, "user_id": 3339965, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ac89d084d3bc5dc083bad3ea5518f11?s=128&d=identicon&r=PG&f=1", "display_name": "root", "link": "https://stackoverflow.com/users/3339965/root"}, "edited": false, "score": 0, "creation_date": 1476310791, "post_id": 40009017, "comment_id": 67296715, "body": "It seems to work but I had to remove <code>engine=&#39;python&#39;</code> (which, apparently, has no negative effect)."}, {"owner": {"reputation": 26041, "user_id": 3339965, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ac89d084d3bc5dc083bad3ea5518f11?s=128&d=identicon&r=PG&f=1", "display_name": "root", "link": "https://stackoverflow.com/users/3339965/root"}, "edited": false, "score": 0, "creation_date": 1476310900, "post_id": 40009017, "comment_id": 67296758, "body": "Okay, added my comment as an answer.  It&#39;s probably better to not use <code>engine=&#39;python&#39;</code> unless you absolutely need to.  The default C engine is faster."}, {"owner": {"reputation": 26041, "user_id": 3339965, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ac89d084d3bc5dc083bad3ea5518f11?s=128&d=identicon&r=PG&f=1", "display_name": "root", "link": "https://stackoverflow.com/users/3339965/root"}, "edited": false, "score": 0, "creation_date": 1476311341, "post_id": 40009017, "comment_id": 67296929, "body": "I didn&#39;t downvote."}], "answers": [{"comments": [{"owner": {"reputation": 4020, "user_id": 5082463, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/877843e34372342a80c73f38ee79ad60?s=128&d=identicon&r=PG&f=1", "display_name": "KcFnMi", "link": "https://stackoverflow.com/users/5082463/kcfnmi"}, "edited": false, "score": 0, "creation_date": 1476309714, "post_id": 40009079, "comment_id": 67296323, "body": "Question edited in respect to your answer. How to I get a list off all colums which contain <code>,</code>?"}], "tags": [], "owner": {"reputation": 630, "user_id": 2666182, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/JxB5i.jpg?s=128&g=1", "display_name": "gokul_uf", "link": "https://stackoverflow.com/users/2666182/gokul-uf"}, "is_accepted": false, "score": 0, "last_activity_date": 1476310304, "last_edit_date": 1476310304, "creation_date": 1476309582, "answer_id": 40009079, "question_id": 40009017, "link": "https://stackoverflow.com/questions/40009017/convert-decimal-separator/40009079#40009079", "title": "Convert decimal separator", "body": "<p>You don't have to provide all the column names to <code>converter</code>. </p>\n\n<p>Give only those columns you want to convert </p>\n\n<p>It would be <code>converter = {'col_name':lambda x : str(x).replace(',','.')}</code></p>\n\n<p><b>EDIT</b> after rewording question.</p>\n\n<p>Is this the best way to do it?</p>\n\n<p>I would say yes. OP mentioned that there are a large number of columns he/she wants to convert and feels that a <code>dict</code> go out of hand. IMO, it will not. There are two reasons to why it wouldn't. </p>\n\n<p>The first reason is that eventhough you have a large number of columns, I assume there is some pattern to it, (like the column numbers 2, 4... need to be converted). You could run a <code>for</code> loop or a list comprehension to generate this <code>dict</code> and pass it to the converter. Another advantage is that converters accept both column label as well as column index as keys so you don't have to mention the column labels.</p>\n\n<p>Second, a <code>dict</code> is implemented using a hash table. This ensures that worst case look-up is constant time. So you don't have to worry about slow runtimes when using a large number of elements in the dictionary.</p>\n\n<p>Though your method is correct, IMO it is reinventing the wheel.</p>\n"}, {"tags": [], "owner": {"reputation": 26041, "user_id": 3339965, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ac89d084d3bc5dc083bad3ea5518f11?s=128&d=identicon&r=PG&f=1", "display_name": "root", "link": "https://stackoverflow.com/users/3339965/root"}, "is_accepted": true, "score": 3, "last_activity_date": 1476310848, "creation_date": 1476310848, "answer_id": 40009329, "question_id": 40009017, "link": "https://stackoverflow.com/questions/40009017/convert-decimal-separator/40009329#40009329", "title": "Convert decimal separator", "body": "<p>You can use the <code>decimal</code> parameter of <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.read_csv.html\" rel=\"nofollow\"><code>read_csv</code></a>:</p>\n\n<pre><code>df = pd.read_csv(file.csv, decimal=',')\n</code></pre>\n"}], "owner": {"reputation": 4020, "user_id": 5082463, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/877843e34372342a80c73f38ee79ad60?s=128&d=identicon&r=PG&f=1", "display_name": "KcFnMi", "link": "https://stackoverflow.com/users/5082463/kcfnmi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 243, "favorite_count": 0, "accepted_answer_id": 40009329, "answer_count": 2, "score": 1, "last_activity_date": 1476310848, "creation_date": 1476309282, "last_edit_date": 1476309673, "question_id": 40009017, "link": "https://stackoverflow.com/questions/40009017/convert-decimal-separator", "title": "Convert decimal separator", "body": "<p>I'm loading a CSV where decimal value separator is <code>,</code> and I would like to replace it by <code>.</code> in order to proceed the analysis.</p>\n\n<p>I see the <code>converters</code> option in <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.read_csv.html\" rel=\"nofollow\">pandas.read_csv</a> but to use it I need to provide a list of all column names (which I want to convert), which might not be a good idea since there are lots of columns.</p>\n\n<p>What I have in mind is to look each cell in all columns and replace it. </p>\n\n<pre><code>ii = len(list(df))-1\nprint ii\njj = len(df.ix[:,0])\nprint jj\nfor i in range(0, ii):\n    for j in range(0, jj):\n        df.ix[i,j] = df.ix[i,j].to_string().replace(',' , '.')\n</code></pre>\n\n<p>Is there a better approach?</p>\n"}, {"tags": ["python", "string"], "answers": [{"comments": [{"owner": {"reputation": 455, "user_id": 4419140, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/1a28fa151ef3ddf73ed9a11aead9d657?s=128&d=identicon&r=PG&f=1", "display_name": "Miner_Glitch", "link": "https://stackoverflow.com/users/4419140/miner-glitch"}, "edited": false, "score": 0, "creation_date": 1476311643, "post_id": 40009138, "comment_id": 67297041, "body": "It looks like the range of predefined integers is -5 to +256.  All others seem to get created on the fly from literals, so &quot;is&quot; returns False."}, {"owner": {"reputation": 12794, "user_id": 2434234, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/27abf47fb5737a73fe93464a8e77c758?s=128&d=identicon&r=PG", "display_name": "Nick Humrich", "link": "https://stackoverflow.com/users/2434234/nick-humrich"}, "edited": false, "score": 0, "creation_date": 1476313101, "post_id": 40009138, "comment_id": 67297441, "body": "Didnt mark as answer because you say &quot;its optimization&quot; but dont explain how its being stored, which is the question. Or in otherwords HOW are they doing the optimization."}], "tags": [], "owner": {"reputation": 27886, "user_id": 636626, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/b18fc48caab5bf7c3e2a15292972f05b?s=128&d=identicon&r=PG", "display_name": "Nils Werner", "link": "https://stackoverflow.com/users/636626/nils-werner"}, "is_accepted": false, "score": 3, "last_activity_date": 1476347219, "last_edit_date": 1476347219, "creation_date": 1476309861, "answer_id": 40009138, "question_id": 40009015, "link": "https://stackoverflow.com/questions/40009015/how-is-python-storing-strings-so-that-the-is-operator-works-on-literals/40009138#40009138", "title": "How is python storing strings so that the &#39;is&#39; operator works on literals?", "body": "<p>It's an optimisation technique called interning. CPython recognises the <a href=\"https://github.com/python/cpython/blob/c21f17c6e9d3218812b593f6ec5647e91c16896b/Objects/codeobject.c#L59\" rel=\"nofollow\">equal values of <strong>string constants</strong></a> and doesn't allocate extra memory for new instances but simply points to the same one (interns it), giving both the same <code>id()</code>. </p>\n\n<p>One can play around to confirm that only constants are treated this way (simple operations like <code>b</code> are recognised):</p>\n\n<pre><code># Two string constants\na = \"aaaa\"\nb = \"aa\" + \"aa\"\n\n# Prevent interpreter from figuring out string constant\nc = \"aaa\"\nc += \"a\"\n\nprint id(a)         # 4509752320\nprint id(b)         # 4509752320\nprint id(c)         # 4509752176 !!\n</code></pre>\n\n<p>However you can manually force a string to be mapped to an already existing one using <a href=\"https://docs.python.org/2/library/functions.html#intern\" rel=\"nofollow\"><code>intern()</code></a>:</p>\n\n<pre><code>c = intern(c)\n\nprint id(a)         # 4509752320\nprint id(b)         # 4509752320\nprint id(c)         # 4509752320 !!\n</code></pre>\n\n<p>Other interpreters may do it differently. Since strings are immutable, changing one of the two will not change the other.</p>\n"}, {"comments": [{"owner": {"reputation": 17319, "user_id": 3124746, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/0ihpR.jpg?s=128&g=1", "display_name": "vishes_shell", "link": "https://stackoverflow.com/users/3124746/vishes-shell"}, "edited": false, "score": 0, "creation_date": 1476311155, "post_id": 40009292, "comment_id": 67296863, "body": "<code>is</code> compares object <code>id</code>s"}, {"owner": {"reputation": 630, "user_id": 2666182, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/JxB5i.jpg?s=128&g=1", "display_name": "gokul_uf", "link": "https://stackoverflow.com/users/2666182/gokul-uf"}, "reply_to_user": {"reputation": 17319, "user_id": 3124746, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/0ihpR.jpg?s=128&g=1", "display_name": "vishes_shell", "link": "https://stackoverflow.com/users/3124746/vishes-shell"}, "edited": false, "score": 0, "creation_date": 1476311840, "post_id": 40009292, "comment_id": 67297106, "body": "It compares memory addresses as well. See <a href=\"http://stackoverflow.com/questions/2987958/how-is-the-is-keyword-implemented-in-python\" title=\"how is the is keyword implemented in python\">stackoverflow.com/questions/2987958/&hellip;</a>"}, {"owner": {"reputation": 12794, "user_id": 2434234, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/27abf47fb5737a73fe93464a8e77c758?s=128&d=identicon&r=PG", "display_name": "Nick Humrich", "link": "https://stackoverflow.com/users/2434234/nick-humrich"}, "edited": false, "score": 1, "creation_date": 1476313139, "post_id": 40009292, "comment_id": 67297450, "body": "id == memory address in CPython IIRC"}], "tags": [], "owner": {"reputation": 630, "user_id": 2666182, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/JxB5i.jpg?s=128&g=1", "display_name": "gokul_uf", "link": "https://stackoverflow.com/users/2666182/gokul-uf"}, "is_accepted": true, "score": 0, "last_activity_date": 1476311916, "last_edit_date": 1495542790, "creation_date": 1476310694, "answer_id": 40009292, "question_id": 40009015, "link": "https://stackoverflow.com/questions/40009015/how-is-python-storing-strings-so-that-the-is-operator-works-on-literals/40009292#40009292", "title": "How is python storing strings so that the &#39;is&#39; operator works on literals?", "body": "<p>It doesn't store an array of all possible strings, instead it has a hash table which point to memory addresses of all currently declared strings, indexed by the hash of the string.</p>\n\n<p>For example</p>\n\n<p>when you say <code>a = 'foo'</code>, it first hashes the string <code>foo</code> and checks if an entry already exists in the hash table. If yes, then variable <code>a</code> now references that address. </p>\n\n<p>If no entry is found in the table, python allocates memory to store the string, hashes <code>foo</code> and adds an entry in the table with the address of the allocated memory.</p>\n\n<p>See:</p>\n\n<ol>\n<li><a href=\"https://stackoverflow.com/questions/2987958/how-is-the-is-keyword-implemented-in-python\">How is the &#39;is&#39; keyword implemented in Python?</a></li>\n<li><a href=\"https://en.wikipedia.org/wiki/String_interning\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/String_interning</a></li>\n</ol>\n"}], "owner": {"reputation": 12794, "user_id": 2434234, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/27abf47fb5737a73fe93464a8e77c758?s=128&d=identicon&r=PG", "display_name": "Nick Humrich", "link": "https://stackoverflow.com/users/2434234/nick-humrich"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 147, "favorite_count": 0, "accepted_answer_id": 40009292, "answer_count": 2, "score": 5, "last_activity_date": 1476347219, "creation_date": 1476309266, "last_edit_date": 1476311400, "question_id": 40009015, "link": "https://stackoverflow.com/questions/40009015/how-is-python-storing-strings-so-that-the-is-operator-works-on-literals", "title": "How is python storing strings so that the &#39;is&#39; operator works on literals?", "body": "<p>In python </p>\n\n<pre><code>&gt;&gt;&gt; a = 5\n&gt;&gt;&gt; a is 5\nTrue\n</code></pre>\n\n<p>but </p>\n\n<pre><code>&gt;&gt;&gt; a = 500\n&gt;&gt;&gt; a is 500\nFalse\n</code></pre>\n\n<p>This is because it stores low integers as a single address. But once the numbers begin to be complex, each int gets its own unique address space. This makes sense to me.</p>\n\n<blockquote>\n  <p>The current implementation keeps an array of integer objects for all integers between -5 and 256, when you create an int in that range you actually just get back a reference to the existing object. </p>\n</blockquote>\n\n<p>So now, why does this not apply to strings? Are not strings just as complex as large integers (if not moreso)?</p>\n\n<pre><code>&gt;&gt;&gt; a = '1234567'\n&gt;&gt;&gt; a is '1234567'\nTrue\n</code></pre>\n\n<p>How does python use the same address for all string literals efficiently? It cant keep an array of every possible string like it does for numbers.</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 19411, "user_id": 6640099, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/tf1sO.jpg?s=128&g=1", "display_name": "Christian Dean", "link": "https://stackoverflow.com/users/6640099/christian-dean"}, "edited": false, "score": 0, "creation_date": 1476309489, "post_id": 40009011, "comment_id": 67296229, "body": "I&#39;m sorry, could you slow down and explain your question clearer?"}, {"owner": {"reputation": 3125, "user_id": 2878796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8bxWv.png?s=128&g=1", "display_name": "UnholySheep", "link": "https://stackoverflow.com/users/2878796/unholysheep"}, "edited": false, "score": 2, "creation_date": 1476309490, "post_id": 40009011, "comment_id": 67296230, "body": "Please provide a minimal example. And try to pinpoint the exact cause of your problems, including an exact definition (&quot;I need help&quot; is not a question suited for SO)"}, {"owner": {"reputation": 19411, "user_id": 6640099, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/tf1sO.jpg?s=128&g=1", "display_name": "Christian Dean", "link": "https://stackoverflow.com/users/6640099/christian-dean"}, "edited": false, "score": 0, "creation_date": 1476309572, "post_id": 40009011, "comment_id": 67296268, "body": "There is no &quot;if function&quot;. Do you mean the <a href=\"https://docs.python.org/3/tutorial/controlflow.html#if-statements\" rel=\"nofollow noreferrer\"><code>if</code>-statement</a>?"}], "answers": [{"tags": [], "owner": {"reputation": 2363, "user_id": 5712587, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac51f092cb5f486310ec3d66e1cecd59?s=128&d=identicon&r=PG&f=1", "display_name": "Pat", "link": "https://stackoverflow.com/users/5712587/pat"}, "is_accepted": false, "score": 0, "last_activity_date": 1476309751, "last_edit_date": 1476309751, "creation_date": 1476309370, "answer_id": 40009033, "question_id": 40009011, "link": "https://stackoverflow.com/questions/40009011/how-to-use-if-function/40009033#40009033", "title": "How to use if Function?", "body": "<pre><code>            if choice_attack_3 == 'A'or choice_attack_3 == 'a':\n                Demon_attack()\n            elif choice_attack_3 == 'R' or choice_attack_3 == 'r':\n                print('You run away!')\n                time.sleep (2)\n                battle_start()\n</code></pre>\n\n<p>You need to add choice_attack_3 == on the other side of your <code>or</code> statement. <code>'a'</code> by itself is technically true so it is entering both if statements. </p>\n\n<p>Edit: same with</p>\n\n<pre><code>if choice == \"Y\" or choice == \"y\":\n    print('Lets start the Battle')\n    game_start()\nif choice == \"N\" or choice == \"n\":\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 256, "user_id": 6657092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62afa081ddc4165777cb8f22eb01b7b6?s=128&d=identicon&r=PG&f=1", "display_name": "Keith Bailey", "link": "https://stackoverflow.com/users/6657092/keith-bailey"}, "is_accepted": true, "score": 1, "last_activity_date": 1476309786, "creation_date": 1476309786, "answer_id": 40009116, "question_id": 40009011, "link": "https://stackoverflow.com/questions/40009011/how-to-use-if-function/40009116#40009116", "title": "How to use if Function?", "body": "<p>This is a very poor question, but is a result of you not understanding boolean logic rather than if statements.</p>\n\n<pre><code>If choice == \"Y\" or \"y\":\n</code></pre>\n\n<p>is always true. That expands to </p>\n\n<pre><code>If choice == \"Y\" or If \"y\":\n</code></pre>\n\n<p>you either need to do a case insensitive comparison (if choice.lower() = \"y\"), a list comparison (if choice in \"Yy\") or explicitly state both conditions on eiterh side of your or (if choice == \"y\" or choice == \"Y\"</p>\n"}], "owner": {"reputation": 3, "user_id": 6933512, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-1jZVn6hGQPo/AAAAAAAAAAI/AAAAAAAAAD0/9vO2l24eI04/photo.jpg?sz=128", "display_name": "JustinM", "link": "https://stackoverflow.com/users/6933512/justinm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "accepted_answer_id": 40009116, "answer_count": 2, "score": -3, "last_activity_date": 1612470098, "creation_date": 1476309256, "last_edit_date": 1612470098, "question_id": 40009011, "link": "https://stackoverflow.com/questions/40009011/how-to-use-if-function", "title": "How to use if Function?", "body": "<p>I have been making a text-based RPG in python 3.5 I had it fine (or so I thought...) until I tried to say that no I did not want to play. And also when I wanted to make the option to run from Mobs, but instead it combines both if functions, and says the amount of damage AND that you 'Ran away.' I tried to switch around some code but that made it even worse! I need help.</p>\n<pre class=\"lang-python prettyprint-override\"><code>import time\nimport random\nimport sys\nimport time\nglobal gold\nglobal player_HP\nglobal Mob_HP_1\nglobal Mob_HP_2\nglobal Mob_HP_3\nglobal Mob_HP_0\nmob_HP_1 = 100\nmob_HP_2 = 125\nmob_HP_3 = 130\ngold = 0\ndef Demon_attack():\n            global Mob_HP_3\n            Mob_HP_3 = 130\n            global gold\n            attack_damage=random.randint(50,200)\n            rewards=random.randint(1,5)\n            print('You do')\n            print(attack_damage)\n            print('damage!')\n            Mob_HP_3 = Mob_HP_3 - attack_damage\n            if Mob_HP_3 &lt; 0:\n                print ('You killed the')\n                print ('Demon!')\n            if Mob_HP_3 &gt; 0:\n                print('The Demon has')\n                print(Mob_HP_3)\n                print('HP left!')\n                choice_attack_3 = input('Do you attack?')\n                if choice_attack_3 == 'A'or 'a':\n                    Demon_attack()\n                if choice_attack_3 == 'R' or 'r':\n                    print('You run away!')\n                    time.sleep (2)\n                    battle_start()\n            time.sleep (3)\n            gold=gold+rewards\n            print('You have')\n            print(gold)\n            print('Gold!')\n            battle_start()\n            \ndef Headless_Horseman_attack():\n            global Mob_HP_2\n            Mob_HP_2 = 125\n            global gold\n            attack_damage=random.randint(50,200)\n            rewards=random.randint(1,5)\n            print('You do')\n            print(attack_damage)\n            print('damage!')\n            Mob_HP_2 = Mob_HP_2 - attack_damage\n            if Mob_HP_2 &lt; 0:\n                print ('You killed the')\n                print ('Headless Horseman')\n            if Mob_HP_2 &gt; 0:\n                print('The Headless Horseman has')\n                print(Mob_HP_2)\n                print('HP left!')\n                choice_attack_2 = input('Do you attack?')\n                if choice_attack_2 == 'A' or 'a':\n                    Headless_Horseman_attack()\n                if choice_attack_2 == 'R' or 'r':\n                    print('You run away!')\n                    time.sleep (2)\n                    battle_start()\n            time.sleep (2)\n            gold=gold+rewards\n            print ('You have')\n            print(gold)\n            print('Gold!')\n            battle_start()\n            \ndef Zombie_attack():\n            global Mob_HP_1\n            Mob_HP_1 = 100\n            global gold\n            attack_damage=random.randint(50,200)\n            rewards=random.randint(0,5)\n            print('You do')\n            print(attack_damage)\n            print('damage!')\n            Mob_HP_1 =  Mob_HP_1 - attack_damage\n            if Mob_HP_1 &lt; 0:\n                print ('You killed the')\n                print ('Zombie!')\n            if Mob_HP_1 &gt; 0:\n                print('The Headless Horseman has')\n                print(Mob_HP_1)\n                print('HP left!')\n                choice_attack_1 = input('Do you attack?')\n                if choice_attack_1 == 'A' or 'a':\n                    Zombie_attack()\n                if choice_attack_1 == 'R' or 'r':\n                    print('You run away!')\n                    time.sleep (2)\n                    battle_start()\n            time.sleep (1.5)\n            gold=gold+rewards\n            print('You have')\n            print(gold)\n            print('Gold!')\n            battle_start()\n            \ndef battle_start():\n    global gold\n    if gold &gt; 50:\n        print ('You have killed all the monsters!')\n        play = input('Do you want to play again? Y/N?')\n        if choice == 'Y' or 'y':\n            game_start()\n        if choice == 'N' or 'a':\n            print ('Okay, battle later')\n            time.sleep(4)\n            sys.exit(0)\n    time.sleep (3)\n    attack_damage=random.randint(50,200)\n    rewards=random.randint(1,3)\n    mob=random.randint(1,3)\n    if mob==1:\n        mob_alive = True\n        print('You ran into a Zombie!')\n        print('The Zombie has 100 HP!')\n        choice_attack_1 = input('Do you attack?')\n        if choice_attack_1 == 'A' or 'a':\n            Zombie_attack()\n        if choice_attack_1 == 'R' or 'r':\n            print('You run away!')\n            time.sleep (2)\n            battle_start()\n    if mob==2:\n        mob_alive = True\n        print('You ran into a Headless Horseman!')\n        print('The Headless Horseman has 125 HP!')\n        choice_attack_2 = input('Do you attack?')\n        if choice_attack_2 == 'A' or 'a':\n            Headless_Horseman_attack()\n        if choice_attack_2 == 'R' or 'r':\n            print('You run away!')\n            time.sleep (2)\n            battle_start()\n    if mob==3:\n        mob_alive = True\n        print('You ran into a Demon!')\n        print('The Demon has 130 HP!')\n        choice_attack_3 = input('Do you attack?')\n        if choice_attack_3 == 'A' or 'a':\n            Demon_attack()\n        if choice_attack_3 == 'R' or 'r':\n            print('You run away!')\n            time.sleep (2)\n            battle_start()\ndef game_start(): \n    global gold\n    global Mob_HP_0\n    Mob_HP_0 = 25\n    print('You have to get 50 Gold to win!')\n    attack_damage=random.randint(50,200)\n    rewards=random.randint(1,3)\n    print('To Attack, type &quot;A&quot;. To Run Away, type &quot;R&quot;. Lets pratice...')\n    print('Pratice Mob has 25 HP!')\n    choice_attack = input('Do you attack?')\n    if choice_attack == 'A' or 'a':\n        print('You do')\n        print(attack_damage)\n        print('damage!')\n        Mob_HP_0 = Mob_HP_0 - attack_damage\n    if choice_attack == 'R' or 'r':\n        print('You ran away!')\n        time.sleep (2)\n        game_start()\n        time.sleep (1.5)\n        gold = gold + rewards\n        print('You have ')\n        print(gold)\n        print('gold!')\n    print ('Good job')\n    print ('Lets start the battle...')\n    battle_start()\nprint ('Welcome to Battle Deongeons')\nmyName = input('Whats your name?')\nprint ('Ok ' + myName + ' you need to kill monsters... Be careful though, its capital Sentsive.')\nchoice = input(&quot;Do you want to play? Y/N&quot;)\nif choice == &quot;Y&quot; or &quot;y&quot;:\n    print('Lets start the Battle')\n    game_start()\nif choice == &quot;N&quot; or &quot;n&quot;:\n    print ('Okay, battle later')\n    time.sleep (4)\n    sys.exit(0)\n</code></pre>\n\n"}, {"tags": ["python", "numpy", "vectorization"], "answers": [{"comments": [{"owner": {"reputation": 3494, "user_id": 1243255, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/9328a10a909a33568ad798474053f476?s=128&d=identicon&r=PG", "display_name": "Zanam", "link": "https://stackoverflow.com/users/1243255/zanam"}, "edited": false, "score": 0, "creation_date": 1476309638, "post_id": 40009044, "comment_id": 67296293, "body": "What does the following do: A[:,::-1]?"}, {"owner": {"reputation": 203214, "user_id": 3293881, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/6ZYnq.jpg?s=128&g=1", "display_name": "Divakar", "link": "https://stackoverflow.com/users/3293881/divakar"}, "reply_to_user": {"reputation": 3494, "user_id": 1243255, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/9328a10a909a33568ad798474053f476?s=128&d=identicon&r=PG", "display_name": "Zanam", "link": "https://stackoverflow.com/users/1243255/zanam"}, "edited": false, "score": 0, "creation_date": 1476311108, "post_id": 40009044, "comment_id": 67296845, "body": "@Zanam Added some comments there."}, {"owner": {"reputation": 13210, "user_id": 764322, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/a059b390ab24839995cfe14e261ffe41?s=128&d=identicon&r=PG", "display_name": "Imanol Luengo", "link": "https://stackoverflow.com/users/764322/imanol-luengo"}, "edited": false, "score": 0, "creation_date": 1476346979, "post_id": 40009044, "comment_id": 67308748, "body": "I like the <code>cumsum</code> one :) interesting approach, and as usual, excellent explanation of both ."}], "tags": [], "owner": {"reputation": 203214, "user_id": 3293881, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/6ZYnq.jpg?s=128&g=1", "display_name": "Divakar", "link": "https://stackoverflow.com/users/3293881/divakar"}, "is_accepted": true, "score": 2, "last_activity_date": 1476311079, "last_edit_date": 1495540101, "creation_date": 1476309419, "answer_id": 40009044, "question_id": 40009008, "link": "https://stackoverflow.com/questions/40009008/finding-index-by-iterating-over-each-row-of-matrix/40009044#40009044", "title": "Finding index by iterating over each row of matrix", "body": "<p>You could use <code>argmax</code> -</p>\n\n<pre><code>A.shape[1] - 1 - (Num &gt; A)[:,::-1].argmax(1)\n</code></pre>\n\n<p>Alternatively with <code>cumsum</code> and <code>argmax</code> -</p>\n\n<pre><code>(Num &gt; A).cumsum(1).argmax(1)\n</code></pre>\n\n<p><strong>Explanation :</strong> With <code>np.max(np.where(..)</code>, we are basically looking to get the last occurrence of matches along each row on the comparison.</p>\n\n<p>For the same, we can use <code>argmax</code>. But, <code>argmax</code> on a boolean array gives us the first occurrence and not the last one. So, one trick is to perform the comparison and flip the columns with <code>[:,::-1]</code> and then use <code>argmax</code>. The column indices are then subtracted by the number of cols in the array to make it trace back to the original order.</p>\n\n<p>On the second approach, it's very similar to a <a href=\"https://stackoverflow.com/a/39959511/3293881\"><code>related post</code></a> and therefore quoting from it :</p>\n\n<p>One of the uses of argmax is to get ID of the first occurence of the max element along an axis in an array . So, we get the cumsum along the rows and get the first max ID, which represents the last non-zero elem. This is because cumsum on the leftover elements won't increase the sum value after that last non-zero element.</p>\n"}], "owner": {"reputation": 3494, "user_id": 1243255, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/9328a10a909a33568ad798474053f476?s=128&d=identicon&r=PG", "display_name": "Zanam", "link": "https://stackoverflow.com/users/1243255/zanam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 83, "favorite_count": 0, "accepted_answer_id": 40009044, "answer_count": 1, "score": 1, "last_activity_date": 1476311648, "creation_date": 1476309249, "last_edit_date": 1476311648, "question_id": 40009008, "link": "https://stackoverflow.com/questions/40009008/finding-index-by-iterating-over-each-row-of-matrix", "title": "Finding index by iterating over each row of matrix", "body": "<p>I have an numpy array 'A' of size <code>5000x10</code>. I also have another number <code>'Num'</code>. I want to apply the following to each row of A:</p>\n\n<pre><code>import numpy as np\nnp.max(np.where(Num &gt; A[0,:]))\n</code></pre>\n\n<p>Is there a pythonic way than writing a for loop for above.</p>\n"}, {"tags": ["python", "loops", "csv", "datetime"], "comments": [{"owner": {"reputation": 5144, "user_id": 1568919, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/185b1a9657fd81a1808aec8d96a1d0fb?s=128&d=identicon&r=PG", "display_name": "jf328", "link": "https://stackoverflow.com/users/1568919/jf328"}, "edited": false, "score": 2, "creation_date": 1476799299, "post_id": 40008998, "comment_id": 67491988, "body": "Use the pandas package. <code>df[[&#39;col1&#39;,&#39;col2&#39;,&#39;col4&#39;]].drop_duplicates()</code> will help eliminate the duplicates, then iterate over <code>df.groupby(&#39;col1&#39;)</code> to dump out files"}, {"owner": {"reputation": 37454, "user_id": 4985733, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/r7daF.jpg?s=128&g=1", "display_name": "Martin Evans", "link": "https://stackoverflow.com/users/4985733/martin-evans"}, "edited": false, "score": 0, "creation_date": 1476800694, "post_id": 40008998, "comment_id": 67493041, "body": "In your example, all of your column 4 entries are unique?"}, {"owner": {"reputation": 55, "user_id": 7010400, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2txRR.jpg?s=128&g=1", "display_name": "Aggs", "link": "https://stackoverflow.com/users/7010400/aggs"}, "reply_to_user": {"reputation": 37454, "user_id": 4985733, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/r7daF.jpg?s=128&g=1", "display_name": "Martin Evans", "link": "https://stackoverflow.com/users/4985733/martin-evans"}, "edited": false, "score": 0, "creation_date": 1493060318, "post_id": 40008998, "comment_id": 74241476, "body": "@MartinEvans That is correct; the column 4 entries are all unquie."}], "answers": [{"comments": [{"owner": {"reputation": 55, "user_id": 7010400, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2txRR.jpg?s=128&g=1", "display_name": "Aggs", "link": "https://stackoverflow.com/users/7010400/aggs"}, "edited": false, "score": 0, "creation_date": 1493060693, "post_id": 40110795, "comment_id": 74241697, "body": "Thank you very much!  Question: In your code, what exactly does lamba do?  I have seen it and used it before, but never could grasp why lamba worked."}, {"owner": {"reputation": 2403, "user_id": 3190054, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/b7de233f9b761d1d0d75d64b608aca88?s=128&d=identicon&r=PG&f=1", "display_name": "kezzos", "link": "https://stackoverflow.com/users/3190054/kezzos"}, "reply_to_user": {"reputation": 55, "user_id": 7010400, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2txRR.jpg?s=128&g=1", "display_name": "Aggs", "link": "https://stackoverflow.com/users/7010400/aggs"}, "edited": false, "score": 1, "creation_date": 1493064559, "post_id": 40110795, "comment_id": 74243931, "body": "It can be a bit confusing at first, but lambdas are just syntax for a simple function. I would recommend search for a few examples to help get the idea"}], "tags": [], "owner": {"reputation": 2403, "user_id": 3190054, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/b7de233f9b761d1d0d75d64b608aca88?s=128&d=identicon&r=PG&f=1", "display_name": "kezzos", "link": "https://stackoverflow.com/users/3190054/kezzos"}, "is_accepted": false, "score": 1, "last_activity_date": 1476800479, "creation_date": 1476800479, "answer_id": 40110795, "question_id": 40008998, "link": "https://stackoverflow.com/questions/40008998/python-searching-through-columns/40110795#40110795", "title": "Python searching through columns", "body": "<p>As you loop over your files you need to keep a record of which patterns are not eligible for saving. You could use a <code>set</code> for this purpose. To group your entries in each file you could use <code>itertools.groupby</code>. Using your example:</p>\n\n<pre class=\"lang-python prettyprint-override\"><code>import itertools\n\nf = [i.split(\"   \") for i in \"\"\"1       2           time    4\n13.45   9/29/2016   6:00   98765\n12.56   9/29/2016   6:05   76548\n13.45   9/29/2016   6:07   98764\n13.45   9/29/2016   6:21   98766\n13.45   9/29/2016   6:20   96765\n12.56   9/29/2016   6:06   76553\"\"\".split(\"\\n\")[1:]]\n\n\nseen_patterns = set([('9/29/2016', '96765')])   # You need to add entries to this set which you want to exclude\n\n# Sort and group your entries by the first and second columns\ncol1 = itertools.groupby(sorted(f, key=lambda x: (x[0], x[1])), key=lambda x: (x[0], x[1]))\nfor k, v in col1:\n    v = list(v)\n    # Filter out patterns which are not allowed\n    to_save = [\" \".join(i) for i in v if (i[1], i[3]) not in seen_patterns]\n    for i in to_save:\n        print i  # Save this to an appropriate file\n    print\n\n&gt;&gt;&gt;\n12.56 9/29/2016 6:05 76548\n12.56 9/29/2016 6:06 76553\n\n13.45 9/29/2016 6:00 98765\n13.45 9/29/2016 6:07 98764\n13.45 9/29/2016 6:21 98766\n</code></pre>\n\n<p>As a further suggestion, have a look at the <code>glob</code> module for collecting file paths from directories, it is really useful. </p>\n"}, {"comments": [{"owner": {"reputation": 55, "user_id": 7010400, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2txRR.jpg?s=128&g=1", "display_name": "Aggs", "link": "https://stackoverflow.com/users/7010400/aggs"}, "edited": false, "score": 0, "creation_date": 1493060942, "post_id": 40111537, "comment_id": 74241866, "body": "Interesting approach!  Thank you!"}, {"owner": {"reputation": 37454, "user_id": 4985733, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/r7daF.jpg?s=128&g=1", "display_name": "Martin Evans", "link": "https://stackoverflow.com/users/4985733/martin-evans"}, "reply_to_user": {"reputation": 55, "user_id": 7010400, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2txRR.jpg?s=128&g=1", "display_name": "Aggs", "link": "https://stackoverflow.com/users/7010400/aggs"}, "edited": false, "score": 1, "creation_date": 1493061053, "post_id": 40111537, "comment_id": 74241927, "body": "<code>lambda</code> is just shorthand for a one line function. It can be replaced with an normal function with a name if needed. So in my case it gets a single argument <code>x</code> and returns <code>x[1]</code>"}], "tags": [], "owner": {"reputation": 37454, "user_id": 4985733, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/r7daF.jpg?s=128&g=1", "display_name": "Martin Evans", "link": "https://stackoverflow.com/users/4985733/martin-evans"}, "is_accepted": true, "score": 2, "last_activity_date": 1476802366, "creation_date": 1476802366, "answer_id": 40111537, "question_id": 40008998, "link": "https://stackoverflow.com/questions/40008998/python-searching-through-columns/40111537#40111537", "title": "Python searching through columns", "body": "<p>The following should do what you need. It reads a csv file in and generates a matching <code>datetime</code> for each of the entries to allow them to be correctly sorted. It creates output csv files based on the pattern number with the entries sorted by date. Column 4 entries already seen are omitted:</p>\n\n<pre><code>from itertools import groupby\nfrom datetime import datetime\nimport csv\nimport os\n\nfilename = 'my_data.csv'\ndata = []\n\nwith open(filename, 'rb') as f_input:\n    csv_input = csv.reader(f_input, delimiter='\\t')\n    header = next(csv_input)\n\n    for row in csv_input:\n        dt = datetime.strptime('{} {}'.format(row[2], row[1]), '%H:%M %m/%d/%Y')\n        data.append([dt] + row)\n\nfor index, (k, g) in enumerate(groupby(sorted(data, key=lambda x: x[1]), key=lambda x: x[1]), start=1):\n    line = 1\n    seen = set()\n\n    with open('{}_pattern_{}.csv'.format(os.path.splitext(filename)[0], index), 'wb') as f_output:\n        csv_output = csv.writer(f_output)\n\n        for item in sorted(g, key=lambda x: x[0]):\n            if item[4] not in seen:\n                seen.add(item[4])\n                csv_output.writerow([line] + item[1:])\n                line += 1\n</code></pre>\n"}], "owner": {"reputation": 55, "user_id": 7010400, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2txRR.jpg?s=128&g=1", "display_name": "Aggs", "link": "https://stackoverflow.com/users/7010400/aggs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 84, "favorite_count": 1, "accepted_answer_id": 40111537, "answer_count": 2, "score": 5, "last_activity_date": 1562697354, "creation_date": 1476309185, "last_edit_date": 1562697354, "question_id": 40008998, "link": "https://stackoverflow.com/questions/40008998/python-searching-through-columns", "title": "Python searching through columns", "body": "<p>I have a CSV file that I need to loop through in a specific pattern for specific columns and have the output patterns be stored in new files with the same name + \"_pattern\" + [1,2,3,etc.] + .csv.</p>\n\n<p>This is the search pattern: Loop through column 1 and find the same # and grab them, then loop through column 2 of the grabbed list and then grab all that have the same date in column 2, then go to column 4 and grab all #s that are NOT the same, and then create a file with the pattern from column 1 and 2 and 4 organized by column time.</p>\n\n<p>Example: </p>\n\n<pre class=\"lang-none prettyprint-override\"><code>1       2           time    4\n13.45   9/29/2016   6:00    98765\n12.56   9/29/2016   6:05    76548\n13.45   9/29/2016   6:07    98764\n13.45   9/29/2016   6:21    98766\n13.45   9/29/2016   6:20    96765\n12.56   9/29/2016   6:06    76553\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/OqxcG.jpg\" rel=\"nofollow\">Better view of table</a></p>\n\n<p>The result would be, file_pattern_1.csv would have:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>1. 13.45    9/29/2016   6:00    98765\n2. 13.45    9/29/2016   6:07    98764\n3. 13.45    9/29/2016   6:21    98766\n</code></pre>\n\n<p>But would not include:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>4. 13.45    9/29/2016   6:20    96765 \n</code></pre>\n\n<p>Because column 4 repeats from a previous entry, file_pattern_2.csv would have:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>1. 12.56    9/29/2016   6:05    76548\n2. 12.56    9/29/2016   6:06    76553\n</code></pre>\n\n<p>This is what I have so far but I have become lost on the looping logic:</p>\n\n<pre><code>import os\n\ninfile = raw_input(\"Which file are we working with? \")\nassert os.path.exists(infile), \"Path is incorrect.\"\nos.chdir(infile)\n\ndef createFile(csvFile, fileName):\n    with open (fileName, 'wb') as ftext:\n        ftext.write(csvFile)\n\ndef appendFile(csvFile, fileName):\n    with open (fileName, 'a') as ftext:\n        ftext.write(csvFile)\n\ndef setfilename(tread):\n    fileName = tread[0:tread.index('.')] + '_patterns' + str(countItem) + '.csv'\n    return fileName\n\nfor i in pcolumn:\n    if pcolumn == pcolumn:\n        return pfile\n    for x in date:\n        if date == date:\n            return date\n            for a in acolumn:\n                if acolumn != acolumn:\n                    createFile(fileName)\nelse:\n    print \"Finished.\"\n</code></pre>\n"}, {"tags": ["python", "numpy"], "comments": [{"owner": {"reputation": 27649, "user_id": 5067311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qjltV.png?s=128&g=1", "display_name": "Andras Deak", "link": "https://stackoverflow.com/users/5067311/andras-deak"}, "edited": false, "score": 0, "creation_date": 1476309303, "post_id": 40008985, "comment_id": 67296146, "body": "You need to store <code>&quot;,&quot;.join(dna_data)</code> in a variable that you split later on...but are you sure you need to join that if you&#39;re splitting it up in the next line?"}], "answers": [{"tags": [], "owner": {"reputation": 2299, "user_id": 5847976, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZteJQ.jpg?s=128&g=1", "display_name": "jadsq", "link": "https://stackoverflow.com/users/5847976/jadsq"}, "is_accepted": false, "score": 0, "last_activity_date": 1477069840, "creation_date": 1477069840, "answer_id": 40182103, "question_id": 40008985, "link": "https://stackoverflow.com/questions/40008985/attributeerror-numpy-ndarray-object-has-no-attribute-split/40182103#40182103", "title": "AttributeError: &#39;numpy.ndarray&#39; object has no attribute &#39;split&#39;", "body": "<p>As it was said in the comments : <code>\",\".join(dna_data)</code> does not modify <code>dna_data</code> , it just returns a string that you have to store in an other variable. Like this :</p>\n\n<pre><code>s = \",\".join(dna_data)\nseq1,seq2,seq3,seq4,seq5=s.split(\",\",4)\n</code></pre>\n\n<p><strong>Going further :</strong></p>\n\n<p>(Note as you seem to be new to numpy: In the following I'll assume <code>dna_data</code> has a shape <code>(5,)</code> if it is not the case, you can get back to that shape using <a href=\"https://docs.scipy.org/doc/numpy/reference/arrays.indexing.html#basic-slicing-and-indexing\" rel=\"nofollow\"><em>very basic</em> slicing</a> )</p>\n\n<p>That being said, with that code, you are just turning your array into a list to then put in 5 different variables so going array->string->list->variables is <strong>very excessive</strong> when you could just go array->variables in one trivial line :  <code>seq1,seq2,seq3,seq4,seq5 = dna_data</code>.</p>\n\n<p>And I would go even further : don't do it at all ! What is the point of having several variables when you just can just use <code>dna_data[n]</code> instead of any of your <code>seq*</code> variables ? The former is more convenient and allows to painlessly do things such as looping over all the sequence with for-loops. eg:</p>\n\n<pre><code>for seq in dna_data: \n    print(seq)\n</code></pre>\n"}], "owner": {"reputation": 87, "user_id": 7010422, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/555a329112a7ee54e0dfcd0388d9c027?s=128&d=identicon&r=PG&f=1", "display_name": "Louise Stevens", "link": "https://stackoverflow.com/users/7010422/louise-stevens"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 19975, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1619265779, "creation_date": 1476309146, "question_id": 40008985, "link": "https://stackoverflow.com/questions/40008985/attributeerror-numpy-ndarray-object-has-no-attribute-split", "title": "AttributeError: &#39;numpy.ndarray&#39; object has no attribute &#39;split&#39;", "body": "<p>I am trying to answer the following question \n\"A colleague has produced a file with one DNA sequence on each line. Download the file and load it into Python using numpy.loadtxt(). You will need to use the optional argument dtype=str to tell loadtxt() that the data is composed of strings.</p>\n\n<p>Calculate the GC content of each sequence. The GC content is the percentage of bases that are either G or C (as a percentage of total base pairs). Print the result for each sequence as \"The GC content of the sequence is XX.XX%\" where XX.XX is the actual GC content. Do this using a \"formatted strings\". \"</p>\n\n<p>Having imported the file of dna sequences and joining these together I now want to split the string into 5 sequences (corresponding to each of the 5 rows) to then start the calculations... </p>\n\n<h2>NB: This is the file source: <a href=\"http://www.programmingforbiologists.org/data/dna_sequences_1.txt\" rel=\"nofollow\">http://www.programmingforbiologists.org/data/dna_sequences_1.txt</a></h2>\n\n<p>This is my code:</p>\n\n<pre><code>import numpy\ndna_data=numpy.loadtxt(\"dna_sequences\",dtype=str)\n\",\".join(dna_data)\nseq1,seq2,seq3,seq4,seq5=dna_data.split(\",\",4)\n</code></pre>\n\n<p>I am getting this error message:\nAttributeError: 'numpy.ndarray' object has no attribute 'split' </p>\n\n<p>Please help!!!</p>\n"}, {"tags": ["python", "apache-spark", "jupyter", "apache-zeppelin"], "answers": [{"tags": [], "owner": {"reputation": 4307, "user_id": 2015518, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/0ZKml.jpg?s=128&g=1", "display_name": "Rockie Yang", "link": "https://stackoverflow.com/users/2015518/rockie-yang"}, "is_accepted": true, "score": 1, "last_activity_date": 1476357550, "last_edit_date": 1592644375, "creation_date": 1476357550, "answer_id": 40019541, "question_id": 40008886, "link": "https://stackoverflow.com/questions/40008886/running-jupyter-ipython-document-on-zepplin/40019541#40019541", "title": "Running Jupyter/IPython document on Zepplin", "body": "<p>Jupyter's ipynb is json file. You can find <a href=\"http://nbformat.readthedocs.io/en/latest/\" rel=\"nofollow noreferrer\">The Jupyter Notebook Format</a></p>\n<p>Zeppelin's note.json is also json format. Each notebook has an folder(notebook id) and note.json.</p>\n<p>It should be possible to convert with a small application. I think most important information shall be.</p>\n<blockquote>\n<p>cells(jupyter) -&gt; paragraphs(Zeppelin)</p>\n<p>cell -&gt; paragraph</p>\n<p>cell_type -&gt; %... in text</p>\n<p>source -&gt; text</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 61, "user_id": 6523360, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/106919347b4d0aa8799f033529da19a2?s=128&d=identicon&r=PG&f=1", "display_name": "janusd", "link": "https://stackoverflow.com/users/6523360/janusd"}, "is_accepted": false, "score": 6, "last_activity_date": 1505400470, "creation_date": 1505400470, "answer_id": 46222146, "question_id": 40008886, "link": "https://stackoverflow.com/questions/40008886/running-jupyter-ipython-document-on-zepplin/46222146#46222146", "title": "Running Jupyter/IPython document on Zepplin", "body": "<p>You can use the new \"JupyterUtility\" introduced by <a href=\"https://github.com/apache/zeppelin/pull/2393\" rel=\"noreferrer\">Pull Request 2393</a> to convert one jupyter notebook (.ipynb) to apache zeppelin notebook (.json). It's not yet released and the documentation is still in progress (see <a href=\"https://issues.apache.org/jira/browse/ZEPPELIN-2616\" rel=\"noreferrer\">ZEPPELIN-2616</a>). But you can either take the 0.8.0-SNAPSHOT build or checkout the sources and build/use it with maven.</p>\n\n<p>E.g.: checkout -> switch to folder \"zeppelin-jupyter\":</p>\n\n<pre><code>mvn exec:java -Dexec.mainClass=\"org.apache.zeppelin.jupyter.JupyterUtil\" -Dexec.args=\"-i INPUTFILE.ipynb -o OUTPUTFILE.json\"\n</code></pre>\n"}], "owner": {"reputation": 2416, "user_id": 1902291, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/Wtz5E.png?s=128&g=1", "display_name": "opus111", "link": "https://stackoverflow.com/users/1902291/opus111"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2517, "favorite_count": 0, "accepted_answer_id": 40019541, "answer_count": 2, "score": 4, "last_activity_date": 1505400470, "creation_date": 1476308682, "question_id": 40008886, "link": "https://stackoverflow.com/questions/40008886/running-jupyter-ipython-document-on-zepplin", "title": "Running Jupyter/IPython document on Zepplin", "body": "<p>I have a large set of existing documents running on Jupyter.  I want to move to Zeppelin.</p>\n\n<p>I assume Jupyter pages run in Zeppelin, but I can't find any documentation.  Has anyone tried this?  Does it work?  Anyone have a useful link?</p>\n\n<p>Thanks\nPeter</p>\n"}, {"tags": ["python", "opencv", "face-detection", "face-recognition", "dlib"], "answers": [{"comments": [{"owner": {"reputation": 384, "user_id": 4302552, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/qp5F4.jpg?s=128&g=1", "display_name": "SaddamBinSyed", "link": "https://stackoverflow.com/users/4302552/saddambinsyed"}, "edited": false, "score": 0, "creation_date": 1562248121, "post_id": 40019580, "comment_id": 100325655, "body": "Hi there. How can I find the closest face to the camera using? I am using width and height value to check which rect is bigger? In above code which one is width and Height.??"}], "tags": [], "owner": {"reputation": 2178, "user_id": 3209505, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/89cdc5a35bbffb1f0dbc1a1026642d2c?s=128&d=identicon&r=PG&f=1", "display_name": "Evgeniy", "link": "https://stackoverflow.com/users/3209505/evgeniy"}, "is_accepted": false, "score": 4, "last_activity_date": 1496005381, "last_edit_date": 1496005381, "creation_date": 1476357664, "answer_id": 40019580, "question_id": 40008806, "link": "https://stackoverflow.com/questions/40008806/how-to-save-crop-detected-faces-in-dlib-python/40019580#40019580", "title": "how to save/crop detected faces in dlib python", "body": "<p>Please use minimal-working sample code to get answers faster. </p>\n\n<p>After you have detected face - you have a rect. So <strong>you can crop image and save with opencv functions</strong>:</p>\n\n<pre><code>    img = cv2.imread(\"test.jpg\")\n    dets = detector.run(img, 1)\n    for i, d in enumerate(dets):\n        print(\"Detection {}, score: {}, face_type:{}\".format(\n            d, scores[i], idx[i]))\n        crop = img[d.top():d.bottom(), d.left():d.right()]\n        cv2.imwrite(\"cropped.jpg\", crop)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 10288, "user_id": 1542806, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f89b0522a428d374844f2efcb8b342a2?s=128&d=identicon&r=PG", "display_name": "Andrey  Smorodov", "link": "https://stackoverflow.com/users/1542806/andrey-smorodov"}, "is_accepted": true, "score": 5, "last_activity_date": 1476372958, "creation_date": 1476372958, "answer_id": 40025317, "question_id": 40008806, "link": "https://stackoverflow.com/questions/40008806/how-to-save-crop-detected-faces-in-dlib-python/40025317#40025317", "title": "how to save/crop detected faces in dlib python", "body": "<p>Should be like this:</p>\n\n<pre><code>crop_img = img_full[d.top():d.bottom(),d.left():d.right()]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 477, "user_id": 2531686, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/S6nta.jpg?s=128&g=1", "display_name": "Ankur Jain", "link": "https://stackoverflow.com/users/2531686/ankur-jain"}, "is_accepted": false, "score": 3, "last_activity_date": 1496197840, "last_edit_date": 1496197840, "creation_date": 1496195232, "answer_id": 44274362, "question_id": 40008806, "link": "https://stackoverflow.com/questions/40008806/how-to-save-crop-detected-faces-in-dlib-python/44274362#44274362", "title": "how to save/crop detected faces in dlib python", "body": "<p><a href=\"https://stackoverflow.com/questions/40008806/how-to-save-crop-detected-faces-in-dlib-python#40025317\">Answer by Andrey</a> was good but it misses edge cases where original rectangle is partially outside the image window. (Yes that happens with dlib.)</p>\n\n<pre><code>crop_img = img_full[max(0, d.top()): min(d.bottom(), image_height),\n                    max(0, d.left()): min(d.right(), image_width)]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 106, "user_id": 9502173, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/749d2cd39f114b1977f23e433c7e03ac?s=128&d=identicon&r=PG&f=1", "display_name": "Taufik_TF", "link": "https://stackoverflow.com/users/9502173/taufik-tf"}, "is_accepted": false, "score": 0, "last_activity_date": 1523602161, "creation_date": 1523602161, "answer_id": 49810911, "question_id": 40008806, "link": "https://stackoverflow.com/questions/40008806/how-to-save-crop-detected-faces-in-dlib-python/49810911#49810911", "title": "how to save/crop detected faces in dlib python", "body": "<pre><code># Select one of the haarcascade files:\n#   haarcascade_frontalface_alt.xml  \n#   haarcascade_frontalface_alt2.xml\n#   haarcascade_frontalface_alt_tree.xml\n#   haarcascade_frontalface_default.xml\n#   haarcascade_profileface.xml\n</code></pre>\n\n<p>I remember haarcascade_frontalface_alt.xml  is the best one?</p>\n"}], "owner": {"reputation": 236, "user_id": 6674443, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/1389596527747482/picture?type=large", "display_name": "Irum Zahra Awan", "link": "https://stackoverflow.com/users/6674443/irum-zahra-awan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10795, "favorite_count": 2, "accepted_answer_id": 40025317, "answer_count": 4, "score": 8, "last_activity_date": 1523602161, "creation_date": 1476308352, "question_id": 40008806, "link": "https://stackoverflow.com/questions/40008806/how-to-save-crop-detected-faces-in-dlib-python", "title": "how to save/crop detected faces in dlib python", "body": "<p>i want to save the detected face in dlib by cropping the rectangle do\nanyone have any idea how can i crop it. i am using dlib first time and\nhaving so many problems. i also want to run the fisherface algorithm on\nthe detected faces but it is giving me type error when i pass the detected rectangle to pridictor.\ni seriously need help in this issue.</p>\n\n<pre><code>import cv2, sys, numpy, os\nimport dlib\nfrom skimage import io\nimport json\nimport uuid\nimport random\nfrom datetime import datetime\nfrom random import randint\n#predictor_path = sys.argv[1]\nfn_haar = 'haarcascade_frontalface_default.xml'\nfn_dir = 'att_faces'\nsize = 4\ndetector = dlib.get_frontal_face_detector()\n#predictor = dlib.shape_predictor(predictor_path)\noptions=dlib.get_frontal_face_detector()\noptions.num_threads = 4\noptions.be_verbose = True\n\nwin = dlib.image_window()\n\n# Part 1: Create fisherRecognizer\nprint('Training...')\n\n# Create a list of images and a list of corresponding names\n(images, lables, names, id) = ([], [], {}, 0)\n\nfor (subdirs, dirs, files) in os.walk(fn_dir):\n    for subdir in dirs:\n        names[id] = subdir\n        subjectpath = os.path.join(fn_dir, subdir)\n        for filename in os.listdir(subjectpath):\n            path = subjectpath + '/' + filename\n            lable = id\n            images.append(cv2.imread(path, 0))\n            lables.append(int(lable))\n        id += 1\n\n(im_width, im_height) = (112, 92)\n\n# Create a Numpy array from the two lists above\n(images, lables) = [numpy.array(lis) for lis in [images, lables]]\n\n# OpenCV trains a model from the images\n\nmodel = cv2.createFisherFaceRecognizer(0,500)\nmodel.train(images, lables)\n\nhaar_cascade = cv2.CascadeClassifier(fn_haar)\nwebcam = cv2.VideoCapture(0)\nwebcam.set(5,30)\nwhile True:\n    (rval, frame) = webcam.read()\n    frame=cv2.flip(frame,1,0)\n    gray = cv2.cvtColor(frame, cv2.COLOR_BGR2GRAY)\n    mini = cv2.resize(gray, (gray.shape[1] / size, gray.shape[0] / size))\n\n    dets = detector(gray, 1)\n\n    print \"length\", len(dets)\n\n    print(\"Number of faces detected: {}\".format(len(dets)))\n    for i, d in enumerate(dets):\n        print(\"Detection {}: Left: {} Top: {} Right: {} Bottom: {}\".format(\n            i, d.left(), d.top(), d.right(), d.bottom()))\n\n    cv2.rectangle(gray, (d.left(), d.top()), (d.right(), d.bottom()), (0, 255, 0), 3)\n\n\n    '''\n        #Try to recognize the face\n        prediction  = model.predict(dets)\n        print \"Recognition Prediction\" ,prediction'''\n\n\n\n\n\n    win.clear_overlay()\n    win.set_image(gray)\n    win.add_overlay(dets)\n\nif (len(sys.argv[1:]) &gt; 0):\n    img = io.imread(sys.argv[1])\n    dets, scores, idx = detector.run(img, 1, -1)\n    for i, d in enumerate(dets):\n        print(\"Detection {}, score: {}, face_type:{}\".format(\n            d, scores[i], idx[i]))\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "sentinel"], "answers": [{"tags": [], "owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "is_accepted": true, "score": 1, "last_activity_date": 1476308822, "creation_date": 1476308822, "answer_id": 40008909, "question_id": 40008800, "link": "https://stackoverflow.com/questions/40008800/sentinel-not-working-properly/40008909#40008909", "title": "Sentinel not working properly", "body": "<p>Remove <code>calc()</code> and <code>display()</code> from <code>main()</code>. You're already doing those things in <code>load()</code>.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user6868079"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "accepted_answer_id": 40008909, "answer_count": 1, "score": 0, "last_activity_date": 1476308822, "creation_date": 1476308337, "question_id": 40008800, "link": "https://stackoverflow.com/questions/40008800/sentinel-not-working-properly", "title": "Sentinel not working properly", "body": "<pre><code>def load():    \n    global name\n    global count\n    global shares\n    global pp\n    global sp\n    global commission\n    name=input(\"Enter stock name OR -999 to Quit: \")\n    count =0\n    while name != '-999':\n        count=count+1\n        shares=int(input(\"Enter number of shares: \"))\n        pp=float(input(\"Enter purchase price: \"))\n        sp=float(input(\"Enter selling price: \"))\n        commission=float(input(\"Enter commission: \"))\n        calc()\n        display()\n        name=input(\"\\nEnter stock name OR -999 to Quit: \")\n\ndef calc():\n    global amount_paid\n    global amount_sold\n    global profit_loss\n    global commission_paid_sale\n    global commission_paid_purchase\n    amount_paid=shares*pp\n    commission_paid_purchase=amount_paid*commission\n    amount_sold=shares*sp\n    commission_paid_sale=amount_sold*commission\n    profit_loss=(amount_sold - commission_paid_sale) -(amount_paid + commission_paid_purchase)\n\ndef display():\n    print(\"\\nStock Name:\", name)\n    print(\"Amount paid for the stock:       $\",      format(amount_paid, '10,.2f'))\n    print(\"Commission paid on the purchase: $\", format(commission_paid_purchase, '10,.2f'))\n    print(\"Amount the stock sold for:       $\", format(amount_sold, '10,.2f'))\n    print(\"Commission paid on the sale:     $\", format(commission_paid_sale, '10,.2f'))\n    print(\"Profit (or loss if negative):    $\", format(profit_loss, '10,.2f'))\n\ndef main():\n    load()\n    calc()\n    display()\n\nmain()\n</code></pre>\n\n<p>Sentinel \"works\" in the sense that it ends the program, but not without outputting the previous stock's data (that is erroneous). I would like the sentinel to immediately stop the program and kick to \">>>\" after entering '-999'. Here is what the output looks like:</p>\n\n<pre><code>============= RESTART: C:\\Users\\ElsaTime\\Desktop\\answer2.py =============\nEnter stock name OR -999 to Quit: M$FT\nEnter number of shares: 1000\nEnter purchase price: 15\nEnter selling price: 150\nEnter commission: 0.03\n\nStock Name: M$FT\nAmount paid for the stock:       $  15,000.00\nCommission paid on the purchase: $     450.00\nAmount the stock sold for:       $ 150,000.00\nCommission paid on the sale:     $   4,500.00\nProfit (or loss if negative):    $ 130,050.00\n\nEnter stock name OR -999 to Quit: -999\n\nStock Name: -999\nAmount paid for the stock:       $  15,000.00\nCommission paid on the purchase: $     450.00\nAmount the stock sold for:       $ 150,000.00\nCommission paid on the sale:     $   4,500.00\nProfit (or loss if negative):    $ 130,050.00\n&gt;&gt;&gt; \n</code></pre>\n"}, {"tags": ["python", "django", "django-models"], "answers": [{"comments": [{"owner": {"reputation": 269, "user_id": 6906695, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/58e5f8fb5ac984a024ede8bfa509f665?s=128&d=identicon&r=PG&f=1", "display_name": "MezzanineLearner", "link": "https://stackoverflow.com/users/6906695/mezzaninelearner"}, "edited": false, "score": 0, "creation_date": 1476310360, "post_id": 40009025, "comment_id": 67296565, "body": "can you give a some detail?"}, {"owner": {"reputation": 138, "user_id": 6876523, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/bf3b0364f09623879611165c97fffd93?s=128&d=identicon&r=PG&f=1", "display_name": "Rampant", "link": "https://stackoverflow.com/users/6876523/rampant"}, "reply_to_user": {"reputation": 269, "user_id": 6906695, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/58e5f8fb5ac984a024ede8bfa509f665?s=128&d=identicon&r=PG&f=1", "display_name": "MezzanineLearner", "link": "https://stackoverflow.com/users/6906695/mezzaninelearner"}, "edited": false, "score": 0, "creation_date": 1476322129, "post_id": 40009025, "comment_id": 67299655, "body": "I probably should have asked before , which platform is hosting the app? (Windows, OSX, Linux?)"}, {"owner": {"reputation": 269, "user_id": 6906695, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/58e5f8fb5ac984a024ede8bfa509f665?s=128&d=identicon&r=PG&f=1", "display_name": "MezzanineLearner", "link": "https://stackoverflow.com/users/6906695/mezzaninelearner"}, "edited": false, "score": 0, "creation_date": 1476352654, "post_id": 40009025, "comment_id": 67312445, "body": "It&#39;s hosted on Linux."}], "tags": [], "owner": {"reputation": 138, "user_id": 6876523, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/bf3b0364f09623879611165c97fffd93?s=128&d=identicon&r=PG&f=1", "display_name": "Rampant", "link": "https://stackoverflow.com/users/6876523/rampant"}, "is_accepted": false, "score": 1, "last_activity_date": 1476309321, "creation_date": 1476309321, "answer_id": 40009025, "question_id": 40008788, "link": "https://stackoverflow.com/questions/40008788/schedule-table-updates-in-django/40009025#40009025", "title": "Schedule table updates in Django", "body": "<p>I think this is likely best accomplished by writing a server-side python script and adding a cronjob </p>\n"}, {"comments": [{"owner": {"reputation": 269, "user_id": 6906695, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/58e5f8fb5ac984a024ede8bfa509f665?s=128&d=identicon&r=PG&f=1", "display_name": "MezzanineLearner", "link": "https://stackoverflow.com/users/6906695/mezzaninelearner"}, "edited": false, "score": 0, "creation_date": 1476310258, "post_id": 40009031, "comment_id": 67296532, "body": "Celery should work, I just need to test. Thanks a lot!"}, {"owner": {"reputation": 5983, "user_id": 1036843, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/b00a6aecd78db1121661f4c72e657ead?s=128&d=identicon&r=PG", "display_name": "The Brewmaster", "link": "https://stackoverflow.com/users/1036843/the-brewmaster"}, "reply_to_user": {"reputation": 269, "user_id": 6906695, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/58e5f8fb5ac984a024ede8bfa509f665?s=128&d=identicon&r=PG&f=1", "display_name": "MezzanineLearner", "link": "https://stackoverflow.com/users/6906695/mezzaninelearner"}, "edited": false, "score": 1, "creation_date": 1476310334, "post_id": 40009031, "comment_id": 67296559, "body": "FWIW, I also tend to use <code>redis</code> as my broker instead of RabbitMQ. I really like redis for a lot of uses, so I usually stick with it here too: <a href=\"http://docs.celeryproject.org/en/latest/getting-started/brokers/redis.html\" rel=\"nofollow noreferrer\">docs.celeryproject.org/en/latest/getting-started/brokers/&hellip;</a>"}, {"owner": {"reputation": 5983, "user_id": 1036843, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/b00a6aecd78db1121661f4c72e657ead?s=128&d=identicon&r=PG", "display_name": "The Brewmaster", "link": "https://stackoverflow.com/users/1036843/the-brewmaster"}, "reply_to_user": {"reputation": 269, "user_id": 6906695, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/58e5f8fb5ac984a024ede8bfa509f665?s=128&d=identicon&r=PG&f=1", "display_name": "MezzanineLearner", "link": "https://stackoverflow.com/users/6906695/mezzaninelearner"}, "edited": false, "score": 0, "creation_date": 1476314176, "post_id": 40009031, "comment_id": 67297723, "body": "If you like this answer, can you please mark it as the answer?"}], "tags": [], "owner": {"reputation": 5983, "user_id": 1036843, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/b00a6aecd78db1121661f4c72e657ead?s=128&d=identicon&r=PG", "display_name": "The Brewmaster", "link": "https://stackoverflow.com/users/1036843/the-brewmaster"}, "is_accepted": true, "score": 1, "last_activity_date": 1476309362, "last_edit_date": 1495541970, "creation_date": 1476309362, "answer_id": 40009031, "question_id": 40008788, "link": "https://stackoverflow.com/questions/40008788/schedule-table-updates-in-django/40009031#40009031", "title": "Schedule table updates in Django", "body": "<p>Based upon your question, I am not 100% clear what you are looking for. But, assuming you are looking to run some sort of a task every 5 minutes (that will make calls to the DB), then I <strong>highly</strong> suggest you look at <a href=\"http://www.celeryproject.org/\" rel=\"nofollow noreferrer\">Celery</a>. </p>\n\n<p>It is a robust task schedules, with <a href=\"http://docs.celeryproject.org/en/latest/django/first-steps-with-django.html\" rel=\"nofollow noreferrer\">specific Django integration</a>. Once you get thru the <a href=\"http://docs.celeryproject.org/en/latest/getting-started/introduction.html\" rel=\"nofollow noreferrer\">getting started</a> documentation, what you want to look at in particular is called <a href=\"http://docs.celeryproject.org/en/latest/userguide/periodic-tasks.html\" rel=\"nofollow noreferrer\">CELERYBEAT_SCHEDULE</a>. This allows you to sort of setup cron like calls.</p>\n\n<p>This has a lot of <a href=\"https://stackoverflow.com/a/16234656/1036843\">benefits over cron</a>, and for most use cases I find it to be a better alternative. Scalability is a huge feature for me.</p>\n\n<p>Good luck!</p>\n"}], "owner": {"reputation": 269, "user_id": 6906695, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/58e5f8fb5ac984a024ede8bfa509f665?s=128&d=identicon&r=PG&f=1", "display_name": "MezzanineLearner", "link": "https://stackoverflow.com/users/6906695/mezzaninelearner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 563, "favorite_count": 1, "accepted_answer_id": 40009031, "answer_count": 2, "score": 1, "last_activity_date": 1476309362, "creation_date": 1476308303, "question_id": 40008788, "link": "https://stackoverflow.com/questions/40008788/schedule-table-updates-in-django", "title": "Schedule table updates in Django", "body": "<p>How do you schedule updating the contents of a database table in Django based on time of day. For example every 5 minutes Django will call a REST api to update contents of a table.</p>\n"}, {"tags": ["python", "numpy", "matplotlib", "matplotlib-basemap"], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 7010348, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/94b4d864baa1e1c01fae401147565ae8?s=128&d=identicon&r=PG&f=1", "display_name": "neocolor", "link": "https://stackoverflow.com/users/7010348/neocolor"}, "is_accepted": true, "score": 0, "last_activity_date": 1476554349, "creation_date": 1476554349, "answer_id": 40062415, "question_id": 40008778, "link": "https://stackoverflow.com/questions/40008778/odd-behavior-with-python-basemap-and-pcolormesh/40062415#40062415", "title": "Odd behavior with python basemap and pcolormesh", "body": "<p>After some additional looking around I stumbled across this post: <a href=\"https://stackoverflow.com/questions/18186047/map-projection-and-forced-interpolation\">Map projection and forced interpolation</a></p>\n\n<p>This solved my problems for now, so I'm linking in case someone else runs into this issue.</p>\n"}], "owner": {"reputation": 1, "user_id": 7010348, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/94b4d864baa1e1c01fae401147565ae8?s=128&d=identicon&r=PG&f=1", "display_name": "neocolor", "link": "https://stackoverflow.com/users/7010348/neocolor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 448, "favorite_count": 0, "accepted_answer_id": 40062415, "answer_count": 1, "score": 0, "last_activity_date": 1476554349, "creation_date": 1476308246, "question_id": 40008778, "link": "https://stackoverflow.com/questions/40008778/odd-behavior-with-python-basemap-and-pcolormesh", "title": "Odd behavior with python basemap and pcolormesh", "body": "<p>I'm trying to plot longitudinal strips of binned data by making a numpy.meshgrid, converting the coordinates to map x,y coordinates using Basemap(), and then making a pcolormesh which is applied over the map. Code is for Python 2.7:</p>\n\n<pre><code>import numpy as np\nfrom mpl_toolkits.basemap import Basemap, shiftgrid, addcyclic\nimport matplotlib.pyplot as plt\n\nlon_tics =  np.linspace(0, 360.0, 60)\nlat_tics = np.linspace(-90.0, 90.0, 30)\nmap_bins = np.zeros((60,30), dtype = np.int)\nbin15 = np.random.randint(0,20,30) #we should see 2 strips\nbin45 = np.random.randint(0,20,30) #but we get lots of strange results\nmap_bins[15] = bin15\nmap_bins[45] = bin45\nm = Basemap(projection='moll',lon_0= -120,resolution='c') #NOTE changing lon_0 has weird results!\nlon_bins_2d, lat_bins_2d = np.meshgrid(lon_tics, lat_tics)\nxs, ys = m(lon_bins_2d, lat_bins_2d)\nplt.pcolormesh(xs, ys, np.transpose(map_bins))\nplt.colorbar()\nm.drawparallels(np.arange(-90.,120.,30.), labels = [True])\nm.drawmeridians(np.arange(0.,360.,60.), labels = [False])\nplt.show()\n</code></pre>\n\n<p>This is giving some very weird behavior. By changing either what bins the data is in, where lon_0 is set by the Basemap() instantiation, or how the lat/lon bins are defined we will get differing behavior, such as:</p>\n\n<ul>\n<li>No longitudinal strips</li>\n<li>1 longitudinal strips</li>\n<li>2 longitudinal strips (expected behavior) (pictured: made with lon_0=-120)</li>\n<li>'Smeared' bin to edge of map (pictured: made with lon_0=98)</li>\n</ul>\n\n<p>I've been trying to resolve this issue for some time; can anyone see what I am doing wrong?</p>\n\n<p>Thanks for reading.</p>\n\n<p><a href=\"https://i.stack.imgur.com/bX0TH.png\" rel=\"nofollow\">Correct output</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/tvZMW.png\" rel=\"nofollow\">Smear</a></p>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 30387, "user_id": 6260170, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/0caf9a0d28be362618ffc0223b301d6e?s=128&d=identicon&r=PG&f=1", "display_name": "Chris_Rands", "link": "https://stackoverflow.com/users/6260170/chris-rands"}, "edited": false, "score": 3, "creation_date": 1476308317, "post_id": 40008777, "comment_id": 67295739, "body": "use <code>line.split(&#39;.&#39;)[0]</code>"}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 1, "creation_date": 1476308380, "post_id": 40008777, "comment_id": 67295760, "body": "Replacing or removing? If replacing, with what? What have you tried, and what exactly is the problem with it?"}, {"owner": {"reputation": 7927, "user_id": 5214807, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aq31b.jpg?s=128&g=1", "display_name": "Saleem", "link": "https://stackoverflow.com/users/5214807/saleem"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1476308490, "post_id": 40008777, "comment_id": 67295807, "body": "@jonrsharpe you should be appreciating OPs effort to post question :)"}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "reply_to_user": {"reputation": 7927, "user_id": 5214807, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aq31b.jpg?s=128&g=1", "display_name": "Saleem", "link": "https://stackoverflow.com/users/5214807/saleem"}, "edited": false, "score": 1, "creation_date": 1476308555, "post_id": 40008777, "comment_id": 67295844, "body": "@Saleem should I? Did they put any in?"}, {"owner": {"reputation": 105, "user_id": 6283294, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh6.googleusercontent.com/-VfVMrI2Fhr0/AAAAAAAAAAI/AAAAAAAANss/PwjHZBb7Jrc/photo.jpg?sz=128", "display_name": "sudhir kumar", "link": "https://stackoverflow.com/users/6283294/sudhir-kumar"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1476309367, "post_id": 40008777, "comment_id": 67296180, "body": "@jonrsharpe I clearly mentioned removing. I tried line.split() function to remove digits. What do you mean my what exactly is the problem"}, {"owner": {"reputation": 105, "user_id": 6283294, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh6.googleusercontent.com/-VfVMrI2Fhr0/AAAAAAAAAAI/AAAAAAAANss/PwjHZBb7Jrc/photo.jpg?sz=128", "display_name": "sudhir kumar", "link": "https://stackoverflow.com/users/6283294/sudhir-kumar"}, "reply_to_user": {"reputation": 30387, "user_id": 6260170, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/0caf9a0d28be362618ffc0223b301d6e?s=128&d=identicon&r=PG&f=1", "display_name": "Chris_Rands", "link": "https://stackoverflow.com/users/6260170/chris-rands"}, "edited": false, "score": 0, "creation_date": 1476309458, "post_id": 40008777, "comment_id": 67296220, "body": "@Chris_Rands : Thanks. I understood where I was doing wrong. I used line.split(&#39; &#39;). instead of line.split(.)."}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1476309461, "post_id": 40008777, "comment_id": 67296222, "body": "Yes, and you also clearly wrote replacing in the title. Ok, then show a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> of what you tried. I mean what is the problem with your code; what did you want it to do and what did it do instead."}], "answers": [{"comments": [{"owner": {"reputation": 105, "user_id": 6283294, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh6.googleusercontent.com/-VfVMrI2Fhr0/AAAAAAAAAAI/AAAAAAAANss/PwjHZBb7Jrc/photo.jpg?sz=128", "display_name": "sudhir kumar", "link": "https://stackoverflow.com/users/6283294/sudhir-kumar"}, "edited": false, "score": 0, "creation_date": 1476313320, "post_id": 40008906, "comment_id": 67297509, "body": "Is there is a way to get first digit after . ?"}, {"owner": {"reputation": 514, "user_id": 5068563, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RRbrC.jpg?s=128&g=1", "display_name": "Silko", "link": "https://stackoverflow.com/users/5068563/silko"}, "reply_to_user": {"reputation": 105, "user_id": 6283294, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh6.googleusercontent.com/-VfVMrI2Fhr0/AAAAAAAAAAI/AAAAAAAANss/PwjHZBb7Jrc/photo.jpg?sz=128", "display_name": "sudhir kumar", "link": "https://stackoverflow.com/users/6283294/sudhir-kumar"}, "edited": false, "score": 0, "creation_date": 1476336537, "post_id": 40008906, "comment_id": 67303457, "body": "In the edit you have an example with first digit after ."}], "tags": [], "owner": {"reputation": 514, "user_id": 5068563, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RRbrC.jpg?s=128&g=1", "display_name": "Silko", "link": "https://stackoverflow.com/users/5068563/silko"}, "is_accepted": true, "score": 1, "last_activity_date": 1476336500, "last_edit_date": 1476336500, "creation_date": 1476308815, "answer_id": 40008906, "question_id": 40008777, "link": "https://stackoverflow.com/questions/40008777/script-for-replacing-digits/40008906#40008906", "title": "Script for replacing digits", "body": "<p>I didn't use regular expressions but maybe this helps:</p>\n\n<pre><code>text = \"a      b     c    123.67989 \\n\" \\\n\"aa   bb  cc   56789.38475 \\n\" \\\n\"b    c   a    56789.3456 \\n\" \\\n\"bb   cc  aa   0.12409124 \\n\" \\\n\"c    a   b    0.0123123\"\n\nlines = text.splitlines()\n\nfor line in lines:\n   line_without_digits = line.split('.')[0]\n   print(line_without_digits)\n</code></pre>\n\n<p><strong>EDIT</strong></p>\n\n<p>Example with first digit after \".\":</p>\n\n<pre><code>text = \"a      b     c    123.67989 \\n\" \\\n\"aa   bb  cc   56789.38475 \\n\" \\\n\"b    c   a    56789.3456 \\n\" \\\n\"bb   cc  aa   0.12409124 \\n\" \\\n\"c    a   b    0.0123123\"\n\nlines = text.splitlines()\n\nfor line in lines:\n    line_split = line.split('.')\n    line_without_digits = line_split[0] + \".\" + line_split[1][0]\n    print(line_without_digits)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 105, "user_id": 6283294, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh6.googleusercontent.com/-VfVMrI2Fhr0/AAAAAAAAAAI/AAAAAAAANss/PwjHZBb7Jrc/photo.jpg?sz=128", "display_name": "sudhir kumar", "link": "https://stackoverflow.com/users/6283294/sudhir-kumar"}, "edited": false, "score": 0, "creation_date": 1476312185, "post_id": 40008978, "comment_id": 67297190, "body": "Is there is a way to get 1st digit after  .?"}, {"owner": {"reputation": 5, "user_id": 6823812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12dbe69d56a060b77ee43c92724d9c3c?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas", "link": "https://stackoverflow.com/users/6823812/thomas"}, "reply_to_user": {"reputation": 105, "user_id": 6283294, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh6.googleusercontent.com/-VfVMrI2Fhr0/AAAAAAAAAAI/AAAAAAAANss/PwjHZBb7Jrc/photo.jpg?sz=128", "display_name": "sudhir kumar", "link": "https://stackoverflow.com/users/6283294/sudhir-kumar"}, "edited": false, "score": 0, "creation_date": 1476369587, "post_id": 40008978, "comment_id": 67325247, "body": "Python supports offset notation on strings, and you can access the second part of the split.  I updated my answer with sample code."}, {"owner": {"reputation": 105, "user_id": 6283294, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh6.googleusercontent.com/-VfVMrI2Fhr0/AAAAAAAAAAI/AAAAAAAANss/PwjHZBb7Jrc/photo.jpg?sz=128", "display_name": "sudhir kumar", "link": "https://stackoverflow.com/users/6283294/sudhir-kumar"}, "edited": false, "score": 0, "creation_date": 1476374861, "post_id": 40008978, "comment_id": 67329149, "body": "Thanks for the answer"}], "tags": [], "owner": {"reputation": 5, "user_id": 6823812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12dbe69d56a060b77ee43c92724d9c3c?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas", "link": "https://stackoverflow.com/users/6823812/thomas"}, "is_accepted": false, "score": 0, "last_activity_date": 1476370679, "last_edit_date": 1476370679, "creation_date": 1476309111, "answer_id": 40008978, "question_id": 40008777, "link": "https://stackoverflow.com/questions/40008777/script-for-replacing-digits/40008978#40008978", "title": "Script for replacing digits", "body": "<p>No regex here, either, but:</p>\n\n<pre><code>with open( \"C:/TestFile.txt\", 'r' ) as file:\n   lines = file.readlines()\n\nout_lines = []\n\nout_file = open( \"C:/TestFile2.txt\", \"w\" )\n\nfor i in range( len( lines ) ):\n   out_lines.append( lines[ i ].split( \".\" )[0] )\n\nfor line in out_lines:\n   out_file.write( \"%s\\n\" % line )\n</code></pre>\n\n<p>To access the numbers after the decimal, just access the second part of the split:</p>\n\n<p>Python supports offset notation on strings, and you can access the second part of the split.</p>\n\n<pre><code>for i in range( len( lines ) ):\n   parts = lines[ i ].split( \".\" )\n   out_lines.append( parts[0] )\n   first_decimal = parts[1][0]\n</code></pre>\n\n<p>Or, if your goal is to round the values in the 4th column, something like this may be what you want:</p>\n\n<pre><code>for i in range( len( lines ) ):\n   parts = lines[i].split()\n\n   if len( parts ) == 0:\n      out_lines.append( \"\" )\n      continue\n\n   out_lines.append( parts[0].ljust( 5 ) + parts[1].ljust( 4 ) + parts[2].ljust( 5 ) + format( float( parts[3] ), '.1f' ) )\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 408, "user_id": 5630003, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rsABM.jpg?s=128&g=1", "display_name": "Rafiqul Hasan", "link": "https://stackoverflow.com/users/5630003/rafiqul-hasan"}, "is_accepted": false, "score": 0, "last_activity_date": 1476339991, "creation_date": 1476339991, "answer_id": 40013738, "question_id": 40008777, "link": "https://stackoverflow.com/questions/40008777/script-for-replacing-digits/40013738#40013738", "title": "Script for replacing digits", "body": "<p>Get only digits with one decimal value:</p>\n\n<pre><code>import re\n\ntext = \"\"\"\na      b     c    123.67989\n\naa   bb  cc   56789.38475\n\nb    c   a    56789.3456\n\nbb   cc  aa   0.12409124\n\nc    a   b    0.0123123\n\"\"\"\n\ndigits = re.findall(r'\\d+\\.\\d{1}', text)\nprint(digits)\n\n# prints: ['123.6', '56789.3', '56789.3', '0.1', '0.0']\n</code></pre>\n"}], "owner": {"reputation": 105, "user_id": 6283294, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh6.googleusercontent.com/-VfVMrI2Fhr0/AAAAAAAAAAI/AAAAAAAANss/PwjHZBb7Jrc/photo.jpg?sz=128", "display_name": "sudhir kumar", "link": "https://stackoverflow.com/users/6283294/sudhir-kumar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "accepted_answer_id": 40008906, "answer_count": 3, "score": -3, "last_activity_date": 1476370679, "creation_date": 1476308240, "last_edit_date": 1476309882, "question_id": 40008777, "link": "https://stackoverflow.com/questions/40008777/script-for-replacing-digits", "title": "Script for replacing digits", "body": "<p>I have a file that has content as below</p>\n\n<pre><code>a      b     c    123.67989\n\naa   bb  cc   56789.38475\n\nb    c   a    56789.3456\n\nbb   cc  aa   0.12409124\n\nc    a   b    0.0123123\n</code></pre>\n\n<p>I am trying to remove digits after the <code>.</code> in the each line. Is there is a way to do this using regular expressions in Python?\nCode I wrote\nf1 = open('filename.txt','r')</p>\n\n<p>for line in f1:</p>\n\n<pre><code>    words = line.split()\n    print(words[3])\n</code></pre>\n\n<p>I am trying retrieve last row information and I keep getting error list indices out of range</p>\n"}, {"tags": ["python", "django", "wysiwyg", "django-cms", "wagtail-streamfield"], "comments": [{"owner": {"reputation": 5983, "user_id": 1036843, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/b00a6aecd78db1121661f4c72e657ead?s=128&d=identicon&r=PG", "display_name": "The Brewmaster", "link": "https://stackoverflow.com/users/1036843/the-brewmaster"}, "edited": false, "score": 0, "creation_date": 1476309662, "post_id": 40008775, "comment_id": 67296305, "body": "I thing you should reconsider your dismissal of CMS options. Wagtail (and I am assuming DCMS) can be easily integrated in whole or in part in your project. I would personally use wagtail, and just render the &quot;page&quot; within a certain element as needed. Plus, the backed is so user and developer friendly."}], "answers": [{"tags": [], "owner": {"reputation": 2420, "user_id": 1039678, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/4d511497e8c1c0d293881b89a90cd753?s=128&d=identicon&r=PG", "display_name": "petr", "link": "https://stackoverflow.com/users/1039678/petr"}, "is_accepted": true, "score": 2, "last_activity_date": 1476309853, "creation_date": 1476309853, "answer_id": 40009135, "question_id": 40008775, "link": "https://stackoverflow.com/questions/40008775/analogs-for-placeholder-from-django-cms-or-streamfield-from-wagtail-without-cms/40009135#40009135", "title": "Analogs for Placeholder from Django-CMS or Streamfield from Wagtail without cms itself", "body": "<p>Django CMS is very modular - you do not need to bring in the whole URL and page management interface.</p>\n\n<p>You can enhance your existing models with Django CMS's placeholder fields and use the rich structure mode and plugins only, for example:</p>\n\n<pre><code>from django.db import models\nfrom cms.models.fields import PlaceholderField\n\nclass MyModel(models.Model):\n    # your fields\n    my_placeholder = PlaceholderField('placeholder_name')\n    # your methods\n</code></pre>\n\n<p>Example taken from  <a href=\"http://docs.django-cms.org/en/release-3.3.x/how_to/placeholders.html\" rel=\"nofollow\">Django CMS documentation</a>.</p>\n"}], "owner": {"reputation": 732, "user_id": 888562, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/7bcd5ce508370a3757d361769bbf1f2a?s=128&d=identicon&r=PG", "display_name": "Antonio", "link": "https://stackoverflow.com/users/888562/antonio"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 244, "favorite_count": 0, "accepted_answer_id": 40009135, "answer_count": 1, "score": 1, "last_activity_date": 1556804236, "creation_date": 1476308229, "question_id": 40008775, "link": "https://stackoverflow.com/questions/40008775/analogs-for-placeholder-from-django-cms-or-streamfield-from-wagtail-without-cms", "title": "Analogs for Placeholder from Django-CMS or Streamfield from Wagtail without cms itself", "body": "<p>I often need to implement rich content editing in my django projects. There are a lot of different wysiwyg-editors, but they are not good for creating complex content structure. Placeholder from Django-CMS or Streamfield from Wagtail can do it much better, but I don't want to add whole CMS to my project, because it brings a lot of unnecessary stuff into interface.</p>\n\n<p>All I need is just a field with ordered list of widgets inside + editing interface for it. Can you suggest something?</p>\n"}, {"tags": ["python", "csv", "beautifulsoup"], "answers": [{"tags": [], "owner": {"reputation": 37454, "user_id": 4985733, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/r7daF.jpg?s=128&g=1", "display_name": "Martin Evans", "link": "https://stackoverflow.com/users/4985733/martin-evans"}, "is_accepted": false, "score": 0, "last_activity_date": 1476805413, "creation_date": 1476805413, "answer_id": 40112614, "question_id": 40008742, "link": "https://stackoverflow.com/questions/40008742/export-multiple-scraped-files-in-python-from-beautiful-soup-to-a-cvs-file/40112614#40112614", "title": "Export multiple scraped files in python from beautiful soup to a cvs file", "body": "<p>Your indenting is completely off, try the following:</p>\n\n<pre><code>from bs4 import BeautifulSoup\nimport csv\nimport re\nimport pandas as pd\nimport requests\n\nwith open('/Users/test/Dropbox/one_minute_json/Extracting Data/a_2005_test.csv') as f:\n    reader = csv.reader(f)\n\n    index = 0    \n    df = pd.DataFrame(columns=[\"Volume\", \"issue\", \"date\", \"page\", \"title\", \"name\", \"text\"])\n\n    for row in reader:\n        r = requests.get(row[0])\n        soup = BeautifulSoup(r.text, \"lxml\")\n\n        for item in soup:\n            volume = int(re.findall(r\"Volume (\\d{1,3})\", soup.title.text)[0])\n            issue = int(re.findall(r\"Issue (\\d{1,3})\", soup.title.text)[0])\n            date = re.findall(r\"\\((.*?)\\)\", soup.title.text)[0]\n            page = re.findall(r\"\\[Page (.*?)]\", soup.pre.text.split('\\n')[3])[0]\n            title = soup.pre.text.split('\\n\\n  ')[1].strip()\n            name = soup.pre.text.split('\\n ')[2]\n            text = soup.pre.text.split(')')[2]\n            row = [volume, issue, date, page, title, name, text]\n\n            df.loc[index] = row\n            index += 1\n\n    df.to_csv('test_scrape.csv', index=False)    \n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 7010358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79f87c2e534842b1eb39dfe78f8a4a15?s=128&d=identicon&r=PG&f=1", "display_name": "khkhkh", "link": "https://stackoverflow.com/users/7010358/khkhkh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 126, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1476805413, "creation_date": 1476308087, "question_id": 40008742, "link": "https://stackoverflow.com/questions/40008742/export-multiple-scraped-files-in-python-from-beautiful-soup-to-a-cvs-file", "title": "Export multiple scraped files in python from beautiful soup to a cvs file", "body": "<p>I have a csv list of urls that I need to scrape and organize into a csv file. I want the data from each url to be a row in the csv file. I have about 19000 urls to scrape, but am trying to figure this out using only handful. I am able to scrape the files and view them in the terminal, but when I export them to the csv file only the last file appears. </p>\n\n<p>The urls appear in the csv file as:</p>\n\n<p><a href=\"http://www.gpo.gov/fdsys/pkg/CREC-2005-01-26/html/CREC-2005-01-26-pt1-PgH199-6.htm\" rel=\"nofollow\">http://www.gpo.gov/fdsys/pkg/CREC-2005-01-26/html/CREC-2005-01-26-pt1-PgH199-6.htm</a></p>\n\n<p><a href=\"http://www.gpo.gov/fdsys/pkg/CREC-2005-01-26/html/CREC-2005-01-26-pt1-PgH200-3.htm\" rel=\"nofollow\">http://www.gpo.gov/fdsys/pkg/CREC-2005-01-26/html/CREC-2005-01-26-pt1-PgH200-3.htm</a></p>\n\n<p>I have a feeling I am doing something wrong with my loop, but can't seem to figure out where. Any help would be greatly appreciated!</p>\n\n<p>Here is what I'm working with so far: </p>\n\n<pre><code>import urllib\nfrom bs4 import BeautifulSoup\nimport csv\nimport re\nimport pandas as pd\nimport requests\n\nwith open('/Users/test/Dropbox/one_minute_json/Extracting Data/a_2005_test.csv') as f:\nreader = csv.reader(f)\n\nfor row in reader:\n    html = urllib.urlopen(row[0])\n    r = requests.get(html)\n    soup = BeautifulSoup(r, \"lxml\")\n\nfor item in soup:\n\nvolume = int(re.findall(r\"Volume (\\d{1,3})\", soup.title.text)[0])\nprint(volume)\n\nissue = int(re.findall(r\"Issue (\\d{1,3})\", soup.title.text)[0])\nprint(issue)\n\n\n\ndate = re.findall(r\"\\((.*?)\\)\", soup.title.text)[0]\nprint(date)\n\npage = re.findall(r\"\\[Page (.*?)]\", soup.pre.text.split('\\n')[3])[0]\nprint(page)\n\ntitle = soup.pre.text.split('\\n\\n  ')[1].strip()\nprint(title)\n\nname = soup.pre.text.split('\\n ')[2]\nprint(name)\n\ntext = soup.pre.text.split(')')[2]\nprint(text)\n\ndf = pd.DataFrame()\ndf['volume'] = [volume]\ndf['issue'] = [issue]\ndf['date'] = [date]\ndf['page'] = [page]\ndf['title'] = [title]\ndf['name'] = [name]\ndf['text'] = [text]\n\ndf.to_csv('test_scrape.csv', index=False)\n</code></pre>\n\n<p>Thanks!</p>\n"}, {"tags": ["python", "nix"], "answers": [{"comments": [{"owner": {"reputation": 1338, "user_id": 1306877, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fUlRo.jpg?s=128&g=1", "display_name": "tlo", "link": "https://stackoverflow.com/users/1306877/tlo"}, "edited": false, "score": 0, "creation_date": 1476565041, "post_id": 40016749, "comment_id": 67402230, "body": "For now, this seems like the best solution, although I don&#39;t like that it would not work with scripts that use e.g. <code>&#47;usr&#47;bin&#47;env python</code>. That said, there is a new pull request (<a href=\"https://github.com/NixOS/nixpkgs/pull/19554\" rel=\"nofollow noreferrer\">github.com/NixOS/nixpkgs/pull/19554</a>) and it seems that python3 will soon be the default in Nix."}], "tags": [], "owner": {"reputation": 2373, "user_id": 3335288, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qfxhh.jpg?s=128&g=1", "display_name": "Zimm i48", "link": "https://stackoverflow.com/users/3335288/zimm-i48"}, "is_accepted": true, "score": 1, "last_activity_date": 1476349815, "creation_date": 1476349815, "answer_id": 40016749, "question_id": 40008731, "link": "https://stackoverflow.com/questions/40008731/how-can-i-define-a-nix-environment-that-defaults-to-python-3-5/40016749#40016749", "title": "How can I define a Nix environment that defaults to Python 3.5", "body": "<p>One simple solution could be to add a shell hook to your environment, to define an alias from <code>python</code> to <code>python3</code>. This alias will be active only when you run <code>nix-shell</code>:</p>\n\n<pre><code>with import &lt;nixpkgs&gt; {};\nstdenv.mkDerivation rec {\n  name = \"env\";\n  env = buildEnv { name = name; paths = buildInputs; };\n  buildInputs = [\n    python35\n    python35Packages.pyyaml\n  ];\n  # Customizable development shell setup\n  shellHook = ''\n    alias python='python3'\n  '';\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 28488, "user_id": 402884, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/35583fe46c2cde92467710cc7ceff266?s=128&d=identicon&r=PG", "display_name": "Chris Martin", "link": "https://stackoverflow.com/users/402884/chris-martin"}, "is_accepted": false, "score": 3, "last_activity_date": 1504728961, "creation_date": 1504728961, "answer_id": 46083666, "question_id": 40008731, "link": "https://stackoverflow.com/questions/40008731/how-can-i-define-a-nix-environment-that-defaults-to-python-3-5/46083666#46083666", "title": "How can I define a Nix environment that defaults to Python 3.5", "body": "<p>You can use <code>runCommand</code> to create a new derivation that contains only a <code>python</code> symlink.</p>\n\n<pre><code>with import &lt;nixpkgs&gt; {};\nstdenv.mkDerivation rec {\n  name = \"env\";\n  env = buildEnv { name = name; paths = buildInputs; };\n  buildInputs = [\n    (runCommand \"python-alias\" {} ''\n      mkdir -p $out/bin\n      ln -s ${python35}/bin/python3 $out/bin/python\n    '')\n    python35\n    python35Packages.pyyaml\n  ];\n}\n</code></pre>\n\n<p><br></p>\n\n<pre><code>nix-shell --pure --run 'python --version'\nPython 3.5.3\n</code></pre>\n"}], "owner": {"reputation": 1338, "user_id": 1306877, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fUlRo.jpg?s=128&g=1", "display_name": "tlo", "link": "https://stackoverflow.com/users/1306877/tlo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 697, "favorite_count": 0, "accepted_answer_id": 40016749, "answer_count": 2, "score": 2, "last_activity_date": 1504728961, "creation_date": 1476308036, "question_id": 40008731, "link": "https://stackoverflow.com/questions/40008731/how-can-i-define-a-nix-environment-that-defaults-to-python-3-5", "title": "How can I define a Nix environment that defaults to Python 3.5", "body": "<p>I have defined a the following environment in <code>default.nix</code>:</p>\n\n<pre><code>with import &lt;nixpkgs&gt; {};\nstdenv.mkDerivation rec {\n  name = \"env\";\n  env = buildEnv { name = name; paths = buildInputs; };\n  buildInputs = [\n    python35\n    python35Packages.pyyaml\n  ];\n}\n</code></pre>\n\n<p>If I run <code>nix-shell</code>, <code>python</code> will still be the system python at <code>/usr/bin/python</code> (running on Ubuntu) while <code>python3</code> is a symlink to the Python 3.5 binary installed by Nix. Is there a way to define the environment so that <code>python</code> is pointing to the Nix Python 3.5?</p>\n"}, {"tags": ["python", "list"], "comments": [{"owner": {"reputation": 27649, "user_id": 5067311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qjltV.png?s=128&g=1", "display_name": "Andras Deak", "link": "https://stackoverflow.com/users/5067311/andras-deak"}, "edited": false, "score": 0, "creation_date": 1476307195, "post_id": 40008526, "comment_id": 67295232, "body": "Just for the sake of correctness: if your objects start as <code>[]</code>, they are probably <code>list</code>s and not arrays."}, {"owner": {"reputation": 30387, "user_id": 6260170, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/0caf9a0d28be362618ffc0223b301d6e?s=128&d=identicon&r=PG&f=1", "display_name": "Chris_Rands", "link": "https://stackoverflow.com/users/6260170/chris-rands"}, "edited": false, "score": 0, "creation_date": 1476307209, "post_id": 40008526, "comment_id": 67295238, "body": "Where did you get stuck with this?"}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 2, "creation_date": 1476307223, "post_id": 40008526, "comment_id": 67295248, "body": "Read up on <code>zip</code> and <code>for</code> loops."}, {"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1476307277, "post_id": 40008526, "comment_id": 67295267, "body": "&quot;print each name with a number&quot; -- <code>enumerate</code>?"}, {"owner": {"reputation": 3, "user_id": 4561456, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/7b8b9ec557c322ab66c5b3a6ef416a87?s=128&d=identicon&r=PG&f=1", "display_name": "1230", "link": "https://stackoverflow.com/users/4561456/1230"}, "edited": false, "score": 0, "creation_date": 1476307334, "post_id": 40008526, "comment_id": 67295296, "body": "Not sure how to print each name with each numbers from the lists for example the first name is test and the first number 1 is 5 then the first number2 is 20, I want that all on one line for each one in the lists"}, {"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1476307430, "post_id": 40008526, "comment_id": 67295347, "body": "If you read <a href=\"http://stackoverflow.com/help/how-to-ask\">how to ask a good question</a>, you may see that is asks you to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. You should show your CSV data, how you read it into your lists, then your expected output. What does <code>Test, 5, 20</code> mean?"}, {"owner": {"reputation": 3, "user_id": 4561456, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/7b8b9ec557c322ab66c5b3a6ef416a87?s=128&d=identicon&r=PG&f=1", "display_name": "1230", "link": "https://stackoverflow.com/users/4561456/1230"}, "edited": false, "score": 0, "creation_date": 1476307551, "post_id": 40008526, "comment_id": 67295406, "body": "Test (THE NAME) i said that already, 5(number1), 20(number2), all of which is inside the list from the csv file."}], "answers": [{"comments": [{"owner": {"reputation": 117275, "user_id": 5393381, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/308ffa6266fda6d94bc56fbd9e9798f9?s=128&d=identicon&r=PG&f=1", "display_name": "MSeifert", "link": "https://stackoverflow.com/users/5393381/mseifert"}, "edited": false, "score": 1, "creation_date": 1476307731, "post_id": 40008630, "comment_id": 67295477, "body": "fortunatly there is <code>enumerate</code> and <code>zip</code> so one doesn&#39;t need to bother with an intermediate counter variable <code>k</code>."}], "tags": [], "owner": {"reputation": 514, "user_id": 5068563, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RRbrC.jpg?s=128&g=1", "display_name": "Silko", "link": "https://stackoverflow.com/users/5068563/silko"}, "is_accepted": false, "score": 1, "last_activity_date": 1476308255, "last_edit_date": 1476308255, "creation_date": 1476307605, "answer_id": 40008630, "question_id": 40008526, "link": "https://stackoverflow.com/questions/40008526/printing-from-lists/40008630#40008630", "title": "Printing from lists", "body": "<p>You are probably looking for something like this:</p>\n\n<pre><code>name = [\"Test1\", \"Test2\", \"Test3\"]\nnumber1 = [1,2,3]\nnumber2 = [4,5,6]\n\nk=0\nfor v in name:\n    print(v + \", \" + str(number1[k]) + \", \" + str(number2[k]))\n    k+=1\n</code></pre>\n\n<p><strong>EDIT</strong></p>\n\n<p>As MSeifert mentioned in the comment bellow here is better solution with enumerate:</p>\n\n<pre><code>name = [\"Test1\", \"Test2\", \"Test3\"]\nnumber1 = [1,2,3]\nnumber2 = [4,5,6]\n\nfor k,v in enumerate(name):\n    print(v + \", \" + str(number1[k]) + \", \" + str(number2[k]))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 595, "user_id": 3334477, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6WWr4.jpg?s=128&g=1", "display_name": "maillard", "link": "https://stackoverflow.com/users/3334477/maillard"}, "is_accepted": false, "score": 1, "last_activity_date": 1476309647, "creation_date": 1476309647, "answer_id": 40009091, "question_id": 40008526, "link": "https://stackoverflow.com/questions/40008526/printing-from-lists/40009091#40009091", "title": "Printing from lists", "body": "<p>Here's a way to do it using zip:</p>\n\n<pre><code>for triplet in zip(name, number1, number2):\n    print(\", \".join(map(str, triplet)))\n</code></pre>\n\n<p>triplet is a 3-tuple <code>(a, b, c)</code> with the corresponding element from the 3 lists (in other words, they are zipped)</p>\n"}], "owner": {"reputation": 3, "user_id": 4561456, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/7b8b9ec557c322ab66c5b3a6ef416a87?s=128&d=identicon&r=PG&f=1", "display_name": "1230", "link": "https://stackoverflow.com/users/4561456/1230"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "answer_count": 2, "score": -5, "last_activity_date": 1476309647, "creation_date": 1476307122, "last_edit_date": 1476307347, "question_id": 40008526, "link": "https://stackoverflow.com/questions/40008526/printing-from-lists", "title": "Printing from lists", "body": "<p>I've got 3 different lists, all the data inside is coming from an external CSV file which works although how do I print each name with each number next to them</p>\n\n<pre><code>name = [] \nnumber1 = [] \nnumber2 = []\n</code></pre>\n\n<p>for example expected output is, although I'm unsure how I would do this</p>\n\n<pre><code>LOOP (12) as there is 12 names and numbers in each lsit\nTest, 5, 20\n</code></pre>\n"}, {"tags": ["python", "loops"], "comments": [{"owner": {"reputation": 27649, "user_id": 5067311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qjltV.png?s=128&g=1", "display_name": "Andras Deak", "link": "https://stackoverflow.com/users/5067311/andras-deak"}, "edited": false, "score": 0, "creation_date": 1476307062, "post_id": 40008477, "comment_id": 67295166, "body": "Soooo much whitespace..."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1476307316, "post_id": 40008477, "comment_id": 67295284, "body": "You need to indent the body of the function."}, {"owner": {"reputation": 35, "user_id": 3431336, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/35761f3bc700ab11e6697a63c54aa506?s=128&d=identicon&r=PG&f=1", "display_name": "user3431336", "link": "https://stackoverflow.com/users/3431336/user3431336"}, "edited": false, "score": 0, "creation_date": 1476307318, "post_id": 40008477, "comment_id": 67295288, "body": "I&#39;m really sorry, I was breaking down the code, and I forgot to remove the ws when posting...."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1476307420, "post_id": 40008477, "comment_id": 67295342, "body": "<code>raw_input()</code> returns a string, you don&#39;t need to use <code>str()</code> to convert it to a string."}, {"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1476307575, "post_id": 40008477, "comment_id": 67295415, "body": "<code>if (reply not in yes) and (reply not in no): continue</code>, where <code>continue</code> repeats the loop"}, {"owner": {"reputation": 35, "user_id": 3431336, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/35761f3bc700ab11e6697a63c54aa506?s=128&d=identicon&r=PG&f=1", "display_name": "user3431336", "link": "https://stackoverflow.com/users/3431336/user3431336"}, "edited": false, "score": 0, "creation_date": 1476307633, "post_id": 40008477, "comment_id": 67295432, "body": "Yeah, had some problems with that, but the issue is that I would like to repeat the input loop until either yes or no is input. What happens now is the code still runs, even thought there&#39;s an <code>else</code>"}, {"owner": {"reputation": 35, "user_id": 3431336, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/35761f3bc700ab11e6697a63c54aa506?s=128&d=identicon&r=PG&f=1", "display_name": "user3431336", "link": "https://stackoverflow.com/users/3431336/user3431336"}, "edited": false, "score": 0, "creation_date": 1476308049, "post_id": 40008477, "comment_id": 67295648, "body": "<code>if (reply not in yes) and (reply not in no): continue</code> this is not working, the code is repeating, but the question count is still rising."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1476308064, "post_id": 40008477, "comment_id": 67295653, "body": "You don&#39;t have an input loop. You just have a loop for each question."}, {"owner": {"reputation": 35, "user_id": 3431336, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/35761f3bc700ab11e6697a63c54aa506?s=128&d=identicon&r=PG&f=1", "display_name": "user3431336", "link": "https://stackoverflow.com/users/3431336/user3431336"}, "edited": false, "score": 0, "creation_date": 1476308189, "post_id": 40008477, "comment_id": 67295693, "body": "That&#39;s what I&#39;m trying to do, but I can&#39;t seem to succeed. I tried with &#39;while&#39; but I didn&#39;t seem to get it to work. been at it 4 hours."}], "answers": [{"tags": [], "owner": {"reputation": 5, "user_id": 6823812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12dbe69d56a060b77ee43c92724d9c3c?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas", "link": "https://stackoverflow.com/users/6823812/thomas"}, "is_accepted": false, "score": 0, "last_activity_date": 1476308249, "creation_date": 1476308249, "answer_id": 40008780, "question_id": 40008477, "link": "https://stackoverflow.com/questions/40008477/yes-no-input-loop-issues-with-with-correct-looping/40008780#40008780", "title": "yes/no input loop, issues with with correct looping", "body": "<p>You need a 'while' in here somewhere, once you hit the end of the 'for' block it will go to the next value in the range.</p>\n\n<pre><code>for y in xrange(len(testQ)):\n    bGoodInput = False\n    while not bGoodInput:\n       reply = str(raw_input('\\n'+str(abs(y-5))+ ' - ' +  testQ[y]+' (y/n) --&gt; ')).lower().strip()\n       if reply in yes:\n           ...\n           bGoodInput = True\n\n       elif reply in no:\n           ...\n           bGoodInput = True\n\n       else:\n           ...\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 35, "user_id": 3431336, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/35761f3bc700ab11e6697a63c54aa506?s=128&d=identicon&r=PG&f=1", "display_name": "user3431336", "link": "https://stackoverflow.com/users/3431336/user3431336"}, "edited": false, "score": 0, "creation_date": 1476309005, "post_id": 40008786, "comment_id": 67296021, "body": "This kinda works, but now if I press yes, it starts with a new question but not with the first one on the list. same goes for &#39;no&#39;. it goes all to the last one, and begins with the last one for another set."}, {"owner": {"reputation": 3031, "user_id": 2562137, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/3cxTg.png?s=128&g=1", "display_name": "OrderAndChaos", "link": "https://stackoverflow.com/users/2562137/orderandchaos"}, "reply_to_user": {"reputation": 35, "user_id": 3431336, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/35761f3bc700ab11e6697a63c54aa506?s=128&d=identicon&r=PG&f=1", "display_name": "user3431336", "link": "https://stackoverflow.com/users/3431336/user3431336"}, "edited": false, "score": 0, "creation_date": 1476309116, "post_id": 40008786, "comment_id": 67296061, "body": "Maybe I&#39;m not understanding what you are trying to achieve, could you please explain a little more about how you want your program to run."}, {"owner": {"reputation": 3031, "user_id": 2562137, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/3cxTg.png?s=128&g=1", "display_name": "OrderAndChaos", "link": "https://stackoverflow.com/users/2562137/orderandchaos"}, "reply_to_user": {"reputation": 35, "user_id": 3431336, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/35761f3bc700ab11e6697a63c54aa506?s=128&d=identicon&r=PG&f=1", "display_name": "user3431336", "link": "https://stackoverflow.com/users/3431336/user3431336"}, "edited": false, "score": 0, "creation_date": 1476309160, "post_id": 40008786, "comment_id": 67296090, "body": "What should happen if I say yes and what should happen if I say no?"}, {"owner": {"reputation": 35, "user_id": 3431336, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/35761f3bc700ab11e6697a63c54aa506?s=128&d=identicon&r=PG&f=1", "display_name": "user3431336", "link": "https://stackoverflow.com/users/3431336/user3431336"}, "edited": false, "score": 0, "creation_date": 1476309382, "post_id": 40008786, "comment_id": 67296189, "body": "The program asks the user max 5 questions (the 6th question is the answer). If the user says YES to any of them, the loop stops at that point. After that he gets to more sets of 5 questions. Same rules apply.  But if he says no, he gets all the questions from the set (until he reaches five questions,    If the user says yes, the loop breaks and then he gets two more sets of questions (imagine that list has 12, 18, or more entries). But if he says no"}, {"owner": {"reputation": 3031, "user_id": 2562137, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/3cxTg.png?s=128&g=1", "display_name": "OrderAndChaos", "link": "https://stackoverflow.com/users/2562137/orderandchaos"}, "reply_to_user": {"reputation": 35, "user_id": 3431336, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/35761f3bc700ab11e6697a63c54aa506?s=128&d=identicon&r=PG&f=1", "display_name": "user3431336", "link": "https://stackoverflow.com/users/3431336/user3431336"}, "edited": false, "score": 1, "creation_date": 1476309471, "post_id": 40008786, "comment_id": 67296226, "body": "Could you update your question to reflect this, it is a little tricky to follow."}, {"owner": {"reputation": 35, "user_id": 3431336, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/35761f3bc700ab11e6697a63c54aa506?s=128&d=identicon&r=PG&f=1", "display_name": "user3431336", "link": "https://stackoverflow.com/users/3431336/user3431336"}, "edited": false, "score": 0, "creation_date": 1476309568, "post_id": 40008786, "comment_id": 67296265, "body": "ups, too soon. Basically the user is getting max 5 question (the last one ends the loop, because it&#39;s the answer).  from 5 points to 0 points. every wrong answer (no) gives him an additional question. until he gets all five (the loop ends), for three sets.  suppose he types in an incorrect input, he&#39;s supposed to get the last question he failed to input yes or no, again."}, {"owner": {"reputation": 35, "user_id": 3431336, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/35761f3bc700ab11e6697a63c54aa506?s=128&d=identicon&r=PG&f=1", "display_name": "user3431336", "link": "https://stackoverflow.com/users/3431336/user3431336"}, "edited": false, "score": 0, "creation_date": 1476311893, "post_id": 40008786, "comment_id": 67297119, "body": "The else part works now, but if I write &#39;y&#39; it shows results and starts the same location on the list + further (for every yes). if i say &#39;no&#39; it goes from first location to the last (for each 6 items on a set)."}], "tags": [], "owner": {"reputation": 3031, "user_id": 2562137, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/3cxTg.png?s=128&g=1", "display_name": "OrderAndChaos", "link": "https://stackoverflow.com/users/2562137/orderandchaos"}, "is_accepted": true, "score": 1, "last_activity_date": 1476310153, "last_edit_date": 1476310153, "creation_date": 1476308292, "answer_id": 40008786, "question_id": 40008477, "link": "https://stackoverflow.com/questions/40008477/yes-no-input-loop-issues-with-with-correct-looping/40008786#40008786", "title": "yes/no input loop, issues with with correct looping", "body": "<p><code>while True:</code> will work, you need to <code>break</code> out of the loop once the conditions have been met.</p>\n\n<pre><code>while True:\n    reply = str(raw_input('\\n' + str(abs(y - 5)) + ' - ' + testQ[y] + ' (y/n) --&gt; ')).lower().strip()\n    if reply in yes or reply in no:\n            break\n</code></pre>\n\n<p>Based on the updated scope, try this, it seems the <code>break</code> may have caused you issues:</p>\n\n<pre><code>reply = False\nwhile reply not in yes and reply not in no:\n    reply = str(raw_input('\\n' + str(abs(y - 5)) + ' - ' + testQ[y] + ' (y/n) --&gt; ')).lower().strip()\n</code></pre>\n"}], "owner": {"reputation": 35, "user_id": 3431336, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/35761f3bc700ab11e6697a63c54aa506?s=128&d=identicon&r=PG&f=1", "display_name": "user3431336", "link": "https://stackoverflow.com/users/3431336/user3431336"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 90, "favorite_count": 0, "accepted_answer_id": 40008786, "answer_count": 2, "score": 0, "last_activity_date": 1476310153, "creation_date": 1476306932, "last_edit_date": 1476309792, "question_id": 40008477, "link": "https://stackoverflow.com/questions/40008477/yes-no-input-loop-issues-with-with-correct-looping", "title": "yes/no input loop, issues with with correct looping", "body": "<p>I'm programming  a short guessing game. But, I have no idea how prevent incorrect input (yes/no), preventing user to go forward. Here's a WORKING code. Tried with while True but it only messes the input even more. The furthest is that else, that notifies the player, but the q count move forward. </p>\n\n<pre><code># -*- coding: cp1250 -*-\n\nimport sys\n\ndef genVprasanja ():\n\n    yes = set(['yes','y', ''])\n    no  = set(['no','n'])\n    testQ = ['hello1', 'hello33112', 'hello332', 'hello2', 'hello4','hellomore', 'ANSWER', 'hello1', 'hello33112', 'hello332', 'hello2', 'hello4','hellomore', 'ANSWER2', 'hello1', 'hello33112', 'hello332', 'hello2', 'hello4','hellomore', 'ANSWER3'] \n    points = 5\n    total = 0\n    for x in range(0,3):\n        for y in xrange(len(testQ)):\n            reply = str(raw_input('\\n'+str(abs(y-5))+ ' - ' +  testQ[y]+' (y/n) --&gt; ')).lower().strip()\n            if reply in yes:\n                print '\\ncorect!\\n\\nAnswer is :',testQ[5], '\\n\\nPoints: ',points, '\\n'\n                total = total + points\n                print 'Total: ', total, '\\n'\n                break                    \n            elif reply in no:\n                points = points - 1      \n                if points !=  0:     \n                    print '\\nwrong!', '\\n\\nNext question for: ',points                                     \n                else:\n                    print '\\nThe end!\\n\\n' 'Every anwser is wrong!\\n\\nYou got 0 points.\\n\\Correct answer is:', testQ[5],'\\n\\n'\n                    total = total + points\n                    print 'SKUPNE TO\u010cKE: ', total\n                    break\n            else:\n                sys.stdout.write(\"\\nPlease press 'RETURN' or 'N'\\n\")\n    points = 5\ngenVprasanja()\n</code></pre>\n\n<p>Edit:</p>\n\n<p>Every player gets to answer three sets of 5 questions. They receive questions until they say yes. If they say no 5 times the loop ends (3x times) - I'm using <code>var points</code> to count. </p>\n\n<p>But if they input and incorrect words (not no and not yes) the input question repeats itself asking them again (until they enter a valid answer). After that they get THE SAME question they failed to validly answer.</p>\n"}, {"tags": ["python", "pandas", "dataframe"], "comments": [{"owner": {"reputation": 169523, "user_id": 4983450, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/NR2ko.jpg?s=128&g=1", "display_name": "Psidom", "link": "https://stackoverflow.com/users/4983450/psidom"}, "edited": false, "score": 2, "creation_date": 1476307212, "post_id": 40008455, "comment_id": 67295243, "body": "what&#39;s wrong with <code>df1.columns = df2.name</code>?"}, {"owner": {"reputation": 2122, "user_id": 5967252, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Edxmf.jpg?s=128&g=1", "display_name": "Nikos Tavoularis", "link": "https://stackoverflow.com/users/5967252/nikos-tavoularis"}, "edited": false, "score": 0, "creation_date": 1476431576, "post_id": 40008455, "comment_id": 67351801, "body": "check also:  <a href=\"http://stackoverflow.com/questions/11346283/renaming-columns-in-pandas\" title=\"renaming columns in pandas\">stackoverflow.com/questions/11346283/renaming-columns-in-pan&zwnj;&#8203;das</a>"}], "answers": [{"tags": [], "owner": {"reputation": 26041, "user_id": 3339965, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ac89d084d3bc5dc083bad3ea5518f11?s=128&d=identicon&r=PG&f=1", "display_name": "root", "link": "https://stackoverflow.com/users/3339965/root"}, "is_accepted": false, "score": 2, "last_activity_date": 1476307724, "creation_date": 1476307724, "answer_id": 40008663, "question_id": 40008455, "link": "https://stackoverflow.com/questions/40008455/rename-column-header-from-another-dataframe/40008663#40008663", "title": "Rename column header from another dataframe", "body": "<p>You can use <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.rename.html\" rel=\"nofollow\"><code>rename</code></a>, which does not require the two DataFrames to have the keys in the same order:</p>\n\n<pre><code>df1 = df1.rename(columns=df2['name'])\n</code></pre>\n"}], "owner": {"reputation": 525, "user_id": 1795245, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/7f30535140b6ef87dfc373f116c3765d?s=128&d=identicon&r=PG", "display_name": "Jonas", "link": "https://stackoverflow.com/users/1795245/jonas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 868, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1504369661, "creation_date": 1476306827, "last_edit_date": 1504369661, "question_id": 40008455, "link": "https://stackoverflow.com/questions/40008455/rename-column-header-from-another-dataframe", "title": "Rename column header from another dataframe", "body": "<p>I have two dataframes where 1, 2, 3 is the connection between the dataframes:</p>\n\n<pre><code>              1    2    3 \n2016-10-03   12   10   10 \n2016-10-04   4     4    5 \n......\n\nand\n     name    year\n1   apple    2001\n2   lemon    2002\n3   kiwi     1990\n</code></pre>\n\n<p>The end result should be:</p>\n\n<pre><code>              apple    lemon    kiwi \n2016-10-03       12       10      10 \n2016-10-04        4        4       5 \n......\n</code></pre>\n\n<p>I can't figure out how to do this. </p>\n"}, {"tags": ["python", "loops", "numpy"], "comments": [{"owner": {"reputation": 485, "user_id": 5807388, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-R4Ji1j-xY74/AAAAAAAAAAI/AAAAAAAAE-8/BXGVRjFaCnI/photo.jpg?sz=128", "display_name": "Lewis Fogden", "link": "https://stackoverflow.com/users/5807388/lewis-fogden"}, "edited": false, "score": 0, "creation_date": 1476307051, "post_id": 40008450, "comment_id": 67295154, "body": "why are you sorting x and y separately? How are you defining separation - distance from a centre of mass?"}, {"owner": {"reputation": 5, "user_id": 6495560, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bbacd76d1a8e68f2ff7513b81657f3bd?s=128&d=identicon&r=PG&f=1", "display_name": "Courtney", "link": "https://stackoverflow.com/users/6495560/courtney"}, "reply_to_user": {"reputation": 485, "user_id": 5807388, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-R4Ji1j-xY74/AAAAAAAAAAI/AAAAAAAAE-8/BXGVRjFaCnI/photo.jpg?sz=128", "display_name": "Lewis Fogden", "link": "https://stackoverflow.com/users/5807388/lewis-fogden"}, "edited": false, "score": 0, "creation_date": 1476307305, "post_id": 40008450, "comment_id": 67295278, "body": "What do you mean? The separation is just sqrt(dx^2 + dy^2). I&#39;m just trying to calculate the physical separation of one object to all other objects."}], "answers": [{"comments": [{"owner": {"reputation": 5, "user_id": 6495560, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bbacd76d1a8e68f2ff7513b81657f3bd?s=128&d=identicon&r=PG&f=1", "display_name": "Courtney", "link": "https://stackoverflow.com/users/6495560/courtney"}, "edited": false, "score": 0, "creation_date": 1476307917, "post_id": 40008592, "comment_id": 67295562, "body": "So how can I calculate the square root without using math?"}], "tags": [], "owner": {"reputation": 485, "user_id": 5807388, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-R4Ji1j-xY74/AAAAAAAAAAI/AAAAAAAAE-8/BXGVRjFaCnI/photo.jpg?sz=128", "display_name": "Lewis Fogden", "link": "https://stackoverflow.com/users/5807388/lewis-fogden"}, "is_accepted": true, "score": 1, "last_activity_date": 1476307920, "last_edit_date": 1476307920, "creation_date": 1476307446, "answer_id": 40008592, "question_id": 40008450, "link": "https://stackoverflow.com/questions/40008450/looping-through-table-to-calculate-separations-python/40008592#40008592", "title": "Looping through table to calculate separations - Python", "body": "<p>The error occurs because math.sqrt() can only take a float value, if you pass an np.array it will attempt to convert to a float.  This only works if the array contains a single value.</p>\n\n<pre><code>&gt; math.sqrt(np.array([2]))\n1.4142135623730951\n\n&gt; math.sqrt(np.array([2,1])) Traceback (most recent call last):\n\n  File \"&lt;ipython-input-49-f9a9c77bfbdf&gt;\", line 1, in &lt;module&gt;\n    math.sqrt(np.array([2,1]))\n\nTypeError: only length-1 arrays can be converted to Python scalars\n</code></pre>\n\n<p>You can use np.sqrt() which will return an array of square roots.</p>\n\n<pre><code>&gt; x = np.arange(1,5)     #[1,2,3,4]\n&gt; y = x[::-1]            #[4,3,2,1]\n&gt; z = x**2 + y**2        #[1*1+4*4,...,4*4+1*1]\n&gt; np.sqrt(z)\narray([ 4.12310563,  3.60555128,  3.60555128,  4.12310563])\n</code></pre>\n\n<p>If this is the desired behaviour</p>\n"}], "owner": {"reputation": 5, "user_id": 6495560, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bbacd76d1a8e68f2ff7513b81657f3bd?s=128&d=identicon&r=PG&f=1", "display_name": "Courtney", "link": "https://stackoverflow.com/users/6495560/courtney"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 0, "accepted_answer_id": 40008592, "answer_count": 1, "score": 0, "last_activity_date": 1476307920, "creation_date": 1476306805, "last_edit_date": 1476307193, "question_id": 40008450, "link": "https://stackoverflow.com/questions/40008450/looping-through-table-to-calculate-separations-python", "title": "Looping through table to calculate separations - Python", "body": "<p>Okay so I have a table of xy coordinates for a bunch of different points like this:</p>\n\n<blockquote>\n<pre><code>   ID      X          Y\n     1    403.294    111.401\n     2   1771.424     62.183\n     3    804.812     71.674\n     4    2066.54     43.456\n     5    2208.55     40.907\n</code></pre>\n</blockquote>\n\n<p>Each row represents an object with its ID, X, and Y listed. In reality, my table contains about 1345 rows. What I'm trying to do is loop through each row and calculate the separation of that object from all other objects in the table which I'll eventually use to make a histogram. What I have so far is: </p>\n\n<pre><code>sep_dat = np.zeros(shape=(5,5))               #create array for writing into\ndat = np.loadtxt('SEA_mini_test.tab')         #table of data\nIDs = dat[:,0]\nX_dat = dat[:,1]\nX_dat = np.sort(X_dat)\nY_dat = dat[:,2]\nY_dat = np.sort(Y_dat)\nfor i, x, y in zip(xrange(len(X_dat)), X_dat, Y_dat):\n  sep_dat[i] = math.sqrt((x-X_dat)**2+(y-Y_dat)**2)\n  np.savetxt('SEA_mini_seps.dat', sep_dat, fmt='%10.9f')\n</code></pre>\n\n<p>But I have yet to get it to run successfully. The last error I got was: </p>\n\n<blockquote>\n  <p>TypeError: only length-1 arrays can be converted to Python scalars</p>\n</blockquote>\n\n<p>So how can I get this to run properly? </p>\n\n<p>And how could I get it to ignore itself when its doing the calculations? Like for object 1 (row 1) I don't want it to calculate the separation from itself. I tried adding the IDs into zip and adding an if statement inside the for loop before the calculation like  <code>if id != id:</code> but that wouldn't work. Does anyone have an idea on how I could do this?</p>\n\n<p>And another question I had was, how could I write all the data into a flattened array? Right now, I have it create an empty array of zeros that I write over with the calculated values, but in the end I get a (5,5) array. But I want a (5,1) so that I can plot it as a histogram. Any ideas?</p>\n"}, {"tags": ["python", "numpy", "theano", "eigenvalue", "gradient-descent"], "comments": [{"owner": {"reputation": 6953, "user_id": 778533, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/XEGLp.jpg?s=128&g=1", "display_name": "tommy.carstensen", "link": "https://stackoverflow.com/users/778533/tommy-carstensen"}, "edited": false, "score": 0, "creation_date": 1476306855, "post_id": 40008334, "comment_id": 67295036, "body": "Maybe because of this? <code>X = np.random.rand(20,sz*sz)</code>"}, {"owner": {"reputation": 75, "user_id": 3919259, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/f71dc6ddf6bffcce37c3f8a729938403?s=128&d=identicon&r=PG&f=1", "display_name": "user3919259", "link": "https://stackoverflow.com/users/3919259/user3919259"}, "reply_to_user": {"reputation": 6953, "user_id": 778533, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/XEGLp.jpg?s=128&g=1", "display_name": "tommy.carstensen", "link": "https://stackoverflow.com/users/778533/tommy-carstensen"}, "edited": false, "score": 0, "creation_date": 1476707273, "post_id": 40008334, "comment_id": 67445148, "body": "@tommy.carstensen No, the dtype doesn&#39;t help."}], "owner": {"reputation": 75, "user_id": 3919259, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/f71dc6ddf6bffcce37c3f8a729938403?s=128&d=identicon&r=PG&f=1", "display_name": "user3919259", "link": "https://stackoverflow.com/users/3919259/user3919259"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 129, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1476306328, "creation_date": 1476306328, "question_id": 40008334, "link": "https://stackoverflow.com/questions/40008334/different-eigenvalues-by-theano-gradient-and-numpy-linalg-eigh", "title": "Different eigenvalues by theano gradient and numpy linalg.eigh", "body": "<p>I used theano.tensor.grad() to get the gradient descent and then calculate the eigenvalues and eigenvectors of a matrix X. I also used numpy.linalg.eigh() to get the eigenvalues and eigenvectors. Literally, the eigens from two methods should be the same, while I got different answer. Here is the code for the two methods and I print the top 16 eigenvalues from the outputs respectively.</p>\n\n<pre><code>import sys\nimport numpy as np\nimport numpy.linalg as linalg\nimport theano\nimport theano.tensor as T\nprint theano.__version__\nprint np.version.version\n\ndef compute_first_eigen(X,max_iteration,rate):\n    sz = 32\n    cur_v = T.vector('cur_v')\n    xx = T.dmatrix('xx')\n    dot_xxv = T.dot(xx,cur_v)\n    cost = T.dot(dot_xxv.T, dot_xxv)\n    grad_ = T.grad(cost,cur_v)\n\n    eigen_first = theano.function(\n        inputs=[xx,cur_v],\n        outputs=grad_,\n        allow_input_downcast=True)\n\n    v = np.random.rand(sz*sz)\n    t = 1\n    while t &lt; max_iteration:\n        prev_v = v\n        y = v+rate*eigen_first(X,v)\n        v = y / linalg.norm(y)\n        v_dis = linalg.norm(v-prev_v)\n        if v_dis &lt; sys.float_info.epsilon:\n            break\n        t = t+1\n    xv = np.dot(X,v)\n    value_1 = np.dot(xv.T,xv)\n    return value_1,v\n\n# set a X for testing.\nsz = 32\nX = np.random.rand(20,sz*sz)\n\nrate = 0.5\n\n# setting theano function\nv = T.vector('v') \nxx = T.dmatrix('x') \nxxv = T.dot(xx,v)\n\ncoeffs = T.vector('coeffs')\nvecs = T.fmatrix('vecs')\ncomponents,updates = theano.scan(fn=lambda coeffs,vecs,v:(v.dot(vecs) ** 2) * coeffs,\n    outputs_info=None,\n    sequences=[coeffs,vecs],\n    non_sequences=v)\nsum_ = components.sum()\ncost = T.dot(xxv.T,xxv) - sum_\n\ngv = T.grad(cost, v)\n\neigen_compute = theano.function(\n  inputs=[xx,coeffs,vecs,v],\n  outputs=gv,\n  updates=updates,\n  allow_input_downcast=True\n)\nval_1,vec_1 = compute_first_eigen(X, 10000, 0.5)\nevals = np.array([val_1])\nevecs = np.array([vec_1])\nprint evals\n\nfor i in range(1,16):\n    t = 1\n\n    vout = np.random.rand(sz*sz)\n    while t &lt; 10000:\n        # outputs, vout = eigen_compute(X,evals,evecs)\n        prev_v = vout\n        y = vout + rate*eigen_compute(X,evals,evecs,vout)\n        vout = y / linalg.norm(y)\n        v_dis = linalg.norm(vout-prev_v)\n        if v_dis &lt; sys.float_info.epsilon:\n            break\n        t = t+1\n    evecs = np.concatenate((evecs,vout.reshape((1,sz*sz))),axis=0)\n    Xv = np.dot(X, vout)\n    evals = np.append(evals,np.dot(Xv.T, Xv)) \nprint evals\n\n# numpy Linalg eigh\neigenvals,eigenvecs = linalg.eigh(np.dot(X.T,X))\nidx = eigenvals.argsort()[::-1] # decreasing order of eigenvalues\neigenvals = eigenvals[idx]\nD = eigenvecs[:, idx]\nprint eigenvals[:16]\n# print sys.float_info\n</code></pre>\n\n<p>The result of top 16 eigenvalues are as below. The former is the result from theano gradient, the latter is from numpy eigh function.</p>\n\n<pre><code>[ 5185.16126103   107.55438452   103.12505677    97.43512945    96.5613719\n93.96313905    93.10809773    92.42390547    89.16485977    86.65039761\n84.73367931    83.0397494     81.79609393    78.64115855    76.32032247\n75.24690368]\n\n[ 5180.1757114    844.85544447   751.07308305   705.97215297   642.28619825\n 611.22852835   598.26571675   568.71283447   550.16102596   538.15434055\n 534.25366614   514.62884927   513.80252085   507.78943946   475.20260796\n 472.42131454]\n</code></pre>\n\n<p>I have no ideas about how this happened. I tried different numpy versions but it didn't help. Does anyone know how this happened?</p>\n\n<p>BTW, the python version is 2.7.10, numpy 1.11.2, theano 0.9.0dev3.dev-.</p>\n"}, {"tags": ["python", "json", "base64", "encode"], "comments": [{"owner": {"reputation": 156940, "user_id": 416467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/32cad7487ccecc3740a62e797fc326dc?s=128&d=identicon&r=PG", "display_name": "kindall", "link": "https://stackoverflow.com/users/416467/kindall"}, "edited": false, "score": 0, "creation_date": 1476306748, "post_id": 40008315, "comment_id": 67294981, "body": "The most straightforward way would be to use a bytes literal, e.g. <code>b&#39;Basic &#39; + encoded_api,</code> but I&#39;m not sure that wouldn&#39;t cause a conniption later down the line."}, {"owner": {"reputation": 1, "user_id": 6188490, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-2ofZfxq-5bY/AAAAAAAAAAI/AAAAAAAAAFU/NQO-AcTPhOc/photo.jpg?sz=128", "display_name": "Tom Cassady", "link": "https://stackoverflow.com/users/6188490/tom-cassady"}, "reply_to_user": {"reputation": 156940, "user_id": 416467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/32cad7487ccecc3740a62e797fc326dc?s=128&d=identicon&r=PG", "display_name": "kindall", "link": "https://stackoverflow.com/users/416467/kindall"}, "edited": false, "score": 0, "creation_date": 1476307695, "post_id": 40008315, "comment_id": 67295462, "body": "Seems to have done the trick! I&#39;ll have to do more testing, but for right now it seems good.  Thanks!"}], "owner": {"reputation": 1, "user_id": 6188490, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-2ofZfxq-5bY/AAAAAAAAAAI/AAAAAAAAAFU/NQO-AcTPhOc/photo.jpg?sz=128", "display_name": "Tom Cassady", "link": "https://stackoverflow.com/users/6188490/tom-cassady"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 300, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1476306246, "creation_date": 1476306246, "question_id": 40008315, "link": "https://stackoverflow.com/questions/40008315/base64-leads-to-typeerror-cant-convert-bytes-object-to-str-implicitly-erro", "title": "base64 leads to &quot;TypeError: Can&#39;t convert &#39;bytes&#39; object to str implicitly&quot; error", "body": "<p>I'm trying to send out a JSON message but the device I'm sending to requires the API Key to be encoded with base64. This is all being tied into a project called <a href=\"http://www.home-assistant.io\" rel=\"nofollow\">Home Assistant</a></p>\n\n<p>Here is my code:</p>\n\n<pre><code>import logging\nimport requests\nimport base64\n\nimport voluptuous as vol\n\nfrom homeassistant.components.notify import ATTR_MESSAGE, \\\nPLATFORM_SCHEMA, BaseNotificationService\n\nfrom homeassistant.const import CONF_API_KEY, CONF_HOST\nimport homeassistant.helpers.config_validation as cv\n\napi_key = CONF_API_KEY\nNOTE_URL = 'http://' + CONF_HOST  + ':8080/api/v2/device/notifications'\n\nencoded_api = base64.b64encode(api_key.encode('ascii'))\nheaders = {\n    'Content-type': 'application/json',\n    'Accept': 'application/json',\n    'Authorization': 'Basic ' + encoded_api,\n    'Cache-Control': 'no-cache',\n    }\n\ndata = '{\"priority\": \"warning\", \"icon_type\": \"none\", \"model\": \\\n     {\"frames\": [{\"icon\": \"i3579\", \"text\": ' + ATTR_MESSAGE + '}], \\\n         \"sound\": {\"category\": \"notifications\", \"id\": \"positive4\"}}}'\n\nrequests.post(NOTE_URL, headers=headers, data=data)\n</code></pre>\n\n<p>On boot, this gives the <code>TypeError: Can't convert 'bytes' object to str implicitly</code> error on the <code>'Authorization': 'Basic ' + encoded_api,</code> line.</p>\n\n<p>I've tried calling it implicitly with `encoded_api = (api_key).decode(\"UTF-8\"), I've tried io.StringIO, and others to no avail.</p>\n\n<p>Any suggestions?</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["python", "recursion"], "comments": [{"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1476306313, "post_id": 40008279, "comment_id": 67294725, "body": "So, you are confused what the <code>n-1</code> is doing?"}, {"owner": {"reputation": 285, "user_id": 7010243, "user_type": "registered", "accept_rate": 70, "profile_image": "https://lh4.googleusercontent.com/-AgUhWyayjHY/AAAAAAAAAAI/AAAAAAAAD8U/04ZJpZtQtw4/photo.jpg?sz=128", "display_name": "Andrew Louis", "link": "https://stackoverflow.com/users/7010243/andrew-louis"}, "reply_to_user": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1476306376, "post_id": 40008279, "comment_id": 67294773, "body": "yes, i want to keep the number of times the string is printed in one line as a fixed sort of parameter, but i want the function to repeat the line n times."}, {"owner": {"reputation": 864, "user_id": 4014665, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Riaz", "link": "https://stackoverflow.com/users/4014665/riaz"}, "edited": false, "score": 0, "creation_date": 1476306563, "post_id": 40008279, "comment_id": 67294894, "body": "Hint: you can modify the first argument to <code>repeat</code> the same way you modify the second. Instead of passing <code>n</code> on the recursive call, you pass <code>n-1</code>. So instead of passing <code>a</code>, maybe pass something else?"}], "answers": [{"comments": [{"owner": {"reputation": 18696, "user_id": 703229, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/5c7b9b4837d58fb7ceac0e3bbf234246?s=128&d=identicon&r=PG", "display_name": "Sam", "link": "https://stackoverflow.com/users/703229/sam"}, "edited": false, "score": 0, "creation_date": 1476306636, "post_id": 40008347, "comment_id": 67294927, "body": "I like the trick of counting up so you can use a default <code>0</code> for the 3rd parameter."}, {"owner": {"reputation": 285, "user_id": 7010243, "user_type": "registered", "accept_rate": 70, "profile_image": "https://lh4.googleusercontent.com/-AgUhWyayjHY/AAAAAAAAAAI/AAAAAAAAD8U/04ZJpZtQtw4/photo.jpg?sz=128", "display_name": "Andrew Louis", "link": "https://stackoverflow.com/users/7010243/andrew-louis"}, "edited": false, "score": 0, "creation_date": 1476306783, "post_id": 40008347, "comment_id": 67295000, "body": "this is great and easy to understand! thank you! the count up is a great way to approach it"}], "tags": [], "owner": {"reputation": 5505, "user_id": 856804, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/d0069fbcc96447eabeb9578fb73a7571?s=128&d=identicon&r=PG", "display_name": "zyxue", "link": "https://stackoverflow.com/users/856804/zyxue"}, "is_accepted": true, "score": 4, "last_activity_date": 1476306370, "creation_date": 1476306370, "answer_id": 40008347, "question_id": 40008279, "link": "https://stackoverflow.com/questions/40008279/repeat-a-string-n-times-and-print-n-lines-of-it/40008347#40008347", "title": "Repeat a string n times and print n lines of it", "body": "<p>Try this</p>\n\n<pre><code>def f(string, n, c=0):\n    if c &lt; n:\n        print(string * n)\n        f(string, n, c=c + 1)\n\nf('abc', 3)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 285, "user_id": 7010243, "user_type": "registered", "accept_rate": 70, "profile_image": "https://lh4.googleusercontent.com/-AgUhWyayjHY/AAAAAAAAAAI/AAAAAAAAD8U/04ZJpZtQtw4/photo.jpg?sz=128", "display_name": "Andrew Louis", "link": "https://stackoverflow.com/users/7010243/andrew-louis"}, "edited": false, "score": 0, "creation_date": 1476306573, "post_id": 40008351, "comment_id": 67294900, "body": "super close, i&#39;m looking to print (a*n) n times"}, {"owner": {"reputation": 18696, "user_id": 703229, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/5c7b9b4837d58fb7ceac0e3bbf234246?s=128&d=identicon&r=PG", "display_name": "Sam", "link": "https://stackoverflow.com/users/703229/sam"}, "edited": false, "score": 0, "creation_date": 1476306683, "post_id": 40008351, "comment_id": 67294951, "body": "No idea why this is upvoted when it literally does the same thing as the OP&#39;s method."}, {"owner": {"reputation": 5505, "user_id": 856804, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/d0069fbcc96447eabeb9578fb73a7571?s=128&d=identicon&r=PG", "display_name": "zyxue", "link": "https://stackoverflow.com/users/856804/zyxue"}, "edited": false, "score": 0, "creation_date": 1476312600, "post_id": 40008351, "comment_id": 67297321, "body": "Usually, it&#39;s better to avoid nested function unless you have a very strong argument for it. It&#39;s also harder to test. In this case, I can see the motivation, an advantage of this solution over a 3-argument function is that it eliminates the possibility of mistakenly passing 3 arguments. You can make <code>rep</code> a bit cleaner by changing the condition to <code>if c &gt; 0</code>, then you don&#39;t need to write a single-line return statement"}, {"owner": {"reputation": 1330, "user_id": 6335503, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/229c916be89ba4012cc6962aadaec14a?s=128&d=identicon&r=PG&f=1", "display_name": "Nf4r", "link": "https://stackoverflow.com/users/6335503/nf4r"}, "reply_to_user": {"reputation": 5505, "user_id": 856804, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/d0069fbcc96447eabeb9578fb73a7571?s=128&d=identicon&r=PG", "display_name": "zyxue", "link": "https://stackoverflow.com/users/856804/zyxue"}, "edited": false, "score": 0, "creation_date": 1476389712, "post_id": 40008351, "comment_id": 67337457, "body": "@zyxue yes, it might be better idea to change the statement as you said. Edited."}], "tags": [], "owner": {"reputation": 1330, "user_id": 6335503, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/229c916be89ba4012cc6962aadaec14a?s=128&d=identicon&r=PG&f=1", "display_name": "Nf4r", "link": "https://stackoverflow.com/users/6335503/nf4r"}, "is_accepted": false, "score": 1, "last_activity_date": 1476389660, "last_edit_date": 1476389660, "creation_date": 1476306375, "answer_id": 40008351, "question_id": 40008279, "link": "https://stackoverflow.com/questions/40008279/repeat-a-string-n-times-and-print-n-lines-of-it/40008351#40008351", "title": "Repeat a string n times and print n lines of it", "body": "<p>You were really close.</p>\n\n<pre><code>def repeat(a, n):\n    def rep(a, c):\n        if c &gt; 0:\n            print(a)\n            rep(a, c - 1)\n    return rep(a * n, n)\nprint(repeat('ala', 2))\nalaala\nalaala\n</code></pre>\n\n<p>A function with closure would do the job.</p>\n"}, {"tags": [], "owner": {"reputation": 17319, "user_id": 3124746, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/0ihpR.jpg?s=128&g=1", "display_name": "vishes_shell", "link": "https://stackoverflow.com/users/3124746/vishes-shell"}, "is_accepted": false, "score": 2, "last_activity_date": 1476306513, "creation_date": 1476306513, "answer_id": 40008383, "question_id": 40008279, "link": "https://stackoverflow.com/questions/40008279/repeat-a-string-n-times-and-print-n-lines-of-it/40008383#40008383", "title": "Repeat a string n times and print n lines of it", "body": "<p>So you just need extra argument that will tell you how many times you already ran that function, and it should have default value, because in first place function must take two arguments(<code>str</code> and positive number).</p>\n\n<pre><code>def repeat(a, n, already_ran=0):\n    if n == 0:\n        print(a*(n+already_ran))\n    else:\n        print(a*(n+already_ran))\n        repeat(a, n-1, already_ran+1)\nrepeat('help', 3)\n</code></pre>\n\n<p>Output</p>\n\n<pre><code>helphelphelp\nhelphelphelp\nhelphelphelp\nhelphelphelp\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 18696, "user_id": 703229, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/5c7b9b4837d58fb7ceac0e3bbf234246?s=128&d=identicon&r=PG", "display_name": "Sam", "link": "https://stackoverflow.com/users/703229/sam"}, "edited": false, "score": 0, "creation_date": 1476306588, "post_id": 40008384, "comment_id": 67294908, "body": "This could be reduced, but I wanted to be verbose for its self-explanatory nature."}, {"owner": {"reputation": 5505, "user_id": 856804, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/d0069fbcc96447eabeb9578fb73a7571?s=128&d=identicon&r=PG", "display_name": "zyxue", "link": "https://stackoverflow.com/users/856804/zyxue"}, "edited": false, "score": 1, "creation_date": 1476307006, "post_id": 40008384, "comment_id": 67295133, "body": "camelCase is not very pythonic."}, {"owner": {"reputation": 18696, "user_id": 703229, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/5c7b9b4837d58fb7ceac0e3bbf234246?s=128&d=identicon&r=PG", "display_name": "Sam", "link": "https://stackoverflow.com/users/703229/sam"}, "reply_to_user": {"reputation": 5505, "user_id": 856804, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/d0069fbcc96447eabeb9578fb73a7571?s=128&d=identicon&r=PG", "display_name": "zyxue", "link": "https://stackoverflow.com/users/856804/zyxue"}, "edited": false, "score": 0, "creation_date": 1476308010, "post_id": 40008384, "comment_id": 67295622, "body": "Ugh, thank you @zyxue! It&#39;s been a while since I&#39;ve been in Python...forgot about that one."}], "tags": [], "owner": {"reputation": 18696, "user_id": 703229, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/5c7b9b4837d58fb7ceac0e3bbf234246?s=128&d=identicon&r=PG", "display_name": "Sam", "link": "https://stackoverflow.com/users/703229/sam"}, "is_accepted": false, "score": 1, "last_activity_date": 1476307988, "last_edit_date": 1476307988, "creation_date": 1476306514, "answer_id": 40008384, "question_id": 40008279, "link": "https://stackoverflow.com/questions/40008279/repeat-a-string-n-times-and-print-n-lines-of-it/40008384#40008384", "title": "Repeat a string n times and print n lines of it", "body": "<p>You should (optionally) pass a 3rd parameter that handles the decrementing of how many lines are left:</p>\n\n<pre><code>def repeat(string, times, lines_left=None):\n    print(string * times)\n\n    if(lines_left is None):\n        lines_left = times\n    lines_left = lines_left - 1\n\n    if(lines_left &gt; 0):\n        repeat(string, times, lines_left)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1476307090, "post_id": 40008504, "comment_id": 67295180, "body": "Doesn&#39;t use recursion, though"}, {"owner": {"reputation": 630, "user_id": 2666182, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/JxB5i.jpg?s=128&g=1", "display_name": "gokul_uf", "link": "https://stackoverflow.com/users/2666182/gokul-uf"}, "edited": false, "score": 0, "creation_date": 1476307142, "post_id": 40008504, "comment_id": 67295205, "body": "I assumed &quot;use recursion if needed&quot;"}, {"owner": {"reputation": 630, "user_id": 2666182, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/JxB5i.jpg?s=128&g=1", "display_name": "gokul_uf", "link": "https://stackoverflow.com/users/2666182/gokul-uf"}, "reply_to_user": {"reputation": 5505, "user_id": 856804, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/d0069fbcc96447eabeb9578fb73a7571?s=128&d=identicon&r=PG", "display_name": "zyxue", "link": "https://stackoverflow.com/users/856804/zyxue"}, "edited": false, "score": 0, "creation_date": 1476307193, "post_id": 40008504, "comment_id": 67295230, "body": "@zyxue I explained the steps. You can always have temporary variables for the steps."}], "tags": [], "owner": {"reputation": 630, "user_id": 2666182, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/JxB5i.jpg?s=128&g=1", "display_name": "gokul_uf", "link": "https://stackoverflow.com/users/2666182/gokul-uf"}, "is_accepted": false, "score": 6, "last_activity_date": 1476307037, "creation_date": 1476307037, "answer_id": 40008504, "question_id": 40008279, "link": "https://stackoverflow.com/questions/40008279/repeat-a-string-n-times-and-print-n-lines-of-it/40008504#40008504", "title": "Repeat a string n times and print n lines of it", "body": "<p>One liner</p>\n\n<pre><code>def repeat(a,n):\n    print((((a*n)+'\\n')*n)[:-1])\n</code></pre>\n\n<p>Let's split this up</p>\n\n<ol>\n<li><code>a*n</code>  repeats string <code>n</code> times, which is what you want in one line</li>\n<li><code>+'\\n'</code> adds a new line to the string so that you can go to the next line</li>\n<li><code>*n</code> because you need to repeat it <code>n</code> times</li>\n<li>the <code>[:-1]</code> is to remove the last <code>\\n</code> as <code>print</code> puts a new-line by default.  </li>\n</ol>\n"}], "owner": {"reputation": 285, "user_id": 7010243, "user_type": "registered", "accept_rate": 70, "profile_image": "https://lh4.googleusercontent.com/-AgUhWyayjHY/AAAAAAAAAAI/AAAAAAAAD8U/04ZJpZtQtw4/photo.jpg?sz=128", "display_name": "Andrew Louis", "link": "https://stackoverflow.com/users/7010243/andrew-louis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 33975, "favorite_count": 1, "accepted_answer_id": 40008347, "answer_count": 5, "score": 2, "last_activity_date": 1476389660, "creation_date": 1476306101, "last_edit_date": 1476306329, "question_id": 40008279, "link": "https://stackoverflow.com/questions/40008279/repeat-a-string-n-times-and-print-n-lines-of-it", "title": "Repeat a string n times and print n lines of it", "body": "<p>i've been stuck on a question for some time now:</p>\n\n<p>I'm looking to create a python function that consumes a string and a positive integer. The function will print the string n times, for n lines. I <strong>cannot</strong> use loops, i must only use recursion</p>\n\n<p>e.g.</p>\n\n<pre><code>repeat(\"hello\", 3)\n\nhellohellohello\nhellohellohello\nhellohellohello\n</code></pre>\n\n<p>whenever i try to make a function that does this, the function decreases the length of the string, progressively:</p>\n\n<p>e.g.</p>\n\n<pre><code>repeat(\"hello\", 3)\n\nhellohellohello\nhellohello\nhello\n</code></pre>\n\n<p>here's what my code looks like:</p>\n\n<pre><code>def repeat(a, n):\nif n == 0:\n    print(a*n)\nelse:\n    print(a*n)\n    repeat(a, n-1)\n</code></pre>\n\n<p>any help would be appreciated, thanks!</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 73988, "user_id": 1639625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4224d1458a149d37b56a53115656f4df?s=128&d=identicon&r=PG", "display_name": "tobias_k", "link": "https://stackoverflow.com/users/1639625/tobias-k"}, "edited": false, "score": 0, "creation_date": 1476306245, "post_id": 40008273, "comment_id": 67294678, "body": "Does your list always have exactly three numbers?"}, {"owner": {"reputation": 21, "user_id": 7003832, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/17154281f3ed5f65405279fa09880e3a?s=128&d=identicon&r=PG&f=1", "display_name": "Mark Jackson", "link": "https://stackoverflow.com/users/7003832/mark-jackson"}, "reply_to_user": {"reputation": 73988, "user_id": 1639625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4224d1458a149d37b56a53115656f4df?s=128&d=identicon&r=PG", "display_name": "tobias_k", "link": "https://stackoverflow.com/users/1639625/tobias-k"}, "edited": false, "score": 0, "creation_date": 1476306286, "post_id": 40008273, "comment_id": 67294704, "body": "no, actually it&#39;s ord(x) i mean"}, {"owner": {"reputation": 3125, "user_id": 2878796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8bxWv.png?s=128&g=1", "display_name": "UnholySheep", "link": "https://stackoverflow.com/users/2878796/unholysheep"}, "edited": false, "score": 0, "creation_date": 1476306351, "post_id": 40008273, "comment_id": 67294755, "body": "your &quot;list&quot; (very bad name, hides a built-in function) is actually a tuple"}, {"owner": {"reputation": 73988, "user_id": 1639625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4224d1458a149d37b56a53115656f4df?s=128&d=identicon&r=PG", "display_name": "tobias_k", "link": "https://stackoverflow.com/users/1639625/tobias-k"}, "edited": false, "score": 0, "creation_date": 1476306383, "post_id": 40008273, "comment_id": 67294778, "body": "I did not mean to ask whether it has three <i>numbers</i>, but whether there are always exactly <i>three</i> things in the list."}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 7003832, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/17154281f3ed5f65405279fa09880e3a?s=128&d=identicon&r=PG&f=1", "display_name": "Mark Jackson", "link": "https://stackoverflow.com/users/7003832/mark-jackson"}, "edited": false, "score": 0, "creation_date": 1476306246, "post_id": 40008294, "comment_id": 67294680, "body": "like if x=10 y=30 z=20 it will print (10,30) i want it to print (10,20,30)"}, {"owner": {"reputation": 21, "user_id": 7003832, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/17154281f3ed5f65405279fa09880e3a?s=128&d=identicon&r=PG&f=1", "display_name": "Mark Jackson", "link": "https://stackoverflow.com/users/7003832/mark-jackson"}, "edited": false, "score": 0, "creation_date": 1476306370, "post_id": 40008294, "comment_id": 67294771, "body": "i edited post, i want them to post numbers as increasing :/"}, {"owner": {"reputation": 73988, "user_id": 1639625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4224d1458a149d37b56a53115656f4df?s=128&d=identicon&r=PG", "display_name": "tobias_k", "link": "https://stackoverflow.com/users/1639625/tobias-k"}, "edited": false, "score": 1, "creation_date": 1476306428, "post_id": 40008294, "comment_id": 67294808, "body": "Might also use tuple unpacking to assign to three variables: <code>low, mid, high = sorted(lst)</code>"}, {"owner": {"reputation": 230015, "user_id": 8206, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/fc761ccaf6c0d7d977e2959f9bfebd06?s=128&d=identicon&r=PG", "display_name": "Eli Bendersky", "link": "https://stackoverflow.com/users/8206/eli-bendersky"}, "edited": false, "score": 0, "creation_date": 1476306430, "post_id": 40008294, "comment_id": 67294809, "body": "<code>sort</code> sorts them in increasing order. I&#39;m not sure what you need"}, {"owner": {"reputation": 3125, "user_id": 2878796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8bxWv.png?s=128&g=1", "display_name": "UnholySheep", "link": "https://stackoverflow.com/users/2878796/unholysheep"}, "edited": false, "score": 1, "creation_date": 1476306546, "post_id": 40008294, "comment_id": 67294881, "body": "In the example code he is actually creating a tuple instead of a list, so maybe using <code>sorted</code> is a better recommendation?"}], "tags": [], "owner": {"reputation": 230015, "user_id": 8206, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/fc761ccaf6c0d7d977e2959f9bfebd06?s=128&d=identicon&r=PG", "display_name": "Eli Bendersky", "link": "https://stackoverflow.com/users/8206/eli-bendersky"}, "is_accepted": false, "score": 2, "last_activity_date": 1476306768, "last_edit_date": 1476306768, "creation_date": 1476306169, "answer_id": 40008294, "question_id": 40008273, "link": "https://stackoverflow.com/questions/40008273/python3-want-to-set-variables-like-they-are-increasing/40008294#40008294", "title": "python3, Want to set variables like they are increasing", "body": "<p>Yes. You can sort the list, and you'll get what you need.</p>\n\n<pre><code>&gt; lst = [4, 5, 3]\n&gt; lst.sort()\n&gt; lst\n[3, 4, 5]\n</code></pre>\n\n<p>You can also use <code>sorted</code> in a more general way on iterable objects. For example, given a tuple with <code>x</code>, <code>y</code>, <code>z</code>:</p>\n\n<pre><code>&gt; x = 6\n&gt; y = 2\n&gt; z = 3\n&gt; sorted((x, y, z))\n[2, 3, 6]\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 7003832, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/17154281f3ed5f65405279fa09880e3a?s=128&d=identicon&r=PG&f=1", "display_name": "Mark Jackson", "link": "https://stackoverflow.com/users/7003832/mark-jackson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 36, "favorite_count": 0, "answer_count": 1, "score": -3, "last_activity_date": 1506260876, "creation_date": 1476306079, "last_edit_date": 1506260876, "question_id": 40008273, "link": "https://stackoverflow.com/questions/40008273/python3-want-to-set-variables-like-they-are-increasing", "title": "python3, Want to set variables like they are increasing", "body": "<p>How to take middle number and put in middle of min and max?</p>\n\n<pre><code>x=input('Pirveli: ')\ny=input('Meore: ')\nz=input('Mesame: ')\nlist = (ord(x),ord(y),ord(z))\nprint(min(list),(MIDDLENUMBER HERE),max(list))\n</code></pre>\n"}, {"tags": ["python", "recurrent-neural-network", "panel-data"], "comments": [{"owner": {"reputation": 1592, "user_id": 7403752, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/07d8fe28ab264b0de19240d36d64e2cd?s=128&d=identicon&r=PG&f=1", "display_name": "edyvedy13", "link": "https://stackoverflow.com/users/7403752/edyvedy13"}, "edited": false, "score": 0, "creation_date": 1509834611, "post_id": 40008240, "comment_id": 81182424, "body": "Did you find any answer to your question ?"}, {"owner": {"reputation": 381, "user_id": 6526367, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/71213be47aa1020b264126fe29bef5bf?s=128&d=identicon&r=PG&f=1", "display_name": "S_Ymln", "link": "https://stackoverflow.com/users/6526367/s-ymln"}, "reply_to_user": {"reputation": 1592, "user_id": 7403752, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/07d8fe28ab264b0de19240d36d64e2cd?s=128&d=identicon&r=PG&f=1", "display_name": "edyvedy13", "link": "https://stackoverflow.com/users/7403752/edyvedy13"}, "edited": false, "score": 0, "creation_date": 1542656753, "post_id": 40008240, "comment_id": 93638908, "body": "@edyvedy13 Did you find any implementations that can be used for Panel Data?"}], "answers": [{"comments": [{"owner": {"reputation": 559, "user_id": 1895076, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/e96d22334e600126da2b31f93d8196a7?s=128&d=identicon&r=PG", "display_name": "user1895076", "link": "https://stackoverflow.com/users/1895076/user1895076"}, "edited": false, "score": 0, "creation_date": 1476371489, "post_id": 40009286, "comment_id": 67326767, "body": "Thanks for the response. The part I&#39;m not sure I get is that traditional panel data is different than time series in that it has both cross-sectional and time series components. I get that you could use an RNN to predict the next value in a time series (like what will be the stock price of Google tomorrow given Google&#39;s stock price for the last 180 days -- and you might have some Granger causality elements if you have other series that have a causal relationship mixed in)."}, {"owner": {"reputation": 559, "user_id": 1895076, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/e96d22334e600126da2b31f93d8196a7?s=128&d=identicon&r=PG", "display_name": "user1895076", "link": "https://stackoverflow.com/users/1895076/user1895076"}, "edited": false, "score": 1, "creation_date": 1476371720, "post_id": 40009286, "comment_id": 67326949, "body": "But what about the case of true panel data above which has both subjects (the ID column) and time series (the TIME column). A scenario where you have data like this might be in a health study where you have 100 patients where you track various health measurements over time for 12 months. You would have a time series element (a patient with high blood pressure in each of the past 6 months of measurement will likely have high blood pressure in month 7) but also a cross-sectional element (patient 1 is different than patient 2 is different than patient 3, etc.)."}, {"owner": {"reputation": 559, "user_id": 1895076, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/e96d22334e600126da2b31f93d8196a7?s=128&d=identicon&r=PG", "display_name": "user1895076", "link": "https://stackoverflow.com/users/1895076/user1895076"}, "edited": false, "score": 3, "creation_date": 1476371722, "post_id": 40009286, "comment_id": 67326951, "body": "Can you use RNNs to predict the state of multiple variables for EACH patient for month 13 in this example, or is that not possible with the RNN architecture? (Traditionally you would use either a fixed effects or random effects regression model to do what I&#39;m talking about, but I figured there would be modern applications of machine learning to handle this type of problem, just having a hard time finding an example)."}], "tags": [], "owner": {"reputation": 9, "user_id": 7004242, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6008ecdcc44b239ed860824505d7a182?s=128&d=identicon&r=PG&f=1", "display_name": "Shomrat Amin", "link": "https://stackoverflow.com/users/7004242/shomrat-amin"}, "is_accepted": false, "score": -1, "last_activity_date": 1476311396, "last_edit_date": 1476311396, "creation_date": 1476310653, "answer_id": 40009286, "question_id": 40008240, "link": "https://stackoverflow.com/questions/40008240/how-to-process-panel-data-for-use-in-a-recurrent-neural-network-rnn/40009286#40009286", "title": "How to process panel data for use in a recurrent neural network (RNN)", "body": "<p>I find no reason in being able to train neural network with panel data. What neural network does is that it maps one set of values with other set of values who have non-linear relation. In a time series a value at a particular instance depends on previous occuring values. Example: your pronunciation of a letter may vary depending on what letter you pronounced just earlier. For time series prediction Recurrent Neural Network outperforms feed-forward neural networks. How we train time series with  a regular feed-forward network is illustrated in this picture. <a href=\"http://www.obitko.com/tutorials/neural-network-prediction/images/train.gif\" rel=\"nofollow\">Image</a></p>\n\n<p>In RNN we can create a feedback loop in the internal states of the network and that's why RNN is better at predicting time series.\nIn your example data one thing to consider : do values of x1, x2, x3 have effect on y1 or vice-versa ? If it doesn't then you can train your model as such x1,x2,x3, y4 are same type of data i.e train them independently using same network (subject to experimentation). If your target is to predict a value where their values of one has effect on another i.e correlated you can convert them to one dimensional data where single time frame contains all variants of sample type. Another way might be   train four neural networks where first three map their time series using RNN and last one is a feed-forward network which takes 2 inputs from 2 time series output and maps to 3rd time series output and do this for all possible combinations. (still subject to experimentation as we can't surely predict the performance of neural network model without experimenting)</p>\n\n<p><strong>Reading suggestion:</strong> Read about \"Granger causality\", might help you a bit.</p>\n"}, {"comments": [{"owner": {"reputation": 730, "user_id": 6534818, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5a7126d1ea44dd58b527f599f1a20043?s=128&d=identicon&r=PG&f=1", "display_name": "John Stud", "link": "https://stackoverflow.com/users/6534818/john-stud"}, "edited": false, "score": 0, "creation_date": 1589813872, "post_id": 55004016, "comment_id": 109435141, "body": "The authors will not share their code used to produce their &quot;empirical&quot; results for the paper."}], "tags": [], "owner": {"reputation": 11, "user_id": 11154206, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/d3f739e12f2b69ff95d11e07ef81477d?s=128&d=identicon&r=PG", "display_name": "Alistair", "link": "https://stackoverflow.com/users/11154206/alistair"}, "is_accepted": false, "score": 1, "last_activity_date": 1551792528, "creation_date": 1551792528, "answer_id": 55004016, "question_id": 40008240, "link": "https://stackoverflow.com/questions/40008240/how-to-process-panel-data-for-use-in-a-recurrent-neural-network-rnn/55004016#55004016", "title": "How to process panel data for use in a recurrent neural network (RNN)", "body": "<p>I also was looking at this question and so far I've only found this paper which seems to deal with it.</p>\n\n<p>Tensorial Recurrent Neural Networks for\nLongitudinal Data Analysis\nMingyuan Bai, Boyan Zhang and Junbin Gao\n2017</p>\n\n<p>I hope this helps</p>\n"}, {"tags": [], "owner": {"reputation": 5, "user_id": 6342572, "user_type": "registered", "profile_image": "https://graph.facebook.com/865322180156913/picture?type=large", "display_name": "Lucas Carvalho", "link": "https://stackoverflow.com/users/6342572/lucas-carvalho"}, "is_accepted": false, "score": 0, "last_activity_date": 1609960543, "last_edit_date": 1609960543, "creation_date": 1609953163, "answer_id": 65600238, "question_id": 40008240, "link": "https://stackoverflow.com/questions/40008240/how-to-process-panel-data-for-use-in-a-recurrent-neural-network-rnn/65600238#65600238", "title": "How to process panel data for use in a recurrent neural network (RNN)", "body": "<p>Please, see this <a href=\"https://stackoverflow.com/questions/51975951/keras-recurrent-neural-networks-for-multivariate-time-series?rq=1\">post</a>.</p>\n<p>It answers your concerning about neural networks and panel data.</p>\n"}], "owner": {"reputation": 559, "user_id": 1895076, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/e96d22334e600126da2b31f93d8196a7?s=128&d=identicon&r=PG", "display_name": "user1895076", "link": "https://stackoverflow.com/users/1895076/user1895076"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4312, "favorite_count": 3, "answer_count": 3, "score": 10, "last_activity_date": 1609960543, "creation_date": 1476305972, "question_id": 40008240, "link": "https://stackoverflow.com/questions/40008240/how-to-process-panel-data-for-use-in-a-recurrent-neural-network-rnn", "title": "How to process panel data for use in a recurrent neural network (RNN)", "body": "<p>I have been doing some research on recurrent neural networks, but I am having trouble understanding if and how they could be used to analyze panel data (meaning cross-sectional data that is captured at different periods in time for several subjects -- see sample data below for example).Most examples of RNNs I have seen have to do with sequences of text, rather than true panel data, so I'm not sure if they are applicable to this type of data.</p>\n\n<p>Sample data:</p>\n\n<pre><code>ID    TIME    Y    X1    X2    X3\n1     1       5     3     0    10\n1     2       5     2     2    6\n1     3       6     6     3    11\n2     1       2     2     7    2\n2     2       3     3     1    19\n2     3       3     8     6    1\n3     1       7     0     2    0\n</code></pre>\n\n<p>If I want to predict Y at a particular time given the covariates X1, X2 and X3 (as well as their values in previous time periods), can this kind of sequence be evaluated by a recurrent neural network? If so, do you have any resources or ideas on how to turn this type of data into feature vectors and matching labels that can be passed to an RNN (I'm using Python, but am open to other implementations).</p>\n"}, {"tags": ["python", "windows", "python-3.x", "windows-xp", "pyqt5"], "answers": [{"comments": [{"owner": {"reputation": 75, "user_id": 3173955, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/C2dQy.jpg?s=128&g=1", "display_name": "mvico", "link": "https://stackoverflow.com/users/3173955/mvico"}, "edited": false, "score": 0, "creation_date": 1476392664, "post_id": 40008706, "comment_id": 67339130, "body": "Thanks! I was able to find the installer right there, it works as expected now! Thanks again!"}, {"owner": {"reputation": 1933, "user_id": 4424698, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh5.googleusercontent.com/-Rpp-wUKIk-o/AAAAAAAAAAI/AAAAAAAABCc/2my33oV6DDs/photo.jpg?sz=128", "display_name": "Hrvoje T", "link": "https://stackoverflow.com/users/4424698/hrvoje-t"}, "edited": false, "score": 0, "creation_date": 1527287758, "post_id": 40008706, "comment_id": 88087323, "body": "I am also writing on Linux and need support for XP. I was told here <a href=\"https://stackoverflow.com/questions/50483708/how-to-install-pyqt5-wtih-python3-4-and-sip-4-19-1?noredirect=1#comment87984619_50483708\" title=\"how to install pyqt5 wtih python3 4 and sip 4 19 1\">stackoverflow.com/questions/50483708/&hellip;</a> I can build SIP 4.19.1 from source needed for newest PyQt5. Later if you build with cx_freeze I found here I can modify binary exe file so visual c++ dll&#39;s from MS support XP <a href=\"http://www.tripleboot.org/?p=423#comment-30443\" rel=\"nofollow noreferrer\">tripleboot.org/?p=423#comment-30443</a>"}], "tags": [], "owner": {"reputation": 97291, "user_id": 984421, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l9J30.png?s=128&g=1", "display_name": "ekhumoro", "link": "https://stackoverflow.com/users/984421/ekhumoro"}, "is_accepted": true, "score": 3, "last_activity_date": 1476307898, "creation_date": 1476307898, "answer_id": 40008706, "question_id": 40008236, "link": "https://stackoverflow.com/questions/40008236/latest-versions-of-python-3-and-pyqt5-working-on-windows-xp-32bit/40008706#40008706", "title": "Latest versions of Python 3 and PyQt5 working on Windows XP 32bit", "body": "<p>You can find an archive of earlier installers and source code on sourceforge:</p>\n\n<ul>\n<li><a href=\"https://sourceforge.net/projects/pyqt/files/PyQt5/\" rel=\"nofollow\">https://sourceforge.net/projects/pyqt/files/PyQt5/</a></li>\n</ul>\n\n<p>The latest 32bit Windows installer for Python-3.4 seems to be for PyQt-5.5.1.</p>\n"}], "owner": {"reputation": 75, "user_id": 3173955, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/C2dQy.jpg?s=128&g=1", "display_name": "mvico", "link": "https://stackoverflow.com/users/3173955/mvico"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2559, "favorite_count": 2, "accepted_answer_id": 40008706, "answer_count": 1, "score": 3, "last_activity_date": 1476308090, "creation_date": 1476305952, "last_edit_date": 1592644375, "question_id": 40008236, "link": "https://stackoverflow.com/questions/40008236/latest-versions-of-python-3-and-pyqt5-working-on-windows-xp-32bit", "title": "Latest versions of Python 3 and PyQt5 working on Windows XP 32bit", "body": "<p>I developed a program with Python 3 64bit and PyQt5 on Debian 64bit (of course it works on Linux and Windows 10 64bit). The problem is I cannot find the last version (if it exists at all) of PyQt5 working on Windows XP 32bit. As I have read, it seems that Python version 3.4.4 is the newest/latest to work with Windows XP, and it is currently working.</p>\n<p>I tried <code>pip3 install PyQt5</code>, but with no luck. I get:</p>\n<blockquote>\n<p>$ pip3 install PyQt5</p>\n<p>Collecting PyQt5</p>\n<p>Could not find a version that satisfies the requierement PyQt5 (from versions:)</p>\n<p>No matching distribution for PyQt5</p>\n</blockquote>\n<p>I looked at the official website of <a href=\"https://www.riverbankcomputing.com/software/pyqt/download5\" rel=\"nofollow noreferrer\" title=\"Pyqt5\">PyQt5</a>, without luck, to find some kind of installer. It may be there somewhere, but I'm used to just making a <code>pip3 install [package]</code>, and done.</p>\n"}, {"tags": ["python", "json", "django"], "comments": [{"owner": {"reputation": 55248, "user_id": 642070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c280b71b3187d1cc113a6e302b414b9?s=128&d=identicon&r=PG", "display_name": "tdelaney", "link": "https://stackoverflow.com/users/642070/tdelaney"}, "edited": false, "score": 0, "creation_date": 1476306493, "post_id": 40008219, "comment_id": 67294840, "body": "I likely means that the server didn&#39;t give you any data. I ran your url several times. The first time I got data, but after that I got nothing. You could peek at <code>responses.text</code> to see if you got anything before proceeding."}], "answers": [{"tags": [], "owner": {"reputation": 226, "user_id": 5111935, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3510836ac519118c7a34467000f23c78?s=128&d=identicon&r=PG&f=1", "display_name": "Ken", "link": "https://stackoverflow.com/users/5111935/ken"}, "is_accepted": true, "score": 1, "last_activity_date": 1476309003, "creation_date": 1476309003, "answer_id": 40008954, "question_id": 40008219, "link": "https://stackoverflow.com/questions/40008219/python-error-parsing-json/40008954#40008954", "title": "python error parsing json", "body": "<p>The webpage might be expecting a web browser to request the data from the URL. Try adding a user-agent to your request.</p>\n\n<pre><code>import requests\nHEADERS = {'user-agent': 'Mozilla/5.0 (Windows NT 6.1; WOW64; rv:35.0) Gecko/20100101 Firefox/31.0'}\nurlPlayerLog = \"http://stats.nba.com/stats/playergamelog?DateFrom=&amp;DateTo=&amp;LeagueID=00&amp;PlayerID=203518&amp;Season=2016-17&amp;SeasonType=Pre+Season\"\nresponses = requests.get(urlPlayerLog, headers=HEADERS)\ndataGameLogs = responses.json()['resultSets'][0]['rowSet']\n</code></pre>\n"}], "owner": {"reputation": 165, "user_id": 2044561, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e5bb37cae55579a301674844a41eaf50?s=128&d=identicon&r=PG", "display_name": "bramwell2010", "link": "https://stackoverflow.com/users/2044561/bramwell2010"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 184, "favorite_count": 0, "accepted_answer_id": 40008954, "answer_count": 1, "score": 0, "last_activity_date": 1476309003, "creation_date": 1476305851, "last_edit_date": 1476306194, "question_id": 40008219, "link": "https://stackoverflow.com/questions/40008219/python-error-parsing-json", "title": "python error parsing json", "body": "<p>I'm trying to parse the information found in this link here:     <a href=\"http://stats.nba.com/stats/playergamelog?DateFrom=&amp;DateTo=&amp;LeagueID=00&amp;PlayerID=203518&amp;Season=2016-17&amp;SeasonType=Pre+Season\" rel=\"nofollow\">http://stats.nba.com/stats/playergamelog?DateFrom=&amp;DateTo=&amp;LeagueID=00&amp;PlayerID=203518&amp;Season=2016-17&amp;SeasonType=Pre+Season</a></p>\n\n<p>What I want to pull is the information under rowSet (so 0, 1, 2, etc will be one entry)   <a href=\"https://i.stack.imgur.com/aW5cS.png\" rel=\"nofollow\"><img src=\"https://i.stack.imgur.com/aW5cS.png\" alt=\"enter image description here\"></a></p>\n\n<p>Code I'm using: </p>\n\n<pre><code>import requests\nurlPlayerLog = \"http://stats.nba.com/stats/playergamelog?DateFrom=&amp;DateTo=&amp;LeagueID=00&amp;PlayerID=203518&amp;Season=2016-17&amp;SeasonType=Pre+Season\"\nresponses = requests.get(urlPlayerLog)\ndataGameLogs = responses.json()['resultSets'][0]['rowSet']\n</code></pre>\n\n<p>This was working for me for months and then one day I kept getting the following error:\n<a href=\"https://i.stack.imgur.com/WXYXt.png\" rel=\"nofollow\"><img src=\"https://i.stack.imgur.com/WXYXt.png\" alt=\"enter image description here\"></a></p>\n\n<p>Which made me think the issue was with dataGameLogs = responses.json()['resultSets'][0]['rowSet'] , but unsure why that is returning an error...</p>\n"}, {"tags": ["python", "python-2.7", "methods", "subclass"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 2, "creation_date": 1476305919, "post_id": 40008155, "comment_id": 67294502, "body": "Look in <code>SubClass.__dict__</code>?"}, {"owner": {"reputation": 1427, "user_id": 875667, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/6fad833ca0573689b3ff4a6bf7868268?s=128&d=identicon&r=PG", "display_name": "wtayyeb", "link": "https://stackoverflow.com/users/875667/wtayyeb"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1476306006, "post_id": 40008155, "comment_id": 67294548, "body": "contains the parent dict also."}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 1, "creation_date": 1476306084, "post_id": 40008155, "comment_id": 67294589, "body": "No it doesn&#39;t - <code>mappingproxy({&#39;__module__&#39;: &#39;__main__&#39;, &#39;__doc__&#39;: None, &#39;method_of_subclass&#39;: &lt;function SubClass.method_of_subclass at 0x107291730&gt;})</code>. No <code>method_of_parent</code>."}, {"owner": {"reputation": 1427, "user_id": 875667, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/6fad833ca0573689b3ff4a6bf7868268?s=128&d=identicon&r=PG", "display_name": "wtayyeb", "link": "https://stackoverflow.com/users/875667/wtayyeb"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1476306186, "post_id": 40008155, "comment_id": 67294637, "body": "I`m sorry i forget to mention python 2.7"}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1476306208, "post_id": 40008155, "comment_id": 67294650, "body": "...<code>dict_proxy({&#39;method_of_subclass&#39;: &lt;function method_of_subclass at 0x10ed39410&gt;, &#39;__module__&#39;: &#39;__main__&#39;, &#39;__doc__&#39;: None})</code>"}, {"owner": {"reputation": 156940, "user_id": 416467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/32cad7487ccecc3740a62e797fc326dc?s=128&d=identicon&r=PG", "display_name": "kindall", "link": "https://stackoverflow.com/users/416467/kindall"}, "edited": false, "score": 1, "creation_date": 1476306226, "post_id": 40008155, "comment_id": 67294662, "body": "If a method is defined on the parent class and <i>overridden</i> on the subclass, should it appear in the list?"}, {"owner": {"reputation": 1427, "user_id": 875667, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/6fad833ca0573689b3ff4a6bf7868268?s=128&d=identicon&r=PG", "display_name": "wtayyeb", "link": "https://stackoverflow.com/users/875667/wtayyeb"}, "reply_to_user": {"reputation": 156940, "user_id": 416467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/32cad7487ccecc3740a62e797fc326dc?s=128&d=identicon&r=PG", "display_name": "kindall", "link": "https://stackoverflow.com/users/416467/kindall"}, "edited": false, "score": 0, "creation_date": 1476306276, "post_id": 40008155, "comment_id": 67294700, "body": "@kindall no problem"}], "answers": [{"tags": [], "owner": {"reputation": 1591, "user_id": 622121, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5eb5b05a7391cfa97fc9016ce95471ee?s=128&d=identicon&r=PG", "display_name": "Kenji Noguchi", "link": "https://stackoverflow.com/users/622121/kenji-noguchi"}, "is_accepted": false, "score": 3, "last_activity_date": 1476306322, "creation_date": 1476306322, "answer_id": 40008332, "question_id": 40008155, "link": "https://stackoverflow.com/questions/40008155/how-to-find-methods-which-are-only-defined-in-a-subclass-in-python-2-7/40008332#40008332", "title": "How to find methods which are only defined in a subclass, in Python 2.7?", "body": "<p>I think there are many corner cases but here is one of solutions.</p>\n\n<pre><code>import inspect\n\n\nclass Parent(object):\n     def method_of_parent(self):\n         pass\nclass SubClass(Parent):\n     def method_of_subclass(self):\n         pass\n\ndef get_subclass_methods(child_cls):\n    parents = inspect.getmro(child_cls)[1:]\n    parents_methods = set()\n    for parent in parents:\n        members = inspect.getmembers(parent, predicate=inspect.ismethod)\n        parents_methods.update(members)\n\n    child_methods = set(inspect.getmembers(child_cls, predicate=inspect.ismethod))\n\n    child_only_methods = child_methods - parents_methods\n    return [m[0] for m in child_only_methods]\n\nprint(get_subclass_methods(SubClass))\n</code></pre>\n\n<p>Result</p>\n\n<pre><code>['method_of_subclass']\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11839, "user_id": 6045800, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153412706975770/picture?type=large", "display_name": "Tomerikoo", "link": "https://stackoverflow.com/users/6045800/tomerikoo"}, "is_accepted": false, "score": 0, "last_activity_date": 1577969004, "last_edit_date": 1577969004, "creation_date": 1577968375, "answer_id": 59563418, "question_id": 40008155, "link": "https://stackoverflow.com/questions/40008155/how-to-find-methods-which-are-only-defined-in-a-subclass-in-python-2-7/59563418#59563418", "title": "How to find methods which are only defined in a subclass, in Python 2.7?", "body": "<p>You can achieve that using a few ingredients:</p>\n\n<ul>\n<li>The <a href=\"https://docs.python.org/3/library/functions.html#dir\" rel=\"nofollow noreferrer\"><code>dir</code></a> function</li>\n<li>sets' <a href=\"https://docs.python.org/3/library/stdtypes.html#frozenset.difference\" rel=\"nofollow noreferrer\"><code>difference</code></a> method</li>\n<li>The built-in <a href=\"https://docs.python.org/3/library/stdtypes.html#class.__bases__\" rel=\"nofollow noreferrer\"><code>__bases__</code></a> attribute</li>\n</ul>\n\n<pre class=\"lang-py prettyprint-override\"><code>class Parent(object):\n     def method_of_parent(self):\n         pass\nclass SubClass(Parent):\n     def method_of_subclass(self):\n         pass\n\ndef get_subclass_methods(cls):\n    methods = set(dir(cls()))\n    unique_methods = methods.difference(*(dir(base()) for base in cls.__bases__))\n    return list(unique_methods)\n\nprint(get_subclass_methods(SubClass))\n</code></pre>\n\n<p>Gives:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>['method_of_subclass']\n</code></pre>\n\n<hr>\n\n<p>This also supports multiple inheritance so also doing:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>class SubSubClass(SubClass):\n    def method_of_subsubclass(self):\n        pass\n\nprint(get_subclass_methods(SubSubClass))\n</code></pre>\n\n<p>Will give:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>['method_of_subsubclass']\n</code></pre>\n"}], "owner": {"reputation": 1427, "user_id": 875667, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/6fad833ca0573689b3ff4a6bf7868268?s=128&d=identicon&r=PG", "display_name": "wtayyeb", "link": "https://stackoverflow.com/users/875667/wtayyeb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 762, "favorite_count": 0, "answer_count": 2, "score": 4, "last_activity_date": 1577969004, "creation_date": 1476305552, "last_edit_date": 1476309656, "question_id": 40008155, "link": "https://stackoverflow.com/questions/40008155/how-to-find-methods-which-are-only-defined-in-a-subclass-in-python-2-7", "title": "How to find methods which are only defined in a subclass, in Python 2.7?", "body": "<p>Is there a clean way to get methods only defined in a subclass that not defined in parent class?</p>\n\n<pre><code>class Parent(object):\n     def method_of_parent(self):\n         pass\nclass SubClass(Parent):\n     def method_of_subclass(self):\n         pass\n\n# desired:\n&gt;&gt;&gt; print(get_subclass_methods(SubClass))\n['method_of_subclass',]\n</code></pre>\n"}, {"tags": ["python", "scipy"], "comments": [{"owner": {"reputation": 27649, "user_id": 5067311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qjltV.png?s=128&g=1", "display_name": "Andras Deak", "link": "https://stackoverflow.com/users/5067311/andras-deak"}, "edited": false, "score": 0, "creation_date": 1477317672, "post_id": 40008017, "comment_id": 67704071, "body": "That&#39;s a pretty complicated model which I&#39;m unfamiliar with. Does it not correspond to two humps? Your input data has one huge hump and one tiny one on the left, but it should be hard to find the latter one. My suspicion is that one of the humps in your model are far away from your data of interest, so essentially you&#39;re fitting a single hump to your data (hence the meaningless parameters). You could try fitting this one big hump, subtracting it from your data, then fitting another one to the remainder."}, {"owner": {"reputation": 27649, "user_id": 5067311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qjltV.png?s=128&g=1", "display_name": "Andras Deak", "link": "https://stackoverflow.com/users/5067311/andras-deak"}, "edited": false, "score": 0, "creation_date": 1477328746, "post_id": 40008017, "comment_id": 67711017, "body": "Actually, subtracting that main peak leaves behind a noise data set that doesn&#39;t seem to have clearly noticable features (within error bars). Are you sure that model is a good fit for your problem? It might be the case that part of the information is irrelevant/unnecessary (such as fitting the sum of two Gaussians to a single peak)."}, {"owner": {"reputation": 165, "user_id": 1230696, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/03643b0f984f68e0a476bda54c40cf7a?s=128&d=identicon&r=PG", "display_name": "Pythoneer", "link": "https://stackoverflow.com/users/1230696/pythoneer"}, "reply_to_user": {"reputation": 27649, "user_id": 5067311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qjltV.png?s=128&g=1", "display_name": "Andras Deak", "link": "https://stackoverflow.com/users/5067311/andras-deak"}, "edited": false, "score": 0, "creation_date": 1477328976, "post_id": 40008017, "comment_id": 67711154, "body": "Yes. This is the distribution of light along the minor axis of a galaxy, which is supposed to be described by that model. I noticed, however, that if I get rid of the first 5 data points, the results are more credible. Maybe curve_fit can&#39;t handle this very first bump..."}, {"owner": {"reputation": 27649, "user_id": 5067311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qjltV.png?s=128&g=1", "display_name": "Andras Deak", "link": "https://stackoverflow.com/users/5067311/andras-deak"}, "edited": false, "score": 0, "creation_date": 1477329169, "post_id": 40008017, "comment_id": 67711251, "body": "That is highly possible. If that bump is significantly independent from the big one, you should indeed ignore it in the fit. The problem is that the largest uncertainties are much larger than the expected noise on the left-side bump, even if said bump is above the baseline within error."}], "answers": [{"comments": [{"owner": {"reputation": 165, "user_id": 1230696, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/03643b0f984f68e0a476bda54c40cf7a?s=128&d=identicon&r=PG", "display_name": "Pythoneer", "link": "https://stackoverflow.com/users/1230696/pythoneer"}, "edited": false, "score": 0, "creation_date": 1477305849, "post_id": 40008187, "comment_id": 67696391, "body": "Thanks! But after a lot of testing, even setting bounds yields crappy results. For example without setting bounds, it would give me an w0 of 300 or so, but a z0 of 10e4, totally unreasonable. With bounds a w0 of around 300 and a z0 of 100, the same number as my bound for z0..."}, {"owner": {"reputation": 27649, "user_id": 5067311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qjltV.png?s=128&g=1", "display_name": "Andras Deak", "link": "https://stackoverflow.com/users/5067311/andras-deak"}, "reply_to_user": {"reputation": 165, "user_id": 1230696, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/03643b0f984f68e0a476bda54c40cf7a?s=128&d=identicon&r=PG", "display_name": "Pythoneer", "link": "https://stackoverflow.com/users/1230696/pythoneer"}, "edited": false, "score": 0, "creation_date": 1477306568, "post_id": 40008187, "comment_id": 67696804, "body": "@Pythoneer yeah, that&#39;s pretty weird. Is there any chance you can put together a small sample of your data that reproduces the issue? I could also try playing around with it to see what might be wrong."}, {"owner": {"reputation": 165, "user_id": 1230696, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/03643b0f984f68e0a476bda54c40cf7a?s=128&d=identicon&r=PG", "display_name": "Pythoneer", "link": "https://stackoverflow.com/users/1230696/pythoneer"}, "edited": false, "score": 0, "creation_date": 1477310474, "post_id": 40008187, "comment_id": 67699077, "body": "Sure. My xaxis is [-58. -54. -50. -46. -42. -38. -34. -30. -26. -22. -18. -14. -10.  -6.  -2.    2.   6.  10.  14.  18.  22.  26.  30.  34.  38.  42.  46.  50.  54.  58.]"}, {"owner": {"reputation": 165, "user_id": 1230696, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/03643b0f984f68e0a476bda54c40cf7a?s=128&d=identicon&r=PG", "display_name": "Pythoneer", "link": "https://stackoverflow.com/users/1230696/pythoneer"}, "edited": false, "score": 0, "creation_date": 1477310600, "post_id": 40008187, "comment_id": 67699154, "body": "@Adras Deak, Sorry, I hit return and it postet immediatly, I hate this comment system. I&#39;ll edit it into the question."}, {"owner": {"reputation": 27649, "user_id": 5067311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qjltV.png?s=128&g=1", "display_name": "Andras Deak", "link": "https://stackoverflow.com/users/5067311/andras-deak"}, "reply_to_user": {"reputation": 165, "user_id": 1230696, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/03643b0f984f68e0a476bda54c40cf7a?s=128&d=identicon&r=PG", "display_name": "Pythoneer", "link": "https://stackoverflow.com/users/1230696/pythoneer"}, "edited": false, "score": 0, "creation_date": 1477310816, "post_id": 40008187, "comment_id": 67699294, "body": "@Pythoneer for one, you can edit comments within 5 minutes after posting. But this information belongs to the question anyway:)"}], "tags": [], "owner": {"reputation": 27649, "user_id": 5067311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qjltV.png?s=128&g=1", "display_name": "Andras Deak", "link": "https://stackoverflow.com/users/5067311/andras-deak"}, "is_accepted": false, "score": 2, "last_activity_date": 1476305676, "creation_date": 1476305676, "answer_id": 40008187, "question_id": 40008017, "link": "https://stackoverflow.com/questions/40008017/scipy-curve-fit-strange-result/40008187#40008187", "title": "scipy curve_fit strange result", "body": "<p>In my experience <a href=\"http://docs.scipy.org/doc/scipy/reference/generated/scipy.optimize.curve_fit.html\" rel=\"nofollow\"><code>curve_fit</code></a> can sometimes act up and stick with the initial values for the parameters. I would suspect that in your case adding a few fake parameters changed the heuristics of how the relevant parameters are being initialized (although this contradicts the documentation's statement that with no initial values given, they all default to 1).</p>\n\n<p>It helps a lot in obtaining reliable fits if you specify reasonable bounds and initial values for your fitting parameters (I mean the <code>p0</code> and <code>bounds</code> keywords). The fact that the default starting values should all be <code>1</code> suggests that for most use cases, the default won't cut it.</p>\n"}], "owner": {"reputation": 165, "user_id": 1230696, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/03643b0f984f68e0a476bda54c40cf7a?s=128&d=identicon&r=PG", "display_name": "Pythoneer", "link": "https://stackoverflow.com/users/1230696/pythoneer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 522, "favorite_count": 2, "answer_count": 1, "score": 1, "last_activity_date": 1477312401, "creation_date": 1476304969, "last_edit_date": 1477312401, "question_id": 40008017, "link": "https://stackoverflow.com/questions/40008017/scipy-curve-fit-strange-result", "title": "scipy curve_fit strange result", "body": "<p>I am trying to fit a distribution with scipy's curve_fit. I tried to fit a one component exponential function which resulted in an almost straight line (see figure). I also tried a two component exponential fit which seemed to work nicely. Two components just means that a part of the equation repeats with different input parameters. Anyway, here is the one component fit function:</p>\n\n<pre><code>def Exponential(Z,w0,z0,Z0):\n    z = Z - Z0\n    termB = (newsigma**2 + z*z0) / (numpy.sqrt(2.0)*newsigma*z0)\n    termA = (newsigma**2 - z*z0) / (numpy.sqrt(2.0)*newsigma*z0)\n    return w0/2.0 * numpy.exp(-(z**2 / (2.0*newsigma**2))) * (numpy.exp(termA**2)*erfc(termA) + numpy.exp(termB**2)*erfc(termB))\n</code></pre>\n\n<p>and the fitting is done with</p>\n\n<pre><code>fitexp = curve_fit(Exponential,newx,y2)\n</code></pre>\n\n<p>Then I tried something, just to try it out. I took two parameters of the two component fit, but did not use them in the calculation.</p>\n\n<pre><code>def ExponentialNew(Z,w0,z0,w1,z1,Z0):\n    z = Z - Z0\n    termB = (newsigma**2 + z*z0) / (numpy.sqrt(2.0)*newsigma*z0)\n    termA = (newsigma**2 - z*z0) / (numpy.sqrt(2.0)*newsigma*z0)\n    return w0/2.0 * numpy.exp(-(z**2 / (2.0*newsigma**2))) * (numpy.exp(termA**2)*erfc(termA) + numpy.exp(termB**2)*erfc(termB))\n</code></pre>\n\n<p>And suddenly this works.</p>\n\n<p><a href=\"https://i.stack.imgur.com/jhq0S.jpg\" rel=\"nofollow\"><img src=\"https://i.stack.imgur.com/jhq0S.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>Now, my quation is. WHY? As you can see, there is absolutely no difference in the calculation of the fit. It just gets two extra variables that are not used. Should this not get the same result?</p>\n\n<p>@Andras_Deak\nAn actual example:</p>\n\n<pre><code>from scipy.special import erfc\nimport numpy\nimport matplotlib.pyplot as plt\nfrom scipy.optimize import curve_fit\n\n#setup data\nx = [-58.,-54.,-50.,-46.,-42.,-38.,-34.,-30.,-26.,-22.,-18.,-14.,-10.,-6.,-2.,2.,6.,10.,14.,18.,22.,26.,30.,34.,38.,42.,46.,50.,54.,58.]\ny = [23.06763817, 16.89802085, 17.83258379, 16.63446237, 13.81878965, 12.97965839, 14.30451789, 16.98288216, 22.26811491, 28.56756908, 33.06990344, 38.59842098, 54.19860393, 86.37381604, 137.47253315, 199.49724512, 238.66047662, 219.89405445, 160.68820199, 103.88901303, 65.92405727, 43.84596266, 31.5395342, 25.9610156, 22.71683709, 18.06740651, 13.85362374, 11.12867065, 10.36502799, 11.31855619]\ny_err = [17.9823065, 4.13684885, 1.66490726, 2.4109372, 2.93359141, 1.9701747, 3.19214881,  3.65593012, 2.89089074, 3.58922121, 4.25505348, 4.72728874, 6.77736567, 11.3888196, 21.87771722, 39.0087495, 56.6910311, 51.7592369, 26.39750958, 10.62678862, 7.85893395, 8.11741621, 7.91731416, 7.07739132, 5.41818744, 6.11286843, 8.27070757, 7.85323065, 4.26885499, 0.9047867]\n\n#function to fit\ndef Exponential2(Z, w0, z0, w1, z1, Z0):\n    z = Z - Z0\n    s = 3.98098937586\n    a = z**2 / (2.0*s**2)\n    b = (s**2 + z*z0) / (numpy.sqrt(2.0)*s*z0)\n    c = (s**2 - z*z0) / (numpy.sqrt(2.0)*s*z0)\n    d = (s**2 + z*z1) / (numpy.sqrt(2.0)*s*z1)\n    e = (s**2 - z*z1) / (numpy.sqrt(2.0)*s*z1)\n    return w0/2.0 * numpy.exp(-a) * (numpy.exp(c**2)*erfc(c) + numpy.exp(b**2)*erfc(b)) + w1/2.0 * numpy.exp(-a) * (numpy.exp(e**2)*erfc(e) + numpy.exp(d**2)*erfc(d))\n\n\n#derive and set initial guess\nymaxpos = x[numpy.where(y==numpy.max(y))[0]]\np0_2 = [numpy.max(y),5,numpy.max(y)/2.0,20,ymaxpos]\n\n#fit\nfitexp2 = curve_fit(Exponential2,x,y,p0=p0_2,sigma=y_err)\n\n#get results\nw0err = numpy.sqrt(numpy.diag(fitexp2[1]))[0]\nz0err = numpy.sqrt(numpy.diag(fitexp2[1]))[1]\nw1err = numpy.sqrt(numpy.diag(fitexp2[1]))[2]\nz1err = numpy.sqrt(numpy.diag(fitexp2[1]))[3]\nw0 = fitexp2[0][0]\nz0 = fitexp2[0][1]\nw1 = fitexp2[0][2]\nz1 = fitexp2[0][3]\nZ0 = fitexp2[0][4]\n#new x array for smoother curve\nsmoothx = numpy.arange(-58,59,0.1)\ny2 = Exponential2(smoothx,w0,z0,w1,z1,Z0)\n\nprint 'Exponential 2: w0: '+str(w0.round(3))+' +/- '+str(w0err.round(3))+' \\t z0: '+str(z0.round(3))+' +/- '+str(z0err.round(3))+' \\t w1: '+str(w1.round(3))+' +/- '+str(w1err.round(3))+' \\t\\t z1: '+str(z1.round(3))+' +/- '+str(z1err.round(3))\n\n#plot\nfig = plt.figure()\nax = fig.add_subplot(111)\nax.errorbar(x,y,y_err,fmt='o',markersize=2,label='data')\nax.plot(smoothx,y2,label='fit',color='red')\nax.grid()\nax.legend()\nplt.show()\n</code></pre>\n\n<p>As you can see, the plot does look good, but the returned value z1 is totaly unrealistic.</p>\n\n<pre><code>Exponential 2: w0: 312.608 +/- 36.764    z0: 8.263 +/- 1.158     w1: 12.689 +/- 9.138        z1: 1862257.883 +/- 45201809883.8\n</code></pre>\n"}, {"tags": ["python", "python-2.7", "powershell", "jupyter-notebook", "imblearn"], "comments": [{"owner": {"reputation": 707, "user_id": 7620499, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/5a76afd04d99ec1dc295b4b55656e9e8?s=128&d=identicon&r=PG&f=1", "display_name": "bernando_vialli", "link": "https://stackoverflow.com/users/7620499/bernando-vialli"}, "edited": false, "score": 0, "creation_date": 1526489919, "post_id": 40008015, "comment_id": 87768884, "body": "hi, did you ever get this to work, and if so, how? I am trying to follow the instructions that the answers give to know avail."}], "answers": [{"tags": [], "owner": {"reputation": 1084, "user_id": 6005062, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9KbZp.jpg?s=128&g=1", "display_name": "estebanpdl", "link": "https://stackoverflow.com/users/6005062/estebanpdl"}, "is_accepted": false, "score": 5, "last_activity_date": 1476309648, "last_edit_date": 1476309648, "creation_date": 1476306098, "answer_id": 40008278, "question_id": 40008015, "link": "https://stackoverflow.com/questions/40008015/problems-importing-imblearn-python-package-on-ipython-notebook/40008278#40008278", "title": "Problems importing imblearn python package on ipython notebook", "body": "<p>Try this:</p>\n\n<pre><code>from imblearn import under_sampling, over_sampling\n</code></pre>\n\n<p>In order to import <code>SMOTE</code>:</p>\n\n<pre><code>from imblearn.over_sampling import SMOTE\n</code></pre>\n\n<p>Or datasets:</p>\n\n<pre><code>from imblearn.datasets import ...\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 707, "user_id": 7620499, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/5a76afd04d99ec1dc295b4b55656e9e8?s=128&d=identicon&r=PG&f=1", "display_name": "bernando_vialli", "link": "https://stackoverflow.com/users/7620499/bernando-vialli"}, "edited": false, "score": 0, "creation_date": 1526489859, "post_id": 46603600, "comment_id": 87768850, "body": "hi, I have taken those steps that you suggested and it still does not work. Any ideas?"}], "tags": [], "owner": {"reputation": 91, "user_id": 8731582, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9215fd14173d92bfcca89fc818145971?s=128&d=identicon&r=PG&f=1", "display_name": "Vito Trentadue", "link": "https://stackoverflow.com/users/8731582/vito-trentadue"}, "is_accepted": false, "score": 9, "last_activity_date": 1507285429, "creation_date": 1507285429, "answer_id": 46603600, "question_id": 40008015, "link": "https://stackoverflow.com/questions/40008015/problems-importing-imblearn-python-package-on-ipython-notebook/46603600#46603600", "title": "Problems importing imblearn python package on ipython notebook", "body": "<p>If it don't work, maybe you need to install \"imblearn\" package.</p>\n\n<p>Try to install:</p>\n\n<ul>\n<li>pip: <code>pip install -U imbalanced-learn</code></li>\n<li>anaconda: <code>conda install -c glemaitre imbalanced-learn</code></li>\n</ul>\n\n<p>Then try to import library in your file:</p>\n\n<ul>\n<li><code>from imblearn.over_sampling import SMOTE</code></li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 9518619, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/55c73411c1b309e1b2a60a28d173431d?s=128&d=identicon&r=PG&f=1", "display_name": "Ben S", "link": "https://stackoverflow.com/users/9518619/ben-s"}, "is_accepted": false, "score": -1, "last_activity_date": 1521496782, "last_edit_date": 1521496782, "creation_date": 1521484515, "answer_id": 49370126, "question_id": 40008015, "link": "https://stackoverflow.com/questions/40008015/problems-importing-imblearn-python-package-on-ipython-notebook/49370126#49370126", "title": "Problems importing imblearn python package on ipython notebook", "body": "<p><code>pip install -U imbalanced-learn</code> should work, although make sure you've met the dependencies for numpy, scipy and scikit-learn.</p>\n\n<p><a href=\"http://contrib.scikit-learn.org/imbalanced-learn/stable/install.html\" rel=\"nofollow noreferrer\">Imbalanced-learn 0.3.0 Install Documentation</a></p>\n"}, {"tags": [], "owner": {"reputation": 29, "user_id": 3287283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8083a836458dcb2f66e54a984029f467?s=128&d=identicon&r=PG", "display_name": "Ragni Sah", "link": "https://stackoverflow.com/users/3287283/ragni-sah"}, "is_accepted": false, "score": 1, "last_activity_date": 1526719270, "creation_date": 1526719270, "answer_id": 50423410, "question_id": 40008015, "link": "https://stackoverflow.com/questions/40008015/problems-importing-imblearn-python-package-on-ipython-notebook/50423410#50423410", "title": "Problems importing imblearn python package on ipython notebook", "body": "<p>Type \n!pip install imblearn  </p>\n\n<p>in jupyter notebook. this worked for me.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 13143422, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/8f0458fdf4eaabbea3a2f062a591d473?s=128&d=identicon&r=PG", "display_name": "Marwa Ahmed", "link": "https://stackoverflow.com/users/13143422/marwa-ahmed"}, "is_accepted": false, "score": 0, "last_activity_date": 1585424707, "creation_date": 1585424707, "answer_id": 60906110, "question_id": 40008015, "link": "https://stackoverflow.com/questions/40008015/problems-importing-imblearn-python-package-on-ipython-notebook/60906110#60906110", "title": "Problems importing imblearn python package on ipython notebook", "body": "<p>I've tried all of these solutions and nothing worked, only thing that worked for me is changing the kernel. I'm running Jupyter on Amazon Sagemaker and I changed the kernel from pyhton3 to pytorch36 and it worked just fine. Hope this helps</p>\n"}, {"tags": [], "owner": {"reputation": 2414, "user_id": 7404, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6cb00ae3cf0974be05165f2e1703225a?s=128&d=identicon&r=PG&f=1", "display_name": "belwood", "link": "https://stackoverflow.com/users/7404/belwood"}, "is_accepted": false, "score": 0, "last_activity_date": 1607057413, "last_edit_date": 1607057413, "creation_date": 1606456441, "answer_id": 65032676, "question_id": 40008015, "link": "https://stackoverflow.com/questions/40008015/problems-importing-imblearn-python-package-on-ipython-notebook/65032676#65032676", "title": "Problems importing imblearn python package on ipython notebook", "body": "<p>What finally worked for me was putting the venv into the notebook according to <a href=\"https://janakiev.com/blog/jupyter-virtual-envs/\" rel=\"nofollow noreferrer\">Add Virtual Environment to Jupyter Notebook</a></p>\n<p>Here's what I did, using commands from the article:</p>\n<pre><code>$ python3 -m pip install --user ipykernel\n\n# add the virtual environment to Jupyter\n$ python3 -m ipykernel install --user --name=venv\n\n# create the virtual env in the working directory\n$ python3 -m venv ./venv\n\n# activate the venv\n$ source venv/bin/activate\n\n# install the package\n(venv) pip install imbalanced-learn\n\n# fire up the notebook\n(venv) jupyter notebook\n\n</code></pre>\n"}], "owner": {"reputation": 77, "user_id": 6866272, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/df1f15e687ef101b337b3f5cc3d8015b?s=128&d=identicon&r=PG&f=1", "display_name": "ugradmath", "link": "https://stackoverflow.com/users/6866272/ugradmath"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48501, "favorite_count": 1, "answer_count": 6, "score": 6, "last_activity_date": 1607057413, "creation_date": 1476304965, "last_edit_date": 1550517088, "question_id": 40008015, "link": "https://stackoverflow.com/questions/40008015/problems-importing-imblearn-python-package-on-ipython-notebook", "title": "Problems importing imblearn python package on ipython notebook", "body": "<p>I installed <a href=\"https://github.com/glemaitre/imbalanced-learn\" rel=\"nofollow noreferrer\">https://github.com/glemaitre/imbalanced-learn</a> on windows powershell using <code>pip install</code>, <code>conda</code> and <code>github</code>. But when I'm on iPython notebook and I tried to import the package using:</p>\n\n<pre><code>from unbalanced_dataset import UnderSampler, OverSampler, SMOTE\n</code></pre>\n\n<p>I get the error:</p>\n\n<hr>\n\n<pre><code>ImportError  Traceback (most recent call last) &lt;ipython-input-9-ad6fd7440a05&gt; in &lt;module&gt;()\n----&gt; 1 from imbalanced_learn import UnderSampler, OverSampler, SMOTE\n\nImportError: No module named imbalanced_learn\n</code></pre>\n\n<p>New to using windows for Python, do I have to install the package in some folder?</p>\n"}, {"tags": ["python", "serialization", "pickle"], "answers": [{"comments": [{"owner": {"reputation": 5042, "user_id": 1732418, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/8f08425f8724d6ea2d605d431a2e8fb5?s=128&d=identicon&r=PG&f=1", "display_name": "tribbloid", "link": "https://stackoverflow.com/users/1732418/tribbloid"}, "edited": false, "score": 0, "creation_date": 1476305557, "post_id": 40008066, "comment_id": 67294314, "body": "But it is a static member, are static members supposed to be treated the same way as top-level variables?"}, {"owner": {"reputation": 5042, "user_id": 1732418, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/8f08425f8724d6ea2d605d431a2e8fb5?s=128&d=identicon&r=PG&f=1", "display_name": "tribbloid", "link": "https://stackoverflow.com/users/1732418/tribbloid"}, "edited": false, "score": 0, "creation_date": 1476305989, "post_id": 40008066, "comment_id": 67294541, "body": "Already moved the only multiprocessing manager list out into a global member, but the problem remains. Please see my update."}, {"owner": {"reputation": 230015, "user_id": 8206, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/fc761ccaf6c0d7d977e2959f9bfebd06?s=128&d=identicon&r=PG", "display_name": "Eli Bendersky", "link": "https://stackoverflow.com/users/8206/eli-bendersky"}, "reply_to_user": {"reputation": 5042, "user_id": 1732418, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/8f08425f8724d6ea2d605d431a2e8fb5?s=128&d=identicon&r=PG&f=1", "display_name": "tribbloid", "link": "https://stackoverflow.com/users/1732418/tribbloid"}, "edited": false, "score": 0, "creation_date": 1476306052, "post_id": 40008066, "comment_id": 67294571, "body": "@tribbloid: no it&#39;s not that simple to pickle them. If you Google for it there&#39;s quite a bit of discussion on SO already. Why can&#39;t you just show the class you want to pickle?"}], "tags": [], "owner": {"reputation": 230015, "user_id": 8206, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/fc761ccaf6c0d7d977e2959f9bfebd06?s=128&d=identicon&r=PG", "display_name": "Eli Bendersky", "link": "https://stackoverflow.com/users/8206/eli-bendersky"}, "is_accepted": false, "score": 0, "last_activity_date": 1476305234, "creation_date": 1476305234, "answer_id": 40008066, "question_id": 40008010, "link": "https://stackoverflow.com/questions/40008010/why-python-pickling-library-complain-about-class-member-that-doesnt-exist/40008066#40008066", "title": "Why Python pickling library complain about class member that doesn&#39;t exist?", "body": "<p>It would help to see how your class looks, but if it has methods from <code>multiprocessing</code> you may have issues just pickling it by default. Multiprocessing objects can use locks as well, and these are (obviously) unpickle-able.</p>\n\n<p>You can customize pickling with the <a href=\"https://docs.python.org/dev/library/pickle.html?highlight=pickle#object.__getstate__\" rel=\"nofollow\"><code>__getstate__</code></a> method, or <code>__reduce__</code> (documented in the same place).</p>\n"}], "owner": {"reputation": 5042, "user_id": 1732418, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/8f08425f8724d6ea2d605d431a2e8fb5?s=128&d=identicon&r=PG&f=1", "display_name": "tribbloid", "link": "https://stackoverflow.com/users/1732418/tribbloid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 204, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1476311985, "creation_date": 1476304962, "last_edit_date": 1476311985, "question_id": 40008010, "link": "https://stackoverflow.com/questions/40008010/why-python-pickling-library-complain-about-class-member-that-doesnt-exist", "title": "Why Python pickling library complain about class member that doesn&#39;t exist?", "body": "<p>I have the following simple class definition:</p>\n\n<pre><code>def apmSimUp(i):\n    return APMSim(i)\n\ndef simDown(sim):\n    sim.close()\n\nclass APMSimFixture(TestCase):\n\n    def setUp(self):\n        self.pool = multiprocessing.Pool()\n        self.sims = self.pool.map(\n            apmSimUp,\n            range(numCores)\n        )\n\n    def tearDown(self):\n        self.pool.map(\n            simDown,\n            self.sims\n        )\n</code></pre>\n\n<p>Where class APMSim is defined purely by plain simple python primitive types (string, list etc.) the only exception is a static member, which is a multiprocessing manager.list</p>\n\n<p>However, when I try to execute this class, I got the following error information:</p>\n\n<pre><code>Error\nTraceback (most recent call last):\n  File \"/home/peng/git/datapassport/spookystuff/mav/pyspookystuff_test/mav/__init__.py\", line 77, in setUp\n    range(numCores)\n  File \"/usr/lib/python2.7/multiprocessing/pool.py\", line 251, in map\n    return self.map_async(func, iterable, chunksize).get()\n  File \"/usr/lib/python2.7/multiprocessing/pool.py\", line 567, in get\n    raise self._value\nMaybeEncodingError: Error sending result: '[&lt;pyspookystuff.mav.sim.APMSim object at 0x7f643c4ca8d0&gt;]'. Reason: 'TypeError(\"can't pickle thread.lock objects\",)'\n</code></pre>\n\n<p>Which is strange as thread.lock cannot be found anywhere, I strictly avoid  any multithreading component (as you can see, only multiprocessing component is used). And none of these component exist in my class, or only as static member, what should I do to make this class picklable?</p>\n\n<p>BTW, is there a way to exclude a black sheep member from pickling? Like Java's @transient annotation?</p>\n\n<p>Thanks a lot for any help!</p>\n\n<p><strong>UPDATE</strong>: The following is my full APMSim class, please see if you find anything that violates it picklability:</p>\n\n<pre><code>usedINums = mav.manager.list()\nclass APMSim(object):\n    global usedINums\n\n    @staticmethod\n    def nextINum():\n        port = mav.nextUnused(usedINums, range(0, 254))\n        return port\n\n    def __init__(self, iNum):\n        # type: (int) -&gt; None\n\n        self.iNum = iNum\n        self.args = sitl_args + ['-I' + str(iNum)]\n\n    @staticmethod\n    def create():\n        index = APMSim.nextINum()\n        try:\n            result = APMSim(index)\n            return result\n        except Exception as ee:\n            usedINums.remove(index)\n            raise\n\n    @lazy\n    def _sitl(self):\n        sitl = SITL()\n        sitl.download('copter', '3.3')\n        sitl.launch(self.args, await_ready=True, restart=True)\n        print(\"launching .... \", sitl.p.pid)\n        return sitl\n\n    @lazy\n    def sitl(self):\n        self.setParamAndRelaunch('SYSID_THISMAV', self.iNum + 1)\n        return self._sitl\n\n    def _getConnStr(self):\n        return tcp_master(self.iNum)\n\n    @lazy\n    def connStr(self):\n        self.sitl\n        return self._getConnStr()\n\n    def setParamAndRelaunch(self, key, value):\n\n        wd = self._sitl.wd\n        print(\"relaunching .... \", self._sitl.p.pid)\n        v = connect(self._getConnStr(), wait_ready=True) # if use connStr will trigger cyclic invocation\n        v.parameters.set(key, value, wait_ready=True)\n        v.close()\n        self._sitl.stop()\n        self._sitl.launch(self.args, await_ready=True, restart=True, wd=wd, use_saved_data=True)\n        v = connect(self._getConnStr(), wait_ready=True)\n        # This fn actually rate limits itself to every 2s.\n        # Just retry with persistence to get our first param stream.\n        v._master.param_fetch_all()\n        v.wait_ready()\n        actualValue = v._params_map[key]\n        assert actualValue == value\n        v.close()\n\n    def close(self):\n\n        self._sitl.stop()\n        usedINums.remove(self.iNum)\n</code></pre>\n\n<p>lazy decorator is from this library:</p>\n\n<p><a href=\"https://docs.python.org/2/tutorial/classes.html#generator-expressions\" rel=\"nofollow\">https://docs.python.org/2/tutorial/classes.html#generator-expressions</a></p>\n"}, {"tags": ["java", "python", "apache-spark", "pyspark", "date-formatting"], "answers": [{"tags": [], "owner": {"reputation": 1764, "user_id": 6352160, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/82f4176e0b20e9e0587a8508f9e44807?s=128&d=identicon&r=PG&f=1", "display_name": "Shankar P S", "link": "https://stackoverflow.com/users/6352160/shankar-p-s"}, "is_accepted": false, "score": 3, "last_activity_date": 1489529090, "last_edit_date": 1495535451, "creation_date": 1489529090, "answer_id": 42797437, "question_id": 40007972, "link": "https://stackoverflow.com/questions/40007972/pyspark-doesnt-recognize-mmm-dateformat-pattern-in-spark-read-load-for-dates/42797437#42797437", "title": "pyspark doesn&#39;t recognize MMM dateFormat pattern in spark.read.load() for dates like 1989Dec31 and 31Dec1989", "body": "<p>You have already identified the issue as one of locale in the Spark's JVM. You can check the default country and language settings that are used by your Spark's JVM by going to <a href=\"http://localhost:4040/environment/\" rel=\"nofollow noreferrer\">http://localhost:4040/environment/</a> after launching the spark shell. Search for \"user.language\" and user.country\" under System Properties section. It should be <strong>US</strong> and <strong>en</strong>. </p>\n\n<p>You can change them like this, if needed. </p>\n\n<p>Option 1:  Edit the spark-defaults.conf file in {SPARK_HOME}/conf folder. Add the following settings:</p>\n\n<pre><code>spark.executor.extraJavaOptions  -Duser.country=US -Duser.language=en\nspark.driver.extraJavaOptions -Duser.country=US -Duser.language=en\n</code></pre>\n\n<p>Option 2: Pass the options to pyspark as a command line option </p>\n\n<pre><code>  $pyspark  --conf spark.driver.extraJavaOptions=\"-Duser.country=US,-Duser.language=en\" spark.executor.extraJavaOptions=\"-Duser.country=US,-Duser.language=en\"\n</code></pre>\n\n<p>Option 3: Change the language and region in your Mac OS. For example - <a href=\"https://stackoverflow.com/questions/24844982/what-settings-in-mac-os-x-affect-the-locale-and-calendar-inside-java\">What settings in Mac OS X affect the `Locale` and `Calendar` inside Java?</a></p>\n\n<p>P.S. - I have only verified that Option 1 works. I have not tried out the other 2. More details about Spark configuration are here - <a href=\"http://spark.apache.org/docs/latest/configuration.html#runtime-environment\" rel=\"nofollow noreferrer\">http://spark.apache.org/docs/latest/configuration.html#runtime-environment</a></p>\n"}, {"tags": [], "owner": {"reputation": 5059, "user_id": 3811916, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xbwdN.png?s=128&g=1", "display_name": "eddies", "link": "https://stackoverflow.com/users/3811916/eddies"}, "is_accepted": true, "score": 4, "last_activity_date": 1489687054, "last_edit_date": 1489687054, "creation_date": 1489654965, "answer_id": 42829439, "question_id": 40007972, "link": "https://stackoverflow.com/questions/40007972/pyspark-doesnt-recognize-mmm-dateformat-pattern-in-spark-read-load-for-dates/42829439#42829439", "title": "pyspark doesn&#39;t recognize MMM dateFormat pattern in spark.read.load() for dates like 1989Dec31 and 31Dec1989", "body": "<p>Probably worth noting that this was resolved on the <a href=\"https://www.mail-archive.com/user@spark.apache.org/msg58402.html\" rel=\"nofollow noreferrer\">Spark mailing list</a> on 24 Oct 2016. Per the original poster:</p>\n\n<blockquote>\n  <p>This worked without setting other options: <code>spark/bin/spark-submit --conf \"spark.driver.extraJavaOptions=-Duser.language=en\" test.py</code></p>\n</blockquote>\n\n<p>and was reported as <a href=\"https://issues.apache.org/jira/browse/SPARK-18076\" rel=\"nofollow noreferrer\">SPARK-18076</a> (Fix default Locale used in DateFormat, NumberFormat to Locale.US) against Spark 2.0.1 and was resolved in Spark 2.1.0.</p>\n\n<p>Additionally, while the above workaround (passing in <code>--conf \"spark.driver.extraJavaOptions=-Duser.language=en\"</code>) for the specific issue the submitter raised is no longer needed if using Spark 2.1.0, a notable side-effect is that for Spark 2.1.0 users, you can no longer pass in something like <code>--conf \"spark.driver.extraJavaOptions=-Duser.language=fr\"</code> if you wanted to parse a non-English date, e.g. \"31mai1989\".</p>\n\n<p>In fact, as of Spark 2.1.0, when using <code>spark.read()</code> to load a csv, I think it's no longer possible to use the <code>dateFormat</code> option to parse a date such as \"31mai1989\", even if your default locale is French. I went as far as changing the default region and language in my OS to French and passed in just about every locale setting permutation I could think of, i.e.</p>\n\n<pre><code>JAVA_OPTS=\"-Duser.language=fr -Duser.country=FR -Duser.region=FR\" \\\nJAVA_ARGS=\"-Duser.language=fr -Duser.country=FR -Duser.region=FR\" \\\nLC_ALL=fr_FR.UTF-8 \\\nspark-submit \\\n--conf \"spark.driver.extraJavaOptions=-Duser.country=FR -Duser.language=fr -Duser.region=FR\" \\\n--conf \"spark.executor.extraJavaOptions=-Duser.country=FR -Duser.language=fr -Duser.region=FR\" \\\ntest.py\n</code></pre>\n\n<p>to no avail, resulting in</p>\n\n<pre><code>java.lang.IllegalArgumentException\n    at java.sql.Date.valueOf(Date.java:143)\n    at org.apache.spark.sql.catalyst.util.DateTimeUtils$.stringToTime(DateTimeUtils.scala:137)\n</code></pre>\n\n<p>But again, this only affects parsing non-English dates in Spark 2.1.0.</p>\n"}, {"tags": [], "owner": {"reputation": 1088, "user_id": 2902579, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0467330a00b0ce35e278c60579f7c5ed?s=128&d=identicon&r=PG&f=1", "display_name": "Boggio", "link": "https://stackoverflow.com/users/2902579/boggio"}, "is_accepted": false, "score": 1, "last_activity_date": 1489796455, "creation_date": 1489796455, "answer_id": 42868999, "question_id": 40007972, "link": "https://stackoverflow.com/questions/40007972/pyspark-doesnt-recognize-mmm-dateformat-pattern-in-spark-read-load-for-dates/42868999#42868999", "title": "pyspark doesn&#39;t recognize MMM dateFormat pattern in spark.read.load() for dates like 1989Dec31 and 31Dec1989", "body": "<p>I haven't tested this but I'd give the following a try:</p>\n\n<pre><code>--conf spark.executor.extraJavaOptions=\"-Duser.timezone=America/Los_Angeles\"\n\n--conf spark.driver.extraJavaOptions=\"-Duser.timezone=America/Los_Angeles\"\n</code></pre>\n"}], "owner": {"reputation": 811, "user_id": 2757210, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/5653544b7c127a904c70088ca37fa75c?s=128&d=identicon&r=PG&f=1", "display_name": "pietrop", "link": "https://stackoverflow.com/users/2757210/pietrop"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1217, "favorite_count": 2, "accepted_answer_id": 42829439, "answer_count": 3, "score": 6, "last_activity_date": 1489796455, "creation_date": 1476304851, "last_edit_date": 1476368464, "question_id": 40007972, "link": "https://stackoverflow.com/questions/40007972/pyspark-doesnt-recognize-mmm-dateformat-pattern-in-spark-read-load-for-dates", "title": "pyspark doesn&#39;t recognize MMM dateFormat pattern in spark.read.load() for dates like 1989Dec31 and 31Dec1989", "body": "<p>I'm facing a very strange issue with <code>pyspark</code> <strong>on macOS Sierra</strong>. My goal is to parse dates in <code>ddMMMyyyy</code> format (eg: <code>31Dec1989</code>) but get errors. I run Spark 2.0.1, Python 2.7.10 and Java 1.8.0_101. I tried also using Anaconda 4.2.0 (it ships with Python 2.7.12), but get errors too.</p>\n\n<p>The same code on Ubuntu Server 15.04 with same Java version and Python 2.7.9 works without any error.</p>\n\n<p>The <a href=\"https://spark.apache.org/docs/latest/api/python/pyspark.sql.html?highlight=dateformat\" rel=\"noreferrer\">official documentation</a> about <code>spark.read.load()</code> states:</p>\n\n<blockquote>\n  <p><strong><code>dateFormat</code></strong> \u2013 sets the string that indicates a date format. Custom date\n  formats follow the formats at <code>java.text.SimpleDateFormat</code>. This applies\n  to date type. If None is set, it uses the default value value,\n  <code>yyyy-MM-dd</code>.</p>\n</blockquote>\n\n<p>The <a href=\"http://docs.oracle.com/javase/8/docs/api/java/text/SimpleDateFormat.html\" rel=\"noreferrer\">official Java documentation</a> talks about <code>MMM</code> as the right format to parse month names like <code>Jan</code>, <code>Dec</code>, etc. but it throws a lot of errors starting with <code>java.lang.IllegalArgumentException</code>.\nThe documentation states that <code>LLL</code> can be used too, but <code>pyspark</code> doesn't recognize it and throws <code>pyspark.sql.utils.IllegalArgumentException: u'Illegal pattern component: LLL'</code>.</p>\n\n<p>I know of another solution to <code>dateFormat</code>, but this is the fastest way to parse data and the simplest to code. What am I missing here?</p>\n\n<p>In order to run the following examples you simply have to place <code>test.csv</code> and <code>test.py</code> in the same directory, then run <code>&lt;spark-bin-directory&gt;/spark-submit &lt;working-directory&gt;/test.py</code>.</p>\n\n<h2>My test case using <code>ddMMMyyyy</code> format</h2>\n\n<p>I have a plain-text file named <code>test.csv</code> containing the following two lines:</p>\n\n<pre><code>col1\n31Dec1989\n</code></pre>\n\n<p>and the code is the following:</p>\n\n<pre><code>from pyspark.sql import SparkSession\nfrom pyspark.sql.types import *\n\nspark = SparkSession \\\n    .builder \\\n    .appName(\"My app\") \\\n    .config(\"spark.some.config.option\", \"some-value\") \\\n    .getOrCreate()\n\nstruct = StructType([StructField(\"column\", DateType())])\ndf = spark.read.load(   \"test.csv\", \\\n                            schema=struct, \\\n                            format=\"csv\", \\\n                            sep=\",\", \\\n                            header=\"true\", \\\n                            dateFormat=\"ddMMMyyyy\", \\\n                            mode=\"FAILFAST\")\ndf.show()\n</code></pre>\n\n<p>I get errors. I tried also moving month name before or after days and year (eg: <code>1989Dec31</code> and <code>yyyyMMMdd</code>) without success.</p>\n\n<h2>A working example using <code>ddMMyyyy</code> format</h2>\n\n<p>This example is identical to the previous one except from the date format. <code>test.csv</code> now contains:</p>\n\n<pre><code>col1\n31121989\n</code></pre>\n\n<p>The following code prints the content of <code>test.csv</code>:</p>\n\n<pre><code>from pyspark.sql import SparkSession\nfrom pyspark.sql.types import *\n\nspark = SparkSession \\\n    .builder \\\n    .appName(\"My app\") \\\n    .config(\"spark.some.config.option\", \"some-value\") \\\n    .getOrCreate()\n\nstruct = StructType([StructField(\"column\", DateType())])\ndf = spark.read.load(   \"test.csv\", \\\n                            schema=struct, \\\n                            format=\"csv\", \\\n                            sep=\",\", \\\n                            header=\"true\", \\\n                            dateFormat=\"ddMMyyyy\", \\\n                            mode=\"FAILFAST\")\ndf.show()\n</code></pre>\n\n<p>The ouput is the following (I omit the various verbose lines):</p>\n\n<pre><code>+----------+\n|    column|\n+----------+\n|1989-12-31|\n+----------+\n</code></pre>\n\n<hr>\n\n<blockquote>\n  <p><strong>UPDATE1</strong></p>\n</blockquote>\n\n<p>I made a simple Java class that uses <code>java.text.SimpleDateFormat</code>:</p>\n\n<pre><code>import java.text.*;\nimport java.util.Date;\n\nclass testSimpleDateFormat \n{\n    public static void main(String[] args) \n    {\n        SimpleDateFormat format = new SimpleDateFormat(\"yyyyMMMdd\");\n        String dateString = \"1989Dec31\";\n\n        try {\n            Date parsed = format.parse(dateString);\n            System.out.println(parsed.toString());\n        }\n        catch(ParseException pe) {\n            System.out.println(\"ERROR: Cannot parse \\\"\" + dateString + \"\\\"\");\n        }       \n    }\n}\n</code></pre>\n\n<p>This code doesn't work on my environment and throws this error:</p>\n\n<pre><code>java.text.ParseException: Unparseable date: \"1989Dec31\"\n</code></pre>\n\n<p>but works perfectly on another system (Ubuntu 15.04). This seems a Java issue, but I don't know how to solve it. I installed the latest available version of Java and all of my software has been updated.</p>\n\n<p>Any ideas?</p>\n\n<hr>\n\n<blockquote>\n  <p><strong>UPDATE2</strong></p>\n</blockquote>\n\n<p>I've found how to make it work under pure Java by specifying <code>Locale.US</code>:</p>\n\n<pre><code>import java.text.*;\nimport java.util.Date;\nimport java.util.*;\n\nclass HelloWorldApp \n{\n    public static void main(String[] args) \n    {\n        SimpleDateFormat format = new SimpleDateFormat(\"yyyyMMMdd\", Locale.US);\n        String dateString = \"1989Dec31\";\n\n        try {\n            Date parsed = format.parse(dateString);\n            System.out.println(parsed.toString());\n        }\n        catch(ParseException pe) {\n            System.out.println(pe);\n            System.out.println(\"ERROR: Cannot parse \\\"\" + dateString + \"\\\"\");\n        }       \n    }\n}\n</code></pre>\n\n<p>Now, the question becomes: <strong>how to specify Java's Locale in <code>pyspark</code>?</strong></p>\n"}, {"tags": ["python", "pandas", "max", "panel", "vectorization"], "answers": [{"comments": [{"owner": {"reputation": 1393, "user_id": 4263878, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/c95a66d30180a95353e7e655d0020f51?s=128&d=identicon&r=PG&f=1", "display_name": "MJS", "link": "https://stackoverflow.com/users/4263878/mjs"}, "edited": false, "score": 0, "creation_date": 1476382176, "post_id": 40026017, "comment_id": 67333308, "body": "nicely done, pi. thanks a ton. if you were going to try to replace the item # with the item name, would you map back to the name with a dict?"}, {"owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "reply_to_user": {"reputation": 1393, "user_id": 4263878, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/c95a66d30180a95353e7e655d0020f51?s=128&d=identicon&r=PG&f=1", "display_name": "MJS", "link": "https://stackoverflow.com/users/4263878/mjs"}, "edited": false, "score": 0, "creation_date": 1476383199, "post_id": 40026017, "comment_id": 67333855, "body": "@MJS something like that, yes."}], "tags": [], "owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "is_accepted": true, "score": 1, "last_activity_date": 1476375043, "creation_date": 1476375043, "answer_id": 40026017, "question_id": 40007866, "link": "https://stackoverflow.com/questions/40007866/python-pandas-identify-row-of-rolling-maximum-value-from-panel/40026017#40026017", "title": "python pandas - identify row of rolling maximum value from panel?", "body": "<p>consider the <code>pd.Panel</code> <code>p</code></p>\n\n<pre><code>dfs = dict(\n    one=pd.DataFrame(np.random.randint(1, 10, (5, 5))),\n    two=pd.DataFrame(np.random.randint(1, 10, (5, 5))),\n    three=pd.DataFrame(np.random.randint(1, 10, (5, 5))),\n)\n\np = pd.Panel(dfs)\np.to_frame().unstack()\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/i5lzc.png\" rel=\"nofollow\"><img src=\"https://i.stack.imgur.com/i5lzc.png\" alt=\"enter image description here\"></a></p>\n\n<hr>\n\n<p>the <code>pd.Panel</code> object doesn't have an <code>idxmax</code> method.  But the underlying numpy array does have the <code>argmax</code> method.  I've built this custom function to leverage that.</p>\n\n<pre><code>def idxmax(pn, axis=0):\n    indices = pd.Series(['items', 'major_axis', 'minor_axis'])\n    idx, col = indices.drop(axis)\n    return pd.DataFrame(pn.values.argmax(axis),\n                        pn.__getattribute__(idx),\n                        pn.__getattribute__(col))\n</code></pre>\n\n<hr>\n\n<p><strong><em>usage</em></strong>  </p>\n\n<pre><code>idxmax(p, 0)\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/yv19F.png\" rel=\"nofollow\"><img src=\"https://i.stack.imgur.com/yv19F.png\" alt=\"enter image description here\"></a></p>\n\n<pre><code>idxmax(p, 1)\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/g6DCM.png\" rel=\"nofollow\"><img src=\"https://i.stack.imgur.com/g6DCM.png\" alt=\"enter image description here\"></a></p>\n\n<pre><code>idxmax(p, 2)\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/Yj7QL.png\" rel=\"nofollow\"><img src=\"https://i.stack.imgur.com/Yj7QL.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 1393, "user_id": 4263878, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/c95a66d30180a95353e7e655d0020f51?s=128&d=identicon&r=PG&f=1", "display_name": "MJS", "link": "https://stackoverflow.com/users/4263878/mjs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 268, "favorite_count": 0, "accepted_answer_id": 40026017, "answer_count": 1, "score": 1, "last_activity_date": 1476375043, "creation_date": 1476304410, "last_edit_date": 1495541216, "question_id": 40007866, "link": "https://stackoverflow.com/questions/40007866/python-pandas-identify-row-of-rolling-maximum-value-from-panel", "title": "python pandas - identify row of rolling maximum value from panel?", "body": "<p>Does Panel have anything like pan.idxmax(axis='items') which could return the row # or index for the largest value as in the question linked below which piRSquared answered perfectly? </p>\n\n<p><a href=\"https://stackoverflow.com/questions/40000718/python-pandas-possible-to-compare-3-dfs-of-same-shape-using-wheremax-is-thi\">Link to original question</a></p>\n\n<p>Thanks!</p>\n"}, {"tags": ["python", "list", "save"], "comments": [{"owner": {"reputation": 4426, "user_id": 4099813, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d53c6c37d906b105371aeff8bbe0603?s=128&d=identicon&r=PG&f=1", "display_name": "MooingRawr", "link": "https://stackoverflow.com/users/4099813/mooingrawr"}, "edited": false, "score": 0, "creation_date": 1476304452, "post_id": 40007864, "comment_id": 67293699, "body": "Write your list to a file, and when script runs, load the file again."}], "answers": [{"tags": [], "owner": {"reputation": 230015, "user_id": 8206, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/fc761ccaf6c0d7d977e2959f9bfebd06?s=128&d=identicon&r=PG", "display_name": "Eli Bendersky", "link": "https://stackoverflow.com/users/8206/eli-bendersky"}, "is_accepted": false, "score": 3, "last_activity_date": 1476304603, "creation_date": 1476304603, "answer_id": 40007908, "question_id": 40007864, "link": "https://stackoverflow.com/questions/40007864/how-to-save-lists-that-have-been-changed-during-execution/40007908#40007908", "title": "How to save lists that have been changed during execution?", "body": "<p>The canonical way to do this in Python is with the <code>pickle</code> module. For Python 3 the <a href=\"https://docs.python.org/3.5/library/pickle.html\" rel=\"nofollow\">documentation is here</a>. An example from this documentation:</p>\n\n<pre><code>import pickle\n\n# An arbitrary collection of objects supported by pickle.\ndata = {\n    'a': [1, 2.0, 3, 4+6j],\n    'b': (\"character string\", b\"byte string\"),\n    'c': {None, True, False}\n}\n\nwith open('data.pickle', 'wb') as f:\n    # Pickle the 'data' dictionary using the highest protocol available.\n    pickle.dump(data, f, pickle.HIGHEST_PROTOCOL)\n</code></pre>\n\n<p>This example saves a nested data structure (a dict with some lists, sets and tuples in it) into a file named <code>data.pickle</code>. Here's how it can be loaded back:</p>\n\n<pre><code>import pickle\n\nwith open('data.pickle', 'rb') as f:\n    # The protocol version used is detected automatically, so we do not\n    # have to specify it.\n    data = pickle.load(f)\n</code></pre>\n"}], "owner": {"reputation": 9, "user_id": 6715267, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/596d02b412aafe7f7d5941035315ef1a?s=128&d=identicon&r=PG&f=1", "display_name": "TAL", "link": "https://stackoverflow.com/users/6715267/tal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 31, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1476306244, "creation_date": 1476304408, "last_edit_date": 1476306244, "question_id": 40007864, "link": "https://stackoverflow.com/questions/40007864/how-to-save-lists-that-have-been-changed-during-execution", "title": "How to save lists that have been changed during execution?", "body": "<p>So, Im making a text based Rpg (very similar to Progress Quest). The only lists worth saving are the weapons and items lists as well as your name and class. At the beginning of the game, you get those two lists emptied and your name reset to 0.</p>\n\n<p><code>weapons = []</code> That is how it starts.</p>\n\n<p><code>weapons = [\"sword\", \"bow\", \"staff\"]</code> That is how it ends.</p>\n\n<p>I want a way to be able to start the same or a copy of the program with those elements saved. How do I do that? The following is the entire script... and please note, I'm making this just for fun and so i know ways to make it better and bigger; please, just comment on the topic im posting about.</p>\n\n<pre><code>import time\nimport random\n\nallThings = [\"gold coin\", \"Silver Coin\", \"Copper Coin\", \"Twinkies\",\n             \"Human Tissue\", \"Stuffed Bear\", \"Hulk Toy\", \"Pen\", \"Bobblehead\",\n             \"Charger\", \"Lenovo Thinkpad Modle T420\",\n             \"Stephen King Book: Full Dark, No Stars\", \"Toy Laser Gun\",\n             \"Car Keys\", \"Alarm Clock\", \"Casio Watch\", \"Python Manual\",\n             \"Tissues\", \"Screws\", \"Spare CDs\", \"USB Flash Drive\", \"Spoon\",\n             \"Fork\", \"Kitchen Knife\", \"BasketBall\", \"Paper Bag\",\n             \"Crubled Paper\", \"Water Bottle\", \"Technical Document\",\n             \"Plastic Glove\", \"Toy Bus\", \"Gas Canister\", \"Bracelet\",\n             \"Space Suit\", \"Nuclear Bomb\", \"Test Tubes\", \"Light Bulb\",\n             \"Mirror\", \"Gun Powder\", \"Arrow\", \"Human Brain\", \"Human Heart\",\n             \"Human Kidney\", \"Human Lung\", \"Human Stomach\"]\nEnemies = [\"a Corrupted Police Officer\", \"A Half-Lizard\", \"A Dog\",\n           \"A Failed Surgery Client\"]\ninv = []\nEquip = []\nEquipAll = [\"Sharp Stick\", \"Sharp Metal Scrap\", \"Pin\", \"Pencil\", \"Raw Thick\n            Stick\", \"Moddified Stick\", \"Grandpa's Axe\", \"Cursed Axe\", \"Fine\n            Blade\", \"Wooden Sword\", \"BB Gun\", \"Nerf Gun\", \"Human Arm\", \"22.\n            Caliber Pistol\", \"45. Caliber Pistol\", \"Colt 45.\", \"9mm Pistol\",\n            \"Ice Staff\", \"Fire Staff\", \"5.66mm Bullpup Rifle\", \"7.22 Assault\n            Rifle\", \"357. Magnum\", \"44. Magnum\", \"FAL Rifle\", \"7.62mm Rifle\",\n            \"308. Rifle\", \"Laser Kilo Gun\", \"Laser Mega Gun\",\n            \"Laser Deca Gun\", \"Laser Hecto Gun\", \"Laser Giga Gun\",\n            \"Laser Tera Gun\", \"Laser Peta Gun\", \"Laser Exa Gun\",\n            \"Laser Zeta Gun\", \"Laser Yotta Gun\", \"Inferno Blade\",\n            \"Blade of the Red Dragon\", \"Frag Granade\", \"Spear\", \"Shotgun\",\n            \"308. Sniper Rifle\", \"Bow\", \"Attack Dog\", \"Rolling Pin\"]\nchance = [\"1\", \"2\", \"3\", \"4\", \"5\"]\ndebt = 1000000\nname = 0\n\nc = 0\nx = 0\ny = 0\n\ndef Start():\n    global debt\n    if len(inv)&lt;10:\n        x = random.choice(allThings)\n        print \"*********************************************************************\"\n        print(\"You came across and executed \" + random.choice(Enemies) + \" ...\")\n        time.sleep(5)\n        print \"--------------------------------------------------------------------\"\n        print(\"You found \" + x + \" ...\")\n        inv.append(x)\n        c = random.choice(chance)\n        if c == (\"1\"):\n            print \"----------------------------------------------------------------\"\n            y = random.choice(EquipAll)\n            print(\"You found \" + y + \" as a weapon...\")\n            Equip.append(y)\n            print \"****************************************************************\"\n        print \"\\n\"\n        print \"////////////////////////////////////////\"\n        print(\"Name: \" + name + \"  Race: \" + race)\n        print\"____________________________\"\n        print(\"Debt due: \" + str(debt))\n        print\"____________________________\"\n        print \"Items: \\n\"\n        print inv\n        print \"___________________________\"\n        print \"Weapons: \\n\"\n        print Equip\n        print \"////////////////////////////////////////\"\n        time.sleep(7)\n        print \"\\n\"\n        print \"\\n\"\n        print \"\\n\"\n        print \"\\n\"\n        print \"\\n\"\n        print \"\\n\"\n        print \"\\n\"\n        print \"\\n\"\n        print \"\\n\"\n        print \"\\n\"\n        Start()\n    elif len(inv)&gt;9:\n        print \"+++++++++++++++++++++++\"\n        print \"+Going to pawn shop...+\"\n        print \"+++++++++++++++++++++++\"\n        time.sleep(5)\n        print(\"Selling \" + str(inv) + \" ...\")\n        inv[:] = []\n        time.sleep(13)\n        print \"\\n\"\n        print \"Items sold. You got $10\"\n        debt = debt - 10\n        time.sleep(5)\n        print \"Heading back to the world\"\n        time.sleep(10)\n        print \"\\n\"\n        print \"\\n\"\n        print \"\\n\"\n        print \"\\n\"\n        Start()\n\nprint \"-------------------THE 2017 Executioner------------------------\"\nprint\"Select your name:\"\nname = raw_input()\nprint \"\\n\"\nprint \"Select your race: Half-Lizard, Octopus, etc (You can even make one up):\"\nrace = raw_input()\nprint \"\\n\"\nprint \"One last thing... are you a man or a woman?\"\nsex = raw_input()\nprint \"\\n\"\nprint \"******************************************************************************\"\nprint \"****************************Your Story Begins Here****************************\"\nprint \"******************************************************************************\"\nprint \"\\n\"\nprint \"\\n\"\nprint \"Underground Medical Files:\"\nprint \"\\n\"\nprint(\"Our latest client, \" + name + \", has suffered a terrible accident...\"\n      + name + \" was brought here by some friends... We set up a 'full body \"\n      \"surgery' for this \" + sex + \" ...\" + name + \" decided to become a \"\n      + race + \".... this is the most expensive surgery we have ever done\"\n      \"... We thought \" + name + \" would be able to pay for it... But after \"\n      \"we said that they were in debt.... well, the client went full-on \"\n      \"beserk .... Now this \" + race + \" is going around the world doing \"\n      \"who-knows-what....\" + \"\\n\" + \" Signed, /\\\\@..... Director of the \"\n      \"illegal underground Hospital and Surgeries\")\nxcv = raw_input(\"Press Enter to Begin...\")\nprint \"\\n\"\nprint \"\\n\"\nprint \"Loading...\"\ntime.sleep(30)\nprint \"\\n\"\n\nStart()\n</code></pre>\n"}, {"tags": ["python", "ffmpeg", "wsgi", "python-multithreading", "python-multiprocessing"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 6713901, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/828e04b1ed3346a40f53a0cde6574801?s=128&d=identicon&r=PG&f=1", "display_name": "lordcantide", "link": "https://stackoverflow.com/users/6713901/lordcantide"}, "edited": false, "score": 0, "creation_date": 1477400995, "post_id": 40014136, "comment_id": 67743646, "body": "Thanks Harry! Sorry for the slow response. I like the tutorial you provided and will see if I can implement it over the weekend."}], "tags": [], "owner": {"reputation": 3054, "user_id": 3824723, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/f9452c148ef11e6ab447ef9c261a21b3?s=128&d=identicon&r=PG&f=1", "display_name": "CoMartel", "link": "https://stackoverflow.com/users/3824723/comartel"}, "is_accepted": false, "score": 0, "last_activity_date": 1476341422, "creation_date": 1476341422, "answer_id": 40014136, "question_id": 40007815, "link": "https://stackoverflow.com/questions/40007815/multiprocessing-multithreading-ffmpeg-in-python/40014136#40014136", "title": "Multiprocessing | Multithreading ffmpeg in python", "body": "<p>I don't really understand your whole process, but IMO you should start with <code>multithreading</code>, as it is much easier to setup (variables are shared like usual in Python). IF that doesn't meet your requirement (e.g not fast enough), you can move to <code>multiprocessing</code> but it will increase the complexity if you never used <code>multiprocessing</code> in Python (no communication between <code>process</code>, need to use <code>queues</code> or shared variables).</p>\n\n<p>Setup your threads :</p>\n\n<pre><code>import threading \na = threading.Thread(target = func, args=(vars)) \na.start() \n</code></pre>\n\n<p>A nice tutorial <a href=\"https://pymotw.com/2/threading/\" rel=\"nofollow\">here.</a></p>\n\n<p>You should also know about python's <a href=\"https://en.wikipedia.org/wiki/Global_interpreter_lock\" rel=\"nofollow\">GIL</a> to understand what you are doing in Threading/multiprocessing .</p>\n"}], "owner": {"reputation": 1, "user_id": 6713901, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/828e04b1ed3346a40f53a0cde6574801?s=128&d=identicon&r=PG&f=1", "display_name": "lordcantide", "link": "https://stackoverflow.com/users/6713901/lordcantide"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1992, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1476341422, "creation_date": 1476304262, "question_id": 40007815, "link": "https://stackoverflow.com/questions/40007815/multiprocessing-multithreading-ffmpeg-in-python", "title": "Multiprocessing | Multithreading ffmpeg in python", "body": "<p>I am developing a <a href=\"https://github.com/lordcantide/Alien-FFMPEG-Transcoder-Framework-for-HDHomeRun-PRIME\" rel=\"nofollow\">python WSGI script</a> to interface with an HDHomeRun Prime. In a perfect world it will pass URI values as commands to FFMPEG and display the resulting stream in a browser. I have the \"show stuff in browser\" and the \"pass instructions to FFMPEG\" parts working fine, but I do not have them working simultaneously.</p>\n\n<p>1) Given that this middleware is being used to transcode MPEG-2 to h.264, does it make more sense to use multiprocessing or multithread to start and stop the respective processes?</p>\n\n<p>2) If the WSGI script is brokering the initiation of FFMPEG feeds (if the input feed isn't already brokered) and connecting clients to the associated FFServer streams, does mean I'll need to use some sort of pool to keep track of the middleware's activities?</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 2559, "user_id": 5087125, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6R64Z.jpg?s=128&g=1", "display_name": "pvg", "link": "https://stackoverflow.com/users/5087125/pvg"}, "edited": false, "score": 1, "creation_date": 1476304494, "post_id": 40007802, "comment_id": 67293723, "body": "Are you actually launching your python script from a windows console?"}, {"owner": {"reputation": 73, "user_id": 4119113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d9d2751c68674faf4ba305c40933832e?s=128&d=identicon&r=PG&f=1", "display_name": "TheDude", "link": "https://stackoverflow.com/users/4119113/thedude"}, "reply_to_user": {"reputation": 2559, "user_id": 5087125, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6R64Z.jpg?s=128&g=1", "display_name": "pvg", "link": "https://stackoverflow.com/users/5087125/pvg"}, "edited": false, "score": 0, "creation_date": 1476362120, "post_id": 40007802, "comment_id": 67318945, "body": "That did it. Now I feel like an idiot."}], "answers": [{"comments": [{"owner": {"reputation": 73, "user_id": 4119113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d9d2751c68674faf4ba305c40933832e?s=128&d=identicon&r=PG&f=1", "display_name": "TheDude", "link": "https://stackoverflow.com/users/4119113/thedude"}, "edited": false, "score": 4, "creation_date": 1476362267, "post_id": 40008031, "comment_id": 67319059, "body": "Is there a <code>getpass()</code> equivalent that can run on the PyCharm console?"}, {"owner": {"reputation": 3125, "user_id": 2878796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8bxWv.png?s=128&g=1", "display_name": "UnholySheep", "link": "https://stackoverflow.com/users/2878796/unholysheep"}, "reply_to_user": {"reputation": 73, "user_id": 4119113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d9d2751c68674faf4ba305c40933832e?s=128&d=identicon&r=PG&f=1", "display_name": "TheDude", "link": "https://stackoverflow.com/users/4119113/thedude"}, "edited": false, "score": 1, "creation_date": 1476377436, "post_id": 40008031, "comment_id": 67330761, "body": "None that I know of. Also running the script in debug mode in PyCharm might work as well (It worked on my machine but I saw reports that that is not always the case)"}], "tags": [], "owner": {"reputation": 3125, "user_id": 2878796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8bxWv.png?s=128&g=1", "display_name": "UnholySheep", "link": "https://stackoverflow.com/users/2878796/unholysheep"}, "is_accepted": true, "score": 16, "last_activity_date": 1476305067, "creation_date": 1476305067, "answer_id": 40008031, "question_id": 40007802, "link": "https://stackoverflow.com/questions/40007802/getpass-getpass-function-in-python-not-working/40008031#40008031", "title": "getpass.getpass() function in Python not working?", "body": "<p>The problem you have is that you are launching it via PyCharm, which has it's own console (and is not the console used by <code>getpass</code>)</p>\n\n<p>Running the code via a command prompt should work</p>\n"}, {"comments": [{"owner": {"reputation": 3778, "user_id": 1631197, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/Y28vX.jpg?s=128&g=1", "display_name": "codingjeremy", "link": "https://stackoverflow.com/users/1631197/codingjeremy"}, "edited": false, "score": 0, "creation_date": 1567632002, "post_id": 54035426, "comment_id": 102024654, "body": "Worked in debug for me both with and without checking this option. Only difference is without it checked, it actually showed the password I typed. BTW, I was using Intellij with Python plugin."}], "tags": [], "owner": {"reputation": 21111, "user_id": 32043, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/3df83952dc426143757b8891f68bfbfc?s=128&d=identicon&r=PG", "display_name": "guerda", "link": "https://stackoverflow.com/users/32043/guerda"}, "is_accepted": false, "score": 16, "last_activity_date": 1546590596, "creation_date": 1546590596, "answer_id": 54035426, "question_id": 40007802, "link": "https://stackoverflow.com/questions/40007802/getpass-getpass-function-in-python-not-working/54035426#54035426", "title": "getpass.getpass() function in Python not working?", "body": "<p>For PyCharm 2018.3\nGo to 'Edit Configurations' and then select 'Emulate terminal in output console'.</p>\n\n<p><a href=\"https://i.stack.imgur.com/UVsZV.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/UVsZV.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://stackoverflow.com/a/53778766/32043\">Answer provided by Abhyudaya Sharma</a></p>\n"}], "owner": {"reputation": 73, "user_id": 4119113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d9d2751c68674faf4ba305c40933832e?s=128&d=identicon&r=PG&f=1", "display_name": "TheDude", "link": "https://stackoverflow.com/users/4119113/thedude"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 16069, "favorite_count": 0, "accepted_answer_id": 40008031, "answer_count": 2, "score": 7, "last_activity_date": 1546590596, "creation_date": 1476304235, "question_id": 40007802, "link": "https://stackoverflow.com/questions/40007802/getpass-getpass-function-in-python-not-working", "title": "getpass.getpass() function in Python not working?", "body": "<p>Running on Windows 7 and using PyCharm 2016.2.3 if that matters at all.</p>\n\n<p>Anyway, I'm trying to write a program that sends an email to recipients, but I want the console to prompt for a password to login.</p>\n\n<p>I heard that <code>getpass.getpass()</code> can be used to hide the input. </p>\n\n<p>Here is my code:</p>\n\n<pre><code>import smtplib\nimport getpass\n\nimport sys\n\nprint('Starting...')\n\nSERVER = \"localhost\"\nFROM = \"my@email.com\"\n\nwhile True:\n    password = getpass.getpass()\n    try:\n        smtpObj = smtplib.SMTP(SERVER)\n        smtpObj.login(FROM, password)\n        break\n    except smtplib.SMTPAuthenticationError:\n        print(\"Wrong Username/Password.\")\n    except ConnectionRefusedError:\n        print(\"Connection refused.\")\n        sys.exit()\n\nTO = [\"your@email.com\"] \nSUBJECT = \"Hello!\"\nTEXT = \"msg text\"\n\nmessage = \"\"\"\\\nFrom: %s\nTo: %s\nSubject: %s\n\n%s\n\"\"\" % (FROM, \", \".join(TO), SUBJECT, TEXT)\n\nsmtpObj.sendmail(FROM, TO, message)\nsmtpObj.close()\nprint(\"Successfully sent email\")\n</code></pre>\n\n<p>But when I run my code, here is the output:</p>\n\n<pre><code> Starting...\n /Nothing else appears/\n</code></pre>\n\n<p>I know the default prompt for <code>getpass()</code> is <code>'Password:'</code> but I get the same result even when I pass it a prompt string.</p>\n\n<p>Any suggestions?</p>\n\n<p>EDIT: The code continues to run indefinitely after it prints the string, but nothing else appears and no emails are sent.</p>\n"}, {"tags": ["python", "performance", "loops"], "comments": [{"owner": {"reputation": 35962, "user_id": 1399279, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/e2e566682f50d53a06a121d82f7ed8de?s=128&d=identicon&r=PG", "display_name": "SethMMorton", "link": "https://stackoverflow.com/users/1399279/sethmmorton"}, "edited": false, "score": 1, "creation_date": 1476304377, "post_id": 40007800, "comment_id": 67293669, "body": "Is there a reason you want <code>T_n</code> to be a list of list instead of a numpy matrix?"}, {"owner": {"reputation": 1432, "user_id": 4088415, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/d699654ac42582b4569e2d24b183ac91?s=128&d=identicon&r=PG&f=1", "display_name": "MichaelA", "link": "https://stackoverflow.com/users/4088415/michaela"}, "edited": false, "score": 0, "creation_date": 1476304384, "post_id": 40007800, "comment_id": 67293674, "body": "Could you please provide some example data for TT, p, F and T_n. Than this would be a working example to be easily tested (of course, we can create random matrices of our own, but the other way your code would be copy &amp; paste executable (if you also include imports...)."}, {"owner": {"reputation": 6200, "user_id": 1040092, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/se31H.jpg?s=128&g=1", "display_name": "Wondercricket", "link": "https://stackoverflow.com/users/1040092/wondercricket"}, "edited": false, "score": 0, "creation_date": 1476304491, "post_id": 40007800, "comment_id": 67293720, "body": "You may also want to ask on <a href=\"http://codereview.stackexchange.com/\">Code Review</a>"}, {"owner": {"reputation": 6953, "user_id": 778533, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/XEGLp.jpg?s=128&g=1", "display_name": "tommy.carstensen", "link": "https://stackoverflow.com/users/778533/tommy-carstensen"}, "edited": false, "score": 0, "creation_date": 1476304672, "post_id": 40007800, "comment_id": 67293818, "body": "Have you tried running a profiler to see which part of the code is slow? <a href=\"https://docs.python.org/3/library/profile.html\" rel=\"nofollow noreferrer\">docs.python.org/3/library/profile.html</a>"}, {"owner": {"reputation": 1, "user_id": 7010058, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/319140e535e83af203bfcaee47bdf386?s=128&d=identicon&r=PG&f=1", "display_name": "Ali", "link": "https://stackoverflow.com/users/7010058/ali"}, "edited": false, "score": 0, "creation_date": 1476388504, "post_id": 40007800, "comment_id": 67336794, "body": "Roughly half of the computational time is consumed by the nested loop and the other half is consumed by the matrix multiplication."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 7010058, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/319140e535e83af203bfcaee47bdf386?s=128&d=identicon&r=PG&f=1", "display_name": "Ali", "link": "https://stackoverflow.com/users/7010058/ali"}, "edited": false, "score": 0, "creation_date": 1476387940, "post_id": 40007999, "comment_id": 67336493, "body": "Thank you for your suggestions. I tried two different methods in order to replace nested loop with a single line of code: list comprehensions, and numpy.einsum. However, nested loops were faster compare to both alternatives."}], "tags": [], "owner": {"reputation": 230015, "user_id": 8206, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/fc761ccaf6c0d7d977e2959f9bfebd06?s=128&d=identicon&r=PG", "display_name": "Eli Bendersky", "link": "https://stackoverflow.com/users/8206/eli-bendersky"}, "is_accepted": false, "score": 0, "last_activity_date": 1476304914, "creation_date": 1476304914, "answer_id": 40007999, "question_id": 40007800, "link": "https://stackoverflow.com/questions/40007800/speeding-up-nested-loops-in-python/40007999#40007999", "title": "Speeding up nested loops in python", "body": "<p>The way to do these things quickly is to use Numpy's built-in functions and operators to perform the operations. Numpy is implemented internally with optimized C code and if you set up your computation properly, it will run much faster.</p>\n\n<p>But leveraging Numpy effectively can sometimes be tricky. It's called \"vectorizing\" your code - you have to figure out how to express it in a way that acts on whole arrays, rather than with explicit loops.</p>\n\n<p>For example in your loop you have <code>p[i] * T_n[j][i]</code>, which IMHO can be done with a vector-by-matrix multiplication: if v is 1x6 and m is 6x6 then <code>v.dot(m)</code> is 1x6 that computes dot products of <code>v</code> with the columns of <code>m</code>. You can use transposes and reshapes to work in different dimensions, if necessary.</p>\n"}], "owner": {"reputation": 1, "user_id": 7010058, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/319140e535e83af203bfcaee47bdf386?s=128&d=identicon&r=PG&f=1", "display_name": "Ali", "link": "https://stackoverflow.com/users/7010058/ali"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 128, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1476304914, "creation_date": 1476304227, "question_id": 40007800, "link": "https://stackoverflow.com/questions/40007800/speeding-up-nested-loops-in-python", "title": "Speeding up nested loops in python", "body": "<p>How can I speed up this code in python?</p>\n\n<pre><code>while ( norm_corr &gt; corr_len ): \n\n    correlation = 0.0\n\n    for i in xrange(6):\n        for j in xrange(6):\n            correlation += (p[i] * T_n[j][i]) * ((F[j] - Fbar) * (F[i] - Fbar))      \n\n    Integral += correlation\n    T_n =np.mat(T_n) * np.mat(TT)\n    T_n = T_n.tolist()\n    norm_corr = correlation / variance \n</code></pre>\n\n<p>Here, TT is a fixed 6x6 matrix, p is a fixed 1x6 matrix, and F is fixed 1x6 matrix. T_n is the nth power of TT. </p>\n\n<p>This while loop might be repeated for 10^4 times.</p>\n"}, {"tags": ["python", "tensorflow"], "comments": [{"owner": {"reputation": 739, "user_id": 375348, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/dcd2a47c3aea0a550f4e6e2c7865c025?s=128&d=identicon&r=PG", "display_name": "user375348", "link": "https://stackoverflow.com/users/375348/user375348"}, "edited": false, "score": 0, "creation_date": 1476304544, "post_id": 40007785, "comment_id": 67293750, "body": "How have you imported TensorFlow ( eg: import tensorflow as tf )?"}, {"owner": {"reputation": 331, "user_id": 5982950, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/e30f4274dc6fa3ade80d0685a72fd90a?s=128&d=identicon&r=PG&f=1", "display_name": "Vacassal Alsk", "link": "https://stackoverflow.com/users/5982950/vacassal-alsk"}, "reply_to_user": {"reputation": 739, "user_id": 375348, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/dcd2a47c3aea0a550f4e6e2c7865c025?s=128&d=identicon&r=PG", "display_name": "user375348", "link": "https://stackoverflow.com/users/375348/user375348"}, "edited": false, "score": 0, "creation_date": 1476305312, "post_id": 40007785, "comment_id": 67294158, "body": "yep, I just copy their code to a python file and runs it...."}, {"owner": {"reputation": 739, "user_id": 375348, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/dcd2a47c3aea0a550f4e6e2c7865c025?s=128&d=identicon&r=PG", "display_name": "user375348", "link": "https://stackoverflow.com/users/375348/user375348"}, "edited": false, "score": 0, "creation_date": 1476305526, "post_id": 40007785, "comment_id": 67294298, "body": "what is the name of the file you&#39;re executing?"}, {"owner": {"reputation": 331, "user_id": 5982950, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/e30f4274dc6fa3ade80d0685a72fd90a?s=128&d=identicon&r=PG&f=1", "display_name": "Vacassal Alsk", "link": "https://stackoverflow.com/users/5982950/vacassal-alsk"}, "reply_to_user": {"reputation": 739, "user_id": 375348, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/dcd2a47c3aea0a550f4e6e2c7865c025?s=128&d=identicon&r=PG", "display_name": "user375348", "link": "https://stackoverflow.com/users/375348/user375348"}, "edited": false, "score": 0, "creation_date": 1476305609, "post_id": 40007785, "comment_id": 67294336, "body": "I copy everything into contrib_learn_quick.py and just python  contrib_learn_quick.py"}, {"owner": {"reputation": 739, "user_id": 375348, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/dcd2a47c3aea0a550f4e6e2c7865c025?s=128&d=identicon&r=PG", "display_name": "user375348", "link": "https://stackoverflow.com/users/375348/user375348"}, "edited": false, "score": 0, "creation_date": 1476305944, "post_id": 40007785, "comment_id": 67294510, "body": "can you post your whole code please?"}, {"owner": {"reputation": 331, "user_id": 5982950, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/e30f4274dc6fa3ade80d0685a72fd90a?s=128&d=identicon&r=PG&f=1", "display_name": "Vacassal Alsk", "link": "https://stackoverflow.com/users/5982950/vacassal-alsk"}, "reply_to_user": {"reputation": 739, "user_id": 375348, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/dcd2a47c3aea0a550f4e6e2c7865c025?s=128&d=identicon&r=PG", "display_name": "user375348", "link": "https://stackoverflow.com/users/375348/user375348"}, "edited": false, "score": 0, "creation_date": 1476306308, "post_id": 40007785, "comment_id": 67294722, "body": "posted, just the same as the one online"}], "answers": [{"tags": [], "owner": {"reputation": 331, "user_id": 5982950, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/e30f4274dc6fa3ade80d0685a72fd90a?s=128&d=identicon&r=PG&f=1", "display_name": "Vacassal Alsk", "link": "https://stackoverflow.com/users/5982950/vacassal-alsk"}, "is_accepted": false, "score": 0, "last_activity_date": 1476310540, "creation_date": 1476310540, "answer_id": 40009254, "question_id": 40007785, "link": "https://stackoverflow.com/questions/40007785/why-tensor-flow-could-not-load-csv/40009254#40009254", "title": "Why tensor flow could not load csv", "body": "<p>since my version is 11... They removed load_csv in 11 without changing the tutorial... I have to run version 0.10.0rc0 just to run the tutorial.</p>\n"}, {"comments": [{"owner": {"reputation": 119710, "user_id": 3574081, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LIW6C.jpg?s=128&g=1", "display_name": "mrry", "link": "https://stackoverflow.com/users/3574081/mrry"}, "reply_to_user": {"reputation": 331, "user_id": 5982950, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/e30f4274dc6fa3ade80d0685a72fd90a?s=128&d=identicon&r=PG&f=1", "display_name": "Vacassal Alsk", "link": "https://stackoverflow.com/users/5982950/vacassal-alsk"}, "edited": false, "score": 0, "creation_date": 1476426382, "post_id": 40032112, "comment_id": 67349049, "body": "Yes, the current tutorial is incorrect, unfortunately. I believe it is in the process of being fixed."}], "tags": [], "owner": {"reputation": 119710, "user_id": 3574081, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LIW6C.jpg?s=128&g=1", "display_name": "mrry", "link": "https://stackoverflow.com/users/3574081/mrry"}, "is_accepted": false, "score": 1, "last_activity_date": 1485877116, "last_edit_date": 1485877116, "creation_date": 1476397984, "answer_id": 40032112, "question_id": 40007785, "link": "https://stackoverflow.com/questions/40007785/why-tensor-flow-could-not-load-csv/40032112#40032112", "title": "Why tensor flow could not load csv", "body": "<p>The function <code>tf.contrib.learn.datasets.base.load_csv()</code> was removed in TensorFlow release 0.11. Depending on whether the file has a header or not (and the Iris dataset does have a header), the replacement functions are:</p>\n\n<ul>\n<li><a href=\"https://github.com/tensorflow/tensorflow/blob/fcab4308002412e38c1a6d5c6145119f04540d45/tensorflow/contrib/learn/python/learn/datasets/base.py#L38\" rel=\"nofollow noreferrer\"><code>tf.contrib.learn.datasets.base.load_csv_with_header()</code></a></li>\n<li><a href=\"https://github.com/tensorflow/tensorflow/blob/fcab4308002412e38c1a6d5c6145119f04540d45/tensorflow/contrib/learn/python/learn/datasets/base.py#L57\" rel=\"nofollow noreferrer\"><code>tf.contrib.learn.datasets.base.load_csv_without_header()</code></a></li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 6920767, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4fe48d4e31f299e24eab548634e74e9d?s=128&d=identicon&r=PG&f=1", "display_name": "skyfacon", "link": "https://stackoverflow.com/users/6920767/skyfacon"}, "is_accepted": false, "score": 0, "last_activity_date": 1498524111, "creation_date": 1498524111, "answer_id": 44770693, "question_id": 40007785, "link": "https://stackoverflow.com/questions/40007785/why-tensor-flow-could-not-load-csv/44770693#44770693", "title": "Why tensor flow could not load csv", "body": "<p>The library urllib have removed the method urlopen(), you should import urllib.request, then use the method urllib.request.urlopen().</p>\n"}], "owner": {"reputation": 331, "user_id": 5982950, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/e30f4274dc6fa3ade80d0685a72fd90a?s=128&d=identicon&r=PG&f=1", "display_name": "Vacassal Alsk", "link": "https://stackoverflow.com/users/5982950/vacassal-alsk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1346, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1498524111, "creation_date": 1476304165, "last_edit_date": 1476306292, "question_id": 40007785, "link": "https://stackoverflow.com/questions/40007785/why-tensor-flow-could-not-load-csv", "title": "Why tensor flow could not load csv", "body": "<p>I just installed tensor flow using pip and I try to run the following tutorial:</p>\n\n<p><a href=\"https://www.tensorflow.org/versions/r0.11/tutorials/tflearn/index.html\" rel=\"nofollow\">https://www.tensorflow.org/versions/r0.11/tutorials/tflearn/index.html</a></p>\n\n<pre><code># Data sets\nIRIS_TRAINING = \"iris_training.csv\"\nIRIS_TEST = \"iris_test.csv\"\n\n# Load datasets.\ntraining_set = tf.contrib.learn.datasets.base.load_csv(filename=IRIS_TRAINING,\n                                                       target_dtype=np.int)\ntest_set = tf.contrib.learn.datasets.base.load_csv(filename=IRIS_TEST,\n                                                   target_dtype=np.int)\n</code></pre>\n\n<p>But I have error:</p>\n\n<pre><code>    training_set = tf.contrib.learn.datasets.base.load_csv(filename=IRIS_TRAINING,\nAttributeError: 'module' object has no attribute 'load_csv'\n</code></pre>\n\n<p>I read some answer saying that I need to use pandas dataframe? But shouldn't everything just works as in the tutorial? That is so strange! I should not be the only one facing this issue right?</p>\n\n<p>Here's the whole code as in the tutorial:</p>\n\n<pre><code>from __future__ import absolute_import\nfrom __future__ import division\nfrom __future__ import print_function\n\nimport tensorflow as tf\nimport numpy as np\n\n# Data sets\nIRIS_TRAINING = \"iris_training.csv\"\nIRIS_TEST = \"iris_test.csv\"\n\n# Load datasets.\ntraining_set = tf.contrib.learn.datasets.base.load_csv(filename=IRIS_TRAINING,\n                                                       target_dtype=np.int)\ntest_set = tf.contrib.learn.datasets.base.load_csv(filename=IRIS_TEST,\n                                                   target_dtype=np.int)\n\n# Specify that all features have real-value data\nfeature_columns = [tf.contrib.layers.real_valued_column(\"\", dimension=4)]\n\n# Build 3 layer DNN with 10, 20, 10 units respectively.\nclassifier = tf.contrib.learn.DNNClassifier(feature_columns=feature_columns,\n                                            hidden_units=[10, 20, 10],\n                                            n_classes=3,\n                                            model_dir=\"/tmp/iris_model\")\n\n# Fit model.\nclassifier.fit(x=training_set.data,\n               y=training_set.target,\n               steps=2000)\n\n# Evaluate accuracy.\naccuracy_score = classifier.evaluate(x=test_set.data,\n                                     y=test_set.target)[\"accuracy\"]\nprint('Accuracy: {0:f}'.format(accuracy_score))\n\n# Classify two new flower samples.\nnew_samples = np.array(\n    [[6.4, 3.2, 4.5, 1.5], [5.8, 3.1, 5.0, 1.7]], dtype=float)\ny = classifier.predict(new_samples)\nprint('Predictions: {}'.format(str(y)))\n</code></pre>\n"}, {"tags": ["python", "image-processing"], "answers": [{"comments": [{"owner": {"reputation": 45, "user_id": 6499827, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9d6d911dbdb6bdd2eb567e3d7682774d?s=128&d=identicon&r=PG&f=1", "display_name": "ratebaltal", "link": "https://stackoverflow.com/users/6499827/ratebaltal"}, "edited": false, "score": 0, "creation_date": 1476353598, "post_id": 40007828, "comment_id": 67313146, "body": "Thank you for your insight but I already knew about these, I was searching for more in depth advises about the problems and issues that I might encounter"}], "tags": [], "owner": {"reputation": 61, "user_id": 6928025, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Cgrxi9gm6zM/AAAAAAAAAAI/AAAAAAAADyI/wxFWx7ncmn0/photo.jpg?sz=128", "display_name": "Louren&#231;o Biselli", "link": "https://stackoverflow.com/users/6928025/louren%c3%a7o-biselli"}, "is_accepted": true, "score": 0, "last_activity_date": 1476304304, "creation_date": 1476304304, "answer_id": 40007828, "question_id": 40007759, "link": "https://stackoverflow.com/questions/40007759/digital-image-processing-via-python/40007828#40007828", "title": "Digital Image Processing via Python", "body": "<p>You can search for this libraries: dlib, PIL (pillow), opencv and scikit learn image. This libraries are image processing libraries for python.</p>\n\n<p>Hope it helps.</p>\n"}], "owner": {"reputation": 45, "user_id": 6499827, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9d6d911dbdb6bdd2eb567e3d7682774d?s=128&d=identicon&r=PG&f=1", "display_name": "ratebaltal", "link": "https://stackoverflow.com/users/6499827/ratebaltal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 120, "favorite_count": 0, "accepted_answer_id": 40007828, "answer_count": 1, "score": 0, "last_activity_date": 1476304304, "creation_date": 1476304054, "question_id": 40007759, "link": "https://stackoverflow.com/questions/40007759/digital-image-processing-via-python", "title": "Digital Image Processing via Python", "body": "<p>I am starting a new project with a friend of mine, we want to design a system that would alert the driver if the car is diverting from its original path and its dangerous.\nso in a nutshell we have to design a real-time algorithm that would take pictures from the camera and process them. All of this will be done in Python.\nI was wondering if anyone has any advises for us or maybe point out some stuff that we have to consider</p>\n\n<p>Cheers !</p>\n"}, {"tags": ["python", "list", "loops"], "comments": [{"owner": {"reputation": 230015, "user_id": 8206, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/fc761ccaf6c0d7d977e2959f9bfebd06?s=128&d=identicon&r=PG", "display_name": "Eli Bendersky", "link": "https://stackoverflow.com/users/8206/eli-bendersky"}, "edited": false, "score": 0, "creation_date": 1476303890, "post_id": 40007691, "comment_id": 67293422, "body": "Is this with Numpy? (because you use <code>where</code>)"}, {"owner": {"reputation": 1, "user_id": 7010036, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5dlSL.jpg?s=128&g=1", "display_name": "a-es", "link": "https://stackoverflow.com/users/7010036/a-es"}, "reply_to_user": {"reputation": 230015, "user_id": 8206, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/fc761ccaf6c0d7d977e2959f9bfebd06?s=128&d=identicon&r=PG", "display_name": "Eli Bendersky", "link": "https://stackoverflow.com/users/8206/eli-bendersky"}, "edited": false, "score": 0, "creation_date": 1476458658, "post_id": 40007691, "comment_id": 67369408, "body": "Yes i used numpy."}], "answers": [{"tags": [], "owner": {"reputation": 6953, "user_id": 778533, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/XEGLp.jpg?s=128&g=1", "display_name": "tommy.carstensen", "link": "https://stackoverflow.com/users/778533/tommy-carstensen"}, "is_accepted": false, "score": 0, "last_activity_date": 1476304837, "last_edit_date": 1476304837, "creation_date": 1476304254, "answer_id": 40007811, "question_id": 40007691, "link": "https://stackoverflow.com/questions/40007691/python-how-to-create-sublists-through-loop/40007811#40007811", "title": "Python: how to create sublists through loop?", "body": "<pre><code>import itertools\n\nl = list(range(10))\n\n## If you just want the values:\nprint([(x,y) for (x,y) in itertools.combinations(l, 2) if abs(x-y)==2])\n\n## If you want the positions:\nfor i, x in enumerate(l):\n    for j, y in enumerate(l):\n        if j &lt;= i:\n            continue\n        if abs(x-y) == 2:\n            print(i, j)\n\n## If you want them stored in lists in a dictionary:\nd = {}\nfor i, x in enumerate(l):\n    for j, y in enumerate(l):\n        if j &lt;= i:\n            continue\n        if abs(x-y) == 2:\n            k = 'p_{}'.format(x+1)\n            try:\n                d[k].append((i,j))\n            except KeyError:\n                d[k] = [(i,j)]\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 7010036, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5dlSL.jpg?s=128&g=1", "display_name": "a-es", "link": "https://stackoverflow.com/users/7010036/a-es"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 521, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1476304837, "creation_date": 1476303839, "question_id": 40007691, "link": "https://stackoverflow.com/questions/40007691/python-how-to-create-sublists-through-loop", "title": "Python: how to create sublists through loop?", "body": "<p>I have a long list containing elements that value from 0 to 100.\nWhat I want to do is find all the positions where my elements take on values [0,2]. Then find out all the positions of the values between 2 and 4, etc up to 98 and 100.</p>\n\n<p>Let's call the list containing the values ''list''. And let's call the resulting list p_x. Where x indicates which interval we are finding the positions of.</p>\n\n<p>I managed to get what i want this way:\np_61 = N.where((list >= 60) &amp; (list &lt;= 62))  </p>\n\n<p>My question now is: how do i loop this, so that i get as a result all the p_x's that I want?</p>\n"}, {"tags": ["python", "sockets", "server", "ip", "vps"], "answers": [{"tags": [], "owner": {"reputation": 7, "user_id": 5020127, "user_type": "registered", "profile_image": "https://graph.facebook.com/1444396632547046/picture?type=large", "display_name": "Sirwan Esfehani", "link": "https://stackoverflow.com/users/5020127/sirwan-esfehani"}, "is_accepted": false, "score": 1, "last_activity_date": 1487879689, "creation_date": 1487879689, "answer_id": 42424962, "question_id": 40007674, "link": "https://stackoverflow.com/questions/40007674/run-python-server-on-vps/42424962#42424962", "title": "Run python server on VPS", "body": "<p>Try to bind the socket server to the vps public IP address and try to avoid ports bellow 10,000 I think most of firewalls prevent incoming connections through ports under 10,000.</p>\n"}], "owner": {"reputation": 177, "user_id": 5164990, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh5.googleusercontent.com/--cG715DST6s/AAAAAAAAAAI/AAAAAAAAAVI/_eAWYXw2-Hs/photo.jpg?sz=128", "display_name": "israelbenh", "link": "https://stackoverflow.com/users/5164990/israelbenh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 609, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1487879689, "creation_date": 1476303779, "last_edit_date": 1476334236, "question_id": 40007674, "link": "https://stackoverflow.com/questions/40007674/run-python-server-on-vps", "title": "Run python server on VPS", "body": "<p>I create a simple python server:</p>\n\n<pre><code>import socket\nserver=socket.socket()\nserver.bind((\"0.0.0.0\",8820))\nserver.listen(1)\n(client_socket,client_address)=server.accept()\n\nclient_name=client_socket.recv(1024)\nclient_socket.send(\"Hello \"+client_name)\n\nclient_socket.close()\nserver.close()\n</code></pre>\n\n<p>when I run this script in a VPS I cannot connect to this server\nwhy?\n(I get the IP address of the server( with ifconfig command on bash console) and when I run a client script that connect to this address it doesn't connect)</p>\n"}, {"tags": ["python", "json", "python-2.7", "file", "dictionary"], "comments": [{"owner": {"reputation": 7558, "user_id": 448496, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/BZtrd.png?s=128&g=1", "display_name": "rubik", "link": "https://stackoverflow.com/users/448496/rubik"}, "edited": false, "score": 1, "creation_date": 1476305255, "post_id": 40007668, "comment_id": 67294135, "body": "What error do you get, exactly?"}, {"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 1, "creation_date": 1476305516, "post_id": 40007668, "comment_id": 67294292, "body": "Not really sure I understand why you want the URI as the key of the dictionary"}, {"owner": {"reputation": 2230, "user_id": 6756587, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/10205650930307349/picture?type=large", "display_name": "CosimoCD", "link": "https://stackoverflow.com/users/6756587/cosimocd"}, "edited": false, "score": 0, "creation_date": 1476309911, "post_id": 40007668, "comment_id": 67296393, "body": "I get:                                                                                                         KeyError                                  Traceback (most recent call last) &lt;ipython-input-8-4f82af6494ef&gt; in &lt;module&gt;()       6                 for key in values[&quot;annotations&quot;]:       7                     uri= key[&quot;uri&quot;] ----&gt; 8                     ddd=key[&quot;categories&quot;]       9                     #ddd=key[&quot;categories&quot;]      10                     #cat=ddd[&quot;categories&quot;]  KeyError: &#39;categories&#39; . It&#39;s like I can&#39;t store the values of &quot;categories&quot; into ddd."}], "owner": {"reputation": 2230, "user_id": 6756587, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/10205650930307349/picture?type=large", "display_name": "CosimoCD", "link": "https://stackoverflow.com/users/6756587/cosimocd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 33, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1476305730, "creation_date": 1476303772, "last_edit_date": 1476305730, "question_id": 40007668, "link": "https://stackoverflow.com/questions/40007668/model-a-json-file-into-a-new-one", "title": "Model a JSON file into a new one", "body": "<p>I have this JSON file:</p>\n\n<pre><code>{\n    \"annotations\": [{\n        \"title\": \"Autismo\",\n        \"spot\": \"Autismo\",\n        \"uri\": \"http://it.wikipedia.org/wiki/Autismo\",\n        \"categories\": [\"Autismo\", \"Disturbi psichici\", \"Malattie del sistema nervoso\", \"Pediatria\"]\n    }, {\n        \"title\": \"Tablet computer\",\n        \"spot\": \"tablet\",\n        \"uri\": \"http://it.wikipedia.org/wiki/Tablet_computer\",\n        \"categories\": [\"Computer tablet\"]\n    }, {\n        \"title\": \"Diagnosi\",\n        \"spot\": \"diagnosi precoce\",\n        \"uri\": \"http://it.wikipedia.org/wiki/Diagnosi\",\n        \"categories\": [\"Semeiotica\", \"Diagnostica medica\"]\n    }]\n}\n</code></pre>\n\n<p>My target is to parse the JSON file and to create a new one with a changed structure like this:</p>\n\n<pre><code>     {u'http://it.wikipedia.org/wiki/Autismo': {'spot': u'autistica',\n                                                'title': u'Autismo'\n                                                'categories':[\"Autismo\", \"Disturbi psichici\", \"Malattie del sistema nervoso\", \"Pediatria\"]},\n</code></pre>\n\n<p>And so on for every dictionary into annotations.</p>\n\n<p>My code is this:</p>\n\n<pre><code>diz={}\nvalues = json.load(jsonFile)\nfor key in values[\"annotations\"]:\n    uri= key[\"uri\"]\n    ddd=key[\"categories\"]\n\n    diz[uri]={\"title\":key[\"title\"],\"spot\":key[\"spot\"],\"categories\":ddd} \n\nprint diz\n</code></pre>\n\n<p>But when I run the code it gives me an error on <code>ddd=key[\"categories\"]</code>. I think that I don't get in a correct way the values of \"categories\".</p>\n\n<p>Can somebody help me in this?</p>\n"}, {"tags": ["python", "pyqt", "qt-designer", "pyuic"], "answers": [{"tags": [], "owner": {"reputation": 21748, "user_id": 869951, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/63uk6.png?s=128&g=1", "display_name": "Oliver", "link": "https://stackoverflow.com/users/869951/oliver"}, "is_accepted": true, "score": 2, "last_activity_date": 1476413774, "last_edit_date": 1476413774, "creation_date": 1476317071, "answer_id": 40010245, "question_id": 40007626, "link": "https://stackoverflow.com/questions/40007626/using-qt-designer-files-in-python-script/40010245#40010245", "title": "Using Qt Designer files in python script", "body": "<p>Create a class that derives from <code>QWidget</code>, and in its <code>__init__</code> instantiate the ui class,  then call <code>setupUi(self)</code> on it. </p>\n\n<pre><code>class RunApp():\n    pass  \n\nclass MyDialog(QWidget):\n    def __init__(self, parent=None):\n        super().__init__()\n        self.ui = Ui_Dialog()\n        self.ui.setupUi(self)\n\n# do same for Ui_MainWindow via class MyMainWindow(QWidget)\n...\n</code></pre>\n\n<p>This is explained in </p>\n\n<ul>\n<li><a href=\"http://doc.qt.io/qt-5/designer-using-a-ui-file.html\" rel=\"nofollow\">Qt docs</a> (you'll have to do the usual C++ -> Python translation)</li>\n<li><a href=\"https://doc.qt.io/qt-5/examples-designer.html\" rel=\"nofollow\">Qt examples for Designer</a> (you'll have to do the usual C++ -> Python translation)</li>\n<li><a href=\"https://github.com/pyqt/examples\" rel=\"nofollow\">PyQt examples</a></li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 5216, "user_id": 2679465, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/R2vxr.jpg?s=128&g=1", "display_name": "Rajiv Sharma", "link": "https://stackoverflow.com/users/2679465/rajiv-sharma"}, "is_accepted": false, "score": 0, "last_activity_date": 1476320568, "creation_date": 1476320568, "answer_id": 40010686, "question_id": 40007626, "link": "https://stackoverflow.com/questions/40007626/using-qt-designer-files-in-python-script/40010686#40010686", "title": "Using Qt Designer files in python script", "body": "<p>For login page of PyQt based application. i would suggest use <a href=\"http://pyqt.sourceforge.net/Docs/PyQt4/qstackedwidget.html\" rel=\"nofollow\">QstackedWidget</a></p>\n\n<blockquote>\n  <p>Page1 in stackedwidget for login page </p>\n  \n  <p>Page2 in stackwidget for home screen</p>\n</blockquote>\n\n<p>all you need is a simple login function that will varify the user name and password and allow user to move to home screen.</p>\n\n<p>you can change the current index to open home screen.</p>\n\n<pre><code>  self.stackedWidget.setCurrentIndex(1)\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 7009965, "user_type": "registered", "profile_image": "https://graph.facebook.com/100003200664897/picture?type=large", "display_name": "Henrique Miranda", "link": "https://stackoverflow.com/users/7009965/henrique-miranda"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1409, "favorite_count": 0, "accepted_answer_id": 40010245, "answer_count": 2, "score": 1, "last_activity_date": 1476413774, "creation_date": 1476303541, "last_edit_date": 1476403052, "question_id": 40007626, "link": "https://stackoverflow.com/questions/40007626/using-qt-designer-files-in-python-script", "title": "Using Qt Designer files in python script", "body": "<p>I need to open a dialog from <em>login.py</em>, then if successful, the dialog will close and open a main-window from <em>home.py</em>. I need to do this with a file created by Qt Designer with pyuic4. In summary, I need to call <em>login.py</em> and <em>home.py</em> though <em>main.py</em>.</p>\n\n<p>Code of <em>main.py</em>:</p>\n\n<pre><code>from PyQt4 import QtGui, QtCore \nimport sqlite3, time\nfrom login import Ui_Dialog\nfrom home import Ui_MainWindow\n\n# Here I need to know how to call login.py, and\n# after logged in, how to change to home.py\n\nclass RunApp():\n    pass        \n\nif __name__ == '__main__':\n\n    app = QtGui.QApplication(sys.argv)\n    window = RunApp()\n    sys.exit(app.exec_())\n</code></pre>\n\n<p>Code of <em>login.py</em>:</p>\n\n<pre><code>class Ui_Dialog(object):\n    def setupUi(self, Dialog):\n        Dialog.setObjectName(_fromUtf8(\"Dialog\"))\n        Dialog.resize(194, 156)\n</code></pre>\n\n<p>Code of <em>home.py</em>:</p>\n\n<pre><code>class Ui_MainWindow(object):\n    def setupUi(self, MainWindow):\n        MainWindow.setObjectName(_fromUtf8(\"MainWindow\"))\n        MainWindow.resize(635, 396)\n        MainWindow.setAutoFillBackground(False)\n</code></pre>\n\n<p><strong>Update:</strong>\n<strong>Thanks my friends ;) Worked for me with this code:</strong></p>\n\n<pre><code># -*- coding: utf-8 -*-\nfrom PyQt4 import QtGui, QtCore\nfrom login import Ui_Dialog\nfrom home import Ui_MainWindow\nimport sqlite3, time, sys, os\n\nclass MyLogin(QtGui.QDialog):\n    def __init__(self):\n        super().__init__()\n        self.ui = Ui_Dialog()\n        self.ui.setupUi(self)\n        self.ui.buttonBox.accepted.connect(self.openHome)\n    def openHome(self):\n        ui2 = MyHome()\n        ui2.show()\n        ui2.exec_()\n\n\nclass MyHome(QtGui.QMainWindow):\n    def __init__(self, parent=None):\n        super().__init__(parent)\n        self.ui2 = Ui_MainWindow()\n        self.ui2.setupUi(self)\n\nif __name__=='__main__':\n    root = QtGui.QApplication(sys.argv)\n    app = MyLogin()\n    app.show()\n    root.exec_()\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 55248, "user_id": 642070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c280b71b3187d1cc113a6e302b414b9?s=128&d=identicon&r=PG", "display_name": "tdelaney", "link": "https://stackoverflow.com/users/642070/tdelaney"}, "edited": false, "score": 1, "creation_date": 1476303955, "post_id": 40007556, "comment_id": 67293466, "body": "Did the server print &#39;got connection from&#39; ? You may have to open the port in windows firewall."}, {"owner": {"reputation": 55248, "user_id": 642070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c280b71b3187d1cc113a6e302b414b9?s=128&d=identicon&r=PG", "display_name": "tdelaney", "link": "https://stackoverflow.com/users/642070/tdelaney"}, "edited": false, "score": 0, "creation_date": 1476304934, "post_id": 40007556, "comment_id": 67293942, "body": "You have a couple of bugs including <code>l= f.read(1024)</code> should be <code>bytesToSend=read(1024)</code>. And you may want to <code>serverSocket.setsockopt(socket.SOL_SOCKET, socket.SO_REUSEADDR, 1)</code> before the bind. Check to see if your server is crashing. And also consider binding to <code>&quot;0.0.0.0&quot;</code> instead of the gethostname thing so that you catch other interfaces such as the &#39;localhost&#39; internal network on your machine."}, {"owner": {"reputation": 15, "user_id": 7010038, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c6199b5828f4135e20c5da24d324b86b?s=128&d=identicon&r=PG&f=1", "display_name": "anonymous", "link": "https://stackoverflow.com/users/7010038/anonymous"}, "reply_to_user": {"reputation": 55248, "user_id": 642070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c280b71b3187d1cc113a6e302b414b9?s=128&d=identicon&r=PG", "display_name": "tdelaney", "link": "https://stackoverflow.com/users/642070/tdelaney"}, "edited": false, "score": 0, "creation_date": 1476306744, "post_id": 40007556, "comment_id": 67294978, "body": "Thank @tdelaney for replying.  And no my server did not even print got connection from. <i>*How can I open the port in the windows firewall?*</i>  For the rest of code correction I will try it again making the changes and would let you know if my problem is solved."}], "owner": {"reputation": 15, "user_id": 7010038, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c6199b5828f4135e20c5da24d324b86b?s=128&d=identicon&r=PG&f=1", "display_name": "anonymous", "link": "https://stackoverflow.com/users/7010038/anonymous"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 35, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1476303999, "creation_date": 1476303291, "last_edit_date": 1476303999, "question_id": 40007556, "link": "https://stackoverflow.com/questions/40007556/created-dummy-python-server-in-companys-network-while-trying-to-see-a-file-on", "title": "Created dummy python server in company&#39;s network, while trying to see a file on server getting &quot;page cannot be displayed&quot;", "body": "<p>I am amateur and have created a dummy python server on my system which uses my company's network. \nwhen I am trying to view a file on the my server, the browser says page cannot be displayed. </p>\n\n<p>this is my code </p>\n\n<pre><code>import socket\nserverPort = 5000\nserverSocket = socket.socket()\nhost = socket.gethostname()\nserverSocket.bind((host,serverPort))\nserverSocket.listen(5)\nprint ('Server is ready to recieve')\nwhile True:\n    connectionSocket, addr = serverSocket.accept()\n    print ('got connection from'), addr\n    data = connectionSocket.recv(1024)\n    print ('server received', repr(data))\n    filename='helloworld.html'\n    f=open(filename,'rb')\n    bytesToSend= f.read(1024)\n    connectionSocket.send(bytesToSend)\n    while bytesToSend !='':\n        bytesToSend= f.read(1024)\n        connectionSocket.send(bytesToSend)\n        print('sent',repr(bytesToSend))\n        l= f.read(1024)\n    f.close\n\nprint ('done sending')\nconnectionSocket.send('thank you for connecting')\nconnectionSocket.close()\n</code></pre>\n\n<p>i used internet explorer and using the url </p>\n\n<pre><code>http://IPAddress:5000/helloworld\n</code></pre>\n\n<p>Received \"page cannot be found error\" on the broswer. \nCould you please suggest how can i fix it. </p>\n"}, {"tags": ["python", "pygame"], "comments": [{"owner": {"reputation": 6953, "user_id": 778533, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/XEGLp.jpg?s=128&g=1", "display_name": "tommy.carstensen", "link": "https://stackoverflow.com/users/778533/tommy-carstensen"}, "edited": false, "score": 0, "creation_date": 1476303412, "post_id": 40007549, "comment_id": 67293166, "body": "I&#39;m afraid this isn&#39;t a debugging service. Fun problem though. Best of luck."}], "answers": [{"comments": [{"owner": {"reputation": 63, "user_id": 4812693, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh4.googleusercontent.com/-zMgi6T65ZTM/AAAAAAAAAAI/AAAAAAAAAaU/sazbmYZk81Y/photo.jpg?sz=128", "display_name": "Lord_Zane 55", "link": "https://stackoverflow.com/users/4812693/lord-zane-55"}, "edited": false, "score": 0, "creation_date": 1476304908, "post_id": 40007890, "comment_id": 67293933, "body": "Thanks! why does this matter though?"}, {"owner": {"reputation": 514, "user_id": 5068563, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RRbrC.jpg?s=128&g=1", "display_name": "Silko", "link": "https://stackoverflow.com/users/5068563/silko"}, "reply_to_user": {"reputation": 63, "user_id": 4812693, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh4.googleusercontent.com/-zMgi6T65ZTM/AAAAAAAAAAI/AAAAAAAAAaU/sazbmYZk81Y/photo.jpg?sz=128", "display_name": "Lord_Zane 55", "link": "https://stackoverflow.com/users/4812693/lord-zane-55"}, "edited": false, "score": 0, "creation_date": 1476305404, "post_id": 40007890, "comment_id": 67294207, "body": "You were always setting two players. One in game map and the second one in move_up function. But you need the game map without a player and then draw that player with every print_map call (first row in print_map function). The position of the player which you have set in the game_map was not changing and the first position (4,4) of the second player, which was correctly moving, was never drawn."}], "tags": [], "owner": {"reputation": 514, "user_id": 5068563, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RRbrC.jpg?s=128&g=1", "display_name": "Silko", "link": "https://stackoverflow.com/users/5068563/silko"}, "is_accepted": true, "score": 1, "last_activity_date": 1476304844, "last_edit_date": 1476304844, "creation_date": 1476304522, "answer_id": 40007890, "question_id": 40007549, "link": "https://stackoverflow.com/questions/40007549/python-tile-based-game-2d-array-player-movement/40007890#40007890", "title": "Python tile based game (2d array) player movement", "body": "<p>The problem is your starting position. You need to draw a map without your player and then place the player on the map. Here is the solution that works:</p>\n\n<pre><code>class P:\n   def __init__(self, standing_on):\n       self.standing_on = standing_on\n       self.row, self.column = 4, 4\n\n   def __str__(self):\n       return \"@\"\n\n\nclass G:\n    walkable = True\n\n    def __str__(self):\n        return \"\u2588\"\n\n\nclass W:\n    walkable = False\n\n    def __str__(self):\n        return \"|\"\n\np = P(G())\ngame_map = [\n    [W(), W(), W(), W(), W(), W(), W(), W(), W(), W()],\n    [W(), G(), G(), G(), G(), G(), G(), G(), G(), W()],\n    [W(), G(), G(), G(), G(), G(), G(), G(), G(), W()],\n    [W(), G(), G(), G(), G(), G(), G(), G(), G(), W()],\n    [W(), G(), G(), G(), G(), G(), G(), G(), G(), W()],\n    [W(), G(), G(), G(), G(), G(), G(), G(), G(), W()],\n    [W(), G(), G(), G(), G(), G(), G(), G(), G(), W()],\n    [W(), G(), G(), G(), G(), G(), G(), G(), G(), W()],\n    [W(), G(), G(), G(), G(), G(), G(), G(), G(), W()],\n    [W(), W(), W(), W(), W(), W(), W(), W(), W(), W()]\n]\n\n\ndef print_map():\n    game_map[p.column][p.row] = p\n    for column in range(10):\n        for row in range(10):\n            print(game_map[column][row], end=\"\")\n        print()\n\ndef move_up():\n    temp = p.row - 1\n    if game_map[temp][p.column].walkable:\n        game_map[p.column][p.row] = p.standing_on\n        p.column -= 1\n        p.standing_on = game_map[p.column][p.row]\n\n\nprint_map()\nprint(p.row, p.column, \"\\n\")\nmove_up()\nprint_map()\nprint(p.row, p.column, \"\\n\")\nmove_up()\nprint_map()\nprint(p.row, p.column, \"\\n\")\n</code></pre>\n"}], "owner": {"reputation": 63, "user_id": 4812693, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh4.googleusercontent.com/-zMgi6T65ZTM/AAAAAAAAAAI/AAAAAAAAAaU/sazbmYZk81Y/photo.jpg?sz=128", "display_name": "Lord_Zane 55", "link": "https://stackoverflow.com/users/4812693/lord-zane-55"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 818, "favorite_count": 0, "accepted_answer_id": 40007890, "answer_count": 1, "score": 1, "last_activity_date": 1476304844, "creation_date": 1476303275, "question_id": 40007549, "link": "https://stackoverflow.com/questions/40007549/python-tile-based-game-2d-array-player-movement", "title": "Python tile based game (2d array) player movement", "body": "<p>I'm making a rougelike in pygame, and I'm having trouble with player movement in a grid. This sample program shows how I plan to do it:</p>\n\n<pre><code>class P:\n\n    def __init__(self, standing_on):\n        self.standing_on = standing_on\n        self.row, self.column = 4, 4\n\n    def __str__(self):\n        return \"@\"\n\n\nclass G:\n    walkable = True\n\n    def __str__(self):\n        return \"\u2588\"\n\n\nclass W:\n    walkable = False\n\n    def __str__(self):\n        return \"|\"\n\np = P(G())\ngame_map = [\n    [W(), W(), W(), W(), W(), W(), W(), W(), W(), W()],\n    [W(), G(), G(), G(), G(), G(), G(), G(), G(), W()],\n    [W(), G(), G(), G(), G(), G(), G(), G(), G(), W()],\n    [W(), G(), G(), G(), G(), G(), G(), G(), G(), W()],\n    [W(), G(), G(), G(), G(), G(), G(), G(), G(), W()],\n    [W(), G(), G(), G(), G(), G(), G(), G(), G(), W()],\n    [W(), G(), p,   G(), G(), G(), G(), G(), G(), W()],\n    [W(), G(), G(), G(), G(), G(), G(), G(), G(), W()],\n    [W(), G(), G(), G(), G(), G(), G(), G(), G(), W()],\n    [W(), W(), W(), W(), W(), W(), W(), W(), W(), W()]\n]\n\n\ndef print_map():\n    for column in range(10):\n        for row in range(10):\n            print(game_map[column][row], end=\"\")\n        print()\n\n\ndef move_up():\n    temp = p.row - 1\n    if game_map[temp][p.column].walkable:\n        game_map[p.column][p.row] = p.standing_on\n        p.column -= 1\n        p.standing_on = game_map[p.column][p.row]\n        game_map[p.column][p.row] = p\n\n\nprint_map()\nprint(p.row, p.column, \"\\n\")\nmove_up()\nprint_map()\nprint(p.row, p.column, \"\\n\")\nmove_up()\nprint_map()\nprint(p.row, p.column, \"\\n\")\n</code></pre>\n\n<ul>\n<li>p = player</li>\n<li>g = grass</li>\n<li>w = wall</li>\n</ul>\n\n<p>and the output:</p>\n\n<pre><code>||||||||||\n|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588|\n|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588|\n|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588|\n|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588|\n|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588|\n|\u2588@\u2588\u2588\u2588\u2588\u2588\u2588|\n|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588|\n|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588|\n||||||||||\n4 4\n\n||||||||||\n|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588|\n|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588|\n|\u2588\u2588\u2588@\u2588\u2588\u2588\u2588|\n|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588|\n|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588|\n|\u2588@\u2588\u2588\u2588\u2588\u2588\u2588|\n|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588|\n|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588|\n||||||||||\n4 3\n\n||||||||||\n|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588|\n|\u2588\u2588\u2588@\u2588\u2588\u2588\u2588|\n|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588|\n|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588|\n|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588|\n|\u2588@\u2588\u2588\u2588\u2588\u2588\u2588|\n|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588|\n|\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588|\n||||||||||\n4 2\n</code></pre>\n\n<p>The numbers under the map represent the players coordinates. I start at 4, 4 (note that its 0 indexed) and move up twice. When displayed the map is completely wrong though, and I have tested it in my actual game and get the same bug, using images instead of text. Any idea whats going on?</p>\n"}, {"tags": ["php", "python", "lamp"], "comments": [{"owner": {"reputation": 731, "user_id": 5613367, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh6.googleusercontent.com/-ZDZV06Q_DNI/AAAAAAAAAAI/AAAAAAAAAH8/yz_JRBIXnoM/photo.jpg?sz=128", "display_name": "Pat Jones", "link": "https://stackoverflow.com/users/5613367/pat-jones"}, "edited": false, "score": 0, "creation_date": 1476303675, "post_id": 40007469, "comment_id": 67293304, "body": "I&#39;m pretty new to full stack development, but it&#39;s helpful to me to get involved in these discussions! I&#39;ll ask a few obvious things first: Is the .py file placed in a directory that your web server sees? Does the .py file actually write some HTML? Is your server configuration setup to handle .py files?"}, {"owner": {"reputation": 775, "user_id": 4114983, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/c1b7b7b028fede548b2a11789a23a879?s=128&d=identicon&r=PG&f=1", "display_name": "Romulus", "link": "https://stackoverflow.com/users/4114983/romulus"}, "reply_to_user": {"reputation": 731, "user_id": 5613367, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh6.googleusercontent.com/-ZDZV06Q_DNI/AAAAAAAAAAI/AAAAAAAAAH8/yz_JRBIXnoM/photo.jpg?sz=128", "display_name": "Pat Jones", "link": "https://stackoverflow.com/users/5613367/pat-jones"}, "edited": false, "score": 0, "creation_date": 1476303799, "post_id": 40007469, "comment_id": 67293375, "body": "the file is in the right place and does write html, I added my config above. @PatJones"}, {"owner": {"reputation": 731, "user_id": 5613367, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh6.googleusercontent.com/-ZDZV06Q_DNI/AAAAAAAAAAI/AAAAAAAAAH8/yz_JRBIXnoM/photo.jpg?sz=128", "display_name": "Pat Jones", "link": "https://stackoverflow.com/users/5613367/pat-jones"}, "edited": false, "score": 0, "creation_date": 1476305864, "post_id": 40007469, "comment_id": 67294463, "body": "Well the internal server error is kind of a good sign...it means that it is trying to load the page. In my configuration settings I don&#39;t have &quot;Multiviews&quot; under Options...not sure what that does. I also have <code>AllowOverride All</code>, and <code>Require all granted</code>, but not sure that they are appropriate in your case."}], "answers": [{"tags": [], "owner": {"reputation": 731, "user_id": 5613367, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh6.googleusercontent.com/-ZDZV06Q_DNI/AAAAAAAAAAI/AAAAAAAAAH8/yz_JRBIXnoM/photo.jpg?sz=128", "display_name": "Pat Jones", "link": "https://stackoverflow.com/users/5613367/pat-jones"}, "is_accepted": false, "score": 0, "last_activity_date": 1476306424, "creation_date": 1476306424, "answer_id": 40008360, "question_id": 40007469, "link": "https://stackoverflow.com/questions/40007469/running-local-server-py-prompts-a-text-editor-instead-of-opening-page/40008360#40008360", "title": "running local server .py prompts a text editor instead of opening page", "body": "<p>My configuration for .pl and .py scripts that write HTML directly out to a page is the following:</p>\n\n<pre><code>&lt;Directory \"[put production path here]\"&gt;\n    Options Indexes FollowSymLinks ExecCGI\n    AllowOverride All\n    Require all granted\n&lt;/Directory&gt;\n</code></pre>\n\n<p>As I'm new to full stack work, I'm not sure if this is appropriate for your situation, but it might be worth a try.</p>\n"}], "owner": {"reputation": 775, "user_id": 4114983, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/c1b7b7b028fede548b2a11789a23a879?s=128&d=identicon&r=PG&f=1", "display_name": "Romulus", "link": "https://stackoverflow.com/users/4114983/romulus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 50, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1476306424, "creation_date": 1476302956, "last_edit_date": 1476304374, "question_id": 40007469, "link": "https://stackoverflow.com/questions/40007469/running-local-server-py-prompts-a-text-editor-instead-of-opening-page", "title": "running local server .py prompts a text editor instead of opening page", "body": "<p>I have a file which currently works on my production site as mysite.com/pages/lister.py.</p>\n\n<p>I am trying to build a local version of the site. The index.php works and other pages work, but when I go to a .py page like: localhost/pages/lister.py it doesnt change the site, it just asks if I want to use gedit to open the file.</p>\n\n<p>My guess is that my local config is off somewhere, but I do not know where to start when approaching this problem. </p>\n\n<p>NOTES:</p>\n\n<p>I am running  a lamp server which I downloaded using <code>sudo apt-get install lamp-server^</code></p>\n\n<p>and my apache config is <code>/etc/apache2/sites-available/000-default.conf</code> and contains:</p>\n\n<pre><code>&lt;VirtualHost *:80&gt;\n\n    ServerAdmin webmaster@localhost\n    DocumentRoot /var/www/\n    &lt;Directory /var/www/&gt;\n        Options ExecCGI Indexes FollowSymLinks MultiViews\n        AllowOverride None\n        Order allow,deny\n        allow from all\n        AddHandler cgi-script .py\n    &lt;/Directory&gt;\n    ErrorLog ${APACHE_LOG_DIR}/error.log\n    CustomLog ${APACHE_LOG_DIR}/access.log combined\n\n&lt;/VirtualHost&gt;\n</code></pre>\n\n<p><strong>EDIT 1</strong></p>\n\n<p>This may be the solution to my question but its not really working yet so idk yet.</p>\n\n<p>I ran</p>\n\n<pre><code>sudo a2enmod cgi\nsudo service apache2 restart\n</code></pre>\n\n<p>and now it gives:</p>\n\n<p>Internal Server Error</p>\n\n<p>The server encountered an internal error or misconfiguration and was unable to complete your request.</p>\n\n<p>Please contact the server administrator at webmaster@localhost to inform them of the time this error occurred, and the actions you performed just before this error.</p>\n\n<p>More information about this error may be available in the server error log.\nApache/2.4.18 (Ubuntu) Server at localhost Port 80</p>\n"}, {"tags": ["python", "bash"], "comments": [{"owner": {"reputation": 6953, "user_id": 778533, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/XEGLp.jpg?s=128&g=1", "display_name": "tommy.carstensen", "link": "https://stackoverflow.com/users/778533/tommy-carstensen"}, "edited": false, "score": 0, "creation_date": 1476303287, "post_id": 40007468, "comment_id": 67293103, "body": "Why is <code>os.walk()</code> not a good solution? What have you tried so far?"}, {"owner": {"reputation": 3, "user_id": 7009987, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a6847c0ccc14e3291f84229307e8ee6?s=128&d=identicon&r=PG&f=1", "display_name": "Tico", "link": "https://stackoverflow.com/users/7009987/tico"}, "reply_to_user": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "edited": false, "score": 0, "creation_date": 1476374868, "post_id": 40007468, "comment_id": 67329157, "body": "I tried something like what @Rob\u1d69 below did, but I didn&#39;t think of opening file_2 within the &#39;with&#39; statement opening file_1 and so on (new to both Python and scripting)."}, {"owner": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "edited": false, "score": 0, "creation_date": 1476378795, "post_id": 40007468, "comment_id": 67331508, "body": "If you are new to Python, may I suggest that you temporarily stop what you are working on and work through <a href=\"https://docs.python.org/3/tutorial/\" rel=\"nofollow noreferrer\">The Python Tutorial</a>? The insights gained there will make tasks like this go much faster."}], "answers": [{"tags": [], "owner": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "is_accepted": true, "score": 0, "last_activity_date": 1476371012, "last_edit_date": 1476371012, "creation_date": 1476303325, "answer_id": 40007562, "question_id": 40007468, "link": "https://stackoverflow.com/questions/40007468/repeat-the-same-analysis-for-two-files-in-a-lot-of-directories/40007562#40007562", "title": "Repeat the same analysis for TWO files in a lot of directories", "body": "<p>Something like this:</p>\n\n<pre><code>subdirs = glob.glob(\"Dir/*/.\")\nfor subdir in subdirs:\n    file1 = os.path.join(subdir, \"File_1\")\n    file2 = os.path.join(subdir, \"File_2\")\n    result = os.path.join(subdir, \"result.txt\")\n    with open(file1, \"rt\") as input_file1:\n        with open(file2, \"rt\") as input_file2:\n            with open(result, \"wt\") as output_file:\n                # your computations go here:\n                # input_file1.read()\n                # output_file.write(\"these are my results\")\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 7009987, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a6847c0ccc14e3291f84229307e8ee6?s=128&d=identicon&r=PG&f=1", "display_name": "Tico", "link": "https://stackoverflow.com/users/7009987/tico"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 33, "favorite_count": 0, "accepted_answer_id": 40007562, "answer_count": 1, "score": 0, "last_activity_date": 1476371012, "creation_date": 1476302955, "last_edit_date": 1476304383, "question_id": 40007468, "link": "https://stackoverflow.com/questions/40007468/repeat-the-same-analysis-for-two-files-in-a-lot-of-directories", "title": "Repeat the same analysis for TWO files in a lot of directories", "body": "<p>I have a lot of data stored in two files found in folders with the structure shown on this <a href=\"https://i.stack.imgur.com/zfFZW.png\" rel=\"nofollow\">pic</a>.\nI wrote a small python script to process the two files in Subdir1 and would like to repeat it over Dir, so each Subdir gets visited. I searched stackoverflow and looked at ways of doing it:\n     -either with bash (using a for loop to run the python script on all files)\n     -or using os.walk() and walk Dir</p>\n\n<p>The problem is that I have two files: I am getting some data from File_1, and some data from File_2, combining the two and then writing the resulting astropy Table (or dataframe) to a file. I can do this over one subdirectory. Any ideas how to do this for all the folders? </p>\n\n<p>I can handle repeating tasks when there is only file per folder.\nThanks.</p>\n"}, {"tags": ["python", "ipython"], "comments": [{"owner": {"reputation": 156940, "user_id": 416467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/32cad7487ccecc3740a62e797fc326dc?s=128&d=identicon&r=PG", "display_name": "kindall", "link": "https://stackoverflow.com/users/416467/kindall"}, "edited": false, "score": 0, "creation_date": 1476302955, "post_id": 40007401, "comment_id": 67292943, "body": "The variable is initialized in the module, so reloading the module reinitializes the variable. It can&#39;t be any other way."}, {"owner": {"reputation": 18893, "user_id": 2612235, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/dpsjq.jpg?s=128&g=1", "display_name": "nowox", "link": "https://stackoverflow.com/users/2612235/nowox"}, "reply_to_user": {"reputation": 156940, "user_id": 416467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/32cad7487ccecc3740a62e797fc326dc?s=128&d=identicon&r=PG", "display_name": "kindall", "link": "https://stackoverflow.com/users/416467/kindall"}, "edited": false, "score": 0, "creation_date": 1476303070, "post_id": 40007401, "comment_id": 67292996, "body": "Is there any possible workaround? Using another module just for storing these values?"}, {"owner": {"reputation": 156940, "user_id": 416467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/32cad7487ccecc3740a62e797fc326dc?s=128&d=identicon&r=PG", "display_name": "kindall", "link": "https://stackoverflow.com/users/416467/kindall"}, "edited": false, "score": 0, "creation_date": 1476304086, "post_id": 40007401, "comment_id": 67293528, "body": "You could try that. Or (horrible hack) store the values in the <code>__builtin__</code> module."}], "owner": {"reputation": 18893, "user_id": 2612235, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/dpsjq.jpg?s=128&g=1", "display_name": "nowox", "link": "https://stackoverflow.com/users/2612235/nowox"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 52, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1476302717, "creation_date": 1476302717, "question_id": 40007401, "link": "https://stackoverflow.com/questions/40007401/why-ipython-autoreload-reinitialize-my-variables", "title": "Why IPython %autoreload reinitialize my variables?", "body": "<p>I have this module: </p>\n\n<pre><code>foo = []\n</code></pre>\n\n<p>And from IPython I do: </p>\n\n<pre><code>In [1]: foo.append(42)\nIn [2]: foo\nOut [2]: [42]\n</code></pre>\n\n<p>Then I edit my module that forces IPython to reload my module</p>\n\n<pre><code>In [3]: foo\nOut [3]: []\n</code></pre>\n\n<p>In my module I need to keep the handlers of returned by some DLL functions. They have to be kept during all the session, but when I debug my module and it is automatically reloaded, I lost these handlers. </p>\n\n<p>How to prevent IPython from resetting the variables?</p>\n"}, {"tags": ["python", "pandas", "plotly"], "answers": [{"tags": [], "owner": {"reputation": 7518, "user_id": 5405782, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/KLF69.jpg?s=128&g=1", "display_name": "sparrow", "link": "https://stackoverflow.com/users/5405782/sparrow"}, "is_accepted": false, "score": 2, "last_activity_date": 1486493687, "creation_date": 1486493687, "answer_id": 42097708, "question_id": 40007340, "link": "https://stackoverflow.com/questions/40007340/trouble-applying-color-scale-to-plotly-with-pandas-and-cuflinks/42097708#42097708", "title": "Trouble applying color scale to Plotly with Pandas and Cuflinks", "body": "<p>I just created my own custom pallet</p>\n\n<pre><code>mycolors = ['#F81106','#FA726C','#F8C1BE',\n            '#137503','#54B644','#B2F5A7',\n            '#051E9B','#4358C0','#A6B3F9',\n           '#9C06A0','#C34BC6','#F3A1F6',\n           '#A07709','#CDA742','#F4DC9D',\n           '#08A59E','#4DD5CE','#AAF7F3']\n\ncolors=mycolors\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 24305, "user_id": 2776376, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/40VxD.gif?s=128&g=1", "display_name": "Maximilian Peters", "link": "https://stackoverflow.com/users/2776376/maximilian-peters"}, "is_accepted": true, "score": 2, "last_activity_date": 1486500881, "creation_date": 1486500881, "answer_id": 42099813, "question_id": 40007340, "link": "https://stackoverflow.com/questions/40007340/trouble-applying-color-scale-to-plotly-with-pandas-and-cuflinks/42099813#42099813", "title": "Trouble applying color scale to Plotly with Pandas and Cuflinks", "body": "<p><a href=\"https://plot.ly/python/reference/#bar-marker-colorscale\" rel=\"nofollow noreferrer\">From the documentation</a>: </p>\n\n<blockquote>\n  <p><code>colorscale</code> must be an array containing arrays mapping a normalized value to an\n  rgb, rgba, hex, hsl, hsv, or named color string. [...]</p>\n  \n  <p>Alternatively,\n  <code>colorscale</code> may be a palette name string of the following list:\n  Greys, YlGnBu, Greens, YlOrRd, Bluered, RdBu, Reds, Blues, Picnic,\n  Rainbow, Portland, Jet, Hot, Blackbody, Earth, Electric, Viridis</p>\n</blockquote>\n\n<p>In order to use the colorlover module you could create the color array and then assign the variable to <code>colorscale</code>, e.g.</p>\n\n<pre><code>import colorlover, plotly\n\ncs12 = colorlover.scales['12']['qual']['Paired']\n\nplotly.plotly.plot(data=[{\n  'colorscale': cs12\n  'z': [[10, 100.625, 1200.5, 150.625, 2000],\n       [5000.625, 60.25, 8.125, 100000, 150.625],\n       [2000.5, 300.125, 50., 8.125, 12.5],\n       [10.625, 1.25, 3.125, 6000.25, 100.625],\n       [0, 0.625, 2.5, 50000.625, 10]],\n  'type': 'heatmap'\n}])\n</code></pre>\n"}], "owner": {"reputation": 7518, "user_id": 5405782, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/KLF69.jpg?s=128&g=1", "display_name": "sparrow", "link": "https://stackoverflow.com/users/5405782/sparrow"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1058, "favorite_count": 0, "accepted_answer_id": 42099813, "answer_count": 2, "score": 0, "last_activity_date": 1493562760, "creation_date": 1476302487, "last_edit_date": 1493562760, "question_id": 40007340, "link": "https://stackoverflow.com/questions/40007340/trouble-applying-color-scale-to-plotly-with-pandas-and-cuflinks", "title": "Trouble applying color scale to Plotly with Pandas and Cuflinks", "body": "<p>I'm trying to apply a color scale to a graph that I'm generating from a dataframe using pandas, plotly and cuflinks.</p>\n\n<p>It's breaking if I try to use a certain colorscale:</p>\n\n<pre><code>import pandas as pd\nimport cufflinks as cf\nimport colorlover as cl\nfrom plotly.offline import download_plotlyjs, init_notebook_mode,plot,iplot\nfrom IPython.display import HTML\n\ninit_notebook_mode(connected=True)\ncf.go_offline()\n</code></pre>\n\n<p>Here are my colorscales, both of which I can display fine like this:</p>\n\n<pre><code>bupu = cl.scales['9']['seq']['BuPu']\ncs12 = cl.scales['12']['qual']['Paired']\nHTML(cl.to_html(cs12))\n</code></pre>\n\n<p>If I create a plot using 'bupu' it works great, however if I attempt he same with 'cs12' I get an error:</p>\n\n<p>This works:</p>\n\n<pre><code>df.iplot(kind='bar',colorscale='bupu')\n</code></pre>\n\n<p>This does not:</p>\n\n<pre><code>df.iplot(kind='bar',colorscale='cs12')\n</code></pre>\n\n<blockquote>\n  <p>KeyError: 'cs12'</p>\n</blockquote>\n"}, {"tags": ["python", "kivy"], "answers": [{"comments": [{"owner": {"reputation": 5599, "user_id": 2129897, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/cf24fc5689951cf384e614bde3cfece2?s=128&d=identicon&r=PG", "display_name": "Fuzzyma", "link": "https://stackoverflow.com/users/2129897/fuzzyma"}, "edited": false, "score": 0, "creation_date": 1476303698, "post_id": 40007463, "comment_id": 67293320, "body": "cool! thats working. Any ideas on how to bring the window to the front? :P"}, {"owner": {"reputation": 1565, "user_id": 4777984, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hKj3L.jpg?s=128&g=1", "display_name": "tgikal", "link": "https://stackoverflow.com/users/4777984/tgikal"}, "edited": false, "score": 0, "creation_date": 1476303910, "post_id": 40007463, "comment_id": 67293437, "body": "A comment on the link I posted discusses focus not being set, it says: &quot;I can confirm this is happening to me too. I have to put .show() twice for it to work as expected.&quot;"}, {"owner": {"reputation": 5599, "user_id": 2129897, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/cf24fc5689951cf384e614bde3cfece2?s=128&d=identicon&r=PG", "display_name": "Fuzzyma", "link": "https://stackoverflow.com/users/2129897/fuzzyma"}, "edited": false, "score": 0, "creation_date": 1476307091, "post_id": 40007463, "comment_id": 67295181, "body": "That did not work for me. But <code>Window.minimize()</code> + <code>Window.restore()</code> did the trick - what a hack... why is there no <code>focus()</code> method?"}], "tags": [], "owner": {"reputation": 7186, "user_id": 5741460, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-oxgS1vLh9Co/AAAAAAAAAAI/AAAAAAAAAAA/5hRLB7BLWWA/photo.jpg?sz=128", "display_name": "Yoav Glazner", "link": "https://stackoverflow.com/users/5741460/yoav-glazner"}, "is_accepted": true, "score": 2, "last_activity_date": 1476302946, "creation_date": 1476302946, "answer_id": 40007463, "question_id": 40007305, "link": "https://stackoverflow.com/questions/40007305/how-do-i-make-window-visiable-invisible-at-runtime/40007463#40007463", "title": "How do I make window visiable/invisible at runtime?", "body": "<p>It seems that if you are using the SDL provider you have a <strong>hide &amp; show</strong> functions on the Window object</p>\n\n<p>from the kivy.core.window docs:</p>\n\n<pre><code>hide() Added in 1.9.0\nHides the window. This method should be used on desktop platforms only.\n\nNote\nThis feature requires the SDL2 window provider and is currently only supported on desktop platforms.\n\nshow()\u00b6Added in 1.9.0\nShows the window. This method should be used on desktop platforms only.\n\nNote\nThis feature requires the SDL2 window provider and is currently only supported on desktop platforms.\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 5599, "user_id": 2129897, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/cf24fc5689951cf384e614bde3cfece2?s=128&d=identicon&r=PG", "display_name": "Fuzzyma", "link": "https://stackoverflow.com/users/2129897/fuzzyma"}, "edited": false, "score": 0, "creation_date": 1476303663, "post_id": 40007538, "comment_id": 67293297, "body": "As I said in my question: simply changing the Config at runtime does nothing"}, {"owner": {"reputation": 1565, "user_id": 4777984, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hKj3L.jpg?s=128&g=1", "display_name": "tgikal", "link": "https://stackoverflow.com/users/4777984/tgikal"}, "reply_to_user": {"reputation": 5599, "user_id": 2129897, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/cf24fc5689951cf384e614bde3cfece2?s=128&d=identicon&r=PG", "display_name": "Fuzzyma", "link": "https://stackoverflow.com/users/2129897/fuzzyma"}, "edited": false, "score": 0, "creation_date": 1476304023, "post_id": 40007538, "comment_id": 67293497, "body": "Sorry, didn&#39;t comprehend that at the time."}], "tags": [], "owner": {"reputation": 1565, "user_id": 4777984, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hKj3L.jpg?s=128&g=1", "display_name": "tgikal", "link": "https://stackoverflow.com/users/4777984/tgikal"}, "is_accepted": false, "score": 1, "last_activity_date": 1476303669, "last_edit_date": 1476303669, "creation_date": 1476303241, "answer_id": 40007538, "question_id": 40007305, "link": "https://stackoverflow.com/questions/40007305/how-do-i-make-window-visiable-invisible-at-runtime/40007538#40007538", "title": "How do I make window visiable/invisible at runtime?", "body": "<p>I'm not familiar with Kivy, but it looks like you just need to set it to visible.</p>\n\n<p><code>window_state</code>: string , one of 'visible', 'hidden', 'maximized' \\\n                    or 'minimized'</p>\n\n<p>from:\n<a href=\"https://kivy.org/docs/_modules/kivy/config.html\" rel=\"nofollow\">https://kivy.org/docs/_modules/kivy/config.html</a></p>\n\n<p>Looking at this github post: <a href=\"https://github.com/kivy/kivy/issues/3637\" rel=\"nofollow\">https://github.com/kivy/kivy/issues/3637</a></p>\n\n<p>The method they're using is .hide() and .show().</p>\n"}], "owner": {"reputation": 5599, "user_id": 2129897, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/cf24fc5689951cf384e614bde3cfece2?s=128&d=identicon&r=PG", "display_name": "Fuzzyma", "link": "https://stackoverflow.com/users/2129897/fuzzyma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 357, "favorite_count": 0, "accepted_answer_id": 40007463, "answer_count": 2, "score": 1, "last_activity_date": 1476355071, "creation_date": 1476302380, "last_edit_date": 1476355071, "question_id": 40007305, "link": "https://stackoverflow.com/questions/40007305/how-do-i-make-window-visiable-invisible-at-runtime", "title": "How do I make window visiable/invisible at runtime?", "body": "<p>I am using kivy to create a small Gui for my python program. This Gui is not always visible. So I start it with these settings:</p>\n\n<pre><code>Config.set('graphics', 'borderless', True)\nConfig.set('graphics', 'resizable', False)\nConfig.set('graphics', 'window_state', 'hidden')\n</code></pre>\n\n<p>However: Somewhere in my program I want to make the window visible again. How do I do that? I couldnt find anything that changes configuration at runtime.</p>\n"}, {"tags": ["python", "random", "shuffle", "attributeerror"], "comments": [{"owner": {"reputation": 62518, "user_id": 469300, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/f8256aabf1f8938bc2356b1fbeb227f4?s=128&d=identicon&r=PG", "display_name": "slezica", "link": "https://stackoverflow.com/users/469300/slezica"}, "edited": false, "score": 4, "creation_date": 1476302443, "post_id": 40007295, "comment_id": 67292661, "body": "Do you have a <code>random.py</code> file that might be getting imported instead of standard random? <code>print random</code> will tell you"}, {"owner": {"reputation": 46515, "user_id": 5647260, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/oByMV.jpg?s=128&g=1", "display_name": "Andrew Li", "link": "https://stackoverflow.com/users/5647260/andrew-li"}, "edited": false, "score": 1, "creation_date": 1476302521, "post_id": 40007295, "comment_id": 67292719, "body": "<i>Very</i> related: <a href=\"http://stackoverflow.com/q/20486334/5647260\">stackoverflow.com/q/20486334/5647260</a>"}, {"owner": {"reputation": 51, "user_id": 6950621, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-4HtXqj6x8pE/AAAAAAAAAAI/AAAAAAAAAcg/x4DGm1OjgWk/photo.jpg?sz=128", "display_name": "Alex H", "link": "https://stackoverflow.com/users/6950621/alex-h"}, "reply_to_user": {"reputation": 46515, "user_id": 5647260, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/oByMV.jpg?s=128&g=1", "display_name": "Andrew Li", "link": "https://stackoverflow.com/users/5647260/andrew-li"}, "edited": false, "score": 0, "creation_date": 1476302691, "post_id": 40007295, "comment_id": 67292803, "body": "@AndrewL. thanks i had a look :)"}, {"owner": {"reputation": 51, "user_id": 6950621, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-4HtXqj6x8pE/AAAAAAAAAAI/AAAAAAAAAcg/x4DGm1OjgWk/photo.jpg?sz=128", "display_name": "Alex H", "link": "https://stackoverflow.com/users/6950621/alex-h"}, "reply_to_user": {"reputation": 62518, "user_id": 469300, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/f8256aabf1f8938bc2356b1fbeb227f4?s=128&d=identicon&r=PG", "display_name": "slezica", "link": "https://stackoverflow.com/users/469300/slezica"}, "edited": false, "score": 0, "creation_date": 1476302721, "post_id": 40007295, "comment_id": 67292823, "body": "@slezica thank you this solved my problem! Don&#39;t I feel silly now that it was so simple :&#39;)"}], "owner": {"reputation": 51, "user_id": 6950621, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-4HtXqj6x8pE/AAAAAAAAAAI/AAAAAAAAAcg/x4DGm1OjgWk/photo.jpg?sz=128", "display_name": "Alex H", "link": "https://stackoverflow.com/users/6950621/alex-h"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2335, "favorite_count": 0, "closed_date": 1476302543, "answer_count": 0, "score": 0, "last_activity_date": 1476302451, "creation_date": 1476302338, "question_id": 40007295, "link": "https://stackoverflow.com/questions/40007295/attributeerror-when-trying-to-use-random-shuffle-after-importing-random", "closed_reason": "Duplicate", "title": "AttributeError when trying to use random.shuffle, after importing random?", "body": "<p>This code worked last night on my IDE Pycharm, but gives me this message when I try to run it now (have not updated or changed anything since then):</p>\n\n<p>Traceback (most recent call last):\n  File \"\", line 5, in \n    random.shuffle(s)\nAttributeError: module 'random' has no attribute 'shuffle'</p>\n\n<p>Here is the code I am running: </p>\n\n<pre><code>    import random\n\n    digits = [str(i) for i in range(10)]\n    s = [''.join([a,b,c,d]) for a in digits for b in digits for c in digits for d in digits]\n    random.shuffle(s)\n    real_password = '1234'\n    i = 0\n\n    for code in s:\nif code == real_password:\n    print()\n    print('The password is: ', code)\n    break\nelse:\n    i += 1\n    print(i, ' failures', end='\\r')\n</code></pre>\n"}, {"tags": ["python", "gimp", "gimpfu"], "comments": [{"owner": {"reputation": 27649, "user_id": 5067311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qjltV.png?s=128&g=1", "display_name": "Andras Deak", "link": "https://stackoverflow.com/users/5067311/andras-deak"}, "edited": false, "score": 1, "creation_date": 1476308911, "post_id": 40007253, "comment_id": 67295983, "body": "<a href=\"http://gimpchat.com/viewtopic.php?f=8&amp;t=8617\" rel=\"nofollow noreferrer\">This thread</a> suggests that plugins <i>can</i> break the undo history, but mostly if they tackle the history themselves. Anyway, don&#39;t you mean yout <code>if os.path.isfile(new_path)</code> block to be inside the 5-element <code>for</code> loop?"}, {"owner": {"reputation": 5658, "user_id": 6378557, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/GVoNt.png?s=128&g=1", "display_name": "xenoid", "link": "https://stackoverflow.com/users/6378557/xenoid"}, "edited": false, "score": 2, "creation_date": 1476316002, "post_id": 40007253, "comment_id": 67298205, "body": "I don&#39;t even understand how this runs because your registration code isn&#39;t declaring any parameter so plugin_main must be receiving &quot;None&quot; for both parameters. I have a very similar plugin (<a href=\"http://sourceforge.net/projects/gimp-path-tools/files/scripts/\" rel=\"nofollow noreferrer\">ofn-file-next</a>) and no such issues with it..."}, {"owner": {"reputation": 303, "user_id": 1850614, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/7e349b8cc3a3a8e6290f9fa489d18567?s=128&d=identicon&r=PG", "display_name": "dcofer", "link": "https://stackoverflow.com/users/1850614/dcofer"}, "edited": false, "score": 0, "creation_date": 1476372561, "post_id": 40007253, "comment_id": 67327562, "body": "You are correct. When I was formatting this for the post I got the indents for that if block wrong."}, {"owner": {"reputation": 303, "user_id": 1850614, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/7e349b8cc3a3a8e6290f9fa489d18567?s=128&d=identicon&r=PG", "display_name": "dcofer", "link": "https://stackoverflow.com/users/1850614/dcofer"}, "edited": false, "score": 0, "creation_date": 1476372908, "post_id": 40007253, "comment_id": 67327817, "body": "I do not see an ofn-file-next.py plugin at the link you provided?"}], "owner": {"reputation": 303, "user_id": 1850614, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/7e349b8cc3a3a8e6290f9fa489d18567?s=128&d=identicon&r=PG", "display_name": "dcofer", "link": "https://stackoverflow.com/users/1850614/dcofer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 200, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1476372497, "creation_date": 1476302219, "last_edit_date": 1476372497, "question_id": 40007253, "link": "https://stackoverflow.com/questions/40007253/gimp-python-plugin-loading-image-disables-undo-history", "title": "Gimp Python plugin loading image disables undo history", "body": "<p>I have a set of images that I am trying to process manually, so I wrote a simple plug-in to try and help make it a little less painful. The images are numbered sequentially. So when I finish working on one image I can hit a key combo and it saves the file with the correct name and opens the next one in the list. This all works fine. </p>\n\n<p>The issue I have with the plug-in is that for newly opened images the undo-redo history does not work. I am not sure if I am not loading it in correctly, or if there is something that I have to set for the undo history to be enabled. When the new image is loaded the undo history is completely blank, and when I make changes to the image nothing new is added to it as I work on the file. This makes it difficult to do anything as a mistake means starting over. I am using the latest gimp version 2.8.18. </p>\n\n<p>I am a complete newb at writing gimp plug-ins and built this from web examples, so any help to figure out why this is happening would greatly appreciated. Here is the code I wrote for the plug-in:</p>\n\n<pre><code>#!/usr/bin/python\n\nfrom gimpfu import *\nimport os.path\n\ndef get_next_filename(filepath):\n    #Now figure out the next image to load\n    old_file = filepath.replace(\"\\\\\", \"/\")\n    file_info = old_file.split('/')\n    #print file_info\n\n    name = file_info[len(file_info) - 1].replace(\".JPG\", \"\").replace(\"P\", \"\")\n    print name\n\n    next_num = int(name) + 1\n\n    new_name = \"P\" + str(next_num) + \".JPG\"\n    print new_name\n\n    file_info[len(file_info) - 1] = new_name\n    s = \"/\"\n    new_path = s.join(file_info)\n    print new_path\n    return new_path\n\ndef plugin_main(timg, tdrawable):\n    print \"orig filename: \", timg.filename\n    new_filename = timg.filename.replace(\".JPG\", \"_colored.JPG\")\n    print \"new filename: \", new_filename\n    layer = pdb.gimp_image_merge_visible_layers(timg, CLIP_TO_IMAGE)\n\n    if not os.path.isfile(new_filename):\n        pdb.gimp_file_save(timg, layer, new_filename, '?')\n    else:\n        pdb.gimp_message (\"Failed to save segmented image. File \" + new_filename + \" already exists.\")\n\n    print \"Closing image\"\n    #pdb.gimp_display_delete(gimp._id2display(0))\n\n    #Try to load one of the next 5 consecutive image numbers.\n    #If none found then quit plugin, else load it.\n    new_path = timg.filename\n    for i in range(0,5): \n        new_path = get_next_filename(new_path)\n\n        if os.path.isfile(new_path):\n            print new_path + \" found. Loading it.\"\n            img = pdb.file_jpeg_load(new_path, new_path)\n            pdb.gimp_display_new(img)\n            return  \n\n    pdb.gimp_message (\"No more consecutive images were found in the folder.\")\n\n\n\nregister(\n        \"segmented_saver\",\n        \"Saves a segmented image with the correct name and opens next image.\",\n        \"Saves a segmented image with the correct name and opens next image.\",\n        \"DC\",\n        \"DC\",\n        \"2016\",\n        \"&lt;Image&gt;/Image/Save Segmented...\",\n        \"RGB*, GRAY*\",\n        [],\n        [],\n        plugin_main)\n\nmain()\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 17319, "user_id": 3124746, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/0ihpR.jpg?s=128&g=1", "display_name": "vishes_shell", "link": "https://stackoverflow.com/users/3124746/vishes-shell"}, "edited": false, "score": 0, "creation_date": 1476302262, "post_id": 40007245, "comment_id": 67292558, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/10356424/formatting-nested-lists-tuples\">Formatting nested lists/tuples</a>"}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1476302677, "post_id": 40007245, "comment_id": 67292794, "body": "Why would regex work? It&#39;s for parsing strings, not creating them."}, {"owner": {"reputation": 73, "user_id": 7009999, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/ed07f1f5ab1be66b8d54d997fb1e782d?s=128&d=identicon&r=PG&f=1", "display_name": "Iwan. J", "link": "https://stackoverflow.com/users/7009999/iwan-j"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1476302730, "post_id": 40007245, "comment_id": 67292831, "body": "@jonrsharpe I was treating the list as a string, I see now"}], "answers": [{"comments": [{"owner": {"reputation": 62518, "user_id": 469300, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/f8256aabf1f8938bc2356b1fbeb227f4?s=128&d=identicon&r=PG", "display_name": "slezica", "link": "https://stackoverflow.com/users/469300/slezica"}, "edited": false, "score": 2, "creation_date": 1476302326, "post_id": 40007268, "comment_id": 67292595, "body": "Note: unlike the original post, Soviut uses <code>groups</code> as the name for the variable, since <code>list</code> is a standard global function in python. It&#39;s usually a good idea to avoid clashes with global names"}, {"owner": {"reputation": 73, "user_id": 7009999, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/ed07f1f5ab1be66b8d54d997fb1e782d?s=128&d=identicon&r=PG&f=1", "display_name": "Iwan. J", "link": "https://stackoverflow.com/users/7009999/iwan-j"}, "edited": false, "score": 0, "creation_date": 1476302416, "post_id": 40007268, "comment_id": 67292643, "body": "The output I&#39;m getting from this is is character on a single line"}, {"owner": {"reputation": 73, "user_id": 7009999, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/ed07f1f5ab1be66b8d54d997fb1e782d?s=128&d=identicon&r=PG&f=1", "display_name": "Iwan. J", "link": "https://stackoverflow.com/users/7009999/iwan-j"}, "edited": false, "score": 0, "creation_date": 1476302571, "post_id": 40007268, "comment_id": 67292745, "body": "I apologise, I fixed my issue above by removing the str() function when getting my output for the list, thanks for the solution greatly appreciated"}], "tags": [], "owner": {"reputation": 78904, "user_id": 46914, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d47d0397605e4b9cab9fd8fce027e3b5?s=128&d=identicon&r=PG", "display_name": "Soviut", "link": "https://stackoverflow.com/users/46914/soviut"}, "is_accepted": true, "score": 5, "last_activity_date": 1476302254, "creation_date": 1476302254, "answer_id": 40007268, "question_id": 40007245, "link": "https://stackoverflow.com/questions/40007245/format-nested-list-python/40007268#40007268", "title": "Format nested list python", "body": "<p>Iterate over your groups and join the items from each group using a comma.</p>\n\n<pre><code>groups = [['name1', 'maths,english'], ['name2', 'maths,science']]\n\nfor group in groups:\n    print ', '.join(group)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3991, "user_id": 658060, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/CZaTB.jpg?s=128&g=1", "display_name": "c24b", "link": "https://stackoverflow.com/users/658060/c24b"}, "is_accepted": false, "score": 0, "last_activity_date": 1559945703, "creation_date": 1559945703, "answer_id": 56501782, "question_id": 40007245, "link": "https://stackoverflow.com/questions/40007245/format-nested-list-python/56501782#56501782", "title": "Format nested list python", "body": "<p>In Python3 you could use <a href=\"https://docs.python.org/3/library/stdtypes.html#str.format\" rel=\"nofollow noreferrer\">format()</a> as described in <a href=\"https://www.python.org/dev/peps/pep-3101/\" rel=\"nofollow noreferrer\">PEP 3101</a></p>\n\n<pre class=\"lang-py prettyprint-override\"><code>\nfmt_groups = \"\\n\".join([\"{},{}\".format(*group) for group in groups])\nprint(fmt_groups)\n</code></pre>\n"}], "owner": {"reputation": 73, "user_id": 7009999, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/ed07f1f5ab1be66b8d54d997fb1e782d?s=128&d=identicon&r=PG&f=1", "display_name": "Iwan. J", "link": "https://stackoverflow.com/users/7009999/iwan-j"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 824, "favorite_count": 1, "accepted_answer_id": 40007268, "answer_count": 2, "score": 0, "last_activity_date": 1559945703, "creation_date": 1476302178, "question_id": 40007245, "link": "https://stackoverflow.com/questions/40007245/format-nested-list-python", "title": "Format nested list python", "body": "<pre><code>list=[['name1', 'maths,english'], ['name2', 'maths,science']]\n</code></pre>\n\n<p>I have a nested list that likes something like this, I am trying to work out how to format it so that the out put would be something like the following:</p>\n\n<pre><code>name1, maths,english\nname2, maths,science\n</code></pre>\n\n<p>I have tried using regex to no avail. How would I go about formatting or manipulating the list output to get something like the above?</p>\n"}, {"tags": ["python", "apache-spark", "pyspark", "apache-spark-sql"], "comments": [{"owner": {"reputation": 9179, "user_id": 5827767, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b36cb15cf87fdd2b880ca1193443b653?s=128&d=identicon&r=PG&f=1", "display_name": "David", "link": "https://stackoverflow.com/users/5827767/david"}, "edited": false, "score": 0, "creation_date": 1476302567, "post_id": 40007145, "comment_id": 67292743, "body": "what is <code>like</code> supposed to do?"}, {"owner": {"reputation": 1319, "user_id": 4013447, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/9fa3032242dfd5e4ceede33a8c45241a?s=128&d=identicon&r=PG&f=1", "display_name": "newleaf", "link": "https://stackoverflow.com/users/4013447/newleaf"}, "reply_to_user": {"reputation": 9179, "user_id": 5827767, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b36cb15cf87fdd2b880ca1193443b653?s=128&d=identicon&r=PG&f=1", "display_name": "David", "link": "https://stackoverflow.com/users/5827767/david"}, "edited": false, "score": 0, "creation_date": 1476303917, "post_id": 40007145, "comment_id": 67293442, "body": "branch name  is something like ABC&#39;S  and allow something before and after ABC&#39;S"}], "answers": [{"tags": [], "owner": {"reputation": 280325, "user_id": 1560062, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7c5027e3046fed86e8e34b4fa0e6246c?s=128&d=identicon&r=PG", "display_name": "zero323", "link": "https://stackoverflow.com/users/1560062/zero323"}, "is_accepted": true, "score": 0, "last_activity_date": 1476311198, "creation_date": 1476311198, "answer_id": 40009388, "question_id": 40007145, "link": "https://stackoverflow.com/questions/40007145/pyspark-error-java-lang-runtimeexception-1-18-failure-identifier-expected/40009388#40009388", "title": "pyspark error :java.lang.RuntimeException: [1.18] failure: identifier expected", "body": "<p>You should:</p>\n\n<ul>\n<li>Enclose  all strings inside single or double quotes.</li>\n<li>Depending on the choice of the enclosing quotes escape embedded quote and backslash. </li>\n</ul>\n\n<p>Let's explain this by example. Here's the data:</p>\n\n<pre><code>df = sc.parallelize([(\"ABC'S\", \"FOO ABC'S\")]).toDF([\"organization\", \"branch\"])\n</code></pre>\n\n<p>If you decide to use single quotes you have to escape embedded quote as well as backslash.</p>\n\n<pre><code>df.filter(\"\"\"organization='ABC\\\\'S' and branch like '%ABC\\\\'S%'\"\"\")\n</code></pre>\n\n<p>If you decide to use double quotes you may skip escaping completely:</p>\n\n<pre><code>df.filter('''organization=\"ABC'S\"  and branch like \"%ABC'S%\"''')\n</code></pre>\n\n<p>In general you'll save yourself a lot of troubleshooting by replacing SQL strings with method calls:</p>\n\n<pre><code>df.where((df[\"organization\"] == \"ABC'S\") &amp; df[\"branch\"].like(\"%ABC'S\")) \n</code></pre>\n"}], "owner": {"reputation": 1319, "user_id": 4013447, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/9fa3032242dfd5e4ceede33a8c45241a?s=128&d=identicon&r=PG&f=1", "display_name": "newleaf", "link": "https://stackoverflow.com/users/4013447/newleaf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 676, "favorite_count": 0, "accepted_answer_id": 40009388, "answer_count": 1, "score": 0, "last_activity_date": 1502232151, "creation_date": 1476301832, "last_edit_date": 1502232151, "question_id": 40007145, "link": "https://stackoverflow.com/questions/40007145/pyspark-error-java-lang-runtimeexception-1-18-failure-identifier-expected", "title": "pyspark error :java.lang.RuntimeException: [1.18] failure: identifier expected", "body": "<p>I want to do a filter on a DataFrame of people in the organization of ABC's and branch name like ABC'S:</p>\n\n<pre><code> people.filter(\" orgnization = ABC\\'S and branch like '%ABC\\'S%'  \").show()\n</code></pre>\n\n<p>Here is the error I got</p>\n\n<pre><code>Py4JJavaError: An error occurred while calling o47.filter.\n: java.lang.RuntimeException: [1.18] failure: identifier expected\n</code></pre>\n"}, {"tags": ["python", "web-scraping", "beautifulsoup"], "answers": [{"comments": [{"owner": {"reputation": 571, "user_id": 1807557, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/33aef2037d797aca4d0d008c2af4a339?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/1807557/daniel"}, "edited": false, "score": 0, "creation_date": 1476303193, "post_id": 40007496, "comment_id": 67293052, "body": "Unless I&#39;m missing something, my code mimics the first example you have given.  I do get different results based on the indentation of the <code>print</code> command.  If one level of indentation is removed, I get the last pair possible <code>Urology - Georgia Urology</code> but I lose all previous iterations."}], "tags": [], "owner": {"reputation": 21, "user_id": 6884169, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c99a3d1d6000d24c5bf740ad96a9977?s=128&d=identicon&r=PG&f=1", "display_name": "Smitje", "link": "https://stackoverflow.com/users/6884169/smitje"}, "is_accepted": false, "score": -1, "last_activity_date": 1476303057, "creation_date": 1476303057, "answer_id": 40007496, "question_id": 40007131, "link": "https://stackoverflow.com/questions/40007131/duplicate-element-from-for-loop-in-beautifulsoup/40007496#40007496", "title": "Duplicate element from for loop in BeautifulSoup", "body": "<p>could it be the indentation?\nHow should the for loops be nested?\nin python I would expect something like:</p>\n\n<pre><code>for tabele ...:\n    for specialty ...:\n        spe..\n    for name ...:\n        name ...\n        print ...\n</code></pre>\n\n<p>or</p>\n\n<pre><code>for tabele ...:\n    for specialty ...:\n        spe..\n        for name ...:\n            name ...\n            print ...\n</code></pre>\n"}], "owner": {"reputation": 571, "user_id": 1807557, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/33aef2037d797aca4d0d008c2af4a339?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/1807557/daniel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 74, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1476313280, "creation_date": 1476301782, "last_edit_date": 1476313280, "question_id": 40007131, "link": "https://stackoverflow.com/questions/40007131/duplicate-element-from-for-loop-in-beautifulsoup", "title": "Duplicate element from for loop in BeautifulSoup", "body": "<p>Given the code:</p>\n\n<pre><code>import urllib\nimport urllib.request\nfrom bs4 import BeautifulSoup\nfrom urllib.request import urlopen\n\ndef make_soup(url):\n    thepage = urllib.request.urlopen(url)\n    soupdata = BeautifulSoup(thepage, \"html.parser\")\n    return soupdata\n\nsoup = make_soup(\"https://www.wellstar.org/locations/pages/wellstar-acworth-practices.aspx\")\nfor table in soup.findAll(\"table\", class_ = \"s4-wpTopTable\"):\n    for specialty in table.findAll(\"div\", class_ = \"PurpleBackgroundHeading\"):\n        specialty = specialty.get_text(strip = True)\nfor name in table.findAll(class_ = \"WS_Location_Name\"):\n    name = name.get_text()\n    print(specialty, \" - \", name)\n</code></pre>\n\n<p>This code yields the properly looped location name coupled with the improperly looped specialty name.  For example, the previous code produces:</p>\n\n<pre><code>Urology - Center for Spine Interventions, PC\nUrology - WellStar Medical GroupCardiovascular Medicine\n</code></pre>\n\n<p>With <code>Urology - Georgia Urology</code> being the last couple produced.  How can I be sure to create pairs of Specialties and Location Names that correspond to reality?</p>\n"}, {"tags": ["python", "numpy", "elementwise-operations"], "answers": [{"comments": [{"owner": {"reputation": 485, "user_id": 5807388, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-R4Ji1j-xY74/AAAAAAAAAAI/AAAAAAAAE-8/BXGVRjFaCnI/photo.jpg?sz=128", "display_name": "Lewis Fogden", "link": "https://stackoverflow.com/users/5807388/lewis-fogden"}, "edited": false, "score": 0, "creation_date": 1476302985, "post_id": 40007257, "comment_id": 67292955, "body": "may also want to consider using math.exp rather than np.exp, as there may be little to gain from np.exp"}, {"owner": {"reputation": 12642, "user_id": 3019689, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/cc10b8b7be444698cc0737fb52d51ce7?s=128&d=identicon&r=PG&f=1", "display_name": "jez", "link": "https://stackoverflow.com/users/3019689/jez"}, "reply_to_user": {"reputation": 485, "user_id": 5807388, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-R4Ji1j-xY74/AAAAAAAAAAI/AAAAAAAAE-8/BXGVRjFaCnI/photo.jpg?sz=128", "display_name": "Lewis Fogden", "link": "https://stackoverflow.com/users/5807388/lewis-fogden"}, "edited": false, "score": 0, "creation_date": 1476321499, "post_id": 40007257, "comment_id": 67299524, "body": "@LewisFogden could do, but I think then you&#39;d have to explicitly iterate over the inner tuples as well as the outer list."}], "tags": [], "owner": {"reputation": 12642, "user_id": 3019689, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/cc10b8b7be444698cc0737fb52d51ce7?s=128&d=identicon&r=PG&f=1", "display_name": "jez", "link": "https://stackoverflow.com/users/3019689/jez"}, "is_accepted": true, "score": 5, "last_activity_date": 1476302651, "last_edit_date": 1476302651, "creation_date": 1476302225, "answer_id": 40007257, "question_id": 40007120, "link": "https://stackoverflow.com/questions/40007120/python-or-numpy-approach-to-matlabs-cellfun/40007257#40007257", "title": "Python or Numpy Approach to MATLAB&#39;s &quot;cellfun&quot;", "body": "<p>The most readable/maintainable approach will probably be to use a <a href=\"https://docs.python.org/2/tutorial/datastructures.html#list-comprehensions\" rel=\"nofollow\">list comprehension</a>:</p>\n\n<pre><code>yy = [ np.exp(xxi) for xxi in xx ]\n</code></pre>\n\n<p>That relies on <code>numpy.exp</code> to implicitly convert each tuple into a <code>numpy.ndarray</code>, which in turn means that you'll get a list of <code>numpy.ndarray</code>s back rather than a list of tuples. That's probably OK for nearly all purposes, but if you absolutely have to have tuples that's also easy enough to arrange:</p>\n\n<pre><code>yy = [ tuple(np.exp(xxi)) for xxi in xx ]\n</code></pre>\n\n<p>For some purposes (e.g. to avoid memory bottlenecks) you may prefer to use a <a href=\"https://docs.python.org/2/reference/expressions.html#generator-expressions\" rel=\"nofollow\">generator expression</a> rather than a list comprehension (round brackets instead of square).</p>\n"}, {"tags": [], "owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "is_accepted": false, "score": 2, "last_activity_date": 1476304877, "creation_date": 1476304877, "answer_id": 40007984, "question_id": 40007120, "link": "https://stackoverflow.com/questions/40007120/python-or-numpy-approach-to-matlabs-cellfun/40007984#40007984", "title": "Python or Numpy Approach to MATLAB&#39;s &quot;cellfun&quot;", "body": "<p>MATLAB cells were it's attempt to handle general lists like a real language.  But being MATLAB they have to be 2d.  But in general, in Python uses lists where MATLAB uses cells.  <code>numpy</code> arrays with <code>dtype=object</code> behave similarly, adding multidimensions.</p>\n\n<p>Taking the object array route, I can use <code>frompyfunc</code> to apply this function to elements of a list or array:</p>\n\n<pre><code>In [231]: np.frompyfunc(np.exp,1,1)([(4,2),(1,2,3)])\nOut[231]: \narray([array([ 54.59815003,   7.3890561 ]),\n       array([  2.71828183,   7.3890561 ,  20.08553692])], dtype=object)\nIn [232]: np.frompyfunc(np.exp,1,1)([(4,2),(1,2)])\nOut[232]: \narray([[54.598150033144236, 7.3890560989306504],\n       [2.7182818284590451, 7.3890560989306504]], dtype=object)\n</code></pre>\n\n<p>In the 2nd case the result is (2,2), in the first (2,) shape.  That's because of how <code>np.array([...])</code> handles those 2 inputs.</p>\n\n<p>List comprehensions are just as fast, and probably give better control.  Or at least can be more predictable.</p>\n"}], "owner": {"reputation": 53, "user_id": 6499413, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4094f8141ffb1d06cbd8ca91713274ca?s=128&d=identicon&r=PG&f=1", "display_name": "rakbar", "link": "https://stackoverflow.com/users/6499413/rakbar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1686, "favorite_count": 0, "accepted_answer_id": 40007257, "answer_count": 2, "score": 1, "last_activity_date": 1476304877, "creation_date": 1476301739, "question_id": 40007120, "link": "https://stackoverflow.com/questions/40007120/python-or-numpy-approach-to-matlabs-cellfun", "title": "Python or Numpy Approach to MATLAB&#39;s &quot;cellfun&quot;", "body": "<p>Is there a python or numpy approach similar to MATLABs \"cellfun\"? I want to apply a function to an object which is a MATLAB cell array with ~300k cells of different lengths.  </p>\n\n<p>A very simple example:</p>\n\n<pre><code>&gt;&gt;&gt; xx = [(4,2), (1,2,3)]\n&gt;&gt;&gt; yy = np.exp(xx)\n\nTraceback (most recent call last):\nFile \"&lt;pyshell#47&gt;\", line 1, in &lt;module&gt;\nyy = np.exp(xx)\nAttributeError: 'tuple' object has no attribute 'exp'\n</code></pre>\n"}]