[{"tags": ["python", "python-3.x", "python-decorators", "idioms"], "comments": [{"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1530144084, "post_id": 51072941, "comment_id": 89135481, "body": "The only standard practices promoted by the Python Foundation are PEP 8. And PEP 8 is only a guideline for &quot;code comprising the standard library in the main Python distribution&quot;. And it hammers home the point that it&#39;s only a guideline, not a rigid recommendation. But, more to the point, it has very little related to higher-level &quot;design-pattern&quot; questions like this, and nothing related to your specific question."}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1530144160, "post_id": 51072941, "comment_id": 89135501, "body": "So, the only answer is that, as far as the PSF&#39;s &quot;promoted standard practices&quot; are concerned, it doesn&#39;t matter what you do. The only way to decide is based on subjective opinions\u2014which may be guided by what&#39;s considered idiomatic by the larger Python community, but that won&#39;t be enshrined in any kind of objective document you can cite."}, {"owner": {"reputation": 664, "user_id": 822315, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/b4f8fcf125c614e12c16106443e7ba7c?s=128&d=identicon&r=PG", "display_name": "codeblooded", "link": "https://stackoverflow.com/users/822315/codeblooded"}, "reply_to_user": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1530144391, "post_id": 51072941, "comment_id": 89135562, "body": "I see, @abarnert. Thank you. That makes sense. Part of me wishes there was a recommendation beyond PEP 8, but I guess the flexibility also allows the community to flush out and develop preferred practices. -- It&#39;s hard decisions like this that people generally seem to dig roots in, and I was hoping to avoid bike-shedding."}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1530144698, "post_id": 51072941, "comment_id": 89135638, "body": "If you want some subjective comments: code written by the core devs, even the stdlib, does both of these (as well as other options, like requiring a specific base class or metaclass). For example, the reason <code>isinstance(iter([1]), collections.abc.Iterable)</code> is true is that <code>collections.abc</code> calls <code>Iterator.register(bytes_iterator)</code> (and the glossary even explains this &quot;virtual subclassing&quot;, so it&#39;s not just some implementation detail hidden under the covers)."}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 2, "creation_date": 1530144786, "post_id": 51072941, "comment_id": 89135656, "body": "But if your main reason not to go with decorators is that they &quot;appear slightly magical to those who are not familiar with decorators&quot;, I don&#39;t think that&#39;s a very good reason unless your code is meant to be read mostly by rank novices or people who will only be working with Python sparingly. Decorators are an important feature of the language, and anyone working on a project that uses them will pick them up quickly."}, {"owner": {"reputation": 664, "user_id": 822315, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/b4f8fcf125c614e12c16106443e7ba7c?s=128&d=identicon&r=PG", "display_name": "codeblooded", "link": "https://stackoverflow.com/users/822315/codeblooded"}, "reply_to_user": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1530144925, "post_id": 51072941, "comment_id": 89135681, "body": "@abarnert makes sense. It&#39;s interesting to see both are used in stdlib. I think the decorator pattern is appealing here. Just wanted to make sure I&#39;m not violating some bad practice."}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1556901082, "post_id": 51072941, "comment_id": 98598509, "body": "You can use <code>__new__()</code> to make subclasses auto-register themselves (which internally uses <code>__subclasses__()</code>). See my answer to <a href=\"https://stackoverflow.com/questions/28035685/improper-use-of-new-to-generate-classes\">Improper use of <code>__new__</code> to generate classes?</a>."}], "answers": [{"tags": [], "owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "is_accepted": true, "score": 2, "last_activity_date": 1530144463, "creation_date": 1530144463, "answer_id": 51072997, "question_id": 51072941, "link": "https://stackoverflow.com/questions/51072941/which-way-is-ideal-for-python-factory-registration/51072997#51072997", "title": "Which way is ideal for Python factory registration?", "body": "<p>There is no answer to this question.</p>\n\n<p>The only standard practices promoted by the Python Foundation are <a href=\"https://www.python.org/dev/peps/pep-0008/\" rel=\"nofollow noreferrer\">PEP 8</a>. </p>\n\n<p>PEP 8 has very little related to higher-level \"design-pattern\" questions like this, and, in particular, nothing related to your specific question.</p>\n\n<p>And, even if it did, PEP 8 is explicitly only a guideline for <a href=\"https://www.python.org/dev/peps/pep-0008/?#introduction\" rel=\"nofollow noreferrer\">\"code comprising the standard library in the main Python distribution\"</a>, and Guido has rejected suggestions to make it some kind of wide-ranging standard that should be enforced on every Python project.</p>\n\n<p>Plus, it hammers home the point that <a href=\"https://www.python.org/dev/peps/pep-0008/?#a-foolish-consistency-is-the-hobgoblin-of-little-minds\" rel=\"nofollow noreferrer\">it's only a guideline, not a rigid recommendation</a>.</p>\n\n<hr>\n\n<p>Of course there are subjective reasons to prefer one design over another. </p>\n\n<p>Ideally, these subjective reasons will usually be driven by some community consensus on what's \"idiomatic\" or \"pythonic\". But that community consensus isn't written down anywhere as some objective source you can cite.</p>\n\n<p>There may be arguments that appeal to <a href=\"https://www.python.org/dev/peps/pep-0020/\" rel=\"nofollow noreferrer\">The Zen of Python</a>, but that itself is just Tim Peters' attempts to distill Guido's own subjective guidelines into a collection of pithy sound bites, not an objective source. (And anyone who takes a brief look at, e.g., the <code>python-ideas</code> list can see that both sides of almost any question can appeal to the Zen\u2026)</p>\n"}], "owner": {"reputation": 664, "user_id": 822315, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/b4f8fcf125c614e12c16106443e7ba7c?s=128&d=identicon&r=PG", "display_name": "codeblooded", "link": "https://stackoverflow.com/users/822315/codeblooded"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 738, "favorite_count": 1, "accepted_answer_id": 51072997, "answer_count": 1, "score": 5, "last_activity_date": 1556900925, "creation_date": 1530143922, "last_edit_date": 1556900925, "question_id": 51072941, "link": "https://stackoverflow.com/questions/51072941/which-way-is-ideal-for-python-factory-registration", "title": "Which way is ideal for Python factory registration?", "body": "<p>This is a question about which of these methods would be considered as the most <em>Pythonic</em>. I'm not looking for personal opinions, but, instead, what is idiomatic. My background is not in Python, so this will help me.</p>\n\n<p>I'm working on a Python 3 project which is extensible. The idea is similar to the factory pattern, except it is based on functions.</p>\n\n<p>Essentially, users will be able to create a custom function (across packages and projects) which my tool can locate and dynamically invoke. It will also be able to use currying to pass arguments down (but that code is not included here)</p>\n\n<p>My goal is for this to follow good-Pythonic practice. I'm torn between two strategies. And, since Python is not my expertise, I would like to know the pros/cons of the following practices:</p>\n\n<ol>\n<li><p><strong>Use a decorator</strong></p>\n\n<pre><code>registered = {}\n\ndef factoried(name):\n    def __inner_factory_function(fn):\n        registered[name] = fn\n        return fn\n    return __inner_factory_function\n\n\ndef get_function(name):\n    return registered[name]\n</code></pre>\n\n<p>Then, the following function is automatically registered...</p>\n\n<pre><code>@factoried('foo')\ndef build_foo():\n  print('hi')\n</code></pre>\n\n<p>This seems reasonable, but does appear slightly magical to those who are not familiar with decorators.</p></li>\n<li><p><strong>Force sub-classing of an abstract class and use <code>__subclasses__()</code></strong></p>\n\n<p>If subclasses are used, there's no need for registration. However, I feel like this forces classes to be defined when a full class may be unnecessary. Also, the use of <code>.__subclasses__()</code> under the hood could seem magical to consumers as well. However, even Java can be used to search for classes with annotations.</p></li>\n<li><p><strong>Explicit registration</strong></p>\n\n<p>Forget all of the above and force explicit registration. No decorators. No subclasses. Just something like this:</p>\n\n<pre><code>def build_foo():\n  # ...\n\nfactory.register('foo', build_foo)\n</code></pre></li>\n</ol>\n"}, {"tags": ["python", "pandas", "statistics", "data-science", "pyramid-arima"], "comments": [{"owner": {"reputation": 133282, "user_id": 9209546, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qk9vC.jpg?s=128&g=1", "display_name": "jpp", "link": "https://stackoverflow.com/users/9209546/jpp"}, "edited": false, "score": 0, "creation_date": 1530152818, "post_id": 51072938, "comment_id": 89137177, "body": "Without seeing your dataframe or seeing your function definitions, we can&#39;t know <i>for sure</i> where your problem lines. I suggest you print <code>years[x].head()</code> in your loop to see it&#39;s what you expect."}], "answers": [{"tags": [], "owner": {"reputation": 3746, "user_id": 3704368, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/1585b68aa4256705af091781aa50497a?s=128&d=identicon&r=PG&f=1", "display_name": "min2bro", "link": "https://stackoverflow.com/users/3704368/min2bro"}, "is_accepted": false, "score": 1, "last_activity_date": 1530150949, "creation_date": 1530150949, "answer_id": 51073626, "question_id": 51072938, "link": "https://stackoverflow.com/questions/51072938/how-to-split-dataframe-based-on-years-in-python/51073626#51073626", "title": "How to split dataframe based on years in python?", "body": "<p>You can use datetime accesor to filter the rows by year and create a new dataframe by year</p>\n\n<pre><code>import datetime as dt\ndataframe1=dataframe[dataframe['Date'].dt.year == 2012]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 9497, "user_id": 2735286, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/87ddd81aa1b12c27aecdab22da387f5c?s=128&d=identicon&r=PG&f=1", "display_name": "gil.fernandes", "link": "https://stackoverflow.com/users/2735286/gil-fernandes"}, "is_accepted": false, "score": 1, "last_activity_date": 1591782852, "last_edit_date": 1591782852, "creation_date": 1591779640, "answer_id": 62299655, "question_id": 51072938, "link": "https://stackoverflow.com/questions/51072938/how-to-split-dataframe-based-on-years-in-python/62299655#62299655", "title": "How to split dataframe based on years in python?", "body": "<p>If you want to split a dataframe by all available years you can do this by finding the unique years in your dataframe, then loop through these unique years and then use boolean indexing for filtering out in a loop each single year.</p>\n\n<p>So this idea could be implemented in a function like:</p>\n\n<pre><code>def split_years(dt):\n    dt['year'] = dt['Date'].dt.year\n    return [dt[dt['year'] == y] for y in dt['year'].unique()]\n</code></pre>\n\n<p>The result of the function above will be a list of dataframes, each with a single year.</p>\n"}], "owner": {"reputation": 125, "user_id": 9975257, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c044866565fc9459d3e85d60179dac66?s=128&d=identicon&r=PG&f=1", "display_name": "amadzebra", "link": "https://stackoverflow.com/users/9975257/amadzebra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4717, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1591782852, "creation_date": 1530143915, "question_id": 51072938, "link": "https://stackoverflow.com/questions/51072938/how-to-split-dataframe-based-on-years-in-python", "title": "How to split dataframe based on years in python?", "body": "<p>I have a dataframe called \"dataframe\" that contains a bunch of information of sales on a certain date.  Each date entry is in the format of YYYY-MM-DD, and data ranges from 2012 to 2017.  I would like to split this data frame into 6 separate dataframes, one for each year.  So for example, the first split dataframe will have all the entries from 2012.</p>\n\n<p>I think I was able to do this in the code below.  I split the dataframe into one for each year and put them in the list \"years\".  However, when I try to run auto_arima on each dataframe I get the error \"Found input variables with inconsistent numbers of samples.\"</p>\n\n<p>I think this is because I'm not properly splitting my original dataframe correctly.  How do I properly split my dataframe based on year?</p>\n\n<pre><code>#Partition data into years\nyears = [g for n, g in dataframe.set_index('Date').groupby(pd.Grouper(freq='Y'))]\n\n#Create a list that will hold all auto_arima results for every dataframe\nstepwise_models = []\n\n#Call auto_arima on every dataframe\nfor x in range(len(years)-1):\n    currentDf = years[x]\n    model = auto_arima(currentDf['price'], exogenous=xreg, start_p=1, start_q=1,\n        max_p=3, max_q=3, m=12,\n        start_P=0, seasonal=True,\n        d=1, D=1, trace=True,\n        error_action='ignore',  \n        suppress_warnings=True, \n        stepwise=True)\n    stepwise_models.append(model) #Store current auto_arima result in our stepwise_models[] list\n</code></pre>\n"}, {"tags": ["python", "datetime", "time", "datetime-format", "milliseconds"], "comments": [{"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 2, "creation_date": 1530143876, "post_id": 51072902, "comment_id": 89135441, "body": "First, both of those are valid ISO-format datetimes. The <code>T</code> separator is optional, and so are the milliseconds. Next, are you trying to get a <code>datetime</code> object, or a string in the second format? Your question is kind of ambiguous as to which you want. Finally, you don&#39;t have microseconds, you have milliseconds."}, {"owner": {"reputation": 321, "user_id": 9441275, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96c102bbeb8fa9862c1ae81c0269b9ae?s=128&d=identicon&r=PG&f=1", "display_name": "CDNthe2nd", "link": "https://stackoverflow.com/users/9441275/cdnthe2nd"}, "reply_to_user": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1530143983, "post_id": 51072902, "comment_id": 89135461, "body": "oh Im sorry! well basically I just want it to look like <code>2018-03-08 08:00:00</code> Im sorry for saying the wrong micro instead of milli. Really stupid of me but that&#39;s what being up late cause. Basically I just want to translate it from ISO to datetime. That&#39;s it."}, {"owner": {"reputation": 2662, "user_id": 3396860, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/defKI.jpg?s=128&g=1", "display_name": "Stefan Collier", "link": "https://stackoverflow.com/users/3396860/stefan-collier"}, "edited": false, "score": 2, "creation_date": 1530144721, "post_id": 51072902, "comment_id": 89135644, "body": "This chap has a <a href=\"https://stackoverflow.com/questions/466345/converting-string-into-datetime\">smashing little answer</a> that will help get <code>string</code> -&gt; <code>datetime</code> object."}, {"owner": {"reputation": 25595, "user_id": 202229, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/6cc1d82c11563b440c57280ad587ee47?s=128&d=identicon&r=PG", "display_name": "smci", "link": "https://stackoverflow.com/users/202229/smci"}, "edited": false, "score": 0, "creation_date": 1530145896, "post_id": 51072902, "comment_id": 89135845, "body": "Do you actually want to discard the &#39;T&#39; separator and the milliseconds, or just because you don&#39;t know how to handle them?"}], "answers": [{"comments": [{"owner": {"reputation": 321, "user_id": 9441275, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96c102bbeb8fa9862c1ae81c0269b9ae?s=128&d=identicon&r=PG&f=1", "display_name": "CDNthe2nd", "link": "https://stackoverflow.com/users/9441275/cdnthe2nd"}, "edited": false, "score": 0, "creation_date": 1530144161, "post_id": 51072933, "comment_id": 89135502, "body": "If I etc have <code>2018-03-08T08:00:00.000</code> this as my current time in the script let say <code>time = 2018-03-08T08:00:00.000</code> and I want to convert <code>time</code> to format of <code>2018-03-08 08:00:00</code>"}, {"owner": {"reputation": 321, "user_id": 9441275, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96c102bbeb8fa9862c1ae81c0269b9ae?s=128&d=identicon&r=PG&f=1", "display_name": "CDNthe2nd", "link": "https://stackoverflow.com/users/9441275/cdnthe2nd"}, "edited": false, "score": 0, "creation_date": 1530144657, "post_id": 51072933, "comment_id": 89135628, "body": "Oh I appreaciate it! Maybe this is abit overcourse now, but as you see the str_time is now lets act its a UK time- if I want to translate it to my time which is +1 hour from that time. Is there a way to make translate it to &quot;my time&quot; Not needed since I didn&#39;t ask for it so your question is correctly!"}, {"owner": {"reputation": 3767, "user_id": 6329006, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HVL6E.jpg?s=128&g=1", "display_name": "Jayhello", "link": "https://stackoverflow.com/users/6329006/jayhello"}, "reply_to_user": {"reputation": 321, "user_id": 9441275, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96c102bbeb8fa9862c1ae81c0269b9ae?s=128&d=identicon&r=PG&f=1", "display_name": "CDNthe2nd", "link": "https://stackoverflow.com/users/9441275/cdnthe2nd"}, "edited": false, "score": 0, "creation_date": 1530145342, "post_id": 51072933, "comment_id": 89135751, "body": "@CDNthe2nd, I have update a new method, hope it helps."}, {"owner": {"reputation": 321, "user_id": 9441275, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96c102bbeb8fa9862c1ae81c0269b9ae?s=128&d=identicon&r=PG&f=1", "display_name": "CDNthe2nd", "link": "https://stackoverflow.com/users/9441275/cdnthe2nd"}, "edited": false, "score": 0, "creation_date": 1530145795, "post_id": 51072933, "comment_id": 89135826, "body": "Appreacite it alot @JayHello! Really helped me and you made a solution for it! Thanks!"}, {"owner": {"reputation": 25595, "user_id": 202229, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/6cc1d82c11563b440c57280ad587ee47?s=128&d=identicon&r=PG", "display_name": "smci", "link": "https://stackoverflow.com/users/202229/smci"}, "reply_to_user": {"reputation": 321, "user_id": 9441275, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96c102bbeb8fa9862c1ae81c0269b9ae?s=128&d=identicon&r=PG&f=1", "display_name": "CDNthe2nd", "link": "https://stackoverflow.com/users/9441275/cdnthe2nd"}, "edited": false, "score": 0, "creation_date": 1530145823, "post_id": 51072933, "comment_id": 89135831, "body": "@CDNthe2nd: if you need to convert it to &#39;UTC+1&#39; timezone, please edit your question to state that."}, {"owner": {"reputation": 321, "user_id": 9441275, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96c102bbeb8fa9862c1ae81c0269b9ae?s=128&d=identicon&r=PG&f=1", "display_name": "CDNthe2nd", "link": "https://stackoverflow.com/users/9441275/cdnthe2nd"}, "reply_to_user": {"reputation": 25595, "user_id": 202229, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/6cc1d82c11563b440c57280ad587ee47?s=128&d=identicon&r=PG", "display_name": "smci", "link": "https://stackoverflow.com/users/202229/smci"}, "edited": false, "score": 0, "creation_date": 1530145912, "post_id": 51072933, "comment_id": 89135847, "body": "Yeah. I mean its not necessary since that wasn&#39;t my question @smci :) Im happy with this, Its just a bonus with UTC+1 :)"}, {"owner": {"reputation": 25595, "user_id": 202229, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/6cc1d82c11563b440c57280ad587ee47?s=128&d=identicon&r=PG", "display_name": "smci", "link": "https://stackoverflow.com/users/202229/smci"}, "reply_to_user": {"reputation": 321, "user_id": 9441275, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96c102bbeb8fa9862c1ae81c0269b9ae?s=128&d=identicon&r=PG&f=1", "display_name": "CDNthe2nd", "link": "https://stackoverflow.com/users/9441275/cdnthe2nd"}, "edited": false, "score": 1, "creation_date": 1530145989, "post_id": 51072933, "comment_id": 89135865, "body": "@CDNthe2nd: but please edit the question to be a clear and useful resource for other people who come here in future with the same problem. It&#39;s not just about solving your issue ;-) Welcome to SO"}, {"owner": {"reputation": 321, "user_id": 9441275, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96c102bbeb8fa9862c1ae81c0269b9ae?s=128&d=identicon&r=PG&f=1", "display_name": "CDNthe2nd", "link": "https://stackoverflow.com/users/9441275/cdnthe2nd"}, "edited": false, "score": 0, "creation_date": 1530146070, "post_id": 51072933, "comment_id": 89135873, "body": "Oh I mean I think I have done it correctly, @Jayhello did present the solution for me where he used the ISOformat and converted it to the format that I wished for (datetime) and he did that with using strpttime which was exactly what I wanted :)"}], "tags": [], "owner": {"reputation": 3767, "user_id": 6329006, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HVL6E.jpg?s=128&g=1", "display_name": "Jayhello", "link": "https://stackoverflow.com/users/6329006/jayhello"}, "is_accepted": true, "score": 2, "last_activity_date": 1530145309, "last_edit_date": 1530145309, "creation_date": 1530143866, "answer_id": 51072933, "question_id": 51072902, "link": "https://stackoverflow.com/questions/51072902/change-yyyy-mm-ddthh-mm-ss-to-datetime-throw-away-t-separator-and-milliseconds/51072933#51072933", "title": "Change yyyy-mm-ddThh-mm-ss to datetime, throw away T separator and milliseconds", "body": "<p>For example:</p>\n\n<pre><code>import time\nprint time.strftime(\"%Y-%m-%d %H:%M:%S\")\n# 2018-06-28 08:00:35\n</code></pre>\n\n<p>As to your question:</p>\n\n<pre><code>import datetime\nstr_time = '2018-03-08T08:00:00.000'\nd = datetime.datetime.strptime(str_time, \"%Y-%m-%dT%H:%M:%S.%f\")\nprint d\n# 2018-03-08 08:00:00\n</code></pre>\n\n<p>New method:</p>\n\n<pre><code>import time\n\nstr_time = '2018-03-08T08:00:00.000'\nd = time.strptime(str_time, \"%Y-%m-%dT%H:%M:%S.%f\")\n\nprint d\n# time.struct_time(tm_year=2018, tm_mon=3, tm_mday=8, tm_hour=8, tm_min=0, tm_sec=0, tm_wday=3, tm_yday=67, tm_isdst=-1)\n\nprint time.strftime(\"%Y-%m-%d %H:%M:%S\", d)\n# 2018-03-08 08:00:00\n</code></pre>\n"}], "owner": {"reputation": 321, "user_id": 9441275, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96c102bbeb8fa9862c1ae81c0269b9ae?s=128&d=identicon&r=PG&f=1", "display_name": "CDNthe2nd", "link": "https://stackoverflow.com/users/9441275/cdnthe2nd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2024, "favorite_count": 0, "accepted_answer_id": 51072933, "answer_count": 1, "score": 1, "last_activity_date": 1530145649, "creation_date": 1530143603, "last_edit_date": 1530145649, "question_id": 51072902, "link": "https://stackoverflow.com/questions/51072902/change-yyyy-mm-ddthh-mm-ss-to-datetime-throw-away-t-separator-and-milliseconds", "title": "Change yyyy-mm-ddThh-mm-ss to datetime, throw away T separator and milliseconds", "body": "<p>So I have been learning or pretty much just playing around with the time where I managed to get I believe is ISOformat and I for some \"dumb\" reason can't translate it to a datetime from a ISOformat and I looked into </p>\n\n<pre><code>datetime.datetime.strptime\ndatetime.datetime.strftime\n</code></pre>\n\n<p>and I could easily say that i'm already lost from thinking on what to do so here I am.</p>\n\n<p>Etc: I have a time that looks like </p>\n\n<pre><code>2018-03-08T08:00:00.000\n</code></pre>\n\n<p>and want it basically to look:</p>\n\n<pre><code>2018-03-08 08:00:00\n</code></pre>\n\n<p>meaning removing the T and the 3 last micro seconds. </p>\n\n<p>What is the best suggestion to do it?</p>\n"}, {"tags": ["python", "error-handling", "try-catch"], "answers": [{"comments": [{"owner": {"reputation": 4480, "user_id": 7543162, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/Ww9C6.png?s=128&g=1", "display_name": "oldboy", "link": "https://stackoverflow.com/users/7543162/oldboy"}, "edited": false, "score": 0, "creation_date": 1530144419, "post_id": 51072973, "comment_id": 89135569, "body": "I&#39;m wondering if there are alternatives to using some sort of loop to construct objects. <b>Why do you say the first two <code>try-except</code> blocks assign the throw exceptions?!?!</b>"}, {"owner": {"reputation": 195, "user_id": 9980257, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CSzrO.png?s=128&g=1", "display_name": "chemicalcrux", "link": "https://stackoverflow.com/users/9980257/chemicalcrux"}, "reply_to_user": {"reputation": 4480, "user_id": 7543162, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/Ww9C6.png?s=128&g=1", "display_name": "oldboy", "link": "https://stackoverflow.com/users/7543162/oldboy"}, "edited": false, "score": 1, "creation_date": 1530144499, "post_id": 51072973, "comment_id": 89135592, "body": "I mean that you wind up setting <code>description</code>&#39;s value to <code>&#39;Error&#39;</code>, even if it was actually the <code>project_type</code> variable that you failed to look up a value for."}, {"owner": {"reputation": 4480, "user_id": 7543162, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/Ww9C6.png?s=128&g=1", "display_name": "oldboy", "link": "https://stackoverflow.com/users/7543162/oldboy"}, "edited": false, "score": 0, "creation_date": 1530144560, "post_id": 51072973, "comment_id": 89135606, "body": "ohhh, i see what you were referring to now, the typo. damn copy-and-paste"}], "tags": [], "owner": {"reputation": 195, "user_id": 9980257, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CSzrO.png?s=128&g=1", "display_name": "chemicalcrux", "link": "https://stackoverflow.com/users/9980257/chemicalcrux"}, "is_accepted": false, "score": 2, "last_activity_date": 1530144189, "creation_date": 1530144189, "answer_id": 51072973, "question_id": 51072895, "link": "https://stackoverflow.com/questions/51072895/alternative-to-consecutive-try-except-blocks/51072973#51072973", "title": "Alternative to Consecutive Try/Except Blocks", "body": "<p>The reason that your code has a lot of clutter is because you have <em>duplicate code</em>. You're expressing the same idea (look up a value, set a default if it fails) four times in a row, which naturally means you'll have to write the same supporting code four times as well.</p>\n\n<p>Loops are a great way to fix duplicate code - so using a list of names to look up and creating a dictionary of values is the perfect solution for you here. This lets you write the logic <em>once</em> and then use it many times.</p>\n\n<p>(Also: your code duplication led to a bug! The first two try-except blocks assign the <code>'Error'</code> value to <code>description</code> instead of the appropriate variable. Duplicate code can bite!)</p>\n"}, {"comments": [{"owner": {"reputation": 4480, "user_id": 7543162, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/Ww9C6.png?s=128&g=1", "display_name": "oldboy", "link": "https://stackoverflow.com/users/7543162/oldboy"}, "edited": false, "score": 0, "creation_date": 1530144728, "post_id": 51073019, "comment_id": 89135645, "body": "tbh, i&#39;m so new to python (and selenium) that i&#39;m not sure which exception i&#39;m looking for lol. and i know if you put the wrong <code>Exception</code>, itll break the script if a different exception is thrown. **oh, wait, <code>value = xpath</code>, wouldn&#39;t <code>value</code> have to be a parameter too?"}, {"owner": {"reputation": 30484, "user_id": 2875563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/umbJB.jpg?s=128&g=1", "display_name": "Reblochon Masque", "link": "https://stackoverflow.com/users/2875563/reblochon-masque"}, "reply_to_user": {"reputation": 4480, "user_id": 7543162, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/Ww9C6.png?s=128&g=1", "display_name": "oldboy", "link": "https://stackoverflow.com/users/7543162/oldboy"}, "edited": false, "score": 0, "creation_date": 1530145541, "post_id": 51073019, "comment_id": 89135781, "body": "@Anthony, I&#39;ve now consecutively rejected three of your edits that broke the code; why don&#39;t you instead tell me what you would like, and I&#39;ll see how to accommodate it."}, {"owner": {"reputation": 4480, "user_id": 7543162, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/Ww9C6.png?s=128&g=1", "display_name": "oldboy", "link": "https://stackoverflow.com/users/7543162/oldboy"}, "edited": false, "score": 0, "creation_date": 1530145737, "post_id": 51073019, "comment_id": 89135820, "body": "lol which attribute do you imagine <code>.txt</code> belongs to?  not all xpath paths are <code>&#39;.&#47;div[contains(@class, &quot;discoverableCard-{element}&quot;)]&#39;</code> so it must be able to accept any path..."}, {"owner": {"reputation": 30484, "user_id": 2875563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/umbJB.jpg?s=128&g=1", "display_name": "Reblochon Masque", "link": "https://stackoverflow.com/users/2875563/reblochon-masque"}, "reply_to_user": {"reputation": 4480, "user_id": 7543162, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/Ww9C6.png?s=128&g=1", "display_name": "oldboy", "link": "https://stackoverflow.com/users/7543162/oldboy"}, "edited": false, "score": 0, "creation_date": 1530146381, "post_id": 51073019, "comment_id": 89135943, "body": "I understand - you can abstract the path construction to several different functions that will return the specific paths needed... If you need to, you can further abstract the path construction to accept parameters. The key here, which corresponds to your motivation for asking the question, is to keep the main code concise and clear."}, {"owner": {"reputation": 4480, "user_id": 7543162, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/Ww9C6.png?s=128&g=1", "display_name": "oldboy", "link": "https://stackoverflow.com/users/7543162/oldboy"}, "edited": false, "score": 0, "creation_date": 1530146549, "post_id": 51073019, "comment_id": 89135978, "body": "huh? i&#39;m not looking to abstract the paths, as you put. <b>also, it&#39;s <code>.text</code>, not <code>.txt</code>,</b> but since you&#39;re denying all of my edits... and this should be handled elsewhere in the code, but doesn&#39;t really matter if you leave it in your answer"}, {"owner": {"reputation": 30484, "user_id": 2875563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/umbJB.jpg?s=128&g=1", "display_name": "Reblochon Masque", "link": "https://stackoverflow.com/users/2875563/reblochon-masque"}, "reply_to_user": {"reputation": 4480, "user_id": 7543162, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/Ww9C6.png?s=128&g=1", "display_name": "oldboy", "link": "https://stackoverflow.com/users/7543162/oldboy"}, "edited": false, "score": 0, "creation_date": 1530146768, "post_id": 51073019, "comment_id": 89136026, "body": "I&#39;ve rejected your edits because they broke the code. Anyways, I&#39;ve provided you with an alternative to consecutive try/except blocks that repeated code and cluttered your program; this answers your question. If it helped you, you can consider accepting it. If you have further problems, please ask another question, I, or someone else will be happy to help, if we can."}, {"owner": {"reputation": 4480, "user_id": 7543162, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/Ww9C6.png?s=128&g=1", "display_name": "oldboy", "link": "https://stackoverflow.com/users/7543162/oldboy"}, "edited": false, "score": 0, "creation_date": 1530146943, "post_id": 51073019, "comment_id": 89136060, "body": "one last question: <code>get_a_specific_xpath(element)</code> extracts a substring from the given string?"}, {"owner": {"reputation": 30484, "user_id": 2875563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/umbJB.jpg?s=128&g=1", "display_name": "Reblochon Masque", "link": "https://stackoverflow.com/users/2875563/reblochon-masque"}, "reply_to_user": {"reputation": 4480, "user_id": 7543162, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/Ww9C6.png?s=128&g=1", "display_name": "oldboy", "link": "https://stackoverflow.com/users/7543162/oldboy"}, "edited": false, "score": 0, "creation_date": 1530147037, "post_id": 51073019, "comment_id": 89136076, "body": "No, it adds <code>element</code> to the <code>path</code> string"}, {"owner": {"reputation": 4480, "user_id": 7543162, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/Ww9C6.png?s=128&g=1", "display_name": "oldboy", "link": "https://stackoverflow.com/users/7543162/oldboy"}, "edited": false, "score": 0, "creation_date": 1530147157, "post_id": 51073019, "comment_id": 89136093, "body": "ok, seriously the last question i have: the <code>f</code> signifies a particular encoding similar to how <code>u&#39;string&#39;</code> indicates that the string is unicode or?"}, {"owner": {"reputation": 30484, "user_id": 2875563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/umbJB.jpg?s=128&g=1", "display_name": "Reblochon Masque", "link": "https://stackoverflow.com/users/2875563/reblochon-masque"}, "reply_to_user": {"reputation": 4480, "user_id": 7543162, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/Ww9C6.png?s=128&g=1", "display_name": "oldboy", "link": "https://stackoverflow.com/users/7543162/oldboy"}, "edited": false, "score": 0, "creation_date": 1530147459, "post_id": 51073019, "comment_id": 89136139, "body": "f-strings are a way to dynamically format python strings - <a href=\"https://realpython.com/python-f-strings/\" rel=\"nofollow noreferrer\">realpython.com/python-f-strings</a>"}, {"owner": {"reputation": 4480, "user_id": 7543162, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/Ww9C6.png?s=128&g=1", "display_name": "oldboy", "link": "https://stackoverflow.com/users/7543162/oldboy"}, "edited": false, "score": 0, "creation_date": 1530147719, "post_id": 51073019, "comment_id": 89136186, "body": "ohhhh it&#39;s a shortened syntax of the <code>format</code> method?"}], "tags": [], "owner": {"reputation": 30484, "user_id": 2875563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/umbJB.jpg?s=128&g=1", "display_name": "Reblochon Masque", "link": "https://stackoverflow.com/users/2875563/reblochon-masque"}, "is_accepted": true, "score": 1, "last_activity_date": 1530146595, "last_edit_date": 1530146595, "creation_date": 1530144615, "answer_id": 51073019, "question_id": 51072895, "link": "https://stackoverflow.com/questions/51072895/alternative-to-consecutive-try-except-blocks/51073019#51073019", "title": "Alternative to Consecutive Try/Except Blocks", "body": "<p>You could abstract the call to <code>find_element_by_xpath</code>; this avoids code duplication, and makes your code more readable:</p>\n\n<pre><code>def _find_element_by_xpath(body, xpath)\n    try:\n        return body.find_element_by_xpath(xpath).text\n    except Exception:   # &lt;-- Be specific about the Exception to catch\n        return 'Error'\n\ndef get_a_specific_xpath(element):\n    return f'./div[contains(@class, \"discoverableCard-{element}\")]'\n</code></pre>\n\n<p>Then your code becomes:</p>\n\n<pre><code>project_type = _find_element_by_xpath(body, get_a_specific_xpath('project_type'))\ntitle = _find_element_by_xpath(body, get_a_specific_xpath('title'))\ndescription = _find_element_by_xpath(body, get_a_specific_xpath('description'))\ncategory = _find_element_by_xpath(body, get_a_specific_xpath('category'))\n...\n</code></pre>\n"}], "owner": {"reputation": 4480, "user_id": 7543162, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/Ww9C6.png?s=128&g=1", "display_name": "oldboy", "link": "https://stackoverflow.com/users/7543162/oldboy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 486, "favorite_count": 0, "accepted_answer_id": 51073019, "answer_count": 2, "score": 2, "last_activity_date": 1530146595, "creation_date": 1530143554, "last_edit_date": 1530144583, "question_id": 51072895, "link": "https://stackoverflow.com/questions/51072895/alternative-to-consecutive-try-except-blocks", "title": "Alternative to Consecutive Try/Except Blocks", "body": "<p>I am fairly new to Python, so I was wondering whether or not there is a more succinct alternative to running tons of consecutive <code>try/except</code> blocks as can be seen below?</p>\n\n<pre><code>try:\n    project_type = body.find_element_by_xpath('./div[contains(@class, \"discoverableCard-type\")]').text\nexcept Exception:\n    project_type = 'Error'\ntry:\n    title = body.find_element_by_xpath('./div[contains(@class, \"discoverableCard-title\")]').text\nexcept Exception:\n    title = 'Error'\ntry:\n    description = body.find_element_by_xpath('./div[contains(@class, \"discoverableCard-description\")]').text\nexcept Exception:\n    description = 'Error'\ntry:\n    category = body.find_element_by_xpath('./div[contains(@class, \"discoverableCard-category\")]').text\nexcept Exception:\n    category = 'Error'\n...\n</code></pre>\n\n<p>As was suggested in <a href=\"https://stackoverflow.com/questions/701466/nested-try-statements-in-python\">this thread</a> or <a href=\"https://stackoverflow.com/questions/49947942/elegant-alternative-to-long-exception-chains\">this thread,</a> I guess I could create lists of variable names and queries, and then use a <code>for</code> loop to construct a dictionary for each container item, but are there really no other alternatives which are perhaps more readable?</p>\n"}, {"tags": ["python", "pygame"], "answers": [{"tags": [], "owner": {"reputation": 18103, "user_id": 6220679, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LK4H1.png?s=128&g=1", "display_name": "skrx", "link": "https://stackoverflow.com/users/6220679/skrx"}, "is_accepted": true, "score": 2, "last_activity_date": 1530165045, "last_edit_date": 1530165045, "creation_date": 1530158320, "answer_id": 51074501, "question_id": 51072884, "link": "https://stackoverflow.com/questions/51072884/pygame-mouse-click-and-rect-intersection/51074501#51074501", "title": "Pygame mouse click and rect intersection", "body": "<p>Draw the <code>rect</code> in the <code>Tree.update</code> method and you'll see what's wrong. </p>\n\n<pre><code>pygame.draw.rect(screen, (120, 50, 0), rect)\n</code></pre>\n\n<p>You're using the <code>x</code> and <code>y</code> (the <code>topleft</code>) coords of the <code>rect</code> as the center point of the circle, so the rect will be in the lower right quadrant of the tree. </p>\n\n<pre><code>    =  =    \n =        =\n=      ____=___\n=     |    =   |\n =    |   =    |\n    = |=       |\n      |________|\n</code></pre>\n\n<p>Use the <code>centerx</code> and <code>centery</code> coordinates instead:</p>\n\n<pre><code>pygame.gfxdraw.filled_circle(screen, rect.centerx, rect.centery, 80, light_green)\npygame.gfxdraw.aacircle(screen, rect.centerx, rect.centery, 80, light_green)\n</code></pre>\n"}], "owner": {"reputation": 367, "user_id": 6600659, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh6.googleusercontent.com/-2KPzmz3KDkQ/AAAAAAAAAAI/AAAAAAAAADk/ezof4v1MMOs/photo.jpg?sz=128", "display_name": "gnawydna", "link": "https://stackoverflow.com/users/6600659/gnawydna"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 260, "favorite_count": 0, "accepted_answer_id": 51074501, "answer_count": 1, "score": 2, "last_activity_date": 1530165045, "creation_date": 1530143419, "question_id": 51072884, "link": "https://stackoverflow.com/questions/51072884/pygame-mouse-click-and-rect-intersection", "title": "Pygame mouse click and rect intersection", "body": "<p>I am designing a survival based game, and I am having trouble allowing the player to collect wood from trees.</p>\n\n<p>The function below checks if my mouse is pressed, and if the player has collided with any tree rects, their wood count increases by one. I use the ticks to make sure that only one wood gets added every nine ticks.</p>\n\n<pre><code>def check(self):\n    global tick\n    if pygame.mouse.get_pressed()[0]: \n        for tree in resources:\n            tree_rect=tree.rect                                \n            if self.rect.colliderect(tree_rect) and tick&gt;=9:\n                self.inventory['wood']+=1\n                tick=0\n</code></pre>\n\n<p>However, whenever I click, wood is sometimes added and sometimes not, regardless of whether my player class has collided with any trees.</p>\n\n<p>I tried using <code>pygame.sprite.spritecollide()</code>, but the result was the same. Any help is appreciated.</p>\n\n<p>Full code:</p>\n\n<pre><code>import pygame\nfrom pygame.locals import * \nimport sys\nimport math\nimport pygame.gfxdraw\nimport random\n\npygame.init()\n\nblack=(0,0,0)\nwhite=(255,255,255)\nforest=(34,139,34)\nred=(255,0,0)\nblue=(0,0,255)\ngreen=(0,255,0)\nlight_green=(0,120,0)\ndark_green=(0,90,0)\nskin=(255,224,189)\nyellow=(255,255,0)\n\nwood_image=pygame.image.load('./assets/images/wood.png')\nstone_image=pygame.image.load('./assets/images/stone.png')\nplayer_image=pygame.image.load('./assets/images/player.png')\n\ntick=0\n\ndef terminate():\n    pygame.quit()\n    sys.exit()\n\ndef drawTextcenter(text,font,screen,x,y,color):\n    textobj=font.render(text,True,color)\n    textrect=textobj.get_rect(center=(x,y))\n    screen.blit(textobj,textrect)\n\ndef drawText(text, font, surface, x, y,color):\n    textobj=font.render(text, 1, color)\n    textrect=textobj.get_rect()\n    textrect.topleft=(x, y)\n    surface.blit(textobj, textrect)\n\nclass Button(object):\n    global screen_width,screen_height,screen\n    def __init__(self,x,y,width,height,text_color,background_color,text):\n        self.rect=pygame.Rect(x,y,width,height)\n        self.x=x\n        self.y=y\n        self.width=width\n        self.height=height\n        self.text=text\n        self.text_color=text_color\n        self.background_color=background_color\n        self.angle=0\n\n    def check(self):\n        return self.rect.collidepoint(pygame.mouse.get_pos())\n\n    def draw(self):\n        pygame.draw.rect(screen,self.background_color,(self.rect),0)\n        drawTextcenter(self.text,font,screen,self.x+self.width/2,self.y+self.height/2,self.text_color)  \n        pygame.draw.rect(screen,self.text_color,self.rect,3) \n\nclass Bar(object):\n    def __init__(self,x,y,length,color):\n        self.rect=pygame.Rect(x,y,length,17.5)\n        self.image=pygame.draw.rect(screen,white,(self.rect),)\n        self.x=x\n        self.y=y\n        self.width=100\n        self.height=17.5\n        self.color=color\n        self.multiplier=length/100\n\n    def draw(self,num): \n        rect=pygame.Rect(self.x,self.y,num*self.multiplier,self.height)\n        pygame.draw.rect(screen,self.color,self.rect,3)\n        pygame.draw.rect(screen,self.color,rect,0)\n\nclass Player(pygame.sprite.Sprite):\n    def __init__(self,x,y):\n        super(Player,self).__init__()\n        self.image=player_image\n        self.original_image=self.image\n        self.rect=self.image.get_rect(center=(x,y))\n        self.change_x=0\n        self.change_y=0\n        self.speed=7.5\n        self.inventory={'wood':0}\n\n    def changespeed(self,x,y):\n        self.change_x+=x\n        self.change_y+=y\n\n    def update(self,rect):\n        self.rotate(camera)\n        self.rect.x+=self.change_x\n        self.rect.y+=self.change_y\n        rect = camera.apply(self)\n        screen.blit(self.image,rect)\n\n    def check(self):\n        global tick\n        if pygame.mouse.get_pressed()[0]: \n            for tree in resources:\n                tree_rect=tree.rect                                \n                if self.rect.colliderect(tree_rect) and tick&gt;=9:\n                    self.inventory['wood']+=1\n                    tick=0\n\n    def rotate(self,camera):\n        mouse_x,mouse_y=pygame.mouse.get_pos()\n        mouse_x-=camera.state.x\n        mouse_y-=camera.state.y\n        rel_x,rel_y= mouse_x - self.rect.centerx, mouse_y -self.rect.centery\n        angle = -math.degrees(math.atan2(rel_y, rel_x))\n        self.image = pygame.transform.rotozoom(self.original_image, angle,1)\n        self.rect = self.image.get_rect(center=self.rect.center)\n\nclass Tree(pygame.sprite.Sprite):\n    def __init__(self,x,y):\n        super(Tree,self).__init__()\n        self.rect=pygame.Rect(x,y,100,100)\n        self.rect.x=x\n        self.rect.y=y\n\n    def update(self,rect):\n        pygame.gfxdraw.filled_circle(screen,rect.x,rect.y,80,light_green)\n        pygame.gfxdraw.aacircle(screen,rect.x,rect.y,80,light_green)\n\nclass Rock(pygame.sprite.Sprite):\n    def __init__(self):\n        pass\n\nclass Camera(object):\n    def __init__(self,camera_func,width,height):\n        self.camera_func=camera_func\n        self.state=pygame.Rect(0,0,width,height)\n\n    def apply(self,target):\n        return target.rect.move(self.state.topleft)\n\n    def update(self,target):\n        self.state=self.camera_func(self.state,target.rect)\n\ndef complex_camera(camera, target_rect):\n    l, t = target_rect.center\n    _,_,w,h = camera\n    l,t,_,_ = -l+screen_width/2, -t+screen_height/2, w, h\n\n    l = min(0, l)                           \n    l = max(-(camera.width-screen_width), l)\n    t = max(-(camera.height-screen_height), t)\n    t = min(0, t)                           \n\n    return pygame.Rect(l, t, w, h)\n\nclock=pygame.time.Clock()\nfont=pygame.font.SysFont(None,40)\n\nscreen_width=1440\nscreen_height=800\nscreen=pygame.display.set_mode([screen_width,screen_height])\npygame.display.set_caption('Survival')\n\ntotal_level_width=screen_width*5\ntotal_level_height=screen_height*5\ncamera = Camera(complex_camera, total_level_width, total_level_height)\n\nplayer=Player(random.randint(100,7900),random.randint(100,5900))\nfriendlies=pygame.sprite.Group()\nfriendlies.add(player)\n\nplayer_health_bar=Bar(125,15,200,green)\nplayer_health=100\nplayer_food_bar=Bar(437.5,15,200,red)\nplayer_food=100\nplayer_thirst_bar=Bar(750,15,200,blue)\nplayer_thirst=100\nplayer_energy_bar=Bar(1100,15,200,yellow)\nplayer_energy=100\n\nresources=pygame.sprite.Group()\n\nwood=False\ninventory={}\n\nfor i in range(1000):\n    tree=Tree(random.randint(100,7900),random.randint(100,5900))\n    resources.add(tree)\n\ndone1=False\nwhile not done1:\n    screen.fill(black)\n    font=pygame.font.SysFont(None, 90)\n    text_width,text_height=font.size('Survival')\n    drawText('Survival', font, screen, (screen_width/2-text_width/2), (screen_height / 2-375),white)\n    font=pygame.font.SysFont(None, 40)\n    start_button=Button(screen_width/2-125,450,250,50,white,black,'Play')\n    start_button.draw()\n    back_button=Button(screen_width/2-125,725,250,50,white,black,'Back')\n    pygame.display.flip()\n    done2=False\n    while not done2:\n        for event in pygame.event.get():\n            if event.type==QUIT:\n                terminate()\n            elif event.type==pygame.MOUSEBUTTONDOWN:\n                if start_button.check()==True: \n                    done3=False\n                    pause_back=False\n                    while not done3:             \n                        tick+=1\n                        for event in pygame.event.get():\n                            if event.type==pygame.QUIT:\n                                terminate()\n                            elif event.type==pygame.KEYDOWN:\n                                if event.key==pygame.K_a:\n                                    player.changespeed(-(player.speed), 0)\n                                elif event.key==pygame.K_d:\n                                    player.changespeed(player.speed, 0)\n                                elif event.key==pygame.K_w:\n                                    player.changespeed(0, -(player.speed))\n                                elif event.key==pygame.K_s:\n                                    player.changespeed(0, player.speed)\n                                elif event.key==pygame.K_p:\n                                    font=pygame.font.SysFont(None, 90)\n                                    text_width,text_height=font.size('Paused')\n                                    drawText('Paused', font, screen, (screen_width / 2-(text_width/2)), (screen_height / 2-375),white)\n                                    resume_button=Button(screen_width/2-125,650,250,50,white,black,'Resume')\n                                    resume_button.draw()\n                                    back_button.draw()\n                                    pygame.display.flip()\n                                    back=False\n                                    while not back:\n                                        for event in pygame.event.get():\n                                            if event.type==QUIT:\n                                                terminate()\n                                            elif event.type==pygame.MOUSEBUTTONDOWN:\n                                                if resume_button.check()==True:\n                                                    back=True\n                                                elif back_button.check()==True:\n                                                    done3=True\n                                                    done2=True\n                                                    pause_back=True\n                                                    back=True\n\n                            elif event.type == pygame.KEYUP:\n                                if event.key == pygame.K_a:\n                                    player.changespeed(player.speed, 0)\n                                elif event.key == pygame.K_d:\n                                    player.changespeed(-(player.speed), 0)\n                                elif event.key == pygame.K_w:\n                                    player.changespeed(0, player.speed)\n                                elif event.key == pygame.K_s:\n                                    player.changespeed(0, -(player.speed))   \n\n                        camera.update(player)\n\n                        if player.rect.x&lt;0:\n                            player.rect.x=0\n                        if player.rect.right&gt;total_level_width:\n                            player.rect.right=total_level_width\n                        if player.rect.y&lt;0:\n                            player.rect.y=0\n                        if player.rect.bottom&gt;total_level_height:\n                            player.rect.bottom=total_level_height\n\n                        screen.fill(dark_green)\n\n                        player.update(camera)\n\n                        for resource in resources:\n                            resource.update(camera.apply(resource))\n\n                        player_health_bar.draw(player_health)\n                        #player_thirst_bar.draw(player_thirst)\n                        #player_endergy_bar.draw(player_energy)\n                        font=pygame.font.SysFont(None, 40)\n                        drawText('Health:',font,screen,20,10,green)\n                        #drawText('Food:',font,screen,350,10,red)\n                        #drawText('Thirst:',font,screen,650,10,blue)\n                        #drawText('Energy:', font, screen, 975, 10, yellow)\n                        pygame.draw.rect(screen,forest,(50,675,100,100))\n                        pygame.draw.rect(screen,forest,(175,675,100,100))\n                        pygame.draw.rect(screen,forest,(300,675,100,100))\n\n                        player.check()\n\n                        for item in player.inventory:\n                            if item=='wood' and player.inventory['wood']&gt;0:\n                                wood=True\n\n                        if wood:\n                            screen.blit(wood_image,(62.5,687.5))\n                            drawTextcenter(str(player.inventory['wood']),font,screen,100,735,black)\n\n                        pygame.display.flip()\n\n                        clock.tick(100)\n\n                        if pause_back==True:\n                                break\n                    if pause_back==True:\n                        break\n                    screen.fill(black)\n                    font=pygame.font.SysFont(None, 90)\n                    text_width,text_height=font.size(\"Game Over\")\n                    drawText('Game Over', font, screen, (screen_width/2-text_width/2), (screen_height / 2-200),white)\n                    font=pygame.font.SysFont(None, 40)\n                    retry_button=Button(screen_width/2-125,650,250,50,white,black,'Retry')\n                    retry_button.draw()\n                    back_button.draw()\n                    pygame.display.flip()\n                    back=False \n                    while not back:\n                        for event in pygame.event.get():\n                                if event.type==QUIT:\n                                    terminate()\n                                elif event.type==pygame.MOUSEBUTTONDOWN:\n                                    if retry_button.check()==True:\n                                        back=True\n                                    if back_button.check()==True:\n                                        back=True\n                                        done2=True\n                                        done3=True        \n                elif back_button.check()==True: \n                    done2=True\n                    done1=True\n</code></pre>\n"}, {"tags": ["python", "tensorflow", "jupyter-notebook"], "comments": [{"owner": {"reputation": 19260, "user_id": 1727392, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/KP9Ia.jpg?s=128&g=1", "display_name": "duhaime", "link": "https://stackoverflow.com/users/1727392/duhaime"}, "edited": false, "score": 0, "creation_date": 1530148098, "post_id": 51072843, "comment_id": 89136267, "body": "What is <code>tf_utils</code>? Did you pip install that?"}, {"owner": {"reputation": 1, "user_id": 1610656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a120c288a4913a2d278a2ec577b645c4?s=128&d=identicon&r=PG", "display_name": "Kaizar", "link": "https://stackoverflow.com/users/1610656/kaizar"}, "reply_to_user": {"reputation": 19260, "user_id": 1727392, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/KP9Ia.jpg?s=128&g=1", "display_name": "duhaime", "link": "https://stackoverflow.com/users/1727392/duhaime"}, "edited": false, "score": 0, "creation_date": 1530196477, "post_id": 51072843, "comment_id": 89159460, "body": "Yes I have installed tf_utils from     <a href=\"https://github.com/neuroailab/tfutils\" rel=\"nofollow noreferrer\">github.com/neuroailab/tfutils</a> via [pip install git+<a href=\"https://github.com/neuroailab/tfutils.git]\" rel=\"nofollow noreferrer\">github.com/neuroailab/tfutils.git]</a>"}, {"owner": {"reputation": 19260, "user_id": 1727392, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/KP9Ia.jpg?s=128&g=1", "display_name": "duhaime", "link": "https://stackoverflow.com/users/1727392/duhaime"}, "edited": false, "score": 0, "creation_date": 1530208618, "post_id": 51072843, "comment_id": 89166276, "body": "Hmm, are you very new to Python? Maybe you are looking instead for this file, which defines the functions you are attempting to import? <a href=\"https://github.com/andersy005/deep-learning-specialization-coursera/blob/master/02-Improving-Deep-Neural-Networks/week3/Programming-Assignments/tf_utils.py\" rel=\"nofollow noreferrer\">github.com/andersy005/deep-learning-specialization-coursera/&zwnj;&#8203;&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 1610656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a120c288a4913a2d278a2ec577b645c4?s=128&d=identicon&r=PG", "display_name": "Kaizar", "link": "https://stackoverflow.com/users/1610656/kaizar"}, "is_accepted": false, "score": 0, "last_activity_date": 1530315031, "creation_date": 1530315031, "answer_id": 51110505, "question_id": 51072843, "link": "https://stackoverflow.com/questions/51072843/importerror-no-module-named-src-utils-tensorflow/51110505#51110505", "title": "ImportError: No module named src.utils tensorflow", "body": "<p>To resolve this import error I manually imported the missing functions from the following github repo > <a href=\"https://github.com/andersy005/deep-learning-specialization-coursera/blob/master/02-Improving-Deep-Neural-Networks/week3/Programming-Assignments/tf_utils.py\" rel=\"nofollow noreferrer\">https://github.com/andersy005/deep-learning-specialization-coursera/blob/master/02-Improving-Deep-Neural-Networks/week3/Programming-Assignments/tf_utils.py</a></p>\n"}], "owner": {"reputation": 1, "user_id": 1610656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a120c288a4913a2d278a2ec577b645c4?s=128&d=identicon&r=PG", "display_name": "Kaizar", "link": "https://stackoverflow.com/users/1610656/kaizar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1951, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1538897626, "creation_date": 1530143095, "last_edit_date": 1530147277, "question_id": 51072843, "link": "https://stackoverflow.com/questions/51072843/importerror-no-module-named-src-utils-tensorflow", "title": "ImportError: No module named src.utils tensorflow", "body": "<p>I am trying to load tensorflow within jupyter notebook and receive the following error:</p>\n\n<hr>\n\n<pre><code>ImportError                               Traceback (most recent call last) &lt;ipython-input-1-28a19874e1dd&gt; in &lt;module&gt;()\n      5 import tensorflow as tf\n      6 from tensorflow.python.framework import ops\n----&gt; 7 from tf_utils import load_dataset, random_mini_batches, convert_to_one_hot, predict\n      8 \n      9 get_ipython().magic(u'matplotlib inline')\n\n/Pathway/tf_utils.py in &lt;module&gt;()\n     17 import sys\n     18 import tensorflow as tf\n---&gt; 19 import src.utils as utils\n     20 import logging\n     21 from tensorflow.contrib import slim\n\nImportError: No module named src.utils\n</code></pre>\n\n<hr>\n\n<p>I have the latest tensorflow installed and have also added models to the PYTHONPATH via: </p>\n\n<pre><code>export PYTHONPATH=\"$PYTHONPATH:/Pathway/tfmodels-1.9.0\"\n</code></pre>\n\n<p>Do you know how I can resolve this import error?</p>\n"}, {"tags": ["python", "pygame", "midi"], "answers": [{"tags": [], "owner": {"reputation": 1258, "user_id": 5606836, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d188c6c0908205bfbaac125a962deea4?s=128&d=identicon&r=PG&f=1", "display_name": "Jerrybibo", "link": "https://stackoverflow.com/users/5606836/jerrybibo"}, "is_accepted": false, "score": 1, "last_activity_date": 1530174793, "creation_date": 1530174793, "answer_id": 51078230, "question_id": 51072834, "link": "https://stackoverflow.com/questions/51072834/how-do-i-send-the-sustain-pedal-midi-signal-using-pygame-midi/51078230#51078230", "title": "How do I send the &#39;sustain pedal&#39; midi signal using pygame.midi?", "body": "<p>Unfortunately, there is no implementation of the sustain pedal in <code>pygame.midi</code> (or most other commonly used Python-MIDI libraries), so doing it natively from the Pygame module is out of the question.</p>\n\n<p>However, you may be able to work around this by re-structuring your code a little. If you can use a specific key (or an event) in place of what I assume to be a physical sustain pedal (after all, most MIDI sustain pedals are <a href=\"https://sound.stackexchange.com/a/23907/22909\">simple switches</a>), you can pull off something similar to a sustain. For example:</p>\n\n<pre><code>import pygame\nfrom pygame.locals import *\n\n# Midi init and setup, other code, etc...\n# device_input = pygame.midi.Input(device_id)\n\nsustain = False\n\n# We will use the spacebar in place of a pedal in this case.\n\nwhile 1:\n    for event in pygame.event.get():\n        # You can also use other events in place of KEYDOWN/KEYUP events.\n        if event.type == KEYDOWN and event.key == K_SPACE:\n            sustain = True\n        elif event.type == KEYUP and event.key == K_SPACE:\n            sustain = False\n    # ...\n    for i in device_input:\n        if sustain:\n            # Remove all MIDI key-up events here\n\n    # Then play sounds or process midi input accordingly afterwards\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 59, "user_id": 4371615, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe3bd8e8d9e0550378c974f08484e3d3?s=128&d=identicon&r=PG&f=1", "display_name": "Art", "link": "https://stackoverflow.com/users/4371615/art"}, "edited": false, "score": 0, "creation_date": 1530412812, "post_id": 51085452, "comment_id": 89225544, "body": "In my case, using <b>0xb0</b> instead of <b>0xc0</b> worked out:     write_short(0xc0 + channel, 64, 127 if pressed else 0)"}, {"owner": {"reputation": 157205, "user_id": 11654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/586424ca0847070dc1868aa58077003e?s=128&d=identicon&r=PG", "display_name": "CL.", "link": "https://stackoverflow.com/users/11654/cl"}, "reply_to_user": {"reputation": 59, "user_id": 4371615, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe3bd8e8d9e0550378c974f08484e3d3?s=128&d=identicon&r=PG&f=1", "display_name": "Art", "link": "https://stackoverflow.com/users/4371615/art"}, "edited": false, "score": 1, "creation_date": 1530424110, "post_id": 51085452, "comment_id": 89226816, "body": "Oops! Thanks, fixed."}], "tags": [], "owner": {"reputation": 157205, "user_id": 11654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/586424ca0847070dc1868aa58077003e?s=128&d=identicon&r=PG", "display_name": "CL.", "link": "https://stackoverflow.com/users/11654/cl"}, "is_accepted": false, "score": 1, "last_activity_date": 1530424088, "last_edit_date": 1530424088, "creation_date": 1530196185, "answer_id": 51085452, "question_id": 51072834, "link": "https://stackoverflow.com/questions/51072834/how-do-i-send-the-sustain-pedal-midi-signal-using-pygame-midi/51085452#51085452", "title": "How do I send the &#39;sustain pedal&#39; midi signal using pygame.midi?", "body": "<p>The specification <a href=\"https://www.midi.org/specifications-old/item/table-3-control-change-messages-data-bytes-2\" rel=\"nofollow noreferrer\">defines the sustain pedal as controller 64</a>, so you have to send a control change message.</p>\n\n<p><code>pygame.midi</code> does not have a special function for that, so you have to send the raw bytes:</p>\n\n<pre><code>write_short(0xb0 + channel, 64, 127 if pressed else 0);\n</code></pre>\n"}], "owner": {"reputation": 59, "user_id": 4371615, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe3bd8e8d9e0550378c974f08484e3d3?s=128&d=identicon&r=PG&f=1", "display_name": "Art", "link": "https://stackoverflow.com/users/4371615/art"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 300, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1530424088, "creation_date": 1530143028, "last_edit_date": 1530177443, "question_id": 51072834, "link": "https://stackoverflow.com/questions/51072834/how-do-i-send-the-sustain-pedal-midi-signal-using-pygame-midi", "title": "How do I send the &#39;sustain pedal&#39; midi signal using pygame.midi?", "body": "<p>Simple midi signals can be invoked by the <code>note_on()</code> or <code>note_off()</code> methods, but I couldn't find a way to send the 'sustain pedal' midi signal using <code>pygame.midi</code>. Is there any conventional way to do that?</p>\n"}, {"tags": ["python", "python-2.7"], "comments": [{"owner": {"reputation": 11711, "user_id": 1361787, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/XR9JP.png?s=128&g=1", "display_name": "ChiefTwoPencils", "link": "https://stackoverflow.com/users/1361787/chieftwopencils"}, "edited": false, "score": 0, "creation_date": 1530143200, "post_id": 51072821, "comment_id": 89135307, "body": "How would this &quot;loop back and ask for input again...&quot;?"}, {"owner": {"reputation": 20968, "user_id": 2564301, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a6b5734cdcb5ce19598ccf9a7d8cc1ff?s=128&d=identicon&r=PG&f=1", "display_name": "Jongware", "link": "https://stackoverflow.com/users/2564301/jongware"}, "edited": false, "score": 0, "creation_date": 1530143218, "post_id": 51072821, "comment_id": 89135316, "body": "Hint: what is the result of <code>start == &#39;N&#39; or &#39;n&#39;</code>? This syntax for Python is not any different that that of C++."}, {"owner": {"reputation": 1747, "user_id": 3726902, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/kV59z.png?s=128&g=1", "display_name": "Miket25", "link": "https://stackoverflow.com/users/3726902/miket25"}, "edited": false, "score": 0, "creation_date": 1530143313, "post_id": 51072821, "comment_id": 89135337, "body": "Conditionals in Python follow similar evaluation rules as in C++. i.e. <code>a == 1 or 2 or 3</code> is not equivalent to <code>a == 1 or a == 2 or a == 3</code>"}, {"owner": {"reputation": 1, "user_id": 10002689, "user_type": "registered", "profile_image": "https://graph.facebook.com/1881261665228053/picture?type=large", "display_name": "Zach Randall", "link": "https://stackoverflow.com/users/10002689/zach-randall"}, "reply_to_user": {"reputation": 11711, "user_id": 1361787, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/XR9JP.png?s=128&g=1", "display_name": "ChiefTwoPencils", "link": "https://stackoverflow.com/users/1361787/chieftwopencils"}, "edited": false, "score": 0, "creation_date": 1530143733, "post_id": 51072821, "comment_id": 89135413, "body": "@ChiefTwoPencils  its just a note for me to incorporate that part later"}], "answers": [{"tags": [], "owner": {"reputation": 2644, "user_id": 747744, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58e40f54006383a41c5c00347a7a0cc7?s=128&d=identicon&r=PG", "display_name": "Eugene Primako", "link": "https://stackoverflow.com/users/747744/eugene-primako"}, "is_accepted": false, "score": 1, "last_activity_date": 1530143842, "last_edit_date": 1530143842, "creation_date": 1530143265, "answer_id": 51072866, "question_id": 51072821, "link": "https://stackoverflow.com/questions/51072821/python-user-input-menu/51072866#51072866", "title": "Python user input menu", "body": "<blockquote>\n  <p>if string == 'Y' or 'y' or 'Yes' or 'yes'</p>\n</blockquote>\n\n<p>Boolean logic works not as English language does. <code>string == 'Y' or 'y' or 'Yes' or 'yes'</code> always equals to <code>True</code>:</p>\n\n<p><code>string == 'Y' or 'y' or 'Yes' or 'yes'</code> = <code>(((string == 'Y') or 'y') or 'Yes') or 'yes'</code> = <code>((??? or 'y') or 'Yes') or 'yes'</code> = <code>(True or 'Yes') or 'yes'</code> = <code>True or 'yes'</code> = <code>True</code>.</p>\n\n<p>I guess you need code like this:</p>\n\n<pre><code>if string == 'Y' or string == 'y' or string == 'Yes' or string == 'yes':\n</code></pre>\n\n<p>Or to make it simple:</p>\n\n<pre><code>if string in ('Y', 'y', 'Yes', 'yes'):\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 10002689, "user_type": "registered", "profile_image": "https://graph.facebook.com/1881261665228053/picture?type=large", "display_name": "Zach Randall", "link": "https://stackoverflow.com/users/10002689/zach-randall"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 204, "favorite_count": 0, "closed_date": 1530217614, "answer_count": 1, "score": -3, "last_activity_date": 1530143842, "creation_date": 1530142932, "last_edit_date": 1530143236, "question_id": 51072821, "link": "https://stackoverflow.com/questions/51072821/python-user-input-menu", "closed_reason": "Not suitable for this site", "title": "Python user input menu", "body": "<p>I'm currently learning Python 2.7 coming from C++.</p>\n\n<p>I'm working on a menu style input, but for some reason after it accepts the user input it prints \"starting\" and then exits the program. I'm not sure what I am doing wrong. Here is my code.</p>\n\n<pre><code>string=raw_input('Start Program?(Y/N) ')\n\nprint string\n\n\nif string == 'Y' or 'y' or 'Yes' or 'yes':\n\n    print 'Starting'\n\n\nif start == 'N' or 'n' or 'No' or 'no' or 0:\n\n    print'Closing program'\n\n    exit()\n\nelse:\n\n    print 'Invalid Respons'\n    #program should loop back and ask for input again...\n</code></pre>\n"}, {"tags": ["python", "apache-spark", "pyspark", "apache-spark-sql"], "comments": [{"owner": {"reputation": 387, "user_id": 7467055, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ea74169e7e26bcefccb33afd50a01ab9?s=128&d=identicon&r=PG", "display_name": "Hyrein", "link": "https://stackoverflow.com/users/7467055/hyrein"}, "edited": false, "score": 0, "creation_date": 1530151343, "post_id": 51072816, "comment_id": 89136838, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/37872461/spark-dataframe-is-not-ordered-after-sort\">Spark dataframe is not ordered after sort</a>"}, {"owner": {"reputation": 36454, "user_id": 5880706, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/147556055711bd1fa5a938cef92a22b9?s=128&d=identicon&r=PG&f=1", "display_name": "Ramesh Maharjan", "link": "https://stackoverflow.com/users/5880706/ramesh-maharjan"}, "edited": false, "score": 1, "creation_date": 1530152143, "post_id": 51072816, "comment_id": 89137012, "body": "remember that sorting is useless in distributed system and rdd are distributed datasets. sorting is fruitful if you accumulate data to one partition and one node which is not an efficient use of distributed system. so my suggestion is don&#39;t bother with sorting in whole datasets when using distributed system. you can sort and process in each partition or group though. so change your architecture"}], "owner": {"reputation": 35, "user_id": 2821154, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001123995065/picture?type=large", "display_name": "Omar Hashmi", "link": "https://stackoverflow.com/users/2821154/omar-hashmi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 226, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1530151211, "creation_date": 1530142855, "last_edit_date": 1530151211, "question_id": 51072816, "link": "https://stackoverflow.com/questions/51072816/how-to-sort-a-json-file-with-spark-in-python", "title": "How to sort a json file with spark in python?", "body": "<p>I have a json file as following and I would like to sort it using rdd. How would I do it? </p>\n\n<p>I tried the following but it does not sort the words :(</p>\n\n<pre><code>rdd = self.sc.textFile(self.dic_path).sortByKey()\n\n\n{\n  \"biennials\": 0, \n  \"tripolitan\": 0, \n  \"oblocutor\": 0, \n  \"leucosyenite\": 0, \n  \"chilitis\": 0, \n  \"fabianist\": 0, \n  \"diazeutic\": 0, \n  \"alible\": 0, \n  \"woods\": 4601, \n  \"preadjournment\": 0, \n  \"spiders\": 0, \n  \"fabianism\": 0, \n}\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 2454, "user_id": 8784938, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/753bb55c80a644f950a41ae11cfbe48c?s=128&d=identicon&r=PG&f=1", "display_name": "SuperStew", "link": "https://stackoverflow.com/users/8784938/superstew"}, "edited": false, "score": 1, "creation_date": 1530142925, "post_id": 51072814, "comment_id": 89135248, "body": "did you even google it?"}, {"owner": {"reputation": 41, "user_id": 9493814, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-zveZqW2GBVM/AAAAAAAAAAI/AAAAAAAAAOw/71bp_725Z1I/photo.jpg?sz=128", "display_name": "Sidharth Singh", "link": "https://stackoverflow.com/users/9493814/sidharth-singh"}, "reply_to_user": {"reputation": 2454, "user_id": 8784938, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/753bb55c80a644f950a41ae11cfbe48c?s=128&d=identicon&r=PG&f=1", "display_name": "SuperStew", "link": "https://stackoverflow.com/users/8784938/superstew"}, "edited": false, "score": 0, "creation_date": 1530143034, "post_id": 51072814, "comment_id": 89135278, "body": "yes but I was unable to connect with my code"}, {"owner": {"reputation": 1747, "user_id": 3726902, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/kV59z.png?s=128&g=1", "display_name": "Miket25", "link": "https://stackoverflow.com/users/3726902/miket25"}, "edited": false, "score": 0, "creation_date": 1530143158, "post_id": 51072814, "comment_id": 89135299, "body": "You&#39;ll have to be more specific on what you&#39;re struggling in terms of storing the data into a text file i.e. what extension, what format, etc... What have you tried so far?"}], "answers": [{"tags": [], "owner": {"reputation": 762, "user_id": 9991947, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b1a62cfbaa3d73f3823e381741e7dae?s=128&d=identicon&r=PG&f=1", "display_name": "WIT", "link": "https://stackoverflow.com/users/9991947/wit"}, "is_accepted": false, "score": 0, "last_activity_date": 1530143718, "creation_date": 1530143718, "answer_id": 51072913, "question_id": 51072814, "link": "https://stackoverflow.com/questions/51072814/how-should-i-print-my-output-result-in-python2-7/51072913#51072913", "title": "how should I print my output result in python2.7", "body": "<p>By print, do you mean output to a text file? If so, you can add: </p>\n\n<pre><code>np.savetxt('filename.txt', np.r_[t,h,l])\n</code></pre>\n\n<p>[filename.txt can be whatever name you want the text file to be unless you have one]</p>\n\n<p>np.r would concatenate the matrices. I am not sure if this is what you intend to do but this is an option</p>\n"}, {"tags": [], "owner": {"reputation": 36, "user_id": 10032947, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xvaBcFHP0qY/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq0T_sEWJpmjUlD-GCfxXhOV0V9hRQ/mo/photo.jpg?sz=128", "display_name": "tyrion_lannister", "link": "https://stackoverflow.com/users/10032947/tyrion-lannister"}, "is_accepted": true, "score": 1, "last_activity_date": 1530724587, "creation_date": 1530724587, "answer_id": 51178450, "question_id": 51072814, "link": "https://stackoverflow.com/questions/51072814/how-should-i-print-my-output-result-in-python2-7/51178450#51178450", "title": "how should I print my output result in python2.7", "body": "<p>Open a file simply using this command :</p>\n\n<pre><code>f = open('file.txt', 'w')\n</code></pre>\n\n<p>and then you can write to it using :</p>\n\n<pre><code>f.write(\"Value of t : {}\".format(t))\n</code></pre>\n\n<p>finally close the file with </p>\n\n<pre><code>f.close()\n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 9493814, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-zveZqW2GBVM/AAAAAAAAAAI/AAAAAAAAAOw/71bp_725Z1I/photo.jpg?sz=128", "display_name": "Sidharth Singh", "link": "https://stackoverflow.com/users/9493814/sidharth-singh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "accepted_answer_id": 51178450, "answer_count": 2, "score": -2, "last_activity_date": 1530724587, "creation_date": 1530142848, "question_id": 51072814, "link": "https://stackoverflow.com/questions/51072814/how-should-i-print-my-output-result-in-python2-7", "title": "how should I print my output result in python2.7", "body": "<p>I am storing some data like temperature,humidity and Intensiy in array which is my arduino output and input for my python2.7 and I am plotting graphs from that data.\nI want to store the arduino output into text file also but i am unable to do it as i am new to python.</p>\n\n<p><strong>This is my python code</strong> </p>\n\n<pre><code>import serial\nimport numpy as np\nimport matplotlib.pyplot as plt\nfrom drawnow import *\nl=[]\nt = []\nh = []\narduinoData = serial.Serial('com3',115200)\nplt.ion()\ncount=0\ndef makeFig():\n    ax1 = plt.subplot(211)\n    plt.ylim(0,100)\n    plt.title('Temperature and Humidity')\n    plt.grid(True)\n    plt.ylabel('temp in C')\n    plt.plot(t, 'ro-', label='Drgrees Celsius')\n    plt.legend(loc='upper left')\n    plt2=plt.twinx()\n    plt.ylim(0,100)\n    plt2.plot(h,'b^-',label='Humidity in %')\n    plt2.legend(loc='upper right')\n    ax2 = plt.subplot(212, sharex=ax1)\n    plt.ylim(0,100)\n    plt.grid(True)\n    plt.ylabel('Intensity in Lux')\n    plt.plot(l, 'ro-', label='Lux')\n    plt.legend(loc='upper left')\nwhile True:\n    while (arduinoData.inWaiting()==0):\n        pass\n    arduinoString = arduinoData.readline()\n    dataArray = arduinoString.split(',')\n    lux = float (dataArray[0] )\n    humd = float ( dataArray[1])\n    temp = float ( dataArray[2])\n    t.append(temp)\n    h.append(humd)\n    l.append(lux)\n    drawnow(makeFig)\n    plt.pause(.000001)\n    count=count+1\n    if(count&gt;60):\n        t.pop(0)\n        h.pop(0)\n        l.pop(0)\n</code></pre>\n\n<p>I want to store t , h , l in text file as an output\nHelp will be appreciated....</p>\n"}, {"tags": ["python", "python-3.x", "list"], "answers": [{"comments": [{"owner": {"reputation": 133282, "user_id": 9209546, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qk9vC.jpg?s=128&g=1", "display_name": "jpp", "link": "https://stackoverflow.com/users/9209546/jpp"}, "reply_to_user": {"reputation": 55, "user_id": 10001627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e7a3d731f0943d3385a091fdc356ea82?s=128&d=identicon&r=PG&f=1", "display_name": "Dr. Woo", "link": "https://stackoverflow.com/users/10001627/dr-woo"}, "edited": false, "score": 0, "creation_date": 1530143128, "post_id": 51072812, "comment_id": 89135291, "body": "@ShittyProgrammer, Probably. Maybe worth testing?"}], "tags": [], "owner": {"reputation": 133282, "user_id": 9209546, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qk9vC.jpg?s=128&g=1", "display_name": "jpp", "link": "https://stackoverflow.com/users/9209546/jpp"}, "is_accepted": false, "score": 0, "last_activity_date": 1530142816, "creation_date": 1530142816, "answer_id": 51072812, "question_id": 51072793, "link": "https://stackoverflow.com/questions/51072793/combine-several-lists-in-sequence/51072812#51072812", "title": "Combine Several Lists in Sequence", "body": "<p>Use <code>zip</code> to combine items from each list with the same index:</p>\n\n<pre><code>for x, y, z in zip(list1, list2, list3):\n    print(x, y, z)\n\nsubject1 subject2 subject3\nsubject4 subject5 subject6\nsubject7 subject8 subject9\nsubject10 subject11 subject12\n</code></pre>\n"}], "owner": {"reputation": 55, "user_id": 10001627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e7a3d731f0943d3385a091fdc356ea82?s=128&d=identicon&r=PG&f=1", "display_name": "Dr. Woo", "link": "https://stackoverflow.com/users/10001627/dr-woo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 21, "favorite_count": 0, "closed_date": 1530142999, "answer_count": 1, "score": 0, "last_activity_date": 1530143261, "creation_date": 1530142649, "last_edit_date": 1530143261, "question_id": 51072793, "link": "https://stackoverflow.com/questions/51072793/combine-several-lists-in-sequence", "closed_reason": "Duplicate", "title": "Combine Several Lists in Sequence", "body": "<p>I have three lists as stated. There are in different orders.</p>\n\n<pre><code>list1 = ['frame1', 'frame3', 'frame5', 'frame7']\nlist2 = ['.102', '.103', '.104', '.105']\nlist3 = ['.ext', '.ext', '.ext', '.ext']\n</code></pre>\n\n<p>How would one combine the three lists to make sense?</p>\n\n<p>frame1, .102, .ext</p>\n\n<p>When I do <code>print(list1 + list2 + list3)</code> of course the output will be:</p>\n\n<p>frame1, frame3, frame5, frame7, .102, .103, .ext, .ext</p>\n\n<p>I need my output to be like I said above, frame1, .102, .ext</p>\n"}, {"tags": ["python", "selenium", "selenium-webdriver", "web-scraping", "beautifulsoup"], "answers": [{"comments": [{"owner": {"reputation": 762, "user_id": 9991947, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b1a62cfbaa3d73f3823e381741e7dae?s=128&d=identicon&r=PG&f=1", "display_name": "WIT", "link": "https://stackoverflow.com/users/9991947/wit"}, "edited": false, "score": 0, "creation_date": 1530208825, "post_id": 51074819, "comment_id": 89166372, "body": "this didn&#39;t print anything, not sure why - I tried to throw in a bunch of random print statements too"}, {"owner": {"reputation": 5161, "user_id": 8625512, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/14cFh.jpg?s=128&g=1", "display_name": "Andrei Suvorkov", "link": "https://stackoverflow.com/users/8625512/andrei-suvorkov"}, "reply_to_user": {"reputation": 762, "user_id": 9991947, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b1a62cfbaa3d73f3823e381741e7dae?s=128&d=identicon&r=PG&f=1", "display_name": "WIT", "link": "https://stackoverflow.com/users/9991947/wit"}, "edited": false, "score": 0, "creation_date": 1530213006, "post_id": 51074819, "comment_id": 89167892, "body": "Hi! I have added working code (and tested as well), please have a look. Only one line I couldn&#39;t test properly, because of captcha. But I think it should be ok. Let me know if it&#39;s work for you as well."}, {"owner": {"reputation": 762, "user_id": 9991947, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b1a62cfbaa3d73f3823e381741e7dae?s=128&d=identicon&r=PG&f=1", "display_name": "WIT", "link": "https://stackoverflow.com/users/9991947/wit"}, "edited": false, "score": 0, "creation_date": 1530220007, "post_id": 51074819, "comment_id": 89170651, "body": "Thank you so much! don&#39;t have a good enough reputation enough to upvote or else I would. Quick question - would you know how to now loop through the rest of the pages?"}, {"owner": {"reputation": 5161, "user_id": 8625512, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/14cFh.jpg?s=128&g=1", "display_name": "Andrei Suvorkov", "link": "https://stackoverflow.com/users/8625512/andrei-suvorkov"}, "reply_to_user": {"reputation": 762, "user_id": 9991947, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b1a62cfbaa3d73f3823e381741e7dae?s=128&d=identicon&r=PG&f=1", "display_name": "WIT", "link": "https://stackoverflow.com/users/9991947/wit"}, "edited": false, "score": 0, "creation_date": 1530241686, "post_id": 51074819, "comment_id": 89175482, "body": "Happy to hear it! You can mark my answer by clicking on the grey check button below the downvote button )) . xPath to next button is <code>&#47;&#47;li[@class = &#39;pagination-next&#39;]&#47;a[@ng-click = &#39;selectPage(page + 1, $event)&#39;]</code> just click on it every time you need to load new page. Note: you have to check if button is clickable, if not - you are on he last page"}, {"owner": {"reputation": 762, "user_id": 9991947, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b1a62cfbaa3d73f3823e381741e7dae?s=128&d=identicon&r=PG&f=1", "display_name": "WIT", "link": "https://stackoverflow.com/users/9991947/wit"}, "edited": false, "score": 0, "creation_date": 1530315333, "post_id": 51074819, "comment_id": 89208076, "body": "Do you know if it would be possible to read this data quicker using pandas or beautiful soup? it takes forever, and I really only need the rows where the property value is greater than $1,000 (I was going to just look for that after but I&#39;m not sure if it would be quicker to do before)"}, {"owner": {"reputation": 5161, "user_id": 8625512, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/14cFh.jpg?s=128&g=1", "display_name": "Andrei Suvorkov", "link": "https://stackoverflow.com/users/8625512/andrei-suvorkov"}, "reply_to_user": {"reputation": 762, "user_id": 9991947, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b1a62cfbaa3d73f3823e381741e7dae?s=128&d=identicon&r=PG&f=1", "display_name": "WIT", "link": "https://stackoverflow.com/users/9991947/wit"}, "edited": false, "score": 0, "creation_date": 1530317945, "post_id": 51074819, "comment_id": 89208496, "body": "I am not that familiar with pandas or beautiful soup, I can just suggest to ask on SO. Would be nice if you&#39;ll send me the link to this question. I&#39;m also curious about it ."}, {"owner": {"reputation": 762, "user_id": 9991947, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b1a62cfbaa3d73f3823e381741e7dae?s=128&d=identicon&r=PG&f=1", "display_name": "WIT", "link": "https://stackoverflow.com/users/9991947/wit"}, "edited": false, "score": 0, "creation_date": 1530323475, "post_id": 51074819, "comment_id": 89209229, "body": "Here it is: <a href=\"https://stackoverflow.com/questions/51111093/is-there-a-more-efficient-way-to-scrape-this-table-data-using-pandas-or-beautifu\" title=\"is there a more efficient way to scrape this table data using pandas or beautifu\">stackoverflow.com/questions/51111093/&hellip;</a> !! Can you upvote it to ensure I can keep my asking permissions as I&#39;m a new user?"}], "tags": [], "owner": {"reputation": 5161, "user_id": 8625512, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/14cFh.jpg?s=128&g=1", "display_name": "Andrei Suvorkov", "link": "https://stackoverflow.com/users/8625512/andrei-suvorkov"}, "is_accepted": true, "score": 1, "last_activity_date": 1530213430, "last_edit_date": 1530213430, "creation_date": 1530160717, "answer_id": 51074819, "question_id": 51072792, "link": "https://stackoverflow.com/questions/51072792/trying-to-extract-dynamic-table-url-doesnt-change-with-selenium-beautiful-sou/51074819#51074819", "title": "Trying to extract dynamic table (url doesn&#39;t change) with selenium/beautiful soup", "body": "<p>You are getting <code>No properties to display.</code> beacuse of this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/fjxKD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fjxKD.png\" alt=\"img\"></a></p>\n\n<p>Instead you have to iterate from second index of elements:</p>\n\n<pre><code>//tbody/tr[2]/td[2]\n//tbody/tr[2]/td[3]\n//tbody/tr[2]/td[4]\n...\n//tbody/tr[3]/td[2]\n//tbody/tr[3]/td[3]\n//tbody/tr[3]/td[4]\n...\n</code></pre>\n\n<p>So you have to specify the start index from your iteration like this:</p>\n\n<pre><code>rows = driver.find_elements_by_xpath(\"//tbody/tr\")\nfor row in rows[1:]:\n    print(row.text) # prints the whole row\n    for col in row.find_elements_by_xpath('td')[1:]:\n        print(col.text.strip())\n</code></pre>\n\n<p>The code above have following output:</p>\n\n<pre><code>CLAIM # this is button value\n37769557 1ST TEXAS LANDSCAPIN 6522 JASMINE ARBOR LANE HOUSTON TX 77088 MOTEL 6 OPERATING LP ACCOUNTS PAYABLE $351.00 2010\n37769557\n1ST TEXAS LANDSCAPIN\n6522 JASMINE ARBOR LANE\nHOUSTON\nTX\n77088\nMOTEL 6 OPERATING LP\nACCOUNTS PAYABLE\n$351.00\n2010\nCLAIM # this is button value\n38255919 24X7 APARTMENT FIND OF TEXAS 1818 MOSTON DR SPRING TX 77386 NOT DISCLOSED NOT DISCLOSED $88.76 2017\n38255919\n24X7 APARTMENT FIND OF TEXAS\n1818 MOSTON DR\nSPRING\n...\n</code></pre>\n"}], "owner": {"reputation": 762, "user_id": 9991947, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b1a62cfbaa3d73f3823e381741e7dae?s=128&d=identicon&r=PG&f=1", "display_name": "WIT", "link": "https://stackoverflow.com/users/9991947/wit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 524, "favorite_count": 0, "accepted_answer_id": 51074819, "answer_count": 1, "score": 3, "last_activity_date": 1530213430, "creation_date": 1530142630, "question_id": 51072792, "link": "https://stackoverflow.com/questions/51072792/trying-to-extract-dynamic-table-url-doesnt-change-with-selenium-beautiful-sou", "title": "Trying to extract dynamic table (url doesn&#39;t change) with selenium/beautiful soup", "body": "<p>I've been trying to extract the following table that I get through using chromedriver to automate input and then an anti-captcha service and I saw an example where someone used beautiful soup after the table was generated. </p>\n\n<p>It's a multi-page table but I was just trying to even get the first page before trying to figure out how to click through the other pages, I'm not sure if I can use beautiful soup because when I try the code below I get the first row \"No properties to display.\" which would be if there were no search results and there are. </p>\n\n<p>I can't embed an image here as my rank isn't high enough (sorry I'm new to this and annoying, I tried to figure this out before I posted for hours), but if you visit the website and search \"Al\" or any input you can see the table html <a href=\"https://claimittexas.org/app/claim-search\" rel=\"nofollow noreferrer\">https://claimittexas.org/app/claim-search</a> </p>\n\n<p>here is my code-</p>\n\n<pre><code>from selenium import webdriver\nfrom selenium.webdriver.common.keys import Keys\nfrom selenium.webdriver.common.by import By\nfrom selenium.webdriver.support.ui import WebDriverWait\nfrom selenium.webdriver.support import expected_conditions as EC\nfrom bs4 import BeautifulSoup\nfrom python_anticaptcha import AnticaptchaClient, NoCaptchaTaskProxylessTask\nimport re\nimport pandas as pd\nimport os\nimport time\nimport requests\n\nparsed_table_date = []\nurl = \"https://claimittexas.org/app/claim-search\"\ndriver = webdriver.Chrome()\ndriver.implicitly_wait(15)\ndriver.get(url)\nlastNameField = driver.find_element_by_xpath('//input[@id=\"lastName\"]')\nlastNameField.send_keys('Al')\napi_key = #MY API key\nsite_key = '6LeQLyEUAAAAAKTwLC-xVC0wGDFIqPg1q3Ofam5M'  # grab from site\nclient = AnticaptchaClient(api_key)\ntask = NoCaptchaTaskProxylessTask(url, site_key)\njob = client.createTask(task)\nprint(\"Waiting to solution by Anticaptcha workers\")\njob.join()\n# Receive response\nresponse = job.get_solution_response()\nprint(\"Received solution\", response)\n# Inject response in webpage\ndriver.execute_script('document.getElementById(\"g-recaptcha-response\").innerHTML = \"%s\"' % response)\n# Wait a moment to execute the script (just in case).\ntime.sleep(1)\n# Press submit button\ndriver.find_element_by_xpath('//button[@type=\"submit\" and @class=\"btn-std\"]').click()\ntime.sleep(1)\nhtml = driver.page_source\nsoup = BeautifulSoup(html, \"lxml\")\ntable = soup.find(\"table\", { \"class\" : \"claim-property-list\" })\ntable_body = table.find('tbody')\n#rows = table_body.find_all('tr')\nfor row in table_body.findAll('tr'):\n    print(row)\n    for col in row.findAll('td'):\n        print(col.text.strip())\n</code></pre>\n"}, {"tags": ["python", "selenium"], "comments": [{"owner": {"reputation": 5161, "user_id": 8625512, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/14cFh.jpg?s=128&g=1", "display_name": "Andrei Suvorkov", "link": "https://stackoverflow.com/users/8625512/andrei-suvorkov"}, "edited": false, "score": 0, "creation_date": 1530159468, "post_id": 51072712, "comment_id": 89138580, "body": "Share us the link to the page or relevant HTML block"}, {"owner": {"reputation": 3571, "user_id": 9405154, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2b7yZ.jpg?s=128&g=1", "display_name": "Ishita Shah", "link": "https://stackoverflow.com/users/9405154/ishita-shah"}, "edited": false, "score": 0, "creation_date": 1530161879, "post_id": 51072712, "comment_id": 89139119, "body": "You can trace it with the help of Debug."}, {"owner": {"reputation": 251, "user_id": 3982625, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2Sld6.png?s=128&g=1", "display_name": "Sultan of Swing", "link": "https://stackoverflow.com/users/3982625/sultan-of-swing"}, "edited": false, "score": 0, "creation_date": 1530208096, "post_id": 51072712, "comment_id": 89166024, "body": "I added useful HTML code. I&#39;m not quite sure how to use the debugger. I haven&#39;t coded consistently for about 8 years and so I am getting back into this slowly. I&#39;ll try and look into debugging the code, but if you could provide useful tips as to what I should look for when debugging (or rather, how I would go about doing to--aside from hitting the &quot;debug&quot; button), it would be appreciated."}], "owner": {"reputation": 251, "user_id": 3982625, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2Sld6.png?s=128&g=1", "display_name": "Sultan of Swing", "link": "https://stackoverflow.com/users/3982625/sultan-of-swing"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 78, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1530207902, "creation_date": 1530141828, "last_edit_date": 1530207902, "question_id": 51072712, "link": "https://stackoverflow.com/questions/51072712/selenium-not-selecting-dropdown-in-python-no-errors", "title": "Selenium not selecting dropdown in Python, no errors", "body": "<p>I am trying to select field where I can input text (a date) and then select a dropdown menu that has a list of years/months. The dropdown is not available until a date is put into the text field. In my code, I do get Python to press the tab button so that the dropdown menu becomes accessible.</p>\n\n<p>I have a feeling this has to do with frames but I really have no clue. This code does nothing (but does not throw any errors):</p>\n\n<pre><code>date = driver.find_element_by_id('ReportViewerControl_ctl04_ctl03_txtValue')\ndate.click()\ndate.send_keys(asOfDate)\n</code></pre>\n\n<p>But it works when I add this above it (I found this in a previous project similar to mine; don't know what it does!):</p>\n\n<pre><code>Elem = WebDriverWait(driver, delay).until(EC.frame_to_be_available_and_switch_to_it((By.CSS_SELECTOR, \"iframe:not([id]):not([name])\")))\n</code></pre>\n\n<p>Great, but now I'm trying to interact with the dropdown menu:</p>\n\n<pre><code>dropdown = Select(wait.until(EC.element_to_be_clickable((By.ID,'ReportViewerControl_ct104_ct105_ddValue'))))\ndropdown.select_by_visible_text('2016.01')\n</code></pre>\n\n<p>And nothing happens. No errors, just nothing. So I'm guessing it's the same problem as before.</p>\n\n<p>This does nothing either:</p>\n\n<pre><code>dropdown2 = Select(driver.find_element_by_id(\"ReportViewerControl_ctl04_ctl05_ddValue\"))\ndropdown2.select_by_visible_text('2016.01')\n</code></pre>\n\n<p>In fact, I can't even click on it in Python (the following code does nothing as well):</p>\n\n<pre><code>dropdown3 = driver.find_element_by_id(\"ReportViewerControl_ctl04_ctl05_ddValue\")\ndropdown3.click()\n</code></pre>\n\n<p>So what's going on? Why am I unable to interact with the dropdown menu?</p>\n\n<p>Edit: here is a chunk of the HTML code:</p>\n\n<pre><code>&lt;div onclick=\"if ($get('ReportViewerControl_ctl04') != null &amp;amp;&amp;amp; $get('ReportViewerControl_ctl04').control != null) $get('ReportViewerControl_ctl04').control.HideActiveDropDown();\" onactivate=\"if ($get('ReportViewerControl_ctl04') != null &amp;amp;&amp;amp; $get('ReportViewerControl_ctl04').control != null) $get('ReportViewerControl_ctl04').control.HideActiveDropDown();\"&gt;\n                &lt;table cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" id=\"ParameterTable_ReportViewerControl_ctl04\" name=\"ParameterTable_ReportViewerControl_ctl04\" class=\"ParametersFrame ParamsGrid MenuBarBkGnd\"&gt;\n                    &lt;tbody&gt;&lt;tr&gt;\n                        &lt;td width=\"100%\" height=\"100%\"&gt;&lt;table id=\"ParametersGridReportViewerControl_ctl04\"&gt;\n                            &lt;tbody&gt;&lt;tr isparameterrow=\"true\"&gt;\n                                &lt;td class=\"ParamLabelCell\"&gt;&lt;label for=\"ReportViewerControl_ctl04_ctl03_txtValue\"&gt;&lt;span&gt;as Of&lt;/span&gt;&lt;/label&gt;&lt;/td&gt;&lt;td class=\"ParamEntryCell\" style=\"padding-right:0px;\"&gt;&lt;div id=\"ReportViewerControl_ctl04_ctl03\" data-parametername=\"asOf\"&gt;\n                                    &lt;div onactivate=\"event.cancelBubble=true;\" style=\"white-space:nowrap;\"&gt;\n                                        &lt;input name=\"ReportViewerControl$ctl04$ctl03$txtValue\" type=\"text\" value=\"1/1/2018\" size=\"28\" onchange=\"javascript:setTimeout('__doPostBack(\\'ReportViewerControl$ctl04$ctl03$txtValue\\',\\'\\')', 0)\" onkeypress=\"if (WebForm_TextBoxKeyHandler(event) == false) return false;\" id=\"ReportViewerControl_ctl04_ctl03_txtValue\" class=\"null\"&gt;&amp;nbsp;&lt;input src=\"/ReportServer/Reserved.ReportViewerWebControl.axd?OpType=Resource&amp;amp;Version=13.0.1601.5&amp;amp;Name=Microsoft.Reporting.WebForms.Calendar.png\" name=\"ReportViewerControl$ctl04$ctl03$ddDropDownButton\" type=\"image\" id=\"ReportViewerControl_ctl04_ctl03_ddDropDownButton\" alt=\"Select a value\" title=\"Select a value\" style=\"cursor:pointer;\"&gt;\n                                    &lt;/div&gt;\n                                &lt;/div&gt;&lt;/td&gt;&lt;td class=\"InterParamPadding\"&gt;&lt;/td&gt;&lt;td class=\"ParamLabelCell\"&gt;&lt;label for=\"ReportViewerControl_ctl04_ctl05_ddValue\"&gt;&lt;span&gt;Vintage&lt;/span&gt;&lt;/label&gt;&lt;/td&gt;&lt;td class=\"ParamEntryCell\" style=\"padding-right:0px;\"&gt;&lt;div id=\"ReportViewerControl_ctl04_ctl05\" data-parametername=\"vintage\"&gt;\n                                    &lt;select name=\"ReportViewerControl$ctl04$ctl05$ddValue\" id=\"ReportViewerControl_ctl04_ctl05_ddValue\" class=\"aspNetDisabled\"&gt;\n                                        &lt;option selected=\"selected\" value=\"075d73ab-eeb5-4b4e-b838-28b1cbb053b4\"&gt;&amp;lt;Select&amp;nbsp;a&amp;nbsp;Value&amp;gt;&lt;/option&gt;\n                                        &lt;option value=\"2016.01\"&gt;2016.01&lt;/option&gt;\n                                        &lt;option value=\"2016.02\"&gt;2016.02&lt;/option&gt;\n                                        &lt;option value=\"2016.03\"&gt;2016.03&lt;/option&gt;\n                                        &lt;option value=\"2016.04\"&gt;2016.04&lt;/option&gt;\n                                        &lt;option value=\"2016.05\"&gt;2016.05&lt;/option&gt;\n                                        &lt;option value=\"2016.06\"&gt;2016.06&lt;/option&gt;\n                                        &lt;option value=\"2016.07\"&gt;2016.07&lt;/option&gt;\n                                        &lt;option value=\"2016.08\"&gt;2016.08&lt;/option&gt;\n                                        &lt;option value=\"2016.09\"&gt;2016.09&lt;/option&gt;\n                                        &lt;option value=\"2016.10\"&gt;2016.10&lt;/option&gt;\n                                        &lt;option value=\"2016.11\"&gt;2016.11&lt;/option&gt;\n                                        &lt;option value=\"2016.12\"&gt;2016.12&lt;/option&gt;\n                                        &lt;option value=\"2017.01\"&gt;2017.01&lt;/option&gt;\n                                        &lt;option value=\"2017.02\"&gt;2017.02&lt;/option&gt;\n                                        &lt;option value=\"2017.03\"&gt;2017.03&lt;/option&gt;\n                                        &lt;option value=\"2017.04\"&gt;2017.04&lt;/option&gt;\n                                        &lt;option value=\"2017.05\"&gt;2017.05&lt;/option&gt;\n                                        &lt;option value=\"2017.06\"&gt;2017.06&lt;/option&gt;\n                                        &lt;option value=\"2017.07\"&gt;2017.07&lt;/option&gt;\n                                        &lt;option value=\"2017.08\"&gt;2017.08&lt;/option&gt;\n                                        &lt;option value=\"2017.09\"&gt;2017.09&lt;/option&gt;\n                                        &lt;option value=\"2017.10\"&gt;2017.10&lt;/option&gt;\n                                        &lt;option value=\"2017.11\"&gt;2017.11&lt;/option&gt;\n                                        &lt;option value=\"2017.12\"&gt;2017.12&lt;/option&gt;\n                                        &lt;option value=\"2018.01\"&gt;2018.01&lt;/option&gt;\n\n                                    &lt;/select&gt;\n                                &lt;/div&gt;&lt;/td&gt;\n                            &lt;/tr&gt;&lt;tr isparameterrow=\"true\"&gt;\n                                &lt;td class=\"ParamLabelCell\"&gt;&lt;label for=\"ReportViewerControl_ctl04_ctl07_txtValue\"&gt;&lt;span&gt;Cut Off Date&lt;/span&gt;&lt;/label&gt;&lt;/td&gt;&lt;td class=\"ParamEntryCell\" style=\"padding-right:0px;\"&gt;&lt;div id=\"ReportViewerControl_ctl04_ctl07\" data-parametername=\"cutOffDate\"&gt;\n                                    &lt;div onactivate=\"event.cancelBubble=true;\" style=\"white-space:nowrap;\"&gt;\n                                        &lt;input name=\"ReportViewerControl$ctl04$ctl07$txtValue\" type=\"text\" size=\"28\" id=\"ReportViewerControl_ctl04_ctl07_txtValue\" disabled=\"\" class=\"DisabledTextBox\"&gt;&amp;nbsp;&lt;input src=\"/ReportServer/Reserved.ReportViewerWebControl.axd?OpType=Resource&amp;amp;Version=13.0.1601.5&amp;amp;Name=Microsoft.Reporting.WebForms.Calendar_Disabled.png\" name=\"ReportViewerControl$ctl04$ctl07$ddDropDownButton\" type=\"image\" id=\"ReportViewerControl_ctl04_ctl07_ddDropDownButton\" alt=\"Select a value\" title=\"Select a value\" style=\"cursor:default;\" disabled=\"\"&gt;&amp;nbsp;&lt;span class=\"aspNetDisabled\" style=\"white-space:nowrap;\"&gt;&lt;input id=\"ReportViewerControl_ctl04_ctl07_cbNull\" type=\"checkbox\" name=\"ReportViewerControl$ctl04$ctl07$cbNull\" checked=\"checked\" aria-label=\"Cut Off Date: NULL\"&gt;&lt;label for=\"ReportViewerControl_ctl04_ctl07_cbNull\"&gt;NULL&lt;/label&gt;&lt;/span&gt;\n                                    &lt;/div&gt;\n                                &lt;/div&gt;&lt;/td&gt;&lt;td class=\"InterParamPadding\"&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;\n                            &lt;/tr&gt;\n                        &lt;/tbody&gt;&lt;/table&gt;&lt;/td&gt;&lt;td width=\"6px\"&gt;&lt;/td&gt;&lt;td class=\"SubmitButtonCell\"&gt;&lt;table&gt;\n                            &lt;tbody&gt;&lt;tr&gt;\n                                &lt;td&gt;&lt;input type=\"submit\" name=\"ReportViewerControl$ctl04$ctl00\" value=\"View Report\" id=\"ReportViewerControl_ctl04_ctl00\"&gt;&lt;/td&gt;\n                            &lt;/tr&gt;\n                        &lt;/tbody&gt;&lt;/table&gt;&lt;/td&gt;\n                    &lt;/tr&gt;\n                &lt;/tbody&gt;&lt;/table&gt;\n            &lt;/div&gt;\n</code></pre>\n"}, {"tags": ["python", "flask", "uwsgi", "background-task"], "comments": [{"owner": {"reputation": 11221, "user_id": 3929826, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56f08b81def599c554c7ab93e8593600?s=128&d=identicon&r=PG", "display_name": "Klaus D.", "link": "https://stackoverflow.com/users/3929826/klaus-d"}, "edited": false, "score": 0, "creation_date": 1530143558, "post_id": 51072660, "comment_id": 89135384, "body": "You forgot to tell us what the actual problem is you are trying to solve."}, {"owner": {"reputation": 1170, "user_id": 7454638, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac3d561d513c2ddb28d2d321f2f8e495?s=128&d=identicon&r=PG&f=1", "display_name": "leoschet", "link": "https://stackoverflow.com/users/7454638/leoschet"}, "reply_to_user": {"reputation": 11221, "user_id": 3929826, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56f08b81def599c554c7ab93e8593600?s=128&d=identicon&r=PG", "display_name": "Klaus D.", "link": "https://stackoverflow.com/users/3929826/klaus-d"}, "edited": false, "score": 0, "creation_date": 1530144891, "post_id": 51072660, "comment_id": 89135676, "body": "I actually did, it is more focused over the 2nd to the 6th paragraph. I presented a full view of the problem on the &quot;Note&quot; section. As stated, I want to build a flask application on top of my python&#39;s multiprocessing program (2nd paragraph), the possible approaches I found are on the provided SO link (3rd paragraph). I specified the approach I want to follow (4th paragraph) and presented the main problems I&#39;m having to continue development (5th and 6th paragraphs)"}, {"owner": {"reputation": 1170, "user_id": 7454638, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac3d561d513c2ddb28d2d321f2f8e495?s=128&d=identicon&r=PG&f=1", "display_name": "leoschet", "link": "https://stackoverflow.com/users/7454638/leoschet"}, "reply_to_user": {"reputation": 11221, "user_id": 3929826, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56f08b81def599c554c7ab93e8593600?s=128&d=identicon&r=PG", "display_name": "Klaus D.", "link": "https://stackoverflow.com/users/3929826/klaus-d"}, "edited": false, "score": 0, "creation_date": 1530145105, "post_id": 51072660, "comment_id": 89135718, "body": "In an explict manner, I want to <b>start a python daemon/service using <a href=\"http://uwsgi-docs.readthedocs.io/en/latest/AttachingDaemons.html#managing-external-daemons-services\" rel=\"nofollow noreferrer\">uWSGI feature</a></b> as well as <b>communicate the results from the service and the flask application</b>. If that&#39;s not what you meant, please, elaborate"}, {"owner": {"reputation": 54548, "user_id": 128141, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70dfb4afd84b106d0855184bf0ae4675?s=128&d=identicon&r=PG", "display_name": "Graham Dumpleton", "link": "https://stackoverflow.com/users/128141/graham-dumpleton"}, "edited": false, "score": 0, "creation_date": 1530148664, "post_id": 51072660, "comment_id": 89136384, "body": "Yes and no. What they are possibly getting at is that you have outlined a solution for some problem you haven&#39;t really explained in detail why you need it. You are then asking how to get your solution working. The reason for going more into the actual problem or reason why you need it, is that someone may suggest a completely different way of doing it which may be simpler or more appropriate. It is not uncommon to get this response as many questions on SO are like this. Help me with this specific solution, when there was often better solutions to begin with."}, {"owner": {"reputation": 21495, "user_id": 62288, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01239dcaa443502ce71059f5308bca74?s=128&d=identicon&r=PG", "display_name": "Dave W. Smith", "link": "https://stackoverflow.com/users/62288/dave-w-smith"}, "edited": false, "score": 0, "creation_date": 1530150724, "post_id": 51072660, "comment_id": 89136721, "body": "Please expand on &quot;The main reason for using the pool of workers is that I need to share several objects between them.&quot; Worker are distinct processes. What are you sharing (and why)?"}, {"owner": {"reputation": 1170, "user_id": 7454638, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac3d561d513c2ddb28d2d321f2f8e495?s=128&d=identicon&r=PG&f=1", "display_name": "leoschet", "link": "https://stackoverflow.com/users/7454638/leoschet"}, "reply_to_user": {"reputation": 54548, "user_id": 128141, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70dfb4afd84b106d0855184bf0ae4675?s=128&d=identicon&r=PG", "display_name": "Graham Dumpleton", "link": "https://stackoverflow.com/users/128141/graham-dumpleton"}, "edited": false, "score": 0, "creation_date": 1530153087, "post_id": 51072660, "comment_id": 89137244, "body": "@GrahamDumpleton i&#39;m asking about how do I start a daemon process service with uWSGI, specifically using the feature on this <a href=\"http://uwsgi-docs.readthedocs.io/en/latest/AttachingDaemons.html#managing-external-daemons-services\" rel=\"nofollow noreferrer\">link</a> as said, I read the examples, but do not understand. I also ask about the communication between the daemon service and the uWSGI (flask) app. I provided what I think to be a solution for the latter and asked if there is a better way of doing. Please, read my question, on the note section, I said that in fact I have a node and a python application already"}, {"owner": {"reputation": 1170, "user_id": 7454638, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac3d561d513c2ddb28d2d321f2f8e495?s=128&d=identicon&r=PG&f=1", "display_name": "leoschet", "link": "https://stackoverflow.com/users/7454638/leoschet"}, "edited": false, "score": 0, "creation_date": 1530153186, "post_id": 51072660, "comment_id": 89137265, "body": "already implemented and want to communicate between them, I said to believe that Celery would be the best approach but want to use flask + uWSGI + python daemon proces/service to run native multiprocessing module."}, {"owner": {"reputation": 1170, "user_id": 7454638, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac3d561d513c2ddb28d2d321f2f8e495?s=128&d=identicon&r=PG&f=1", "display_name": "leoschet", "link": "https://stackoverflow.com/users/7454638/leoschet"}, "reply_to_user": {"reputation": 21495, "user_id": 62288, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01239dcaa443502ce71059f5308bca74?s=128&d=identicon&r=PG", "display_name": "Dave W. Smith", "link": "https://stackoverflow.com/users/62288/dave-w-smith"}, "edited": false, "score": 0, "creation_date": 1530153304, "post_id": 51072660, "comment_id": 89137298, "body": "@DaveW.Smith I edited the question with the why."}, {"owner": {"reputation": 1170, "user_id": 7454638, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac3d561d513c2ddb28d2d321f2f8e495?s=128&d=identicon&r=PG&f=1", "display_name": "leoschet", "link": "https://stackoverflow.com/users/7454638/leoschet"}, "reply_to_user": {"reputation": 54548, "user_id": 128141, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70dfb4afd84b106d0855184bf0ae4675?s=128&d=identicon&r=PG", "display_name": "Graham Dumpleton", "link": "https://stackoverflow.com/users/128141/graham-dumpleton"}, "edited": false, "score": 0, "creation_date": 1530153308, "post_id": 51072660, "comment_id": 89137299, "body": "@GrahamDumpleton, I added a link of a previous question on which I talk more about the project in question"}, {"owner": {"reputation": 1170, "user_id": 7454638, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac3d561d513c2ddb28d2d321f2f8e495?s=128&d=identicon&r=PG&f=1", "display_name": "leoschet", "link": "https://stackoverflow.com/users/7454638/leoschet"}, "edited": false, "score": 0, "creation_date": 1530154264, "post_id": 51072660, "comment_id": 89137485, "body": "I really think i&#39;m being overly redundant on my questions explaining what I really asked, but please, if you still need some details, ask me! I also want to thank you in advance!"}, {"owner": {"reputation": 54548, "user_id": 128141, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70dfb4afd84b106d0855184bf0ae4675?s=128&d=identicon&r=PG", "display_name": "Graham Dumpleton", "link": "https://stackoverflow.com/users/128141/graham-dumpleton"}, "edited": false, "score": 1, "creation_date": 1530157054, "post_id": 51072660, "comment_id": 89138009, "body": "The &#39;why&#39; you have added is great. Addressing that overall goal, have you ever looked at Dask (<a href=\"http://dask.pydata.org/en/latest/\" rel=\"nofollow noreferrer\">dask.pydata.org/en/latest</a>)? It is a way of distributing large data sets across processes and then being able to run jobs across it. It works with packages like numpy/pandas/scikit etc. In other words, one way of solving the issue is to use a mini dask cluster, even if multiple worker processes on same node, and then use dask client API to submit tasks to the workers."}, {"owner": {"reputation": 1170, "user_id": 7454638, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac3d561d513c2ddb28d2d321f2f8e495?s=128&d=identicon&r=PG&f=1", "display_name": "leoschet", "link": "https://stackoverflow.com/users/7454638/leoschet"}, "edited": false, "score": 0, "creation_date": 1530188021, "post_id": 51072660, "comment_id": 89153642, "body": "Hmm, sounds interesting, it would solve the python side of the project, I was intending to only use a task queue after having the first version in production, the task queue service would substitute the HTTP communication, and for that I would need a language agnostic task queue like Celery, to directly connect node and python.. I didn&#39;t search on the web on how to share ojects with celery workers, but there should be a way"}, {"owner": {"reputation": 1170, "user_id": 7454638, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac3d561d513c2ddb28d2d321f2f8e495?s=128&d=identicon&r=PG&f=1", "display_name": "leoschet", "link": "https://stackoverflow.com/users/7454638/leoschet"}, "reply_to_user": {"reputation": 54548, "user_id": 128141, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70dfb4afd84b106d0855184bf0ae4675?s=128&d=identicon&r=PG", "display_name": "Graham Dumpleton", "link": "https://stackoverflow.com/users/128141/graham-dumpleton"}, "edited": false, "score": 0, "creation_date": 1530188135, "post_id": 51072660, "comment_id": 89153722, "body": "@GrahamDumpleton so, there is no way to take advantage of my already coded python + multiprocessing (native module) solution? I mean, no matter the solution, I will need to redo the multiprocessing part?"}], "answers": [{"tags": [], "owner": {"reputation": 21495, "user_id": 62288, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01239dcaa443502ce71059f5308bca74?s=128&d=identicon&r=PG", "display_name": "Dave W. Smith", "link": "https://stackoverflow.com/users/62288/dave-w-smith"}, "is_accepted": false, "score": 1, "last_activity_date": 1580402293, "last_edit_date": 1580402293, "creation_date": 1530217650, "answer_id": 51090760, "question_id": 51072660, "link": "https://stackoverflow.com/questions/51072660/daemon-background-tasks-on-flask-uwsgi-application/51090760#51090760", "title": "Daemon background tasks on flask (uwsgi) application", "body": "<p>I can see the temptation to hang on to <code>multiprocessing.Pool</code>. I'm using it in production as part of a pipeline. But Celery (which I'm also using in production) is much better suited to what you're trying to do, which is distribute work across cores to a resource that's expensive to set up. Have N cores? Start N celery workers, which of which can load (or maybe lazy-load) the expensive model as a global. A request comes in to the app, launch a task (e.g., <code>task = predict.delay(args)</code>, wait for it to complete (e.g., <code>result = task.get()</code>) and return a response. You're trading a little bit of time learning celery for saving having to write a bunch of coordination code.</p>\n"}], "owner": {"reputation": 1170, "user_id": 7454638, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac3d561d513c2ddb28d2d321f2f8e495?s=128&d=identicon&r=PG&f=1", "display_name": "leoschet", "link": "https://stackoverflow.com/users/7454638/leoschet"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 773, "favorite_count": 2, "answer_count": 1, "score": 0, "last_activity_date": 1580402293, "creation_date": 1530141412, "last_edit_date": 1530154183, "question_id": 51072660, "link": "https://stackoverflow.com/questions/51072660/daemon-background-tasks-on-flask-uwsgi-application", "title": "Daemon background tasks on flask (uwsgi) application", "body": "<p>Edit for clarify my question:\nI want to attach a python service on uwsgi using <a href=\"http://uwsgi-docs.readthedocs.io/en/latest/AttachingDaemons.html#managing-external-daemons-services\" rel=\"nofollow noreferrer\">this feature</a> (I can't understand the examples) and I also want to be able to communicate results between them. Below I present some context and also present my first thought on the communication matter, expecting maybe some advice or another approach to take.</p>\n\n<hr>\n\n<p>I have an already developed python application that uses <code>multiprocessing.Pool</code> to run on demand tasks. The main reason for using the pool of workers is that I need to share several objects between them.</p>\n\n<p>On top of that, I want to have a flask application that triggers tasks from its endpoints.</p>\n\n<p>I've read several questions here on SO looking for possible drawbacks of using flask with python's multiprocessing module. I'm still a bit confused but <a href=\"https://stackoverflow.com/a/44914158/7454638\">this answer</a> summarizes  well both the downsides of starting a <code>multiprocessing.Pool</code> directly from flask and what my options are.</p>\n\n<p>This answer shows an <a href=\"http://uwsgi-docs.readthedocs.io/en/latest/AttachingDaemons.html#managing-external-daemons-services\" rel=\"nofollow noreferrer\">uWSGI feature to manage daemon/services</a>. I want to follow this approach so I can use my already developed python application as a service of the flask app.</p>\n\n<p>One of my main problems is that I look at the examples and do not know what I need to do next. In other words, how would I start the python app from there?</p>\n\n<p>Another problem is about the communication between the flask app and the daemon process/service. My first thought is to use <code>flask-socketIO</code> to communicate, but then, if my server stops I need to deal with the connection... Is this a good way to communicate between server and service? What are other possible solutions?</p>\n\n<hr>\n\n<p><strong>Note:</strong>\nI'm well aware of Celery, and I pretend to use it in a near future. In fact, I have an already developed node.js app, on which users perform actions that should trigger specific tasks from the (also) already developed python application. The thing is, I need a <strong>production-ready</strong> version as soon as possible, and instead of modifying the python application, that uses <code>multiprocessing</code>, I thought it would be faster to create a simple flask server to communicate with node.js through HTTP. This way I would only need to implement a flask app that instantiates the python app.</p>\n\n<hr>\n\n<p><strong>Edit:</strong></p>\n\n<p><strong>Why do I need to share objects?</strong></p>\n\n<p>Simply because the creation of the objects in questions takes too long. Actually, the creation takes an acceptable amount of time if done once, but, since I'm expecting (maybe) hundreds to thousands of requests simultaneously having to load every object again would be something I want to avoid.</p>\n\n<p>One of the objects is a scikit classifier model, persisted on a pickle file, which takes 3 seconds to load. Each user can create several \"job spots\" each one will take over 2k documents to be classified, each document will be uploaded on an unknown point in time, so I need to have this model loaded in memory (loading it again for every task is not acceptable).</p>\n\n<p>This is one example of a single task.</p>\n\n<hr>\n\n<p><strong>Edit 2:</strong>\nI've asked some questions related to this project before:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/q/50970501/7454638\">Bidirectional python-node communication</a></li>\n<li><a href=\"https://stackoverflow.com/q/50863360/7454638\">Python multiprocessing within node.js - Prints on sub process not working</a></li>\n<li><a href=\"https://stackoverflow.com/q/50508310/7454638\">Adding a shared object to a manager.Namespace</a></li>\n</ul>\n\n<p>As stated, but to clarify: <strong>I think the best solution would be to use Celery, but in order to quickly have a production ready solution, I trying to use this uWSGI attach daemon solution</strong></p>\n"}, {"tags": ["python", "multithreading", "loops", "while-loop", "multiprocessing"], "comments": [{"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1530144590, "post_id": 51072654, "comment_id": 89135612, "body": "Your use of data-frames here is incredibly inefficient and is going to slow you down tremendously. Grow your data as a list, then create a data-frame at the end. It seems you only want to use the data-frames to create csv&#39;s. That&#39;s like using a sledgehammer for a nail. Just use the <code>csv</code> module and vanilla python data-structures."}, {"owner": {"reputation": 43, "user_id": 5739553, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ozrye.jpg?s=128&g=1", "display_name": "frozenbooger", "link": "https://stackoverflow.com/users/5739553/frozenbooger"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1530161063, "post_id": 51072654, "comment_id": 89138931, "body": "Yes, I agree, i admit it is a bit foolish, I will update this question once I have finished"}], "owner": {"reputation": 43, "user_id": 5739553, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ozrye.jpg?s=128&g=1", "display_name": "frozenbooger", "link": "https://stackoverflow.com/users/5739553/frozenbooger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 62, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1530144028, "creation_date": 1530141367, "last_edit_date": 1530144028, "question_id": 51072654, "link": "https://stackoverflow.com/questions/51072654/multiprocessing-threading-infinite-loops-what-should-i-do", "title": "Multiprocessing? Threading? infinite loops? what should I do?", "body": "<p>I'm trying to understand the most effective way of solving the following issue. I have python code pooling in data from multiple sources (using pyserial). My goal is to generate a pandas table containing all this data that I have collected (from three sources). All the data has to be collected simultaneously so I will either have to use threading or multiprocessing and be able to have all the programs start and stop simultaneously. This is the general idea of my code:</p>\n\n<pre><code>User_inputs\n###########\nfunctions\n###########\nPort/Serial Misc.\n###########\nloops (can be defined in functions) e.g:\n\ndef lightloop():\n   data = { 'light': []}\n   df = pd.DataFrame(data, columns=[ 'light'])\n   while True:\n       arduino.reset_input_buffer()\n       value = float(str(arduino.readline()))#everysecond\n       df = df.append({'light': value}, ignore_index=True)\n       print df\n       time.sleep(1)\n       if len(df.index) &gt; 5:\n           break  \n   return df\n\n###########\ncode that will analyze the data collected in the loops e.g\n\ndatatime = {'time': []}        \ndf2 = pd.DataFrame(datatime, columns=[ 'time'])\nfor i in range(len(df['light'])):      \n    df2 = df2.append({'time': i}, ignore_index=True)\n    df['time'] = df2['time']\n\nprint df\ndf.to_csv('~/Downloads/test.csv', sep='\\t')\nplt.scatter(df['time'], df['light'])\nafont = {'fontname':'Avenir Book'}\nmfont = {'fontname':'Menlo Regular'}\nplt.title('',**mfont)\nplt.ylabel('light', **afont)\nplt.xlabel('Time [Second]', **afont)\nplt.style.use('ggplot')\nplt.savefig(os.path.expanduser('~/Downloads/test.png'), dpi = 150)\n</code></pre>\n\n<p>What would  be the best way of going about this? I have looked into threading and it isn't very straightforward and complicates my code greatly, I'm also unable to stop the threads such that my data analysis code runs. </p>\n"}, {"tags": ["python", "sorting"], "comments": [{"owner": {"reputation": 2454, "user_id": 8784938, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/753bb55c80a644f950a41ae11cfbe48c?s=128&d=identicon&r=PG&f=1", "display_name": "SuperStew", "link": "https://stackoverflow.com/users/8784938/superstew"}, "edited": false, "score": 3, "creation_date": 1530141365, "post_id": 51072635, "comment_id": 89134929, "body": "boo you didn&#39;t even google it"}, {"owner": {"reputation": 45308, "user_id": 3483203, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/592wq.png?s=128&g=1", "display_name": "user3483203", "link": "https://stackoverflow.com/users/3483203/user3483203"}, "edited": false, "score": 2, "creation_date": 1530141373, "post_id": 51072635, "comment_id": 89134930, "body": "<code>sorted(price_list, key=lambda x: float(x[1]))</code>"}, {"owner": {"reputation": 45308, "user_id": 3483203, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/592wq.png?s=128&g=1", "display_name": "user3483203", "link": "https://stackoverflow.com/users/3483203/user3483203"}, "edited": false, "score": 3, "creation_date": 1530141406, "post_id": 51072635, "comment_id": 89134936, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/8459231/sort-tuples-based-on-second-parameter\">Sort tuples based on second parameter</a>"}], "answers": [{"comments": [{"owner": {"reputation": 17298, "user_id": 1540468, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2f7d0c7668a2f3b53cf22c01ae63f32b?s=128&d=identicon&r=PG", "display_name": "Paul Rooney", "link": "https://stackoverflow.com/users/1540468/paul-rooney"}, "edited": false, "score": 0, "creation_date": 1530141639, "post_id": 51072662, "comment_id": 89134997, "body": "hmmmm seems to give the right result. So why the downvote?"}], "tags": [], "owner": {"reputation": 7859, "user_id": 630752, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/FEk3H.jpg?s=128&g=1", "display_name": "Harry Moreno", "link": "https://stackoverflow.com/users/630752/harry-moreno"}, "is_accepted": false, "score": 1, "last_activity_date": 1530141443, "creation_date": 1530141443, "answer_id": 51072662, "question_id": 51072635, "link": "https://stackoverflow.com/questions/51072635/how-to-rank-product-and-price-on-python/51072662#51072662", "title": "How to rank product and price on python", "body": "<pre><code>price_list = [[\"Eggs\", \"3.77\"], [\"Toast\", \"8.45\"], [\"Milk\", \"7.12\"], [\"Water\", \"4.34\"], [\"Popcorn\", \"1.23\"]]\nprint(\"Original order: \", price_list)\nprint(\"Sorted Order: \", sorted(price_list, key=lambda x: float(x[1])))\n</code></pre>\n"}], "owner": {"reputation": 5, "user_id": 10002248, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa32b580fd030c5e130e19f67cf71449?s=128&d=identicon&r=PG&f=1", "display_name": "Zachary McIntire", "link": "https://stackoverflow.com/users/10002248/zachary-mcintire"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 138, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1530159817, "creation_date": 1530141233, "last_edit_date": 1530159817, "question_id": 51072635, "link": "https://stackoverflow.com/questions/51072635/how-to-rank-product-and-price-on-python", "title": "How to rank product and price on python", "body": "<p>I am trying to put a list of groceries into python and then ranking them with the lowest price being first. Does anyone know how I could display this so the result would look like:</p>\n\n<pre><code>Popcorn: 1.23\nEggs: 3.77\nWater: 4.34\nMilk: 7.12\nToast: 8.45\n</code></pre>\n\n<p>This is what I have tried so far</p>\n\n<pre><code>price_list = [[\"Eggs\", \"3.77\"], [\"Toast\", \"8.45\"], [\"Milk\", \"7.12\"], [\"Water\", \"4.34\"], [\"Popcorn\", \"1.23\"]]\nprint(\"Original order: \", price_list)\nprice_list.sort()\nprint(\"Sorted Order: \", price_list)\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "cmd", "windows-10", "syntax-error"], "comments": [{"owner": {"reputation": 2454, "user_id": 8784938, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/753bb55c80a644f950a41ae11cfbe48c?s=128&d=identicon&r=PG&f=1", "display_name": "SuperStew", "link": "https://stackoverflow.com/users/8784938/superstew"}, "edited": false, "score": 2, "creation_date": 1530141145, "post_id": 51072613, "comment_id": 89134880, "body": "In your pic, you&#39;re still defining the <code>hello</code> function when you try to call it..."}, {"owner": {"reputation": 2454, "user_id": 8784938, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/753bb55c80a644f950a41ae11cfbe48c?s=128&d=identicon&r=PG&f=1", "display_name": "SuperStew", "link": "https://stackoverflow.com/users/8784938/superstew"}, "edited": false, "score": 0, "creation_date": 1530141174, "post_id": 51072613, "comment_id": 89134888, "body": "also, avoid posting pics of code"}, {"owner": {"reputation": 2644, "user_id": 747744, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58e40f54006383a41c5c00347a7a0cc7?s=128&d=identicon&r=PG", "display_name": "Eugene Primako", "link": "https://stackoverflow.com/users/747744/eugene-primako"}, "edited": false, "score": 0, "creation_date": 1530141181, "post_id": 51072613, "comment_id": 89134892, "body": "You should better put the error to post as text. Externally hosted images can become unavailable, so your question can become unclear for future SO users."}, {"owner": {"reputation": 17298, "user_id": 1540468, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2f7d0c7668a2f3b53cf22c01ae63f32b?s=128&d=identicon&r=PG", "display_name": "Paul Rooney", "link": "https://stackoverflow.com/users/1540468/paul-rooney"}, "edited": false, "score": 1, "creation_date": 1530141208, "post_id": 51072613, "comment_id": 89134900, "body": "leave a line between the function definition and calling the function. I&#39;m not sure why it needs that but it does."}, {"owner": {"reputation": 28755, "user_id": 5047996, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/la3kD.png?s=128&g=1", "display_name": "aschipfl", "link": "https://stackoverflow.com/users/5047996/aschipfl"}, "edited": false, "score": 0, "creation_date": 1530184104, "post_id": 51072613, "comment_id": 89150994, "body": "The reason is this: the Python interpreter cannot look ahead what you are going to type next and whether the next line is indented, so it requiressomething to tell that the indented block is over, which is an empty line; in a Python script, no such empty line is needed, because it is predefined whether the next line is intended..."}], "answers": [{"comments": [{"owner": {"reputation": 95, "user_id": 10002593, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fYek3.png?s=128&g=1", "display_name": "decoder247", "link": "https://stackoverflow.com/users/10002593/decoder247"}, "edited": false, "score": 0, "creation_date": 1530141618, "post_id": 51072642, "comment_id": 89134992, "body": "Thank you! Do you know why doing this on the cmd requires that extra line after defining the function?"}, {"owner": {"reputation": 2644, "user_id": 747744, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58e40f54006383a41c5c00347a7a0cc7?s=128&d=identicon&r=PG", "display_name": "Eugene Primako", "link": "https://stackoverflow.com/users/747744/eugene-primako"}, "reply_to_user": {"reputation": 95, "user_id": 10002593, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fYek3.png?s=128&g=1", "display_name": "decoder247", "link": "https://stackoverflow.com/users/10002593/decoder247"}, "edited": false, "score": 0, "creation_date": 1530141791, "post_id": 51072642, "comment_id": 89135031, "body": "This is the interpreter feature: while you are defining function, it concerns the line with function call as lack of indentation (because it thinks that the function is not over)"}], "tags": [], "owner": {"reputation": 2644, "user_id": 747744, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58e40f54006383a41c5c00347a7a0cc7?s=128&d=identicon&r=PG", "display_name": "Eugene Primako", "link": "https://stackoverflow.com/users/747744/eugene-primako"}, "is_accepted": false, "score": 0, "last_activity_date": 1530141293, "creation_date": 1530141293, "answer_id": 51072642, "question_id": 51072613, "link": "https://stackoverflow.com/questions/51072613/syntax-error-when-defining-a-function-on-the-python-command-line/51072642#51072642", "title": "Syntax error when defining a function on the Python command line", "body": "<p>You should add a newline between defining function and calling it:</p>\n\n<pre><code>def hello():\n    print (\"Hello!\")\n\nhello()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2476, "user_id": 5931673, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/aTpXN.jpg?s=128&g=1", "display_name": "ajxs", "link": "https://stackoverflow.com/users/5931673/ajxs"}, "is_accepted": false, "score": 0, "last_activity_date": 1530141298, "creation_date": 1530141298, "answer_id": 51072643, "question_id": 51072613, "link": "https://stackoverflow.com/questions/51072613/syntax-error-when-defining-a-function-on-the-python-command-line/51072643#51072643", "title": "Syntax error when defining a function on the Python command line", "body": "<p>It looks like you've entered the whole block as a single statement. You'll need to hit enter after entering:</p>\n\n<pre><code>def hello():\n    print (\"Hello!\")\n</code></pre>\n\n<p>So that the interpreter understands that this is a single definition that you've entered. Once that's been defined, then try running the <code>hello()</code> function.</p>\n"}, {"comments": [{"owner": {"reputation": 95, "user_id": 10002593, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fYek3.png?s=128&g=1", "display_name": "decoder247", "link": "https://stackoverflow.com/users/10002593/decoder247"}, "edited": false, "score": 0, "creation_date": 1530141598, "post_id": 51072645, "comment_id": 89134988, "body": "That did the trick! Thank you so much! Out of interest do you know why doing this on the cmd requires that extra line after defining the function?"}, {"owner": {"reputation": 322, "user_id": 8207229, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9c2601a08c38c92bbd3dcf332832ef7?s=128&d=identicon&r=PG&f=1", "display_name": "Farhan", "link": "https://stackoverflow.com/users/8207229/farhan"}, "edited": false, "score": 0, "creation_date": 1530141644, "post_id": 51072645, "comment_id": 89134999, "body": "&quot;Essentially, this lets Python know that you are done defining your function.&quot; If you don&#39;t have the extra line, Python assumes you are still writing part of the function."}, {"owner": {"reputation": 3382, "user_id": 4759361, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/zu2kz.jpg?s=128&g=1", "display_name": "xrisk", "link": "https://stackoverflow.com/users/4759361/xrisk"}, "reply_to_user": {"reputation": 95, "user_id": 10002593, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fYek3.png?s=128&g=1", "display_name": "decoder247", "link": "https://stackoverflow.com/users/10002593/decoder247"}, "edited": false, "score": 2, "creation_date": 1530141685, "post_id": 51072645, "comment_id": 89135009, "body": "@user10002593 the <code>...</code> at the beginning of the line indicates that Python still thinks you are inside the function block. After all, you could have more lines in the function after the <code>print</code>. Entering a blank line lets Python know that your function block is complete."}, {"owner": {"reputation": 95, "user_id": 10002593, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fYek3.png?s=128&g=1", "display_name": "decoder247", "link": "https://stackoverflow.com/users/10002593/decoder247"}, "edited": false, "score": 0, "creation_date": 1530141874, "post_id": 51072645, "comment_id": 89135046, "body": "Ahhh, ok I didn&#39;t know that. Thanks so much Rishav + Farhan, that completely answers my question. I&#39;d upvote you guys if I had more reputation!"}], "tags": [], "owner": {"reputation": 3382, "user_id": 4759361, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/zu2kz.jpg?s=128&g=1", "display_name": "xrisk", "link": "https://stackoverflow.com/users/4759361/xrisk"}, "is_accepted": true, "score": 6, "last_activity_date": 1530141533, "last_edit_date": 1530141533, "creation_date": 1530141310, "answer_id": 51072645, "question_id": 51072613, "link": "https://stackoverflow.com/questions/51072613/syntax-error-when-defining-a-function-on-the-python-command-line/51072645#51072645", "title": "Syntax error when defining a function on the Python command line", "body": "<p>Press enter once after defining your function (that is, enter one <em>blank line</em>). Essentially, this lets Python know that you are done defining your function. </p>\n\n<p>Once you see <code>&gt;&gt;&gt;</code> again, you can call your function.</p>\n\n<p>See the picture for how it should look when done right:</p>\n\n<p><a href=\"https://i.stack.imgur.com/lpRQj.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/lpRQj.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": [], "owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "is_accepted": false, "score": 2, "last_activity_date": 1530143419, "creation_date": 1530143419, "answer_id": 51072885, "question_id": 51072613, "link": "https://stackoverflow.com/questions/51072613/syntax-error-when-defining-a-function-on-the-python-command-line/51072885#51072885", "title": "Syntax error when defining a function on the Python command line", "body": "<p>If you want to understand <em>why</em> this is happening, rather than just learn a workaround that works for some mysterious reason:</p>\n\n<p>Interactive mode works by reading, compiling, and executing one statement at a time. This is a dead-simple rule\u2014besides being dead-simple to implement it in the C code, it's also dead-simple to work through exactly in your head\u2014once you understand it, that is. When given a choice between an implementation that's easy to explain, document, and work through in your head or one that's more complicated but sometimes easier to use, Python usually goes with the former.</p>\n\n<hr>\n\n<p>If you enter a simple one-line statement, that's easy: the line is a complete statement, so it just compiles and executes that line.</p>\n\n<p>But if you enter the first line of a compound statement\u2014one that has a <code>:</code> on the end of the line and then an indented block\u2014the statement isn't done until you write an indented block and then unindent again. So, it prints that special <code>...</code> prompt instead of <code>&gt;&gt;&gt;</code> to let you know it's continuing to read the same statement, and keeps going until you unindent.</p>\n\n<p>If you unindent by typing a blank line, the statement is done, so it compiles and executes it, and everything is good.</p>\n\n<p>If you unindent by typing a new one-liner statement, now it has two statements. If it tries to compile and run that as a single statement, that fails.</p>\n\n<p>By the way, there's nothing magical about <code>def</code> here; the same thing will happen with any compound statement:</p>\n\n<pre><code>&gt;&gt;&gt; for i in range(10):\n...     print(i)\n... print('Done')\n</code></pre>\n\n<p>You'll get the same <code>SyntaxError</code>.</p>\n\n<hr>\n\n<p>Couldn't Python figure out that you gave it two statements, and compile and run them one after another? Yes. In fact, if you use IPython/Jupyter, it actually does exactly that. But this would make the rule more complicated\u2014not to mention things like handling exceptions in the first statement. Python chooses the simple rule you can trace through in your head over the complicated rule here, even though the complicated rule would do what you want more often.</p>\n\n<hr>\n\n<p>So, how does this work in a module file? Well, modules aren't compiled a statement at a time, they're compiled all at once, as a list of statements, and then run all at once. That obviously doesn't work for the interactive terminal, because it can't run anything until it compiles everything, and it doesn't have everything until quitting time.</p>\n\n<hr>\n\n<p>One last thing: why do continued expressions work?</p>\n\n<pre><code>&gt;&gt;&gt; (1 +\n...  2)\n3\n</code></pre>\n\n<p>Expressions don't care about indentation. They end when all the parens/brackets/braces are balanced at the end of a line, not when the next line is unindented. So, as soon as you enter that <code>2)</code>, it knows the input is complete, and can compile it.</p>\n\n<p>And the same thing is true for backslash continuation:</p>\n\n<pre><code>&gt;&gt;&gt; 1 + \\\n...     2\n3\n</code></pre>\n\n<p>No need for an unindented line; as soon as you type that <code>2</code> without a backslash continuation, the input is complete.</p>\n"}], "owner": {"reputation": 95, "user_id": 10002593, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fYek3.png?s=128&g=1", "display_name": "decoder247", "link": "https://stackoverflow.com/users/10002593/decoder247"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2253, "favorite_count": 0, "accepted_answer_id": 51072645, "answer_count": 4, "score": 3, "last_activity_date": 1530143419, "creation_date": 1530140943, "last_edit_date": 1530142315, "question_id": 51072613, "link": "https://stackoverflow.com/questions/51072613/syntax-error-when-defining-a-function-on-the-python-command-line", "title": "Syntax error when defining a function on the Python command line", "body": "<p>I am trying to define a function on the Python REPL. Every time I try to run the below code, I get a syntax error.</p>\n\n<p>Code:</p>\n\n<pre><code>def hello():\n    print (\"Hello!\")\nhello()\n</code></pre>\n\n<p>Error:</p>\n\n<pre><code>C:\\Users\\~\\Desktop&gt;python\nPython 3.6.5 (v3.6.5:f59c0932b4, Mar 28 2018, 16:07:46) [MSC v.1900 32 bit (Intel)] on win32\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n&gt;&gt;&gt; def hello():\n...     print (\"Hello!\")\n... hello()\n  File \"&lt;stdin&gt;\", line 3\n    hello()\n        ^\nSyntaxError: invalid syntax\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/xi9ub.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xi9ub.png\" alt=\"Error\"></a></p>\n\n<p>A possible explanation I've come across on stackoverflow is this post <a href=\"https://stackoverflow.com/questions/28753572/python-error-file-stdin\">Python Error : File &quot;&lt;stdin&gt;&quot;</a> where it says I can't run scripts from the Python interpreter. If that's true, why is that the case? I.e. if I'm able to run >>>2+2 in the cmd window, why am I not able to run a 'def' function? Hoping to look for clarification on this point - Thanks!</p>\n\n<p>Edit: Put the error in text, not just the pic.</p>\n"}, {"tags": ["python", "json", "try-catch"], "comments": [{"owner": {"reputation": 998, "user_id": 3874512, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2096d0d108e55ca0b691fb9161377ae1?s=128&d=identicon&r=PG&f=1", "display_name": "BowlingHawk95", "link": "https://stackoverflow.com/users/3874512/bowlinghawk95"}, "edited": false, "score": 1, "creation_date": 1530141252, "post_id": 51072596, "comment_id": 89134912, "body": "when you use <code>[&#39;foo&#39;]</code> to get the element at <code>&#39;foo&#39;</code> from a dictionary, it will raise a KeyError if that element isn&#39;t found. If instead you use <code>d.get(&#39;foo&#39;)</code> then that method will return <code>None</code> (or another default value you provide) if the key <code>&#39;foo&#39;</code> isn&#39;t found.  Using that, you can remove the try-except block by checking if the return value from <code>get</code> is None or not.  I can write up an example if needed."}, {"owner": {"reputation": 321, "user_id": 9441275, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96c102bbeb8fa9862c1ae81c0269b9ae?s=128&d=identicon&r=PG&f=1", "display_name": "CDNthe2nd", "link": "https://stackoverflow.com/users/9441275/cdnthe2nd"}, "reply_to_user": {"reputation": 998, "user_id": 3874512, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2096d0d108e55ca0b691fb9161377ae1?s=128&d=identicon&r=PG&f=1", "display_name": "BowlingHawk95", "link": "https://stackoverflow.com/users/3874512/bowlinghawk95"}, "edited": false, "score": 0, "creation_date": 1530141400, "post_id": 51072596, "comment_id": 89134935, "body": "@BowlingHawk95 I would like to have a example if you have a spare time! I would really appreciate it ! :)"}], "answers": [{"comments": [{"owner": {"reputation": 321, "user_id": 9441275, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96c102bbeb8fa9862c1ae81c0269b9ae?s=128&d=identicon&r=PG&f=1", "display_name": "CDNthe2nd", "link": "https://stackoverflow.com/users/9441275/cdnthe2nd"}, "edited": false, "score": 0, "creation_date": 1530141813, "post_id": 51072696, "comment_id": 89135034, "body": "Thank you very much! I have a question if I might ask? Etc - lets say if I don&#39;t find value of fullRetailPrice and publishType, would I need to do another if else statement for each element?"}, {"owner": {"reputation": 998, "user_id": 3874512, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2096d0d108e55ca0b691fb9161377ae1?s=128&d=identicon&r=PG&f=1", "display_name": "BowlingHawk95", "link": "https://stackoverflow.com/users/3874512/bowlinghawk95"}, "reply_to_user": {"reputation": 321, "user_id": 9441275, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96c102bbeb8fa9862c1ae81c0269b9ae?s=128&d=identicon&r=PG&f=1", "display_name": "CDNthe2nd", "link": "https://stackoverflow.com/users/9441275/cdnthe2nd"}, "edited": false, "score": 0, "creation_date": 1530142081, "post_id": 51072696, "comment_id": 89135084, "body": "That sort of depends on the structure of the data you&#39;re walking and the logic you want to have.  You could write your code to <code>continue</code> to the next <code>item</code> in the list at the first failure, or keep going with the current <code>item</code>.  It&#39;s really up to you, but you&#39;ll probably want one of these if-else blocks per path you try to walk, since I&#39;m guessing that you want to check each path down the object independently of each other."}, {"owner": {"reputation": 321, "user_id": 9441275, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96c102bbeb8fa9862c1ae81c0269b9ae?s=128&d=identicon&r=PG&f=1", "display_name": "CDNthe2nd", "link": "https://stackoverflow.com/users/9441275/cdnthe2nd"}, "edited": false, "score": 0, "creation_date": 1530142245, "post_id": 51072696, "comment_id": 89135123, "body": "Oh yeah, I mean it does work with the if else statement and as you said, I do want to keep going on with the current <code>item</code> of course. but I thought maybe there is more &quot;flexible&quot; way etc using nested dictionary values but I don&#39;t know if that would fit my &quot;thread&quot; that im trying to do now?"}], "tags": [], "owner": {"reputation": 998, "user_id": 3874512, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2096d0d108e55ca0b691fb9161377ae1?s=128&d=identicon&r=PG&f=1", "display_name": "BowlingHawk95", "link": "https://stackoverflow.com/users/3874512/bowlinghawk95"}, "is_accepted": true, "score": 2, "last_activity_date": 1530141699, "creation_date": 1530141699, "answer_id": 51072696, "question_id": 51072596, "link": "https://stackoverflow.com/questions/51072596/python-how-to-continue-if-json-element-not-found/51072696#51072696", "title": "Python - How to continue if json element not found", "body": "<p>I won't rewrite your whole example, but suppose that when you lookup the value</p>\n\n<pre><code>print(str(item['product']['price']['fullRetailPrice']))\n</code></pre>\n\n<p>one or more of those keys you follow might not be there.  You could detect this in code by doing</p>\n\n<pre><code>foo = item.get('product', {}).get('price', {}).get('fullRetailPrice')\nif foo:\n    print(str(foo))\nelse:\n    print('Retail price could not be found')\n</code></pre>\n\n<p>The second parameter to <code>get</code> is the value to return if the desired key can't be found.  Making this return an empty dictionary <code>{}</code> will let you keep checking down the line until the end.  The last <code>get</code> will return <code>None</code> if any of the keys aren't found.  You can then check if <code>foo</code> is None and print an error message appropriately.</p>\n"}], "owner": {"reputation": 321, "user_id": 9441275, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96c102bbeb8fa9862c1ae81c0269b9ae?s=128&d=identicon&r=PG&f=1", "display_name": "CDNthe2nd", "link": "https://stackoverflow.com/users/9441275/cdnthe2nd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1024, "favorite_count": 0, "accepted_answer_id": 51072696, "answer_count": 1, "score": 1, "last_activity_date": 1530141699, "creation_date": 1530140802, "question_id": 51072596, "link": "https://stackoverflow.com/questions/51072596/python-how-to-continue-if-json-element-not-found", "title": "Python - How to continue if json element not found", "body": "<p>So I have been playing around with Json and some comparing. </p>\n\n<p>So basically I have a Json where some element are included in some elements and some don't.</p>\n\n<p>The issue I am having is that the script continues the script over and over but never does anything due to exception where it can't find the elements etc <em>Price</em>, <em>estimatedLaunchDate</em> which will be found in this Json</p>\n\n<pre><code>sample = {\n\"threads\": [{\n        \"seoTitle\": \"used food\",\n        \"other_crap\": \"yeet\"\n    },\n    {\n        \"seoTitle\": \"trucks\",\n        \"other_crap\": \"it's a fox!\"\n        \"product\": {\n            \"imageUrl\": \"https://imagerandom.jpg\",\n            \"price\": {\n                \"fullRetailPrice\": 412.95\n            },\n            \"estimatedLaunchDate\": \"2018-06-02T03:00:00.000\",\n            \"publishType \": \"DRAW\"\n        },\n        {\n            \"seoTitle\": \"rockets\",\n            \"other_crap\": \"i'm rocket man\"\n        },\n        {\n            \"seoTitle\": \"helicopter\",\n            \"other_crap\": \"for 007\"\n            \"product\": {\n                \"imageUrl\": \"https://imagerandom.jpg\",\n                \"price\": {\n                    \"fullRetailPrice\": 109.95\n                },\n                \"estimatedLaunchDate\": \"2018-06-19T00:00:00.000\",\n                \"publishType\": \"FLOW\"\n            }\n        }\n    ]\n}\n</code></pre>\n\n<p>as you can see there is some extra information in some of the json elements than the other and there is the issue I am having, What/how can I make it so it continues or just adds etc <em>\"Price not found\"</em>, <em>\"publishType not found\"</em> and still continue the rest of the json?</p>\n\n<p>I have made a code that does this so far:</p>\n\n<pre><code>old_list = []\n\n    while True:\n        try:\n            resp = requests.get(\"www.helloworld.com\")\n            new_list = resp.json()['threads']\n\n            for item in new_list:\n\n                newitemword = item['seoTitle']\n\n                if newitemword not in old_list:\n                    try:\n\n                        print(newitemword) #item name\n\n                        print(str(item['product']['price']['fullRetailPrice']))\n                        print(item['product']['estimatedLaunchDate']) \n                        print(item['product']['publishType']) \n\n\n                        old_list.append(newitemword)\n\n\n\n                    except Exception as e:\n                        print(e)\n                        print(\"ERROR\")\n                        time.sleep(5)\n                        continue\n\n\n            else:\n                randomtime = random.randint(40, 60)\n                time.sleep(randomtime)\n</code></pre>\n\n<p>As you can see there is 4 prints inside the try except method and if one of those 3 (fullRetailPrice, estimatedLaunchDate, publishType) it will throw a exception and will not continue the rest of the code meaning it will already die after the  <code>\"seoTitle\": \"trucks\",</code> element!</p>\n"}, {"tags": ["python", "graphite", "graphite-carbon"], "comments": [{"owner": {"reputation": 998, "user_id": 3874512, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2096d0d108e55ca0b691fb9161377ae1?s=128&d=identicon&r=PG&f=1", "display_name": "BowlingHawk95", "link": "https://stackoverflow.com/users/3874512/bowlinghawk95"}, "edited": false, "score": 2, "creation_date": 1530141047, "post_id": 51072593, "comment_id": 89134856, "body": "I haven&#39;t used the <code>re</code> module as much as I otherwise could, but the idea of &quot;reversing&quot; a string doesn&#39;t sound do-able using regular languages (the language theory concept on which regular expressions are built).  That would require a stack on which you push each element of the list that you want to reverse, and then building a string from the pop order of that list.  That would be more than a standard regular language could handle, unless there&#39;s something I&#39;m missing."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1530142202, "post_id": 51072593, "comment_id": 89135118, "body": "It might be possible using a PCRE recursive regexp."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1530142267, "post_id": 51072593, "comment_id": 89135124, "body": "I take that back. While that can be used to match a recursive pattern, I don&#39;t know how it could be used in the replacement part to put them back together."}, {"owner": {"reputation": 8762, "user_id": 1709364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40e026958109464eb03fd70b67fab155?s=128&d=identicon&r=PG", "display_name": "jasonharper", "link": "https://stackoverflow.com/users/1709364/jasonharper"}, "edited": false, "score": 0, "creation_date": 1530143756, "post_id": 51072593, "comment_id": 89135416, "body": "Can multiple rewrite rules apply to a single string?  It should be possible to match a single section at one end and move it to the other end - make enough copies of that rule to equal the largest possible number of sections."}, {"owner": {"reputation": 25177, "user_id": 1064767, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/af97e0b5fa21ad9414e7c2c383d4cc81?s=128&d=identicon&r=PG", "display_name": "Sammitch", "link": "https://stackoverflow.com/users/1064767/sammitch"}, "edited": false, "score": 0, "creation_date": 1530214816, "post_id": 51072593, "comment_id": 89168677, "body": "Yeah I figured that this was a longshot. I guess I&#39;ll have to write some ugly configs and also maybe submit a patch for the collectd plugin. Thanks all!"}], "owner": {"reputation": 25177, "user_id": 1064767, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/af97e0b5fa21ad9414e7c2c383d4cc81?s=128&d=identicon&r=PG", "display_name": "Sammitch", "link": "https://stackoverflow.com/users/1064767/sammitch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 39, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1530140792, "creation_date": 1530140792, "question_id": 51072593, "link": "https://stackoverflow.com/questions/51072593/split-and-reverse-string-purely-with-regular-expression", "title": "Split and reverse string purely with regular expression", "body": "<p>First off: Yes, I know that trying to accomplish this purely with regular expressions is foolish, but I need to do this within the context of Carbon Rewrite Rules which are essentially Python regular expressions, eg:</p>\n\n<pre><code>^collectd\\.([a-z0-9]+)\\. = \\1.system.\n</code></pre>\n\n<p>I'm trying to migrate our monitoring systems from a Nagios-based system to one based on Collectd. However, collectd's <code>write_graphite</code> plugin is hard-coded to produce metrics named <code>$prefix.host_example_com.$metric</code> and our existing metrics are stored as <code>$prefix.com.example.host.$metric</code>.</p>\n\n<p>Note: The hostnames do not have a fixed number of sections, they might be <code>bar.foo</code>, <code>baz.bar.foo</code>, <code>bif.baz.bar.foo</code>, etc.</p>\n\n<p>So basically it seems to boil down to accomplishing this within a single <code>re.sub()</code> call.</p>\n\n<p>So far I've got:</p>\n\n<pre><code>metric  = 'collectd.foo_bar_baz.some.metric'\npattern = r'^collectd\\.(?:([^_.]+)_?)+(.*)$'\nprint re.sub(pattern, metric, r'\\1 \\2')\n</code></pre>\n\n<p>Which outputs: <code>baz .some.metric</code> and I can't even get it to repeat the capture group, let along have the first idea about how to reverse and join an arbitrary number of backreferences.</p>\n\n<p>Is such a thing even possible in a single <code>re.sub()</code> call or should I just resign myself to a fate of terribly named/organized metrics and queries full of wildcards?</p>\n"}, {"tags": ["python", "arrays", "matlab"], "comments": [{"owner": {"reputation": 8468, "user_id": 1586200, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/111c497a3eb270092100e5ee807d9994?s=128&d=identicon&r=PG&f=1", "display_name": "Autonomous", "link": "https://stackoverflow.com/users/1586200/autonomous"}, "edited": false, "score": 0, "creation_date": 1530141556, "post_id": 51072573, "comment_id": 89134979, "body": "I am not sure if this is what you want. If <code>a = [&#39;qwe&#39;, &#39;rty&#39;]</code>, then <code>a_mat = map(list, a)</code>."}, {"owner": {"reputation": 121, "user_id": 10002608, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/25dbe43ef913ba476750014aee99f86f?s=128&d=identicon&r=PG&f=1", "display_name": "Stigma", "link": "https://stackoverflow.com/users/10002608/stigma"}, "reply_to_user": {"reputation": 8468, "user_id": 1586200, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/111c497a3eb270092100e5ee807d9994?s=128&d=identicon&r=PG&f=1", "display_name": "Autonomous", "link": "https://stackoverflow.com/users/1586200/autonomous"}, "edited": false, "score": 0, "creation_date": 1530215272, "post_id": 51072573, "comment_id": 89168858, "body": "This returns a map memory item in Python 3.6. I included the outputs to give more clarification."}], "answers": [{"tags": [], "owner": {"reputation": 5254, "user_id": 24447, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da74b7df5db7590fc140329c62b3e498?s=128&d=identicon&r=PG", "display_name": "nekomatic", "link": "https://stackoverflow.com/users/24447/nekomatic"}, "is_accepted": false, "score": 0, "last_activity_date": 1530288182, "creation_date": 1530288182, "answer_id": 51105631, "question_id": 51072573, "link": "https://stackoverflow.com/questions/51072573/why-does-matlab-2d-char-array-turn-into-python-1d-array/51105631#51105631", "title": "Why Does MATLAB 2D Char Array turn into Python 1D array?", "body": "<p>Until R2016b MATLAB didn't have a <em>string</em> datatype, but stored strings as <em>character vectors</em>, and that's how most MATLAB code is still written. So <code>loadmat</code> reasonably assumes that a <em>n</em>-dimensional character array from MATLAB should be interpreted as a <em>n-1</em>-dimensional string array.</p>\n\n<p>If you actually want an array in Python where each element is a single character, it's easy to convert using list comprehensions:</p>\n\n<pre><code>&gt;&gt;&gt; a = numpy.array([ ['hot'],['foo'],['pie'] ])\n\narray([['hot'],\n       ['foo'],\n       ['pie']],\n      dtype='&lt;U3')\n\n&gt;&gt;&gt; numpy.array([[c for c in w[0]] for w in a])\n\narray([['h', 'o', 't'],\n   ['f', 'o', 'o'],\n   ['p', 'i', 'e']],\n  dtype='&lt;U1')\n</code></pre>\n"}], "owner": {"reputation": 121, "user_id": 10002608, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/25dbe43ef913ba476750014aee99f86f?s=128&d=identicon&r=PG&f=1", "display_name": "Stigma", "link": "https://stackoverflow.com/users/10002608/stigma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 70, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1530288182, "creation_date": 1530140671, "last_edit_date": 1530146181, "question_id": 51072573, "link": "https://stackoverflow.com/questions/51072573/why-does-matlab-2d-char-array-turn-into-python-1d-array", "title": "Why Does MATLAB 2D Char Array turn into Python 1D array?", "body": "<p>I am using Scipy to load MATLAB 2D matrix into Python. In MATLAB the MAT is 32x40 Char matrix. Each index has one character in it. However, when loaded into Python it becomes a <code>(32,)</code> <code>numpy</code> <code>array</code> with all the characters now treated as 32 rows of strings instead of 32 rows of characters with max length of 40 characters. How do I go about breaking back up this 32 row array back into a 2D array with 32 rows and 40 columns of characters?</p>\n\n<pre><code>a = np.array([])\nmatdata = spio.loadmat(misspath)\na = np.append(a, matdata['D_package'])\na_data = matdata['a_data']\n</code></pre>\n\n<p>Python <code>numpy</code> <code>(32,)</code>:</p>\n\n<pre><code>Out[545]: \narray([['PLPBTKNLYLHDFWVCEVTTNMTTBFFVAGLDEGHFFFTP'],\n['PRiDAEo    rooWEnaFFDAKAuSOrRERltrAFFCCeo'],\n['FltRGFUrAGFtwSxxLLLLLrIAossDGDPAAAAsw'],\n[' FKDDFWa plG iiFDGGSSD\\x00\\x02u3t te\\x003411te'],\n.....\n</code></pre>\n\n<p>Original MATLAB <code>(32,40)</code>:</p>\n\n<pre><code>val = \nPLPBTKNLYLHDFWVCEVTTNMTTBFFVAGLDEGHFFFTP\nPRiDAEo    rooWEnaFFDAKAuSOrRERltrAFFCCeo\nFltRGFUrAGFtwSxxLLLLLrIAossDGDPAAAAsw\n FKDDFWa plG iiFDGGSSD\\x00\\x02u3t te\\x003411te\n....\n</code></pre>\n"}, {"tags": ["python", "oop", "matrix", "multidimensional-array"], "comments": [{"owner": {"reputation": 908, "user_id": 8040272, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fdc03aedcb53f3753df943f4c146423?s=128&d=identicon&r=PG&f=1", "display_name": "gdahlm", "link": "https://stackoverflow.com/users/8040272/gdahlm"}, "edited": false, "score": 0, "creation_date": 1530141252, "post_id": 51072549, "comment_id": 89134910, "body": "The inner dimension are just links to <code>rows</code> which is not copied but referenced in each iteration.  They change because all of the list items reference the same backing object."}], "answers": [{"comments": [{"owner": {"reputation": 47, "user_id": 9448617, "user_type": "registered", "profile_image": "https://graph.facebook.com/10211357757604658/picture?type=large", "display_name": "alpine.lines", "link": "https://stackoverflow.com/users/9448617/alpine-lines"}, "edited": false, "score": 0, "creation_date": 1530196189, "post_id": 51072692, "comment_id": 89159275, "body": "Ahh ok, i thought this was it but didnt kniw i could use id() to confirm it. Thank you! I decided to turn a kata I did on CodeWars into a class to practice oop. This is good to learn"}], "tags": [], "owner": {"reputation": 908, "user_id": 8040272, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fdc03aedcb53f3753df943f4c146423?s=128&d=identicon&r=PG&f=1", "display_name": "gdahlm", "link": "https://stackoverflow.com/users/8040272/gdahlm"}, "is_accepted": false, "score": 0, "last_activity_date": 1530141659, "creation_date": 1530141659, "answer_id": 51072692, "question_id": 51072549, "link": "https://stackoverflow.com/questions/51072549/multidimensional-python-list-element-assignment-error/51072692#51072692", "title": "multidimensional python list element assignment error", "body": "<p>Your code is saying that <code>self.board[n] = rows</code> which is an object.  To save memory python doesn't copy objects that it can just reference.  You can use the <code>id(obj)</code> command to see that they all reference the exact same object.</p>\n\n<pre><code>In [34]: id(game.board1[0])\nOut[34]: 4439424520\n\nIn [35]: id(game.board1[1])\nOut[35]: 4439424520\n\nIn [36]: id(game.board2[1])\nOut[36]: 4439424520\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 47, "user_id": 9448617, "user_type": "registered", "profile_image": "https://graph.facebook.com/10211357757604658/picture?type=large", "display_name": "alpine.lines", "link": "https://stackoverflow.com/users/9448617/alpine-lines"}, "edited": false, "score": 0, "creation_date": 1530196077, "post_id": 51072742, "comment_id": 89159207, "body": "Thanks, I thought this was probably why but I didn&#39;t know how to generate the board otherwise. Thankyou!!"}], "tags": [], "owner": {"reputation": 1210, "user_id": 5028532, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f50c017af1ddc79a80bc3f92e94521a4?s=128&d=identicon&r=PG&f=1", "display_name": "razdi", "link": "https://stackoverflow.com/users/5028532/razdi"}, "is_accepted": true, "score": 0, "last_activity_date": 1530142060, "creation_date": 1530142060, "answer_id": 51072742, "question_id": 51072549, "link": "https://stackoverflow.com/questions/51072549/multidimensional-python-list-element-assignment-error/51072742#51072742", "title": "multidimensional python list element assignment error", "body": "<p>Some working code first:</p>\n\n<pre><code>class game:\n\ndef __init__(self, n, m):\n    self.board1 = [ [0]*m for _ in range(n) ]\n    self.board2 = [ [0]*m for _ in range(n) ]\n\nnew_game = game(3,4)\nnew_game.board1[0][1] = 1\nprint(\"board 1: {}\\nboard 2: {}\".format(new_game.board1, new_game.board2))\n</code></pre>\n\n<p>Why does this work and not what you wrote? Because, when you create <code>rows = [0 for _ in range m]</code> and then pass it to the different boards, it just passes the same object multiple times to both the boards. So, instead of your boards being </p>\n\n<pre><code>[rows1, rows2, rows3]\n</code></pre>\n\n<p>They are</p>\n\n<pre><code>[rows, rows, rows]\n</code></pre>\n\n<p>And since it is referencing the same object, when you modify one of them, you get the same value reflected across. </p>\n"}], "owner": {"reputation": 47, "user_id": 9448617, "user_type": "registered", "profile_image": "https://graph.facebook.com/10211357757604658/picture?type=large", "display_name": "alpine.lines", "link": "https://stackoverflow.com/users/9448617/alpine-lines"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "accepted_answer_id": 51072742, "answer_count": 2, "score": 0, "last_activity_date": 1530142060, "creation_date": 1530140518, "question_id": 51072549, "link": "https://stackoverflow.com/questions/51072549/multidimensional-python-list-element-assignment-error", "title": "multidimensional python list element assignment error", "body": "<p>I am defining a class game with dimensions n,m. The init method creates creates two boards, one for each player</p>\n\n<pre><code>class game:\n\ndef __init__(self, n, m):\n    rows = [0 for _ in range m]\n    self.board1 = [rows for _ in range n]\n    self.board2 = [rows for _ in range n]\n</code></pre>\n\n<p>when i assign an value to board1[0][0] it also assigns the same value to board1[1][0], board1[2][0], ...board1[n][0] as well as board2[0-n][0]</p>\n\n<p>for example,</p>\n\n<pre><code>game(3,4)\ngame.board1[0][0] = 1\nprint(\"board 1: {}\\nboard 2: {}).format(self.board1, self.board2))\n</code></pre>\n\n<p>returns</p>\n\n<pre><code>board 1: [[1, 0, 0], [1, 0, 0], [1, 0, 0], [1, 0, 0]]\nboard 2: [[1, 0, 0], [1, 0, 0], [1, 0, 0], [1, 0, 0]]\n</code></pre>\n"}, {"tags": ["python", "python-2.7", "tkinter"], "comments": [{"owner": {"reputation": 11466, "user_id": 2229945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfbf044eccb8835deec653dae32d56e7?s=128&d=identicon&r=PG", "display_name": "Novel", "link": "https://stackoverflow.com/users/2229945/novel"}, "edited": false, "score": 1, "creation_date": 1530140647, "post_id": 51072548, "comment_id": 89134775, "body": "You can&#39;t. You will have to modify the function to change a global variable instead of returning the data. If you move to a class structure (like you should in all GUIs) then you can use instance variables instead of globals."}, {"owner": {"reputation": 11466, "user_id": 2229945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfbf044eccb8835deec653dae32d56e7?s=128&d=identicon&r=PG", "display_name": "Novel", "link": "https://stackoverflow.com/users/2229945/novel"}, "edited": false, "score": 0, "creation_date": 1530140716, "post_id": 51072548, "comment_id": 89134787, "body": "Also, <code>lambda</code> is known to cause a lot of bugs because beginners don&#39;t understand how it works. I highly recommend you use <code>functools.partial</code> or a normal function / method instead."}, {"owner": {"reputation": 11466, "user_id": 2229945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfbf044eccb8835deec653dae32d56e7?s=128&d=identicon&r=PG", "display_name": "Novel", "link": "https://stackoverflow.com/users/2229945/novel"}, "edited": false, "score": 1, "creation_date": 1530141843, "post_id": 51072548, "comment_id": 89135039, "body": "In your example you are already modifying a global. The return statement in your example is useless."}], "answers": [{"comments": [{"owner": {"reputation": 23589, "user_id": 6622817, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/93f66cc4703b66b835cf13dfeee21e7b?s=128&d=identicon&r=PG&f=1", "display_name": "abccd", "link": "https://stackoverflow.com/users/6622817/abccd"}, "edited": false, "score": 0, "creation_date": 1530141278, "post_id": 51072627, "comment_id": 89134917, "body": "You don&#39;t need <code>global charge_data</code>, already global variables don&#39;t need to be explicitly initiated using the <code>global</code> keyword."}, {"owner": {"reputation": 191, "user_id": 7367241, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/IfXXd.png?s=128&g=1", "display_name": "BooleanDesigns", "link": "https://stackoverflow.com/users/7367241/booleandesigns"}, "reply_to_user": {"reputation": 23589, "user_id": 6622817, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/93f66cc4703b66b835cf13dfeee21e7b?s=128&d=identicon&r=PG&f=1", "display_name": "abccd", "link": "https://stackoverflow.com/users/6622817/abccd"}, "edited": false, "score": 0, "creation_date": 1530294055, "post_id": 51072627, "comment_id": 89200844, "body": "@abccd I guess it&#39;s bad answer formatting, but the way my program is set up, I do have to explicitly create the variable because it is defined within a class."}], "tags": [], "owner": {"reputation": 191, "user_id": 7367241, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/IfXXd.png?s=128&g=1", "display_name": "BooleanDesigns", "link": "https://stackoverflow.com/users/7367241/booleandesigns"}, "is_accepted": false, "score": 0, "last_activity_date": 1530141153, "creation_date": 1530141153, "answer_id": 51072627, "question_id": 51072548, "link": "https://stackoverflow.com/questions/51072548/tkinter-buttons-which-require-their-command-to-return-a-value/51072627#51072627", "title": "Tkinter buttons which require their command to return a value", "body": "<p>Thanks to the commenters, I have established a workaround, instead of </p>\n\n<pre><code>def add_charge(x,y,i,data):\n    temp = data.append(Charge(x,y,i))\n    return temp\n</code></pre>\n\n<p>I can write </p>\n\n<pre><code>global charge_data\ncharge_data = []\n</code></pre>\n\n<p>Then later, I can write</p>\n\n<pre><code>def add_charge(x,y,i):\n   charge_data.append(Charge(x,y,i))\n</code></pre>\n\n<p>Which allows me to effectively eliminate the need to store the result of the function.</p>\n"}], "owner": {"reputation": 191, "user_id": 7367241, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/IfXXd.png?s=128&g=1", "display_name": "BooleanDesigns", "link": "https://stackoverflow.com/users/7367241/booleandesigns"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 26, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1530141153, "creation_date": 1530140515, "last_edit_date": 1530140888, "question_id": 51072548, "link": "https://stackoverflow.com/questions/51072548/tkinter-buttons-which-require-their-command-to-return-a-value", "title": "Tkinter buttons which require their command to return a value", "body": "<p>I have an odd question about <code>tkinter</code> entry boxes: </p>\n\n<p>I know that I can write </p>\n\n<pre><code>add_charge = tk.Button(self, text='Add Data', command=function)\n</code></pre>\n\n<p>and that if the function is dependent on parameters I can write it as </p>\n\n<pre><code>add_charge = tk.Button(self, text='Add Data', command=lambda: function(parameters)\n</code></pre>\n\n<p>but my issue is this, I have a function defined as this</p>\n\n<pre><code>def add_charge(x,y,i, data):\n    \"\"\" x,y are locations if the charge, i is the value of charge, data is existing charges\"\"\"\n    temp = data.append(Charge(x,y,i)) #Charge is a predefined class which creates the charge object\n    return temp\n</code></pre>\n\n<p>What I need to do is save temp to a variable and replace the pre-existing data, but I can't figure out how to save the value that the function returns once the button has been pressed. Any help is appreciated!</p>\n"}, {"tags": ["python", "random", "numbers", "range"], "comments": [{"owner": {"reputation": 71, "user_id": 9953960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aeb939806bb936b555bc9335ed8707cd?s=128&d=identicon&r=PG&f=1", "display_name": "user391838", "link": "https://stackoverflow.com/users/9953960/user391838"}, "edited": false, "score": 0, "creation_date": 1530156149, "post_id": 51072541, "comment_id": 89137833, "body": "bump? What I need is better way to define nCTake (so that randrange(1,1) can be replaced with just &quot;1&quot;. I tried to add a bunch of exceptions and it got ugly"}], "answers": [{"tags": [], "owner": {"reputation": 45920, "user_id": 4996248, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/IUaWZ.jpg?s=128&g=1", "display_name": "John Coleman", "link": "https://stackoverflow.com/users/4996248/john-coleman"}, "is_accepted": false, "score": 1, "last_activity_date": 1530186907, "creation_date": 1530186907, "answer_id": 51082299, "question_id": 51072541, "link": "https://stackoverflow.com/questions/51072541/nim-game-random-range-has-error-when-range-is-between-1-and-1-need-quick-fix/51082299#51082299", "title": "NIM game, random range has error when range is between 1 and 1, need quick fix (not duplicate)", "body": "<p>\"The problem comes at the end of the game\". Actually, the problem comes much earlier. You just don't notice it until the end. <code>random.randrange(a,b)</code> returns a random integer in the interval <code>[a,b)</code>. Note that this never includes <code>b</code>. Your code doesn't pick a random integer between 1 and half the number of remaining marbles. Instead, it picks a random number between 1 and 1 less than half the marbles.</p>\n\n<p>The fix is simple: use <code>random.randint(a,b)</code>. That is a function which works the way you were expecting <code>random.randrange</code> to work.</p>\n\n<p>A small point: you don't need to use <code>int</code> with regular division to compute <code>nHalf</code>. Just use <code>nHalf = nNumMarbles//2</code>. Also, there was never any point in using <code>int</code> with <code>random.randrange</code>. That function already returns an integer, even if it isn't quite the integers that you want.</p>\n"}], "owner": {"reputation": 71, "user_id": 9953960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aeb939806bb936b555bc9335ed8707cd?s=128&d=identicon&r=PG&f=1", "display_name": "user391838", "link": "https://stackoverflow.com/users/9953960/user391838"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 220, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1530186907, "creation_date": 1530140474, "question_id": 51072541, "link": "https://stackoverflow.com/questions/51072541/nim-game-random-range-has-error-when-range-is-between-1-and-1-need-quick-fix", "title": "NIM game, random range has error when range is between 1 and 1, need quick fix (not duplicate)", "body": "<p>guys. I am programming a game of NIM with the following rules:</p>\n\n<ul>\n<li>Start with n marbles</li>\n<li>take turns removing between 1 and half the marbles (currently) in the pile</li>\n<li>loser takes last marble/s</li>\n</ul>\n\n<p>I randomized the initial amount of marbles. I defined a \"take\" value as a random integer between 1 and half the pile. The way I did this was</p>\n\n<pre><code>nHalf = int(nNumMarbles/2)\nnCTake = int(random.randrange(1,nHalf))\n</code></pre>\n\n<p>I did it this way so that half of an odd number would round down (which it does). The problem comes at the end of the game when the User has brought the nNumMarbles down to 2 and the Computer has to nCTake a random number between 1 and nHalf--that is, between 1 and 1. Here is the how the game went when it was run (error is at the bottom): </p>\n\n<blockquote>\n  <p>Python 3.6.3 (v3.6.3:2c5fed8, Oct  3 2017, 18:11:49) [MSC v.1900 64\n  bit (AMD64)] on win32 Type \"copyright\", \"credits\" or \"license()\" for\n  more information.</p>\n  \n  <p>============ RESTART: C:/Users/Name/Documents/CISPROG1/NIM.py ============ 14\n  Welcome to the game of NIM!  There are 14 marbles in the pile.  You and the computer will take turns taking marbles from\n  the pile.  Either of you can take at most half of what remains per\n  turn.  The loser takes the last marble/s. </p>\n  \n  <p>The computer will go first. </p>\n  \n  <p>Computer's turn! Computer takes 3 marbles. </p>\n  \n  <p>11 left! </p>\n  \n  <p>Your turn! Take between 1 and 7 marbles: </p>\n  \n  <p>2 You took 2 marbles. </p>\n  \n  <p>9 left! </p>\n  \n  <p>Computer's turn! Computer takes 1 marbles. </p>\n  \n  <p>8 left! </p>\n  \n  <p>Your turn! Take between 1 and 4 marbles: </p>\n  \n  <p>1 You took 1 marbles. </p>\n  \n  <p>7 left! </p>\n  \n  <p>Computer's turn! Computer takes 2 marbles. </p>\n  \n  <p>5 left! </p>\n  \n  <p>Your turn! Take between 1 and 3 marbles: </p>\n  \n  <p>1 You took 1 marbles. </p>\n  \n  <p>4 left! </p>\n  \n  <p>Computer's turn! Computer takes 1 marbles. </p>\n  \n  <p>3 left! </p>\n  \n  <p>Your turn! Take between 1 and 2 marbles: </p>\n  \n  <p>1 You took 1 marbles. </p>\n  \n  <p>2 left! </p>\n  \n  <p>Traceback (most recent call last):   File\n  \"C:/Users/Name/Documents/CISPROG1/NIM.py\", line 27, in \n      nCTake = int(random.randrange(1,nHalf))   File \"C:\\Program Files (x86)\\Microsoft Visual Studio\\Shared\\Python36_64\\lib\\random.py\", line\n  198, in randrange\n      raise ValueError(\"empty range for randrange() (%d,%d, %d)\" % (istart, istop, width)) ValueError: empty range for randrange() (1,1,\n  0)</p>\n</blockquote>\n\n<p>...and here is my program:</p>\n\n<pre><code>import random\nimport sys\nimport time\n\nnNumMarbles = int(random.randrange(10,100))\nprint(str(nNumMarbles))\nprint(\"Welcome to the game of NIM! \\n\"\n      \"There are \" + str(nNumMarbles) + \" marbles in the pile. \\n\"\n      \"You and the computer will take turns taking marbles from the pile. \\n\"\n      \"Either of you can take at most half of what remains per turn. \\n\"\n      \"The loser takes the last marble/s. \\n\")\n#let 1 --&gt; computer goes first, 2 --&gt; user goes first\nnFirst = random.randint(1,2)\nif nFirst == 1:\n    print(\"The computer will go first. \\n\")\nelse:\n    print(\"You will go first. \\n\")\n\n#Game progression if Computer goes first (only case I am testing)\nif nFirst == 1:\n    while nNumMarbles &gt; 0:\n        #Computer's turn:\n        nHalf = int(nNumMarbles/2)\n        nCTake = int(random.randrange(1,nHalf))\n        nNumMarbles = nNumMarbles - nCTake\n        print(\"Computer's turn! Computer takes \" + str(nCTake) + \" marbles. \\n\")\n        if nNumMarbles == 0:\n            print(\"The computer took the last marble! You win!\")\n            time.sleep(3)\n            exit()\n        else:\n            pass\n        print(str(nNumMarbles) + \" left! \\n\")\n        #User's turn:\n        print(\"Your turn! Take between 1 and \" +str(nHalf) + \" marbles: \\n\")\n        nUTake = int(input())\n        nNumMarbles = nNumMarbles - nUTake\n        print(\"You took \" + str(nUTake) + \" marbles. \\n\")\n        if nNumMarbles == 0:\n            print(\"You took the last marble! You lose!\")\n            time.sleep(3)\n            exit()\n        else:\n            pass\n        print(str(nNumMarbles) + \" left! \\n\")\n</code></pre>\n\n<p>What went wrong? How can fix it so that when the range is between 1 and 1, the computer takes (nCTake) 1, the last marble?</p>\n"}, {"tags": ["python", "spacy"], "answers": [{"tags": [], "owner": {"reputation": 5535, "user_id": 6400719, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hWeOh.jpg?s=128&g=1", "display_name": "Ines Montani", "link": "https://stackoverflow.com/users/6400719/ines-montani"}, "is_accepted": true, "score": 3, "last_activity_date": 1530183804, "creation_date": 1530183804, "answer_id": 51081274, "question_id": 51072516, "link": "https://stackoverflow.com/questions/51072516/pos-in-spacy-is-not-returning-any-results-in-python/51081274#51081274", "title": ".pos_ in SpaCy is not returning any results in Python", "body": "<p>The problem here is that you're only importing the English <em>language class</em>, which includes the language-specific data like tokenization rules. But you're not actually loading in a <em>model</em>, which enables spaCy to predict part-of-speech tags and other linguistic annotations.</p>\n\n<p>If you haven't done so already, you first need to <a href=\"https://spacy.io/usage/models\" rel=\"nofollow noreferrer\">installed a model package</a>, e.g. the small English model:</p>\n\n<pre><code>python -m spacy download en_core_web_sm\n</code></pre>\n\n<p>You can then tell spaCy to load it by calling <code>spacy.load</code>:</p>\n\n<pre><code>import spacy\n\nnlp = spacy.load('en_core_web_sm')\ndoc = nlp(u\"she ran\")\nfor token in doc:\n    print(token.text, token.pos_)\n</code></pre>\n\n<p>This will give you an instance of the <code>English</code> class with the model weights loaded in, so spaCy can predict part-of-speech tags, dependency labels and named entities.</p>\n\n<p>If you're new to spaCy, I'd recommend checking out <a href=\"https://spacy.io/usage/spacy-101#annotations-pos-deps\" rel=\"nofollow noreferrer\">the spaCy 101 guide</a> in the docs. It explains the most important concepts, and includes many examples that you can run.</p>\n"}], "owner": {"reputation": 23, "user_id": 9996575, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xVpxzg51MEo/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq11wz23HJxWAZ4Yspn9QMjPqmmrWA/mo/photo.jpg?sz=128", "display_name": "Sam Dalal", "link": "https://stackoverflow.com/users/9996575/sam-dalal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 680, "favorite_count": 1, "accepted_answer_id": 51081274, "answer_count": 1, "score": 2, "last_activity_date": 1530183804, "creation_date": 1530140298, "question_id": 51072516, "link": "https://stackoverflow.com/questions/51072516/pos-in-spacy-is-not-returning-any-results-in-python", "title": ".pos_ in SpaCy is not returning any results in Python", "body": "<p>I'm really new to programming and python and I've been trying to use SpaCy in my python 3.x. However, when I try to apply .pos_ to a text to find the part of speech I do not get any result for part of speech. I've made sure that SpaCy is properly installed and have browsed other Stackoverflow posts and this <a href=\"https://github.com/explosion/spaCy/issues/1016\" rel=\"nofollow noreferrer\">one</a> github post however it did not help. </p>\n\n<p>Here is the code that I used: </p>\n\n<pre><code>from spacy.lang.en import English\nparser = English()\n\ntokens = parser('She ran')\ndir(tokens[0])\nprint(dir(tokens[0]))\n\n\ndef show_POS(text):\n    tokens = parser(text)\n    for token in tokens:\n       print(token.text, token.pos_)\n\n\nshow_POS(\"She hit the wall.\")\n\n\ndef show_dep(text):\n    tokens = parser(text)\n    for token in tokens:\n        print(\" {} : {} : {} :{}\".format(token.orth_,token.pos_,token.dep_,token.head))\n\n\nprint(\"token : POS : dep. : head\")\nprint(\"-------------------------\")\nshow_dep(\"She hit the wall.\")\n\nex1 = parser(\"he drinks a water\")\nfor word in ex1:\nprint(word.text,word.pos_)\n</code></pre>\n\n<hr>\n\n<p>And here is the output:</p>\n\n<pre><code>/Users/dalals4/PycharmProjects/NLP-LEARNING/venv/bin/python \n/Users/dalals4/PycharmProjects/NLP_learning_practice_chp5.py\n['_', '__bytes__', '__class__', '__delattr__', '__dir__', '__doc__', \n'__eq__', '__format__', '__ge__', '__getattribute__', '__gt__', \n'__hash__', '__init__', '__init_subclass__', '__le__', '__len__', \n'__lt__', '__ne__', '__new__', '__pyx_vtable__', '__reduce__', \n'__reduce_ex__', '__repr__', '__setattr__', '__setstate__', \n'__sizeof__', '__str__', '__subclasshook__', '__unicode__', \n'ancestors', 'check_flag', 'children', 'cluster', 'conjuncts', 'dep', \n'dep_', 'doc', 'ent_id', 'ent_id_', 'ent_iob', 'ent_iob_', 'ent_type', \n'ent_type_', 'get_extension', 'has_extension', 'has_vector', 'head', \n'i', 'idx', 'is_alpha', 'is_ancestor', 'is_ascii', 'is_bracket', \n'is_currency', 'is_digit', 'is_left_punct', 'is_lower', 'is_oov', \n'is_punct', 'is_quote', 'is_right_punct', 'is_sent_start', 'is_space', \n'is_stop', 'is_title', 'is_upper', 'lang', 'lang_', 'left_edge', \n'lefts', 'lemma', 'lemma_', 'lex_id', 'like_email', 'like_num', \n'like_url', 'lower', 'lower_', 'n_lefts', 'n_rights', 'nbor', 'norm', \n'norm_', 'orth', 'orth_', 'pos', 'pos_', 'prefix', 'prefix_', 'prob', \n'rank', 'right_edge', 'rights', 'sent_start', 'sentiment', \n'set_extension', 'shape', 'shape_', 'similarity', 'string', 'subtree', \n'suffix', 'suffix_', 'tag', 'tag_', 'text', 'text_with_ws', 'vector', \n'vector_norm', 'vocab', 'whitespace_']\nShe \nhit \nthe \nwall \n. \ntoken : POS : dep. : head\n-------------------------\n She :  :  : She\n hit :  :  : hit\n the :  :  : the\n wall :  :  : wall\n . :  :  : .\nhe \ndrinks \na \nwater \n\nProcess finished with exit code 0\n</code></pre>\n\n<p>Any help would be much appreciated! Thank you so much in advance :) </p>\n"}, {"tags": ["python", "tensorflow", "keras", "tensorflow-datasets", "tensorflow-estimator"], "owner": {"reputation": 595, "user_id": 2796123, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/799ef053b7501bf9043448792a8a6093?s=128&d=identicon&r=PG&f=1", "display_name": "deepAgrawal", "link": "https://stackoverflow.com/users/2796123/deepagrawal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 170, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1530139879, "creation_date": 1530139879, "question_id": 51072469, "link": "https://stackoverflow.com/questions/51072469/convert-keras-datagenerator-for-tensorflow-estimator", "title": "convert keras datagenerator for tensorflow estimator", "body": "<p>I want to create custom batches using a pandas dataframe <code>df_train</code> which has all of my training dataset  and a numpy array <code>arr_train</code> which has starting and ending index of my batches. I want to generate batches based on the start and end indexs. </p>\n\n<p>For example my df_train looks something like</p>\n\n<pre><code>index col1 col2 col3\n0     100   121  A\n1     101   211  A\n2     102   213  B\n</code></pre>\n\n<p>and my arr_train loos like <code>arr_train = [[0 1] [2 2]]</code></p>\n\n<p>Which means my ith batch will be <code>df_train.loc[arr_train[i,0]:arr_train[i,1],:]</code></p>\n\n<p>I know how to do this using <code>keras</code>. But I want to convert my keras model to tensorflow.estimator so I need to convert my batch_generator for tensorflow.estimator</p>\n\n<p>Here is my keras data_generator</p>\n\n<pre><code>import numpy as np\nfrom tensorflow import keras\n\nclass DataGenerator(keras.utils.Sequence):\n    'Generates data for Keras'\n    def __init__(self, df,arr_df,predictors,response,weight=None, shuffle = False, training=False):\n        'Initialization'\n        self.arr_df = arr_df\n        self.df = df\n        self.shuffle = shuffle\n        self.predictors = predictors\n        self.response = response\n        self.weight = weight\n        self.traning = training\n        self.on_epoch_end()\n\n    def __len__(self):\n        'Denotes the number of batches per epoch'\n        return self.arr_df.shape[0]\n\n    def __getitem__(self, index):\n        'Generate one batch of data'\n        # Generate indexes of batch\n        # idx = self.indexes[self.arr_df[index,0]:self.arr_df[index,1]]\n\n        # Generate data\n        a1 = self.arr_df[index,0]\n        a2 = self.arr_df[index, 1]\n        X1 = self.df.loc[a1:a2,self.predictors].as_matrix().reshape((1,-1,len(self.predictors)))\n        if (self.traning) &amp; (self.weight !=None):\n            y = self.df.loc[a1:a2,self.response].as_matrix().reshape((1,-1,1))\n            w = self.df.loc[a1:a2, self.weight].unique()\n            return X1,y,w\n        elif (self.traning) &amp; (self.weight ==None):\n            y = self.df.loc[a1:a2, self.response].as_matrix().reshape((1,-1, 1))\n            return X1,y\n        return X1\n\n    def on_epoch_end(self):\n        'Updates indexes after each epoch'\n        self.indexes = np.arange(self.arr_df.shape[0])\n        if self.shuffle == True:\n            np.random.shuffle(self.indexes)\n</code></pre>\n"}, {"tags": ["python", "python-2.7", "dictionary"], "answers": [{"tags": [], "owner": {"reputation": 69906, "user_id": 6890912, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d291e4dfbf14dcc8874bd4fa620fac23?s=128&d=identicon&r=PG&f=1", "display_name": "blhsing", "link": "https://stackoverflow.com/users/6890912/blhsing"}, "is_accepted": false, "score": 1, "last_activity_date": 1530141109, "last_edit_date": 1530141109, "creation_date": 1530140145, "answer_id": 51072500, "question_id": 51072443, "link": "https://stackoverflow.com/questions/51072443/get-values-from-dict-whose-key-values-match-another-dict/51072500#51072500", "title": "get values from dict whose key values match another dict", "body": "<p>You can use <code>itertools.chain</code> to merge all sub-lists in <code>dict1</code> first before using list comprehension to filter <code>dict2</code>.</p>\n\n<pre><code>from itertools import chain\ndict1 = {0:[{'asin': 'a', 'h': 'b'},{'asin': 'b', 'h': 'c'}], 1:[{'asin': 'c', 'h': 'b'},{'asin': 'd', 'h': 'c'}], 2:[{'asin': 'd', 'h': 'f'},{'asin': 'k', 'h': 'c'}]}\ndict2 = {0:{'asin': 'f', 'img': '123'}, 1:{'asin': 'c', 'img': 'eed'}, 2:{'asin': 'd', 'img': 'ffg'}}\nr = {d['asin'] for d in chain(*dict1.values())}\nprint({k: v for k, v in dict2.items() if v['asin'] in r})\n</code></pre>\n\n<p>This outputs:</p>\n\n<pre><code>{1: {'asin': 'c', 'img': 'eed'}, 2: {'asin': 'd', 'img': 'ffg'}}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 133282, "user_id": 9209546, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qk9vC.jpg?s=128&g=1", "display_name": "jpp", "link": "https://stackoverflow.com/users/9209546/jpp"}, "is_accepted": true, "score": 2, "last_activity_date": 1530140263, "creation_date": 1530140263, "answer_id": 51072512, "question_id": 51072443, "link": "https://stackoverflow.com/questions/51072443/get-values-from-dict-whose-key-values-match-another-dict/51072512#51072512", "title": "get values from dict whose key values match another dict", "body": "<p>You can use a couple of comprehensions: a set comprehension to extract all keys from values of <code>d1</code>, and a dictionary comprehension to filter items in <code>d2</code>.</p>\n\n<pre><code>keys = {subdict['asin'] for item in d1.itervalues() for subdict in item}\n\nd3 = {k: v for k, v in d2.iteritems() if v['asin'] in keys}\n\nprint(d3)\n\n{1: {'asin': 'c', 'img': 'eed'}, 2: {'asin': 'd', 'img': 'ffg'}}\n</code></pre>\n\n<p>In Python 3.x, replace <code>itervalues</code> / <code>iteritems</code> with <code>values</code> / <code>items</code>.</p>\n"}], "owner": {"reputation": 2571, "user_id": 3476463, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/102f066d7cd421c7bf6d5611a7d6f161?s=128&d=identicon&r=PG&f=1", "display_name": "user3476463", "link": "https://stackoverflow.com/users/3476463/user3476463"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 111, "favorite_count": 0, "accepted_answer_id": 51072512, "answer_count": 2, "score": 2, "last_activity_date": 1530142358, "creation_date": 1530139715, "last_edit_date": 1530142358, "question_id": 51072443, "link": "https://stackoverflow.com/questions/51072443/get-values-from-dict-whose-key-values-match-another-dict", "title": "get values from dict whose key values match another dict", "body": "<p>I have two dicts who\u2019s values are themselves dicts.  I would like to create another dict who\u2019s values are the values from dict2 that have the same \u2018asin\u2019 key value as dict1.  I have example output below.  I haven\u2019t worked with dicts that much so any tips are greatly appreciated.</p>\n\n<p>Code:</p>\n\n<pre><code>dict1\n\n{0:[{u\u2019asin\u2019: u\u2019a\u2019, u\u2019h\u2019: u\u2019b\u2019},{u\u2019asin\u2019: u\u2019b\u2019, u\u2019h\u2019: u\u2019c\u2019}], 1:[{u\u2019asin\u2019: u\u2019c\u2019, u\u2019h\u2019: u\u2019b\u2019},{u\u2019asin\u2019: u\u2019d\u2019, u\u2019h\u2019: u\u2019c\u2019}, 2:[{u\u2019asin\u2019: u\u2019d\u2019, u\u2019h\u2019: u\u2019f\u2019},{u\u2019asin\u2019: u\u2019k\u2019, u\u2019h\u2019: u\u2019c\u2019}]}\n</code></pre>\n\n<p>Code:</p>\n\n<pre><code>dict2\n\n{0:{u\u2019asin\u2019: u\u2019f\u2019, u\u2019img\u2019: u\u2019123\u2019}, 1:{u\u2019asin\u2019: u\u2019c\u2019, u\u2019img\u2019: u\u2019eed\u2019}, 2:{u\u2019asin\u2019: u\u2019d\u2019, u\u2019img\u2019: u\u2019ffg\u2019}}\n</code></pre>\n\n<p>Desired Output:</p>\n\n<pre><code>{1:{u\u2019asin\u2019: u\u2019c\u2019, u\u2019img\u2019: u\u2019eed\u2019}, 2:{u\u2019asin\u2019: u\u2019d\u2019, u\u2019img\u2019: u\u2019ffg\u2019}}\n</code></pre>\n"}, {"tags": ["python"], "answers": [{"tags": [], "owner": {"reputation": 121, "user_id": 3850131, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/1a86a8205d7a7bbe5accf685608eea1e?s=128&d=identicon&r=PG&f=1", "display_name": "Kiran", "link": "https://stackoverflow.com/users/3850131/kiran"}, "is_accepted": false, "score": 0, "last_activity_date": 1530139666, "creation_date": 1530139666, "answer_id": 51072439, "question_id": 51072434, "link": "https://stackoverflow.com/questions/51072434/pip-install-colored-getting-error-filenotfounderror-errno-2-no-such-file-or/51072439#51072439", "title": "pip install colored getting error - FileNotFoundError: [Errno 2] No such file or directory: &#39;README.rst&#39;", "body": "<p>Solution for now - download source comment out following line from setup.py\nlong_description=open(\"README.rst\").read()</p>\n\n<blockquote>\n  <p>do pip install colored - this works</p>\n</blockquote>\n"}], "owner": {"reputation": 121, "user_id": 3850131, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/1a86a8205d7a7bbe5accf685608eea1e?s=128&d=identicon&r=PG&f=1", "display_name": "Kiran", "link": "https://stackoverflow.com/users/3850131/kiran"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 906, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1530139733, "creation_date": 1530139622, "last_edit_date": 1530139733, "question_id": 51072434, "link": "https://stackoverflow.com/questions/51072434/pip-install-colored-getting-error-filenotfounderror-errno-2-no-such-file-or", "title": "pip install colored getting error - FileNotFoundError: [Errno 2] No such file or directory: &#39;README.rst&#39;", "body": "<pre><code>Collecting colored\n  Using cached https://files.pythonhosted.org/packages/a9/14/e9c100eaa9dec369bfbf5bde3dbba93da8d2b107de9a7e49a781ba22140c/colored-1.3.9.tar.gz\n    Complete output from command python setup.py egg_info:\n    Traceback (most recent call last):\n      File \"&lt;string&gt;\", line 1, in &lt;module&gt;\n      File \"/private/var/folders/jt/259zbp9j119b1r9xwl0mn87w2zc2kn/T/pip-install-by7czofn/colored/setup.py\", line 40, in &lt;module&gt;\n        long_description=open(\"README.rst\").read()\n    FileNotFoundError: [Errno 2] No such file or directory: 'README.rst'\n\n    ----------------------------------------\nCommand \"python setup.py egg_info\" failed with error code 1 in /private/var/folders/jt/259zbp9j119b1r9xwl0mn87w2zc2kn/T/pip-install-by7czofn/colored/\n\nError reported on - https://gitlab.com/dslackw/colored/issues/12\n</code></pre>\n\n<p>Solution for now - download source\ncomment out following line from setup.py</p>\n\n<pre><code>#    long_description=open(\"README.rst\").read()\n</code></pre>\n\n<p>do pip install colored - this works</p>\n"}, {"tags": ["python", "pandas", "series"], "answers": [{"tags": [], "owner": {"reputation": 133282, "user_id": 9209546, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qk9vC.jpg?s=128&g=1", "display_name": "jpp", "link": "https://stackoverflow.com/users/9209546/jpp"}, "is_accepted": true, "score": 2, "last_activity_date": 1530139849, "creation_date": 1530139849, "answer_id": 51072464, "question_id": 51072427, "link": "https://stackoverflow.com/questions/51072427/pandas-forward-fill-na-only-between-two-points-and-nothing-else/51072464#51072464", "title": "Pandas Forward Fill NA only between two points and nothing else", "body": "<p>You can calculate the last valid index and use <code>ffill</code> until this index:</p>\n\n<pre><code>last = df['Comments'].last_valid_index()\n\ndf['Comments'].loc[:last] = df['Comments'].loc[:last].ffill()\n\nprint(df)\n\n      Comments\n0  Hello World\n1  Hello World\n2  Hello World\n3  Hello World\n4  Hello World\n5          NaN\n6          NaN\n7          NaN\n8          NaN\n</code></pre>\n"}], "owner": {"reputation": 35, "user_id": 10002587, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-9NsU45Iy9c4/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq3lNjKnMHy1bw4KvASOgH0OCSZFUA/mo/photo.jpg?sz=128", "display_name": "Jas Goraya", "link": "https://stackoverflow.com/users/10002587/jas-goraya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 584, "favorite_count": 1, "accepted_answer_id": 51072464, "answer_count": 1, "score": 3, "last_activity_date": 1530139849, "creation_date": 1530139557, "last_edit_date": 1530139679, "question_id": 51072427, "link": "https://stackoverflow.com/questions/51072427/pandas-forward-fill-na-only-between-two-points-and-nothing-else", "title": "Pandas Forward Fill NA only between two points and nothing else", "body": "<p>I want to use pandas forward fill null values only between two non-null data points and nothing else. </p>\n\n<p>For example I have a column named comments</p>\n\n<pre><code>Comments:\nHello World\nNA\nHello World\nNA \nHello World\nNA\nNA\nNA\nNA\n</code></pre>\n\n<p>Output should look like this:</p>\n\n<pre><code>Hello World\nHello World\nHello World\nHello World\nHello World\nNA\nNA\nNA\nNA\n</code></pre>\n"}, {"tags": ["python", "django"], "comments": [{"owner": {"reputation": 45099, "user_id": 2011147, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FGRgf.jpg?s=128&g=1", "display_name": "Selcuk", "link": "https://stackoverflow.com/users/2011147/selcuk"}, "edited": false, "score": 2, "creation_date": 1530145813, "post_id": 51072426, "comment_id": 89135828, "body": "I would suggest adding the field without <code>unique=True</code> first, then run a <a href=\"https://docs.djangoproject.com/en/2.0/topics/migrations/#data-migrations\" rel=\"nofollow noreferrer\">data migration</a>, and then finally add the <code>unique=True</code> condition."}], "answers": [{"tags": [], "owner": {"reputation": 54482, "user_id": 8283848, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/YiHgN.jpg?s=128&g=1", "display_name": "JPG", "link": "https://stackoverflow.com/users/8283848/jpg"}, "is_accepted": true, "score": 5, "last_activity_date": 1530161022, "creation_date": 1530161022, "answer_id": 51074863, "question_id": 51072426, "link": "https://stackoverflow.com/questions/51072426/writing-a-django-migration-that-adds-a-unique-field-based-off-another-field/51074863#51074863", "title": "Writing a Django migration that adds a unique field based off another field", "body": "<p>I think the <a href=\"https://docs.djangoproject.com/en/2.0/ref/migration-operations/#runpython\" rel=\"noreferrer\"><code>RunPython</code></a> feature will help you.<br><br>\n<strong>Step1</strong>. You have already a migration file <strong>before adding <code>name_slug</code> field</strong>. Then create a new migration file with, <code>name_slug = models.CharField(max_length=255, unique=True,<b>null=True</b>)</code>.The file will be like this<br><br>\n<strong><code>app_name/migrations/0003_some_name.py</code></strong></p>\n\n<pre><code>from __future__ import unicode_literals\n\nfrom django.db import migrations, models\n\n\nclass Migration(migrations.Migration):\n\n    dependencies = [\n        ('sample', '0006_sessioncategory'),\n    ]\n\n    operations = [\n        migrations.AddField(\n            model_name='sessioncategory',\n            name='name_slug',\n            field=models.CharField(max_length=255, null=True, unique=True),\n        ),\n    ]\n</code></pre>\n\n<p><br>\n<strong>Step2.</strong> Add a custom migration scrip by using <code>RunPython</code> as below,<br></p>\n\n<pre><code>from __future__ import unicode_literals\n\nfrom django.db import migrations, models\n<b>from django.utils.text import slugify</b>\n\n\nclass Migration(migrations.Migration):\n    <b>def forwards_func(apps, schema_editor):\n        SessionCategory = apps.get_model(\"sample\", \"SessionCategory\")\n        for instance in SessionCategory.objects.all():\n            if not instance.name_slug:\n                instance.name_slug = slugify(instance.name)\n                instance.save()\n\n    def reverse_func(apps, schema_editor):\n        pass</b>\n\n    dependencies = [\n        ('sample', '0006_sessioncategory'),\n    ]\n\n    operations = [\n        migrations.AddField(\n            model_name='sessioncategory',\n            name='name_slug',\n            field=models.CharField(max_length=255, null=True, unique=True),\n        ),\n        <b>migrations.RunPython(forwards_func, reverse_func\n\n                             )</b>\n    ]</code></pre>\n\n<p><br><br>\n<strong>Step 3.</strong> do the migration by <code>python manage.py migrate</code><br>\nThat's it !\n<br><br><br><br>\n<strong>Warning!</strong><br>\n<strong>do not run</strong> <code>python manage.py migrate</code> command on <strong>step 1</strong> (only <code>makemigrations</code> command)\n<br><br>\n<strong>Note</strong><br>\nThe migrations files are generated in my local system to reproduce the behaviour.It maybe different for you</p>\n"}], "owner": {"reputation": 34200, "user_id": 995862, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d5efb6c1054808f7a79aaefbc64cce76?s=128&d=identicon&r=PG", "display_name": "Kurt Peek", "link": "https://stackoverflow.com/users/995862/kurt-peek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1377, "favorite_count": 0, "accepted_answer_id": 51074863, "answer_count": 1, "score": 2, "last_activity_date": 1530161022, "creation_date": 1530139553, "question_id": 51072426, "link": "https://stackoverflow.com/questions/51072426/writing-a-django-migration-that-adds-a-unique-field-based-off-another-field", "title": "Writing a Django migration that adds a unique field based off another field", "body": "<p>I have a model <code>SessionCategory</code> with a unique field <code>name</code>. Certain pivotal instances of this model are referenced by <code>name</code>; the only problem is that <code>name</code> is also editable in our internal dashboard so that a user could inadvertently 'break' these references by changing the <code>name</code>.</p>\n\n<p>To solve this, I'd like to create a new field <code>name_slug</code> which is a slugified version of <code>name</code>, also with a unique constraint. I've tried to do the following:</p>\n\n<pre><code>from django.db import models\nfrom django.utils.text import slugify\nfrom django.db.models.signals import pre_save\nfrom django.dispatch import receiver\n\n\n\nclass SessionCategory(models.Model):\n    name = models.CharField(max_length=255, unique=True)\n    name_slug = models.CharField(max_length=255, unique=True)\n\n\n@receiver(pre_save, sender=SessionCategory)\ndef create_name_slug(sender, instance, **kwargs):\n    if not instance.name_slug:\n        instance.name_slug = slugify(instance.name)\n</code></pre>\n\n<p>where I've added the <code>name_slug</code> unique field. The problem is that if I try to <code>python manage.py makemigrations</code>, I get the following prompt:</p>\n\n<pre><code>(venv) Kurts-MacBook-Pro-2:lucy-web kurtpeek$ python manage.py makemigrations\nYou are trying to add a non-nullable field 'name_slug' to sessioncategory without a default; we can't do that (the database needs something to populate existing rows).\nPlease select a fix:\n 1) Provide a one-off default now (will be set on all existing rows with a null value for this column)\n 2) Quit, and let me add a default in models.py\nSelect an option: \n</code></pre>\n\n<p>I've come across a workflow at <a href=\"https://docs.djangoproject.com/en/dev/howto/writing-migrations/#migrations-that-add-unique-fields\" rel=\"nofollow noreferrer\">https://docs.djangoproject.com/en/dev/howto/writing-migrations/#migrations-that-add-unique-fields</a> for writing migrations that create unique fields. In that example, the unique field is generated using the 'general' function <code>uuid.uuid4()</code>. In my case, however, I need access to the <code>name</code> of the specific instance, like I was hoping to obtain by connecting to the <code>pre_save</code> signal.</p>\n\n<p>How can I create this migration and maintain the unique constraint?</p>\n"}, {"tags": ["python", "arrays", "python-3.x", "pandas", "function"], "comments": [{"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1530139636, "post_id": 51072399, "comment_id": 89134554, "body": "Your Pandas series doesn&#39;t have newlines in it, it has literal backslashes followed by letter n&#39;s. Since we can&#39;t see how you created the DataFrame, it&#39;s impossible to tell you why it&#39;s wrong, or how to fix it, but that&#39;s the problem, and you need to fix it at the source. If I had to take a wild guess, you&#39;re building the DataFrame by storing the <code>repr</code>s of some strings, rather than the strings themselves."}, {"owner": {"reputation": 9, "user_id": 4812897, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-zRDdezbKWq4/AAAAAAAAAAI/AAAAAAAANOw/eA3d3XHDxu0/photo.jpg?sz=128", "display_name": "Ryan Runchey", "link": "https://stackoverflow.com/users/4812897/ryan-runchey"}, "reply_to_user": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1530140711, "post_id": 51072399, "comment_id": 89134785, "body": "thanks for your response! yes, i understand &quot;\\n&quot; are literal backslack substrings. I tried following your train of thought in the function call by assigning x = str(x) first then doing the processing; however, same undesired result: method not working. Also, I checked the df.info which shows: story    9998 non-null object. is there some other test i should do?"}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1530141421, "post_id": 51072399, "comment_id": 89134944, "body": "<code>x = str(x)</code> isn&#39;t going to do anything when <code>x</code> is a string. It&#39;s just the <i>wrong</i> string. (If my guess is right: the <code>repr</code> of a string is another string, because the <code>repr</code> of <i>anything</i> is a string.)"}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 1, "creation_date": 1530141480, "post_id": 51072399, "comment_id": 89134958, "body": "As I said before, you clearly did something wrong in building the DataFrame, but nobody can debug that for you if you don&#39;t show us how you built the DataFrame."}, {"owner": {"reputation": 9, "user_id": 4812897, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-zRDdezbKWq4/AAAAAAAAAAI/AAAAAAAANOw/eA3d3XHDxu0/photo.jpg?sz=128", "display_name": "Ryan Runchey", "link": "https://stackoverflow.com/users/4812897/ryan-runchey"}, "reply_to_user": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1530142199, "post_id": 51072399, "comment_id": 89135116, "body": "Resolved when doing the mapping by making it &quot;\\\\n&quot; instead of just &quot;\\n&quot; which will remove the &quot;\\n&quot; substring in question. I don&#39;t understand why though. x = x.replace(&quot;\\\\r&quot;, &quot;&quot;).replace(&quot;\\\\n&quot;, &quot;&quot;) # remove all 3 types of line breaks"}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 1, "creation_date": 1530145359, "post_id": 51072399, "comment_id": 89135753, "body": "You haven&#39;t really solved the problem, just worked around it. You expected actual newlines in your strings. But somehow, when you put them in your DataFrame, you got a backslash and an n in place of each newline. Rather than figure out how you broke your data, you&#39;ve just added a workaround that deals with the breakage. That&#39;s rarely the right answer. For example, your &quot;cleanup&quot; might well silently turn, e.g, a <code>\u3400</code> character into <code>u3400</code>, which you might not discover until weeks after you&#39;d written and forgotten the code and generated gigabytes of output."}], "owner": {"reputation": 9, "user_id": 4812897, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-zRDdezbKWq4/AAAAAAAAAAI/AAAAAAAANOw/eA3d3XHDxu0/photo.jpg?sz=128", "display_name": "Ryan Runchey", "link": "https://stackoverflow.com/users/4812897/ryan-runchey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 117, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1530140675, "creation_date": 1530139359, "question_id": 51072399, "link": "https://stackoverflow.com/questions/51072399/str-replace-method-not-working-within-a-user-defined-function-when-map-to-pandas", "title": "str.replace method not working within a user defined function when map to pandas series; however, it works on a normal function call. Why?", "body": "<p>str.replace method not working within a user defined function when map to pandas series; however, it works on a normal function call. Why?</p>\n\n<pre><code>RE_EMOJI = re.compile('[\\U00010000-\\U0010ffff]', flags=re.UNICODE)\ndef clean_story(x):\n\n    x = x.strip() # trims leading and trailing whitespace only\n    x = x.replace('\\r', '').replace('\\n', '') # remove all 3 types of line breaks\n    translator = str.maketrans('','',string.punctuation) # strip punctuation, function\n    x = x.translate(translator) # strip punctuation\n    x = RE_EMOJI.sub(r'', x) # remove emojis\n    x = re.sub(r'http\\S+', '', x, flags=re.MULTILINE) # remove url http      \n    x = re.sub(r'\\(http\\S+', '', x, flags=re.MULTILINE) # remove url (http\n    x = re.sub(r'@\\S+\\s', '', x, flags=re.MULTILINE) # remove words starting with @\n    x = re.sub(' +', ' ', x) # remove duplicated space\n    x = x.lower() # lower case\n\n    return x\n</code></pre>\n\n<p>x is an example text</p>\n\n<blockquote>\n  <p>x = \" Overview \\n Using \\r Home #; automation: to- control applications \\r is cool, but we can further leverage its power to simplify our daily tasks like checking gas, geysers, heaters, AC temperature etc. before leaving home. \\n  Scope  \\n  The server (Raspberry pi 2 running on Windows 10) is running at home. Family members will stay connected through their smart devices like Mobile phones with Windows Operating systems or Android. The server will be connected to gas, heat and smoke detection sensors. And will push notifications to all the clients (family members), on any changes detected. The server will push notifications to all the clients using Microsoft Azure- Notification Hubs. \\n  Components and supplies   Software and applications    Summary     \\n   \"</p>\n</blockquote>\n\n<p>Use this text as an example: calling clean_story(x) results in the proper removal of all \"\\n\"</p>\n\n<blockquote>\n  <p>'overview using home automation to control applications is cool but we can further leverage its power to simplify our daily tasks like checking gas geysers heaters ac temperature etc before leaving home scope the server raspberry pi 2 running on windows 10 is running at home family members will stay connected through their smart devices like mobile phones with windows operating systems or android the server will be connected to gas heat and smoke detection sensors and will push notifications to all the clients family members on any changes detected the server will push notifications to all the clients using microsoft azure notification hubs components and supplies software and applications summary'</p>\n</blockquote>\n\n<p>However, when placing the same text in a pandas dataframe and map the function to the series containing the text... all the methods seem to work except the str.replace... I'm left with a bunch of \"n\" (note: same as \"\\n\" because later method removes punctuation)</p>\n\n<p>df_story['clean_story'] = df_story['story'].map(clean_story)</p>\n\n<p>result</p>\n\n<blockquote>\n  <p>'overview n using home automation to control applications is cool but we can further leverage its power to simplify our daily tasks like checking gas geysers heaters ac temperature etc before leaving home n scope n the server raspberry pi 2 running on windows 10 is running at home family members will stay connected through their smart devices like mobile phones with windows operating systems or android the server will be connected to gas heat and smoke detection sensors and will push notifications to all the clients family members on any changes detected the server will push notifications to all the clients using microsoft azure notification hubs n components and supplies software and applications summary n'</p>\n</blockquote>\n"}, {"tags": ["python", "calendar"], "comments": [{"owner": {"reputation": 3036, "user_id": 5491375, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/acb34dbd1c452d932e5d116561d6ee26?s=128&d=identicon&r=PG&f=1", "display_name": "aydow", "link": "https://stackoverflow.com/users/5491375/aydow"}, "edited": false, "score": 1, "creation_date": 1530149454, "post_id": 51072387, "comment_id": 89136507, "body": "You should add the stack trace to your post"}], "answers": [{"tags": [], "owner": {"reputation": 3036, "user_id": 5491375, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/acb34dbd1c452d932e5d116561d6ee26?s=128&d=identicon&r=PG&f=1", "display_name": "aydow", "link": "https://stackoverflow.com/users/5491375/aydow"}, "is_accepted": true, "score": 0, "last_activity_date": 1530149335, "creation_date": 1530149335, "answer_id": 51073473, "question_id": 51072387, "link": "https://stackoverflow.com/questions/51072387/too-many-values-to-unpack-error-in-calendar-library/51073473#51073473", "title": "Too many values to unpack error in calendar library", "body": "<p>Your error(s) are occurring when you use anything like <code>(i,j)=str('Jan')</code>. What you are asking when you assign multiple variables at once is \"split the contents of my list/tuple/<strong>string</strong> into the variables v1, v2, v3, ..., vn, in that order\". Specifically, this case, you are asking Python to split a string of 3 characters (e.g. <code>'Jan'</code> into two variables). Python has no idea how to deal with this.</p>\n\n<p>From looking at your code, I think you actually want something like this:</p>\n\n<pre><code>print ('This is a leap year')\nx=[0,31,60,91,121,152]\ny=[31,60,91,121,152,182]\nfor i,j in zip(x, y):\n    if i,j == 0,31:            # The parenthesis aren't necessary&gt; Python implicitly converts this to a tuple\n        month='Jan'            # Same with the string. No need to explicitly declare it a string - Python is very clever :)\n    elif (i,j) == (31,60):\n        month='Feb'\n    elif (i,j)==(60,91):\n        month='Mar'\n    elif (i,j)==(91,121):\n        month='Apr'\n    elif (i,j)==(121,152):\n        month='May'\n    elif (i,j)==(152,182):\n        month='Jun'\n    else:\n        month='n/a'\n\n    print('Mont_'+ month)\n</code></pre>\n\n<p>Also note the use of <code>elif</code> after the first <code>if</code>. While in this case your results will be the same, using <code>elif</code> acts as a binding agent to group the whole block together.</p>\n\n<p>Take the following example</p>\n\n<pre><code>a = 'string'\nif a == 'string':\n    a = some_function()\nif a == 'int':\n    a = some_other_function()\n</code></pre>\n\n<p>If, for some reason, <code>some_function()</code> returns the value <code>'int'</code>, then after this code block, <code>a</code> will have the return value of <code>some_other_function()</code>. Using <code>elif</code> here guards against both <code>some_function()</code> and <code>some_other_function()</code> being called.</p>\n"}], "owner": {"reputation": 133, "user_id": 9911671, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jLibF.jpg?s=128&g=1", "display_name": "fyec", "link": "https://stackoverflow.com/users/9911671/fyec"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 31, "favorite_count": 0, "accepted_answer_id": 51073473, "answer_count": 1, "score": 0, "last_activity_date": 1539209830, "creation_date": 1530139290, "last_edit_date": 1539209830, "question_id": 51072387, "link": "https://stackoverflow.com/questions/51072387/too-many-values-to-unpack-error-in-calendar-library", "title": "Too many values to unpack error in calendar library", "body": "<p>I am trying to solve 'too many values to unpack' error.\nThis code tries to print month name according to leap years and numbers of ends of the months. \nI want 'x,y in i,j' to give Month name according to numbers of end of the months.</p>\n\n<pre><code>import calendar\nyear=2000\na=calendar.isleap(year)\nif a ==False :\n    print('this is not a leap year')\n    x=[0,31,59,90,120]\n    y=[31,59,90,120,151]\n\n    for i,j in zip(x, y):\n                        if (i,j) == (0,31):\n                            (i,j)=str('Jan')\n                        if (i,j) == (31,59):\n                            (i,j)=str('Feb')\n                        if (i,j)==(59,90):\n                            (i,j)=str('March')\n                        if (i,j)==(90,120):\n                            (i,j)=str('Apr')\n                        if (i,j)==(120,151):\n                            (i,j)=str('May')\n\n                            print('Mont_'+ (x,y))\n\nelse: \n    print ('This is a leap year')\n    x=[0,31,60,91,121,152]\n    y=[31,60,91,121,152,182]\n    for i,j in zip(x, y):\n                        if (i,j) == (0,31):\n                            (i,j)=str('Jan')\n                        if (i,j) == (31,60):\n                            (i,j)=str('Feb')\n                        if (i,j)==(60,91):\n                            (i,j)=str('March')\n                        if (i,j)==(91,121):\n                            (i,j)=str('Apr')\n                        if (i,j)==(121,152):\n                            (i,j)=str('May')\n                        if (i,j)==(152,182):\n                            (i,j)=str('Jun')\n                            print('Mont_'+ (x,y))\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "micropython"], "comments": [{"owner": {"reputation": 1589, "user_id": 4870915, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8163a9b5d6135e177bec139190d6ca47?s=128&d=identicon&r=PG&f=1", "display_name": "Gelineau", "link": "https://stackoverflow.com/users/4870915/gelineau"}, "edited": false, "score": 3, "creation_date": 1530138482, "post_id": 51072268, "comment_id": 89134283, "body": "Please fix the indentation of your code"}, {"owner": {"reputation": 8884, "user_id": 8372104, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/72UbV.png?s=128&g=1", "display_name": "Simon", "link": "https://stackoverflow.com/users/8372104/simon"}, "edited": false, "score": 1, "creation_date": 1530138733, "post_id": 51072268, "comment_id": 89134342, "body": "Could we see the full error message.  Particually on which line it is on."}, {"owner": {"reputation": 5254, "user_id": 24447, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da74b7df5db7590fc140329c62b3e498?s=128&d=identicon&r=PG", "display_name": "nekomatic", "link": "https://stackoverflow.com/users/24447/nekomatic"}, "edited": false, "score": 0, "creation_date": 1530535329, "post_id": 51072268, "comment_id": 89257020, "body": "Are you using Micropython? If so, on what platform?"}], "answers": [{"tags": [], "owner": {"reputation": 69906, "user_id": 6890912, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d291e4dfbf14dcc8874bd4fa620fac23?s=128&d=identicon&r=PG&f=1", "display_name": "blhsing", "link": "https://stackoverflow.com/users/6890912/blhsing"}, "is_accepted": false, "score": 2, "last_activity_date": 1530138862, "creation_date": 1530138862, "answer_id": 51072329, "question_id": 51072268, "link": "https://stackoverflow.com/questions/51072268/count-words-in-a-txt-then-write-the-results-in-the-same-txt/51072329#51072329", "title": "count words in a .txt then write the results in the same .txt", "body": "<p><code>file.write</code> accepts only a text buffer, so you need to cast <code>words</code> into a string first before writing it to a file:</p>\n\n<pre><code>f.write(str(words))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1589, "user_id": 4870915, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8163a9b5d6135e177bec139190d6ca47?s=128&d=identicon&r=PG&f=1", "display_name": "Gelineau", "link": "https://stackoverflow.com/users/4870915/gelineau"}, "is_accepted": true, "score": 2, "last_activity_date": 1530138905, "creation_date": 1530138905, "answer_id": 51072339, "question_id": 51072268, "link": "https://stackoverflow.com/questions/51072268/count-words-in-a-txt-then-write-the-results-in-the-same-txt/51072339#51072339", "title": "count words in a .txt then write the results in the same .txt", "body": "<p>You must convert <code>words</code> to a string before being able to write it into the file.</p>\n\n<pre><code>with open(\"count.txt\", \"r+\") as f:\n    words = len(f.read().split())\n    print('number of words ')\n    print(words)\n\n    f.write(\"number of words \")\n    f.write(str(words))\n</code></pre>\n\n<p>Moreover:</p>\n\n<p><code>readline</code>reads only one line. Use <code>read</code>to read the whole file.</p>\n\n<p>use <code>len</code>to count the size of a list, inside of counting it by yourself</p>\n\n<p>use <code>with</code>to ensure that the file will be closed</p>\n"}, {"tags": [], "owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "is_accepted": false, "score": 1, "last_activity_date": 1530139866, "creation_date": 1530139866, "answer_id": 51072466, "question_id": 51072268, "link": "https://stackoverflow.com/questions/51072268/count-words-in-a-txt-then-write-the-results-in-the-same-txt/51072466#51072466", "title": "count words in a .txt then write the results in the same .txt", "body": "<p><a href=\"https://docs.python.org/3/library/io.html#io.TextIOBase.write\" rel=\"nofollow noreferrer\"><code>f.write</code></a> requires a string as its argument, unlike <a href=\"https://docs.python.org/3/library/functions.html#print\" rel=\"nofollow noreferrer\"><code>print</code></a>, which will take any number of objects of any kind, and automatically convert them all into strings for you, and join them up with configurable separators and a configurable ending, and so on.</p>\n\n<p>In other words, <code>print</code> is clever and friendly; <code>write</code> is a low-level function. So, to make this work with <code>write</code>, you have to do the conversion manually.</p>\n\n<pre><code>f.write(str(words))\n</code></pre>\n\n<p>But you can also just use <code>print</code> instead of calling <code>f.write</code>:</p>\n\n<pre><code>print(words, file=f)\n</code></pre>\n\n<hr>\n\n<p>Notice that this doesn't do quite the same thing. When you call <code>print</code>, by default, it puts a newline at the end. So, this code:</p>\n\n<pre><code>print('number of words ')\nprint(words)\n</code></pre>\n\n<p>\u2026 will print out two separate lines:</p>\n\n<pre><code>number of words\n3\n</code></pre>\n\n<p>And likewise, this code:</p>\n\n<pre><code>print('number of words ', file=f)\nprint(words, file=f)\n</code></pre>\n\n<p>\u2026 will add the same two separate lines to the file.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 9643655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/krTdM.png?s=128&g=1", "display_name": "Arturo", "link": "https://stackoverflow.com/users/9643655/arturo"}, "is_accepted": false, "score": 1, "last_activity_date": 1530140379, "creation_date": 1530140379, "answer_id": 51072529, "question_id": 51072268, "link": "https://stackoverflow.com/questions/51072268/count-words-in-a-txt-then-write-the-results-in-the-same-txt/51072529#51072529", "title": "count words in a .txt then write the results in the same .txt", "body": "<p>Words has to be converted to string. <code>File.write()</code> is what is actually going to write it.</p>\n\n<p>Your new code:</p>\n\n<pre><code>f.write(\"number of words \")\nf.write(str(words))\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 9999519, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EuCmx.png?s=128&g=1", "display_name": "Tom HRM", "link": "https://stackoverflow.com/users/9999519/tom-hrm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 98, "favorite_count": 0, "accepted_answer_id": 51072339, "answer_count": 4, "score": 0, "last_activity_date": 1530175609, "creation_date": 1530138365, "last_edit_date": 1530175609, "question_id": 51072268, "link": "https://stackoverflow.com/questions/51072268/count-words-in-a-txt-then-write-the-results-in-the-same-txt", "title": "count words in a .txt then write the results in the same .txt", "body": "<p>Im trying to count the amount of words in a text document then write the total back to the .txt</p>\n\n<p>here is how far i've got</p>\n\n<pre><code>words = 0\n   f = open(\"count.txt\", 'r+')\n\nfor wordcount in f.readline().split(\" \"):\n   words += 1\n\n\nprint('number of words ')\nprint(words)\n\n\nf.write(\"number of words \")\nf.write(words)\nf.close()\n</code></pre>\n\n<p>I get this error</p>\n\n<pre><code>TypeError: expected a character buffer object\n</code></pre>\n\n<p>Where am I going wrong?</p>\n\n<p>i feel that <code>f.write(words)</code> isn't the correct way to write the total to the txt?</p>\n"}, {"tags": ["python", "pandas", "dataframe", "timedelta"], "answers": [{"tags": [], "owner": {"reputation": 133282, "user_id": 9209546, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qk9vC.jpg?s=128&g=1", "display_name": "jpp", "link": "https://stackoverflow.com/users/9209546/jpp"}, "is_accepted": false, "score": 2, "last_activity_date": 1530139110, "last_edit_date": 1530139110, "creation_date": 1530138704, "answer_id": 51072315, "question_id": 51072262, "link": "https://stackoverflow.com/questions/51072262/pandas-calculate-the-time-since-last-label-measurement/51072315#51072315", "title": "Pandas: calculate the time since last label measurement", "body": "<p>Convert your time series to <code>timedelta</code>, then use <code>groupby</code> + <code>diff</code>:</p>\n\n<pre><code>df['Time'] = pd.to_timedelta(df['Time']+':00')\ndf['Diff'] = df.groupby('Category')['Time'].diff().fillna(0)\n\nprint(df)\n\n      Time Category     Diff\n0 12:37:00    'one' 00:00:00\n1 12:39:00    'two' 00:00:00\n2 12:41:00    'two' 00:02:00\n3 12:45:00    'one' 00:08:00\n4 12:46:00    'one' 00:01:00\n</code></pre>\n\n<p>If string formatting is important to you:</p>\n\n<pre><code>df['Diff'] = df['Diff'].apply(lambda x: f'{int(x.seconds/60)} min')\n\nprint(df)\n\n      Time Category   Diff\n0 12:37:00    'one'  0 min\n1 12:39:00    'two'  0 min\n2 12:41:00    'two'  2 min\n3 12:45:00    'one'  8 min\n4 12:46:00    'one'  1 min\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3746, "user_id": 3704368, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/1585b68aa4256705af091781aa50497a?s=128&d=identicon&r=PG&f=1", "display_name": "min2bro", "link": "https://stackoverflow.com/users/3704368/min2bro"}, "is_accepted": false, "score": 0, "last_activity_date": 1530153225, "creation_date": 1530153225, "answer_id": 51073888, "question_id": 51072262, "link": "https://stackoverflow.com/questions/51072262/pandas-calculate-the-time-since-last-label-measurement/51073888#51073888", "title": "Pandas: calculate the time since last label measurement", "body": "<p>Convert time</p>\n\n<pre><code>df['Time'] = pd.to_datetime(df['Time'],format= '%H:%M' ).dt.time\n</code></pre>\n\n<p>Use Groupby and Diff</p>\n\n<pre><code>df=pd.concat([df.Time, df.groupby('Category').Time.diff()],\n          axis=1, keys=['Time','Diff']).fillna(0)\n</code></pre>\n\n<p>Convert to mins</p>\n\n<pre><code>df['Diff']=df['Diff'].apply(lambda x: f'{int(x.seconds/60)} min')\n</code></pre>\n\n<p><strong>Output</strong></p>\n\n<pre><code>    Time    Category\n0   12:37:00    one\n1   12:39:00    two\n2   12:41:00    two\n3   12:45:00    one\n4   12:46:00    one\n</code></pre>\n"}], "owner": {"reputation": 460, "user_id": 6832556, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/37f222f512d925b88880038d394a2aa7?s=128&d=identicon&r=PG&f=1", "display_name": "HMK", "link": "https://stackoverflow.com/users/6832556/hmk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1530153225, "creation_date": 1530138316, "last_edit_date": 1530138801, "question_id": 51072262, "link": "https://stackoverflow.com/questions/51072262/pandas-calculate-the-time-since-last-label-measurement", "title": "Pandas: calculate the time since last label measurement", "body": "<p>My dataset is of the form - </p>\n\n<pre><code>|   Time   | Category|\n=====================\n|   12:37  |  'one'  | \n|   12:39  |  'two'  | \n|   12:41  |  'two'  | \n|   12:45  |  'one'  |\n|   12:46  |  'one'  | \n</code></pre>\n\n<p>I want to create a new column that measures the time difference between the current row and the previous time <strong>that particular label</strong> was recorded, such that the table becomes</p>\n\n<pre><code>|   Time   | Category |  Since_last |\n=====================================\n|   12:37  |  'one'   |     0 min   |    (0 as it is the first measurement)\n|   12:39  |  'two'   |     0 min   | \n|   12:41  |  'two'   |     2 min   | \n|   12:45  |  'one'   |     8 min   |\n|   12:46  |  'one'   |     1 min   | \n</code></pre>\n\n<p>How would I do this?</p>\n"}, {"tags": ["python", "ethereum", "smartcontracts", "web3", "truffle"], "comments": [{"owner": {"reputation": 1536, "user_id": 8412986, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xI5SM.jpg?s=128&g=1", "display_name": "carver", "link": "https://stackoverflow.com/users/8412986/carver"}, "edited": false, "score": 0, "creation_date": 1530140249, "post_id": 51072255, "comment_id": 89134704, "body": "This can be broken down into two questions: 1) how do you display the address and ABI of a contract deployed by truffle? and 2) how do you initialize a contract in Web3.py with the address and ABI? If you already know the answer to one of those questions, can you update the question to show the part you know, and ask the part you don&#39;t?"}, {"owner": {"reputation": 19, "user_id": 5219230, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0651050a8c68949a5ae0854c646609cf?s=128&d=identicon&r=PG&f=1", "display_name": "SamTT", "link": "https://stackoverflow.com/users/5219230/samtt"}, "reply_to_user": {"reputation": 1536, "user_id": 8412986, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xI5SM.jpg?s=128&g=1", "display_name": "carver", "link": "https://stackoverflow.com/users/8412986/carver"}, "edited": false, "score": 0, "creation_date": 1530141822, "post_id": 51072255, "comment_id": 89135037, "body": "I follow up the truffle-contract suggestion to get contract address and ABI. such like the this: MyContract.deployed().then(function(instance). But I don&#39;t know how to do it in python."}], "owner": {"reputation": 19, "user_id": 5219230, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0651050a8c68949a5ae0854c646609cf?s=128&d=identicon&r=PG&f=1", "display_name": "SamTT", "link": "https://stackoverflow.com/users/5219230/samtt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 251, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1533808760, "creation_date": 1530138257, "question_id": 51072255, "link": "https://stackoverflow.com/questions/51072255/how-can-i-get-the-contract-instance-which-migrated-by-truffle-into-web3-python", "title": "How can I get the contract instance which migrated by truffle into web3 python?", "body": "<p>There is the truffle-contract that can get the deployed address which migrate by truffle into the web3 javascript. How can I use the same methodology but send the contract instance if I use the python (web3.py)?</p>\n"}, {"tags": ["python", "opencv", "ffmpeg", "video-capture", "scikits"], "answers": [{"comments": [{"owner": {"reputation": 664, "user_id": 2318834, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5a54d3122f55810d4bb44c3ee806ca65?s=128&d=identicon&r=PG", "display_name": "Liam Deacon", "link": "https://stackoverflow.com/users/2318834/liam-deacon"}, "edited": false, "score": 0, "creation_date": 1530780812, "post_id": 51084480, "comment_id": 89355902, "body": "Thank you @zindarod for your explanation - it helped a lot!"}, {"owner": {"reputation": 1079, "user_id": 661935, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/e833884e71c50ffd92970b2c19b86dbb?s=128&d=identicon&r=PG", "display_name": "nn0p", "link": "https://stackoverflow.com/users/661935/nn0p"}, "edited": false, "score": 0, "creation_date": 1551351963, "post_id": 51084480, "comment_id": 96613159, "body": "The <a href=\"http://www.scikit-video.org/stable/modules/generated/skvideo.io.FFmpegWriter.html#skvideo.io.FFmpegWriter.__init__\" rel=\"nofollow noreferrer\">doc</a> said <code>Does not instantiate the an FFmpeg subprocess, but simply prepares the required parameters.</code>"}], "tags": [], "owner": {"reputation": 5482, "user_id": 2286337, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/A8dkr.jpg?s=128&g=1", "display_name": "zindarod", "link": "https://stackoverflow.com/users/2286337/zindarod"}, "is_accepted": true, "score": 7, "last_activity_date": 1530193345, "creation_date": 1530193345, "answer_id": 51084480, "question_id": 51072238, "link": "https://stackoverflow.com/questions/51072238/writing-frames-from-camera-using-skvideo-io-ffmpegwriter/51084480#51084480", "title": "Writing frames from camera using skvideo.io.FFmpegWriter", "body": "<p>A few points to note here:</p>\n\n<ul>\n<li><code>skvideo.io.FFmpegWriter</code> uses the <code>ffmpeg</code> command line tool to encode videos, not the C API. So test your <code>ffmpeg</code> command in terminal first to make sure you've a working pipeline.</li>\n<li>The <code>inputdict={},outputdict={}</code> take string inputs not integers. If you've an integer variable then use <code>str(var_name)</code> to convert it to string.</li>\n<li>You've to make sure the <code>pix_fmt</code> you're using is supported by the codec. To get a list of all <code>pix_fmt</code>s use <code>ffmpeg -pix_fmts</code>. Keep in mind that <code>x264</code> does not accept all the <code>pix_fmt</code>s that <code>ffmpeg</code> internally supports.</li>\n</ul>\n\n<p>So for a near lossless encoding (see <a href=\"https://trac.ffmpeg.org/wiki/Encode/H.264#LosslessH.264\" rel=\"noreferrer\">this</a> and <a href=\"https://stackoverflow.com/a/18506577/2286337\">this</a>) we can use the following command:</p>\n\n<p><code>ffmpeg -s 1920x1080 -r 60 -i /dev/video0 -s 1920x1080 -r 60 -c:v libx264 -crf 17 -preset ultrafast -pix_fmt yuv444p test_ffmpeg.avi</code></p>\n\n<p>The same command translated to <code>skvideo.io.FFmpegWriter</code> would be:</p>\n\n<pre><code>fps = 60\nwidth = 1920\nheight = 1080\ncrf = 17\nvideo = io.FFmpegWriter('/tmp/test_ffmpeg.avi', \n            inputdict={'-r': str(fps), '-s':'{}x{}'.format(width,height)},\n            outputdict={'-r': str(fps), '-c:v': 'libx264', '-crf': str(crf), '-preset': 'ultrafast', '-pix_fmt': 'yuv444p'}\n)\n</code></pre>\n"}], "owner": {"reputation": 664, "user_id": 2318834, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5a54d3122f55810d4bb44c3ee806ca65?s=128&d=identicon&r=PG", "display_name": "Liam Deacon", "link": "https://stackoverflow.com/users/2318834/liam-deacon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4080, "favorite_count": 1, "accepted_answer_id": 51084480, "answer_count": 1, "score": 0, "last_activity_date": 1530193345, "creation_date": 1530138152, "last_edit_date": 1530175506, "question_id": 51072238, "link": "https://stackoverflow.com/questions/51072238/writing-frames-from-camera-using-skvideo-io-ffmpegwriter", "title": "Writing frames from camera using skvideo.io.FFmpegWriter", "body": "<p>I'm trying to finely control the video encoding of camera image frames captured on the fly using <code>skvideo.io.FFmpegWriter</code> and <code>cv2.VideoCapture</code>, e.g. </p>\n\n<pre><code>from skvideo import io\nimport cv2\n\nfps = 60\nstream = cv2.VideoCapture(0)                    # 0 is for /dev/video0\nprint(\"fps: {}\".format(stream.set(cv2.CAP_PROP_FPS, fps)))\n\nstream.set(cv2.CAP_PROP_FRAME_WIDTH, 1920)\nstream.set(cv2.CAP_PROP_FRAME_HEIGHT, 1080)\nprint(\"bit_depth: {}\".format(stream.set(cv2.CAP_PROP_FORMAT, cv2.CV_8U)))\n\nvideo = io.FFmpegWriter('/tmp/test_ffmpeg.avi', \n            inputdict={'-r': fps, '-width': 1920, '-height': 1080},\n            outputdict={'-r': fps, '-vcodec': 'libx264', '-pix_fmt': 'h264'}\n)\n\ntry:\n    for i in range(fps*10):  # 10s of video\n        ret, frame = stream.read()\n        video.writeFrame(frame)\nfinally:\n    stream.release()\n\ntry:\n    video.close()\nexcept:\n    pass\n</code></pre>\n\n<p>However, I get the following exception (in Jupyter notebook):</p>\n\n<pre><code>---------------------------------------------------------------------------\nTypeError                                 Traceback (most recent call last)\n\n&lt;ipython-input-33-007a547c4229&gt; in &lt;module&gt;()\n     18     while range(fps*10):\n     19         ret, frame = stream.read()\n---&gt; 20         video.writeFrame(frame)\n     21 except BaseException as err:\n     22     raise err\n\n/usr/local/lib/python3.6/site-packages/skvideo/io/ffmpeg.py in writeFrame(self, im)\n    446         T, M, N, C = vid.shape\n    447         if not self.warmStarted:\n--&gt; 448             self._warmStart(M, N, C)\n    449 \n    450         # Ensure that ndarray image is in uint8\n\n/usr/local/lib/python3.6/site-packages/skvideo/io/ffmpeg.py in _warmStart(self, M, N, C)\n    412         cmd = [_FFMPEG_PATH + \"/\" + _FFMPEG_APPLICATION, \"-y\"] + iargs + [\"-i\", \"-\"] + oargs + [self._filename]\n    413 \n--&gt; 414         self._cmd = \" \".join(cmd)\n    415 \n    416         # Launch process\n\nTypeError: sequence item 3: expected str instance, int found\n</code></pre>\n\n<p>Changing this to <code>video.writeFrame(frame.tostring())</code> results in <code>ValueError: Improper data input</code>, leaving me stumped.</p>\n\n<p>How should I go about writing each frame (as returned by OpenCV) to my FFmpegWriter instance?</p>\n\n<h1>EDIT</h1>\n\n<p>The code works fine if I remove <code>inputdict</code> and <code>outputdict</code> from the <code>io.FFmpegWriter</code> call, however this defeats the purpose for me as I need fine control over the video encoding (I am experimenting with lossless/near-lossless compression of the raw video captured from the camera and trying to establish the best compromise in terms of compression vs fidelity for my needs).</p>\n"}, {"tags": ["python", "tkinter"], "answers": [{"comments": [{"owner": {"reputation": 11466, "user_id": 2229945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfbf044eccb8835deec653dae32d56e7?s=128&d=identicon&r=PG", "display_name": "Novel", "link": "https://stackoverflow.com/users/2229945/novel"}, "edited": false, "score": 2, "creation_date": 1530140119, "post_id": 51072389, "comment_id": 89134673, "body": "Good answer, I&#39;ll just add that we call the way GUI&#39;s are run &quot;<a href=\"https://en.wikipedia.org/wiki/Event-driven_programming\" rel=\"nofollow noreferrer\">event driven programming</a>&quot;, as opposed to sequential programming which most beginner start with."}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "reply_to_user": {"reputation": 11466, "user_id": 2229945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfbf044eccb8835deec653dae32d56e7?s=128&d=identicon&r=PG", "display_name": "Novel", "link": "https://stackoverflow.com/users/2229945/novel"}, "edited": false, "score": 0, "creation_date": 1530140217, "post_id": 51072389, "comment_id": 89134697, "body": "@Novel Nice link; I&#39;ll add that to the answer\u2014and remember to look at Wikipedia next time. (There are so many questions from users who don&#39;t get the change in abstraction when writing their first event-driven GUI or network server, or, less commonly, frameloop-driven game or audio program\u2026)"}, {"owner": {"reputation": 13, "user_id": 9968795, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7346d33f657244aadf260cccf43ed54?s=128&d=identicon&r=PG&f=1", "display_name": "Monish", "link": "https://stackoverflow.com/users/9968795/monish"}, "edited": false, "score": 0, "creation_date": 1530292474, "post_id": 51072389, "comment_id": 89200195, "body": "Where would I place the empty <code>label</code> though?"}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "reply_to_user": {"reputation": 13, "user_id": 9968795, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7346d33f657244aadf260cccf43ed54?s=128&d=identicon&r=PG&f=1", "display_name": "Monish", "link": "https://stackoverflow.com/users/9968795/monish"}, "edited": false, "score": 0, "creation_date": 1530552777, "post_id": 51072389, "comment_id": 89266321, "body": "@MonishShah You mean where in the GUI? That&#39;s really a graphical design question, not a programming question. But given the kind of form you&#39;re designing, I&#39;d go with either to the right or the bottom of the form\u2014past the &quot;Submit&quot; button."}, {"owner": {"reputation": 13, "user_id": 9968795, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7346d33f657244aadf260cccf43ed54?s=128&d=identicon&r=PG&f=1", "display_name": "Monish", "link": "https://stackoverflow.com/users/9968795/monish"}, "edited": false, "score": 0, "creation_date": 1530552930, "post_id": 51072389, "comment_id": 89266390, "body": "No what I mean is where would I place the result to work because I have trouble getting the result to work. I created a better post where it talks about my problem in more depth.    <a href=\"https://stackoverflow.com/questions/51141046/typeerror-must-be-real-number-not-entry/51141082?noredirect=1#comment89266282_51141082\" title=\"typeerror must be real number not entry\">stackoverflow.com/questions/51141046/&hellip;</a>"}], "tags": [], "owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "is_accepted": true, "score": 3, "last_activity_date": 1530140242, "last_edit_date": 1530140242, "creation_date": 1530139303, "answer_id": 51072389, "question_id": 51072219, "link": "https://stackoverflow.com/questions/51072219/how-do-i-use-the-user-input-to-write-the-output-using-tkinter/51072389#51072389", "title": "How do I use the user input to write the output using Tkinter?", "body": "<p>In a GUI program, once the GUI is up and running, you can only run your code in the callbacks to event handlers. This is called <a href=\"https://en.wikipedia.org/wiki/Event-driven_programming\" rel=\"nofollow noreferrer\">event-driven programming</a>, and it can take a while to get used to at first.</p>\n\n<p>For example, when the user clicks that first <code>Submit</code> button, it calls your function <code>click</code>. Inside that function, you can do whatever's appropriate there.</p>\n\n<p>You've made all three buttons call the same <code>click</code> function. That doesn't make too much sense here.</p>\n\n<p>In fact, why do you even want three separate buttons? Think of a typical form in a typical GUI\u2014there's a bunch of Entry fields, and then a single \"Submit\" button that the user clicks after filling out all of the fields. So, let's just scrap the first two buttons and only have one at the end.</p>\n\n<p>Now, inside that <code>click</code> function, you can \"do whatever's appropriate\". But what's appropriate here?</p>\n\n<p>The first thing you need to do is get the values out of the three <code>Entry</code> boxes. But you tried to store all three of them in the same variable, so you can't access all three of them, only the last one. So, instead of doing this three times:</p>\n\n<pre><code>textentry = Entry(window, width = 10, bg = \"white\")\n</code></pre>\n\n<p>\u2026 give them all different names:</p>\n\n<pre><code>n_entry = Entry(window, width = 10, bg = \"white\")\n# ...\nm_entry = Entry(window, width = 10, bg = \"white\")\n# ...\noperation_entry = Entry(window, width = 10, bg = \"white\")\n</code></pre>\n\n<p>And now, your <code>click</code> function can get all three values:</p>\n\n<pre><code>def click():\n    n = n_entry.get()\n    m = m_entry.get()\n    operation = operation_entry.get()\n</code></pre>\n\n<p>Of course these are going to be strings\u2014exactly like what you get back from calling <code>input()</code> in a command-line app. So, you have to do the same thing here\u2014call <code>int</code> or <code>float</code> on them, handle errors, etc.</p>\n\n<p>But, once you've done that, the rest of <code>click</code> can be your existing commented-out code. (Except that you have to get rid of those <code>break</code> statements\u2014there's no loop to break out of here.)</p>\n\n<pre><code>    if operation == 1:\n        print(n + m)\n    elif operation == 2:\n        print(n - m)\n    # etc.\n</code></pre>\n\n<p>However, you might want to change those <code>print</code> calls to instead display the result in the GUI. For example, you might have an empty <code>Label</code> named <code>results_label</code>, and config its text to be <code>str(n+m)</code>, etc.</p>\n"}], "owner": {"reputation": 13, "user_id": 9968795, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7346d33f657244aadf260cccf43ed54?s=128&d=identicon&r=PG&f=1", "display_name": "Monish", "link": "https://stackoverflow.com/users/9968795/monish"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 567, "favorite_count": 1, "accepted_answer_id": 51072389, "answer_count": 1, "score": 0, "last_activity_date": 1530290780, "creation_date": 1530138078, "last_edit_date": 1530290780, "question_id": 51072219, "link": "https://stackoverflow.com/questions/51072219/how-do-i-use-the-user-input-to-write-the-output-using-tkinter", "title": "How do I use the user input to write the output using Tkinter?", "body": "<p>I was trying to create a code to create a GUI Calculator with buttons and I tried looking up Tkinter help, but I was not able to get help. How do I incorporate the commented out section at the bottom to display the value of the numbers shown? Please feel free to add suggestions to my code. </p>\n\n<p>EDIT: I fixed the code as @abarnert suggested but when I run the code, it always writes Invalid Operation. I do not know how to fix this. Does anyone have a better idea to fix my code? I just need to get the operation to work. My edited code is below.</p>\n\n<pre><code>from math import sqrt\nfrom tkinter import *\nwindow = Tk()\nwindow.title(\"Welcome to Calculator \")\nwindow.configure(background = \"white\")\nLabel (window, text = \"Calculator\", bg = \"white\") .grid(row = 0, column = \n0, sticky = N)\n\n\n\n#click function\ndef click():\n    n = n_textentry.get()\n    m = m_textentry.get()\n    operation = operation_textentry.get()\n    if operation == 1:\n        print(n + m)\n\n    elif operation == 2:\n        print(n - m)\n\n    elif operation == 3:\n        print(n * m)\n\n    elif operation == 4:\n        print(n / m)\n\n    elif operation == 5:\n        print(n ** m)\n\n    elif operation == 6:\n        print(sqrt(n))\n\n    else:\n        print(\"Invalid Operation \")\n\n\n\n\n#to create the box for the first number and store it\nLabel (window, text = \"Enter the first number\", bg = \"white\") .grid(row = \n1, column = 0, sticky = N)\nn_textentry = Entry(window, width = 10, bg = \"white\")\nn_textentry.grid(row = 2, column = 0, sticky = N)\nButton(window, text = \"Submit\", width = 6, command=click) .grid(row = 3, \ncolumn = 0, sticky = N)\n\n#to create the box for the second number\nLabel (window, text = \"Enter the second number\", bg = \"white\") .grid(row = \n5, column = 0, sticky = N)\nm_textentry = Entry(window, width = 10, bg = \"white\")\nm_textentry.grid(row = 6, column = 0, sticky = N)\nButton(window, text = \"Submit\", width = 6, command=click) .grid(row = 7, \ncolumn = 0, sticky = N)\n\n#to show list of options\nLabel (window, text = '''               Enter 1 for addition\n                    Enter 2 for subtraction\n                         Enter 3 for multiplication\n              Enter 4 for division\n                        Enter 5 for exponentiation\n\nEnter 6 for square root *This will only work for 1st choice*''', bg = \n\"white\") .grid(row = 9, column = 0, sticky = W)\n\noperation_textentry = Entry(window, width = 10, bg = \"white\")\noperation_textentry.grid(row = 10, column = 0, sticky = N)\nButton(window, text = \"Submit\", width = 6, command=click) .grid(row = 11, \ncolumn = 0, sticky = N)\n</code></pre>\n"}, {"tags": ["python", "pandas", "datetime", "dataframe", "indexing"], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 8250388, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d093a08cc39bf3c72a2db6f5f4ebe91?s=128&d=identicon&r=PG&f=1", "display_name": "T. Corrie", "link": "https://stackoverflow.com/users/8250388/t-corrie"}, "edited": false, "score": 1, "creation_date": 1530139704, "post_id": 51072417, "comment_id": 89134572, "body": "Thank. You. So. Much. This probably saved me a couple of hours."}], "tags": [], "owner": {"reputation": 133282, "user_id": 9209546, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qk9vC.jpg?s=128&g=1", "display_name": "jpp", "link": "https://stackoverflow.com/users/9209546/jpp"}, "is_accepted": true, "score": 2, "last_activity_date": 1530139496, "creation_date": 1530139496, "answer_id": 51072417, "question_id": 51072205, "link": "https://stackoverflow.com/questions/51072205/adding-empty-dataframe-rows-based-on-missing-datetime-values/51072417#51072417", "title": "Adding empty dataframe rows based on missing datetime values", "body": "<p>You can use <a href=\"https://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.resample.html\" rel=\"nofollow noreferrer\"><code>pd.DataFrame.resample</code></a>:</p>\n\n<pre><code>df = df.resample('5Min', on='datetime').first()\\\n       .drop('datetime', 1).reset_index()\n\nprint(df)\n\n             datetime  value\n0 2018-03-01 00:00:00    4.0\n1 2018-03-01 00:05:00    NaN\n2 2018-03-01 00:10:00    5.0\n3 2018-03-01 00:15:00    NaN\n4 2018-03-01 00:20:00    NaN\n5 2018-03-01 00:25:00    NaN\n6 2018-03-01 00:30:00    NaN\n7 2018-03-01 00:35:00    NaN\n8 2018-03-01 00:40:00    1.0\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 149, "user_id": 7478147, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-GxLbydOIG7o/AAAAAAAAAAI/AAAAAAAAAYU/m50yLIlCpvY/photo.jpg?sz=128", "display_name": "Boubacar Traor&#233;", "link": "https://stackoverflow.com/users/7478147/boubacar-traor%c3%a9"}, "is_accepted": false, "score": 0, "last_activity_date": 1530140033, "creation_date": 1530140033, "answer_id": 51072488, "question_id": 51072205, "link": "https://stackoverflow.com/questions/51072205/adding-empty-dataframe-rows-based-on-missing-datetime-values/51072488#51072488", "title": "Adding empty dataframe rows based on missing datetime values", "body": "<p>First, you can create a dataframe including your final datetime index and then affect the second one :</p>\n\n<pre><code>df1 = pd.DataFrame({'value': np.nan} ,index=pd.date_range('2018-03-01 00:00:00', \n                     periods=9, freq='5min'))\n\nprint(df)\n#Output :\n                   value\n2018-03-01 00:00:00 NaN\n2018-03-01 00:05:00 NaN\n2018-03-01 00:10:00 NaN\n2018-03-01 00:15:00 NaN\n2018-03-01 00:20:00 NaN\n2018-03-01 00:25:00 NaN\n2018-03-01 00:30:00 NaN\n2018-03-01 00:35:00 NaN\n2018-03-01 00:40:00 NaN\n</code></pre>\n\n<p>Now, let's say your dataframe is the second one, you can add this to your above code :</p>\n\n<pre><code>d={'datetime': \n[dt.datetime(2018,3,1,0,0),dt.datetime(2018,3,1,0,10),dt.datetime(2018,3,1,0,40)],\n'value':[4.,5.,1.]}\n\ndf2=pd.DataFrame(d)\ndf2.datetime = pd.to_datetime(df2.datetime)\ndf2.set_index('datetime',inplace=True)\nprint(df2)\n\n#Output\n                   value\ndatetime    \n2018-03-01 00:00:00 4.0\n2018-03-01 00:10:00 5.0\n2018-03-01 00:40:00 1.0\n</code></pre>\n\n<p>Finally :</p>\n\n<pre><code>df1.value = df2.value\nprint(df1)\n\n#output\n                   value\n2018-03-01 00:00:00 4.0\n2018-03-01 00:05:00 NaN\n2018-03-01 00:10:00 5.0\n2018-03-01 00:15:00 NaN\n2018-03-01 00:20:00 NaN\n2018-03-01 00:25:00 NaN\n2018-03-01 00:30:00 NaN\n2018-03-01 00:35:00 NaN\n2018-03-01 00:40:00 1.0\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 8250388, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d093a08cc39bf3c72a2db6f5f4ebe91?s=128&d=identicon&r=PG&f=1", "display_name": "T. Corrie", "link": "https://stackoverflow.com/users/8250388/t-corrie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 907, "favorite_count": 1, "accepted_answer_id": 51072417, "answer_count": 2, "score": 0, "last_activity_date": 1530140033, "creation_date": 1530137987, "last_edit_date": 1530139509, "question_id": 51072205, "link": "https://stackoverflow.com/questions/51072205/adding-empty-dataframe-rows-based-on-missing-datetime-values", "title": "Adding empty dataframe rows based on missing datetime values", "body": "<p>I am trying to add rows to my pandas dataframe as such:</p>\n\n<pre><code>import pandas as pd\nimport datetime as dt\n\nd={'datetime':[dt.datetime(2018,3,1,0,0),dt.datetime(2018,3,1,0,10),dt.datetime(2018,3,1,0,40)],\n  'value':[4.,5.,1.]}\n\ndf=pd.DataFrame(d)\n</code></pre>\n\n<p>Which outputs:</p>\n\n<pre><code>             datetime  value\n0 2018-03-01 00:00:00    4.0\n1 2018-03-01 00:10:00    5.0\n2 2018-03-01 00:40:00    1.0\n</code></pre>\n\n<p>What I want to do is add rows from 00:00:00 to 00:40:00, to show every 5 minutes. My desired output looks like this:</p>\n\n<pre><code>             datetime  value\n0 2018-03-01 00:00:00    4.0\n1 2018-03-01 00:05:00    NaN\n2 2018-03-01 00:10:00    5.0\n3 2018-03-01 00:15:00    NaN\n4 2018-03-01 00:20:00    NaN\n5 2018-03-01 00:25:00    NaN\n6 2018-03-01 00:30:00    NaN\n7 2018-03-01 00:35:00    NaN\n8 2018-03-01 00:40:00    1.0\n</code></pre>\n\n<p>How do I get there?</p>\n"}, {"tags": ["python", "mongodb", "rest", "flask", "flask-restful"], "owner": {"reputation": 2150, "user_id": 662888, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/cbe622446cecc2288aa5745ebd2e0cfa?s=128&d=identicon&r=PG", "display_name": "madtowneast", "link": "https://stackoverflow.com/users/662888/madtowneast"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 85, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1530137864, "creation_date": 1530137864, "question_id": 51072184, "link": "https://stackoverflow.com/questions/51072184/passing-mongodb-queries-through-rest-api-in-python", "title": "Passing mongodb queries through REST API in Python", "body": "<p>I am building a REST API to MongoDB using Flask-RESTful. One feature request I have received is to be able to pass arbitrarily complex Mongo queries, e.g. JSON docs, through the API. I am a little concerned about the implementation here. At first, I would just make a new endpoint (<code>users/query/&lt;json&gt;</code>). I was looking at other implementations, where it was passed through as a parameter (<code>users/query?q={}</code>). Now my questions are:</p>\n\n<p>What is the preferred method?</p>\n\n<p>Is this even a good idea?</p>\n\n<p>Am I missing something?</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["python", "django", "django-rest-framework"], "answers": [{"comments": [{"owner": {"reputation": 3487, "user_id": 6843153, "user_type": "registered", "accept_rate": 90, "profile_image": "https://graph.facebook.com/10207079768572690/picture?type=large", "display_name": "HuLu ViCa", "link": "https://stackoverflow.com/users/6843153/hulu-vica"}, "edited": false, "score": 0, "creation_date": 1530195326, "post_id": 51073182, "comment_id": 89158681, "body": "Thanks a lot, but it didn&#39;t work. I get exactly the same result."}, {"owner": {"reputation": 4437, "user_id": 3122083, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/f070ab3629e61bd74ed92ed7ec986bde?s=128&d=identicon&r=PG", "display_name": "dkarchmer", "link": "https://stackoverflow.com/users/3122083/dkarchmer"}, "reply_to_user": {"reputation": 3487, "user_id": 6843153, "user_type": "registered", "accept_rate": 90, "profile_image": "https://graph.facebook.com/10207079768572690/picture?type=large", "display_name": "HuLu ViCa", "link": "https://stackoverflow.com/users/6843153/hulu-vica"}, "edited": false, "score": 0, "creation_date": 1530246963, "post_id": 51073182, "comment_id": 89176635, "body": "Too bad. I will have to go try it and see why it doesn\u2019t work. I believe I have used that before. Note that there is a reason why DRF doesn\u2019t work this way. Just like you are using define variables to ensure your code does not change if you user friendly string changes, you should give your API user the same benefit. So the common thing to do is to have a short code for the user to use, which is different from the display string."}], "tags": [], "owner": {"reputation": 4437, "user_id": 3122083, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/f070ab3629e61bd74ed92ed7ec986bde?s=128&d=identicon&r=PG", "display_name": "dkarchmer", "link": "https://stackoverflow.com/users/3122083/dkarchmer"}, "is_accepted": false, "score": 0, "last_activity_date": 1549673480, "last_edit_date": 1549673480, "creation_date": 1530146295, "answer_id": 51073182, "question_id": 51072174, "link": "https://stackoverflow.com/questions/51072174/django-rest-framework-model-object-returns-stored-value-of-a-field-with-choices/51073182#51073182", "title": "Django Rest Framework model object returns stored value of a field with choices", "body": "<p>This is correct behavior AFAIK, but it is easy to fix.</p>\n\n<p>One solution is to just do</p>\n\n<pre><code>class HotelSerializer(serializers.ModelSerializer):\n  category = serializers.ChoiceField(choices=Hotel.HOTEL_CATEGORY_CHOICES)\n  company = CompanySerializer()\n  ...\n</code></pre>\n"}], "owner": {"reputation": 3487, "user_id": 6843153, "user_type": "registered", "accept_rate": 90, "profile_image": "https://graph.facebook.com/10207079768572690/picture?type=large", "display_name": "HuLu ViCa", "link": "https://stackoverflow.com/users/6843153/hulu-vica"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 54, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1549673480, "creation_date": 1530137803, "last_edit_date": 1530198220, "question_id": 51072174, "link": "https://stackoverflow.com/questions/51072174/django-rest-framework-model-object-returns-stored-value-of-a-field-with-choices", "title": "Django Rest Framework model object returns stored value of a field with choices", "body": "<p>I have a project with Django Rest Framework and I have a complex <code>ViewSet</code> that uses several models and serializers to compound a large and complex json. Everything works fine, but I notice that <code>HotelSerializer</code>, that is a <code>ModelSerializer</code>, is returning the stored value of field <code>category</code>, instead of the human readable value of its model <code>choices</code>.</p>\n\n<p>This is the model:</p>\n\n<pre><code>class Hotel(models.Model):\n    ONE_STAR = '*'\n    TWO_STARS = '**'\n    THREE_STARS = '***'\n    FOUR_STARS = '****'\n    FIVE_STARS = '*****'\n    GRAND_TOURISM = 'GRAND_TOURISM'\n    NA = 'NA'\n    SPECIAL = 'SPECIAL'\n    ECO = 'ECO'\n    BOUTIQUE = 'BOUTIQUE'\n\n    HOTEL_CATEGORY_CHOICES = (\n        (ONE_STAR, _('*')),\n        (TWO_STARS, _('**')),\n        (THREE_STARS, _('***')),\n        (FOUR_STARS, _('****')),\n        (FIVE_STARS, _('*****')),\n        (GRAND_TOURISM, _('Grand Tourism')),\n        (NA, _('NA')),\n        (SPECIAL, _('Special')),\n        (ECO, _('Eco-Hotel')),\n        (BOUTIQUE, _('Boutique-Hotel'))\n    )\n\n    company = models.OneToOneField(Company, on_delete=models.CASCADE, primary_key=True, verbose_name=_('Company'))\n    code = models.CharField(max_length=10, verbose_name=_('Code'))\n    zone = models.ForeignKey(Zone, on_delete=models.PROTECT, related_name='hotels', verbose_name=_('Zone'))\n    category = models.CharField(max_length=20, choices=HOTEL_CATEGORY_CHOICES, verbose_name=_('Category'))\n    capacity = models.IntegerField(verbose_name=_('Capacity'))\n    position = models.DecimalField(max_digits=11, decimal_places=2, default=0.00, verbose_name=_('Position'))\n    in_pickup = models.BooleanField(default=False, verbose_name=_('In pickup?'))\n    is_active = models.BooleanField(default=True, verbose_name=_('Is active?'))\n    latitude = models.FloatField(null=True, blank=True, verbose_name=_('Latitude'))\n    longitude = models.FloatField(null=True, blank=True, verbose_name=_('Longitude'))\n</code></pre>\n\n<p>This is the serializer:</p>\n\n<pre><code>class HotelSerializer(serializers.ModelSerializer):\n    category = serializers.ChoiceField(choices=models.Hotel.HOTEL_CATEGORY_CHOICES)\n    class Meta:\n        model = models.Hotel\n        fields = ('company', 'code', 'zone', 'category', 'capacity', 'position', 'in_pickup', 'is_active', 'latitude', 'longitude')\n        depth = 4\n\n    def __init__(self, *args, **kwargs):\n        exclude = kwargs.pop('exclude', None)\n\n        super(HotelSerializer, self).__init__(*args, **kwargs)\n\n        if exclude is not None:\n            for field_name in exclude:\n                self.fields.pop(field_name)\n</code></pre>\n\n<p>This is the ViewSet function where I get the <code>Hotel</code> model information:</p>\n\n<pre><code>def get_hotel(self, company_id):\n    hotel = Hotel.objects.get(company=company_id)\n\n    import ReservationsManagerApp.serializers\n    return ReservationsManagerApp.serializers.HotelSerializer(hotel, exclude=('company',)).data\n</code></pre>\n\n<p>And this is the result I get:</p>\n\n<pre><code>\"hotel\": {\n        \"code\": \"xxxx...\",\n        \"zone\": {\n            \"id\": 1,\n            \"name\": \"Zona hotelera\",\n            \"city\": {\n                \"id\": 5,\n                \"name\": \"Cancun\",\n                \"code\": \"998\",\n                \"state\": {\n                    \"id\": 2,\n                    \"name\": \"Quintana Roo\",\n                    \"code\": \"98\",\n                    \"country\": {\n                        \"id\": 1,\n                        \"name\": \"Mexico\",\n                        \"code\": \"MX\",\n                        \"calling_code\": \"52\"\n                    }\n                }\n            }\n        },\n        \"category\": \"GRAND_TOURISM\",\n        \"capacity\": 300,\n        \"position\": \"1.00\",\n        \"in_pickup\": true,\n        \"is_active\": true,\n        \"latitude\": null,\n        \"longitude\": null\n    },\n</code></pre>\n\n<p>You can see that the <code>Category</code> field returns the value <code>'GRAND_TOURISM'</code>, instead of  its human readable version of its <code>choices</code>: <code>'Grand Tourism'</code>. It even misses the translation, so it must return <code>'Gran Turismo'</code>.</p>\n\n<p>I don't know what I am missing.</p>\n"}, {"tags": ["python", "networkx", "graphml"], "answers": [{"tags": [], "owner": {"reputation": 31, "user_id": 9995824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/836f7c5b4729c340223cd95508508f23?s=128&d=identicon&r=PG&f=1", "display_name": "john doe", "link": "https://stackoverflow.com/users/9995824/john-doe"}, "is_accepted": false, "score": 0, "last_activity_date": 1530140543, "creation_date": 1530140543, "answer_id": 51072555, "question_id": 51072162, "link": "https://stackoverflow.com/questions/51072162/networkx-how-to-change-edge-ids/51072555#51072555", "title": "Networkx - How to change edge id&#39;s?", "body": "<p>Solved this. If you need to change 'edge ids' in MultiDiGraphs you have to use the 'key' attribute like this:</p>\n\n<pre><code>g.add_edge(host,neighbor,key=idcount) &lt;-- idcount is an int value\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 9995824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/836f7c5b4729c340223cd95508508f23?s=128&d=identicon&r=PG&f=1", "display_name": "john doe", "link": "https://stackoverflow.com/users/9995824/john-doe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 565, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1530140543, "creation_date": 1530137719, "question_id": 51072162, "link": "https://stackoverflow.com/questions/51072162/networkx-how-to-change-edge-ids", "title": "Networkx - How to change edge id&#39;s?", "body": "<p>I'm using networkx to create graphml files. I have parallel links so I'm using the MultiDiGraph function. After generating the file I open it in yED but I don't have all the connections that I created between the nodes. The only connections (edges) I have are the ones created for the parallel links. I've realized it is because the graphml file only have two edge ids ('0' and '1') for all the edges. I modified the file and set a unique id for each edge. For example:</p>\n\n<pre><code>&lt;edge id=\"0\" source=\"Hostname_A\" target=\"Hostname_B\"&gt;\n  &lt;data key=\"d1\"&gt;100GE1/0/0&lt;/data&gt;\n  &lt;data key=\"d2\"&gt;100GE1/0/0&lt;/data&gt;\n&lt;/edge&gt;\n&lt;edge id=\"1\" source=\"Hostname_A\" target=\"Hostname_B\"&gt;\n  &lt;data key=\"d1\"&gt;100GE1/0/1&lt;/data&gt;\n  &lt;data key=\"d2\"&gt;100GE1/0/1&lt;/data&gt;\n&lt;/edge&gt;\n&lt;edge id=\"2\" source=\"Hostname_B\" target=\"Hostname_C\"&gt;\n  &lt;data key=\"d1\"&gt;100GE1/1/0&lt;/data&gt;\n  &lt;data key=\"d2\"&gt;100GE1/0/0&lt;/data&gt;\n&lt;/edge&gt;\n</code></pre>\n\n<p>If i do this then everything works fine in yED. Is there any way to modify the edge ID's in networkx?\nI thought I could modify the 'edge id' if I set it like an attribute like this:</p>\n\n<pre><code>g.add_edge(host,neighbor,source = intsource, destination = intdest, id=idcount)\n</code></pre>\n\n<p>But I realized it didnt change the edge id only added another attribute for that edge:</p>\n\n<pre><code>&lt;edge id=\"0\" source=\"Hostname_A\" target=\"Hostname_B\"&gt;\n  &lt;data key=\"d1\"&gt;100GE1/0/0&lt;/data&gt;\n  &lt;data key=\"d2\"&gt;100GE1/0/0&lt;/data&gt;\n  &lt;data key=\"d3\"&gt;1&lt;/data&gt;   &lt;-- This is the idcount value\n&lt;/edge&gt;\n</code></pre>\n"}, {"tags": ["python", "pandas"], "answers": [{"tags": [], "owner": {"reputation": 711, "user_id": 9078185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DRErE.jpg?s=128&g=1", "display_name": "Tom", "link": "https://stackoverflow.com/users/9078185/tom"}, "is_accepted": false, "score": -1, "last_activity_date": 1555153366, "creation_date": 1555153366, "answer_id": 55664742, "question_id": 51072140, "link": "https://stackoverflow.com/questions/51072140/userwarning-this-pattern-has-match-groups/55664742#55664742", "title": "UserWarning: This pattern has match groups", "body": "<p>Python gets confused when you search for text that includes parenthesis. I can't just run your code since you are importing your dataframe, but I think if you just did:</p>\n\n<pre><code>iFlow = Sales.loc[Sales['Product'].str.contains('\\Vector HF/LF (Opt 2', na=False), \"18-Jun\"]\n</code></pre>\n\n<p>it will work</p>\n"}], "owner": {"reputation": 111, "user_id": 10002505, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2532c2f1c930a43c687ad63f2b9ce9ab?s=128&d=identicon&r=PG&f=1", "display_name": "Michael Norman", "link": "https://stackoverflow.com/users/10002505/michael-norman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1369, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1555153366, "creation_date": 1530137529, "last_edit_date": 1530146173, "question_id": 51072140, "link": "https://stackoverflow.com/questions/51072140/userwarning-this-pattern-has-match-groups", "title": "UserWarning: This pattern has match groups", "body": "<pre><code>import csv\nimport os\nimport pandas as pd\nos.chdir('C:\\\\Users\\\\khalha\\\\Desktop\\\\RealExcel')\nfilename = 'sales.csv'\n\nSales = pd.read_csv('sales.csv')\niFlow = Sales.loc[Sales['Product'].str.contains('Vector HF/LF (Opt 2)', \nna=False), \"18-Jun\"]\nprint(iFlow)\n\nMaySales = pd.read_csv('maysales.csv')\niFlowmay = MaySales.loc[MaySales['Product'].str.contains('Vector HF/LF (Opt \n2)', na=False), \"18-Jun\"]\nprint(iFlowmay)\n</code></pre>\n\n<p>I get the error message:</p>\n\n<pre>\nC:\\Users\\khalha\\eclipse-workspace\\hariskk\\hey\\hello.py:8: UserWarning: This pattern has match groups. To actually get the groups, use str.extract.\n  iFlow = Sales.loc[Sales['Product'].str.contains('Vector HF/LF (Opt 2)', na=False), \"18-Jun\"]\nSeries([], Name: 18-Jun, dtype: object)\nC:\\Users\\khalha\\eclipse-workspace\\hariskk\\hey\\hello.py:12: UserWarning: This pattern has match groups. To actually get the groups, use str.extract.\n  iFlowmay = MaySales.loc[MaySales['Product'].str.contains('Vector HF/LF (Opt 2)', na=False), \"18-Jun\"]\nSeries([], Name: 18-Jun, dtype: object)\n</pre>\n\n<p>This code works with the first block, but when I add the Maysales portion, it stops working.</p>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 2884, "user_id": 6060083, "user_type": "registered", "accept_rate": 78, "profile_image": "https://graph.facebook.com/10153430563728202/picture?type=large", "display_name": "sudonym", "link": "https://stackoverflow.com/users/6060083/sudonym"}, "edited": false, "score": 0, "creation_date": 1530138064, "post_id": 51072138, "comment_id": 89134179, "body": "Based on the question title, missing desired output and missing input it is unclear to me what you are asking."}, {"owner": {"reputation": 12211, "user_id": 5411817, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Z0g8T.png?s=128&g=1", "display_name": "SherylHohman", "link": "https://stackoverflow.com/users/5411817/sherylhohman"}, "edited": false, "score": 1, "creation_date": 1530143912, "post_id": 51072138, "comment_id": 89135448, "body": "Also please read the documentation on &quot;how to ask&quot;.  Punctuation and formatting <i>really</i> matter. Why would anyone waste so much time just to figure out what you are trying to ask, when you don&#39;t put the effort in to communicate clearly, or care to respect the time of volunteers. Plenty of other questions we can look at. I understand your new to the community. Welcome. Please <code>edit</code> your question to boost your chances of receiving a timely, good answer."}], "answers": [{"tags": [], "owner": {"reputation": 133282, "user_id": 9209546, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qk9vC.jpg?s=128&g=1", "display_name": "jpp", "link": "https://stackoverflow.com/users/9209546/jpp"}, "is_accepted": true, "score": 1, "last_activity_date": 1530138083, "creation_date": 1530138083, "answer_id": 51072222, "question_id": 51072138, "link": "https://stackoverflow.com/questions/51072138/i-have-to-iterate-some-if-else-conditions-for-each-row-in-data-frame-in-python/51072222#51072222", "title": "I have to iterate some if-else conditions for each row in data-frame in python", "body": "<p>You shouldn't need to iterate rows explicitly. In fact, you shouldn't need to calculate the same Boolean values multiple times.</p>\n\n<p>If you wish to prioritise a particular assignment given a condition, you can do so explicitly. Here's one way using <code>numpy.where</code>; we use <code>~</code> to indicate \"negative\".</p>\n\n<pre><code>mask1 = df['Resolution Summary'].str.contains(\"\\\\bHardware failure\\\\b\", case = False)\nmask2 = df['Resolution Summary'].str.contains(\"\\\\brouter\\\\b\", case = False)\n\ndf['flag'] = np.where(mask1, 'yes', '')\ndf['flag'] = np.where(mask2 &amp; ~mask1, 'yes', df['flag'])\n</code></pre>\n\n<p>Of course, in this very trivial case, you can just use one condition:</p>\n\n<pre><code>df['flat'] = np.where(mask1 | mask2, 'yes', '')\n</code></pre>\n"}], "owner": {"reputation": 73, "user_id": 10002343, "user_type": "registered", "profile_image": "https://graph.facebook.com/1653939647976374/picture?type=large", "display_name": "Abhishek Singh", "link": "https://stackoverflow.com/users/10002343/abhishek-singh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1349, "favorite_count": 0, "accepted_answer_id": 51072222, "answer_count": 1, "score": 0, "last_activity_date": 1530185017, "creation_date": 1530137504, "last_edit_date": 1530185017, "question_id": 51072138, "link": "https://stackoverflow.com/questions/51072138/i-have-to-iterate-some-if-else-conditions-for-each-row-in-data-frame-in-python", "title": "I have to iterate some if-else conditions for each row in data-frame in python", "body": "<p>I have to iterate some <code>if-else</code> conditions for each row in <code>dataframe</code> in <code>python</code>. </p>\n\n<p>If the first condition is satisfied for <code>row1</code>, it will answer 'yes' or 'no' by adding one more column for that row and exit.</p>\n\n<p>But if for the <code>row 2</code>, with another other condition satisfied, it shouldn\u2019t overwrite the first row\u2019s \u2018yes\u2019 or \u2018no\u2019. </p>\n\n<p>I want it to be preserved or we can say in second iteration it should check all if else conditions for only <code>row2</code> and then <code>row3</code> and so on. </p>\n\n<p>To be precise, only one row will be check against all the condition and which ever condition satisfy, it will give the output by adding one more column for that row and exit. <img src=\"https://i.stack.imgur.com/KOF82.jpg\" alt=\"input and output\"></p>\n\n<p>I am new to <code>python</code> and the code I wrote is not working.</p>\n\n<p>I have written the below code. Kindly help me.</p>\n\n<pre><code>for index, row in data.iterrows():\n\nif row['Resolution Summary'].str.contains(\"\\\\bHardware failure\\\\b\", case = False) :\n    df['flag'] = np.where(data['Resolution Summary'].str.contains(\"\\\\bHardware failure\\\\b\", case = False), 'yes','')\n\n    elif row['Resolution Summary'].str.contains(\"\\\\brouter\\\\b\", case = False):\n        df['flag'] = np.where(data['Resolution Summary'].str.contains(\"\\\\brouter\\\\b\", case = False), 'yes','')\n</code></pre>\n"}, {"tags": ["python", "pelican"], "answers": [{"comments": [{"owner": {"reputation": 65, "user_id": 9454061, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NVqoG.jpg?s=128&g=1", "display_name": "Ricky White", "link": "https://stackoverflow.com/users/9454061/ricky-white"}, "edited": false, "score": 0, "creation_date": 1530153585, "post_id": 51072224, "comment_id": 89137349, "body": "Thanks. I tried this after your comment. It seems to require a body tag to render content and won&#39;t extend base.html. So it&#39;s not quite the answer, unfortunately."}], "tags": [], "owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "is_accepted": false, "score": 0, "last_activity_date": 1530138090, "creation_date": 1530138090, "answer_id": 51072224, "question_id": 51072113, "link": "https://stackoverflow.com/questions/51072113/pelican-how-can-i-render-html-pages-instead-of-markup/51072224#51072224", "title": "Pelican - How can I render html pages instead of markup?", "body": "<p>from their official documentation</p>\n\n<p><a href=\"http://docs.getpelican.com/en/stable/content.html#writing-content\" rel=\"nofollow noreferrer\">http://docs.getpelican.com/en/stable/content.html#writing-content</a></p>\n\n<blockquote>\n  <p>Pelican can also process HTML files ending in .html and .htm. Pelican\n  interprets the HTML in a very straightforward manner, reading metadata\n  from meta tags, the title from the title tag, and the body out from\n  the body tag:</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 691, "user_id": 8787680, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gefe3.jpg?s=128&g=1", "display_name": "S&#233;bastien Lavoie", "link": "https://stackoverflow.com/users/8787680/s%c3%a9bastien-lavoie"}, "is_accepted": false, "score": 1, "last_activity_date": 1543202547, "last_edit_date": 1543202547, "creation_date": 1543200274, "answer_id": 53474144, "question_id": 51072113, "link": "https://stackoverflow.com/questions/51072113/pelican-how-can-i-render-html-pages-instead-of-markup/53474144#53474144", "title": "Pelican - How can I render html pages instead of markup?", "body": "<p>I was trying to do the same thing as you and finally found the relevant documentation (<a href=\"http://docs.getpelican.com/en/stable/settings.html#template-pages\" rel=\"nofollow noreferrer\">you can find it here</a> where it defines the variable <code>DIRECT_TEMPLATES</code>):</p>\n\n<pre><code>DIRECT_TEMPLATES = ['index', 'categories', 'authors', 'archives']\n</code></pre>\n\n<blockquote>\n  <p>List of templates that are used directly to render content. Typically direct templates are used to generate index pages for collections of content (e.g., tags and category index pages). If the tag and category collections are not needed, set <code>DIRECT_TEMPLATES = ['index', 'archives']</code></p>\n</blockquote>\n\n<p>For example, let's say you have a file <strong>my_file.html</strong> in your <code>templates</code> directory. If you want to render it like other templates files in your theme instead of using only Markdown, you could append an item to the list in the variable <code>DIRECT_TEMPLATES</code> that you will have to define in your configuration file (it is <strong>pelicanconf.py</strong> by default). The result should look similar to this:</p>\n\n<pre><code>DIRECT_TEMPLATES = [\n    'index', 'categories', 'authors', 'archives',  # (default)\n    'my_file'  # other HTML template to render\n]\n</code></pre>\n\n<p>By proceeding this way, <strong>my_file.html</strong> would be rendered as any other HTML file with Jinja2 syntax and all the good stuff you want to use.</p>\n\n<p>I know this comes late but hopefully someone (maybe still you!) will benefit from this answer. It is definitely a very well hidden feature for sure...</p>\n"}], "owner": {"reputation": 65, "user_id": 9454061, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NVqoG.jpg?s=128&g=1", "display_name": "Ricky White", "link": "https://stackoverflow.com/users/9454061/ricky-white"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 374, "favorite_count": 1, "answer_count": 2, "score": 0, "last_activity_date": 1543202547, "creation_date": 1530137354, "question_id": 51072113, "link": "https://stackoverflow.com/questions/51072113/pelican-how-can-i-render-html-pages-instead-of-markup", "title": "Pelican - How can I render html pages instead of markup?", "body": "<p>I'm redoing my Flask site in Pelican as I intend to start blogging. I have html files already for some specific pages (i.e. contact, books, etc) that use bootstrap cards and other features that are not possible in markdown (as far as I know). </p>\n\n<p>How can I render these in the build cycle. There has to be a config variable for that? I found TEMPLATE_PAGES but it didn't seem to work. This has to be possible, right? </p>\n"}, {"tags": ["python", "pyspark", "rdd"], "answers": [{"tags": [], "owner": {"reputation": 1249, "user_id": 7280029, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a84d475c28edcf4a3e6a81dbacc94b5?s=128&d=identicon&r=PG&f=1", "display_name": "hamza tuna", "link": "https://stackoverflow.com/users/7280029/hamza-tuna"}, "is_accepted": false, "score": 1, "last_activity_date": 1530189774, "creation_date": 1530189774, "answer_id": 51083265, "question_id": 51072108, "link": "https://stackoverflow.com/questions/51072108/typeerror-cant-pickle-generator-objects-wihen-using-mappartitions/51083265#51083265", "title": "TypeError: can&#39;t pickle generator objects wihen using mapPartitions", "body": "<p>It is good question about how partitions are implemented internally. MapPartitions input is generator object. In first case each partition has one range object range(x,y) and x is that element. But in second one each partition has 2 objects and x is iterator object so you are putting iterator object to list. I am not sure about its helpful but this is working:</p>\n\n<pre><code>rdd1.mapPartitions(lambda x: [list(x)]).collect() # list(x) is converting iterator object to list\n</code></pre>\n"}], "owner": {"reputation": 20969, "user_id": 2314737, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/RF6KX.jpg?s=128&g=1", "display_name": "user2314737", "link": "https://stackoverflow.com/users/2314737/user2314737"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1438, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1530189774, "creation_date": 1530137331, "question_id": 51072108, "link": "https://stackoverflow.com/questions/51072108/typeerror-cant-pickle-generator-objects-wihen-using-mappartitions", "title": "TypeError: can&#39;t pickle generator objects wihen using mapPartitions", "body": "<p>I'm looking at the partitions of a RDD</p>\n\n<pre><code>&gt;&gt;&gt; rdd = sc.parallelize(range(10), 5)  \n&gt;&gt;&gt; rdd.collect()\n[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]\n\n&gt;&gt;&gt; rdd.glom().collect()\n[[0, 1], [2, 3], [4, 5], [6, 7], [8, 9]]\n\n&gt;&gt;&gt; rdd.mapPartitions(lambda x: [x]).collect()\n[range(0, 2), range(2, 4), range(4, 6), range(6, 8), range(8, 10)]\n</code></pre>\n\n<p>But I get an error with </p>\n\n<pre><code>&gt;&gt;&gt; rdd1 = sc.parallelize([0, 1, 2, 3, 4, 5, 6, 7, 8, 9], 5) \n&gt;&gt;&gt; rdd1.glom().collect()\n[[0, 1], [2, 3], [4, 5], [6, 7], [8, 9]]\n\n&gt;&gt;&gt; rdd1.mapPartitions(lambda x: [x]).collect()\n\nPy4JJavaError                             Traceback (most recent call last)\n&lt;ipython-input-24-5a7f6eb17057&gt; in &lt;module&gt;()\n----&gt; 1 rdd1.mapPartitions(lambda x: [x]).collect()\n\n/usr/local/lib/python3.6/dist-packages/pyspark/rdd.py in collect(self)\n    832         \"\"\"\n    833         with SCCallSiteSync(self.context) as css:\n--&gt; 834             sock_info = self.ctx._jvm.PythonRDD.collectAndServe(self._jrdd.rdd())\n    835         return list(_load_from_socket(sock_info, self._jrdd_deserializer))\n    836 \n\n/usr/local/lib/python3.6/dist-packages/py4j/java_gateway.py in __call__(self, *args)\n   1255         answer = self.gateway_client.send_command(command)\n   1256         return_value = get_return_value(\n-&gt; 1257             answer, self.gateway_client, self.target_id, self.name)\n   1258 \n   1259         for temp_arg in temp_args:\n\n/usr/local/lib/python3.6/dist-packages/py4j/protocol.py in get_return_value(answer, gateway_client, target_id, name)\n    326                 raise Py4JJavaError(\n    327                     \"An error occurred while calling {0}{1}{2}.\\n\".\n--&gt; 328                     format(target_id, \".\", name), value)\n    329             else:\n    330                 raise Py4JError(\n\nPy4JJavaError: An error occurred while calling z:org.apache.spark.api.python.PythonRDD.collectAndServe.\n: org.apache.spark.SparkException: Job aborted due to stage failure: Task 0 in stage 15.0 failed 1 times, most recent failure: Lost task 0.0 in stage 15.0 (TID 70, localhost, executor driver): org.apache.spark.api.python.PythonException: Traceback (most recent call last):\n  File \"/usr/local/lib/python3.6/dist-packages/pyspark/python/lib/pyspark.zip/pyspark/worker.py\", line 230, in main\n    process()\n  File \"/usr/local/lib/python3.6/dist-packages/pyspark/python/lib/pyspark.zip/pyspark/worker.py\", line 225, in process\n    serializer.dump_stream(func(split_index, iterator), outfile)\n  File \"/usr/local/lib/python3.6/dist-packages/pyspark/python/lib/pyspark.zip/pyspark/serializers.py\", line 376, in dump_stream\n    bytes = self.serializer.dumps(vs)\n  File \"/usr/local/lib/python3.6/dist-packages/pyspark/python/lib/pyspark.zip/pyspark/serializers.py\", line 555, in dumps\n    return pickle.dumps(obj, protocol)\nTypeError: can't pickle generator objects\n\n    at org.apache.spark.api.python.BasePythonRunner$ReaderIterator.handlePythonException(PythonRunner.scala:298)\n    at org.apache.spark.api.python.PythonRunner$$anon$1.read(PythonRunner.scala:438)\n    at org.apache.spark.api.python.PythonRunner$$anon$1.read(PythonRunner.scala:421)\n    at org.apache.spark.api.python.BasePythonRunner$ReaderIterator.hasNext(PythonRunner.scala:252)\n    at org.apache.spark.InterruptibleIterator.hasNext(InterruptibleIterator.scala:37)\n    at scala.collection.Iterator$class.foreach(Iterator.scala:893)\n    at org.apache.spark.InterruptibleIterator.foreach(InterruptibleIterator.scala:28)\n    at scala.collection.generic.Growable$class.$plus$plus$eq(Growable.scala:59)\n    at scala.collection.mutable.ArrayBuffer.$plus$plus$eq(ArrayBuffer.scala:104)\n    at scala.collection.mutable.ArrayBuffer.$plus$plus$eq(ArrayBuffer.scala:48)\n    at scala.collection.TraversableOnce$class.to(TraversableOnce.scala:310)\n    at org.apache.spark.InterruptibleIterator.to(InterruptibleIterator.scala:28)\n    at scala.collection.TraversableOnce$class.toBuffer(TraversableOnce.scala:302)\n    at org.apache.spark.InterruptibleIterator.toBuffer(InterruptibleIterator.scala:28)\n    at scala.collection.TraversableOnce$class.toArray(TraversableOnce.scala:289)\n    at org.apache.spark.InterruptibleIterator.toArray(InterruptibleIterator.scala:28)\n    at org.apache.spark.rdd.RDD$$anonfun$collect$1$$anonfun$12.apply(RDD.scala:939)\n    at org.apache.spark.rdd.RDD$$anonfun$collect$1$$anonfun$12.apply(RDD.scala:939)\n    at org.apache.spark.SparkContext$$anonfun$runJob$5.apply(SparkContext.scala:2074)\n    at org.apache.spark.SparkContext$$anonfun$runJob$5.apply(SparkContext.scala:2074)\n    at org.apache.spark.scheduler.ResultTask.runTask(ResultTask.scala:87)\n    at org.apache.spark.scheduler.Task.run(Task.scala:109)\n    at org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:345)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at java.lang.Thread.run(Thread.java:748)\n\nDriver stacktrace:\n    at org.apache.spark.scheduler.DAGScheduler.org$apache$spark$scheduler$DAGScheduler$$failJobAndIndependentStages(DAGScheduler.scala:1602)\n    at org.apache.spark.scheduler.DAGScheduler$$anonfun$abortStage$1.apply(DAGScheduler.scala:1590)\n    at org.apache.spark.scheduler.DAGScheduler$$anonfun$abortStage$1.apply(DAGScheduler.scala:1589)\n    at scala.collection.mutable.ResizableArray$class.foreach(ResizableArray.scala:59)\n    at scala.collection.mutable.ArrayBuffer.foreach(ArrayBuffer.scala:48)\n    at org.apache.spark.scheduler.DAGScheduler.abortStage(DAGScheduler.scala:1589)\n    at org.apache.spark.scheduler.DAGScheduler$$anonfun$handleTaskSetFailed$1.apply(DAGScheduler.scala:831)\n    at org.apache.spark.scheduler.DAGScheduler$$anonfun$handleTaskSetFailed$1.apply(DAGScheduler.scala:831)\n    at scala.Option.foreach(Option.scala:257)\n    at org.apache.spark.scheduler.DAGScheduler.handleTaskSetFailed(DAGScheduler.scala:831)\n    at org.apache.spark.scheduler.DAGSchedulerEventProcessLoop.doOnReceive(DAGScheduler.scala:1823)\n    at org.apache.spark.scheduler.DAGSchedulerEventProcessLoop.onReceive(DAGScheduler.scala:1772)\n    at org.apache.spark.scheduler.DAGSchedulerEventProcessLoop.onReceive(DAGScheduler.scala:1761)\n    at org.apache.spark.util.EventLoop$$anon$1.run(EventLoop.scala:48)\n    at org.apache.spark.scheduler.DAGScheduler.runJob(DAGScheduler.scala:642)\n    at org.apache.spark.SparkContext.runJob(SparkContext.scala:2034)\n    at org.apache.spark.SparkContext.runJob(SparkContext.scala:2055)\n    at org.apache.spark.SparkContext.runJob(SparkContext.scala:2074)\n    at org.apache.spark.SparkContext.runJob(SparkContext.scala:2099)\n    at org.apache.spark.rdd.RDD$$anonfun$collect$1.apply(RDD.scala:939)\n    at org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:151)\n    at org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:112)\n    at org.apache.spark.rdd.RDD.withScope(RDD.scala:363)\n    at org.apache.spark.rdd.RDD.collect(RDD.scala:938)\n    at org.apache.spark.api.python.PythonRDD$.collectAndServe(PythonRDD.scala:162)\n    at org.apache.spark.api.python.PythonRDD.collectAndServe(PythonRDD.scala)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at py4j.reflection.MethodInvoker.invoke(MethodInvoker.java:244)\n    at py4j.reflection.ReflectionEngine.invoke(ReflectionEngine.java:357)\n    at py4j.Gateway.invoke(Gateway.java:282)\n    at py4j.commands.AbstractCommand.invokeMethod(AbstractCommand.java:132)\n    at py4j.commands.CallCommand.execute(CallCommand.java:79)\n    at py4j.GatewayConnection.run(GatewayConnection.java:238)\n    at java.lang.Thread.run(Thread.java:748)\nCaused by: org.apache.spark.api.python.PythonException: Traceback (most recent call last):\n  File \"/usr/local/lib/python3.6/dist-packages/pyspark/python/lib/pyspark.zip/pyspark/worker.py\", line 230, in main\n    process()\n  File \"/usr/local/lib/python3.6/dist-packages/pyspark/python/lib/pyspark.zip/pyspark/worker.py\", line 225, in process\n    serializer.dump_stream(func(split_index, iterator), outfile)\n  File \"/usr/local/lib/python3.6/dist-packages/pyspark/python/lib/pyspark.zip/pyspark/serializers.py\", line 376, in dump_stream\n    bytes = self.serializer.dumps(vs)\n  File \"/usr/local/lib/python3.6/dist-packages/pyspark/python/lib/pyspark.zip/pyspark/serializers.py\", line 555, in dumps\n    return pickle.dumps(obj, protocol)\nTypeError: can't pickle generator objects\n\n    at org.apache.spark.api.python.BasePythonRunner$ReaderIterator.handlePythonException(PythonRunner.scala:298)\n    at org.apache.spark.api.python.PythonRunner$$anon$1.read(PythonRunner.scala:438)\n    at org.apache.spark.api.python.PythonRunner$$anon$1.read(PythonRunner.scala:421)\n    at org.apache.spark.api.python.BasePythonRunner$ReaderIterator.hasNext(PythonRunner.scala:252)\n    at org.apache.spark.InterruptibleIterator.hasNext(InterruptibleIterator.scala:37)\n    at scala.collection.Iterator$class.foreach(Iterator.scala:893)\n    at org.apache.spark.InterruptibleIterator.foreach(InterruptibleIterator.scala:28)\n    at scala.collection.generic.Growable$class.$plus$plus$eq(Growable.scala:59)\n    at scala.collection.mutable.ArrayBuffer.$plus$plus$eq(ArrayBuffer.scala:104)\n    at scala.collection.mutable.ArrayBuffer.$plus$plus$eq(ArrayBuffer.scala:48)\n    at scala.collection.TraversableOnce$class.to(TraversableOnce.scala:310)\n    at org.apache.spark.InterruptibleIterator.to(InterruptibleIterator.scala:28)\n    at scala.collection.TraversableOnce$class.toBuffer(TraversableOnce.scala:302)\n    at org.apache.spark.InterruptibleIterator.toBuffer(InterruptibleIterator.scala:28)\n    at scala.collection.TraversableOnce$class.toArray(TraversableOnce.scala:289)\n    at org.apache.spark.InterruptibleIterator.toArray(InterruptibleIterator.scala:28)\n    at org.apache.spark.rdd.RDD$$anonfun$collect$1$$anonfun$12.apply(RDD.scala:939)\n    at org.apache.spark.rdd.RDD$$anonfun$collect$1$$anonfun$12.apply(RDD.scala:939)\n    at org.apache.spark.SparkContext$$anonfun$runJob$5.apply(SparkContext.scala:2074)\n    at org.apache.spark.SparkContext$$anonfun$runJob$5.apply(SparkContext.scala:2074)\n    at org.apache.spark.scheduler.ResultTask.runTask(ResultTask.scala:87)\n    at org.apache.spark.scheduler.Task.run(Task.scala:109)\n    at org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:345)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    ... 1 more\n</code></pre>\n\n<p>Why?</p>\n"}, {"tags": ["python", "python-2.7"], "comments": [{"owner": {"reputation": 45308, "user_id": 3483203, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/592wq.png?s=128&g=1", "display_name": "user3483203", "link": "https://stackoverflow.com/users/3483203/user3483203"}, "edited": false, "score": 1, "creation_date": 1530137433, "post_id": 51072094, "comment_id": 89134005, "body": "Do heterogenous lists count as lists of lists if any of the elements are lists?  For example, what should <code>[[1,2,3], 1,2,3]</code> return?"}, {"owner": {"reputation": 215, "user_id": 7874910, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/d5dc3ea26efec1c89c9470c7be7bb112?s=128&d=identicon&r=PG&f=1", "display_name": "meteor23", "link": "https://stackoverflow.com/users/7874910/meteor23"}, "reply_to_user": {"reputation": 45308, "user_id": 3483203, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/592wq.png?s=128&g=1", "display_name": "user3483203", "link": "https://stackoverflow.com/users/3483203/user3483203"}, "edited": false, "score": 0, "creation_date": 1530137516, "post_id": 51072094, "comment_id": 89134024, "body": "@user3483203, True I am expected"}], "answers": [{"comments": [{"owner": {"reputation": 1589, "user_id": 4870915, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8163a9b5d6135e177bec139190d6ca47?s=128&d=identicon&r=PG&f=1", "display_name": "Gelineau", "link": "https://stackoverflow.com/users/4870915/gelineau"}, "edited": false, "score": 6, "creation_date": 1530138144, "post_id": 51072114, "comment_id": 89134196, "body": "you can even avoid the double parentheses: <code>any(isinstance(a, list) for a in list1)</code> It does stop calculation as soon as it finds a True. And it is more readable"}], "tags": [], "owner": {"reputation": 1809, "user_id": 9801728, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LXQkV.jpg?s=128&g=1", "display_name": "MoxieBall", "link": "https://stackoverflow.com/users/9801728/moxieball"}, "is_accepted": true, "score": 8, "last_activity_date": 1530139779, "last_edit_date": 1530139779, "creation_date": 1530137362, "answer_id": 51072114, "question_id": 51072094, "link": "https://stackoverflow.com/questions/51072094/how-to-check-it-is-list-or-list-of-list-in-python/51072114#51072114", "title": "How to Check it is list or list of list in python", "body": "<p>If you want to know if anything in the list is a list:  </p>\n\n<pre><code>any(isinstance(a, list) for a in list1) \n</code></pre>\n\n<p>If you want to know if all the things in the list are lists:  </p>\n\n<pre><code>all(isinstance(a, list) for a in list1)\n</code></pre>\n\n<p>This takes advantage of passing a <a href=\"https://www.python.org/dev/peps/pep-0289/\" rel=\"nofollow noreferrer\">generator expression</a> to <code>all()</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 537, "user_id": 7869621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1bd1e52c50a93fb4403a9dd0d2192276?s=128&d=identicon&r=PG&f=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/7869621/rob"}, "is_accepted": false, "score": -4, "last_activity_date": 1530137754, "creation_date": 1530137754, "answer_id": 51072169, "question_id": 51072094, "link": "https://stackoverflow.com/questions/51072094/how-to-check-it-is-list-or-list-of-list-in-python/51072169#51072169", "title": "How to Check it is list or list of list in python", "body": "<pre><code>list1 = ['a', 'b', 'c']\nlist2 = [['a', 'b', 'c'], ['e', 'f', 'g']]\n\nprint(type(list1[0]))\nprint(type(list2[0]))\n\nOutput:\n&lt;class 'str'&gt;\n&lt;class 'list'&gt;\n</code></pre>\n"}], "owner": {"reputation": 215, "user_id": 7874910, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/d5dc3ea26efec1c89c9470c7be7bb112?s=128&d=identicon&r=PG&f=1", "display_name": "meteor23", "link": "https://stackoverflow.com/users/7874910/meteor23"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 73, "favorite_count": 1, "accepted_answer_id": 51072114, "answer_count": 2, "score": 0, "last_activity_date": 1530139779, "creation_date": 1530137269, "question_id": 51072094, "link": "https://stackoverflow.com/questions/51072094/how-to-check-it-is-list-or-list-of-list-in-python", "title": "How to Check it is list or list of list in python", "body": "<p>I have two lists below</p>\n\n<pre><code> list1 = ['a', 'b', 'c']\n list2 = [['a', 'b', 'c'], ['e', 'f', 'g']]\n</code></pre>\n\n<p>Now I have to find </p>\n\n<pre><code>Is list1 is list of list\nExpected result \"False\"\n\nIs list2 is list of list\nExpected result is \"True\"\n</code></pre>\n\n<p>How to achieve this </p>\n"}, {"tags": ["python", "python-3.x", "pandas"], "answers": [{"comments": [{"owner": {"reputation": 1170, "user_id": 6745924, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6mm6L.png?s=128&g=1", "display_name": "machetazo", "link": "https://stackoverflow.com/users/6745924/machetazo"}, "edited": false, "score": 0, "creation_date": 1530138280, "post_id": 51072105, "comment_id": 89134236, "body": "The problem with this is that im trying to <b>add</b> to an existing dataframe. I have tried creating the dataframe <code>df = pd.DataFrame(columns=[&#39;Name&#39;, &#39;CHildren&#39;, &#39;Siblings&#39;])</code> and then adding to it: <code>df.append(list).T</code> but it doesnt seem to work"}, {"owner": {"reputation": 45308, "user_id": 3483203, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/592wq.png?s=128&g=1", "display_name": "user3483203", "link": "https://stackoverflow.com/users/3483203/user3483203"}, "reply_to_user": {"reputation": 1170, "user_id": 6745924, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6mm6L.png?s=128&g=1", "display_name": "machetazo", "link": "https://stackoverflow.com/users/6745924/machetazo"}, "edited": false, "score": 1, "creation_date": 1530138594, "post_id": 51072105, "comment_id": 89134315, "body": "@machetazo I lost my mind for a second, just updated my answer with something 100x cleaner"}], "tags": [], "owner": {"reputation": 45308, "user_id": 3483203, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/592wq.png?s=128&g=1", "display_name": "user3483203", "link": "https://stackoverflow.com/users/3483203/user3483203"}, "is_accepted": true, "score": 2, "last_activity_date": 1530138642, "last_edit_date": 1530138642, "creation_date": 1530137310, "answer_id": 51072105, "question_id": 51072062, "link": "https://stackoverflow.com/questions/51072062/list-of-lists-to-row-in-pandas-dataframe/51072105#51072105", "title": "List of lists to row in Pandas Dataframe", "body": "<p>Just wrap it in brackets:</p>\n\n<pre><code>arr = ['John', ['Jack', 'Michael', 'Ian'], ['Melissa', 'Hannah']]\ndf = pd.DataFrame([arr], columns=['Name', 'Children', 'Siblings'])\n\n   Name              Children           Siblings\n0  John  [Jack, Michael, Ian]  [Melissa, Hannah]\n</code></pre>\n\n<p>Since you mentioned you are appending to an existing dataframe:</p>\n\n<pre><code>df\n\n   Name              Children           Sublings\n0  John  [Jack, Michael, Ian]  [Melissa, Hannah]\n\ndf.append(pd.DataFrame([arr], columns=df.columns)).reset_index(drop=True)\n\n   Name              Children           Siblings\n0  John  [Jack, Michael, Ian]  [Melissa, Hannah]\n1  John  [Jack, Michael, Ian]  [Melissa, Hannah]\n</code></pre>\n"}], "owner": {"reputation": 1170, "user_id": 6745924, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6mm6L.png?s=128&g=1", "display_name": "machetazo", "link": "https://stackoverflow.com/users/6745924/machetazo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1291, "favorite_count": 0, "accepted_answer_id": 51072105, "answer_count": 1, "score": 1, "last_activity_date": 1530138642, "creation_date": 1530137048, "last_edit_date": 1530137998, "question_id": 51072062, "link": "https://stackoverflow.com/questions/51072062/list-of-lists-to-row-in-pandas-dataframe", "title": "List of lists to row in Pandas Dataframe", "body": "<p>I have a list of lists:</p>\n\n<pre><code>list = ['John', ['Jack', 'Michael', 'Ian'], ['Melissa', 'Hannah']]\n</code></pre>\n\n<p>Which I want to transform into a row of an existing Dataframe:</p>\n\n<pre><code>Name         Children              Siblings\nJohn     Jack, Michael, Ian     Melissa, Hannah\n</code></pre>\n\n<p>Does anyone have an idea on how to accomplish this?</p>\n\n<p>I'm new to Pandas and I have only found ways of converting lists into columns into a new dataframe for example:</p>\n\n<pre><code>df = pd.DataFrame(letters).T\ndf.columns = [0, 1, 2]\n\nprint (df)\n   0  1  2\n0  a  b  c \n</code></pre>\n"}, {"tags": ["python", "text", "python-unicode", "notepad"], "comments": [{"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1530137228, "post_id": 51072059, "comment_id": 89133948, "body": "Are you using Python 2, or Python 3? Either way, the root problem is that you&#39;re trying to read something that&#39;s almost certainly UTF-16-BE as if it were ASCII or Windows-1252 or Latin-1 or similar, but the right way to fix it will be different."}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "reply_to_user": {"reputation": 1809, "user_id": 9801728, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LXQkV.jpg?s=128&g=1", "display_name": "MoxieBall", "link": "https://stackoverflow.com/users/9801728/moxieball"}, "edited": false, "score": 1, "creation_date": 1530137351, "post_id": 51072059, "comment_id": 89133980, "body": "@MoxieBall I&#39;m not sure it&#39;s a dup, because that question is 2.x-specific. (It&#39;s also about UTF-16-LE with a BOM, rather than UTF-16-BE without, but that&#39;s not a big difference.)"}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 1, "creation_date": 1530137498, "post_id": 51072059, "comment_id": 89134019, "body": "Actually, I just noticed that you only printed line 4, not line 0. So this actually <i>might</i> be UTF-16-LE with a BOM. If you call <code>readlines()</code> on that, it&#39;ll split on the half-character that ends in <code>\\n</code>, and start the next line with an extra <code>\\0</code>. So (assuming the text is mostly ASCII) all the lines after the first can end up looking like UTF-16-BE even though they&#39;re -LE."}, {"owner": {"reputation": 1643, "user_id": 8340867, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/D3XJl.jpg?s=128&g=1", "display_name": "ThunderHorn", "link": "https://stackoverflow.com/users/8340867/thunderhorn"}, "edited": false, "score": 0, "creation_date": 1530137759, "post_id": 51072059, "comment_id": 89134097, "body": ".decode(&quot;utf-16&quot;) you must decode the whole file or the string"}], "answers": [{"comments": [{"owner": {"reputation": 5292, "user_id": 3457761, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/752adda0d657ca9836c035f2f84948eb?s=128&d=identicon&r=PG&f=1", "display_name": "Harsha Biyani", "link": "https://stackoverflow.com/users/3457761/harsha-biyani"}, "edited": false, "score": 1, "creation_date": 1530169908, "post_id": 51072183, "comment_id": 89142348, "body": "please add some explanation"}, {"owner": {"reputation": 19, "user_id": 1933192, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb449b2b3522d4c483559501225339e2?s=128&d=identicon&r=PG", "display_name": "user1933192", "link": "https://stackoverflow.com/users/1933192/user1933192"}, "edited": false, "score": 0, "creation_date": 1530199040, "post_id": 51072183, "comment_id": 89161206, "body": "Thanks for this suggestion. Currently using this method i get a list of length 1.      [u&#39;\\u6144\\u6174\\u4620\\u6c69\\u2065\\u3a20\\u5920\\u5c3a\\u5550\\u4&zwnj;&#8203;952\\u5946\\u545c\\u534&zwnj;&#8203;1\\u534b\\u305c\\u3236\\&zwnj;&#8203;u3130\\u5f38\\u6956\\u5&zwnj;&#8203;669\\u505f\\u4552\\u5f5&zwnj;&#8203;0\\u4146\\u505c\\u4552\\&zwnj;&#8203;u5f50\\u4553\\u2051\\u3&zwnj;&#8203;032\\u3831\\u302d\\u2d3&zwnj;&#8203;6\\u3032\\u3020\\u2d37\\&zwnj;&#8203;u3335\\u342d\\u5c39\\u3&zwnj;&#8203;64e\\u3338\\u3836\\ (etc...)  So it looks like it gets decoded but not into anything particularly useful. I also tried switching to &quot;utf-8&quot; but that fails to run."}, {"owner": {"reputation": 19, "user_id": 1933192, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb449b2b3522d4c483559501225339e2?s=128&d=identicon&r=PG", "display_name": "user1933192", "link": "https://stackoverflow.com/users/1933192/user1933192"}, "edited": false, "score": 0, "creation_date": 1530201147, "post_id": 51072183, "comment_id": 89162546, "body": "I get the error &quot;TypeError: &#39;encoding&#39; is an invalid keyword argument for this function&quot; -but it might be related to me using Python 2.7 as part of Python(x,y). Now that you&#39;ve pointed me in this direction i&#39;m reading some documentation on the io module."}, {"owner": {"reputation": 1643, "user_id": 8340867, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/D3XJl.jpg?s=128&g=1", "display_name": "ThunderHorn", "link": "https://stackoverflow.com/users/8340867/thunderhorn"}, "edited": false, "score": 0, "creation_date": 1530202503, "post_id": 51072183, "comment_id": 89163306, "body": "yeah sorry i was in the train and was typing from my phone couldn&#39;t compile sorry"}, {"owner": {"reputation": 19, "user_id": 1933192, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb449b2b3522d4c483559501225339e2?s=128&d=identicon&r=PG", "display_name": "user1933192", "link": "https://stackoverflow.com/users/1933192/user1933192"}, "edited": false, "score": 0, "creation_date": 1530202883, "post_id": 51072183, "comment_id": 89163507, "body": "I think your newest edit works. tried this and it seems to work correctly. ---------- ---------- with io.open(Working_File,&#39;rt&#39;) as WorkTXT: ---------- ---------- &#39;rt&#39; seems to indicate to python that the data should spit out as text and it figures out the encoding type by itself. You were very helpful, thanks."}], "tags": [], "owner": {"reputation": 1643, "user_id": 8340867, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/D3XJl.jpg?s=128&g=1", "display_name": "ThunderHorn", "link": "https://stackoverflow.com/users/8340867/thunderhorn"}, "is_accepted": false, "score": 1, "last_activity_date": 1530202457, "last_edit_date": 1530202457, "creation_date": 1530137849, "answer_id": 51072183, "question_id": 51072059, "link": "https://stackoverflow.com/questions/51072059/python-2-7-reads-encoded-text-file-as-code-rather-than-text-fixed-with-io-modu/51072183#51072183", "title": "Python 2.7 reads encoded text file as code rather than text. (Fixed with io module)", "body": "<p>The page content is encoded i googled your output and it said it was utf-16 \nif you decode the file after reading it everything becomes in plain text </p>\n\n<pre><code>import io\n\nwith io.open(Working_File,'r', encoding='utf-16-le' ) as WorkTXT:\n    #here you read the whole file -&gt; decode it -&gt; and split it to lines \n    #now you are working with a plain text :) \n    WorkTXT_Lines = WorkTXT.readlines() \n    for line in WorkTXT_Lines:\n        print(line)\n</code></pre>\n"}], "owner": {"reputation": 19, "user_id": 1933192, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb449b2b3522d4c483559501225339e2?s=128&d=identicon&r=PG", "display_name": "user1933192", "link": "https://stackoverflow.com/users/1933192/user1933192"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 81, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1530217981, "creation_date": 1530136996, "last_edit_date": 1530217981, "question_id": 51072059, "link": "https://stackoverflow.com/questions/51072059/python-2-7-reads-encoded-text-file-as-code-rather-than-text-fixed-with-io-modu", "title": "Python 2.7 reads encoded text file as code rather than text. (Fixed with io module)", "body": "<p>I have a text file (*.txt) which displays as plain text when opened in notepad. When i attempt to read the file into python:</p>\n\n<pre><code>with open(Working_File,'r') as WorkTXT:\n    WorkTXT_Lines = WorkTXT.readlines()\n    WorkTXT.close()\n</code></pre>\n\n<p>My script then fails because the text is being converted into something else. I can manually test what's in the list using the console:</p>\n\n<pre><code>In[51]: WorkTXT_Lines[4]\nOut[51]: \"\\x00T\\x00h\\x00e\\x00 \\x00A\\x00c\\x00q\\x00.\\x00 \\x00M\\x00e\\x00t\\x00h\\x00o\\x00d\\x00'\\x00s\\x00 \\x00I\\x00n\\x00s\\x00t\\x00r\\x00u\\x00m\\x00e\\x00n\\x00t\\x00 \\x00P\\x00a\\x00r\\x00a\\x00m\\x00e\\x00t\\x00e\\x00r\\x00s\\x00 \\x00f\\x00o\\x00r\\x00 \\x00t\\x00h\\x00e\\x00 \\x00R\\x00u\\x00n\\x00 \\x00w\\x00e\\x00r\\x00e\\x00 \\x00:\\x00 \\x00\\r\\x00\\n\"\n</code></pre>\n\n<p>If i open the original text file and copy-paste the text into a new text file then run it seems to pick up actual text and the script works correctly. That does not help though as i am parsing through hundreds of text files generated from a lab instrument.</p>\n\n<p>Any help is appreciated, even something like an OS command to alter the text file.</p>\n\n<p>Edit - was able to solve the issue after being led in the correct direction. <a href=\"https://docs.python.org/2/library/io.html?highlight=io#io.open\" rel=\"nofollow noreferrer\"> The io module</a> is able to decode the text file and \"read as text (rt)\"</p>\n\n<pre><code>import io\nwith io.open(Working_File,'rt') as WorkTXT:\n    WorkTXT_Lines = WorkTXT.readlines()\n    WorkTXT.close()\n</code></pre>\n"}, {"tags": ["python", "atom-editor", "textblob"], "comments": [{"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 1, "creation_date": 1530137071, "post_id": 51072007, "comment_id": 89133890, "body": "Are you sure you&#39;re running the script with the same Python interpreter that you used to install <code>textblob</code>? This looks like macOS, so if you&#39;re just running it with <code>python myscript.py</code>, you&#39;re using Apple&#39;s pre-installed Python 2.7, not your Python 3.6. To use the latter, use <code>python3 myscript.py</code>. And similarly, if you&#39;re using Atom to run your script, you probably have to configure it to use <code>&#47;usr&#47;local&#47;bin&#47;python3</code> or <code>&#47;Library&#47;Frameworks&#47;Python.framework&#47;Versions&#47;3.6&#47;bin&#47;python&zwnj;&#8203;3</code> instead of <code>&#47;usr&#47;bin&#47;python</code>."}, {"owner": {"reputation": 355, "user_id": 7303062, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/37f8832e2577e85f3a259a04002fa630?s=128&d=identicon&r=PG", "display_name": "beth", "link": "https://stackoverflow.com/users/7303062/beth"}, "reply_to_user": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1530139098, "post_id": 51072007, "comment_id": 89134433, "body": "Yes, that worked thank you! Had to install the package atom-runner and in the code change python -&gt; python3."}, {"owner": {"reputation": 355, "user_id": 7303062, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/37f8832e2577e85f3a259a04002fa630?s=128&d=identicon&r=PG", "display_name": "beth", "link": "https://stackoverflow.com/users/7303062/beth"}, "reply_to_user": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1530139144, "post_id": 51072007, "comment_id": 89134445, "body": "Also ran &quot;which python3&quot; and added the path to the top of my file &quot;#!/Library/Frameworks/Python.framework/Versions/3.6/bin/pyt&zwnj;&#8203;hon3&quot;. All working now thanks!"}], "answers": [{"tags": [], "owner": {"reputation": 355, "user_id": 7303062, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/37f8832e2577e85f3a259a04002fa630?s=128&d=identicon&r=PG", "display_name": "beth", "link": "https://stackoverflow.com/users/7303062/beth"}, "is_accepted": false, "score": 0, "last_activity_date": 1530139246, "creation_date": 1530139246, "answer_id": 51072378, "question_id": 51072007, "link": "https://stackoverflow.com/questions/51072007/importerror-no-module-named-textblob/51072378#51072378", "title": "ImportError: No module named textblob", "body": "<p>Yes, that worked thank you! </p>\n\n<p>Had to install the <strong>package atom-runner</strong> and in the code change <strong>python</strong> -> <strong>python3.</strong> </p>\n\n<p>Also ran</p>\n\n<pre><code>which python3\n</code></pre>\n\n<p>and added the path to the top of my py file:</p>\n\n<pre><code>#!/Library/Frameworks/Python.framework/Versions/3.6/bin/python\n</code></pre>\n"}], "owner": {"reputation": 355, "user_id": 7303062, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/37f8832e2577e85f3a259a04002fa630?s=128&d=identicon&r=PG", "display_name": "beth", "link": "https://stackoverflow.com/users/7303062/beth"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 10040, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1613383455, "creation_date": 1530136692, "question_id": 51072007, "link": "https://stackoverflow.com/questions/51072007/importerror-no-module-named-textblob", "title": "ImportError: No module named textblob", "body": "<p>I am using Atom and just getting started with Python. \nWhen I try to run this code:</p>\n\n<pre><code>from textblob import TextBlob\nfrom vaderSentiment.vaderSentiment import SentimentIntensityAnalyzer\n\nanalysis = TextBlob(\"TextBlob sure looks like it has some interesting \nfeatures\")\n\nprint(analysis.tags)\n</code></pre>\n\n<p>I get this:</p>\n\n<pre><code>Traceback (most recent call last):\nFile \"/Users/bethwalsh/Documents/GitHub/automated-personas/py/test_001.py\", \nline 1, in &lt;module&gt;\nfrom textblob import TextBlob\nImportError: No module named textblob\n</code></pre>\n\n<p>I have tried to install textblob but still no change:</p>\n\n<pre><code>$ pip3 install textblob\nRequirement already satisfied: textblob in \n/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages \n(0.15.1)\n</code></pre>\n\n<p>Any ideas?</p>\n"}, {"tags": ["python", "tensorflow", "optimization"], "answers": [{"comments": [{"owner": {"reputation": 351, "user_id": 9537219, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f31426d3088cdfab9d355b10f682bb47?s=128&d=identicon&r=PG&f=1", "display_name": "ztyh", "link": "https://stackoverflow.com/users/9537219/ztyh"}, "edited": false, "score": 0, "creation_date": 1530192014, "post_id": 51073040, "comment_id": 89156278, "body": "Thanks, I tried it. Unfortunately it still puts out <code>nan</code> weights. I will look over my loss function again, and make sure it always outputs a finite number."}, {"owner": {"reputation": 351, "user_id": 9537219, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f31426d3088cdfab9d355b10f682bb47?s=128&d=identicon&r=PG&f=1", "display_name": "ztyh", "link": "https://stackoverflow.com/users/9537219/ztyh"}, "edited": false, "score": 0, "creation_date": 1530197528, "post_id": 51073040, "comment_id": 89160134, "body": "I&#39;ve reopened. My loss, be it weird, still gives an initial non <code>nan</code> output. Yet the slightest update completely destroys it. This means that the derivative of the loss is infinite or <code>nan</code>?"}, {"owner": {"reputation": 351, "user_id": 9537219, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f31426d3088cdfab9d355b10f682bb47?s=128&d=identicon&r=PG&f=1", "display_name": "ztyh", "link": "https://stackoverflow.com/users/9537219/ztyh"}, "edited": false, "score": 2, "creation_date": 1530197853, "post_id": 51073040, "comment_id": 89160401, "body": "So I had a square root in my loss. Derivative of that is <code>0.5&#47;sqrt(x)</code> if <code>x=0</code>, this will be an issue, even though <code>sqrt(0)</code> is not. So I changed it to <code>sqrt(x+e)</code>."}], "tags": [], "owner": {"reputation": 25553, "user_id": 4790871, "user_type": "registered", "accept_rate": 99, "profile_image": "https://lh4.googleusercontent.com/-7sCm6Bl96nw/AAAAAAAAAAI/AAAAAAAAAH4/0LGbJtwJZd0/photo.jpg?sz=128", "display_name": "David Parks", "link": "https://stackoverflow.com/users/4790871/david-parks"}, "is_accepted": true, "score": 1, "last_activity_date": 1530144799, "creation_date": 1530144799, "answer_id": 51073040, "question_id": 51071994, "link": "https://stackoverflow.com/questions/51071994/tensorflow-optimizer-outputs-nan-even-if-i-set-the-learning-rate-as-small-as-pos/51073040#51073040", "title": "tensorflow optimizer outputs nan even if I set the learning rate as small as possible", "body": "<p>I suspect your problem is here:</p>\n\n<pre><code>W1=tf.Variable(np.random.rand(4,hidden_nodes),dtype=tf.float64)\nW2=tf.Variable(np.random.rand(hidden_nodes,2),dtype=tf.float64)\n</code></pre>\n\n<p>Try this out:</p>\n\n<pre><code>W1 = tf.get_variable(\"W1\", shape=..., dtype=...,\n                     initializer=tf.contrib.layers.xavier_initializer())\nW2 = tf.get_variable(\"W2\", shape=..., dtype=...,\n                     initializer=tf.contrib.layers.xavier_initializer())\n</code></pre>\n\n<p>Your weight initialization is in the [0,1] range, which are quite large weights. That's going to start the network off with wild gradient swings that are likely to throw you into a <code>NaN</code> situation.</p>\n\n<p>The xavier initializer will take into account the number of inputs to a node and initialize the value such that you aren't saturating a node. In lay terms it initializes the weights intelligently depending on your architecture.</p>\n\n<p>Note that there is a convoutional version of this initializer too.</p>\n\n<p>Optionally, as a quick test, you could cut down the size of your weight initialization by simply multiplying the random weights by a small value such as 1e-4.</p>\n\n<p>Post a comment back here if that doesn't resolve the issue.</p>\n"}], "owner": {"reputation": 351, "user_id": 9537219, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f31426d3088cdfab9d355b10f682bb47?s=128&d=identicon&r=PG&f=1", "display_name": "ztyh", "link": "https://stackoverflow.com/users/9537219/ztyh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 275, "favorite_count": 0, "accepted_answer_id": 51073040, "answer_count": 1, "score": 1, "last_activity_date": 1530144799, "creation_date": 1530136647, "question_id": 51071994, "link": "https://stackoverflow.com/questions/51071994/tensorflow-optimizer-outputs-nan-even-if-i-set-the-learning-rate-as-small-as-pos", "title": "tensorflow optimizer outputs nan even if I set the learning rate as small as possible", "body": "<p>Below is the code.</p>\n\n<pre><code>def create_train_model(hidden_nodes,num_iters):\n    tf.reset_default_graph()\n    X=tf.placeholder(shape=(120,4),dtype=tf.float64,name='X')\n    y=tf.placeholder(shape=(120,1),dtype=tf.float64,name='y')\n    W1=tf.Variable(np.random.rand(4,hidden_nodes),dtype=tf.float64)\n    W2=tf.Variable(np.random.rand(hidden_nodes,2),dtype=tf.float64)\n    A1=tf.sigmoid(tf.matmul(X,W1))\n    U_est=tf.sigmoid(tf.matmul(A1,W2))\n    loss=fuloss3(U_est,y)\n    optimizer=tf.train.AdagradOptimizer(4.9406564584124654e-324)\n    TRAIN=optimizer.minimize(loss)\n    init=tf.initialize_all_variables()\n    sess=tf.Session()\n    sess.run(init)\n    for i in range(num_iters):\n        pout=sess.run(loss,feed_dict={X: Xtrain, \n                                  y: ytrain})\n        sess.run(TRAIN,feed_dict={X: Xtrain, \n                                  y: ytrain})\n        loss_plot[hidden_nodes][i]=sess.run(loss,feed_dict={X: Xtrain,y: \n                                                            ytrain})\n        print(pout)\n        weights1=sess.run(W1)\n        weights2=sess.run(W2)\n        print(weights1)\n        print(weights2)\n    print('loss (hidden nodes: %d, iterations: %d): %.2f'%(hidden_nodes,\n                            num_iters,loss_plot[hidden_nodes][num_iters-1]))\n    sess.close()\n    return weights1, weights2\n</code></pre>\n\n<p><code>print(pout)</code> returns a non <code>nan</code> number. While after training, the weights come out all <code>nan</code>. Even when I have set the learning rate to be the smallest possible. Why would this happen? With learning rate so small you're basically not moving the variable. The fact that the initial run on loss gave a valid result, as evident from <code>pout</code>, means that its not an issue with how I set my loss. Thanks in advance.</p>\n"}, {"tags": ["python", "python-3.x", "tkinter"], "comments": [{"owner": {"reputation": 8762, "user_id": 1709364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40e026958109464eb03fd70b67fab155?s=128&d=identicon&r=PG", "display_name": "jasonharper", "link": "https://stackoverflow.com/users/1709364/jasonharper"}, "edited": false, "score": 0, "creation_date": 1530137377, "post_id": 51071984, "comment_id": 89133986, "body": "I can&#39;t duplicate your problem, so I&#39;m not really sure what&#39;s going wrong - but I will point out that you should not be calling <code>Tk()</code> more than once in any program."}, {"owner": {"user_type": "does_not_exist", "display_name": "user7454726"}, "reply_to_user": {"reputation": 8762, "user_id": 1709364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40e026958109464eb03fd70b67fab155?s=128&d=identicon&r=PG", "display_name": "jasonharper", "link": "https://stackoverflow.com/users/1709364/jasonharper"}, "edited": false, "score": 0, "creation_date": 1530137871, "post_id": 51071984, "comment_id": 89134128, "body": "Okay, I&#39;ll fix that and see if anything changes. If I have two different functions doing this, should i call <code>Tk()</code> once in each one?"}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user7454726"}, "edited": false, "score": 0, "creation_date": 1530138476, "post_id": 51072159, "comment_id": 89134281, "body": "That did it! Thanks!"}, {"owner": {"reputation": 2539, "user_id": 5345646, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/hTuR0.jpg?s=128&g=1", "display_name": "Mooncrater", "link": "https://stackoverflow.com/users/5345646/mooncrater"}, "edited": false, "score": 0, "creation_date": 1598517395, "post_id": 51072159, "comment_id": 112486533, "body": "Can it be used to select multiple files at the same time?"}], "tags": [], "owner": {"reputation": 11466, "user_id": 2229945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfbf044eccb8835deec653dae32d56e7?s=128&d=identicon&r=PG", "display_name": "Novel", "link": "https://stackoverflow.com/users/2229945/novel"}, "is_accepted": true, "score": 0, "last_activity_date": 1530138843, "last_edit_date": 1530138843, "creation_date": 1530137701, "answer_id": 51072159, "question_id": 51071984, "link": "https://stackoverflow.com/questions/51071984/tkinter-askopenfilename-wont-open/51072159#51072159", "title": "Tkinter askopenfilename() won&#39;t open", "body": "<p>Try <code>easygui</code> instead. It's also built on tkinter, but unlike filedialog it's made to run without a full GUI. </p>\n\n<p>Since you are using Windows, use this command in the command line (not in python) to install easygui:</p>\n\n<pre><code>py -m pip install easygui\n</code></pre>\n\n<p>then try this code: </p>\n\n<pre><code>import easygui\n\ndata_file_path = easygui.fileopenbox()\n\n# other code with prompts, mostly print statements\n\ndrug_library_path = easygui.fileopenbox()\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 19, "user_id": 11316387, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-KKW-okTkePs/AAAAAAAAAAI/AAAAAAAAAEg/JqGwTWRbP9U/photo.jpg?sz=128", "display_name": "Kotoamatsukami", "link": "https://stackoverflow.com/users/11316387/kotoamatsukami"}, "reply_to_user": {"reputation": 1378, "user_id": 5463213, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TYmN2.jpg?s=128&g=1", "display_name": "Shanteshwar Inde", "link": "https://stackoverflow.com/users/5463213/shanteshwar-inde"}, "edited": false, "score": 0, "creation_date": 1554469828, "post_id": 55532676, "comment_id": 97775662, "body": "Yes, it&#39;s an answer. I can add code to make it clearer."}, {"owner": {"reputation": 2539, "user_id": 5345646, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/hTuR0.jpg?s=128&g=1", "display_name": "Mooncrater", "link": "https://stackoverflow.com/users/5345646/mooncrater"}, "edited": false, "score": 0, "creation_date": 1599128458, "post_id": 55532676, "comment_id": 112680477, "body": "What is <code>input</code> here?"}, {"owner": {"reputation": 19, "user_id": 11316387, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-KKW-okTkePs/AAAAAAAAAAI/AAAAAAAAAEg/JqGwTWRbP9U/photo.jpg?sz=128", "display_name": "Kotoamatsukami", "link": "https://stackoverflow.com/users/11316387/kotoamatsukami"}, "reply_to_user": {"reputation": 2539, "user_id": 5345646, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/hTuR0.jpg?s=128&g=1", "display_name": "Mooncrater", "link": "https://stackoverflow.com/users/5345646/mooncrater"}, "edited": false, "score": 1, "creation_date": 1599239784, "post_id": 55532676, "comment_id": 112723479, "body": "It&#39;s a python built-in function to get input from the user. You can also write it for example as input(&quot;Enter value here: &quot;) so the user would know what to do."}], "tags": [], "owner": {"reputation": 19, "user_id": 11316387, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-KKW-okTkePs/AAAAAAAAAAI/AAAAAAAAAEg/JqGwTWRbP9U/photo.jpg?sz=128", "display_name": "Kotoamatsukami", "link": "https://stackoverflow.com/users/11316387/kotoamatsukami"}, "is_accepted": false, "score": 0, "last_activity_date": 1554469969, "last_edit_date": 1554469969, "creation_date": 1554457873, "answer_id": 55532676, "question_id": 51071984, "link": "https://stackoverflow.com/questions/51071984/tkinter-askopenfilename-wont-open/55532676#55532676", "title": "Tkinter askopenfilename() won&#39;t open", "body": "<p>I had the same problem, but I found that the issue was that I was getting input with input() before I called askopenfilename() or fileopenbox(). </p>\n\n<pre><code>from   tkinter            import Tk\nfrom   tkinter.filedialog import askopenfilename\n\nvar = input()\nTk().withdraw()\nfilepath = askopenfilename()\n</code></pre>\n\n<p>I simply switched the positions of askopenfilename() (or fileopenbox()) and input(), and it worked as usual.</p>\n\n<pre><code>Tk().withdraw()\nfilepath = askopenfilename()\nvar = input()\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2539, "user_id": 5345646, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/hTuR0.jpg?s=128&g=1", "display_name": "Mooncrater", "link": "https://stackoverflow.com/users/5345646/mooncrater"}, "edited": false, "score": 0, "creation_date": 1599128507, "post_id": 55532765, "comment_id": 112680500, "body": "Wouldn&#39;t it be equivalent to using tkinter?"}], "tags": [], "owner": {"reputation": 195, "user_id": 9167636, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-kzNMnkv2_1Y/AAAAAAAAAAI/AAAAAAAAAB0/nkgoo0kQYUg/photo.jpg?sz=128", "display_name": "Dylan Logan", "link": "https://stackoverflow.com/users/9167636/dylan-logan"}, "is_accepted": false, "score": 0, "last_activity_date": 1554458126, "creation_date": 1554458126, "answer_id": 55532765, "question_id": 51071984, "link": "https://stackoverflow.com/questions/51071984/tkinter-askopenfilename-wont-open/55532765#55532765", "title": "Tkinter askopenfilename() won&#39;t open", "body": "<p>If you want to use an internal module, you can import <strong>tkFileDialog</strong>, and call:</p>\n\n<pre><code>filename = tkFileDialog.askopenfilename(title=\"Open Filename\",filetypes=((\"TXT Files\",\"*.txt\"),(\"All Files\",\"*.*\")))\n</code></pre>\n\n<p>I use this in many projects, you can add arguments such as initialdir, and you can specify allowable filetypes!</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user7454726"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2035, "favorite_count": 0, "accepted_answer_id": 51072159, "answer_count": 3, "score": 1, "last_activity_date": 1554469969, "creation_date": 1530136580, "question_id": 51071984, "link": "https://stackoverflow.com/questions/51071984/tkinter-askopenfilename-wont-open", "title": "Tkinter askopenfilename() won&#39;t open", "body": "<p>I have a selection of excel data that I am analyzing, and have just recently added the ability for the user to open the file explorer and locate the file visually, as opposed to entering the file location on the command line. I <a href=\"https://stackoverflow.com/questions/3579568/choosing-a-file-in-python-with-simple-dialog\">found this</a> question (and answer) to make the window appear, which worked for a while.</p>\n\n<p>I am still using the command line for everything except locating the file. Currently, this is a skeleton of what I have to open the window (nearly identical to the answer of the question linked above)</p>\n\n<pre><code>Tk().withdraw()\ndata_file_path = askopenfilename()\n\n# other code with prompts, mostly print statements\n\nTk().withdraw()\ndrug_library_path = askopenfilename()\n</code></pre>\n\n<p>Once the code reaches the first two lines of code, the command line just sits with a blinking cursor, like it's waiting for input (my guess, for askopenfilename() to return a file location), but nothing happens. I can't <code>ctrl+C</code> to get out of the program, either.</p>\n\n<p>I have found <a href=\"https://stackoverflow.com/questions/22053760/open-file-dialog-freezes-after-tkinter-askopenfilename-method-is-called\">this question</a>, which is close to what I'm looking for, but I'm on Windows, not Mac, and I can't even get the window to open -- most questions I see talk about not being able to close the window.</p>\n\n<p>Thanks for any help!</p>\n\n<p>Note: At this point in the program, no data from excel has been loaded. This is one of the first lines that is ran.</p>\n"}, {"tags": ["python", "git"], "answers": [{"comments": [{"owner": {"reputation": 6206, "user_id": 2155605, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/aJYNR.jpg?s=128&g=1", "display_name": "Ogen", "link": "https://stackoverflow.com/users/2155605/ogen"}, "edited": false, "score": 0, "creation_date": 1530141001, "post_id": 51072455, "comment_id": 89134846, "body": "My <code>os.environ</code> map does not have the <code>GIT_DIR</code> key. However, <code>os.getcwd()</code> gives me the correct path to the repo for which git hooks are being run. I didn&#39;t expect this because I thought the working directory would be changed to repository B when the hooks run."}, {"owner": {"reputation": 324088, "user_id": 1256452, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/fa1648baa6108c85886312af93bb32c0?s=128&d=identicon&r=PG", "display_name": "torek", "link": "https://stackoverflow.com/users/1256452/torek"}, "edited": false, "score": 2, "creation_date": 1530143241, "post_id": 51072455, "comment_id": 89135325, "body": "It&#39;s curious that <code>GIT_DIR</code> would be unset, but you can always use <code>os.environ.get(&#39;GIT_DIR&#39;, os.getcwd())</code> to make sure that you get a usable value. (Hm: It looks like several hooks don&#39;t bother to set it, including post-checkout and all apply-patch hooks, for instance.)"}], "tags": [], "owner": {"reputation": 55797, "user_id": 7976758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/512cfbaf98d63ca4acd57b2df792aec6?s=128&d=identicon&r=PG", "display_name": "phd", "link": "https://stackoverflow.com/users/7976758/phd"}, "is_accepted": true, "score": 2, "last_activity_date": 1530139798, "creation_date": 1530139798, "answer_id": 51072455, "question_id": 51071939, "link": "https://stackoverflow.com/questions/51071939/how-to-find-the-repository-that-git-hooks-are-running-for/51072455#51072455", "title": "How to find the repository that git hooks are running for", "body": "<p><a href=\"https://git-scm.com/docs/githooks\" rel=\"nofollow noreferrer\">https://git-scm.com/docs/githooks</a></p>\n\n<p>\u00abBefore Git invokes a hook, it changes its working directory to either $GIT_DIR in a bare repository or the root of the working tree in a non-bare repository. An exception are hooks triggered during a push (pre-receive, update, post-receive, post-update, push-to-checkout) which are always executed in $GIT_DIR.\u00bb</p>\n\n<p>I.e., you can check <code>$GIT_DIR</code> (<code>os.environ['GIT_DIR']</code> in Python) or the current directory (<code>pwd</code> in shell, <code>os.getcwd()</code> in Python).</p>\n"}, {"tags": [], "owner": {"reputation": 324088, "user_id": 1256452, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/fa1648baa6108c85886312af93bb32c0?s=128&d=identicon&r=PG", "display_name": "torek", "link": "https://stackoverflow.com/users/1256452/torek"}, "is_accepted": false, "score": 3, "last_activity_date": 1530140242, "creation_date": 1530140242, "answer_id": 51072510, "question_id": 51071939, "link": "https://stackoverflow.com/questions/51071939/how-to-find-the-repository-that-git-hooks-are-running-for/51072510#51072510", "title": "How to find the repository that git hooks are running for", "body": "<p>Git sets an environment variable, <code>GIT_DIR</code>, to contain the (typically relative!) path to the Git repository from the current working directory.  Being relative, this path is only good until you change directories, so you might want to convert it to an absolute path, depending on what you are going to do in your code.</p>\n\n<p>Git <em>uses</em> that environment variable to locate the Git repository directory.  If <code>GIT_WORK_TREE</code> is set, that locates the work-tree, otherwise it is the current directory or the repository is bare.  Other magic Git items, such as <code>GIT_INDEX_FILE</code>, may also be set.  It's best not to change directories without making sure that every one of these is an absolute path:</p>\n\n<pre><code>for name in ('GIT_INDEX_FILE', 'GIT_OBJECT_DIRECTORY', 'GIT_DIR', 'GIT_WORK_TREE'):\n    val = os.environ.get(name, None)\n    if val is not None and not os.path.isabs(val):\n        os.environ[name] = os.path.abspath(val)\nfor pathspec in ('GIT_ALTERNATE_OBJECT_DIRECTORIES', 'GIT_CEILING_DIRECTORIES'):\n    ...\n</code></pre>\n\n<p>(I leave the code for the latter two as an exercise, especially since one is <code>;</code>-delimited on Windows, according to <a href=\"https://www.kernel.org/pub/software/scm/git/docs/git.html\" rel=\"nofollow noreferrer\">the documentation</a>).  <strong>Edit:</strong> The <code>GIT_CEILING_DIRECTORIES</code> is documented as already absolute, so only <code>GIT_ALTERNATE_OBJECT_DIRECTORIES</code> might need tweaking.  See the manual page's description of how each field is treated here.</p>\n"}], "owner": {"reputation": 6206, "user_id": 2155605, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/aJYNR.jpg?s=128&g=1", "display_name": "Ogen", "link": "https://stackoverflow.com/users/2155605/ogen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 78, "favorite_count": 0, "accepted_answer_id": 51072455, "answer_count": 2, "score": 2, "last_activity_date": 1530140242, "creation_date": 1530136336, "question_id": 51071939, "link": "https://stackoverflow.com/questions/51071939/how-to-find-the-repository-that-git-hooks-are-running-for", "title": "How to find the repository that git hooks are running for", "body": "<p>I have two repositories A and B.</p>\n\n<p>I have set the follow git config in repository A:</p>\n\n<p><code>git config core.hooksPath &lt;path to repository B&gt;</code></p>\n\n<p>The git hooks in repository B now run when I perform git commands in repository A.</p>\n\n<p>From inside repository B, how do I get the path to repository A? This is because many other repositories can set this git config and so repository B will need to know which repository its running its hooks for.</p>\n\n<p>Note: my hooks are written in python.</p>\n"}, {"tags": ["python", "pandas", "dataframe"], "comments": [{"owner": {"reputation": 1912, "user_id": 4691830, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh4.googleusercontent.com/-lqbwtD6n1nc/AAAAAAAAAAI/AAAAAAAAABg/vE8KR-oSqqE/photo.jpg?sz=128", "display_name": "Joooeey", "link": "https://stackoverflow.com/users/4691830/joooeey"}, "edited": false, "score": 0, "creation_date": 1530137033, "post_id": 51071927, "comment_id": 89133882, "body": "Can you please provide your data or example data in copy-pastable form so we can reproduce? See: <a href=\"https://stackoverflow.com/help/mcve\">How to create a Minimal, Complete, and Verifiable example</a>."}], "answers": [{"tags": [], "owner": {"reputation": 149, "user_id": 7478147, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-GxLbydOIG7o/AAAAAAAAAAI/AAAAAAAAAYU/m50yLIlCpvY/photo.jpg?sz=128", "display_name": "Boubacar Traor&#233;", "link": "https://stackoverflow.com/users/7478147/boubacar-traor%c3%a9"}, "is_accepted": false, "score": 1, "last_activity_date": 1530136940, "creation_date": 1530136940, "answer_id": 51072046, "question_id": 51071927, "link": "https://stackoverflow.com/questions/51071927/filtering-data-from-pandas-dataframes/51072046#51072046", "title": "filtering data from Pandas dataframes", "body": "<p>You can simply use the <a href=\"https://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.groupby.html\" rel=\"nofollow noreferrer\">groupby</a> function available in <code>pandas</code> with restriction to the concerned columns :</p>\n\n<pre><code>ptid_ages_noshow[['PatientId','Ages']].groupby('PatientId').mean()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1912, "user_id": 4691830, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh4.googleusercontent.com/-lqbwtD6n1nc/AAAAAAAAAAI/AAAAAAAAABg/vE8KR-oSqqE/photo.jpg?sz=128", "display_name": "Joooeey", "link": "https://stackoverflow.com/users/4691830/joooeey"}, "is_accepted": false, "score": 0, "last_activity_date": 1530137251, "creation_date": 1530137251, "answer_id": 51072087, "question_id": 51071927, "link": "https://stackoverflow.com/questions/51071927/filtering-data-from-pandas-dataframes/51072087#51072087", "title": "filtering data from Pandas dataframes", "body": "<p>So you only want to keep one appointment per patient for the calculation? This is how to do it:</p>\n\n<pre><code>noshow_df.drop_duplicates('PatientId')['Age'].mean()\n</code></pre>\n\n<p>Keep in mind that the age of people changes over time. You need to decide how you want to handle this.</p>\n"}], "owner": {"reputation": 21, "user_id": 10002254, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c3e582990ea201822fd27dd7fa26157f?s=128&d=identicon&r=PG&f=1", "display_name": "jacob_pelletier", "link": "https://stackoverflow.com/users/10002254/jacob-pelletier"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 81, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1530139254, "creation_date": 1530136285, "last_edit_date": 1530139254, "question_id": 51071927, "link": "https://stackoverflow.com/questions/51071927/filtering-data-from-pandas-dataframes", "title": "filtering data from Pandas dataframes", "body": "<p><strong>Background:</strong> I am trying to use data from a csv file to make asks questions and make conclusions base on data. The data is a log of patient visits from a clinic in Brazil, including additional patient data, and whether the patient was a no show or not. I have chosen to examine correlations between the patient's age and the no show data.  </p>\n\n<p><strong>Problem:</strong> Given visit number, patient ID, age, and no show data, how do I compile an array of ages that correlate with the each unique patient ID (so that I can evaluate the mean age of total unique patients visiting the clinic).</p>\n\n<p><strong>My code:</strong> </p>\n\n<pre><code># data set of no shows at a clinic in Brazil\nnoshow_data = pd.read_csv('noshowappointments-kagglev2-may-2016.csv')\n\nnoshow_df = pd.DataFrame(noshow_data)\n</code></pre>\n\n<p>Here is the beginning of the code, with the head of the whole dataframe of the csv given</p>\n\n<p><img src=\"https://i.stack.imgur.com/VP1XT.png\" alt=\"\"></p>\n\n<pre><code># Next I construct a dataframe with only the data I'm interested in:\n\nptid = noshow_df['PatientId']\nages = noshow_df['Age']\nnoshow = noshow_df['No-show']\nptid_ages_noshow = pd.DataFrame({'PatientId' : pt_id, 'Ages' : ages, \n                                 'No_show' : noshow})\n\nptid_ages_noshow\n</code></pre>\n\n<p>Here I have sorted the data to show the multiple visits of a unique patient</p>\n\n<p><img src=\"https://i.stack.imgur.com/gY4S6.png\" alt=\"\"></p>\n\n<pre><code># Now, I know how to determine the total number of unique patients:\n\n# total number of unique patients\nnum_unique_pts = noshow_df.PatientId.unique()\nlen(num_unique_pts)\n</code></pre>\n\n<p>If I want to find the mean age of all the patients during the course of all visits I would use:</p>\n\n<pre><code># mean age of all vists\nages = noshow_data['Age']\nages.mean()\n</code></pre>\n\n<p>So my question is this, how could I find the mean age of all the unique patients?</p>\n"}, {"tags": ["python", "pandas"], "answers": [{"comments": [{"owner": {"reputation": 133282, "user_id": 9209546, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qk9vC.jpg?s=128&g=1", "display_name": "jpp", "link": "https://stackoverflow.com/users/9209546/jpp"}, "edited": false, "score": 1, "creation_date": 1530141862, "post_id": 51072629, "comment_id": 89135045, "body": "Side note: <code>ix</code> has been deprecated in favour of <code>loc</code> / <code>iloc</code>."}, {"owner": {"reputation": 3, "user_id": 10002318, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-aF3whpzkRSk/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq2X92iKCaIzlqRgz6OKrHOKIdR9Og/mo/photo.jpg?sz=128", "display_name": "venkat chana", "link": "https://stackoverflow.com/users/10002318/venkat-chana"}, "edited": false, "score": 0, "creation_date": 1530211534, "post_id": 51072629, "comment_id": 89167242, "body": "thank you BenG-TW! Isn&#39;t there a way to get the seasons without specifying the year?"}, {"owner": {"reputation": 194, "user_id": 9969284, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K5QDn.png?s=128&g=1", "display_name": "BenG", "link": "https://stackoverflow.com/users/9969284/beng"}, "edited": false, "score": 0, "creation_date": 1530215124, "post_id": 51072629, "comment_id": 89168785, "body": "I have added that functionality by looping through years."}], "tags": [], "owner": {"reputation": 194, "user_id": 9969284, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K5QDn.png?s=128&g=1", "display_name": "BenG", "link": "https://stackoverflow.com/users/9969284/beng"}, "is_accepted": true, "score": 0, "last_activity_date": 1530214788, "last_edit_date": 1530214788, "creation_date": 1530141161, "answer_id": 51072629, "question_id": 51071926, "link": "https://stackoverflow.com/questions/51071926/getting-seasons-from-dataset-by-using-pandas/51072629#51072629", "title": "Getting seasons from dataset by using Pandas", "body": "<p>I recreated your DF here:</p>\n\n<pre><code>from io import StringIO\nimport pandas as pd \ntext = StringIO('''\"\";\"M_001\";\"M_002\";\"M_003\";\"M_004\"\n\"2011-01-01 00:00:00\";4,45;3,5467;3,197;12,098\n\"2011-02-01 00:00:00\";18,40;0,124;174,36;11,098\n\"2011-03-01 00:00:00\";25,789;27,67;19,76;34,66\n\"2011-04-01 00:00:00\";19,08;11,078;23,34;67,45\n\"2011-05-01 00:00:00\";13,06;06,078;10,34;21,45\n\"2011-06-01 00:00:00\";13,06;06,078;10,34;21,45\n\"2011-06-21 00:00:00\";13,06;06,078;10,34;21,45\n\"2011-07-01 00:00:00\";9,06;06,078;9,34;21,45\n\"2011-07-14 00:00:00\";9,06;06,078;9,34;21,45\n\"2011-08-01 00:00:00\";22,06;45,078;21,34;21,45\n\"2011-08-11 00:00:00\";22,06;45,078;21,34;21,45\n\"2011-08-12 00:00:00\";22,06;45,078;21,34;21,45\n\"2011-09-01 00:00:00\";76,06;32,078;10,34;21,45\n\"2011-09-23 00:00:00\";76,06;32,078;10,34;21,45\n\"2011-09-25 00:00:00\";76,06;32,078;10,34;21,45\n\"2011-10-01 00:00:00\";17,06;18,078;108,34;21,45\n\"2011-11-01 00:00:00\";12,06;45,078;107,34;21,45\n\"2011-12-01 00:00:00\";7,06;60,078;83,34;21,45\n\"2011-12-21 00:00:00\";7,06;60,078;83,34;21,45\n\"2012-01-01 00:00:00\";4,45;3,5467;3,197;12,098\n\"2012-02-01 00:00:00\";18,40;0,124;174,36;11,098\n\"2012-03-01 00:00:00\";25,789;27,67;19,76;34,66\n\"2012-03-11 00:00:00\";25,789;27,67;19,76;34,66\n\"2012-03-20 00:00:00\";25,789;27,67;19,76;34,66\n\"2012-03-30 00:00:00\";25,789;27,67;19,76;34,66''')\ndf = pd.read_csv(filepath_or_buffer=text, sep=';', header=0, index_col=0, decimal=',', parse_dates=[0])\n</code></pre>\n\n<p>Then I wrote some code that creates two new data frames and appends all the months in your winter and summer ranges. <strong>EDIT: Commented out old version, preserved below.</strong></p>\n\n<pre><code>winterStart = '-12-21'\nwinterEnd   = '-03-20'\nsummerStart = '-06-21'\nsummerEnd   = '-09-23'\n\n#df_winter = df.ix[str('2010'+winterStart):str('2011'+winterEnd)]\n#df_winter = df_winter.append(df.ix['2011'+winterStart:'2012'+winterEnd])\n#df_winter = df_winter.append(df.ix['2012'+winterStart:'2013'+winterEnd])\n\n#df_summer = df.ix['2010'+summerStart:'2010'+summerEnd]\n#df_summer = df_summer.append(df.ix['2011'+summerStart:'2011'+summerEnd])\n#df_summer = df_summer.append(df.ix['2012'+summerStart:'2012'+summerEnd])\n</code></pre>\n\n<p>If you had more years, you can create a loop that iterates through each subsequent year and appends that year's seasonal data. <strong>EDIT: OP asked for this functionality. Added a loop to get all years without specifying each year for each season. Another comment mentioned df.ix[] is depreciated, so I changed the code to use df.loc[] instead of df.ix[] as in previous version.</strong></p>\n\n<pre><code>df_winter = pd.DataFrame()\nfor year in range(2010, 2015):\n    df_winter = df_winter.append(df.loc[str(year) + winterStart : str(year+1) + winterEnd]) \n    # used year and year+1 because winter season spans from an initial year to the next year.\nprint(df_winter)\n\ndf_summer = pd.DataFrame()\nfor year in range(2010, 2015):\n    df_summer = df_summer.append(df.loc[str(year) + summerStart : str(year) + summerEnd])\nprint(df_summer)\n</code></pre>\n\n<p>Also please see <a href=\"https://stackoverflow.com/questions/22898824/filtering-pandas-dataframes-on-dates\">Filtering Pandas DataFrames on dates</a> for filtering between date ranges when your date is the index. </p>\n"}], "owner": {"reputation": 3, "user_id": 10002318, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-aF3whpzkRSk/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq2X92iKCaIzlqRgz6OKrHOKIdR9Og/mo/photo.jpg?sz=128", "display_name": "venkat chana", "link": "https://stackoverflow.com/users/10002318/venkat-chana"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 0, "accepted_answer_id": 51072629, "answer_count": 1, "score": 0, "last_activity_date": 1530214788, "creation_date": 1530136280, "question_id": 51071926, "link": "https://stackoverflow.com/questions/51071926/getting-seasons-from-dataset-by-using-pandas", "title": "Getting seasons from dataset by using Pandas", "body": "<p>Given the following dataset:</p>\n\n<pre><code>\"\";\"M_001\";\"M_002\";\"M_003\";\"M_004\"\n\"2011-01-01 00:00:00\";4,45;3,5467;3,197;12,098\n\"2011-02-01 00:00:00\";18,40;0,124;174,36;11,098\n\"2011-03-01 00:00:00\";25,789;27,67;19,76;34,66\n\"2011-04-01 00:00:00\";19,08;11,078;23,34;67,45\n\"2011-05-01 00:00:00\";13,06;06,078;10,34;21,45\n\"2011-06-01 00:00:00\";13,06;06,078;10,34;21,45\n\"2011-06-21 00:00:00\";13,06;06,078;10,34;21,45\n\"2011-07-01 00:00:00\";9,06;06,078;9,34;21,45\n\"2011-07-14 00:00:00\";9,06;06,078;9,34;21,45\n\"2011-08-01 00:00:00\";22,06;45,078;21,34;21,45\n\"2011-08-11 00:00:00\";22,06;45,078;21,34;21,45\n\"2011-08-12 00:00:00\";22,06;45,078;21,34;21,45\n\"2011-09-01 00:00:00\";76,06;32,078;10,34;21,45\n\"2011-09-23 00:00:00\";76,06;32,078;10,34;21,45\n\"2011-09-25 00:00:00\";76,06;32,078;10,34;21,45\n\"2011-10-01 00:00:00\";17,06;18,078;108,34;21,45\n\"2011-11-01 00:00:00\";12,06;45,078;107,34;21,45\n\"2011-12-01 00:00:00\";7,06;60,078;83,34;21,45\n\"2011-12-21 00:00:00\";7,06;60,078;83,34;21,45\n\"2012-01-01 00:00:00\";4,45;3,5467;3,197;12,098\n\"2012-02-01 00:00:00\";18,40;0,124;174,36;11,098\n\"2012-03-01 00:00:00\";25,789;27,67;19,76;34,66\n\"2012-03-11 00:00:00\";25,789;27,67;19,76;34,66\n\"2012-03-20 00:00:00\";25,789;27,67;19,76;34,66\n\"2012-03-30 00:00:00\";25,789;27,67;19,76;34,66\n</code></pre>\n\n<p>Could anyone tell me how to modify the function calc() to select the rows from the dataset in order that I can get separately the rows about both the winter season  (from 21 december to 20 march) \nand the summer season  (from 21 june to 23 september) from read_csv?</p>\n\n<p>I have already tried on writing this code, but it doesn't work well.</p>\n\n<pre><code>import pandas as pd \n\ndef calc():\n    filename = 'mydataset/dataset.csv'\n    mySeries = pd.read_csv(filename, header=0, index_col=0, parse_dates=[0], sep=\";\", decimal=\",\")\n\n    return mySeries\n\nif __name__ == '__main__':\n    df = calc()\n    print(\"Winter season measures: \")\n    print(df.iloc[[x in range(12, 3) for x in df.index.month]])\n    print(\"Winter season measures: \")\n    print(df.iloc[[x in range(6, 10) for x in df.index.month]])\n</code></pre>\n\n<p>Thank you in advance!</p>\n"}, {"tags": ["python", "django", "sendgrid"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1530136463, "post_id": 51071923, "comment_id": 89133678, "body": "Styling HTML email is very limited. You should only use inline <code>style=&quot;...&quot;</code> attributes, not <code>&lt;style&gt;</code> tags."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1530136481, "post_id": 51071923, "comment_id": 89133683, "body": "<a href=\"https://css-tricks.com/using-css-in-html-emails-the-real-story/\" rel=\"nofollow noreferrer\">css-tricks.com/using-css-in-html-emails-the-real-story</a>"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1530136488, "post_id": 51071923, "comment_id": 89133687, "body": "<a href=\"https://mailchimp.com/help/css-in-html-email/\" rel=\"nofollow noreferrer\">mailchimp.com/help/css-in-html-email</a>"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1530136496, "post_id": 51071923, "comment_id": 89133692, "body": "<a href=\"https://litmus.com/blog/a-guide-to-css-inlining-in-email\" rel=\"nofollow noreferrer\">litmus.com/blog/a-guide-to-css-inlining-in-email</a>"}], "owner": {"reputation": 147, "user_id": 9083652, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/ad0fa163dc8bf1133dbf3b45fc9f250d?s=128&d=identicon&r=PG&f=1", "display_name": "Monica Das", "link": "https://stackoverflow.com/users/9083652/monica-das"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 207, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1530136272, "creation_date": 1530136272, "question_id": 51071923, "link": "https://stackoverflow.com/questions/51071923/applying-css-styles-to-sendgrid-email-python-django", "title": "Applying css styles to sendgrid email python django?", "body": "<p>I am learning to use the sendgrid api with django python. For now, I can successfully send emails but  I would like to make the email more appealing and apply some css styles. I looked online for some help but couldn't find any. Can someone please suggest me how i should go about it ?</p>\n\n<p>This is what i tried so far</p>\n\n<pre><code>def sendemail(sender,recipient,subject,content,url):\n    sg = sendgrid.SendGridAPIClient(apikey=\"*****\")\n    from_email = Email(sender)\n    to_email = Email(recipient)\n    subject = subject\n    content = Content(\"text\", content+url)\n\n    mail = Mail(from_email, subject, to_email, content)\n    response = sg.client.mail.send.post(request_body=mail.get())\n    print(response.status_code)\n    print(response.body)\n    print(response.headers)\n</code></pre>\n"}, {"tags": ["python", "python-click"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1530136451, "post_id": 51071919, "comment_id": 89133673, "body": "You can rename arguments if needed,see e.g. <a href=\"http://click.pocoo.org/5/parameters/#parameter-names\" rel=\"nofollow noreferrer\">click.pocoo.org/5/parameters/#parameter-names</a>."}], "answers": [{"tags": [], "owner": {"reputation": 45741, "user_id": 744178, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3193139ea494c45e63752504f5ff1f2?s=128&d=identicon&r=PG", "display_name": "jwodder", "link": "https://stackoverflow.com/users/744178/jwodder"}, "is_accepted": true, "score": 5, "last_activity_date": 1530136469, "creation_date": 1530136469, "answer_id": 51071960, "question_id": 51071919, "link": "https://stackoverflow.com/questions/51071919/python-multiple-click-options-got-unexpected-keyword-argument/51071960#51071960", "title": "Python multiple click.options - got unexpected keyword argument", "body": "<p>You named the option <code>--config</code>, so click is trying to pass an argument named <code>config</code> to <code>foo</code>, but there's no <code>config</code> in <code>foo</code>'s signature.  Presumably, you want to write <code>def foo(config, port):</code> instead of <code>def foo(config_name, port):</code>.</p>\n"}], "owner": {"reputation": 55, "user_id": 9830959, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "cartoon_network", "link": "https://stackoverflow.com/users/9830959/cartoon-network"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1930, "favorite_count": 0, "accepted_answer_id": 51071960, "answer_count": 1, "score": 2, "last_activity_date": 1530136469, "creation_date": 1530136221, "question_id": 51071919, "link": "https://stackoverflow.com/questions/51071919/python-multiple-click-options-got-unexpected-keyword-argument", "title": "Python multiple click.options - got unexpected keyword argument", "body": "<p>While using python click, I am not being able to pass the options to one of the method. Please consider following code.</p>\n\n<pre><code>import click\n\n@click.command()\n@click.option('--config', default='default.cfg', help = 'comfiguration file')\n@click.option('--port', default=9093)\ndef foo(config_name, port):\n    print('Function has been successfully called..!')\n\nif __name__ == '__main__':\n    foo()\n</code></pre>\n\n<p>The error I get is:</p>\n\n<pre><code>TypeError: foo() got an unexpected keyword argument 'config\n</code></pre>\n\n<p>and the stacktrace is:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"temp.py\", line 10, in &lt;module&gt;\n    foo()\n  File \"/home/sagar/anaconda3/lib/python3.6/site-packages/click/core.py\", line 722, in __call__\n    return self.main(*args, **kwargs)\n  File \"/home/sagar/anaconda3/lib/python3.6/site-packages/click/core.py\", line 697, in main\n    rv = self.invoke(ctx)\n  File \"/home/sagar/anaconda3/lib/python3.6/site-packages/click/core.py\", line 895, in invoke\n    return ctx.invoke(self.callback, **ctx.params)\n  File \"/home/sagar/anaconda3/lib/python3.6/site-packages/click/core.py\", line 535, in invoke\n    return callback(*args, **kwargs)\n</code></pre>\n\n<p>I do not understand why this is so. I read few similar questions regarding <code>argument</code>, that one cannot use <code>help</code> option, but in this case I think I am not doing anything that is not supported.</p>\n\n<p>But the funny thing is: if I remove the <code>--config</code> option, (and of course the parameter from the function), then it works perfectly. I am sure one can use multiple options, I tried using <code>type=string</code>, but it also does not help.</p>\n"}, {"tags": ["python", "django", "rest", "post", "django-views"], "owner": {"reputation": 11, "user_id": 10002312, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4a8687bc1bc0b280f31402ed7984a25?s=128&d=identicon&r=PG&f=1", "display_name": "kmacias", "link": "https://stackoverflow.com/users/10002312/kmacias"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 53, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1530136175, "creation_date": 1530136175, "question_id": 51071911, "link": "https://stackoverflow.com/questions/51071911/automatically-display-post-data-django", "title": "Automatically Display POST data Django", "body": "<p><strong>Goal:</strong></p>\n\n<ul>\n<li>Display POST data on Django-based website as it is received via webhooks from Github</li>\n<li>If possible, to continually append new events one after the other on the website</li>\n</ul>\n\n<p><strong>Where I'm at:</strong></p>\n\n<ul>\n<li>I have the github POST data, I can print it on the terminal, but cannot display on my html page.</li>\n<li>Currently a beginner with Django but any advice would be much appreciated!</li>\n</ul>\n\n<p>Here's a peak at my <strong>views.py</strong>:</p>\n\n<pre><code>@csrf_exempt\ndef home(request):\n    if request.method == \"POST\":\n        event = request.META['HTTP_X_GITHUB_EVENT']\n        body = json.loads(request.body)[event]\n\n        context = {\n            'event': event,\n            'body': body,\n        }\n        print(context)\n        return render(request, 'home.html', context)\n    return render(request, 'home.html')\n</code></pre>\n\n<p>Here is my <strong>home.html</strong></p>\n\n<pre><code>{% extends \"base.html\" %}\n{% block content %}\n&lt;div&gt;\n    &lt;h3&gt;&lt;b&gt;fudge&lt;/b&gt;&lt;/h3&gt;\n    {% if event %}\n        &lt;p&gt;Event: {{ event }}&lt;/p&gt;\n        &lt;p&gt;Body: {{ body }}&lt;/p&gt;\n    {% endif %}\n&lt;/div&gt;\n{% endblock %}\n</code></pre>\n\n<p>Ideally, I'd like to re-render my home.html page as soon as a POST is received, but don't know how to keep it persistent. As for my urls.py, I only have ^$, views.home, name='home'. Let me know if you'd like to see anything else!</p>\n"}, {"tags": ["python", "header", "protocols", "pack"], "comments": [{"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1530136775, "post_id": 51071908, "comment_id": 89133788, "body": "<code>pack</code> doesn&#39;t send your packet out, it just gives you a <code>bytes</code> that you have to send yourself, so it can&#39;t be doing anything to the packet when it sends, only your other code could be."}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1530136861, "post_id": 51071908, "comment_id": 89133822, "body": "Meanwhile, are you sending this over TCP? If so, are you just assuming that a single <code>recv</code> call will get exactly one packet, or are you looping and buffering?"}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1530136905, "post_id": 51071908, "comment_id": 89133846, "body": "At any rate, there&#39;s obviously something wrong somewhere, and there&#39;s no way we can debug that something in code we can&#39;t see. But nobody wants to read your entire client and server. Please reduce what you have to a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that demonstrates the problem, and post that here."}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1530136926, "post_id": 51071908, "comment_id": 89133851, "body": "One last thing: What happens if there&#39;s a <code>0x3</code> byte in the payload?"}], "owner": {"reputation": 1, "user_id": 7638074, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87d3d0a3537e70dff91d8c191ec61400?s=128&d=identicon&r=PG&f=1", "display_name": "Ali", "link": "https://stackoverflow.com/users/7638074/ali"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 127, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1530136162, "creation_date": 1530136162, "question_id": 51071908, "link": "https://stackoverflow.com/questions/51071908/creating-a-protocol-header-using-python-pack", "title": "creating a protocol header using python pack", "body": "<p>I have developed a python code to implement a protocol header. The protocol starts with 0x2 and ends with 0x3 and anything in between is protocol and its payload. I am creating all the fields and pack them individually and at the end add all the packed fields together to make my packet. I send this message to another host when it connects to me over a socket. The machine that receives it complains that it did not receive the last byte (0x3). However, when I print the message right before I send it, All fields are correct. I wonder if pack is doing something to my packet when it sends it out. I can send you my code if you need to see it, but I thought you might have some ideas about building a protocol header in python. I appreciate any help I can get. Thanks</p>\n"}, {"tags": ["python", "git", "git-commit"], "comments": [{"owner": {"reputation": 11736, "user_id": 1987838, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2tIuS.jpg?s=128&g=1", "display_name": "Hackerman", "link": "https://stackoverflow.com/users/1987838/hackerman"}, "edited": false, "score": 0, "creation_date": 1530136343, "post_id": 51071891, "comment_id": 89133632, "body": "If you run this command inside your repo <code>git log | head -1 | awk &#39;{print $2}&#39;</code> do you get the <code>commit id</code>?"}, {"owner": {"reputation": 28647, "user_id": 1422096, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/da3871bf5450fa726f20557fa3f18f51?s=128&d=identicon&r=PG", "display_name": "Basj", "link": "https://stackoverflow.com/users/1422096/basj"}, "reply_to_user": {"reputation": 11736, "user_id": 1987838, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2tIuS.jpg?s=128&g=1", "display_name": "Hackerman", "link": "https://stackoverflow.com/users/1987838/hackerman"}, "edited": false, "score": 0, "creation_date": 1530136504, "post_id": 51071891, "comment_id": 89133698, "body": "@Hackerman on destination, yes (Linux), it works. On source, no (Windows ;))."}, {"owner": {"reputation": 55797, "user_id": 7976758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/512cfbaf98d63ca4acd57b2df792aec6?s=128&d=identicon&r=PG", "display_name": "phd", "link": "https://stackoverflow.com/users/7976758/phd"}, "edited": false, "score": 1, "creation_date": 1530139145, "post_id": 51071891, "comment_id": 89134446, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/17101473/change-version-file-automatically-on-commit-with-git\">Change version file automatically on commit with git</a>"}], "answers": [{"tags": [], "owner": {"reputation": 28647, "user_id": 1422096, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/da3871bf5450fa726f20557fa3f18f51?s=128&d=identicon&r=PG", "display_name": "Basj", "link": "https://stackoverflow.com/users/1422096/basj"}, "is_accepted": true, "score": 6, "last_activity_date": 1530169721, "last_edit_date": 1530169721, "creation_date": 1530169393, "answer_id": 51076605, "question_id": 51071891, "link": "https://stackoverflow.com/questions/51071891/auto-increment-version-number-in-a-python-webserver-with-git/51076605#51076605", "title": "Auto increment version number in a Python webserver, with git", "body": "<p>As mentioned in <a href=\"https://stackoverflow.com/questions/17101473/change-version-file-automatically-on-commit-with-git\">Change version file automatically on commit with git</a>, \ngit <a href=\"http://git-scm.com/book/en/Customizing-Git-Git-Hooks\" rel=\"noreferrer\">hooks</a> and more specifically a <code>pre-commit</code> hook can be used to do that.</p>\n\n<p>In the specific case of Python, <a href=\"https://github.com/warner/python-versioneer\" rel=\"noreferrer\">versioneer</a> or <a href=\"https://github.com/peritus/bumpversion\" rel=\"noreferrer\">bumpversion</a> can be used inside the <code>.git/hooks/pre-commit</code>  script:</p>\n\n<pre><code>#!/bin/sh\nbumpversion minor\ngit add versionfile\n</code></pre>\n\n<hr>\n\n<p>Another option is to use the git commit id instead of a <code>BUILDVERSION</code>:</p>\n\n<pre><code>import git\nCOMMITID = git.Repo().head.object.hexsha[:7]    # 270ac70\n</code></pre>\n\n<p>(This requires <code>pip install gitpython</code> first)</p>\n\n<p>Then it's possible to compare it with the current commit ID with <code>git log</code> or <code>git rev-parse --short HEAD</code> (7 digits is the Git default for a short SHA).</p>\n"}], "owner": {"reputation": 28647, "user_id": 1422096, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/da3871bf5450fa726f20557fa3f18f51?s=128&d=identicon&r=PG", "display_name": "Basj", "link": "https://stackoverflow.com/users/1422096/basj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2780, "favorite_count": 4, "accepted_answer_id": 51076605, "answer_count": 1, "score": 4, "last_activity_date": 1530203876, "creation_date": 1530136060, "last_edit_date": 1530203876, "question_id": 51071891, "link": "https://stackoverflow.com/questions/51071891/auto-increment-version-number-in-a-python-webserver-with-git", "title": "Auto increment version number in a Python webserver, with git", "body": "<p>I have a Python webserver (using Bottle or Flask or any other) that I develop locally:</p>\n\n<pre><code>BUILDVERSION = \"0.0.128\"\n\n@route('/')\ndef homepage():    \n    ... # using a template, and the homepage shows the BUILDVERSION in the footer\n        # so that I always know which live version is running\n\n...\n\nrun(host='0.0.0.0', port=8080)\n</code></pre>\n\n<p>Each time I have a significant update, I do:</p>\n\n<pre><code>git commit -am \"Commit name\" &amp;&amp; git push\n</code></pre>\n\n<p>and the distant version is updated. (Note: I use <code>git config receive.denyCurrentBranch updateInstead</code> on the distant repo).</p>\n\n<p>Problem: I often forget to manually increment the <code>BUILDVERSION</code> on each commit, and then it's not easy to distinguish which version is running live, etc. (because two consecutive commits could have the same <code>BUILDVERSION</code>!)</p>\n\n<p><strong>Question: Is there a way to have an auto-incrementing <code>BUILDVERSION</code> on each commit with Python + Git?</strong> or anything similar (the BUILDVERSION could also be the commit ID...) that would be present in small characters in the footer of the website, allowing to distinguish consecutive versions of the Python code.</p>\n"}, {"tags": ["python", "tuples", "anaconda", "jupyter-notebook", "openpyxl"], "comments": [{"owner": {"reputation": 2341, "user_id": 3589609, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/VPC24.jpg?s=128&g=1", "display_name": "Joshua Schlichting", "link": "https://stackoverflow.com/users/3589609/joshua-schlichting"}, "edited": false, "score": 0, "creation_date": 1530136260, "post_id": 51071844, "comment_id": 89133594, "body": "Can you get some raw code for us to run? I appreciate you sharing the png, but some copy-pastable code would be best!"}, {"owner": {"reputation": 1, "user_id": 8490850, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/49ee8525773485db5328c6405506af53?s=128&d=identicon&r=PG", "display_name": "Rickpercy", "link": "https://stackoverflow.com/users/8490850/rickpercy"}, "reply_to_user": {"reputation": 2341, "user_id": 3589609, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/VPC24.jpg?s=128&g=1", "display_name": "Joshua Schlichting", "link": "https://stackoverflow.com/users/3589609/joshua-schlichting"}, "edited": false, "score": 0, "creation_date": 1530136679, "post_id": 51071844, "comment_id": 89133761, "body": "Edited to show code :)"}, {"owner": {"reputation": 2341, "user_id": 3589609, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/VPC24.jpg?s=128&g=1", "display_name": "Joshua Schlichting", "link": "https://stackoverflow.com/users/3589609/joshua-schlichting"}, "edited": false, "score": 0, "creation_date": 1530137513, "post_id": 51071844, "comment_id": 89134021, "body": "I&#39;m wondering if maybe (&#39;hello&#39;) is being treated as a tuple? Maybe you are using an version of python that doesn&#39;t recognize print&#39;s parenthesis?"}, {"owner": {"reputation": 2341, "user_id": 3589609, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/VPC24.jpg?s=128&g=1", "display_name": "Joshua Schlichting", "link": "https://stackoverflow.com/users/3589609/joshua-schlichting"}, "edited": false, "score": 0, "creation_date": 1530137577, "post_id": 51071844, "comment_id": 89134038, "body": "Initialize an int variable before this and see if your loop can just increment that. I&#39;m just curious to see if that stops the tuple error."}, {"owner": {"reputation": 8762, "user_id": 1709364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40e026958109464eb03fd70b67fab155?s=128&d=identicon&r=PG", "display_name": "jasonharper", "link": "https://stackoverflow.com/users/1709364/jasonharper"}, "edited": false, "score": 0, "creation_date": 1530137675, "post_id": 51071844, "comment_id": 89134072, "body": "Looks like you&#39;ve previously accidentally assigned a tuple to the name <code>print</code>."}], "answers": [{"comments": [{"owner": {"reputation": 2341, "user_id": 3589609, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/VPC24.jpg?s=128&g=1", "display_name": "Joshua Schlichting", "link": "https://stackoverflow.com/users/3589609/joshua-schlichting"}, "edited": false, "score": 0, "creation_date": 1530142562, "post_id": 51072385, "comment_id": 89135181, "body": "Where? I don&#39;t see where that is happening with the code you posted."}, {"owner": {"reputation": 1, "user_id": 8490850, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/49ee8525773485db5328c6405506af53?s=128&d=identicon&r=PG", "display_name": "Rickpercy", "link": "https://stackoverflow.com/users/8490850/rickpercy"}, "reply_to_user": {"reputation": 2341, "user_id": 3589609, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/VPC24.jpg?s=128&g=1", "display_name": "Joshua Schlichting", "link": "https://stackoverflow.com/users/3589609/joshua-schlichting"}, "edited": false, "score": 0, "creation_date": 1530535759, "post_id": 51072385, "comment_id": 89257258, "body": "Presumable I changed it earlier and deleted it.  Since it was on Jupyter notebook a simple &#39;Restart Kernel&#39; reset all the varialbes and I was on my way again."}], "tags": [], "owner": {"reputation": 1, "user_id": 8490850, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/49ee8525773485db5328c6405506af53?s=128&d=identicon&r=PG", "display_name": "Rickpercy", "link": "https://stackoverflow.com/users/8490850/rickpercy"}, "is_accepted": false, "score": 0, "last_activity_date": 1530139265, "creation_date": 1530139265, "answer_id": 51072385, "question_id": 51071844, "link": "https://stackoverflow.com/questions/51071844/python-openpyxl-tuple-object-is-not-callable/51072385#51072385", "title": "Python &amp; openpyxl: &#39;tuple&#39; object is not callable", "body": "<p>Accidently assigned a tuple to the name <code>print</code></p>\n\n<p>confirmed:</p>\n\n<pre><code>type(print)\n</code></pre>\n\n<p>returns <code>tuple</code></p>\n\n<p>-jasonharper</p>\n"}], "owner": {"reputation": 1, "user_id": 8490850, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/49ee8525773485db5328c6405506af53?s=128&d=identicon&r=PG", "display_name": "Rickpercy", "link": "https://stackoverflow.com/users/8490850/rickpercy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 230, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1530147632, "creation_date": 1530135836, "last_edit_date": 1530147632, "question_id": 51071844, "link": "https://stackoverflow.com/questions/51071844/python-openpyxl-tuple-object-is-not-callable", "title": "Python &amp; openpyxl: &#39;tuple&#39; object is not callable", "body": "<p><a href=\"https://i.stack.imgur.com/ue8D3.png\" rel=\"nofollow noreferrer\">Short code depicting my issue (IMAGE)</a></p>\n\n<p>Please bear with me I don't know how to copy to code from the Jupyter notebook so it is in an image.</p>\n\n<p>I am using windows 10, Anaconda &amp; the Jupyter notebook</p>\n\n<p>I am creating a for loop to gather data from cells in openpyxl which was not working.  I changed it to a simple for loop on line 370 which still does not work.  </p>\n\n<p>Where did I go wrong?</p>\n\n<p>Thanks</p>\n\n<p>Richard</p>\n\n<p>edit:</p>\n\n<pre><code>import openpyxl\nimport os\n\nwb = openpyxl.load_workbook('book1.xlsx')\nwb.sheetnames\nsheet = wb['S1']\nsheet.max_row\nrows = sheet.max_row\n\nfor i in range (10):\n    print('hello')\n</code></pre>\n\n<hr>\n\n<blockquote>\n<pre><code>TypeError Traceback (most recent call last) &lt;ipython-input-370-46746f9a7864&gt; in &lt;module&gt;()\n          1 for i in range (10):\n    ----&gt; 2     print('hello')\n\n    TypeError: 'tuple' object is not callable\n</code></pre>\n</blockquote>\n"}, {"tags": ["python", "linux", "fabric", "freeze"], "answers": [{"tags": [], "owner": {"reputation": 38309, "user_id": 667301, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/ce84c3fb1d8cbce03a2f03f0011f52d3?s=128&d=identicon&r=PG", "display_name": "Mike Pennington", "link": "https://stackoverflow.com/users/667301/mike-pennington"}, "is_accepted": true, "score": 1, "last_activity_date": 1533948660, "last_edit_date": 1533948660, "creation_date": 1530151012, "answer_id": 51073635, "question_id": 51071839, "link": "https://stackoverflow.com/questions/51071839/script-hangs-while-using-fabrics-connection-run-in-the-background/51073635#51073635", "title": "Script hangs while using Fabric&#39;s Connection.run() in the background", "body": "<p>The Fabric FAQ is unclear... I thought the FAQ wanted <code>tmux</code> used on the local side when I executed the Fabric script.</p>\n\n<p>The correct way to fix this problem is to replace <code>nohup</code> in the remote command, with <code>screen -d -m &lt;command&gt;</code>.  Now I can run the whole script locally with no hangs (and I don't have to use <code>tmux</code> in the local term).</p>\n\n<p>Explicitly, I have to rewrite the last line of my script in my question as:</p>\n\n<pre><code>    # Remove &amp;, and nohup...\n    result = conn.run('screen -d -m ./foo', warn=True, hide=True)\n</code></pre>\n"}], "owner": {"reputation": 38309, "user_id": 667301, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/ce84c3fb1d8cbce03a2f03f0011f52d3?s=128&d=identicon&r=PG", "display_name": "Mike Pennington", "link": "https://stackoverflow.com/users/667301/mike-pennington"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 452, "favorite_count": 0, "accepted_answer_id": 51073635, "answer_count": 1, "score": 0, "last_activity_date": 1533948660, "creation_date": 1530135811, "last_edit_date": 1533948623, "question_id": 51071839, "link": "https://stackoverflow.com/questions/51071839/script-hangs-while-using-fabrics-connection-run-in-the-background", "title": "Script hangs while using Fabric&#39;s Connection.run() in the background", "body": "<h2>Overview</h2>\n\n<p>I'm trying to use python fabric to run an ssh command as root on a remote server.</p>\n\n<p>The command: <code>nohup ./foo &amp;</code></p>\n\n<p><code>foo</code> is expected to command run for several days.  I must be able to disassociate <code>foo</code> from fabric's remote ssh session, and put <code>foo</code> in the background.</p>\n\n<p>The <a href=\"http://www.fabfile.org/faq.html\" rel=\"nofollow noreferrer\">Fabric FAQ</a> says you should use something like <code>screen</code> or <code>tmux</code> when you run your fabric script (which runs the backgrounded command).  I tried that, but my fabric script still hung.  <code>foo</code> is not hanging.</p>\n\n<h2>Question</h2>\n\n<p>How do I use fabric to run this command on a remote server without the script hanging: <code>nohup ./foo &amp;</code></p>\n\n<h2>Details</h2>\n\n<p>This is my script:</p>\n\n<pre><code>#!/bin/sh\n# Credit: https://unix.stackexchange.com/a/20895/6766\nif \"true\" : '''\\'\n    then\n    exec \"/nfs/it/network_python/$OSREL/bin/python\" \"$0\" \"$@\"\n    exit 127\nfi\n'''\n\nfrom getpass import getpass\nimport os\n\nfrom fabric import Connection, Config\n\nassert os.geteuid()==0, \"ERROR: Must run as root\"\n\nfor host in ['host1.foo.local', 'host2.foo.local']:\n    # Make an ssh connection to the host...\n    conn = Connection(host)\n\n    # The script always hangs at this line \n    result = conn.run('nohup ./foo &amp;', warn=True, hide=True)\n</code></pre>\n\n<p>I always open a <code>tmux</code> session to run the aforementioned script in; even doing so, the script hangs when I get to <code>conn.run()</code>, above.</p>\n\n<p>I'm running the script on a vanilla CentOS 6.5 VM; it runs under python 2.7.10 and fabric 2.1.</p>\n"}, {"tags": ["python", "dataframe"], "comments": [{"owner": {"reputation": 45308, "user_id": 3483203, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/592wq.png?s=128&g=1", "display_name": "user3483203", "link": "https://stackoverflow.com/users/3483203/user3483203"}, "edited": false, "score": 1, "creation_date": 1530135804, "post_id": 51071758, "comment_id": 89133426, "body": "You do realize none of your rows are all positive values, is this desired?"}, {"owner": {"reputation": 45308, "user_id": 3483203, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/592wq.png?s=128&g=1", "display_name": "user3483203", "link": "https://stackoverflow.com/users/3483203/user3483203"}, "edited": false, "score": 1, "creation_date": 1530135835, "post_id": 51071758, "comment_id": 89133441, "body": "Either way, try <code>df.loc[~(df &lt; 0).any(1)]</code>"}, {"owner": {"reputation": 309, "user_id": 1795110, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/826f8d70625a92327d6a8bc5b2c60d5b?s=128&d=identicon&r=PG", "display_name": "Rana", "link": "https://stackoverflow.com/users/1795110/rana"}, "reply_to_user": {"reputation": 45308, "user_id": 3483203, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/592wq.png?s=128&g=1", "display_name": "user3483203", "link": "https://stackoverflow.com/users/3483203/user3483203"}, "edited": false, "score": 0, "creation_date": 1530144440, "post_id": 51071758, "comment_id": 89135575, "body": "Yes, thats fine."}], "answers": [{"comments": [{"owner": {"reputation": 29, "user_id": 5827987, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-0i7OrJb0ftk/AAAAAAAAAAI/AAAAAAAAADQ/Ait80NRb9kE/photo.jpg?sz=128", "display_name": "Parth Sharma", "link": "https://stackoverflow.com/users/5827987/parth-sharma"}, "edited": false, "score": 0, "creation_date": 1530136824, "post_id": 51071811, "comment_id": 89133806, "body": "Apologies, I forgot this line. you can try it now!"}], "tags": [], "owner": {"reputation": 29, "user_id": 5827987, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-0i7OrJb0ftk/AAAAAAAAAAI/AAAAAAAAADQ/Ait80NRb9kE/photo.jpg?sz=128", "display_name": "Parth Sharma", "link": "https://stackoverflow.com/users/5827987/parth-sharma"}, "is_accepted": false, "score": -1, "last_activity_date": 1530136717, "last_edit_date": 1530136717, "creation_date": 1530135669, "answer_id": 51071811, "question_id": 51071758, "link": "https://stackoverflow.com/questions/51071758/dataframe-and-list-all-the-positive-row-and-negative-row/51071811#51071811", "title": "dataframe and list all the positive row and negative row", "body": "<p>Here you go!</p>\n\n<pre><code>temp = df[df &gt;= 0]\nresult = tmp.dropna(axis=0)\n</code></pre>\n\n<p>Hope this helps!</p>\n"}], "owner": {"reputation": 309, "user_id": 1795110, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/826f8d70625a92327d6a8bc5b2c60d5b?s=128&d=identicon&r=PG", "display_name": "Rana", "link": "https://stackoverflow.com/users/1795110/rana"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 25, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1530136717, "creation_date": 1530135332, "last_edit_date": 1530135526, "question_id": 51071758, "link": "https://stackoverflow.com/questions/51071758/dataframe-and-list-all-the-positive-row-and-negative-row", "title": "dataframe and list all the positive row and negative row", "body": "<p>I have following set of data:</p>\n\n<pre><code>AC.TO      CL=F    CNQ.TO    CPG.TO    ECA.TO    IMO.TO     SU.TO    WJA.TO    XEG.TO    XFN.TO    XGD.TO       XOM\nDate                                                                                                                              \n2018-03-14  0.016316  0.000493 -0.002574  0.001160  0.012658 -0.008403 -0.003074  0.002465 -0.002755  0.001053  0.001741 -0.012478\n2018-03-15  0.002854  0.005089  0.006452  0.010429 -0.019444 -0.003507  0.002135  0.006967  0.004604  0.004208 -0.005213  0.011141\n2018-03-16 -0.003557  0.016659  0.019231  0.045872  0.034703  0.009971  0.015621  0.008547  0.023831  0.000000  0.005240  0.009406\n2018-03-20  0.043541  0.020270  0.009507  0.035108  0.020935  0.010192  0.024257 -0.001223  0.019178  0.004731 -0.007799 -0.002158\n2018-03-21 -0.014483  0.031063  0.032578  0.049234  0.075188  0.024503  0.012306 -0.005714  0.030466 -0.000785  0.013100  0.014191\n2018-03-23 -0.011410  0.019383 -0.013548 -0.017279 -0.018277 -0.018224  0.000700 -0.001709 -0.015138 -0.016524  0.027997 -0.008299\n2018-03-29  0.032395  0.003711  0.027137  0.024561  0.043446  0.008572  0.014827  0.005516  0.025408  0.009542  0.012987  0.024722\n2018-04-03 -0.001140  0.007450  0.043928 -0.002336  0.013991  0.011549  0.010546  0.002114  0.022645 -0.005442 -0.023589  0.024583\n2018-04-04  0.002664  0.000787  0.002177  0.012881 -0.012346  0.016101 -0.000227 -0.001688  0.000886 -0.003557 -0.007765 -0.001999\n2018-04-09 -0.015498  0.021630 -0.013517 -0.002181 -0.015782 -0.000562 -0.001518 -0.005947 -0.008613  0.005230 -0.010309  0.000000\n2018-04-10 -0.001968  0.037763  0.018750  0.036066  0.044461  0.005901  0.006299 -0.016239  0.024327 -0.001095  0.002604  0.029384\n2018-04-11 -0.014196  0.017814  0.019585  0.042194  0.027913  0.002793  0.020721 -0.008688  0.017812 -0.008772  0.022511  0.004671\n</code></pre>\n\n<p>Is there any query to list all the positive rows ( a row contains no negative value)</p>\n"}, {"tags": ["python", "machine-learning", "graph", "svm"], "comments": [{"owner": {"reputation": 49730, "user_id": 349130, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e4efeebbf6994bb904738c4fb8922bf?s=128&d=identicon&r=PG", "display_name": "Dr. Snoopy", "link": "https://stackoverflow.com/users/349130/dr-snoopy"}, "edited": false, "score": 1, "creation_date": 1530137254, "post_id": 51071756, "comment_id": 89133956, "body": "Sorry but this is not a programming question, I am not sure even if its on-topic of other SE sites."}, {"owner": {"reputation": 502, "user_id": 6025065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23246a1177b1a0539877a0f690e20dc5?s=128&d=identicon&r=PG&f=1", "display_name": "Ankita Mehta", "link": "https://stackoverflow.com/users/6025065/ankita-mehta"}, "edited": false, "score": 0, "creation_date": 1530144394, "post_id": 51071756, "comment_id": 89135563, "body": "Please provide code with which you are getting the graph. Also details of the parameters vote_count and budget variables"}], "owner": {"reputation": 437, "user_id": 8712899, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75340fb2889d817278458ab93d3f8464?s=128&d=identicon&r=PG&f=1", "display_name": "\u05d0\u05d1\u05e8\u05d2\u05d9\u05dc \u05d9\u05e2\u05e7\u05d5\u05d1\u05d5", "link": "https://stackoverflow.com/users/8712899/%d7%90%d7%91%d7%a8%d7%92%d7%99%d7%9c-%d7%99%d7%a2%d7%a7%d7%95%d7%91%d7%95"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 35, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1530135325, "creation_date": 1530135325, "question_id": 51071756, "link": "https://stackoverflow.com/questions/51071756/how-to-read-svm-results-graph", "title": "How to read SVM results graph", "body": "<p>As part of my academic project regarding predicting success rate of an upcoming movie, I had to use SVM classifier for multiple classes in order to classify to which class a movie belong. There are 5 classes : </p>\n\n<pre><code>Class 1 - Revenue &lt; 0.5M\nClass 2 - 0.5M &lt; Revenue &lt; 1M\nClass 3 - 1M &lt; Revenue &lt; 50M\nClass 4 - 50M &lt; Revenue &lt; 150M\nClass 5 - Revenue &gt; 150M\n</code></pre>\n\n<p>I get the results, and I'm able to calculate accuracy, but I have no idea how to read the following graph : </p>\n\n<p><a href=\"https://i.stack.imgur.com/E2DOr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/E2DOr.png\" alt=\"enter image description here\"></a></p>\n\n<p>Can someone please explain, what do we see in this graph? How should I read it?</p>\n"}, {"tags": ["python", "oop", "variables", "methods"], "comments": [{"owner": {"reputation": 45308, "user_id": 3483203, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/592wq.png?s=128&g=1", "display_name": "user3483203", "link": "https://stackoverflow.com/users/3483203/user3483203"}, "edited": false, "score": 0, "creation_date": 1530135514, "post_id": 51071742, "comment_id": 89133322, "body": "Can you explain a bit more about what you are trying to accomplish here?"}, {"owner": {"reputation": 30485, "user_id": 1222951, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/s64JD.png?s=128&g=1", "display_name": "Aran-Fey", "link": "https://stackoverflow.com/users/1222951/aran-fey"}, "edited": false, "score": 2, "creation_date": 1530135569, "post_id": 51071742, "comment_id": 89133339, "body": "What&#39;s the point of the <code>breed</code> function anyway? You&#39;ll get more useful responses if you explain what you&#39;re trying to do in more detail."}, {"owner": {"reputation": 31, "user_id": 9852793, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5a71a9a3bfbd90a9ab303f8169a4a9f?s=128&d=identicon&r=PG&f=1", "display_name": "Mladen MODD", "link": "https://stackoverflow.com/users/9852793/mladen-modd"}, "reply_to_user": {"reputation": 30485, "user_id": 1222951, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/s64JD.png?s=128&g=1", "display_name": "Aran-Fey", "link": "https://stackoverflow.com/users/1222951/aran-fey"}, "edited": false, "score": 0, "creation_date": 1530135830, "post_id": 51071742, "comment_id": 89133439, "body": "@Aran-Fey English is not my frist language, i used this code so it would be clear. Purpuse is that i want to have variable in a class that will be created when i initiallise instance with value that will get trought function but without my input.   i am not sure if i am making sense here. So, i will parse some arguments in instance and object will use that argument to create variablas based on methods i create inside object."}], "answers": [{"comments": [{"owner": {"reputation": 45308, "user_id": 3483203, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/592wq.png?s=128&g=1", "display_name": "user3483203", "link": "https://stackoverflow.com/users/3483203/user3483203"}, "edited": false, "score": 0, "creation_date": 1530135437, "post_id": 51071771, "comment_id": 89133284, "body": "This code doesn&#39;t even run if you try and create an instance of the class"}, {"owner": {"reputation": 31, "user_id": 9852793, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5a71a9a3bfbd90a9ab303f8169a4a9f?s=128&d=identicon&r=PG&f=1", "display_name": "Mladen MODD", "link": "https://stackoverflow.com/users/9852793/mladen-modd"}, "edited": false, "score": 0, "creation_date": 1530135466, "post_id": 51071771, "comment_id": 89133299, "body": "I have tried out that does not work:     self.breed = self.breed()   TypeError: breed() takes 0 positional arguments but 1 was given"}, {"owner": {"reputation": 31, "user_id": 9852793, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5a71a9a3bfbd90a9ab303f8169a4a9f?s=128&d=identicon&r=PG&f=1", "display_name": "Mladen MODD", "link": "https://stackoverflow.com/users/9852793/mladen-modd"}, "reply_to_user": {"reputation": 45308, "user_id": 3483203, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/592wq.png?s=128&g=1", "display_name": "user3483203", "link": "https://stackoverflow.com/users/3483203/user3483203"}, "edited": false, "score": 0, "creation_date": 1530135544, "post_id": 51071771, "comment_id": 89133329, "body": "@user3483203 What code? Mine? it does. Second one shows error that i quoted  &quot;    self.breed = self.breed() TypeError: breed() takes 0 positional arguments but 1 was given&quot;"}, {"owner": {"reputation": 2947, "user_id": 5458214, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Z2fXBqTZNbI/AAAAAAAAAAI/AAAAAAAAAJc/TcHnX1g9sL8/photo.jpg?sz=128", "display_name": "Matthew Story", "link": "https://stackoverflow.com/users/5458214/matthew-story"}, "edited": false, "score": 0, "creation_date": 1530135546, "post_id": 51071771, "comment_id": 89133330, "body": "Apologies, I&#39;ve updated the code so that it now works by changing the name of the method to <code>get_breed</code> so it does not conflict with the attribute name you&#39;d like to user, and adding the required <code>self</code> argument to the <code>get_breed</code> method."}, {"owner": {"reputation": 2947, "user_id": 5458214, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Z2fXBqTZNbI/AAAAAAAAAAI/AAAAAAAAAJc/TcHnX1g9sL8/photo.jpg?sz=128", "display_name": "Matthew Story", "link": "https://stackoverflow.com/users/5458214/matthew-story"}, "edited": false, "score": 0, "creation_date": 1530135808, "post_id": 51071771, "comment_id": 89133428, "body": "I just verified that this code works: <code>Dog(&quot;a&quot;, &quot;b&quot;).breed</code> &#39;rottwiller&#39;"}], "tags": [], "owner": {"reputation": 2947, "user_id": 5458214, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Z2fXBqTZNbI/AAAAAAAAAAI/AAAAAAAAAJc/TcHnX1g9sL8/photo.jpg?sz=128", "display_name": "Matthew Story", "link": "https://stackoverflow.com/users/5458214/matthew-story"}, "is_accepted": true, "score": -2, "last_activity_date": 1530136198, "last_edit_date": 1530136198, "creation_date": 1530135386, "answer_id": 51071771, "question_id": 51071742, "link": "https://stackoverflow.com/questions/51071742/is-there-another-way-to-get-value-from-object-method-into-object-variable/51071771#51071771", "title": "Is there another way to get value from object method into object variable", "body": "<p>There are a number of issues with the code posted.</p>\n\n<ol>\n<li>The <code>breed</code> method is overwritten in <code>__init__</code> method as you set the <code>breed</code> attribute. So the method should be renamed.</li>\n<li><p>The <code>breed</code> method needs to specify the first argument <code>self</code>.</p>\n\n<p>class Dog:\n    def get_breed(self):\n        return \"rottwiller\"</p>\n\n<pre><code>def __init__(self, name, age):\n    self.name = name\n    self.age = age\n    self.breed = self.get_breed()\n</code></pre></li>\n</ol>\n"}, {"comments": [{"owner": {"reputation": 2947, "user_id": 5458214, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Z2fXBqTZNbI/AAAAAAAAAAI/AAAAAAAAAJc/TcHnX1g9sL8/photo.jpg?sz=128", "display_name": "Matthew Story", "link": "https://stackoverflow.com/users/5458214/matthew-story"}, "edited": false, "score": 0, "creation_date": 1530135849, "post_id": 51071821, "comment_id": 89133447, "body": "You need to add <code>self</code> to the breed property for this to work."}, {"owner": {"reputation": 1809, "user_id": 9801728, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LXQkV.jpg?s=128&g=1", "display_name": "MoxieBall", "link": "https://stackoverflow.com/users/9801728/moxieball"}, "reply_to_user": {"reputation": 2947, "user_id": 5458214, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Z2fXBqTZNbI/AAAAAAAAAAI/AAAAAAAAAJc/TcHnX1g9sL8/photo.jpg?sz=128", "display_name": "Matthew Story", "link": "https://stackoverflow.com/users/5458214/matthew-story"}, "edited": false, "score": 0, "creation_date": 1530136005, "post_id": 51071821, "comment_id": 89133505, "body": "@MatthewStory I realized what you meant. I recommend pressing the &quot;edit&quot; button instead of the &quot;downvote&quot; button for simple mistakes on answers that you notice before their author."}, {"owner": {"reputation": 2947, "user_id": 5458214, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Z2fXBqTZNbI/AAAAAAAAAAI/AAAAAAAAAJc/TcHnX1g9sL8/photo.jpg?sz=128", "display_name": "Matthew Story", "link": "https://stackoverflow.com/users/5458214/matthew-story"}, "edited": false, "score": 0, "creation_date": 1530136069, "post_id": 51071821, "comment_id": 89133517, "body": "i removed my downvote when the code worked, my answer was also downvoted for the same reason ... :shrug:"}, {"owner": {"reputation": 1809, "user_id": 9801728, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LXQkV.jpg?s=128&g=1", "display_name": "MoxieBall", "link": "https://stackoverflow.com/users/9801728/moxieball"}, "reply_to_user": {"reputation": 31, "user_id": 9852793, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5a71a9a3bfbd90a9ab303f8169a4a9f?s=128&d=identicon&r=PG&f=1", "display_name": "Mladen MODD", "link": "https://stackoverflow.com/users/9852793/mladen-modd"}, "edited": false, "score": 0, "creation_date": 1530136231, "post_id": 51071821, "comment_id": 89133589, "body": "@MladenMODD this answer and the one you accepted do different things and have different method signatures for <code>__init__</code>. I&#39;m still not sure what your use case is"}, {"owner": {"reputation": 31, "user_id": 9852793, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5a71a9a3bfbd90a9ab303f8169a4a9f?s=128&d=identicon&r=PG&f=1", "display_name": "Mladen MODD", "link": "https://stackoverflow.com/users/9852793/mladen-modd"}, "edited": false, "score": 0, "creation_date": 1530136400, "post_id": 51071821, "comment_id": 89133657, "body": "Use case is bit more complex but my object will take argument as url address and get some data from that address (generate it trought methods), and after that i want to send that generated data to DB as object_name.variable_name  For example website[0].title_of_a_website  i am looking for various ways to achieve that."}, {"owner": {"reputation": 31, "user_id": 9852793, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5a71a9a3bfbd90a9ab303f8169a4a9f?s=128&d=identicon&r=PG&f=1", "display_name": "Mladen MODD", "link": "https://stackoverflow.com/users/9852793/mladen-modd"}, "edited": false, "score": 0, "creation_date": 1530136442, "post_id": 51071821, "comment_id": 89133672, "body": "Btw whats with downvotes? I think all the answers and question are totally okay.  Who and why is downvoting?"}], "tags": [], "owner": {"reputation": 1809, "user_id": 9801728, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LXQkV.jpg?s=128&g=1", "display_name": "MoxieBall", "link": "https://stackoverflow.com/users/9801728/moxieball"}, "is_accepted": false, "score": -1, "last_activity_date": 1530135895, "last_edit_date": 1530135895, "creation_date": 1530135716, "answer_id": 51071821, "question_id": 51071742, "link": "https://stackoverflow.com/questions/51071742/is-there-another-way-to-get-value-from-object-method-into-object-variable/51071821#51071821", "title": "Is there another way to get value from object method into object variable", "body": "<p>You shouldn't name an attribute and a method the same thing. That being said, my suspicions for why you are asking this question tell me I should point you towards the <code>@property</code> decorator. </p>\n\n<pre><code>class Dog():\n    def __init__(self, name, age, breed):\n        self.name = name\n        self.age = age\n        self._breed = breed\n\n    @property\n    def breed(self):\n        return self._breed\n</code></pre>\n\n<p>This is overkill for your example, but if you have a <code>Dog</code> class and a specific breed, I imagine you are thinking about subclasses and possibly more complicated things than you are doing here. Essentially, the <code>@property</code> decorator will allow you to access <code>breed</code> as an attribute, and will return the value of the call to the function you define under it by the same name. </p>\n"}], "owner": {"reputation": 31, "user_id": 9852793, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5a71a9a3bfbd90a9ab303f8169a4a9f?s=128&d=identicon&r=PG&f=1", "display_name": "Mladen MODD", "link": "https://stackoverflow.com/users/9852793/mladen-modd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "accepted_answer_id": 51071771, "answer_count": 2, "score": -2, "last_activity_date": 1530136198, "creation_date": 1530135242, "question_id": 51071742, "link": "https://stackoverflow.com/questions/51071742/is-there-another-way-to-get-value-from-object-method-into-object-variable", "title": "Is there another way to get value from object method into object variable", "body": "<p>I made code that goes like this</p>\n\n<pre><code>class Dog():\n    def breed():\n        return \"rottwiller\"\n\n    def __init__(self, name, age, breed=breed()):\n        self.name = name\n        self.age = age\n        self.breed = breed\n</code></pre>\n\n<p>Is there another way to achieve \"self.breed\" value instead of breed=breed(), but through function method as well. </p>\n\n<p>for example something similar to this( I have tried out this that does not work): </p>\n\n<pre><code>def __init__(self, name, age):\n    self.name = name\n    self.age = age\n    self.breed = breed()\n</code></pre>\n"}, {"tags": ["python", "visual-studio"], "comments": [{"owner": {"reputation": 141, "user_id": 9905957, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-LWixnahubf4/AAAAAAAAAAI/AAAAAAAAAAc/W2KIx7gjeuM/photo.jpg?sz=128", "display_name": "JeyzerMC", "link": "https://stackoverflow.com/users/9905957/jeyzermc"}, "edited": false, "score": 0, "creation_date": 1530135481, "post_id": 51071734, "comment_id": 89133307, "body": "In visual studio, if you click on the folder or a file in the folder in the solution explorer, it should appear under the panel Properties with the relative and full path of the file. Check if this is in your solution (A solution can contain files outside of the folder containing the .sln)."}, {"owner": {"reputation": 1643, "user_id": 8340867, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/D3XJl.jpg?s=128&g=1", "display_name": "ThunderHorn", "link": "https://stackoverflow.com/users/8340867/thunderhorn"}, "edited": false, "score": 0, "creation_date": 1530135504, "post_id": 51071734, "comment_id": 89133319, "body": "did you save your project?"}, {"owner": {"reputation": 2341, "user_id": 3589609, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/VPC24.jpg?s=128&g=1", "display_name": "Joshua Schlichting", "link": "https://stackoverflow.com/users/3589609/joshua-schlichting"}, "edited": false, "score": 0, "creation_date": 1530135908, "post_id": 51071734, "comment_id": 89133470, "body": "Can you right-click and get an option for &quot;View&quot; or &quot;Show&quot; in explorer?"}], "owner": {"user_type": "does_not_exist", "display_name": "user7496931"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 17, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1530135189, "creation_date": 1530135189, "question_id": 51071734, "link": "https://stackoverflow.com/questions/51071734/folder-not-showing-up-in-my-local-directory-but-it-is-in-my-editor", "title": "Folder not showing up in my local directory but it is in my editor", "body": "<p>I created a folder within a cloned repository named <code>GlobalMacroPy</code>. I added those files and created a test folder as well. </p>\n\n<p><a href=\"https://i.stack.imgur.com/QIHvi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QIHvi.png\" alt=\"enter image description here\"></a></p>\n\n<p>I'm trying to run the module on my command line but turns out the folder wasn't created locally, the files are there. There's just not <code>GlobalMacroPy</code> folder. NOTE: It's not <code>GlobalMacro</code></p>\n\n<p><a href=\"https://i.stack.imgur.com/3Yrvb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3Yrvb.png\" alt=\"enter image description here\"></a></p>\n\n<p>I can't really understand why, did create a folder the wrong way?</p>\n"}, {"tags": ["python", "django", "django-rest-framework", "django-treebeard"], "comments": [{"owner": {"reputation": 5244, "user_id": 6942134, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1nTLi.png?s=128&g=1", "display_name": "SergiyKolesnikov", "link": "https://stackoverflow.com/users/6942134/sergiykolesnikov"}, "edited": false, "score": 0, "creation_date": 1604064351, "post_id": 51071699, "comment_id": 114240306, "body": "Does this answer your question? <a href=\"https://stackoverflow.com/questions/13376894/django-rest-framework-nested-self-referential-objects\">Django rest framework nested self-referential objects</a>"}], "owner": {"reputation": 23, "user_id": 9105459, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/037ac653c5d70b9b634a5d07e6948558?s=128&d=identicon&r=PG&f=1", "display_name": "Yunus Emre &#214;RC&#220;N", "link": "https://stackoverflow.com/users/9105459/yunus-emre-%c3%96rc%c3%9cn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 294, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1530175678, "creation_date": 1530135007, "last_edit_date": 1530175678, "question_id": 51071699, "link": "https://stackoverflow.com/questions/51071699/while-trying-to-serialize-child-and-parent-nodes-of-a-model-i-get-recursionerro", "title": "While trying to serialize child and parent nodes of a model, I get RecursionError", "body": "<p>I am trying to make a comment model that supports an arbitrary number of replies. I am using Django Rest Framework and for comment trees I am using django-treebeard. </p>\n\n<p>This is my model code:</p>\n\n<pre><code>class Comment(MP_Node):\n    paylasan = models.ForeignKey(\n                to=settings.AUTH_USER_MODEL,\n                on_delete=models.CASCADE)\n\n    soru = models.ForeignKey(\n                to=Soru,\n                related_name=\"comments\",\n                on_delete=models.CASCADE)\n\n    metin = models.TextField()\n    upvote = models.PositiveIntegerField(default=0)\n    downvote = models.PositiveIntegerField(default=0)\n    created = models.DateTimeField(auto_now_add=True)\n\n    node_order_by = ['upvote']\n\n    def __unicode__(self):\n        return self.metin\n</code></pre>\n\n<p>This is my view which is simple:</p>\n\n<pre><code>class Comments(generics.ListAPIView):\n    queryset = Comment.objects.all()\n    serializer_class = CommentSerializer\n</code></pre>\n\n<p>This is my serializer:</p>\n\n<pre><code>class CommentSerializer(serializers.ModelSerializer):\n    paylasan = serializers.StringRelatedField()\n    children = serializers.SerializerMethodField(\n        read_only=True, method_name=\"get_children_nodes\"\n    )\n    parent = serializers.SerializerMethodField(\n        read_only=True, method_name=\"get_parent_nodes\"\n    )\n\n    class Meta:\n        fields = (\n            \"id\",\n            \"metin\",\n            \"soru\",\n            \"paylasan\",\n            \"children\",\n            \"parent\",\n            \"upvote\",\n            \"downvote\",\n            \"created\"\n        )\n        model = Comment\n\n    def get_children_nodes(self, obj):\n        child_queryset = obj.get_descendants()\n        return CommentSerializer(child_queryset, many=True).data\n\n    def get_parent_nodes(self, obj):\n        try:\n            parent_id = obj.get_parent().id\n        except AttributeError:\n            return {}\n        parent_queryset = Comment.objects.filter(id=parent_id)\n        return CommentSerializer(parent_queryset, many=True).data\n</code></pre>\n\n<p>When I run a test in ipython shell, I get an error saying \n<code>RecursionError: maximum recursion depth exceeded while calling a Python object</code> which eventually points to these lines in serializer:</p>\n\n<pre><code>~/Python/webapp/soruweb/serializers.py in get_children_nodes(self, obj)\n     82     def get_children_nodes(self, obj):\n     83         child_queryset = obj.get_descendants()\n---&gt; 84         return CommentSerializer(child_queryset, many=True).data\n     85 \n     86     def get_parent_nodes(self, obj):\n</code></pre>\n\n<p>The question is, how do i get rid of this error?</p>\n\n<p>Edit: What I forgot to say is that, when I try to contain only children or parent fields and comment the other one, it works. But when I try both of them together it does not work.</p>\n"}, {"tags": ["python", "startup"], "comments": [{"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1530135085, "post_id": 51071691, "comment_id": 89133159, "body": "Are you looking to do this only for starting an interactive session, or no . matter <i>how</i> Python is started (so every time you run a script or <code>-m</code> a module, it&#39;ll happen there as well)?"}, {"owner": {"reputation": 21366, "user_id": 7553525, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ua0kY.png?s=128&g=1", "display_name": "zwer", "link": "https://stackoverflow.com/users/7553525/zwer"}, "edited": false, "score": 1, "creation_date": 1530135384, "post_id": 51071691, "comment_id": 89133264, "body": "Why not alias the python binary and be done with it?"}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "reply_to_user": {"reputation": 21366, "user_id": 7553525, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ua0kY.png?s=128&g=1", "display_name": "zwer", "link": "https://stackoverflow.com/users/7553525/zwer"}, "edited": false, "score": 0, "creation_date": 1530136458, "post_id": 51071691, "comment_id": 89133676, "body": "@zwer But alias it to <i>what</i>? If you write, say, a bash script that runs Python, feeds in a heredoc, and then drops to real stdin, you can&#39;t use that as an executable in a shbang line on most platforms."}], "answers": [{"tags": [], "owner": {"reputation": 11001, "user_id": 3316882, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0dbfd45c99a28cab8fe0c8ddcb19aea3?s=128&d=identicon&r=PG&f=1", "display_name": "Sunitha", "link": "https://stackoverflow.com/users/3316882/sunitha"}, "is_accepted": false, "score": 0, "last_activity_date": 1530135391, "creation_date": 1530135391, "answer_id": 51071772, "question_id": 51071691, "link": "https://stackoverflow.com/questions/51071691/is-there-a-way-to-always-execute-a-script-when-python-starts-similar-site-prof/51071772#51071772", "title": "Is there a way to always execute a script when python starts? (similar site.profile in R)", "body": "<p>File pointed by your environmental variable <code>PYTHONSTARTUP</code> would be run on starting an interactive python session</p>\n\n<p>And <code>USER_SITE/usercustomize.py</code> will be run for non-interactive python session.</p>\n\n<p>Run <code>python -c \"import site; print(site.USER_SITE)\"</code> to find the <code>USER_SITE</code> dir location</p>\n"}, {"tags": [], "owner": {"reputation": 43245, "user_id": 699305, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/db6ce45b5ec86e1b00d922fc5cee315f?s=128&d=identicon&r=PG", "display_name": "alexis", "link": "https://stackoverflow.com/users/699305/alexis"}, "is_accepted": false, "score": 1, "last_activity_date": 1530136040, "creation_date": 1530136040, "answer_id": 51071885, "question_id": 51071691, "link": "https://stackoverflow.com/questions/51071691/is-there-a-way-to-always-execute-a-script-when-python-starts-similar-site-prof/51071885#51071885", "title": "Is there a way to always execute a script when python starts? (similar site.profile in R)", "body": "<p>The Python mechanism is called... <code>site</code>. It is a module that is automatically imported and sets up your environment. If it finds modules <code>sitecustomize.py</code> and <code>usercustomize.py</code>, it will import them as well. So these two are where you would put site-wide and personal customizations that you want to be a permanent part of your Python environment. See the <a href=\"https://docs.python.org/3.6/library/site.html\" rel=\"nofollow noreferrer\"><code>site</code> documentation</a> for more details.</p>\n"}, {"tags": [], "owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "is_accepted": true, "score": 2, "last_activity_date": 1530136641, "last_edit_date": 1592644375, "creation_date": 1530136059, "answer_id": 51071890, "question_id": 51071691, "link": "https://stackoverflow.com/questions/51071691/is-there-a-way-to-always-execute-a-script-when-python-starts-similar-site-prof/51071890#51071890", "title": "Is there a way to always execute a script when python starts? (similar site.profile in R)", "body": "<p>If you only want this for interactive sessions (as opposed to also happening every time you run a script with <code>python myscript.py</code> or <code>./myscript</code> or a module with <code>python -m mymodule</code>), what you want is the environment variable <a href=\"https://docs.python.org/3/using/cmdline.html#envvar-PYTHONSTARTUP\" rel=\"nofollow noreferrer\"><code>PYTHONSTARTUP</code></a>:</p>\n<blockquote>\n<p>If this is the name of a readable file, the Python commands in that file are executed before the first prompt is displayed in interactive mode. The file is executed in the same namespace where interactive commands are executed so that objects defined or imported in it can be used without qualification in the interactive session\u2026</p>\n</blockquote>\n<p>If you want this to always happen forever, of course, you need to set this environment variable in some appropriate global place\u2014e.g., your shell profile on most *nix platforms, or both your shell profile and your launchd profile on macOS, or the appropriate part of the Control Panel on Windows (the appropriate part changes with almost every new version of Windows, but it usually has &quot;System&quot; in the name).</p>\n<p>If you want this to happen for <em>all</em> users, not just the current user\u2026 the details for how to set a system-wide environment variable are more platform-specific, but otherwise the idea is the same.</p>\n<hr />\n<p>If you want this to happen for <em>every</em> Python session, even when some other program is running a Python script and you didn't even know it was doing that\u2026 what you want is either <code>usercustomize</code> or <code>sitecustomize</code>, as documented in the <a href=\"https://docs.python.org/3/library/site.html\" rel=\"nofollow noreferrer\"><code>site</code></a> documentation:</p>\n<blockquote>\n<p><strong>This module is automatically imported during initialization.</strong> The automatic import can be suppressed using the interpreter\u2019s -S option.</p>\n<p>\u2026</p>\n<p>After these path manipulations, an attempt is made to import a module named <code>sitecustomize</code>, which can perform arbitrary site-specific customizations. It is typically created by a system administrator in the <code>site-packages</code> directory.</p>\n<p>After this, an attempt is made to import a module named <code>usercustomize</code>, which can perform arbitrary user-specific customizations, if <code>ENABLE_USER_SITE</code> is true. This file is intended to be created in the user site-packages directory (see below), which is part of sys.path unless disabled by <code>-s</code>\u2026</p>\n</blockquote>\n<p>So, you want to find an appropriate place to override this. First try this:</p>\n<pre><code>python3 -m site\n</code></pre>\n<p>Then, if this didn't give you <code>sys.path</code> (probably only on pretty old Python, but just in case\u2026), also do this:</p>\n<pre><code>python3 -c 'import sys; print('\\n'.join(sys.path))'\n</code></pre>\n<p>If you want this customization to happen only for the current user, you want to create a <code>usercustomize.py</code> file in the <code>USER_SITE</code> directory listed by <code>python3 -m site</code>. If the directory doesn't exist, create it.</p>\n<p>If you want it to happen for all users, you want a <code>sitecustomize.py</code> file in one of the <code>sys.path</code> directories. The problem is that there may already be one. For example, most linux distros' builtin Python packages have their own <code>sitecustomize</code> modules. If there is, <code>python3 -c 'import sitecustomize; print(sitecustomize.__file__)</code> will tell you where it is. Then, you can edit, or you can copy it, edit that copy, and place that copy somewhere that comes earlier in <code>sys.path</code> than the original. As a general rule, <code>/usr/local</code> is probably better than <code>/usr</code>, and <code>site-packages</code> is probably better than <code>dist-packages</code> is probably better than anything else.</p>\n"}], "owner": {"reputation": 523, "user_id": 3754314, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/1739665361/picture?type=large", "display_name": "mmnormyle", "link": "https://stackoverflow.com/users/3754314/mmnormyle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 767, "favorite_count": 0, "accepted_answer_id": 51071890, "answer_count": 3, "score": 0, "last_activity_date": 1530136641, "creation_date": 1530134972, "last_edit_date": 1530135192, "question_id": 51071691, "link": "https://stackoverflow.com/questions/51071691/is-there-a-way-to-always-execute-a-script-when-python-starts-similar-site-prof", "title": "Is there a way to always execute a script when python starts? (similar site.profile in R)", "body": "<p>In the R programming language, there is a site.profile file that defines some code that R processes execute on start up. Is there similar functionality in Python?</p>\n\n<p>Edit: to clarify, this script should be executed if the user calls python from the command line, but also if python is spawned from another process (e.g. if the user's script uses subprocess to spawn another python).</p>\n"}, {"tags": ["python", "list", "append"], "comments": [{"owner": {"reputation": 30485, "user_id": 1222951, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/s64JD.png?s=128&g=1", "display_name": "Aran-Fey", "link": "https://stackoverflow.com/users/1222951/aran-fey"}, "edited": false, "score": 0, "creation_date": 1530134802, "post_id": 51071632, "comment_id": 89133053, "body": "What&#39;s the expected result?"}, {"owner": {"reputation": 17990, "user_id": 5827958, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/V9KEl.png?s=128&g=1", "display_name": "zondo", "link": "https://stackoverflow.com/users/5827958/zondo"}, "edited": false, "score": 1, "creation_date": 1530134813, "post_id": 51071632, "comment_id": 89133057, "body": "Because there is no 600th item in points3. It has only one."}, {"owner": {"reputation": 534, "user_id": 6799490, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/248aeda0155d57f63a76a9eeebbaf37f?s=128&d=identicon&r=PG&f=1", "display_name": "ccc", "link": "https://stackoverflow.com/users/6799490/ccc"}, "reply_to_user": {"reputation": 30485, "user_id": 1222951, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/s64JD.png?s=128&g=1", "display_name": "Aran-Fey", "link": "https://stackoverflow.com/users/1222951/aran-fey"}, "edited": false, "score": 0, "creation_date": 1530134894, "post_id": 51071632, "comment_id": 89133094, "body": "@Aran-Fey The list <code>originalval2</code> should be <code>[[1795,3866]]</code>"}, {"owner": {"reputation": 5010, "user_id": 9754169, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/785875bd9271c02795b886d3a9c65331?s=128&d=identicon&r=PG&f=1", "display_name": "Yuca", "link": "https://stackoverflow.com/users/9754169/yuca"}, "edited": false, "score": 1, "creation_date": 1530134934, "post_id": 51071632, "comment_id": 89133106, "body": "You are asking for the item located at index 600 when you do points3[att]. Currently you can only do points3[0]"}, {"owner": {"reputation": 534, "user_id": 6799490, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/248aeda0155d57f63a76a9eeebbaf37f?s=128&d=identicon&r=PG&f=1", "display_name": "ccc", "link": "https://stackoverflow.com/users/6799490/ccc"}, "reply_to_user": {"reputation": 17990, "user_id": 5827958, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/V9KEl.png?s=128&g=1", "display_name": "zondo", "link": "https://stackoverflow.com/users/5827958/zondo"}, "edited": false, "score": 0, "creation_date": 1530134960, "post_id": 51071632, "comment_id": 89133116, "body": "@zondo <code>points3</code> contains the coordinate of the element <code>600</code>."}, {"owner": {"reputation": 30485, "user_id": 1222951, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/s64JD.png?s=128&g=1", "display_name": "Aran-Fey", "link": "https://stackoverflow.com/users/1222951/aran-fey"}, "edited": false, "score": 1, "creation_date": 1530135039, "post_id": 51071632, "comment_id": 89133143, "body": "So just <code>originalval2 = [list(points3[0])]</code>? Or maybe even just <code>originalval2 = points3.copy()</code>?"}, {"owner": {"reputation": 1582, "user_id": 7795130, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Inihh.gif?s=128&g=1", "display_name": "Davy M", "link": "https://stackoverflow.com/users/7795130/davy-m"}, "edited": false, "score": 2, "creation_date": 1530135065, "post_id": 51071632, "comment_id": 89133154, "body": "You might be looking to use a dictionary, not a list. That lets you look up values based on keys you define, so you can tell it that when you look for &quot;600&quot; it gives you something specific."}, {"owner": {"reputation": 534, "user_id": 6799490, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/248aeda0155d57f63a76a9eeebbaf37f?s=128&d=identicon&r=PG&f=1", "display_name": "ccc", "link": "https://stackoverflow.com/users/6799490/ccc"}, "reply_to_user": {"reputation": 30485, "user_id": 1222951, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/s64JD.png?s=128&g=1", "display_name": "Aran-Fey", "link": "https://stackoverflow.com/users/1222951/aran-fey"}, "edited": false, "score": 0, "creation_date": 1530135189, "post_id": 51071632, "comment_id": 89133197, "body": "@Aran-Fey @Davy M @Gerardo Flores Thanks, everyone! <code>originalval2 = [list(points3[0])]</code> worked for me!"}, {"owner": {"reputation": 2341, "user_id": 3589609, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/VPC24.jpg?s=128&g=1", "display_name": "Joshua Schlichting", "link": "https://stackoverflow.com/users/3589609/joshua-schlichting"}, "edited": false, "score": 0, "creation_date": 1530137276, "post_id": 51071632, "comment_id": 89133963, "body": "@ccc Glad it worked out! Feel free to accept an answer below!"}, {"owner": {"reputation": 164, "user_id": 8261831, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/496c87506a2903f78bef5cc22aa9b8a0?s=128&d=identicon&r=PG&f=1", "display_name": "Ahmouse", "link": "https://stackoverflow.com/users/8261831/ahmouse"}, "edited": false, "score": 1, "creation_date": 1530137872, "post_id": 51071632, "comment_id": 89134130, "body": "also for future reference, if you are erroring and not sure if the function returns what you think it does, then try printing it so you can know what the problem is."}], "answers": [{"comments": [{"owner": {"reputation": 518, "user_id": 6023481, "user_type": "registered", "accept_rate": 12, "profile_image": "https://i.stack.imgur.com/p3ZPg.jpg?s=128&g=1", "display_name": "Nikhil Jain", "link": "https://stackoverflow.com/users/6023481/nikhil-jain"}, "reply_to_user": {"reputation": 30485, "user_id": 1222951, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/s64JD.png?s=128&g=1", "display_name": "Aran-Fey", "link": "https://stackoverflow.com/users/1222951/aran-fey"}, "edited": false, "score": 0, "creation_date": 1530135643, "post_id": 51071733, "comment_id": 89133364, "body": "Fixed, I didn&#39;t see that. Thanks for pointing that out. I though all he wanted to do was append"}], "tags": [], "owner": {"reputation": 518, "user_id": 6023481, "user_type": "registered", "accept_rate": 12, "profile_image": "https://i.stack.imgur.com/p3ZPg.jpg?s=128&g=1", "display_name": "Nikhil Jain", "link": "https://stackoverflow.com/users/6023481/nikhil-jain"}, "is_accepted": false, "score": 0, "last_activity_date": 1530135609, "last_edit_date": 1530135609, "creation_date": 1530135185, "answer_id": 51071733, "question_id": 51071632, "link": "https://stackoverflow.com/questions/51071632/list-index-out-of-range-python-lists-with-one-element/51071733#51071733", "title": "list index out of range - Python lists with one element", "body": "<p>Originally what you were trying to do was trying to access the element on the 600th position while there was just one element in the list. You need to access the element on the first position. </p>\n\n<pre><code>tempeqpos2 = [600]\npoints3 = [(1795,3866)]\noriginalval2=[]\nfor att in tempeqpos2:  \n    originalval2 = points3[0]\n\nprint(originalval2)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 442, "user_id": 9666795, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf51883733cb3335d251059e5956a3d5?s=128&d=identicon&r=PG&f=1", "display_name": "mrpepo877", "link": "https://stackoverflow.com/users/9666795/mrpepo877"}, "is_accepted": false, "score": 1, "last_activity_date": 1530135277, "creation_date": 1530135277, "answer_id": 51071748, "question_id": 51071632, "link": "https://stackoverflow.com/questions/51071632/list-index-out-of-range-python-lists-with-one-element/51071748#51071748", "title": "list index out of range - Python lists with one element", "body": "<p>i gonna try to explain you the most clear as posible</p>\n\n<pre><code> tempeqpos2 = [600]\n points3 = [(1795,3866)]\n originalval2=[]\n for att in tempeqpos2:  #see that \"att\" value for the first iteration is 600\n originalval2.append(list(points3[att])) #and here you are asking for the \"att\"=600 element of the list \"points3\" that only have 1 element that is (1795,3866)\n# and how you know is imposible ask for the element 600 if your list only have 1 element\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2341, "user_id": 3589609, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/VPC24.jpg?s=128&g=1", "display_name": "Joshua Schlichting", "link": "https://stackoverflow.com/users/3589609/joshua-schlichting"}, "is_accepted": true, "score": 6, "last_activity_date": 1530135326, "creation_date": 1530135326, "answer_id": 51071757, "question_id": 51071632, "link": "https://stackoverflow.com/questions/51071632/list-index-out-of-range-python-lists-with-one-element/51071757#51071757", "title": "list index out of range - Python lists with one element", "body": "<p>Your problem is when you attempt to access <strong>points3[att]</strong>. </p>\n\n<p>Because <strong>att</strong> resolves to the int <strong>600</strong>, you're asking for <strong>points3[600]</strong> when really only <strong>points3[0]</strong> exists.</p>\n"}, {"tags": [], "owner": {"reputation": 69906, "user_id": 6890912, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d291e4dfbf14dcc8874bd4fa620fac23?s=128&d=identicon&r=PG&f=1", "display_name": "blhsing", "link": "https://stackoverflow.com/users/6890912/blhsing"}, "is_accepted": false, "score": 1, "last_activity_date": 1530135348, "creation_date": 1530135348, "answer_id": 51071761, "question_id": 51071632, "link": "https://stackoverflow.com/questions/51071632/list-index-out-of-range-python-lists-with-one-element/51071761#51071761", "title": "list index out of range - Python lists with one element", "body": "<p>Your <code>att</code> is assigned to each item of <code>tempeqpos2</code>, which is a list of integers, which in this case, is just <code>600</code>, so when <code>points3[att]</code> is evaluated, it tries to access the index <code>600</code> of the <code>points3</code> list, which doesn't exist, since <code>points3</code> only has one item.</p>\n\n<p>Since items in <code>points3</code> correspond to items in <code>tempeqpos2</code>, it's recommended to join them as a dict instead:</p>\n\n<pre><code>originalval2 = {}\nfor i, att in enumerate(tempeqpos2):  \n    originalval2[att] = points3[i]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 69906, "user_id": 6890912, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d291e4dfbf14dcc8874bd4fa620fac23?s=128&d=identicon&r=PG&f=1", "display_name": "blhsing", "link": "https://stackoverflow.com/users/6890912/blhsing"}, "edited": false, "score": 1, "creation_date": 1530135650, "post_id": 51071770, "comment_id": 89133368, "body": "This is incorrect because you are just assigning the same <code>points3</code> to every item in <code>tempeqpos2</code>. If <code>tempeqpos2</code> had more than one item, your result will be a dict with multiple items of the same value but different keys."}, {"owner": {"reputation": 333, "user_id": 9722265, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BB29N.png?s=128&g=1", "display_name": "pypalms", "link": "https://stackoverflow.com/users/9722265/pypalms"}, "reply_to_user": {"reputation": 69906, "user_id": 6890912, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d291e4dfbf14dcc8874bd4fa620fac23?s=128&d=identicon&r=PG&f=1", "display_name": "blhsing", "link": "https://stackoverflow.com/users/6890912/blhsing"}, "edited": false, "score": 0, "creation_date": 1530136810, "post_id": 51071770, "comment_id": 89133799, "body": "@blhsing you are correct. I forgot to include an index for tempeqpos2. Edited to reflect that."}], "tags": [], "owner": {"reputation": 333, "user_id": 9722265, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BB29N.png?s=128&g=1", "display_name": "pypalms", "link": "https://stackoverflow.com/users/9722265/pypalms"}, "is_accepted": false, "score": 0, "last_activity_date": 1530136724, "last_edit_date": 1530136724, "creation_date": 1530135380, "answer_id": 51071770, "question_id": 51071632, "link": "https://stackoverflow.com/questions/51071632/list-index-out-of-range-python-lists-with-one-element/51071770#51071770", "title": "list index out of range - Python lists with one element", "body": "<p>Use of a dictionary might make more sense:</p>\n\n<pre><code>tempeqpos2 = [600]\npoints3 = [(1795,3866)]\n\noriginalval2 = {}\nfor index, att in enumerate(tempeqpos2):  \n    originalval2[att] = points3[index]\n\nprint(originalval2)\n</code></pre>\n\n<p>Runtime:</p>\n\n<pre><code>&gt;&gt;&gt; tempeqpos2 = [600]\n&gt;&gt;&gt; points3 = [(1795,3866)]\n&gt;&gt;&gt;\n&gt;&gt;&gt; originalval2 = {}\n&gt;&gt;&gt; for index, att in enumerate(tempeqpos2):\n...     originalval2[att] = points3[index]\n...\n&gt;&gt;&gt; print(originalval2)\n{600: (1795, 3866)}\n&gt;&gt;&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 988, "user_id": 9088546, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/y1Wcg.jpg?s=128&g=1", "display_name": "LN_P", "link": "https://stackoverflow.com/users/9088546/ln-p"}, "is_accepted": false, "score": 1, "last_activity_date": 1530135496, "creation_date": 1530135496, "answer_id": 51071786, "question_id": 51071632, "link": "https://stackoverflow.com/questions/51071632/list-index-out-of-range-python-lists-with-one-element/51071786#51071786", "title": "list index out of range - Python lists with one element", "body": "<p>When you call point3[att] after for att in tempeqpos2, att is equal to 600. Calling point3[att] is calling position 600 in the list point3. </p>\n"}, {"tags": [], "owner": {"reputation": 164, "user_id": 8261831, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/496c87506a2903f78bef5cc22aa9b8a0?s=128&d=identicon&r=PG&f=1", "display_name": "Ahmouse", "link": "https://stackoverflow.com/users/8261831/ahmouse"}, "is_accepted": false, "score": 1, "last_activity_date": 1530136522, "last_edit_date": 1530136522, "creation_date": 1530135893, "answer_id": 51071858, "question_id": 51071632, "link": "https://stackoverflow.com/questions/51071632/list-index-out-of-range-python-lists-with-one-element/51071858#51071858", "title": "list index out of range - Python lists with one element", "body": "<p>You could use <code>index</code> to get the position of the obj you want.</p>\n\n<p>Example:</p>\n\n<pre><code>points3 = [(1795,3866)]\ntempeqpos2 = [600]\noriginalval2=[]\nfor att in tempeqpos2:\n    originalval2.append(list(points3.index(att))\n</code></pre>\n\n<p><code>originalval2</code> would then contain <code>(1795,3866)</code></p>\n\n<p>Or using a dictionary:</p>\n\n<pre><code>points3 = [(1795,3866)]\ntempeqpos2 = [600]\noriginalval2={}\nfor att in tempeqpos2:\n    originalval2.append(dict(points3.index(att : tempeqpos2.index(att)))\n</code></pre>\n\n<p><code>originalval2</code> would then contain <code>600 : (1795,3866)</code></p>\n"}], "owner": {"reputation": 534, "user_id": 6799490, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/248aeda0155d57f63a76a9eeebbaf37f?s=128&d=identicon&r=PG&f=1", "display_name": "ccc", "link": "https://stackoverflow.com/users/6799490/ccc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 942, "favorite_count": 1, "accepted_answer_id": 51071757, "answer_count": 7, "score": 1, "last_activity_date": 1530138524, "creation_date": 1530134676, "last_edit_date": 1530138524, "question_id": 51071632, "link": "https://stackoverflow.com/questions/51071632/list-index-out-of-range-python-lists-with-one-element", "title": "list index out of range - Python lists with one element", "body": "<p>I have a list with just <strong>one</strong> element as: </p>\n\n<pre><code>tempeqpos2 = [600]\n</code></pre>\n\n<p>And it's coordinate is stored in a list called <code>points3</code> as follows:</p>\n\n<pre><code>points3 = [(1795,3866)]\n</code></pre>\n\n<p>Now I'm trying to append this coordinate into a list called <code>originalval2</code> as follows:</p>\n\n<pre><code> originalval2=[]\n for att in tempeqpos2:  \n     originalval2.append(list(points3[att]))\n</code></pre>\n\n<p>But this gives me an <code>IndexError:</code> <code>list index out of range</code>. Can you figure out the problem here? </p>\n\n<p>Since each <code>tempeqpos2</code> and <code>points3</code> has only one element, I tried making <code>originalval2</code> by giving  <code>originalval2=points3</code>. But this didn't work... </p>\n"}, {"tags": ["python", "class", "console"], "comments": [{"owner": {"reputation": 7368, "user_id": 3479456, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/zuJYi.png?s=128&g=1", "display_name": "pushkin", "link": "https://stackoverflow.com/users/3479456/pushkin"}, "edited": false, "score": 3, "creation_date": 1530134647, "post_id": 51071604, "comment_id": 89132989, "body": "<code>self</code> is the third arg because of how you&#39;re calling it. You should add a <code>self</code> param to <code>chunkIt</code>"}, {"owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "edited": false, "score": 0, "creation_date": 1530134819, "post_id": 51071604, "comment_id": 89133061, "body": "If <code>chunkIt</code> really has no need for <code>self</code>, you could make it a <code>@staticmethod</code>, or, probably better, just make it a top-level function instead of a method. But if <code>chunkIt</code> <i>might</i> conceptually have some use for <code>self</code>, even though your current implementation doesn&#39;t use it, it makes more sense to add the <code>self</code> parameter and use it as a normal method."}], "answers": [{"tags": [], "owner": {"reputation": 1815, "user_id": 6356538, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nQLie.png?s=128&g=1", "display_name": "Artsiom Praneuski", "link": "https://stackoverflow.com/users/6356538/artsiom-praneuski"}, "is_accepted": false, "score": 1, "last_activity_date": 1530134761, "creation_date": 1530134761, "answer_id": 51071651, "question_id": 51071604, "link": "https://stackoverflow.com/questions/51071604/typeerror-chunkit-takes-2-positional-arguments-but-3-were-given/51071651#51071651", "title": "TypeError: chunkIt() takes 2 positional arguments but 3 were given", "body": "<p>You forgot to add <code>self</code> to <code>chunkIt</code> method:</p>\n\n<pre><code> def new_question(self,options):\n     print(self.chunkIt(['1','2'],2))\n\n def chunkIt(self, seq, num):  \n     avg = len(seq) / float(num)\n     out = []\n     last = 0.0\n\n     while last &lt; len(seq):\n         out.append(seq[int(last):int(last + avg)])\n         last += avg\n     return out\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 333, "user_id": 9722265, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BB29N.png?s=128&g=1", "display_name": "pypalms", "link": "https://stackoverflow.com/users/9722265/pypalms"}, "is_accepted": true, "score": 4, "last_activity_date": 1530134784, "creation_date": 1530134784, "answer_id": 51071656, "question_id": 51071604, "link": "https://stackoverflow.com/questions/51071604/typeerror-chunkit-takes-2-positional-arguments-but-3-were-given/51071656#51071656", "title": "TypeError: chunkIt() takes 2 positional arguments but 3 were given", "body": "<p>self is the 3rd argument as I am assuming these methods are within a class given new_question calling self.</p>\n\n<pre><code>  def chunkIt(self, seq, num):  \n    avg = len(seq) / float(num)\n    out = []\n    last = 0.0\n\n    while last &lt; len(seq):\n        out.append(seq[int(last):int(last + avg)])\n        last += avg\n    return out\n</code></pre>\n\n<p>Regardless if you define it or not, unless you specify a method as static, it will always pass self to the method. Therefore by calling print(self.chunkIt(['1','2'],2)) it actually is being sent as print(self.chunkIt(self, ['1','2'],2))</p>\n"}], "owner": {"reputation": 329, "user_id": 8229169, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/dd117fc5a51d77c073c3fb2ebfb8deb8?s=128&d=identicon&r=PG&f=1", "display_name": "hopieman", "link": "https://stackoverflow.com/users/8229169/hopieman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7163, "favorite_count": 0, "closed_date": 1530134834, "accepted_answer_id": 51071656, "answer_count": 2, "score": 0, "last_activity_date": 1530134784, "creation_date": 1530134504, "question_id": 51071604, "link": "https://stackoverflow.com/questions/51071604/typeerror-chunkit-takes-2-positional-arguments-but-3-were-given", "closed_reason": "Duplicate", "title": "TypeError: chunkIt() takes 2 positional arguments but 3 were given", "body": "<p>When I try to run self.chunkIt inside this class Game, I receive this error:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"C:\\Users\\Ara\u00fajo\\Desktop\\hq_player.py\", line 128, in &lt;module&gt;\n    g.new_question([1,2])\n  File \"C:\\Users\\Ara\u00fajo\\Desktop\\hq_player.py\", line 84, in new_question\n    print(self.chunkIt(['1','2'],2))\nTypeError: chunkIt() takes 2 positional arguments but 3 were given\n</code></pre>\n\n<p>If try to run it alone in console, It works just fine.\nWhy is it  passing 3 arguments?\n    class Game:\n         def <strong>init</strong>(self,number_questions,devices):\n             self.number_questions = number_questions\n             self.devices = devices\n             self.question = 0</p>\n\n<pre><code>     def new_question(self,options):\n         print(self.chunkIt(['1','2'],2))\n\n      def chunkIt(seq, num):  \n        avg = len(seq) / float(num)\n        out = []\n        last = 0.0\n\n        while last &lt; len(seq):\n            out.append(seq[int(last):int(last + avg)])\n            last += avg\n        return out\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "unix"], "comments": [{"owner": {"reputation": 1700, "user_id": 2486753, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/RJf4Y.jpg?s=128&g=1", "display_name": "Dimitar Spasovski", "link": "https://stackoverflow.com/users/2486753/dimitar-spasovski"}, "edited": false, "score": 0, "creation_date": 1530134802, "post_id": 51071600, "comment_id": 89133051, "body": "Before asking people to write code for you, please show us what you have tried before posting the question. Asking a question like this without any code looks like a homework and that is not what stackoverflow is for."}, {"owner": {"reputation": 13, "user_id": 10002315, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-05gpjveMsCU/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq0V9kCU1z3LW3g0G8SpJ0RjSoO6OQ/mo/photo.jpg?sz=128", "display_name": "happylearning", "link": "https://stackoverflow.com/users/10002315/happylearning"}, "reply_to_user": {"reputation": 1700, "user_id": 2486753, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/RJf4Y.jpg?s=128&g=1", "display_name": "Dimitar Spasovski", "link": "https://stackoverflow.com/users/2486753/dimitar-spasovski"}, "edited": false, "score": 0, "creation_date": 1530135047, "post_id": 51071600, "comment_id": 89133148, "body": "I am not familiar with Unix or Python. I tried to use sql&#39;s substring function. But I was not able to get the desired output."}, {"owner": {"reputation": 13, "user_id": 10002315, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-05gpjveMsCU/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq0V9kCU1z3LW3g0G8SpJ0RjSoO6OQ/mo/photo.jpg?sz=128", "display_name": "happylearning", "link": "https://stackoverflow.com/users/10002315/happylearning"}, "reply_to_user": {"reputation": 1700, "user_id": 2486753, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/RJf4Y.jpg?s=128&g=1", "display_name": "Dimitar Spasovski", "link": "https://stackoverflow.com/users/2486753/dimitar-spasovski"}, "edited": false, "score": 0, "creation_date": 1530136346, "post_id": 51071600, "comment_id": 89133633, "body": "I googled for some code like this, but it need to be modified as my file is different:     for line in open(&quot;h2.txt&quot;):       line=line.strip().split(&quot;,&quot;)       for item in line[1:]:           if &quot;,&quot; in item:              item=item.split(&quot;,&quot;)         else:             item=item.split()         for i in item:             print &quot;%s|%s&quot; %(line[0],i)"}, {"owner": {"reputation": 2249, "user_id": 2077901, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d40fd792b32bbf3ee4e5ea9c3580df7e?s=128&d=identicon&r=PG", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/2077901/adam-smith"}, "reply_to_user": {"reputation": 1700, "user_id": 2486753, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/RJf4Y.jpg?s=128&g=1", "display_name": "Dimitar Spasovski", "link": "https://stackoverflow.com/users/2486753/dimitar-spasovski"}, "edited": false, "score": 0, "creation_date": 1530161111, "post_id": 51071600, "comment_id": 89138940, "body": "@Dvorog&#39;s first sentence is correct and should be heeded. Second sentence is incorrect and should be ignored. Source: SO Help <i>describes how</i> to ask for homework help: <a href=\"https://stackoverflow.com/help/on-topic\">stackoverflow.com/help/on-topic</a>"}, {"owner": {"reputation": 1700, "user_id": 2486753, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/RJf4Y.jpg?s=128&g=1", "display_name": "Dimitar Spasovski", "link": "https://stackoverflow.com/users/2486753/dimitar-spasovski"}, "reply_to_user": {"reputation": 2249, "user_id": 2077901, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d40fd792b32bbf3ee4e5ea9c3580df7e?s=128&d=identicon&r=PG", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/2077901/adam-smith"}, "edited": false, "score": 1, "creation_date": 1530173812, "post_id": 51071600, "comment_id": 89144553, "body": "@AdamSmith maybe I should rephrase my second sentence. What I was trying to say is that asking a question without showing any effort to solve it by yourself is not what you should do on stackoverflow. When I see a question like that it looks to me like the user didn&#39;t even research the problem and expects that posting it here will magically solve everything (I am not talking about the current question, I am talking in general)."}, {"owner": {"reputation": 2249, "user_id": 2077901, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d40fd792b32bbf3ee4e5ea9c3580df7e?s=128&d=identicon&r=PG", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/2077901/adam-smith"}, "reply_to_user": {"reputation": 1700, "user_id": 2486753, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/RJf4Y.jpg?s=128&g=1", "display_name": "Dimitar Spasovski", "link": "https://stackoverflow.com/users/2486753/dimitar-spasovski"}, "edited": false, "score": 1, "creation_date": 1530200562, "post_id": 51071600, "comment_id": 89162192, "body": "@Dvorog Noted and agreed. I think the SO &quot;homework&quot; debate is distraction when all questions should be held to the same standards."}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 10002315, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-05gpjveMsCU/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq0V9kCU1z3LW3g0G8SpJ0RjSoO6OQ/mo/photo.jpg?sz=128", "display_name": "happylearning", "link": "https://stackoverflow.com/users/10002315/happylearning"}, "edited": false, "score": 0, "creation_date": 1530149305, "post_id": 51072189, "comment_id": 89136482, "body": "Thank you Gelineau. This worked:    with open(&#39;h6.txt&#39;, &#39;r&#39;) as f:       for line in f:         line=line.strip()         fields = line.split(&#39;|&#39;)         timestamps = fields[-1].split(&#39;,&#39;)         for timestamp in timestamps:             print(&#39;|&#39;.join(fields[:-1]+[timestamp]))"}], "tags": [], "owner": {"reputation": 1589, "user_id": 4870915, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8163a9b5d6135e177bec139190d6ca47?s=128&d=identicon&r=PG&f=1", "display_name": "Gelineau", "link": "https://stackoverflow.com/users/4870915/gelineau"}, "is_accepted": true, "score": 0, "last_activity_date": 1530169751, "last_edit_date": 1530169751, "creation_date": 1530137907, "answer_id": 51072189, "question_id": 51071600, "link": "https://stackoverflow.com/questions/51071600/break-one-line-into-multiple-lines-but-repeating-the-names-using-python/51072189#51072189", "title": "break one line into multiple lines but repeating the names using python", "body": "<p>You can use split('|') to cut your line using <code>|</code>delimiter, and then split(',') to cut the final field into a list of timestamps</p>\n\n<pre><code>with open('/path/to/file', 'r') as f:  \n    for line in f:\n        fields = line.split('|')\n        timestamps = fields[-1].split(',')\n        for timestamp in timestamps:\n            print('|'.join(fields[:-1]+[timestamp]))\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 10002315, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-05gpjveMsCU/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq0V9kCU1z3LW3g0G8SpJ0RjSoO6OQ/mo/photo.jpg?sz=128", "display_name": "happylearning", "link": "https://stackoverflow.com/users/10002315/happylearning"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 36, "favorite_count": 0, "accepted_answer_id": 51072189, "answer_count": 1, "score": 0, "last_activity_date": 1530169751, "creation_date": 1530134476, "last_edit_date": 1530147436, "question_id": 51071600, "link": "https://stackoverflow.com/questions/51071600/break-one-line-into-multiple-lines-but-repeating-the-names-using-python", "title": "break one line into multiple lines but repeating the names using python", "body": "<p>I have an input file (fixed width format) text file like this:  </p>\n\n<pre><code>id1|col2|col3|...|timestamp1,timestamp2,timestamp3,timestamp4,timestamp5  \nid2|col2|col3|...|timestamp1,timestamp2  \nid3|col2|col3|...|timestamp1  \n...  \n</code></pre>\n\n<p>IDs have different numbers of timestamps. The desired output should be structured as: each id should have one timestamp, 2nd timestamp should be on a different line with the same ids in front. </p>\n\n<pre><code>id1|col2|col3|...|timestamp1  \nid1|col2|col3|...|timestamp2  \nid1|col2|col3|...|timestamp3  \nid1|col2|col3|...|timestamp4    \nid1|col2|col3|...|timestamp5    \nid2|col2|col3|...|timestamp1  \nid2|col2|col3|...|timestamp2  \nid3|col2|col3|...|timestamp1  \n</code></pre>\n\n<p>I have tried to read it in sql, but it is kind of tedious. I am looking to see if there is an answer in Python or unix. Thanks a lot.</p>\n"}, {"tags": ["python", "command-line", "terminal", "ctrl"], "comments": [{"owner": {"reputation": 1767, "user_id": 5420432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/626fb32f10020d504b6090933d592433?s=128&d=identicon&r=PG", "display_name": "RobertB", "link": "https://stackoverflow.com/users/5420432/robertb"}, "edited": false, "score": 2, "creation_date": 1530134569, "post_id": 51071560, "comment_id": 89132955, "body": "Generally speaking, on this site it is encouraged to post your code. Hard to advise where you are going wrong otherwise.  You need to open the file in binary read mode, read in the bytes and examine each byte so that it matches the ascii code for Ctrl-A (which I believe is the value 1)."}, {"owner": {"reputation": 35, "user_id": 8436348, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2bc9634103caa08da3d8fb8eba1d70b9?s=128&d=identicon&r=PG&f=1", "display_name": "Andy Chang", "link": "https://stackoverflow.com/users/8436348/andy-chang"}, "reply_to_user": {"reputation": 1767, "user_id": 5420432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/626fb32f10020d504b6090933d592433?s=128&d=identicon&r=PG", "display_name": "RobertB", "link": "https://stackoverflow.com/users/5420432/robertb"}, "edited": false, "score": 0, "creation_date": 1530135617, "post_id": 51071560, "comment_id": 89133353, "body": "Do you know how I am supposed to read by byte and match value 1 in python? Like using which function?"}, {"owner": {"reputation": 4908, "user_id": 2813263, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/fa58c516577bcbd4ef082553dedad4a5?s=128&d=identicon&r=PG", "display_name": "Domino", "link": "https://stackoverflow.com/users/2813263/domino"}, "edited": false, "score": 0, "creation_date": 1530136062, "post_id": 51071560, "comment_id": 89133515, "body": "Control characters are invisible characters, so the terminal uses ^A as a visual representation. You don&#39;t want to actually look for ^A if there&#39;s a control character. But it&#39;s hard to tell what is actually stored in the file. I suggest using an editor which displays invisible characters in a special way to make sure. Then you can use various <a href=\"https://docs.python.org/3/reference/lexical_analysis.html#string-and-bytes-literals\" rel=\"nofollow noreferrer\">escaping methods</a> to represent invisible characters and look for them."}, {"owner": {"reputation": 2905, "user_id": 495319, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/iyjw1.jpg?s=128&g=1", "display_name": "Wodin", "link": "https://stackoverflow.com/users/495319/wodin"}, "edited": false, "score": 0, "creation_date": 1530136686, "post_id": 51071560, "comment_id": 89133762, "body": "What do you mean by &quot;cannot be recognized&quot;? Do you get an exception? If so, what is it and what does the code look like?"}, {"owner": {"reputation": 35, "user_id": 8436348, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2bc9634103caa08da3d8fb8eba1d70b9?s=128&d=identicon&r=PG&f=1", "display_name": "Andy Chang", "link": "https://stackoverflow.com/users/8436348/andy-chang"}, "edited": false, "score": 0, "creation_date": 1530195279, "post_id": 51071560, "comment_id": 89158644, "body": "I mean the &quot;^A&quot; cannot be read and becomes invisible."}], "answers": [{"tags": [], "owner": {"reputation": 69906, "user_id": 6890912, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d291e4dfbf14dcc8874bd4fa620fac23?s=128&d=identicon&r=PG&f=1", "display_name": "blhsing", "link": "https://stackoverflow.com/users/6890912/blhsing"}, "is_accepted": false, "score": 0, "last_activity_date": 1530139633, "creation_date": 1530139633, "answer_id": 51072436, "question_id": 51071560, "link": "https://stackoverflow.com/questions/51071560/how-to-read-ctrl-command-characters-from-a-file-in-python/51072436#51072436", "title": "How to read Ctrl command characters from a file in Python", "body": "<p>These control characters are part of the <a href=\"http://jkorpela.fi/chars/c0.html\" rel=\"nofollow noreferrer\">ASCII character set</a>, with numeric codes ranging from 0 to 31 (or 00 to 1F in hexadecimals). To strip them out from a string, simply use regex substitution:</p>\n\n<pre><code>import re\nclean_string = re.sub(r'[\\x00-\\x1f]+', '', string_with_control_characters)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 35, "user_id": 8436348, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2bc9634103caa08da3d8fb8eba1d70b9?s=128&d=identicon&r=PG&f=1", "display_name": "Andy Chang", "link": "https://stackoverflow.com/users/8436348/andy-chang"}, "edited": false, "score": 0, "creation_date": 1530201853, "post_id": 51072495, "comment_id": 89162940, "body": "I didn&#39;t use the exact same method, but you gave me some pretty good inspiration. Instead of using str.find(&quot;^A&quot;) in my program, I used str.find(&quot;\\x01&quot;) and it worked. Thank you!"}], "tags": [], "owner": {"reputation": 3382, "user_id": 4759361, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/zu2kz.jpg?s=128&g=1", "display_name": "xrisk", "link": "https://stackoverflow.com/users/4759361/xrisk"}, "is_accepted": true, "score": 1, "last_activity_date": 1530140651, "last_edit_date": 1530140651, "creation_date": 1530140079, "answer_id": 51072495, "question_id": 51071560, "link": "https://stackoverflow.com/questions/51071560/how-to-read-ctrl-command-characters-from-a-file-in-python/51072495#51072495", "title": "How to read Ctrl command characters from a file in Python", "body": "<p>Simply read the file in binary mode like so: <code>open('file.txt', 'rb')</code>. Ctrl-A will be the value 1.</p>\n\n<pre><code>with open('test.txt', 'rb') as f:\n    text = f.read()\n    for char in text:\n        if char == b'\\x01': # \\x01 stands for the byte with hex value 01\n            # Do something\n            pass\n        else:\n            # Do something else\n            pass\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 770, "user_id": 1755138, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/b4519414b257ec3364aa5cfe9c838ee1?s=128&d=identicon&r=PG", "display_name": "Stephen Jacob", "link": "https://stackoverflow.com/users/1755138/stephen-jacob"}, "is_accepted": false, "score": 0, "last_activity_date": 1557369250, "creation_date": 1557369250, "answer_id": 56051418, "question_id": 51071560, "link": "https://stackoverflow.com/questions/51071560/how-to-read-ctrl-command-characters-from-a-file-in-python/56051418#56051418", "title": "How to read Ctrl command characters from a file in Python", "body": "<p>From the link below I realized that <strong>^L</strong>, is the control character for form feed.\n<a href=\"http://jkorpela.fi/chars/c0.html\" rel=\"nofollow noreferrer\">http://jkorpela.fi/chars/c0.html</a></p>\n\n<p>Then I found this answer from the following link:\n<a href=\"https://stackoverflow.com/questions/44955635/how-to-print-ff-form-feed-character\">How to print FF (form feed) character?</a></p>\n\n<p>I executed the following code and it worked perfectly.</p>\n\n<pre><code>if '\\f' in char:\n</code></pre>\n"}], "owner": {"reputation": 35, "user_id": 8436348, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2bc9634103caa08da3d8fb8eba1d70b9?s=128&d=identicon&r=PG&f=1", "display_name": "Andy Chang", "link": "https://stackoverflow.com/users/8436348/andy-chang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 984, "favorite_count": 1, "accepted_answer_id": 51072495, "answer_count": 3, "score": 2, "last_activity_date": 1557369250, "creation_date": 1530134282, "question_id": 51071560, "link": "https://stackoverflow.com/questions/51071560/how-to-read-ctrl-command-characters-from-a-file-in-python", "title": "How to read Ctrl command characters from a file in Python", "body": "<p>Right now I am trying to read and parse a file using Python 2. The creator of the file typed a bunch of lines in the terminal, with (Ctrl A)s within each line, and copied those lines into a text file. So the lines in the file look like \"(something)^A(something)\". When I use the readlines() function in python to read the file, those \"^A\" strings cannot be recognized. </p>\n\n<p>I tried to use io.open and codecs.open and set the encoding as UTF-8, but \"^A\" is clearly not an UTF-8 string. Does anyone know how to read these special control command strings from a file using python? Thank you very much!</p>\n"}, {"tags": ["python", "runtime-error"], "comments": [{"owner": {"reputation": 32007, "user_id": 5858851, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/yXFCX.jpg?s=128&g=1", "display_name": "pault", "link": "https://stackoverflow.com/users/5858851/pault"}, "edited": false, "score": 0, "creation_date": 1530134589, "post_id": 51071513, "comment_id": 89132962, "body": "It actually looks like you want to remove elements that appear exactly 4 times in your list. If so, you can follow a similar route to <a href=\"https://stackoverflow.com/a/26773120/5858851\">this answer</a>."}, {"owner": {"reputation": 1, "user_id": 10002256, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/794942015338544f4a0e28a70188f02c?s=128&d=identicon&r=PG&f=1", "display_name": "YEETetoo", "link": "https://stackoverflow.com/users/10002256/yeetetoo"}, "reply_to_user": {"reputation": 32007, "user_id": 5858851, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/yXFCX.jpg?s=128&g=1", "display_name": "pault", "link": "https://stackoverflow.com/users/5858851/pault"}, "edited": false, "score": 0, "creation_date": 1530150613, "post_id": 51071513, "comment_id": 89136712, "body": "I&#39;m confused on where to add the changes to the code, whenever I run my program, it still gives me the same error"}, {"owner": {"reputation": 32007, "user_id": 5858851, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/yXFCX.jpg?s=128&g=1", "display_name": "pault", "link": "https://stackoverflow.com/users/5858851/pault"}, "edited": false, "score": 0, "creation_date": 1530151509, "post_id": 51071513, "comment_id": 89136871, "body": "Did you read the linked duplicates? They explain in more detail, but essentially when you call <code>remove</code> you are reducing the length of your list as you are iterating over it. Eventually you remove enough items and <code>i</code> will be out of range. Change your <code>print</code> statement to: <code>print(&quot;i is {index} and length is {len}&quot;.format(index=i, len=len(userCards)))</code> and that should show you what&#39;s going on."}], "owner": {"reputation": 1, "user_id": 10002256, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/794942015338544f4a0e28a70188f02c?s=128&d=identicon&r=PG&f=1", "display_name": "YEETetoo", "link": "https://stackoverflow.com/users/10002256/yeetetoo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 149, "favorite_count": 0, "closed_date": 1530134405, "answer_count": 0, "score": 0, "last_activity_date": 1530134840, "creation_date": 1530134079, "question_id": 51071513, "link": "https://stackoverflow.com/questions/51071513/cant-debug-list-index-out-of-range-error", "closed_reason": "Duplicate", "title": "Can&#39;t debug list index out of range error", "body": "<pre><code>for i in range (len(userCards)):\n  print(\"i is \"+str(userCards[i]))\n  if userCards.count(userCards[i]) == 4:\n    userMatches = userMatches + 1\n    userCards.remove(userCards[i])\n</code></pre>\n\n<p>I'm trying to remove duplicate cards from a list of numbers but I keep getting the list index out of range error</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 5, "creation_date": 1530133963, "post_id": 51071467, "comment_id": 89132740, "body": "<code>[x for x, y in zip(X,Y) if y]</code>? But really, have you tried writing a for-loop with the logic you&#39;ve described? The snippet I&#39;ve provided will work, but you should try to work this out yourself."}], "answers": [{"tags": [], "owner": {"reputation": 1809, "user_id": 9801728, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LXQkV.jpg?s=128&g=1", "display_name": "MoxieBall", "link": "https://stackoverflow.com/users/9801728/moxieball"}, "is_accepted": false, "score": 0, "last_activity_date": 1530134150, "creation_date": 1530134150, "answer_id": 51071525, "question_id": 51071467, "link": "https://stackoverflow.com/questions/51071467/separate-a-list-based-on-values-in-a-second-list/51071525#51071525", "title": "Separate a list based on values in a second list", "body": "<p><code>list(itertools.compress(X, Y))</code> will get you the list of good lists. <code>list(itertools.compress(X, [not a for a in Y]))</code> will get you the list of bad lists.</p>\n"}, {"tags": [], "owner": {"reputation": 1409, "user_id": 7938658, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d7b0fe37848fa39291257168555aa2e5?s=128&d=identicon&r=PG&f=1", "display_name": "imperialgendarme", "link": "https://stackoverflow.com/users/7938658/imperialgendarme"}, "is_accepted": false, "score": 0, "last_activity_date": 1530134156, "creation_date": 1530134156, "answer_id": 51071527, "question_id": 51071467, "link": "https://stackoverflow.com/questions/51071467/separate-a-list-based-on-values-in-a-second-list/51071527#51071527", "title": "Separate a list based on values in a second list", "body": "<pre><code>X = [[9, 8, 7, 6], [5, 4, 3, 2], [10, 11, 12, 13]]\nY = [1, 0, 0]\n\ngood = []\nbad = []\nfor i in range(0, len(Y)):\n\n    if Y[i] == 1:\n        good.append(X[i])\n\n    else:\n        bad.append(X[i])\n</code></pre>\n\n<p>Now simply print out the lists <code>good</code> and <code>bad</code></p>\n"}, {"tags": [], "owner": {"reputation": 9372, "user_id": 4585963, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8Yzwc.jpg?s=128&g=1", "display_name": "hilberts_drinking_problem", "link": "https://stackoverflow.com/users/4585963/hilberts-drinking-problem"}, "is_accepted": false, "score": 0, "last_activity_date": 1530134239, "creation_date": 1530134239, "answer_id": 51071549, "question_id": 51071467, "link": "https://stackoverflow.com/questions/51071467/separate-a-list-based-on-values-in-a-second-list/51071549#51071549", "title": "Separate a list based on values in a second list", "body": "<p>You can simply treat <code>Y</code> as a list of indices for your desired partition.</p>\n\n<pre><code>xs = [[],[]]\n\nfor a, b in zip(X, Y):\n    xs[b].append(a)\n\nbad, good = xs\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 310996, "user_id": 908494, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG", "display_name": "abarnert", "link": "https://stackoverflow.com/users/908494/abarnert"}, "is_accepted": true, "score": 1, "last_activity_date": 1530134468, "creation_date": 1530134468, "answer_id": 51071597, "question_id": 51071467, "link": "https://stackoverflow.com/questions/51071467/separate-a-list-based-on-values-in-a-second-list/51071597#51071597", "title": "Separate a list based on values in a second list", "body": "<p>If something about your problem makes this naturally seems to call out for doing this in terms of slicing with a bunch of bools rather than looping, that may be a sign that you should be using NumPy:</p>\n\n<pre><code>&gt;&gt;&gt; x = np.array([[1,2,3], [4,5,6], [7,8,9]])\n&gt;&gt;&gt; y = np.array([1, 0, 1])\n&gt;&gt;&gt; y == 1\narray([ True, False,  True])\n&gt;&gt;&gt; x[y == 1]\narray([[1, 2, 3],\n       [7, 8, 9]])\n</code></pre>\n\n<hr>\n\n<p>If, on the other hand, this does make sense in terms of looping, the easy thing to do is write the loop statements out verbosely, and only then figure out how to translate that into a neat list comprehension.</p>\n\n<p>So, let's translate your English description into Python.</p>\n\n<p>First, we want to loop over the values of X with the corresponding values of Y. That's what <code>zip</code> does. So:</p>\n\n<pre><code>for x, y in zip(X, Y):\n</code></pre>\n\n<p>Now, an <code>x</code> is good if the <code>y</code> equals 1. So:</p>\n\n<pre><code>for x, y in zip(X, Y):\n    if y == 1:\n        # x is good\n</code></pre>\n\n<p>And what we want to do with the good <code>x</code> values is gather them into a new list. So:</p>\n\n<pre><code>good = []\nfor x, y in zip(X, Y):\n    if y == 1:\n        good.append(x)\n</code></pre>\n\n<p>And that exactly fits the pattern for a list comprehension: you create an empty list, then have a <code>for</code> with zero or more nested <code>for</code> and/or <code>if</code> statements underneath it and an <code>append</code> to the list at the base. So:</p>\n\n<pre><code>good = [x for x, y in zip(X, Y) if y == 1]\n</code></pre>\n\n<p>Or, since <code>1</code> is truthy and <code>0</code> is falsey:</p>\n\n<pre><code>good = [x for x, y in zip(X, Y) if y]\n</code></pre>\n\n<p>That looks like something general enough to wrap up as a function:</p>\n\n<pre><code>def compress(X, Y):\n    return [x for x, y in zip(X, Y) if y]\n</code></pre>\n\n<p>And finally, many interesting looping patterns like that are already wrapped up in a function in <a href=\"https://docs.python.org/3/library/itertools.html\" rel=\"nofollow noreferrer\"><code>itertools</code></a>\u2014or, if not there, then in third-party libraries like <code>more_itertools</code> and <code>toolz</code>. So, it's worth scanning through them to find if there's something that already does exactly what you want. And, in fact, there is:</p>\n\n<pre><code>def compress(data, selectors):\n    # compress('ABCDEF', [1,0,1,0,1,1]) --&gt; A C E F\n    return (d for d, s in zip(data, selectors) if s)\n</code></pre>\n\n<p>So, you can just use that:</p>\n\n<pre><code>import itertools\ngood = list(itertools.compress(X, Y))\n</code></pre>\n\n<p>But it's still worth learning how to write these things yourself, even if you end up using <code>itertools</code> in the end.</p>\n"}], "owner": {"reputation": 111, "user_id": 7407504, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/0420df0e37bb798216c88e4cd61c245e?s=128&d=identicon&r=PG&f=1", "display_name": "Carrie Brown", "link": "https://stackoverflow.com/users/7407504/carrie-brown"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 0, "accepted_answer_id": 51071597, "answer_count": 4, "score": 0, "last_activity_date": 1530147213, "creation_date": 1530133872, "last_edit_date": 1530147213, "question_id": 51071467, "link": "https://stackoverflow.com/questions/51071467/separate-a-list-based-on-values-in-a-second-list", "title": "Separate a list based on values in a second list", "body": "<p>X: a list of lists, where each list element corresponds to a label in Y</p>\n\n<p>Y: a binary list of labels (values are either 1 or 0)</p>\n\n<p>I want to extract the elements in X according to the value at the corresponding index in Y, as follows:</p>\n\n<p>good = values of X where the label/value in Y is 1<br>\nbad = values of X where the label/value in Y is 0</p>\n\n<p>I am still fairly new to sub-setting in Python and not really sure of a good way to do this.</p>\n"}, {"tags": ["python", "numpy"], "answers": [{"comments": [{"owner": {"reputation": 8130, "user_id": 2713740, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/f1f024ede163fdaebe61807ad5c88f1e?s=128&d=identicon&r=PG&f=1", "display_name": "Luca", "link": "https://stackoverflow.com/users/2713740/luca"}, "edited": false, "score": 0, "creation_date": 1530134580, "post_id": 51071518, "comment_id": 89132959, "body": "Hi, yes, my example was a bit contrived. But imagine you have something like... x = np.random.rand(3, 3, 3) and then you just want to swap the first two axes. I edited the question to reflect that."}, {"owner": {"reputation": 29, "user_id": 5827987, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-0i7OrJb0ftk/AAAAAAAAAAI/AAAAAAAAADQ/Ait80NRb9kE/photo.jpg?sz=128", "display_name": "Parth Sharma", "link": "https://stackoverflow.com/users/5827987/parth-sharma"}, "reply_to_user": {"reputation": 8130, "user_id": 2713740, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/f1f024ede163fdaebe61807ad5c88f1e?s=128&d=identicon&r=PG&f=1", "display_name": "Luca", "link": "https://stackoverflow.com/users/2713740/luca"}, "edited": false, "score": 0, "creation_date": 1530135164, "post_id": 51071518, "comment_id": 89133189, "body": "Hi, I have updated the code, you need to use np.swapaxes."}, {"owner": {"reputation": 8130, "user_id": 2713740, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/f1f024ede163fdaebe61807ad5c88f1e?s=128&d=identicon&r=PG&f=1", "display_name": "Luca", "link": "https://stackoverflow.com/users/2713740/luca"}, "edited": false, "score": 0, "creation_date": 1530135348, "post_id": 51071518, "comment_id": 89133252, "body": "This also, unfortunately, returns a view. I am using the latest version of numpy. Also from the documentation: For NumPy &gt;= 1.10.0, if a is an ndarray, then a view of a is returned; otherwise a new array is created"}, {"owner": {"reputation": 8130, "user_id": 2713740, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/f1f024ede163fdaebe61807ad5c88f1e?s=128&d=identicon&r=PG&f=1", "display_name": "Luca", "link": "https://stackoverflow.com/users/2713740/luca"}, "edited": false, "score": 0, "creation_date": 1530135856, "post_id": 51071518, "comment_id": 89133453, "body": "x.T is not what I need. As I only need to swap a couple of the axes not the whole array..."}, {"owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 0, "creation_date": 1530166380, "post_id": 51071518, "comment_id": 89140552, "body": "swapaxis and transpose can do the same thing"}], "tags": [], "owner": {"reputation": 29, "user_id": 5827987, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-0i7OrJb0ftk/AAAAAAAAAAI/AAAAAAAAADQ/Ait80NRb9kE/photo.jpg?sz=128", "display_name": "Parth Sharma", "link": "https://stackoverflow.com/users/5827987/parth-sharma"}, "is_accepted": false, "score": 1, "last_activity_date": 1530135070, "last_edit_date": 1530135070, "creation_date": 1530134086, "answer_id": 51071518, "question_id": 51071460, "link": "https://stackoverflow.com/questions/51071460/numpy-write-the-permuted-version-of-the-array/51071518#51071518", "title": "numpy write the permuted version of the array", "body": "<p>I think you just need to use numpy's swapaxes.</p>\n\n<pre><code>import numpy as np\nx = np.random.rand(3, 3)\na = np.swapaxes(x,0,1)\na.tofile(\"a.bin\")\nx.tofile(\"x.bin\")\n</code></pre>\n\n<p>Hope this helps!</p>\n"}, {"comments": [{"owner": {"reputation": 8130, "user_id": 2713740, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/f1f024ede163fdaebe61807ad5c88f1e?s=128&d=identicon&r=PG&f=1", "display_name": "Luca", "link": "https://stackoverflow.com/users/2713740/luca"}, "edited": false, "score": 0, "creation_date": 1530135824, "post_id": 51071791, "comment_id": 89133438, "body": "which version of numpy are you using? Did you use <code>transpose</code> as well?"}, {"owner": {"reputation": 7050, "user_id": 8033585, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cbcd92ce2da15d74815d79b2908132d3?s=128&d=identicon&r=PG&f=1", "display_name": "AGN Gazer", "link": "https://stackoverflow.com/users/8033585/agn-gazer"}, "reply_to_user": {"reputation": 8130, "user_id": 2713740, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/f1f024ede163fdaebe61807ad5c88f1e?s=128&d=identicon&r=PG&f=1", "display_name": "Luca", "link": "https://stackoverflow.com/users/2713740/luca"}, "edited": false, "score": 0, "creation_date": 1530135985, "post_id": 51071791, "comment_id": 89133497, "body": "@Luca I just run your code exactly as you posted it."}, {"owner": {"reputation": 8130, "user_id": 2713740, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/f1f024ede163fdaebe61807ad5c88f1e?s=128&d=identicon&r=PG&f=1", "display_name": "Luca", "link": "https://stackoverflow.com/users/2713740/luca"}, "edited": false, "score": 0, "creation_date": 1530136028, "post_id": 51071791, "comment_id": 89133511, "body": "I am on 1.14.3 as well. Can you just try the output the np.fromfile(&quot;a.bin&quot;) and np.fromfile(&quot;x.bin&quot;) as well without the reshape. I am not sure why we are getting different results"}, {"owner": {"reputation": 8130, "user_id": 2713740, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/f1f024ede163fdaebe61807ad5c88f1e?s=128&d=identicon&r=PG&f=1", "display_name": "Luca", "link": "https://stackoverflow.com/users/2713740/luca"}, "edited": false, "score": 0, "creation_date": 1530136103, "post_id": 51071791, "comment_id": 89133527, "body": "I ran your code and I am getting the same array back. Only thing I can tbink of is that for some reason your version is not returning a view into the array..."}, {"owner": {"reputation": 8130, "user_id": 2713740, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/f1f024ede163fdaebe61807ad5c88f1e?s=128&d=identicon&r=PG&f=1", "display_name": "Luca", "link": "https://stackoverflow.com/users/2713740/luca"}, "edited": false, "score": 0, "creation_date": 1530136462, "post_id": 51071791, "comment_id": 89133677, "body": "I am absolutely perplexed... I will create a separate environment as well and see if I can reproduce."}, {"owner": {"reputation": 7050, "user_id": 8033585, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cbcd92ce2da15d74815d79b2908132d3?s=128&d=identicon&r=PG&f=1", "display_name": "AGN Gazer", "link": "https://stackoverflow.com/users/8033585/agn-gazer"}, "reply_to_user": {"reputation": 8130, "user_id": 2713740, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/f1f024ede163fdaebe61807ad5c88f1e?s=128&d=identicon&r=PG&f=1", "display_name": "Luca", "link": "https://stackoverflow.com/users/2713740/luca"}, "edited": false, "score": 0, "creation_date": 1530186331, "post_id": 51071791, "comment_id": 89152474, "body": "@Luca So what was wrong? Was the environment somehow messed up?"}, {"owner": {"reputation": 8130, "user_id": 2713740, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/f1f024ede163fdaebe61807ad5c88f1e?s=128&d=identicon&r=PG&f=1", "display_name": "Luca", "link": "https://stackoverflow.com/users/2713740/luca"}, "edited": false, "score": 1, "creation_date": 1530194658, "post_id": 51071791, "comment_id": 89158231, "body": "Yes, I created another environment with the same version of numpy and it was working for some reason. I have no clue how this can happen. I reran the code 10s of times just to be sure. I have a deadline for Sunday but after that I will try to get to the bottom of this. It is most inexplicable..."}], "tags": [], "owner": {"reputation": 7050, "user_id": 8033585, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cbcd92ce2da15d74815d79b2908132d3?s=128&d=identicon&r=PG&f=1", "display_name": "AGN Gazer", "link": "https://stackoverflow.com/users/8033585/agn-gazer"}, "is_accepted": true, "score": 2, "last_activity_date": 1530136604, "last_edit_date": 1530136604, "creation_date": 1530135527, "answer_id": 51071791, "question_id": 51071460, "link": "https://stackoverflow.com/questions/51071460/numpy-write-the-permuted-version-of-the-array/51071791#51071791", "title": "numpy write the permuted version of the array", "body": "<p>I cannot reproduce your findings: I get different arrays:</p>\n\n<pre><code>In [11]: np.fromfile('a.bin').reshape((3,3,3))\nOut[11]: \narray([[[0.95499073, 0.53044188, 0.31122484],\n        [0.44293225, 0.23932913, 0.13954034],\n        [0.08992127, 0.59397388, 0.72471928]],\n\n       [[0.43503453, 0.15910105, 0.10589887],\n        [0.39610877, 0.68784233, 0.87956587],\n        [0.89785046, 0.64688383, 0.40787343]],\n\n       [[0.91490793, 0.31428658, 0.85234109],\n        [0.36403572, 0.99601086, 0.46086401],\n        [0.43524914, 0.85182394, 0.01254642]]])\n\nIn [12]: np.fromfile('x.bin').reshape((3,3,3))\nOut[12]: \narray([[[0.95499073, 0.53044188, 0.31122484],\n        [0.43503453, 0.15910105, 0.10589887],\n        [0.91490793, 0.31428658, 0.85234109]],\n\n       [[0.44293225, 0.23932913, 0.13954034],\n        [0.39610877, 0.68784233, 0.87956587],\n        [0.36403572, 0.99601086, 0.46086401]],\n\n       [[0.08992127, 0.59397388, 0.72471928],\n        [0.89785046, 0.64688383, 0.40787343],\n        [0.43524914, 0.85182394, 0.01254642]]])\n</code></pre>\n\n<p>Without reshape:</p>\n\n<pre><code>In [22]: np.fromfile('a.bin')\nOut[22]: \narray([0.95499073, 0.53044188, 0.31122484, 0.44293225, 0.23932913,\n       0.13954034, 0.08992127, 0.59397388, 0.72471928, 0.43503453,\n       0.15910105, 0.10589887, 0.39610877, 0.68784233, 0.87956587,\n       0.89785046, 0.64688383, 0.40787343, 0.91490793, 0.31428658,\n       0.85234109, 0.36403572, 0.99601086, 0.46086401, 0.43524914,\n       0.85182394, 0.01254642])\n\nIn [23]: np.fromfile('x.bin')\nOut[23]: \narray([0.95499073, 0.53044188, 0.31122484, 0.43503453, 0.15910105,\n       0.10589887, 0.91490793, 0.31428658, 0.85234109, 0.44293225,\n       0.23932913, 0.13954034, 0.39610877, 0.68784233, 0.87956587,\n       0.36403572, 0.99601086, 0.46086401, 0.08992127, 0.59397388,\n       0.72471928, 0.89785046, 0.64688383, 0.40787343, 0.43524914,\n       0.85182394, 0.01254642])\n</code></pre>\n\n<p>My version of <code>numpy</code> and Python are:</p>\n\n<pre><code>In [21]: import sys\n    ...: print(sys.version)\n    ...: print(\"\\nNumpy version: \" + np.__version__)\n    ...: \n2.7.15 |Anaconda, Inc.| (default, May  1 2018, 18:37:05) \n[GCC 4.2.1 Compatible Clang 4.0.1 (tags/RELEASE_401/final)]\n\nNumpy version: 1.14.5\n</code></pre>\n\n<hr>\n\n<p>I also tried a different environment with the same result:</p>\n\n<pre><code>In [1]: import sys\n   ...: import numpy as np\n   ...: print(sys.version)\n   ...: print(np.__version__)\n   ...: \n3.6.5 |Anaconda, Inc.| (default, Apr 26 2018, 08:42:37) \n[GCC 4.2.1 Compatible Clang 4.0.1 (tags/RELEASE_401/final)]\n1.13.3\n\nIn [2]: x = np.random.rand(3, 3, 3)\n   ...: a = np.transpose(x, (1, 0, 2))\n   ...: a.tofile(\"a.bin\")\n   ...: x.tofile(\"x.bin\")\n   ...: \n\nIn [3]: np.fromfile('a.bin').reshape((3,3,3))\nOut[3]: \narray([[[ 0.7628757 ,  0.5117887 ,  0.85286206],\n        [ 0.27096479,  0.5056376 ,  0.14519906],\n        [ 0.9517039 ,  0.92225717,  0.85885034]],\n\n       [[ 0.57380259,  0.74694459,  0.19207375],\n        [ 0.50738877,  0.33581015,  0.57100872],\n        [ 0.54989565,  0.35004858,  0.9527302 ]],\n\n       [[ 0.94359803,  0.6223541 ,  0.57774136],\n        [ 0.92983442,  0.98074324,  0.62467311],\n        [ 0.49712549,  0.73399765,  0.56790972]]])\n\nIn [4]: np.fromfile('x.bin').reshape((3,3,3))\nOut[4]: \narray([[[ 0.7628757 ,  0.5117887 ,  0.85286206],\n        [ 0.57380259,  0.74694459,  0.19207375],\n        [ 0.94359803,  0.6223541 ,  0.57774136]],\n\n       [[ 0.27096479,  0.5056376 ,  0.14519906],\n        [ 0.50738877,  0.33581015,  0.57100872],\n        [ 0.92983442,  0.98074324,  0.62467311]],\n\n       [[ 0.9517039 ,  0.92225717,  0.85885034],\n        [ 0.54989565,  0.35004858,  0.9527302 ],\n        [ 0.49712549,  0.73399765,  0.56790972]]])\n</code></pre>\n"}], "owner": {"reputation": 8130, "user_id": 2713740, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/f1f024ede163fdaebe61807ad5c88f1e?s=128&d=identicon&r=PG&f=1", "display_name": "Luca", "link": "https://stackoverflow.com/users/2713740/luca"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 1, "accepted_answer_id": 51071791, "answer_count": 2, "score": 2, "last_activity_date": 1530136604, "creation_date": 1530133833, "last_edit_date": 1530134599, "question_id": 51071460, "link": "https://stackoverflow.com/questions/51071460/numpy-write-the-permuted-version-of-the-array", "title": "numpy write the permuted version of the array", "body": "<p>I have to dump the contents of a numpy ndarray to a binary file which is going to be read by a third party program. However, what I want to do is write the contents of a permuted axes. As an example, I have something like:</p>\n\n<pre><code>import numpy as np\nx = np.random.rand(3, 3, 3)\n\na = np.transpose(x, (1, 0, 2))\na.tofile(\"a.bin\")\nx.tofile(\"x.bin\")\n</code></pre>\n\n<p>In both the cases, the outputted files are the same. Is there a <code>transpose</code> like operation which willa ctually move the contents of the array around rather than just swap the stride and dimensions? This way the raw content would be serialized in the order that I need.</p>\n"}, {"tags": ["python", "python-3.x", "macos", "pycharm"], "comments": [{"owner": {"reputation": 2934, "user_id": 3902974, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/LpTxC.jpg?s=128&g=1", "display_name": "Natsfan", "link": "https://stackoverflow.com/users/3902974/natsfan"}, "edited": false, "score": 1, "creation_date": 1530223227, "post_id": 51071452, "comment_id": 89171740, "body": "if you have a script to run try running from the command line. Type &#39;python your_filename.py&#39; and hit return on the command line. If it runs type &#39;which python&#39; to determine which version of python you ran. If these all work then it seems that your problem is with Pycharm. Either how you installed it or how you ran it. If first commands don&#39;t work it most likely a python issue on your machine."}, {"owner": {"reputation": 182, "user_id": 8020062, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/v7iXC.png?s=128&g=1", "display_name": "enigma6174", "link": "https://stackoverflow.com/users/8020062/enigma6174"}, "reply_to_user": {"reputation": 2934, "user_id": 3902974, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/LpTxC.jpg?s=128&g=1", "display_name": "Natsfan", "link": "https://stackoverflow.com/users/3902974/natsfan"}, "edited": false, "score": 0, "creation_date": 1530262986, "post_id": 51071452, "comment_id": 89183627, "body": "Thanks for the update. I already tried out all the above but it doesn&#39;t seem to work. I don&#39;t have Python issues I am sure about that because Anaconda and all run properly. I am using Spyder currently and there the Python console works. Installation and running PyCharm is a no brainer (simple click to install like Windows) so I am sure the problem is with PyCharm"}, {"owner": {"reputation": 2934, "user_id": 3902974, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/LpTxC.jpg?s=128&g=1", "display_name": "Natsfan", "link": "https://stackoverflow.com/users/3902974/natsfan"}, "edited": false, "score": 1, "creation_date": 1530310550, "post_id": 51071452, "comment_id": 89207093, "body": "Since you installed Anaconda and Spyder have you tried using virtual environments which are nicely described in the Anaconda documentation?  The may be described well in Pycharm too and they may be required by PyCharm if more than 1 version of python is installed.  Running PyCharm may be a no brainer but any python executable could be confused if multiple pythons are installed and virtual environments are NOT used. It takes two lines and a few minutes to install virtual environments for python 2.7 and 3.6."}, {"owner": {"reputation": 182, "user_id": 8020062, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/v7iXC.png?s=128&g=1", "display_name": "enigma6174", "link": "https://stackoverflow.com/users/8020062/enigma6174"}, "reply_to_user": {"reputation": 2934, "user_id": 3902974, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/LpTxC.jpg?s=128&g=1", "display_name": "Natsfan", "link": "https://stackoverflow.com/users/3902974/natsfan"}, "edited": false, "score": 0, "creation_date": 1530726651, "post_id": 51071452, "comment_id": 89340232, "body": "Sorry for the late reply but I tried your solutions none of them worked, maybe (and mostly I guess it&#39;s an issue of PyCharm for eg. similar to Netbeans 8.2 not working with jdk 9 and above) so now I am using Spyder. Thanks for the help though!"}, {"owner": {"reputation": 182, "user_id": 8020062, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/v7iXC.png?s=128&g=1", "display_name": "enigma6174", "link": "https://stackoverflow.com/users/8020062/enigma6174"}, "reply_to_user": {"reputation": 2934, "user_id": 3902974, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/LpTxC.jpg?s=128&g=1", "display_name": "Natsfan", "link": "https://stackoverflow.com/users/3902974/natsfan"}, "edited": false, "score": 0, "creation_date": 1531217912, "post_id": 51071452, "comment_id": 89503331, "body": "@jmh figured out the solution and posted an answer here, but I still couldn&#39;t figure out what was causing the problem. My best guess would be SIP which is enabled by default for Mac"}], "answers": [{"comments": [{"owner": {"reputation": 182, "user_id": 8020062, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/v7iXC.png?s=128&g=1", "display_name": "enigma6174", "link": "https://stackoverflow.com/users/8020062/enigma6174"}, "edited": false, "score": 0, "creation_date": 1531218206, "post_id": 51262675, "comment_id": 89503556, "body": "Note that the first step MAYBE optional. Try out all the other steps WITHOUT the downloading the latest version of PyCharm and if it works, well and good. If it doesn&#39;t then you may have to download the latest version in the link provided."}], "tags": [], "owner": {"reputation": 182, "user_id": 8020062, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/v7iXC.png?s=128&g=1", "display_name": "enigma6174", "link": "https://stackoverflow.com/users/8020062/enigma6174"}, "is_accepted": false, "score": 0, "last_activity_date": 1531217797, "creation_date": 1531217797, "answer_id": 51262675, "question_id": 51071452, "link": "https://stackoverflow.com/questions/51071452/python-console-not-working-in-pycharm-running-on-mac-os/51262675#51262675", "title": "Python console not working in PyCharm running on Mac OS", "body": "<p><strong>SOLUTION</strong></p>\n\n<ul>\n<li>Download the latest version of PyCharm from <a href=\"https://www.jetbrains.com/pycharm/download/download-thanks.html?type=eap&amp;code=PCC\" rel=\"nofollow noreferrer\">here</a><br>\nNote that this is the latest release of PyCharm which is I guess in beta development and hence might not be stable.</li>\n<li><p>Navigate to /etc folder and open the <strong>hosts</strong> file for editing using the following command:</p>\n\n<blockquote>\n  <p>sudo vim hosts</p>\n</blockquote></li>\n<li><p>Ensure the hosts file looks as follows :<br>\n<a href=\"https://i.stack.imgur.com/avfBT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/avfBT.png\" alt=\"Screenshot of hosts configuration file\"></a>  What I have done is commented out the last line of code and added a new line <strong>127.0.0.1 my_computer_name</strong> which <strong>almost</strong> solves the problem.</p></li>\n<li><p>To get <strong>my_computer_name</strong> (in this example <em>Anishs-MacBook-Pro.local</em>) you need to type the following in your terminal :  </p>\n\n<blockquote>\n  <p>hostname  </p>\n</blockquote></li>\n<li><p>Once you are done with all this, now comes the last step : open <strong>System Preferences > Sharing</strong><br>\nOnce you have opened the <strong>Sharing</strong> window, ensure you have <strong>File Sharing</strong> option selected. If it is not selected, select it.</p></li>\n<li><p>Give <strong>Read And Write</strong> access to <em>every user</em> to <em>all shared folders</em> under the <strong>shared folders</strong> tab. Here's a screenshot :\n<a href=\"https://i.stack.imgur.com/LsYkC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LsYkC.png\" alt=\"Screenshot of file sharing screen\"></a><br>\n<strong>NOTE:</strong> I haven't given read and write access to <strong>staff</strong> user but for me it worked fine. But do ensure to give the read and write access to all the shared folders.</p></li>\n<li><p>Once all this is done, restart your computer (not necessary, but better) and everything should be fine. You should now be able to access your interactive Python console from PyCharm itself on Mac OS Sierra and it works like a <em>charm</em>.  </p></li>\n</ul>\n\n<p><strong>P.S.</strong><br>\nThis solution is tested on both system based python compiler and virtual environment setting of PyCharm (both of which are presented during project creation wizard) and hence should be fine no matter what configuration you are using.  </p>\n\n<p>Also, I have only tried this on Mac OS Sierra so I am not sure if it will work on Mac OS High Sierra or other older versions (though after quite a bit of extensive online research I came to the conclusion that this problem is particular to Mac OS Sierra).</p>\n"}, {"comments": [{"owner": {"reputation": 182, "user_id": 8020062, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/v7iXC.png?s=128&g=1", "display_name": "enigma6174", "link": "https://stackoverflow.com/users/8020062/enigma6174"}, "edited": false, "score": 1, "creation_date": 1550744326, "post_id": 54666968, "comment_id": 96385674, "body": "Ok thanks for the update. I didn&#39;t know adding only localhost instead of so much work would solve the problem. Will update you after necessary changes."}], "tags": [], "owner": {"reputation": 1314, "user_id": 1531280, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iGAlp.jpg?s=128&g=1", "display_name": "Dos", "link": "https://stackoverflow.com/users/1531280/dos"}, "is_accepted": false, "score": 0, "last_activity_date": 1550050996, "creation_date": 1550050996, "answer_id": 54666968, "question_id": 51071452, "link": "https://stackoverflow.com/questions/51071452/python-console-not-working-in-pycharm-running-on-mac-os/54666968#54666968", "title": "Python console not working in PyCharm running on Mac OS", "body": "<p>Please ensure that you added the localhost among your local in <code>/etc/hosts</code> file; this worked for me:</p>\n\n<pre><code>127.0.0.1 localhost\n</code></pre>\n"}], "owner": {"reputation": 182, "user_id": 8020062, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/v7iXC.png?s=128&g=1", "display_name": "enigma6174", "link": "https://stackoverflow.com/users/8020062/enigma6174"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2276, "favorite_count": 1, "answer_count": 2, "score": 2, "last_activity_date": 1550050996, "creation_date": 1530133801, "question_id": 51071452, "link": "https://stackoverflow.com/questions/51071452/python-console-not-working-in-pycharm-running-on-mac-os", "title": "Python console not working in PyCharm running on Mac OS", "body": "<p>I am currently using Mac OS Sierra and the latest (updated) version on PyCharm ultimate edition. However, every time I try to run the Python console, it fails.<br>\nI have tried multiple solutions which include the following:  </p>\n\n<ul>\n<li>Try out the solutions mentioned in similar StackOverflow questions.</li>\n<li>Remove Anaconda completely (restart system) and then try running the console.</li>\n<li>Removed and re-installed PyCharm.</li>\n<li>Use different version of Python (2.7/3/3.5/3.6)</li>\n<li>Create a project in a virtual environment.</li>\n<li>Delete the .idea directory in the project folder.</li>\n</ul>\n\n<p>However, in after a lot of debugging I failed to correct the errors. Here's the output error :  </p>\n\n<blockquote>\n  <p>File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/xmlrpc/server.py\", line 598, in <strong>init</strong>\n      socketserver.TCPServer.<strong>init</strong>(self, addr, requestHandler, bind_and_activate)\n    File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/socketserver.py\", line 453, in <strong>init</strong>\n      self.server_bind()\n    File \"/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/socketserver.py\", line 467, in server_bind\n      self.socket.bind(self.server_address)\n  socket.gaierror: [Errno 8] nodename nor servname provided, or not known\n  Couldn't connect to console process.\n  Process finished with exit code 137 (interrupted by signal 9: SIGKILL)</p>\n</blockquote>\n\n<p>Thus, if anyone knows how to fix this error, it would be of great help. Please feel free to ask for further information if I missed something.</p>\n"}, {"tags": ["python", "django"], "answers": [{"tags": [], "owner": {"reputation": 34200, "user_id": 995862, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d5efb6c1054808f7a79aaefbc64cce76?s=128&d=identicon&r=PG", "display_name": "Kurt Peek", "link": "https://stackoverflow.com/users/995862/kurt-peek"}, "is_accepted": true, "score": 2, "last_activity_date": 1530133750, "creation_date": 1530133750, "answer_id": 51071441, "question_id": 51071385, "link": "https://stackoverflow.com/questions/51071385/django-db-utils-integrityerror-duplicate-key-value-violates-unique-constraint/51071441#51071441", "title": "django.db.utils.IntegrityError: duplicate key value violates unique constraint &quot;django_migrations_pkey&quot;", "body": "<p>After restarting the index, I indeed simply deleted/dropped the constraints and indices that were giving \"already exists\" errors and managed to migrate:</p>\n\n<pre><code>(venv) Kurts-MacBook-Pro-2:lucy-web kurtpeek$ python manage.py migrate\nOperations to perform:\n  Apply all migrations: admin, auditlog, auth, contenttypes, defender, lucy_web, oauth2_provider, otp_static, otp_totp, sessions, two_factor\nRunning migrations:\n  Applying lucy_web.0163_auto_20180627_1309... OK\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1068, "user_id": 240242, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Nl0TT.png?s=128&g=1", "display_name": "Dinesh", "link": "https://stackoverflow.com/users/240242/dinesh"}, "edited": false, "score": 1, "creation_date": 1592834548, "post_id": 59823090, "comment_id": 110558713, "body": "this is a better answer when compared to marked answer and works fine."}, {"owner": {"reputation": 842, "user_id": 1618432, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/AkQRk.jpg?s=128&g=1", "display_name": "MagicLAMP", "link": "https://stackoverflow.com/users/1618432/magiclamp"}, "edited": false, "score": 0, "creation_date": 1602803809, "post_id": 59823090, "comment_id": 113843352, "body": "Just a note to explain what is going on in this answer, as the answer (though good) is terse: I think that the problem is two records in the django migration table have the same ID. This command sets one of them with a new ID assuming consecutive numbering of IDs. Once this is done, all records should have unique IDs, and the error will no longer occur when you run migrations."}, {"owner": {"reputation": 71, "user_id": 13441500, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AOh14GgExhC14wlsp871hYLpiL84TJJ7r4UmdTEWQeo=k-s128", "display_name": "Wai Kyaw", "link": "https://stackoverflow.com/users/13441500/wai-kyaw"}, "edited": false, "score": 0, "creation_date": 1611686687, "post_id": 59823090, "comment_id": 116529556, "body": "This works for me."}], "tags": [], "owner": {"reputation": 4826, "user_id": 4783719, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/S2Lju.jpg?s=128&g=1", "display_name": "Sarath Ak", "link": "https://stackoverflow.com/users/4783719/sarath-ak"}, "is_accepted": false, "score": 23, "last_activity_date": 1615476525, "last_edit_date": 1615476525, "creation_date": 1579522525, "answer_id": 59823090, "question_id": 51071385, "link": "https://stackoverflow.com/questions/51071385/django-db-utils-integrityerror-duplicate-key-value-violates-unique-constraint/59823090#59823090", "title": "django.db.utils.IntegrityError: duplicate key value violates unique constraint &quot;django_migrations_pkey&quot;", "body": "<p><strong>This fix is working for my postgreSQL db</strong></p>\n<p>Open django shell</p>\n<pre><code>python manage.py shell\n</code></pre>\n<p>Run the following Python code to reset id</p>\n<pre><code>from django.db import connections\n\nquery = &quot;SELECT setval('django_migrations_id_seq', (SELECT MAX(id) FROM django_migrations))&quot;\ncursor = connections['default'].cursor()\ncursor.execute(query) \nrow = cursor.fetchone()\n</code></pre>\n"}], "owner": {"reputation": 34200, "user_id": 995862, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d5efb6c1054808f7a79aaefbc64cce76?s=128&d=identicon&r=PG", "display_name": "Kurt Peek", "link": "https://stackoverflow.com/users/995862/kurt-peek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3872, "favorite_count": 2, "accepted_answer_id": 51071441, "answer_count": 2, "score": 6, "last_activity_date": 1615476525, "creation_date": 1530133491, "question_id": 51071385, "link": "https://stackoverflow.com/questions/51071385/django-db-utils-integrityerror-duplicate-key-value-violates-unique-constraint", "title": "django.db.utils.IntegrityError: duplicate key value violates unique constraint &quot;django_migrations_pkey&quot;", "body": "<p>I have a Django model <code>SessionType</code> which is defined similar to the following:</p>\n\n<pre><code>from django import models\n\n\nclass SessionType(models.Model):\n    class Meta:\n        ordering = ['title']\n    title = models.CharField(max_length=255, unique=True)\n</code></pre>\n\n<p>At first, the <code>unique=True</code> constraint was not there; I've just added it, and run <code>python manage.py makemigrations</code>. This resulted in the following migration (<code>0163_auto_20180627_1309.py</code>):</p>\n\n<pre><code># -*- coding: utf-8 -*-\n# Generated by Django 1.11.9 on 2018-06-27 20:09\nfrom __future__ import unicode_literals\n\nfrom django.db import migrations, models\n\n\nclass Migration(migrations.Migration):\n\n    dependencies = [\n        ('lucy_web', '0162_merge_20180531_0009'),\n    ]\n\n    operations = [\n        migrations.AlterField(\n            model_name='sessiontype',\n            name='title',\n            field=models.CharField(max_length=255, unique=True),\n        ),\n    ]\n</code></pre>\n\n<p>However, when I try to <code>python manage.py migrate</code>, I get the following error:</p>\n\n<blockquote>\n  <p>django.db.utils.IntegrityError: duplicate key value violates unique constraint \"django_migrations_pkey\"\n  DETAIL:  Key (id)=(326) already exists.</p>\n</blockquote>\n\n<p>Here are the commands and the full traceback:</p>\n\n<pre><code>(venv) Kurts-MacBook-Pro-2:lucy-web kurtpeek$ python manage.py makemigrations\nMigrations for 'lucy_web':\n  lucy_web/migrations/0163_auto_20180627_1309.py\n    - Alter field title on sessiontype\n(venv) Kurts-MacBook-Pro-2:lucy-web kurtpeek$ python manage.py migrate\nOperations to perform:\n  Apply all migrations: admin, auditlog, auth, contenttypes, defender, lucy_web, oauth2_provider, otp_static, otp_totp, sessions, two_factor\nRunning migrations:\n  Applying lucy_web.0163_auto_20180627_1309...Traceback (most recent call last):\n  File \"/Users/kurtpeek/Documents/Dev/lucy2/lucy-web/venv/lib/python3.6/site-packages/django/db/backends/utils.py\", line 64, in execute\n    return self.cursor.execute(sql, params)\npsycopg2.IntegrityError: duplicate key value violates unique constraint \"django_migrations_pkey\"\nDETAIL:  Key (id)=(326) already exists.\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"manage.py\", line 28, in &lt;module&gt;\n    execute_from_command_line(sys.argv)\n  File \"/Users/kurtpeek/Documents/Dev/lucy2/lucy-web/venv/lib/python3.6/site-packages/django/core/management/__init__.py\", line 364, in execute_from_command_line\n    utility.execute()\n  File \"/Users/kurtpeek/Documents/Dev/lucy2/lucy-web/venv/lib/python3.6/site-packages/django/core/management/__init__.py\", line 356, in execute\n    self.fetch_command(subcommand).run_from_argv(self.argv)\n  File \"/Users/kurtpeek/Documents/Dev/lucy2/lucy-web/venv/lib/python3.6/site-packages/django/core/management/base.py\", line 283, in run_from_argv\n    self.execute(*args, **cmd_options)\n  File \"/Users/kurtpeek/Documents/Dev/lucy2/lucy-web/venv/lib/python3.6/site-packages/django/core/management/base.py\", line 330, in execute\n    output = self.handle(*args, **options)\n  File \"/Users/kurtpeek/Documents/Dev/lucy2/lucy-web/venv/lib/python3.6/site-packages/django/core/management/commands/migrate.py\", line 204, in handle\n    fake_initial=fake_initial,\n  File \"/Users/kurtpeek/Documents/Dev/lucy2/lucy-web/venv/lib/python3.6/site-packages/django/db/migrations/executor.py\", line 115, in migrate\n    state = self._migrate_all_forwards(state, plan, full_plan, fake=fake, fake_initial=fake_initial)\n  File \"/Users/kurtpeek/Documents/Dev/lucy2/lucy-web/venv/lib/python3.6/site-packages/django/db/migrations/executor.py\", line 145, in _migrate_all_forwards\n    state = self.apply_migration(state, migration, fake=fake, fake_initial=fake_initial)\n  File \"/Users/kurtpeek/Documents/Dev/lucy2/lucy-web/venv/lib/python3.6/site-packages/django/db/migrations/executor.py\", line 250, in apply_migration\n    self.recorder.record_applied(migration.app_label, migration.name)\n  File \"/Users/kurtpeek/Documents/Dev/lucy2/lucy-web/venv/lib/python3.6/site-packages/django/db/migrations/recorder.py\", line 73, in record_applied\n    self.migration_qs.create(app=app, name=name)\n  File \"/Users/kurtpeek/Documents/Dev/lucy2/lucy-web/venv/lib/python3.6/site-packages/django/db/models/query.py\", line 394, in create\n    obj.save(force_insert=True, using=self.db)\n  File \"/Users/kurtpeek/Documents/Dev/lucy2/lucy-web/venv/lib/python3.6/site-packages/django/db/models/base.py\", line 808, in save\n    force_update=force_update, update_fields=update_fields)\n  File \"/Users/kurtpeek/Documents/Dev/lucy2/lucy-web/venv/lib/python3.6/site-packages/django/db/models/base.py\", line 838, in save_base\n    updated = self._save_table(raw, cls, force_insert, force_update, using, update_fields)\n  File \"/Users/kurtpeek/Documents/Dev/lucy2/lucy-web/venv/lib/python3.6/site-packages/django/db/models/base.py\", line 924, in _save_table\n    result = self._do_insert(cls._base_manager, using, fields, update_pk, raw)\n  File \"/Users/kurtpeek/Documents/Dev/lucy2/lucy-web/venv/lib/python3.6/site-packages/django/db/models/base.py\", line 963, in _do_insert\n    using=using, raw=raw)\n  File \"/Users/kurtpeek/Documents/Dev/lucy2/lucy-web/venv/lib/python3.6/site-packages/django/db/models/manager.py\", line 85, in manager_method\n    return getattr(self.get_queryset(), name)(*args, **kwargs)\n  File \"/Users/kurtpeek/Documents/Dev/lucy2/lucy-web/venv/lib/python3.6/site-packages/django/db/models/query.py\", line 1076, in _insert\n    return query.get_compiler(using=using).execute_sql(return_id)\n  File \"/Users/kurtpeek/Documents/Dev/lucy2/lucy-web/venv/lib/python3.6/site-packages/django/db/models/sql/compiler.py\", line 1112, in execute_sql\n    cursor.execute(sql, params)\n  File \"/Users/kurtpeek/Documents/Dev/lucy2/lucy-web/venv/lib/python3.6/site-packages/django/db/backends/utils.py\", line 79, in execute\n    return super(CursorDebugWrapper, self).execute(sql, params)\n  File \"/Users/kurtpeek/Documents/Dev/lucy2/lucy-web/venv/lib/python3.6/site-packages/django/db/backends/utils.py\", line 64, in execute\n    return self.cursor.execute(sql, params)\n  File \"/Users/kurtpeek/Documents/Dev/lucy2/lucy-web/venv/lib/python3.6/site-packages/django/db/utils.py\", line 94, in __exit__\n    six.reraise(dj_exc_type, dj_exc_value, traceback)\n  File \"/Users/kurtpeek/Documents/Dev/lucy2/lucy-web/venv/lib/python3.6/site-packages/django/utils/six.py\", line 685, in reraise\n    raise value.with_traceback(tb)\n  File \"/Users/kurtpeek/Documents/Dev/lucy2/lucy-web/venv/lib/python3.6/site-packages/django/db/backends/utils.py\", line 64, in execute\n    return self.cursor.execute(sql, params)\ndjango.db.utils.IntegrityError: duplicate key value violates unique constraint \"django_migrations_pkey\"\nDETAIL:  Key (id)=(326) already exists.\n</code></pre>\n\n<p>Looking at the database, I see there is another migration with this primary key of 326:</p>\n\n<p><a href=\"https://i.stack.imgur.com/799rZ.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/799rZ.png\" alt=\"enter image description here\"></a></p>\n\n<p>That migration, <code>0161_auto_20180530_2140.py</code>, also contains <code>AlterField</code> operations on the <code>SessionType</code> model:</p>\n\n<pre><code># -*- coding: utf-8 -*-\n# Generated by Django 1.11.9 on 2018-05-31 04:40\nfrom __future__ import unicode_literals\n\nfrom django.db import migrations, models\n\n\nclass Migration(migrations.Migration):\n\n    dependencies = [\n        ('lucy_web', '0160_merge_20180524_1507'),\n    ]\n\n    operations = [\n        migrations.AlterField(\n            model_name='sessiontype',\n            name='description',\n            field=models.TextField(blank=True),\n        ),\n        migrations.AlterField(\n            model_name='sessiontype',\n            name='short_description',\n            field=models.TextField(blank=True),\n        ),\n    ]\n</code></pre>\n\n<p>Following <a href=\"https://stackoverflow.com/questions/32943214/django-db-migration-failed-with-postgres\">django db migration failed with postgres</a>, I've tried to run the command</p>\n\n<pre><code>ALTER SEQUENCE django_migrations_id_seq RESTART WITH 329;\n</code></pre>\n\n<p>like so:</p>\n\n<p><a href=\"https://i.stack.imgur.com/pLe48.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/pLe48.png\" alt=\"enter image description here\"></a></p>\n\n<p>However, now when I try to migrate I run into another error that a certain unique constraint already exists:</p>\n\n<pre><code>(venv) Kurts-MacBook-Pro-2:lucy-web kurtpeek$ python manage.py migrate\nOperations to perform:\n  Apply all migrations: admin, auditlog, auth, contenttypes, defender, lucy_web, oauth2_provider, otp_static, otp_totp, sessions, two_factor\nRunning migrations:\n  Applying lucy_web.0163_auto_20180627_1309...Traceback (most recent call last):\n  File \"/Users/kurtpeek/Documents/Dev/lucy2/lucy-web/venv/lib/python3.6/site-packages/django/db/backends/utils.py\", line 64, in execute\n    return self.cursor.execute(sql, params)\npsycopg2.ProgrammingError: relation \"lucy_web_sessiontype_title_c207e4f8_uniq\" already exists\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"manage.py\", line 28, in &lt;module&gt;\n    execute_from_command_line(sys.argv)\n  File \"/Users/kurtpeek/Documents/Dev/lucy2/lucy-web/venv/lib/python3.6/site-packages/django/core/management/__init__.py\", line 364, in execute_from_command_line\n    utility.execute()\n  File \"/Users/kurtpeek/Documents/Dev/lucy2/lucy-web/venv/lib/python3.6/site-packages/django/core/management/__init__.py\", line 356, in execute\n    self.fetch_command(subcommand).run_from_argv(self.argv)\n  File \"/Users/kurtpeek/Documents/Dev/lucy2/lucy-web/venv/lib/python3.6/site-packages/django/core/management/base.py\", line 283, in run_from_argv\n    self.execute(*args, **cmd_options)\n  File \"/Users/kurtpeek/Documents/Dev/lucy2/lucy-web/venv/lib/python3.6/site-packages/django/core/management/base.py\", line 330, in execute\n    output = self.handle(*args, **options)\n  File \"/Users/kurtpeek/Documents/Dev/lucy2/lucy-web/venv/lib/python3.6/site-packages/django/core/management/commands/migrate.py\", line 204, in handle\n    fake_initial=fake_initial,\n  File \"/Users/kurtpeek/Documents/Dev/lucy2/lucy-web/venv/lib/python3.6/site-packages/django/db/migrations/executor.py\", line 115, in migrate\n    state = self._migrate_all_forwards(state, plan, full_plan, fake=fake, fake_initial=fake_initial)\n  File \"/Users/kurtpeek/Documents/Dev/lucy2/lucy-web/venv/lib/python3.6/site-packages/django/db/migrations/executor.py\", line 145, in _migrate_all_forwards\n    state = self.apply_migration(state, migration, fake=fake, fake_initial=fake_initial)\n  File \"/Users/kurtpeek/Documents/Dev/lucy2/lucy-web/venv/lib/python3.6/site-packages/django/db/migrations/executor.py\", line 244, in apply_migration\n    state = migration.apply(state, schema_editor)\n  File \"/Users/kurtpeek/Documents/Dev/lucy2/lucy-web/venv/lib/python3.6/site-packages/django/db/migrations/migration.py\", line 129, in apply\n    operation.database_forwards(self.app_label, schema_editor, old_state, project_state)\n  File \"/Users/kurtpeek/Documents/Dev/lucy2/lucy-web/venv/lib/python3.6/site-packages/django/db/migrations/operations/fields.py\", line 221, in database_forwards\n    schema_editor.alter_field(from_model, from_field, to_field)\n  File \"/Users/kurtpeek/Documents/Dev/lucy2/lucy-web/venv/lib/python3.6/site-packages/django/db/backends/base/schema.py\", line 515, in alter_field\n    old_db_params, new_db_params, strict)\n  File \"/Users/kurtpeek/Documents/Dev/lucy2/lucy-web/venv/lib/python3.6/site-packages/django/db/backends/postgresql/schema.py\", line 112, in _alter_field\n    new_db_params, strict,\n  File \"/Users/kurtpeek/Documents/Dev/lucy2/lucy-web/venv/lib/python3.6/site-packages/django/db/backends/base/schema.py\", line 719, in _alter_field\n    self.execute(self._create_unique_sql(model, [new_field.column]))\n  File \"/Users/kurtpeek/Documents/Dev/lucy2/lucy-web/venv/lib/python3.6/site-packages/django/db/backends/base/schema.py\", line 120, in execute\n    cursor.execute(sql, params)\n  File \"/Users/kurtpeek/Documents/Dev/lucy2/lucy-web/venv/lib/python3.6/site-packages/django/db/backends/utils.py\", line 79, in execute\n    return super(CursorDebugWrapper, self).execute(sql, params)\n  File \"/Users/kurtpeek/Documents/Dev/lucy2/lucy-web/venv/lib/python3.6/site-packages/django/db/backends/utils.py\", line 64, in execute\n    return self.cursor.execute(sql, params)\n  File \"/Users/kurtpeek/Documents/Dev/lucy2/lucy-web/venv/lib/python3.6/site-packages/django/db/utils.py\", line 94, in __exit__\n    six.reraise(dj_exc_type, dj_exc_value, traceback)\n  File \"/Users/kurtpeek/Documents/Dev/lucy2/lucy-web/venv/lib/python3.6/site-packages/django/utils/six.py\", line 685, in reraise\n    raise value.with_traceback(tb)\n  File \"/Users/kurtpeek/Documents/Dev/lucy2/lucy-web/venv/lib/python3.6/site-packages/django/db/backends/utils.py\", line 64, in execute\n    return self.cursor.execute(sql, params)\ndjango.db.utils.ProgrammingError: relation \"lucy_web_sessiontype_title_c207e4f8_uniq\" already exists\n</code></pre>\n\n<p>How shall I solve this? Should I just delete that unique constraint and re-run migrations?</p>\n"}, {"tags": ["python", "concurrency", "concurrent.futures"], "comments": [{"owner": {"reputation": 251717, "user_id": 895245, "user_type": "registered", "accept_rate": 49, "profile_image": "https://i.stack.imgur.com/jhDFt.png?s=128&g=1", "display_name": "Ciro Santilli\u65b0\u7586\u68c9\u82b1TRUMP BAN BAD", "link": "https://stackoverflow.com/users/895245/ciro-santilli%e6%96%b0%e7%96%86%e6%a3%89%e8%8a%b1trump-ban-bad"}, "edited": false, "score": 0, "creation_date": 1552347505, "post_id": 51071378, "comment_id": 96966459, "body": "related: <a href=\"https://stackoverflow.com/questions/33448329/how-to-detect-exceptions-in-concurrent-futures-in-python3\" title=\"how to detect exceptions in concurrent futures in python3\">stackoverflow.com/questions/33448329/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 2109, "user_id": 1008636, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ccc21c214b56f40fa518bedf7dd02819?s=128&d=identicon&r=PG", "display_name": "user1008636", "link": "https://stackoverflow.com/users/1008636/user1008636"}, "edited": false, "score": 0, "creation_date": 1530191218, "post_id": 51076484, "comment_id": 89155695, "body": "thanks. Is pebble is common framework used in python for multithreading and multiprocessing? Isn&#39;t it redundant now that python has its own native concurrent.futures module ?"}, {"owner": {"reputation": 11520, "user_id": 1794497, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/t6y5r.png?s=128&g=1", "display_name": "noxdafox", "link": "https://stackoverflow.com/users/1794497/noxdafox"}, "reply_to_user": {"reputation": 2109, "user_id": 1008636, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ccc21c214b56f40fa518bedf7dd02819?s=128&d=identicon&r=PG", "display_name": "user1008636", "link": "https://stackoverflow.com/users/1008636/user1008636"}, "edited": false, "score": 0, "creation_date": 1530191666, "post_id": 51076484, "comment_id": 89156019, "body": "<code>pebble</code> overcomes some limitation of Python&#39;s native library such as the above example and other issues like terminating timing out tasks."}, {"owner": {"reputation": 2109, "user_id": 1008636, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ccc21c214b56f40fa518bedf7dd02819?s=128&d=identicon&r=PG", "display_name": "user1008636", "link": "https://stackoverflow.com/users/1008636/user1008636"}, "edited": false, "score": 0, "creation_date": 1530191970, "post_id": 51076484, "comment_id": 89156238, "body": "Doesn&#39;t concurrent.futures have options to do such things now ?"}, {"owner": {"reputation": 11520, "user_id": 1794497, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/t6y5r.png?s=128&g=1", "display_name": "noxdafox", "link": "https://stackoverflow.com/users/1794497/noxdafox"}, "reply_to_user": {"reputation": 2109, "user_id": 1008636, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ccc21c214b56f40fa518bedf7dd02819?s=128&d=identicon&r=PG", "display_name": "user1008636", "link": "https://stackoverflow.com/users/1008636/user1008636"}, "edited": false, "score": 0, "creation_date": 1530217490, "post_id": 51076484, "comment_id": 89169723, "body": "No it doesn&#39;t. That&#39;s why <code>pebble</code> was designed. Another alternative library worth to check is <a href=\"https://github.com/celery/billiard\" rel=\"nofollow noreferrer\"><code>billiard</code></a>."}, {"owner": {"reputation": 5728, "user_id": 18775, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/dbc478a19523f430b22939406504512f?s=128&d=identicon&r=PG", "display_name": "Anton Daneyko", "link": "https://stackoverflow.com/users/18775/anton-daneyko"}, "edited": false, "score": 0, "creation_date": 1601482717, "post_id": 51076484, "comment_id": 113424313, "body": "What an odd behavior...  I wonder why is it like this..."}], "tags": [], "owner": {"reputation": 11520, "user_id": 1794497, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/t6y5r.png?s=128&g=1", "display_name": "noxdafox", "link": "https://stackoverflow.com/users/1794497/noxdafox"}, "is_accepted": true, "score": 5, "last_activity_date": 1530168989, "creation_date": 1530168989, "answer_id": 51076484, "question_id": 51071378, "link": "https://stackoverflow.com/questions/51071378/exception-handling-in-concurrent-futures-executor-map/51076484#51076484", "title": "Exception handling in concurrent.futures.Executor.map", "body": "<p>The <a href=\"https://docs.python.org/3/library/concurrent.futures.html#concurrent.futures.Executor.map\" rel=\"noreferrer\"><code>map</code></a> method returns a generator which allows to iterate through the results once ready.</p>\n\n<p>Unfortunately, it is not possible to resume a generator after an exception occurs. From <a href=\"https://www.python.org/dev/peps/pep-0255/#specification-generators-and-exception-propagation\" rel=\"noreferrer\">PEP 255</a>.</p>\n\n<blockquote>\n  <p>If an unhandled exception-- including, but not limited to, StopIteration --is raised by, or passes through, a generator function, then the exception is passed on to the caller in the usual way, and subsequent attempts to resume the generator function raise StopIteration. In other words, an unhandled exception terminates a generator's useful life.</p>\n</blockquote>\n\n<p>There are other libraries such as <a href=\"https://pypi.org/project/Pebble/\" rel=\"noreferrer\"><code>pebble</code></a> which allow to continue the iteration after an error occurs. Check the <a href=\"https://pebble.readthedocs.io/en/latest/#pools\" rel=\"noreferrer\">examples</a> in the documentation.</p>\n"}, {"tags": [], "owner": {"reputation": 1169, "user_id": 451246, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/k8Nkj.jpg?s=128&g=1", "display_name": "Ehsan Kia", "link": "https://stackoverflow.com/users/451246/ehsan-kia"}, "is_accepted": false, "score": 8, "last_activity_date": 1542408811, "last_edit_date": 1542408811, "creation_date": 1542406868, "answer_id": 53346191, "question_id": 51071378, "link": "https://stackoverflow.com/questions/51071378/exception-handling-in-concurrent-futures-executor-map/53346191#53346191", "title": "Exception handling in concurrent.futures.Executor.map", "body": "<p>As mentioned above, unfortunately executor.map's API is limited and only lets you get the first exception. Also, when iterating through the results, you will only get values up to the first exception.</p>\n\n<p>To answer your question, if you don't wan to use a different library, you can unroll your map and manually apply each function:</p>\n\n<pre><code>future_list = []\nwith concurrent.futures.ThreadPoolExecutor() as executor:\n  for arg in range(10):\n    future = executor.submit(test_func, arg)\n    future_list.append(future)\n\nfor future in future_list:\n  try:\n    print(future.result())\n  except Exception as e:\n    print(e)\n</code></pre>\n\n<p>This allows you to handle each future individually.</p>\n"}, {"comments": [{"owner": {"reputation": 195, "user_id": 1554778, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r8VFd.jpg?s=128&g=1", "display_name": "Vitalis", "link": "https://stackoverflow.com/users/1554778/vitalis"}, "edited": false, "score": 1, "creation_date": 1612344798, "post_id": 55149491, "comment_id": 116734867, "body": "Thanks for this. Was splitting my hair as to why I couldn&#39;t get all parts of a script to execute."}], "tags": [], "owner": {"reputation": 899, "user_id": 7830612, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0784fdcaaca88b2d772b71ac9bce2a0e?s=128&d=identicon&r=PG&f=1", "display_name": "leafmeal", "link": "https://stackoverflow.com/users/7830612/leafmeal"}, "is_accepted": false, "score": 8, "last_activity_date": 1552503872, "creation_date": 1552503872, "answer_id": 55149491, "question_id": 51071378, "link": "https://stackoverflow.com/questions/51071378/exception-handling-in-concurrent-futures-executor-map/55149491#55149491", "title": "Exception handling in concurrent.futures.Executor.map", "body": "<p>Ehsan's solution is good, but it may be slightly more efficient to take the results as the are completed instead of waiting for sequential items in the list to finish. Here is an example from the <a href=\"https://docs.python.org/3/library/concurrent.futures.html#threadpoolexecutor-example\" rel=\"noreferrer\">library docs</a>.</p>\n\n<pre><code>import concurrent.futures\nimport urllib.request\n\nURLS = ['http://www.foxnews.com/',\n        'http://www.cnn.com/',\n        'http://europe.wsj.com/',\n        'http://www.bbc.co.uk/',\n        'http://some-made-up-domain.com/']\n\n# Retrieve a single page and report the URL and contents\ndef load_url(url, timeout):\n    with urllib.request.urlopen(url, timeout=timeout) as conn:\n        return conn.read()\n\n# We can use a with statement to ensure threads are cleaned up promptly\nwith concurrent.futures.ThreadPoolExecutor(max_workers=5) as executor:\n    # Start the load operations and mark each future with its URL\n    future_to_url = {executor.submit(load_url, url, 60): url for url in URLS}\n    for future in concurrent.futures.as_completed(future_to_url):\n        url = future_to_url[future]\n        try:\n            data = future.result()\n        except Exception as exc:\n            print('%r generated an exception: %s' % (url, exc))\n        else:\n            print('%r page is %d bytes' % (url, len(data)))\n</code></pre>\n"}], "owner": {"reputation": 2109, "user_id": 1008636, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ccc21c214b56f40fa518bedf7dd02819?s=128&d=identicon&r=PG", "display_name": "user1008636", "link": "https://stackoverflow.com/users/1008636/user1008636"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8283, "favorite_count": 3, "accepted_answer_id": 51076484, "answer_count": 3, "score": 11, "last_activity_date": 1552503872, "creation_date": 1530133478, "question_id": 51071378, "link": "https://stackoverflow.com/questions/51071378/exception-handling-in-concurrent-futures-executor-map", "title": "Exception handling in concurrent.futures.Executor.map", "body": "<p>From <a href=\"https://docs.python.org/3/library/concurrent.futures.html#concurrent.futures.Executor.map\" rel=\"noreferrer\">https://docs.python.org/3/library/concurrent.futures.html#concurrent.futures.Executor.map</a></p>\n\n<blockquote>\n  <p>If a func call raises an exception, then that exception will be raised\n  when its value is retrieved from the iterator.</p>\n</blockquote>\n\n<p>The following snippet only outptus the first exeption (Exeption: 1), and stops. Does this contradict the above statement? I expect the following to print out all exceptions in the loop.</p>\n\n<pre><code>def test_func(val):\n  raise Exception(val)        \n\nwith concurrent.futures.ThreadPoolExecutor(max_workers=5) as executor:   \n  for r in executor.map(test_func,[1,2,3,4,5]):\n    try:\n      print r\n    except Exception as exc:\n      print 'generated an exception: %s' % (exc)\n</code></pre>\n"}, {"tags": ["python", "pandas", "geopandas"], "comments": [{"owner": {"reputation": 104532, "user_id": 653364, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/7a7a675bc479a30c1389d4c64f612a95?s=128&d=identicon&r=PG", "display_name": "joris", "link": "https://stackoverflow.com/users/653364/joris"}, "edited": false, "score": 0, "creation_date": 1530133990, "post_id": 51071365, "comment_id": 89132750, "body": "The error message you get seems to suggest that a LineString is trying to be created from a single Point, which fails. Is it possible you have a group consisting of only a single row?"}, {"owner": {"reputation": 8803, "user_id": 3867406, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/2953c91f637b80205241c00c3e215b9a?s=128&d=identicon&r=PG&f=1", "display_name": "ted", "link": "https://stackoverflow.com/users/3867406/ted"}, "edited": false, "score": 0, "creation_date": 1530134454, "post_id": 51071365, "comment_id": 89132913, "body": "What if you tried x, y instead of xy?"}, {"owner": {"reputation": 301, "user_id": 9554719, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e147955f157b3ecad4b6c616d5802506?s=128&d=identicon&r=PG&f=1", "display_name": "mm_nieder", "link": "https://stackoverflow.com/users/9554719/mm-nieder"}, "reply_to_user": {"reputation": 104532, "user_id": 653364, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/7a7a675bc479a30c1389d4c64f612a95?s=128&d=identicon&r=PG", "display_name": "joris", "link": "https://stackoverflow.com/users/653364/joris"}, "edited": false, "score": 0, "creation_date": 1530200869, "post_id": 51071365, "comment_id": 89162361, "body": "@joris I don&#39;t believe that&#39;s the issue? ted are you suggesting instead of having x and y in separate columns to join them?"}, {"owner": {"reputation": 301, "user_id": 9554719, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e147955f157b3ecad4b6c616d5802506?s=128&d=identicon&r=PG&f=1", "display_name": "mm_nieder", "link": "https://stackoverflow.com/users/9554719/mm-nieder"}, "edited": false, "score": 0, "creation_date": 1530201642, "post_id": 51071365, "comment_id": 89162823, "body": "If I just take the file <code>df</code> and run <code>grouped = df.groupby([&#39;ID&#39;, &#39;Hour&#39;]) grouped.groups</code> this is the result <code>{(0, 16): Int64Index([5, 14, 16, 55, 130], dtype=&#39;int64&#39;),  (0, 17): Int64Index([7, 27, 126, 141, 185, 235], dtype=&#39;int64&#39;),...</code> Except now I dont have the coordinates and I dont know how to convert the points to lines? Maybe I could index each position to get their xy then convert?"}, {"owner": {"reputation": 104532, "user_id": 653364, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/7a7a675bc479a30c1389d4c64f612a95?s=128&d=identicon&r=PG", "display_name": "joris", "link": "https://stackoverflow.com/users/653364/joris"}, "edited": false, "score": 0, "creation_date": 1530222868, "post_id": 51071365, "comment_id": 89171645, "body": "Can you check with <code>(df.groupby([&#39;ID&#39;, &#39;Hour&#39;]).size() &lt; 2).sum()</code> if it is certainly giving 0 ?"}], "answers": [{"tags": [], "owner": {"reputation": 151, "user_id": 3554878, "user_type": "registered", "profile_image": "https://graph.facebook.com/6225806/picture?type=large", "display_name": "Tom G.", "link": "https://stackoverflow.com/users/3554878/tom-g"}, "is_accepted": false, "score": 6, "last_activity_date": 1537537155, "creation_date": 1537537155, "answer_id": 52445005, "question_id": 51071365, "link": "https://stackoverflow.com/questions/51071365/convert-points-to-lines-geopandas/52445005#52445005", "title": "Convert Points to Lines Geopandas", "body": "<p>Your code is good, the problem is your data.</p>\n\n<p>You can see that if you group by ID and Hour, then there is only 1 point that is grouped with an ID of 1 and an hour of 17. A LineString has to consist of 1 or more Points (must have at least 2 coordinate tuples). I added another point to your sample data:</p>\n\n<pre><code>    ID   X          Y           Hour\n    1   -87.78976   41.97658    16\n    1   -87.66991   41.92355    16\n    1   -87.59887   41.708447   17\n    1   -87.48234   41.677342   17\n    2   -87.73956   41.876827   16\n    2   -87.68161   41.79886    16\n    2   -87.5999    41.7083     16\n    3   -87.59918   41.708485   17\n    3   -87.59857   41.708393   17\n    3   -87.64391   41.675133   17\n</code></pre>\n\n<p>and as you can see below the code below is almost identical to yours:</p>\n\n<pre><code>    import pandas as pd\n    import geopandas as gpd\n    from shapely.geometry import Point, LineString, shape\n\n    df = pd.read_csv(\"snow_gps.csv\", sep='\\s*,\\s*')\n\n    #zip the coordinates into a point object and convert to a GeoData Frame\n    geometry = [Point(xy) for xy in zip(df.X, df.Y)]\n    geo_df = gpd.GeoDataFrame(df, geometry=geometry)\n\n    geo_df2 = geo_df.groupby(['ID', 'Hour'])['geometry'].apply(lambda x:                 LineString(x.tolist()))\n    geo_df2 = gpd.GeoDataFrame(geo_df2, geometry='geometry')\n</code></pre>\n"}], "owner": {"reputation": 301, "user_id": 9554719, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e147955f157b3ecad4b6c616d5802506?s=128&d=identicon&r=PG&f=1", "display_name": "mm_nieder", "link": "https://stackoverflow.com/users/9554719/mm-nieder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10958, "favorite_count": 5, "answer_count": 1, "score": 7, "last_activity_date": 1537537155, "creation_date": 1530133381, "question_id": 51071365, "link": "https://stackoverflow.com/questions/51071365/convert-points-to-lines-geopandas", "title": "Convert Points to Lines Geopandas", "body": "<p>Hello I am trying to convert a list of X and Y coordinates to lines. I want to mapped this data by <code>groupby</code> the IDs and also by time. My code executes successfully as long as I <code>grouby</code> one column, but two columns is where I run into errors. I referenced to this <a href=\"https://gis.stackexchange.com/questions/202190/turn-a-geodataframe-of-x-y-coordinates-into-linestrings-using-groupby\">question</a>.</p>\n\n<p>Here's some sample data:</p>\n\n<pre><code>ID  X           Y           Hour\n1   -87.78976   41.97658    16\n1   -87.66991   41.92355    16\n1   -87.59887   41.708447   17\n2   -87.73956   41.876827   16\n2   -87.68161   41.79886    16\n2   -87.5999    41.7083     16\n3   -87.59918   41.708485   17\n3   -87.59857   41.708393   17\n3   -87.64391   41.675133   17\n</code></pre>\n\n<p>Here's my code:</p>\n\n<pre><code>df = pd.read_csv(\"snow_gps.csv\", sep=';')\n\n#zip the coordinates into a point object and convert to a GeoData Frame\ngeometry = [Point(xy) for xy in zip(df.X, df.Y)]\ngeo_df = GeoDataFrame(df, geometry=geometry)\n\n# aggregate these points with the GrouBy\ngeo_df = geo_df.groupby(['track_seg_point_id', 'Hour'])['geometry'].apply(lambda x: LineString(x.tolist()))\ngeo_df = GeoDataFrame(geo_df, geometry='geometry')\n</code></pre>\n\n<p>Here is the error: ValueError: LineStrings must have at least 2 coordinate tuples</p>\n\n<p>This is the final result I am trying to get:</p>\n\n<pre><code>ID          Hour     geometry\n1           16       LINESTRING (-87.78976 41.97658, -87.66991 41.9... \n1           17       LINESTRING (-87.78964000000001 41.976634999999... \n1           18       LINESTRING (-87.78958 41.97663499999999, -87.6... \n2           16       LINESTRING (-87.78958 41.976612, -87.669785 41... \n2           17       LINESTRING (-87.78958 41.976624, -87.66978 41.... \n3           16       LINESTRING (-87.78958 41.97666, -87.6695199999... \n3           17       LINESTRING (-87.78954 41.976665, -87.66927 41.... \n</code></pre>\n\n<p>Please any suggestions or ideas would be great on how to groupby multiple parameters.</p>\n"}, {"tags": ["python", "argparse"], "comments": [{"owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "edited": false, "score": 2, "creation_date": 1530133520, "post_id": 51071358, "comment_id": 89132577, "body": "I&#39;d probably define two argparse arguments, <code>--hours</code> and <code>--days</code>."}, {"owner": {"reputation": 325, "user_id": 9900875, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-rhxM-SVSbsQ/AAAAAAAAAAI/AAAAAAAAAFo/n1-jj0Xou34/photo.jpg?sz=128", "display_name": "OregonJim", "link": "https://stackoverflow.com/users/9900875/oregonjim"}, "edited": false, "score": 0, "creation_date": 1530134285, "post_id": 51071358, "comment_id": 89132848, "body": "You could use user_input.lower().endswith(&#39;h&#39;) to allow the user to enter upper or lowercase characters."}, {"owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "reply_to_user": {"reputation": 325, "user_id": 9900875, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-rhxM-SVSbsQ/AAAAAAAAAAI/AAAAAAAAAFo/n1-jj0Xou34/photo.jpg?sz=128", "display_name": "OregonJim", "link": "https://stackoverflow.com/users/9900875/oregonjim"}, "edited": false, "score": 0, "creation_date": 1530134381, "post_id": 51071358, "comment_id": 89132888, "body": "@OregonJim they&#39;re trying to do this through arguments on the command line. User input through the console doesn&#39;t seem like the way to go."}, {"owner": {"reputation": 581, "user_id": 3212238, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/f8f83087aeccf4bf30ec820e25c820b6?s=128&d=identicon&r=PG&f=1", "display_name": "yan", "link": "https://stackoverflow.com/users/3212238/yan"}, "reply_to_user": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "edited": false, "score": 0, "creation_date": 1530135495, "post_id": 51071358, "comment_id": 89133313, "body": "@AdamSmith That sounds like an idea too! I am throwing my question out to see if it is possible to combine these 2 arguments into 1..."}, {"owner": {"reputation": 325, "user_id": 9900875, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-rhxM-SVSbsQ/AAAAAAAAAAI/AAAAAAAAAFo/n1-jj0Xou34/photo.jpg?sz=128", "display_name": "OregonJim", "link": "https://stackoverflow.com/users/9900875/oregonjim"}, "reply_to_user": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "edited": false, "score": 0, "creation_date": 1530142458, "post_id": 51071358, "comment_id": 89135162, "body": "@AdamSmith, I know that.  it works in both cases."}, {"owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "reply_to_user": {"reputation": 325, "user_id": 9900875, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-rhxM-SVSbsQ/AAAAAAAAAAI/AAAAAAAAAFo/n1-jj0Xou34/photo.jpg?sz=128", "display_name": "OregonJim", "link": "https://stackoverflow.com/users/9900875/oregonjim"}, "edited": false, "score": 0, "creation_date": 1530143318, "post_id": 51071358, "comment_id": 89135339, "body": "@OregonJim I guess I don&#39;t know what you&#39;re advocating for then? That appears to be a different solution entirely."}, {"owner": {"reputation": 325, "user_id": 9900875, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-rhxM-SVSbsQ/AAAAAAAAAAI/AAAAAAAAAFo/n1-jj0Xou34/photo.jpg?sz=128", "display_name": "OregonJim", "link": "https://stackoverflow.com/users/9900875/oregonjim"}, "reply_to_user": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "edited": false, "score": 0, "creation_date": 1530238836, "post_id": 51071358, "comment_id": 89174965, "body": "@AdamSmith, his question was &quot;is there a better way&quot;.  If you don&#39;t understand, then lets move the discussion somewhere else."}, {"owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "reply_to_user": {"reputation": 325, "user_id": 9900875, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-rhxM-SVSbsQ/AAAAAAAAAAI/AAAAAAAAAFo/n1-jj0Xou34/photo.jpg?sz=128", "display_name": "OregonJim", "link": "https://stackoverflow.com/users/9900875/oregonjim"}, "edited": false, "score": 0, "creation_date": 1530317364, "post_id": 51071358, "comment_id": 89208400, "body": "@OregonJim ah I did misunderstand. I thought you were advocating for taking input from stdin. Note that modern Python allows for <code>str.casefold</code> which is a bit more (human-)language agnostic to do case insensitive compares."}, {"owner": {"reputation": 325, "user_id": 9900875, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-rhxM-SVSbsQ/AAAAAAAAAAI/AAAAAAAAAFo/n1-jj0Xou34/photo.jpg?sz=128", "display_name": "OregonJim", "link": "https://stackoverflow.com/users/9900875/oregonjim"}, "reply_to_user": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "edited": false, "score": 0, "creation_date": 1530318472, "post_id": 51071358, "comment_id": 89208587, "body": "@AdamSmith - yes, but casefold() also has unintended side effects, such as changing the length of the string."}, {"owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "reply_to_user": {"reputation": 325, "user_id": 9900875, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-rhxM-SVSbsQ/AAAAAAAAAAI/AAAAAAAAAFo/n1-jj0Xou34/photo.jpg?sz=128", "display_name": "OregonJim", "link": "https://stackoverflow.com/users/9900875/oregonjim"}, "edited": false, "score": 0, "creation_date": 1530320489, "post_id": 51071358, "comment_id": 89208853, "body": "@OregonJim ehhh but that&#39;s not really interesting here."}], "answers": [{"comments": [{"owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "edited": false, "score": 0, "creation_date": 1530134869, "post_id": 51071548, "comment_id": 89133085, "body": "I&#39;m not sure adding a new dependency is the best way to handle this case, but it&#39;s <i>a</i> solution for sure and I didn&#39;t know about Maya until your answer. It looks cool!"}, {"owner": {"reputation": 12014, "user_id": 1658617, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/ba6gt.jpg?s=128&g=1", "display_name": "Bharel", "link": "https://stackoverflow.com/users/1658617/bharel"}, "reply_to_user": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "edited": false, "score": 1, "creation_date": 1530135338, "post_id": 51071548, "comment_id": 89133248, "body": "@AdamSmith Thank you! Although it might not be the best, I believe it makes it cleaner &amp; more flexible. This is exactly what dependencies are for :-)"}, {"owner": {"reputation": 581, "user_id": 3212238, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/f8f83087aeccf4bf30ec820e25c820b6?s=128&d=identicon&r=PG&f=1", "display_name": "yan", "link": "https://stackoverflow.com/users/3212238/yan"}, "reply_to_user": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "edited": false, "score": 0, "creation_date": 1530135369, "post_id": 51071548, "comment_id": 89133258, "body": "Thanks, but as mentioned by @AdamSmith, are there any other ways (pythonic forms) instead of installing something new just so to get things going?"}], "tags": [], "owner": {"reputation": 12014, "user_id": 1658617, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/ba6gt.jpg?s=128&g=1", "display_name": "Bharel", "link": "https://stackoverflow.com/users/1658617/bharel"}, "is_accepted": false, "score": 3, "last_activity_date": 1530135261, "last_edit_date": 1530135261, "creation_date": 1530134234, "answer_id": 51071548, "question_id": 51071358, "link": "https://stackoverflow.com/questions/51071358/argparse-to-denote-time-period-in-hours-or-days/51071548#51071548", "title": "Argparse to denote time period, in hours or days", "body": "<p><strong><a href=\"https://github.com/kennethreitz/maya#maya-datetimes-for-humans\" rel=\"nofollow noreferrer\">Maya</a></strong> might work for you:</p>\n\n<pre><code>&gt;&gt;&gt; maya.when(\"in 1H\").datetime()\ndatetime.datetime(2018, 6, 27, 22, 16, 42, 371621, tzinfo=&lt;UTC&gt;)\n&gt;&gt;&gt; maya.when(\"in 1 day\").datetime()\ndatetime.datetime(2018, 6, 28, 21, 16, 42, 371621, tzinfo=&lt;UTC&gt;)\n</code></pre>\n\n<p>You may even specify arbitrary time values and not limit to only hours or days, which causes your app to be even more flexible:</p>\n\n<pre><code>&gt;&gt;&gt; maya.when(\"now\").datetime()\ndatetime.datetime(2018, 6, 27, 21, 20, 7, 409348, tzinfo=&lt;UTC&gt;)\n&gt;&gt;&gt; maya.when(\"in 1 hour 2 minutes\").datetime()\ndatetime.datetime(2018, 6, 27, 22, 22, 7, 825372, tzinfo=&lt;UTC&gt;)\n</code></pre>\n\n<p>P.S. Maya is powered by <a href=\"https://github.com/scrapinghub/dateparser\" rel=\"nofollow noreferrer\">dateparser</a>. Although you can use dateparser straight out of the bat to handle everything, I think Maya will prove more useful.</p>\n"}, {"tags": [], "owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "is_accepted": false, "score": 2, "last_activity_date": 1530148756, "creation_date": 1530148756, "answer_id": 51073425, "question_id": 51071358, "link": "https://stackoverflow.com/questions/51071358/argparse-to-denote-time-period-in-hours-or-days/51073425#51073425", "title": "Argparse to denote time period, in hours or days", "body": "<p>A function like this, can be used as a <code>type</code> in <code>argparse</code>.  It could also be used after parsing:</p>\n\n<pre><code>def period(astr):\n    if astr.lower().endswith('h'):\n        units = 'timedelta64[h]'\n    elif astr.lower().endswith('d'):\n        units = 'timedelta64[D]'\n    else:\n        raise argparse.ArgumentTypeError('wrong time units')\n    return np.array(astr[:-1], dtype=units)\n</code></pre>\n\n<p>I defined it to return a <code>numpy</code> <code>timedelta64</code> array, in part because I'm more familiar with it than with the Python <code>timedelta</code>, and it is easy to specify the time units:</p>\n\n<pre><code>In [249]: period('4h')\nOut[249]: array(4, dtype='timedelta64[h]')\nIn [250]: period('3d')\nOut[250]: array(3, dtype='timedelta64[D]')\n</code></pre>\n\n<p><code>tolist</code> will extract it from the array and return a <code>timedelta</code> object.</p>\n\n<pre><code>In [251]: period('3d').tolist()\nOut[251]: datetime.timedelta(3)\nIn [253]: period('3h').item()\nOut[253]: datetime.timedelta(0, 10800)\n</code></pre>\n\n<p>The function could be changed to work with <code>timedelta</code> directly.</p>\n\n<p>A parser could be:</p>\n\n<pre><code>In [239]: parser = argparse.ArgumentParser()\nIn [240]: parser.add_argument('--time', type=period, help='time delta');\n</code></pre>\n\n<p>testing:</p>\n\n<pre><code>In [241]: parser.parse_args('--time 3d'.split())\nOut[241]: Namespace(time=array(3, dtype='timedelta64[D]'))\nIn [255]: parser.parse_args('--time 4h'.split())\nOut[255]: Namespace(time=array(4, dtype='timedelta64[h]'))\n</code></pre>\n\n<p>errors:</p>\n\n<pre><code>In [256]: parser.parse_args('--time 4m'.split())\nusage: ipython3 [-h] [--time TIME]\nipython3: error: argument --time: wrong time units\nIn [257]: parser.parse_args('--time 4.34d'.split())\nusage: ipython3 [-h] [--time TIME]\nipython3: error: argument --time: invalid period value: '4.34d'\n</code></pre>\n"}], "owner": {"reputation": 581, "user_id": 3212238, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/f8f83087aeccf4bf30ec820e25c820b6?s=128&d=identicon&r=PG&f=1", "display_name": "yan", "link": "https://stackoverflow.com/users/3212238/yan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 603, "favorite_count": 1, "answer_count": 2, "score": 3, "last_activity_date": 1530148756, "creation_date": 1530133348, "question_id": 51071358, "link": "https://stackoverflow.com/questions/51071358/argparse-to-denote-time-period-in-hours-or-days", "title": "Argparse to denote time period, in hours or days", "body": "<p>I am trying to write an argument (for argparse) in which, I am trying to define the inputs in terms of hours or days.</p>\n\n<p>For example:</p>\n\n<pre><code>def setup_args():\n    ....\n    parser.add_argument(\n        \"--time\",\n        type=str,\n        help=\"Define the time period (only hours or days). Eg. 3h or 3d\"\n    ) \n\ndef time_input(user_input):\n    if user_input.endswith('h'):\n        ...\n        # using datetime module to forward current time X hours later\n    elif user_input.endswith('d'):\n        ...\n        # I may specify it to a max 2 days.\n        # using datetime module to forward current time X days later\n</code></pre>\n\n<p>While the function I wrote works, I am wondering if there is a better way to approach this, or is using <code>endswith</code> the only way to go?</p>\n"}, {"tags": ["python", "django", "database-migration"], "answers": [{"comments": [{"owner": {"reputation": 41, "user_id": 6763406, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f5310b9618540907cf86ca0460f1c8c?s=128&d=identicon&r=PG&f=1", "display_name": "Luka", "link": "https://stackoverflow.com/users/6763406/luka"}, "edited": false, "score": 0, "creation_date": 1582192838, "post_id": 53491065, "comment_id": 106695697, "body": "I completely forgot about this issue because I learnt to live with 5 minutes of test setup. So for some reason I&#39;ve tried to use it now, but the issue is with this part (from the docs): <i>When the test environment is configured, a test version of replica will not be created. Instead the connection to replica will be redirected to point at default.</i> This is a problem since my query which should go to the analytics database will get redirected to the transactional one which does not have the analytics tables."}, {"owner": {"reputation": 450, "user_id": 1959278, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9153c68680cf641bda90b87d66302713?s=128&d=identicon&r=PG", "display_name": "HorsePunchKid", "link": "https://stackoverflow.com/users/1959278/horsepunchkid"}, "reply_to_user": {"reputation": 41, "user_id": 6763406, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f5310b9618540907cf86ca0460f1c8c?s=128&d=identicon&r=PG&f=1", "display_name": "Luka", "link": "https://stackoverflow.com/users/6763406/luka"}, "edited": false, "score": 0, "creation_date": 1582322394, "post_id": 53491065, "comment_id": 106751045, "body": "I ended up having to create a custom test runner. It allows me to mark a database as &quot;legacy&quot; in my Django settings, and during test setup, the runner will simply skip over any databases flagged that way. I can share the implementation somewhere if it would be useful to you."}, {"owner": {"reputation": 41, "user_id": 6763406, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f5310b9618540907cf86ca0460f1c8c?s=128&d=identicon&r=PG&f=1", "display_name": "Luka", "link": "https://stackoverflow.com/users/6763406/luka"}, "edited": false, "score": 0, "creation_date": 1582533583, "post_id": 53491065, "comment_id": 106796320, "body": "Yes, that would be of help. Maybe you can edit your answer?"}], "tags": [], "owner": {"reputation": 450, "user_id": 1959278, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9153c68680cf641bda90b87d66302713?s=128&d=identicon&r=PG", "display_name": "HorsePunchKid", "link": "https://stackoverflow.com/users/1959278/horsepunchkid"}, "is_accepted": false, "score": 1, "last_activity_date": 1600695796, "last_edit_date": 1600695796, "creation_date": 1543278363, "answer_id": 53491065, "question_id": 51071355, "link": "https://stackoverflow.com/questions/51071355/how-to-skip-creation-of-one-of-the-test-databases-in-django/53491065#53491065", "title": "How to skip creation of one of the test databases in Django", "body": "<p>As requested, here's what I ended up implementing. A &quot;legacy&quot; database here is a database for which we want to skip creation---Django should assume that it already exists.</p>\n<p>You will first need to add this lightly modified test runner, <code>project/runner.py</code>:</p>\n<pre><code>from django.test.runner import DiscoverRunner\nfrom django.test.utils import get_unique_databases_and_mirrors\nfrom django.db import connections\n\n\nclass LegacyDatabaseRunner(DiscoverRunner):\n    &quot;&quot;&quot;\n    Test runner that will skip attempting to create any database with LEGACY=True\n    in its TEST configuration dictionary\n    &quot;&quot;&quot;\n    def setup_databases(self, **kwargs):\n        return _setup_databases(\n            self.verbosity, self.interactive, self.keepdb, self.debug_sql,\n            self.parallel, **kwargs\n        )\n\n\ndef _setup_databases(verbosity, interactive, keepdb=False, debug_sql=False, parallel=0, **kwargs):\n    &quot;&quot;&quot;Clone of django.test.utils.setup_databases&quot;&quot;&quot;\n    test_databases, mirrored_aliases = get_unique_databases_and_mirrors()\n\n    old_names = []\n\n    for db_name, aliases in test_databases.values():\n        first_alias = None\n        for alias in aliases:\n            connection = connections[alias]\n\n            # This clause is all that's been added. If the database's TEST configuration\n            # has LEGACY=True, skip attempting to create the database, and don't add it\n            # to the list of databases to tear down after testing is complete.\n            if connection.settings_dict.get('TEST', {}).get('LEGACY', False):\n                continue\n\n            old_names.append((connection, db_name, first_alias is None))\n\n            # Actually create the database for the first connection\n            if first_alias is None:\n                first_alias = alias\n                connection.creation.create_test_db(\n                    verbosity=verbosity,\n                    autoclobber=not interactive,\n                    keepdb=keepdb,\n                    serialize=connection.settings_dict.get('TEST', {}).get('SERIALIZE', True),\n                )\n                if parallel &gt; 1:\n                    for index in range(parallel):\n                        connection.creation.clone_test_db(\n                            suffix=str(index + 1),\n                            verbosity=verbosity,\n                            keepdb=keepdb,\n                        )\n            # Configure all other connections as mirrors of the first one\n            else:\n                connections[alias].creation.set_as_test_mirror(connections[first_alias].settings_dict)\n\n    # Configure the test mirrors.\n    for alias, mirror_alias in mirrored_aliases.items():\n        connections[alias].creation.set_as_test_mirror(\n            connections[mirror_alias].settings_dict)\n\n    if debug_sql:\n        for alias in connections:\n            connections[alias].force_debug_cursor = True\n\n    return old_names\n</code></pre>\n<p>Next, make it the default runner in your <code>project/settings.py</code>:</p>\n<pre><code>TEST_RUNNER = 'project.runner.LegacyDatabaseRunner'\n</code></pre>\n<p>Then mark any databases you want to skip creation for with <code>LEGACY=True</code> in your settings:</p>\n<pre><code>    DATABASES = {\n        'default': {\n            'ENGINE': 'django.db.backends.postgresql_psycopg2',\n            'NAME': ...,\n        },\n        'legacy_db1': {\n            'ENGINE': 'sql_server.pyodbc',\n            'NAME': ...,\n            'TEST': {\n                'LEGACY': True,  # Do not manage this database during tests\n            },\n        },\n    }\n</code></pre>\n<p>Then hopefully running <code>manage.py test</code> works as expected.</p>\n<p>Note that this will <em>not</em> work when running parallel tests. I made some progress on that by patching <code>ParallelTestSuite.init_worker</code> and fiddling a bit more with <code>setup_databases</code>, but it's not fully functional yet.</p>\n<h2>Old answer, may work in a pinch</h2>\n<p>This is not a particularly safe way to do it, since the semantics of this configuration option could change, but you can declare one database to be a &quot;replica&quot; of the other:</p>\n<pre><code>DATABASES = {\n    'default': {\n        'NAME': 'transactional',\n         ...\n    },\n    'analytical': {\n        'NAME': 'analytical',\n        ...\n        'TEST': {\n            'MIRROR': 'default',\n        },\n    }\n}\n</code></pre>\n<p>The <code>MIRROR</code> configuration option is documented here: <a href=\"https://docs.djangoproject.com/en/dev/topics/testing/advanced/#testing-primary-replica-configurations\" rel=\"nofollow noreferrer\">https://docs.djangoproject.com/en/dev/topics/testing/advanced/#testing-primary-replica-configurations</a></p>\n<p>Relevant Django source is here: <a href=\"https://github.com/django/django/blob/master/django/test/utils.py\" rel=\"nofollow noreferrer\">https://github.com/django/django/blob/master/django/test/utils.py</a></p>\n"}], "owner": {"reputation": 41, "user_id": 6763406, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f5310b9618540907cf86ca0460f1c8c?s=128&d=identicon&r=PG&f=1", "display_name": "Luka", "link": "https://stackoverflow.com/users/6763406/luka"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 937, "favorite_count": 1, "answer_count": 1, "score": 3, "last_activity_date": 1600695796, "creation_date": 1530133341, "question_id": 51071355, "link": "https://stackoverflow.com/questions/51071355/how-to-skip-creation-of-one-of-the-test-databases-in-django", "title": "How to skip creation of one of the test databases in Django", "body": "<p>We have two databases we work with in our Django application, a \"transactional\" one and an \"analytical\" one (serving as a data warehouse). The \"transactional\" one is created using django models and the \"analytical\" one is created using our custom scripts containing raw sql of multiple joins of the \"transactional\" ones tables.</p>\n\n<p>When we run tests for the django app, both of the databases get their test counterpart versions created, let's say, \"test_transactional\" and \"test_analytical\". The creation of the \"test_transactional\" is ok, but we would like for the creation of the \"test_analytical\" to be skipped since that one will be created and filled by our custom scripts.</p>\n\n<p>Snippet from jenkins logs:</p>\n\n<pre><code>python manage.py test --keepdb cis.tests.test_views --  \nnoinput --settings=strainprint.settings.local --verbosity=2\n...\nUsing existing test database for alias 'analytics' \n('test_strainprint_analytics')...\n...\nSynchronizing apps without migrations:\nCreating tables...\nCreating table django_admin_log\nCreating table auth_permission\n...\n</code></pre>\n\n<p>Is there a way to achieve this in Django? We are using django 1.10.</p>\n"}, {"tags": ["python", "html", "python-2.7", "web-scraping"], "comments": [{"owner": {"reputation": 1643, "user_id": 8340867, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/D3XJl.jpg?s=128&g=1", "display_name": "ThunderHorn", "link": "https://stackoverflow.com/users/8340867/thunderhorn"}, "edited": false, "score": 0, "creation_date": 1530133673, "post_id": 51071343, "comment_id": 89132629, "body": "This is a django page, provide me the website url please, and are you using  urllib or webdriver?"}, {"owner": {"reputation": 45, "user_id": 8652735, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87d415fc68c26515d1520fff3253ecf8?s=128&d=identicon&r=PG", "display_name": "Marc Henning", "link": "https://stackoverflow.com/users/8652735/marc-henning"}, "reply_to_user": {"reputation": 1643, "user_id": 8340867, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/D3XJl.jpg?s=128&g=1", "display_name": "ThunderHorn", "link": "https://stackoverflow.com/users/8340867/thunderhorn"}, "edited": false, "score": 0, "creation_date": 1530141041, "post_id": 51071343, "comment_id": 89134853, "body": "The website address is <a href=\"https://carmel.orangetheoryfitness.com/apps/otf/classes\" rel=\"nofollow noreferrer\">carmel.orangetheoryfitness.com/apps/otf/classes</a> however it is behind a login page so I am not certain you will be able to view it.  I have provided a copy of the html at a pastebin. <a href=\"https://pastebin.com/BnvdZmSp\" rel=\"nofollow noreferrer\">pastebin.com/BnvdZmSp</a>.  I am currently using beautifulsoup to search the html.  Do I need to be using something else?"}, {"owner": {"reputation": 1643, "user_id": 8340867, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/D3XJl.jpg?s=128&g=1", "display_name": "ThunderHorn", "link": "https://stackoverflow.com/users/8340867/thunderhorn"}, "edited": false, "score": 0, "creation_date": 1530171526, "post_id": 51071343, "comment_id": 89143278, "body": "bs4 is awesome but what are you using for the requests? are you using urllib or selenium?"}, {"owner": {"reputation": 45, "user_id": 8652735, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87d415fc68c26515d1520fff3253ecf8?s=128&d=identicon&r=PG", "display_name": "Marc Henning", "link": "https://stackoverflow.com/users/8652735/marc-henning"}, "reply_to_user": {"reputation": 1643, "user_id": 8340867, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/D3XJl.jpg?s=128&g=1", "display_name": "ThunderHorn", "link": "https://stackoverflow.com/users/8340867/thunderhorn"}, "edited": false, "score": 0, "creation_date": 1530205579, "post_id": 51071343, "comment_id": 89164861, "body": "I am using requests.     import requests.       s = requests.session()"}, {"owner": {"reputation": 1643, "user_id": 8340867, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/D3XJl.jpg?s=128&g=1", "display_name": "ThunderHorn", "link": "https://stackoverflow.com/users/8340867/thunderhorn"}, "edited": false, "score": 0, "creation_date": 1530205779, "post_id": 51071343, "comment_id": 89164942, "body": "with requests it wont work man requests is http library it cant run javascript try with selenium and tell me if it works"}], "answers": [{"tags": [], "owner": {"reputation": 1643, "user_id": 8340867, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/D3XJl.jpg?s=128&g=1", "display_name": "ThunderHorn", "link": "https://stackoverflow.com/users/8340867/thunderhorn"}, "is_accepted": false, "score": 0, "last_activity_date": 1530203888, "creation_date": 1530203888, "answer_id": 51087784, "question_id": 51071343, "link": "https://stackoverflow.com/questions/51071343/python-web-scraping-table/51087784#51087784", "title": "Python Web-Scraping Table", "body": "<p>Ok mate :) i think this is going to work but with python3.x \nhope it helps </p>\n\n<pre><code>from selenium import webdriver\nfrom selenium.webdriver.common.keys import Keys\n\noptions =webdriver.ChromeOptions()\noptions.add_argument('headless')\n# If you want it headless uncomment the line underneath and comment  out driver = webdriver.Chrome()\n# driver = webdriver.Chrome(chrome_options = options)\ndriver = webdriver.Chrome()\nurl = ('https://carmel.orangetheoryfitness.com/login')\ndriver.get(url)\ninputElement = driver.find_element_by_id(\"email\")\ninputElement.send_keys(\"YOUR EMAIL HERE\")#put your email between the \"\"s\ninputElement = driver.find_element_by_id(\"password\")\ninputElement.send_keys(\"YOUR PASSWORD HERE\")#put your password between the \"\"s\ninputElement.send_keys(Keys.ENTER)\ndriver.get(\"carmel.orangetheoryfitness.com/apps/otf/classes\")\nhtml = driver.page_source\nprint(html)\n</code></pre>\n\n<h1>recap</h1>\n\n<p>since it wants you to be logged in, the solution, that i know,\nis with selenium.\nFor sure there are other methods out there and i hope that the folks will share :) \ni advice you to use it headless because its less messier the browser will run in the background but for debug use it like that,\nonce you are ready with the code just uncomment the headless and everything will work like a charm I hope that I helped you mate! cheers for any questions feel free to ask </p>\n\n<h1>Code on!</h1>\n"}], "owner": {"reputation": 45, "user_id": 8652735, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87d415fc68c26515d1520fff3253ecf8?s=128&d=identicon&r=PG", "display_name": "Marc Henning", "link": "https://stackoverflow.com/users/8652735/marc-henning"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 74, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1530203888, "creation_date": 1530133273, "question_id": 51071343, "link": "https://stackoverflow.com/questions/51071343/python-web-scraping-table", "title": "Python Web-Scraping Table", "body": "<p>I am trying to scrape some data from a website using pythin.  The website contains a lot of different workouts that each have their own data.  I have figured out how to scrape the data from each specific workout, however to do that I must provide a specific workout id in the url.  The home page appears to list all these workout ids in a table, however when I search the html document using \nbeautiful soup the following table data is returned:  </p>\n\n<pre><code>&lt;table class=\"table table-striped table-hover\"&gt;\n&lt;thead&gt;\n&lt;tr&gt;\n&lt;th ng-click=\"order('class_name')\" style=\"cursor:pointer;\"&gt;Name&lt;/th&gt;\n&lt;th ng-click=\"order('location')\" style=\"cursor:pointer;\"&gt;Location&lt;/th&gt;\n&lt;th ng-click=\"order('trainer')\" style=\"cursor:pointer;\"&gt;Instructor&lt;/th&gt;\n&lt;th ng-click=\"order('class_date_sec')\" style=\"cursor:pointer;\"&gt;Date&lt;/th&gt;\n&lt;th ng-click=\"order('points')\" style=\"cursor:pointer;\"&gt;OT Points&lt;/th&gt;\n&lt;th ng-click=\"order('CALORIES')\" style=\"cursor:pointer;\"&gt;Total Calories \n(kCal)&lt;/th&gt;\n&lt;/tr&gt;\n&lt;/thead&gt;\n&lt;tbody id=\"otf-class-body\"&gt;\n&lt;tr calories=\"{{class.CALORIES | number:0}}\" class_date=\"{{class.class_date}} \n    at {{class.class_time}}\" class_name=\"{{class.class_name}}\" date_order=\" \n    {{class.date_order}}\" id=\"{{class.CLASSID}}\" loc=\"{{class.loc}}\" \n    location=\" {{class.location}}\" ng-click=\"view(class.CLASSID, \n    class.at_home)\" ng-repeat=\"class in classes | orderBy:predicate:reverse\" \n    points=\" {{class.points | number:0}}\" trainer=\"{{class.trainer}}\"&gt;\n&lt;td&gt;{{class.class_name}}&lt;/td&gt;\n&lt;td&gt;{{class.location}}&lt;/td&gt;\n&lt;td&gt;{{class.trainer}}&lt;/td&gt;\n&lt;td&gt;{{class.class_date}} at {{class.class_time}}&lt;/td&gt;\n&lt;td&gt;{{class.points | number:0}}&lt;/td&gt;\n&lt;td&gt;{{class.CALORIES | number:0}}&lt;/td&gt;\n&lt;/tr&gt;\n&lt;/tbody&gt;\n&lt;/table&gt;\n</code></pre>\n\n<p>As you can see there is no actual text, instead all the information seems a variable of some sort (my html knowledge is extremely limited).  It appears the information I want would be a list of all:</p>\n\n<pre><code>class.CLASSID\n</code></pre>\n\n<p>Is it possible to use python to obtain this information?  Or it using some api that I do not have access to.</p>\n\n<p>Any help is appreciated.</p>\n"}, {"tags": ["python", "google-app-engine", "google-cloud-datastore", "wagtail"], "answers": [{"tags": [], "owner": {"reputation": 18043, "user_id": 1853523, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b28a2b9c38cb684fb7983d4d3c55db90?s=128&d=identicon&r=PG&f=1", "display_name": "gasman", "link": "https://stackoverflow.com/users/1853523/gasman"}, "is_accepted": true, "score": 2, "last_activity_date": 1530137700, "creation_date": 1530137700, "answer_id": 51072158, "question_id": 51071324, "link": "https://stackoverflow.com/questions/51071324/does-wagtail-early-versions-support-gcp-datastore/51072158#51072158", "title": "Does wagtail early versions support GCP Datastore?", "body": "<p>As per <a href=\"https://pypi.org/project/wagtail/2.1/#compatibility\" rel=\"nofollow noreferrer\">https://pypi.org/project/wagtail/2.1/#compatibility</a>, the only databases officially supported by current versions of Wagtail (as of 2.1) are PostgreSQL, MySQL and SQLite.</p>\n\n<p>GCP Datastore and other NoSQL databases are unsupported. There's a remote possibility that it could be made to work with a suitable backend such as <a href=\"https://potatolondon.github.io/djangae/\" rel=\"nofollow noreferrer\">Djangae</a>, but you would be responsible for fixing any bugs that arise.</p>\n"}], "owner": {"reputation": 17, "user_id": 4552167, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34b43d34bcfa9c71389da914e6bf69b5?s=128&d=identicon&r=PG&f=1", "display_name": "sam", "link": "https://stackoverflow.com/users/4552167/sam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 91, "favorite_count": 0, "accepted_answer_id": 51072158, "answer_count": 1, "score": 0, "last_activity_date": 1530137700, "creation_date": 1530133213, "question_id": 51071324, "link": "https://stackoverflow.com/questions/51071324/does-wagtail-early-versions-support-gcp-datastore", "title": "Does wagtail early versions support GCP Datastore?", "body": "<p>Now we have our project up and running on google-app-engine using cloud SQL as the back-end database system but the client somehow wants to convert to Datastore so what are the opportunities to use Datastore with Wagtail 1.13 or greater without having any troubles.</p>\n\n<p>Thanks for your help </p>\n"}, {"tags": ["python", "regex"], "comments": [{"owner": {"reputation": 481672, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 4, "creation_date": 1530133178, "post_id": 51071288, "comment_id": 89132443, "body": "Because of <code>A-z</code> in <code>r&#39;[^a-zA-z.\\s]&#39;</code> that creates a range that includes <code>_</code>. Replace with <code>A-Z</code>."}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1530133442, "post_id": 51071288, "comment_id": 89132550, "body": "... the answer is that <code>A-z</code> includes <code>_</code>"}, {"owner": {"reputation": 5616, "user_id": 2769240, "user_type": "registered", "accept_rate": 21, "profile_image": "https://www.gravatar.com/avatar/1501f510275875ae7ac437f758de28e8?s=128&d=identicon&r=PG", "display_name": "Baktaawar", "link": "https://stackoverflow.com/users/2769240/baktaawar"}, "edited": false, "score": 0, "creation_date": 1530134160, "post_id": 51071288, "comment_id": 89132807, "body": "how A-z includes _? its hyphen and the other one is underscore?"}, {"owner": {"reputation": 5616, "user_id": 2769240, "user_type": "registered", "accept_rate": 21, "profile_image": "https://www.gravatar.com/avatar/1501f510275875ae7ac437f758de28e8?s=128&d=identicon&r=PG", "display_name": "Baktaawar", "link": "https://stackoverflow.com/users/2769240/baktaawar"}, "edited": false, "score": 0, "creation_date": 1530134531, "post_id": 51071288, "comment_id": 89132943, "body": "Sorry I just got it. I wanted to put capital Z but just checked mistakably it has put small z in both and that is the issue. I wanted to to a-zA-Z. Thanks"}], "owner": {"reputation": 5616, "user_id": 2769240, "user_type": "registered", "accept_rate": 21, "profile_image": "https://www.gravatar.com/avatar/1501f510275875ae7ac437f758de28e8?s=128&d=identicon&r=PG", "display_name": "Baktaawar", "link": "https://stackoverflow.com/users/2769240/baktaawar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 164, "favorite_count": 0, "closed_date": 1530133144, "answer_count": 0, "score": 0, "last_activity_date": 1530133036, "creation_date": 1530133036, "question_id": 51071288, "link": "https://stackoverflow.com/questions/51071288/removing-underscore-from-text", "closed_reason": "Duplicate", "title": "Removing Underscore from text", "body": "<p>I am not sure where the small mistake is being made, but I want to remove all special characters including numbers from a text. </p>\n\n<p>I used this: </p>\n\n<pre><code>def remove_special_chars(text):\n    \"\"\" Method to remove special characters\n\n    \"\"\"\n\n    print(\"original Text: {}\\n\".format(text))\n\n    pattern=r'[^a-zA-z.\\s]'\n    text=re.sub(pattern,\"\",text)\n\n    print(\"Modified text: {}\".format(text))\n</code></pre>\n\n<p>And I get this: </p>\n\n<pre><code>remove_special_chars(\"Hi How_abc.com_are you!. hello_123@gmail.com?_\")\n\n\n\n   original Text: Hi How_abc.com_are you!. hello_123@gmail.com?_\n\n   Modified text: Hi How_abc.com_are you. hello_gmail.com_\n</code></pre>\n\n<p>So while everything else seems to work fine, I am not sure why _ is not getting removed when it is not there in character class?</p>\n"}, {"tags": ["python", "loops"], "comments": [{"owner": {"reputation": 46136, "user_id": 3890632, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hNkgF.png?s=128&g=1", "display_name": "khelwood", "link": "https://stackoverflow.com/users/3890632/khelwood"}, "edited": false, "score": 2, "creation_date": 1530133079, "post_id": 51071281, "comment_id": 89132393, "body": "Because a string, like <code>&quot;2&quot;</code> is not equal to a number, like <code>2</code>."}, {"owner": {"reputation": 45308, "user_id": 3483203, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/592wq.png?s=128&g=1", "display_name": "user3483203", "link": "https://stackoverflow.com/users/3483203/user3483203"}, "edited": false, "score": 1, "creation_date": 1530133081, "post_id": 51071281, "comment_id": 89132394, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/20449427/how-can-i-read-inputs-as-integers\">How can I read inputs as integers?</a>"}, {"owner": {"reputation": 84, "user_id": 3498234, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TuAd1.png?s=128&g=1", "display_name": "Zander", "link": "https://stackoverflow.com/users/3498234/zander"}, "edited": false, "score": 0, "creation_date": 1530133103, "post_id": 51071281, "comment_id": 89132408, "body": "Need to compare a sting to string or int to int."}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 9981546, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/76f24bd65c222cc63e6e78f2b8b36d9a?s=128&d=identicon&r=PG&f=1", "display_name": "jan", "link": "https://stackoverflow.com/users/9981546/jan"}, "edited": false, "score": 0, "creation_date": 1530133237, "post_id": 51071291, "comment_id": 89132472, "body": "Thanks for the fast reply. I&#39;m a beginner and you guys help me a lot."}], "tags": [], "owner": {"reputation": 11001, "user_id": 3316882, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0dbfd45c99a28cab8fe0c8ddcb19aea3?s=128&d=identicon&r=PG&f=1", "display_name": "Sunitha", "link": "https://stackoverflow.com/users/3316882/sunitha"}, "is_accepted": false, "score": 0, "last_activity_date": 1530133063, "creation_date": 1530133063, "answer_id": 51071291, "question_id": 51071281, "link": "https://stackoverflow.com/questions/51071281/while-loops-and-condition-of-it/51071291#51071291", "title": "While Loops and condition of it", "body": "<p><code>input</code> returns a string. So convert it to <code>int</code> before comparison</p>\n\n<pre><code>while chosenNumber != randomNumber:\n    chosenNumber = input(\"Please enter a number: \")\n    if chosenNumber.isdigit():\n        chosenNumber = int(chosenNumber)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 11, "user_id": 9981546, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/76f24bd65c222cc63e6e78f2b8b36d9a?s=128&d=identicon&r=PG&f=1", "display_name": "jan", "link": "https://stackoverflow.com/users/9981546/jan"}, "edited": false, "score": 0, "creation_date": 1530133895, "post_id": 51071445, "comment_id": 89132715, "body": "Yes I did that! Thanksss"}], "tags": [], "owner": {"reputation": 29, "user_id": 5827987, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-0i7OrJb0ftk/AAAAAAAAAAI/AAAAAAAAADQ/Ait80NRb9kE/photo.jpg?sz=128", "display_name": "Parth Sharma", "link": "https://stackoverflow.com/users/5827987/parth-sharma"}, "is_accepted": false, "score": 0, "last_activity_date": 1530133765, "creation_date": 1530133765, "answer_id": 51071445, "question_id": 51071281, "link": "https://stackoverflow.com/questions/51071281/while-loops-and-condition-of-it/51071445#51071445", "title": "While Loops and condition of it", "body": "<p>You can try this.</p>\n\n<pre><code>randomNumber = 2\nchosenNumber = float(\"inf\")\nwhile chosenNumber != randomNumber:\n    chosenNumber = int(input(\"Please enter a number: \"))\n</code></pre>\n\n<p>Hope this helps!</p>\n"}], "owner": {"reputation": 11, "user_id": 9981546, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/76f24bd65c222cc63e6e78f2b8b36d9a?s=128&d=identicon&r=PG&f=1", "display_name": "jan", "link": "https://stackoverflow.com/users/9981546/jan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 29, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1530133765, "creation_date": 1530133004, "question_id": 51071281, "link": "https://stackoverflow.com/questions/51071281/while-loops-and-condition-of-it", "title": "While Loops and condition of it", "body": "<p>I don't know why my While loop condition doesn't work. This is my code: </p>\n\n<pre><code>randomNumber = 2\nchosenNumber = \"\"\nwhile chosenNumber != randomNumber:\n    chosenNumber = input(\"Please enter a number: \")\n</code></pre>\n\n<p>For example, when I enter 2 for chosenNumber, it still loops and asks me to enter a number. But 2 is equal to randomNumber, why doesn't the While loop stop executing?</p>\n"}, {"tags": ["python", "excel", "pandas"], "comments": [{"owner": {"reputation": 7823, "user_id": 8146556, "user_type": "registered", "accept_rate": 78, "profile_image": "https://graph.facebook.com/1503034639720733/picture?type=large", "display_name": "rahlf23", "link": "https://stackoverflow.com/users/8146556/rahlf23"}, "edited": false, "score": 0, "creation_date": 1530133016, "post_id": 51071239, "comment_id": 89132365, "body": "Are your fill values <code>np.nan</code>?"}, {"owner": {"reputation": 46860, "user_id": 4333359, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/231e42e97a07b2937c1bf8a313dfa3f7?s=128&d=identicon&r=PG&f=1", "display_name": "ALollz", "link": "https://stackoverflow.com/users/4333359/alollz"}, "edited": false, "score": 0, "creation_date": 1530133039, "post_id": 51071239, "comment_id": 89132376, "body": "can you print <code>df[&quot;Servicer&quot;].unique()</code>. Perhaps the empty values are not the empty string. Could be <code>&#39; &#39;</code> a single space or something"}, {"owner": {"reputation": 1, "user_id": 10002174, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9a83cd8263e9cbadb9e32a73dcdbdcd?s=128&d=identicon&r=PG&f=1", "display_name": "JayAckley", "link": "https://stackoverflow.com/users/10002174/jayackley"}, "edited": false, "score": 0, "creation_date": 1530194615, "post_id": 51071239, "comment_id": 89158198, "body": "thank you @aALollz, this was a good idea, python is telling me that the empty values are in fact &quot;NaN&quot;, but for some reason that is beyond me, even when i change the code to <code>&quot;Yes&quot; if x == &quot;NaN&quot; else &quot;No&quot;</code> it is still only giving me a long list of &quot;No&quot;s :("}, {"owner": {"reputation": 1, "user_id": 10002174, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9a83cd8263e9cbadb9e32a73dcdbdcd?s=128&d=identicon&r=PG&f=1", "display_name": "JayAckley", "link": "https://stackoverflow.com/users/10002174/jayackley"}, "reply_to_user": {"reputation": 7823, "user_id": 8146556, "user_type": "registered", "accept_rate": 78, "profile_image": "https://graph.facebook.com/1503034639720733/picture?type=large", "display_name": "rahlf23", "link": "https://stackoverflow.com/users/8146556/rahlf23"}, "edited": false, "score": 0, "creation_date": 1530194655, "post_id": 51071239, "comment_id": 89158228, "body": "thank you @rahlf23 - this was a good idea, and suggested as an answer below, but unfortunately importing numpy and using the np.nan value to try to identify empty cells is still not working in this code."}, {"owner": {"reputation": 7823, "user_id": 8146556, "user_type": "registered", "accept_rate": 78, "profile_image": "https://graph.facebook.com/1503034639720733/picture?type=large", "display_name": "rahlf23", "link": "https://stackoverflow.com/users/8146556/rahlf23"}, "edited": false, "score": 0, "creation_date": 1530196804, "post_id": 51071239, "comment_id": 89159654, "body": "Just to be thorough, you did <code>import numpy as np</code> correct?"}, {"owner": {"reputation": 1, "user_id": 10002174, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9a83cd8263e9cbadb9e32a73dcdbdcd?s=128&d=identicon&r=PG&f=1", "display_name": "JayAckley", "link": "https://stackoverflow.com/users/10002174/jayackley"}, "reply_to_user": {"reputation": 7823, "user_id": 8146556, "user_type": "registered", "accept_rate": 78, "profile_image": "https://graph.facebook.com/1503034639720733/picture?type=large", "display_name": "rahlf23", "link": "https://stackoverflow.com/users/8146556/rahlf23"}, "edited": false, "score": 0, "creation_date": 1530200501, "post_id": 51071239, "comment_id": 89162150, "body": "@rahlf23 thank you for checking -  yes i did (admittedly not on my first try though!)"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 10002174, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9a83cd8263e9cbadb9e32a73dcdbdcd?s=128&d=identicon&r=PG&f=1", "display_name": "JayAckley", "link": "https://stackoverflow.com/users/10002174/jayackley"}, "edited": false, "score": 0, "creation_date": 1530194160, "post_id": 51071327, "comment_id": 89157895, "body": "Thank you very much for your quick response Parth. Unfortunately importing numpy and using the expression you suggest does not change the results and the &quot;Needs Cleanup?&quot; column remains full of &quot;No&quot;s. I&#39;m stumped!"}], "tags": [], "owner": {"reputation": 29, "user_id": 5827987, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-0i7OrJb0ftk/AAAAAAAAAAI/AAAAAAAAADQ/Ait80NRb9kE/photo.jpg?sz=128", "display_name": "Parth Sharma", "link": "https://stackoverflow.com/users/5827987/parth-sharma"}, "is_accepted": false, "score": 0, "last_activity_date": 1530133219, "creation_date": 1530133219, "answer_id": 51071327, "question_id": 51071239, "link": "https://stackoverflow.com/questions/51071239/how-to-refer-to-empty-cell-in-pandas-transformation/51071327#51071327", "title": "How to refer to empty cell in pandas transformation", "body": "<p>How about this? You need to replace '' to np.nan.</p>\n\n<pre><code>df[\"Needs Cleanup?\"]=df[\"Servicer\"].apply(lambda x: \"Yes\" if x == np.nan else \"No\")\n</code></pre>\n\n<p>Hope this helps!</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 10002174, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9a83cd8263e9cbadb9e32a73dcdbdcd?s=128&d=identicon&r=PG&f=1", "display_name": "JayAckley", "link": "https://stackoverflow.com/users/10002174/jayackley"}, "is_accepted": true, "score": 0, "last_activity_date": 1530219507, "creation_date": 1530219507, "answer_id": 51091136, "question_id": 51071239, "link": "https://stackoverflow.com/questions/51071239/how-to-refer-to-empty-cell-in-pandas-transformation/51091136#51091136", "title": "How to refer to empty cell in pandas transformation", "body": "<p>I still don't understand why the suggested answers are not working, but I was able to solve my problem by adding the following code:</p>\n\n<p><code>df.fillna(\" \",inplace=True)</code></p>\n\n<p>and then changing my conditional statement to read:</p>\n\n<p><code>\"Yes\" if x == \" \" else \"No\"</code></p>\n\n<p>(thanks to \"Code Like a Girl\" for having this answer in an old blog post!)</p>\n"}], "owner": {"reputation": 1, "user_id": 10002174, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9a83cd8263e9cbadb9e32a73dcdbdcd?s=128&d=identicon&r=PG&f=1", "display_name": "JayAckley", "link": "https://stackoverflow.com/users/10002174/jayackley"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 251, "favorite_count": 0, "accepted_answer_id": 51091136, "answer_count": 2, "score": 0, "last_activity_date": 1530219507, "creation_date": 1530132774, "question_id": 51071239, "link": "https://stackoverflow.com/questions/51071239/how-to-refer-to-empty-cell-in-pandas-transformation", "title": "How to refer to empty cell in pandas transformation", "body": "<p>I am trying to write code that will create a new excel document with a new column that has different values depending on the existing data. Specifically, if a cell under \"Servicer\" is empty, I would like a new column named \"Needs Cleanup?\" to say \"Yes\" in that row, and otherwise say \"No\". I would expect the following code to work, but it returns \"No\" for every row, even if the \"Servicer\" cell is empty. I have also tried using the python value <code>None</code> in place of <code>''</code> with the same results.</p>\n\n<pre><code>filepath = 'C:/Users/jackley/Desktop/'\n\nfilename = 'test.xlsx'\n\ndf = pd.read_excel(filepath+filename)\n\ndf[\"Needs Cleanup?\"]=df[\"Servicer\"].apply(lambda x: \"Yes\" if x == '' else \"No\")\n\ndf.to_excel(filepath+\"test\"+filename,index=False)\n</code></pre>\n\n<p>I have used this code structure to create conditional values for a new column without problem, as long as my if/else statements were referring to values that did actually show up in the \"Servicer\" column. It is just when I try to create a conditional statement based on whether a cell is empty that I am having this problem. Is there a way within this code structure to return different values based on whether an indicated cell is empty?</p>\n\n<p>Any help would be very much appreciated, thanks in advance</p>\n"}, {"tags": ["python", "pandas", "itertools"], "answers": [{"comments": [{"owner": {"reputation": 317, "user_id": 7298979, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce95d42fe078a662325ff3a501763684?s=128&d=identicon&r=PG&f=1", "display_name": "user7298979", "link": "https://stackoverflow.com/users/7298979/user7298979"}, "edited": false, "score": 0, "creation_date": 1530195142, "post_id": 51071337, "comment_id": 89158534, "body": "Thanks, Scott. So in my dataframes, S has a count of 94 and C has a count of 381. When I try to perform the function and create a new dataframe, I get a count of 28. I am not sure how to show my code on an edit."}], "tags": [], "owner": {"reputation": 112399, "user_id": 6361531, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/BRRGS.png?s=128&g=1", "display_name": "Scott Boston", "link": "https://stackoverflow.com/users/6361531/scott-boston"}, "is_accepted": true, "score": 4, "last_activity_date": 1530135656, "last_edit_date": 1530135656, "creation_date": 1530133258, "answer_id": 51071337, "question_id": 51071223, "link": "https://stackoverflow.com/questions/51071223/methods-of-combination-using-python/51071337#51071337", "title": "Methods of Combination using Python", "body": "<p>Use Cartesian join with <code>merge</code> and a temporary key:</p>\n\n<pre><code>S.assign(key=1).merge(c.assign(key=1), on='key').drop('key', axis=1)\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>   Spread   per1   per2   per3    acc    Cer     OO\n0   4.50%  1.26%  0.35%  0.50%  0.60%  1.00%  0.65%\n1   4.50%  1.26%  0.35%  0.50%  0.60%  1.05%  0.68%\n2   4.50%  1.26%  0.35%  0.50%  0.60%  1.10%  0.71%\n3   4.50%  1.26%  0.35%  0.50%  0.60%  1.15%  0.73%\n4   4.50%  1.26%  0.35%  0.50%  0.60%  1.20%  0.76%\n5   4.45%  1.29%  0.35%  0.50%  0.60%  1.00%  0.65%\n6   4.45%  1.29%  0.35%  0.50%  0.60%  1.05%  0.68%\n7   4.45%  1.29%  0.35%  0.50%  0.60%  1.10%  0.71%\n8   4.45%  1.29%  0.35%  0.50%  0.60%  1.15%  0.73%\n9   4.45%  1.29%  0.35%  0.50%  0.60%  1.20%  0.76%\n10  4.40%  1.31%  0.35%  0.50%  0.60%  1.00%  0.65%\n11  4.40%  1.31%  0.35%  0.50%  0.60%  1.05%  0.68%\n12  4.40%  1.31%  0.35%  0.50%  0.60%  1.10%  0.71%\n13  4.40%  1.31%  0.35%  0.50%  0.60%  1.15%  0.73%\n14  4.40%  1.31%  0.35%  0.50%  0.60%  1.20%  0.76%\n15  4.35%  1.34%  0.35%  0.50%  0.60%  1.00%  0.65%\n16  4.35%  1.34%  0.35%  0.50%  0.60%  1.05%  0.68%\n17  4.35%  1.34%  0.35%  0.50%  0.60%  1.10%  0.71%\n18  4.35%  1.34%  0.35%  0.50%  0.60%  1.15%  0.73%\n19  4.35%  1.34%  0.35%  0.50%  0.60%  1.20%  0.76%\n20  4.30%  1.37%  0.35%  0.50%  0.60%  1.00%  0.65%\n21  4.30%  1.37%  0.35%  0.50%  0.60%  1.05%  0.68%\n22  4.30%  1.37%  0.35%  0.50%  0.60%  1.10%  0.71%\n23  4.30%  1.37%  0.35%  0.50%  0.60%  1.15%  0.73%\n24  4.30%  1.37%  0.35%  0.50%  0.60%  1.20%  0.76%\n</code></pre>\n"}], "owner": {"reputation": 317, "user_id": 7298979, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce95d42fe078a662325ff3a501763684?s=128&d=identicon&r=PG&f=1", "display_name": "user7298979", "link": "https://stackoverflow.com/users/7298979/user7298979"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "accepted_answer_id": 51071337, "answer_count": 1, "score": 2, "last_activity_date": 1530135656, "creation_date": 1530132681, "question_id": 51071223, "link": "https://stackoverflow.com/questions/51071223/methods-of-combination-using-python", "title": "Methods of Combination using Python", "body": "<p>I am new to Python and I am trying to work out a problem with two different sets of data. I have created two data frames, s and c using pandas.read_csv</p>\n\n<p><strong>S</strong></p>\n\n<pre><code>  Spread   per1   per2   per3          acc\n0  4.50%  1.26%  0.35%  0.50%        0.60%\n1  4.45%  1.29%  0.35%  0.50%        0.60%\n2  4.40%  1.31%  0.35%  0.50%        0.60%\n3  4.35%  1.34%  0.35%  0.50%        0.60%\n4  4.30%  1.37%  0.35%  0.50%        0.60%\n</code></pre>\n\n<p><strong>c</strong></p>\n\n<pre><code>     Cer     OO\n0  1.00%  0.65%\n1  1.05%  0.68%\n2  1.10%  0.71%\n3  1.15%  0.73%\n4  1.20%  0.76%\n</code></pre>\n\n<p>So what I would want to do is, for every combination of Cer and OO from c, I would want to populate all the records from s. (Not sure if that is a good way to explain it). Please see below for example</p>\n\n<pre><code>    Spread  per1    per2    per3    acc     Cer     OO\n0   4.50%   1.26%   0.35%   0.50%   0.60%   1.00%   0.65%\n1   4.45%   1.29%   0.35%   0.50%   0.60%   1.00%   0.65%\n2   4.40%   1.31%   0.35%   0.50%   0.60%   1.00%   0.65%\n3   4.35%   1.34%   0.35%   0.50%   0.60%   1.00%   0.65%\n4   4.30%   1.37%   0.35%   0.50%   0.60%   1.00%   0.65%\n5   4.50%   1.26%   0.35%   0.50%   0.60%   1.05%   0.68%\n6   4.45%   1.29%   0.35%   0.50%   0.60%   1.05%   0.68%\n7   4.40%   1.31%   0.35%   0.50%   0.60%   1.05%   0.68%\n8   4.35%   1.34%   0.35%   0.50%   0.60%   1.05%   0.68%\n9   4.30%   1.37%   0.35%   0.50%   0.60%   1.05%   0.68%\n</code></pre>\n\n<p>I read that pandas and/or itertools could help me do this kind of analysis? The confusion is when trying to create all of the records from <strong>s</strong> for each combination of the two fields from dataframe <strong>c</strong>.</p>\n\n<p>Again, any help with documentation and/or insight would be great. Thank you </p>\n"}, {"tags": ["python", "random", "mapping", "generator"], "comments": [{"owner": {"reputation": 412, "user_id": 5194459, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/z3iVN.jpg?s=128&g=1", "display_name": "Dominic Price", "link": "https://stackoverflow.com/users/5194459/dominic-price"}, "edited": false, "score": 0, "creation_date": 1530133509, "post_id": 51071212, "comment_id": 89132572, "body": "What alphabet can the output use (i.e. numerals, lower and upper case letters)? You need it to have at least 38 characters in order to represent all numbers from 1 to 38^5."}, {"owner": {"reputation": 49388, "user_id": 6779307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p7O3q.jpg?s=128&g=1", "display_name": "Patrick Haugh", "link": "https://stackoverflow.com/users/6779307/patrick-haugh"}, "edited": false, "score": 0, "creation_date": 1530134439, "post_id": 51071212, "comment_id": 89132906, "body": "Really, this boils down to <a href=\"https://stackoverflow.com/questions/21187131/how-to-use-random-shuffle-on-a-generator-python\">&quot;I want to shuffle an iterator&quot;</a>.  Note that you can get the &quot;key&quot; part of your mapping by just doing <code>enumerate(shuffled_product, start=1)</code>.  From there, it&#39;s just a matter of reading <code>product(ascii_lowercase + digits + &quot;AB&quot;, repeat=5)</code> into a list and then shuffling it.  Obviously, this will take a lot of memory, but it&#39;s doable."}, {"owner": {"reputation": 15136, "user_id": 4044696, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/54xyv.jpg?s=128&g=1", "display_name": "Severin Pappadeux", "link": "https://stackoverflow.com/users/4044696/severin-pappadeux"}, "edited": false, "score": 0, "creation_date": 1530134928, "post_id": 51071212, "comment_id": 89133104, "body": "If you would want bijective mapping int index-&gt;five bytes (2^40) that could be done easily"}, {"owner": {"reputation": 13342, "user_id": 342059, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/02de244eb70d48b5694e7d6a53cb8adf?s=128&d=identicon&r=PG", "display_name": "RYN", "link": "https://stackoverflow.com/users/342059/ryn"}, "reply_to_user": {"reputation": 412, "user_id": 5194459, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/z3iVN.jpg?s=128&g=1", "display_name": "Dominic Price", "link": "https://stackoverflow.com/users/5194459/dominic-price"}, "edited": false, "score": 0, "creation_date": 1530136292, "post_id": 51071212, "comment_id": 89133605, "body": "@DominicPrice: numerals &amp; lowercase letters (28 + 10=38 chars)"}, {"owner": {"reputation": 13342, "user_id": 342059, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/02de244eb70d48b5694e7d6a53cb8adf?s=128&d=identicon&r=PG", "display_name": "RYN", "link": "https://stackoverflow.com/users/342059/ryn"}, "reply_to_user": {"reputation": 49388, "user_id": 6779307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p7O3q.jpg?s=128&g=1", "display_name": "Patrick Haugh", "link": "https://stackoverflow.com/users/6779307/patrick-haugh"}, "edited": false, "score": 0, "creation_date": 1530136797, "post_id": 51071212, "comment_id": 89133796, "body": "@PatrickHaugh: Unfortunately, Shuffle is not good here; first of all shuffling needs list conversion and is not generator friendly, secondly  shuffling returns different random sequence but I want the mapping function be able to always map same input to same output in multiple instances of application"}, {"owner": {"reputation": 13342, "user_id": 342059, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/02de244eb70d48b5694e7d6a53cb8adf?s=128&d=identicon&r=PG", "display_name": "RYN", "link": "https://stackoverflow.com/users/342059/ryn"}, "reply_to_user": {"reputation": 15136, "user_id": 4044696, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/54xyv.jpg?s=128&g=1", "display_name": "Severin Pappadeux", "link": "https://stackoverflow.com/users/4044696/severin-pappadeux"}, "edited": false, "score": 0, "creation_date": 1530137157, "post_id": 51071212, "comment_id": 89133924, "body": "@SeverinPappadeux: yes, That is exactly what is want, furthermore I want this be implementable using a generator (memory reasons) and the mapping be static and uniform as much as possible"}, {"owner": {"reputation": 15136, "user_id": 4044696, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/54xyv.jpg?s=128&g=1", "display_name": "Severin Pappadeux", "link": "https://stackoverflow.com/users/4044696/severin-pappadeux"}, "edited": false, "score": 1, "creation_date": 1530140022, "post_id": 51071212, "comment_id": 89134640, "body": "Well, for mapping <code>int [0...2^40)&lt;-&gt;5bytes random number</code> there is a simple solution - Linear Congruential Generator. I could write an answer. But problem is, it is not permuted letters on the right side, but random 40 bits"}, {"owner": {"reputation": 13342, "user_id": 342059, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/02de244eb70d48b5694e7d6a53cb8adf?s=128&d=identicon&r=PG", "display_name": "RYN", "link": "https://stackoverflow.com/users/342059/ryn"}, "reply_to_user": {"reputation": 15136, "user_id": 4044696, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/54xyv.jpg?s=128&g=1", "display_name": "Severin Pappadeux", "link": "https://stackoverflow.com/users/4044696/severin-pappadeux"}, "edited": false, "score": 0, "creation_date": 1538904543, "post_id": 51071212, "comment_id": 92301556, "body": "@SeverinPappadeux I will appreciate if you write the answer for this using LCG, thanks"}, {"owner": {"reputation": 15136, "user_id": 4044696, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/54xyv.jpg?s=128&g=1", "display_name": "Severin Pappadeux", "link": "https://stackoverflow.com/users/4044696/severin-pappadeux"}, "edited": false, "score": 1, "creation_date": 1539122223, "post_id": 51071212, "comment_id": 92384885, "body": "@RYN Just came out from the trip and going to another one - will take a jab at it this weekend"}, {"owner": {"reputation": 15136, "user_id": 4044696, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/54xyv.jpg?s=128&g=1", "display_name": "Severin Pappadeux", "link": "https://stackoverflow.com/users/4044696/severin-pappadeux"}, "edited": false, "score": 0, "creation_date": 1539732361, "post_id": 51071212, "comment_id": 92606557, "body": "@RYN, please check my answer, sorry for a bit of delay"}], "answers": [{"tags": [], "owner": {"reputation": 15136, "user_id": 4044696, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/54xyv.jpg?s=128&g=1", "display_name": "Severin Pappadeux", "link": "https://stackoverflow.com/users/4044696/severin-pappadeux"}, "is_accepted": true, "score": 1, "last_activity_date": 1539733106, "last_edit_date": 1539733106, "creation_date": 1539732073, "answer_id": 52845239, "question_id": 51071212, "link": "https://stackoverflow.com/questions/51071212/randomly-distributed-bijective-mapping-generator-function-for-string-generation/52845239#52845239", "title": "Randomly distributed bijective mapping generator function for string generation", "body": "<p>Ok, here is bijective mapping from index to 5bytes string and back, based on <a href=\"https://en.wikipedia.org/wiki/Linear_congruential_generator\" rel=\"nofollow noreferrer\">Linear Congruential Generator</a>.\nI used constants for drand48, seems to work fine for 40bits LCG, with seed 1 I tested all\n2<sup>40</sup> values and got full period.</p>\n\n<p>It relies on unsigned 64bit math with masked overflow, thus heavy use of NumPy.\nPacking and unpacking done in somewhat crude way, lots of things to improve. Don't hesitate to ask questions.</p>\n\n<pre><code>import numpy as np\n\n# unsigned constants\nZERO  = np.uint64(0)\nONE   = np.uint64(1)\n\n# signed constants\nSZERO = np.int64(0)\nSONE  = np.int64(1)\nMONE  = np.int64(-1)\n\n# LCG parameters\nbits = np.uint64(40)\nmult = np.uint64(25214903917)\nincr = np.uint64(11)\n\nmod  = np.uint64( np.left_shift(ONE, bits) )\nmask = np.uint64(mod - ONE)\n\ndef rang(seed: np.uint64) -&gt; np.uint64:\n    \"\"\"\n    LCG mapping from one 40bit integer to another\n    \"\"\"\n    return np.uint64(np.bitwise_and(mult*np.uint64(seed) + incr, mask))\n\ndef compute_nskip(nskp: np.int64) -&gt; np.int64:\n    nskip: np.int64 = nskp\n\n    while nskip &lt; SZERO:\n        t: np.uint64 = np.uint64(nskip) + mod\n        nskip = np.int64(t)\n\n    return np.int64( np.bitwise_and(np.uint64(nskip), mask) )\n\ndef skip(nskp: np.int64, seed: np.uint64) -&gt; np.uint64: # inverse mapping\n    \"\"\"\n    Jump from given seed by number of skips\n    \"\"\"\n    nskip: np.int64 = compute_nskip(nskp)\n\n    m: np.uint64 = mult # original multiplicative constant\n    c: np.uint64 = incr # original additive constant\n\n    m_next: np.uint64 = ONE  #  new effective multiplicative constant\n    c_next: np.uint64 = ZERO # new effective additive constant\n\n    while nskip &gt; SZERO:\n        if np.bitwise_and(nskip, SONE) != SZERO: # check least significant bit for being 1\n            m_next = np.bitwise_and(m_next * m, mask)\n            c_next = np.bitwise_and(c_next * m + c, mask)\n\n        c = np.bitwise_and((m + ONE) * c, mask)\n        m = np.bitwise_and(m * m, mask)\n\n        nskip = np.right_shift(nskip, SONE) # shift right, dropping least significant bit\n\n    # with G and C, we can now find the new seed\n    return np.bitwise_and(m_next * seed + c_next, mask)\n\ndef index2bytes(i: np.uint64) -&gt; bytes:\n    bbb: np.uint64 = rang(i)\n\n    rc = bytearray()\n    rc.append( np.uint8( np.bitwise_and(bbb, np.uint64(0xFF)) ) )\n    bbb = np.right_shift(bbb, np.uint64(8))\n    rc.append( np.uint8( np.bitwise_and(bbb, np.uint64(0xFF)) ) )\n    bbb = np.right_shift(bbb, np.uint64(8))\n    rc.append( np.uint8( np.bitwise_and(bbb, np.uint64(0xFF)) ) )\n    bbb = np.right_shift(bbb, np.uint64(8))\n    rc.append( np.uint8( np.bitwise_and(bbb, np.uint64(0xFF)) ) )\n    bbb = np.right_shift(bbb, np.uint64(8))\n    rc.append( np.uint8( np.bitwise_and(bbb, np.uint64(0xFF)) ) )\n\n    return rc\n\ndef bytes2index(a: bytes) -&gt; np.uint64:\n    seed: np.uint64 = ZERO\n    seed += np.left_shift( np.uint64(a[0]), np.uint64(0))\n    seed += np.left_shift( np.uint64(a[1]), np.uint64(8))\n    seed += np.left_shift( np.uint64(a[2]), np.uint64(16))\n    seed += np.left_shift( np.uint64(a[3]), np.uint64(24))\n    seed += np.left_shift( np.uint64(a[4]), np.uint64(32))\n\n    return skip(MONE, seed)\n\n# main part, silence overflow warnings first\nnp.warnings.filterwarnings('ignore')\n\nbbb = index2bytes(ONE)\nprint(bbb)\nidx = bytes2index(bbb)\nprint(idx)\n\nbbb = index2bytes(999999)\nprint(bbb)\nidx = bytes2index(bbb)\nprint(idx)\n\nbbb = b'\\xa4\\x3c\\xb1\\xfc\\x79'\nidx = bytes2index(bbb)\nprint(idx)\nbbb = index2bytes(idx)\nprint(bbb)\nprint(bbb == b'\\xa4\\x3c\\xb1\\xfc\\x79')\n</code></pre>\n"}], "owner": {"reputation": 13342, "user_id": 342059, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/02de244eb70d48b5694e7d6a53cb8adf?s=128&d=identicon&r=PG", "display_name": "RYN", "link": "https://stackoverflow.com/users/342059/ryn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 347, "favorite_count": 0, "accepted_answer_id": 52845239, "answer_count": 1, "score": 0, "last_activity_date": 1539733106, "creation_date": 1530132643, "last_edit_date": 1530194285, "question_id": 51071212, "link": "https://stackoverflow.com/questions/51071212/randomly-distributed-bijective-mapping-generator-function-for-string-generation", "title": "Randomly distributed bijective mapping generator function for string generation", "body": "<p>I'm trying to create a python <code>generator</code> function to yield bijective (Injective &amp; Surjective) mapping between sequential numbers from 1 to 38<sup>5</sup> and randomly distributed  products of alpha-numerics (28 lowercase letters + 10 numbers) with length 5<br>\nfor example something like this:  </p>\n\n<pre><code>1 -&gt; 4fde6\n2 -&gt; grt74\n3 -&gt; g7w33\n...\n</code></pre>\n\n<p>is there a module for this?<br>\nAny idea for the algorithm?</p>\n\n<hr>\n\n<p>Edit: I want the mapping be:</p>\n\n<ul>\n<li>Implementable using generators (not memory intensive) </li>\n<li>Constant during different runs of code </li>\n<li>Uniformly distributed as much as possible</li>\n</ul>\n\n<p>So in one sentence i want an <code>Uniformly distributed constant bijective mapping between indexes and products of n alpha-numerics</code>  </p>\n\n<p>Thanks</p>\n"}, {"tags": ["python", "html", "django"], "comments": [{"owner": {"reputation": 314794, "user_id": 67579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/BJXub.png?s=128&g=1", "display_name": "Willem Van Onsem", "link": "https://stackoverflow.com/users/67579/willem-van-onsem"}, "edited": false, "score": 0, "creation_date": 1530132729, "post_id": 51071206, "comment_id": 89132254, "body": "You <code>__setattr__</code> will most likely fail, since a string is immutable, so you can not change  a character."}, {"owner": {"reputation": 17922, "user_id": 1977847, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2zWQh.png?s=128&g=1", "display_name": "H&#229;ken Lid", "link": "https://stackoverflow.com/users/1977847/h%c3%a5ken-lid"}, "edited": false, "score": 0, "creation_date": 1530132964, "post_id": 51071206, "comment_id": 89132348, "body": "You can override the <code>get_template_names()</code> method of your class based view, to change the template used at runtime. This method is called after <code>get_object()</code>, so you can access <code>self.object</code> in this method. <a href=\"https://docs.djangoproject.com/en/2.0/ref/class-based-views/mixins-simple/#django.views.generic.base.TemplateResponseMixin.get_template_names\" rel=\"nofollow noreferrer\">docs.djangoproject.com/en/2.0/ref/class-based-views/&hellip;</a>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user9727749"}, "edited": false, "score": 0, "creation_date": 1530137148, "post_id": 51071206, "comment_id": 89133919, "body": "Ok, thanks guys. Both helpful answers."}], "owner": {"user_type": "does_not_exist", "display_name": "user9727749"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 22, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1530132624, "creation_date": 1530132624, "question_id": 51071206, "link": "https://stackoverflow.com/questions/51071206/what-is-the-best-way-to-redirect-to-a-model-with-its-own-unique-template", "title": "What is the best way to redirect to a model with its own unique template?", "body": "<p>I have a league that will be made up of individual teams which are represented by a team model. What I want to do is list the teams on the league homepage(base.html) and have each team be a link to their respective page which is represented by a different template that extends base.html. What is the best strategy for achieving this? I can make it work if I write each team link one by one I guess, but I'm running into trouble if I try to use a for loop in the base.html template. Is it possible to have a template attribute in a model where I save the template and somehow redirect to that attribute?</p>\n\n<pre><code> # Team\n class Team(models.Model):\nteam_choices = TEAM_CHOICES\nname = models.CharField(max_length=50, null=True, blank=True, choices=team_choices)\nplayers = models.ManyToManyField('accounts.User', related_name='players', blank=True)\nseason = models.ManyToManyField('Season', related_name='team_seasons', blank=True)\ncity = models.ForeignKey(City, on_delete=models.CASCADE, blank=True)\nneighborhood = models.CharField(max_length=100, null=True, blank=True)\nsponsor = models.CharField(max_length=100, null=True, blank=True)\nabout = models.TextField(null=True, blank=True)\ncredits = models.TextField(null=True, blank=True)\nurl = models.CharField(max_length=50, null=True, blank=True)\nphoto = models.ImageField(null=True, blank=True, upload_to='images')\nvideo = models.FileField(null=True, blank=True, upload_to='videos')\ndate_created = models.DateField(auto_now_add=True)\n\nclass Meta:\n    ordering = ['name', 'neighborhood', 'sponsor', 'about', 'credits']\n\ndef create(self):\n    self.created_date = timezone.now()\n    self.save()\n\ndef __str__(self):\n    return self.name\n\ndef __getitem__(self,index):\n    return self.name[index]\n\ndef __setitem__(self,index,value):\n    self.name[index] = value\n</code></pre>\n\n<p>These are relevant views I'm working with:</p>\n\n<pre><code> class League(generic.ListView):\n     model = Team\n     template_name = 'league.html'\n\n     def get_queryset(self):\n         t = Team.objects.filter()\n         return t\n\n def team1(request):\n    team = Team.objects.get(name='team1')\n    return render(request, 'team/team1.html', {'team':team,})\n    print (team.name)\n\n class team_redirect(View):\n    template_name = 'home/base.html'\n    def get(self, request):\n        return HttpResponsePermanentRedirect(reverse('Get_team', args=(team.name,)))\n\n class Get_team(LoginRequiredMixin, DetailView):\n     Model = Team\n\n     def get_object(self, *args, **kwargs):\n         team = get_object_or_404(Team, name=self.kwargs['name'])\n         return team\n</code></pre>\n\n<p>I want to have the link in the template redirect to the specific teams homepage and template, but this is where I'm running into trouble. Difficulty passing the right kwargs to the urls.</p>\n\n<pre><code> #Urls\n    url(r'^league$', views.League.as_view(), name='league'),\n\n           # Team Redirect\n           url(r'^team_redirect$', views.team_redirect.as_view(), name='team_redirect'),\n\n           # Get Team\n           url(r'^team/(?P&lt;team_name&gt;\\d+)/view$', views.Get_team.as_view(), name='get_team'),\n</code></pre>\n"}, {"tags": ["python", "pytest", "parameterized-unit-test"], "answers": [{"tags": [], "owner": {"reputation": 4142, "user_id": 9962955, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-q_I2uCDh94A/AAAAAAAAAAI/AAAAAAAAABY/7dXHe3szfmQ/photo.jpg?sz=128", "display_name": "Leo K", "link": "https://stackoverflow.com/users/9962955/leo-k"}, "is_accepted": false, "score": 2, "last_activity_date": 1530138397, "creation_date": 1530138397, "answer_id": 51072274, "question_id": 51071134, "link": "https://stackoverflow.com/questions/51071134/parameterizing-pytest-tests-with-fixtures-and-a-command-line-argument/51072274#51072274", "title": "parameterizing pytest tests with fixtures and a command line argument", "body": "<p>The description isn't very clear as to how the helper reads the test values from DB or how that helper gets called to produce the values for <code>pytest.mark.parameterize()</code>, but if the helper is capable of getting one test case per call (rather than the whole list at once), then you can make the helper itself a fixture and have it invoked multiple times, once for each test case that is listed in the @pytest.mark.parametrize() decoration. Let's say the database has each test case in a DB row and you index it by some 'test ID' column.</p>\n\n<pre><code>@pytest.fixture\ndef test_case(request,table_name):\n# this is the get-test-case helper, note it is a fixture,\n# so it can have table_name as an argument\n# request.param will be our test ID here, see the mark.parametrize below\n    return query(\"select * from %s where test_id = %s\",\n                 (table_name, request.param))\n\n@pytest.mark.parametrize(\"test_case,p1,p2\",\n    [ (\"TstID1\", 1, 2), (\"TstID2\", 3, 3) ], indirect=[\"test_case\"])\ndef test_function(test_case, p1, p2):\n    # test_case here will be the query result from the call to the test_case() fixture! p1 and p2 will come directly from the parameterize mark.\n</code></pre>\n\n<p>Note how the regular parameters p1 and p2 are passed as-is, but the one marked as indirect goes through the fixture (this also ensures that the 'expensive' operation of querying the database is performed when the tests are actually run and not when pytest runs the 'collection phase' and prepares the list of tests to run.</p>\n"}], "owner": {"reputation": 1, "user_id": 10002073, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/306do.png?s=128&g=1", "display_name": "potato_programmer", "link": "https://stackoverflow.com/users/10002073/potato-programmer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 987, "favorite_count": 3, "answer_count": 1, "score": 0, "last_activity_date": 1538676252, "creation_date": 1530132280, "question_id": 51071134, "link": "https://stackoverflow.com/questions/51071134/parameterizing-pytest-tests-with-fixtures-and-a-command-line-argument", "title": "parameterizing pytest tests with fixtures and a command line argument", "body": "<p>Trying to take a command line argument (table_name) into pytest (via conftest.py, see below) and use that argument in a helper method to make a query in a DB, and then use query results to create parameterized test inputs using @pytest.mark.parametrize on a test_ function.</p>\n\n<pre><code>#contents of conftest.py\nimport pytest\n\ndef pytest_addoption(parser):\n    parser.addoption(\"--table_name\", action=\"store\", default=None, help=\"enter table name\")\n\n@pytest.fixture\ndef table_name(request):\n    return request.config.getoption('--table_name')\n</code></pre>\n\n<p>Problem is: the command line argument (table_name) is being retrieved using a fixture, and we'd like to pass this into a helper method to make a query and put the query results in a list, but since the helper method takes a fixture, it can't be called outside of another fixture/test_function. So we can't put the list into the parameterized test_function params</p>\n\n<pre><code>#helper method\ndef get_test_cases(table_name):\n    #connect to DB, makes query\n    #puts all query results into a list called tests\n    return tests\n\n#test function\n@pytest.mark.parametrize(\"columns...\", (values...)) #list is read as values\ndef test_function(columns):\n    #assertion tests\n</code></pre>\n\n<p>Is there any way to use the command line argument and also pass the results of the DB query into the parameterized marker/params?</p>\n"}, {"tags": ["python", "flask", "wtforms", "flask-appbuilder"], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 9848821, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Eric Simmons", "link": "https://stackoverflow.com/users/9848821/eric-simmons"}, "is_accepted": false, "score": 0, "last_activity_date": 1530218257, "creation_date": 1530218257, "answer_id": 51090889, "question_id": 51071068, "link": "https://stackoverflow.com/questions/51071068/how-do-i-change-the-default-selection-for-a-selectfield-using-a-custom-form-with/51090889#51090889", "title": "How do I change the default selection for a selectfield using a custom form with Flask-AppBuilder?", "body": "<p>I figured out a work-around. If there is a better way please let me know. I added refresh() to the RoomForm, and since I am not sure how to get anything other than the full url, parameter string, I subtracted the first 19 characters to get the correct building number. </p>\n\n<pre><code>  def refresh():\n    form = RoomForm()\n    if request.method == 'GET':\n      a=len(request.query_string)-19\n      form.building_id.default = int(request.query_string[-a:])\n      form.process()\n    return form\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 9848821, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Eric Simmons", "link": "https://stackoverflow.com/users/9848821/eric-simmons"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 395, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1530218257, "creation_date": 1530132016, "question_id": 51071068, "link": "https://stackoverflow.com/questions/51071068/how-do-i-change-the-default-selection-for-a-selectfield-using-a-custom-form-with", "title": "How do I change the default selection for a selectfield using a custom form with Flask-AppBuilder?", "body": "<p>Change my Flask app into a Flask-Appbuilder, and running into some issues. I am looking to change the default selection of a SelectField using the parameter in the url, kind of like the automatic forms do. From the following configuration, I get \"/rooms/add?_flt_0_building=3\" in the URL when the third building is selected. How can I get building_id in the WTForm to select his on the page?</p>\n\n<p>Room form:</p>\n\n<pre><code>class RoomForm(DynamicForm):\n  building_list = db.session.query(Building).all()\n  name = StringField('Room name', validators=[DataRequired()])\n  building_id = SelectField('Building', choices=[(r.id, r.name) for r in building_list], validators=[DataRequired()])\n  floor_id = StringField('Floor', validators=[DataRequired()])\n</code></pre>\n\n<p>Room model:</p>\n\n<pre><code>class Room(Model):\n  id = Column(Integer, primary_key=True)\n  name = Column(String(80), unique=True, nullable=False)\n  building_id = Column(Integer, ForeignKey('building.id'), nullable=False)\n  building = relationship(\"Building\")\n  floors_id = Column(Integer, ForeignKey('floors.id'), nullable=True)\n  floor = relationship(\"Floors\")\n  node = relationship('Nodes', backref='roomkey', lazy='dynamic')\n  device = relationship('Devices', backref='roomkey2', lazy='dynamic')\n\n  def __repr__(self):\n    return self.name\n\nclass Building(Model):\n  id = Column(Integer, primary_key=True)\n  name = Column(String(80), unique=True, nullable=False)\n  floors = Column(Integer)\n  gunitbuilding = relationship('Room', backref='buildingkey', lazy='dynamic')\n\n  def __repr__(self):\n    return self.name\n    return self.id\n</code></pre>\n\n<p>Room views:</p>\n\n<pre><code>class Rooms(ModelView):\n  datamodel = SQLAInterface(Room)\n  show_title = 'Rooms'\n  add_title = 'Add room'\n  edit_title = 'Edit room'\n  list_title = 'Rooms'\n  list_columns = ['name']\n  show_fieldsets = [('Summary', {'fields':['name']} )]\n  search_columns = ['name']\n  add_columns = ['name','building_id','floor_id']\n  add_form = RoomForm\n\nclass managerooms(MasterDetailView):\n  datamodel = SQLAInterface(Building)\n  list_title = 'Buildings'\n  list_columns = ['name']\n  related_views = [Rooms]\n  show_title = 'Buildings'\n\nappbuilder.add_view_no_menu(managerooms)\nappbuilder.add_view_no_menu(Rooms)\nappbuilder.add_link(\"Rooms\", href=\"/managerooms/list/1?next=%2Fmanagerooms%2Flist%2F1\", icon=\"\", category=\"Manage\")\n</code></pre>\n"}, {"tags": ["python", "graph"], "owner": {"reputation": 31, "user_id": 9999731, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uKzA8.jpg?s=128&g=1", "display_name": "A. Almukhtar", "link": "https://stackoverflow.com/users/9999731/a-almukhtar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 123, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1530698883, "creation_date": 1530131770, "last_edit_date": 1530698883, "question_id": 51071027, "link": "https://stackoverflow.com/questions/51071027/cannot-execute-snap-py-code-for-cnm-community-detection", "title": "cannot execute snap.py code for CNM community detection", "body": "<p>Hy everyone, I'm new to <code>snap.py</code>. </p>\n\n<p>I tried to execute the following <strong>code</strong> which I downloaded <a href=\"http://snap.stanford.edu/snappy/doc/reference/CommunityCNM.html\" rel=\"nofollow noreferrer\">from here</a></p>\n\n<p>Using the <strong>dataset</strong> which can be <a href=\"https://snap.stanford.edu/data/ca-GrQc.html\" rel=\"nofollow noreferrer\">downloaded here.</a> </p>\n\n<pre><code>import snap\nUGraph = snap.LoadEdgeList(snap.PUNGraph, \"CA-GrQc.txt\")\n# UGraph = snap.GenRndGnm(snap.PUNGraph, 100, 1000)\nCmtyV = snap.TCnComV()\nmodularity = snap.CommunityCNM(UGraph, CmtyV)\nfor Cmty in CmtyV:\n    print \"Community: \"\n    for NI in Cmty:\n        print NI\nprint \"The modularity of the network is %f\" % modularity\n</code></pre>\n\n<p>When I execute it I get the following <strong>runtime error</strong>:</p>\n\n<blockquote>\n<pre><code>Traceback (most recent call last):\n  File \"C:/Users/Ahmed/.PyCharmCE2017.2/config/scratches/snap_CNM.py\", line \n44, in &lt;module&gt;\n    modularity = snap.CommunityCNM(g, CmtyV)\n  File \"C:\\Python27\\lib\\site-packages\\snap.py\", line 31114, in CommunityCNM\n    return _snap.CommunityCNM(Graph, CmtyV)\nRuntimeError: Execution stopped: (0&lt;=ValN)&amp;&amp;(ValN&lt;Vals) [Reason:'Index:-1 \nVals:5242 MxVals:5242 Type:TVec&lt;class THashKeyDat&lt;class TInt,struct \nTSnap::TSnapDetail::TCNMQMatrix::TCmtyDat&gt;,int&gt;'], file s:\\glib-core\\ds.h, \nline 491\n</code></pre>\n</blockquote>\n\n<p>but when I execute the code after <em>commenting the second line and uncommenting the third</em> line, it is <strong>working properly</strong>.</p>\n\n<p>I've relabeled the nodes in the dataset to make them start from 0 to 5241 and I get the same error.</p>\n\n<p>Can anyone tell me what is going on here and how to fix the error?</p>\n"}, {"tags": ["python", "macos", "sockets", "go", "networking"], "comments": [{"owner": {"reputation": 2960, "user_id": 3521243, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/EJDD8.jpg?s=128&g=1", "display_name": "Emile Pels", "link": "https://stackoverflow.com/users/3521243/emile-pels"}, "edited": false, "score": 0, "creation_date": 1530132695, "post_id": 51071020, "comment_id": 89132234, "body": "Are you 100% sure you&#39;re not running an old build with a different port or something..? <code>http.ListenAndServe</code> also calls <code>net.Listen(&quot;tcp&quot;, addr)</code> internally: <a href=\"https://github.com/golang/go/blob/master/src/net/http/server.go#L2728\" rel=\"nofollow noreferrer\">github.com/golang/go/blob/master/src/net/http/server.go#L272&zwnj;&#8203;8</a>"}, {"owner": {"reputation": 3331, "user_id": 42559, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/aa7c1350d93036592f58f165318044db?s=128&d=identicon&r=PG", "display_name": "llimllib", "link": "https://stackoverflow.com/users/42559/llimllib"}, "reply_to_user": {"reputation": 2960, "user_id": 3521243, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/EJDD8.jpg?s=128&g=1", "display_name": "Emile Pels", "link": "https://stackoverflow.com/users/3521243/emile-pels"}, "edited": false, "score": 0, "creation_date": 1530132734, "post_id": 51071020, "comment_id": 89132257, "body": "yup, 100% certain"}, {"owner": {"reputation": 5105, "user_id": 373815, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vBPZK.png?s=128&g=1", "display_name": "chuckx", "link": "https://stackoverflow.com/users/373815/chuckx"}, "edited": false, "score": 0, "creation_date": 1530132766, "post_id": 51071020, "comment_id": 89132281, "body": "It might be useful to add a <code>time.Sleep(10 * time.Second)</code> call to the end of your Go program and get <code>netstat</code> output while it&#39;s running."}, {"owner": {"reputation": 3331, "user_id": 42559, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/aa7c1350d93036592f58f165318044db?s=128&d=identicon&r=PG", "display_name": "llimllib", "link": "https://stackoverflow.com/users/42559/llimllib"}, "edited": false, "score": 0, "creation_date": 1530132980, "post_id": 51071020, "comment_id": 89132357, "body": "Excellent idea: <a href=\"https://gist.github.com/llimllib/9f86f61a9436e9f59edf39d97c9b8dca\" rel=\"nofollow noreferrer\">gist.github.com/llimllib/9f86f61a9436e9f59edf39d97c9b8dca</a> . It binds to <code>tcp46</code> instead of <code>tcp4</code> or <code>tcp6</code>, but I don&#39;t know what that really means?"}, {"owner": {"reputation": 5105, "user_id": 373815, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vBPZK.png?s=128&g=1", "display_name": "chuckx", "link": "https://stackoverflow.com/users/373815/chuckx"}, "edited": false, "score": 0, "creation_date": 1530143766, "post_id": 51071020, "comment_id": 89135417, "body": "Can you provide the output to <code>lsof -i -T f | grep 8888</code> while the Go program is running?"}, {"owner": {"reputation": 3331, "user_id": 42559, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/aa7c1350d93036592f58f165318044db?s=128&d=identicon&r=PG", "display_name": "llimllib", "link": "https://stackoverflow.com/users/42559/llimllib"}, "reply_to_user": {"reputation": 5105, "user_id": 373815, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vBPZK.png?s=128&g=1", "display_name": "chuckx", "link": "https://stackoverflow.com/users/373815/chuckx"}, "edited": false, "score": 0, "creation_date": 1530150539, "post_id": 51071020, "comment_id": 89136701, "body": "@chuckx <code>lsof -i -T f | grep 8888</code> is empty both before the program runs and while it runs, are you sure those are correct Mac lsof options?"}, {"owner": {"reputation": 3331, "user_id": 42559, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/aa7c1350d93036592f58f165318044db?s=128&d=identicon&r=PG", "display_name": "llimllib", "link": "https://stackoverflow.com/users/42559/llimllib"}, "reply_to_user": {"reputation": 5105, "user_id": 373815, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vBPZK.png?s=128&g=1", "display_name": "chuckx", "link": "https://stackoverflow.com/users/373815/chuckx"}, "edited": false, "score": 0, "creation_date": 1530150962, "post_id": 51071020, "comment_id": 89136758, "body": "@chuckx ok, I think I found the relevant results in the output, they don&#39;t list the port number but here they are: <a href=\"https://gist.github.com/llimllib/854d8b737ad2405479b64eb5f70ce0fa\" rel=\"nofollow noreferrer\">gist.github.com/llimllib/854d8b737ad2405479b64eb5f70ce0fa</a>"}, {"owner": {"reputation": 3331, "user_id": 42559, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/aa7c1350d93036592f58f165318044db?s=128&d=identicon&r=PG", "display_name": "llimllib", "link": "https://stackoverflow.com/users/42559/llimllib"}, "reply_to_user": {"reputation": 5105, "user_id": 373815, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vBPZK.png?s=128&g=1", "display_name": "chuckx", "link": "https://stackoverflow.com/users/373815/chuckx"}, "edited": false, "score": 0, "creation_date": 1530151193, "post_id": 51071020, "comment_id": 89136806, "body": "@chuckx thank you for the idea! Here is a <i>much</i> faster lsof invocation to study the problem: <code>lsof -i :8888 -T f</code> (which outputs the same as before)"}], "answers": [{"tags": [], "owner": {"reputation": 3331, "user_id": 42559, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/aa7c1350d93036592f58f165318044db?s=128&d=identicon&r=PG", "display_name": "llimllib", "link": "https://stackoverflow.com/users/42559/llimllib"}, "is_accepted": true, "score": 2, "last_activity_date": 1530153408, "creation_date": 1530153408, "answer_id": 51073906, "question_id": 51071020, "link": "https://stackoverflow.com/questions/51071020/golang-net-listen-binds-to-port-thats-already-in-use/51073906#51073906", "title": "Golang net.Listen binds to port that&#39;s already in use", "body": "<p>OK, I think I have a story to tell about why this happens:</p>\n\n<ol>\n<li>Docker on mac, when mapping a port, binds to IPv4 <code>0.0.0.0:&lt;port&gt;</code> and IPv6 <code>[::1]:&lt;port&gt;</code>. Note that on IPv6 it maps to the equivalent of <code>localhost</code> rather than <code>0.0.0.0</code>, which would be <code>[::]</code>!</li>\n<li>Golang, when opening a socket to listen on, by default opens an IPv6 socket that is mapped in some way to also listen to IPv4. (I still don't completely understand this <code>tcp46</code> type, so if you have good docs <em>please</em> point me to them!).</li>\n<li>So my golang program was opening an IPv6 socket on <code>[::]:8888</code>, the equivalent of <code>0.0.0.0:8888</code> in IPv6. This succeeded because docker was listening on <code>[::1]</code> (the equivalent of 127.0.0.1), <em>not</em> <code>[::]</code></li>\n<li>That's it! So the golang program succeeded even though it will only get connected to by a client connecting on IPv6 from a non-loopback address (I think, I got too tired to test this, give me a break)</li>\n</ol>\n\n<p>My coworker reports that on Ubuntu, docker listens on <code>[::]</code>, which is why he was unable to reproduce the problem I was seeing. This seems like the sensible behavior! And I have no idea why it doesn't do so on mac.</p>\n\n<p>I also think it's surprising and possibly a bit wrong that Go happily succeeds in this instance, even though it's creating a socket that's very difficult to actually access? But I can't say that it's definitely a bug, and I <em>definitely</em> don't feel like trying to report it as such to the go project.</p>\n"}, {"comments": [{"owner": {"reputation": 3331, "user_id": 42559, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/aa7c1350d93036592f58f165318044db?s=128&d=identicon&r=PG", "display_name": "llimllib", "link": "https://stackoverflow.com/users/42559/llimllib"}, "edited": false, "score": 1, "creation_date": 1530191221, "post_id": 51074226, "comment_id": 89155696, "body": "Thank you for your help! I don&#39;t think we would have cracked it without that lsof, and this is valuable information on this strange corner of unix networking :)"}], "tags": [], "owner": {"reputation": 5105, "user_id": 373815, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vBPZK.png?s=128&g=1", "display_name": "chuckx", "link": "https://stackoverflow.com/users/373815/chuckx"}, "is_accepted": false, "score": 1, "last_activity_date": 1530157971, "last_edit_date": 1530157971, "creation_date": 1530156255, "answer_id": 51074226, "question_id": 51071020, "link": "https://stackoverflow.com/questions/51071020/golang-net-listen-binds-to-port-thats-already-in-use/51074226#51074226", "title": "Golang net.Listen binds to port that&#39;s already in use", "body": "<p>Regarding the <code>tcp46</code> output from <code>netstat</code>, I can't find any documentation but I did find the relevant source.</p>\n\n<p>From <a href=\"https://opensource.apple.com/source/network_cmds/network_cmds-543/netstat.tproj/inet.c.auto.html\" rel=\"nofollow noreferrer\">network_cmds-543/netstat.proj/inet.c</a>:</p>\n\n<pre><code>void\nprotopr(uint32_t proto,     /* for sysctl version we pass proto # */\n        char *name, int af)\n{\n\n...\n\n    struct xinpcb_n *inp = NULL;\n\n...\n\n            const char *vchar;\n\n#ifdef INET6\n            if ((inp-&gt;inp_vflag &amp; INP_IPV6) != 0)\n                vchar = ((inp-&gt;inp_vflag &amp; INP_IPV4) != 0)\n                ? \"46\" : \"6 \";\n            else\n#endif\n                vchar = ((inp-&gt;inp_vflag &amp; INP_IPV4) != 0)\n                ? \"4 \" : \"  \";\n</code></pre>\n\n<p><code>xinpcb_n</code> is defined in <a href=\"https://github.com/apple/darwin-xnu/blob/0a798f6738bc1db01281fc08ae024145e84df927/bsd/netinet/in_pcb.h#L425\" rel=\"nofollow noreferrer\">bsd/netinet/in_pcb.h</a>.</p>\n\n<pre><code> * struct inpcb captures the network layer state for TCP, UDP and raw IPv6\n * and IPv6 sockets.\n</code></pre>\n\n<p>Elsewhere in that file, the <code>inp_vflag</code> is documented as <code>/* INP_IPV4 or INP_IPV6 */</code>. Those are in turn defined as:</p>\n\n<pre><code>#define INP_IPV4    0x1\n#define INP_IPV6    0x2\n</code></pre>\n\n<p>So basically, when a socket has both v4 and v6 bits set, it will display <code>46</code> in the protocol column.</p>\n\n<hr>\n\n<p>Regarding Go, there's <a href=\"https://github.com/golang/go/blob/ef9217e7bd9c854e4f8d2d79ff8aec550130cbc4/src/net/sock_posix.go#L18\" rel=\"nofollow noreferrer\">this <code>socket()</code> function in the net package</a>:</p>\n\n<pre><code>func socket(ctx context.Context, net string, family, sotype, proto int, ipv6only bool, laddr, raddr sockaddr, ctrlFn func(string, string, syscall.RawConn) error) (fd *netFD, err error) {\n\n...\n\nif err = setDefaultSockopts(s, family, sotype, ipv6only); err != nil {\n</code></pre>\n\n<p><code>setDefaultSockopts()</code> has per platform definitions, here's an excerpt from <a href=\"https://github.com/golang/go/blob/257d6c48e0abde069e5acc67f719a129d0017186/src/net/sockopt_bsd.go#L15\" rel=\"nofollow noreferrer\">the BSD variant</a>: </p>\n\n<pre><code>func setDefaultSockopts(s, family, sotype int, ipv6only bool) error {\n\n...\n\n    if supportsIPv4map() &amp;&amp; family == syscall.AF_INET6 &amp;&amp; sotype != syscall.SOCK_RAW {\n        // Allow both IP versions even if the OS default\n        // is otherwise. Note that some operating systems\n        // never admit this option.\n        syscall.SetsockoptInt(s, syscall.IPPROTO_IPV6, syscall.IPV6_V6ONLY, boolint(ipv6only))\n</code></pre>\n\n<p>So, allowing of both IP versions on a socket is driven by the <code>ipv6Only</code> boolean. After a little more digging, I found <a href=\"https://github.com/golang/go/blob/ef9217e7bd9c854e4f8d2d79ff8aec550130cbc4/src/net/ipsock_posix.go#L72\" rel=\"nofollow noreferrer\">where this is decided</a> and includes a detailed explanation of the logic:</p>\n\n<pre><code>// favoriteAddrFamily returns the appropriate address family for the\n// given network, laddr, raddr and mode.\n//\n// If mode indicates \"listen\" and laddr is a wildcard, we assume that\n// the user wants to make a passive-open connection with a wildcard\n// address family, both AF_INET and AF_INET6, and a wildcard address\n// like the following:\n//\n//  - A listen for a wildcard communication domain, \"tcp\" or\n//    \"udp\", with a wildcard address: If the platform supports\n//    both IPv6 and IPv4-mapped IPv6 communication capabilities,\n//    or does not support IPv4, we use a dual stack, AF_INET6 and\n//    IPV6_V6ONLY=0, wildcard address listen. The dual stack\n//    wildcard address listen may fall back to an IPv6-only,\n//    AF_INET6 and IPV6_V6ONLY=1, wildcard address listen.\n//    Otherwise we prefer an IPv4-only, AF_INET, wildcard address\n//    listen.\n//\n//  - A listen for a wildcard communication domain, \"tcp\" or\n//    \"udp\", with an IPv4 wildcard address: same as above.\n//\n//  - A listen for a wildcard communication domain, \"tcp\" or\n//    \"udp\", with an IPv6 wildcard address: same as above.\n//\n//  - A listen for an IPv4 communication domain, \"tcp4\" or \"udp4\",\n//    with an IPv4 wildcard address: We use an IPv4-only, AF_INET,\n//    wildcard address listen.\n//\n//  - A listen for an IPv6 communication domain, \"tcp6\" or \"udp6\",\n//    with an IPv6 wildcard address: We use an IPv6-only, AF_INET6\n//    and IPV6_V6ONLY=1, wildcard address listen.\n//\n// Otherwise guess: If the addresses are IPv4 then returns AF_INET,\n// or else returns AF_INET6. It also returns a boolean value what\n// designates IPV6_V6ONLY option.\n//\n// Note that the latest DragonFly BSD and OpenBSD kernels allow\n// neither \"net.inet6.ip6.v6only=1\" change nor IPPROTO_IPV6 level\n// IPV6_V6ONLY socket option setting.\n</code></pre>\n"}], "owner": {"reputation": 3331, "user_id": 42559, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/aa7c1350d93036592f58f165318044db?s=128&d=identicon&r=PG", "display_name": "llimllib", "link": "https://stackoverflow.com/users/42559/llimllib"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3477, "favorite_count": 1, "accepted_answer_id": 51073906, "answer_count": 2, "score": 5, "last_activity_date": 1530157971, "creation_date": 1530131745, "last_edit_date": 1530152016, "question_id": 51071020, "link": "https://stackoverflow.com/questions/51071020/golang-net-listen-binds-to-port-thats-already-in-use", "title": "Golang net.Listen binds to port that&#39;s already in use", "body": "<p>Port 8888 is already bound on my (OS X 10.13.5) system, by a process running inside a docker container:</p>\n\n<pre><code>$ netstat -an | grep 8888\ntcp6       0      0  ::1.8888               *.*                    LISTEN\ntcp4       0      0  *.8888                 *.*                    LISTEN\n</code></pre>\n\n<p>A python program which tries to bind to that port (using as close to the socket options of golang as I can manage), fails in the way I expect:</p>\n\n<pre class=\"lang-python prettyprint-override\"><code>import socket\nimport fcntl\nimport os\n\n\ndef main():\n    sock = socket.socket(socket.AF_INET, socket.SOCK_STREAM)\n    flag = fcntl.fcntl(sock.fileno(), fcntl.F_GETFL)\n    fcntl.fcntl(sock.fileno(), fcntl.F_SETFL, flag | os.O_NONBLOCK)\n    sock.setsockopt(socket.SOL_SOCKET, socket.SO_BROADCAST, 1)\n    sock.bind((\"0.0.0.0\", 8888))\n    sock.listen(5)\n\n\nmain()\n</code></pre>\n\n<p>fails with:</p>\n\n<pre><code>$ python test.py\nTraceback (most recent call last):\n  File \"test.py\", line 15, in &lt;module&gt;\n    main()\n  File \"test.py\", line 11, in main\n    sock.bind((\"0.0.0.0\", 8888))\nOSError: [Errno 48] Address already in use\n</code></pre>\n\n<p>But a go program creating a connection via <code>net.Listen</code> does not fail, as I expect it to:</p>\n\n<pre><code>package main\n\nimport (\n    \"fmt\"\n    \"net\"\n)\n\nfunc main() {\n    _, err := net.Listen(\"tcp\", \"0.0.0.0:8888\")\n    if err != nil {\n        fmt.Printf(\"Connection error: %s\\n\", err)\n    } else {\n        fmt.Println(\"Listening\")\n    }\n}\n</code></pre>\n\n<p>Succeeds with:</p>\n\n<pre><code>$ go run test.go\nListening\n</code></pre>\n\n<p>A coworker reports that with the same setup, his Ubuntu system correctly fails the go program.</p>\n\n<p>Why does this succeed on a Mac, and how can I get the net.Listen to show an error in binding to port 8888?</p>\n\n<p>edit: If I occupy port 8888 with a simple go program like:</p>\n\n<pre><code>package main\n\nimport (\n    \"log\"\n    \"net/http\"\n)\n\nfunc main() {\n    log.Fatal(http.ListenAndServe(\"0.0.0.0:8888\", nil))\n}\n</code></pre>\n\n<p>Then <code>test.go</code> correctly fails to bind to the port. However the docker process (which is running basically that ^^^) does not cause it to fail.</p>\n\n<p>edit 2: If I specify \"tcp4\", then the program does indeed fail as I expect. If I specify \"tcp6\", it succeeds but netstat says it binds to <code>*</code> instead of <code>::1</code>:</p>\n\n<pre><code>$ netstat -an | grep 8888\ntcp6       0      0  *.8888                 *.*                    LISTEN\ntcp6       0      0  ::1.8888               *.*                    LISTEN\ntcp4       0      0  *.8888                 *.*                    LISTEN\n</code></pre>\n\n<p>So, specifying \"tcp4\" will solve my actual problem, but I really want to understand what the heck is going on with the \"tcp46\" connection type, and I can't find any documentation. Help!</p>\n"}, {"tags": ["python", "python-3.x", "flask"], "answers": [{"comments": [{"owner": {"reputation": 409, "user_id": 9121039, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6ac158e91e1706c145099909b6671ee?s=128&d=identicon&r=PG&f=1", "display_name": "titiree", "link": "https://stackoverflow.com/users/9121039/titiree"}, "edited": false, "score": 0, "creation_date": 1530208508, "post_id": 51072506, "comment_id": 89166221, "body": "So if this doesn&#39;t have anything to do with the mode of installation, could it be that the installation itself didn&#39;t work properly? What else could have gone wrong?"}], "tags": [], "owner": {"reputation": 3200, "user_id": 849365, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/7lDM6.jpg?s=128&g=1", "display_name": "Prahlad Yeri", "link": "https://stackoverflow.com/users/849365/prahlad-yeri"}, "is_accepted": false, "score": -1, "last_activity_date": 1530140181, "creation_date": 1530140181, "answer_id": 51072506, "question_id": 51070991, "link": "https://stackoverflow.com/questions/51070991/installing-a-flask-application-in-development-mode/51072506#51072506", "title": "Installing a flask application in development mode", "body": "<p>You are unable to use it outside the project folder because you have installed it in editable mode (<code>-e</code> flag). Uninstall the package and install again without the <code>-e</code> switch, so that it will be installed globally on your system. After that, it should work.</p>\n"}], "owner": {"reputation": 409, "user_id": 9121039, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6ac158e91e1706c145099909b6671ee?s=128&d=identicon&r=PG&f=1", "display_name": "titiree", "link": "https://stackoverflow.com/users/9121039/titiree"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 469, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1530211356, "creation_date": 1530131613, "last_edit_date": 1530211356, "question_id": 51070991, "link": "https://stackoverflow.com/questions/51070991/installing-a-flask-application-in-development-mode", "title": "Installing a flask application in development mode", "body": "<p>I have followed flask's tutorial to the point of installing the flaskr blog (here: <a href=\"http://flask.pocoo.org/docs/1.0/tutorial/install/\" rel=\"nofollow noreferrer\">http://flask.pocoo.org/docs/1.0/tutorial/install/</a>). I'm new to installing python packages and I would appreciate some explanation of what's going on:</p>\n\n<p>The tutorial says that installing the flaskr project has the benefit of being able to run it from anywhere. </p>\n\n<p>However, I still can't run it outside the flask-tutorial directory (if I do <code>flask run</code> outside the flask-tutorial directory in the command line, I get <code>flask.cli.NoAppException: Could not import \"flaskr\".</code>)</p>\n\n<p>Also, while I can import flaskr when working in the python interpreter, I also can't run it from there (even when I'm in the flask-tutorial directory):</p>\n\n<pre><code>import flaskr\napp = flaskr.create_app()\napp.run()\n</code></pre>\n\n<p>I get the following, and the python interpreter exits:</p>\n\n<pre><code>* Serving Flask app \"flaskr\" (lazy loading)\n* Environment: development\n* Debug mode: on\n* Restarting with stat\n/Users/user/projects/flask-tutorial/venv/scripts/python.exe can't find '__main__' module in ''\n</code></pre>\n\n<p>--- UPDATE:</p>\n\n<p>If I set <code>$env:FLASK_ENV = \"production\"</code>, and then start the python interpreter, I can run flaskr successfully as described above. </p>\n\n<p>However, still no luck running flaskr directly from the command line (with <code>flask run</code>) outside of the flask-tutorial directory.</p>\n"}, {"tags": ["python", "python-3.x", "pandas", "numpy"], "comments": [{"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1530131872, "post_id": 51070985, "comment_id": 89131834, "body": "You need to iterate over the columns, printing once per column.  You haven&#39;t written a loop to do that.  Where are you stuck?"}, {"owner": {"reputation": 45308, "user_id": 3483203, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/592wq.png?s=128&g=1", "display_name": "user3483203", "link": "https://stackoverflow.com/users/3483203/user3483203"}, "edited": false, "score": 0, "creation_date": 1530131891, "post_id": 51070985, "comment_id": 89131842, "body": "Related <a href=\"https://stackoverflow.com/questions/26266362/how-to-count-the-nan-values-in-a-column-in-pandas-dataframe/39734251\" title=\"how to count the nan values in a column in pandas dataframe\">stackoverflow.com/questions/26266362/&hellip;</a>"}, {"owner": {"reputation": 45308, "user_id": 3483203, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/592wq.png?s=128&g=1", "display_name": "user3483203", "link": "https://stackoverflow.com/users/3483203/user3483203"}, "reply_to_user": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1530131904, "post_id": 51070985, "comment_id": 89131848, "body": "Also @Prune iteration is the last thing he should be doing in <code>pandas</code>"}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "reply_to_user": {"reputation": 45308, "user_id": 3483203, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/592wq.png?s=128&g=1", "display_name": "user3483203", "link": "https://stackoverflow.com/users/3483203/user3483203"}, "edited": false, "score": 0, "creation_date": 1530132056, "post_id": 51070985, "comment_id": 89131926, "body": "@user3483203 Good point -- should be building a vector of results."}], "answers": [{"comments": [{"owner": {"reputation": 45308, "user_id": 3483203, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/592wq.png?s=128&g=1", "display_name": "user3483203", "link": "https://stackoverflow.com/users/3483203/user3483203"}, "edited": false, "score": 0, "creation_date": 1530131948, "post_id": 51071037, "comment_id": 89131875, "body": "I don&#39;t think you need the first line and the last line.  The middle line produces the result he wants"}, {"owner": {"reputation": 10237, "user_id": 2464597, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/12eaebfe8c9ae6c3a29aefe69ebcb4bd?s=128&d=identicon&r=PG", "display_name": "Engineero", "link": "https://stackoverflow.com/users/2464597/engineero"}, "reply_to_user": {"reputation": 45308, "user_id": 3483203, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/592wq.png?s=128&g=1", "display_name": "user3483203", "link": "https://stackoverflow.com/users/3483203/user3483203"}, "edited": false, "score": 0, "creation_date": 1530132025, "post_id": 51071037, "comment_id": 89131912, "body": "I don&#39;t know, the output he shows looks like a copied and pasted pandas dataframe itself, thus I&#39;m building a dataframe from the existing one&#39;s columns and their percent missing. But we&#39;ll see what the OP says."}, {"owner": {"reputation": 507, "user_id": 8913334, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c5fbd999da9ed4bde5eef24263685f51?s=128&d=identicon&r=PG&f=1", "display_name": "Shaswata", "link": "https://stackoverflow.com/users/8913334/shaswata"}, "edited": false, "score": 0, "creation_date": 1530132358, "post_id": 51071037, "comment_id": 89132085, "body": "its not printing the dtype float 64 at the last"}, {"owner": {"reputation": 10237, "user_id": 2464597, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/12eaebfe8c9ae6c3a29aefe69ebcb4bd?s=128&d=identicon&r=PG", "display_name": "Engineero", "link": "https://stackoverflow.com/users/2464597/engineero"}, "reply_to_user": {"reputation": 507, "user_id": 8913334, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c5fbd999da9ed4bde5eef24263685f51?s=128&d=identicon&r=PG&f=1", "display_name": "Shaswata", "link": "https://stackoverflow.com/users/8913334/shaswata"}, "edited": false, "score": 0, "creation_date": 1530132571, "post_id": 51071037, "comment_id": 89132189, "body": "@Shaswata yeah, looks like you can get the output from just doing the <code>df.isnull().sum()...</code> after all. Added that to my answer as it was pointed out in the comments."}], "tags": [], "owner": {"reputation": 10237, "user_id": 2464597, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/12eaebfe8c9ae6c3a29aefe69ebcb4bd?s=128&d=identicon&r=PG", "display_name": "Engineero", "link": "https://stackoverflow.com/users/2464597/engineero"}, "is_accepted": true, "score": 63, "last_activity_date": 1552918017, "last_edit_date": 1552918017, "creation_date": 1530131836, "answer_id": 51071037, "question_id": 51070985, "link": "https://stackoverflow.com/questions/51070985/find-out-the-percentage-of-missing-values-in-each-column-in-the-given-dataset/51071037#51071037", "title": "Find out the percentage of missing values in each column in the given dataset", "body": "<p>How about this? I think I actually found something similar on here once before, but I'm not seeing it now...</p>\n\n<pre><code>percent_missing = df.isnull().sum() * 100 / len(df)\nmissing_value_df = pd.DataFrame({'column_name': df.columns,\n                                 'percent_missing': percent_missing})\n</code></pre>\n\n<p>And if you want the missing percentages sorted, follow the above with:</p>\n\n<pre><code>missing_value_df.sort_values('percent_missing', inplace=True)\n</code></pre>\n\n<p>As mentioned in the comments, you may also be able to get by with just the first line in my code above, i.e.:</p>\n\n<pre><code>percent_missing = df.isnull().sum() * 100 / len(df)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 5003, "user_id": 8410477, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dVgCN.jpg?s=128&g=1", "display_name": "ah bon", "link": "https://stackoverflow.com/users/8410477/ah-bon"}, "edited": false, "score": 0, "creation_date": 1575463289, "post_id": 51071085, "comment_id": 104573932, "body": "How to drop the columns whose missing percentages are more than 30%?"}, {"owner": {"reputation": 112399, "user_id": 6361531, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/BRRGS.png?s=128&g=1", "display_name": "Scott Boston", "link": "https://stackoverflow.com/users/6361531/scott-boston"}, "reply_to_user": {"reputation": 5003, "user_id": 8410477, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dVgCN.jpg?s=128&g=1", "display_name": "ah bon", "link": "https://stackoverflow.com/users/8410477/ah-bon"}, "edited": false, "score": 2, "creation_date": 1575468266, "post_id": 51071085, "comment_id": 104576845, "body": "@Ahbon you can use the following:  <code>df.loc[:, df.isnull().mean() &lt; .30]</code>"}], "tags": [], "owner": {"reputation": 112399, "user_id": 6361531, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/BRRGS.png?s=128&g=1", "display_name": "Scott Boston", "link": "https://stackoverflow.com/users/6361531/scott-boston"}, "is_accepted": false, "score": 24, "last_activity_date": 1530906122, "last_edit_date": 1530906122, "creation_date": 1530132080, "answer_id": 51071085, "question_id": 51070985, "link": "https://stackoverflow.com/questions/51070985/find-out-the-percentage-of-missing-values-in-each-column-in-the-given-dataset/51071085#51071085", "title": "Find out the percentage of missing values in each column in the given dataset", "body": "<p>Update let's use <code>mean</code> with <code>isnull</code>:</p>\n\n<pre><code>df.isnull().mean() * 100\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>Ord_id                 0.000000\nProd_id                0.000000\nShip_id                0.000000\nCust_id                0.000000\nSales                  0.238124\nDiscount               0.654840\nOrder_Quantity         0.654840\nProfit                 0.654840\nShipping_Cost          0.654840\nProduct_Base_Margin    1.297774\ndtype: float64\n</code></pre>\n\n<p>IIUC:</p>\n\n<pre><code>df.isnull().sum() / df.shape[0] * 100.00\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>Ord_id                 0.000000\nProd_id                0.000000\nShip_id                0.000000\nCust_id                0.000000\nSales                  0.238124\nDiscount               0.654840\nOrder_Quantity         0.654840\nProfit                 0.654840\nShipping_Cost          0.654840\nProduct_Base_Margin    1.297774\ndtype: float64\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 13024, "user_id": 5276797, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fad4546242573f7961ec20dd6ee6875?s=128&d=identicon&r=PG&f=1", "display_name": "IanS", "link": "https://stackoverflow.com/users/5276797/ians"}, "edited": false, "score": 0, "creation_date": 1530197857, "post_id": 51071181, "comment_id": 89160402, "body": "<code>isnull</code> and <code>isna</code> are aliases, as far as I can tell"}, {"owner": {"reputation": 72748, "user_id": 3185459, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PBjxg.jpg?s=128&g=1", "display_name": "RomanPerekhrest", "link": "https://stackoverflow.com/users/3185459/romanperekhrest"}, "reply_to_user": {"reputation": 13024, "user_id": 5276797, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fad4546242573f7961ec20dd6ee6875?s=128&d=identicon&r=PG&f=1", "display_name": "IanS", "link": "https://stackoverflow.com/users/5276797/ians"}, "edited": false, "score": 0, "creation_date": 1530204256, "post_id": 51071181, "comment_id": 89164233, "body": "@IanS, yes, at the moment. But in case if they are interchangeable, one of them could be somehow extended in future versions or one of them could be removed. So, in one case we have an advanced action, in 2nd case we have a potential indicating point showing which function is actual."}], "tags": [], "owner": {"reputation": 72748, "user_id": 3185459, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PBjxg.jpg?s=128&g=1", "display_name": "RomanPerekhrest", "link": "https://stackoverflow.com/users/3185459/romanperekhrest"}, "is_accepted": false, "score": 6, "last_activity_date": 1530132548, "creation_date": 1530132548, "answer_id": 51071181, "question_id": 51070985, "link": "https://stackoverflow.com/questions/51070985/find-out-the-percentage-of-missing-values-in-each-column-in-the-given-dataset/51071181#51071181", "title": "Find out the percentage of missing values in each column in the given dataset", "body": "<p>To cover all <em>missing</em> values and round the results:</p>\n\n<pre><code>((df.isnull() | df.isna()).sum() * 100 / df.index.size).round(2)\n</code></pre>\n\n<p>The output:</p>\n\n<pre><code>Out[556]: \nOrd_id                 0.00\nProd_id                0.00\nShip_id                0.00\nCust_id                0.00\nSales                  0.24\nDiscount               0.65\nOrder_Quantity         0.65\nProfit                 0.65\nShipping_Cost          0.65\nProduct_Base_Margin    1.30\ndtype: float64\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1691, "user_id": 10962477, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v9bwC.jpg?s=128&g=1", "display_name": "Suhas_Pote", "link": "https://stackoverflow.com/users/10962477/suhas-pote"}, "is_accepted": false, "score": 1, "last_activity_date": 1560954916, "creation_date": 1560954916, "answer_id": 56670242, "question_id": 51070985, "link": "https://stackoverflow.com/questions/51070985/find-out-the-percentage-of-missing-values-in-each-column-in-the-given-dataset/56670242#56670242", "title": "Find out the percentage of missing values in each column in the given dataset", "body": "<pre><code>import numpy as np\nimport pandas as pd\n\nraw_data = {'first_name': ['Jason', np.nan, 'Tina', 'Jake', 'Amy'], \n        'last_name': ['Miller', np.nan, np.nan, 'Milner', 'Cooze'], \n        'age': [22, np.nan, 23, 24, 25], \n        'sex': ['m', np.nan, 'f', 'm', 'f'], \n        'Test1_Score': [4, np.nan, 0, 0, 0],\n        'Test2_Score': [25, np.nan, np.nan, 0, 0]}\nresults = pd.DataFrame(raw_data, columns = ['first_name', 'last_name', 'age', 'sex', 'Test1_Score', 'Test2_Score'])\n\n\nresults \n\n  first_name last_name   age  sex  Test1_Score  Test2_Score\n0      Jason    Miller  22.0    m          4.0         25.0\n1        NaN       NaN   NaN  NaN          NaN          NaN\n2       Tina       NaN  23.0    f          0.0          NaN\n3       Jake    Milner  24.0    m          0.0          0.0\n4        Amy     Cooze  25.0    f          0.0          0.0\n</code></pre>\n\n<p>You can use following function, which will give you output in Dataframe</p>\n\n<ul>\n<li>Zero Values   </li>\n<li>Missing Values     </li>\n<li>% of Total Values</li>\n<li>Total Zero Missing Values</li>\n<li>% Total Zero Missing Values</li>\n<li>Data Type  </li>\n</ul>\n\n<p><em>Just copy and paste following function and call it by passing your pandas Dataframe</em></p>\n\n<pre><code>def missing_zero_values_table(df):\n        zero_val = (df == 0.00).astype(int).sum(axis=0)\n        mis_val = df.isnull().sum()\n        mis_val_percent = 100 * df.isnull().sum() / len(df)\n        mz_table = pd.concat([zero_val, mis_val, mis_val_percent], axis=1)\n        mz_table = mz_table.rename(\n        columns = {0 : 'Zero Values', 1 : 'Missing Values', 2 : '% of Total Values'})\n        mz_table['Total Zero Missing Values'] = mz_table['Zero Values'] + mz_table['Missing Values']\n        mz_table['% Total Zero Missing Values'] = 100 * mz_table['Total Zero Missing Values'] / len(df)\n        mz_table['Data Type'] = df.dtypes\n        mz_table = mz_table[\n            mz_table.iloc[:,1] != 0].sort_values(\n        '% of Total Values', ascending=False).round(1)\n        print (\"Your selected dataframe has \" + str(df.shape[1]) + \" columns and \" + str(df.shape[0]) + \" Rows.\\n\"      \n            \"There are \" + str(mz_table.shape[0]) +\n              \" columns that have missing values.\")\n#         mz_table.to_excel('D:/sampledata/missing_and_zero_values.xlsx', freeze_panes=(1,0), index = False)\n        return mz_table\n\nmissing_zero_values_table(results)\n</code></pre>\n\n<p><strong>Output</strong></p>\n\n<pre><code>Your selected dataframe has 6 columns and 5 Rows.\nThere are 6 columns that have missing values.\n\n             Zero Values  Missing Values  % of Total Values  Total Zero Missing Values  % Total Zero Missing Values Data Type\nlast_name              0               2               40.0                          2                         40.0    object\nTest2_Score            2               2               40.0                          4                         80.0   float64\nfirst_name             0               1               20.0                          1                         20.0    object\nage                    0               1               20.0                          1                         20.0   float64\nsex                    0               1               20.0                          1                         20.0    object\nTest1_Score            3               1               20.0                          4                         80.0   float64\n</code></pre>\n\n<p>If you want to keep it simple then you can use following function to get missing values in %</p>\n\n<pre><code>def missing(dff):\n    print (round((dff.isnull().sum() * 100/ len(dff)),2).sort_values(ascending=False))\n\n\nmissing(results)\n\nTest2_Score    40.0\nlast_name      40.0\nTest1_Score    20.0\nsex            20.0\nage            20.0\nfirst_name     20.0\ndtype: float64\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 7061045, "user_type": "registered", "profile_image": "https://graph.facebook.com/1023084317/picture?type=large", "display_name": "Nitish Arora", "link": "https://stackoverflow.com/users/7061045/nitish-arora"}, "is_accepted": false, "score": 2, "last_activity_date": 1562158859, "creation_date": 1562158859, "answer_id": 56870739, "question_id": 51070985, "link": "https://stackoverflow.com/questions/51070985/find-out-the-percentage-of-missing-values-in-each-column-in-the-given-dataset/56870739#56870739", "title": "Find out the percentage of missing values in each column in the given dataset", "body": "<p>The solution you're looking for is :</p>\n\n<pre><code>round(df.isnull().mean()*100,2) \n</code></pre>\n\n<p>This will round up the percentage upto 2 decimal places</p>\n\n<p>Another way to do this is </p>\n\n<pre><code>round((df.isnull().sum()*100)/len(df),2)\n</code></pre>\n\n<p>but this is not efficient as using mean() is.</p>\n"}, {"tags": [], "owner": {"reputation": 29, "user_id": 11691751, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26514f197aba50e3bc2977bffea5775c?s=128&d=identicon&r=PG&f=1", "display_name": "GpandaM", "link": "https://stackoverflow.com/users/11691751/gpandam"}, "is_accepted": false, "score": 1, "last_activity_date": 1576063533, "creation_date": 1576063533, "answer_id": 59284768, "question_id": 51070985, "link": "https://stackoverflow.com/questions/51070985/find-out-the-percentage-of-missing-values-in-each-column-in-the-given-dataset/59284768#59284768", "title": "Find out the percentage of missing values in each column in the given dataset", "body": "<p>If there are multiple dataframe below is the function to calculate number of missing value in each column with percentage</p>\n\n<pre><code>def miss_data(df):\n    x = ['column_name','missing_data', 'missing_in_percentage']\n    missing_data = pd.DataFrame(columns=x)\n    columns = df.columns\n    for col in columns:\n        icolumn_name = col\n        imissing_data = df[col].isnull().sum()\n        imissing_in_percentage = (df[col].isnull().sum()/df[col].shape[0])*100\n\n        missing_data.loc[len(missing_data)] = [icolumn_name, imissing_data, imissing_in_percentage]\n    print(missing_data) \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 51, "user_id": 11737659, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-807DpJhCtwk/AAAAAAAAAAI/AAAAAAAAGTU/fLFP6FKD1SQ/photo.jpg?sz=128", "display_name": "naimur978", "link": "https://stackoverflow.com/users/11737659/naimur978"}, "is_accepted": false, "score": 0, "last_activity_date": 1590558851, "last_edit_date": 1590558851, "creation_date": 1590555101, "answer_id": 62035697, "question_id": 51070985, "link": "https://stackoverflow.com/questions/51070985/find-out-the-percentage-of-missing-values-in-each-column-in-the-given-dataset/62035697#62035697", "title": "Find out the percentage of missing values in each column in the given dataset", "body": "<p>By this following code, you can get the corresponding percentage values from every columns. Just switch the name train_data with df, in case of yours.</p>\n\n<p>Input:</p>\n\n<pre><code>In [1]:\n\nall_data_na = (train_data.isnull().sum() / len(train_data)) * 100\nall_data_na = all_data_na.drop(all_data_na[all_data_na == 0].index).sort_values(ascending=False)[:30]\nmissing_data = pd.DataFrame({'Missing Ratio' :all_data_na})\nmissing_data.head(20)\n</code></pre>\n\n<p>Output :</p>\n\n<pre><code>Out[1]: \n                                Missing Ratio\n left_eyebrow_outer_end_x       68.435239\n left_eyebrow_outer_end_y       68.435239\n right_eyebrow_outer_end_y      68.279189\n right_eyebrow_outer_end_x      68.279189\n left_eye_outer_corner_x        67.839410\n left_eye_outer_corner_y        67.839410\n right_eye_inner_corner_x       67.825223\n right_eye_inner_corner_y       67.825223\n right_eye_outer_corner_x       67.825223\n right_eye_outer_corner_y       67.825223\n mouth_left_corner_y            67.811037\n mouth_left_corner_x            67.811037\n left_eyebrow_inner_end_x       67.796851\n left_eyebrow_inner_end_y       67.796851\n right_eyebrow_inner_end_y      67.796851\n mouth_right_corner_x           67.796851\n mouth_right_corner_y           67.796851\n right_eyebrow_inner_end_x      67.796851\n left_eye_inner_corner_x        67.782664\n left_eye_inner_corner_y        67.782664\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1010, "user_id": 8111013, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9bc5ef4eeaac3a0f7531794c4dd11fd5?s=128&d=identicon&r=PG&f=1", "display_name": "Salma", "link": "https://stackoverflow.com/users/8111013/salma"}, "is_accepted": false, "score": 0, "last_activity_date": 1595007301, "last_edit_date": 1595007301, "creation_date": 1595006985, "answer_id": 62959032, "question_id": 51070985, "link": "https://stackoverflow.com/questions/51070985/find-out-the-percentage-of-missing-values-in-each-column-in-the-given-dataset/62959032#62959032", "title": "Find out the percentage of missing values in each column in the given dataset", "body": "<p>For me I did it like that :</p>\n<pre class=\"lang-py prettyprint-override\"><code>def missing_percent(df):\n        # Total missing values\n        mis_val = df.isnull().sum()\n        \n        # Percentage of missing values\n        mis_percent = 100 * df.isnull().sum() / len(df)\n        \n        # Make a table with the results\n        mis_table = pd.concat([mis_val, mis_percent], axis=1)\n        \n        # Rename the columns\n        mis_columns = mis_table.rename(\n        columns = {0 : 'Missing Values', 1 : 'Percent of Total Values'})\n        \n        # Sort the table by percentage of missing descending\n        mis_columns = mis_columns[\n            mis_columns.iloc[:,1] != 0].sort_values(\n        'Percent of Total Values', ascending=False).round(2)\n        \n        # Print some summary information\n        print (&quot;Your selected dataframe has &quot; + str(df.shape[1]) + &quot; columns.\\n&quot;      \n            &quot;There are &quot; + str(mis_columns.shape[0]) +\n              &quot; columns that have missing values.&quot;)\n        \n        # Return the dataframe with missing information\n        return mis_columns\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 4025395, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16c43e78c4724724298c9aa8cee26f12?s=128&d=identicon&r=PG&f=1", "display_name": "Aravind Raju", "link": "https://stackoverflow.com/users/4025395/aravind-raju"}, "is_accepted": false, "score": 0, "last_activity_date": 1602659955, "last_edit_date": 1602659955, "creation_date": 1602571551, "answer_id": 64329968, "question_id": 51070985, "link": "https://stackoverflow.com/questions/51070985/find-out-the-percentage-of-missing-values-in-each-column-in-the-given-dataset/64329968#64329968", "title": "Find out the percentage of missing values in each column in the given dataset", "body": "<p>Let's break down your ask</p>\n<ol>\n<li>you want the percentage of missing value</li>\n<li>it should be sorted in ascending order and the values to be rounded to 2 floating point</li>\n</ol>\n<p>Explanation:</p>\n<ol>\n<li>dhr[fill_cols].isnull().sum() - gives the total number of missing values column wise</li>\n<li>dhr.shape[0] - gives the total number of rows</li>\n<li>(dhr[fill_cols].isnull().sum()/dhr.shape[0]) - gives you a series with percentage as values and column names as index</li>\n<li>since the output is a series you can round and sort based on the values</li>\n</ol>\n<p>code:</p>\n<pre><code>(dhr[fill_cols].isnull().sum()/dhr.shape[0]).round(2).sort_values()\n</code></pre>\n<p>Reference:\n<a href=\"https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.sort_values.html\" rel=\"nofollow noreferrer\">sort</a>, <a href=\"https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.round.html\" rel=\"nofollow noreferrer\">round</a></p>\n"}, {"tags": [], "owner": {"reputation": 99, "user_id": 13740191, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0As0j.jpg?s=128&g=1", "display_name": "xatz3npki", "link": "https://stackoverflow.com/users/13740191/xatz3npki"}, "is_accepted": false, "score": 2, "last_activity_date": 1610028408, "last_edit_date": 1610028408, "creation_date": 1609942125, "answer_id": 65597293, "question_id": 51070985, "link": "https://stackoverflow.com/questions/51070985/find-out-the-percentage-of-missing-values-in-each-column-in-the-given-dataset/65597293#65597293", "title": "Find out the percentage of missing values in each column in the given dataset", "body": "<p><em><strong>single line solution</strong></em></p>\n<pre><code>df.isnull().mean().round(4).mul(100).sort_values(ascending=False)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 14333372, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AOh14GgwV60K0M8jLffagND2kMN7frv-VlYV8kxjwOAzkg=k-s128", "display_name": "Malaya Parida", "link": "https://stackoverflow.com/users/14333372/malaya-parida"}, "is_accepted": false, "score": 0, "last_activity_date": 1610219036, "last_edit_date": 1610219036, "creation_date": 1610210702, "answer_id": 65645116, "question_id": 51070985, "link": "https://stackoverflow.com/questions/51070985/find-out-the-percentage-of-missing-values-in-each-column-in-the-given-dataset/65645116#65645116", "title": "Find out the percentage of missing values in each column in the given dataset", "body": "<pre class=\"lang-py prettyprint-override\"><code>import numpy as np\n\nimport pandas as pd\n\ndf = pd.read_csv('https://query.data.world/s/Hfu_PsEuD1Z_yJHmGaxWTxvkz7W_b0')\n\ndf.loc[np.isnan(df['Product_Base_Margin']),['Product_Base_Margin']]=df['Product_Base_Margin'].mean()\n\nprint(round(100*(df.isnull().sum()/len(df.index)), 2))\n</code></pre>\n"}], "owner": {"reputation": 507, "user_id": 8913334, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c5fbd999da9ed4bde5eef24263685f51?s=128&d=identicon&r=PG&f=1", "display_name": "Shaswata", "link": "https://stackoverflow.com/users/8913334/shaswata"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57441, "favorite_count": 11, "accepted_answer_id": 51071037, "answer_count": 11, "score": 33, "last_activity_date": 1610219036, "creation_date": 1530131590, "last_edit_date": 1530131748, "question_id": 51070985, "link": "https://stackoverflow.com/questions/51070985/find-out-the-percentage-of-missing-values-in-each-column-in-the-given-dataset", "title": "Find out the percentage of missing values in each column in the given dataset", "body": "<pre><code>import pandas as pd\ndf = pd.read_csv('https://query.data.world/s/Hfu_PsEuD1Z_yJHmGaxWTxvkz7W_b0')\npercent= 100*(len(df.loc[:,df.isnull().sum(axis=0)&gt;=1 ].index) / len(df.index))\nprint(round(percent,2))\n</code></pre>\n\n<p>input is <a href=\"https://query.data.world/s/Hfu_PsEuD1Z_yJHmGaxWTxvkz7W_b0\" rel=\"noreferrer\">https://query.data.world/s/Hfu_PsEuD1Z_yJHmGaxWTxvkz7W_b0</a></p>\n\n<p>and the output should be</p>\n\n<pre><code>Ord_id                 0.00\nProd_id                0.00\nShip_id                0.00\nCust_id                0.00\nSales                  0.24\nDiscount               0.65\nOrder_Quantity         0.65\nProfit                 0.65\nShipping_Cost          0.65\nProduct_Base_Margin    1.30\ndtype: float64\n</code></pre>\n"}, {"tags": ["python", "pycharm", "virtualenv", "xgboost"], "comments": [{"owner": {"reputation": 7430, "user_id": 3474956, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/RWbuy.jpg?s=128&g=1", "display_name": "kilojoules", "link": "https://stackoverflow.com/users/3474956/kilojoules"}, "edited": false, "score": 0, "creation_date": 1530131580, "post_id": 51070965, "comment_id": 89131687, "body": "Have you tried using <code>pip</code>?"}, {"owner": {"reputation": 4100, "user_id": 9024698, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/37ba5126a68ebdc7a23c257e5f2217ab?s=128&d=identicon&r=PG&f=1", "display_name": "Outcast", "link": "https://stackoverflow.com/users/9024698/outcast"}, "reply_to_user": {"reputation": 7430, "user_id": 3474956, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/RWbuy.jpg?s=128&g=1", "display_name": "kilojoules", "link": "https://stackoverflow.com/users/3474956/kilojoules"}, "edited": false, "score": 0, "creation_date": 1530131905, "post_id": 51070965, "comment_id": 89131849, "body": "Thank you for your comment. I answered your question at the end of my post. What do you think?"}, {"owner": {"reputation": 7430, "user_id": 3474956, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/RWbuy.jpg?s=128&g=1", "display_name": "kilojoules", "link": "https://stackoverflow.com/users/3474956/kilojoules"}, "edited": false, "score": 0, "creation_date": 1530134584, "post_id": 51070965, "comment_id": 89132960, "body": "I think you haven&#39;t properly linked Pycharm to the right python. Your question is about linking Pycharm to Python, not installing xgboost."}, {"owner": {"reputation": 4100, "user_id": 9024698, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/37ba5126a68ebdc7a23c257e5f2217ab?s=128&d=identicon&r=PG&f=1", "display_name": "Outcast", "link": "https://stackoverflow.com/users/9024698/outcast"}, "reply_to_user": {"reputation": 7430, "user_id": 3474956, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/RWbuy.jpg?s=128&g=1", "display_name": "kilojoules", "link": "https://stackoverflow.com/users/3474956/kilojoules"}, "edited": false, "score": 0, "creation_date": 1530135429, "post_id": 51070965, "comment_id": 89133280, "body": "Haha, ok. This is pretty obvious. The question is what do I have to do to do it properly. Also, keep in mind please that I was capable of installing directly from the Pycharm Project Interpreter window many other ibraries (sk-learn, keras etc) on my virtual enviroment so it has also something to do with <code>xgboost</code>."}, {"owner": {"reputation": 7430, "user_id": 3474956, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/RWbuy.jpg?s=128&g=1", "display_name": "kilojoules", "link": "https://stackoverflow.com/users/3474956/kilojoules"}, "edited": false, "score": 0, "creation_date": 1530142366, "post_id": 51070965, "comment_id": 89135139, "body": "I would start a new one about linking Pycharm and pip to the same thing, Just my two cents."}, {"owner": {"reputation": 71409, "user_id": 3125566, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QcWOt.jpg?s=128&g=1", "display_name": "Moses Koledoye", "link": "https://stackoverflow.com/users/3125566/moses-koledoye"}, "edited": false, "score": 0, "creation_date": 1530190219, "post_id": 51070965, "comment_id": 89155036, "body": "@Poete_Maudit You are supposed to <b>activate</b> the virtual environment, and then use pip. Not just try to run pip from the virtual env directory like you&#39;ve done. The answer I gave clearly states this."}, {"owner": {"reputation": 4100, "user_id": 9024698, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/37ba5126a68ebdc7a23c257e5f2217ab?s=128&d=identicon&r=PG&f=1", "display_name": "Outcast", "link": "https://stackoverflow.com/users/9024698/outcast"}, "reply_to_user": {"reputation": 71409, "user_id": 3125566, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QcWOt.jpg?s=128&g=1", "display_name": "Moses Koledoye", "link": "https://stackoverflow.com/users/3125566/moses-koledoye"}, "edited": false, "score": 0, "creation_date": 1530196764, "post_id": 51070965, "comment_id": 89159630, "body": "Oh, apologies for this @Moses. Yes, you certainly write this at your post but it was not so clear to me when I was reading this. Consider to re-edit your post a little bit but in general your answer is absolutely right. Thanks!"}, {"owner": {"reputation": 71409, "user_id": 3125566, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QcWOt.jpg?s=128&g=1", "display_name": "Moses Koledoye", "link": "https://stackoverflow.com/users/3125566/moses-koledoye"}, "edited": false, "score": 0, "creation_date": 1530199911, "post_id": 51070965, "comment_id": 89161773, "body": "@Poete_Maudit Ok, answer updated."}, {"owner": {"reputation": 4100, "user_id": 9024698, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/37ba5126a68ebdc7a23c257e5f2217ab?s=128&d=identicon&r=PG&f=1", "display_name": "Outcast", "link": "https://stackoverflow.com/users/9024698/outcast"}, "edited": false, "score": 0, "creation_date": 1530202541, "post_id": 51070965, "comment_id": 89163326, "body": "That&#39;s great! (To be honest the phrase at your post &quot;And then for Windows systems:&quot; was also quite confusing. If I am right you really mean &#39;or for Windows systems:&quot; since at least in my case I am not doing anything with any POSIX and I think that the question itself at this post does not mention it.)"}], "answers": [{"tags": [], "owner": {"reputation": 4100, "user_id": 9024698, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/37ba5126a68ebdc7a23c257e5f2217ab?s=128&d=identicon&r=PG&f=1", "display_name": "Outcast", "link": "https://stackoverflow.com/users/9024698/outcast"}, "is_accepted": true, "score": 1, "last_activity_date": 1530196608, "creation_date": 1530196608, "answer_id": 51085616, "question_id": 51070965, "link": "https://stackoverflow.com/questions/51070965/cannot-install-xgboost-library-on-python-virtual-enviroment/51085616#51085616", "title": "Cannot install xgboost library on python virtual enviroment", "body": "<p>Ok I figured out how to do this and finally <code>xgboost</code> is properly installed on my virtual enviroment.</p>\n\n<p>Specifically I did the following:</p>\n\n<ol>\n<li>I downloaded xgboost <code>.whl</code> file from this <a href=\"https://www.lfd.uci.edu/~gohlke/pythonlibs/\" rel=\"nofollow noreferrer\">url</a></li>\n<li>I opened the <code>command prompt</code> (<code>cmd</code>)</li>\n<li>I activated the specific virtual enviroment by entering <code>C:\\Users\\User\\PycharmProjects\\Project_name\\venv\\Scripts\\activate</code> at the <code>cmd</code></li>\n<li>then I entered/went at the <code>cmd</code> to the folder directory where the <code>.whl</code> file is stored</li>\n<li>finally I entered <code>pip install xgboost-0.72-cp36-cp36m-win32.whl</code> in this directory at the <code>cmd</code></li>\n</ol>\n\n<p>Thanks to @brettyman and @Moses because a combination of their answers at <a href=\"https://stackoverflow.com/questions/33749735/how-to-install-xgboost-package-in-python-windows-platform/35119904#35119904\">How to install xgboost package in python (windows platform)?</a> and at <a href=\"https://stackoverflow.com/questions/39791243/how-do-i-install-a-whl-file-in-a-pycharm-virtualenv\">How do I install a .whl file in a PyCharm virtualenv?</a> respectively solved my problem.</p>\n"}], "owner": {"reputation": 4100, "user_id": 9024698, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/37ba5126a68ebdc7a23c257e5f2217ab?s=128&d=identicon&r=PG&f=1", "display_name": "Outcast", "link": "https://stackoverflow.com/users/9024698/outcast"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1431, "favorite_count": 0, "accepted_answer_id": 51085616, "answer_count": 1, "score": -1, "last_activity_date": 1530196608, "creation_date": 1530131483, "last_edit_date": 1530145029, "question_id": 51070965, "link": "https://stackoverflow.com/questions/51070965/cannot-install-xgboost-library-on-python-virtual-enviroment", "title": "Cannot install xgboost library on python virtual enviroment", "body": "<p>I am using <code>PyCharm</code> and <code>Python 3.6</code> for 32-bit <code>Windows</code>. </p>\n\n<p>I try to install the <code>xgboost</code> library for python by going on <code>Pycharm</code> to <code>File</code> -> <code>Default Settings</code> and choosing a virtual ennviroment interpreter used by all my projects (<code>C:\\Users\\User\\PycharmProjects\\Project_name\\venv\\Scripts\\python.exe</code>) instead of the local(<code>C:\\Users\\User\\AppData\\Local\\Programs\\Python\\Python36-32\\python.exe</code>).</p>\n\n<p>However, I am getting the following error:</p>\n\n<pre><code>Collecting xgboost\n  Using cached https://files.pythonhosted.org/packages/83/3a/8570f4e8e19acd3a5a75abc920964182a4b64db2ee0f041fb77b48447c6b/xgboost-0.72.tar.gz\n\nNo files/directories in C:\\Users\\User\\AppData\\Local\\Temp\\pycharm-packaging\\xgboost\\pip-egg-info (from PKG-INFO)\n</code></pre>\n\n<p>I am getting the same exactly error when I enter at the command prompt window</p>\n\n<pre><code>C:\\Users\\User&gt;PycharmProjects\\Sentdex_ML\\venv\\Scripts\\pip install xgboost\n</code></pre>\n\n<p>I have also read a relevant StackOverflow post (<a href=\"https://stackoverflow.com/questions/33749735/how-to-install-xgboost-package-in-python-windows-platform/35119904#35119904\">How to install xgboost package in python (windows platform)?</a>) and followed the (most upvoted) answer of @brettlyman.</p>\n\n<p>Specifically, I donwloaded <code>xgboost-0.72-cp36-cp36m-win32.whl</code> and I entered at the command prompt</p>\n\n<pre><code>pip install xgboost-0.72-cp36-cp36m-win32.whl\n</code></pre>\n\n<p>However, in this way I successfuly installed <code>xgboost</code> on my local interpreter and not on my virtual enviroment interpreter which I am actually using. (Therefore @Moses' answer regarding Windows was not useful either - <a href=\"https://stackoverflow.com/questions/39791243/how-do-i-install-a-whl-file-in-a-pycharm-virtualenv\">How do I install a .whl file in a PyCharm virtualenv?</a>)</p>\n\n<p><strong>How can I install <code>xgboost</code> on my virtual enviroment?</strong></p>\n\n<p>When I enter <code>pip3 install xgboost</code> at the <code>command promt window</code> then I am getting the following:</p>\n\n<pre><code>Requirement already satisfied: xgboost in c:\\users\\User\\appdata\\local\\programs\\python\\python36-32\\lib\\site-packages\nRequirement already satisfied: numpy in c:\\users\\User\\appdata\\local\\programs\\python\\python36-32\\lib\\site-packages (from xgboost)\nRequirement already satisfied: scipy in c:\\users\\User\\appdata\\local\\programs\\python\\python36-32\\lib\\site-packages (from xgboost)\n</code></pre>\n\n<p>Therefore, by entering this it is again verified that <code>xgboost</code> is installed at my local interpreter (but not on my virtual enviroment).</p>\n"}, {"tags": ["python", "sql", "xml", "sqlite", "elementtree"], "comments": [{"owner": {"reputation": 1, "user_id": 8022059, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb362dd085d7b89dddd867e27afc9ed3?s=128&d=identicon&r=PG&f=1", "display_name": "Vina", "link": "https://stackoverflow.com/users/8022059/vina"}, "edited": false, "score": 0, "creation_date": 1530131734, "post_id": 51070954, "comment_id": 89131764, "body": "** I said &quot;child data&quot; in the post, I meant the .text content in the xml file (not the child to that node if exists)"}, {"owner": {"reputation": 1801, "user_id": 7433460, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/h0Epz.jpg?s=128&g=1", "display_name": "Hossein Golshani", "link": "https://stackoverflow.com/users/7433460/hossein-golshani"}, "edited": false, "score": 0, "creation_date": 1530132189, "post_id": 51070954, "comment_id": 89131992, "body": "Please try to edit your question instead of adding comment."}, {"owner": {"reputation": 86789, "user_id": 1422451, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/sFFvX.jpg?s=128&g=1", "display_name": "Parfait", "link": "https://stackoverflow.com/users/1422451/parfait"}, "edited": false, "score": 0, "creation_date": 1530134286, "post_id": 51070954, "comment_id": 89132849, "body": "Interesting that no error is raised as you are attempting to parameterize a column identifier and have an extra parameter in <code>execute</code> that is not part of <i>params</i> due to mismatched parentheses. Please post <i>blablabla.xml</i> for a <a href=\"https://stackoverflow.com/help/mcve\">reproducible example</a>. Of course, too, there are no commits."}, {"owner": {"reputation": 1, "user_id": 8022059, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb362dd085d7b89dddd867e27afc9ed3?s=128&d=identicon&r=PG&f=1", "display_name": "Vina", "link": "https://stackoverflow.com/users/8022059/vina"}, "edited": false, "score": 0, "creation_date": 1530134726, "post_id": 51070954, "comment_id": 89133018, "body": "conn.commit is at the end of the code"}], "owner": {"reputation": 1, "user_id": 8022059, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb362dd085d7b89dddd867e27afc9ed3?s=128&d=identicon&r=PG&f=1", "display_name": "Vina", "link": "https://stackoverflow.com/users/8022059/vina"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 39, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1530165034, "creation_date": 1530131429, "last_edit_date": 1530165034, "question_id": 51070954, "link": "https://stackoverflow.com/questions/51070954/sql-both-alter-and-insert-with-same-python-placeholder", "title": "sql both ALTER and INSERT with same python placeholder", "body": "<p>I would like to parse a xml document with python and create a database out of it (using sqlite3).</p>\n\n<p>The xml.tag will create rows, the xml.text will be the data in the row.</p>\n\n<p>The xml (part of it) : </p>\n\n<pre><code>&lt;intrants&gt;\n&lt;PPPs&gt;\n&lt;PPP&gt;\n&lt;titulaire ref-type=\"firme-titulaire\" ref id=\"20110427000619000001\"&gt;DUPONT SOLUTIONS (FRANCE) S.A.S.&lt;/titulaire&gt;\n&lt;type-produit&gt;PPP&lt;/type-produit&gt;\n&lt;etat-produit&gt;AUTORISE&lt;/etat-produit&gt;\n&lt;numero-AMM&gt;9600509&lt;/numero-AMM&gt;\n</code></pre>\n\n<p>The code :</p>\n\n<pre><code>import xml.etree.ElementTree as ET\nimport sqlite3\n\nconn = sqlite3.connect(\"PPPsdb.sqlite\")\ncur = conn.cursor()\n\ncur.executescript('''\nCREATE TABLE IF NOT EXISTS PPP (\n    id INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT UNIQUE);\n''')\n\nfname = \"C:blablabla.xml\"\n\ntree = ET.parse(fname)\n\nroot = tree.getroot()\n\nall = root.findall('intrants/PPPs/PPP/') \n\nif one.find(\".//\") is None :\n    if one.find(\".\").text is not None : print one.find(\".\").text, len(one.find(\".\").text)\n\n    try :\n        print one.tag.replace(\"-\", \"_\")\n        print one.text\n\n        cur.execute(''' \n            ALTER TABLE PPP ADD COLUMN ''' + (one.tag.replace(\"-\", \"_\")))\n\n\n        cur.execute(''' INSERT OR IGNORE INTO PPP (titulaire)\n            VALUES ( ? )''', (one.text,))\n\n    except : \n        continue\n\nconn.commit()\n</code></pre>\n\n<p>This code does not work but it runs (no traceback).</p>\n\n<p>I would like the placeholder to assign values to both the column title and its very own data. </p>\n\n<p>For extra info, this code is only supposed to run if the column to be created does not already exists (but that is not the purpose of this post).</p>\n"}, {"tags": ["python", "tensorflow", "keras"], "comments": [{"owner": {"reputation": 1151, "user_id": 2613361, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac9b5cdfd1bec35f5d609f5b074e889e?s=128&d=identicon&r=PG", "display_name": "sathyz", "link": "https://stackoverflow.com/users/2613361/sathyz"}, "edited": false, "score": 0, "creation_date": 1530162661, "post_id": 51070935, "comment_id": 89139301, "body": "Are you training a classifier or regressor?"}, {"owner": {"reputation": 145, "user_id": 9805301, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Hao Chen", "link": "https://stackoverflow.com/users/9805301/hao-chen"}, "reply_to_user": {"reputation": 1151, "user_id": 2613361, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac9b5cdfd1bec35f5d609f5b074e889e?s=128&d=identicon&r=PG", "display_name": "sathyz", "link": "https://stackoverflow.com/users/2613361/sathyz"}, "edited": false, "score": 0, "creation_date": 1530170228, "post_id": 51070935, "comment_id": 89142537, "body": "I&#39;m training a regressor and use mae loss"}], "answers": [{"comments": [{"owner": {"reputation": 145, "user_id": 9805301, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Hao Chen", "link": "https://stackoverflow.com/users/9805301/hao-chen"}, "edited": false, "score": 0, "creation_date": 1530170254, "post_id": 51075091, "comment_id": 89142548, "body": "but I&#39;d like it to train with rounded results"}, {"owner": {"reputation": 1151, "user_id": 2613361, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac9b5cdfd1bec35f5d609f5b074e889e?s=128&d=identicon&r=PG", "display_name": "sathyz", "link": "https://stackoverflow.com/users/2613361/sathyz"}, "reply_to_user": {"reputation": 145, "user_id": 9805301, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Hao Chen", "link": "https://stackoverflow.com/users/9805301/hao-chen"}, "edited": false, "score": 0, "creation_date": 1530195635, "post_id": 51075091, "comment_id": 89158892, "body": "the model will not be able to learn if 0.75 is better than 0.6 when it is discrete."}], "tags": [], "owner": {"reputation": 1151, "user_id": 2613361, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac9b5cdfd1bec35f5d609f5b074e889e?s=128&d=identicon&r=PG", "display_name": "sathyz", "link": "https://stackoverflow.com/users/2613361/sathyz"}, "is_accepted": false, "score": 0, "last_activity_date": 1530162651, "creation_date": 1530162651, "answer_id": 51075091, "question_id": 51070935, "link": "https://stackoverflow.com/questions/51070935/keras-how-to-add-a-lambda-layer-to-round-the-value-of-a-tensor-to-0-or-1/51075091#51075091", "title": "keras how to add a Lambda layer to round the value of a tensor to 0 or 1", "body": "<p>You could consider training the model without <code>round</code> like</p>\n\n<pre><code>model = Sequential()\n\nmodel.add(Dense(32, input_shape=(5,)))\nmodel.add(Dense(1, activation=\"sigmoid\"))\n#model.add(Lambda(lambda x: K.round(x)))\n\nmodel.compile(\"adam\", \"mae\") # or cross entropy\nmodel.fit(X_train, y_train)\n\nmodel.save_weights(\"/path/to/model.h5\")\n</code></pre>\n\n<p>Add <code>round</code> now.</p>\n\n<pre><code>output = Lambda(lambda x: K.round(x)) (model.output)\nm1 = Model(model.input, output)\nm1.load_weights(\"/path/to/model.h5\")\n</code></pre>\n"}], "owner": {"reputation": 145, "user_id": 9805301, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Hao Chen", "link": "https://stackoverflow.com/users/9805301/hao-chen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1123, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1530162651, "creation_date": 1530131343, "question_id": 51070935, "link": "https://stackoverflow.com/questions/51070935/keras-how-to-add-a-lambda-layer-to-round-the-value-of-a-tensor-to-0-or-1", "title": "keras how to add a Lambda layer to round the value of a tensor to 0 or 1", "body": "<p>I want to use a Lambda layer as the last layer to round the output from the sigmoid activation to either 0 or 1.</p>\n\n<p>But it seems like I cannot just write the code like this:</p>\n\n<pre><code>X = Lambda(lambda x: K.round(x))(X_output)\n</code></pre>\n\n<p>it will return a non derivative error.</p>\n\n<p>How can I modify it to de a derivative rounding to 0 or 1?</p>\n"}, {"tags": ["python", "pandas", "matplotlib", "data-visualization"], "answers": [{"comments": [{"owner": {"reputation": 156, "user_id": 6623142, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c9e2e63e2f92458b1a497c2673d922a7?s=128&d=identicon&r=PG&f=1", "display_name": "Praveen", "link": "https://stackoverflow.com/users/6623142/praveen"}, "edited": false, "score": 0, "creation_date": 1530140181, "post_id": 51071502, "comment_id": 89134687, "body": "I guess it was a question because the values in the dataframe- Target included multiple classes which are not directly linked to the color arguments. I solved it by mapping it using the following.   <code>col=new_data[&#39;target&#39;].map({&#39;China&#39;:&#39;r&#39;,&#39;Caucasian&#39;:&#39;g&#39;})</code>"}], "tags": [], "owner": {"reputation": 5010, "user_id": 9754169, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/785875bd9271c02795b886d3a9c65331?s=128&d=identicon&r=PG&f=1", "display_name": "Yuca", "link": "https://stackoverflow.com/users/9754169/yuca"}, "is_accepted": true, "score": 1, "last_activity_date": 1530134022, "creation_date": 1530134022, "answer_id": 51071502, "question_id": 51070904, "link": "https://stackoverflow.com/questions/51070904/matplotlib-3d-plot-colors-from-different-classes-from-dataframe/51071502#51071502", "title": "Matplotlib 3D plot colors from different classes from Dataframe", "body": "<p>you're saying that the colors should come from the values of the string 'target'. Change it to <code>c=new_data.target</code></p>\n"}, {"tags": [], "owner": {"reputation": 156, "user_id": 6623142, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c9e2e63e2f92458b1a497c2673d922a7?s=128&d=identicon&r=PG&f=1", "display_name": "Praveen", "link": "https://stackoverflow.com/users/6623142/praveen"}, "is_accepted": false, "score": 3, "last_activity_date": 1530140369, "creation_date": 1530140369, "answer_id": 51072527, "question_id": 51070904, "link": "https://stackoverflow.com/questions/51070904/matplotlib-3d-plot-colors-from-different-classes-from-dataframe/51072527#51072527", "title": "Matplotlib 3D plot colors from different classes from Dataframe", "body": "<p>I found the answer myself- Mapped the Dataframe to the arguments of Color using below <code>col=new_data['target'].map({'Variable1':'r','Variable2 ':'g','Variable3':'b'})</code></p>\n"}], "owner": {"reputation": 156, "user_id": 6623142, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c9e2e63e2f92458b1a497c2673d922a7?s=128&d=identicon&r=PG&f=1", "display_name": "Praveen", "link": "https://stackoverflow.com/users/6623142/praveen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 990, "favorite_count": 1, "accepted_answer_id": 51071502, "answer_count": 2, "score": 1, "last_activity_date": 1530140369, "creation_date": 1530131181, "question_id": 51070904, "link": "https://stackoverflow.com/questions/51070904/matplotlib-3d-plot-colors-from-different-classes-from-dataframe", "title": "Matplotlib 3D plot colors from different classes from Dataframe", "body": "<p>I am trying to plot a 3D plot in Matplotlib from a Pointcloud data which is essentially extracted from two different classes. </p>\n\n<p>However, I cannot differentiate the classes into different colors. My code is below.</p>\n\n<pre><code>x=pd.DataFrame(np.array(x).reshape(-1,1))\ny=pd.DataFrame( np.array(y).reshape( -1, 1 ) )\nz=pd.DataFrame(np.array(z).reshape(-1,1))\ntarget=pd.DataFrame(np.array(target).reshape(-1,1))\nnew_data=[x,y,z,target]\n\nnew_data = pd.concat(new_data, axis=1, ignore_index=True )\n\nnew_data.columns = ['x','y','z','target']\n\n\ncolors=[]\n\nfig=plt.figure(figsize=(8,8))\nax=fig.add_subplot(111,projection='3d')\nax.scatter(new_data.x,new_data.y,new_data.z,color='target')\n</code></pre>\n\n<p>The color argument cannot be linked to the class in the \"Target\" column in my dataframe. Is there something that I am missing?<a href=\"https://i.stack.imgur.com/bOZpb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bOZpb.png\" alt=\"My 3D plot with no class differentiation\"></a></p>\n"}, {"tags": ["python", "sqlalchemy", "regexp-replace"], "comments": [{"owner": {"reputation": 7468, "user_id": 2695448, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/074d0d3f1001c26d04edefb317f03059?s=128&d=identicon&r=PG&f=1", "display_name": "mad_", "link": "https://stackoverflow.com/users/2695448/mad"}, "edited": false, "score": 0, "creation_date": 1530133740, "post_id": 51070875, "comment_id": 89132662, "body": "would you mind telling the backend db server? Also what error are you getting?"}, {"owner": {"reputation": 1, "user_id": 1862332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c9c413d4dc6aa48d9e78f4cb7fe153a?s=128&d=identicon&r=PG", "display_name": "ozcan", "link": "https://stackoverflow.com/users/1862332/ozcan"}, "reply_to_user": {"reputation": 7468, "user_id": 2695448, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/074d0d3f1001c26d04edefb317f03059?s=128&d=identicon&r=PG&f=1", "display_name": "mad_", "link": "https://stackoverflow.com/users/2695448/mad"}, "edited": false, "score": 0, "creation_date": 1530134096, "post_id": 51070875, "comment_id": 89132782, "body": "Hi, it is amazon redshift server. I am not getting any error, just function does not work. When I run the same query directly in database, it works fine."}], "answers": [{"tags": [], "owner": {"reputation": 7468, "user_id": 2695448, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/074d0d3f1001c26d04edefb317f03059?s=128&d=identicon&r=PG&f=1", "display_name": "mad_", "link": "https://stackoverflow.com/users/2695448/mad"}, "is_accepted": false, "score": 0, "last_activity_date": 1530134430, "creation_date": 1530134430, "answer_id": 51071588, "question_id": 51070875, "link": "https://stackoverflow.com/questions/51070875/using-regexp-replace-function-with-sqlalchemy/51071588#51071588", "title": "using regexp_replace function with sqlalchemy", "body": "<p>Can you try with executing sql with engine?</p>\n\n<pre><code>from sqlalchemy import create_engine\nengine = create_engine('postgresql+psycopg2cffi://...')\nengine.execute(\"create view test as select name,regexp_replace(name, '\\\\s\\\\(([9]+)\\\\)$', '') as name2\nfrom table\")\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 1862332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c9c413d4dc6aa48d9e78f4cb7fe153a?s=128&d=identicon&r=PG", "display_name": "ozcan", "link": "https://stackoverflow.com/users/1862332/ozcan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 206, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1530134430, "creation_date": 1530131069, "question_id": 51070875, "link": "https://stackoverflow.com/questions/51070875/using-regexp-replace-function-with-sqlalchemy", "title": "using regexp_replace function with sqlalchemy", "body": "<p>I am trying to use regexp_replace() function with sqlalchemy in sql.execute statement but I could not make it work.</p>\n\n<pre><code>from sqlalchemy import create_engine\nfrom pandas.io import sql\n\nengine =create_engine('postgresql+psycopg2cffi://...')\nsql.execute(\"\"\"create view test as select name,\nregexp_replace(name, '\\\\s\\\\(([0-9]+)\\\\)$', '') as name2\nfrom table\"\"\", engine)\n</code></pre>\n\n<p>I guess I need to define a function for it but I am new in python and could not figure out how it works. </p>\n"}, {"tags": ["python", "pandas", "dataframe"], "comments": [{"owner": {"reputation": 2884, "user_id": 6060083, "user_type": "registered", "accept_rate": 78, "profile_image": "https://graph.facebook.com/10153430563728202/picture?type=large", "display_name": "sudonym", "link": "https://stackoverflow.com/users/6060083/sudonym"}, "edited": false, "score": 0, "creation_date": 1530137924, "post_id": 51070866, "comment_id": 89134141, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/28901683/pandas-get-rows-which-are-not-in-other-dataframe\">pandas get rows which are NOT in other dataframe</a>"}], "answers": [{"comments": [{"owner": {"reputation": 49, "user_id": 4773697, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4rSQE.jpg?s=128&g=1", "display_name": "Mari", "link": "https://stackoverflow.com/users/4773697/mari"}, "edited": false, "score": 1, "creation_date": 1530140324, "post_id": 51072168, "comment_id": 89134723, "body": "Yes in fact data structure is identical. Your answer solved the problem perfectly ! Thanks!"}], "tags": [], "owner": {"reputation": 2884, "user_id": 6060083, "user_type": "registered", "accept_rate": 78, "profile_image": "https://graph.facebook.com/10153430563728202/picture?type=large", "display_name": "sudonym", "link": "https://stackoverflow.com/users/6060083/sudonym"}, "is_accepted": false, "score": 1, "last_activity_date": 1530140721, "last_edit_date": 1530140721, "creation_date": 1530137752, "answer_id": 51072168, "question_id": 51070866, "link": "https://stackoverflow.com/questions/51070866/drop-rows-from-a-data-frame-dosent-work-correctly/51072168#51072168", "title": "Drop rows from a data frame dosen&#39;t work correctly", "body": "<p>See <a href=\"https://stackoverflow.com/questions/28901683/pandas-get-rows-which-are-not-in-other-dataframe\">here</a> (works if data structure is identical which you don't tell us):</p>\n\n<pre><code>df_new = df_semi_sup2[~df_semi_sup2.isin(df_confident_inst_no)].dropna() # No need to loop\n</code></pre>\n\n<p>You can use dropna()'s <code>how</code> parameter like so:</p>\n\n<p>\u2018any\u2019 : If any NA values are present, drop that row or column.</p>\n\n<p>\u2018all\u2019 : If all values are NA, drop that row or column.</p>\n"}], "owner": {"reputation": 49, "user_id": 4773697, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4rSQE.jpg?s=128&g=1", "display_name": "Mari", "link": "https://stackoverflow.com/users/4773697/mari"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1530140721, "creation_date": 1530131047, "question_id": 51070866, "link": "https://stackoverflow.com/questions/51070866/drop-rows-from-a-data-frame-dosent-work-correctly", "title": "Drop rows from a data frame dosen&#39;t work correctly", "body": "<p>I have two data frames <code>df_semi_sup2</code> and <code>df_confident_inst_no</code> and I want to drop all instances existing in <code>df_confident_inst_no</code> from <code>df_semi_sup2</code>. I made researches about that and I found the necessary code, but it dosen't give the results that I'm waiting for.</p>\n\n<p>Here is the code :</p>\n\n<pre><code>for index, row in df_confident_inst_no.iterrows() :\n\n    df_semi_sup2= df_semi_sup2.drop(df_semi_sup2.index[index])\n</code></pre>\n\n<p>Can anyone help me find the problem in such code ?</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["python", "ip-address"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user9249376"}, "reply_to_user": {"reputation": 1809, "user_id": 9801728, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LXQkV.jpg?s=128&g=1", "display_name": "MoxieBall", "link": "https://stackoverflow.com/users/9801728/moxieball"}, "edited": false, "score": 0, "creation_date": 1530130891, "post_id": 51070784, "comment_id": 89131411, "body": "@MoxieBall it was just an example"}, {"owner": {"reputation": 896, "user_id": 9996322, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-CKb7ymEsXic/AAAAAAAAAAI/AAAAAAAAAUE/PhlIctjmhPI/photo.jpg?sz=128", "display_name": "Jacob Boertjes", "link": "https://stackoverflow.com/users/9996322/jacob-boertjes"}, "edited": false, "score": 0, "creation_date": 1530130943, "post_id": 51070784, "comment_id": 89131432, "body": "How are you storing this IP address?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user9249376"}, "reply_to_user": {"reputation": 896, "user_id": 9996322, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-CKb7ymEsXic/AAAAAAAAAAI/AAAAAAAAAUE/PhlIctjmhPI/photo.jpg?sz=128", "display_name": "Jacob Boertjes", "link": "https://stackoverflow.com/users/9996322/jacob-boertjes"}, "edited": false, "score": 0, "creation_date": 1530130997, "post_id": 51070784, "comment_id": 89131455, "body": "@JacobBoertjes as a string"}, {"owner": {"reputation": 1809, "user_id": 9801728, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LXQkV.jpg?s=128&g=1", "display_name": "MoxieBall", "link": "https://stackoverflow.com/users/9801728/moxieball"}, "edited": false, "score": 0, "creation_date": 1530131124, "post_id": 51070784, "comment_id": 89131505, "body": "Do you want a function that takes an ip string and an interval and increments the ip by that much?"}], "answers": [{"comments": [{"owner": {"reputation": 2947, "user_id": 5458214, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Z2fXBqTZNbI/AAAAAAAAAAI/AAAAAAAAAJc/TcHnX1g9sL8/photo.jpg?sz=128", "display_name": "Matthew Story", "link": "https://stackoverflow.com/users/5458214/matthew-story"}, "edited": false, "score": 3, "creation_date": 1530131173, "post_id": 51070843, "comment_id": 89131527, "body": "While this answers the exact question, this produces a number of invalid IP addresses."}, {"owner": {"user_type": "does_not_exist", "display_name": "user9249376"}, "reply_to_user": {"reputation": 2947, "user_id": 5458214, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Z2fXBqTZNbI/AAAAAAAAAAI/AAAAAAAAAJc/TcHnX1g9sL8/photo.jpg?sz=128", "display_name": "Matthew Story", "link": "https://stackoverflow.com/users/5458214/matthew-story"}, "edited": false, "score": 0, "creation_date": 1530131336, "post_id": 51070843, "comment_id": 89131590, "body": "@MatthewStory I have something that handles that, thanks for the comment anyways."}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "reply_to_user": {"reputation": 2947, "user_id": 5458214, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Z2fXBqTZNbI/AAAAAAAAAAI/AAAAAAAAAJc/TcHnX1g9sL8/photo.jpg?sz=128", "display_name": "Matthew Story", "link": "https://stackoverflow.com/users/5458214/matthew-story"}, "edited": false, "score": 2, "creation_date": 1530131595, "post_id": 51070843, "comment_id": 89131697, "body": "@MatthewStory: I realize that; OP was looking for an incrementation solution.  I&#39;m assuming he knows how to handle IP limitations -- and thanks for highlighting the potential problem."}], "tags": [], "owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "is_accepted": true, "score": 1, "last_activity_date": 1530130947, "creation_date": 1530130947, "answer_id": 51070843, "question_id": 51070784, "link": "https://stackoverflow.com/questions/51070784/how-to-increment-at-different-intervals-python/51070843#51070843", "title": "How to increment at different intervals python?", "body": "<pre><code>for ip3 in range(1, 127):\n    for ip4 in range(1, 999):\n        ip = '.'.join(\"192\", \"68\", str(ip3), str(ip4))\n</code></pre>\n\n<p>Will that give you the idea?</p>\n"}, {"tags": [], "owner": {"reputation": 430, "user_id": 9967871, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OFBt9.jpg?s=128&g=1", "display_name": "hoffee", "link": "https://stackoverflow.com/users/9967871/hoffee"}, "is_accepted": false, "score": 0, "last_activity_date": 1530131053, "creation_date": 1530131053, "answer_id": 51070870, "question_id": 51070784, "link": "https://stackoverflow.com/questions/51070784/how-to-increment-at-different-intervals-python/51070870#51070870", "title": "How to increment at different intervals python?", "body": "<pre><code># for IP addresses of the form 1.92.168.a.b\n\na_max = 10\nb_max = 999\n\nips = []\nfor a in range(a_max):\n    for b in range(b_max):\n        ips += ['1.92.168.{}.{}'.format(a,b)]\n</code></pre>\n\n<p>This will give you a list of all the IP addresses generated as strings. </p>\n"}, {"tags": [], "owner": {"reputation": 422, "user_id": 9893215, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bfbcda186c427881836cdf5b7d7ed74a?s=128&d=identicon&r=PG&f=1", "display_name": "SamAtWork", "link": "https://stackoverflow.com/users/9893215/samatwork"}, "is_accepted": false, "score": 0, "last_activity_date": 1530131123, "creation_date": 1530131123, "answer_id": 51070888, "question_id": 51070784, "link": "https://stackoverflow.com/questions/51070784/how-to-increment-at-different-intervals-python/51070888#51070888", "title": "How to increment at different intervals python?", "body": "<p>You can split the addresses using <code>ip_address.split(.)</code> resulting in a <code>ip_list</code>. Keep track of the limit you have in mind. Increment each element of <code>ip_list</code> after converting to integer then convert back to string and put them all back together using <code>\".\".join(ip_list)</code></p>\n"}, {"comments": [{"owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "edited": false, "score": 0, "creation_date": 1530136628, "post_id": 51070998, "comment_id": 89133744, "body": "Aye, that was me. You should not write a hacky <code>class Ip</code> for this stuff, when there is already a tried and tested one in the Python stdlibs:  <a href=\"https://docs.python.org/3/library/ipaddress.html#ipaddress.IPv4Address\" rel=\"nofollow noreferrer\">docs.python.org/3/library/ipaddress.html#ipaddress.IPv4Addre&zwnj;&#8203;ss</a>"}], "tags": [], "owner": {"reputation": 56804, "user_id": 7326738, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/VgOrW.jpg?s=128&g=1", "display_name": "Ajax1234", "link": "https://stackoverflow.com/users/7326738/ajax1234"}, "is_accepted": false, "score": -1, "last_activity_date": 1530132001, "last_edit_date": 1530132001, "creation_date": 1530131640, "answer_id": 51070998, "question_id": 51070784, "link": "https://stackoverflow.com/questions/51070784/how-to-increment-at-different-intervals-python/51070998#51070998", "title": "How to increment at different intervals python?", "body": "<p>You can create a class with an <code>__add__</code> method:</p>\n\n<pre><code>class Ip:\n def __init__(self, _ip:str, _stop = 999) -&gt; None:\n   self.ip = _ip\n   self.stop = _stop\n def __add__(self, _val):\n   _ip = list(map(int, self.ip.split('.')))\n   _r = 0\n   while _r &lt; 4:\n     result = _ip[3 -_r]+_val\n     if result &lt; self.stop:\n       _ip[3 - _r] += _val\n       break\n     _ip[3 - _r] += _val%self.stop\n     _val = _val%self.stop\n     _r += 1\n     _ip[4 - _r] = 1\n   return Ip('.'.join(map(str, _ip)))\n def __repr__(self):\n   return f'&lt;IP {self.ip}&gt;'\n\np = Ip('192.168.1.1')\nnew_p = p + 1\nprint(new_p)\nprint(p + 1000)\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>&lt;IP 192.168.1.2&gt;\n&lt;IP 192.168.2.1&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "is_accepted": false, "score": 3, "last_activity_date": 1530136901, "last_edit_date": 1530136901, "creation_date": 1530136504, "answer_id": 51071968, "question_id": 51070784, "link": "https://stackoverflow.com/questions/51070784/how-to-increment-at-different-intervals-python/51071968#51071968", "title": "How to increment at different intervals python?", "body": "<p>You should use the stdlib <a href=\"https://docs.python.org/3/library/ipaddress.html\" rel=\"nofollow noreferrer\"><code>ipaddress</code></a> for this. Don't attempt to do it with raw string manipulation, because there are several gotchas and weird edge-cases.  Using the object-oriented libraries will protect you from generating invalid data.</p>\n\n<p>To iterate the ipv4 addresses from 192.168.1.0 through to 192.168.1.255, inclusive, is equivalent to iterate the 192.168.1.0/24 <a href=\"https://en.wikipedia.org/wiki/Subnetwork\" rel=\"nofollow noreferrer\">subnet</a>.  Use a <a href=\"https://docs.python.org/3/library/ipaddress.html#network-objects\" rel=\"nofollow noreferrer\">network</a> object:</p>\n\n<pre><code>&gt;&gt;&gt; from ipaddress import ip_network\n&gt;&gt;&gt; list(ip_network('192.168.1.0/24'))\n[IPv4Address('192.168.1.0'),\n IPv4Address('192.168.1.1'),\n IPv4Address('192.168.1.2'),\n...\n IPv4Address('192.168.1.255')]\n</code></pre>\n\n<p>Some of these addresses are not usable hosts, for example the 255 is a <a href=\"https://en.wikipedia.org/wiki/Broadcast_address\" rel=\"nofollow noreferrer\">broadcast address</a>.  Iterate the <a href=\"https://docs.python.org/3/library/ipaddress.html#ipaddress.IPv4Network.hosts\" rel=\"nofollow noreferrer\">hosts</a> instead if that's what you're looking for:</p>\n\n<pre><code>&gt;&gt;&gt;&gt; list(ip_network('192.168.1.0/24').hosts())\n[IPv4Address('192.168.1.1'),\n IPv4Address('192.168.1.2'),\n IPv4Address('192.168.1.3'),\n...\n IPv4Address('192.168.1.254')]\n</code></pre>\n\n<p>Note that 192.168.1.999 is not a valid ip address, so don't generate that!  The validator will prevent you creating it anyway:</p>\n\n<pre><code>&gt;&gt;&gt; from ipaddress import ip_address\n&gt;&gt;&gt; ip_address('192.168.1.254')\nIPv4Address('192.168.1.254')\n&gt;&gt;&gt; ip_address('192.168.1.999')\n# ValueError: '192.168.1.999' does not appear to be an IPv4 or IPv6 address\n</code></pre>\n\n<p>To convert from an <a href=\"https://docs.python.org/3/library/ipaddress.html#ipaddress.ip_address\" rel=\"nofollow noreferrer\">ip address object</a> back to a plain old string, just call <code>str</code> on it.</p>\n\n<p>Your question also asked about \"rolling over\" to 192.168.2.1.  This is just iterating a different subnet. The 24 in 192.168.1.0/24 refers to 24 significant bits allocated for the network prefix (the remaining 8 bits reserved for host addressing), i.e. the <em>subnet mask</em> 255.255.255.0.</p>\n\n<p>To make it \"rollover\", you really just want to iterate a bigger subnet:</p>\n\n<pre><code>&gt;&gt;&gt; gen = iter(ip_network('192.168.0.0/16'))\n&gt;&gt;&gt; for i in range(255*2):\n...     next(gen)\n...     \n&gt;&gt;&gt; next(gen)\nIPv4Address('192.168.1.254')\n&gt;&gt;&gt; next(gen)\nIPv4Address('192.168.1.255')\n&gt;&gt;&gt; next(gen)\nIPv4Address('192.168.2.0')\n&gt;&gt;&gt; next(gen)\nIPv4Address('192.168.2.1')\n</code></pre>\n\n<p>To get from a single ip address string to the network object, you can use the <a href=\"https://docs.python.org/3/library/ipaddress.html#ipaddress.IPv4Network.supernet\" rel=\"nofollow noreferrer\"><code>supernet</code></a> method:</p>\n\n<pre><code>&gt;&gt;&gt; from ipaddress import ip_address, ip_interface\n&gt;&gt;&gt; ip = ip_address('192.168.1.1')\n&gt;&gt;&gt; net = ip_interface(ip).network\n&gt;&gt;&gt; net\nIPv4Network('192.168.1.1/32')\n&gt;&gt;&gt; net.supernet(prefixlen_diff=8)\nIPv4Network('192.168.1.0/24')\n</code></pre>\n\n<p>Read about <a href=\"https://en.wikipedia.org/wiki/IPv4\" rel=\"nofollow noreferrer\">Internet Protocol version 4</a> for more info, and the official docs for Python's <a href=\"https://docs.python.org/3/library/ipaddress.html\" rel=\"nofollow noreferrer\"><code>ipaddress</code></a> module.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user9249376"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 648, "favorite_count": 0, "accepted_answer_id": 51070843, "answer_count": 5, "score": 2, "last_activity_date": 1530137043, "creation_date": 1530130749, "last_edit_date": 1530137043, "question_id": 51070784, "link": "https://stackoverflow.com/questions/51070784/how-to-increment-at-different-intervals-python", "title": "How to increment at different intervals python?", "body": "<p>Say I had an IP address <code>192.168.1.1</code>\nHow would I increment at different intervals like this?</p>\n\n<pre><code>192.168.1.2\n192.168.1.3\n</code></pre>\n\n<p>... and all the way to <code>192.168.1.999</code> then \"roll over\" to <code>192.168.2.1</code> ?</p>\n"}]