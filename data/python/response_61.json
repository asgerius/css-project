[{"tags": ["python", "sqlite"], "comments": [{"owner": {"reputation": 23487, "user_id": 660921, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/3d53595cb2a89131fb3be7b55b3a9ef0?s=128&d=identicon&r=PG", "display_name": "Martin Tournoij", "link": "https://stackoverflow.com/users/660921/martin-tournoij"}, "edited": false, "score": 0, "creation_date": 1457568224, "post_id": 35905069, "comment_id": 59470549, "body": "Do you want to save the <i>result</i> of the query? Or the <i>string</i> of the query itself so that it can be put in other queries?"}, {"owner": {"reputation": 1030, "user_id": 4712455, "user_type": "registered", "accept_rate": 46, "profile_image": "https://graph.facebook.com/10203606783401336/picture?type=large", "display_name": "emihir0", "link": "https://stackoverflow.com/users/4712455/emihir0"}, "reply_to_user": {"reputation": 23487, "user_id": 660921, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/3d53595cb2a89131fb3be7b55b3a9ef0?s=128&d=identicon&r=PG", "display_name": "Martin Tournoij", "link": "https://stackoverflow.com/users/660921/martin-tournoij"}, "edited": false, "score": 0, "creation_date": 1457568307, "post_id": 35905069, "comment_id": 59470573, "body": "I want to save the query itself, so that it can be used in other queries - so neither the result, nor the string. I don&#39;t want to create a function/method to request <code>QuantityInInventory</code> for a specific ID by my python code. I want to use <code>QuantityInInventory</code> by my other queries. Of course, if I were to create a func/method for it, it should be something along: edited OP."}, {"owner": {"reputation": 18146, "user_id": 646619, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/bd61a0f309ebc135d2661710c2faf379?s=128&d=identicon&r=PG", "display_name": "Colonel Thirty Two", "link": "https://stackoverflow.com/users/646619/colonel-thirty-two"}, "edited": false, "score": 0, "creation_date": 1457576797, "post_id": 35905069, "comment_id": 59473144, "body": "The closest thing to what you&#39;re asking is a view."}], "owner": {"reputation": 1030, "user_id": 4712455, "user_type": "registered", "accept_rate": 46, "profile_image": "https://graph.facebook.com/10203606783401336/picture?type=large", "display_name": "emihir0", "link": "https://stackoverflow.com/users/4712455/emihir0"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 37, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1457576493, "creation_date": 1457567828, "last_edit_date": 1457576493, "question_id": 35905069, "link": "https://stackoverflow.com/questions/35905069/possible-to-save-query-as-a-variable-to-be-used-by-other-queries-sqlite-pytho", "title": "Possible to save query as a variable to be used by other queries (sqlite &amp; python)?", "body": "<p>I'm using sqlite3 in my python app and have multiple queries. However, there are certain queries which tend to repeat (e.g 'sum a total quantity of item X in inventory'). Is there any way I can save such query and use it in other queries? </p>\n\n<p>Example of my sum query, say we will name it <code>QuantityInInventory(x)</code></p>\n\n<pre><code>SELECT SUM(have)\n    FROM inventory\n    WHERE ID = x\n    GROUP BY ID\n</code></pre>\n\n<p>Example of other, simple, query which would use <code>QuantityInInventory(x)</code></p>\n\n<pre><code>SELECT ID\n    FROM items\n    WHERE QuantityInInventory(ID) &gt; 5\n</code></pre>\n\n<p>Any way to do this? I know these 2 queries can be merged into a nested query (or HAVE query), but that's not the point.</p>\n\n<p>EDIT:\nA method using this query would look like (in a sqlite3.Connection inherited class, note that I didn't sanitise inputs or checked if queries actually returned non-None values, this is just an example):</p>\n\n<pre><code>def getQuantityInInventoryFromID(self, ID):\n    return self.execute(\"QuantityInInventory(?)\", (ID,)).fetchone()[0]\n\ndef getItemsWithInventoryHigherThan(self, itemId, quantity):\n\n    query = \"\"\"\n        SELECT ID\n            FROM items\n            WHERE QuantityInInventory({0}) &gt; {1}\"\"\".format(itemId, quantity)\n\n    return self.execute(query).fetchall()\n</code></pre>\n"}, {"tags": ["python", "json", "bash", "escaping"], "comments": [{"owner": {"reputation": 262567, "user_id": 748858, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/17gYz.png?s=128&g=1", "display_name": "mgilson", "link": "https://stackoverflow.com/users/748858/mgilson"}, "edited": false, "score": 0, "creation_date": 1457567846, "post_id": 35904997, "comment_id": 59470409, "body": "Do you need to expand the environment variable in a json string?  Could you do something simple like: <code>{&quot;key&quot;: os.env[&#39;VALUE_WITH_QUOTE_FROM_OS&#39;]}</code>"}, {"owner": {"reputation": 1069, "user_id": 3806343, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/tzFZo.png?s=128&g=1", "display_name": "cookieisaac", "link": "https://stackoverflow.com/users/3806343/cookieisaac"}, "reply_to_user": {"reputation": 262567, "user_id": 748858, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/17gYz.png?s=128&g=1", "display_name": "mgilson", "link": "https://stackoverflow.com/users/748858/mgilson"}, "edited": false, "score": 0, "creation_date": 1457568448, "post_id": 35904997, "comment_id": 59470622, "body": "@mgilson Yes,this json_str is provided by the user, so I <b>must expand</b> the json string.and cannot modify the json_str other than that."}], "answers": [{"comments": [{"owner": {"reputation": 1069, "user_id": 3806343, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/tzFZo.png?s=128&g=1", "display_name": "cookieisaac", "link": "https://stackoverflow.com/users/3806343/cookieisaac"}, "edited": false, "score": 0, "creation_date": 1457634876, "post_id": 35905243, "comment_id": 59507380, "body": "thanks for the answer! I guess sometimes I have to reinvent the wheel to have it customized."}], "tags": [], "owner": {"reputation": 262567, "user_id": 748858, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/17gYz.png?s=128&g=1", "display_name": "mgilson", "link": "https://stackoverflow.com/users/748858/mgilson"}, "is_accepted": true, "score": 3, "last_activity_date": 1457569469, "last_edit_date": 1457569469, "creation_date": 1457568877, "answer_id": 35905243, "question_id": 35904997, "link": "https://stackoverflow.com/questions/35904997/how-to-expand-environment-variable-in-python-while-escaping-special-characters/35905243#35905243", "title": "How to expand environment variable in python while escaping special characters?", "body": "<p>I certainly don't guarantee that this will have the portability that you get with <code>os.path</code>, but this should mostly work for systems that use posix I think:</p>\n\n<pre><code>import re\nimport os\nimport json\n\nregex = re.compile(r'\\$(\\w+|\\{[^}]*\\})')\njson_str = '{\"key\":\"${FOO}\"}'\ndef os_expandvar(match):\n    v = match.group(1)\n    if v.startswith('{') and v.endswith('}'):\n        v = v[1:-1]\n    return json.dumps(os.environ.get(v, ''))[1:-1]\nprint(regex.sub(os_expandvar, json_str))\n</code></pre>\n\n<p>The regular expression (and implementation ideas in general) were borrowed from the implementation of <a href=\"https://hg.python.org/cpython/file/2.7/Lib/posixpath.py#l283\" rel=\"nofollow\"><code>os.path.expandvars</code></a> in the <code>posixpath</code> module.  I removed a lot of the complexity to simplify the answer, but you can put it back in should you find that you need it.</p>\n\n<p>This should handle cases where the substitution strings are <code>$FOO</code> or <code>${FOO}</code> as is typical on a posix system.</p>\n\n<hr>\n\n<p>There are other options here too ... With the example you gave, you could decode the json <em>first</em> and then expand all of the values.  Depending on the format of the json, you might need a recursive function to get the job done:</p>\n\n<pre><code># untested\ndef json_expandvars(o):\n    if isinstance(o, dict):\n       return {json_expandvars(k): json_expandvars(v) for k, v in o.items()}\n    elif isinstance(o, list):\n       return [json_expandvars(v) for v in o]\n    elif isinstance(o, basestring):\n       return os.path.expandvars(o)\n    else:\n       return o\n\njson_dict = json_expandvars(json.loads(json_str))\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1069, "user_id": 3806343, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/tzFZo.png?s=128&g=1", "display_name": "cookieisaac", "link": "https://stackoverflow.com/users/3806343/cookieisaac"}, "edited": false, "score": 0, "creation_date": 1457575245, "post_id": 35905424, "comment_id": 59472671, "body": "This is definitely a possibility, but this json_str is extremely large with very complex, unbounded level of nesting (ususally 6 to 7 layers but there is no hard coded limit). This json_str is shared by lots of clients, each of which only cares about its own part and knows exactly how to interpret it. So currently,  I want to stay with this design, and only fill in the environment variables in a string processsing fashion for the json_str, then dispatch it still as a string to all the clients who knows exactly how to handle their own part."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 1069, "user_id": 3806343, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/tzFZo.png?s=128&g=1", "display_name": "cookieisaac", "link": "https://stackoverflow.com/users/3806343/cookieisaac"}, "edited": false, "score": 0, "creation_date": 1457576955, "post_id": 35905424, "comment_id": 59473196, "body": "I don&#39;t think there&#39;s any reliable way to do that, other that writing your own version of <code>expandvars</code> that escapes quotes that are found in the values."}, {"owner": {"reputation": 262567, "user_id": 748858, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/17gYz.png?s=128&g=1", "display_name": "mgilson", "link": "https://stackoverflow.com/users/748858/mgilson"}, "edited": false, "score": 0, "creation_date": 1457634970, "post_id": 35905424, "comment_id": 59507442, "body": "I&#39;m pretty sure that <code>json_dict.key</code> will raise an <code>AttributeError</code> here.  I find myself making this mistake when I&#39;ve been working in Javascript too much..."}], "tags": [], "owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "is_accepted": false, "score": 0, "last_activity_date": 1457673283, "last_edit_date": 1457673283, "creation_date": 1457569913, "answer_id": 35905424, "question_id": 35904997, "link": "https://stackoverflow.com/questions/35904997/how-to-expand-environment-variable-in-python-while-escaping-special-characters/35905424#35905424", "title": "How to expand environment variable in python while escaping special characters?", "body": "<p>There's no way for <code>os.path.expandvars</code> to know that the result needs to be a valid JSON string, with quotes escaped.</p>\n\n<p>Instead, expand the environment variable <strong>after</strong> you decode the JSON into a dictionary.</p>\n\n<pre><code>json_dict = json.loads(json_str);\njson_dict['key'] = os.path.expandvars(json_dict['key']);\n</code></pre>\n"}], "owner": {"reputation": 1069, "user_id": 3806343, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/tzFZo.png?s=128&g=1", "display_name": "cookieisaac", "link": "https://stackoverflow.com/users/3806343/cookieisaac"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3736, "favorite_count": 0, "accepted_answer_id": 35905243, "answer_count": 2, "score": 1, "last_activity_date": 1457673283, "creation_date": 1457567479, "last_edit_date": 1457575820, "question_id": 35904997, "link": "https://stackoverflow.com/questions/35904997/how-to-expand-environment-variable-in-python-while-escaping-special-characters", "title": "How to expand environment variable in python while escaping special characters?", "body": "<p>On the host, I have an environment variable with a quote sign in the value, something like:</p>\n\n<pre><code>export VALUE_WITH_QUOTE_FROM_OS='quote\"value'\n</code></pre>\n\n<p>and when I echo on bash, it's fine</p>\n\n<pre><code>#echo $VALUE_WITH_QUOTE_FROM_OS\nquote\"value\n</code></pre>\n\n<p>I have a following json string:</p>\n\n<pre><code>json_str = '{\"key\":\"${VALUE_WITH_QUOTE_FROM_OS}\"}'\n</code></pre>\n\n<p>Then I want to expand the environment variable inside a python script before further processing, something like this</p>\n\n<pre><code>json_str = os.path.expandvars(json_str)\njson_dict = json.loads(json_str)\n</code></pre>\n\n<p>However, this expansion would break the json syntax, since the json_str had become </p>\n\n<pre><code>'{\"key\":\"quote\"value\"}' (&lt;== bad unescaped quote in the value)\n</code></pre>\n\n<p>instead of </p>\n\n<pre><code>'{\"key\":\"quote\\\"value\"}' \n</code></pre>\n\n<p>Is there anyway I can inform os.path.expandvars() to escape the double quote when expanding the value? If not, how should I expand the environment variable so that the double quote can be escaped.</p>\n\n<p><strong>Note 1</strong> The value of the environment variable is a security token, so I have to keep the double quote there as it is.</p>\n\n<p><strong>Note 2</strong> Current json interface has already been determined and used extensiely as it is. This json_str is passed to me, therefore I should and must only expand the environment variable denoted by ${} in the json string, no other modification are allowed.</p>\n\n<p><strong>Note 3</strong> This json_str is extremely large with complex, dynamic, nested structure and is consumed by multiple clients who cannot access host os environment variable. Although it's possible for me to load the json_str first, traverse the dictionary to resolve the environment variable, and then dump the dict back to json_str and then dispatch to all the clients, I think it is less efficient compared to processing it just as a string.</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["python", "scrapy", "workflow", "yield"], "answers": [{"comments": [{"owner": {"reputation": 340, "user_id": 1330734, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/39be27bc0a4b5c126b987de141e57a71?s=128&d=identicon&r=PG", "display_name": "user1330734", "link": "https://stackoverflow.com/users/1330734/user1330734"}, "edited": false, "score": 0, "creation_date": 1457579957, "post_id": 35905943, "comment_id": 59473997, "body": "Hello Liam, I have the <i>da</i> item as a member of the <i>ExampleSpider</i> so that all parse methods of the spider have access to it. Do you suggest I pass <i>da</i> to each parse method? I interpret your answer as recommending collection of all URLs and then following them in a separate parse, which may be a good approach. I would like to see an example because I am still unclear as to proper practice. Thanks!"}, {"owner": {"reputation": 1091, "user_id": 5479704, "user_type": "registered", "accept_rate": 57, "profile_image": "https://lh4.googleusercontent.com/-hjpSYH_37i4/AAAAAAAAAAI/AAAAAAAAAFc/SP4HPI--B0k/photo.jpg?sz=128", "display_name": "Liam Hanninen", "link": "https://stackoverflow.com/users/5479704/liam-hanninen"}, "reply_to_user": {"reputation": 340, "user_id": 1330734, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/39be27bc0a4b5c126b987de141e57a71?s=128&d=identicon&r=PG", "display_name": "user1330734", "link": "https://stackoverflow.com/users/1330734/user1330734"}, "edited": false, "score": 0, "creation_date": 1457587569, "post_id": 35905943, "comment_id": 59476145, "body": "Yes, exactly.  I added an example to my answer. I hope it helps!"}, {"owner": {"reputation": 340, "user_id": 1330734, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/39be27bc0a4b5c126b987de141e57a71?s=128&d=identicon&r=PG", "display_name": "user1330734", "link": "https://stackoverflow.com/users/1330734/user1330734"}, "edited": false, "score": 0, "creation_date": 1457614330, "post_id": 35905943, "comment_id": 59492402, "body": "Thanks for the example Liam, I should clarify that scraping for da item begins on the search results page because the fields provided (Desc. and Status) only appear in each row on the search results page (not inside each individual record page unfortunately). I therefore see da instantiated on the first pass, collecting link, Desc. and Status. A second pass can then follow the links and request individual item pages, filling remaining fields."}, {"owner": {"reputation": 340, "user_id": 1330734, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/39be27bc0a4b5c126b987de141e57a71?s=128&d=identicon&r=PG", "display_name": "user1330734", "link": "https://stackoverflow.com/users/1330734/user1330734"}, "edited": false, "score": 0, "creation_date": 1457615077, "post_id": 35905943, "comment_id": 59492956, "body": "I found the scrapy way of passing data between parse methods here: <a href=\"http://doc.scrapy.org/en/latest/topics/request-response.html#passing-additional-data-to-callback-functions\" rel=\"nofollow noreferrer\">doc.scrapy.org/en/latest/topics/&hellip;</a>"}], "tags": [], "owner": {"reputation": 1091, "user_id": 5479704, "user_type": "registered", "accept_rate": 57, "profile_image": "https://lh4.googleusercontent.com/-hjpSYH_37i4/AAAAAAAAAAI/AAAAAAAAAFc/SP4HPI--B0k/photo.jpg?sz=128", "display_name": "Liam Hanninen", "link": "https://stackoverflow.com/users/5479704/liam-hanninen"}, "is_accepted": false, "score": 1, "last_activity_date": 1457587459, "last_edit_date": 1457587459, "creation_date": 1457573202, "answer_id": 35905943, "question_id": 35904990, "link": "https://stackoverflow.com/questions/35904990/scrapy-general-parse-workflow/35905943#35905943", "title": "scrapy general parse workflow", "body": "<pre><code>def parse(self, response):\n    list_of_indexes = response.xpath('place xpath here that leads to a list of urls for indexes')\n    for indexes in list_of_indexes:    \n        #maybe the urls are only tags ie. ['/extension/for/index1', '/extension/for/index2', etc...]\n        index_urls = ['http://domain.com' + index for index in indexes]\n        yield scrapy.Request(index_urls, callback = self.parse_indexes)\n\ndef parse_index(self, response):\n    da = MyItem()\n    da['record_date'] = response.xpath('xpath_here')\n    da['record_summary'] = response.xpath('xpath_here')\n    da['additional_record_info'] = response.xpath('xpath_here')\n    yield da\n</code></pre>\n\n<p>This example is over-simplified but I hope it helps.</p>\n\n<p>You want to instantiate your item <code>da = MyItem()</code> within the parse itself.  </p>\n\n<p>To answer the larger question about parse flow I would start with URLs. Once you find the XPaths for the indexes from the start_url you'll use </p>\n\n<pre><code>scrapy.Requests(URL = index_url, callback =parse_indexes)\n</code></pre>\n\n<p>This will direct your spider to the the next parse method parse_indexes.</p>\n\n<p>index_url\n will be drawn from an iteration through the necessary xpaths.</p>\n\n<p>parse_indexes\n will be just like parse but will then draw out the info from the_next_index_url</p>\n\n<p>If this answer is going in the right direction I can post an example later.</p>\n"}], "owner": {"reputation": 340, "user_id": 1330734, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/39be27bc0a4b5c126b987de141e57a71?s=128&d=identicon&r=PG", "display_name": "user1330734", "link": "https://stackoverflow.com/users/1330734/user1330734"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 466, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1457651635, "creation_date": 1457567427, "last_edit_date": 1457651635, "question_id": 35904990, "link": "https://stackoverflow.com/questions/35904990/scrapy-general-parse-workflow", "title": "scrapy general parse workflow", "body": "<p>I'm new to python and scrapy and wish to understand the methodology.\nI have tried the official tutorial on scrapy and followed it but it is only a basic example. My requirement described below is different and only a little more complex.<p>\nThere is a site which displays Items from a db.<br>\nFor each Item, I need to take attributes from each individual Item page and the search results (listings) page.\nThe search results page URL is in the format:</p>\n\n<pre><code>    http://example.com/search?&amp;start_index=0\n</code></pre>\n\n<p>Changing <em>start_index</em> will change where the results start from.\nOnly 10 records are displayed per results page.</p>\n\n<p>Results are displayed in table cells in the format:</p>\n\n<pre><code>    link | Desc. | Status\n</code></pre>\n\n<p>I need to retrieve Desc. and Status attributes, then follow the link to a page containing more details, which I will also retrieve for Item.<br>\nI wish to retrieve a given number of records from any starting index. \nMy current method using scrapy is shown below (edited for brevity):</p>\n\n<pre><code>import scrapy\n\nfrom scrapy.exceptions import CloseSpider\nfrom cbury_scrapy.items import MyItem\n\nclass ExampleSpider(scrapy.Spider):\n    name = \"example\"\n    allowed_domains = [\"example.com\"]\n    start_urls = [\n        \"http://example.com/cgi/search?&amp;start_index=\",\n    ]\n\n    url_index = 0\n    URLS_PER_PAGE = 10\n    records_remaining = 16\n    crawl_done = False\n\n    da = MyItem()        \n\n    def parse(self, response):\n        while self.crawl_done != True:\n            url = \"http://example.com/cgi/search?&amp;start_index=\" + str(self.url_index)\n            yield scrapy.Request(url, callback=self.parse_results)\n            self.url_index += self.URLS_PER_PAGE\n\n\n    def parse_results(self, response):\n        # Retrieve all table rows from results page\n        for row in response.xpath('//table/tr[@class=\"datrack_resultrow_odd\" or @class=\"datrack_resultrow_even\"]'):\n            # extract the Description and Status fields\n\n            # extract the link to Item page\n            url = r.xpath('//td[@class=\"datrack_danumber_cell\"]//@href').extract_first()\n            yield scrapy.Request(url, callback=self.parse_item)\n\n            if self.records_remaining == 0:\n                self.crawl_done = True\n                raise CloseSpider('Finished scrape of requested number of records.')\n\n            self.records_remaining -= 1\n\n    def parse_item(self, response):\n        # get fields from item page\n        # ...   \n        yield self.item\n</code></pre>\n\n<p>The code currently does not stop when <em>records_remaining</em> reaches 0 and even after throwing <em>CloseSpider</em> exception so that is a bug.</p>\n\n<p>I feel this stems from being wrong in how the parsing methods are arranged.\nWhat would be the correct way to structure this in the \"scrapy\" way?\nAny help is appreciated.</p>\n"}, {"tags": ["python", "c++", "python-2.7", "python-3.x", "type-conversion"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user2249683"}, "edited": false, "score": 0, "creation_date": 1457567409, "post_id": 35904949, "comment_id": 59470271, "body": "There is none. Primitive types are not polymorphic."}, {"owner": {"reputation": 68702, "user_id": 1593860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1361e47a8bf06d20ffda9a686ceb7e68?s=128&d=identicon&r=PG", "display_name": "Pete Becker", "link": "https://stackoverflow.com/users/1593860/pete-becker"}, "edited": false, "score": 5, "creation_date": 1457567457, "post_id": 35904949, "comment_id": 59470286, "body": "<code>std::static_cast&lt;float&gt;(whatever)</code>."}, {"owner": {"reputation": 25, "user_id": 6041862, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b34383f9bf639bbee3b7e3050597320a?s=128&d=identicon&r=PG&f=1", "display_name": "mzar", "link": "https://stackoverflow.com/users/6041862/mzar"}, "edited": false, "score": 0, "creation_date": 1457567605, "post_id": 35904949, "comment_id": 59470337, "body": "I need a function that cast every element of the array to float."}, {"owner": {"reputation": 45534, "user_id": 106104, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/c88b9310b92a937108ec4336c2832f92?s=128&d=identicon&r=PG", "display_name": "user253751", "link": "https://stackoverflow.com/users/106104/user253751"}, "edited": false, "score": 0, "creation_date": 1457567730, "post_id": 35904949, "comment_id": 59470372, "body": "@mzar Well something like <code>float[] float_arr = cast_to_floats(int_arr);</code> won&#39;t work because you can&#39;t assign to an array."}, {"owner": {"reputation": 962, "user_id": 1891266, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83ed20378bcbcf07ccc4969c6bf9874b?s=128&d=identicon&r=PG", "display_name": "vcp", "link": "https://stackoverflow.com/users/1891266/vcp"}, "edited": false, "score": 0, "creation_date": 1457568086, "post_id": 35904949, "comment_id": 59470501, "body": "@mzar any reason why you do not want to copy array of integers to array of floats?"}, {"owner": {"reputation": 25, "user_id": 6041862, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b34383f9bf639bbee3b7e3050597320a?s=128&d=identicon&r=PG&f=1", "display_name": "mzar", "link": "https://stackoverflow.com/users/6041862/mzar"}, "edited": false, "score": 0, "creation_date": 1457568588, "post_id": 35904949, "comment_id": 59470669, "body": "Thank you all. Actually I filled my array with floats and I need it to be float but I got an error that indicating there may not be floats in my array. Some one with same problem (in python) and same error solve it with astype() function. Thats why I was looking for an equivalent."}, {"owner": {"reputation": 42006, "user_id": 3807729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UEUbF.jpg?s=128&g=1", "display_name": "Galik", "link": "https://stackoverflow.com/users/3807729/galik"}, "edited": false, "score": 1, "creation_date": 1457568770, "post_id": 35904949, "comment_id": 59470734, "body": "Can you post the actual code and the error message?"}, {"owner": {"reputation": 209335, "user_id": 661519, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1735ab1c8ba4229daa855ec6aad03065?s=128&d=identicon&r=PG", "display_name": "juanchopanza", "link": "https://stackoverflow.com/users/661519/juanchopanza"}, "edited": false, "score": 0, "creation_date": 1457568841, "post_id": 35904949, "comment_id": 59470764, "body": "In C++, an array of floats can only contain floats. So your problem isn&#39;t very clear. Perhaps if you posted an MCVE..."}, {"owner": {"reputation": 25, "user_id": 6041862, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b34383f9bf639bbee3b7e3050597320a?s=128&d=identicon&r=PG&f=1", "display_name": "mzar", "link": "https://stackoverflow.com/users/6041862/mzar"}, "reply_to_user": {"reputation": 42006, "user_id": 3807729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UEUbF.jpg?s=128&g=1", "display_name": "Galik", "link": "https://stackoverflow.com/users/3807729/galik"}, "edited": false, "score": 0, "creation_date": 1457569331, "post_id": 35904949, "comment_id": 59470953, "body": "@Galik you can find the code in the other question that I asked and I would be so appreciate if you could help me with that. (Because it&#39;s not relevant to this topic I couldn&#39;t ass it here. Sorry..)"}], "answers": [{"tags": [], "owner": {"reputation": 435402, "user_id": 179910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8962238339d771f0348967be6f97b1b?s=128&d=identicon&r=PG", "display_name": "Jerry Coffin", "link": "https://stackoverflow.com/users/179910/jerry-coffin"}, "is_accepted": true, "score": 3, "last_activity_date": 1457569479, "last_edit_date": 1457569479, "creation_date": 1457569046, "answer_id": 35905271, "question_id": 35904949, "link": "https://stackoverflow.com/questions/35904949/is-there-any-equivalent-function-in-c-as-the-astype-function-in-python/35905271#35905271", "title": "Is there any equivalent function in C++ as the astype() function in python?", "body": "<p>You can cast individual items to <code>float</code>, but you can't cast an entire array at once.</p>\n\n<p>You can pretty easily create a vector of <code>float</code>s that contains the values from your original array, with each individually cast to type <code>float</code>:</p>\n\n<pre><code>template &lt;class T, size_t N&gt;\nstd::vector&lt;float&gt; asFloat(T (&amp;input)[N]) {\n    return std::vector&lt;float&gt; {input, input+N};\n}\n</code></pre>\n\n<p>Note, however, that this creates a new array of <code>float</code> values created from those in the original array, without changing/affecting the original array at all. Also note that since this is a template, it's possible to apply it to any type for which a conversion from T to <code>float</code> is defined, even if that conversion might not make a whole lot of sense or produce particularly useful results (e.g., <code>char</code>):</p>\n\n<pre><code>char input[] = { 'a', 'b', 'c' };\n\nauto result = asFloat(input);\n</code></pre>\n\n<p>If you print out the contents of <code>result</code>, you'll typically get:</p>\n\n<pre><code>97      98      99\n</code></pre>\n\n<p>That's the encoding of <code>a</code>, <code>b</code> and <code>c</code> in most common character sets (ASCII, Unicode, etc.) but those don't really make a whole lot of sense as floating point values.</p>\n\n<p>Based on comments, however, you're just trying to create an array of <code>float</code>. There are a couple of minor details to deal with here. One is that you probably really want a <code>vector</code> instead of an array. Another is that floating point literals are of type <code>double</code> by default. Initializing a <code>float</code> variable with a <code>double</code> value can (and frequently will) lead to a warning about possibly losing data, or something similar.</p>\n\n<p>So, when you're initializing an array or vector of <code>float</code>, you usually want to include a suffix to force the values to type <code>float</code>:</p>\n\n<pre><code>std::vector&lt;float&gt; values { 1.0f, 2.0f, 3.0f};\n</code></pre>\n"}], "owner": {"reputation": 25, "user_id": 6041862, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b34383f9bf639bbee3b7e3050597320a?s=128&d=identicon&r=PG&f=1", "display_name": "mzar", "link": "https://stackoverflow.com/users/6041862/mzar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 621, "favorite_count": 0, "accepted_answer_id": 35905271, "answer_count": 1, "score": 0, "last_activity_date": 1457569479, "creation_date": 1457567198, "question_id": 35904949, "link": "https://stackoverflow.com/questions/35904949/is-there-any-equivalent-function-in-c-as-the-astype-function-in-python", "title": "Is there any equivalent function in C++ as the astype() function in python?", "body": "<p>I am looking for a function that can cast every element of an array to float type in c++ (like what astype() do in python).\nDo you know any?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["python", "regex", "google-maps"], "comments": [{"owner": {"reputation": 35, "user_id": 5953019, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/c76bd1686c9d83efbdde294bdb8fd2bd?s=128&d=identicon&r=PG", "display_name": "Alpha", "link": "https://stackoverflow.com/users/5953019/alpha"}, "reply_to_user": {"reputation": 21707, "user_id": 1832539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2972ae1ab4d157c88bc94654b96d47be?s=128&d=identicon&r=PG", "display_name": "idjaw", "link": "https://stackoverflow.com/users/1832539/idjaw"}, "edited": false, "score": 0, "creation_date": 1457573367, "post_id": 35904948, "comment_id": 59472140, "body": "To python this is a list with one element. I don&#39;t know how to iterate it. Could you clarify what you mean?"}], "answers": [{"comments": [{"owner": {"reputation": 35, "user_id": 5953019, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/c76bd1686c9d83efbdde294bdb8fd2bd?s=128&d=identicon&r=PG", "display_name": "Alpha", "link": "https://stackoverflow.com/users/5953019/alpha"}, "edited": false, "score": 0, "creation_date": 1457573164, "post_id": 35905282, "comment_id": 59472087, "body": "Thanks, this looks like a great start. I&#39;m trying to figure out what to feed to the json.loads command. The API returned the list I posted above, but when I do structure = json.loads(api_returned_listname), I&#39;m getting a type error: &quot;TypeError: expected string or buffer&quot;. Do I need to transform that list to a string first?"}, {"owner": {"reputation": 13033, "user_id": 4029014, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/ndZhu.jpg?s=128&g=1", "display_name": "aghast", "link": "https://stackoverflow.com/users/4029014/aghast"}, "reply_to_user": {"reputation": 35, "user_id": 5953019, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/c76bd1686c9d83efbdde294bdb8fd2bd?s=128&d=identicon&r=PG", "display_name": "Alpha", "link": "https://stackoverflow.com/users/5953019/alpha"}, "edited": false, "score": 0, "creation_date": 1457575244, "post_id": 35905282, "comment_id": 59472670, "body": "It&#39;s possible the JSON has already been extracted. What happens when you do a <code>print(len(api_returned_listname))</code> ?"}, {"owner": {"reputation": 35, "user_id": 5953019, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/c76bd1686c9d83efbdde294bdb8fd2bd?s=128&d=identicon&r=PG", "display_name": "Alpha", "link": "https://stackoverflow.com/users/5953019/alpha"}, "edited": false, "score": 0, "creation_date": 1457631747, "post_id": 35905282, "comment_id": 59505328, "body": "print(len(directions_result)) yields  1"}, {"owner": {"reputation": 13033, "user_id": 4029014, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/ndZhu.jpg?s=128&g=1", "display_name": "aghast", "link": "https://stackoverflow.com/users/4029014/aghast"}, "reply_to_user": {"reputation": 35, "user_id": 5953019, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/c76bd1686c9d83efbdde294bdb8fd2bd?s=128&d=identicon&r=PG", "display_name": "Alpha", "link": "https://stackoverflow.com/users/5953019/alpha"}, "edited": false, "score": 0, "creation_date": 1457645234, "post_id": 35905282, "comment_id": 59513751, "body": "So it&#39;s already a list - you don&#39;t need to <code>json.loads</code> it. Just set <code>d = directions_result[0]</code> and you apparently have a dict. Try <code>print(sorted(d.keys()))</code> and see if it gives you anything useful."}, {"owner": {"reputation": 35, "user_id": 5953019, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/c76bd1686c9d83efbdde294bdb8fd2bd?s=128&d=identicon&r=PG", "display_name": "Alpha", "link": "https://stackoverflow.com/users/5953019/alpha"}, "edited": false, "score": 0, "creation_date": 1457653148, "post_id": 35905282, "comment_id": 59517396, "body": "Thanks, you were right. I&#39;m not sure however if this is useful: print(sorted(d.keys())) yields:  [u&#39;bounds&#39;, u&#39;copyrights&#39;, u&#39;legs&#39;, u&#39;overview_polyline&#39;, u&#39;summary&#39;, u&#39;warnings&#39;, u&#39;waypoint_order&#39;]"}, {"owner": {"reputation": 13033, "user_id": 4029014, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/ndZhu.jpg?s=128&g=1", "display_name": "aghast", "link": "https://stackoverflow.com/users/4029014/aghast"}, "reply_to_user": {"reputation": 35, "user_id": 5953019, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/c76bd1686c9d83efbdde294bdb8fd2bd?s=128&d=identicon&r=PG", "display_name": "Alpha", "link": "https://stackoverflow.com/users/5953019/alpha"}, "edited": false, "score": 0, "creation_date": 1457660804, "post_id": 35905282, "comment_id": 59519548, "body": "Looking up at your OP, you want <code>legs</code> as your next key. That will give you a list of dictionaries, which include <code>duration_in_traffic</code>. So: <code>directions_result[0][&#39;legs&#39;][0][&#39;duration_in_traffic&#39;]</code>. Please note that I don&#39;t have any idea whether there can ever by a <code>legs[1]</code>, and if so under what circumstances..."}], "tags": [], "owner": {"reputation": 13033, "user_id": 4029014, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/ndZhu.jpg?s=128&g=1", "display_name": "aghast", "link": "https://stackoverflow.com/users/4029014/aghast"}, "is_accepted": false, "score": 0, "last_activity_date": 1457569099, "creation_date": 1457569099, "answer_id": 35905282, "question_id": 35904948, "link": "https://stackoverflow.com/questions/35904948/how-to-best-extract-pattern-from-list-string-type-object-in-python/35905282#35905282", "title": "How to best extract pattern from list/string type object in Python", "body": "<p>Try this:</p>\n\n<pre><code>import json\nl = [ { 'key': 'value' }, { 'key' : 'othervalue' } ]\nprint(json.dumps(l))\n</code></pre>\n\n<p>You should see something like:</p>\n\n<blockquote>\n  <p>[{\"key\": \"value\"}, {\"key\": \"othervalue\"}]</p>\n</blockquote>\n\n<p>You might then try this:</p>\n\n<pre><code>string_data = \"\"\"[{\"key\": \"value\"}, {\"key\": \"othervalue\"}]\"\"\"\nstructure = json.loads(string_data)\nprint(structure[0])\nprint(structure[1])\n</code></pre>\n\n<p>The structure you show appears to be a JSON encoded data structure consisting of <code>list</code>s and <code>dict</code>ionaries. You can use <code>json.loads()</code> to load a string (convert from JSON to native data structures). Then dump it via print and figure out the sequence of indexes (like [0]) and keys (like ['duration_in_traffic']) you'll need to get the data you want.</p>\n"}, {"tags": [], "owner": {"reputation": 3296, "user_id": 4955183, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DhDCz.jpg?s=128&g=1", "display_name": "Enteleform", "link": "https://stackoverflow.com/users/4955183/enteleform"}, "is_accepted": false, "score": 0, "last_activity_date": 1457575553, "creation_date": 1457575553, "answer_id": 35906289, "question_id": 35904948, "link": "https://stackoverflow.com/questions/35904948/how-to-best-extract-pattern-from-list-string-type-object-in-python/35906289#35906289", "title": "How to best extract pattern from list/string type object in Python", "body": "<p>This code will extract the snippet you are looking for:</p>\n\n<p><a href=\"https://i.stack.imgur.com/nauZh.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nauZh.jpg\" alt=\"pyDemo\"></a></p>\n\n<p>This is the RexEx pattern used the above demo:<br>\n<code>u'duration_in_traffic.*?}</code></p>\n\n<p><a href=\"https://i.stack.imgur.com/QcHiZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QcHiZ.png\" alt=\"rxDemo\"></a></p>\n\n<p>Try it out @ this <strong><a href=\"https://regex101.com/r/zR6oF3/1\" rel=\"nofollow noreferrer\">Live Demo</a></strong></p>\n"}], "owner": {"reputation": 35, "user_id": 5953019, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/c76bd1686c9d83efbdde294bdb8fd2bd?s=128&d=identicon&r=PG", "display_name": "Alpha", "link": "https://stackoverflow.com/users/5953019/alpha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 104, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1457575553, "creation_date": 1457567194, "question_id": 35904948, "link": "https://stackoverflow.com/questions/35904948/how-to-best-extract-pattern-from-list-string-type-object-in-python", "title": "How to best extract pattern from list/string type object in Python", "body": "<p>I'm playing around with Google Maps Directions API. The API returns a lengthy list of length 1, see below. I'd like to extract travel duration from it, which appears after the string \"duration_in_traffic\" like this: </p>\n\n<p>u'duration_in_traffic': {u'text': u'4 hours 3 mins', u'value': 14601}</p>\n\n<p>Regular expressions doesn't seem to work here because the API returns a list of length 1 (several output parameters separated by commas but surrounded by nested brackets, making it impossible to output the \"duration\" line). </p>\n\n<p>How do I either convert this list into a string so I can do regex, or better, split it into multiple lines so I can pick the duration line? </p>\n\n<p>Here's the first chunk of the output of the directions API, in case it helps: </p>\n\n<p>[{u'overview_polyline': {u'points': u'ounwFrkubM_Xp<code>@ka@i@igAwHsxAkN}P|A_aAoh@k~@{l@}hBqgAgiCk_BshB{uAe</code>B{q@<em>iAe</em>@qz@yh@ceAwq@sv@gaAoe@uf@ol@wA{OcQ|Fo<code>AmJmg@akAoVo_B_a@aOqQcRw_A~Ms</code>@|\\q<code>Cp^qxBq@kVud@e]sg@iVko@cWi^}]mg@jBob@}</code>@aw@esBsFie@}RcWoRw_@{@qj@o<code>@gh@yJc_@ge@wg@q_Au}@gYaYet@kSet@_a@{Oet@hEya@e\\\\yvAiHgVw^qSakAuh@auAn^wh@c]mp@kD}z@m[m~@_sAgMc}Avk@gy@eNu{Aab@wcAgMu{AkEihB_u@{rB{t@sfDnMkgEek@iuBeq@gpAid@k}Am]eoBg</code>@{sA}wAa{CoKmaAzBcaBaq@k|DwQuaAm^_m@{}@amA{UqbAgYw}Ak<code>@q\\\\ak@em@_hAmy@mm@}_AcSwzAhAawAiXuwCqKg}CvCstB{PixCgd@yeC}ImlBmg@saAurA}jAydBk|AwgAct@alAsRm^_p@sk@wzCymCukDy}@yiAeLyx@ma@o~Aca@wvAcL_c@{l@}o@a\\\\qg@ug@y_BweAeiB}p@uq@yr@k[qtCar@wjAam@o{CacBg_Ayp@kn@q~@o}@ovAezBsnCcp@sHi\\\\mSwdA}jBqwAi|@uq@gmAeuAigAi{Bgy@ofCoyAa</code>Aqd@}p@qj@gr@{a@sbA{Su|C{sB}nAqf@kzAvYio@nPm[vWub@jp@kXbKwwAsl@sw@ccBc\\g_Agt@yiFmDcmAuU{q@_hBimAik@kh@qK}k@ar@wxCqW{w@qi@my@g[yhB}\\cmBsu@wgBqqAexB{Jur@dBuqBoFyi@nMa}@kSovAib@{cAyjCeqH_z@a<code>Cwl@yy@sWu|@mpBsaB{vAepDmr@wcCy^{q@odAku@oaDiuBueDqqBu</code>ByyBimAqlAomBozA{cAgy@{rBkbAorCkx@_m@yr@il@wp@s{@seEsx@ccCw^}pCwNigCuw@i<code>CccAaxC{d@u}BkbA{gG}n@}tBwSy_BgUeeDgSexAcb@maAof@_nBaH}mCuB}kB{TayAUkiE_HabBjJi~B}Ky|@iy@w~BuxC_hD}_AooDwn@m}Ds</code>@}tBs^su@kj@q_AcQe{@cGe~A_n@khB}e@mcDtPogC|DgiCe^{nAeP}y@u[af@y}@_gCcZmpFqFwsAwUuu@qSatBkH}oAiu@w}FO_lGBk{AbOs^`b@gbAjG_{D|DewBo_@eOg\\m_@}XzML~QpJfEcBxOwAl@'}, u'warnings': [], u'bounds': {u'northeast': {u'lat': 42.3607971, u'lng': -71.0504669}, u'southwest': {u'lat': 40.7127243, u'lng': -74.01186779999999}}, u'waypoint_order': [], u'summary': u'CT-15 N and I-90 E', u'copyrights': u'Map data \\xa92016 Google', u'legs': [{u'distance': {u'text': u'216 mi', u'value': 347410}, u'end_address': u'Boston, MA, USA', u'via_waypoint': [], <strong>u'duration_in_traffic': {u'text': u'4 hours 3 mins', u'value': 14601}</strong>, u'start_address': u'New York, NY, USA', u'start_location': {u'lat': 40.7127243, u'lng': -74.0065046}, u'steps': [{u'html_instructions': u'Head northwest on Steve Flanders Square toward <b>Broadway</b>Restricted usage road', u'distance': {u'text': u'236 ft', u'value': 72}, u'travel_mode': u'DRIVING', u'start_location': {u'lat': 40.7127243, u'lng': -74.0065046}, u'polyline': {u'points': u'ounwFrkubMINABCDMZSd@Ur@'}, u'duration': {u'text': u'1 min', u'value': 9}, u'end_location': {u'lat': 40.7130849, u'lng': -74.00721879999999}}</p>\n\n<p>...</p>\n\n<p>u'lng': -71.05981249999999}}]}]</p>\n"}, {"tags": ["python", "graph", "shortest-path"], "comments": [{"owner": {"reputation": 822, "user_id": 2053630, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/xRs18.jpg?s=128&g=1", "display_name": "YBathia", "link": "https://stackoverflow.com/users/2053630/ybathia"}, "edited": false, "score": 0, "creation_date": 1457567408, "post_id": 35904945, "comment_id": 59470270, "body": "Do you mean, you used path.extend([start])? Because extend() works only with 2 lists. Or are you using path.append(start) ?"}, {"owner": {"reputation": 439, "user_id": 5175044, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/1V440.jpg?s=128&g=1", "display_name": "tulians", "link": "https://stackoverflow.com/users/5175044/tulians"}, "reply_to_user": {"reputation": 822, "user_id": 2053630, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/xRs18.jpg?s=128&g=1", "display_name": "YBathia", "link": "https://stackoverflow.com/users/2053630/ybathia"}, "edited": false, "score": 0, "creation_date": 1457567620, "post_id": 35904945, "comment_id": 59470342, "body": "I misspelled the <code>.extend()</code>. Just corrected it."}], "answers": [{"comments": [{"owner": {"reputation": 439, "user_id": 5175044, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/1V440.jpg?s=128&g=1", "display_name": "tulians", "link": "https://stackoverflow.com/users/5175044/tulians"}, "edited": false, "score": 0, "creation_date": 1457567526, "post_id": 35904986, "comment_id": 59470302, "body": "My first approach was using <code>path.append(start)</code>, but as it didn&#39;t work, in fact <code>path.extend([start])</code> doesn&#39;t either, I tried with <code>+</code>."}, {"owner": {"reputation": 439, "user_id": 5175044, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/1V440.jpg?s=128&g=1", "display_name": "tulians", "link": "https://stackoverflow.com/users/5175044/tulians"}, "edited": false, "score": 0, "creation_date": 1457567656, "post_id": 35904986, "comment_id": 59470352, "body": "Yes, it&#39;s the only way I can make it work, but I can&#39;t get why it does."}, {"owner": {"reputation": 17990, "user_id": 5827958, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/V9KEl.png?s=128&g=1", "display_name": "zondo", "link": "https://stackoverflow.com/users/5827958/zondo"}, "reply_to_user": {"reputation": 439, "user_id": 5175044, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/1V440.jpg?s=128&g=1", "display_name": "tulians", "link": "https://stackoverflow.com/users/5175044/tulians"}, "edited": false, "score": 0, "creation_date": 1457567842, "post_id": 35904986, "comment_id": 59470408, "body": "<code>path.append(start)</code> and <code>path.extend([start])</code> are equivalent to <code>path = path + [start]</code> (except that it effects other variables that refer to the same list)."}, {"owner": {"reputation": 439, "user_id": 5175044, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/1V440.jpg?s=128&g=1", "display_name": "tulians", "link": "https://stackoverflow.com/users/5175044/tulians"}, "edited": false, "score": 0, "creation_date": 1457568364, "post_id": 35904986, "comment_id": 59470592, "body": "The difference is that if I use <code>.append()</code> and assign to <code>new_path</code> the result of a function that uses <code>path</code> each <code>path.append(...)</code> will modify all other lists that depend in some way of that instance of <code>path</code>. That&#39;s why it only works with <code>+</code>."}, {"owner": {"reputation": 17990, "user_id": 5827958, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/V9KEl.png?s=128&g=1", "display_name": "zondo", "link": "https://stackoverflow.com/users/5827958/zondo"}, "reply_to_user": {"reputation": 439, "user_id": 5175044, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/1V440.jpg?s=128&g=1", "display_name": "tulians", "link": "https://stackoverflow.com/users/5175044/tulians"}, "edited": false, "score": 0, "creation_date": 1457568700, "post_id": 35904986, "comment_id": 59470712, "body": "Okay.  By the way, if you get tempted to use <code>path += [start]</code> to make it shorter, don&#39;t.  That is a shortcut for <code>path.__iadd__([start])</code>, so it will still modify all the others."}], "tags": [], "owner": {"reputation": 17990, "user_id": 5827958, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/V9KEl.png?s=128&g=1", "display_name": "zondo", "link": "https://stackoverflow.com/users/5827958/zondo"}, "is_accepted": false, "score": 0, "last_activity_date": 1457567735, "last_edit_date": 1457567735, "creation_date": 1457567408, "answer_id": 35904986, "question_id": 35904945, "link": "https://stackoverflow.com/questions/35904945/difference-between-creating-a-new-list-an-mutating-an-existing-one/35904986#35904986", "title": "Difference between creating a new list an mutating an existing one", "body": "<p><code>path.extend()</code> is expecting another sequence as its argument.  The same as you said <code>path + [start]</code>, you need to say <code>path.extend([start])</code>.  The easier way, however, would be to use <code>.append()</code>: <code>path.append(start)</code>.  <a href=\"https://docs.python.org/3/tutorial/datastructures.html#more-on-lists\" rel=\"nofollow\">Here</a> are the docs on <code>list</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 439, "user_id": 5175044, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/1V440.jpg?s=128&g=1", "display_name": "tulians", "link": "https://stackoverflow.com/users/5175044/tulians"}, "is_accepted": false, "score": 0, "last_activity_date": 1457573007, "creation_date": 1457573007, "answer_id": 35905907, "question_id": 35904945, "link": "https://stackoverflow.com/questions/35904945/difference-between-creating-a-new-list-an-mutating-an-existing-one/35905907#35905907", "title": "Difference between creating a new list an mutating an existing one", "body": "<p>I wasn't aware that applying operations to <code>path</code> will result in modifications in other variables such as <code>new_path</code>or <code>shortest</code>. When I saw that doing <code>path.append(start)</code> or <code>path.extend([start])</code> also added <code>start</code> to the other two lists I realized that I should not use <code>path</code> when calling the function recursively in <code>new_path = shortest_path_edge_num(graph, adj_node[0], end, path, shortest)</code> but instead use <code>path[:]</code> so as to send a copy of the list and not the reference.</p>\n\n<p>So in the end I kept the line <code>path.append(start)</code> or <code>path.extend([start])</code> and modified the parameter <code>path[:]</code> in the recursive call. By doing that the program returned the shortest path as expected. </p>\n\n<p>Thanks for the comments and the answers.</p>\n"}], "owner": {"reputation": 439, "user_id": 5175044, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/1V440.jpg?s=128&g=1", "display_name": "tulians", "link": "https://stackoverflow.com/users/5175044/tulians"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 64, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1457588438, "creation_date": 1457567183, "last_edit_date": 1457588438, "question_id": 35904945, "link": "https://stackoverflow.com/questions/35904945/difference-between-creating-a-new-list-an-mutating-an-existing-one", "title": "Difference between creating a new list an mutating an existing one", "body": "<p>I'm trying to calculate the shortest path from a node <code>start</code> to another <code>end</code> in a graph. I've been reading that the <code>+</code> operator, applied to a list, concatenates an element to the end of the former, creating a new list as a result. Whereas using <code>.extend()</code> not only does the same of adding the elements to the end of the list but also keeps the same list instance.</p>\n\n<p>I can't see why if I use <code>path = path + [start]</code> my code works, and not if I use <code>path.extend(start)</code>. I don't see the need of creating a new list each time the function is called for it to return the right results.</p>\n\n<p>Thanks in advanced.</p>\n\n<pre><code>def shortest_path_edge_num(graph, start, end, path = None, shortest = None):\n    if (graph or start or end) is None: return None\n    if path is None: path = []\n    if shortest is None: \n        shortest = []\n\n    path = path + [start]\n    # path.extend([start])\n    # Base case:\n    if start == end: return path\n\n    for adj_node in graph[start]:\n        if adj_node[0] not in path:\n        new_path = shortest_path_edge_num(graph, adj_node[0], end, path, shortest)\n            if new_path:\n                if (not shortest) or (len(new_path) &lt; len(shortest)):\n                    shortest = new_path\n    return shortest\n\n# Main routine\ngraph = {\n    'A' : [('B',5),('F',10)],\n    'B' : [('A',5),('E',2),('C',4)],\n    'C' : [('B',4),('D',11)],\n    'D' : [('C',11),('E',7)],\n    'E' : [('B',2),('D',7),('F',1)],\n    'F' : [('A',10),('E',1)]\n}\n\nprint shortest_path_edge_num(graph,'A','C')\n\n&gt;&gt;&gt; python graph.py\n['A', 'B', 'C']\n&gt;&gt;&gt; # But when changing to path.extend([start])\n&gt;&gt;&gt; python graph.py\n['A', 'B', 'E', 'D', 'C', 'F']\n</code></pre>\n\n<p><strong>EDIT</strong></p>\n\n<p>Using <code>+</code> creates a new instance of <code>list</code>, thus all the other variables that depend in some way of it don't change each time I add a new element to <code>path</code>. Now the question should be <em>how should I remove that dependence?</em></p>\n"}, {"tags": ["python", "postgresql", "apache-spark", "amazon-redshift", "bigdata"], "comments": [{"owner": {"reputation": 37954, "user_id": 905902, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a18869332564b1c3dfad9586d37095b2?s=128&d=identicon&r=PG", "display_name": "wildplasser", "link": "https://stackoverflow.com/users/905902/wildplasser"}, "edited": false, "score": 0, "creation_date": 1457567635, "post_id": 35904944, "comment_id": 59470346, "body": "Strong advice not to use python for <i>massive amounts</i>. How about copy or pg_dump ?"}, {"owner": {"reputation": 3135, "user_id": 4372759, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/6zzjk.jpg?s=128&g=1", "display_name": "flybonzai", "link": "https://stackoverflow.com/users/4372759/flybonzai"}, "reply_to_user": {"reputation": 37954, "user_id": 905902, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a18869332564b1c3dfad9586d37095b2?s=128&d=identicon&r=PG", "display_name": "wildplasser", "link": "https://stackoverflow.com/users/905902/wildplasser"}, "edited": false, "score": 0, "creation_date": 1457567797, "post_id": 35904944, "comment_id": 59470395, "body": "Just trying to understand the why here:)  In my program isn&#39;t most of the load on Redshift, and not being bottlenecked by Python?  Or should I really be using something like Scala?  Edit: And looks like pg_dump doesn&#39;t currently work with Redshift, and copy can&#39;t be used from table to table across clusters.  That&#39;s why I&#39;m having to place it in S3 first, then copy it over to the new table."}, {"owner": {"reputation": 37954, "user_id": 905902, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a18869332564b1c3dfad9586d37095b2?s=128&d=identicon&r=PG", "display_name": "wildplasser", "link": "https://stackoverflow.com/users/905902/wildplasser"}, "edited": false, "score": 0, "creation_date": 1457568059, "post_id": 35904944, "comment_id": 59470489, "body": "I don&#39;t know what amazon&#39;s <code>unload</code> command does, but it must be some kind of warpper around copy (<code>TO stdout</code> ?) the <code>to &#39;{}&#39;</code> suggests that the stuff is sucked into core memory first. #notsure."}, {"owner": {"reputation": 3135, "user_id": 4372759, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/6zzjk.jpg?s=128&g=1", "display_name": "flybonzai", "link": "https://stackoverflow.com/users/4372759/flybonzai"}, "reply_to_user": {"reputation": 37954, "user_id": 905902, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a18869332564b1c3dfad9586d37095b2?s=128&d=identicon&r=PG", "display_name": "wildplasser", "link": "https://stackoverflow.com/users/905902/wildplasser"}, "edited": false, "score": 0, "creation_date": 1457568522, "post_id": 35904944, "comment_id": 59470651, "body": "The <code>to {}</code> in this case is where I&#39;m specifying the <code>s3</code> bucket, it&#39;s not placing it internal memory as far as I know."}, {"owner": {"reputation": 1038, "user_id": 4196282, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002952351779/picture?type=large", "display_name": "Jim Nasby", "link": "https://stackoverflow.com/users/4196282/jim-nasby"}, "edited": false, "score": 0, "creation_date": 1457571231, "post_id": 35904944, "comment_id": 59471545, "body": "The DISTINCT and GROUP BY are redundant. They&#39;ll also make that query very expensive (*especially if the planner doesn&#39;t realize they&#39;re redundant).  You&#39;d probably be better off dumping one month at a time, especially since you&#39;d probably only need to dump the previous month (and maybe the current)."}, {"owner": {"reputation": 3135, "user_id": 4372759, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/6zzjk.jpg?s=128&g=1", "display_name": "flybonzai", "link": "https://stackoverflow.com/users/4372759/flybonzai"}, "reply_to_user": {"reputation": 1038, "user_id": 4196282, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002952351779/picture?type=large", "display_name": "Jim Nasby", "link": "https://stackoverflow.com/users/4196282/jim-nasby"}, "edited": false, "score": 0, "creation_date": 1457571945, "post_id": 35904944, "comment_id": 59471732, "body": "@Jim Nasby We are pulling only one month at a time"}, {"owner": {"reputation": 3135, "user_id": 4372759, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/6zzjk.jpg?s=128&g=1", "display_name": "flybonzai", "link": "https://stackoverflow.com/users/4372759/flybonzai"}, "edited": false, "score": 0, "creation_date": 1457572284, "post_id": 35904944, "comment_id": 59471829, "body": "I will try removing the distinct and group by clauses.  Why are they redundant?"}], "answers": [{"comments": [{"owner": {"reputation": 3135, "user_id": 4372759, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/6zzjk.jpg?s=128&g=1", "display_name": "flybonzai", "link": "https://stackoverflow.com/users/4372759/flybonzai"}, "edited": false, "score": 0, "creation_date": 1457622202, "post_id": 35919656, "comment_id": 59498421, "body": "I will try your approach today, that makes sense.  Are my <code>DISTINCT</code> and <code>GROUP BY</code> clauses really redundant in this case as said by another poster"}, {"owner": {"reputation": 3135, "user_id": 4372759, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/6zzjk.jpg?s=128&g=1", "display_name": "flybonzai", "link": "https://stackoverflow.com/users/4372759/flybonzai"}, "edited": false, "score": 1, "creation_date": 1457633897, "post_id": 35919656, "comment_id": 59506758, "body": "This worked, at least on my dev server.  I&#39;m about to move it over to prod to try it out there."}], "tags": [], "owner": {"reputation": 11879, "user_id": 139490, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f3f808947f68fe8dd3e6662ec1e1e4bf?s=128&d=identicon&r=PG", "display_name": "Joe Harris", "link": "https://stackoverflow.com/users/139490/joe-harris"}, "is_accepted": true, "score": 2, "last_activity_date": 1457621132, "creation_date": 1457621132, "answer_id": 35919656, "question_id": 35904944, "link": "https://stackoverflow.com/questions/35904944/strategies-for-unloading-massive-amounts-of-data-from-one-redshift-table-to-anot/35919656#35919656", "title": "Strategies for unloading massive amounts of data from one Redshift table to another?", "body": "<p>FWIW, I think you should probably post another question with details of the <code>UNLOAD</code> you've tried. </p>\n\n<p>I've found <code>UNLOAD</code> to work <em>much better</em> when unloading an entire table, e.g., not using a query. </p>\n\n<p>Try creating a temp table with the subset of data you want to unload, then <code>UNLOAD</code> the whole table and then delete the temp table.</p>\n\n<pre><code>CREATE TEMP TABLE a AS SELECT b FROM c WHERE d = e;\nUNLOAD (SELECT * FROM a) TO 's3://bucket' CREDENTIALS \u2026 ;\nDROP TABLE a;\n</code></pre>\n\n<p>Regarding your <em>actual question</em> above, I do not think you will have much success with this approach. The bottleneck will not be Spark or Python but simply that Redshift is fundamentally not <em>designed</em> for returning large number of rows.</p>\n"}, {"tags": [], "owner": {"reputation": 680, "user_id": 2682837, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f666f6d30fca9d52dee5fcac9fb8412e?s=128&d=identicon&r=PG&f=1", "display_name": "denismo", "link": "https://stackoverflow.com/users/2682837/denismo"}, "is_accepted": false, "score": 1, "last_activity_date": 1457934732, "creation_date": 1457934732, "answer_id": 35980384, "question_id": 35904944, "link": "https://stackoverflow.com/questions/35904944/strategies-for-unloading-massive-amounts-of-data-from-one-redshift-table-to-anot/35980384#35980384", "title": "Strategies for unloading massive amounts of data from one Redshift table to another?", "body": "<p>I agree with @Jim Nasby - GROUP BY with DISTINCT are redundant, and also are most likely causes for trouble as they force Redshift to execute the collation of the whole data set on the single Leader node, before copying.</p>\n\n<p>The massive benefit of Redshift's COPY command is that each node, if query allows, can unload its own data in parallel with other nodes. So if you have 10 nodes, all 10 of them can create S3 connection (multiple ones) and start pumping out the data.</p>\n\n<p>In your case, by having this DISTINCT, you essentially disable that as all data needs to be recalculated first.</p>\n\n<p>So I'd join with others saying that it is better to either dump the whole table as is (will be faster and less taxing on the cluster), or do simple incremental upload based on date range, potentially with some other simple conditions (like you have <code>context_type = \\'Course\\')</code>. As long as there are no GROUP BY/DISTINCT/ORDER BYs that should  run in parallel, and be very fast. </p>\n\n<p>Using Spark would make no difference is it would just pump the data via SQL connection first.</p>\n"}], "owner": {"reputation": 3135, "user_id": 4372759, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/6zzjk.jpg?s=128&g=1", "display_name": "flybonzai", "link": "https://stackoverflow.com/users/4372759/flybonzai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1824, "favorite_count": 1, "accepted_answer_id": 35919656, "answer_count": 2, "score": 0, "last_activity_date": 1505973487, "creation_date": 1457567177, "last_edit_date": 1506102531, "question_id": 35904944, "link": "https://stackoverflow.com/questions/35904944/strategies-for-unloading-massive-amounts-of-data-from-one-redshift-table-to-anot", "title": "Strategies for unloading massive amounts of data from one Redshift table to another?", "body": "<p>My company has a huge amount of data that is gathered about our server usage every month (somewhere in the neighborhood of 10 billion rows).  I have been tasked with unloading the data from this initial table to <code>S3</code>, where I then copy it up to a table in a different cluster.  This data is then used for dashboard reporting in <code>Tableau</code>. </p>\n\n<p>I'm running into problems where the unload (and to some extent the copy) step are failing intermittently with errors such as <code>Unexpected error: The server is already closed.</code>  This makes me think that it is essentially timing out.  There is also strange behavior where it is churning and hanging on the unload step, and after it fails I can see that it unloaded all the data and a manifest file into the bucket.  </p>\n\n<p>With all this uncertainty, I am forced to look for other strategies that might distribute the task a little.  I'm very interested in <code>Spark</code>, and am currently learning about it using <code>pyspark</code>, and am wondering if I could somehow ease the problem with distributed processing.  Would it be possible to just store the data in <code>ec2</code> and have Tableau pull from there?  Is there someway to distribute the unload process?  </p>\n\n<p>I will include the code from my process below so that if there is some bottleneck I'm causing that I can rectify it:</p>\n\n<pre><code>from datetime import datetime\nimport logging\n\nimport boto3\nimport psycopg2 as ppg2\n\nfrom inst_utils import aws, misc_utils\nfrom inst_config import config3\n\nif __name__ == '__main__':\n    logger = misc_utils.initialize_logger(config3.REQUESTS_USAGE_LOGFILE)\n\n    # Unload step\n    timestamp = datetime.now()\n    month = timestamp.month\n    year = timestamp.year\n\n    s3_sesh = boto3.session.Session(**config3.S3_INFO)\n    s3 = s3_sesh.resource('s3')\n    fname = 'load_{}_{:02d}'.format(year, month)\n    bucket_url = ('canvas_logs/agg_canvas_logs_user_agent_types/'\n                  '{}/'.format(fname))\n    unload_url = ('s3://{}/{}'.format(config3.S3_BUCKET, bucket_url))\n    s3.Bucket(config3.S3_BUCKET).put_object(Key=bucket_url)\n    table_name = 'requests_{}_{:02d}'.format(year, month - 1)\n    logger.info('Starting unload.')\n    try:\n        with ppg2.connect(**config3.REQUESTS_POSTGRES_INFO) as conn:\n            cur = conn.cursor()\n            # TODO add sql the sql folder to clean up this program.\n            unload = r'''\n            unload ('select\n                        user_id\n                        ,course_id\n                        ,request_month\n                        ,user_agent_type\n                        ,count(session_id)\n                        ,\\'DEV\\' etl_requests_usage\n                        ,CONVERT_TIMEZONE(\\'MST\\', getdate()) etl_datetime_local\n                        ,\\'agg_canvas_logs_user_agent_types\\' etl_transformation_name\n                        ,\\'N/A\\' etl_pdi_version\n                        ,\\'N/A\\' etl_pdi_build_version\n                        ,null etl_pdi_hostname\n                        ,null etl_pdi_ipaddress\n                        ,null etl_checksum_md5\n                     from\n                          (select distinct\n                              user_id\n                              ,context_id as course_id\n                              ,date_trunc(\\'month\\', request_timestamp) request_month\n                              ,session_id\n                              ,case\n                              when user_agent like \\'%CanvasAPI%\\' then \\'api\\'\n                              when user_agent like \\'%candroid%\\' then \\'mobile_app_android\\'\n                              when user_agent like \\'%iCanvas%\\' then \\'mobile_app_ios\\'\n                              when user_agent like \\'%CanvasKit%\\' then \\'mobile_app_ios\\'\n                              when user_agent like \\'%Windows NT%\\' then \\'desktop\\'\n                              when user_agent like \\'%MacBook%\\' then \\'desktop\\'\n                              when user_agent like \\'%iPhone%\\' then \\'mobile\\'\n                              when user_agent like \\'%iPod Touch%\\' then \\'mobile\\'\n                              when user_agent like \\'%iPad%\\' then \\'mobile\\'\n                              when user_agent like \\'%iOS%\\' then \\'mobile\\'\n                              when user_agent like \\'%CrOS%\\' then \\'desktop\\'\n                              when user_agent like \\'%Android%\\' then \\'mobile\\'\n                              when user_agent like \\'%Linux%\\' then \\'desktop\\'\n                              when user_agent like \\'%Mac OS%\\' then \\'desktop\\'\n                              when user_agent like \\'%Macintosh%\\' then \\'desktop\\'\n                              else \\'other_unknown\\'\n                              end as user_agent_type\n                            from {}\n                            where context_type = \\'Course\\')\n                            group by\n                              user_id\n                              ,course_id\n                              ,request_month\n                              ,user_agent_type')\n            to '{}'\n            credentials 'aws_access_key_id={};aws_secret_access_key={}'\n            manifest\n            gzip\n            delimiter '|'\n            '''.format(\n                table_name, unload_url, config3.S3_ACCESS, config3.S3_SECRET)\n            cur.execute(unload)\n            conn.commit()\n\n    except ppg2.Error as e:\n        logger.critical('Error occurred during transaction: {}'.format(e))\n        raise Exception('{}'.format(e))\n\n    logger.info('Starting copy process.')\n    schema_name = 'ods_canvas_logs'\n    table_name = 'agg_canvas_logs_user_agent_types'\n\n    manifest_url = unload_url + 'manifest'\n    logger.info('Manifest url: {}'.format(manifest_url))\n    load = aws.RedshiftLoad(schema_name,\n                            table_name,\n                            manifest_url,\n                            config3.S3_INFO,\n                            config3.REDSHIFT_POSTGRES_INFO_PROD,\n                            config3.REDSHIFT_POSTGRES_INFO,\n                            safe_load=True,\n                            truncate=True\n                            )\n    load.execute()\n</code></pre>\n"}, {"tags": ["python", "turtle-graphics"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 5787401, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3067202047d8dafc4b9cb0e727988e5f?s=128&d=identicon&r=PG&f=1", "display_name": "Neo.exe", "link": "https://stackoverflow.com/users/5787401/neo-exe"}, "edited": false, "score": 0, "creation_date": 1457737522, "post_id": 35926077, "comment_id": 59559269, "body": "Heres the thing, I can&#39;t use that because I haven&#39;t learned what abs does yet and my teacher will think i&#39;m plagerizing"}, {"owner": {"reputation": 32921, "user_id": 5771269, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be6a5b618f5bd197150a6186318beba7?s=128&d=identicon&r=PG&f=1", "display_name": "cdlane", "link": "https://stackoverflow.com/users/5771269/cdlane"}, "reply_to_user": {"reputation": 1, "user_id": 5787401, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3067202047d8dafc4b9cb0e727988e5f?s=128&d=identicon&r=PG&f=1", "display_name": "Neo.exe", "link": "https://stackoverflow.com/users/5787401/neo-exe"}, "edited": false, "score": 0, "creation_date": 1457769454, "post_id": 35926077, "comment_id": 59566109, "body": "@Neo.exe, I&#39;ve added an alternate way to write the conditional without <code>abs()</code>."}, {"owner": {"reputation": 1, "user_id": 5787401, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3067202047d8dafc4b9cb0e727988e5f?s=128&d=identicon&r=PG&f=1", "display_name": "Neo.exe", "link": "https://stackoverflow.com/users/5787401/neo-exe"}, "edited": false, "score": 0, "creation_date": 1457804200, "post_id": 35926077, "comment_id": 59577108, "body": "@ cdlane thanks for help I really appreciate it. ^_^"}], "tags": [], "owner": {"reputation": 32921, "user_id": 5771269, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be6a5b618f5bd197150a6186318beba7?s=128&d=identicon&r=PG&f=1", "display_name": "cdlane", "link": "https://stackoverflow.com/users/5771269/cdlane"}, "is_accepted": false, "score": 0, "last_activity_date": 1457769399, "last_edit_date": 1457769399, "creation_date": 1457640002, "answer_id": 35926077, "question_id": 35904943, "link": "https://stackoverflow.com/questions/35904943/snake-game-turtle-graphics-in-python/35926077#35926077", "title": "Snake Game Turtle Graphics in Python", "body": "<p>The code works, but hitting the snake exactly on the center of the circle is difficult.  To fix this, at the top of your code add a constant:</p>\n\n<pre><code>RADIUS = 10\n</code></pre>\n\n<p>That is roughly the radius of the circle.  Then, change this line:</p>\n\n<pre><code>if playerPen.xcor() == circle.xcor() and playerPen.ycor() == circle.ycor():\n</code></pre>\n\n<p>to instead be:</p>\n\n<pre><code>if abs(playerPen.xcor() - circle.xcor()) &lt; RADIUS and abs(playerPen.ycor() - circle.ycor()) &lt; RADIUS:\n</code></pre>\n\n<p>And enjoy the game!</p>\n\n<p>Or if you can't enjoy the game due not being able to use <code>abs()</code>, here's another way to write that same line without it:</p>\n\n<pre><code>if -RADIUS &lt; playerPen.xcor() - circle.xcor() &lt; RADIUS and -RADIUS &lt; playerPen.ycor() - circle.ycor() &lt; RADIUS:\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 5787401, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3067202047d8dafc4b9cb0e727988e5f?s=128&d=identicon&r=PG&f=1", "display_name": "Neo.exe", "link": "https://stackoverflow.com/users/5787401/neo-exe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1912, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1463238934, "creation_date": 1457567168, "last_edit_date": 1463238934, "question_id": 35904943, "link": "https://stackoverflow.com/questions/35904943/snake-game-turtle-graphics-in-python", "title": "Snake Game Turtle Graphics in Python", "body": "<p>So I have a project where I have to create a game in TURTLE graphics only without using any other modules except turtle and the random module. I am creating the traditional snake game except when the snake \"eats\" the object it doesn't get bigger. The problem with my game is that when the \"snake\" gets to the object, the object does not disappear and I want it to disappear and reappear in another position. Please Help.  Here is the code: </p>\n\n<pre><code>from turtle import *\nimport random\n\nsetup(700, 700)\ntitle(\"Snake Game!\")\nbgcolor(\"blue\")\n\n# Boundary\nbPen = Pen()\nbPen.color(\"Orange\")\nbPen.up()\nbPen.goto(-300, -300)\nbPen.down()\n\nfor i in range(4):\n    bPen.ht()\n    bPen.fd(600)\n    bPen.lt(90)\n\n\n\n# Player \nplayerPen = Pen()\nplayerPen.color(\"Orange\")\nplayerPen.up()\nplayerPen.width(4)\n\n# Create Circle\n\ncircle = Pen()\ncircle.shape(\"circle\")\ncircle.color(\"Red\")\ncircle.up()\ncircle.speed(0)\ncircle.goto(-100, 100)\n\n\n\n# Speed\nspeed = 2\n\n# Movement functions\n\ndef left():\n    playerPen.lt(90)\n\ndef right():\n    playerPen.rt(90)\n\ndef speedBoost():\n    global speed\n    speed += 1\n\n\n# Key Prompts\nonkey(left, \"Left\")\nonkey(right, \"Right\")\nonkey(speedBoost, \"Up\")\nlisten()\n\n\n# Infinity loop and player knockback\nwhile True:\n    playerPen.fd(speed)\n\n    if playerPen.xcor() &lt; -300 or playerPen.xcor() &gt; 300:\n        playerPen.rt(180)\n\n    elif playerPen.ycor() &lt; - 300 or playerPen.ycor() &gt; 300:\n        playerPen.rt(180)\n\n    # Collision with circle\n    if playerPen.xcor() == circle.xcor() and playerPen.ycor() == circle.ycor():\n        circle.goto(random.randint(-300, 300), random.randint(-300, 300))\n\n\ndone()\n</code></pre>\n"}, {"tags": ["python", "user-interface", "tkinter", "widget", "ttk"], "comments": [{"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 1, "creation_date": 1457567252, "post_id": 35904907, "comment_id": 59470210, "body": "I&#39;m not going to run your code and guess what the problem is. What is your question?"}, {"owner": {"reputation": 16773, "user_id": 5827215, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-s_pAOw1Sc-M/AAAAAAAAAAI/AAAAAAAAAMA/J-R1IMHbuY4/photo.jpg?sz=128", "display_name": "Tadhg McDonald-Jensen", "link": "https://stackoverflow.com/users/5827215/tadhg-mcdonald-jensen"}, "edited": false, "score": 0, "creation_date": 1457583754, "post_id": 35904907, "comment_id": 59475004, "body": "you forgot to call <code>.pack()</code> on one of the widgets you created. (self.app)"}, {"owner": {"reputation": 109, "user_id": 5752524, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9f56bf507ed33b72aca752decf3b2b4?s=128&d=identicon&r=PG&f=1", "display_name": "asdf", "link": "https://stackoverflow.com/users/5752524/asdf"}, "edited": false, "score": 0, "creation_date": 1457630440, "post_id": 35904907, "comment_id": 59504464, "body": "I tried self.app.pack() and it gave me an error. I also tried self.frame.pack() and nothing happened."}], "answers": [{"tags": [], "owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "is_accepted": false, "score": 0, "last_activity_date": 1457900888, "creation_date": 1457900888, "answer_id": 35975403, "question_id": 35904907, "link": "https://stackoverflow.com/questions/35904907/python3-tkinter-multiple-windows-and-widgets/35975403#35975403", "title": "Python3 tkinter multiple windows and widgets", "body": "<p>The entire contents of your GUI are inside the window <code>app</code>. However, you never put <code>app</code> on the screen using pack, place, or grid, so it remains invisible. </p>\n\n<p>Since <code>app</code> appears to be the only widget in the root window, you probably want to add this code right before calling <code>mainloop</code>:</p>\n\n<pre><code>app.pack(fill=\"both\", expand=True)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 109, "user_id": 5752524, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9f56bf507ed33b72aca752decf3b2b4?s=128&d=identicon&r=PG&f=1", "display_name": "asdf", "link": "https://stackoverflow.com/users/5752524/asdf"}, "edited": false, "score": 0, "creation_date": 1463529088, "post_id": 35975957, "comment_id": 62100877, "body": "self.pack() worked"}], "tags": [], "owner": {"reputation": 15975, "user_id": 5471709, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/09fhV.png?s=128&g=1", "display_name": "Kenly", "link": "https://stackoverflow.com/users/5471709/kenly"}, "is_accepted": true, "score": 0, "last_activity_date": 1457903671, "creation_date": 1457903671, "answer_id": 35975957, "question_id": 35904907, "link": "https://stackoverflow.com/questions/35904907/python3-tkinter-multiple-windows-and-widgets/35975957#35975957", "title": "Python3 tkinter multiple windows and widgets", "body": "<p>In <code>portscanner()</code> method use <code>pack()</code> to make <code>self.app</code> visible on the screen.  </p>\n\n<pre><code>def portscanner(self):\n    self.newWindow = tk.Toplevel(self.master)\n    self.app = Window2(self.newWindow)\n    self.app.pack()\n</code></pre>\n"}], "owner": {"reputation": 109, "user_id": 5752524, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9f56bf507ed33b72aca752decf3b2b4?s=128&d=identicon&r=PG&f=1", "display_name": "asdf", "link": "https://stackoverflow.com/users/5752524/asdf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 816, "favorite_count": 0, "closed_date": 1521146953, "accepted_answer_id": 35975957, "answer_count": 2, "score": -1, "last_activity_date": 1457903671, "creation_date": 1457566975, "question_id": 35904907, "link": "https://stackoverflow.com/questions/35904907/python3-tkinter-multiple-windows-and-widgets", "closed_reason": "Not suitable for this site", "title": "Python3 tkinter multiple windows and widgets", "body": "<pre><code>#Home Window\nclass Window1(Frame):\n    def __init__(self, parent):\n        Frame.__init__(self, parent)\n        self.parent = parent\n        self.initUI()\n\n#Menu Bar Widgets\n#&lt;----------------------------------------------------&gt;\n    #Port Scanner Window Code\n    def portscanner(self):\n        self.newWindow = tk.Toplevel(self.master)\n        self.app = Window2(self.newWindow)\n\n\n    def initUI(self):\n        self.parent.title(\"Multipurpose Security Tool\")\n\n        menubar = Menu(self.parent) \n        self.parent.config(menu=menubar)\n\n\n    #Capture Menu Code\n    #&lt;-----------------------------------------------------&gt;\n        captureMenu = Menu(menubar, tearoff=0,)\n\n        #Submenu Send Packet\n        #&lt;-----------------------------------------------------&gt;\n        submenu = Menu(captureMenu, tearoff=0)\n        submenu.add_command(label=\"Send TCP Packet\")\n        submenu.add_command(label=\"Send UDP Packet\")\n        captureMenu.add_cascade(label=\"Send Packet\", menu=submenu, underline=0)\n        captureMenu.add_separator()\n        #&lt;-----------------------------------------------------&gt;\n        #Regular Menu Widgets under Capture\n        captureMenu.add_command(label=\"TCP Packet Analyzer\")\n        captureMenu.add_separator()\n        captureMenu.add_command(label=\"UDP Packet Analyzer\")\n        captureMenu.add_separator()\n        captureMenu.add_command(label=\"Port Scanner\",command=self.portscanner)\n        captureMenu.add_separator()\n        captureMenu.add_command(label=\"Whois Lookup\")\n        menubar.add_cascade(label=\"Capture\", menu=captureMenu)\n    #&lt;-----------------------------------------------------&gt;\n\n    def showMenu(self, e):\n        self.menu.post(e.x_root, e.y_root)\n\n    #Exit Code on MenuBar\n    def onExit(self):\n        quitquestion = tkinter.messagebox.askquestion(\"Quit\",\"Are you sure you want to quit?\")\n        if quitquestion == \"yes\":\n            self.quit()\n\n    #New Code on MenuBar\n    def new(self):\n        python = sys.executable\n        os.execl(python, python, * sys.argv)\n\n\n\n#Port Scanner\nclass Window2(Frame):\n   def __init__(self, parent):\n        Frame.__init__(self, parent)\n        self.parent = parent\n        self.initUI2()\n</code></pre>\n\n<p>This is the Frame where I am trying to put widgets on but it does nothing when I run it. I am using PyCharm as my editor. Trying to make widgets so user can interact with it. I am wanting to make an input box and a button that has text \"run\". It does not show anything in the debugger.</p>\n\n<pre><code>   def initUI2(self):\n       self.frame = tk.Frame(self.master)\n       self.parent.title(\"Port Scanner\")\n       self.parent.geometry(\"500x300+400+200\")\n       self.runbutton = Button(self,text=\"Run\")\n       self.runbutton.pack()\n\n\n\n#Windows Settings\ndef main():\n#&lt;-----------------------------------------------------&gt;\n    root = Tk()\n    root.geometry(\"500x300+400+100\")\n    app = Window1(root)\n    #Page 1 and Page 2 Tab\n    root.mainloop()\n#&lt;-----------------------------------------------------&gt;\n\nif __name__ == '__main__':\n    main()\n</code></pre>\n"}, {"tags": ["python", "cython"], "comments": [{"owner": {"reputation": 17706, "user_id": 623622, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pkmbW.png?s=128&g=1", "display_name": "Czarek Tomczak", "link": "https://stackoverflow.com/users/623622/czarek-tomczak"}, "edited": false, "score": 0, "creation_date": 1457677744, "post_id": 35904823, "comment_id": 59524247, "body": "Found these two examples on github.com/cython/cython by searching &quot;vector&quot;: 1) <a href=\"https://github.com/cython/cython/blob/0c62e665c02b438be331e445bbde2f1c6bd9dff0/tests/run/libcpp_all.pyx#L89\" rel=\"nofollow noreferrer\">libcpp_all.pyx#L89</a> 2) <a href=\"https://github.com/cython/cython/blob/b476c360bff59f8fa868ffd03f107ac1664e4a6f/tests/run/memview_vector.pyx#L11\" rel=\"nofollow noreferrer\">memview_vector.pyx#L11</a>"}], "answers": [{"tags": [], "owner": {"reputation": 17706, "user_id": 623622, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pkmbW.png?s=128&g=1", "display_name": "Czarek Tomczak", "link": "https://stackoverflow.com/users/623622/czarek-tomczak"}, "is_accepted": true, "score": 0, "last_activity_date": 1457594890, "creation_date": 1457594890, "answer_id": 35910158, "question_id": 35904823, "link": "https://stackoverflow.com/questions/35904823/how-to-ccythonize-a-c-function-that-accepts-a-container-as-input-for-returning/35910158#35910158", "title": "How to cCythonize a C++ function that accepts a container as input for returning result", "body": "<p>Try this:</p>\n\n<pre><code>from libcpp.vector cimport vector\nfrom libcpp cimport bool as cpp_bool\n\ncdef extern from ...:\n    cdef void foo(vector[cpp_bool]&amp; result, ...)\n</code></pre>\n"}], "owner": {"reputation": 2339, "user_id": 4979733, "user_type": "registered", "accept_rate": 78, "profile_image": "https://lh3.googleusercontent.com/-x2WgsC4Euv8/AAAAAAAAAAI/AAAAAAAAAAA/JGqytYIG2kI/photo.jpg?sz=128", "display_name": "user4979733", "link": "https://stackoverflow.com/users/4979733/user4979733"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "accepted_answer_id": 35910158, "answer_count": 1, "score": 1, "last_activity_date": 1457637624, "creation_date": 1457566523, "last_edit_date": 1457637624, "question_id": 35904823, "link": "https://stackoverflow.com/questions/35904823/how-to-ccythonize-a-c-function-that-accepts-a-container-as-input-for-returning", "title": "How to cCythonize a C++ function that accepts a container as input for returning result", "body": "<p>I'm learning Cython to expose C++ classes to Python. I'm successful in exposing simple C++ classes without many issues. However, I have the following problem:</p>\n\n<p>I have a function with the following C++ signature:</p>\n\n<pre><code>void foo(std::vector&lt;bool&gt;&amp;result, std::vector&lt;int&gt; const&amp; x, std::vector&lt;int&gt; const&amp; y)\n</code></pre>\n\n<p>Note that I can't change the function signature as this is a third-party library.</p>\n\n<p>How do I write the appropriate Cython code to export this? The problem is the 'result' container which is passed to foo() to return the result. Any (small) example on how to do this would be most appreciated. Thanks.</p>\n\n<p>Updated:</p>\n\n<p>Following Czarek's solution, I got it to work this way:</p>\n\n<pre><code>from libcpp.vector cimport vector\nfrom libcpp cimport bool as cpp_bool\n\ncdef extern from \"Rectangle.h\" namespace \"shapes\":  \n    cdef cppclass Rectangle:\n        ....\n        void foo(vector[cpp_bool]&amp; result, vector[int] x, vector[int] y)\n\ncdef class PyRectangle:\n    def foo(self, x, y):\n        cdef vector[cpp_bool] tmp_result\n        self.thisptr.foo(tmp_result, x, y)\n\n\n        result = []\n        for i in tmp_result:\n          result.append(i)\n        return result\n</code></pre>\n\n<p>Let me know if there is a better way to convert the vector to a python list (object). Thanks!</p>\n"}, {"tags": ["python", "matrix"], "comments": [{"owner": {"reputation": 3151, "user_id": 5865420, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AF0Nt.jpg?s=128&g=1", "display_name": "pp_", "link": "https://stackoverflow.com/users/5865420/pp"}, "edited": false, "score": 0, "creation_date": 1457566465, "post_id": 35904798, "comment_id": 59469928, "body": "What is the error? What are you trying to do?"}, {"owner": {"reputation": 67, "user_id": 4089752, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/26fe49ee498eb359c116baf0d02c3e68?s=128&d=identicon&r=PG&f=1", "display_name": "Giovannie Sanchez Diaz", "link": "https://stackoverflow.com/users/4089752/giovannie-sanchez-diaz"}, "reply_to_user": {"reputation": 3151, "user_id": 5865420, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AF0Nt.jpg?s=128&g=1", "display_name": "pp_", "link": "https://stackoverflow.com/users/5865420/pp"}, "edited": false, "score": 0, "creation_date": 1457566559, "post_id": 35904798, "comment_id": 59469966, "body": "I mean no error of crash but is saving the repositioned matrix even if I have a temporary variable somewhere else not being used"}, {"owner": {"reputation": 8010, "user_id": 2623899, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/83ad78df36161a34b886c5b230098416?s=128&d=identicon&r=PG", "display_name": "dbliss", "link": "https://stackoverflow.com/users/2623899/dbliss"}, "edited": false, "score": 0, "creation_date": 1457566774, "post_id": 35904798, "comment_id": 59470042, "body": "@GiovannieSanchezDiaz the fact that you have <code>pass</code> as the last line in your function is a pretty clear sign that you have no idea what you&#39;re doing.  that&#39;s fine, but when you have no idea what you&#39;re doing, you have to compensate for that by being really good at describing what you are trying to do.  right now, your code is terrible, and your description of what it&#39;s supposed to be doing is terrible."}, {"owner": {"reputation": 5483, "user_id": 4481312, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/teLso.jpg?s=128&g=1", "display_name": "marmeladze", "link": "https://stackoverflow.com/users/4481312/marmeladze"}, "edited": false, "score": 3, "creation_date": 1457566798, "post_id": 35904798, "comment_id": 59470047, "body": "i&#39;ve not followed your code, but just wnat to remind that, when you set <code>temp</code> to <code>mat</code> and making some changes on <code>mat</code> will also change <code>temp</code>. if you want to assign initial value to temporary value, try <code>temp = mat[:]</code> which changes on <code>mat</code> will not reflect on <code>temp</code>."}, {"owner": {"reputation": 67, "user_id": 4089752, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/26fe49ee498eb359c116baf0d02c3e68?s=128&d=identicon&r=PG&f=1", "display_name": "Giovannie Sanchez Diaz", "link": "https://stackoverflow.com/users/4089752/giovannie-sanchez-diaz"}, "edited": false, "score": 0, "creation_date": 1457566825, "post_id": 35904798, "comment_id": 59470060, "body": "Dude that was sublime text auto add it"}, {"owner": {"reputation": 67, "user_id": 4089752, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/26fe49ee498eb359c116baf0d02c3e68?s=128&d=identicon&r=PG&f=1", "display_name": "Giovannie Sanchez Diaz", "link": "https://stackoverflow.com/users/4089752/giovannie-sanchez-diaz"}, "edited": false, "score": 0, "creation_date": 1457566843, "post_id": 35904798, "comment_id": 59470070, "body": "I know what it does should not be there"}, {"owner": {"reputation": 6738, "user_id": 906693, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ba54c2f46f424128b4ba467eb8d0e138?s=128&d=identicon&r=PG", "display_name": "roadrunner66", "link": "https://stackoverflow.com/users/906693/roadrunner66"}, "edited": false, "score": 0, "creation_date": 1457566943, "post_id": 35904798, "comment_id": 59470105, "body": "What is the intended behavior of the function <code>repos</code>?"}, {"owner": {"reputation": 67, "user_id": 4089752, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/26fe49ee498eb359c116baf0d02c3e68?s=128&d=identicon&r=PG&f=1", "display_name": "Giovannie Sanchez Diaz", "link": "https://stackoverflow.com/users/4089752/giovannie-sanchez-diaz"}, "edited": false, "score": 0, "creation_date": 1457566972, "post_id": 35904798, "comment_id": 59470115, "body": "reposition of the the values"}], "answers": [{"comments": [{"owner": {"reputation": 67, "user_id": 4089752, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/26fe49ee498eb359c116baf0d02c3e68?s=128&d=identicon&r=PG&f=1", "display_name": "Giovannie Sanchez Diaz", "link": "https://stackoverflow.com/users/4089752/giovannie-sanchez-diaz"}, "edited": false, "score": 0, "creation_date": 1457567127, "post_id": 35904915, "comment_id": 59470164, "body": "Ok will try that! :)"}, {"owner": {"reputation": 67, "user_id": 4089752, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/26fe49ee498eb359c116baf0d02c3e68?s=128&d=identicon&r=PG&f=1", "display_name": "Giovannie Sanchez Diaz", "link": "https://stackoverflow.com/users/4089752/giovannie-sanchez-diaz"}, "edited": false, "score": 0, "creation_date": 1457567398, "post_id": 35904915, "comment_id": 59470267, "body": "Thanks you so much. That did it!"}], "tags": [], "owner": {"reputation": 11740, "user_id": 652722, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/54bbedbfc6523d9205ab23cf75a8b16a?s=128&d=identicon&r=PG", "display_name": "Tyler Crompton", "link": "https://stackoverflow.com/users/652722/tyler-crompton"}, "is_accepted": true, "score": 2, "last_activity_date": 1457567706, "last_edit_date": 1457567706, "creation_date": 1457567001, "answer_id": 35904915, "question_id": 35904798, "link": "https://stackoverflow.com/questions/35904798/python-matrix-parameter-passing-mutated/35904915#35904915", "title": "Python Matrix Parameter Passing mutated", "body": "<p>You need to perform a deep copy of <code>listone</code> in <code>repos</code>.</p>\n\n<p>Add <code>from copy import deepcopy</code> to the top of the file and then change <code>modded = listsone</code> to <code>modded = deepcopy(listsone)</code>. At the end of the <code>repos</code> function, return <code>modded</code>. When you call <code>repos</code>, assign the return value to a variable. For example, change <code>repos('5',mat)</code> to <code>some_variable = repos('5',mat)</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 67, "user_id": 4089752, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/26fe49ee498eb359c116baf0d02c3e68?s=128&d=identicon&r=PG&f=1", "display_name": "Giovannie Sanchez Diaz", "link": "https://stackoverflow.com/users/4089752/giovannie-sanchez-diaz"}, "edited": false, "score": 0, "creation_date": 1457568012, "post_id": 35905039, "comment_id": 59470471, "body": "You are getting there the same problem I had. The first run it did fine but in your second run the seven should be in the 0 of main matrix. I solve it with Tyler answer but Thanks for trying :)"}, {"owner": {"reputation": 6738, "user_id": 906693, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ba54c2f46f424128b4ba467eb8d0e138?s=128&d=identicon&r=PG", "display_name": "roadrunner66", "link": "https://stackoverflow.com/users/906693/roadrunner66"}, "reply_to_user": {"reputation": 67, "user_id": 4089752, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/26fe49ee498eb359c116baf0d02c3e68?s=128&d=identicon&r=PG&f=1", "display_name": "Giovannie Sanchez Diaz", "link": "https://stackoverflow.com/users/4089752/giovannie-sanchez-diaz"}, "edited": false, "score": 0, "creation_date": 1457568112, "post_id": 35905039, "comment_id": 59470514, "body": "Good point. I&#39;m taking that back, you need a deepcopy :)   Will edit my &#39;solution&#39; but giving credit to to Tyler!"}], "tags": [], "owner": {"reputation": 6738, "user_id": 906693, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ba54c2f46f424128b4ba467eb8d0e138?s=128&d=identicon&r=PG", "display_name": "roadrunner66", "link": "https://stackoverflow.com/users/906693/roadrunner66"}, "is_accepted": false, "score": 0, "last_activity_date": 1457568242, "last_edit_date": 1457568242, "creation_date": 1457567672, "answer_id": 35905039, "question_id": 35904798, "link": "https://stackoverflow.com/questions/35904798/python-matrix-parameter-passing-mutated/35905039#35905039", "title": "Python Matrix Parameter Passing mutated", "body": "<p>Is this what you are trying to do? </p>\n\n<pre><code>from copy import deepcopy\n\ndef findpos(element, matrix):\n    ii = -1\n    jj = -1\n    for i in matrix:\n        ii += 1\n        for o in i:\n            if o == element:\n                jj = i.index(o)\n                return ii, jj\n\ndef switchmatrixelements(el1,el2, mat):\n    pos1 = findpos(el1,mat)\n    pos2 =  findpos(el2,mat)\n    modded =  deepcopy(mat)\n    modded[pos2[0]][pos2[1]] = el1\n    modded[pos1[0]][pos1[1]] = el2\n    return modded\n\nmat = [['5','4','1'],\n       ['0','6','8'],\n       ['7','3','2']]\n\nprint mat\nprint switchmatrixelements('0','5',mat)\nprint switchmatrixelements('0','7',mat) \n</code></pre>\n\n<p>output:</p>\n\n<pre><code>   [['5', '4', '1'], ['0', '6', '8'], ['7', '3', '2']]\n   [['0', '4', '1'], ['5', '6', '8'], ['7', '3', '2']]\n   [['5', '4', '1'], ['7', '6', '8'], ['0', '3', '2']]\n</code></pre>\n"}], "owner": {"reputation": 67, "user_id": 4089752, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/26fe49ee498eb359c116baf0d02c3e68?s=128&d=identicon&r=PG&f=1", "display_name": "Giovannie Sanchez Diaz", "link": "https://stackoverflow.com/users/4089752/giovannie-sanchez-diaz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "accepted_answer_id": 35904915, "answer_count": 2, "score": 0, "last_activity_date": 1457569667, "creation_date": 1457566412, "last_edit_date": 1457569667, "question_id": 35904798, "link": "https://stackoverflow.com/questions/35904798/python-matrix-parameter-passing-mutated", "title": "Python Matrix Parameter Passing mutated", "body": "<p>Can someone help me out! \nI can't find the reason of the error. If I run it 1 time it works fine however when I call the same method again with the same parameters it keep the last session of the list when I never save it. I tried using a temporary variable but even that got modded after I run it once. :(:(\nThis algorithm is:</p>\n\n<pre><code>def searchin(position, mattwo):\n    listpos = -1\n    indexone = -1\n    # - - - - - -\n    for i in mattwo:\n        listpos += 1\n        for o in i:\n            if o == position:\n                indexone = i.index(o)\n                return listpos, indexone\n\ndef repos(reposition, listsone):\n    cero, replacement = searchin('0',listsone),searchin(reposition,listsone)\n    modded = listsone\n    modded[replacement[0]][replacement[1]],modded[cero[0]][cero[1]] = '0', reposition\n\nmat = [['5','4','1'],\n       ['0','6','8'],\n       ['7','3','2']]\n\nrepos('5',mat)\nrepos('7',mat)\n</code></pre>\n\n<p>The method serachin() returns the position in the matrix 3x3 of the element we are looking for. Is working fine no errors there</p>\n\n<p>The repos() method is the problem. After I run it, the matrix mat gets mutated with the results of last run BUT I never save that.</p>\n"}, {"tags": ["python", "module", "version"], "comments": [{"owner": {"reputation": 822, "user_id": 2053630, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/xRs18.jpg?s=128&g=1", "display_name": "YBathia", "link": "https://stackoverflow.com/users/2053630/ybathia"}, "edited": false, "score": 0, "creation_date": 1457567060, "post_id": 35904790, "comment_id": 59470144, "body": "You have multiple pips and it is the version of pip that controls which python the library gets installed. You need to select the correct pip. Type pip on your console and hit tab and you shall see multiple pip&#39;s."}], "answers": [{"tags": [], "owner": {"reputation": 168, "user_id": 5357186, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/hdmx3.jpg?s=128&g=1", "display_name": "Steve Smith", "link": "https://stackoverflow.com/users/5357186/steve-smith"}, "is_accepted": false, "score": 0, "last_activity_date": 1457567152, "last_edit_date": 1495542671, "creation_date": 1457567152, "answer_id": 35904939, "question_id": 35904790, "link": "https://stackoverflow.com/questions/35904790/how-to-change-python-version-in-which-modules-get-installed/35904939#35904939", "title": "How to change Python version in which modules get installed?", "body": "<p>I think this was already answered: <a href=\"https://stackoverflow.com/questions/2812520/pip-dealing-with-multiple-python-versions\">pip: dealing with multiple Python versions?</a></p>\n\n<p>Since version 0.8, Pip supports pip-{version}. You can use it the same as easy_install-{version}:</p>\n\n<pre><code>$ pip-2.5 install myfoopackage\n$ pip-2.6 install otherpackage\n$ pip-2.7 install mybarpackage\n</code></pre>\n\n<p>EDIT: pip changed its schema to use pipVERSION instead of pip-VERSION in version 1.5. You should use the following if you have pip >= 1.5:</p>\n\n<pre><code>$ pip2.6 install otherpackage\n$ pip2.7 install mybarpackage\n</code></pre>\n\n<p>Check <a href=\"https://github.com/pypa/pip/pull/1053\" rel=\"nofollow noreferrer\">https://github.com/pypa/pip/pull/1053</a> for more details</p>\n"}], "owner": {"reputation": 120, "user_id": 5813612, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/f7ed906a15d9fb780ad1e8c66d42e440?s=128&d=identicon&r=PG&f=1", "display_name": "apbassett", "link": "https://stackoverflow.com/users/5813612/apbassett"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 153, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1457567152, "creation_date": 1457566364, "question_id": 35904790, "link": "https://stackoverflow.com/questions/35904790/how-to-change-python-version-in-which-modules-get-installed", "title": "How to change Python version in which modules get installed?", "body": "<p>I'm trying to install Python-Twitch for Python 3.4.  I have both 3.4 and 3.5 installed on my computer, and in command prompt I do this: </p>\n\n<pre><code>python --version\n</code></pre>\n\n<p>Where it gives me Python 3.5.x.  Then: </p>\n\n<pre><code>set PATH=C:\\Python34\\;%PATH%\n</code></pre>\n\n<p>And python --version will then read Python 3.4.x.  </p>\n\n<p>Once I do 'pip install python-twitch', it installs it to the Python 3.5 Lib/Site-Packages folder.  How would I get this over to 3.4? </p>\n\n<p>Thanks so much for any help. </p>\n"}, {"tags": ["javascript", "python", "oop", "ecmascript-6"], "answers": [{"comments": [{"owner": {"reputation": 1619, "user_id": 765103, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a0c3093efd032ef79cd7cf9b59270588?s=128&d=identicon&r=PG", "display_name": "galarant", "link": "https://stackoverflow.com/users/765103/galarant"}, "edited": false, "score": 3, "creation_date": 1457566568, "post_id": 35904808, "comment_id": 59469968, "body": "Thanks for the quick and simple answer! I glanced at these in passing, but didn&#39;t make the connection to the <code>@property</code> decorator."}], "tags": [], "owner": {"reputation": 28753, "user_id": 371184, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cebee1b08fb960edf79a359af330391a?s=128&d=identicon&r=PG", "display_name": "Mike Cluck", "link": "https://stackoverflow.com/users/371184/mike-cluck"}, "is_accepted": true, "score": 14, "last_activity_date": 1457566444, "creation_date": 1457566444, "answer_id": 35904808, "question_id": 35904783, "link": "https://stackoverflow.com/questions/35904783/is-there-an-equivalent-to-python-style-class-properties-in-es6/35904808#35904808", "title": "Is there an equivalent to Python-style class properties in ES6?", "body": "<p>Yup, it's called a <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/get\" rel=\"noreferrer\">getter.</a></p>\n\n<pre><code>class A {\n  my_method() {\n    return \"I am a return value.\";\n  }\n\n  get my_property() {\n    return \"I am also a return value.\";\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 1619, "user_id": 765103, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a0c3093efd032ef79cd7cf9b59270588?s=128&d=identicon&r=PG", "display_name": "galarant", "link": "https://stackoverflow.com/users/765103/galarant"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 975, "favorite_count": 1, "accepted_answer_id": 35904808, "answer_count": 1, "score": 10, "last_activity_date": 1457566444, "creation_date": 1457566350, "question_id": 35904783, "link": "https://stackoverflow.com/questions/35904783/is-there-an-equivalent-to-python-style-class-properties-in-es6", "title": "Is there an equivalent to Python-style class properties in ES6?", "body": "<p>Python classes have this neat feature where you can decorate a class method with the <code>@property</code> decorator, which makes the method appear as a statically-valued member rather than a callable. For example, this:</p>\n\n<pre><code>class A(object):\n\n    def my_method(self):\n        return \"I am a return value.\"\n\n    @property\n    def my_property(self):\n        return \"I am also a return value.\"\n</code></pre>\n\n<p>results in the following behavior:</p>\n\n<pre><code>&gt;&gt;&gt; a = A()\n&gt;&gt;&gt; a.my_method()\n'I am a return value.'\n&gt;&gt;&gt; a.my_property\n'I am also a return value.'\n</code></pre>\n\n<p>So finally, my question: is there any built-in syntax that provides similar behavior in ES6 classes? I'm not an expert on the documentation (yet) but so far I don't see anything that provides this type of functionality.</p>\n"}, {"tags": ["python", "pdfminer"], "answers": [{"tags": [], "owner": {"reputation": 10639, "user_id": 1431750, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5557aad9ff70c36cfac418f511bdea98?s=128&d=identicon&r=PG", "display_name": "aneroid", "link": "https://stackoverflow.com/users/1431750/aneroid"}, "is_accepted": true, "score": 5, "last_activity_date": 1457574550, "creation_date": 1457574550, "answer_id": 35906143, "question_id": 35904738, "link": "https://stackoverflow.com/questions/35904738/pdfminer-importerror-no-module-named-pdfminer-pdfdocument/35906143#35906143", "title": "pdfminer - ImportError: No module named pdfminer.pdfdocument", "body": "<p>Since the package <code>pdfminer</code> is installed to a non-standard/non-default location, Python won't be be able to find it. In order to use it, you will need to add it to your 'pythonpath'. Three ways:</p>\n\n<ol>\n<li><p>At run time, put this in your script <code>pdf2txt.py</code>:</p>\n\n<pre><code>import sys\n# if there are no conflicting packages in the default Python Libs =&gt;\nsys.path.append(\"/usr/home/username/pdfminer\")\n</code></pre>\n\n<p>or</p>\n\n<pre><code>import sys\n# to always use your package lib before the system's =&gt;\nsys.path.insert(1, \"/usr/home/username/pdfminer\")\n</code></pre>\n\n<p><strong>Note:</strong> The install path specified with <code>--home</code> is used as the Lib for all packages which you might want to install, not just this one. You should delete that folder and re-install with <code>--\nhome=/usr/home/username/myPyLibs</code> (or any generic name) so that when you install other packages with that install path, you would only need the one path to add to your local Lib to be able to import them:</p>\n\n<pre><code>import sys\nsys.path.insert(1, \"/usr/home/username/myPyLibs\")\n</code></pre></li>\n<li><p>Add it to PYTHONPATH before executing your script:</p>\n\n<pre><code>export PYTHONPATH=\"${PYTHONPATH}:/usr/home/username/myPyLibs\"\n</code></pre>\n\n<p>And then put that in your <code>~/.bashrc</code> file (<code>/usr/home/username/.bashrc</code>) or <code>.profile</code> as applicable. This may not work for programs which are not executed from the console.</p></li>\n<li><p>Create a <a href=\"http://docs.python-guide.org/en/latest/dev/virtualenvs/\" rel=\"noreferrer\">VirtualEnv and install the packages</a> you need to that.</p></li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 51, "user_id": 7934282, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YoWUk.jpg?s=128&g=1", "display_name": "hup", "link": "https://stackoverflow.com/users/7934282/hup"}, "is_accepted": false, "score": 5, "last_activity_date": 1505088293, "last_edit_date": 1505088293, "creation_date": 1505052858, "answer_id": 46141670, "question_id": 35904738, "link": "https://stackoverflow.com/questions/35904738/pdfminer-importerror-no-module-named-pdfminer-pdfdocument/46141670#46141670", "title": "pdfminer - ImportError: No module named pdfminer.pdfdocument", "body": "<p>I had an error like this:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>No module named 'pdfminer.pdfinterp'; 'pdfminer' is not a package\n</code></pre>\n\n<p>My problem was that I had named my script <code>pdfminer.py</code> which for the reasons that I don't know, Python took it for the original <code>pdfminer</code> package files and tried to compiled it.</p>\n\n<p>I <em>renamed</em> my script to something else, deleted all the <code>*.pyc</code> file and <code>__pycache__</code> directory and my problem was solved. </p>\n"}, {"tags": [], "owner": {"reputation": 19, "user_id": 9911175, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wpxz3.jpg?s=128&g=1", "display_name": "Cory Brickner", "link": "https://stackoverflow.com/users/9911175/cory-brickner"}, "is_accepted": false, "score": 0, "last_activity_date": 1588700350, "creation_date": 1588700350, "answer_id": 61619474, "question_id": 35904738, "link": "https://stackoverflow.com/questions/35904738/pdfminer-importerror-no-module-named-pdfminer-pdfdocument/61619474#61619474", "title": "pdfminer - ImportError: No module named pdfminer.pdfdocument", "body": "<p>I have a virtual environment and I had to activate it before I did a pip3 install to have the venv see it.</p>\n\n<pre><code>source ~/venv/bin/activate\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 105, "user_id": 11686674, "user_type": "registered", "profile_image": "https://graph.facebook.com/2066062866838178/picture?type=large", "display_name": "Mahmoud Magdy", "link": "https://stackoverflow.com/users/11686674/mahmoud-magdy"}, "is_accepted": false, "score": 0, "last_activity_date": 1602534293, "creation_date": 1602534293, "answer_id": 64324894, "question_id": 35904738, "link": "https://stackoverflow.com/questions/35904738/pdfminer-importerror-no-module-named-pdfminer-pdfdocument/64324894#64324894", "title": "pdfminer - ImportError: No module named pdfminer.pdfdocument", "body": "<p>use this command worked for me and removed the error</p>\n<blockquote>\n<pre><code>pip install pdfminer.six\n</code></pre>\n</blockquote>\n"}], "owner": {"reputation": 73, "user_id": 6041999, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c83bb076d4694cfe058358413bf3461f?s=128&d=identicon&r=PG&f=1", "display_name": "KLL", "link": "https://stackoverflow.com/users/6041999/kll"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 29210, "favorite_count": 3, "accepted_answer_id": 35906143, "answer_count": 4, "score": 7, "last_activity_date": 1613666903, "creation_date": 1457566165, "question_id": 35904738, "link": "https://stackoverflow.com/questions/35904738/pdfminer-importerror-no-module-named-pdfminer-pdfdocument", "title": "pdfminer - ImportError: No module named pdfminer.pdfdocument", "body": "<p>I am trying to install pdfMiner to work with CollectiveAccess. My host (pair.com) has given me the following information to help in this quest: </p>\n\n<blockquote>\n  <p>When compiling, it will likely be necessary to instruct the<br>\n  installation to use your account space above, and not try to install<br>\n  into the operating system directories. Typically, using \"--<br>\n  home=/usr/home/username/pdfminer\" at the end of the install    command\n  should allow for that.</p>\n</blockquote>\n\n<p>I followed this instruction when trying to install. \nThe result was: </p>\n\n<pre><code>running install\nrunning build\nrunning build_py\nrunning build_scripts\nrunning install_lib\nrunning install_scripts\nchanging mode of /usr/home/username/pdfminer/bin/latin2ascii.py to 755\nchanging mode of /usr/home/username/pdfminer/bin/pdf2txt.py to 755\nchanging mode of /usr/home/username/pdfminer/bin/dumppdf.py to 755\nrunning install_egg_info\nRemoving /usr/home/username/pdfminer/lib/python/pdfminer-20140328.egg-info\nWriting /usr/home/username/pdfminer/lib/python/pdfminer-20140328.egg-info\n</code></pre>\n\n<p>I don't see anything wrong with that (I'm very new to python), but when I try to run the sample command <code>$ pdf2txt.py samples/simple1.pdf</code> I get this error:</p>\n\n<pre><code>Traceback (most recent call last):   File \"pdf2txt.py\", line 3, in &lt;module&gt;\n    from pdfminer.pdfdocument import PDFDocument ImportError: No module named pdfminer.pdfdocument\n</code></pre>\n\n<p>I'm running python 2.7.3. I can't install from root (shared hosting). The most recent version of pdfminer, which is 2014/03/28.\nI've seen some posts on similar issues (\"no module named. . . \" but nothing exactly the same. The proposed solutions either don't help (such as installing with sudo - not an option; specifying the path for python (which doesn't seem to be the issue), etc.). </p>\n\n<p>Or is this a question for my host? (i.e., something amiss or different about their setup)</p>\n"}, {"tags": ["python", "django", "development-environment", "django-manage.py"], "comments": [{"owner": {"reputation": 241, "user_id": 2148500, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/d0d9b512f56b9a8e5d1bfc948fc43418?s=128&d=identicon&r=PG", "display_name": "Tanuj", "link": "https://stackoverflow.com/users/2148500/tanuj"}, "edited": false, "score": 0, "creation_date": 1457566194, "post_id": 35904653, "comment_id": 59469806, "body": "which version of Django are you using ? can u check if in your django version u need two wsgi files one for production and one for development. like wsgi.py and wsgi_prod.py"}, {"owner": {"reputation": 1233, "user_id": 1499512, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a0bf0f7ff2f574ccbc49c1120ff7a660?s=128&d=identicon&r=PG", "display_name": "Gustavo Reyes", "link": "https://stackoverflow.com/users/1499512/gustavo-reyes"}, "reply_to_user": {"reputation": 241, "user_id": 2148500, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/d0d9b512f56b9a8e5d1bfc948fc43418?s=128&d=identicon&r=PG", "display_name": "Tanuj", "link": "https://stackoverflow.com/users/2148500/tanuj"}, "edited": false, "score": 0, "creation_date": 1457566447, "post_id": 35904653, "comment_id": 59469915, "body": "I&#39;m using Django version 1.9.4"}, {"owner": {"reputation": 3063, "user_id": 4964373, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/d7HSZ.png?s=128&g=1", "display_name": "Usman Maqbool", "link": "https://stackoverflow.com/users/4964373/usman-maqbool"}, "edited": false, "score": 0, "creation_date": 1457594246, "post_id": 35904653, "comment_id": 59479050, "body": "Are you using <code>python manage.py runserver</code> command or else ?"}, {"owner": {"reputation": 1233, "user_id": 1499512, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a0bf0f7ff2f574ccbc49c1120ff7a660?s=128&d=identicon&r=PG", "display_name": "Gustavo Reyes", "link": "https://stackoverflow.com/users/1499512/gustavo-reyes"}, "edited": false, "score": 0, "creation_date": 1457626047, "post_id": 35904653, "comment_id": 59501378, "body": "Yes I&#39;m using <code>python manage.py runserver</code>"}, {"owner": {"reputation": 10747, "user_id": 214892, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/2603d923d608942666a9c8e0d9b48ae3?s=128&d=identicon&r=PG", "display_name": "Jason", "link": "https://stackoverflow.com/users/214892/jason"}, "edited": false, "score": 0, "creation_date": 1457643395, "post_id": 35904653, "comment_id": 59512644, "body": "are you executing <code>python manage.py runserver</code> in the same folder as the <code>manage.py</code> file?"}, {"owner": {"reputation": 1233, "user_id": 1499512, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a0bf0f7ff2f574ccbc49c1120ff7a660?s=128&d=identicon&r=PG", "display_name": "Gustavo Reyes", "link": "https://stackoverflow.com/users/1499512/gustavo-reyes"}, "reply_to_user": {"reputation": 10747, "user_id": 214892, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/2603d923d608942666a9c8e0d9b48ae3?s=128&d=identicon&r=PG", "display_name": "Jason", "link": "https://stackoverflow.com/users/214892/jason"}, "edited": false, "score": 0, "creation_date": 1457673410, "post_id": 35904653, "comment_id": 59522690, "body": "@Jason yes I&#39;m on the same folder"}, {"owner": {"reputation": 4633, "user_id": 1426906, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f22228bf1ee45283d539c68cf652590e?s=128&d=identicon&r=PG&f=1", "display_name": "sergiuz", "link": "https://stackoverflow.com/users/1426906/sergiuz"}, "edited": false, "score": 0, "creation_date": 1460968515, "post_id": 35904653, "comment_id": 60966576, "body": "same problem here when using django 1.9.4. Did you solved it @GustavoReyes ?"}], "owner": {"reputation": 1233, "user_id": 1499512, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a0bf0f7ff2f574ccbc49c1120ff7a660?s=128&d=identicon&r=PG", "display_name": "Gustavo Reyes", "link": "https://stackoverflow.com/users/1499512/gustavo-reyes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 687, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1457723795, "creation_date": 1457565641, "last_edit_date": 1457723795, "question_id": 35904653, "link": "https://stackoverflow.com/questions/35904653/strange-error-django-1-9-runserver-command-not-working-in-one-of-my-virtualenv", "title": "Strange error Django 1.9 &quot;runserver&quot; command not working in one of my virtualenvs", "body": "<p>I started having problems recently with one of my apps. It started after running command \"runserver\" a few times but now It doesn't start at all.</p>\n\n<p><strong>wsgi.py</strong></p>\n\n<pre><code>\"\"\"\nWSGI config for iesc project.\n\nIt exposes the WSGI callable as a module-level variable named ``application``.\n\nFor more information on this file, see\nhttps://docs.djangoproject.com/en/1.8/howto/deployment/wsgi/\n\"\"\"\n\nimport os\n\nfrom django.core.wsgi import get_wsgi_application\n\nos.environ.setdefault(\"DJANGO_SETTINGS_MODULE\", \"SIAV.settings\")\n\napplication = get_wsgi_application()\n</code></pre>\n\n<p><strong>manage.py</strong></p>\n\n<pre><code>#!/usr/bin/env python\nimport os\nimport sys\n\nif __name__ == \"__main__\":\n    os.environ.setdefault(\"DJANGO_SETTINGS_MODULE\", \"SIAV.settings\")\n\n    from django.core.management import execute_from_command_line\n\n    execute_from_command_line(sys.argv)\n</code></pre>\n\n<p><strong>settings.py</strong></p>\n\n<pre><code># Django settings for SIAV project.\n\nimport os\nimport django \n\n\nfrom datetime import timedelta\n\nBASE_DIR = os.path.dirname(os.path.dirname(os.path.abspath(__file__)))\nSETTINGS_PATH = os.path.dirname(os.path.dirname(__file__))\n\nCRISPY_TEMPLATE_PACK = 'bootstrap3'\n\n#def show_toolbar(request):\n#    return True\n#SHOW_TOOLBAR_CALLBACK = show_toolbar\n\n#INTERNAL_IPS = ('127.0.0.1',)\n#DEBUG_TOOLBAR_PATCH_SETTINGS = False\n\nALLOWED_HOSTS = ['*']\nDEBUG = True\n\nTHUMBNAIL_DEBUG = True \nTHUMBNAIL_PREFIX ='cache/'\n\nDEFAULT_CHARSET = 'utf-8' \nFILE_CHARSET = 'utf-8' \n\ninclude_resource_uri = False\n\nADMINS = (\n    ('Gustavo', 'gustavo@alluxi.mx'),\n)\n\nfile_path = ('/var/www/ghost/content/data/ghost.db')\nif not os.path.exists(file_path):\n    file_path = 'ghost.db'\n\nMANAGERS = ADMINS\n\nDATABASES = {\n    'default': {\n         #'ENGINE': 'django.db.backends.postgresql_psycopg2',  # Add 'postgresql_psycopg2', 'mysql', 'sqlite3' or 'oracle'.\n        'ENGINE': 'django.db.backends.mysql',\n        #'ENGINE': 'tenant_schemas.postgresql_backend',\n        'NAME': 'siavdb',                      # Or path to database file if using sqlite3.\n        'USER': 'user',                      # Not used with sqlite3.\n        'PASSWORD': 'XXX',                  # Not used with sqlite3.\n        'HOST': '',                      # Set to empty string for localhost. Not used with sqlite3.\n        'PORT': '',\n        'OPTIONS': {\n            'init_command': 'SET sql_mode = \"\"',\n        },\n        },\n     'sqlite': {\n        'NAME': file_path,\n        'ENGINE': 'django.db.backends.sqlite3',\n        'USER': '',\n        'PASSWORD': ''\n    }   \n}\n\n'''\nDATABASE_ROUTERS = (\n    'tenant_schemas.routers.TenantSyncRouter',\n)\n'''\n\nLANGUAGE_SESSION_KEY = 'es'\n\nROOT_URLCONF = '/'\n\n# URL of the login page.\nLOGIN_URL = '/accounts/login/'\n\n# URL of the logout page.\nLOGOUT_URL = '/logout/'\n\n# URL to redirect after login\nLOGIN_REDIRECT_URL = '/SIAV/captura/'\n\n\n# Local time zone for this installation. Choices can be found here:\n# http://en.wikipedia.org/wiki/List_of_tz_zones_by_name\n# although not all choices may be available on all operating systems.\n# In a Windows environment this must be set to your system time zone.\nTIME_ZONE = 'America/Monterrey'\n\n# Language code for this installation. All choices can be found here:\n# http://www.i18nguy.com/unicode/language-identifiers.html\nLANGUAGE_CODE = 'es'\n\ngettext = lambda x: x\n\nLANGUAGES = (\n    ('es', gettext('Spanish')),\n)\n\nSITE_ID = 1\n\n# If you set this to False, Django will make some optimizations so as not\n# to load the internationalization machinery.\nUSE_I18N = True\n\nUSE_THOUSAND_SEPARATOR = False\n\n# If you set this to False, Django will not format dates, numbers and\n# calendars according to the current locale.\nUSE_L10N = False\n\n# If you set this to False, Django will not use timezone-aware datetimes.\nUSE_TZ = True\n\n# Absolute filesystem path to the directory that will hold user-uploaded files.\n# Example: \"/home/media/media.lawrence.com/media/\"\n\nMEDIA_URL = '/media/'\n\nMEDIA_ROOT = os.path.join(BASE_DIR, 'media')\n\n# Absolute path to the directory static files should be collected to.\n# Don't put anything in this directory yourself; store your static files\n# in apps' \"static/\" subdirectories and in STATICFILES_DIRS.\n# Example: \"/home/media/media.lawrence.com/static/\"\n#STATIC_ROOT = 'C:/inetpub/wwwroot/static/'\nSTATIC_ROOT = \"/Users/gustavo/SIAV/app/static_prod\"\n# URL prefix for static files.\n# Example: \"http://media.lawrence.com/static/\"\n#STATIC_URL = 'http://alluxi:8000/'\n#STATIC_URL = 'http://localhost:100/'\n# Url para desarrollo\nSTATIC_URL = '/static/'\n\n# Additional locations of static files\nSTATICFILES_DIRS = (\n    # Put strings here, like \"/home/html/static\" or \"C:/www/django/static\".\n    # Always use forward slashes, even on Windows.\n    # Don't forget to use absolute paths, not relative paths.\n    #'C:/inetpub/wwwroot/app/static'\n)\n\n# List of finder classes that know how to find static files in\n# various locations.\nSTATICFILES_FINDERS = (\n    'django.contrib.staticfiles.finders.FileSystemFinder',\n    'django.contrib.staticfiles.finders.AppDirectoriesFinder',\n    #'dajaxice.finders.DajaxiceFinder',\n    #'django.contrib.staticfiles.finders.DefaultStorageFinder',\n)\n\n# Make this unique, and don't share it with anybody.\nSECRET_KEY = ''\n\nMIDDLEWARE_CLASSES = (\n    'django_hosts.middleware.HostsRequestMiddleware',\n    'django.middleware.common.CommonMiddleware',\n    'django.contrib.sessions.middleware.SessionMiddleware',\n    'django.middleware.csrf.CsrfViewMiddleware',\n    'django.contrib.auth.middleware.AuthenticationMiddleware',\n    'django.contrib.messages.middleware.MessageMiddleware',\n    'django.middleware.locale.LocaleMiddleware',\n    'django_hosts.middleware.HostsResponseMiddleware'\n    #'tenant_schemas.middleware.TenantMiddleware',\n    #'debug_toolbar.middleware.DebugToolbarMiddleware',\n    #'django_pdb.middleware.PdbMiddleware',\n    # Uncomment the next line for simple clickjacking protection:\n    # 'django.middleware.clickjacking.XFrameOptionsMiddleware',\n)\n\nROOT_URLCONF = 'SIAV.urls'\n\n\nTEMPLATES = [\n    {\n        'BACKEND': 'django.template.backends.django.DjangoTemplates',\n        'DIRS': [os.path.join(SETTINGS_PATH, 'templates'),],\n        'APP_DIRS': True,\n        'OPTIONS': {\n            'context_processors': [\n                'django.contrib.auth.context_processors.auth',\n                'django.core.context_processors.debug',\n                'django.core.context_processors.i18n',\n                'django.core.context_processors.media',\n                'django.core.context_processors.static',\n                'django.core.context_processors.request',\n                'django.contrib.messages.context_processors.messages',\n                'app.views.processors.get_all_users', \n                'app.views.processors.get_chat_messages', \n                'app.views.processors.cantidades_en_proceso', \n            ],\n        },\n    },\n]\n\nROOT_HOSTCONF = 'hosts'\n\nDEFAULT_HOST = 'website'\n\n\n# Python dotted path to the WSGI application used by Django's runserver.\nWSGI_APPLICATION = 'SIAV.wsgi.application'\n\n\nINSTALLED_APPS = (\n    # The Django sites framework is required\n    'django.contrib.admin',\n    'django.contrib.sites',\n    'django.contrib.contenttypes',\n    'django.contrib.auth',\n    'django.contrib.sessions',\n    'django.contrib.messages',\n    'django.contrib.staticfiles',\n    'django.contrib.humanize',\n    'allauth',\n    'allauth.account',\n    'allauth.socialaccount',\n    'sorl.thumbnail',\n    'tastypie',\n    'dal',\n    'dal_select2',\n    'endless_pagination',\n    'bootstrap3',\n    'app',\n    'contabilidad',\n    'calendario',\n    'websock',\n    'crispy_forms',\n    # Uncomment the next line to enable admin documentation:\n    # 'django.contrib.admindocs',\n)\n\nAUTHENTICATION_BACKENDS = (\n    'django.contrib.auth.backends.ModelBackend',\n    # `allauth` specific authentication methods, such as login by e-mail\n    'allauth.account.auth_backends.AuthenticationBackend',\n)\n\nSITE_ID = 1\n</code></pre>\n\n<p>Here's the traceback:</p>\n\n<pre><code>(SIAV)MacBook-Pro-de-Gustavo:SIAV gustavo$ python manage.py runserver\nPerforming system checks...\n\nsh: /Users/gustavo/.virtualenvs/SIAV/bin/scriptspip.exe: No such file or directory\n/Users/gustavo/.virtualenvs/SIAV/bin/python: can't open file 'manage.py': [Errno 2] No such file or directory\n/Users/gustavo/.virtualenvs/SIAV/bin/python: can't open file 'manage.py': [Errno 2] No such file or directory\nSystem check identified no issues (0 silenced).\nMarch 09, 2016 - 17:12:52\nDjango version 1.9.4, using settings 'SIAV.settings'\nStarting development server at http://127.0.0.1:8000/\nQuit the server with CONTROL-C.\nTraceback (most recent call last):\n  File \"manage.py\", line 10, in &lt;module&gt;\n    execute_from_command_line(sys.argv)\n  File \"/Users/gustavo/.virtualenvs/SIAV/lib/python2.7/site-packages/django/core/management/__init__.py\", line 353, in execute_from_command_line\n    utility.execute()\n  File \"/Users/gustavo/.virtualenvs/SIAV/lib/python2.7/site-packages/django/core/management/__init__.py\", line 345, in execute\n    self.fetch_command(subcommand).run_from_argv(self.argv)\n  File \"/Users/gustavo/.virtualenvs/SIAV/lib/python2.7/site-packages/django/core/management/base.py\", line 348, in run_from_argv\n    self.execute(*args, **cmd_options)\n  File \"/Users/gustavo/.virtualenvs/SIAV/lib/python2.7/site-packages/django/core/management/commands/runserver.py\", line 54, in execute\n    super(Command, self).execute(*args, **options)\n  File \"/Users/gustavo/.virtualenvs/SIAV/lib/python2.7/site-packages/django/core/management/base.py\", line 399, in execute\n    output = self.handle(*args, **options)\n  File \"/Users/gustavo/.virtualenvs/SIAV/lib/python2.7/site-packages/django/core/management/commands/runserver.py\", line 93, in handle\n    self.run(**options)\n  File \"/Users/gustavo/.virtualenvs/SIAV/lib/python2.7/site-packages/django/core/management/commands/runserver.py\", line 102, in run\n    autoreload.main(self.inner_run, None, options)\n  File \"/Users/gustavo/.virtualenvs/SIAV/lib/python2.7/site-packages/django/utils/autoreload.py\", line 333, in main\n    reloader(wrapped_main_func, args, kwargs)\n  File \"/Users/gustavo/.virtualenvs/SIAV/lib/python2.7/site-packages/django/utils/autoreload.py\", line 299, in python_reloader\n    reloader_thread()\n  File \"/Users/gustavo/.virtualenvs/SIAV/lib/python2.7/site-packages/django/utils/autoreload.py\", line 275, in reloader_thread\n    change = fn()\n  File \"/Users/gustavo/.virtualenvs/SIAV/lib/python2.7/site-packages/django/utils/autoreload.py\", line 205, in code_changed\n    stat = os.stat(filename)\nOSError: [Errno 2] No such file or directory: 'manage.py'\n(SIAV)MacBook-Pro-de-Gustavo:SIAV gustavo$ \n</code></pre>\n\n<p><strong>Which python</strong></p>\n\n<pre><code>(SIAV)MacBook-Pro-de-Gustavo:SIAV gustavo$ which python\n/Users/gustavo/.virtualenvs/SIAV/bin/python\n</code></pre>\n\n<p>I have not idea what could be wrong.</p>\n\n<p><strong>Edit:</strong></p>\n\n<p>I've already tried:</p>\n\n<ul>\n<li>Recreating manage.py file from scratch.</li>\n<li>Reinstalling django with pip.</li>\n<li>Recreating the virtualenv.</li>\n</ul>\n\n<p>The error disappears when removing this line :</p>\n\n<pre><code>url(r'^admin/', include(admin.site.urls)),\n</code></pre>\n\n<p>From my <em>urls.py</em> , however this is not a solution since a require to use the admin on my app.</p>\n\n<p><strong>Edit</strong></p>\n\n<p>This behavior seems to happen only when using django 1.9 , django 1.8 works flawlessly. I assume the error could be related to a failing third party app.</p>\n"}, {"tags": ["python", "sql", "sqlite", "peewee"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1457567719, "post_id": 35904647, "comment_id": 59470368, "body": "See <a href=\"http://stackoverflow.com/questions/21633115/return-row-only-if-value-doesnt-exist?lq=1\">here</a> for the way to do what you want with a <code>LEFT JOIN</code>, and then convert that to PeeWee."}], "answers": [{"comments": [{"owner": {"reputation": 1379, "user_id": 361867, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/fa16d120100de0dc1aa6612fe203e896?s=128&d=identicon&r=PG", "display_name": "Samizdis", "link": "https://stackoverflow.com/users/361867/samizdis"}, "edited": false, "score": 0, "creation_date": 1457648273, "post_id": 35927141, "comment_id": 59515464, "body": "Thanks, that works. Could you explain the difference between your <code>~fn.EXISTS(...)</code> and my <code>(...).exists()</code>?"}, {"owner": {"reputation": 19577, "user_id": 254346, "user_type": "registered", "accept_rate": 23, "profile_image": "https://www.gravatar.com/avatar/ebd1c4256c1ece3469d2ccf3031cb6c5?s=128&d=identicon&r=PG", "display_name": "coleifer", "link": "https://stackoverflow.com/users/254346/coleifer"}, "reply_to_user": {"reputation": 1379, "user_id": 361867, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/fa16d120100de0dc1aa6612fe203e896?s=128&d=identicon&r=PG", "display_name": "Samizdis", "link": "https://stackoverflow.com/users/361867/samizdis"}, "edited": false, "score": 1, "creation_date": 1457748439, "post_id": 35927141, "comment_id": 59561985, "body": ".exists() evaluates the query and returns a boolean. fn.exists creates an EXISTS subquery."}], "tags": [], "owner": {"reputation": 19577, "user_id": 254346, "user_type": "registered", "accept_rate": 23, "profile_image": "https://www.gravatar.com/avatar/ebd1c4256c1ece3469d2ccf3031cb6c5?s=128&d=identicon&r=PG", "display_name": "coleifer", "link": "https://stackoverflow.com/users/254346/coleifer"}, "is_accepted": true, "score": 3, "last_activity_date": 1457643508, "creation_date": 1457643508, "answer_id": 35927141, "question_id": 35904647, "link": "https://stackoverflow.com/questions/35904647/peewee-sql-query-join-where-none-of-many-match/35927141#35927141", "title": "Peewee SQL query join where none of many match", "body": "<p>Do not use manecosta's solution, it is inefficient.</p>\n\n<p>Here is how to do a NOT EXISTS with a subquery:</p>\n\n<pre><code>(Post\n .select()\n .where(~fn.EXISTS(\n      Tag.select().where(\n          (Tag.post == Post.id) &amp; (Tag.name == 'BadTag'))))\n</code></pre>\n\n<p>You can also do a join:</p>\n\n<pre><code>(Post\n .select(Post, fn.COUNT(Tag.id))\n .join(Tag, JOIN.LEFT_OUTER)\n .where(Tag.name == 'BadTag')\n .group_by(Post)\n .having(fn.COUNT(Tag.id) == 0))\n</code></pre>\n"}], "owner": {"reputation": 1379, "user_id": 361867, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/fa16d120100de0dc1aa6612fe203e896?s=128&d=identicon&r=PG", "display_name": "Samizdis", "link": "https://stackoverflow.com/users/361867/samizdis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 558, "favorite_count": 0, "accepted_answer_id": 35927141, "answer_count": 1, "score": 1, "last_activity_date": 1457643508, "creation_date": 1457565632, "last_edit_date": 1457577889, "question_id": 35904647, "link": "https://stackoverflow.com/questions/35904647/peewee-sql-query-join-where-none-of-many-match", "title": "Peewee SQL query join where none of many match", "body": "<p>The following SQL finds all posts which haven't any associated tags named 'BadTag'.</p>\n\n<pre><code>select * from post t1\nwhere not exists\n(select 1 from tag t2\n   where t1.id == t2.post_id and t2.name=='BadTag');\n</code></pre>\n\n<p>How can I write this functionality in Peewee ORM? If I write something along the lines of</p>\n\n<pre><code>Post.select().where(\n    ~Tag.select()\n    .where(Post.id == Tag.post &amp; Tag.name=='BadTag')\n    .exists()\n)\n</code></pre>\n\n<p>it gets compiled to</p>\n\n<pre><code>SELECT \"t1\".\"id\", ... FROM \"post\" AS t1 WHERE ? [-1]\n</code></pre>\n\n<p>Something like</p>\n\n<pre><code>Post.select().join(Tag).where(Tag.name!='BadTag')\n</code></pre>\n\n<p>doesn't work since a Post can have many Tags.</p>\n\n<p>I'm new to SQL/Peewee so if this is a bad way to go about things I'd welcome pointers.</p>\n"}, {"tags": ["python", "datetime", "time", "sqlite"], "answers": [{"tags": [], "owner": {"reputation": 3151, "user_id": 5865420, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AF0Nt.jpg?s=128&g=1", "display_name": "pp_", "link": "https://stackoverflow.com/users/5865420/pp"}, "is_accepted": true, "score": 2, "last_activity_date": 1457566285, "last_edit_date": 1457566285, "creation_date": 1457565860, "answer_id": 35904692, "question_id": 35904642, "link": "https://stackoverflow.com/questions/35904642/python-datetime-and-sqlite/35904692#35904692", "title": "python Datetime and SQLite", "body": "<p>Convert your time to string:</p>\n\n<pre><code>str(time)\n</code></pre>\n\n<p>SQLite does not have a datatype for storing dates and/or times, so using <code>TEXT</code> like you did is the best option in your case. You want to make sure what you pass is a string, however.</p>\n"}, {"tags": [], "owner": {"reputation": 10425, "user_id": 2142055, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fGuXb.png?s=128&g=1", "display_name": "Stop harming Monica", "link": "https://stackoverflow.com/users/2142055/stop-harming-monica"}, "is_accepted": false, "score": 3, "last_activity_date": 1457566121, "creation_date": 1457566121, "answer_id": 35904731, "question_id": 35904642, "link": "https://stackoverflow.com/questions/35904642/python-datetime-and-sqlite/35904731#35904731", "title": "python Datetime and SQLite", "body": "<p>SQLite doesn't have DATE or TIME data types. It has some functions that can manipulate dates and times as TEXT (ISO8601 strings), REAL (Julian days) or INTEGER (Unix timestamps) values. So you have to use <code>str</code>, <code>float</code>, <code>int</code> or compatible python values.</p>\n\n<p><a href=\"https://www.sqlite.org/datatype3.html\" rel=\"nofollow\">https://www.sqlite.org/datatype3.html</a></p>\n\n<p>To store time values as strings use HH:MM or HH:MM:SS or HH:MM:SS.SSS</p>\n"}], "owner": {"reputation": 93, "user_id": 2380332, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/42ba1e8a2196ddf0d5bc7e408837963d?s=128&d=identicon&r=PG", "display_name": "jason", "link": "https://stackoverflow.com/users/2380332/jason"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3316, "favorite_count": 0, "accepted_answer_id": 35904692, "answer_count": 2, "score": 1, "last_activity_date": 1457566285, "creation_date": 1457565611, "question_id": 35904642, "link": "https://stackoverflow.com/questions/35904642/python-datetime-and-sqlite", "title": "python Datetime and SQLite", "body": "<p>I'd like to enter the current time into my sql table using sqlite3 and python. This code results in an error.</p>\n\n<pre><code>cur.execute('''\nCREATE TABLE IF NOT EXISTS Finance (date DATE, time TEXT, cost FLOAT, item TEXT, cat TEXT)''')\n\ntime = datetime.datetime.now().time()\n\ncur.execute('''INSERT INTO Finance (date, time, cost, item, cat) VALUES ( ?, ?, ?, ?, ? )''', ( date, time, cost, item, cat ) )\n</code></pre>\n\n<p>This is the error:</p>\n\n<pre><code>ur.execute('''INSERT INTO Finance (date, time, cost, item, cat) VALUES ( ?, ?, ?, ?, ? )''', ( date, time, cost, item, cat ) )\nsqlite3.InterfaceError: Error binding parameter 1 - probably unsupported type.\n</code></pre>\n\n<p>However if I use this format for time,</p>\n\n<pre><code>time = datetime.datetime.now.ctime()\n</code></pre>\n\n<p>I can input the data with \"Wed Mar  9 15:18:37 2016\" format. </p>\n\n<p>I just want the time, not the date and time. What datatype should I use?\nThanks</p>\n"}, {"tags": ["python", "arrays", "graph"], "answers": [{"tags": [], "owner": {"reputation": 454, "user_id": 5296404, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gZhYdlJ_FnU/AAAAAAAAAAI/AAAAAAAAAT4/tOoNKZVX2GM/photo.jpg?sz=128", "display_name": "Pierre Cordier", "link": "https://stackoverflow.com/users/5296404/pierre-cordier"}, "is_accepted": true, "score": 0, "last_activity_date": 1457566989, "last_edit_date": 1495541268, "creation_date": 1457566989, "answer_id": 35904910, "question_id": 35904603, "link": "https://stackoverflow.com/questions/35904603/how-to-colour-maximum-and-minimum-of-each-bar-in-bar-graph-in-python/35904910#35904910", "title": "How to colour maximum and minimum of each bar in bar graph in python?", "body": "<p>I would advise to get ids of max and min (<a href=\"https://stackoverflow.com/questions/2474015/getting-the-index-of-the-returned-max-or-min-item-using-max-min-on-a-list\">How to get min and max ids of a list</a>).</p>\n\n<pre><code>minId = volumes.index(min(volumes))\nmaxId = volumes.index(max(volumes))\n</code></pre>\n\n<p>Then you can fill a vector with your default color using list comprehension.</p>\n\n<pre><code>myColourList = [\"blue\" for i in range(len(volumes))]\n</code></pre>\n\n<p>And modify it thanks to your indexes;</p>\n\n<pre><code>myColourList[minId] = \"red\"\nmyColourList[maxId] = \"green\"\n</code></pre>\n\n<p>Finally in your loop, you can replace the line:</p>\n\n<pre><code>addRectFilled(pict, x+100, (h-(maxLength/10))-volumes[n], 30, volumes[n], blue)\n</code></pre>\n\n<p>By:</p>\n\n<pre><code>addRectFilled(pict, x+100, (h-(maxLength/10))-volumes[n], 30, volumes[n], myColourList[n])\n</code></pre>\n"}], "owner": {"reputation": 19, "user_id": 3445104, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/d5fefbf6ccb9d275e8913d045ddeb0bd?s=128&d=identicon&r=PG&f=1", "display_name": "user3445104", "link": "https://stackoverflow.com/users/3445104/user3445104"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "accepted_answer_id": 35904910, "answer_count": 1, "score": 1, "last_activity_date": 1512845007, "creation_date": 1457565449, "last_edit_date": 1512845007, "question_id": 35904603, "link": "https://stackoverflow.com/questions/35904603/how-to-colour-maximum-and-minimum-of-each-bar-in-bar-graph-in-python", "title": "How to colour maximum and minimum of each bar in bar graph in python?", "body": "<p>I am trying write a function that will draw the bar graph when given the array of each length of the bar. When I run the function with given array, it will draw the bar graph and all of the bars are coloured with blue colour. I have finished that part and \nbelow is the code for that part.\nThe problem I am having is that I am stuck with figuring out a way to colour differently to maximum and minimum bar in that graph.</p>\n\n<pre><code>def drawgraph2(volumes):\n   maxLength = maxValue2(volumes)\n   pict = makeEmptyPicture(700,(700/4)*3)\n   w = getWidth(pict)\n   h = getHeight(pict)\n   grey = makeColor(220,220,220)\n\n   x = 10\n   for n in range (0, len(volumes)):\n     addRectFilled(pict, x+100, (h-(maxLength/10))-volumes[n], 30, volumes[n], blue)\n     x = x+50\n   repaint(pict)\n\ndef maxValue2(trainsList):\n  max = trainsList[0]\n  for n in range(1, len(trainsList)):\n    if trainsList[n]&gt;max:\n       max = trainsList[n]\n    return max\n</code></pre>\n"}, {"tags": ["python"], "answers": [{"comments": [{"owner": {"reputation": 38371, "user_id": 3555845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e06f616d9a53b1ca18287d1049a28ee?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/3555845/daniel"}, "edited": false, "score": 2, "creation_date": 1457565874, "post_id": 35904598, "comment_id": 59469684, "body": "the last one is the preferred one."}, {"owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "reply_to_user": {"reputation": 38371, "user_id": 3555845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e06f616d9a53b1ca18287d1049a28ee?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/3555845/daniel"}, "edited": false, "score": 0, "creation_date": 1457566544, "post_id": 35904598, "comment_id": 59469959, "body": "@Daniel agreed, removed other options to avoid confusion. Thanks."}], "tags": [], "owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "is_accepted": true, "score": 8, "last_activity_date": 1457566531, "last_edit_date": 1457566531, "creation_date": 1457565435, "answer_id": 35904598, "question_id": 35904584, "link": "https://stackoverflow.com/questions/35904584/python-strip-unexpected-behavior/35904598#35904598", "title": "Python strip unexpected behavior", "body": "<p><em><code>strip()</code> would strip all the characters provided in the argument</em> - in your case <code>.</code>, <code>m</code> and <code>d</code>.</p>\n\n<p>Instead, you can use <a href=\"https://docs.python.org/2/library/os.path.html#os.path.splitext\"><code>os.path.splitext()</code></a>:</p>\n\n<pre><code>import os\nos.path.splitext(\"Getting-StarteX.md\")[0]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 23487, "user_id": 660921, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/3d53595cb2a89131fb3be7b55b3a9ef0?s=128&d=identicon&r=PG", "display_name": "Martin Tournoij", "link": "https://stackoverflow.com/users/660921/martin-tournoij"}, "edited": false, "score": 0, "creation_date": 1457575524, "post_id": 35905515, "comment_id": 59472757, "body": "<code>.split(&#39;.md&#39;)</code>? Are you sure? Also, what if my file is named <code>this.is.a.markdown.file.md</code>?"}, {"owner": {"reputation": 649, "user_id": 6030550, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/S1qWX.png?s=128&g=1", "display_name": "Yunhe", "link": "https://stackoverflow.com/users/6030550/yunhe"}, "reply_to_user": {"reputation": 23487, "user_id": 660921, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/3d53595cb2a89131fb3be7b55b3a9ef0?s=128&d=identicon&r=PG", "display_name": "Martin Tournoij", "link": "https://stackoverflow.com/users/660921/martin-tournoij"}, "edited": false, "score": 0, "creation_date": 1457576152, "post_id": 35905515, "comment_id": 59472947, "body": "@Carpetsmoker, you are right.  There have to be an assumption that there is only one &quot;.md&quot; at the end of the testing string."}, {"owner": {"reputation": 23487, "user_id": 660921, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/3d53595cb2a89131fb3be7b55b3a9ef0?s=128&d=identicon&r=PG", "display_name": "Martin Tournoij", "link": "https://stackoverflow.com/users/660921/martin-tournoij"}, "edited": false, "score": 0, "creation_date": 1457576257, "post_id": 35905515, "comment_id": 59472971, "body": "Why not <code>&#39;.&#39;.join(&quot;Get.ting-Sta.rted.md&quot;.split(&#39;.&#39;)[:-1])</code> ;-)"}, {"owner": {"reputation": 23487, "user_id": 660921, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/3d53595cb2a89131fb3be7b55b3a9ef0?s=128&d=identicon&r=PG", "display_name": "Martin Tournoij", "link": "https://stackoverflow.com/users/660921/martin-tournoij"}, "edited": false, "score": 0, "creation_date": 1457576389, "post_id": 35905515, "comment_id": 59473008, "body": "Sooner or later someone <i>will</i> use a <code>.</code> in a filename and will confuse you because it&#39;ll say &quot;file not found&quot; even though the file <i>is right there</i>! ;-) Bugs are even less elegant!"}, {"owner": {"reputation": 50175, "user_id": 1307905, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a38a4f5f180194ac457cdc057f1be6e3?s=128&d=identicon&r=PG", "display_name": "Anthon", "link": "https://stackoverflow.com/users/1307905/anthon"}, "edited": false, "score": 0, "creation_date": 1534346003, "post_id": 35905515, "comment_id": 90675178, "body": "If you want to go this route (IMO you should not), you should be using <code>.rsplit(&#39;.md&#39;, 1)[0]</code>"}], "tags": [], "owner": {"reputation": 649, "user_id": 6030550, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/S1qWX.png?s=128&g=1", "display_name": "Yunhe", "link": "https://stackoverflow.com/users/6030550/yunhe"}, "is_accepted": false, "score": 0, "last_activity_date": 1457576263, "last_edit_date": 1457576263, "creation_date": 1457570522, "answer_id": 35905515, "question_id": 35904584, "link": "https://stackoverflow.com/questions/35904584/python-strip-unexpected-behavior/35905515#35905515", "title": "Python strip unexpected behavior", "body": "<p>If there is only one \".md\" appearing at the end of the testing string, you can also use</p>\n\n<pre><code>\"Getting-Started.md\".split('.md')[0]\n</code></pre>\n\n<p>Thanks @Carpetsmoker remind me the assumption. </p>\n"}], "owner": {"reputation": 55, "user_id": 4616972, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a0108fc77875f2ed5bc6d3ad5503da8?s=128&d=identicon&r=PG&f=1", "display_name": "user4616972", "link": "https://stackoverflow.com/users/4616972/user4616972"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 233, "favorite_count": 0, "accepted_answer_id": 35904598, "answer_count": 2, "score": 1, "last_activity_date": 1457579621, "creation_date": 1457565372, "last_edit_date": 1457579621, "question_id": 35904584, "link": "https://stackoverflow.com/questions/35904584/python-strip-unexpected-behavior", "title": "Python strip unexpected behavior", "body": "<p>I was stripping a file name in python for routing purposes and I was getting some unexpected behavior with the python strip function. I've read the docs and searched online but have not been able to find an explanation for the following behavior:</p>\n\n<pre><code>\"Getting-Started.md\".strip('.md')\n Out[29]: 'Getting-Starte'\n</code></pre>\n\n<p>But if it is any other character aside from 'd' to the left of the period, it works properly:</p>\n\n<pre><code>\"Getting-StarteX.md\".strip('.md')\n Out[30]: 'Getting-StarteX'\n</code></pre>\n\n<p>It seems like there is something similar to a mirroring going on 'd. md'. I'm doing a double strip to get by this for now, but I was just curious of why this occurs. </p>\n\n<p>Thank you.</p>\n"}, {"tags": ["python", "class", "namespaces", "instance"], "comments": [{"owner": {"reputation": 16773, "user_id": 5827215, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-s_pAOw1Sc-M/AAAAAAAAAAI/AAAAAAAAAMA/J-R1IMHbuY4/photo.jpg?sz=128", "display_name": "Tadhg McDonald-Jensen", "link": "https://stackoverflow.com/users/5827215/tadhg-mcdonald-jensen"}, "edited": false, "score": 1, "creation_date": 1457565397, "post_id": 35904507, "comment_id": 59469524, "body": "oh god that is terrible! I figured out a way to override the global namespace so I&#39;ll post a possible solution in a moment."}], "answers": [{"comments": [{"owner": {"reputation": 1269, "user_id": 2962917, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/e32619641709b586f036f5606eb1496c?s=128&d=identicon&r=PG", "display_name": "Bobby", "link": "https://stackoverflow.com/users/2962917/bobby"}, "edited": false, "score": 0, "creation_date": 1457570840, "post_id": 35905013, "comment_id": 59471428, "body": "Thank you! I believe that this is working--at least I have it working from IPython.  But, I am getting some errors from pyserial when I execute this application.  Once I can confirm that these are not related, I will mark this as solved."}, {"owner": {"reputation": 16773, "user_id": 5827215, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-s_pAOw1Sc-M/AAAAAAAAAAI/AAAAAAAAAMA/J-R1IMHbuY4/photo.jpg?sz=128", "display_name": "Tadhg McDonald-Jensen", "link": "https://stackoverflow.com/users/5827215/tadhg-mcdonald-jensen"}, "reply_to_user": {"reputation": 1269, "user_id": 2962917, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/e32619641709b586f036f5606eb1496c?s=128&d=identicon&r=PG", "display_name": "Bobby", "link": "https://stackoverflow.com/users/2962917/bobby"}, "edited": false, "score": 0, "creation_date": 1457576858, "post_id": 35905013, "comment_id": 59473165, "body": "oh s<b>o</b>me errors, not s<b>a</b>me errors. Ok I will stop changing the additions now."}], "tags": [], "owner": {"reputation": 16773, "user_id": 5827215, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-s_pAOw1Sc-M/AAAAAAAAAAI/AAAAAAAAAMA/J-R1IMHbuY4/photo.jpg?sz=128", "display_name": "Tadhg McDonald-Jensen", "link": "https://stackoverflow.com/users/5827215/tadhg-mcdonald-jensen"}, "is_accepted": true, "score": 1, "last_activity_date": 1457576740, "last_edit_date": 1457576740, "creation_date": 1457567556, "answer_id": 35905013, "question_id": 35904507, "link": "https://stackoverflow.com/questions/35904507/encapsulate-the-scope-of-an-imported-module/35905013#35905013", "title": "Encapsulate the scope of an imported module", "body": "<p>Ok normally I would <strong>condemn</strong> hacks like the one I am suggesting but it seems you don't have much choice as the author of that package clearly did not understand the meaning of <a href=\"https://en.wikipedia.org/wiki/Object-oriented_programming\" rel=\"nofollow\">object oriented programming</a>, there is a way to create a copy of a function with a different global scope by directly calling the <code>FunctionType()</code> contructor:</p>\n\n<pre><code>from types import FunctionType\nfrom functools import wraps\n\ndef copy_func(func,global_namespace):\n    \"copies a function object with the new specified global scope\"\n    c = FunctionType(func.__code__,global_namespace,func.__name__,func.__defaults__,func.__closure__)\n    try:\n        c.__kwdefaults__ = func.__kwdefaults__\n    except AttributeError:pass #this is only for python 3\n    c = wraps(func)(c) #copy all metadata although there doesn't seem to be any for roboclaw\n    return c\n</code></pre>\n\n<p>This way it does not affect the functions in the module at all but still uses your own namespace, you can then spoof a copy module with this:</p>\n\n<pre><code>class CopyScope:\n    def __init__(self,module):\n        own_scope = self.__dict__\n        for name,thing in vars(module).items():\n            if isinstance(thing,FunctionType):\n                setattr(self, name, copy_func(thing, own_scope))\n            else:\n                setattr(self, name, thing)\n                #you could also do own_scope[name] = .. instead of setattr() but I prefer setattr()\n</code></pre>\n\n<p>Although this only runs <code>copy_func</code> for all the module level function and not any methods that may use the global statement but I'd imagine that if the author understood what methods were you wouldn't need this at all.</p>\n\n<p>I was able to test this with the following code:</p>\n\n<pre><code>import roboclaw\nx = CopyScope(roboclaw)\n\nx.crc_clear()\nx.crc_update(4)\n\nprint(x._crc)\nprint(roboclaw._crc) #this will actually raise an error because it isn't defined in the original module yet.\n</code></pre>\n"}], "owner": {"reputation": 1269, "user_id": 2962917, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/e32619641709b586f036f5606eb1496c?s=128&d=identicon&r=PG", "display_name": "Bobby", "link": "https://stackoverflow.com/users/2962917/bobby"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 447, "favorite_count": 0, "accepted_answer_id": 35905013, "answer_count": 1, "score": 2, "last_activity_date": 1457576740, "creation_date": 1457565002, "last_edit_date": 1495542225, "question_id": 35904507, "link": "https://stackoverflow.com/questions/35904507/encapsulate-the-scope-of-an-imported-module", "title": "Encapsulate the scope of an imported module", "body": "<p>Using the <a href=\"http://downloads.ionmc.com/code/roboclaw_python.zip\" rel=\"nofollow noreferrer\">hideous RoboClaw Python \"library\"</a> in a project, I can't seem to get past the fact that they threw a bunch of functions and global variables that deal with interfacing with physical hardware into a file.  Unfortunately, I am stuck using this library because when the vendor releases a new firmware for their board, they also update this file on their website; porting it to something useful would be a continuous effort.</p>\n\n<p>The issue arises when I attempt to import it multiple times, once for each board that I have attached to USB.  Something (conceptually) like this would be ideal:</p>\n\n<pre><code>import roboclaw\nclass Board:\n    def __init__(self):\n        self.rc = roboclaw\n</code></pre>\n\n<p>Since the Python interpreter seems to maintain the same module reference in memory with every import, I can't seem to get it to create instances that exist in separate namespaces, essentially spitting out all kinds of I/O conflict errors when all boards incorrectly become assigned to the same <code>/dev/ttyACM</code> device file.  The closest that I seem to be able to get is <a href=\"https://stackoverflow.com/a/16719281/2962917\">this answer provided by Noctis Skytower</a>, but it still isn't creating a separate namespaces for each <code>Board</code> instance.</p>\n\n<p>Additionally, I have tried setting up dynamic imports using <code>imp</code> (like <a href=\"https://stackoverflow.com/a/11285504/2962917\">this</a>) and <code>importlib</code> (like <a href=\"https://stackoverflow.com/a/16424060/2962917\">this</a>) though both of these fail to import because they can't find the <code>roboclaw.py</code> file that sits in the same directory.</p>\n\n<p>At a bit of a loss for the direction that I should be going on this, as I've never had to deal with this before.</p>\n"}, {"tags": ["python", "smtplib"], "comments": [{"owner": {"reputation": 250720, "user_id": 113962, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b80ae1d65878cf68a4b1a00848467527?s=128&d=identicon&r=PG", "display_name": "Alasdair", "link": "https://stackoverflow.com/users/113962/alasdair"}, "edited": false, "score": 0, "creation_date": 1457566425, "post_id": 35904484, "comment_id": 59469905, "body": "What is <code>mail.sendmail</code>? You shouldn&#39;t have to generate the headers like <code>To:</code>, and <code>Subject:</code> manually. You leave yourself open to header injection."}, {"owner": {"user_type": "does_not_exist", "display_name": "user5835566"}, "reply_to_user": {"reputation": 250720, "user_id": 113962, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b80ae1d65878cf68a4b1a00848467527?s=128&d=identicon&r=PG", "display_name": "Alasdair", "link": "https://stackoverflow.com/users/113962/alasdair"}, "edited": false, "score": 0, "creation_date": 1457567350, "post_id": 35904484, "comment_id": 59470244, "body": "Sorry; mail = smtplib.SMTP(&#39;smtp.gmail.com&#39;, 587)"}, {"owner": {"user_type": "does_not_exist", "display_name": "user5835566"}, "reply_to_user": {"reputation": 250720, "user_id": 113962, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b80ae1d65878cf68a4b1a00848467527?s=128&d=identicon&r=PG", "display_name": "Alasdair", "link": "https://stackoverflow.com/users/113962/alasdair"}, "edited": false, "score": 0, "creation_date": 1457567427, "post_id": 35904484, "comment_id": 59470274, "body": "I am using this just on my computer for now. It is the most suitable solution at the moment. But thanks!"}], "answers": [{"comments": [{"owner": {"reputation": 250720, "user_id": 113962, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b80ae1d65878cf68a4b1a00848467527?s=128&d=identicon&r=PG", "display_name": "Alasdair", "link": "https://stackoverflow.com/users/113962/alasdair"}, "edited": false, "score": 0, "creation_date": 1457603161, "post_id": 35904920, "comment_id": 59484485, "body": "I wrote that answer, but then deleted it because I thought that you might be better using the <a href=\"https://docs.python.org/2/library/email-examples.html\" rel=\"nofollow noreferrer\">emai</a> package instead. Glad it helped. I still think it would be a good idea to take a look at the email package, because it should allow you to separate your message body from the headers, rather than having them all in one string."}, {"owner": {"user_type": "does_not_exist", "display_name": "user5835566"}, "reply_to_user": {"reputation": 250720, "user_id": 113962, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b80ae1d65878cf68a4b1a00848467527?s=128&d=identicon&r=PG", "display_name": "Alasdair", "link": "https://stackoverflow.com/users/113962/alasdair"}, "edited": false, "score": 0, "creation_date": 1457700256, "post_id": 35904920, "comment_id": 59537112, "body": "Thanks! I&#39;ve tried email package before and for some reason I couldn&#39;t make it work haha. I know it&#39;s better but as at time of posting my previous question I was looking for a solution that&#39;d work for other not-email scripts with multiline strings, I actually was curious about what was I doing wrong this time."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user5835566"}, "is_accepted": false, "score": 1, "last_activity_date": 1457567043, "creation_date": 1457567043, "answer_id": 35904920, "question_id": 35904484, "link": "https://stackoverflow.com/questions/35904484/what-is-the-right-way-to-use-variables-in-multiline-strings-with-smtplib-in-pyth/35904920#35904920", "title": "What is the right way to use variables in multiline strings with smtplib in Python?", "body": "<p>Someone posted this solution that was immediately deleted:</p>\n\n<pre><code>content = Template(\"\"\"\\\n    From: fromname &lt;fromemail&gt;\n    To: toname &lt;toemail&gt;\n    MIME-Version: 1.0\n    Content-type: text/html\n    Subject: ${subject}\n\n    This is an e-mail message to be sent in HTML format\n\n    &lt;b&gt;This is HTML message.&lt;/b&gt;\n    &lt;h1&gt;This is headline.&lt;/h1&gt;\n    \"\"\")\n</code></pre>\n\n<p>Right indentation.\nNow works fine!</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user5835566"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 156, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1457567043, "creation_date": 1457564867, "last_edit_date": 1495540367, "question_id": 35904484, "link": "https://stackoverflow.com/questions/35904484/what-is-the-right-way-to-use-variables-in-multiline-strings-with-smtplib-in-pyth", "title": "What is the right way to use variables in multiline strings with smtplib in Python?", "body": "<p>I just posted this question a few hours ago: <a href=\"https://stackoverflow.com/questions/35903017/is-there-any-way-to-use-variables-in-multiline-string-in-python\">Is there any way to use variables in multiline string in Python?</a></p>\n\n<p>Right now I'm using the following code suggested in a comment:</p>\n\n<pre><code>from string import Template\nimport textwrap\n</code></pre>\n\n<p>...</p>\n\n<pre><code>try:\n    subject_mail = {\n                'subject': 'Test'\n                }\n    content = Template(\"\"\"From: fromname &lt;fromemail&gt;\n        To: toname &lt;toemail&gt;\n        MIME-Version: 1.0\n        Content-type: text/html\n        Subject: ${subject}\n\n        This is an e-mail message to be sent in HTML format\n\n        &lt;b&gt;This is HTML message.&lt;/b&gt;\n        &lt;h1&gt;This is headline.&lt;/h1&gt;\n        \"\"\")\n    result = content.safe_substitute(subject_mail)\n    result = textwrap.dedent(result)\n</code></pre>\n\n<p>...</p>\n\n<pre><code>print(result)\nmail.sendmail('fromemail', 'toemail', result)\n</code></pre>\n\n<p>The weird thing is that everything works fine if I don't substitute anything (if I write the subject inside the string). \nIf I substitute the subject as above, it prints out ok. However, in my email (gmail) I get this:</p>\n\n<pre><code>from:   fromname &lt;fromemail&gt; To: toname MIME-Version: 1.0 Content-type: text/html Subject: Test! &lt;toemail&gt;\nto:\nCco: toemail\nSubject:\n</code></pre>\n\n<p>No subject. I don't get it. I am missing something?</p>\n"}, {"tags": ["python", "plot"], "comments": [{"owner": {"reputation": 927, "user_id": 5220640, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1314995621c1b3ea44cc9110eab67e7a?s=128&d=identicon&r=PG&f=1", "display_name": "Tuffwer", "link": "https://stackoverflow.com/users/5220640/tuffwer"}, "edited": false, "score": 0, "creation_date": 1457564911, "post_id": 35904461, "comment_id": 59469316, "body": "What is your specific problem? How does your current output differ from your expected output?"}, {"owner": {"reputation": 2623, "user_id": 3697163, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/611ce881510094605af96f479d2c0472?s=128&d=identicon&r=PG&f=1", "display_name": "DaveBensonPhillips", "link": "https://stackoverflow.com/users/3697163/davebensonphillips"}, "edited": false, "score": 0, "creation_date": 1457564924, "post_id": 35904461, "comment_id": 59469324, "body": "OK, and what happens when you run it? I&#39;m presuming it doesn&#39;t work which is why you&#39;re asking, but that would be guesswork :)"}, {"owner": {"reputation": 11, "user_id": 6032786, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bce23403782e4fca53fdf4bfa21185e2?s=128&d=identicon&r=PG&f=1", "display_name": "Flower_Dance", "link": "https://stackoverflow.com/users/6032786/flower-dance"}, "reply_to_user": {"reputation": 927, "user_id": 5220640, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1314995621c1b3ea44cc9110eab67e7a?s=128&d=identicon&r=PG&f=1", "display_name": "Tuffwer", "link": "https://stackoverflow.com/users/5220640/tuffwer"}, "edited": false, "score": 0, "creation_date": 1457565435, "post_id": 35904461, "comment_id": 59469537, "body": "@Tuffwer I am pretty new to python (or programming), and my question might be silly. But how can I plot the learning curve of the model after I train the model?"}, {"owner": {"reputation": 927, "user_id": 5220640, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1314995621c1b3ea44cc9110eab67e7a?s=128&d=identicon&r=PG&f=1", "display_name": "Tuffwer", "link": "https://stackoverflow.com/users/5220640/tuffwer"}, "edited": false, "score": 1, "creation_date": 1457565759, "post_id": 35904461, "comment_id": 59469648, "body": "There are several ways to draw a plot in python, but which one you would use would depend on exactly what you want to plot and how the data you are plotting is stored.  A quick google search turned up <a href=\"http://scikit-learn.org/stable/auto_examples/model_selection/plot_learning_curve.html\" rel=\"nofollow noreferrer\">this page for scikit learn</a> Maybe start there?  I don&#39;t know enough about sklearn to provide a generic plotting tutorial"}, {"owner": {"reputation": 454, "user_id": 5296404, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gZhYdlJ_FnU/AAAAAAAAAAI/AAAAAAAAAT4/tOoNKZVX2GM/photo.jpg?sz=128", "display_name": "Pierre Cordier", "link": "https://stackoverflow.com/users/5296404/pierre-cordier"}, "edited": false, "score": 0, "creation_date": 1457568365, "post_id": 35904461, "comment_id": 59470594, "body": "What do you mean by learning curves ? Do you mean ROC curves (Receiver Operating Characteristic curves) ? If you want to do this you will have to split you dataset into a train and test set. You can find an <a href=\"http://scikit-learn.org/stable/auto_examples/model_selection/plot_roc_crossval.html\" rel=\"nofollow noreferrer\">example on the iris data set on scikit-learn website</a>. If you want, I can build an answer upon this."}], "owner": {"reputation": 11, "user_id": 6032786, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bce23403782e4fca53fdf4bfa21185e2?s=128&d=identicon&r=PG&f=1", "display_name": "Flower_Dance", "link": "https://stackoverflow.com/users/6032786/flower-dance"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1070, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1457564982, "creation_date": 1457564752, "last_edit_date": 1457564982, "question_id": 35904461, "link": "https://stackoverflow.com/questions/35904461/plotting-decision-tree-in-python", "title": "Plotting decision tree in python", "body": "<p>I would like to plot the learning curves of decision tree by using the dataset from sklearn in python. And I have tried to script the code to train the learning model.</p>\n\n<pre><code># prepare data\nfrom sklearn import datasets\niris = datasets.load_iris()\ndata = iris.data\ntarget = iris.target\n# train a decision tree\nfrom sklearn import tree\nclf = tree.DecisionTreeClassifier()\nclf.fit(data, target)\n# predict from SVM model\nprint clf.predict([[5.1,3.5,1.4,0.2]]) #note that you need to pass a list of    list\nprint clf.predict([[5.1,3.5,1.4,0.2], [4.9,3.0,1.4,0.2]]) #since sometimes you  want to make more than one predictions in one call\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 6738, "user_id": 906693, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ba54c2f46f424128b4ba467eb8d0e138?s=128&d=identicon&r=PG", "display_name": "roadrunner66", "link": "https://stackoverflow.com/users/906693/roadrunner66"}, "edited": false, "score": 0, "creation_date": 1457564811, "post_id": 35904441, "comment_id": 59469278, "body": "Look up <code>pickle</code>. It allows you to easily save (&#39;serialize&#39;) data of any Python type and later reimport those."}, {"owner": {"reputation": 23487, "user_id": 660921, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/3d53595cb2a89131fb3be7b55b3a9ef0?s=128&d=identicon&r=PG", "display_name": "Martin Tournoij", "link": "https://stackoverflow.com/users/660921/martin-tournoij"}, "edited": false, "score": 0, "creation_date": 1457564863, "post_id": 35904441, "comment_id": 59469297, "body": "Yup, this is possible :-) You should probably <a href=\"https://stackoverflow.com/posts/35904441/edit\">edit</a> your question to include your code; that way more specific advice can be given. In general, though, I would say using the <a href=\"https://docs.python.org/3/library/json.html\" rel=\"nofollow noreferrer\"><code>json</code></a> module works quite well for many purposes."}, {"owner": {"reputation": 3410, "user_id": 1065023, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/9f88b7afc0a5aa06a67340b8ad1228ed?s=128&d=identicon&r=PG", "display_name": "Hossain Muctadir", "link": "https://stackoverflow.com/users/1065023/hossain-muctadir"}, "edited": false, "score": 0, "creation_date": 1457564906, "post_id": 35904441, "comment_id": 59469313, "body": "You can write it to a file, use a database etc etc. There are literally tons of storage options. Just search, pick one and go ahead."}, {"owner": {"reputation": 23487, "user_id": 660921, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/3d53595cb2a89131fb3be7b55b3a9ef0?s=128&d=identicon&r=PG", "display_name": "Martin Tournoij", "link": "https://stackoverflow.com/users/660921/martin-tournoij"}, "reply_to_user": {"reputation": 6738, "user_id": 906693, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ba54c2f46f424128b4ba467eb8d0e138?s=128&d=identicon&r=PG", "display_name": "roadrunner66", "link": "https://stackoverflow.com/users/906693/roadrunner66"}, "edited": false, "score": 0, "creation_date": 1457564978, "post_id": 35904441, "comment_id": 59469354, "body": "@roadrunner66 <code>pickle</code> has security issues (<a href=\"http://stackoverflow.com/a/26934565/660921\">see here</a>) and I would not advice it unless I&#39;m really sure what it&#39;s being used for."}, {"owner": {"reputation": 16775, "user_id": 442945, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/TovHM.png?s=128&g=1", "display_name": "Nathaniel Ford", "link": "https://stackoverflow.com/users/442945/nathaniel-ford"}, "edited": false, "score": 1, "creation_date": 1457569478, "post_id": 35904441, "comment_id": 59471013, "body": "You should <a href=\"http://www.stackoverflow.com/help/mcve\">refer to this</a> to improve your question. That said, what you&#39;re actually looking for is a signal handler: <a href=\"http://stackoverflow.com/questions/1112343/how-do-i-capture-sigint-in-python\" title=\"how do i capture sigint in python\">stackoverflow.com/questions/1112343/&hellip;</a>"}, {"owner": {"reputation": 2493, "user_id": 5966448, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5797778df7bfc1beb6dd450d7e53d2d7?s=128&d=identicon&r=PG&f=1", "display_name": "Sci Prog", "link": "https://stackoverflow.com/users/5966448/sci-prog"}, "edited": false, "score": 0, "creation_date": 1457571495, "post_id": 35904441, "comment_id": 59471613, "body": "To summarize the other answers, in order to save information, look at any modules from the &quot;Data persistence&quot; (the name speaks for itself) in the python documentation <a href=\"https://docs.python.org/2/library/persistence.html\" rel=\"nofollow noreferrer\">docs.python.org/2/library/persistence.html</a>."}], "answers": [{"tags": [], "owner": {"reputation": 454, "user_id": 5296404, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gZhYdlJ_FnU/AAAAAAAAAAI/AAAAAAAAAT4/tOoNKZVX2GM/photo.jpg?sz=128", "display_name": "Pierre Cordier", "link": "https://stackoverflow.com/users/5296404/pierre-cordier"}, "is_accepted": false, "score": 1, "last_activity_date": 1457571181, "creation_date": 1457571181, "answer_id": 35905623, "question_id": 35904441, "link": "https://stackoverflow.com/questions/35904441/save-input-from-user-in-a-python-program/35905623#35905623", "title": "save input from user in a python program", "body": "<p>Assuming you want the user to input a string of data, you can use <a href=\"https://en.wikibooks.org/wiki/Python_Programming/Input_and_Output\" rel=\"nofollow\"><code>raw_input()</code></a> to get it, and then send it to a file using <a href=\"https://wiki.python.org/moin/UsingPickle\" rel=\"nofollow\"><code>pickle</code></a> library, as mentioned in comments above.</p>\n\n<p>To use <a href=\"https://wiki.python.org/moin/UsingPickle\" rel=\"nofollow\"><code>pickle</code></a>, you should before <code>open</code> a file in writing mode and then use this file to dump into it your object containing the string. </p>\n\n<p>A secure way to open a file is to use a <a href=\"http://preshing.com/20110920/the-python-with-statement-by-example/\" rel=\"nofollow\"><code>with</code> statement</a>, it will be closed at the end of the statement.</p>\n\n<pre><code>import pickle\n\nmyData = raw_input('What is your name ? ')\n\nwith open(\"name.p\", \"wb\" ) as myFile:\n    pickle.dump(myData, myFile)\n</code></pre>\n\n<p>Later, you can get back the object by opening the pickle file in read mode and store its content in a variable.</p>\n\n<pre><code>import pickle\n\nwith open(\"name.p\", \"rb\" ) as myFile:\n    myData = pickle.load(myFile)\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 6042001, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/323ace34aae261848876a81c491f526d?s=128&d=identicon&r=PG&f=1", "display_name": "Tim Stone", "link": "https://stackoverflow.com/users/6042001/tim-stone"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1795, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1457571181, "creation_date": 1457564622, "last_edit_date": 1457569392, "question_id": 35904441, "link": "https://stackoverflow.com/questions/35904441/save-input-from-user-in-a-python-program", "title": "save input from user in a python program", "body": "<p>I am writing a program in Python where a user can input information that is saved - even if the program is terminated. How do I implement this?</p>\n"}, {"tags": ["python", "python-3.x", "turtle-graphics"], "answers": [{"tags": [], "owner": {"reputation": 74709, "user_id": 21945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/631470ecb1d4fe8bd3be6d7e0dfe4449?s=128&d=identicon&r=PG", "display_name": "mhawke", "link": "https://stackoverflow.com/users/21945/mhawke"}, "is_accepted": true, "score": 1, "last_activity_date": 1457565079, "last_edit_date": 1457565079, "creation_date": 1457564732, "answer_id": 35904460, "question_id": 35904347, "link": "https://stackoverflow.com/questions/35904347/how-to-get-different-colors-in-python-turtle/35904460#35904460", "title": "How to get different colors in python turtle", "body": "<p><code>getColor()</code> is only being called once, at the start of your program. You need to make a call to <code>getColor()</code> before drawing each face, like this:</p>\n\n<pre><code>print(getColor())\ndrawFace(40,50)\nprint(getColor())\ndrawFace(90,100)\nprint(getColor())\ndrawFace(30,200)\nprint(getColor())\ndrawFace(280,50)\nprint(getColor())\ndrawFace(90,100)\n</code></pre>\n\n<p>Your code would be a little more concise it you wrote that in a loop:</p>\n\n<pre><code>points = [(40,50), (90,100), (30,200), (280,50), (90,100)]\n\nfor x,y in points:\n    print(getColor())\n    drawFace(x, y)\n</code></pre>\n\n<p>Or you could put a call <code>getColor()</code> from your <code>drawFace()</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 19, "user_id": 6927451, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/faCWP.png?s=128&g=1", "display_name": "Spykidc", "link": "https://stackoverflow.com/users/6927451/spykidc"}, "is_accepted": false, "score": 0, "last_activity_date": 1475685471, "last_edit_date": 1475685471, "creation_date": 1475684630, "answer_id": 39879213, "question_id": 35904347, "link": "https://stackoverflow.com/questions/35904347/how-to-get-different-colors-in-python-turtle/39879213#39879213", "title": "How to get different colors in python turtle", "body": "<p>The most simple way I know of how to do this, is if you do the starting code:</p>\n\n<pre><code>import turtle\n\ndraw = turtle.Turtle()\n\ndraw.speed(1)\n</code></pre>\n\n<p>And then the color</p>\n\n<pre><code>draw.pencolor(\"blue\")\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 5478619, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1816aaac6a93fd117ee5f4159b1d0fb4?s=128&d=identicon&r=PG&f=1", "display_name": "user5478619", "link": "https://stackoverflow.com/users/5478619/user5478619"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6529, "favorite_count": 0, "accepted_answer_id": 35904460, "answer_count": 2, "score": 0, "last_activity_date": 1475685471, "creation_date": 1457564121, "question_id": 35904347, "link": "https://stackoverflow.com/questions/35904347/how-to-get-different-colors-in-python-turtle", "title": "How to get different colors in python turtle", "body": "<p>Hi I am writing a python turtle file, where a function will return a random color (I can choose any three), and then a function will draw a face anywhere on the screen. It calls the function to draw a face 5 times, and each time it picks a different color. I have everything and it prints a face, but it will only print it in one color and I'm not sure how to get it to print a different color each time. </p>\n\n<p>This is my code: </p>\n\n<pre><code>import turtle\nimport random\n\nwindow = turtle.Screen() \n\nsam = turtle.Turtle() \nsam.pensize(3)\n\ndef getColor():\n    color = random.randint(1,3)\n    if color == 1:\n        sam.fillcolor(\"pink\")\n        return \"Color: Pink\"\n    elif color == 2:\n        sam.fillcolor(\"lightblue\")\n        return \"Color: Light Blue\"\n   else:\n        sam.fillcolor(\"purple\")\n        return \"Color: Purple\" \n\ndef drawFace(x,y):\n    move = random.randint(1,2)\n    if move == 1:\n        sam.penup()\n        sam.left(x)\n        sam.forward(y)\n        sam.pendown()\n\n    else:\n        sam.penup()\n        sam.right(x)\n        sam.forward(y)\n        sam.pendown()\n\n    sam.begin_fill()\n    sam.right(90)\n    sam.forward(10)\n    sam.left(40)\n    sam.forward(30)\n    sam.left(50)\n    sam.forward(90)\n    sam.left(60)\n    sam.forward(20)\n    sam.left(30)\n    sam.forward(10)\n    sam.left(90)\n    sam.forward(118)\n    sam.end_fill()\n\n    sam.penup()\n    sam.right(90)\n    sam.forward(50)\n    sam.right(90)\n    sam.forward(40)\n    sam.pendown()\n\n   sam.begin_fill()\n   sides = 4\n   while sides &gt; 0:\n        sam.forward(20)\n        sam.right(90)\n        sides = sides - 1\n   sam.end_fill()\n\n   sam.penup()\n   sam.forward(60)\n   sam.right(90)\n   sam.pendown()\n\n   sam.begin_fill()\n   sides = 4\n   while sides &gt; 0:\n      sam.forward(20)\n      sam.right(90)\n      sides = sides - 1\n   sam.end_fill()\n\n\n\nprint(getColor())\ndrawFace(40,50)\ndrawFace(90,100)\ndrawFace(30,200)\ndrawFace(280,50)\ndrawFace(90,100)\n</code></pre>\n\n<p>Thank you </p>\n"}, {"tags": ["python", "flask"], "comments": [{"owner": {"reputation": 16773, "user_id": 5827215, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-s_pAOw1Sc-M/AAAAAAAAAAI/AAAAAAAAAMA/J-R1IMHbuY4/photo.jpg?sz=128", "display_name": "Tadhg McDonald-Jensen", "link": "https://stackoverflow.com/users/5827215/tadhg-mcdonald-jensen"}, "edited": false, "score": 0, "creation_date": 1457564476, "post_id": 35904337, "comment_id": 59469152, "body": "um... you are trying to modify the global <code>step</code> variable without declaring it as global. so it isn&#39;t actually changing the global <code>step</code> at all and this will create an infinite series of Threads (same for <code>result</code>)"}, {"owner": {"reputation": 5891, "user_id": 1146450, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/YSbqo.jpg?s=128&g=1", "display_name": "rekinyz", "link": "https://stackoverflow.com/users/1146450/rekinyz"}, "edited": false, "score": 0, "creation_date": 1457565116, "post_id": 35904337, "comment_id": 59469432, "body": "sorry, I just have simplified my program, so there is maybe bugs, maybe the global thread is bad idea, I will fix it later. Now I just wonder, is it possible at all to cancel a thread like this way in the Flask?"}, {"owner": {"reputation": 599, "user_id": 2326132, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f9396bad40c87c5fffe8ba3e522103d8?s=128&d=identicon&r=PG", "display_name": "Ryan O&#39;Donnell", "link": "https://stackoverflow.com/users/2326132/ryan-odonnell"}, "edited": false, "score": 1, "creation_date": 1457582130, "post_id": 35904337, "comment_id": 59474537, "body": "Yes, it is possible. But it is not a good idea. You&#39;ll usually have this process running behind something like WSGI. In this instance, you&#39;ll have multiple processes. When you request /stop, there&#39;s no way to know you&#39;ve stopped it, since that thread might exist on a difference process than the one that is handling your request. You should use something like Celery to do this."}], "owner": {"reputation": 5891, "user_id": 1146450, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/YSbqo.jpg?s=128&g=1", "display_name": "rekinyz", "link": "https://stackoverflow.com/users/1146450/rekinyz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 798, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1457636704, "creation_date": 1457564075, "last_edit_date": 1457636704, "question_id": 35904337, "link": "https://stackoverflow.com/questions/35904337/how-to-cancel-the-start-request-using-stop-request-in-flask", "title": "how to cancel the &quot;start&quot; request using &quot;stop&quot; request in flask?", "body": "<p>when clicked on the \"start\" button on the Web UI, the program plans to process the data using threading.Timer() with 0.01s frequency within 5000 steps. A \u201cstop\u201d button is offered to stop processing_data() at any time and return a part of the result being computed during the time.</p>\n\n<pre><code>step = 0\nresult = {}\nthread = None\n\n@app.route('/start', methods=['GET'])\ndef start():\n    processing_data()\n    time.sleep(5000*0.01) # wait for the processing_data() finished\n    return Response(result, mimetype='application/json')\n\ndef processing_data():\n    result = {json : format} # compute the json format result\n    if step != 5000:\n        global step\n        step +=1\n        global thread\n        thread = threading.Timer(0.01, processing_data)\n        thread.start()\n\n@app.route('/stop', methods=['GET'])\ndef stop():\n    thread.cancel()\n    return \"stopped\"\n</code></pre>\n\n<p>It doesn't work, seems like the stop() will only run after the start() is finished. So my question is how to cancel the start() request during the processing? Suppose the user is impatient, who simply want to get a part of the computed result after certain steps?</p>\n\n<p>EDIT:\nI tried to further simplified the program, removed the thread, add the application context of Flask. It's all the same, it means the thread is not the problem, a request or the sleep() can simply not be interrupted.</p>\n\n<pre><code>step = 0\nresult = {}\n\n@app.route('/start', methods=['GET'])\ndef start():\n    g.__stop = False\n    processing_data()\n    time.sleep(5000*0.01) # wait for the processing_data() finished\n    return Response(result, mimetype='application/json')\n\ndef processing_data():\n    result = {json : format} # compute the json format result\n    if step != 5000 and not g.__stop:\n        global step\n        step +=1\n        processing_data()\n\n@app.route('/stop', methods=['GET'])\ndef stop():\n    g.__stop = True\n    return \"stopped\"\n</code></pre>\n"}, {"tags": ["python", "dictionary"], "comments": [{"owner": {"reputation": 1763, "user_id": 3808402, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/KKKCj.png?s=128&g=1", "display_name": "jood", "link": "https://stackoverflow.com/users/3808402/jood"}, "edited": false, "score": 0, "creation_date": 1457564063, "post_id": 35904304, "comment_id": 59468967, "body": "Are you looking for the right structure, or how to generate it from the list that you have ? I would recommand a structure like this: dict = {&quot;A&quot;:[1,1], &quot;B&quot;:[2,1]}  , instead of having values as a string"}, {"owner": {"reputation": 409, "user_id": 5699525, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/dc56864fd71ca33c02c1ea4d56c3468c?s=128&d=identicon&r=PG&f=1", "display_name": "Clint Whaley", "link": "https://stackoverflow.com/users/5699525/clint-whaley"}, "reply_to_user": {"reputation": 1763, "user_id": 3808402, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/KKKCj.png?s=128&g=1", "display_name": "jood", "link": "https://stackoverflow.com/users/3808402/jood"}, "edited": false, "score": 0, "creation_date": 1457564102, "post_id": 35904304, "comment_id": 59468980, "body": "@clemkoa just made the changes"}], "answers": [{"comments": [{"owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "edited": false, "score": 1, "creation_date": 1457564370, "post_id": 35904371, "comment_id": 59469100, "body": "You forgot to convert to integers"}, {"owner": {"reputation": 409, "user_id": 5699525, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/dc56864fd71ca33c02c1ea4d56c3468c?s=128&d=identicon&r=PG&f=1", "display_name": "Clint Whaley", "link": "https://stackoverflow.com/users/5699525/clint-whaley"}, "edited": false, "score": 0, "creation_date": 1457564560, "post_id": 35904371, "comment_id": 59469194, "body": "@PadraicCunningham Awesome, but could you explain the one in Python 3 a bit?"}, {"owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "edited": false, "score": 0, "creation_date": 1457564814, "post_id": 35904371, "comment_id": 59469280, "body": "Nested generator expression / dict comprehension combo is pretty gnarly for this.  Recommend just to use a for loop and resist the urge to one-liner everything."}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "reply_to_user": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "edited": false, "score": 1, "creation_date": 1457565145, "post_id": 35904371, "comment_id": 59469439, "body": "@wim, I added a couple of  for loops and the steps along the way so it should hopefully cover all bases."}], "tags": [], "owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "is_accepted": true, "score": 4, "last_activity_date": 1457565183, "last_edit_date": 1457565183, "creation_date": 1457564253, "answer_id": 35904371, "question_id": 35904304, "link": "https://stackoverflow.com/questions/35904304/keys-with-multiple-values-in-a-dictionary-python/35904371#35904371", "title": "keys with multiple values in a dictionary (Python)", "body": "<p>for python3 you can use a dict comp, using <em>extended iterable unpacking</em> splitting each string in your list and creating a key/value paring from the split elements:</p>\n\n<pre><code>l = ['A,1,1', 'B,2,1', 'C,4,4', 'D,4,5']\n\nd = {k: list(map(int,rest)) for k,*rest in (s.split(\",\") for s in l) }\n</code></pre>\n\n<p>For python2 the syntax is not quite as nice:</p>\n\n<pre><code>l = ['A,1,1', 'B,2,1', 'C,4,4', 'D,4,5']\n\nd = {s[0]: map(int, s[1:] ) for s in (s.split(\",\") for s in l)}\n</code></pre>\n\n<p>Both should give you something like:</p>\n\n<pre><code>In [32]:  d = {k: list(map(int,rest)) for k,*rest in (s.split(\",\") for s in l) } \nIn [33]: d\nOut[33]: {'A': [1, 1], 'B': [2, 1], 'C': [4, 4], 'D': [4, 5]}\n</code></pre>\n\n<p>To break it down, the inner gen exp is creating our split strings:</p>\n\n<pre><code>In [35]: list (s.split(\",\") for s in l)\nOut[35]: [['A', '1', '1'], ['B', '2', '1'], ['C', '4', '4'], ['D', '4', '5']]\n</code></pre>\n\n<p>Then in the python3 case in <code>for k,*rest in..</code> <code>k</code> is the first element of the lists, the <code>*rest</code> syntax basically means everything else.  </p>\n\n<pre><code> In [37]: for k,*rest in (s.split(\",\") for s in l):\n              print(k, rest)\n   ....:     \nA ['1', '1']\nB ['2', '1']\nC ['4', '4']\nD ['4', '5']\n</code></pre>\n\n<p>So putting it all together to create the dict using a for loop would be:</p>\n\n<pre><code>In [38]: d = {}\n\nIn [39]: for k,*rest in (s.split(\",\") for s in l):\n              d[k] = list(map(int, rest))\n   ....:     \n\nIn [40]: d\nOut[40]: {'A': [1, 1], 'B': [2, 1], 'C': [4, 4], 'D': [4, 5]}\n</code></pre>\n\n<p>Or in the case of python2:</p>\n\n<pre><code>In [42]: d = {}\n\nIn [43]: for spl in (s.split(\",\") for s in l):\n              d[spl[0]] = list(map(int,spl[1:]))\n   ....:     \n\nIn [44]: d\nOut[44]: {'A': [1, 1], 'B': [2, 1], 'C': [4, 4], 'D': [4, 5]}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 563, "user_id": 5183727, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1l36i.jpg?s=128&g=1", "display_name": "Ares Ou", "link": "https://stackoverflow.com/users/5183727/ares-ou"}, "is_accepted": false, "score": 2, "last_activity_date": 1457564918, "last_edit_date": 1457564918, "creation_date": 1457564834, "answer_id": 35904477, "question_id": 35904304, "link": "https://stackoverflow.com/questions/35904304/keys-with-multiple-values-in-a-dictionary-python/35904477#35904477", "title": "keys with multiple values in a dictionary (Python)", "body": "<p>A simple &amp; straight-forward solution:</p>\n\n<pre><code>result = {}\nfor l in all_examples:\n    split_list = l.split(',')\n    result[split_list[0]] = [int(val) for val in split_list[1:]]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 1, "creation_date": 1457570650, "post_id": 35904597, "comment_id": 59471377, "body": "That is not a list comp ;)"}], "tags": [], "owner": {"reputation": 3410, "user_id": 1065023, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/9f88b7afc0a5aa06a67340b8ad1228ed?s=128&d=identicon&r=PG", "display_name": "Hossain Muctadir", "link": "https://stackoverflow.com/users/1065023/hossain-muctadir"}, "is_accepted": false, "score": 1, "last_activity_date": 1457662121, "last_edit_date": 1457662121, "creation_date": 1457565429, "answer_id": 35904597, "question_id": 35904304, "link": "https://stackoverflow.com/questions/35904304/keys-with-multiple-values-in-a-dictionary-python/35904597#35904597", "title": "keys with multiple values in a dictionary (Python)", "body": "<p>A short but not so efficient solution,</p>\n\n<pre><code>all_examples = ['A,1,1', 'B,2,1', 'C,4,4', 'D,4,5']\nd = dict((a.split(',')[0], a.split(',')[1:])for a in all_examples)\n</code></pre>\n"}], "owner": {"reputation": 409, "user_id": 5699525, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/dc56864fd71ca33c02c1ea4d56c3468c?s=128&d=identicon&r=PG&f=1", "display_name": "Clint Whaley", "link": "https://stackoverflow.com/users/5699525/clint-whaley"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 180, "favorite_count": 1, "accepted_answer_id": 35904371, "answer_count": 3, "score": 3, "last_activity_date": 1457662121, "creation_date": 1457563909, "last_edit_date": 1457564087, "question_id": 35904304, "link": "https://stackoverflow.com/questions/35904304/keys-with-multiple-values-in-a-dictionary-python", "title": "keys with multiple values in a dictionary (Python)", "body": "<p>I have the following list (I have omitted some values from the list):</p>\n\n<pre><code>all_examples=   ['A,1,1', 'B,2,1', 'C,4,4', 'D,4,5',...]\n</code></pre>\n\n<p>I need to create a dictionary such that a key has multiple values.</p>\n\n<pre><code>dict = {\"A\":[1,1], \"B\":[2,1]}\n</code></pre>\n\n<p>I looked for some possible solution, but couldn't make it work on mine. </p>\n"}, {"tags": ["python", "append", "shuffle"], "answers": [{"comments": [{"owner": {"reputation": 21707, "user_id": 1832539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2972ae1ab4d157c88bc94654b96d47be?s=128&d=identicon&r=PG", "display_name": "idjaw", "link": "https://stackoverflow.com/users/1832539/idjaw"}, "edited": false, "score": 0, "creation_date": 1457564481, "post_id": 35904394, "comment_id": 59469157, "body": "This was <code>random.shuffle</code>?? OH man I totally did not realize it was <i>that</i> shuffle...ugh... OK. I&#39;m deleting mine. +1. Thanks for bringing that up, btw."}, {"owner": {"reputation": 15, "user_id": 2011285, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a548f1c6fa116798f2b2534a169f64f5?s=128&d=identicon&r=PG", "display_name": "user2011285", "link": "https://stackoverflow.com/users/2011285/user2011285"}, "edited": false, "score": 0, "creation_date": 1457564678, "post_id": 35904394, "comment_id": 59469239, "body": "Thanks! I have a workaround which is to write each line to a file by putting the shuffle line in side a &quot;with open...&quot; line and then writing to the file on each iteration. But why the above works and my original code doesn&#39;t is a mystery to me! (<a href=\"http://pastebin.com/A2p1gXSQ\" rel=\"nofollow noreferrer\">pastebin.com/A2p1gXSQ</a>)"}, {"owner": {"reputation": 21707, "user_id": 1832539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2972ae1ab4d157c88bc94654b96d47be?s=128&d=identicon&r=PG", "display_name": "idjaw", "link": "https://stackoverflow.com/users/1832539/idjaw"}, "reply_to_user": {"reputation": 15, "user_id": 2011285, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a548f1c6fa116798f2b2534a169f64f5?s=128&d=identicon&r=PG", "display_name": "user2011285", "link": "https://stackoverflow.com/users/2011285/user2011285"}, "edited": false, "score": 0, "creation_date": 1457564766, "post_id": 35904394, "comment_id": 59469263, "body": "@user2011285 Putting code in the comments like that is really not easy to look at. You can make a pastebin of your code. <a href=\"http://pastebin.com/\" rel=\"nofollow noreferrer\">pastebin.com</a>"}], "tags": [], "owner": {"reputation": 4387, "user_id": 582782, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d59b4e0d3fc4d5036ff05c66218f6c7a?s=128&d=identicon&r=PG", "display_name": "sramij", "link": "https://stackoverflow.com/users/582782/sramij"}, "is_accepted": false, "score": 1, "last_activity_date": 1457564812, "last_edit_date": 1457564812, "creation_date": 1457564389, "answer_id": 35904394, "question_id": 35904285, "link": "https://stackoverflow.com/questions/35904285/append-to-list-after-shuffle-python/35904394#35904394", "title": "Append to list after shuffle (Python)", "body": "<p>Shuffle works inplace, its returning None.\nIt's weird that it's returning same list in a 10 times try. It's possible that you are not doing that enough times, so shuffle returns same results few times in a raw. try to test that for a large number of times.\nMaybe do:</p>\n\n<pre><code>random.seed(x)\n</code></pre>\n\n<p>inside the loop.</p>\n"}, {"comments": [{"owner": {"reputation": 2623, "user_id": 3697163, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/611ce881510094605af96f479d2c0472?s=128&d=identicon&r=PG&f=1", "display_name": "DaveBensonPhillips", "link": "https://stackoverflow.com/users/3697163/davebensonphillips"}, "edited": false, "score": 0, "creation_date": 1457565488, "post_id": 35904574, "comment_id": 59469554, "body": "Every time I encounter a problem like this, I think to myself &quot;That&#39;s the last time that&#39;s catching me out!&quot;. Nope."}, {"owner": {"reputation": 15, "user_id": 2011285, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a548f1c6fa116798f2b2534a169f64f5?s=128&d=identicon&r=PG", "display_name": "user2011285", "link": "https://stackoverflow.com/users/2011285/user2011285"}, "edited": false, "score": 0, "creation_date": 1457566202, "post_id": 35904574, "comment_id": 59469810, "body": "Ah! Of course! Makes perfect sense, now. Thanks, Pierre!"}], "tags": [], "owner": {"reputation": 454, "user_id": 5296404, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gZhYdlJ_FnU/AAAAAAAAAAI/AAAAAAAAAT4/tOoNKZVX2GM/photo.jpg?sz=128", "display_name": "Pierre Cordier", "link": "https://stackoverflow.com/users/5296404/pierre-cordier"}, "is_accepted": true, "score": 4, "last_activity_date": 1457565334, "last_edit_date": 1495540229, "creation_date": 1457565334, "answer_id": 35904574, "question_id": 35904285, "link": "https://stackoverflow.com/questions/35904285/append-to-list-after-shuffle-python/35904574#35904574", "title": "Append to list after shuffle (Python)", "body": "<p>This is because the object references inside the <code>longList</code> are all to the object <code>myList</code>.</p>\n\n<p>As explained <a href=\"https://stackoverflow.com/questions/28463726/python-shuffle-list-not-working\">here</a>, <a href=\"https://docs.python.org/2/library/random.html#random.shuffle\" rel=\"nofollow noreferrer\">random.shuffle</a> changes <code>myList</code> in place, so each time you call <a href=\"https://docs.python.org/2/library/random.html#random.shuffle\" rel=\"nofollow noreferrer\">random.shuffle</a> on it, it overwrites its content.</p>\n\n<p>A solution can be to clone the list each time you shuffle it and several ways are available for this (<a href=\"https://stackoverflow.com/questions/2612802/how-to-clone-or-copy-a-list-in-python\">How to clone a list in Python</a>).</p>\n\n<p>In the following code I choose to slice it :</p>\n\n<pre><code>from random import shuffle\n\nmyList = [\"file1\", \"file2\", \"file3\", \"file4\"]\nlongList = []\n\nfor x in range(0,10):\n    shuffle(myList)\n    longList.append(myList[:])\n</code></pre>\n"}], "owner": {"reputation": 15, "user_id": 2011285, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a548f1c6fa116798f2b2534a169f64f5?s=128&d=identicon&r=PG", "display_name": "user2011285", "link": "https://stackoverflow.com/users/2011285/user2011285"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 526, "favorite_count": 1, "accepted_answer_id": 35904574, "answer_count": 2, "score": 1, "last_activity_date": 1457565334, "creation_date": 1457563845, "question_id": 35904285, "link": "https://stackoverflow.com/questions/35904285/append-to-list-after-shuffle-python", "title": "Append to list after shuffle (Python)", "body": "<p>Newby question:\nI'm having trouble figuring out why the code below doesn't work. I'm trying to make a nested list wherein each of the 10 nested lists is in a different order. What I get instead is the same list repeated 10 times in the same order.</p>\n\n<p>So I want:\n[[1, 2, 4, 3], [4, 2, 3, 1], [2, 4, 3, 1]] </p>\n\n<p>but I get:\n[[2, 3, 1, 4], [2, 3, 1, 4], [2, 3, 1, 4]]</p>\n\n<pre><code>&lt;pre&gt;from random import shuffle\n\nmyList = [\"file1\", \"file2\", \"file3\", \"file4\"]\nlongList = []\n\nfor x in range(0,10):\n    shuffle(myList)\n    longList.append(myList)\n\nprint(longList)&lt;code&gt;\n</code></pre>\n\n<p>Thanks in advance!</p>\n\n<p>D</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 156940, "user_id": 416467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/32cad7487ccecc3740a62e797fc326dc?s=128&d=identicon&r=PG", "display_name": "kindall", "link": "https://stackoverflow.com/users/416467/kindall"}, "edited": false, "score": 0, "creation_date": 1457563948, "post_id": 35904212, "comment_id": 59468924, "body": "Please post the complete traceback."}], "answers": [{"tags": [], "owner": {"reputation": 1790, "user_id": 2926055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8ec33a10c7a355ea0266d08e0808a35?s=128&d=identicon&r=PG&f=1", "display_name": "user2926055", "link": "https://stackoverflow.com/users/2926055/user2926055"}, "is_accepted": false, "score": 0, "last_activity_date": 1457564334, "creation_date": 1457564334, "answer_id": 35904381, "question_id": 35904212, "link": "https://stackoverflow.com/questions/35904212/python-traceback-most-recent-call-last-typeerror-can-only-concatenate-tupl/35904381#35904381", "title": "python Traceback (most recent call last): &amp; TypeError: can only concatenate tuple (not &quot;str&quot;) to tuple", "body": "<p>The error is, I suspect, pointing to this line:</p>\n\n<pre><code>name += \" \"\n</code></pre>\n\n<p>...because you're (exactly as the error says) attempting to concatenate a string <code>\" \"</code> to a tuple <code>(\"wash\",11)</code>. What exactly are you trying to do with that line? If you're trying to just print some string form of the tuple, use the <a href=\"https://docs.python.org/2/library/functions.html#str\" rel=\"nofollow\"><code>str</code></a> function:</p>\n\n<pre><code>sys.stdout.write(str(name) + '\\n')\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 5817597, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/cfcc38cc93f3e98575154d2320222948?s=128&d=identicon&r=PG&f=1", "display_name": "chris kelly", "link": "https://stackoverflow.com/users/5817597/chris-kelly"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 316, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1457564334, "creation_date": 1457563572, "question_id": 35904212, "link": "https://stackoverflow.com/questions/35904212/python-traceback-most-recent-call-last-typeerror-can-only-concatenate-tupl", "title": "python Traceback (most recent call last): &amp; TypeError: can only concatenate tuple (not &quot;str&quot;) to tuple", "body": "<p>im having trouble Modifying the script so that the data structure shared between the producer and the consumer is a list of 2-tuples instead of a list of strings\nand i cant seem to figure out whats going wrong. </p>\n\n<pre><code>   #!/usr/bin/env python \n   # demonstrate coroutines in Python \n    \"\"\"\n   +  implements a typical producer/consumer algorithm \n   +  the consumer is a subroutine and main() is the producer\n   +  producer sends a job request to consumer; waits for consumer to receive it\n   +  the consumer waits for job request, does job, waits again\n   +  keywords: \n   +  yield waits on producer - passes argument to producer at handoff\n   +  next() sends job to consumer w/o msg\n   +  send() sends job to consumer with msg \n   \"\"\"\n   import sys \n   def printjob(name):\n   name += \" \"\n   sys.stdout.write(name)\n   \"\"\"\n+  CONSUMER \n+  'yield stuff' passes stuff back to the producer; when control resumes a \n+  message (it may be empty) is available from the producer as the return \n+  value from yield; note: cannot remove everything from the list since\n+  the dereference to jobs[i] in yield is invalid\n\"\"\"\ndef consumer(jobs):\n  i = -1\n# as long as something is in the jobs list keep processing requests\n  while jobs:\n      i = (i + 1) % len(jobs)\n      # yield passes control back to producer with the ith job name\n      getRequest = yield jobs[i]    # waits for request from producer \n      if getRequest:    # if getRequest is not empty process it\n          request,name,num = getRequest\n          if request == \"add\":\n              jobs.append(name)\n              jobs.append(num)\n              sys.stdout.write(\"\\nADD \")\n          elif request == \"remove\" and name in jobs:\n              jobs.remove(name)\n              buf = \"\\nREMOVE \" + name + \"\\n\"\n              sys.stdout.write(buf) \n   print \"\\nNo jobs left to do!\\n\" \ndef producer(jobs):\n   con = consumer(jobs)                   # start the consumer \n   buf = \"Initial job list (\" + str(len(jobs)) + \"): \"\n   sys.stdout.write(buf)\n   for i in range(len(jobs)):\n      printjob(con.next())            # next sends job to consumer w/ no msg  \n   printjob(con.send((\"add\", \"iron\",44)))  # send sends job to consumer w/ msg\n   sys.stdout.write(\"\\n\")\n   for i in range(len(jobs)):\n      printjob(con.next())\n   con.send((\"remove\",\"fold\",33))\n   for i in range(len(jobs)):\n      printjob(con.next()) \n   con.send((\"remove\",\"wash\",11))\n   for i in range(len(jobs)):\n      printjob(con.next()) \n   print \"\\nProducer Done.\"\n\"\"\"\n+ MAIN \n+ acts as the producer coroutine\n+ next passes a job to the consumer with no message passing\n+ send passes a job to the consumer with a message \n\"\"\"\nif __name__ == \"__main__\":             # this means initialize once only\n   jobs = [(\"wash\",11),(\"dry\",22),(\"fold\",33)]        # tuble list\n   pro = producer(jobs)\n</code></pre>\n\n<p>Any help would be greatly appreciated!</p>\n"}, {"tags": ["python"], "answers": [{"comments": [{"owner": {"reputation": 33388, "user_id": 2437514, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/8QN0K.jpg?s=128&g=1", "display_name": "Rick supports Monica", "link": "https://stackoverflow.com/users/2437514/rick-supports-monica"}, "edited": false, "score": 0, "creation_date": 1457573696, "post_id": 35904247, "comment_id": 59472234, "body": "After a bit of testing it is clear you&#39;re absolutely right."}], "tags": [], "owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "is_accepted": true, "score": 3, "last_activity_date": 1457563730, "creation_date": 1457563730, "answer_id": 35904247, "question_id": 35904190, "link": "https://stackoverflow.com/questions/35904190/explicitly-import-only-some-objects-from-a-module/35904247#35904247", "title": "Explicitly import only some objects from a module", "body": "<p><code>import numpy as np</code> is no slower than <code>from numpy import radians, degrees</code>. Both evaluate the entire module first; the only difference is what is added to the global namespace of the importing module afterwards. (If anything, the <em>second</em> is slower, because it adds two items to the namespace instead of just one.)</p>\n\n<p>So, just use <code>import numpy as np</code>, and don't worry about the things you aren't using.</p>\n"}], "owner": {"reputation": 33388, "user_id": 2437514, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/8QN0K.jpg?s=128&g=1", "display_name": "Rick supports Monica", "link": "https://stackoverflow.com/users/2437514/rick-supports-monica"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 2, "accepted_answer_id": 35904247, "answer_count": 1, "score": 1, "last_activity_date": 1457563730, "creation_date": 1457563489, "question_id": 35904190, "link": "https://stackoverflow.com/questions/35904190/explicitly-import-only-some-objects-from-a-module", "title": "Explicitly import only some objects from a module", "body": "<p>I would like to use the <code>radians</code> and <code>degrees</code> functions from the <code>numpy</code> module. However, <code>numpy</code> is friggin' huge, and I don't want to import the whole thing, i.e.: </p>\n\n<pre><code>import numpy as np\n</code></pre>\n\n<p>I can do this the usual way: </p>\n\n<pre><code>from numpy import radians, degrees\n</code></pre>\n\n<p>However, I prefer the syntax <code>np.degrees</code> because of its explicitness. </p>\n\n<p>Here is how I have been doing this; basically I import the objects/functions I want from the module, then I create a \"dummy\" <code>np</code> object in which to store the imported objects/functions: </p>\n\n<pre><code>from numpy import radians, degrees\nnp = type('', (object,), dict(radians = radians, degrees = degrees))\ndel degrees\ndel radians\n</code></pre>\n\n<p>It seems as if there has to be a better, more straightforward way of doing this. What is it? </p>\n"}, {"tags": ["python", "google-cloud-dataflow"], "comments": [{"owner": {"reputation": 1137, "user_id": 1955720, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/6af8482c7db54924a35d1148515b964f?s=128&d=identicon&r=PG", "display_name": "Thom Rogers", "link": "https://stackoverflow.com/users/1955720/thom-rogers"}, "edited": false, "score": 0, "creation_date": 1457564750, "post_id": 35904185, "comment_id": 59469260, "body": "I think this may be a Python version issue.  If I am NOT in my virtual environment, my default Python version is Python 2.7.10.   However once I activate my virtual environment, then suddenly my default Python is Python 3.5.0.    So what should I do to rectify this?  BTW,  I installed virtual environment per the instructions on the git hub README,  My version is virtualenv 15.0.0.  So how do I change the virtualenv to have the Python 2.7 as default instead of 3.5?"}], "answers": [{"tags": [], "owner": {"reputation": 1137, "user_id": 1955720, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/6af8482c7db54924a35d1148515b964f?s=128&d=identicon&r=PG", "display_name": "Thom Rogers", "link": "https://stackoverflow.com/users/1955720/thom-rogers"}, "is_accepted": false, "score": 1, "last_activity_date": 1457591871, "creation_date": 1457591871, "answer_id": 35909303, "question_id": 35904185, "link": "https://stackoverflow.com/questions/35904185/python-sdk-google-dataflow-name-execfile-is-not-defined/35909303#35909303", "title": "Python SDK Google Dataflow - name &#39;execfile&#39; is not defined", "body": "<p>As I suspected the issue was with the Python version default when invoking</p>\n\n<pre><code>virtualenv /path/to/directory\n</code></pre>\n\n<p>I substituted this  </p>\n\n<pre><code>sudo virtualenv --python=python2.7 /path/to/directory\n</code></pre>\n\n<p>and completed a successfull install and test of the package</p>\n"}], "owner": {"reputation": 1137, "user_id": 1955720, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/6af8482c7db54924a35d1148515b964f?s=128&d=identicon&r=PG", "display_name": "Thom Rogers", "link": "https://stackoverflow.com/users/1955720/thom-rogers"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 544, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1457591871, "creation_date": 1457563464, "question_id": 35904185, "link": "https://stackoverflow.com/questions/35904185/python-sdk-google-dataflow-name-execfile-is-not-defined", "title": "Python SDK Google Dataflow - name &#39;execfile&#39; is not defined", "body": "<p>Trying to install the DataflowPythonSDK  from <a href=\"https://github.com/GoogleCloudPlatform/DataflowPythonSDK\" rel=\"nofollow\">https://github.com/GoogleCloudPlatform/DataflowPythonSDK</a></p>\n\n<p>Followed directions but when trying to run the command, </p>\n\n<pre><code>python setup.py install\n</code></pre>\n\n<p>I get this error:</p>\n\n<pre><code>    Traceback (most recent call last):\n    File \"setup.py\", line 89, in &lt;module&gt;\n    _PYTHON_DATAFLOW_VERSION = get_dataflow_version()\n    File \"setup.py\", line 60, in get_dataflow_version\n    execfile(os.path.normpath('./google/cloud/dataflow/version.py'),\n    NameError: name 'execfile' is not defined\n</code></pre>\n\n<p>Any clues as to where this file should be found?  I am running in a virtual environment per the instructions and have cloned the SDK from GitHub</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 1752, "user_id": 2029790, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/655269fb547aed3b52ab6048e9851c3c?s=128&d=identicon&r=PG", "display_name": "Vincent Orback", "link": "https://stackoverflow.com/users/2029790/vincent-orback"}, "edited": false, "score": 3, "creation_date": 1457563215, "post_id": 35904055, "comment_id": 59468587, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/5387208/convert-a-string-to-an-array\">convert a string to an array</a>"}], "answers": [{"tags": [], "owner": {"reputation": 771, "user_id": 6010239, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19bfdc532ab497b810c268922fb76caa?s=128&d=identicon&r=PG", "display_name": "Dimitri Merejkowsky", "link": "https://stackoverflow.com/users/6010239/dimitri-merejkowsky"}, "is_accepted": false, "score": 3, "last_activity_date": 1457563070, "creation_date": 1457563070, "answer_id": 35904091, "question_id": 35904055, "link": "https://stackoverflow.com/questions/35904055/how-do-i-convert-string-to-list-in-python/35904091#35904091", "title": "How do I convert string to list in Python?", "body": "<p>Note that you do not have to convert to a list if all you want to do is to iterate over the characters of the string:</p>\n\n<pre><code>for c in \"hello\":\n     # do something with c\n</code></pre>\n\n<p>works</p>\n"}, {"comments": [{"owner": {"reputation": 16773, "user_id": 5827215, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-s_pAOw1Sc-M/AAAAAAAAAAI/AAAAAAAAAMA/J-R1IMHbuY4/photo.jpg?sz=128", "display_name": "Tadhg McDonald-Jensen", "link": "https://stackoverflow.com/users/5827215/tadhg-mcdonald-jensen"}, "edited": false, "score": 0, "creation_date": 1457563244, "post_id": 35904104, "comment_id": 59468602, "body": "correction: will raise an error if x is not iterable, will obviously not give desired results if x is not a <code>str</code>"}], "tags": [], "owner": {"reputation": 19246, "user_id": 494134, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/3XHKr.png?s=128&g=1", "display_name": "John Gordon", "link": "https://stackoverflow.com/users/494134/john-gordon"}, "is_accepted": false, "score": 2, "last_activity_date": 1457563141, "creation_date": 1457563141, "answer_id": 35904104, "question_id": 35904055, "link": "https://stackoverflow.com/questions/35904055/how-do-i-convert-string-to-list-in-python/35904104#35904104", "title": "How do I convert string to list in Python?", "body": "<p>Building on @idjaw's comment:</p>\n\n<pre><code>def stringParametre(x):\n    return list(x)\n</code></pre>\n\n<p>Of course this will have an error if <code>x</code> is not a string (or other sequence type).</p>\n"}, {"tags": [], "owner": {"reputation": 9930, "user_id": 4681341, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/55ef1e6b691f1eb41408ad1e1ad6f3d8?s=128&d=identicon&r=PG&f=1", "display_name": "VK_217", "link": "https://stackoverflow.com/users/4681341/vk-217"}, "is_accepted": false, "score": 2, "last_activity_date": 1457563278, "last_edit_date": 1457563278, "creation_date": 1457563248, "answer_id": 35904142, "question_id": 35904055, "link": "https://stackoverflow.com/questions/35904055/how-do-i-convert-string-to-list-in-python/35904142#35904142", "title": "How do I convert string to list in Python?", "body": "<pre><code>list(x)\n</code></pre>\n\n<p>OR</p>\n\n<pre><code>mylist = []\nfor c in x:\n    mylist.append(c)\n</code></pre>\n"}], "owner": {"reputation": 9, "user_id": 6042000, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b13f21e6a2f3ef9626cdf301bd2bd32?s=128&d=identicon&r=PG&f=1", "display_name": "TheBossOverlord", "link": "https://stackoverflow.com/users/6042000/thebossoverlord"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 125, "favorite_count": 0, "closed_date": 1458540393, "answer_count": 3, "score": -3, "last_activity_date": 1457563278, "creation_date": 1457562863, "question_id": 35904055, "link": "https://stackoverflow.com/questions/35904055/how-do-i-convert-string-to-list-in-python", "closed_reason": "Needs more focus", "title": "How do I convert string to list in Python?", "body": "<p>How do I convert <strong><em>def stringParametre(x)</em></strong> x to a list so that if x is hello then it will become a list like [\"H\",\"E\",\"l\",\"l\",\"O\"] . Capitals don't matter .</p>\n"}, {"tags": ["python", "json", "web-scraping", "scrapy"], "answers": [{"comments": [{"owner": {"reputation": 18146, "user_id": 646619, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/bd61a0f309ebc135d2661710c2faf379?s=128&d=identicon&r=PG", "display_name": "Colonel Thirty Two", "link": "https://stackoverflow.com/users/646619/colonel-thirty-two"}, "edited": false, "score": 0, "creation_date": 1457563555, "post_id": 35904132, "comment_id": 59468748, "body": "OP is asking how to parse his string. The fact that it&#39;s stored in MongoDB is tangential."}, {"owner": {"reputation": 100, "user_id": 6041997, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/a12d47317fb01b18e7939a18f8458eac?s=128&d=identicon&r=PG&f=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/6041997/jason"}, "edited": false, "score": 0, "creation_date": 1457563660, "post_id": 35904132, "comment_id": 59468788, "body": "Thanks for the suggestion! I agree I will probably have to do multiple passes. I&#39;m not as worried about the database part as that is not so relevant to the problem I have of how to actually parse this data. I feel like I can do it in very stupid ways (probably will be inefficient and not be able to process all the data) through python,natively, but I was wondering if there is a better way to do it."}, {"owner": {"reputation": 1790, "user_id": 2926055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8ec33a10c7a355ea0266d08e0808a35?s=128&d=identicon&r=PG&f=1", "display_name": "user2926055", "link": "https://stackoverflow.com/users/2926055/user2926055"}, "edited": false, "score": 0, "creation_date": 1457565635, "post_id": 35904132, "comment_id": 59469608, "body": "Edited answer to include link to <code>re.findAll</code>"}, {"owner": {"reputation": 100, "user_id": 6041997, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/a12d47317fb01b18e7939a18f8458eac?s=128&d=identicon&r=PG&f=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/6041997/jason"}, "edited": false, "score": 0, "creation_date": 1457566624, "post_id": 35904132, "comment_id": 59469991, "body": "I thought about this too! However, I used the word &quot;category&quot; as an example. If they were not named &quot;category x&quot; it would not work. Pretend the categories are named &quot;name&quot; , &quot;age&quot;, &quot;score&quot;. Is there any way I can use regex to account for the different names of categories? Basically find instances of the expression and take everything that is after the regex and store it until you reach a different regex like &quot;name&quot;. Thank you again!"}, {"owner": {"reputation": 1790, "user_id": 2926055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8ec33a10c7a355ea0266d08e0808a35?s=128&d=identicon&r=PG&f=1", "display_name": "user2926055", "link": "https://stackoverflow.com/users/2926055/user2926055"}, "edited": false, "score": 0, "creation_date": 1457566973, "post_id": 35904132, "comment_id": 59470116, "body": "Yep, although the more complicated the regex gets, the more fragile things become. Read up on the <a href=\"https://docs.python.org/2/howto/regex.html#more-metacharacters\" rel=\"nofollow noreferrer\">&quot;or/alternation&quot; metacharacter</a>, which in your case might change the regex to be something more like <code>r&#39;(name|age|score): (.*)&#39;</code>"}, {"owner": {"reputation": 100, "user_id": 6041997, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/a12d47317fb01b18e7939a18f8458eac?s=128&d=identicon&r=PG&f=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/6041997/jason"}, "edited": false, "score": 0, "creation_date": 1457567366, "post_id": 35904132, "comment_id": 59470252, "body": "Thanks will do! I will definitely check it out. Maybe I will end up writing a module to make it easier to parse through data in this format when I&#39;m done with this project :)"}], "tags": [], "owner": {"reputation": 1790, "user_id": 2926055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8ec33a10c7a355ea0266d08e0808a35?s=128&d=identicon&r=PG&f=1", "display_name": "user2926055", "link": "https://stackoverflow.com/users/2926055/user2926055"}, "is_accepted": false, "score": -2, "last_activity_date": 1457565611, "last_edit_date": 1457565611, "creation_date": 1457563202, "answer_id": 35904132, "question_id": 35904054, "link": "https://stackoverflow.com/questions/35904054/best-way-to-parse-through-scraped-data/35904132#35904132", "title": "Best way to parse through scraped data", "body": "<p>That sounds like a specific enough task that you'll probably have to do another pass of data processing. <a href=\"https://docs.mongodb.org/getting-started/python/client/\" rel=\"nofollow\"><code>pymongo</code></a> is my preferred library for interacting with data in a Mongo database in python (and is what mongodb itself recommends).</p>\n\n<p>For parsing the strings themselves, read up on regular expressions, specifically the <a href=\"https://docs.python.org/2/library/re.html#re.findall\" rel=\"nofollow\"><code>.findall</code></a> method:</p>\n\n<pre><code>&gt;&gt;&gt; import re\n&gt;&gt;&gt; data_string = \"category 1: test test \\n category2: test test \\n test test \\n category 3: test test test \\n category 4: this is data in category 4 \"\n&gt;&gt;&gt; m = re.findall(r'(category\\s*\\d+): (.*)', data_string)\n&gt;&gt;&gt; m\n[('category 1', 'test test '), ('category2', 'test test '), ('category 3', 'test test test '), ('category 4', 'this is data in category 4 ')]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 81, "user_id": 6010225, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c69b5eec4a32f82e691729878898e659?s=128&d=identicon&r=PG&f=1", "display_name": "Eric La Fevers", "link": "https://stackoverflow.com/users/6010225/eric-la-fevers"}, "is_accepted": false, "score": 0, "last_activity_date": 1457566580, "creation_date": 1457566580, "answer_id": 35904835, "question_id": 35904054, "link": "https://stackoverflow.com/questions/35904054/best-way-to-parse-through-scraped-data/35904835#35904835", "title": "Best way to parse through scraped data", "body": "<p>I would create a list of the keywords then start by finding the indices of those keywords within <em>data</em>, if present. (I rearranged the order the keywords appeared in <em>data</em> to demonstrate a later point).</p>\n\n<pre><code>d = {\"data\": \"category 1: test test \\n category 3: test test test \\n category2: test test \\n test test \\n category 4: this is data in category 4 \" }\nkeywords = ['category 1', 'category2', 'category 3', 'category 4']\nkw_indices = [-1]*len(keywords)\ndata = d['data']\n\nfor i in range(len(keywords)):\n    kw = keywords[i]\n    if kw in data:\n        kw_indices[i] = data.index(kw)\n\nkw_indices_sorted = sorted(kw_indices)\n</code></pre>\n\n<p>The starting position of each keyword found in <em>data</em> is given by its value in <em>kw_indices</em>, with -1 indicating that the keyword was not found in <em>data</em>. </p>\n\n<p>To find the ending index of each keyword we find the next starting index from the <em>kw_indices_sorted</em> list, then figure out which keyword has that start index, then get the value of that next starting index.</p>\n\n<pre><code>data_by_category = {}\nfor j in range(len(keywords)):\n    kw = keywords[j]\n\n    if kw_indices[j] &gt; -1:\n        # The keyword was found in the data and we know where in the string it starts\n        kw_start = kw_indices[j]\n        sorted_index = kw_indices_sorted.index(kw_start)\n        if sorted_index &lt; len(kw_indices_sorted) - 1:\n            # This index is not the last/largest value in the list of sorted indices\n            # so there will be a next value.\n            next_kw_start = kw_indices[kw_indices.index(kw_indices_sorted[sorted_index + 1])]\n            kw_data = data[kw_start:next_kw_start]\n        else:\n            kw_data = data[kw_start:]\n\n        # If you don't want the keyword included in the result you can strip it out here\n        kw_data = kw_data.replace(kw + ':', '')\n        data_by_category[kw] = kw_data\n    else:\n        # The keyword was not found in the data, enter an empty value for it or handle this \n        # however else you want.\n        data_by_category[kw] = ''\n\nprint(data_by_category)\n</code></pre>\n\n<p>{'category 1': ' test test \\n ', 'category2': ' test test \\n test test \\n ', 'category 3': ' test test test \\n ', 'category 4': ' this is data in category 4 '}</p>\n"}], "owner": {"reputation": 100, "user_id": 6041997, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/a12d47317fb01b18e7939a18f8458eac?s=128&d=identicon&r=PG&f=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/6041997/jason"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 108, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1457594043, "creation_date": 1457562861, "last_edit_date": 1457594043, "question_id": 35904054, "link": "https://stackoverflow.com/questions/35904054/best-way-to-parse-through-scraped-data", "title": "Best way to parse through scraped data", "body": "<p>I managed to scrape a large amount of data through scrapy and all the data is currently stored as JSON objects in MongoDB. I'm mostly wondering how I can efficiently parse and make sense of the data. I want to extract the data into subsections. For example, pretend I have data stored as: </p>\n\n<pre><code>{\n  \"data\": \"category 1: test test \\n category2: test test \\n test test \\n category 3: test test test \\n category 4: this is data in category 4 \"\n}\n</code></pre>\n\n<p>Essentially I want to go by keywords and extract everything that comes after the keyword until the next keyword. All the information after category 1 (\"test test\") should be stored under \"category 1\". There is not really rhyme or rhythm to category order nor the amount of text after each category but all the categories are there.  </p>\n\n<p>I was wondering if there is any library that I can use to write a script to do this or any tool that would automatically do this for me. Either that or a pointer to a resource where I can learn how to do such a thing.</p>\n"}, {"tags": ["python", "network-programming", "set", "neighbours"], "answers": [{"tags": [], "owner": {"reputation": 5008, "user_id": 3594526, "user_type": "registered", "accept_rate": 30, "profile_image": "https://i.stack.imgur.com/VfPew.jpg?s=128&g=1", "display_name": "Felix", "link": "https://stackoverflow.com/users/3594526/felix"}, "is_accepted": false, "score": 0, "last_activity_date": 1457564169, "creation_date": 1457564169, "answer_id": 35904356, "question_id": 35904026, "link": "https://stackoverflow.com/questions/35904026/how-to-create-a-set-of-neighboring-nodes-based-on-from-and-to-arc-data/35904356#35904356", "title": "How to create a set of neighboring nodes based on &quot;from&quot; and &quot;to&quot; arc data", "body": "<p>Do you know what Object-oriented programming is? </p>\n\n<p>I think the easiest solution is to create a simple class (e.g. Node) that has an attribute neighbors which is a list of other nodes.</p>\n\n<p>You also need a method that adds an edge between two nodes, something like this:</p>\n\n<pre><code>def add_edge(self, other_node):\n    self.neighbors.append(other_node)\n    other_node.neighbors.append(self)\n</code></pre>\n\n<p>Then every Node holds the information which neighbors it has.</p>\n\n<p>Hope this helps ;)</p>\n"}], "owner": {"reputation": 1, "user_id": 4980965, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/545a6431bd5c605160de0b794ab061ef?s=128&d=identicon&r=PG&f=1", "display_name": "Martin K", "link": "https://stackoverflow.com/users/4980965/martin-k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 29, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1457564169, "creation_date": 1457562731, "question_id": 35904026, "link": "https://stackoverflow.com/questions/35904026/how-to-create-a-set-of-neighboring-nodes-based-on-from-and-to-arc-data", "title": "How to create a set of neighboring nodes based on &quot;from&quot; and &quot;to&quot; arc data", "body": "<p>Imagine that you have a set of nodes (1 2 3) and that these nodes are connected through arcs (1,2), (1,3) and (2,3). Together representing a network.</p>\n\n<p>How can I create a subset of nodes, containing all neighboring nodes? i.e. I wan't the following subset to be something like:</p>\n\n<pre><code>NeighborNode\n1 2 3\n2 1 3\n3 1 2 \n</code></pre>\n\n<p>This Python code is far off, but maybe you get the idea:</p>\n\n<pre><code>def NNode_rule(model,i):\nfor i in model.Nodes:\n    model.NNodes[i].add(model.ToNode[i]) if model.Nodes[i]==model.FromNode[i]\nmodel.NNodes = Set(model.Nodes, initialize=NNode_rule)\n</code></pre>\n"}, {"tags": ["python", "django", "django-forms", "django-templates", "django-views"], "comments": [{"owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 2, "creation_date": 1457563325, "post_id": 35903966, "comment_id": 59468643, "body": "Really, you should use the Django forms framework here."}, {"owner": {"reputation": 213, "user_id": 1846359, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/971aad3b47fc00120a6a7e5400c67d0b?s=128&d=identicon&r=PG", "display_name": "user1846359", "link": "https://stackoverflow.com/users/1846359/user1846359"}, "reply_to_user": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 0, "creation_date": 1457563560, "post_id": 35903966, "comment_id": 59468753, "body": "I will in future for sure; I&#39;ve learnt my lesson.  But as far as this project goes, this is the last hurdle so I&#39;m just going to roll with it for now."}, {"owner": {"reputation": 9497, "user_id": 1762988, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/kLQV4.jpg?s=128&g=1", "display_name": "ilse2005", "link": "https://stackoverflow.com/users/1762988/ilse2005"}, "edited": false, "score": 0, "creation_date": 1457568996, "post_id": 35903966, "comment_id": 59470815, "body": "Can you post your models? And is <code>contactmanager&#47;index.html</code> the empty form?"}, {"owner": {"reputation": 213, "user_id": 1846359, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/971aad3b47fc00120a6a7e5400c67d0b?s=128&d=identicon&r=PG", "display_name": "user1846359", "link": "https://stackoverflow.com/users/1846359/user1846359"}, "edited": false, "score": 0, "creation_date": 1457578283, "post_id": 35903966, "comment_id": 59473594, "body": "Done.  index.html just loops through the contacts in the ContactList model and displays them.  So I&#39;m expecting that the newly created ones would show up there."}], "owner": {"reputation": 213, "user_id": 1846359, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/971aad3b47fc00120a6a7e5400c67d0b?s=128&d=identicon&r=PG", "display_name": "user1846359", "link": "https://stackoverflow.com/users/1846359/user1846359"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 135, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1457578236, "creation_date": 1457562512, "last_edit_date": 1457578236, "question_id": 35903966, "link": "https://stackoverflow.com/questions/35903966/post-form-not-writing-to-django-database", "title": "POST form not writing to Django database", "body": "<p>I'm having some trouble getting data from an html form to write new stuff to the sqlite database.  I've used something similar to edit existing entries (contacts) originally created via shell but it doesn't seem to work when creating new entries.  When I submit the form, it shows the same page, but blank, and doesn't redirect me either.</p>\n\n<p>My HTML:</p>\n\n<pre><code>&lt;form action=\"{% url 'contactmanager:addnewcontact' %}\" method=\"POST\"&gt;\n{% csrf_token %}\n&lt;ul&gt;\n    &lt;li&gt;&lt;label&gt;First Name: &lt;/label&gt; &lt;input type=\"text\" name=\"fname\" id=\"fname\"/&gt;&lt;/li&gt;\n    &lt;li&gt;&lt;label&gt;Last Name: &lt;/label&gt; &lt;input type=\"text\" name=\"lname\" id=\"lname\"/&gt;&lt;/li&gt;\n    &lt;li&gt;&lt;label&gt;Email: &lt;/label&gt; &lt;input type=\"text\" name=\"email\" id=\"email\"/&gt;&lt;/li&gt;\n    &lt;li&gt;&lt;label&gt;Phone Number: &lt;/label&gt; &lt;input type=\"text\" name=\"pnumber\" id=\"pnumber\"/&gt;&lt;/li&gt;\n    &lt;li&gt;&lt;label&gt;Notes: &lt;/label&gt; &lt;input type=\"text\" name=\"notes\" id=\"notes\"/&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;input type=\"submit\" value=\"Create\" /&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>My view.py:</p>\n\n<pre><code>def addnewcontact(request):\n    contact = ContactList(fname=request.POST.get('fname'), lname=request.POST.get('lname'))\n    contact.save()\n    contactinfo = ContactList.objects.get(pk=contact.id)\n    contactinfo.contactdetails_set.create(lname=request.POST.get('lname'), email=request.POST.get('email'), pnumber=request.POST.get('pnumber'), notes=request.POST.get('notes'))\n    return HttpResponseRedirect('contactmanager/index.html')\n</code></pre>\n\n<p>My models.py:</p>\n\n<pre><code>class ContactList(models.Model):\n    fname = models.CharField(max_length=200)\n    lname = models.CharField(max_length=200)\n    def __str__(self):\n        contact_name = self.fname + ' ' + self.lname\n        return contact_name\nclass ContactDetails(models.Model):\n    fname = models.ForeignKey(ContactList, on_delete=models.CASCADE)\n    lname = models.CharField(max_length=200)\n    email = models.CharField(max_length=200)\n    pnumber = models.CharField(max_length=15)\n    notes = models.TextField(default = ' ')\n    def __str__(self):\n        return self.email\n</code></pre>\n\n<p>FYI: fname is the foreign key that relates the ContactDetails model to ContactList.</p>\n\n<p>Is there something wrong with my ORM queries?  They're similar to the ones I used to create some initial 'contacts' via python manage.py shell.</p>\n"}, {"tags": ["python", "wtforms"], "comments": [{"owner": {"reputation": 16773, "user_id": 5827215, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-s_pAOw1Sc-M/AAAAAAAAAAI/AAAAAAAAAMA/J-R1IMHbuY4/photo.jpg?sz=128", "display_name": "Tadhg McDonald-Jensen", "link": "https://stackoverflow.com/users/5827215/tadhg-mcdonald-jensen"}, "edited": false, "score": 0, "creation_date": 1457562711, "post_id": 35903919, "comment_id": 59468335, "body": "do you mean the problem with <code>choices</code> is that the radio buttons need to be one after another and cannot have checkboxes inserted in between?"}, {"owner": {"reputation": 455, "user_id": 2091046, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/11bb3fee1ab01893f6f5a7c57efc7ae5?s=128&d=identicon&r=PG", "display_name": "user2091046", "link": "https://stackoverflow.com/users/2091046/user2091046"}, "reply_to_user": {"reputation": 16773, "user_id": 5827215, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-s_pAOw1Sc-M/AAAAAAAAAAI/AAAAAAAAAMA/J-R1IMHbuY4/photo.jpg?sz=128", "display_name": "Tadhg McDonald-Jensen", "link": "https://stackoverflow.com/users/5827215/tadhg-mcdonald-jensen"}, "edited": false, "score": 0, "creation_date": 1457563298, "post_id": 35903919, "comment_id": 59468633, "body": "exactly. I need to somehow insert the checkboxes between the radio buttons, but the radio buttons need to keep their features (only one radio button can be selected/active)"}, {"owner": {"reputation": 16773, "user_id": 5827215, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-s_pAOw1Sc-M/AAAAAAAAAAI/AAAAAAAAAMA/J-R1IMHbuY4/photo.jpg?sz=128", "display_name": "Tadhg McDonald-Jensen", "link": "https://stackoverflow.com/users/5827215/tadhg-mcdonald-jensen"}, "edited": false, "score": 0, "creation_date": 1457563603, "post_id": 35903919, "comment_id": 59468771, "body": "maybe a <a href=\"https://wtforms.readthedocs.org/en/latest/fields.html#wtforms.fields.FieldList\" rel=\"nofollow noreferrer\">FieldList</a>? It has a parameter for <code>max_entries</code>."}, {"owner": {"reputation": 455, "user_id": 2091046, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/11bb3fee1ab01893f6f5a7c57efc7ae5?s=128&d=identicon&r=PG", "display_name": "user2091046", "link": "https://stackoverflow.com/users/2091046/user2091046"}, "reply_to_user": {"reputation": 16773, "user_id": 5827215, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-s_pAOw1Sc-M/AAAAAAAAAAI/AAAAAAAAAMA/J-R1IMHbuY4/photo.jpg?sz=128", "display_name": "Tadhg McDonald-Jensen", "link": "https://stackoverflow.com/users/5827215/tadhg-mcdonald-jensen"}, "edited": false, "score": 0, "creation_date": 1457564174, "post_id": 35903919, "comment_id": 59469014, "body": "FieldList is a list of multiple instances of the same field type and I need to mix the types, or am I not getting this right?"}, {"owner": {"reputation": 16773, "user_id": 5827215, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-s_pAOw1Sc-M/AAAAAAAAAAI/AAAAAAAAAMA/J-R1IMHbuY4/photo.jpg?sz=128", "display_name": "Tadhg McDonald-Jensen", "link": "https://stackoverflow.com/users/5827215/tadhg-mcdonald-jensen"}, "edited": false, "score": 0, "creation_date": 1457565181, "post_id": 35903919, "comment_id": 59469448, "body": "sorry I haven&#39;t used <code>wtforms</code> before and that seemed promising based on absolutely no prior knowledge.  I wish you luck finding an answer!"}], "owner": {"reputation": 455, "user_id": 2091046, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/11bb3fee1ab01893f6f5a7c57efc7ae5?s=128&d=identicon&r=PG", "display_name": "user2091046", "link": "https://stackoverflow.com/users/2091046/user2091046"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 87, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1457562343, "creation_date": 1457562343, "question_id": 35903919, "link": "https://stackoverflow.com/questions/35903919/python-wtforms-nesting-mixing-different-field-types", "title": "Python wtforms - nesting/mixing different field types", "body": "<p>I'm using wtforms to make a form which contains of RadioFields under which I've got a section of BooleanFields (checkboxes).</p>\n\n<p>Selecting one of the radio fields enables the section under it- probably will be done via jQuery.</p>\n\n<p>My problem is that the radio fields are separate (not binded with each other, have different \"name\" value, can select all of them). I define them as:</p>\n\n<pre><code>foo = RadioField('foo')\nbar = RadioField('bar')\n</code></pre>\n\n<p>I've tried using the <code>choices</code> parameter on the radio field but I end up with a (properly working) list of radio buttons one after another, with no option to follow the radio button with a couple of checkboxes.</p>\n\n<p>Thanks for any tips.</p>\n"}, {"tags": ["python", "string", "python-3.x", "dictionary"], "comments": [{"owner": {"reputation": 62800, "user_id": 391161, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/fb76d8bcc69144a3ee4c893ece7fc588?s=128&d=identicon&r=PG&f=1", "display_name": "merlin2011", "link": "https://stackoverflow.com/users/391161/merlin2011"}, "edited": false, "score": 0, "creation_date": 1457563282, "post_id": 35903894, "comment_id": 59468624, "body": "Are the annotations of <code>1:1</code> in the file itself?"}, {"owner": {"reputation": 43, "user_id": 5485853, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1243313625694067/picture?type=large", "display_name": "Aleandro", "link": "https://stackoverflow.com/users/5485853/aleandro"}, "reply_to_user": {"reputation": 62800, "user_id": 391161, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/fb76d8bcc69144a3ee4c893ece7fc588?s=128&d=identicon&r=PG&f=1", "display_name": "merlin2011", "link": "https://stackoverflow.com/users/391161/merlin2011"}, "edited": false, "score": 0, "creation_date": 1457563530, "post_id": 35903894, "comment_id": 59468734, "body": "Yes , They  are. It goes from 1:1 to 1:25, then from 2:1 tot 2:25. And so on."}], "answers": [{"tags": [], "owner": {"reputation": 100, "user_id": 6041997, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/a12d47317fb01b18e7939a18f8458eac?s=128&d=identicon&r=PG&f=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/6041997/jason"}, "is_accepted": false, "score": 0, "last_activity_date": 1457563936, "last_edit_date": 1457563936, "creation_date": 1457563369, "answer_id": 35904164, "question_id": 35903894, "link": "https://stackoverflow.com/questions/35903894/concatenate-two-lines-if-they-are-not-empty/35904164#35904164", "title": "Concatenate two lines if they are not empty", "body": "<p>A possible way you might tackle this problem is to go through your file once and make a list of indices that start with a numerical value. Then you can use the indices to create your dictionary because you know that every 2 numbers in your indices contains one item that should be inserted into your dictionary.</p>\n"}, {"comments": [{"owner": {"reputation": 43, "user_id": 5485853, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1243313625694067/picture?type=large", "display_name": "Aleandro", "link": "https://stackoverflow.com/users/5485853/aleandro"}, "edited": false, "score": 0, "creation_date": 1457565114, "post_id": 35904321, "comment_id": 59469429, "body": "Yes that could do the job. But actually the problem is more sofisticated then my examples. But can I run a code like this  just to kind of refactor the file. So the file  becomes:  <code>&gt; 1:1 Bob drives his car. &gt;  &gt; 1:2 Bob and his wife are going on a trip. They will have an awesome time on the beach. &gt;</code>"}, {"owner": {"reputation": 28245, "user_id": 1547004, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5255289d0269d550a4e80e6bf6b0f590?s=128&d=identicon&r=PG", "display_name": "Brendan Abel", "link": "https://stackoverflow.com/users/1547004/brendan-abel"}, "reply_to_user": {"reputation": 43, "user_id": 5485853, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1243313625694067/picture?type=large", "display_name": "Aleandro", "link": "https://stackoverflow.com/users/5485853/aleandro"}, "edited": false, "score": 0, "creation_date": 1457565220, "post_id": 35904321, "comment_id": 59469465, "body": "How is your file more sophisticated?  Does your file actually contain the <code>&gt; </code> characters on every line?"}, {"owner": {"reputation": 43, "user_id": 5485853, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1243313625694067/picture?type=large", "display_name": "Aleandro", "link": "https://stackoverflow.com/users/5485853/aleandro"}, "edited": false, "score": 0, "creation_date": 1457565688, "post_id": 35904321, "comment_id": 59469627, "body": "No the &quot;&gt;&quot; , stands for the begin of a line. But is it possible to change the file. So two lines after each other without a newline between them. Will be changed into one line?"}, {"owner": {"reputation": 28245, "user_id": 1547004, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5255289d0269d550a4e80e6bf6b0f590?s=128&d=identicon&r=PG", "display_name": "Brendan Abel", "link": "https://stackoverflow.com/users/1547004/brendan-abel"}, "reply_to_user": {"reputation": 43, "user_id": 5485853, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1243313625694067/picture?type=large", "display_name": "Aleandro", "link": "https://stackoverflow.com/users/5485853/aleandro"}, "edited": false, "score": 0, "creation_date": 1457566046, "post_id": 35904321, "comment_id": 59469758, "body": "Yes, it assumes all text blocks are separated by 2 newlines."}, {"owner": {"reputation": 43, "user_id": 5485853, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1243313625694067/picture?type=large", "display_name": "Aleandro", "link": "https://stackoverflow.com/users/5485853/aleandro"}, "edited": false, "score": 0, "creation_date": 1457566255, "post_id": 35904321, "comment_id": 59469830, "body": "They are actually only separated by 1 newline. Like this 1:1 Some text [NEWLINE] 1:2 Some text Text also part of 1:2"}, {"owner": {"reputation": 28245, "user_id": 1547004, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5255289d0269d550a4e80e6bf6b0f590?s=128&d=identicon&r=PG", "display_name": "Brendan Abel", "link": "https://stackoverflow.com/users/1547004/brendan-abel"}, "reply_to_user": {"reputation": 43, "user_id": 5485853, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1243313625694067/picture?type=large", "display_name": "Aleandro", "link": "https://stackoverflow.com/users/5485853/aleandro"}, "edited": false, "score": 0, "creation_date": 1457567171, "post_id": 35904321, "comment_id": 59470183, "body": "Hmm, next time, you should probably not post an example that&#39;s entirely different from the the actual problem.  I updated my answer to handle it without newlines between the blocks."}], "tags": [], "owner": {"reputation": 28245, "user_id": 1547004, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5255289d0269d550a4e80e6bf6b0f590?s=128&d=identicon&r=PG", "display_name": "Brendan Abel", "link": "https://stackoverflow.com/users/1547004/brendan-abel"}, "is_accepted": false, "score": 0, "last_activity_date": 1457567371, "last_edit_date": 1457567371, "creation_date": 1457563990, "answer_id": 35904321, "question_id": 35903894, "link": "https://stackoverflow.com/questions/35903894/concatenate-two-lines-if-they-are-not-empty/35904321#35904321", "title": "Concatenate two lines if they are not empty", "body": "<p>Assuming the file is small enough that you can read the entire thing into memory, you can use regular expressions to parse the blocks.  Here's an <a href=\"https://regex101.com/r/uL9nV6\" rel=\"nofollow\">example in action</a>.</p>\n\n<pre><code>import re\n\nwith open('file.txt', 'r') as f:\n    txt = f.read()\n\nmatches = re.findall(r'^(\\d+:\\d+) (.+?)$(?=(?:\\s^\\d+:\\d+)|\\z)', txt, flags=re.M | re.S)\nd = {m[0]: m[1].replace(r'\\n', '') for m in matches}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6910, "user_id": 567595, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c49e39b67d2ef2f9fc041495ae46fe6d?s=128&d=identicon&r=PG", "display_name": "Stuart", "link": "https://stackoverflow.com/users/567595/stuart"}, "is_accepted": true, "score": 1, "last_activity_date": 1457567818, "last_edit_date": 1457567818, "creation_date": 1457566666, "answer_id": 35904845, "question_id": 35903894, "link": "https://stackoverflow.com/questions/35903894/concatenate-two-lines-if-they-are-not-empty/35904845#35904845", "title": "Concatenate two lines if they are not empty", "body": "<p>You can do it like this - read one line at a time from the file, and where there is a blank line trigger the start of a new section.</p>\n\n<pre><code>start_new_section = True\nkey = None\noutput = {}\nwith open('file.txt', 'r') as f:\n    for line in f:\n        if line == '':\n            start_new_section = True\n        elif start_new_section:\n            words = line.split(' ')\n            key = words[0]\n            output[key] = ' '.join(words[1:])\n            start_new_section = False\n        else:\n            output[key] += line\n\nprint(output)\n</code></pre>\n\n<p>Or a tidier version of the same idea:</p>\n\n<pre><code>key = None\noutput = {}\nwith open('file.txt', 'r') as f:\n    for line in f:\n        if not line:\n            key = None\n        elif key:\n            output[key] += line\n        else:\n            key, _, output[key] = line.partition(' ')\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 5485853, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1243313625694067/picture?type=large", "display_name": "Aleandro", "link": "https://stackoverflow.com/users/5485853/aleandro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 110, "favorite_count": 1, "accepted_answer_id": 35904845, "answer_count": 3, "score": 3, "last_activity_date": 1457567818, "creation_date": 1457562204, "last_edit_date": 1457566999, "question_id": 35903894, "link": "https://stackoverflow.com/questions/35903894/concatenate-two-lines-if-they-are-not-empty", "title": "Concatenate two lines if they are not empty", "body": "<p>I want to combine 2 lines of text into one, but only when they are both not empty lines. For example:</p>\n\n<pre><code>1:1 Bob drives his car.\n1:2 Bob and his wife are going on a trip. \nThey will have an awesome time on the beach.\n</code></pre>\n\n<p>I want to put them into a dictionary like this: </p>\n\n<pre><code>dict[1:1] gives me \"Bob drives his car.\"\nand dict[1:2] must give me \"Bob and his wife are going on a trip.They will have an awesome time on the beach.\"\n</code></pre>\n\n<p>I know how to fix the fist one (<code>dict[1:1]</code>), but I have no idea how I can take the two sentences together.</p>\n\n<p>Or is there an option that if a sentence is followed by another one you can put them on one line? This is just an example in reality , the file contains 100000 lines.</p>\n"}, {"tags": ["python", "django", "url", "redirect", "external-url"], "comments": [{"owner": {"reputation": 19246, "user_id": 494134, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/3XHKr.png?s=128&g=1", "display_name": "John Gordon", "link": "https://stackoverflow.com/users/494134/john-gordon"}, "edited": false, "score": 1, "creation_date": 1457562173, "post_id": 35903832, "comment_id": 59468076, "body": "What do you mean by <i>it does not work</i>?  The optout view renders the Training template instead of returning the redirect?"}, {"owner": {"reputation": 3744, "user_id": 2521204, "user_type": "registered", "accept_rate": 12, "profile_image": "https://i.stack.imgur.com/NpzZe.png?s=128&g=1", "display_name": "1man", "link": "https://stackoverflow.com/users/2521204/1man"}, "reply_to_user": {"reputation": 19246, "user_id": 494134, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/3XHKr.png?s=128&g=1", "display_name": "John Gordon", "link": "https://stackoverflow.com/users/494134/john-gordon"}, "edited": false, "score": 0, "creation_date": 1457562360, "post_id": 35903832, "comment_id": 59468164, "body": "@JohnGordon, yes. You&#39;re right. The optout view renders the Training template instead of returning the redirect, though the parameters are saved in the database as expected."}, {"owner": {"reputation": 31, "user_id": 5758905, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f3afdaeb90b47dfec75b898bb86fecc?s=128&d=identicon&r=PG&f=1", "display_name": "AramirezMiori", "link": "https://stackoverflow.com/users/5758905/aramirezmiori"}, "edited": false, "score": 0, "creation_date": 1457562605, "post_id": 35903832, "comment_id": 59468282, "body": "similiar question is answered <a href=\"http://stackoverflow.com/questions/12326504/django-redirect-to-custom-url\">here</a>"}, {"owner": {"reputation": 19246, "user_id": 494134, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/3XHKr.png?s=128&g=1", "display_name": "John Gordon", "link": "https://stackoverflow.com/users/494134/john-gordon"}, "edited": false, "score": 4, "creation_date": 1457562615, "post_id": 35903832, "comment_id": 59468288, "body": "If it&#39;s rendering the Training template, then very likely your top <code>if</code> statement is evaluating to false (and thus redirect is never called).  The database save must be happening elsewhere.  Try putting in some logging statements."}, {"owner": {"reputation": 488, "user_id": 4688965, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QKQ5f.jpg?s=128&g=1", "display_name": "moojen", "link": "https://stackoverflow.com/users/4688965/moojen"}, "edited": false, "score": 0, "creation_date": 1563806590, "post_id": 35903832, "comment_id": 100812321, "body": "Did you import redirect? from django.shortcuts import redirect"}], "answers": [{"comments": [{"owner": {"reputation": 3744, "user_id": 2521204, "user_type": "registered", "accept_rate": 12, "profile_image": "https://i.stack.imgur.com/NpzZe.png?s=128&g=1", "display_name": "1man", "link": "https://stackoverflow.com/users/2521204/1man"}, "edited": false, "score": 0, "creation_date": 1457562230, "post_id": 35903886, "comment_id": 59468106, "body": "Yes Gator_Python. Thank you for your response. I checked the database for a number of times and both parameters are saved correctly."}, {"owner": {"reputation": 7750, "user_id": 5747944, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90aefeb5e2f0ecf9a68bf851a2b61336?s=128&d=identicon&r=PG", "display_name": "sytech", "link": "https://stackoverflow.com/users/5747944/sytech"}, "reply_to_user": {"reputation": 3744, "user_id": 2521204, "user_type": "registered", "accept_rate": 12, "profile_image": "https://i.stack.imgur.com/NpzZe.png?s=128&g=1", "display_name": "1man", "link": "https://stackoverflow.com/users/2521204/1man"}, "edited": false, "score": 0, "creation_date": 1457562437, "post_id": 35903886, "comment_id": 59468201, "body": "So, what&#39;s happening instead of the expected redirect?"}, {"owner": {"reputation": 3744, "user_id": 2521204, "user_type": "registered", "accept_rate": 12, "profile_image": "https://i.stack.imgur.com/NpzZe.png?s=128&g=1", "display_name": "1man", "link": "https://stackoverflow.com/users/2521204/1man"}, "edited": false, "score": 0, "creation_date": 1457562461, "post_id": 35903886, "comment_id": 59468212, "body": "The optout view renders the Training template instead of returning the redirect, though the parameters are saved in the database as expected."}, {"owner": {"reputation": 7750, "user_id": 5747944, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90aefeb5e2f0ecf9a68bf851a2b61336?s=128&d=identicon&r=PG", "display_name": "sytech", "link": "https://stackoverflow.com/users/5747944/sytech"}, "reply_to_user": {"reputation": 3744, "user_id": 2521204, "user_type": "registered", "accept_rate": 12, "profile_image": "https://i.stack.imgur.com/NpzZe.png?s=128&g=1", "display_name": "1man", "link": "https://stackoverflow.com/users/2521204/1man"}, "edited": false, "score": 1, "creation_date": 1457562549, "post_id": 35903886, "comment_id": 59468253, "body": "Instead of checking your database, try printing out the conditionals you&#39;re checking for to see if they match what you expect. Or change that conditional to <code>if True</code> just for the sake of proving the <code>return redirect</code> portion is working.   Then we can narrow our scope to figure out why those aren&#39;t catching, which is what I suspect is happening."}, {"owner": {"reputation": 7750, "user_id": 5747944, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90aefeb5e2f0ecf9a68bf851a2b61336?s=128&d=identicon&r=PG", "display_name": "sytech", "link": "https://stackoverflow.com/users/5747944/sytech"}, "edited": false, "score": 0, "creation_date": 1457614882, "post_id": 35903886, "comment_id": 59492792, "body": "Thanks, Carpetsmoker. I&#39;m still new to this platform."}, {"owner": {"reputation": 4089, "user_id": 2060348, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/P4jBw.jpg?s=128&g=1", "display_name": "Anurag-Sharma", "link": "https://stackoverflow.com/users/2060348/anurag-sharma"}, "edited": false, "score": 0, "creation_date": 1593043886, "post_id": 35903886, "comment_id": 110644816, "body": "Is there a way we could open the link on a new tab, as we do it in HTML using  <code>_blank</code>?"}], "tags": [], "owner": {"reputation": 7750, "user_id": 5747944, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90aefeb5e2f0ecf9a68bf851a2b61336?s=128&d=identicon&r=PG", "display_name": "sytech", "link": "https://stackoverflow.com/users/5747944/sytech"}, "is_accepted": false, "score": 23, "last_activity_date": 1586799690, "last_edit_date": 1586799690, "creation_date": 1457562160, "answer_id": 35903886, "question_id": 35903832, "link": "https://stackoverflow.com/questions/35903832/how-to-redirect-to-external-url-in-django/35903886#35903886", "title": "How to redirect to external URL in Django?", "body": "<p>Yeah, <code>return redirect('http://stackoverflow.com/')</code> is the correct method. </p>\n\n<p>If you do the following, you can confirm that is a working method to redirect.</p>\n\n<pre><code>   from django.shortcuts import redirect\n\n   def optout(request):\n       return redirect(\"http://stackoverflow.com/\")\n</code></pre>\n\n<p>Your conditional statements must not be catching.</p>\n"}, {"tags": [], "owner": {"reputation": 1170, "user_id": 5302440, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GKjwX.png?s=128&g=1", "display_name": "sandes", "link": "https://stackoverflow.com/users/5302440/sandes"}, "is_accepted": false, "score": 11, "last_activity_date": 1584151933, "last_edit_date": 1584151933, "creation_date": 1536283022, "answer_id": 52214031, "question_id": 35903832, "link": "https://stackoverflow.com/questions/35903832/how-to-redirect-to-external-url-in-django/52214031#52214031", "title": "How to redirect to external URL in Django?", "body": "<p>using class <strong>HttpResponseRedirect</strong></p>\n\n<pre><code>from django.http import HttpResponseRedirect\n\ndef out(request):\n    return HttpResponseRedirect(\"http://google.com\")\n</code></pre>\n\n<p>Or:</p>\n\n<p>using class <strong>HttpResponse</strong></p>\n\n<pre><code>from django.http import HttpResponse\n\ndef out(request):\n    response = HttpResponse(\"\", status=302)\n    response['Location'] = \"http://google.com\"\n    return response\n</code></pre>\n\n<p><strong>NOTE:</strong></p>\n\n<blockquote>\n  <p>The last one is useful to redirect from a website to a mobile\n  (Android/Iphone) app. Where location is <code>scheme://host</code></p>\n</blockquote>\n"}], "owner": {"reputation": 3744, "user_id": 2521204, "user_type": "registered", "accept_rate": 12, "profile_image": "https://i.stack.imgur.com/NpzZe.png?s=128&g=1", "display_name": "1man", "link": "https://stackoverflow.com/users/2521204/1man"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 20434, "favorite_count": 5, "answer_count": 2, "score": 24, "last_activity_date": 1592301044, "creation_date": 1457561969, "last_edit_date": 1457566785, "question_id": 35903832, "link": "https://stackoverflow.com/questions/35903832/how-to-redirect-to-external-url-in-django", "title": "How to redirect to external URL in Django?", "body": "<p>I think this should be easy, but I cannot figure it out. I am trying to write an opt-out view. I am receiving a get request. Through urls.py, I render my opt-out view. In this view, I save some parameters for the user in the database and then I want to redirect the user to an external URL. I tried:</p>\n\n<pre><code>return redirect('http://stackoverflow.com/')\n</code></pre>\n\n<p>from <a href=\"https://docs.djangoproject.com/en/1.8/topics/http/shortcuts/#redirect\" rel=\"noreferrer\">Django documentation</a>. However, the optout view renders the training template instead of returning the redirect, though the parameters are saved in the database as expected. My code is as follows:</p>\n\n<pre><code>def optout(request):\n    if (('REMOTE_USER' in request.META and request.META['REMOTE_USER'] != \"\") or \n        (request.session.get('userid', False) and request.session['userid'] != \"\")):\n        if ('REMOTE_USER' in request.META and request.META['REMOTE_USER'] != \"\"):\n            userid = request.META['REMOTE_USER']\n        if (request.session.get('userid', False) and request.session['userid'] != \"\"):\n            userid = request.session['userid']\n        user = User.objects.get(username=userid)\n        user.optout = True\n        user.postpone = False\n        user.save()\n        return redirect('http://stackoverflow.com/')\n    context = { 'userid': \"\" }\n    return render(request, 'games/Training.html', context)\n</code></pre>\n\n<p>Any help is highly appreciated.</p>\n"}, {"tags": ["python"], "answers": [{"comments": [{"owner": {"reputation": 21133, "user_id": 1084416, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RLhZZ.jpg?s=128&g=1", "display_name": "Peter Wood", "link": "https://stackoverflow.com/users/1084416/peter-wood"}, "edited": false, "score": 2, "creation_date": 1457562498, "post_id": 35903934, "comment_id": 59468229, "body": "Why not use <a href=\"https://docs.python.org/2/library/functions.html#enumerate\" rel=\"nofollow noreferrer\"><b><code>enumerate</code></b></a> to do the counting for you?"}, {"owner": {"reputation": 74843, "user_id": 2988730, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ZOX7t.jpg?s=128&g=1", "display_name": "Mad Physicist", "link": "https://stackoverflow.com/users/2988730/mad-physicist"}, "edited": false, "score": 1, "creation_date": 1457564312, "post_id": 35903934, "comment_id": 59469072, "body": "That is totally functional but the most awkward use of <code>enumerate</code> I&#39;ve seen. Also, it&#39;s the enumerate function, not the enumerator operator. Your version rhymes better though."}], "tags": [], "owner": {"reputation": 1678, "user_id": 1067308, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/VqP5E.jpg?s=128&g=1", "display_name": "Maecky", "link": "https://stackoverflow.com/users/1067308/maecky"}, "is_accepted": false, "score": 8, "last_activity_date": 1457563012, "last_edit_date": 1457563012, "creation_date": 1457562426, "answer_id": 35903934, "question_id": 35903828, "link": "https://stackoverflow.com/questions/35903828/how-to-print-3x3-array-in-python/35903934#35903934", "title": "how to print 3x3 array in python?", "body": "<p>A simple approach would be to use the modulo operator:<br>\n</p>\n\n<pre><code>listA=['a','b','c','d','e','f','g','h','i','j']\n\ncount = 0\n\nfor item in listA:\n    if not count % 3:\n        print\n    print item,\n    count += 1\n</code></pre>\n\n<p>As pointed out by Peter Wood, you can use the enumerator operator, to avoid the count variable:</p>\n\n<pre class=\"lang-python prettyprint-override\"><code>listA=['a','b','c','d','e','f','g','h','i','j']\n\nlistB = enumerate(listA)\nfor item in listB:\n    if not item[0] % 3:\n        print\n    print item[1],\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "is_accepted": false, "score": 11, "last_activity_date": 1457563151, "last_edit_date": 1457563151, "creation_date": 1457562490, "answer_id": 35903956, "question_id": 35903828, "link": "https://stackoverflow.com/questions/35903828/how-to-print-3x3-array-in-python/35903956#35903956", "title": "how to print 3x3 array in python?", "body": "<p>You can use the logic from the <a href=\"https://docs.python.org/2/library/itertools.html#recipes\">grouper recipe</a>:</p>\n\n<pre><code>listA=['a','b','c','d','e','f','g','h','i','j']\n\nprint(\"\\n\".join(map(\" \".join, zip(*[iter(listA)] * 3))))\na b c\nd e f\ng h i\n</code></pre>\n\n<p>If you don't want to lose elements use <code>izip_longest</code> with an empty string as a fillvalue:</p>\n\n<pre><code>listA=['a','b','c','d','e','f','g','h','i','j']\nfrom itertools import izip_longest\n\nprint(\"\\n\".join(map(\" \".join, izip_longest(*[iter(listA)] * 3,fillvalue=\"\"))))\n</code></pre>\n\n<p>Which differs in that it keeps the j:</p>\n\n<pre><code>a b c\nd e f\ng h i\nj  \n</code></pre>\n\n<p>You can put the logic in a function and call it when you want to print, passing in whatever values you want.</p>\n\n<pre><code>from itertools import izip_longest\n\ndef print_matrix(m,n, fill):\n    print( \"\\n\".join(map(\" \".join, izip_longest(*[iter(m)] * n, fillvalue=fill))))\n</code></pre>\n\n<p>Or without itertools just chunk and join, you can also take a <code>sep</code> arg to use as the delimiter:</p>\n\n<pre><code>def print_matrix(m,n, sep):\n    print( \"\\n\".join(map(\"{}\".format(sep).join, (m[i:i+n] for i in range(0, len(m), n)))))\n</code></pre>\n\n<p>You just need to pass the list and the size for each row:</p>\n\n<pre><code>In [13]: print_matrix(listA, 3, \" \")\na b c\nd e f\ng h i\nj\n\nIn [14]: print_matrix(listA, 3, \",\")\na,b,c\nd,e,f\ng,h,i\nj\n\nIn [15]: print_matrix(listA, 4, \",\")\na,b,c,d\ne,f,g,h\ni,j\n\nIn [16]: print_matrix(listA, 4, \";\")\na;b;c;d\ne;f;g;h\ni;j\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 74843, "user_id": 2988730, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ZOX7t.jpg?s=128&g=1", "display_name": "Mad Physicist", "link": "https://stackoverflow.com/users/2988730/mad-physicist"}, "edited": false, "score": 1, "creation_date": 1457563308, "post_id": 35904093, "comment_id": 59468637, "body": "&quot;Couldn&#39;t be more intuitive!&quot; Really?"}, {"owner": {"reputation": 4763, "user_id": 2329988, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/b9ab817073f9499496b464905713e6a3?s=128&d=identicon&r=PG", "display_name": "en_Knight", "link": "https://stackoverflow.com/users/2329988/en-knight"}, "reply_to_user": {"reputation": 74843, "user_id": 2988730, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ZOX7t.jpg?s=128&g=1", "display_name": "Mad Physicist", "link": "https://stackoverflow.com/users/2988730/mad-physicist"}, "edited": false, "score": 1, "creation_date": 1457563439, "post_id": 35904093, "comment_id": 59468695, "body": "@MadPhysicist syntactically, I don&#39;t think so (well, maybe I&#39;m a little hyperbolic). Take a flat array and reshape it: that makes sense to me. If I saw this I would immediately know what it&#39;s doing: if I saw Padraic&#39;s answer with join-&gt;map-&gt;join-&gt;zip-&gt;iter, it would take a second to figure out what we were doing. That answer is awesome, don&#39;t get me wrong, but I think this is a good option too :)"}, {"owner": {"reputation": 4763, "user_id": 2329988, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/b9ab817073f9499496b464905713e6a3?s=128&d=identicon&r=PG", "display_name": "en_Knight", "link": "https://stackoverflow.com/users/2329988/en-knight"}, "reply_to_user": {"reputation": 74843, "user_id": 2988730, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ZOX7t.jpg?s=128&g=1", "display_name": "Mad Physicist", "link": "https://stackoverflow.com/users/2988730/mad-physicist"}, "edited": false, "score": 0, "creation_date": 1457563550, "post_id": 35904093, "comment_id": 59468743, "body": "@MadPhysicist if you&#39;re going by &quot;intuitive in terms of what someone new to python would be familiar with&quot; then it seems like the ones using modulus are about as good as you&#39;ll get"}, {"owner": {"reputation": 74843, "user_id": 2988730, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ZOX7t.jpg?s=128&g=1", "display_name": "Mad Physicist", "link": "https://stackoverflow.com/users/2988730/mad-physicist"}, "edited": false, "score": 0, "creation_date": 1457563741, "post_id": 35904093, "comment_id": 59468830, "body": "I agree about it being a good option. My initial reflex was to mention numpy as well when I saw matrix in the title. However, I don&#39;t think that adding numpy into the mix is optimal for a guy just trying to figure out how print works. I also wish beginners didn&#39;t have to learn print so early, especially the Python2 statement, but that&#39;s another story."}, {"owner": {"reputation": 4763, "user_id": 2329988, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/b9ab817073f9499496b464905713e6a3?s=128&d=identicon&r=PG", "display_name": "en_Knight", "link": "https://stackoverflow.com/users/2329988/en-knight"}, "reply_to_user": {"reputation": 74843, "user_id": 2988730, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ZOX7t.jpg?s=128&g=1", "display_name": "Mad Physicist", "link": "https://stackoverflow.com/users/2988730/mad-physicist"}, "edited": false, "score": 0, "creation_date": 1457564023, "post_id": 35904093, "comment_id": 59468950, "body": "@MadPhysicist that all sounds fair"}], "tags": [], "owner": {"reputation": 4763, "user_id": 2329988, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/b9ab817073f9499496b464905713e6a3?s=128&d=identicon&r=PG", "display_name": "en_Knight", "link": "https://stackoverflow.com/users/2329988/en-knight"}, "is_accepted": false, "score": 5, "last_activity_date": 1457563078, "creation_date": 1457563078, "answer_id": 35904093, "question_id": 35903828, "link": "https://stackoverflow.com/questions/35903828/how-to-print-3x3-array-in-python/35904093#35904093", "title": "how to print 3x3 array in python?", "body": "<p>An alternative to the two answers given here is to use something that does the formatting for you, like numpy. This is an external dependency you might not want in general, but if you're already storing things in grids/matrices, it can be a logical choice:</p>\n\n<pre><code>from numpy import array\nstr(array(listA).reshape((3,3)))\n</code></pre>\n\n<p>Put it in an array, reshape it in your favourite (compatible) shape, and make it a string. Couldn't be more intuitive!</p>\n"}, {"comments": [{"owner": {"reputation": 704, "user_id": 367605, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/a3e61e195ba7a795b29c4615fb4441da?s=128&d=identicon&r=PG", "display_name": "KlaymenDK", "link": "https://stackoverflow.com/users/367605/klaymendk"}, "edited": false, "score": 2, "creation_date": 1457597536, "post_id": 35904127, "comment_id": 59480818, "body": "Amazing that there are specific &quot;recipes&quot; (as Padraic shows), but I think your path is much better -- because <b>your code is simple and its effect obvious</b> to even a Python novice (that is, without knowledge of (rare?) imports)."}, {"owner": {"reputation": 7051, "user_id": 1916449, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d5611f16fc8a1b73a03e44297682824f?s=128&d=identicon&r=PG", "display_name": "arekolek", "link": "https://stackoverflow.com/users/1916449/arekolek"}, "edited": false, "score": 1, "creation_date": 1457606958, "post_id": 35904127, "comment_id": 59487317, "body": "This could also be rewritten using the print function as <code>for i, v in enumerate(&#39;abcdefghij&#39;, 1): print(v, end=&#39; &#39; if i % 3 else &#39;\\n&#39;)</code>."}, {"owner": {"reputation": 84731, "user_id": 510937, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/70b13a9ae1aae1ca1aa6ac8dab4643f2?s=128&d=identicon&r=PG", "display_name": "Bakuriu", "link": "https://stackoverflow.com/users/510937/bakuriu"}, "edited": false, "score": 0, "creation_date": 1457609450, "post_id": 35904127, "comment_id": 59489034, "body": "You could also avoid <code>start=1</code> and use <code>&#39;\\n&#39; if i%3 == 2 else &#39; &#39;</code> or <code>&#39; &#39; if i%3 &lt; 2 else &#39;\\n&#39;</code>."}, {"owner": {"reputation": 21133, "user_id": 1084416, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RLhZZ.jpg?s=128&g=1", "display_name": "Peter Wood", "link": "https://stackoverflow.com/users/1084416/peter-wood"}, "reply_to_user": {"reputation": 84731, "user_id": 510937, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/70b13a9ae1aae1ca1aa6ac8dab4643f2?s=128&d=identicon&r=PG", "display_name": "Bakuriu", "link": "https://stackoverflow.com/users/510937/bakuriu"}, "edited": false, "score": 0, "creation_date": 1457609686, "post_id": 35904127, "comment_id": 59489203, "body": "@Bakuriu I think that&#39;s less comprehensible."}, {"owner": {"reputation": 84731, "user_id": 510937, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/70b13a9ae1aae1ca1aa6ac8dab4643f2?s=128&d=identicon&r=PG", "display_name": "Bakuriu", "link": "https://stackoverflow.com/users/510937/bakuriu"}, "edited": false, "score": 0, "creation_date": 1457609965, "post_id": 35904127, "comment_id": 59489349, "body": "To me they are the same. BTW: I don&#39;t see the point of calling <code>list</code> when iterating over that string... Is it just because the OP uses a list?"}, {"owner": {"reputation": 21133, "user_id": 1084416, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RLhZZ.jpg?s=128&g=1", "display_name": "Peter Wood", "link": "https://stackoverflow.com/users/1084416/peter-wood"}, "reply_to_user": {"reputation": 84731, "user_id": 510937, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/70b13a9ae1aae1ca1aa6ac8dab4643f2?s=128&d=identicon&r=PG", "display_name": "Bakuriu", "link": "https://stackoverflow.com/users/510937/bakuriu"}, "edited": false, "score": 0, "creation_date": 1457610438, "post_id": 35904127, "comment_id": 59489646, "body": "@Bakuriu I was thinking it would help OP realise they pass their list to enumerate. I&#39;ve removed it now though, as I think it&#39;s self evident (I hope!), and as you point out, it&#39;s redundant. Thanks."}], "tags": [], "owner": {"reputation": 21133, "user_id": 1084416, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RLhZZ.jpg?s=128&g=1", "display_name": "Peter Wood", "link": "https://stackoverflow.com/users/1084416/peter-wood"}, "is_accepted": true, "score": 23, "last_activity_date": 1457610097, "last_edit_date": 1457610097, "creation_date": 1457563188, "answer_id": 35904127, "question_id": 35903828, "link": "https://stackoverflow.com/questions/35903828/how-to-print-3x3-array-in-python/35904127#35904127", "title": "how to print 3x3 array in python?", "body": "<p>You can <a href=\"https://docs.python.org/2/library/functions.html#enumerate\" rel=\"noreferrer\"><strong><code>enumerate</code></strong></a> the items, and print a newline only every third item:</p>\n\n<pre><code>for index, item in enumerate('abcdefghij', start=1):\n    print item,\n    if not index % 3:\n        print\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>a b c\nd e f\ng h i\nj\n</code></pre>\n\n<p><code>enumerate</code> starts counting from zero by default, so I set <code>start=1</code>.</p>\n\n<p>As @arekolek comments, if you're using Python 3, or have imported the print function from the future for Python 2, you can specify the line ending all in one go, instead of the two steps above:</p>\n\n<pre><code>for index, item in enumerate('abcdefghij', start=1):\n    print(item, end=' ' if index % 3 else '\\n')\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 7051, "user_id": 1916449, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d5611f16fc8a1b73a03e44297682824f?s=128&d=identicon&r=PG", "display_name": "arekolek", "link": "https://stackoverflow.com/users/1916449/arekolek"}, "edited": false, "score": 1, "creation_date": 1457564925, "post_id": 35904429, "comment_id": 59469327, "body": "In Python 3: <code>for i in range(0, len(listA), 3): print(*listA[i:i+3])</code>"}, {"owner": {"reputation": 74843, "user_id": 2988730, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ZOX7t.jpg?s=128&g=1", "display_name": "Mad Physicist", "link": "https://stackoverflow.com/users/2988730/mad-physicist"}, "reply_to_user": {"reputation": 7051, "user_id": 1916449, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d5611f16fc8a1b73a03e44297682824f?s=128&d=identicon&r=PG", "display_name": "arekolek", "link": "https://stackoverflow.com/users/1916449/arekolek"}, "edited": false, "score": 0, "creation_date": 1457565716, "post_id": 35904429, "comment_id": 59469635, "body": "@arekolek, that would work fine in py2.7 as well. It works the same whether you step every three or multiply by three. I chose the latter, but your syntax does look cleaner."}, {"owner": {"reputation": 7051, "user_id": 1916449, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d5611f16fc8a1b73a03e44297682824f?s=128&d=identicon&r=PG", "display_name": "arekolek", "link": "https://stackoverflow.com/users/1916449/arekolek"}, "edited": false, "score": 0, "creation_date": 1457566295, "post_id": 35904429, "comment_id": 59469848, "body": "I was actually thinking about the print function when I included the disclaimer. But of course you could <a href=\"https://docs.python.org/2/library/__future__.html\" rel=\"nofollow noreferrer\">import it from the future</a>. BTW you can feel free to incorporate it into your answer."}, {"owner": {"reputation": 74843, "user_id": 2988730, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ZOX7t.jpg?s=128&g=1", "display_name": "Mad Physicist", "link": "https://stackoverflow.com/users/2988730/mad-physicist"}, "reply_to_user": {"reputation": 7051, "user_id": 1916449, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d5611f16fc8a1b73a03e44297682824f?s=128&d=identicon&r=PG", "display_name": "arekolek", "link": "https://stackoverflow.com/users/1916449/arekolek"}, "edited": false, "score": 0, "creation_date": 1457585254, "post_id": 35904429, "comment_id": 59475397, "body": "@arekolek. I may as well."}], "tags": [], "owner": {"reputation": 74843, "user_id": 2988730, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ZOX7t.jpg?s=128&g=1", "display_name": "Mad Physicist", "link": "https://stackoverflow.com/users/2988730/mad-physicist"}, "is_accepted": false, "score": 4, "last_activity_date": 1457585240, "last_edit_date": 1457585240, "creation_date": 1457564531, "answer_id": 35904429, "question_id": 35903828, "link": "https://stackoverflow.com/questions/35903828/how-to-print-3x3-array-in-python/35904429#35904429", "title": "how to print 3x3 array in python?", "body": "<p>You could use the format method of the string object:</p>\n\n<pre><code>for i in range(3):\n    print \"{} {} {}\".format(*listA[3*i:3*i+3])\n</code></pre>\n\n<p>Also, instead of multiplying the index by 3 at every iteration, you can just take steps of three elements through the list:</p>\n\n<pre><code>for i in range(0, len(listA), 3):\n    print \"{} {} {}\".format(*listA[i:i+3])\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 11389, "user_id": 649632, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/840d3d36953a8cc95f1481ba41d01bee?s=128&d=identicon&r=PG", "display_name": "lukas.pukenis", "link": "https://stackoverflow.com/users/649632/lukas-pukenis"}, "edited": false, "score": 4, "creation_date": 1457598724, "post_id": 35908910, "comment_id": 59481481, "body": "Despite Python being awesome this question is not an obfuscated code tournament"}, {"owner": {"reputation": 282, "user_id": 747969, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SYXim.jpg?s=128&g=1", "display_name": "Miles Gillham", "link": "https://stackoverflow.com/users/747969/miles-gillham"}, "reply_to_user": {"reputation": 11389, "user_id": 649632, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/840d3d36953a8cc95f1481ba41d01bee?s=128&d=identicon&r=PG", "display_name": "lukas.pukenis", "link": "https://stackoverflow.com/users/649632/lukas-pukenis"}, "edited": false, "score": 0, "creation_date": 1457614210, "post_id": 35908910, "comment_id": 59492333, "body": "Fine line between &quot;obfuscated&quot; and &quot;beautifully succinct&quot;, wouldn&#39;t you say?"}, {"owner": {"reputation": 21133, "user_id": 1084416, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RLhZZ.jpg?s=128&g=1", "display_name": "Peter Wood", "link": "https://stackoverflow.com/users/1084416/peter-wood"}, "edited": false, "score": 0, "creation_date": 1457618953, "post_id": 35908910, "comment_id": 59495823, "body": "What&#39;s the output?"}, {"owner": {"reputation": 21133, "user_id": 1084416, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RLhZZ.jpg?s=128&g=1", "display_name": "Peter Wood", "link": "https://stackoverflow.com/users/1084416/peter-wood"}, "edited": false, "score": 0, "creation_date": 1457687275, "post_id": 35908910, "comment_id": 59528778, "body": "The output has an extra space at the beginning of each line."}, {"owner": {"reputation": 21133, "user_id": 1084416, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RLhZZ.jpg?s=128&g=1", "display_name": "Peter Wood", "link": "https://stackoverflow.com/users/1084416/peter-wood"}, "edited": false, "score": 0, "creation_date": 1457936189, "post_id": 35908910, "comment_id": 59614817, "body": "The output now has an extra space at the end of each line"}, {"owner": {"reputation": 282, "user_id": 747969, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SYXim.jpg?s=128&g=1", "display_name": "Miles Gillham", "link": "https://stackoverflow.com/users/747969/miles-gillham"}, "edited": false, "score": 0, "creation_date": 1458006674, "post_id": 35908910, "comment_id": 59655173, "body": "No charge for the space."}, {"owner": {"reputation": 21133, "user_id": 1084416, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RLhZZ.jpg?s=128&g=1", "display_name": "Peter Wood", "link": "https://stackoverflow.com/users/1084416/peter-wood"}, "edited": false, "score": 0, "creation_date": 1458635241, "post_id": 35908910, "comment_id": 59936103, "body": "I think, if it&#39;s not clear what errors are in the code, and it takes a number of attempts to get it almost right, it&#39;s not beautiful, and it&#39;s not succinct (clearly expressed)."}, {"owner": {"reputation": 282, "user_id": 747969, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SYXim.jpg?s=128&g=1", "display_name": "Miles Gillham", "link": "https://stackoverflow.com/users/747969/miles-gillham"}, "edited": false, "score": 0, "creation_date": 1458704691, "post_id": 35908910, "comment_id": 59975807, "body": "You&#39;re the only one saying there are errors. Beethoven laboured endlessly to get his music right. But I&#39;m glad my little piece of code has inspired you. Thanks for the input."}], "tags": [], "owner": {"reputation": 282, "user_id": 747969, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SYXim.jpg?s=128&g=1", "display_name": "Miles Gillham", "link": "https://stackoverflow.com/users/747969/miles-gillham"}, "is_accepted": false, "score": 0, "last_activity_date": 1458007986, "last_edit_date": 1458007986, "creation_date": 1457590244, "answer_id": 35908910, "question_id": 35903828, "link": "https://stackoverflow.com/questions/35903828/how-to-print-3x3-array-in-python/35908910#35908910", "title": "how to print 3x3 array in python?", "body": "<pre><code>print ''.join(' '*(n%3!=0)+l+'\\n'*(n%3==2) for n,l in enumerate(listA))\n\na b c\nd e f\ng h i\nj\n</code></pre>\n\n<p>Python is awesome.</p>\n"}, {"tags": [], "owner": {"reputation": 28396, "user_id": 5666987, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/guTdN.jpg?s=128&g=1", "display_name": "Ian", "link": "https://stackoverflow.com/users/5666987/ian"}, "is_accepted": false, "score": 1, "last_activity_date": 1457607530, "creation_date": 1457607530, "answer_id": 35914515, "question_id": 35903828, "link": "https://stackoverflow.com/questions/35903828/how-to-print-3x3-array-in-python/35914515#35914515", "title": "how to print 3x3 array in python?", "body": "<p>One method which have not been mentioned: Get the slice of the list mathematically and <code>print</code> by the slice of the list. </p>\n\n<p>In <code>Python 2.x</code>:</p>\n\n<pre><code>listA=['a','b','c','d','e','f','g','h','i','j']\nval = (len(listA) + 2) // 3\nfor i in range(val):\n    print(' '.join(listA[i*3:(i+1)*3]))\n</code></pre>\n\n<p>In <code>Python 3.x</code>:</p>\n\n<pre><code>listA=['a','b','c','d','e','f','g','h','i','j']\nval = (len(listA) + 2) // 3\nfor i in range(val):\n    print(*listA[i*3:(i+1)*3], sep=\" \")\n</code></pre>\n"}], "owner": {"reputation": 638, "user_id": 5987171, "user_type": "registered", "accept_rate": 82, "profile_image": "https://lh5.googleusercontent.com/-j3Svl8f7d_g/AAAAAAAAAAI/AAAAAAAAACI/q95_gPQvPB4/photo.jpg?sz=128", "display_name": "Smple_V", "link": "https://stackoverflow.com/users/5987171/smple-v"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7537, "favorite_count": 1, "accepted_answer_id": 35904127, "answer_count": 7, "score": 15, "last_activity_date": 1491986892, "creation_date": 1457561945, "last_edit_date": 1459877203, "question_id": 35903828, "link": "https://stackoverflow.com/questions/35903828/how-to-print-3x3-array-in-python", "title": "how to print 3x3 array in python?", "body": "<p>I need to print a 3 x 3 array for a game called TicTackToe.py. I know we can print stuff from a list in a horizontal or vertical way by using </p>\n\n<pre><code>listA=['a','b','c','d','e','f','g','h','i','j']\n# VERTICAL PRINTING \nfor item in listA:\n        print item\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>a\nb\nc\n</code></pre>\n\n<p>or</p>\n\n<pre><code># HORIZONTAL  PRINTING\nfor item in listA:\n        print item,\n</code></pre>\n\n<p>Output: </p>\n\n<pre><code>a b c d e f g h i j\n</code></pre>\n\n<p>How can I print a mix of both, e.g. printing a 3x3 box\nlike </p>\n\n<pre><code>a b c\nd e f\ng h i\n</code></pre>\n"}, {"tags": ["python", "integer", "xlrd"], "owner": {"reputation": 11, "user_id": 5999820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c102d5900f0853331fec8321f31715be?s=128&d=identicon&r=PG&f=1", "display_name": "siyanglijin", "link": "https://stackoverflow.com/users/5999820/siyanglijin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 72, "favorite_count": 0, "closed_date": 1457787454, "answer_count": 0, "score": 1, "last_activity_date": 1457561220, "creation_date": 1457561220, "question_id": 35903623, "link": "https://stackoverflow.com/questions/35903623/read-integer-from-xls-using-xlrd", "closed_reason": "Duplicate", "title": "Read integer from XLS using xlrd", "body": "<p>Please find following code that tries to read integer values from XLS files.</p>\n\n<pre><code>import xlrd\nimport sys\n\ndef print_sheet(sheet):\n    for row_ind in xrange(sheet.nrows):\n        print '\\t'.join([unicode(x) for x in sheet.row_values(row_ind)]).encode('utf-8')\n\nf = xlrd.open_workbook('main.xls')\nprint_sheet(f.sheet_by_index(0))\n</code></pre>\n\n<p>The example Excel file is as:</p>\n\n<pre><code>1   3\n2   4\n</code></pre>\n\n<p>But the code will convert the integer into float, the output will be:</p>\n\n<pre><code>1.0 2.0\n3.0 4.0\n</code></pre>\n\n<p>Could someone help me keep integers in xlrd? Thanks.</p>\n"}, {"tags": ["python", "django", "python-3.x"], "comments": [{"owner": {"reputation": 87, "user_id": 3079816, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RPTu1.jpg?s=128&g=1", "display_name": "meij", "link": "https://stackoverflow.com/users/3079816/meij"}, "edited": false, "score": 2, "creation_date": 1532879240, "post_id": 35903584, "comment_id": 90129164, "body": "<code>html.parser</code> is deprecated from python 3.3, check this SO link for more details: <a href=\"https://stackoverflow.com/questions/34827566/attributeerror-module-html-parser-has-no-attribute-htmlparseerror\" title=\"attributeerror module html parser has no attribute htmlparseerror\">stackoverflow.com/questions/34827566/&hellip;</a>"}], "owner": {"reputation": 43, "user_id": 3647026, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/014caac123c84972df7ea346a1a72aec?s=128&d=identicon&r=PG&f=1", "display_name": "user3647026", "link": "https://stackoverflow.com/users/3647026/user3647026"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1161, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1509376859, "creation_date": 1457561070, "question_id": 35903584, "link": "https://stackoverflow.com/questions/35903584/attributeerror-module-html-parser-has-no-attribute-htmlparseerror-python3-5", "title": "AttributeError: module &#39;html.parser&#39; has no attribute &#39;HTMLParseError&#39; python3.5", "body": "<p>My python ver=3.5</p>\n\n<p>My django ver=1.9</p>\n\n<p>I am new to django </p>\n\n<p>I was trying to run a simple django app which gave me this error  </p>\n\n<p>`</p>\n\n<pre><code>d:\\MAJORP~1\\test\\env\\lib\\site-packages\\django\\dispatch\\dispatcher.py:85: \nDeprecationWarning: inspect.getargspec() is deprecated, use inspect.signature() instead\nargspec = inspect.getargspec(receiver)\nd:\\MAJORP~1\\test\\env\\lib\\site-packages\\django\\template\\base.py:1108: Deprecation\nWarning: inspect.getargspec() is deprecated, use inspect.signature() instead\nparams, varargs, varkw, defaults = getargspec(func)\nAttributeError: module 'html.parser' has no attribute 'HTMLParseError'\n</code></pre>\n\n<p>`</p>\n\n<p>please tell what is wrong here..</p>\n\n<p>thanks in advance.</p>\n"}, {"tags": ["python", "packages", "anaconda", "jupyter", "jupyter-notebook"], "comments": [{"owner": {"reputation": 4209, "user_id": 1021177, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1428d36c91a53a1e4c39fb2c7ceff15?s=128&d=identicon&r=PG", "display_name": "Kevin London", "link": "https://stackoverflow.com/users/1021177/kevin-london"}, "edited": false, "score": 0, "creation_date": 1457561010, "post_id": 35903535, "comment_id": 59467442, "body": "Did you install the requirements within your virtualenv of EECS352?"}, {"owner": {"reputation": 1053, "user_id": 3991562, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100000391593910/picture?type=large", "display_name": "Ben Sandeen", "link": "https://stackoverflow.com/users/3991562/ben-sandeen"}, "reply_to_user": {"reputation": 4209, "user_id": 1021177, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1428d36c91a53a1e4c39fb2c7ceff15?s=128&d=identicon&r=PG", "display_name": "Kevin London", "link": "https://stackoverflow.com/users/1021177/kevin-london"}, "edited": false, "score": 0, "creation_date": 1457561178, "post_id": 35903535, "comment_id": 59467554, "body": "What do you mean by &quot;requirements&quot;?  I&#39;m using the exact same environment that was working roughly a week ago.  Nothing in the environment has changed."}, {"owner": {"reputation": 4209, "user_id": 1021177, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1428d36c91a53a1e4c39fb2c7ceff15?s=128&d=identicon&r=PG", "display_name": "Kevin London", "link": "https://stackoverflow.com/users/1021177/kevin-london"}, "edited": false, "score": 0, "creation_date": 1457564488, "post_id": 35903535, "comment_id": 59469161, "body": "requirements in this sense meaning the <code>jsonschema</code> package and <code>functools32</code>"}, {"owner": {"reputation": 1053, "user_id": 3991562, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100000391593910/picture?type=large", "display_name": "Ben Sandeen", "link": "https://stackoverflow.com/users/3991562/ben-sandeen"}, "reply_to_user": {"reputation": 4209, "user_id": 1021177, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1428d36c91a53a1e4c39fb2c7ceff15?s=128&d=identicon&r=PG", "display_name": "Kevin London", "link": "https://stackoverflow.com/users/1021177/kevin-london"}, "edited": false, "score": 0, "creation_date": 1457577250, "post_id": 35903535, "comment_id": 59473287, "body": "Oh, sorry, I didn&#39;t specify that I did both the <code>pip</code> and <code>conda</code> <code>install</code> of <code>jsonschema</code> and <code>functools32</code> from <b>within</b> the EECS352 environment.  I&#39;ll update my question, thanks."}, {"owner": {"reputation": 466, "user_id": 2662454, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa2ce337ef187ad97f409a74dbdb1f26?s=128&d=identicon&r=PG", "display_name": "visoft", "link": "https://stackoverflow.com/users/2662454/visoft"}, "edited": false, "score": 0, "creation_date": 1458739049, "post_id": 35903535, "comment_id": 59993625, "body": "Oh, I have the same problem. I installed jupyter some weeks ago. But today, using anaconda, it fails to launch for the same jsonschema library."}, {"owner": {"reputation": 466, "user_id": 2662454, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa2ce337ef187ad97f409a74dbdb1f26?s=128&d=identicon&r=PG", "display_name": "visoft", "link": "https://stackoverflow.com/users/2662454/visoft"}, "edited": false, "score": 0, "creation_date": 1460042164, "post_id": 35903535, "comment_id": 60570720, "body": "@BenSandeen did you solve the problem? I think is something wrong with the anaconda distribution. I installed anaconda on a fresh system and I hit in the same problem. But <code>pip install --upgrade jsonschema</code> (as described below) solved it."}, {"owner": {"reputation": 1053, "user_id": 3991562, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100000391593910/picture?type=large", "display_name": "Ben Sandeen", "link": "https://stackoverflow.com/users/3991562/ben-sandeen"}, "edited": false, "score": 0, "creation_date": 1460259422, "post_id": 35903535, "comment_id": 60655570, "body": "Nope, I haven&#39;t solved it, I just worked around it since it was finals week and since then, I haven&#39;t really need it anymore, so I haven&#39;t bothered too much with it"}, {"owner": {"reputation": 103, "user_id": 9768307, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/066c89ad7a196df4ae478ae6d24c040b?s=128&d=identicon&r=PG&f=1", "display_name": "Boson Bear", "link": "https://stackoverflow.com/users/9768307/boson-bear"}, "edited": false, "score": 0, "creation_date": 1583747351, "post_id": 35903535, "comment_id": 107207345, "body": "I tried all of the posted solutions but unfortunately none of them worked for me. In the end, I solved it by creating a new conda environment. This may not be a solution but might be good to know."}], "answers": [{"comments": [{"owner": {"reputation": 466, "user_id": 2662454, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa2ce337ef187ad97f409a74dbdb1f26?s=128&d=identicon&r=PG", "display_name": "visoft", "link": "https://stackoverflow.com/users/2662454/visoft"}, "edited": false, "score": 0, "creation_date": 1458745261, "post_id": 36181563, "comment_id": 59998531, "body": "What is weird is that I cloned a working env using <code>conda list -e</code> command. There I have the old jsonschema (2.4.0). Beats me where is the conflict or what other dependencies are not listed by anaconda. On working env I installed stuff directly from github with <code>python setup.py</code>. I don&#39;t know how conda/pip monitor/knows what is installed or not and at this point I am too afraid to ask :)"}], "tags": [], "owner": {"reputation": 466, "user_id": 2662454, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa2ce337ef187ad97f409a74dbdb1f26?s=128&d=identicon&r=PG", "display_name": "visoft", "link": "https://stackoverflow.com/users/2662454/visoft"}, "is_accepted": true, "score": 22, "last_activity_date": 1458744957, "creation_date": 1458744957, "answer_id": 36181563, "question_id": 35903535, "link": "https://stackoverflow.com/questions/35903535/cant-use-jupyter-notebook-jsonschema-apparently-missing/36181563#36181563", "title": "Can&#39;t use Jupyter Notebook: jsonschema apparently missing", "body": "<p>I think I have a solution.</p>\n\n<p>I did may things, regenerated my env (anaconda env) from another computer where it worked, but no success.</p>\n\n<p>What I think that nailed it is upgrading jsonschema to 2.5.1</p>\n\n<p>Here are my steps from \"bad\" jupyter env to working jupyter env.</p>\n\n<p>Good luck and come back if it doesn't work, I will post the notebook* relevant versions.</p>\n\n<pre><code>&gt;conda upgrade pip\npip:        8.1.0-py27_0  --&gt; 8.1.1-py27_0\nsetuptools: 20.2.2-py27_0 --&gt; 20.3-py27_0 \n\n&gt;pip install functools32\nDownloading functools32-3.2.3-2.tar.gz    \nSuccessfully installed functools32-3.2.3.post2\n\n&gt;jupyter notebook\nImportError: No module named _version\nJupyter notebook format depends on the jsonschema package:\n    https://pypi.python.org/pypi/jsonschema\nPlease install it first.\n\n&gt;pip install jsonschema\nRequirement already satisfied\n\n&gt;pip install --upgrade jsonschema\nCollecting jsonschema\nDownloading jsonschema-2.5.1-py2.py3-none-any.whl\nSuccessfully uninstalled jsonschema-2.4.0\nSuccessfully installed jsonschema-2.5.1\n\n&gt;jupyter notebook\n[I 16:45:41.708 NotebookApp] Writing notebook server cookie secret to \n[I 16:45:42.134 NotebookApp] Serving notebooks from local directory: \n[I 16:45:42.134 NotebookApp] 0 active kernels \n[I 16:45:42.134 NotebookApp] The Jupyter Notebook is running at: http://localhost:8888/\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 103, "user_id": 2635286, "user_type": "registered", "profile_image": "https://graph.facebook.com/1264622664/picture?type=large", "display_name": "Rushikesh Deshpande", "link": "https://stackoverflow.com/users/2635286/rushikesh-deshpande"}, "edited": false, "score": 0, "creation_date": 1512011673, "post_id": 43673602, "comment_id": 82088582, "body": "Ipython is deprecate3d and called jupyter"}], "tags": [], "owner": {"reputation": 49, "user_id": 7753116, "user_type": "registered", "profile_image": "https://graph.facebook.com/1588700741143410/picture?type=large", "display_name": "Gurtej Khanooja", "link": "https://stackoverflow.com/users/7753116/gurtej-khanooja"}, "is_accepted": false, "score": -1, "last_activity_date": 1493361543, "creation_date": 1493361543, "answer_id": 43673602, "question_id": 35903535, "link": "https://stackoverflow.com/questions/35903535/cant-use-jupyter-notebook-jsonschema-apparently-missing/43673602#43673602", "title": "Can&#39;t use Jupyter Notebook: jsonschema apparently missing", "body": "<p>Try this from the terminal:</p>\n\n<pre><code>pip install ipython[notebook]\n</code></pre>\n\n<p>It worked for me, let me know if the problem still exists.</p>\n"}, {"tags": [], "owner": {"reputation": 2219, "user_id": 5066083, "user_type": "registered", "accept_rate": 84, "profile_image": "https://graph.facebook.com/10204670165100601/picture?type=large", "display_name": "searain", "link": "https://stackoverflow.com/users/5066083/searain"}, "is_accepted": false, "score": 0, "last_activity_date": 1514231287, "creation_date": 1514231287, "answer_id": 47971579, "question_id": 35903535, "link": "https://stackoverflow.com/questions/35903535/cant-use-jupyter-notebook-jsonschema-apparently-missing/47971579#47971579", "title": "Can&#39;t use Jupyter Notebook: jsonschema apparently missing", "body": "<p>I had the same problem.</p>\n\n<p>I solved it by running this command</p>\n\n<pre><code>conda install -c anaconda jsonschema\n</code></pre>\n\n<p><a href=\"https://anaconda.org/anaconda/jsonschema\" rel=\"nofollow noreferrer\">https://anaconda.org/anaconda/jsonschema</a></p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 11765736, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d93416366e8228d1a39fd5e4a1764fb?s=128&d=identicon&r=PG&f=1", "display_name": "bjc01", "link": "https://stackoverflow.com/users/11765736/bjc01"}, "is_accepted": false, "score": -1, "last_activity_date": 1562771457, "creation_date": 1562771457, "answer_id": 56973741, "question_id": 35903535, "link": "https://stackoverflow.com/questions/35903535/cant-use-jupyter-notebook-jsonschema-apparently-missing/56973741#56973741", "title": "Can&#39;t use Jupyter Notebook: jsonschema apparently missing", "body": "<p>Try this from terminal, it worked to me: </p>\n\n<pre><code>pip install --upgrade pyrsistent\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 89, "user_id": 13360127, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AOh14GjxYolNVcDeTU9v0XAei2jYfq7o-I8-HkT8oeBRQx8=k-s128", "display_name": "kamma rahul", "link": "https://stackoverflow.com/users/13360127/kamma-rahul"}, "is_accepted": false, "score": 2, "last_activity_date": 1591167810, "creation_date": 1591167810, "answer_id": 62167058, "question_id": 35903535, "link": "https://stackoverflow.com/questions/35903535/cant-use-jupyter-notebook-jsonschema-apparently-missing/62167058#62167058", "title": "Can&#39;t use Jupyter Notebook: jsonschema apparently missing", "body": "<p>i also got the same error and none of the above mentioned procedures worked for me so i've checked the documentation of anaconda and found something useful</p>\n\n<p><code>conda install -c conda-forge/label/cf201901 jsonschema</code></p>\n\n<p><code>conda install jupyter</code></p>\n\n<p><code>jupyter notebook</code></p>\n\n<p>this worked for me,thanks to anaconda documentation</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 10797895, "user_type": "registered", "profile_image": "https://graph.facebook.com/778473239163744/picture?type=large", "display_name": "Kishan Kumar", "link": "https://stackoverflow.com/users/10797895/kishan-kumar"}, "is_accepted": false, "score": 0, "last_activity_date": 1591364242, "creation_date": 1591364242, "answer_id": 62216641, "question_id": 35903535, "link": "https://stackoverflow.com/questions/35903535/cant-use-jupyter-notebook-jsonschema-apparently-missing/62216641#62216641", "title": "Can&#39;t use Jupyter Notebook: jsonschema apparently missing", "body": "<p>I solved it by just uninstalling and reinstalling python 3.7</p>\n"}, {"tags": [], "owner": {"reputation": 13, "user_id": 10277385, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Lv5VW4MiXWs/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaOXW7M8WWP7vG6oE0YfWBNTvWULyw/mo/photo.jpg?sz=128", "display_name": "Joe", "link": "https://stackoverflow.com/users/10277385/joe"}, "is_accepted": false, "score": 0, "last_activity_date": 1595479371, "creation_date": 1595479371, "answer_id": 63047027, "question_id": 35903535, "link": "https://stackoverflow.com/questions/35903535/cant-use-jupyter-notebook-jsonschema-apparently-missing/63047027#63047027", "title": "Can&#39;t use Jupyter Notebook: jsonschema apparently missing", "body": "<p>If any of the above mentioned solution didn't work then try this in your anaconda prompt: First run <code>conda update -n root conda</code> so you have the latest conda version installed. Then run <code>conda update --all</code> This will update all packages in the current environment to the latest version.\nEven after installing jsonschema, your Jupyter Notebook might not run and give you the error:</p>\n<p><code>Jupyter notebook format depends on the jsonschema package:</code></p>\n<p><code>https://pypi.python.org/pypi/jsonschema</code></p>\n<p><code> Please install it first</code>\nThen I suggest you to run the given two commands. It will solve your issue as it solved mine.</p>\n"}, {"tags": [], "owner": {"reputation": 749, "user_id": 6088342, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9fbf0a07c1f3078690ab4c2c1a7e24db?s=128&d=identicon&r=PG", "display_name": "biendltb", "link": "https://stackoverflow.com/users/6088342/biendltb"}, "is_accepted": false, "score": 2, "last_activity_date": 1608697110, "creation_date": 1608697110, "answer_id": 65418968, "question_id": 35903535, "link": "https://stackoverflow.com/questions/35903535/cant-use-jupyter-notebook-jsonschema-apparently-missing/65418968#65418968", "title": "Can&#39;t use Jupyter Notebook: jsonschema apparently missing", "body": "<p>Re-install <code>jsonschema</code> solve the problem in my case:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>$ pip uninstall jsonschema\n...\n\n$ pip install jsonschema\n...\n</code></pre>\n"}], "owner": {"reputation": 1053, "user_id": 3991562, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100000391593910/picture?type=large", "display_name": "Ben Sandeen", "link": "https://stackoverflow.com/users/3991562/ben-sandeen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9520, "favorite_count": 2, "accepted_answer_id": 36181563, "answer_count": 8, "score": 11, "last_activity_date": 1608697110, "creation_date": 1457560884, "last_edit_date": 1457577295, "question_id": 35903535, "link": "https://stackoverflow.com/questions/35903535/cant-use-jupyter-notebook-jsonschema-apparently-missing", "title": "Can&#39;t use Jupyter Notebook: jsonschema apparently missing", "body": "<p>When using a an Anaconda environment, I can't start Jupyter to work in a notebook.  I can do so without the environment, but I need to be able to use the environment.  Here's what I do and the errors I get:</p>\n\n<pre><code>ben@ben-K60IJ:~/surveillance_sound_classifier/surveillance_sound_classifier$ source activate EECS352\ndiscarding /home/ben/anaconda/bin from PATH\nprepending /home/ben/anaconda/envs/EECS352/bin to PATH\n(EECS352)ben@ben-K60IJ:~/surveillance_sound_classifier/surveillance_sound_classifier$ jupyter notebook\nTraceback (most recent call last):\n  File \"/home/ben/anaconda/envs/EECS352/bin/jupyter-notebook\", line 4, in &lt;module&gt;\nimport notebook.notebookapp\n  File \"/home/ben/anaconda/envs/EECS352/lib/python2.7/site-packages/notebook/notebookapp.py\", line 61, in &lt;module&gt;\nfrom .services.contents.manager import ContentsManager\n  File \"/home/ben/anaconda/envs/EECS352/lib/python2.7/site-packages/notebook/services/contents/manager.py\", line 16, in &lt;module&gt;\nfrom nbformat import sign, validate, ValidationError\n  File \"/home/ben/anaconda/envs/EECS352/lib/python2.7/site-packages/nbformat/__init__.py\", line 33, in &lt;module&gt;\nfrom .validator import validate, ValidationError\n  File \"/home/ben/anaconda/envs/EECS352/lib/python2.7/site-packages/nbformat/validator.py\", line 21, in &lt;module&gt;\nraise ImportError(str(e) + verbose_msg)\nImportError: No module named functools32\n\nJupyter notebook format depends on the jsonschema package:\n\n    https://pypi.python.org/pypi/jsonschema\n\nPlease install it first.\n</code></pre>\n\n<p>Yes, I've done <code>pip install jsonschema</code> and <code>conda install jsonschema</code> AND <code>pip install functools32</code> and <code>conda install functools32</code> from <strong>within</strong> the EECS352 environment to no avail; I arrive at an almost identical error, except this time, <code>functools32</code> is replaced with <code>_version</code>.</p>\n\n<p>I've reinstalled Anaconda, updated all its packages, created a new environment in the same way I created this one, and still I get this error. I'm using Ubuntu 15.10 32-bit.  I used to be able to use this environment with no problems until roughly a week ago.</p>\n\n<p>If this is a duplicate, please point me to the original; however, I haven't yet found anything that seems really relevant.  The only thing that might be relevant is that this error did pop up after I modified some <code>.conf</code> file because I was having issues updating my computer's software using <code>sudo apt-get upgrade</code>.  I don't recall what I had done and to which file, but if it's likely the source of this issue, I can spend some time trying to track it down.  Please let me know if I should spend my time to do this, and I will.</p>\n"}, {"tags": ["python", "numpy", "optimization", "scipy", "curve-fitting"], "comments": [{"owner": {"reputation": 15106, "user_id": 2573061, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/t8eGV.jpg?s=128&g=1", "display_name": "C8H10N4O2", "link": "https://stackoverflow.com/users/2573061/c8h10n4o2"}, "edited": false, "score": 2, "creation_date": 1457561225, "post_id": 35903506, "comment_id": 59467587, "body": "welcome to SO, great first question.  Not sure why you got a silent downvote."}, {"owner": {"reputation": 92118, "user_id": 1217358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2aafb97833979e3668c61d36e697bfc?s=128&d=identicon&r=PG", "display_name": "Warren Weckesser", "link": "https://stackoverflow.com/users/1217358/warren-weckesser"}, "edited": false, "score": 0, "creation_date": 1457561510, "post_id": 35903506, "comment_id": 59467721, "body": "Always check <code>cov</code> when you use <code>curve_fit</code>.  What is <code>cov</code> when you get that really bad fit?"}, {"owner": {"reputation": 92118, "user_id": 1217358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2aafb97833979e3668c61d36e697bfc?s=128&d=identicon&r=PG", "display_name": "Warren Weckesser", "link": "https://stackoverflow.com/users/1217358/warren-weckesser"}, "edited": false, "score": 3, "creation_date": 1457561774, "post_id": 35903506, "comment_id": 59467858, "body": "<i>&quot;I can&#39;t find any other good Python curve fitting routines...&quot;</i>  Take a look at <code>lmfit</code> (<a href=\"http://lmfit.github.io/lmfit-py/\" rel=\"nofollow noreferrer\">lmfit.github.io/lmfit-py</a>); in particular, see <a href=\"http://lmfit.github.io/lmfit-py/model.html\" rel=\"nofollow noreferrer\">lmfit.github.io/lmfit-py/model.html</a>"}, {"owner": {"reputation": 21050, "user_id": 143765, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/bd4477dc26bf9941268fbfa05abdeae6?s=128&d=identicon&r=PG", "display_name": "ev-br", "link": "https://stackoverflow.com/users/143765/ev-br"}, "edited": false, "score": 2, "creation_date": 1457562080, "post_id": 35903506, "comment_id": 59468022, "body": "Note that in scipy 0.17, you can do a fit with bounds, which should be better than a non-smooth cutoff you&#39;re imposing."}, {"owner": {"reputation": 6738, "user_id": 906693, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ba54c2f46f424128b4ba467eb8d0e138?s=128&d=identicon&r=PG", "display_name": "roadrunner66", "link": "https://stackoverflow.com/users/906693/roadrunner66"}, "edited": false, "score": 2, "creation_date": 1457565170, "post_id": 35903506, "comment_id": 59469445, "body": "Data in a power law are very different in different regions. I&#39;d try to fit the <code>log</code> of your data."}, {"owner": {"reputation": 19758, "user_id": 1534017, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/aa667d0e455aa30f3410756d719de795?s=128&d=identicon&r=PG", "display_name": "Cleb", "link": "https://stackoverflow.com/users/1534017/cleb"}, "reply_to_user": {"reputation": 92118, "user_id": 1217358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2aafb97833979e3668c61d36e697bfc?s=128&d=identicon&r=PG", "display_name": "Warren Weckesser", "link": "https://stackoverflow.com/users/1217358/warren-weckesser"}, "edited": false, "score": 1, "creation_date": 1457569853, "post_id": 35903506, "comment_id": 59471137, "body": "I combined @WarrenWeckesser and roadrunner66 suggestions and added a solution below using lmfit. Let me know whether that solves your problem."}, {"owner": {"reputation": 48421, "user_id": 1196549, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/fa597bf0dc47449a25e1f7f5b57e3ef1?s=128&d=identicon&r=PG", "display_name": "Yves Daoust", "link": "https://stackoverflow.com/users/1196549/yves-daoust"}, "edited": false, "score": 2, "creation_date": 1457605337, "post_id": 35903506, "comment_id": 59486170, "body": "What is <code>data</code> and what is <code>time</code> ? didn&#39;t you swap them ?"}, {"owner": {"reputation": 19758, "user_id": 1534017, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/aa667d0e455aa30f3410756d719de795?s=128&d=identicon&r=PG", "display_name": "Cleb", "link": "https://stackoverflow.com/users/1534017/cleb"}, "reply_to_user": {"reputation": 21050, "user_id": 143765, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/bd4477dc26bf9941268fbfa05abdeae6?s=128&d=identicon&r=PG", "display_name": "ev-br", "link": "https://stackoverflow.com/users/143765/ev-br"}, "edited": false, "score": 0, "creation_date": 1457613785, "post_id": 35903506, "comment_id": 59492028, "body": "@ev-br: Good point! I added an example on how to use it in my answer below."}, {"owner": {"reputation": 19758, "user_id": 1534017, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/aa667d0e455aa30f3410756d719de795?s=128&d=identicon&r=PG", "display_name": "Cleb", "link": "https://stackoverflow.com/users/1534017/cleb"}, "reply_to_user": {"reputation": 48421, "user_id": 1196549, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/fa597bf0dc47449a25e1f7f5b57e3ef1?s=128&d=identicon&r=PG", "display_name": "Yves Daoust", "link": "https://stackoverflow.com/users/1196549/yves-daoust"}, "edited": false, "score": 0, "creation_date": 1457614455, "post_id": 35903506, "comment_id": 59492492, "body": "@YvesDaoust: That is indeed the wrong way around, I think. I corrected that in the answer below."}, {"owner": {"reputation": 369, "user_id": 6041579, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154700448353146/picture?type=large", "display_name": "Ben", "link": "https://stackoverflow.com/users/6041579/ben"}, "reply_to_user": {"reputation": 19758, "user_id": 1534017, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/aa667d0e455aa30f3410756d719de795?s=128&d=identicon&r=PG", "display_name": "Cleb", "link": "https://stackoverflow.com/users/1534017/cleb"}, "edited": false, "score": 0, "creation_date": 1464802857, "post_id": 35903506, "comment_id": 62638006, "body": "@Cleb: Yes, sorry, I&#39;m new to the site and set up email notifications for replies that I somehow never got... Just seeing these now. You&#39;re right, I just flipped the arguments, I&#39;m getting much better fits now."}], "answers": [{"comments": [{"owner": {"reputation": 19758, "user_id": 1534017, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/aa667d0e455aa30f3410756d719de795?s=128&d=identicon&r=PG", "display_name": "Cleb", "link": "https://stackoverflow.com/users/1534017/cleb"}, "reply_to_user": {"reputation": 6193, "user_id": 5110870, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/TVsCr.png?s=128&g=1", "display_name": "FaCoffee", "link": "https://stackoverflow.com/users/5110870/facoffee"}, "edited": false, "score": 0, "creation_date": 1463179113, "post_id": 35905257, "comment_id": 61971531, "body": "@CF84 I just picked some; you can choose any bounds you like."}], "tags": [], "owner": {"reputation": 19758, "user_id": 1534017, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/aa667d0e455aa30f3410756d719de795?s=128&d=identicon&r=PG", "display_name": "Cleb", "link": "https://stackoverflow.com/users/1534017/cleb"}, "is_accepted": true, "score": 6, "last_activity_date": 1457613738, "last_edit_date": 1457613738, "creation_date": 1457569004, "answer_id": 35905257, "question_id": 35903506, "link": "https://stackoverflow.com/questions/35903506/scipy-curve-fit-fails-power-law/35905257#35905257", "title": "SciPy Curve Fit Fails Power Law", "body": "<p><strong>UPDATE</strong></p>\n\n<p>In the original post, I showed a solution that uses <code>lmfit</code> which allows to assign bounds to your parameters. Starting with version 0.17, scipy also allows to assign bounds to your parameters directly (see <a href=\"http://docs.scipy.org/doc/scipy/reference/generated/scipy.optimize.curve_fit.html\" rel=\"nofollow noreferrer\">documentation</a>). Please find this solution below after the <strong>EDIT</strong> which can hopefully serve as a minimal example on how to use scipy's <code>curve_fit</code> with parameter bounds.</p>\n\n<p><strong>Original post</strong></p>\n\n<p>As suggested by @Warren Weckesser, you could use <a href=\"http://cars9.uchicago.edu/software/python/lmfit/installation.html\" rel=\"nofollow noreferrer\">lmfit</a> to get this task done, which allows you to assign bounds to your parameters and avoids this 'ugly' if-clause.</p>\n\n<p>Since you do not provide any data, I created some which are shown here:</p>\n\n<p><a href=\"https://i.stack.imgur.com/22Jsk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/22Jsk.png\" alt=\"enter image description here\"></a></p>\n\n<p>They follow the law <code>f(x) = 10.5 * x ** (-0.08)</code></p>\n\n<p>I fit them - as suggested by @roadrunner66 - by transforming the power law in a linear function:</p>\n\n<pre><code>y = N * x ** a\nln(y) = ln(N * x ** a)\nln(y) = a * ln(x) + ln(N)\n</code></pre>\n\n<p>So I first use <code>np.log</code> on the original data and then do the fit. When I now use lmfit, I get the following output:</p>\n\n<pre><code>[[Variables]]\n    lN:   2.35450302 +/- 0.019531 (0.83%) (init= 1.704748)\n    a:   -0.08035342 +/- 0.005158 (6.42%) (init=-0.5)\n</code></pre>\n\n<p>So <code>a</code> is pretty close to the original value and <code>np.exp(2.35450302)</code> gives 10.53 which is also very close to the original value.</p>\n\n<p>The plot then looks as follows; as you can see the fit describes the data very well:</p>\n\n<p><a href=\"https://i.stack.imgur.com/iUMxM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iUMxM.png\" alt=\"enter image description here\"></a></p>\n\n<p>Here is the entire code with a couple of inline comments:</p>\n\n<pre><code>import numpy as np\nimport matplotlib.pyplot as plt\nfrom lmfit import minimize, Parameters, Parameter, report_fit\n\n# generate some data with noise\nxData = np.linspace(0.01, 100., 50.)\naOrg = 0.08\nNorg = 10.5\nyData = Norg * xData ** (-aOrg) + np.random.normal(0, 0.5, len(xData))\nplt.plot(xData, yData, 'bo')\nplt.show()\n\n# transform data so that we can use a linear fit\nlx = np.log(xData)\nly = np.log(yData)\nplt.plot(lx, ly, 'bo')\nplt.show()\n\ndef decay(params, x, data):\n\n    lN = params['lN'].value\n    a = params['a'].value\n\n    # our linear model\n    model = a * x + lN\n    return model - data # that's what you want to minimize\n\n# create a set of Parameters\nparams = Parameters()\nparams.add('lN', value=np.log(5.5), min=0.01, max=100)  # value is the initial value\nparams.add('a', value=-0.5, min=-1, max=-0.001)  # min, max define parameter bounds\n\n# do fit, here with leastsq model\nresult = minimize(decay, params, args=(lx, ly))\n\n# write error report\nreport_fit(params)\n\n# plot data\nxnew = np.linspace(0., 100., 5000.)\n# plot the data\nplt.plot(xData, yData, 'bo')\nplt.plot(xnew, np.exp(result.values['lN']) * xnew ** (result.values['a']), 'r')\nplt.show()\n</code></pre>\n\n<p><strong>EDIT</strong></p>\n\n<p>Assuming that you have scipy 0.17 installed, you can also do the following using <code>curve_fit</code>. I show it for your original definition of the power law (red line in the plot below) as well as for the logarithmic data (black line in the plot below). The data is generated in the same way as above. The plot the looks as follows:</p>\n\n<p><a href=\"https://i.stack.imgur.com/5RDsw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5RDsw.png\" alt=\"enter image description here\"></a></p>\n\n<p>As you can see, the data is described very well. If you print <code>popt</code> and <code>popt_log</code>, you obtain <code>array([ 10.47463426,   0.07914812])</code> and <code>array([ 2.35158653, -0.08045776])</code>, respectively (note: for the letter one you will have to take the exponantial of the first argument - <code>np.exp(popt_log[0]) = 10.502</code> which is close to the original data).</p>\n\n<p>Here is the entire code:</p>\n\n<pre><code>import numpy as np\nimport matplotlib.pyplot as plt\nfrom scipy.optimize import curve_fit\n\n# generate some data with noise\nxData = np.linspace(0.01, 100., 50)\naOrg = 0.08\nNorg = 10.5\nyData = Norg * xData ** (-aOrg) + np.random.normal(0, 0.5, len(xData))\n\n# get logarithmic data\nlx = np.log(xData)\nly = np.log(yData)\n\ndef f(x, N, a):\n    return N * x ** (-a)\n\ndef f_log(x, lN, a):\n    return a * x + lN\n\n# optimize using the appropriate bounds\npopt, pcov = curve_fit(f, xData, yData, bounds=(0, [30., 20.]))\npopt_log, pcov_log = curve_fit(f_log, lx, ly, bounds=([0, -10], [30., 20.]))\n\nxnew = np.linspace(0.01, 100., 5000)\n\n# plot the data\nplt.plot(xData, yData, 'bo')\nplt.plot(xnew, f(xnew, *popt), 'r')\nplt.plot(xnew, f(xnew, np.exp(popt_log[0]), -popt_log[1]), 'k')\nplt.show()\n</code></pre>\n"}], "owner": {"reputation": 369, "user_id": 6041579, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154700448353146/picture?type=large", "display_name": "Ben", "link": "https://stackoverflow.com/users/6041579/ben"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4482, "favorite_count": 3, "accepted_answer_id": 35905257, "answer_count": 1, "score": 8, "last_activity_date": 1457613738, "creation_date": 1457560795, "question_id": 35903506, "link": "https://stackoverflow.com/questions/35903506/scipy-curve-fit-fails-power-law", "title": "SciPy Curve Fit Fails Power Law", "body": "<p>So, I'm trying to fit a set of data with a power law of the following kind:</p>\n\n<pre><code>def f(x,N,a): # Power law fit\n    if a &gt;0:\n        return N*x**(-a)\n    else:\n        return 10.**300\n\npar,cov = scipy.optimize.curve_fit(f,data,time,array([10**(-7),1.2]))\n</code></pre>\n\n<p>where the else condition is just to force a to be positive. Using scipy.optimize.curve_fit yields <a href=\"http://i.imgur.com/i1difuV.png\" rel=\"noreferrer\">an awful fit (green line)</a>, returning values of 1.2e+04 and 1.9e0-7 for N and a, respectively, with absolutely no intersection with the data. From fits I've put in manually, the values should land around 1e-07 and 1.2 for N and a, respectively, though putting those into curve_fit as initial parameters doesn't change the result. Removing the condition for a to be positive results in a worse fit, as it chooses a negative, which leads to a fit with the wrong sign slope.</p>\n\n<p>I can't figure out how to get a believable, let alone reliable, fit out of this routine, but I can't find any other good Python curve fitting routines. Do I need to write my own least-squares algorithm or is there something I'm doing wrong here?</p>\n"}, {"tags": ["python", "arrays", "numpy", "data-structures"], "answers": [{"tags": [], "owner": {"reputation": 1220, "user_id": 2407844, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1a8b53bc75b5821b2405c09153804d6?s=128&d=identicon&r=PG", "display_name": "dmb", "link": "https://stackoverflow.com/users/2407844/dmb"}, "is_accepted": true, "score": 2, "last_activity_date": 1457560917, "creation_date": 1457560917, "answer_id": 35903540, "question_id": 35903457, "link": "https://stackoverflow.com/questions/35903457/removing-last-2d-array-from-3d-array/35903540#35903540", "title": "Removing last 2D array from 3D array", "body": "<p>I would index as follows:</p>\n\n<pre><code>import numpy as np\n\na = np.ones((5,5,5))\na.shape\n(5, 5, 5)\n\nb = np.ones((5, 5, 5))[:, :, :-1]\nb.shape\n(5, 5, 4)\n</code></pre>\n"}], "owner": {"reputation": 453, "user_id": 1663725, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/e3d655c2169d68569c52e59421b27918?s=128&d=identicon&r=PG", "display_name": "maelstromscientist", "link": "https://stackoverflow.com/users/1663725/maelstromscientist"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 144, "favorite_count": 0, "accepted_answer_id": 35903540, "answer_count": 1, "score": 0, "last_activity_date": 1457560917, "creation_date": 1457560599, "question_id": 35903457, "link": "https://stackoverflow.com/questions/35903457/removing-last-2d-array-from-3d-array", "title": "Removing last 2D array from 3D array", "body": "<p>I have a three-dimensional <code>numpy</code> array with shape</p>\n\n<pre><code>(5,5,N)\n</code></pre>\n\n<p>When I add another 5x5 2D array to this 3D array using <code>numpy.dstack</code> the shape changes like</p>\n\n<pre><code>(5,5,N+1)\n</code></pre>\n\n<p>and so on.  I would like to remove the last 2D array I've added to the stack, such that it goes back to having the shape</p>\n\n<pre><code>(5,5,N)\n</code></pre>\n\n<p>and possibly <code>(5,5,N-1),(5,5,N-2),...</code>,etc.  </p>\n\n<p>What is the most pythonic way to achive this?</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 5307, "user_id": 2372812, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/atrZ9.jpg?s=128&g=1", "display_name": "Tom Dalton", "link": "https://stackoverflow.com/users/2372812/tom-dalton"}, "edited": false, "score": 1, "creation_date": 1457560569, "post_id": 35903404, "comment_id": 59467206, "body": "It is a really bad idea to reuse built in names like &#39;class&#39; for variable and function names."}], "answers": [{"tags": [], "owner": {"reputation": 23220, "user_id": 1004096, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/d0bd5ec4d97233e5f9f5f74bd6f02357?s=128&d=identicon&r=PG", "display_name": "Bi Rico", "link": "https://stackoverflow.com/users/1004096/bi-rico"}, "is_accepted": false, "score": 2, "last_activity_date": 1457561303, "last_edit_date": 1457561303, "creation_date": 1457560592, "answer_id": 35903454, "question_id": 35903404, "link": "https://stackoverflow.com/questions/35903404/class-selector-for-a-beginning-of-a-game/35903454#35903454", "title": "Class selector for a beginning of a game", "body": "<p>You need to catch the return value of the <code>Number</code> function, ie:</p>\n\n<pre><code>classNo = Number();\nplayerClass = Class(classNo)\nprint playerClass\n</code></pre>\n\n<p>A few other pointers. By convention, we use lower_case or camelCase for variable and function names and we use Capital letters for Class names. Also, if you're using a lot of <code>elif</code> in a row you probably want a dictionary. Here is an example:</p>\n\n<pre><code>possibleClasses = {1:\"Warrior\",\n                   2:\"Ninja\",\n                   3:\"Wizard\",\n                   4:\"Terrorist\",\n                   5:\"Sniper\"}\n\ndef pickClass():\n    for number, playerClass in possibleClasses.items():\n        print number, \":\", playerClass\n    classNo = raw_input(\"Pick you class:\\n\")\n    classNo = int(classNo)\n    return classNo\n\nplayerClass = pickClass()\nclassName = possibleClasses[playerClass]\nprint className\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 166, "user_id": 5959519, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153942440939467/picture?type=large", "display_name": "Blimeys", "link": "https://stackoverflow.com/users/5959519/blimeys"}, "is_accepted": false, "score": 0, "last_activity_date": 1457562935, "creation_date": 1457562935, "answer_id": 35904066, "question_id": 35903404, "link": "https://stackoverflow.com/questions/35903404/class-selector-for-a-beginning-of-a-game/35904066#35904066", "title": "Class selector for a beginning of a game", "body": "<p>My first comment here, Im also pretty noob at python but I believe that the only input you have is within a single function, therefore that input is discarded when you get out of that function.</p>\n\n<p>You should prompt for the class input outside of the function so it can be used globally in your code.</p>\n\n<p>If I am wrong, I'd be happy for someone to whack me over the head...</p>\n"}], "owner": {"reputation": 19, "user_id": 6041884, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f2286027a50569d266ad16d5750cf616?s=128&d=identicon&r=PG&f=1", "display_name": "0113. J", "link": "https://stackoverflow.com/users/6041884/0113-j"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1457562935, "creation_date": 1457560432, "question_id": 35903404, "link": "https://stackoverflow.com/questions/35903404/class-selector-for-a-beginning-of-a-game", "title": "Class selector for a beginning of a game", "body": "<p>Why wont it work.</p>\n\n<p>Its a simple selection code that lets you select a character</p>\n\n<p>import random</p>\n\n<pre><code>def Number():\n    print (\"1:Warrior\")\n    print (\"2:Ninja\")\n    print (\"3:Wizard\")\n    print (\"4:Terrorist\")\n    print (\"5:Sniper\")\n    print ()\n    ClassNo = input(\"Pick you class:\\n\")\n    return ClassNo\n\ndef Class(ClassNo):\n    Class = \"\"\n    if ClassNo == 1:\n        Class = \"Warrior\"\n        print (\"you picked\" ,Class)\n    elif ClassNo == 2:\n        Class = \"Ninja\"\n        print (\"you picked Ninja\")\n    elif ClassNo == 3:\n        Class = \"Wizard\"\n        print (\"you picked\" ,Class)\n    elif ClassNo == 4:\n        Class = \"Terrorist\"\n        print (\"you picked\" ,Class)\n    elif ClassNo == 5:\n        Class = \"Sniper\"\n        print (\"you picked\" ,Class)\n    return Class\n\nNumber()\nClass(ClassNo)\nprint (Class)\n</code></pre>\n\n<p>It keeps saying that ClassNo inst defined but then when I define it is come up with and error\nplz help</p>\n"}, {"tags": ["python", "pyqt", "pyqt4", "qtreewidget"], "answers": [{"comments": [{"owner": {"reputation": 827, "user_id": 2054399, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb1933c8a098b769968a3d63f021709e?s=128&d=identicon&r=PG", "display_name": "Kam Sen", "link": "https://stackoverflow.com/users/2054399/kam-sen"}, "edited": false, "score": 0, "creation_date": 1457640507, "post_id": 35906390, "comment_id": 59510859, "body": "Nothing to add, awesome example and explanation."}], "tags": [], "owner": {"reputation": 97291, "user_id": 984421, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l9J30.png?s=128&g=1", "display_name": "ekhumoro", "link": "https://stackoverflow.com/users/984421/ekhumoro"}, "is_accepted": true, "score": 1, "last_activity_date": 1457576193, "creation_date": 1457576193, "answer_id": 35906390, "question_id": 35903373, "link": "https://stackoverflow.com/questions/35903373/qt-treewidget-python-iterate-columns/35906390#35906390", "title": "Qt treewidget python; iterate columns", "body": "<p>One way to iterate over a tree-widget is to use <a href=\"http://doc.qt.io/qt-4.8/qtreewidgetitemiterator.html\" rel=\"nofollow\">QTreeWidgetItemIterator</a>:</p>\n\n<pre><code>def iter_tree_widget(root):\n    iterator = QtGui.QTreeWidgetItemIterator(root)\n    while True:\n        item = iterator.value()\n        if item is not None:\n            yield item\n            iterator += 1\n        else:\n            break\n</code></pre>\n\n<p>The <code>root</code> argument can be either a tree-widget (to iterate over the whole tree), or a tree-widget-item (to iterate over a single branch).</p>\n\n<p>The iterator produces one item per row, and the columns of this item are accessed by simply specifying the column index:</p>\n\n<pre><code>column = 0\nfor item in iter_tree_widget(tree):\n    print('State: %s, Text: \"%s\"' % (\n          item.checkState(column), item.text(column)))\n</code></pre>\n"}], "owner": {"reputation": 827, "user_id": 2054399, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb1933c8a098b769968a3d63f021709e?s=128&d=identicon&r=PG", "display_name": "Kam Sen", "link": "https://stackoverflow.com/users/2054399/kam-sen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2453, "favorite_count": 0, "accepted_answer_id": 35906390, "answer_count": 1, "score": 1, "last_activity_date": 1457655754, "creation_date": 1457560335, "last_edit_date": 1495542225, "question_id": 35903373, "link": "https://stackoverflow.com/questions/35903373/qt-treewidget-python-iterate-columns", "title": "Qt treewidget python; iterate columns", "body": "<p>Given a tree widget in PyQt4 with some rows and columns:</p>\n\n<p>1) Is there a way to easily iterate over all cells?</p>\n\n<p>2) How can one check if a checkbox is checked apart from the first column?</p>\n\n<p>So far I only managed to get the results of the checkboxes in the first column, see <a href=\"https://stackoverflow.com/questions/8961449/pyqt-qtreewidget-iterating\">here</a>.</p>\n\n<p>For clarification here is the widget how I imagine it to look like: (the fourth column should be editable)</p>\n\n<p><a href=\"https://i.stack.imgur.com/qOzjM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qOzjM.png\" alt=\"widget structure\"></a></p>\n\n<pre><code>from PyQt4.QtCore import * \nfrom PyQt4.QtGui import * \nimport sys\n\n\ndef main(): \n    app     = QApplication (sys.argv)\n    tree    = QTreeWidget ()\n    item    = QTreeWidgetItem()\n\n    tree.headerItem().setText(0, \"col1\")\n    tree.headerItem().setText(1, \"col2\")\n    tree.headerItem().setText(2, \"col3\")\n    tree.headerItem().setText(3, \"Notes\")\n\n    for ii in xrange(3):\n        parent = QTreeWidgetItem(tree)\n        parent.setText(0, \"Parent {}\".format(ii))\n        parent.setFlags(parent.flags() | Qt.ItemIsTristate | Qt.ItemIsUserCheckable)\n        for x in xrange(4):\n            child = QTreeWidgetItem(parent)\n            child.setFlags(child.flags() | Qt.ItemIsUserCheckable)\n            child.setText(0, \"Child {}\".format(x))\n            child.setCheckState(0, Qt.Unchecked)\n\n            #create the checkbox\n            for i in xrange(1, 5):\n                if i &lt; 3:\n                    child.setText(i, \"\")\n                    child.setCheckState(i, Qt.Unchecked)\n                if i == 3:\n                    child.setText(i, \"Any Notes?\")\n                    child.setFlags(child.flags() | Qt.ItemIsEditable)\n\n    tree.show() \n    sys.exit(app.exec_())\n\nif __name__ == '__main__':\n    main()\n</code></pre>\n"}, {"tags": ["python", "dictionary"], "answers": [{"comments": [{"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 2, "creation_date": 1457560832, "post_id": 35903429, "comment_id": 59467337, "body": "There is absolutely no need to call <code>keys()</code> when sorting a dictionary. <code>sorted(age_freq)</code> gives the same output without creating an intermediary list."}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1457560989, "post_id": 35903429, "comment_id": 59467433, "body": "Also, why destroy the original dictionary by popping off the values?"}], "tags": [], "owner": {"reputation": 1, "user_id": 6041532, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f78e48a9e29a678d7cadf734513cb5cc?s=128&d=identicon&r=PG&f=1", "display_name": "centrecounter", "link": "https://stackoverflow.com/users/6041532/centrecounter"}, "is_accepted": false, "score": -1, "last_activity_date": 1457560513, "creation_date": 1457560513, "answer_id": 35903429, "question_id": 35903366, "link": "https://stackoverflow.com/questions/35903366/python-easiest-way-to-get-ordered-key-value-pairs-from-dictionary/35903429#35903429", "title": "Python - Easiest way to get ordered key/value pairs from dictionary?", "body": "<p>Python's dictionaries are not ordered, so iteritems() will return the keys and values in the same 'order' as before</p>\n\n<p>To create ordered key/value lists you can do something like this:</p>\n\n<pre><code>for key in sorted(age_freq.keys()):\n    aKey = key\n    aValue = age_freq.pop(key)\n\n    age_range.append(aKey)\n    freq.append(aValue)\n</code></pre>\n\n<p>Since this pops the keys out one by one at the end you'll be left with an empty dictionary, but if you're just creating a pie chart it shouldn't matter.</p>\n"}, {"comments": [{"owner": {"reputation": 2924, "user_id": 4052384, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/2WuTl.jpg?s=128&g=1", "display_name": "Anthony Pham", "link": "https://stackoverflow.com/users/4052384/anthony-pham"}, "edited": false, "score": 0, "creation_date": 1457560600, "post_id": 35903447, "comment_id": 59467225, "body": "You combined <code>age_range</code> and <code>freq</code> into <code>age_freq</code>. Is that allowed?"}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "reply_to_user": {"reputation": 2924, "user_id": 4052384, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/2WuTl.jpg?s=128&g=1", "display_name": "Anthony Pham", "link": "https://stackoverflow.com/users/4052384/anthony-pham"}, "edited": false, "score": 0, "creation_date": 1457560701, "post_id": 35903447, "comment_id": 59467276, "body": "I don&#39;t understand what you&#39;re asking. Do you mean the argument unpacking?"}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1457560737, "post_id": 35903447, "comment_id": 59467292, "body": "This only happens to work because the age ranges are all using two digits. Now add <code>Age5-15</code> in there.. You may want to be more careful and extract the first of the two ages and convert it to an integer."}, {"owner": {"reputation": 2924, "user_id": 4052384, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/2WuTl.jpg?s=128&g=1", "display_name": "Anthony Pham", "link": "https://stackoverflow.com/users/4052384/anthony-pham"}, "edited": false, "score": 0, "creation_date": 1457560751, "post_id": 35903447, "comment_id": 59467296, "body": "Yes... the <code>(age_freq.items()))</code> part"}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "reply_to_user": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1457560859, "post_id": 35903447, "comment_id": 59467357, "body": "@MartijnPieters - Yes, if the input data were different, it would require different code. This could include an age range that starts with a single digit, overlapping age ranges, and so on. For now, however, this level of complexity works fine."}], "tags": [], "owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "is_accepted": true, "score": 2, "last_activity_date": 1457561159, "last_edit_date": 1457561159, "creation_date": 1457560560, "answer_id": 35903447, "question_id": 35903366, "link": "https://stackoverflow.com/questions/35903366/python-easiest-way-to-get-ordered-key-value-pairs-from-dictionary/35903447#35903447", "title": "Python - Easiest way to get ordered key/value pairs from dictionary?", "body": "<p>Just sort it.</p>\n\n<pre><code>age_range, freq = zip(*sorted(age_freq.items()))\n</code></pre>\n\n<p>If the age ranges were less tidy, as mentioned in comments, you could explicitly extract them, with (for example) turning the low and high end of each range into an integer and then finding their average:</p>\n\n<pre><code>age_range, freq = zip(*sorted(age_freq.items(), key=lambda x: (int(x[3].split('-')[0]) + int(x[3].split('-')[1]) / 2))\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 2, "creation_date": 1457560845, "post_id": 35903513, "comment_id": 59467345, "body": "There is absolutely no need to call <code>keys()</code> when sorting a dictionary. <code>sorted(age_freq)</code> gives the same output without creating an intermediary list."}, {"owner": {"reputation": 16855, "user_id": 1502345, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/1beba9dc5373529ea99d294b23118d1b?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Aidley", "link": "https://stackoverflow.com/users/1502345/jack-aidley"}, "reply_to_user": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1457560895, "post_id": 35903513, "comment_id": 59467376, "body": "Your correct that <code>keys()</code> is not needed. However - in Python 3 - it does not create an intermediary list; it&#39;s a generator."}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1457561030, "post_id": 35903513, "comment_id": 59467462, "body": "It still creates an intermediary object that isn&#39;t needed. And it is not a generator that <code>dict.keys()</code> returs, it is a dictionary view (a set-like object)."}, {"owner": {"reputation": 16855, "user_id": 1502345, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/1beba9dc5373529ea99d294b23118d1b?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Aidley", "link": "https://stackoverflow.com/users/1502345/jack-aidley"}, "reply_to_user": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1457561382, "post_id": 35903513, "comment_id": 59467660, "body": "Fair enough; it&#39;s still not a list."}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1457561809, "post_id": 35903513, "comment_id": 59467870, "body": "Note that the OP used <code>dict.iteritems()</code> so we can guess they use Python 2. And calling methods where you don&#39;t need to is always best avoided."}], "tags": [], "owner": {"reputation": 16855, "user_id": 1502345, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/1beba9dc5373529ea99d294b23118d1b?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Aidley", "link": "https://stackoverflow.com/users/1502345/jack-aidley"}, "is_accepted": false, "score": 1, "last_activity_date": 1457560860, "last_edit_date": 1457560860, "creation_date": 1457560821, "answer_id": 35903513, "question_id": 35903366, "link": "https://stackoverflow.com/questions/35903366/python-easiest-way-to-get-ordered-key-value-pairs-from-dictionary/35903513#35903513", "title": "Python - Easiest way to get ordered key/value pairs from dictionary?", "body": "<p>I believe the most pythonic way to do this would be:</p>\n\n<pre><code>sortedFreq = [(key, age_freq[key]) for key in sorted(age_freq)]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 117275, "user_id": 5393381, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/308ffa6266fda6d94bc56fbd9e9798f9?s=128&d=identicon&r=PG&f=1", "display_name": "MSeifert", "link": "https://stackoverflow.com/users/5393381/mseifert"}, "is_accepted": false, "score": 0, "last_activity_date": 1457562561, "creation_date": 1457562561, "answer_id": 35903977, "question_id": 35903366, "link": "https://stackoverflow.com/questions/35903366/python-easiest-way-to-get-ordered-key-value-pairs-from-dictionary/35903977#35903977", "title": "Python - Easiest way to get ordered key/value pairs from dictionary?", "body": "<p>I don't know if it's very tidy and efficient but I think sometimes readability/reusability counts so I suggest converting it to a list of dictionaries:</p>\n\n<pre><code>age_freq = {'Age35-44': 194, 'Age0-14': 11, 'Age55-64': 51, 'Age45-54': 142, 'Age65-74': 12, 'Age15-24': 223, 'Age25-34': 310}\n\ntable = [{'start': int(key.split('Age')[1].split('-')[0]),\n          'stop': int(key.split('Age')[1].split('-')[1]),\n          'freq': age_freq[key]}\n         for key in age_freq]\n</code></pre>\n\n<p>and now you can do whatever you like with it: Sort by start-age</p>\n\n<pre><code>import operator\nsorted(table, key=operator.itemgetter('start'))\n</code></pre>\n\n<p>Sort by stop-age</p>\n\n<pre><code>sorted(table, key=operator.itemgetter('start'))\n</code></pre>\n\n<p>Sort by frequency</p>\n\n<pre><code>sorted(table, key=operator.itemgetter('freq'))\n</code></pre>\n\n<p>but thats probably not the \"easiest\" way.</p>\n"}], "owner": {"reputation": 11, "user_id": 6041506, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-z4m9QhGa_ak/AAAAAAAAAAI/AAAAAAAADu4/tBa5EGpk42Y/photo.jpg?sz=128", "display_name": "Z Zhong", "link": "https://stackoverflow.com/users/6041506/z-zhong"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1177, "favorite_count": 0, "accepted_answer_id": 35903447, "answer_count": 4, "score": 0, "last_activity_date": 1457562561, "creation_date": 1457560315, "question_id": 35903366, "link": "https://stackoverflow.com/questions/35903366/python-easiest-way-to-get-ordered-key-value-pairs-from-dictionary", "title": "Python - Easiest way to get ordered key/value pairs from dictionary?", "body": "<p>I have the following dictionary, age_freq:</p>\n\n<pre><code>age_freq = {'Age35-44': 194, 'Age0-14': 11, 'Age55-64': 51, 'Age45-54': 142, 'Age65-74': 12, 'Age15-24': 223, 'Age25-34': 310}\n</code></pre>\n\n<p>I want to return the key/value pairs from this dictionary for the purposes of creating a pie chart.  My code to do this is below:</p>\n\n<pre><code>age_range=[]\nfreq=[]\n\nfor key, value in age_freq.iteritems():\n    aKey = key\n    aValue = value\n    age_range.append(aKey)\n    freq.append(aValue)\n</code></pre>\n\n<p>This works fine and I get the following two lists:</p>\n\n<pre><code>age_range = ['Age35-44', 'Age0-14', 'Age65-74', 'Age45-54', 'Age55-64', 'Age15-24', 'Age25-34']\n\nfreq = [194, 11, 12, 142, 51, 223, 310]\n</code></pre>\n\n<p>However I want the lists to be ordered by increasing age range. What is the easiest way to do this?</p>\n"}, {"tags": ["php", "python", "google-app-engine", "cmd", "appcfg"], "comments": [{"owner": {"reputation": 37127, "user_id": 4495081, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/OuWYd.jpg?s=128&g=1", "display_name": "Dan Cornilescu", "link": "https://stackoverflow.com/users/4495081/dan-cornilescu"}, "edited": false, "score": 1, "creation_date": 1457620709, "post_id": 35903339, "comment_id": 59497195, "body": "FWIW, it may also worth checking TowMater7&#39;s answer: <a href=\"http://stackoverflow.com/a/33137947/4495081\">stackoverflow.com/a/33137947/4495081</a>"}, {"owner": {"reputation": 5284, "user_id": 3953357, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e2f0b6d4522d8c03a21c5c41d5ba5a23?s=128&d=identicon&r=PG&f=1", "display_name": "Adam", "link": "https://stackoverflow.com/users/3953357/adam"}, "edited": false, "score": 0, "creation_date": 1458581475, "post_id": 35903339, "comment_id": 59914092, "body": "This happens a lot with Python scripts on Windows, and consequently gets asked frequently on Stack Overflow :) The above answer should help, and aside from editing the registry manually you can also try re-running the Python installer as an admin. See also <a href=\"http://stackoverflow.com/questions/33641225/appcfg-py-doesnt-work-the-parameters-in-command-line-are-always-neglected\" title=\"appcfg py doesnt work the parameters in command line are always neglected\">stackoverflow.com/questions/33641225/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 349, "user_id": 3541945, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/7bec6eceb63547b2263e3dc04c5ce943?s=128&d=identicon&r=PG&f=1", "display_name": "hamadkh", "link": "https://stackoverflow.com/users/3541945/hamadkh"}, "edited": false, "score": 0, "creation_date": 1457706580, "post_id": 35907467, "comment_id": 59541755, "body": "I did use absolute path to the dir. It still wont work."}, {"owner": {"reputation": 179, "user_id": 539193, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/siQje.jpg?s=128&g=1", "display_name": "Doug", "link": "https://stackoverflow.com/users/539193/doug"}, "edited": false, "score": 0, "creation_date": 1476814042, "post_id": 35907467, "comment_id": 67501695, "body": "I had this same problem. Ever since to gcloud update the command has changed but the documentation has not. I used to be able to run the command: &quot;appcfg.py download_app...&quot; now I have to run &quot;python appcfg.py download_app...&quot; I realize you are using PHP but you might have to specify the runtime environment in front of the appcfg file."}, {"owner": {"reputation": 37127, "user_id": 4495081, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/OuWYd.jpg?s=128&g=1", "display_name": "Dan Cornilescu", "link": "https://stackoverflow.com/users/4495081/dan-cornilescu"}, "reply_to_user": {"reputation": 179, "user_id": 539193, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/siQje.jpg?s=128&g=1", "display_name": "Doug", "link": "https://stackoverflow.com/users/539193/doug"}, "edited": false, "score": 0, "creation_date": 1476815100, "post_id": 35907467, "comment_id": 67502261, "body": "@Doug please note that <code>python</code> in &quot;python appcfg.py ...&quot; is <b>not</b> the runtime environment, it&#39;s just the local python executable needed to run the <code>appcfg.py</code> (python) script, see my answer to the duplicate question (which may also explain why you can&#39;t execute <code>appcfg.py</code> directly). I mean for the PHP runtime it&#39;ll still have to be <code>python</code>."}], "tags": [], "owner": {"reputation": 37127, "user_id": 4495081, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/OuWYd.jpg?s=128&g=1", "display_name": "Dan Cornilescu", "link": "https://stackoverflow.com/users/4495081/dan-cornilescu"}, "is_accepted": false, "score": 1, "last_activity_date": 1457583247, "creation_date": 1457583247, "answer_id": 35907467, "question_id": 35903339, "link": "https://stackoverflow.com/questions/35903339/appcfg-py-command-keeps-on-returning-usage-appcfg-py-options-actions/35907467#35907467", "title": "appcfg.py command keeps on returning usage : appcfg.py [options] &lt;actions&gt;", "body": "<p>The <code>/app</code> path to the app dir seems incorrect: </p>\n\n<ul>\n<li>I'm unsure you can use the unix/linux <code>/</code> path delimiter in windows</li>\n<li>even if it can indeed be used, <code>/app</code> means either an absolute path (<code>C:\\app</code>?) or the relative path to the <code>C:\\Users\\Hamad\\app</code> dir (the current working dir appears to be <code>C:\\Users\\Hamad</code>) none of them matching the (absolute) path from the cmd that works: <code>C:\\Users\\Hamad\\Desktop\\ae-php\\app</code>.</li>\n</ul>\n\n<p>Try using the full path to the app dir (the same as in the cmd that works) or the proper relative path depending on the actual dir in which you execute that cmd.</p>\n"}], "owner": {"reputation": 349, "user_id": 3541945, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/7bec6eceb63547b2263e3dc04c5ce943?s=128&d=identicon&r=PG&f=1", "display_name": "hamadkh", "link": "https://stackoverflow.com/users/3541945/hamadkh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 143, "favorite_count": 1, "closed_date": 1458674511, "answer_count": 1, "score": 2, "last_activity_date": 1457583247, "creation_date": 1457560243, "last_edit_date": 1457569247, "question_id": 35903339, "link": "https://stackoverflow.com/questions/35903339/appcfg-py-command-keeps-on-returning-usage-appcfg-py-options-actions", "closed_reason": "Duplicate", "title": "appcfg.py command keeps on returning usage : appcfg.py [options] &lt;actions&gt;", "body": "<p>My cmd keeps on returning this for what ever appcfg.py command i give even appcfg.py -v I have python 2.7.9 I installed this version,i had same issue with 2.7.11. I have everything included in my path environment variable  My googleappengine is alo included into my path environment variable   </p>\n\n<p><a href=\"https://i.stack.imgur.com/vpZdU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vpZdU.png\" alt=\"enter image description here\"></a></p>\n\n<p>So this hard coded command is working for me ....</p>\n\n<pre><code>python \"C:\\Program Files (x86)\\Google\\google_appengine\\appcfg.py\" -A soy-key-124518 -V v1 update \"C:\\Users\\Hamad\\Desktop\\ae-php\\app\"\n</code></pre>\n\n<p>What can the problem be?</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 49793, "user_id": 4014959, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GdqQJ.jpg?s=128&g=1", "display_name": "PM 2Ring", "link": "https://stackoverflow.com/users/4014959/pm-2ring"}, "edited": false, "score": 1, "creation_date": 1457560580, "post_id": 35903181, "comment_id": 59467216, "body": "No, that <i>doesn&#39;t</i> work fine. You have a couple of syntax errors; your input stuff won&#39;t work properly; and you aren&#39;t doing arithmetic on the  user inputs."}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 6041273, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eef870457fde62fa068198ee87b02faa?s=128&d=identicon&r=PG&f=1", "display_name": "Brad364", "link": "https://stackoverflow.com/users/6041273/brad364"}, "edited": false, "score": 0, "creation_date": 1457559964, "post_id": 35903221, "comment_id": 59466909, "body": "For this to work, would the user using this need to input the awnser in to the def? Sorry im new to coding"}, {"owner": {"reputation": 23605, "user_id": 1016216, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/xF5Ew.png?s=128&g=1", "display_name": "L3viathan", "link": "https://stackoverflow.com/users/1016216/l3viathan"}, "reply_to_user": {"reputation": 3, "user_id": 6041273, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eef870457fde62fa068198ee87b02faa?s=128&d=identicon&r=PG&f=1", "display_name": "Brad364", "link": "https://stackoverflow.com/users/6041273/brad364"}, "edited": false, "score": 0, "creation_date": 1457560661, "post_id": 35903221, "comment_id": 59467259, "body": "@Brad364 Not sure I understand you correctly, try my edit."}, {"owner": {"reputation": 3, "user_id": 6041273, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eef870457fde62fa068198ee87b02faa?s=128&d=identicon&r=PG&f=1", "display_name": "Brad364", "link": "https://stackoverflow.com/users/6041273/brad364"}, "edited": false, "score": 0, "creation_date": 1457560859, "post_id": 35903221, "comment_id": 59467359, "body": "Im confused because i dont really understand whats happening there sorry"}, {"owner": {"reputation": 23605, "user_id": 1016216, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/xF5Ew.png?s=128&g=1", "display_name": "L3viathan", "link": "https://stackoverflow.com/users/1016216/l3viathan"}, "reply_to_user": {"reputation": 3, "user_id": 6041273, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eef870457fde62fa068198ee87b02faa?s=128&d=identicon&r=PG&f=1", "display_name": "Brad364", "link": "https://stackoverflow.com/users/6041273/brad364"}, "edited": false, "score": 0, "creation_date": 1457560879, "post_id": 35903221, "comment_id": 59467366, "body": "@Brad364 I&#39;ll comment it, give me a minute."}, {"owner": {"reputation": 49793, "user_id": 4014959, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GdqQJ.jpg?s=128&g=1", "display_name": "PM 2Ring", "link": "https://stackoverflow.com/users/4014959/pm-2ring"}, "reply_to_user": {"reputation": 3, "user_id": 6041273, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eef870457fde62fa068198ee87b02faa?s=128&d=identicon&r=PG&f=1", "display_name": "Brad364", "link": "https://stackoverflow.com/users/6041273/brad364"}, "edited": false, "score": 0, "creation_date": 1457561139, "post_id": 35903221, "comment_id": 59467523, "body": "@Brad364: This code assumes the user is inputting a string of 7 digits with no spaces in between them."}, {"owner": {"reputation": 23605, "user_id": 1016216, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/xF5Ew.png?s=128&g=1", "display_name": "L3viathan", "link": "https://stackoverflow.com/users/1016216/l3viathan"}, "reply_to_user": {"reputation": 49793, "user_id": 4014959, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GdqQJ.jpg?s=128&g=1", "display_name": "PM 2Ring", "link": "https://stackoverflow.com/users/4014959/pm-2ring"}, "edited": false, "score": 0, "creation_date": 1457561192, "post_id": 35903221, "comment_id": 59467564, "body": "@PM2Ring That&#39;s exactly how it&#39;s &quot;working&quot; in the question, isn&#39;t it?"}, {"owner": {"reputation": 49793, "user_id": 4014959, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GdqQJ.jpg?s=128&g=1", "display_name": "PM 2Ring", "link": "https://stackoverflow.com/users/4014959/pm-2ring"}, "edited": false, "score": 0, "creation_date": 1457561447, "post_id": 35903221, "comment_id": 59467692, "body": "Sure, apart from the syntax errors, and the fact that Brad&#39;s doing arithmetic on <code>t</code> instead of the input numbers. I made my comment because it&#39;s not clear if that&#39;s what Brad wants, or if he expects the code to work on multi-digit numbers, though."}, {"owner": {"reputation": 3, "user_id": 6041273, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eef870457fde62fa068198ee87b02faa?s=128&d=identicon&r=PG&f=1", "display_name": "Brad364", "link": "https://stackoverflow.com/users/6041273/brad364"}, "edited": false, "score": 0, "creation_date": 1457561457, "post_id": 35903221, "comment_id": 59467696, "body": "Ill write you the question. I need to get the user to input 7 numbers (making this as efficient as possible while sticking to a GCSE level) then i need to times all the even index numbers by 3 and odd ones by 1 and print them out. Then i need to make an eight number by adding all the digits up (After they have been multiplied) and take it away from the nearest 10, then after that i need to check its valid by add every number up including the eighth and it should end up with a sum with zero on the end. I need to do this at a GCSE stranded"}, {"owner": {"reputation": 49793, "user_id": 4014959, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GdqQJ.jpg?s=128&g=1", "display_name": "PM 2Ring", "link": "https://stackoverflow.com/users/4014959/pm-2ring"}, "reply_to_user": {"reputation": 3, "user_id": 6041273, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eef870457fde62fa068198ee87b02faa?s=128&d=identicon&r=PG&f=1", "display_name": "Brad364", "link": "https://stackoverflow.com/users/6041273/brad364"}, "edited": false, "score": 0, "creation_date": 1457561754, "post_id": 35903221, "comment_id": 59467846, "body": "@Brad364: Ok. That sounds like a checksum algorithm, so you <i>do</i> want the user to input a string of 7 digits with no spaces in between."}, {"owner": {"reputation": 3, "user_id": 6041273, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eef870457fde62fa068198ee87b02faa?s=128&d=identicon&r=PG&f=1", "display_name": "Brad364", "link": "https://stackoverflow.com/users/6041273/brad364"}, "edited": false, "score": 0, "creation_date": 1457561827, "post_id": 35903221, "comment_id": 59467880, "body": "Yes, thats what i want"}, {"owner": {"reputation": 23605, "user_id": 1016216, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/xF5Ew.png?s=128&g=1", "display_name": "L3viathan", "link": "https://stackoverflow.com/users/1016216/l3viathan"}, "reply_to_user": {"reputation": 3, "user_id": 6041273, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eef870457fde62fa068198ee87b02faa?s=128&d=identicon&r=PG&f=1", "display_name": "Brad364", "link": "https://stackoverflow.com/users/6041273/brad364"}, "edited": false, "score": 0, "creation_date": 1457562013, "post_id": 35903221, "comment_id": 59467987, "body": "@Brad364 That algorithm makes no sense. Assume the 7 numbers add up to a number <code>x</code>. The last digit of <code>x</code> will be capital <code>X</code>. The eighth number will 10 minus that last digit, so <code>10-X</code>. And finally, the sum of the 7 numbers (ending in <code>X</code>) plus the eighth number (<code>10-X</code>)  will always sum up to some multiple of 10. This checksum will accept any string of 7 digits."}, {"owner": {"reputation": 3, "user_id": 6041273, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eef870457fde62fa068198ee87b02faa?s=128&d=identicon&r=PG&f=1", "display_name": "Brad364", "link": "https://stackoverflow.com/users/6041273/brad364"}, "edited": false, "score": 0, "creation_date": 1457562099, "post_id": 35903221, "comment_id": 59468039, "body": "Sorry thats confused me, i just need to get 7 numbers as a string, then multiply them by 3 and 1 (odd index number times by 1 and even times by 2) then add them up and take it away from the nearest 10"}, {"owner": {"reputation": 23605, "user_id": 1016216, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/xF5Ew.png?s=128&g=1", "display_name": "L3viathan", "link": "https://stackoverflow.com/users/1016216/l3viathan"}, "edited": false, "score": 0, "creation_date": 1457562165, "post_id": 35903221, "comment_id": 59468071, "body": "That is in the code. <code>print(10 - (weird_sum % 10))</code> prints that. This is my final comment here."}], "tags": [], "owner": {"reputation": 23605, "user_id": 1016216, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/xF5Ew.png?s=128&g=1", "display_name": "L3viathan", "link": "https://stackoverflow.com/users/1016216/l3viathan"}, "is_accepted": false, "score": 0, "last_activity_date": 1457562127, "last_edit_date": 1457562127, "creation_date": 1457559808, "answer_id": 35903221, "question_id": 35903181, "link": "https://stackoverflow.com/questions/35903181/taking-away-from-nearest-10/35903221#35903221", "title": "Taking away from nearest 10", "body": "<p>I believe this is what you're looking for:</p>\n\n<pre><code>def take_away_from_nearest(number, nearest):\n    return nearest - (number % nearest)\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>&gt;&gt;&gt; take_away_from_nearest(53, 10)\n7\n</code></pre>\n\n<p><strong>edit:</strong>\nIf I understand you correctly, this would be the entire code:</p>\n\n<pre><code>while True:\n    # this is just an easy way to keep asking until the input is correct\n    num = input(\"Please enter 7 numbers: \")\n    if len(num) == 7:\n        break\nweird_sum = 0 #here's where we're gonna sum up the numbers; the \"eighth number\"\nfor index, character in enumerate(num):\n    if index % 2 == 0: # index is odd, so count the character thrice\n        print(3 * int(character))\n        weird_sum += 3 * int(character)\n    else: # index is even\n        print(int(character))\n        weird_sum += int(character)\nprint(10 - (weird_sum % 10)) # 10 minus (weird_sum modulo 10)\n# and finally, adding them all up and checking whether it ends with 0:\nprint((10-(weird_sum % 10) + weird_sum) % 10 == 0) # prints True\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3, "user_id": 6041273, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eef870457fde62fa068198ee87b02faa?s=128&d=identicon&r=PG&f=1", "display_name": "Brad364", "link": "https://stackoverflow.com/users/6041273/brad364"}, "edited": false, "score": 0, "creation_date": 1457560544, "post_id": 35903364, "comment_id": 59467189, "body": "Okay, but i just found a error i dont know how to fix, i ran my code but i didnt enter 7 numbers, it did what i wanted and printed only enter 7 numbers, however when i entered 7 numbers it just carried on looping. Fix please?"}, {"owner": {"reputation": 17990, "user_id": 5827958, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/V9KEl.png?s=128&g=1", "display_name": "zondo", "link": "https://stackoverflow.com/users/5827958/zondo"}, "reply_to_user": {"reputation": 3, "user_id": 6041273, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eef870457fde62fa068198ee87b02faa?s=128&d=identicon&r=PG&f=1", "display_name": "Brad364", "link": "https://stackoverflow.com/users/6041273/brad364"}, "edited": false, "score": 0, "creation_date": 1457567272, "post_id": 35903364, "comment_id": 59470216, "body": "That&#39;s because you aren&#39;t updating <code>length</code> each time.  You start out with it equal to <code>len(num)</code>, but you don&#39;t update it when you change num.  You should change your <code>while</code> condition to <code>while len(num) != 7:</code>"}], "tags": [], "owner": {"reputation": 17990, "user_id": 5827958, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/V9KEl.png?s=128&g=1", "display_name": "zondo", "link": "https://stackoverflow.com/users/5827958/zondo"}, "is_accepted": false, "score": 0, "last_activity_date": 1457560309, "creation_date": 1457560309, "answer_id": 35903364, "question_id": 35903181, "link": "https://stackoverflow.com/questions/35903181/taking-away-from-nearest-10/35903364#35903364", "title": "Taking away from nearest 10", "body": "<p>If you have a number, <code>x</code>, which is equal to 53, then going up should be <code>math.ceil(x)</code> except that <code>math.ceil()</code> rounds for <code>1</code>.  To account for that, we divide by 10, use <code>math.ceil()</code>, and then multiply by 10 again:</p>\n\n<pre><code>import math\nrounded_up = math.ceil(x / 10) * 10\nresult = rounded_up - x\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 49793, "user_id": 4014959, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GdqQJ.jpg?s=128&g=1", "display_name": "PM 2Ring", "link": "https://stackoverflow.com/users/4014959/pm-2ring"}, "reply_to_user": {"reputation": 3, "user_id": 6041273, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eef870457fde62fa068198ee87b02faa?s=128&d=identicon&r=PG&f=1", "display_name": "Brad364", "link": "https://stackoverflow.com/users/6041273/brad364"}, "edited": false, "score": 0, "creation_date": 1457561183, "post_id": 35903548, "comment_id": 59467558, "body": "@Brad364: What do you expect <code>length ? 7</code> to do?"}, {"owner": {"reputation": 3, "user_id": 6041273, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eef870457fde62fa068198ee87b02faa?s=128&d=identicon&r=PG&f=1", "display_name": "Brad364", "link": "https://stackoverflow.com/users/6041273/brad364"}, "edited": false, "score": 0, "creation_date": 1457561671, "post_id": 35903548, "comment_id": 59467804, "body": "Oh thats a mistake shouldnt it be     while length &lt; 7 or length &gt; 7:"}, {"owner": {"reputation": 49793, "user_id": 4014959, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GdqQJ.jpg?s=128&g=1", "display_name": "PM 2Ring", "link": "https://stackoverflow.com/users/4014959/pm-2ring"}, "reply_to_user": {"reputation": 3, "user_id": 6041273, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eef870457fde62fa068198ee87b02faa?s=128&d=identicon&r=PG&f=1", "display_name": "Brad364", "link": "https://stackoverflow.com/users/6041273/brad364"}, "edited": false, "score": 0, "creation_date": 1457562082, "post_id": 35903548, "comment_id": 59468028, "body": "@Brad364: Correct! But L3viathan has shown you a better way to do that."}, {"owner": {"reputation": 3, "user_id": 6041273, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eef870457fde62fa068198ee87b02faa?s=128&d=identicon&r=PG&f=1", "display_name": "Brad364", "link": "https://stackoverflow.com/users/6041273/brad364"}, "edited": false, "score": 0, "creation_date": 1457562177, "post_id": 35903548, "comment_id": 59468080, "body": "His way confused me, i&#39;m new to this"}], "tags": [], "owner": {"reputation": 1513, "user_id": 6041527, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pprLg.png?s=128&g=1", "display_name": "quikst3r", "link": "https://stackoverflow.com/users/6041527/quikst3r"}, "is_accepted": false, "score": 0, "last_activity_date": 1457560952, "creation_date": 1457560952, "answer_id": 35903548, "question_id": 35903181, "link": "https://stackoverflow.com/questions/35903181/taking-away-from-nearest-10/35903548#35903548", "title": "Taking away from nearest 10", "body": "<p>Brad could you clarify your question? Also your above code does not work.</p>\n\n<p>Missing a bracket on the first line and this isn't valid <code>while length &lt; 7 or length ? 7:</code></p>\n"}], "owner": {"reputation": 3, "user_id": 6041273, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eef870457fde62fa068198ee87b02faa?s=128&d=identicon&r=PG&f=1", "display_name": "Brad364", "link": "https://stackoverflow.com/users/6041273/brad364"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 45, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1457562127, "creation_date": 1457559687, "question_id": 35903181, "link": "https://stackoverflow.com/questions/35903181/taking-away-from-nearest-10", "title": "Taking away from nearest 10", "body": "<p>Okay, i have made my code so that a user can input 7 numbers and times them by 1 for the odd index numbers and 3 for the even:</p>\n\n<pre><code>num = str(input(\"Please enter 7 numbers\")\nlength = len(num)\nwhile length &lt; 7 or length ? 7:\n    num = input(\"Only enter 7 numbers\")\nstring = ''\nfor t in range(1,8):\n    if t % 2 == 0:\n        string += str(t * 3)\n     else:   \n         string += str(t) + ' '\n print(string)\n</code></pre>\n\n<p>This works fine, but now i need to add all the numbers up and take it away from the highest 10 so for example, all the numbers add up to 53 i need to take that away from 60 which leaves me 7, that will be my eight number, then after i have got that number i print it out, how do i get it to add the numbers up and the take it away from the highest 10 and output the difference of the two into the numbers i already have?</p>\n\n<p>Thanks \nBrad</p>\n"}, {"tags": ["python", "django", "windows", "redis", "pycharm"], "answers": [{"tags": [], "owner": {"reputation": 1678, "user_id": 1067308, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/VqP5E.jpg?s=128&g=1", "display_name": "Maecky", "link": "https://stackoverflow.com/users/1067308/maecky"}, "is_accepted": true, "score": 0, "last_activity_date": 1457561131, "last_edit_date": 1495541298, "creation_date": 1457561131, "answer_id": 35903605, "question_id": 35903179, "link": "https://stackoverflow.com/questions/35903179/pycharm-interpreter-using-cygwin-version-python/35903605#35903605", "title": "pycharm interpreter using cygwin version python", "body": "<p>According to the error message it looks like pip can't be found... Are you sure you have installed pip?</p>\n\n<p>Take a look here, how you can install pip: <a href=\"https://stackoverflow.com/questions/18641438/installing-pip-3-2-on-cygwin\">Installing Pip-3.2 on Cygwin</a></p>\n\n<p>You can open a cygwin command line window and try to manually install the packages you want to.</p>\n"}], "owner": {"reputation": 13, "user_id": 6041708, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b23baf52f40773efc496247cdcbdafc?s=128&d=identicon&r=PG&f=1", "display_name": "user6041708", "link": "https://stackoverflow.com/users/6041708/user6041708"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 843, "favorite_count": 0, "accepted_answer_id": 35903605, "answer_count": 1, "score": 0, "last_activity_date": 1468882723, "creation_date": 1457559684, "last_edit_date": 1495540290, "question_id": 35903179, "link": "https://stackoverflow.com/questions/35903179/pycharm-interpreter-using-cygwin-version-python", "title": "pycharm interpreter using cygwin version python", "body": "<p>I am running django python2.7 using Pycharm in windows.\nNow I have some issue with redis queue not working in windows because of <a href=\"https://stackoverflow.com/a/17301045/6041708\">this</a></p>\n\n<p>I am trying to do what this person did <a href=\"https://stackoverflow.com/a/33318875/6041708\">here</a>. Use a cygwin version of python as pycharm interpreter. </p>\n\n<p>(not sure if I downloaded all the packages or did correct steps)\nI downloaded cygwin and install packages python2.7 + python-setuptools and then try to point my Pycharm interpreter to c:/cygwin/bin/python27.exe</p>\n\n<p><a href=\"https://i.stack.imgur.com/Em2V2.jpg\" rel=\"nofollow noreferrer\">see image</a></p>\n\n<p>After that it seem ok and ask me to install packing tools pip, I clicked it and it give me this error:</p>\n\n<p><a href=\"https://i.stack.imgur.com/BhzzE.jpg\" rel=\"nofollow noreferrer\">see image</a></p>\n\n<p>\"Cannot start process, the working directory '\\cygdrive\\c\\Users\\User1G~1.SIS\\AppData\\Local\\Temp\\1\\tmpYpudf2pycharm-management\\pip-7.1.0' does not exist\"</p>\n"}, {"tags": ["python", "django", "django-models", "django-admin"], "comments": [{"owner": {"reputation": 21831, "user_id": 262618, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0d1a2655384f3cfdb549b2b5631cd03b?s=128&d=identicon&r=PG", "display_name": "Ludwik Trammer", "link": "https://stackoverflow.com/users/262618/ludwik-trammer"}, "edited": false, "score": 0, "creation_date": 1457560589, "post_id": 35903138, "comment_id": 59467220, "body": "No, it is not achievable without writing some custom JS."}, {"owner": {"reputation": 2623, "user_id": 3697163, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/611ce881510094605af96f479d2c0472?s=128&d=identicon&r=PG&f=1", "display_name": "DaveBensonPhillips", "link": "https://stackoverflow.com/users/3697163/davebensonphillips"}, "edited": false, "score": 0, "creation_date": 1457561380, "post_id": 35903138, "comment_id": 59467658, "body": "Why does the <code>Lecture</code> model need both an area and a topic? Won&#39;t the area already imply a topic?"}, {"owner": {"reputation": 123, "user_id": 2694202, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5aa4c47d213b4890abdf31e83fa1e007?s=128&d=identicon&r=PG&f=1", "display_name": "nik4emniy", "link": "https://stackoverflow.com/users/2694202/nik4emniy"}, "edited": false, "score": 0, "creation_date": 1457561576, "post_id": 35903138, "comment_id": 59467748, "body": "It&#39;s simply an example and not the actual code. Of course a topic would imply an area, but topics can have the same name, e.g. &quot;Introduction&quot;. That would make it inconvenient if not impossible for the user to understand what he/she&#39;s doing."}, {"owner": {"reputation": 123, "user_id": 2694202, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5aa4c47d213b4890abdf31e83fa1e007?s=128&d=identicon&r=PG&f=1", "display_name": "nik4emniy", "link": "https://stackoverflow.com/users/2694202/nik4emniy"}, "edited": false, "score": 0, "creation_date": 1457561643, "post_id": 35903138, "comment_id": 59467788, "body": "The other purpose of saving &quot;duplicating&quot; the field (which essentially this is) in this model is faster db lookups"}], "answers": [{"comments": [{"owner": {"reputation": 123, "user_id": 2694202, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5aa4c47d213b4890abdf31e83fa1e007?s=128&d=identicon&r=PG&f=1", "display_name": "nik4emniy", "link": "https://stackoverflow.com/users/2694202/nik4emniy"}, "edited": false, "score": 0, "creation_date": 1457567700, "post_id": 35904825, "comment_id": 59470363, "body": "Seems like this will only be called when the page is initially rendered, not any time the user changes selected value, but thanks )"}, {"owner": {"reputation": 1377, "user_id": 1798369, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VSLzQ.png?s=128&g=1", "display_name": "vadimchin", "link": "https://stackoverflow.com/users/1798369/vadimchin"}, "reply_to_user": {"reputation": 123, "user_id": 2694202, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5aa4c47d213b4890abdf31e83fa1e007?s=128&d=identicon&r=PG&f=1", "display_name": "nik4emniy", "link": "https://stackoverflow.com/users/2694202/nik4emniy"}, "edited": false, "score": 0, "creation_date": 1457603566, "post_id": 35904825, "comment_id": 59484790, "body": "Every time, when user change -  you needs refresh page, another way - js and ajax ( Ludwik Trammer pointed )"}, {"owner": {"reputation": 123, "user_id": 2694202, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5aa4c47d213b4890abdf31e83fa1e007?s=128&d=identicon&r=PG&f=1", "display_name": "nik4emniy", "link": "https://stackoverflow.com/users/2694202/nik4emniy"}, "edited": false, "score": 0, "creation_date": 1457618177, "post_id": 35904825, "comment_id": 59495269, "body": "Yes, that&#39;s what it looked like, so I asked whether it was possible without some JS - couldn&#39;t find it in the docs"}], "tags": [], "owner": {"reputation": 1377, "user_id": 1798369, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VSLzQ.png?s=128&g=1", "display_name": "vadimchin", "link": "https://stackoverflow.com/users/1798369/vadimchin"}, "is_accepted": false, "score": 0, "last_activity_date": 1457566533, "creation_date": 1457566533, "answer_id": 35904825, "question_id": 35903138, "link": "https://stackoverflow.com/questions/35903138/django-admin-how-to-dynamically-populate-suggested-foreignkey-values-based-on-a/35904825#35904825", "title": "Django Admin: How to dynamically populate suggested ForeignKey values based on another ForeignKey choice?", "body": "<p>Firstly set topic = models.Fk(..., null=True)</p>\n\n<pre><code>class AdminLecture(admin.ModelAdmin):\n    object = None\n\n    def get_object(self, request, object_id):\n        self.object = super(AdminLecture, self).get_object(request, object_id)\n        return self.object\n\n    def formfield_for_foreignkey(self, db_field, request, **kwargs):\n\n        if self.object and db_field.name == 'topic':\n            kwargs['queryset'] = Topic.objects.filter(area=self.object.area)\n        return super(AdminLecture, self).formfield_for_foreignkey(db_field, request, **kwargs)\n</code></pre>\n\n<p>then push  <strong>save and cotinue edit</strong></p>\n"}, {"tags": [], "owner": {"reputation": 5166, "user_id": 761200, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Fu-k9JT6wmc/AAAAAAAAAAI/AAAAAAAADKc/Aws1WHJe4WA/photo.jpg?sz=128", "display_name": "wieczorek1990", "link": "https://stackoverflow.com/users/761200/wieczorek1990"}, "is_accepted": false, "score": 0, "last_activity_date": 1559645507, "creation_date": 1559645507, "answer_id": 56442406, "question_id": 35903138, "link": "https://stackoverflow.com/questions/35903138/django-admin-how-to-dynamically-populate-suggested-foreignkey-values-based-on-a/56442406#56442406", "title": "Django Admin: How to dynamically populate suggested ForeignKey values based on another ForeignKey choice?", "body": "<p>You can use <code>django-smart-selects</code> package:\n<a href=\"https://github.com/digi604/django-smart-selects\" rel=\"nofollow noreferrer\">https://github.com/digi604/django-smart-selects</a></p>\n"}], "owner": {"reputation": 123, "user_id": 2694202, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5aa4c47d213b4890abdf31e83fa1e007?s=128&d=identicon&r=PG&f=1", "display_name": "nik4emniy", "link": "https://stackoverflow.com/users/2694202/nik4emniy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1139, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1559645507, "creation_date": 1457559488, "question_id": 35903138, "link": "https://stackoverflow.com/questions/35903138/django-admin-how-to-dynamically-populate-suggested-foreignkey-values-based-on-a", "title": "Django Admin: How to dynamically populate suggested ForeignKey values based on another ForeignKey choice?", "body": "<p>Is there a way to dynamically change the values displayed in SelectFields for ForeignKeys in Django Admin? Without having to write some custom JS that does it.</p>\n\n<p>Say, I have two models: <strong>Topic</strong> and <strong>AreaOfDiscussion</strong>.\nTopic has an area of discussion, as in</p>\n\n<pre><code>class Topic(models.Model):\n    area = models.ForeignKey(AreaOfDiscussion, null=False)\n</code></pre>\n\n<p>Now I'm adding a <strong>Lecture</strong> model, which must have both a topic and an area.</p>\n\n<pre><code>class Lecture(models.Model):\n     area = models.ForeignKey(AreaOfDiscussion, null=False)\n     topic = models.ForeignKey(Topic, null=False)\n</code></pre>\n\n<p>I want the user (of the admin panel) to be able to choose an area first, then based on the choice, give him/her a list of available Topics for the chosen Area. Is this achievable?</p>\n"}, {"tags": ["python", "sqlite", "join", "sqlalchemy", "sql-update"], "comments": [{"owner": {"reputation": 124, "user_id": 2153518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1dfaeb048b381acec701bd306479e2b6?s=128&d=identicon&r=PG", "display_name": "Coding", "link": "https://stackoverflow.com/users/2153518/coding"}, "edited": false, "score": 0, "creation_date": 1457603886, "post_id": 35903099, "comment_id": 59485050, "body": "In sqlite this sql statement works: UPDATE _LOCATIONR SET _status=1 WHERE _uuid=&quot;42&quot; AND _id=1 AND EXISTS (SELECT * FROM LOCATIONR WHERE _LOCATIONR._id=LOCATIONR._id AND LOCATIONR._version=0); COMMIT;"}], "answers": [{"tags": [], "owner": {"reputation": 124, "user_id": 2153518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1dfaeb048b381acec701bd306479e2b6?s=128&d=identicon&r=PG", "display_name": "Coding", "link": "https://stackoverflow.com/users/2153518/coding"}, "is_accepted": true, "score": 1, "last_activity_date": 1457604476, "creation_date": 1457604476, "answer_id": 35913364, "question_id": 35903099, "link": "https://stackoverflow.com/questions/35903099/update-joined-table-using-sqlalchemy-core/35913364#35913364", "title": "update joined table using sqlalchemy core", "body": "<pre><code>statement = sc2.update().where(and_(sc2.c._id == id, sc2.c._uuid == uuid, exists().where(and_(sc2.c._id == sc.c._id, sc.c._version == version))))\n</code></pre>\n\n<p>works</p>\n"}], "owner": {"reputation": 124, "user_id": 2153518, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1dfaeb048b381acec701bd306479e2b6?s=128&d=identicon&r=PG", "display_name": "Coding", "link": "https://stackoverflow.com/users/2153518/coding"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 796, "favorite_count": 0, "accepted_answer_id": 35913364, "answer_count": 1, "score": 0, "last_activity_date": 1457604476, "creation_date": 1457559347, "last_edit_date": 1495540771, "question_id": 35903099, "link": "https://stackoverflow.com/questions/35903099/update-joined-table-using-sqlalchemy-core", "title": "update joined table using sqlalchemy core", "body": "<p>I want to update the values in a table dependent on values in another table.</p>\n\n<p>I have 2 tables:</p>\n\n<p>_LOCATIONR: _id, _status, _uuid</p>\n\n<p>LOCATIONR: _id, _version and some userdata</p>\n\n<p>_status shall be set to 1 if _version=0, _uuid=\"42\" and _id=1</p>\n\n<p>i use python with sqlalchemy, database is sqlite</p>\n\n<pre><code>sc#table LOCATIONR\nsc2#table _LOCATIONR\nversion = 0\nuuid = \"42\"\nid = 1\nstatement = sc2.update().\n                where(and_(\n                    sc2.c._id == id,\n                    sc2.c._id == sc.c._id,\n                    sc.c._version == version,\n                    sc2.c._uuid == uuid))\nr = statement.execute({\"_status\": 1, \"_id\": id, \"_uuid\": uuid})\n</code></pre>\n\n<p>Log:</p>\n\n<pre><code>2016-03-09 22:08:45,059 INFO sqlalchemy.engine.base.Engine UPDATE \"_LOCATIONR\" SET _uuid=?, _status=?, _id=? FROM \"LOCATIONR\" WHERE \"_LOCATIONR\"._id = ? AND \"_LOCATIONR\"._id = \"LOCATIONR\"._id AND \"LOCATIONR\"._version = ? AND \"_LOCATIONR\"._uuid = ?\n2016-03-09 22:08:45,059 INFO sqlalchemy.engine.base.Engine ('42', 1, 1, 1, 0, '42')\n2016-03-09 22:08:45,060 INFO sqlalchemy.engine.base.Engine ROLLBACK\n</code></pre>\n\n<p>Everytime I execute the above code sqlalchemy makes a rollback.\nThe errors occur only if the whereclause references sc\nbut due to those links it should be ok\n<a href=\"https://groups.google.com/forum/#!topic/sqlalchemy/HH7Rw65kypA\" rel=\"nofollow noreferrer\">https://groups.google.com/forum/#!topic/sqlalchemy/HH7Rw65kypA</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/28274133/update-a-joined-table-with-sqlalchemy-core\">Update a Joined Table with SQLAlchemy Core</a></p>\n"}, {"tags": ["python", "csv"], "comments": [{"owner": {"reputation": 16773, "user_id": 5827215, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-s_pAOw1Sc-M/AAAAAAAAAAI/AAAAAAAAAMA/J-R1IMHbuY4/photo.jpg?sz=128", "display_name": "Tadhg McDonald-Jensen", "link": "https://stackoverflow.com/users/5827215/tadhg-mcdonald-jensen"}, "edited": false, "score": 0, "creation_date": 1457559458, "post_id": 35903060, "comment_id": 59466624, "body": "do you mean doing <code>if item in listOfAppIDs or item in alreadyReviewedAppIDs:continue</code>?  If it is in either list then continue to the next item"}, {"owner": {"reputation": 1046, "user_id": 3708219, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3f25dc94a4bfc8f628a30bb81de5faba?s=128&d=identicon&r=PG&f=1", "display_name": "pHorseSpec", "link": "https://stackoverflow.com/users/3708219/phorsespec"}, "reply_to_user": {"reputation": 16773, "user_id": 5827215, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-s_pAOw1Sc-M/AAAAAAAAAAI/AAAAAAAAAMA/J-R1IMHbuY4/photo.jpg?sz=128", "display_name": "Tadhg McDonald-Jensen", "link": "https://stackoverflow.com/users/5827215/tadhg-mcdonald-jensen"}, "edited": false, "score": 0, "creation_date": 1457559573, "post_id": 35903060, "comment_id": 59466690, "body": "if <code>item</code> from <code>listOfAppIDs</code> is equal to <code>item2</code> from <code>alreadyReviewedAppIDs</code> then don&#39;t execute statement <code>writer.writerow([i2, item])</code>"}], "answers": [{"tags": [], "owner": {"reputation": 6138, "user_id": 1342402, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/7b963a5fcf4e1eb56b3310e3528a22cd?s=128&d=identicon&r=PG&f=1", "display_name": "maazza", "link": "https://stackoverflow.com/users/1342402/maazza"}, "is_accepted": true, "score": 1, "last_activity_date": 1457559890, "last_edit_date": 1457559890, "creation_date": 1457559538, "answer_id": 35903144, "question_id": 35903060, "link": "https://stackoverflow.com/questions/35903060/if-matching-skip-writing-value-to-csv/35903144#35903144", "title": "If Matching, Skip Writing Value to Csv", "body": "<p>change this part</p>\n\n<pre><code>with open ('filelocation/outputAppIDsToDo.csv', 'wb') as outputFile:\n    writer = csv.writer(outputFile, delimiter=',',)\n    for item in listOfAppIDs:\n        if(i%14==0):\n            i2 +=1\n        if item in alreadyReviewedAppIDs: # if match\n           continue # skips the item\n        writer.writerow([i2, item])\n        i += 1\n</code></pre>\n\n<p>you were pretty close, the <code>continue</code> statement jumps to the next iteration of the forloop \nbut the <code>break</code> statement will only stop the current loop and continue the code after it(the loop)</p>\n"}], "owner": {"reputation": 1046, "user_id": 3708219, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3f25dc94a4bfc8f628a30bb81de5faba?s=128&d=identicon&r=PG&f=1", "display_name": "pHorseSpec", "link": "https://stackoverflow.com/users/3708219/phorsespec"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 1, "accepted_answer_id": 35903144, "answer_count": 1, "score": 1, "last_activity_date": 1457560383, "creation_date": 1457559167, "last_edit_date": 1457560383, "question_id": 35903060, "link": "https://stackoverflow.com/questions/35903060/if-matching-skip-writing-value-to-csv", "title": "If Matching, Skip Writing Value to Csv", "body": "<p>I'm trying to write some strings in a list to a csv file. I'm stepping through the list, and writing it to the csv file, but when I find a match within the 2 lists, I do NOT want to write the value in the list to the csv file. Could anyone help me with the syntax to skip writing a list's value to a csv if that value matches another value from a separate list? My code is below if you want to see where my syntax went wrong.</p>\n\n<pre><code>import csv\n\nlistOfAppIDs = []\n#open file to read each line and add each line in file to an array. These are our appID's to search\nwith open('filelcation/listAppIDs.txt', 'r') as fi:\n    for line in fi:\n        listOfAppIDs.append(line.rstrip('\\n'))\nlistOfAppIDs.sort() #alphebetically sort list\nprint listOfAppIDs\n\nalreadyReviewedAppIDs = ['youseemore','streampix','streamaudio','spotify','speedtest','soundcloud-base','smartsheet-base','samsung-updates','print-over-ms-smb','exp','dicom','pop3','x11','echo','webdav','ustream','telnet','skydrive-base','rsync','outlook-web','nfs','ms-office365-base','itunes-appstore','apple-appstore','aim-mail','discard','time','akamai-client','bomgar','cisco VPN','DHCP','IBM-Clearquest','Ironmountain-Connected','MS-SCOM','MS-SSTP','SCCP','SNMPV3','WCCP','XDMCP','secureserver-mail','teamviewer-base']\nprint alreadyReviewedAppIDs\n\ni=0\ni2=3\nwith open ('filelocation/outputAppIDsToDo.csv', 'wb') as outputFile:\n    writer = csv.writer(outputFile, delimiter=',',)\n    for item in listOfAppIDs:\n        if(i%14==0):\n            i2 +=1\n        #for item2 in alreadyReviewedAppIDs:\n        #   if (item2==item):\n        #       break\n        writer.writerow([i2, item])\n        i += 1\n</code></pre>\n"}, {"tags": ["python", "ubuntu-14.04", "kivy", "pydev"], "comments": [{"owner": {"reputation": 454, "user_id": 5296404, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gZhYdlJ_FnU/AAAAAAAAAAI/AAAAAAAAAT4/tOoNKZVX2GM/photo.jpg?sz=128", "display_name": "Pierre Cordier", "link": "https://stackoverflow.com/users/5296404/pierre-cordier"}, "edited": false, "score": 0, "creation_date": 1457578800, "post_id": 35903034, "comment_id": 59473721, "body": "Maybe this answer could help: <a href=\"http://stackoverflow.com/a/20001684/5296404\">eclipse automatic save/logging</a>"}], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 1974605, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/uWp4x.jpg?s=128&g=1", "display_name": "Davide", "link": "https://stackoverflow.com/users/1974605/davide"}, "edited": false, "score": 0, "creation_date": 1458252610, "post_id": 35906874, "comment_id": 59791292, "body": "Thx Will, for .kv I use now sublime. Also very nice :-)"}], "tags": [], "owner": {"reputation": 520, "user_id": 1255545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7793124ad44128214d3366c5e234b1fb?s=128&d=identicon&r=PG", "display_name": "Will", "link": "https://stackoverflow.com/users/1255545/will"}, "is_accepted": false, "score": 2, "last_activity_date": 1614878904, "last_edit_date": 1614878904, "creation_date": 1457579504, "answer_id": 35906874, "question_id": 35903034, "link": "https://stackoverflow.com/questions/35903034/kivy-development-in-eclipse-pydev-on-ubuntu-14-04-setup/35906874#35906874", "title": "Kivy development in eclipse PyDev on Ubuntu 14.04 SetUp", "body": "<p>*.kv files <em>aren't</em> Python files.  I don't think trying to treat them as such is really what you want to do.  If you must, you can choose to treat *.kv files as python files by going to Preferences &gt; General &gt; Editors &gt; File Associations and adding an entry for *.kv with the Python Editor as an associated editor.</p>\n<p>My own personal preference, however, is to use YEdit YAML editor for *.kv files.  It won't recognize Python syntax in expressions, but it works well enough for me.  If you're willing to use an external editor, you can get Kv-lang syntax highlighting in Vim.  If you're willing to learn to use Vim.  Which you should, because Vim is awesome.</p>\n<p>Finally, if you're willing to pay, the developer of PyDev also develops a closed source fork of Eclipse called Liclipse, which, if I recall correctly, has syntax highlighting, outlining, and autocomplete in kv files.</p>\n"}], "owner": {"reputation": 33, "user_id": 1974605, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/uWp4x.jpg?s=128&g=1", "display_name": "Davide", "link": "https://stackoverflow.com/users/1974605/davide"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 427, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1614878904, "creation_date": 1457559061, "question_id": 35903034, "link": "https://stackoverflow.com/questions/35903034/kivy-development-in-eclipse-pydev-on-ubuntu-14-04-setup", "title": "Kivy development in eclipse PyDev on Ubuntu 14.04 SetUp", "body": "<p>I begun to develope with Python and Kivy and I really like it :-) For daily business I'm a Java developer and also a an eclipse child. So i decided to setup eclipse (Mars) with Python, means install PyDev-Plugin and create the settings (done in one button-click).</p>\n\n<p>But I have a problem, my eclipse do not want to recognize the kv-files as python files.</p>\n\n<p>So my question has anyone experience with this set up?\nDo anyone knows a good set up tutorial?</p>\n\n<p>Thanks for your help </p>\n"}, {"tags": ["python", "matlab", "optimization", "curve-fitting", "levenberg-marquardt"], "comments": [{"owner": {"reputation": 27649, "user_id": 5067311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qjltV.png?s=128&g=1", "display_name": "Andras Deak", "link": "https://stackoverflow.com/users/5067311/andras-deak"}, "edited": false, "score": 0, "creation_date": 1457574992, "post_id": 35903023, "comment_id": 59472602, "body": "What exactly do you mean by &quot;graph&quot; of your function? I find your question very unclear."}, {"owner": {"reputation": 367, "user_id": 5982232, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ec0eb8a77384403a5b9871d519cc55f?s=128&d=identicon&r=PG&f=1", "display_name": "Ather Cheema", "link": "https://stackoverflow.com/users/5982232/ather-cheema"}, "reply_to_user": {"reputation": 27649, "user_id": 5067311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qjltV.png?s=128&g=1", "display_name": "Andras Deak", "link": "https://stackoverflow.com/users/5067311/andras-deak"}, "edited": false, "score": 0, "creation_date": 1457583585, "post_id": 35903023, "comment_id": 59474941, "body": "@AndrasDeak By graph I mean we plot values of h against t for both simulated and observed.The formula for function &#39;h&#39;  also has x,y,z variables in it which we want to optimize such that simulated becomes (as close as possible) similar  to observed. I modified my question. May be it helps you to understand question."}, {"owner": {"reputation": 367, "user_id": 5982232, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ec0eb8a77384403a5b9871d519cc55f?s=128&d=identicon&r=PG&f=1", "display_name": "Ather Cheema", "link": "https://stackoverflow.com/users/5982232/ather-cheema"}, "reply_to_user": {"reputation": 27649, "user_id": 5067311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qjltV.png?s=128&g=1", "display_name": "Andras Deak", "link": "https://stackoverflow.com/users/5067311/andras-deak"}, "edited": false, "score": 0, "creation_date": 1457590053, "post_id": 35903023, "comment_id": 59477092, "body": "If if use <code>lsqcurvefit</code> function of MATLAB what will be my &#39;x&#39; and &#39;xdata&#39;. I could understand &#39;ydata&#39; will be the values of &#39;h&#39; for observed data but I am unable to differentiate between &#39;x&#39; and &#39;xdata&#39; of <code>lsqcurvefit</code> function, if I have to use it."}], "answers": [{"comments": [{"owner": {"reputation": 367, "user_id": 5982232, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ec0eb8a77384403a5b9871d519cc55f?s=128&d=identicon&r=PG&f=1", "display_name": "Ather Cheema", "link": "https://stackoverflow.com/users/5982232/ather-cheema"}, "edited": false, "score": 0, "creation_date": 1457963709, "post_id": 35915968, "comment_id": 59631299, "body": "I defined a separate function file named &#39;h&#39; as <code>function [output] = h(para,t); x=para(1); y=para(2); z=para(3); output = _formula with x,y,z &amp; t_; output; end</code> and then I created another  file where I created <code>observed</code> and <code>t</code> vectors having same length as that of &#39;output&#39; and a vector <code>initial = [1 2 3]</code>. Then I used lsqcurvefit as <code>newpara=lsqcurvefit(@h,initial, t,observed)</code> but by running it MATLAB says &#39;error using <code>h</code> for not having enough input arguments&#39;."}, {"owner": {"reputation": 367, "user_id": 5982232, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ec0eb8a77384403a5b9871d519cc55f?s=128&d=identicon&r=PG&f=1", "display_name": "Ather Cheema", "link": "https://stackoverflow.com/users/5982232/ather-cheema"}, "edited": false, "score": 0, "creation_date": 1457969426, "post_id": 35915968, "comment_id": 59635786, "body": "I had to define <code>t</code> inside &#39;h&#39; file of function even though I defined it in other file where I called <code>lsqcurvefit</code> along with giving sample/observed data for <code>h</code> and t is also in input arguments of function of file <code>h</code>. This I could not understand that why I have to define <code>t</code> explicitly in file &#39;h&#39; when I am giving it as input argument."}, {"owner": {"reputation": 27649, "user_id": 5067311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qjltV.png?s=128&g=1", "display_name": "Andras Deak", "link": "https://stackoverflow.com/users/5067311/andras-deak"}, "reply_to_user": {"reputation": 367, "user_id": 5982232, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ec0eb8a77384403a5b9871d519cc55f?s=128&d=identicon&r=PG&f=1", "display_name": "Ather Cheema", "link": "https://stackoverflow.com/users/5982232/ather-cheema"}, "edited": false, "score": 0, "creation_date": 1457987519, "post_id": 35915968, "comment_id": 59647449, "body": "@AtherCheema I cannot reproduce your problem. By using an anonymous function, this won&#39;t produce an error: <code>initial=[1 2 3]; t=1:10; observed=-2*t; h=@(para,t) para(1)*t+para(2)*(-t)+para(3)*t.^2;  newpara=lsqcurvefit(h,initial, t,observed)</code>. If you use a named function instead, you should indeed use <code>@h</code> in the call to <code>lsqcurvefit</code>, otherwise it should work the same way. Is your function name not being confused with some other function/variable in the workspace? This is a really short (and bad) name for a function..."}, {"owner": {"reputation": 367, "user_id": 5982232, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ec0eb8a77384403a5b9871d519cc55f?s=128&d=identicon&r=PG&f=1", "display_name": "Ather Cheema", "link": "https://stackoverflow.com/users/5982232/ather-cheema"}, "edited": false, "score": 0, "creation_date": 1458039309, "post_id": 35915968, "comment_id": 59670048, "body": "@ AndrasDeak  Thank you very much. I am just wondering what is difference between using <code>lsqcurvefit</code> and <code>fminbnd</code> with rmse to be used as the function to be reduced? <code>lsqcurvefit</code> also reduces sum of square of errors between sample data calculated data.  I tried both and they gave very different optimized values with same degree of fitting."}, {"owner": {"reputation": 27649, "user_id": 5067311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qjltV.png?s=128&g=1", "display_name": "Andras Deak", "link": "https://stackoverflow.com/users/5067311/andras-deak"}, "reply_to_user": {"reputation": 367, "user_id": 5982232, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ec0eb8a77384403a5b9871d519cc55f?s=128&d=identicon&r=PG&f=1", "display_name": "Ather Cheema", "link": "https://stackoverflow.com/users/5982232/ather-cheema"}, "edited": false, "score": 0, "creation_date": 1458047637, "post_id": 35915968, "comment_id": 59676013, "body": "@AtherCheema did you really do the exact same thing with them? Same tolerance levels, same starting points? Anyway, they could still be using different algorithms under the hood, so for problems with multiple possible solutions you might get wildly different results. Otherwise I&#39;m not intimately familiar with these functions, but it sounds reasonable that they both can be used to perform curve fitting (but I&#39;d use the one that has &quot;curvefit&quot; in its name)."}, {"owner": {"reputation": 367, "user_id": 5982232, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ec0eb8a77384403a5b9871d519cc55f?s=128&d=identicon&r=PG&f=1", "display_name": "Ather Cheema", "link": "https://stackoverflow.com/users/5982232/ather-cheema"}, "edited": false, "score": 0, "creation_date": 1458238783, "post_id": 35915968, "comment_id": 59783507, "body": "@ AndrasDeak  As <code>fminbnd</code> does not require initial guess so its results are different but you are right <code>fminsearch</code> and <code>lsqcurvefit</code> with same initial values are giving same optimized values. Moreover I am getting some error using <code>fit</code> function for same problem <a href=\"http://de.mathworks.com/matlabcentral/answers/273589-getting-error-using-fittype-line-356\" rel=\"nofollow noreferrer\">here</a>."}, {"owner": {"reputation": 27649, "user_id": 5067311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qjltV.png?s=128&g=1", "display_name": "Andras Deak", "link": "https://stackoverflow.com/users/5067311/andras-deak"}, "reply_to_user": {"reputation": 367, "user_id": 5982232, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ec0eb8a77384403a5b9871d519cc55f?s=128&d=identicon&r=PG&f=1", "display_name": "Ather Cheema", "link": "https://stackoverflow.com/users/5982232/ather-cheema"}, "edited": false, "score": 0, "creation_date": 1458239024, "post_id": 35915968, "comment_id": 59783659, "body": "It&#39;s quite possible that user-defined functions can&#39;t be passed as strings. Use an anonymous function instead, <a href=\"http://www.mathworks.com/help/curvefit/fittype.html#btpaend-18\" rel=\"nofollow noreferrer\">like this</a>."}, {"owner": {"reputation": 367, "user_id": 5982232, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ec0eb8a77384403a5b9871d519cc55f?s=128&d=identicon&r=PG&f=1", "display_name": "Ather Cheema", "link": "https://stackoverflow.com/users/5982232/ather-cheema"}, "edited": false, "score": 0, "creation_date": 1458241113, "post_id": 35915968, "comment_id": 59784909, "body": "Actually I was unable to write this whole function as user defined. <code>function ydata = ytest(x,k,S);   g_vecrow = (xlsread(&#39;signal1.xlsx&#39;,&#39;signal&#39;,&#39;C2:C999&#39;))&#39;;g_vec = g_vecrow-g_vecrow(1) ; t_vec = x.*5; dist = 45; b = 2;   for i = 2:998;     t = t_vec(i);     g = g_vec(i); tow = 0:5:t-1; wt(i) = ((1&#47;k*b&#47;S)^(1&#47;2)* dist)&#47;(2 * sqrt(pi))* trapz(tow,g.*(t - tow).^(-3&#47;2).*exp(-dist^2.&#47;(4*k*b&#47;S*(t - tow))));    end ydata = wt + 147.9; end </code> g_vecrow is data of 998 points. If you could help me in writing above function as anonymous function."}, {"owner": {"reputation": 27649, "user_id": 5067311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qjltV.png?s=128&g=1", "display_name": "Andras Deak", "link": "https://stackoverflow.com/users/5067311/andras-deak"}, "reply_to_user": {"reputation": 367, "user_id": 5982232, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ec0eb8a77384403a5b9871d519cc55f?s=128&d=identicon&r=PG&f=1", "display_name": "Ather Cheema", "link": "https://stackoverflow.com/users/5982232/ather-cheema"}, "edited": false, "score": 0, "creation_date": 1458241736, "post_id": 35915968, "comment_id": 59785260, "body": "You can leave that named function as it is:) Just call <code>fittype</code> as <code>fittype(@ytest,...)</code>."}, {"owner": {"reputation": 367, "user_id": 5982232, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ec0eb8a77384403a5b9871d519cc55f?s=128&d=identicon&r=PG&f=1", "display_name": "Ather Cheema", "link": "https://stackoverflow.com/users/5982232/ather-cheema"}, "edited": false, "score": 0, "creation_date": 1458243346, "post_id": 35915968, "comment_id": 59786316, "body": "Made following changes to script  <code>ft = fittype(@ytest,x,k,S); [f,output] = fit( x, ydata, ft, &#39;StartPoint&#39;, [0, 1,] );</code> and got following error <code>Undefined function or variable &#39;k&#39;</code> where <code>k</code> is the variable that I want to optimize along with <code>S</code>."}, {"owner": {"reputation": 27649, "user_id": 5067311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qjltV.png?s=128&g=1", "display_name": "Andras Deak", "link": "https://stackoverflow.com/users/5067311/andras-deak"}, "reply_to_user": {"reputation": 367, "user_id": 5982232, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ec0eb8a77384403a5b9871d519cc55f?s=128&d=identicon&r=PG&f=1", "display_name": "Ather Cheema", "link": "https://stackoverflow.com/users/5982232/ather-cheema"}, "edited": false, "score": 0, "creation_date": 1458249670, "post_id": 35915968, "comment_id": 59789926, "body": "You should&#39;ve looked at the link I gave you 2 comments above... Have you tried just <code>ft=fittype(@ytest)</code>?"}, {"owner": {"reputation": 367, "user_id": 5982232, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ec0eb8a77384403a5b9871d519cc55f?s=128&d=identicon&r=PG&f=1", "display_name": "Ather Cheema", "link": "https://stackoverflow.com/users/5982232/ather-cheema"}, "edited": false, "score": 0, "creation_date": 1458821112, "post_id": 35915968, "comment_id": 60032843, "body": "Thank you very much for inquiring back. To be honest, I did not understand what u mean by <code>ft=fittype(@ytest)</code> because by using <code>ft=fittype@(ytest); [f,output] = fit( x, ydata, ft, &#39;StartPoint&#39;, [0, 1,] )</code> the error is <code>First input argument must be a string, cell array or anonymous function</code> so I thought may be I am so witless to understand your point. I did my work with <code>lsqcurvefit</code> then."}, {"owner": {"reputation": 27649, "user_id": 5067311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qjltV.png?s=128&g=1", "display_name": "Andras Deak", "link": "https://stackoverflow.com/users/5067311/andras-deak"}, "reply_to_user": {"reputation": 367, "user_id": 5982232, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ec0eb8a77384403a5b9871d519cc55f?s=128&d=identicon&r=PG&f=1", "display_name": "Ather Cheema", "link": "https://stackoverflow.com/users/5982232/ather-cheema"}, "edited": false, "score": 0, "creation_date": 1459193745, "post_id": 35915968, "comment_id": 60166576, "body": "@AtherCheema it turns out that <code>fittype</code> is defined in a very stupid way. If I&#39;m not mistaken, <code>fittype(@(x,k,S) ytest(x,k,S))</code> should not throw an error. But I admit I&#39;m not certain in anything by now:)"}], "tags": [], "owner": {"reputation": 27649, "user_id": 5067311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qjltV.png?s=128&g=1", "display_name": "Andras Deak", "link": "https://stackoverflow.com/users/5067311/andras-deak"}, "is_accepted": true, "score": 1, "last_activity_date": 1457612263, "last_edit_date": 1457612263, "creation_date": 1457611334, "answer_id": 35915968, "question_id": 35903023, "link": "https://stackoverflow.com/questions/35903023/reducing-difference-between-two-graphs-by-optimizing-more-than-one-variable-in-m/35915968#35915968", "title": "Reducing difference between two graphs by optimizing more than one variable in MATLAB/Python?", "body": "<p>You are actually trying to fit the parameters <code>x,y,z</code> of the parametrized function <code>h(x,y,z;t)</code>.</p>\n\n<h2>MATLAB</h2>\n\n<p>You're right that in MATLAB you should either use <a href=\"http://www.mathworks.com/help/optim/ug/lsqcurvefit.html\" rel=\"nofollow\"><code>lsqcurvefit</code></a> of the Optimization toolbox, or <a href=\"http://www.mathworks.com/help/curvefit/fit.html\" rel=\"nofollow\"><code>fit</code></a> of the Curve Fitting Toolbox (I prefer the latter).</p>\n\n<p>Looking at the documentation of <code>lsqcurvefit</code>:</p>\n\n<pre><code>x = lsqcurvefit(fun,x0,xdata,ydata);\n</code></pre>\n\n<p>It says in the documentation that you have a model <code>F(x,xdata)</code> with coefficients <code>x</code> and sample points <code>xdata</code>, and a set of measured values <code>ydata</code>. The function returns the least-squares parameter set <code>x</code>, with which your function is closest to the measured values.</p>\n\n<p>Fitting algorithms usually need starting points, some implementations can choose randomly, in case of <code>lsqcurvefit</code> this is what <code>x0</code> is for. If you have</p>\n\n<pre><code>h = @(x,y,z,t) ... %// actual function here\nt_meas = ... %// actual measured times here\nh_meas = ... %// actual measured data here\n</code></pre>\n\n<p>then in the conventions of <code>lsqcurvefit</code>,</p>\n\n<pre><code>fun   &lt;--&gt; @(params,t) h(params(1),params(2),params(3),t)\nx0    &lt;--&gt; starting guess for [x,y,z]: [x0,y0,z0]\nxdata &lt;--&gt; t_meas\nydata &lt;--&gt; h_meas\n</code></pre>\n\n<p>Your function <code>h(x,y,z,t)</code> should be vectorized in <code>t</code>, such that for vector input in <code>t</code> the return value is the same size as <code>t</code>. Then the call to <code>lsqcurvefit</code> will give you the optimal set of parameters:</p>\n\n<pre><code>x = lsqcurvefit(@(params,t) h(params(1),params(2),params(3),t),[x0,y0,z0],t_meas,h_meas);\nh_fit = h(x(1),x(2),x(3),t_meas);  %// best guess from curve fitting\n</code></pre>\n\n<hr>\n\n<h2>Python</h2>\n\n<p>In python, you'd have to use the <code>scipy.optimize</code> module, and something like <a href=\"http://docs.scipy.org/doc/scipy/reference/generated/scipy.optimize.curve_fit.html\" rel=\"nofollow\"><code>scipy.optimize.curve_fit</code></a> in particular. With the above conventions you need something along the lines of this:</p>\n\n<pre><code>import scipy.optimize as opt\n\npopt,pcov = opt.curve_fit(lambda t,x,y,z: h(x,y,z,t), t_meas, y_meas, p0=[x0,y0,z0])\n</code></pre>\n\n<p>Note that the <code>p0</code> starting array is optional, but all parameters will be set to 1 if it's missing. The result you need is the <code>popt</code> array, containing the optimal values for <code>[x,y,z]</code>:</p>\n\n<pre><code>x,y,z = popt\nh_fit = h(x,y,z,t_meas)\n</code></pre>\n"}], "owner": {"reputation": 367, "user_id": 5982232, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ec0eb8a77384403a5b9871d519cc55f?s=128&d=identicon&r=PG&f=1", "display_name": "Ather Cheema", "link": "https://stackoverflow.com/users/5982232/ather-cheema"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1320, "favorite_count": 1, "accepted_answer_id": 35915968, "answer_count": 1, "score": 1, "last_activity_date": 1457612263, "creation_date": 1457559007, "last_edit_date": 1457611645, "question_id": 35903023, "link": "https://stackoverflow.com/questions/35903023/reducing-difference-between-two-graphs-by-optimizing-more-than-one-variable-in-m", "title": "Reducing difference between two graphs by optimizing more than one variable in MATLAB/Python?", "body": "<p>Suppose 'h' is a function of x,y,z and t and it gives us a graph line (t,h) (simulated). At the same time we also have observed graph (observed values of h against t). How can I reduce the difference between observed (t,h) and simulated (t,h) graph by optimizing values of x,y and z? I want to change the simulated graph so that it imitates closer and closer to the observed graph in MATLAB/Python. In literature I have read that people have done same thing by Lavenberg-marquardt algorithm but don't know how to do it?</p>\n"}, {"tags": ["python", "string", "string-interpolation"], "comments": [{"owner": {"reputation": 13883, "user_id": 2883245, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/NPpPG.jpg?s=128&g=1", "display_name": "erip", "link": "https://stackoverflow.com/users/2883245/erip"}, "edited": false, "score": 2, "creation_date": 1457559069, "post_id": 35903017, "comment_id": 59466405, "body": "I&#39;m confused what you&#39;re trying to do."}, {"owner": {"reputation": 182843, "user_id": 2970947, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HAq55.png?s=128&g=1", "display_name": "Elliott Frisch", "link": "https://stackoverflow.com/users/2970947/elliott-frisch"}, "edited": false, "score": 3, "creation_date": 1457559196, "post_id": 35903017, "comment_id": 59466471, "body": "You appear to want a multi-line <code>String</code>, not a multi-line comment. Using a variable in a comment wouldn&#39;t make any sense - comments aren&#39;t executed."}, {"owner": {"reputation": 49793, "user_id": 4014959, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GdqQJ.jpg?s=128&g=1", "display_name": "PM 2Ring", "link": "https://stackoverflow.com/users/4014959/pm-2ring"}, "edited": false, "score": 0, "creation_date": 1457560045, "post_id": 35903017, "comment_id": 59466941, "body": "Python doesn&#39;t <i>have</i> multi-line comments. Triple-quoted strings are <b>not</b> comments."}, {"owner": {"user_type": "does_not_exist", "display_name": "user5835566"}, "edited": false, "score": 0, "creation_date": 1457560133, "post_id": 35903017, "comment_id": 59466981, "body": "That&#39;s right. Sorry. Multiline strings. I&#39;m new into python. I just didn&#39;t thought about it."}, {"owner": {"reputation": 27602, "user_id": 42223, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/d73fc2c7bd494149d303a2b87aa5a6d5?s=128&d=identicon&r=PG", "display_name": "dreftymac", "link": "https://stackoverflow.com/users/42223/dreftymac"}, "edited": false, "score": 0, "creation_date": 1457561629, "post_id": 35903017, "comment_id": 59467776, "body": "This question was incorrectly marked as a duplicate of <a href=\"http://stackoverflow.com/questions/517355\">stackoverflow.com/questions/517355</a> ... this question is not a duplicate because the other question does not refer to using multi-line strings"}], "answers": [{"tags": [], "owner": {"reputation": 23605, "user_id": 1016216, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/xF5Ew.png?s=128&g=1", "display_name": "L3viathan", "link": "https://stackoverflow.com/users/1016216/l3viathan"}, "is_accepted": true, "score": 11, "last_activity_date": 1594618411, "last_edit_date": 1594618411, "creation_date": 1457559133, "answer_id": 35903054, "question_id": 35903017, "link": "https://stackoverflow.com/questions/35903017/is-there-any-way-to-use-variables-in-multiline-string-in-python/35903054#35903054", "title": "Is there any way to use variables in multiline string in Python?", "body": "<p>Using the <code>.format</code> method:</p>\n<pre><code>content = &quot;&quot;&quot;From: Fromname &lt;fromemail&gt;\n    To: {toname} &lt;{toemail}&gt;\n    MIME-Version: 1.0\n    Content-type: text/html\n    Subject: {subject}\n\n    This is an e-mail message to be sent in HTML format\n\n    &lt;b&gt;This is HTML message.&lt;/b&gt;\n    &lt;h1&gt;This is headline.&lt;/h1&gt;\n&quot;&quot;&quot;\nmail.sendmail('from', 'to', content.format(toname=&quot;Peter&quot;, toemail=&quot;p@tr&quot;, subject=&quot;Hi&quot;))\n</code></pre>\n<p>Once that last line gets too long, you can instead create a dictionary and unpack it:</p>\n<pre><code>peter_mail = {\n    &quot;toname&quot;: &quot;Peter&quot;,\n    &quot;toemail&quot;: &quot;p@tr&quot;,\n    &quot;subject&quot;: &quot;Hi&quot;,\n}\nmail.sendmail('from', 'to', content.format(**peter_mail))\n</code></pre>\n<hr />\n<p>As of Python 3.6, you can also use multi-line f-strings:</p>\n<pre><code>toname = &quot;Peter&quot;\ntoemail = &quot;p@tr&quot;\nsubject = &quot;Hi&quot;\ncontent = f&quot;&quot;&quot;From: Fromname &lt;fromemail&gt;\n    To: {toname} &lt;{toemail}&gt;\n    MIME-Version: 1.0\n    Content-type: text/html\n    Subject: {subject}\n\n    This is an e-mail message to be sent in HTML format\n\n    &lt;b&gt;This is HTML message.&lt;/b&gt;\n    &lt;h1&gt;This is headline.&lt;/h1&gt;\n&quot;&quot;&quot;\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user5835566"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4883, "favorite_count": 0, "accepted_answer_id": 35903054, "answer_count": 1, "score": 4, "last_activity_date": 1594618411, "creation_date": 1457558979, "last_edit_date": 1457560126, "question_id": 35903017, "link": "https://stackoverflow.com/questions/35903017/is-there-any-way-to-use-variables-in-multiline-string-in-python", "title": "Is there any way to use variables in multiline string in Python?", "body": "<p>So I have this as part of a mail sending script:</p>\n\n<pre><code>try:\n    content = (\"\"\"From: Fromname &lt;fromemail&gt;\n    To: Toname &lt;toemail&gt;\n    MIME-Version: 1.0\n    Content-type: text/html\n    Subject: test\n\n    This is an e-mail message to be sent in HTML format\n\n    &lt;b&gt;This is HTML message.&lt;/b&gt;\n    &lt;h1&gt;This is headline.&lt;/h1&gt;\n    \"\"\")\n</code></pre>\n\n<p>...</p>\n\n<pre><code>    mail.sendmail('from', 'to', content)\n</code></pre>\n\n<p>And I'd like to use different subjects each time (let's say it's the function argument).</p>\n\n<p>I know there are several ways to do this.</p>\n\n<p>However, I am also using ProbLog for some of my other scripts (a probabilistic programming language based in Prolog syntax).\nAs far as I know, the only way to use ProbLog in Python is through strings, and if the string is broke in several parts; example = (\"\"\"string\"\"\", variable, \"\"\"string2\"\"\"), as well as in the email example above, there's no way I can make it work.</p>\n\n<p>I actually have a few more scripts where using variables in multiline strings could be useful, but you get the idea.</p>\n\n<p>Is there any way to make this work?\nThanks in advance!</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 22623, "user_id": 147175, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/PyWe3.jpg?s=128&g=1", "display_name": "Scott Stensland", "link": "https://stackoverflow.com/users/147175/scott-stensland"}, "edited": false, "score": 0, "creation_date": 1457559598, "post_id": 35902913, "comment_id": 59466702, "body": "Write some code to open up the file -&gt; read one line at a time into a string -&gt; then split that string by delimiter of space -&gt; which will return a list of values of your three columns"}, {"owner": {"reputation": 49793, "user_id": 4014959, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GdqQJ.jpg?s=128&g=1", "display_name": "PM 2Ring", "link": "https://stackoverflow.com/users/4014959/pm-2ring"}, "reply_to_user": {"reputation": 22623, "user_id": 147175, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/PyWe3.jpg?s=128&g=1", "display_name": "Scott Stensland", "link": "https://stackoverflow.com/users/147175/scott-stensland"}, "edited": false, "score": 0, "creation_date": 1457559832, "post_id": 35902913, "comment_id": 59466843, "body": "@ScottStensland: Using the default delimiter is more versatile than using space, since it removes <i>all</i> whitespace on the line, including the newline at the end of the line."}, {"owner": {"reputation": 22623, "user_id": 147175, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/PyWe3.jpg?s=128&g=1", "display_name": "Scott Stensland", "link": "https://stackoverflow.com/users/147175/scott-stensland"}, "edited": false, "score": 0, "creation_date": 1457559982, "post_id": 35902913, "comment_id": 59466915, "body": "Yes true,  I mentioned the process of splitting on a delimiter of space char to invoke some context of what needs to happen"}], "answers": [{"tags": [], "owner": {"reputation": 23605, "user_id": 1016216, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/xF5Ew.png?s=128&g=1", "display_name": "L3viathan", "link": "https://stackoverflow.com/users/1016216/l3viathan"}, "is_accepted": false, "score": 1, "last_activity_date": 1457558873, "creation_date": 1457558873, "answer_id": 35902984, "question_id": 35902913, "link": "https://stackoverflow.com/questions/35902913/python-file-split-and-assigne-to-variables/35902984#35902984", "title": "python_file_split and assigne_to_variables", "body": "<p>Open the file, iterate over the lines, split the line (defaults on whitespace), and print it:</p>\n\n<pre><code>with open(\"info.txt\") as f:\n    for line in f:\n        ID, name, location = line.split()\n        print(\"ID: {}, Name: {}, Location: {}\".format(ID, name, location))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 365, "user_id": 1020752, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/afdce73dbf6379a4d492e6d84390f674?s=128&d=identicon&r=PG", "display_name": "Doom8890", "link": "https://stackoverflow.com/users/1020752/doom8890"}, "is_accepted": false, "score": 0, "last_activity_date": 1457559442, "creation_date": 1457559442, "answer_id": 35903125, "question_id": 35902913, "link": "https://stackoverflow.com/questions/35902913/python-file-split-and-assigne-to-variables/35903125#35903125", "title": "python_file_split and assigne_to_variables", "body": "<p>You can read file line by line and create tuple for each line. Something like this:</p>\n\n<pre><code>with open('file.txt') as f:\n    for line in f:\n        entry = line.split()\n        entry = (entry[0], entry[1], entry[2]) # (id, name, location\n        # do what you want with entry\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 6041745, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5260edbf4dc435b36842149c313d56c3?s=128&d=identicon&r=PG&f=1", "display_name": "nischal pael", "link": "https://stackoverflow.com/users/6041745/nischal-pael"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 23, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1457559442, "creation_date": 1457558661, "last_edit_date": 1457558817, "question_id": 35902913, "link": "https://stackoverflow.com/questions/35902913/python-file-split-and-assigne-to-variables", "title": "python_file_split and assigne_to_variables", "body": "<p>i want to split a file (info.txt) which consist of lines of text for EG</p>\n\n<pre><code>1 ron texas\n2 tim california\n3 bob oregan \n4 john florida\n5 marry virginia \n</code></pre>\n\n<p>after spliting this file i want them to assign into variables such as:-</p>\n\n<p><code>id</code>\n<code>name</code>\n<code>location</code></p>\n"}, {"tags": ["python", "python-2.7"], "comments": [{"owner": {"reputation": 96714, "user_id": 198633, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/5b9c04999233026354268c2ee4237e04?s=128&d=identicon&r=PG", "display_name": "inspectorG4dget", "link": "https://stackoverflow.com/users/198633/inspectorg4dget"}, "edited": false, "score": 0, "creation_date": 1457558405, "post_id": 35902659, "comment_id": 59466000, "body": "use <code>raw_input</code> instead of <code>input</code> for <code>2.7</code>"}, {"owner": {"reputation": 1305, "user_id": 4070984, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/baf1830194e35e5efadc5a078c76b217?s=128&d=identicon&r=PG&f=1", "display_name": "Ben", "link": "https://stackoverflow.com/users/4070984/ben"}, "edited": false, "score": 1, "creation_date": 1457558448, "post_id": 35902659, "comment_id": 59466022, "body": "See <a href=\"http://stackoverflow.com/questions/4915361/whats-the-difference-between-raw-input-and-input-in-python3-x\" title=\"whats the difference between raw input and input in python3 x\">stackoverflow.com/questions/4915361/&hellip;</a>"}, {"owner": {"reputation": 36413, "user_id": 2301450, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/4xgoZ.png?s=128&g=1", "display_name": "vaultah", "link": "https://stackoverflow.com/users/2301450/vaultah"}, "edited": false, "score": 0, "creation_date": 1472707739, "post_id": 35902659, "comment_id": 65862003, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/21122540/python-input-error-nameerror-name-is-not-defined\">Python input() error - NameError: name &#39;...&#39; is not defined</a>"}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 6041705, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c2faa06cc67dad5a9506d4e89bcce28?s=128&d=identicon&r=PG&f=1", "display_name": "Action B461", "link": "https://stackoverflow.com/users/6041705/action-b461"}, "edited": false, "score": 0, "creation_date": 1457564594, "post_id": 35903691, "comment_id": 59469205, "body": "Thanks sir! wasn&#39;t sure"}], "tags": [], "owner": {"reputation": 1513, "user_id": 6041527, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pprLg.png?s=128&g=1", "display_name": "quikst3r", "link": "https://stackoverflow.com/users/6041527/quikst3r"}, "is_accepted": false, "score": 0, "last_activity_date": 1457561497, "creation_date": 1457561497, "answer_id": 35903691, "question_id": 35902659, "link": "https://stackoverflow.com/questions/35902659/can-anyone-clarify-why-this-simple-code-doesnt-work-in-python-2-7/35903691#35903691", "title": "Can anyone clarify why this simple code doesn&#39;t work in python 2.7?", "body": "<pre><code>attendence1 = raw_input(\"is student 1 here?\\n\")\nif attendence1 == \"yes\":\n    student1 = \"Y\"\nelse:\n    student1 = \"N\"\n</code></pre>\n\n<p>Need to use <code>raw_input()</code> instead of input. Also I think you wanted <code>\"N\"</code> not <code>(\"N\")</code></p>\n"}], "owner": {"reputation": 13, "user_id": 6041705, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c2faa06cc67dad5a9506d4e89bcce28?s=128&d=identicon&r=PG&f=1", "display_name": "Action B461", "link": "https://stackoverflow.com/users/6041705/action-b461"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 34, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1472707730, "creation_date": 1457557734, "last_edit_date": 1472707730, "question_id": 35902659, "link": "https://stackoverflow.com/questions/35902659/can-anyone-clarify-why-this-simple-code-doesnt-work-in-python-2-7", "title": "Can anyone clarify why this simple code doesn&#39;t work in python 2.7?", "body": "<p>I had to code this for my midterm in my programming class, this is just a small part of the code.\nkeep in mind I'm really new to programming and this is an intro class to it.</p>\n\n<p>we are learning 3.5 in class, and the code I wrote works fine in 3.5. however, I am starting to try and learn 2.7 and this code does not work on it:</p>\n\n<pre><code>print (\"is student 1 here?\")\nattendence1 = input()\nif attendence1 == \"yes\":\n     student1 = \"Y\"\nif attendence1 != (str(\"yes\")):\nstudent1 = (\"N\")\n</code></pre>\n\n<p>I'm just curious as to what the problem is between versions, and how 3.5 reads it vs how 2.7 does. I noticed that if I entered in my answer in 2.7 as a string, it would work, i.e:\nQ:is student 2 here?\nA: \"yes\"\ndoes not cause an error, how ever\nQ:is student 2 here?\nA Yes\ncauses it to give me </p>\n\n<pre><code>attendence1 = input()\nFile \"&lt;string&gt;\", line 1, in &lt;module&gt;\nNameError: name 'yes' is not defined\n</code></pre>\n\n<p>How would I make this code work on 2.7?</p>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 116557, "user_id": 918959, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/b9051b2917c3d55d55b3d7042fa49f6c?s=128&d=identicon&r=PG", "display_name": "Antti Haapala", "link": "https://stackoverflow.com/users/918959/antti-haapala"}, "edited": false, "score": 0, "creation_date": 1457557945, "post_id": 35902655, "comment_id": 59465745, "body": "Please add in the question, what does <code>sys.executable</code> contain"}, {"owner": {"reputation": 116557, "user_id": 918959, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/b9051b2917c3d55d55b3d7042fa49f6c?s=128&d=identicon&r=PG", "display_name": "Antti Haapala", "link": "https://stackoverflow.com/users/918959/antti-haapala"}, "edited": false, "score": 0, "creation_date": 1457559655, "post_id": 35902655, "comment_id": 59466747, "body": "I mean please add <code>print(repr(sys.executable))</code>"}], "answers": [{"tags": [], "owner": {"reputation": 919, "user_id": 5053000, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/01a783dee72038c2b81a9d076dfac11b?s=128&d=identicon&r=PG&f=1", "display_name": "sixtstorm1", "link": "https://stackoverflow.com/users/5053000/sixtstorm1"}, "is_accepted": false, "score": 0, "last_activity_date": 1457563647, "creation_date": 1457563647, "answer_id": 35904227, "question_id": 35902655, "link": "https://stackoverflow.com/questions/35902655/how-to-restart-python-3-5-script-with-space-in-path-in-windows/35904227#35904227", "title": "How to restart Python 3.5 script with space in path in Windows", "body": "<p>Solved it with Popen:</p>\n\n<pre><code>    python = sys.executable\n    script = os.path.realpath(__file__)\n    subprocess.Popen([python, script])\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 8680424, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f82a3861214abbec88984722c7984f5?s=128&d=identicon&r=PG&f=1", "display_name": "sh0ck_wave", "link": "https://stackoverflow.com/users/8680424/sh0ck-wave"}, "is_accepted": false, "score": 0, "last_activity_date": 1506487015, "creation_date": 1506487015, "answer_id": 46439592, "question_id": 35902655, "link": "https://stackoverflow.com/questions/35902655/how-to-restart-python-3-5-script-with-space-in-path-in-windows/46439592#46439592", "title": "How to restart Python 3.5 script with space in path in Windows", "body": "<p>If you do end up needing to use os.execl the following should work</p>\n\n<pre><code>python = sys.executable\nos.execl(python, '\"' + python + '\"', *sys.argv)\n</code></pre>\n\n<p>The quotes should solve any issues due to any spaces in the path.</p>\n"}], "owner": {"reputation": 919, "user_id": 5053000, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/01a783dee72038c2b81a9d076dfac11b?s=128&d=identicon&r=PG&f=1", "display_name": "sixtstorm1", "link": "https://stackoverflow.com/users/5053000/sixtstorm1"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 602, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1506487015, "creation_date": 1457557718, "last_edit_date": 1457559255, "question_id": 35902655, "link": "https://stackoverflow.com/questions/35902655/how-to-restart-python-3-5-script-with-space-in-path-in-windows", "title": "How to restart Python 3.5 script with space in path in Windows", "body": "<p>I need to implement a function that can restart the Python script on demand. A loop in the main is not acceptable. <strong>Both the Python executable and the script contain spaces.</strong></p>\n\n<p>What I've tried:</p>\n\n<pre><code>python = sys.executable\nos.execl(python, python, * sys.argv)\n</code></pre>\n\n<p>Fails because the path contain spaces: <code>C:\\Program: can't open file 'Files': [Errno 2] No such file or directory</code></p>\n\n<pre><code>python = '\"' + sys.executable + '\"'\nos.execl(python, python, * sys.argv)\n</code></pre>\n\n<p>It fails with </p>\n\n<pre><code>OSError: [Errno 22] Invalid argument\n</code></pre>\n\n<p>Simply:</p>\n\n<pre><code>os.execl(python, python)\n</code></pre>\n\n<p>Fails as well.</p>\n\n<p>I've also tried:</p>\n\n<pre><code>subprocess.run([python])\n</code></pre>\n\n<p>And fails with: <code>PermissionError: [WinError 5] Access is denied</code></p>\n\n<pre><code>subprocess.run(['\"' + python + '\"'])\nsubprocess.run(['\"\"' + python + '\"\"'])\n</code></pre>\n\n<p>Also fails...</p>\n\n<p>Thank you for your help</p>\n"}, {"tags": ["python", "kivy"], "comments": [{"owner": {"reputation": 7293, "user_id": 5994041, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dWWF9.png?s=128&g=1", "display_name": "Peter Badida", "link": "https://stackoverflow.com/users/5994041/peter-badida"}, "edited": false, "score": 0, "creation_date": 1457559926, "post_id": 35902587, "comment_id": 59466889, "body": "This was an issue for me when I used like kivy 1.7.2 - 1.8.0 versions in Qpython, but when I switched to normal launcher, everything was ok. It&#39;d be good if you specified what platform and kivy version do you use and if it uses wrong y coords also on other platforms or just on a single one. I noticed some raspberry <a href=\"https://github.com/kivy/kivy/issues?utf8=%E2%9C%93&amp;q=is%3Aissue+axis\" rel=\"nofollow noreferrer\">issues</a>"}, {"owner": {"reputation": 11, "user_id": 5181318, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70146ecebd18acc470a48a05b0304ff4?s=128&d=identicon&r=PG&f=1", "display_name": "Evan Black", "link": "https://stackoverflow.com/users/5181318/evan-black"}, "reply_to_user": {"reputation": 7293, "user_id": 5994041, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dWWF9.png?s=128&g=1", "display_name": "Peter Badida", "link": "https://stackoverflow.com/users/5994041/peter-badida"}, "edited": false, "score": 0, "creation_date": 1457571473, "post_id": 35902587, "comment_id": 59471608, "body": "ive tried it on asus 10.1 inch transformer tablet windows 10 and a lenovo windows 10 both have same im using 1.7.2 and it looks like its setting the 0,0 for touch at 0.35, 0.35 percent of the screen from bottom left the delta is 0 at that point relative. Im using 1.7.2 cause i had problems installing kivy from wheel at 1.9.0 and not sure how to use minGW with it, the package sets alot of paths with kivy.bat not sure how to emulate"}, {"owner": {"reputation": 7293, "user_id": 5994041, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dWWF9.png?s=128&g=1", "display_name": "Peter Badida", "link": "https://stackoverflow.com/users/5994041/peter-badida"}, "edited": false, "score": 1, "creation_date": 1457587434, "post_id": 35902587, "comment_id": 59476102, "body": "1.7.2 is waaay too old. Use <a href=\"https://kivy.org/#download\" rel=\"nofollow noreferrer\">Virtual Machine</a> for quick packaging for android, or launcher(with pygame provider it&#39;s up to kivy-master if you make it yourself). For windows there&#39;s <a href=\"https://github.com/KeyWeeUsr/KivyInstaller\" rel=\"nofollow noreferrer\">KivyInstaller</a> if you can&#39;t make it, but wheels are easy to install and don&#39;t need compiler. Assuming it&#39;s a proper Windows and not Windows Mobile, of course."}, {"owner": {"reputation": 11, "user_id": 5181318, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70146ecebd18acc470a48a05b0304ff4?s=128&d=identicon&r=PG&f=1", "display_name": "Evan Black", "link": "https://stackoverflow.com/users/5181318/evan-black"}, "reply_to_user": {"reputation": 7293, "user_id": 5994041, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dWWF9.png?s=128&g=1", "display_name": "Peter Badida", "link": "https://stackoverflow.com/users/5994041/peter-badida"}, "edited": false, "score": 0, "creation_date": 1457638693, "post_id": 35902587, "comment_id": 59509735, "body": "thanks that batch works great i see you had a hand in making? i needed some of the functions in 1.9.0+ anyway so better i upgrade and it fixed the original touch.y problem being to high thanks so much"}, {"owner": {"reputation": 7293, "user_id": 5994041, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dWWF9.png?s=128&g=1", "display_name": "Peter Badida", "link": "https://stackoverflow.com/users/5994041/peter-badida"}, "edited": false, "score": 0, "creation_date": 1457641898, "post_id": 35902587, "comment_id": 59511686, "body": "actually, I made it, inspired by the original kivy.bat from portable 1.8.0 package, but this is for wheels, so one file to make everything work was pretty much enough. Copy&amp;run could be a motto. And it&#39;s MIT."}, {"owner": {"reputation": 11, "user_id": 5181318, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70146ecebd18acc470a48a05b0304ff4?s=128&d=identicon&r=PG&f=1", "display_name": "Evan Black", "link": "https://stackoverflow.com/users/5181318/evan-black"}, "reply_to_user": {"reputation": 7293, "user_id": 5994041, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dWWF9.png?s=128&g=1", "display_name": "Peter Badida", "link": "https://stackoverflow.com/users/5994041/peter-badida"}, "edited": false, "score": 0, "creation_date": 1457649579, "post_id": 35902587, "comment_id": 59516071, "body": "one note though the touch problem is still happening at low values of y do you know how I could transform it only for the wm_touch? I like having the newer version but cant really use well on my tablet until touch screen axis works right."}, {"owner": {"reputation": 7293, "user_id": 5994041, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dWWF9.png?s=128&g=1", "display_name": "Peter Badida", "link": "https://stackoverflow.com/users/5994041/peter-badida"}, "edited": false, "score": 0, "creation_date": 1457649936, "post_id": 35902587, "comment_id": 59516228, "body": "I&#39;m not sure, but maybe there is a way with <a href=\"http://kivy.org/docs/api-kivy.input.postproc.calibration.html\" rel=\"nofollow noreferrer\">Postproc calibration</a>."}, {"owner": {"reputation": 11, "user_id": 5181318, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70146ecebd18acc470a48a05b0304ff4?s=128&d=identicon&r=PG&f=1", "display_name": "Evan Black", "link": "https://stackoverflow.com/users/5181318/evan-black"}, "reply_to_user": {"reputation": 7293, "user_id": 5994041, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dWWF9.png?s=128&g=1", "display_name": "Peter Badida", "link": "https://stackoverflow.com/users/5994041/peter-badida"}, "edited": false, "score": 0, "creation_date": 1457652145, "post_id": 35902587, "comment_id": 59517080, "body": "based on printing touch.distance(last_touch) in which I set last_touch to the previous one the mouse coordinates are generally 25 - 30 px lower than expected, but the touch for other things(out of kivy) works perfectly could kivy be reading my hardware wrong?"}, {"owner": {"reputation": 7293, "user_id": 5994041, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dWWF9.png?s=128&g=1", "display_name": "Peter Badida", "link": "https://stackoverflow.com/users/5994041/peter-badida"}, "edited": false, "score": 0, "creation_date": 1457713343, "post_id": 35902587, "comment_id": 59546724, "body": "It could, but I&#39;m not familiar with this side of kivy yet. Try kivy&#39;s <a href=\"http://webchat.freenode.net/?nick=kvuser.&amp;channels=kivy&amp;uio=d4\" rel=\"nofollow noreferrer\">IRC channel</a> or post an issue to the repository."}, {"owner": {"reputation": 11, "user_id": 5181318, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70146ecebd18acc470a48a05b0304ff4?s=128&d=identicon&r=PG&f=1", "display_name": "Evan Black", "link": "https://stackoverflow.com/users/5181318/evan-black"}, "reply_to_user": {"reputation": 7293, "user_id": 5994041, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dWWF9.png?s=128&g=1", "display_name": "Peter Badida", "link": "https://stackoverflow.com/users/5994041/peter-badida"}, "edited": false, "score": 0, "creation_date": 1457744836, "post_id": 35902587, "comment_id": 59561289, "body": "well it makes it unusable for my touch devices which is why i wanted kivy to deploy to multiple devices and not rewrite everything so i might switch to something else cause even if i set a new position for the touch it registers as a touch move which means i have to override the touch move and then i dont get scrolling too many subsequent problems arise from not being able to interact with it right the first time, its almost a really good program, kivy, it looks awesome and is typed well but if i cant interact i cant use it, so unless anyone has another idea im out"}], "owner": {"reputation": 11, "user_id": 5181318, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70146ecebd18acc470a48a05b0304ff4?s=128&d=identicon&r=PG&f=1", "display_name": "Evan Black", "link": "https://stackoverflow.com/users/5181318/evan-black"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 120, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1457557503, "creation_date": 1457557503, "question_id": 35902587, "link": "https://stackoverflow.com/questions/35902587/kivy-touch-registers-y-axis-lower-than-touched", "title": "Kivy touch registers y-axis lower than touched", "body": "<p>Im not sure if its my version of kivy only but when i touch the screen, the touch registers in the correct x spot but the y spot hits lower by about 22 pixels making the top of screen buttons hard to press or wonky. I have tried looking at transforming the touch with <code>touch.apply_transform_2d(self.touch_trans)</code> if device is wm_touch and self.touch_trans is \n   <code>def touch_trans(self):\n    return (x, y + 22)</code> which registers the difference but it registers on_touch_move because of the difference between my transformed touch and the original posting, i think i might need to grab the touch before the touch is dispatched to the parent, but i might be missing the correct way to transform the touch in the first place, or my kivy version is messed up.\nhere is the entirety</p>\n\n<pre><code>def on_touch_down(self, touch, *args):\n    print touch.x\n    print touch.y\n    touch.push()\n    if touch.device == 'wm_touch':\n        print touch.device\n        touch.apply_transform_2d(self.touch_trans)\n        ret = super(MAINLEAF, self).on_touch_down(touch)\n        touch.pop()\n        return ret\n    else:\n        print touch.device\n        print 'mouse or other'\n        ret = super(MAINLEAF, self).on_touch_down(touch)\n        touch.pop()\n        return ret\n</code></pre>\n\n<p><code>def touch_trans(self, x, y):\n        return (x,y + 22)</code></p>\n"}, {"tags": ["python", "overriding"], "comments": [{"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 6, "creation_date": 1457557760, "post_id": 35902552, "comment_id": 59465636, "body": "Don&#39;t use <code>*</code> and you won&#39;t have the problem, you are polluting your namespace, import what you want explicitly giving an alias if needed"}, {"owner": {"reputation": 13883, "user_id": 2883245, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/NPpPG.jpg?s=128&g=1", "display_name": "erip", "link": "https://stackoverflow.com/users/2883245/erip"}, "edited": false, "score": 1, "creation_date": 1457557944, "post_id": 35902552, "comment_id": 59465741, "body": "Yuck. the <code>using namespace std;</code> of Python."}, {"owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 3, "creation_date": 1457557989, "post_id": 35902552, "comment_id": 59465774, "body": "Option 3 is definitely better."}, {"owner": {"reputation": 49793, "user_id": 4014959, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GdqQJ.jpg?s=128&g=1", "display_name": "PM 2Ring", "link": "https://stackoverflow.com/users/4014959/pm-2ring"}, "edited": false, "score": 0, "creation_date": 1457558083, "post_id": 35902552, "comment_id": 59465824, "body": "Doing <code>from some_module import *</code> is bad enough when you&#39;re only importing one module since it pollutes your namespace with all the names defined in <code>some_module</code>. But doing it with 2 or more modules is a recipe for disaster due to the potential for name conflicts between the modules, and there&#39;s no way to prevent that conflict. So <i>please</i> avoid using  <code>from some_module import *</code> in your scripts. OTOH, it <i>can</i> be handy for doing a quick test, especially in the interactive interpreter."}, {"owner": {"reputation": 84953, "user_id": 1405065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5c422b239ab1f49d3f4fcff9e5df3cf?s=128&d=identicon&r=PG", "display_name": "Blckknght", "link": "https://stackoverflow.com/users/1405065/blckknght"}, "edited": false, "score": 1, "creation_date": 1457558849, "post_id": 35902552, "comment_id": 59466266, "body": "Option 2 is a syntax error in Python 3. You can only use <code>from module import *</code> at the top level, not within a function. Not that it&#39;s really a good idea anywhere, mind you."}, {"owner": {"reputation": 35962, "user_id": 1399279, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/e2e566682f50d53a06a121d82f7ed8de?s=128&d=identicon&r=PG", "display_name": "SethMMorton", "link": "https://stackoverflow.com/users/1399279/sethmmorton"}, "edited": false, "score": 0, "creation_date": 1457560274, "post_id": 35902552, "comment_id": 59467054, "body": "I&#39;m a bit concerned that the tutorial/class from which you learned Python made you think that the <code>from module import *</code> method was the only way to import from a module."}, {"owner": {"reputation": 1478, "user_id": 1557256, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/WStyh.jpg?s=128&g=1", "display_name": "Qi Chen", "link": "https://stackoverflow.com/users/1557256/qi-chen"}, "edited": false, "score": 0, "creation_date": 1457818857, "post_id": 35902552, "comment_id": 59582200, "body": "While in general I can certainly see cause for avoidance of <code>import *</code>, in this particular case Pyomo is effectively a modeling language built on top of python, where pyomo.environ is a module crafted specifically to build a particular namespace for the language. I had forgotten about the <code>as</code> renaming functionality; for that I thank those who have answered below."}], "answers": [{"comments": [{"owner": {"reputation": 49793, "user_id": 4014959, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GdqQJ.jpg?s=128&g=1", "display_name": "PM 2Ring", "link": "https://stackoverflow.com/users/4014959/pm-2ring"}, "edited": false, "score": 2, "creation_date": 1457557893, "post_id": 35902646, "comment_id": 59465711, "body": "Another option is to import the module with a short name. Eg, <code>import module_a as ma</code>, lets you do <code>ma.log(x)</code> instead of <code>module_a.log(x)</code>"}, {"owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 1, "creation_date": 1457557965, "post_id": 35902646, "comment_id": 59465759, "body": "You can use that with <code>from ...</code> as well; <code>from module_a import log as ma_log</code>."}], "tags": [], "owner": {"reputation": 23605, "user_id": 1016216, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/xF5Ew.png?s=128&g=1", "display_name": "L3viathan", "link": "https://stackoverflow.com/users/1016216/l3viathan"}, "is_accepted": true, "score": 4, "last_activity_date": 1457558315, "last_edit_date": 1457558315, "creation_date": 1457557677, "answer_id": 35902646, "question_id": 35902552, "link": "https://stackoverflow.com/questions/35902552/most-pythonic-way-to-treat-imported-function-override-conflict/35902646#35902646", "title": "Most pythonic way to treat imported function override conflict", "body": "<p>Don't use <code>from something import *</code>. Either use <code>import something</code> or <code>from something import foo, bar, ...</code>.</p>\n\n<p>If you want to import functions the second way, and two functions with the same name from two different modules, you can write:</p>\n\n<pre><code>from module_a import log as a_log\nfrom module_b import log as b_log\n</code></pre>\n\n<p>As PM 2Ring pointed out in the comments, you can also use <code>as</code> to rename the modules to something shorter, in order to keep the hierarchy:</p>\n\n<pre><code>import module_a as ma\nimport module_b as mb\n...\nma.log(...)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 38371, "user_id": 3555845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e06f616d9a53b1ca18287d1049a28ee?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/3555845/daniel"}, "is_accepted": false, "score": 3, "last_activity_date": 1457558865, "last_edit_date": 1457558865, "creation_date": 1457557866, "answer_id": 35902697, "question_id": 35902552, "link": "https://stackoverflow.com/questions/35902552/most-pythonic-way-to-treat-imported-function-override-conflict/35902697#35902697", "title": "Most pythonic way to treat imported function override conflict", "body": "<p>Just import the modules and give them clear and short names, e.g.:</p>\n\n<pre><code>import pyomo.environ as omo\nimport casadi\n\ndef coolFunction():\n    pyomo_x = omo.Var()\n    pyomo_f = omo.log(x)\n\ndef niceFunction():\n    casadi_x = casadi.SX.sym('x')\n    casadi_f = casadi.log(x)\n</code></pre>\n\n<p>Don't use <code>from xy import *</code> or imports inside of functions. You should always see at once, which names are imported and which dependencies a module has.</p>\n"}], "owner": {"reputation": 1478, "user_id": 1557256, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/WStyh.jpg?s=128&g=1", "display_name": "Qi Chen", "link": "https://stackoverflow.com/users/1557256/qi-chen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "accepted_answer_id": 35902646, "answer_count": 2, "score": 1, "last_activity_date": 1457558865, "creation_date": 1457557394, "question_id": 35902552, "link": "https://stackoverflow.com/questions/35902552/most-pythonic-way-to-treat-imported-function-override-conflict", "title": "Most pythonic way to treat imported function override conflict", "body": "<p>I am importing two different modules that both override the standard math functions, e.g. log(). I have a few different ways to resolve this conflict. Which would be the most pythonic?</p>\n\n<p>Option 1:</p>\n\n<pre><code>from pyomo.environ import *\nimport casadi\n\ndef coolFunction():\n    pyomo_x = Var()\n    pyomo_f = log(x)\n\ndef niceFunction():\n    casadi_x = casadi.SX.sym('x')\n    casadi_f = casadi.log(x)\n</code></pre>\n\n<p>Option 2:</p>\n\n<pre><code>from pyomo.environ import *\n\ndef coolFunction():\n    pyomo_x = Var()\n    pyomo_f = log(x)\n\ndef niceFunction():\n    from casadi import *\n    casadi_x = SX.sym('x')\n    casadi_f = casadi.log(x)\n</code></pre>\n\n<p>Option 3:</p>\n\n<pre><code>???\n</code></pre>\n"}, {"tags": ["python", "scipy", "montecarlo", "integral"], "answers": [{"comments": [{"owner": {"reputation": 32256, "user_id": 1391441, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/FP3Un.jpg?s=128&g=1", "display_name": "Gabriel", "link": "https://stackoverflow.com/users/1391441/gabriel"}, "edited": false, "score": 0, "creation_date": 1457565003, "post_id": 35903712, "comment_id": 59469364, "body": "I thought so. The above code fails with: <code>ValueError: operands could not be broadcast together with shapes (2,50000) (2,2) </code>. Have you tested it? Can you make it run?"}, {"owner": {"reputation": 12807, "user_id": 597310, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/25bf1d7745c74b64b24670622a4cdbf7?s=128&d=identicon&r=PG", "display_name": "dfb", "link": "https://stackoverflow.com/users/597310/dfb"}, "reply_to_user": {"reputation": 32256, "user_id": 1391441, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/FP3Un.jpg?s=128&g=1", "display_name": "Gabriel", "link": "https://stackoverflow.com/users/1391441/gabriel"}, "edited": false, "score": 0, "creation_date": 1457565173, "post_id": 35903712, "comment_id": 59469447, "body": "Change <code>sample.shape[0] </code> to <code>sample.shape[1]</code>. That value should be the number of samples.  I&#39;m translating to your example using my own test code."}, {"owner": {"reputation": 32256, "user_id": 1391441, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/FP3Un.jpg?s=128&g=1", "display_name": "Gabriel", "link": "https://stackoverflow.com/users/1391441/gabriel"}, "edited": false, "score": 0, "creation_date": 1457565405, "post_id": 35903712, "comment_id": 59469526, "body": "Thanks dfb. It compiles now but the results of the MC method with your code are ~<code>0.06</code>. This is very different to the <code>nquad</code> result of  ~<code>0.194</code>. The MC method in my question gives much closer values for the integral."}, {"owner": {"reputation": 12807, "user_id": 597310, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/25bf1d7745c74b64b24670622a4cdbf7?s=128&d=identicon&r=PG", "display_name": "dfb", "link": "https://stackoverflow.com/users/597310/dfb"}, "reply_to_user": {"reputation": 32256, "user_id": 1391441, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/FP3Un.jpg?s=128&g=1", "display_name": "Gabriel", "link": "https://stackoverflow.com/users/1391441/gabriel"}, "edited": false, "score": 0, "creation_date": 1457566250, "post_id": 35903712, "comment_id": 59469828, "body": "See my edit - we don&#39;t want to sum the probabilities, we just test whether we hit inside the box or not on the samples."}, {"owner": {"reputation": 32256, "user_id": 1391441, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/FP3Un.jpg?s=128&g=1", "display_name": "Gabriel", "link": "https://stackoverflow.com/users/1391441/gabriel"}, "edited": false, "score": 0, "creation_date": 1457615893, "post_id": 35903712, "comment_id": 59493567, "body": "Not only does this answer solve the issue in my question, it is also many times faster. Thank you very much! You should remove the <code>iso = kernel((x1, y1))</code> line in your <code>int1</code> function, it is not used. Thanks again!"}, {"owner": {"reputation": 12807, "user_id": 597310, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/25bf1d7745c74b64b24670622a4cdbf7?s=128&d=identicon&r=PG", "display_name": "dfb", "link": "https://stackoverflow.com/users/597310/dfb"}, "reply_to_user": {"reputation": 32256, "user_id": 1391441, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/FP3Un.jpg?s=128&g=1", "display_name": "Gabriel", "link": "https://stackoverflow.com/users/1391441/gabriel"}, "edited": false, "score": 0, "creation_date": 1457637456, "post_id": 35903712, "comment_id": 59508966, "body": "@Gabriel  - After a brief look, I&#39;m not sure the previous question works correctly.  Monte Carlo intregration requires you to sample random points uniformly - in my int1 function, this is handled by <code>kernel.sample</code>.  I&#39;ve written a function above that does MC w/o that function, hope that helps some."}, {"owner": {"reputation": 32256, "user_id": 1391441, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/FP3Un.jpg?s=128&g=1", "display_name": "Gabriel", "link": "https://stackoverflow.com/users/1391441/gabriel"}, "edited": false, "score": 0, "creation_date": 1457638761, "post_id": 35903712, "comment_id": 59509773, "body": "How do you obtain <code>lboundx,lboundy</code>? Something like this perhaps: <code>lboundx = np.mean(data[0])+10*np.std(data[0])</code>? In the tests I just made your <code>int1</code> function returns values very close to <code>nquad</code>, while your new function does not."}, {"owner": {"reputation": 12807, "user_id": 597310, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/25bf1d7745c74b64b24670622a4cdbf7?s=128&d=identicon&r=PG", "display_name": "dfb", "link": "https://stackoverflow.com/users/597310/dfb"}, "reply_to_user": {"reputation": 32256, "user_id": 1391441, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/FP3Un.jpg?s=128&g=1", "display_name": "Gabriel", "link": "https://stackoverflow.com/users/1391441/gabriel"}, "edited": false, "score": 0, "creation_date": 1457640170, "post_id": 35903712, "comment_id": 59510626, "body": "That&#39;s not quite right because you have to use the covariance, but it&#39;s probably a decent approximation. It does work with my example above, but I&#39;ll try with your data later"}, {"owner": {"reputation": 12807, "user_id": 597310, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/25bf1d7745c74b64b24670622a4cdbf7?s=128&d=identicon&r=PG", "display_name": "dfb", "link": "https://stackoverflow.com/users/597310/dfb"}, "reply_to_user": {"reputation": 32256, "user_id": 1391441, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/FP3Un.jpg?s=128&g=1", "display_name": "Gabriel", "link": "https://stackoverflow.com/users/1391441/gabriel"}, "edited": false, "score": 0, "creation_date": 1457641321, "post_id": 35903712, "comment_id": 59511343, "body": "One other quick thought - Try increasing the <code>n_samples</code> *10 or so."}, {"owner": {"reputation": 32256, "user_id": 1391441, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/FP3Un.jpg?s=128&g=1", "display_name": "Gabriel", "link": "https://stackoverflow.com/users/1391441/gabriel"}, "edited": false, "score": 0, "creation_date": 1457644004, "post_id": 35903712, "comment_id": 59513040, "body": "I&#39;m not using the data file anymore, I use the random values generated with the <code>measure()</code> function to test all integration methods. As I said, <code>int1</code> works perfectly (ie: the results match the <code>nquad</code> value) but your new function is off by <i>a lot</i>. I increased the sample by 10, no changes."}, {"owner": {"reputation": 12807, "user_id": 597310, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/25bf1d7745c74b64b24670622a4cdbf7?s=128&d=identicon&r=PG", "display_name": "dfb", "link": "https://stackoverflow.com/users/597310/dfb"}, "reply_to_user": {"reputation": 32256, "user_id": 1391441, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/FP3Un.jpg?s=128&g=1", "display_name": "Gabriel", "link": "https://stackoverflow.com/users/1391441/gabriel"}, "edited": false, "score": 0, "creation_date": 1457645163, "post_id": 35903712, "comment_id": 59513720, "body": "Hmm.. I&#39;ve pasted the parameters I&#39;m using"}, {"owner": {"reputation": 12807, "user_id": 597310, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/25bf1d7745c74b64b24670622a4cdbf7?s=128&d=identicon&r=PG", "display_name": "dfb", "link": "https://stackoverflow.com/users/597310/dfb"}, "reply_to_user": {"reputation": 32256, "user_id": 1391441, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/FP3Un.jpg?s=128&g=1", "display_name": "Gabriel", "link": "https://stackoverflow.com/users/1391441/gabriel"}, "edited": false, "score": 0, "creation_date": 1457645267, "post_id": 35903712, "comment_id": 59513776, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/105949/discussion-between-dfb-and-gabriel\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 12807, "user_id": 597310, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/25bf1d7745c74b64b24670622a4cdbf7?s=128&d=identicon&r=PG", "display_name": "dfb", "link": "https://stackoverflow.com/users/597310/dfb"}, "is_accepted": true, "score": 3, "last_activity_date": 1457645258, "last_edit_date": 1457645258, "creation_date": 1457561571, "answer_id": 35903712, "question_id": 35902531, "link": "https://stackoverflow.com/questions/35902531/different-integration-results-using-monte-carlo-vs-scipy-integrate-nquad/35903712#35903712", "title": "Different integration results using Monte Carlo vs scipy.integrate.nquad", "body": "<p>You resample the distribution</p>\n\n<pre><code>sample = kernel.resample(size=50000)\n</code></pre>\n\n<p>and then compute the probability for each sampled point is less than the probability at the bound</p>\n\n<pre><code>insample = kernel(sample) &lt; iso\n</code></pre>\n\n<p>This is incorrect. Consider the bounds (0,100) and assume your data has u=(0,0) and cov=[[100,0],[0,100]].  Points (0,50) and (50,0) have the same probability in this kernel, but only one of them is in the bounds.  Since both pass the test, you are over sampling.</p>\n\n<p>You should be testing whether each point in <code>sample</code> is inside the bounds, then compute the probability. Something like</p>\n\n<pre><code>def int1(kernel, x1, y1):\n    # Sample KDE distribution                                                                                                              \n    sample = kernel.resample(size=100)\n\n    include = (sample &lt; np.repeat([[x1],[y1]],sample.shape[1],axis=1)).all(axis=0)\n    integral = include.sum() / float(sample.shape[1])\n    return integral\n</code></pre>\n\n<p>I tested this using the following code</p>\n\n<pre><code>def measure(n):\n\n    m1 = np.random.normal(size=n)\n    m2 = np.random.normal(size=n)\n    return m1,m2\n\na = scipy.stats.gaussian_kde( np.vstack(measure(1000)) )\nprint(int1(a,-10,-10))\nprint(int2(a,-10,-10))\nprint(int1(a,0,0))\nprint(int2(a,-0,-0))\n</code></pre>\n\n<p>Yields</p>\n\n<pre><code>0.0\n(4.304674927251112e-232, 4.6980863813551415e-230)\n0.26\n(0.25897626178338407, 1.4536217446381293e-08)\n</code></pre>\n\n<p>Monte Carlo integration should work like this</p>\n\n<ul>\n<li>Sample N random values (uniformly, not from your distribution) over some subset of the possible values of x/y (below I bound it by 10 SDs from mean).</li>\n<li>For each random value compute kernel(rand_x,rand_y)</li>\n<li>Compute the sum and multiply by (volume)/N_samples</li>\n</ul>\n\n<p>In code:</p>\n\n<pre><code>def mc_wo_sample(kernel,x1,y1,lboundx,lboundy):\n    nsamples = 50000\n    volume = (x1-lboundx)*(y1-lboundy)\n    # generate uniform points in range                                                                                                     \n    xrand = np.random.rand(nsamples,1)*(x1-lboundx) + lboundx\n    yrand = np.random.rand(nsamples,1)*(y1-lboundy) + lboundy\n    randvals = np.hstack((xrand,yrand)).transpose()\n    print randvals.shape\n    return (volume*kernel(randvals).sum())/nsamples\n</code></pre>\n\n<p>Running the following</p>\n\n<pre><code>   print(int1(a,-9,-9))\n   print(int2(a,-9,-9))\n   print(mc_wo_sample(a,-9,-9,-10,-10))\n   print(int1(a,0,0))\n   print(int2(a,-0,-0))\n   print(mc_wo_sample(a,0,0,-10,-10))\n</code></pre>\n\n<p>yields</p>\n\n<pre><code>0.0\n(4.012958496109042e-70, 6.7211236076277e-71)\n4.08538890986e-70\n0.36\n(0.37101621760650216, 1.4670898180664756e-08)\n0.361614657674\n</code></pre>\n"}], "owner": {"reputation": 32256, "user_id": 1391441, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/FP3Un.jpg?s=128&g=1", "display_name": "Gabriel", "link": "https://stackoverflow.com/users/1391441/gabriel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1107, "favorite_count": 1, "accepted_answer_id": 35903712, "answer_count": 1, "score": 4, "last_activity_date": 1496511537, "creation_date": 1457557335, "last_edit_date": 1495539916, "question_id": 35902531, "link": "https://stackoverflow.com/questions/35902531/different-integration-results-using-monte-carlo-vs-scipy-integrate-nquad", "title": "Different integration results using Monte Carlo vs scipy.integrate.nquad", "body": "<p>The MWE below shows two ways of integrating the same 2D kernel density estimate, obtained for <a href=\"http://pastebin.com/NtQH0yXb\" rel=\"nofollow noreferrer\">this data</a> using the <code>stats.gaussian_kde()</code> function.</p>\n\n<p>The integration is performed for all <code>(x, y)</code> below the threshold point <code>(x1, y1)</code>, which defines the upper integration limits (lower integration limits are <code>-infinity</code>; see MWE).</p>\n\n<ul>\n<li>The <code>int1</code> function uses simple a Monte Carlo approach.</li>\n<li>The <code>int2</code> function uses the <a href=\"http://docs.scipy.org/doc/scipy-0.17.0/reference/generated/scipy.integrate.nquad.html\" rel=\"nofollow noreferrer\">scipy.integrate.nquad</a> function.</li>\n</ul>\n\n<p>The issue is that <code>int1</code> (ie: the Monte Carlo method) gives systematically larger values for the integral than <code>int2</code>. I don't know why this happens.</p>\n\n<p>Here's an example of the integral values obtained after 200 runs of <code>int1</code> (blue histogram) versus the integral result given by <code>int2</code> (red vertical line):</p>\n\n<p><a href=\"https://i.stack.imgur.com/EBq9Y.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EBq9Y.png\" alt=\"enter image description here\"></a></p>\n\n<p>What is the origin of this difference in the resulting integral value?</p>\n\n<hr>\n\n<p><strong>MWE</strong></p>\n\n<pre><code>import numpy as np\nimport matplotlib.pyplot as plt\nfrom scipy import stats\nfrom scipy import integrate\n\n\ndef int1(kernel, x1, y1):\n    # Compute the point below which to integrate\n    iso = kernel((x1, y1))\n\n    # Sample KDE distribution\n    sample = kernel.resample(size=50000)\n\n    # Filter the sample\n    insample = kernel(sample) &lt; iso\n\n    # The integral is equivalent to the probability of drawing a\n    # point that gets through the filter\n    integral = insample.sum() / float(insample.shape[0])\n\n    return integral\n\n\ndef int2(kernel, x1, y1):\n\n    def f_kde(x, y):\n        return kernel((x, y))\n\n    # 2D integration in: (-inf, x1), (-inf, y1).\n    integral = integrate.nquad(f_kde, [[-np.inf, x1], [-np.inf, y1]])\n\n    return integral\n\n\n# Obtain data from file.\ndata = np.loadtxt('data.dat', unpack=True)\n# Perform a kernel density estimate (KDE) on the data\nkernel = stats.gaussian_kde(data)\n\n# Define the threshold point that determines the integration limits.\nx1, y1 = 2.5, 1.5\n\ni2 = int2(kernel, x1, y1)\nprint i2\n\nint1_vals = []\nfor _ in range(200):\n    i = int1(kernel, x1, y1)\n    int1_vals.append(i)\n    print i\n</code></pre>\n\n<hr>\n\n<p><strong>Add</strong></p>\n\n<p>Notice that this question originated from <a href=\"https://stackoverflow.com/a/35571039/1391441\">this answer</a>. At first I didn't notice that the answer was mistaken in the integration limits used, which explains why the results between <code>int1</code> and <code>int2</code> are different.</p>\n\n<p><code>int1</code> is integrating in the domain <code>f(x,y)&lt;f(x1,y1)</code> (where f is the kernel density estimate), while <code>int2</code> integrates in the domain <code>(x,y)&lt;(x1,y1)</code>.</p>\n"}, {"tags": ["python", "scipy", "mathematical-optimization", "linear-programming", "quadratic-programming"], "comments": [{"owner": {"reputation": 62045, "user_id": 1461210, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fa93b9461ed24899945403cae69e02ee?s=128&d=identicon&r=PG", "display_name": "ali_m", "link": "https://stackoverflow.com/users/1461210/ali-m"}, "edited": false, "score": 1, "creation_date": 1457659154, "post_id": 35902431, "comment_id": 59519132, "body": "You don&#39;t have to create separate non-negativity constraint functions for every element in <code>x</code> - simply pass a single constraint function that returns the entire parameter vector: <code>nonneg = {&#39;type&#39;:&#39;ineq&#39;, &#39;fun&#39;: lambda x: x}</code>"}, {"owner": {"reputation": 437, "user_id": 6041629, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Rc69A.jpg?s=128&g=1", "display_name": "Kingle", "link": "https://stackoverflow.com/users/6041629/kingle"}, "reply_to_user": {"reputation": 62045, "user_id": 1461210, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fa93b9461ed24899945403cae69e02ee?s=128&d=identicon&r=PG", "display_name": "ali_m", "link": "https://stackoverflow.com/users/1461210/ali-m"}, "edited": false, "score": 0, "creation_date": 1457721708, "post_id": 35902431, "comment_id": 59551732, "body": "Thanks, that makes sense. In my full length code however I do require the for loop to generate constraint equations. I think VallyN&#39;s solution should work."}], "answers": [{"comments": [{"owner": {"reputation": 437, "user_id": 6041629, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Rc69A.jpg?s=128&g=1", "display_name": "Kingle", "link": "https://stackoverflow.com/users/6041629/kingle"}, "edited": false, "score": 0, "creation_date": 1457721898, "post_id": 35902775, "comment_id": 59551845, "body": "Thanks, this works. I&#39;ll try to implement a similar method for my more complex code."}], "tags": [], "owner": {"reputation": 954, "user_id": 2545917, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f85c63f3b2a56cdbb76f8876ac00e31?s=128&d=identicon&r=PG", "display_name": "weaknespase", "link": "https://stackoverflow.com/users/2545917/weaknespase"}, "is_accepted": true, "score": 0, "last_activity_date": 1457561333, "last_edit_date": 1457561333, "creation_date": 1457558174, "answer_id": 35902775, "question_id": 35902431, "link": "https://stackoverflow.com/questions/35902431/scipy-optimize-minimize-cobyla-and-slsqp-ignores-constraints-initiated-within/35902775#35902775", "title": "scipy.optimize.minimize (COBYLA and SLSQP) ignores constraints initiated within for loop", "body": "<p>I don't really know Python, but i know how to solve your problem. In your first snippet <code>const</code> function uses reference to <code>t</code> itself (because inner function shares scope with outer), thus producing equivalent of:</p>\n\n<pre><code>cons[0] = {'type':'ineq', 'fun': lambda x: x[t]}\ncons[1] = {'type':'ineq', 'fun': lambda x: x[t]} \ncons[2] = {'type':'ineq', 'fun': lambda x: x[t]} \ncons[3] = {'type':'ineq', 'fun': lambda x: x[t]}\n</code></pre>\n\n<p>which is wrong. This could be fixed by using curry:</p>\n\n<pre><code>import numpy as np\nfrom scipy.optimize import minimize\n\ndef function(x):\n    return -1*(18*x[0]+16*x[1]+12*x[2]+11*x[3])\n\nI=np.array((20,50,50,80))\nx0=I\n\ncons=[]\nsteadystate={'type':'eq', 'fun': lambda x: x.sum()-I.sum() }\ncons.append(steadystate)\n\ndef f(a):\n    def g(x):\n        return x[a]\n    return g\n\nfor t in range (4):\n    cons.append({'type':'ineq', 'fun': f(t)})\n\nout=minimize(function, x0, method=\"SLSQP\", constraints=cons)\nx=out[\"x\"]\n</code></pre>\n\n<p>Under the curtains, this approach creates a new reference to value held by <code>t</code> (when you pass it as argument to <code>f</code>) and stores this reference for use in <code>g</code>, now generating series of correct functions.</p>\n"}], "owner": {"reputation": 437, "user_id": 6041629, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Rc69A.jpg?s=128&g=1", "display_name": "Kingle", "link": "https://stackoverflow.com/users/6041629/kingle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2702, "favorite_count": 0, "accepted_answer_id": 35902775, "answer_count": 1, "score": 3, "last_activity_date": 1457659478, "creation_date": 1457557026, "last_edit_date": 1457659478, "question_id": 35902431, "link": "https://stackoverflow.com/questions/35902431/scipy-optimize-minimize-cobyla-and-slsqp-ignores-constraints-initiated-within", "title": "scipy.optimize.minimize (COBYLA and SLSQP) ignores constraints initiated within for loop", "body": "<p>I'm using scipy.optimize.minimize to solve a complex reservoir optimization model (SQSLP and COBYLA as the problem is constrained by both bounds and constraint equations). There is one decision variable per day (storage), and releases from the reservoir are calculated as a function of change in storage, within the objective function. Penalties based on releases and storage penalties are then applied with the goal of minimizing penalties (the objective function is a summation of all penalties). I've added some constraints within this model to limit the change in storage to the physical system limits which is the difference between decision variable x(t+1) and x(t), and also depends on inflows at that time step I(t). These constraints are added to the list of constraint dictionaries using a for loop. Constraints added outside of this for loop function as they should. However the constraints involving time that are initiated within the for loop, do not.</p>\n\n<p>Obviously the problem is complex so I've recreated a simpler version to illustrate the problem. This problem has four decision variables and seeks to minimize the objective function (which I've called function) with constraints of steady state (I = inflow must equal x = outflow) and non negativity (ie. outflows x cannot be negative):</p>\n\n<pre><code>    import numpy as np\n    from scipy.optimize import minimize\n\n    def function(x):\n        return -1*(18*x[0]+16*x[1]+12*x[2]+11*x[3])\n\n    I=np.array((20,50,50,80))\n    x0=I\n\n    cons=[]\n    steadystate={'type':'eq', 'fun': lambda x: x.sum()-I.sum() }\n    cons.append(steadystate)\n\n\n    for t in range (4):\n        def const(x):    \n            y=x[t]\n            return y\n        cons.append({'type':'ineq', 'fun': const})\n\n    out=minimize(function, x0, method=\"SLSQP\", constraints=cons)\n    x=out[\"x\"]\n</code></pre>\n\n<p>The constraints initiated in the for loop are non-negativity constraints but the optimization gives negative values for the decision variables. It does adhere to the steadystate constraint, however.</p>\n\n<p>When I calculate the problem using the following code, values are constrained properly:</p>\n\n<pre><code>    import numpy as np\n    from scipy.optimize import minimize\n\n    def function(x):\n        return -1*(18*x[0]+16*x[1]+12*x[2]+11*x[3])\n\n    I=np.array((20,50,50,80))\n    x0=I\n\n    cons=[]\n    steadystate1={'type':'eq', 'fun': lambda x: x.sum()-I.sum() }\n    cons.append(steadystate1)\n\n\n    nonneg0 = {'type':'ineq', 'fun': lambda x: x[0]}\n    nonneg1= {'type':'ineq', 'fun': lambda x: x[1]} \n    nonneg2 = {'type':'ineq', 'fun': lambda x: x[2]} \n    nonneg3 = {'type':'ineq', 'fun': lambda x: x[3]} \n    cons.append(nonneg0)\n    cons.append(nonneg1)\n    cons.append(nonneg2)\n    cons.append(nonneg3)\n\n    out=minimize(function, x0, method=\"SLSQP\", constraints=cons)\n    x=out[\"x\"]\n</code></pre>\n\n<p>Any ideas where I'm going wrong? I've seen constraints initiated similarly in other applications so I can't figure it out but assume it's something simple. I have hundreds of constraints to initiate in my full-scale version of this code so writing them out as in the second example will not be ideal.</p>\n"}, {"tags": ["python", "numpy", "math"], "comments": [{"owner": {"reputation": 1612, "user_id": 5753035, "user_type": "registered", "accept_rate": 55, "profile_image": "https://lh3.googleusercontent.com/-go_UWpUd2rk/AAAAAAAAAAI/AAAAAAAAHdU/sbSvIGtQWxA/photo.jpg?sz=128", "display_name": "Pramesh Bajracharya", "link": "https://stackoverflow.com/users/5753035/pramesh-bajracharya"}, "edited": false, "score": 5, "creation_date": 1549883287, "post_id": 35902302, "comment_id": 96050637, "body": "Assuming, you are using <code>Image.open(&lt;image_path&gt;)</code> you can discard the alpha value by doing <code>Image.open(&lt;image_path&gt;).convert(&#39;RGB&#39;)</code>. Hope this helps someone in the future."}], "answers": [{"comments": [{"owner": {"reputation": 1006, "user_id": 5985209, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh5.googleusercontent.com/-OZvLH38w7cs/AAAAAAAAAAI/AAAAAAAAABw/y9Oq7L1nULk/photo.jpg?sz=128", "display_name": "Aleksandar Jovanovic", "link": "https://stackoverflow.com/users/5985209/aleksandar-jovanovic"}, "edited": false, "score": 0, "creation_date": 1505820834, "post_id": 35902359, "comment_id": 79560888, "body": "I think this will reduce the quality of the image?"}, {"owner": {"reputation": 958, "user_id": 2253101, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/d286194bd25cfbddf2ccbc42210bf440?s=128&d=identicon&r=PG", "display_name": "dolphin", "link": "https://stackoverflow.com/users/2253101/dolphin"}, "reply_to_user": {"reputation": 1006, "user_id": 5985209, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh5.googleusercontent.com/-OZvLH38w7cs/AAAAAAAAAAI/AAAAAAAAABw/y9Oq7L1nULk/photo.jpg?sz=128", "display_name": "Aleksandar Jovanovic", "link": "https://stackoverflow.com/users/5985209/aleksandar-jovanovic"}, "edited": false, "score": 11, "creation_date": 1511642549, "post_id": 35902359, "comment_id": 81935919, "body": "@AleksandarJovanovic do you precisely know what you mean by &quot;quality of the image&quot;? Dropping alpha removes information about transparency of pixels but does not influence other information (e.g., color)."}], "tags": [], "owner": {"reputation": 16325, "user_id": 1071311, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a12e5cc9a7d9b52960f14c7560de773e?s=128&d=identicon&r=PG", "display_name": "Carsten", "link": "https://stackoverflow.com/users/1071311/carsten"}, "is_accepted": true, "score": 72, "last_activity_date": 1457556781, "creation_date": 1457556781, "answer_id": 35902359, "question_id": 35902302, "link": "https://stackoverflow.com/questions/35902302/discarding-alpha-channel-from-images-stored-as-numpy-arrays/35902359#35902359", "title": "Discarding alpha channel from images stored as Numpy arrays", "body": "<p>Just slice the array to get the first three entries of the last dimension:</p>\n\n<pre><code>image_without_alpha = image[:,:,:3]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 15645707, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de24948c4db376e0027208817c569827?s=128&d=identicon&r=PG", "display_name": "Kailo", "link": "https://stackoverflow.com/users/15645707/kailo"}, "is_accepted": false, "score": 2, "last_activity_date": 1618479904, "creation_date": 1618479904, "answer_id": 67106088, "question_id": 35902302, "link": "https://stackoverflow.com/questions/35902302/discarding-alpha-channel-from-images-stored-as-numpy-arrays/67106088#67106088", "title": "Discarding alpha channel from images stored as Numpy arrays", "body": "<p>scikit-image builtin:</p>\n<pre class=\"lang-py prettyprint-override\"><code>from skimage.color import rgba2rgb\nfrom skimage import data\nimg_rgba = data.logo()\nimg_rgb = rgba2rgb(img_rgba)\n</code></pre>\n<p><a href=\"https://scikit-image.org/docs/dev/user_guide/transforming_image_data.html#conversion-from-rgba-to-rgb-removing-alpha-channel-through-alpha-blending\" rel=\"nofollow noreferrer\">https://scikit-image.org/docs/dev/user_guide/transforming_image_data.html#conversion-from-rgba-to-rgb-removing-alpha-channel-through-alpha-blending</a><br />\n<a href=\"https://scikit-image.org/docs/dev/api/skimage.color.html#rgba2rgb\" rel=\"nofollow noreferrer\">https://scikit-image.org/docs/dev/api/skimage.color.html#rgba2rgb</a></p>\n"}], "owner": {"reputation": 1874, "user_id": 115138, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/11186d74c853c2ae9baee4ce807675b0?s=128&d=identicon&r=PG", "display_name": "cwj", "link": "https://stackoverflow.com/users/115138/cwj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 22780, "favorite_count": 5, "accepted_answer_id": 35902359, "answer_count": 2, "score": 31, "last_activity_date": 1618479904, "creation_date": 1457556639, "question_id": 35902302, "link": "https://stackoverflow.com/questions/35902302/discarding-alpha-channel-from-images-stored-as-numpy-arrays", "title": "Discarding alpha channel from images stored as Numpy arrays", "body": "<p>I load images with numpy/scikit. I know that all images are 200x200 pixels.</p>\n\n<p>When the images are loaded, I notice some have an alpha channel, and therefore have shape (200, 200, 4) instead of (200, 200, 3) which I expect.</p>\n\n<p>Is there a way to delete that last value, discarding the alpha channel and get all images to a nice (200, 200, 3) shape?</p>\n"}, {"tags": ["python", "function"], "comments": [{"owner": {"reputation": 22993, "user_id": 1394393, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/mSjIL.jpg?s=128&g=1", "display_name": "jpmc26", "link": "https://stackoverflow.com/users/1394393/jpmc26"}, "edited": false, "score": 1, "creation_date": 1457556603, "post_id": 35902248, "comment_id": 59464996, "body": "Use <code>len</code> to get the length of a string in Python, and if you don&#39;t want it to print a bunch of a words, put the <code>print</code> outside the loop."}], "answers": [{"tags": [], "owner": {"reputation": 5488, "user_id": 3015734, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/31ccee0370328a7c894902c0a70373f7?s=128&d=identicon&r=PG", "display_name": "Tgsmith61591", "link": "https://stackoverflow.com/users/3015734/tgsmith61591"}, "is_accepted": false, "score": 1, "last_activity_date": 1457556696, "creation_date": 1457556696, "answer_id": 35902317, "question_id": 35902248, "link": "https://stackoverflow.com/questions/35902248/how-can-i-get-the-program-to-display-only-the-longest-word-not-each-word-in-the/35902317#35902317", "title": "How can I get the program to display only the longest word not each word in the string?", "body": "<p>Try this:</p>\n\n<pre><code>def find_longest_word(string):\n    a = string.split()  \n    f = -1\n    longest = None\n    for x in a:\n        if len(x) &gt; f:\n            f = len(x)\n            longest = x\n    print (longest, f)\n\n&gt;&gt;&gt; find_longest_word(\"hello my name is k\")\n('hello', 5)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 17990, "user_id": 5827958, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/V9KEl.png?s=128&g=1", "display_name": "zondo", "link": "https://stackoverflow.com/users/5827958/zondo"}, "is_accepted": false, "score": 0, "last_activity_date": 1457557071, "last_edit_date": 1457557071, "creation_date": 1457556733, "answer_id": 35902338, "question_id": 35902248, "link": "https://stackoverflow.com/questions/35902248/how-can-i-get-the-program-to-display-only-the-longest-word-not-each-word-in-the/35902338#35902338", "title": "How can I get the program to display only the longest word not each word in the string?", "body": "<p><code>x.count(\"\")</code> returns the number of times <code>\"\"</code> shows up in the string.  Let's say the string is \"mystring\".  <code>\"m\"</code> is not <code>\"\"</code>, <code>\"y\"</code> is not <code>\"\"</code>, <code>\"s\"</code> is not <code>\"\"</code>, etc.  The total count: 0.  To get the length of a string, use <code>len(x)</code>.  Also, you make <code>f</code> equal the highest number in <code>d</code>, not <code>b</code>.  Here is a modified version:</p>\n\n<pre><code>def find_longest_word(string):\n    a = string.split()\n    longest = max(((word, len(word)) for word in a), key=lambda x: x[1])\n    print longest\n</code></pre>\n\n<p>Test:</p>\n\n<pre><code>find_longest_word(\"This is my sentence that has a longest word.\")\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>('sentence', 8)\n</code></pre>\n\n<p>If you want it to print it like <code>sentence: 8</code>, use <code>print '{}: {}'.format(longest)</code></p>\n"}, {"tags": [], "owner": {"reputation": 2006, "user_id": 1914142, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/7lmuH.jpg?s=128&g=1", "display_name": "Friendly King", "link": "https://stackoverflow.com/users/1914142/friendly-king"}, "is_accepted": false, "score": 1, "last_activity_date": 1457557595, "last_edit_date": 1457557595, "creation_date": 1457557166, "answer_id": 35902481, "question_id": 35902248, "link": "https://stackoverflow.com/questions/35902248/how-can-i-get-the-program-to-display-only-the-longest-word-not-each-word-in-the/35902481#35902481", "title": "How can I get the program to display only the longest word not each word in the string?", "body": "<p>Here's a short and simple function to find the longest word in a sentence:</p>\n\n<pre><code>def find_longest_word(s):\n    return max([(len(w), w) for w in s.split(\" \")])[1]\n</code></pre>\n\n<p>Example:</p>\n\n<pre><code>find_longest_word(\"This is an incredibly long sentence!\")\n&gt;&gt;&gt; incredibly\n</code></pre>\n\n<p><strong>Explanation</strong>:\nThis creates a list of tuples with the list comprehension and the <code>s.split(\" \")</code>, and then stores the length of the word and the word itself in the tuple. The max function is then called on the list of tuples, and it retrieves the tuple with the longest length of word (i.e., the zeroth tuple parameter), and then it simply returns the word (i.e., the first tuple parameter) with the <code>...)[1]</code>.</p>\n\n<p><strong>Note</strong>: If you would like to return the length of the word, and the word itself, you can simply modify the function to be: <code>return max([(len(w), w) for w in s.split(\" \")])</code>. This removes the indexing into the tuple and returns the full tuple.</p>\n"}, {"tags": [], "owner": {"reputation": 610, "user_id": 147126, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/10b9c58599ec50d176fa2ce8c2d8bd88?s=128&d=identicon&r=PG", "display_name": "Tanner", "link": "https://stackoverflow.com/users/147126/tanner"}, "is_accepted": false, "score": 1, "last_activity_date": 1457557356, "creation_date": 1457557356, "answer_id": 35902540, "question_id": 35902248, "link": "https://stackoverflow.com/questions/35902248/how-can-i-get-the-program-to-display-only-the-longest-word-not-each-word-in-the/35902540#35902540", "title": "How can I get the program to display only the longest word not each word in the string?", "body": "<p>A one liner:</p>\n\n<pre><code>def longest(s):\n    return sorted(s.split(), key=len, reverse=True)[0]\n\nprint longest(\"this is a string\")\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 5636652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/103e5aed83901c29e98d83b077ff728b?s=128&d=identicon&r=PG&f=1", "display_name": "Kth", "link": "https://stackoverflow.com/users/5636652/kth"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 138, "favorite_count": 0, "answer_count": 4, "score": -2, "last_activity_date": 1457557595, "creation_date": 1457556436, "last_edit_date": 1457556519, "question_id": 35902248, "link": "https://stackoverflow.com/questions/35902248/how-can-i-get-the-program-to-display-only-the-longest-word-not-each-word-in-the", "title": "How can I get the program to display only the longest word not each word in the string?", "body": "<pre><code>def find_longest_word(string):\n    d = []\n    a = string.split()  \n    for x in a:\n        b = (x.count(\"\") - 1)\n        d.append(b)\n        f = max(d)\n        print (x, f)\n\nfind_longest_word(\"hello my name is k\")\n</code></pre>\n\n<p>The program will print each word with the length of the longest beside each, however I only want it to print the longest word. Please help.</p>\n"}, {"tags": ["python", "c++", "opencv"], "answers": [{"comments": [{"owner": {"reputation": 9293, "user_id": 63621, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/1698e0dceda985e2b71b15b5567dd795?s=128&d=identicon&r=PG", "display_name": "Henrik", "link": "https://stackoverflow.com/users/63621/henrik"}, "edited": false, "score": 1, "creation_date": 1457559257, "post_id": 35902430, "comment_id": 59466504, "body": "Unfortunately this gives the same error. Turning <code>cnt</code> into None avoids the crash but removes the semantics."}, {"owner": {"reputation": 171, "user_id": 8462345, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/6vLxu.jpg?s=128&g=1", "display_name": "El_1988", "link": "https://stackoverflow.com/users/8462345/el-1988"}, "edited": false, "score": 0, "creation_date": 1567523107, "post_id": 35902430, "comment_id": 101983928, "body": "Hi I got the above error, when removed brackets from cnts, I now get : &lt;built-in function drawContours&gt; returned NULL without setting an error , do you have any idea how to solve this?"}], "tags": [], "owner": {"reputation": 1118, "user_id": 1362085, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6108844429ce59a569a369bda74be6e5?s=128&d=identicon&r=PG", "display_name": "Thesane", "link": "https://stackoverflow.com/users/1362085/thesane"}, "is_accepted": false, "score": 20, "last_activity_date": 1457559839, "last_edit_date": 1457559839, "creation_date": 1457557024, "answer_id": 35902430, "question_id": 35902139, "link": "https://stackoverflow.com/questions/35902139/opencv-3-1-drawcontours-215-npoints-0/35902430#35902430", "title": "OpenCV 3.1 drawContours &#39;(-215) npoints &gt; 0&#39;", "body": "<p>I think you are adding extra <code>[]</code> around <code>cnt</code>\nit should be </p>\n\n<pre><code>cv2.drawContours(mask, cnt, 0, (0, 255, 0), -1)\n</code></pre>\n\n<p>as <code>cnt</code> is already array of array but <code>[cnt]</code> is array of array of arrays which won't work </p>\n\n<hr>\n\n<p><strong>Update to the above code</strong></p>\n\n<p>you should convert your contour to numpy array first</p>\n\n<pre><code>ctr = numpy.array(cnt).reshape((-1,1,2)).astype(numpy.int32)\ncv2.drawContours(mask, [ctr], 0, (0, 255, 0), -1)\n</code></pre>\n\n<p>check documentation <a href=\"http://docs.opencv.org/3.1.0/d4/d73/tutorial_py_contours_begin.html#gsc.tab=0\" rel=\"noreferrer\">here</a></p>\n\n<blockquote>\n  <p>contours is a Python list of all the contours in the image. Each\n  individual contour is a Numpy array of (x,y) coordinates of boundary\n  points of the object.</p>\n</blockquote>\n"}, {"comments": [{"owner": {"reputation": 149903, "user_id": 14637, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/1904e7096278a10f1dfb3fdc0ceb53cc?s=128&d=identicon&r=PG", "display_name": "Thomas", "link": "https://stackoverflow.com/users/14637/thomas"}, "edited": false, "score": 1, "creation_date": 1556210013, "post_id": 48430397, "comment_id": 98369392, "body": "This is true! But why? Anyone more experienced with numpy who can explain this?"}, {"owner": {"reputation": 187, "user_id": 7361270, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b9bbdc731cdc2755da2c2d8aa00eee7?s=128&d=identicon&r=PG&f=1", "display_name": "makeworld", "link": "https://stackoverflow.com/users/7361270/makeworld"}, "edited": false, "score": 0, "creation_date": 1585680140, "post_id": 48430397, "comment_id": 107846037, "body": "<code>uint64</code> and <code>int32</code> also works. The latter will take up the least space, compared to the above choice of <code>int</code> as well."}], "tags": [], "owner": {"reputation": 327, "user_id": 331732, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe79712bc08fbbed0bce024e78c430c6?s=128&d=identicon&r=PG", "display_name": "Antonvh", "link": "https://stackoverflow.com/users/331732/antonvh"}, "is_accepted": false, "score": 15, "last_activity_date": 1516822789, "creation_date": 1516822789, "answer_id": 48430397, "question_id": 35902139, "link": "https://stackoverflow.com/questions/35902139/opencv-3-1-drawcontours-215-npoints-0/48430397#48430397", "title": "OpenCV 3.1 drawContours &#39;(-215) npoints &gt; 0&#39;", "body": "<p>For me this worked. But I'm not sure why.</p>\n\n<p><code>cv2.drawContours(mask, [cnt.astype(int)], 0, (0, 255, 0), -1)</code></p>\n\n<p>When you get an array of rounded floats from findContours, drawContours doesn't complain. But when I construct a similar (4,2) array of floats myself, it complains.</p>\n"}, {"tags": [], "owner": {"reputation": 143, "user_id": 7130613, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-J5uCcRHBIjY/AAAAAAAAAAI/AAAAAAAADuw/ZAgu9P-_pLo/photo.jpg?sz=128", "display_name": "Par bas", "link": "https://stackoverflow.com/users/7130613/par-bas"}, "is_accepted": false, "score": 0, "last_activity_date": 1537279583, "creation_date": 1537279583, "answer_id": 52388429, "question_id": 35902139, "link": "https://stackoverflow.com/questions/35902139/opencv-3-1-drawcontours-215-npoints-0/52388429#52388429", "title": "OpenCV 3.1 drawContours &#39;(-215) npoints &gt; 0&#39;", "body": "<p>If you just use this, it will work...</p>\n\n<pre><code>ctr = np.array(cnt).reshape((-1,1,2)).astype(np.int32)\ncv2.drawContours(mask, [ctr], -1, 255, -1)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1138, "user_id": 3764156, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d71d858c485ea4666d05977bebd90fad?s=128&d=identicon&r=PG&f=1", "display_name": "Midhun Darvin", "link": "https://stackoverflow.com/users/3764156/midhun-darvin"}, "edited": false, "score": 1, "creation_date": 1602683265, "post_id": 54851613, "comment_id": 113798155, "body": "In version 4.4.0 of cv2, the first parameter is the contours. The cv2.findContours and cv2.normalize break backwards compatibility with OpenCV 2.4.X."}, {"owner": {"reputation": 294, "user_id": 9920617, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JwkVG.jpg?s=128&g=1", "display_name": "ASLAN", "link": "https://stackoverflow.com/users/9920617/aslan"}, "edited": false, "score": 0, "creation_date": 1608634910, "post_id": 54851613, "comment_id": 115637610, "body": "Thanks, dude !!!"}], "tags": [], "owner": {"reputation": 101, "user_id": 7446770, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p4aWB.jpg?s=128&g=1", "display_name": "Prateek Gupta", "link": "https://stackoverflow.com/users/7446770/prateek-gupta"}, "is_accepted": false, "score": 5, "last_activity_date": 1551009549, "last_edit_date": 1551009549, "creation_date": 1551009180, "answer_id": 54851613, "question_id": 35902139, "link": "https://stackoverflow.com/questions/35902139/opencv-3-1-drawcontours-215-npoints-0/54851613#54851613", "title": "OpenCV 3.1 drawContours &#39;(-215) npoints &gt; 0&#39;", "body": "<p>You might have commited mistake while finding the contours. Contour is the second value returned by <code>findContours()</code> function as the <a href=\"https://docs.opencv.org/3.4.2/d4/d73/tutorial_py_contours_begin.html\" rel=\"noreferrer\">docs</a> say</p>\n\n<pre><code>im2, contours, hierarchy = cv.findContours(thresh, cv.RETR_TREE, cv.CHAIN_APPROX_SIMPLE)\n</code></pre>\n\n<p>So the following code will not work</p>\n\n<pre><code>cnt = cv2.findContours(thresh, cv2.RETR_TREE, cv2.CHAIN_APPROX_SIMPLE)\n</code></pre>\n\n<p>This might solve your problem.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 12360311, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mCZeolkREOwExL0o8Hx2lV9b4Nc3G2-xcnuB3g_Zg=k-s128", "display_name": "Mondara Thotage", "link": "https://stackoverflow.com/users/12360311/mondara-thotage"}, "is_accepted": false, "score": -1, "last_activity_date": 1573557261, "last_edit_date": 1573557261, "creation_date": 1573553824, "answer_id": 58816495, "question_id": 35902139, "link": "https://stackoverflow.com/questions/35902139/opencv-3-1-drawcontours-215-npoints-0/58816495#58816495", "title": "OpenCV 3.1 drawContours &#39;(-215) npoints &gt; 0&#39;", "body": "<p>its hierarchy, contours so:</p>\n\n<p><code>contours, hierarchy = cv.findContours(thresh, cv.RETR_TREE, cv.CHAIN_APPROX_SIMPLE)</code></p>\n"}], "owner": {"reputation": 9293, "user_id": 63621, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/1698e0dceda985e2b71b15b5567dd795?s=128&d=identicon&r=PG", "display_name": "Henrik", "link": "https://stackoverflow.com/users/63621/henrik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 29296, "favorite_count": 4, "answer_count": 5, "score": 11, "last_activity_date": 1573557261, "creation_date": 1457556073, "last_edit_date": 1457559165, "question_id": 35902139, "link": "https://stackoverflow.com/questions/35902139/opencv-3-1-drawcontours-215-npoints-0", "title": "OpenCV 3.1 drawContours &#39;(-215) npoints &gt; 0&#39;", "body": "<p>I'm trying to create a mask from a contour, but am getting a C++ error.</p>\n\n<p>Using OS X Yosemite, Python 2.7.10, OpenCV 3.1.0.</p>\n\n<pre><code>def create_mask(img, cnt):\n    '''Create a mask of the same size as the image\n       based on the interior of the contour.'''\n    mask = np.zeros((img.shape[0], img.shape[1]), np.uint8)\n    print(\"create_mask, cnt=%s\" % cnt)\n    cv2.drawContours(mask, [cnt], 0, (0, 255, 0), -1)\n    return mask\n\nprint(\"Creating mask from contour %s, on raw shape %s\" % (page_contour, raw.shape))\npage_mask = create_mask(raw, page_contour)\n</code></pre>\n\n<p>Output (see bottom for error):</p>\n\n<pre><code>Creating mask from contour [[ 1626.   360.]\n [ 1776.  3108.]\n [  126.  3048.]\n [  330.   486.]], on raw shape (3840, 2160, 3)\ncreate_mask, cnt=[[ 1626.   360.]\n [ 1776.  3108.]\n [  126.  3048.]\n [  330.   486.]]\nOpenCV Error: Assertion failed (npoints &gt; 0) in drawContours, file /tmp/opencv320160309-92782-1efch74/opencv-3.1.0/modules/imgproc/src/drawing.cpp, line 2380\nTraceback (most recent call last):\n  File \"./books.py\", line 209, in &lt;module&gt;\n    page_mask = create_mask(raw, page_contour)\n  File \"./books.py\", line 123, in create_mask\n    cv2.drawContours(mask, [cnt], 0, (0, 255, 0), -1)\ncv2.error: /tmp/opencv320160309-92782-1efch74/opencv-3.1.0/modules/imgproc/src/drawing.cpp:2380: error: (-215) npoints &gt; 0 in function drawContours\n</code></pre>\n\n<p>The <a href=\"http://docs.opencv.org/3.1.0/d6/d6e/group__imgproc__draw.html#ga746c0625f1781f1ffc9056259103edbc&amp;gsc.tab=0\" rel=\"noreferrer\">docs</a> say it should get an array of arrays and this is seemingly what I'm giving it. So what's wrong?</p>\n\n<p>Code is ported from OpenCV 2.x.</p>\n"}, {"tags": ["python", "flask", "sqlalchemy", "migration"], "comments": [{"owner": {"reputation": 1878, "user_id": 3013715, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/gfzGT.jpg?s=128&g=1", "display_name": "Patrick Allen", "link": "https://stackoverflow.com/users/3013715/patrick-allen"}, "edited": false, "score": 1, "creation_date": 1457568411, "post_id": 35902129, "comment_id": 59470607, "body": "What are you using as a migration tool?"}, {"owner": {"reputation": 1229, "user_id": 90351, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/aKDje.jpg?s=128&g=1", "display_name": "Fabian Barkhau", "link": "https://stackoverflow.com/users/90351/fabian-barkhau"}, "reply_to_user": {"reputation": 1878, "user_id": 3013715, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/gfzGT.jpg?s=128&g=1", "display_name": "Patrick Allen", "link": "https://stackoverflow.com/users/3013715/patrick-allen"}, "edited": false, "score": 0, "creation_date": 1457614257, "post_id": 35902129, "comment_id": 59492355, "body": "I am using flask-migrate <a href=\"https://flask-migrate.readthedocs.org/en/latest/\" rel=\"nofollow noreferrer\">flask-migrate.readthedocs.org/en/latest</a>"}], "owner": {"reputation": 1229, "user_id": 90351, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/aKDje.jpg?s=128&g=1", "display_name": "Fabian Barkhau", "link": "https://stackoverflow.com/users/90351/fabian-barkhau"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 27, "favorite_count": 0, "closed_date": 1457584874, "answer_count": 0, "score": 0, "last_activity_date": 1457557108, "creation_date": 1457556051, "last_edit_date": 1457557108, "question_id": 35902129, "link": "https://stackoverflow.com/questions/35902129/how-to-migrate-the-format-of-a-unique-non-nullable-flask-model-property", "closed_reason": "Duplicate", "title": "How to migrate the format of a unique non nullable flask model property?", "body": "<p>I would like to change the format of a model property and its name. The property must be unique and not nullable.</p>\n\n<p>It is unclear to me as to how I would go about making the migration for this stuation.</p>\n\n<p>Model before migration:</p>\n\n<pre><code>class MyModel(db.Model):\n        hexdata = db.Column(db.String, nullable=False, unique=True)\n</code></pre>\n\n<p>Model after migration:</p>\n\n<pre><code>class MyModel(db.Model):\n        base64data = db.Column(db.String, nullable=False, unique=True)\n</code></pre>\n"}, {"tags": ["python", "regex"], "comments": [{"owner": {"reputation": 2559, "user_id": 5087125, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6R64Z.jpg?s=128&g=1", "display_name": "pvg", "link": "https://stackoverflow.com/users/5087125/pvg"}, "edited": false, "score": 2, "creation_date": 1457556185, "post_id": 35902103, "comment_id": 59464760, "body": "Are you sure the lines you think are duplicates are actually duplicates?"}, {"owner": {"reputation": 21133, "user_id": 1084416, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RLhZZ.jpg?s=128&g=1", "display_name": "Peter Wood", "link": "https://stackoverflow.com/users/1084416/peter-wood"}, "edited": false, "score": 1, "creation_date": 1457556312, "post_id": 35902103, "comment_id": 59464827, "body": "This code looks pretty correct. Look at the <a href=\"https://docs.python.org/2/library/itertools.html#recipes\" rel=\"nofollow noreferrer\">recipe</a> for <code>unique_everseen</code>."}, {"owner": {"reputation": 21133, "user_id": 1084416, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RLhZZ.jpg?s=128&g=1", "display_name": "Peter Wood", "link": "https://stackoverflow.com/users/1084416/peter-wood"}, "edited": false, "score": 0, "creation_date": 1457556475, "post_id": 35902103, "comment_id": 59464914, "body": "Do they need to be in the same order as the original file?"}, {"owner": {"reputation": 21133, "user_id": 1084416, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RLhZZ.jpg?s=128&g=1", "display_name": "Peter Wood", "link": "https://stackoverflow.com/users/1084416/peter-wood"}, "edited": false, "score": 0, "creation_date": 1457556628, "post_id": 35902103, "comment_id": 59465009, "body": "See <a href=\"https://stackoverflow.com/questions/2467353/memory-efficient-way-to-remove-duplicate-lines-in-a-text-file-using-c\">Memory efficient way to remove duplicate lines in a text file</a>"}, {"owner": {"reputation": 15260, "user_id": 1968182, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/E5nF2.jpg?s=128&g=1", "display_name": "Ulrich Eckhardt", "link": "https://stackoverflow.com/users/1968182/ulrich-eckhardt"}, "edited": false, "score": 0, "creation_date": 1457557600, "post_id": 35902103, "comment_id": 59465540, "body": "Why do you think you need a regex? In any case, provide a reasonable error description if you want help, see also the posting guidelines. As it stands, your question is off-topic."}, {"owner": {"reputation": 21133, "user_id": 1084416, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RLhZZ.jpg?s=128&g=1", "display_name": "Peter Wood", "link": "https://stackoverflow.com/users/1084416/peter-wood"}, "edited": false, "score": 0, "creation_date": 1457557608, "post_id": 35902103, "comment_id": 59465547, "body": "One way to possibly reduce memory usage is to store the hash of the line instead of the line itself."}, {"owner": {"reputation": 16773, "user_id": 5827215, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-s_pAOw1Sc-M/AAAAAAAAAAI/AAAAAAAAAMA/J-R1IMHbuY4/photo.jpg?sz=128", "display_name": "Tadhg McDonald-Jensen", "link": "https://stackoverflow.com/users/5827215/tadhg-mcdonald-jensen"}, "edited": false, "score": 2, "creation_date": 1457558473, "post_id": 35902103, "comment_id": 59466037, "body": "actually <code>set</code> (atleast in python) already use <code>hash</code> to optimize their impact on memory. (according to my tests just now using <code>unique.__sizeof__()</code> and <code>sum(i.__sizeof__() for i in unique)</code>)"}, {"owner": {"reputation": 303, "user_id": 6023693, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/afe6f00e4baa88340f45264ffd8116a0?s=128&d=identicon&r=PG&f=1", "display_name": "lsch91", "link": "https://stackoverflow.com/users/6023693/lsch91"}, "edited": false, "score": 0, "creation_date": 1457558508, "post_id": 35902103, "comment_id": 59466066, "body": "Hey all, Thanks for the quick responses!  I&#39;m entering the data into a database, and when i bulk insert, it displays a message saying there are duplicate entries. The file is 162 million lines like i said above, so scrolling through the entire thing is impossible. Not really sure what to do !"}, {"owner": {"reputation": 16773, "user_id": 5827215, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-s_pAOw1Sc-M/AAAAAAAAAAI/AAAAAAAAAMA/J-R1IMHbuY4/photo.jpg?sz=128", "display_name": "Tadhg McDonald-Jensen", "link": "https://stackoverflow.com/users/5827215/tadhg-mcdonald-jensen"}, "edited": false, "score": 0, "creation_date": 1457558735, "post_id": 35902103, "comment_id": 59466190, "body": "the database tells you there are duplicates but doesn&#39;t give you an option to remove them for you? That&#39;s silly."}, {"owner": {"reputation": 303, "user_id": 6023693, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/afe6f00e4baa88340f45264ffd8116a0?s=128&d=identicon&r=PG&f=1", "display_name": "lsch91", "link": "https://stackoverflow.com/users/6023693/lsch91"}, "edited": false, "score": 0, "creation_date": 1457558807, "post_id": 35902103, "comment_id": 59466230, "body": "Correct. It doesn&#39;t give me the option to remove them. I&#39;m using MS SQL Server 2014 LocalDb version"}, {"owner": {"reputation": 22778, "user_id": 1554386, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/bfe99a3a73b9284d16127418399762ff?s=128&d=identicon&r=PG", "display_name": "Alastair McCormack", "link": "https://stackoverflow.com/users/1554386/alastair-mccormack"}, "edited": false, "score": 0, "creation_date": 1457559866, "post_id": 35902103, "comment_id": 59466866, "body": "Do you have to bulk insert?"}, {"owner": {"reputation": 2559, "user_id": 5087125, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6R64Z.jpg?s=128&g=1", "display_name": "pvg", "link": "https://stackoverflow.com/users/5087125/pvg"}, "edited": false, "score": 0, "creation_date": 1457561505, "post_id": 35902103, "comment_id": 59467719, "body": "Have you tried adding <code>line = line.strip()</code> as the first thing the loop?"}, {"owner": {"reputation": 7927, "user_id": 5214807, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aq31b.jpg?s=128&g=1", "display_name": "Saleem", "link": "https://stackoverflow.com/users/5214807/saleem"}, "edited": false, "score": 0, "creation_date": 1457562199, "post_id": 35902103, "comment_id": 59468091, "body": "Well, I suggest to hash each line and store in set. This could be cpu intensive task but definitely memory efficient and will indeed remove duplicates."}], "answers": [{"comments": [{"owner": {"reputation": 303, "user_id": 6023693, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/afe6f00e4baa88340f45264ffd8116a0?s=128&d=identicon&r=PG&f=1", "display_name": "lsch91", "link": "https://stackoverflow.com/users/6023693/lsch91"}, "edited": false, "score": 0, "creation_date": 1457568461, "post_id": 35903395, "comment_id": 59470628, "body": "Thanks for the help! However, it&#39;s for a school project and the prof is requiring we use python scripts to &quot;clean&quot; the data"}, {"owner": {"reputation": 36902, "user_id": 223424, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e97c628a88337b15e76a4690e916a2cd?s=128&d=identicon&r=PG", "display_name": "9000", "link": "https://stackoverflow.com/users/223424/9000"}, "reply_to_user": {"reputation": 303, "user_id": 6023693, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/afe6f00e4baa88340f45264ffd8116a0?s=128&d=identicon&r=PG&f=1", "display_name": "lsch91", "link": "https://stackoverflow.com/users/6023693/lsch91"}, "edited": false, "score": 0, "creation_date": 1457572214, "post_id": 35903395, "comment_id": 59471812, "body": "If lines are even 40 chars long, 167M lines are 6.6 GB; likely more that your available RAM. So you need to do like big boys who wrote the <code>sort</code> utility do: read some amount of lines, so that it fits into memory, sort them and remove duplicates, write to a temporary file. Read more lines, create another temporary file, etc until all source lines are over. Then start merging these files (creating other temporary files as you go if needed), also removing dupes. A merge needs 2 lines worth of RAM and decreases the number of files; once you&#39;ve merged two last files, you&#39;re done. See &quot;merge sort&quot;."}], "tags": [], "owner": {"reputation": 36902, "user_id": 223424, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e97c628a88337b15e76a4690e916a2cd?s=128&d=identicon&r=PG", "display_name": "9000", "link": "https://stackoverflow.com/users/223424/9000"}, "is_accepted": false, "score": 1, "last_activity_date": 1457560412, "creation_date": 1457560412, "answer_id": 35903395, "question_id": 35902103, "link": "https://stackoverflow.com/questions/35902103/using-python-regex-find-duplicate-lines/35903395#35903395", "title": "Using Python &amp; Regex, find duplicate lines", "body": "<p>You likely don't need Python if you have a file with 162M lines.</p>\n\n<p>You seem to run on Windows. If you had Linux / OSX / *BSD, or installed Cygwin, you could just do:</p>\n\n<pre><code>cat the_huge_file | sort --unique &gt; file_without_duplicates\n</code></pre>\n\n<p>On Windows, there's a <code>sort</code> shell utility, so </p>\n\n<pre><code>sort &lt;the_huge_file &gt;sorted_file \n</code></pre>\n\n<p>should work, hopefully in a memory-efficient way. Maybe it also has a switch to remove duplicates; consult <code>sort /?</code></p>\n\n<p>If it does not, removing duplicate lines after sorting is a piece of cake: read the file line by line (not the whole file at once), only use a line if it's different from a previous line. A trivial Python program could do it.</p>\n"}, {"tags": [], "owner": {"reputation": 7927, "user_id": 5214807, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aq31b.jpg?s=128&g=1", "display_name": "Saleem", "link": "https://stackoverflow.com/users/5214807/saleem"}, "is_accepted": false, "score": 0, "last_activity_date": 1457582331, "creation_date": 1457582331, "answer_id": 35907306, "question_id": 35902103, "link": "https://stackoverflow.com/questions/35902103/using-python-regex-find-duplicate-lines/35907306#35907306", "title": "Using Python &amp; Regex, find duplicate lines", "body": "<p>Here is memory efficient solution using python and sqlite. This script will read line by line from text file and insert into sqlite with unique index. If it detects a duplicate, it will print line# and content of line duplicating.</p>\n\n<p>In the end, you'll have cleaned data in sqlite database. You can easily export data from sqlite into cvs or even directly into SqlServer.</p>\n\n<pre><code>import sqlite3\n\nconn = sqlite3.connect('data.db')\nwith conn:\n    file_name = 'C:\\\\Users\\\\Lucas\\\\Documents\\\\Python\\\\Pagelinks\\\\pagelinkSample_10K_cleaned10.txt'\n\n    sql_create = \"CREATE TABLE IF NOT EXISTS data(line TEXT UNIQUE)\"\n    sql_insert = \"INSERT INTO data VALUES (?)\"\n\n    conn.execute(sql_create)\n    conn.commit()\n\n    index = 1\n\n    with open(file_name, \"r\") as fp:\n        for line in fp:\n            p = line.strip()\n            try:\n                conn.execute(sql_insert, (p,))\n            except sqlite3.IntegrityError:\n                print('D: ' + str(index) + ':  ' + p)\n            finally:\n                index += 1\n        conn.commit()\n</code></pre>\n"}], "owner": {"reputation": 303, "user_id": 6023693, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/afe6f00e4baa88340f45264ffd8116a0?s=128&d=identicon&r=PG&f=1", "display_name": "lsch91", "link": "https://stackoverflow.com/users/6023693/lsch91"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 467, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1457582331, "creation_date": 1457555974, "last_edit_date": 1457559617, "question_id": 35902103, "link": "https://stackoverflow.com/questions/35902103/using-python-regex-find-duplicate-lines", "title": "Using Python &amp; Regex, find duplicate lines", "body": "<p>I'm stuck at a part on a project and I need to eliminate duplicate lines in a file that is 162 million lines long. I have already implemented the following script (but it didn't get rid of all duplicate lines):</p>\n\n<pre><code>lines_seen = set() # holds lines already seen\noutfile = open('C:\\\\Users\\\\Lucas\\\\Documents\\\\Python\\\\Pagelinks\\\\pagelinkSample_10K_cleaned11.txt', \"w\")\nfor line in open('C:\\\\Users\\\\Lucas\\\\Documents\\\\Python\\\\Pagelinks\\\\pagelinkSample_10K_cleaned10.txt', \"r\"):\n    if line not in lines_seen: # not a duplicate\n        outfile.write(line)\n        lines_seen.add(line)\noutfile.close()\n</code></pre>\n\n<p>I need to write a regex expression that will eliminate any duplicated lines! Any help would be appreciated, thanks!</p>\n\n<p>EDIT: I'm inserting the 162 million lines into MS SQL 2014. When using bulk insert, it informs me there are duplicate entries as an error message.</p>\n\n<p>Maybe it's not working because my method stores the \"seen\" lines in memory and then keeps scanning , and eventually runs out of memory because the file is so large?</p>\n"}, {"tags": ["python", "json", "mongodb", "parsing", "flask"], "comments": [{"owner": {"reputation": 1592, "user_id": 618951, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/b867e8993ce4bf8205315e4a2e45e418?s=128&d=identicon&r=PG", "display_name": "RisingSun", "link": "https://stackoverflow.com/users/618951/risingsun"}, "edited": false, "score": 1, "creation_date": 1457556087, "post_id": 35902057, "comment_id": 59464708, "body": "do you have any code to show?"}, {"owner": {"reputation": 55852, "user_id": 165216, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/U7Xse.jpg?s=128&g=1", "display_name": "PaulMcG", "link": "https://stackoverflow.com/users/165216/paulmcg"}, "edited": false, "score": 0, "creation_date": 1457556177, "post_id": 35902057, "comment_id": 59464752, "body": "what is your <code>[key1]-&gt;[key2]</code> notation trying to show?"}, {"owner": {"reputation": 40404, "user_id": 282912, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/bmLJq.png?s=128&g=1", "display_name": "msw", "link": "https://stackoverflow.com/users/282912/msw"}, "edited": false, "score": 1, "creation_date": 1457556391, "post_id": 35902057, "comment_id": 59464866, "body": "Screenshots are useless; can you not paste the json document into your question?"}, {"owner": {"reputation": 1, "user_id": 6041586, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17faa3f557b8b163e6729e668dc0c8a6?s=128&d=identicon&r=PG&f=1", "display_name": "CHBS", "link": "https://stackoverflow.com/users/6041586/chbs"}, "edited": false, "score": 0, "creation_date": 1457556864, "post_id": 35902057, "comment_id": 59465153, "body": "how paste text and format text to json?"}, {"owner": {"reputation": 55852, "user_id": 165216, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/U7Xse.jpg?s=128&g=1", "display_name": "PaulMcG", "link": "https://stackoverflow.com/users/165216/paulmcg"}, "edited": false, "score": 0, "creation_date": 1457557118, "post_id": 35902057, "comment_id": 59465289, "body": "&quot;_id&quot; is guaranteed to be a unique key, so there will only ever be just 1 matching doc.  And, really? You figured out how to paste code, but can&#39;t paste json?"}, {"owner": {"reputation": 1, "user_id": 6041586, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17faa3f557b8b163e6729e668dc0c8a6?s=128&d=identicon&r=PG&f=1", "display_name": "CHBS", "link": "https://stackoverflow.com/users/6041586/chbs"}, "edited": false, "score": 0, "creation_date": 1457557257, "post_id": 35902057, "comment_id": 59465351, "body": "I thought that the parser does not recognize the format json."}, {"owner": {"reputation": 55852, "user_id": 165216, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/U7Xse.jpg?s=128&g=1", "display_name": "PaulMcG", "link": "https://stackoverflow.com/users/165216/paulmcg"}, "edited": false, "score": 0, "creation_date": 1457557262, "post_id": 35902057, "comment_id": 59465356, "body": "I&#39;m guessing &quot;player_info&quot; actually means &quot;user_info&quot;, and &quot;inventory&quot; means &quot;items&quot;?  Do you know how to get the <code>len</code>gth of a list?"}, {"owner": {"reputation": 1, "user_id": 6041586, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17faa3f557b8b163e6729e668dc0c8a6?s=128&d=identicon&r=PG&f=1", "display_name": "CHBS", "link": "https://stackoverflow.com/users/6041586/chbs"}, "edited": false, "score": 0, "creation_date": 1457557436, "post_id": 35902057, "comment_id": 59465442, "body": "yes, &quot;player_info&quot; = &quot;user_info&quot;, and &quot;invetnory&quot; = &quot;items&quot;, yes, i get len by len(list()), example -&gt; i get this last index by usersdb  len(usersdb.find().sort(&quot;_id&quot;,-1)[0][&quot;user_info&quot;][&quot;items&quot;]) - 1"}, {"owner": {"reputation": 1, "user_id": 6041586, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17faa3f557b8b163e6729e668dc0c8a6?s=128&d=identicon&r=PG&f=1", "display_name": "CHBS", "link": "https://stackoverflow.com/users/6041586/chbs"}, "edited": false, "score": 0, "creation_date": 1457559738, "post_id": 35902057, "comment_id": 59466794, "body": "me need delete inner docuement, by id 1"}], "answers": [{"comments": [{"owner": {"reputation": 55852, "user_id": 165216, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/U7Xse.jpg?s=128&g=1", "display_name": "PaulMcG", "link": "https://stackoverflow.com/users/165216/paulmcg"}, "reply_to_user": {"reputation": 40404, "user_id": 282912, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/bmLJq.png?s=128&g=1", "display_name": "msw", "link": "https://stackoverflow.com/users/282912/msw"}, "edited": false, "score": 1, "creation_date": 1457556389, "post_id": 35902206, "comment_id": 59464864, "body": "If that is a doc fetched using pymongo, then it will already have been <code>loads</code>ed."}, {"owner": {"reputation": 1, "user_id": 6041586, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17faa3f557b8b163e6729e668dc0c8a6?s=128&d=identicon&r=PG&f=1", "display_name": "CHBS", "link": "https://stackoverflow.com/users/6041586/chbs"}, "edited": false, "score": 0, "creation_date": 1457556454, "post_id": 35902206, "comment_id": 59464900, "body": "sorry, need get &quot;stat&quot;, by value, example..."}, {"owner": {"reputation": 1, "user_id": 6041586, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17faa3f557b8b163e6729e668dc0c8a6?s=128&d=identicon&r=PG&f=1", "display_name": "CHBS", "link": "https://stackoverflow.com/users/6041586/chbs"}, "edited": false, "score": 0, "creation_date": 1457556503, "post_id": 35902206, "comment_id": 59464940, "body": "doc[&#39;user_info&#39;][&#39;items&#39;][0][{&quot;stat&quot;:&quot;Hest&quot;}]"}, {"owner": {"reputation": 55852, "user_id": 165216, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/U7Xse.jpg?s=128&g=1", "display_name": "PaulMcG", "link": "https://stackoverflow.com/users/165216/paulmcg"}, "reply_to_user": {"reputation": 1, "user_id": 6041586, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17faa3f557b8b163e6729e668dc0c8a6?s=128&d=identicon&r=PG&f=1", "display_name": "CHBS", "link": "https://stackoverflow.com/users/6041586/chbs"}, "edited": false, "score": 0, "creation_date": 1457556832, "post_id": 35902206, "comment_id": 59465129, "body": "That does not match your posted example. In <code>doc[&#39;user_info&#39;][&#39;items&#39;][0]</code>, there is a &#39;data&#39; field: <code>&quot;data&quot;: {&quot;level&quot;: 1, &quot;stat&quot;: &quot;Hest&quot;}</code>.  Hence, to get the value of stat for the first item, use: <code>doc[&#39;user_info&#39;][&#39;items&#39;][0][&#39;data&#39;][&#39;stat&#39;]</code>. To get the level, use: <code>doc[&#39;user_info&#39;][&#39;items&#39;][0][&#39;data&#39;][&#39;level&#39;]</code>."}], "tags": [], "owner": {"reputation": 55852, "user_id": 165216, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/U7Xse.jpg?s=128&g=1", "display_name": "PaulMcG", "link": "https://stackoverflow.com/users/165216/paulmcg"}, "is_accepted": false, "score": 1, "last_activity_date": 1457557666, "last_edit_date": 1457557666, "creation_date": 1457556252, "answer_id": 35902206, "question_id": 35902057, "link": "https://stackoverflow.com/questions/35902057/mongodb-python-how-parse-multi-level-json/35902206#35902206", "title": "MongoDB python how parse multi-level json", "body": "<p>For that document, try:</p>\n\n<pre><code>doc['user_info']['items'][0]['data']['stat']\n</code></pre>\n\n<p>If you have a doc for a player, and want to count how many items that player has, you will use some built-in Python function, which I will call <code>XXX</code>, and which you should research to see what that function is, and use it on the <code>items</code> attribute of the doc:</p>\n\n<pre><code>number_of_items = XXX(doc['user_info']['items'])\n</code></pre>\n\n<p>And in future, please use the same names and structure in your question as in your posted examples.</p>\n"}], "owner": {"reputation": 1, "user_id": 6041586, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17faa3f557b8b163e6729e668dc0c8a6?s=128&d=identicon&r=PG&f=1", "display_name": "CHBS", "link": "https://stackoverflow.com/users/6041586/chbs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 719, "favorite_count": 1, "closed_date": 1457714319, "answer_count": 1, "score": -2, "last_activity_date": 1457559694, "creation_date": 1457555843, "last_edit_date": 1457559694, "question_id": 35902057, "link": "https://stackoverflow.com/questions/35902057/mongodb-python-how-parse-multi-level-json", "closed_reason": "Not suitable for this site", "title": "MongoDB python how parse multi-level json", "body": "<p>how parse multi-level json data, in Mongodb with Python 3.5?  </p>\n\n<pre><code>PLAYER_DEFAULT = {\n\"_id\": Inc(PlayersDB),\n\"mail\": \"test@gmail.com\",\n\"password\": \"123456\",\n\"token\": uuid4().hex,\n\"username\": \"applet\",\n\"user_info\":\n    {\n        \"show_name\" : \"Hero\",\n        \"rate_us\": 20000,\n        \"rating\": 300,\n        \"gcg\": \"\",\n        \"ration\":0,\n        \"items\":\n            [\n                {\"id\":1, \"item_type\":\"socket\",      \"name\":\"aEveA\", \"data\":{\"level\":1, \"stat\":\"AVA\"}},\n                {\"id\":2, \"item_type\":\"socket\",      \"name\":\"aEveA\", \"data\":{\"level\":4, \"stat\":\"AVA\"}},\n                {\"id\":3, \"item_type\":\"socket\",      \"name\":\"Hestos\", \"data\":{\"level\":9, \"stat\":\"Hest\"}},\n                {\"id\":4, \"item_type\":\"user\", \"name\":\"AAACZX\",   \"data\":{\"expr\":1000}},\n                {\"id\":5, \"item_type\":\"user\", \"name\":\"AAAAZZZCX\",   \"data\":        {\"expr\":1000}}\n               ]\n        } \n}\n</code></pre>\n\n<p>how get data level and stat in items?  </p>\n\n<pre><code>[\"_id\"]-&gt;[\"show_name\"]  \n[\"_id\"]-&gt;[\"user_info\"]-&gt;[\"items\"]   \n[\"_id\"]-&gt;[\"user_info\"]-&gt;[\"items\"] -&gt; get value by \"stat\" in items[0]  \n</code></pre>\n\n<p>me need get items id, by items \"stat\" value<br>\ni use loop\nhow get x count? </p>\n\n<pre><code>for x in PlayersDB.find({\"_id\":1}):  \n    print(x[\"user_info\"][\"items\"][x.count()])\n</code></pre>\n\n<p>And... how to update \"item_type\", by \"id\", in \"items\"?\nAnd how to delete 1 docuement by \"id\":1 in \"items\"?</p>\n"}, {"tags": ["python", "pandas", "group-by", "dataframe", "aggregate-functions"], "answers": [{"tags": [], "owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "is_accepted": true, "score": 1, "last_activity_date": 1457556900, "last_edit_date": 1457556900, "creation_date": 1457556016, "answer_id": 35902117, "question_id": 35901959, "link": "https://stackoverflow.com/questions/35901959/multiple-aggregation-in-group-by-in-pandas-dataframe/35902117#35902117", "title": "Multiple aggregation in group by in Pandas Dataframe", "body": "<p>try <code>agg()</code> function:</p>\n\n<pre><code>import numpy as np\nimport pandas as pd\n\n\ndf = pd.DataFrame(np.random.randint(0,5,size=(20, 3)), columns=list('ABC'))\nprint(df)\n\nprint(df.groupby('C').agg({'A': max, 'B':min}))\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>    A  B  C\n0   2  3  0\n1   2  2  1\n2   4  0  1\n3   0  1  4\n4   3  3  2\n5   0  4  3\n6   2  4  2\n7   3  4  0\n8   4  2  2\n9   3  2  1\n10  2  3  1\n11  4  1  0\n12  4  3  2\n13  0  0  1\n14  3  1  1\n15  4  1  1\n16  0  0  0\n17  4  0  1\n18  3  4  0\n19  0  2  4\n   A  B\nC\n0  4  0\n1  4  0\n2  4  2\n3  0  4\n4  0  1\n</code></pre>\n\n<p>Alternatively you may want to check <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.read_sql_query.html\" rel=\"nofollow\">pandas.read_sql_query()</a> function...</p>\n"}, {"tags": [], "owner": {"reputation": 1220, "user_id": 2407844, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1a8b53bc75b5821b2405c09153804d6?s=128&d=identicon&r=PG", "display_name": "dmb", "link": "https://stackoverflow.com/users/2407844/dmb"}, "is_accepted": false, "score": 0, "last_activity_date": 1457556093, "creation_date": 1457556093, "answer_id": 35902150, "question_id": 35901959, "link": "https://stackoverflow.com/questions/35901959/multiple-aggregation-in-group-by-in-pandas-dataframe/35902150#35902150", "title": "Multiple aggregation in group by in Pandas Dataframe", "body": "<p>You can use the <a href=\"http://pandas.pydata.org/pandas-docs/stable/groupby.html#applying-multiple-functions-at-once\" rel=\"nofollow\">agg</a> function</p>\n\n<pre><code>import pandas as pd\nimport numpy as np\n\ndf.groupby('something').agg({'column1': np.max, 'columns2': np.min})\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 619481, "user_id": 2901002, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/hMDvl.jpg?s=128&g=1", "display_name": "jezrael", "link": "https://stackoverflow.com/users/2901002/jezrael"}, "is_accepted": false, "score": 3, "last_activity_date": 1457556483, "last_edit_date": 1457556483, "creation_date": 1457556163, "answer_id": 35902182, "question_id": 35901959, "link": "https://stackoverflow.com/questions/35901959/multiple-aggregation-in-group-by-in-pandas-dataframe/35902182#35902182", "title": "Multiple aggregation in group by in Pandas Dataframe", "body": "<p>You can use function <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.core.groupby.GroupBy.aggregate.html\" rel=\"nofollow\"><code>agg</code></a>:</p>\n\n<pre><code>DF2 = DF1.groupby('C').agg({'A': max, 'B': min})\n</code></pre>\n\n<p>Sample:</p>\n\n<pre><code>print DF1\n   A   B  C  D\n0  1   5  a  a\n1  7   9  a  b\n2  2  10  c  d\n3  3   2  c  c\n\nDF2 = DF1.groupby('C').agg({'A': max, 'B': min})\n\nprint DF2\n   A  B\nC      \na  7  5\nc  3  2\n</code></pre>\n\n<p><a href=\"http://wesmckinney.com/blog/groupby-fu-improvements-in-grouping-and-aggregating-data-in-pandas/\" rel=\"nofollow\">GroupBy-fu: improvements in grouping and aggregating data in pandas </a> - nice explanations.</p>\n"}], "owner": {"reputation": 255, "user_id": 5875200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b537c1413e74ee8bedfff2e39d1fbb7?s=128&d=identicon&r=PG&f=1", "display_name": "Ivan KR", "link": "https://stackoverflow.com/users/5875200/ivan-kr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6821, "favorite_count": 0, "accepted_answer_id": 35902117, "answer_count": 3, "score": 3, "last_activity_date": 1457556900, "creation_date": 1457555516, "last_edit_date": 1457556540, "question_id": 35901959, "link": "https://stackoverflow.com/questions/35901959/multiple-aggregation-in-group-by-in-pandas-dataframe", "title": "Multiple aggregation in group by in Pandas Dataframe", "body": "<pre><code>SQL : Select Max(A) , Min (B) , C from Table group by C \n</code></pre>\n\n<p>I want to do the same operation in pandas on a dataframe. The closer I got was till :</p>\n\n<pre><code>DF2= DF1.groupby(by=['C']).max() \n</code></pre>\n\n<p>where I land up getting max of both the columns , how do i do more than one operation while grouping by.</p>\n"}, {"tags": ["python", "asp.net", "drop-down-menu"], "owner": {"reputation": 541, "user_id": 5817865, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/c6f9b141f15a61f408b991a5c116b118?s=128&d=identicon&r=PG&f=1", "display_name": "otteheng", "link": "https://stackoverflow.com/users/5817865/otteheng"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 338, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1457704507, "creation_date": 1457555327, "last_edit_date": 1457704507, "question_id": 35901909, "link": "https://stackoverflow.com/questions/35901909/python-how-to-select-a-dropdown-menu-and-download-pdfs-that-are-found-in-a-asp", "title": "Python: How to select a dropdown menu and download pdfs that are found in a .asp webpage?", "body": "<p>I am trying to write a program that will download all of the pdf files from a website. The problem is the link to the pdfs that I want to download are accessed by clicking on a drop down menu, which takes me to a .asp webpage. </p>\n\n<p>Here's the website: <a href=\"http://www.k12.wa.us/safs/reports.asp?_sm_au_=iVVHQ2PsHsSjZNFj\" rel=\"nofollow\">http://www.k12.wa.us/safs/reports.asp?_sm_au_=iVVHQ2PsHsSjZNFj</a> </p>\n\n<pre><code>&lt;form action=\"data/reportformatter.asp\" method=\"POST\"&gt;\n  &lt;p&gt;&lt;select name=\"District Name\" size=\"1\"&gt;\n    &lt;option selected=\"\" value=\"State Summary\"&gt;Select from the following list&lt;/option&gt;\n    &lt;option&gt;State Summary &lt;/option&gt;\n    &lt;option&gt;Aberdeen &lt;/option&gt;\n    &lt;option&gt;Adna &lt;/option&gt;\n    &lt;option&gt;Almira &lt;/option&gt;\n  &lt;/select&gt; &lt;input type=\"SUBMIT\" value=\"Search\" align=\"left\"&gt;&lt;/p&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>I want to select \"Aberdeen\" and download:</p>\n\n<pre><code>&lt;a href=\"/safs/rep/enr/1516/14005t.pf\"&gt;Report 1735T Special Education &lt;/a&gt;&lt;/td&gt;\n</code></pre>\n\n<p>If you could explain to me why the .asp URL doesn't change when I select the different school districts (e.g. Aberdeen, Adna, etc.) and the direction I should go to get around this. </p>\n"}, {"tags": ["python", "c++", "wrapper"], "comments": [{"owner": {"reputation": 610, "user_id": 147126, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/10b9c58599ec50d176fa2ce8c2d8bd88?s=128&d=identicon&r=PG", "display_name": "Tanner", "link": "https://stackoverflow.com/users/147126/tanner"}, "edited": false, "score": 0, "creation_date": 1457555669, "post_id": 35901908, "comment_id": 59464453, "body": "Start here: <a href=\"http://cython.org/\" rel=\"nofollow noreferrer\">cython.org</a>"}, {"owner": {"reputation": 1905, "user_id": 2950135, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/HuZ2P.jpg?s=128&g=1", "display_name": "Charles Pehlivanian", "link": "https://stackoverflow.com/users/2950135/charles-pehlivanian"}, "edited": false, "score": 0, "creation_date": 1457556508, "post_id": 35901908, "comment_id": 59464943, "body": "<a href=\"http://www.swig.org/Doc1.3/SWIG.html\" rel=\"nofollow noreferrer\">swig</a> is designed to generate these wrappers."}], "answers": [{"tags": [], "owner": {"reputation": 15260, "user_id": 1968182, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/E5nF2.jpg?s=128&g=1", "display_name": "Ulrich Eckhardt", "link": "https://stackoverflow.com/users/1968182/ulrich-eckhardt"}, "is_accepted": true, "score": 1, "last_activity_date": 1457558109, "creation_date": 1457558109, "answer_id": 35902761, "question_id": 35901908, "link": "https://stackoverflow.com/questions/35901908/confusion-wrapping-c-library-to-python/35902761#35902761", "title": "Confusion wrapping c++ library to python", "body": "<p>Concerning your confusion about the process, just follow any tutorial for any of the wrapper libs you found or where suggested in the comments.</p>\n\n<blockquote>\n  <p>If I want to make this manager usable in python, do I need to wrap it in a different way for each version of python? (2.7 vs 3.4)</p>\n</blockquote>\n\n<p>Yes. You might be able to load binary modules compiled for Python 3.4 into Python 3.5, but it's unlikely to work across major versions.</p>\n\n<blockquote>\n  <p>Do I also need to wrap it in a different way for each operating system for each version?</p>\n</blockquote>\n\n<p>Yes. Just as you need to compile your C++ code for different operating systems (and possibly versions) and CPU architectures, Python modules are not different. However, the \"wrap it in a different way\" just means \"compile for the target environment\".</p>\n"}], "owner": {"reputation": 658, "user_id": 5244410, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/c2e125721f74672d38c5dcd66aaf5bb4?s=128&d=identicon&r=PG&f=1", "display_name": "wprins", "link": "https://stackoverflow.com/users/5244410/wprins"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77, "favorite_count": 0, "accepted_answer_id": 35902761, "answer_count": 1, "score": 0, "last_activity_date": 1457558109, "creation_date": 1457555325, "question_id": 35901908, "link": "https://stackoverflow.com/questions/35901908/confusion-wrapping-c-library-to-python", "title": "Confusion wrapping c++ library to python", "body": "<p>I have a .cpp and .h source file pair which is a manager (I guess a wrapper also) for a c++ library I have made. I want to let people use this manager to work with my library in python. I have heard about several different ways to wrap this library into python like <code>cython</code> and <code>boost.python</code> but Im having trouble with understanding the process.</p>\n\n<p>If I want to make this manager usable in python, do I need to wrap it in a different way for each version of python? (2.7 vs 3.4) Do I also need to wrap it in a different way for each operating system for each version? So 2.7/3.4 for Windows vs 2.7/3.4 for Linux?</p>\n"}, {"tags": ["python", "csv", "geopy"], "answers": [{"comments": [{"owner": {"reputation": 117, "user_id": 6003822, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/b3c1f2a7a931829217eb7f35c3c76bb5?s=128&d=identicon&r=PG&f=1", "display_name": "jeffkrop", "link": "https://stackoverflow.com/users/6003822/jeffkrop"}, "edited": false, "score": 0, "creation_date": 1457568404, "post_id": 35902306, "comment_id": 59470605, "body": "That works better but if I run this with a place &quot;RedLands&quot; I get Redlands, San Bernardino County, California, United States of America (34.0715385, -117.120993253739) I would like each in its own column. Would like one row with 6 columns if opened in excel"}], "tags": [], "owner": {"reputation": 5823, "user_id": 503099, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/gnC28.jpg?s=128&g=1", "display_name": "Forge", "link": "https://stackoverflow.com/users/503099/forge"}, "is_accepted": false, "score": 0, "last_activity_date": 1457556648, "creation_date": 1457556648, "answer_id": 35902306, "question_id": 35901860, "link": "https://stackoverflow.com/questions/35901860/write-geopy-location-to-csv-file/35902306#35902306", "title": "Write Geopy location to CSV file", "body": "<p>Well, you are passing a single <a href=\"https://geopy.readthedocs.org/en/1.10.0/index.html?highlight=location#geopy.location.Location\" rel=\"nofollow\"><code>Location</code></a> object as <a href=\"https://docs.python.org/2/library/csv.html#csv.csvwriter.writerows\" rel=\"nofollow\"><code>rows</code></a> (a list of row objects), you should pass it as a single row.</p>\n\n<p>Replace:</p>\n\n<pre><code>a.writerows(location)\n</code></pre>\n\n<p>With:</p>\n\n<pre><code>a.writerow(location) \n</code></pre>\n"}], "owner": {"reputation": 117, "user_id": 6003822, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/b3c1f2a7a931829217eb7f35c3c76bb5?s=128&d=identicon&r=PG&f=1", "display_name": "jeffkrop", "link": "https://stackoverflow.com/users/6003822/jeffkrop"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 964, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1457557202, "creation_date": 1457555136, "last_edit_date": 1457557202, "question_id": 35901860, "link": "https://stackoverflow.com/questions/35901860/write-geopy-location-to-csv-file", "title": "Write Geopy location to CSV file", "body": "<p>I'm trying to write the output of this <code>geopy</code> object to a <code>csv</code> file, but it puts each letter in a different column and prints the latitude and longitude on a different line. How can I fix that?   </p>\n\n<p>I would like to be able to run this function at different times and print the new address to the next line. Saving the data not overwriting it. Can this be done with write <code>csv</code> in python?</p>\n\n<pre><code>from geopy.geocoders import Nominatim\nimport csv\n\ndef loc_find(file):\n'''\nThis function take in a user given location and gives back the address with \ncity, zip code, state, county and country.\nIt also provides latitude and longitude.\n'''\n    geolocator = Nominatim()\n    loc_input = raw_input(\"Add the location you would like data back for: \")\n    location = geolocator.geocode(loc_input)\n    print(location.address)\n    print((location.latitude, location.longitude))\n\n    with open(r\"\", 'w') as fp:\n        a = csv.writer(fp)\n        data = location\n        a.writerows(data)    \n</code></pre>\n"}, {"tags": ["python", "pandas"], "answers": [{"tags": [], "owner": {"reputation": 1220, "user_id": 2407844, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1a8b53bc75b5821b2405c09153804d6?s=128&d=identicon&r=PG", "display_name": "dmb", "link": "https://stackoverflow.com/users/2407844/dmb"}, "is_accepted": false, "score": 1, "last_activity_date": 1457555705, "creation_date": 1457555705, "answer_id": 35902018, "question_id": 35901859, "link": "https://stackoverflow.com/questions/35901859/merge-two-columns-in-python/35902018#35902018", "title": "&quot;Merge&quot; two columns in Python", "body": "<p>If I understand your question correctly, you can use merge</p>\n\n<pre><code>import pandas as pd\nnames = pd.DataFrame(['A', 'B', 'A', 'C'], columns=['names'])\nnames_scores = pd.DataFrame([('A', 1), ('B', 2), ('C', 3)], columns=['names', 'scores'])\nnames.merge(names_scores, left_on='names', right_on='names', how='outer')\n</code></pre>\n\n<p>(you can change how to be 'outer', 'inner', etc. for various join logic)</p>\n\n<p>this will give you</p>\n\n<pre><code>  names  scores\n0     A       1\n1     A       1\n2     B       2\n3     C       3\n</code></pre>\n"}], "owner": {"reputation": 371, "user_id": 4697173, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/83212362872c168c26667b53518a1ae2?s=128&d=identicon&r=PG&f=1", "display_name": "rado", "link": "https://stackoverflow.com/users/4697173/rado"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 106, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1457555705, "creation_date": 1457555135, "question_id": 35901859, "link": "https://stackoverflow.com/questions/35901859/merge-two-columns-in-python", "title": "&quot;Merge&quot; two columns in Python", "body": "<p>I have a sheet with a column with the names of a lot of individuals (there are repetitions) which is of the following type:</p>\n\n<pre><code>   Name\nJackson Alan\nWilson Pete\nWilliamson Tom\n...\nWilliamson Tom\n...\nPeterson Alan\n</code></pre>\n\n<p>In another sheet I have two columns: one with all these individuals (only once each this time) and another one with a score which is associated to these players:</p>\n\n<pre><code>     Name           Score\nWilliamson Tom       85\n     ...\nJackson Alan         90\nWilson Pete          80\nPeterson Alan        70\n</code></pre>\n\n<p>I want to associate the score of each person to their name in the first sheet so the result looks like that:</p>\n\n<pre><code>  Name             Score\nJackson Alan        90\nWilson Pete         80\nWilliamson Tom      85\n...\nWilliamson Tom      85\n...\nPeterson Alan       70\n</code></pre>\n\n<p>Can you recommend me a fast way to do it with pandas in Python for example (the first sheet has about 100k names so I need it to be fast enough). Thanks in advance.</p>\n"}, {"tags": ["python", "winapi", "exit-code"], "comments": [{"owner": {"reputation": 16773, "user_id": 5827215, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-s_pAOw1Sc-M/AAAAAAAAAAI/AAAAAAAAAMA/J-R1IMHbuY4/photo.jpg?sz=128", "display_name": "Tadhg McDonald-Jensen", "link": "https://stackoverflow.com/users/5827215/tadhg-mcdonald-jensen"}, "edited": false, "score": 0, "creation_date": 1457555354, "post_id": 35901810, "comment_id": 59464256, "body": "I think you need the <a href=\"http://stackoverflow.com/questions/5592500/detecting-key-presses-using-win32api-in-python\">solution from here</a>"}, {"owner": {"reputation": 49793, "user_id": 4014959, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GdqQJ.jpg?s=128&g=1", "display_name": "PM 2Ring", "link": "https://stackoverflow.com/users/4014959/pm-2ring"}, "edited": false, "score": 1, "creation_date": 1457555367, "post_id": 35901810, "comment_id": 59464267, "body": "Please paste your code into the body of the question itself."}, {"owner": {"reputation": 16773, "user_id": 5827215, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-s_pAOw1Sc-M/AAAAAAAAAAI/AAAAAAAAAMA/J-R1IMHbuY4/photo.jpg?sz=128", "display_name": "Tadhg McDonald-Jensen", "link": "https://stackoverflow.com/users/5827215/tadhg-mcdonald-jensen"}, "edited": false, "score": 1, "creation_date": 1457555457, "post_id": 35901810, "comment_id": 59464322, "body": "the top of provided link says &quot;# This is copied directly from StackOverflow&quot; could you provide a link to the original source?"}, {"owner": {"reputation": 5, "user_id": 5725318, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3Goie.jpg?s=128&g=1", "display_name": "Gregory Dolan", "link": "https://stackoverflow.com/users/5725318/gregory-dolan"}, "reply_to_user": {"reputation": 16773, "user_id": 5827215, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-s_pAOw1Sc-M/AAAAAAAAAAI/AAAAAAAAAMA/J-R1IMHbuY4/photo.jpg?sz=128", "display_name": "Tadhg McDonald-Jensen", "link": "https://stackoverflow.com/users/5827215/tadhg-mcdonald-jensen"}, "edited": false, "score": 0, "creation_date": 1457556738, "post_id": 35901810, "comment_id": 59465074, "body": "@TadhgMcDonald-Jensen Lol forgot about that. <a href=\"http://stackoverflow.com/questions/1181464/controlling-mouse-with-python\">Here</a>"}, {"owner": {"reputation": 5, "user_id": 5725318, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3Goie.jpg?s=128&g=1", "display_name": "Gregory Dolan", "link": "https://stackoverflow.com/users/5725318/gregory-dolan"}, "reply_to_user": {"reputation": 16773, "user_id": 5827215, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-s_pAOw1Sc-M/AAAAAAAAAAI/AAAAAAAAAMA/J-R1IMHbuY4/photo.jpg?sz=128", "display_name": "Tadhg McDonald-Jensen", "link": "https://stackoverflow.com/users/5827215/tadhg-mcdonald-jensen"}, "edited": false, "score": 0, "creation_date": 1457556782, "post_id": 35901810, "comment_id": 59465099, "body": "@TadhgMcDonald-Jensen only part I copied was the click, everything else is mine"}, {"owner": {"reputation": 16773, "user_id": 5827215, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-s_pAOw1Sc-M/AAAAAAAAAAI/AAAAAAAAAMA/J-R1IMHbuY4/photo.jpg?sz=128", "display_name": "Tadhg McDonald-Jensen", "link": "https://stackoverflow.com/users/5827215/tadhg-mcdonald-jensen"}, "edited": false, "score": 0, "creation_date": 1457557120, "post_id": 35901810, "comment_id": 59465291, "body": "and the <code>click</code> is modified from the original so you didn&#39;t actually directly copy it did you? still think the solution I linked to in my first comment is what you need. just check if the user has pressed some key combination in between the repeated clicks."}, {"owner": {"reputation": 5, "user_id": 5725318, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3Goie.jpg?s=128&g=1", "display_name": "Gregory Dolan", "link": "https://stackoverflow.com/users/5725318/gregory-dolan"}, "reply_to_user": {"reputation": 16773, "user_id": 5827215, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-s_pAOw1Sc-M/AAAAAAAAAAI/AAAAAAAAAMA/J-R1IMHbuY4/photo.jpg?sz=128", "display_name": "Tadhg McDonald-Jensen", "link": "https://stackoverflow.com/users/5827215/tadhg-mcdonald-jensen"}, "edited": false, "score": 0, "creation_date": 1457557250, "post_id": 35901810, "comment_id": 59465350, "body": "@TadhgMcDonald-Jensen Yea I made this at like 1 last night. Didn&#39;t get a chance to look at your link yet. Thanks in advance"}, {"owner": {"reputation": 35031, "user_id": 1889329, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/57bec3f0b9c5879cdd9d9fa2e8629318?s=128&d=identicon&r=PG&f=1", "display_name": "IInspectable", "link": "https://stackoverflow.com/users/1889329/iinspectable"}, "edited": false, "score": 0, "creation_date": 1457604967, "post_id": 35901810, "comment_id": 59485899, "body": "You are using the wrong tool altogether. If you want to automate a UI you should be using <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/ee684009.aspx\" rel=\"nofollow noreferrer\">UI Automation</a>. That way you don&#39;t have to shuffle input focus around, and the problem you are trying to solve won&#39;t even exist."}], "owner": {"reputation": 5, "user_id": 5725318, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3Goie.jpg?s=128&g=1", "display_name": "Gregory Dolan", "link": "https://stackoverflow.com/users/5725318/gregory-dolan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 111, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1457556641, "creation_date": 1457554920, "last_edit_date": 1457556641, "question_id": 35901810, "link": "https://stackoverflow.com/questions/35901810/how-to-exit-a-python-function-in-an-unfocused-window", "title": "How to exit a Python function in an unfocused window", "body": "<p>I am making an auto clicker everything is working, but I have one problem. When I start the auto clicker, I have no way to exit it because my cursor is focused on a different window. This isn't ideal because when debugging it I might input a large value and then have to wait for it to finish before I can do anything else. Is there someway I could make it so when I hit a key the script stops even if I'm not focused on the window?</p>\n\n<p>The <a href=\"https://github.com/FelixDavidson/MyPythonPrograms/blob/master/autoclicker.py\" rel=\"nofollow\">full code can be seen here</a> but the minimal example is:</p>\n\n<pre><code>def click(x, y, z):\n    for i in range(z):\n        win32api.SetCursorPos((x,y))\n        win32api.mouse_event(win32con.MOUSEEVENTF_LEFTDOWN,x,y,0,0)\n        win32api.mouse_event(win32con.MOUSEEVENTF_LEFTUP,x,y,0,0)\n        time.sleep(.03)\n\nclick(0,0,10000) #for example\n</code></pre>\n"}, {"tags": ["python", "error-handling", "folium"], "comments": [{"owner": {"reputation": 407, "user_id": 1462140, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/516f3dc5efb578728169f72c256e6ea3?s=128&d=identicon&r=PG", "display_name": "benrules2", "link": "https://stackoverflow.com/users/1462140/benrules2"}, "edited": false, "score": 1, "creation_date": 1457555419, "post_id": 35901801, "comment_id": 59464290, "body": "First of all, your raw input for level of detail is over writing the zoom_state list.   What is the output when you run?"}, {"owner": {"reputation": 327, "user_id": 6040630, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-tYddOxPua2c/AAAAAAAAAAI/AAAAAAAAFpk/huP1MDwE7Mo/photo.jpg?sz=128", "display_name": "Oli", "link": "https://stackoverflow.com/users/6040630/oli"}, "edited": false, "score": 0, "creation_date": 1457555426, "post_id": 35901801, "comment_id": 59464301, "body": "This code has a lot of problems. First, you define zoom_state and then modify it. Second, your nesting of if statements is suspect. Third, you are looping over zoom_state (for some reason) yet, you never use the response variable in the loop."}, {"owner": {"reputation": 177, "user_id": 5829122, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/10153878107463784/picture?type=large", "display_name": "Dana Scott", "link": "https://stackoverflow.com/users/5829122/dana-scott"}, "edited": false, "score": 0, "creation_date": 1457555698, "post_id": 35901801, "comment_id": 59464472, "body": "Thank you both, obviously I am new to this (first quarter). The output is that it functions with the default of 5 I believe. I will change zoom_state to response hopefully get it in working order"}, {"owner": {"reputation": 96714, "user_id": 198633, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/5b9c04999233026354268c2ee4237e04?s=128&d=identicon&r=PG", "display_name": "inspectorG4dget", "link": "https://stackoverflow.com/users/198633/inspectorg4dget"}, "edited": false, "score": 0, "creation_date": 1457557709, "post_id": 35901801, "comment_id": 59465607, "body": "Aside from the contributions of the answers, you might want to look at <a href=\"http://stackoverflow.com/q/6470428/198633\">this</a>, to tackle the error that you don&#39;t yet notice, with <code>except TypeError, IndexError</code>"}], "answers": [{"comments": [{"owner": {"reputation": 177, "user_id": 5829122, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/10153878107463784/picture?type=large", "display_name": "Dana Scott", "link": "https://stackoverflow.com/users/5829122/dana-scott"}, "edited": false, "score": 0, "creation_date": 1457555849, "post_id": 35902010, "comment_id": 59464567, "body": "This was exactly what I was looking for I really appreciate your help. Sorry for putting such a mess up here! :)"}, {"owner": {"reputation": 407, "user_id": 1462140, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/516f3dc5efb578728169f72c256e6ea3?s=128&d=identicon&r=PG", "display_name": "benrules2", "link": "https://stackoverflow.com/users/1462140/benrules2"}, "reply_to_user": {"reputation": 177, "user_id": 5829122, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/10153878107463784/picture?type=large", "display_name": "Dana Scott", "link": "https://stackoverflow.com/users/5829122/dana-scott"}, "edited": false, "score": 0, "creation_date": 1457556031, "post_id": 35902010, "comment_id": 59464676, "body": "No problem! Everyone has to learn somewhere. Can you see what I did with the zoom_level? I turned it into a dictionary, so looking up the zoom_detail keyword returns the value paired to that name. It simplifies the if statement and is fairly python-esque."}, {"owner": {"reputation": 177, "user_id": 5829122, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/10153878107463784/picture?type=large", "display_name": "Dana Scott", "link": "https://stackoverflow.com/users/5829122/dana-scott"}, "edited": false, "score": 0, "creation_date": 1457556205, "post_id": 35902010, "comment_id": 59464768, "body": "I was really excited to see that used here. It is MUCH more elegant than I every would thought to implement. Thank you again, that was very helpful!"}], "tags": [], "owner": {"reputation": 407, "user_id": 1462140, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/516f3dc5efb578728169f72c256e6ea3?s=128&d=identicon&r=PG", "display_name": "benrules2", "link": "https://stackoverflow.com/users/1462140/benrules2"}, "is_accepted": true, "score": 2, "last_activity_date": 1457555682, "creation_date": 1457555682, "answer_id": 35902010, "question_id": 35901801, "link": "https://stackoverflow.com/questions/35901801/how-to-error-handle-properly-python/35902010#35902010", "title": "How to error handle properly python", "body": "<p>You might be looking for something like this:</p>\n\n<pre><code>zoom=5\nwhile True:\n    where = raw_input('Where would you like a map of?')\n    try:\n        heatmap = folium.Map(location=geo(where), tiles='Stamen Toner', zoom_start=zoom)\n        pointmap = folium.Map(location=geo(where), tiles='Stamen Toner', zoom_start=zoom)\n    except AttributeError, GeocoderServiceError:\n        print \"Cannot create map with the given location. Please try again.\"\n    else:\n        break\nwhile True:\n    zoom_level = {'city':9, 'state':7, 'country':5, 'world':9}\n    zoom_detail = raw_input('What level of detail would you like: city, state, country, or world?')\n    try:\n         zoom = zoom_level[str(zoom_detail)]\n    except TypeError, IndexError:\n        print 'Please enter: city, state, country, or world. Try again'\n        continue\n    else:\n        break\n\nheatmap = folium.Map(location=geo(where), tiles='Stamen Toner', zoom_start=zoom)\npointmap = folium.Map(location=geo(where), tiles='Stamen Toner', zoom_start=zoom)\n</code></pre>\n"}], "owner": {"reputation": 177, "user_id": 5829122, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/10153878107463784/picture?type=large", "display_name": "Dana Scott", "link": "https://stackoverflow.com/users/5829122/dana-scott"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71, "favorite_count": 0, "accepted_answer_id": 35902010, "answer_count": 1, "score": 2, "last_activity_date": 1457555772, "creation_date": 1457554893, "last_edit_date": 1457555772, "question_id": 35901801, "link": "https://stackoverflow.com/questions/35901801/how-to-error-handle-properly-python", "title": "How to error handle properly python", "body": "<p>I know the solution is not far off here but I am struggling to implement the ability to assign a numeric value to map scale based on user input. The code is pretty self explanatory but I would like the user to pick from 4 zoom states, using the input, return a numeric value to my map as the zoom start point. </p>\n\n<pre><code>zoom=5\nwhile True:\n    where = raw_input('Where would you like a map of?')\n    try:\n        heatmap = folium.Map(location=geo(where), tiles='Stamen Toner', zoom_start=zoom)\n        pointmap = folium.Map(location=geo(where), tiles='Stamen Toner', zoom_start=zoom)\n    except AttributeError, GeocoderServiceError:\n        print \"Cannot create map with the given location. Please try again.\"\n    else:\n        break\nwhile True:\n    zoom_state = ['city', 'state', 'country', 'world']\n    zoom_state= raw_input('What level of detail would you like: city, state, country, or world?')\n    try:\n         for response in zoom_state:\n            if response is ['city']:\n                zoom == 9\n                if response is ['state']:\n                    zoom == 7\n                    if response is ['country']:\n                        zoom == 5\n                        if response is ['world']:\n                            zoom == 9 \n    except TypeError, IndexError:\n        print 'Please enter: city, state, country, or world. Try again'\n        continue\n    else:\n        break\n\nheatmap = folium.Map(location=geo(where), tiles='Stamen Toner', zoom_start=zoom)\npointmap = folium.Map(location=geo(where), tiles='Stamen Toner', zoom_start=zoom)\n</code></pre>\n\n<p>As it stands now I can put anything in for zoom_state and it will run.</p>\n\n<p>Thanks in advance!</p>\n"}, {"tags": ["python", "memory", "machine-learning", "scikit-learn", "cluster-analysis"], "comments": [{"owner": {"reputation": 11923, "user_id": 1577947, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/f343750acd1f96953260b47c705582d9?s=128&d=identicon&r=PG", "display_name": "Jarad", "link": "https://stackoverflow.com/users/1577947/jarad"}, "edited": false, "score": 1, "creation_date": 1457580417, "post_id": 35901718, "comment_id": 59474110, "body": "Don&#39;t know why someone would down this.  The question is solid and well-asked."}], "answers": [{"comments": [{"owner": {"reputation": 51, "user_id": 9961503, "user_type": "registered", "profile_image": "https://graph.facebook.com/1567573466686866/picture?type=large", "display_name": "Ketan Sahu", "link": "https://stackoverflow.com/users/9961503/ketan-sahu"}, "edited": false, "score": 0, "creation_date": 1616405217, "post_id": 35902845, "comment_id": 117981860, "body": "Does this means that we cannot use Affinity Propagation even for a dataset as small as 10000 rows or are there some fixes for this?"}], "tags": [], "owner": {"reputation": 70452, "user_id": 1060350, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/XCkw7.jpg?s=128&g=1", "display_name": "Has QUIT--Anony-Mousse", "link": "https://stackoverflow.com/users/1060350/has-quit-anony-mousse"}, "is_accepted": true, "score": 8, "last_activity_date": 1457558426, "creation_date": 1457558426, "answer_id": 35902845, "question_id": 35901718, "link": "https://stackoverflow.com/questions/35901718/sklearn-affinitypropagation-memoryerror/35902845#35902845", "title": "Sklearn AffinityPropagation MemoryError", "body": "<p>Affinity propagation needs <strong>quadratic memory</strong> to store a full distance matrix.</p>\n\n<p>So if you have 10000 samples, and double precision, you need somewhere around 800,000,000 bytes. If at some point a copy needs to be made of this matrix, you needs 1.6 GB RAM easily (not including your input data and any overhead). </p>\n\n<p>If you want to go to \"hundreds of thousands\", at at least another factor of 100, i.e. 80 to 160 GB <em>RAM</em>.</p>\n"}], "owner": {"reputation": 11923, "user_id": 1577947, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/f343750acd1f96953260b47c705582d9?s=128&d=identicon&r=PG", "display_name": "Jarad", "link": "https://stackoverflow.com/users/1577947/jarad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2998, "favorite_count": 1, "accepted_answer_id": 35902845, "answer_count": 1, "score": 8, "last_activity_date": 1457558426, "creation_date": 1457554631, "question_id": 35901718, "link": "https://stackoverflow.com/questions/35901718/sklearn-affinitypropagation-memoryerror", "title": "Sklearn AffinityPropagation MemoryError", "body": "<p>I think I already know my answer but there's a lot smarter and experienced people out there than me so I wanted to ask.</p>\n\n<p>I'm running into <code>MemoryError</code> when trying to fit my <code>hash_matrix</code> (<code>&lt;class 'scipy.sparse.csr.csr_matrix'&gt;</code>) to <code>AffinityPropagation</code>.  It's failing on just 10,000 samples which is relatively small in the scope of my actual dataset.</p>\n\n<p><strong>My problem</strong>: I like the results I'm seeing from <code>AffinityPropagation</code> on smaller datasets but it's useless unless I am able to apply it to my larger dataset.</p>\n\n<p><strong>My question</strong>: Is trying to fit AffinityPropagation on hundreds of thousands of items not likely to happen on a standard laptop?</p>\n\n<p><strong>What I've learned:</strong></p>\n\n<ol>\n<li><code>AffinityPropagation</code> <a href=\"http://scikit-learn.org/stable/modules/scaling_strategies.html#incremental-learning\" rel=\"noreferrer\">does not support</a> <code>partial_fit</code> and incremental learning.</li>\n<li><a href=\"http://scikit-learn.org/stable/modules/clustering.html#affinity-propagation\" rel=\"noreferrer\">time complexity</a> is a main drawback of <code>AffinityPropagation</code></li>\n<li><code>Affinity Propagation [is] most appropriate for small to medium sized datasets.</code></li>\n</ol>\n\n<p>The error thrown:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"C:/Users/my.name/Documents/my files/Programs/clustering_test/SOexample.py\", line 68, in &lt;module&gt;\n    aff.fit(hash_matrix)\n  File \"C:\\Python34\\lib\\site-packages\\sklearn\\cluster\\affinity_propagation_.py\", line 301, in fit\n    copy=self.copy, verbose=self.verbose, return_n_iter=True)\n  File \"C:\\Python34\\lib\\site-packages\\sklearn\\cluster\\affinity_propagation_.py\", line 105, in affinity_propagation\n    S += ((np.finfo(np.double).eps * S + np.finfo(np.double).tiny * 100) *\nMemoryError\n</code></pre>\n\n<p>Full working code example:</p>\n\n<pre><code>import pandas as pd\nimport numpy as np\n\nfrom nltk.stem import PorterStemmer\n\nfrom sklearn.feature_extraction.text import HashingVectorizer\nfrom sklearn import cluster\n\ndata = ['10 news headlines', '3 current events in the news today',\n '5 day break in new york', '7 breaking news', '7 news breaking news',\n '7 news headlines', '7 news online', '7 news today', 'america current news',\n 'america new york time', 'america news latest', 'america news online',\n 'america news paper', 'america news today', 'america recent news',\n 'american news channel', 'american news channels', 'any news today',\n 'article about new york', 'article about new york city',\n 'article in newspaper today', 'article news today', 'article today news',\n 'articles about new york', 'articles on new york', 'articles usa',\n 'best news channel', 'best news homepage', 'best newspaper websites',\n 'big news stories', 'big news stories of 2013', 'break in new york',\n 'break news today', 'break to new york', 'breaking cnn news',\n 'breaking entertainment news', 'breaking global news', 'breaking headlines',\n 'breaking international news', 'breaking international news today',\n 'breaking latest news', 'breaking nation news', 'breaking new cnn',\n 'breaking new for today', 'breaking new of today', 'breaking new today',\n 'breaking news', 'breaking news america today',\n 'breaking news and top stories', 'breaking news around the world',\n 'breaking news around the world today', 'breaking news brooklyn',\n 'breaking news cnn', 'breaking news cnn alerts', 'breaking news cnn live',\n 'world important news today', 'world latest breaking news',\n 'world latest news', 'world latest news headlines', 'world latest news today',\n 'world latest news update', 'world latest news updates', 'world new headlines',\n 'world new now', 'world new today', 'world news', 'world news articles',\n 'world news articles today', 'world news breaking',\n 'world news breaking headlines', 'world news cnn today',\n 'world news current events', 'world news events', 'world news for this week',\n 'world news for today', 'world news headline', 'world news headlines',\n 'world news headlines daily nation', 'world news headlines today live',\n 'world news highlights', 'world news latest headlines', 'world news now',\n 'world news now cnn', 'world news recent', 'world news report',\n 'world news sites', 'world news sources', 'world news stories',\n 'world news today', 'world news today 2014', 'world news today cnn',\n 'world news today headlines', 'world news today live',\n 'world news today video', 'world news update', 'world news update today',\n 'world news updates', 'world news updates today', 'world news video',\n 'world news videos', 'world news website', 'world news websites',\n 'world newspaper', 'world newspaper articles', 'world newspaper online',\n 'world recent news', 'world times news', 'world today news', 'world top news',\n 'world top news today', 'world updated news', 'world wide latest news',\n 'world wide news today', 'worlds news', 'worlds news headlines',\n 'worlds news today', 'worldwide breaking news', 'worldwide news today',\n 'www.headline news today', 'www.headlines news', 'www.news headlines today',\n 'www.news today.in', 'www.today news paper.com', 'www.todays news headlines',\n 'www.todays news headlines.com', 'www.todays news.com',\n 'www.world latest news']\n\n#data = pd.read_csv('myfile.csv')['SomeColumn'].drop_duplicates().reset_index(drop=True).to_frame()[:10000]\n#data.columns = ['Keyword']\n#data = data['Keyword'].tolist()\n\nstemmer = PorterStemmer()\n\nstemmed_data = [stemmer.stem_word(word) for word in data]\n\nhasher = HashingVectorizer(stop_words='english', ngram_range=(1,2), analyzer='word')\nhash_matrix = hasher.transform(stemmed_data)\n\naff = cluster.AffinityPropagation()\naff.fit(hash_matrix)\n\ndf = pd.DataFrame({'Keyword': data, 'Cluster': aff.labels_.tolist()})\ngrouped = df.groupby('Cluster').apply(lambda frame: frame['Keyword']).reset_index(1, drop=True).to_frame('Keyword')\n</code></pre>\n"}, {"tags": ["python", "import", "module", "pycharm"], "comments": [{"owner": {"reputation": 16773, "user_id": 5827215, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-s_pAOw1Sc-M/AAAAAAAAAAI/AAAAAAAAAMA/J-R1IMHbuY4/photo.jpg?sz=128", "display_name": "Tadhg McDonald-Jensen", "link": "https://stackoverflow.com/users/5827215/tadhg-mcdonald-jensen"}, "edited": false, "score": 0, "creation_date": 1457555046, "post_id": 35901690, "comment_id": 59464062, "body": "do you mean you wrote a module called filepickle and want to import it? in which case you need to save the module to a file not just write it in the console.  There is no way to import code that is executing in an interactive console."}, {"owner": {"reputation": 19246, "user_id": 494134, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/3XHKr.png?s=128&g=1", "display_name": "John Gordon", "link": "https://stackoverflow.com/users/494134/john-gordon"}, "edited": false, "score": 0, "creation_date": 1457555130, "post_id": 35901690, "comment_id": 59464111, "body": "What directory does <code>filepickle.py</code> live in?  Is it the the same directory where you run the Python console?"}, {"owner": {"reputation": 401, "user_id": 3798654, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/4961fd8e3101367475396ff4cbcc11f6?s=128&d=identicon&r=PG&f=1", "display_name": "user3798654", "link": "https://stackoverflow.com/users/3798654/user3798654"}, "edited": false, "score": 0, "creation_date": 1457555745, "post_id": 35901690, "comment_id": 59464506, "body": "Hello, Yes I wrote a module called filepickle and want to import it. Yes I did save it as a python file I did not just write it in the console. filepickle.py lives in a database directory that I have each module I have written for this project in. I run the Python console from within Pycharm."}, {"owner": {"reputation": 64879, "user_id": 107409, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/lGv9q.png?s=128&g=1", "display_name": "Contango", "link": "https://stackoverflow.com/users/107409/contango"}, "edited": false, "score": 0, "creation_date": 1505723931, "post_id": 35901690, "comment_id": 79512460, "body": "See answer by Contango at <a href=\"https://stackoverflow.com/questions/26193365/pycharm-does-not-recognize-modules-installed-in-development-mode/\" title=\"pycharm does not recognize modules installed in development mode\">stackoverflow.com/questions/26193365/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 401, "user_id": 3798654, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/4961fd8e3101367475396ff4cbcc11f6?s=128&d=identicon&r=PG&f=1", "display_name": "user3798654", "link": "https://stackoverflow.com/users/3798654/user3798654"}, "edited": false, "score": 0, "creation_date": 1457556610, "post_id": 35902144, "comment_id": 59464999, "body": "Hi, Thank you for your response. If I run os.getcwd() from the Pycharm Python console I get this as my current directory:"}, {"owner": {"reputation": 401, "user_id": 3798654, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/4961fd8e3101367475396ff4cbcc11f6?s=128&d=identicon&r=PG&f=1", "display_name": "user3798654", "link": "https://stackoverflow.com/users/3798654/user3798654"}, "edited": false, "score": 1, "creation_date": 1457557060, "post_id": 35902144, "comment_id": 59465256, "body": "Hi, Thank you for your response. That was it. When I created this project in PyCharm I created a directory to keep all my modules in. When I took the module out of that directory and moved it up to the Pycharm working directory the import works as expected. Thanks for your help, it is much appreciated."}], "tags": [], "owner": {"reputation": 148, "user_id": 5858078, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f9cd5a9f0db05f6b3dda58311e42aadd?s=128&d=identicon&r=PG&f=1", "display_name": "Maxim Kuleshov", "link": "https://stackoverflow.com/users/5858078/maxim-kuleshov"}, "is_accepted": true, "score": 1, "last_activity_date": 1457556086, "creation_date": 1457556086, "answer_id": 35902144, "question_id": 35901690, "link": "https://stackoverflow.com/questions/35901690/pycharm-module-import-error/35902144#35902144", "title": "PyCharm module import error", "body": "<p>I couldn't reproduce your error (PyCharm 5.0.4, OS X 10.10.5, Python 3.4.3/2.7.6). \nYou could try run this code in a console to find out the current working directory, and if it's not the same as filepickle's one, most likely it is the problem.</p>\n\n<pre><code>import os\nos.getcwd()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 64879, "user_id": 107409, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/lGv9q.png?s=128&g=1", "display_name": "Contango", "link": "https://stackoverflow.com/users/107409/contango"}, "is_accepted": false, "score": 0, "last_activity_date": 1505724954, "last_edit_date": 1505724954, "creation_date": 1505724054, "answer_id": 46274984, "question_id": 35901690, "link": "https://stackoverflow.com/questions/35901690/pycharm-module-import-error/46274984#46274984", "title": "PyCharm module import error", "body": "<p>I had exactly the same problem.</p>\n\n<p>The solution is to mark the module directory as \"Source Root\", and also configure Python to import \"Source Root\" directories. </p>\n\n<p>For screenshots on how to do this, see the answer from Contango here:</p>\n\n<blockquote>\n  <p><a href=\"https://stackoverflow.com/questions/26193365/pycharm-does-not-recognize-modules-installed-in-development-mode/\">PyCharm does not recognize modules installed in development mode</a></p>\n</blockquote>\n\n<p>IMHO, this is a bug in PyCharm: this should just work, and it shouldn't require two separate steps to get anything working.</p>\n\n<p>This issue is present in PyCharm Community Edition 2017.2.3 on Windows 10 (and probably Linux as well).</p>\n"}], "owner": {"reputation": 401, "user_id": 3798654, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/4961fd8e3101367475396ff4cbcc11f6?s=128&d=identicon&r=PG&f=1", "display_name": "user3798654", "link": "https://stackoverflow.com/users/3798654/user3798654"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2810, "favorite_count": 0, "accepted_answer_id": 35902144, "answer_count": 2, "score": 2, "last_activity_date": 1505724954, "creation_date": 1457554555, "question_id": 35901690, "link": "https://stackoverflow.com/questions/35901690/pycharm-module-import-error", "title": "PyCharm module import error", "body": "<p>I am new to PyCharm and am having difficulty importing modules that I have written into the Python console. If I try to import a module that is native to Python I can import that module without difficulty but if I try to import a module that I have written I get an ImportError: No module named 'ModuleITriedToImportName'. For instance here is a simple self written module to pickle files called \"filepickle\":</p>\n\n<pre><code>import pickle\n\ndef saveDbase(filename, object):\n    file = open(filename, 'wb')\n    #pickle.dump(object, file)       # pickle to file\n    #pickle.dump(object, open(filename, 'wb'))\n    pickle.dump(object, file)\n    file.close()                     # any file-like object will do\n\ndef loadDbase(filename):\n    file = open(filename, 'rb')\n    object = pickle.load(file)       # unpickle from file\n    file.close()                     # recreates object in memory\n    return object\n</code></pre>\n\n<p>If I try to \"import pickle\" at the PyCharm Python Console then the import works without any error. If I try to \"import filepickle\" I receive the error message:</p>\n\n<pre><code>ImportError: No module named 'filepickle'\n</code></pre>\n\n<p>The module filepickle works just fine if I run filepickle within PyCharm but I am unable to import filepickle in the Python console. If anybody knows how to get PyCharm to allow me to import modules that I have written into the PyCharm Python console I would appreciate the help.</p>\n"}, {"tags": ["python", "pycharm", "alias"], "comments": [{"owner": {"reputation": 9875, "user_id": 4190526, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f136b1cb9f010656895934c874637953?s=128&d=identicon&r=PG&f=1", "display_name": "Xiongbing Jin", "link": "https://stackoverflow.com/users/4190526/xiongbing-jin"}, "edited": false, "score": 0, "creation_date": 1457554689, "post_id": 35901598, "comment_id": 59463846, "body": "Interesting. This certainly does not happen to my installation of PyCharm Community edition. Is it a professional edition feature?"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1457557887, "post_id": 35901598, "comment_id": 59465708, "body": "Does it really work for numpy?"}, {"owner": {"reputation": 9181, "user_id": 1191087, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/62ed0908ab3b093bf75ef16093f66ded?s=128&d=identicon&r=PG", "display_name": "golmschenk", "link": "https://stackoverflow.com/users/1191087/golmschenk"}, "reply_to_user": {"reputation": 9875, "user_id": 4190526, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f136b1cb9f010656895934c874637953?s=128&d=identicon&r=PG&f=1", "display_name": "Xiongbing Jin", "link": "https://stackoverflow.com/users/4190526/xiongbing-jin"}, "edited": false, "score": 0, "creation_date": 1457571577, "post_id": 35901598, "comment_id": 59471630, "body": "@warmoverflow: If it&#39;s not working for you, probably. PyCharm Professional is free for students, so I&#39;m working with that currently. (If you might just be missing it, here is how to do it: <a href=\"https://confluence.jetbrains.com/display/PYH/Intention+actions+and+quick+fixes\" rel=\"nofollow noreferrer\">confluence.jetbrains.com/display/PYH/&hellip;</a>)"}, {"owner": {"reputation": 9181, "user_id": 1191087, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/62ed0908ab3b093bf75ef16093f66ded?s=128&d=identicon&r=PG", "display_name": "golmschenk", "link": "https://stackoverflow.com/users/1191087/golmschenk"}, "reply_to_user": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1457571634, "post_id": 35901598, "comment_id": 59471651, "body": "@PadraicCunningham: Yes, but it would seem only for the professional version based on warmoverflow&#39;s comment."}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 1, "creation_date": 1457602348, "post_id": 35901598, "comment_id": 59483882, "body": "@golmschenk I have the pro version but I only get <code>theano.xxx.np</code> and <code>sympy.xxx.np</code>, basically anything ending in .np , do you have any plugin installed that may be doing something different?"}, {"owner": {"reputation": 9181, "user_id": 1191087, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/62ed0908ab3b093bf75ef16093f66ded?s=128&d=identicon&r=PG", "display_name": "golmschenk", "link": "https://stackoverflow.com/users/1191087/golmschenk"}, "reply_to_user": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1457629776, "post_id": 35901598, "comment_id": 59504017, "body": "@PadraicCunningham: I don&#39;t have anything special that I know of. If I type np.array without having the import statement, np will be highlighted by the red scribble and a red lightbulb icon should appear when you move your cursor to that part of the code. You can then either click the red lightbulb to add the import or press alt+enter."}, {"owner": {"reputation": 5991, "user_id": 232371, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fb2a01bdde27923d196336fe006c8764?s=128&d=identicon&r=PG", "display_name": "Ben Usman", "link": "https://stackoverflow.com/users/232371/ben-usman"}, "edited": false, "score": 0, "creation_date": 1518037181, "post_id": 35901598, "comment_id": 84344611, "body": "any update on the issue?"}, {"owner": {"reputation": 9181, "user_id": 1191087, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/62ed0908ab3b093bf75ef16093f66ded?s=128&d=identicon&r=PG", "display_name": "golmschenk", "link": "https://stackoverflow.com/users/1191087/golmschenk"}, "reply_to_user": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1582216301, "post_id": 35901598, "comment_id": 106709323, "body": "@PadraicCunningham, this is very delayed, but this does work for NumPy. As of PyCharm 2019.3 Professional, if you create a project with an empty virtual environment, and create a file containing only <code>np.array([1, 2, 3])</code>, PyCharm will offer to import numpy as np. If you have another package installed which has a version of <code>np</code> in it, PyCharm no longer offers <code>import numpy as np</code> but instead offers the version in that other package (e.g., with <code>plotly</code> installed <code>plotly.figure_factory.np</code> will be offered)."}, {"owner": {"reputation": 9181, "user_id": 1191087, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/62ed0908ab3b093bf75ef16093f66ded?s=128&d=identicon&r=PG", "display_name": "golmschenk", "link": "https://stackoverflow.com/users/1191087/golmschenk"}, "edited": false, "score": 0, "creation_date": 1582297862, "post_id": 35901598, "comment_id": 106740363, "body": "This JetBrains issue is related, and worth voting on: <a href=\"https://youtrack.jetbrains.com/issue/PY-30031\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/PY-30031</a>"}], "owner": {"reputation": 9181, "user_id": 1191087, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/62ed0908ab3b093bf75ef16093f66ded?s=128&d=identicon&r=PG", "display_name": "golmschenk", "link": "https://stackoverflow.com/users/1191087/golmschenk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 744, "favorite_count": 2, "answer_count": 0, "score": 7, "last_activity_date": 1498995629, "creation_date": 1457554177, "last_edit_date": 1498995629, "question_id": 35901598, "link": "https://stackoverflow.com/questions/35901598/pycharm-defining-custom-recognized-import-aliases", "title": "PyCharm - Defining custom recognized import aliases?", "body": "<p>In PyCharm, I can type <code>np.array</code>, and if I haven't imported NumPy yet, PyCharm gives me a simple click to automatically write the import line. In particular, PyCharm knows that <code>np</code> is referring to <code>numpy</code> and will add the appropriate <code>import numpy as np</code>.</p>\n\n<p>Is there a way to define my own alias names to be recognized? For example, <code>tensorflow</code> is usually imported as <code>tf</code>. PyCharm doesn't know this by default though, and so doesn't give me the automatic import completion. Any way to do this? Thanks you much!</p>\n"}, {"tags": ["python", "pickle"], "answers": [{"comments": [{"owner": {"reputation": 2409, "user_id": 3478917, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15cfa2cb8aec4ae58c2bdfe6548efd35?s=128&d=identicon&r=PG", "display_name": "Sealander", "link": "https://stackoverflow.com/users/3478917/sealander"}, "edited": false, "score": 0, "creation_date": 1457556040, "post_id": 35902006, "comment_id": 59464680, "body": "Do you know if <code>cloudpickle</code> can be made recursive to not require its installation to unpickle? Or is the answer &#39;it needs to be installed&#39;."}, {"owner": {"reputation": 27099, "user_id": 2379433, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/197d2417f199b0b6f951ee62e627a1d8?s=128&d=identicon&r=PG", "display_name": "Mike McKerns", "link": "https://stackoverflow.com/users/2379433/mike-mckerns"}, "reply_to_user": {"reputation": 2409, "user_id": 3478917, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15cfa2cb8aec4ae58c2bdfe6548efd35?s=128&d=identicon&r=PG", "display_name": "Sealander", "link": "https://stackoverflow.com/users/3478917/sealander"}, "edited": false, "score": 0, "creation_date": 1457557067, "post_id": 35902006, "comment_id": 59465260, "body": "I&#39;m the <code>dill</code> author, so I can only speak in theory for <code>cloudpickle</code>\u2026 however, if you wanted to do this w/o forking <code>cloudpickle</code>, I think the answer it &quot;no&quot;, not easily at the very least -- you need to install <code>cloudpickle</code>.  The work-around is that you&#39;d need to register every one of the methods used by <code>cloudpickle</code> into <code>pickle</code> with <code>copyreg</code> and then also save the resulting method table (it&#39;s a dict) as a pickle that would be first opened (so it could be referenced from <code>globals</code>) before the target object is unpickled."}, {"owner": {"reputation": 27099, "user_id": 2379433, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/197d2417f199b0b6f951ee62e627a1d8?s=128&d=identicon&r=PG", "display_name": "Mike McKerns", "link": "https://stackoverflow.com/users/2379433/mike-mckerns"}, "reply_to_user": {"reputation": 2409, "user_id": 3478917, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15cfa2cb8aec4ae58c2bdfe6548efd35?s=128&d=identicon&r=PG", "display_name": "Sealander", "link": "https://stackoverflow.com/users/3478917/sealander"}, "edited": false, "score": 0, "creation_date": 1457557188, "post_id": 35902006, "comment_id": 59465322, "body": "similar to this: <a href=\"http://stackoverflow.com/questions/27351980/how-to-add-a-custom-type-to-dills-pickleable-types\" title=\"how to add a custom type to dills pickleable types\">stackoverflow.com/questions/27351980/&hellip;</a>"}], "tags": [], "owner": {"reputation": 27099, "user_id": 2379433, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/197d2417f199b0b6f951ee62e627a1d8?s=128&d=identicon&r=PG", "display_name": "Mike McKerns", "link": "https://stackoverflow.com/users/2379433/mike-mckerns"}, "is_accepted": true, "score": 1, "last_activity_date": 1457555676, "creation_date": 1457555676, "answer_id": 35902006, "question_id": 35901559, "link": "https://stackoverflow.com/questions/35901559/unpickle-a-cloudpickle-without-cloudpickle-installation/35902006#35902006", "title": "Unpickle a cloudpickle without cloudpickle installation", "body": "<p>In theory, <code>cloudpickle</code> should not need to be installed to <code>load</code> a pickled object.  In theory, what <code>cloudpickle</code> would do would be too include all functions necessary to unpickle an object within that object. However, that's in theory.</p>\n\n<p>In the method registry (e.g. with <code>copyreg</code>), a serializer would need to register the method that enables the serializer to create a new object of the required type and imbue it with the saved state.  For a serializer to not be required to be installed on load, the serializer would need to include all of the required deserialization methods within the pickled object itself (this is possible because a pickle is recursive).</p>\n\n<p><code>cloudpickle</code> assumes <code>cloudpickle</code> is installed, and therefore (to make the resulting pickled object smaller), does not include all of the required methods.  This is unlike <code>numpy</code>, as a counter-example, which the <code>dumps</code> method on the <code>numpy.array</code> does include the <code>reconstruct</code> method in the pickle (you can see this as <code>numpy.core.multiarray\\n_reconstruct</code> appears in any pickle of an <code>array</code>).</p>\n"}], "owner": {"reputation": 2409, "user_id": 3478917, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15cfa2cb8aec4ae58c2bdfe6548efd35?s=128&d=identicon&r=PG", "display_name": "Sealander", "link": "https://stackoverflow.com/users/3478917/sealander"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2265, "favorite_count": 1, "accepted_answer_id": 35902006, "answer_count": 1, "score": 2, "last_activity_date": 1457555676, "creation_date": 1457554022, "question_id": 35901559, "link": "https://stackoverflow.com/questions/35901559/unpickle-a-cloudpickle-without-cloudpickle-installation", "title": "Unpickle a cloudpickle without cloudpickle installation", "body": "<p>The default <code>pickle</code> module from the Python standard library does not allow for the serialization of functions with closures, lambdas, or functions in <code>__main__</code> (see <a href=\"https://docs.python.org/3/library/pickle.html#what-can-be-pickled-and-unpickled\" rel=\"nofollow\">here</a>). </p>\n\n<p>I need to pickle an object using some custom functions that will not be importable where they will be unpickled. There are a few other Python object serializers, including <code>dill</code> and <code>cloudpickle</code>, that are capable of doing this. </p>\n\n<p>The <code>cloudpickle</code> <a href=\"https://github.com/cloudpipe/cloudpickle\" rel=\"nofollow\">documentation</a> seems to be saying that even when you pickle using <code>cloudpickle</code>, you can unpickle using the standard <code>pickle</code> module. This is extremely attractive, because I cannot even install packages in the environment where I need to unpickle. </p>\n\n<p>Indeed, the example in the documentation does basically the following:</p>\n\n<h3>Pickle:</h3>\n\n<pre><code>&gt;&gt;&gt; import cloudpickle\n&gt;&gt;&gt; squared = lambda x: x ** 2\n&gt;&gt;&gt; pickled_lambda = cloudpickle.dump(squared, open('pickled_file', 'w'))\n</code></pre>\n\n<h3>Unpickle:</h3>\n\n<pre><code>&gt;&gt;&gt; import pickle\n&gt;&gt;&gt; new_squared = pickle.load(open('pickled_file', 'rb'))\n&gt;&gt;&gt; new_squared(2)\n</code></pre>\n\n<p>But, running that second block in an environment where <code>cloudpickle</code> is not installed, even though it is never imported, yields the error:</p>\n\n<pre><code>\"ImportError: No module named cloudpickle.cloudpickle\"\n</code></pre>\n\n<p>Probably the most easily reproducible example would be to install <code>cloudpickle</code> for Python2, run the first block, and then try to load in the pickled file with the second block using Python3 (where <code>cloudpickle</code> was not installed).</p>\n\n<p>What is going on here? Why does <code>cloudpickle</code> need to be installed to run the standard <code>pickle</code> load if it is not even called?</p>\n"}, {"tags": ["python", "profiling"], "comments": [{"owner": {"reputation": 17990, "user_id": 5827958, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/V9KEl.png?s=128&g=1", "display_name": "zondo", "link": "https://stackoverflow.com/users/5827958/zondo"}, "edited": false, "score": 0, "creation_date": 1457556289, "post_id": 35901517, "comment_id": 59464817, "body": "If the problem was solved, consider accepting your answer."}], "answers": [{"tags": [], "owner": {"reputation": 7279, "user_id": 85248, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/1e7fc3010b5ee1e1e9350ae5d47a74f9?s=128&d=identicon&r=PG", "display_name": "James Adams", "link": "https://stackoverflow.com/users/85248/james-adams"}, "is_accepted": false, "score": 3, "last_activity_date": 1457554399, "creation_date": 1457554399, "answer_id": 35901650, "question_id": 35901517, "link": "https://stackoverflow.com/questions/35901517/kernprof-py-nameerror-name-profile-is-not-defined/35901650#35901650", "title": "kernprof.py: NameError: name &#39;profile&#39; is not defined", "body": "<p>I worked this out by using the -l option, i.e. </p>\n\n<pre><code>$ kernprof.py -l my_code.py\n</code></pre>\n"}], "owner": {"reputation": 7279, "user_id": 85248, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/1e7fc3010b5ee1e1e9350ae5d47a74f9?s=128&d=identicon&r=PG", "display_name": "James Adams", "link": "https://stackoverflow.com/users/85248/james-adams"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1869, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1457554399, "creation_date": 1457553862, "question_id": 35901517, "link": "https://stackoverflow.com/questions/35901517/kernprof-py-nameerror-name-profile-is-not-defined", "title": "kernprof.py: NameError: name &#39;profile&#39; is not defined", "body": "<p>I get the following error when I run my code which has been annotated with @profile:</p>\n\n<pre><code>Wrote profile results to monthly_spi_gamma.py.prof\nTraceback (most recent call last):\n  File \"/home/james.adams/anaconda2/lib/python2.7/site-packages/kernprof.py\", line 233, in &lt;module&gt;\n    sys.exit(main(sys.argv))\n  File \"/home/james.adams/anaconda2/lib/python2.7/site-packages/kernprof.py\", line 223, in main\n    prof.runctx('execfile_(%r, globals())' % (script_file,), ns, ns)\n  File \"/home/james.adams/anaconda2/lib/python2.7/cProfile.py\", line 140, in runctx\n    exec cmd in globals, locals\n  File \"&lt;string&gt;\", line 1, in &lt;module&gt;\n  File \"monthly_spi_gamma.py\", line 1, in &lt;module&gt;\n    import indices\n  File \"indices.py\", line 14, in &lt;module&gt;\n    @profile\nNameError: name 'profile' is not defined\n</code></pre>\n\n<p>Can anyone comment as to what may solve the problem? I am using Python 2.7 (Anaconda) on Windows 7.</p>\n"}, {"tags": ["python", "django", "beautifulsoup"], "comments": [{"owner": {"reputation": 2367, "user_id": 3076091, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/CrUBz.jpg?s=128&g=1", "display_name": "dnit13", "link": "https://stackoverflow.com/users/3076091/dnit13"}, "edited": false, "score": 0, "creation_date": 1457553775, "post_id": 35901451, "comment_id": 59463357, "body": "I see class = &quot;content &quot; as unique"}, {"owner": {"reputation": 7739, "user_id": 3914207, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/hLQZd.jpg?s=128&g=1", "display_name": "rashfmnb", "link": "https://stackoverflow.com/users/3914207/rashfmnb"}, "edited": false, "score": 0, "creation_date": 1457554068, "post_id": 35901451, "comment_id": 59463528, "body": "check on this link <a href=\"http://stackoverflow.com/questions/19011613/using-beautifulsoup-to-select-div-blocks-withing-html\" title=\"using beautifulsoup to select div blocks withing html\">stackoverflow.com/questions/19011613/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "reply_to_user": {"reputation": 7739, "user_id": 3914207, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/hLQZd.jpg?s=128&g=1", "display_name": "rashfmnb", "link": "https://stackoverflow.com/users/3914207/rashfmnb"}, "edited": false, "score": 0, "creation_date": 1457554867, "post_id": 35901527, "comment_id": 59463955, "body": "@rashfmnb not exactly, updated the answer with other options."}], "tags": [], "owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "is_accepted": true, "score": 1, "last_activity_date": 1457554837, "last_edit_date": 1457554837, "creation_date": 1457553900, "answer_id": 35901527, "question_id": 35901451, "link": "https://stackoverflow.com/questions/35901451/how-to-select-data-within-multiple-div-when-no-unique-id-associated-with-it/35901527#35901527", "title": "How to select data within multiple div when no unique id associated with it", "body": "<p>You can rely on the <code>class</code> attribute:</p>\n\n<pre><code>soup.find(\"div\", class_=\"content\")\n</code></pre>\n\n<p>Or, with a CSS selector:</p>\n\n<pre><code>soup.select_one(\"div.content\")\n</code></pre>\n\n<hr>\n\n<p>If the <code>content</code> class is not something uniquely identifying the element and you know the preceding \"Interactive Elements\" label:</p>\n\n<pre><code>import re\n\nlabel = soup.find(\"div\", class_=\"title\", text=re.compile(\"Interactive Elements\"))\nprint(label.find_next_sibling(\"div\", class_=\"content\"))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 103, "user_id": 6006650, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f5fe3ca7e1edb7758fc49d3abf32497e?s=128&d=identicon&r=PG&f=1", "display_name": "Vikas Nokhwal", "link": "https://stackoverflow.com/users/6006650/vikas-nokhwal"}, "is_accepted": false, "score": 0, "last_activity_date": 1457554151, "creation_date": 1457554151, "answer_id": 35901594, "question_id": 35901451, "link": "https://stackoverflow.com/questions/35901451/how-to-select-data-within-multiple-div-when-no-unique-id-associated-with-it/35901594#35901594", "title": "How to select data within multiple div when no unique id associated with it", "body": "<p>You can achive this in various waysL</p>\n\n<pre><code>1. document.querySelector('.content').innerHTML;\n\n2. $('.content').text(); / $('.content').html();\n\n3. soup.find(\"div\", class_=\"content\")\n\n4. soup.select_one(\"div.content\")\n</code></pre>\n"}], "owner": {"reputation": 452, "user_id": 5466620, "user_type": "registered", "accept_rate": 55, "profile_image": "https://graph.facebook.com/971858202879625/picture?type=large", "display_name": "Cp Verma", "link": "https://stackoverflow.com/users/5466620/cp-verma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 1, "accepted_answer_id": 35901527, "answer_count": 2, "score": 0, "last_activity_date": 1457554837, "creation_date": 1457553586, "question_id": 35901451, "link": "https://stackoverflow.com/questions/35901451/how-to-select-data-within-multiple-div-when-no-unique-id-associated-with-it", "title": "How to select data within multiple div when no unique id associated with it", "body": "<p>i am trying to select  \"Users Interact, Digital Purchases\" for below html in beautifulsoup.but i failed so help me please.</p>\n\n<pre><code>  &lt;div class=\"details-wrapper apps-secondary-color\"&gt;\n    &lt;div class=\"details-section metadata\"&gt;\n      &lt;div class=\"details-section-heading\"&gt;\n      &lt;div class=\"details-section-contents\"&gt;\n          &lt;div class=\"meta-info\"&gt;\n          &lt;div class=\"meta-info\"&gt;\n          &lt;div class=\"meta-info\"&gt;\n          &lt;div class=\"meta-info\"&gt;\n          &lt;div class=\"meta-info\"&gt;\n          &lt;div class=\"meta-info contains-text-link\"&gt;\n          &lt;div class=\"meta-info\"&gt;\n              &lt;div class=\"title\"&gt; Interactive Elements &lt;/div&gt;\n              &lt;div class=\"content\"&gt;Users Interact, Digital Purchases&lt;/div&gt;\n          &lt;/div&gt;\n          &lt;div class=\"meta-info\"&gt;\n          &lt;div class=\"meta-info\"&gt;\n          &lt;div class=\"meta-info contains-text-link\"&gt;\n          &lt;div class=\"meta-info\"&gt;\n          &lt;div class=\"meta-info meta-info-wide\"&gt;\n          &lt;div class=\"details-sharing-section\"&gt;\n          &lt;/div&gt;\n          &lt;div class=\"details-section-divider\"&gt;&lt;/div&gt;\n       &lt;/div&gt;\n    &lt;/div&gt;\n &lt;/div&gt;\n</code></pre>\n"}, {"tags": ["python", "docker", "dockerpy"], "owner": {"reputation": 6121, "user_id": 1513388, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/a235aa59e48586dcab866c685d042874?s=128&d=identicon&r=PG", "display_name": "user1513388", "link": "https://stackoverflow.com/users/1513388/user1513388"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 287, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1457607834, "creation_date": 1457553450, "last_edit_date": 1457607834, "question_id": 35901401, "link": "https://stackoverflow.com/questions/35901401/piping-data-to-exec-create-stdin-stdout", "title": "piping data to exec_create &amp; stdin/stdout", "body": "<p>I've re-written this question to better communicate what I'm trying to achieve. </p>\n\n<p>If I use the docker CL this works perfectly for me.</p>\n\n<pre><code>echo \"hello\" | docker exec -i $3 sh -c 'cat &gt;/text.txt'\n</code></pre>\n\n<p>Now I want to use docker-py and have this so far:</p>\n\n<pre><code>ex = cli.exec_create(container='nginx-ssl', cmd='cat &gt;/text.txt')\nprint cli.exec_inspect(ex)\nls = cli.exec_start(exec_id=ex[\"Id\"], tty=True)\n</code></pre>\n\n<p>So how do I pass the \"hello\" or whatever data into the exec command so that it replicates the CL command ? </p>\n\n<p>Incidentally this also works perfectly locally: </p>\n\n<pre><code>p = Popen(('docker', 'exec', '-i', 'nginx-ssl', 'sh', '-c', 'cat &gt;text.txt'), stdin=subprocess.PIPE)\np.communicate('hello\\n')\np.stdin.close()\n</code></pre>\n"}, {"tags": ["python", "tensorflow", "deep-learning"], "comments": [{"owner": {"reputation": 53055, "user_id": 419116, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/RmTuo.jpg?s=128&g=1", "display_name": "Yaroslav Bulatov", "link": "https://stackoverflow.com/users/419116/yaroslav-bulatov"}, "edited": false, "score": 0, "creation_date": 1457558474, "post_id": 35901400, "comment_id": 59466038, "body": "That happens when your training diverges. Try using lower learning rate and/or different optimizer (AdamOptimizer)"}, {"owner": {"reputation": 648, "user_id": 5786837, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4f9568ad7a39117f3cafe450eec2ab27?s=128&d=identicon&r=PG&f=1", "display_name": "mangate", "link": "https://stackoverflow.com/users/5786837/mangate"}, "reply_to_user": {"reputation": 53055, "user_id": 419116, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/RmTuo.jpg?s=128&g=1", "display_name": "Yaroslav Bulatov", "link": "https://stackoverflow.com/users/419116/yaroslav-bulatov"}, "edited": false, "score": 0, "creation_date": 1457620458, "post_id": 35901400, "comment_id": 59497000, "body": "I tried to lower the learning rate but then it gets stuck on a local minima..."}, {"owner": {"reputation": 53055, "user_id": 419116, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/RmTuo.jpg?s=128&g=1", "display_name": "Yaroslav Bulatov", "link": "https://stackoverflow.com/users/419116/yaroslav-bulatov"}, "edited": false, "score": 0, "creation_date": 1457626977, "post_id": 35901400, "comment_id": 59502061, "body": "That&#39;s normal, learning rate too high and you diverge, learning rate too low and accuracy is bad. I&#39;d recommend using AdamOptimizer and starting with higher rate"}], "answers": [{"tags": [], "owner": {"reputation": 48633, "user_id": 832621, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/xOSw3.png?s=128&g=1", "display_name": "Saullo G. P. Castro", "link": "https://stackoverflow.com/users/832621/saullo-g-p-castro"}, "is_accepted": false, "score": 0, "last_activity_date": 1501327052, "creation_date": 1501327052, "answer_id": 45388645, "question_id": 35901400, "link": "https://stackoverflow.com/questions/35901400/relugrad-input-is-not-finite-on-multi-layer-network-in-tensorflow/45388645#45388645", "title": "ReluGrad input is not finite on multi-layer network in TensorFlow", "body": "<p>I was having the same problem when my weights were being initialized randomly and by biases with zeros. Using <a href=\"http://proceedings.mlr.press/v9/glorot10a/glorot10a.pdf\" rel=\"nofollow noreferrer\">Xavier and Yoshua</a>'s initialization solved the problem, and here is my full example:</p>\n\n<pre><code>hidden_size = 1024\nbatch_size = 256\n\ndef multilayer(x, w, b):\n    for i, (wi, bi) in enumerate(zip(w, b)):\n        if i == 0:\n            out = tf.nn.relu(tf.matmul(x, wi) + bi)\n        elif i == len(w) - 1:\n            out = tf.matmul(out, wi) + bi\n        else:\n            out = tf.nn.relu(tf.matmul(out, wi) + bi)\n    print(out.shape, x.shape)\n    return out\n\ngraph = tf.Graph()\nwith graph.as_default():\n\n    # Input data. For the training data, we use a placeholder that will be fed\n    # at run time with a training minibatch.\n    tf_train_dataset = tf.placeholder(tf.float32, shape=(batch_size, image_size * image_size))\n    tf_train_labels = tf.placeholder(tf.float32, shape=(batch_size, num_labels))\n    tf_valid_dataset = tf.constant(valid_dataset)\n    tf_test_dataset = tf.constant(test_dataset)\n\n    # Defining Xavier and Yoshua's initializer\n    initializer = tf.contrib.layers.xavier_initializer()\n\n    # Variables\n    W1 = tf.Variable(initializer([image_size * image_size, hidden_size]))\n    b1 = tf.Variable(initializer([hidden_size]))\n    W2 = tf.Variable(initializer([hidden_size, hidden_size]))\n    b2 = tf.Variable(initializer([hidden_size]))\n    W3 = tf.Variable(initializer([hidden_size, hidden_size]))\n    b3 = tf.Variable(initializer([hidden_size]))\n    W4 = tf.Variable(initializer([hidden_size, hidden_size]))\n    b4 = tf.Variable(initializer([hidden_size]))\n    W5 = tf.Variable(initializer([hidden_size, num_labels]))\n    b5 = tf.Variable(initializer([num_labels]))\n\n    Ws = [W1, W2, W3, W4, W5]\n    bs = [b1, b2, b3, b4, b5]\n\n    # Training computation\n    logits = multilayer(tf_train_dataset, Ws, bs)\n    loss = tf.reduce_mean(tf.nn.softmax_cross_entropy_with_logits(logits=logits, labels=tf_train_labels))\n    #NOTE loss is actually a scalar value that represents the effectiveness of the\n    #     current prediction. A minimized loss means that the weights and biases\n    #     are adjusted at their best for the training data.\n\n    # Optimizer\n    optimizer = tf.train.GradientDescentOptimizer(0.5).minimize(loss)\n\n    # Predictions for the training, validation, and test data.\n    train_prediction = tf.nn.softmax(logits)\n    valid_prediction = tf.nn.softmax(multilayer(tf_valid_dataset, Ws, bs))\n    test_prediction = tf.nn.softmax(multilayer(tf_test_dataset, Ws, bs))\n</code></pre>\n"}], "owner": {"reputation": 648, "user_id": 5786837, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4f9568ad7a39117f3cafe450eec2ab27?s=128&d=identicon&r=PG&f=1", "display_name": "mangate", "link": "https://stackoverflow.com/users/5786837/mangate"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 155, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1501327067, "creation_date": 1457553449, "last_edit_date": 1501327067, "question_id": 35901400, "link": "https://stackoverflow.com/questions/35901400/relugrad-input-is-not-finite-on-multi-layer-network-in-tensorflow", "title": "ReluGrad input is not finite on multi-layer network in TensorFlow", "body": "<p>I'm doing the udacity course of TensotFlow, I'm trying to train a neural network on the notMNIST set.<br>\nWhen using a 1-hidden layer network all works fine, but when I try to add another layer, after ~150 steps I get this error:</p>\n\n<pre><code>InvalidArgumentError: ReluGrad input is not finite. : Tensor had NaN values\n</code></pre>\n\n<p>This is the network model:</p>\n\n<pre><code>def model(x, w_h,w_h2,w_0,b_h,b_h2,b_0,p_drop):\nh = tf.nn.relu(tf.matmul(x,w_h)+b_h)\nh = tf.nn.dropout(h,p_drop)\nh2 = tf.nn.relu(tf.matmul(h, w_h2)+b_h2)\nh2 = tf.nn.dropout(h2,p_drop)\nreturn (tf.matmul(h2,w_0)+b_0)\n</code></pre>\n\n<p>And the error is pointing at a specific line:</p>\n\n<pre><code>h = tf.nn.relu(tf.matmul(x,w_h)+b_h)\n</code></pre>\n\n<p>I guess the with two-layer network the w_h are becoming very small so the matmul product go to zero, but I don't understand how I can solve it\nNotice that I'm using this optimizer:</p>\n\n<pre><code>net = model(tf_train_dataset,w_h,w_h2,w_0,b_h,b_h2,b_0,0.5)\nloss = tf.reduce_mean(\n       tf.nn.softmax_cross_entropy_with_logits(net, tf_train_labels))\nglobal_step = tf.Variable(0)  # count the number of steps taken.\nlearning_rate = tf.train.exponential_decay(0.5, global_step, 100, 0.95)\noptimizer = tf.train.GradientDescentOptimizer(learning_rate).minimize(loss,global_step=global_step)\n</code></pre>\n\n<p>The net is 784->1024->512->10</p>\n\n<p>Any help would be appreciated...</p>\n"}, {"tags": ["python", "python-3.x", "digital-signature", "encode", "hmac"], "comments": [{"owner": {"reputation": 269348, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "edited": false, "score": 4, "creation_date": 1457554885, "post_id": 35901396, "comment_id": 59463970, "body": "Base64 strings will be much shorter than hex, 44 vs. 64 characters in this case. If you control both sides of the transaction then either one should work."}, {"owner": {"reputation": 6711, "user_id": 1203773, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/6659ba709ce5d80404d467d428f569d9?s=128&d=identicon&r=PG", "display_name": "Eugene Naydenov", "link": "https://stackoverflow.com/users/1203773/eugene-naydenov"}, "reply_to_user": {"reputation": 269348, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "edited": false, "score": 0, "creation_date": 1457556105, "post_id": 35901396, "comment_id": 59464715, "body": "Thanks, @MarkRansom. Good point. Though I&#39;ve just measured a performance and it looks like hexdigest is faster (see an Update section in the question)."}, {"owner": {"reputation": 28120, "user_id": 492773, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4c30dea4ed3e1c2efc5e877f1f3c971?s=128&d=identicon&r=PG", "display_name": "kichik", "link": "https://stackoverflow.com/users/492773/kichik"}, "edited": false, "score": 2, "creation_date": 1457556173, "post_id": 35901396, "comment_id": 59464750, "body": "The encoding time is negligible compared to the HMAC itself."}, {"owner": {"reputation": 6711, "user_id": 1203773, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/6659ba709ce5d80404d467d428f569d9?s=128&d=identicon&r=PG", "display_name": "Eugene Naydenov", "link": "https://stackoverflow.com/users/1203773/eugene-naydenov"}, "reply_to_user": {"reputation": 28120, "user_id": 492773, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4c30dea4ed3e1c2efc5e877f1f3c971?s=128&d=identicon&r=PG", "display_name": "kichik", "link": "https://stackoverflow.com/users/492773/kichik"}, "edited": false, "score": 0, "creation_date": 1457556454, "post_id": 35901396, "comment_id": 59464899, "body": "@kichik I&#39;m totally agreed. Though it&#39;s about 30% of CPU time saving on this operation for each request on the client and on the server. :)"}, {"owner": {"reputation": 28120, "user_id": 492773, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4c30dea4ed3e1c2efc5e877f1f3c971?s=128&d=identicon&r=PG", "display_name": "kichik", "link": "https://stackoverflow.com/users/492773/kichik"}, "edited": false, "score": 0, "creation_date": 1457556637, "post_id": 35901396, "comment_id": 59465013, "body": "I seriously doubt that. It might be 30% CPU time savings just on the encoding part. Try measuring the difference between HMAC+hex and HMAC+base64 and then you&#39;ll get some real life results. Your current test only measures base64 vs hex with a static HMAC."}, {"owner": {"reputation": 6711, "user_id": 1203773, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/6659ba709ce5d80404d467d428f569d9?s=128&d=identicon&r=PG", "display_name": "Eugene Naydenov", "link": "https://stackoverflow.com/users/1203773/eugene-naydenov"}, "edited": false, "score": 0, "creation_date": 1457556838, "post_id": 35901396, "comment_id": 59465134, "body": "Sure just for encoding part. I made such measure by design. If calculate HMAC each time and then encode, then it&#39;s about 1.23 vs 1.06 (base64 vs hexdigest). Check <a href=\"https://gist.github.com/f0t0n/9a5abb1df0bea9bd2e95\" rel=\"nofollow noreferrer\">gist.github.com/f0t0n/9a5abb1df0bea9bd2e95</a>."}, {"owner": {"reputation": 28120, "user_id": 492773, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4c30dea4ed3e1c2efc5e877f1f3c971?s=128&d=identicon&r=PG", "display_name": "kichik", "link": "https://stackoverflow.com/users/492773/kichik"}, "edited": false, "score": 2, "creation_date": 1457557745, "post_id": 35901396, "comment_id": 59465626, "body": "That&#39;s 15% and on my machine I see 9%. I can&#39;t explain the big difference here. I would not expect it. Either way, that&#39;s just for the HMAC part. I wouldn&#39;t make decisions based on such a minor difference especially since you&#39;re talking about a network operation here."}, {"owner": {"reputation": 10217, "user_id": 471930, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Tds8p.png?s=128&g=1", "display_name": "Jasen", "link": "https://stackoverflow.com/users/471930/jasen"}, "edited": false, "score": 0, "creation_date": 1494988573, "post_id": 35901396, "comment_id": 75056983, "body": "yeah, network is often much more expensive than CPU"}], "answers": [{"comments": [{"owner": {"reputation": 6711, "user_id": 1203773, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/6659ba709ce5d80404d467d428f569d9?s=128&d=identicon&r=PG", "display_name": "Eugene Naydenov", "link": "https://stackoverflow.com/users/1203773/eugene-naydenov"}, "edited": false, "score": 1, "creation_date": 1457558353, "post_id": 35902688, "comment_id": 59465966, "body": "Ah, actually forgot to say about the url encoding in my question. Good point. This is one more thing that&#39;s pushing me to use hex so the client could easily sign the request in query string as well."}, {"owner": {"reputation": 6711, "user_id": 1203773, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/6659ba709ce5d80404d467d428f569d9?s=128&d=identicon&r=PG", "display_name": "Eugene Naydenov", "link": "https://stackoverflow.com/users/1203773/eugene-naydenov"}, "edited": false, "score": 1, "creation_date": 1457690719, "post_id": 35902688, "comment_id": 59530976, "body": "So I went with the hex digest and published the code to help the civilization. :) <a href=\"https://pypi.python.org/pypi/signit/0.1.0\" rel=\"nofollow noreferrer\">pypi.python.org/pypi/signit/0.1.0</a>"}], "tags": [], "owner": {"reputation": 138098, "user_id": 1695906, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/638d2ec6b52f3db1583890be23d74cc6?s=128&d=identicon&r=PG", "display_name": "Michael - sqlbot", "link": "https://stackoverflow.com/users/1695906/michael-sqlbot"}, "is_accepted": true, "score": 5, "last_activity_date": 1559595622, "last_edit_date": 1559595622, "creation_date": 1457557835, "answer_id": 35902688, "question_id": 35901396, "link": "https://stackoverflow.com/questions/35901396/should-i-use-base64-of-hmac-digest-or-just-hmac-hex-digest/35902688#35902688", "title": "Should I use Base64 of HMAC digest or just HMAC hex digest?", "body": "<p>Amazon <strong>does</strong> use the hex digest in Signature Version 4.</p>\n\n<blockquote>\n  <p><code>Authorization: AWS4-HMAC-SHA256 Credential=AKIDEXAMPLE/20150830/us-east-1/iam/aws4_request, SignedHeaders=content-type;host;x-amz-date, Signature=5d672d79c15b13162d9279b0855cfba6789a8edb4c82c400e06b5924a6f2b5d7</code></p>\n  \n  <p><a href=\"http://docs.aws.amazon.com/general/latest/gr/sigv4-add-signature-to-request.html\" rel=\"nofollow noreferrer\">http://docs.aws.amazon.com/general/latest/gr/sigv4-add-signature-to-request.html</a></p>\n</blockquote>\n\n<p>Your example is from Signature Version 2, the older algorithm, which does use Base-64 encoding for the signature (and which also is not supported in the newest AWS regions).</p>\n\n<p>So, your concern that AWS knows something you don't is misplaced, since their newer algorithm uses it.</p>\n\n<p>In the <code>Authorization:</code> header, it really doesn't make a difference other than a few extra octets.  </p>\n\n<p>Where Base-64 gets messy is when the signature is passed in the query string, because <code>+</code> and (depending on who you ask) <code>/</code> and <code>=</code> require special handling -- they need to be url-escaped (\"percent-encoded\") as <code>%2B</code>, <code>%2F</code>, and <code>%3D</code> respectively... or you have to make accommodations for the possible variations on the server... or you have to require the use of a non-standard Base-64 alphabet, where <code>+</code> <code>/</code> <code>=</code> becomes <code>-</code> <code>~</code> <code>_</code> <a href=\"http://docs.aws.amazon.com/AmazonCloudFront/latest/DeveloperGuide/private-content-creating-signed-url-canned-policy.html\" rel=\"nofollow noreferrer\">the way CloudFront does it</a>.  (This particular non-standard alphabet is only one of multiple non-standard options, all \"solving\" the same problem of magic characters in URLs with Base-64).</p>\n\n<p>Go with hex-encoding.  </p>\n\n<p>You will almost inevitably find would-be consumers of your API that find Base-64 to be \"difficult.\" </p>\n"}], "owner": {"reputation": 6711, "user_id": 1203773, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/6659ba709ce5d80404d467d428f569d9?s=128&d=identicon&r=PG", "display_name": "Eugene Naydenov", "link": "https://stackoverflow.com/users/1203773/eugene-naydenov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4990, "favorite_count": 0, "accepted_answer_id": 35902688, "answer_count": 1, "score": 2, "last_activity_date": 1559595622, "creation_date": 1457553439, "last_edit_date": 1457556287, "question_id": 35901396, "link": "https://stackoverflow.com/questions/35901396/should-i-use-base64-of-hmac-digest-or-just-hmac-hex-digest", "title": "Should I use Base64 of HMAC digest or just HMAC hex digest?", "body": "<p><strong>Legend</strong></p>\n\n<p>I expose an API which requires client to sign requests by sending two headers:</p>\n\n<pre><code>Authorization: MyCompany access_key:&lt;signature&gt;\nUnix-TimeStamp: &lt;unix utc timestamp in seconds&gt;\n</code></pre>\n\n<p>To create a signature part, the client should use a secret key issued by my API service.</p>\n\n<p>In Python (Py3k) it could look like:</p>\n\n<pre><code>import base64\nimport hmac\nfrom hashlib import sha256\nfrom datetime import datetime\n\nUTF8 = 'utf-8'\nAUTH_HEADER_PREFIX = 'MyCompany'\n\ndef create_signature(access_key, secret_key, message):\n    new_hmac = hmac.new(bytes(secret_key, UTF8), digestmod=sha256)\n    new_hmac.update(bytes(message, UTF8))\n    signature_base64 = base64.b64encode(new_hmac.digest())\n    return '{prefix} {access_key}:{signature}'.format(\n        prefix=AUTH_HEADER_PREFIX,\n        access_key=access_key,\n        signature=str(signature_base64, UTF8).strip()\n    )\n\n\nif __name__ == '__main__':\n    message = str(datetime.utcnow().timestamp())\n    signature = create_signature('my access key', 'my secret key',  message)\n    print(\n        'Request headers are',\n        'Authorization: {}'.format(signature),\n        'Unix-Timestamp: {}'.format(message),\n        sep='\\n'\n    )\n    # For message='1457369891.672671', \n    # access_key='my access key' \n    # and secret_key='my secret key' will ouput:\n    #\n    # Request headers are\n    # Authorization: MyCompany my access key:CUfIjOFtB43eSire0f5GJ2Q6N4dX3Mw0KMGVaf6plUI=\n    # Unix-Timestamp: 1457369891.672671\n</code></pre>\n\n<p>I wondered if I could avoid dealing with encoding digest of bytes to Base64 and just use <a href=\"https://docs.python.org/3/library/hmac.html#hmac.HMAC.hexdigest\" rel=\"nofollow\"><code>HMAC.hexdigest()</code></a> to retrieve a string.\nSo that my function will change to:</p>\n\n<pre><code>def create_signature(access_key, secret_key, message):\n    new_hmac = hmac.new(bytes(secret_key, UTF8), digestmod=sha256)\n    new_hmac.update(bytes(message, UTF8))\n    signature = new_hmac.hexdigest()\n    return '{prefix} {access_key}:{signature}'.format(\n        prefix=AUTH_HEADER_PREFIX,\n        access_key=access_key,\n        signature=signature\n    )\n</code></pre>\n\n<p>But then I found that <a href=\"http://docs.aws.amazon.com/AmazonS3/latest/dev/RESTAuthentication.html#ConstructingTheAuthenticationHeader\" rel=\"nofollow\">Amazon uses similar approach</a> as in my first code snippet:</p>\n\n<pre><code>Authorization = \"AWS\" + \" \" + AWSAccessKeyId + \":\" + Signature;\n\nSignature = Base64( HMAC-SHA1( YourSecretAccessKeyID, UTF-8-Encoding-Of( StringToSign ) ) );\n</code></pre>\n\n<p>Seeing that Amazon doesn't use hex digest I stopped myself to move forward with it because maybe they know something I don't.</p>\n\n<hr>\n\n<p><strong>Update</strong></p>\n\n<p>I've measured a performance and found hex digest to be faster:</p>\n\n<pre><code>import base64\nimport hmac\nimport string\nfrom hashlib import sha256\n\n\nUTF8 = 'utf-8'\nMESSAGE = '1457369891.672671'\nSECRET_KEY = 'my secret key'\nNEW_HMAC = create_hmac()\n\n\ndef create_hmac():\n    new_hmac = hmac.new(bytes(SECRET_KEY, UTF8), digestmod=sha256)\n    new_hmac.update(bytes(MESSAGE, UTF8))\n    return new_hmac\n\n\ndef base64_digest():\n    return base64.b64encode(NEW_HMAC.digest())\n\n\ndef hex_digest():\n    return NEW_HMAC.hexdigest()\n\n\n\nif __name__ == '__main__':\n    from timeit import timeit\n\n    print(timeit('base64_digest()', number=1000000,\n                  setup='from __main__ import base64_digest'))\n    print(timeit('hex_digest()', number=1000000,\n                 setup='from __main__ import hex_digest'))\n</code></pre>\n\n<p>Results with:</p>\n\n<pre><code>3.136568891000934\n2.3460130329913227\n</code></pre>\n\n<hr>\n\n<p><strong>Question #1</strong></p>\n\n<p>Does someone know why do they stick to Base64 of bytes digest and don't use just hex digest? Is there some solid reason to keep using this approach over hex digest?</p>\n\n<p><strong>Question #2</strong></p>\n\n<p>According to <a href=\"https://tools.ietf.org/html/rfc2617#section-2\" rel=\"nofollow\">RFC2716</a> the format of <code>Authorization</code> header value when using Basic Authentication\nis:</p>\n\n<pre><code>Authorization: Base64(username:password)\n</code></pre>\n\n<p>So basically you wrap with Base64 two values (user's id and password) seprated by colon.</p>\n\n<p>As you can see in my code snippet and in Amazon's documentation nor me, nor Amazon do that for own custom value of the <code>Authorization</code> header.\nWould it be a better style to wrap the whole pair as <code>Base64(access_key:signature)</code> to stick closer to this RFC or it doesn't matter at all?</p>\n"}, {"tags": ["python", "json"], "comments": [{"owner": {"reputation": 21707, "user_id": 1832539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2972ae1ab4d157c88bc94654b96d47be?s=128&d=identicon&r=PG", "display_name": "idjaw", "link": "https://stackoverflow.com/users/1832539/idjaw"}, "edited": false, "score": 1, "creation_date": 1457553401, "post_id": 35901349, "comment_id": 59463119, "body": "Try this instead of jsonprettyprint <a href=\"http://jsonlint.com/\" rel=\"nofollow noreferrer\">jsonlint.com</a>"}, {"owner": {"reputation": 9875, "user_id": 4190526, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f136b1cb9f010656895934c874637953?s=128&d=identicon&r=PG&f=1", "display_name": "Xiongbing Jin", "link": "https://stackoverflow.com/users/4190526/xiongbing-jin"}, "edited": false, "score": 2, "creation_date": 1457553443, "post_id": 35901349, "comment_id": 59463140, "body": "<code>import json</code>, <code>data = json.loads(response)</code>"}, {"owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 3, "creation_date": 1457553752, "post_id": 35901349, "comment_id": 59463343, "body": "That is not JSON, it has already been converted into Python objects. You don&#39;t need to decode it or parse it any more."}, {"owner": {"reputation": 313, "user_id": 3042850, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/82aa75b05da7904045be6a687f127400?s=128&d=identicon&r=PG&f=1", "display_name": "user3042850", "link": "https://stackoverflow.com/users/3042850/user3042850"}, "edited": false, "score": 0, "creation_date": 1457554092, "post_id": 35901349, "comment_id": 59463540, "body": "Ahh, I read somewhere that requests.get(website) outputs a JSON object though... that&#39;s why even though it looks like a python dicitonary I assumed it was JSON... The JSONlint website also converts it to soemthing that looks pretty..."}, {"owner": {"reputation": 2623, "user_id": 3697163, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/611ce881510094605af96f479d2c0472?s=128&d=identicon&r=PG&f=1", "display_name": "DaveBensonPhillips", "link": "https://stackoverflow.com/users/3697163/davebensonphillips"}, "edited": false, "score": 0, "creation_date": 1457554268, "post_id": 35901349, "comment_id": 59463630, "body": "Not sure if this is relevant but if you want it to &quot;look pretty&quot; you can always use <code>json.dumps</code> to format your python object, e.g. <code>print(json.dumps(data, indent=2))</code>"}, {"owner": {"reputation": 313, "user_id": 3042850, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/82aa75b05da7904045be6a687f127400?s=128&d=identicon&r=PG&f=1", "display_name": "user3042850", "link": "https://stackoverflow.com/users/3042850/user3042850"}, "edited": false, "score": 0, "creation_date": 1457554428, "post_id": 35901349, "comment_id": 59463721, "body": "Yeah it was the first time looking at the output and comparing it to the model, so i just wanted to see if everything looked as i expected it to, thanks for the help"}, {"owner": {"reputation": 2867, "user_id": 1076057, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/h2k2g.jpg?s=128&g=1", "display_name": "dalanmiller", "link": "https://stackoverflow.com/users/1076057/dalanmiller"}, "edited": false, "score": 0, "creation_date": 1460055046, "post_id": 35901349, "comment_id": 60578976, "body": "Hey user3042850, can you mark this question as answered? Thank you!"}], "answers": [{"comments": [{"owner": {"reputation": 313, "user_id": 3042850, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/82aa75b05da7904045be6a687f127400?s=128&d=identicon&r=PG&f=1", "display_name": "user3042850", "link": "https://stackoverflow.com/users/3042850/user3042850"}, "edited": false, "score": 0, "creation_date": 1457553535, "post_id": 35901406, "comment_id": 59463203, "body": "Yeha I should&#39;ve written this as well but I already tried:      &gt;&gt;&gt; import json     &gt;&gt;&gt; parsed_json = json.loads(data) Traceback (most recent call last):   File &quot;&lt;stdin&gt;&quot;, line 1, in &lt;module&gt;   File &quot;/System/Library/Frameworks/Python.framework/Versions/2.7/li&zwnj;&#8203;b/python2.7/json/__i&zwnj;&#8203;nit__.py&quot;, line 338, in loads     return _default_decoder.decode(s)   File &quot;/System/Library/Frameworks/Python.framework/Versions/2.7/li&zwnj;&#8203;b/python2.7/json/dec&zwnj;&#8203;oder.py&quot;, line 365, in decode     obj, end = self.raw_decode(s, idx=_w(s, 0).end()) TypeError: expected string or buffer"}, {"owner": {"reputation": 23605, "user_id": 1016216, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/xF5Ew.png?s=128&g=1", "display_name": "L3viathan", "link": "https://stackoverflow.com/users/1016216/l3viathan"}, "reply_to_user": {"reputation": 313, "user_id": 3042850, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/82aa75b05da7904045be6a687f127400?s=128&d=identicon&r=PG&f=1", "display_name": "user3042850", "link": "https://stackoverflow.com/users/3042850/user3042850"}, "edited": false, "score": 0, "creation_date": 1457553611, "post_id": 35901406, "comment_id": 59463261, "body": "@user3042850 Please edit your question to include a sample JSON object."}, {"owner": {"reputation": 726, "user_id": 5699135, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ELexL.png?s=128&g=1", "display_name": "birdoftheday", "link": "https://stackoverflow.com/users/5699135/birdoftheday"}, "reply_to_user": {"reputation": 313, "user_id": 3042850, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/82aa75b05da7904045be6a687f127400?s=128&d=identicon&r=PG&f=1", "display_name": "user3042850", "link": "https://stackoverflow.com/users/3042850/user3042850"}, "edited": false, "score": 0, "creation_date": 1457553888, "post_id": 35901406, "comment_id": 59463422, "body": "@user3042850 It looks like there&#39;s something wrong with the JSON you&#39;re putting into Python. Plug it into <a href=\"http://jsonlint.com/\" rel=\"nofollow noreferrer\">jsonlint.com</a> and post the output."}, {"owner": {"reputation": 313, "user_id": 3042850, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/82aa75b05da7904045be6a687f127400?s=128&d=identicon&r=PG&f=1", "display_name": "user3042850", "link": "https://stackoverflow.com/users/3042850/user3042850"}, "edited": false, "score": 0, "creation_date": 1457554144, "post_id": 35901406, "comment_id": 59463562, "body": "Results  Error: Parse error on line 1: [{\tu &#39;office&#39;: {\t\tu &#39;c ---^ Expecting &#39;STRING&#39;, &#39;}&#39;, got &#39;undefined&#39;  Is what it says, but otherwise it definitely looks prettier from the website"}, {"owner": {"reputation": 726, "user_id": 5699135, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ELexL.png?s=128&g=1", "display_name": "birdoftheday", "link": "https://stackoverflow.com/users/5699135/birdoftheday"}, "edited": false, "score": 0, "creation_date": 1457554748, "post_id": 35901406, "comment_id": 59463887, "body": "You already got a Python dictionary from the result. You might need to call <code>response[0]</code> since it looks like it&#39;s wrapped in a list."}], "tags": [], "owner": {"reputation": 726, "user_id": 5699135, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ELexL.png?s=128&g=1", "display_name": "birdoftheday", "link": "https://stackoverflow.com/users/5699135/birdoftheday"}, "is_accepted": true, "score": 1, "last_activity_date": 1457553714, "last_edit_date": 1457553714, "creation_date": 1457553460, "answer_id": 35901406, "question_id": 35901349, "link": "https://stackoverflow.com/questions/35901349/decoding-json-with-python/35901406#35901406", "title": "Decoding JSON with Python", "body": "<p><code>json.loads</code> should turn a JSON string into a dictionary.</p>\n\n<p>You'll need to <code>import json</code> first. See <a href=\"https://docs.python.org/2/library/json.html\" rel=\"nofollow\">https://docs.python.org/2/library/json.html</a> for more information about this.</p>\n\n<pre><code>&gt;&gt;&gt; json.loads('{ \"one\": \"two\", \"buckle\": [\"my\", \"shoe\"] }')\n{u'buckle': [u'my', u'shoe'], u'one': u'two'}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2867, "user_id": 1076057, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/h2k2g.jpg?s=128&g=1", "display_name": "dalanmiller", "link": "https://stackoverflow.com/users/1076057/dalanmiller"}, "is_accepted": false, "score": 1, "last_activity_date": 1457553509, "creation_date": 1457553509, "answer_id": 35901425, "question_id": 35901349, "link": "https://stackoverflow.com/questions/35901349/decoding-json-with-python/35901425#35901425", "title": "Decoding JSON with Python", "body": "<p>So you need to look up <code>json</code> in the Python docs.</p>\n\n<p><a href=\"https://docs.python.org/3/library/json.html\" rel=\"nofollow\">https://docs.python.org/3/library/json.html</a></p>\n\n<p>If you have a string and want to convert it into a Python dict, you use <code>json.loads(string_variable)</code>. </p>\n\n<p>To convert a Python dictionary into a string you use <code>json.dumps(dictionary)</code>.</p>\n"}], "owner": {"reputation": 313, "user_id": 3042850, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/82aa75b05da7904045be6a687f127400?s=128&d=identicon&r=PG&f=1", "display_name": "user3042850", "link": "https://stackoverflow.com/users/3042850/user3042850"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 166, "favorite_count": 0, "accepted_answer_id": 35901406, "answer_count": 2, "score": 0, "last_activity_date": 1457553884, "creation_date": 1457553303, "last_edit_date": 1457553884, "question_id": 35901349, "link": "https://stackoverflow.com/questions/35901349/decoding-json-with-python", "title": "Decoding JSON with Python", "body": "<p>I have a JSON output from a web request in Python, however I'm having a hard time transitioning this data into a Python dictionary. </p>\n\n<p>If you look at the get properties model here:\n<a href=\"https://docs.simplyrets.com/api/index.html#!/default/get_properties\" rel=\"nofollow\">https://docs.simplyrets.com/api/index.html#!/default/get_properties</a></p>\n\n<p>My aim is to decode the JSON output and put it into a dictionary. Now I'm not exactly sure how to do this. Apparently inputting the JSON output into a website like <a href=\"http://jsonprettyprint.com/\" rel=\"nofollow\">http://jsonprettyprint.com/</a> should've made it easier to read however it didn't work. The output is just a mashup of JSON code and I don't know an easy way to view this on the eyes. To see this output nicely, it could help me build the for loops, which are what I think I need.</p>\n\n<p>I think I need to create a for loop with all the relevant properties values extracted from the current property name based on the model above? Is there an easier way to do this. </p>\n\n<pre><code>[{u'office': {u'contact': None, u'brokerid': None, u'name': None, u'servingName': None}, u'listDate': u'2011-05-23T18:50:30.184Z', u'sales': {u'contractDate': None, u'closeDate': u'1996-10-21T15:15:54.171Z', u'agent': {u'lastName': u'Long', u'contact': None, u'id': u'blong', u'firstName': u'Buffy'}, u'office': {u'contact': None, u'brokerid': u'ACME12', u'name': u'Acme Brokerage', u'servingName': u'Acme Brokerage'}, u'closePrice': 17946033}, u'agent': {u'lastName': u'Phelps', u'contact': None, u'id': u'sphelps', u'firstName': u'Shoshana'}, u'leaseTerm': None, u'listingId': u'49699701', u'privateRemarks': u'This property is a trial property to test the SimplyRETS. Private agent remarks will be included in this field for use in the SimplyRETS REST API. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.', u'showingInstructions': u'The showing instructions for this trial property are brought to you by the SimplyRETS team. This field will include any showing remarks for the given listing in your RETS feed. Enjoy!', u'terms': u'Conventional', u'tax': {u'id': u'593-723-781-8056'}, u'photos': [u'https://s3-us-west-2.amazonaws.com/cdn.simplyrets.com/properties/trial/home9.jpg', u'https://s3-us-west-2.amazonaws.com/cdn.simplyrets.com/properties/trial/home-inside-9.jpg'], u'address': {u'city': u'Houston', u'full': u'74434 East Sweet Bottom Br #18393', u'streetNumber': 74434, u'country': u'United States', u'state': u'Texas', u'unit': u'18393', u'crossStreet': u'Dunne Ave', u'postalCode': u'77096', u'streetName': u'East Sweet Bottom Br'}, u'remarks': u'This property is a trial property to test the SimplyRETS. This field will include remarks or descriptions from your RETS feed intended for public view. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.', u'geo': {u'county': u'North', u'lat': 29.689418, u'lng': -95.474464, u'directions': u'From 290 exit Barker Cypress to left on Tuckerton, right on Danbury Bridge, right on Bending Post, right on Driftwood Prairie', u'marketArea': u'Spring/Klein'}, u'school': {u'highSchool': u'Cy Creek', u'district': None, u'elementarySchool': u'HAYES', u'middleSchool': u'FALCON PASS'}, u'modified': u'2015-11-14T17:57:26.262Z', u'mls': {u'status': u'Active', u'daysOnMarket': 862, u'area': u'Spring/Klein'}, u'leaseType': u'FullServ', u'property': {u'bathrooms': None, u'laundryFeatures': u'Area,Electric Dryer Hookup,Individual Room,Washer Hookup', u'lotDescription': u'Private Backyard', u'subType': None, u'additionalRooms': u'Recreation,Master Bedroom,See Remarks', u'areaSource': u'Floorplans', u'style': u'Traditional', u'flooring': None, u'area': 1043, u'exteriorFeatures': u'Back Yard Fenced, Covered Patio/Deck, Patio/Deck', u'cooling': None, u'yearBuilt': 1998, u'lotSize': u'127X146', u'type': u'RES', u'foundation': u'Slab', u'fireplaces': 1, u'occupantType': None, u'bedrooms': 2, u'interiorFeatures': u'Drapes/Curtains/Window Cover, Fire/Smoke Alarm, High Ceiling, Island Kitchen', u'accessibility': u'Manned Gate', u'occupantName': None, u'construction': u'In Kitchen,Stackable,Washer Included', u'bathsHalf': 6, u'water': None, u'subdivision': u'Waterstone Springs', u'bathsFull': 5, u'heating': u'Radiant Heat', u'roof': u'Tile', u'stories': 3, u'view': u'Golf Course'}, u'mlsId': 1005192, u'listPrice': 20714261, u'disclaimer': u'This information is believed to be accurate, but without warranty.'}]\n</code></pre>\n\n<p>Edit: Hey guys,</p>\n\n<p>Sorry but I already tried</p>\n\n<pre><code>&gt;&gt;&gt; parsed_json = json.loads(data)\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\n  File \"/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/json/__init__.py\", line 338, in loads\n    return _default_decoder.decode(s)\n  File \"/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/json/decoder.py\", line 365, in decode\nobj, end = self.raw_decode(s, idx=_w(s, 0).end())\n</code></pre>\n\n<p>TypeError: expected string or buffer</p>\n"}, {"tags": ["python", "string", "anagram"], "answers": [{"tags": [], "owner": {"reputation": 54837, "user_id": 2390182, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KKx5r.png?s=128&g=1", "display_name": "schwobaseggl", "link": "https://stackoverflow.com/users/2390182/schwobaseggl"}, "is_accepted": false, "score": 1, "last_activity_date": 1457553679, "creation_date": 1457553679, "answer_id": 35901479, "question_id": 35901307, "link": "https://stackoverflow.com/questions/35901307/python-strings-and-anagrams/35901479#35901479", "title": "Python Strings and Anagrams", "body": "<p>A simple way would be to sort the resulting list by length in descending (reversed) order and print the first element:</p>\n\n<pre><code>result = list(getAnagrams(inp))\nresult.sort(key=lambda x: len(x), reverse=True)\nprint(result[0])\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 357, "user_id": 5915157, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ebbee61ebb3c5741c0eeac38ba6a8053?s=128&d=identicon&r=PG&f=1", "display_name": "crld", "link": "https://stackoverflow.com/users/5915157/crld"}, "is_accepted": false, "score": 0, "last_activity_date": 1457553957, "creation_date": 1457553957, "answer_id": 35901541, "question_id": 35901307, "link": "https://stackoverflow.com/questions/35901307/python-strings-and-anagrams/35901541#35901541", "title": "Python Strings and Anagrams", "body": "<p>Create a dictionary with key (word) and values(len(word), then sort the dictionary and take the last value of the sort result.   </p>\n\n<pre><code>import operator\nresultDict = {i: len(i) for i in list(result)}\nsortedresult = sorted(resultDict.items(), key=operator.itemgetter(1))\nprint sortedresult[-1][0]\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 6036594, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/65ebef848f95d414653190eebb7488f9?s=128&d=identicon&r=PG&f=1", "display_name": "CBren", "link": "https://stackoverflow.com/users/6036594/cbren"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1457553957, "creation_date": 1457553135, "question_id": 35901307, "link": "https://stackoverflow.com/questions/35901307/python-strings-and-anagrams", "title": "Python Strings and Anagrams", "body": "<p>This prog takes in an input from the user such as \"aeoritre\" and outputs any word that can be made from these letters. The dictionary.txt file contains the wordlist. </p>\n\n<p>My question is how do I output just the longest word that the string matches to instead of printing all of them? also if words are tied for longest, output only one of them. Thanks in advance!</p>\n\n<pre><code>from collections import Counter\n\nwords = []\n\n\ndef isAnAnagram(word, user):\n    word_counter = Counter(word)\n    input_counter = Counter(user)\n    return all(count &lt;= input_counter[key] for key, count in word_counter.items())\n\ndef getAnagrams(user):\n    lister = [word for word in words if len(word) &lt;= len(user) ]\n    for item in lister:\n        if isAnAnagram(item, user):\n            yield item\n\n\nwith open('Dictionary.txt', 'r') as f:\n    allwords = f.readlines()\nf.close()\n\nfor x in allwords:\n    x = x.rstrip()\n    words.append(x)\ninp = 1\n\n\nwhile inp != \"99\":\n    inp = input(\"enter word:\")\n    result = getAnagrams(inp)\n    print(list(result))\n    print(len(list(result)))\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 4107, "user_id": 4379026, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce3b0fac80a2bcf2dd321bedcdbc240?s=128&d=identicon&r=PG&f=1", "display_name": "mattsap", "link": "https://stackoverflow.com/users/4379026/mattsap"}, "edited": false, "score": 2, "creation_date": 1457553353, "post_id": 35901297, "comment_id": 59463087, "body": "Can you provide an example?"}], "answers": [{"comments": [{"owner": {"reputation": 4107, "user_id": 4379026, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce3b0fac80a2bcf2dd321bedcdbc240?s=128&d=identicon&r=PG&f=1", "display_name": "mattsap", "link": "https://stackoverflow.com/users/4379026/mattsap"}, "edited": false, "score": 2, "creation_date": 1457553388, "post_id": 35901334, "comment_id": 59463108, "body": "If this is your answer, why not just do Sentence = list(range(len(Sentence)))?"}, {"owner": {"reputation": 681, "user_id": 4391671, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13dde20277e88d335edf7b8176b1f511?s=128&d=identicon&r=PG&f=1", "display_name": "Aiman Al-Eryani", "link": "https://stackoverflow.com/users/4391671/aiman-al-eryani"}, "reply_to_user": {"reputation": 4107, "user_id": 4379026, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce3b0fac80a2bcf2dd321bedcdbc240?s=128&d=identicon&r=PG&f=1", "display_name": "mattsap", "link": "https://stackoverflow.com/users/4379026/mattsap"}, "edited": false, "score": 0, "creation_date": 1457553490, "post_id": 35901334, "comment_id": 59463168, "body": "@mattsap: Because <code>range</code> returns a generator in 3.x python. Perhaps <code>list(range(len(Sentence)))</code>."}, {"owner": {"reputation": 2717, "user_id": 5641674, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/syYV6.jpg?s=128&g=1", "display_name": "Mark Skelton", "link": "https://stackoverflow.com/users/5641674/mark-skelton"}, "reply_to_user": {"reputation": 4107, "user_id": 4379026, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce3b0fac80a2bcf2dd321bedcdbc240?s=128&d=identicon&r=PG&f=1", "display_name": "mattsap", "link": "https://stackoverflow.com/users/4379026/mattsap"}, "edited": false, "score": 1, "creation_date": 1457553493, "post_id": 35901334, "comment_id": 59463171, "body": "@mattsap Because the OP wants to replace the words with the position which obviously means to be in a list."}, {"owner": {"reputation": 4107, "user_id": 4379026, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce3b0fac80a2bcf2dd321bedcdbc240?s=128&d=identicon&r=PG&f=1", "display_name": "mattsap", "link": "https://stackoverflow.com/users/4379026/mattsap"}, "edited": false, "score": 0, "creation_date": 1457553797, "post_id": 35901334, "comment_id": 59463371, "body": "Aiman, right. @MarkyPython, You are just reassigning the sentence variable. list(range(len(Sentence))) also creates a list and does the same."}, {"owner": {"reputation": 2717, "user_id": 5641674, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/syYV6.jpg?s=128&g=1", "display_name": "Mark Skelton", "link": "https://stackoverflow.com/users/5641674/mark-skelton"}, "edited": false, "score": 0, "creation_date": 1457784155, "post_id": 35901334, "comment_id": 59570081, "body": "I am using 3.4 as well, you will have to provide more information about the error so I can know what is the problem."}, {"owner": {"reputation": 2717, "user_id": 5641674, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/syYV6.jpg?s=128&g=1", "display_name": "Mark Skelton", "link": "https://stackoverflow.com/users/5641674/mark-skelton"}, "edited": false, "score": 0, "creation_date": 1457949972, "post_id": 35901334, "comment_id": 59621914, "body": "You need to print out the sentance, <code>print(Sentence)</code>"}], "tags": [], "owner": {"reputation": 2717, "user_id": 5641674, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/syYV6.jpg?s=128&g=1", "display_name": "Mark Skelton", "link": "https://stackoverflow.com/users/5641674/mark-skelton"}, "is_accepted": false, "score": -1, "last_activity_date": 1457553244, "creation_date": 1457553244, "answer_id": 35901334, "question_id": 35901297, "link": "https://stackoverflow.com/questions/35901297/replace-the-words-in-a-list-with-the-position-of-each-word/35901334#35901334", "title": "Replace the words in a list with the position of each word", "body": "<p>Just do this:</p>\n\n<pre><code>Sentence = [x for x in range(len(Sentence))]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 4107, "user_id": 4379026, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce3b0fac80a2bcf2dd321bedcdbc240?s=128&d=identicon&r=PG&f=1", "display_name": "mattsap", "link": "https://stackoverflow.com/users/4379026/mattsap"}, "reply_to_user": {"reputation": 1, "user_id": 5665044, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7716e8bfc6fdd2319f03a4d17d675de3?s=128&d=identicon&r=PG&f=1", "display_name": "ComputingIsSoStressful", "link": "https://stackoverflow.com/users/5665044/computingissostressful"}, "edited": false, "score": 0, "creation_date": 1457824220, "post_id": 35950449, "comment_id": 59583846, "body": "lambda is basically a nameless function that you can throw away after using it one time."}, {"owner": {"reputation": 4107, "user_id": 4379026, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce3b0fac80a2bcf2dd321bedcdbc240?s=128&d=identicon&r=PG&f=1", "display_name": "mattsap", "link": "https://stackoverflow.com/users/4379026/mattsap"}, "reply_to_user": {"reputation": 1, "user_id": 5665044, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7716e8bfc6fdd2319f03a4d17d675de3?s=128&d=identicon&r=PG&f=1", "display_name": "ComputingIsSoStressful", "link": "https://stackoverflow.com/users/5665044/computingissostressful"}, "edited": false, "score": 0, "creation_date": 1457962652, "post_id": 35950449, "comment_id": 59630512, "body": "I&#39;m not understanding your requirements. Could you elaborate? Are you saying you can&#39;t use str.index()?"}, {"owner": {"reputation": 4107, "user_id": 4379026, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce3b0fac80a2bcf2dd321bedcdbc240?s=128&d=identicon&r=PG&f=1", "display_name": "mattsap", "link": "https://stackoverflow.com/users/4379026/mattsap"}, "reply_to_user": {"reputation": 1, "user_id": 5665044, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7716e8bfc6fdd2319f03a4d17d675de3?s=128&d=identicon&r=PG&f=1", "display_name": "ComputingIsSoStressful", "link": "https://stackoverflow.com/users/5665044/computingissostressful"}, "edited": false, "score": 0, "creation_date": 1457975988, "post_id": 35950449, "comment_id": 59640471, "body": "What are the numbers separated by in the string?"}, {"owner": {"reputation": 4107, "user_id": 4379026, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce3b0fac80a2bcf2dd321bedcdbc240?s=128&d=identicon&r=PG&f=1", "display_name": "mattsap", "link": "https://stackoverflow.com/users/4379026/mattsap"}, "reply_to_user": {"reputation": 1, "user_id": 5665044, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7716e8bfc6fdd2319f03a4d17d675de3?s=128&d=identicon&r=PG&f=1", "display_name": "ComputingIsSoStressful", "link": "https://stackoverflow.com/users/5665044/computingissostressful"}, "edited": false, "score": 0, "creation_date": 1457976539, "post_id": 35950449, "comment_id": 59640854, "body": "I&#39;m still unsure what you want the count variable used for. The solutions provided output your requirements. What component of the solution do you need to be replaced?"}, {"owner": {"reputation": 4107, "user_id": 4379026, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce3b0fac80a2bcf2dd321bedcdbc240?s=128&d=identicon&r=PG&f=1", "display_name": "mattsap", "link": "https://stackoverflow.com/users/4379026/mattsap"}, "reply_to_user": {"reputation": 1, "user_id": 5665044, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7716e8bfc6fdd2319f03a4d17d675de3?s=128&d=identicon&r=PG&f=1", "display_name": "ComputingIsSoStressful", "link": "https://stackoverflow.com/users/5665044/computingissostressful"}, "edited": false, "score": 0, "creation_date": 1457995928, "post_id": 35950449, "comment_id": 59651817, "body": "I reimplemented the index function using the inner for loop. The for loop increments the count variable behind the scenes. I add one to accommodate the indexing starting at 0. See the updated solution."}], "tags": [], "owner": {"reputation": 4107, "user_id": 4379026, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce3b0fac80a2bcf2dd321bedcdbc240?s=128&d=identicon&r=PG&f=1", "display_name": "mattsap", "link": "https://stackoverflow.com/users/4379026/mattsap"}, "is_accepted": true, "score": 0, "last_activity_date": 1457995838, "last_edit_date": 1457995838, "creation_date": 1457732454, "answer_id": 35950449, "question_id": 35901297, "link": "https://stackoverflow.com/questions/35901297/replace-the-words-in-a-list-with-the-position-of-each-word/35950449#35950449", "title": "Replace the words in a list with the position of each word", "body": "<p>Map the string to its index using the map and index function.</p>\n\n<pre><code>Sentence = str(input(\"Type in the sentence here:\")).split(\" \")\nindexed_sentence = list(map(lambda x: Sentence.index(x), Sentence))\n</code></pre>\n\n<p>You may also do:</p>\n\n<pre><code>indexed_sentence = [Sentence.index(x) for x in Sentence]\n</code></pre>\n\n<p>or</p>\n\n<pre><code>indexed_sentence = []\nfor x in Sentence:\n    indexed_sentence.append(Sentence.index(x))\n</code></pre>\n\n<p>or</p>\n\n<pre><code>indexed_sentence = []\nfor x in Sentence:\n    for count in range(len(Sentence)):\n        if x == Sentence[count]:\n            indexed_sentence.append(count + 1)\n            break\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 5665044, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7716e8bfc6fdd2319f03a4d17d675de3?s=128&d=identicon&r=PG&f=1", "display_name": "ComputingIsSoStressful", "link": "https://stackoverflow.com/users/5665044/computingissostressful"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1723, "favorite_count": 0, "accepted_answer_id": 35950449, "answer_count": 2, "score": -4, "last_activity_date": 1457995838, "creation_date": 1457553098, "last_edit_date": 1457553444, "question_id": 35901297, "link": "https://stackoverflow.com/questions/35901297/replace-the-words-in-a-list-with-the-position-of-each-word", "title": "Replace the words in a list with the position of each word", "body": "<pre><code>Sentence = input(\"type in sentence:\").split()\n</code></pre>\n\n<p>The above stores the individual words in the input into a list. But now how do I replace each word in <code>Sentence</code> with the position of that word? </p>\n"}, {"tags": ["python", "probability", "context-free-grammar"], "owner": {"reputation": 183, "user_id": 5885099, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh4.googleusercontent.com/-o920Oedh35k/AAAAAAAAAAI/AAAAAAAAGew/ZYsJnLkuNJs/photo.jpg?sz=128", "display_name": "Kreena Mehta", "link": "https://stackoverflow.com/users/5885099/kreena-mehta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 35, "favorite_count": 0, "closed_date": 1457553479, "answer_count": 0, "score": 2, "last_activity_date": 1457553889, "creation_date": 1457553050, "last_edit_date": 1457553889, "question_id": 35901280, "link": "https://stackoverflow.com/questions/35901280/to-select-an-element-from-the-list-based-on-probability-in-python", "closed_reason": "Duplicate", "title": "To select an element from the list based on probability in Python", "body": "<p>I am writing a Python code to generate random sentences using context free grammar. </p>\n\n<p>Each non-terminal/terminal symbol has a weight associated with it.</p>\n\n<p>Currently I am using <code>random.choice()</code> to select an element from the <code>defaultdict(list)</code>. This gives me an output giving all the elements of the list an equal probability. </p>\n\n<p>How can I select an element if probability of each element is different?</p>\n\n<p>I have a context free grammar in the form of:<br/>\nWeight    NT     NT/T<br/>\n<br/>\nExample:<br/>\n70    NounPhrase    A <br/>\n30    NounPhrase    B <br/></p>\n\n<p>So probability of 1st NP to get selected would be 70/(70+30) and second would be 30/(70+30). So how can I use this concept with random in Python?   </p>\n"}, {"tags": ["python", "pandas"], "answers": [{"tags": [], "owner": {"reputation": 1220, "user_id": 2407844, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1a8b53bc75b5821b2405c09153804d6?s=128&d=identicon&r=PG", "display_name": "dmb", "link": "https://stackoverflow.com/users/2407844/dmb"}, "is_accepted": false, "score": 3, "last_activity_date": 1457554619, "creation_date": 1457554619, "answer_id": 35901713, "question_id": 35901258, "link": "https://stackoverflow.com/questions/35901258/pandas-create-dataframe-with-counts-and-frequency-of-elements/35901713#35901713", "title": "pandas - create dataframe with counts and frequency of elements", "body": "<p>I would use the agg function and tolist()</p>\n\n<pre><code>df = pd.DataFrame({'node':[1,2,3,3,3,5,5],'lang':['it','en','ar','ar','es','uz','es']})\n# Getting the unique langs / node\na = df.groupby('node')['lang'].unique().reset_index(name='langs')\n\n# Getting the frequency of lang / node\nb = df.groupby('node')['lang'].value_counts().reset_index(name='lfreq')\n</code></pre>\n\n<p>replace </p>\n\n<pre><code>c = b.groupby('node')['lfreq'].unique().reset_index(name='lfreq')\n</code></pre>\n\n<p>with</p>\n\n<pre><code>c = b.groupby('node').agg({'lfreq': lambda x: x.tolist()}).reset_index()\n\nd = pd.merge(a,c,on='node')\n</code></pre>\n\n<p>and viola:</p>\n\n<pre><code>   node     langs   lfreq\n0     1      [it]     [1]\n1     2      [en]     [1]\n2     3  [ar, es]  [2, 1]\n3     5  [uz, es]  [1, 1]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 15084, "user_id": 2699288, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/c8b883ffc677bf99f650d779af4e6946?s=128&d=identicon&r=PG", "display_name": "Fabio Lamanna", "link": "https://stackoverflow.com/users/2699288/fabio-lamanna"}, "edited": false, "score": 0, "creation_date": 1457559479, "post_id": 35902991, "comment_id": 59466633, "body": "Thanks. How about the speed compared to the other answer? I know that apply is slow for large dataframes (I have nearly 40 million rows)"}], "tags": [], "owner": {"reputation": 619481, "user_id": 2901002, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/hMDvl.jpg?s=128&g=1", "display_name": "jezrael", "link": "https://stackoverflow.com/users/2901002/jezrael"}, "is_accepted": false, "score": 2, "last_activity_date": 1457558900, "creation_date": 1457558900, "answer_id": 35902991, "question_id": 35901258, "link": "https://stackoverflow.com/questions/35901258/pandas-create-dataframe-with-counts-and-frequency-of-elements/35902991#35902991", "title": "pandas - create dataframe with counts and frequency of elements", "body": "<p>You can <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.core.groupby.GroupBy.apply.html\" rel=\"nofollow\"><code>apply</code></a> <a href=\"http://docs.scipy.org/doc/numpy-1.10.1/reference/generated/numpy.unique.html\" rel=\"nofollow\"><code>np.unique</code></a> with parameter <code>return_counts=True</code>:</p>\n\n<pre><code>df = pd.DataFrame({'node':[1,2,3,3,3,5,5],'lang':['it','en','ar','ar','es','uz','es']})\nprint df\n  lang  node\n0   it     1\n1   en     2\n2   ar     3\n3   ar     3\n4   es     3\n5   uz     5\n6   es     5\n\na = df.groupby('node')['lang'].apply(lambda x: np.unique(x, return_counts=True))\n                              .reset_index(name='tup')\n\n#split tuples\na[['langs','lfreq']] = a['tup'].apply(pd.Series)\n#filter columns\nprint a[['node','langs','lfreq']]\n   node     langs   lfreq\n0     1      [it]     [1]\n1     2      [en]     [1]\n2     3  [ar, es]  [2, 1]\n3     5  [es, uz]  [1, 1]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 15084, "user_id": 2699288, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/c8b883ffc677bf99f650d779af4e6946?s=128&d=identicon&r=PG", "display_name": "Fabio Lamanna", "link": "https://stackoverflow.com/users/2699288/fabio-lamanna"}, "edited": false, "score": 0, "creation_date": 1457603261, "post_id": 35903420, "comment_id": 59484561, "body": "Actually on a 500.000 rows dataframe, @JohnE solution is much much much faster (1.5 sec) than the one of dmb (64 sec) and jezrael (136 sec)."}], "tags": [], "owner": {"reputation": 23416, "user_id": 3877338, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/300539394aa55b738b51e6769cca9b3e?s=128&d=identicon&r=PG&f=1", "display_name": "JohnE", "link": "https://stackoverflow.com/users/3877338/johne"}, "is_accepted": true, "score": 2, "last_activity_date": 1457562500, "last_edit_date": 1457562500, "creation_date": 1457560483, "answer_id": 35903420, "question_id": 35901258, "link": "https://stackoverflow.com/questions/35901258/pandas-create-dataframe-with-counts-and-frequency-of-elements/35903420#35903420", "title": "pandas - create dataframe with counts and frequency of elements", "body": "<p>In part because you mention (in a comment) the importance of speed for having 40 million rows, I would suggest looking at something closer to the following.</p>\n\n<pre><code>df.groupby(['node','lang'])['lang'].count()\n\nnode  lang\n1     it      1\n2     en      1\n3     ar      2\n      es      1\n5     es      1\n      uz      1\n</code></pre>\n\n<p>Generally speaking you're going to be better off with a flatter structure (zen of python) and more specifically you want your pandas/numpy columns to be of simple types (ints and floats), not objects.</p>\n\n<p>On account of pandas methods like groupby, the above structure ought to more easily do things than if you store as lists, and is pretty much guaranteed to be faster, probably much faster.  I'm assuming you want to use this structure for further processing, but even if not, it will be faster to tabulate the data in this way also.</p>\n"}], "owner": {"reputation": 15084, "user_id": 2699288, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/c8b883ffc677bf99f650d779af4e6946?s=128&d=identicon&r=PG", "display_name": "Fabio Lamanna", "link": "https://stackoverflow.com/users/2699288/fabio-lamanna"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 853, "favorite_count": 0, "accepted_answer_id": 35903420, "answer_count": 3, "score": 4, "last_activity_date": 1457562500, "creation_date": 1457552950, "question_id": 35901258, "link": "https://stackoverflow.com/questions/35901258/pandas-create-dataframe-with-counts-and-frequency-of-elements", "title": "pandas - create dataframe with counts and frequency of elements", "body": "<p>Starting from the following dataframe <code>df</code>:</p>\n\n<pre><code>df = pd.DataFrame({'node':[1,2,3,3,3,5,5],'lang':['it','en','ar','ar','es','uz','es']})\n</code></pre>\n\n<p>I'm trying to build the structure:</p>\n\n<pre><code>    node     langs   lfreq\n0      1      [it]     [1]\n1      2      [en]     [1]\n2      3  [ar, es]  [2, 1]\n3      5  [uz, es]  [1, 1]\n</code></pre>\n\n<p>so basically grouping the <code>lang</code> elements and frequency per node into a single row through lists. What I've done so far:</p>\n\n<pre><code># Getting the unique langs / node\na = df.groupby('node')['lang'].unique().reset_index(name='langs')\n\n# Getting the frequency of lang / node\nb = df.groupby('node')['lang'].value_counts().reset_index(name='lfreq')\nc = b.groupby('node')['lfreq'].unique().reset_index(name='lfreq')\n</code></pre>\n\n<p>and then merge on <code>node</code>:</p>\n\n<pre><code>d = pd.merge(a,c,on='node')\n</code></pre>\n\n<p>After this operations, what I obtained is:</p>\n\n<pre><code>    node     langs   lfreq\n0      1      [it]     [1]\n1      2      [en]     [1]\n2      3  [ar, es]  [2, 1]\n3      5  [uz, es]     [1]\n</code></pre>\n\n<p>As you may notice, the last row has only one <code>[1]</code> occurrence of the frequency of the two <code>[uz, es]</code> instead of a list of <code>[1,1]</code> as expected. Is there a way to perform the analysis in a more concise way obtaining the desired output?</p>\n"}, {"tags": ["python", "linux", "opencv", "terminal", "raspberry-pi"], "answers": [{"comments": [{"owner": {"reputation": 1547, "user_id": 1070544, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/3c73e3e23b438b23607802e02a352956?s=128&d=identicon&r=PG", "display_name": "benwiz", "link": "https://stackoverflow.com/users/1070544/benwiz"}, "edited": false, "score": 0, "creation_date": 1457555199, "post_id": 35901608, "comment_id": 59464154, "body": "Do you have any idea if it&#39;s possible with another library that doesn&#39;t require a window? I know images can be displayed with tools like FBI or stream a camera in Python from PiCamera."}, {"owner": {"reputation": 44839, "user_id": 89766, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/WVViw.jpg?s=128&g=1", "display_name": "George Profenza", "link": "https://stackoverflow.com/users/89766/george-profenza"}, "reply_to_user": {"reputation": 1547, "user_id": 1070544, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/3c73e3e23b438b23607802e02a352956?s=128&d=identicon&r=PG", "display_name": "benwiz", "link": "https://stackoverflow.com/users/1070544/benwiz"}, "edited": false, "score": 0, "creation_date": 1457556795, "post_id": 35901608, "comment_id": 59465107, "body": "That&#39;s a good point actually. I&#39;m not an expert on this, but I have a hunch fbi and the PiCamera preview write straight to the video chip&#39;s buffer. If fbi has a library, or there&#39;s a similar python library capable of displaying straight to the GPU, you should try that. (In short: 1. find a library that allows you display an image via GPU in Python (without windowing). 2. convert the opencv/numpy pixel array to the image format this library expects, then pass your data to it). Be aware, this would be visible with on a screen (but not using ssh)"}], "tags": [], "owner": {"reputation": 44839, "user_id": 89766, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/WVViw.jpg?s=128&g=1", "display_name": "George Profenza", "link": "https://stackoverflow.com/users/89766/george-profenza"}, "is_accepted": false, "score": 2, "last_activity_date": 1457554236, "creation_date": 1457554236, "answer_id": 35901608, "question_id": 35901246, "link": "https://stackoverflow.com/questions/35901246/show-image-using-opencv-in-python-on-a-raspberry-pi-terminal/35901608#35901608", "title": "Show image using OpenCV in Python on a Raspberry Pi terminal", "body": "<p>You need to use a windowing system to display images using <code>imshow</code>.\n(That can be enabled in settings running <code>sudo raspi-config</code>)</p>\n\n<p>If you absolutely, positively need to display images without using a windowing system, consider providing an html/web interface. Two options that come to mind when serving a web interface are:</p>\n\n<ol>\n<li>Creating an HTTP video stream (serve the output image as if it's an IP camera, kind of)</li>\n<li>Stream the output matrix as a jpg blob via websockets</li>\n</ol>\n"}], "owner": {"reputation": 1547, "user_id": 1070544, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/3c73e3e23b438b23607802e02a352956?s=128&d=identicon&r=PG", "display_name": "benwiz", "link": "https://stackoverflow.com/users/1070544/benwiz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1432, "favorite_count": 3, "answer_count": 1, "score": 2, "last_activity_date": 1457554236, "creation_date": 1457552912, "question_id": 35901246, "link": "https://stackoverflow.com/questions/35901246/show-image-using-opencv-in-python-on-a-raspberry-pi-terminal", "title": "Show image using OpenCV in Python on a Raspberry Pi terminal", "body": "<p>I get a gtk-WARNING when trying:</p>\n\n<p>cv2.imshow(\"WindowName\", image)</p>\n\n<p>I'm using this to watch a live stream one frame at a time. Are there any alternative libraries I could use? I tried several other options like PIL and Tkinter as well as wand, but could get none of them to work for various different reason.</p>\n"}, {"tags": ["python", "exception-handling", "pycharm", "importerror"], "comments": [{"owner": {"reputation": 610, "user_id": 147126, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/10b9c58599ec50d176fa2ce8c2d8bd88?s=128&d=identicon&r=PG", "display_name": "Tanner", "link": "https://stackoverflow.com/users/147126/tanner"}, "edited": false, "score": 0, "creation_date": 1457553009, "post_id": 35901210, "comment_id": 59462902, "body": "This might be helpful: <a href=\"http://stackoverflow.com/questions/14050281/how-to-check-if-a-python-module-exists-without-importing-it\" title=\"how to check if a python module exists without importing it\">stackoverflow.com/questions/14050281/&hellip;</a> and this: <a href=\"http://stackoverflow.com/questions/5847934/how-to-check-if-python-module-exists-and-can-be-imported?lq=1\" title=\"how to check if python module exists and can be imported\">stackoverflow.com/questions/5847934/&hellip;</a>"}, {"owner": {"reputation": 12239, "user_id": 548894, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/887961087d8396bee614fc2b78a957d2?s=128&d=identicon&r=PG", "display_name": "MajesticRa", "link": "https://stackoverflow.com/users/548894/majesticra"}, "reply_to_user": {"reputation": 610, "user_id": 147126, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/10b9c58599ec50d176fa2ce8c2d8bd88?s=128&d=identicon&r=PG", "display_name": "Tanner", "link": "https://stackoverflow.com/users/147126/tanner"}, "edited": false, "score": 0, "creation_date": 1457553418, "post_id": 35901210, "comment_id": 59463129, "body": "Thank you! The questions you gave are close to the topic. Yet, I ask about slightly different context."}, {"owner": {"reputation": 116557, "user_id": 918959, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/b9051b2917c3d55d55b3d7042fa49f6c?s=128&d=identicon&r=PG", "display_name": "Antti Haapala", "link": "https://stackoverflow.com/users/918959/antti-haapala"}, "edited": false, "score": 0, "creation_date": 1457553782, "post_id": 35901210, "comment_id": 59463365, "body": "So just set MySQLdb to None to silence warnings"}, {"owner": {"reputation": 386, "user_id": 6043614, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/10209334043815215/picture?type=large", "display_name": "Vaid&#248;tas I.", "link": "https://stackoverflow.com/users/6043614/vaid%c3%b8tas-i"}, "edited": false, "score": 0, "creation_date": 1585064883, "post_id": 35901210, "comment_id": 107631928, "body": "Thanks for the &quot;except ImportError as alias:&quot; This answered a really confusing area. :)"}], "answers": [{"tags": [], "owner": {"reputation": 116557, "user_id": 918959, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/b9051b2917c3d55d55b3d7042fa49f6c?s=128&d=identicon&r=PG", "display_name": "Antti Haapala", "link": "https://stackoverflow.com/users/918959/antti-haapala"}, "is_accepted": false, "score": 4, "last_activity_date": 1457553263, "creation_date": 1457553263, "answer_id": 35901338, "question_id": 35901210, "link": "https://stackoverflow.com/questions/35901210/checking-module-name-inside-except-importerror/35901338#35901338", "title": "Checking module name inside &#39;except ImportError&#39;", "body": "<p>In Python 3.3+, an <a href=\"https://docs.python.org/3/library/exceptions.html#ImportError\" rel=\"nofollow\"><code>ImportError</code></a> has the attribute <code>name</code> that tells the name of the module whose import failed. Then of course MySQLdb would hint that you're stuck with Python 2.</p>\n"}, {"comments": [{"owner": {"reputation": 12239, "user_id": 548894, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/887961087d8396bee614fc2b78a957d2?s=128&d=identicon&r=PG", "display_name": "MajesticRa", "link": "https://stackoverflow.com/users/548894/majesticra"}, "edited": false, "score": 0, "creation_date": 1457553696, "post_id": 35901372, "comment_id": 59463306, "body": "Probably you are right... In my context I just didn&#39;t thought the problem is in naming error, because what I actually do in fallback is <code>... connection_string.replace(&quot;mysql:&#47;&#47;&quot;, &quot;mysql+mysqlconnector:&#47;&#47;&quot;)</code> so my mind was too far away from the naming error."}, {"owner": {"reputation": 16773, "user_id": 5827215, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-s_pAOw1Sc-M/AAAAAAAAAAI/AAAAAAAAAMA/J-R1IMHbuY4/photo.jpg?sz=128", "display_name": "Tadhg McDonald-Jensen", "link": "https://stackoverflow.com/users/5827215/tadhg-mcdonald-jensen"}, "reply_to_user": {"reputation": 12239, "user_id": 548894, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/887961087d8396bee614fc2b78a957d2?s=128&d=identicon&r=PG", "display_name": "MajesticRa", "link": "https://stackoverflow.com/users/548894/majesticra"}, "edited": false, "score": 0, "creation_date": 1457554706, "post_id": 35901372, "comment_id": 59463856, "body": "if you don&#39;t use the module later then delete it from the name space to indicate to pycharm (and yourself so you don&#39;t run into a NameError) that it was only intended to be used for the one part"}, {"owner": {"reputation": 2472, "user_id": 603819, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/zYtBs.png?s=128&g=1", "display_name": "Bobort", "link": "https://stackoverflow.com/users/603819/bobort"}, "edited": false, "score": 1, "creation_date": 1477585421, "post_id": 35901372, "comment_id": 67837603, "body": "In a couple of my functions with such features, if I cannot import the library, I simply <code>return</code>.  I would like to think that this acceptable behavior as well."}], "tags": [], "owner": {"reputation": 16773, "user_id": 5827215, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-s_pAOw1Sc-M/AAAAAAAAAAI/AAAAAAAAAMA/J-R1IMHbuY4/photo.jpg?sz=128", "display_name": "Tadhg McDonald-Jensen", "link": "https://stackoverflow.com/users/5827215/tadhg-mcdonald-jensen"}, "is_accepted": true, "score": 21, "last_activity_date": 1611422745, "last_edit_date": 1611422745, "creation_date": 1457553380, "answer_id": 35901372, "question_id": 35901210, "link": "https://stackoverflow.com/questions/35901210/checking-module-name-inside-except-importerror/35901372#35901372", "title": "Checking module name inside &#39;except ImportError&#39;", "body": "<p>I think you misunderstood the warning, if you do not define a variable called <code>MySQLdb</code> in the except block then later on when you try to use the module you would get a <code>NameError</code>:</p>\n<pre><code>try:\n    import foo\nexcept ImportError:\n    pass\n\nfoo.say_foo() #foo may or may not be defined at this point!\n</code></pre>\n<p>If the module is only used in the <code>try:</code> clause then this is no issue. But for the more general case the checker expects you to define the variable in the except block:</p>\n<pre><code>try:\n    import foo\nexcept ImportError:\n    foo = None  #now foo always exists\n\nif foo: #if the module is present\n    foo.say_foo()\nelse:\n    print(&quot;foo&quot;) #backup use\n</code></pre>\n<p>If the module is only used in the try block then you can indicate to the checker (and yourself) that you can't use the module later by deleting it from the namespace:</p>\n<pre><code>try:\n    import foo\nexcept ImportError:\n    pass\nelse:\n    # if it was able to import use it then get rid of the local variable\n    foo.do_thing()\n    del foo #optional module should not be relied on outside \n \n\n# now foo never exists here, checker is happy.\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 12239, "user_id": 548894, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/887961087d8396bee614fc2b78a957d2?s=128&d=identicon&r=PG", "display_name": "MajesticRa", "link": "https://stackoverflow.com/users/548894/majesticra"}, "edited": false, "score": 0, "creation_date": 1542391607, "post_id": 53335371, "comment_id": 93565222, "body": "What will happen when error message is changed with python version? (That happened before). And... Thank you for investing your time in this answer, but this answer is not for this question."}], "tags": [], "owner": {"reputation": 21, "user_id": 10656724, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d9f36d274e5c07f42f77fa346e2a897?s=128&d=identicon&r=PG&f=1", "display_name": "Oseid", "link": "https://stackoverflow.com/users/10656724/oseid"}, "is_accepted": false, "score": -1, "last_activity_date": 1542363260, "last_edit_date": 1542363260, "creation_date": 1542362228, "answer_id": 53335371, "question_id": 35901210, "link": "https://stackoverflow.com/questions/35901210/checking-module-name-inside-except-importerror/53335371#53335371", "title": "Checking module name inside &#39;except ImportError&#39;", "body": "<p>Try this:</p>\n\n<pre><code>try:\n  import libname\nexcept ImportError as e:\n       e = e[0][16:]\n       print(\"\\n[!] Error: Please Install Module Name:[ {} ] And Try Again !!!\".format(e))\n       exit(1)\n</code></pre>\n\n<p>Output:</p>\n\n<blockquote>\n  <p>[!] Error: Please Install Module Name:[ libname ] And Try Again !!!</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 1414, "user_id": 7314180, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OZkLQ.png?s=128&g=1", "display_name": "YenForYang", "link": "https://stackoverflow.com/users/7314180/yenforyang"}, "is_accepted": false, "score": 3, "last_activity_date": 1559457048, "last_edit_date": 1559457048, "creation_date": 1559456094, "answer_id": 56412629, "question_id": 35901210, "link": "https://stackoverflow.com/questions/35901210/checking-module-name-inside-except-importerror/56412629#56412629", "title": "Checking module name inside &#39;except ImportError&#39;", "body": "<p>One method of getting the name, already mentioned is using the <code>name</code> attribute:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>try:\n    import pty\nexcept ImportError as e:\n    print(e.name)\n</code></pre>\n\n<p>However, it is important to note that you <em>might</em> not get the module name you started with; namely, running the above on Windows gives you <code>termios</code> as the output, not <code>pty</code>.</p>\n\n<p>To maintain compatibility with python 2.7 (for those who haven't made the switch, you're on the <a href=\"https://pythonclock.org\" rel=\"nofollow noreferrer\">clock</a>)</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>try:\n    import pty\nexcept ImportError as e:\n    print(e.args[0].rsplit(' ',1)[-1])  # `msg` attribute is `message` on python2...stick with args\n\n# prints the same result: termios\n</code></pre>\n\n<p><hr/>\nSome bonus tidbits:</p>\n\n<ul>\n<li><p>Python 3.6 was released around the end of 2016. Since it's 2019+, you can opt for the clearer exception <code>ModuleNotFoundError</code>:</p>\n\n<blockquote>\n  <p>A subclass of ImportError which is raised by import when a module could not be located. It is also raised when None is found in sys.modules.</p>\n</blockquote></li>\n<li><p>If you are using Python 3.3+, don't forget about the <code>path</code> attribute (in addition to the <code>name</code> already mentioned), which gives the path to any file that raised the exception (only useful in more complex cases -- in simple examples like the one I gave <code>path</code> will return <code>None</code>.)</p></li>\n</ul>\n"}], "owner": {"reputation": 12239, "user_id": 548894, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/887961087d8396bee614fc2b78a957d2?s=128&d=identicon&r=PG", "display_name": "MajesticRa", "link": "https://stackoverflow.com/users/548894/majesticra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6702, "favorite_count": 1, "accepted_answer_id": 35901372, "answer_count": 4, "score": 19, "last_activity_date": 1611422745, "creation_date": 1457552790, "last_edit_date": 1592644375, "question_id": 35901210, "link": "https://stackoverflow.com/questions/35901210/checking-module-name-inside-except-importerror", "title": "Checking module name inside &#39;except ImportError&#39;", "body": "<pre><code>try:\n   import MySQLdb\n   # some action\nexcept ImportError as err:\n   # fallback code\n</code></pre>\n<p>PyCharm gives a code inspection warning on that:</p>\n<blockquote>\n<p>'MySQLdb' in try block with 'except ImportError' should also be defined in except block</p>\n<p>This inspection detects names that should resolve but don't. Due to dynamic dispatch and duck typing, this is possible in a limited but useful number of cases. Top-level and class-level items are supported better than instance items.</p>\n</blockquote>\n<p>Ok, I thought the warning is reasonable, because the <code>fallback code</code> assumes that 'MySQLdb' is not installed, while it could be some different error that just raised ImportError. So I used something like:</p>\n<pre><code>try:\n   import MySQLdb\n   # some action\nexcept ImportError as err:\n   if &quot;MySQLdb&quot; in repr(err):\n       # fallback code\n   else:\n       raise\n</code></pre>\n<p>The PyCharm alert is still exists, but It could be just a PyCharm issue (google shows issues with such inspections)</p>\n<p><em><strong>Questions:</strong></em></p>\n<ol>\n<li><p>Is it really worth checking for name when you &quot;except ImportError&quot;? Even in simple cases (no <code>some action</code> after <code>import MySQLdb</code>)?</p>\n</li>\n<li><p>If it worth checking, Is the above example the right way to do it? If no - what is the right way?</p>\n</li>\n</ol>\n<p><strong>P.S.</strong> MySQLdb is just an example of a module that could be absent in the system.</p>\n"}, {"tags": ["python", "sublimetext3", "sublime-text-plugin"], "comments": [{"owner": {"reputation": 931, "user_id": 2751621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QOZRK.jpg?s=128&g=1", "display_name": "emartinelli", "link": "https://stackoverflow.com/users/2751621/emartinelli"}, "edited": false, "score": 0, "creation_date": 1457554048, "post_id": 35901144, "comment_id": 59463520, "body": "Are you referring to the variables of Build Systems of Sublime Text like <a href=\"http://docs.sublimetext.info/en/latest/reference/build_systems/configuration.html?highlight=variables#build-system-variables\" rel=\"nofollow noreferrer\">these</a>, but custom ones?"}, {"owner": {"reputation": 93, "user_id": 6033608, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/513dd2e7e3af00239565232749061975?s=128&d=identicon&r=PG&f=1", "display_name": "user6033608", "link": "https://stackoverflow.com/users/6033608/user6033608"}, "reply_to_user": {"reputation": 931, "user_id": 2751621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QOZRK.jpg?s=128&g=1", "display_name": "emartinelli", "link": "https://stackoverflow.com/users/2751621/emartinelli"}, "edited": false, "score": 0, "creation_date": 1457554285, "post_id": 35901144, "comment_id": 59463640, "body": "No custom variables that would be used in Build Systems."}, {"owner": {"reputation": 4007, "user_id": 5963435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85709dccdd74c3f2fbb618a3c12d4e32?s=128&d=identicon&r=PG&f=1", "display_name": "r-stein", "link": "https://stackoverflow.com/users/5963435/r-stein"}, "edited": false, "score": 2, "creation_date": 1457603462, "post_id": 35901144, "comment_id": 59484716, "body": "You could take a look a <a href=\"http://docs.sublimetext.info/en/latest/reference/build_systems/configuration.html#variants\" rel=\"nofollow noreferrer\">variants</a>. This is not exactly what you requested, but you could create a variant for <code>Debug - Win32</code>, <code>Release - Win64</code>, .... Alternatively you could create your own command and write it as <code>target</code> in the sublime-build file."}, {"owner": {"reputation": 93, "user_id": 6033608, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/513dd2e7e3af00239565232749061975?s=128&d=identicon&r=PG&f=1", "display_name": "user6033608", "link": "https://stackoverflow.com/users/6033608/user6033608"}, "edited": false, "score": 0, "creation_date": 1457603671, "post_id": 35901144, "comment_id": 59484863, "body": "As target? How would that work?"}, {"owner": {"reputation": 4007, "user_id": 5963435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85709dccdd74c3f2fbb618a3c12d4e32?s=128&d=identicon&r=PG&f=1", "display_name": "r-stein", "link": "https://stackoverflow.com/users/5963435/r-stein"}, "edited": false, "score": 1, "creation_date": 1457716441, "post_id": 35901144, "comment_id": 59548801, "body": "@user6033608 Instead of using <code>cmd</code> or <code>shell_cmd</code> you write a <a href=\"https://www.sublimetext.com/docs/3/api_reference.html#sublime_plugin.WindowCommand\" rel=\"nofollow noreferrer\">WindowCommand</a> as plugin and use the name as <code>target</code>. In this plugin you can write arbitrary python code and access the sublime settings. At the end you would call something like <code>subprocess.Popen([&quot;gcc&quot;, custom_variable, view.file_name()])</code>. How would you want to set the custom variables? E.g. Project properties, view properties, comments in the view, ..."}], "owner": {"reputation": 93, "user_id": 6033608, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/513dd2e7e3af00239565232749061975?s=128&d=identicon&r=PG&f=1", "display_name": "user6033608", "link": "https://stackoverflow.com/users/6033608/user6033608"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 570, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1457554381, "creation_date": 1457552570, "last_edit_date": 1457554381, "question_id": 35901144, "link": "https://stackoverflow.com/questions/35901144/how-to-store-retrieve-global-variables-in-sublime-text-3", "title": "How to store/retrieve global variables in Sublime Text 3?", "body": "<p>How can I store global variables and retireve them with Sublime Text. I would like to use them for a build configuration. These variables would contain information such as (Debug, Release; Win32, Win64)</p>\n\n<pre><code>     {\n         \"shell_cmd\": \"gcc ${custom_variable}\"\n         \"name\": \"Build\",\n     }\n</code></pre>\n"}, {"tags": ["python", "tkinter", "label", "code-reuse"], "comments": [{"owner": {"reputation": 5314, "user_id": 5270581, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/leDO2.jpg?s=128&g=1", "display_name": "Laurent H.", "link": "https://stackoverflow.com/users/5270581/laurent-h"}, "edited": false, "score": 0, "creation_date": 1457553219, "post_id": 35901099, "comment_id": 59463024, "body": "You can not place the same widget at different locations at the same time... If you don&#39;t want to give a new name, can&#39;t you use Label(frame).grid(row=3) ?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4171906"}, "edited": false, "score": 1, "creation_date": 1457556361, "post_id": 35901099, "comment_id": 59464843, "body": "You can also use rowconfigure to get an empty row to show --&gt; main.rowconfigure(0, weight=1, minsize=50)  <a href=\"http://tkinter.unpythonic.net/pydoc/Tkinter.Grid.html\" rel=\"nofollow noreferrer\">tkinter.unpythonic.net/pydoc/Tkinter.Grid.html</a>"}], "answers": [{"tags": [], "owner": {"reputation": 16773, "user_id": 5827215, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-s_pAOw1Sc-M/AAAAAAAAAAI/AAAAAAAAAMA/J-R1IMHbuY4/photo.jpg?sz=128", "display_name": "Tadhg McDonald-Jensen", "link": "https://stackoverflow.com/users/5827215/tadhg-mcdonald-jensen"}, "is_accepted": true, "score": 4, "last_activity_date": 1457555925, "creation_date": 1457555925, "answer_id": 35902087, "question_id": 35901099, "link": "https://stackoverflow.com/questions/35901099/python-tkinter-same-label-called-multiple-times/35902087#35902087", "title": "Python tkinter same Label called multiple times", "body": "<p>short answer: no you can't display a widget in multiple places/ create several empty labels without calling <code>Label(frame)</code> for each one.</p>\n\n<p>if creating an empty label is something you do often you can make a short function to do it:</p>\n\n<pre><code>def fill_empty(parent,row,column):\n    empty = Label(parent)\n    empty.grid(row=row,column=column)\n    return empty\n</code></pre>\n\n<p>but I'd highly recommend using padding instead of dummy widgets to space things out, see <a href=\"http://infohost.nmt.edu/tcc/help/pubs/tkinter/web/grid.html\" rel=\"nofollow\">this documentation</a> for details.</p>\n"}, {"tags": [], "owner": {"reputation": 624, "user_id": 8502312, "user_type": "registered", "profile_image": "https://graph.facebook.com/486933404998673/picture?type=large", "display_name": "Stas Buzuluk", "link": "https://stackoverflow.com/users/8502312/stas-buzuluk"}, "is_accepted": false, "score": 1, "last_activity_date": 1576614477, "creation_date": 1576614477, "answer_id": 59381645, "question_id": 35901099, "link": "https://stackoverflow.com/questions/35901099/python-tkinter-same-label-called-multiple-times/59381645#59381645", "title": "Python tkinter same Label called multiple times", "body": "<p>You may define your element as a function which returns element. It'll create a new object each time you call it:</p>\n\n<pre><code>emptyRow = lambda:Label(frame)\n\nemptyRow().grid(row=0)\nemptyRow().grid(row=3)\n</code></pre>\n"}], "owner": {"reputation": 451, "user_id": 2696732, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/94b41cb1a813e744993892017078f4c9?s=128&d=identicon&r=PG&f=1", "display_name": "Night5talker", "link": "https://stackoverflow.com/users/2696732/night5talker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1945, "favorite_count": 0, "accepted_answer_id": 35902087, "answer_count": 2, "score": 3, "last_activity_date": 1576614477, "creation_date": 1457552453, "question_id": 35901099, "link": "https://stackoverflow.com/questions/35901099/python-tkinter-same-label-called-multiple-times", "title": "Python tkinter same Label called multiple times", "body": "<p>is there any way to use same label multiple times?\nwhat I have is:</p>\n\n<pre><code>emptyRow = Label(frame)\n</code></pre>\n\n<p>and when I want use that empty row I call it like this:</p>\n\n<pre><code>emptyRow.grid(row=0)\nemptyRow.grid(row=3)\n</code></pre>\n\n<p>i can only have latest call on that grid so row=0 will be ignored and row=3 will be used, any way to reuse it so I dont have to create another <code>emptyRow3 = Label(frame)</code> ?</p>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "edited": false, "score": 0, "creation_date": 1457552558, "post_id": 35901038, "comment_id": 59462611, "body": "If the columns are not the same then the df will expand column-wise as well as row-wise"}, {"owner": {"reputation": 5355, "user_id": 5211377, "user_type": "registered", "accept_rate": 84, "profile_image": "https://graph.facebook.com/1160593642/picture?type=large", "display_name": "Michael Perdue", "link": "https://stackoverflow.com/users/5211377/michael-perdue"}, "reply_to_user": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "edited": false, "score": 0, "creation_date": 1457552697, "post_id": 35901038, "comment_id": 59462688, "body": "The columns aren&#39;t labeled. Should I use a names= in the read_csv command?"}, {"owner": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "edited": false, "score": 1, "creation_date": 1457552759, "post_id": 35901038, "comment_id": 59462734, "body": "You mean there is no header row, if so pass header=None"}, {"owner": {"reputation": 5355, "user_id": 5211377, "user_type": "registered", "accept_rate": 84, "profile_image": "https://graph.facebook.com/1160593642/picture?type=large", "display_name": "Michael Perdue", "link": "https://stackoverflow.com/users/5211377/michael-perdue"}, "reply_to_user": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "edited": false, "score": 0, "creation_date": 1457552965, "post_id": 35901038, "comment_id": 59462868, "body": "It worked, but now I only have 5 rows and there should be over a million. I want the files to concatenate by row."}, {"owner": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "edited": false, "score": 0, "creation_date": 1457553036, "post_id": 35901038, "comment_id": 59462914, "body": "Try passing ignore_index =True"}, {"owner": {"reputation": 5355, "user_id": 5211377, "user_type": "registered", "accept_rate": 84, "profile_image": "https://graph.facebook.com/1160593642/picture?type=large", "display_name": "Michael Perdue", "link": "https://stackoverflow.com/users/5211377/michael-perdue"}, "reply_to_user": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "edited": false, "score": 0, "creation_date": 1457553431, "post_id": 35901038, "comment_id": 59463136, "body": "Thanks; ignore_index=True was giving an error so I used index_col=None and it is working!"}, {"owner": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "edited": false, "score": 2, "creation_date": 1457553542, "post_id": 35901038, "comment_id": 59463213, "body": "It would help enormously if you posted a few lines of each file to avoid the confusion and ambiguity"}], "owner": {"reputation": 5355, "user_id": 5211377, "user_type": "registered", "accept_rate": 84, "profile_image": "https://graph.facebook.com/1160593642/picture?type=large", "display_name": "Michael Perdue", "link": "https://stackoverflow.com/users/5211377/michael-perdue"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 65, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1457559172, "creation_date": 1457552295, "last_edit_date": 1457559172, "question_id": 35901038, "link": "https://stackoverflow.com/questions/35901038/how-to-concatenate-data-from-csv-without-duplicating-columns", "title": "how to concatenate data from csv without duplicating columns", "body": "<p>I need to concatenate 4 pipe separated value data files, (itpas208,+...+, itpas212). My code follows:</p>\n\n<pre><code>import numpy as np\nimport pandas as pd\nimport glob\n\npd.concat((pd.read_csv(f, sep='|', low_memory=False) for f in glob.glob('/home/jayaramdas/anaconda3/Thesis/FEC_data/itpas2_data/itpas2**.txt')))\n</code></pre>\n\n<p>When I run the code I have 66 columns. I know that each file contains 22 columns. I think that I am concatenating columns instead of rows.</p>\n"}, {"tags": ["python", "bash", "shell"], "comments": [{"owner": {"reputation": 610, "user_id": 147126, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/10b9c58599ec50d176fa2ce8c2d8bd88?s=128&d=identicon&r=PG", "display_name": "Tanner", "link": "https://stackoverflow.com/users/147126/tanner"}, "edited": false, "score": 0, "creation_date": 1457552561, "post_id": 35901022, "comment_id": 59462612, "body": "Possible duplicate: <a href=\"http://stackoverflow.com/questions/12060863/python-subprocess-call-a-bash-alias\" title=\"python subprocess call a bash alias\">stackoverflow.com/questions/12060863/&hellip;</a>"}, {"owner": {"reputation": 2623, "user_id": 3697163, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/611ce881510094605af96f479d2c0472?s=128&d=identicon&r=PG&f=1", "display_name": "DaveBensonPhillips", "link": "https://stackoverflow.com/users/3697163/davebensonphillips"}, "edited": false, "score": 0, "creation_date": 1457552664, "post_id": 35901022, "comment_id": 59462664, "body": "I don&#39;t want to be obnoxious, but why are you using subprocess to list files? Wouldn&#39;t <code>import os</code> <code>os.listdir()</code> achieve what you want?"}, {"owner": {"reputation": 610, "user_id": 147126, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/10b9c58599ec50d176fa2ce8c2d8bd88?s=128&d=identicon&r=PG", "display_name": "Tanner", "link": "https://stackoverflow.com/users/147126/tanner"}, "edited": false, "score": 1, "creation_date": 1457552684, "post_id": 35901022, "comment_id": 59462678, "body": "Please note alias&#39; are a shell thing, not a bash thing, so, your system has no knowledge of the alias. You can have the command execute through a shell, but that will still result in your alias file being parsed (when the shell loads it will parse it)"}, {"owner": {"reputation": 4650, "user_id": 4178623, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/11a3de34ea23c7d2c3ce6a7563087814?s=128&d=identicon&r=PG&f=1", "display_name": "ClickThisNick", "link": "https://stackoverflow.com/users/4178623/clickthisnick"}, "edited": false, "score": 0, "creation_date": 1457552698, "post_id": 35901022, "comment_id": 59462691, "body": "My actual command is piping commands into a docker container, this was just an example to break the problem down"}, {"owner": {"reputation": 2623, "user_id": 3697163, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/611ce881510094605af96f479d2c0472?s=128&d=identicon&r=PG&f=1", "display_name": "DaveBensonPhillips", "link": "https://stackoverflow.com/users/3697163/davebensonphillips"}, "edited": false, "score": 1, "creation_date": 1457552836, "post_id": 35901022, "comment_id": 59462789, "body": "Also, this doesn&#39;t answer your question, but you can of course do <code>subprocess.Popen([&#39;ls&#39;, &#39;-alFGh&#39;], stdout=subprocess.PIPE, stderr=None)</code> instead (especially given <code>shell=True</code> is generally disuaded)."}], "answers": [{"comments": [{"owner": {"reputation": 4650, "user_id": 4178623, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/11a3de34ea23c7d2c3ce6a7563087814?s=128&d=identicon&r=PG&f=1", "display_name": "ClickThisNick", "link": "https://stackoverflow.com/users/4178623/clickthisnick"}, "edited": false, "score": 0, "creation_date": 1457556191, "post_id": 35901546, "comment_id": 59464763, "body": "THANK YOU! This is very very helpful"}], "tags": [], "owner": {"reputation": 37256, "user_id": 736308, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/o5EqQ.jpg?s=128&g=1", "display_name": "cdarke", "link": "https://stackoverflow.com/users/736308/cdarke"}, "is_accepted": true, "score": 1, "last_activity_date": 1457553977, "creation_date": 1457553977, "answer_id": 35901546, "question_id": 35901022, "link": "https://stackoverflow.com/questions/35901022/python3-run-alias-bash-commands/35901546#35901546", "title": "Python3 Run Alias Bash Commands", "body": "<p>You cannot.  When you run a python process it has no knowledge of a shell alias.  There are simple ways of passing text from parent to child process (other than IPC), the command-line and through environment (i.e. exported) variables.  Bash does not support exporting aliases.</p>\n\n<p>From the <code>man bash</code> pages:  <em>For almost every purpose, aliases are superseded by shell functions.</em></p>\n\n<p>Bash <em>does</em> support exporting functions, so I suggest you make your alias a simple function instead.  That way it is exported from shell to python to shell.  For example:</p>\n\n<p>In the shell:</p>\n\n<pre><code>ll() { ls -l; }\nexport -f ll\n</code></pre>\n\n<p>In python:</p>\n\n<pre><code>import subprocess\n\ncommand = \"ll\"  # the shell command\nprocess = subprocess.Popen(command, stdout=subprocess.PIPE, stderr=None, shell=True)\n\noutput = process.communicate()\n\nprint(output[0].decode())    # Required if using Python 3\n</code></pre>\n\n<p>Since you are using the <code>print()</code> function I have assumed you are using python 3.  In which case you need the <code>.decode()</code>, since a bytes object is returned.</p>\n\n<p>With a bit of hackery it is possible to create and export shell functions from python as well.</p>\n"}], "owner": {"reputation": 4650, "user_id": 4178623, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/11a3de34ea23c7d2c3ce6a7563087814?s=128&d=identicon&r=PG&f=1", "display_name": "ClickThisNick", "link": "https://stackoverflow.com/users/4178623/clickthisnick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1635, "favorite_count": 2, "accepted_answer_id": 35901546, "answer_count": 1, "score": 1, "last_activity_date": 1457553977, "creation_date": 1457552247, "question_id": 35901022, "link": "https://stackoverflow.com/questions/35901022/python3-run-alias-bash-commands", "title": "Python3 Run Alias Bash Commands", "body": "<p>I have the following code that works great to run the ls command. I have a bash alias that I use <code>alias ll='ls -alFGh'</code> is it possible to get python to run the bash command without python loading my bash_alias file, parsing, and then actually running the full command?</p>\n\n<pre><code>import subprocess\n\ncommand = \"ls\"  # the shell command\nprocess = subprocess.Popen(command, stdout=subprocess.PIPE, stderr=None, shell=True)\n\n#Launch the shell command:\noutput = process.communicate()\n\nprint (output[0])\n</code></pre>\n\n<p>Trying with command = \"ll\" the output I get is:</p>\n\n<pre><code>/bin/sh: ll: command not found\nb''\n</code></pre>\n"}, {"tags": ["python", "google-cloud-platform", "google-kubernetes-engine", "google-cloud-pubsub"], "comments": [{"owner": {"reputation": 2839, "user_id": 3414, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/41f9d92818f2a3971b27387eabb650a8?s=128&d=identicon&r=PG", "display_name": "Arlaharen", "link": "https://stackoverflow.com/users/3414/arlaharen"}, "edited": false, "score": 0, "creation_date": 1472989120, "post_id": 35900985, "comment_id": 65965029, "body": "Were you managed to understand why this happens? I have recently seen the same behavior and I currently does not know why."}, {"owner": {"reputation": 1, "user_id": 2618694, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2840a568c428d3849f7fa004350b83a3?s=128&d=identicon&r=PG", "display_name": "Regner", "link": "https://stackoverflow.com/users/2618694/regner"}, "reply_to_user": {"reputation": 2839, "user_id": 3414, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/41f9d92818f2a3971b27387eabb650a8?s=128&d=identicon&r=PG", "display_name": "Arlaharen", "link": "https://stackoverflow.com/users/3414/arlaharen"}, "edited": false, "score": 0, "creation_date": 1476831202, "post_id": 35900985, "comment_id": 67509998, "body": "Due to unrelated reasons this project stopped using pub/sub so I didn&#39;t actually have to finish digging into it. Sorry."}, {"owner": {"reputation": 620, "user_id": 7867539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a59c35e429a6b826d2138106190c2594?s=128&d=identicon&r=PG&f=1", "display_name": "deusxmachine", "link": "https://stackoverflow.com/users/7867539/deusxmachine"}, "reply_to_user": {"reputation": 2839, "user_id": 3414, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/41f9d92818f2a3971b27387eabb650a8?s=128&d=identicon&r=PG", "display_name": "Arlaharen", "link": "https://stackoverflow.com/users/3414/arlaharen"}, "edited": false, "score": 0, "creation_date": 1570094675, "post_id": 35900985, "comment_id": 102808350, "body": "@Arlaharen Did you managed to fix it.I am also having this issue"}], "owner": {"reputation": 1, "user_id": 2618694, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2840a568c428d3849f7fa004350b83a3?s=128&d=identicon&r=PG", "display_name": "Regner", "link": "https://stackoverflow.com/users/2618694/regner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 236, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1457552119, "creation_date": 1457552119, "question_id": 35900985, "link": "https://stackoverflow.com/questions/35900985/pull-subscription-not-returning-messages-when-there-clearly-are-messages-waiting", "title": "Pull subscription not returning messages when there clearly are messages waiting to be processed", "body": "<p>I have a fairly simple setup where I have a number of different workers monitoring different resources. When one of them finds something new they publish a message to Google PubSub and then I have a worker pulling the PubSub topic for messages and sending them via Google Cloud Messenger.</p>\n\n<p>This should be really simple and mostly works. However I am running into an interesting situation where when I pull I only sometimes get messages returned, which would make sense if the PubSub topic was empty. However the topic is not empty and keeps growing in size. The messages my worker pulling gets are now usually about 45 minutes late.</p>\n\n<p>According to Stack Driver my PubSub message queue is now at 10,000 messages waiting to be delivered. :(</p>\n\n<p>Here is the code for the worker doing the pulling: <a href=\"https://github.com/Regner/en-notifications\" rel=\"nofollow\">https://github.com/Regner/en-notifications</a></p>\n\n<pre><code>19:05:36.000 INFO:root:Polling for new notifications...\n19:05:25.000 INFO:root:Polling for new notifications...\n19:05:15.000 INFO:root:Polling for new notifications...\n19:05:04.000 INFO:root:Polling for new notifications...\n19:04:55.000 INFO:root:Polling for new notifications...\n19:04:44.000 INFO:root:Polling for new notifications...\n19:04:44.000 INFO:requests.packages.urllib3.connectionpool:Starting new HTTPS connection (1): gcm-http.googleapis.com\n19:04:44.000 INFO:root:Sending message to the following topic \"/topics/zkb-kills-1000181\"\n19:04:44.000 INFO:root:Got message ID 17004238187730 with attributes {u'subtitle': u'Mhorbids One just lost a Executioner worth 3,431,051.31 ISK in Evaulon.', u'service': u'en-zkillboard', u'title': u'zKillboard', u'url': u'https://zkillboard.com/kill/52505094/', u'topic': u'zkb-kills-1000181', u'collapse_key': u'zkb-kills-1000181'}.\n19:04:44.000 INFO:root:Polling for new notifications...\n</code></pre>\n\n<p><a href=\"http://i.stack.imgur.com/GqR09.png\" rel=\"nofollow\">Stack driver graphs showing message queue</a></p>\n\n<p>Some other information:\n* This is all running as containers withing Google Container Engine\n* I have tried spinning up more replicas of the pulling container but it doesn't seem to change the rate at which messages get pulled.</p>\n\n<p>I would really appreciate any help in figuring out why this is. It is really confusing me greatly.</p>\n\n<p>Thank you in advance for any help you can offer.</p>\n\n<p>Regner</p>\n"}, {"tags": ["python", "numpy", "lda", "gensim"], "answers": [{"tags": [], "owner": {"reputation": 4007, "user_id": 4982729, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/xXKB1.jpg?s=128&g=1", "display_name": "markroxor", "link": "https://stackoverflow.com/users/4982729/markroxor"}, "is_accepted": false, "score": 0, "last_activity_date": 1523437448, "last_edit_date": 1592644375, "creation_date": 1476092168, "answer_id": 39955349, "question_id": 35900953, "link": "https://stackoverflow.com/questions/35900953/trouble-running-gensim-lda/39955349#39955349", "title": "Trouble running Gensim LDA", "body": "<p>This a bug in gensim which is raised <a href=\"https://github.com/RaRe-Technologies/gensim/issues/911\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>EDIT - This issue is now resolved in <a href=\"https://github.com/RaRe-Technologies/gensim/pull/1191\" rel=\"nofollow noreferrer\">this pull request</a>.</p>\n"}], "owner": {"reputation": 183, "user_id": 3363331, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/d72006aa00eff0e48a40b1b6e7fc34bc?s=128&d=identicon&r=PG&f=1", "display_name": "Murium", "link": "https://stackoverflow.com/users/3363331/murium"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 510, "favorite_count": 1, "answer_count": 1, "score": 4, "last_activity_date": 1523437448, "creation_date": 1457552010, "question_id": 35900953, "link": "https://stackoverflow.com/questions/35900953/trouble-running-gensim-lda", "title": "Trouble running Gensim LDA", "body": "<p>I'm trying to run the distributed LDA example as described here:</p>\n\n<p><a href=\"https://radimrehurek.com/gensim/dist_lda.html\" rel=\"nofollow\">https://radimrehurek.com/gensim/dist_lda.html</a></p>\n\n<p>I created the set of documents by following the tutorial here:</p>\n\n<p><a href=\"https://radimrehurek.com/gensim/dist_lsi.html\" rel=\"nofollow\">https://radimrehurek.com/gensim/dist_lsi.html</a></p>\n\n<p>by \"inflat[ing] the corpus to 1M documents, by repeating its documents over&amp;over\" as it suggests</p>\n\n<p>I'm using python 3.3 and numpy 1.9.2\nI keep getting the following error:</p>\n\n<pre><code>Exception in thread oneway-call:\nTraceback (most recent call last):\n  File \"/usr/lib64/python3.3/threading.py\", line 901, in _bootstrap_inner\n    self.run()\n  File \"/usr/lib/python3.3/site-packages/Pyro4/core.py\", line 1484, in run\n    super(_OnewayCallThread, self).run()\n  File \"/usr/lib64/python3.3/threading.py\", line 858, in run\n    self._target(*self._args, **self._kwargs)\n  File \"/usr/lib64/python3.3/site-packages/gensim/models/lda_worker.py\", line 71, in requestjob\n    self.processjob(job)\n  File \"/usr/lib64/python3.3/site-packages/gensim/utils.py\", line 98, in _synchronizer\n    result = func(self, *args, **kwargs)\n  File \"/usr/lib64/python3.3/site-packages/gensim/models/lda_worker.py\", line 80, in processjob\n    self.model.do_estep(job)\n  File \"/usr/lib64/python3.3/site-packages/gensim/models/ldamodel.py\", line 480, in do_estep\n    gamma, sstats = self.inference(chunk, collect_sstats=True)\n  File \"/usr/lib64/python3.3/site-packages/gensim/models/ldamodel.py\", line 423, in inference\n    if doc and not isinstance(doc[0][0], six.integer_types):\nValueError: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()\n</code></pre>\n\n<p>I ran the distributed lsi example and it ran fine, but for some reason I couldn't seem to get the lda to work. </p>\n\n<p>I tried changing line 423 in /usr/lib64/python3.3/site-packages/gensim/models/ldamodel.py to:</p>\n\n<pre><code>if doc is not None and not isinstance(doc[0][0], six.integer_types):\n</code></pre>\n\n<p>The error went away, but I got a warning that </p>\n\n<pre><code>FutureWarning: comparison to `None` will result in an elementwise object comparison in the future.\n</code></pre>\n\n<p>Could someone explain what I've done wrong? Is my change to this file correct? Or should I be running LDA differently?</p>\n"}, {"tags": ["python", "postgresql", "unicode"], "comments": [{"owner": {"reputation": 22778, "user_id": 1554386, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/bfe99a3a73b9284d16127418399762ff?s=128&d=identicon&r=PG", "display_name": "Alastair McCormack", "link": "https://stackoverflow.com/users/1554386/alastair-mccormack"}, "edited": false, "score": 0, "creation_date": 1457602064, "post_id": 35900922, "comment_id": 59483683, "body": "The better approach is to decode your input data from its encoding and pass to PostgreSQL as a Unicode object. If your input data is in a text file, you could try opening it with a number of decoders in a try/except tree or use the chardet module to autodetect the encoding."}, {"owner": {"reputation": 203, "user_id": 1108130, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/b3989c365bb33e68500fc9bd277df5bb?s=128&d=identicon&r=PG", "display_name": "Far", "link": "https://stackoverflow.com/users/1108130/far"}, "reply_to_user": {"reputation": 22778, "user_id": 1554386, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/bfe99a3a73b9284d16127418399762ff?s=128&d=identicon&r=PG", "display_name": "Alastair McCormack", "link": "https://stackoverflow.com/users/1554386/alastair-mccormack"}, "edited": false, "score": 0, "creation_date": 1457611586, "post_id": 35900922, "comment_id": 59490491, "body": "@AlastairMcCormack in fact the data is coming from another table in the database which contain some Chinese words in some tweets (I am just splitting tweets into arrays words and hashtags ), but it is not clear to me how to &quot;decode your input data from its encoding and pass to PostgreSQL as Unicode&quot; in my case? I already drop the db and restore it with correct Unicode (utf8) but it doesn&#39;t change anything and I still have these errors whit some string data in the dataset"}, {"owner": {"reputation": 22778, "user_id": 1554386, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/bfe99a3a73b9284d16127418399762ff?s=128&d=identicon&r=PG", "display_name": "Alastair McCormack", "link": "https://stackoverflow.com/users/1554386/alastair-mccormack"}, "edited": false, "score": 0, "creation_date": 1457622395, "post_id": 35900922, "comment_id": 59498586, "body": "I think @Daniel has answered your current question. Rather than change the scope, ask a new question and detail the root problem as described in your comment, then paste a link here."}], "answers": [{"comments": [{"owner": {"reputation": 203, "user_id": 1108130, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/b3989c365bb33e68500fc9bd277df5bb?s=128&d=identicon&r=PG", "display_name": "Far", "link": "https://stackoverflow.com/users/1108130/far"}, "edited": false, "score": 0, "creation_date": 1457561829, "post_id": 35901042, "comment_id": 59467883, "body": "thanks for the answer, but tags and keywords are arrays(list) so I face the error: AttributeError: &#39;list&#39; object has no attribute &#39;decode&#39; is there any other special method or I should use it in for loop?"}, {"owner": {"reputation": 22778, "user_id": 1554386, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/bfe99a3a73b9284d16127418399762ff?s=128&d=identicon&r=PG", "display_name": "Alastair McCormack", "link": "https://stackoverflow.com/users/1554386/alastair-mccormack"}, "reply_to_user": {"reputation": 203, "user_id": 1108130, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/b3989c365bb33e68500fc9bd277df5bb?s=128&d=identicon&r=PG", "display_name": "Far", "link": "https://stackoverflow.com/users/1108130/far"}, "edited": false, "score": 0, "creation_date": 1457601045, "post_id": 35901042, "comment_id": 59482977, "body": "@Farimah replace <code>tags = tags.decode(&#39;utf8&#39;)</code> with a for loop which executes <code>.decode()</code> on each string element"}], "tags": [], "owner": {"reputation": 38371, "user_id": 3555845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e06f616d9a53b1ca18287d1049a28ee?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/3555845/daniel"}, "is_accepted": true, "score": 1, "last_activity_date": 1457552307, "creation_date": 1457552307, "answer_id": 35901042, "question_id": 35900922, "link": "https://stackoverflow.com/questions/35900922/how-to-check-unicode-of-string-data-which-is-supposed-to-be-inserted-in-postgres/35901042#35901042", "title": "How to check Unicode of string data which is supposed to be inserted in PostgreSQL table using Python language?", "body": "<p>Use always unicode strings internally. You should decode your strings directly at the point of input, e.g.:</p>\n\n<pre><code>try:\n    tags = tags.decode('utf8')\nexcept UnicodeDecodeError:\n    # do what ever you like to do, if input is invalid\n</code></pre>\n"}], "owner": {"reputation": 203, "user_id": 1108130, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/b3989c365bb33e68500fc9bd277df5bb?s=128&d=identicon&r=PG", "display_name": "Far", "link": "https://stackoverflow.com/users/1108130/far"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 155, "favorite_count": 1, "accepted_answer_id": 35901042, "answer_count": 1, "score": 0, "last_activity_date": 1457552307, "creation_date": 1457551909, "question_id": 35900922, "link": "https://stackoverflow.com/questions/35900922/how-to-check-unicode-of-string-data-which-is-supposed-to-be-inserted-in-postgres", "title": "How to check Unicode of string data which is supposed to be inserted in PostgreSQL table using Python language?", "body": "<p>I want to insert data into a table in PostgreSQL, data is string or array of strings, the problem is that data contain some words (or string) which are not in utf8, and it makes the following error :</p>\n\n<pre><code>DataError: invalid byte sequence for encoding \"UTF8\": 0xe2 0x80 0x20\n</code></pre>\n\n<p>the code that I am using is the following and it is in Python:</p>\n\n<pre><code>cur.execute(\"INSERT INTO tst1 (tweet,words,tag,unknown_tags) VALUES (%s,%s,%s,%s);\", (row[1],words,tags[0],tags[1:]))\n</code></pre>\n\n<p>In order to prevent inserting data with inappropriate Unicode, I was wondering if there is a way in python (or in PostgreSQL) to check the Unicode of the data before insert it into tst1 table?</p>\n"}, {"tags": ["python", "arrays", "numpy", "shape"], "comments": [{"owner": {"reputation": 17990, "user_id": 5827958, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/V9KEl.png?s=128&g=1", "display_name": "zondo", "link": "https://stackoverflow.com/users/5827958/zondo"}, "edited": false, "score": 2, "creation_date": 1457551908, "post_id": 35900899, "comment_id": 59462252, "body": "<code>x</code> should be a numpy array, not a list."}, {"owner": {"reputation": 209114, "user_id": 1427416, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/QWHKg.png?s=128&g=1", "display_name": "BrenBarn", "link": "https://stackoverflow.com/users/1427416/brenbarn"}, "edited": false, "score": 2, "creation_date": 1457551917, "post_id": 35900899, "comment_id": 59462258, "body": "You need to make X a numpy array, not a list, if you want to access its shape.  Try <code>X = np.array([[1,2],[3,4]])</code>."}], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user1846747"}, "is_accepted": true, "score": 3, "last_activity_date": 1457552439, "creation_date": 1457552439, "answer_id": 35901090, "question_id": 35900899, "link": "https://stackoverflow.com/questions/35900899/numpy-zeros-shape-statement/35901090#35901090", "title": "numpy.zeros shape statement", "body": "<p>List doesn't have <code>shape</code> property. You should use <code>np.array</code> to get the shape.</p>\n\n<p>Try this</p>\n\n<pre><code>import numpy as np\nX = np.array([[1,2],[3,4]])\nm = np.zeros(1 + X.shape[1])\nprint m\n</code></pre>\n\n<p>To make it a numpy array you should do this <code>X = np.array([[1,2],[3,4]])</code> this will be a numpy array.</p>\n\n<p>And <code>X.shape</code> will return <code>(2,2)</code> and <code>X.shape[1]</code> will return <code>2</code>.</p>\n\n<p>So <code>1 + x.shape[1]</code> will return <code>3</code> and <code>m = np.zeros(1 + X.shape[1])</code> <code>m</code> will have a value like this <code>array([ 0.,  0.,  0.])</code></p>\n"}], "owner": {"reputation": 41029, "user_id": 588855, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/5f6a798479cf28587a0fe18224d2a94a?s=128&d=identicon&r=PG&f=1", "display_name": "Simplicity", "link": "https://stackoverflow.com/users/588855/simplicity"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4271, "favorite_count": 0, "closed_date": 1457554504, "accepted_answer_id": 35901090, "answer_count": 1, "score": 0, "last_activity_date": 1457552439, "creation_date": 1457551825, "question_id": 35900899, "link": "https://stackoverflow.com/questions/35900899/numpy-zeros-shape-statement", "closed_reason": "Duplicate", "title": "numpy.zeros shape statement", "body": "<p>I have came across this statement in Python:</p>\n\n<pre><code>np.zeros(1 + X.shape[1])\n</code></pre>\n\n<p>I understood that this aims at creating an array filled with zeros from <a href=\"http://docs.scipy.org/doc/numpy-1.10.1/reference/generated/numpy.zeros.html\" rel=\"nofollow\">here</a>, but couldn't understand this part <code>1 + X.shape[1]</code>.</p>\n\n<p>I tried running a small test like this:</p>\n\n<pre><code>import numpy as np\nX = [[1,2],[3,4]]\nm = np.zeros(1 + X.shape[1])\nprint m\n</code></pre>\n\n<p>But, got the following:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"test.py\", line 3, in &lt;module&gt;\n    m = np.zeros(1 + X.shape[1])\nAttributeError: 'list' object has no attribute 'shape'\n</code></pre>\n\n<p>Why is that? How can we read the above statement?</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["python", "d3.js", "sparql", "rdf", "dbpedia"], "answers": [{"tags": [], "owner": {"reputation": 889, "user_id": 3772440, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a4f8e3ec7362d97c196104e6f7c0751?s=128&d=identicon&r=PG", "display_name": "Daniel Garijo", "link": "https://stackoverflow.com/users/3772440/daniel-garijo"}, "is_accepted": true, "score": 0, "last_activity_date": 1457693186, "creation_date": 1457693186, "answer_id": 35938203, "question_id": 35900857, "link": "https://stackoverflow.com/questions/35900857/create-a-connected-graph-of-common-dbpedia-entities/35938203#35938203", "title": "Create a connected graph of common DBpedia entities", "body": "<p>Have you tried to use relFinder? (<a href=\"http://www.visualdataweb.org/relfinder/relfinder.php\" rel=\"nofollow noreferrer\">http://www.visualdataweb.org/relfinder/relfinder.php</a>) It serves precisely this purpose. I attach the graph I obtained when I introduced the four entities in your example:\n<a href=\"https://i.stack.imgur.com/gOSKk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gOSKk.png\" alt=\"Example using Leibniz, Newton, Pissaro and Renoir\"></a></p>\n\n<p>As you can see, if you want to find a connection between them at a conceptual level you should aim for the \"influencedBy\"/\"influences\" relationship.</p>\n"}], "owner": {"reputation": 41, "user_id": 6041342, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/437c9addc5742f6562b66728761a911a?s=128&d=identicon&r=PG&f=1", "display_name": "Shubham", "link": "https://stackoverflow.com/users/6041342/shubham"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 261, "favorite_count": 0, "accepted_answer_id": 35938203, "answer_count": 1, "score": 2, "last_activity_date": 1457693186, "creation_date": 1457551710, "question_id": 35900857, "link": "https://stackoverflow.com/questions/35900857/create-a-connected-graph-of-common-dbpedia-entities", "title": "Create a connected graph of common DBpedia entities", "body": "<p>My problem is such: Say I have 4 entities: Renoir, Newton, Leibniz and Pissaro. I need to create a connected graph of all entities common to them from the Dbpedia Ontology.</p>\n\n<p>Example: This is a connected graph between Renoir and Pissaro from DBPedia. The nodes in between are the DBPedia schema's common to both. See image: <a href=\"http://postimg.org/image/6037y9lu1/\" rel=\"nofollow\">http://postimg.org/image/6037y9lu1/</a></p>\n\n<p>We need such a graph between the 4: Renoir, Newton, Leibniz and Pissaro. \n<a href=\"http://postimg.org/image/vud0o1lu1/\" rel=\"nofollow\">http://postimg.org/image/vud0o1lu1/</a></p>\n\n<p>How should this be done? </p>\n\n<p>I\u2019m novice to DPPedia, R or anything related. Any help is useful. </p>\n\n<p>My objective of doing this is to find transitive connections between entities at conceptual level. </p>\n"}]