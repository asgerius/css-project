[{"tags": ["python", "tensorflow", "keras"], "answers": [{"tags": [], "owner": {"reputation": 21, "user_id": 10969751, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd0bbc75c0ed8c3fad32e5d2bfa4e563?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Z", "link": "https://stackoverflow.com/users/10969751/tom-z"}, "is_accepted": false, "score": 0, "last_activity_date": 1574295422, "creation_date": 1574295422, "answer_id": 58965363, "question_id": 58965227, "link": "https://stackoverflow.com/questions/58965227/keras-custom-layer-issue-for-loop/58965363#58965363", "title": "Keras custom layer issue for loop", "body": "<p>Making a function to generate the layer seems to solve it.\nBut I would like some explanation? </p>\n\n<pre><code>    other_channels_out = []\nout_channel = []\n\ndef createLambda(i,input):\n    _layer = Lambda(lambda xx: K.expand_dims(xx))(Lambda(lambda y: y[:, i])(input))\n    return _layer\n\nfor i in range(out_number_model_0):\n    if i != channel:\n        other_channels_out.append(createLambda(i, model_0.output))\n    else:\n        out_channel.append(createLambda(i, model_0.output))\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 10969751, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd0bbc75c0ed8c3fad32e5d2bfa4e563?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Z", "link": "https://stackoverflow.com/users/10969751/tom-z"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 144, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1574295422, "creation_date": 1574294399, "question_id": 58965227, "link": "https://stackoverflow.com/questions/58965227/keras-custom-layer-issue-for-loop", "title": "Keras custom layer issue for loop", "body": "<p>I am trying to dynamically create layers in Keras (Lambda Layers) but for some reason when I use for loop I get the same error in the list, compared to manually appending elements into the list.</p>\n\n<p>Where is my bug?</p>\n\n<pre><code>other_channels_out = []\nout_channel = []\n\nfor i in range(out_number_model_0):\n    layer = Lambda(lambda xx: K.expand_dims(xx))(Lambda(lambda y: y[:, i])(model_0.output))\n    if i != channel:\n        other_channels_out.append(layer)\n    else:\n        out_channel.append(layer)\n</code></pre>\n\n<p>Vs </p>\n\n<pre><code>other_channels_out.append(Lambda(lambda xx: K.expand_dims(xx))(Lambda(lambda y: y[:, 0])(model_0.output)))\nother_channels_out.append(Lambda(lambda xx: K.expand_dims(xx))(Lambda(lambda y: y[:, 1])(model_0.output)))\nout_channel.append(Lambda(lambda xx: K.expand_dims(xx))(Lambda(lambda y: y[:, 2])(model_0.output)))\n</code></pre>\n\n<p>The list consist of : [a,a,a,a] vs [a,b,c,d]</p>\n"}, {"tags": ["python", "altair"], "answers": [{"comments": [{"owner": {"reputation": 4365, "user_id": 8715278, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9c1b29685540988d902a93290396918?s=128&d=identicon&r=PG&f=1", "display_name": "C. Braun", "link": "https://stackoverflow.com/users/8715278/c-braun"}, "edited": false, "score": 0, "creation_date": 1574302724, "post_id": 58965402, "comment_id": 104187442, "body": "That works, thanks! I&#39;ll have to adjust the labels to be centered, but good enough."}], "tags": [], "owner": {"reputation": 52229, "user_id": 2937831, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/56c4053438af8e8b90d6f53cbb7573be?s=128&d=identicon&r=PG", "display_name": "jakevdp", "link": "https://stackoverflow.com/users/2937831/jakevdp"}, "is_accepted": true, "score": 5, "last_activity_date": 1574295704, "creation_date": 1574295704, "answer_id": 58965402, "question_id": 58965222, "link": "https://stackoverflow.com/questions/58965222/how-do-i-make-a-grouped-bar-chart-with-a-consistent-grid-across-columns/58965402#58965402", "title": "How do I make a grouped bar chart with a consistent grid across columns?", "body": "<p>You can combine facet spacing with adjusting the scale domain to do something like this:</p>\n\n<pre><code>import pandas as pd\nimport numpy as np\nimport altair as alt\n\nvals = np.concatenate(((np.arange(10) ** 2) / 9, np.arange(10)))\ndf = pd.DataFrame({\n    'cat': np.repeat(['a', 'b'], 10),\n    'x': np.tile(np.arange(10), 2),\n    'y': vals\n})\n\nalt.Chart(df).mark_bar(width=20).encode(\n    x=alt.X('cat', scale=alt.Scale(domain=['', 'a', 'b'])),\n    y='y',\n    color='cat',\n).facet(\n    'x', spacing=0\n).configure_view(\n    strokeWidth=0\n)\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/QJx4g.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/QJx4g.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 4365, "user_id": 8715278, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9c1b29685540988d902a93290396918?s=128&d=identicon&r=PG&f=1", "display_name": "C. Braun", "link": "https://stackoverflow.com/users/8715278/c-braun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 261, "favorite_count": 2, "accepted_answer_id": 58965402, "answer_count": 1, "score": 4, "last_activity_date": 1574295704, "creation_date": 1574294365, "question_id": 58965222, "link": "https://stackoverflow.com/questions/58965222/how-do-i-make-a-grouped-bar-chart-with-a-consistent-grid-across-columns", "title": "How do I make a grouped bar chart with a consistent grid across columns?", "body": "<p>I am trying to make a grouped bar chart in Altair where the columns are not so obvious (probably by removing the space between them).</p>\n\n<p>The solution proposed in the issue <a href=\"https://github.com/altair-viz/altair/issues/230\" rel=\"nofollow noreferrer\">here</a> relies on several depreciated methods. Additionally, the desired visual grouping described there (which is what I'm looking for) was closed as a vega-lite issue. This has <a href=\"https://github.com/vega/vega-lite/issues/1636\" rel=\"nofollow noreferrer\">since been resolved</a>.</p>\n\n<p>Is there an updated way to create a cleanly grouped bar chart?</p>\n\n<p>Here's what I have so far:</p>\n\n<pre><code>import pandas as pd\nimport numpy as np\nimport altair as alt\n\nvals = np.concatenate(((np.arange(10) ** 2) / 9, np.arange(10)))\ndf = pd.DataFrame({\n    'cat': np.repeat(['a', 'b'], 10),\n    'x': np.tile(np.arange(10), 2),\n    'y': vals\n})\n\nalt.Chart(df).mark_bar(width=20).encode(\n    x='cat',\n    y='y',\n    color='cat',\n    column='x'\n).configure_view(strokeWidth=0)\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/eUZux.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eUZux.png\" alt=\"enter image description here\"></a></p>\n\n<p>Is it possible to keep the horizontal grid lines while also maintaining the space between each group?</p>\n"}, {"tags": ["python", "pyqt", "pyqt4", "qgraphicsview", "qgraphicsscene"], "answers": [{"comments": [{"owner": {"reputation": 18847, "user_id": 2001654, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/yERLj.jpg?s=128&g=1", "display_name": "musicamante", "link": "https://stackoverflow.com/users/2001654/musicamante"}, "edited": false, "score": 0, "creation_date": 1574296477, "post_id": 58965340, "comment_id": 104185977, "body": "The problem with mapToScene(QPoint) is that it&#39;s not that precise due to the integer nature of QPoint. I think that (as <a href=\"https://doc.qt.io/qt-5/qgraphicsview.html#mapToScene\" rel=\"nofollow noreferrer\">documentation suggests</a> too) it&#39;s better to map to the QRect covered by the mouse position, and then use &#39;centerOn` against <code>scene_pos.boundingRect().center()</code>."}, {"owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "reply_to_user": {"reputation": 18847, "user_id": 2001654, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/yERLj.jpg?s=128&g=1", "display_name": "musicamante", "link": "https://stackoverflow.com/users/2001654/musicamante"}, "edited": false, "score": 0, "creation_date": 1574296669, "post_id": 58965340, "comment_id": 104186024, "body": "@musicamante I have used it several times and I have not observed that error. Have you tested it? I have not been able to test it so far."}, {"owner": {"reputation": 18847, "user_id": 2001654, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/yERLj.jpg?s=128&g=1", "display_name": "musicamante", "link": "https://stackoverflow.com/users/2001654/musicamante"}, "edited": false, "score": 0, "creation_date": 1574298966, "post_id": 58965340, "comment_id": 104186555, "body": "I&#39;ve had similar problems in the past; while they&#39;re usually trivial, it can sometimes be annoying when zooming in. I&#39;ve just tested with a basic grid and I can confirm that there&#39;s always a -1, -1 pixel offset (based on the pixel size of the transform <i>before</i> scaling) that is applied recursively as the scale increments. <a href=\"https://i.stack.imgur.com/7p7cN.png\" rel=\"nofollow noreferrer\">This image</a> shows the zoomed images of origin point on the left, and the results of two steps of mouse wheel, with the mapToScene(QPoint) in the middle and mapToScene(QRect) on the right."}, {"owner": {"reputation": 18847, "user_id": 2001654, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/yERLj.jpg?s=128&g=1", "display_name": "musicamante", "link": "https://stackoverflow.com/users/2001654/musicamante"}, "edited": false, "score": 0, "creation_date": 1574299352, "post_id": 58965340, "comment_id": 104186632, "body": "This obviously assumes that the cursor hotspot is correctly set in its definition. I&#39;m pretty sure that mine&#39;s correctly set in the area occupied by the topleft corner pixel of my cursor; I might be wrong, but I believe that in that case the offset would be even bigger (in one direction or the other). Also, if the cursor position is left untouched, there will always be some amount of offset in any case, but I believe that the QRect map method is more precise. A possible workaround I think that the new position could be set by taking into account the QTransform, but that&#39;s another... point ;-)"}], "tags": [], "owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "is_accepted": true, "score": 4, "last_activity_date": 1574295276, "creation_date": 1574295276, "answer_id": 58965340, "question_id": 58965209, "link": "https://stackoverflow.com/questions/58965209/zoom-on-mouse-position-qgraphicsview/58965340#58965340", "title": "Zoom on mouse position QGraphicsView", "body": "<p>A possible solution is to focus on the point where the mouse is, scale and recalculate the point where the new center should be:</p>\n\n<pre><code>def wheelEvent(self, event):\n    factor = 1.1\n    if event.delta() &lt; 0:\n        factor = 0.9\n    view_pos = event.pos()\n    scene_pos = self.mapToScene(view_pos)\n    self.centerOn(scene_pos)\n    self.scale(factor, factor)\n    delta = self.mapToScene(view_pos) - self.mapToScene(self.viewport().rect().center())\n    self.centerOn(scene_pos - delta)\n</code></pre>\n"}], "owner": {"reputation": 44, "user_id": 7835581, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1fe845997b371909f4ee0689b08ba17?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Baker", "link": "https://stackoverflow.com/users/7835581/adam-baker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 533, "favorite_count": 0, "accepted_answer_id": 58965340, "answer_count": 1, "score": 1, "last_activity_date": 1574368768, "creation_date": 1574294302, "last_edit_date": 1574368768, "question_id": 58965209, "link": "https://stackoverflow.com/questions/58965209/zoom-on-mouse-position-qgraphicsview", "title": "Zoom on mouse position QGraphicsView", "body": "<p>I am looking to find how to zoom in a QGraphicsView but on the cursor position. Currently I am able to zoom but the position it is zooming onto is not consistent.  </p>\n\n<pre><code>    def wheelEvent(self, event):\n        '''Wheel event to zoom\n        '''\n        # Run default event\n        QtWidgets.QGraphicsView.wheelEvent(self, event)\n\n        # Define zoom factor\n        factor = 1.1\n        if event.delta() &lt; 0:\n            factor = 0.9\n\n        self.scale(factor, factor)\n</code></pre>\n\n<p>I have seen the use of <code>self.mapToScene()</code> but have been unsuccessful </p>\n"}, {"tags": ["python", "nlp", "gensim", "text-classification", "tf-idf"], "answers": [{"comments": [{"owner": {"reputation": 473, "user_id": 6515530, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/HmvF7.jpg?s=128&g=1", "display_name": "Data", "link": "https://stackoverflow.com/users/6515530/data"}, "edited": false, "score": 0, "creation_date": 1574354416, "post_id": 58979470, "comment_id": 104212473, "body": "Indeed, but my corpus has 70,000 documents in it and sk-learn tries to store the tfidf matrix in memory, which isn&#39;t possible with such a large corpus because the tfidf matrix doesn&#39;t fit into memory. Hence why I&#39;m using Gensim, because Gensim stores the tfidf matrix in disk."}], "tags": [], "owner": {"reputation": 8988, "user_id": 5612363, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sTz0z.jpg?s=128&g=1", "display_name": "Anwarvic", "link": "https://stackoverflow.com/users/5612363/anwarvic"}, "is_accepted": false, "score": 0, "last_activity_date": 1574453629, "last_edit_date": 1592644375, "creation_date": 1574353577, "answer_id": 58979470, "question_id": 58965192, "link": "https://stackoverflow.com/questions/58965192/how-do-you-include-all-words-from-the-corpus-in-a-gensim-tf-idf/58979470#58979470", "title": "How do you include all words from the corpus in a Gensim TF-IDF?", "body": "<p>You can use <code>sklearn.TfidfVectorizer</code> to do that. It can be done in just four lines like so:</p>\n<pre><code>&gt;&gt;&gt; import pandas as pd\n&gt;&gt;&gt; from sklearn.feature_extraction.text import TfidfVectorizer\n\n&gt;&gt;&gt; corpus = [&quot;hello hello this is a document&quot;, &quot;this text is very interesting&quot;]\n&gt;&gt;&gt; vectorizer = TfidfVectorizer()\n&gt;&gt;&gt; X = vectorizer.fit_transform(corpus)\n&gt;&gt;&gt;df = pd.DataFrame(X.toarray(), columns=vectorizer.get_feature_names())\n&gt;&gt;&gt; df\n   document     hello  interesting       is      text     this      very\n0  0.407824  0.815648     0.000000  0.29017  0.000000  0.29017  0.000000\n1  0.000000  0.000000     0.499221  0.35520  0.499221  0.35520  0.499221\n</code></pre>\n<h2>EDIT</h2>\n<p>You can convert the tfidf matrix back to gensim using <code>Sparse2Matrix</code> like so:</p>\n<pre><code>&gt;&gt;&gt; from gensim import matutils\n&gt;&gt;&gt; tfidf_mat = matutils.Sparse2Corpus(X, documents_columns=False)\n</code></pre>\n<p>Hope this helps</p>\n"}], "owner": {"reputation": 473, "user_id": 6515530, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/HmvF7.jpg?s=128&g=1", "display_name": "Data", "link": "https://stackoverflow.com/users/6515530/data"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 379, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1574453629, "creation_date": 1574294157, "question_id": 58965192, "link": "https://stackoverflow.com/questions/58965192/how-do-you-include-all-words-from-the-corpus-in-a-gensim-tf-idf", "title": "How do you include all words from the corpus in a Gensim TF-IDF?", "body": "<p>If I have some documents like this:</p>\n\n<pre><code>doc1 = \"hello hello this is a document\"\ndoc2 = \"this text is very interesting\"\ndocuments = [doc1, doc2]\n</code></pre>\n\n<p>And I compute a TF-IDF matrix for this in Gensim like this:</p>\n\n<pre><code># create dictionary\ndictionary = corpora.Dictionary([simple_preprocess(line) for line in documents])\n# create bow corpus\ncorpus = [dictionary.doc2bow(simple_preprocess(line)) for line in documents]\n# create the tf.idf matrix\ntfidf = models.TfidfModel(corpus, smartirs='ntc')\n</code></pre>\n\n<p>Then for each document, I get a TF-IDF like this:</p>\n\n<pre><code>Doc1: [(\"hello\", 0.5), (\"a\", 0.25), (\"document\", 0.25)]\nDoc2: [(\"text\", 0.333), (\"very\", 0.333), (\"interesting\", 0.333)]\n</code></pre>\n\n<p>But I want the TF-IDF vector for each document to include words with 0 TF-IDF values (i.e. include every word mentioned in the corpus):</p>\n\n<pre><code>Doc1: [(\"hello\", 0.5), (\"this\", 0), (\"is\", 0), (\"a\", 0.25), (\"document\", 0.25), (\"text\", 0), (\"very\", 0), (\"interesting\", 0)]\nDoc2: [(\"hello\", 0), (\"this\", 0), (\"is\", 0), (\"a\", 0), (\"document\", 0), (\"text\", 0.333), (\"very\", 0.333), (\"interesting\", 0.333)]\n</code></pre>\n\n<p>How can I do this in Gensim? Or maybe there is some other library that can compute a TF-IDF matrix in this fashion (although like Gensim, it needs to be able to handle very large data sets, e.g. I achieved this result in Sci-kit on a small data set, but Sci-kit has memory problems on a large data set).</p>\n"}, {"tags": ["python", "counter"], "comments": [{"owner": {"reputation": 991, "user_id": 11981207, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDMl-KbtprUZGl_XAs7czxfJgfDG0zK2kye2G75qA=k-s128", "display_name": "Kei", "link": "https://stackoverflow.com/users/11981207/kei"}, "edited": false, "score": 0, "creation_date": 1574294154, "post_id": 58965143, "comment_id": 104185411, "body": "So basically you want to run the <code>for i in range(10):</code> loop again? If so, you can either wrap that loop in another loop, or wrap it in a function and call it after your loop finishes."}, {"owner": {"reputation": 19530, "user_id": 2823755, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vCEUU.png?s=128&g=1", "display_name": "wwii", "link": "https://stackoverflow.com/users/2823755/wwii"}, "edited": false, "score": 3, "creation_date": 1574294193, "post_id": 58965143, "comment_id": 104185419, "body": "<code>While True:...</code> will run forever - When do you want the loop to stop asking for an integer?"}, {"owner": {"reputation": 3364, "user_id": 7508700, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ms4Mr.png?s=128&g=1", "display_name": "David Buck", "link": "https://stackoverflow.com/users/7508700/david-buck"}, "edited": false, "score": 0, "creation_date": 1574295727, "post_id": 58965143, "comment_id": 104185780, "body": "It would be great if you could edit your question to make it clear what you want your code to do. Currently people are writing answers without really knowing how to help you. That&#39;s not a great use of people&#39;s time."}, {"owner": {"reputation": 3364, "user_id": 7508700, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ms4Mr.png?s=128&g=1", "display_name": "David Buck", "link": "https://stackoverflow.com/users/7508700/david-buck"}, "edited": false, "score": 1, "creation_date": 1574296022, "post_id": 58965143, "comment_id": 104185854, "body": "Switch the <code>while</code> and <code>for</code> statements round. Then it will run forever and print &#39;10&#39; after every 10"}], "answers": [{"comments": [{"owner": {"reputation": 466, "user_id": 12275675, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-YlJshnI-vfo/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdxboctGut4MxRQRfvxW5BBZITeSw/photo.jpg?sz=128", "display_name": "Slartibartfast", "link": "https://stackoverflow.com/users/12275675/slartibartfast"}, "edited": false, "score": 0, "creation_date": 1574295085, "post_id": 58965240, "comment_id": 104185623, "body": "How can i fix this for infinate loop? NameError: name &#39;i&#39; is not defined"}, {"owner": {"reputation": 466, "user_id": 12275675, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-YlJshnI-vfo/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdxboctGut4MxRQRfvxW5BBZITeSw/photo.jpg?sz=128", "display_name": "Slartibartfast", "link": "https://stackoverflow.com/users/12275675/slartibartfast"}, "edited": false, "score": 0, "creation_date": 1574295213, "post_id": 58965240, "comment_id": 104185659, "body": "Maybe something like this?  <code>while True:     counter = 0     num = int(input(&quot;Enter an integer: &quot;))     print(&quot;The double of&quot;,num,&quot;is&quot;,2 * num)     if counter == 3:         print(&#39;10&#39;)     counter +=1</code>"}, {"owner": {"reputation": 963, "user_id": 8692977, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EEk4l.jpg?s=128&g=1", "display_name": "Marsilinou Zaky", "link": "https://stackoverflow.com/users/8692977/marsilinou-zaky"}, "reply_to_user": {"reputation": 466, "user_id": 12275675, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-YlJshnI-vfo/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdxboctGut4MxRQRfvxW5BBZITeSw/photo.jpg?sz=128", "display_name": "Slartibartfast", "link": "https://stackoverflow.com/users/12275675/slartibartfast"}, "edited": false, "score": 1, "creation_date": 1574295238, "post_id": 58965240, "comment_id": 104185666, "body": "You would need to initialize the counter, I updated the code you can take a look"}, {"owner": {"reputation": 466, "user_id": 12275675, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-YlJshnI-vfo/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdxboctGut4MxRQRfvxW5BBZITeSw/photo.jpg?sz=128", "display_name": "Slartibartfast", "link": "https://stackoverflow.com/users/12275675/slartibartfast"}, "edited": false, "score": 0, "creation_date": 1574295359, "post_id": 58965240, "comment_id": 104185689, "body": "Could you check again? It does not even ask for input!"}, {"owner": {"reputation": 963, "user_id": 8692977, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EEk4l.jpg?s=128&g=1", "display_name": "Marsilinou Zaky", "link": "https://stackoverflow.com/users/8692977/marsilinou-zaky"}, "reply_to_user": {"reputation": 466, "user_id": 12275675, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-YlJshnI-vfo/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdxboctGut4MxRQRfvxW5BBZITeSw/photo.jpg?sz=128", "display_name": "Slartibartfast", "link": "https://stackoverflow.com/users/12275675/slartibartfast"}, "edited": false, "score": 1, "creation_date": 1574295921, "post_id": 58965240, "comment_id": 104185832, "body": "Can you elaborate on what exactly you trying to achieve from this program? I&#39;ve removed the input statement in the for loop while I was testing the code, I&#39;ll go ahead and add it for you :)"}, {"owner": {"reputation": 466, "user_id": 12275675, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-YlJshnI-vfo/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdxboctGut4MxRQRfvxW5BBZITeSw/photo.jpg?sz=128", "display_name": "Slartibartfast", "link": "https://stackoverflow.com/users/12275675/slartibartfast"}, "edited": false, "score": 0, "creation_date": 1574296037, "post_id": 58965240, "comment_id": 104185859, "body": "I want an infinite loop but it prints 10 after 10 iterations! This process repeats again!"}, {"owner": {"reputation": 963, "user_id": 8692977, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EEk4l.jpg?s=128&g=1", "display_name": "Marsilinou Zaky", "link": "https://stackoverflow.com/users/8692977/marsilinou-zaky"}, "reply_to_user": {"reputation": 466, "user_id": 12275675, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-YlJshnI-vfo/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdxboctGut4MxRQRfvxW5BBZITeSw/photo.jpg?sz=128", "display_name": "Slartibartfast", "link": "https://stackoverflow.com/users/12275675/slartibartfast"}, "edited": false, "score": 1, "creation_date": 1574296183, "post_id": 58965240, "comment_id": 104185898, "body": "Cool, the code I&#39;ve posted should achieve that. It will ask for a number infinitely and every 10 iterations it will print 10"}, {"owner": {"reputation": 466, "user_id": 12275675, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-YlJshnI-vfo/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdxboctGut4MxRQRfvxW5BBZITeSw/photo.jpg?sz=128", "display_name": "Slartibartfast", "link": "https://stackoverflow.com/users/12275675/slartibartfast"}, "edited": false, "score": 0, "creation_date": 1574297668, "post_id": 58965240, "comment_id": 104186243, "body": "Thanks for you help"}, {"owner": {"reputation": 963, "user_id": 8692977, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EEk4l.jpg?s=128&g=1", "display_name": "Marsilinou Zaky", "link": "https://stackoverflow.com/users/8692977/marsilinou-zaky"}, "reply_to_user": {"reputation": 466, "user_id": 12275675, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-YlJshnI-vfo/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdxboctGut4MxRQRfvxW5BBZITeSw/photo.jpg?sz=128", "display_name": "Slartibartfast", "link": "https://stackoverflow.com/users/12275675/slartibartfast"}, "edited": false, "score": 0, "creation_date": 1574297751, "post_id": 58965240, "comment_id": 104186269, "body": "Sure no problem  :)"}], "tags": [], "owner": {"reputation": 963, "user_id": 8692977, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EEk4l.jpg?s=128&g=1", "display_name": "Marsilinou Zaky", "link": "https://stackoverflow.com/users/8692977/marsilinou-zaky"}, "is_accepted": true, "score": 1, "last_activity_date": 1574295937, "last_edit_date": 1574295937, "creation_date": 1574294527, "answer_id": 58965240, "question_id": 58965143, "link": "https://stackoverflow.com/questions/58965143/counter-in-for-loop-and-resetting-counter/58965240#58965240", "title": "Counter in for loop and resetting counter", "body": "<p>You can use this, you would loop only once and check the counter if it's divisable by 10 to print the message </p>\n\n<pre><code>for i in range(1, 100):\n    num = int(input(\"Enter an integer: \"))\n    print(\"The double of\",num,\"is\",2 * num)\n    if i%10==0:\n        print('10')\n</code></pre>\n\n<p>If you want the infinit loop:</p>\n\n<pre><code>i = 1\nwhile True:\n    num = int(input(\"Enter an integer: \"))\n    print(\"The double of\",num,\"is\",2 * num)\n    if i%10==0:\n        print('10')\n    i+=1\n</code></pre>\n\n<p>The result is for <code>for i in range(1,21)</code> will be </p>\n\n<pre><code>The double of 50 is 100\nThe double of 50 is 100\nThe double of 50 is 100\nThe double of 50 is 100\nThe double of 50 is 100\nThe double of 50 is 100\nThe double of 50 is 100\nThe double of 50 is 100\nThe double of 50 is 100\nThe double of 50 is 100\n10\nThe double of 50 is 100\nThe double of 50 is 100\nThe double of 50 is 100\nThe double of 50 is 100\nThe double of 50 is 100\nThe double of 50 is 100\nThe double of 50 is 100\nThe double of 50 is 100\nThe double of 50 is 100\nThe double of 50 is 100\n10\n</code></pre>\n"}], "owner": {"reputation": 466, "user_id": 12275675, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-YlJshnI-vfo/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdxboctGut4MxRQRfvxW5BBZITeSw/photo.jpg?sz=128", "display_name": "Slartibartfast", "link": "https://stackoverflow.com/users/12275675/slartibartfast"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 378, "favorite_count": 0, "accepted_answer_id": 58965240, "answer_count": 1, "score": 0, "last_activity_date": 1574295937, "creation_date": 1574293793, "last_edit_date": 1574295913, "question_id": 58965143, "link": "https://stackoverflow.com/questions/58965143/counter-in-for-loop-and-resetting-counter", "title": "Counter in for loop and resetting counter", "body": "<p>I have the following code:</p>\n\n<pre><code>for i in range(10):\n    while True:\n       num = int(input(\"Enter an integer: \"))\n       print(\"The double of\",num,\"is\",2 * num)\n    print('10')\n</code></pre>\n\n<p>What i am want to do is after 10 iterations, message should print 10. It does that but only once, how can i reset the counter so it will start again after it reaches 10?</p>\n\n<p>What i want the program to do is print '10' after 10 iterations but the loop is infinite so it never breaks. </p>\n"}, {"tags": ["python", "installation", "anaconda", "conda", "miniconda"], "comments": [{"owner": {"reputation": 13412, "user_id": 2449192, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/62cb5b405dc090d45eed0498dec02f52?s=128&d=identicon&r=PG", "display_name": "darthbith", "link": "https://stackoverflow.com/users/2449192/darthbith"}, "edited": false, "score": 0, "creation_date": 1574301962, "post_id": 58965100, "comment_id": 104187275, "body": "What is the output, in Python, of <code>import sys; print(sys.executable)</code>?"}, {"owner": {"reputation": 171, "user_id": 12055478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0dd24b2ffca8e1d4f34addb244c84bb3?s=128&d=identicon&r=PG&f=1", "display_name": "wilberox", "link": "https://stackoverflow.com/users/12055478/wilberox"}, "reply_to_user": {"reputation": 13412, "user_id": 2449192, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/62cb5b405dc090d45eed0498dec02f52?s=128&d=identicon&r=PG", "display_name": "darthbith", "link": "https://stackoverflow.com/users/2449192/darthbith"}, "edited": false, "score": 0, "creation_date": 1574358810, "post_id": 58965100, "comment_id": 104214728, "body": "@darthbith <code>&#47;usr&#47;bin&#47;python</code>"}, {"owner": {"reputation": 41290, "user_id": 570918, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/27ce5101af57acecf9a5fe563b6192b1?s=128&d=identicon&r=PG", "display_name": "merv", "link": "https://stackoverflow.com/users/570918/merv"}, "edited": false, "score": 1, "creation_date": 1574360136, "post_id": 58965100, "comment_id": 104215334, "body": "Based on that, you&#39;re not actually running Conda&#39;s Python interpreter, but just the system one. How are you launching Python? Could you edit the question to show us your full <code>PATH</code>?"}, {"owner": {"reputation": 171, "user_id": 12055478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0dd24b2ffca8e1d4f34addb244c84bb3?s=128&d=identicon&r=PG&f=1", "display_name": "wilberox", "link": "https://stackoverflow.com/users/12055478/wilberox"}, "reply_to_user": {"reputation": 41290, "user_id": 570918, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/27ce5101af57acecf9a5fe563b6192b1?s=128&d=identicon&r=PG", "display_name": "merv", "link": "https://stackoverflow.com/users/570918/merv"}, "edited": false, "score": 0, "creation_date": 1574360540, "post_id": 58965100, "comment_id": 104215512, "body": "@merv apologies for my lack of knowledge, but how can I access this information?"}, {"owner": {"reputation": 41290, "user_id": 570918, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/27ce5101af57acecf9a5fe563b6192b1?s=128&d=identicon&r=PG", "display_name": "merv", "link": "https://stackoverflow.com/users/570918/merv"}, "edited": false, "score": 0, "creation_date": 1574361044, "post_id": 58965100, "comment_id": 104215778, "body": "How did you run <code>import sys; print(sys.executable)</code>? That is, how did you start a Python session in the first place? From the terminal, you can get the <code>PATH</code> and a bunch of other useful debugging stuff by typing <code>conda info --all</code>. Or you can just get <code>PATH</code> by typing <code>echo &quot;$PATH&quot;</code>."}, {"owner": {"reputation": 171, "user_id": 12055478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0dd24b2ffca8e1d4f34addb244c84bb3?s=128&d=identicon&r=PG&f=1", "display_name": "wilberox", "link": "https://stackoverflow.com/users/12055478/wilberox"}, "reply_to_user": {"reputation": 41290, "user_id": 570918, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/27ce5101af57acecf9a5fe563b6192b1?s=128&d=identicon&r=PG", "display_name": "merv", "link": "https://stackoverflow.com/users/570918/merv"}, "edited": false, "score": 0, "creation_date": 1574361270, "post_id": 58965100, "comment_id": 104215882, "body": "@merv thank you. here is my result from <code>echo &quot;$PATH&quot;</code> : <code>&#47;Applications&#47;miniconda3&#47;condabin:&#47;Library&#47;Frameworks&#47;Python&zwnj;&#8203;.framework&#47;Versions&#47;&zwnj;&#8203;3.6&#47;bin:&#47;Library&#47;Fra&zwnj;&#8203;meworks&#47;Python.frame&zwnj;&#8203;work&#47;Versions&#47;3.7&#47;bi&zwnj;&#8203;n:6k&#47;usr&#47;local&#47;bin:&#47;&zwnj;&#8203;usr&#47;bin:&#47;bin:&#47;usr&#47;sb&zwnj;&#8203;in:&#47;sbin</code>"}, {"owner": {"reputation": 41290, "user_id": 570918, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/27ce5101af57acecf9a5fe563b6192b1?s=128&d=identicon&r=PG", "display_name": "merv", "link": "https://stackoverflow.com/users/570918/merv"}, "edited": false, "score": 0, "creation_date": 1574361616, "post_id": 58965100, "comment_id": 104216060, "body": "What Mac version?"}, {"owner": {"reputation": 171, "user_id": 12055478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0dd24b2ffca8e1d4f34addb244c84bb3?s=128&d=identicon&r=PG&f=1", "display_name": "wilberox", "link": "https://stackoverflow.com/users/12055478/wilberox"}, "reply_to_user": {"reputation": 41290, "user_id": 570918, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/27ce5101af57acecf9a5fe563b6192b1?s=128&d=identicon&r=PG", "display_name": "merv", "link": "https://stackoverflow.com/users/570918/merv"}, "edited": false, "score": 0, "creation_date": 1574361870, "post_id": 58965100, "comment_id": 104216183, "body": "@merv macOS is mojave"}], "owner": {"reputation": 171, "user_id": 12055478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0dd24b2ffca8e1d4f34addb244c84bb3?s=128&d=identicon&r=PG&f=1", "display_name": "wilberox", "link": "https://stackoverflow.com/users/12055478/wilberox"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 70, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1574293470, "creation_date": 1574293470, "question_id": 58965100, "link": "https://stackoverflow.com/questions/58965100/miniconda-install-gone-wrong-edit-path-or-uninstall-and-reinstall", "title": "Miniconda install gone wrong: edit path or uninstall and reinstall", "body": "<p>I work on a mac.</p>\n\n<p>When installing miniconda I installed it to <code>/Applications/</code> rather that <code>~/Users/myusername/</code>.</p>\n\n<p>The path for miniconda in my bash profile is </p>\n\n<pre><code># &gt;&gt;&gt; conda initialize &gt;&gt;&gt;\n# !! Contents within this block are managed by 'conda init' !!\n__conda_setup=\"$('/Applications/miniconda3/bin/conda' 'shell.bash' 'hook' 2&gt; /dev/null)\"\nif [ $? -eq 0 ]; then\n    eval \"$__conda_setup\"\nelse\n    if [ -f \"/Applications/miniconda3/etc/profile.d/conda.sh\" ]; then\n        . \"/Applications/miniconda3/etc/profile.d/conda.sh\"\n    else\n        export PATH=\"/Applications/miniconda3/bin:$PATH\"\n    fi\nfi\nunset __conda_setup\n# &lt;&lt;&lt; conda initialize &lt;&lt;&lt;\n</code></pre>\n\n<p>When I try and call packages I have installed in miniconda, such as <code>biopython</code> (Path = <code>/Applications/miniconda3/lib/python3.7/site-packages/biopython-1.74.dist-info</code>), the packages are not recognised <code>ImportError: No module named bio</code>.</p>\n\n<p>Can I modify my path so that the installed packages are recognised? Or should I start again by uninstalling anaconda and reinstalling.</p>\n"}, {"tags": ["python", "html", "beautifulsoup", "screen-scraping"], "comments": [{"owner": {"reputation": 2479, "user_id": 11301900, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8826c4b7675bd83127fddefc109b7f5d?s=128&d=identicon&r=PG&f=1", "display_name": "AMC", "link": "https://stackoverflow.com/users/11301900/amc"}, "edited": false, "score": 0, "creation_date": 1574293809, "post_id": 58965099, "comment_id": 104185345, "body": "Can you share an example of the two divs?"}], "answers": [{"comments": [{"owner": {"reputation": 37, "user_id": 10862305, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-gKPyHwxqMjg/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwca1aHE8mxOC1aptDU0HIISiswzYdQ/mo/photo.jpg?sz=128", "display_name": "Andy B", "link": "https://stackoverflow.com/users/10862305/andy-b"}, "edited": false, "score": 0, "creation_date": 1574297068, "post_id": 58965309, "comment_id": 104186122, "body": "Thanks heaps for this answer, it has worked perfectly!"}, {"owner": {"reputation": 37, "user_id": 10862305, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-gKPyHwxqMjg/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwca1aHE8mxOC1aptDU0HIISiswzYdQ/mo/photo.jpg?sz=128", "display_name": "Andy B", "link": "https://stackoverflow.com/users/10862305/andy-b"}, "edited": false, "score": 0, "creation_date": 1574376133, "post_id": 58965309, "comment_id": 104222202, "body": "Out of curiosity, if I wanted to select all divs where id-raceid and class=&quot;anything but xyz&quot;, can this be done?  For example I want to select all divs that have a class equal to blue or red or yellow but not purple."}, {"owner": {"reputation": 2042, "user_id": 11424673, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26ecf0fd0aa656482af8bc20d0d22c88?s=128&d=identicon&r=PG&f=1", "display_name": "Hymns For Disco", "link": "https://stackoverflow.com/users/11424673/hymns-for-disco"}, "reply_to_user": {"reputation": 37, "user_id": 10862305, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-gKPyHwxqMjg/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwca1aHE8mxOC1aptDU0HIISiswzYdQ/mo/photo.jpg?sz=128", "display_name": "Andy B", "link": "https://stackoverflow.com/users/10862305/andy-b"}, "edited": false, "score": 0, "creation_date": 1574380317, "post_id": 58965309, "comment_id": 104223374, "body": "Yes you can make more complex conditions for your filtering, check the doc page here <a href=\"https://www.crummy.com/software/BeautifulSoup/bs4/doc/#searching-by-css-class\" rel=\"nofollow noreferrer\">crummy.com/software/BeautifulSoup/bs4/doc/&hellip;</a> and look at the <code>has_six_characters</code> example, you can use any function you want to return a boolean value based on the given class.  When in doubt, read the docs"}], "tags": [], "owner": {"reputation": 2042, "user_id": 11424673, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26ecf0fd0aa656482af8bc20d0d22c88?s=128&d=identicon&r=PG&f=1", "display_name": "Hymns For Disco", "link": "https://stackoverflow.com/users/11424673/hymns-for-disco"}, "is_accepted": true, "score": 0, "last_activity_date": 1574295075, "creation_date": 1574295075, "answer_id": 58965309, "question_id": 58965099, "link": "https://stackoverflow.com/questions/58965099/how-to-exclude-a-tag-when-web-scraping/58965309#58965309", "title": "How to exclude a tag when web scraping", "body": "<p>You can modify your <code>find_all</code> call to filter by css class as well as tag id</p>\n\n<pre><code>    raceid = \"race-1\"\n    page = soup.find_all('div', id=raceid, class_='')\n</code></pre>\n\n<p><a href=\"https://www.crummy.com/software/BeautifulSoup/bs4/doc/#searching-by-css-class\" rel=\"nofollow noreferrer\">https://www.crummy.com/software/BeautifulSoup/bs4/doc/#searching-by-css-class</a></p>\n"}], "owner": {"reputation": 37, "user_id": 10862305, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-gKPyHwxqMjg/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwca1aHE8mxOC1aptDU0HIISiswzYdQ/mo/photo.jpg?sz=128", "display_name": "Andy B", "link": "https://stackoverflow.com/users/10862305/andy-b"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 380, "favorite_count": 1, "accepted_answer_id": 58965309, "answer_count": 1, "score": 0, "last_activity_date": 1574295075, "creation_date": 1574293462, "question_id": 58965099, "link": "https://stackoverflow.com/questions/58965099/how-to-exclude-a-tag-when-web-scraping", "title": "How to exclude a tag when web scraping", "body": "<p>I am having a crack at using Python 3.8 and BeautifulSoup to scrape a web page and I have come across an issue I haven't been able to resolve.  The page I am scraping has two similar div tags which both contain an id value, however one also contains an additional class container:</p>\n\n<p>For example, the first tag returns: ; and the second tag returns .</p>\n\n<p>I can find the tags using \"page = soup.find_all('div', { \"id\" : \"race-1\"})\", but this returns both divs.  Is there way that I can find just the div that contains \"\"?  I only want this one, as the format of the data within this div tag is much easier for me to work with.</p>\n\n<p>I have pulled out the following relevant portion of the code I am working with:</p>\n\n<pre><code>from bs4 import BeautifulSoup\nimport csv\nimport bleach\nimport os.path\nfrom os import path\n\ndef scrape(racedate, location, races, pageurl):\n    if path.exists(\"ResultsData.csv\"):\n        f = csv.writer(open('ResultsData.csv', 'a', newline='')) #Use \n    else:\n        f = csv.writer(open('ResultsData.csv', 'a', newline='')) #Use \n        f.writerow(['RaceDate', 'RaceLocation', 'RaceNumber', 'RaceName', 'Distance', 'RaceClass', 'PrizeMoney', 'RaceSplits', 'Place', 'BoxNo', 'DogName', 'Trainer', 'Time', 'Margin', 'Split', 'InRun', 'Weight', 'Sire', 'Dam', 'SPrice'])\n\n    page = requests.get(pageurl)\n\n    # Create a BeautifulSoup object\n    soup = BeautifulSoup(page.text, 'lxml')\n\n    file1 = open(\"MyFile.txt\",\"a\") \n\n    raceid = \"race-1\"\n    page = soup.find_all('div', { \"id\" : raceid})\n    file1.write(str(page))\n\n\nscrape('2019/11/16', 'ipswich', '10', 'https://www.thegreyhoundrecorder.com.au/results/ipswich/68024')\n</code></pre>\n\n<p>I'm not a developer by any stretch of the imagination, so any help is greatly appreciated.</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1574293521, "post_id": 58965098, "comment_id": 104185285, "body": "Pandas is not a data storage medium, so you can scrap that straight away if it&#39;s not in memory"}, {"owner": {"reputation": 17762, "user_id": 548562, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26587173d9156d8ec3114c8700d1b693?s=128&d=identicon&r=PG", "display_name": "Iain Shelvington", "link": "https://stackoverflow.com/users/548562/iain-shelvington"}, "edited": false, "score": 0, "creation_date": 1574293560, "post_id": 58965098, "comment_id": 104185296, "body": "Use a database, sqlite would be fine if you have everything running on one machine"}, {"owner": {"reputation": 317, "user_id": 4578096, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f900c810e5312a93c5694283bc496a81?s=128&d=identicon&r=PG&f=1", "display_name": "IceeFrog", "link": "https://stackoverflow.com/users/4578096/iceefrog"}, "edited": false, "score": 0, "creation_date": 1574293562, "post_id": 58965098, "comment_id": 104185297, "body": "Do you need to store it or render/represent data, I mean, using excel has limits, I&#39;d recommend you taking a look at psycopg and start using psql or mongo-db any database you wish to use is fine, just start using it already!"}, {"owner": {"reputation": 14830, "user_id": 3757232, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/kLzML.jpg?s=128&g=1", "display_name": "Jared Smith", "link": "https://stackoverflow.com/users/3757232/jared-smith"}, "edited": false, "score": 1, "creation_date": 1574293639, "post_id": 58965098, "comment_id": 104185318, "body": "Questions that start with &quot;what is the best way&quot; are pretty much always off-topic on stack overflow."}, {"owner": {"reputation": 3, "user_id": 12197755, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f035c52d150b8c4e6da6f5f9e7962d7a?s=128&d=identicon&r=PG&f=1", "display_name": "redgyredgy", "link": "https://stackoverflow.com/users/12197755/redgyredgy"}, "edited": false, "score": 0, "creation_date": 1574293706, "post_id": 58965098, "comment_id": 104185329, "body": "I was thinking of using Pandas as a way to write to a .csv file, so then every time a new transaction is made, a new row would be added. However Pandas does not seem to be able to edit workbooks"}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 1, "creation_date": 1574293902, "post_id": 58965098, "comment_id": 104185366, "body": "If you search in your browser for &quot;Python update xls file&quot;, you&#39;ll find references that can explain this much better than we can manage here."}], "answers": [{"tags": [], "owner": {"reputation": 404, "user_id": 11769926, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/914286916514619e8b53bc9eb8fb15ac?s=128&d=identicon&r=PG&f=1", "display_name": "ruby", "link": "https://stackoverflow.com/users/11769926/ruby"}, "is_accepted": true, "score": 1, "last_activity_date": 1574293907, "creation_date": 1574293907, "answer_id": 58965160, "question_id": 58965098, "link": "https://stackoverflow.com/questions/58965098/what-is-the-best-way-to-write-and-store-data-in-python-3/58965160#58965160", "title": "What is the best way to write and store data in python 3", "body": "<p>Pandas has a method to write data to a csv files, if this is what you mean (pandas.DataFrame.to_csv). You can specify 'write' mode, to rewrite all data, or 'append' mode, if you want to update the file with new rows.</p>\n"}, {"comments": [{"owner": {"reputation": 3, "user_id": 12197755, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f035c52d150b8c4e6da6f5f9e7962d7a?s=128&d=identicon&r=PG&f=1", "display_name": "redgyredgy", "link": "https://stackoverflow.com/users/12197755/redgyredgy"}, "edited": false, "score": 0, "creation_date": 1574294564, "post_id": 58965185, "comment_id": 104185495, "body": "That&#39;s a good idea, however the issue is that my program restarts itself everyday, so it won&#39;t be able to save the prior purchases. That was the original idea around writing to an excel file because then It would always have the historical information with no chance of it getting deleted"}, {"owner": {"reputation": 28, "user_id": 12340367, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Uf-zcDRBBDg/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3re0fTGCm15FORWSgsXLfVIh0MA7fw/photo.jpg?sz=128", "display_name": "Snake_py", "link": "https://stackoverflow.com/users/12340367/snake-py"}, "reply_to_user": {"reputation": 3, "user_id": 12197755, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f035c52d150b8c4e6da6f5f9e7962d7a?s=128&d=identicon&r=PG&f=1", "display_name": "redgyredgy", "link": "https://stackoverflow.com/users/12197755/redgyredgy"}, "edited": false, "score": 0, "creation_date": 1574295414, "post_id": 58965185, "comment_id": 104185705, "body": "Hmmm Yeah, I guess you need to store this in a database. Unfortunately, I have not worked with one yet. Why is csv not an option?"}], "tags": [], "owner": {"reputation": 28, "user_id": 12340367, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Uf-zcDRBBDg/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3re0fTGCm15FORWSgsXLfVIh0MA7fw/photo.jpg?sz=128", "display_name": "Snake_py", "link": "https://stackoverflow.com/users/12340367/snake-py"}, "is_accepted": false, "score": 0, "last_activity_date": 1574294108, "creation_date": 1574294108, "answer_id": 58965185, "question_id": 58965098, "link": "https://stackoverflow.com/questions/58965098/what-is-the-best-way-to-write-and-store-data-in-python-3/58965185#58965185", "title": "What is the best way to write and store data in python 3", "body": "<p>I guess there is no best way. </p>\n\n<p>I would probably do it in a list-dictonary like fashion, although not sure if this would be the greates way. </p>\n\n<p>something like:</p>\n\n<pre><code>myPurchases = [\n\n{\"date\": []},\n{\"Time\": []},...\n\n]\n\n// and if a new purchase is made I just would write a function which gets the list \n// and appends a new entry into the dictonarys. \n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 12197755, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f035c52d150b8c4e6da6f5f9e7962d7a?s=128&d=identicon&r=PG&f=1", "display_name": "redgyredgy", "link": "https://stackoverflow.com/users/12197755/redgyredgy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "closed_date": 1574297384, "accepted_answer_id": 58965160, "answer_count": 2, "score": -5, "last_activity_date": 1574294108, "creation_date": 1574293451, "last_edit_date": 1574293844, "question_id": 58965098, "link": "https://stackoverflow.com/questions/58965098/what-is-the-best-way-to-write-and-store-data-in-python-3", "closed_reason": "Needs more focus", "title": "What is the best way to write and store data in python 3", "body": "<p>I am trying to store data from stock market transactions I make. I want to have a file like an excel workbook, with every buy or sell price being neatly listed. I have looked at some options, including pickle, xlwt, and pandas. However, I cannot find any that can write onto a pre existing file</p>\n\n<p>The information I will be storing will look like this:</p>\n\n<p>DATE, TIME, STOCK_INDICATOR, BUY/SELL, PRICE</p>\n\n<p>I will need the program to be able to write new rows every time a purchase is made.</p>\n"}, {"tags": ["python", "pandas", "csv", "hdf5"], "comments": [{"owner": {"reputation": 1358, "user_id": 9194639, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xcKsd.png?s=128&g=1", "display_name": "new QOpenGLWidget", "link": "https://stackoverflow.com/users/9194639/new-qopenglwidget"}, "edited": false, "score": 0, "creation_date": 1574295087, "post_id": 58965091, "comment_id": 104185624, "body": "Try to fix the error first and tell us what you have tried."}, {"owner": {"reputation": 11, "user_id": 10692887, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-FjZMvGVLqN4/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-iQnJlh0R6A0bZGPgJhkxcWIbFVBA/mo/photo.jpg?sz=128", "display_name": "Sean Ng Pack", "link": "https://stackoverflow.com/users/10692887/sean-ng-pack"}, "reply_to_user": {"reputation": 1358, "user_id": 9194639, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xcKsd.png?s=128&g=1", "display_name": "new QOpenGLWidget", "link": "https://stackoverflow.com/users/9194639/new-qopenglwidget"}, "edited": false, "score": 0, "creation_date": 1574295618, "post_id": 58965091, "comment_id": 104185750, "body": "Sorry if the original post wasn&#39;t clear, my issue is that the .h5 output when inspected using hdfview is really weird and I cannot open the second block of values that it generates with other software. However it can be read back flawlessly using pandas read_hdf() function."}, {"owner": {"reputation": 11, "user_id": 10692887, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-FjZMvGVLqN4/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-iQnJlh0R6A0bZGPgJhkxcWIbFVBA/mo/photo.jpg?sz=128", "display_name": "Sean Ng Pack", "link": "https://stackoverflow.com/users/10692887/sean-ng-pack"}, "reply_to_user": {"reputation": 1358, "user_id": 9194639, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xcKsd.png?s=128&g=1", "display_name": "new QOpenGLWidget", "link": "https://stackoverflow.com/users/9194639/new-qopenglwidget"}, "edited": false, "score": 0, "creation_date": 1574367317, "post_id": 58965091, "comment_id": 104218624, "body": "Okay can you check my latest edit? I found that the output of a string dataset is outputted in ASCII format and is not readable by any software because it is in python code."}], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 10692887, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-FjZMvGVLqN4/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-iQnJlh0R6A0bZGPgJhkxcWIbFVBA/mo/photo.jpg?sz=128", "display_name": "Sean Ng Pack", "link": "https://stackoverflow.com/users/10692887/sean-ng-pack"}, "is_accepted": false, "score": 0, "last_activity_date": 1574706184, "creation_date": 1574706184, "answer_id": 59037963, "question_id": 58965091, "link": "https://stackoverflow.com/questions/58965091/pandas-cannot-convert-csv-to-hdf5-properly/59037963#59037963", "title": "Pandas cannot convert csv to hdf5 properly?", "body": "<p>See issue #<a href=\"https://github.com/pandas-dev/pandas/issues/29780\" rel=\"nofollow noreferrer\">29780</a>\nthe .to_hdf5() pandas function supports internal use. Will try appending to a table and report back what happens.</p>\n"}], "owner": {"reputation": 11, "user_id": 10692887, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-FjZMvGVLqN4/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-iQnJlh0R6A0bZGPgJhkxcWIbFVBA/mo/photo.jpg?sz=128", "display_name": "Sean Ng Pack", "link": "https://stackoverflow.com/users/10692887/sean-ng-pack"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 117, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1574706184, "creation_date": 1574293386, "last_edit_date": 1574367183, "question_id": 58965091, "link": "https://stackoverflow.com/questions/58965091/pandas-cannot-convert-csv-to-hdf5-properly", "title": "Pandas cannot convert csv to hdf5 properly?", "body": "<p>I am working with large csv files and trying to convert them to hdf5 format. When I try to view the output using HDFviewer, I get this strange segmented output consisting multiple datasets instead of one nice cohesive dataset I see with other people's hdf5 files. When I try to open block2 values, it will crash the application I try to open it with. Attached is photo of hdfviewer opening a hdf5 file I generated with pandas.</p>\n\n<p><a href=\"https://i.stack.imgur.com/34fRv.png\" rel=\"nofollow noreferrer\">dataset is split into several blocks and the header and index are on axis=1, and axis=0</a></p>\n\n<p>Example of dataset with headers (col1, col2, col3) with type int, string(object), and float:</p>\n\n<pre><code>+------+------+-------+-----+\n| Col1 | Col2 | Col3  | ... |\n+------+------+-------+-----+\n|    1 | 0x00 | 100.1 | ... |\n|    2 | 0x00 | 100.3 | ... |\n|    3 | 0x00 | 132.3 | ... |\n+------+------+-------+-----+\n</code></pre>\n\n<p>Example of code csv->hdf5:</p>\n\n<pre><code>df = pd.DataFrame()\ndf = pd.read_csv(csv_file)\ndf.to_hdf('example.h5', '/data', complib='zlib', complevel=9)\n</code></pre>\n\n<p>What is going on here?</p>\n\n<p>EDIT: to clarify, I can open my generated .h5 files fine in python using pd.read_hdf()...but applications such as JMP and hdfview display the image I have attached and cannot open it properly and even crash.</p>\n\n<p>EDIT: Okay I know why Pandas splits my dataset into three datasets: because it's more efficient to group datasets of the same type so block0 is a dataset of type int, block1 type float, and block2 type string. However, when I try to open block2 it will freeze hdfviewer. And block2 won't even show up on JMP.</p>\n\n<p>EDIT: OKAY I THINK I FOUND WHAT IS CAUSING THE STRING BLOCK TO BREAK, BUT I DO NOT KNOW HOW TO FIX THIS</p>\n\n<p>Here is an example dataset:</p>\n\n<pre><code>+------+-------+-------+\n|      | Col1  | Col2  |\n+------+-------+-------+\n|    0 | hello | the     | \n|    2 | world | computer| \n|    3 | lol   | is      | \n+------+------+----------+\n</code></pre>\n\n<p>Here is the output when converting to hdf5:</p>\n\n<pre><code>(128, 4, 149, 185, 0, 0, 0, 0, 0, 0, 0, 140, 21, 110, 117, 109, 112, 121, 46, 99, 111, 114, 101, 46, 109, 117, 108, 116, 105, 97, 114, 114, 97, 121, 148, 140, 12, 95, 114, 101, 99, 111, 110, 115, 116, 114, 117, 99, 116, 148, 147, 148, 140, 5, 110, 117, 109, 112, 121, 148, 140, 7, 110, 100, 97, 114, 114, 97, 121, 148, 147, 148, 75, 0, 133, 148, 67, 1, 98, 148, 135, 148, 82, 148, 40, 75, 1, 75, 3, 75, 2, 134, 148, 104, 3, 140, 5, 100, 116, 121, 112, 101, 148, 147, 148, 140, 2, 79, 52, 148, 75, 0, 75, 1, 135, 148, 82, 148, 40, 75, 3, 140, 1, 124, 148, 78, 78, 78, 74, 255, 255, 255, 255, 74, 255, 255, 255, 255, 75, 63, 116, 148, 98, 136, 93, 148, 40, 140, 5, 104, 101, 108, 108, 111, 148, 140, 3, 116, 104, 101, 148, 140, 5, 119, 111, 114, 108, 100, 148, 140, 8, 99, 111, 109, 112, 117, 116, 101, 114, 148, 140, 3, 108, 111, 108, 148, 140, 2, 105, 115, 148, 101, 116, 148, 98, 46)\n</code></pre>\n\n<p>Now run an ascii-> text converter and it shows: </p>\n\n<pre><code>\u00b9numpy.core.multiarray_reconstructnumpyndarrayKCbR(KKKhdtypeO4KKR(K|NNNJ\u00ff\u00ff\u00ff\u00ffJ\u00ff\u00ff\u00ff\u00ffK?tb](hellotheworldcomputerlolisetb\n</code></pre>\n\n<p>so it's writing actual python code to the hdf5 file and breaking everything. Is this a bug with pandas?</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 3364, "user_id": 7508700, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ms4Mr.png?s=128&g=1", "display_name": "David Buck", "link": "https://stackoverflow.com/users/7508700/david-buck"}, "edited": false, "score": 2, "creation_date": 1574293383, "post_id": 58965076, "comment_id": 104185252, "body": "Because you&#39;re using <code>available == True</code> to assign the value. Should be <code>available = True</code>. You set it to <code>False</code> (correctly) at the beginning because you don&#39;t know if it is available, and only set it to <code>True</code> when you&#39;ve established that it is."}, {"owner": {"reputation": 3364, "user_id": 7508700, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ms4Mr.png?s=128&g=1", "display_name": "David Buck", "link": "https://stackoverflow.com/users/7508700/david-buck"}, "edited": false, "score": 0, "creation_date": 1574293617, "post_id": 58965076, "comment_id": 104185316, "body": "You also try to set it to <code>True</code> twice each time, once after the colour check and once after the size check. That can&#39;t be correct."}, {"owner": {"reputation": 2686, "user_id": 9705687, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v7dmz.jpg?s=128&g=1", "display_name": "bfris", "link": "https://stackoverflow.com/users/9705687/bfris"}, "edited": false, "score": 0, "creation_date": 1574300641, "post_id": 58965076, "comment_id": 104186940, "body": "Instead of setting <code>available = False</code> at the beginning of your code, you could also set it to False in the <code>Else: Print(&#39;Nope&#39;)</code> section. It&#39;s a matter of personal preference. I think I prefer putting it in the Else myself."}], "answers": [{"tags": [], "owner": {"reputation": 3364, "user_id": 7508700, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ms4Mr.png?s=128&g=1", "display_name": "David Buck", "link": "https://stackoverflow.com/users/7508700/david-buck"}, "is_accepted": true, "score": 1, "last_activity_date": 1574294076, "creation_date": 1574294076, "answer_id": 58965179, "question_id": 58965076, "link": "https://stackoverflow.com/questions/58965076/shirt-order-program/58965179#58965179", "title": "Shirt Order program", "body": "<p>A couple of simple changes will make it work.</p>\n\n<ol>\n<li>Change <code>available == True</code> to <code>available = True</code> - first is comparison, second is assignment. </li>\n<li><code>if colour and size == available:</code> isn't correct. <code>colour</code> and <code>size</code> are the inputs. You only have one <code>available</code> variable and that's either <code>True</code> or <code>False</code>. This is enough for you to check if it's available for that <code>colour</code> and <code>size</code>.</li>\n</ol>\n\n<pre><code>#variable inputs\ncolour = input(\"What colour shirt? \" ).lower()\nsize = input(\"What size? \" ).lower()\n\n#why do i set available to False?\navailable = False\n\n\nif colour == \"white\":\n    if size == \"m\" or size == \"l\":\n        available = True\n        print(\"Available\")\n\n    else:\n        print(\"Unavailable\")\n\nelif colour == \"blue\":\n    if size == \"s\" or size == \"m\":\n        available = True\n        print(\"Available\")\n\n    else:\n        print(\"Unavailable\")\n\nelse:\n    print(\"Nope\")\n\n#why doesn't this run?\nif available:    \n    output = print(\"The\", colour, \"shirt is available in\", size)\n    print(output)\n</code></pre>\n\n<p>You asked about why you set <code>available</code> to <code>False</code> at the start. This is a pretty common way of working with logic. You start off, in this case, assuming that <code>available</code> is <code>False</code>. A reasonable assumption as there are far more colour and size options that are not available than those that are. You then check to see if it's actually <code>True</code> and, if so, you change it to <code>True</code> when you know that it is.</p>\n"}, {"tags": [], "owner": {"reputation": 1561, "user_id": 8645002, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/xNDuX.png?s=128&g=1", "display_name": "CoderLee", "link": "https://stackoverflow.com/users/8645002/coderlee"}, "is_accepted": false, "score": 0, "last_activity_date": 1574295758, "creation_date": 1574295758, "answer_id": 58965404, "question_id": 58965076, "link": "https://stackoverflow.com/questions/58965076/shirt-order-program/58965404#58965404", "title": "Shirt Order program", "body": "<p>Here's an example of a more succinct way:</p>\n\n<pre><code>colour = input(\"What colour shirt?\").lower()\nsize = input(\"What size? \").lower()\n\navailable = False\n\n'''\nFirst we filter out non blue or white shirts\n'''\nif colour == 'white' or colour == 'blue':\n    '''\n    Now we get the right sizes\n    '''\n    if colour == 'white' and size == 'l' or size == 'm':\n        available = True\n        print('shirt is available')\n        print('order is confirmed')\n    elif colour == 'blue' and size == 'm' or size == 's':\n        available = True\n        print('shirt is available')\n        print('order is confirmed')\n    else:\n        print('Sorry, that shirt is unavailable')\nelse:\n    print('Sorry, that shirt is unavailable')\n</code></pre>\n\n<p>And for your other questions and original code:</p>\n\n<pre><code>#variable inputs\ncolour = input(\"What colour shirt? \" ).lower()\nsize = input(\"What size? \" ).lower()\n\n#why do i set available to False?\n'''\nYou want to set this to false because you're only going to say a shirt is available when it is.\nThis way you can't 'forget' to say to you don't have it in stock. It's a safe guard in logic.\n'''\navailable = False\n\n\nif colour == \"white\":\n    available == True\n    if size == \"m\" or size == \"l\":\n        available == True\n        print(\"Available\")\n\n    else:\n        print(\"Unavailable\")\n\nelif colour == \"blue\":\n    available == True\n\n    if size == \"s\" or size == \"m\":\n        available == True\n        print(\"Available\")\n\n    else:\n        print(\"Unavailable\")\n\nelse:\n    print(\"Nope\")\n\n#why doesn't this run?\n'''\nThis if block isn't being run because the colour and size variables are strings, \nthey aren't changed to mean True or False so the if never returns true.\n'''\nif colour and size == available:\n    output = print(\"The\", colour, \"shirt is available in\", size)\n    print(output)\n</code></pre>\n\n<p>That's a real common and easy way to keep you isValid or isTrue variable correct. You'll find lots of places where that will help you out. Also it's a good idea to see if you can write conditions in smaller chuncks or group similar ones together. That will help increase code readability and sanity checks when you read it out loud or back to yourself. Hope this can help!</p>\n"}], "owner": {"reputation": 3, "user_id": 12407085, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bed1f0a4c1dedd2085f629cc8feb5e2b?s=128&d=identicon&r=PG&f=1", "display_name": "noinion", "link": "https://stackoverflow.com/users/12407085/noinion"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 258, "favorite_count": 0, "accepted_answer_id": 58965179, "answer_count": 2, "score": 0, "last_activity_date": 1574295758, "creation_date": 1574293249, "last_edit_date": 1574293524, "question_id": 58965076, "link": "https://stackoverflow.com/questions/58965076/shirt-order-program", "title": "Shirt Order program", "body": "<p>this is my code for a small task in Microsoft's Python course. I looked through their forums but none of the discussion pages were of much help.</p>\n\n<p><img src=\"https://i.stack.imgur.com/T4pYC.png\" alt=\"The task\"></p>\n\n<p>What I'm confused about is why my end <em>if</em> statement doesn't run and I'm not sure how Booleans work and why I have to set available to False for it to work, and then set the rest to True. Why can't I just set available to True?</p>\n\n<p>And, how can I code this in a more succinct manner?</p>\n\n<pre><code>#variable inputs\ncolour = input(\"What colour shirt? \" ).lower()\nsize = input(\"What size? \" ).lower()\n\n#why do i set available to False?\navailable = False\n\n\nif colour == \"white\":\n    available == True\n    if size == \"m\" or size == \"l\":\n        available == True\n        print(\"Available\")\n\n    else:\n        print(\"Unavailable\")\n\nelif colour == \"blue\":\n    available == True\n\n    if size == \"s\" or size == \"m\":\n        available == True\n        print(\"Available\")\n\n    else:\n        print(\"Unavailable\")\n\nelse:\n    print(\"Nope\")\n\n#why doesn't this run?\nif colour and size == available:\n    output = print(\"The\", colour, \"shirt is available in\", size)\n    print(output)\n</code></pre>\n"}, {"tags": ["python", "assembly", "arm64"], "comments": [{"owner": {"reputation": 52454, "user_id": 547981, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90042f6f33a9f87769fac02096ceea68?s=128&d=identicon&r=PG", "display_name": "Jester", "link": "https://stackoverflow.com/users/547981/jester"}, "edited": false, "score": 2, "creation_date": 1574293880, "post_id": 58965069, "comment_id": 104185361, "body": "You have 3 instructions here. Have you consulted an instruction set reference on what each does? Which part is unclear?"}, {"owner": {"reputation": 11, "user_id": 12407139, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mCWNQpehXV5et6joCEdvXU5SBpjHweqHHdF1YsiOg=k-s128", "display_name": "Paul", "link": "https://stackoverflow.com/users/12407139/paul"}, "reply_to_user": {"reputation": 52454, "user_id": 547981, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90042f6f33a9f87769fac02096ceea68?s=128&d=identicon&r=PG", "display_name": "Jester", "link": "https://stackoverflow.com/users/547981/jester"}, "edited": false, "score": 1, "creation_date": 1574358453, "post_id": 58965069, "comment_id": 104214567, "body": "Hello Jester, Yes I used the ARM64 reference guide along with a written guide on the language. I have edited my question to include what I do (or at least I think) understand along with where I get lost. Any help would be awesome."}], "answers": [{"comments": [{"owner": {"reputation": 240669, "user_id": 224132, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/N4ivW.png?s=128&g=1", "display_name": "Peter Cordes", "link": "https://stackoverflow.com/users/224132/peter-cordes"}, "edited": false, "score": 0, "creation_date": 1574372729, "post_id": 58980996, "comment_id": 104221030, "body": "I think it would be worth mentioning that <code>ldur</code> is just a form of <code>ldr</code> that allows arbitrary byte offsets instead of only multiples of the operand-size.  IDK why the original used that when the addressing modes all use <code>#0</code> as the offset.  Maybe also simplify the asm to use addressing-mode offsets instead of separate <code>add</code> instructions.  Or not since I doubt many future readers will see this."}], "tags": [], "owner": {"reputation": 52454, "user_id": 547981, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90042f6f33a9f87769fac02096ceea68?s=128&d=identicon&r=PG", "display_name": "Jester", "link": "https://stackoverflow.com/users/547981/jester"}, "is_accepted": false, "score": 0, "last_activity_date": 1574358960, "creation_date": 1574358960, "answer_id": 58980996, "question_id": 58965069, "link": "https://stackoverflow.com/questions/58965069/converting-this-arm64-assembly-into-python/58980996#58980996", "title": "Converting this ARM64 Assembly into Python?", "body": "<blockquote>\n  <p>ADD X9, X6, #8</p>\n  \n  <p>I understand this is X9 = A + 8, not sure what the value of the array would be here</p>\n</blockquote>\n\n<p>Correct. The value of <code>X6</code> is just the base address of the array, as the problem description says.</p>\n\n<blockquote>\n  <p>STUR X1, [X6, #0]</p>\n  \n  <p>I believe this \"Stores\" the value at X1 into A[0]?</p>\n</blockquote>\n\n<p>Correct. <code>X1</code> has been defined as variable <code>G</code> in the problem description. So that's <code>A[0] = G;</code></p>\n\n<blockquote>\n  <p>LDUR X8, [X10,#0]</p>\n  \n  <p>This \"stores\" the value at ?X10[0]? into X8?</p>\n</blockquote>\n\n<p>Correct, but moving data from memory into a register is called a load. Hence the instruction name (LD = load). Also remember that <code>X10</code> has been set to <code>X7+16</code> with <code>X7</code> being the array <code>B</code>. Furthermore, <code>LDUR</code> uses byte indexing so the 16 means 16 bytes. Assuming <code>B</code> is an array containing 64 bit numbers that's 8 bytes per item so 16 bytes is 2 items. All of this boils down to <code>X8 = B[2];</code>.</p>\n\n<blockquote>\n  <p>LDUR X5, [X9, #0]</p>\n</blockquote>\n\n<p>By the same logic, this is <code>X5 = A[1];</code> so the final result is <code>F = B[2] + A[1];</code>.</p>\n"}], "owner": {"reputation": 11, "user_id": 12407139, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mCWNQpehXV5et6joCEdvXU5SBpjHweqHHdF1YsiOg=k-s128", "display_name": "Paul", "link": "https://stackoverflow.com/users/12407139/paul"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 97, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1574372483, "creation_date": 1574293202, "last_edit_date": 1574372483, "question_id": 58965069, "link": "https://stackoverflow.com/questions/58965069/converting-this-arm64-assembly-into-python", "title": "Converting this ARM64 Assembly into Python?", "body": "<p>Assume X6 is the base address for array \"A\"</p>\n\n<p>Assume X7 is the base address for array \"B\"</p>\n\n<p>F,G,H,I = X0,X1,X2,X3,X4 respectively</p>\n\n<p>What exactly is this AArch64 assembly doing?</p>\n\n<p>A python code representation using the above variables would be amazing :)</p>\n\n<pre><code>ADD  X9,  X6, #8     // I understand this is X9 = A + 8, not sure what the value of the array would be here\n\nADD  X10, X7, #16    // Same idea\n\nSTUR X1, [X6, #0]    // I believe this \"Stores\" the value at X1 into A[0]?\n\nLDUR X8,  [X10,#0]   // This \"stores\" the value at ?X10[0]? into X8?\n\nLDUR X5,  [X9, #0]   // This \"stores\" the value at ?X9[0]? into X5?\n\nADD  X0,  X8, X5     // F = X8 + X5\n</code></pre>\n\n<p>I get lost during the LDUR stages and what exactly is in X5 and X8</p>\n"}, {"tags": ["python", "mysql", "sqlite"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 3, "creation_date": 1574296614, "post_id": 58965038, "comment_id": 104186009, "body": "If you use MySQL Connector, the <code>dictionary=True</code> parameter to <code>connection.cursor()</code> tells it to return rows as dictionaries."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1574296631, "post_id": 58965038, "comment_id": 104186012, "body": "<a href=\"https://dev.mysql.com/doc/connector-python/en/connector-python-api-mysqlcursordict.html\" rel=\"nofollow noreferrer\">dev.mysql.com/doc/connector-python/en/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 705, "user_id": 9122757, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-rn9SqfJaO8U/AAAAAAAAAAI/AAAAAAAABPM/5TS3CiwjLow/photo.jpg?sz=128", "display_name": "EXODIA", "link": "https://stackoverflow.com/users/9122757/exodia"}, "is_accepted": true, "score": 0, "last_activity_date": 1615579246, "creation_date": 1615579246, "answer_id": 66606436, "question_id": 58965038, "link": "https://stackoverflow.com/questions/58965038/row-factory-alternative-for-mysql-in-python/66606436#66606436", "title": "row_factory alternative for mysql in python", "body": "<p>Since this question does not has any answer and I solved the problem using the comment by Barmar I am pasting that as accepted solution.</p>\n<p>The <code>dictionary=True</code> parameter to <code>connection.cursor()</code> tells it to return rows as dictionaries</p>\n"}], "owner": {"reputation": 705, "user_id": 9122757, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-rn9SqfJaO8U/AAAAAAAAAAI/AAAAAAAABPM/5TS3CiwjLow/photo.jpg?sz=128", "display_name": "EXODIA", "link": "https://stackoverflow.com/users/9122757/exodia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 388, "favorite_count": 0, "accepted_answer_id": 66606436, "answer_count": 1, "score": 2, "last_activity_date": 1615579246, "creation_date": 1574292985, "question_id": 58965038, "link": "https://stackoverflow.com/questions/58965038/row-factory-alternative-for-mysql-in-python", "title": "row_factory alternative for mysql in python", "body": "<p>I used row_factory in sqllite so that my rows can be returned in a dictionary format with column names. I used:</p>\n\n<pre><code>conn = sqlite3.connect('gutendex.db')\nconn.row_factory = dict_factory\n\ndef dict_factory(cursor, row):\n    d = {}\n    for idx, col in enumerate(cursor.description):\n        d[col[0]] = row[idx]\n    return d\n</code></pre>\n\n<p>I want to use similar thing in mysql db as well but I couldnt find an alternative for it</p>\n"}, {"tags": ["python", "selenium"], "answers": [{"tags": [], "owner": {"reputation": 337, "user_id": 6077264, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57d7d778c6f2b276d26222517def4c8e?s=128&d=identicon&r=PG", "display_name": "nguyenvanhieuvn", "link": "https://stackoverflow.com/users/6077264/nguyenvanhieuvn"}, "is_accepted": false, "score": 1, "last_activity_date": 1574306010, "creation_date": 1574306010, "answer_id": 58966722, "question_id": 58965029, "link": "https://stackoverflow.com/questions/58965029/get-the-url-from-this-output-of-selenium-in-python/58966722#58966722", "title": "Get the URL from this output of Selenium in Python", "body": "<p>Firstly, get style atribute by:</p>\n\n<pre><code>div = driver.find_element_by_class_name('zoomWindow')\nstyle = div.get_attribute(\"style\") # str\n</code></pre>\n\n<p>Then, using regex to find url from style:</p>\n\n<pre><code>import re\nurls = re.findall(r\"https?://.+\\.jpg\", style) # list\nprint (urls[0])\n</code></pre>\n"}], "owner": {"reputation": 472, "user_id": 10597994, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-cnIc3IbHwkc/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbCkYjaH1w8qbYXPpJiXYQHpZvgcOQ/mo/photo.jpg?sz=128", "display_name": "Naik", "link": "https://stackoverflow.com/users/10597994/naik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 23, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1574306010, "creation_date": 1574292928, "question_id": 58965029, "link": "https://stackoverflow.com/questions/58965029/get-the-url-from-this-output-of-selenium-in-python", "title": "Get the URL from this output of Selenium in Python", "body": "<p>How can I get the URL from this output of Selenium in Python?</p>\n\n<pre><code>&lt;div style=\"z-index: 999; overflow: hidden; background-position: 0px 0px; text-align: center; background-color: rgb(255, 255, 255); width: 480px; height: 672.172px; float: left; background-size: 1054px 1476px; display: none; border: 0px solid rgb(136, 136, 136); background-repeat: no-repeat; position: absolute; background-image: url(&amp;quot;https://photo.venus.com/im/19230307.jpg?preset=zoom&amp;quot;);\" class=\"zoomWindow\"&gt;&amp;nbsp;&lt;/div&gt;\n\n</code></pre>\n\n<p>I got the above output from the following command line:</p>\n\n<pre><code>driver.find_element_by_class_name('zoomWindowContainer')\n</code></pre>\n"}, {"tags": ["python", "json"], "comments": [{"owner": {"reputation": 700, "user_id": 6274595, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/fbccb62f5faf92749bd3183879fbd21e?s=128&d=identicon&r=PG&f=1", "display_name": "PL200", "link": "https://stackoverflow.com/users/6274595/pl200"}, "edited": false, "score": 0, "creation_date": 1574293059, "post_id": 58965025, "comment_id": 104185179, "body": "How doesn&#39;t it work? What happens?"}, {"owner": {"reputation": 85, "user_id": 9836349, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jy01y.jpg?s=128&g=1", "display_name": "AC-1994", "link": "https://stackoverflow.com/users/9836349/ac-1994"}, "reply_to_user": {"reputation": 700, "user_id": 6274595, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/fbccb62f5faf92749bd3183879fbd21e?s=128&d=identicon&r=PG&f=1", "display_name": "PL200", "link": "https://stackoverflow.com/users/6274595/pl200"}, "edited": false, "score": 0, "creation_date": 1574293494, "post_id": 58965025, "comment_id": 104185280, "body": "I have always the same error :  <code>print(data_champ[element][&quot;key&quot;]) KeyError: &#39;Aatrox&#39;</code>"}, {"owner": {"reputation": 700, "user_id": 6274595, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/fbccb62f5faf92749bd3183879fbd21e?s=128&d=identicon&r=PG&f=1", "display_name": "PL200", "link": "https://stackoverflow.com/users/6274595/pl200"}, "edited": false, "score": 0, "creation_date": 1574294239, "post_id": 58965025, "comment_id": 104185429, "body": "what happens if you print &#39;element&#39; and comment out the two existing print statements?"}, {"owner": {"reputation": 991, "user_id": 11981207, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDMl-KbtprUZGl_XAs7czxfJgfDG0zK2kye2G75qA=k-s128", "display_name": "Kei", "link": "https://stackoverflow.com/users/11981207/kei"}, "edited": false, "score": 0, "creation_date": 1574295390, "post_id": 58965025, "comment_id": 104185698, "body": "As to why you are getting that error, <code>data_champ</code> does not have a key of &#39;Aatrox&#39;. However, <code>data_champ[&#39;data&#39;]</code> does, so if you had used <code>data_champ[&#39;data&#39;][element][&quot;key&quot;]</code> it should have worked as expected."}], "answers": [{"tags": [], "owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "is_accepted": true, "score": 1, "last_activity_date": 1574296395, "last_edit_date": 1574296395, "creation_date": 1574294477, "answer_id": 58965233, "question_id": 58965025, "link": "https://stackoverflow.com/questions/58965025/how-to-extract-these-data-items-from-json-file/58965233#58965233", "title": "How to extract these data items from JSON file?", "body": "<p>In the structure of the JSON data in your question, the value associated with the <code>data</code> key is a dictionary-of-dictionaries, so you would need to access the value of each one of them like this:</p>\n\n<pre><code>import json\n\nwith open('champion.json',  encoding=\"utf8\") as all_data:\n    data_champ = json.load(all_data)\n\nfor value in data_champ['data'].values():\n    print(value[\"key\"])\n    print(value['id'])\n</code></pre>\n\n<p>Output:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>266\nAatrox\n103\nAhri\n</code></pre>\n\n<p>I also changed the file handling to ensure it gets closed properly by using a <code>with</code> statement.</p>\n"}], "owner": {"reputation": 85, "user_id": 9836349, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jy01y.jpg?s=128&g=1", "display_name": "AC-1994", "link": "https://stackoverflow.com/users/9836349/ac-1994"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "accepted_answer_id": 58965233, "answer_count": 1, "score": 2, "last_activity_date": 1574296395, "creation_date": 1574292902, "last_edit_date": 1574295966, "question_id": 58965025, "link": "https://stackoverflow.com/questions/58965025/how-to-extract-these-data-items-from-json-file", "title": "How to extract these data items from JSON file?", "body": "<p>I have a JSON file and I would like to get 'id' value and 'key' value for each champion:</p>\n\n<p>Here example with 2 champions of my <code>champion.json</code> file, but if I have 100 champions how can I do that?</p>\n\n<pre class=\"lang-jdon prettyprint-override\"><code>{\n    \"type\": \"champion\",\n    \"format\": \"standAloneComplex\",\n    \"version\": \"9.23.1\",\n    \"data\": {\n        \"Aatrox\": {\n            \"version\": \"9.23.1\",\n            \"id\": \"Aatrox\",\n            \"key\": \"266\",\n            \"name\": \"Aatrox\",\n            \"title\": \"the Darkin Blade\"\n        },\n        \"Ahri\": {\n            \"version\": \"9.23.1\",\n            \"id\": \"Ahri\",\n            \"key\": \"103\",\n            \"name\": \"Ahri\",\n            \"title\": \"the Nine-Tailed Fox\"\n        }\n    }\n}\n</code></pre>\n\n<p>My python file :</p>\n\n<pre><code>import json\n\nall_data = open('champion.json',  encoding=\"utf8\")\ndata_champ = json.load(all_data)\n\nfor element in data_champ['data']:\n    print(data_champ[element][\"key\"])\n    print(data_champ[element]['id'])\n</code></pre>\n"}, {"tags": ["python", "machine-learning", "scikit-learn", "neural-network", "random-forest"], "answers": [{"comments": [{"owner": {"reputation": 183, "user_id": 9473420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56b94e19777286be9f5c934308e9f6f9?s=128&d=identicon&r=PG&f=1", "display_name": "victory", "link": "https://stackoverflow.com/users/9473420/victory"}, "edited": false, "score": 0, "creation_date": 1574293453, "post_id": 58965054, "comment_id": 104185269, "body": "I understand. Can I ask then, is it better to split data, train them, see accuracy and with that trained classifier predict Y_estimated. Or train them with 100% sample and predict Y_estimated? What would eventually be more accurate?"}, {"owner": {"reputation": 85, "user_id": 8998134, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c402694707d9ae5c58d26d31fad9d153?s=128&d=identicon&r=PG&f=1", "display_name": "Pascal", "link": "https://stackoverflow.com/users/8998134/pascal"}, "reply_to_user": {"reputation": 183, "user_id": 9473420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56b94e19777286be9f5c934308e9f6f9?s=128&d=identicon&r=PG&f=1", "display_name": "victory", "link": "https://stackoverflow.com/users/9473420/victory"}, "edited": false, "score": 1, "creation_date": 1574295690, "post_id": 58965054, "comment_id": 104185769, "body": "@victory, those are not really comparable. For reliable accuracy statistics, you need to reserve a little bit of the dataset. Evaluation and prediction are very similar, evaluation compares the generated label to the real one while prediction tells you the label it thinks it is. Predicting labels when not reserving part of the dataset as test will not give you a correct answer or at least not a useful one. The whole point of machine learning is that the computer can train on one set and identify <b>another</b>. You always need to reserve a little bit of your data to test on or predict later."}, {"owner": {"reputation": 8205, "user_id": 1397946, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/G8wB1.png?s=128&g=1", "display_name": "Lukasz Tracewski", "link": "https://stackoverflow.com/users/1397946/lukasz-tracewski"}, "edited": false, "score": 0, "creation_date": 1574318341, "post_id": 58965054, "comment_id": 104191583, "body": "The very point of building a model is that it generalises well. Typically you use 3 sets: training, dev and test (terminology varies). Dev set is used to tune hyperparameters while test to report your metrics. It needs to be &quot;large enough&quot; to represent well general population. If you say &quot;but then I don&#39;t have enough training data!&quot;, maybe ML is not a good option and some heuristics should be used. Or you should use weakly supervised models. Or less &quot;data hungry&quot; algorithm."}], "tags": [], "owner": {"reputation": 85, "user_id": 8998134, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c402694707d9ae5c58d26d31fad9d153?s=128&d=identicon&r=PG&f=1", "display_name": "Pascal", "link": "https://stackoverflow.com/users/8998134/pascal"}, "is_accepted": true, "score": 2, "last_activity_date": 1574293113, "creation_date": 1574293113, "answer_id": 58965054, "question_id": 58964954, "link": "https://stackoverflow.com/questions/58964954/how-to-check-machine-learning-accuracy-without-cross-validation/58965054#58965054", "title": "How to check machine learning accuracy without cross validation", "body": "<p>Splitting your data is critical for evaluation. \nThere is no way that you could train your model on 100% of the data and be able to get a correct evaluation accuracy unless you expand your dataset. I mean, you could change your train/test split, or try to optimize your model in other ways, but i guess the simple answer to your question would be no.</p>\n"}, {"tags": [], "owner": {"reputation": 1226, "user_id": 7032896, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cf0Nr.jpg?s=128&g=1", "display_name": "abhikumar22", "link": "https://stackoverflow.com/users/7032896/abhikumar22"}, "is_accepted": false, "score": 1, "last_activity_date": 1574319358, "creation_date": 1574319358, "answer_id": 58968965, "question_id": 58964954, "link": "https://stackoverflow.com/questions/58964954/how-to-check-machine-learning-accuracy-without-cross-validation/58968965#58968965", "title": "How to check machine learning accuracy without cross validation", "body": "<p>As per your requirement, you can try <a href=\"https://machinelearningmastery.com/k-fold-cross-validation/\" rel=\"nofollow noreferrer\">K Fold Cross Validation</a>. If you split it in 90|10 i.e for Train|Test. <br> Achieving to take 100% data for training is not possible as you have to test the data then only you can validate the same that how good your model is. K Fold CV takes your whole train data into consideration in each fold and randomly takes test data sample from the train data.<br> And lastly calculates the accuracy by taking summation of all the folds. Then finally you can test the accuracy by using 10% of the data.\nMore you can read <a href=\"https://medium.com/datadriveninvestor/k-fold-cross-validation-6b8518070833\" rel=\"nofollow noreferrer\">here</a> and <a href=\"https://www.analyticsvidhya.com/blog/2018/05/improve-model-performance-cross-validation-in-python-r/\" rel=\"nofollow noreferrer\">here</a></p>\n\n<blockquote>\n  <p><strong>K Fold Cross Validation</strong></p>\n</blockquote>\n\n<p><a href=\"https://i.stack.imgur.com/SjR0Z.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SjR0Z.png\" alt=\"enter image description here\"></a></p>\n\n<p>Skearn provides simple methods for performing K fold cross validation. Simply you have to pass no of folds in the method. But then remember, more the folds, it takes more time to train the model. More you can check <a href=\"https://scikit-learn.org/stable/modules/cross_validation.html#computing-cross-validated-metrics\" rel=\"nofollow noreferrer\">here</a></p>\n"}, {"tags": [], "owner": {"reputation": 53, "user_id": 9429364, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Tk9jE.jpg?s=128&g=1", "display_name": "SHAISTA SULTANA", "link": "https://stackoverflow.com/users/9429364/shaista-sultana"}, "is_accepted": false, "score": 0, "last_activity_date": 1574342213, "creation_date": 1574342213, "answer_id": 58975977, "question_id": 58964954, "link": "https://stackoverflow.com/questions/58964954/how-to-check-machine-learning-accuracy-without-cross-validation/58975977#58975977", "title": "How to check machine learning accuracy without cross validation", "body": "<p>It is not necessary to do 75|25 split of your data all the time. 75\n|25 is kind of old school now. It greatly depends on the amount of data that you have. For example, if you have 1 billion sentences for training a language model, it is not necessary to reserve 25% for testing. </p>\n\n<p>Also, I second the previous answer of trying K-fold cross-validation. As a side note, you could consider looking at the other metrics like precision and recall as well.</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 12510613, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/22a70952982e5cd7a66c108b60076636?s=128&d=identicon&r=PG", "display_name": "Tobias Sterbak", "link": "https://stackoverflow.com/users/12510613/tobias-sterbak"}, "is_accepted": false, "score": 0, "last_activity_date": 1576241336, "creation_date": 1576241336, "answer_id": 59322952, "question_id": 58964954, "link": "https://stackoverflow.com/questions/58964954/how-to-check-machine-learning-accuracy-without-cross-validation/59322952#59322952", "title": "How to check machine learning accuracy without cross validation", "body": "<p>In general <strong>splitting your data set is critical for evaluation</strong>. So I would recommend you <strong>always</strong> do that.</p>\n\n<p>Said that, there are methods that in some sense allow you to train on all your data and still get an estimate of your performance or to estimate the generalization accuracy.\nOne particularly prominent method is leveraging out-of-bag samples of models based on bootstrapping, i.e. RandomForests.</p>\n\n<pre><code>from sklearn.ensemble import RandomForestClassifier\nrf = RandomForestClassifier(n_estimators=100, bootstrap=True, oob_score=True)\nrf.fit(X, y)\nprint(rf.oob_score_)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 57, "user_id": 12506343, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf37880044f5731ca5e8a916c6d8ade2?s=128&d=identicon&r=PG&f=1", "display_name": "Ashwath Shetty", "link": "https://stackoverflow.com/users/12506343/ashwath-shetty"}, "is_accepted": false, "score": 0, "last_activity_date": 1601881221, "creation_date": 1601881221, "answer_id": 64203772, "question_id": 58964954, "link": "https://stackoverflow.com/questions/58964954/how-to-check-machine-learning-accuracy-without-cross-validation/64203772#64203772", "title": "How to check machine learning accuracy without cross validation", "body": "<p>if you are doing classification always go with stratified k-fold cv(<a href=\"https://machinelearningmastery.com/cross-validation-for-imbalanced-classification/\" rel=\"nofollow noreferrer\">https://machinelearningmastery.com/cross-validation-for-imbalanced-classification/</a>).\nif you're doing regression then go with simple k-fold cv or you can divide the target as bins and do stratified k-fold cv. by this way you can use your data completely in model training.</p>\n"}], "owner": {"reputation": 183, "user_id": 9473420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56b94e19777286be9f5c934308e9f6f9?s=128&d=identicon&r=PG&f=1", "display_name": "victory", "link": "https://stackoverflow.com/users/9473420/victory"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1495, "favorite_count": 0, "accepted_answer_id": 58965054, "answer_count": 5, "score": 2, "last_activity_date": 1601881221, "creation_date": 1574292388, "last_edit_date": 1574329966, "question_id": 58964954, "link": "https://stackoverflow.com/questions/58964954/how-to-check-machine-learning-accuracy-without-cross-validation", "title": "How to check machine learning accuracy without cross validation", "body": "<p>I have training sample <code>X_train</code>, and <code>Y_train</code> to train and <code>X_estimated</code>.\nI got task to make my classificator learn as accurate as it can, and then predict vector of results over <code>X_estimated</code> to get close results to <code>Y_estimated</code> (which i have now, and I have to be as much precise as it can). If I split my training data to like 75/25 to train and test it, I can get accuracy using <code>sklearn.metrics.accuracy_score</code> and confusion matrix. But I am losing that 25% of samples, that would make my predictions more accurate. </p>\n\n<p>Is there any way, I could learn by using 100% of the data, and still be able to see accuracy score (or percentage), so I can predict it many times, and save best (%) result?\nI am using random forest with 500 estimators, and usually get like 90% accuracy. I want to save best prediction vector as possible for my task, without splitting any data (not wasting anything), but still be able to calculate accuracy (so I can save best prediction vector) from multiple attempts (random forest always shows different results)</p>\n\n<p>Thank you</p>\n"}, {"tags": ["python", "pandas", "duplicates"], "comments": [{"owner": {"reputation": 3426, "user_id": 10818128, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-YiTeo4kuZiQ/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcYYf6McGCeXvwrDf9sDgLHNO5VGKQ/mo/photo.jpg?sz=128", "display_name": "Derek Eden", "link": "https://stackoverflow.com/users/10818128/derek-eden"}, "edited": false, "score": 0, "creation_date": 1574294252, "post_id": 58964953, "comment_id": 104185436, "body": "what about groupby([&#39;Manager&#39;,&#39;Name&#39;])[&#39;Hours&#39;]..would be helpful if you had an example df and desired output"}, {"owner": {"reputation": 187, "user_id": 811002, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/voAR7.jpg?s=128&g=1", "display_name": "JRM", "link": "https://stackoverflow.com/users/811002/jrm"}, "reply_to_user": {"reputation": 3426, "user_id": 10818128, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-YiTeo4kuZiQ/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcYYf6McGCeXvwrDf9sDgLHNO5VGKQ/mo/photo.jpg?sz=128", "display_name": "Derek Eden", "link": "https://stackoverflow.com/users/10818128/derek-eden"}, "edited": false, "score": 0, "creation_date": 1574294496, "post_id": 58964953, "comment_id": 104185478, "body": "I can post that - give me some time"}, {"owner": {"reputation": 187, "user_id": 811002, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/voAR7.jpg?s=128&g=1", "display_name": "JRM", "link": "https://stackoverflow.com/users/811002/jrm"}, "reply_to_user": {"reputation": 3426, "user_id": 10818128, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-YiTeo4kuZiQ/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcYYf6McGCeXvwrDf9sDgLHNO5VGKQ/mo/photo.jpg?sz=128", "display_name": "Derek Eden", "link": "https://stackoverflow.com/users/10818128/derek-eden"}, "edited": false, "score": 1, "creation_date": 1574350332, "post_id": 58964953, "comment_id": 104209974, "body": "Ok I have tried adding what it looks like"}], "answers": [{"comments": [{"owner": {"reputation": 1358, "user_id": 9194639, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xcKsd.png?s=128&g=1", "display_name": "new QOpenGLWidget", "link": "https://stackoverflow.com/users/9194639/new-qopenglwidget"}, "edited": false, "score": 0, "creation_date": 1574298530, "post_id": 58965565, "comment_id": 104186446, "body": "How would it be helpful?"}, {"owner": {"reputation": 107, "user_id": 8327117, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4453a9c5964bb1328d56df7557954f78?s=128&d=identicon&r=PG&f=1", "display_name": "kcEmenike", "link": "https://stackoverflow.com/users/8327117/kcemenike"}, "reply_to_user": {"reputation": 1358, "user_id": 9194639, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xcKsd.png?s=128&g=1", "display_name": "new QOpenGLWidget", "link": "https://stackoverflow.com/users/9194639/new-qopenglwidget"}, "edited": false, "score": 0, "creation_date": 1574324490, "post_id": 58965565, "comment_id": 104194280, "body": "grouping by &#39;Manager&#39; means there will no &#39;Manager&#39; duplicates.   Then you can apply the agg method with specific aggregation functions (in this case, sum and count). Then sort by the sum/Hours multi-index  <code>df.groupby(&#39;Manager&#39;).agg({&#39;Hours&#39;:[&#39;sum&#39;,&#39;count&#39;]}).sort_va&zwnj;&#8203;lues((&#39;Hours&#39;,&#39;sum&#39;)&zwnj;&#8203;, ascending=False)</code>"}, {"owner": {"reputation": 187, "user_id": 811002, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/voAR7.jpg?s=128&g=1", "display_name": "JRM", "link": "https://stackoverflow.com/users/811002/jrm"}, "edited": false, "score": 0, "creation_date": 1574348581, "post_id": 58965565, "comment_id": 104208920, "body": "let me try it out"}, {"owner": {"reputation": 187, "user_id": 811002, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/voAR7.jpg?s=128&g=1", "display_name": "JRM", "link": "https://stackoverflow.com/users/811002/jrm"}, "edited": false, "score": 0, "creation_date": 1574350374, "post_id": 58965565, "comment_id": 104209997, "body": "<code>df.groupby(&#39;Manager&#39;).sum()[&#39;Hours&#39;]</code> give me &quot;nan&quot; in total hours"}], "tags": [], "owner": {"reputation": 107, "user_id": 8327117, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4453a9c5964bb1328d56df7557954f78?s=128&d=identicon&r=PG&f=1", "display_name": "kcEmenike", "link": "https://stackoverflow.com/users/8327117/kcemenike"}, "is_accepted": true, "score": 1, "last_activity_date": 1574350583, "last_edit_date": 1574350583, "creation_date": 1574297012, "answer_id": 58965565, "question_id": 58964953, "link": "https://stackoverflow.com/questions/58964953/drop-duplicates-dataframe-pandas/58965565#58965565", "title": "drop duplicates dataframe pandas", "body": "<p>Do you want to try this</p>\n\n<p><code>df.groupby('Manager').agg({'Hours':['sum','count']}).sort_values(('Hours','sum'), ascending=False)</code></p>\n"}], "owner": {"reputation": 187, "user_id": 811002, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/voAR7.jpg?s=128&g=1", "display_name": "JRM", "link": "https://stackoverflow.com/users/811002/jrm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 0, "accepted_answer_id": 58965565, "answer_count": 1, "score": 0, "last_activity_date": 1574350583, "creation_date": 1574292377, "last_edit_date": 1574350129, "question_id": 58964953, "link": "https://stackoverflow.com/questions/58964953/drop-duplicates-dataframe-pandas", "title": "drop duplicates dataframe pandas", "body": "<p>I have a dataframe where I want to sum up all \"Hours\" (column header) into \"total sum\" for each \"Name\" (column header) under 1 \"Manager\" (column header). I then want to drop all duplicates before sorting the the dataframe based on the total hours sum and print out row by row. However I keep getting duplicates of the Manager row by row print out? </p>\n\n<pre><code>|---------------------|------------------|---------------------|------------------|\n|      Department     |     Name         | Manager             | Hours            | \n|---------------------|------------------|---------------------|------------------|\n|   Department name   |     person Name  | Manager Name        |no of hours       |\n|---------------------|------------------|---------------------|------------------|\n</code></pre>\n\n<pre><code>def total_group(csv_file):\n    df = pd.read_csv(csv_file)\n    df['Total Hours'] = df.groupby(['Manager'])['Hours'].transform('sum')\n    new_df = df.drop_duplicates(subset=['Department', 'name', 'Manager']).sort_values('Total Hours')\n    for index, row in new_df.iterrows():\n        manager_value = row['Manager']\n        total_hours = row['Total Hours']\n        print(\"manager: {}, has: {} Total hours\".format(manager_value, total_hours))\n\n\nprint(total_group(csv_file))\n</code></pre>\n\n<p>Dataframe print</p>\n\n<pre><code>df1 = df['Total Hours'] = df.groupby(['Direct Manager'])['Labor Hours'].transform('sum')\n    print(df1)\n\n</code></pre>\n\n<p>result</p>\n\n<pre><code>0        450.0\n1        450.0\n2        450.0\n3        450.0\n4        450.0\n         ...  \n43929    320.5\n43930    320.5\n43931    320.5\n43932    320.5\n43933    320.5\nName: Hours, Length: 43934, dtype: float64\n\n</code></pre>\n\n<p>new dataframe print:</p>\n\n<pre><code>new_df = df.drop_duplicates(subset=['Department', 'Direct Manager']).sort_values('Total Hours')\n    print(new_df)\n</code></pre>\n\n<p>Result:</p>\n\n<pre><code>                     Department              Name                Hours                   Total Hours\n9554             Europe                     Dri, Bas ...         8.0                        72.000000\n34498           Product &amp; Design    Sun, Sunn  ...     5.0                        81.000000\n19140           Product &amp; Design    Oers, Len  ...      8.0                        122.000000\n</code></pre>\n\n<p>what I would like is a dataframe like this: </p>\n\n<pre><code>                     Department              Manager                                Total Hours\n9554             Europe                     Last, First ...                             72.000000\n34498           Product                    Last, first  ...                         81.000000\n19140           Design                     Last, First  ...                          122.000000\n</code></pre>\n"}, {"tags": ["python", "pandas"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 12406481, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b0633de31d153d5d3a8df458759ee65?s=128&d=identicon&r=PG&f=1", "display_name": "statboii", "link": "https://stackoverflow.com/users/12406481/statboii"}, "edited": false, "score": 0, "creation_date": 1574334819, "post_id": 58965113, "comment_id": 104200630, "body": "I tried this but it didn&#39;t work, I get the following error:A value is trying to be set on a copy of a slice from a DataFrame. Try using .loc[row_indexer,col_indexer] = value instead"}, {"owner": {"reputation": 3426, "user_id": 10818128, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-YiTeo4kuZiQ/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcYYf6McGCeXvwrDf9sDgLHNO5VGKQ/mo/photo.jpg?sz=128", "display_name": "Derek Eden", "link": "https://stackoverflow.com/users/10818128/derek-eden"}, "reply_to_user": {"reputation": 1, "user_id": 12406481, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b0633de31d153d5d3a8df458759ee65?s=128&d=identicon&r=PG&f=1", "display_name": "statboii", "link": "https://stackoverflow.com/users/12406481/statboii"}, "edited": false, "score": 0, "creation_date": 1574341907, "post_id": 58965113, "comment_id": 104204612, "body": "This means the df you are working with is a copy of another ie you define it as a subset of a different df .. You need to make an independent copy or do it on the original df"}], "tags": [], "owner": {"reputation": 3426, "user_id": 10818128, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-YiTeo4kuZiQ/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcYYf6McGCeXvwrDf9sDgLHNO5VGKQ/mo/photo.jpg?sz=128", "display_name": "Derek Eden", "link": "https://stackoverflow.com/users/10818128/derek-eden"}, "is_accepted": false, "score": 1, "last_activity_date": 1574385254, "last_edit_date": 1574385254, "creation_date": 1574293612, "answer_id": 58965113, "question_id": 58964932, "link": "https://stackoverflow.com/questions/58964932/python-find-mean-difference-between-two-events-in-a-column-grouping-by-a-third/58965113#58965113", "title": "Python - Find mean difference between two events in a column grouping by a third column", "body": "<p>you could do it like this, with an example df (assuming your times are already in a datetime format or some kind of workable format):</p>\n\n<pre><code>df = pd.DataFrame({'id':[1,1,2,2,1,1,2,2],\n                   'event':['open','close','open','close','open','close','open','close'],\n                   'time':[1,9,2,14,2,6,12,57]})\ndf\n\n       id  event  time\n    0   1   open     1\n    1   1  close     9\n    2   2   open     2\n    3   2  close    14\n    4   1   open     2\n    5   1  close     6\n    6   2   open    12\n    7   2  close    57\n\ndf['duration'] = df['time'].diff()\navgs = df[df['event']=='close'].groupby('id').agg(np.mean)['duration']\n\navgs\n\nid\n1     6.0\n2    28.5\n</code></pre>\n\n<p>EDIT - here's a more specific example using your exact df..if this doesn't work, then it's likely how you defined your df cut/copied a slice from an existing...</p>\n\n<pre><code>df\n\n   id  event date_time_obj\n0   1   open      14:20:24\n1   1  close      14:24:01\n2   2   open      14:21:36\n3   2  close      14:27:56\n4   1   open      14:23:20\n5   1  close      14:25:35\n\ndf['date_time_obj'][0]\n\ndatetime.time(14, 20, 24) #using this format based on the info in your OP\n\ndf['seconds'] = df['date_time_obj'].apply(lambda x: x.second + x.minute*60 + x.hour*3600)\n</code></pre>\n\n<p>if your time is in a different format, the above step may be easier or not needed, for datetime.time there is no method to convert to seconds, and they do not support direct addition/subtraction</p>\n\n<pre><code>df\n\n   id  event date_time_obj  seconds\n0   1   open      14:20:24    51624\n1   1  close      14:24:01    51841\n2   2   open      14:21:36    51696\n3   2  close      14:27:56    52076\n4   1   open      14:23:20    51800\n5   1  close      14:25:35    51935\n\ndf['duration'] = df['seconds'].diff()\navgs = df[df['event']=='close'].groupby('id').agg(np.mean)['duration']\n\navgs\n\nid\n1    176.0\n2    380.0\n</code></pre>\n\n<p>the desired output</p>\n"}], "owner": {"reputation": 1, "user_id": 12406481, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b0633de31d153d5d3a8df458759ee65?s=128&d=identicon&r=PG&f=1", "display_name": "statboii", "link": "https://stackoverflow.com/users/12406481/statboii"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 26, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1574385254, "creation_date": 1574292270, "question_id": 58964932, "link": "https://stackoverflow.com/questions/58964932/python-find-mean-difference-between-two-events-in-a-column-grouping-by-a-third", "title": "Python - Find mean difference between two events in a column grouping by a third column", "body": "<p>I have a data.frame that contains the opening and closing times of a web application, and is grouped by id. How do I find the mean difference between opening and closing events for each id? My first instinct was to group by id, but I'm not sure what to do after</p>\n\n<p>Here is a sample of the data.frame I am working with:</p>\n\n<pre><code>id     event date_time_obj\n 1     open   14:20:24\n 1     close  14:24:01\n 2     open   14:21:36\n 2     close  14:27:56\n 1     open   14:23:20\n 1     close  14:25:35\n</code></pre>\n\n<p>I am stuck with what to do after the <code>df.groupby()</code> function. I want my final df to look like this:</p>\n\n<pre><code>id  avg_difference_secs\n1    176 ((217+135)/2)\n2    380\n</code></pre>\n"}, {"tags": ["python", "dataframe", "plot", "bar-chart", "seaborn"], "answers": [{"comments": [{"owner": {"reputation": 55, "user_id": 12392066, "user_type": "registered", "profile_image": "https://graph.facebook.com/499716113951517/picture?type=large", "display_name": "Renata Mesquita", "link": "https://stackoverflow.com/users/12392066/renata-mesquita"}, "edited": false, "score": 0, "creation_date": 1574339686, "post_id": 58974308, "comment_id": 104203387, "body": "Thanks for your solution Diziet Asahi. I thought sns.barplot could have another option to solve it."}], "tags": [], "owner": {"reputation": 29479, "user_id": 1356000, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/ef54c2101a4c23ea2441ce2b346ffb75?s=128&d=identicon&r=PG", "display_name": "Diziet Asahi", "link": "https://stackoverflow.com/users/1356000/diziet-asahi"}, "is_accepted": true, "score": 0, "last_activity_date": 1574336895, "creation_date": 1574336895, "answer_id": 58974308, "question_id": 58964922, "link": "https://stackoverflow.com/questions/58964922/seaborn-barplot-column-values-without-estimator-parameter/58974308#58974308", "title": "Seaborn barplot - column values without estimator parameter", "body": "<p><code>barplot</code> combines values with the same <code>x</code>, unless the have a different <code>hue</code>. If you want to keep the different value for \"2019/oct\", you could create a new column to attribute them a different <code>hue</code>:</p>\n\n<pre><code>data = [[\"2019/oct\",10],[\"2019/oct\",20],[\"2019/oct\",30],[\"2019/oct\",40],[\"2019/nov\",20],[\"2019/dec\",30]] \ndf = pd.DataFrame(data, columns=['Period', 'Observations'])\n\ndf['subgroup'] = df.groupby('Period').cumcount()+1\nsns.barplot(x='Period',y='Observations',hue='subgroup',data=df,ci=None)\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/AYnbr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AYnbr.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 55, "user_id": 12392066, "user_type": "registered", "profile_image": "https://graph.facebook.com/499716113951517/picture?type=large", "display_name": "Renata Mesquita", "link": "https://stackoverflow.com/users/12392066/renata-mesquita"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 530, "favorite_count": 0, "accepted_answer_id": 58974308, "answer_count": 1, "score": 0, "last_activity_date": 1574336895, "creation_date": 1574292208, "last_edit_date": 1574336214, "question_id": 58964922, "link": "https://stackoverflow.com/questions/58964922/seaborn-barplot-column-values-without-estimator-parameter", "title": "Seaborn barplot - column values without estimator parameter", "body": "<p>I am a beginner in seaborn plotting and noticed that sns.barplot shows the value of bars using a parameter called estimator.\nIs there a way for the barplot to show the value of each column instead of using a statiscal approach through the estimator parameter?</p>\n\n<p>For instance, I have the following dataframe:</p>\n\n<pre><code>data = [[\"2019/oct\",10],[\"2019/oct\",20],[\"2019/oct\",30],[\"2019/oct\",40],[\"2019/nov\",20],[\"2019/dec\",30]] \n\ndf = pd.DataFrame(data, columns=['Period', 'Observations'])\n</code></pre>\n\n<p>I would like to plot all values \u200b\u200bfrom the Period \"2019/oct\" column (10,20,30 and 40), but the bar chart returns the average of these values \u200b\u200b(25) for the period \"2019/oct\":</p>\n\n<pre><code>sns.barplot(x='Period',y='Observations',data=df,ci=None)\n</code></pre>\n\n<p>How can I bring all column values \u200b\u200bto the chart?</p>\n\n<p><a href=\"https://i.stack.imgur.com/z3AV5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/z3AV5.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["python", "numpy", "raster", "image-segmentation", "rasterio"], "answers": [{"tags": [], "owner": {"reputation": 3426, "user_id": 10818128, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-YiTeo4kuZiQ/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcYYf6McGCeXvwrDf9sDgLHNO5VGKQ/mo/photo.jpg?sz=128", "display_name": "Derek Eden", "link": "https://stackoverflow.com/users/10818128/derek-eden"}, "is_accepted": false, "score": 0, "last_activity_date": 1574294591, "creation_date": 1574294591, "answer_id": 58965253, "question_id": 58964918, "link": "https://stackoverflow.com/questions/58964918/how-to-optimize-a-python-loop-that-replaces-raster-nan-values-with-other-raster/58965253#58965253", "title": "How to optimize a Python loop that replaces raster nan values with other raster region mean values", "body": "<p>to answer your example, you can do it like this with no loops:</p>\n\n<pre><code>seg = np.array((2,np.nan,4,4,2))\nseg[np.isnan(seg)] = np.nanmean(seg)\n</code></pre>\n\n<p>output:</p>\n\n<pre><code>array([2., 3., 4., 4., 2.])\n</code></pre>\n\n<p>I hope this principle helps you implement this into your larger code</p>\n"}, {"tags": [], "owner": {"reputation": 47088, "user_id": 7207392, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/dadc9567dde5f02b09a29695eca1ce40?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Panzer", "link": "https://stackoverflow.com/users/7207392/paul-panzer"}, "is_accepted": true, "score": 2, "last_activity_date": 1574302469, "creation_date": 1574302469, "answer_id": 58966230, "question_id": 58964918, "link": "https://stackoverflow.com/questions/58964918/how-to-optimize-a-python-loop-that-replaces-raster-nan-values-with-other-raster/58966230#58966230", "title": "How to optimize a Python loop that replaces raster nan values with other raster region mean values", "body": "<p><code>np.bincount</code> is the tool of choice for this kind of problem. (It does essentially the same as the more intuitive <code>np.add.at</code> but is typically way faster.)</p>\n\n<pre><code>import numpy as np\n\n# create mock data (this takes longer than the actual processing)\nprint(\"creating example\")\nN = 1000\nNS = 2000\ntgt = np.random.randn(N,N)\ntgt[np.random.random((N,N))&lt;0.1] = np.nan\nseg = np.zeros((N,N),int)\nseg.ravel()[np.random.choice(N*N,NS,replace=False)] = np.arange(1,NS+1)\nidcs = np.s_[1:],np.s_[:,1:],np.s_[:-1],np.s_[:,:-1]\nwhile np.count_nonzero(seg) &lt; N*N/2:\n    i = np.random.randint(4)\n    idx,cidx = idcs[i],idcs[i-2]\n    seg[idx][seg[idx]==0] = seg[cidx][seg[idx]==0]\n\n# replace nans (in-place, overwrites nans in tgt)\nprint(\"replacing nans\")\nn = np.isnan(tgt)\nnn = ~n\nsegnn = seg[nn]\ntgt[n] = (np.bincount(segnn,tgt[nn],NS+1)/np.bincount(segnn,None,NS+1))[seg[n]]\n\n# check\nprint(\"verifying\",end=\" ... \")\nsample = np.random.randint(0,NS+1,10)\nfor i in sample:\n    assert np.allclose(tgt[n][seg[n]==i],np.mean(tgt[nn][seg[nn]==i]))\nprint(\"looks ok\")\n</code></pre>\n"}], "owner": {"reputation": 202, "user_id": 6710864, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea6fca6703746e9eef5f1b11c6a7e73b?s=128&d=identicon&r=PG&f=1", "display_name": "MarujoRe", "link": "https://stackoverflow.com/users/6710864/marujore"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 495, "favorite_count": 0, "accepted_answer_id": 58966230, "answer_count": 2, "score": 0, "last_activity_date": 1574302469, "creation_date": 1574292172, "question_id": 58964918, "link": "https://stackoverflow.com/questions/58964918/how-to-optimize-a-python-loop-that-replaces-raster-nan-values-with-other-raster", "title": "How to optimize a Python loop that replaces raster nan values with other raster region mean values", "body": "<p>I need to read 2 rasters, one a satellite image (target) and the other regions of this image (segmentation). The target image present numeric values and nans. The segmentation image are regions, in which each pixel with the same value are from the same region, e.g., all pixels with value 1 are from segment 1.</p>\n\n<p>Based on that, I would like to calculate the mean value for each segment that contains nans and replace the nan calues by the segment mean value. If I have a segment of 5 pixels and target image has the values (2,nan,4,4,2), the nan value must be replaced by 3.</p>\n\n<p>I have writen a script that does this. However the code is very slow at the FOR loop when I am processing large images. Based on that, I would like to know how can the loop be improved in performance.</p>\n\n<pre><code>import numpy\nimport rasterio\n\n### returns which pixels are nan\ndef get_gaps(img):\n    gaps = numpy.argwhere( numpy.isnan( img ) )\n    return( gaps )\n\ndef fill(img_targ, gaps_targ, img_seg1):\n    ### Get which segments contains NA on target image\n    indices_gap_targ = numpy.array( list( zip(gaps_targ[:,0], gaps_targ[:,1] ) ) )\n    segments_targ = img_seg1[ indices_gap_targ[:,0], indices_gap_targ[:,1] ]\n    segments_targ = numpy.unique( segments_targ[~numpy.isnan( segments_targ )] )\n\n    for seg in segments_targ:\n        ### Get seg pixel position\n        seg_pixels = numpy.nonzero( img_seg1 == seg )\n        seg_indices = numpy.array( list( zip(seg_pixels[:][0], seg_pixels[:][1] ) ) )\n        ### Get targ pix values\n        targ_values_seg = img_targ[ seg_indices[:,0], seg_indices[:,1] ]\n        ### Check if any is not nan otherwise it will not have any value to use as mean\n        if( numpy.any( ~numpy.isnan(targ_values_seg) ) ):\n            ### Get nan position and replace by mean value\n            nan_pos = numpy.isnan( targ_values_seg )\n            img_targ[ seg_indices[:,0][nan_pos], seg_indices[:,1][nan_pos] ] = numpy.nanmean(targ_values_seg)\n    return img_targ\n\ninput_targ_filename = \"/home/path/target.tif\"\ninput_seg1_filename = \"/home/path/segmentation.tif\"\n\nwith rasterio.open(input_targ_filename) as dataset:\n    img_targ = dataset.read(1)\n    img_targ[ img_targ &lt; -100000 ] = numpy.nan\n    kwargs = dataset.meta\n\nwith rasterio.open(input_seg1_filename) as dataset:\n    img_seg1 = dataset.read(1)\n    img_seg1[ img_seg1 &lt; -100000 ] = numpy.nan\n\ngaps_targ = get_gaps(img_targ)\nimg_filled = fill(img_targ, gaps_targ, img_seg1)\n</code></pre>\n"}, {"tags": ["python", "rfid"], "answers": [{"tags": [], "owner": {"reputation": 2561, "user_id": 11476836, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c679da3a7b9adc6f980fb698e3f46b0b?s=128&d=identicon&r=PG&f=1", "display_name": "Marcos G.", "link": "https://stackoverflow.com/users/11476836/marcos-g"}, "is_accepted": false, "score": 0, "last_activity_date": 1574340396, "creation_date": 1574340396, "answer_id": 58975444, "question_id": 58964900, "link": "https://stackoverflow.com/questions/58964900/how-to-use-an-uhf-rfid-module-with-python/58975444#58975444", "title": "How to use an uhf rfid module with python?", "body": "<p>Some comments to jump start your coding:</p>\n\n<p>-What you need to do is send a command to your device to ask it to start sending readings in auto mode. To do that you need to use <code>ser.write(command)</code>. You can find a good template <a href=\"https://stackoverflow.com/a/15589849/11476836\">here</a>.</p>\n\n<p>-To prepare the command you just need to take the raw bytes (those hex values you mentioned) and put them together as, for instance a <code>bytearray</code>.</p>\n\n<p>-The only minor hurdle remaining is to calculate the CRC. There are some nice methods here at SO, just search CRC 16 CCITT.</p>\n\n<p>-Be aware that after writing you can not start immediately waiting for readings, you have to wait first for the device to acknowledge the command. Hint: read 9 bytes.</p>\n\n<p>-Lastly, take a new count of the bytes you will receive for each tag. I think they are 22 instead of 21.</p>\n"}, {"tags": [], "owner": {"reputation": 4466, "user_id": 6243129, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/1d0567e46408b2f3ceeb207a940737f4?s=128&d=identicon&r=PG&f=1", "display_name": "S Andrew", "link": "https://stackoverflow.com/users/6243129/s-andrew"}, "is_accepted": false, "score": 0, "last_activity_date": 1609071452, "creation_date": 1609071452, "answer_id": 65465630, "question_id": 58964900, "link": "https://stackoverflow.com/questions/58964900/how-to-use-an-uhf-rfid-module-with-python/65465630#65465630", "title": "How to use an uhf rfid module with python?", "body": "<p>You can use <code>pyembedded</code> python library for this which can give you the tag id.</p>\n<pre><code>from pyembedded.rfid_module.rfid import RFID\nrfid = RFID(port='COM3', baud_rate=9600)\nprint(rfid.get_id())\n</code></pre>\n<p><a href=\"https://pypi.org/project/pyembedded/\" rel=\"nofollow noreferrer\">https://pypi.org/project/pyembedded/</a></p>\n"}], "owner": {"reputation": 1, "user_id": 12407021, "user_type": "registered", "profile_image": "https://graph.facebook.com/2565757720305539/picture?type=large", "display_name": "migueratto", "link": "https://stackoverflow.com/users/12407021/migueratto"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 201, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1609071452, "creation_date": 1574291984, "last_edit_date": 1574309451, "question_id": 58964900, "link": "https://stackoverflow.com/questions/58964900/how-to-use-an-uhf-rfid-module-with-python", "title": "How to use an uhf rfid module with python?", "body": "<p>I'm trying to read and write data from an RFID tag using python whit this module: \n<a href=\"https://es.aliexpress.com/item/32573423210.html\" rel=\"nofollow noreferrer\">https://es.aliexpress.com/item/32573423210.html</a> \nI can connect successfully whit serial but I don't know how to read any tag, because the datasheet from pr9200(the reader that I am working) use this:\n<a href=\"https://ibb.co/QYNT7ds\" rel=\"nofollow noreferrer\">Image for pr9200 operation</a> It's like a raw packet whit only hex address that I need to send to the module for it works</p>\n\n<p>my code on python is this:</p>\n\n<pre><code> import serial\n\nser = serial.Serial(port = \"COM27\", baudrate=115200, bytesize=8, parity='N', stopbits=1)\n\n\nwhile(ser.is_open == True):\n    rfidtag = ''\n    incomingByte = ser.read(21)\n    print(incomingByte)\n    for i in incomingByte:\n        rfidtag = rfidtag + hex(i)\n</code></pre>\n"}, {"tags": ["python", "pandas"], "answers": [{"comments": [{"owner": {"reputation": 375, "user_id": 11833633, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Fn3ZCVy56MU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reqSxeGZHGyjYvACcFCIJ_VuhybTw/photo.jpg?sz=128", "display_name": "Elvis", "link": "https://stackoverflow.com/users/11833633/elvis"}, "edited": false, "score": 0, "creation_date": 1574293189, "post_id": 58964925, "comment_id": 104185200, "body": "Thanks for the help! This is exactly what I want! :)"}, {"owner": {"reputation": 375, "user_id": 11833633, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Fn3ZCVy56MU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reqSxeGZHGyjYvACcFCIJ_VuhybTw/photo.jpg?sz=128", "display_name": "Elvis", "link": "https://stackoverflow.com/users/11833633/elvis"}, "edited": false, "score": 0, "creation_date": 1574294471, "post_id": 58964925, "comment_id": 104185475, "body": "Sorry for one add on question, is it possible to rank the ranking again in the combined dataframe? Because the ranking is still based on the separate dataframe instead of new combined dataframe."}], "tags": [], "owner": {"reputation": 3508, "user_id": 4185364, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rXgyb.png?s=128&g=1", "display_name": "milos.ai", "link": "https://stackoverflow.com/users/4185364/milos-ai"}, "is_accepted": true, "score": 3, "last_activity_date": 1574294945, "last_edit_date": 1574294945, "creation_date": 1574292241, "answer_id": 58964925, "question_id": 58964874, "link": "https://stackoverflow.com/questions/58964874/how-to-combine-two-pd-dataframe-re-rank-the-ranking-based-on-the-score-and-retu/58964925#58964925", "title": "How to combine two pd dataframe, re-rank the ranking based on the score and return the entire row for the highest ranking?", "body": "<p>Just change the third line with this:</p>\n\n<pre><code>pd_combine = pd.concat([df,df1], sort=False).reset_index()\n</code></pre>\n\n<p>Problem was that you had duplicated indices. This change ensures that every row has its own unique id in this new combined data frame.</p>\n\n<p>If you want to rank again entries in new, combined data frame use:</p>\n\n<pre><code>res = pd_combine.sort_values('Score',ascending=False)\nres.ranking = range(1,len(res)+1)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 22982, "user_id": 10189214, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-oTTBaX3HSZQ/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7ohHVatc4khqXgYvNrBM40bMFj71Q/mo/photo.jpg?sz=128", "display_name": "Andy L.", "link": "https://stackoverflow.com/users/10189214/andy-l"}, "is_accepted": false, "score": 0, "last_activity_date": 1574292677, "creation_date": 1574292677, "answer_id": 58964999, "question_id": 58964874, "link": "https://stackoverflow.com/questions/58964874/how-to-combine-two-pd-dataframe-re-rank-the-ranking-based-on-the-score-and-retu/58964999#58964999", "title": "How to combine two pd dataframe, re-rank the ranking based on the score and return the entire row for the highest ranking?", "body": "<p>Instead of <code>sort=False</code>, specify <code>ignore_index=True</code></p>\n\n<pre><code>pd_combine = pd.concat([df,df1], ignore_index=True)\n</code></pre>\n"}], "owner": {"reputation": 375, "user_id": 11833633, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Fn3ZCVy56MU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reqSxeGZHGyjYvACcFCIJ_VuhybTw/photo.jpg?sz=128", "display_name": "Elvis", "link": "https://stackoverflow.com/users/11833633/elvis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 0, "accepted_answer_id": 58964925, "answer_count": 2, "score": 1, "last_activity_date": 1574716670, "creation_date": 1574291813, "last_edit_date": 1574716670, "question_id": 58964874, "link": "https://stackoverflow.com/questions/58964874/how-to-combine-two-pd-dataframe-re-rank-the-ranking-based-on-the-score-and-retu", "title": "How to combine two pd dataframe, re-rank the ranking based on the score and return the entire row for the highest ranking?", "body": "<p>I'm trying to combine 2 pandas dataframe and rank the combined dataframe again, after that, extract the row with highest score/ with the 1st ranking as the return. I tried something shown below in my code but it return me the 1st index instead of 1st rank.</p>\n\n<pre><code>df = pd.DataFrame({'Name' : ['Peter', 'James', 'John', 'Marry'], 'Score' : [6.1, 5.6, 6.8, 7.99], \n                   'ranking' :[ 3, 4, 2, 1]})\ndf1 = pd.DataFrame({'Name' : ['Albert', 'Kelsey', 'Janice'], 'Score' : [1.1, 8.2, 7], \n                   'ranking' :[ 3, 1, 2]})\npd_combine = pd.concat([df,df1], sort=False)\npd_combine.iloc[pd_combine['Score'].idxmax()]\n</code></pre>\n"}, {"tags": ["python", "pandas", "dataframe"], "answers": [{"comments": [{"owner": {"reputation": 55, "user_id": 9723841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b327ab71c2c08ce8f010bbf9e02a155d?s=128&d=identicon&r=PG&f=1", "display_name": "pybeginner", "link": "https://stackoverflow.com/users/9723841/pybeginner"}, "edited": false, "score": 0, "creation_date": 1574297402, "post_id": 58964973, "comment_id": 104186200, "body": "I tried this method, it just prints the df1 as it is no changes are done, neither any errors are displayed"}, {"owner": {"reputation": 28, "user_id": 12340367, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Uf-zcDRBBDg/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3re0fTGCm15FORWSgsXLfVIh0MA7fw/photo.jpg?sz=128", "display_name": "Snake_py", "link": "https://stackoverflow.com/users/12340367/snake-py"}, "reply_to_user": {"reputation": 55, "user_id": 9723841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b327ab71c2c08ce8f010bbf9e02a155d?s=128&d=identicon&r=PG&f=1", "display_name": "pybeginner", "link": "https://stackoverflow.com/users/9723841/pybeginner"}, "edited": false, "score": 0, "creation_date": 1574340467, "post_id": 58964973, "comment_id": 104203816, "body": "@pybeginner sorry I was tired. I post a new answer, I tried this code myself. I guess you shoud be able to do the same. I was wron. It does not wants a list, the functions requirs a dictonary."}], "tags": [], "owner": {"reputation": 28, "user_id": 12340367, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Uf-zcDRBBDg/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3re0fTGCm15FORWSgsXLfVIh0MA7fw/photo.jpg?sz=128", "display_name": "Snake_py", "link": "https://stackoverflow.com/users/12340367/snake-py"}, "is_accepted": false, "score": 0, "last_activity_date": 1574292506, "creation_date": 1574292506, "answer_id": 58964973, "question_id": 58964853, "link": "https://stackoverflow.com/questions/58964853/python-how-to-replace-a-column-value-in-one-dataframe-from-another-without-remo/58964973#58964973", "title": "Python: how to replace a column value in one dataframe from another without removing duplicates", "body": "<p>Hmm not sure if this will work. You could try it with the replace function:\nThis function needs to know which Col has to be replaced and requires then a list of the new values. \n<a href=\"https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.replace.html\" rel=\"nofollow noreferrer\">https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.replace.html</a></p>\n\n<p>You could try:</p>\n\n<pre><code>df1.replace({'BId': df2[\"SiteId\"].tolist()})\n\n</code></pre>\n\n<p>The tolist() should give you just a list of a column back</p>\n"}, {"tags": [], "owner": {"reputation": 55, "user_id": 9723841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b327ab71c2c08ce8f010bbf9e02a155d?s=128&d=identicon&r=PG&f=1", "display_name": "pybeginner", "link": "https://stackoverflow.com/users/9723841/pybeginner"}, "is_accepted": true, "score": 0, "last_activity_date": 1574306065, "creation_date": 1574306065, "answer_id": 58966729, "question_id": 58964853, "link": "https://stackoverflow.com/questions/58964853/python-how-to-replace-a-column-value-in-one-dataframe-from-another-without-remo/58966729#58966729", "title": "Python: how to replace a column value in one dataframe from another without removing duplicates", "body": "<p>I am sure, there would be a simpler way to do this , but I was able to do this by converting the df1 and df2 to a list\nThen using for loop to replace the values and then converting the result back into a dataframe as below:</p>\n\n<pre><code>df1list = df1.values.tolist()\ndf2list = df2.values.tolist()\n\nfor n, i in enumerate(df1list):\n  for j in df2list:\n    if i[0] == j[0]:\n      df1list[n][0] = j[1]\n\ndf1 = pd.DataFrame.from_records(df1list , columns=['BId', 'Timestamp', 'SequenceNumber', 'Code', 'LineNumber', 'Qty','Grade', 'StartDate', 'EndDate'])\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 28, "user_id": 12340367, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Uf-zcDRBBDg/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3re0fTGCm15FORWSgsXLfVIh0MA7fw/photo.jpg?sz=128", "display_name": "Snake_py", "link": "https://stackoverflow.com/users/12340367/snake-py"}, "is_accepted": false, "score": 0, "last_activity_date": 1574340751, "creation_date": 1574340751, "answer_id": 58975540, "question_id": 58964853, "link": "https://stackoverflow.com/questions/58964853/python-how-to-replace-a-column-value-in-one-dataframe-from-another-without-remo/58975540#58975540", "title": "Python: how to replace a column value in one dataframe from another without removing duplicates", "body": "<p>you can try to use this way. I got the wanted output. Sorry that I gave bad advice yesterday. Hope it is working now. (I was wrong yesterday, it needs a dictionary and not a list)</p>\n\n<pre><code>import pandas as pd\n\nlist1 = range(0,100,1)\nlist2 = range(100,200,1)\nlist3 = range(200,300,1)\nlist4 = range(300,400,1)\n\ndf1 = pd.DataFrame({\"col1\": list1,\"col2\":list1})\ndf2 = pd.DataFrame({\"col1\": list2,\"col2\":list2})\nprint(df1)\n\ndict = df2[\"col1\"].to_dict()\ndf3 = df1.replace({\"col1\": dict})\nprint(df3)\n</code></pre>\n"}], "owner": {"reputation": 55, "user_id": 9723841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b327ab71c2c08ce8f010bbf9e02a155d?s=128&d=identicon&r=PG&f=1", "display_name": "pybeginner", "link": "https://stackoverflow.com/users/9723841/pybeginner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 85, "favorite_count": 0, "accepted_answer_id": 58966729, "answer_count": 3, "score": 1, "last_activity_date": 1574340751, "creation_date": 1574291658, "question_id": 58964853, "link": "https://stackoverflow.com/questions/58964853/python-how-to-replace-a-column-value-in-one-dataframe-from-another-without-remo", "title": "Python: how to replace a column value in one dataframe from another without removing duplicates", "body": "<p>I have two data frames: one derived from a csv file and another is a output from a sql db</p>\n\n<p>DataFrame1 looks like this:(derived from csv file) <strong>df1</strong></p>\n\n<pre><code> |BId    |Timestamp    |SequenceNumber|TypeCode|LineNumber|Qty |Grade      |StartDate    |EndDate      \n0|1002899|19/08/19 0:03|1355          |f       |10        |3.55|Aeiouswe   |18/08/19 4:49|20/08/19 1:00\n1|1002899|19/08/19 0:04|1356          |f       |10        |8.4 |hdujeujdido|18/08/19 4:49|20/08/19 1:00\n3|1002899|19/08/19 0:13|1357          |f       |10        |3.56|hdujeujdido|18/08/19 4:49|20/08/19 1:00\n4|1002899|19/08/19 0:26|1358          |f       |10        |12.2|iueoe      |18/08/19 4:49|20/08/19 1:00\n6|1001346|19/08/19 0:08|1844          |f       |10        |110 |derets     |18/08/19 4:49|20/08/19 1:00\n7|1002867|19/08/19 1:39|1461          |f       |10        |21.8|derets     |18/08/19 4:49|20/08/19 1:00\n8|1002867|19/08/19 1:39|1461          |f       |20        |500 |uijsts     |18/08/19 4:49|20/08/19 1:00\n</code></pre>\n\n<p>Second dataframe is derived from sql: <strong>df2</strong></p>\n\n<pre><code> |BId|SiteId\n0|1001346|180\n1|1002899|181\n2|1002867|182\n3|1002375|183\n4|1002376|184\n5|1002377|185\n6|1002378|186\n7|1002379|187\n8|1002380|188\n9|1002381|189\n10|1000438|191\n11|1000439|192\n12|1000365|193\n13|1000288|194\n14|1000408|195\n15|1001895|10006\n16|1002870|10008\n17|1002348|10009\n18|1002358|10012\n</code></pre>\n\n<p>I want to replace the value of column BId in df1 with the value of column SiteId from df2 if the BId between df1 matches df2</p>\n\n<p>My expected output would look like this:</p>\n\n<pre><code> |BId    |Timestamp    |SequenceNumber|TypeCode|LineNumber|Qty |Grade      |StartDate    |EndDate      \n0|181|19/08/19 0:03|1355          |f       |10            |3.55|Aeiouswe   |18/08/19 4:49|20/08/19 1:00\n1|181|19/08/19 0:04|1356          |f       |10            |8.4 |hdujeujdido|18/08/19 4:49|20/08/19 1:00\n3|181|19/08/19 0:13|1357          |f       |10            |3.56|hdujeujdido|18/08/19 4:49|20/08/19 1:00\n4|181|19/08/19 0:26|1358          |f       |10            |12.2|iueoe      |18/08/19 4:49|20/08/19 1:00\n6|180|19/08/19 0:08|1844          |f       |10            |110 |derets     |18/08/19 4:49|20/08/19 1:00\n7|182|19/08/19 1:39|1461          |f       |10            |21.8|derets     |18/08/19 4:49|20/08/19 1:00\n8|182|19/08/19 1:39|1461          |f       |20            |500 |uijsts     |18/08/19 4:49|20/08/19 1:00\n\n</code></pre>\n\n<p>I have tried using the following method:</p>\n\n<pre><code>df1['BId'] = df1['BId'].map(df2.set_index('BId')['SiteId'])\n</code></pre>\n\n<p>But i get the following error\nReindexing only valid with uniquely valued Index objects</p>\n\n<p>Considering that I have duplicate values in df1 for BId, how can i get these values replaced without removing the duplicates</p>\n"}, {"tags": ["python", "reportlab"], "answers": [{"comments": [{"owner": {"reputation": 386, "user_id": 11904786, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-C_10tBAlJdM/AAAAAAAAAAI/AAAAAAAAAJo/UOriVN-Hus8/photo.jpg?sz=128", "display_name": "Data_sniffer", "link": "https://stackoverflow.com/users/11904786/data-sniffer"}, "edited": false, "score": 0, "creation_date": 1574293390, "post_id": 58965027, "comment_id": 104185256, "body": "Yes it works this way but that&#39;s not what I am looking for. I am trying to add it to the table and make it display in a specific cell of the table. You can see in my code that I actually commented out canvas.drawimage(..)"}], "tags": [], "owner": {"reputation": 1, "user_id": 12333956, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mA9U0URXp7Lgd9BA0MNlXXj8QtHJftB0x_jd1gJsg=k-s128", "display_name": "Diego Olvera", "link": "https://stackoverflow.com/users/12333956/diego-olvera"}, "is_accepted": false, "score": -1, "last_activity_date": 1574292911, "creation_date": 1574292911, "answer_id": 58965027, "question_id": 58964827, "link": "https://stackoverflow.com/questions/58964827/reportlab-simple-issue-with-adding-image-to-a-table/58965027#58965027", "title": "Reportlab, simple issue with adding image to a table", "body": "<p>Try using the drawImage() property</p>\n\n<pre><code>canvas.drawImage('giphy.gif', coordX, coordY, width=240, height=60)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 386, "user_id": 11904786, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-C_10tBAlJdM/AAAAAAAAAAI/AAAAAAAAAJo/UOriVN-Hus8/photo.jpg?sz=128", "display_name": "Data_sniffer", "link": "https://stackoverflow.com/users/11904786/data-sniffer"}, "is_accepted": true, "score": 1, "last_activity_date": 1574294261, "creation_date": 1574294261, "answer_id": 58965204, "question_id": 58964827, "link": "https://stackoverflow.com/questions/58964827/reportlab-simple-issue-with-adding-image-to-a-table/58965204#58965204", "title": "Reportlab, simple issue with adding image to a table", "body": "<p>Alright, I figured it out, \nInstead of using Image.open, I used this image = Paragraph('''''', styleSheet[\"BodyText\"])\n and then I added the varaible image to the table and it is working perfectly :)</p>\n"}], "owner": {"reputation": 386, "user_id": 11904786, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-C_10tBAlJdM/AAAAAAAAAAI/AAAAAAAAAJo/UOriVN-Hus8/photo.jpg?sz=128", "display_name": "Data_sniffer", "link": "https://stackoverflow.com/users/11904786/data-sniffer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 276, "favorite_count": 0, "accepted_answer_id": 58965204, "answer_count": 2, "score": 1, "last_activity_date": 1574294261, "creation_date": 1574291422, "question_id": 58964827, "link": "https://stackoverflow.com/questions/58964827/reportlab-simple-issue-with-adding-image-to-a-table", "title": "Reportlab, simple issue with adding image to a table", "body": "<p>So I am creating this simple Reportlab pdf report but I have an issue trying to display the image in the table, it displays (((&lt; PIL.Image.Image image mode=P size=240x60 at 0x201E9A99F60>))) instead of the image</p>\n\n<p>I will post my whole code here so it could benefit anyone looking for how to create Reportlab pdf doc.</p>\n\n<pre><code>from reportlab.platypus import SimpleDocTemplate, Paragraph, Spacer,KeepTogether,tables\nfrom reportlab.lib import colors\nfrom reportlab.lib.styles import getSampleStyleSheet\nfrom reportlab.rl_config import defaultPageSize\nfrom reportlab.lib.pagesizes import A4,landscape\nfrom reportlab.lib.units import inch,cm,mm\nfrom reportlab.pdfgen import canvas\nfrom reportlab.platypus import PageBreak \nfrom reportlab.lib.styles import ParagraphStyle\nfrom reportlab.lib.styles import getSampleStyleSheet\nfrom reportlab.platypus import SimpleDocTemplate\nfrom reportlab.platypus.tables import Table\nfrom reportlab.lib.utils import haveImages, fileName2FSEnc\nimport datetime\nsample_style_sheet = getSampleStyleSheet()\nstyleSheet = getSampleStyleSheet()\nfrom PIL import Image\nimport boto3\nfrom boto3.dynamodb.conditions import Key, Attr\nfrom reportlab.lib.pagesizes import letter, landscape\n\nPAGE_HEIGHT = defaultPageSize[1]\nPAGE_WIDTH = defaultPageSize[0]\nstyles = getSampleStyleSheet()\nstyle = styles[\"Normal\"]\n\n#canvas = canvas.Canvas(\"emp_tasks_info2.14.pdf\", pagesize=landscape(letter))\n\ncanvas = canvas.Canvas(\"emp_tasks_info2.14.pdf\", pagesize=(1000,540))\n\ncanvas.saveState()\ncanvas.setFont('Times-Bold',15)\n\ncanvas.setFont('Helvetica', 11)\n#canvas.line(480,747,580,747)\n#canvas.drawInlineImage(\"C:\\\\Users\\\\youse\\\\OneDrive\\\\Pictures\\\\1.jpeg\", inch*.25, inch*.25, PAGE_WIDTH-(.5*inch), (.316*inch))\nfrom reportlab.lib.testutils import testsFolder\n#gif = os.path.join(testsFolder,'C:/Users/youse/OneDrive/Pictures/1.gif')\n\n#canvas.drawImage( 'giphy.gif', 10,20, width=None,height=None,mask=None)\n#canvas.drawImage( 'giphy.gif', 20,500, width=200,height=80,mask=None)\n#doc.afterPage()\n#canvas.restoreState()\n\n#canvas.saveState()\n#canvas.restoreState()\nI = Image.open('giphy.gif')\nI = I.resize((240,60))\n\nP0 = Paragraph('''&lt;b&gt;A pa&lt;font color=red&gt;r&lt;/font&gt;a&lt;i&gt;graph&lt;/i&gt;&lt;/b&gt;&lt;super&gt;&lt;font color=yellow&gt;1&lt;/font&gt;&lt;/super&gt;''',styleSheet[\"BodyText\"]) \n\npp = Paragraph('''&lt;para align=center&gt;&lt;b&gt;Calls&lt;/b&gt;&lt;/para&gt;''', styleSheet[\"BodyText\"]) \np0 = Paragraph('''&lt;para align=center&gt;&lt;b&gt;1. Worked on Product-1439&lt;/b&gt;&lt;/para&gt;''', styleSheet[\"BodyText\"]) \nP = Paragraph('''&lt;para align=center spaceb=3&gt;&lt;b&gt;Completed below Products for Incorporated:&lt;br/&gt;1. Product-14332.&lt;br/&gt;2. Product-14343. &lt;br/&gt;3. Product-14354. &lt;br/&gt;4.Product-14385.&lt;br/&gt;5. Product-1437 - LS-2574&lt;/b&gt;&lt;/para&gt;''', styleSheet[\"BodyText\"]) \nP1 = Paragraph('''&lt;para align=right&gt;&lt;b&gt;Date:&lt;/b&gt;&lt;/para&gt;''', styleSheet[\"BodyText\"]) \np2 = Paragraph('''&lt;para align=center&gt;&lt;b&gt;Regression on completed projects&lt;/b&gt;&lt;/para&gt;''', styleSheet[\"BodyText\"]) \np3 = Paragraph('''&lt;para align=center&gt;&lt;b&gt;Performed Deployment testing and started with Test Plan for Sprint 18&lt;/b&gt;&lt;/para&gt;''', styleSheet[\"BodyText\"]) \np4 = Paragraph('''&lt;para align=center&gt;&lt;b&gt;Worked on Test plan for PRODUCT-1489&lt;/b&gt;&lt;/para&gt;''', styleSheet[\"BodyText\"]) \np5 = Paragraph('''&lt;para align=center&gt;&lt;b&gt;Total&lt;br/&gt;Week&lt;br/&gt;Regular&lt;/b&gt;&lt;/para&gt;''', styleSheet[\"BodyText\"])\np6 = Paragraph('''&lt;para align=left &gt;&lt;b&gt;Week Ending:&lt;/b&gt;&lt;/para&gt;''', styleSheet[\"BodyText\"])\njira = Paragraph('''&lt;para align=center &gt;&lt;b&gt;Jira Task&lt;/b&gt;&lt;/para&gt;''', styleSheet[\"BodyText\"])\nsat = Paragraph('''&lt;para align=center &gt;&lt;b&gt;Sat&lt;/b&gt;&lt;/para&gt;''', styleSheet[\"BodyText\"])\nsun = Paragraph('''&lt;para align=center &gt;&lt;b&gt;Sun&lt;/b&gt;&lt;/para&gt;''', styleSheet[\"BodyText\"])\nmon = Paragraph('''&lt;para align=center&gt;&lt;b&gt;Mon&lt;/b&gt;&lt;/para&gt;''', styleSheet[\"BodyText\"])\n#mon = Paragraph('&lt;p&gt;&lt;b&gt;Mon&lt;/b&gt;&lt;/p&gt;', styleSheet[\"BodyText\"])\ntue = Paragraph('''&lt;para align=center &gt;&lt;b&gt;Tue&lt;/b&gt;&lt;/para&gt;''', styleSheet[\"BodyText\"])\nwed = Paragraph('''&lt;para align=center &gt;&lt;b&gt;Wed&lt;/b&gt;&lt;/para&gt;''', styleSheet[\"BodyText\"])\nthu = Paragraph('''&lt;para align=center &gt;&lt;b&gt;Thu&lt;/b&gt;&lt;/para&gt;''', styleSheet[\"BodyText\"])\nfri = Paragraph('''&lt;para align=center &gt;&lt;b&gt;Fri&lt;/b&gt;&lt;/para&gt;''', styleSheet[\"BodyText\"])\nemployee = Paragraph('''&lt;para align=right &gt;&lt;b&gt;Employee Name:&lt;/b&gt;&lt;/para&gt;''', styleSheet[\"BodyText\"])\nname = Paragraph('''&lt;para align=left &gt;Anjpp jol&lt;/para&gt;''', styleSheet[\"BodyText\"])\ndate = Paragraph('''&lt;para align=center &gt;&lt;b&gt;October 10, 2019&lt;/b&gt;&lt;/para&gt;''', styleSheet[\"BodyText\"])\n\ndata= [[I, '', '',  '', '','','','',''],\n       [p6, employee, '',  '', name,'','','',''],\n       [date, '', '',  '', '','','','',''],\n       ['', '', '',  '', '','','','',''],\n       ['', '', '',  '', '','','','',p5],\n       [P1,   '9/28', '9/29',  '9/30', '10/1', '10/2', '10/3','10/4', ''],        \n       [jira, sat, sun, mon, tue, wed, thu, fri],\n       [pp, '', '',  '', '','','','1.00',''],\n       [p0, '', '', '8.00', '','','','','8.00'],        \n       [P, '', '',  '', '8.00','','','','8.00'],        \n       [p2, '', '',  '', '', '8.00', '','','8.00'],\n       [p3, '', '',  '', '','','8.00','','8.00'],\n       [p4, '', '',  '', '','','','7.00','8.00'],\n       ['', '', '',  '', '','','','',''],\n       ['', '', '',  '', '','','','',''],\n       ['', '', '',  '', '','','','',''],\n       ['', '', '',  '', '','','','',''],\n       [I, '', '',  '', '','','','',''],\n       ['', '', '',  '', '','','','',''],\n       ['', '', '',  '8.00', '8.00','8.00','8.00','8.00','40.00']]\nt=Table(data,style=[('GRID',(0,1),(-1,1),1,colors.white),\n                    ('GRID',(0,2),(0,2),1,colors.black),\n                    #('GRID',(1,3),(-1,-2),1,colors.black),\n                    ('GRID',(0,6),(-1,-2),1,colors.black),\n                    #('GRID',(1,-1),(-1,-1),1,colors.black),\n                    ('GRID',(1,-1),(-1,-1),2,colors.black),\n                    ('GRID',(0,6),(0,6),2,colors.black),\n                    ('GRID',(1,5),(-1,6),2,colors.black),\n                    #('BOX',(0,1),(-1,-1),1,colors.black),\n                    ('BOX',(1,5),(-1,-1),2,colors.black),\n                    ('BOX',(-1,4),(-1,-1),2,colors.black),\n                    ('LINEABOVE',(0,-1),(-1,-1),2,colors.black),\n                    ('LINEABOVE',(4,2),(-1,2),1,colors.black),\n                    ('LINEABOVE',(4,3),(-1,3),1,colors.black),\n                    #('LINEBEFORE',(0,4),(0,4),1,colors.white),                    \n                    ('BACKGROUND', (0, 6), (0, 6), colors.skyblue),                    \n                    ('BACKGROUND', (1, 5), (-1, 6), colors.skyblue),\n                    ('BACKGROUND', (-1, 4), (-1, 4), colors.skyblue),\n                    ('BACKGROUND', (0, 2), (0, 2), colors.skyblue),\n                    #('VALIGN',(3,0),(3,0),'BOTTOM'),                    \n                    #('BACKGROUND',(3,0),(3,0),colors.limegreen),                    \n                    #('BACKGROUND',(3,1),(3,1),colors.khaki),                    \n                    #('ALIGN',(3,1),(3,1),'CENTER'),                    \n                    #('BACKGROUND',(3,2),(3,2),colors.beige),\n                    ('VALIGN',(0,1),(-1,-1),'MIDDLE'),\n                    ('ALIGN',(0,1),(-1,-1),'CENTER'),\n                    #('VALIGN',(1,0),(-1,0),'BOTTOM'),\n                    #('ALIGN',(1,0),(3,0),'RIGHT'),  \n                    ('SPAN',(-1,4),(-1,6)),\n                    ('SPAN',(1,1),(3,1)),\n                    ('SPAN',(4,1),(-1,1))])\n\nt._argW[0]=6.5*inch\nt._argW[8]=.8*inch\nt._argW[1]=.6*inch\nt._argW[2]=.6*inch\nt._argW[3]=.6*inch\nt._argW[4]=.6*inch\nt._argW[5]=.6*inch\nt._argW[6]=.6*inch\nt._argW[7]=.6*inch\nt._argH[5]=.2*inch\nt._argH[4]=.2*inch\nt._argH[3]=.2*inch\nt._argH[2]=.2*inch\nt._argH[1]=.2*inch\n\nt.wrapOn(canvas, 800, 760)\nt.drawOn(canvas, 80, 100)\n##########\n#canvas.showPage()\n#P0 = Paragraph('''#&lt;b&gt;A pa&lt;font color=red&gt;r&lt;/font&gt;a&lt;i&gt;graph&lt;/i&gt;&lt;/b&gt;&lt;super&gt;&lt;font color=yellow&gt;1&lt;/font&gt;&lt;/super&gt;''',styleSheet[\"BodyText\"])\n\n\ncanvas.save()\n\n\n#Story.append(canvas.drawString(50,453,'Patient Lifestyle'))\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 12197, "user_id": 4390160, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-ZHp9yDMYiGI/AAAAAAAAAAI/AAAAAAAAEsg/B9aVO59CDXU/photo.jpg?sz=128", "display_name": "Grismar", "link": "https://stackoverflow.com/users/4390160/grismar"}, "edited": false, "score": 1, "creation_date": 1574291452, "post_id": 58964806, "comment_id": 104184720, "body": "Welcome to StackOverflow - the best way to get answers is to provide an example that works all by itself and shows what the problem is. You provided a single line of code, but without knowing what code sits around it, it&#39;s hard to say what you&#39;re doing wrong. Please provide an example of code that&#39;s not working, but that you expected to work, by itself."}, {"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1574291575, "post_id": 58964806, "comment_id": 104184758, "body": "Please see <a href=\"https://stackoverflow.com/questions/3294889/iterating-over-dictionaries-using-for-loops?rq=1\" title=\"iterating over dictionaries using for loops\">stackoverflow.com/questions/3294889/&hellip;</a>"}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1574291709, "post_id": 58964806, "comment_id": 104184798, "body": "Welcome to StackOverflow. See <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal, reproducible example</a>. We cannot effectively help you until you post your MRE code and accurately specify the problem. We should be able to paste your posted code into a text file and reproduce the problem you specified. &quot;not working&quot; is not a problem specification."}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1574291749, "post_id": 58964806, "comment_id": 104184814, "body": "I suggest that you consult a tutorial on dictionaries; look for the part on iterating through the dict."}], "answers": [{"tags": [], "owner": {"reputation": 28, "user_id": 12340367, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Uf-zcDRBBDg/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3re0fTGCm15FORWSgsXLfVIh0MA7fw/photo.jpg?sz=128", "display_name": "Snake_py", "link": "https://stackoverflow.com/users/12340367/snake-py"}, "is_accepted": false, "score": 0, "last_activity_date": 1574291717, "creation_date": 1574291717, "answer_id": 58964862, "question_id": 58964806, "link": "https://stackoverflow.com/questions/58964806/looping-through-each-entry-of-a-python-dictionary-performing-some-calculations/58964862#58964862", "title": "Looping through each entry of a python dictionary, performing some calculations, and outputting calculation product to a text file", "body": "<p>Your keys in a dictionary are always unique. I am not sure if I understand, what you mean with \"the key is called \"n_seq\"\"? \ntry </p>\n\n<pre><code>keys = mydict.keys() // returns list of keys\n\nfor item in keys:\n  // do something with dict.get(item)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 64, "user_id": 8803937, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8895489c13394fcfc2e361512dabd646?s=128&d=identicon&r=PG&f=1", "display_name": "victor noriega", "link": "https://stackoverflow.com/users/8803937/victor-noriega"}, "is_accepted": false, "score": 0, "last_activity_date": 1574300639, "last_edit_date": 1574300639, "creation_date": 1574291764, "answer_id": 58964870, "question_id": 58964806, "link": "https://stackoverflow.com/questions/58964806/looping-through-each-entry-of-a-python-dictionary-performing-some-calculations/58964870#58964870", "title": "Looping through each entry of a python dictionary, performing some calculations, and outputting calculation product to a text file", "body": "<p>The loop you just used is iterating through the number of keys of the dict, not the values of the dict.</p>\n\n<p>I'm guessing you have something like this:</p>\n\n<pre><code>DVG_dict['n_seq'] = list_if_17000_values\n</code></pre>\n\n<p>So, what you actually want to do is iterate through those 17000 values in the dictionary, right?</p>\n\n<p>Try something like this:</p>\n\n<pre><code>for value in DVG_dict['n_seq']:\n</code></pre>\n\n<p>there, any value will be one of those in your database, not a index.</p>\n\n<p>If you also want a index, you should do this:</p>\n\n<pre><code>for i, value in zip(DVG_dict['n_sq']):\n</code></pre>\n\n<p>where i is the index, and value is one of the elements of your database.</p>\n"}], "owner": {"reputation": 1, "user_id": 12098288, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f319c95bf2a7b5ed49606a31d8d7b9b4?s=128&d=identicon&r=PG&f=1", "display_name": "alaskabiologist", "link": "https://stackoverflow.com/users/12098288/alaskabiologist"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 58, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1574300639, "creation_date": 1574291232, "last_edit_date": 1574291519, "question_id": 58964806, "link": "https://stackoverflow.com/questions/58964806/looping-through-each-entry-of-a-python-dictionary-performing-some-calculations", "title": "Looping through each entry of a python dictionary, performing some calculations, and outputting calculation product to a text file", "body": "<p>I have written a script that executes for a single entry. However I have a database of 17,000 entries, in the form of a dictionary. I would like to perform these calculations on each entry just once, and each calculation output be written to a text file. </p>\n\n<p>The dictionary is called DVG_dict. The key is called \"n_seq\" The line I used to start the loop is:</p>\n\n<pre><code>for i in range(len(DVG_dict)):\n</code></pre>\n\n<p>For some reason this code is not working. Any ideas? </p>\n"}, {"tags": ["python", "solidity", "smartcontracts", "web3"], "answers": [{"tags": [], "owner": {"reputation": 1428, "user_id": 7189060, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d72ad91327f4eca9e7aaf84abfd403c3?s=128&d=identicon&r=PG&f=1", "display_name": "StillFantasy", "link": "https://stackoverflow.com/users/7189060/stillfantasy"}, "is_accepted": false, "score": 0, "last_activity_date": 1574331570, "creation_date": 1574331570, "answer_id": 58972505, "question_id": 58964792, "link": "https://stackoverflow.com/questions/58964792/error-passing-string-as-parameter-solidity/58972505#58972505", "title": "Error passing string as parameter (Solidity)", "body": "<p>Have you call <code>addOption</code> function before <code>getResult</code>?</p>\n\n<p>As you said, you failed on the second require statement, and this would happen if you pass in a name that is not on the candidate list.</p>\n"}], "owner": {"reputation": 193, "user_id": 9683062, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Javier Jim&#233;nez de la Jara", "link": "https://stackoverflow.com/users/9683062/javier-jim%c3%a9nez-de-la-jara"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 693, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1574331570, "creation_date": 1574291153, "last_edit_date": 1574320885, "question_id": 58964792, "link": "https://stackoverflow.com/questions/58964792/error-passing-string-as-parameter-solidity", "title": "Error passing string as parameter (Solidity)", "body": "<p>I did a smart contract to vote, but I a, having troubles with one of my functions (\"results\"). Here comes the smart contract:</p>\n\n<pre><code>pragma solidity ^0.5.7;\n\ncontract Voting{\n    struct Option{\n        string name;\n        uint256 votes;\n    }\n\n    Option[] private options;\n    address[] private alreadyVote;\n\n    address private owner = msg.sender;\n\n    constructor() public {}\n\n    function addOption(string memory _name) public{\n        require(msg.sender==owner,\"Permiso denegado\");\n        options.push(Option(_name,0));\n    }\n\n    function vote(string memory _name) public{\n        require(find(msg.sender,alreadyVote)==-1,\"Ya ha ejercido su derecho a voto\");\n        int candidateIndex = findOption(_name);\n        require(candidateIndex!=-1,\"No se ha encontrado el candidato deseado\");\n\n        options[uint(candidateIndex)].votes++;\n\n        alreadyVote.push(msg.sender);\n    }\n\n    function findOption(string memory _name) private view returns (int){\n        int result = -1;\n        for(uint i = 0;i&lt;options.length;i++){\n            if(compareStrings(options[i].name,_name))\n                result = int(i);\n        }\n        return result;\n    }\n\n    function compareStrings (string memory a, string memory b) private pure returns (bool) {\n        return (keccak256(abi.encodePacked((a))) == keccak256(abi.encodePacked((b))) );\n    }\n\n    function find(address ad, address[] memory v) private pure returns (int){\n        int result = -1;\n        for(uint i = 0;i&lt;v.length;i++){\n            if(v[i]==ad)\n                result = int(i);\n        }\n        return result;\n    }\n\n    function concat(string memory _base, string memory _value) public pure returns (string memory) {\n        bytes memory _baseBytes = bytes(_base);\n        bytes memory _valueBytes = bytes(_value);\n\n        string memory _tmpValue = new string(_baseBytes.length + _valueBytes.length);\n        bytes memory _newValue = bytes(_tmpValue);\n\n        uint i;\n        uint j;\n\n        for(i=0; i&lt;_baseBytes.length; i++) {\n            _newValue[j++] = _baseBytes[i];\n        }\n\n        for(i=0; i&lt;_valueBytes.length; i++) {\n            _newValue[j++] = _valueBytes[i];\n        }\n\n        return string(_newValue);\n    }\n\n    function getResult(string memory _name) public view returns (string memory ,uint){\n        require(msg.sender==owner,\"Denied\");\n        int index = findOption(_name);\n        string memory error = concat(\"Didn't found candidate \",_name);\n        require(index!=-1,error);\n\n        return (options[uint(index)].name,options[uint(index)].votes);\n    }\n}\n</code></pre>\n\n<p>The thing is that when I call the gunction result, second require statement pops. Tgos os how I call it from Web3.py:</p>\n\n<pre><code>tx = contract_instance.functions.getResult(\"Name\").call({'from':acct.address})\n</code></pre>\n\n<p>I think that this should work, because I am already calling function vote with the same statement, but it perfectly works. This is how I call it:</p>\n\n<pre><code>tx = contract_instance.functions.vote(candidato).buildTransaction({'nonce':w3.eth.getTransactionCount(acc),'gas': 1728712,'gasPrice': w3.toWei('21', 'gwei')})\n#Get tx receipt to get contract address\nsigned_tx = w3.eth.account.signTransaction(tx, key)\n</code></pre>\n\n<p>I tested it on remix and worked, so I dont really know what could be happening.</p>\n"}, {"tags": ["python", "sqlite", "encryption", "sqlcipher", "pysqlcipher"], "answers": [{"tags": [], "owner": {"reputation": 21, "user_id": 13700805, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/89ea9e31f11986a8e97b0f8be28d44d1?s=128&d=identicon&r=PG", "display_name": "Jonathan", "link": "https://stackoverflow.com/users/13700805/jonathan"}, "is_accepted": false, "score": 2, "last_activity_date": 1591544218, "last_edit_date": 1591544218, "creation_date": 1591543244, "answer_id": 62247509, "question_id": 58964763, "link": "https://stackoverflow.com/questions/58964763/using-sqlcipher-in-python-the-easy-way/62247509#62247509", "title": "Using SQLCipher in Python - the easy way", "body": "<p>I was able to copy the ssleay32.dll, libeay32.dll, and sqlcipher.dll in to the Python38\\DLLs folder.  I then renamed sqlite3.dll to sqlite3.dll.old.  sqlcipher.dll needs to be renamed to sqlite3.dll.  Then call it like you would for sqlite.  </p>\n\n<p>For Linux</p>\n\n<pre><code>sudo apt update\nsudo apt upgrade\nsudo apt install python3-pip python3-dev build-essential libssl-dev libffi-dev python3-setuptools\nsudo apt-get install libsqlcipher-dev\nsudo apt install build-essential git cmake libsqlite3-dev\nsudo apt install sqlcipher\ngit clone https://github.com/rigglemania/pysqlcipher3\ncd pysqlcipher3\npython3 setup.py build\nsudo python3 setup.py install\n\nif installing in virtual environment also do\npip install pysqlcipher3 in the environment\n\nif sys.platform.lower() == 'linux':\n  try:\n     from pysqlcipher3 import dbapi2 as sqlite3\n  except:\n     import sqlite3\n</code></pre>\n"}], "owner": {"reputation": 87, "user_id": 1448591, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/9a1c3e26bb0b006359321c03bf903114?s=128&d=identicon&r=PG", "display_name": "Marco", "link": "https://stackoverflow.com/users/1448591/marco"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1635, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1591544218, "creation_date": 1574290983, "question_id": 58964763, "link": "https://stackoverflow.com/questions/58964763/using-sqlcipher-in-python-the-easy-way", "title": "Using SQLCipher in Python - the easy way", "body": "<p>I'm coding a Python utility that should work on an encrypted SQLite database. Eventually I'll turn such utility into a executable, so it'll be easier to ship to the rest of my team.\nI read many pages about SQLCipher but they all talk about compiling stuff and installing in Windows - really, I have a hard time at fully understand that, it seems like they take some steps for granted and I get lost.</p>\n\n<p>Where can I find a detailed, step-by-step guide that allows me to have Python code that works properly on an encrypted SQLite database, with no system dependencies, and then such code is compilable into an exe (with pyinstaller)? Even having an exe and a dll would be fine.</p>\n\n<p>Thanks for your help.</p>\n\n<p>PS: I think that the exe + dll is a viable option because DB Browser for SQLite (<a href=\"https://github.com/sqlitebrowser/sqlitebrowser\" rel=\"nofollow noreferrer\">https://github.com/sqlitebrowser/sqlitebrowser</a>) ships with that very dll. Maybe it's re-usable?</p>\n"}, {"tags": ["python", "linux", "pip", "pypi", "python-wheel"], "comments": [{"owner": {"reputation": 15554, "user_id": 328036, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8db101b3a812b0464c53e5409c12ea94?s=128&d=identicon&r=PG", "display_name": "Dustin Ingram", "link": "https://stackoverflow.com/users/328036/dustin-ingram"}, "edited": false, "score": 0, "creation_date": 1574354650, "post_id": 58964751, "comment_id": 104212617, "body": "The project seems actively maintained, perhaps you can talk to the maintainers about publishing manylinux wheels?"}], "answers": [{"comments": [{"owner": {"reputation": 6344, "user_id": 1084684, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/32b10232489646c1940c202e91f475b9?s=128&d=identicon&r=PG", "display_name": "dstromberg", "link": "https://stackoverflow.com/users/1084684/dstromberg"}, "edited": false, "score": 0, "creation_date": 1574295658, "post_id": 58964812, "comment_id": 104185763, "body": "Wow, that&#39;s nice.  It&#39;s really close.  The fly in the ointment is that I need something that&#39;ll work on both Debian-derivatives and Fedora-derivatives - so I think I need manylinux.  The &quot;pip wheel whatever.tar.gz&quot; produces something that installs and imports on one, but installs and fails to import on the other."}, {"owner": {"reputation": 9376, "user_id": 11138259, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e2faec9f4f30093c8b0f5d47a69e551f?s=128&d=identicon&r=PG&f=1", "display_name": "sinoroc", "link": "https://stackoverflow.com/users/11138259/sinoroc"}, "reply_to_user": {"reputation": 6344, "user_id": 1084684, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/32b10232489646c1940c202e91f475b9?s=128&d=identicon&r=PG", "display_name": "dstromberg", "link": "https://stackoverflow.com/users/1084684/dstromberg"}, "edited": false, "score": 0, "creation_date": 1574328627, "post_id": 58964812, "comment_id": 104196688, "body": "Well this part doesn&#39;t seem to be straightforward. See a <a href=\"https://opensource.com/article/19/2/manylinux-python-wheels\" rel=\"nofollow noreferrer\">short intro here</a> and more technical details by following from the <a href=\"https://github.com/pypa/manylinux\" rel=\"nofollow noreferrer\">pypa/manylinux repository</a> and so on. But... Are there not wheels being built in your containers anyway? If yes, why not cache them and reuse them to cut the build time?"}], "tags": [], "owner": {"reputation": 9376, "user_id": 11138259, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e2faec9f4f30093c8b0f5d47a69e551f?s=128&d=identicon&r=PG&f=1", "display_name": "sinoroc", "link": "https://stackoverflow.com/users/11138259/sinoroc"}, "is_accepted": false, "score": 0, "last_activity_date": 1574291267, "creation_date": 1574291267, "answer_id": 58964812, "question_id": 58964751, "link": "https://stackoverflow.com/questions/58964751/converting-someone-elses-tar-gz-package-to-a-whl/58964812#58964812", "title": "Converting /someone/else&#39;s/ .tar.gz package to a .whl?", "body": "<p>I believe it should be pretty straightforward with <a href=\"https://pip.pypa.io/en/stable/reference/pip_wheel/\" rel=\"nofollow noreferrer\"><code>pip wheel</code></a>.</p>\n"}, {"tags": [], "owner": {"reputation": 15554, "user_id": 328036, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8db101b3a812b0464c53e5409c12ea94?s=128&d=identicon&r=PG", "display_name": "Dustin Ingram", "link": "https://stackoverflow.com/users/328036/dustin-ingram"}, "is_accepted": false, "score": 3, "last_activity_date": 1574354930, "creation_date": 1574354930, "answer_id": 58979864, "question_id": 58964751, "link": "https://stackoverflow.com/questions/58964751/converting-someone-elses-tar-gz-package-to-a-whl/58979864#58979864", "title": "Converting /someone/else&#39;s/ .tar.gz package to a .whl?", "body": "<p>The way to do this is to download and extract the source distribution (<code>.tar.gz</code>) inside a compatible <a href=\"https://quay.io/organization/pypa\" rel=\"nofollow noreferrer\">manylinux Docker image</a> (this depends on the architecture you want to target) and then build the wheel with <code>python setup.py bdist_wheel</code>.</p>\n\n<p>There's a demo project at <a href=\"https://github.com/pypa/python-manylinux-demo\" rel=\"nofollow noreferrer\">https://github.com/pypa/python-manylinux-demo</a> which shows how to do this automatically with CI, you could probably adapt that, or even contribute it back to the projects which aren't publishing built distributions (wheels).</p>\n"}], "owner": {"reputation": 6344, "user_id": 1084684, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/32b10232489646c1940c202e91f475b9?s=128&d=identicon&r=PG", "display_name": "dstromberg", "link": "https://stackoverflow.com/users/1084684/dstromberg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3059, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1574355008, "creation_date": 1574290921, "last_edit_date": 1574355008, "question_id": 58964751, "link": "https://stackoverflow.com/questions/58964751/converting-someone-elses-tar-gz-package-to-a-whl", "title": "Converting /someone/else&#39;s/ .tar.gz package to a .whl?", "body": "<p>I'm faced with a Docker build process that's pretty slow, in part because\u00a0of all the Python packages we're building and installing over and over.  I'd very much like to speed it up.</p>\n\n<p>I've downloaded the packages from PyPI so I can get a good look at them.  I've also put them in a local pypiserver (two, actually), and confirmed I can install them from there.</p>\n\n<p>The packages' extensions are:</p>\n\n<pre><code>87 .whl \u00a0 \u00a0............................................................\n23 .tar.gz ................\n\u00a02 .zip \u00a0 \u00a0.\n</code></pre>\n\n<p>I'm thinking some of those .tar.gz's (and .zip's?  and source .whl's?) would be much faster to install if I converted them to manylinux wheels, and put them in a local pypiserver instance with the same version number.\u00a0 In fact, one package tends to fail to compile at random - so the build process should be a little more reliable too if this works out.</p>\n\n<p>Is there a (relatively?) straightforward process for doing such a thing?\u00a0 That is, to take a .tar.gz from pypi (<em>not</em> an arbitrary .tar.gz - only a handful from pypi) and convert it to a binary manylinux .whl?</p>\n\n<p>For example, probably the most time-consuming package in our docker build is <a href=\"https://pypi.org/project/pycapnp/\" rel=\"nofollow noreferrer\">https://pypi.org/project/pycapnp/</a>  It takes about 80 seconds to build and install on my Linux Mint 19.1 laptop. It's a .tar.gz.</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["python", "azure", "apache-spark", "databricks", "azure-databricks"], "answers": [{"comments": [{"owner": {"reputation": 955, "user_id": 1775009, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/kBUTI.jpg?s=128&g=1", "display_name": "Sagar K", "link": "https://stackoverflow.com/users/1775009/sagar-k"}, "edited": false, "score": 0, "creation_date": 1574320252, "post_id": 58968478, "comment_id": 104192335, "body": "I have tried using to-pandas, file is getting created but format of json is not proper"}, {"owner": {"reputation": 955, "user_id": 1775009, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/kBUTI.jpg?s=128&g=1", "display_name": "Sagar K", "link": "https://stackoverflow.com/users/1775009/sagar-k"}, "edited": false, "score": 0, "creation_date": 1574373964, "post_id": 58968478, "comment_id": 104221491, "body": "Why And then check if file exists. is needed ?"}, {"owner": {"reputation": 20467, "user_id": 4989676, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jP8H6.jpg?s=128&g=1", "display_name": "Peter Pan", "link": "https://stackoverflow.com/users/4989676/peter-pan"}, "reply_to_user": {"reputation": 955, "user_id": 1775009, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/kBUTI.jpg?s=128&g=1", "display_name": "Sagar K", "link": "https://stackoverflow.com/users/1775009/sagar-k"}, "edited": false, "score": 0, "creation_date": 1574384007, "post_id": 58968478, "comment_id": 104224173, "body": "@SagarK No for checking a file whether exists, I just want to show you that the file has been created."}, {"owner": {"reputation": 20467, "user_id": 4989676, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jP8H6.jpg?s=128&g=1", "display_name": "Peter Pan", "link": "https://stackoverflow.com/users/4989676/peter-pan"}, "reply_to_user": {"reputation": 955, "user_id": 1775009, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/kBUTI.jpg?s=128&g=1", "display_name": "Sagar K", "link": "https://stackoverflow.com/users/1775009/sagar-k"}, "edited": false, "score": 0, "creation_date": 1574384162, "post_id": 58968478, "comment_id": 104224204, "body": "@SagarK May you should show same sample data to me. Let me know what the structure of your dataframe and your json created, and what you want the proper json format is."}], "tags": [], "owner": {"reputation": 20467, "user_id": 4989676, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jP8H6.jpg?s=128&g=1", "display_name": "Peter Pan", "link": "https://stackoverflow.com/users/4989676/peter-pan"}, "is_accepted": false, "score": 1, "last_activity_date": 1574318390, "last_edit_date": 1574318390, "creation_date": 1574317384, "answer_id": 58968478, "question_id": 58964745, "link": "https://stackoverflow.com/questions/58964745/azure-data-bricks-how-to-read-part-files-and-save-it-as-one-file-to-blob/58968478#58968478", "title": "Azure Data-bricks : How to read part files and save it as one file to blob?", "body": "<p>I see you want to simply merge the content of these files to a file, but due to the description of the <code>shutil.move</code> function as the figure below, its feature is like Linux <code>mv</code>, so the content of the last file will cover the content of the previous files.</p>\n\n<p><a href=\"https://i.stack.imgur.com/OLMV0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OLMV0.png\" alt=\"enter image description here\"></a></p>\n\n<p>And the reason of writing multiple files by the code is that Spark working on HDFS, so more than 128MB (HDFS part file size) data writen on HDFS will generate multiple files named with the <code>part</code> prefix, please refer to <a href=\"https://community.cloudera.com/t5/Support-Questions/What-is-Small-file-problem-in-HDFS/m-p/200786\" rel=\"nofollow noreferrer\">What is Small file problem in HDFS ?</a>.</p>\n\n<p>A workaround solution to satisfy your needs is to convert a PySpark dataframe to a Pandas dataframe and then to use pandas dataframe function <code>to_json</code> to write a json file.</p>\n\n<p>Here is my sample code.</p>\n\n<pre><code>df.toPandas().to_json('/dbfs/mnt/path/FinalData/FinalData.json')\n</code></pre>\n\n<p>And then check if file exists.</p>\n\n<pre><code>import os\nos.path.isfile('/dbfs/mnt/path/FinalData/FinalData.json')\n</code></pre>\n\n<p>Or </p>\n\n<pre><code>dbutils.fs.ls('dbfs:/mnt/path/')\n</code></pre>\n\n<p>As reference, the figure below is my result.</p>\n\n<p><a href=\"https://i.stack.imgur.com/kxIII.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kxIII.png\" alt=\"enter image description here\"></a></p>\n\n<p>For your other question, to read part files using PySpark is to pass a wildcard path to function <code>spark.read.json()</code> as the code below.</p>\n\n<pre><code>spark.read.json('dbfs:/mnt/path/DataModel/part-*.json')\n</code></pre>\n"}], "owner": {"reputation": 955, "user_id": 1775009, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/kBUTI.jpg?s=128&g=1", "display_name": "Sagar K", "link": "https://stackoverflow.com/users/1775009/sagar-k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 699, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1574318390, "creation_date": 1574290876, "question_id": 58964745, "link": "https://stackoverflow.com/questions/58964745/azure-data-bricks-how-to-read-part-files-and-save-it-as-one-file-to-blob", "title": "Azure Data-bricks : How to read part files and save it as one file to blob?", "body": "<p>I am using Python spark writing a data-frame to a folder in blob which gets saved as part files :</p>\n\n<pre><code>df.write.format(\"json\").save(\"/mnt/path/DataModel\")\n</code></pre>\n\n<p>Files are saved as :</p>\n\n<p><a href=\"https://i.stack.imgur.com/x87Yd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/x87Yd.png\" alt=\"enter image description here\"></a></p>\n\n<p>i am using following code to merge it into one file : </p>\n\n<pre><code>#Read Part files\n path = glob.glob(\"/dbfs/mnt/path/DataModel/part-000*.json\")  \n\n#Move file to FinalData folder in blbo\n    for file in path: \n          shutil.move(file,\"/dbfs/mnt/path/FinalData/FinalData.json\")\n</code></pre>\n\n<blockquote>\n  <p>But <strong>FinalData.Json</strong> only have last part file data and not data of all\n  part files.</p>\n</blockquote>\n"}, {"tags": ["python", "negamax"], "comments": [{"owner": {"reputation": 545, "user_id": 4678667, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/M0qxt.jpg?s=128&g=1", "display_name": "micsthepick", "link": "https://stackoverflow.com/users/4678667/micsthepick"}, "edited": false, "score": 0, "creation_date": 1574290840, "post_id": 58964734, "comment_id": 104184455, "body": "accidentally posted the question before I was done making it, it is ready now"}, {"owner": {"reputation": 1068, "user_id": 7211815, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6qt3B.png?s=128&g=1", "display_name": "codrelphi", "link": "https://stackoverflow.com/users/7211815/codrelphi"}, "edited": false, "score": 0, "creation_date": 1574291623, "post_id": 58964734, "comment_id": 104184772, "body": "It seems you know the algorithm and you implement it by yourself. So can not you run it on your laptop to see if it works or not ?"}, {"owner": {"reputation": 545, "user_id": 4678667, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/M0qxt.jpg?s=128&g=1", "display_name": "micsthepick", "link": "https://stackoverflow.com/users/4678667/micsthepick"}, "reply_to_user": {"reputation": 1068, "user_id": 7211815, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6qt3B.png?s=128&g=1", "display_name": "codrelphi", "link": "https://stackoverflow.com/users/7211815/codrelphi"}, "edited": false, "score": 0, "creation_date": 1574291706, "post_id": 58964734, "comment_id": 104184796, "body": "@codrelphi it appears to work, however that does not mean that it works 100% correctly"}, {"owner": {"reputation": 545, "user_id": 4678667, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/M0qxt.jpg?s=128&g=1", "display_name": "micsthepick", "link": "https://stackoverflow.com/users/4678667/micsthepick"}, "reply_to_user": {"reputation": 1068, "user_id": 7211815, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6qt3B.png?s=128&g=1", "display_name": "codrelphi", "link": "https://stackoverflow.com/users/7211815/codrelphi"}, "edited": false, "score": 0, "creation_date": 1574291767, "post_id": 58964734, "comment_id": 104184821, "body": "for example, min-max may try to minimize the score for the wrong player, but if when you search through and pick the move with the best evaluation, it will appear to play good moves"}, {"owner": {"reputation": 1068, "user_id": 7211815, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6qt3B.png?s=128&g=1", "display_name": "codrelphi", "link": "https://stackoverflow.com/users/7211815/codrelphi"}, "edited": false, "score": 0, "creation_date": 1574292557, "post_id": 58964734, "comment_id": 104185055, "body": "Ok. It is better to post your code in the code review section: <a href=\"https://codereview.stackexchange.com/\">codereview.stackexchange.com</a>"}, {"owner": {"reputation": 545, "user_id": 4678667, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/M0qxt.jpg?s=128&g=1", "display_name": "micsthepick", "link": "https://stackoverflow.com/users/4678667/micsthepick"}, "reply_to_user": {"reputation": 1068, "user_id": 7211815, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6qt3B.png?s=128&g=1", "display_name": "codrelphi", "link": "https://stackoverflow.com/users/7211815/codrelphi"}, "edited": false, "score": 0, "creation_date": 1574292622, "post_id": 58964734, "comment_id": 104185072, "body": "I&#39;m not fussed about coding styles, just the algorithm, does that fit with the style of question on codereview?"}, {"owner": {"reputation": 545, "user_id": 4678667, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/M0qxt.jpg?s=128&g=1", "display_name": "micsthepick", "link": "https://stackoverflow.com/users/4678667/micsthepick"}, "reply_to_user": {"reputation": 1068, "user_id": 7211815, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6qt3B.png?s=128&g=1", "display_name": "codrelphi", "link": "https://stackoverflow.com/users/7211815/codrelphi"}, "edited": false, "score": 0, "creation_date": 1574292711, "post_id": 58964734, "comment_id": 104185096, "body": "@codrelphi &quot;Code Review is for open-ended questions about code that already works correctly&quot; In this case, that is under question"}], "owner": {"reputation": 545, "user_id": 4678667, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/M0qxt.jpg?s=128&g=1", "display_name": "micsthepick", "link": "https://stackoverflow.com/users/4678667/micsthepick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 292, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1574291461, "creation_date": 1574290826, "last_edit_date": 1574291461, "question_id": 58964734, "link": "https://stackoverflow.com/questions/58964734/implement-simple-quiescence-search-algorithm", "title": "Implement simple quiescence search algorithm", "body": "<p>I'm trying to implement a simple quiescence search for my negamax AI (not chess - 10-10-5 mnk or gomoku style game called Take 5). It already has a transposition table.\nThe main negamax algorithm looks like this:</p>\n\n<pre><code>def negamax(board, depth, alpha, beta, player, ttable):\n    if board in ttable:\n        value, vtype = ttable[board]\n        if vtype == 0:\n            return value\n        elif vtype == 1:\n            beta = min(alpha, value)\n        else:\n            alpha = max(beta, value)\n    score = board.getValue()\n    if abs(score) == 1000000000000:\n        return player * score\n    if depth == 0:\n        return player * score\n    oldAlpha = alpha\n    possibleMoves = board.getBestNextMoves()\n    value = -1000000000000\n    for move in possibleMoves:\n        #child = board#Board(board)\n        board.place(move, player)\n        value = max(value, -negamax(board, depth-1, -beta, -alpha,\n                                    -player, ttable))\n        board.place(move, 0)\n        alpha = max(alpha, value)\n        if alpha &gt;= beta:\n            break # alpha beta prune\n    if value &lt;= oldAlpha:\n        vtype = 1\n    elif value &gt;= beta:\n        vtype = -1\n    else:\n        vtype = 0\n    ttable[board] = (value, vtype)\n    return value\n</code></pre>\n\n<p>I've looked online for some quiescence search algorithms, but they seem to not work properly, but this is what I've come up with:</p>\n\n<pre><code>def quiesce(board, alpha, beta, player, ttable):\nif board in ttable:\n    value, vtype = ttable[board]\n    if vtype == 0:\n        score = value\n    else:\n        score = player * board.getValue()\n        ttable[board] = (score, 0)\nelse:\n    score = board.getValue()\n    ttable[board] = (score, 0)\nif score &gt;= beta:\n    return score\nif alpha &lt; score:\n    alpha = score\nfor move in board.getForcedMoves(player):\n    board.place(move, player)\n    score = -quiesce(board, -beta, -alpha, -player, ttable)\n    board.place(move, 0)\n    if score &gt;= beta:\n        return score\n    if score &gt; alpha:\n        alpha = score\nreturn alpha\n</code></pre>\n\n<p>Can you check that I have implemented properly a quiescence search for this algorithm?</p>\n"}, {"tags": ["python", "python-3.x", "datetime"], "comments": [{"owner": {"reputation": 573, "user_id": 3911355, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac5a661e8c2c34e2e0b0fa6c57bfd513?s=128&d=identicon&r=PG", "display_name": "mgrollins", "link": "https://stackoverflow.com/users/3911355/mgrollins"}, "edited": false, "score": 1, "creation_date": 1574291015, "post_id": 58964713, "comment_id": 104184543, "body": "The error message is correct. It appears you are looking for <code>strftime()</code> [note the &quot;f&quot;!]. The <code>%B</code> should be the correct format code."}, {"owner": {"reputation": 3607, "user_id": 6043544, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/fafb6acf4f4504b54e7484bc0c17cc7a?s=128&d=identicon&r=PG&f=1", "display_name": "Serdia", "link": "https://stackoverflow.com/users/6043544/serdia"}, "reply_to_user": {"reputation": 573, "user_id": 3911355, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac5a661e8c2c34e2e0b0fa6c57bfd513?s=128&d=identicon&r=PG", "display_name": "mgrollins", "link": "https://stackoverflow.com/users/3911355/mgrollins"}, "edited": false, "score": 1, "creation_date": 1574291133, "post_id": 58964713, "comment_id": 104184592, "body": "Ooooh! Attention to details!!! Thank you !"}], "answers": [{"tags": [], "owner": {"reputation": 6690, "user_id": 4225229, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/2YfJM.jpg?s=128&g=1", "display_name": "JacobIRR", "link": "https://stackoverflow.com/users/4225229/jacobirr"}, "is_accepted": true, "score": 3, "last_activity_date": 1574291004, "creation_date": 1574291004, "answer_id": 58964767, "question_id": 58964713, "link": "https://stackoverflow.com/questions/58964713/how-to-get-month-name-from-date-in-python/58964767#58964767", "title": "How to get month name from date in python", "body": "<p>The proper method to use is called <code>strftime</code>, not <code>strtime</code></p>\n"}], "owner": {"reputation": 3607, "user_id": 6043544, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/fafb6acf4f4504b54e7484bc0c17cc7a?s=128&d=identicon&r=PG&f=1", "display_name": "Serdia", "link": "https://stackoverflow.com/users/6043544/serdia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 98, "favorite_count": 0, "accepted_answer_id": 58964767, "answer_count": 1, "score": 0, "last_activity_date": 1574291004, "creation_date": 1574290711, "question_id": 58964713, "link": "https://stackoverflow.com/questions/58964713/how-to-get-month-name-from-date-in-python", "title": "How to get month name from date in python", "body": "<p>the goal is to get month name and year from previous month date. Such:  <code>October -2019</code></p>\n\n<p>But I got an error:</p>\n\n<pre><code>import datetime\n\n\nd = datetime.date.today()\nfirst_day = d.replace(day=1) # gives first day of current month\nlast_day = first_day - datetime.timedelta(days=1) # gives last date of previous month\nprint(last_day.strtime(\"%B\"))\n</code></pre>\n\n<p><strong>Error</strong>:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"x:\\Documents\\Python\\tempCodeRunnerFile.py\", line 7, in &lt;module&gt;\n    print(last_day.strtime(\"%B\"))\nAttributeError: 'datetime.date' object has no attribute 'strtime'\n</code></pre>\n"}, {"tags": ["python", "google-cloud-platform", "monitoring", "stackdriver", "google-cloud-stackdriver"], "comments": [{"owner": {"reputation": 43265, "user_id": 8016720, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bXsod.png?s=128&g=1", "display_name": "John Hanley", "link": "https://stackoverflow.com/users/8016720/john-hanley"}, "edited": false, "score": 1, "creation_date": 1574294005, "post_id": 58964686, "comment_id": 104185388, "body": "More details and include your code. Unless you have set up something specify your application logs will go to Global and not to specific resources. Find your logs in the Stackdriver Console and see what is specified."}, {"owner": {"reputation": 959, "user_id": 3080600, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d6ceaf8fe0241610f0581b4bf28119e7?s=128&d=identicon&r=PG&f=1", "display_name": "user3080600", "link": "https://stackoverflow.com/users/3080600/user3080600"}, "reply_to_user": {"reputation": 43265, "user_id": 8016720, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bXsod.png?s=128&g=1", "display_name": "John Hanley", "link": "https://stackoverflow.com/users/8016720/john-hanley"}, "edited": false, "score": 0, "creation_date": 1574856155, "post_id": 58964686, "comment_id": 104377556, "body": "Fixed it - had to set resource type to global"}], "answers": [{"tags": [], "owner": {"reputation": 47, "user_id": 12264534, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-vow9W5A7LAY/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3re79-0esflCiRHKrfiBjl1HbYITnA/photo.jpg?sz=128", "display_name": "Christian Bonhomme", "link": "https://stackoverflow.com/users/12264534/christian-bonhomme"}, "is_accepted": true, "score": 0, "last_activity_date": 1574298683, "creation_date": 1574298683, "answer_id": 58965778, "question_id": 58964686, "link": "https://stackoverflow.com/questions/58964686/resource-type-for-using-stackdriver-logger-in-python/58965778#58965778", "title": "Resource type for using stackdriver logger in python?", "body": "<p>You can start by going to the resources menu on the left panel of the Stackdriver interface, and click on Metrics Explorer. Once you are in metrics explorer you can start by typing Global, and then scroll up until you see global. From there click on Global under Resource types. This will narrow down the metrics for you to search. Once you find the resource you are trying to monitor, you can then note it and create an alert for it. For more information about Python and Stackdriver check out this <a href=\"https://cloud.google.com/error-reporting/docs/setup/python\" rel=\"nofollow noreferrer\">link</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 592, "user_id": 7729243, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-YAoHlli-jpQ/AAAAAAAAAAI/AAAAAAAAADo/ML-v5CK2pyk/photo.jpg?sz=128", "display_name": "Yuri Grinshteyn", "link": "https://stackoverflow.com/users/7729243/yuri-grinshteyn"}, "is_accepted": false, "score": 0, "last_activity_date": 1574443136, "creation_date": 1574443136, "answer_id": 58998953, "question_id": 58964686, "link": "https://stackoverflow.com/questions/58964686/resource-type-for-using-stackdriver-logger-in-python/58998953#58998953", "title": "Resource type for using stackdriver logger in python?", "body": "<p>The resource type will depend on where your code is running.  For example, if you're running on a VM in GCE, the resource type will be \"gce_instance\".  If it's running in a container in GKE, it'll be \"k8s_container\", and etc. If you're running the code outside of GCP, it may be logged under the \"global\" resource.</p>\n"}], "owner": {"reputation": 959, "user_id": 3080600, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d6ceaf8fe0241610f0581b4bf28119e7?s=128&d=identicon&r=PG&f=1", "display_name": "user3080600", "link": "https://stackoverflow.com/users/3080600/user3080600"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 317, "favorite_count": 0, "accepted_answer_id": 58965778, "answer_count": 2, "score": 0, "last_activity_date": 1574443136, "creation_date": 1574290553, "question_id": 58964686, "link": "https://stackoverflow.com/questions/58964686/resource-type-for-using-stackdriver-logger-in-python", "title": "Resource type for using stackdriver logger in python?", "body": "<p>I'm currently using stackdriver for cloud logging my python code. I am trying to setup notifications which requires me to specify a resource type but I can't find which resource type I am using?</p>\n"}, {"tags": ["python", "algorithm", "matrix"], "comments": [{"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1574290812, "post_id": 58964666, "comment_id": 104184439, "body": "Welcome to StackOverflow. See <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal, reproducible example</a>. We cannot effectively help you until you post your MRE code and accurately specify the problem. We should be able to paste your posted code into a text file and reproduce the problem you specified. Your posted code is not properly indented; it fails to run, because <code>A</code> is undefined; you do not describe or demonstrate any problem."}, {"owner": {"reputation": 39, "user_id": 10659964, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39a64fc7169101fd30cdb40c11de6835?s=128&d=identicon&r=PG&f=1", "display_name": "Mr CEO", "link": "https://stackoverflow.com/users/10659964/mr-ceo"}, "reply_to_user": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1574290910, "post_id": 58964666, "comment_id": 104184491, "body": "@Prune Thanks, was looking for how to represent power of 2"}], "answers": [{"comments": [{"owner": {"reputation": 11092, "user_id": 3066077, "user_type": "registered", "profile_image": "https://graph.facebook.com/1666991815/picture?type=large", "display_name": "DarrylG", "link": "https://stackoverflow.com/users/3066077/darrylg"}, "edited": false, "score": 0, "creation_date": 1574293046, "post_id": 58964960, "comment_id": 104185178, "body": "You need the tests for x+1 &lt; N and y+1 &lt; N before checking if A[x+1][y]==1 and A[x][y+1]==1 in the and conditionals.  Otherwise you will get an index out of range error."}, {"owner": {"reputation": 39, "user_id": 10659964, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39a64fc7169101fd30cdb40c11de6835?s=128&d=identicon&r=PG&f=1", "display_name": "Mr CEO", "link": "https://stackoverflow.com/users/10659964/mr-ceo"}, "edited": false, "score": 0, "creation_date": 1574293091, "post_id": 58964960, "comment_id": 104185185, "body": "@Guimoute I don&#39;t quite understand the end of the 6th line:         x +1 &lt; N:"}, {"owner": {"reputation": 2646, "user_id": 9282844, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Djkuj.png?s=128&g=1", "display_name": "Guimoute", "link": "https://stackoverflow.com/users/9282844/guimoute"}, "reply_to_user": {"reputation": 39, "user_id": 10659964, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39a64fc7169101fd30cdb40c11de6835?s=128&d=identicon&r=PG&f=1", "display_name": "Mr CEO", "link": "https://stackoverflow.com/users/10659964/mr-ceo"}, "edited": false, "score": 0, "creation_date": 1574293274, "post_id": 58964960, "comment_id": 104185226, "body": "@MrCEO You need to make sure <code>A[x+1][y]</code> actually exists. You did it in your original post by reducing the <code>range</code>, I do it by adding a <code>if</code> condition. A third option would be to not check at all and ignore any <code>IndexError</code> that would be raised because of that line."}, {"owner": {"reputation": 39, "user_id": 10659964, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39a64fc7169101fd30cdb40c11de6835?s=128&d=identicon&r=PG&f=1", "display_name": "Mr CEO", "link": "https://stackoverflow.com/users/10659964/mr-ceo"}, "edited": false, "score": 0, "creation_date": 1574294158, "post_id": 58964960, "comment_id": 104185414, "body": "@Guimoute  I am getting this message:    TypeError: &#39;int&#39; does not support indexing.     This line  ----    if A[x][y] == 1:"}, {"owner": {"reputation": 2646, "user_id": 9282844, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Djkuj.png?s=128&g=1", "display_name": "Guimoute", "link": "https://stackoverflow.com/users/9282844/guimoute"}, "reply_to_user": {"reputation": 39, "user_id": 10659964, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39a64fc7169101fd30cdb40c11de6835?s=128&d=identicon&r=PG&f=1", "display_name": "Mr CEO", "link": "https://stackoverflow.com/users/10659964/mr-ceo"}, "edited": false, "score": 0, "creation_date": 1574331783, "post_id": 58964960, "comment_id": 104198777, "body": "@MrCEO Then that means you are using a 1D list/array... I added an example of <code>A</code> to the answer and with this format it works."}], "tags": [], "owner": {"reputation": 2646, "user_id": 9282844, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Djkuj.png?s=128&g=1", "display_name": "Guimoute", "link": "https://stackoverflow.com/users/9282844/guimoute"}, "is_accepted": true, "score": 1, "last_activity_date": 1574331876, "last_edit_date": 1574331876, "creation_date": 1574292432, "answer_id": 58964960, "question_id": 58964666, "link": "https://stackoverflow.com/questions/58964666/how-do-i-write-on2-program-of-matrix-n-x-n/58964960#58964960", "title": "How do I write O(n2) program of matrix n x n?", "body": "<p>You want to nest the two loops and change the indexes so that both x and y are parsed. Currently your code moves through (all x, y = 0) and (x = 0, all y).</p>\n\n<pre><code>A = [[0, 0, 1, 1],\n     [0, 1, 0, 0],\n     [0, 0, 1, 0],\n     [0, 0, 1, 0]]\n\ndef testLines():\n    count = 0\n    N = len(A)\n    for x in range(N): \n        for y in range(N):\n            if A[x][y] == 1:\n                if x+1 &lt; N and A[x+1][y] == 1: \n                    count += 1\n                if y+1 &lt; N and A[x][y+1] == 1: \n                    count += 1\n    print(count, '1s has been matched in the array A')\n\ntestLines() \n</code></pre>\n\n<p>Alternatively, you can go the Schwarzenegger way and not check if <code>(x+1, y)</code> or <code>(x, y+1)</code> even exist. That will raise <code>IndexError</code>s that you can choose to ignore. </p>\n\n<pre><code>def testLines():\n    count = 0\n    N = len(A)\n    for x in range(N): \n        for y in range(N):\n            try:\n                if A[x][y] == 1 and A[x+1][y] == 1 or A[x][y+1] == 1: \n                    count += 1\n            except IndexError:\n                continue\n    print(count, '1s has been matched in the array A')\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 25, "user_id": 8243604, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2J0kv.jpg?s=128&g=1", "display_name": "sayantabonny", "link": "https://stackoverflow.com/users/8243604/sayantabonny"}, "is_accepted": false, "score": 0, "last_activity_date": 1574312331, "creation_date": 1574312331, "answer_id": 58967584, "question_id": 58964666, "link": "https://stackoverflow.com/questions/58964666/how-do-i-write-on2-program-of-matrix-n-x-n/58967584#58967584", "title": "How do I write O(n2) program of matrix n x n?", "body": "<p>You can run one nested loop (n\u00b2) to get summation of rows. If summation is 2 then that row has two 1s.</p>\n\n<p>Now interchange rows and columns(consider rows as columns &amp; vice versa).</p>\n\n<p>Again run nested loop (n\u00b2) to check summation of columns.</p>\n\n<p>n\u00b2+n\u00b2= O(n\u00b2)</p>\n"}], "owner": {"reputation": 39, "user_id": 10659964, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39a64fc7169101fd30cdb40c11de6835?s=128&d=identicon&r=PG&f=1", "display_name": "Mr CEO", "link": "https://stackoverflow.com/users/10659964/mr-ceo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77, "favorite_count": 1, "accepted_answer_id": 58964960, "answer_count": 2, "score": -1, "last_activity_date": 1574331876, "creation_date": 1574290427, "last_edit_date": 1574291350, "question_id": 58964666, "link": "https://stackoverflow.com/questions/58964666/how-do-i-write-on2-program-of-matrix-n-x-n", "title": "How do I write O(n2) program of matrix n x n?", "body": "<p>I am practicing and trying to write O(n^2) program that tests whether there are two 1s lying on the same row or the same column in A.  Where A = n x n matrix of 0s and 1s.<br>\nGiven A as:  </p>\n\n<p><a href=\"https://i.stack.imgur.com/E4qWJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/E4qWJ.png\" alt=\"n x n matrix\"></a></p>\n\n<p>I should get answer return of 2 matches.<br>\nOne is on the 1st row, and another on the 3rd column.</p>\n\n<p>My 2nd Attempt:</p>\n\n<pre><code>def testLines():\n    count = 0\n    for x in range( 0, len(A)-1 ): \n        if( (A[x] == 1) &amp; (A[x+1] == 1) ): \n        count+=1\n    for y in range( 0, len(A)-1): \n        if( (A[y] == 1 &amp; A[y+1]) == 1 ): \n        count+=1\n    print( count, '1s has been matched in the array A')\n\n\ntestLines() \n</code></pre>\n"}, {"tags": ["python", "python-3.x", "google-cloud-platform", "google-cloud-functions", "shebang"], "comments": [{"owner": {"reputation": 13407, "user_id": 291180, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Crlpe.png?s=128&g=1", "display_name": "Travis Webb", "link": "https://stackoverflow.com/users/291180/travis-webb"}, "edited": false, "score": 0, "creation_date": 1574310230, "post_id": 58964660, "comment_id": 104189182, "body": "no, they don&#39;t."}, {"owner": {"reputation": 31248, "user_id": 11372593, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-FQBr5NRaPHA/AAAAAAAAAAI/AAAAAAAABb0/XuGqOq18jyg/photo.jpg?sz=128", "display_name": "guillaume blaquiere", "link": "https://stackoverflow.com/users/11372593/guillaume-blaquiere"}, "edited": false, "score": 0, "creation_date": 1574321963, "post_id": 58964660, "comment_id": 104193122, "body": "Where do you want to add it? in all Python file? or in your script file for deployment?"}], "answers": [{"tags": [], "owner": {"reputation": 1775, "user_id": 11928088, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bfd5f5ed70a37e684199988a6973e4da?s=128&d=identicon&r=PG&f=1", "display_name": "Andrei Tigau", "link": "https://stackoverflow.com/users/11928088/andrei-tigau"}, "is_accepted": false, "score": 1, "last_activity_date": 1574325100, "creation_date": 1574325100, "answer_id": 58970432, "question_id": 58964660, "link": "https://stackoverflow.com/questions/58964660/do-cloud-functions-require-a-shebang/58970432#58970432", "title": "Do cloud functions require a shebang?", "body": "<p>No, they do not require a shebang. This is one of the ideas of this product. It is a Google managed serverless environment and you should not worry about things like that. </p>\n\n<p>You can read more about Cloud Functions <a href=\"https://cloud.google.com/functions/docs/concepts/overview\" rel=\"nofollow noreferrer\">here</a>. </p>\n"}], "owner": {"reputation": 1747, "user_id": 1236326, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/19364e9fcedf07efd137d751295402d2?s=128&d=identicon&r=PG", "display_name": "ProGirlXOXO", "link": "https://stackoverflow.com/users/1236326/progirlxoxo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 78, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1574325100, "creation_date": 1574290405, "question_id": 58964660, "link": "https://stackoverflow.com/questions/58964660/do-cloud-functions-require-a-shebang", "title": "Do cloud functions require a shebang?", "body": "<p>Code language is specified during cloud function deployment:</p>\n\n<p><code>gcloud functions deploy somefunc --runtime=python37 ...</code></p>\n\n<p>Is a shebang still required in all related files?</p>\n\n<p>Eg. <code>#!/usr/bin/python</code></p>\n\n<p>How might a cloud function fail without the inclusion of this line?</p>\n"}, {"tags": ["python", "django", "iframe", "payment-gateway"], "comments": [{"owner": {"reputation": 17762, "user_id": 548562, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26587173d9156d8ec3114c8700d1b693?s=128&d=identicon&r=PG", "display_name": "Iain Shelvington", "link": "https://stackoverflow.com/users/548562/iain-shelvington"}, "edited": false, "score": 0, "creation_date": 1574290776, "post_id": 58964591, "comment_id": 104184423, "body": "The payment gateway provider surely has given a parameter that  an be passed to redirect the user too after successful validation?"}, {"owner": {"reputation": 39, "user_id": 9836374, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83e14409a2ff84083788094240b554c7?s=128&d=identicon&r=PG&f=1", "display_name": "nicat9507", "link": "https://stackoverflow.com/users/9836374/nicat9507"}, "reply_to_user": {"reputation": 17762, "user_id": 548562, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26587173d9156d8ec3114c8700d1b693?s=128&d=identicon&r=PG", "display_name": "Iain Shelvington", "link": "https://stackoverflow.com/users/548562/iain-shelvington"}, "edited": false, "score": 0, "creation_date": 1574291055, "post_id": 58964591, "comment_id": 104184560, "body": "Yes, that is provided. But my question is not that. I prefer to include card information page as iframe and want to know possible security problems of doing that."}, {"owner": {"reputation": 17762, "user_id": 548562, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26587173d9156d8ec3114c8700d1b693?s=128&d=identicon&r=PG", "display_name": "Iain Shelvington", "link": "https://stackoverflow.com/users/548562/iain-shelvington"}, "edited": false, "score": 0, "creation_date": 1574291315, "post_id": 58964591, "comment_id": 104184664, "body": "The user being redirected to a payment gateway provider with their URL and then redirected back to your app is far more reputable looking than having an iframe appear with the average user having no way of knowing that it&#39;s genuine"}, {"owner": {"reputation": 39, "user_id": 9836374, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83e14409a2ff84083788094240b554c7?s=128&d=identicon&r=PG&f=1", "display_name": "nicat9507", "link": "https://stackoverflow.com/users/9836374/nicat9507"}, "reply_to_user": {"reputation": 17762, "user_id": 548562, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26587173d9156d8ec3114c8700d1b693?s=128&d=identicon&r=PG", "display_name": "Iain Shelvington", "link": "https://stackoverflow.com/users/548562/iain-shelvington"}, "edited": false, "score": 0, "creation_date": 1574291508, "post_id": 58964591, "comment_id": 104184737, "body": "@IainShelvington thank you for recommendation. But again, I am asking what would you do for security in second case besides adding iframe to template?"}, {"owner": {"reputation": 17762, "user_id": 548562, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26587173d9156d8ec3114c8700d1b693?s=128&d=identicon&r=PG", "display_name": "Iain Shelvington", "link": "https://stackoverflow.com/users/548562/iain-shelvington"}, "edited": false, "score": 0, "creation_date": 1574291609, "post_id": 58964591, "comment_id": 104184767, "body": "I wouldn&#39;t give it a seconds thought as the following statement is just not true &quot;From design and end user&#39;s aspects, it is obviously better to include content as iframe&quot;. Best of luck programming"}], "owner": {"reputation": 39, "user_id": 9836374, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83e14409a2ff84083788094240b554c7?s=128&d=identicon&r=PG&f=1", "display_name": "nicat9507", "link": "https://stackoverflow.com/users/9836374/nicat9507"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 31, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1574319305, "creation_date": 1574290004, "last_edit_date": 1574319305, "question_id": 58964591, "link": "https://stackoverflow.com/questions/58964591/django-template-iframe-card-information", "title": "Django template iframe card information", "body": "<p>I have a payment gateway that returns redirect url for getting card information when supplied with right authentication credentials. Now I am comparing two possibilities for displaying this url to users:</p>\n\n<ul>\n<li>Redirecting user to given url</li>\n<li>Loading content of redirect url in django template as <code>iframe</code></li>\n</ul>\n\n<p>From design and end user's aspects, it is obviously better to include content as iframe. However, I suppose that there is security concerns in this option. Is it secure to load such content as iframe in <code>django template</code>? Which measures should be taken to avoid possible security problems?</p>\n\n<p><strong>Note:</strong> Payment processor didn't provide any clause about iframe in its documentation.</p>\n"}, {"tags": ["python", "pandas", "python-datetime"], "answers": [{"tags": [], "owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "is_accepted": true, "score": 1, "last_activity_date": 1574290612, "creation_date": 1574290612, "answer_id": 58964693, "question_id": 58964561, "link": "https://stackoverflow.com/questions/58964561/need-to-convert-epoch-time-to-est-using-pandas/58964693#58964693", "title": "Need to convert epoch time to EST using pandas", "body": "<p>You should adding <code>dt</code> , since your input is <code>series</code> not <code>index</code> </p>\n\n<pre><code>pd.to_datetime(df.timestamp,unit='s').dt.tz_localize('utc').dt.tz_convert('US/Eastern')\nOut[8]: \n0   2019-11-20 17:15:41-05:00\n1   2019-11-20 17:17:21-05:00\n2   2019-11-20 17:19:01-05:00\n3   2019-11-20 17:20:41-05:00\nName: timestamp, dtype: datetime64[ns, US/Eastern]\n</code></pre>\n"}], "owner": {"reputation": 55, "user_id": 10060152, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0f36e7fe10c302abe19701fa58eb9709?s=128&d=identicon&r=PG&f=1", "display_name": "Newbie_Python", "link": "https://stackoverflow.com/users/10060152/newbie-python"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 403, "favorite_count": 0, "accepted_answer_id": 58964693, "answer_count": 1, "score": 0, "last_activity_date": 1574297779, "creation_date": 1574289865, "last_edit_date": 1574297779, "question_id": 58964561, "link": "https://stackoverflow.com/questions/58964561/need-to-convert-epoch-time-to-est-using-pandas", "title": "Need to convert epoch time to EST using pandas", "body": "<p>I do have a dataframe like this  -> df</p>\n\n<pre><code>     timestamp      values\n\n0    1574288141       34  \n1    1574288241       23\n2    1574288341       22\n3    1574288441       10\n</code></pre>\n\n<p>Here timestamp has the epoch time. I want to convert this into a <strong>datetime</strong> in the format <code>2019-11-20 04:03:01</code>. I would like to convert this into a <strong>EST date</strong>.\nWhen I do </p>\n\n<pre><code>pd.to_datetime(df['timestamp'], unit='s')\n</code></pre>\n\n<p>I get the conversion and the required format but the time doesn't seem to be in <strong>EST</strong>. It is 4 hours ahead of <strong>EST</strong>. \nI have tried to convert utc to Eastern using the code</p>\n\n<p><code>pd.to_datetime(df['timestamp'], unit='s').tz_localize('utc').dt.tz_convert('US/Eastern')</code></p>\n\n<p>But I am getting an error</p>\n\n<pre><code>TypeError: index is not a valid DatetimeIndex or PeriodIndex\n</code></pre>\n"}, {"tags": ["python", "django", "forms", "field"], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 7037605, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46392280bd5ea4e8fd0e147b1c9a9e1c?s=128&d=identicon&r=PG&f=1", "display_name": "Emma Birath", "link": "https://stackoverflow.com/users/7037605/emma-birath"}, "edited": false, "score": 0, "creation_date": 1574290790, "post_id": 58964699, "comment_id": 104184428, "body": "Oh wow. THANK YOU. I wish I hadn&#39;t spent so much time on this before asking the universe :-) Thank you a million."}], "tags": [], "owner": {"reputation": 17762, "user_id": 548562, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26587173d9156d8ec3114c8700d1b693?s=128&d=identicon&r=PG", "display_name": "Iain Shelvington", "link": "https://stackoverflow.com/users/548562/iain-shelvington"}, "is_accepted": true, "score": 2, "last_activity_date": 1574290627, "creation_date": 1574290627, "answer_id": 58964699, "question_id": 58964539, "link": "https://stackoverflow.com/questions/58964539/display-django-field-properties-such-as-min-value-and-max-value-in-the-templat/58964699#58964699", "title": "Display Django Field properties, such as min_value and max_value, in the Template", "body": "<p>When you access <code>form.field</code> you are not actually getting the field you defined on the form, you are getting a <a href=\"https://docs.djangoproject.com/en/2.2/_modules/django/forms/boundfield/\" rel=\"nofollow noreferrer\"><code>BoundField</code></a>. You can access the field you defined by access the <code>field</code> attribute of the bound field</p>\n\n<pre><code>{{ form.somenumber.field.min_value }}\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 7037605, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46392280bd5ea4e8fd0e147b1c9a9e1c?s=128&d=identicon&r=PG&f=1", "display_name": "Emma Birath", "link": "https://stackoverflow.com/users/7037605/emma-birath"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 177, "favorite_count": 0, "accepted_answer_id": 58964699, "answer_count": 1, "score": 0, "last_activity_date": 1574290627, "creation_date": 1574289765, "question_id": 58964539, "link": "https://stackoverflow.com/questions/58964539/display-django-field-properties-such-as-min-value-and-max-value-in-the-templat", "title": "Display Django Field properties, such as min_value and max_value, in the Template", "body": "<p>I have a Django Form with an IntegerField. I give the IntegerField a min_value and a max_value. I would like to DISPLAY that min_value and max_value for the user, so I'm trying to include it in the template next to the input field itself. Seems like this should not be so hard, but it isn't working. :-( </p>\n\n<p>Below, the \"print\" statement in views.py works just fine. So I know that one can access the min_value from the field with just \".min_value\". But the min_value in the template does not show up in the browser.</p>\n\n<p>Thoughts anyone??</p>\n\n<p>In forms.py</p>\n\n<pre><code>class MyForm(forms.Form):\n    somenumber = forms.IntegerField(min_value=0, max_value=12)\n</code></pre>\n\n<p>In views.py:</p>\n\n<pre><code>form = forms.MyForm()\nprint(form.fields['somenumber'].min_value)\n...\ncontext = {'form':form}\n...\n</code></pre>\n\n<p>In template:</p>\n\n<pre><code>{{ form.somenumber.min_value }}\n</code></pre>\n"}, {"tags": ["python", "string"], "comments": [{"owner": {"reputation": 2479, "user_id": 11301900, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8826c4b7675bd83127fddefc109b7f5d?s=128&d=identicon&r=PG&f=1", "display_name": "AMC", "link": "https://stackoverflow.com/users/11301900/amc"}, "edited": false, "score": 1, "creation_date": 1574289745, "post_id": 58964513, "comment_id": 104184055, "body": "What data type/format is this? Can you include some more context?"}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 12399800, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bbbc52f93198b01ba38b485179538a9b?s=128&d=identicon&r=PG&f=1", "display_name": "Scooby", "link": "https://stackoverflow.com/users/12399800/scooby"}, "edited": false, "score": 0, "creation_date": 1574294516, "post_id": 58964630, "comment_id": 104185486, "body": "I am trying to use your code in a lambda function. I have a pandas dataframe with all of those strings &quot;s&quot;. And I tried this: column_of_interest[&#39;GEOID&#39;] = column_of_interest.apply(lambda x: re.search(&quot;state:(\\d+)&gt;\\scounty:(\\d+)&gt;\\stract:(\\d+)&quot;, x[&#39;Location+Type&#39;]))"}, {"owner": {"reputation": 3, "user_id": 12399800, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bbbc52f93198b01ba38b485179538a9b?s=128&d=identicon&r=PG&f=1", "display_name": "Scooby", "link": "https://stackoverflow.com/users/12399800/scooby"}, "edited": false, "score": 0, "creation_date": 1574294537, "post_id": 58964630, "comment_id": 104185490, "body": "But I am getting this error: TypeError: string indices must be integers"}], "tags": [], "owner": {"reputation": 1000, "user_id": 9332988, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BRbxE.jpg?s=128&g=1", "display_name": "Surya Tej", "link": "https://stackoverflow.com/users/9332988/surya-tej"}, "is_accepted": false, "score": 0, "last_activity_date": 1574290234, "creation_date": 1574290234, "answer_id": 58964630, "question_id": 58964513, "link": "https://stackoverflow.com/questions/58964513/splitting-and-appending-a-string-in-python/58964630#58964630", "title": "Splitting and appending a string in python", "body": "<p>Assuming your text follows the pattern you have given\nyou can use regular expressions to get the result.</p>\n\n<p>Here <code>\\d</code> corresponds to extracting a number\n     <code>\\s</code> is a blank space</p>\n\n<pre><code>s = 'Census Tract 201, Autauga County, Alabama: Summary level: 140, state:01&gt; county:001&gt; tract:020100'\nimport re\nm=re.search(\"state:(\\d+)&gt;\\scounty:(\\d+)&gt;\\stract:(\\d+)\",s)\n''.join(m.groups())\n</code></pre>\n\n<p>Output</p>\n\n<pre><code>'01001020100'\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3, "user_id": 12399800, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bbbc52f93198b01ba38b485179538a9b?s=128&d=identicon&r=PG&f=1", "display_name": "Scooby", "link": "https://stackoverflow.com/users/12399800/scooby"}, "edited": false, "score": 0, "creation_date": 1574295260, "post_id": 58964956, "comment_id": 104185670, "body": "do you know how to put your code into a lambda expression. I tried but my code states that  TypeError: string indices must be integers"}, {"owner": {"reputation": 1068, "user_id": 7211815, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6qt3B.png?s=128&g=1", "display_name": "codrelphi", "link": "https://stackoverflow.com/users/7211815/codrelphi"}, "reply_to_user": {"reputation": 3, "user_id": 12399800, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bbbc52f93198b01ba38b485179538a9b?s=128&d=identicon&r=PG&f=1", "display_name": "Scooby", "link": "https://stackoverflow.com/users/12399800/scooby"}, "edited": false, "score": 0, "creation_date": 1574297660, "post_id": 58964956, "comment_id": 104186241, "body": "Update: I add the <i>lambda expression</i> synthax in the code."}, {"owner": {"reputation": 3, "user_id": 12399800, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bbbc52f93198b01ba38b485179538a9b?s=128&d=identicon&r=PG&f=1", "display_name": "Scooby", "link": "https://stackoverflow.com/users/12399800/scooby"}, "edited": false, "score": 0, "creation_date": 1574298673, "post_id": 58964956, "comment_id": 104186477, "body": "Sorry I am a newb but I am trying to do what you did on an entire dataframe like this:find_census = lambda text: text.split(&#39;state:&#39;)[1].split(&#39;&gt;&#39;)[0] + text.split(&#39;county:&#39;)[1].split(&#39;&gt;&#39;)[0] + text.split(&#39;tract:&#39;)[1].split(&#39;&gt;&#39;)[0] column_of_interest[&#39;GEOID&#39;] = column_of_interest.apply(lambda x: find_census(x[&#39;Location+Type&#39;]))"}, {"owner": {"reputation": 3, "user_id": 12399800, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bbbc52f93198b01ba38b485179538a9b?s=128&d=identicon&r=PG&f=1", "display_name": "Scooby", "link": "https://stackoverflow.com/users/12399800/scooby"}, "edited": false, "score": 0, "creation_date": 1574298693, "post_id": 58964956, "comment_id": 104186482, "body": "and I am getting this still:  TypeError: string indices must be integers"}, {"owner": {"reputation": 1068, "user_id": 7211815, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6qt3B.png?s=128&g=1", "display_name": "codrelphi", "link": "https://stackoverflow.com/users/7211815/codrelphi"}, "reply_to_user": {"reputation": 3, "user_id": 12399800, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bbbc52f93198b01ba38b485179538a9b?s=128&d=identicon&r=PG&f=1", "display_name": "Scooby", "link": "https://stackoverflow.com/users/12399800/scooby"}, "edited": false, "score": 0, "creation_date": 1574306390, "post_id": 58964956, "comment_id": 104188273, "body": "You can update your code with more details about the variables and the code you are working on.."}], "tags": [], "owner": {"reputation": 1068, "user_id": 7211815, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6qt3B.png?s=128&g=1", "display_name": "codrelphi", "link": "https://stackoverflow.com/users/7211815/codrelphi"}, "is_accepted": true, "score": 1, "last_activity_date": 1574297619, "last_edit_date": 1574297619, "creation_date": 1574292392, "answer_id": 58964956, "question_id": 58964513, "link": "https://stackoverflow.com/questions/58964513/splitting-and-appending-a-string-in-python/58964956#58964956", "title": "Splitting and appending a string in python", "body": "<p>To achieve your goal, you can use a regular expression syntax. But, It seems you are a beginner, so I come here with a basic logic based on <code>split</code> method. Here is the code:</p>\n\n<pre><code>census = 'Census Tract 201, Autauga County, Alabama: Summary level: 140, state:01&gt; county:001&gt; tract:020100'\n\nstate = census.split('state:')[1].split('&gt;')[0]\ncounty = census.split('county:')[1].split('&gt;')[0]\ntract = census.split('tract:')[1].split('&gt;')[0]\nresult = state + county + tract\n\nprint(result) # 01001020100\n</code></pre>\n\n<blockquote>\n  <p><strong>Update:</strong> using <em>lambda expression</em> to generate the desired outputs</p>\n</blockquote>\n\n<pre><code>find_census = lambda text: text.split('state:')[1].split('&gt;')[0] + text.split('county:')[1].split('&gt;')[0] + text.split('tract:')[1].split('&gt;')[0]\n\n# to use the above lambda expression\nprint(find_census(census)) # 01001020100\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 12399800, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bbbc52f93198b01ba38b485179538a9b?s=128&d=identicon&r=PG&f=1", "display_name": "Scooby", "link": "https://stackoverflow.com/users/12399800/scooby"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "accepted_answer_id": 58964956, "answer_count": 2, "score": -1, "last_activity_date": 1574355756, "creation_date": 1574289603, "last_edit_date": 1574355756, "question_id": 58964513, "link": "https://stackoverflow.com/questions/58964513/splitting-and-appending-a-string-in-python", "title": "Splitting and appending a string in python", "body": "<p>I have these strings that look like this:</p>\n\n<pre><code>'Census Tract 201, Autauga County, Alabama: Summary level: 140, state:01&gt; county:001&gt; tract:020100'\n</code></pre>\n\n<p>I want to take the state number 01 the county number 001 and the tract 020100 and make a new string 01001020100. How do I achieve this in Python?</p>\n\n<p>All of these strings are in a pandas dataframe so I need to apply this method across all of the rows. There are all of type string as of I said above.</p>\n\n<p>To provide more context here is all my code:</p>\n\n<pre><code>import pandas as pd\nimport numpy as np\nimport re\n\ndf = pd.read_csv('all_data.csv')\n\ndf = pd.read_csv('all_data.csv')\n\ncolumn_of_interest = df['Location+Type']\n\ncolumn_of_interest.head()\n\nprint(type(column_of_interest[0][0]))\n\n&lt;class 'str'&gt;\n\nfind_census = lambda text: text.split('state:')[1].split('&gt;')[0] + text.split('county:')[1].split('&gt;')[0] + text.split('tract:')[1].split('&gt;')[0]\ncolumn_of_interest['GEOID'] = column_of_interest.apply(lambda x: find_census(x['Location+Type']))\n</code></pre>\n\n<p>and I am getting this error for the lambda:</p>\n\n<pre><code>     1 find_census = lambda text: text.split('state:')[1].split('&gt;')[0] + text.split('county:')[1].split('&gt;')[0] + text.split('tract:')[1].split('&gt;')[0]\n----&gt; 2 column_of_interest['GEOID'] = column_of_interest.apply(lambda x: find_census(x['Location+Type']))\n\nTypeError: string indices must be integers\n</code></pre>\n"}, {"tags": ["python", "beautifulsoup"], "comments": [{"owner": {"reputation": 2479, "user_id": 11301900, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8826c4b7675bd83127fddefc109b7f5d?s=128&d=identicon&r=PG&f=1", "display_name": "AMC", "link": "https://stackoverflow.com/users/11301900/amc"}, "edited": false, "score": 0, "creation_date": 1574289889, "post_id": 58964487, "comment_id": 104184104, "body": "You might be better off using <a href=\"https://selenium.dev\" rel=\"nofollow noreferrer\">Selenium</a>, if you have to deal with JavaScript. Can you include more of your code? What did you do to click that button?"}, {"owner": {"reputation": 17, "user_id": 12362298, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7766ee59ee4dc25a81088570314b65a8?s=128&d=identicon&r=PG&f=1", "display_name": "kikucik89", "link": "https://stackoverflow.com/users/12362298/kikucik89"}, "reply_to_user": {"reputation": 2479, "user_id": 11301900, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8826c4b7675bd83127fddefc109b7f5d?s=128&d=identicon&r=PG&f=1", "display_name": "AMC", "link": "https://stackoverflow.com/users/11301900/amc"}, "edited": false, "score": 0, "creation_date": 1574290058, "post_id": 58964487, "comment_id": 104184165, "body": "I do not need to click anything. I need to scrap data from website. I need to switch between pages."}, {"owner": {"reputation": 2479, "user_id": 11301900, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8826c4b7675bd83127fddefc109b7f5d?s=128&d=identicon&r=PG&f=1", "display_name": "AMC", "link": "https://stackoverflow.com/users/11301900/amc"}, "edited": false, "score": 0, "creation_date": 1574290452, "post_id": 58964487, "comment_id": 104184305, "body": "What do you mean by <i>After switching the page nothing changes</i>? Could you expand on your question as a whole?"}, {"owner": {"reputation": 17, "user_id": 12362298, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7766ee59ee4dc25a81088570314b65a8?s=128&d=identicon&r=PG&f=1", "display_name": "kikucik89", "link": "https://stackoverflow.com/users/12362298/kikucik89"}, "reply_to_user": {"reputation": 2479, "user_id": 11301900, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8826c4b7675bd83127fddefc109b7f5d?s=128&d=identicon&r=PG&f=1", "display_name": "AMC", "link": "https://stackoverflow.com/users/11301900/amc"}, "edited": false, "score": 0, "creation_date": 1574290834, "post_id": 58964487, "comment_id": 104184451, "body": "Usualy when u go to the next page the navigation link changes - page number or something similar appears in html link so u know on which page you are currently. In my case nothing changes and I have no idea how to make beautifulsoup to scrap next pages."}, {"owner": {"reputation": 2479, "user_id": 11301900, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8826c4b7675bd83127fddefc109b7f5d?s=128&d=identicon&r=PG&f=1", "display_name": "AMC", "link": "https://stackoverflow.com/users/11301900/amc"}, "edited": false, "score": 0, "creation_date": 1574291196, "post_id": 58964487, "comment_id": 104184618, "body": "Ah, it\u2019s probably using JavaScript then. Sometimes changing pages/loading more items/etc. involves an API call to get the content, maybe that\u2019s the case here? It really depends on the website though, can you share more of the HTML source, or an example web page?"}, {"owner": {"reputation": 17, "user_id": 12362298, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7766ee59ee4dc25a81088570314b65a8?s=128&d=identicon&r=PG&f=1", "display_name": "kikucik89", "link": "https://stackoverflow.com/users/12362298/kikucik89"}, "reply_to_user": {"reputation": 2479, "user_id": 11301900, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8826c4b7675bd83127fddefc109b7f5d?s=128&d=identicon&r=PG&f=1", "display_name": "AMC", "link": "https://stackoverflow.com/users/11301900/amc"}, "edited": false, "score": 0, "creation_date": 1574291597, "post_id": 58964487, "comment_id": 104184764, "body": "@AlexanderC&#233;cile just checked the website in dev tools and it&#39;s api indeed. Here is the link: <a href=\"https://booksy.com/pl-pl/17101_barber-shop-brooklyn_barber-shop_13750_wroclaw\" rel=\"nofollow noreferrer\">booksy.com/pl-pl/&hellip;</a>"}, {"owner": {"reputation": 2479, "user_id": 11301900, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8826c4b7675bd83127fddefc109b7f5d?s=128&d=identicon&r=PG&f=1", "display_name": "AMC", "link": "https://stackoverflow.com/users/11301900/amc"}, "edited": false, "score": 0, "creation_date": 1574292346, "post_id": 58964487, "comment_id": 104184997, "body": "Great! Have you taken a look at the call itself using the networking inspector thingy (I forget what\u2019s it called)?"}, {"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 1, "creation_date": 1574293394, "post_id": 58964487, "comment_id": 104185257, "body": "this page use JavaScript/XHR to get data for next page - it uses url like <a href=\"https://booksy.com/api/pl/2/customer_api/businesses/17101/reviews?reviews_page=2&amp;reviews_per_page=5\" rel=\"nofollow noreferrer\">booksy.com/api/pl/2/customer_api/businesses/17101/&hellip;</a> and there is <code>reviews_page=2</code> which you can change to get next pages. And this url get data as JSON file which you can easily convert to Python&#39;s dictionary, and get data from dictionary instead of scraping from HTML."}, {"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 1, "creation_date": 1574293535, "post_id": 58964487, "comment_id": 104185290, "body": "BTW: this page uses JavaScript to put some elements on page but beautifulsoup can&#39;t run JavaScript."}, {"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 1, "creation_date": 1574294664, "post_id": 58964487, "comment_id": 104185516, "body": "next time put URL in question - it is very useful information. (PL: nast\u0119pnym razem umie\u015b\u0107 URL w pytaniu - to jest bardzo u\u017cyteczna informacja)"}], "answers": [{"comments": [{"owner": {"reputation": 17, "user_id": 12362298, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7766ee59ee4dc25a81088570314b65a8?s=128&d=identicon&r=PG&f=1", "display_name": "kikucik89", "link": "https://stackoverflow.com/users/12362298/kikucik89"}, "edited": false, "score": 0, "creation_date": 1574320730, "post_id": 58965216, "comment_id": 104192548, "body": "Thank you, it;s awesome:)"}], "tags": [], "owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "is_accepted": true, "score": 1, "last_activity_date": 1574294507, "last_edit_date": 1574294507, "creation_date": 1574294351, "answer_id": 58965216, "question_id": 58964487, "link": "https://stackoverflow.com/questions/58964487/beautifulsoup-scraping-other-pages-if-there-is-no-change-in-link-or-href-avail/58965216#58965216", "title": "BeautifulSoup - scraping other pages if there is no change in link or href available", "body": "<p>When you change page then it uses <code>JavaScript/XHR/AJAX</code> to get data as JSON from url</p>\n\n<p><a href=\"https://booksy.com/api/pl/2/customer_api/businesses/17101/reviews?reviews_page=2&amp;reviews_per_page=5\" rel=\"nofollow noreferrer\">https://booksy.com/api/pl/2/customer_api/businesses/17101/reviews?reviews_page=2&amp;reviews_per_page=5</a></p>\n\n<p>It also uses header <code>'X-Api-Key'</code> to send API key.</p>\n\n<p>You can change <code>reviews_page=2</code> to get data for othere pages. You can even get data for first page.</p>\n\n<p>You can easily convert JSON to Python's dictionary and you will not have to scrape from HTML</p>\n\n<hr>\n\n<pre><code>import requests\n\nheaders = {\n    'X-Api-Key': 'web-e3d812bf-d7a2-445d-ab38-55589ae6a121'\n}\n\nurl = 'https://booksy.com/api/pl/2/customer_api/businesses/17101/reviews?reviews_page={}&amp;reviews_per_page=5'\n\nfor x in range(1, 6):\n    print('--- page:', x, '---')\n\n    r = requests.get(url.format(x), headers=headers)\n    data = r.json()\n\n    for item in data['reviews']:\n        print(item['user']['first_name'])\n        print('&gt;', item['review'])\n        print('---')\n</code></pre>\n"}], "owner": {"reputation": 17, "user_id": 12362298, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7766ee59ee4dc25a81088570314b65a8?s=128&d=identicon&r=PG&f=1", "display_name": "kikucik89", "link": "https://stackoverflow.com/users/12362298/kikucik89"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "accepted_answer_id": 58965216, "answer_count": 1, "score": 0, "last_activity_date": 1574294507, "creation_date": 1574289473, "question_id": 58964487, "link": "https://stackoverflow.com/questions/58964487/beautifulsoup-scraping-other-pages-if-there-is-no-change-in-link-or-href-avail", "title": "BeautifulSoup - scraping other pages if there is no change in link or href available", "body": "<p>I was wondering if there is any way to scrap website with pagination. After switching the page nothing changes. The link remains the same, \"A\" tag has no href with new link etc. This is how selector looks like: \"a href=\"\" ng-click=\"selectPage(page.number, $event)\" class=\"ng-binding\">2\n\n<p>Appreciate for any hints.</p>\n"}, {"tags": ["python", "class", "machine-learning", "neural-network", "sgd"], "comments": [{"owner": {"reputation": 1, "user_id": 12322446, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-sUgrBtsrLJQ/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfYshnRKeOz_GThcWFRurB3e425cg/photo.jpg?sz=128", "display_name": "Romulo Junior", "link": "https://stackoverflow.com/users/12322446/romulo-junior"}, "edited": false, "score": 0, "creation_date": 1574289522, "post_id": 58964480, "comment_id": 104183980, "body": "I am still training my english, so sorry if it&#39;s not so good"}, {"owner": {"reputation": 1, "user_id": 12322446, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-sUgrBtsrLJQ/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfYshnRKeOz_GThcWFRurB3e425cg/photo.jpg?sz=128", "display_name": "Romulo Junior", "link": "https://stackoverflow.com/users/12322446/romulo-junior"}, "edited": false, "score": 0, "creation_date": 1574291743, "post_id": 58964480, "comment_id": 104184810, "body": "Maybe i could use one vs. all method like in logistic regression?"}, {"owner": {"reputation": 1, "user_id": 12322446, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-sUgrBtsrLJQ/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfYshnRKeOz_GThcWFRurB3e425cg/photo.jpg?sz=128", "display_name": "Romulo Junior", "link": "https://stackoverflow.com/users/12322446/romulo-junior"}, "edited": false, "score": 0, "creation_date": 1574345463, "post_id": 58964480, "comment_id": 104206820, "body": "Hello everybody, first thank you all for all the answers, it really helped me. But i found a way, if anybody is going through this issue. As it works sometimes initializing random weigths, once it work you can use the same network to similar problems, you just need to re-train the working ANN and it will work. As i need to classify 15 situations as in the images, i just trained one that worked to the others."}], "owner": {"reputation": 1, "user_id": 12322446, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-sUgrBtsrLJQ/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfYshnRKeOz_GThcWFRurB3e425cg/photo.jpg?sz=128", "display_name": "Romulo Junior", "link": "https://stackoverflow.com/users/12322446/romulo-junior"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 28, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1574289443, "creation_date": 1574289443, "question_id": 58964480, "link": "https://stackoverflow.com/questions/58964480/my-ann-is-ignoring-a-class-sometimes-possible-solutions", "title": "My ANN is ignoring a class sometimes, possible solutions", "body": "<p>My ANN has two inputs and 16 outputs, sometimes it ignore some classes, even though my dataset has almost the same number of examples by class, as you can see in this image:<a href=\"https://i.stack.imgur.com/RqJqM.png\" rel=\"nofollow noreferrer\">the points in the 3rd row 4th column is simply ignored, it's very common even if i alter the number of hidden layers, hidden nodes or training examples.</a></p>\n\n<p>I trained the network a lot of times, and randomly it worked, as in this image:<a href=\"https://i.stack.imgur.com/3jPS1.png\" rel=\"nofollow noreferrer\">you can see here that each one of the 16 classes is being successfully classified.</a></p>\n\n<p>In both cases i am using one hidden layer with 32 hidden nodes, 10000 training examples, using stochastig gradient descent and k-fold validation. I couldn't implement regularization, but this problem doesn't look as overfitting.</p>\n\n<p>I just want to know if there is a way to force the neural network to use everyclass to classify, or if there is a problem with my network. I tried googling it but didn't find anything like it. Thanks, if any additional information is needed just ask it.</p>\n"}, {"tags": ["python", "python-3.x", "python-dataclasses"], "comments": [{"owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "edited": false, "score": 0, "creation_date": 1574290433, "post_id": 58964456, "comment_id": 104184295, "body": "Why not just use a property?"}, {"owner": {"reputation": 317, "user_id": 7454877, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cbf892ee017a3db8d81cb2af2fc37c1a?s=128&d=identicon&r=PG&f=1", "display_name": "UGuntupalli", "link": "https://stackoverflow.com/users/7454877/uguntupalli"}, "reply_to_user": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "edited": false, "score": 0, "creation_date": 1574290485, "post_id": 58964456, "comment_id": 104184315, "body": "@wim, Can you please provide a working example ?"}, {"owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "edited": false, "score": 1, "creation_date": 1574290519, "post_id": 58964456, "comment_id": 104184328, "body": "Not until I understand what the question actually is.  So, why not just use a property?  Note that at the time of class definition, you don&#39;t have <i>any</i> instances (the type doesn&#39;t exist yet) - so what were you expecting the <code>test_method()</code> to actually do?"}, {"owner": {"reputation": 317, "user_id": 7454877, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cbf892ee017a3db8d81cb2af2fc37c1a?s=128&d=identicon&r=PG&f=1", "display_name": "UGuntupalli", "link": "https://stackoverflow.com/users/7454877/uguntupalli"}, "reply_to_user": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "edited": false, "score": 0, "creation_date": 1574290601, "post_id": 58964456, "comment_id": 104184359, "body": "What part of the question do you not understand? Please provide helpful feedback  if you plan on helping"}, {"owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "edited": false, "score": 0, "creation_date": 1574290667, "post_id": 58964456, "comment_id": 104184388, "body": "This is the part that I do not understand: you say that <code>c: float = test_method()</code> fails, but what are you even trying to do there?  This method does not return anything, so even if it <i>didn&#39;t</i> fail, what would you expect it to actually do? Set the default value of <code>c</code> to <code>None</code>?"}, {"owner": {"reputation": 317, "user_id": 7454877, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cbf892ee017a3db8d81cb2af2fc37c1a?s=128&d=identicon&r=PG&f=1", "display_name": "UGuntupalli", "link": "https://stackoverflow.com/users/7454877/uguntupalli"}, "reply_to_user": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "edited": false, "score": 0, "creation_date": 1574290929, "post_id": 58964456, "comment_id": 104184501, "body": "@wim,        &#39;c&#39; is an example. The intent I am trying to convey is if I need to use an attribute that I have assigned and use it in a class method, how can I achieve that. For e.g.:  Let us replace the class definition with something more meaningful(updating in original post due to limit)"}, {"owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "edited": false, "score": 2, "creation_date": 1574291432, "post_id": 58964456, "comment_id": 104184711, "body": "A dataclass with a connection to a database as a field?  I don&#39;t think that&#39;s a great idea.  Dataclasses are supposed to be simple bags of data, not handling complicated stuff like db connections, which usually need transaction management, context, rollback etc."}, {"owner": {"reputation": 21440, "user_id": 225020, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/6ae07ec5b34fce5a6c5437fbdab9f079?s=128&d=identicon&r=PG", "display_name": "Jab", "link": "https://stackoverflow.com/users/225020/jab"}, "edited": false, "score": 0, "creation_date": 1574291627, "post_id": 58964456, "comment_id": 104184776, "body": "Your question description no longer describes the nature of the code represented. Using dataclass to represent data returned from a db query is one thing but handling db connections is another that\u2019s what clients are for"}, {"owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "edited": false, "score": 0, "creation_date": 1574291762, "post_id": 58964456, "comment_id": 104184817, "body": "And using a &quot;class to represent data returned from a db query&quot; is a well-traveled domain already, it&#39;s usually called a &quot;model&quot; (google for &quot;ORM&quot;)"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1574293213, "post_id": 58964456, "comment_id": 104185210, "body": "Python never allows for overloading, so no. post_init is one way to do this, but as stated above, it sounds like you probably shouldn&#39;t use a data class here, if you attributes are going to requrie all this, OR pass your attributes fully initialized to the constructor. Then it is a true data class, basically a class used mostly as a container of fields."}], "owner": {"reputation": 317, "user_id": 7454877, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cbf892ee017a3db8d81cb2af2fc37c1a?s=128&d=identicon&r=PG&f=1", "display_name": "UGuntupalli", "link": "https://stackoverflow.com/users/7454877/uguntupalli"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 57, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1574291132, "creation_date": 1574289308, "last_edit_date": 1574291132, "question_id": 58964456, "link": "https://stackoverflow.com/questions/58964456/how-to-call-a-class-public-method-while-initializing-an-attribute-in-dataclass-i", "title": "How to call a class public method while initializing an attribute in dataclass in Python?", "body": "<p>I just learned about data classes in Python and I am super stoked to try and use them. In the process, I am trying out an example where, I would like to call a class method to initialize one of the class attributes. Here is an example of what I am trying: </p>\n\n<pre class=\"lang-py prettyprint-override\"><code>@dataclass(init=True, repr=True, eq=True, order=False, unsafe_hash=False, frozen=False)\nclass Test:\n    def connect_to_database(self):\n        string = f\"DRIVER={{SQL Server}};SERVER={self.server};\" \\\n                                   f\"DATABASE={self.database};Trusted_Connection=yes;\"\n\n        return pyodbc.connect(string)\n\n    server: str = field(repr=True, default='my_server')\n    database: str = field(repr=True, default='my_database')\n    conn: str = connect_to_database() # This fails - cannot reference self in dataclass ?\n</code></pre>\n\n<p>As I read around, one of the options I found recommends using the post_init(), seems like a good suggestion, however I would like to know if that is the option, does that allow overloading? I have a different use case in mind for post_init(). Any advice is greatly appreciated  </p>\n"}, {"tags": ["python", "list", "keyword", "empty-list"], "comments": [{"owner": {"reputation": 17762, "user_id": 548562, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26587173d9156d8ec3114c8700d1b693?s=128&d=identicon&r=PG", "display_name": "Iain Shelvington", "link": "https://stackoverflow.com/users/548562/iain-shelvington"}, "edited": false, "score": 7, "creation_date": 1574289283, "post_id": 58964434, "comment_id": 104183892, "body": "No, there is never a case where <code>in</code> will return True where the right hand of the operator is an empty list. I don&#39;t mean to be rude but the clue is in the name, an empty list has nothing &quot;in&quot; it"}, {"owner": {"reputation": 5192, "user_id": 2318649, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rW1HG.jpg?s=128&g=1", "display_name": "barny", "link": "https://stackoverflow.com/users/2318649/barny"}, "edited": false, "score": 0, "creation_date": 1574289551, "post_id": 58964434, "comment_id": 104183989, "body": "Seems a pretty straightforward thing that you can simply try, and you must have some scenario in mind: So why don\u2019t you just try it?"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 5192, "user_id": 2318649, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rW1HG.jpg?s=128&g=1", "display_name": "barny", "link": "https://stackoverflow.com/users/2318649/barny"}, "edited": false, "score": 2, "creation_date": 1574289783, "post_id": 58964434, "comment_id": 104184074, "body": "@barny You can&#39;t use that method to prove a negative. All it will tell you is that it doesn&#39;t return True for the values you tried, there might be something you didn&#39;t think of."}, {"owner": {"reputation": 2479, "user_id": 11301900, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8826c4b7675bd83127fddefc109b7f5d?s=128&d=identicon&r=PG&f=1", "display_name": "AMC", "link": "https://stackoverflow.com/users/11301900/amc"}, "edited": false, "score": 1, "creation_date": 1574289976, "post_id": 58964434, "comment_id": 104184139, "body": "Is this question purely for educational reasons?"}, {"owner": {"reputation": 5192, "user_id": 2318649, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rW1HG.jpg?s=128&g=1", "display_name": "barny", "link": "https://stackoverflow.com/users/2318649/barny"}, "edited": false, "score": 0, "creation_date": 1574324281, "post_id": 58964434, "comment_id": 104194175, "body": "Happily for you, Python is open source, so you can research your question yourself by looking at the implementation of <code>in</code> and observing what it does if the target list is empty. Tried that?"}, {"owner": {"reputation": 5192, "user_id": 2318649, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rW1HG.jpg?s=128&g=1", "display_name": "barny", "link": "https://stackoverflow.com/users/2318649/barny"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1574336722, "post_id": 58964434, "comment_id": 104201664, "body": "@Barmar I agree if you haven&#39;t yet thought of it then you can&#39;t write a program to try it, but in that situation you don&#39;t need to write a program to try it because you haven&#39;t yet thought of it. It&#39;s all very well asking blue-sky questions but you tend to get blue sky answers."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 5192, "user_id": 2318649, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rW1HG.jpg?s=128&g=1", "display_name": "barny", "link": "https://stackoverflow.com/users/2318649/barny"}, "edited": false, "score": 1, "creation_date": 1574336970, "post_id": 58964434, "comment_id": 104201794, "body": "@barny If you&#39;re trying to write bullet-proof code, or you&#39;re trying to write test cases, you need to know what the corner cases are so you can protect against them or test that the code works with them. It seems perfectly reasonable to look for assistance if you&#39;re not sure what they are."}, {"owner": {"reputation": 5192, "user_id": 2318649, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rW1HG.jpg?s=128&g=1", "display_name": "barny", "link": "https://stackoverflow.com/users/2318649/barny"}, "edited": false, "score": 0, "creation_date": 1574338997, "post_id": 58964434, "comment_id": 104202969, "body": "Maybe you should use a strongly typed language then you don&#39;t need to do so much work to be sure inputs are known types? I&#39;m surprised that you asking the question here implies you might trust the answer of some anon SO user. I still don&#39;t understand why you don&#39;t check that source code. For example the build-time tests for lists are entirely visible - at least you could assure your self of how comprehensive they are."}, {"owner": {"reputation": 102, "user_id": 10713931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/neKWI.jpg?s=128&g=1", "display_name": "tarskiandhutch", "link": "https://stackoverflow.com/users/10713931/tarskiandhutch"}, "edited": false, "score": 0, "creation_date": 1574351304, "post_id": 58964434, "comment_id": 104210543, "body": "To address some issues: (1) As far as &quot;the clue is in the name,&quot; Python is not English, and new developers run into problems when they take the &quot;natural language&quot;-ness of certain Python statements too far; (2) While broad, this question could arise anytime a script using potentially empty lists allows those lists to contain a variety of variable types; (3) The question is not seeking a data structure that fools the <code>in</code> keyword -- it seeks a simple proof/explanation of whether or not it can ever be the case that <code>x in []</code> is <code>True</code>. (And if the answer is in the docs, it is not explicit there.)"}], "answers": [{"comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1574337009, "post_id": 58964667, "comment_id": 104201814, "body": "Shouldn&#39;t the last line be <code>None in bar</code>?"}, {"owner": {"reputation": 102, "user_id": 10713931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/neKWI.jpg?s=128&g=1", "display_name": "tarskiandhutch", "link": "https://stackoverflow.com/users/10713931/tarskiandhutch"}, "edited": false, "score": 0, "creation_date": 1574777668, "post_id": 58964667, "comment_id": 104345538, "body": "The point was not to find a data structure that &quot;gets around&quot; the <code>in</code> keyword. See my comment under the original post."}], "tags": [], "owner": {"reputation": 17762, "user_id": 548562, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26587173d9156d8ec3114c8700d1b693?s=128&d=identicon&r=PG", "display_name": "Iain Shelvington", "link": "https://stackoverflow.com/users/548562/iain-shelvington"}, "is_accepted": false, "score": -1, "last_activity_date": 1574290429, "creation_date": 1574290429, "answer_id": 58964667, "question_id": 58964434, "link": "https://stackoverflow.com/questions/58964434/will-pythons-in-keyword-ever-return-true-for-an-empty-list/58964667#58964667", "title": "Will Python&#39;s &quot;in&quot; keyword ever return True for an empty list?", "body": "<p>You could create a subclass of <code>list</code> for which this would be the case although I don't know why you would ever do this</p>\n\n<pre><code>class Foo(list):\n    def __in__(self, bar):\n        return True\n\nbar = Foo()\nNone in l\n</code></pre>\n"}], "owner": {"reputation": 102, "user_id": 10713931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/neKWI.jpg?s=128&g=1", "display_name": "tarskiandhutch", "link": "https://stackoverflow.com/users/10713931/tarskiandhutch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 59, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1574290429, "creation_date": 1574289223, "question_id": 58964434, "link": "https://stackoverflow.com/questions/58964434/will-pythons-in-keyword-ever-return-true-for-an-empty-list", "title": "Will Python&#39;s &quot;in&quot; keyword ever return True for an empty list?", "body": "<p>Stated simply, is there any value <code>x</code> for which the following holds in Python?</p>\n\n<pre><code>(x in []) == True\n</code></pre>\n\n<p>This is a rudimentary question, but a negative answer would have to exhaust all possibilities: i.e., \"There is no type and no constant of any given type such that <code>x in []</code> returns the value <code>True</code>.\" It may be the case, however, that demonstrating or refuting this exhaustivity is very simple.</p>\n\n<p>It is easy to test that various values, as expected, are <em>not</em> members of the empty list:</p>\n\n<pre><code>&gt;&gt;&gt; None in []\nFalse\n&gt;&gt;&gt; False in []\nFalse\n&gt;&gt;&gt; [] in []\nFalse\n&gt;&gt;&gt; \"\" in []\nFalse\n&gt;&gt;&gt; {} in []\nFalse\n</code></pre>\n\n<p>Is this ever <em>not</em> the case?</p>\n"}, {"tags": ["python", "python-3.x", "multithreading"], "comments": [{"owner": {"reputation": 17762, "user_id": 548562, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26587173d9156d8ec3114c8700d1b693?s=128&d=identicon&r=PG", "display_name": "Iain Shelvington", "link": "https://stackoverflow.com/users/548562/iain-shelvington"}, "edited": false, "score": 1, "creation_date": 1574289168, "post_id": 58964383, "comment_id": 104183856, "body": "<code>thread.join()</code> will wait for the thread to complete before returning. Why are you using threading for this though?"}, {"owner": {"reputation": 2479, "user_id": 11301900, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8826c4b7675bd83127fddefc109b7f5d?s=128&d=identicon&r=PG&f=1", "display_name": "AMC", "link": "https://stackoverflow.com/users/11301900/amc"}, "edited": false, "score": 0, "creation_date": 1574289378, "post_id": 58964383, "comment_id": 104183925, "body": "Can&#39;t you just iterate over the result of <code>os.walk()</code>? I don&#39;t see why anything related to end conditions is necessary. Also, writing just <code>return</code> is odd, and probably unidiomatic. Either return something, or don&#39;t return."}, {"owner": {"reputation": 419, "user_id": 7520564, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/5dbda10ea63a59366dba00693dc7cab0?s=128&d=identicon&r=PG&f=1", "display_name": "Michael Hackman", "link": "https://stackoverflow.com/users/7520564/michael-hackman"}, "edited": false, "score": 0, "creation_date": 1574289771, "post_id": 58964383, "comment_id": 104184066, "body": "The threads don&#39;t complete, they currently are on a <code>while True</code> loop, so <code>thread.join()</code> doesn&#39;t work in this situation.  As well, the way I was doing it single threaded was to iterate over <code>os.walk()</code>, but I have processing to do at each directory and would like to queue up the work to be accomplished by threads as opposed to a single thread."}, {"owner": {"reputation": 2479, "user_id": 11301900, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8826c4b7675bd83127fddefc109b7f5d?s=128&d=identicon&r=PG&f=1", "display_name": "AMC", "link": "https://stackoverflow.com/users/11301900/amc"}, "edited": false, "score": 0, "creation_date": 1574290189, "post_id": 58964383, "comment_id": 104184214, "body": "&#39;I have processing to do at each directory&#39; That seems crucial to your question, can you elaborate? Multiprocessing might be more appropriate for the task."}, {"owner": {"reputation": 419, "user_id": 7520564, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/5dbda10ea63a59366dba00693dc7cab0?s=128&d=identicon&r=PG&f=1", "display_name": "Michael Hackman", "link": "https://stackoverflow.com/users/7520564/michael-hackman"}, "edited": false, "score": 0, "creation_date": 1574290491, "post_id": 58964383, "comment_id": 104184317, "body": "Hopefully this makes sense: So I have two targets for the comparison, lets say we&#39;re comparing <code>drive1</code> to <code>drive2</code>.  I walk through both <code>drive1</code> and <code>drive2</code> by accessing directories that exist on both drives.  When I reach a directory, I compare metadata of the files in that directory to metadata in the same directory on the other drive.  I do the same with subdirectories to decide which ones I want to enter.  Then I add those subdirectories to the processing queue to be processed next.  It&#39;s essentially BFS, but parallel. I don&#39;t know the size of the BFS tree so I don&#39;t know when to stop"}, {"owner": {"reputation": 2479, "user_id": 11301900, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8826c4b7675bd83127fddefc109b7f5d?s=128&d=identicon&r=PG&f=1", "display_name": "AMC", "link": "https://stackoverflow.com/users/11301900/amc"}, "edited": false, "score": 0, "creation_date": 1574298198, "post_id": 58964383, "comment_id": 104186371, "body": "@MichaelHackman Can you elaborate a bit more? I don&#39;t understand this part: &quot;When I reach a directory, I compare metadata of the files in that directory to metadata in the same directory on the other drive. I do the same with subdirectories to decide which ones I want to enter.&quot; Correct me if I&#39;m wrong, but it sounds like you want the two (or more) processes to iterate through the file tree at the exact same pace? It might be helpful if you shared the metadata comparison code, or at least an explanation of it."}], "answers": [{"tags": [], "owner": {"reputation": 419, "user_id": 7520564, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/5dbda10ea63a59366dba00693dc7cab0?s=128&d=identicon&r=PG&f=1", "display_name": "Michael Hackman", "link": "https://stackoverflow.com/users/7520564/michael-hackman"}, "is_accepted": true, "score": 0, "last_activity_date": 1574293141, "creation_date": 1574293141, "answer_id": 58965057, "question_id": 58964383, "link": "https://stackoverflow.com/questions/58964383/end-condition-for-recursion-involving-walking-the-filesystem/58965057#58965057", "title": "End condition for recursion involving walking the filesystem", "body": "<p>I the example terminate by introducing a separate counter <code>queueSize</code> (protected by <code>queueSizeLock</code>) that tracks how many entries are left in the tree as it discovers them.  Once that counter hits 0 then the entire tree has been traversed, so it notifies the main thread using a conditional variable <code>ProcessingFinished</code>.  Additionally it sets all threads to <code>daemon</code> mode so that main can just <code>return</code> once processing is finished and not worry about trying to unblock threads that are waiting on the queue in <code>q.get()</code>. </p>\n\n<p>I can't imagine this is an optimal solution, but it worked for what I needed.</p>\n\n<p>Globals and imports:</p>\n\n<pre><code>from os import sep, walk\nimport threading\nimport time\nimport logging\nimport queue\n\nlogging.basicConfig(level=logging.DEBUG,\n                    format='(%(threadName)-9s) %(message)s',)\n\nqueueSizeLock = threading.Lock()\nqueueSize = 1\nProcessingFinished = threading.Condition()\nq = queue.Queue()\n</code></pre>\n\n<p>The class:</p>\n\n<pre><code>class ConsumerThread(threading.Thread):\n    def run(self):\n        global queueSize\n        while True:\n            if not q.empty():\n                receivedPath = q.get()\n                path, dirs, files = next(walk(receivedPath))\n                logging.debug('Got ' + str(path))\n\n                #heavy processing here\n\n                with queueSizeLock:\n                    for dir in dirs:\n                        #construct path: \"path/to/current/directory\" + \"/\" + \"sub_directory\"\n                        item = path + sep + dir \n                        q.put(item)\n                        logging.debug('Putting ' + str(item))\n\n                    '''\n                    We have finished with this queue entry, so we subtract 1 \n                    from the queueSize.  We have also found len(dirs) new entries \n                    for the queue, so we add that to queueSize\n                    '''\n                    queueSize += len(dirs) - 1\n\n                    #tell the main thread that all processing is done\n                    #can only happen once all dirs have been exhausted\n                    if queueSize == 0:\n                        with ProcessingFinished:\n                            ProcessingFinished.notify()\n</code></pre>\n\n<p>main:</p>\n\n<pre><code>def queueEmpty():\n        return queueSize == 0\ndef main():\n    numThreads = 20\n    for consumerNum in range(1, numThreads + 1):\n        c = ConsumerThread()\n        c.daemon = True\n        c.start()\n\n    initialPath = '/tmp'\n    q.put(initialPath)\n\n    with ProcessingFinished:\n        ProcessingFinished.wait_for(queueEmpty)\n        return 0\n\nmain()\n</code></pre>\n"}], "owner": {"reputation": 419, "user_id": 7520564, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/5dbda10ea63a59366dba00693dc7cab0?s=128&d=identicon&r=PG&f=1", "display_name": "Michael Hackman", "link": "https://stackoverflow.com/users/7520564/michael-hackman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 28, "favorite_count": 1, "accepted_answer_id": 58965057, "answer_count": 1, "score": -1, "last_activity_date": 1574293141, "creation_date": 1574288987, "last_edit_date": 1574289829, "question_id": 58964383, "link": "https://stackoverflow.com/questions/58964383/end-condition-for-recursion-involving-walking-the-filesystem", "title": "End condition for recursion involving walking the filesystem", "body": "<p>I'm making a helper tool to compare the directory structures of two directories using python.  I have this completed in a single threaded manner (where it walks through the entire directory structure of both input directories and compares the output as it goes) and now I'm looking to extend to using multi threading and a queue.  The code I've written below is the simplest I think I can make my problem; it recursively walks through all subdirectories for a given directory (<code>/tmp</code> in the example).  The problem is that I don't know how I can detect that the job has been finished.  I currently hold the threads with a <code>time.sleep(40)</code> call, but that doesn't accomplish my goal.  </p>\n\n<p>Any suggestions as to how I can detect when the entire filesystem has been seen? Or maybe a suggestion on how to redesign my approach?</p>\n\n<p>NOTE to address current comments: The threads don't complete, they currently are on a <code>while True</code> loop, so <code>thread.join()</code> doesn't work in this situation. As well, the way I was accomplishing my goal when single threaded was to iterate over <code>os.walk()</code>, but I have processing to do at each directory and would like to queue up the work to be accomplished by threads as opposed to a single thread</p>\n\n<p>Thanks</p>\n\n<pre><code>from os import sep, walk\nimport threading\nimport time\nimport logging\nimport queue\n\nlogging.basicConfig(level=logging.DEBUG,\n                    format='(%(threadName)-9s) %(message)s',)\n\nclass ConsumerThread(threading.Thread):\n    def run(self):\n        while True:\n            if not q.empty():\n                receivedPath = q.get()\n                path, dirs, files = next(walk(receivedPath))\n                logging.debug('Got ' + str(path))\n\n                #Do heavy computation\n\n                for dir in dirs:\n                    #construct path: \"path/to/current/directory\" + \"/\" + \"sub_directory\"\n                    item = path + sep + dir \n                    q.put(item)\n                    logging.debug('Putting ' + str(item))\n\nq = queue.Queue()\ndef main():\n    numThreads = 20\n    for consumerNum in range(1, numThreads + 1):\n        ConsumerThread().start()\n    initialPath = '/tmp'\n    q.put(initialPath)\n    time.sleep(40)\n\nmain()\n</code></pre>\n"}, {"tags": ["python", "django", "environment-variables"], "comments": [{"owner": {"reputation": 17762, "user_id": 548562, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26587173d9156d8ec3114c8700d1b693?s=128&d=identicon&r=PG", "display_name": "Iain Shelvington", "link": "https://stackoverflow.com/users/548562/iain-shelvington"}, "edited": false, "score": 0, "creation_date": 1574289006, "post_id": 58964351, "comment_id": 104183805, "body": "Environment variables are specific to each process, on linux they can be accesses in <code>&#47;proc</code>. Why do you need to know where they are saved?"}, {"owner": {"reputation": 168, "user_id": 9490848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc36e2370efa1d3d682b5b68bb505bd0?s=128&d=identicon&r=PG&f=1", "display_name": "Flupper", "link": "https://stackoverflow.com/users/9490848/flupper"}, "reply_to_user": {"reputation": 17762, "user_id": 548562, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26587173d9156d8ec3114c8700d1b693?s=128&d=identicon&r=PG", "display_name": "Iain Shelvington", "link": "https://stackoverflow.com/users/548562/iain-shelvington"}, "edited": false, "score": 0, "creation_date": 1574289624, "post_id": 58964351, "comment_id": 104184014, "body": "because I am working on a project with Django, and need to save environment variable in the .env file, so after typing os.environ[&#39;API_USER&#39;] in the shell I supposed the .env will be updated with the API_USER but it wasn&#39;t , so i wonder where it is saved"}, {"owner": {"reputation": 17762, "user_id": 548562, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26587173d9156d8ec3114c8700d1b693?s=128&d=identicon&r=PG", "display_name": "Iain Shelvington", "link": "https://stackoverflow.com/users/548562/iain-shelvington"}, "edited": false, "score": 0, "creation_date": 1574289772, "post_id": 58964351, "comment_id": 104184068, "body": "If API_USER is a constant why do you not already have it as an environment variable?"}, {"owner": {"reputation": 168, "user_id": 9490848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc36e2370efa1d3d682b5b68bb505bd0?s=128&d=identicon&r=PG&f=1", "display_name": "Flupper", "link": "https://stackoverflow.com/users/9490848/flupper"}, "reply_to_user": {"reputation": 17762, "user_id": 548562, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26587173d9156d8ec3114c8700d1b693?s=128&d=identicon&r=PG", "display_name": "Iain Shelvington", "link": "https://stackoverflow.com/users/548562/iain-shelvington"}, "edited": false, "score": 0, "creation_date": 1574289994, "post_id": 58964351, "comment_id": 104184144, "body": "yes it is constant, I was just debugging because when I try to retrieve it in the settings.py os.environ.get(&#39;API_USER&#39;) also it is in the .env file !"}], "answers": [{"comments": [{"owner": {"reputation": 168, "user_id": 9490848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc36e2370efa1d3d682b5b68bb505bd0?s=128&d=identicon&r=PG&f=1", "display_name": "Flupper", "link": "https://stackoverflow.com/users/9490848/flupper"}, "edited": false, "score": 0, "creation_date": 1574289799, "post_id": 58964413, "comment_id": 104184077, "body": "so the meaning of what you said if the webserver process of Django is running and I opened the Python shell and type os.environ all the Environment variables for that process will be listed?"}, {"owner": {"reputation": 32215, "user_id": 3789550, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8mGqv.gif?s=128&g=1", "display_name": "heemayl", "link": "https://stackoverflow.com/users/3789550/heemayl"}, "reply_to_user": {"reputation": 168, "user_id": 9490848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc36e2370efa1d3d682b5b68bb505bd0?s=128&d=identicon&r=PG&f=1", "display_name": "Flupper", "link": "https://stackoverflow.com/users/9490848/flupper"}, "edited": false, "score": 0, "creation_date": 1574289998, "post_id": 58964413, "comment_id": 104184145, "body": "@Flupper When you open the Python shell that&#39;s a new <code>python</code> process that is running, which has no relation to the Django webserver running in any way. And it&#39;s environment is totally different from Django&#39;s (unless you have exported the same set of environment varaiables while they start, and even then some environment variables would be different)."}, {"owner": {"reputation": 168, "user_id": 9490848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc36e2370efa1d3d682b5b68bb505bd0?s=128&d=identicon&r=PG&f=1", "display_name": "Flupper", "link": "https://stackoverflow.com/users/9490848/flupper"}, "edited": false, "score": 0, "creation_date": 1574290316, "post_id": 58964413, "comment_id": 104184253, "body": "when I listed the environment variables of python shell process why some variables relating to my Django project appears like Tz: timezone DJANGO_SETTINGS_MODULE PS1 . ?!"}, {"owner": {"reputation": 32215, "user_id": 3789550, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8mGqv.gif?s=128&g=1", "display_name": "heemayl", "link": "https://stackoverflow.com/users/3789550/heemayl"}, "reply_to_user": {"reputation": 168, "user_id": 9490848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc36e2370efa1d3d682b5b68bb505bd0?s=128&d=identicon&r=PG&f=1", "display_name": "Flupper", "link": "https://stackoverflow.com/users/9490848/flupper"}, "edited": false, "score": 0, "creation_date": 1574290412, "post_id": 58964413, "comment_id": 104184285, "body": "@Flupper Because you&#39;ve <code>export</code>-ed them from the shell and then from the same shell you&#39;ve open <code>python</code>. (See the subprocess rule on my answer)."}, {"owner": {"reputation": 168, "user_id": 9490848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc36e2370efa1d3d682b5b68bb505bd0?s=128&d=identicon&r=PG&f=1", "display_name": "Flupper", "link": "https://stackoverflow.com/users/9490848/flupper"}, "edited": false, "score": 0, "creation_date": 1574290915, "post_id": 58964413, "comment_id": 104184493, "body": "I got it, Thank you for your clarification"}], "tags": [], "owner": {"reputation": 32215, "user_id": 3789550, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8mGqv.gif?s=128&g=1", "display_name": "heemayl", "link": "https://stackoverflow.com/users/3789550/heemayl"}, "is_accepted": true, "score": 3, "last_activity_date": 1574289146, "creation_date": 1574289146, "answer_id": 58964413, "question_id": 58964351, "link": "https://stackoverflow.com/questions/58964351/where-environment-variables-for-python-are-saved/58964413#58964413", "title": "where Environment variables for python are saved", "body": "<p>Environment variables live in the memory, not on the disk. People usually save environment variables in files only for not having to do the same exporting of them by hand repetitively.</p>\n\n<p>Also note that, environment variables are properties of operating system processes, and the process specific ones are passed on to all of the subprocesses of that process.</p>\n\n<p>So when you run <code>os.environ</code>, it shows the environment variables and their values belonging to the <code>python</code> process (the executable that is being executed).</p>\n"}, {"comments": [{"owner": {"reputation": 168, "user_id": 9490848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc36e2370efa1d3d682b5b68bb505bd0?s=128&d=identicon&r=PG&f=1", "display_name": "Flupper", "link": "https://stackoverflow.com/users/9490848/flupper"}, "edited": false, "score": 1, "creation_date": 1574290386, "post_id": 58964475, "comment_id": 104184278, "body": "thanks for sharing with me this package, I gonna use it"}], "tags": [], "owner": {"reputation": 434, "user_id": 4060904, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bc219b8b6a89cd45964abce791375579?s=128&d=identicon&r=PG&f=1", "display_name": "Locke Donohoe", "link": "https://stackoverflow.com/users/4060904/locke-donohoe"}, "is_accepted": false, "score": 2, "last_activity_date": 1574289424, "creation_date": 1574289424, "answer_id": 58964475, "question_id": 58964351, "link": "https://stackoverflow.com/questions/58964351/where-environment-variables-for-python-are-saved/58964475#58964475", "title": "where Environment variables for python are saved", "body": "<p>There is a way to use a <code>.env</code> file to store environment variables, using the <code>python-dotenv</code> package. Documentation <a href=\"https://pypi.org/project/python-dotenv/\" rel=\"nofollow noreferrer\">can be found here</a></p>\n\n<p>A simple example would be to create a <code>.env</code> file with the contents:</p>\n\n<pre><code>API_USER=username\n</code></pre>\n\n<p>Then, in your code you can use:</p>\n\n<pre><code>from dotenv import load_dotenv\nload_dotenv()\n</code></pre>\n\n<p>Note that without specifying a path to the <code>.env</code> file it assumes it is in the same directory. For a more detailed example on specifying a path, see the documentation.</p>\n\n<p>You can then access the environment variable using <code>os.getenv('API_USER')</code></p>\n"}], "owner": {"reputation": 168, "user_id": 9490848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc36e2370efa1d3d682b5b68bb505bd0?s=128&d=identicon&r=PG&f=1", "display_name": "Flupper", "link": "https://stackoverflow.com/users/9490848/flupper"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1868, "favorite_count": 0, "accepted_answer_id": 58964413, "answer_count": 2, "score": 4, "last_activity_date": 1574289424, "creation_date": 1574288799, "question_id": 58964351, "link": "https://stackoverflow.com/questions/58964351/where-environment-variables-for-python-are-saved", "title": "where Environment variables for python are saved", "body": "<p>I know to set an environment variable in python is to use os.environ['API_USER'] but where this variable is saved, I supposed this environment variable is saved in .env file but it wasn't.</p>\n\n<p>on the console to retrieve all the environment variables use command: os.environ\nbut don't know where are saved. \nneed your help, Thanks!</p>\n"}, {"tags": ["python", "python-3.x", "opencv", "webcam"], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 12384651, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/778fdda773c72d6ce3778b8f6669daa8?s=128&d=identicon&r=PG&f=1", "display_name": "ds dev", "link": "https://stackoverflow.com/users/12384651/ds-dev"}, "edited": false, "score": 0, "creation_date": 1574291273, "post_id": 58964758, "comment_id": 104184648, "body": "What about saving it in python code to be transferred over the network? This code seems to not be working on windows 10 x64. What version of python are you using? Ironically I was actually coding this for startup security, to send the captured image to my vps, so far I haven&#39;t found a method that&#39;s working."}, {"owner": {"reputation": 1000, "user_id": 9332988, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BRbxE.jpg?s=128&g=1", "display_name": "Surya Tej", "link": "https://stackoverflow.com/users/9332988/surya-tej"}, "reply_to_user": {"reputation": 13, "user_id": 12384651, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/778fdda773c72d6ce3778b8f6669daa8?s=128&d=identicon&r=PG&f=1", "display_name": "ds dev", "link": "https://stackoverflow.com/users/12384651/ds-dev"}, "edited": false, "score": 0, "creation_date": 1574291404, "post_id": 58964758, "comment_id": 104184698, "body": "I am on a windows 10 machine 64 bit processor, what error message are you getting? I use python 3.7 open cv 4.1.1"}, {"owner": {"reputation": 13, "user_id": 12384651, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/778fdda773c72d6ce3778b8f6669daa8?s=128&d=identicon&r=PG&f=1", "display_name": "ds dev", "link": "https://stackoverflow.com/users/12384651/ds-dev"}, "edited": false, "score": 0, "creation_date": 1574291602, "post_id": 58964758, "comment_id": 104184765, "body": "&quot;saved_img.jpg, it looks like we don&#39;t support this file format&quot; After opening the image. Not receiving any errors from the python interpreter. Seems to be saving the image in the wrong format."}, {"owner": {"reputation": 13, "user_id": 12384651, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/778fdda773c72d6ce3778b8f6669daa8?s=128&d=identicon&r=PG&f=1", "display_name": "ds dev", "link": "https://stackoverflow.com/users/12384651/ds-dev"}, "edited": false, "score": 0, "creation_date": 1574291796, "post_id": 58964758, "comment_id": 104184828, "body": "I&#39;m using python 3.6, 3.8, 2.7 tried on all to no avail. Maybe I should install 37?"}, {"owner": {"reputation": 1000, "user_id": 9332988, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BRbxE.jpg?s=128&g=1", "display_name": "Surya Tej", "link": "https://stackoverflow.com/users/9332988/surya-tej"}, "reply_to_user": {"reputation": 13, "user_id": 12384651, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/778fdda773c72d6ce3778b8f6669daa8?s=128&d=identicon&r=PG&f=1", "display_name": "ds dev", "link": "https://stackoverflow.com/users/12384651/ds-dev"}, "edited": false, "score": 0, "creation_date": 1574292022, "post_id": 58964758, "comment_id": 104184898, "body": "Python version shouldn&#39;t be an issue, jpg is a conventional image format, png format would work too"}, {"owner": {"reputation": 13, "user_id": 12384651, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/778fdda773c72d6ce3778b8f6669daa8?s=128&d=identicon&r=PG&f=1", "display_name": "ds dev", "link": "https://stackoverflow.com/users/12384651/ds-dev"}, "edited": false, "score": 0, "creation_date": 1574292098, "post_id": 58964758, "comment_id": 104184919, "body": "The image size is 0 bytes, seems it didn&#39;t take the snapshot. In settings my windows machine allows apps to access webcam."}, {"owner": {"reputation": 13, "user_id": 12384651, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/778fdda773c72d6ce3778b8f6669daa8?s=128&d=identicon&r=PG&f=1", "display_name": "ds dev", "link": "https://stackoverflow.com/users/12384651/ds-dev"}, "edited": false, "score": 0, "creation_date": 1574292607, "post_id": 58964758, "comment_id": 104185066, "body": "ok I discovered the issue changing webcam = cv2.VideoCapture(1) to webcam = cv2.VideoCapture(0) took the snapshot if you can edit your answer to be a little more specific on this line of code i will accept it as the answer, thanks!"}, {"owner": {"reputation": 1000, "user_id": 9332988, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BRbxE.jpg?s=128&g=1", "display_name": "Surya Tej", "link": "https://stackoverflow.com/users/9332988/surya-tej"}, "reply_to_user": {"reputation": 13, "user_id": 12384651, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/778fdda773c72d6ce3778b8f6669daa8?s=128&d=identicon&r=PG&f=1", "display_name": "ds dev", "link": "https://stackoverflow.com/users/12384651/ds-dev"}, "edited": false, "score": 0, "creation_date": 1574292808, "post_id": 58964758, "comment_id": 104185119, "body": "Glad that you were able to resolve it. I have a web cam and a laptop camera, so I was trying to capture from webcam so the number was set to 1 and not zero"}], "tags": [], "owner": {"reputation": 1000, "user_id": 9332988, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BRbxE.jpg?s=128&g=1", "display_name": "Surya Tej", "link": "https://stackoverflow.com/users/9332988/surya-tej"}, "is_accepted": true, "score": 0, "last_activity_date": 1574292767, "last_edit_date": 1574292767, "creation_date": 1574290952, "answer_id": 58964758, "question_id": 58964344, "link": "https://stackoverflow.com/questions/58964344/capturing-webcam-snapshot-with-python-silently/58964758#58964758", "title": "Capturing webcam snapshot with python silently", "body": "<p>Using opencv-python package, the following piece of code momentarily captures the webcam information and saves the image in the directory specified. Note: The webcam indicator does light up for a fraction of second. I am not sure how that can be avoided as of now.</p>\n\n<pre><code>import cv2\nwebcam = cv2.VideoCapture(1) # Number which capture webcam in my machine\n# try either VideoCapture(0) or (1) based on your camera availability\n# in my desktop it works with (1)\ncheck, frame = webcam.read()\ncv2.imwrite(filename=r'&lt;Your Directory&gt;\\saved_img.jpg', img=frame)\nwebcam.release()\n</code></pre>\n\n<p>This piece of code can be written in a bat file and you can trigger this for what ever event you are looking for (like startup security)</p>\n"}], "owner": {"reputation": 13, "user_id": 12384651, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/778fdda773c72d6ce3778b8f6669daa8?s=128&d=identicon&r=PG&f=1", "display_name": "ds dev", "link": "https://stackoverflow.com/users/12384651/ds-dev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 484, "favorite_count": 0, "accepted_answer_id": 58964758, "answer_count": 1, "score": 1, "last_activity_date": 1574292767, "creation_date": 1574288764, "question_id": 58964344, "link": "https://stackoverflow.com/questions/58964344/capturing-webcam-snapshot-with-python-silently", "title": "Capturing webcam snapshot with python silently", "body": "<p>How is it possible to capture a snapshot of webcam or stream webcam in python without popping up windows?</p>\n"}, {"tags": ["python", "linux"], "comments": [{"owner": {"reputation": 138, "user_id": 7364668, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/amHYW.jpg?s=128&g=1", "display_name": "Sha", "link": "https://stackoverflow.com/users/7364668/sha"}, "edited": false, "score": 1, "creation_date": 1574289962, "post_id": 58964327, "comment_id": 104184135, "body": "can I know what you try to achieve here? did you following any guideline? I prefer the stable releases rather than build from source, but it depends on the features/requirements what you want to achieve"}], "answers": [{"tags": [], "owner": {"reputation": 30697, "user_id": 31667, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/082b069c287878a1bd5731f44c8f10e7?s=128&d=identicon&r=PG", "display_name": "viraptor", "link": "https://stackoverflow.com/users/31667/viraptor"}, "is_accepted": false, "score": 2, "last_activity_date": 1574289720, "creation_date": 1574289720, "answer_id": 58964531, "question_id": 58964327, "link": "https://stackoverflow.com/questions/58964327/for-linux-platform-why-should-i-build-python-from-source-instead-of-pre-built-b/58964531#58964531", "title": "For Linux platform, why should I build Python from source instead of pre-built binaries?", "body": "<blockquote>\n  <p>I am told that it is preferred to install a Python version which was built from source instead of installing pre-built binaries.</p>\n</blockquote>\n\n<p>Without a qualification why, that was not a very meaningful suggestion. There are reasons to go either way, so I'll list those instead.</p>\n\n<p>Reasons to use system packages:</p>\n\n<ul>\n<li><p>automatic system updates will take care of emergency updates and security patching in a standard way - you can save a lot of time</p></li>\n<li><p>you can be fairly confident that everything's compiled and distributed in a consistent way without breaking applications which rely on a given version (for example 3.5)</p></li>\n<li><p>not managing your own compilation saves you time in both development and in build/release process</p></li>\n<li><p>you don't have to track upstream point-releases using a custom process</p></li>\n</ul>\n\n<p>Reasons to compile yourself:</p>\n\n<ul>\n<li><p>if you want to rely on a specific patch not included upstream</p></li>\n<li><p>if you need to use new version, not released in your distro</p></li>\n</ul>\n\n<p>In general, unless you can specifically say what you're going to gain by compiling from sources, understand you're committing to doing that on every future release, and hopefully define how you're going to automate it and who's going to do the work/maintenance - I don't see a reason to do it.</p>\n"}, {"tags": [], "owner": {"reputation": 3050, "user_id": 1054423, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/fAvA1.jpg?s=128&g=1", "display_name": "bschlueter", "link": "https://stackoverflow.com/users/1054423/bschlueter"}, "is_accepted": false, "score": 0, "last_activity_date": 1574290791, "creation_date": 1574290791, "answer_id": 58964727, "question_id": 58964327, "link": "https://stackoverflow.com/questions/58964327/for-linux-platform-why-should-i-build-python-from-source-instead-of-pre-built-b/58964727#58964727", "title": "For Linux platform, why should I build Python from source instead of pre-built binaries?", "body": "<p>In addition to @viraptor's excellent advice for installation on systems, containerization adds some things which change the equation a bit.</p>\n\n<p>For any container, building it yourself ensures more knowledge of what's going into it, which usually means a more secure container. It's also usually very easy to use the more minimal alpine containers (or to port an application to them) which means there's less surface area for security holes in the first place, and they're physically smaller which means less local maintenance and lower hosting costs. </p>\n\n<p>Python can easily be built on alpine, there are even <a href=\"https://hub.docker.com/_/python/\" rel=\"nofollow noreferrer\">official containers</a> maintained by the Docker company, whose source can be forked to build your own. Dockerhub will even build it for you from a GitHub repository if you configure it to.</p>\n"}], "owner": {"reputation": 71, "user_id": 9717312, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "aspnetuser", "link": "https://stackoverflow.com/users/9717312/aspnetuser"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "closed_date": 1574294667, "answer_count": 2, "score": -1, "last_activity_date": 1574290791, "creation_date": 1574288671, "question_id": 58964327, "link": "https://stackoverflow.com/questions/58964327/for-linux-platform-why-should-i-build-python-from-source-instead-of-pre-built-b", "closed_reason": "Opinion-based", "title": "For Linux platform, why should I build Python from source instead of pre-built binaries?", "body": "<p>I am creating a docker image which is going to be based on <code>buildpack-deps:stretch</code> based image. I am told that it is preferred to install a Python version which was built from source instead of installing pre-built binaries.  </p>\n\n<p><strong>Question</strong>: Why is it preferred for Python to be built from source?</p>\n\n<ol>\n<li>I read some articles talk about able to get latest patches etc., but\nthat does not make much sense to me since the pre-built binaries\nwould also have the patches after some testing is done. You ideally\ndo not want to take in source code which is not tested and build and\nuse it. Am I missing something in my argument?</li>\n<li>If Python has pre-built binaries for <code>debian:stretch</code>, in my scenario why should I\nbe prefer to build from source instead of pre-built binaries?</li>\n</ol>\n\n<p>Thanks in advance!</p>\n"}, {"tags": ["python", "windows"], "comments": [{"owner": {"reputation": 17762, "user_id": 548562, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26587173d9156d8ec3114c8700d1b693?s=128&d=identicon&r=PG", "display_name": "Iain Shelvington", "link": "https://stackoverflow.com/users/548562/iain-shelvington"}, "edited": false, "score": 0, "creation_date": 1574288719, "post_id": 58964317, "comment_id": 104183712, "body": "Do you want to change the pointer size in a window/application that you have made?"}, {"owner": {"reputation": 1, "user_id": 10288968, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/887530f98cba569234765ea650398a80?s=128&d=identicon&r=PG", "display_name": "user10288968", "link": "https://stackoverflow.com/users/10288968/user10288968"}, "reply_to_user": {"reputation": 17762, "user_id": 548562, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26587173d9156d8ec3114c8700d1b693?s=128&d=identicon&r=PG", "display_name": "Iain Shelvington", "link": "https://stackoverflow.com/users/548562/iain-shelvington"}, "edited": false, "score": 0, "creation_date": 1574344135, "post_id": 58964317, "comment_id": 104206015, "body": "No. I just want to change the window&#39;s pointer size. So like the regular windows pointer, not in a window/application."}], "owner": {"reputation": 1, "user_id": 10288968, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/887530f98cba569234765ea650398a80?s=128&d=identicon&r=PG", "display_name": "user10288968", "link": "https://stackoverflow.com/users/10288968/user10288968"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 29, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1574288614, "creation_date": 1574288614, "question_id": 58964317, "link": "https://stackoverflow.com/questions/58964317/how-to-change-pointer-size-with-python-windows", "title": "How to change pointer size with python - windows", "body": "<p>I was wondering if there is any way to change the pointer size on windows with python.\nI just want to make something where when you press a button it makes the pointer bigger or smaller, but I can't figure out how to change the pointer size.</p>\n"}, {"tags": ["python", "docker", "tensorflow", "anaconda", "conda"], "comments": [{"owner": {"reputation": 390, "user_id": 1660336, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ctj6Y.jpg?s=128&g=1", "display_name": "Tatarao Vana", "link": "https://stackoverflow.com/users/1660336/tatarao-vana"}, "edited": false, "score": 0, "creation_date": 1574302037, "post_id": 58964315, "comment_id": 104187293, "body": "In the shell script, you need to first initialise the anaconda environment, then try activating it"}, {"owner": {"reputation": 39, "user_id": 2265222, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/10dd449e3f372c38c50c8ab417606216?s=128&d=identicon&r=PG&f=1", "display_name": "ezy", "link": "https://stackoverflow.com/users/2265222/ezy"}, "reply_to_user": {"reputation": 390, "user_id": 1660336, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ctj6Y.jpg?s=128&g=1", "display_name": "Tatarao Vana", "link": "https://stackoverflow.com/users/1660336/tatarao-vana"}, "edited": false, "score": 0, "creation_date": 1574323697, "post_id": 58964315, "comment_id": 104193883, "body": "Do you mean conda init bash? By adding this command first the outcome doesn&#39;t change"}, {"owner": {"reputation": 1528, "user_id": 6018688, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/60df8988ceec040b874007ecfd2867cb?s=128&d=identicon&r=PG&f=1", "display_name": "fabianegli", "link": "https://stackoverflow.com/users/6018688/fabianegli"}, "edited": false, "score": 0, "creation_date": 1576166871, "post_id": 58964315, "comment_id": 104819471, "body": "I just run into the same problem. <code>conda init bash</code> doesn&#39;t do the trick and concatenating bash commands <code>conda activate my_env</code> after <code>conda env create my_env --file my_env.yaml</code> with <code>\\\\n&amp;&amp;</code> doesn&#39;t help either."}], "owner": {"reputation": 39, "user_id": 2265222, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/10dd449e3f372c38c50c8ab417606216?s=128&d=identicon&r=PG&f=1", "display_name": "ezy", "link": "https://stackoverflow.com/users/2265222/ezy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 220, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1574323620, "creation_date": 1574288592, "last_edit_date": 1574323620, "question_id": 58964315, "link": "https://stackoverflow.com/questions/58964315/anaconda-docker-tensorflow-installation-shell-problem", "title": "Anaconda Docker + Tensorflow installation = Shell problem", "body": "<p>I'm trying to create an image based on the official anaconda image with tensorflow so I can run jupyter and import tensorflow from it. I've tried several permutation of the procedure</p>\n\n<p><a href=\"https://docs.anaconda.com/anaconda/user-guide/tasks/tensorflow/\" rel=\"nofollow noreferrer\">https://docs.anaconda.com/anaconda/user-guide/tasks/tensorflow/</a></p>\n\n<p><a href=\"https://tensorflow-object-detection-api-tutorial.readthedocs.io/en/latest/install.html\" rel=\"nofollow noreferrer\">https://tensorflow-object-detection-api-tutorial.readthedocs.io/en/latest/install.html</a></p>\n\n<p><a href=\"https://github.com/conda/conda/issues/7980\" rel=\"nofollow noreferrer\">https://github.com/conda/conda/issues/7980</a></p>\n\n<p>But I always and up with this problem with the activation of the tensorflow environment.</p>\n\n<p>My Dockerfile</p>\n\n<pre><code>FROM continuumio/anaconda3\nRUN apt update \nRUN apt -y upgrade \nRUN apt -y install python3-dev python3-pip \nRUN pip3 install -U virtualenv \nRUN pip install --upgrade pip \nRUN pip install pillow  \nRUN conda update -n base -c defaults conda\nRUN conda create -n tf tensorflow pip python=3.6\n</code></pre>\n\n<p>Running command</p>\n\n<pre><code>source ./settings.sh\ndocker stop mdsdev\ndocker rm mdsdev\ndocker run -t -p 8888:8888 \\\n       --name mdsdev \\\n       -v \"$NOTEBOOKS_PATH_LOCAL\":\"$NOTEBOOKS_PATH\" \\\n       continuumio/anaconda3 \\\n       /bin/bash -c \\\n       \"\n       /opt/conda/bin/conda init bash &amp;&amp; \\\n       /opt/conda/bin/conda activate tf &amp;&amp; \\\n       /opt/conda/bin/conda install jupyter -y --quiet &amp;&amp; \\\n       /opt/conda/bin/jupyter notebook --notebook-dir=$NOTEBOOKS_PATH --ip='0.0.0.0' --port=8888 --no-browser --allow-root\"\n</code></pre>\n\n<p>Running output</p>\n\n<pre><code>CommandNotFoundError: Your shell has not been properly configured to use 'conda activate'.\nTo initialize your shell, run\n\n    $ conda init &lt;SHELL_NAME&gt;\n\nCurrently supported shells are:\n  - bash\n  - fish\n  - tcsh\n  - xonsh\n  - zsh\n  - powershell\n\nSee 'conda init --help' for more information and options.\n\nIMPORTANT: You may need to close and restart your shell after running 'conda init'.\n</code></pre>\n"}, {"tags": ["python", "user-interface", "matplotlib", "tkinter"], "comments": [{"owner": {"reputation": 6945, "user_id": 2912349, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e334f9128613bb74632da336c63ef18f?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Brodersen", "link": "https://stackoverflow.com/users/2912349/paul-brodersen"}, "edited": false, "score": 1, "creation_date": 1574342109, "post_id": 58964296, "comment_id": 104204722, "body": "My answer in that thread uses time as a distinguishing factor. However, I do think that using motion as the distinguishing factor (as @ImportanceOfBeingErnest does) is the better way to go as it is more directly linked to the action of zooming/panning (somebody might just be a really slow clicker and then using a time differential won&#39;t work for them). So instead of using the in-built motion_notify_event (that will kick in if there is any motion), you will need to additionally check if the mouse has moved a significant distance between button press and release."}, {"owner": {"reputation": 115, "user_id": 10997067, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Fkk5R.jpg?s=128&g=1", "display_name": "btobers", "link": "https://stackoverflow.com/users/10997067/btobers"}, "reply_to_user": {"reputation": 6945, "user_id": 2912349, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e334f9128613bb74632da336c63ef18f?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Brodersen", "link": "https://stackoverflow.com/users/2912349/paul-brodersen"}, "edited": false, "score": 0, "creation_date": 1574434937, "post_id": 58964296, "comment_id": 104244003, "body": "Good point @PaulBrodersen. I ended up settling on the simply time between click and release method you had initially suggested. This works well enough for my application. Some of my clicks could be very close together so considering the distance between these events might introduce too much bias."}], "owner": {"reputation": 115, "user_id": 10997067, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Fkk5R.jpg?s=128&g=1", "display_name": "btobers", "link": "https://stackoverflow.com/users/10997067/btobers"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 67, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1574288526, "creation_date": 1574288526, "question_id": 58964296, "link": "https://stackoverflow.com/questions/58964296/distinguish-button-press-event-from-matplotlib-zoom-and-pan", "title": "Distinguish button_press_event from matplotlib zoom and pan", "body": "<p>This is an extension of the question asked <a href=\"https://stackoverflow.com/questions/48446351/distinguish-button-press-event-from-drag-and-zoom-clicks-in-matplotlib\">here</a>. I was not allowed to comment there. </p>\n\n<p>@ImportanceOfBeingErnest provided an excellent answer to distinguish matplotlib button_press_events from zoom and pan clicks by connecting the motion_notify_event. In my experience, this works very well when using a trackpad. However, in practice, when I run my tkinter app with a sensitive mouse, it is difficult to click without also incorporating a subtle motion prior to releasing the button. </p>\n\n<p>Any suggestions? I was considering setting a flag based on the time between the button_press_event and the button_release_event.</p>\n"}, {"tags": ["python", "list"], "comments": [{"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1574289152, "post_id": 58964269, "comment_id": 104183853, "body": "Welcome to StackOverflow. See <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal, reproducible example</a>. We cannot effectively help you until you post your MRE code and accurately specify the problem. We should be able to paste your posted code into a text file and reproduce the problem you specified.  The code you posted hangs waiting for input (don&#39;t insist that we feed your program).  When I give it input, the code exits immediately: you haven&#39;t called either of your functions.  You also failed to show your actual and expected output."}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1574289338, "post_id": 58964269, "comment_id": 104183908, "body": "<code>check</code> faults on an undefined symbol; your posted code does not produce the problem you partially described."}, {"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 0, "creation_date": 1574292624, "post_id": 58964269, "comment_id": 104185073, "body": "BTW: shorter <code>user_inp_split = list(user_inp)</code>"}, {"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 0, "creation_date": 1574292688, "post_id": 58964269, "comment_id": 104185086, "body": "do you get error? always put full error message (starting at word &quot;Traceback&quot;) in question (not comment) as text (not screenshot). There are other useful information."}, {"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 0, "creation_date": 1574292736, "post_id": 58964269, "comment_id": 104185101, "body": "<code>i</code> is char from string <code>user_inp</code>, not index, so you can&#39;t use it as index in <code>user_inp_split[i]</code>"}], "answers": [{"tags": [], "owner": {"reputation": 70, "user_id": 9586759, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/onMNI.jpg?s=128&g=1", "display_name": "torswq", "link": "https://stackoverflow.com/users/9586759/torswq"}, "is_accepted": false, "score": 0, "last_activity_date": 1574336650, "creation_date": 1574336650, "answer_id": 58974219, "question_id": 58964269, "link": "https://stackoverflow.com/questions/58964269/i-am-trying-to-delete-an-item-in-my-list-after-making-changes-to-it-but-it-wont/58974219#58974219", "title": "I am trying to delete an item in my list after making changes to it but it won&#39;t delete and I dont understand why", "body": "<p>Welcome to StackOverflow, the problem that you have is that you do not have an organized code, i reorganized your code in order to make the task that you want:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>user_inp = input(\"please give me an input: \")\nuser_inp_split = list(user_inp) #user input converted to list\nitems2 = [] #Character list\nitems1 = [] #integer list\n\ndef check():\n    for i in user_inp_split: #iterates over the user_input list\n        try :\n            items1.append(int(i,10)) #Convert the items to an integer with base on 10\n        except ValueError:\n            items2.append(i) #if not, append to the items2 list\n    print (\"User input {}\".format(user_inp))\n    print (\"Characters {}\".format(items2))\n    print (\"Integers {}\".format(items1))\ncheck() #call the function, otherwise it wont work\n</code></pre>\n\n<p>First of all, you must declare the list to be appended to (line 3 and 4), then we must iterate, and check if they are integer, if they can be converted with the built-in function <a href=\"https://docs.python.org/3/library/functions.html#int\" rel=\"nofollow noreferrer\"><code>int()</code></a>, they are integers, otherwise, they are not (lines 8 to 11), finally we print the user input to check that everything is OK.</p>\n"}], "owner": {"reputation": 35, "user_id": 7663582, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa029500deb4d442c9ca70a273ed5d59?s=128&d=identicon&r=PG&f=1", "display_name": "Remmerton", "link": "https://stackoverflow.com/users/7663582/remmerton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 26, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1574336650, "creation_date": 1574288378, "question_id": 58964269, "link": "https://stackoverflow.com/questions/58964269/i-am-trying-to-delete-an-item-in-my-list-after-making-changes-to-it-but-it-wont", "title": "I am trying to delete an item in my list after making changes to it but it won&#39;t delete and I dont understand why", "body": "<p>The aim of my code is to take an input from the user and to check if each character could be a string or an integer. It would then put the character into different lists.</p>\n\n<p>Also if you know a better way to do this please say. This is only thing I could think of.</p>\n\n<pre><code>user_inp = input(\"please give me an input\")\n\n\ndef split_func():\n    for i in user_inp:\n        user_inp_split.append(i)\n\ndef check():\n\n    for i in user_inp:\n        try :\n            temp = int(i)\n            items2.append(temp)\n            del user_inp_split[i]\n            # the line that wont work \n\n\n            print (user_inp)\n\n            print (user_inp_split)\n\n        except:\n            print (\"get to stage 2\")\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "ros", "reinforcement-learning", "openai-gym"], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 8791373, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ds9xi.jpg?s=128&g=1", "display_name": "Hassaan Hashmi", "link": "https://stackoverflow.com/users/8791373/hassaan-hashmi"}, "is_accepted": false, "score": 1, "last_activity_date": 1574333326, "last_edit_date": 1574333326, "creation_date": 1574318015, "answer_id": 58968645, "question_id": 58964267, "link": "https://stackoverflow.com/questions/58964267/how-to-create-an-openai-gym-observation-space-with-multiple-features/58968645#58968645", "title": "how to create an OpenAI Gym Observation space with multiple features", "body": "<p>Please look at the <code>gym.spaces.Tuple</code> class\n<a href=\"https://github.com/openai/gym/tree/master/gym/spaces\" rel=\"nofollow noreferrer\">ref</a></p>\n\n<p>P.S. You can look at how I have used it for my own ROS env <a href=\"https://github.com/hassaanhashmi/ParrotDrone-RL-Experiments/blob/master/src/parrot_ardrone_rl/scripts/parrot_gym/parrotdrone_tasks/parrotdrone_goto.py#L134\" rel=\"nofollow noreferrer\">here</a></p>\n"}, {"tags": [], "owner": {"reputation": 2375, "user_id": 2745116, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/d6e52cda3e0dccbd57c3020a3e6cecfa?s=128&d=identicon&r=PG&f=1", "display_name": "CGFoX", "link": "https://stackoverflow.com/users/2745116/cgfox"}, "is_accepted": false, "score": 3, "last_activity_date": 1603965456, "creation_date": 1603965456, "answer_id": 64588739, "question_id": 58964267, "link": "https://stackoverflow.com/questions/58964267/how-to-create-an-openai-gym-observation-space-with-multiple-features/64588739#64588739", "title": "how to create an OpenAI Gym Observation space with multiple features", "body": "<p><a href=\"https://github.com/openai/gym/blob/master/gym/spaces/dict.py\" rel=\"nofollow noreferrer\"><code>gym.spaces.Dict</code></a> is what you need:</p>\n<pre class=\"lang-py prettyprint-override\"><code>import gym\n\nspaces = {\n  'position': gym.spaces.Box(low=0, high=100, shape=(2,),\n  'orientation': ...\n}\ndict_space = gym.spaces.Dict(spaces)\n</code></pre>\n"}], "owner": {"reputation": 193, "user_id": 1666054, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/345ddbd186fe874b2a0a15826ca3f8b2?s=128&d=identicon&r=PG", "display_name": "learningtofly", "link": "https://stackoverflow.com/users/1666054/learningtofly"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3645, "favorite_count": 1, "answer_count": 2, "score": 3, "last_activity_date": 1603965456, "creation_date": 1574288370, "question_id": 58964267, "link": "https://stackoverflow.com/questions/58964267/how-to-create-an-openai-gym-observation-space-with-multiple-features", "title": "how to create an OpenAI Gym Observation space with multiple features", "body": "<p>Using Python3.6, Ubuntu 18.04, Gym 0.15.4, RoS melodic, Tensorflow 1.14 and rl_coach 1.01:</p>\n\n<p>I have built a custom Gym environment that is using a 360 element array as the observation_space.</p>\n\n<pre><code>high = np.array([4.5] * 360) #360 degree scan to a max of 4.5 meters\nlow = np.array([0.0] * 360)\nself.observation_space = spaces.Box(low, high, dtype=np.float32)\n</code></pre>\n\n<p>However, this is not enough state to properly train via the ClippedPPO algo and I want to add additional features to my state that include:</p>\n\n<p>Position in the world (x,y coords)<br>\nOrientation in the world (Quaternion: x,y,z,w)\nLinear Trajectory (x,y,z coords)\nangular trajectory (x,y,z coords).</p>\n\n<p>I put the four features above into their own np.arrays and tried to pass them all back as the state object, but obviously it does not match the observation space.  the space.Box confuses me.  I am assuming I cannot dump all these features into a single np array since uppper and lower bounds will differ, however, I can't determine how to create a spaces.Box object with multiple \"features\".</p>\n\n<p>TIA</p>\n"}, {"tags": ["python", "arrays", "loops", "numpy"], "comments": [{"owner": {"reputation": 43491, "user_id": 4001592, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HWyjo.jpg?s=128&g=1", "display_name": "Dani Mesejo", "link": "https://stackoverflow.com/users/4001592/dani-mesejo"}, "edited": false, "score": 0, "creation_date": 1574288343, "post_id": 58964245, "comment_id": 104183573, "body": "You mention DataFrame. Are you using pandas?"}, {"owner": {"reputation": 399, "user_id": 7654622, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/10212303803248815/picture?type=large", "display_name": "Todd Shannon", "link": "https://stackoverflow.com/users/7654622/todd-shannon"}, "reply_to_user": {"reputation": 43491, "user_id": 4001592, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HWyjo.jpg?s=128&g=1", "display_name": "Dani Mesejo", "link": "https://stackoverflow.com/users/4001592/dani-mesejo"}, "edited": false, "score": 0, "creation_date": 1574288656, "post_id": 58964245, "comment_id": 104183686, "body": "yes I am.  i know how to get it into a dataframe. i just don&#39;t know about the logic and the iteration to check each element of the array against a pair of elements in another array"}], "answers": [{"tags": [], "owner": {"reputation": 546, "user_id": 1999605, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9Ozyg.jpg?s=128&g=1", "display_name": "Nicolae Petridean", "link": "https://stackoverflow.com/users/1999605/nicolae-petridean"}, "is_accepted": false, "score": 0, "last_activity_date": 1574290216, "last_edit_date": 1574290216, "creation_date": 1574289342, "answer_id": 58964464, "question_id": 58964245, "link": "https://stackoverflow.com/questions/58964245/check-if-array-values-are-between-two-values-of-another-array/58964464#58964464", "title": "Check if array values are between two values of another array", "body": "<pre><code>steps = np.arange(0, 50, 2.5)\nvect = np.random.normal(50, 5.6, 100)\nindexes = {}\nfor index, value in enumerate(steps):\n    for value in vect:\n        if index &lt; len(steps)-1:\n            if steps[index] &lt; value &lt; steps[index+1]:\n                indexes[value] = (index, index+1)\n</code></pre>\n\n<p>at the end you will get a dictionary like where key is value in vect and value is interval endpoints from steps, as a tuple. Like this :</p>\n\n<pre><code>  &lt;class 'dict'&gt;: {39.99995073703162: (15, 16), \n                   39.154971948950724: (15, 16), \n                   39.734181390461416: (15, 16)\n                   44,5: (17, 18)}\n</code></pre>\n\n<p>Is this what you need ?</p>\n\n<p>With a bit of refactoring you can do it even smaller using python specific stuff </p>\n\n<p>Using Lambda functions is even much more simple. <a href=\"https://thispointer.com/pandas-apply-apply-a-function-to-each-row-column-in-dataframe/\" rel=\"nofollow noreferrer\">https://thispointer.com/pandas-apply-apply-a-function-to-each-row-column-in-dataframe/</a></p>\n\n<p>Using lambdas, the first for is impolitely executed and the second for can be written in one line.</p>\n"}, {"tags": [], "owner": {"reputation": 47088, "user_id": 7207392, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/dadc9567dde5f02b09a29695eca1ce40?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Panzer", "link": "https://stackoverflow.com/users/7207392/paul-panzer"}, "is_accepted": true, "score": 0, "last_activity_date": 1574291538, "last_edit_date": 1574291538, "creation_date": 1574291033, "answer_id": 58964774, "question_id": 58964245, "link": "https://stackoverflow.com/questions/58964245/check-if-array-values-are-between-two-values-of-another-array/58964774#58964774", "title": "Check if array values are between two values of another array", "body": "<p>You can use <code>ufunc.outer</code> like so:</p>\n\n<pre><code>steps = np.arange(0, 22.5, 2.5)\nvect = np.random.normal(10, 5.0, 10)\n\nnp.less.outer(vect,steps[1:]) &amp; np.greater_equal.outer(vect,steps[:-1])\n</code></pre>\n\n<p>Sample output:</p>\n\n<pre><code>array([[False, False, False, False, False, False,  True, False],\n       [False, False, False, False,  True, False, False, False],\n       [False,  True, False, False, False, False, False, False],\n       [False, False, False,  True, False, False, False, False],\n       [False, False, False,  True, False, False, False, False],\n       [False, False, False, False,  True, False, False, False],\n       [False, False, False, False, False, False, False,  True],\n       [False, False, False,  True, False, False, False, False],\n       [False, False,  True, False, False, False, False, False],\n       [False, False, False,  True, False, False, False, False]])\n</code></pre>\n\n<p>Or as DataFrame</p>\n\n<pre><code>pd.DataFrame(np.less.outer(vect,steps[1:]) &amp; np.greater_equal.outer(vect,steps[:-1]), columns=[f\"{steps[i]:.1f}-{steps[i+1]:.1f}\" for i in range(len(steps)-1)])\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>   0.0-2.5  2.5-5.0  5.0-7.5  7.5-10.0  10.0-12.5  12.5-15.0  15.0-17.5  17.5-20.0\n0    False    False    False     False      False      False       True      False\n1    False    False    False     False       True      False      False      False\n2    False     True    False     False      False      False      False      False\n3    False    False    False      True      False      False      False      False\n4    False    False    False      True      False      False      False      False\n5    False    False    False     False       True      False      False      False\n6    False    False    False     False      False      False      False       True\n7    False    False    False      True      False      False      False      False\n8    False    False     True     False      False      False      False      False\n9    False    False    False      True      False      False      False      False\n</code></pre>\n"}], "owner": {"reputation": 399, "user_id": 7654622, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/10212303803248815/picture?type=large", "display_name": "Todd Shannon", "link": "https://stackoverflow.com/users/7654622/todd-shannon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 530, "favorite_count": 0, "accepted_answer_id": 58964774, "answer_count": 2, "score": 0, "last_activity_date": 1574291538, "creation_date": 1574288257, "last_edit_date": 1574288454, "question_id": 58964245, "link": "https://stackoverflow.com/questions/58964245/check-if-array-values-are-between-two-values-of-another-array", "title": "Check if array values are between two values of another array", "body": "<p>I have two arrays.  One step wise:</p>\n\n<pre><code>steps = np.arange(0, 50, 2.5)\nvect = np.random.normal(50, 5.6, 100)\nindex = [x for x in np.arange(len(a))]\n</code></pre>\n\n<p>I want to check if each element of <code>vect</code> is <em>in between</em> the elements of a pair of <code>steps</code>.  For example, if <code>vect[0]</code> is between elements <code>steps[0]</code> and <code>steps[1]</code>, it'd return <code>True</code>, else <code>False</code>.  so each item of <code>vect</code> will be checked against ALL the items in <code>steps</code> in pairs, if that makes sense.  I was thinking something like this:</p>\n\n<pre><code>for x in index:\n    for y in vect:\n        print(steps[x] &lt;= y &lt;= steps[x+1])\n</code></pre>\n\n<p>This obviously doesn't work.  Plus, I need a separate list for each <code>step</code> pair (they will actually be columns in a dataframe).  Not sure where to go from here.  </p>\n"}, {"tags": ["python", "numpy", "raspberry-pi", "framebuffer", "omxplayer"], "comments": [{"owner": {"reputation": 144849, "user_id": 2836621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/suHg4.jpg?s=128&g=1", "display_name": "Mark Setchell", "link": "https://stackoverflow.com/users/2836621/mark-setchell"}, "edited": false, "score": 0, "creation_date": 1574364911, "post_id": 58964244, "comment_id": 104217575, "body": "I don&#39;t understand. You say your program is unable to write to the framebuffer after <code>omxiv</code> is run, yet your program doesn&#39;t even try to write to the framebuffer after <code>omxiv</code>, it does so <b>before</b> <code>omxiv</code> runs?"}, {"owner": {"reputation": 55, "user_id": 12344958, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/acd4a97421b649ffbd564942efa34a59?s=128&d=identicon&r=PG&f=1", "display_name": "Eddy Sorngard", "link": "https://stackoverflow.com/users/12344958/eddy-sorngard"}, "reply_to_user": {"reputation": 144849, "user_id": 2836621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/suHg4.jpg?s=128&g=1", "display_name": "Mark Setchell", "link": "https://stackoverflow.com/users/2836621/mark-setchell"}, "edited": false, "score": 0, "creation_date": 1574599660, "post_id": 58964244, "comment_id": 104281815, "body": "The first time I run the program after a reboot, I can see the rectangle followed by the jpg-image. If I start the program once more, the recyangle is not visible, but only the jpg-image. I have to reboot before starting the program to see the rectangle again."}, {"owner": {"reputation": 144849, "user_id": 2836621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/suHg4.jpg?s=128&g=1", "display_name": "Mark Setchell", "link": "https://stackoverflow.com/users/2836621/mark-setchell"}, "edited": false, "score": 0, "creation_date": 1574617048, "post_id": 58964244, "comment_id": 104286505, "body": "Try using a stronger signal than SIGTERM, maybe SIGKILL (9). Try running <code>lsof</code> to see if <code>omxiv</code> is still holding the framebuffer device open."}, {"owner": {"reputation": 55, "user_id": 12344958, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/acd4a97421b649ffbd564942efa34a59?s=128&d=identicon&r=PG&f=1", "display_name": "Eddy Sorngard", "link": "https://stackoverflow.com/users/12344958/eddy-sorngard"}, "reply_to_user": {"reputation": 144849, "user_id": 2836621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/suHg4.jpg?s=128&g=1", "display_name": "Mark Setchell", "link": "https://stackoverflow.com/users/2836621/mark-setchell"}, "edited": false, "score": 0, "creation_date": 1574628871, "post_id": 58964244, "comment_id": 104289747, "body": "pkill -9 omxiv does not help, and lsof does not list anything about omxiv or fb0."}], "answers": [{"tags": [], "owner": {"reputation": 55, "user_id": 12344958, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/acd4a97421b649ffbd564942efa34a59?s=128&d=identicon&r=PG&f=1", "display_name": "Eddy Sorngard", "link": "https://stackoverflow.com/users/12344958/eddy-sorngard"}, "is_accepted": true, "score": 0, "last_activity_date": 1575051886, "creation_date": 1575051886, "answer_id": 59109537, "question_id": 58964244, "link": "https://stackoverflow.com/questions/58964244/using-omxiv-omxplayer-and-writing-to-framebuffer-in-the-same-program/59109537#59109537", "title": "Using OMXIV, OMXPLAYER and writing to framebuffer in the same program", "body": "<p>I solved the problem myself.\nOmitting the omxplayer's -b option (--blank), solves the problem:</p>\n\n<pre><code>os.system('omxplayer -r -o both video.mp4')\n</code></pre>\n"}], "owner": {"reputation": 55, "user_id": 12344958, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/acd4a97421b649ffbd564942efa34a59?s=128&d=identicon&r=PG&f=1", "display_name": "Eddy Sorngard", "link": "https://stackoverflow.com/users/12344958/eddy-sorngard"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 934, "favorite_count": 0, "accepted_answer_id": 59109537, "answer_count": 1, "score": 0, "last_activity_date": 1575051886, "creation_date": 1574288257, "last_edit_date": 1574748727, "question_id": 58964244, "link": "https://stackoverflow.com/questions/58964244/using-omxiv-omxplayer-and-writing-to-framebuffer-in-the-same-program", "title": "Using OMXIV, OMXPLAYER and writing to framebuffer in the same program", "body": "<p>In my program I am writing menus direct to the framebuffer on a Raspberry Pi. This program can play videos with omxplayer and call another program to display jpeg-pictures with omxiv. If omxplayer runs before omxiv, the menus becomes invisible afterwards, and I am not able to write to the framebuffer again before I play a video with omxplayer once more. It is no help in restarting the program.</p>\n\n<p>A simple example is shown here. The program draws a blue rectangle on a green background, plays a wideo and then displays an image. I had expected a blue rectangle drawn at last, but it does nt happen. Next time the program is run, the rectangle is invisible. If I play a video after omxiv, everything is OK.</p>\n\n<p>Has user pi lost the permission to write to the framebuffer?</p>\n\n<pre><code>#!/usr/bin/env python\n\nimport numpy as np\nfrom PIL import Image\nimport time, subprocess, os\n\nfb = np.memmap('/dev/fb0', dtype='uint8',mode='w+', shape=(1024,1280,4))\nfb[:] = [0,255,0,255]\nx0, y0 = 50, 100\nw, h = 300, 200\n\nimg = Image.new('RGBA', size=(w, h), color=(255,0,0,255))\nn = np.array(img)\nfb[y0:y0+h, x0:x0+w] = n\ntime.sleep(2)\n\nos.system('omxplayer -b -r -o both video.mp4')\ntime.sleep(2)\n\nsubprocess.Popen('omxiv 0.jpg &gt;/dev/null 2&gt;&amp;1', shell = True)\ntime.sleep(2)\nsubprocess.Popen('pkill omxiv &gt;/dev/null 2&gt;&amp;1',shell = True)\ntime.sleep(2)\n\nfb[y0:y0+h, x0:x0+w] = n\n</code></pre>\n"}, {"tags": ["python", "vector", "doc2vec"], "comments": [{"owner": {"reputation": 639, "user_id": 2760299, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0f27006ff2e90ef9d48af933bb0e019?s=128&d=identicon&r=PG&f=1", "display_name": "topher217", "link": "https://stackoverflow.com/users/2760299/topher217"}, "edited": false, "score": 0, "creation_date": 1574298205, "post_id": 58964243, "comment_id": 104186374, "body": "Can you share your <code>mymodel.doc2vec</code> or something we can test with?"}, {"owner": {"reputation": 639, "user_id": 2760299, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0f27006ff2e90ef9d48af933bb0e019?s=128&d=identicon&r=PG&f=1", "display_name": "topher217", "link": "https://stackoverflow.com/users/2760299/topher217"}, "edited": false, "score": 0, "creation_date": 1574298547, "post_id": 58964243, "comment_id": 104186451, "body": "Reading through the <a href=\"https://radimrehurek.com/gensim/models/doc2vec.html#usage-examples\" rel=\"nofollow noreferrer\">docs</a> it looks like it may be of the form <code>model.docvecs[&#39;doc003&#39;] = new_vector</code> but I&#39;d have to see some example mymodel.doc2vec to see the object structure."}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 12406796, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Ewbhbp_BAd0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rd3oJEdwE-4Z8j_I3xt3sz6JWLVPQ/photo.jpg?sz=128", "display_name": "Luis Cioffi", "link": "https://stackoverflow.com/users/12406796/luis-cioffi"}, "edited": false, "score": 0, "creation_date": 1574339917, "post_id": 58966486, "comment_id": 104203509, "body": "Thanks a lot for your advice , but it still doesn&#39;t work. In fact , even when i try something else  like model.docvecs[&#39;88763&#39;] = model.docvecs[&#39;88763&#39;]*2  vector replacement does not happen at all"}, {"owner": {"reputation": 39521, "user_id": 130288, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/ab7ddf1907847478bc7ad808cd176305?s=128&d=identicon&r=PG", "display_name": "gojomo", "link": "https://stackoverflow.com/users/130288/gojomo"}, "reply_to_user": {"reputation": 11, "user_id": 12406796, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Ewbhbp_BAd0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rd3oJEdwE-4Z8j_I3xt3sz6JWLVPQ/photo.jpg?sz=128", "display_name": "Luis Cioffi", "link": "https://stackoverflow.com/users/12406796/luis-cioffi"}, "edited": false, "score": 0, "creation_date": 1574355498, "post_id": 58966486, "comment_id": 104213077, "body": "Aha, looking closer, I see that these approaches that should work (assignment to <code>[\u2026]</code>-access or <code>add(\u2026, replace=True)</code>) haven&#39;t ben properly implemented for the <code>.docvecs</code> object (at least through the latest <code>gensim</code> release as of November 2019, <code>gensim-3.8.1</code>). I&#39;ve filed a bug report \u2013  <a href=\"https://github.com/RaRe-Technologies/gensim/issues/2683\" rel=\"nofollow noreferrer\">github.com/RaRe-Technologies/gensim/issues/2683</a> \u2013 and will update my answer shortly with a workaround until that&#39;s fixed."}, {"owner": {"reputation": 11, "user_id": 12406796, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Ewbhbp_BAd0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rd3oJEdwE-4Z8j_I3xt3sz6JWLVPQ/photo.jpg?sz=128", "display_name": "Luis Cioffi", "link": "https://stackoverflow.com/users/12406796/luis-cioffi"}, "edited": false, "score": 0, "creation_date": 1575826969, "post_id": 58966486, "comment_id": 104687615, "body": "Thanks for your help , i see you did not receive any answer on GH as now. Do you think i can manage another way to modify an existing vector ? This would be very helpful for my purposes"}, {"owner": {"reputation": 39521, "user_id": 130288, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/ab7ddf1907847478bc7ad808cd176305?s=128&d=identicon&r=PG", "display_name": "gojomo", "link": "https://stackoverflow.com/users/130288/gojomo"}, "reply_to_user": {"reputation": 11, "user_id": 12406796, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Ewbhbp_BAd0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rd3oJEdwE-4Z8j_I3xt3sz6JWLVPQ/photo.jpg?sz=128", "display_name": "Luis Cioffi", "link": "https://stackoverflow.com/users/12406796/luis-cioffi"}, "edited": false, "score": 0, "creation_date": 1575828211, "post_id": 58966486, "comment_id": 104688018, "body": "What&#39;s wrong with the code suggestion in my &#39;*Update*`, using that 2-step process? It should work currently."}, {"owner": {"reputation": 11, "user_id": 12406796, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Ewbhbp_BAd0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rd3oJEdwE-4Z8j_I3xt3sz6JWLVPQ/photo.jpg?sz=128", "display_name": "Luis Cioffi", "link": "https://stackoverflow.com/users/12406796/luis-cioffi"}, "edited": false, "score": 0, "creation_date": 1575843365, "post_id": 58966486, "comment_id": 104692108, "body": "really sorry i didn&#39;t read the update ,  however im&#39;getting  this error : &quot;int_index() missing 2 required positional arguments: &#39;doctags&#39; and &#39;max_rawint&#39;&quot; --&gt; maybe   i must set these arguments in some way?"}, {"owner": {"reputation": 39521, "user_id": 130288, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/ab7ddf1907847478bc7ad808cd176305?s=128&d=identicon&r=PG", "display_name": "gojomo", "link": "https://stackoverflow.com/users/130288/gojomo"}, "reply_to_user": {"reputation": 11, "user_id": 12406796, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Ewbhbp_BAd0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rd3oJEdwE-4Z8j_I3xt3sz6JWLVPQ/photo.jpg?sz=128", "display_name": "Luis Cioffi", "link": "https://stackoverflow.com/users/12406796/luis-cioffi"}, "edited": false, "score": 0, "creation_date": 1575856177, "post_id": 58966486, "comment_id": 104694393, "body": "Sorry, yes, some disastrously broken changes modified this utility method to inexplicably require extra passed-in arguments (that are always already in the object). I&#39;ll update my answer with what&#39;s necessary in current gensim-3.8.1, but this should get a lot better in the future."}], "tags": [], "owner": {"reputation": 39521, "user_id": 130288, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/ab7ddf1907847478bc7ad808cd176305?s=128&d=identicon&r=PG", "display_name": "gojomo", "link": "https://stackoverflow.com/users/130288/gojomo"}, "is_accepted": false, "score": 1, "last_activity_date": 1575874295, "last_edit_date": 1575874295, "creation_date": 1574304275, "answer_id": 58966486, "question_id": 58964243, "link": "https://stackoverflow.com/questions/58964243/doc2vec-how-can-i-manually-modify-a-trained-vector-in-a-doc2vec-gensim-model/58966486#58966486", "title": "Doc2vec: How can I manually modify a trained vector in a Doc2Vec gensim model?", "body": "<p>Don't load a <code>Doc2Vec</code> model with `Word2Vec'. So load it instead with:</p>\n\n<pre><code>model = gensim.models.Doc2Vec.load('mymodel.doc2vec')\n</code></pre>\n\n<p>Once loaded, you should be able to modify any existing entry via direct assignment to a bracket-accessed entry, eg:</p>\n\n<pre><code>model.docvecs['88763'] = new_vector\n</code></pre>\n\n<p>(You would chiefly use <code>add()</code> to add vectors for keys that aren't already there. But it might also work to replace existing vectors in a batch if you supply the non-default <code>replace=True</code> parameter in addition to the list-of-entities and list-of-vectors.) </p>\n\n<p><strong>Update:</strong> The above is supposed to work, but there's a <a href=\"https://github.com/RaRe-Technologies/gensim/issues/2683\" rel=\"nofollow noreferrer\">pending bug</a> at the moment (November 2019, <code>gensim-3.8.1</code>) where it won't. </p>\n\n<p>In the meantime, to modify one specific existing vector, you can act on the raw <code>vectors_docs</code> property, and look up the index-position to change yourself. For example:</p>\n\n<pre><code>slot = model.docvecs.int_index('88763', \n                               model.docvecs.doctags,\n                               model.docvecs.max_rawint)\nmodel.docvecs.vectors_docs[slot] = new_vector\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 12406796, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Ewbhbp_BAd0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rd3oJEdwE-4Z8j_I3xt3sz6JWLVPQ/photo.jpg?sz=128", "display_name": "Luis Cioffi", "link": "https://stackoverflow.com/users/12406796/luis-cioffi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 174, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1575874438, "creation_date": 1574288256, "last_edit_date": 1575874438, "question_id": 58964243, "link": "https://stackoverflow.com/questions/58964243/doc2vec-how-can-i-manually-modify-a-trained-vector-in-a-doc2vec-gensim-model", "title": "Doc2vec: How can I manually modify a trained vector in a Doc2Vec gensim model?", "body": "<p>I would like to <strong>replace a specific Doc2Vec vector</strong> created by a Doc2vec model with another one, with different weights. </p>\n\n<p>These are the weights of existing vector (just some of the 800 real weights):</p>\n\n<pre><code>array([ 1.72976881e-01,  2.44364753e-01, -9.90936995e-01, -1.03020036e+00,\n       -1.41046381e+00,  1.00970473e-02, -1.84546992e-01,  3.77230316e-01,\n        9.20825064e-01, -2.61079431e-01,  7.51454890e-01, -1.15353882e+00,\n       -9.96422302e-03,  1.65010715e+00,  5.63869551e-02, -4.25169647e-01],\n      dtype=float32)\n</code></pre>\n\n<p>I'd like to replace them with these ones:</p>\n\n<pre><code>array([ 1.54585496e-01,  2.22857013e-01, -8.88102770e-01, -9.27794874e-01,\n       -1.27402091e+00, -5.38651831e-04, -1.63646400e-01,  3.38727772e-01,\n        8.28402698e-01, -2.29774594e-01,  6.77914560e-01, -1.04013634e+00,\n       -1.37407500e-02,  1.48667252e+00,  5.83136305e-02, -3.88587236e-01]\n      dtype=float32)\n</code></pre>\n\n<p>I tried to add a new vector to my model with this code:</p>\n\n<pre><code>model = gensim.models.Word2Vec.load('mymodel.doc2vec')\nmodel.docvecs.add(entities=[\"88763\"], weights=[new_vector])\n</code></pre>\n\n<p>I'm not getting any error, still when I call back that \"88763\" vector I see that it hasn't been updated: </p>\n\n<pre><code>model.docvecs[\"88763\"]\n\narray([ 1.72976881e-01,  2.44364753e-01, -9.90936995e-01, -1.03020036e+00,\n       -1.41046381e+00,  1.00970473e-02, -1.84546992e-01,  3.77230316e-01,\n        9.20825064e-01, -2.61079431e-01,  7.51454890e-01, -1.15353882e+00,\n       -9.96422302e-03,  1.65010715e+00,  5.63869551e-02, -4.25169647e-01],\n      dtype=float32)\n</code></pre>\n\n<p>Could someone please help me in some way? </p>\n\n<p>Thanks.</p>\n"}, {"tags": ["python", "pygame"], "answers": [{"tags": [], "owner": {"reputation": 138010, "user_id": 5577765, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LoGpC.jpg?s=128&g=1", "display_name": "Rabbid76", "link": "https://stackoverflow.com/users/5577765/rabbid76"}, "is_accepted": false, "score": 3, "last_activity_date": 1574288509, "creation_date": 1574288509, "answer_id": 58964292, "question_id": 58964238, "link": "https://stackoverflow.com/questions/58964238/surface-color-only-changes-after-window-is-closed-in-pygame/58964292#58964292", "title": "Surface color only changes after window is closed in Pygame", "body": "<p>It's an issue of <a href=\"https://docs.python.org/3/reference/lexical_analysis.html\" rel=\"nofollow noreferrer\">Indentation</a>.<br>\n<code>screen.fill(blue)</code> and <code>screen.fill(blue)</code> have to be done in the application loop:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>running=True\nwhile running:\n    for event in pygame.event.get():\n        if event.type == pygame.QUIT:\n            running=False\n\n    screen.fill(blue)\n    pygame.display.update()\n\npygame.quit()\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 12406795, "user_type": "registered", "profile_image": "https://graph.facebook.com/2476620822591942/picture?type=large", "display_name": "Alvin Woodly", "link": "https://stackoverflow.com/users/12406795/alvin-woodly"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1574288845, "creation_date": 1574288234, "last_edit_date": 1574288845, "question_id": 58964238, "link": "https://stackoverflow.com/questions/58964238/surface-color-only-changes-after-window-is-closed-in-pygame", "title": "Surface color only changes after window is closed in Pygame", "body": "<p>I\u2019m new to Pygame and have watched a tutorial on a few games. The problem I\u2019m having is that the surface color doesn\u2019t change unless I close the window. I\u2019ve seen many people put their fill underneath in the game loop and the background color immediately changes, but in my case it remains black until I hit the close button. It then changes color and exits.</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>import pygame\npygame.init()\nblue=(0,0,255)\nscreen=pygame.display.set_mode((500,500))\npygame.display.set_caption('virus')\nicon= pygame.image.load('virus-face.png')\npygame.display.set_icon(icon)\n\nrunning=True\nwhile running:\n    for event in pygame.event.get():\n        if event.type == pygame.QUIT:\n            running=False\nscreen.fill(blue)\n\npygame.display.update()\npygame.quit()\n</code></pre>\n"}, {"tags": ["python", "sqlalchemy"], "comments": [{"owner": {"reputation": 381, "user_id": 9078613, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/28a08871ca7f2846b67f78cbb2275b61?s=128&d=identicon&r=PG&f=1", "display_name": "paul41", "link": "https://stackoverflow.com/users/9078613/paul41"}, "edited": false, "score": 0, "creation_date": 1574300233, "post_id": 58964220, "comment_id": 104186831, "body": "I am able to access the value with <code>user.user_role.role</code>. I don&#39;t need all of the user_role data for this join so I wish I could only return the role value and not the whole object. At least I have it working now."}, {"owner": {"reputation": 40001, "user_id": 2681632, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YnXs3.png?s=128&g=1", "display_name": "Ilja Everil&#228;", "link": "https://stackoverflow.com/users/2681632/ilja-everil%c3%a4"}, "edited": false, "score": 1, "creation_date": 1574319666, "post_id": 58964220, "comment_id": 104192070, "body": "You can do just that, either using joined eager loading, or by just querying for <code>User, UserRole.role</code>. See for example <a href=\"https://stackoverflow.com/questions/39552809/sqlalchemy-load-only-on-parent-model\" title=\"sqlalchemy load only on parent model\">stackoverflow.com/questions/39552809/&hellip;</a> for how to use <code>load_only</code>."}, {"owner": {"reputation": 381, "user_id": 9078613, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/28a08871ca7f2846b67f78cbb2275b61?s=128&d=identicon&r=PG&f=1", "display_name": "paul41", "link": "https://stackoverflow.com/users/9078613/paul41"}, "reply_to_user": {"reputation": 40001, "user_id": 2681632, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YnXs3.png?s=128&g=1", "display_name": "Ilja Everil&#228;", "link": "https://stackoverflow.com/users/2681632/ilja-everil%c3%a4"}, "edited": false, "score": 0, "creation_date": 1574344524, "post_id": 58964220, "comment_id": 104206254, "body": "Thanks, this did it"}], "owner": {"reputation": 381, "user_id": 9078613, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/28a08871ca7f2846b67f78cbb2275b61?s=128&d=identicon&r=PG&f=1", "display_name": "paul41", "link": "https://stackoverflow.com/users/9078613/paul41"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 173, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1574295247, "creation_date": 1574288128, "last_edit_date": 1574295247, "question_id": 58964220, "link": "https://stackoverflow.com/questions/58964220/sqlalchemy-joinedload-returning-null-for-join", "title": "SQLAlchemy joinedload returning null for join", "body": "<p>I am trying to use joinedload in SQLAlchemy to join tables but the child table is always returning null.</p>\n\n<p>The first table is:</p>\n\n<pre><code>class User(SqlAlchemyBase):\n    __tablename__ = 'users'\n\n    id: str = sa.Column(sa.Integer, primary_key=True, autoincrement=True)\n    created_date: datetime = sa.Column(sa.DateTime, default=datetime.now, index=True)\n    last_modified: datetime = sa.Column(sa.DateTime, default=datetime.now, index=True)\n    first_name: str = sa.Column(sa.String, nullable=False)\n    last_name: str = sa.Column(sa.String, nullable=False)\n    email: str = sa.Column(sa.String, index=True, unique=True, nullable=False)\n    hashed_password: str = sa.Column(sa.String, index=True, nullable=False)\n    user_role_id: int = sa.Column(sa.Integer, sa.ForeignKey('user_roles.id'), nullable=False)\n    user_role = orm.relation('UserRole', back_populates='users')\n    last_login: datetime = sa.Column(sa.DateTime, default=datetime.now)\n</code></pre>\n\n<p>And the second table is:</p>\n\n<pre><code>class UserRole(SqlAlchemyBase):\n    __tablename__ = 'user_roles'\n\n    id: str = sa.Column(sa.Integer, primary_key=True, autoincrement=True)\n    created_date: datetime = sa.Column(sa.DateTime, default=datetime.now, index=True)\n    last_modified: datetime = sa.Column(sa.DateTime, default=datetime.now, index=True)\n    role: str = sa.Column(sa.String, nullable=False, unique=True, index=True)\n    users: List[User] = (orm.relation('User', back_populates='user_role'))\n</code></pre>\n\n<p>Then the query is:</p>\n\n<pre><code>user = session.query(User).options(joinedload(User.user_role)).filter(User.id == id).first()\n</code></pre>\n\n<p>When the query is run the information for the user is returned, but role is null. I have also tried removing the filter and returning all records, but null is still returned for all of the roles. My guess is there is something wrong with the way I have my relations set, but I don't know what to change to make it work. When I manually write a SQL query in the database I get records with the tables joined and the role populated so I know a join should return a role.</p>\n\n<p>Update:\nI have found that the join is returning a UserRole object instead of the role value itself. So now I am trying to figure out how to get the value instead of the object.</p>\n"}, {"tags": ["python", "web", "screen-scraping"], "comments": [{"owner": {"reputation": 9023, "user_id": 7658985, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/FmSLm.jpg?s=128&g=1", "display_name": "\u03b1\u050b\u0271\u04bd\u0503 \u03b1\u043c\u0454\u044f\u03b9c\u03b1\u03b7", "link": "https://stackoverflow.com/users/7658985/%ce%b1%d4%8b%c9%b1%d2%bd%d4%83-%ce%b1%d0%bc%d1%94%d1%8f%ce%b9c%ce%b1%ce%b7"}, "edited": false, "score": 0, "creation_date": 1574290472, "post_id": 58964150, "comment_id": 104184309, "body": "you will facing an trouble with that site since it&#39;s using <code>XHR</code> which load <code>JS</code> after load the page. am working for solution right now."}], "answers": [{"tags": [], "owner": {"reputation": 132, "user_id": 2125510, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a15d7117e10796efed4f6f7728b9a82f?s=128&d=identicon&r=PG", "display_name": "Octopuscabbage", "link": "https://stackoverflow.com/users/2125510/octopuscabbage"}, "is_accepted": true, "score": 1, "last_activity_date": 1574288030, "creation_date": 1574288030, "answer_id": 58964199, "question_id": 58964150, "link": "https://stackoverflow.com/questions/58964150/python-scraping-in-virustotal-com/58964199#58964199", "title": "Python scraping in virustotal.com", "body": "<p>You'll need to use something like <a href=\"https://selenium-python.readthedocs.io/\" rel=\"nofollow noreferrer\">Selenium </a> which actually renders the webpage and not an html parser like beautifulsoup.</p>\n"}], "owner": {"reputation": 25, "user_id": 12406784, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QpLKf.png?s=128&g=1", "display_name": "eally-root", "link": "https://stackoverflow.com/users/12406784/eally-root"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 355, "favorite_count": 0, "accepted_answer_id": 58964199, "answer_count": 1, "score": 0, "last_activity_date": 1574288030, "creation_date": 1574287798, "question_id": 58964150, "link": "https://stackoverflow.com/questions/58964150/python-scraping-in-virustotal-com", "title": "Python scraping in virustotal.com", "body": "<p>I want to get malware hashes from <a href=\"https://www.virustotal.com/gui/user/thor/comments\" rel=\"nofollow noreferrer\">https://www.virustotal.com/gui/user/thor/comments</a> this comments and save to text file or database.After that in every 5 minutes refreshes itself and automatically adds new hashes to text file or database.\ni tried it with beautifulsoup and request libs but this comments don't have tag(a, div etc.) and class because comment section works on javascript.</p>\n\n<p>How can i scrape this hashes from comments?</p>\n\n<p>Thanks for helping.</p>\n"}, {"tags": ["python", "web-scraping", "request", "ascii", "urllib"], "answers": [{"comments": [{"owner": {"reputation": 964, "user_id": 11723707, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-EZcsrbuPOic/AAAAAAAAAAI/AAAAAAAACak/g4jjIgJ6bRI/photo.jpg?sz=128", "display_name": "Caspian Ahlberg", "link": "https://stackoverflow.com/users/11723707/caspian-ahlberg"}, "edited": false, "score": 0, "creation_date": 1574293929, "post_id": 58964747, "comment_id": 104185372, "body": "This almost worked for me, but I am getting this error:            Traceback (most recent call last):   File &quot;artist.py&quot;, line 84, in &lt;module&gt;     art_link = &#39;<a href=\"https://www.ascii-art-generator.org\" rel=\"nofollow noreferrer\">ascii-art-generator.org</a>&#39; + check_soup.find(&#39;a&#39;, text=&#39;banner.txt&#39;)[&#39;href&#39;] TypeError: &#39;NoneType&#39; object is not subscriptable                 I am not sure why. Could you please explain why it is doing this? Sorry, I don&#39;t understand. Thanks!"}, {"owner": {"reputation": 966, "user_id": 11596424, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JIFWH.jpg?s=128&g=1", "display_name": "LuckyZakary", "link": "https://stackoverflow.com/users/11596424/luckyzakary"}, "reply_to_user": {"reputation": 964, "user_id": 11723707, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-EZcsrbuPOic/AAAAAAAAAAI/AAAAAAAACak/g4jjIgJ6bRI/photo.jpg?sz=128", "display_name": "Caspian Ahlberg", "link": "https://stackoverflow.com/users/11723707/caspian-ahlberg"}, "edited": false, "score": 0, "creation_date": 1574296316, "post_id": 58964747, "comment_id": 104185936, "body": "The server could have been overloaded if you only tried it once. Did you change anything at all from the script? If no, try removing the <code>, text=&#39;banner.txt&#39;</code>"}, {"owner": {"reputation": 964, "user_id": 11723707, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-EZcsrbuPOic/AAAAAAAAAAI/AAAAAAAACak/g4jjIgJ6bRI/photo.jpg?sz=128", "display_name": "Caspian Ahlberg", "link": "https://stackoverflow.com/users/11723707/caspian-ahlberg"}, "edited": false, "score": 0, "creation_date": 1574299181, "post_id": 58964747, "comment_id": 104186598, "body": "I modified the script - and combined it with the original. I&#39;ll test it right now!"}, {"owner": {"reputation": 966, "user_id": 11596424, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JIFWH.jpg?s=128&g=1", "display_name": "LuckyZakary", "link": "https://stackoverflow.com/users/11596424/luckyzakary"}, "reply_to_user": {"reputation": 964, "user_id": 11723707, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-EZcsrbuPOic/AAAAAAAAAAI/AAAAAAAACak/g4jjIgJ6bRI/photo.jpg?sz=128", "display_name": "Caspian Ahlberg", "link": "https://stackoverflow.com/users/11723707/caspian-ahlberg"}, "edited": false, "score": 0, "creation_date": 1574306216, "post_id": 58964747, "comment_id": 104188231, "body": "Can you print the variable check after the while loop and send the html in a pastebin? It works for me so I have no idea what\u2019s going on unless I see the html that is failing."}, {"owner": {"reputation": 964, "user_id": 11723707, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-EZcsrbuPOic/AAAAAAAAAAI/AAAAAAAACak/g4jjIgJ6bRI/photo.jpg?sz=128", "display_name": "Caspian Ahlberg", "link": "https://stackoverflow.com/users/11723707/caspian-ahlberg"}, "edited": false, "score": 0, "creation_date": 1574306831, "post_id": 58964747, "comment_id": 104188374, "body": "Ok - I will include one. When it is just your code, it works - however, there are two areas on which it fails. When I change the color from &quot;mono&quot; to &quot;color&quot; it fails, and what has happened is that with different image URLs, it does not work. Here is the pastebin: <a href=\"https://pastebin.com/wjaHwfyg\" rel=\"nofollow noreferrer\">pastebin.com/wjaHwfyg</a>    Thank you for all of the help, I really appreciate it!"}, {"owner": {"reputation": 964, "user_id": 11723707, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-EZcsrbuPOic/AAAAAAAAAAI/AAAAAAAACak/g4jjIgJ6bRI/photo.jpg?sz=128", "display_name": "Caspian Ahlberg", "link": "https://stackoverflow.com/users/11723707/caspian-ahlberg"}, "edited": false, "score": 0, "creation_date": 1574306908, "post_id": 58964747, "comment_id": 104188390, "body": "Here is the error message:                    checked checked checked checked checked checked checked checked checked checked checked checked checked checked Traceback (most recent call last):   File &quot;/Users/**************/Desktop/Programming/Python Files/Artist/artist_test.py&quot;, line 44, in &lt;module&gt;     art_link = &#39;<a href=\"https://www.ascii-art-generator.org\" rel=\"nofollow noreferrer\">ascii-art-generator.org</a>&#39; + check_soup.find(&#39;a&#39;, text=&#39;banner.txt&#39;)[&#39;href&#39;] TypeError: &#39;NoneType&#39; object is not subscriptable [Finished in 47.8s with exit code 1]"}, {"owner": {"reputation": 966, "user_id": 11596424, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JIFWH.jpg?s=128&g=1", "display_name": "LuckyZakary", "link": "https://stackoverflow.com/users/11596424/luckyzakary"}, "reply_to_user": {"reputation": 964, "user_id": 11723707, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-EZcsrbuPOic/AAAAAAAAAAI/AAAAAAAACak/g4jjIgJ6bRI/photo.jpg?sz=128", "display_name": "Caspian Ahlberg", "link": "https://stackoverflow.com/users/11723707/caspian-ahlberg"}, "edited": false, "score": 0, "creation_date": 1574337207, "post_id": 58964747, "comment_id": 104201932, "body": "On the website when color is selected, there seems to be another option for output. Which option do you want selected?"}, {"owner": {"reputation": 964, "user_id": 11723707, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-EZcsrbuPOic/AAAAAAAAAAI/AAAAAAAACak/g4jjIgJ6bRI/photo.jpg?sz=128", "display_name": "Caspian Ahlberg", "link": "https://stackoverflow.com/users/11723707/caspian-ahlberg"}, "reply_to_user": {"reputation": 966, "user_id": 11596424, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JIFWH.jpg?s=128&g=1", "display_name": "LuckyZakary", "link": "https://stackoverflow.com/users/11596424/luckyzakary"}, "edited": false, "score": 0, "creation_date": 1574341866, "post_id": 58964747, "comment_id": 104204587, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/202800/discussion-between-caspian-ahlberg-and-luckyzakary\">continue this discussion in chat</a>."}, {"owner": {"reputation": 964, "user_id": 11723707, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-EZcsrbuPOic/AAAAAAAAAAI/AAAAAAAACak/g4jjIgJ6bRI/photo.jpg?sz=128", "display_name": "Caspian Ahlberg", "link": "https://stackoverflow.com/users/11723707/caspian-ahlberg"}, "edited": false, "score": 0, "creation_date": 1574341866, "post_id": 58964747, "comment_id": 104204586, "body": "400 width would be awesome, but it would be even better if the user could choose!"}], "tags": [], "owner": {"reputation": 966, "user_id": 11596424, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JIFWH.jpg?s=128&g=1", "display_name": "LuckyZakary", "link": "https://stackoverflow.com/users/11596424/luckyzakary"}, "is_accepted": false, "score": 1, "last_activity_date": 1574291320, "last_edit_date": 1574291320, "creation_date": 1574290890, "answer_id": 58964747, "question_id": 58964147, "link": "https://stackoverflow.com/questions/58964147/how-would-i-input-data-to-a-website-text-box-and-then-write-that-data-to-a-text/58964747#58964747", "title": "How would I input data to a website text box, and then write that data to a text file?", "body": "<p>You are sending a making the right request, but with the wrong parameters and that post request leads you to another page, not the direct art. Even after you get to this page, it still takes a while for the art to load. The website is sending a request to check if the art is ready (which can be seen in Dev Tools). This process can be replicated in python easily, since the name of the image sent is stored on the website. You need beautifulsoup for this to work (<code>pip install bs4</code>)</p>\n\n<h1>Code</h1>\n\n<pre class=\"lang-py prettyprint-override\"><code>import requests, re, time\nfrom bs4 import BeautifulSoup\n\nascii_generator = \"https://www.ascii-art-generator.org/\"\nimage_link = 'https://i.guim.co.uk/img/media/2589fa711843a42405ae233b71f85ead362f6659/0_103_2160_1296/master/2160.jpg?width=300&amp;quality=85&amp;auto=format&amp;fit=max&amp;s=a52d11a9ace574f1927043f8f66a6032'\n\nwebsite_data = {\n    'art_type': 'mono',\n    'userfile': '(binary)',\n    'userfile_url': image_link,\n    'banner_text': '',\n    'outFormat_caca': 'html',\n    'figlet_font': 0,\n    'width': 300,\n    'banner_width': 100,\n    'user_screen_width': 980,\n}\n\nr = requests.post(ascii_generator, data=website_data)\nsoup = BeautifulSoup(r.text, 'html.parser')\nscript = [script.text for script in soup.find_all('script') if 'var url' in script.text][0]\n\nname = re.search(r\"name=(\\w*)\", script).group(1)\nnow = int(time.time())\n\ncheck_url = 'https://www.ascii-art-generator.org/FW/result.php'\nparams = {\n    'name': name,\n    'tscachebusttamp': now\n}\ncheck = '__wait__123'\nwhile check == '__wait__123':\n    check = requests.get(check_url, params=params).text\n    time.sleep(3)\n    print('checked')\n\ncheck_soup = BeautifulSoup(check, 'html.parser')\nart_link = 'https://www.ascii-art-generator.org' + check_soup.find('a', text='banner.txt')['href']\nart = requests.get(art_link)\nwith open('art.txt', 'wb') as code:\n    code.write(art.content)\n    print('\\nArt saved!')\n</code></pre>\n"}], "owner": {"reputation": 964, "user_id": 11723707, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-EZcsrbuPOic/AAAAAAAAAAI/AAAAAAAACak/g4jjIgJ6bRI/photo.jpg?sz=128", "display_name": "Caspian Ahlberg", "link": "https://stackoverflow.com/users/11723707/caspian-ahlberg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1574291320, "creation_date": 1574287791, "question_id": 58964147, "link": "https://stackoverflow.com/questions/58964147/how-would-i-input-data-to-a-website-text-box-and-then-write-that-data-to-a-text", "title": "How would I input data to a website text box, and then write that data to a text file?", "body": "<p>I am writing a program that prints out ASCII art, based on a word that the user inputs. This word gets translated into an image link, and at this point, I am trying to send this link to <a href=\"https://www.ascii-art-generator.org/\" rel=\"nofollow noreferrer\">https://www.ascii-art-generator.org/</a>. This is not working. From here, I am trying to read the ASCII art generated, and then put it in a text file which I can print out. This is not working either. I am having trouble sending the link to the website and then retrieving that data. How would I achieve this with <a href=\"https://www.ascii-art-generator.org/\" rel=\"nofollow noreferrer\">https://www.ascii-art-generator.org/</a>?</p>\n\n<pre><code>import urllib\nimport requests\nfrom googlesearch import search\nimport os\nimport sys\nimport time\n\nos.system([\"clear\", \"cls\"][os.name == \"nt\"])\n\nimage = input(\"What do you want me to draw?\\n\\x1b[5m-\\x1b[25m \")\n\nquery = image + \" images\"\n\nprint(\"\\n\\x1b[5mDrawing...\\x1b[25m \", end=\"\")\n\nfor image_link in search(query, tld=\"co.in\", num=10, stop=1, pause=2): \n    print(image_link)\n\nascii_generator = \"https://www.ascii-art-generator.org/\"\n\nwebsite_data = {\"name\" : image_link, \n\"type\" : \"text\",\n\"id\" : \"fileupfield-url\",\n\"class\" : \"width-input ff-inputfield\"}\n\nr = requests.post(ascii_generator, data = website_data)\n\nwith open(\"art.txt\", \"wb\") as code:\n    code.write(r.content)\n</code></pre>\n"}, {"tags": ["python", "docker", "tkinter"], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 12405029, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ddd6368db53f90594242b38ca1ba91e4?s=128&d=identicon&r=PG&f=1", "display_name": "Alex Shukhman", "link": "https://stackoverflow.com/users/12405029/alex-shukhman"}, "is_accepted": false, "score": 0, "last_activity_date": 1574292796, "creation_date": 1574292796, "answer_id": 58965015, "question_id": 58964132, "link": "https://stackoverflow.com/questions/58964132/how-to-show-python-tkinter-gui-on-local-display-from-docker/58965015#58965015", "title": "How to show Python Tkinter GUI on local display from Docker", "body": "<p>You would need access the display which is a huge pain. <a href=\"https://medium.com/dot-debug/running-chrome-in-a-docker-container-a55e7f4da4a8\" rel=\"nofollow noreferrer\">This</a> is how they do it when running Chrome on a container.</p>\n"}], "owner": {"reputation": 1, "user_id": 12406812, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-viddhi7DIQU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcXblmdiP1KO0kfAFB_p33aMM-6rQ/photo.jpg?sz=128", "display_name": "Kristjan Belinger", "link": "https://stackoverflow.com/users/12406812/kristjan-belinger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 201, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1574368445, "creation_date": 1574287694, "last_edit_date": 1574368445, "question_id": 58964132, "link": "https://stackoverflow.com/questions/58964132/how-to-show-python-tkinter-gui-on-local-display-from-docker", "title": "How to show Python Tkinter GUI on local display from Docker", "body": "<p>I would ask for help with the Python GUI (Tkinter) on Docker Container that I would like to display on the local display.</p>\n\n<p>Could anyone describe me the step by step procedure:</p>\n\n<ul>\n<li>creating a docker containerhow the docker gui could then be displayed on the local display</li>\n<li>Dockefile</li>\n<li>i use windows 10 on local pc</li>\n<li>Tkinter script:</li>\n</ul>\n\n<pre><code>from tkinter import *\nglavno_okno = Tk()\nglavno_okno.title(\"Some Text\")\nglavno_okno.state('normal')\n</code></pre>\n\n<p>Tnx for help...</p>\n"}, {"tags": ["python", "pandas", "machine-learning", "statistics", "recommender-systems"], "comments": [{"owner": {"reputation": 94, "user_id": 11483132, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-gbjAPwrYt54/AAAAAAAAAAI/AAAAAAAAABI/Q4Xs2SluGKA/photo.jpg?sz=128", "display_name": "Eli", "link": "https://stackoverflow.com/users/11483132/eli"}, "edited": false, "score": 1, "creation_date": 1574287939, "post_id": 58964096, "comment_id": 104183439, "body": "What is the final output that you are looking for?"}, {"owner": {"reputation": 43491, "user_id": 4001592, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HWyjo.jpg?s=128&g=1", "display_name": "Dani Mesejo", "link": "https://stackoverflow.com/users/4001592/dani-mesejo"}, "edited": false, "score": 0, "creation_date": 1574288365, "post_id": 58964096, "comment_id": 104183583, "body": "Add expected output"}], "answers": [{"tags": [], "owner": {"reputation": 3508, "user_id": 4185364, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rXgyb.png?s=128&g=1", "display_name": "milos.ai", "link": "https://stackoverflow.com/users/4185364/milos-ai"}, "is_accepted": false, "score": 0, "last_activity_date": 1574288816, "creation_date": 1574288816, "answer_id": 58964354, "question_id": 58964096, "link": "https://stackoverflow.com/questions/58964096/creating-a-pivot-table-and-finding-correlations-between-books-with-multiple-genr/58964354#58964354", "title": "Creating a pivot table and finding correlations between books with multiple genres", "body": "<p>Maybe this can help:</p>\n\n<pre><code>df.pivot(index='original_title',columns='tag_name',values='tag_id')\n</code></pre>\n"}], "owner": {"reputation": 59, "user_id": 10155803, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-c5wQZJEvpQk/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7q3UKVnfmr6UV-5Zzaadf4OvMfcIQ/mo/photo.jpg?sz=128", "display_name": "Sid Jones", "link": "https://stackoverflow.com/users/10155803/sid-jones"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 96, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1574288816, "creation_date": 1574287541, "last_edit_date": 1574287784, "question_id": 58964096, "link": "https://stackoverflow.com/questions/58964096/creating-a-pivot-table-and-finding-correlations-between-books-with-multiple-genr", "title": "Creating a pivot table and finding correlations between books with multiple genres", "body": "<p>I have a table that is like</p>\n\n<pre><code>book_id original_title  tag_id  tag_name\n1     The Hunger Games  11305   fantasy\n1     The Hunger Games  26771   scifi\n1     The Hunger Games  26138   romance\n10000       The First World War 14467   historical\n10000       The First World War 21689   nonfiction\n</code></pre>\n\n<p>and I want to create a pivot table, to then find books that correlate with each other according to genre. I have already done this using just ratings, but this was relatively simple as each book would have just one rating. Since there are multiple genres for each book, is there a good method of creating this pivot table?</p>\n\n<p>This is with the ultimate purpose of creating a simple recommender system. </p>\n"}, {"tags": ["python", "numpy", "typeerror", "jit", "numba"], "comments": [{"owner": {"reputation": 423, "user_id": 9283284, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IC7nh.jpg?s=128&g=1", "display_name": "Snusifer", "link": "https://stackoverflow.com/users/9283284/snusifer"}, "edited": false, "score": 1, "creation_date": 1574287923, "post_id": 58964025, "comment_id": 104183433, "body": "Numba can only handle types that are supported by numba. What is the type of members in cx?"}, {"owner": {"reputation": 73, "user_id": 8508596, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5910782014153ce7b46f87f580ddcefa?s=128&d=identicon&r=PG", "display_name": "morrismc", "link": "https://stackoverflow.com/users/8508596/morrismc"}, "reply_to_user": {"reputation": 423, "user_id": 9283284, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IC7nh.jpg?s=128&g=1", "display_name": "Snusifer", "link": "https://stackoverflow.com/users/9283284/snusifer"}, "edited": false, "score": 0, "creation_date": 1574288985, "post_id": 58964025, "comment_id": 104183796, "body": "cx, cy, and cz are float32 <code>np.ndarray</code>"}, {"owner": {"reputation": 5208, "user_id": 4045774, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c23c0c730b6a9cb71d1ce17838f2beb7?s=128&d=identicon&r=PG&f=1", "display_name": "max9111", "link": "https://stackoverflow.com/users/4045774/max9111"}, "edited": false, "score": 1, "creation_date": 1574341628, "post_id": 58964025, "comment_id": 104204437, "body": "I have already corrected this weird slicing in the answer before. If cx is a 2d array you can replace the first four lines in the inner loop with <code>tx = cx[i-w:i+w,j-w:j+w]</code>."}, {"owner": {"reputation": 73, "user_id": 8508596, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5910782014153ce7b46f87f580ddcefa?s=128&d=identicon&r=PG", "display_name": "morrismc", "link": "https://stackoverflow.com/users/8508596/morrismc"}, "reply_to_user": {"reputation": 5208, "user_id": 4045774, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c23c0c730b6a9cb71d1ce17838f2beb7?s=128&d=identicon&r=PG&f=1", "display_name": "max9111", "link": "https://stackoverflow.com/users/4045774/max9111"}, "edited": false, "score": 0, "creation_date": 1574355064, "post_id": 58964025, "comment_id": 104212836, "body": "@max9111, I have now replaced the slicing per your suggestion with: <code>tempx = cx[i-w:i+w,j-w:j+w]  tx=np.reshape(tempx,-1)</code> The code now fails on line 41, the call to reshape. With a much longer traceback than I can post here."}], "answers": [{"tags": [], "owner": {"reputation": 73, "user_id": 8508596, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5910782014153ce7b46f87f580ddcefa?s=128&d=identicon&r=PG", "display_name": "morrismc", "link": "https://stackoverflow.com/users/8508596/morrismc"}, "is_accepted": true, "score": 0, "last_activity_date": 1575308122, "creation_date": 1575308122, "answer_id": 59144014, "question_id": 58964025, "link": "https://stackoverflow.com/questions/58964025/numba-fails-when-using-moving-kernel-window-typingerror-definition-error/59144014#59144014", "title": "Numba fails when using moving kernel window: TypingError, definition error", "body": "<p>I was able to successfully resolve this issue after a lot of trial and error and digging more into the TraceBack. My new function reads as follows:</p>\n\n<pre><code>@nb.njit(parallel=True)\ndef DC_eig_par(DEM,w,cx,cy,cz,eps):\n    [nrows, ncols] = np.shape(DEM)\n#\n#    #initiate an empty array same size as dem\n    rms = DEM*np.nan\n    rms.astype(np.float32)\n\n    #Compute RMS cycling through the DEM\n    nw=(w*2)**2\n\n    for i in nb.prange(w+1,nrows-w):\n\n\n        for j in range(w+1,(ncols-w)):\n#            d1=np.int16(np.linspace(i-w,i+w,11))\n#            d2=np.int16(np.linspace(j-w,j+w,11))\n\n            tempx = cx[i-w:i+w,j-w:j+w]\n            tx = tempx.flatten()\n\n\n\n            tempy = cy[i-w:i+w,j-w:j+w]\n            ty = tempy.flatten()\n\n\n            tempz = cz[i-w:i+w,j-w:j+w]\n            tz = tempz.flatten()\n\n\n\n            if (np.isnan(np.concatenate((tx,ty,tz)))).sum() == 0:\n                T=np.array([[np.sum(tx**2), np.sum(tx*ty), np.sum(tx*tz)],\n                             [np.sum(ty*tx), np.sum(ty**2), np.sum(ty*tz)], \n                             [np.sum(tz*tx), np.sum(tz*ty), np.sum(tz**2)]])\n\n\n                [Te,_] = np.linalg.eig(T) # this step is a bit different from the matlab version b/c np.eig outputs two values.\n                l = (Te/nw)\n                l[l&lt;eps] = 0\n                rms[i,j] = 1/np.log(l[0]/l[1])\n\n\n            else:\n                rms[i,j] = np.nan\n\n    return(rms)\n</code></pre>\n\n<p>Major changes are that I:</p>\n\n<ol>\n<li>Eliminated the call to <code>reshape</code> and instead used <code>tempx.flatten</code></li>\n<li>The call to <code>max</code> within my if statement was changed to <code>.sum()</code></li>\n</ol>\n\n<p>The code now runs like a charm. In 6 seconds as compared with the 6 minutes the non-parallelized code takes to run.</p>\n"}], "owner": {"reputation": 73, "user_id": 8508596, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5910782014153ce7b46f87f580ddcefa?s=128&d=identicon&r=PG", "display_name": "morrismc", "link": "https://stackoverflow.com/users/8508596/morrismc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77, "favorite_count": 3, "accepted_answer_id": 59144014, "answer_count": 1, "score": 2, "last_activity_date": 1575308122, "creation_date": 1574287086, "last_edit_date": 1592644375, "question_id": 58964025, "link": "https://stackoverflow.com/questions/58964025/numba-fails-when-using-moving-kernel-window-typingerror-definition-error", "title": "Numba fails when using moving kernel window: TypingError, definition error", "body": "<p>I'm working on a project that requires me to build a series of functions that use a moving kernel window to manipulate elevation data stored in a matrix.</p>\n<p>My original question of how to optimize two nested for loops was answered here <a href=\"https://stackoverflow.com/questions/58507565/python-running-nested-loop-2d-moving-window-in-parallel?noredirect=1#comment103416735_58507565\">link</a>. The solution involved parallelizing my code with <strong>Numba</strong>. When I tried to adapt another moving kernel window function to numba, I ran into an issue with <code>numpy.gradient</code> which is currently unsupported by numba. So I broke my function in two: <strong>A)</strong> a preprocessing function not in Numba and <strong>B)</strong> the main function written in Numba. I am now trying to get the function run with numba to work properly. I continue to get an error (shown below) and am now pretty frustrated after weeks scouring the stack exchange and internet for a solution.</p>\n<p>Functions are shown below:</p>\n<p><code>first function</code></p>\n<pre><code>def DCE_preprocess(DEM, cellsize, w):\n\n    [nrows, ncols] = np.shape(DEM)\n\n    #initiate an empty array same size as dem\n    rms = DEM*np.nan\n#    rms = np.float32(rms)\n\n#    #compute the directional cosines\n    [fx, fy] = np.gradient(DEM, cellsize, cellsize)\n\n\n    grad = np.sqrt(fx**2 + fy**2)\n    asp = np.arctan2(fy, fx)\n\n\n\n    grad=np.pi/2-np.arctan(grad) #normal of steepest slope\n    asp[asp&lt;np.pi]=asp[asp&lt;np.pi]+[np.pi/2]\n    asp[asp&lt;0]=asp[asp&lt;0]+[2*np.pi]\n\n    #spherical to cartesian conversion\n    r = 1\n    cy = r * np.cos(grad) * np.sin(asp)\n    cx = r * np.cos(grad) * np.cos(asp)\n    cz = r * np.sin(grad)\n\n    return(cx,cy,cz)\n</code></pre>\n<p>which returns the input for my second function:\n<code>second function</code></p>\n<p><code>eps = np.finfo(float).eps</code></p>\n<pre><code>@nb.njit(parallel=True)\ndef DC_eig_par(DEM,w,cx,cy,cz,eps):\n    [nrows, ncols] = np.shape(DEM)\n#\n#    #initiate an empty array same size as dem\n    rms = DEM*np.nan\n    rms.astype(np.float32)\n\n    #cycling through the DEM\n    nw=(w*2)**2\n\n    for i in nb.prange(w+1,nrows-w):\n\n\n        for j in range(w+1,(ncols-w)):\n\n            d1=nb.int32(np.linspace(i-w,i+w,11))\n            d2=nb.int32(np.linspace(j-w,j+w,11))\n\n            tempx = cx[(d1[0]):(d1[-1]),(d2[0]):(d2[-1])]\n            tx=np.reshape(tempx,-1)\n            \n\n            tempy = cy[(d1[0]):(d1[-1]),(d2[0]):(d2[-1])]\n            ty=np.reshape(tempy,-1)\n            \n            tempz = np.empty([10,10], dtype = np.float32)\n            tempz = cz[(d1[0]):(d1[-1]),(d2[0]):(d2[-1])]\n            tz=np.reshape(tempz,-1)\n\n            if np.max(np.isnan(np.concatenate((tx,ty,tz)))) == 0:\n                T=np.array([[np.sum(tx**2), np.sum(tx*ty), np.sum(tx*tz)],\n                             [np.sum(ty*tx), np.sum(ty**2), np.sum(ty*tz)], \n                             [np.sum(tz*tx), np.sum(tz*ty), np.sum(tz**2)]])\n                \n                \n                [Te,_] = np.linalg.eig(T) # this step is a bit different from the matlab version b/c np.eig outputs two values.\n                l = (Te/nw)\n                l[l&lt;eps] = 0\n                rms[i,j] = 1/np.log(l[0]/l[1])\n                \n                \n            else:\n                rms[i,j] = np.nan\n\n    return(rms)\n</code></pre>\n<p>The second function now gives me the following error:</p>\n<pre><code>Traceback (most recent call last):\n\n  File &quot;&lt;ipython-input-65-af12df87ecaa&gt;&quot;, line 8, in &lt;module&gt;\n    rp = DC_eig_par(DEM, w,cx,cy,cz,eps)\n\n  File &quot;C:\\ProgramData\\Anaconda3\\lib\\site-packages\\numba\\dispatcher.py&quot;, line 351, in _compile_for_args\n    error_rewrite(e, 'typing')\n\n  File &quot;C:\\ProgramData\\Anaconda3\\lib\\site-packages\\numba\\dispatcher.py&quot;, line 318, in error_rewrite\n    reraise(type(e), e, None)\n\n  File &quot;C:\\ProgramData\\Anaconda3\\lib\\site-packages\\numba\\six.py&quot;, line 658, in reraise\n    raise value.with_traceback(tb)\n\nTypingError: Invalid use of Function(&lt;built-in function getitem&gt;) with argument(s) of type(s): (int32, Literal[int](0))\n * parameterized\nIn definition 0:\n    All templates rejected with literals.\nIn definition 1:\n    All templates rejected without literals.\nIn definition 2:\n    All templates rejected with literals.\nIn definition 3:\n    All templates rejected without literals.\nIn definition 4:\n    All templates rejected with literals.\nIn definition 5:\n    All templates rejected without literals.\nIn definition 6:\n    All templates rejected with literals.\nIn definition 7:\n    All templates rejected without literals.\nIn definition 8:\n    All templates rejected with literals.\nIn definition 9:\n    All templates rejected without literals.\nThis error is usually caused by passing an argument of a type that is unsupported by the named function.\n[1] During: typing of intrinsic-call at U:\\GHP\\Projects\\NSF - Morris Landslides\\Code\\Developmemnt\\Wavelets\\DC_eig_par.py (40)\n[2] During: typing of static-get-item at U:\\GHP\\Projects\\NSF - Morris Landslides\\Code\\Developmemnt\\Wavelets\\DC_eig_par.py (40)\n</code></pre>\n<p>The code fails on line <code>40</code> which is <code>tempx = cx[(d1[0]):(d1[-1]),(d2[0]):(d2[-1])]</code>. I'm not sure what's going on. I've made sure that all variables are of a consistent type throughout, or so I thought. Any insights or help anyone could offer as to a way to resolve this issue would be greatly appreciated.</p>\n<p>Running similar functions in parallel cuts operation from 6 minutes for a 1165 x 1355 matrix to seconds. I hope to have a similar speedup with this function.\nThanks so much</p>\n"}, {"tags": ["python", "amazon-dynamodb"], "answers": [{"tags": [], "owner": {"reputation": 6333, "user_id": 8891224, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AZuUL.jpg?s=128&g=1", "display_name": "Nadav Har&#39;El", "link": "https://stackoverflow.com/users/8891224/nadav-harel"}, "is_accepted": false, "score": 0, "last_activity_date": 1574581695, "creation_date": 1574581695, "answer_id": 59015633, "question_id": 58964009, "link": "https://stackoverflow.com/questions/58964009/add-dict-into-item-dynamodb-python/59015633#59015633", "title": "Add dict into Item dynamodb python", "body": "<p>The <code>SET MaintenanceList=:dt</code> expression indeed replaces the value of the the attributed called MaintenanceList. If you wanted the content of this attribute to be a hash table, and add to it, you need to update it using a <strong>nested atribute</strong> path as explained <a href=\"https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/Expressions.UpdateExpressions.html#Expressions.UpdateExpressions.SET.AddingNestedMapAttributes\" rel=\"nofollow noreferrer\">in this DynamoDB documentation</a>. For example do something like <code>SET #d1.#date=:dt</code>.</p>\n\n<p>However, note that keeping a hash table inside a single attribute's value is problematic - its total size is strictly limited (to 400KB) and you'll also pay for the entire item size every time you read or write a small part of it.</p>\n"}], "owner": {"reputation": 77, "user_id": 12096280, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Du3lcQBKEA8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reu1EH7pwl29-ZYUVowxSM3Zl78tg/photo.jpg?sz=128", "display_name": "alejandro correa", "link": "https://stackoverflow.com/users/12096280/alejandro-correa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 49, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1574581695, "creation_date": 1574286995, "last_edit_date": 1574287643, "question_id": 58964009, "link": "https://stackoverflow.com/questions/58964009/add-dict-into-item-dynamodb-python", "title": "Add dict into Item dynamodb python", "body": "<p>I have an item register on dynamodb with the next structure:</p>\n\n<pre><code>{\n\"OwnerID\":\"12312wqeq\", \n\"license\":\"23423werwegdf\",\n\"MaintenanceList\":{\n        \"10-11-2018\":{\n                      \"garage\" : \"lopcars\",\n                      \"city\" : \"NY\",\n                      \"country\" \"USA\",\n                      \"location\" : \"1929-1927 Fulton St Brooklyn\"\n              }\n       }\n} \n</code></pre>\n\n<p>I need to add a new Maintenance to the list, and I tried this:</p>\n\n<pre><code>response=table.update_item(\n    Key={\n        \"OwnerID\":\"12312wqeq\", \n        \"license\":\"23423werwegdf\",'\n    }\n    ,UpdateExpression = \"SET #d1=:dt\",\n    ExpressionAttributeValues = {\n            ':dt' : \"12-11-2019\":{\n                       \"garage\" : \"Crazycars\",\n                       \"city\" : \"NY\",\n                       \"country\" \"USA\",\n                       \"location\" : \"120 E Suffolk Ave Central Islip\"\n               }\n        }\n                },\n    ExpressionAttributeNames={\n            '#d1' : 'MaintenanceList'\n                },\n    ReturnValues=\"UPDATED_NEW\"\n)\n</code></pre>\n\n<p>but overwrite the attribute MaintenanceList and I need it to look like this after update:</p>\n\n<pre><code>{\n\"OwnerID\":\"12312wqeq\", \n\"license\":\"23423werwegdf\",\n\"MaintenanceList\":{\n        \"10-11-2018\":{\n                      \"garage\" : \"lopcars\",\n                      \"city\" : \"NY\",\n                      \"country\" \"USA\",\n                      \"location\" : \"1929-1927 Fulton St Brooklyn\"\n              },\n        \"12-11-2019\":{\n                       \"garage\" : \"Crazycars\",\n                       \"city\" : \"NY\",\n                       \"country\" \"USA\",\n                       \"location\" : \"120 E Suffolk Ave Central Islip\"\n               }\n       }\n}\n</code></pre>\n"}, {"tags": ["python", "svm", "libsvm"], "comments": [{"owner": {"reputation": 423, "user_id": 9283284, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IC7nh.jpg?s=128&g=1", "display_name": "Snusifer", "link": "https://stackoverflow.com/users/9283284/snusifer"}, "edited": false, "score": 0, "creation_date": 1574288264, "post_id": 58963975, "comment_id": 104183553, "body": "As far as understand, you want to predict the classification based on the other data right? Have you looked at <code>train_test_split</code> function from <code>sklearn.model_selection</code> ?"}], "answers": [{"tags": [], "owner": {"reputation": 909, "user_id": 10368128, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1784b140ba75ead991e98a03be154f97?s=128&d=identicon&r=PG&f=1", "display_name": "loki", "link": "https://stackoverflow.com/users/10368128/loki"}, "is_accepted": false, "score": 0, "last_activity_date": 1574288743, "creation_date": 1574288743, "answer_id": 58964337, "question_id": 58963975, "link": "https://stackoverflow.com/questions/58963975/loading-a-dataset-for-linear-svm-classification-from-a-csv-file/58964337#58964337", "title": "Loading a Dataset for Linear SVM Classification from a CSV file", "body": "<pre class=\"lang-py prettyprint-override\"><code>import pandas as pd\n\ndf = pd.read_csv(/path/to/csv, header=None, index_col=False)\nx = df.iloc[:,:-1].values\ny = df.iloc[:,-1:].values\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 37, "user_id": 12081072, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-fsnOYszFrc0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdBBvyECSnHgjt4buPP_L_l5vJV5A/photo.jpg?sz=128", "display_name": "user20304030", "link": "https://stackoverflow.com/users/12081072/user20304030"}, "edited": false, "score": 0, "creation_date": 1574290542, "post_id": 58964355, "comment_id": 104184342, "body": "Holy moly I think I can use that. Actually in the problem I am supposed to do I need to use sklearn.model.selection KFold. Would that work with Panda?"}, {"owner": {"reputation": 64, "user_id": 8803937, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8895489c13394fcfc2e361512dabd646?s=128&d=identicon&r=PG&f=1", "display_name": "victor noriega", "link": "https://stackoverflow.com/users/8803937/victor-noriega"}, "reply_to_user": {"reputation": 37, "user_id": 12081072, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-fsnOYszFrc0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdBBvyECSnHgjt4buPP_L_l5vJV5A/photo.jpg?sz=128", "display_name": "user20304030", "link": "https://stackoverflow.com/users/12081072/user20304030"}, "edited": false, "score": 0, "creation_date": 1574290810, "post_id": 58964355, "comment_id": 104184438, "body": "Yes, of course. X_train and y_train in the example above are ready to be used with KFold"}], "tags": [], "owner": {"reputation": 64, "user_id": 8803937, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8895489c13394fcfc2e361512dabd646?s=128&d=identicon&r=PG&f=1", "display_name": "victor noriega", "link": "https://stackoverflow.com/users/8803937/victor-noriega"}, "is_accepted": true, "score": 3, "last_activity_date": 1574288828, "creation_date": 1574288828, "answer_id": 58964355, "question_id": 58963975, "link": "https://stackoverflow.com/questions/58963975/loading-a-dataset-for-linear-svm-classification-from-a-csv-file/58964355#58964355", "title": "Loading a Dataset for Linear SVM Classification from a CSV file", "body": "<p>First, I think you have an error in your CSV in the first row:</p>\n\n<pre><code>25.3, 12.4, 2.35, 4.89. 1, 2.35, 5.65, 7, 6.24, 5.52, M\n</code></pre>\n\n<p>I just assumed it should be 4.89, 1, and not 4.89. 1.</p>\n\n<p>Second, I recommend you to use pandas to read that CSV, and then do this:</p>\n\n<pre><code>import pandas as pd\ndata = pd.read_csv('prueba.csv', header=None, usecols=[i for i in range(11)])\n# the usecols=[i for i in range(11)] will create a list of numbers for your columns\n# that line will make a dataframe called data, which will contain your data.\nl = [i for i in range(10)]\nX_train = data[l]\ny_train = data[10]\n</code></pre>\n\n<p>This is the most easy way to have ready your data for any machine learning algorithm in scikit-learn.</p>\n"}, {"comments": [{"owner": {"reputation": 37, "user_id": 12081072, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-fsnOYszFrc0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdBBvyECSnHgjt4buPP_L_l5vJV5A/photo.jpg?sz=128", "display_name": "user20304030", "link": "https://stackoverflow.com/users/12081072/user20304030"}, "edited": false, "score": 0, "creation_date": 1574290630, "post_id": 58964398, "comment_id": 104184371, "body": "Could KFold selection be applied instead of train_test_split for panda? That&#39;s what I need to use for the problem"}, {"owner": {"reputation": 423, "user_id": 9283284, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IC7nh.jpg?s=128&g=1", "display_name": "Snusifer", "link": "https://stackoverflow.com/users/9283284/snusifer"}, "reply_to_user": {"reputation": 37, "user_id": 12081072, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-fsnOYszFrc0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdBBvyECSnHgjt4buPP_L_l5vJV5A/photo.jpg?sz=128", "display_name": "user20304030", "link": "https://stackoverflow.com/users/12081072/user20304030"}, "edited": false, "score": 0, "creation_date": 1574292698, "post_id": 58964398, "comment_id": 104185092, "body": "Nvm, I found a good answer for you: <a href=\"https://stackoverflow.com/questions/45115964/separate-pandas-dataframe-using-sklearns-kfold\" title=\"separate pandas dataframe using sklearns kfold\">stackoverflow.com/questions/45115964/&hellip;</a>"}, {"owner": {"reputation": 423, "user_id": 9283284, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IC7nh.jpg?s=128&g=1", "display_name": "Snusifer", "link": "https://stackoverflow.com/users/9283284/snusifer"}, "reply_to_user": {"reputation": 37, "user_id": 12081072, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-fsnOYszFrc0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdBBvyECSnHgjt4buPP_L_l5vJV5A/photo.jpg?sz=128", "display_name": "user20304030", "link": "https://stackoverflow.com/users/12081072/user20304030"}, "edited": false, "score": 0, "creation_date": 1574292739, "post_id": 58964398, "comment_id": 104185102, "body": "Hope that helps with your assignment I assume :)"}, {"owner": {"reputation": 37, "user_id": 12081072, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-fsnOYszFrc0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdBBvyECSnHgjt4buPP_L_l5vJV5A/photo.jpg?sz=128", "display_name": "user20304030", "link": "https://stackoverflow.com/users/12081072/user20304030"}, "edited": false, "score": 0, "creation_date": 1574294905, "post_id": 58964398, "comment_id": 104185576, "body": "That helps. Thanks!"}], "tags": [], "owner": {"reputation": 423, "user_id": 9283284, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IC7nh.jpg?s=128&g=1", "display_name": "Snusifer", "link": "https://stackoverflow.com/users/9283284/snusifer"}, "is_accepted": false, "score": 0, "last_activity_date": 1574289050, "creation_date": 1574289050, "answer_id": 58964398, "question_id": 58963975, "link": "https://stackoverflow.com/questions/58963975/loading-a-dataset-for-linear-svm-classification-from-a-csv-file/58964398#58964398", "title": "Loading a Dataset for Linear SVM Classification from a CSV file", "body": "<p>I think you should use pandas, which is a library that helps you with reading csv:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>import pandas as pd\n\ndataset = pd.read_csv('train.cvs')\n</code></pre>\n\n<p>Second you can use <code>train_test_split</code> to automatically split the data:</p>\n\n<pre><code>X_train, X_test, y_train, y_test = train_test_split(\n        X, y, stratify=y, test_size=0.2)\n</code></pre>\n\n<p>This will split the data where X_train and X_test comprises of 80% of the data and y_train, y_test 20%. This can be changed with adjusting <code>test_size</code>. <code>stratify</code> will automatically make the ratio of classification count (M, B) equal in train and test, which is generally considered good practise in machine learning. This will generate random split each time. If you want the same split you can use <code>random_state=(SEED)</code> as keyword argument. </p>\n\n<p>After that you can continue on with the machine learning:</p>\n\n<pre><code>from sklearn.svm import SVC\nfrom sklearn.metrics import confusion_matrix, classification_report\n\n# Important to scale\nsc = StandardScaler()\nX_train = sc.fit_transform(X_train)\nX_test = sc.transform(X_test)\n\nclf = SVC()\nclf.fit(X_train, y_train)\npred = clf.predict(X_test)\n\nprint(classification_report(y_test, pred))\nprint(confusion_matrix(y_test, pred))\n</code></pre>\n"}], "owner": {"reputation": 37, "user_id": 12081072, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-fsnOYszFrc0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdBBvyECSnHgjt4buPP_L_l5vJV5A/photo.jpg?sz=128", "display_name": "user20304030", "link": "https://stackoverflow.com/users/12081072/user20304030"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1523, "favorite_count": 0, "accepted_answer_id": 58964355, "answer_count": 3, "score": 1, "last_activity_date": 1574299761, "creation_date": 1574286830, "last_edit_date": 1574299761, "question_id": 58963975, "link": "https://stackoverflow.com/questions/58963975/loading-a-dataset-for-linear-svm-classification-from-a-csv-file", "title": "Loading a Dataset for Linear SVM Classification from a CSV file", "body": "<p>I have a csv file below called train.csv:</p>\n\n<pre><code>   25.3, 12.4, 2.35, 4.89, 1, 2.35, 5.65, 7, 6.24, 5.52, M\n   20, 15.34, 8.55, 12.43, 23.5, 3, 7.6, 8.11, 4.23, 9.56, B\n   4.5, 2.5, 2, 5, 10, 15, 20.25, 43, 9.55, 10.34, B\n   1.5, 2.5, 3.5, 4.5, 5.5, 6.5, 7.5, 8.5, 9.5, 10.5, M\n</code></pre>\n\n<p>I am trying to get this dataset be separated and classified as the following (This is the output I want):</p>\n\n<pre><code>    [[25.3, 12.4, 2.35, 4.89. 1, 2.35, 5.65, 7, 6.24, 5.52], \n    [20, 15.34, 8.55, 12.43, 23.5, 3, 7.6, 8.11, 4.23, 9.56], \n    [4.5, 2.5, 2, 5, 10, 15, 20.25, 43, 9.55, 10.34], \n    [1.5, 2.5, 3.5, 4.5, 5.5, 6.5, 7.5, 8.5, 9.5, 10.5]], \n    [M, B, B, M]\n</code></pre>\n\n<p>The one in \"[[\" is the x (the sample data) and the one in \"[M, M, B, B, M]\" is the y (which is the classification that matches with its set of data.</p>\n\n<p>I am trying to create a python code that's been loaded and can print out the data being separated by data and it's classification. It's related to linear SVM. </p>\n\n<pre><code>y_list = []\nx_list = []\nfor W in range(0, 100):\n    X = data_train.readline()\n    y = X.split(\",\")\n    y_list.append(y[10][0])\n    print(y_list)\n    z_list = []\n    for Z in range(0, 10):\n        z_list.append(y[Z])\n    x_list.append(z_list)\n    dataSet = (x_list, y_list)\n    print(dataSet)\n</code></pre>\n\n<p>Note: I know my range is completely wrong. I'm not sure how to fit the range at all for this type of example, could anyone please explain how the range would work in this situation.</p>\n\n<p>Note: I know the append line where it is \"y[10][0]\" is also wrong as well. Could someone explain how these indexes work. </p>\n\n<p>Overall I want the output to be the output I stated above. Thanks for the help. </p>\n"}, {"tags": ["python", "sql", "pandas"], "comments": [{"owner": {"reputation": 1106505, "user_id": 1144035, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e514b017977ebf742a418cac697d8996?s=128&d=identicon&r=PG", "display_name": "Gordon Linoff", "link": "https://stackoverflow.com/users/1144035/gordon-linoff"}, "edited": false, "score": 1, "creation_date": 1574286886, "post_id": 58963974, "comment_id": 104183023, "body": "Tag your question with the database you are using."}, {"owner": {"reputation": 35510, "user_id": 3706016, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wqmW0.jpg?s=128&g=1", "display_name": "jarlh", "link": "https://stackoverflow.com/users/3706016/jarlh"}, "edited": false, "score": 1, "creation_date": 1574286899, "post_id": 58963974, "comment_id": 104183025, "body": "Make it easy to assist you: <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1574286979, "post_id": 58963974, "comment_id": 104183060, "body": "Convert the first two digits to a number, and add that to <code>2000</code> to get the year. Use <code>ord()</code> to convert the third character to a number, and subtract the code for <code>A</code> from that."}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1574288755, "post_id": 58963974, "comment_id": 104183728, "body": "I&#39;m not clear on the desired result.  Do you need only the year (in which case your description of month codes is needless), the year and month, or lists of serial numbers for each year?"}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1574288894, "post_id": 58963974, "comment_id": 104183763, "body": "Where are you stuck?  You seem to have simple steps, each of which is covered quite well in examples and tutorials.  You should have a coding attempt to post."}], "answers": [{"tags": [], "owner": {"reputation": 1106505, "user_id": 1144035, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e514b017977ebf742a418cac697d8996?s=128&d=identicon&r=PG", "display_name": "Gordon Linoff", "link": "https://stackoverflow.com/users/1144035/gordon-linoff"}, "is_accepted": false, "score": 3, "last_activity_date": 1574286964, "creation_date": 1574286964, "answer_id": 58964000, "question_id": 58963974, "link": "https://stackoverflow.com/questions/58963974/how-can-you-take-the-first-2-or-3-numbers-from-a-serial-number-and-find-the-year/58964000#58964000", "title": "How can you take the first 2 or 3 numbers from a serial number and find the year they were manufactured?", "body": "<p>You can use logic similar to this:</p>\n\n<pre><code>select 2000 + cast(left(serial_number, 2) as int) as year,\n       substr(serial_number, 3, 1) - ascii('A') + 1 as month\n</code></pre>\n\n<p>The exact functions might differ a bit, depending on the database.</p>\n"}, {"tags": [], "owner": {"reputation": 107, "user_id": 8327117, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4453a9c5964bb1328d56df7557954f78?s=128&d=identicon&r=PG&f=1", "display_name": "kcEmenike", "link": "https://stackoverflow.com/users/8327117/kcemenike"}, "is_accepted": false, "score": 0, "last_activity_date": 1574288904, "creation_date": 1574288904, "answer_id": 58964368, "question_id": 58963974, "link": "https://stackoverflow.com/questions/58963974/how-can-you-take-the-first-2-or-3-numbers-from-a-serial-number-and-find-the-year/58964368#58964368", "title": "How can you take the first 2 or 3 numbers from a serial number and find the year they were manufactured?", "body": "<p>I assume you want to do this in pandas. You can attempt something like this</p>\n\n<pre><code>import pandas as pd\n\n# Create dictionary mapping for months\nmonth_mapping = {'A': 'January',\n                'B': 'February',\n                'C': 'March',\n                'D': 'April',\n                'E': 'May',\n                'F': 'June',\n                'G': 'July',\n                'H': 'August',\n                'I': 'September',\n                'J': 'October',\n                'K': 'November',\n                'L': 'December'}\n\n\n# Create sample dataframe\ndf = pd.DataFrame(['00J49938','00G49939', '01L49940'], columns=['sn'])\n\n# Create extra columns matching specific criteria\ndf['Year'] = df['sn'].apply(lambda s:2000 if s[:2]=='00' else 2001)\n\n# This uses the above month_mapping. You can use a similar dictionary method for the year as well\ndf['Month'] = df['sn'].apply(lambda s:month_mapping.get(s[2],None))\ndf['Product Code'] = df['sn'].str[3:]\ndf\n</code></pre>\n"}], "owner": {"reputation": 18, "user_id": 12081621, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mCFL3RMbXGU5sbcXl1UiXSTmhkEH_JZvWHIzStM=k-s128", "display_name": "Jay Hogan", "link": "https://stackoverflow.com/users/12081621/jay-hogan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1574288904, "creation_date": 1574286823, "question_id": 58963974, "link": "https://stackoverflow.com/questions/58963974/how-can-you-take-the-first-2-or-3-numbers-from-a-serial-number-and-find-the-year", "title": "How can you take the first 2 or 3 numbers from a serial number and find the year they were manufactured?", "body": "<p>I have a list of 2000 serial numbers and I am trying to gather information from them. All of the serial numbers start with the year they were manufactured and a number that correlates to the month (i.e. 00J49938... refers to a machine manufactured in October (J is the 10h letter in the alphabet) of 2000 (00). </p>\n\n<p>At the moment, I created a list comprehension that looks like:\n<code>year_2001 = [i for i in df['serial_number'] if i.startswith('01')]</code></p>\n\n<p>I can do this for every month and year respectively, but is there a way that I could create a function that takes a year as an input and cuts out creating a list comprehension for every month of every year?</p>\n"}, {"tags": ["python", "julia", "opencv3.0", "scikit-image"], "comments": [{"owner": {"reputation": 28436, "user_id": 176071, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/88b8fe9e9bc03bd33208830fa612dc50?s=128&d=identicon&r=PG", "display_name": "mbauman", "link": "https://stackoverflow.com/users/176071/mbauman"}, "edited": false, "score": 1, "creation_date": 1574288505, "post_id": 58963971, "comment_id": 104183636, "body": "Which props are you after?  There&#39;s not a all-in-one function like that; they&#39;re split apart in Julia.  See <a href=\"https://juliaimages.org/latest/function_reference/#Images.label_components\" rel=\"nofollow noreferrer\"><code>labeled_components</code></a> and the following <code>component_*</code> methods."}, {"owner": {"reputation": 27168, "user_id": 7355741, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6CMNt.jpg?s=128&g=1", "display_name": "fmw42", "link": "https://stackoverflow.com/users/7355741/fmw42"}, "edited": false, "score": 0, "creation_date": 1575497979, "post_id": 58963971, "comment_id": 104591092, "body": "See cv2.SimpleBlobDetector_Params at <a href=\"https://www.learnopencv.com/blob-detection-using-opencv-python-c/\" rel=\"nofollow noreferrer\">learnopencv.com/blob-detection-using-opencv-python-c</a> and <a href=\"https://answers.opencv.org/question/98889/simple-blob-detection/\" rel=\"nofollow noreferrer\">answers.opencv.org/question/98889/simple-blob-detection</a> and <a href=\"https://docs.opencv.org/4.1.1/d0/d7a/classcv_1_1SimpleBlobDetector.html\" rel=\"nofollow noreferrer\">docs.opencv.org/4.1.1/d0/d7a/classcv_1_1SimpleBlobDetector.h&zwnj;&#8203;tml</a>"}], "owner": {"reputation": 1564, "user_id": 1381340, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/825e9f8cae2fe603b57ec60ec164c5b2?s=128&d=identicon&r=PG", "display_name": "MOON", "link": "https://stackoverflow.com/users/1381340/moon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 608, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1574332321, "creation_date": 1574286807, "last_edit_date": 1574332321, "question_id": 58963971, "link": "https://stackoverflow.com/questions/58963971/equivalent-of-regionprops-in-python-skimage-for-juliaimages-and-python-opencv", "title": "equivalent of regionprops in python skimage for JuliaImages and Python opencv", "body": "<p>What is the equivalent command of <a href=\"https://scikit-image.org/docs/stable/api/skimage.measure.html#skimage.measure.regionprops\" rel=\"nofollow noreferrer\">regionprops</a> which you can find in Python skimage in Python opencv and/or JuliaImages?</p>\n\n<p>If there is not an all-in-one command like <code>regionprops</code> then the most important properties I am looking are the label of the region,(assuming connected components have integer values) and coordinates of the labels.</p>\n"}, {"tags": ["python", "regression", "plotly", "extract"], "answers": [{"comments": [{"owner": {"reputation": 21840, "user_id": 112871, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0c672b1a855701ccca00911a6fbf02e4?s=128&d=identicon&r=PG", "display_name": "nicolaskruchten", "link": "https://stackoverflow.com/users/112871/nicolaskruchten"}, "edited": false, "score": 0, "creation_date": 1574308233, "post_id": 58965597, "comment_id": 104188729, "body": "Edited to give the line number in the link! Sorry :)"}, {"owner": {"reputation": 165, "user_id": 12245523, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KSivo.jpg?s=128&g=1", "display_name": "DGomonov", "link": "https://stackoverflow.com/users/12245523/dgomonov"}, "edited": false, "score": 0, "creation_date": 1574358291, "post_id": 58965597, "comment_id": 104214481, "body": "Hi @nicolaskruchten! Hmmm, so if I understand you right even though these trend values shows when hovering over the line, it is impossible to extract them in a &#39;print&#39; format for each x observation? Now if Plotly Express uses the statsmodels lib, is there other libs you could suggest or within the same lib on how to print out those values; I strongly doubt that there is no way to print these trend values outside of PX - hopefully you can point me in a right direction :)"}, {"owner": {"reputation": 165, "user_id": 12245523, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KSivo.jpg?s=128&g=1", "display_name": "DGomonov", "link": "https://stackoverflow.com/users/12245523/dgomonov"}, "edited": false, "score": 0, "creation_date": 1574359236, "post_id": 58965597, "comment_id": 104214921, "body": "Also, regarding your first sentence... I am aware on how LOWESS is calculated and that it is indeed a moving average, however I am a bit confused on what you meant... Did you mean that these trends are impossible to extract specifically because of trendline=&#39;lowess&#39; that I&#39;m using, would the functionality be there to print those trend values if I used trendline=&#39;ols&#39; ?"}, {"owner": {"reputation": 165, "user_id": 12245523, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KSivo.jpg?s=128&g=1", "display_name": "DGomonov", "link": "https://stackoverflow.com/users/12245523/dgomonov"}, "edited": false, "score": 0, "creation_date": 1574364605, "post_id": 58965597, "comment_id": 104217439, "body": "apologies for another question, but also very important to me... I found that when using px.scatter() there is NO argument to specify the bandwidth, which is very important when using LOWESS; do I not see it or it doesn&#39;t exist in PX?"}, {"owner": {"reputation": 21840, "user_id": 112871, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0c672b1a855701ccca00911a6fbf02e4?s=128&d=identicon&r=PG", "display_name": "nicolaskruchten", "link": "https://stackoverflow.com/users/112871/nicolaskruchten"}, "reply_to_user": {"reputation": 165, "user_id": 12245523, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KSivo.jpg?s=128&g=1", "display_name": "DGomonov", "link": "https://stackoverflow.com/users/12245523/dgomonov"}, "edited": false, "score": 1, "creation_date": 1574371208, "post_id": 58965597, "comment_id": 104220376, "body": "Right now with PX you cannot specify the bandwidth, that&#39;s correct. It&#39;s on our roadmap to provide more control over the trendline options (i.e. setting the constant in OLS etc)."}, {"owner": {"reputation": 21840, "user_id": 112871, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0c672b1a855701ccca00911a6fbf02e4?s=128&d=identicon&r=PG", "display_name": "nicolaskruchten", "link": "https://stackoverflow.com/users/112871/nicolaskruchten"}, "reply_to_user": {"reputation": 165, "user_id": 12245523, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KSivo.jpg?s=128&g=1", "display_name": "DGomonov", "link": "https://stackoverflow.com/users/12245523/dgomonov"}, "edited": false, "score": 1, "creation_date": 1574371299, "post_id": 58965597, "comment_id": 104220421, "body": "Re the other points: in OLS <code>statsmodels</code> actually returns a &quot;model&quot; object so PX stores it and you can retrieve it with <code>get_trendline_results</code> but LOWESS has no such object so we don&#39;t. The actual data values are stored in <code>fig.data[something].y</code> where <code>something</code> depends on how many colors you have so it can be pretty brittle to query them out."}, {"owner": {"reputation": 21840, "user_id": 112871, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0c672b1a855701ccca00911a6fbf02e4?s=128&d=identicon&r=PG", "display_name": "nicolaskruchten", "link": "https://stackoverflow.com/users/112871/nicolaskruchten"}, "reply_to_user": {"reputation": 165, "user_id": 12245523, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KSivo.jpg?s=128&g=1", "display_name": "DGomonov", "link": "https://stackoverflow.com/users/12245523/dgomonov"}, "edited": false, "score": 1, "creation_date": 1574371470, "post_id": 58965597, "comment_id": 104220497, "body": "(I&#39;ve updated my answer to show how you can get this out using the brittle approach)"}, {"owner": {"reputation": 165, "user_id": 12245523, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KSivo.jpg?s=128&g=1", "display_name": "DGomonov", "link": "https://stackoverflow.com/users/12245523/dgomonov"}, "edited": false, "score": 0, "creation_date": 1574443367, "post_id": 58965597, "comment_id": 104248277, "body": "Thank you very much for explanations and for fig.data[something] breakdown! Regarding your last statement about &#39;brittle approach&#39; - does it have to be? ...if I can just make a loop to go through all existing [something] and get printed all the values - trying it right now :)"}, {"owner": {"reputation": 165, "user_id": 12245523, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KSivo.jpg?s=128&g=1", "display_name": "DGomonov", "link": "https://stackoverflow.com/users/12245523/dgomonov"}, "reply_to_user": {"reputation": 21840, "user_id": 112871, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0c672b1a855701ccca00911a6fbf02e4?s=128&d=identicon&r=PG", "display_name": "nicolaskruchten", "link": "https://stackoverflow.com/users/112871/nicolaskruchten"}, "edited": false, "score": 0, "creation_date": 1574444409, "post_id": 58965597, "comment_id": 104248764, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/202909/discussion-between-dgomonov-and-nicolaskruchten\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 21840, "user_id": 112871, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0c672b1a855701ccca00911a6fbf02e4?s=128&d=identicon&r=PG", "display_name": "nicolaskruchten", "link": "https://stackoverflow.com/users/112871/nicolaskruchten"}, "is_accepted": true, "score": 2, "last_activity_date": 1574371451, "last_edit_date": 1574371451, "creation_date": 1574297286, "answer_id": 58965597, "question_id": 58963970, "link": "https://stackoverflow.com/questions/58963970/python-plotly-how-to-print-y-trend-values-from-lowess-line/58965597#58965597", "title": "Python/Plotly: How to print y-trend values from LOWESS line?", "body": "<p>Today these values are not available but they could be in a future version! The reason nothing comes out of <code>get_trendline_result</code> is that LOWESS has no underlying model, it\u2019s just a kind of average.</p>\n\n<p>Under the hood Plotly Express uses the <code>statsmodels</code> library to generate LOWESS curves so you can probably run the same analysis outside of PX for now.</p>\n\n<p>Here is the code PX uses: <a href=\"https://github.com/plotly/plotly.py/blob/3ca829c73bd4841666c8b810f5e8457514eb3c99/packages/python/plotly/plotly/express/_core.py#L232\" rel=\"nofollow noreferrer\">https://github.com/plotly/plotly.py/blob/3ca829c73bd4841666c8b810f5e8457514eb3c99/packages/python/plotly/plotly/express/_core.py#L232</a></p>\n\n<p>If you want to query the actual values out of the figure, and you have nothing mapping to <code>color</code> or <code>symbol</code> then you can do something like:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>import plotly.express as px\ndf = px.data.tips()\nfig = px.scatter(df, x=\"total_bill\", y=\"tip\", trendline=\"lowess\")\nprint(fig.data[1].y)\n</code></pre>\n\n<p>but if you have <code>color</code> set, then the actual trace index in <code>fig.data[ &lt;index&gt; ]</code> will vary so this is pretty brittle.</p>\n"}], "owner": {"reputation": 165, "user_id": 12245523, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KSivo.jpg?s=128&g=1", "display_name": "DGomonov", "link": "https://stackoverflow.com/users/12245523/dgomonov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 627, "favorite_count": 0, "accepted_answer_id": 58965597, "answer_count": 1, "score": 2, "last_activity_date": 1574371451, "creation_date": 1574286805, "last_edit_date": 1574360400, "question_id": 58963970, "link": "https://stackoverflow.com/questions/58963970/python-plotly-how-to-print-y-trend-values-from-lowess-line", "title": "Python/Plotly: How to print y-trend values from LOWESS line?", "body": "<p>Here is what my snippet of LOWESS Smoothing looks like when I use Plotly lib: \n<a href=\"https://i.stack.imgur.com/qImk6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qImk6.png\" alt=\"LOWESS Smoothing line\"></a></p>\n\n<p>Now, I know that using Plotly it provides me the y-trend values if I hover over the line:\n<a href=\"https://i.stack.imgur.com/vhate.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vhate.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>Problem:</strong> I do not know how to print out these trend values. </p>\n\n<p>I am aware there is a function <code>px.get_trendline_results(forecast_fig)</code> but it prints out nothing for me...</p>\n\n<p><a href=\"https://i.stack.imgur.com/d8WUL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/d8WUL.png\" alt=\"use of known function \"></a></p>\n\n<p>Help is really appreciated!</p>\n"}, {"tags": ["python", "python-3.x", "tensorflow", "keras"], "comments": [{"owner": {"reputation": 9589, "user_id": 2846923, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a0d6c72fc52493dce1c9bde30cdce946?s=128&d=identicon&r=PG", "display_name": "The Guy with The Hat", "link": "https://stackoverflow.com/users/2846923/the-guy-with-the-hat"}, "edited": false, "score": 1, "creation_date": 1574287775, "post_id": 58963955, "comment_id": 104183374, "body": "<a href=\"https://keras.io/layers/merge/#dot_1\" rel=\"nofollow noreferrer\">keras.io/layers/merge/#dot_1</a>"}, {"owner": {"reputation": 757, "user_id": 11816060, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e056be276ae8f3e942b01db4740cb99?s=128&d=identicon&r=PG&f=1", "display_name": "user_12", "link": "https://stackoverflow.com/users/11816060/user-12"}, "reply_to_user": {"reputation": 9589, "user_id": 2846923, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a0d6c72fc52493dce1c9bde30cdce946?s=128&d=identicon&r=PG", "display_name": "The Guy with The Hat", "link": "https://stackoverflow.com/users/2846923/the-guy-with-the-hat"}, "edited": false, "score": 0, "creation_date": 1574287859, "post_id": 58963955, "comment_id": 104183416, "body": "@TheGuywithTheHat I&#39;ve seen the docs already but couldn&#39;t understand it. Apart from that it is taking dot product of those two tensors. But what is axes (2, 2) here. Is my embeddings are getting multiplied? is that it?"}], "answers": [{"comments": [{"owner": {"reputation": 757, "user_id": 11816060, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e056be276ae8f3e942b01db4740cb99?s=128&d=identicon&r=PG&f=1", "display_name": "user_12", "link": "https://stackoverflow.com/users/11816060/user-12"}, "edited": false, "score": 0, "creation_date": 1574329484, "post_id": 58971440, "comment_id": 104197266, "body": "so the dot product is done on embeddings i.e 64*64 . What will be the resultant shape in this case?"}, {"owner": {"reputation": 2102, "user_id": 1524289, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/GoSij.jpg?s=128&g=1", "display_name": "Eliethesaiyan", "link": "https://stackoverflow.com/users/1524289/eliethesaiyan"}, "reply_to_user": {"reputation": 757, "user_id": 11816060, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e056be276ae8f3e942b01db4740cb99?s=128&d=identicon&r=PG&f=1", "display_name": "user_12", "link": "https://stackoverflow.com/users/11816060/user-12"}, "edited": false, "score": 0, "creation_date": 1574331847, "post_id": 58971440, "comment_id": 104198815, "body": "in theory it should be, (None, 255,5), updated my answer"}], "tags": [], "owner": {"reputation": 2102, "user_id": 1524289, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/GoSij.jpg?s=128&g=1", "display_name": "Eliethesaiyan", "link": "https://stackoverflow.com/users/1524289/eliethesaiyan"}, "is_accepted": true, "score": 3, "last_activity_date": 1574332300, "last_edit_date": 1574332300, "creation_date": 1574328471, "answer_id": 58971440, "question_id": 58963955, "link": "https://stackoverflow.com/questions/58963955/what-does-axes-parameter-do-in-dot-layer-in-keras/58971440#58971440", "title": "what does axes parameter do in dot layer in keras?", "body": "<p>Axes mean the axis of your tensors.</p>\n\n<p>For examples, in your case, you have a tensor of shape=(None,552,64) which is 3D(rank 3) tensor.</p>\n\n<p>A scalar(e.g <code>3</code>)  is 0D tensor.</p>\n\n<p>A vector (<code>[1,2,3]</code>) is 1D tensor:</p>\n\n<p>A matrix ([         is 2D tensor. and so on.</p>\n\n<pre><code>       [1,2],\n       [2,3],\n        ]\n</code></pre>\n\n<p>the first axis( axis 0) is the one that has None.</p>\n\n<p>The second axis( axis 1 ) is the one that has 522 rows.</p>\n\n<p>The third axis ( axis 2) is the one that has 64 columns.</p>\n\n<pre><code>a = Input(batch_shape=(None,255,64))\nb = Input(batch_shape=(None,5,64))\nout = dot([a,b], axes =(2,2))\nout.shape\nTensorShape([Dimension(None), Dimension(255), Dimension(5)])\n</code></pre>\n\n<p>So basically, <code>a.b = a1.b1 + a2.b2 +.... + a64.b64</code> will give one scalar.\n Since you have a row of 5, you will have a vector of 5 dimensions in the last axis of your tensor.(vector Dimension is different from tensor Dimension</p>\n"}], "owner": {"reputation": 757, "user_id": 11816060, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e056be276ae8f3e942b01db4740cb99?s=128&d=identicon&r=PG&f=1", "display_name": "user_12", "link": "https://stackoverflow.com/users/11816060/user-12"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 633, "favorite_count": 0, "accepted_answer_id": 58971440, "answer_count": 1, "score": 3, "last_activity_date": 1574332300, "creation_date": 1574286731, "last_edit_date": 1574287049, "question_id": 58963955, "link": "https://stackoverflow.com/questions/58963955/what-does-axes-parameter-do-in-dot-layer-in-keras", "title": "what does axes parameter do in dot layer in keras?", "body": "<p>Which values are exactly being multipled when we specify axes = (2, 2)? Can anyone tell me what really is happening behind the scenes here?</p>\n\n<pre><code>match = dot([input_encoded_m, question_encoded], axes=(2, 2))\nmatch = Activation('softmax')(match)\n</code></pre>\n\n<p>Data shapes:</p>\n\n<pre><code>print(input_encoded_m)\nprint(questions_encoded)\n\n(&lt;tf.Tensor 'dropout_41/Identity:0' shape=(None, 552, 64) dtype=float32&gt;,\n &lt;tf.Tensor 'dropout_42/Identity:0' shape=(None, 5, 64) dtype=float32&gt;)\n</code></pre>\n\n<blockquote>\n  <p>input_encoded_m, 552 is sentence length, 64 is embeddings length </p>\n  \n  <p>questions_encoded, 5 is sentence length, 64 is embeddings length</p>\n</blockquote>\n\n<p>If we specify axes = (2, 2) in dot layer which values are being multiplied? can anyone help me with it?</p>\n"}, {"tags": ["python", "powershell", "choco"], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 11411490, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2225dbcf992cda00246051d0d1e912bb?s=128&d=identicon&r=PG&f=1", "display_name": "heavyblack1", "link": "https://stackoverflow.com/users/11411490/heavyblack1"}, "edited": false, "score": 0, "creation_date": 1574287632, "post_id": 58963973, "comment_id": 104183315, "body": "But I want run commannd not a script.I don&#39;t want use solution like save my command to file and run command from file and your method do not run script as admin."}, {"owner": {"reputation": 19192, "user_id": 5193536, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZGlox.png?s=128&g=1", "display_name": "nbk", "link": "https://stackoverflow.com/users/5193536/nbk"}, "edited": false, "score": 0, "creation_date": 1574297320, "post_id": 58963973, "comment_id": 104186181, "body": "Could you please add some explanation to your code."}], "tags": [], "owner": {"reputation": 9023, "user_id": 7658985, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/FmSLm.jpg?s=128&g=1", "display_name": "\u03b1\u050b\u0271\u04bd\u0503 \u03b1\u043c\u0454\u044f\u03b9c\u03b1\u03b7", "link": "https://stackoverflow.com/users/7658985/%ce%b1%d4%8b%c9%b1%d2%bd%d4%83-%ce%b1%d0%bc%d1%94%d1%8f%ce%b9c%ce%b1%ce%b7"}, "is_accepted": false, "score": 0, "last_activity_date": 1574286818, "creation_date": 1574286818, "answer_id": 58963973, "question_id": 58963946, "link": "https://stackoverflow.com/questions/58963946/run-powershell-command-from-cmd/58963973#58963973", "title": "Run powershell command from cmd", "body": "<pre><code>&gt;&gt;&gt; import subprocess\n&gt;&gt;&gt; import sys\n&gt;&gt;&gt; p = subprocess.Popen(['powershell.exe', 'C:\\\\Temp\\\\test.ps1'], stdout=sys.stdout)\n&gt;&gt;&gt; Hello World\n_\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 11411490, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2225dbcf992cda00246051d0d1e912bb?s=128&d=identicon&r=PG&f=1", "display_name": "heavyblack1", "link": "https://stackoverflow.com/users/11411490/heavyblack1"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 123, "favorite_count": 0, "closed_date": 1574286928, "answer_count": 1, "score": 0, "last_activity_date": 1574377105, "creation_date": 1574286682, "last_edit_date": 1574377105, "question_id": 58963946, "link": "https://stackoverflow.com/questions/58963946/run-powershell-command-from-cmd", "closed_reason": "Duplicate", "title": "Run powershell command from cmd", "body": "<p>I want to run powershell command from cmd because I need to install <a href=\"https://chocolatey.org/install\" rel=\"nofollow noreferrer\">choco package manager</a> from my python script. Like this:</p>\n\n<pre><code>import subprocess as sp\nchoco = sp.Popen(['powershell', 'Start-Process -verb runas powershell',\n                  '\"-noexit -command Set-ExecutionPolicy Bypass -Scope Process -Force; iex ((New-Object System.Net.WebClient).DownloadString(`https://chocolatey.org/install.ps1`)\"'])\n</code></pre>\n\n<p>Problem is url must be in quetes and if put url ' or \" this will un quote url.</p>\n\n<p>I want run choco install command i dond want run powershell script i just want run install choco and then i wand install some choco packages.</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 25463, "user_id": 5003756, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8BUMb.jpg?s=128&g=1", "display_name": "James", "link": "https://stackoverflow.com/users/5003756/james"}, "edited": false, "score": 2, "creation_date": 1574286816, "post_id": 58963925, "comment_id": 104182995, "body": "<code>Sub</code> and <code>Sub2</code> are basically identical classes.  Just make one <code>Sub</code> class and instantiate it it twice?"}, {"owner": {"reputation": 477, "user_id": 3894744, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8wZhi.jpg?s=128&g=1", "display_name": "WouldBeNerd", "link": "https://stackoverflow.com/users/3894744/wouldbenerd"}, "reply_to_user": {"reputation": 25463, "user_id": 5003756, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8BUMb.jpg?s=128&g=1", "display_name": "James", "link": "https://stackoverflow.com/users/5003756/james"}, "edited": false, "score": 0, "creation_date": 1574287116, "post_id": 58963925, "comment_id": 104183110, "body": "The idea is that they will be doing different things, it&#39;s just for example&#39;s sake."}], "answers": [{"tags": [], "owner": {"reputation": 16137, "user_id": 2026508, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d76e464967fe7ab0b42754ae5401d3ba?s=128&d=identicon&r=PG&f=1", "display_name": "jmunsch", "link": "https://stackoverflow.com/users/2026508/jmunsch"}, "is_accepted": true, "score": 1, "last_activity_date": 1574288899, "last_edit_date": 1574288899, "creation_date": 1574287802, "answer_id": 58964151, "question_id": 58963925, "link": "https://stackoverflow.com/questions/58963925/binding-multiple-functions-of-one-class-to-a-class-event-of-another-class-is-th/58964151#58964151", "title": "Binding multiple functions of one class to a class event of another class: is there a better/shorter way?", "body": "<p>You could pass the classes along to the <code>Window</code> class?:</p>\n\n<pre><code>class Sub():\n    def __init__(self, STR_sub='cba'):\n        self.STR_sub = STR_sub\n\n    def on_key_press(self, key):\n        print(f'pressed {key} from Sub: {self.STR_sub}')\n\n\nclass Sub2():\n    def __init__(self, STR_sub='abc'):\n        self.STR_sub = STR_sub\n\n    def on_key_press(self, key):\n        print(f'pressed {key} from Sub2: {self.STR_sub}')\n\n\nclass Sub3():\n    def __init__(self, STR_sub='?'):\n        self.STR_sub = STR_sub\n\n\nclass Window:\n    def __init__(self, send_events_to=[]):\n        self.send_events_to = send_events_to\n\n    def on_key_press(self, key):\n        print('a key was pressed')\n        for cls in self.send_events_to:\n            send = getattr(cls, 'on_key_press', None)\n            if send:\n                send(key)\n            else:\n                print('no on_key_press method')\n</code></pre>\n\n<p>Example usage:</p>\n\n<pre><code>s = Sub()\ns2 = Sub2()\ns3 = Sub3()\nw = Window(send_events_to=[s, s2, s3])\nw.on_key_press('hello')\n</code></pre>\n\n<p>output:</p>\n\n<pre><code>a key was pressed\npressed hello from Sub: cba\npressed hello from Sub2: abc\nno on_key_press method\n</code></pre>\n\n<p>With some subclassing:</p>\n\n<pre><code>class BaseSub(object):\n    def __init__(self, STR_sub='?'):\n        self.STR_sub = STR_sub\n\n    def on_key_press(self, key):\n        print(f'pressed {key} from {self.__class__.__name__}: {self.STR_sub}')\n\n\nclass Sub(BaseSub, object):\n    def __init__(self,*args, **kwargs):\n        super().__init__(*args, **kwargs)\n\n\nclass Sub2(BaseSub, object):\n    def __init__(self, *args, **kwargs):\n        super().__init__( *args, **kwargs)\n\n    def on_key_press(self, key):\n        print(f'pressed {key} from {self.__class__.__name__} with a different method: {self.STR_sub}')\n\n\nclass Sub3():\n    pass\n\nclass Window:\n    def __init__(self, send_events_to=[]):\n        self.send_events_to = send_events_to\n\n    def on_key_press(self, key):\n        print('a key was pressed')\n        for cls in self.send_events_to:\n            send = getattr(cls, 'on_key_press', None)\n            if send:\n                send(key)\n            else:\n                print('no on_key_press method')\n\ns = Sub(STR_sub='abc')\ns2 = Sub2(STR_sub='cba')\ns3 = Sub3()\nw = Window(send_events_to=[s, s2, s3])\n\nw.on_key_press('hello')\n</code></pre>\n\n<p>output:</p>\n\n<pre><code>a key was pressed\npressed hello from Sub: abc\npressed hello from Sub2 with a different method: cba\nno on_key_press method\n</code></pre>\n"}], "owner": {"reputation": 477, "user_id": 3894744, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8wZhi.jpg?s=128&g=1", "display_name": "WouldBeNerd", "link": "https://stackoverflow.com/users/3894744/wouldbenerd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35, "favorite_count": 0, "accepted_answer_id": 58964151, "answer_count": 1, "score": 1, "last_activity_date": 1574288899, "creation_date": 1574286573, "last_edit_date": 1574287587, "question_id": 58963925, "link": "https://stackoverflow.com/questions/58963925/binding-multiple-functions-of-one-class-to-a-class-event-of-another-class-is-th", "title": "Binding multiple functions of one class to a class event of another class: is there a better/shorter way?", "body": "<p>I am new to python. I am imagining a scenario where I will end up with many sub-classes listening to the same event on the main Window class. Before I was creating all my subclass instances in my main class and just assigning all the events from there. But after creating several sub-classes, that method becomes quite hard to oversee and manage. So now I was thinking of using the code shown below. But as my knowledge of classes is rudimentary I was wondering/hoping if there is perhaps a better way.</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>class Window:\n    def __init__(self):\n        self.on_key_press_events = []\n\n    def extend_on_key_press(self, event_fn):\n        self.on_key_press_events.append(event_fn)\n\n    def on_key_press(self, key):\n        print('a key was pressed')\n        for event_fn in self.on_key_press_events:\n            event_fn(key)\n\n\nclass Sub():\n    def __init__(self, STR_sub):\n        self.STR_sub = STR_sub\n\n    def on_key_press(self, key):\n        print(f'pressed {key} from Sub: {self.STR_sub}')\n\n    def bind_events(self, win):\n        win.extend_on_key_press(self.on_key_press)\n\n\nclass Sub2():\n    def __init__(self, STR_sub):\n        self.STR_sub = STR_sub\n\n    def on_key_press(self, key):\n        print(f'pressed {key} from Sub2: {self.STR_sub}')\n\n    def bind_events(self, win):\n        win.extend_on_key_press(self.on_key_press)\n\n\nwin = Window()\n\nsub = Sub(\"sub instance of Sub\")\nsub.bind_events(win)\n\nsub2 = Sub2(\"sub2 instance of Sub2\")\nsub2.bind_events(win)\n\nwin.on_key_press('A')\n\n</code></pre>\n"}, {"tags": ["python", "matplotlib", "3d", "texture-mapping", "pyvista"], "answers": [{"tags": [], "owner": {"reputation": 126, "user_id": 7130495, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rz5WE.jpg?s=128&g=1", "display_name": "Markus Rosenfelder", "link": "https://stackoverflow.com/users/7130495/markus-rosenfelder"}, "is_accepted": true, "score": 2, "last_activity_date": 1574617430, "creation_date": 1574617430, "answer_id": 59020586, "question_id": 58963924, "link": "https://stackoverflow.com/questions/58963924/how-can-i-use-pyvista-to-create-custom-3d-objects-from-lists-arrays/59020586#59020586", "title": "How can I use PyVista to create custom 3D objects from lists/arrays?", "body": "<p>For anyone with a similar problem: I found two packages that are easy to use and provide the needed functionality of texture mapping to numpy polygons. The first is PyVista, the working code is the following: </p>\n\n<pre class=\"lang-py prettyprint-override\"><code>import pyvista as pv\nimport numpy as np\nfrom PIL import Image\n\n# six polygons consisting of points with X, Y, and Z coordinates\npolygon_a = [\n    (371982, 5812893, 47),\n    (371987, 5812889, 47),\n    (371993, 5812896, 47),\n    (371988, 5812900, 47),\n    (371982, 5812893, 47),\n]\npolygon_b = [\n    (371987, 5812889, 44),\n    (371987, 5812889, 47),\n    (371982, 5812893, 47),\n    (371982, 5812893, 44),\n    (371987, 5812889, 44),\n]\npolygon_c = [\n    (371993, 5812896, 44),\n    (371993, 5812896, 47),\n    (371987, 5812889, 47),\n    (371987, 5812889, 44),\n    (371993, 5812896, 44),\n]\npolygon_d = [\n    (371982, 5812893, 44),\n    (371982, 5812893, 47),\n    (371988, 5812900, 47),\n    (371988, 5812900, 44),\n    (371982, 5812893, 44),\n]\npolygon_e = [\n    (371988, 5812900, 44),\n    (371988, 5812900, 47),\n    (371993, 5812896, 47),\n    (371993, 5812896, 44),\n    (371988, 5812900, 44),\n]\n\n\ntexture_coords_a = np.array(\n    [\n        [0.993515, 0.590665],\n        [0.583403, 0.995886],\n        [0.001318, 0.409513],\n        [0.411194, 0.00281],\n        [0.993515, 0.590665],\n    ]\n)\n\ntexture_coords_b = np.array(\n    [\n        [0.814495, 0.004965],\n        [0.986562, 0.175202],\n        [0.172649, 0.994582],\n        [0.004011, 0.820917],\n        [0.814495, 0.004965],\n    ]\n)\n\ntexture_coords_c = np.array(\n    [\n        [0.992976, 0.869131],\n        [0.867654, 0.99699],\n        [0.009377, 0.134356],\n        [0.138307, 0.010153],\n        [0.992976, 0.869131],\n    ]\n)\n\ntexture_coords_d = np.array(\n    [\n        [0.007693, 0.148416],\n        [0.15451, 0.00767],\n        [0.994519, 0.86112],\n        [0.844256, 0.998197],\n        [0.007693, 0.148416],\n    ]\n)\ntexture_coords_e = np.array(\n    [\n        [0.997322, 0.660826],\n        [0.89938, 0.990736],\n        [0.006374, 0.337104],\n        [0.106732, 0.00748],\n        [0.997322, 0.660826],\n    ]\n)\n\n\n# define polygon faces for each polygon\nfaces_a = np.hstack([[4, 0, 1, 2, 3]])\nfaces_b = np.hstack([[4, 0, 1, 2, 3]])\nfaces_c = np.hstack([[4, 0, 1, 2, 3]])\nfaces_d = np.hstack([[4, 0, 1, 2, 3]])\nfaces_e = np.hstack([[4, 0, 1, 2, 3]])\n\n# textures for some of the polygons as .jpg-files\n\nimg_a = \"tex_2962910.jpg\"\nimg_b = \"tex_2962971.jpg\"\nimg_c = \"tex_2962990.jpg\"\nimg_d = \"tex_2962933.jpg\"\nimg_e = \"tex_2962915.jpg\"\n\npolygons = [polygon_a, polygon_b, polygon_c, polygon_d, polygon_e]\nfaces = [faces_a, faces_b, faces_c, faces_d, faces_e]\ntextures = [img_a, img_b, img_c, img_d, img_e]\ntexture_coords = [\n    texture_coords_a,\n    texture_coords_b,\n    texture_coords_c,\n    texture_coords_d,\n    texture_coords_e,\n]\n\n\ndef create_meshes_with_textures(polygon, face, texture, texture_coords):\n    \"\"\" Opens each image with PIL, converts them to np.arrays and converts those to \n    VTK textures. Each textur gets mapped to a polygon according to the coordinates.\n    \"\"\"\n    img = Image.open(texture)\n    img.load()\n    img = np.asarray(img, dtype=np.uint8)\n    img = pv.numpy_to_texture(img)\n\n    polygon = np.array(polygon)\n    mesh = pv.PolyData(polygon, face)\n    mesh.t_coords = texture_coords\n    return mesh, img\n\n\n# create Plotter object from PyVista\np = pv.Plotter()\n\nfor polygon, face, texture, texture_coords in zip(\n    polygons, faces, textures, texture_coords\n    ):\n\n    # map the textures to the polygons\n    mesh, img = create_meshes_with_textures(polygon, face, texture, texture_coords)\n    # add the resulting meshes to the Plotter object\n    p.add_mesh(mesh, texture=img)\n\np.show()\n</code></pre>\n\n<p>The second option is to use <a href=\"https://github.com/marcomusy/vtkplotter\" rel=\"nofollow noreferrer\">vtkplotter</a>, thanks to the developer who implemented the feature through this <a href=\"https://github.com/marcomusy/vtkplotter/issues/77\" rel=\"nofollow noreferrer\">GitHub Issue</a>. Overall both packages work quite well for this problem, with vtkplotter needing less conversion steps for the texture data.</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>from vtkplotter import *\nimport numpy as np\n\n# six polygons consisting of points with X, Y, and Z coordinates\npolygon_a = [\n    [\n        (371982, 5812893, 47),\n        (371987, 5812889, 47),\n        (371993, 5812896, 47),\n        (371988, 5812900, 47),\n        (371982, 5812893, 47),\n    ],\n    [[0, 1, 2, 3, 4]],\n]\npolygon_b = [\n    [\n        (371987, 5812889, 44),\n        (371987, 5812889, 47),\n        (371982, 5812893, 47),\n        (371982, 5812893, 44),\n        (371987, 5812889, 44),\n    ],\n    [[0, 1, 2, 3, 4]],\n]\n\npolygon_c = [\n    [\n        (371993, 5812896, 44),\n        (371993, 5812896, 47),\n        (371987, 5812889, 47),\n        (371987, 5812889, 44),\n        (371993, 5812896, 44),\n    ],\n    [[0, 1, 2, 3, 4]],\n]\npolygon_d = [\n    [\n        (371982, 5812893, 44),\n        (371982, 5812893, 47),\n        (371988, 5812900, 47),\n        (371988, 5812900, 44),\n        (371982, 5812893, 44),\n    ],\n    [[0, 1, 2, 3, 4]],\n]\npolygon_e = [\n    [\n        (371988, 5812900, 44),\n        (371988, 5812900, 47),\n        (371993, 5812896, 47),\n        (371993, 5812896, 44),\n        (371988, 5812900, 44),\n    ],\n    [[0, 1, 2, 3, 4]],\n]\npolygon_f = [\n    [\n        (371987, 5812889, 44),\n        (371982, 5812893, 44),\n        (371988, 5812900, 44),\n        (371993, 5812896, 44),\n        (371987, 5812889, 44),\n    ],\n    [[0, 1, 2, 3, 4]],\n]\n\n# texture coordinates of X, Y with interval [0, 1]\ntexture_coords_a = [\n    0.993515,\n    0.590665,\n    0.583403,\n    0.995886,\n    0.001318,\n    0.409513,\n    0.411194,\n    0.00281,\n    0.993515,\n    0.590665,\n]\ntexture_coords_b = [\n    0.814495,\n    0.004965,\n    0.986562,\n    0.175202,\n    0.172649,\n    0.994582,\n    0.004011,\n    0.820917,\n    0.814495,\n    0.004965,\n]\ntexture_coords_c = [\n    0.992976,\n    0.869131,\n    0.867654,\n    0.99699,\n    0.009377,\n    0.134356,\n    0.138307,\n    0.010153,\n    0.992976,\n    0.869131,\n]\ntexture_coords_d = [\n    0.007693,\n    0.148416,\n    0.15451,\n    0.00767,\n    0.994519,\n    0.86112,\n    0.844256,\n    0.998197,\n    0.007693,\n    0.148416,\n]\ntexture_coords_e = [\n    0.997322,\n    0.660826,\n    0.89938,\n    0.990736,\n    0.006374,\n    0.337104,\n    0.106732,\n    0.00748,\n    0.997322,\n    0.660826,\n]\n\ntexture_coords = [\n    texture_coords_a,\n    texture_coords_b,\n    texture_coords_c,\n    texture_coords_d,\n    texture_coords_e,\n]\n\n# textures for some of the polygons as .jpg-files\nimg_a = \"tex_2962910\"\nimg_b = \"tex_2962971\"\nimg_c = \"tex_2962990\"\nimg_d = \"tex_2962933\"\nimg_e = \"tex_2962915\"\n\npolygons = [polygon_a, polygon_b, polygon_c, polygon_d, polygon_e]\ntextures = [img_a, img_b, img_c, img_d, img_e]\n\nmeshes = []\n\n# loop through all polygons and their textures\nfor polygon, texture, texture_coord in zip(polygons, textures, texture_coords):\n    # reformat texture coordinates as [(u,v), ...]\n    texture_coord = np.split(np.array(texture_coord), 5)\n    # create an Actor object for each polygon\n    polygon = Actor(polygon)\n    # map the textur with the according coordinates\n    polygon.texture(texture, tcoords=texture_coord)\n    meshes.append(polygon)\n\n# assemble the objects\npolygons = Assembly(meshes)\n\nshow(polygons, viewup=\"z\", axes=8)\n</code></pre>\n"}], "owner": {"reputation": 126, "user_id": 7130495, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rz5WE.jpg?s=128&g=1", "display_name": "Markus Rosenfelder", "link": "https://stackoverflow.com/users/7130495/markus-rosenfelder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 367, "favorite_count": 1, "accepted_answer_id": 59020586, "answer_count": 1, "score": 1, "last_activity_date": 1574617430, "creation_date": 1574286571, "question_id": 58963924, "link": "https://stackoverflow.com/questions/58963924/how-can-i-use-pyvista-to-create-custom-3d-objects-from-lists-arrays", "title": "How can I use PyVista to create custom 3D objects from lists/arrays?", "body": "<p>I want to create 3D objects consisting of 2D polygons, each of whcih has a texture consisting of a single jpeg-image. I have 3D coordinates of X, Y, and Z values for the polygons as well as texture coordinates in an [0, 1] interval. I can plot the 3D objects in matplotlib using <code>Poly3DCollection</code>, but as I have read so far, matplotlib does not support texture mapping for polygons. I have found <a href=\"https://github.com/pyvista/pyvista\" rel=\"nofollow noreferrer\">PyVista</a>, which seems to be a good choice for <a href=\"https://docs.pyvista.org/examples/02-plot/texture.html#sphx-glr-examples-02-plot-texture-py\" rel=\"nofollow noreferrer\">texture mapping</a>, but I don't understand how to create a PyVista-compatible dataset from my data. Here is my currently working matplotlib-example:</p>\n\n<pre><code>from mpl_toolkits.mplot3d import Axes3D\nfrom mpl_toolkits.mplot3d.art3d import Poly3DCollection\nimport matplotlib.pyplot as plt\n\n# six polygons consisting of points with X, Y, and Z coordinates \npolygon_a = [\n    [\n        (371982, 5812893, 47),\n        (371987, 5812889, 47),\n        (371993, 5812896, 47),\n        (371988, 5812900, 47),\n        (371982, 5812893, 47),\n    ]\n]\npolygon_b = [\n    [\n        (371987, 5812889, 44),\n        (371987, 5812889, 47),\n        (371982, 5812893, 47),\n        (371982, 5812893, 44),\n        (371987, 5812889, 44),\n    ]\n]\npolygon_c = [\n    [\n        (371993, 5812896, 44),\n        (371993, 5812896, 47),\n        (371987, 5812889, 47),\n        (371987, 5812889, 44),\n        (371993, 5812896, 44),\n    ]\n]\npolygon_d = [\n    [\n        (371982, 5812893, 44),\n        (371982, 5812893, 47),\n        (371988, 5812900, 47),\n        (371988, 5812900, 44),\n        (371982, 5812893, 44),\n    ]\n]\npolygon_e = [\n    [\n        (371988, 5812900, 44),\n        (371988, 5812900, 47),\n        (371993, 5812896, 47),\n        (371993, 5812896, 44),\n        (371988, 5812900, 44),\n    ]\n]\npolygon_f = [\n    [\n        (371987, 5812889, 44),\n        (371982, 5812893, 44),\n        (371988, 5812900, 44),\n        (371993, 5812896, 44),\n        (371987, 5812889, 44),\n    ]\n]\n\n# texture coordinates of interval [0, 1]\n\ntexture_coords_a = [\n    0.993515,\n    0.590665,\n    0.583403,\n    0.995886,\n    0.001318,\n    0.409513,\n    0.411194,\n    0.00281,\n    0.993515,\n    0.590665,\n]\ntexture_coords_b = [\n    0.814495,\n    0.004965,\n    0.986562,\n    0.175202,\n    0.172649,\n    0.994582,\n    0.004011,\n    0.820917,\n    0.814495,\n    0.004965,\n]\ntexture_coords_c = [\n    0.992976,\n    0.869131,\n    0.867654,\n    0.99699,\n    0.009377,\n    0.134356,\n    0.138307,\n    0.010153,\n    0.992976,\n    0.869131,\n]\ntexture_coords_d = [\n    0.007693,\n    0.148416,\n    0.15451,\n    0.00767,\n    0.994519,\n    0.86112,\n    0.844256,\n    0.998197,\n    0.007693,\n    0.148416,\n]\ntexture_coords_e = [\n    0.997322,\n    0.660826,\n    0.89938,\n    0.990736,\n    0.006374,\n    0.337104,\n    0.106732,\n    0.00748,\n    0.997322,\n    0.660826,\n]\n\n# textures for some of the polygons as .jpg-files\n\nimg_a = \"tex_2962910.jpg\"\nimg_b = \"tex_2962971.jpg\"\nimg_c = \"tex_2962990.jpg\"\nimg_d = \"tex_2962933.jpg\"\nimg_e = \"tex_2962915.jpg\"\n\npolygons = [polygon_a, polygon_b, polygon_c, polygon_d, polygon_e, polygon_f]\n\n# 3D plot of the polygons using matplotlib, but without textures\nfig = plt.figure()\nax = Axes3D(fig)\nfor polygon in polygons:\n    ax.add_collection3d(Poly3DCollection(polygon, alpha=0.5))\n\nax.set_xlim3d(371980, 371995)\nax.set_ylim3d(5812889, 5812902)\nax.set_zlim3d(44, 48)\n\nplt.show()\n</code></pre>\n\n<p>I would appreciate any help in the right direction!</p>\n"}, {"tags": ["javascript", "python", "html", "django", "ajax"], "comments": [{"owner": {"reputation": 17762, "user_id": 548562, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26587173d9156d8ec3114c8700d1b693?s=128&d=identicon&r=PG", "display_name": "Iain Shelvington", "link": "https://stackoverflow.com/users/548562/iain-shelvington"}, "edited": false, "score": 0, "creation_date": 1574288194, "post_id": 58963908, "comment_id": 104183526, "body": "Are you using any JS framework already?"}], "answers": [{"tags": [], "owner": {"reputation": 148, "user_id": 12375241, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8N1B7.jpg?s=128&g=1", "display_name": "CR Python", "link": "https://stackoverflow.com/users/12375241/cr-python"}, "is_accepted": false, "score": 0, "last_activity_date": 1574288497, "last_edit_date": 1574288497, "creation_date": 1574287475, "answer_id": 58964084, "question_id": 58963908, "link": "https://stackoverflow.com/questions/58963908/how-to-render-a-name-after-clicking-tabbing-out-of-a-field-in-django/58964084#58964084", "title": "How to render a name after clicking/tabbing out of a field in Django?", "body": "<p>Pass it thru a context dictionary.</p>\n\n<pre><code>def Detail(request, slug):\n        employee = get_object_or_404(Salesman, id=id)\n        context = {\n            'employee' : employee,\n        }\n        return render(request, 'blog/blog_detail.html', context)\n</code></pre>\n\n<p>This is a view that returns an HTML template. \n<a href=\"https://docs.djangoproject.com/en/2.2/topics/templates/\" rel=\"nofollow noreferrer\">here is the docs for templates</a></p>\n\n<p>in the template, you can use the following to add the name.</p>\n\n<pre><code>&lt;h1&gt;{{employee.slsmn_name}}&lt;/h1&gt;\n</code></pre>\n\n<p>Also As far as updating it once the put the number in. If you want it to update without sending another request you will have to use JS. I would suggest Vue.js as it is easy and works well within Django but pure js works great if you're worried about older browsers. For this functionality to work without ajax(i prefer axios for small apps) you will need to </p>\n\n<ol>\n<li>pass the list of all employees thru a setter \"onload\" function\nattached to the body and store this list on the JS file.</li>\n</ol>\n\n<p></p>\n\n<ol start=\"2\">\n<li>Bind the input of the employee id to a variable in the js file</li>\n<li>Sort through the list of employees to find the object that is a match.</li>\n<li>Then bind the inner HTML of dom element that should contain the employee name and make innerhtml = name.</li>\n</ol>\n\n<p>this makes it possible without an API call but if you have thousands of employees this will really slow down your site. This is pretty simple JS and does not require an advanced knowledge but is a great implementation of the fundamentals</p>\n"}], "owner": {"reputation": 113, "user_id": 12292957, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/902154da529e422055fd8e1c5fba6f38?s=128&d=identicon&r=PG&f=1", "display_name": "Mariana", "link": "https://stackoverflow.com/users/12292957/mariana"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 22, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1574288497, "creation_date": 1574286498, "question_id": 58963908, "link": "https://stackoverflow.com/questions/58963908/how-to-render-a-name-after-clicking-tabbing-out-of-a-field-in-django", "title": "How to render a name after clicking/tabbing out of a field in Django?", "body": "<p>I have a form that is used to keep track of when employees enter/leave an area to track times. The first field is where they enter their employee #. I have a table in my database that comes from another model, called <em>Salesman</em>, where all the employee data (names, dept., etc.) is stored, as shown here (only fields relevant to question shown):</p>\n\n<p><strong>alldata/models.py</strong></p>\n\n<pre><code>class Salesman(models.Model):\n    slsmn_name = models.CharField(max_length=25)\n    id = models.IntegerField(db_column='number', primary_key=True)\n    ...\n\n    def __str__(self):\n        return \"\"\n</code></pre>\n\n<p>My model for the form is set so that the <strong>employee_number</strong> field is related to Salesman, so that the numbers entered in my form can only be numbers that are valid in Salesman based on the <strong>id</strong> and so that I can filter \"who\" can submit the form or not (depending on team/status).</p>\n\n<p><strong>models.py</strong></p>\n\n<pre><code>class EmployeeWorkAreaLog(TimeStampedModel, SoftDeleteModel, models.Model):\n    employee_number = models.ForeignKey(Salesman, on_delete=models.SET_NULL, help_text=\"Employee #\", null=True, blank=False)\n...\n</code></pre>\n\n<p><strong>forms.py</strong></p>\n\n<pre><code>class WarehouseForm(AppsModelForm):\n    class Meta:\n        model = EmployeeWorkAreaLog\n        widgets = {\n            'employee_number': ForeignKeyRawIdWidget(EmployeeWorkAreaLog._meta.get_field('employee_number').remote_field, site, attrs={'id':'employee_number_field'}),\n        }\n        fields = ('employee_number', 'work_area', 'station_number')\n\n    def clean_employee_number(self):\n        employee_number = self.cleaned_data.get('employee_number')\n        if employee_number is None:\n            raise forms.ValidationError(\"Must enter emp #\")\n        elif employee_number.team not in ('WF', 'WP', 'OM') or employee_number.employee_status not in 'A':\n            raise forms.ValidationError(\"Employee not valid, please contact manager\")\n        return employee_number\n</code></pre>\n\n<p>What I need help with, is being able to render the name of the person in the html right on top of where they enter their employee # once they click away/tab out of the field, in the same way a \"Username 'whatever' is taken\" message shows after you type a username you want somewhere and once you go onto the next field, the page quickly cross-checks the db to see if the name exists and renders it.</p>\n\n<p>I have no experience with AJAX/JS scripts/requests (and not much experience with python either, this has been figuring it out as I go), but I tried creating a function that returns the name from Salesman within views.py like this</p>\n\n<pre><code>def get_employee_name(request, id):\n    employee = get_object_or_404(Salesman, id=id)\n    return HttpResponse(employee.slsmn_name)\n</code></pre>\n\n<p>But I'm not sure how to get it to render/display within the HTML in my page. I was thinking maybe by checking if the length of the number entered is 6 then that triggers a request for the name (all employee numbers have 6 digits). Any guidance/advice on how to approach this is appreciated!</p>\n"}, {"tags": ["python", "camera", "computer-vision", "intrinsics", "distortion"], "comments": [{"owner": {"reputation": 156, "user_id": 11158543, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/98a367a87c8b9f0787eee934e8494312?s=128&d=identicon&r=PG&f=1", "display_name": "V.Hunon", "link": "https://stackoverflow.com/users/11158543/v-hunon"}, "edited": false, "score": 1, "creation_date": 1574316950, "post_id": 58963893, "comment_id": 104191060, "body": "Please add Python tag. To your question: As you have found out by yourself, it is current a topic of research of how to handle distorted images, especially for wide angle taken images. Since you want to use your snippet for dynamic images, I would recommend you to normalize distorted parts (idk how) apply your BB and convert it back.  If you know a good paper which handles that distortion, please tell me :)"}], "owner": {"reputation": 674, "user_id": 1811073, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/17347e7edbad326a47aea734d98ff45d?s=128&d=identicon&r=PG", "display_name": "aweeeezy", "link": "https://stackoverflow.com/users/1811073/aweeeezy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 50, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1574317096, "creation_date": 1574286437, "last_edit_date": 1574317096, "question_id": 58963893, "link": "https://stackoverflow.com/questions/58963893/computing-centimeter-per-pixel-distortions-caused-by-wide-angle-short-focal-le", "title": "Computing centimeter-per-pixel distortions caused by wide angle / short focal length lens based on camera height", "body": "<p>Given an overhead camera with a field-of-view angle <code>fov</code>, a mounting height in centimeters <code>height</code>, and a frame <code>image</code>, I can compute the minimum and maximum length side of a bounding box (in pixels) for detecting people using the following piece of code:</p>\n\n<pre><code>def min_max_area(img, height, fov):\n    \"\"\"\n    Use height (in centimeters) to determine the appropriate minimum and\n    maximum pixel area for detecting people.\n    \"\"\"\n    min_cm_width = 30  # female forearm-to-forearm is about 45 cm\n    max_cm_width = 70  # male forearm-to-forearm is about 55 cm\n\n    avg_person_height = 169\n\n    # get real distance of camera view width and centimeters per pixel\n    x = (height - avg_person_height) * math.tan(math.radians(fov/2)) * 2\n    cm_per_pixel = x / img.shape[1]\n\n    # determine minimum and maximum edge length of bounding box\n    min_pixel_width = min_cm_width / cm_per_pixel\n    max_pixel_width = max_cm_width / cm_per_pixel\n\n    return min_pixel_width**2, max_pixel_width**2\n</code></pre>\n\n<p>This works fine for standard focal length lens or short focal length lens mounted at a higher distance from the floor. For example, I've tested with a 106 degree FOV camera mounted at 274 centimeters and that's OK. A 60-70 degree FOV lens mounted at 209 centimeters works fine but cannot capture a large enough field of view to be useful meaning a solution that uses a wide-angle lens instead is required.</p>\n\n<p>However, when I use a 170 degree FOV camera mounted at 209 centimeters, the bounding boxes are much too small to detect a person standing underneath the camera. The problem persists using the 106 degree FOV camera, although it's not as pronounced. </p>\n\n<p>Here is a screenshot of the 170 degree FOV camera mounted at 209 centimeters -- the red and black squares are the incorrectly computed minimum and maximum bounding boxes, respectively:\n<a href=\"https://i.stack.imgur.com/WS0b4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WS0b4.png\" alt=\"enter image description here\"></a></p>\n\n<p>My thoughts are that:</p>\n\n<ul>\n<li><p>there must be some math to scale the bounding box size</p></li>\n<li><p>using the FOV / given focal length may or may not be sufficient</p></li>\n<li><p>if FOV / given focal length are not sufficient, computing the camera's intrinsic parameters hopefully will be</p></li>\n<li><p>when a contour is discovered, use its radial distance from the optical center (in combination with the camera matrix?) to dynamically compute cms/pixel instead of assuming a constant ratio across the whole image</p></li>\n</ul>\n\n<p>I think <a href=\"https://pgaleone.eu/computer-vision/2019/01/18/camera-setup-measurement/\" rel=\"nofollow noreferrer\">this link</a> may contain information relevant to my needs but I'm not sure...what camera parameters (if any) are necessary to scale a bounding box (if possible) to correct cm/pixel distortions? If possible, what general form might an equation take which achieves this?   </p>\n"}, {"tags": ["python", "tensorflow", "machine-learning", "keras", "valueerror"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 12393464, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b65f24d8734dc30c1118aecf334d5f1?s=128&d=identicon&r=PG&f=1", "display_name": "Dan", "link": "https://stackoverflow.com/users/12393464/dan"}, "edited": false, "score": 0, "creation_date": 1574288932, "post_id": 58964068, "comment_id": 104183780, "body": "When I tried that I got: <code>ValueError: Error when checking input: expected dense_32_input to have shape (7,) but got array with shape (1,)</code>"}, {"owner": {"reputation": 64, "user_id": 8803937, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8895489c13394fcfc2e361512dabd646?s=128&d=identicon&r=PG&f=1", "display_name": "victor noriega", "link": "https://stackoverflow.com/users/8803937/victor-noriega"}, "reply_to_user": {"reputation": 1, "user_id": 12393464, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b65f24d8734dc30c1118aecf334d5f1?s=128&d=identicon&r=PG&f=1", "display_name": "Dan", "link": "https://stackoverflow.com/users/12393464/dan"}, "edited": false, "score": 0, "creation_date": 1574289494, "post_id": 58964068, "comment_id": 104183971, "body": "Yes, sorry. Delete the input_dim argument and there will be no problem."}], "tags": [], "owner": {"reputation": 64, "user_id": 8803937, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8895489c13394fcfc2e361512dabd646?s=128&d=identicon&r=PG&f=1", "display_name": "victor noriega", "link": "https://stackoverflow.com/users/8803937/victor-noriega"}, "is_accepted": false, "score": 1, "last_activity_date": 1574287382, "creation_date": 1574287382, "answer_id": 58964068, "question_id": 58963889, "link": "https://stackoverflow.com/questions/58963889/keras-neural-network-valueerror-input-shape-is-wrong/58964068#58964068", "title": "Keras neural network: ValueError - input shape is wrong", "body": "<p>Keras is expecting the number of attributes or variables of X in the input layer, but you defined your input layer as</p>\n\n<pre><code>model.add(Dense(7, input_shape = x.shape, activation='relu')) #Hidden layer 1\n</code></pre>\n\n<p>So, that means that there will be 7 hidden units in the input layer, which should not be true, because you only have 1 variable in X.\nTry doing:</p>\n\n<pre><code>model.add(Dense(1, input_dim = x.shape[0], activation='relu')) #Input layer\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 12393464, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b65f24d8734dc30c1118aecf334d5f1?s=128&d=identicon&r=PG&f=1", "display_name": "Dan", "link": "https://stackoverflow.com/users/12393464/dan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1574287382, "creation_date": 1574286430, "question_id": 58963889, "link": "https://stackoverflow.com/questions/58963889/keras-neural-network-valueerror-input-shape-is-wrong", "title": "Keras neural network: ValueError - input shape is wrong", "body": "<p>I am trying to program a small regression neural network as a starting point to learn the basics. </p>\n\n<p>This is the simple data set that I am using:</p>\n\n<p><a href=\"https://i.stack.imgur.com/xx6mm.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/xx6mm.png</a></p>\n\n<pre><code>from tensorflow.keras.models import Sequential\nfrom tensorflow.keras.layers import Dense, Activation\nimport pandas as pd\nimport io\nimport os\nimport requests\nimport numpy as np\nfrom sklearn import metrics\n\ndf = pd.read_csv(\"C:\\\\Users\\\\Dan\\\\y_sinx.csv\")\n\nx = df['x'].values #Pandas to Numpy\ny = df['y'].values\n\n\nprint(type(x)) #check type\nprint(np.shape(x)) #check dimensions\nprint(x) #check x\n\n#Network\nmodel = Sequential()\nmodel.add(Dense(7, input_shape = x.shape, activation='relu')) #Hidden layer 1\nmodel.add(Dense(4, activation='relu')) #Hidden layer 2\nmodel.add(Dense(1)) #Output layer\nmodel.compile(loss='mean_squared_error', optimizer = 'adam')\nmodel.fit(x, y, verbose = 2, epochs = 20)\n</code></pre>\n\n<p>This code gives the outputs:</p>\n\n<pre><code>&lt;class 'numpy.ndarray'&gt;\n(7,)\n[0.         0.78539816 1.57079633 2.35619449 3.14159265 3.92699082\n 4.71238898]\n</code></pre>\n\n<p>So it appears to be the correct size (7,), but perhaps the output of x itself looks wrong, it should be one column? I get the error:</p>\n\n<pre><code>ValueError                                Traceback (most recent call last)\n&lt;ipython-input-1-5db977397f3e&gt; in &lt;module&gt;\n     24 model.add(Dense(1)) #Output layer\n     25 model.compile(loss='mean_squared_error', optimizer = 'adam')\n---&gt; 26 model.fit(x, y, verbose = 2, epochs = 20)\n     27 \n     28 #Prediction\n\n~\\Anaconda3\\envs\\tensorflow\\lib\\site-packages\\tensorflow\\python\\keras\\engine\\training.py in fit(self, x, y, batch_size, epochs, verbose, callbacks, validation_split, validation_data, shuffle, class_weight, sample_weight, initial_epoch, steps_per_epoch, validation_steps, validation_freq, max_queue_size, workers, use_multiprocessing, **kwargs)\n    641         max_queue_size=max_queue_size,\n    642         workers=workers,\n--&gt; 643         use_multiprocessing=use_multiprocessing)\n    644 \n    645   def evaluate(self,\n\n~\\Anaconda3\\envs\\tensorflow\\lib\\site-packages\\tensorflow\\python\\keras\\engine\\training_arrays.py in fit(self, model, x, y, batch_size, epochs, verbose, callbacks, validation_split, validation_data, shuffle, class_weight, sample_weight, initial_epoch, steps_per_epoch, validation_steps, validation_freq, **kwargs)\n    630         steps=steps_per_epoch,\n    631         validation_split=validation_split,\n--&gt; 632         shuffle=shuffle)\n    633 \n    634     if validation_data:\n\n~\\Anaconda3\\envs\\tensorflow\\lib\\site-packages\\tensorflow\\python\\keras\\engine\\training.py in _standardize_user_data(self, x, y, sample_weight, class_weight, batch_size, check_steps, steps_name, steps, validation_split, shuffle, extract_tensors_from_dataset)\n   2426           feed_input_shapes,\n   2427           check_batch_axis=False,  # Don't enforce the batch size.\n-&gt; 2428           exception_prefix='input')\n   2429 \n   2430     if y is not None:\n\n~\\Anaconda3\\envs\\tensorflow\\lib\\site-packages\\tensorflow\\python\\keras\\engine\\training_utils.py in standardize_input_data(data, names, shapes, check_batch_axis, exception_prefix)\n    519                              ': expected ' + names[i] + ' to have shape ' +\n    520                              str(shape) + ' but got array with shape ' +\n--&gt; 521                              str(data_shape))\n    522   return data\n    523 \n\nValueError: Error when checking input: expected dense_input to have shape (7,) but got array with shape (1,)\n</code></pre>\n\n<p>I'm not sure how it got an array with shape (1,) and how to fix it, help would be greatly appreciated!</p>\n"}, {"tags": ["python", "file"], "comments": [{"owner": {"reputation": 25463, "user_id": 5003756, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8BUMb.jpg?s=128&g=1", "display_name": "James", "link": "https://stackoverflow.com/users/5003756/james"}, "edited": false, "score": 1, "creation_date": 1574286599, "post_id": 58963878, "comment_id": 104182887, "body": "If you are always splitting on periods (which can be incorrect, i.e. &quot;Mr. Smith went to Washington&quot;).  You can open the first file for reading, open the new file for writing, and at ever period add a line break."}, {"owner": {"reputation": 94, "user_id": 11483132, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-gbjAPwrYt54/AAAAAAAAAAI/AAAAAAAAABI/Q4Xs2SluGKA/photo.jpg?sz=128", "display_name": "Eli", "link": "https://stackoverflow.com/users/11483132/eli"}, "edited": false, "score": 0, "creation_date": 1574286637, "post_id": 58963878, "comment_id": 104182909, "body": "&#39;\\n&#39; will start a new line."}, {"owner": {"reputation": 67, "user_id": 12206640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f2dde3546d4128820cc57d44183ad55?s=128&d=identicon&r=PG&f=1", "display_name": "Hemal", "link": "https://stackoverflow.com/users/12206640/hemal"}, "reply_to_user": {"reputation": 25463, "user_id": 5003756, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8BUMb.jpg?s=128&g=1", "display_name": "James", "link": "https://stackoverflow.com/users/5003756/james"}, "edited": false, "score": 0, "creation_date": 1574286713, "post_id": 58963878, "comment_id": 104182945, "body": "@James you are right I did not consider this, however I am just a beginner programmer and in this case I don&#39;t need to exactly define a sentence (rather just split on breaks)"}], "answers": [{"comments": [{"owner": {"reputation": 67, "user_id": 12206640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f2dde3546d4128820cc57d44183ad55?s=128&d=identicon&r=PG&f=1", "display_name": "Hemal", "link": "https://stackoverflow.com/users/12206640/hemal"}, "edited": false, "score": 1, "creation_date": 1574286802, "post_id": 58963935, "comment_id": 104182991, "body": "How can I add ? and ! to this? Just adding two more replace lines?"}, {"owner": {"reputation": 178, "user_id": 11329158, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AH8rT.jpg?s=128&g=1", "display_name": "Branson Smith", "link": "https://stackoverflow.com/users/11329158/branson-smith"}, "reply_to_user": {"reputation": 67, "user_id": 12206640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f2dde3546d4128820cc57d44183ad55?s=128&d=identicon&r=PG&f=1", "display_name": "Hemal", "link": "https://stackoverflow.com/users/12206640/hemal"}, "edited": false, "score": 1, "creation_date": 1574286875, "post_id": 58963935, "comment_id": 104183017, "body": "That would be the simplest way, which is a good route for a brand new beginner!"}, {"owner": {"reputation": 67, "user_id": 12206640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f2dde3546d4128820cc57d44183ad55?s=128&d=identicon&r=PG&f=1", "display_name": "Hemal", "link": "https://stackoverflow.com/users/12206640/hemal"}, "edited": false, "score": 0, "creation_date": 1574286898, "post_id": 58963935, "comment_id": 104183024, "body": "also how do I get string from the first file to the string to another? Could you show me how this works?"}, {"owner": {"reputation": 67, "user_id": 12206640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f2dde3546d4128820cc57d44183ad55?s=128&d=identicon&r=PG&f=1", "display_name": "Hemal", "link": "https://stackoverflow.com/users/12206640/hemal"}, "edited": false, "score": 0, "creation_date": 1574286952, "post_id": 58963935, "comment_id": 104183046, "body": "i looked up the open() for python just wondering how to link the content from the first txt to another"}, {"owner": {"reputation": 178, "user_id": 11329158, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AH8rT.jpg?s=128&g=1", "display_name": "Branson Smith", "link": "https://stackoverflow.com/users/11329158/branson-smith"}, "reply_to_user": {"reputation": 67, "user_id": 12206640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f2dde3546d4128820cc57d44183ad55?s=128&d=identicon&r=PG&f=1", "display_name": "Hemal", "link": "https://stackoverflow.com/users/12206640/hemal"}, "edited": false, "score": 0, "creation_date": 1574287335, "post_id": 58963935, "comment_id": 104183185, "body": "This post addresses that question: <a href=\"https://stackoverflow.com/questions/15343743/copying-from-one-text-file-to-another-using-python/32977473\" title=\"copying from one text file to another using python\">stackoverflow.com/questions/15343743/&hellip;</a>. Look at the top answer by @ATOzTOA. Basically, you&#39;ll need to open up an input  file and an output file. Then use outputfile.write(string). I will add it to the bottom of my original code snippet."}, {"owner": {"reputation": 67, "user_id": 12206640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f2dde3546d4128820cc57d44183ad55?s=128&d=identicon&r=PG&f=1", "display_name": "Hemal", "link": "https://stackoverflow.com/users/12206640/hemal"}, "edited": false, "score": 0, "creation_date": 1574288806, "post_id": 58963935, "comment_id": 104183741, "body": "I added the code to my question, still not working. Could you check where did I make a mistake?"}, {"owner": {"reputation": 178, "user_id": 11329158, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AH8rT.jpg?s=128&g=1", "display_name": "Branson Smith", "link": "https://stackoverflow.com/users/11329158/branson-smith"}, "reply_to_user": {"reputation": 67, "user_id": 12206640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f2dde3546d4128820cc57d44183ad55?s=128&d=identicon&r=PG&f=1", "display_name": "Hemal", "link": "https://stackoverflow.com/users/12206640/hemal"}, "edited": false, "score": 1, "creation_date": 1574291292, "post_id": 58963935, "comment_id": 104184656, "body": "Remove the top and bottom two lines. You are opening and closing the files using &quot;with&quot; already."}], "tags": [], "owner": {"reputation": 178, "user_id": 11329158, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AH8rT.jpg?s=128&g=1", "display_name": "Branson Smith", "link": "https://stackoverflow.com/users/11329158/branson-smith"}, "is_accepted": false, "score": 1, "last_activity_date": 1574287551, "last_edit_date": 1574287551, "creation_date": 1574286627, "answer_id": 58963935, "question_id": 58963878, "link": "https://stackoverflow.com/questions/58963878/read-and-modify-file-to-a-copy-in-python/58963935#58963935", "title": "Read and modify file to a copy in Python", "body": "<p>This can be done using the replace method for strings. <a href=\"https://www.geeksforgeeks.org/python-string-replace/\" rel=\"nofollow noreferrer\">https://www.geeksforgeeks.org/python-string-replace/</a></p>\n\n<p>Basically, you just tell it what you are wanting to replace (in this case punctuation at the end of a sentence) and what to replace it with (a new line).</p>\n\n<pre><code>    string = 'First sentence. Second. Third.'\n    print(string)\n\n    string = string.replace(\". \", \".\\n\")\n    print(string)\n</code></pre>\n\n<p>Consider using replace for ? and ! as well.</p>\n\n<p>As for writing to the result file, after you have the modified text in your string variable:</p>\n\n<pre><code>with open(\"output_file.txt\", \"w\") as output_file:\n    output_file.write(string)\n\n</code></pre>\n\n<p>The \"w\" parameter on open allows you to write to the file.</p>\n"}, {"comments": [{"owner": {"reputation": 67, "user_id": 12206640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f2dde3546d4128820cc57d44183ad55?s=128&d=identicon&r=PG&f=1", "display_name": "Hemal", "link": "https://stackoverflow.com/users/12206640/hemal"}, "edited": false, "score": 0, "creation_date": 1574287175, "post_id": 58964024, "comment_id": 104183132, "body": "How can I although copy the string from the first file and then modify it like you suggested to another txt file?"}], "tags": [], "owner": {"reputation": 117, "user_id": 12374274, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mCVJTmgy21O5HKeIGrg8SyeeTYK7IiPHx5BeWW-rQ=k-s128", "display_name": "Rodrigo Machado", "link": "https://stackoverflow.com/users/12374274/rodrigo-machado"}, "is_accepted": false, "score": 0, "last_activity_date": 1574344304, "last_edit_date": 1574344304, "creation_date": 1574287066, "answer_id": 58964024, "question_id": 58963878, "link": "https://stackoverflow.com/questions/58963878/read-and-modify-file-to-a-copy-in-python/58964024#58964024", "title": "Read and modify file to a copy in Python", "body": "<p>You first need to define what is a sentence for you. On this case, a sentence is separeted by '.', so you just need to imput:</p>\n\n<p><code>a = \"First sentence. Second. Third.\"\nprint(a.replace(\". \", \".\\n\"))</code></p>\n\n<p>But if you will consider others caracteres, like '!', '?' and ';', you will also put those options too.</p>\n\n<p>All code:</p>\n\n<pre><code>f = open(\"demofile.txt\", \"r\")\nprint(f.read())\n\na = f.read()\nprint(a.replace(\". \", \".\\n\"))\n\nf = open(\"demofile2.txt\", \"a\")\nf.write(a.replace(\". \", \".\\n\"))\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3298, "user_id": 8928024, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/75f4b1f5d87975964979ce2718af1ae9?s=128&d=identicon&r=PG&f=1", "display_name": "ZF007", "link": "https://stackoverflow.com/users/8928024/zf007"}, "edited": false, "score": 0, "creation_date": 1574325570, "post_id": 58964235, "comment_id": 104194870, "body": "Please provide context explaining your answer to prevent removal via &quot;low-quality&quot; review. (End of Review)."}, {"owner": {"reputation": 1564, "user_id": 631974, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5694270b9c3741a1a2afd64d140c2189?s=128&d=identicon&r=PG", "display_name": "Clain Dsilva", "link": "https://stackoverflow.com/users/631974/clain-dsilva"}, "edited": false, "score": 0, "creation_date": 1574479106, "post_id": 58964235, "comment_id": 104258363, "body": "add appropriate explanation along side the code to justify why this works."}], "tags": [], "owner": {"reputation": 1, "user_id": 12360672, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kUSEl.png?s=128&g=1", "display_name": "Marcell", "link": "https://stackoverflow.com/users/12360672/marcell"}, "is_accepted": false, "score": 0, "last_activity_date": 1574288209, "creation_date": 1574288209, "answer_id": 58964235, "question_id": 58963878, "link": "https://stackoverflow.com/questions/58963878/read-and-modify-file-to-a-copy-in-python/58964235#58964235", "title": "Read and modify file to a copy in Python", "body": "<pre><code>text = \"First sentence. Second. Third.\"\ntext = text.split(\". \")\nfor x in range(0,len(text)):\n    if \".\" in text[x]:\n        text[x] = text[x][:-1]\n    print(text[x]+\".\")\n</code></pre>\n"}], "owner": {"reputation": 67, "user_id": 12206640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f2dde3546d4128820cc57d44183ad55?s=128&d=identicon&r=PG&f=1", "display_name": "Hemal", "link": "https://stackoverflow.com/users/12206640/hemal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 392, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1574344304, "creation_date": 1574286397, "last_edit_date": 1574288519, "question_id": 58963878, "link": "https://stackoverflow.com/questions/58963878/read-and-modify-file-to-a-copy-in-python", "title": "Read and modify file to a copy in Python", "body": "<p>I am looking for a way to copy a txt file and modify it so that every sentence begins a new line.</p>\n\n<p>I am very new to programming in Python and would like some help explaining how can I do this.</p>\n\n<p>For example,</p>\n\n<p><code>First sentence. Second. Third.</code></p>\n\n<p>Should be</p>\n\n<p><code>First sentence.</code></p>\n\n<p><code>Second.</code></p>\n\n<p><code>Third.</code></p>\n\n<p>This is what I have so far:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>f=open('a.txt')  \nf1=open('b.txt','a')\nwith open('a.txt', 'r') as file:\n    string = file.read().replace('.', '.\\n')\nwith open('b.txt', 'w') as b:\n    b.write(string)\nf1.close()\nf.close()\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "numpy"], "comments": [{"owner": {"reputation": 26796, "user_id": 4834, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/6a04e124482c3750617f8dacde3388ce?s=128&d=identicon&r=PG", "display_name": "quamrana", "link": "https://stackoverflow.com/users/4834/quamrana"}, "edited": false, "score": 0, "creation_date": 1574287484, "post_id": 58963877, "comment_id": 104183250, "body": "Your slices are: current[i,:] - last[a,:]. you meant them to be: current[i:] - last[a:] without the commas."}, {"owner": {"reputation": 1, "user_id": 12406695, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b307fda2add3ba5d289e88db37b03608?s=128&d=identicon&r=PG&f=1", "display_name": "bruh_weed", "link": "https://stackoverflow.com/users/12406695/bruh-weed"}, "reply_to_user": {"reputation": 26796, "user_id": 4834, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/6a04e124482c3750617f8dacde3388ce?s=128&d=identicon&r=PG", "display_name": "quamrana", "link": "https://stackoverflow.com/users/4834/quamrana"}, "edited": false, "score": 0, "creation_date": 1574287866, "post_id": 58963877, "comment_id": 104183418, "body": "this doesnt work as the arrays im trying to index are of shape (5,2) what you suggest produces a broadcast error ValueError: operands could not be broadcast together with shapes (5,) (5,2)"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 12406695, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b307fda2add3ba5d289e88db37b03608?s=128&d=identicon&r=PG&f=1", "display_name": "bruh_weed", "link": "https://stackoverflow.com/users/12406695/bruh-weed"}, "edited": false, "score": 0, "creation_date": 1574287642, "post_id": 58964049, "comment_id": 104183321, "body": "oops yea sorry i did mean that it doesnt change the error though ill change the post ive also done all the debugging things i just didnt want to put it in the code to make it look messy but i and a are both of &lt;type int&gt;"}], "tags": [], "owner": {"reputation": 91, "user_id": 12190005, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Slje0.jpg?s=128&g=1", "display_name": "ddjanke", "link": "https://stackoverflow.com/users/12190005/ddjanke"}, "is_accepted": false, "score": 1, "last_activity_date": 1574287271, "creation_date": 1574287271, "answer_id": 58964049, "question_id": 58963877, "link": "https://stackoverflow.com/questions/58963877/typeerror-range-indices-must-be-integers-or-slices-not-tuple/58964049#58964049", "title": "TypeError: range indices must be integers or slices, not tuple", "body": "<p>I don't have enough of a reputation to comment, so I have to post this as an answer.</p>\n\n<p>First, you have:</p>\n\n<pre><code>    for i in range(0,len(current)):\n        for a in range(0,len(current)):\n</code></pre>\n\n<p>Did you mean:</p>\n\n<pre><code>    for i in range(0,len(current)):\n        for a in range(0,len(last)):\n</code></pre>\n\n<p>This would follow the same pattern as your method that works.</p>\n\n<p>Have you tried printing <code>i</code> and <code>a</code> in your second method just as a sanity check as well as printing the characteristics of your inputs (shape, etc.)? It's not the most eloquent way to debug, but printing values just to make sure they are what you expect can be insightful.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 12406695, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b307fda2add3ba5d289e88db37b03608?s=128&d=identicon&r=PG&f=1", "display_name": "bruh_weed", "link": "https://stackoverflow.com/users/12406695/bruh-weed"}, "is_accepted": true, "score": 0, "last_activity_date": 1574289176, "creation_date": 1574289176, "answer_id": 58964422, "question_id": 58963877, "link": "https://stackoverflow.com/questions/58963877/typeerror-range-indices-must-be-integers-or-slices-not-tuple/58964422#58964422", "title": "TypeError: range indices must be integers or slices, not tuple", "body": "<p>found the problem it was a simple error when i call the code in the main loop\nit now works fine thanks for your answers</p>\n"}], "owner": {"reputation": 1, "user_id": 12406695, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b307fda2add3ba5d289e88db37b03608?s=128&d=identicon&r=PG&f=1", "display_name": "bruh_weed", "link": "https://stackoverflow.com/users/12406695/bruh-weed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "accepted_answer_id": 58964422, "answer_count": 2, "score": 0, "last_activity_date": 1574289176, "creation_date": 1574286394, "last_edit_date": 1574287899, "question_id": 58963877, "link": "https://stackoverflow.com/questions/58963877/typeerror-range-indices-must-be-integers-or-slices-not-tuple", "title": "TypeError: range indices must be integers or slices, not tuple", "body": "<p>I have two nested for loops in my code but one works and not the other, they are also identical and its doing my head in</p>\n\n<p>this code works </p>\n\n<pre><code>def nearest(furthestpoints,lastpoints,lastIDs,currentpoints,img,threshold = 30):\n    currentIDs = np.empty(0,dtype = float)\n    normList = np.empty(0,dtype = float)\n\n    for i in range(0,len(currentpoints)):\n        for a in range(0,len(lastpoints)):\n            normList = np.append(normList,np.linalg.norm(currentpoints[i,:] - lastpoints[a,:]))```\n</code></pre>\n\n<p>but this code produces the error </p>\n\n<pre><code>File \"/home/oliver/tracker.py\", line 22, in getLostPoints\n    normList = np.append(normList,np.linalg.norm(current[i,:] - last[a,:]))\nTypeError: range indices must be integers or slices, not tuple\n</code></pre>\n\n<pre><code>def getLostPoints(last,lastIDs,current,threshold = 50):\n\n    normList = np.empty(0,dtype = float)\n    goodIDs = np.empty(0,dtype = int)\n    lostPoints = np.empty((2,0),dtype = float)\n\n    for i in range(0,len(last)):\n        for a in range(0,len(current)):\n            normList = np.append(normList,np.linalg.norm(current[i,:] - last[a,:]))\n\n        if min(normList) &lt; threshold:\n            indexMin = np.argmin(normList)\n            goodIDs = np.append(goodIDs,lastIDs[indexMin])\n        normList = np.empty(0,dtype = float) \n</code></pre>\n\n<p>these are just the loops there is more to this code</p>\n\n<p>the input arrays are of shape <code>(n,2)</code>\nwhere <code>n</code> is the number of points</p>\n"}, {"tags": ["python", "django"], "comments": [{"owner": {"reputation": 17762, "user_id": 548562, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26587173d9156d8ec3114c8700d1b693?s=128&d=identicon&r=PG", "display_name": "Iain Shelvington", "link": "https://stackoverflow.com/users/548562/iain-shelvington"}, "edited": false, "score": 1, "creation_date": 1574286279, "post_id": 58963834, "comment_id": 104182754, "body": "What do you mean by &quot;running commands&quot;? The views that are currently running?"}, {"owner": {"reputation": 3431, "user_id": 364966, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/1ea2b8fe02ce7ee34472972214a3bef9?s=128&d=identicon&r=PG", "display_name": "VikR", "link": "https://stackoverflow.com/users/364966/vikr"}, "reply_to_user": {"reputation": 17762, "user_id": 548562, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26587173d9156d8ec3114c8700d1b693?s=128&d=identicon&r=PG", "display_name": "Iain Shelvington", "link": "https://stackoverflow.com/users/548562/iain-shelvington"}, "edited": false, "score": 0, "creation_date": 1574286739, "post_id": 58963834, "comment_id": 104182955, "body": "On the far right of the window, it lists the name of the command, e.g. <code>python3 &#47;my_directory&#47;my_app&#47;manage.py rssrun --settings=server.settings.prod_cnf</code>. I&#39;d like to load this list within my Django app if possible."}, {"owner": {"reputation": 17762, "user_id": 548562, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26587173d9156d8ec3114c8700d1b693?s=128&d=identicon&r=PG", "display_name": "Iain Shelvington", "link": "https://stackoverflow.com/users/548562/iain-shelvington"}, "edited": false, "score": 1, "creation_date": 1574287017, "post_id": 58963834, "comment_id": 104183073, "body": "Load what list? The list of currently running Django processes?"}, {"owner": {"reputation": 3431, "user_id": 364966, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/1ea2b8fe02ce7ee34472972214a3bef9?s=128&d=identicon&r=PG", "display_name": "VikR", "link": "https://stackoverflow.com/users/364966/vikr"}, "reply_to_user": {"reputation": 17762, "user_id": 548562, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26587173d9156d8ec3114c8700d1b693?s=128&d=identicon&r=PG", "display_name": "Iain Shelvington", "link": "https://stackoverflow.com/users/548562/iain-shelvington"}, "edited": false, "score": 0, "creation_date": 1574287778, "post_id": 58963834, "comment_id": 104183376, "body": "The same list displayed by <code>htop</code>. I&#39;ve got a cron job that runs regularly. I want it to check this list to see if it&#39;s still running from a previous launch and if so, exit immediately. :)"}], "answers": [{"tags": [], "owner": {"reputation": 17762, "user_id": 548562, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26587173d9156d8ec3114c8700d1b693?s=128&d=identicon&r=PG", "display_name": "Iain Shelvington", "link": "https://stackoverflow.com/users/548562/iain-shelvington"}, "is_accepted": true, "score": 2, "last_activity_date": 1574287358, "creation_date": 1574287358, "answer_id": 58964063, "question_id": 58963834, "link": "https://stackoverflow.com/questions/58963834/django-way-to-get-list-of-all-running-commands/58964063#58964063", "title": "Django: Way to Get List of All Running Commands?", "body": "<p>To get a list of currently running processes you can use <code>ps</code></p>\n\n<pre><code>result = subprocess.run(['ps aux | grep rssrun'], capture_output=True, shell=True)\nprint(result.stdout)\n</code></pre>\n"}], "owner": {"reputation": 3431, "user_id": 364966, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/1ea2b8fe02ce7ee34472972214a3bef9?s=128&d=identicon&r=PG", "display_name": "VikR", "link": "https://stackoverflow.com/users/364966/vikr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 115, "favorite_count": 0, "accepted_answer_id": 58964063, "answer_count": 1, "score": 0, "last_activity_date": 1574287358, "creation_date": 1574286190, "question_id": 58963834, "link": "https://stackoverflow.com/questions/58963834/django-way-to-get-list-of-all-running-commands", "title": "Django: Way to Get List of All Running Commands?", "body": "<p>If I run <code>htop</code>, I see a list of all running processes, and the commands that spawned them.</p>\n\n<p><a href=\"https://i.stack.imgur.com/odtbf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/odtbf.png\" alt=\"enter image description here\"></a></p>\n\n<p>Is there a way to get the list of running commands from inside Django? I looked at the docs for the <a href=\"https://www.pythonforbeginners.com/os/pythons-os-module\" rel=\"nofollow noreferrer\">OS module</a>, but didn't yet spot a way to do it.</p>\n"}, {"tags": ["python", "arguments", "code-readability"], "comments": [{"owner": {"reputation": 25463, "user_id": 5003756, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8BUMb.jpg?s=128&g=1", "display_name": "James", "link": "https://stackoverflow.com/users/5003756/james"}, "edited": false, "score": 0, "creation_date": 1574286155, "post_id": 58963797, "comment_id": 104182706, "body": "Generally you would raise <code>ValueError</code> when a disallowed value is used."}, {"owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 0, "creation_date": 1574286175, "post_id": 58963797, "comment_id": 104182716, "body": "I would have a dict like <code>{&#39;something&#39;: dowhatever, &#39;somethingelse&#39;: dowhateverelse}</code> instead. A function that can behave arbitrarily differently based on an argument should probably be two functions in the first place."}, {"owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 0, "creation_date": 1574286244, "post_id": 58963797, "comment_id": 104182741, "body": "Your second question makes a case for defining two separate context managers, where <code>something.__enter__ = do_whatever</code> and <code>something.__exit__ = do_whatever_afterwords</code>, etc."}, {"owner": {"reputation": 423, "user_id": 9283284, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IC7nh.jpg?s=128&g=1", "display_name": "Snusifer", "link": "https://stackoverflow.com/users/9283284/snusifer"}, "reply_to_user": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 0, "creation_date": 1574286266, "post_id": 58963797, "comment_id": 104182748, "body": "@chepner Well yeah, but image that the code blocks were much bigger, and not a single function. The example was just to illustrate"}, {"owner": {"reputation": 423, "user_id": 9283284, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IC7nh.jpg?s=128&g=1", "display_name": "Snusifer", "link": "https://stackoverflow.com/users/9283284/snusifer"}, "reply_to_user": {"reputation": 25463, "user_id": 5003756, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8BUMb.jpg?s=128&g=1", "display_name": "James", "link": "https://stackoverflow.com/users/5003756/james"}, "edited": false, "score": 0, "creation_date": 1574286380, "post_id": 58963797, "comment_id": 104182793, "body": "@James Yes iknow, it was just to illustrate"}], "answers": [{"comments": [{"owner": {"reputation": 423, "user_id": 9283284, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IC7nh.jpg?s=128&g=1", "display_name": "Snusifer", "link": "https://stackoverflow.com/users/9283284/snusifer"}, "edited": false, "score": 0, "creation_date": 1574287042, "post_id": 58963965, "comment_id": 104183085, "body": "Yes thank you! Very nice example. I was confused because the &#39;duplicate&#39; didn&#39;t have the answer i was looking for."}], "tags": [], "owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "is_accepted": true, "score": 2, "last_activity_date": 1574287058, "last_edit_date": 1574287058, "creation_date": 1574286779, "answer_id": 58963965, "question_id": 58963797, "link": "https://stackoverflow.com/questions/58963797/how-to-handle-option-arguments-in-python-arguments-that-can-only-be-of-a-set-o/58963965#58963965", "title": "How to handle option-arguments in Python? (arguments that can only be of a set of values)", "body": "<p>I'm reopening this question (previously closed as a duplicate of\n<a href=\"https://stackoverflow.com/questions/40621632/making-case-statements-in-python\">Making case statements in Python</a>)\nin order to address the specific issue of having common code between two\nrelated case-like blocks. This relates to the idea of context managers.\nHere, we're defining two different context managers, and storing <em>them</em>\nin a <code>dict</code>; the case-statement-replacement serves to select\nwhich context manager we'll use.</p>\n\n<pre><code>import contextlib\n\n# Step 1: Define the context managers. Usingcontextlib.contextmanager for\n# simplicity, but you can define a class with `__enter__` and `__exit__`\n# methods as well.\n\n@contextlib.contextmanager\ndef Something():\n    yield do_whatever()\n    do_whatever_afterwards()\n\n\n@contextlib.contextmanager\ndef SomethingElse():\n    yield do_whatever_else()\n    do_whatever_else_afterwards()\n\n\n# Step 2: Map your selectors to the context managers\ncms = {\n    'something': Something,\n    'something_else': SomethingElse\n}\n\n\n# Step 3: Select a context manager and handle attempts to select a non-existent one\nopt = ...  # 'something' or 'something_else'\ntry:\n    cm = cms[opt]\nexcept KeyError:\n    raise UnrecognisedArgumentException(opt)\n\n# Step 4: Run your universal code in the correct context\nwith cm() as x:\n    do_something_universal(x)\n</code></pre>\n"}], "owner": {"reputation": 423, "user_id": 9283284, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IC7nh.jpg?s=128&g=1", "display_name": "Snusifer", "link": "https://stackoverflow.com/users/9283284/snusifer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 26, "favorite_count": 0, "accepted_answer_id": 58963965, "answer_count": 1, "score": 0, "last_activity_date": 1574287058, "creation_date": 1574285995, "question_id": 58963797, "link": "https://stackoverflow.com/questions/58963797/how-to-handle-option-arguments-in-python-arguments-that-can-only-be-of-a-set-o", "title": "How to handle option-arguments in Python? (arguments that can only be of a set of values)", "body": "<p>I struggled to formulate the question, due to the lack of terminology on my part. I am not asking about keyword arguments with default value. My question is about how to handle argument values that can only have a set of values, and how to optimise for code readability and prevent repetitions.</p>\n\n<p>See this function for example:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>def foo(opt='something'):\n\n   if opt == 'something':\n      ret = dowhatever()\n\n   elif opt == 'somethingelse':\n      ret = dowhateverelse()\n\n   else:\n      raise UnrecognisedArgumentException(opt)\n\nreturn ret\n</code></pre>\n\n<p>In my opinion, this is quite ugly. Its basically a not-so-good-looking java-switch translation in python. A problem that arises is when the cases have common code (repetition) in between case-associated code, which I want to avoid. If I were to avoid this I would write:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>def foo(opt='something'):\n   if opt not in ['something', 'something_else']:\n      raise UnrecognisedArgumentException\n\n   if opt == 'something':\n      ret = do_whatever()\n\n   elif opt == 'something_else':\n      ret = do_whatever_else()\n\n   do_something_universal(ret)\n\n   if opt == 'something':\n      ret = do_whatever_afterwards()\n\n   elif opt == 'something_else':\n      ret = do_whatever_else_afterwards()\n\nreturn ret\n</code></pre>\n\n<p>This is even uglier. Is there a better way of writing code like this?</p>\n"}, {"tags": ["python", "class", "pyqt5", "qpushbutton"], "comments": [{"owner": {"reputation": 26796, "user_id": 4834, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/6a04e124482c3750617f8dacde3388ce?s=128&d=identicon&r=PG", "display_name": "quamrana", "link": "https://stackoverflow.com/users/4834/quamrana"}, "edited": false, "score": 0, "creation_date": 1574286477, "post_id": 58963790, "comment_id": 104182837, "body": "You don\u2019t need self.mm = MainMenu() as you already have self.parent. (Is that correct self.parent?)"}, {"owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 2, "creation_date": 1574286806, "post_id": 58963790, "comment_id": 104182992, "body": "1) remove <code>self.mm = MainMenu()         self.mm.lastHoverdButton = self.name</code> 2) add <code>self.parent().lastHoverdButton = self.name</code>"}, {"owner": {"reputation": 175, "user_id": 12139409, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mCM1Ta0HCDOaMK91hU8lnVF9vj2NmUPloJtDiWYEA=k-s128", "display_name": "JareBear", "link": "https://stackoverflow.com/users/12139409/jarebear"}, "edited": false, "score": 0, "creation_date": 1574304569, "post_id": 58963790, "comment_id": 104187867, "body": "I had got it working by making a separate variable outside of all classes, and making it global. I know its not good practice, but if it works, don&#39;t touch it."}], "owner": {"reputation": 175, "user_id": 12139409, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mCM1Ta0HCDOaMK91hU8lnVF9vj2NmUPloJtDiWYEA=k-s128", "display_name": "JareBear", "link": "https://stackoverflow.com/users/12139409/jarebear"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 18, "favorite_count": 0, "closed_date": 1574286776, "answer_count": 0, "score": 0, "last_activity_date": 1574285976, "creation_date": 1574285976, "question_id": 58963790, "link": "https://stackoverflow.com/questions/58963790/python-pyqt5-passing-class-variables-without-re-opening-window", "closed_reason": "Duplicate", "title": "Python PyQt5 passing class variables without re-opening window", "body": "<p>I want to pass a variable to my main window from a different class without reopening my main window. this is my current code, but it keeps re-opening the window.</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>from PyQt5.QtMultimediaWidgets import *\nfrom PyQt5.QtMultimedia import *\nfrom PyQt5.QtWidgets import *\nfrom PyQt5.QtCore import *\nfrom PyQt5.QtGui import *\nfrom PyQt5 import *\nimport sys\nclass HoverButton(QPushButton):\n    def __init__(self, name, parent=None):\n        self.name = name\n        QPushButton.__init__(self, name, parent)\n        self.setMouseTracking(True)\n\n    def mouseMoveEvent(self, event):\n        print (self.name)\n        self.mm = MainMenu()\n        self.mm.lastHoverdButton = self.name\nclass MainMenu(QWidget):\n    def __init__(self, parent = None):\n        # super().__init__()\n        super(MainMenu, self).__init__(parent)\n        self.lastHoverdButton = ''\n        self.btnOpen = HoverButton('Hello World', self)\n        self.btnOpen.move(100,100)\n\n\nif __name__ == '__main__':\n    app = QApplication(sys.argv)\n    main = MainMenu()\n    main.show()\n    sys.exit(app.exec_())\n\n</code></pre>\n\n<p>My expected result, would be to not re-open the main window, and still get variable updated somehow. I assume you could somehow use Threads? I'm not sure how you would do this.</p>\n"}, {"tags": ["python", "django", "django-admin", "sql-order-by", "django-queryset"], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 7021041, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-8VSBs2S4GrY/AAAAAAAAAAI/AAAAAAAAAAA/c7GJFgyQOec/photo.jpg?sz=128", "display_name": "Kristen L.", "link": "https://stackoverflow.com/users/7021041/kristen-l"}, "edited": false, "score": 0, "creation_date": 1574372602, "post_id": 58969574, "comment_id": 104220971, "body": "Thank you @AlexCarlos for your response, but unfortunately this doesn&#39;t do what I&#39;m after.  It sorts the names of the foods within a single object (meal) but doesn&#39;t sort the objects (meals) at all.  I would like to leave the ordering of the foods within a meal the same and instead order the meals in alphabetical order according to the <code>__str__</code> definition I have above."}], "tags": [], "owner": {"reputation": 852, "user_id": 953000, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de50a81a9cedf20a04787c97c358ce9d?s=128&d=identicon&r=PG", "display_name": "Alex Carlos", "link": "https://stackoverflow.com/users/953000/alex-carlos"}, "is_accepted": false, "score": 0, "last_activity_date": 1574321738, "creation_date": 1574321738, "answer_id": 58969574, "question_id": 58963778, "link": "https://stackoverflow.com/questions/58963778/django-admin-custom-ordering-according-to-concatenated-charfields-of-a-related/58969574#58969574", "title": "Django Admin: Custom ordering according to concatenated charfields of a related manytomany model", "body": "<p>You can do something like this:</p>\n\n<pre><code>class MasterMeal(models.Model):\n    class Meta:\n        verbose_name_plural = 'Master Meal Plan Meals'\n\n    proteins = models.ManyToManyField(to=\"MasterFood\", limit_choices_to={'food_type': 'P'},blank=True,related_name='food_proteins')\n    carbohydrates = models.ManyToManyField(to=\"MasterFood\", limit_choices_to={'food_type': 'C'}, blank=True, related_name='food_carbohydrates')\n    fats = models.ManyToManyField(to=\"MasterFood\",  limit_choices_to={'food_type': 'F'}, blank=True, related_name='food_fats')\n\n    def all_foods_string(self):\n        proteins = self.proteins.all().values_list('food_name', flat=True)\n        carbs = self.carbohydrates.all().values_list('food_name', flat=True)\n        fats = self.fats.all().values_list('food_name', flat=True)\n\n        return sorted(proteins + carbs + fats)\n\n    def __str__(self):\n        all_foods = self.all_foods_string()\n        return ', '.join(all_foods)) + f' ({len(all_foods)})'\n</code></pre>\n\n<p>I changed the query for each food to only return the string value of the <code>food_name</code> field to avoid making full query of the object if we only need one field (this is very useful). </p>\n"}, {"tags": [], "owner": {"reputation": 23, "user_id": 7021041, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-8VSBs2S4GrY/AAAAAAAAAAI/AAAAAAAAAAA/c7GJFgyQOec/photo.jpg?sz=128", "display_name": "Kristen L.", "link": "https://stackoverflow.com/users/7021041/kristen-l"}, "is_accepted": true, "score": 0, "last_activity_date": 1577051966, "creation_date": 1577051966, "answer_id": 59448324, "question_id": 58963778, "link": "https://stackoverflow.com/questions/58963778/django-admin-custom-ordering-according-to-concatenated-charfields-of-a-related/59448324#59448324", "title": "Django Admin: Custom ordering according to concatenated charfields of a related manytomany model", "body": "<p>I found that it wasn't possible to do what I wanted since I did not have a field to order on and I was not able to use a query expression to do what I needed.  I chose instead to create a new CharField in my model, <code>name</code>, which I auto populated with my <code>__str__</code> method when left blank.  See the solution <a href=\"https://stackoverflow.com/questions/59442018/django-help-overwriting-a-models-save-method-to-auto-populate-a-charfield-ba/59443433?noredirect=1#comment105070495_59443433\">here</a>.</p>\n"}], "owner": {"reputation": 23, "user_id": 7021041, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-8VSBs2S4GrY/AAAAAAAAAAI/AAAAAAAAAAA/c7GJFgyQOec/photo.jpg?sz=128", "display_name": "Kristen L.", "link": "https://stackoverflow.com/users/7021041/kristen-l"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 339, "favorite_count": 0, "accepted_answer_id": 59448324, "answer_count": 2, "score": 1, "last_activity_date": 1577051966, "creation_date": 1574285900, "question_id": 58963778, "link": "https://stackoverflow.com/questions/58963778/django-admin-custom-ordering-according-to-concatenated-charfields-of-a-related", "title": "Django Admin: Custom ordering according to concatenated charfields of a related manytomany model", "body": "<p>Here are my simplified models:</p>\n\n<pre><code>class MasterFood(models.Model):\n    class Meta:\n        verbose_name_plural = 'Master Foods'\n\n    FOOD_TYPE_CHOICES = (\n        ('F', 'Fats'),\n        ('C', 'Carbohydrates'),\n        ('P', 'Proteins'),\n        ('O', 'Others'),\n    )\n\n    food_name = models.CharField(max_length=255)\n    food_type = models.CharField(max_length=20,choices=FOOD_TYPE_CHOICES)\n    def __str__(self):\n        return self.food_name\n\nclass MasterMeal(models.Model):\n    class Meta:\n        verbose_name_plural = 'Master Meal Plan Meals'\n\n    proteins = models.ManyToManyField(to=\"MasterFood\", limit_choices_to={'food_type': 'P'},blank=True,related_name='food_proteins')\n    carbohydrates = models.ManyToManyField(to=\"MasterFood\", limit_choices_to={'food_type': 'C'}, blank=True, related_name='food_carbohydrates')\n    fats = models.ManyToManyField(to=\"MasterFood\",  limit_choices_to={'food_type': 'F'}, blank=True, related_name='food_fats')\n\n    def all_foods(self):\n       return list(self.proteins.all())+list(self.carbohydrates.all())+list(self.fats.all())\n\n    def __str__(self):\n        return ', '.join(map(lambda x: x.food_name, self.all_foods()))+f' ({len(self.all_foods())})'\n\n</code></pre>\n\n<p>and my modelAdmin object in admin.py:</p>\n\n<pre><code>class MealAdmin(admin.ModelAdmin):\n    model = MasterMeal\n    save_as = True\n\n    ordering = ('proteins__food_name','carbohydrates__food_name','fats__food_name',)\n</code></pre>\n\n<p>What I would like is in the Django admin page for MasterMeals is to have each object named after the <code>__str__</code> method given in my MasterMeal model, but in a different ordering than the default. \n Specifically, I would like the objects to be sorted in alphabetical order according to the <code>__str__</code> method definition, and if possible, I don't want to modify my MasterMeal model to add another field to achieve this.  I have tried several things such as the <code>ordering = ('proteins__food_name','carbohydrates__food_name','fats__food_name',)</code> in my MealAdmin object as well as <code>ordering = ('proteins','carbohydrates','fats',)</code>.  I have also tried overwriting the queryset of the ModelAdmin with an annotate function like: </p>\n\n<pre><code>class MealAdmin(admin.ModelAdmin):\n    model = MasterMeal\n    save_as = True\n\ndef get_queryset(self,request):\n        qs = super(MealAdmin,self).get_queryset(request) \n\n        return qs.distinct() \\\n        .annotate(protein_order=F('proteins__food_name'),carb_order = F('carbohydrates__food_name'),fat_order = F('fats__food_name')) \\\n        .order_by('protein_order', 'carb_order','fat_order')\n\n</code></pre>\n\n<p>but I am clearly not annotating the objects in the way that they need to be in order to get the ordering that I am after.  All 3 of these examples produce this exact same ordering:</p>\n\n<p><a href=\"https://i.stack.imgur.com/uLCQQ.png\" rel=\"nofollow noreferrer\">Incorrect Ordering</a>,</p>\n\n<p>You can see an object with the exact same name has several other entries in between it.  The objects are not sorted in alphabetical order according to the <code>__str__</code> method, and are instead, (I believe?) being sorted on keys that have been generated for each of the groups of proteins/carbs/fats.  </p>\n\n<p>I did read <a href=\"https://docs.djangoproject.com/en/2.2/ref/contrib/admin/#django.contrib.admin.ModelAdmin.ordering\" rel=\"nofollow noreferrer\">here</a> in the Django docs in regard to ModelAdmin.ordering that:\n'To ensure a deterministic ordering of results, the changelist adds pk to the ordering if it can\u2019t find a single or unique together set of fields that provide total ordering.' But I do not know how to modify my code to get it to order these objects in the order I DO want.  </p>\n\n<p>I believe I could add a non-editable field to my MasterMeal model, and overwrite the save() method for the model as shown <a href=\"https://www.b-list.org/weblog/2006/nov/02/django-tips-auto-populated-fields/\" rel=\"nofollow noreferrer\">here</a>, in order to auto-populate the field with my desired string, which I believe I could then order on, but I don't want to have to change my model and have to update all of my objects on all of my servers to add this field.</p>\n\n<p>Can anyone tell me if there is a way I can achieve this ordering?  </p>\n\n<p>I am very new to Django, and have limited experience with Python, so thank you very much for any help you can provide.</p>\n"}, {"tags": ["python", "plot", "seaborn"], "comments": [{"owner": {"reputation": 385, "user_id": 11262560, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-K9uJLJS_1iU/AAAAAAAAAAI/AAAAAAAAAS8/-c1ZLcoQlXo/photo.jpg?sz=128", "display_name": "bturner1273", "link": "https://stackoverflow.com/users/11262560/bturner1273"}, "edited": false, "score": 0, "creation_date": 1574285969, "post_id": 58963752, "comment_id": 104182633, "body": "what is printed when you print &#39;error_mean.index.values&#39;"}], "answers": [{"comments": [{"owner": {"reputation": 1307, "user_id": 5688999, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/rLiLO.jpg?s=128&g=1", "display_name": "alwaysaskingquestions", "link": "https://stackoverflow.com/users/5688999/alwaysaskingquestions"}, "edited": false, "score": 0, "creation_date": 1574294239, "post_id": 58963939, "comment_id": 104185430, "body": "thank you! that&#39;s exactly it! i thought it would be int already. thank you so much"}], "tags": [], "owner": {"reputation": 3991, "user_id": 10944942, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uOG9H.jpg?s=128&g=1", "display_name": "LocoGris", "link": "https://stackoverflow.com/users/10944942/locogris"}, "is_accepted": true, "score": 2, "last_activity_date": 1574286638, "creation_date": 1574286638, "answer_id": 58963939, "question_id": 58963752, "link": "https://stackoverflow.com/questions/58963752/python-seaborn-line-plot-when-i-plot-the-x-axis-values-are-out-of-order-even-th/58963939#58963939", "title": "Python seaborn line plot when i plot the x axis values are out of order (even though they are in order in dataframe)", "body": "<p>I guess the issue is that error_mean.index.values is a Series of type <code>str</code>. You need to convert it as <code>int</code>.\nCheck the difference between:</p>\n\n<pre><code>import pandas as pd\nimport seaborn as sns\nimport matplotlib as plt \n\ndf1 = pd.DataFrame([\n[\"10\",  0.829440],\n[\"20\",  0.833747],\n[\"100\",  0.835182],\n[\"40\" , 0.837922],\n[\"50\", 0.835835]])\n\nsns.lineplot(x=df1[0], y=df1[1])\n</code></pre>\n\n<p>and</p>\n\n<pre><code>df1 = pd.DataFrame([\n[\"10\",  0.829440],\n[\"20\",  0.833747],\n[\"100\",  0.835182],\n[\"40\" , 0.837922],\n[\"50\", 0.835835]])\n\nsns.lineplot(x=(df1[0]).astype(int), y=df1[1])\n</code></pre>\n\n<p>So I will try: </p>\n\n<pre><code>plt.figure(figsize=(15,5))\nsns.lineplot(x=error_mean.index.values.astype(int), y=error_mean['error_rate'])\n</code></pre>\n"}], "owner": {"reputation": 1307, "user_id": 5688999, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/rLiLO.jpg?s=128&g=1", "display_name": "alwaysaskingquestions", "link": "https://stackoverflow.com/users/5688999/alwaysaskingquestions"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 474, "favorite_count": 0, "accepted_answer_id": 58963939, "answer_count": 1, "score": 1, "last_activity_date": 1574286703, "creation_date": 1574285772, "question_id": 58963752, "link": "https://stackoverflow.com/questions/58963752/python-seaborn-line-plot-when-i-plot-the-x-axis-values-are-out-of-order-even-th", "title": "Python seaborn line plot when i plot the x axis values are out of order (even though they are in order in dataframe)", "body": "<p>I'm using seaborn to do a line plot. </p>\n\n<p>here's a sample data:</p>\n\n<pre><code>error_mean.head(5)\n</code></pre>\n\n<p>output is below:</p>\n\n<pre><code>    error_rate\n10  0.829440\n20  0.833747\n30  0.835182\n40  0.837922\n50  0.835835\n</code></pre>\n\n<p>so the index values are indeed ordered (or at least it seems like). </p>\n\n<p>here's my code plotting the above data:</p>\n\n<pre><code>plt.figure(figsize=(15,5))\nsns.lineplot(x=error_mean.index.values, y=error_mean['error_rate'])\n</code></pre>\n\n<p>and i keep getting a plot like following:\n<a href=\"https://i.stack.imgur.com/oEpwI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oEpwI.png\" alt=\"enter image description here\"></a></p>\n\n<p>as you can see, the x-axis values are so out of order! i tried googling into this but i couldnt find similar issues answered. </p>\n\n<p>appreciate any help!</p>\n"}, {"tags": ["python", "datetime", "time"], "comments": [{"owner": {"reputation": 2967, "user_id": 4828815, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/--CqgH2V98Jg/AAAAAAAAAAI/AAAAAAAAABY/lilOgpMEIEs/photo.jpg?sz=128", "display_name": "Poojan", "link": "https://stackoverflow.com/users/4828815/poojan"}, "edited": false, "score": 1, "creation_date": 1574285946, "post_id": 58963747, "comment_id": 104182618, "body": "Can you use pandas library? If yes look into it."}, {"owner": {"reputation": 11194, "user_id": 3003365, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dP9Od.jpg?s=128&g=1", "display_name": "kaylum", "link": "https://stackoverflow.com/users/3003365/kaylum"}, "edited": false, "score": 0, "creation_date": 1574285947, "post_id": 58963747, "comment_id": 104182620, "body": "Please show what you have tried, describe what problems you have with it and ask a specific question about that code."}, {"owner": {"reputation": 838, "user_id": 10552640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d29ea973ff7557ba6510ef47518c9051?s=128&d=identicon&r=PG&f=1", "display_name": "Gary", "link": "https://stackoverflow.com/users/10552640/gary"}, "edited": false, "score": 2, "creation_date": 1574287022, "post_id": 58963747, "comment_id": 104183076, "body": "So your end result should be ID, Total Days Worked and Total Hours Worked? Is your file a text file or a csv ? Try to code it and let us know if you face an error. Here&#39;s a tip -&gt; <a href=\"https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.to_datetime.html\" rel=\"nofollow noreferrer\">pd.datetime</a>"}], "answers": [{"tags": [], "owner": {"reputation": 257, "user_id": 12368502, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f074c0ee917fef2c16401241e5f02c17?s=128&d=identicon&r=PG&f=1", "display_name": "Yukun Li", "link": "https://stackoverflow.com/users/12368502/yukun-li"}, "is_accepted": false, "score": 0, "last_activity_date": 1574287499, "creation_date": 1574287499, "answer_id": 58964089, "question_id": 58963747, "link": "https://stackoverflow.com/questions/58963747/reading-time-from-file/58964089#58964089", "title": "Reading time from file", "body": "<p>if you are sure that timestamp in your input for each id does not duplicate or overlap</p>\n\n<p>this solution store id: hout works and should be easy to transfer hour -> day </p>\n\n<pre><code>from datetime import datetime\n\ntestlist = [\n    [1,\"02/11/2019\",\"08:25\",\"16:25\"],\n    [1,\"03/11/2019\",\"07:25\",\"16:25\"],\n    [2,\"02/13/2019\",\"08:25\",\"17:25\"],\n    [2,\"03/13/2019\",\"06:25\",\"16:25\"]\n]\n\nfmt = '%H:%M'\ndictx = {}\nfor time in testlist:\n    if time[0] not in dictx:\n        dictx[time[0]] = 0\n    tstamp1 = datetime.strptime(time[2], fmt)\n    tstamp2 = datetime.strptime(time[3], fmt)\n    dictx[time[0]] += int(round((tstamp2 - tstamp1).total_seconds()) / 3600)\n\nprint(dictx)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 31, "user_id": 6740330, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/f10g1.jpg?s=128&g=1", "display_name": "PyCoder", "link": "https://stackoverflow.com/users/6740330/pycoder"}, "edited": false, "score": 0, "creation_date": 1574296454, "post_id": 58964224, "comment_id": 104185969, "body": "this exactly what i want , but when i try this code it didn&#39;t work ! shows a  (KeyError: &#39;End Time&#39;) i don&#39;t know why , i never worked with panda , if any datetime or time method , !"}, {"owner": {"reputation": 838, "user_id": 10552640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d29ea973ff7557ba6510ef47518c9051?s=128&d=identicon&r=PG&f=1", "display_name": "Gary", "link": "https://stackoverflow.com/users/10552640/gary"}, "reply_to_user": {"reputation": 31, "user_id": 6740330, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/f10g1.jpg?s=128&g=1", "display_name": "PyCoder", "link": "https://stackoverflow.com/users/6740330/pycoder"}, "edited": false, "score": 1, "creation_date": 1574346312, "post_id": 58964224, "comment_id": 104207451, "body": "@PyCoder this code works. Can you paste the entire error as an edit to your original post ?"}, {"owner": {"reputation": 133, "user_id": 10731984, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/88c22e0ec58d0c982f3438a8531ea8bd?s=128&d=identicon&r=PG&f=1", "display_name": "KVEER", "link": "https://stackoverflow.com/users/10731984/kveer"}, "reply_to_user": {"reputation": 31, "user_id": 6740330, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/f10g1.jpg?s=128&g=1", "display_name": "PyCoder", "link": "https://stackoverflow.com/users/6740330/pycoder"}, "edited": false, "score": 0, "creation_date": 1574463304, "post_id": 58964224, "comment_id": 104255854, "body": "@PyCoder KeyErrors usually mean that there was an error fetching a key, which is &#39;End Time&#39; here (a column name). Is the header row in your csv spelled properly? Note that, it is case sensitive."}], "tags": [], "owner": {"reputation": 133, "user_id": 10731984, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/88c22e0ec58d0c982f3438a8531ea8bd?s=128&d=identicon&r=PG&f=1", "display_name": "KVEER", "link": "https://stackoverflow.com/users/10731984/kveer"}, "is_accepted": false, "score": 2, "last_activity_date": 1574288164, "creation_date": 1574288164, "answer_id": 58964224, "question_id": 58963747, "link": "https://stackoverflow.com/questions/58963747/reading-time-from-file/58964224#58964224", "title": "Reading time from file", "body": "<p>If you can use the pandas library, here's something you can do </p>\n\n<pre><code>import pandas as pd\ndf=pd.read_csv('filename.csv')\ndf['Duration']=(pd.to_datetime(df['End Time'], format='%H:%M')-pd.to_datetime(df['Start Time'], format='%H:%M')).dt.components['hours']\ndf.groupby('ID').Duration.agg('sum')\nresult=df.groupby('ID').agg({'Duration': ['sum'], 'Date': ['count']})\n</code></pre>\n\n<p>Here, we read the file into a pandas dataframe, create a column with timedelta values for the start and end times, then group by the 'ID'  and aggregate the sum over column 'Duration' and the count over column 'Date' as this gives the number of days worked.</p>\n\n<p>The output should look something like this - </p>\n\n<pre><code>   Duration  Date\n        sum count\nID               \n1       174    24\n2        29     4\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 6740330, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/f10g1.jpg?s=128&g=1", "display_name": "PyCoder", "link": "https://stackoverflow.com/users/6740330/pycoder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 368, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1574363327, "creation_date": 1574285756, "last_edit_date": 1574363327, "question_id": 58963747, "link": "https://stackoverflow.com/questions/58963747/reading-time-from-file", "title": "Reading time from file", "body": "<p>I need help in grouping my data by date to find <code>Sum of Days worked</code> and <code>Total Hours worked</code> for each <code>ID</code>. My data is in a txt file. An example of my data is provided below : </p>\n\n<pre class=\"lang-py prettyprint-override\"><code>ID,Date,Start Time,End Time\n1,02/11/2019,08:25,16:24\n1,03/11/2019,07:54,16:20\n1,04/11/2019,07:46,16:08\n1,05/11/2019,08:13,16:10\n1,06/11/2019,07:48,15:24\n1,08/11/2019,08:27,15:26\n1,09/11/2019,08:25,16:02\n1,10/11/2019,07:49,15:03\n1,11/11/2019,08:18,15:29\n1,12/11/2019,07:54,16:21\n1,15/11/2019,07:50,16:24\n1,16/11/2019,07:48,16:25\n1,17/11/2019,08:25,15:28\n1,19/11/2019,07:49,16:10\n1,21/11/2019,08:11,15:06\n1,22/11/2019,07:58,15:29\n1,23/11/2019,07:49,15:20\n1,24/11/2019,08:28,16:28\n1,26/11/2019,08:29,16:14\n1,27/11/2019,07:59,15:18\n1,28/11/2019,07:53,16:24\n1,29/11/2019,07:49,16:25\n1,30/11/2019,08:25,15:08\n1,31/11/2019,08:10,16:09\n2,01/11/2019,07:58,15:22\n2,02/11/2019,07:53,16:16\n2,03/11/2019,08:13,15:05\n2,04/11/2019,07:54,16:04\n</code></pre>\n\n<p>An example of the final output I require is provided below:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>ID,Hours Worked,Days Worked\n1,168,24 \n</code></pre>\n\n<p>I have been trying for a week using lists and dictionaries but have not been able to come up with a solution. Any help using datetime methods is much appreciated!</p>\n"}, {"tags": ["python", "list", "append"], "comments": [{"owner": {"reputation": 17762, "user_id": 548562, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26587173d9156d8ec3114c8700d1b693?s=128&d=identicon&r=PG", "display_name": "Iain Shelvington", "link": "https://stackoverflow.com/users/548562/iain-shelvington"}, "edited": false, "score": 0, "creation_date": 1574285666, "post_id": 58963691, "comment_id": 104182500, "body": "<code>wordInput()\\computerChoice(wordInput)</code> should be <code>computerChoice(wordInput())</code>. You are passing the function <code>wordInput</code> to <code>computerChoice</code> not the result"}, {"owner": {"reputation": 19, "user_id": 12406669, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ef19d1c322b2c60ff2ea263464f9aba?s=128&d=identicon&r=PG&f=1", "display_name": "retsymuw", "link": "https://stackoverflow.com/users/12406669/retsymuw"}, "reply_to_user": {"reputation": 17762, "user_id": 548562, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26587173d9156d8ec3114c8700d1b693?s=128&d=identicon&r=PG", "display_name": "Iain Shelvington", "link": "https://stackoverflow.com/users/548562/iain-shelvington"}, "edited": false, "score": 0, "creation_date": 1574290293, "post_id": 58963691, "comment_id": 104184248, "body": "Of course. Thank you, was not thinking straight."}], "answers": [{"comments": [{"owner": {"reputation": 19, "user_id": 12406669, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ef19d1c322b2c60ff2ea263464f9aba?s=128&d=identicon&r=PG&f=1", "display_name": "retsymuw", "link": "https://stackoverflow.com/users/12406669/retsymuw"}, "edited": false, "score": 0, "creation_date": 1574290352, "post_id": 58963799, "comment_id": 104184264, "body": "You and the other person who replied are both right. I was not paying attention and passed the function instead of the output of the function. Thanks."}], "tags": [], "owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "is_accepted": false, "score": 0, "last_activity_date": 1574285997, "creation_date": 1574285997, "answer_id": 58963799, "question_id": 58963691, "link": "https://stackoverflow.com/questions/58963691/cant-replace-items-in-list-function-object-does-not-support-item-assignment/58963799#58963799", "title": "Can&#39;t Replace Items in List - &quot;function object does not support item assignment&quot;", "body": "<pre><code>def main():\n    wordInput()\n    computerChoice(wordInput)\n</code></pre>\n\n<p>You passed the function <code>wordInput</code> to your <code>computerChoice</code> function.  I <em>think</em> waht you need is more like</p>\n\n<pre><code>target_word = wordInput()\ncomputerChoice(target_word)\n</code></pre>\n"}], "owner": {"reputation": 19, "user_id": 12406669, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ef19d1c322b2c60ff2ea263464f9aba?s=128&d=identicon&r=PG&f=1", "display_name": "retsymuw", "link": "https://stackoverflow.com/users/12406669/retsymuw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 74, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1574344096, "creation_date": 1574285463, "last_edit_date": 1574344096, "question_id": 58963691, "link": "https://stackoverflow.com/questions/58963691/cant-replace-items-in-list-function-object-does-not-support-item-assignment", "title": "Can&#39;t Replace Items in List - &quot;function object does not support item assignment&quot;", "body": "<p>I am trying to replace certain characters in a list with another character. </p>\n\n<pre class=\"lang-py prettyprint-override\"><code>import random\nimport string\nimport re\n\ndef main():\n    wordInput()\n    computerChoice(wordInput)\n\n\n\n\ndef wordInput():\n    while(True): #while function to validate user input\n        userWord = input(\"Please choose a word between 5 and 10 letters long: \")\n        if len(userWord)&lt;5 or len(userWord)&gt;10:\n            print(\"Error: Word is not between 5 and 10 letters!\")\n        else:\n            break\n\n\n    #stage 2: printing lines in place of characters to hide the word chosen\n    print(\" \")\n    userWordHidden = list(userWord)\n    for i in range(len(userWord)):\n        userWordHidden[i] = \"-\"\n\n    print(\"Your Word:\", end =\" \")\n    for i in range(len(userWord)):\n        print(userWordHidden[i], end =\" \")\n\n    print(\"\\n\")\n\n    return userWordHidden\n\n\ndef computerChoice(userWordHidden):\n    compGuessCount = 0\n    compChoice = random.choice(string.ascii_uppercase)\n\n    while(True):\n        compGuess = input('Does your word contain the letter %s? \\\nPlease enter \"Yes\" or \"No\": ' % (compChoice))\n        if compGuess == \"Yes\" or compGuess == \"No\":\n            break\n        else:\n            print('Error: Please enter \"Yes\" or \"No\"')\n\n    if compGuess == \"Yes\":\n        letterLocation(userWordHidden, compChoice)\n\ndef letterLocation(userWordHidden, compChoice):\n    userLetterLocation = input('What is the index position of the letter()s \\\nin the word?: ')\n    letterIndex = re.findall(\"\\d\", userLetterLocation)\n\n    userWordHidden[1] = \"s\"\n\n    print(userWordHidden)\n\n</code></pre>\n\n<p>This is a piece from something I'm working on but if you ignore most of it and just focus on the function letterLocation, at the end you can see I am trying to just test replaceing userWordHidden index 2 with an \"s\" but I get the following error:\nTypeError: 'function' object does not support item assignment</p>\n\n<p>Does anyone know why? I know you can't update a string but you can with a list yet it's not working?</p>\n"}, {"tags": ["python", "matplotlib"], "comments": [{"owner": {"reputation": 16763, "user_id": 2749397, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/rcNMz.png?s=128&g=1", "display_name": "gboffi", "link": "https://stackoverflow.com/users/2749397/gboffi"}, "edited": false, "score": 0, "creation_date": 1574287665, "post_id": 58963688, "comment_id": 104183331, "body": "Could you please <code>print(ex1.x); print(ex1.y)</code> (after the rearranging, I mean)"}, {"owner": {"reputation": 205, "user_id": 5795892, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b8f300deb4d1037d87fe6e70068f5f8?s=128&d=identicon&r=PG&f=1", "display_name": "cbw", "link": "https://stackoverflow.com/users/5795892/cbw"}, "reply_to_user": {"reputation": 16763, "user_id": 2749397, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/rcNMz.png?s=128&g=1", "display_name": "gboffi", "link": "https://stackoverflow.com/users/2749397/gboffi"}, "edited": false, "score": 0, "creation_date": 1574288153, "post_id": 58963688, "comment_id": 104183510, "body": "@gboffi Done. See the edited post. Thanks!"}, {"owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1574290403, "post_id": 58963688, "comment_id": 104184282, "body": "Does <code>ax.bar(ex1.x.values, ex1.y.values, width=0.9)</code> give the same result?"}, {"owner": {"reputation": 205, "user_id": 5795892, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b8f300deb4d1037d87fe6e70068f5f8?s=128&d=identicon&r=PG&f=1", "display_name": "cbw", "link": "https://stackoverflow.com/users/5795892/cbw"}, "reply_to_user": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1574348583, "post_id": 58963688, "comment_id": 104208921, "body": "@ImportanceOfBeingErnest Thanks! That worked. If you&#39;ll write it up with an explanation (I&#39;m not totally clear on why it worked) I&#39;ll happily accept your answer as correct."}], "answers": [{"comments": [{"owner": {"reputation": 205, "user_id": 5795892, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b8f300deb4d1037d87fe6e70068f5f8?s=128&d=identicon&r=PG&f=1", "display_name": "cbw", "link": "https://stackoverflow.com/users/5795892/cbw"}, "edited": false, "score": 0, "creation_date": 1574348076, "post_id": 58965625, "comment_id": 104208606, "body": "Thanks for the suggestion, but that makes no difference for me. I suppose it must be a version issue if it&#39;s working for you."}, {"owner": {"reputation": 8010, "user_id": 10659910, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-3zC2tMoc6PA/AAAAAAAAAAI/AAAAAAAAADg/n9BjRO9gFMo/photo.jpg?sz=128", "display_name": "William Miller", "link": "https://stackoverflow.com/users/10659910/william-miller"}, "reply_to_user": {"reputation": 205, "user_id": 5795892, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b8f300deb4d1037d87fe6e70068f5f8?s=128&d=identicon&r=PG&f=1", "display_name": "cbw", "link": "https://stackoverflow.com/users/5795892/cbw"}, "edited": false, "score": 0, "creation_date": 1574356847, "post_id": 58965625, "comment_id": 104213778, "body": "@cbw What version are you using? Just out of curiousity"}, {"owner": {"reputation": 205, "user_id": 5795892, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b8f300deb4d1037d87fe6e70068f5f8?s=128&d=identicon&r=PG&f=1", "display_name": "cbw", "link": "https://stackoverflow.com/users/5795892/cbw"}, "edited": false, "score": 0, "creation_date": 1574361314, "post_id": 58965625, "comment_id": 104215904, "body": "3.7 on a linux server"}], "tags": [], "owner": {"reputation": 8010, "user_id": 10659910, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-3zC2tMoc6PA/AAAAAAAAAAI/AAAAAAAAADg/n9BjRO9gFMo/photo.jpg?sz=128", "display_name": "William Miller", "link": "https://stackoverflow.com/users/10659910/william-miller"}, "is_accepted": false, "score": 1, "last_activity_date": 1574298387, "last_edit_date": 1574298387, "creation_date": 1574297519, "answer_id": 58965625, "question_id": 58963688, "link": "https://stackoverflow.com/questions/58963688/matplotlib-ignoring-width-on-sampled-dataframes/58965625#58965625", "title": "Matplotlib Ignoring Width on Sampled DataFrames", "body": "<p>I'm not completely sure what </p>\n\n<pre><code>ex1[ex1.ind==np.max(ex1.ind)].index.to_list()[0]\n</code></pre>\n\n<p>is doing since it throws an error for me, but using </p>\n\n<pre><code>ex1[ex1.ind==np.max(ex1.ind)].index.values[0]\n</code></pre>\n\n<p>instead gives </p>\n\n<p><a href=\"https://i.stack.imgur.com/BBeQK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BBeQK.png\" alt=\"Spliced output with correct widths\"></a></p>\n\n<p>Tested with Python 2.7 in Jupyter Notebook, Python 2.7 and Python 3.6 on Ubuntu - all gave the same output</p>\n"}, {"comments": [{"owner": {"reputation": 8010, "user_id": 10659910, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-3zC2tMoc6PA/AAAAAAAAAAI/AAAAAAAAADg/n9BjRO9gFMo/photo.jpg?sz=128", "display_name": "William Miller", "link": "https://stackoverflow.com/users/10659910/william-miller"}, "edited": false, "score": 0, "creation_date": 1574360034, "post_id": 58978106, "comment_id": 104215290, "body": "Prefer this solution for most pandas plotting issues - seems to work every time"}], "tags": [], "owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "is_accepted": true, "score": 3, "last_activity_date": 1574349201, "creation_date": 1574349201, "answer_id": 58978106, "question_id": 58963688, "link": "https://stackoverflow.com/questions/58963688/matplotlib-ignoring-width-on-sampled-dataframes/58978106#58978106", "title": "Matplotlib Ignoring Width on Sampled DataFrames", "body": "<p>While matplotlib tries to support direct plotting of pandas objects, it might sometimes be problematic if pandas changes some internals. The solution to such problems would always be to fall back to plotting numpy arrays, for which all functionality is well tested.</p>\n\n<p>Here, the problem is that with some combinations of pandas/matplotlib versions plotting of <em>non-zero indexed dataframes or series</em> can cause hick-ups. </p>\n\n<p>Hence you would want to plot the numpy arrays <code>ex1.x.values</code> and <code>ex1.y.values</code> instead of the pandas series <code>ex1.x</code> amd <code>ex1.y</code>:</p>\n\n<pre><code>ax.bar(ex1.x.values, ex1.y.values, width=0.9)\n</code></pre>\n"}], "owner": {"reputation": 205, "user_id": 5795892, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b8f300deb4d1037d87fe6e70068f5f8?s=128&d=identicon&r=PG&f=1", "display_name": "cbw", "link": "https://stackoverflow.com/users/5795892/cbw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "accepted_answer_id": 58978106, "answer_count": 2, "score": 3, "last_activity_date": 1574349201, "creation_date": 1574285448, "last_edit_date": 1574288094, "question_id": 58963688, "link": "https://stackoverflow.com/questions/58963688/matplotlib-ignoring-width-on-sampled-dataframes", "title": "Matplotlib Ignoring Width on Sampled DataFrames", "body": "<p>I thought for sure this would already have an answer, but I can't find it anywhere. I'm running into an issue when trying to use matplotlib to make bar charts. Under most conditions, the plot comes out correctly. However, when I take some values out of the data before plotting the bars become much wider than I want. Consider the following minimum reproducible example:</p>\n\n<pre><code>import pandas as pd\nimport matplotlib.pyplot as plt\nimport numpy as np\n\nfig, ax = plt.subplots()\nex1 = pd.DataFrame({'x':[330,342,344,352,354,371,388,394,401,412,414,448,462,502,504,522,622],\n                    'y':[2,9,0,2,2,1,0,4,7,6,8,4,2,6,3,5,7],\n                    'ind':[0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0]})\nax.bar(ex1.x,ex1.y,width=0.9)\nfig.savefig('some/path')\n</code></pre>\n\n<p>When I open up this plot I get the following:</p>\n\n<p><a href=\"https://i.stack.imgur.com/clBxC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/clBxC.png\" alt=\"enter image description here\"></a></p>\n\n<p>This looks great. No issues. But now, suppose I only want to create a bar chart for part of the data. Essentially, all of the leading 0's in the \"ind\" column of my DF contain rows I don't care to plot. So I get rid of those and try again:</p>\n\n<pre><code>fig, ax = plt.subplots()\nfirstrow = ex1[ex1.ind==np.max(ex1.ind)].index.to_list()[0]\nex1 = ex1[firstrow:]\nax.bar(ex1.x,ex1.y,width=0.9)\nfig.savefig('some/other/location')\n</code></pre>\n\n<p>When I open that one up, I expect a truncated version of the original plot, i.e. with thin bars of the correct height, just without the few bars that I cut out of the DF. Instead, I get this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/GHAsw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GHAsw.png\" alt=\"enter image description here\"></a></p>\n\n<p>Huh? It starts in the right place, but that's about all the good I can say for it. It appears as if it's just ignoring the width parameter and running all of the bars together. I've played with several things and done some searches and couldn't figure out either what's going wrong or how to fix it. Any suggestions on how to make the second figure look like the first but without the data I don't want would be much appreciated!</p>\n\n<p><strong>Edited to answer any questions:</strong>\nResults of print(ex1.x); print(exq.y) are:</p>\n\n<pre><code>print(ex1.x); print(ex1.y)\n5     371\n6     388\n7     394\n8     401\n9     412\n10    414\n11    448\n12    462\n13    502\n14    504\n15    522\n16    622\nName: x, dtype: int64\n5     1\n6     0\n7     4\n8     7\n9     6\n10    8\n11    4\n12    2\n13    6\n14    3\n15    5\n16    7\nName: y, dtype: int64\n</code></pre>\n"}, {"tags": ["python", "android", "aiortc"], "comments": [{"owner": {"reputation": 73, "user_id": 11057499, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ab464edf4c6a910e24561f268580249?s=128&d=identicon&r=PG&f=1", "display_name": "user199858", "link": "https://stackoverflow.com/users/11057499/user199858"}, "edited": false, "score": 0, "creation_date": 1575902824, "post_id": 58963659, "comment_id": 104712248, "body": "I would really like to know this answer too!"}, {"owner": {"reputation": 625, "user_id": 3900723, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/8b383cec5d8b20db7c4faaaee53c5b06?s=128&d=identicon&r=PG&f=1", "display_name": "maxbit89", "link": "https://stackoverflow.com/users/3900723/maxbit89"}, "edited": false, "score": 0, "creation_date": 1603730341, "post_id": 58963659, "comment_id": 114122293, "body": "Hy i am working on a similar thing. (i want to feed the screen from my phone to tensorflow model) the ADB Command outputs data. But ffmpeg doesn&#39;t give any thing except empty byte strings?"}], "owner": {"reputation": 123, "user_id": 2624784, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/d5utr.png?s=128&g=1", "display_name": "bottega", "link": "https://stackoverflow.com/users/2624784/bottega"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 532, "favorite_count": 1, "answer_count": 0, "score": 2, "last_activity_date": 1574285328, "creation_date": 1574285328, "question_id": 58963659, "link": "https://stackoverflow.com/questions/58963659/streaming-android-screen-using-webrtc-python", "title": "Streaming android screen using Webrtc + python", "body": "<p>I'm trying to stream android screen using python + aiortc. \nI have a POC to obtain the device screen using adb + screenrecord. The provided code reads the raw output (h264) from the execution of screenrecord and shows it using ffmpeg and opencv.</p>\n\n<pre><code>import subprocess as sp\nimport cv2\nimport array\nimport numpy as np\n\nadbCmd = ['adb', 'exec-out', 'screenrecord', '--output-format=h264', '-']\nstream = sp.Popen(adbCmd, stdout= sp.PIPE, universal_newlines = True)\n\nffmpegCmd = ['ffmpeg', '-i', '-', '-f', 'rawvideo', '-vcodec', 'bmp', '-vf', 'fps=5', '-']\nffmpeg = sp.Popen(ffmpegCmd, stdin=stream.stdout, stdout=sp.PIPE)\n\nwhile True:\n    fileSizeBytes = ffmpeg.stdout.read(6)\n    fileSize = 0\n    for i in range(4):\n        fileSize += fileSizeBytes[i + 2] * 256 ** i\n    bmpData = fileSizeBytes + ffmpeg.stdout.read(fileSize - 6)\n    image = cv2.imdecode(np.fromstring(bmpData, dtype=np.uint8), 1)\n    cv2.imshow(\"im\", image)\n    cv2.waitKey(25)\n\n</code></pre>\n\n<p>Currently, I'm trying to plug the output from ffmpeg or adb exec-out to an aiortc media streamer. Based on <a href=\"https://github.com/aiortc/aiortc/blob/master/examples/server/server.py\" rel=\"nofollow noreferrer\">this</a> example I replaced the recv method with the fallowing code</p>\n\n<pre><code>async def recv(self):\n    fileSizeBytes = ffmpeg.stdout.read(6)\n    fileSize = 0\n    for i in range(4):\n        fileSize += fileSizeBytes[i + 2] * 256 ** i\n    bmpData = fileSizeBytes + ffmpeg.stdout.read(fileSize - 6)\n    image = cv2.imdecode(numpy.fromstring(bmpData, dtype=numpy.uint8), 1)\n\n    frame = VideoFrame.from_ndarray(\n        image, format=\"bgr24\"\n    )\n\n    pts, time_base = await self.next_timestamp()\n    frame.pts = pts\n    frame.time_base = time_base\n    self.counter += 1\n    return frame\n</code></pre>\n\n<p>But this code is not able to stream the correct video from device screen and no error happen. I'm looking for solutions for this problem. I was thinking to use the direct output from adbCmd but it also didn't worked.</p>\n"}, {"tags": ["python", "python-3.x", "variables", "input"], "answers": [{"comments": [{"owner": {"reputation": 95, "user_id": 10100525, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-pQjsn0kZlN0/AAAAAAAAAAI/AAAAAAAAAAg/SnSZaZGch6g/photo.jpg?sz=128", "display_name": "Coder Cody", "link": "https://stackoverflow.com/users/10100525/coder-cody"}, "edited": false, "score": 1, "creation_date": 1574285704, "post_id": 58963722, "comment_id": 104182524, "body": "rookie mistake x)"}], "tags": [], "owner": {"reputation": 2967, "user_id": 4828815, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/--CqgH2V98Jg/AAAAAAAAAAI/AAAAAAAAABY/lilOgpMEIEs/photo.jpg?sz=128", "display_name": "Poojan", "link": "https://stackoverflow.com/users/4828815/poojan"}, "is_accepted": true, "score": 4, "last_activity_date": 1581975171, "last_edit_date": 1581975171, "creation_date": 1574285618, "answer_id": 58963722, "question_id": 58963657, "link": "https://stackoverflow.com/questions/58963657/how-to-check-for-no-input-in-python/58963722#58963722", "title": "How to Check for no input in Python", "body": "<ul>\n<li>Somehow it looks like your <code>run</code> is not working as you expected. Its returning 'yes' and 'no' not True and False. Ordering of your if else is wrong you need to fix that.</li>\n<li>just move up <code>if x==''</code> condition and it will work.</li>\n</ul>\n\n<pre class=\"lang-py prettyprint-override\"><code># Imports\nimport re\n\n# Variables\ncontestants = []\n\n\ndef run(string):\n    incorrectSymbols = re.compile('[@_!#$%^&amp;*()&lt;&gt;?/\\|}{~:]')\n    if (incorrectSymbols.search(string) == None):\n        return \"yes\"\n    else:\n        return \"no\"\n\n\ndef bootUp():\n    print(\"\"\"&gt;&gt;&gt; Hello judges!\n&gt;&gt;&gt; Today you will be viewing 6 contestants!\n&gt;&gt;&gt; To continue please enter all contestants names!\"\"\")\n    contestantNames()\n\n\ndef contestantNames():\n    for i in range(0, 6):\n        while True:\n            x = input(\"&gt;&gt;&gt; Contestant number \" + str(i) + \" name: \")\n            if x == \"\":            # Here is what im confused about.\n                print(\"&gt;&gt;&gt; You can't leave it blank!\")\n            elif run(x) == \"yes\":\n                break\n            elif run(x) == \"no\":\n                print(\"&gt;&gt;&gt; No symbols allowed!\")\n            else:\n                print(\"&gt;&gt;&gt; Error in run function.\")\n    contestants.append(x)\n    print(contestants)\n\n\nbootUp()\n</code></pre>\n\n<ul>\n<li>Another solution is to change run function like this.</li>\n</ul>\n\n<pre><code>def run(string):\n    if string == \"\":\n        return\n    incorrectSymbols = re.compile('[@_!#$%^&amp;*()&lt;&gt;?/\\|}{~:]')\n    if (incorrectSymbols.search(string) == None):\n        return \"yes\"\n    else:\n        return \"no\"\n</code></pre>\n\n<p>This will work with your default if else ordering.</p>\n"}], "owner": {"reputation": 95, "user_id": 10100525, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-pQjsn0kZlN0/AAAAAAAAAAI/AAAAAAAAAAg/SnSZaZGch6g/photo.jpg?sz=128", "display_name": "Coder Cody", "link": "https://stackoverflow.com/users/10100525/coder-cody"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "accepted_answer_id": 58963722, "answer_count": 1, "score": 2, "last_activity_date": 1581975171, "creation_date": 1574285310, "question_id": 58963657, "link": "https://stackoverflow.com/questions/58963657/how-to-check-for-no-input-in-python", "title": "How to Check for no input in Python", "body": "<pre><code># Imports\nimport re\n\n# Variables\ncontestants = []\n\n\ndef run(string):\n    incorrectSymbols = re.compile('[@_!#$%^&amp;*()&lt;&gt;?/\\|}{~:]')\n    if (incorrectSymbols.search(string) == None):\n        return \"yes\"\n    else:\n        return \"no\"\n\n\ndef bootUp():\n    print(\"\"\"&gt;&gt;&gt; Hello judges!\n&gt;&gt;&gt; Today you will be viewing 6 contestants!\n&gt;&gt;&gt; To continue please enter all contestants names!\"\"\")\n    contestantNames()\n\n\ndef contestantNames():\n    for i in range(0, 6):\n        while True:\n            x = input(\"&gt;&gt;&gt; Contestant number \" + str(i) + \" name: \")\n            if run(x) == \"yes\":\n                break\n            elif run(x) == \"no\":\n                print(\"&gt;&gt;&gt; No symbols allowed!\")\n            elif x==\"\":            # Here is what im confused about.\n                print(\"&gt;&gt;&gt; You can't leave it blank!\")\n            else:\n                print(\"&gt;&gt;&gt; Error in run function.\")\n    contestants.append(x)\n    print(contestants)\n\n\nbootUp()\n</code></pre>\n\n<p>After reading up on this problem I found multiple accounts saying to do this simply use (variable)=\"\" . However, this does not work for me, any other ideas?</p>\n\n<p>My code is an attempt for a dance project where contestants all take turns and each judge scores each contestant. A tournament to be put simply. This part of the code would be the beginning where I obtain the contestant's names and i need to make sure they have no symbols or left blank. </p>\n"}, {"tags": ["python", "tensorflow", "keras", "keras-layer", "tf.keras"], "comments": [{"owner": {"reputation": 909, "user_id": 10368128, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1784b140ba75ead991e98a03be154f97?s=128&d=identicon&r=PG&f=1", "display_name": "loki", "link": "https://stackoverflow.com/users/10368128/loki"}, "edited": false, "score": 0, "creation_date": 1574287057, "post_id": 58963553, "comment_id": 104183091, "body": "show some code you wrote"}, {"owner": {"reputation": 13788, "user_id": 3222797, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/H5JG2.png?s=128&g=1", "display_name": "gobrewers14", "link": "https://stackoverflow.com/users/3222797/gobrewers14"}, "edited": false, "score": 0, "creation_date": 1574287470, "post_id": 58963553, "comment_id": 104183243, "body": "Please see <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">how to create a minimal, complete, and reproducible example</a>."}, {"owner": {"reputation": 200, "user_id": 7810686, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f847aac2a824e62d8eb4fc0259e68f46?s=128&d=identicon&r=PG", "display_name": "anms_pro", "link": "https://stackoverflow.com/users/7810686/anms-pro"}, "reply_to_user": {"reputation": 909, "user_id": 10368128, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1784b140ba75ead991e98a03be154f97?s=128&d=identicon&r=PG&f=1", "display_name": "loki", "link": "https://stackoverflow.com/users/10368128/loki"}, "edited": false, "score": 1, "creation_date": 1574327858, "post_id": 58963553, "comment_id": 104196182, "body": "I have added the link to my codes. @AccLok"}], "answers": [{"comments": [{"owner": {"reputation": 1612, "user_id": 5753035, "user_type": "registered", "accept_rate": 55, "profile_image": "https://lh3.googleusercontent.com/-go_UWpUd2rk/AAAAAAAAAAI/AAAAAAAAHdU/sbSvIGtQWxA/photo.jpg?sz=128", "display_name": "Pramesh Bajracharya", "link": "https://stackoverflow.com/users/5753035/pramesh-bajracharya"}, "edited": false, "score": 3, "creation_date": 1588837771, "post_id": 59022162, "comment_id": 109054773, "body": "I am loathing TensorFlow for this. Nothing works with a single version. Even with minor version change, big things break."}, {"owner": {"reputation": 200, "user_id": 7810686, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f847aac2a824e62d8eb4fc0259e68f46?s=128&d=identicon&r=PG", "display_name": "anms_pro", "link": "https://stackoverflow.com/users/7810686/anms-pro"}, "reply_to_user": {"reputation": 1612, "user_id": 5753035, "user_type": "registered", "accept_rate": 55, "profile_image": "https://lh3.googleusercontent.com/-go_UWpUd2rk/AAAAAAAAAAI/AAAAAAAAHdU/sbSvIGtQWxA/photo.jpg?sz=128", "display_name": "Pramesh Bajracharya", "link": "https://stackoverflow.com/users/5753035/pramesh-bajracharya"}, "edited": false, "score": 3, "creation_date": 1588987441, "post_id": 59022162, "comment_id": 109120974, "body": "Totally agreed. Tensorflow is widely used. It should have been compatible in terms of version change. @PrameshBajracharya"}], "tags": [], "owner": {"reputation": 124, "user_id": 6230144, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24350b6a5c9b2ee345ef9b87f828b129?s=128&d=identicon&r=PG&f=1", "display_name": "Akib_Zahid", "link": "https://stackoverflow.com/users/6230144/akib-zahid"}, "is_accepted": true, "score": 7, "last_activity_date": 1592905807, "last_edit_date": 1592905807, "creation_date": 1574627830, "answer_id": 59022162, "question_id": 58963553, "link": "https://stackoverflow.com/questions/58963553/attributeerror-module-tensorflow-python-keras-backend-has-no-attribute-get-g/59022162#59022162", "title": "AttributeError: module &#39;tensorflow.python.keras.backend&#39; has no attribute &#39;get_graph&#39;", "body": "<p>The project &quot;YOLOv3 model for object detection&quot; has some issues with versions. I had the same issue and I used tensorflow 1.14.0 and keras 2.2.0.</p>\n<p>Just overwrite the specific versions. Write in the command line.</p>\n<pre><code>pip install tensorflow==1.14.0\npip install keras==2.2.0\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 121, "user_id": 12448259, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5296a56114c7a5fa91c36c442104370c?s=128&d=identicon&r=PG&f=1", "display_name": "Japesh Methuku", "link": "https://stackoverflow.com/users/12448259/japesh-methuku"}, "is_accepted": false, "score": 3, "last_activity_date": 1609098143, "last_edit_date": 1609098143, "creation_date": 1580934489, "answer_id": 60083622, "question_id": 58963553, "link": "https://stackoverflow.com/questions/58963553/attributeerror-module-tensorflow-python-keras-backend-has-no-attribute-get-g/60083622#60083622", "title": "AttributeError: module &#39;tensorflow.python.keras.backend&#39; has no attribute &#39;get_graph&#39;", "body": "<p>I installed <code>tensorflow v1.14.0</code> using <code>pip install tensorflow==1.14.0</code> and <code>keras v2.2.0</code> using <code>pip install keras==2.2.0</code> and it should definitely work.</p>\n"}], "owner": {"reputation": 200, "user_id": 7810686, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f847aac2a824e62d8eb4fc0259e68f46?s=128&d=identicon&r=PG", "display_name": "anms_pro", "link": "https://stackoverflow.com/users/7810686/anms-pro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 12066, "favorite_count": 0, "accepted_answer_id": 59022162, "answer_count": 2, "score": 4, "last_activity_date": 1609098143, "creation_date": 1574284795, "last_edit_date": 1574327742, "question_id": 58963553, "link": "https://stackoverflow.com/questions/58963553/attributeerror-module-tensorflow-python-keras-backend-has-no-attribute-get-g", "title": "AttributeError: module &#39;tensorflow.python.keras.backend&#39; has no attribute &#39;get_graph&#39;", "body": "<p>I have been working on keras yolov3 model for object detection. This error keeps showing up. \nHere is the error:</p>\n\n<pre><code>AttributeError: module 'tensorflow.python.keras.backend' has no attribute 'get_graph'\n\n</code></pre>\n\n<p>I don't know what to do. I have tried replacing \"import keras.module.module\" to \"tensorflow.keras.module.module\". But still it doesn't work.</p>\n\n<p>The full output code:</p>\n\n<pre><code>runfile('G:/Traffic Violation Detection/object_detection.py', wdir='G:/Traffic Violation Detection')\nUsing TensorFlow backend.\nTraceback (most recent call last):\n\n  File \"&lt;ipython-input-3-0715decb6662&gt;\", line 1, in &lt;module&gt;\n    runfile('G:/Traffic Violation Detection/object_detection.py', wdir='G:/Traffic Violation Detection')\n\n  File \"C:\\Users\\HP-NPC\\Anaconda3\\envs\\virtual_platform\\lib\\site-packages\\spyder\\utils\\site\\sitecustomize.py\", line 710, in runfile\n    execfile(filename, namespace)\n\n  File \"C:\\Users\\HP-NPC\\Anaconda3\\envs\\virtual_platform\\lib\\site-packages\\spyder\\utils\\site\\sitecustomize.py\", line 101, in execfile\n    exec(compile(f.read(), filename, 'exec'), namespace)\n\n  File \"G:/Traffic Violation Detection/object_detection.py\", line 6, in &lt;module&gt;\n    from keras.layers.merge import add, concatenate\n\n  File \"C:\\Users\\HP-NPC\\Anaconda3\\envs\\virtual_platform\\lib\\site-packages\\keras\\__init__.py\", line 3, in &lt;module&gt;\n    from . import utils\n\n  File \"C:\\Users\\HP-NPC\\Anaconda3\\envs\\virtual_platform\\lib\\site-packages\\keras\\utils\\__init__.py\", line 6, in &lt;module&gt;\n    from . import conv_utils\n\n  File \"C:\\Users\\HP-NPC\\Anaconda3\\envs\\virtual_platform\\lib\\site-packages\\keras\\utils\\conv_utils.py\", line 9, in &lt;module&gt;\n    from .. import backend as K\n\n  File \"C:\\Users\\HP-NPC\\Anaconda3\\envs\\virtual_platform\\lib\\site-packages\\keras\\backend\\__init__.py\", line 1, in &lt;module&gt;\n    from .load_backend import epsilon\n\n  File \"C:\\Users\\HP-NPC\\Anaconda3\\envs\\virtual_platform\\lib\\site-packages\\keras\\backend\\load_backend.py\", line 90, in &lt;module&gt;\n    from .tensorflow_backend import *\n\n  File \"C:\\Users\\HP-NPC\\Anaconda3\\envs\\virtual_platform\\lib\\site-packages\\keras\\backend\\tensorflow_backend.py\", line 54, in &lt;module&gt;\n    get_graph = tf_keras_backend.get_graph\n\nAttributeError: module 'tensorflow.python.keras.backend' has no attribute 'get_graph'\n</code></pre>\n\n<p>My imports:</p>\n\n<pre><code>import numpy as np\nfrom tensorflow.keras.layers import Conv2D, Input, BatchNormalization, LeakyReLU, ZeroPadding2D, UpSampling2D\nfrom keras.layers.merge import add, concatenate\nfrom tensorflow.keras.models import Model\nimport struct\nimport cv2\nimport imageio\n\n</code></pre>\n\n<p>For full code please visit: <a href=\"https://colab.research.google.com/drive/1oVR7swBqjfqxR50C3xt89w1vGEAaTFcK#scrollTo=rpSn_HsUHbGF\" rel=\"nofollow noreferrer\">https://colab.research.google.com/drive/1oVR7swBqjfqxR50C3xt89w1vGEAaTFcK#scrollTo=rpSn_HsUHbGF</a></p>\n"}, {"tags": ["python", "tkinter"], "comments": [{"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1574285957, "post_id": 58963536, "comment_id": 104182624, "body": "Why are you deriving your own widgets from the one provided by <code>tkinter</code>? There doesn&#39;t appear to be any additional functionality being added."}, {"owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 0, "creation_date": 1574287499, "post_id": 58963536, "comment_id": 104183257, "body": "<i>&quot;The &quot;Submit&quot; button isn&#39;t appearing properly.&quot;</i> - what does that mean? How is it appearing, and how is that different from what you expect?"}], "answers": [{"tags": [], "owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "is_accepted": false, "score": 0, "last_activity_date": 1574385254, "last_edit_date": 1574385254, "creation_date": 1574288165, "answer_id": 58964225, "question_id": 58963536, "link": "https://stackoverflow.com/questions/58963536/creating-a-simple-gui-using-tkinter-and-having-a-small-problem/58964225#58964225", "title": "Creating a simple GUI using tkinter, and having a small problem", "body": "<p>I'm not sure if there's just a single thing that's preventing the <kbd>Submit</kbd> button from being displayed, nor why you're deriving specialized widget subclasses that do nothing but hardcode some option settings into themselves \u2014 but, in general, you're not doing it correctly especially with respect to calling the superclass <code>__init__()</code> and configuring the instance inside each derived class' own <code>__init__()</code>.</p>\n\n<p>The reason this is a less than ideal way of doing things is because it's going to require different subclasses for every, say <code>Button</code> widget, your application needs \u2014 when all that's really required are instances of a single <code>Button</code> class with different values assigned to its attributes (which <code>tkinter</code> calls \"options\").</p>\n\n<p>Subclassing should only be used when the actual <em>code</em> needs to be different. See the <strong>Definitions of subclass</strong> section of <a href=\"https://en.wikipedia.org/wiki/Class_(computer_programming)#Definitions_of_subclass\" rel=\"nofollow noreferrer\">wikipedia article</a> on <strong><em>Classes</em></strong>.</p>\n\n<p>So, in my opinion you should instead just create instance of the stock <code>tkinter</code> widget and assign the options you want each to have when you create the instances. This is the way it's usually done and would be a lot simpler.</p>\n\n<p>Anyway, here's how to do implement your approach correctly, which also happens to fix the <code>Button</code> not displaying issue:</p>\n\n<pre><code>import tkinter as tk\nfrom tkinter import *\nimport tkinter.ttk as ttk\n\n\nclass Window(Frame):\n    def __init__(self, master):\n        super().__init__(master)\n        self.master = master\n        master.title('Learning Python')\n        master.config(background='black')\n        master.geometry('900x200')\n        master.resizable(0, 0)\n\n\nclass Submit(Button):\n    def __init__(self, master):\n        super().__init__(master)\n        self.master = master\n        self.config(text='Submit', background='black', foreground='light green',\n                    highlightthickness=0, border=0)\n        self.pack()\n\n\nclass ProgressBar(ttk.Progressbar):\n    def __init__(self, master):\n        super().__init__(master)\n        self.master = master\n        self.config(orient='horizontal')\n        self.pack(fill=tk.BOTH)\n\n\nclass PagesRead(Label):\n    def __init__(self, master):\n        super().__init__(master)\n        self.master = master\n        self.config(text='How many page(s) did you read?', background='black',\n                    foreground='light green')\n        self.pack()\n\n\nclass EntryBox(Entry):\n    def __init__(self, master):\n        super().__init__(master)\n        self.master = master\n        self.pack()\n\n\nif __name__ == '__main__':\n    root = tk.Tk()\n    app = Window(root)\n    bar = ProgressBar(root)\n    pages = PagesRead(root)\n    entry = EntryBox(root)\n    submit = Submit(root)\n    app.mainloop()\n\n</code></pre>\n\n<p>Screenshot</p>\n\n<p><a href=\"https://i.stack.imgur.com/7QgUl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7QgUl.png\" alt=\"screenshot of tkinter app running and displaying all widgets\"></a></p>\n"}, {"tags": [], "owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "is_accepted": false, "score": 2, "last_activity_date": 1574288397, "creation_date": 1574288397, "answer_id": 58964276, "question_id": 58963536, "link": "https://stackoverflow.com/questions/58963536/creating-a-simple-gui-using-tkinter-and-having-a-small-problem/58964276#58964276", "title": "Creating a simple GUI using tkinter, and having a small problem", "body": "<p>If you're trying to learn OOP, you're learning bad habits with this code.</p>\n\n<p>Let's take a look at this code:</p>\n\n<pre><code>class Submit(Button):\n    def __init__(self, master):\n        super().__init__()\n        self.master = master\n        Button(text='Submit', background='black', foreground='light green', highlightthickness=0,\n               border=0)\n        Button.pack(self)\n</code></pre>\n\n<p>First, because you inherit from <code>Button</code>, this class <em>is a</em> <code>Button</code>. You then call <code>Button(text=...)</code> which creates <em>another</em> button, so now you have two. If you're going to inherit from some other class, you don't need to create a second instance of that same class.</p>\n\n<p>Also, these two lines are wrong:</p>\n\n<pre><code>super().__init__()\nself.master = master\n</code></pre>\n\n<p>You need to pass <code>master</code> to the <code>__init__</code> of the superclass. The master is more than just an attribute, it's an integral part of the definition of the widget. It affects how the widget will appear. It <em>must</em> be passed to the superclass in order for the widget to be properly initialized.</p>\n\n<p>Also, this is slightly more subjective, but you should not be calling <code>Button.pack(self)</code> from within the definition of <code>Submit</code>. One of the main reasons for objects is to make reusable components. By having a widget call <code>pack</code> (or <code>grid</code> or <code>place</code>) on itself severely limits its re-usability. By calling <code>pack</code> inside <code>Submit</code>, it prevents you from using it or moving it to some other location in your UI which uses <code>grid</code>. That is an unnecessary constraint.</p>\n\n<p>In my experience, the overall layout of a UI will change during development. What if you decide that you want to switch from <code>pack</code> to <code>grid</code> because you've designed to change the layout?  The way you have written this code, you will have to modify every single class.</p>\n\n<p>Instead, code that creates a widget should be responsible for calling <code>pack</code>, <code>grid</code>, or <code>place</code>. That means moving the call outside of the class and into the code that instantiates the class. This way, if you choose to use <code>grid</code>, or stay with <code>pack</code> but use some extra frames for organization, you only have to change the one function that creates each widget, rather than having to change every widget itself.</p>\n\n<p>For example, the <code>Submit</code> button class should more look like this:</p>\n\n<pre><code>class Submit(Button):\n    def __init__(self, master):\n        super().__init__(master)\n        self.configure(text='Submit', background='black', foreground='light green',\n                       highlightthickness=0, border=0)\n</code></pre>\n\n<p>Then, in the same code where it's created, that's where you call pack</p>\n\n<pre><code>submit = Submit(root)\n...\nsubmit.pack(...)\n</code></pre>\n\n<p>If you later decide to switch to <code>grid</code>, all you have to change is that last block of code. </p>\n"}], "owner": {"reputation": 9, "user_id": 12254782, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-OjqDrp8s6ZU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rc8GGWkqy4Sc7IBjofDURhR-7DTbQ/photo.jpg?sz=128", "display_name": "live for the hunt", "link": "https://stackoverflow.com/users/12254782/live-for-the-hunt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1574385254, "creation_date": 1574284712, "question_id": 58963536, "link": "https://stackoverflow.com/questions/58963536/creating-a-simple-gui-using-tkinter-and-having-a-small-problem", "title": "Creating a simple GUI using tkinter, and having a small problem", "body": "<p>One of the buttons i'm trying to create is not appearing correctly in the window. I've been trying to learn OOP, so my understanding of it is very basic right now, apologies in advance.</p>\n\n<p>The \"Submit\" button isn't appearing properly.</p>\n\n<p>Here's the code so far:</p>\n\n<pre><code>class Window(Frame):\n    def __init__(self, master):\n        super().__init__()\n        self.master = master\n        master.title('Learning Python')\n        master.configure(background='black')\n        master.geometry('900x200')\n        master.resizable(0, 0)\n\n\nclass Submit(Button):\n    def __init__(self, master):\n        super().__init__()\n        self.master = master\n        Button(text='Submit', background='black', foreground='light green', highlightthickness=0,\n               border=0)\n        Button.pack(self)\n\n\nclass ProgressBar(ttk.Progressbar):\n    def __init__(self, master):\n        super().__init__()\n        self.master = master\n        progress_bar = ttk.Progressbar(orient='horizontal')\n        progress_bar.pack(fill=tk.BOTH)\n\n\nclass PagesRead(Label):\n    def __init__(self, master):\n        super().__init__()\n        self.master = master\n        pages_label = Label(text='How many page(s) did you read?', background='black', foreground='light green')\n        pages_label.pack()\n\n\nclass EntryBox(Entry):\n    def __init__(self, master):\n        super().__init__()\n        self.master = master\n        Entry(master)\n        Entry.pack(self)\n\n\nif __name__ == '__main__':\n    root = tk.Tk()\n    app = Window(root)\n    bar = ProgressBar(root)\n    pages = PagesRead(root)\n    entry = EntryBox(root)\n    submit = Submit(root)\n    app.mainloop()\n</code></pre>\n"}, {"tags": ["python", "dataframe"], "comments": [{"owner": {"reputation": 4527, "user_id": 8468264, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8adc0e0b5afd1ff077dd16a48492c1e0?s=128&d=identicon&r=PG&f=1", "display_name": "d_kennetz", "link": "https://stackoverflow.com/users/8468264/d-kennetz"}, "edited": false, "score": 0, "creation_date": 1574286083, "post_id": 58963518, "comment_id": 104182677, "body": "he will probably let you know by either selecting it as the accepted answer or not. You don&#39;t need to comment on the question to tell him that you&#39;ve posted an answer."}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user11357465"}, "edited": false, "score": 0, "creation_date": 1574285444, "post_id": 58963665, "comment_id": 104182416, "body": "Yes, but if I have 100 Session columns, I&#39;d like to know to apply this to all columns that contain &#39;Session&#39;"}], "tags": [], "owner": {"reputation": 22382, "user_id": 5025009, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7KIA9.png?s=128&g=1", "display_name": "seralouk", "link": "https://stackoverflow.com/users/5025009/seralouk"}, "is_accepted": false, "score": 0, "last_activity_date": 1574285790, "last_edit_date": 1574285790, "creation_date": 1574285356, "answer_id": 58963665, "question_id": 58963518, "link": "https://stackoverflow.com/questions/58963518/pandas-rename-specific-columns-and-change-dtype/58963665#58963665", "title": "Pandas rename specific columns and change dtype", "body": "<p><strong>For your 1st point:</strong></p>\n\n<pre><code>n_columns_with_session = 3\n# create the names of the target columns\ncols = [\"Session{}\".format(i) for i in range(1,n_columns_with_session+1)]\n\n# change the dtype of the target columns\ndf1[cols] = df1[cols].astype('int64')\n\n</code></pre>\n\n<hr>\n\n<p><strong>For your 2nd point:</strong></p>\n\n<pre><code># create the new names\nnew_names_cols = [\"Sess{}\".format(i) for i in range(1,n_columns_with_session+1)]\n\n# append \"Total\" name since you do not want to change this\nnew_names_cols.append('Total')    \n\n# rename the columns\ndf1.columns = new_names_cols\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 142, "user_id": 6660112, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12506479d2e50b1ad39d3b1429025811?s=128&d=identicon&r=PG&f=1", "display_name": "Amrsaeed", "link": "https://stackoverflow.com/users/6660112/amrsaeed"}, "is_accepted": true, "score": -1, "last_activity_date": 1574286621, "last_edit_date": 1574286621, "creation_date": 1574285534, "answer_id": 58963707, "question_id": 58963518, "link": "https://stackoverflow.com/questions/58963518/pandas-rename-specific-columns-and-change-dtype/58963707#58963707", "title": "Pandas rename specific columns and change dtype", "body": "<p>First step would be to filter all the target columns you want. You can get them using </p>\n\n<pre><code>target_cols = [col for col in df if col.startswith('Session')]\n</code></pre>\n\n<p>Then you can apply any operation you want to those columns. For example, to change the data type you would do the following</p>\n\n<pre><code>df[target_cols] = df[target_cols].astype('int64')\n</code></pre>\n\n<p><strong>Edit:</strong>\nFor your second point of renaming and removing the last three characters, you would use the rename function like this:</p>\n\n<pre><code>new_cols = [i[:-3] for i in target_cols]\ndf.rename(columns=dict(zip(target_cols, new_cols)), inplace=True)\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user11357465"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 198, "favorite_count": 0, "accepted_answer_id": 58963707, "answer_count": 2, "score": 0, "last_activity_date": 1574286621, "creation_date": 1574284644, "last_edit_date": 1574285994, "question_id": 58963518, "link": "https://stackoverflow.com/questions/58963518/pandas-rename-specific-columns-and-change-dtype", "title": "Pandas rename specific columns and change dtype", "body": "<p>I have a dataframe, df1, where multiple columns contain the same subset of string characters. How do I make changes to these columns alone. For instance, remove the last three characters, change the column dtype, etc. I just want to be more comfortable making changes to columns with the same subset of characters (For example 'Session', shown below)</p>\n\n<p>First Example:</p>\n\n<pre><code>df1:\n\nSession1    Session2    Session3    Total\n3.0         4.0         5.0         5.0\n2.0         1.0         4.0         NaN\n\ndf2 (Intended Output):\n\nSession1    Session2    Session3    Total\n3           4           5           5.0\n2           1           4           Nan\n</code></pre>\n\n<p>Second Example:</p>\n\n<pre><code>df1:\n\nSession1    Session2    Session3    Total\n3           4           5           5.0\n2           1           4           Nan\n\ndf2 (Intended Out):\n\nSessi    Sessi    Sessi    Total\n3        4        5        5.0\n2        1        4        NaN\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "iterator"], "comments": [{"owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 1, "creation_date": 1574284878, "post_id": 58963507, "comment_id": 104182203, "body": "I don&#39;t think <code>it</code> would necessarily <i>have</i> a reference to <code>l</code>. As it exits at the C level, it could have direct access to the array in which the data is stored, bypassing the <code>list</code> object. (I&#39;m not sure <code>list_iterator</code> is even defined by Python; it may be an implementation detail of CPython.)"}, {"owner": {"reputation": 1534, "user_id": 2641719, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh5.googleusercontent.com/-fOFkOdZ8zZg/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfbQ5kljjlVo-ToOWjhkKxVlseO8A/photo.jpg?sz=128", "display_name": "ThunderPhoenix", "link": "https://stackoverflow.com/users/2641719/thunderphoenix"}, "reply_to_user": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 1, "creation_date": 1574285290, "post_id": 58963507, "comment_id": 104182352, "body": "@chepner <code>&#236;t</code> does have a reference to <code>l</code>. See my update."}, {"owner": {"reputation": 1796, "user_id": 5763327, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/051c8032c315fd540790929f1d6a6510?s=128&d=identicon&r=PG&f=1", "display_name": "Setop", "link": "https://stackoverflow.com/users/5763327/setop"}, "edited": false, "score": 0, "creation_date": 1574285667, "post_id": 58963507, "comment_id": 104182501, "body": "Source is there : <a href=\"https://github.com/python/cpython/blob/3c87a667bb367ace1de6bd1577fdb4f66947da52/Objects/listobject.c#L3075\" rel=\"nofollow noreferrer\">github.com/python/cpython/blob/&hellip;</a>"}, {"owner": {"reputation": 24610, "user_id": 270986, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c49652c88a43a35bbf0095abfdae3515?s=128&d=identicon&r=PG", "display_name": "Mark Dickinson", "link": "https://stackoverflow.com/users/270986/mark-dickinson"}, "edited": false, "score": 3, "creation_date": 1574285681, "post_id": 58963507, "comment_id": 104182510, "body": "How hacky / nonportable a solution is good enough? <code>it.__reduce__()[1][0]</code> does it in current CPython, but it&#39;s not something I&#39;d want to rely on."}, {"owner": {"reputation": 5879, "user_id": 8150685, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WV7OV.jpg?s=128&g=1", "display_name": "Error - Syntactical Remorse", "link": "https://stackoverflow.com/users/8150685/error-syntactical-remorse"}, "edited": false, "score": 0, "creation_date": 1574285709, "post_id": 58963507, "comment_id": 104182529, "body": "<code>print(it.__class__.__dict__)</code> will show you what you can use for the object itself."}, {"owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 2, "creation_date": 1574285738, "post_id": 58963507, "comment_id": 104182539, "body": "I should have been clearer: I don&#39;t think <code>it</code> <i>exposes</i> its reference at the language level (Mark&#39;s comment nonwithstanding; I&#39;ve never really been clear just <i>what</i> <code>__reduce__</code> does)."}, {"owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 0, "creation_date": 1574285977, "post_id": 58963507, "comment_id": 104182637, "body": "<a href=\"https://github.com/python/cpython/blob/master/Objects/listobject.c#L3121\" rel=\"nofollow noreferrer\">github.com/python/cpython/blob/master/Objects/&hellip;</a> shows the C-level reference to C object representing the list."}], "answers": [{"comments": [{"owner": {"reputation": 5879, "user_id": 8150685, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WV7OV.jpg?s=128&g=1", "display_name": "Error - Syntactical Remorse", "link": "https://stackoverflow.com/users/8150685/error-syntactical-remorse"}, "edited": false, "score": 1, "creation_date": 1574285793, "post_id": 58963744, "comment_id": 104182565, "body": "Clever. Very interesting idea."}, {"owner": {"reputation": 1534, "user_id": 2641719, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh5.googleusercontent.com/-fOFkOdZ8zZg/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfbQ5kljjlVo-ToOWjhkKxVlseO8A/photo.jpg?sz=128", "display_name": "ThunderPhoenix", "link": "https://stackoverflow.com/users/2641719/thunderphoenix"}, "edited": false, "score": 1, "creation_date": 1574287903, "post_id": 58963744, "comment_id": 104183427, "body": "Thanks for the answer! Very clever."}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 2, "creation_date": 1574313862, "post_id": 58963744, "comment_id": 104190097, "body": "In general, peeking into an object&#39;s referents with <code>get_referents</code> is a dangerous thing to do. Most Python C code is written assuming you can&#39;t access the references <code>get_referents</code> exposes, and accessing those references anyway can lead to memory corruption and arbitrarily weird results."}, {"owner": {"reputation": 1375, "user_id": 9307263, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/defcaa944843f58d4f4befbed4a9c77c?s=128&d=identicon&r=PG&f=1", "display_name": "Brian Joseph", "link": "https://stackoverflow.com/users/9307263/brian-joseph"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1574350873, "post_id": 58963744, "comment_id": 104210291, "body": "@user2357112supportsMonica hmmm I didn&#39;t know peeking into references could cause memory issues. I knew it wasn&#39;t great practice but didn&#39;t know it was dangerous. Do you have any links about that? I&#39;m not doubting -just curious."}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1574414236, "post_id": 58963744, "comment_id": 104232923, "body": "@BrianJoseph: Read-only access probably won&#39;t do anything too bad, although it&#39;s theoretically unsafe. Anything beyond that can get very nasty very fast, though. <a href=\"https://stackoverflow.com/questions/48717893/modifying-class-dict-when-shadowed-by-a-property/48718098#48718098\">Here&#39;s one example</a>."}], "tags": [], "owner": {"reputation": 1375, "user_id": 9307263, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/defcaa944843f58d4f4befbed4a9c77c?s=128&d=identicon&r=PG&f=1", "display_name": "Brian Joseph", "link": "https://stackoverflow.com/users/9307263/brian-joseph"}, "is_accepted": true, "score": 4, "last_activity_date": 1574313509, "last_edit_date": 1574313509, "creation_date": 1574285736, "answer_id": 58963744, "question_id": 58963507, "link": "https://stackoverflow.com/questions/58963507/where-is-the-class-list-iterator-defined/58963744#58963744", "title": "Where is the class list_iterator defined?", "body": "<p>Does garbage collection's <a href=\"https://docs.python.org/3/library/gc.html#gc.get_referents\" rel=\"nofollow noreferrer\"><code>get_referents</code></a> do it for you?</p>\n\n<pre><code>import gc\n\nl = [1,2,3,4,5]\nit = iter(l)\n\nrefs = gc.get_referents(it)  # looks like: [[1, 2, 3, 4, 5]]\nassert l in refs  # True\nassert l == refs[0]  # True\n</code></pre>\n\n<p>EDIT: It should be noted that the reference to <code>l</code> disappears when <code>it</code> is exhausted and raises <code>StopIteration</code>. So when you finish iterating over <code>it</code>, the reference-check above fails. This can be a feature or a bug depending on your use case but you should be aware of it.</p>\n\n<pre><code># Exhaust the iterator\nfor x in it:\n    pass\n\nrefs = gc.get_referents(it)\nassert l not in refs  # No more reference to l\nassert not refs  # No more reference to anything actually\n</code></pre>\n"}], "owner": {"reputation": 1534, "user_id": 2641719, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh5.googleusercontent.com/-fOFkOdZ8zZg/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfbQ5kljjlVo-ToOWjhkKxVlseO8A/photo.jpg?sz=128", "display_name": "ThunderPhoenix", "link": "https://stackoverflow.com/users/2641719/thunderphoenix"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 370, "favorite_count": 1, "accepted_answer_id": 58963744, "answer_count": 1, "score": 5, "last_activity_date": 1574313509, "creation_date": 1574284598, "last_edit_date": 1574285228, "question_id": 58963507, "link": "https://stackoverflow.com/questions/58963507/where-is-the-class-list-iterator-defined", "title": "Where is the class list_iterator defined?", "body": "<p>I would like to see the definition of the class <code>list_iterator</code>. When I try to display its definition with the function <code>help</code> I get an error. Is there a module that I have to import in order to access to its help?</p>\n\n<p>More precisely, I would to know how to get a reference to the object iterable that the iterator iterates. For example:</p>\n\n<pre><code>l = [1,2,3,4,5]\nit = iter(l)\nprint(type(it))   # this prints: list_iterator\n# how to get a reference to l using it\n</code></pre>\n\n<p>I am pretty sure the object <code>it</code> has a reference to the object <code>l</code>. This example proves it:</p>\n\n<pre><code>import sys\nl = [1,2,3,4]\nprint(sys.getrefcount(l))   # prints 2\nit = iter(l)\nprint(sys.getrefcount(l))   # prints 3 \n</code></pre>\n\n<p>So the third reference surely came from <code>it</code></p>\n"}, {"tags": ["python", "django", "redis", "celery"], "answers": [{"comments": [{"owner": {"reputation": 19, "user_id": 11355343, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0369fe737414c79bda26cb2e4d29af0b?s=128&d=identicon&r=PG&f=1", "display_name": "Max", "link": "https://stackoverflow.com/users/11355343/max"}, "edited": false, "score": 0, "creation_date": 1574343536, "post_id": 58969863, "comment_id": 104205624, "body": "there is not a problem inside the task, I rewrite it many times with refresh, without. The main problem that I cant reach task from the receiver. BTW I already try apply_async instead of delay and it didn&#39;t help me."}, {"owner": {"reputation": 19, "user_id": 11355343, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0369fe737414c79bda26cb2e4d29af0b?s=128&d=identicon&r=PG&f=1", "display_name": "Max", "link": "https://stackoverflow.com/users/11355343/max"}, "edited": false, "score": 0, "creation_date": 1574343808, "post_id": 58969863, "comment_id": 104205811, "body": "ofc I can call this task just like a custom function but like background task I cant"}, {"owner": {"reputation": 852, "user_id": 953000, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de50a81a9cedf20a04787c97c358ce9d?s=128&d=identicon&r=PG", "display_name": "Alex Carlos", "link": "https://stackoverflow.com/users/953000/alex-carlos"}, "reply_to_user": {"reputation": 19, "user_id": 11355343, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0369fe737414c79bda26cb2e4d29af0b?s=128&d=identicon&r=PG&f=1", "display_name": "Max", "link": "https://stackoverflow.com/users/11355343/max"}, "edited": false, "score": 0, "creation_date": 1574441464, "post_id": 58969863, "comment_id": 104247376, "body": "@Max so your issue is that your Celery task is never run?"}, {"owner": {"reputation": 19, "user_id": 11355343, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0369fe737414c79bda26cb2e4d29af0b?s=128&d=identicon&r=PG&f=1", "display_name": "Max", "link": "https://stackoverflow.com/users/11355343/max"}, "edited": false, "score": 0, "creation_date": 1574860843, "post_id": 58969863, "comment_id": 104380196, "body": "Yeeeeeeeeeeeees"}], "tags": [], "owner": {"reputation": 852, "user_id": 953000, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de50a81a9cedf20a04787c97c358ce9d?s=128&d=identicon&r=PG", "display_name": "Alex Carlos", "link": "https://stackoverflow.com/users/953000/alex-carlos"}, "is_accepted": false, "score": 0, "last_activity_date": 1574322912, "creation_date": 1574322912, "answer_id": 58969863, "question_id": 58963476, "link": "https://stackoverflow.com/questions/58963476/how-can-i-change-in-db-values-of-model-object-by-celery-worker-with-redis-in-dja/58969863#58969863", "title": "How can I change in db values of model object by celery worker with redis in Django?", "body": "<p>I think your problem is caused by using <code>refresh_from_db</code> right after you changed to value of <code>today</code> in your task. This will cause any changed values to be overwritten with whatever is saved in the database. In this cause it would never allow the <code>today</code> value to be changed.</p>\n\n<pre><code>        sim.today = sim.today + timedelta(1)\n        time.sleep(5)\n        sim.refresh_from_db() # This will overwrite the `today` value you set in the line above\n        sim.save() # This will just save the old value that was already in the DB\n</code></pre>\n"}], "owner": {"reputation": 19, "user_id": 11355343, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0369fe737414c79bda26cb2e4d29af0b?s=128&d=identicon&r=PG&f=1", "display_name": "Max", "link": "https://stackoverflow.com/users/11355343/max"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 458, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1574322912, "creation_date": 1574284435, "last_edit_date": 1574291781, "question_id": 58963476, "link": "https://stackoverflow.com/questions/58963476/how-can-i-change-in-db-values-of-model-object-by-celery-worker-with-redis-in-dja", "title": "How can I change in db values of model object by celery worker with redis in Django?", "body": "<p>I want to create an app with workers which in the background changes the value of Simulation model. Firstly user clicks to start simulation, wait some time, click to end simulation, and then on the page shows a value difference (from the start to the end of simulation) which was changed by the background worker. The main problem that I just can't reach the worker's task. I can reach @receiver after Simulation model saved and correctly check model`s values but I cant change model values in db by workers.</p>\n\n<p>The project called app, application - myapp.</p>\n\n<p>app/myapp/models.py</p>\n\n<pre><code>from django.db import models\n\nclass Simulation(models.Model):\n        # changed every simul day\n        created_date = models.DateField(auto_now_add=True)\n        today = models.DateField(auto_now=False, auto_now_add=False)\n        status = models.BooleanField(default=False)\n        daemon_active = models.BooleanField(default=False)\n        info = models.TextField()\n\n        def get_simulation_day(self):\n            \"\"\"days passed after simulation firstly start\"\"\"\n            # sim = Simulation.objects.all().last()\n            return (self.today - self.created_date).days\n</code></pre>\n\n<p>app/myapp/views.py</p>\n\n<pre><code>def simulate(request, action):\n    sim = get_simulation()\n    if action == \"disable\" and sim.status == True:\n        sim.status = False\n        sim.save()\n    elif action == \"enable\" and sim.status == False:\n        print('view simulate ok')\n        sim.status = True\n        sim.save()\n        print('view simulate ok after save')\n    context = {\n            \"simulations_exists\": True,\n            \"days_passed\": sim.get_simulation_day(),\n            \"simulation_today_str\": (sim.today).strftime(\"%d %B, %Y\"),\n            \"simulation_status\": sim.status\n    }\n    return render(request, \"simulation_page.html\", context=context)\n</code></pre>\n\n<p>app/myapp/tasks.py</p>\n\n<pre><code>import logging\n\nfrom django.urls import reverse\nfrom django.core.mail import send_mail\nfrom django.contrib.auth import get_user_model\nfrom app.celery import app\n\nfrom django.db.models.signals import post_save, pre_save\nfrom django.dispatch import receiver\n\nfrom .models import Simulation\n# import myapp.models\n\n@app.task\ndef simulate_days(sim_id):\n    sim = Simulation.objects.get(id=sim_id)\n    print('\\n\\nstart in simulate_days\\n\\n')\n    it = 0\n    while sim.status == True:\n        it += 1\n        print(f'\\n\\n {it} iter in simulate_days\\n\\n')\n        sim.daemon_active = True\n        sim.today = sim.today + timedelta(1)\n        time.sleep(5)\n        sim.refresh_from_db() \n        sim.save()\n        sim.refresh_from_db() \n    print('\\n\\nend in simulate_days\\n\\n')\n    sim.daemon_active = False\n    sim.save()\n\n@receiver(post_save, sender=Simulation)\ndef simulation_daemon(sender, instance, created, **kwargs):\n    if instance.status == True and instance.daemon_active == False:\n        print('start simulation_daemon')\n        simulate_days.delay(instance.id)\n        print('end simulation_daemon')\n</code></pre>\n\n<p>in app/settings.py I use postgres and add redis settings</p>\n\n<pre><code># REDIS related settings \nREDIS_HOST = 'localhost'\nREDIS_PORT = '6379'\nBROKER_URL = 'redis://' + REDIS_HOST + ':' + REDIS_PORT + '/0'\nBROKER_TRANSPORT_OPTIONS = {'visibility_timeout': 3600} \nCELERY_RESULT_BACKEND = 'redis://' + REDIS_HOST + ':' + REDIS_PORT + '/0' \n</code></pre>\n\n<p>in app/celery.py</p>\n\n<pre><code>import os\nfrom celery import Celery\n\n\nos.environ.setdefault('DJANGO_SETTINGS_MODULE', 'app.settings')\n\napp = Celery('app')\napp.config_from_object('django.conf:settings')\n\n# Load task modules from all registered Django app configs.\napp.autodiscover_tasks()\n</code></pre>\n\n<p>Before start server I firstly setup redis and then celery and it works as it expected. For redis I type in console:</p>\n\n<pre><code>redis-server\n</code></pre>\n\n<p>and i get:</p>\n\n<pre><code>[14604] 20 Nov 23:12:55 - DB 0: 4 keys (1 volatile) in 8 slots HT.\n[14604] 20 Nov 23:12:55 - 11 clients connected (0 slaves), 1280840 bytes in use\n</code></pre>\n\n<p>for celery:</p>\n\n<pre><code>celery worker -A app --loglevel=debug --concurrency=4\n</code></pre>\n\n<p>in output i get</p>\n\n<pre><code>[2019-11-20 23:12:03,182: DEBUG/MainProcess] Timer wake-up! Next ETA 1.0 secs.\n[2019-11-20 23:12:04,184: DEBUG/MainProcess] Timer wake-up! Next ETA 1.0 secs\n</code></pre>\n"}, {"tags": ["python", "arrays", "numpy", "geospatial"], "comments": [{"owner": {"reputation": 6738, "user_id": 906693, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ba54c2f46f424128b4ba467eb8d0e138?s=128&d=identicon&r=PG", "display_name": "roadrunner66", "link": "https://stackoverflow.com/users/906693/roadrunner66"}, "edited": false, "score": 0, "creation_date": 1574293613, "post_id": 58963473, "comment_id": 104185313, "body": "Please add a few lines with the desired shape for the data you already provided."}, {"owner": {"reputation": 171, "user_id": 1790228, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l01ra.jpg?s=128&g=1", "display_name": "Jamie", "link": "https://stackoverflow.com/users/1790228/jamie"}, "reply_to_user": {"reputation": 6738, "user_id": 906693, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ba54c2f46f424128b4ba467eb8d0e138?s=128&d=identicon&r=PG", "display_name": "roadrunner66", "link": "https://stackoverflow.com/users/906693/roadrunner66"}, "edited": false, "score": 0, "creation_date": 1574364194, "post_id": 58963473, "comment_id": 104217238, "body": "@roadrunner66 I&#39;ve updated the question with more details.."}], "answers": [{"tags": [], "owner": {"reputation": 6738, "user_id": 906693, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ba54c2f46f424128b4ba467eb8d0e138?s=128&d=identicon&r=PG", "display_name": "roadrunner66", "link": "https://stackoverflow.com/users/906693/roadrunner66"}, "is_accepted": false, "score": 0, "last_activity_date": 1574370043, "creation_date": 1574370043, "answer_id": 58983671, "question_id": 58963473, "link": "https://stackoverflow.com/questions/58963473/sample-2d-positions-into-an-gridded-array-in-numpy/58983671#58983671", "title": "sample 2D positions into an gridded array in numpy", "body": "<p>Just play with the axes of the <code>transpose</code> and <code>flip</code> commands.    </p>\n\n<pre><code>import numpy as np\n\na=np.array([[[9,8],[9,7],[9,6],[9,5]],\n            [[8,8],[8,7],[8,6],[8,5]],\n            [[7,8],[7,7],[7,6],[7,5]]])\n\nb=np.transpose(a,axes=[1,0,2])\nc=np.flip(b,axis=1)\nd=np.flip(c,axis=0)\n\nprint(a)\n\nprint('******')\nprint(b)\nprint('*****')\nprint(c)\nprint('*****')\nprint(d)\n</code></pre>\n\n<p>output: </p>\n\n<pre><code>[[[9 8]\n  [9 7]\n  [9 6]\n  [9 5]]\n\n [[8 8]\n  [8 7]\n  [8 6]\n  [8 5]]\n\n [[7 8]\n  [7 7]\n  [7 6]\n  [7 5]]]\n******\n[[[9 8]\n  [8 8]\n  [7 8]]\n\n [[9 7]\n  [8 7]\n  [7 7]]\n\n [[9 6]\n  [8 6]\n  [7 6]]\n\n [[9 5]\n  [8 5]\n  [7 5]]]\n*****\n[[[7 8]\n  [8 8]\n  [9 8]]\n\n [[7 7]\n  [8 7]\n  [9 7]]\n\n [[7 6]\n  [8 6]\n  [9 6]]\n\n [[7 5]\n  [8 5]\n  [9 5]]]\n*****\n[[[7 5]\n  [8 5]\n  [9 5]]\n\n [[7 6]\n  [8 6]\n  [9 6]]\n\n [[7 7]\n  [8 7]\n  [9 7]]\n\n [[7 8]\n  [8 8]\n  [9 8]]]\n</code></pre>\n"}], "owner": {"reputation": 171, "user_id": 1790228, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l01ra.jpg?s=128&g=1", "display_name": "Jamie", "link": "https://stackoverflow.com/users/1790228/jamie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 75, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1574370043, "creation_date": 1574284415, "last_edit_date": 1574364163, "question_id": 58963473, "link": "https://stackoverflow.com/questions/58963473/sample-2d-positions-into-an-gridded-array-in-numpy", "title": "sample 2D positions into an gridded array in numpy", "body": "<p>I'm looking for an approach to parse xy positional information (mesh centers) into a numpy array to extract the column row information for each xy position.  z is object name (or could be a reference to FbxMesh)</p>\n\n<pre><code>[\n    [1782.6000366210938, 336.4900026321411, u'5_07_05'],\n    [2397.0, -1506.7100219726562, u'5_08_08'],\n    [3011.4000244140625, -277.9100217819214, u'5_09_06'],\n    [3011.4000244140625, 336.4900026321411, u'5_09_05'], \n    [2397.0, -277.9099597930908, u'5_08_06'],\n    [2397.0, 336.4900026321411, u'5_08_05'],\n    [1782.6000366210938, -1506.7100219726562, u'5_07_08'], \n    [2397.0, -892.3099975585938, u'5_08_07'], \n    [1782.6000366210938, -892.3099975585938, u'5_07_07'],\n    [3011.4000244140625, -1506.7100219726562, u'5_09_08'],\n    [1782.6000366210938, -277.90999126434326, u'5_07_06'], \n    [3011.4000244140625, -892.3099975585938, u'5_09_07']\n]\n</code></pre>\n\n<p>The idea would be to reshape the array above into a correctly shaped array from the lowest value on the bottom left to the highest on the top right..  then sample the column and row index of each item [0,0] [0,1] etc..  and then export the mesh with an appropriate name..   cheers</p>\n\n<p><strong>Update:</strong></p>\n\n<p>I can sort that above list <code>sorted_array = sorted(unsorted_array,key=lambda x: (x[0],x[1]))</code></p>\n\n<pre><code>[1782.6000366210938, -1506.7100219726562, u'5_07_08']\n[1782.6000366210938, -892.3099975585938, u'5_07_07']\n[1782.6000366210938, -277.90999126434326, u'5_07_06']\n[1782.6000366210938, 336.4900026321411, u'5_07_05']\n[2397.0, -1506.7100219726562, u'5_08_08']\n[2397.0, -892.3099975585938, u'5_08_07']\n[2397.0, -277.9099597930908, u'5_08_06']\n[2397.0, 336.4900026321411, u'5_08_05']\n[3011.4000244140625, -1506.7100219726562, u'5_09_08']\n[3011.4000244140625, -892.3099975585938, u'5_09_07']\n[3011.4000244140625, -277.9100217819214, u'5_09_06']\n[3011.4000244140625, 336.4900026321411, u'5_09_05']\n</code></pre>\n\n<p>format <code>[X, Y, 'name']</code></p>\n\n<p>I'd like to arrange this into a <strong>grid</strong> and then <strong>transpose</strong>, for example</p>\n\n<p><a href=\"https://i.stack.imgur.com/bvtLp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bvtLp.png\" alt=\"grid and transpose?\"></a></p>\n\n<p>After this the idea is to read out each grid cells index and the name in the array  e.g. tile_X0_Y0  etc..  </p>\n"}, {"tags": ["python", "pandas", "cosine-similarity"], "answers": [{"tags": [], "owner": {"reputation": 86789, "user_id": 1422451, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/sFFvX.jpg?s=128&g=1", "display_name": "Parfait", "link": "https://stackoverflow.com/users/1422451/parfait"}, "is_accepted": false, "score": 0, "last_activity_date": 1574289575, "creation_date": 1574289575, "answer_id": 58964508, "question_id": 58963459, "link": "https://stackoverflow.com/questions/58963459/create-a-dataframe-of-top-10-recommendatons-for-each-content/58964508#58964508", "title": "Create a dataframe of top 10 recommendatons for each content", "body": "<p>Consider saving the input title and its recommendations in a data frame and then run <code>pivot_table</code> as needed with ranks for values. However, first adjust function to return a dictionary and run it with a list comprehension passing result into the <code>DataFrame</code> constructor:</p>\n\n<pre><code>indices = pd.Series(df.index)\n\ndef recommendations(title, cosine_sim = cosine_sim):    \n    ...\n\n    df_dict = {'title' = [title] * 10, \n               'recommended' = recommended_movies,\n               'rank' = list(range(1, 11))}\n\n    return  df_dict\n\n\n# BUILD DATA FRAME FROM LIST OF DICTS\ndf = pd.DataFrame([recommendations(t) for t in indices.to_list()])\n\n# PIVOT FOR TITLE X OTHERS VIEW \npd.pivot_table(df, index = 'title',  columns = 'recommended',\n               values = 'rank', aggunc = 'max')\n</code></pre>\n"}], "owner": {"reputation": 5, "user_id": 4538675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bada81def99bb34b57cef03b7d0d03aa?s=128&d=identicon&r=PG&f=1", "display_name": "smo", "link": "https://stackoverflow.com/users/4538675/smo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 78, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1574495134, "creation_date": 1574284364, "last_edit_date": 1574495134, "question_id": 58963459, "link": "https://stackoverflow.com/questions/58963459/create-a-dataframe-of-top-10-recommendatons-for-each-content", "title": "Create a dataframe of top 10 recommendatons for each content", "body": "<p>I am following a content base recommender system from here <a href=\"https://towardsdatascience.com/how-to-build-from-scratch-a-content-based-movie-recommender-with-natural-language-processing-25ad400eb243\" rel=\"nofollow noreferrer\">https://towardsdatascience.com/how-to-build-from-scratch-a-content-based-movie-recommender-with-natural-language-processing-25ad400eb243</a> . </p>\n\n<p>After calculating the cosine similarity matrix, a function is created to recommend the top 10 similar content to the content we put in.</p>\n\n<pre><code># creating a Series for the movie titles so they are associated to an ordered numerical\n# list I will use in the function to match the indexes\n\nindices = pd.Series(df.index)\n\n#  defining the function that takes in movie title \n# as input and returns the top 10 recommended movies\n\ndef recommendations(title, cosine_sim = cosine_sim):\n\n    # initializing the empty list of recommended movies\n    recommended_movies = []\n\n    # gettin the index of the movie that matches the title\n    idx = indices[indices == title].index[0]\n\n    # creating a Series with the similarity scores in descending order\n    score_series = pd.Series(cosine_sim[idx]).sort_values(ascending = False)\n\n    # getting the indexes of the 10 most similar movies\n    top_10_indexes = list(score_series.iloc[1:11].index)\n\n    # populating the list with the titles of the best 10 matching movies\n    for i in top_10_indexes:\n        recommended_movies.append(list(df.index)[i])\n\n    return recommended_movies\n\n</code></pre>\n\n<p>The above gives me the top 10 contents for each content I enter.  I would like to create a dataframe where column 1 would be all the contents, and columns 2-10, would be the top similar movies.  So each row would be the original content and the top 10 similar movies excluding itself.  I am new to python and any help is appreciated.</p>\n"}, {"tags": ["python", "pandas", "export-to-csv"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1574284449, "post_id": 58963453, "comment_id": 104182020, "body": "You&#39;re overwriting the CSV file each time through the loop."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1574284481, "post_id": 58963453, "comment_id": 104182037, "body": "You should combine all the data into a single dataframe, then write it to the CSV once at the end."}, {"owner": {"reputation": 22382, "user_id": 5025009, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7KIA9.png?s=128&g=1", "display_name": "seralouk", "link": "https://stackoverflow.com/users/5025009/seralouk"}, "edited": false, "score": 0, "creation_date": 1574285053, "post_id": 58963453, "comment_id": 104182269, "body": "post the data please. <code>data.to_csv(&#39;df111111.csv&#39;)</code> overwrites in each iteration the <code>data</code> object"}, {"owner": {"reputation": 31, "user_id": 12406558, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3cef6cd15278b5783e9cac7bd1f046c6?s=128&d=identicon&r=PG&f=1", "display_name": "sree", "link": "https://stackoverflow.com/users/12406558/sree"}, "edited": false, "score": 0, "creation_date": 1576012409, "post_id": 58963453, "comment_id": 104757888, "body": "can i write to a different sheet in a same csv using to_csv@Barmar"}], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 12406558, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3cef6cd15278b5783e9cac7bd1f046c6?s=128&d=identicon&r=PG&f=1", "display_name": "sree", "link": "https://stackoverflow.com/users/12406558/sree"}, "edited": false, "score": 0, "creation_date": 1574284986, "post_id": 58963527, "comment_id": 104182250, "body": "I would like to Thankyou for the quick response but making the changes is creating a blank df111111.csv"}, {"owner": {"reputation": 85, "user_id": 11968163, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aECbK.jpg?s=128&g=1", "display_name": "Moo10000", "link": "https://stackoverflow.com/users/11968163/moo10000"}, "reply_to_user": {"reputation": 31, "user_id": 12406558, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3cef6cd15278b5783e9cac7bd1f046c6?s=128&d=identicon&r=PG&f=1", "display_name": "sree", "link": "https://stackoverflow.com/users/12406558/sree"}, "edited": false, "score": 0, "creation_date": 1574285307, "post_id": 58963527, "comment_id": 104182360, "body": "I think my mistake was with the second to last line, made a small change, basically I appended to the data variable but without data = data.append(...) nothing was being returned"}, {"owner": {"reputation": 31, "user_id": 12406558, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3cef6cd15278b5783e9cac7bd1f046c6?s=128&d=identicon&r=PG&f=1", "display_name": "sree", "link": "https://stackoverflow.com/users/12406558/sree"}, "edited": false, "score": 0, "creation_date": 1574285660, "post_id": 58963527, "comment_id": 104182497, "body": "Worked perfectly. Thankyou Barmar"}, {"owner": {"reputation": 85, "user_id": 11968163, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aECbK.jpg?s=128&g=1", "display_name": "Moo10000", "link": "https://stackoverflow.com/users/11968163/moo10000"}, "reply_to_user": {"reputation": 31, "user_id": 12406558, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3cef6cd15278b5783e9cac7bd1f046c6?s=128&d=identicon&r=PG&f=1", "display_name": "sree", "link": "https://stackoverflow.com/users/12406558/sree"}, "edited": false, "score": 0, "creation_date": 1574288546, "post_id": 58963527, "comment_id": 104183649, "body": "see poojans comment below as to why his  method is better"}], "tags": [], "owner": {"reputation": 85, "user_id": 11968163, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aECbK.jpg?s=128&g=1", "display_name": "Moo10000", "link": "https://stackoverflow.com/users/11968163/moo10000"}, "is_accepted": false, "score": 1, "last_activity_date": 1574285276, "last_edit_date": 1574285276, "creation_date": 1574284681, "answer_id": 58963527, "question_id": 58963453, "link": "https://stackoverflow.com/questions/58963453/using-pandas-to-csv-to-write-the-result-to-a-csv/58963527#58963527", "title": "using pandas to_csv to write the result to a csv", "body": "<p>Your code makes a new 'data' variable for every iteration of the for loop. My attempt is making a blank data variable before starting the loop. Add a new piece to the dataframe each loop, and once you're out of the loop you save it to csv</p>\n\n<pre><code>data = pd.DataFrame()\nlist1 = df['EC2NAMES']\nprint(list1)\nclient = boto3.client('ec2')\nfor names in list1:\n    custom_filter = [{\n        'Name':'tag:Name', \n        'Values': [names]}]\n    print(names)\n    instances = client.describe_instances(Filters=custom_filter)\n    for instance in instances['Reservations']:\n        for key in instance[\"Instances\"]:\n            x = key['InstanceId']\n            print(x)\n            data = data.append(pd.DataFrame({'A' : [names],'B' : [x]}))\ndata.to_csv('df111111.csv')\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 31, "user_id": 12406558, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3cef6cd15278b5783e9cac7bd1f046c6?s=128&d=identicon&r=PG&f=1", "display_name": "sree", "link": "https://stackoverflow.com/users/12406558/sree"}, "edited": false, "score": 0, "creation_date": 1574285743, "post_id": 58963549, "comment_id": 104182544, "body": "Thankyou poojan for the response but the solution is printing out the same response as before.follwed inputs from Barmar and it worked."}, {"owner": {"reputation": 2967, "user_id": 4828815, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/--CqgH2V98Jg/AAAAAAAAAAI/AAAAAAAAABY/lilOgpMEIEs/photo.jpg?sz=128", "display_name": "Poojan", "link": "https://stackoverflow.com/users/4828815/poojan"}, "reply_to_user": {"reputation": 31, "user_id": 12406558, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3cef6cd15278b5783e9cac7bd1f046c6?s=128&d=identicon&r=PG&f=1", "display_name": "sree", "link": "https://stackoverflow.com/users/12406558/sree"}, "edited": false, "score": 0, "creation_date": 1574285803, "post_id": 58963549, "comment_id": 104182568, "body": "@sree there was a small bug in code. Fixed it you can run the solution now."}, {"owner": {"reputation": 85, "user_id": 11968163, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aECbK.jpg?s=128&g=1", "display_name": "Moo10000", "link": "https://stackoverflow.com/users/11968163/moo10000"}, "edited": false, "score": 0, "creation_date": 1574286161, "post_id": 58963549, "comment_id": 104182710, "body": "Is this because storing data as a list is less intensive than using pandas append? @Poojan"}, {"owner": {"reputation": 2967, "user_id": 4828815, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/--CqgH2V98Jg/AAAAAAAAAAI/AAAAAAAAABY/lilOgpMEIEs/photo.jpg?sz=128", "display_name": "Poojan", "link": "https://stackoverflow.com/users/4828815/poojan"}, "edited": false, "score": 1, "creation_date": 1574286324, "post_id": 58963549, "comment_id": 104182772, "body": "Yes append method on pandas data frame is definatly a lot expensive than just appending data to list."}, {"owner": {"reputation": 85, "user_id": 11968163, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aECbK.jpg?s=128&g=1", "display_name": "Moo10000", "link": "https://stackoverflow.com/users/11968163/moo10000"}, "edited": false, "score": 0, "creation_date": 1574288467, "post_id": 58963549, "comment_id": 104183621, "body": "@Poojan This is good to know, some of files are rather large, this may help"}, {"owner": {"reputation": 31, "user_id": 12406558, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3cef6cd15278b5783e9cac7bd1f046c6?s=128&d=identicon&r=PG&f=1", "display_name": "sree", "link": "https://stackoverflow.com/users/12406558/sree"}, "edited": false, "score": 0, "creation_date": 1576011849, "post_id": 58963549, "comment_id": 104757687, "body": "can i write to a different sheet in a same csv using to_csv@Poojan"}], "tags": [], "owner": {"reputation": 2967, "user_id": 4828815, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/--CqgH2V98Jg/AAAAAAAAAAI/AAAAAAAAABY/lilOgpMEIEs/photo.jpg?sz=128", "display_name": "Poojan", "link": "https://stackoverflow.com/users/4828815/poojan"}, "is_accepted": true, "score": 2, "last_activity_date": 1574285785, "last_edit_date": 1574285785, "creation_date": 1574284786, "answer_id": 58963549, "question_id": 58963453, "link": "https://stackoverflow.com/questions/58963453/using-pandas-to-csv-to-write-the-result-to-a-csv/58963549#58963549", "title": "using pandas to_csv to write the result to a csv", "body": "<p>You can use pandas <code>concat</code> or <code>append</code> but best way is to store the data into list and in the end make a dataframe of that and save it as csv.</p>\n\n<pre><code>import pandas as pd\nfrom pandas import ExcelWriter\nfrom pandas import ExcelFile\nimport numpy as np\nimport os\nimport boto3\nclient = boto3.client('ec2')\nTHIS_FOLDER = os.path.dirname(os.path.abspath(__file__))\nmy_file = os.path.join(THIS_FOLDER, 'example.xlsx')\n\ndf = pd.read_excel(my_file, sheet_name='Sheet2')\n\nlist1 = df['EC2NAMES']\nprint(list1)\nclient = boto3.client('ec2')\ndata = []\nfor names in list1:\n    custom_filter = [{\n        'Name':'tag:Name', \n        'Values': [names]}]\n    print(names)\n    instances = client.describe_instances(Filters=custom_filter)\n    for instance in instances['Reservations']:\n        for key in instance[\"Instances\"]:\n            x = key['InstanceId']\n            print(x)\n            data.append([names, x])\npd.DataFrame(data, colums=['A','B']).to_csv('df111111.csv')\n\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 12406558, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3cef6cd15278b5783e9cac7bd1f046c6?s=128&d=identicon&r=PG&f=1", "display_name": "sree", "link": "https://stackoverflow.com/users/12406558/sree"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 0, "accepted_answer_id": 58963549, "answer_count": 2, "score": 2, "last_activity_date": 1574285785, "creation_date": 1574284344, "last_edit_date": 1574284418, "question_id": 58963453, "link": "https://stackoverflow.com/questions/58963453/using-pandas-to-csv-to-write-the-result-to-a-csv", "title": "using pandas to_csv to write the result to a csv", "body": "<p>Below is my code which gets the instance name from excel sheet and searches for the instance name in aws account and gets the instance id. So that process is working fine. now i wanted to write the data to csv say like in a csv there has to be two columns with names like instancename and instanceId and the data should be printed in respective columns. please help me in getting the desired output. the csv is overlapped with the data and once opening the csv i can just see the last values in it because my script overrides the previous results. </p>\n\n<pre><code>import pandas as pd\nfrom pandas import ExcelWriter\nfrom pandas import ExcelFile\nimport numpy as np\nimport os\nimport boto3\nclient = boto3.client('ec2')\nTHIS_FOLDER = os.path.dirname(os.path.abspath(__file__))\nmy_file = os.path.join(THIS_FOLDER, 'example.xlsx')\n\ndf = pd.read_excel(my_file, sheet_name='Sheet2')\n\nlist1 = df['EC2NAMES']\nprint(list1)\nclient = boto3.client('ec2')\nfor names in list1:\n    custom_filter = [{\n        'Name':'tag:Name', \n        'Values': [names]}]\n    print(names)\n    instances = client.describe_instances(Filters=custom_filter)\n    for instance in instances['Reservations']:\n        for key in instance[\"Instances\"]:\n            x = key['InstanceId']\n            print(x)\n            data = pd.DataFrame({'A' : [names],'B' : [x]})\n            data.to_csv('df111111.csv')\n</code></pre>\n\n<p>Expected output:</p>\n\n<pre><code>Instancename  InstanceID\ntestinstance  123456\ntestinstance1 12345656312\ntestinstance2 12345657237\n</code></pre>\n\n<p>Actual output:</p>\n\n<pre><code>Instancename  InstanceID\ntestinstance2 12345657237\n</code></pre>\n"}, {"tags": ["python", "pandas", "canoe"], "comments": [{"owner": {"reputation": 12243, "user_id": 2192494, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ddd4f75b6e9293967ba3c81f89edd68a?s=128&d=identicon&r=PG", "display_name": "Lee Daniel Crocker", "link": "https://stackoverflow.com/users/2192494/lee-daniel-crocker"}, "edited": false, "score": 0, "creation_date": 1574284465, "post_id": 58963451, "comment_id": 104182028, "body": "What does the function DataFrame() do? If it can be re-written to take an iterator, that would eliminate the conversion."}, {"owner": {"reputation": 91, "user_id": 10886529, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20bb50a737d4d25dbdde8ea1005c05c0?s=128&d=identicon&r=PG&f=1", "display_name": "AJHello", "link": "https://stackoverflow.com/users/10886529/ajhello"}, "reply_to_user": {"reputation": 12243, "user_id": 2192494, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ddd4f75b6e9293967ba3c81f89edd68a?s=128&d=identicon&r=PG", "display_name": "Lee Daniel Crocker", "link": "https://stackoverflow.com/users/2192494/lee-daniel-crocker"}, "edited": false, "score": 0, "creation_date": 1574284684, "post_id": 58963451, "comment_id": 104182128, "body": "@LeeDanielCrocker pd.DataFrame converts the list of dictionaries to a dataframe. <a href=\"https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html\" rel=\"nofollow noreferrer\">pandas.pydata.org/pandas-docs/stable/reference/api/&hellip;</a>"}, {"owner": {"reputation": 2264, "user_id": 8281848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50b1be55f7c1e55b56e28fb2c34f8825?s=128&d=identicon&r=PG&f=1", "display_name": "M. Spiller", "link": "https://stackoverflow.com/users/8281848/m-spiller"}, "edited": false, "score": 0, "creation_date": 1574332617, "post_id": 58963451, "comment_id": 104199282, "body": "About which line are you talking? Is it line 2 in your example code, that is taking so long? Why is this line there at all?"}, {"owner": {"reputation": 91, "user_id": 10886529, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20bb50a737d4d25dbdde8ea1005c05c0?s=128&d=identicon&r=PG&f=1", "display_name": "AJHello", "link": "https://stackoverflow.com/users/10886529/ajhello"}, "reply_to_user": {"reputation": 2264, "user_id": 8281848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50b1be55f7c1e55b56e28fb2c34f8825?s=128&d=identicon&r=PG&f=1", "display_name": "M. Spiller", "link": "https://stackoverflow.com/users/8281848/m-spiller"}, "edited": false, "score": 0, "creation_date": 1574344790, "post_id": 58963451, "comment_id": 104206419, "body": "@M.Spiller Yes line two is what is taking so long. I am doing that line so that I can convert the iterator to a list so that I can create a list of dictionaries to transform into a dataframe table."}, {"owner": {"reputation": 2264, "user_id": 8281848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50b1be55f7c1e55b56e28fb2c34f8825?s=128&d=identicon&r=PG&f=1", "display_name": "M. Spiller", "link": "https://stackoverflow.com/users/8281848/m-spiller"}, "edited": false, "score": 0, "creation_date": 1574344869, "post_id": 58963451, "comment_id": 104206458, "body": "But in line 3 you are simply iterating over the list. Why don&#39;t you just iterate over the iterator returned from line 1?"}, {"owner": {"reputation": 91, "user_id": 10886529, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20bb50a737d4d25dbdde8ea1005c05c0?s=128&d=identicon&r=PG&f=1", "display_name": "AJHello", "link": "https://stackoverflow.com/users/10886529/ajhello"}, "reply_to_user": {"reputation": 2264, "user_id": 8281848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50b1be55f7c1e55b56e28fb2c34f8825?s=128&d=identicon&r=PG&f=1", "display_name": "M. Spiller", "link": "https://stackoverflow.com/users/8281848/m-spiller"}, "edited": false, "score": 0, "creation_date": 1574346821, "post_id": 58963451, "comment_id": 104207785, "body": "@M.Spiller how would you do that? How would you go from an iterator to a list of dictionaries?"}, {"owner": {"reputation": 2264, "user_id": 8281848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50b1be55f7c1e55b56e28fb2c34f8825?s=128&d=identicon&r=PG&f=1", "display_name": "M. Spiller", "link": "https://stackoverflow.com/users/8281848/m-spiller"}, "edited": false, "score": 0, "creation_date": 1574347103, "post_id": 58963451, "comment_id": 104207967, "body": "@AJHello just drop line 2"}, {"owner": {"reputation": 91, "user_id": 10886529, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20bb50a737d4d25dbdde8ea1005c05c0?s=128&d=identicon&r=PG&f=1", "display_name": "AJHello", "link": "https://stackoverflow.com/users/10886529/ajhello"}, "reply_to_user": {"reputation": 2264, "user_id": 8281848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50b1be55f7c1e55b56e28fb2c34f8825?s=128&d=identicon&r=PG&f=1", "display_name": "M. Spiller", "link": "https://stackoverflow.com/users/8281848/m-spiller"}, "edited": false, "score": 0, "creation_date": 1574348538, "post_id": 58963451, "comment_id": 104208890, "body": "@M.Spiller ah I understand. Yeah that sped up the script slightly(by about 1 minute). Perhaps that&#39;s as fast as it&#39;s going to get however."}, {"owner": {"reputation": 2264, "user_id": 8281848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50b1be55f7c1e55b56e28fb2c34f8825?s=128&d=identicon&r=PG&f=1", "display_name": "M. Spiller", "link": "https://stackoverflow.com/users/8281848/m-spiller"}, "edited": false, "score": 0, "creation_date": 1574350268, "post_id": 58963451, "comment_id": 104209938, "body": "@AJHello How do you want your dataframe to look like? Use the timestamp as an index and the 8 data bytes as columns?"}, {"owner": {"reputation": 91, "user_id": 10886529, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20bb50a737d4d25dbdde8ea1005c05c0?s=128&d=identicon&r=PG&f=1", "display_name": "AJHello", "link": "https://stackoverflow.com/users/10886529/ajhello"}, "edited": false, "score": 0, "creation_date": 1574350951, "post_id": 58963451, "comment_id": 104210336, "body": "I&#39;m okay with the timestamp and data as two separate columns. m.data returns a bytearray and having a bytearray column is fine with me."}, {"owner": {"reputation": 2264, "user_id": 8281848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50b1be55f7c1e55b56e28fb2c34f8825?s=128&d=identicon&r=PG&f=1", "display_name": "M. Spiller", "link": "https://stackoverflow.com/users/8281848/m-spiller"}, "edited": false, "score": 0, "creation_date": 1574351474, "post_id": 58963451, "comment_id": 104210672, "body": "Have added a suggestion as answer."}], "answers": [{"comments": [{"owner": {"reputation": 91, "user_id": 10886529, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20bb50a737d4d25dbdde8ea1005c05c0?s=128&d=identicon&r=PG&f=1", "display_name": "AJHello", "link": "https://stackoverflow.com/users/10886529/ajhello"}, "edited": false, "score": 0, "creation_date": 1574376009, "post_id": 58978822, "comment_id": 104222154, "body": "Thanks for your help! I think this is the fastest we can get it to."}], "tags": [], "owner": {"reputation": 2264, "user_id": 8281848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50b1be55f7c1e55b56e28fb2c34f8825?s=128&d=identicon&r=PG&f=1", "display_name": "M. Spiller", "link": "https://stackoverflow.com/users/8281848/m-spiller"}, "is_accepted": true, "score": 1, "last_activity_date": 1574351458, "creation_date": 1574351458, "answer_id": 58978822, "question_id": 58963451, "link": "https://stackoverflow.com/questions/58963451/what-is-the-fastest-way-to-process-large-asc-files/58978822#58978822", "title": "What is the fastest way to process large .asc files?", "body": "<p>The most time-consuming part is most likely reading from disk. This cannot be avoided.</p>\n\n<p>However you can make sure that you do not put unnecessary data into memory or copy it around.</p>\n\n<p>Try the following:</p>\n\n<pre><code>import operator\nlog=can.ASCReader(filePath)\npd.DataFrame(data=map(operator.attrgetter('timestamp', 'data'), log))\n</code></pre>\n\n<p><code>ASCReader</code> will return an iterator, i.e. not reading data until you use <code>log</code>.</p>\n\n<p>As you are only interested in the values behind <code>timestamp</code> and <code>data</code>, we declare and <em>attrgetter</em> for these two attributes. That is a function that takes an object and will return just the two given attributes of that object.</p>\n\n<p>For applying this attrgetter to the log we will use <code>map</code>. <code>map</code> will apply the attrgetter to each element of <code>log</code>. <code>map</code> also returns an iterator, i.e. it will not read and store any data until used.</p>\n\n<p>Finally we give the map into pandas as the source of data for constructing a <code>DataFrame</code>.</p>\n\n<p>Doing it like this should be the approach with the least amount of copying data around or handling unnecessary data. YMMV</p>\n"}], "owner": {"reputation": 91, "user_id": 10886529, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20bb50a737d4d25dbdde8ea1005c05c0?s=128&d=identicon&r=PG&f=1", "display_name": "AJHello", "link": "https://stackoverflow.com/users/10886529/ajhello"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 540, "favorite_count": 0, "accepted_answer_id": 58978822, "answer_count": 1, "score": 0, "last_activity_date": 1574351458, "creation_date": 1574284330, "question_id": 58963451, "link": "https://stackoverflow.com/questions/58963451/what-is-the-fastest-way-to-process-large-asc-files", "title": "What is the fastest way to process large .asc files?", "body": "<p>I currently have .asc log files that have been generated from CANoe. I am using python to analyze these files. These files are pretty big(anywhere from .5GB-2GB). To read/analyze the data I am converting the data to a dataframe and I am using the following lines of code to do this:</p>\n\n<pre><code>    log=can.ASCReader(filePath)\n    log=[*log]\n    df_data = [{'timestamp':m.timestamp, 'data':m.data} for m in log]\n    df = pd.DataFrame(df_data)\n</code></pre>\n\n<p>Through my analysis, the part that is taking the longest is converting the iterator to a list. I am wondering if there is a more efficient way of doing that. I am also open to doing the entire process a whole new way if it is faster. Currently a .6gb .asc file is taking about 19 minutes to run. Any help/suggestiosn would be appreciated!</p>\n"}, {"tags": ["python", "python-3.x", "shell", "aws-sdk", "boto3"], "answers": [{"comments": [{"owner": {"reputation": 37, "user_id": 2136881, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fff945b85c82e94edcd436ad5864938?s=128&d=identicon&r=PG", "display_name": "user2136881", "link": "https://stackoverflow.com/users/2136881/user2136881"}, "edited": false, "score": 0, "creation_date": 1574295776, "post_id": 58963869, "comment_id": 104185799, "body": "Thanks @Branson, but it seems that it&#39;s going to check whether &#39;browser&#39; Arns is available inside the list_of_services. If yes, then it will print all the Arns. I want to print only &#39;browser&#39; Arns  .. Thanks in advance !"}], "tags": [], "owner": {"reputation": 178, "user_id": 11329158, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AH8rT.jpg?s=128&g=1", "display_name": "Branson Smith", "link": "https://stackoverflow.com/users/11329158/branson-smith"}, "is_accepted": false, "score": 0, "last_activity_date": 1574286375, "creation_date": 1574286375, "answer_id": 58963869, "question_id": 58963399, "link": "https://stackoverflow.com/questions/58963399/how-to-find-the-particular-service-name-using-if-statement-in-python/58963869#58963869", "title": "how to find the particular service name using If statement in Python", "body": "<p>Try this. It looks like you were looping through list_services instead of the arns.</p>\n\n<pre><code>browser='chrome'\nCLUSTER = 'ECS-QEAUTOMATION-HYBRID-DEV'\nclient = boto3.client('ecs')\nlist_services = client.list_services(cluster=CLUSTER)\nservice_arns = list_services['serviceArns']\nprint(service_arns )\nfor service_arn in service_arns:\n    if browser in service_arn:\n        print(service_arn)\n</code></pre>\n"}], "owner": {"reputation": 37, "user_id": 2136881, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fff945b85c82e94edcd436ad5864938?s=128&d=identicon&r=PG", "display_name": "user2136881", "link": "https://stackoverflow.com/users/2136881/user2136881"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 71, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1574286375, "creation_date": 1574284106, "question_id": 58963399, "link": "https://stackoverflow.com/questions/58963399/how-to-find-the-particular-service-name-using-if-statement-in-python", "title": "how to find the particular service name using If statement in Python", "body": "<p>i am new to the python boto3 function in AWS. I want to know how to search for particular serviceNameArn <code>(u'arn:aws:ecs:us-east-1:778784494011:service/RITS-selenium-node-chrome-service-Service-5ZADFVZNNCFJ)</code> among the list of services running in the AWS ECS cluster that i have below with the key value pair: {\"Browser\":\"Chrome\"}. </p>\n\n<p>here is my code:</p>\n\n<pre><code>import boto3\nfrom flask import Flask\nfrom flask import request\nfrom flask import jsonify, make_response\nimport requests\nimport json\n\nbrowser='chrome'\nCLUSTER = 'ECS-QEAUTOMATION-HYBRID-DEV'\nclient = boto3.client('ecs')\nlist_services = client.list_services(cluster=CLUSTER)\nprint(list_services['serviceArns'])\nfor x in list_services:\n    if browser in x:\n        x.servicename\n        print(x.servicename)\n</code></pre>\n\n<p>Output:\nI am still receiving the list of all services running in the cluster except one:</p>\n\n<pre><code>[u'arn:aws:ecs:us-east-1:778784494011:service/RITS-selenium-hub-service-Service-1ESSGHC030KT6', u'arn:aws:ecs:us-east-1:778784494011:service/RITS-selenium-node-chrome-service-Service-5ZADFVZNNCFJ', u'arn:aws:ecs:us-east-1:778784494011:service/RITS-sonarqube-service-Service-1359LNU242V25', u'arn:aws:ecs:us-east-1:778784494011:service/RITS-jmetermaster-service-Service-1JOAYPCN8KNZI', u'arn:aws:ecs:us-east-1:778784494011:service/RITS-jmeterslave-service-Service-1PIAW69QGP9F8', u'arn:aws:ecs:us-east-1:778784494011:service/RITS-selenium-node-firefox-service-Service-QVDLJQ423TX7', u'arn:aws:ecs:us-east-1:778784494011:service/RITS-dashboard-service-Service-1T8VSPQ28ZAGO', u'arn:aws:ecs:us-east-1:778784494011:service/RITS-commandcenter-service-Service-1MVRK6EPDL3MN']\n</code></pre>\n"}, {"tags": ["python", "jupyter-notebook"], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 12406529, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mC5I3fCdGfsmncBJIaZ-5d5xfHEgJBf-991Nvnx=k-s128", "display_name": "Jorge Del R&#237;o", "link": "https://stackoverflow.com/users/12406529/jorge-del-r%c3%ado"}, "edited": false, "score": 0, "creation_date": 1574346067, "post_id": 58963456, "comment_id": 104207285, "body": "Thank you very much! Worked perfect!"}], "tags": [], "owner": {"reputation": 934, "user_id": 9162021, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2bfef6ec33d2f5d8aeaa7a48e26f5607?s=128&d=identicon&r=PG&f=1", "display_name": "Horace", "link": "https://stackoverflow.com/users/9162021/horace"}, "is_accepted": true, "score": 0, "last_activity_date": 1574284354, "creation_date": 1574284354, "answer_id": 58963456, "question_id": 58963391, "link": "https://stackoverflow.com/questions/58963391/how-to-convert-a-summary-output-in-a-dataframe-with-headers-in-pyhton/58963456#58963456", "title": "How to convert a summary output in a dataframe with headers in pyhton?", "body": "<p>This is because <code>Type</code> is an index, not a columns. You can either do </p>\n\n<pre class=\"lang-py prettyprint-override\"><code>var = var.reset_index()\nvar.columns = ['Type','Num']  \n</code></pre>\n\n<p>or if you want to keep the index:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>var.rename({0: \"Num\"}, axis=1).rename_axis(\"Type\")\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 12406529, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mC5I3fCdGfsmncBJIaZ-5d5xfHEgJBf-991Nvnx=k-s128", "display_name": "Jorge Del R&#237;o", "link": "https://stackoverflow.com/users/12406529/jorge-del-r%c3%ado"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 21, "favorite_count": 0, "accepted_answer_id": 58963456, "answer_count": 1, "score": 1, "last_activity_date": 1574284354, "creation_date": 1574284083, "question_id": 58963391, "link": "https://stackoverflow.com/questions/58963391/how-to-convert-a-summary-output-in-a-dataframe-with-headers-in-pyhton", "title": "How to convert a summary output in a dataframe with headers in pyhton?", "body": "<p>I have a summary of variable, but I need to add a header in the new dataframe but I get an error.\nMy data:</p>\n\n<pre><code>Var1 Var2 Var3....\n1    0    1\n1    1    0\n0    1    1\n...\n\nMy code:\nvar=df[['Var1','Var2'....]].sum()\n\nMy output:\n         0\n------------\nVar1    125\nVar2    748\nVar3    536\n...\n\nMy expected output:\nType    Num\n------------\nVar1    125\nVar2    748\nVar3    536\n</code></pre>\n\n<p>But, when I add to my code: ,columns=['Type','Num'] an error appear. Someone could help me please?</p>\n"}, {"tags": ["python", "selenium", "select"], "comments": [{"owner": {"reputation": 5497, "user_id": 11019743, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R8NmK.png?s=128&g=1", "display_name": "Christine", "link": "https://stackoverflow.com/users/11019743/christine"}, "edited": false, "score": 0, "creation_date": 1574284007, "post_id": 58963357, "comment_id": 104181830, "body": "It depends on the download link -- sometimes, you need to be authenticated when you trigger a download, which works fine in the browser scenario with clickable buttons. But making a request to the download URL might not work without any authentication in place. It depends on your website."}, {"owner": {"reputation": 322, "user_id": 1584066, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90bdab79cc308e2c7480f08093f6705f?s=128&d=identicon&r=PG", "display_name": "SudipM", "link": "https://stackoverflow.com/users/1584066/sudipm"}, "reply_to_user": {"reputation": 5497, "user_id": 11019743, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R8NmK.png?s=128&g=1", "display_name": "Christine", "link": "https://stackoverflow.com/users/11019743/christine"}, "edited": false, "score": 0, "creation_date": 1574284464, "post_id": 58963357, "comment_id": 104182027, "body": "there&#39;s no authentication, the file is there(end of day data), I have the link, its available only if request arises from India, no authentication stuff...thanks"}, {"owner": {"reputation": 855, "user_id": 4744568, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/125cdb7d43927756913b920de016f420?s=128&d=identicon&r=PG", "display_name": "pcalkins", "link": "https://stackoverflow.com/users/4744568/pcalkins"}, "edited": false, "score": 1, "creation_date": 1574284903, "post_id": 58963357, "comment_id": 104182217, "body": "Chrome should do it by default... just click the link to the file. (Going direct to the file&#39;s URL will break the DOM) Firefox will prompt by default.  These options are configurable.  Also remember not to close the driver before the download completes."}, {"owner": {"reputation": 157, "user_id": 4300192, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9561467b1b11f9b664c865faf270ce17?s=128&d=identicon&r=PG&f=1", "display_name": "Amith YR", "link": "https://stackoverflow.com/users/4300192/amith-yr"}, "edited": false, "score": 0, "creation_date": 1574326411, "post_id": 58963357, "comment_id": 104195319, "body": "Take a look at this answer. Open firefox with geospoof and you can click the link to download. <a href=\"https://stackoverflow.com/a/40237170/4300192\">stackoverflow.com/a/40237170/4300192</a>"}], "owner": {"reputation": 322, "user_id": 1584066, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90bdab79cc308e2c7480f08093f6705f?s=128&d=identicon&r=PG", "display_name": "SudipM", "link": "https://stackoverflow.com/users/1584066/sudipm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 42, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1574283871, "creation_date": 1574283871, "question_id": 58963357, "link": "https://stackoverflow.com/questions/58963357/how-to-download-a-file-given-a-link-using-python-selenium", "title": "how to download a file given a link using python selenium?", "body": "<p>I have been downloading a file for stock market data using urllib, which was working fine, but recently that has been blocked from locations out of country, and I am currently outside. :( hence, I am thinking of selenium using python using firefox where I can do geo spoofing.\nl have the link, can we download using selenium just by link or do I must have clickable buttons to proceed?</p>\n\n<p>thanks a lot,\nsudip</p>\n"}, {"tags": ["python", "django"], "answers": [{"comments": [{"owner": {"reputation": 1197, "user_id": 6423456, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c12df3cae9bced6777b223671ce538fd?s=128&d=identicon&r=PG&f=1", "display_name": "John", "link": "https://stackoverflow.com/users/6423456/john"}, "edited": false, "score": 0, "creation_date": 1574294235, "post_id": 58965062, "comment_id": 104185427, "body": "<code>from django.http import HttpRequest()</code> shouldn&#39;t have the brackets, but apparently, this is too small an edit for stackoverflow. Also, <code>self.client.login</code> passes all args directly to <code>django.contrib.auth.authenticate</code> <a href=\"https://github.com/django/django/blob/master/django/test/client.py#L594\" rel=\"nofollow noreferrer\">here</a>. I tried using a blank <code>HttpRequest()</code>, but that didn&#39;t seem to work. It didn&#39;t crash, but Axes didn&#39;t block any attempts either. Looking at the <code>HttpRequest()</code> class, it doesn&#39;t seem to have a way to set any info (like the IP) when you initialize it - not sure what to do from here."}, {"owner": {"reputation": 2656, "user_id": 12202977, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b60cd6834121a533a03be5f60787a65b?s=128&d=identicon&r=PG", "display_name": "bug", "link": "https://stackoverflow.com/users/12202977/bug"}, "reply_to_user": {"reputation": 1197, "user_id": 6423456, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c12df3cae9bced6777b223671ce538fd?s=128&d=identicon&r=PG&f=1", "display_name": "John", "link": "https://stackoverflow.com/users/6423456/john"}, "edited": false, "score": 0, "creation_date": 1574294824, "post_id": 58965062, "comment_id": 104185557, "body": "I fixed the typo, thanks. The IP is in <code>request.META[&#39;REMOTE_ADDR&#39;]</code>, you might need to replace the full <code>META</code> dictionary because, if I remember well, it&#39;s read only."}, {"owner": {"reputation": 2656, "user_id": 12202977, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b60cd6834121a533a03be5f60787a65b?s=128&d=identicon&r=PG", "display_name": "bug", "link": "https://stackoverflow.com/users/12202977/bug"}, "reply_to_user": {"reputation": 1197, "user_id": 6423456, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c12df3cae9bced6777b223671ce538fd?s=128&d=identicon&r=PG&f=1", "display_name": "John", "link": "https://stackoverflow.com/users/6423456/john"}, "edited": false, "score": 1, "creation_date": 1574295040, "post_id": 58965062, "comment_id": 104185616, "body": "I&#39;ve also added a link to the Django Axes repo showing how they implemented the test you need."}, {"owner": {"reputation": 1197, "user_id": 6423456, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c12df3cae9bced6777b223671ce538fd?s=128&d=identicon&r=PG&f=1", "display_name": "John", "link": "https://stackoverflow.com/users/6423456/john"}, "edited": false, "score": 0, "creation_date": 1574355695, "post_id": 58965062, "comment_id": 104213194, "body": "Thanks for the link to their tests. I used that as a staring point and reference to make my own tests that fit my needs. You were right - I just needed to fill the fake request&#39;s data with simulated values, which the link showed how to do."}], "tags": [], "owner": {"reputation": 2656, "user_id": 12202977, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b60cd6834121a533a03be5f60787a65b?s=128&d=identicon&r=PG", "display_name": "bug", "link": "https://stackoverflow.com/users/12202977/bug"}, "is_accepted": true, "score": 2, "last_activity_date": 1574294992, "last_edit_date": 1574294992, "creation_date": 1574293161, "answer_id": 58965062, "question_id": 58963351, "link": "https://stackoverflow.com/questions/58963351/how-do-you-test-django-axes-with-a-django-unit-test/58965062#58965062", "title": "How do you test django-axes with a Django unit test?", "body": "<p>As stated in the <a href=\"https://django-axes.readthedocs.io/en/latest/3_usage.html#authenticating-users\" rel=\"nofollow noreferrer\">Django Axes documentation</a>, rather than using <code>client.login</code> you can directly call the Django <a href=\"https://docs.djangoproject.com/en/2.2/topics/auth/default/#django.contrib.auth.authenticate\" rel=\"nofollow noreferrer\"><code>authenticate</code> function</a> passing a mock request.</p>\n\n<p>Something like this should do the trick:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>from django.contrib.auth import authenticate\nfrom django.http import HttpRequest\n\nclass TestBruteForceAttempts(TestCase):\n    def test_brute_force_attempts(self):\n        login_attempts_to_make = django_settings.AXES_FAILURE_LIMIT + 1\n\n        for i in range(login_attempts_to_make):\n            request = HttpRequest()\n            authenticate(request, username=\"invalid_user\", password=\"invalid_password\")\n\n        # Assert IP is blocked\n</code></pre>\n\n<p>You probably need to specify some information in the request, for example a fixed IP.</p>\n\n<p>Alternatively, <a href=\"https://github.com/jazzband/django-axes/blob/32e011c7a0b64b6c5d0d88a3fbac271555221c8c/axes/tests/test_login.py#L84\" rel=\"nofollow noreferrer\">here</a> you can see how the test you need is implemented in Django Axes, you could use the same approach.</p>\n"}], "owner": {"reputation": 1197, "user_id": 6423456, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c12df3cae9bced6777b223671ce538fd?s=128&d=identicon&r=PG&f=1", "display_name": "John", "link": "https://stackoverflow.com/users/6423456/john"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 395, "favorite_count": 0, "accepted_answer_id": 58965062, "answer_count": 1, "score": 0, "last_activity_date": 1574294992, "creation_date": 1574283844, "question_id": 58963351, "link": "https://stackoverflow.com/questions/58963351/how-do-you-test-django-axes-with-a-django-unit-test", "title": "How do you test django-axes with a Django unit test?", "body": "<p>I'm using Django Axes with my Django project to ensure that if someone is trying to guess a password, their IP gets blocked for a while.</p>\n\n<p>It's setup, and works great.</p>\n\n<p>I want to write a Django test that makes sure that after X number of guesses, the user is really locked out.</p>\n\n<p>The problem I'm having is that if you try to use the django test client to do a login as you normally would:</p>\n\n<pre><code>self.client.login(username=\"invalid_user\", password=\"invalid_password\")\n</code></pre>\n\n<p>Axes crashes, because it isn't getting a request arg:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"/opt/my_project/website/login_app/tests/test_views.py\", line 71, in test_brute_force_attempts\n    self.client.login(username=\"invalid_user\", password=\"invalid_password\")\n  File \"/opt/my_project/venv3/lib/python3.6/site-packages/django/test/client.py\", line 602, in login\n    user = authenticate(**credentials)\n  File \"/opt/my_project/venv3/lib/python3.6/site-packages/django/contrib/auth/__init__.py\", line 73, in authenticate\n    user = backend.authenticate(request, **credentials)\n  File \"/opt/my_project/venv3/lib/python3.6/site-packages/axes/helpers.py\", line 411, in inner\n    return func(*args, **kwargs)\n  File \"/opt/my_project/venv3/lib/python3.6/site-packages/axes/backends.py\", line 39, in authenticate\n    \"AxesBackend requires a request as an argument to authenticate\"\naxes.exceptions.AxesBackendRequestParameterRequired: AxesBackend requires a request as an argument to authenticate\n</code></pre>\n\n<p>This is a known issue, and is discussed here: <a href=\"https://github.com/jazzband/django-axes/issues/433\" rel=\"nofollow noreferrer\">https://github.com/jazzband/django-axes/issues/433</a></p>\n\n<p>As far as I can tell, you just need to pass <code>self.client.login</code> a <code>request=</code> arg, which it will pass to <code>django.contrib.auth.authenticate</code>, and it'll be happy. I can't figure out where to get this <code>request</code> within a test method. I tried this, but it didn't work either:</p>\n\n<pre><code>class TestBruteForceAttempts(TestCase):\n    def test_brute_force_attempts(self):\n        login_attempts_to_make = django_settings.AXES_FAILURE_LIMIT + 1 \n\n        for i in range(login_attempts_to_make):\n            self.client.login(request=self.client.request(), username=\"invalid_user\", password=\"invalid_password\")\n            ...\n</code></pre>\n\n<p>Is there any way to test Django Axes from a Django unit test? I'm clearly doing something wrong.</p>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 43491, "user_id": 4001592, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HWyjo.jpg?s=128&g=1", "display_name": "Dani Mesejo", "link": "https://stackoverflow.com/users/4001592/dani-mesejo"}, "edited": false, "score": 0, "creation_date": 1574283858, "post_id": 58963336, "comment_id": 104181763, "body": "<code>ast.literal_eval</code>?"}, {"owner": {"reputation": 934, "user_id": 9162021, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2bfef6ec33d2f5d8aeaa7a48e26f5607?s=128&d=identicon&r=PG&f=1", "display_name": "Horace", "link": "https://stackoverflow.com/users/9162021/horace"}, "edited": false, "score": 0, "creation_date": 1574284035, "post_id": 58963336, "comment_id": 104181840, "body": "are you looking for something like <code>df.a.apply(eval)</code> ?"}, {"owner": {"reputation": 6295, "user_id": 11938023, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cca4cf2bdd1880354bec8cbcd73f8189?s=128&d=identicon&r=PG&f=1", "display_name": "oppressionslayer", "link": "https://stackoverflow.com/users/11938023/oppressionslayer"}, "reply_to_user": {"reputation": 934, "user_id": 9162021, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2bfef6ec33d2f5d8aeaa7a48e26f5607?s=128&d=identicon&r=PG&f=1", "display_name": "Horace", "link": "https://stackoverflow.com/users/9162021/horace"}, "edited": false, "score": 0, "creation_date": 1574286023, "post_id": 58963336, "comment_id": 104182653, "body": "@horace I&#39;ll try that as well, if I can chain that would be nice. Having pandas recognize them as lists is this goal so I&#39;m also going to try a few other approaches here as well. My goal is to have a pandas that recognizes the object as a list rather than a string that contains a list, if not I&#39;ll just have to use eval. Maybe I can chain an apply that might work"}], "answers": [{"comments": [{"owner": {"reputation": 6295, "user_id": 11938023, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cca4cf2bdd1880354bec8cbcd73f8189?s=128&d=identicon&r=PG&f=1", "display_name": "oppressionslayer", "link": "https://stackoverflow.com/users/11938023/oppressionslayer"}, "edited": false, "score": 0, "creation_date": 1574285255, "post_id": 58963409, "comment_id": 104182342, "body": "Right now I&#39;m doing the eval after in a separate function , so this is very useful. I&#39;ll try it"}, {"owner": {"reputation": 6295, "user_id": 11938023, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cca4cf2bdd1880354bec8cbcd73f8189?s=128&d=identicon&r=PG&f=1", "display_name": "oppressionslayer", "link": "https://stackoverflow.com/users/11938023/oppressionslayer"}, "edited": false, "score": 0, "creation_date": 1574291881, "post_id": 58963409, "comment_id": 104184855, "body": "Thanks Daniel, i ended up using this."}], "tags": [], "owner": {"reputation": 43491, "user_id": 4001592, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HWyjo.jpg?s=128&g=1", "display_name": "Dani Mesejo", "link": "https://stackoverflow.com/users/4001592/dani-mesejo"}, "is_accepted": true, "score": 1, "last_activity_date": 1574284149, "creation_date": 1574284149, "answer_id": 58963409, "question_id": 58963336, "link": "https://stackoverflow.com/questions/58963336/in-pandas-is-there-a-way-to-convert-data-to-a-list-without-using-eval/58963409#58963409", "title": "In Pandas is there a way to convert data to a list without using Eval?", "body": "<p>Use <a href=\"https://docs.python.org/3.7/library/ast.html#ast.literal_eval\" rel=\"nofollow noreferrer\">ast.literal_eval</a> with the converters parameter:</p>\n\n<pre><code>csvfile = io.StringIO(\"a b\\n0 ['1','2','5'] ['2']\\n1 ['2','3','4'] ['4']\\n2 ['2','3','4'] []\\n3 [] []\\n\")\ndf = pd.read_csv(csvfile, sep=' ', converters={'a' : ast.literal_eval, 'b' : ast.literal_eval })\nprint(df)\n</code></pre>\n\n<p><strong>Output</strong></p>\n\n<pre><code>           a    b\n0  [1, 2, 5]  [2]\n1  [2, 3, 4]  [4]\n2  [2, 3, 4]   []\n3         []   []\n</code></pre>\n\n<p>If you are concern about the dangers of eval, you can consider <code>ast.literal_eval</code> as a <a href=\"https://stackoverflow.com/questions/15197673/using-pythons-eval-vs-ast-literal-eval\">safe alternative</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 43491, "user_id": 4001592, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HWyjo.jpg?s=128&g=1", "display_name": "Dani Mesejo", "link": "https://stackoverflow.com/users/4001592/dani-mesejo"}, "edited": false, "score": 1, "creation_date": 1574284407, "post_id": 58963452, "comment_id": 104182001, "body": "What happens if there is a string with a space in the list? <code>&#39;[&quot;a b&quot;, &quot;1&quot;]&#39;</code> for example?"}, {"owner": {"reputation": 6295, "user_id": 11938023, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cca4cf2bdd1880354bec8cbcd73f8189?s=128&d=identicon&r=PG&f=1", "display_name": "oppressionslayer", "link": "https://stackoverflow.com/users/11938023/oppressionslayer"}, "edited": false, "score": 1, "creation_date": 1574291698, "post_id": 58963452, "comment_id": 104184794, "body": "I upvoted this, thank you for the answer,  it was a hard choice between the two."}, {"owner": {"reputation": 22982, "user_id": 10189214, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-oTTBaX3HSZQ/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7ohHVatc4khqXgYvNrBM40bMFj71Q/mo/photo.jpg?sz=128", "display_name": "Andy L.", "link": "https://stackoverflow.com/users/10189214/andy-l"}, "reply_to_user": {"reputation": 6295, "user_id": 11938023, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cca4cf2bdd1880354bec8cbcd73f8189?s=128&d=identicon&r=PG&f=1", "display_name": "oppressionslayer", "link": "https://stackoverflow.com/users/11938023/oppressionslayer"}, "edited": false, "score": 0, "creation_date": 1574291790, "post_id": 58963452, "comment_id": 104184827, "body": "@oppressionslayer: no worries ;) +1"}], "tags": [], "owner": {"reputation": 22982, "user_id": 10189214, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-oTTBaX3HSZQ/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7ohHVatc4khqXgYvNrBM40bMFj71Q/mo/photo.jpg?sz=128", "display_name": "Andy L.", "link": "https://stackoverflow.com/users/10189214/andy-l"}, "is_accepted": false, "score": 1, "last_activity_date": 1574285139, "last_edit_date": 1574285139, "creation_date": 1574284330, "answer_id": 58963452, "question_id": 58963336, "link": "https://stackoverflow.com/questions/58963336/in-pandas-is-there-a-way-to-convert-data-to-a-list-without-using-eval/58963452#58963452", "title": "In Pandas is there a way to convert data to a list without using Eval?", "body": "<p>If you don't want to use any variance of <code>eval</code>, you may use <code>str.strip</code> and <code>str.split</code> on each column. However, I don't know how efficient of this approach comparing to using <code>eval</code></p>\n\n<pre><code>df.a.str.strip('[]').str.split()\n\nOut[363]:\n0    ['1','2','5']\n1    ['2','3','4']\n2    ['2','3','4']\n3               []\nName: a, dtype: object\n\ndf.a.str.strip('[]').str.split().map(type)\n\nOut[364]:\n0    &lt;class 'list'&gt;\n1    &lt;class 'list'&gt;\n2    &lt;class 'list'&gt;\n3    &lt;class 'list'&gt;\nName: a, dtype: object\n</code></pre>\n\n<hr>\n\n<p><strong><em>Note</em></strong>: This is just an alternative idea. If your strings have some blanks or some different chars, it becomes significantly difficult to handle. I still personally prefer using <code>eval</code> or <code>ast.literal_eval</code>.</p>\n"}], "owner": {"reputation": 6295, "user_id": 11938023, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cca4cf2bdd1880354bec8cbcd73f8189?s=128&d=identicon&r=PG&f=1", "display_name": "oppressionslayer", "link": "https://stackoverflow.com/users/11938023/oppressionslayer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 203, "favorite_count": 0, "accepted_answer_id": 58963409, "answer_count": 2, "score": 3, "last_activity_date": 1574285139, "creation_date": 1574283798, "question_id": 58963336, "link": "https://stackoverflow.com/questions/58963336/in-pandas-is-there-a-way-to-convert-data-to-a-list-without-using-eval", "title": "In Pandas is there a way to convert data to a list without using Eval?", "body": "<h1>In Pandas is there a way to convert data to a list without using Eval?</h1>\n\n<p>I have the following df, I want to use dataframe operations against the list without first having to convert the list items to list using eval</p>\n\n<pre><code>#a b\n#['4','2','6']\n#['2','3','7']\n#['1','2','8']\n\ndff=\"\"\"a\n['4','2','6']\n['2','3','7']\n['1','2','8']\"\"\"\n\n\ncsvfile = io.StringIO(\"a b\\n0 ['1','2','5'] ['2']\\n1 ['2','3','4'] ['4']\\n2 ['2','3','4'] []\\n3 [] []\\n\")\ndf = pd.read_csv(csvfile, sep=' ')\n</code></pre>\n\n<p>As you can see the types are objects:</p>\n\n<pre><code>df.a[0]                                                                                                                                                                                         \n# \"['4','2','6']\"\n\ndf.a.to_numpy()                                                                                                                                                                                 \n# array([\"['4','2','6']\", \"['2','3','7']\", \"['1','2','8']\"], dtype=object)\n</code></pre>\n\n<p>How can i convert using pandas, these objects to lists rather than strings of lists?</p>\n\n<p>I can iterate over the items and create the lists manually using eval:</p>\n\n<pre><code>eval(df.a[0])\n['4', '2', '6']\n</code></pre>\n\n<p>But i'd like to have the dataframe have objects of lists, rather than strings of lists. Is that possible? To convert a string of lists to actual lists in the dataframe object?</p>\n"}, {"tags": ["python", "matplotlib"], "comments": [{"owner": {"reputation": 22382, "user_id": 5025009, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7KIA9.png?s=128&g=1", "display_name": "seralouk", "link": "https://stackoverflow.com/users/5025009/seralouk"}, "edited": false, "score": 0, "creation_date": 1574284037, "post_id": 58963320, "comment_id": 104181841, "body": "please post the data"}, {"owner": {"reputation": 36473, "user_id": 12046409, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZRRhI.jpg?s=128&g=1", "display_name": "JohanC", "link": "https://stackoverflow.com/users/12046409/johanc"}, "edited": false, "score": 0, "creation_date": 1574284300, "post_id": 58963320, "comment_id": 104181956, "body": "It is an aliasing problem. Did you try to add &quot;dpi=300&quot;?"}, {"owner": {"reputation": 36473, "user_id": 12046409, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZRRhI.jpg?s=128&g=1", "display_name": "JohanC", "link": "https://stackoverflow.com/users/12046409/johanc"}, "edited": false, "score": 0, "creation_date": 1574284482, "post_id": 58963320, "comment_id": 104182038, "body": "See also <a href=\"https://stackoverflow.com/a/58957758/12046409\">stackoverflow.com/a/58957758/12046409</a>"}, {"owner": {"reputation": 1563, "user_id": 8899386, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/f4ed0471ac0cdd1efac03715da8d2ad2?s=128&d=identicon&r=PG&f=1", "display_name": "Hadij", "link": "https://stackoverflow.com/users/8899386/hadij"}, "edited": false, "score": 0, "creation_date": 1574285521, "post_id": 58963320, "comment_id": 104182443, "body": "I think it is correct. If you zoom in you will see all of them with the same space."}, {"owner": {"reputation": 36473, "user_id": 12046409, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZRRhI.jpg?s=128&g=1", "display_name": "JohanC", "link": "https://stackoverflow.com/users/12046409/johanc"}, "edited": false, "score": 0, "creation_date": 1574288372, "post_id": 58963320, "comment_id": 104183587, "body": "Related: <a href=\"https://stackoverflow.com/questions/8707125/matplotlib-barh-produces-wonky-spacing-between-bars\" title=\"matplotlib barh produces wonky spacing between bars\">stackoverflow.com/questions/8707125/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 36473, "user_id": 12046409, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZRRhI.jpg?s=128&g=1", "display_name": "JohanC", "link": "https://stackoverflow.com/users/12046409/johanc"}, "is_accepted": true, "score": 3, "last_activity_date": 1574288758, "last_edit_date": 1574288758, "creation_date": 1574287580, "answer_id": 58964104, "question_id": 58963320, "link": "https://stackoverflow.com/questions/58963320/python-bar-plot-with-irregular-spacing/58964104#58964104", "title": "Python bar plot with irregular spacing", "body": "<p>The problem has to do with aliasing as the bars are too thin to really be separated. Depending on the subpixel value where a bar starts, the white space will be visible or not. The dpi of the plot can either be set for the displayed figure or when saving the image. However, if you have too many bars increasing the dpi will only help a little.</p>\n\n<p>As suggested in <a href=\"https://stackoverflow.com/questions/8707125/matplotlib-barh-produces-wonky-spacing-between-bars\">this post</a>, you can also save the image as svg to get a vector format. Depending where you want to use it, it can be perfectly rendered.</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>import matplotlib\nimport matplotlib.pyplot as plt\nimport pandas as pd\nimport numpy as np\n\nmatplotlib.rcParams['figure.dpi'] = 300\n\nt = np.linspace(0.0, 2.0, 50)\ns = 1 + np.sin(2 * np.pi * t)\n\ndf = pd.DataFrame({'time': t, 'voltage': s})\n\nfig, ax = plt.subplots()\nax.bar(df['time'], df['voltage'], width = t[1]*.95)\n\nplt.savefig(\"test.png\", dpi=300)\nplt.show()\n</code></pre>\n\n<p>Image with 100 dpi:\n<a href=\"https://i.stack.imgur.com/wb5tN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wb5tN.png\" alt=\"100 dpi image\"></a></p>\n\n<p>Image with 300 dpi:\n<a href=\"https://i.stack.imgur.com/w5yRC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/w5yRC.png\" alt=\"300 dpi image\"></a></p>\n"}], "owner": {"reputation": 608, "user_id": 175237, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecd6cc01662f7193209f687e11ef3ef0?s=128&d=identicon&r=PG", "display_name": "SearchTools-Avi", "link": "https://stackoverflow.com/users/175237/searchtools-avi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 494, "favorite_count": 0, "accepted_answer_id": 58964104, "answer_count": 1, "score": 6, "last_activity_date": 1574288758, "creation_date": 1574283725, "question_id": 58963320, "link": "https://stackoverflow.com/questions/58963320/python-bar-plot-with-irregular-spacing", "title": "Python bar plot with irregular spacing", "body": "<p>I am using a bar chart to plot query frequencies, but I consistently see uneven spacing between the bars.  These look like they should be related to to the ticks, but they're in different positions</p>\n\n<p>This shows up in larger plots \n<a href=\"https://i.stack.imgur.com/glCU8.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/glCU8.png\" alt=\"bar chart 0 to 2000 with irregular spacing\"></a></p>\n\n<p>And smaller ones\n<a href=\"https://i.stack.imgur.com/oh7m3.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/oh7m3.png\" alt=\"bar chart 0 to 100 with irregular spacing\"></a></p>\n\n<pre><code>\ndef TestPlotByFrequency (df, f_field, freq, description):\n    import matplotlib.pyplot as plt\n\n    fig, ax = plt.subplots()\n    ax.bar(df[f_field][0:freq].index,\\\n           df[f_field][0:freq].values)\n\n\n    plt.show()\n</code></pre>\n\n<p>This is not related to data either, none at the top have the same frequency count</p>\n\n<pre><code>    count\n0   8266\n1   6603\n2   5829\n3   4559\n4   4295\n5   4244\n6   3889\n7   3827\n8   3769\n9   3673\n10  3606\n11  3479\n12  3086\n13  2995\n14  2945\n15  2880\n16  2847\n17  2825\n18  2719\n19  2631\n20  2620\n21  2612\n22  2590\n23  2583\n24  2569\n25  2503\n26  2430\n27  2287\n28  2280\n29  2234\n30  2138\n</code></pre>\n\n<p>Is there any way to make these consistent?</p>\n"}, {"tags": ["python", "canvas", "tkinter", "anaconda", "spyder"], "comments": [{"owner": {"reputation": 3364, "user_id": 7508700, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ms4Mr.png?s=128&g=1", "display_name": "David Buck", "link": "https://stackoverflow.com/users/7508700/david-buck"}, "edited": false, "score": 0, "creation_date": 1574283894, "post_id": 58963311, "comment_id": 104181777, "body": "There&#39;s a typo in <code>cnavas</code>. Do I assume that&#39;s not in your actual code?"}, {"owner": {"reputation": 29, "user_id": 10648922, "user_type": "registered", "profile_image": "https://graph.facebook.com/913211252211581/picture?type=large", "display_name": "M&#225;ty&#225;s Neilinger", "link": "https://stackoverflow.com/users/10648922/m%c3%a1ty%c3%a1s-neilinger"}, "reply_to_user": {"reputation": 3364, "user_id": 7508700, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ms4Mr.png?s=128&g=1", "display_name": "David Buck", "link": "https://stackoverflow.com/users/7508700/david-buck"}, "edited": false, "score": 0, "creation_date": 1574283987, "post_id": 58963311, "comment_id": 104181821, "body": "No, that is not, but I&#39;ll correct it."}, {"owner": {"reputation": 176, "user_id": 8770431, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3zGtO.jpg?s=128&g=1", "display_name": "Ama Aje My Fren", "link": "https://stackoverflow.com/users/8770431/ama-aje-my-fren"}, "edited": false, "score": 0, "creation_date": 1574494510, "post_id": 58963311, "comment_id": 104260378, "body": "I suspect it is because when you are running spyder you are using PyQt and that may be the root cause of the problem. I know drawing with matplotlib does not work when using TkAgg but works with Qt5Agg because of this reason."}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 15038930, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/afd632f55cf61e093ad439e7edf9de4f?s=128&d=identicon&r=PG&f=1", "display_name": "LukeT", "link": "https://stackoverflow.com/users/15038930/luket"}, "is_accepted": false, "score": 0, "last_activity_date": 1611077102, "creation_date": 1611077102, "answer_id": 65796459, "question_id": 58963311, "link": "https://stackoverflow.com/questions/58963311/tkinter-in-anaconda-spyder/65796459#65796459", "title": "Tkinter in Anaconda Spyder", "body": "<p>I think that happens because you are not showing a window\nTry</p>\n<pre><code>mywindow=tkinter.Tk()\nmywindow.mainloop()\n</code></pre>\n<p>and you should see your rectangle.</p>\n"}], "owner": {"reputation": 29, "user_id": 10648922, "user_type": "registered", "profile_image": "https://graph.facebook.com/913211252211581/picture?type=large", "display_name": "M&#225;ty&#225;s Neilinger", "link": "https://stackoverflow.com/users/10648922/m%c3%a1ty%c3%a1s-neilinger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 378, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1611077102, "creation_date": 1574283709, "last_edit_date": 1574283998, "question_id": 58963311, "link": "https://stackoverflow.com/questions/58963311/tkinter-in-anaconda-spyder", "title": "Tkinter in Anaconda Spyder", "body": "<p><a href=\"https://i.stack.imgur.com/VPKSW.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VPKSW.jpg\" alt=\"enter image description here\"></a>So I just installed Anaconda Spyder, until this point I used the original vanilla Python. There I have learned to draw object etc. I tried to do the same here, just draw a simple rectangle, however after I run the progrem, the canvas doesn't appeares like it used to in Python. What could be the problem?</p>\n\n<pre><code>import tkinter\ncanvas=tkinter.Canvas(width=500,height=500)\ncanvas.pack()\n\ncanvas.create_rectangle(200,200,300,300)\n</code></pre>\n\n<p>These lines work in Python but not in Spyder, why?</p>\n"}]