[{"tags": ["python", "python-3.x", "time"], "answers": [{"comments": [{"owner": {"reputation": 315, "user_id": 5255193, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/OJq5j.png?s=128&g=1", "display_name": "Ali SH", "link": "https://stackoverflow.com/users/5255193/ali-sh"}, "edited": false, "score": 0, "creation_date": 1449707197, "post_id": 34191376, "comment_id": 56129589, "body": "thanks.first method is near but i need the exact format as i said."}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "reply_to_user": {"reputation": 315, "user_id": 5255193, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/OJq5j.png?s=128&g=1", "display_name": "Ali SH", "link": "https://stackoverflow.com/users/5255193/ali-sh"}, "edited": false, "score": 0, "creation_date": 1449707496, "post_id": 34191376, "comment_id": 56129687, "body": "well that is the point where you put on your thinking cap and take this information and figure out how to make it work with your format...."}, {"owner": {"reputation": 315, "user_id": 5255193, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/OJq5j.png?s=128&g=1", "display_name": "Ali SH", "link": "https://stackoverflow.com/users/5255193/ali-sh"}, "edited": false, "score": 0, "creation_date": 1449737801, "post_id": 34191376, "comment_id": 56140355, "body": "i think i found the way by thinking.thanks for inspiration"}], "tags": [], "owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "is_accepted": true, "score": 1, "last_activity_date": 1449705705, "creation_date": 1449705705, "answer_id": 34191376, "question_id": 34191356, "link": "https://stackoverflow.com/questions/34191356/python-catch-run-time-of-the-file-in-specific-format/34191376#34191376", "title": "Python - Catch run time of the file in specific Format", "body": "<pre><code>import datetime\ns = datetime.datetime.now()\n#codes here\nprint (datetime.datetime.now() - s)\n</code></pre>\n\n<p>I guess ... (its not the exact format but probably close enough)</p>\n\n<p>alternatively </p>\n\n<pre><code>total_seconds = 12354324354545\nm,s = divmod(total_seconds,60)\nh,m = divmod(m,60)\nd,h = divmod(h,24)\nprint(d,h,m,s)\n</code></pre>\n"}], "owner": {"reputation": 315, "user_id": 5255193, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/OJq5j.png?s=128&g=1", "display_name": "Ali SH", "link": "https://stackoverflow.com/users/5255193/ali-sh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 36, "favorite_count": 1, "accepted_answer_id": 34191376, "answer_count": 1, "score": 0, "last_activity_date": 1451063967, "creation_date": 1449705554, "last_edit_date": 1451063967, "question_id": 34191356, "link": "https://stackoverflow.com/questions/34191356/python-catch-run-time-of-the-file-in-specific-format", "title": "Python - Catch run time of the file in specific Format", "body": "<p>I wanted to get the time which script was running.i have the following code:</p>\n\n<pre><code>import time\nstart_time = time.time()\n# codes here\nprint(time.time() - start_time)\n</code></pre>\n\n<p>But this gives in format: </p>\n\n<pre><code>Second.milisecond\n</code></pre>\n\n<p>I want to get it in this format:</p>\n\n<pre><code>D:H:M:S\n(Day:Hours:minutes:seconds)\n</code></pre>\n\n<p>How can I get it like this?</p>\n"}, {"tags": ["python", "loops"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 1, "creation_date": 1449705633, "post_id": 34191340, "comment_id": 56129063, "body": "It only checks the condition at the start of an iteration; it doesn&#39;t notice that <code>days == 9</code> until after the <code>print</code>."}], "answers": [{"tags": [], "owner": {"reputation": 27303, "user_id": 1003123, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ef598363853c3081cc13585afbe81d0f?s=128&d=identicon&r=PG", "display_name": "enrico.bacis", "link": "https://stackoverflow.com/users/1003123/enrico-bacis"}, "is_accepted": false, "score": 0, "last_activity_date": 1449705608, "creation_date": 1449705608, "answer_id": 34191361, "question_id": 34191340, "link": "https://stackoverflow.com/questions/34191340/not-giving-expected-results-in-python/34191361#34191361", "title": "&quot;&lt;=&quot; not giving expected results in Python", "body": "<p>You are incrementing the value of the variable <code>days</code> after the test. When <code>days</code> is 8, you increment it to <code>9</code> and then you print it.</p>\n\n<p>I would do something like this:</p>\n\n<pre><code>days = 1\ncandles = 2\n\nwhile days &lt;= 8 :\n    print (\"Day\", days,\":\", candles, \"Candles\")\n    days = days + 1\n    candles = candles + 1\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 9243, "user_id": 1318181, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/1ZfAE.png?s=128&g=1", "display_name": "kylieCatt", "link": "https://stackoverflow.com/users/1318181/kyliecatt"}, "is_accepted": false, "score": 1, "last_activity_date": 1449705620, "creation_date": 1449705620, "answer_id": 34191363, "question_id": 34191340, "link": "https://stackoverflow.com/questions/34191340/not-giving-expected-results-in-python/34191363#34191363", "title": "&quot;&lt;=&quot; not giving expected results in Python", "body": "<p>Because you <code>days &lt;= 8</code> when the loop starts, then you add one to it in the loop. <code>while</code> loops don't stop the second the value changes they finish executing the block and then return to the conditional and check if they should keep going.</p>\n"}, {"tags": [], "owner": {"reputation": 77, "user_id": 5004958, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/65f688bc68fe9b0a2d4346605f52eda5?s=128&d=identicon&r=PG&f=1", "display_name": "Man H", "link": "https://stackoverflow.com/users/5004958/man-h"}, "is_accepted": false, "score": 0, "last_activity_date": 1449705978, "creation_date": 1449705978, "answer_id": 34191424, "question_id": 34191340, "link": "https://stackoverflow.com/questions/34191340/not-giving-expected-results-in-python/34191424#34191424", "title": "&quot;&lt;=&quot; not giving expected results in Python", "body": "<p>If you increase your variables at the end you will get what you want.</p>\n\n<pre><code>days = 1\ncandles = 2\n\nwhile days &lt;= 8 :\n\n    print (\"Day\", days,\":\", candles, \"Candles\")\n    days = days + 1\n    candles = candles + 1\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 5661649, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BemGk.jpg?s=128&g=1", "display_name": "Steve VanHove", "link": "https://stackoverflow.com/users/5661649/steve-vanhove"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1449705978, "creation_date": 1449705471, "last_edit_date": 1449705603, "question_id": 34191340, "link": "https://stackoverflow.com/questions/34191340/not-giving-expected-results-in-python", "title": "&quot;&lt;=&quot; not giving expected results in Python", "body": "<p>I am teaching myself Python. I have gone through some tutorials and thought I'd write a little program for counting the candles for each of the respective 8 nights of Hanukkah.</p>\n\n<pre><code>days = 0\ncandles = 1\n\nwhile days &lt;= 8 :\n    days = days + 1\n    candles = candles + 1\n    print (\"Day\", days,\":\", candles, \"Candles\")\n</code></pre>\n\n<p>But the results for this (Python 3.4) are:</p>\n\n<pre><code>Day 1 : 2 Candles\nDay 2 : 3 Candles\nDay 3 : 4 Candles\nDay 4 : 5 Candles\nDay 5 : 6 Candles\nDay 6 : 7 Candles\nDay 7 : 8 Candles\nDay 8 : 9 Candles\nDay 9 : 10 Candles\n</code></pre>\n\n<p>Why didn't it stop at day 8?</p>\n"}, {"tags": ["python", "tensorflow", "tensorboard"], "comments": [{"owner": {"reputation": 119710, "user_id": 3574081, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LIW6C.jpg?s=128&g=1", "display_name": "mrry", "link": "https://stackoverflow.com/users/3574081/mrry"}, "edited": false, "score": 1, "creation_date": 1449712815, "post_id": 34191321, "comment_id": 56131224, "body": "This isn&#39;t possible with the current API because there are no string manipulation ops in TensorFlow at present and (as you pointed in your comment on my deleted answer) a later call to <code>tf.merge_all_summaries()</code> will raise an error if the tags are not unique. We have been experimenting with some ops for string manipulation internally and will include some variant of these in a future release."}, {"owner": {"reputation": 27634, "user_id": 1576602, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/4d5132c0e702c0b50cac6aa7c56d191f?s=128&d=identicon&r=PG", "display_name": "Andrzej Pronobis", "link": "https://stackoverflow.com/users/1576602/andrzej-pronobis"}, "reply_to_user": {"reputation": 119710, "user_id": 3574081, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LIW6C.jpg?s=128&g=1", "display_name": "mrry", "link": "https://stackoverflow.com/users/3574081/mrry"}, "edited": false, "score": 0, "creation_date": 1449714881, "post_id": 34191321, "comment_id": 56131769, "body": "Thanks for the explanation. That&#39;s what I suspected."}], "owner": {"reputation": 27634, "user_id": 1576602, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/4d5132c0e702c0b50cac6aa7c56d191f?s=128&d=identicon&r=PG", "display_name": "Andrzej Pronobis", "link": "https://stackoverflow.com/users/1576602/andrzej-pronobis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 289, "favorite_count": 1, "answer_count": 0, "score": 2, "last_activity_date": 1449710633, "creation_date": 1449705373, "question_id": 34191321, "link": "https://stackoverflow.com/questions/34191321/how-to-specify-tags-for-scalar-summary-of-unknown-shape-in-tensorflow", "title": "How to specify tags for scalar summary of unknown shape in TensorFlow?", "body": "<p>Let's imagine the following situation:</p>\n\n<pre><code>a = tf.placeholder(tf.float32, shape=(None, 1))\nb = tf.placeholder(tf.float32, shape=(None, 1))\nc = tf.concat(1, [a, b])\n\ntf.scalar_summary(tags, c)\n</code></pre>\n\n<p>In this situation, the actual shape of the <code>a</code> and <code>b</code> placeholders will only be set when running the session and feeding concrete data to the placeholders. </p>\n\n<p>However, according to API the shape of tags needs to match the shape of <code>c</code>. How can that be achieved?</p>\n"}, {"tags": ["javascript", "python", "selenium", "mechanize"], "comments": [{"owner": {"reputation": 2464, "user_id": 3430412, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d9b6cf9bbb9a6b6d0c5732e2821a642?s=128&d=identicon&r=PG", "display_name": "bryce", "link": "https://stackoverflow.com/users/3430412/bryce"}, "edited": false, "score": 0, "creation_date": 1449705452, "post_id": 34191303, "comment_id": 56128999, "body": "<a href=\"http://stackoverflow.com/questions/23102833/how-to-scrape-a-website-which-requires-login-using-python-and-beautifulsoup\" title=\"how to scrape a website which requires login using python and beautifulsoup\">stackoverflow.com/questions/23102833/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "is_accepted": false, "score": 0, "last_activity_date": 1449705541, "creation_date": 1449705541, "answer_id": 34191353, "question_id": 34191303, "link": "https://stackoverflow.com/questions/34191303/javascript-based-web-logon-for-page-scraping/34191353#34191353", "title": "Javascript-based web logon for page scraping", "body": "<p>usually just requests is enough ... why do you need javascript based?</p>\n\n<pre><code>import requests\nr = requests.Session()\nr.post(\"http://sbrodds.com/login\",{\"username\":\"bob\",\"password\":\"sagat\"})\n\ncontent = r.get(\"http://sbrodds.com/some_page\").text\n</code></pre>\n\n<p>something like that at least ... (you might need a csrf_token or something as well)</p>\n"}], "owner": {"reputation": 11, "user_id": 5661646, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-61KacrpkYLs/AAAAAAAAAAI/AAAAAAAAAJ4/SWZuH68eRFc/photo.jpg?sz=128", "display_name": "Adam Turner", "link": "https://stackoverflow.com/users/5661646/adam-turner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 79, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1449707555, "creation_date": 1449705265, "last_edit_date": 1449707555, "question_id": 34191303, "link": "https://stackoverflow.com/questions/34191303/javascript-based-web-logon-for-page-scraping", "title": "Javascript-based web logon for page scraping", "body": "<p>I'm trying to write a scraping engine for sbrodds.com.  Unfortunately I need to login to get the right data.  I looked into mechanize and selenium but I am sadly very poor at python and web scraping and am not understanding how to use these.  </p>\n\n<p>Here is a screenshot of the Chrome inspect elements page for the login boxes:\n<a href=\"https://i.stack.imgur.com/ZtCY9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZtCY9.png\" alt=\"Chrome Inspect Results\"></a></p>\n\n<p>Can someone please provide as suggestion as to what technology I should use to perform a login to this site inside Python code?  The goal is to eventually load the logged-in page's data into BeautifulSoup.</p>\n"}, {"tags": ["python", "regex", "shell", "python-idle", "regular-language"], "comments": [{"owner": {"reputation": 723, "user_id": 3741585, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1410db3ae12df29ef7c698ac7b2a4370?s=128&d=identicon&r=PG", "display_name": "Jeff Mandell", "link": "https://stackoverflow.com/users/3741585/jeff-mandell"}, "edited": false, "score": 0, "creation_date": 1449705029, "post_id": 34191217, "comment_id": 56128834, "body": "You can change your regular expression to avoid duplicate information: <code>re.findall(r&#39;\\n\\t\\t\\t\\t\\t(.*)\\n\\t\\t\\t\\t\\t\\n\\t\\t\\t\\t\\t&lt;&#47;a&gt;&#39;, str(x), re.MULTILINE)</code> is the same as <code>re.findall(r&#39;\\n\\t{5}(.*)\\n\\t{5}n\\t{5}&lt;&#47;a&gt;&#39;, str(x), re.MULTILINE)</code>"}, {"owner": {"reputation": 142005, "user_id": 465183, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/3b518a0ea4c992cfe9965671d0139ba4?s=128&d=identicon&r=PG", "display_name": "Gilles Quenot", "link": "https://stackoverflow.com/users/465183/gilles-quenot"}, "edited": false, "score": 0, "creation_date": 1449705083, "post_id": 34191217, "comment_id": 56128857, "body": "DON&#39;T learn regex with HTML ! And don&#39;t try to parse HTML with regex, you will kill lot of kitties. Check <a href=\"http://stackoverflow.com/questions/1732348/regex-match-open-tags-except-xhtml-self-contained-tags\" title=\"regex match open tags except xhtml self contained tags\">stackoverflow.com/questions/1732348/&hellip;</a>"}, {"owner": {"reputation": 653, "user_id": 5431594, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/Xu4DF.jpg?s=128&g=1", "display_name": "Ryan Shocker", "link": "https://stackoverflow.com/users/5431594/ryan-shocker"}, "edited": false, "score": 0, "creation_date": 1449705161, "post_id": 34191217, "comment_id": 56128889, "body": "great, thanks for the tip. Unfortunately still no match."}, {"owner": {"reputation": 653, "user_id": 5431594, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/Xu4DF.jpg?s=128&g=1", "display_name": "Ryan Shocker", "link": "https://stackoverflow.com/users/5431594/ryan-shocker"}, "reply_to_user": {"reputation": 142005, "user_id": 465183, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/3b518a0ea4c992cfe9965671d0139ba4?s=128&d=identicon&r=PG", "display_name": "Gilles Quenot", "link": "https://stackoverflow.com/users/465183/gilles-quenot"}, "edited": false, "score": 0, "creation_date": 1449705215, "post_id": 34191217, "comment_id": 56128911, "body": "@GillesQuenot it&#39;s not interpreted as html if it&#39;s in plain string format though?"}, {"owner": {"reputation": 15789, "user_id": 722804, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3qBY9.png?s=128&g=1", "display_name": "Terry Jan Reedy", "link": "https://stackoverflow.com/users/722804/terry-jan-reedy"}, "edited": false, "score": 0, "creation_date": 1449773972, "post_id": 34191217, "comment_id": 56163459, "body": "Given that Python&#39;s IDLE is not mentioned in the question (or comments and answers), nor relevant to the question that I can see, why is it in the title and tags?"}, {"owner": {"reputation": 15789, "user_id": 722804, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3qBY9.png?s=128&g=1", "display_name": "Terry Jan Reedy", "link": "https://stackoverflow.com/users/722804/terry-jan-reedy"}, "edited": false, "score": 1, "creation_date": 1449775043, "post_id": 34191217, "comment_id": 56164015, "body": "If by &#39;shell&#39;, you mean IDLE&#39;s shell window, what happens on the regular console shell?  (If would be a bug for them to act different for re.findall.)  Also, posted code should include example data (shorter than 100s of chars) needed to run and demonstrate the issue (<a href=\"https://stackoverflow.com/help/mcve\">stackoverflow.com/help/mcve</a>): <code>x = &lt;some literal string&gt;</code>"}, {"owner": {"reputation": 13767, "user_id": 2413201, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/rxfuw.jpg?s=128&g=1", "display_name": "Armali", "link": "https://stackoverflow.com/users/2413201/armali"}, "edited": false, "score": 0, "creation_date": 1505976291, "post_id": 34191217, "comment_id": 79633956, "body": "The pastebin page has been removed. Now the question is unclear."}], "answers": [{"comments": [{"owner": {"reputation": 653, "user_id": 5431594, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/Xu4DF.jpg?s=128&g=1", "display_name": "Ryan Shocker", "link": "https://stackoverflow.com/users/5431594/ryan-shocker"}, "edited": false, "score": 0, "creation_date": 1449705598, "post_id": 34191317, "comment_id": 56129049, "body": "Not it&#39;s returning the tabs and new lines in the list aside from just the string, which my shell was doing. ie, I need CSE 412 Database Management"}, {"owner": {"reputation": 676, "user_id": 108241, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CI8rm.jpg?s=128&g=1", "display_name": "Takis", "link": "https://stackoverflow.com/users/108241/takis"}, "reply_to_user": {"reputation": 653, "user_id": 5431594, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/Xu4DF.jpg?s=128&g=1", "display_name": "Ryan Shocker", "link": "https://stackoverflow.com/users/5431594/ryan-shocker"}, "edited": false, "score": 0, "creation_date": 1449705717, "post_id": 34191317, "comment_id": 56129084, "body": "I think that&#39;s because your file actually contains the characters slash &#39;\\&#39; followed by &#39;n&#39;, instead of actual newlines &#39;\\n&#39;. At least the pastebin actually contains those characters and contains no newlines whatsoever."}, {"owner": {"reputation": 653, "user_id": 5431594, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/Xu4DF.jpg?s=128&g=1", "display_name": "Ryan Shocker", "link": "https://stackoverflow.com/users/5431594/ryan-shocker"}, "edited": false, "score": 0, "creation_date": 1449705767, "post_id": 34191317, "comment_id": 56129101, "body": "so what if I want to capture the literal string in the pattern above for \\n and \\t?"}, {"owner": {"reputation": 676, "user_id": 108241, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CI8rm.jpg?s=128&g=1", "display_name": "Takis", "link": "https://stackoverflow.com/users/108241/takis"}, "reply_to_user": {"reputation": 653, "user_id": 5431594, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/Xu4DF.jpg?s=128&g=1", "display_name": "Ryan Shocker", "link": "https://stackoverflow.com/users/5431594/ryan-shocker"}, "edited": false, "score": 0, "creation_date": 1449706784, "post_id": 34191317, "comment_id": 56129455, "body": "I added some example code to illustrate the difference between &#39;\\n&#39; and &#39;\\\\n&#39;."}], "tags": [], "owner": {"reputation": 676, "user_id": 108241, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CI8rm.jpg?s=128&g=1", "display_name": "Takis", "link": "https://stackoverflow.com/users/108241/takis"}, "is_accepted": false, "score": 1, "last_activity_date": 1449706751, "last_edit_date": 1449706751, "creation_date": 1449705352, "answer_id": 34191317, "question_id": 34191217, "link": "https://stackoverflow.com/questions/34191217/regex-matching-in-idle-but-not-in-my-program-for-python/34191317#34191317", "title": "Regex matching in IDLE, but not in my program for Python?", "body": "<p>This seems to work fine here. The <code>\\n</code> and <code>\\t</code> are literal characters in the pastebin you provided, so the backslashes need to be escaped.</p>\n\n<pre><code>import re\nx = open('data.html').read()\nm  = re.findall(\n  r'\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t(.*)\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t&lt;/a&gt;',\n  x,\n  re.MULTILINE)\nprint(m)\n</code></pre>\n\n<p>And, as suggested by Jeff Mandell you can shorten the regex by:</p>\n\n<pre class=\"lang-regex prettyprint-override\"><code>\\\\n(\\\\t){5}(.*)\\\\n(\\\\t){5}\\\\n(\\\\t){5}&lt;/a&gt;\n</code></pre>\n\n<p>So, this means that if you have a file containing actual newlines, a regex <code>r'\\n'</code> will match those. </p>\n\n<pre class=\"lang-python prettyprint-override\"><code>v = '\\n'\nprint(v) # prints a blank line\nprint(len(v)) # outputs 1\nm = re.match(r'\\n', v)\nprint(m) # match\nm = re.match(r'\\\\n', v)\nprint(m) # no match\n\nv = '\\\\n' # which would appear as \\n in your text editor\nprint(v) # prints the two characters \\ and n\nprint(len(v)) # outputs 2\nm = re.match(r'\\n', v)\nprint(m) # no match\nm = re.match(r'\\\\n', v)\nprint(m) # match\n</code></pre>\n"}], "owner": {"reputation": 653, "user_id": 5431594, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/Xu4DF.jpg?s=128&g=1", "display_name": "Ryan Shocker", "link": "https://stackoverflow.com/users/5431594/ryan-shocker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 486, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1449711861, "creation_date": 1449704874, "last_edit_date": 1449711861, "question_id": 34191217, "link": "https://stackoverflow.com/questions/34191217/regex-matching-in-idle-but-not-in-my-program-for-python", "title": "Regex matching in IDLE, but not in my program for Python?", "body": "<p>I'm trying to learn Regex and I am testing out my patterns in the shell. </p>\n\n<pre><code>re.findall(r'\\n\\t\\t\\t\\t\\t(.*)\\n\\t\\t\\t\\t\\t\\n\\t\\t\\t\\t\\t&lt;/a&gt;', str(x), re.MULTILINE)\n</code></pre>\n\n<p>The code is being ran against: <a href=\"http://pastebin.com/yaCXPG3W\" rel=\"nofollow\">http://pastebin.com/yaCXPG3W</a></p>\n\n<p>print the pattern in shell and the output is correct. However, in my program, the list is empty.</p>\n\n<p>I've tried adding two slashes on the tabs and newlines .. \\\\t but I still get nothing. </p>\n"}, {"tags": ["python", "python-2.7", "multidimensional-array"], "answers": [{"tags": [], "owner": {"reputation": 5358, "user_id": 3171657, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/J3bKr.png?s=128&g=1", "display_name": "Turn", "link": "https://stackoverflow.com/users/3171657/turn"}, "is_accepted": false, "score": 0, "last_activity_date": 1449705559, "creation_date": 1449705559, "answer_id": 34191358, "question_id": 34191202, "link": "https://stackoverflow.com/questions/34191202/how-to-convert-columns-of-a-two-dimensional-array-into-row-in-python/34191358#34191358", "title": "How to convert columns of a two dimensional array into row in python?", "body": "<pre><code>    def rotate(A):\n        B = []\n        added = True\n        while added:\n            added = False\n            col = []\n            for row in A:\n                try:\n                    col.append(row.pop(0))\n                except IndexError:\n                    continue\n                added = True\n            col and B.append(col)\n        return B\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 701, "user_id": 3124438, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/ae8d252e1dfaa06bc5dd3ec9c902a4a2?s=128&d=identicon&r=PG&f=1", "display_name": "Spandyie", "link": "https://stackoverflow.com/users/3124438/spandyie"}, "edited": false, "score": 0, "creation_date": 1449708456, "post_id": 34191369, "comment_id": 56129995, "body": "I am very  new to python. I tried looking at its documentation, but I still can&#39;t understand Do you mind explaining why you put *A in izip_longest() ?"}, {"owner": {"reputation": 71233, "user_id": 837534, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f3782b004830f622e19029e5f7fc146?s=128&d=identicon&r=PG", "display_name": "Mike M&#252;ller", "link": "https://stackoverflow.com/users/837534/mike-m%c3%bcller"}, "reply_to_user": {"reputation": 701, "user_id": 3124438, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/ae8d252e1dfaa06bc5dd3ec9c902a4a2?s=128&d=identicon&r=PG&f=1", "display_name": "Spandyie", "link": "https://stackoverflow.com/users/3124438/spandyie"}, "edited": false, "score": 1, "creation_date": 1449709740, "post_id": 34191369, "comment_id": 56130391, "body": "Added some background info."}], "tags": [], "owner": {"reputation": 71233, "user_id": 837534, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f3782b004830f622e19029e5f7fc146?s=128&d=identicon&r=PG", "display_name": "Mike M&#252;ller", "link": "https://stackoverflow.com/users/837534/mike-m%c3%bcller"}, "is_accepted": true, "score": 1, "last_activity_date": 1449710412, "last_edit_date": 1449710412, "creation_date": 1449705684, "answer_id": 34191369, "question_id": 34191202, "link": "https://stackoverflow.com/questions/34191202/how-to-convert-columns-of-a-two-dimensional-array-into-row-in-python/34191369#34191369", "title": "How to convert columns of a two dimensional array into row in python?", "body": "<h2>Solution</h2>\n\n<pre><code>from itertools import izip_longest # in Python 3 zip_longest\n\nlist([x for x in y if x is not None] for y in izip_longest(*A))\n</code></pre>\n\n<p>result:</p>\n\n<pre><code>[[186, 12, 122, 166, 133],\n [192, 193, 188, 44],\n [133, 154, 199, 23],\n [56],\n [78],\n [96],\n [100]]\n</code></pre>\n\n<h2>Explanation</h2>\n\n<p><code>izip_longest</code> gives you an iterator:</p>\n\n<pre><code>&gt;&gt;&gt; from itertools import izip_longest\n&gt;&gt;&gt; izip_longest([1, 2, 3], [4, 5])\n&lt;itertools.izip_longest at 0x103331890&gt;\n</code></pre>\n\n<p>Convert it into a list to see what it does:</p>\n\n<pre><code>&gt;&gt;&gt; list(izip_longest([1, 2, 3], [4, 5]))\n[(1, 4), (2, 5), (3, None)]\n</code></pre>\n\n<p>It takes one element from each list and puts them pairwise into a tuple. Furthermore, it fills missing values with <code>None</code> ( or another value you supply).</p>\n\n<p>The <code>*</code> allows to give a function an unspecified number of arguments. For example, we can put our two lists inside another list and use <code>*</code> and it still works the same:</p>\n\n<pre><code>&gt;&gt;&gt; list(izip_longest(*[[1, 2, 3], [4, 5]]))\n[(1, 4), (2, 5), (3, None)]\n</code></pre>\n\n<p>This is not limited to two arguments. An example with three.</p>\n\n<p>Single arguments:</p>\n\n<pre><code>&gt;&gt;&gt; list(izip_longest([1, 2, 3], [4, 5], [6]))\n[(1, 4, 6), (2, 5, None), (3, None, None)]\n</code></pre>\n\n<p>All arguments in one list with <code>*</code>:</p>\n\n<pre><code>&gt;&gt;&gt; list(izip_longest(*[[1, 2, 3], [4, 5], [6]]))\n[(1, 4, 6), (2, 5, None), (3, None, None)]\n</code></pre>\n\n<p>You don't want the <code>None</code> values. Filter them out with a list comprehension:</p>\n\n<pre><code>&gt;&gt;&gt; [x for x in y if x is not None] \n</code></pre>\n\n<p>For your <code>A</code>, you get this:</p>\n\n<pre><code>&gt;&gt;&gt; list(izip_longest(*A))\n[(186, 12, 122, 166, 133),\n (192, None, 193, 188, 44),\n (133, None, 154, 199, 23),\n (None, None, None, None, 56),\n (None, None, None, None, 78),\n (None, None, None, None, 96),\n (None, None, None, None, 100)]\n</code></pre>\n\n<p>Now, <code>y</code> runs through all entries in this list such as <code>(186, 12, 122, 166, 133)</code>. While <code>x</code> runs through each individual number in <code>y</code> such as <code>186</code>. The outer <code>[]</code>  creates a list. So instead of the tuple <code>(186, 12, 122, 166, 133)</code> \nwe get a list <code>[186, 12, 122, 166, 133]</code>. Finally, the <code>if x is not None</code> filters out the <code>None</code> values.</p>\n"}, {"comments": [{"owner": {"reputation": 701, "user_id": 3124438, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/ae8d252e1dfaa06bc5dd3ec9c902a4a2?s=128&d=identicon&r=PG&f=1", "display_name": "Spandyie", "link": "https://stackoverflow.com/users/3124438/spandyie"}, "edited": false, "score": 0, "creation_date": 1449708783, "post_id": 34191520, "comment_id": 56130103, "body": "Is None a function? I am wondering how this map(None,*A) is working? Isn&#39;t it like map(function, iterable, ...)? I thought map() is like lapply() in R?"}], "tags": [], "owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "is_accepted": false, "score": 1, "last_activity_date": 1449706493, "creation_date": 1449706493, "answer_id": 34191520, "question_id": 34191202, "link": "https://stackoverflow.com/questions/34191202/how-to-convert-columns-of-a-two-dimensional-array-into-row-in-python/34191520#34191520", "title": "How to convert columns of a two dimensional array into row in python?", "body": "<p>Another method transposing using <code>map</code> and <code>filter</code>: </p>\n\n<pre><code>A = [[186, 192, 133], [12], [122, 193, 154], [166, 188, 199], [133, 44, 23, 56, 78, 96, 100]]\n\n\nprint([list(filter(None,sub)) for sub in map(None,*A)])\n[[186, 12, 122, 166, 133], [192, 193, 188, 44], [133, 154, 199, 23], [56], [78], [96], [100]]\n</code></pre>\n\n<p>If <code>0</code> is a potential you will need to specifically check for None's:</p>\n\n<pre><code>print([list(filter(lambda x: x is not None, sub)) for sub in map(None,*A)])\n</code></pre>\n\n<p>Or map with a regular list comp as per Mikes answer:</p>\n\n<pre><code> [[x for x in sub if x is not None] for sub in map(None,*A)]\n</code></pre>\n"}], "owner": {"reputation": 701, "user_id": 3124438, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/ae8d252e1dfaa06bc5dd3ec9c902a4a2?s=128&d=identicon&r=PG&f=1", "display_name": "Spandyie", "link": "https://stackoverflow.com/users/3124438/spandyie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1360, "favorite_count": 0, "accepted_answer_id": 34191369, "answer_count": 3, "score": 2, "last_activity_date": 1449713944, "creation_date": 1449704800, "last_edit_date": 1449713944, "question_id": 34191202, "link": "https://stackoverflow.com/questions/34191202/how-to-convert-columns-of-a-two-dimensional-array-into-row-in-python", "title": "How to convert columns of a two dimensional array into row in python?", "body": "<p>I have a two-dimensional python array that looks like this: </p>\n\n<pre><code>A = [[186,192,133],[12],[122,193,154],[166,188,199],[133,44,23,56,78,96,100]]\n</code></pre>\n\n<p>Now how do I make a new array that looks like this?</p>\n\n<pre><code>B = [[186,12,122,166,133],[192, 193,188,44],[133,154,199,23],[56],[78],[96],[100]]\n</code></pre>\n\n<p>I basically want to convert the column of A into rows of B.</p>\n"}, {"tags": ["python", "json", "api", "instagram"], "comments": [{"owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 0, "creation_date": 1449704870, "post_id": 34191139, "comment_id": 56128772, "body": "Yes, there are calls in the api client library. I don&#39;t understand why you import and instantiate it if you then just make the request manually."}, {"owner": {"reputation": 3731, "user_id": 753160, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/039a383a7ed35c227fd8f2bf24fafe0a?s=128&d=identicon&r=PG", "display_name": "Carl Groner", "link": "https://stackoverflow.com/users/753160/carl-groner"}, "edited": false, "score": 1, "creation_date": 1449704878, "post_id": 34191139, "comment_id": 56128774, "body": "The API provides a <code>api.user_recent_media(user_id, count, max_id)</code> method. You can see the relationships between methods and endpoints <a href=\"https://github.com/Instagram/python-instagram/blob/master/README.md\" rel=\"nofollow noreferrer\">documented here</a>."}, {"owner": {"reputation": 1967, "user_id": 2097870, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/5730730ee365e3f3c90b991f1f543b54?s=128&d=identicon&r=PG", "display_name": "O P", "link": "https://stackoverflow.com/users/2097870/o-p"}, "reply_to_user": {"reputation": 3731, "user_id": 753160, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/039a383a7ed35c227fd8f2bf24fafe0a?s=128&d=identicon&r=PG", "display_name": "Carl Groner", "link": "https://stackoverflow.com/users/753160/carl-groner"}, "edited": false, "score": 1, "creation_date": 1449705937, "post_id": 34191139, "comment_id": 56129156, "body": "@CarlGroner I get a <code>KeyError: &#39;data&#39;</code> when I use build in methods. Thoughts?"}], "answers": [{"tags": [], "owner": {"reputation": 3731, "user_id": 753160, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/039a383a7ed35c227fd8f2bf24fafe0a?s=128&d=identicon&r=PG", "display_name": "Carl Groner", "link": "https://stackoverflow.com/users/753160/carl-groner"}, "is_accepted": true, "score": 0, "last_activity_date": 1449706498, "creation_date": 1449706498, "answer_id": 34191521, "question_id": 34191139, "link": "https://stackoverflow.com/questions/34191139/get-media-with-instagram-python-api/34191521#34191521", "title": "Get media with Instagram Python API", "body": "<p>The API provides a <code>user_recent_media</code> method. This is the example given in the <a href=\"https://github.com/Instagram/python-instagram/blob/master/README.md\" rel=\"nofollow\">docs</a> on how to use it:</p>\n\n<pre><code>recent_media, next_ = api.user_recent_media()\nphotos = []\nfor media in recent_media:\n    photos.append('&lt;img src=\"%s\"/&gt;' % media.images['thumbnail'].url)\n</code></pre>\n\n<p>The format of the response can be gleaned from the <a href=\"https://www.instagram.com/developer/endpoints/users/#get_users_media_recent\" rel=\"nofollow\">endpoint documentation</a>.</p>\n"}], "owner": {"reputation": 1967, "user_id": 2097870, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/5730730ee365e3f3c90b991f1f543b54?s=128&d=identicon&r=PG", "display_name": "O P", "link": "https://stackoverflow.com/users/2097870/o-p"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1429, "favorite_count": 0, "accepted_answer_id": 34191521, "answer_count": 1, "score": 0, "last_activity_date": 1449706498, "creation_date": 1449704426, "question_id": 34191139, "link": "https://stackoverflow.com/questions/34191139/get-media-with-instagram-python-api", "title": "Get media with Instagram Python API", "body": "<p>I want to be able to list out the URLs of recent media items from an authorized account. This is the first time I've ever tried using the Python-Instagram API. I have all sensitive variables filled out in the following snippet.</p>\n\n<pre><code>from instagram.client import InstagramAPI\nfrom urllib.request import urlopen\nimport json\n\naccess_token = \"\"\nclient_secret = \"\"\napi = InstagramAPI(access_token=access_token, client_secret=client_secret)\n\nuser_id = \"\"\n\ndef get_media():\n    request = 'https://api.instagram.com/v1/users/{USERID}/media/recent/?access_token={ACCESS_TOKEN}'\n    response = urlopen(request).read().decode('utf8')\n    obj = json.loads(response)\n\n    for i in obj['data']['link']:\n        print (i['link'])\n</code></pre>\n\n<p>This returns absolutely nothing.</p>\n\n<p><code>print (obj)</code> returns the json in plain text. (is this the proper way of doing things? Or are there calls in the API that do this like <code>api.get_recent_media()</code>?</p>\n"}, {"tags": ["python", "django", "redirect", "post"], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 5661574, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee9b05fdcf282ad069b929106a6c6fa0?s=128&d=identicon&r=PG&f=1", "display_name": "joshinda", "link": "https://stackoverflow.com/users/5661574/joshinda"}, "edited": false, "score": 0, "creation_date": 1449764806, "post_id": 34191387, "comment_id": 56158305, "body": "Thanks! You&#39;re right - it solved the problem. I&#39;m now looking into ways to refactor the code to make it less &quot;hack&quot;."}], "tags": [], "owner": {"reputation": 250720, "user_id": 113962, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b80ae1d65878cf68a4b1a00848467527?s=128&d=identicon&r=PG", "display_name": "Alasdair", "link": "https://stackoverflow.com/users/113962/alasdair"}, "is_accepted": true, "score": 0, "last_activity_date": 1449765084, "last_edit_date": 1449765084, "creation_date": 1449705745, "answer_id": 34191387, "question_id": 34191081, "link": "https://stackoverflow.com/questions/34191081/django-form-resubmission-on-refresh-even-after-redirecting/34191387#34191387", "title": "Django Form Resubmission on Refresh even after Redirecting", "body": "<p>You are not returning the response from <code>check_POST_and_update</code> in the <code>detail</code> view, so the view will continue to be processed and will eventually return a different response. </p>\n\n<p>Normally you would do <code>return check_POST_and_update</code>, but I don't think that will work, because I think there's a bit of the <code>detail</code> view that you haven't shown.</p>\n\n<p>You could check the result of the method before returning it as follows :</p>\n\n<pre><code>def detail(request, inventory_id, category_id=None):\n    response = check_POST_and_update(request, inventory_id, category_id)\n    if response is not None:\n        return response \n   ...\n</code></pre>\n\n<p>I don't like this approach, it seems quite hacky. The code might be easier to understand if you return a boolean from the <code>check_POST_and_update</code> method, and generate the response in the main view. </p>\n"}], "owner": {"reputation": 13, "user_id": 5661574, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee9b05fdcf282ad069b929106a6c6fa0?s=128&d=identicon&r=PG&f=1", "display_name": "joshinda", "link": "https://stackoverflow.com/users/5661574/joshinda"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1126, "favorite_count": 0, "accepted_answer_id": 34191387, "answer_count": 1, "score": 1, "last_activity_date": 1449765084, "creation_date": 1449704148, "question_id": 34191081, "link": "https://stackoverflow.com/questions/34191081/django-form-resubmission-on-refresh-even-after-redirecting", "title": "Django Form Resubmission on Refresh even after Redirecting", "body": "<p>I have a page (corresponding to the detail view) displaying a list of items, each with an associated check box. There is a button on the page which when submitted adds to request.POST the list of checked items, and signifies that they should be deleted. Upon deletion, I want to redirect back to the same view - detail. </p>\n\n<p>First two lines of the detail view:</p>\n\n<pre><code>def detail(request, inventory_id, category_id=None):\n    check_POST_and_update(request, inventory_id, category_id)\n</code></pre>\n\n<p>Here is the relevant part of the check_POST_and_update method.</p>\n\n<pre><code>def check_POST_and_update(request, inventory_id=None, category_id=None):\n    if request.method=='POST' and request.user.is_authenticated():\n        r = request.POST\n\n        if r.get('delete_items', None) and r.get('select_item', None):\n        for item_id in r.getlist('select_item'):\n            Item.objects.get(pk=item_id).delete()\n        return redirect('inventory:detail', inventory_id, category_id)\n</code></pre>\n\n<p>The deletion and redirect seem to be working fine. I select a few items, click on the \"Delete selected items\" button and the same page is returned, with the selected items now gone from the list. However, if I then refresh the page at this point, I get \"DoesNotExist ... Item matching query does not exist\". ie the old POST object is being resubmitted. I can confirm this:</p>\n\n<pre><code>&lt;QueryDict: {u'select_item': [u'149'], u'csrfmiddlewaretoken': [u'MASoSxSn2hmwgFKf95WcWjnVa6GYUnPe'], u'delete_items': [u'Delete selected items']}&gt;\n</code></pre>\n\n<p>Why is this happening? I thought that the redirect method was supposed to prevent this sort of problem. How can I fix the code to make sure that the old POST object does not get resubmitted when refreshing the page?</p>\n\n<p>Thanks in advance and sincere apologies if I have made a silly error somewhere!</p>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user3917838"}, "edited": false, "score": 0, "creation_date": 1449706903, "post_id": 34191078, "comment_id": 56129488, "body": "Maybe, just maybe, it is <code>win32gui</code>. Just check."}, {"owner": {"reputation": 11, "user_id": 5656495, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0f6ec4ee2348e67b953a3261a0d0d7ac?s=128&d=identicon&r=PG&f=1", "display_name": "CoolSkeleton95", "link": "https://stackoverflow.com/users/5656495/coolskeleton95"}, "edited": false, "score": 0, "creation_date": 1449707160, "post_id": 34191078, "comment_id": 56129574, "body": "I&#39;m not sure what I should do to check"}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 5656495, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0f6ec4ee2348e67b953a3261a0d0d7ac?s=128&d=identicon&r=PG&f=1", "display_name": "CoolSkeleton95", "link": "https://stackoverflow.com/users/5656495/coolskeleton95"}, "edited": false, "score": 0, "creation_date": 1449705852, "post_id": 34191149, "comment_id": 56129124, "body": "Now it says (NameError: name &#39;FindWindow&#39; is not defined)"}], "tags": [], "owner": {"reputation": 142005, "user_id": 465183, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/3b518a0ea4c992cfe9965671d0139ba4?s=128&d=identicon&r=PG", "display_name": "Gilles Quenot", "link": "https://stackoverflow.com/users/465183/gilles-quenot"}, "is_accepted": false, "score": 0, "last_activity_date": 1449704505, "creation_date": 1449704505, "answer_id": 34191149, "question_id": 34191078, "link": "https://stackoverflow.com/questions/34191078/python-32-win32ui-is-not-defined/34191149#34191149", "title": "Python 32 &#39;win32ui&#39; is not defined", "body": "<p>Instead of :</p>\n\n<pre><code>window_handle = win32ui.FindWindow(None, u\"Super Hexagon\").GetSafeHwnd()\n</code></pre>\n\n<p>try :</p>\n\n<pre><code>window_handle = win32ui.win32ui.FindWindow(None, u\"Super Hexagon\").GetSafeHwnd()\n</code></pre>\n\n<p>or</p>\n\n<pre><code>window_handle = FindWindow(None, u\"Super Hexagon\").GetSafeHwnd()\n</code></pre>\n\n<p>does this works ?</p>\n"}], "owner": {"reputation": 11, "user_id": 5656495, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0f6ec4ee2348e67b953a3261a0d0d7ac?s=128&d=identicon&r=PG&f=1", "display_name": "CoolSkeleton95", "link": "https://stackoverflow.com/users/5656495/coolskeleton95"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 505, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1449704505, "creation_date": 1449704129, "question_id": 34191078, "link": "https://stackoverflow.com/questions/34191078/python-32-win32ui-is-not-defined", "title": "Python 32 &#39;win32ui&#39; is not defined", "body": "<p>I have a bot made to run super hexagon (just for fun) at <a href=\"http://pastebin.com/X34Qxrxx\" rel=\"nofollow\">http://pastebin.com/X34Qxrxx</a></p>\n\n<p>Unfortunately, whenever I run it with IDLE 3.5 32 bit, I get the error</p>\n\n<pre><code>Traceback (most recent call last):\nFile \"C:\\Users\\Spencer\\Desktop\\Super-Hexagon-Bot\\super_hexagon_bot.py\", line 223, in &lt;module&gt;\nmain()\nFile \"C:\\Users\\Spencer\\Desktop\\Super-Hexagon-Bot\\super_hexagon_bot.py\", line 213, in main\nwindow_handle = win32ui.FindWindow(None, u\"Super Hexagon\").GetSafeHwnd()\nNameError: name 'win32ui' is not defined\n</code></pre>\n\n<p>Can anyone help? I'm not sure how to resolve this issue</p>\n"}, {"tags": ["python", "plotly"], "answers": [{"tags": [], "owner": {"reputation": 3114, "user_id": 337065, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/98cb806f626c51f4ad876b89661c03e1?s=128&d=identicon&r=PG", "display_name": "Matthew Finlay", "link": "https://stackoverflow.com/users/337065/matthew-finlay"}, "is_accepted": false, "score": 0, "last_activity_date": 1490310684, "creation_date": 1490310684, "answer_id": 42988643, "question_id": 34191028, "link": "https://stackoverflow.com/questions/34191028/why-does-plotly-offline-iplotx-1-2-3-y-5-2-7-not-work/42988643#42988643", "title": "Why does plotly.offline.iplot({&#39;x&#39;: [1, 2, 3], &#39;y&#39;: [5, 2, 7]}) not work?", "body": "<p>If you supply a dict, it assumes that you're putting in a <code>Figure</code>, if you put in a list it assumes that you're putting in <code>Data</code>. <code>Data</code> is a list as you can have multiple sequences in one plot. E.g.</p>\n\n<p>Supplying Data (note, two lines):</p>\n\n<pre><code>plotly.offline.iplot([\n  {'x': [1, 2, 3], 'y': [5, 2, 7]},\n  {'x': [1, 2, 3], 'y': [1, 2, 3])}])\n</code></pre>\n\n<p>The equivalent, but supplying a Figure instead:</p>\n\n<pre><code>plotly.offline.iplot({\n  'data': [\n    {'x': [1, 2, 3], 'y': [5, 2, 7]},\n    {'x': [1, 2, 3], 'y': [1, 2, 3])}]\n  #Could put layout, etc... here\n  })\n</code></pre>\n"}], "owner": {"reputation": 9809, "user_id": 1389110, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/80dbf8bedd0a04f4c971558bfd39ed04?s=128&d=identicon&r=PG", "display_name": "Pyderman", "link": "https://stackoverflow.com/users/1389110/pyderman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1208, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1490310684, "creation_date": 1449703919, "question_id": 34191028, "link": "https://stackoverflow.com/questions/34191028/why-does-plotly-offline-iplotx-1-2-3-y-5-2-7-not-work", "title": "Why does plotly.offline.iplot({&#39;x&#39;: [1, 2, 3], &#39;y&#39;: [5, 2, 7]}) not work?", "body": "<p>Brand new (today) to <code>plotly</code> (Python) and working my way through the examples and overview.</p>\n\n<p>The method signature for plotly.offline.iplot states:</p>\n\n<pre><code>figure_or_data -- a plotly.graph_objs.Figure or plotly.graph_objs.Data or\n                  dict or list that describes a Plotly graph.\n                  See https://plot.ly/python/ for examples of\n                  graph descriptions.\n</code></pre>\n\n<p>So why doesn't it accept a dictionary as in the title?</p>\n\n<pre><code>PlotlyError                               Traceback (most recent call last)\n&lt;ipython-input-34-dc2bdcac2527&gt; in &lt;module&gt;()\n----&gt; 1 plotly.offline.iplot({'x': [1, 2, 3], 'y': [5, 2, 7]})\n\n/Users/Pyderman/anaconda/lib/python2.7/site-packages/plotly/offline/offline.pyc in iplot(figure_or_data, show_link, link_text, validate)\n    104 \n    105     from IPython.display import HTML, display\n--&gt; 106     figure = tools.return_figure_from_figure_or_data(figure_or_data, validate)\n    107 \n    108     width = figure.get('layout', {}).get('width', '100%')\n\n/Users/Pyderman/anaconda/lib/python2.7/site-packages/plotly/tools.pyc in return_figure_from_figure_or_data(figure_or_data, validate_figure)\n   1412                                          \"plot option.\\nHere's why you're \"\n   1413                                          \"seeing this error:\\n\\n{0}\"\n-&gt; 1414                                          \"\".format(err))\n   1415         if not figure['data']:\n   1416             raise exceptions.PlotlyEmptyDataError(\n\nPlotlyError: Invalid 'figure_or_data' argument. Plotly will not be able to properly parse the resulting JSON. If you want to send this 'figure_or_data' to Plotly anyway (not recommended), you can set 'validate=False' as a plot option.\nHere's why you're seeing this error:\n\n'y' is not allowed in 'figure'\n\nPath To Error: ['y']\n\nValid attributes for 'figure' at path [] under parents []:\n\n    ['layout', 'data']\n\nRun `&lt;figure-object&gt;.help('attribute')` on any of the above.\n'&lt;figure-object&gt;' is the object at []\n</code></pre>\n\n<p>Why must the dictionary be contained within a list thus:</p>\n\n<pre><code>plotly.offline.iplot([{'x': [1, 2, 3], 'y': [5, 2, 7]}])\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "polygon"], "answers": [{"comments": [{"owner": {"reputation": 15, "user_id": 5612926, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a3f4fc2d06a2ef71a99d25e3cd49112?s=128&d=identicon&r=PG&f=1", "display_name": "Jerfislav", "link": "https://stackoverflow.com/users/5612926/jerfislav"}, "edited": false, "score": 0, "creation_date": 1449738585, "post_id": 34191338, "comment_id": 56140830, "body": "Thank you for your contribution! what does this last line (polygon_object = Polygon(points, angles)) do? :D"}, {"owner": {"user_type": "does_not_exist", "display_name": "user3917838"}, "reply_to_user": {"reputation": 15, "user_id": 5612926, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a3f4fc2d06a2ef71a99d25e3cd49112?s=128&d=identicon&r=PG&f=1", "display_name": "Jerfislav", "link": "https://stackoverflow.com/users/5612926/jerfislav"}, "edited": false, "score": 0, "creation_date": 1449800003, "post_id": 34191338, "comment_id": 56174694, "body": "@Jerfislav That creates a <code>Polygon</code> object and assigns it to a variable so you can access it later."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user3917838"}, "is_accepted": true, "score": 0, "last_activity_date": 1449705453, "creation_date": 1449705453, "answer_id": 34191338, "question_id": 34190946, "link": "https://stackoverflow.com/questions/34190946/forming-a-polygon-with-classes/34191338#34191338", "title": "Forming a polygon with classes", "body": "<p>I see an error here:</p>\n\n<pre><code>Polygon.number_points = Polygon.number_points + 1\nNkotnik.number_angles = Polygon.number_angles + 1\n</code></pre>\n\n<p><code>Nkotnik</code> should be <code>Polygon</code>. Also, to make it shorter, you could do <code>Polygon.number_points += 1</code> and same for <code>number_angles</code>.</p>\n\n<p>So now, the creation of the program:</p>\n\n<pre><code>def creation(self):\n</code></pre>\n\n<p>This is bad design. The function should take the number of points and the number of angles as parameters. So, do this:</p>\n\n<pre><code>def creation(self, points, angles):\n</code></pre>\n\n<p>But <code>creation</code> is basically <code>initialization</code>, so you should integrate it into your <code>__init__</code>.</p>\n\n<p>Also, your <code>__init__</code> is strange. <code>number_points</code> and <code>number_angles</code> should be defined in the <code>__init__</code>, not the object body, because those variables are different for different <code>Polygon</code> objects. So after modification, your code looks like this:</p>\n\n<pre><code>class Polygon:\n    def __init__(self, coord_list, angles):\n        if len(coord_list) // 2 &lt; 3:\n            raise Exception(\"Side count must be 3 or more.\")\n        s = []\n        self.number_points = 0\n        self.number_angles = 0\n        self.coordinates_x = coord_list[::2]\n        self.coordinates_y = coord_list[1::2]\n        self.angles = angles\n        self.s = s.append([coordinate_x, coordinate_y])\n        self.number_points += len(coord_list // 2)\n        self.number_angles += len(angles)\nnum_sides = int(input('Number of sides: ')) #raw_input if you're using Python 2\npoints = []\nangles = []\nfor i in range(num_sides):\n    points.append(int(input('X value of point: ')))\n    points.append(int(input('Y value of point: ')))\nfor i in range(num_sides):\n    angles.append(int(input('Angle value: ')))\npolygon_object = Polygon(points, angles)\n</code></pre>\n\n<p>And you're done!</p>\n"}, {"tags": [], "owner": {"reputation": 5896, "user_id": 5644961, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-r4jx_ltcdtA/AAAAAAAAAAI/AAAAAAAAAAA/7RjDfLKZHxg/photo.jpg?sz=128", "display_name": "Copperfield", "link": "https://stackoverflow.com/users/5644961/copperfield"}, "is_accepted": false, "score": 0, "last_activity_date": 1449706107, "creation_date": 1449706107, "answer_id": 34191444, "question_id": 34190946, "link": "https://stackoverflow.com/questions/34190946/forming-a-polygon-with-classes/34191444#34191444", "title": "Forming a polygon with classes", "body": "<p>You can do the check at creation time in the class, like this, also you need more that just a angle to define a point</p>\n\n<pre><code>import collections\n\nPointCartesian = collections.namedtuple(\"PointCartesian\",\"coordinate_x coordinate_y\")\nPointPolar = collections.namedtuple(\"PointPolar\",\"magnitude angle\")\n#this is a easy way to make a class for points, that I recommend have\n#a class too  \n\nclass Polygon(object):\n    def __init__(self,*argv,**kargv):\n        points = list()\n        for elem in argv:\n            if isinstance(elem,(PointCartesian,PointPolar ) ):\n                points.append(elem)\n            else:\n                raise ValueError(\"Element \"+str(elem)+\" of wrong type\")\n        if len(points) &lt;3:\n            raise ValueError(\"Insufficient data\")\n        self.points = points\n</code></pre>\n\n<p>and in other place you have the routine that ask the user for the data, you can check every input or leave it to the class.</p>\n\n<p>to call it do something like this</p>\n\n<pre><code>Polygon(PointCartesian(1,2),PointCartesian(4,7),PointPolar(5,28.2))\nPolygon(*list_of_points)\n</code></pre>\n"}], "owner": {"reputation": 15, "user_id": 5612926, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a3f4fc2d06a2ef71a99d25e3cd49112?s=128&d=identicon&r=PG&f=1", "display_name": "Jerfislav", "link": "https://stackoverflow.com/users/5612926/jerfislav"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2508, "favorite_count": 0, "accepted_answer_id": 34191338, "answer_count": 2, "score": 0, "last_activity_date": 1449710429, "creation_date": 1449703449, "last_edit_date": 1449710429, "question_id": 34190946, "link": "https://stackoverflow.com/questions/34190946/forming-a-polygon-with-classes", "title": "Forming a polygon with classes", "body": "<p>So, my problem is: I am trying to create a program which would create a polygon that has atleast 3 points(that are composed of coordinates x and y) or angles. I would like that, if there are less than 3 points or angles submitted, the program returns an error saying there are insufficient number of points. I need to create this with classes. </p>\n\n<p>I have created this so far: `</p>\n\n<pre><code>class Polygon:\n\n    number_points = 0\n    number_angles = 0\n\n\n\n    def __init__(self, coordinate_x, coordinate_y, angles):\n        s = []\n        self.coordinate_x = coordinate_x\n        self.coordinate_y = coordinate_y\n        self.angles = angles\n        self.s = s.append([coordinate_x, coordinate_y])\n        Polygon.number_points = Polygon.number_points + 1\n        Nkotnik.number_angles = Polygon.number_angles + 1\n\n\n    # Here i would like the program to check if there are enough points \n    # and angles to form a polygon and to check if all coordinates are \n    # numbers. If this requirement is not met, the program prints an \n    # error message.\n    def creation(self):\n        if not isinstance(coordinate_x, (int,float)):\n            #raise Exception(\"That is not a number\")\n        if Polygon.number_points &lt;= 3:\n\n        `\n</code></pre>\n\n<p>The idea that I had is that i store the coordinates in a list and then when the user enters enough points, a polygon can be formed.</p>\n\n<p>I am not a native speaker, so if I need to clear things a bit further feel free to ask :) thank you for any possible answers :)</p>\n"}, {"tags": ["python", "blender"], "answers": [{"comments": [{"owner": {"reputation": 193, "user_id": 1898087, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/cU3Nd.jpg?s=128&g=1", "display_name": "8-bitButterfly", "link": "https://stackoverflow.com/users/1898087/8-bitbutterfly"}, "edited": false, "score": 0, "creation_date": 1449767825, "post_id": 34204601, "comment_id": 56160197, "body": "That&#39;s great! Thank you so much. I seen now why the API says &quot;path to the property to key&quot; under the section keyframe_insert(), that word &quot;path&quot; is little misleading, it should simply say &quot;the property to key&quot;. I will be posting the final version of my code below to assist anyone who is interested."}, {"owner": {"reputation": 6139, "user_id": 2684771, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f2f487264833152bb7890a4b6292d65?s=128&d=identicon&r=PG&f=1", "display_name": "sambler", "link": "https://stackoverflow.com/users/2684771/sambler"}, "reply_to_user": {"reputation": 193, "user_id": 1898087, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/cU3Nd.jpg?s=128&g=1", "display_name": "8-bitButterfly", "link": "https://stackoverflow.com/users/1898087/8-bitbutterfly"}, "edited": false, "score": 0, "creation_date": 1449769800, "post_id": 34204601, "comment_id": 56161381, "body": "For many cases it is just the property name, but it is possible to get longer paths, see the example for a bone with custom properties - <code>data_path=bones[&quot;Bone&quot;].my_prop.nested</code>"}, {"owner": {"reputation": 193, "user_id": 1898087, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/cU3Nd.jpg?s=128&g=1", "display_name": "8-bitButterfly", "link": "https://stackoverflow.com/users/1898087/8-bitbutterfly"}, "edited": false, "score": 0, "creation_date": 1449774948, "post_id": 34204601, "comment_id": 56163964, "body": "Got it! So that explains that word &quot;path&quot;."}, {"owner": {"reputation": 2822, "user_id": 1547831, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/d24691bdb2ed83327cd763d00c57f858?s=128&d=identicon&r=PG", "display_name": "TNT", "link": "https://stackoverflow.com/users/1547831/tnt"}, "edited": false, "score": 0, "creation_date": 1491329704, "post_id": 34204601, "comment_id": 73500955, "body": "@sambler mustn&#39;t be the data_path arg be a string? As in <code>data_path=&#39;bones[&quot;Bone&quot;].my_prop.nested&#39;</code>?"}, {"owner": {"reputation": 6139, "user_id": 2684771, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f2f487264833152bb7890a4b6292d65?s=128&d=identicon&r=PG&f=1", "display_name": "sambler", "link": "https://stackoverflow.com/users/2684771/sambler"}, "reply_to_user": {"reputation": 2822, "user_id": 1547831, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/d24691bdb2ed83327cd763d00c57f858?s=128&d=identicon&r=PG", "display_name": "TNT", "link": "https://stackoverflow.com/users/1547831/tnt"}, "edited": false, "score": 0, "creation_date": 1491351466, "post_id": 34204601, "comment_id": 73510660, "body": "@TNT It is - <code>&#39;blend_alpha&#39;</code> is the <code>data_path</code> - the example is applying keyframes to a property of a VSE strip, the strip contains the property so the longer armature style path with the bone name is not needed. With armatures as the armature object holds all of the animation data for it&#39;s bones you need a path that includes which bone it is for."}, {"owner": {"reputation": 2822, "user_id": 1547831, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/d24691bdb2ed83327cd763d00c57f858?s=128&d=identicon&r=PG", "display_name": "TNT", "link": "https://stackoverflow.com/users/1547831/tnt"}, "edited": false, "score": 0, "creation_date": 1491403540, "post_id": 34204601, "comment_id": 73539148, "body": "@sambler Well, despite I&#39;m not understanding what <code>bones[&quot;Bone&quot;].my_prop.nested</code> exactly is, I think it could e.g. be called as keyword-arg like <code>queue[0].keyframe_insert(data_path=&#39;blend_alpha&#39;, frame=1)</code>. So in your comment that <code>data_path=bones[&quot;Bone&quot;].my_prop.nested</code> would be more real live code if written as <code>data_path=&#39;bones[&quot;Bone&quot;].my_prop.nested&#39;</code>, wouldn&#39;t it? Or could it also be a reference as you wrote it?"}, {"owner": {"reputation": 6139, "user_id": 2684771, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f2f487264833152bb7890a4b6292d65?s=128&d=identicon&r=PG&f=1", "display_name": "sambler", "link": "https://stackoverflow.com/users/2684771/sambler"}, "reply_to_user": {"reputation": 2822, "user_id": 1547831, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/d24691bdb2ed83327cd763d00c57f858?s=128&d=identicon&r=PG", "display_name": "TNT", "link": "https://stackoverflow.com/users/1547831/tnt"}, "edited": false, "score": 0, "creation_date": 1491446959, "post_id": 34204601, "comment_id": 73559507, "body": "@TNT not every little item contains animation data. The data_path is the path from the item with animation data to the value being animated.  An armature is the parent of multiple bones, the bone name is then needed to know which bone the animation is for. Asking a question can provide a more detailed answer. Would be better to ask that one at <a href=\"http://blender.stackexchange.com\">blender.stackexchange</a>."}], "tags": [], "owner": {"reputation": 6139, "user_id": 2684771, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f2f487264833152bb7890a4b6292d65?s=128&d=identicon&r=PG&f=1", "display_name": "sambler", "link": "https://stackoverflow.com/users/2684771/sambler"}, "is_accepted": true, "score": 5, "last_activity_date": 1449758213, "creation_date": 1449758213, "answer_id": 34204601, "question_id": 34190890, "link": "https://stackoverflow.com/questions/34190890/scripting-the-keyframe-inserts-for-opacity-and-volume/34204601#34204601", "title": "Scripting the Keyframe Inserts for Opacity and Volume", "body": "<p>To add a keyframe using python you tell the owner of the property (the strip) to <a href=\"http://www.blender.org/api/blender_python_api_current/bpy.types.bpy_struct.html#bpy.types.bpy_struct.keyframe_insert\" rel=\"noreferrer\">insert a keyframe</a> for one of it's properties (the opacity)</p>\n\n<pre><code>scene = bpy.context.scene\nqueue = scene.sequence_editor.sequences\n\nqueue[0].blend_alpha = 0.0\nqueue[0].keyframe_insert('blend_alpha', frame=1)\n\nqueue[0].blend_alpha = 1.0\nqueue[0].keyframe_insert('blend_alpha', frame=10)\n</code></pre>\n\n<p>You may also notice that you can specify the frame for the key, so that you don't need to adjust the current frame. If you do want to alter the current frame it is better to use <a href=\"http://www.blender.org/api/blender_python_api_current/bpy.types.Scene.html#bpy.types.Scene.frame_set\" rel=\"noreferrer\"><code>scene.frame_set()</code></a>.</p>\n"}, {"comments": [{"owner": {"reputation": 123, "user_id": 7057547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf054b3295957cbe39174a5344d37c3d?s=128&d=identicon&r=PG&f=1", "display_name": "squarespiral", "link": "https://stackoverflow.com/users/7057547/squarespiral"}, "edited": false, "score": 0, "creation_date": 1490810042, "post_id": 34208036, "comment_id": 73283142, "body": "You can streamline by not adding the keyframes sequentially, e.g.:   <code>i.blend_alpha = 0.0 i.keyframe_insert(data_path=&quot;blend_alpha&quot;, frame=itemLead) i.keyframe_insert(data_path=&quot;blend_alpha&quot;, frame=itemHind)</code>"}], "tags": [], "owner": {"reputation": 193, "user_id": 1898087, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/cU3Nd.jpg?s=128&g=1", "display_name": "8-bitButterfly", "link": "https://stackoverflow.com/users/1898087/8-bitbutterfly"}, "is_accepted": false, "score": 1, "last_activity_date": 1449855210, "last_edit_date": 1449855210, "creation_date": 1449768171, "answer_id": 34208036, "question_id": 34190890, "link": "https://stackoverflow.com/questions/34190890/scripting-the-keyframe-inserts-for-opacity-and-volume/34208036#34208036", "title": "Scripting the Keyframe Inserts for Opacity and Volume", "body": "<p>See below for the final version of my code:</p>\n\n<pre><code>import bpy\n\n\n\n# ----------------------------------------\n# main\n# ----------------------------------------\n\nscene = bpy.context.scene\nqueue = scene.sequence_editor.sequences\ndepth = scene.render.fps * 1.8\n\nfor i in queue:\n\n    itemType = i.type\n    itemLead = i.frame_offset_start + i.frame_start\n    itemHind = itemLead + i.frame_final_duration\n\n    if itemType == \"MOVIE\":\n\n        i.blend_alpha = 0.0\n        i.keyframe_insert(data_path=\"blend_alpha\", frame=itemLead)\n\n        i.blend_alpha = 1.0\n        i.keyframe_insert(data_path=\"blend_alpha\", frame=itemLead + depth)\n\n        i.blend_alpha = 1.0\n        i.keyframe_insert(data_path=\"blend_alpha\", frame=itemHind - depth)\n\n        i.blend_alpha = 0.0\n        i.keyframe_insert(data_path=\"blend_alpha\", frame=itemHind)\n\n        continue\n\n    if itemType == \"SOUND\":\n\n        i.volume = 0.0\n        i.keyframe_insert(data_path=\"volume\", frame=itemLead)\n\n        i.volume = 1.0\n        i.keyframe_insert(data_path=\"volume\", frame=itemLead + depth)\n\n        i.volume = 1.0\n        i.keyframe_insert(data_path=\"volume\", frame=itemHind - depth)\n\n        i.volume = 0.0\n        i.keyframe_insert(data_path=\"volume\", frame=itemHind)\n\n        continue\n\n    if itemType == \"IMAGE\":\n\n        i.blend_alpha = 0.0\n        i.keyframe_insert(data_path=\"blend_alpha\", frame=itemLead)\n\n        i.blend_alpha = 1.0\n        i.keyframe_insert(data_path=\"blend_alpha\", frame=itemLead + depth)\n\n        i.blend_alpha = 1.0\n        i.keyframe_insert(data_path=\"blend_alpha\", frame=itemHind - depth)\n\n        i.blend_alpha = 0.0\n        i.keyframe_insert(data_path=\"blend_alpha\", frame=itemHind)\n\n        continue\n</code></pre>\n"}], "owner": {"reputation": 193, "user_id": 1898087, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/cU3Nd.jpg?s=128&g=1", "display_name": "8-bitButterfly", "link": "https://stackoverflow.com/users/1898087/8-bitbutterfly"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 795, "favorite_count": 0, "accepted_answer_id": 34204601, "answer_count": 2, "score": 1, "last_activity_date": 1449855210, "creation_date": 1449703184, "question_id": 34190890, "link": "https://stackoverflow.com/questions/34190890/scripting-the-keyframe-inserts-for-opacity-and-volume", "title": "Scripting the Keyframe Inserts for Opacity and Volume", "body": "<p>Having added, trimmed and arranged my home video recordings within the <code>Video Sequence Editor</code> under Blender 2.74. My next goal is to automate the fading in and fading out, with script, each audio and video sequence.</p>\n\n<p>At the moment my script loops though all the sequences and checks the type. If the sequences type is movie or image the opacity is to be keyframed and if the sequences is sound, than the volume is to be keyframed. Currently my script also has the ability to find the start and end frame for each sequence, as well as the ability to calculate and jump to the frame where the fading should start/end. However, to keyframe the opacity and the volume inside the <code>Graph Editor</code> with script, dose not appears to be possible.</p>\n\n<p>According to the Blender 2.73.8 API, there appears to be the ability to script keyframing with <code>bpy.ops.graph.keyframe_insert(type='ALL')</code>, but there dose not appear to be any ability to keyframe the opacity nor the volume with scripting.</p>\n\n<p>Can someone show me how to keyframe the opacity and volume using script?</p>\n\n<pre><code>import bpy\n\n\n\n# ----------------------------------------\n# main\n# ----------------------------------------\n\nscene = bpy.context.scene\nscene.frame_current = 0\n\nqueue = scene.sequence_editor.sequences\n\nprint(\"Frames Per Second [ \", scene.render.fps, \" ].\")\nbpy.ops.sequencer.select_all(0)\n\nfor i in queue:\n    itemLead = i.frame_start\n    itemBack = itemLead + i.frame_final_duration\n\n    print(\"Lead [ \", itemLead, \" ] Tail [ \", itemBack, \" ].\")\n    itemType = i.type\n\n    if itemType == \"MOVIE\":\n        i.select = 1\n\n        scene.frame_current = itemLead\n        i.blend_alpha = 0.0\n\n        ##bpy.ops.graph.keyframe_insert(type=\"blend_alpha\")\n\n        print(\"Movie mode.\")\n        i.select = 0\n\n        continue\n\n    if itemType == \"SOUND\":\n        i.select = 1\n        print(\"Sound mode.\")\n        i.select = 0\n\n        continue\n\n    if itemType == \"IMAGE\":\n        i.select = 1\n        print(\"Image mode.\")\n        i.select = 0\n\n        continue\n\n    print(\"Skipped [ \", itemType, \" ].\")\n</code></pre>\n"}, {"tags": ["python", "user-interface", "tkinter"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4171906"}, "edited": false, "score": 0, "creation_date": 1449705300, "post_id": 34190821, "comment_id": 56128943, "body": "You can use the showinfo, showwarning, etc. standard dialogs <a href=\"http://effbot.org/tkinterbook/tkinter-standard-dialogs.htm\" rel=\"nofollow noreferrer\">effbot.org/tkinterbook/tkinter-standard-dialogs.htm</a>"}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4171906"}, "edited": false, "score": 2, "creation_date": 1449705886, "post_id": 34191216, "comment_id": 56129136, "body": "That would create 2 Tk() instances which can lead to problems"}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1449706433, "post_id": 34191216, "comment_id": 56129337, "body": "Creating a new root object with its own <code>mainloop()</code> is an easy way to make a mess."}, {"owner": {"reputation": 515, "user_id": 4071682, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/06fd3225923c7f0adbad980c8a6f382f?s=128&d=identicon&r=PG&f=1", "display_name": "Constantly Confused", "link": "https://stackoverflow.com/users/4071682/constantly-confused"}, "edited": false, "score": 0, "creation_date": 1449707185, "post_id": 34191216, "comment_id": 56129587, "body": "Oh, what problems? I use this method all the time, am I missing something?"}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1449708386, "post_id": 34191216, "comment_id": 56129961, "body": "<a href=\"http://stackoverflow.com/questions/14336472/how-to-create-new-tkinter-window-after-mainloop\">Here</a>, <a href=\"http://stackoverflow.com/questions/29158220/tkinter-understanding-mainloop\">here</a>, <a href=\"http://stackoverflow.com/questions/9640013/how-does-creating-two-instances-of-tk-work-with-one-mainloop\">here</a>, <a href=\"http://www.gossamer-threads.com/lists/python/dev/731789\" rel=\"nofollow noreferrer\">here</a>..."}, {"owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 0, "creation_date": 1449713760, "post_id": 34191216, "comment_id": 56131483, "body": "If you simply change <code>Tk</code> to <code>Toplevel</code> and remove the call to <code>mainloop</code>, your answer would be fine. You can have multiple windows, you just shouldn&#39;t have multiple <i>root</i> windows, or multiple <code>mainloop</code>s running."}, {"owner": {"reputation": 515, "user_id": 4071682, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/06fd3225923c7f0adbad980c8a6f382f?s=128&d=identicon&r=PG&f=1", "display_name": "Constantly Confused", "link": "https://stackoverflow.com/users/4071682/constantly-confused"}, "edited": false, "score": 0, "creation_date": 1449731295, "post_id": 34191216, "comment_id": 56137066, "body": "Edited, guess it&#39;s okay now."}], "tags": [], "owner": {"reputation": 515, "user_id": 4071682, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/06fd3225923c7f0adbad980c8a6f382f?s=128&d=identicon&r=PG&f=1", "display_name": "Constantly Confused", "link": "https://stackoverflow.com/users/4071682/constantly-confused"}, "is_accepted": false, "score": -2, "last_activity_date": 1449730835, "last_edit_date": 1449730835, "creation_date": 1449704870, "answer_id": 34191216, "question_id": 34190821, "link": "https://stackoverflow.com/questions/34190821/how-do-i-make-the-python-gui-display-info-in-a-popup-window-by-entering-an-id-nu/34191216#34191216", "title": "How do I make the python GUI display info in a popup window by entering an ID number? And an error message?", "body": "<p>You could try creating a new GUI when the button is pressed, see:</p>\n\n<pre><code>def showGrade(self) :\n    # Creates either:\n    #    Warning message if SID is not found or\n    #    Information messaged with grade\n    global students\n\n    sid = self.xentry.get() #gets entered studentID\n\n    ##CREATE GUI##\n    gradewindow = Toplevel()\n\n    gradelbl = Label(gradewindow)\n    gradelbl.pack()\n\n    ##END CREATION##\n\n    try:\n            grade = #get grade associated with entered studentID\n    except ValueError:\n            gradelbl.config(text=\"Student doesn't exist!\")\n    else:\n            gradelbl.config(text=grade)\n\n    gradewindow.update()\n</code></pre>\n\n<p>Note how you yourself will have to retreive the associated grade, I'm not experienced with dictionary structures, so I'll leave it up to you.</p>\n\n<p>Heres how it works:</p>\n\n<ol>\n<li>The <code>sid</code> value is retrieved, which the user has entered.</li>\n<li>The new GUI is defined and created</li>\n<li>Instantly after this, the program checks the fetched grade, if it does not exist within the dictionary, it will return a ValueError, which will be excepted and an error will be displayed within the new window.</li>\n<li>If it is found however, then the GUI will display this instead.</li>\n</ol>\n\n<p>Hope this helped.</p>\n"}, {"tags": [], "owner": {"reputation": 889, "user_id": 5623507, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf1ba624c77a1440f26c17362a491f8c?s=128&d=identicon&r=PG&f=1", "display_name": "Steve Misuta", "link": "https://stackoverflow.com/users/5623507/steve-misuta"}, "is_accepted": false, "score": 0, "last_activity_date": 1449709686, "creation_date": 1449709686, "answer_id": 34192031, "question_id": 34190821, "link": "https://stackoverflow.com/questions/34190821/how-do-i-make-the-python-gui-display-info-in-a-popup-window-by-entering-an-id-nu/34192031#34192031", "title": "How do I make the python GUI display info in a popup window by entering an ID number? And an error message?", "body": "<p>Below is python 3 which I use. It should give you the idea. I believe the code is very similar in python 2 with a few minor changes.</p>\n\n<pre><code># import the messagebox dialogs\nfrom tkinter import messagebox\n\n# these will be in the showGrade method\n# to show the sid and grade in a message box\nmessagebox.showinfo('Student Results', 'SID:{0} Grade:{1}'.format(sid, grade))\n\n# to show that sid not found\nmessagebox.showerror('Error', 'SID:{0} not found'.format(sid))\n</code></pre>\n\n<p>The messagebox methods show a popup window and the user clicks 'OK' button</p>\n"}], "owner": {"reputation": 1, "user_id": 5648468, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16407ad58eefba9ea7a724775920a3d5?s=128&d=identicon&r=PG&f=1", "display_name": "D Wilson", "link": "https://stackoverflow.com/users/5648468/d-wilson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1197, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1449730835, "creation_date": 1449702821, "last_edit_date": 1449703308, "question_id": 34190821, "link": "https://stackoverflow.com/questions/34190821/how-do-i-make-the-python-gui-display-info-in-a-popup-window-by-entering-an-id-nu", "title": "How do I make the python GUI display info in a popup window by entering an ID number? And an error message?", "body": "<p>This is the code that I have so far. Towards the end I'm having troubles figuring out how to make a popup window saying \"Grade is [A]\", once the student ID is entered. I also don't know how to create a popup window saying \"Student ID not found\" if an incorrect ID is entered. I put asterisks by the part I'm having problems with. Thank you!</p>\n\n<pre><code>from Tkinter import *\nimport tkFont\nimport tkMessageBox\n\nstudents = {}\n\nclass studentDB :\n    def __init__(self) :  # Constructor\n        # Sets attributes \"studentID\", \"lastName\", \"firstName\"; sets attribute \"scores\" as empty list\n        global students\n        students[1000] = student(1000, 'abc', (92, 95, 97))\n        students[1001] = student(1001, 'def', (84, 91, 77))\n\nclass student :\n    def __init__(self, sid, passwd, scoreList) :  # Constructor\n        # Sets attributes \"studentID\", \"lastName\", \"firstName\"; sets attribute \"scores\" as empty list\n        self.studentID = sid\n        self.passwd = passwd\n        self.scores = scoreList\n\n    def getPassword(self) :  # Returns the student ID\n        # Returns attribute \"studentID\"\n        return(self.passwd)\n\n    def computeAverage(self) :  # Computes &amp; returns the total score\n        # Computes &amp; returns totalScore of list attribute \"scores\"\n        totalScore = 0\n        for val in self.scores :\n            totalScore = totalScore + val\n        return(totalScore/float(len(self.scores)))\n\ndef getGrade(score) :\n    if (score &gt;= 90) :\n        return 'A'\n    elif (score &gt;= 80) :\n        return 'B'\n    elif (score &gt;= 70) :\n        return 'C'\n    elif (score &gt;= 60) :\n        return 'D'\n    else :\n        return 'F'      \n\nclass myApp :\n    def __init__(self, top) :\n        # Creates a window with:\n        #    Label and text box for \"Student's ID\";\n        #    Button labeled \"Get Grade\" to get the grade for the student; and\n        #    Button labeled \"Quit\" to quit the application\n        # You must write the rest of the myApp constructor, here.\n        self.root = top\n        self.bframe = Frame(self.root)  # Create a container Frame at the bottom\n        self.bframe.pack(side=BOTTOM)\n        self.xlabel = Label(self.root, text=\"Student ID\")  # Create Label\n        self.xlabel.pack(side=LEFT)\n        self.xentry = Entry(self.root, bd=5)  # Create Entry box\n        self.xentry.pack(side=LEFT)\n        self.xentry.focus_set()  # Set focus in Entry box\n        self.xopen = Button(self.root, text=\"Get Grade\", command=self.showGrade) # Create open Button\n        self.xopen.pack(side=LEFT)\n        self.xquit = Button(self.bframe, text=\"Quit\", command=self.quitit) # Create quit Button\n        self.xquit.pack(side=BOTTOM)\n\n\n    def showGrade(self) :\n        # Creates either:\n        #    Warning message if SID is not found or\n        #    Information messaged with grade\n        global students\n    # You must write the rest of the showGrade method, here.\n        **sid = self.xentry.get()\n        if \n        import tkMessageBox**\n\n    def quitit(self) :\n        # Handler for Quit button click\n        self.root.destroy()\n        return\n# End of myApp class\n\nstudentDB()\ntop = Tk()\napp = myApp(top)\ntop.mainloop()\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "operators"], "comments": [{"owner": {"reputation": 256589, "user_id": 13005, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c4690b9a0df8a4c1e35c088b077942e6?s=128&d=identicon&r=PG", "display_name": "Steve Jessop", "link": "https://stackoverflow.com/users/13005/steve-jessop"}, "edited": false, "score": 2, "creation_date": 1449702771, "post_id": 34190785, "comment_id": 56127983, "body": "&quot; I get a TypeError&quot; -- then <code>x</code> must not be a string. Maybe it&#39;s <code>bytes</code>."}, {"owner": {"reputation": 895, "user_id": 3599549, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0e9d89cd6c3aba875fcb67fdf064a218?s=128&d=identicon&r=PG&f=1", "display_name": "Krii", "link": "https://stackoverflow.com/users/3599549/krii"}, "reply_to_user": {"reputation": 256589, "user_id": 13005, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c4690b9a0df8a4c1e35c088b077942e6?s=128&d=identicon&r=PG", "display_name": "Steve Jessop", "link": "https://stackoverflow.com/users/13005/steve-jessop"}, "edited": false, "score": 0, "creation_date": 1449702830, "post_id": 34190785, "comment_id": 56128011, "body": "Yes, x is a string (It is in a list)."}, {"owner": {"reputation": 101125, "user_id": 16363, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/xv8q9.png?s=128&g=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/16363/mark"}, "edited": false, "score": 0, "creation_date": 1449702982, "post_id": 34190785, "comment_id": 56128076, "body": "You want to &quot;prepend&quot; an element to a list?  You should ask that question then:  <code>x.insert(0, &#39;text&#39;)</code>"}, {"owner": {"reputation": 9227, "user_id": 1830895, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/I8Hvh.jpg?s=128&g=1", "display_name": "Pynchia", "link": "https://stackoverflow.com/users/1830895/pynchia"}, "edited": false, "score": 0, "creation_date": 1449703044, "post_id": 34190785, "comment_id": 56128100, "body": "If you used your own class, you could define your very special increment operation implementing/overriding <code>__iadd__</code>"}, {"owner": {"reputation": 895, "user_id": 3599549, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0e9d89cd6c3aba875fcb67fdf064a218?s=128&d=identicon&r=PG&f=1", "display_name": "Krii", "link": "https://stackoverflow.com/users/3599549/krii"}, "reply_to_user": {"reputation": 101125, "user_id": 16363, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/xv8q9.png?s=128&g=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/16363/mark"}, "edited": false, "score": 0, "creation_date": 1449703062, "post_id": 34190785, "comment_id": 56128104, "body": "@Mark No, I want to prepend text to a list item. That is, <code>x</code> (or rather <code>x[n]</code>) is an item in a list."}, {"owner": {"reputation": 256589, "user_id": 13005, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c4690b9a0df8a4c1e35c088b077942e6?s=128&d=identicon&r=PG", "display_name": "Steve Jessop", "link": "https://stackoverflow.com/users/13005/steve-jessop"}, "edited": false, "score": 0, "creation_date": 1449703280, "post_id": 34190785, "comment_id": 56128174, "body": "@Krii: strings in Python are immutable, so if you want to change (say) the first item in a list named <code>li</code>, then you need to do <code>li[0] = &#39;text&#39; + li[0]</code>. I still don&#39;t understand how you got that <code>TypeError</code>, since if the variable <code>x</code> is a string then you <i>definitely</i> will not get a <code>TypeError</code> from <code>x = &#39;text&#39; + x</code>. If you do want any advice on that you&#39;ll have to show the code."}, {"owner": {"reputation": 895, "user_id": 3599549, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0e9d89cd6c3aba875fcb67fdf064a218?s=128&d=identicon&r=PG&f=1", "display_name": "Krii", "link": "https://stackoverflow.com/users/3599549/krii"}, "reply_to_user": {"reputation": 256589, "user_id": 13005, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c4690b9a0df8a4c1e35c088b077942e6?s=128&d=identicon&r=PG", "display_name": "Steve Jessop", "link": "https://stackoverflow.com/users/13005/steve-jessop"}, "edited": false, "score": 0, "creation_date": 1449703415, "post_id": 34190785, "comment_id": 56128224, "body": "@SteveJessop which gives me the TypeError. As I said in the question."}, {"owner": {"reputation": 256589, "user_id": 13005, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c4690b9a0df8a4c1e35c088b077942e6?s=128&d=identicon&r=PG", "display_name": "Steve Jessop", "link": "https://stackoverflow.com/users/13005/steve-jessop"}, "edited": false, "score": 0, "creation_date": 1449703530, "post_id": 34190785, "comment_id": 56128258, "body": "@Krii: not on my machine. Show the code or it didn&#39;t happen."}, {"owner": {"reputation": 676, "user_id": 108241, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CI8rm.jpg?s=128&g=1", "display_name": "Takis", "link": "https://stackoverflow.com/users/108241/takis"}, "edited": false, "score": 0, "creation_date": 1449703576, "post_id": 34190785, "comment_id": 56128278, "body": "@Krii As Steve said, this should not happen when x is a string. I&#39;d <code>print(type(x))</code> just to be sure."}, {"owner": {"reputation": 256589, "user_id": 13005, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c4690b9a0df8a4c1e35c088b077942e6?s=128&d=identicon&r=PG", "display_name": "Steve Jessop", "link": "https://stackoverflow.com/users/13005/steve-jessop"}, "edited": false, "score": 0, "creation_date": 1449703597, "post_id": 34190785, "comment_id": 56128287, "body": "<code>li = [&#39;bar&#39;]; li[0] = &#39;foo&#39; + li[0]; print(li)</code> -- result is <code>[&#39;foobar&#39;]</code> and no <code>TypeError</code>."}, {"owner": {"reputation": 895, "user_id": 3599549, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0e9d89cd6c3aba875fcb67fdf064a218?s=128&d=identicon&r=PG&f=1", "display_name": "Krii", "link": "https://stackoverflow.com/users/3599549/krii"}, "reply_to_user": {"reputation": 676, "user_id": 108241, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CI8rm.jpg?s=128&g=1", "display_name": "Takis", "link": "https://stackoverflow.com/users/108241/takis"}, "edited": false, "score": 0, "creation_date": 1449703955, "post_id": 34190785, "comment_id": 56128430, "body": "@Takis returns <code>&lt;class &#39;str&#39;&gt;</code>"}, {"owner": {"reputation": 256589, "user_id": 13005, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c4690b9a0df8a4c1e35c088b077942e6?s=128&d=identicon&r=PG", "display_name": "Steve Jessop", "link": "https://stackoverflow.com/users/13005/steve-jessop"}, "edited": false, "score": 1, "creation_date": 1449704224, "post_id": 34190785, "comment_id": 56128534, "body": "Initially <code>a</code> is a string. <code>a = a.split()</code> means it&#39;s a list. <code>a = a[0][1:]</code> means it&#39;s back to being a string again. Then <code>a[0] = </code> throws the error because strings are immutable. You probably meant <code>a = &#39;control&#47;&#39; + a</code>. Top tip: you&#39;re allowed more than one variable ;-)"}, {"owner": {"reputation": 895, "user_id": 3599549, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0e9d89cd6c3aba875fcb67fdf064a218?s=128&d=identicon&r=PG&f=1", "display_name": "Krii", "link": "https://stackoverflow.com/users/3599549/krii"}, "reply_to_user": {"reputation": 256589, "user_id": 13005, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c4690b9a0df8a4c1e35c088b077942e6?s=128&d=identicon&r=PG", "display_name": "Steve Jessop", "link": "https://stackoverflow.com/users/13005/steve-jessop"}, "edited": false, "score": 0, "creation_date": 1449704492, "post_id": 34190785, "comment_id": 56128632, "body": "@SteveJessop That turned out to be a coding error (forgot to add <code>[0]</code> at end). The problem is fixed now."}], "answers": [{"tags": [], "owner": {"reputation": 110538, "user_id": 1219006, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/M1ZlR.jpg?s=128&g=1", "display_name": "jamylak", "link": "https://stackoverflow.com/users/1219006/jamylak"}, "is_accepted": false, "score": 2, "last_activity_date": 1449702676, "creation_date": 1449702676, "answer_id": 34190792, "question_id": 34190785, "link": "https://stackoverflow.com/questions/34190785/python-plus-equals-operator-that-prepends/34190792#34190792", "title": "Python plus-equals operator that prepends", "body": "<p>No there is not a prepend operator.</p>\n"}, {"comments": [{"owner": {"reputation": 895, "user_id": 3599549, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0e9d89cd6c3aba875fcb67fdf064a218?s=128&d=identicon&r=PG&f=1", "display_name": "Krii", "link": "https://stackoverflow.com/users/3599549/krii"}, "edited": false, "score": 1, "creation_date": 1449704802, "post_id": 34190973, "comment_id": 56128743, "body": "I will accept this because it is relevant to the question (as it turns out, the question wasn&#39;t my problem)."}, {"owner": {"reputation": 110538, "user_id": 1219006, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/M1ZlR.jpg?s=128&g=1", "display_name": "jamylak", "link": "https://stackoverflow.com/users/1219006/jamylak"}, "reply_to_user": {"reputation": 895, "user_id": 3599549, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0e9d89cd6c3aba875fcb67fdf064a218?s=128&d=identicon&r=PG&f=1", "display_name": "Krii", "link": "https://stackoverflow.com/users/3599549/krii"}, "edited": false, "score": 0, "creation_date": 1449709241, "post_id": 34190973, "comment_id": 56130226, "body": "@Krii But my 7 word answer technically answered the question"}], "tags": [], "owner": {"reputation": 9227, "user_id": 1830895, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/I8Hvh.jpg?s=128&g=1", "display_name": "Pynchia", "link": "https://stackoverflow.com/users/1830895/pynchia"}, "is_accepted": true, "score": 1, "last_activity_date": 1449733200, "last_edit_date": 1449733200, "creation_date": 1449703580, "answer_id": 34190973, "question_id": 34190785, "link": "https://stackoverflow.com/questions/34190785/python-plus-equals-operator-that-prepends/34190973#34190973", "title": "Python plus-equals operator that prepends", "body": "<p>This may be a solution to what you are looking for.</p>\n\n<p>If you used your own class, you could define your very special increment operation overriding <code>__iadd__</code>:</p>\n\n<pre><code>class My_str(str):\n    def __iadd__(self, other):\n        return other+self\n\nms = My_str('hello')\nms += 'world'\nprint(ms)\n</code></pre>\n\n<p>produces</p>\n\n<pre><code>worldhello\n</code></pre>\n\n<p>So with such elements in a list you could do something like</p>\n\n<pre><code>&gt;&gt;&gt; l = [My_str(i) for i in range(5)]\n&gt;&gt;&gt; l[1] += 'text'\n&gt;&gt;&gt; l\n['0', 'text1', '2', '3', '4']\n</code></pre>\n\n<p>All comments are welcome.</p>\n"}], "owner": {"reputation": 895, "user_id": 3599549, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0e9d89cd6c3aba875fcb67fdf064a218?s=128&d=identicon&r=PG&f=1", "display_name": "Krii", "link": "https://stackoverflow.com/users/3599549/krii"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 742, "favorite_count": 0, "closed_date": 1449740982, "accepted_answer_id": 34190973, "answer_count": 2, "score": 1, "last_activity_date": 1449733200, "creation_date": 1449702616, "last_edit_date": 1449705138, "question_id": 34190785, "link": "https://stackoverflow.com/questions/34190785/python-plus-equals-operator-that-prepends", "closed_reason": "Needs details or clarity", "title": "Python plus-equals operator that prepends", "body": "<p>Is there a variation of the Python <code>+=</code> operator that prepends instead of appending?</p>\n\n<p>I.e. <code>x += 'text'</code>, but instead of <code>x+'text'</code>, <code>'text'+x</code>.</p>\n\n<p><strong>Edit:</strong></p>\n\n<p>I am trying to make a command line in part of a program and I keep getting the error:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"./main.py\", line 15, in &lt;module&gt;\n    a[0] = 'control/'+a[0]\nTypeError: 'str' object does not support item assignment\n</code></pre>\n\n<p>Code snippet:</p>\n\n<p><code>a = a.split()</code></p>\n\n<pre><code># Command Line\n    if (a[0][0:1] == '!') and (len(a[0]) &gt; 1):\n      a = a[0][1:] # remove evoker\n      if a == 'quit': break\n      else:\n        try:\n          a[0] += 'control/'+a[0]\n          subprocess.call(a)\n        except:\n          print(\"That is not a valid command.\")\n</code></pre>\n"}, {"tags": ["java", "python"], "comments": [{"owner": {"reputation": 493, "user_id": 5520728, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/A7cry.png?s=128&g=1", "display_name": "Johnson Steward", "link": "https://stackoverflow.com/users/5520728/johnson-steward"}, "edited": false, "score": 0, "creation_date": 1449704780, "post_id": 34190779, "comment_id": 56128729, "body": "What do you expect? You just ran one <code>readLine()</code>."}, {"owner": {"reputation": 1115, "user_id": 3307217, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/qRBlF.jpg?s=128&g=1", "display_name": "gtnbz2nyt", "link": "https://stackoverflow.com/users/3307217/gtnbz2nyt"}, "edited": false, "score": 0, "creation_date": 1449763325, "post_id": 34190779, "comment_id": 56157277, "body": "Wow now I feel dumb lol I should have known better thanks to you both!"}], "answers": [{"tags": [], "owner": {"reputation": 1115, "user_id": 3307217, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/qRBlF.jpg?s=128&g=1", "display_name": "gtnbz2nyt", "link": "https://stackoverflow.com/users/3307217/gtnbz2nyt"}, "is_accepted": true, "score": 0, "last_activity_date": 1449763509, "creation_date": 1449763509, "answer_id": 34206481, "question_id": 34190779, "link": "https://stackoverflow.com/questions/34190779/getting-python-to-return-more-than-one-value-to-java/34206481#34206481", "title": "Getting Python to return more than one value to Java", "body": "<p>Only one line is being streamed back because there's only one <code>readLine()</code> function being utilized.  A for-loop could be written to search for each additional line or objects could be created for each line you're intending to pass back:</p>\n\n<pre><code>BufferedReader in = new BufferedReader(new InputStreamReader(Option2_Output.getInputStream()));\n            String Option2_Final_1 = new String(in.readLine()); //Line 1\n            String Option2_Final_2 = new String(in.readLine()); //Line 2\n            System.out.println(Option2_Final_1); //Print Line 1\n            System.out.println(Option2_Final); //Print Line 2\n</code></pre>\n"}], "owner": {"reputation": 1115, "user_id": 3307217, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/qRBlF.jpg?s=128&g=1", "display_name": "gtnbz2nyt", "link": "https://stackoverflow.com/users/3307217/gtnbz2nyt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 0, "accepted_answer_id": 34206481, "answer_count": 1, "score": 0, "last_activity_date": 1449763509, "creation_date": 1449702559, "last_edit_date": 1449702802, "question_id": 34190779, "link": "https://stackoverflow.com/questions/34190779/getting-python-to-return-more-than-one-value-to-java", "title": "Getting Python to return more than one value to Java", "body": "<p>I used the information from <a href=\"https://bytes.com/topic/python/insights/949995-three-ways-run-python-programs-java\" rel=\"nofollow\">this link</a> to write the following code below to run a Python script and have it return a single string returned:</p>\n\n<pre><code>public static void Option_2_Output()\n    {\n        Scanner Option2_Input = new Scanner(System.in);\n\n        System.out.println(\"\");\n        System.out.println(\"===============================================\");\n        System.out.println(\"          Testing Means of Two Groups          \");\n        System.out.println(\"===============================================\");\n        System.out.println(\"\");\n\n        String Option2_program = \"python\";\n        String Option2_path = \"C:\\\\PathtoScript\\\\Python_Test.py\";\n\n        try{\n\n            String Option2_datapath;\n            System.out.print(\"Please type the location of your Data : \");\n            Option2_datapath = Option2_Input.next();\n\n            ProcessBuilder Option2_process = new ProcessBuilder(Option2_program,Option2_path,\"\" + Option2_datapath);\n            Process Option2_Output = Option2_process.start();\n\n            BufferedReader in = new BufferedReader(new InputStreamReader(Option2_Output.getInputStream()));\n            String Option2_Final = new String(in.readLine());\n            System.out.println(Option2_Final);\n            }catch(Exception e){\n                System.out.println(e);\n            }\n\n    }\n</code></pre>\n\n<p>The object <code>Option2_Final</code> streams the last printed output from the Python script back as a string. How do I get more than one value back?</p>\n"}, {"tags": ["python", "django", "postgresql"], "comments": [{"owner": {"reputation": 8261, "user_id": 453463, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a5032614561a63651efc89912eb5a9e?s=128&d=identicon&r=PG", "display_name": "cgohlke", "link": "https://stackoverflow.com/users/453463/cgohlke"}, "edited": false, "score": 1, "creation_date": 1449776116, "post_id": 34190760, "comment_id": 56164557, "body": "The command to install psycopg2 using the downloaded wheel file is <code>c:\\python\\python35\\python.exe -m pip install psycopg2-2.6.1-cp35-none-win_amd64.whl</code>"}, {"owner": {"reputation": 380, "user_id": 4135602, "user_type": "registered", "accept_rate": 18, "profile_image": "https://www.gravatar.com/avatar/fa8f29966c338d20e83cfa93c6ad853e?s=128&d=identicon&r=PG&f=1", "display_name": "kbrk", "link": "https://stackoverflow.com/users/4135602/kbrk"}, "reply_to_user": {"reputation": 8261, "user_id": 453463, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a5032614561a63651efc89912eb5a9e?s=128&d=identicon&r=PG", "display_name": "cgohlke", "link": "https://stackoverflow.com/users/453463/cgohlke"}, "edited": false, "score": 0, "creation_date": 1449919325, "post_id": 34190760, "comment_id": 56220780, "body": "this is the answer. thank you very much.."}], "answers": [{"comments": [{"owner": {"reputation": 380, "user_id": 4135602, "user_type": "registered", "accept_rate": 18, "profile_image": "https://www.gravatar.com/avatar/fa8f29966c338d20e83cfa93c6ad853e?s=128&d=identicon&r=PG&f=1", "display_name": "kbrk", "link": "https://stackoverflow.com/users/4135602/kbrk"}, "edited": false, "score": 0, "creation_date": 1449736811, "post_id": 34190917, "comment_id": 56139771, "body": "Thank you James. yes i know that post. It had posted in February.  it seems there is still no python 3.5 support for psycopg2."}], "tags": [], "owner": {"reputation": 156, "user_id": 5661449, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e52056abb80957bbbd7f55bcfa76227?s=128&d=identicon&r=PG&f=1", "display_name": "James J.", "link": "https://stackoverflow.com/users/5661449/james-j"}, "is_accepted": false, "score": 1, "last_activity_date": 1449703616, "last_edit_date": 1449703616, "creation_date": 1449703308, "answer_id": 34190917, "question_id": 34190760, "link": "https://stackoverflow.com/questions/34190760/psycopg2-installation-error-unable-to-find-vcvarsall-bat/34190917#34190917", "title": "psycopg2 installation error: Unable to find vcvarsall.bat", "body": "<p>psycopg2 needs to be compiled various development libraries. On Windows this is usually automated by using some version of Visual Studio -- which is what the vcvarsall.bat file is all about -- and is usually a huge pain. Fortunately, Jason Erickson maintains a Windows port of psycopg2 <a href=\"http://www.stickpeople.com/projects/python/win-psycopg/\" rel=\"nofollow\">here.</a></p>\n\n<p>I see now that you're using Python 3.5, and there doesn't seem to be a release for that version available on that page. Fortunately, there's an answer for that <a href=\"https://stackoverflow.com/questions/28611808/how-to-intall-psycopg2-for-python-3-5\">already on Stack Overflow.</a> (One of the comments says there's not a version for Python 3.5 on the linked page, but that's not true anymore)</p>\n"}], "owner": {"reputation": 380, "user_id": 4135602, "user_type": "registered", "accept_rate": 18, "profile_image": "https://www.gravatar.com/avatar/fa8f29966c338d20e83cfa93c6ad853e?s=128&d=identicon&r=PG&f=1", "display_name": "kbrk", "link": "https://stackoverflow.com/users/4135602/kbrk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1174, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1451329862, "creation_date": 1449702491, "last_edit_date": 1451329862, "question_id": 34190760, "link": "https://stackoverflow.com/questions/34190760/psycopg2-installation-error-unable-to-find-vcvarsall-bat", "title": "psycopg2 installation error: Unable to find vcvarsall.bat", "body": "<p>I'm trying connect my django 1.9 project to postgresql database. First of all i need to install psycopg2. I got my psycopg file from <a href=\"http://www.lfd.uci.edu/~gohlke/pythonlibs/#psycopg\" rel=\"nofollow\">http://www.lfd.uci.edu/~gohlke/pythonlibs/#psycopg</a> . However I could not install, I have an \"Unable to find vcvarsall.bat\" error. </p>\n\n<p>My python version is 3.5.1.</p>\n\n<p>Here is my error;</p>\n\n<pre><code>copying tests\\test_quote.py -&gt; build\\lib.win-amd64-3.5\\psycopg2\\tests\ncopying tests\\test_transaction.py -&gt; build\\lib.win-amd64-3.5\\psycopg2\\tests\ncopying tests\\test_types_basic.py -&gt; build\\lib.win-amd64-3.5\\psycopg2\\tests\ncopying tests\\test_types_extras.py -&gt; build\\lib.win-amd64-3.5\\psycopg2\\tests\n\ncopying tests\\test_with.py -&gt; build\\lib.win-amd64-3.5\\psycopg2\\tests\ncopying tests\\__init__.py -&gt; build\\lib.win-amd64-3.5\\psycopg2\\tests\nSkipping optional fixer: buffer\nSkipping optional fixer: idioms\nSkipping optional fixer: set_literal\nSkipping optional fixer: ws_comma\nrunning build_ext\nbuilding 'psycopg2._psycopg' extension\nerror: Unable to find vcvarsall.bat\n\n----------------------------------------\nCommand \"c:\\python\\python35\\python.exe -c \"import setuptools, tokenize;__file__=\n'C:\\\\Users\\\\User\\\\AppData\\\\Local\\\\Temp\\\\pip-build-4q_3mvan\\\\psycopg2\\\\setup.py';\nexec(compile(getattr(tokenize, 'open', open)(__file__).read().replace('\\r\\n', '\\\nn'), __file__, 'exec'))\" install --record C:\\Users\\User\\AppData\\Local\\Temp\\pip-e\nkz8kaam-record\\install-record.txt --single-version-externally-managed --compile\"\n failed with error code 1 in C:\\Users\\User\\AppData\\Local\\Temp\\pip-build-4q_3mvan\n\\psycopg2\n</code></pre>\n\n<p>Does anyone have an idea ? Thank you.. </p>\n"}, {"tags": ["python", "pygame"], "comments": [{"owner": {"reputation": 45741, "user_id": 744178, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3193139ea494c45e63752504f5ff1f2?s=128&d=identicon&r=PG", "display_name": "jwodder", "link": "https://stackoverflow.com/users/744178/jwodder"}, "edited": false, "score": 0, "creation_date": 1449702804, "post_id": 34190759, "comment_id": 56127999, "body": "Where are you storing the objects?"}, {"owner": {"reputation": 317, "user_id": 4524649, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/70136933c6a9592e4499a93018315698?s=128&d=identicon&r=PG&f=1", "display_name": "ca1ek", "link": "https://stackoverflow.com/users/4524649/ca1ek"}, "reply_to_user": {"reputation": 45741, "user_id": 744178, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3193139ea494c45e63752504f5ff1f2?s=128&d=identicon&r=PG", "display_name": "jwodder", "link": "https://stackoverflow.com/users/744178/jwodder"}, "edited": false, "score": 0, "creation_date": 1449703212, "post_id": 34190759, "comment_id": 56128155, "body": "@jwodder in a group, that I later get a list of the sprites from and iterate on it. I solved my problem by now though."}], "answers": [{"tags": [], "owner": {"reputation": 317, "user_id": 4524649, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/70136933c6a9592e4499a93018315698?s=128&d=identicon&r=PG&f=1", "display_name": "ca1ek", "link": "https://stackoverflow.com/users/4524649/ca1ek"}, "is_accepted": false, "score": 0, "last_activity_date": 1449702843, "creation_date": 1449702843, "answer_id": 34190825, "question_id": 34190759, "link": "https://stackoverflow.com/questions/34190759/how-can-i-remove-an-object-instance-from-within-itself/34190825#34190825", "title": "How can I remove an object instance from within itself", "body": "<p>Okay, I found a solution to this.</p>\n\n<p>In my game loop I did</p>\n\n<pre><code>for projectile in projectile_group.sprites():\n    if projectile.rect.y &lt; 0:\n        projectile.kill()\n</code></pre>\n\n<p>and it kills off any projectiles that are off screen.</p>\n"}], "owner": {"reputation": 317, "user_id": 4524649, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/70136933c6a9592e4499a93018315698?s=128&d=identicon&r=PG&f=1", "display_name": "ca1ek", "link": "https://stackoverflow.com/users/4524649/ca1ek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 134, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1449702843, "creation_date": 1449702490, "question_id": 34190759, "link": "https://stackoverflow.com/questions/34190759/how-can-i-remove-an-object-instance-from-within-itself", "title": "How can I remove an object instance from within itself", "body": "<p>I am making a little game using pygame, and I want to delete objects that have disappeared off screen. What I thought of doing is </p>\n\n<pre><code>class Projectile(pygame.sprite.Sprite):\n    def __init__(self, path, move_speed, x_pos, y_pos):\n        super().__init__()         \n        self.rect = self.image.get_rect()\n\n    def move(self):\n        if self.rect.y &lt; 0:\n            del self\n</code></pre>\n\n<p>but that doesn't work. What should I do?</p>\n"}, {"tags": ["python", "python-2.7"], "answers": [{"tags": [], "owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "is_accepted": true, "score": 0, "last_activity_date": 1449703071, "creation_date": 1449703071, "answer_id": 34190870, "question_id": 34190703, "link": "https://stackoverflow.com/questions/34190703/split-off-the-contents-of-a-variable-after-the-last-space-in-python/34190870#34190870", "title": "Split off the contents of a variable after the last space in python?", "body": "<p>Easy and efficient with <code>str.rsplit</code>.</p>\n\n<pre><code>&gt;&gt;&gt; x = 'this is a test'\n&gt;&gt;&gt; x.rsplit(None, 1)[-1]  # Splits at most once from right on whitespace runs\n'test'\n</code></pre>\n\n<p>Alternate:</p>\n\n<pre><code>&gt;&gt;&gt; x.rpartition(' ')[-1]  # Splits on the first actual space found\n'test'\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 110538, "user_id": 1219006, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/M1ZlR.jpg?s=128&g=1", "display_name": "jamylak", "link": "https://stackoverflow.com/users/1219006/jamylak"}, "edited": false, "score": 0, "creation_date": 1449716489, "post_id": 34192846, "comment_id": 56132156, "body": "Using <code>string.rsplit</code> without <code>maxsplit</code> parameter is the same as <code>string.split</code> without paramaters"}], "tags": [], "owner": {"reputation": 814, "user_id": 3559105, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/d81695e85f6d7e8ed36211d38f10bdc7?s=128&d=identicon&r=PG&f=1", "display_name": "hypersonics", "link": "https://stackoverflow.com/users/3559105/hypersonics"}, "is_accepted": false, "score": 0, "last_activity_date": 1449715505, "creation_date": 1449715505, "answer_id": 34192846, "question_id": 34190703, "link": "https://stackoverflow.com/questions/34190703/split-off-the-contents-of-a-variable-after-the-last-space-in-python/34192846#34192846", "title": "Split off the contents of a variable after the last space in python?", "body": "<pre><code>string = \"this is a test\"\nlastWord = string.rsplit()[-1]\nprint lastWord\n\n'test'\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 110538, "user_id": 1219006, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/M1ZlR.jpg?s=128&g=1", "display_name": "jamylak", "link": "https://stackoverflow.com/users/1219006/jamylak"}, "is_accepted": false, "score": 0, "last_activity_date": 1449716304, "creation_date": 1449716304, "answer_id": 34192968, "question_id": 34190703, "link": "https://stackoverflow.com/questions/34190703/split-off-the-contents-of-a-variable-after-the-last-space-in-python/34192968#34192968", "title": "Split off the contents of a variable after the last space in python?", "body": "<p>The fastest and most efficient way:</p>\n\n<pre><code>&gt;&gt;&gt; \"this is a test\".rpartition(' ')[-1]\n'test'\n</code></pre>\n\n<hr>\n\n<pre><code>&gt;&gt;&gt; help(str.rpartition)\n\nHelp on method_descriptor:\n\nrpartition(...)\n    S.rpartition(sep) -&gt; (head, sep, tail)\n\n    Search for the separator sep in S, starting at the end of S, and return\n    the part before it, the separator itself, and the part after it.  If the\n    separator is not found, return two empty strings and S.\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 5590452, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b466da2339d9e452722a0aef72c3153?s=128&d=identicon&r=PG&f=1", "display_name": "Top Cat", "link": "https://stackoverflow.com/users/5590452/top-cat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 32, "favorite_count": 0, "accepted_answer_id": 34190870, "answer_count": 3, "score": 0, "last_activity_date": 1449716304, "creation_date": 1449702235, "last_edit_date": 1449714481, "question_id": 34190703, "link": "https://stackoverflow.com/questions/34190703/split-off-the-contents-of-a-variable-after-the-last-space-in-python", "title": "Split off the contents of a variable after the last space in python?", "body": "<p>I'm writing a program in python that'll split off the contents after the last space in a string. e.g. if a user enters \"this is a test\", I want it to return \"test\". I'm stuck on how to do this?</p>\n"}, {"tags": ["python", "search", "filenames", "shutil"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 2, "creation_date": 1449701868, "post_id": 34190597, "comment_id": 56127592, "body": "Did you mean <code>row.strip()</code>?"}, {"owner": {"reputation": 1, "user_id": 5661423, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153422480269833/picture?type=large", "display_name": "Harley", "link": "https://stackoverflow.com/users/5661423/harley"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1449704318, "post_id": 34190597, "comment_id": 56128567, "body": "That was it. Thanks!"}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 5653147, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/44d0ce3315f66e1a105e69921d411bf6?s=128&d=identicon&r=PG&f=1", "display_name": "TheWayYouSeeIt", "link": "https://stackoverflow.com/users/5653147/thewayyouseeit"}, "is_accepted": false, "score": -1, "last_activity_date": 1449703223, "last_edit_date": 1449703223, "creation_date": 1449702865, "answer_id": 34190830, "question_id": 34190597, "link": "https://stackoverflow.com/questions/34190597/locating-files-by-name-for-copying-elsewhere/34190830#34190830", "title": "Locating files by name for copying elsewhere", "body": "<p>Use array to create a list of files.</p>\n\n<pre><code>import os\nimport sys\nimport glob\nimport shutil\n\n\ndef file_names(self,filepattern,dir):\n    os.chdir(dir)\n    count = len(glob.glob(filepattern))\n    file_list = []\n    for line in sorted(glob.glob(filepattern)):\n        line = line.split(\"/\")\n        line = line[-1]\n        file_list.append(line)\n    return file_list \n</code></pre>\n\n<p>The loop over the array list to compare.</p>\n"}], "owner": {"reputation": 1, "user_id": 5661423, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153422480269833/picture?type=large", "display_name": "Harley", "link": "https://stackoverflow.com/users/5661423/harley"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 49, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1449703223, "creation_date": 1449701785, "question_id": 34190597, "link": "https://stackoverflow.com/questions/34190597/locating-files-by-name-for-copying-elsewhere", "title": "Locating files by name for copying elsewhere", "body": "<p>New to Python...\nI'm trying to have python take a text file of file names (new name on each row), and store them as strings ...</p>\n\n<p>i.e</p>\n\n<pre><code>import os, shutil       \nfiles_to_find = []\nwith open('C:\\\\pathtofile\\\\lostfiles.txt') as fh:\n    for row in fh:\n        files_to_find.append(row.strip)\n</code></pre>\n\n<p>...in order to search for these files in directories and then copy any found files somewhere else...</p>\n\n<pre><code>for root, dirs, files in os.walk('D:\\\\'):\nfor _file in files:\n    if _file in files_to_find:\n       print (\"Found file in: \" + str(root))\n        shutil.copy(os.path.abspath(root + '/' + _file), 'C:\\\\destination')\n</code></pre>\n\n<p>print (\"process completed\")</p>\n\n<p>Despite knowing these files exist, the script runs without any errors but without finding any files. </p>\n\n<p>I added... </p>\n\n<pre><code>print (files_to_find)\n</code></pre>\n\n<p>...after the first block of code to see if it was finding anything and saw screeds of \"built-in method strip of str object at 0x00000000037FC730>, \n\n<p>Does this tell me it's not successfully creating strings to compare file names against? I wonder where I'm going wrong?</p>\n"}, {"tags": ["python", "parameters"], "comments": [{"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 2, "creation_date": 1449701717, "post_id": 34190531, "comment_id": 56127526, "body": "<code>os.environ</code> ? I guess ?"}, {"owner": {"reputation": 1243, "user_id": 1377526, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e5ebfaa05c01b33ac9abb9b4b17fdd60?s=128&d=identicon&r=PG", "display_name": "cmp", "link": "https://stackoverflow.com/users/1377526/cmp"}, "edited": false, "score": 0, "creation_date": 1449701792, "post_id": 34190531, "comment_id": 56127557, "body": "You want to read an environment variable or pass on in to the program?"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1449702148, "post_id": 34190531, "comment_id": 56127705, "body": "What are you actually doing?"}, {"owner": {"reputation": 153, "user_id": 1698275, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/542b5d2868f4b3b76c350ef708b8a5ea?s=128&d=identicon&r=PG", "display_name": "user44552", "link": "https://stackoverflow.com/users/1698275/user44552"}, "edited": false, "score": 0, "creation_date": 1449704618, "post_id": 34190531, "comment_id": 56128673, "body": "From a galaxy like environment, I have few environmental variables passed eg g_folder and assembly. I need these parameters in my plugin ."}], "answers": [{"tags": [], "owner": {"reputation": 95, "user_id": 1827657, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/6edbe39b6a77348177e98ea434125451?s=128&d=identicon&r=PG", "display_name": "staticFlow", "link": "https://stackoverflow.com/users/1827657/staticflow"}, "is_accepted": false, "score": 0, "last_activity_date": 1449701883, "creation_date": 1449701883, "answer_id": 34190624, "question_id": 34190531, "link": "https://stackoverflow.com/questions/34190531/passing-environmental-variables-as-parameters/34190624#34190624", "title": "Passing environmental variables as parameters", "body": "<p>here's the link to the os.environ module that should accomplish what you are looking for. <a href=\"https://docs.python.org/2/library/os.html#os.environ\" rel=\"nofollow\">https://docs.python.org/2/library/os.html#os.environ</a></p>\n"}, {"comments": [{"owner": {"reputation": 153, "user_id": 1698275, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/542b5d2868f4b3b76c350ef708b8a5ea?s=128&d=identicon&r=PG", "display_name": "user44552", "link": "https://stackoverflow.com/users/1698275/user44552"}, "edited": false, "score": 0, "creation_date": 1449704656, "post_id": 34190721, "comment_id": 56128685, "body": "Thanks. I did think of this first but this did not work. I tried the os.environ.copy to call the parameters to my subprocess but that didnt pass the parameter."}], "tags": [], "owner": {"reputation": 676, "user_id": 108241, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CI8rm.jpg?s=128&g=1", "display_name": "Takis", "link": "https://stackoverflow.com/users/108241/takis"}, "is_accepted": false, "score": 1, "last_activity_date": 1449702332, "creation_date": 1449702332, "answer_id": 34190721, "question_id": 34190531, "link": "https://stackoverflow.com/questions/34190531/passing-environmental-variables-as-parameters/34190721#34190721", "title": "Passing environmental variables as parameters", "body": "<p>I would translate this to Python as:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>import os\n\ng_folder = os.environ['g_folder']\nassembly_name = os.environ['genome_assembly_name']\ngenome_seq = os.path.join(g_folder, assembly_name + '.fa')\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 86481, "user_id": 2411802, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/RA92x.jpg?s=128&g=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/2411802/alexander"}, "is_accepted": true, "score": 1, "last_activity_date": 1449702395, "creation_date": 1449702395, "answer_id": 34190732, "question_id": 34190531, "link": "https://stackoverflow.com/questions/34190531/passing-environmental-variables-as-parameters/34190732#34190732", "title": "Passing environmental variables as parameters", "body": "<pre><code>import os\n\nenv_name = 'g_folder'\nassembly_name = 'genome_assembly_name'\n\ng = os.getenv(env_name)\nassembly = os.getenv(assembly_name)\n\nfile_name = os.path.join(g, assembly) + \".fa\"\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "is_accepted": false, "score": 0, "last_activity_date": 1449702557, "creation_date": 1449702557, "answer_id": 34190777, "question_id": 34190531, "link": "https://stackoverflow.com/questions/34190531/passing-environmental-variables-as-parameters/34190777#34190777", "title": "Passing environmental variables as parameters", "body": "<pre><code>os.system(\"some.exe.bin {genome_assembly_name}\".format(**os.environ)\n</code></pre>\n\n<p>is yet another way of doing this ... </p>\n"}], "owner": {"reputation": 153, "user_id": 1698275, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/542b5d2868f4b3b76c350ef708b8a5ea?s=128&d=identicon&r=PG", "display_name": "user44552", "link": "https://stackoverflow.com/users/1698275/user44552"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "accepted_answer_id": 34190732, "answer_count": 4, "score": 0, "last_activity_date": 1449702557, "creation_date": 1449701540, "last_edit_date": 1449701658, "question_id": 34190531, "link": "https://stackoverflow.com/questions/34190531/passing-environmental-variables-as-parameters", "title": "Passing environmental variables as parameters", "body": "<p>I need to pass few environmental variables as parameters that can do some job. </p>\n\n<p>Example: In Perl, it would be something like this</p>\n\n<pre><code>my $g_folder = $ENV{'g_folder'};\nmy $assembly_name = $ENV{'genome_assembly_name'};\n\nmy $genome_seq = $g_folder . '/' . $assembly_name .\".fa\";\n</code></pre>\n\n<p>Is there a simple way to do this in Python. Any help is appreciated. Thanks.</p>\n"}, {"tags": ["python", "fonts", "pygame", "exit"], "comments": [{"owner": {"reputation": 1, "user_id": 5562682, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2c2031d5f969ce03388a7702f59c009?s=128&d=identicon&r=PG&f=1", "display_name": "nickmont", "link": "https://stackoverflow.com/users/5562682/nickmont"}, "edited": false, "score": 0, "creation_date": 1449701465, "post_id": 34190501, "comment_id": 56127421, "body": "The error actually is &#39;error: display Surface quit&#39; not font not initialized, sorry"}], "answers": [{"tags": [], "owner": {"reputation": 91141, "user_id": 142637, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9SiZh.png?s=128&g=1", "display_name": "sloth", "link": "https://stackoverflow.com/users/142637/sloth"}, "is_accepted": false, "score": 0, "last_activity_date": 1449742551, "creation_date": 1449742551, "answer_id": 34199135, "question_id": 34190501, "link": "https://stackoverflow.com/questions/34190501/quitting-pygame-without-quitting-idle/34199135#34199135", "title": "Quitting pygame without quitting idle", "body": "<p>The error is raised because your code tries to draw to the screen after you called <code>pygame.quit()</code>.</p>\n\n<p>Instead of </p>\n\n<pre><code>if event.type == pygame.KEYDOWN:\n    if event.key == pygame.K_x:\n        pygame.quit()\n        quit()\n</code></pre>\n\n<p>just use</p>\n\n<pre><code>if event.type == pygame.KEYDOWN:\n    if event.key == pygame.K_x:\n        return\n</code></pre>\n\n<p>to exit your mainloop.</p>\n"}], "owner": {"reputation": 1, "user_id": 5562682, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2c2031d5f969ce03388a7702f59c009?s=128&d=identicon&r=PG&f=1", "display_name": "nickmont", "link": "https://stackoverflow.com/users/5562682/nickmont"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 182, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1449742551, "creation_date": 1449701395, "question_id": 34190501, "link": "https://stackoverflow.com/questions/34190501/quitting-pygame-without-quitting-idle", "title": "Quitting pygame without quitting idle", "body": "<pre><code>import pygame\nimport sys\n\npygame.init()\n\ndisplayHeight = 600\ndisplayWidth = 800\n\ngameDisplay = pygame.display.set_mode((displayWidth,displayHeight))\npygame.display.set_caption('Pythoral Reef')\n\ngreen = (0, 100, 0)\nwhite = (255,255,255)\nblue = (39, 64, 139)\nblack = (0,0,0)\n\nclock = pygame.time.Clock()\nimg = pygame.image.load('coral reef.jpg')\n\nplay = False\ninstructions = False\ndone = False\n\ndef checkClick():\n    global instructions, play, done\n    if pygame.mouse.get_pos()[0] &gt; 50 and pygame.mouse.get_pos()[0] &lt; 250 and pygame.mouse.get_pos()[1] &gt; 400 and pygame.mouse.get_pos()[1] &lt; 500:\n        instructions = True\n    elif pygame.mouse.get_pos()[0] &gt; 300 and pygame.mouse.get_pos()[0] &lt; 500 and pygame.mouse.get_pos()[1] &gt; 400 and pygame.mouse.get_pos()[1] &lt; 500:\n        play = True\n    elif pygame.mouse.get_pos()[0] &gt; 550 and pygame.mouse.get_pos()[0] &lt; 750 and pygame.mouse.get_pos()[1] &gt; 400 and pygame.mouse.get_pos()[1] &lt; 500:\n        done = True\n\ndef evalOption():\n    global instructions, play, done, gameExit\n    if instructions == True:\n        print 'instructions'\n        instructions = False\n\n    elif play == True:\n        pygame.display.quit()\n\n    elif done == True:\n        pygame.quit()\n        sys.exit()\n\ndef textObjects(text, font, color):\n    textSurface = font.render(text, True, color)\n    return textSurface, textSurface.get_rect()\n\ndef messageDisplay(text):\n    largeText = pygame.font.Font('freesansbold.ttf', 90)\n    TextSurf, TextRect = textObjects(text, largeText, blue)    \n    TextRect.center = ((displayWidth/2, displayHeight/4))\n    gameDisplay.blit(TextSurf, TextRect)\n\n    pygame.display.update()\n\ndef optionsDisplay(x, text, size):\n    smallText = pygame.font.Font('freesansbold.ttf', size)\n    TextSurf, TextRect = textObjects(text, smallText, white)    \n    TextRect.center = ((x, 450))\n    gameDisplay.blit(TextSurf, TextRect)\n\n    pygame.display.update()\n\ndef nameDisplay(x, y, text):\n    smallText = pygame.font.Font('freesansbold.ttf', 35)\n    TextSurf, TextRect = textObjects(text, smallText, green)    \n    TextRect.center = ((x, y))\n    gameDisplay.blit(TextSurf, TextRect)\n\n    pygame.display.update()\n\ndef rectangle(color, x, y):\n    pygame.draw.rect(gameDisplay, color, [x, y, 200, 100])\n\n\ndef menu():\n    gameExit = False\n    if gameExit == False:\n        gameDisplay.blit(img, [0, 0])\n    while not gameExit:\n        for event in pygame.event.get():\n            if event.type == pygame.KEYDOWN:\n                if event.key == pygame.K_x:\n                    pygame.quit()\n                    quit()\n            elif event.type == pygame.MOUSEBUTTONDOWN:\n                if event.button == 1:\n                    checkClick()\n                    evalOption()\n\n        messageDisplay('PYTHORAL REEF')\n        rectangle(black, 50, 400)\n        rectangle(black, 300, 400)\n        rectangle(black, 550, 400)\n        optionsDisplay(150, 'INSTRUCTIONS', 22)\n        optionsDisplay(400, 'PLAY', 35)\n        optionsDisplay(650, 'QUIT', 35)\n        nameDisplay(displayWidth/2, 260, 'NICK MONTELEONE')\n        nameDisplay(displayWidth/2, 225, 'BY')\n        nameDisplay(displayWidth/2, 295, '2015')\n        pygame.display.update\n\nmenu()\npygame.quit()\n</code></pre>\n\n<p>This is my code for a menu screen for a text adventure game that I am making. I wanted to use this as the menu screen so when you click play it will exit out of pygame and return to the python shell to run the game. However, when I quit in the function evalOption() by clicking on play, it will print error: font not initialized as if the program is still trying to run. Does anyone know how to fix this so that I can quit out of pygame, but still run a module in python. This program will eventually be imported into my real text adventure module. Here is the link to the coral reef background if needed: <a href=\"https://www.google.com/search?q=coral+reef&amp;espv=2&amp;biw=1440&amp;bih=799&amp;source=lnms&amp;tbm=isch&amp;sa=X&amp;ved=0ahUKEwix_OmD7s_JAhXGWD4KHXW-CrsQ_AUIBigB#imgrc=_dFX3xqK97FGNM%3A\" rel=\"nofollow\">https://www.google.com/search?q=coral+reef&amp;espv=2&amp;biw=1440&amp;bih=799&amp;source=lnms&amp;tbm=isch&amp;sa=X&amp;ved=0ahUKEwix_OmD7s_JAhXGWD4KHXW-CrsQ_AUIBigB#imgrc=_dFX3xqK97FGNM%3A</a></p>\n\n<p>Any help would be much appreciated!</p>\n"}, {"tags": ["python", "amazon-ec2", "flask", "mod-wsgi", "cx-oracle"], "answers": [{"tags": [], "owner": {"reputation": 562, "user_id": 881173, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/f01f365c0a0eac6c09dca736f3d56113?s=128&d=identicon&r=PG", "display_name": "USS1994", "link": "https://stackoverflow.com/users/881173/uss1994"}, "is_accepted": true, "score": 0, "last_activity_date": 1449762686, "creation_date": 1449762686, "answer_id": 34206204, "question_id": 34190482, "link": "https://stackoverflow.com/questions/34190482/hosting-a-python-flask-app-on-aws-ubuntu-ec2-using-cx-oracle-and-mod-wsgi/34206204#34206204", "title": "Hosting a Python Flask App on AWS Ubuntu (EC2) using cx_Oracle and mod_wsgi", "body": "<p>My wsgi is configured to only run the actual Flask app itself, aka, the code contained within <code>app.run()</code>, therefore the <code>connectToDB()</code> function never actually runs when wsgi creates the application.</p>\n\n<p>Rather than fixing this in my wsgi config, I used flask's <a href=\"http://flask.pocoo.org/docs/0.10/api/#flask.Flask.before_request\" rel=\"nofollow\">@app.before_request()</a> and <a href=\"http://flask.pocoo.org/docs/0.10/api/#flask.Flask.teardown_request\" rel=\"nofollow\">@app.teardown_request</a> annotations to create and destroy the DB connection.</p>\n\n<p>The changes in code:</p>\n\n<pre><code>@app.before_request()\ndef connectToDB():\n    ....\n\n@app.teardown_request()\ndef closeConnection(e):\n    ....\n</code></pre>\n"}], "owner": {"reputation": 562, "user_id": 881173, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/f01f365c0a0eac6c09dca736f3d56113?s=128&d=identicon&r=PG", "display_name": "USS1994", "link": "https://stackoverflow.com/users/881173/uss1994"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 340, "favorite_count": 1, "accepted_answer_id": 34206204, "answer_count": 1, "score": 0, "last_activity_date": 1449762686, "creation_date": 1449701322, "question_id": 34190482, "link": "https://stackoverflow.com/questions/34190482/hosting-a-python-flask-app-on-aws-ubuntu-ec2-using-cx-oracle-and-mod-wsgi", "title": "Hosting a Python Flask App on AWS Ubuntu (EC2) using cx_Oracle and mod_wsgi", "body": "<p>I'm trying to host a simple Python Flask website that connects to an Oracle DB.</p>\n\n<p>So far I've managed to install cx_Oracle (and the Oracle Client and SDK) on the Ubuntu host and host the Flask app successfully using Apache2 and mod_wsgi.</p>\n\n<p>I followed this guide to install cx_Oracle: <a href=\"https://blogs.oracle.com/opal/entry/configuring_python_cx_oracle_and\" rel=\"nofollow\">https://blogs.oracle.com/opal/entry/configuring_python_cx_oracle_and</a>\nI followed this tutorial to host: \n<a href=\"http://blog.garethdwyer.co.za/2013/07/getting-simple-flask-app-running-on.html\" rel=\"nofollow\">http://blog.garethdwyer.co.za/2013/07/getting-simple-flask-app-running-on.html</a></p>\n\n<p>The entire application functions perfectly when run locally from the instance. I've used x-forwarding and firefox to test this.</p>\n\n<p>However, when I try to host publicly, running through wsgi, it can load the flask app, but fails when asked to access the Oracle database. I can't get error logs, since the Apache logs only show what I manually print out through Python. (If anyone has a fix for THAT, please tell).</p>\n\n<p>I've spent far too much time trying to host - this should be much simpler than it is. Solutions?</p>\n\n<p><strong>My directory structure</strong></p>\n\n<pre><code>-&gt;/var/www/SACK\n    -&gt;app.py\n    -&gt;app.wsgi\n    -&gt;satic/\n    -&gt;templates/\n-&gt;/etc/apache2/sites-available\n    -&gt;sitename.com.config\n-&gt;/opt/oracle/instant_client_12_1\n    -&gt;... Oracle client stuff. SDK included.\n</code></pre>\n\n<p><strong>app.py</strong></p>\n\n<pre><code>app = Flask(__name__)\n\n...\n\ndef connectToDB():\n    ip = '...'\n    port = ...\n    SID = '...'\n\n    dsn_tns = cx_Oracle.makedsn(ip, port, SID)\n    global connection \n    connection = cx_Oracle.connect('...', '...', dsn_tns)\n\n    print \"connection successful\"\n    global cursor \n    cursor = connection.cursor()\n\n\ndef closeConnection():\n    cursor.close()\n    connection.close()\n    print \"connection closed\"\n\ndef main():\n    connectToDB()\n    app.run()\n    closeConnection()\n\nif __name__ == '__main__':\n    main()\n</code></pre>\n\n<p>From those guides, here is how my app is set up for wsgi:</p>\n\n<p><strong>app.wsgi</strong></p>\n\n<pre><code>import sys\nsys.path.insert(0, '/var/www/SACK')\n\nfrom app import app as application\n</code></pre>\n\n<p>Site Config:</p>\n\n<p><strong>sitename.com.config</strong></p>\n\n<pre><code>&lt;VirtualHost *:80&gt;\n         WSGIDaemonProcess SACK\n     WSGIScriptAlias / /var/www/SACK/app.wsgi\n\n     &lt;Directory /var/www/SACK&gt;\n            WSGIProcessGroup SACK\n        WSGIApplicationGroup %{GLOBAL}\n        Order deny,allow\n        Allow from all\n     &lt;/Directory&gt;\nLogLevel info\nErrorLog \"/var/log/apache2/error.log\"\nCustomLog \"/var/log/apache2/access.log\" combine\n&lt;/VirtualHost&gt;\n</code></pre>\n"}, {"tags": ["python", "mysql", "python-3.x", "transactions", "mysql-connector-python"], "answers": [{"tags": [], "owner": {"reputation": 15140, "user_id": 1126971, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/738f6908cdcc3651abf6293370c59f97?s=128&d=identicon&r=PG", "display_name": "John Smith Optional", "link": "https://stackoverflow.com/users/1126971/john-smith-optional"}, "is_accepted": true, "score": 0, "last_activity_date": 1449704035, "creation_date": 1449704035, "answer_id": 34191052, "question_id": 34190470, "link": "https://stackoverflow.com/questions/34190470/why-wont-start-transaction-set-the-transaction-isolation-level/34191052#34191052", "title": "Why won&#39;t start_transaction set the transaction isolation level?", "body": "<p>It seems I found the answer to my own question.</p>\n\n<p>This is because</p>\n\n<pre><code>select @@session.tx_isolation\n</code></pre>\n\n<p>returns the \"session transaction isolation\", which actually is not always the current transaction isolation level. If you issue a</p>\n\n<pre><code>SET TRANSACTION ISOLATION LEVEL SERIALIZABLE\n</code></pre>\n\n<p>before a </p>\n\n<pre><code>START TRANSACTION\n</code></pre>\n\n<p>the transaction will be SERIALIZABLE, but the @@session.tx_isolation remains the same.</p>\n\n<p>The \"session transaction isolation\" seems to be a default value for transactions when you don't specify the isolation before starting a transaction.</p>\n\n<p>They say here that it's impossible to find out the current transaction isolation level:</p>\n\n<p><a href=\"https://bugs.mysql.com/bug.php?id=53341\" rel=\"nofollow\">https://bugs.mysql.com/bug.php?id=53341</a></p>\n"}, {"tags": [], "owner": {"reputation": 138098, "user_id": 1695906, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/638d2ec6b52f3db1583890be23d74cc6?s=128&d=identicon&r=PG", "display_name": "Michael - sqlbot", "link": "https://stackoverflow.com/users/1695906/michael-sqlbot"}, "is_accepted": false, "score": 1, "last_activity_date": 1449721391, "creation_date": 1449721391, "answer_id": 34193651, "question_id": 34190470, "link": "https://stackoverflow.com/questions/34190470/why-wont-start-transaction-set-the-transaction-isolation-level/34193651#34193651", "title": "Why won&#39;t start_transaction set the transaction isolation level?", "body": "<pre><code>SELECT TRX_ISOLATION_LEVEL\n  FROM information_schema.innodb_trx\n WHERE TRX_MYSQL_THREAD_ID = CONNECTION_ID();\n</code></pre>\n\n<p>This should give you your current transaction's isolation level.  However, unless you <code>START TRANSACTION WITH CONSISTENT SNAPSHOT;</code> the transaction won't likely appear here until after InnoDB has seen you run at least one query.</p>\n"}], "owner": {"reputation": 15140, "user_id": 1126971, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/738f6908cdcc3651abf6293370c59f97?s=128&d=identicon&r=PG", "display_name": "John Smith Optional", "link": "https://stackoverflow.com/users/1126971/john-smith-optional"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 549, "favorite_count": 0, "accepted_answer_id": 34191052, "answer_count": 2, "score": 0, "last_activity_date": 1449721391, "creation_date": 1449701272, "last_edit_date": 1449702201, "question_id": 34190470, "link": "https://stackoverflow.com/questions/34190470/why-wont-start-transaction-set-the-transaction-isolation-level", "title": "Why won&#39;t start_transaction set the transaction isolation level?", "body": "<p>The <a href=\"https://dev.mysql.com/doc/connector-python/en/connector-python-api-mysqlconnection-start-transaction.html\" rel=\"nofollow\">start_transaction</a> method of the MySQLConnection class of <code>mysql-connector-python</code> doesn't seem to work as expected.</p>\n\n<pre><code>&gt;&gt;&gt; from mysql.connector import connect\n&gt;&gt;&gt; conn = connect(user = 'john', unix_socket = '/tmp/mysql.sock', database='db7')\n&gt;&gt;&gt; cur = conn.cursor()\n&gt;&gt;&gt; cur.execute(\"select @@session.tx_isolation\")\n&gt;&gt;&gt; cur.fetchone()\n('REPEATABLE-READ',)\n&gt;&gt;&gt; cur.close()\nTrue\n&gt;&gt;&gt; conn.start_transaction(isolation_level = 'SERIALIZABLE')\n&gt;&gt;&gt; cur = conn.cursor()\n&gt;&gt;&gt; cur.execute(\"select @@session.tx_isolation\")\n&gt;&gt;&gt; cur.fetchone()\n('REPEATABLE-READ',)\n</code></pre>\n\n<p>The isolation level remains REPEATABLE-READ despite setting the isolation level to 'SERIALIZABLE' in the <code>start_transaction</code> call.\nAm I missing something?</p>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 86481, "user_id": 2411802, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/RA92x.jpg?s=128&g=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/2411802/alexander"}, "edited": false, "score": 0, "creation_date": 1449701618, "post_id": 34190417, "comment_id": 56127483, "body": "<a href=\"http://stackoverflow.com/questions/14861023/resampling-minute-data\" title=\"resampling minute data\">stackoverflow.com/questions/14861023/resampling-minute-data</a>"}, {"owner": {"reputation": 104532, "user_id": 653364, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/7a7a675bc479a30c1389d4c64f612a95?s=128&d=identicon&r=PG", "display_name": "joris", "link": "https://stackoverflow.com/users/653364/joris"}, "edited": false, "score": 0, "creation_date": 1453738265, "post_id": 34190417, "comment_id": 57722191, "body": "Sorry, this is still not clear. How do you want to keep the frequency hourly, but do an aggregation? Can you show an example input and desired output?"}, {"owner": {"reputation": 416, "user_id": 86202, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/f2cd77a6d2133ca3ae5b4353c4047577?s=128&d=identicon&r=PG", "display_name": "PatternMatching", "link": "https://stackoverflow.com/users/86202/patternmatching"}, "edited": false, "score": 0, "creation_date": 1453739463, "post_id": 34190417, "comment_id": 57723009, "body": "Edited.  I do not want to &#39;do&#39; an aggregation on the data.  I only thought naively that a count would help abstract my criteria for discarding."}], "answers": [{"comments": [{"owner": {"reputation": 416, "user_id": 86202, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/f2cd77a6d2133ca3ae5b4353c4047577?s=128&d=identicon&r=PG", "display_name": "PatternMatching", "link": "https://stackoverflow.com/users/86202/patternmatching"}, "edited": false, "score": 0, "creation_date": 1453737079, "post_id": 34995978, "comment_id": 57721397, "body": "Thanks for your response.  Question was very poorly worded and I&#39;ve edited to attempt to be more clear.  I apologize."}], "tags": [], "owner": {"reputation": 104532, "user_id": 653364, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/7a7a675bc479a30c1389d4c64f612a95?s=128&d=identicon&r=PG", "display_name": "joris", "link": "https://stackoverflow.com/users/653364/joris"}, "is_accepted": false, "score": 4, "last_activity_date": 1453741500, "last_edit_date": 1453741500, "creation_date": 1453735008, "answer_id": 34995978, "question_id": 34190417, "link": "https://stackoverflow.com/questions/34190417/truncating-hourly-pandas-series-to-be-full-days-only/34995978#34995978", "title": "Truncating hourly Pandas Series to be full days only", "body": "<p>You can do this with a groupby and filter on groups that are not complete. To check for completeness, I first reindexed the data and then checked if there are NaN values:</p>\n\n<pre><code>In [10]: hourly_data = pd.Series(np.random.randn(72), index=pd.date_range('2016-01-01 04:00', periods=72, freq='H'))\n\nIn [11]: new_idx = pd.date_range(hourly_data.index[0].date(), hourly_data.index[-1].date() + pd.Timedelta('1 day'), freq='H')\n\nIn [12]: hourly_data.reindex(new_idx)\nOut[12]:\n2016-01-01 00:00:00         NaN\n2016-01-01 01:00:00         NaN\n2016-01-01 02:00:00         NaN\n2016-01-01 03:00:00         NaN\n2016-01-01 04:00:00   -0.941332\n2016-01-01 05:00:00    1.802739\n2016-01-01 06:00:00    0.798968\n2016-01-01 07:00:00   -0.444979\n                         ...\n2016-01-04 17:00:00         NaN\n2016-01-04 18:00:00         NaN\n2016-01-04 19:00:00         NaN\n2016-01-04 20:00:00         NaN\n2016-01-04 21:00:00         NaN\n2016-01-04 22:00:00         NaN\n2016-01-04 23:00:00         NaN\n2016-01-05 00:00:00         NaN\nFreq: H, dtype: float64\n</code></pre>\n\n<p>This resulted in a timeseries that includes all hours of the dates that are present in the timeseries. This way, we can check if a date was complete by checking if there are NaN values for that date (this method should work for DST transitions), and filter with this criterion:</p>\n\n<pre><code>In [13]: hourly_data.reindex(new_idx).groupby(lambda x: x.date()).filter(lambda x: x.isnull().sum() == 0)\nOut[13]:\n2016-01-02 00:00:00   -1.231445\n2016-01-02 01:00:00    2.371690\n2016-01-02 02:00:00   -0.695448\n2016-01-02 03:00:00    0.745308\n2016-01-02 04:00:00    0.814579\n2016-01-02 05:00:00    1.345674\n2016-01-02 06:00:00   -1.491470\n2016-01-02 07:00:00    0.407182\n                         ...\n2016-01-03 16:00:00   -0.742151\n2016-01-03 17:00:00    0.677229\n2016-01-03 18:00:00    0.832271\n2016-01-03 19:00:00   -0.183729\n2016-01-03 20:00:00    1.938594\n2016-01-03 21:00:00   -0.816370\n2016-01-03 22:00:00    1.745757\n2016-01-03 23:00:00    0.223487\nFreq: H, dtype: float64\n</code></pre>\n\n<hr>\n\n<p><strong>ORIGINAL ANSWER</strong>\nYou can do this with <code>resample</code> by providing a custom function, and in that function you can then specify that NaN values should not be skipped.</p>\n\n<p>Short answer:</p>\n\n<pre><code>hist_data.resample('D', how=lambda x: x.mean(skipna=False))\n</code></pre>\n\n<p>if the missing hours are already present as NaNs. Otherwise, you can first resample it to a regular hourly series:</p>\n\n<pre><code>hist_data.resample('H').resample('D', how=lambda x: x.mean(skipna=False))\n</code></pre>\n\n<hr>\n\n<p>Long answer with an example. With some dummy data (and I insert a NaN in one of the days):</p>\n\n<pre><code>In [77]: hist_data = pd.Series(np.random.randn(72), index=pd.date_range('2016-01-01', periods=72, freq='H'))\n\nIn [78]: hist_data\nOut[78]:\n2016-01-01 00:00:00   -0.717624\n2016-01-01 01:00:00    0.029151\n2016-01-01 02:00:00    0.535843\n                         ...\n2016-01-03 21:00:00    0.659923\n2016-01-03 22:00:00   -1.085640\n2016-01-03 23:00:00    0.571347\nFreq: H, dtype: float64\n\nIn [80]: hist_data.iloc[30] = np.nan\n</code></pre>\n\n<p>With <code>count</code> you can see that there is indeed one missing value for the second day:</p>\n\n<pre><code>In [81]: hist_data.resample('D', how='count')\nOut[81]:\n2016-01-01    24\n2016-01-02    23\n2016-01-03    24\nFreq: D, dtype: int64\n</code></pre>\n\n<p>By default, <code>'mean'</code> will ignore this NaN value:</p>\n\n<pre><code>In [83]: hist_data.resample('D', how='mean')\nOut[83]:\n2016-01-01    0.106537\n2016-01-02   -0.112774\n2016-01-03   -0.292248\nFreq: D, dtype: float64\n</code></pre>\n\n<p>But you can change this behaviour with the <code>skipna</code> keyword argument:</p>\n\n<pre><code>In [82]: hist_data.resample('D', how=lambda x: x.mean(skipna=False))\nOut[82]:\n2016-01-01    0.106537\n2016-01-02         NaN\n2016-01-03   -0.292248\nFreq: D, dtype: float64\n</code></pre>\n"}], "owner": {"reputation": 416, "user_id": 86202, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/f2cd77a6d2133ca3ae5b4353c4047577?s=128&d=identicon&r=PG", "display_name": "PatternMatching", "link": "https://stackoverflow.com/users/86202/patternmatching"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 777, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1453741500, "creation_date": 1449701051, "last_edit_date": 1453739397, "question_id": 34190417, "link": "https://stackoverflow.com/questions/34190417/truncating-hourly-pandas-series-to-be-full-days-only", "title": "Truncating hourly Pandas Series to be full days only", "body": "<p>I'm using Pandas 0.17.1 and I oftentimes encounter hourly Series data that contains partial days.  It does not seem that there is any functionality built into pandas that permits you to discard values that correspond to incomplete segments of a coarser date offset on the boundaries of the Series data (I would only like to discard partial data that exist at the beginning and/or the end of the Series).</p>\n\n<p>My intuition, given the above, is that I would have to code something up to abstract the criterion (e.g. groupby with a count aggregation, discard hours in days with &lt; 24 hours):</p>\n\n<pre><code>&gt;&gt; hist_data.groupby(lambda x: x.date()).agg('count')\n2007-01-01    23\n2007-01-02    24\n...\n</code></pre>\n\n<p>An example of desired behavior:</p>\n\n<pre><code>&gt;&gt; hourly_data\n2016-01-01 04:00:00    0.603820\n2016-01-01 05:00:00    0.806696\n2016-01-01 06:00:00    0.938521\n2016-01-01 07:00:00    0.781834\n2016-01-01 08:00:00    0.154952\n...\n2016-01-03 22:00:00    0.082177\n2016-01-03 23:00:00    0.753210\n2016-01-04 00:00:00    0.458402\n2016-01-04 01:00:00    0.649496\n2016-01-04 02:00:00    0.525321\n2016-01-04 03:00:00    0.242605\nFreq: H, dtype: float64\n\n&gt;&gt; remove_partial_boundary_data(hourly_data)\n2016-01-02 00:00:00    0.833063\n2016-01-02 01:00:00    0.131586\n2016-01-02 02:00:00    0.876609\n2016-01-02 03:00:00    0.319436\n2016-01-02 04:00:00    0.056246\n...\n2016-01-03 20:00:00    0.405725\n2016-01-03 21:00:00    0.541096\n2016-01-03 22:00:00    0.082177\n2016-01-03 23:00:00    0.753210\nFreq: H, dtype: float64\n</code></pre>\n\n<p>However, if my timezone is anything other than UTC (timezone-aware), the approach suggested above seems fraught with peril because counts of hours on DST transition days would be either 23 or 25.</p>\n\n<p>Does anyone know of a clever or built-in way to handle this?</p>\n"}, {"tags": ["python", "json", "flask"], "answers": [{"comments": [{"owner": {"reputation": 402, "user_id": 5196438, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/f28fcc1081b0c93f3ac2e07c8b71239b?s=128&d=identicon&r=PG&f=1", "display_name": "Intrepid Diamond", "link": "https://stackoverflow.com/users/5196438/intrepid-diamond"}, "edited": false, "score": 0, "creation_date": 1449704406, "post_id": 34190910, "comment_id": 56128597, "body": "Thanks for the response! Getting yahoo_api[1] works fine, what I&#39;m wondering is how to specifically return the &quot;symbol&quot;. I&#39;ve tried yahoo_api[1][&#39;query][&#39;results&#39;][&#39;symbol&#39;], but it throws me an error. Here is a snippet of the returned json when you send a get request: {   &quot;query&quot;: {     &quot;count&quot;: 1,     &quot;created&quot;: &quot;2015-12-09T23:38:56Z&quot;,     &quot;lang&quot;: &quot;en-US&quot;,     &quot;results&quot;: {       &quot;quote&quot;: {         &quot;symbol&quot;: &quot;aapl&quot;,         &quot;Ask&quot;: &quot;115.74&quot;,         &quot;AverageDailyVolume&quot;: &quot;46976200&quot;,"}, {"owner": {"reputation": 402, "user_id": 5196438, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/f28fcc1081b0c93f3ac2e07c8b71239b?s=128&d=identicon&r=PG&f=1", "display_name": "Intrepid Diamond", "link": "https://stackoverflow.com/users/5196438/intrepid-diamond"}, "edited": false, "score": 0, "creation_date": 1449704464, "post_id": 34190910, "comment_id": 56128622, "body": "TypeError: string indices must be integers, not str // Werkzeug Debugger"}], "tags": [], "owner": {"reputation": 676, "user_id": 108241, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CI8rm.jpg?s=128&g=1", "display_name": "Takis", "link": "https://stackoverflow.com/users/108241/takis"}, "is_accepted": false, "score": 0, "last_activity_date": 1449703271, "creation_date": 1449703271, "answer_id": 34190910, "question_id": 34190408, "link": "https://stackoverflow.com/questions/34190408/unable-to-parse-yahoo-finance-api-json-data-code-included-python-flask/34190910#34190910", "title": "Unable to parse Yahoo Finance API JSON Data? Code included (Python Flask)", "body": "<p>I'd think you might have forgotten to take the second part of the tuple (the content), although that seemed unlikely as you do do this for the return statement. Or maybe you forgot the UTF-8 decode?</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>import json\nimport pprint\nfrom httplib2 import Http\n\nhttp = Http()\n\nurl = \"http://query.yahooapis.com/v1/public/yql?q=select%20*%20from%20yahoo.finance.quotes%20where%20symbol%20IN%20(%22YHOO%22)&amp;format=json&amp;env=http://datatables.org/alltables.env\"\nyahoo_api = http.request(url)\nresult = json.loads(yahoo_api[1].decode('utf-8'))\npprint.pprint(result)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3854, "user_id": 4890577, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aehYB.png?s=128&g=1", "display_name": "lord63. j", "link": "https://stackoverflow.com/users/4890577/lord63-j"}, "is_accepted": true, "score": 3, "last_activity_date": 1449708451, "creation_date": 1449708451, "answer_id": 34191832, "question_id": 34190408, "link": "https://stackoverflow.com/questions/34190408/unable-to-parse-yahoo-finance-api-json-data-code-included-python-flask/34191832#34191832", "title": "Unable to parse Yahoo Finance API JSON Data? Code included (Python Flask)", "body": "<p><code>yahoo_api[1]</code> is a string, use <code>json.loads</code> to get the json.</p>\n\n<pre><code>import json\n\nfrom httplib2 import Http\n\nyahoo_api = Http().request('http://query.yahooapis.com/v1/public/yql?q=select%20*%20from%20yahoo.finance.quotes%20where%20symbol%20IN%20(%22YHOO%22)&amp;format=json&amp;env=http://datatables.org/alltables.env')\nyahoo_json = json.loads(yahoo_api[1])\nchange = yahoo_json['query']['results']['quote']['Change']\nsymbol = yahoo_json['query']['results']['quote']['symbol']\n</code></pre>\n\n<p>Anthoer way is using <code>requests</code>, no worry about the json, it is esay to use.</p>\n\n<pre><code>import requests\nr = requests.get('http://query.yahooapis.com/v1/public/yql?q=select%20*%20from%20yahoo.finance.quotes%20where%20symbol%20IN%20%28%22YHOO%22%29&amp;format=json&amp;env=http://datatables.org/alltables.env')\nchange = r.json()['query']['results']['quote']['Change']\nsymbol = r.json()['query']['results']['quote']['symbol']\n</code></pre>\n"}], "owner": {"reputation": 402, "user_id": 5196438, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/f28fcc1081b0c93f3ac2e07c8b71239b?s=128&d=identicon&r=PG&f=1", "display_name": "Intrepid Diamond", "link": "https://stackoverflow.com/users/5196438/intrepid-diamond"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 616, "favorite_count": 0, "accepted_answer_id": 34191832, "answer_count": 2, "score": 2, "last_activity_date": 1449708451, "creation_date": 1449701015, "question_id": 34190408, "link": "https://stackoverflow.com/questions/34190408/unable-to-parse-yahoo-finance-api-json-data-code-included-python-flask", "title": "Unable to parse Yahoo Finance API JSON Data? Code included (Python Flask)", "body": "<p>A bit new to JSON... Does anyone know how to properly iterate through and grab the symbol and change for example? I've tried wrapping everything in json.loads and using strings, but I keep getting errors regarding tuples. FYI, I'm using ticker inside the string, but I changed it to be YHOO for this question for convenience of anyone trying to run the same code.</p>\n\n<pre><code>from flask import Flask\nfrom flask.ext.compress import Compress\nfrom flask import render_template\nfrom httplib2 import Http\nimport json\n\nhttp = Http()\napp = Flask(__name__)\nCompress(app)\napp.config['DEBUG'] = True\napp.config['TESTING'] = True\n\n\n@app.route('/&lt;ticker&gt;', methods=['GET'])\ndef check(ticker):\n    yahoo_api = http.request(\"http://query.yahooapis.com/v1/public/yql?q=select%20*%20from%20yahoo.finance.quotes%20where%20symbol%20IN%20(%22YHOO%22)&amp;format=json&amp;env=http://datatables.org/alltables.env\")\n    return yahoo_api[1]\n\nif __name__ == '__main__':\n    app.run()\n</code></pre>\n"}, {"tags": ["python", "heroku", "flask"], "owner": {"reputation": 1280, "user_id": 540104, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1c5a382f256e4596ebf6e00818843d2e?s=128&d=identicon&r=PG", "display_name": "Jim", "link": "https://stackoverflow.com/users/540104/jim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 188, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1449700988, "creation_date": 1449700988, "question_id": 34190400, "link": "https://stackoverflow.com/questions/34190400/heroku-python-flask-web-app-truncating-log-messages-to-only-one-line", "title": "Heroku (Python/Flask) web app truncating log messages to only one line", "body": "<p>I have a simple Python/Flask web that contains this:</p>\n\n<pre><code>@app.route('/index')\ndef index():\n    app.logger.warning('test message 1\\ntest message 2\\ntest message 3')\n</code></pre>\n\n<p>Note the newline characters.</p>\n\n<p>When I run it with heroku local web I see this in the logs:</p>\n\n<pre><code>web.1  | WARNING:app:test message 1\n</code></pre>\n\n<p>But when I push it to heroku instead of running it locally I see:</p>\n\n<pre><code>2015-12-09T22:23:21.102478+00:00 app[web.1]: WARNING in app[/app/app.py:17]: test message 1\n2015-12-09T22:23:21.102482+00:00 app[web.1]: test message 2\n2015-12-09T22:23:21.102483+00:00 app[web.1]: test message 3\n</code></pre>\n\n<p>Why does heroku local truncate the logs to the first line? I hate that and want it to stop.</p>\n\n<p>My Procfile is:</p>\n\n<pre><code>web: gunicorn app:app --log-file -\n</code></pre>\n\n<p>I know it is not Flask or gunicorn doing that because when I run gunicorn by itself, I see</p>\n\n<pre><code>WARNING in app [/home/vagrant/Projects/milestone1/app.py:20]: test message 1\ntest message 2\ntest message 3\n</code></pre>\n\n<p>It has to be heroku local.</p>\n"}, {"tags": ["python", "html", "beautifulsoup", "html-table", "extraction"], "comments": [{"owner": {"reputation": 676, "user_id": 108241, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CI8rm.jpg?s=128&g=1", "display_name": "Takis", "link": "https://stackoverflow.com/users/108241/takis"}, "edited": false, "score": 0, "creation_date": 1449708088, "post_id": 34190340, "comment_id": 56129875, "body": "The 10th line is not valid Python code (the line with the <code>for cell in row</code>). Was it supposed to be a list comprehension?"}, {"owner": {"reputation": 29, "user_id": 5441579, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0ce60710e477980d5bd00997c15362d?s=128&d=identicon&r=PG&f=1", "display_name": "Hadrien", "link": "https://stackoverflow.com/users/5441579/hadrien"}, "reply_to_user": {"reputation": 676, "user_id": 108241, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CI8rm.jpg?s=128&g=1", "display_name": "Takis", "link": "https://stackoverflow.com/users/108241/takis"}, "edited": false, "score": 0, "creation_date": 1449776589, "post_id": 34190340, "comment_id": 56164800, "body": "I got it from this stack overflow thread <a href=\"http://stackoverflow.com/questions/31459667/how-to-extract-table-from-sec-n-q-doc-using-beautifulsoup\" title=\"how to extract table from sec n q doc using beautifulsoup\">stackoverflow.com/questions/31459667/&hellip;</a> I wasn&#39;t sure how it had to be adapted to fit my needs, ie copy and paste into a txt file and then save it locally"}, {"owner": {"reputation": 676, "user_id": 108241, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CI8rm.jpg?s=128&g=1", "display_name": "Takis", "link": "https://stackoverflow.com/users/108241/takis"}, "edited": false, "score": 0, "creation_date": 1449866415, "post_id": 34190340, "comment_id": 56208134, "body": "I see. As you said the process didn&#39;t fail, I figured you meant the above code would have worked on your system in some way."}], "owner": {"reputation": 29, "user_id": 5441579, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0ce60710e477980d5bd00997c15362d?s=128&d=identicon&r=PG&f=1", "display_name": "Hadrien", "link": "https://stackoverflow.com/users/5441579/hadrien"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 132, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1581023649, "creation_date": 1449700632, "last_edit_date": 1581023649, "question_id": 34190340, "link": "https://stackoverflow.com/questions/34190340/extract-a-table-from-a-locally-saved-html-file", "title": "Extract a table from a locally saved HTML file", "body": "<p>I have a series of HTML files stored in a local folder (\"destination folder\"). These HTML files all contain a number of tables. What I'm looking to do is to locate the tables I'm interested in thanks to keywords, grab these tables in their entirety, paste them to a text file and save this file to the same local folder (\"destination folder\").</p>\n\n<p>This is what I have for now:</p>\n\n<pre><code>from bs4 import BeautifulSoup\n\n\nfilename = open('filename.txt', 'r')\nsoup = BeautifulSoup(filename,\"lxml\")\ndata = []\n\nfor keyword in keywords.split(','):\n    u=1\n    txtfile = destinationFolder + ticker +'_'+ companyname[:10]+ '_'+item[1]+'_'+item[3]+'_'+keyword+u+'.txt'\n    mots = soup.find_all(string=re.compile(keyword))\n    for mot in mots:\n        for row in mot.find(\"table\").find_all(\"tr\"):\n            data = cell.get_text(strip=True) for cell in row.find_all(\"td\")\n            data = data.get_string()\n\n        with open(txtfile,'wb') as t:\n            t.write(data)\n\n        txtfile.close()\n\n    u=u+1\n\n    except:\n       pass\n\nfilename.close()\n</code></pre>\n\n<p>Not sure what's happening in the background but I don't get my txt file in the end like I'm supposed to. The process doesn't fail. It runs its course till the end but the txt file is nowhere to be found in my local folder when it's done. I'm sure I'm looking in the correct folder. The same path is used elsewhere in my code and works fine.</p>\n"}, {"tags": ["python", "tensorflow", "tensorboard"], "comments": [{"owner": {"reputation": 5759, "user_id": 997378, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a11366bc2dfe133e16a89898fa33b24f?s=128&d=identicon&r=PG", "display_name": "mdaoust", "link": "https://stackoverflow.com/users/997378/mdaoust"}, "edited": false, "score": 0, "creation_date": 1449743532, "post_id": 34190298, "comment_id": 56144022, "body": "does reloading the webpage help?"}, {"owner": {"reputation": 27634, "user_id": 1576602, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/4d5132c0e702c0b50cac6aa7c56d191f?s=128&d=identicon&r=PG", "display_name": "Andrzej Pronobis", "link": "https://stackoverflow.com/users/1576602/andrzej-pronobis"}, "reply_to_user": {"reputation": 5759, "user_id": 997378, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a11366bc2dfe133e16a89898fa33b24f?s=128&d=identicon&r=PG", "display_name": "mdaoust", "link": "https://stackoverflow.com/users/997378/mdaoust"}, "edited": false, "score": 0, "creation_date": 1449768213, "post_id": 34190298, "comment_id": 56160427, "body": "Only occasionally. And often I need to re-run my code several times (meaning create several identical new logs) before refreshing will do anything. Then after multiple refreshes sometimes it will pick up the changes, but frequently it will not and requires killing the server. Also, after a refresh, since the URL does not indicate the open tab, it will switch the current tab summaries. This is too many steps for it to be currently usable."}, {"owner": {"reputation": 1698, "user_id": 1170391, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/93eed4546a135f28b655858bee6b74c0?s=128&d=identicon&r=PG", "display_name": "dandelion", "link": "https://stackoverflow.com/users/1170391/dandelion"}, "edited": false, "score": 0, "creation_date": 1457381755, "post_id": 34190298, "comment_id": 59372005, "body": "Can you clarify - when you say &quot;updated graph&quot; you mean the graph visualizations? Or the charts in the event dashboard?"}, {"owner": {"reputation": 27634, "user_id": 1576602, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/4d5132c0e702c0b50cac6aa7c56d191f?s=128&d=identicon&r=PG", "display_name": "Andrzej Pronobis", "link": "https://stackoverflow.com/users/1576602/andrzej-pronobis"}, "edited": false, "score": 1, "creation_date": 1459462235, "post_id": 34190298, "comment_id": 60311171, "body": "I mean graph visualizations."}], "answers": [{"comments": [{"owner": {"reputation": 1161, "user_id": 738484, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41234876d8a162e246826aa21eaaf2ed?s=128&d=identicon&r=PG", "display_name": "gideonite", "link": "https://stackoverflow.com/users/738484/gideonite"}, "edited": false, "score": 3, "creation_date": 1468445545, "post_id": 37491695, "comment_id": 64136479, "body": "What about summaries that have been deleted? Somehow a deleted set of experiment summaries is still showing up even after tensorboard has been restarted and loaded in different browsers (to avoid caching in the browser)."}, {"owner": {"reputation": 516, "user_id": 1319804, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d9249be299085c1672b2c568d8b4cd64?s=128&d=identicon&r=PG", "display_name": "8.8.8.8", "link": "https://stackoverflow.com/users/1319804/8-8-8-8"}, "edited": false, "score": 0, "creation_date": 1538992912, "post_id": 37491695, "comment_id": 92326033, "body": "Does tensorboard backend reload when the frontend page refreshes?"}], "tags": [], "owner": {"reputation": 27634, "user_id": 1576602, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/4d5132c0e702c0b50cac6aa7c56d191f?s=128&d=identicon&r=PG", "display_name": "Andrzej Pronobis", "link": "https://stackoverflow.com/users/1576602/andrzej-pronobis"}, "is_accepted": false, "score": 13, "last_activity_date": 1464380620, "creation_date": 1464380620, "answer_id": 37491695, "question_id": 34190298, "link": "https://stackoverflow.com/questions/34190298/whats-the-best-way-to-refresh-tensorboard-after-new-events-logs-were-added/37491695#37491695", "title": "What&#39;s the best way to refresh TensorBoard after new events/logs were added?", "body": "<p>It turns out that TensorBoard backend refreshes the logs every minute. This has been reported as a <a href=\"https://github.com/tensorflow/tensorflow/issues/2050\" rel=\"noreferrer\">TensorFlow issue</a>. </p>\n\n<p>The reload interval can be configured using the <code>--reload_interval</code> flag of the TensorBoard process, but this option is currently only available in master and as of version 0.8 has not been released.</p>\n"}, {"comments": [{"owner": {"reputation": 3554, "user_id": 688080, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9ee8890c431e4689f29f73fb36d58610?s=128&d=identicon&r=PG", "display_name": "ziyuang", "link": "https://stackoverflow.com/users/688080/ziyuang"}, "edited": false, "score": 1, "creation_date": 1516800386, "post_id": 44359908, "comment_id": 83836646, "body": "Consider putting this answer as a comment."}], "tags": [], "owner": {"reputation": 2108, "user_id": 6452438, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c39b05bbabf6a3ead4e3f6079f9802d5?s=128&d=identicon&r=PG&f=1", "display_name": "Yuchao Jiang", "link": "https://stackoverflow.com/users/6452438/yuchao-jiang"}, "is_accepted": false, "score": 0, "last_activity_date": 1496619916, "creation_date": 1496619916, "answer_id": 44359908, "question_id": 34190298, "link": "https://stackoverflow.com/questions/34190298/whats-the-best-way-to-refresh-tensorboard-after-new-events-logs-were-added/44359908#44359908", "title": "What&#39;s the best way to refresh TensorBoard after new events/logs were added?", "body": "<p>My issue is different. Each time I refresh <code>0.0.0.0:6006</code>, it seems the new graph keep appending to the old one, which is quite annoying.</p>\n\n<p>After trying kill process and delete old log several times, I realized the issue comes from <code>writer.add_graph(sess.graph)</code>,  because I didn't <strong>reset the graph</strong> in jupyter notebook.  After resetting, the tensorboard could show the newest gragh.</p>\n"}, {"tags": [], "owner": {"reputation": 1159, "user_id": 3965888, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b60b4f7faf22a43e8fe027b6bc022c1d?s=128&d=identicon&r=PG&f=1", "display_name": "Ismael EL ATIFI", "link": "https://stackoverflow.com/users/3965888/ismael-el-atifi"}, "is_accepted": false, "score": 3, "last_activity_date": 1586510723, "creation_date": 1586510723, "answer_id": 61137400, "question_id": 34190298, "link": "https://stackoverflow.com/questions/34190298/whats-the-best-way-to-refresh-tensorboard-after-new-events-logs-were-added/61137400#61137400", "title": "What&#39;s the best way to refresh TensorBoard after new events/logs were added?", "body": "<p>I advise to always start tensorboard with <code>--reload_multifile True</code> to force reloading all event files.</p>\n"}], "owner": {"reputation": 27634, "user_id": 1576602, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/4d5132c0e702c0b50cac6aa7c56d191f?s=128&d=identicon&r=PG", "display_name": "Andrzej Pronobis", "link": "https://stackoverflow.com/users/1576602/andrzej-pronobis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 17251, "favorite_count": 3, "answer_count": 3, "score": 16, "last_activity_date": 1586510723, "creation_date": 1449700439, "question_id": 34190298, "link": "https://stackoverflow.com/questions/34190298/whats-the-best-way-to-refresh-tensorboard-after-new-events-logs-were-added", "title": "What&#39;s the best way to refresh TensorBoard after new events/logs were added?", "body": "<p>What is the best way to quickly see the updated graph in the most recent event file in an open TensorBoard session? Re-running my Python app results in a new log file being created with potentially new events/graph. However, TensorBoard does not seem to notice those differences, unless restarted.</p>\n"}, {"tags": ["python", "list", "statistics", "tuples", "mean"], "answers": [{"tags": [], "owner": {"reputation": 676, "user_id": 108241, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CI8rm.jpg?s=128&g=1", "display_name": "Takis", "link": "https://stackoverflow.com/users/108241/takis"}, "is_accepted": false, "score": -1, "last_activity_date": 1449713698, "creation_date": 1449713698, "answer_id": 34192599, "question_id": 34190281, "link": "https://stackoverflow.com/questions/34190281/how-to-find-corresponding-values-for-corresponding-lists-in-python/34192599#34192599", "title": "How to find corresponding values for corresponding lists in python?", "body": "<p>You can combine both lists with <code>zip</code>, group the data for each day with <code>groupby</code> and finally calculate the mean of the daily values using the standard library <code>statistics</code> module <code>mean</code> function.</p>\n\n<pre class=\"lang-python prettyprint-override\"><code>from itertools import groupby\nfrom statistics import mean\n\nday_list = [1, 1, 1, 2, 2, 2, 3, 3, 3]\ntime_list = [100, 1200, 1300, 10, 1000, 2040, 1202, 1346, 2100]\n\ncombined = zip(day_list, time_list)\ngrouped = groupby(combined, lambda x: x[0])\n\nmean_values = []\nfor day, results in grouped:\n    print(\"Day: %d\" % day)\n    daily_values = [r[1] for r in results]\n    print(daily_values)\n    mean_values.append(mean(daily_values))\n\nprint(mean_values)\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 5352105, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a2db8f92168c3d24244ca3d1732b4e6c?s=128&d=identicon&r=PG&f=1", "display_name": "AObed", "link": "https://stackoverflow.com/users/5352105/aobed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 118, "favorite_count": 1, "answer_count": 1, "score": -2, "last_activity_date": 1449713698, "creation_date": 1449700349, "question_id": 34190281, "link": "https://stackoverflow.com/questions/34190281/how-to-find-corresponding-values-for-corresponding-lists-in-python", "title": "How to find corresponding values for corresponding lists in python?", "body": "<p>I am working on a final project for my programming class, and I'm having trouble comparing lists to find how to find hourly statistics (mean and standard deviation). What was given, was a years worth of call data and the time it was received, and what I need to do is figure out the statistics of each day. So I have two lists, one of the day of the year, and one of the time in military hours, how would I create a list of each daily call data?\nExample:</p>\n\n<pre><code>day_list = [1,1,1,2,2,2,3,3,3]\ntime_list = [0100,1200,1300,0010,1000,2040,1202,1346,2100]\n</code></pre>\n\n<p>So what the day list is, is each number corresponds to the day in the year. (1 = January first, 2 = January second, 3 = January third, and so on. It goes all the way to 365.) And each time value corresponds to the same place to day_list (0100 goes with 1, 0010 goes with 2, and 1346 goes with 3). What I want to do is create a new list, so that I can find the average and standard deviation for every day. And again, the values should correspond with placement. Example:</p>\n\n<pre><code>mean = [866, 1016, 1549]\n</code></pre>\n\n<p>So the new list should have 365 values, as the hourly average per day. </p>\n"}, {"tags": ["python", "loops", "for-loop", "iterator", "iteration"], "comments": [{"owner": {"reputation": 102109, "user_id": 1600898, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/01377f8b31f24b0265854666b29d0c03?s=128&d=identicon&r=PG", "display_name": "user4815162342", "link": "https://stackoverflow.com/users/1600898/user4815162342"}, "edited": false, "score": 0, "creation_date": 1449703204, "post_id": 34190276, "comment_id": 56128150, "body": "Short answer: <code>for a, b in x: ...body...</code> is equivalent to <code>for tmp in x: a = tmp[0]; b = tmp[1]; ...body...</code>."}], "answers": [{"comments": [{"owner": {"reputation": 61, "user_id": 5624129, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-vKvuIb3ExeM/AAAAAAAAAAI/AAAAAAAAjFY/E5Fn0a8uFxU/photo.jpg?sz=128", "display_name": "Jarrall Barnett", "link": "https://stackoverflow.com/users/5624129/jarrall-barnett"}, "edited": false, "score": 1, "creation_date": 1449791314, "post_id": 34190359, "comment_id": 56172231, "body": "That really made sense for me! I would rate up but I&#39;m not at 15 reputation points yet."}, {"owner": {"reputation": 694, "user_id": 2496427, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/8f1e9693ab2a92922fcb7ccb89300fbd?s=128&d=identicon&r=PG", "display_name": "Akmal Salikhov", "link": "https://stackoverflow.com/users/2496427/akmal-salikhov"}, "edited": false, "score": 0, "creation_date": 1546806716, "post_id": 34190359, "comment_id": 94964480, "body": "how about this syntax: <code>arr = [[1, 2],[3, 4], [5]]; for i, v in arr:     print (i, v)</code> ? It looks like it flattens array of arrays..."}], "tags": [], "owner": {"reputation": 2663, "user_id": 1375015, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/Ta2oi.jpg?s=128&g=1", "display_name": "Konstantin Schubert", "link": "https://stackoverflow.com/users/1375015/konstantin-schubert"}, "is_accepted": true, "score": 12, "last_activity_date": 1449826731, "last_edit_date": 1449826731, "creation_date": 1449700762, "answer_id": 34190359, "question_id": 34190276, "link": "https://stackoverflow.com/questions/34190276/python-two-iterating-variables-in-a-for-loop/34190359#34190359", "title": "&lt;Python&gt; Two iterating variables in a for loop", "body": "<p>In your code, you use the <code>enumerate()</code> function. You can imagine that it does the following:</p>\n\n<pre><code>&gt;&gt;&gt; print enumerate(\"a\",\"b\",\"c\")\n&gt;&gt;&gt; [(0,\"a\"),(1,\"b\"),(2,\"c\")]\n</code></pre>\n\n<p>(This isn't exactly correct, but it is close enough.)</p>\n\n<p><code>enumerate()</code> turns a list of elements into a list* of tuples, where each tuple consists of the index of the element and the element. Tuples are similar to lists.</p>\n\n<p>*In fact it returns an iterator, not a list, but that shouldn't bother you too much.</p>\n\n<p><strong>But how do the two iteration variables work?</strong> </p>\n\n<p>Let me illustrate this with a few examples.</p>\n\n<p>In the first example, we iterate over each element in a list of integers.</p>\n\n<pre><code>simple_list = [1,2,3,4]\nfor x in simple_list:\n    print x\n</code></pre>\n\n<p>But we can also iterate over each element in a list of <strong>tuples of</strong> integers:</p>\n\n<pre><code>tuple_list = [(1,5),(2,6),(3,7),(4,8)]\nfor x, y in tuple_list:\n    print x, y\n    print x+y\n</code></pre>\n\n<p>Here, each element of the list is a tuple of two integers.  When we write <code>for tup in tuple_list</code>, then <code>tup</code> is populated on each iteration with one tuple of integers from the list.</p>\n\n<p>Now, because Python is awsome, we can \"catch\" the tuple of two integers into two different integer variables by writing <code>(x,y)</code> (or <code>x,y</code>, which is the same) in place of of <code>tup</code>\nDoes this make sense?</p>\n\n<p>Analogously, we can iterate over 3-tuples: </p>\n\n<pre><code>tuple_list = [(1,5,10),(2,6,11),(3,7,12),(4,8,69)]\nfor x, y, z in tuple_list:\n    print x, y, z\n    print x+y-z\n</code></pre>\n\n<p>All of this works. Or should work (haven't run the code). </p>\n\n<p>And of course, </p>\n\n<pre><code>tuple_list = [(1,5),(2,6),(3,7),(4,8)]\nfor tuple in tuple_list:\n    print tuple\n</code></pre>\n\n<p>also works. </p>\n"}], "owner": {"reputation": 61, "user_id": 5624129, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-vKvuIb3ExeM/AAAAAAAAAAI/AAAAAAAAjFY/E5Fn0a8uFxU/photo.jpg?sz=128", "display_name": "Jarrall Barnett", "link": "https://stackoverflow.com/users/5624129/jarrall-barnett"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 17610, "favorite_count": 3, "closed_date": 1449701199, "accepted_answer_id": 34190359, "answer_count": 1, "score": 5, "last_activity_date": 1449826731, "creation_date": 1449700328, "question_id": 34190276, "link": "https://stackoverflow.com/questions/34190276/python-two-iterating-variables-in-a-for-loop", "closed_reason": "Duplicate", "title": "&lt;Python&gt; Two iterating variables in a for loop", "body": "<p>Let me start of with the generic I'm a beginner with Python introduction.\nHi, I'm a beginner with Python so please keep responses as closely aligned with plain English as possible :)</p>\n\n<p>I keep running into these for loops where there are <em>two</em> iterating variables in a for loop. This is highly confusing to me because I just got my head wrapped around the basic concept of for loops. That is your iterating variable runs through one piece at a time through the for loop line by line (in most cases). So what then does two iterating variables do? I have some speculations but I'd like correct answers to put my thinking in the right direction.</p>\n\n<p>Would someone type how the for loops would be read (in speaking terms) and explain what exactly is happening.</p>\n\n<pre><code>&gt;&gt;&gt; elements = ('foo', 'bar', 'baz')\n&gt;&gt;&gt; for elem in elements:\n...     print elem\n... \nfoo\nbar\nbaz\n&gt;&gt;&gt; for count, elem in enumerate(elements):\n...     print count, elem\n... \n0 foo\n1 bar\n2 baz\n</code></pre>\n"}, {"tags": ["php", "python", "shell", "ssh"], "answers": [{"comments": [{"owner": {"reputation": 7, "user_id": 4785013, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/b06b95c1a7c3c9c50af621a052c1894d?s=128&d=identicon&r=PG&f=1", "display_name": "Veda", "link": "https://stackoverflow.com/users/4785013/veda"}, "edited": false, "score": 0, "creation_date": 1449703589, "post_id": 34190297, "comment_id": 56128285, "body": "I have tried to modify the httpd.conf file and changed the user of apache to root .Also I tried to add apache user to sudoers file.Since security is not a major concern for me at this moment.But this also does not work @mrcheshire"}], "tags": [], "owner": {"reputation": 485, "user_id": 3830632, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66801324cc2892feacd747c340ab2ea6?s=128&d=identicon&r=PG&f=1", "display_name": "mrcheshire", "link": "https://stackoverflow.com/users/3830632/mrcheshire"}, "is_accepted": true, "score": 0, "last_activity_date": 1449700433, "last_edit_date": 1495535235, "creation_date": 1449700433, "answer_id": 34190297, "question_id": 34190232, "link": "https://stackoverflow.com/questions/34190232/ssh-from-python-script-which-is-triggered-by-php-backend-code/34190297#34190297", "title": "SSH from python script which is triggered by PHP backend code", "body": "<p>Presumably, the python script is being run by a different user when it's called by PHP than when you run it by hand, which does not have appropriate permissions to do whatever actions the script is trying to perform. So you'll need to tweak permissions / user groups for the various things the script is going to be trying to do in order for it to run successfully. </p>\n\n<p>Looking at this question is probably a good starting point: </p>\n\n<p><a href=\"https://stackoverflow.com/questions/7771586/how-to-check-what-user-php-is-running-as\">How to check what user php is running as?</a></p>\n\n<p>Once you identify the user that is actually running the script, you can try running the script as that user and then fixing problems as they come up.</p>\n"}, {"tags": [], "owner": {"reputation": 156, "user_id": 5661449, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e52056abb80957bbbd7f55bcfa76227?s=128&d=identicon&r=PG&f=1", "display_name": "James J.", "link": "https://stackoverflow.com/users/5661449/james-j"}, "is_accepted": false, "score": 0, "last_activity_date": 1449702093, "creation_date": 1449702093, "answer_id": 34190664, "question_id": 34190232, "link": "https://stackoverflow.com/questions/34190232/ssh-from-python-script-which-is-triggered-by-php-backend-code/34190664#34190664", "title": "SSH from python script which is triggered by PHP backend code", "body": "<p>I couldn't say for sure without seeing the Python script, but this probably has something to do with what the working directory is when the php user calls the script. You should either use absolute paths in your code or use </p>\n\n<pre><code>os.chdir(&lt;path&gt;)\n</code></pre>\n\n<p>to make sure you're using the correct working directory. Note if you do this, you'll probably run into permissions errors as mentioned in the other answer since .ssh and files in it are usually accessible only to the user whose directory it's in.</p>\n"}], "owner": {"reputation": 7, "user_id": 4785013, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/b06b95c1a7c3c9c50af621a052c1894d?s=128&d=identicon&r=PG&f=1", "display_name": "Veda", "link": "https://stackoverflow.com/users/4785013/veda"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 73, "favorite_count": 0, "accepted_answer_id": 34190297, "answer_count": 2, "score": 0, "last_activity_date": 1449702093, "creation_date": 1449700133, "question_id": 34190232, "link": "https://stackoverflow.com/questions/34190232/ssh-from-python-script-which-is-triggered-by-php-backend-code", "title": "SSH from python script which is triggered by PHP backend code", "body": "<p>I am trying to call a python script from php (Using xamp).<br>\nThe python script internally calls a shell script and the shell script has an ssh and scp command.<br>\nOn executing the PHP back-end code using exec I observe the following errors in xamp log file.<br>\nThe python script works fine through command line</p>\n\n<pre><code>Could not create directory '/sbin/.ssh'.^M\nFailed to add the host to the list of known hosts          (/sbin/.ssh/known_hosts).^M\nPermission denied, please try again.^M\nPermission denied, please try again.^M\nPermission denied (publickey,gssapi-keyex,gssapi-with-mic,password).^M\nCould not create directory '/sbin/.ssh'.^M\nHost key verification failed.^M\n</code></pre>\n"}, {"tags": ["python", "dictionary"], "comments": [{"owner": {"reputation": 73988, "user_id": 1639625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4224d1458a149d37b56a53115656f4df?s=128&d=identicon&r=PG", "display_name": "tobias_k", "link": "https://stackoverflow.com/users/1639625/tobias-k"}, "edited": false, "score": 2, "creation_date": 1449700435, "post_id": 34190153, "comment_id": 56126966, "body": "Why not just <code>{&quot;one&quot;: &quot;1&quot;, &quot;two&quot;: &quot;2&quot;, ...}</code>?"}, {"owner": {"reputation": 81, "user_id": 4905638, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-qbf0ePtYhYA/AAAAAAAAAAI/AAAAAAAAABY/Z0bBwRsWTFM/photo.jpg?sz=128", "display_name": "Kleiner Null", "link": "https://stackoverflow.com/users/4905638/kleiner-null"}, "reply_to_user": {"reputation": 73988, "user_id": 1639625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4224d1458a149d37b56a53115656f4df?s=128&d=identicon&r=PG", "display_name": "tobias_k", "link": "https://stackoverflow.com/users/1639625/tobias-k"}, "edited": false, "score": 0, "creation_date": 1449700788, "post_id": 34190153, "comment_id": 56127127, "body": "@tobias_k this is also a possible output possible. But I can&#39;t change the input tree, this is given and makes me headaches."}, {"owner": {"reputation": 86481, "user_id": 2411802, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/RA92x.jpg?s=128&g=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/2411802/alexander"}, "edited": false, "score": 2, "creation_date": 1449701422, "post_id": 34190153, "comment_id": 56127406, "body": "Note that you could have duplicate keys that rewrite the data, so you&#39;d either have to check for this before hand or else ensure this is not the case via the original encoding method. For example, the children is a list of dictionaries, so there is nothing to ensure the keys are unique"}, {"owner": {"reputation": 81, "user_id": 4905638, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-qbf0ePtYhYA/AAAAAAAAAAI/AAAAAAAAABY/Z0bBwRsWTFM/photo.jpg?sz=128", "display_name": "Kleiner Null", "link": "https://stackoverflow.com/users/4905638/kleiner-null"}, "reply_to_user": {"reputation": 86481, "user_id": 2411802, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/RA92x.jpg?s=128&g=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/2411802/alexander"}, "edited": false, "score": 0, "creation_date": 1449702250, "post_id": 34190153, "comment_id": 56127753, "body": "@Alexander all names and ids are unique. It is a dict representation of a tree."}], "answers": [{"comments": [{"owner": {"reputation": 81, "user_id": 4905638, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-qbf0ePtYhYA/AAAAAAAAAAI/AAAAAAAAABY/Z0bBwRsWTFM/photo.jpg?sz=128", "display_name": "Kleiner Null", "link": "https://stackoverflow.com/users/4905638/kleiner-null"}, "edited": false, "score": 0, "creation_date": 1449700984, "post_id": 34190350, "comment_id": 56127223, "body": "Hmm, I got a TypeError here:                                   TypeError                                 Traceback (most recent call last) &lt;ipython-input-12-89eb07410402&gt; in &lt;module&gt;()       5        6 new = {} ----&gt; 7 flatten(sample, new)       8 new  &lt;ipython-input-12-89eb07410402&gt; in flatten(source, target)       1 def flatten(source, target): ----&gt; 2     target[source[&quot;name&quot;]] = {&quot;id&quot;: source[&quot;id&quot;]}       3     for child in source[&quot;children&quot;]:       4         flatten(child, target)       5   TypeError: string indices must be integers"}, {"owner": {"reputation": 81, "user_id": 4905638, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-qbf0ePtYhYA/AAAAAAAAAAI/AAAAAAAAABY/Z0bBwRsWTFM/photo.jpg?sz=128", "display_name": "Kleiner Null", "link": "https://stackoverflow.com/users/4905638/kleiner-null"}, "edited": false, "score": 0, "creation_date": 1449701130, "post_id": 34190350, "comment_id": 56127272, "body": "Python 3.4 Kernel on Ipython Notebook, this is the traceback: TypeError                                 Traceback (most recent call last) &lt;ipython-input-12-89eb07410402&gt; in &lt;module&gt;()       5        6 new = {} ----&gt; 7 flatten(sample, new)       8 new  &lt;ipython-input-12-89eb07410402&gt; in flatten(source, target)       1 def flatten(source, target): ----&gt; 2     target[source[&quot;name&quot;]] = {&quot;id&quot;: source[&quot;id&quot;]}       3     for child in source[&quot;children&quot;]:       4         flatten(child, target)       5   TypeError: string indices must be integers"}, {"owner": {"reputation": 73988, "user_id": 1639625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4224d1458a149d37b56a53115656f4df?s=128&d=identicon&r=PG", "display_name": "tobias_k", "link": "https://stackoverflow.com/users/1639625/tobias-k"}, "reply_to_user": {"reputation": 81, "user_id": 4905638, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-qbf0ePtYhYA/AAAAAAAAAAI/AAAAAAAAABY/Z0bBwRsWTFM/photo.jpg?sz=128", "display_name": "Kleiner Null", "link": "https://stackoverflow.com/users/4905638/kleiner-null"}, "edited": false, "score": 0, "creation_date": 1449701133, "post_id": 34190350, "comment_id": 56127274, "body": "It seems like the structure of your dictionary is different/more complex than in your example. In particular, there seem to be strings in the &quot;children&quot; list. You can add an <code>if isinstance(source, dict)</code> here and there, but that&#39;s difficult to tell without seeing your actual dictionary structure."}, {"owner": {"reputation": 81, "user_id": 4905638, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-qbf0ePtYhYA/AAAAAAAAAAI/AAAAAAAAABY/Z0bBwRsWTFM/photo.jpg?sz=128", "display_name": "Kleiner Null", "link": "https://stackoverflow.com/users/4905638/kleiner-null"}, "edited": false, "score": 0, "creation_date": 1449701446, "post_id": 34190350, "comment_id": 56127415, "body": "You&#39;re right, some indention error. It works, cool! And the code is so short and simple, I like it! Not that crap I coded to get it ;) Thanks."}], "tags": [], "owner": {"reputation": 73988, "user_id": 1639625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4224d1458a149d37b56a53115656f4df?s=128&d=identicon&r=PG", "display_name": "tobias_k", "link": "https://stackoverflow.com/users/1639625/tobias-k"}, "is_accepted": false, "score": 3, "last_activity_date": 1449700681, "creation_date": 1449700681, "answer_id": 34190350, "question_id": 34190153, "link": "https://stackoverflow.com/questions/34190153/flatten-a-dictionary-of-dictionaries-of-lists-of-other-dictionaries-of-lists-of/34190350#34190350", "title": "Flatten a dictionary of dictionaries of lists of other dictionaries of lists of", "body": "<p>You can make a recursive function like this (assuming that each of the dicts is properly structured):</p>\n\n<pre><code>def flatten(source, target):\n    target[source[\"name\"]] = {\"id\": source[\"id\"]}\n    for child in source[\"children\"]:\n        flatten(child, target)\n</code></pre>\n\n<p>Sample:</p>\n\n<pre><code>&gt;&gt;&gt; d = {}\n&gt;&gt;&gt; flatten(sample, d)\n&gt;&gt;&gt; d\n{'seven': {'id': '7'}, 'six': {'id': '6'}, 'three': {'id': '3'}, 'two': {'id': '2'}, 'four': {'id': '4'}, 'five': {'id': '5'}, 'one': {'id': '1'}}\n</code></pre>\n\n<p>Or like this, if you do not like passing the target dict as a parameter:</p>\n\n<pre><code>def flatten(source):\n    d = {source[\"name\"]: {\"id\": source[\"id\"]}}\n    for child in source[\"children\"]:\n        d.update(flatten(child))\n    return d\n</code></pre>\n\n<p>Sample:</p>\n\n<pre><code>&gt;&gt;&gt; flatten(sample)\n{'one': {'id': '1'}, 'four': {'id': '4'}, 'seven': {'id': '7'}, 'five': {'id': '5'}, 'six': {'id': '6'}, 'three': {'id': '3'}, 'two': {'id': '2'}}\n</code></pre>\n\n<p>You could also simplify the output to be a simple, non-nested dictionary:</p>\n\n<pre><code>def flatten(source):\n    d = {source[\"name\"]: source[\"id\"]}\n    for child in source[\"children\"]:\n        d.update(flatten(child))\n    return d\n\n&gt;&gt;&gt; flatten(sample)\n{'one': '1', 'four': '4', 'seven': '7', 'five': '5', 'six': '6', 'three': '3', 'two': '2'}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 81, "user_id": 4905638, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-qbf0ePtYhYA/AAAAAAAAAAI/AAAAAAAAABY/Z0bBwRsWTFM/photo.jpg?sz=128", "display_name": "Kleiner Null", "link": "https://stackoverflow.com/users/4905638/kleiner-null"}, "edited": false, "score": 0, "creation_date": 1449702687, "post_id": 34190551, "comment_id": 56127941, "body": "This looks interesting, yield from is something I have problems to get. However, it is interesting, with timeit, your solution is almost 10 times slower than the version from @tobias_k. Is <code>isinstance</code> so expensive?"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "reply_to_user": {"reputation": 81, "user_id": 4905638, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-qbf0ePtYhYA/AAAAAAAAAAI/AAAAAAAAABY/Z0bBwRsWTFM/photo.jpg?sz=128", "display_name": "Kleiner Null", "link": "https://stackoverflow.com/users/4905638/kleiner-null"}, "edited": false, "score": 0, "creation_date": 1449702760, "post_id": 34190551, "comment_id": 56127977, "body": "@KleinerNull, it will work for a lot more nesting as it checks the whole dict, if you add some names and id&#39;s to the empty children list you will see what I mean."}, {"owner": {"reputation": 81, "user_id": 4905638, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-qbf0ePtYhYA/AAAAAAAAAAI/AAAAAAAAABY/Z0bBwRsWTFM/photo.jpg?sz=128", "display_name": "Kleiner Null", "link": "https://stackoverflow.com/users/4905638/kleiner-null"}, "edited": false, "score": 0, "creation_date": 1449703046, "post_id": 34190551, "comment_id": 56128101, "body": "Interesting, I will test it tomorrow with a real life example. Just out of couriosity, can I easily change this to also keep other dicts inside except the children list?"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "reply_to_user": {"reputation": 81, "user_id": 4905638, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-qbf0ePtYhYA/AAAAAAAAAAI/AAAAAAAAABY/Z0bBwRsWTFM/photo.jpg?sz=128", "display_name": "Kleiner Null", "link": "https://stackoverflow.com/users/4905638/kleiner-null"}, "edited": false, "score": 0, "creation_date": 1449703224, "post_id": 34190551, "comment_id": 56128160, "body": "Yep, you can keep whatever you want, you would insert your logic where the  <code>if k in d:</code> is, this looks for a key. it does not care where it is"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "reply_to_user": {"reputation": 81, "user_id": 4905638, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-qbf0ePtYhYA/AAAAAAAAAAI/AAAAAAAAABY/Z0bBwRsWTFM/photo.jpg?sz=128", "display_name": "Kleiner Null", "link": "https://stackoverflow.com/users/4905638/kleiner-null"}, "edited": false, "score": 0, "creation_date": 1449705600, "post_id": 34190551, "comment_id": 56129050, "body": "@KleinerNull, I added another example of how you could search for multiple keys at a time"}], "tags": [], "owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "is_accepted": false, "score": 2, "last_activity_date": 1449705573, "last_edit_date": 1449705573, "creation_date": 1449701617, "answer_id": 34190551, "question_id": 34190153, "link": "https://stackoverflow.com/questions/34190153/flatten-a-dictionary-of-dictionaries-of-lists-of-other-dictionaries-of-lists-of/34190551#34190551", "title": "Flatten a dictionary of dictionaries of lists of other dictionaries of lists of", "body": "<p>If you data is actually more complex than your example:</p>\n\n<pre><code>def rec_get(d, k):\n    if isinstance(d, dict):\n        if k in d:\n            yield (d[k], {\"id\": d[\"id\"]})\n        for v in d.values():\n            yield from rec_get(v, k)\n    elif isinstance(d, list):\n        for v in d:\n            yield from rec_get(v, k)\nprint(dict(rec_get(sample ,\"name\")))\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>{'five': {'id': '5'}, 'six': {'id': '6'}, 'four': {'id': '4'}, 'one': {'id': '1'}, 'three': {'id': '3'}, 'two': {'id': '2'}, 'seven': {'id': '7'}}\n</code></pre>\n\n<p>If you wanted a more general  function, you could so something like:</p>\n\n<pre><code>from collections import OrderedDict\nfrom collections import Iterable\n\n\ndef rec_get(d, **kwargs):\n    if isinstance(d, dict):\n        yield from ((d[k], k) for k in kwargs.keys() &amp; d)\n        for v in d.values():\n            yield from rec_get(v, **kwargs)\n    elif isinstance(d, Iterable) and not isinstance(d, str):\n        for v in d:\n            yield from rec_get(v, **kwargs)\n</code></pre>\n\n<p>Which just as an example using your input and passing keywords arguments:</p>\n\n<pre><code>print(list(rec_get(sample, name=\"name\", id=\"id\")))\n</code></pre>\n\n<p>Outputs:</p>\n\n<pre><code>[('1', 'id'), ('one', 'name'), ('2', 'id'), ('two', 'name'), \n('6', 'id'), ('six', 'name'), ('7', 'id'), ('seven', 'name'), \n('3', 'id'), ('three', 'name'), ('4', 'id'), ('four', 'name'), ('5', 'id'), ('five', 'name')]\n</code></pre>\n"}], "owner": {"reputation": 81, "user_id": 4905638, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-qbf0ePtYhYA/AAAAAAAAAAI/AAAAAAAAABY/Z0bBwRsWTFM/photo.jpg?sz=128", "display_name": "Kleiner Null", "link": "https://stackoverflow.com/users/4905638/kleiner-null"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 120, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1449705573, "creation_date": 1449699762, "last_edit_date": 1449700205, "question_id": 34190153, "link": "https://stackoverflow.com/questions/34190153/flatten-a-dictionary-of-dictionaries-of-lists-of-other-dictionaries-of-lists-of", "title": "Flatten a dictionary of dictionaries of lists of other dictionaries of lists of", "body": "<p>I have this highly nested dictionary tree:</p>\n\n<pre><code>sample = {\"name\": \"one\",\n          \"id\": \"1\",\n          \"children\": [{\"name\": \"two\",\n                        \"id\": \"2\",\n                        \"children\": [{\"name\": \"six\",\n                                      \"id\": \"6\",\n                                      \"children\": []}, \n                                     {\"name\": \"seven\",\n                                      \"id\": \"7\",\n                                      \"children\": []}]},\n                       {\"name\": \"three\",\n                        \"id\": \"3\",\n                        \"children\": []},\n                       {\"name\": \"four\",\n                        \"id\": \"4\",\n                        \"children\": []}, \n                       {\"name\": \"five\",\n                        \"id\": \"5\",\n                        \"children\": []}]}\n</code></pre>\n\n<p>This is just an example in reality there are 7 or 8 levels of lists of children... Also every name and id are unique.</p>\n\n<p>My goal is to flatten this tree into a dictionary that has the value of all name keys as keys and their ids as second key-value pair:</p>\n\n<pre><code>sample = {\"one\": {\"id\":\"1\"},\n          \"two\": {\"id\":\"2\"},\n          \"three\": {\"id\": \"3\"}, ...}\n</code></pre>\n\n<p>Actually there are more key-value pairs but I am only interested in the names and their associated ids.</p>\n\n<p>I tried to wrap my head about it but my skills in recursions aren't very good, had a hard time, so I ask you for help. Also I searched for similar problems, but the fact that the dicts are encapsulated in lists makes it not really comparable, for me anyway...</p>\n\n<p>I came up with a solution to solve my problem but it was the hackiest and ugliest code I every wrote, and I am ashamed of it. Basically I transformed the dict into its string representation and used regex to find my pairs! And this is bad but I had to prototype something to have time to take care of other problems...</p>\n\n<p>So any ideas, guys?</p>\n"}, {"tags": ["python", "oop", "textbox", "pyqt4"], "answers": [{"tags": [], "owner": {"reputation": 550, "user_id": 2345035, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Qafib.jpg?s=128&g=1", "display_name": "avereux", "link": "https://stackoverflow.com/users/2345035/avereux"}, "is_accepted": true, "score": 0, "last_activity_date": 1449708281, "creation_date": 1449708281, "answer_id": 34191806, "question_id": 34190149, "link": "https://stackoverflow.com/questions/34190149/how-do-i-write-an-on-click-event-method-that-will-set-an-arbitrary-value-to-a-te/34191806#34191806", "title": "How do I write an on_click event method that will set an arbitrary value to a textbox?", "body": "<p>Just needed to add self..</p>\n\n<pre><code>def initUI(self):\n        calculateBtn = QtGui.QPushButton(\"Calculate\", self)\n        calculateBtn.clicked.connect(self.calculate_btn_on_click)\n        self.earningsTextbox = QtGui.QLineEdit(self)\n\n        self.show()\n\n def calculate_btn_on_click(self):\n        self.earningsTextbox.setText(\"42\")\n</code></pre>\n"}], "owner": {"reputation": 550, "user_id": 2345035, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Qafib.jpg?s=128&g=1", "display_name": "avereux", "link": "https://stackoverflow.com/users/2345035/avereux"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 70, "favorite_count": 0, "accepted_answer_id": 34191806, "answer_count": 1, "score": 0, "last_activity_date": 1449708281, "creation_date": 1449699753, "question_id": 34190149, "link": "https://stackoverflow.com/questions/34190149/how-do-i-write-an-on-click-event-method-that-will-set-an-arbitrary-value-to-a-te", "title": "How do I write an on_click event method that will set an arbitrary value to a textbox?", "body": "<p>I'm trying to set some text to a textbox via button click.</p>\n\n<p>Any clarification on how to tie these objects together would be greatly appreciated. </p>\n\n<pre><code> def initUI(self):\n        calculateBtn = QtGui.QPushButton(\"Calculate\", self)\n        calculateBtn.clicked.connect(self.calculate_btn_on_click)\n        earningsTextbox = QtGui.QLineEdit(self)\n\n        self.show()\n\n def calculate_btn_on_click(self, event):\n        earningsTextbox.setText(\"42\")\n</code></pre>\n"}, {"tags": ["python", "ide", "ipython"], "comments": [{"owner": {"reputation": 60033, "user_id": 102302, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/edd9c8a33bbb45d398ad8777e619c7a3?s=128&d=identicon&r=PG", "display_name": "tom10", "link": "https://stackoverflow.com/users/102302/tom10"}, "edited": false, "score": 0, "creation_date": 1449700373, "post_id": 34190132, "comment_id": 56126931, "body": "Did you see this page: <a href=\"https://ipython.org/ipython-doc/3/config/custommagics.html\" rel=\"nofollow noreferrer\">ipython.org/ipython-doc/3/config/custommagics.html</a>"}, {"owner": {"reputation": 952, "user_id": 2019572, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9883bc76c5f16f444d954707121dc2f8?s=128&d=identicon&r=PG", "display_name": "Jon", "link": "https://stackoverflow.com/users/2019572/jon"}, "reply_to_user": {"reputation": 60033, "user_id": 102302, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/edd9c8a33bbb45d398ad8777e619c7a3?s=128&d=identicon&r=PG", "display_name": "tom10", "link": "https://stackoverflow.com/users/102302/tom10"}, "edited": false, "score": 0, "creation_date": 1449772980, "post_id": 34190132, "comment_id": 56162993, "body": "I did, I don&#39;t think they mention anything about keybindings, my original question was probably unclear since I know how to define my own magic commands, I just can&#39;t bind them to anything."}], "owner": {"reputation": 952, "user_id": 2019572, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9883bc76c5f16f444d954707121dc2f8?s=128&d=identicon&r=PG", "display_name": "Jon", "link": "https://stackoverflow.com/users/2019572/jon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 60, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1449773072, "creation_date": 1449699691, "last_edit_date": 1449773072, "question_id": 34190132, "link": "https://stackoverflow.com/questions/34190132/is-it-possible-to-define-custom-keyboard-shortcuts-for-the-ipython-interactive-s", "title": "Is it possible to define custom keyboard shortcuts for the ipython interactive shell?", "body": "<p>I'd like to bind magic commands that I have created to shortcuts, is there anyway that this is possible in the ipython shell (not the notebook)? On the <a href=\"http://ipython.org/ipython-doc/3/config/custommagics.html\" rel=\"nofollow\">documentation</a> for magic commands, there doesn't seem to be any discussion of whether you can create shortcuts for your own magic commands.</p>\n"}, {"tags": ["python", "recursion", "python-decorators"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1449699876, "post_id": 34190113, "comment_id": 56126690, "body": "It doesn&#39;t make much sense to make this a decorator. You lose access to the original function, which is especially terrible when the original function needs access to itself."}, {"owner": {"reputation": 23, "user_id": 5661407, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/647b52d6787a0020d07562e4eb7f8bd0?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew Dalton", "link": "https://stackoverflow.com/users/5661407/andrew-dalton"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1449700990, "post_id": 34190113, "comment_id": 56127224, "body": "So should I just define a new function variable mini = time_long_list(minimum)?"}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1449701184, "post_id": 34190113, "comment_id": 56127298, "body": "That&#39;d work. Alternatively, <code>time_long_list</code> could just directly time the function it&#39;s passed instead of generating a timing wrapper."}, {"owner": {"reputation": 88499, "user_id": 650405, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/5cdee2abea51e91756076032f0053081?s=128&d=identicon&r=PG", "display_name": "Karoly Horvath", "link": "https://stackoverflow.com/users/650405/karoly-horvath"}, "edited": false, "score": 0, "creation_date": 1449701957, "post_id": 34190113, "comment_id": 56127640, "body": "There&#39;s nothing wrong with a decorator. But if you use it on a recursive function, you probably want to decorate a wrapper function (that is, unless you&#39;re interested in sub-timings)."}, {"owner": {"reputation": 23, "user_id": 5661407, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/647b52d6787a0020d07562e4eb7f8bd0?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew Dalton", "link": "https://stackoverflow.com/users/5661407/andrew-dalton"}, "edited": false, "score": 0, "creation_date": 1449702131, "post_id": 34190113, "comment_id": 56127699, "body": "I&#39;ve seen memoization decorators for recursive functions such as the fibonacci function. These do not raise any recursive depth error unless the number called is around 1000, whereas my timer decorator failed for list size &gt;= 2 when decorating the minimum function. What is the difference between these two cases?"}], "answers": [{"tags": [], "owner": {"reputation": 2480, "user_id": 2979576, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9402760dd5541af9ef9816d3868bbc80?s=128&d=identicon&r=PG&f=1", "display_name": "James", "link": "https://stackoverflow.com/users/2979576/james"}, "is_accepted": true, "score": 1, "last_activity_date": 1449704205, "creation_date": 1449704205, "answer_id": 34191094, "question_id": 34190113, "link": "https://stackoverflow.com/questions/34190113/timing-a-recursive-function-using-decorators/34191094#34191094", "title": "Timing a Recursive Function using Decorators", "body": "<p>When you decorate a function, you are telling the python interpreter to take the function, do 'some stuff' to it, and then store a reference to the new, modified function in the global / module namespace. </p>\n\n<p>By definition, recursion is a function calling itself. </p>\n\n<p>So what you're trying to do here can't work, because your function is now decorated with all the code to generate test data. When you call the function recursively, you're generating all that test data every time. As new test data is being generated at every step, you can never get to the bottom of the recursion, and inevitably - you hit the depth limit. </p>\n\n<p>What you need is to keep a reference to the original function when we decorate the function. You will then have two functions, one that generates the test data and performs the top level of the recursion, and another that doesn't generate test data. It's not quite pure recursion - as you have two functions not one, but it's probably the best you can do. </p>\n\n<p>By modifying the decorator, we can keep a reference to the original function </p>\n\n<pre><code>def time_long_list(func):\n    import random\n    def helper(*args, **kwargs):\n        for item in [10, 100, 1000, 10000]:\n            list = [random.randint(1, 10) for element in range(item)]\n            with Timer() as clock:\n                func(list, func)\n                print(clock.interval/item)\n        return func\n    helper.original = func\nreturn helper\n</code></pre>\n\n<p>Then modifying your recursive function so that it always calls the original version of itself, not the modified version </p>\n\n<pre><code>@time_long_list\ndef minimum(lst, undecorated_func = None):\n    if len(lst) == 0:\n        return None\n    elif len(lst) == 1:\n        return lst[0]\n    else:\n        mid = len(lst) // 2\n        min1 = minimum.original(lst[:mid])\n        min2 = minimum.original(lst[mid:])\n        if min1 &lt;= min2:\n            return min1\n        else:\n            return min2\n</code></pre>\n\n<p>I don't suggest that this is a good way to do this - you would be better off - as the comments suggest, creating a seperate top level function to do the timing and test data creation if possible. </p>\n"}], "owner": {"reputation": 23, "user_id": 5661407, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/647b52d6787a0020d07562e4eb7f8bd0?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew Dalton", "link": "https://stackoverflow.com/users/5661407/andrew-dalton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 360, "favorite_count": 2, "accepted_answer_id": 34191094, "answer_count": 1, "score": 2, "last_activity_date": 1449705283, "creation_date": 1449699658, "last_edit_date": 1449705283, "question_id": 34190113, "link": "https://stackoverflow.com/questions/34190113/timing-a-recursive-function-using-decorators", "title": "Timing a Recursive Function using Decorators", "body": "<p>I am trying to make a timer decorator that times a function with variously sized lists. The timer works for insert(), which I have written below, but not for a recursive function such as minimum(). I get a recursion depth error for any list that has size greater than 1. How should I remedy this? </p>\n\n<pre><code>def time_long_list(func):\n    import random\n    def helper(*args, **kwargs):\n        for item in [10, 100, 1000, 10000]:\n            list = [random.randint(1, 10) for element in range(item)]\n            with Timer() as clock:\n                func(list)\n            print(clock.interval/item)\n        return func\n    return helper\n\n@time_long_list\ndef insert(lst):\n    new_list = []\n    for item in lst:\n        new_list.insert(0, item)\n    return new_list\n\n@time_long_list\ndef minimum(lst):\n    if len(lst) == 0:\n        return None\n    elif len(lst) == 1:\n        return lst[0]\n    else:\n        mid = len(lst) // 2\n        min1 = minimum(lst[:mid])\n        min2 = minimum(lst[mid:])\n        if min1 &lt;= min2:\n            return min1\n        else:\n            return min2\n\ninsert()\nminimum()\n</code></pre>\n"}, {"tags": ["python", "django"], "answers": [{"comments": [{"owner": {"reputation": 1241, "user_id": 5243477, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/dc9be7e87782026d7af898f6bf62c5f5?s=128&d=identicon&r=PG", "display_name": "Ev.", "link": "https://stackoverflow.com/users/5243477/ev"}, "edited": false, "score": 0, "creation_date": 1449699958, "post_id": 34190166, "comment_id": 56126723, "body": "Yes, I thought of it. However when I add the <code>super</code> method before my code, my fields simply vanish. My instance is empty, but shouldn&#39;t it create the fields anyway?"}, {"owner": {"reputation": 46016, "user_id": 2615075, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f23ab144c48263fa1c4cf43ae46fb70d?s=128&d=identicon&r=PG", "display_name": "knbk", "link": "https://stackoverflow.com/users/2615075/knbk"}, "reply_to_user": {"reputation": 1241, "user_id": 5243477, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/dc9be7e87782026d7af898f6bf62c5f5?s=128&d=identicon&r=PG", "display_name": "Ev.", "link": "https://stackoverflow.com/users/5243477/ev"}, "edited": false, "score": 0, "creation_date": 1449700030, "post_id": 34190166, "comment_id": 56126754, "body": "Did you move the <code>super()</code> up, or did you add a second call? The latter would explain your fields vanishing."}, {"owner": {"reputation": 1241, "user_id": 5243477, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/dc9be7e87782026d7af898f6bf62c5f5?s=128&d=identicon&r=PG", "display_name": "Ev.", "link": "https://stackoverflow.com/users/5243477/ev"}, "edited": false, "score": 0, "creation_date": 1449700079, "post_id": 34190166, "comment_id": 56126779, "body": "I did exactly as you showed and the fields vanished. It could have something with my code, because if I remove my condition down there, they come back. I guess it is replacing the field code instead of the value inside of it."}, {"owner": {"reputation": 46016, "user_id": 2615075, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f23ab144c48263fa1c4cf43ae46fb70d?s=128&d=identicon&r=PG", "display_name": "knbk", "link": "https://stackoverflow.com/users/2615075/knbk"}, "reply_to_user": {"reputation": 1241, "user_id": 5243477, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/dc9be7e87782026d7af898f6bf62c5f5?s=128&d=identicon&r=PG", "display_name": "Ev.", "link": "https://stackoverflow.com/users/5243477/ev"}, "edited": false, "score": 0, "creation_date": 1449700754, "post_id": 34190166, "comment_id": 56127109, "body": "You&#39;re overriding the field instance with the value of the field. It is actually quite complex to change the value of the field after instantiating the form, you should rather modify the <code>data</code> or <code>initial</code> dicts before instantiating."}, {"owner": {"reputation": 1241, "user_id": 5243477, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/dc9be7e87782026d7af898f6bf62c5f5?s=128&d=identicon&r=PG", "display_name": "Ev.", "link": "https://stackoverflow.com/users/5243477/ev"}, "edited": false, "score": 0, "creation_date": 1449700768, "post_id": 34190166, "comment_id": 56127121, "body": "Also, I don&#39;t want to use ModelForm because I don&#39;t want to save information with this form. I just want to fetch data with a JavaScript function I have. This method is going to throw back the validated instance of the City the user typed in the field."}, {"owner": {"reputation": 1241, "user_id": 5243477, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/dc9be7e87782026d7af898f6bf62c5f5?s=128&d=identicon&r=PG", "display_name": "Ev.", "link": "https://stackoverflow.com/users/5243477/ev"}, "edited": false, "score": 0, "creation_date": 1449700896, "post_id": 34190166, "comment_id": 56127177, "body": "And how do I do that?"}, {"owner": {"reputation": 46016, "user_id": 2615075, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f23ab144c48263fa1c4cf43ae46fb70d?s=128&d=identicon&r=PG", "display_name": "knbk", "link": "https://stackoverflow.com/users/2615075/knbk"}, "reply_to_user": {"reputation": 1241, "user_id": 5243477, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/dc9be7e87782026d7af898f6bf62c5f5?s=128&d=identicon&r=PG", "display_name": "Ev.", "link": "https://stackoverflow.com/users/5243477/ev"}, "edited": false, "score": 0, "creation_date": 1449700962, "post_id": 34190166, "comment_id": 56127213, "body": "<code>data[&#39;field_name&#39;] = value</code> and <code>initial[&#39;field_name&#39;] = value</code> I believe."}, {"owner": {"reputation": 1241, "user_id": 5243477, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/dc9be7e87782026d7af898f6bf62c5f5?s=128&d=identicon&r=PG", "display_name": "Ev.", "link": "https://stackoverflow.com/users/5243477/ev"}, "edited": false, "score": 0, "creation_date": 1449701115, "post_id": 34190166, "comment_id": 56127270, "body": "Yep. <code>self.initial[&#39;field_name&#39;] = value</code> worked, instead of <code>self.fields[&#39;field_name&#39;] = value</code>. You can add this to your answer. I will mark as resolved."}], "tags": [], "owner": {"reputation": 46016, "user_id": 2615075, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f23ab144c48263fa1c4cf43ae46fb70d?s=128&d=identicon&r=PG", "display_name": "knbk", "link": "https://stackoverflow.com/users/2615075/knbk"}, "is_accepted": true, "score": 3, "last_activity_date": 1589083839, "last_edit_date": 1589083839, "creation_date": 1449699832, "answer_id": 34190166, "question_id": 34190091, "link": "https://stackoverflow.com/questions/34190091/how-override-init-add-instance-forms-form-django/34190166#34190166", "title": "How override __init__ add instance forms.Form Django", "body": "<p>A form doesn't have a <code>fields</code> attribute until you call <code>super().__init__()</code>. You need to move that code down. What you're currently doing is overriding the field instance with its value. Instead you should set the initial value:</p>\n\n<pre><code>def __init__(self, *args, **kwargs):\n    instance = kwargs.get('instance', None)\n\n    super(CityForm, self).__init__(*args, **kwargs)\n\n    if instance:\n        self.initial['post_nr'] = instance.post_code\n        self.initial['city'] = instance.name\n</code></pre>\n\n<p>You might also want to take a look at using a <a href=\"https://docs.djangoproject.com/en/1.9/topics/forms/modelforms/\" rel=\"nofollow noreferrer\"><code>ModelForm</code></a>. </p>\n"}], "owner": {"reputation": 1241, "user_id": 5243477, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/dc9be7e87782026d7af898f6bf62c5f5?s=128&d=identicon&r=PG", "display_name": "Ev.", "link": "https://stackoverflow.com/users/5243477/ev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3997, "favorite_count": 1, "accepted_answer_id": 34190166, "answer_count": 1, "score": 0, "last_activity_date": 1589083839, "creation_date": 1449699595, "question_id": 34190091, "link": "https://stackoverflow.com/questions/34190091/how-override-init-add-instance-forms-form-django", "title": "How override __init__ add instance forms.Form Django", "body": "<p>I want to add an instance parameter to my forms.Form, this way I can initialize it in views and get the expected result in my forms. I know i can use <code>'initial'</code>, but I wanted to try something different.</p>\n\n<h1>Views.py</h1>\n\n<pre><code>city_form = CityForm(instance=user.profile.city)\n</code></pre>\n\n<h1>Forms.py</h1>\n\n<pre><code>class CityForm(forms.Form):\n    post_nr = forms.CharField(max_length=5, widget=forms.TextInput(attrs={'placeholder': 'Post nr.'}))\n    city = forms.CharField(required=False, max_length=30, widget=forms.TextInput(attrs={'placeholder': 'By', 'readonly': True}))\n\n    class Meta:\n        model = City\n\n    def __init__(self, *args, **kwargs):\n        self.instance = kwargs.pop('instance', None)\n\n        if self.instance:\n            self.fields['post_nr'] = self.instance.post_code\n            self.fields['city'] = self.instance.name\n\n        super(CityForm, self).__init__(*args, **kwargs)\n</code></pre>\n\n<p>The referenced instance will be a City object, from my City class which has the variables I specify above.</p>\n\n<p>But I am getting:</p>\n\n<blockquote>\n  <p>'CityForm' object has no attribute 'field'</p>\n</blockquote>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 2094, "user_id": 5508728, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/P3gtR.jpg?s=128&g=1", "display_name": "jeff carey", "link": "https://stackoverflow.com/users/5508728/jeff-carey"}, "edited": false, "score": 0, "creation_date": 1449699009, "post_id": 34189893, "comment_id": 56126263, "body": "Could be a bad copy/paste but &quot;if match == 1:&quot; should is indented too far"}, {"owner": {"reputation": 1592, "user_id": 1845919, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fbcee5c21c32397f287a3aa3aa06607b?s=128&d=identicon&r=PG", "display_name": "admix", "link": "https://stackoverflow.com/users/1845919/admix"}, "edited": false, "score": 0, "creation_date": 1449699817, "post_id": 34189893, "comment_id": 56126654, "body": "Do you want to search for a text that contains the specified &#39;search&#39; criteria? Or you want to search in general for all the occurrences (author,age etc) ?  if search in tweets.get_text():    match = 1"}], "answers": [{"comments": [{"owner": {"reputation": 429, "user_id": 5661402, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e25290d62d20ea1429651a0cac339803?s=128&d=identicon&r=PG&f=1", "display_name": "aust1n", "link": "https://stackoverflow.com/users/5661402/aust1n"}, "edited": false, "score": 0, "creation_date": 1449701451, "post_id": 34190412, "comment_id": 56127417, "body": "This works. However, I think I am needing to return all search results with the search term. This only returns 1 result. I think this may have to do with me setting match = 1. What can I do to fix this?"}], "tags": [], "owner": {"reputation": 1592, "user_id": 1845919, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fbcee5c21c32397f287a3aa3aa06607b?s=128&d=identicon&r=PG", "display_name": "admix", "link": "https://stackoverflow.com/users/1845919/admix"}, "is_accepted": true, "score": 1, "last_activity_date": 1449701648, "last_edit_date": 1449701648, "creation_date": 1449701030, "answer_id": 34190412, "question_id": 34189893, "link": "https://stackoverflow.com/questions/34189893/searching-from-a-list-in-python/34190412#34190412", "title": "Searching from a list in python", "body": "<p>Try this:</p>\n\n<pre><code> ...\n matched_tweets = []\n if search in tweets.get_text(): \n     match = 1\n     matched_tweets.append(tweets) # append all the matches to an array\n ...\n\n # to print out the results\n for tweet in matched_tweets:\n     print(tweet.get_text(), \"\\n\")\n</code></pre>\n"}], "owner": {"reputation": 429, "user_id": 5661402, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e25290d62d20ea1429651a0cac339803?s=128&d=identicon&r=PG&f=1", "display_name": "aust1n", "link": "https://stackoverflow.com/users/5661402/aust1n"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 82, "favorite_count": 0, "accepted_answer_id": 34190412, "answer_count": 1, "score": 2, "last_activity_date": 1449701648, "creation_date": 1449698835, "question_id": 34189893, "link": "https://stackoverflow.com/questions/34189893/searching-from-a-list-in-python", "title": "Searching from a list in python", "body": "<p>I am trying to search from a list in python. Whenever I input the search term it always say \"No tweets contained <em>search</em>\", even when I know that the term is in the list. What am I doing wrong?</p>\n\n<pre><code>elif(ch==3):\n        match = 0\n        tweetlist.reverse()\n        if tweetlist == []:\n            print(\"There are no tweets to search.\\n\")\n            continue\n        else:\n            search = input(\"What would you like to search for? \")\n            for tweets in tweetlist:\n                if(search in tweetlist):\n                    match = 1\n                if match == 1:\n                    print (\"Search Results\")\n                    print(\"----------\")\n                    print(tweets.get_author(), \"-\", tweets.get_age())\n                    print(tweets.get_text(), \"\\n\")\n                elif match == 0:\n                    print(\"No tweets contained,\", search, \"\\n\")\n</code></pre>\n"}, {"tags": ["python", "django", "django-models", "foreign-keys"], "comments": [{"owner": {"reputation": 21174, "user_id": 636625, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/EuUH4.jpg?s=128&g=1", "display_name": "Shang Wang", "link": "https://stackoverflow.com/users/636625/shang-wang"}, "edited": false, "score": 0, "creation_date": 1449698847, "post_id": 34189856, "comment_id": 56126174, "body": "Just to make sure, you are talking about the admin side not in your views.py, right?"}, {"owner": {"reputation": 1234, "user_id": 1299669, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/05c45a90f9fd7a8ae92e37a52b5205fe?s=128&d=identicon&r=PG", "display_name": "Raiyan", "link": "https://stackoverflow.com/users/1299669/raiyan"}, "edited": false, "score": 0, "creation_date": 1449699165, "post_id": 34189856, "comment_id": 56126337, "body": "Have you considered using the post_save (<a href=\"https://docs.djangoproject.com/en/1.9/ref/signals/#post-save\" rel=\"nofollow noreferrer\">docs.djangoproject.com/en/1.9/ref/signals/#post-save</a>) signal?"}, {"owner": {"reputation": 111, "user_id": 4689125, "user_type": "registered", "accept_rate": 12, "profile_image": "https://lh3.googleusercontent.com/-xWK0nTjCVzw/AAAAAAAAAAI/AAAAAAAAGFQ/2GA4Tlijxtg/photo.jpg?sz=128", "display_name": "Tom&#225;\u0161 Cig&#225;nek", "link": "https://stackoverflow.com/users/4689125/tom%c3%a1%c5%a1-cig%c3%a1nek"}, "edited": false, "score": 0, "creation_date": 1449699353, "post_id": 34189856, "comment_id": 56126446, "body": "Yep, so far I&#39;m at admin site phase ;-) Will check that Post save, thanks"}], "answers": [{"tags": [], "owner": {"reputation": 7775, "user_id": 5658350, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/3vhKa.png?s=128&g=1", "display_name": "DhiaTN", "link": "https://stackoverflow.com/users/5658350/dhiatn"}, "is_accepted": false, "score": 1, "last_activity_date": 1449709473, "creation_date": 1449709473, "answer_id": 34191993, "question_id": 34189856, "link": "https://stackoverflow.com/questions/34189856/django-dynamic-model-parameter-value/34191993#34191993", "title": "Django - dynamic model parameter value", "body": "<p>You do this before saving you data by overriding the save function:</p>\n\n<pre><code>class ObjectModel(models.Model):\n    category = models.ForeignKey(# details goes here)\n    .....  # other fields goes here\n\n    def save(self, *args, **kwargs):\n        if self.category.name == 'A':\n            self.description = ...\n        elif self.category.name == 'B':\n            .... # different behavior etc\n        super(ObjectModel, self).save(*args, **kwargs)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 111, "user_id": 4689125, "user_type": "registered", "accept_rate": 12, "profile_image": "https://lh3.googleusercontent.com/-xWK0nTjCVzw/AAAAAAAAAAI/AAAAAAAAGFQ/2GA4Tlijxtg/photo.jpg?sz=128", "display_name": "Tom&#225;\u0161 Cig&#225;nek", "link": "https://stackoverflow.com/users/4689125/tom%c3%a1%c5%a1-cig%c3%a1nek"}, "is_accepted": false, "score": 1, "last_activity_date": 1450036657, "creation_date": 1450036657, "answer_id": 34255643, "question_id": 34189856, "link": "https://stackoverflow.com/questions/34189856/django-dynamic-model-parameter-value/34255643#34255643", "title": "Django - dynamic model parameter value", "body": "<p>OK, finaly I have find acceptable solution. I'm creating the related object at the time of Category object is being saved and passing it's attribute to the object. Something like </p>\n\n<pre><code>class Category(models.Model):\n      name = models.CharField(max_length=10)\n      ...\n      def save(self, *args, **kwargs):\n          super(Category, self).save(*args, **kwargs)\n                Object.objects.create(name=self.name)\n</code></pre>\n\n<p>Only disadvantage I've noticed that Objects created this <em>automated way</em> has to have empty (if allowed) or <em>machine generated</em> attributed, but that's just a minor defect for me and I can do any updates via common administration form is needed.</p>\n"}], "owner": {"reputation": 111, "user_id": 4689125, "user_type": "registered", "accept_rate": 12, "profile_image": "https://lh3.googleusercontent.com/-xWK0nTjCVzw/AAAAAAAAAAI/AAAAAAAAGFQ/2GA4Tlijxtg/photo.jpg?sz=128", "display_name": "Tom&#225;\u0161 Cig&#225;nek", "link": "https://stackoverflow.com/users/4689125/tom%c3%a1%c5%a1-cig%c3%a1nek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 170, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1513814449, "creation_date": 1449698655, "last_edit_date": 1513814449, "question_id": 34189856, "link": "https://stackoverflow.com/questions/34189856/django-dynamic-model-parameter-value", "title": "Django - dynamic model parameter value", "body": "<p>I have two simple models with ForeignKey relation, Category and Object let say (Object has FK attribute to Category) and in administration I need to assign value of another object attribute value base on the actually selected Category.</p>\n\n<p>Example:</p>\n\n<p><em>I will create in Django Admin interface Category with attribute cat_name=\"A\" and another Category with cat_name=\"B\".\nNow in the Object creation form I can select in the form \"A\" or \"B\" Category, and based on that selection I need to store in Object.description attribute something like \"Selected category is B\"</em></p>\n\n<p>I've tried several approaches but all ended on the fact that the instance of the Category object has to be somehow passed to the Object creation form.</p>\n\n<p>Thanks</p>\n"}, {"tags": ["python", "windows", "cython"], "comments": [{"owner": {"reputation": 23048, "user_id": 4657412, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4915a27d01efa79d81d322511ee517a9?s=128&d=identicon&r=PG&f=1", "display_name": "DavidW", "link": "https://stackoverflow.com/users/4657412/davidw"}, "edited": false, "score": 0, "creation_date": 1449772600, "post_id": 34189761, "comment_id": 56162824, "body": "Have a look at this <a href=\"http://stackoverflow.com/questions/33669804/backward-compatibility-of-python-3-5-for-external-modules/33674759#33674759\" title=\"backward compatibility of python 3 5 for external modules\">stackoverflow.com/questions/33669804/&hellip;</a>."}], "answers": [{"tags": [], "owner": {"reputation": 8368, "user_id": 170656, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ab69055dbec51045b913cf64fc16d7d4?s=128&d=identicon&r=PG", "display_name": "Caleb Hattingh", "link": "https://stackoverflow.com/users/170656/caleb-hattingh"}, "is_accepted": true, "score": 9, "last_activity_date": 1541602829, "last_edit_date": 1541602829, "creation_date": 1451300989, "answer_id": 34492408, "question_id": 34189761, "link": "https://stackoverflow.com/questions/34189761/distribute-pre-compiled-cython-code-to-windows/34492408#34492408", "title": "Distribute pre-compiled Cython code to Windows", "body": "<p>Yes, you can expect the binary <code>.pyd</code> file to run on a different Windows machine, as long as the the python version matches the version against which the Cython module was compiled, <em>including x86/x64</em> differences.</p>\n\n<p>Building extension modules on Windows is no longer as difficult as it once was. </p>\n\n<p>The easiest is to use <a href=\"https://www.anaconda.com/download/\" rel=\"nofollow noreferrer\">Anaconda Python</a> which <strong>includes a compiler</strong> in the installer.  It is the closest thing to \"Just Works\" currently available.  It also makes it very easy to build a binary version for every Python version back to 2.6 if necessary, using the <code>conda</code> command-line tool for creating virtual environments.  You pretty much just activate an env, run the build (<code>python setup.py bdist_wheel</code> to make a <code>.whl</code> file), activate the next env for a different Python version, run the build, and so on.  The wheel files you end up with (<code>*.whl</code>) can be copied to other machines and then you simply <code>pip install blah.whl</code> directly.</p>\n\n<p>Using stock Python is also manageable, but requires a bit more work.  For Python 2.7, you need to install the <em>Windows SDK 7.0</em>, and for Python 3.4 you need <em>Windows SDK 7.1</em>.  These SDKs provide the compilers to build for both x86 and x64.  Unfortunately, for Python 3.5 you need a different thing, <em>Visual Studio 2015</em>.  My blog has a <a href=\"http://pythonomicon.com/?post=Compiling%20Python%20extension%20modules%20on%20Windows\" rel=\"nofollow noreferrer\">short entry</a> that goes into more detail about getting set up for 2.7 and 3.4.  (I still need to update it for 3.5).</p>\n\n<p>There are a few tools for making it easier to compile <code>.pyx</code> files directly.  Cython itself provides a command line tool, <code>cythonize</code> which you can use to build files like this:</p>\n\n<pre><code>&gt; cythonize -b blah.pyx\n</code></pre>\n\n<p>There are other tools, like my <a href=\"https://github.com/cjrh/easycython\" rel=\"nofollow noreferrer\">easycython</a>, which doesn't offer much more than <code>cythonize</code>, but has a few conveniences like optional numpy support and optimized compiler flags by default.  Either way, you can copy the <code>.pyd</code> extension module itself and place it somewhere on the Python path.  But wheels are better.</p>\n"}], "owner": {"reputation": 1302, "user_id": 5661194, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dwdCZ.png?s=128&g=1", "display_name": "Dion", "link": "https://stackoverflow.com/users/5661194/dion"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1299, "favorite_count": 4, "accepted_answer_id": 34492408, "answer_count": 1, "score": 7, "last_activity_date": 1541602829, "creation_date": 1449698210, "question_id": 34189761, "link": "https://stackoverflow.com/questions/34189761/distribute-pre-compiled-cython-code-to-windows", "title": "Distribute pre-compiled Cython code to Windows", "body": "<p>For a class, I have written a solver for a numerical problem. My code runs in an IPython notebook, where most of the code is pure Python + NumPy + matplotlib, but the performance-critical parts are written in Cython (and included with the IPython <code>%%cython</code> magic). The professor liked my solution and asked me to make it available to some undergraduate students he will be teaching about a similar subject in another class as reference material. The problem is, that I am not really sure about what would be the best way to distribute my code.</p>\n\n<p>My main issue is, that most of the students probably run Windows. Compiling Cython code on Windows was a nightmare the last time I did it, since you will have to juggle with a couple of different C compilers until you find one that works. It can definitely not be expected from every student that wants to run my notebook to get a working Cython environment.</p>\n\n<p>I had the idea to precompile the Cython part of the code (it does not need to be altered by the students) on a Windows machine and distribute the pyd file. So my question is:</p>\n\n<h3>Can I expect a Cython binary that I compile on Windows to be usable on another Windows machine?</h3>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 55248, "user_id": 642070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c280b71b3187d1cc113a6e302b414b9?s=128&d=identicon&r=PG", "display_name": "tdelaney", "link": "https://stackoverflow.com/users/642070/tdelaney"}, "edited": false, "score": 0, "creation_date": 1449700872, "post_id": 34189757, "comment_id": 56127167, "body": "Your example doesn&#39;t have any unescaped strings in it. Are you trying to get rid of the line feeds in the multiline string? What do you want the answer to look like?"}], "answers": [{"comments": [{"owner": {"reputation": 441, "user_id": 507430, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/675a51c43e8e82c2ce5c0e72a265e4f4?s=128&d=identicon&r=PG", "display_name": "Dvd Avins", "link": "https://stackoverflow.com/users/507430/dvd-avins"}, "edited": false, "score": 0, "creation_date": 1449748466, "post_id": 34189780, "comment_id": 56147128, "body": "That&#39;s it. I forgot I needed the print statements to make it work."}], "tags": [], "owner": {"reputation": 16796, "user_id": 1490552, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3V3yR.jpg?s=128&g=1", "display_name": "Adem &#214;zta\u015f", "link": "https://stackoverflow.com/users/1490552/adem-%c3%96zta%c5%9f"}, "is_accepted": true, "score": 2, "last_activity_date": 1449698296, "creation_date": 1449698296, "answer_id": 34189780, "question_id": 34189757, "link": "https://stackoverflow.com/questions/34189757/how-can-i-have-newlines-in-multiline-string-print-new-lines-in-windows/34189780#34189780", "title": "How Can I have newlines in multiline string print new lines in Windows?", "body": "<p>Try </p>\n\n<pre><code>print sql.decode('string_escape')\n</code></pre>\n\n<p>Output</p>\n\n<pre><code>SELECT {column_specs}\n    FROM {tables}\n    WHERE year = {year} AND game_ref = games.id AND\n        {id_matches} AND\n        EVENT_CD IN ({event_codes})\n</code></pre>\n"}], "owner": {"reputation": 441, "user_id": 507430, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/675a51c43e8e82c2ce5c0e72a265e4f4?s=128&d=identicon&r=PG", "display_name": "Dvd Avins", "link": "https://stackoverflow.com/users/507430/dvd-avins"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 104, "favorite_count": 0, "accepted_answer_id": 34189780, "answer_count": 1, "score": 1, "last_activity_date": 1449698296, "creation_date": 1449698192, "last_edit_date": 1495542619, "question_id": 34189757, "link": "https://stackoverflow.com/questions/34189757/how-can-i-have-newlines-in-multiline-string-print-new-lines-in-windows", "title": "How Can I have newlines in multiline string print new lines in Windows?", "body": "<p>I have read How do I un-escape a backslash-escaped string in python? (<a href=\"https://stackoverflow.com/questions/1885181/how-do-i-un-escape-a-backslash-escaped-string-in-python\">How do I un-escape a backslash-escaped string in python?</a>) and the answer doesn't work, perhaps because I'm running Windows.</p>\n\n<pre><code>In [1]: sql = '''\nSELECT {column_specs}\n    FROM {tables}\n    WHERE year = {year} AND game_ref = games.id AND\n        {id_matches} AND\n        EVENT_CD IN ({event_codes})'''\nIn [2]: sql.decode('string_escape')\nOut[2]: '\\nSELECT {column_specs}\\n    FROM {tables}\\n    WHERE year = {year} AND game_ref = games.id AND\\n        {id_matches} AND\\n        EVENT_CD IN ({event_codes})'\n</code></pre>\n"}, {"tags": ["python", "redis", "connection", "celery", "kombu"], "owner": {"reputation": 111, "user_id": 1487815, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9df88f9096f479bf4145868985d31769?s=128&d=identicon&r=PG", "display_name": "10cool", "link": "https://stackoverflow.com/users/1487815/10cool"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 492, "favorite_count": 2, "answer_count": 0, "score": 4, "last_activity_date": 1449698112, "creation_date": 1449698112, "question_id": 34189742, "link": "https://stackoverflow.com/questions/34189742/why-does-a-basic-celery-application-doing-nothing-require-8-open-redis-connect", "title": "Why does a basic Celery application, doing nothing, require 8 open Redis connections?", "body": "<p>Trying to more fully understand how Celery/Kombu and Redis interact under the hood to better project scaling and cost of equipment (particularly in dev environments where I'd like the smallest Redis setup possible and thus the fewest connections).</p>\n\n<p>I've failed to find the specific documentation I'm looking for on this subject in the Celery or Kombu User Guide's. </p>\n\n<p>All of the following assumptions and questions are based on tests I've run using a Celery app with no tasks (just <code>app = Celery(\"DatabaseWorker\", broker=redis_uri)</code>), that then just sits there and does nothing, and using the redis-cli tool (using the monitor option for real time updates). I spin up a single worker of this type and get my 8 open connections.</p>\n\n<p>Looking for answers or corrections of my misinformed assumptions:</p>\n\n<ol>\n<li><p>Why do all 8 connections remain open? Does this have to do with the fact that each connection is from a pool and thus never closes? </p></li>\n<li><p>If it is pool related then why does setting values in <code>celeryconfig.py</code> such as the following still result in 8 connections (neither option seems to work)</p>\n\n<pre><code>BROKER_TRANSPORT_OPTIONS = {\n    max_connections': 5,\n}\nBROKER_POOL_LIMIT = 5\n</code></pre></li>\n<li><p>Two (2) of the connections appear to be associated with <code>celeryev</code> (for monitoring tools). One for publishing messages (issuing <code>PUBLISH</code> commands) and one subscribing (<code>PSUBSCRIBE</code>). I can turn off publishing using <code>--without-hearbeat</code> (oldly not using <code>CELERY_SEND_EVENTS</code> config var) saving a connection. Can I also prevent the subscription connection? In a development enviroment where I want as a few connections as possible and do not care about monitoring killing both would be great.</p></li>\n<li><p>Four (4) of the connections follow this pattern where they check for the existance of some queues/sets/keys, then set a value in the set. But still aren't closed. Why? For example:</p>\n\n<pre><code>1449649220.026758 [0 [::1]:57605] \"INFO\"\n1449649220.027633 [0 [::1]:57605] \"MULTI\"\n1449649220.027655 [0 [::1]:57605] \"LLEN\" \"celery@xxxxxx-MacBook-Pro.local.celery.pidbox\"\n1449649220.027665 [0 [::1]:57605] \"LLEN\" \"celery@xxxxxx-MacBook-Pro.local.celery.pidbox\\x06\\x163\"\n1449649220.027674 [0 [::1]:57605] \"LLEN\" \"celery@xxxxxx-MacBook-Pro.local.celery.pidbox\\x06\\x166\"\n1449649220.027681 [0 [::1]:57605] \"LLEN\" \"celery@xxxxxx-MacBook-Pro.local.celery.pidbox\\x06\\x169\"\n1449649220.027691 [0 [::1]:57605] \"EXEC\"\n1449649220.027983 [0 [::1]:57605] \"SADD\" \"_kombu.binding.celery.pidbox\" \"\\x06\\x16\\x06\\x16celery@xxxxxx-MacBook-Pro.local.celery.pidbox\"\n</code></pre></li>\n<li><p>One (1) connection seems to be used to boot strap the system. Setting up keys related to a <code>pidbox</code> then publishing. If this just to let the distributed system know that a new worker has come online?</p>\n\n<pre><code>1449697220.549016 [0 [::1]:62992] \"PUBLISH\" \"celery.pidbox\" \"{\\\"body\\\": \\\"eyJyZXBseV90byI6IHsicm91dGluZ19rZXkiOiAiMTUwYWZhYzEtZThmNy0zNDI2LWEwM2ItNWRhNGYzMzg3M2JhIiwgImV4Y2hhbmdlIjogInJlcGx5LmNlbGVyeS5waWRib3gifSwgInRpY2tldCI6ICJjNGUyNTVjMS05YzZjLTQxNzktOGM4Yi05NzRmOGVjYmE5ZDQiLCAiZGVzdGluYXRpb24iOiBudWxsLCAibWV0aG9kIjogImhlbGxvIiwgImFyZ3VtZW50cyI6IHsicmV2b2tlZCI6IHt9LCAiZnJvbV9ub2RlIjogImNlbGVyeUBFc3RldmFucy1NYWNCb29rLVByby5sb2NhbCJ9fQ==\\\", \\\"headers\\\": {\\\"expires\\\": 1449697221.548759, \\\"clock\\\": 1}, \\\"content-type\\\": \\\"application/json\\\", \\\"properties\\\": {\\\"body_encoding\\\": \\\"base64\\\", \\\"delivery_info\\\": {\\\"priority\\\": 0, \\\"routing_key\\\": \\\"\\\", \\\"exchange\\\": \\\"celery.pidbox\\\"}, \\\"delivery_mode\\\": 2, \\\"delivery_tag\\\": \\\"e8e4ad76-bb0a-4c83-8cca-d01e25f3633b\\\"}, \\\"content-encoding\\\": \\\"utf-8\\\"}\"\n</code></pre></li>\n<li><p>The keys set in redis for Kombu are pretty cryptic and I'm having a hard time finding out exactly what they are used for. I assume these key/values are the actual message queues being consumed but what specific purpose does <code>_kombu.binding.celery.pidbox</code> server, for example, and what is with the crazy formatting for the value? (I assume the <code>_kombu.binding.celery</code> is the default task queue and <code>_kombu.binding.celeryev</code> is the queue for heartbeat messages)</p>\n\n<pre><code>1449649219.005095 [0 [::1]:57599] \"SADD\" \"_kombu.binding.reply.celery.pidbox\" \"bc8319b5-c8d3-38b9-8848-da686bd088b7\\x06\\x16\\x06\\x16bc8319b5-c8d3-38b9-8848-da686bd088b7.reply.celery.pidbox\"\n1449649220.020213 [0 [::1]:57604] \"SADD\" \"_kombu.binding.celeryev\" \"worker.#\\x06\\x16\\x06\\x16celeryev.4834be60-b102-4fd5-9fdc-617bb945c079\"\n1449649220.024899 [0 [::1]:57603] \"SADD\" \"_kombu.binding.celery\" \"celery\\x06\\x16\\x06\\x16celery\"\n1449649220.027983 [0 [::1]:57605] \"SADD\" \"_kombu.binding.celery.pidbox\" \"\\x06\\x16\\x06\\x16celery@xxxxxx-MacBook-Pro.local.celery.pidbox\"\n</code></pre></li>\n<li><p>One (1) connection apears to just poll queues and popping elements off, this makes sense to keep alive and I can see why this would never close. But where are these queue names coming from? They do not appear to be the same names as those set above using <code>SADD</code>. Why are their 3 queues?</p>\n\n<pre><code>1449649224.677975 [0 [::1]:57601] \"BRPOP\" \"celery\" \"celery\\x06\\x163\" \"celery\\x06\\x166\" \"celery\\x06\\x169\" \"1\"\n</code></pre></li>\n</ol>\n\n<p>If, in the end, a single worker just needs 8 connection because all of this is necessary then so be it.</p>\n"}, {"tags": ["python", "postgresql", "flask", "flask-sqlalchemy", "flask-migrate"], "answers": [{"tags": [], "owner": {"reputation": 10474, "user_id": 5015356, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d774038494809a56eb21a730d9ba454?s=128&d=identicon&r=PG&f=1", "display_name": "Ruben Helsloot", "link": "https://stackoverflow.com/users/5015356/ruben-helsloot"}, "is_accepted": false, "score": 1, "last_activity_date": 1599755143, "last_edit_date": 1599755143, "creation_date": 1562681178, "answer_id": 56954430, "question_id": 34189713, "link": "https://stackoverflow.com/questions/34189713/how-to-create-order-by-index-in-flask-sqlalchemy/56954430#56954430", "title": "How to create order by index in flask-sqlalchemy", "body": "<p>You can specify ordering using the <a href=\"https://docs.sqlalchemy.org/en/13/dialects/postgresql.html#operator-classes\" rel=\"nofollow noreferrer\"><code>postgresql_ops</code></a> keyword argument as you did in the other indices. That would make the following valid:</p>\n<pre class=\"lang-py prettyprint-override\"><code>db.Index(\n    'order_fio_desc',\n    'fio',\n    postgresql_using='btree',\n    postgresql_ops={'fio': 'DESC'},\n),\n</code></pre>\n<p>This gives the following output in the migration file:</p>\n<pre class=\"lang-py prettyprint-override\"><code>op.create_index('order_fio_desc', 'student', ['fio'], unique=False, postgresql_using='btree', postgresql_ops={'fio': 'DESC'})\n</code></pre>\n<p>Which in turn results in the required SQL:</p>\n<pre><code>CREATE INDEX order_fio_desc ON student USING btree (fio DESC);\n</code></pre>\n"}], "owner": {"reputation": 63, "user_id": 3675195, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f63ccc27f4f0d88fff08fc68e0ced010?s=128&d=identicon&r=PG&f=1", "display_name": "user3675195", "link": "https://stackoverflow.com/users/3675195/user3675195"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1235, "favorite_count": 2, "answer_count": 1, "score": 4, "last_activity_date": 1599755143, "creation_date": 1449698012, "last_edit_date": 1449698238, "question_id": 34189713, "link": "https://stackoverflow.com/questions/34189713/how-to-create-order-by-index-in-flask-sqlalchemy", "title": "How to create order by index in flask-sqlalchemy", "body": "<p>There are the following: Flask, Flask-sqlalchemy, Flask-migrate</p>\n\n<p>There is a class describing the table:</p>\n\n<pre><code>class Student(db.Model):\n    __tablename__ = 'student'\n\n    id = db.Column(db.Integer, primary_key=True)\n    first_name = db.Column(db.Unicode(250), nullable=False, index=True)\n    last_name = db.Column(db.Unicode(250), nullable=False, index=True)\n    surname = db.Column(db.Unicode(250), nullable=False, index=True)\n    group = db.Column(db.Unicode(250), nullable=False, index=True)\n    fio = db.Column(db.Unicode(250*3))\n\n    add_info = db.relationship('AddInfo', uselist=False, backref='student', cascade=\"all, delete-orphan\")\n\n    __table_args__ = (\n        db.Index('fio_like', 'fio', postgresql_ops={'fio': 'text_pattern_ops'}),\n        db.Index('first_name_like', 'first_name', postgresql_ops={'first_name': 'text_pattern_ops'}),\n        db.Index('last_like', 'last_name', postgresql_ops={'last': 'text_pattern_ops'}),\n        db.Index('surname_like', 'surname', postgresql_ops={'surname': 'text_pattern_ops'}),\n        db.Index('order_fio_desc', fio.desc(), postgresql_using='btree'),\n    )\n\n    @classmethod\n    def create(cls, first_name, last_name, surname, address, date_of_birth, group):\n        obj = cls()\n\n        obj.first_name = first_name\n        obj.last_name = last_name\n        obj.surname = surname\n        obj.group = group\n        obj.fio = ' '.join([last_name, first_name, surname]).strip()\n\n        if not obj.add_info:\n            obj.add_info = AddInfo()\n\n        obj.add_info.address = address\n        obj.add_info.date_of_birth = date_of_birth\n\n        return obj\n\n    @property\n    def serialize(self):\n        return {\n            'id': self.id,\n            'fio': self.fio,\n            'group': self.group\n        }\n</code></pre>\n\n<p>When you migrate this model to create an index order_fio_desc using this query:</p>\n\n<pre><code>CREATE INDEX order_fio_desc ON student USING btree (student.fio DESC)\n</code></pre>\n\n<p>Due to the fact that in the name of the field name is present PostgreSQL database does not allow to create such an index. But if the name field to remove the name of the table, the index is created without problems:</p>\n\n<pre><code>CREATE INDEX order_fio_desc ON student USING btree (fio DESC)\n</code></pre>\n\n<p>How to make a request to create an index generated right?</p>\n"}, {"tags": ["python", "sql", "django", "django-orm", "postgresql-9.3"], "comments": [{"owner": {"reputation": 275, "user_id": 511468, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/01c3ef88b167f53d1898e205fff871ac?s=128&d=identicon&r=PG", "display_name": "Thinkwell", "link": "https://stackoverflow.com/users/511468/thinkwell"}, "reply_to_user": {"reputation": 46016, "user_id": 2615075, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f23ab144c48263fa1c4cf43ae46fb70d?s=128&d=identicon&r=PG", "display_name": "knbk", "link": "https://stackoverflow.com/users/2615075/knbk"}, "edited": false, "score": 0, "creation_date": 1449700951, "post_id": 34189680, "comment_id": 56127207, "body": "Ok, full tracepack posted as well as updated queryset from @Gocht&#39;s comments"}, {"owner": {"reputation": 46016, "user_id": 2615075, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f23ab144c48263fa1c4cf43ae46fb70d?s=128&d=identicon&r=PG", "display_name": "knbk", "link": "https://stackoverflow.com/users/2615075/knbk"}, "edited": false, "score": 0, "creation_date": 1449702609, "post_id": 34189680, "comment_id": 56127904, "body": "Can you show the output of <code>from django.db import connection; print(connection.queries)</code> after running this query in a django shell?"}, {"owner": {"reputation": 275, "user_id": 511468, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/01c3ef88b167f53d1898e205fff871ac?s=128&d=identicon&r=PG", "display_name": "Thinkwell", "link": "https://stackoverflow.com/users/511468/thinkwell"}, "reply_to_user": {"reputation": 46016, "user_id": 2615075, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f23ab144c48263fa1c4cf43ae46fb70d?s=128&d=identicon&r=PG", "display_name": "knbk", "link": "https://stackoverflow.com/users/2615075/knbk"}, "edited": false, "score": 0, "creation_date": 1449702902, "post_id": 34189680, "comment_id": 56128037, "body": "Ok, yes, I&#39;ve added that output. Thanks for keeping with me!"}, {"owner": {"reputation": 46016, "user_id": 2615075, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f23ab144c48263fa1c4cf43ae46fb70d?s=128&d=identicon&r=PG", "display_name": "knbk", "link": "https://stackoverflow.com/users/2615075/knbk"}, "edited": false, "score": 0, "creation_date": 1449705156, "post_id": 34189680, "comment_id": 56128886, "body": "Which <code>JsonField</code> are you using?"}, {"owner": {"reputation": 275, "user_id": 511468, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/01c3ef88b167f53d1898e205fff871ac?s=128&d=identicon&r=PG", "display_name": "Thinkwell", "link": "https://stackoverflow.com/users/511468/thinkwell"}, "reply_to_user": {"reputation": 46016, "user_id": 2615075, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f23ab144c48263fa1c4cf43ae46fb70d?s=128&d=identicon&r=PG", "display_name": "knbk", "link": "https://stackoverflow.com/users/2615075/knbk"}, "edited": false, "score": 0, "creation_date": 1449712910, "post_id": 34189680, "comment_id": 56131249, "body": "<a href=\"https://github.com/djangonauts/django-pgjson\" rel=\"nofollow noreferrer\">django-pgjson</a>"}], "answers": [{"comments": [{"owner": {"reputation": 275, "user_id": 511468, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/01c3ef88b167f53d1898e205fff871ac?s=128&d=identicon&r=PG", "display_name": "Thinkwell", "link": "https://stackoverflow.com/users/511468/thinkwell"}, "edited": false, "score": 0, "creation_date": 1449699308, "post_id": 34189733, "comment_id": 56126427, "body": "Thanks for the idea, but I&#39;m still getting the ProgrammingError raised!"}, {"owner": {"reputation": 8395, "user_id": 3945375, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/DE10z.jpg?s=128&g=1", "display_name": "Gocht", "link": "https://stackoverflow.com/users/3945375/gocht"}, "reply_to_user": {"reputation": 275, "user_id": 511468, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/01c3ef88b167f53d1898e205fff871ac?s=128&d=identicon&r=PG", "display_name": "Thinkwell", "link": "https://stackoverflow.com/users/511468/thinkwell"}, "edited": false, "score": 0, "creation_date": 1449699411, "post_id": 34189733, "comment_id": 56126477, "body": "@thinkwelldesigns Use <code>Value</code> in then -&gt; <code>then=Value(1)</code>"}, {"owner": {"reputation": 8395, "user_id": 3945375, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/DE10z.jpg?s=128&g=1", "display_name": "Gocht", "link": "https://stackoverflow.com/users/3945375/gocht"}, "reply_to_user": {"reputation": 275, "user_id": 511468, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/01c3ef88b167f53d1898e205fff871ac?s=128&d=identicon&r=PG", "display_name": "Thinkwell", "link": "https://stackoverflow.com/users/511468/thinkwell"}, "edited": false, "score": 0, "creation_date": 1449699803, "post_id": 34189733, "comment_id": 56126650, "body": "@thinkwelldesigns Use the same Value in default | is that your full traceback? | Is that your exact code? or is it a repr?"}, {"owner": {"reputation": 8395, "user_id": 3945375, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/DE10z.jpg?s=128&g=1", "display_name": "Gocht", "link": "https://stackoverflow.com/users/3945375/gocht"}, "reply_to_user": {"reputation": 275, "user_id": 511468, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/01c3ef88b167f53d1898e205fff871ac?s=128&d=identicon&r=PG", "display_name": "Thinkwell", "link": "https://stackoverflow.com/users/511468/thinkwell"}, "edited": false, "score": 0, "creation_date": 1449701558, "post_id": 34189733, "comment_id": 56127461, "body": "@thinkwelldesigns Remove the last &#39;,&#39; (comma). I edited the answer for testing purposes, please use the code above."}], "tags": [], "owner": {"reputation": 8395, "user_id": 3945375, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/DE10z.jpg?s=128&g=1", "display_name": "Gocht", "link": "https://stackoverflow.com/users/3945375/gocht"}, "is_accepted": false, "score": 1, "last_activity_date": 1449701424, "last_edit_date": 1449701424, "creation_date": 1449698090, "answer_id": 34189733, "question_id": 34189680, "link": "https://stackoverflow.com/questions/34189680/create-case-query-via-django-orm/34189733#34189733", "title": "Create Case query via Django ORM", "body": "<p>Try by not using <code>Q</code> function, use separated <em>When</em> instead:</p>\n\n<pre><code>Logs.objects.annotate(\n     allowed=Count(Case(\n        When(action='a', then=1),\n        When(action='ae', then=1),\n        default=0,\n        output_field=IntegerField()\n    )\n)).values('date')\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 275, "user_id": 511468, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/01c3ef88b167f53d1898e205fff871ac?s=128&d=identicon&r=PG", "display_name": "Thinkwell", "link": "https://stackoverflow.com/users/511468/thinkwell"}, "is_accepted": true, "score": 1, "last_activity_date": 1449760669, "creation_date": 1449760669, "answer_id": 34205518, "question_id": 34189680, "link": "https://stackoverflow.com/questions/34189680/create-case-query-via-django-orm/34205518#34205518", "title": "Create Case query via Django ORM", "body": "<p>Well, thanks @knbk and @Gocht for trying. I finally found the solution to my problem. I had to specify that I only wanted the <code>domain_name</code> column, which took care of the traceback. </p>\n\n<p>Also, I had to use Sum instead of Count to return 0 for all domains that had no matches. Count returned 1 for nonmatching values.</p>\n\n<pre><code>Logs.objects.values('domain_name').annotate(\n     allowed=Sum(Case(\n        When(Q(action='a') |Q(action='ae'), then=Value(1)),\n        default=Value(0),\n        output_field=IntegerField()\n    )\n))\n</code></pre>\n"}], "owner": {"reputation": 275, "user_id": 511468, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/01c3ef88b167f53d1898e205fff871ac?s=128&d=identicon&r=PG", "display_name": "Thinkwell", "link": "https://stackoverflow.com/users/511468/thinkwell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 289, "favorite_count": 1, "accepted_answer_id": 34205518, "answer_count": 2, "score": 1, "last_activity_date": 1449779517, "creation_date": 1449697845, "last_edit_date": 1449779517, "question_id": 34189680, "link": "https://stackoverflow.com/questions/34189680/create-case-query-via-django-orm", "title": "Create Case query via Django ORM", "body": "<p>Using Django 1.8 and Postgres 9.3 - I have a Django model as follows which contains log lines. I would like to extract all <code>domain_name</code> values that were never allowed access. </p>\n\n<pre class=\"lang-python prettyprint-override\"><code>class Logs(models.Model):\n    date = DateTimeField(db_index=True)\n    action = TextField(default='a', null=True, blank=True, db_index=True)\n    url = TextField(null=True, blank=True)\n    stats = JsonField(null=True, blank=True)\n    domain_name = TextField(null=True, blank=True, db_index=True)\n    &lt;snip&gt;\n</code></pre>\n\n<p>This SQL query works nicely, but I'm having trouble translating it to a Django ORM queryset.</p>\n\n<pre class=\"lang-sql prettyprint-override\"><code>select domain_name from reporter_log\nGROUP BY domain_name\n\nHAVING COUNT(CASE WHEN action = 'a' OR action = 'ae' then 1 END) = 0;\n</code></pre>\n\n<p>I would have expected the following queryset would work:\n</p>\n\n<pre><code>LogLine.objects.annotate(\n     allowed=Count(Case(\n        When(action='a', then=Value(1)),\n        When(action='ae', then=Value(1)),\n        default=Value(0),\n        output_field=IntegerField(),\n    )\n))\n</code></pre>\n\n<p>But I get a traceback:</p>\n\n<pre><code>ProgrammingError                          Traceback (most recent call last)\n&lt;ipython-input-4-feb056328fe8&gt; in &lt;module&gt;()\n      4         When(action='ae', then=Value(1)),\n      5         default=Value(0),\n----&gt; 6         output_field=IntegerField(),\n      7     )\n      8 ))\n\n/usr/lib/python3/dist-packages/IPython/core/displayhook.py in __call__(self, result)\n    245             self.start_displayhook()\n    246             self.write_output_prompt()\n--&gt; 247             format_dict, md_dict = self.compute_format_data(result)\n    248             self.write_format_data(format_dict, md_dict)\n    249             self.update_user_ns(result)\n\n/usr/lib/python3/dist-packages/IPython/core/displayhook.py in compute_format_data(self, result)\n    155 \n    156         \"\"\"\n--&gt; 157         return self.shell.display_formatter.format(result)\n    158 \n    159     def write_format_data(self, format_dict, md_dict=None):\n\n/usr/lib/python3/dist-packages/IPython/core/formatters.py in format(self, obj, include, exclude)\n    150             md = None\n    151             try:\n--&gt; 152                 data = formatter(obj)\n    153             except:\n    154                 # FIXME: log the exception\n\n/usr/lib/python3/dist-packages/IPython/core/formatters.py in __call__(self, obj)\n    478                 type_pprinters=self.type_printers,\n    479                 deferred_pprinters=self.deferred_printers)\n--&gt; 480             printer.pretty(obj)\n    481             printer.flush()\n    482             return stream.getvalue()\n\n/usr/lib/python3/dist-packages/IPython/lib/pretty.py in pretty(self, obj)\n    361                             if isinstance(meth, collections.Callable):\n    362                                 return meth(obj, self, cycle)\n--&gt; 363             return _default_pprint(obj, self, cycle)\n    364         finally:\n    365             self.end_group()\n\n/usr/lib/python3/dist-packages/IPython/lib/pretty.py in _default_pprint(obj, p, cycle)\n    481     if getattr(klass, '__repr__', None) not in _baseclass_reprs:\n    482         # A user-provided repr.\n--&gt; 483         p.text(repr(obj))\n    484         return\n    485     p.begin_group(1, '&lt;')\n\n/usr/local/lib/python3.4/dist-packages/django/db/models/query.py in __repr__(self)\n    136 \n    137     def __repr__(self):\n--&gt; 138         data = list(self[:REPR_OUTPUT_SIZE + 1])\n    139         if len(data) &gt; REPR_OUTPUT_SIZE:\n    140             data[-1] = \"...(remaining elements truncated)...\"\n\n/usr/local/lib/python3.4/dist-packages/django/db/models/query.py in __iter__(self)\n    160                - Responsible for turning the rows into model objects.\n    161         \"\"\"\n--&gt; 162         self._fetch_all()\n    163         return iter(self._result_cache)\n    164 \n\n/usr/local/lib/python3.4/dist-packages/django/db/models/query.py in _fetch_all(self)\n    963     def _fetch_all(self):\n    964         if self._result_cache is None:\n--&gt; 965             self._result_cache = list(self.iterator())\n    966         if self._prefetch_related_lookups and not self._prefetch_done:\n    967             self._prefetch_related_objects()\n\n/usr/local/lib/python3.4/dist-packages/django/db/models/query.py in iterator(self)\n    236         # Execute the query. This will also fill compiler.select, klass_info,\n    237         # and annotations.\n--&gt; 238         results = compiler.execute_sql()\n    239         select, klass_info, annotation_col_map = (compiler.select, compiler.klass_info,\n    240                                                   compiler.annotation_col_map)\n\n/usr/local/lib/python3.4/dist-packages/django/db/models/sql/compiler.py in execute_sql(self, result_type)\n    838         cursor = self.connection.cursor()\n    839         try:\n--&gt; 840             cursor.execute(sql, params)\n    841         except Exception:\n    842             cursor.close()\n\n/usr/local/lib/python3.4/dist-packages/django/db/backends/utils.py in execute(self, sql, params)\n     77         start = time()\n     78         try:\n---&gt; 79             return super(CursorDebugWrapper, self).execute(sql, params)\n     80         finally:\n     81             stop = time()\n\n/usr/local/lib/python3.4/dist-packages/django/db/backends/utils.py in execute(self, sql, params)\n     62                 return self.cursor.execute(sql)\n     63             else:\n---&gt; 64                 return self.cursor.execute(sql, params)\n     65 \n     66     def executemany(self, sql, param_list):\n\n/usr/local/lib/python3.4/dist-packages/django/db/utils.py in __exit__(self, exc_type, exc_value, traceback)\n     95                 if dj_exc_type not in (DataError, IntegrityError):\n     96                     self.wrapper.errors_occurred = True\n---&gt; 97                 six.reraise(dj_exc_type, dj_exc_value, traceback)\n     98 \n     99     def __call__(self, func):\n\n/usr/local/lib/python3.4/dist-packages/django/utils/six.py in reraise(tp, value, tb)\n    656             value = tp()\n    657         if value.__traceback__ is not tb:\n--&gt; 658             raise value.with_traceback(tb)\n    659         raise value\n    660 \n\n/usr/local/lib/python3.4/dist-packages/django/db/backends/utils.py in execute(self, sql, params)\n     62                 return self.cursor.execute(sql)\n     63             else:\n---&gt; 64                 return self.cursor.execute(sql, params)\n     65 \n     66     def executemany(self, sql, param_list):\n\nProgrammingError: could not identify an equality operator for type json\nLINE 1: ...e\".\"domain_name\", \"reporter_logs\".\"rule_type\", \"reporter_...\n\n                                                         ^\n</code></pre>\n\n<p>Here is the output of the query that fails.</p>\n\n<pre><code>[{'sql': 'SELECT \"reporter_logs\".\"id\", \"reporter_logs\".\"date\", \"reporter_logs\".\"userip\", \"reporter_logs\".\"action\", \"reporter_logs\".\"url\", \"reporter_logs\".\"method\", \"reporter_logs\".\"status\", \"reporter_logs\".\"mimetype\", \"reporter_logs\".\"content_length\", \"reporter_logs\".\"pruned\", \"reporter_logs\".\"page_title\", \"reporter_logs\".\"user_agent\", \"reporter_logs\".\"domain_name\", \"reporter_logs\".\"rule_type\", \"reporter_logs\".\"tally_stats\", \"reporter_logs\".\"cat_stats\", \"reporter_logs\".\"grade_stats\", \"reporter_logs\".\"ignored\", \"reporter_logs\".\"category\", \"reporter_logs\".\"genre\", \"reporter_logs\".\"grade\", \"reporter_logs\".\"top_grade\", \"reporter_logs\".\"category_confidence\", \"reporter_logs\".\"grade_confidence\", COUNT(CASE WHEN \"reporter_logs\".\"action\" = \\'a\\' THEN 1 WHEN \"reporter_logs\".\"action\" = \\'ae\\' THEN 1 ELSE 0 END) AS \"allowed\" FROM \"reporter_logs\" GROUP BY \"reporter_logs\".\"id\", \"reporter_logs\".\"date\", \"reporter_logs\".\"userip\", \"reporter_logs\".\"action\", \"reporter_logs\".\"url\", \"reporter_logs\".\"method\", \"reporter_logs\".\"status\", \"reporter_logs\".\"mimetype\", \"reporter_logs\".\"content_length\", \"reporter_logs\".\"pruned\", \"reporter_logs\".\"page_title\", \"reporter_logs\".\"user_agent\", \"reporter_logs\".\"domain_name\", \"reporter_logs\".\"rule_type\", \"reporter_logs\".\"tally_stats\", \"reporter_logs\".\"cat_stats\", \"reporter_logs\".\"grade_stats\", \"reporter_logs\".\"ignored\", \"reporter_logs\".\"category\", \"reporter_logs\".\"genre\", \"reporter_logs\".\"grade\", \"reporter_logs\".\"top_grade\", \"reporter_logs\".\"category_confidence\", \"reporter_logs\".\"grade_confidence\" LIMIT 21', 'time': '0.002'}]\n</code></pre>\n\n<p>Any suggestions would be appreciated. Including suggestions about alternate ways to write the query.</p>\n"}, {"tags": ["python", "regex", "python-3.x"], "answers": [{"tags": [], "owner": {"reputation": 8538, "user_id": 3059812, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/UaU9b.jpg?s=128&g=1", "display_name": "Morgan Thrapp", "link": "https://stackoverflow.com/users/3059812/morgan-thrapp"}, "is_accepted": false, "score": 2, "last_activity_date": 1449697666, "creation_date": 1449697666, "answer_id": 34189636, "question_id": 34189615, "link": "https://stackoverflow.com/questions/34189615/python3-comparison-operator-letter-match-a-letter/34189636#34189636", "title": "Python3 comparison operator, letter match a letter", "body": "<p>This is where <a href=\"https://docs.python.org/3/library/stdtypes.html#str.isalpha\" rel=\"nofollow\"><code>isalpha()</code></a> is helpful.</p>\n\n<pre><code>color=\"Red1 and Blue2!\"\nif color[5].isalpha():\n     doSomething\nelse:\n     doSomethingElse\n</code></pre>\n\n<p>There's also <code>isnumeric()</code>, if you need numbers.</p>\n"}, {"tags": [], "owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "is_accepted": true, "score": 3, "last_activity_date": 1449698717, "last_edit_date": 1449698717, "creation_date": 1449697673, "answer_id": 34189638, "question_id": 34189615, "link": "https://stackoverflow.com/questions/34189615/python3-comparison-operator-letter-match-a-letter/34189638#34189638", "title": "Python3 comparison operator, letter match a letter", "body": "<p>For the case of looking for letters, a simple <a href=\"https://docs.python.org/3/library/stdtypes.html#str.isalpha\" rel=\"nofollow\"><code>.isalpha()</code></a> check:</p>\n\n<pre><code>if color[5].isalpha():\n</code></pre>\n\n<p>will work.</p>\n\n<p>For the general case where a specific check function doesn't exist, you can use <code>in</code> checks:</p>\n\n<pre><code>if color[5] in '13579':  # Checks for existence in some random letter set\n</code></pre>\n\n<p>If the \"random letter set\" is large enough, you may want to preconvert to a <a href=\"https://docs.python.org/3/library/stdtypes.html#frozenset\" rel=\"nofollow\"><code>frozenset</code></a> for checking (<code>frozenset</code> membership tests are roughly <code>O(1)</code>, vs. <code>O(n)</code> for <code>str</code>, but <code>str</code> tests are optimized enough that you'd need quite a long <code>str</code> before the <code>frozenset</code> makes sense; possibly larger than the one in the <code>example</code>):</p>\n\n<pre><code>CHARSET = frozenset('13579adgjlqetuozcbm')\n\nif color[5] in CHARSET:\n</code></pre>\n\n<p>Alternatively, you can <a href=\"https://docs.python.org/3/library/re.html\" rel=\"nofollow\">use regular expressions</a> to get the <a href=\"https://docs.python.org/3/library/re.html#regular-expression-syntax\" rel=\"nofollow\">character classes</a> you were trying to get:</p>\n\n<pre><code>import re\n\n# Do this once up front to avoid recompiling, then use repeatedly\nislet = re.compile('^[a-zA-Z]$').match  \n...\nif islet(color[5]):\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "edited": false, "score": 0, "creation_date": 1449709056, "post_id": 34191090, "comment_id": 56130185, "body": "While that&#39;s a good pattern for general purpose testing if a letter is part of an arbitrary set of characters (and <code>string.ascii_letters</code> is useful for other purposes, like iterating specific letters or the like), and necessary if you want only ASCII letters, <code>.isalpha()</code> is more predictable (same runtime for all hits and misses), and will also include non-ASCII letters as &quot;alphabetic&quot; characters, which you usually want."}, {"owner": {"reputation": 676, "user_id": 108241, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CI8rm.jpg?s=128&g=1", "display_name": "Takis", "link": "https://stackoverflow.com/users/108241/takis"}, "reply_to_user": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "edited": false, "score": 0, "creation_date": 1449709275, "post_id": 34191090, "comment_id": 56130237, "body": "@ShadowRanger You&#39;re right, but I wanted to give a simpler answer then when using the regex package or listing all characters explicitly. I&#39;d have prefered to add the <code>string.ascii_letters</code> to your answer as to make it more complete."}, {"owner": {"reputation": 3, "user_id": 5651597, "user_type": "registered", "profile_image": "https://graph.facebook.com/1671497779786393/picture?type=large", "display_name": "Jaymes Deen", "link": "https://stackoverflow.com/users/5651597/jaymes-deen"}, "edited": false, "score": 0, "creation_date": 1449710209, "post_id": 34191090, "comment_id": 56130529, "body": "Yes it wasnt my choice, it was the requirement  I was given, involves not importing anything, these reponses have helped. I still have more code to write."}], "tags": [], "owner": {"reputation": 676, "user_id": 108241, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CI8rm.jpg?s=128&g=1", "display_name": "Takis", "link": "https://stackoverflow.com/users/108241/takis"}, "is_accepted": false, "score": 0, "last_activity_date": 1449704174, "creation_date": 1449704174, "answer_id": 34191090, "question_id": 34189615, "link": "https://stackoverflow.com/questions/34189615/python3-comparison-operator-letter-match-a-letter/34191090#34191090", "title": "Python3 comparison operator, letter match a letter", "body": "<p>Not really sure why you'd require not importing anything from the standard libraries though.    </p>\n\n<pre class=\"lang-py prettyprint-override\"><code>import string\n\ncolor=\"Red1 and Blue2!\"\nif color[5] in string.ascii_letters:\n   print(\"do something\")\nelse:\n   print(\"do something else\")\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 5651597, "user_type": "registered", "profile_image": "https://graph.facebook.com/1671497779786393/picture?type=large", "display_name": "Jaymes Deen", "link": "https://stackoverflow.com/users/5651597/jaymes-deen"}, "delete_vote_count": 1, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 84, "favorite_count": 0, "closed_date": 1539932583, "accepted_answer_id": 34189638, "answer_count": 3, "score": -1, "last_activity_date": 1449704174, "creation_date": 1449697593, "question_id": 34189615, "link": "https://stackoverflow.com/questions/34189615/python3-comparison-operator-letter-match-a-letter", "closed_reason": "Duplicate", "title": "Python3 comparison operator, letter match a letter", "body": "<p>Ok so basically this is what I know, and it does work, using Python3:</p>\n\n<pre><code>color=\"Red1 and Blue2!\"\ncolor[2]==\"d\"\nTrue\n</code></pre>\n\n<p>What I need is that when I call any position, (which inputs any single character Lower or Upper case in the comparison), into the brackets \"color[ ]\" and compare it to match only with \"Lower or Upper case letters\" excluding all numbers and characters (.*&amp;^%$#@!). \nin order words something to the effects below:</p>\n\n<pre><code>color=\"Red1 and Blue2!\"\nif color[5]==[a-zA-z]:\n     doSomething\nelse:\n     doSomethingElse\n</code></pre>\n\n<p>Of course what I just listed above does not work. Perhaps my syntax is wrong, perhaps it just cant be done.   If I only use a single letter on the \"right\" side of the equals, then all is well, But like I said I need whatever single letter is pulled into the left side, to match something on the right.</p>\n\n<p>First off I wan't to make sure that its possible to do, what I'm trying to accomplish? \n2nd, if it is indeed possible to do then have this accomplished \"Without\" importing anything other then \"sys\". </p>\n\n<p>If the only way to accomplish this is by importing something else, then I will take a look at that suggestion, however I prefer not to import anything if at all possible. </p>\n\n<p>I'v searched my books, and a whole other questions on this site and I can't seem to find anything that matches, thanks.</p>\n"}, {"tags": ["python", "python-3.x", "pygame"], "answers": [{"comments": [{"owner": {"reputation": 1112, "user_id": 5613603, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef7c7de8183af9d17dbd6eb664a1d16d?s=128&d=identicon&r=PG&f=1", "display_name": "Rob Davis", "link": "https://stackoverflow.com/users/5613603/rob-davis"}, "reply_to_user": {"reputation": 11, "user_id": 5655084, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/447765f982ac55d1b8af5450ceebe8d8?s=128&d=identicon&r=PG&f=1", "display_name": "JoeM2k15", "link": "https://stackoverflow.com/users/5655084/joem2k15"}, "edited": false, "score": 0, "creation_date": 1449698752, "post_id": 34189755, "comment_id": 56126124, "body": "Damn it.  I forgot that get_pos() returns a tuple."}, {"owner": {"reputation": 11, "user_id": 5655084, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/447765f982ac55d1b8af5450ceebe8d8?s=128&d=identicon&r=PG&f=1", "display_name": "JoeM2k15", "link": "https://stackoverflow.com/users/5655084/joem2k15"}, "edited": false, "score": 0, "creation_date": 1449699177, "post_id": 34189755, "comment_id": 56126344, "body": "You&#39;ll think I&#39;m joking but I still get the same error"}, {"owner": {"user_type": "does_not_exist", "display_name": "user890167"}, "edited": false, "score": 0, "creation_date": 1449699377, "post_id": 34189755, "comment_id": 56126458, "body": "you&#39;re already updating <code>self.rect</code> directly, why do you need to get the <code>player_rect</code> via <code>image.get_rect()</code>? Moreover, calling <code>get_rect()</code> on a <code>Surface</code> object returns a <i>new</i> <code>Rect</code> object, not the actual <code>Rect</code> of the image."}], "tags": [], "owner": {"reputation": 1112, "user_id": 5613603, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef7c7de8183af9d17dbd6eb664a1d16d?s=128&d=identicon&r=PG&f=1", "display_name": "Rob Davis", "link": "https://stackoverflow.com/users/5613603/rob-davis"}, "is_accepted": false, "score": 0, "last_activity_date": 1449699707, "last_edit_date": 1449699707, "creation_date": 1449698191, "answer_id": 34189755, "question_id": 34189608, "link": "https://stackoverflow.com/questions/34189608/pygame-development-bug/34189755#34189755", "title": "PyGame development bug?", "body": "<p>Change you <code>def update(self):</code> with the following:</p>\n\n<pre><code>    def update(self):\n        pos_tup = pygame.mouse.get_pos() # edit fix\n        pos_x = pos_tup[0] # edit fix\n        pos_y = pos_tup[1] # edit fix\n        player_rect = self.image.get_rect()\n        if pos_x &lt; 0:\n            self.rect.x = 0\n        elif pos_x &gt; width:\n            self.rect.x = width\n        else:\n            self.rect.x = pos_x\n        if pos_y &lt; 0:\n            self.rect.y = 0\n        elif pos_y &gt; height:\n            self.rect.y = height\n        else:\n            self.rect.y = pos_y\n        player_rect.clamp_ip(screen_rect)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 91141, "user_id": 142637, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9SiZh.png?s=128&g=1", "display_name": "sloth", "link": "https://stackoverflow.com/users/142637/sloth"}, "edited": false, "score": 1, "creation_date": 1449742375, "post_id": 34190130, "comment_id": 56143266, "body": "There&#39;s no need to check <code>not screen_rect.contains(self.rect)</code> explicitly. Just calling <code>self.rect.clamp_ip(screen_rect)</code> is enough."}, {"owner": {"user_type": "does_not_exist", "display_name": "user890167"}, "reply_to_user": {"reputation": 91141, "user_id": 142637, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9SiZh.png?s=128&g=1", "display_name": "sloth", "link": "https://stackoverflow.com/users/142637/sloth"}, "edited": false, "score": 0, "creation_date": 1450299330, "post_id": 34190130, "comment_id": 56385610, "body": "This is true - I guess I&#39;m used to generic colliders that get replaced with specific ones later on, so <code>if passes_the_test: do_the_thing()</code> seemed good. But, you&#39;re right of course."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user890167"}, "is_accepted": false, "score": 2, "last_activity_date": 1449699689, "creation_date": 1449699689, "answer_id": 34190130, "question_id": 34189608, "link": "https://stackoverflow.com/questions/34189608/pygame-development-bug/34190130#34190130", "title": "PyGame development bug?", "body": "<p>The object already has a <code>Rect</code> object in <code>self.rect</code>; you aren't actually calling the <code>clamp_ip</code> method on the right <code>Rect</code>.</p>\n\n<p>It may be enough to call <code>self.rect.clamp_ip(screen_rect)</code> instead of even bothering with getting the image <code>Rect</code> at all. The builtin <code>draw</code> method of the Sprite <code>Group</code><em>should</em> just draw the image in the sprite's <code>Rect</code> if I recall correctly, so just make sure you're only updating the sprite's <code>Rect</code> correctly.</p>\n\n<pre><code>def update(self):\n    self.rect.topleft = pygame.mouse.get_pos()\n    if not screen_rect.contains(self.rect):\n        self.rect.clamp_ip(screen_rect) \n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 5655084, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/447765f982ac55d1b8af5450ceebe8d8?s=128&d=identicon&r=PG&f=1", "display_name": "JoeM2k15", "link": "https://stackoverflow.com/users/5655084/joem2k15"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1449699707, "creation_date": 1449697570, "question_id": 34189608, "link": "https://stackoverflow.com/questions/34189608/pygame-development-bug", "title": "PyGame development bug?", "body": "<p>I am developing a Space Invaders clone using Python 3.5.1 and have stumbled upon an error which I am not sure how to fix. I'm trying to keep a sprite inside the window and my code only works to keep the sprite from leaving the top and left sides of it. Here is my code. Thanks.</p>\n\n<pre><code>import pygame\nimport sys\n\nwidth = 500\nheight = 700\n\nwhite = (255, 255, 255)\nblack = (0, 0, 0)\n\nscore = 0\n\nscreen = pygame.display.set_mode([width, height])\nscreen_rect = screen.get_rect()\n\nclass Ship(pygame.sprite.Sprite):\n    def __init__(self):\n        pygame.sprite.Sprite.__init__(self)\n        self.image = pygame.image.load(\"player.png\").convert()\n        self.rect = self.image.get_rect()\n\n    def update(self):\n        pos_x, pos_y = pygame.mouse.get_pos()\n        player_rect = self.image.get_rect()\n        self.rect.x = pos_x\n        self.rect.y = pos_y\n\n        player_rect.clamp_ip(screen_rect)\n\nclass Enemy(pygame.sprite.Sprite):\n    def __init__(self):\n        pygame.sprite.Sprite.__init__(self)\n        self.image = pygame.image.load(\"enemy.png\").convert()\n        self.rect = self.image.get_rect()\n\nclass Bullet(pygame.sprite.Sprite):\n    def __init__(self):\n        pygame.sprite.Sprite.__init__(self)\n        self.image = pygame.image.load(\"laser.png\").convert()\n        self.rect = self.image.get_rect()\n\nplayer = Ship()\nallSprites = pygame.sprite.Group()\nallSprites.add(player)\n\nrunning = True\nwhile running == True:\n    for event in pygame.event.get():\n        if event.type == pygame.QUIT:\n            sys.exit()\n\n    screen.fill(black)\n    player.update()\n    allSprites.draw(screen)\n\n    pygame.display.flip()\n\npygame.quit()\n</code></pre>\n"}, {"tags": ["python", "regex"], "comments": [{"owner": {"reputation": 3050, "user_id": 1054423, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/fAvA1.jpg?s=128&g=1", "display_name": "bschlueter", "link": "https://stackoverflow.com/users/1054423/bschlueter"}, "edited": false, "score": 1, "creation_date": 1449698073, "post_id": 34189591, "comment_id": 56125785, "body": "This shouldn&#39;t be flagged python. <code>re.match</code> stops matching after <code>*Item C</code>. <a href=\"https://bpaste.net/show/25508eb4d2a5\" rel=\"nofollow noreferrer\">bpaste.net/show/25508eb4d2a5</a>"}, {"owner": {"reputation": 251, "user_id": 1264467, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/ceSOG.png?s=128&g=1", "display_name": "scottwernervt", "link": "https://stackoverflow.com/users/1264467/scottwernervt"}, "reply_to_user": {"reputation": 3050, "user_id": 1054423, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/fAvA1.jpg?s=128&g=1", "display_name": "bschlueter", "link": "https://stackoverflow.com/users/1054423/bschlueter"}, "edited": false, "score": 1, "creation_date": 1449698493, "post_id": 34189591, "comment_id": 56125974, "body": "@bschlueter I should have specified I was using <code>re.finditer</code>."}, {"owner": {"reputation": 3050, "user_id": 1054423, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/fAvA1.jpg?s=128&g=1", "display_name": "bschlueter", "link": "https://stackoverflow.com/users/1054423/bschlueter"}, "edited": false, "score": 0, "creation_date": 1449698813, "post_id": 34189591, "comment_id": 56126148, "body": "Aha, might I suggest rephrasing your question so that it will be clearer to others?"}], "answers": [{"tags": [], "owner": {"reputation": 658058, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "is_accepted": true, "score": 2, "last_activity_date": 1449697939, "creation_date": 1449697939, "answer_id": 34189699, "question_id": 34189591, "link": "https://stackoverflow.com/questions/34189591/regular-expression-to-match-headers-and-sub-headers-followed-by-a-bullet-list/34189699#34189699", "title": "Regular expression to match headers and sub headers followed by a bullet list", "body": "<p>You can use this regex to capture missing items:</p>\n\n<pre><code>(?P&lt;description&gt;^.+?)(?P&lt;items&gt;(?:^\\* [^\\n]+(?:\\n|$))+)\n</code></pre>\n\n<p><a href=\"https://regex101.com/r/yG7sJ6/3\" rel=\"nofollow\">RegEx Demo</a></p>\n"}], "owner": {"reputation": 251, "user_id": 1264467, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/ceSOG.png?s=128&g=1", "display_name": "scottwernervt", "link": "https://stackoverflow.com/users/1264467/scottwernervt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 501, "favorite_count": 0, "accepted_answer_id": 34189699, "answer_count": 1, "score": 2, "last_activity_date": 1449700383, "creation_date": 1449697511, "last_edit_date": 1449700383, "question_id": 34189591, "link": "https://stackoverflow.com/questions/34189591/regular-expression-to-match-headers-and-sub-headers-followed-by-a-bullet-list", "title": "Regular expression to match headers and sub headers followed by a bullet list", "body": "<p>I am trying to capture the text in headers/subsections and the bullet list that follows it with: </p>\n\n<pre><code>re.finditer('(?!^\\* )(?P&lt;description&gt;^.+?)(?P&lt;items&gt;^\\* .+?^)(?!^\\* )', \n            text, flags=re.DOTALL | re.MULTILINE)\n</code></pre>\n\n<p>with this sample text:</p>\n\n<pre><code>Header A\nSubheader A\n* Item A\n* Item B\n* Item C\nHeader B\nSubheader B\nDescription B\n* Item 1\n* Item 2\n* Item 3\nRandom Header C\n* Item X\n* Item Y\n* Item Z\n</code></pre>\n\n<p>The expression works except on <code>Random Header C</code> and its bullet list. A workaround is to add two trailing line breaks <code>\\n\\n</code> after <code>* Item F</code>. Any idea how to match the last section or if there is a better method for doing this?</p>\n\n<p><a href=\"https://regex101.com/r/yG7sJ6/1\" rel=\"nofollow\">https://regex101.com/r/yG7sJ6/1</a></p>\n"}, {"tags": ["python", "version", "protocol-buffers", "caffe", "tensorflow"], "answers": [{"comments": [{"owner": {"reputation": 30998, "user_id": 2686899, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/StqEe.jpg?s=128&g=1", "display_name": "Kenton Varda", "link": "https://stackoverflow.com/users/2686899/kenton-varda"}, "edited": false, "score": 0, "creation_date": 1449773929, "post_id": 34193234, "comment_id": 56163438, "body": "Note that protobuf-python likes to use protobuf-c++ as a C extension. Will virtualenv actually containerize that? I don&#39;t know much about virtualenv but it would surprise me."}, {"owner": {"reputation": 287, "user_id": 2035694, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/cfac6e04236621f77ef5cdcf64832d48?s=128&d=identicon&r=PG", "display_name": "Rikku Porta", "link": "https://stackoverflow.com/users/2035694/rikku-porta"}, "edited": false, "score": 0, "creation_date": 1449793895, "post_id": 34193234, "comment_id": 56173091, "body": "<code>(tensorflow)peter@UNIGMA:~$ pip install --upgrade protobuf Requirement already up-to-date: protobuf in &#47;usr&#47;local&#47;lib&#47;python2.7&#47;dist-packages Requirement already up-to-date: setuptools in .&#47;tensorflow&#47;lib&#47;python2.7&#47;site-packages (from protobuf) Cleaning up...</code> It sill seems to reference my local protobuf if i am seeing this right."}], "tags": [], "owner": {"reputation": 11286, "user_id": 3928385, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/3HdfL.png?s=128&g=1", "display_name": "Ishamael", "link": "https://stackoverflow.com/users/3928385/ishamael"}, "is_accepted": false, "score": 1, "last_activity_date": 1449718465, "creation_date": 1449718465, "answer_id": 34193234, "question_id": 34189579, "link": "https://stackoverflow.com/questions/34189579/caffe-and-tensorflow-protobuf-maintain-different-version/34193234#34193234", "title": "Caffe and TensorFlow Protobuf - Maintain different Version", "body": "<p>Note that your virtualenv doesn't see packages from outside, so you should not have protobuf visible in your virtualenv at all, even though you have it installed globally in the system (or in the Caffe's virtualenv, depending on your setup).</p>\n\n<p>It should be safe for you to run <code>pip install protobuf</code> inside the TensorFlow's virtualenv, it will not disrupt your global setup or any other virtualenv you have.</p>\n"}], "owner": {"reputation": 287, "user_id": 2035694, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/cfac6e04236621f77ef5cdcf64832d48?s=128&d=identicon&r=PG", "display_name": "Rikku Porta", "link": "https://stackoverflow.com/users/2035694/rikku-porta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1438, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1449794601, "creation_date": 1449697475, "last_edit_date": 1449794601, "question_id": 34189579, "link": "https://stackoverflow.com/questions/34189579/caffe-and-tensorflow-protobuf-maintain-different-version", "title": "Caffe and TensorFlow Protobuf - Maintain different Version", "body": "<p>I have installed Caffe on my Ubuntu15.10x64 Machine with <code>protobuf 2.6.1</code>. Also, as of today, I installed TensorFlow with <code>virtualenv</code> but TensorFlow needs <code>protobuf 3.0</code>. From what I have read, <code>virtualenv</code> supports using different libraries for python projects. Can I safely <code>pip install --upgrade protobuf</code> inside the (tensorflow) virtualenv without disrupting my Caffe install - thus having <code>protobuf 2.6</code> as default, and <code>protobuf 3.0</code> in my virtualenv used by TensorFlow?</p>\n\n<p>Or is the only solution to install with Docker or Create a Clone in a Virtual Machine? Better than nothing, but I would like to use my GPU and full power.</p>\n\n<p>Thanks for help and clarification.</p>\n\n<p>Edit:</p>\n\n<p>So, this is what happens when I try to update protobuf -></p>\n\n<pre><code>(tensorflow)peter@UNIGMA:~$ pip install --upgrade protobuf \nRequirement already up-to-date: protobuf in /usr/local/lib/python2.7/dist-packages \nRequirement already up-to-date: setuptools in ./tensorflow/lib/python2.7/site-packages (from protobuf) \nCleaning up... \n</code></pre>\n\n<p>If i check the version this is what it returns -></p>\n\n<pre><code>(tensorflow)peter@UNIGMA:~$ pip show protobuf\n---\nName: protobuf\nVersion: 2.6.1\nLocation: /usr/local/lib/python2.7/dist-packages\nRequires: setuptools\n(tensorflow)peter@UNIGMA:~$ pip -V\npip 1.5.6 from /home/peter/tensorflow/local/lib/python2.7/site-packages (python 2.7)\n</code></pre>\n\n<p>Do I have to manually update protobuf? I presume that I would create a <code>protobuf</code> folder inside <code>./tensorflow/lib/python2.7/dist-packages</code> with the version I need?</p>\n"}, {"tags": ["python", "post", "python-requests", "exe", "pyinstaller"], "comments": [{"owner": {"reputation": 64040, "user_id": 3620003, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/QnqtZ.jpg?s=128&g=1", "display_name": "timgeb", "link": "https://stackoverflow.com/users/3620003/timgeb"}, "edited": false, "score": 0, "creation_date": 1449697510, "post_id": 34189545, "comment_id": 56125475, "body": "So what&#39;s the problem?"}, {"owner": {"reputation": 39, "user_id": 1304011, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/706cc9fd75e5a79f54ed996f7af413b0?s=128&d=identicon&r=PG", "display_name": "dickiesanders", "link": "https://stackoverflow.com/users/1304011/dickiesanders"}, "reply_to_user": {"reputation": 64040, "user_id": 3620003, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/QnqtZ.jpg?s=128&g=1", "display_name": "timgeb", "link": "https://stackoverflow.com/users/3620003/timgeb"}, "edited": false, "score": 0, "creation_date": 1449697992, "post_id": 34189545, "comment_id": 56125753, "body": "Well each user of the .exe needs to be able to edit a config file to set a variable for their email and pw.  Currently, I can only compile it with a username and pw...  So I do not know how to create the variables and pass them from a config file."}], "answers": [{"comments": [{"owner": {"reputation": 39, "user_id": 1304011, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/706cc9fd75e5a79f54ed996f7af413b0?s=128&d=identicon&r=PG", "display_name": "dickiesanders", "link": "https://stackoverflow.com/users/1304011/dickiesanders"}, "edited": false, "score": 0, "creation_date": 1449849895, "post_id": 34218094, "comment_id": 56199245, "body": "Thank you!  This is exactly what I was looking to do.   (new to python)"}], "tags": [], "owner": {"reputation": 778, "user_id": 3782044, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1edb9dccd83cd70e40906c3f2e0825c6?s=128&d=identicon&r=PG&f=1", "display_name": "kotlet schabowy", "link": "https://stackoverflow.com/users/3782044/kotlet-schabowy"}, "is_accepted": true, "score": 4, "last_activity_date": 1449818476, "creation_date": 1449818476, "answer_id": 34218094, "question_id": 34189545, "link": "https://stackoverflow.com/questions/34189545/python-create-windows-exe-with-a-config-file-to-pass-username-and-password/34218094#34218094", "title": "Python create windows exe with a config file to pass username and password", "body": "<p>simply use configparser or (ConfigParser for Python2.7) to access configuration files.\nThen you can create a configuration file like:</p>\n\n<pre><code># This is the configuration file for my script for user X \n[DEFAULT] \naction =  dashboard.php \nemail = user@email.com \npassword = abc123-pass`\n</code></pre>\n\n<p>In your script </p>\n\n<pre><code>import configparser\nmy_config_parser = configparser.SafeConfigParser()\nmy_config_parser.read('name of your configuration file')\npayload = {\n    'action': my_config_parser.get('DEFAULT','action'),\n    'email': my_config_parser.get('DEFAULT','email'),\n    'password': my_config_parser.get('DEFAULT','password')\n}\n</code></pre>\n\n<p>The configuration file you need to send with the exefied script.</p>\n"}, {"tags": [], "owner": {"reputation": 726, "user_id": 2404492, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/f1f48bd538551d73b9e0a2122b6ae06d?s=128&d=identicon&r=PG", "display_name": "Alexandr Zarubkin", "link": "https://stackoverflow.com/users/2404492/alexandr-zarubkin"}, "is_accepted": false, "score": 1, "last_activity_date": 1517691546, "creation_date": 1517691546, "answer_id": 48601969, "question_id": 34189545, "link": "https://stackoverflow.com/questions/34189545/python-create-windows-exe-with-a-config-file-to-pass-username-and-password/48601969#48601969", "title": "Python create windows exe with a config file to pass username and password", "body": "<p>You can also pass options <code>--exclude-module settings add-data settings.py;.</code> to PyInstaller. That way <em>settings.py</em> will end up in the directory with compiled application and can be imported in usual way.</p>\n"}], "owner": {"reputation": 39, "user_id": 1304011, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/706cc9fd75e5a79f54ed996f7af413b0?s=128&d=identicon&r=PG", "display_name": "dickiesanders", "link": "https://stackoverflow.com/users/1304011/dickiesanders"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2308, "favorite_count": 0, "accepted_answer_id": 34218094, "answer_count": 2, "score": 1, "last_activity_date": 1517691546, "creation_date": 1449697368, "question_id": 34189545, "link": "https://stackoverflow.com/questions/34189545/python-create-windows-exe-with-a-config-file-to-pass-username-and-password", "title": "Python create windows exe with a config file to pass username and password", "body": "<p>I have a python script for checking re-investment settings on a popular bitcoin mining site and I would like to use Pyinstaller to create a windows .exe file to distribute. However, in the payload section where I pass an email and password, the user would not be able to edit that.  So I need to be able to generate the .exe and a config file where the user can edit their email and password information.</p>\n\n<p>I am using requests (session) and the example payload is like this:</p>\n\n<pre><code>    payload = {\n        'action': 'dashboard.php',\n        'email': 'user@email.com',\n        'password': 'abc123-pass'\n    }\n</code></pre>\n\n<p>I need to change these to variables and have them read from a config file when the exe is executed.</p>\n"}, {"tags": ["python", "performance", "python-3.x", "numpy", "pandas"], "comments": [{"owner": {"reputation": 203214, "user_id": 3293881, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/6ZYnq.jpg?s=128&g=1", "display_name": "Divakar", "link": "https://stackoverflow.com/users/3293881/divakar"}, "edited": false, "score": 0, "creation_date": 1449697876, "post_id": 34189520, "comment_id": 56125687, "body": "You sure this line works - <code>list(set(split_sentences.sum()))</code>? Or maybe it&#39;s a Python 3.x thing, I am on Python 2.7."}, {"owner": {"reputation": 14016, "user_id": 2148718, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/b458d4a48bebf560c9a90d5ab2db1902?s=128&d=identicon&r=PG", "display_name": "Migwell", "link": "https://stackoverflow.com/users/2148718/migwell"}, "reply_to_user": {"reputation": 203214, "user_id": 3293881, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/6ZYnq.jpg?s=128&g=1", "display_name": "Divakar", "link": "https://stackoverflow.com/users/3293881/divakar"}, "edited": false, "score": 0, "creation_date": 1449698249, "post_id": 34189520, "comment_id": 56125862, "body": "Oh yep, my bad. That was a leftover from when split_sentences was a numpy array. I&#39;ll use <code>sum(split_sentences, [])</code> instead."}, {"owner": {"reputation": 203214, "user_id": 3293881, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/6ZYnq.jpg?s=128&g=1", "display_name": "Divakar", "link": "https://stackoverflow.com/users/3293881/divakar"}, "edited": false, "score": 0, "creation_date": 1449700872, "post_id": 34189520, "comment_id": 56127166, "body": "Do you care if <code>words</code> has order maintained from the input <code>sentences</code>?"}, {"owner": {"reputation": 14016, "user_id": 2148718, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/b458d4a48bebf560c9a90d5ab2db1902?s=128&d=identicon&r=PG", "display_name": "Migwell", "link": "https://stackoverflow.com/users/2148718/migwell"}, "reply_to_user": {"reputation": 203214, "user_id": 3293881, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/6ZYnq.jpg?s=128&g=1", "display_name": "Divakar", "link": "https://stackoverflow.com/users/3293881/divakar"}, "edited": false, "score": 0, "creation_date": 1449701293, "post_id": 34189520, "comment_id": 56127352, "body": "That&#39;s not important, no"}], "answers": [{"tags": [], "owner": {"reputation": 203214, "user_id": 3293881, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/6ZYnq.jpg?s=128&g=1", "display_name": "Divakar", "link": "https://stackoverflow.com/users/3293881/divakar"}, "is_accepted": true, "score": 1, "last_activity_date": 1449702003, "creation_date": 1449702003, "answer_id": 34190645, "question_id": 34189520, "link": "https://stackoverflow.com/questions/34189520/efficiently-testing-if-strings-are-present-in-2d-numpy-arrays/34190645#34190645", "title": "Efficiently testing if strings are present in 2D numpy arrays", "body": "<p>Here's one approach vectorizing the crux of the problem of finding the intersections -</p>\n\n<pre><code># Split setences\nsplit_sentences = [sentence.split(\" \") for sentence in sentences]\n\n# Get group lengths\ngrplens = np.array([len(item) for item in split_sentences])\n\n# ID each word\nunq_words,ID = np.unique(np.concatenate((split_sentences)),return_inverse=True)\n\n# Get lengths\nN = len(ID)\nNunq = len(unq_words)\nNsent = len(sentences)\n\n# Get ID shift positions and thus row shifts for final 2D array output\nrow_shifts = np.zeros(N,dtype=int)\nrow_shifts[grplens.cumsum()[:-1]] = 1\n\n# Finally get output boolean array using ID and row_shift IDs\nout = np.zeros((Nsent,Nunq),dtype=bool)\nout[row_shifts.cumsum(),ID] = 1\n</code></pre>\n\n<p>Sample run -</p>\n\n<pre><code>In [494]: sentences\nOut[494]: ['she went', 'I went', 'she and I', 'with dog', 'dog and she']\n\nIn [495]: unq_words\nOut[495]: \narray(['I', 'and', 'dog', 'she', 'went', 'with'], \n      dtype='|S4')\n\nIn [496]: out\nOut[496]: \narray([[False, False, False,  True,  True, False],\n       [ True, False, False, False,  True, False],\n       [ True,  True, False,  True, False, False],\n       [False, False,  True, False, False,  True],\n       [False,  True,  True,  True, False, False]], dtype=bool)\n</code></pre>\n"}], "owner": {"reputation": 14016, "user_id": 2148718, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/b458d4a48bebf560c9a90d5ab2db1902?s=128&d=identicon&r=PG", "display_name": "Migwell", "link": "https://stackoverflow.com/users/2148718/migwell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 153, "favorite_count": 1, "accepted_answer_id": 34190645, "answer_count": 1, "score": 1, "last_activity_date": 1449916377, "creation_date": 1449697261, "last_edit_date": 1449916377, "question_id": 34189520, "link": "https://stackoverflow.com/questions/34189520/efficiently-testing-if-strings-are-present-in-2d-numpy-arrays", "title": "Efficiently testing if strings are present in 2D numpy arrays", "body": "<p>I have a list of sentences that I want to convert into a Pandas MultiIndex (but don't worry, this question can probably be answered purely using numpy). For example, lets say the sentences are:</p>\n\n<pre><code>sentences = ['she went', 'I went', 'she and I']\n</code></pre>\n\n<p>To make an index I first need to get a unique list of words in all the sentences. Each word will become an index. The result of this should be:</p>\n\n<pre><code>words = ['she', 'went', 'I', 'and']\n</code></pre>\n\n<p>Then to work out what values of the index each row has, I need a 2d array of booleans. Making this array is the main problem as I want it to be as efficient as possible, and hopefully without relying on python data manipulation at all. This 2D array can be in <em>either one of</em> two different formats:</p>\n\n<ul>\n<li><p>An array of tuples. Each tuple contains booleans to indicate the presence of the given word in the row. This will be passed to <code>pandas.MultiIndex.from_tuples()</code> For example:</p>\n\n<pre><code>tuples = [\n    #\"She went\" contains \"she\" and \"went\", but not \"I\" or \"and\"\n    (True, True, False, False), \n    #\"I went\" contains \"I\" and \"went\", but not \"she\" or \"and\"\n    (False, True, True, False),\n    #\"She and I\" contains \"she\", \"I\" and \"and\", but not \"went\"\n    (True, False, True, True),\n]\n</code></pre></li>\n</ul>\n\n\n\n<ul>\n<li><p>An array of arrays, one inner array for each word. This will be passed to <code>pandas.MultiIndex.from_array()</code>. For example:</p>\n\n<pre><code>arrays = [\n    # 'she' is in the first and third sentences\n    [True, False, True],\n    # 'went' is in the first and second sentences\n    [True, True, False],\n    # 'I' is in the second and third sentences\n    [True, False, True],\n    # 'and' is in the first sentence only\n    [True, False, False],\n]\n</code></pre></li>\n</ul>\n\n<hr>\n\n<p>Ideally the solution will convert sentences to an np array and work with that from then on. My naiive implementation is so far this. Unfortunately I'm not sure how to do this with numpy without list comprehensions</p>\n\n<pre><code>import pandas as pd\n\nsentences = ['she went', 'I went', 'she and I']\n\n# Can this be done using numpy?\nsplit_sentences = [sentence.split(\" \") for sentence in sentences]\n\nwords = list(set(sum(split_sentences, [])))\n\n# Is there a built in way of doing this with numpy, for example np.intersect?\ntuples = [\n    [True if word in sentence_words else False for word in words]\n    for sentence_words in split_sentences\n]\n\nindex = pd.MultiIndex.from_tuples(tuples, names=words)\n</code></pre>\n"}, {"tags": ["python", "azure", "hadoop", "azure-hdinsight", "mrjob"], "comments": [{"owner": {"reputation": 5822, "user_id": 2256902, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2148971b0a7dad9e4bdfb318a356d51e?s=128&d=identicon&r=PG", "display_name": "Manjunath Ballur", "link": "https://stackoverflow.com/users/2256902/manjunath-ballur"}, "edited": false, "score": 1, "creation_date": 1449709670, "post_id": 34189512, "comment_id": 56130367, "body": "What&#39;s the size of your data?"}, {"owner": {"reputation": 677, "user_id": 3814425, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fc67f3de09d8a0d4f7af59c5f38bc2ed?s=128&d=identicon&r=PG&f=1", "display_name": "klib", "link": "https://stackoverflow.com/users/3814425/klib"}, "reply_to_user": {"reputation": 5822, "user_id": 2256902, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2148971b0a7dad9e4bdfb318a356d51e?s=128&d=identicon&r=PG", "display_name": "Manjunath Ballur", "link": "https://stackoverflow.com/users/2256902/manjunath-ballur"}, "edited": false, "score": 0, "creation_date": 1449774610, "post_id": 34189512, "comment_id": 56163780, "body": "The size of the data that I have tested is 1gb but I can easily test larger sets. When do you think I will see an advantage with hadoop?"}, {"owner": {"reputation": 5822, "user_id": 2256902, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2148971b0a7dad9e4bdfb318a356d51e?s=128&d=identicon&r=PG", "display_name": "Manjunath Ballur", "link": "https://stackoverflow.com/users/2256902/manjunath-ballur"}, "edited": false, "score": 0, "creation_date": 1449847057, "post_id": 34189512, "comment_id": 56197382, "body": "With such a small data size, your Hadoop job won&#39;t be faster than running a standalone program."}], "answers": [{"comments": [{"owner": {"reputation": 677, "user_id": 3814425, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fc67f3de09d8a0d4f7af59c5f38bc2ed?s=128&d=identicon&r=PG&f=1", "display_name": "klib", "link": "https://stackoverflow.com/users/3814425/klib"}, "edited": false, "score": 0, "creation_date": 1449774254, "post_id": 34196627, "comment_id": 56163602, "body": "Do you know large of a dataset will I need to get a performance advantage?"}, {"owner": {"reputation": 20467, "user_id": 4989676, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jP8H6.jpg?s=128&g=1", "display_name": "Peter Pan", "link": "https://stackoverflow.com/users/4989676/peter-pan"}, "reply_to_user": {"reputation": 677, "user_id": 3814425, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fc67f3de09d8a0d4f7af59c5f38bc2ed?s=128&d=identicon&r=PG&f=1", "display_name": "klib", "link": "https://stackoverflow.com/users/3814425/klib"}, "edited": false, "score": 1, "creation_date": 1449794658, "post_id": 34196627, "comment_id": 56173355, "body": "@klib As I known, the dataset size on Hadoop need to over TB level generally for performance advantage."}], "tags": [], "owner": {"reputation": 20467, "user_id": 4989676, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jP8H6.jpg?s=128&g=1", "display_name": "Peter Pan", "link": "https://stackoverflow.com/users/4989676/peter-pan"}, "is_accepted": true, "score": 2, "last_activity_date": 1449734787, "last_edit_date": 1495541730, "creation_date": 1449734787, "answer_id": 34196627, "question_id": 34189512, "link": "https://stackoverflow.com/questions/34189512/scaling-a-python-mrjob-program-on-apache-hadoop/34196627#34196627", "title": "Scaling a python mrjob program on Apache Hadoop", "body": "<p>As I known, Hadoop need some time to prepare startup for M/R job &amp; data on HDFS. So you can't get faster performance for a small data set on Hadoop cluster than on local single machine.</p>\n\n<p>You have 1 million rows data. I assume that the data size of one row is 1 KB, so the data size of 1 million rows is about 1 GB. It's a small data set for Hadoop so that the time saved not enough to make up for the latency time of startup before running really on Hadoop.</p>\n\n<p>As references, there is a SO thread (<a href=\"https://stackoverflow.com/questions/11369235/why-submitting-job-to-mapreduce-takes-so-much-time-in-general\">Why submitting job to mapreduce takes so much time in General?</a>) that its marked answer explained the latency of your issue.</p>\n"}], "owner": {"reputation": 677, "user_id": 3814425, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fc67f3de09d8a0d4f7af59c5f38bc2ed?s=128&d=identicon&r=PG&f=1", "display_name": "klib", "link": "https://stackoverflow.com/users/3814425/klib"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 247, "favorite_count": 2, "accepted_answer_id": 34196627, "answer_count": 1, "score": 0, "last_activity_date": 1449734787, "creation_date": 1449697230, "question_id": 34189512, "link": "https://stackoverflow.com/questions/34189512/scaling-a-python-mrjob-program-on-apache-hadoop", "title": "Scaling a python mrjob program on Apache Hadoop", "body": "<p>I am trying to run a simple mapreduce program on HDInight through Azure. My program is written in python and simply counts the how many rows of numbers (timeseries) meet certain criteria. The final result are just counts for each category. My code is shown below.</p>\n\n<pre><code>from mrjob.job import MRJob\nimport numpy as np\nimport time\n\nclass MRTimeSeriesFrequencyCount(MRJob):\n\ndef mapper(self, _, line):\n\n    series = [float(i) for i in line.split(',')]\n    diff = list(np.diff(series))\n    avg = sum(diff) / len(diff)\n    std = np.std(diff)\n    fit = np.polyfit(list(range(len(series))), series, deg=1)\n    yield \"Down\", 1 if (series[len(series)-1]-series[0]) &lt; 0 else 0\n    yield \"Up\", 1 if (series[len(series)-1]-series[0]) &gt; 0 else 0\n    yield \"Reverse\", 1 if (fit[0]*(series[len(series)-1]-series[0])) &lt; 0 else 0\n    yield \"Volatile\", 1 if std/avg &gt; 0.33 else 0\n\ndef reducer(self, key, values):\n    yield key, sum(values)\n\n\nif __name__ == '__main__':\n    start_time = time.time()\n    MRTimeSeriesFrequencyCount.run()\n    print(\"--- %s seconds ---\" % (time.time() - start_time))\n</code></pre>\n\n<p>I am new to mapreduce and hadoop. When I scale up the number of rows, which are stored in a csv, my laptop which is an HP Elitebook 8570w still performs faster than running the code in Hadoop (456 seconds vs 628.29 seconds for 1 million rows). The cluster has 4 worker nodes with 4 cores each and 2 head nodes with 4 cores each. Shouldn't it perform faster? Is there some other bottleneck such as reading in the data? Is mrjob running it on only one node? Thanks in advance for the help.</p>\n"}, {"tags": ["python", "django", "inheritance"], "comments": [{"owner": {"reputation": 21174, "user_id": 636625, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/EuUH4.jpg?s=128&g=1", "display_name": "Shang Wang", "link": "https://stackoverflow.com/users/636625/shang-wang"}, "edited": false, "score": 0, "creation_date": 1449697189, "post_id": 34189480, "comment_id": 56125321, "body": "Why do you need to override them at all?"}, {"owner": {"reputation": 8258, "user_id": 5182047, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/Vkgn6.jpg?s=128&g=1", "display_name": "Erik &#197;sland", "link": "https://stackoverflow.com/users/5182047/erik-%c3%85sland"}, "reply_to_user": {"reputation": 21174, "user_id": 636625, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/EuUH4.jpg?s=128&g=1", "display_name": "Shang Wang", "link": "https://stackoverflow.com/users/636625/shang-wang"}, "edited": false, "score": 0, "creation_date": 1449697259, "post_id": 34189480, "comment_id": 56125354, "body": "@ShangWang It is all theoretical. I am trying to gain a better understanding of inheritance and ORM."}, {"owner": {"reputation": 15387, "user_id": 2588818, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/0PpNx.jpg?s=128&g=1", "display_name": "Two-Bit Alchemist", "link": "https://stackoverflow.com/users/2588818/two-bit-alchemist"}, "edited": false, "score": 1, "creation_date": 1449697273, "post_id": 34189480, "comment_id": 56125362, "body": "Your approach is wrong. <a href=\"https://docs.djangoproject.com/en/1.9/topics/db/models/#model-inheritance\" rel=\"nofollow noreferrer\">The parent subclasses <code>models.Model</code></a> (optionally with a meta-class with <code>abstract=True</code>, depending on how you want it to appear in your database), and your child classes inherit from that. You do not recreate ORM methods yourself."}, {"owner": {"reputation": 21174, "user_id": 636625, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/EuUH4.jpg?s=128&g=1", "display_name": "Shang Wang", "link": "https://stackoverflow.com/users/636625/shang-wang"}, "edited": false, "score": 0, "creation_date": 1449697319, "post_id": 34189480, "comment_id": 56125381, "body": "<a href=\"https://docs.djangoproject.com/en/1.9/topics/db/models/#model-inheritance\" rel=\"nofollow noreferrer\">docs.djangoproject.com/en/1.9/topics/db/models/&hellip;</a> Please take a look at the doc, it will most likely provide what you need."}, {"owner": {"reputation": 8395, "user_id": 3945375, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/DE10z.jpg?s=128&g=1", "display_name": "Gocht", "link": "https://stackoverflow.com/users/3945375/gocht"}, "edited": false, "score": 0, "creation_date": 1449697427, "post_id": 34189480, "comment_id": 56125427, "body": "Since your parent class extends from models.Model it has all the ORM methods available, because it has a models.Manager. You don&#39;t need to write your owns ORM&#39;s methods."}, {"owner": {"reputation": 950, "user_id": 3614855, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/267970129056459ed1a52d4373fc438b?s=128&d=identicon&r=PG&f=1", "display_name": "fiacre", "link": "https://stackoverflow.com/users/3614855/fiacre"}, "edited": false, "score": 0, "creation_date": 1449697591, "post_id": 34189480, "comment_id": 56125527, "body": "There is a parent model,  django.db.models.Model.  I might suggest trying to work with an abstract Django model and looking at something very practical like extending the User model or implementing UUID per model that will get you in to inheritance."}], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 5661622, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/6181212d1b73be1b8cc531df5129957e?s=128&d=identicon&r=PG", "display_name": "Thomas Stephenson", "link": "https://stackoverflow.com/users/5661622/thomas-stephenson"}, "is_accepted": false, "score": 1, "last_activity_date": 1449703929, "creation_date": 1449703929, "answer_id": 34191034, "question_id": 34189480, "link": "https://stackoverflow.com/questions/34189480/creating-parent-model-that-all-models-will-inherit-from-in-django/34191034#34191034", "title": "Creating parent model that all models will inherit from in Django", "body": "<p>It looks like you're trying to insert an <a href=\"https://docs.djangoproject.com/en/1.9/topics/db/models/#abstract-base-classes\" rel=\"nofollow\">abstract base class</a> for your models.</p>\n\n<p>Basically, what you've got there is correct, except you're missing</p>\n\n<pre><code>from django.db.models import Model\nclass MyModelBase(Model):\n     class Meta:\n         abstract = True\n\n     # ... The fields and methods I want all my models to inherit.\n</code></pre>\n\n<p>Then rather than making your models inherit from <code>django.db.models.Model</code>, they should inherit from <code>MyModelBase</code>.</p>\n"}], "owner": {"reputation": 8258, "user_id": 5182047, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/Vkgn6.jpg?s=128&g=1", "display_name": "Erik &#197;sland", "link": "https://stackoverflow.com/users/5182047/erik-%c3%85sland"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 160, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1528628273, "creation_date": 1449697094, "last_edit_date": 1528628273, "question_id": 34189480, "link": "https://stackoverflow.com/questions/34189480/creating-parent-model-that-all-models-will-inherit-from-in-django", "title": "Creating parent model that all models will inherit from in Django", "body": "<p>I am attempting to create a model class that all models will inherit from when they are created (in Django). I want any model class, with any attributes to be able to inherit from this class and read from the appropriate database table.</p>\n\n<p>I know I am going need to use <code>**kwargs</code> and <code>.setattr()</code> at some point but am unclear as to where I even start. I am also going to try to recreate <code>.all()</code>, <code>.filter()</code> and <code>.get()</code> with in that class that all other methods that inherit this class can access. </p>\n\n<p>This is what I have so far:</p>\n\n<pre><code>import sqlite3\n\nclass Model:\ndef __init__(self):\n    pass\n\n@classmethod\ndef all(self, **kwargs):\n    pass\n\n@classmethod\ndef get(self):\n    pass\n\n@classmethod\ndef filter(self):\n    pass\n\n\n###don't touch the code for these\nclass Users(Model):\n    pass\n\nclass Stocks(Model):\n    pass\n</code></pre>\n\n<p>How can I go about the initialization of this class? </p>\n"}, {"tags": ["python", "python-2.7", "python-ldap"], "comments": [{"owner": {"reputation": 10401, "user_id": 681044, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OWZ3c.jpg?s=128&g=1", "display_name": "kwarunek", "link": "https://stackoverflow.com/users/681044/kwarunek"}, "edited": false, "score": 0, "creation_date": 1450129223, "post_id": 34189433, "comment_id": 56296273, "body": "could you please check what query it is sent <code>tcpflow -c port 389</code>?"}, {"owner": {"reputation": 1245, "user_id": 975478, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/057a2e4b28f0ee27db450f0dece3fa6a?s=128&d=identicon&r=PG", "display_name": "xXPhenom22Xx", "link": "https://stackoverflow.com/users/975478/xxphenom22xx"}, "reply_to_user": {"reputation": 10401, "user_id": 681044, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OWZ3c.jpg?s=128&g=1", "display_name": "kwarunek", "link": "https://stackoverflow.com/users/681044/kwarunek"}, "edited": false, "score": 0, "creation_date": 1450130367, "post_id": 34189433, "comment_id": 56296818, "body": "Here is the dump from the modify query above: tcpflow -c port 389 tcpflow: listening on eth0 010.001.200.029.54760-010.000.000.039.00389: 0C`&gt;-CN=Administrator,CN=users,DC=company,DC=com coolpassword 010.000.000.039.00389-010.001.200.029.54760: 0a  010.001.200.029.54760-010.000.000.039.00389: 0[fV4CN=Jassen Michaels,OU=GoogleApps,DC=company,DC=com00 pmobile1 010.000.000.039.00389-010.001.200.029.54760: 0g"}], "answers": [{"comments": [{"owner": {"reputation": 1245, "user_id": 975478, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/057a2e4b28f0ee27db450f0dece3fa6a?s=128&d=identicon&r=PG", "display_name": "xXPhenom22Xx", "link": "https://stackoverflow.com/users/975478/xxphenom22xx"}, "edited": false, "score": 0, "creation_date": 1450124077, "post_id": 34192949, "comment_id": 56293380, "body": "Thanks for the reply. There seems to be something weird with the encoding, for example if I modify the mobile attribute and set it to &#39;Hello World&#39; it is stored in AD as: mobile:: 77+9ehsCAAAAABDvv70V  That doesn&#39;t decode to anything in Base64 other than gibberish. If I am using OpenLDAP from the command line I can create an .ldif file to modify that attribute and it will show up correctly, so I am not sure if this is something specifically tied to python-LDAP and AD?"}, {"owner": {"reputation": 1245, "user_id": 975478, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/057a2e4b28f0ee27db450f0dece3fa6a?s=128&d=identicon&r=PG", "display_name": "xXPhenom22Xx", "link": "https://stackoverflow.com/users/975478/xxphenom22xx"}, "edited": false, "score": 0, "creation_date": 1450124082, "post_id": 34192949, "comment_id": 56293384, "body": "I also saw that the double colon&#39;s in the LDAP Search result signify the item in Base64 encoded, though if I modify the attribute via an LDIF file the attribute does not get encoded, it only seems to behave this way when I am trying to modify attributes via python rather than using openLDAP commands..."}], "tags": [], "owner": {"reputation": 7020, "user_id": 4822566, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HlNVB.png?s=128&g=1", "display_name": "Alex Taylor", "link": "https://stackoverflow.com/users/4822566/alex-taylor"}, "is_accepted": false, "score": 0, "last_activity_date": 1449716147, "creation_date": 1449716147, "answer_id": 34192949, "question_id": 34189433, "link": "https://stackoverflow.com/questions/34189433/python-ldap-write-attribute-to-active-directory/34192949#34192949", "title": "Python LDAP write attribute to Active Directory", "body": "<p>The '=' at the end is often an indicator that it is <a href=\"https://en.wikipedia.org/wiki/Base64\" rel=\"nofollow\">Base64</a> encoding. Python has a standard library for <a href=\"https://docs.python.org/3/library/base64.html\" rel=\"nofollow\">encoding/decoding base64</a> (The link is for Python 3, but Python 2 also has the library). LDAP does indeed use Base64 for something. See <a href=\"https://tools.ietf.org/html/rfc2849\" rel=\"nofollow\">The LDAP Data Interchange Format (LDIF)</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 1245, "user_id": 975478, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/057a2e4b28f0ee27db450f0dece3fa6a?s=128&d=identicon&r=PG", "display_name": "xXPhenom22Xx", "link": "https://stackoverflow.com/users/975478/xxphenom22xx"}, "edited": false, "score": 0, "creation_date": 1450128750, "post_id": 34276218, "comment_id": 56296034, "body": "The adLDAP link you provided is a PHP library not Python. I have also looked at the other link already as well, I can bind and search against my AD without any problems, though when I modify attribs it gets encoded in a weird character set, even using the same code from the example you provided"}, {"owner": {"reputation": 7061, "user_id": 9823, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PhIaX.png?s=128&g=1", "display_name": "Eduardo", "link": "https://stackoverflow.com/users/9823/eduardo"}, "reply_to_user": {"reputation": 1245, "user_id": 975478, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/057a2e4b28f0ee27db450f0dece3fa6a?s=128&d=identicon&r=PG", "display_name": "xXPhenom22Xx", "link": "https://stackoverflow.com/users/975478/xxphenom22xx"}, "edited": false, "score": 0, "creation_date": 1450131472, "post_id": 34276218, "comment_id": 56297352, "body": "wow, you are right, looks like I&#39;m out of my mind today! Sorry about that. I meant to point to <a href=\"https://pypi.python.org/pypi/pyad\" rel=\"nofollow noreferrer\">pypi.python.org/pypi/pyad</a>"}], "tags": [], "owner": {"reputation": 7061, "user_id": 9823, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PhIaX.png?s=128&g=1", "display_name": "Eduardo", "link": "https://stackoverflow.com/users/9823/eduardo"}, "is_accepted": false, "score": 0, "last_activity_date": 1450131614, "last_edit_date": 1495540337, "creation_date": 1450125758, "answer_id": 34276218, "question_id": 34189433, "link": "https://stackoverflow.com/questions/34189433/python-ldap-write-attribute-to-active-directory/34276218#34276218", "title": "Python LDAP write attribute to Active Directory", "body": "<p>Take a look at the code from pyad to clarify what to do: <a href=\"https://pypi.python.org/pypi/pyad\" rel=\"nofollow noreferrer\">https://pypi.python.org/pypi/pyad</a></p>\n\n<p>It's Python-based.</p>\n\n<p>Another example at already answered question: <a href=\"https://stackoverflow.com/questions/29398242/use-python-script-to-manage-remote-ldap-server\">Use Python script to manage remote LDAP server</a></p>\n"}, {"tags": [], "owner": {"reputation": 1245, "user_id": 975478, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/057a2e4b28f0ee27db450f0dece3fa6a?s=128&d=identicon&r=PG", "display_name": "xXPhenom22Xx", "link": "https://stackoverflow.com/users/975478/xxphenom22xx"}, "is_accepted": true, "score": 0, "last_activity_date": 1450196698, "creation_date": 1450196698, "answer_id": 34294347, "question_id": 34189433, "link": "https://stackoverflow.com/questions/34189433/python-ldap-write-attribute-to-active-directory/34294347#34294347", "title": "Python LDAP write attribute to Active Directory", "body": "<p>Ok I found out what was going on, I was using PyPy 4.0.1 as the interpreter and for some reason this was either causing issues with the python-ldap library and/or encoding for strings. </p>\n\n<p>I switched back to Python 2.7.10 for the interpreter and now the very same modify commands up above work as expected using the python-ldap library. So definitely a word of caution if using PyPy and this particular library....</p>\n"}], "owner": {"reputation": 1245, "user_id": 975478, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/057a2e4b28f0ee27db450f0dece3fa6a?s=128&d=identicon&r=PG", "display_name": "xXPhenom22Xx", "link": "https://stackoverflow.com/users/975478/xxphenom22xx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3193, "favorite_count": 1, "accepted_answer_id": 34294347, "answer_count": 3, "score": 5, "last_activity_date": 1450196698, "creation_date": 1449696913, "last_edit_date": 1450192153, "question_id": 34189433, "link": "https://stackoverflow.com/questions/34189433/python-ldap-write-attribute-to-active-directory", "title": "Python LDAP write attribute to Active Directory", "body": "<p>I am able to bind and query Active Directory via python-ldap without any issues except when it comes to adding or modifying attributes on AD. I can add the attribute but the encoding seems to be way off as all the text is garbled.</p>\n\n<p>I've tried encoding my string with utf8 and a few others with no luck.</p>\n\n<p>I've also tried binding with a Domain Admin account along with binding with the user account to which I will be changing an attribute, same result regardless.</p>\n\n<p>Here is the method I use to update an attribute:</p>\n\n<p>class LdapHelpers:</p>\n\n<pre><code>def __init__(self):\n    import ldap\n\n    # set globals\n    self.server = 'LDAP://dc.mycompany.com'\n    self.admin_dn = 'CN=Administrator,CN=users,DC=mycompany,DC=com'\n    self.admin_pass = 'coolpassword'\n\n    # init LDAP connection\n    #ldap.set_option(ldap.OPT_X_TLS_REQUIRE_CERT, 0)\n    ldap.set_option(ldap.OPT_REFERRALS, 0)\n    ldap.set_option(ldap.OPT_X_TLS_REQUIRE_CERT, ldap.OPT_X_TLS_NEVER)\n    ldap.protocol_version = ldap.VERSION3\n    self.ldap = ldap.initialize(self.server)\n\ndef update_attribute(self, attrib, value):\n    try:\n        import ldap\n        conn = self.ldap\n        conn.simple_bind_s(self.admin_dn, self.admin_pass)\n        mod_attrs = [( ldap.MOD_REPLACE, \"mobile\", \"6306564123\")]\n\n        # I have tried other variations of the above\n        # mod_attrs = [( ldap.MOD_REPLACE, \"mobile\", \"6306564123\".encode('utf-8)]\n\n        conn.modify_s('CN=Mike Smith,OU=GoogleApps,DC=company,DC=com', mod_attrs)\n        print 'record updated'\n\n    except ldap.LDAPError as e:\n        return e.message\n</code></pre>\n\n<p>Doing a ldapsearch via terminal this is what the attribute looks like:</p>\n\n<pre><code>mobile:: MC8sAQAAAAAQNA==\n</code></pre>\n\n<p>This is what 'Hello World' looks like when I set mobile to it:</p>\n\n<pre><code>mobile:: 77+9ehsCAAAAABDvv70V\n</code></pre>\n\n<p>I've checked MSDN and it says that ldap attribute is just a Unicode string.</p>\n\n<p>System: Ubuntu 15.10 64bit\nPython: 2.7.10\npython-ldap==2.4.21</p>\n\n<p>As a side note I can search AD without any issues and parse/display returned user attributes, the issue only seems to be with creating or modifying attributes that this encoding issue comes in to play.</p>\n"}, {"tags": ["python", "wikipedia"], "comments": [{"owner": {"reputation": 6026, "user_id": 3991125, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/wbRqp.png?s=128&g=1", "display_name": "albert", "link": "https://stackoverflow.com/users/3991125/albert"}, "edited": false, "score": 0, "creation_date": 1449697161, "post_id": 34189426, "comment_id": 56125303, "body": "What have you tried so far? Could you please provide a sample of your desired output of the Okapi page / taxobox?"}, {"owner": {"reputation": 1188, "user_id": 4127330, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/a00258127935b2c8ede2e28e4e73ed02?s=128&d=identicon&r=PG&f=1", "display_name": "maurobio", "link": "https://stackoverflow.com/users/4127330/maurobio"}, "reply_to_user": {"reputation": 6026, "user_id": 3991125, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/wbRqp.png?s=128&g=1", "display_name": "albert", "link": "https://stackoverflow.com/users/3991125/albert"}, "edited": false, "score": 0, "creation_date": 1449699141, "post_id": 34189426, "comment_id": 56126324, "body": "I have tried this one: <a href=\"https://github.com/siznax/wptools\" rel=\"nofollow noreferrer\">github.com/siznax/wptools</a>, which is really great but still not useful because it is a set of command line tools, besides depending of other command lines tools available only on Linux."}], "answers": [{"comments": [{"owner": {"reputation": 1188, "user_id": 4127330, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/a00258127935b2c8ede2e28e4e73ed02?s=128&d=identicon&r=PG&f=1", "display_name": "maurobio", "link": "https://stackoverflow.com/users/4127330/maurobio"}, "edited": false, "score": 0, "creation_date": 1449776044, "post_id": 34192590, "comment_id": 56164517, "body": "jimhark: Thank you very much for the great answer! For years, a few humble people in the &quot;biodiversity informatics&quot; community (myself included) have struggled with the spiny problem of correctly parsing Wkipedia&#39;s Taxoboxes (using such languages as PHP and Java [ugh]), with meager success. Unfortunately, they didn&#39;t know Python and Stackoverflow. You have done a <i>big</i> favour to the noble cause of biodiversity conservation. Thank you very much again. Salud!"}, {"owner": {"reputation": 4603, "user_id": 514485, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aac022894c763ef088e02c1baf23a3f6?s=128&d=identicon&r=PG", "display_name": "jimhark", "link": "https://stackoverflow.com/users/514485/jimhark"}, "reply_to_user": {"reputation": 1188, "user_id": 4127330, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/a00258127935b2c8ede2e28e4e73ed02?s=128&d=identicon&r=PG&f=1", "display_name": "maurobio", "link": "https://stackoverflow.com/users/4127330/maurobio"}, "edited": false, "score": 1, "creation_date": 1449776480, "post_id": 34192590, "comment_id": 56164743, "body": "@maurobio, That is the best thanks I&#39;ve ever received on StackOverflow. I appreciate it. You&#39;ve motivated me to document the limitation of the regex I&#39;m using. If you run into a problem with this solution, please share the entry that&#39;s causing the problem in a comment here and I&#39;ll try to take a look."}, {"owner": {"reputation": 1188, "user_id": 4127330, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/a00258127935b2c8ede2e28e4e73ed02?s=128&d=identicon&r=PG&f=1", "display_name": "maurobio", "link": "https://stackoverflow.com/users/4127330/maurobio"}, "edited": false, "score": 0, "creation_date": 1449776590, "post_id": 34192590, "comment_id": 56164803, "body": "The solution is great and works quite well, except for a big point: it does not handle Wikipedia redirections. So, if I search using Okapi&#39;s scientific name (Okapia johnstoni) it fails (instead of redirecting to the correct page). But this can be dealt with by studying code from already existing solutions for getting data from Wikipedia, of which my favourite one is this: <a href=\"https://github.com/goldsmith/Wikipedia\" rel=\"nofollow noreferrer\">github.com/goldsmith/Wikipedia</a>"}, {"owner": {"reputation": 4603, "user_id": 514485, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aac022894c763ef088e02c1baf23a3f6?s=128&d=identicon&r=PG", "display_name": "jimhark", "link": "https://stackoverflow.com/users/514485/jimhark"}, "reply_to_user": {"reputation": 1188, "user_id": 4127330, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/a00258127935b2c8ede2e28e4e73ed02?s=128&d=identicon&r=PG&f=1", "display_name": "maurobio", "link": "https://stackoverflow.com/users/4127330/maurobio"}, "edited": false, "score": 0, "creation_date": 1449778529, "post_id": 34192590, "comment_id": 56165900, "body": "@mauriobio, Can you give me an example page that redirects?"}, {"owner": {"reputation": 1188, "user_id": 4127330, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/a00258127935b2c8ede2e28e4e73ed02?s=128&d=identicon&r=PG&f=1", "display_name": "maurobio", "link": "https://stackoverflow.com/users/4127330/maurobio"}, "edited": false, "score": 0, "creation_date": 1449778665, "post_id": 34192590, "comment_id": 56165991, "body": "Sure: search Wikipedia for the scientific name of Okapi (Okapia johnstoni), it will redirect to &quot;Okapi&quot;."}, {"owner": {"reputation": 1188, "user_id": 4127330, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/a00258127935b2c8ede2e28e4e73ed02?s=128&d=identicon&r=PG&f=1", "display_name": "maurobio", "link": "https://stackoverflow.com/users/4127330/maurobio"}, "edited": false, "score": 0, "creation_date": 1449778727, "post_id": 34192590, "comment_id": 56166028, "body": "BTW, it seems the requests library does <i>not</i> handle redirections in the case of Wikipedia pages..."}, {"owner": {"reputation": 1188, "user_id": 4127330, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/a00258127935b2c8ede2e28e4e73ed02?s=128&d=identicon&r=PG&f=1", "display_name": "maurobio", "link": "https://stackoverflow.com/users/4127330/maurobio"}, "edited": false, "score": 0, "creation_date": 1449779991, "post_id": 34192590, "comment_id": 56166778, "body": "I just found that the answer for redirecting as as simple as that: I just need to add &quot;&amp;redirect&quot; at the end of the url passed to the requests.get method call. It&#39;s as simple as that!"}, {"owner": {"reputation": 4603, "user_id": 514485, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aac022894c763ef088e02c1baf23a3f6?s=128&d=identicon&r=PG", "display_name": "jimhark", "link": "https://stackoverflow.com/users/514485/jimhark"}, "reply_to_user": {"reputation": 1188, "user_id": 4127330, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/a00258127935b2c8ede2e28e4e73ed02?s=128&d=identicon&r=PG&f=1", "display_name": "maurobio", "link": "https://stackoverflow.com/users/4127330/maurobio"}, "edited": false, "score": 0, "creation_date": 1449781047, "post_id": 34192590, "comment_id": 56167386, "body": "I thought requests had support for redirect. Thanks for finding the solution."}, {"owner": {"reputation": 1188, "user_id": 4127330, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/a00258127935b2c8ede2e28e4e73ed02?s=128&d=identicon&r=PG&f=1", "display_name": "maurobio", "link": "https://stackoverflow.com/users/4127330/maurobio"}, "edited": false, "score": 0, "creation_date": 1449787565, "post_id": 34192590, "comment_id": 56170740, "body": "Indeed it has, but it does not work on Wikpedia pages. See here: <a href=\"https://stackoverflow.com/questions/31939197/requests-history-not-showing-all-redirects\" title=\"requests history not showing all redirects\">stackoverflow.com/questions/31939197/&hellip;</a>"}, {"owner": {"reputation": 1188, "user_id": 4127330, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/a00258127935b2c8ede2e28e4e73ed02?s=128&d=identicon&r=PG&f=1", "display_name": "maurobio", "link": "https://stackoverflow.com/users/4127330/maurobio"}, "edited": false, "score": 0, "creation_date": 1449949369, "post_id": 34192590, "comment_id": 56230047, "body": "Solution fails on such pages as those: <a href=\"https://en.wikipedia.org/wiki/African_manatee\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/African_manatee</a> (where Taxobox is named &quot;Automatic Taxobox&quot;), <a href=\"https://en.wikipedia.org/wiki/African_bush_elephant\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/African_bush_elephant</a> (where Taxobox is named &quot;speciesbox&quot;), <a href=\"https://en.wikipedia.org/wiki/Lion\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Lion</a> and <a href=\"https://en.wikipedia.org/wiki/Leopard\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Leopard</a> (could not see why it fails in these last two cases)."}, {"owner": {"reputation": 4603, "user_id": 514485, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aac022894c763ef088e02c1baf23a3f6?s=128&d=identicon&r=PG", "display_name": "jimhark", "link": "https://stackoverflow.com/users/514485/jimhark"}, "reply_to_user": {"reputation": 1188, "user_id": 4127330, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/a00258127935b2c8ede2e28e4e73ed02?s=128&d=identicon&r=PG&f=1", "display_name": "maurobio", "link": "https://stackoverflow.com/users/4127330/maurobio"}, "edited": false, "score": 0, "creation_date": 1450135498, "post_id": 34192590, "comment_id": 56298885, "body": "I had documented the limitations of my use of regex to extract the taxobox text. That&#39;s what you were running into on the &quot;Lion&quot; and &quot;Leopard&quot; pages. I&#39;ve written a better parser to fix this problem. Your original question asked about Taxobox, not &quot;speciesbox&quot; or &quot;Automatic Taxobox&quot;. Even so, I&#39;ve revised the code to make it easier to use with different templates. Of course you are free to update Wikipedia, you could add taxoboxes to make its information more useful to you and the community."}, {"owner": {"reputation": 1188, "user_id": 4127330, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/a00258127935b2c8ede2e28e4e73ed02?s=128&d=identicon&r=PG&f=1", "display_name": "maurobio", "link": "https://stackoverflow.com/users/4127330/maurobio"}, "edited": false, "score": 1, "creation_date": 1450140896, "post_id": 34192590, "comment_id": 56300598, "body": "You have indeed mentioned possible flaws in your otherwise fine solution; the problem of course is not with your solution, but with the Wikipedia lack of standards for infoboxes and its derivatives (like taxoboxes). Unfortunately, it is not possible to update Wikipedia pages for every species (there are lots of them!) and so the better approach is to develop the most generic and robust parser for taxoboxes. :-)"}], "tags": [], "owner": {"reputation": 4603, "user_id": 514485, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aac022894c763ef088e02c1baf23a3f6?s=128&d=identicon&r=PG", "display_name": "jimhark", "link": "https://stackoverflow.com/users/514485/jimhark"}, "is_accepted": false, "score": 2, "last_activity_date": 1474584374, "last_edit_date": 1474584374, "creation_date": 1449713655, "answer_id": 34192590, "question_id": 34189426, "link": "https://stackoverflow.com/questions/34189426/parse-wikipedia-wikitext-template-named-parameters-to-extract-data-from-taxobox/34192590#34192590", "title": "Parse Wikipedia Wikitext Template Named Parameters to Extract Data from Taxobox", "body": "<p>{@siznax has posted a better answer. I'm only leaving my answer here as an example of using the wiki api's and parsing the results. This would only be of practical use if a library like wptools couldn't meet your needs for some reason.}</p>\n\n<p>This is a significant rewrite that includes a (more) proper parser to match the template's closing double braces '}}'. Also makes it easier to request different template names and includes a main() to allow testing from the shell / command line.</p>\n\n<pre><code>import sys\nimport re\nimport requests\nimport json\n\nwikiApiRoot = 'https://en.wikipedia.org/w/api.php'\n\n# returns the position past the requested token or end of string if not found\ndef FindToken(text, token, start=0):\n    pos = text.find(token, start)\n    if -1 == pos:\n        nextTokenPos = len(text)\n    else:\n        nextTokenPos = pos\n    return nextTokenPos + len(token)\n\n# Get the contents of the template as text\ndef GetTemplateText(wikitext, templateName):\n    templateTag = '{{' + templateName\n\n    startPos = FindToken(wikitext, templateTag)\n    if (len(wikitext) &lt;= startPos):\n        # Template not found\n        return None\n\n    openCount = 1\n    curPos = startPos\n    nextOpenPos = FindToken(wikitext, '{{', curPos)\n    nextClosePos = FindToken(wikitext, '}}', curPos)\n\n    # scan for template's matching close braces\n    while 0 &lt; openCount:\n        if nextOpenPos &lt; nextClosePos:\n            openCount += 1\n            curPos = nextOpenPos\n            nextOpenPos = FindToken(wikitext, '{{', curPos)\n        else:\n            openCount -= 1\n            curPos = nextClosePos\n            nextClosePos = FindToken(wikitext, '}}', curPos)\n\n    templateText = wikitext[startPos:curPos-2]\n    return templateText\n\n\ndef GetTemplateDict(title, templateName='Taxobox'):\n    templateDict = None\n\n    # Get data from Wikipedia:\n\n    resp = requests.get(wikiApiRoot + '?action=query&amp;prop=revisions&amp;' +\n        'rvprop=content&amp;rvsection=0&amp;format=json&amp;redirects&amp;titles=' +\n        title)\n\n    # Get the response text into a JSON object:\n\n    rjson = json.loads(resp.text)\n\n    # Pull out the text for the revision:\n\n    wikitext = rjson['query']['pages'].values()[0]['revisions'][0]['*']\n\n    # Parse the text for the template\n\n    templateText = GetTemplateText(wikitext, templateName)\n\n    if templateText:\n\n        # Parse templateText to get named properties\n\n        templateItemIter = re.finditer(\n            r'\\|\\s*(\\w*)\\s*=\\s*([^\\n]*)\\n',\n            templateText,\n            re.M)\n        templateList = [item.groups([0,1]) for item in templateItemIter]\n        templateDict = dict(templateList)\n\n    return templateDict\n\ndef main():\n    import argparse\n    import pprint\n\n    parser = argparse.ArgumentParser()\n    parser.add_argument('title', nargs='?', default='Okapia_johnstoni', help='title of the desired article')\n    parser.add_argument('template', nargs='?', default='Taxobox', help='name of the desired template')\n    args = parser.parse_args()\n\n    templateDict = GetTemplateDict(args.title, args.template)\n    pprint.pprint(templateDict)\n\n\nif __name__ == \"__main__\":\n    main()\n</code></pre>\n\n<p>GetTemplateDict returns a dictionary of the page's taxobox entries. For the Okapi page, this includes:</p>\n\n<ul>\n<li>binomial</li>\n<li>binomial_authority</li>\n<li>classis</li>\n<li>familia</li>\n<li>genus</li>\n<li>genus_authority</li>\n<li>image</li>\n<li>image_caption</li>\n<li>ordo</li>\n<li>phylum</li>\n<li>regnum</li>\n<li>species</li>\n<li>status</li>\n<li>status_ref</li>\n<li>status_system</li>\n<li>trend</li>\n</ul>\n\n<p>I expect the actual items to vary by page.</p>\n\n<p>The dictionary values are Wikipedia's decorated text:</p>\n\n<pre><code>&gt;&gt;&gt; taxoDict['familia'] \n'[[Giraffidae]]'\n</code></pre>\n\n<p>So additional parsing or filtering may be desired or required.</p>\n"}, {"comments": [{"owner": {"reputation": 4603, "user_id": 514485, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aac022894c763ef088e02c1baf23a3f6?s=128&d=identicon&r=PG", "display_name": "jimhark", "link": "https://stackoverflow.com/users/514485/jimhark"}, "edited": false, "score": 1, "creation_date": 1474583607, "post_id": 39480770, "comment_id": 66603124, "body": "+1 If you can use a library to solve the problem, that would be better than the custom code I wrote in my answer. I think I came across wididata while researching my answer, but didn&#39;t see a library. @siznax, thanks for the contribution."}, {"owner": {"reputation": 424, "user_id": 59037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6f407f2dd560b4505979816a5a1404de?s=128&d=identicon&r=PG&f=1", "display_name": "siznax", "link": "https://stackoverflow.com/users/59037/siznax"}, "reply_to_user": {"reputation": 4603, "user_id": 514485, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aac022894c763ef088e02c1baf23a3f6?s=128&d=identicon&r=PG", "display_name": "jimhark", "link": "https://stackoverflow.com/users/514485/jimhark"}, "edited": false, "score": 0, "creation_date": 1474676967, "post_id": 39480770, "comment_id": 66644034, "body": "No problem, @jimhark. Your conversation with maurobio was a motivating  factor. Happy hacking!"}, {"owner": {"reputation": 958, "user_id": 1268542, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0ccf41d66ae3cf3eecd0f5eefef2ad65?s=128&d=identicon&r=PG", "display_name": "biojl", "link": "https://stackoverflow.com/users/1268542/biojl"}, "edited": false, "score": 0, "creation_date": 1505377560, "post_id": 39480770, "comment_id": 79390837, "body": "This code is not working anymore. Apparently now you need to add &#39;_&#39; before WIKIPROPS: okapi._WIKIPROPS[&#39;P105&#39;] = &#39;taxon rank&#39;, etc"}, {"owner": {"reputation": 958, "user_id": 1268542, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0ccf41d66ae3cf3eecd0f5eefef2ad65?s=128&d=identicon&r=PG", "display_name": "biojl", "link": "https://stackoverflow.com/users/1268542/biojl"}, "edited": false, "score": 0, "creation_date": 1506348000, "post_id": 39480770, "comment_id": 79771699, "body": "What about extracting the information in other languages? For example in french the structure is not the same and it doesn&#39;t work"}, {"owner": {"reputation": 958, "user_id": 1268542, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0ccf41d66ae3cf3eecd0f5eefef2ad65?s=128&d=identicon&r=PG", "display_name": "biojl", "link": "https://stackoverflow.com/users/1268542/biojl"}, "edited": false, "score": 0, "creation_date": 1506365644, "post_id": 39480770, "comment_id": 79782185, "body": "BTW the package was updated 2 days ago. The way you access the data has changed again. The code doesn&#39;t work anymore."}, {"owner": {"reputation": 424, "user_id": 59037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6f407f2dd560b4505979816a5a1404de?s=128&d=identicon&r=PG&f=1", "display_name": "siznax", "link": "https://stackoverflow.com/users/59037/siznax"}, "reply_to_user": {"reputation": 958, "user_id": 1268542, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0ccf41d66ae3cf3eecd0f5eefef2ad65?s=128&d=identicon&r=PG", "display_name": "biojl", "link": "https://stackoverflow.com/users/1268542/biojl"}, "edited": false, "score": 0, "creation_date": 1511288388, "post_id": 39480770, "comment_id": 81794216, "body": "@biojl Thanks for pointing this out. Wptools is still under development. I&#39;ve opened an issue for this <a href=\"https://github.com/siznax/wptools/issues/91\" rel=\"nofollow noreferrer\">github.com/siznax/wptools/issues/91</a>"}, {"owner": {"reputation": 424, "user_id": 59037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6f407f2dd560b4505979816a5a1404de?s=128&d=identicon&r=PG&f=1", "display_name": "siznax", "link": "https://stackoverflow.com/users/59037/siznax"}, "edited": false, "score": 0, "creation_date": 1511290447, "post_id": 39480770, "comment_id": 81795348, "body": "One more thing: Wptools does at least get the parsetree XML for you in all languages available. So, if you really don&#39;t want to edit Wikidata, you may have better luck parsing the XML than the wikitext in your language."}, {"owner": {"reputation": 424, "user_id": 59037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6f407f2dd560b4505979816a5a1404de?s=128&d=identicon&r=PG&f=1", "display_name": "siznax", "link": "https://stackoverflow.com/users/59037/siznax"}, "reply_to_user": {"reputation": 958, "user_id": 1268542, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0ccf41d66ae3cf3eecd0f5eefef2ad65?s=128&d=identicon&r=PG", "display_name": "biojl", "link": "https://stackoverflow.com/users/1268542/biojl"}, "edited": false, "score": 0, "creation_date": 1517283126, "post_id": 39480770, "comment_id": 84021635, "body": "@biojl FYI: we&#39;ve added a more general parsing alternative. So, this should work for you now."}], "tags": [], "owner": {"reputation": 424, "user_id": 59037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6f407f2dd560b4505979816a5a1404de?s=128&d=identicon&r=PG&f=1", "display_name": "siznax", "link": "https://stackoverflow.com/users/59037/siznax"}, "is_accepted": true, "score": 3, "last_activity_date": 1517283432, "last_edit_date": 1517283432, "creation_date": 1473812484, "answer_id": 39480770, "question_id": 34189426, "link": "https://stackoverflow.com/questions/34189426/parse-wikipedia-wikitext-template-named-parameters-to-extract-data-from-taxobox/39480770#39480770", "title": "Parse Wikipedia Wikitext Template Named Parameters to Extract Data from Taxobox", "body": "<p>@maurobio, @jimhark <code>wptools</code> is a python (2+3) library now. It will\ngive you any infobox with \"box\" in the name as a python <code>dict</code>, but\nyou probably want to use <em>Wikidata</em> (e.g. okapi\n<a href=\"https://www.wikidata.org/wiki/Q82037\" rel=\"nofollow noreferrer\">https://www.wikidata.org/wiki/Q82037</a>) because infoboxen are messy (to \nsay the least). If you focus on <em>Wikidata</em>, then everyone benefits, \nand <code>wptools</code> can get <em>Wikidata</em> for you too. We've recently updated wptools so that it gets ALL Wikidata by default.</p>\n\n<p>You can get the infobox data in the example below in some languages, but as @biojl points out, wikitext has a different structure in different languages!</p>\n\n<pre><code>&gt;&gt;&gt; page = wptools.page('Okapi')\n&gt;&gt;&gt; page.get_parse()\nen.wikipedia.org (parse) Okapi\nen.wikipedia.org (imageinfo) File:Okapi2.jpg\nOkapi (en) data\n{\n  image: &lt;list(1)&gt; {'kind': 'parse-image', u'descriptionshorturl':...\n  infobox: &lt;dict(9)&gt; status, status_ref, name, image, taxon, autho...\n  iwlinks: &lt;list(4)&gt; https://commons.wikimedia.org/wiki/Okapia_joh...\n  pageid: 22709\n  parsetree: &lt;str(39115)&gt; &lt;root&gt;&lt;template&gt;&lt;title&gt;about&lt;/title&gt;&lt;par...\n  requests: &lt;list(2)&gt; parse, imageinfo\n  title: Okapi\n  wikibase: Q82037\n  wikidata_url: https://www.wikidata.org/wiki/Q82037\n  wikitext: &lt;str(29930)&gt; {{about|the animal}}{{good article}}{{use...\n}\n\n&gt;&gt;&gt; page.data['infobox']\n{'authority': '([[P.L. Sclater]], 1901)',\n 'image': 'Okapi2.jpg',\n 'image_caption': \"An okapi at [[Disney's Animal Kingdom]] in [[Florida]].\",\n 'name': 'Okapi',\n 'parent_authority': '[[Ray Lankester|Lankester]], 1901',\n 'status': 'EN',\n 'status_ref': '&lt;ext&gt;&lt;name&gt;ref&lt;/name&gt;&lt;attr&gt; name=iucn&lt;/attr&gt;&lt;inner&gt;{{IUCN2008|assessor=IUCN SSC Antelope Specialist Group|year=2008|id=15188|title=Okapia johnstoni|downloaded=26 November 2013}} Database entry includes a brief justification of why this species is endangered.&lt;/inner&gt;&lt;close&gt;&amp;lt;/ref&amp;gt;&lt;/close&gt;&lt;/ext&gt;',\n 'status_system': 'IUCN3.1',\n 'taxon': 'Okapia johnstoni'}\n</code></pre>\n\n<p>However, because it is structured, you can get Wikidata in many languages, e.g.</p>\n\n<pre><code>&gt;&gt;&gt; page = wptools.page('Okapi', lang='fr')\n&gt;&gt;&gt; page.get_wikidata()\nwww.wikidata.org (wikidata) Okapi\nwww.wikidata.org (labels) P646|P349|P373|P685|P627|Q16521|Q7432|Q...\nfr.wikipedia.org (imageinfo) File:Okapia johnstoni -Marwell Wildl...\nOkapi (fr) data\n{\n  aliases: &lt;list(2)&gt; Mondonga, Okapia johnstoni\n  claims: &lt;dict(26)&gt; P646, P181, P935, P815, P373, P1417, P685, P1...\n  description: esp\u00e8ce de mammif\u00e8res\n  image: &lt;list(2)&gt; {'kind': 'wikidata-image', u'descriptionshortur...\n  label: Okapi\n  labels: &lt;dict(31)&gt; P646, P373, P685, P627, Q16521, Q7432, Q20415...\n  modified: &lt;dict(1)&gt; wikidata\n  pageid: 84481\n  requests: &lt;list(3)&gt; wikidata, labels, imageinfo\n  title: Okapi\n  what: taxon\n  wikibase: Q82037\n  wikidata: &lt;dict(26)&gt; identifiant BioLib (P838), taxon sup\u00e9rieur ...\n  wikidata_url: https://www.wikidata.org/wiki/Q82037\n}\n\n&gt;&gt;&gt; page.data['wikidata']\n{u'carte de r\\xe9partition (P181)': u'Okapi distribution.PNG',\n u'cat\\xe9gorie Commons (P373)': u'Okapia johnstoni',\n u'dur\\xe9e de gestation (P3063)': {u'amount': u'+14.5',\n  u'lowerBound': u'+14.0',\n  u'unit': u'http://www.wikidata.org/entity/Q5151',\n  u'upperBound': u'+15.0'},\n u'd\\xe9crit par (P1343)': u'encyclop\\xe9die Otto (Q2041543)',\n u'galerie Commons (P935)': u'Okapia johnstoni',\n u'identifiant ARKive (P2833)': u'okapi/okapia-johnstoni',\n u'identifiant Animal Diversity Web (P4024)': u'Okapia_johnstoni',\n u'identifiant Biblioth\\xe8que nationale de la Di\\xe8te (P349)': u'01092792',\n u'identifiant BioLib (P838)': u'33523',\n u'identifiant Encyclopedia of Life (P830)': u'308387',\n u'identifiant Encyclop\\xe6dia Britannica en ligne (P1417)': u'animal/okapi',\n u'identifiant Fossilworks (P842)': u'149380',\n u'identifiant Freebase (P646)': u'/m/05pf4',\n u'identifiant GBIF (P846)': u'2441207',\n u'identifiant ITIS (P815)': u'625037',\n u'identifiant Mammal Species of the World (P959)': u'14200484',\n u'identifiant NCBI (P685)': u'86973',\n u'identifiant UICN (P627)': u'15188',\n u'identifiant de la Grande Encyclop\\xe9die russe en ligne (P2924)': u'2290412',\n u'image (P18)': [u'Okapia johnstoni -Marwell Wildlife, Hampshire, England-8a.jpg',\n  u'Okapia johnstoni1.jpg'],\n u\"nature de l'\\xe9l\\xe9ment (P31)\": u'taxon (Q16521)',\n u'nom scientifique du taxon (P225)': u'Okapia johnstoni',\n u'nom vernaculaire (P1843)': [u'Okapi', u'Okapi'],\n u'rang taxinomique (P105)': u'esp\\xe8ce (Q7432)',\n u'statut de conservation UICN (P141)': u'esp\\xe8ce en danger (Q11394)',\n u'taxon sup\\xe9rieur (P171)': u'Okapia (Q1872039)'}\n</code></pre>\n\n<p>Don't forget that you can edit Wikidata in your own language. There are <a href=\"https://www.wikidata.org/wiki/Wikidata:Tools/External_tools\" rel=\"nofollow noreferrer\">tools</a> available to enable editing a large number of Wikidata pages.</p>\n\n<p><strong>EDIT</strong>: we've added a more general parser that should work (to some extent) with any infobox syntax, e.g.</p>\n\n<pre><code>&gt;&gt;&gt; page = wptools.page('Okapi', lang='fr')\n&gt;&gt;&gt; page.get_parse()\nfr.wikipedia.org (parse) Okapi\nOkapi (fr) data\n{\n  infobox: &lt;dict(2)&gt; count, boxes\n  ...\n}\n\n&gt;&gt;&gt; page.data['infobox']['count']\n13\n\n&gt;&gt;&gt; page.data['infobox']['boxes']\n[{u'Taxobox d\\xe9but': [[{'index': '1'}, 'animal'],\n   [{'index': '2'}, \"''Okapia johnstoni''\"],\n   [{'index': '3'}, 'Okapi2.jpg'],\n   [{'index': '4'}, 'Okapi']]},\n {'Taxobox': [[{'index': '1'}, 'embranchement'],\n   [{'index': '2'}, 'Chordata']]},\n {'Taxobox': [[{'index': '1'}, 'classe'], [{'index': '2'}, 'Mammalia']]},\n {'Taxobox': [[{'index': '1'}, 'sous-classe'], [{'index': '2'}, 'Theria']]},\n {'Taxobox': [[{'index': '1'}, 'ordre'], [{'index': '2'}, 'Artiodactyla']]},\n {'Taxobox': [[{'index': '1'}, 'famille'], [{'index': '2'}, 'Giraffidae']]},\n {'Taxobox taxon': [[{'index': '1'}, 'animal'],\n   [{'index': '2'}, 'genre'],\n   [{'index': '3'}, 'Okapia'],\n   [{'index': '4'}, '[[Edwin Ray Lankester|Lankester]], [[1901]]']]},\n {'Taxobox taxon': [[{'index': '1'}, 'animal'],\n   [{'index': '2'}, u'esp\\xe8ce'],\n   [{'index': '3'}, 'Okapia johnstoni'],\n   [{'index': '4'}, '([[Philip Lutley Sclater|Sclater]], [[1901]])']]},\n {'Taxobox synonymes': [[{'index': '1'},\n    \"* ''Equus johnstoni'' &lt;small&gt;P.L. Sclater, 1901&lt;/small&gt;\"]]},\n {'Taxobox UICN': [[{'index': '1'}, 'EN'], [{'index': '2'}, 'A2abcd+4abcd']]},\n {u'Taxobox r\\xe9partition': [[{'index': '1'}, 'Okapi map.jpg']]},\n {u'Taxobox r\\xe9partition': [[{'index': '1'}, 'Okapi distribution.PNG']]},\n {'Taxobox fin': []}]\n</code></pre>\n\n<p>Hope that helps.</p>\n"}], "owner": {"reputation": 1188, "user_id": 4127330, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/a00258127935b2c8ede2e28e4e73ed02?s=128&d=identicon&r=PG&f=1", "display_name": "maurobio", "link": "https://stackoverflow.com/users/4127330/maurobio"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1295, "favorite_count": 1, "accepted_answer_id": 39480770, "answer_count": 2, "score": 3, "last_activity_date": 1517283432, "creation_date": 1449696887, "last_edit_date": 1473745580, "question_id": 34189426, "link": "https://stackoverflow.com/questions/34189426/parse-wikipedia-wikitext-template-named-parameters-to-extract-data-from-taxobox", "title": "Parse Wikipedia Wikitext Template Named Parameters to Extract Data from Taxobox", "body": "<p>Using Python, I am attempting to extract data from the several \"fields\" of a Wikipedia Taxobox (an infobox which is usually displayed for each animal or plant species page, see for example here: <a href=\"https://en.wikipedia.org/wiki/Okapi\" rel=\"nofollow\">https://en.wikipedia.org/wiki/Okapi</a>).</p>\n\n<p>The solution provided here (<a href=\"https://stackoverflow.com/questions/33334878/how-to-use-wikipedia-api-to-get-section-of-sidebar#new-answer\">How to use Wikipedia API to get section of sidebar?</a>) is interesting but not useful in my case, since I am interested in data from a lower taxonomic category (species).</p>\n\n<p>What I want is a way (as pythonic as possible) to access every field in a Taxobox and then get the data (as a dictionary, perhaps) of interest.</p>\n\n<p>Thanks in advance for any assistance.</p>\n\n<p><strong>EDIT</strong>: Here (<a href=\"https://github.com/siznax/wptools\" rel=\"nofollow\">https://github.com/siznax/wptools</a>) is another good solution which should be what I need, but unfortunately it is a set of command line tools (besides dependent of other command line tools available only on Linux) and not a Python library.</p>\n\n<p><strong>EDIT2</strong>: wptools is a (python 2,3) library now.</p>\n"}, {"tags": ["python", "compare", "diff", "igraph"], "answers": [{"comments": [{"owner": {"reputation": 1072, "user_id": 2772305, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/209673ff54f6733506954f50c53f16c1?s=128&d=identicon&r=PG&f=1", "display_name": "sal", "link": "https://stackoverflow.com/users/2772305/sal"}, "edited": false, "score": 0, "creation_date": 1449702988, "post_id": 34189502, "comment_id": 56128080, "body": "Yes I read that. It says I can compare one node pair and/or edge pair of each graph. Fact  is I need to compare all nodes and all edges of the two graphs."}, {"owner": {"reputation": 1212, "user_id": 5486165, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-nxXHT_TWdNs/AAAAAAAAAAI/AAAAAAAAAOM/VRVViVvOuME/photo.jpg?sz=128", "display_name": "Aske Doerge", "link": "https://stackoverflow.com/users/5486165/aske-doerge"}, "reply_to_user": {"reputation": 1072, "user_id": 2772305, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/209673ff54f6733506954f50c53f16c1?s=128&d=identicon&r=PG&f=1", "display_name": "sal", "link": "https://stackoverflow.com/users/2772305/sal"}, "edited": false, "score": 0, "creation_date": 1449704611, "post_id": 34189502, "comment_id": 56128669, "body": "I added an example which hopefully explains it better. The compare function is called with graph1 and graph2, and the indices of <i>some</i> pair of vertices. This function is called many times for many different pairs of vertices until the algorithm is finished. It exists to allow you to compare attributes on your nodes. You can create a similar function for edges if needed."}, {"owner": {"reputation": 1072, "user_id": 2772305, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/209673ff54f6733506954f50c53f16c1?s=128&d=identicon&r=PG&f=1", "display_name": "sal", "link": "https://stackoverflow.com/users/2772305/sal"}, "edited": false, "score": 0, "creation_date": 1449741125, "post_id": 34189502, "comment_id": 56142435, "body": "ok, that seems to return the results I was looking for. Would you mind explaining how the function <code>cmp_nodes</code> can be called as argument in the <code>isomorphic_vf2</code> function and on top of that , also without its own arguments?"}, {"owner": {"reputation": 1212, "user_id": 5486165, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-nxXHT_TWdNs/AAAAAAAAAAI/AAAAAAAAAOM/VRVViVvOuME/photo.jpg?sz=128", "display_name": "Aske Doerge", "link": "https://stackoverflow.com/users/5486165/aske-doerge"}, "reply_to_user": {"reputation": 1072, "user_id": 2772305, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/209673ff54f6733506954f50c53f16c1?s=128&d=identicon&r=PG&f=1", "display_name": "sal", "link": "https://stackoverflow.com/users/2772305/sal"}, "edited": false, "score": 1, "creation_date": 1449787881, "post_id": 34189502, "comment_id": 56170864, "body": "Of course. With the notation <code>node_compat_fn=cmp_nodes</code> we pass a handle to the function <code>cmp_nodes</code>, and bind it to the argument <code>node_compat_fn</code>. This means that inside <code>isomorphic_vf2</code> the <code>cmp_nodes</code> function can be called by writing <code>node_compat_fn(g1, g2, v1, v2)</code>. It is up to the programmer/code to ensure that the function is then called correctly. There is a minimal example here: <a href=\"http://stackoverflow.com/questions/706721/how-do-i-pass-a-method-as-a-parameter-in-python\" title=\"how do i pass a method as a parameter in python\">stackoverflow.com/questions/706721/&hellip;</a>"}, {"owner": {"reputation": 876, "user_id": 932342, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/737e0a79835222d9921a47138a15799f?s=128&d=identicon&r=PG", "display_name": "afaulconbridge", "link": "https://stackoverflow.com/users/932342/afaulconbridge"}, "edited": false, "score": 0, "creation_date": 1584993917, "post_id": 34189502, "comment_id": 107608005, "body": "Should the example be the following? <code>return g1.vs[&#39;gaga&#39;][i1] == g2.vs[&#39;gaga&#39;][i2]</code> i.e. with the index <i>after</i> the attribute name, since its a dictionary of lists."}, {"owner": {"reputation": 1212, "user_id": 5486165, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-nxXHT_TWdNs/AAAAAAAAAAI/AAAAAAAAAOM/VRVViVvOuME/photo.jpg?sz=128", "display_name": "Aske Doerge", "link": "https://stackoverflow.com/users/5486165/aske-doerge"}, "reply_to_user": {"reputation": 876, "user_id": 932342, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/737e0a79835222d9921a47138a15799f?s=128&d=identicon&r=PG", "display_name": "afaulconbridge", "link": "https://stackoverflow.com/users/932342/afaulconbridge"}, "edited": false, "score": 0, "creation_date": 1605802226, "post_id": 34189502, "comment_id": 114769468, "body": "@afaulconbridge The unittests still do it this way, so I assume it&#39;s still valid: <a href=\"https://github.com/igraph/python-igraph/blob/316fa6b3b42e348561b8b199338422841aceeb3c/tests/test_isomorphism.py#L6\" rel=\"nofollow noreferrer\">github.com/igraph/python-igraph/blob/&hellip;</a>"}], "tags": [], "owner": {"reputation": 1212, "user_id": 5486165, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-nxXHT_TWdNs/AAAAAAAAAAI/AAAAAAAAAOM/VRVViVvOuME/photo.jpg?sz=128", "display_name": "Aske Doerge", "link": "https://stackoverflow.com/users/5486165/aske-doerge"}, "is_accepted": true, "score": 1, "last_activity_date": 1449704975, "last_edit_date": 1449704975, "creation_date": 1449697191, "answer_id": 34189502, "question_id": 34189407, "link": "https://stackoverflow.com/questions/34189407/compare-two-small-directed-graphs-with-attributes-on-edges-and-nodes/34189502#34189502", "title": "Compare two small directed graphs with attributes on edges and nodes", "body": "<p>You can pass custom comparing functions to the method <code>isomorphic_vf2</code> with the <code>node_compat_fn</code> and <code>edge_compat_fn</code> arguments. From the <a href=\"http://igraph.org/python/doc/igraph.GraphBase-class.html#isomorphic_vf2\" rel=\"nofollow\" title=\"docs\">docs</a>:</p>\n\n<blockquote>\n  <p>node_compat_fn - a function that receives the two graphs and two node indices (one from the first graph, one from the second graph) and returns True if the nodes given by the two indices are compatible (i.e. they could be matched to each other) or False otherwise. This can be used to restrict the set of isomorphisms based on node-specific criteria that are too complicated to be represented by node color vectors (i.e. the color1 and color2 parameters). None means that every node is compatible with every other node.</p>\n</blockquote>\n\n<p>and</p>\n\n<blockquote>\n  <p>edge_compat_fn - a function that receives the two graphs and two edge indices (one from the first graph, one from the second graph) and returns True if the edges given by the two indices are compatible (i.e. they could be matched to each other) or False otherwise. This can be used to restrict the set of isomorphisms based on edge-specific criteria that are too complicated to be represented by edge color vectors (i.e. the edge_color1 and edge_color2 parameters). None means that every edge is compatible with every other node.</p>\n</blockquote>\n\n<p>Example:</p>\n\n<pre><code>import igraph as ig\nG1=ig.Graph(directed=True)\nG2=ig.Graph(directed=True)\nG1.add_vertices(2)\nG2.add_vertices(2)\nG1.vs[0]['gaga'] = 'gugu'\nG2.vs[0]['gaga'] = 'gogo'\nG1.add_edge(0,1)\nG2.add_edge(1,0)\n\nprint G1.isomorphic_vf2(G2)\n\ndef cmp_nodes(g1, g2, i1, i2):\n    return g1.vs[i1]['gaga'] == g2.vs[i2]['gaga']\n\nprint G1.isomorphic_vf2(G2, node_compat_fn=cmp_nodes)\n</code></pre>\n\n<p><a href=\"https://github.com/igraph/python-igraph/blob/master/igraph/test/isomorphism.py\" rel=\"nofollow\">Here is the included unit-test of this exact feature.</a></p>\n"}], "owner": {"reputation": 1072, "user_id": 2772305, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/209673ff54f6733506954f50c53f16c1?s=128&d=identicon&r=PG&f=1", "display_name": "sal", "link": "https://stackoverflow.com/users/2772305/sal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1520, "favorite_count": 0, "accepted_answer_id": 34189502, "answer_count": 1, "score": 1, "last_activity_date": 1449704975, "creation_date": 1449696801, "question_id": 34189407, "link": "https://stackoverflow.com/questions/34189407/compare-two-small-directed-graphs-with-attributes-on-edges-and-nodes", "title": "Compare two small directed graphs with attributes on edges and nodes", "body": "<p>I want to compare two smaller directed python-igraph graphs, including all attributes and their values on edges or nodes and direction of edges. Is there any such function in the python-igraph package? </p>\n\n<p>I saw <a href=\"http://igraph.org/python/doc/igraph.GraphBase-class.html#isomorphic\" rel=\"nofollow\">G1.isomorphic(G2)</a> and related, but they don't seem to work with attributes, nor with directionality of edges</p>\n\n<p>Example:</p>\n\n<pre><code>import igraph as ig\nG1=ig.Graph(directed=True)\nG2=ig.Graph(directed=True)\nG1.add_vertices(2)\nG2.add_vertices(2)\nG1.vs[0]['gaga'] = 'gugu'\nG2.vs[0]['gaga'] = 'gogo'\nG1.add_edge(0,1)\nG2.add_edge(1,0)\n\nprint G1.isomorphic_vf2(G2)\n&gt;&gt;&gt;True \n</code></pre>\n"}, {"tags": ["python", "neural-network", "theano", "backpropagation", "recurrent-neural-network"], "answers": [{"tags": [], "owner": {"reputation": 4470, "user_id": 1870254, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/2e0ec0a72dc2fabef2d2eab4f854887b?s=128&d=identicon&r=PG", "display_name": "jan-glx", "link": "https://stackoverflow.com/users/1870254/jan-glx"}, "is_accepted": false, "score": 0, "last_activity_date": 1462320203, "creation_date": 1462320203, "answer_id": 37016325, "question_id": 34189397, "link": "https://stackoverflow.com/questions/34189397/theano-recurrent-neural-network-error-is-nan/37016325#37016325", "title": "Theano , recurrent neural network, error is nan", "body": "<p>While Marcin Mo\u017cejko was probably right about the source of the NaNs beieng numerical problems with the logs, theano's doc gives good general advice on <a href=\"http://deeplearning.net/software/theano/tutorial/nan_tutorial.html\" rel=\"nofollow\">dealing with NaNs</a>. </p>\n\n<p>In particular, how to use <a href=\"http://deeplearning.net/software/theano/library/compile/nanguardmode.html#nanguardmode\" rel=\"nofollow\">NaN guard</a> - which will throw an error as soon as a tensor variable contains NaNs:</p>\n\n<pre><code>from theano.compile.nanguardmode import NanGuardMode\n\n...\n... = theano.function(..., mode=NanGuardMode(nan_is_error=True,\n                                             inf_is_error=True,\n                                             big_is_error=True)\n                     )\n</code></pre>\n"}], "owner": {"reputation": 35, "user_id": 5435604, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ZUbZ_k9BghY/AAAAAAAAAAI/AAAAAAAAABg/aq92C94HqDA/photo.jpg?sz=128", "display_name": "amartya18x", "link": "https://stackoverflow.com/users/5435604/amartya18x"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 382, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1462320203, "creation_date": 1449696763, "question_id": 34189397, "link": "https://stackoverflow.com/questions/34189397/theano-recurrent-neural-network-error-is-nan", "title": "Theano , recurrent neural network, error is nan", "body": "<p>I am trying to duplicate the recent work on unitary evolution neural networks. Adapting from the code published by the author, I have written the following code</p>\n\n<pre><code>import matplotlib.pyplot as plt\nimport numpy as np\nimport theano\nimport theano.tensor as T\nimport sys\n\n#theano.config.exception_verbosity='high'\nclass RNN(object):\n    def __init__(self,n_in,n_out,n_hid,learning_rate = 0.000001):\n        self.dtype = theano.config.floatX\n        self.learning_rate = learning_rate\n        self.n_in = n_in\n        self.n_hid = n_hid\n        self.n_out = n_out\n        self.generate_parameters()\n        self.params = [self.V_re, self.V_im, self.U, self.hidden_bias, self.reflection, self.out_bias, self.theta, self.scale]\n        inp = T.matrix(dtype = self.dtype)\n        target = T.matrix(dtype = self.dtype)\n        h_0_batch = self.h_0\n        non_sequences = [self.theta, self.V_re, self.V_im, self.hidden_bias, self.scale, self.out_bias, self.U]\n        sequences = inp\n        self.index_permute = np.random.permutation(self.n_hid)\n        h_t,_ = theano.scan(fn=self.one_step,sequences=sequences,non_sequences=non_sequences,outputs_info=h_0_batch)\n\n\n        y_t = T.dot(h_t[self.h_t.shape[0]-1], self.U) + self.out_bias\n        self.p_y_given_x = T.nnet.softmax(y_t)\n        #cost = T.nnet.categorical_crossentropy(y, y_t).mean()\n        self.y_t = T.argmax(self.p_y_given_x, axis = 1)\n        self.lr = theano.shared(np.cast[self.dtype](self.learning_rate))\n        self.cost = -T.sum(target*T.log(self.p_y_given_x) + (1.- target)*T.log(1. - self.p_y_given_x))\n        self.learn_rnn_fn = self.get_train_graph(target, inp, self.cost)\n        self.pred_rnn_fn = self.get_pred_graph(inp)\n        print \"Built model\"\n\n\n\n    def do_fft(self,input, n_hidden):\n        fft_input = T.reshape(input, (input.shape[0], 2, n_hidden))\n        fft_input = fft_input.dimshuffle(0,2,1)\n        fft_output = cufft(fft_input) / T.sqrt(n_hidden)\n        fft_output = fft_output.dimshuffle(0,2,1)\n        output = T.reshape(fft_output, (input.shape[0], 2*n_hidden))\n        return output\n\n    def do_ifft(self,input, n_hidden):\n        ifft_input = T.reshape(input, (input.shape[0], 2, n_hidden))\n        ifft_input = ifft_input.dimshuffle(0,2,1)\n        ifft_output = cuifft(ifft_input) / T.sqrt(n_hidden)\n        ifft_output = ifft_output.dimshuffle(0,2,1)\n        output = T.reshape(ifft_output, (input.shape[0], 2*n_hidden))\n        return output\n\n\n    def scale_diag(self,input, n_hidden, diag):\n        input_re = input[:, :n_hidden]\n        input_im = input[:, n_hidden:]\n        Diag = T.nlinalg.AllocDiag()(diag)\n        input_re_times_Diag = T.dot(input_re, Diag)\n        input_im_times_Diag = T.dot(input_im, Diag)\n        return T.concatenate([input_re_times_Diag, input_im_times_Diag], axis=1)\n\n    def times_diag(self,input, n_hidden, diag):\n        input_re = input[:, :n_hidden]\n        input_im = input[:, n_hidden:]\n        Re = T.nlinalg.AllocDiag()(T.cos(diag))\n        Im = T.nlinalg.AllocDiag()(T.sin(diag))\n        input_re_times_Re = T.dot(input_re, Re)\n        input_re_times_Im = T.dot(input_re, Im)\n        input_im_times_Re = T.dot(input_im, Re)\n        input_im_times_Im = T.dot(input_im, Im)\n\n        return T.concatenate([input_re_times_Re - input_im_times_Im,\n                          input_re_times_Im + input_im_times_Re], axis=1)\n\n    def vec_permutation(self,input, n_hidden, index_permute):\n        re = input[:, :n_hidden]\n        im = input[:, n_hidden:]\n        re_permute = re[:, index_permute]\n        im_permute = im[:, index_permute]\n\n        return T.concatenate([re_permute, im_permute], axis=1)      \n\n    def times_reflection(self,input, n_hidden, reflection):\n        input_re = input[:, :n_hidden]\n        input_im = input[:, n_hidden:]\n        reflect_re = reflection[:n_hidden]\n        reflect_im = reflection[n_hidden:]\n        vstarv = (reflect_re**2 + reflect_im**2).sum()\n        input_re_reflect = input_re - 2 / vstarv * (T.outer(T.dot(input_re, reflect_re), reflect_re) \n                                                    + T.outer(T.dot(input_re, reflect_im), reflect_im) \n                                                    - T.outer(T.dot(input_im, reflect_im), reflect_re) \n                                                    + T.outer(T.dot(input_im, reflect_re), reflect_im))\n        input_im_reflect = input_im - 2 / vstarv * (T.outer(T.dot(input_im, reflect_re), reflect_re) \n                                                    + T.outer(T.dot(input_im, reflect_im), reflect_im) \n                                                    + T.outer(T.dot(input_re, reflect_im), reflect_re) \n                                                    - T.outer(T.dot(input_re, reflect_re), reflect_im))\n\n        return T.concatenate([input_re_reflect, input_im_reflect], axis=1)      \n\n    def sample_weights(self,SizeX, SizeY):\n        values = np.ndarray([SizeX, SizeY], dtype = self.dtype)\n        for dx in range(SizeX):\n            row_val = np.random.normal(loc = 0.0, scale = 0.1, size=(SizeY,))\n            values[dx,:] = row_val\n        _,svs,_ = np.linalg.svd(values)\n        values = values / svs[0]\n        return values\n\n    def generate_parameters(self):\n        np.random.seed(1234)\n        rng = np.random.RandomState(1234)\n        self.V_re = theano.shared(self.sample_weights(self.n_in, self.n_hid))\n        self.V_im = theano.shared(self.sample_weights(self.n_in, self.n_hid))\n        self.U = theano.shared(self.sample_weights(2 * self.n_hid, self.n_out))\n        self.hidden_bias = theano.shared(np.asarray(rng.uniform(low=-0.01,\n                                                       high=0.01,\n                                                       size=(self.n_hid,)),\n                                               dtype=self.dtype))\n\n        self.reflection = theano.shared(self.sample_weights(2, 2*self.n_hid))\n        self.out_bias = theano.shared(np.zeros((self.n_out,), dtype=self.dtype))\n        self.theta = theano.shared(self.sample_weights(3, self.n_hid))\n        bucket = np.sqrt(2.) * np.sqrt(3. / 2 / self.n_hid)\n        self.h_0 = theano.shared(np.asarray(rng.uniform(low=-bucket,\n                                               high=bucket,\n                                               size=(1, 2 * self.n_hid)), \n                                       dtype=self.dtype),\n                        name='h_0')\n\n        self.scale = theano.shared(np.zeros((self.n_hid,), dtype=self.dtype))\n\n    def logistic_function(self,vec):\n        return 1/(1 + T.exp(-vec))\n    def activ_tan(self,vec):\n        return T.tanh(vec)\n    def one_step(self,x_t, h_prev, theta, V_re, V_im, hidden_bias, scale, out_bias, U):\n                # Compute hidden linear transform\n        step1 = self.times_diag(h_prev, self.n_hid, self.theta[0,:])\n        step2 = step1\n#        step2 = do_fft(step1, n_hidden)\n        step3 = self.times_reflection(step2, self.n_hid, self.reflection[0,:])\n        step4 = self.vec_permutation(step3, self.n_hid, self.index_permute)\n        step5 = self.times_diag(step4, self.n_hid, theta[1,:])\n        step6 = step5\n#        step6 = do_ifft(step5, n_hidden)\n        step7 = self.times_reflection(step6, self.n_hid, self.reflection[1,:])\n        step8 = self.times_diag(step7, self.n_hid, self.theta[2,:])     \n        step9 = self.scale_diag(step8, self.n_hid, self.scale)\n\n        hidden_lin_output = step9\n        # Compute data linear transform\n        data_lin_output_re = T.dot(x_t, V_re)\n        data_lin_output_im = T.dot(x_t, V_im)\n        data_lin_output = T.concatenate([data_lin_output_re, data_lin_output_im], axis=0)\n\n        # Total linear output        \n        lin_output = hidden_lin_output + data_lin_output\n        lin_output_re = lin_output[:, :self.n_hid]\n        lin_output_im = lin_output[:, self.n_hid:] \n\n\n        # Apply non-linearity ----------------------------\n\n\n        # scale RELU nonlinearity\n        modulus = T.sqrt(lin_output_re ** 2 + lin_output_im ** 2)\n        rescale = T.maximum(modulus + hidden_bias.dimshuffle('x',0), 0.) / (modulus + 1e-5)\n        nonlin_output_re = lin_output_re * rescale\n        nonlin_output_im = lin_output_im * rescale\n\n        h_t = T.concatenate([nonlin_output_re, \n                             nonlin_output_im], axis=1)\n        return h_t\n\n        #cost = -T.sum(T.log(np.abs(p_y_given_x))[0][T.argmax(target)])\n    def get_train_graph(self, target, inp, cost):\n        grads = []\n        for param in self.params:\n            grads.append(T.grad(cost, param))\n        update = []\n        for param,grad in zip(self.params, grads):\n            update.append((param, param - grad*self.lr))\n        train_fn = theano.function(inputs = [inp,target], outputs = cost, updates = update)\n        return train_fn\n\n    def get_pred_graph(self,inp):\n        predictions = theano.function(inputs = [inp], outputs = self.y_t)\n        return predictions\n\ndef convert_string(file):\n    f = open(file,'r')\n    text = f.read()\n    f.close()\n    inp = np.zeros([len(text), 256],dtype=theano.config.floatX)\n    out = np.zeros([len(text), 256],dtype=theano.config.floatX)\n    counter = 0\n    for char in text:\n        if(counter &gt; 0):\n            inp[counter][ord(char)] = 1\n            out[counter-1][ord(char)] = 1\n        counter = counter + 1\n    return [inp, out]\n\ntrain_data = convert_string(\"log\")\nj = 0\nmodel = RNN(256,256,1000)\nn_epoch=10\ndtype = dtype = theano.config.floatX\ndef train_rnn(train_data, n_epoch = 100):\n    train_err = np.ndarray(n_epoch)\n    for i in range(n_epoch):\n        for j in range(len(train_data[0])):\n            tempInp = np.zeros([1,256],dtype=dtype);\n            tempInp[0] = train_data[0][j]\n            tempOut = np.zeros([1,256],dtype=dtype);\n            tempOut[0] = train_data[1][j]\n            train_cost = model.learn_rnn_fn(tempInp, tempOut)\n            sys.stdout.write((model.pred_rnn_fn(tempInp)))\n            train_err[i]=train_err[i]+ train_cost\n            train_err[i]= train_err[i]/len(train_data[0])\n            print train_cost\n        print \"\\n\"\n    return train_err\n\ntrain_errors = train_rnn(train_data, n_epoch)\nprint train_errors\ndef plot_learning_curve(train_err):\n    plt.plot(np.arange(n_epoch), train_errors, 'b-')\n    plt.xlabel('epochs')\n    plt.ylabel('error')\n    plt.show()\nplot_learning_curve(train_errors)\n</code></pre>\n\n<p>But after an initial error of 6.23 , I am getting all nans. Could someone explain if there is some error in the code. I posted the whole code so that I do not miss out on the erroneous section(and I dont know which one it is)</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["python", "function", "class", "graph", "adjacency-list"], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user5661253"}, "edited": false, "score": 0, "creation_date": 1449698117, "post_id": 34189425, "comment_id": 56125807, "body": "Thank you for clearing this up. I&#39;m still a little ensure of what &#39;behaviour&#39; changes may happen to instances? Does it make instances exclusive?"}, {"owner": {"reputation": 2579, "user_id": 4760801, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-svA_WD2vGC4/AAAAAAAAAAI/AAAAAAAAAGM/pzanXRLcCok/photo.jpg?sz=128", "display_name": "Michael Recachinas", "link": "https://stackoverflow.com/users/4760801/michael-recachinas"}, "edited": false, "score": 0, "creation_date": 1449698323, "post_id": 34189425, "comment_id": 56125900, "body": "No, without <code>__contains__</code>, if you try <code>print x in f</code>, it will throw a <code>TypeError</code>. <code>__contains__</code> changes the class so that you can say <code>x in f</code> for all instances of the class (in our case, <code>Foo</code>)."}, {"owner": {"user_type": "does_not_exist", "display_name": "user5661253"}, "edited": false, "score": 0, "creation_date": 1449698498, "post_id": 34189425, "comment_id": 56125978, "body": "Oh yes, understood! So it acts as a mutual means of instance translation. Makes sense to me, thanks very much!"}], "tags": [], "owner": {"reputation": 2579, "user_id": 4760801, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-svA_WD2vGC4/AAAAAAAAAAI/AAAAAAAAAGM/pzanXRLcCok/photo.jpg?sz=128", "display_name": "Michael Recachinas", "link": "https://stackoverflow.com/users/4760801/michael-recachinas"}, "is_accepted": true, "score": 3, "last_activity_date": 1449696884, "last_edit_date": 1495542680, "creation_date": 1449696884, "answer_id": 34189425, "question_id": 34189333, "link": "https://stackoverflow.com/questions/34189333/python-graph-implementation-contains-addedge/34189425#34189425", "title": "Python Graph Implementation - __Contains__ + addEdge", "body": "<blockquote>\n  <p>Could i request an explanation of what this functions purpose is?</p>\n</blockquote>\n\n<pre><code>def __contains__(self, n):\n    return n in self.vertDict\n</code></pre>\n\n<p><code>__contains__</code> defines how instances of a class behave when they're on the right side of an <code>in</code> or <code>not in</code> operator -- e.g., <code>x in foo</code> or <code>x not in foo</code>. [1]</p>\n\n<p>Consider the following example:</p>\n\n<pre><code>class Foo(object):\n    def __init__(self, bar):\n        self.bar = bar\n    def __contains__(self, x):\n        return self.bar == x\n\nf = Foo(3)\nprint 2 in f # =&gt; False\nprint 3 in f # =&gt; True\n</code></pre>\n\n<blockquote>\n  <p>Two birds one stone, I sort of understand the 'addEdge' function but what are the arguments h and t? Is it creating edges?</p>\n</blockquote>\n\n<p>Both <code>h</code> and <code>t</code> appear to be vertices. This method appears to be adding an edge between <code>h</code> and <code>t</code> so it will look like <code>(h)-(t)</code>.</p>\n\n<pre><code># from the name, the method looks like it might be creating edges,\n# but let's investigate further!\ndef addEdge(self,h,t):     \n\n    # the first \"give-away\" is it's checking if\n    # `h` is in `self.vertDict`\n    if h not in self.vertDict:\n        # if it *isn't* in `self.vertDict`, it adds it\n        newV = self.addVert(h)\n\n    # it does a similar check for `t`\n    if t not in self.vertDict:\n        newV = self.addVert(t)\n\n    # it then adds a link, or edge between `h` and `t` here\n    self.vertDict[h].addnewLink(self.vertDict[t])\n</code></pre>\n\n<p>Sources:</p>\n\n<p>[1] <a href=\"https://stackoverflow.com/questions/1964934/what-does-contains-do-what-can-call-contains-function\">What does __contains__ do, what can call __contains__ function</a></p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user5661253"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 385, "favorite_count": 0, "accepted_answer_id": 34189425, "answer_count": 1, "score": 0, "last_activity_date": 1449696884, "creation_date": 1449696508, "question_id": 34189333, "link": "https://stackoverflow.com/questions/34189333/python-graph-implementation-contains-addedge", "title": "Python Graph Implementation - __Contains__ + addEdge", "body": "<p>Hey there so currently working on a tutorial on implementing graphs into python using an adjacency list format. I came across an example whereby in the 'class graph' there was an indented <strong>contains</strong> function used. As shown below.</p>\n\n<pre><code>def __contains__(self, n):\n    return n in self.vertDict\n</code></pre>\n\n<p>vertDict is a dictionary initialised through the class. Could i request an explanation of what this functions purpose is?</p>\n\n<pre><code>def addEdge(self,h,t):         \n    if h not in self.vertDict:\n        newV = self.addVert(h)\n    if t not in self.vertDict:\n        newV = self.addVert(t)\n    self.vertDict[h].addnewLink(self.vertDict[t])\n</code></pre>\n\n<p>Two birds one stone, I sort of understand the 'addEdge' function but what are the arguments h and t? Is it creating edges?</p>\n\n<p>Appreciate it! I have been seriously struggling with these implementations :'(</p>\n"}, {"tags": ["python", "json", "apache", "flask", "mod-wsgi"], "answers": [{"tags": [], "owner": {"reputation": 7089, "user_id": 1038264, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/eb306f9556cb777b52c80f24ae879c2c?s=128&d=identicon&r=PG", "display_name": "tdc", "link": "https://stackoverflow.com/users/1038264/tdc"}, "is_accepted": false, "score": 0, "last_activity_date": 1449699678, "creation_date": 1449699678, "answer_id": 34190122, "question_id": 34189332, "link": "https://stackoverflow.com/questions/34189332/apache-mod-wsgi-flask-404-errors-with-large-json-files/34190122#34190122", "title": "Apache mod_wsgi Flask 404 errors with large json files", "body": "<p>Not a full answer, but upping the number of threads to 15 seems to have solved the problem for now.</p>\n"}], "owner": {"reputation": 7089, "user_id": 1038264, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/eb306f9556cb777b52c80f24ae879c2c?s=128&d=identicon&r=PG", "display_name": "tdc", "link": "https://stackoverflow.com/users/1038264/tdc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 185, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1449699678, "creation_date": 1449696506, "question_id": 34189332, "link": "https://stackoverflow.com/questions/34189332/apache-mod-wsgi-flask-404-errors-with-large-json-files", "title": "Apache mod_wsgi Flask 404 errors with large json files", "body": "<p>I have a flask app set up using mod_wsgi on apache. On one of the pages, I have a set of charts, each of which is pulling data (~2Mb per file) from a static route <code>@app.route('/data/&lt;experiment_id&gt;/&lt;sensors&gt;.json</code> where I use the json mimetype: <code>return Response(fn(**kwargs), mimetype=\"application/json\")</code>. When I run this using the dev server on localhost it works fine, but on the deployment server I get sporadic 404 errors. Typically it will load 7 or 8 of the 10 files. If I navigate directly to the file location (e.g. <a href=\"http://my_server/data/test/noise.json\" rel=\"nofollow\">http://my_server/data/test/noise.json</a>) the (single) file always loads correctly. </p>\n\n<p>My apache mod_wsgi config is as follows:</p>\n\n<pre><code>WSGISocketPrefix run/wsgi\nWSGIRestrictStdout Off\nWSGIScriptReloading On\n\n&lt;VirtualHost *:80&gt;\n    ServerAlias my_server\n\n    ErrorLog logs/error_log\n    CustomLog logs/access_log common\n\n    DocumentRoot /var/www/html\n\n    WSGIDaemonProcess data_viewer user=my_user group=my_group processes=3 threads=10 home=/var/www/html/data_viewer\n    WSGIScriptAlias /data_viewer /var/www/wsgi-scripts/data_viewer.wsgi\n\n    &lt;Location /data_viewer&gt;\n        WSGIProcessGroup data_viewer\n        WSGIApplicationGroup %{GLOBAL}\n    &lt;/Location&gt;\n\n    &lt;Directory /var/www/wsgi-scripts&gt;\n        Order allow,deny\n        Allow from all\n    &lt;/Directory&gt;\n&lt;/VirtualHost&gt;\n</code></pre>\n\n<p>Is this likely to be a timeout issue, a process/threading issue, or something else?</p>\n"}, {"tags": ["python", "list", "dictionary", "match"], "comments": [{"owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "edited": false, "score": 0, "creation_date": 1449698586, "post_id": 34189294, "comment_id": 56126027, "body": "Please, for the sake of future maintainers, use the <a href=\"https://docs.python.org/3/library/csv.html\" rel=\"nofollow noreferrer\"><code>csv</code></a> module to read and write these files instead of manually calling <code>.split(&#39;|&#39;)</code>, and manually concatenating with <code>&#39;|&#39;</code>. While the name of the module is <code>csv</code>, and it does deal with comma and tab separated values by default, it&#39;s trivially adaptable to scenarios like this, and will avoid problems when the data field contains the field or record separator. For example, <code>rowreader = csv.reader(inputReader, delimiter=&#39;|&#39;)</code> to initialize, and you then read out <code>list</code>s of the pre-split values."}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "reply_to_user": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "edited": false, "score": 0, "creation_date": 1449698655, "post_id": 34189294, "comment_id": 56126067, "body": "@ShadowRanger, I have used the csv module in my answer that I posted half an hour ago"}, {"owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "reply_to_user": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1449698837, "post_id": 34189294, "comment_id": 56126166, "body": "@PadraicCunningham: I missed it (the set of answers was a giant wall of text), but I wanted the side-note, &quot;Use <code>csv</code>&quot;, separated out from &quot;fix this specific problem&quot;, even if an answer included use of <code>csv</code>."}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "reply_to_user": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "edited": false, "score": 0, "creation_date": 1449698974, "post_id": 34189294, "comment_id": 56126242, "body": "@ShadowRanger, I forgot to highlight the csv part which probably did not help."}], "answers": [{"comments": [{"owner": {"reputation": 161, "user_id": 5049086, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/040bb7008069d50e7dea9278a51df684?s=128&d=identicon&r=PG&f=1", "display_name": "Utsav Chatterjee", "link": "https://stackoverflow.com/users/5049086/utsav-chatterjee"}, "edited": false, "score": 0, "creation_date": 1449698819, "post_id": 34189436, "comment_id": 56126151, "body": "Thank you! Worked perfectly and I understand what you&#39;ve done. Learnt something good from your logic and code."}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "reply_to_user": {"reputation": 161, "user_id": 5049086, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/040bb7008069d50e7dea9278a51df684?s=128&d=identicon&r=PG&f=1", "display_name": "Utsav Chatterjee", "link": "https://stackoverflow.com/users/5049086/utsav-chatterjee"}, "edited": false, "score": 0, "creation_date": 1449699096, "post_id": 34189436, "comment_id": 56126299, "body": "@UtsavChatterjee, no worries, the logic is pretty straight forward alright, we either use an existing id if the SSN is already in our dict or increment the count and create a new pairing. The groupby code would only work if the lines of your file we ordered by SSN"}, {"owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "edited": false, "score": 0, "creation_date": 1449699110, "post_id": 34189436, "comment_id": 56126305, "body": "If you&#39;re generating the <code>NamedTemporaryFile</code> in the same directory it will be moved to after population, at least on Py3.3+, you could skip <code>shutil.move</code> in favor of a plain <code>os.replace</code> (on any version of Python on a non-Windows system, you could use <code>os.rename</code>)."}, {"owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "edited": false, "score": 0, "creation_date": 1449699260, "post_id": 34189436, "comment_id": 56126392, "body": "Also, to avoid leaving kruft around on failure, you could open the <code>NamedTemporaryFile</code> without specifying <code>delete=False</code>, and after you&#39;ve successfully populated it, do <code>tmp.delete = False</code>, so if an exception is thrown, the file is deleted, and you only prevent deletion in the case where all is well and you&#39;re about to close before <code>replace</code>/<code>move</code>, knowing that the file should continue to exist."}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "reply_to_user": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "edited": false, "score": 0, "creation_date": 1449700316, "post_id": 34189436, "comment_id": 56126904, "body": "@ShadowRanger, shutil.move is the only thing I know of that won&#39;t fail on windows if the file you are replacing exists,  I think maybe a try/finally might be a nice way to handle the case where the code errors before the move"}, {"owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "edited": false, "score": 0, "creation_date": 1449702922, "post_id": 34189436, "comment_id": 56128044, "body": "@PadraicCunningham: Like I said, if you can rely on Py 3.3 or higher, <code>os.replace</code> will work (it&#39;s guaranteed to replace existing files on all OSes, unlike <code>os.rename</code>, which for existing files replaces on *NIX, but errors on Windows). But yeah, <code>shutil.move</code> is the only one that will work on Py2. A <code>try</code>/<code>finally</code> isn&#39;t needed, since you can simply set <code>tmp.delete = False</code> at the end of the <code>with</code> block, so if the block exits normally, the file will stick around to be moved, if it exits abnormally, the default <code>delete=True</code> will take care of it."}], "tags": [], "owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "is_accepted": true, "score": 2, "last_activity_date": 1449700685, "last_edit_date": 1449700685, "creation_date": 1449696916, "answer_id": 34189436, "question_id": 34189294, "link": "https://stackoverflow.com/questions/34189294/match-attributes-against-one-another-python/34189436#34189436", "title": "Match attributes against one another Python", "body": "<p>Just keep a record of the SSN's seen  using a dict mapping unique id's to each SSN and you only need to do a single pass over the lines and use the <a href=\"https://docs.python.org/3.4/library/csv.html\" rel=\"nofollow\">csv module</a> to parse the file which will do the splitting for you. If you want a completely new file:</p>\n\n<pre><code>import csv\n\ncn = 10001\n\nwith open(\"test.txt\") as f, open(\"out.txt\",\"w\") as tmp:\n    r, wr = csv.reader(f, delimiter=\"|\"), csv.writer(tmp, delimiter=\"|\")\n    head, d = next(r), {}\n    wr.writerow([\"ID\"]+head)\n    for row in r:\n        v = row[4]\n        # if we have already seen the SSN, use the id assigned\n        if v in d:\n            wr.writerow([d[v]] + row)\n        else:\n            # else create new id, add pairing to dict and write\n            d[v] = cn\n            wr.writerow([cn] + row)\n            cn += 1\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>ID|RefID|FirstName|MiddleName|LastName|SSN|DOB|School Year|Age|District LEA|District Description|School LEA|Location Description|title|frng_amt\n10001|1|JULIE|A|ADAMS|123456789|654321|20142015|47|0101000|DEWITTSCHOOLDISTRICT|P|014\n10001|2|JULIE|A|ADAMS|123456789|654321|20132014|46|0101000|DEWITTSCHOOLDISTRICT|S|13100\n10001|3|JULIE|A|ADAMS|123456789|654321|20122013|45|0101000|DEWITTSCHOOLDISTRICT|P|014\n10001|4|JULIE|A|ADAMS|123456789|654321|20132014|46|0101000|DEWITTSCHOOLDISTRICT|P|014\n10001|5|JULIE|A|ADAMS|123456789|654321|20142015|47|0101000|DEWITTSCHOOLDISTRICT|S|15000\n10001|6|JULIE|A|ADAMS|123456789|654321|20122013|45|0101000|DEWITTSCHOOLDISTRICT|S|13100\n10002|7|SHIRLEY||ADAMS|987654321|987890|20122013|49|0101000|DEWITTSCHOOLDISTRICT|S|13100\n10002|8|SHIRLEY||ADAMS|987654321|987890|20092010|46|0101000|DEWITTSCHOOLDISTRICT|P|014\n10002|9|SHIRLEY||ADAMS|987654321|987890|20102011|47|0101000|DEWITTSCHOOLDISTRICT|P|014\n10002|10|SHIRLEY||ADAMS|987654321|987890|20132014|50|0101000|DEWITTSCHOOLDISTRICT|S|13100\n10002|11|SHIRLEY||ADAMS|987654321|987890|20132014|50|0101000|DEWITTSCHOOLDISTRICT|P|014\n10002|12|SHIRLEY||ADAMS|987654321|987890|20122013|49|0101000|DEWITTSCHOOLDISTRICT|P|014\n10002|13|SHIRLEY||ADAMS|987654321|987890|20102011|47|0101000|DEWITTSCHOOLDISTRICT|A|13100\n10002|14|SHIRLEY||ADAMS|987654321|987890|20142015|51|0101000|DEWITTSCHOOLDISTRICT|S|15000\n10002|15|SHIRLEY||ADAMS|987654321|987890|20092010|46|0101000|DEWITTSCHOOLDISTRICT|A|13100\n10002|16|SHIRLEY||ADAMS|987654321|987890|20142015|51|0101000|DEWITTSCHOOLDISTRICT|P|014\n</code></pre>\n\n<p>If you want to update the original file you can write to a tempfile and do a <code>shutil.move</code>:</p>\n\n<pre><code>import csv\nfrom shutil import move\nfrom tempfile import NamedTemporaryFile\nimport os\n\ncn = 100001\ntry:\n    with open(\"test.txt\") as f, NamedTemporaryFile(\"w\", dir=\".\", delete=False) as tmp:\n        r, wr = csv.reader(f, delimiter=\"|\"), csv.writer(tmp, delimiter=\"|\")\n        head, d = next(r), {}\n        wr.writerow([\"ID\"] + head)\n        for row in r:\n            v = row[4]\n            if v in d:\n                wr.writerow([d[v]] + row)\n            else:\n                d[v] = cn\n                wr.writerow([cn] + row)\n                cn += 1\n    # replace original file\n    move(tmp.name, \"test.txt\"))\nfinally:\n    if os.path.isfile(tmp.name):\n        os.unlink(tmp.name)\n</code></pre>\n\n<p>If your data is actually ordered like your input, you could <code>groupby</code>:</p>\n\n<pre><code>import csv\nfrom itertools import groupby\nfrom operator import itemgetter\n\ncn = 10001\nwith open(\"test.txt\") as f, open(\"out.txt\", \"w\") as tmp:\n    r, wr = csv.reader(f, delimiter=\"|\"), csv.writer(tmp, delimiter=\"|\")\n    head, d = next(r), {}\n    wr.writerow([\"ID\"] + head)\n    for k, v in groupby(r, key=itemgetter(4)):\n        wr.writerows([cn]+sub for sub in v)\n        cn += 1\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1112, "user_id": 5613603, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef7c7de8183af9d17dbd6eb664a1d16d?s=128&d=identicon&r=PG&f=1", "display_name": "Rob Davis", "link": "https://stackoverflow.com/users/5613603/rob-davis"}, "is_accepted": false, "score": 0, "last_activity_date": 1449697018, "creation_date": 1449697018, "answer_id": 34189460, "question_id": 34189294, "link": "https://stackoverflow.com/questions/34189294/match-attributes-against-one-another-python/34189460#34189460", "title": "Match attributes against one another Python", "body": "<p>Well, you already have a unique number, it is the SSN.\nWhat you could do is create a Dictionary of SSN to unique codes.</p>\n\n<pre><code>inputReader = open(inputFile,'r')\noutputWriter = open(outputFile, 'w')\nheaders = inputReader.readline()\noutputWriter.write(\"ID\"+headers)\n\nssn_dict = {}\ncounter = 100000\nfor x in inputReader:\n    ssn_counter = ssn_dict.get(x.split(\"|\")[4]\n    if ssn_count is not None:\n        outputWriter.write(str(ssn_count) + \"|\" + x)\n    else:\n       ssn_count[x.split(\"|\")[4] = counter\n       counter =+ 1\n       outputWriter.write(str(counter) + \"|\" + x)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 6146, "user_id": 2029132, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7bf9af44407bbd2097213a6d5f3e0fb1?s=128&d=identicon&r=PG", "display_name": "gabra", "link": "https://stackoverflow.com/users/2029132/gabra"}, "edited": false, "score": 0, "creation_date": 1449697538, "post_id": 34189542, "comment_id": 56125489, "body": "Why the -1? Is this not useful?"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1449697868, "post_id": 34189542, "comment_id": 56125682, "body": "are you going to write an if for every name in the file?"}, {"owner": {"reputation": 6146, "user_id": 2029132, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7bf9af44407bbd2097213a6d5f3e0fb1?s=128&d=identicon&r=PG", "display_name": "gabra", "link": "https://stackoverflow.com/users/2029132/gabra"}, "reply_to_user": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1449698147, "post_id": 34189542, "comment_id": 56125825, "body": "@PadraicCunningham The OP only mentioned two names, Shirley and Julie. There is no mention to other names."}, {"owner": {"reputation": 6146, "user_id": 2029132, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7bf9af44407bbd2097213a6d5f3e0fb1?s=128&d=identicon&r=PG", "display_name": "gabra", "link": "https://stackoverflow.com/users/2029132/gabra"}, "reply_to_user": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1449698287, "post_id": 34189542, "comment_id": 56125885, "body": "And I just saw that the OP wants it filterd by <code>SSN</code> and not <code>FirstName</code>. I changed the answer."}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1449698394, "post_id": 34189542, "comment_id": 56125941, "body": "I would hardly expect the OP to post the whole file content but I think it would be safe to assume there are more than two SSN&#39;s in their file"}, {"owner": {"reputation": 6146, "user_id": 2029132, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7bf9af44407bbd2097213a6d5f3e0fb1?s=128&d=identicon&r=PG", "display_name": "gabra", "link": "https://stackoverflow.com/users/2029132/gabra"}, "reply_to_user": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1449698539, "post_id": 34189542, "comment_id": 56125993, "body": "Well, if that was the case, one could get the unique <code>SSN</code> and create a dictionary as a mp, with the <code>SSN</code> as keys and the 10001...1000n as keys."}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1449698587, "post_id": 34189542, "comment_id": 56126028, "body": "You mean like I have in my answer or are you saying to create the dict beforehand?"}, {"owner": {"reputation": 6146, "user_id": 2029132, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7bf9af44407bbd2097213a6d5f3e0fb1?s=128&d=identicon&r=PG", "display_name": "gabra", "link": "https://stackoverflow.com/users/2029132/gabra"}, "reply_to_user": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1449698733, "post_id": 34189542, "comment_id": 56126107, "body": "Something like this <code>{k:10001+k for i, k in enumerate(data[&#39;SSN&#39;].unique())}</code> I will add it to my answer."}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1449699151, "post_id": 34189542, "comment_id": 56126327, "body": "The only problem is you have to store all the content in memory, writing as you go is a lot more memory efficient and most probably much faster"}, {"owner": {"reputation": 6146, "user_id": 2029132, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7bf9af44407bbd2097213a6d5f3e0fb1?s=128&d=identicon&r=PG", "display_name": "gabra", "link": "https://stackoverflow.com/users/2029132/gabra"}, "reply_to_user": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1449699469, "post_id": 34189542, "comment_id": 56126505, "body": "Maybe yes, mabye no. It would be necessary to test."}], "tags": [], "owner": {"reputation": 6146, "user_id": 2029132, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7bf9af44407bbd2097213a6d5f3e0fb1?s=128&d=identicon&r=PG", "display_name": "gabra", "link": "https://stackoverflow.com/users/2029132/gabra"}, "is_accepted": false, "score": 0, "last_activity_date": 1449698939, "last_edit_date": 1449698939, "creation_date": 1449697359, "answer_id": 34189542, "question_id": 34189294, "link": "https://stackoverflow.com/questions/34189294/match-attributes-against-one-another-python/34189542#34189542", "title": "Match attributes against one another Python", "body": "<p>Have your heard about <a href=\"http://pandas.pydata.org/\" rel=\"nofollow\"><code>pandas</code></a>? It can help you!</p>\n\n<pre><code>import numpy as np\nimport pandas as pd\n\n# Load data set\ndata = pd.read_csv(inputFile, delimiter='|')\n\n# Tag\ndef func(ssn):\n    if ssn == 123456789:\n        return 10001\n    if ssn == 987654321:\n        return 10002\n\ndata['ID'] = data['SSN'].apply(func)\n\n# Reorder columns\nnew_cols = np.concatenate((data.columns[-1:], data.columns[:-1]), axis=0)\ndata = data[new_cols]\n\n# Save file\ndata.to_csv(outputFile, sep='|', index=False)\n</code></pre>\n\n<p>And the output is:</p>\n\n<pre><code>ID|RefID|FirstName|MiddleName|LastName|SSN|DOB|School Year|Age|District LEA|District Description|School LEA|Location Description|title|frng_amt\n10001|1|JULIE|A|ADAMS|123456789|654321|20142015|47|101000|DEWITTSCHOOLDISTRICT|P|14||\n10001|2|JULIE|A|ADAMS|123456789|654321|20132014|46|101000|DEWITTSCHOOLDISTRICT|S|13100||\n10001|3|JULIE|A|ADAMS|123456789|654321|20122013|45|101000|DEWITTSCHOOLDISTRICT|P|14||\n10001|4|JULIE|A|ADAMS|123456789|654321|20132014|46|101000|DEWITTSCHOOLDISTRICT|P|14||\n10001|5|JULIE|A|ADAMS|123456789|654321|20142015|47|101000|DEWITTSCHOOLDISTRICT|S|15000||\n10001|6|JULIE|A|ADAMS|123456789|654321|20122013|45|101000|DEWITTSCHOOLDISTRICT|S|13100||\n10002|7|SHIRLEY||ADAMS|987654321|987890|20122013|49|101000|DEWITTSCHOOLDISTRICT|S|13100||\n10002|8|SHIRLEY||ADAMS|987654321|987890|20092010|46|101000|DEWITTSCHOOLDISTRICT|P|14||\n10002|9|SHIRLEY||ADAMS|987654321|987890|20102011|47|101000|DEWITTSCHOOLDISTRICT|P|14||\n10002|10|SHIRLEY||ADAMS|987654321|987890|20132014|50|101000|DEWITTSCHOOLDISTRICT|S|13100||\n10002|11|SHIRLEY||ADAMS|987654321|987890|20132014|50|101000|DEWITTSCHOOLDISTRICT|P|14||\n10002|12|SHIRLEY||ADAMS|987654321|987890|20122013|49|101000|DEWITTSCHOOLDISTRICT|P|14||\n10002|13|SHIRLEY||ADAMS|987654321|987890|20102011|47|101000|DEWITTSCHOOLDISTRICT|A|13100||\n10002|14|SHIRLEY||ADAMS|987654321|987890|20142015|51|101000|DEWITTSCHOOLDISTRICT|S|15000||\n10002|15|SHIRLEY||ADAMS|987654321|987890|20092010|46|101000|DEWITTSCHOOLDISTRICT|A|13100||\n10002|16|SHIRLEY||ADAMS|987654321|987890|20142015|51|101000|DEWITTSCHOOLDISTRICT|P|14||\n</code></pre>\n\n<p><strong>Update</strong></p>\n\n<p>As discussed with <a href=\"https://stackoverflow.com/users/2141635/padraic-cunningham\">Padraic Cunningham</a>, the OP could have more then two <code>SSN</code>. In this case, the bes solution would be:</p>\n\n<pre><code>import numpy as np\nimport pandas as pd\n\n# Load data set\ndata = pd.read_csv(inputFile, delimiter='|')\n\n# Tag\ntag ={k:10001+k for i, k in enumerate(data['SSN'].unique())}\ndata['ID'] = data['SSN'].apply(lambda ssn: tag[ssn])\n\n# Reorder columns\nnew_cols = np.concatenate((data.columns[-1:], data.columns[:-1]), axis=0)\ndata = data[new_cols]\n\n# Save file\ndata.to_csv(outputFile, sep='|', index=False)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1286, "user_id": 1915011, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/k8Gw8.jpg?s=128&g=1", "display_name": "\u017dilvinas Rud\u017eionis", "link": "https://stackoverflow.com/users/1915011/%c5%bdilvinas-rud%c5%beionis"}, "is_accepted": false, "score": 0, "last_activity_date": 1449699299, "last_edit_date": 1449699299, "creation_date": 1449698971, "answer_id": 34189934, "question_id": 34189294, "link": "https://stackoverflow.com/questions/34189294/match-attributes-against-one-another-python/34189934#34189934", "title": "Match attributes against one another Python", "body": "<p>Best tool to handle tables is pandas. Does what you want:</p>\n\n<pre><code>import pandas as pd\n\ndf = pd.read_csv('your input file path', sep='|')\ndf['ID'] = df['SSN'].rank(method='dense').astype(int) + 100000\ndf.to_csv('your output file path', sep='|', index=False)\n</code></pre>\n\n<p>output (look at last column):</p>\n\n<pre><code>RefID|FirstName|MiddleName|LastName|SSN|DOB|School Year|Age|District LEA|District Description|School LEA|Location Description|title|frng_amt|ID\n1|JULIE|A|ADAMS|123456789|654321|20142015|47|101000|DEWITTSCHOOLDISTRICT|P|14|||100001\n2|JULIE|A|ADAMS|123456789|654321|20132014|46|101000|DEWITTSCHOOLDISTRICT|S|13100|||100001\n3|JULIE|A|ADAMS|123456789|654321|20122013|45|101000|DEWITTSCHOOLDISTRICT|P|14|||100001\n4|JULIE|A|ADAMS|123456789|654321|20132014|46|101000|DEWITTSCHOOLDISTRICT|P|14|||100001\n5|JULIE|A|ADAMS|123456789|654321|20142015|47|101000|DEWITTSCHOOLDISTRICT|S|15000|||100001\n6|JULIE|A|ADAMS|123456789|654321|20122013|45|101000|DEWITTSCHOOLDISTRICT|S|13100|||100001\n7|SHIRLEY||ADAMS|987654321|987890|20122013|49|101000|DEWITTSCHOOLDISTRICT|S|13100|||100002\n8|SHIRLEY||ADAMS|987654321|987890|20092010|46|101000|DEWITTSCHOOLDISTRICT|P|14|||100002\n9|SHIRLEY||ADAMS|987654321|987890|20102011|47|101000|DEWITTSCHOOLDISTRICT|P|14|||100002\n10|SHIRLEY||ADAMS|987654321|987890|20132014|50|101000|DEWITTSCHOOLDISTRICT|S|13100|||100002\n11|SHIRLEY||ADAMS|987654321|987890|20132014|50|101000|DEWITTSCHOOLDISTRICT|P|14|||100002\n12|SHIRLEY||ADAMS|987654321|987890|20122013|49|101000|DEWITTSCHOOLDISTRICT|P|14|||100002\n13|SHIRLEY||ADAMS|987654321|987890|20102011|47|101000|DEWITTSCHOOLDISTRICT|A|13100|||100002\n14|SHIRLEY||ADAMS|987654321|987890|20142015|51|101000|DEWITTSCHOOLDISTRICT|S|15000|||100002\n15|SHIRLEY||ADAMS|987654321|987890|20092010|46|101000|DEWITTSCHOOLDISTRICT|A|13100|||100002\n16|SHIRLEY||ADAMS|987654321|987890|20142015|51|101000|DEWITTSCHOOLDISTRICT|P|14|||100002\n</code></pre>\n"}], "owner": {"reputation": 161, "user_id": 5049086, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/040bb7008069d50e7dea9278a51df684?s=128&d=identicon&r=PG&f=1", "display_name": "Utsav Chatterjee", "link": "https://stackoverflow.com/users/5049086/utsav-chatterjee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "accepted_answer_id": 34189436, "answer_count": 4, "score": 2, "last_activity_date": 1449700685, "creation_date": 1449696329, "question_id": 34189294, "link": "https://stackoverflow.com/questions/34189294/match-attributes-against-one-another-python", "title": "Match attributes against one another Python", "body": "<p>I have an input file that looks similar to: </p>\n\n<pre><code>RefID|FirstName|MiddleName|LastName|SSN|DOB|School Year|Age|District LEA|District Description|School LEA|Location Description|title|frng_amt\n1|JULIE|A|ADAMS|123456789|654321|20142015|47|0101000|DEWITTSCHOOLDISTRICT|P|014\n2|JULIE|A|ADAMS|123456789|654321|20132014|46|0101000|DEWITTSCHOOLDISTRICT|S|13100\n3|JULIE|A|ADAMS|123456789|654321|20122013|45|0101000|DEWITTSCHOOLDISTRICT|P|014\n4|JULIE|A|ADAMS|123456789|654321|20132014|46|0101000|DEWITTSCHOOLDISTRICT|P|014\n5|JULIE|A|ADAMS|123456789|654321|20142015|47|0101000|DEWITTSCHOOLDISTRICT|S|15000\n6|JULIE|A|ADAMS|123456789|654321|20122013|45|0101000|DEWITTSCHOOLDISTRICT|S|13100\n7|SHIRLEY||ADAMS|987654321|987890|20122013|49|0101000|DEWITTSCHOOLDISTRICT|S|13100\n8|SHIRLEY||ADAMS|987654321|987890|20092010|46|0101000|DEWITTSCHOOLDISTRICT|P|014\n9|SHIRLEY||ADAMS|987654321|987890|20102011|47|0101000|DEWITTSCHOOLDISTRICT|P|014\n10|SHIRLEY||ADAMS|987654321|987890|20132014|50|0101000|DEWITTSCHOOLDISTRICT|S|13100\n11|SHIRLEY||ADAMS|987654321|987890|20132014|50|0101000|DEWITTSCHOOLDISTRICT|P|014\n12|SHIRLEY||ADAMS|987654321|987890|20122013|49|0101000|DEWITTSCHOOLDISTRICT|P|014\n13|SHIRLEY||ADAMS|987654321|987890|20102011|47|0101000|DEWITTSCHOOLDISTRICT|A|13100\n14|SHIRLEY||ADAMS|987654321|987890|20142015|51|0101000|DEWITTSCHOOLDISTRICT|S|15000\n15|SHIRLEY||ADAMS|987654321|987890|20092010|46|0101000|DEWITTSCHOOLDISTRICT|A|13100\n16|SHIRLEY||ADAMS|987654321|987890|20142015|51|0101000|DEWITTSCHOOLDISTRICT|P|014\n</code></pre>\n\n<p>I want to perform data matching and in my output, I want to assign a unique ID to Julie and another unique ID to Shirley based on their SSN. So my idea output would be: </p>\n\n<pre><code>ID|RefID|FirstName|MiddleName|LastName|SSN|DOB|School Year|Age|District LEA|District Description|School LEA|Location Description|title|frng_amt\n10001|1|JULIE|A|ADAMS|123456789|654321|20142015|47|0101000|DEWITTSCHOOLDISTRICT|P|014\n10001|2|JULIE|A|ADAMS|123456789|654321|20132014|46|0101000|DEWITTSCHOOLDISTRICT|S|13100\n10001|3|JULIE|A|ADAMS|123456789|654321|20122013|45|0101000|DEWITTSCHOOLDISTRICT|P|014\n10001|4|JULIE|A|ADAMS|123456789|654321|20132014|46|0101000|DEWITTSCHOOLDISTRICT|P|014\n10001|5|JULIE|A|ADAMS|123456789|654321|20142015|47|0101000|DEWITTSCHOOLDISTRICT|S|15000\n10001|6|JULIE|A|ADAMS|123456789|654321|20122013|45|0101000|DEWITTSCHOOLDISTRICT|S|13100\n10002|7|SHIRLEY||ADAMS|987654321|987890|20122013|49|0101000|DEWITTSCHOOLDISTRICT|S|13100\n10002|8|SHIRLEY||ADAMS|987654321|987890|20092010|46|0101000|DEWITTSCHOOLDISTRICT|P|014\n10002|9|SHIRLEY||ADAMS|987654321|987890|20102011|47|0101000|DEWITTSCHOOLDISTRICT|P|014\n10002|10|SHIRLEY||ADAMS|987654321|987890|20132014|50|0101000|DEWITTSCHOOLDISTRICT|S|13100\n10002|11|SHIRLEY||ADAMS|987654321|987890|20132014|50|0101000|DEWITTSCHOOLDISTRICT|P|014\n10002|12|SHIRLEY||ADAMS|987654321|987890|20122013|49|0101000|DEWITTSCHOOLDISTRICT|P|014\n10002|13|SHIRLEY||ADAMS|987654321|987890|20102011|47|0101000|DEWITTSCHOOLDISTRICT|A|13100\n10002|14|SHIRLEY||ADAMS|987654321|987890|20142015|51|0101000|DEWITTSCHOOLDISTRICT|S|15000\n10002|15|SHIRLEY||ADAMS|987654321|987890|20092010|46|0101000|DEWITTSCHOOLDISTRICT|A|13100\n10002|16|SHIRLEY||ADAMS|987654321|987890|20142015|51|0101000|DEWITTSCHOOLDISTRICT|P|014\n</code></pre>\n\n<p>How do I accomplish this in Python? I am trying with if loop by creating a copy of the input file, but I feel that this is a very inefficient and wrong way of achieving this. Can anybody please help me figure out a way? </p>\n\n<p>My present code: </p>\n\n<pre><code>inputReader = open(inputFile,'r')\ninputReaderCopy = open(inputFile, 'r')\noutputWriter = open(outputFile, 'w')\ncounter = 100000\nheaders = inputReader.readline()\nfor x in inputReader:\n    for y in inputReaderCopy:\n        if x.split(\"|\")[4] == y.split(\"|\")[4]:\n            outputWriter.write(str(counter) + \"|\" +y)\n            counter+=1\n        else:\n            outputWriter.write(\"no match|\"+ y)\n</code></pre>\n"}, {"tags": ["python", "unit-testing", "testing"], "answers": [{"tags": [], "owner": {"reputation": 16624, "user_id": 237934, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/Hshoa.png?s=128&g=1", "display_name": "kame", "link": "https://stackoverflow.com/users/237934/kame"}, "is_accepted": false, "score": 3, "last_activity_date": 1463557675, "creation_date": 1463557675, "answer_id": 37293312, "question_id": 34189223, "link": "https://stackoverflow.com/questions/34189223/test-framework-for-testing-embedded-systems-in-python/37293312#37293312", "title": "Test framework for testing embedded systems in Python", "body": "<p>I think the <a href=\"http://robotframework.org/#examples\" rel=\"nofollow\">Robot Framework</a> is the right tool for you. You can split your tests in test-suites and if one test fails the next test will run.</p>\n"}, {"tags": [], "owner": {"reputation": 99, "user_id": 3896097, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19f2456d4b36ec50d8820566cf29f2bd?s=128&d=identicon&r=PG&f=1", "display_name": "Marcos", "link": "https://stackoverflow.com/users/3896097/marcos"}, "is_accepted": true, "score": 4, "last_activity_date": 1521828001, "creation_date": 1521828001, "answer_id": 49455820, "question_id": 34189223, "link": "https://stackoverflow.com/questions/34189223/test-framework-for-testing-embedded-systems-in-python/49455820#49455820", "title": "Test framework for testing embedded systems in Python", "body": "<p>Long time since this question was asked.</p>\n\n<p>Embedded Systems present special characterists to implement acceptance testing automation (one of the most important is that, most likely, the \"Device Under Test\" is not the same device as the one executing the test cases; hence same kind of interaction interface is required). This is not \"excatly\" the case when doing test automation of a Web Page or a PC Application or even when running unit testing of an embedded software (which can also be executed outside of the device).\nBased on this assumption, I think a framework which is developed for doing unit testing is not the best tool to develop an Emedded System Test Bench for performing acceptance tests.</p>\n\n<p>At the moment we are facing a similar situation trying to choose a development environment to implement automation testing for an embedded device.\nWe are looking into:</p>\n\n<ul>\n<li><p>Robot Framework, which is a generic acceptance test automation framework based on keyword-driven testing approach.</p></li>\n<li><p>FitNesse (<a href=\"http://www.fitnesse.org\" rel=\"nofollow noreferrer\">http://www.fitnesse.org</a>)</p></li>\n<li><p>Pycopia</p></li>\n</ul>\n\n<p>There are also other tools that don`t use Python. For example the ones described in <a href=\"https://stackoverflow.com/questions/115115/test-automation-with-embedded-hardware\">this thread</a> (MxVDev)</p>\n"}, {"tags": [], "owner": {"reputation": 76, "user_id": 7569728, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/956483cce9f3bd8229742a18bca5e3f0?s=128&d=identicon&r=PG&f=1", "display_name": "William Laroche", "link": "https://stackoverflow.com/users/7569728/william-laroche"}, "is_accepted": false, "score": 1, "last_activity_date": 1573222106, "creation_date": 1573222106, "answer_id": 58768134, "question_id": 34189223, "link": "https://stackoverflow.com/questions/34189223/test-framework-for-testing-embedded-systems-in-python/58768134#58768134", "title": "Test framework for testing embedded systems in Python", "body": "<p>Again, long time since this was asked, but I figured I could contribute. </p>\n\n<p>We're currently building a complete test solution exactly aimed at testing embedded devices for verification &amp; validation purposes. Our flagship implementation is based on Google's OpenHTF: <a href=\"https://github.com/google/openhtf\" rel=\"nofollow noreferrer\">https://github.com/google/openhtf</a></p>\n\n<p>Here's the hello world example:</p>\n\n<pre><code>import openhtf as htf\n\nfrom openhtf.output.callbacks import json_factory\n\nfrom openhtf.plugs import user_input\n\n@htf.measures(htf.Measurement('hello_world_measurement'))\ndef hello_world(test):\n  \"\"\"A hello world test phase.\"\"\"\n  test.logger.info('Hello World!')\n  test.measurements.hello_world_measurement = 'Hello Again!'\n\n\nif __name__ == '__main__':\n  test = htf.Test(hello_world)\n  test.add_output_callbacks(\n      json_factory.OutputToJSON('./{dut_id}.hello_world.json', indent=2))\n\n  test.execute(test_start=user_input.prompt_for_test_start())\n</code></pre>\n\n<p>You can extend OpenHTF with different modules:</p>\n\n<ul>\n<li>\"Plugs\", which are interfaces with external equipment or device under test. I.e. a COM Port plug.</li>\n<li>\"Callbacks\", which are custom export interfaces.</li>\n</ul>\n\n<p>OpenHTF comes with its own GUI and definitely gives a huge headstart to development of either production testing testbenches or design validation/verification testing, as is the case for this question.</p>\n\n<p>I'd be glad to help anyone in need of guidance.</p>\n"}, {"tags": [], "owner": {"reputation": 41, "user_id": 13673246, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05e2c77a5ceb28fec03b67ac3f2be593?s=128&d=identicon&r=PG&f=1", "display_name": "Fred Lakey", "link": "https://stackoverflow.com/users/13673246/fred-lakey"}, "is_accepted": false, "score": 3, "last_activity_date": 1595502676, "creation_date": 1595502676, "answer_id": 63052870, "question_id": 34189223, "link": "https://stackoverflow.com/questions/34189223/test-framework-for-testing-embedded-systems-in-python/63052870#63052870", "title": "Test framework for testing embedded systems in Python", "body": "<p>We use <a href=\"https://docs.hilster.io/htf/latest/\" rel=\"nofollow noreferrer\">htf</a> for hardware in the loop tests. It offers many features to automate tests for embedded systems, a nice report, a dashboard, fixtures, data driven testing, tagging, Docker integration and it is professionally developed.</p>\n<p>There is also a <a href=\"https://docs.hilster.io/htf_demo/latest/\" rel=\"nofollow noreferrer\">demo</a> with some videos to get a quick overview.</p>\n<p>It also supports manual tests with an interactive mode.</p>\n<p>Binary data abstraction can be realized with <a href=\"https://docs.hilster.io/oser/latest/\" rel=\"nofollow noreferrer\">oser</a>.</p>\n<p>htf can be used for free.</p>\n"}, {"comments": [{"owner": {"reputation": 2305, "user_id": 11573842, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mIWwv.jpg?s=128&g=1", "display_name": "Yatin", "link": "https://stackoverflow.com/users/11573842/yatin"}, "edited": false, "score": 1, "creation_date": 1607796368, "post_id": 65268101, "comment_id": 115387806, "body": "Is this an answer to the question? Or are you asking a question?"}], "tags": [], "owner": {"reputation": 11, "user_id": 14656464, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d3c4e9b6e3541a78d920db36ad8222a?s=128&d=identicon&r=PG&f=1", "display_name": "Sblu", "link": "https://stackoverflow.com/users/14656464/sblu"}, "is_accepted": false, "score": 0, "last_activity_date": 1607903068, "last_edit_date": 1607903068, "creation_date": 1607795880, "answer_id": 65268101, "question_id": 34189223, "link": "https://stackoverflow.com/questions/34189223/test-framework-for-testing-embedded-systems-in-python/65268101#65268101", "title": "Test framework for testing embedded systems in Python", "body": "<p>i'm starting to look at openhtf as well.  I have two scenarios:</p>\n<ol>\n<li>Testing should quit upon first failure.  is this possible?</li>\n<li>Testing should continue w/ the next test upon failure. is this possible?\nAlso does someone have a nuts-to-bolt usage <em>example</em> for openhtf posted on a share site such as git-hub.</li>\n</ol>\n"}], "owner": {"reputation": 18893, "user_id": 2612235, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/dpsjq.jpg?s=128&g=1", "display_name": "nowox", "link": "https://stackoverflow.com/users/2612235/nowox"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7138, "favorite_count": 1, "accepted_answer_id": 49455820, "answer_count": 5, "score": 3, "last_activity_date": 1608123950, "creation_date": 1449696047, "question_id": 34189223, "link": "https://stackoverflow.com/questions/34189223/test-framework-for-testing-embedded-systems-in-python", "title": "Test framework for testing embedded systems in Python", "body": "<p>I would like to test the features of an embedded device. To simplify I can say it is an humanoid robot remotely controlled by a PC through a C/C++ API. </p>\n\n<p>I am very interested to use <code>nosetests</code> because of its non-boilerplate approach. However, my case is a bit more complicated. The actual test is running on a C# program and takes about 24h to complete. By switching to Python, I might save a lot of time developing new tests. But, before doing this, I am looking for some answers. </p>\n\n<p>The first problem of the ancient test suite is that all tests are executing in a predefined order and if any error occur, the whole test stops. I would like to build independent test suites that does not depend on other tests results. For example, the test related to the arm of the robot has no relation with the one of the legs. However, the walk test needs both to be successful. </p>\n\n<p>At night all test-suites are executed. If one fail, the next is executed and so on. The advantage is that on the Monday Morning when you come back to work, you can have more useful results than if the whole tests had already failed on Friday night 10 minutes after you left. </p>\n\n<p>So am I looking for a test framework that allows:</p>\n\n<ul>\n<li>Splitting the tests in test-suites.</li>\n<li>Giving a try to each each test-suite no matter if a previous one failed. </li>\n<li>Giving information about dependencies on some tests.</li>\n</ul>\n\n<p>I looked at <a href=\"https://pythonhosted.org/proboscis/\" rel=\"nofollow\">Proboscis</a> that allows dependencies fixtures, but the project look dead. </p>\n\n<p>I am wondering how much work would it take to customize nose in order to get these features. Perhaps it worth also trying another test framework. I don't know and I need some clues...</p>\n\n<p>So, in order to keep things as simple as possible, here's how I see my tests:</p>\n\n<pre><code>#!/usr/bin/python\n\ndef testArms():\n   ...\n   pass\n\ndef testLegs():\n   ...\n   pass\n\n@depend(testArms, testLegs)\ndef testWalk():\n   ...\n   pass\n\ntest_suite1 = [testLegs, testArms, testWalk]\n\n...\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 8090, "user_id": 2116607, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/aab0dbe50765deff6222bcaeaee8f17b?s=128&d=identicon&r=PG&f=1", "display_name": "cdonts", "link": "https://stackoverflow.com/users/2116607/cdonts"}, "edited": false, "score": 0, "creation_date": 1449696315, "post_id": 34189202, "comment_id": 56124838, "body": "Take a look to NumPy!"}, {"owner": {"reputation": 2005, "user_id": 3689314, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/de01a0264b9b4e2b932cd084fa53a9f7?s=128&d=identicon&r=PG&f=1", "display_name": "mt88", "link": "https://stackoverflow.com/users/3689314/mt88"}, "reply_to_user": {"reputation": 8090, "user_id": 2116607, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/aab0dbe50765deff6222bcaeaee8f17b?s=128&d=identicon&r=PG&f=1", "display_name": "cdonts", "link": "https://stackoverflow.com/users/2116607/cdonts"}, "edited": false, "score": 0, "creation_date": 1449696346, "post_id": 34189202, "comment_id": 56124859, "body": "a and b aren&#39;t numbers in my case, they are tuples. Will numpy still work??"}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1449696512, "post_id": 34189202, "comment_id": 56124956, "body": "Sounds like premature optimization \u2014 see <a href=\"https://en.wikipedia.org/wiki/Program_optimization#When_to_optimize\" rel=\"nofollow noreferrer\">When to optimize</a>."}, {"owner": {"reputation": 8090, "user_id": 2116607, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/aab0dbe50765deff6222bcaeaee8f17b?s=128&d=identicon&r=PG&f=1", "display_name": "cdonts", "link": "https://stackoverflow.com/users/2116607/cdonts"}, "edited": false, "score": 0, "creation_date": 1449696569, "post_id": 34189202, "comment_id": 56124992, "body": "It will work if they&#39;re all the same type."}], "owner": {"reputation": 2005, "user_id": 3689314, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/de01a0264b9b4e2b932cd084fa53a9f7?s=128&d=identicon&r=PG&f=1", "display_name": "mt88", "link": "https://stackoverflow.com/users/3689314/mt88"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 38, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1449695986, "creation_date": 1449695986, "question_id": 34189202, "link": "https://stackoverflow.com/questions/34189202/apply-function-over-values-of-two-matrices-fast", "title": "Apply function over values of two matrices fast", "body": "<p>Suppose I have a function f(x, y) where x and y are any objects. Now suppose I have two matrices (list of lists) of the same dimensions A and B. What's the fastest way to compute the matrix C that looks like:</p>\n\n<pre><code>[f(a_11, b_11),...,f(a_n1, b_n1)]\n[               .               ]\n[               .               ]\n[               .               ]\n[f(a_1n, b_1n),...,f(a_nn, b_nn)]\n</code></pre>\n\n<p>where every entry of C at coordinate i,j is just f(a_ij, b_ij). I know I could iterate and do this, but I have quite a few matrixes to do this for and they are of decent size. Therefore i'm interested in fast ways to do this in python. Thanks for the help, feel free to edit the title if something better fits.</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 43245, "user_id": 699305, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/db6ce45b5ec86e1b00d922fc5cee315f?s=128&d=identicon&r=PG", "display_name": "alexis", "link": "https://stackoverflow.com/users/699305/alexis"}, "edited": false, "score": 3, "creation_date": 1449697567, "post_id": 34189165, "comment_id": 56125509, "body": "This is an OS task, not a python issue. On Unix, an unprivileged process can only escalate its privileges by launching a separate, set-uid executable. So you can do what you want only by splitting your script into two programs. How they communicate is up to you."}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1449698194, "post_id": 34189165, "comment_id": 56125842, "body": "or just force users to run your script as root ... hmmm i seem to remember  telling you this same thing a few days ago ... but meh tomato-tomahtoh ... maybe someone will be able to give you a different answer or phrase it for you in such a way that you accept it ..."}, {"owner": {"reputation": 657, "user_id": 1567986, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e7a4b8ee941d64aada19535196a28a2?s=128&d=identicon&r=PG", "display_name": "Karol Nowak", "link": "https://stackoverflow.com/users/1567986/karol-nowak"}, "edited": false, "score": 0, "creation_date": 1449701324, "post_id": 34189165, "comment_id": 56127365, "body": "Just remember that set-uid&#39;ing a script doesn&#39;t work. :)"}], "answers": [{"comments": [{"owner": {"reputation": 1753, "user_id": 1308706, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/44056bd3665c4e90f18b278bb126d75f?s=128&d=identicon&r=PG", "display_name": "Shatnerz", "link": "https://stackoverflow.com/users/1308706/shatnerz"}, "edited": false, "score": 0, "creation_date": 1449756852, "post_id": 34190111, "comment_id": 56152607, "body": "Is there any reason <code>os.system</code> is used over <code>subprocess</code>?"}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "reply_to_user": {"reputation": 1753, "user_id": 1308706, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/44056bd3665c4e90f18b278bb126d75f?s=128&d=identicon&r=PG", "display_name": "Shatnerz", "link": "https://stackoverflow.com/users/1308706/shatnerz"}, "edited": false, "score": 0, "creation_date": 1449766724, "post_id": 34190111, "comment_id": 56159543, "body": "less letters to type ... if you use subprocess im not sure how well piping is supported you might have to do <code>proc.stdin.write(SUDO_PW)</code>"}], "tags": [], "owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "is_accepted": true, "score": 1, "last_activity_date": 1449699653, "creation_date": 1449699653, "answer_id": 34190111, "question_id": 34189165, "link": "https://stackoverflow.com/questions/34189165/python-running-select-sections-of-code-as-sudo/34190111#34190111", "title": "Python - running select sections of code as sudo", "body": "<p>here is another way to almost get what you want </p>\n\n<pre><code>import inspect\nimport os\ndef sudo_call(fn,*args):\n    with open(\"some_test.py\",\"wb\") as f:\n        f.write(inspect.getsource(fn))\n        f.write(\"%s(*%r)\"%(fn.__name__,args)\n    os.system(\"echo &lt;SUDO_PASSWORD&gt; | sudo -S -p '' python some_test.py \")\n\ndef hello(a,b):\n    print a+b\n\nsudo_call(hello,[1,2])\n</code></pre>\n"}], "owner": {"reputation": 1753, "user_id": 1308706, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/44056bd3665c4e90f18b278bb126d75f?s=128&d=identicon&r=PG", "display_name": "Shatnerz", "link": "https://stackoverflow.com/users/1308706/shatnerz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 625, "favorite_count": 0, "accepted_answer_id": 34190111, "answer_count": 1, "score": 1, "last_activity_date": 1449699653, "creation_date": 1449695878, "question_id": 34189165, "link": "https://stackoverflow.com/questions/34189165/python-running-select-sections-of-code-as-sudo", "title": "Python - running select sections of code as sudo", "body": "<p>Is it possible to have a script that can be run without root access, but if root access is required, a password can be collected, and select pieces of the code can be run as sudo? I could use the password and subprocess to run system commands one by one as root if necessary. However, I am using a library that was meant for scripts and requires each script to be run with root privileges. If I could just do something like</p>\n\n<pre><code>runAsRoot(blackBoxFunction, args)\n</code></pre>\n\n<p>I would be set. I really only have one block of code that I need root access for. I don't want to edit the entire library to fit my needs. I could do a workaround, where I generate a script and then execute the script as sudo using subprocess, but this seems prone to error and will be pain with how I set everything up, not to mention I might have to generate scripts on the fly have one great script that can handle every possible scenario.</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 339644, "user_id": 118068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/077db5466d3b58e7bbbd498dca173f04?s=128&d=identicon&r=PG", "display_name": "Marc B", "link": "https://stackoverflow.com/users/118068/marc-b"}, "edited": false, "score": 0, "creation_date": 1449695963, "post_id": 34189153, "comment_id": 56124625, "body": "did you load up the win32ui library?"}, {"owner": {"reputation": 4826, "user_id": 193789, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/a17cc57e47435930a48f7c80bcd53863?s=128&d=identicon&r=PG", "display_name": "kebs", "link": "https://stackoverflow.com/users/193789/kebs"}, "edited": false, "score": 0, "creation_date": 1449697080, "post_id": 34189153, "comment_id": 56125260, "body": "So ? What is your question ? What did you try to fix that ?"}, {"owner": {"reputation": 11, "user_id": 5656495, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0f6ec4ee2348e67b953a3261a0d0d7ac?s=128&d=identicon&r=PG&f=1", "display_name": "CoolSkeleton95", "link": "https://stackoverflow.com/users/5656495/coolskeleton95"}, "edited": false, "score": 0, "creation_date": 1449697454, "post_id": 34189153, "comment_id": 56125446, "body": "I&#39;m way over my head, I&#39;m not sure how to resolve this definition issue"}], "owner": {"reputation": 11, "user_id": 5656495, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0f6ec4ee2348e67b953a3261a0d0d7ac?s=128&d=identicon&r=PG&f=1", "display_name": "CoolSkeleton95", "link": "https://stackoverflow.com/users/5656495/coolskeleton95"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 31, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1449697400, "creation_date": 1449695835, "last_edit_date": 1449697400, "question_id": 34189153, "link": "https://stackoverflow.com/questions/34189153/definition-error-for-32-bit-python", "title": "Definition error for 32 bit Python", "body": "<p>I have a bot made to run super hexagon (just for fun) at <a href=\"http://pastebin.com/X34Qxrxx\" rel=\"nofollow\">http://pastebin.com/X34Qxrxx</a></p>\n\n<p>Unfortunately, whenever I run it with IDLE 3.5 32 bit, I get the error</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"C:\\Users\\Spencer\\Desktop\\Super-Hexagon-Bot\\super_hexagon_bot.py\", line 223, in &lt;module&gt;\n    main()\n  File \"C:\\Users\\Spencer\\Desktop\\Super-Hexagon-Bot\\super_hexagon_bot.py\", line 213, in main\n    window_handle = win32ui.FindWindow(None, u\"Super Hexagon\").GetSafeHwnd()\nNameError: name 'win32ui' is not defined\n</code></pre>\n\n<p>Can anyone help? I'm not sure how to resolve this issue</p>\n"}, {"tags": ["python", "pyside"], "answers": [{"tags": [], "owner": {"reputation": 4576, "user_id": 3156300, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/Oo88B.png?s=128&g=1", "display_name": "JokerMartini", "link": "https://stackoverflow.com/users/3156300/jokermartini"}, "is_accepted": false, "score": 0, "last_activity_date": 1449746187, "creation_date": 1449746187, "answer_id": 34200510, "question_id": 34189138, "link": "https://stackoverflow.com/questions/34189138/placing-widget-in-tab-causes-bug-which-disables-controls-python/34200510#34200510", "title": "placing widget in tab causes bug which disables controls - python", "body": "<p>Fixed incorrect widget nesting as well as the show event.</p>\n\n<pre><code># Imports\n# ------------------------------------------------------------------------------\nimport sys\nfrom PySide import QtGui, QtCore\n\n\nclass TreeNodeItem( QtGui.QTreeWidgetItem ):\n    def __init__( self, parent, name=\"\" ):\n        super( TreeNodeItem, self ).__init__( parent )\n        self.setText( 0, name )\n        self.stuff = \"Custom Names - \" + str(name)\n\nclass TreeWidget(QtGui.QTreeWidget):\n    def __init__(self, parent=None):\n        QtGui.QTreeWidget.__init__(self, parent)\n        self.setVerticalScrollBarPolicy(QtCore.Qt.ScrollBarAlwaysOn)\n        self.setSelectionMode(QtGui.QAbstractItemView.ExtendedSelection)\n        self.setItemsExpandable(True)\n        self.setAnimated(True)\n        self.setDragEnabled(True)\n        self.setDropIndicatorShown(True)\n        self.setDragDropMode(QtGui.QAbstractItemView.InternalMove)\n        self.setAlternatingRowColors(True)\n\n# Drag-n-Drop Widget\n# ------------------------------------------------------------------------------\nclass ExampleWidget(QtGui.QWidget):\n\n    def __init__(self,):\n        super(ExampleWidget, self).__init__()\n\n        self.initUI()\n\n    def initUI(self):\n\n        # formatting\n        self.resize(250, 400)\n        self.setWindowTitle(\"Example\")\n\n        # widget - passes treewidget\n        self.itemList = QtGui.QTreeWidget()\n        self.itemList = TreeWidget()\n\n        headers = [ \"Items\" ]\n        self.itemList.setColumnCount( len(headers) )\n        self.itemList.setHeaderLabels( headers )            \n\n        # layout Grid - row/column/verticalpan/horizontalspan\n        self.mainLayout = QtGui.QGridLayout(self)\n        self.mainLayout.setContentsMargins(5,5,5,5)\n        self.mainLayout.addWidget(self.itemList, 0,0,1,1)\n\n\n    # Functions\n    # --------------------------------------------------------------------------   \n    def showEvent(self, event):\n        print \"open\"\n        for i in xrange(20):\n            TreeNodeItem( parent=self.itemList , name=str(i) )\n\n\n\nclass Example(QtGui.QWidget):\n\n    def __init__(self):\n        super(Example, self).__init__()\n\n        self.initUI()\n\n    def initUI(self):      \n        # formatting\n        self.resize(550, 400)\n\n        tab_panel = QtGui.QTabWidget()\n        tab_panel.addTab(ExampleWidget(), \"Test Tab\")\n\n        mainLayout = QtGui.QVBoxLayout()\n        mainLayout.addWidget(tab_panel)\n        self.setLayout(mainLayout)\n\n    def Update(self):\n        print \"update\"\n        # self.adjustSize()  \n\n\ndef main():\n    app = QtGui.QApplication(sys.argv)\n    ex = Example()\n    ex.show()\n    sys.exit(app.exec_())\n\nif __name__ == '__main__':\n    main()\n\n\n\n# I think it was a table widget in another widget that then got placed in a tab widget.\n# Maybe another level too.\n\n# You were also initializing something in the args part of a method.\n</code></pre>\n"}], "owner": {"reputation": 4576, "user_id": 3156300, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/Oo88B.png?s=128&g=1", "display_name": "JokerMartini", "link": "https://stackoverflow.com/users/3156300/jokermartini"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 34, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1449746187, "creation_date": 1449695782, "question_id": 34189138, "link": "https://stackoverflow.com/questions/34189138/placing-widget-in-tab-causes-bug-which-disables-controls-python", "title": "placing widget in tab causes bug which disables controls - python", "body": "<p>I noticed when placing a widget inside of a tab control it disables all the functions of the drag-n-drop? Why would this be? You can clearly see in the TreeWidget I'm enabling drag and drop functionalities...? I'm confused. I can no longer drag and drop my qtreewidget items.</p>\n\n<pre><code># Imports\n# ------------------------------------------------------------------------------\nimport sys\nfrom PySide import QtGui, QtCore\n\n\nclass TreeNodeItem( QtGui.QTreeWidgetItem ):\n    def __init__( self, parent, name=\"\" ):\n        super( TreeNodeItem, self ).__init__( parent )\n        self.setText( 0, name )\n        self.stuff = \"Custom Names - \" + str(name)\n\nclass TreeWidget(QtGui.QTreeWidget):\n    def __init__(self, parent=None):\n        QtGui.QTreeWidget.__init__(self, parent)\n        self.setVerticalScrollBarPolicy(QtCore.Qt.ScrollBarAlwaysOn)\n        self.setSelectionMode(QtGui.QAbstractItemView.ExtendedSelection)\n        self.setItemsExpandable(True)\n        self.setAnimated(True)\n        self.setDragEnabled(True)\n        self.setDropIndicatorShown(True)\n        self.setDragDropMode(QtGui.QAbstractItemView.InternalMove)\n        self.setAlternatingRowColors(True)\n\n# Drag-n-Drop Widget\n# ------------------------------------------------------------------------------\nclass ExampleWidget(QtGui.QWidget):\n\n    def __init__(self,):\n        super(ExampleWidget, self).__init__()\n\n        self.initUI()\n\n    def initUI(self):\n\n        # formatting\n        self.resize(250, 400)\n        self.setWindowTitle(\"Example\")\n\n        # widget - passes treewidget\n        self.itemList = QtGui.QTreeWidget()\n        self.itemList = TreeWidget()\n\n        headers = [ \"Items\" ]\n        self.itemList.setColumnCount( len(headers) )\n        self.itemList.setHeaderLabels( headers )            \n\n        # layout Grid - row/column/verticalpan/horizontalspan\n        self.mainLayout = QtGui.QGridLayout(self)\n        self.mainLayout.setContentsMargins(5,5,5,5)\n        self.mainLayout.addWidget(self.itemList, 0,0,1,1)\n\n        # display\n        self.show()\n\n    # Functions\n    # --------------------------------------------------------------------------   \n    def showEvent(self, event):\n        print \"open\"\n        for i in xrange(20):\n            TreeNodeItem( parent=self.itemList , name=str(i) )\n\n\n\nclass Example(QtGui.QWidget):\n\n    def __init__(self):\n        super(Example, self).__init__()\n\n        self.initUI()\n\n    def initUI(self):      \n        # formatting\n        self.resize(550, 400)\n\n        # widgets\n        tab_panel = QtGui.QTabWidget()\n\n        _tab = QtGui.QWidget()\n        _tab_layout = QtGui.QHBoxLayout(_tab)\n        _tab_layout.addWidget(ExampleWidget())\n\n        tab_panel.addTab(_tab, \"Testing\")\n\n\n        # signals\n        tab_panel.currentChanged.connect(self.Update)\n\n        # main layout\n        main_layout = QtGui.QVBoxLayout()\n        main_layout.addWidget(tab_panel)\n        self.setLayout(main_layout)\n\n        self.show()\n\n    def Update(self):\n        print \"update\"\n        # self.adjustSize()  \n\n\ndef main():\n\n    app = QtGui.QApplication(sys.argv)\n    ex = Example()\n    sys.exit(app.exec_())\n\n\nif __name__ == '__main__':\n    main()\n</code></pre>\n"}, {"tags": ["python", "scikit-learn", "random-forest", "grid-search"], "comments": [{"owner": {"reputation": 2579, "user_id": 4760801, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-svA_WD2vGC4/AAAAAAAAAAI/AAAAAAAAAGM/pzanXRLcCok/photo.jpg?sz=128", "display_name": "Michael Recachinas", "link": "https://stackoverflow.com/users/4760801/michael-recachinas"}, "edited": false, "score": 0, "creation_date": 1449697830, "post_id": 34189107, "comment_id": 56125658, "body": "You should just be able to just use <code>grid_searches[k].predict(testX)</code>. After you call <code>gs.fit(...)</code>, <code>gs</code> should have the optimized parameters (based on the search space). What happens if you try just <code>grid_searches[k].predict(...)</code>? Also, what happens if you add a line under <code>gs.fit(...)</code> with <code>print gs.best_estimator_</code>?"}], "answers": [{"tags": [], "owner": {"reputation": 799, "user_id": 1876158, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d030ece055eb234f7e88a9ca99154817?s=128&d=identicon&r=PG&f=1", "display_name": "Sean Easter", "link": "https://stackoverflow.com/users/1876158/sean-easter"}, "is_accepted": true, "score": 3, "last_activity_date": 1449714047, "last_edit_date": 1449714047, "creation_date": 1449703505, "answer_id": 34190961, "question_id": 34189107, "link": "https://stackoverflow.com/questions/34189107/attributeerror-gridsearchcv-object-has-no-attribute-best-estimator/34190961#34190961", "title": "AttributeError: &#39;GridSearchCV&#39; object has no attribute &#39;best_estimator_&#39;", "body": "<p>It's not clear, from the code excerpt, how you set <code>refit</code>. Per the <a href=\"http://scikit-learn.org/stable/modules/generated/sklearn.grid_search.GridSearchCV.html\" rel=\"nofollow\">docs</a>, <code>best_estimator_</code> is only available when this is <code>True</code>. If <code>False</code>, you should still be able to find the best-performing parameters from <code>grid_scores_</code>, then use them with <code>set_params()</code>.</p>\n"}], "owner": {"reputation": 12742, "user_id": 1089623, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/84cea2df5455fab19a915ec582cab9f6?s=128&d=identicon&r=PG", "display_name": "Klausos Klausos", "link": "https://stackoverflow.com/users/1089623/klausos-klausos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7320, "favorite_count": 0, "accepted_answer_id": 34190961, "answer_count": 1, "score": 3, "last_activity_date": 1449714047, "creation_date": 1449695672, "last_edit_date": 1449699270, "question_id": 34189107, "link": "https://stackoverflow.com/questions/34189107/attributeerror-gridsearchcv-object-has-no-attribute-best-estimator", "title": "AttributeError: &#39;GridSearchCV&#39; object has no attribute &#39;best_estimator_&#39;", "body": "<p>I am using grid search to tune parameters of my models (Random Forest, Linear Regression, etc.). So I save <code>gs</code> objects in <code>grid_searches</code>:</p>\n\n<pre><code>gs = GridSearchCV(model, params, cv=cv, n_jobs=n_jobs,\n                  verbose=verbose, scoring=\"mean_squared_error\", refit=refit)\ngs.fit(trainX,trainy)\ngrid_searches[key] = gs\n</code></pre>\n\n<p>Then I want to access the best estimator for each model in order to make predictions:</p>\n\n<pre><code>def predict(testX, testy, grid_searches):\n    keys = models.keys()\n    for k in keys:\n        print(\"Predicting with %s.\" % k)\n        yhat = grid_searches[k].best_estimator_.predict(testX)\n</code></pre>\n\n<p>The error is the following:</p>\n\n<pre><code>AttributeError: 'GridSearchCV' object has no attribute 'best_estimator_'\n</code></pre>\n\n<p>So how should I make predictions using best models found by Grid Search?</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 34745, "user_id": 1494637, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/a50559f059e0621b4f543bcda9aad0a6?s=128&d=identicon&r=PG&f=1", "display_name": "Stefan", "link": "https://stackoverflow.com/users/1494637/stefan"}, "edited": false, "score": 0, "creation_date": 1449695887, "post_id": 34189086, "comment_id": 56124592, "body": "The difference refers to the constructor - see <a href=\"http://stackoverflow.com/questions/6610606/is-there-a-difference-between-using-a-dict-literal-and-a-dict-constructor\">here for a <code>dict</code> example</a> that carries over."}, {"owner": {"reputation": 14673, "user_id": 296460, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/FGDo8.jpg?s=128&g=1", "display_name": "shuttle87", "link": "https://stackoverflow.com/users/296460/shuttle87"}, "edited": false, "score": 2, "creation_date": 1449695963, "post_id": 34189086, "comment_id": 56124626, "body": "A literal is something that is defined in the specification of the languages syntax that creates certain data types. Because of this you can&#39;t rename it or change it. Consider the difference between <code>[]</code> and <code>list()</code> the former always creates a list whereas the latter has to look up what <code>list</code> is which as a default will construct a list but does not necessarily do if <code>list</code> was reassigned elsewhere."}, {"owner": {"reputation": 391, "user_id": 3288380, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/814e71f4f1efb92ed0b957cb30711a05?s=128&d=identicon&r=PG&f=1", "display_name": "Martin", "link": "https://stackoverflow.com/users/3288380/martin"}, "edited": false, "score": 2, "creation_date": 1486602605, "post_id": 34189086, "comment_id": 71421043, "body": "This question was much better for me than the one &quot;already answered&quot;, and more importantly, <b>different</b> to that one. As people looking for this questions don&#39;t necessarily know - indeed most probably don&#39;t-  that Literal and Literal constants are basically the same."}], "answers": [{"tags": [], "owner": {"reputation": 16851, "user_id": 5460719, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0f2a855c86ad12fc2988d3948b69ec6?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Karzes", "link": "https://stackoverflow.com/users/5460719/tom-karzes"}, "is_accepted": false, "score": 2, "last_activity_date": 1449695957, "creation_date": 1449695957, "answer_id": 34189187, "question_id": 34189086, "link": "https://stackoverflow.com/questions/34189086/what-are-literals-in-python/34189187#34189187", "title": "What are literals in python?", "body": "<p>In this context, I think it just means that the Python parser accepts a built-in syntax for these entities.  For instance, <code>\"abc\"</code> is a <code>str</code>, <code>123</code> is an <code>int</code>, <code>1.2</code> is a <code>float</code>, etc.</p>\n"}, {"comments": [{"owner": {"reputation": 199, "user_id": 3830278, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AiDi0.png?s=128&g=1", "display_name": "citizenzer0", "link": "https://stackoverflow.com/users/3830278/citizenzer0"}, "edited": false, "score": 0, "creation_date": 1449696981, "post_id": 34189196, "comment_id": 56125211, "body": "Thank you, this explained it well!"}, {"owner": {"reputation": 391, "user_id": 3288380, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/814e71f4f1efb92ed0b957cb30711a05?s=128&d=identicon&r=PG&f=1", "display_name": "Martin", "link": "https://stackoverflow.com/users/3288380/martin"}, "edited": false, "score": 0, "creation_date": 1486602840, "post_id": 34189196, "comment_id": 71421104, "body": "This and phihag&#39;s have clarified what is a literal for once... after so much searching... thanks!"}, {"owner": {"reputation": 16851, "user_id": 5460719, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0f2a855c86ad12fc2988d3948b69ec6?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Karzes", "link": "https://stackoverflow.com/users/5460719/tom-karzes"}, "edited": false, "score": 0, "creation_date": 1585469171, "post_id": 34189196, "comment_id": 107765214, "body": "I don&#39;t believe <code>-3</code> is an integer literal in Python. It&#39;s an expression: the unary negation operator applied to the integer literal <code>3</code>. The same is true for floating point literals. In fact, you can demonstrate this: <code>-2**2</code> is <code>-(2**2)</code>, i.e. <code>-4</code>, as opposed to <code>(-2)**2</code> which would be <code>4</code>."}, {"owner": {"reputation": 16851, "user_id": 5460719, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0f2a855c86ad12fc2988d3948b69ec6?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Karzes", "link": "https://stackoverflow.com/users/5460719/tom-karzes"}, "edited": false, "score": 0, "creation_date": 1585469348, "post_id": 34189196, "comment_id": 107765252, "body": "Similarly, Python does not have complex literals.  It only has non-negative imaginary literals.  These can be combined with floating point literals to form complex numbers.  So <code>-3-5j</code> is actually <code>(-(3))-(5j)</code>.  There are two literals in this expression:  <code>3</code> and <code>5j</code>."}, {"owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 0, "creation_date": 1585510626, "post_id": 34189196, "comment_id": 107779018, "body": "I cleaned this answer up a bit, as well as adding the distinction between true literals and <i>displays</i> (used to create lists et al.)."}], "tags": [], "owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "is_accepted": true, "score": 35, "last_activity_date": 1585510589, "last_edit_date": 1585510589, "creation_date": 1449695972, "answer_id": 34189196, "question_id": 34189086, "link": "https://stackoverflow.com/questions/34189086/what-are-literals-in-python/34189196#34189196", "title": "What are literals in python?", "body": "<p>A literal is something that the parser recognizes as syntax for writing an object directly. Some examples in Python 2:</p>\n\n<ul>\n<li><code>0</code>, <code>1</code>, <code>2</code>, <code>3</code>   (<code>int</code> literals)\n\n<ul>\n<li><code>-1</code>, <code>-2</code>, etc are not literals themselves, but expressions involving the unary <code>-</code> operator.</li>\n</ul></li>\n<li><code>5j</code>, <code>3.14j</code>    (non-negative pure imaginary <code>complex</code> literals)\n\n<ul>\n<li>Other complex values, like <code>2+3j</code>, <code>2-3j</code>, and <code>-5j</code>, are expressions\ninvolving various operators.</li>\n</ul></li>\n<li><code>3.5</code>, <code>-2.7</code> (<code>float</code> literals)</li>\n<li><code>\"\"</code>, <code>\"hello\"</code> (<code>str</code> literals)</li>\n<li><code>u\"\"</code>, <code>u\"hello\"</code> (<code>unicode</code> literals)</li>\n<li><code>None</code> (I <em>think</em> this is considered a literal, and not a keyword or simple name.)</li>\n</ul>\n\n<p>Other literal-like expressions called displays are used to create various containers. They aren't true literals because they can contain non-literal expressions (e.g., <code>[x, y]</code>).</p>\n\n<ul>\n<li><code>[]</code>, <code>[1,2]</code> (<code>list</code> displays)</li>\n<li><code>()</code>, <code>(1,)</code>, <code>(1,2)</code> (<code>tuple</code> displays)</li>\n<li><code>{}</code>, <code>{'a': 2}</code> (<code>dict</code> displays)</li>\n<li><code>{1,2,3}</code> (<code>set</code> display introduced in Python 2.7)</li>\n</ul>\n\n<p>There is no literal or display for an empty set, as the obvious notation <code>{}</code> is\nalready a <code>dict</code> display. Python 2 does not have true Boolean literals; <code>True</code> and <code>False</code> are simply built-in names for the Boolean objects. A tuple is technically created by the comma, and the parentheses are only necessary when you need to disambiguate the expression; the exception is the empty tuple <code>()</code>.</p>\n\n<p>See phihag's answer for some differences in Python 3.</p>\n"}, {"comments": [{"owner": {"reputation": 391, "user_id": 3288380, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/814e71f4f1efb92ed0b957cb30711a05?s=128&d=identicon&r=PG&f=1", "display_name": "Martin", "link": "https://stackoverflow.com/users/3288380/martin"}, "edited": false, "score": 2, "creation_date": 1486602746, "post_id": 34189234, "comment_id": 71421077, "body": "Thanks! First example that makes it more than just something different to a variable... +++++"}, {"owner": {"reputation": 16851, "user_id": 5460719, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0f2a855c86ad12fc2988d3948b69ec6?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Karzes", "link": "https://stackoverflow.com/users/5460719/tom-karzes"}, "edited": false, "score": 0, "creation_date": 1585467303, "post_id": 34189234, "comment_id": 107764831, "body": "I don&#39;t believe <code>-12</code> is an integer literal in Python.  It&#39;s an expression: the unary negation operator applied to the integer literal <code>12</code>.  The same is true for floating point literals.  In fact, you can demonstrate this:  <code>-2**2</code> is <code>-(2**2)</code>, i.e. <code>-4</code>, as opposed to <code>(-2)**2</code> which would be <code>4</code>."}, {"owner": {"reputation": 16851, "user_id": 5460719, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0f2a855c86ad12fc2988d3948b69ec6?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Karzes", "link": "https://stackoverflow.com/users/5460719/tom-karzes"}, "edited": false, "score": 0, "creation_date": 1585469426, "post_id": 34189234, "comment_id": 107765271, "body": "Similarly, Python does not have complex literals. It only has non-negative imaginary literals. These can be combined with floating point literals to form complex numbers. So <code>1+2.3j</code> is actually <code>(1)+(2.3j)</code>. There are two literals in this expression: <code>1</code> and <code>2.3j</code>."}, {"owner": {"reputation": 243983, "user_id": 35070, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/6f92354195e8874dbee44d5c8714d506?s=128&d=identicon&r=PG", "display_name": "phihag", "link": "https://stackoverflow.com/users/35070/phihag"}, "reply_to_user": {"reputation": 16851, "user_id": 5460719, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0f2a855c86ad12fc2988d3948b69ec6?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Karzes", "link": "https://stackoverflow.com/users/5460719/tom-karzes"}, "edited": false, "score": 0, "creation_date": 1585488545, "post_id": 34189234, "comment_id": 107770485, "body": "@TomKarzes Good points. Fixed."}, {"owner": {"reputation": 16851, "user_id": 5460719, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0f2a855c86ad12fc2988d3948b69ec6?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Karzes", "link": "https://stackoverflow.com/users/5460719/tom-karzes"}, "edited": false, "score": 0, "creation_date": 1585493349, "post_id": 34189234, "comment_id": 107772275, "body": "You should change &quot;complex literals&quot; to &quot;imaginary literals&quot;.  Imaginary literals do have type complex, but their real part is always zero.  Arbitrary complex numbers are formed by adding a float (or int) to an imaginary literal.  This comes straight from the Python documentation:  <a href=\"https://docs.python.org/3/reference/lexical_analysis.html#imaginary-literals\" rel=\"nofollow noreferrer\">Imaginary literals</a>"}], "tags": [], "owner": {"reputation": 243983, "user_id": 35070, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/6f92354195e8874dbee44d5c8714d506?s=128&d=identicon&r=PG", "display_name": "phihag", "link": "https://stackoverflow.com/users/35070/phihag"}, "is_accepted": false, "score": 16, "last_activity_date": 1585493982, "last_edit_date": 1585493982, "creation_date": 1449696096, "answer_id": 34189234, "question_id": 34189086, "link": "https://stackoverflow.com/questions/34189086/what-are-literals-in-python/34189234#34189234", "title": "What are literals in python?", "body": "<p>literal <a href=\"https://en.wikipedia.org/wiki/Literal_(computer_programming)\" rel=\"nofollow noreferrer\">is a language-independent programming term</a>. A literal is a succinct and easily visible way to write a value. For example, you could construct the value zero with <code>int()</code>, but <code>0</code> is much more convenient.</p>\n\n<p>In Python, the following literals are available:</p>\n\n<ul>\n<li>Character string literals, such as <code>'D\u00fcsseldorf'</code>, <code>u'K\u00f6ln'</code> (the first one is a byte string literal in Python 2.x)</li>\n<li>Byte string literals such as <code>b'\\x89PNG'</code></li>\n<li>Integer literals such as <code>42</code>, <code>1_234</code>, <code>0x2a</code> or <code>0b101010</code></li>\n<li>Float literals such as <code>1.2e-19</code></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Complex_number\" rel=\"nofollow noreferrer\">Imaginary</a> literals such as <code>2.3j</code></li>\n<li>Boolean literals: <code>True</code> and <code>False</code> (not literals in older (2.x) Python versions)</li>\n<li><code>None</code></li>\n<li>Tuples: <code>(1, 2, 3)</code></li>\n<li>Lists: <code>[1, 2, 3]</code></li>\n<li>Dicts: <code>{1: 'one', 2: 'two'}</code></li>\n<li>Sets: <code>{1, 2, 3}</code></li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 156940, "user_id": 416467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/32cad7487ccecc3740a62e797fc326dc?s=128&d=identicon&r=PG", "display_name": "kindall", "link": "https://stackoverflow.com/users/416467/kindall"}, "is_accepted": false, "score": 2, "last_activity_date": 1449696118, "creation_date": 1449696118, "answer_id": 34189240, "question_id": 34189086, "link": "https://stackoverflow.com/questions/34189086/what-are-literals-in-python/34189240#34189240", "title": "What are literals in python?", "body": "<blockquote>\n  <p>Can I assume that literals are just another term for python's built-in objects?</p>\n</blockquote>\n\n<p>Close. They are a way of <em>writing</em> (some of) Python's built-in objects. If you need, say, a particular number, and you are not reading it from a file or from the user or getting it from a database or calculating it or importing it from another module or or or... you can use a numeric literal to put it right there in your code.</p>\n\n<pre><code>number = 42\n</code></pre>\n\n<p><code>number</code> here is the integer 42, specified by using a literal.</p>\n\n<p>Python's <code>True</code> and <code>False</code> values (and <code>None</code>) are not really literals, but predefined names for those values. But the concept is similar: Python is giving you a way to write those values directly into your code.</p>\n\n<p>Nearly all programming languages have literals for most of their frequently-used types.</p>\n"}], "owner": {"reputation": 199, "user_id": 3830278, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AiDi0.png?s=128&g=1", "display_name": "citizenzer0", "link": "https://stackoverflow.com/users/3830278/citizenzer0"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43066, "favorite_count": 14, "closed_date": 1449696354, "accepted_answer_id": 34189196, "answer_count": 4, "score": 18, "last_activity_date": 1618277799, "creation_date": 1449695602, "last_edit_date": 1618277799, "question_id": 34189086, "link": "https://stackoverflow.com/questions/34189086/what-are-literals-in-python", "closed_reason": "Duplicate", "title": "What are literals in python?", "body": "<p>What exactly is a literal in python? I searched for the answer on google, and in the python docs, but google just references to string literals, and the python docs don't explicitly state what a literal is. I came across this page <a href=\"http://www.dalkescientific.com/writings/NBN/python_intro/literals.html\" rel=\"nofollow noreferrer\">http://www.dalkescientific.com/writings/NBN/python_intro/literals.html</a> that provided the following answer:</p>\n<blockquote>\n<p>Objects are also called data structures. Python comes with some built-in objects. Some are used so often that Python has a quick way to make these objects, called literals. The literals include the string, unicode string, integer, float, long, list, tuple and dictionary types.</p>\n</blockquote>\n<p>Is this correct? Can I assume that literals are just another term for python's built-in objects? Are there any more literals that were not covered in the description? I was under the impression that there was such a thing as a binary literal, and that booleans were also considered literals.</p>\n"}, {"tags": ["python", "for-loop", "button", "dictionary", "tkinter"], "comments": [{"owner": {"reputation": 6026, "user_id": 3991125, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/wbRqp.png?s=128&g=1", "display_name": "albert", "link": "https://stackoverflow.com/users/3991125/albert"}, "edited": false, "score": 0, "creation_date": 1449695527, "post_id": 34189017, "comment_id": 56124406, "body": "Do you want to pass the key or the value of the dict? You might take a look at <a href=\"https://docs.python.org/2/library/stdtypes.html#dict.iteritems\" rel=\"nofollow noreferrer\"><code>dict.iteritems()</code></a>"}, {"owner": {"reputation": 5197, "user_id": 503888, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/f998ce921f025f19bfea5d86032e9f94?s=128&d=identicon&r=PG", "display_name": "Achayan", "link": "https://stackoverflow.com/users/503888/achayan"}, "edited": false, "score": 0, "creation_date": 1449697681, "post_id": 34189017, "comment_id": 56125575, "body": "Lambda is a bad choice go with partial its better and readable and anyone can understand easly from functools import partial .....   button = Button(root, text=&quot;Edit&quot;, command=partial(command, i))     button.grid(row=row, column=1)"}], "owner": {"reputation": 1149, "user_id": 5168028, "user_type": "registered", "accept_rate": 96, "profile_image": "https://lh4.googleusercontent.com/-nT_-2fs9ykY/AAAAAAAAAAI/AAAAAAAAABI/n9DanYw3AEk/photo.jpg?sz=128", "display_name": "Jonah Fleming", "link": "https://stackoverflow.com/users/5168028/jonah-fleming"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 105, "favorite_count": 0, "closed_date": 1449695749, "answer_count": 0, "score": 0, "last_activity_date": 1449695344, "creation_date": 1449695344, "question_id": 34189017, "link": "https://stackoverflow.com/questions/34189017/using-a-dictionary-in-a-for-loop-to-create-buttons-doesnt-work", "closed_reason": "Duplicate", "title": "Using a dictionary in a for loop to create buttons doesn&#39;t work", "body": "<p>I am using a for loop and a dictionary to create buttons and labels but the command assigned to the button passes the key through. Somehow the key changes to the last iterated key on all of the buttons, therefore not passing the right things to the command. How do I fix this problem?</p>\n\n<p>Example code:</p>\n\n<pre><code>from Tkinter import *\nroot=Tk()\ndic={\"hello\":\"friend\", \"goodbye\":\"problem\", \"please\":\"fix\"}\ndef command(thing):\n    print thing\nrow=1\nfor i in dic:\n    Label(root, text=i).grid(row=row, column=0)\n    Button(root, text=\"Edit\", command=lambda: command(i)).grid(row=row, column=1)\n    row+=1\nroot.mainloop()\n</code></pre>\n"}, {"tags": ["python", "python-2.7", "typeerror"], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 5661170, "user_type": "registered", "profile_image": "https://graph.facebook.com/1637526813176755/picture?type=large", "display_name": "Cjkblue", "link": "https://stackoverflow.com/users/5661170/cjkblue"}, "edited": false, "score": 0, "creation_date": 1449768784, "post_id": 34189103, "comment_id": 56160807, "body": "Thanks for the help, it&#39;s the first time I&#39;ve got a thorough answer."}], "tags": [], "owner": {"reputation": 174117, "user_id": 1630171, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oIS66.png?s=128&g=1", "display_name": "Ansgar Wiechers", "link": "https://stackoverflow.com/users/1630171/ansgar-wiechers"}, "is_accepted": true, "score": 2, "last_activity_date": 1449696018, "last_edit_date": 1449696018, "creation_date": 1449695652, "answer_id": 34189103, "question_id": 34188984, "link": "https://stackoverflow.com/questions/34188984/cant-multiply-sequence-by-non-int-of-type-float/34189103#34189103", "title": "Cant multiply sequence by non-int of type &#39;float&#39;", "body": "<p><a href=\"https://docs.python.org/2/library/functions.html#raw_input\" rel=\"nofollow\"><code>raw_input()</code></a> returns a string. You can't multiply a string with a number, so you need to convert the number string to an actual number format first, for instance with the <a href=\"https://docs.python.org/2/library/functions.html#float\" rel=\"nofollow\"><code>float()</code></a> function:</p>\n\n<pre><code>number = raw_input()\nanswercms = float(number) * inches\n</code></pre>\n\n<p>You can use <a href=\"https://docs.python.org/2/library/functions.html#type\" rel=\"nofollow\"><code>type()</code></a> for checking the actual type of a variable:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>>>> <b>type(number)</b>\n&lt;type 'str'&gt;\n>>> <b>type(float(number))</b>\n&lt;type 'float'&gt;</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 5661170, "user_type": "registered", "profile_image": "https://graph.facebook.com/1637526813176755/picture?type=large", "display_name": "Cjkblue", "link": "https://stackoverflow.com/users/5661170/cjkblue"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1010, "favorite_count": 0, "accepted_answer_id": 34189103, "answer_count": 1, "score": 0, "last_activity_date": 1449715335, "creation_date": 1449695197, "last_edit_date": 1449715335, "question_id": 34188984, "link": "https://stackoverflow.com/questions/34188984/cant-multiply-sequence-by-non-int-of-type-float", "title": "Cant multiply sequence by non-int of type &#39;float&#39;", "body": "<p>I'm trying to make a Inch to centimetre (And vice versa) converter with Python.</p>\n\n<pre><code>print \"CM TO INCH (VV) CONVERSION. ENTER SPECIFIED NUMBER:\"\ninches = 2.54 #centimetres\ncms = 0.393701 #inches\nnumber = raw_input()\nanswercms = number * inches\nanswerinches = number * cms\nprint \"%d centimetres are %d inches. %d inches are %d centimetres.\" % (number, answerCms, number, answerinches)\n</code></pre>\n\n<p>After running the script in Powershell it gives this error:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Traceback (most recent call last):\n   File \"inchcm.py\", line 5, in &lt;module&gt;\n     answercms = number * inches\nTypeError: can't multiply sequence by non-int of type 'float'\n</code></pre>\n\n<p>I know this question has come up once or twice but I dont understand the answer.</p>\n"}, {"tags": ["python", "python-2.7", "matplotlib"], "comments": [{"owner": {"reputation": 4730, "user_id": 4524746, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/O45fL.jpg?s=128&g=1", "display_name": "jonchar", "link": "https://stackoverflow.com/users/4524746/jonchar"}, "edited": false, "score": 0, "creation_date": 1449761972, "post_id": 34188963, "comment_id": 56156251, "body": "Your code should work fine, but perhaps something is wrong with your matplotlib installation? Maybe try reinstalling it?"}, {"owner": {"reputation": 103, "user_id": 2019494, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/92c692739b92cf639c2d85d363ca4e19?s=128&d=identicon&r=PG", "display_name": "Chris Stevens", "link": "https://stackoverflow.com/users/2019494/chris-stevens"}, "reply_to_user": {"reputation": 4730, "user_id": 4524746, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/O45fL.jpg?s=128&g=1", "display_name": "jonchar", "link": "https://stackoverflow.com/users/4524746/jonchar"}, "edited": false, "score": 0, "creation_date": 1449780319, "post_id": 34188963, "comment_id": 56166957, "body": "Tried this, no success."}, {"owner": {"reputation": 103, "user_id": 2019494, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/92c692739b92cf639c2d85d363ca4e19?s=128&d=identicon&r=PG", "display_name": "Chris Stevens", "link": "https://stackoverflow.com/users/2019494/chris-stevens"}, "reply_to_user": {"reputation": 4730, "user_id": 4524746, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/O45fL.jpg?s=128&g=1", "display_name": "jonchar", "link": "https://stackoverflow.com/users/4524746/jonchar"}, "edited": false, "score": 0, "creation_date": 1450124098, "post_id": 34188963, "comment_id": 56293399, "body": "Note that this problem is not there when using Fedora 23 64bit. Perhaps a bug in matplotlib 32bit?"}, {"owner": {"reputation": 4730, "user_id": 4524746, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/O45fL.jpg?s=128&g=1", "display_name": "jonchar", "link": "https://stackoverflow.com/users/4524746/jonchar"}, "edited": false, "score": 0, "creation_date": 1450126961, "post_id": 34188963, "comment_id": 56295108, "body": "Could be. Did you get the error when using the version installed via the Fedora repos?"}, {"owner": {"reputation": 103, "user_id": 2019494, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/92c692739b92cf639c2d85d363ca4e19?s=128&d=identicon&r=PG", "display_name": "Chris Stevens", "link": "https://stackoverflow.com/users/2019494/chris-stevens"}, "reply_to_user": {"reputation": 4730, "user_id": 4524746, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/O45fL.jpg?s=128&g=1", "display_name": "jonchar", "link": "https://stackoverflow.com/users/4524746/jonchar"}, "edited": false, "score": 0, "creation_date": 1450140083, "post_id": 34188963, "comment_id": 56300316, "body": "Yes this was installed using dnf"}, {"owner": {"reputation": 4730, "user_id": 4524746, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/O45fL.jpg?s=128&g=1", "display_name": "jonchar", "link": "https://stackoverflow.com/users/4524746/jonchar"}, "edited": false, "score": 0, "creation_date": 1450140334, "post_id": 34188963, "comment_id": 56300430, "body": "You could try installing it directly from PyPI using pip, maybe there is something wrong with the 32-bit Fedora package."}], "owner": {"reputation": 103, "user_id": 2019494, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/92c692739b92cf639c2d85d363ca4e19?s=128&d=identicon&r=PG", "display_name": "Chris Stevens", "link": "https://stackoverflow.com/users/2019494/chris-stevens"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 342, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1449695098, "creation_date": 1449695098, "question_id": 34188963, "link": "https://stackoverflow.com/questions/34188963/simple-plot-using-matplotlib-in-python2-7-on-32bit-fedora-gives-overflowerror-p", "title": "Simple plot using matplotlib in Python2.7 on 32bit Fedora gives OverflowError: Python int too large to convert to C long", "body": "<p>I have this simple code to test matplotlib using Python 2.7 in Fedora 23 32bit.</p>\n\n<pre><code>import matplotlib.pyplot as plt\n\nx = [1,2,3,4]\ny = [20, 21, 20.5, 20.8]\n\nplt.plot(x, y)\n\nplt.show()\n</code></pre>\n\n<p>which gives the following output:</p>\n\n<p>Exception in Tkinter callback\nTraceback (most recent call last):\n  File \"/usr/lib/python2.7/lib-tk/Tkinter.py\", line 1536, in <strong>call</strong>\n    return self.func(*args)\n  File \"/usr/lib/python2.7/site-packages/matplotlib/backends/backend_tkagg.py\", line 278, in resize\n    self.show()\n  File \"/usr/lib/python2.7/site-packages/matplotlib/backends/backend_tkagg.py\", line 350, in draw\n    tkagg.blit(self._tkphoto, self.renderer._renderer, colormode=2)\n  File \"/usr/lib/python2.7/site-packages/matplotlib/backends/tkagg.py\", line 21, in blit\n    _tkagg.tkinit(tk.interpaddr(), 1)\nOverflowError: Python int too large to convert to C long</p>\n\n<p>Any ideas what is wrong here?\nThanks</p>\n"}, {"tags": ["python", "pandas", "density-plot"], "comments": [{"owner": {"reputation": 86481, "user_id": 2411802, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/RA92x.jpg?s=128&g=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/2411802/alexander"}, "edited": false, "score": 1, "creation_date": 1449695490, "post_id": 34188950, "comment_id": 56124388, "body": "Which version of Pandas?"}], "answers": [{"tags": [], "owner": {"reputation": 6146, "user_id": 2029132, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7bf9af44407bbd2097213a6d5f3e0fb1?s=128&d=identicon&r=PG", "display_name": "gabra", "link": "https://stackoverflow.com/users/2029132/gabra"}, "is_accepted": false, "score": 0, "last_activity_date": 1449695265, "creation_date": 1449695265, "answer_id": 34189001, "question_id": 34188950, "link": "https://stackoverflow.com/questions/34188950/pandas-plot-density-plot-from-frequency-table/34189001#34189001", "title": "Pandas plot density plot from frequency table", "body": "<p>Maybe this will work:</p>\n\n<pre><code>import matplotlib.pyplot as plt\n\nplt.plot(df.index, df['freq'])\n\nplt.show()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123, "user_id": 7833852, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec276944b5f91c27e7fe15ebe6576fef?s=128&d=identicon&r=PG&f=1", "display_name": "thebigspin", "link": "https://stackoverflow.com/users/7833852/thebigspin"}, "is_accepted": false, "score": 1, "last_activity_date": 1567085262, "creation_date": 1567085262, "answer_id": 57711272, "question_id": 34188950, "link": "https://stackoverflow.com/questions/34188950/pandas-plot-density-plot-from-frequency-table/57711272#57711272", "title": "Pandas plot density plot from frequency table", "body": "<p>I know you have asked for the case where <code>df</code> is too large to flatten out, but the following answer works where this isn't the case:</p>\n\n<pre><code>pd.Series(df.index.repeat(df.freq)).plot.kde()\n</code></pre>\n\n<p>Or more generally, when the values are in a column called <code>val</code> and not the index:</p>\n\n<pre><code>df.val.repeat(df.freq).plot.kde()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 151, "user_id": 9300808, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ab24d6caaff9cb7e0756e2cfa21bb19?s=128&d=identicon&r=PG", "display_name": "Stig Johan B.", "link": "https://stackoverflow.com/users/9300808/stig-johan-b"}, "is_accepted": false, "score": 1, "last_activity_date": 1567086542, "creation_date": 1567086542, "answer_id": 57711667, "question_id": 34188950, "link": "https://stackoverflow.com/questions/34188950/pandas-plot-density-plot-from-frequency-table/57711667#57711667", "title": "Pandas plot density plot from frequency table", "body": "<p>You can plot a density distribution using a bar plot if you normalize the <em>y</em> values by the product of the size of the population. This will make the area covered by the bars equal to 1.</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>plt.bar(\n    df.index,\n    df.freq / df.freq.sum(),\n    width=-1,\n    align='edge'\n)\n</code></pre>\n\n<p>The <code>width</code> and <code>align</code> parameters are to make sure each bar covers the interval (k-1, k].</p>\n\n<p>Somebody with better knowledge of statistics should answer whether kernel density estimation actually makes sense for discrete distributions.</p>\n"}, {"tags": [], "owner": {"reputation": 1614, "user_id": 10852841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe7a38cc20a4dc6159ee347bf6c19fdf?s=128&d=identicon&r=PG&f=1", "display_name": "HS-nebula", "link": "https://stackoverflow.com/users/10852841/hs-nebula"}, "is_accepted": false, "score": 0, "last_activity_date": 1567094379, "creation_date": 1567094379, "answer_id": 57713920, "question_id": 34188950, "link": "https://stackoverflow.com/questions/34188950/pandas-plot-density-plot-from-frequency-table/57713920#57713920", "title": "Pandas plot density plot from frequency table", "body": "<p><a href=\"https://seaborn.pydata.org/\" rel=\"nofollow noreferrer\">Seaborn</a> was built to do this on top of Matplotlib and automatically calculates kernel density estimates if you want.</p>\n\n<pre><code>import seaborn as sns\n\nx = pd.Series(np.random.randint(0, 20, size = 10000), name = 'freq')\n\nsns.distplot(x, kde = True)\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/C7uAQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/C7uAQ.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 551, "user_id": 5661116, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9785863c5879a0081958bc0f38d35451?s=128&d=identicon&r=PG&f=1", "display_name": "john kals", "link": "https://stackoverflow.com/users/5661116/john-kals"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1057, "favorite_count": 0, "answer_count": 4, "score": 1, "last_activity_date": 1567094379, "creation_date": 1449695058, "question_id": 34188950, "link": "https://stackoverflow.com/questions/34188950/pandas-plot-density-plot-from-frequency-table", "title": "Pandas plot density plot from frequency table", "body": "<p>Let's say I have a DataFrame that looks (simplified) like this</p>\n\n<pre><code>&gt;&gt;&gt; df\n    freq \n2      2   \n3     16  \n1     25  \n</code></pre>\n\n<p>where the index column represents a value, and the <code>freq</code> column represents the frequency of occurance of that value, as in a frequency table.</p>\n\n<p>I'd like to plot a density plot for this table like one obtained from plot kind <code>kde</code>. However, this kind is apparently only meant for <code>pd.Series</code>. My <code>df</code> is too large to flatten out to a 1D Series, i.e. <code>df = [2, 2, 3, 3, 3, ..,, 1, 1]</code>. \nHow can I plot such a density plot under these circumstances? </p>\n"}, {"tags": ["python", "tkinter"], "comments": [{"owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 1, "creation_date": 1449695106, "post_id": 34188876, "comment_id": 56124211, "body": "your indentation is incorrect, and you&#39;re using the same name for a function and for an object."}, {"owner": {"reputation": 69452, "user_id": 953482, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/T3HH6.png?s=128&g=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/953482/kevin"}, "edited": false, "score": 1, "creation_date": 1449696124, "post_id": 34188876, "comment_id": 56124717, "body": "This doesn&#39;t directly answer your question, but you should not <code>grid</code> or <code>pack</code> or <code>place</code> a widget and assign it to a variable on the same line. See <a href=\"http://stackoverflow.com/q/1101750/953482\">Tkinter: AttributeError: NoneType object has no attribute get</a> for more information."}, {"owner": {"reputation": 69452, "user_id": 953482, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/T3HH6.png?s=128&g=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/953482/kevin"}, "edited": false, "score": 0, "creation_date": 1449696475, "post_id": 34188876, "comment_id": 56124928, "body": "Actually, depending on what your indentation really looks like, maybe it <i>does</i> directly answer your question. Hard to say without an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> though."}], "answers": [{"tags": [], "owner": {"reputation": 515, "user_id": 4071682, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/06fd3225923c7f0adbad980c8a6f382f?s=128&d=identicon&r=PG&f=1", "display_name": "Constantly Confused", "link": "https://stackoverflow.com/users/4071682/constantly-confused"}, "is_accepted": true, "score": 2, "last_activity_date": 1449698631, "last_edit_date": 1495541811, "creation_date": 1449698631, "answer_id": 34189850, "question_id": 34188876, "link": "https://stackoverflow.com/questions/34188876/configure-function-on-tkinter-python/34189850#34189850", "title": ".configure function on tkinter python", "body": "<p>I think I know what you're asking, here's my code below which works:</p>\n\n<pre><code>    from tkinter import *\n    import random\n\n    def Roll():\n            roll = 0\n            roll = random.randint(1,6)\n            Roll.config(text = str(roll))\n\n    root = Tk()\n    Roll = Button(root, text = \"Roll\", command = Roll, bg = \"Lawn Green\", fg = \"Green\", height = 4, width = 10)\n    Roll.grid(row = 1, column = 6)\n\n    root.mainloop()\n</code></pre>\n\n<p>The problem was that when you call the configure to the button, you also call the grid method, which returns None. (Described here: <a href=\"https://stackoverflow.com/questions/23231563/nonetype-object-has-no-attribute-config\">&#39;NoneType&#39; object has no attribute &#39;config&#39;</a>)</p>\n\n<p>So, to solve this issue, simply define the placement for the button on a different line.</p>\n"}], "owner": {"reputation": 3, "user_id": 5661182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f1991ce4b96cbcb43096d6244f07974?s=128&d=identicon&r=PG&f=1", "display_name": "K.Hayden", "link": "https://stackoverflow.com/users/5661182/k-hayden"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3908, "favorite_count": 0, "accepted_answer_id": 34189850, "answer_count": 1, "score": -1, "last_activity_date": 1449698631, "creation_date": 1449694819, "question_id": 34188876, "link": "https://stackoverflow.com/questions/34188876/configure-function-on-tkinter-python", "title": ".configure function on tkinter python", "body": "<p>I was trying to make a dice in tkinter on python and this gives me the error AttributeError: 'NoneType' object has no attribute 'configure' when i click on the button. I've not got a single clue why. btw not sure if it changes anything but im using a mac. thanks!</p>\n\n<pre><code>def Roll():\nroll = 0\nroll = random.randint(1,6)\nRoll.configure(text = str(roll))\nRoll = Button(root, text = \"Roll\", command = Roll, bg = \"Lawn Green\", fg = \"Green\", height = 4, width = 10).grid(row = 1, column = 6)\n</code></pre>\n"}, {"tags": ["python", "list", "for-loop", "append"], "answers": [{"comments": [{"owner": {"reputation": 1692, "user_id": 4476908, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/103c9d3979fd6388ba1c1f985646321c?s=128&d=identicon&r=PG&f=1", "display_name": "NotAnAmbiTurner", "link": "https://stackoverflow.com/users/4476908/notanambiturner"}, "edited": false, "score": 0, "creation_date": 1449695334, "post_id": 34188989, "comment_id": 56124325, "body": "Ya, I thought about using a tuple for the list of coordinates. Then I didn&#39;t. I guess that would have helped. Thanks!"}], "tags": [], "owner": {"reputation": 243983, "user_id": 35070, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/6f92354195e8874dbee44d5c8714d506?s=128&d=identicon&r=PG", "display_name": "phihag", "link": "https://stackoverflow.com/users/35070/phihag"}, "is_accepted": false, "score": 1, "last_activity_date": 1449695738, "last_edit_date": 1449695738, "creation_date": 1449695235, "answer_id": 34188989, "question_id": 34188864, "link": "https://stackoverflow.com/questions/34188864/global-variable-resetting-in-loop/34188989#34188989", "title": "Global variable resetting in loop?", "body": "<p>When you write <code>coords_list.append(coords)</code>, you are appending a reference to the one <code>coords</code> object, which you then change. Instead, you want a copy. You could do so with <code>coords[:]</code>, but using an immutable <a href=\"https://docs.python.org/dev/library/stdtypes.html#tuple\" rel=\"nofollow\">tuple</a> or <a href=\"https://docs.python.org/dev/library/collections.html#collections.namedtuple\" rel=\"nofollow\">namedtuple</a> would be much more appropriate here. How about</p>\n\n<pre><code>def main(inp):\n    coords = set()\n    cur = (0, 0)\n    coords.add(cur)\n    for instruction in inp:\n        vector = return_vector(instruction)\n        cur = (cur[0] + vector[0], cur[1] + vector[1])\n        coords.add(cur)\n    return len(coords)\n</code></pre>\n\n<p>Note a couple of other changes:</p>\n\n<ul>\n<li><code>coords_list</code> is really much more of a set. Renamed to <code>coords</code> and made a set. This simplifies adding and makes the membership tests faster for large sets of coordinates.</li>\n<li>Renamed <code>input</code>, since <a href=\"https://docs.python.org/dev/library/functions.html#input\" rel=\"nofollow\">that is a built-in</a></li>\n<li><code>list(input)</code> iterates over the input already. You then iterate over the list. Instead, it's faster and easier to just iterate once over the input.</li>\n<li>Remove debugging code</li>\n<li><strike>Use two variables for the current position.</strike> Use a tuple for the current position.</li>\n</ul>\n"}], "owner": {"reputation": 1692, "user_id": 4476908, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/103c9d3979fd6388ba1c1f985646321c?s=128&d=identicon&r=PG&f=1", "display_name": "NotAnAmbiTurner", "link": "https://stackoverflow.com/users/4476908/notanambiturner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 186, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1449695738, "creation_date": 1449694768, "last_edit_date": 1449695257, "question_id": 34188864, "link": "https://stackoverflow.com/questions/34188864/global-variable-resetting-in-loop", "title": "Global variable resetting in loop?", "body": "<p>I am attempting to do a problem from <a href=\"http://adventofcode.com/day/3\" rel=\"nofollow\">advent of code</a>, and I can't seem to crack it. It is supposed to collect a set of unique coordinates, then output their count. My main variable, <code>coords_list</code> is instantiated outside of a for loop, then added to inside that <code>for</code>.</p>\n\n<p>For some reason, though, every time I append to it within the <code>for</code>, it appears to 'reset,' so at max my return list is a list of <code>coords_list</code>'s initial value, plus the most recent value I appended to it.</p>\n\n<p>It's quite possible I'm just missing something simple. Still, any help would be awesome.</p>\n\n<h2>Output</h2>\n\n<pre><code>coords_list: [[0, 0]]\nSTART -- coords: [0, 0], vector: (1, 0), instruction: &gt;\nEND -- coords: [1, 0], coords_list: [[0, 0], [1, 0]]\ninput: &gt;, len: 2\n------\ncoords_list: [[0, 0]]\nSTART -- coords: [0, 0], vector: (0, 1), instruction: ^\nEND -- coords: [0, 1], coords_list: [[0, 0], [0, 1]]\nSTART -- coords: [0, 1], vector: (1, 0), instruction: &gt;\nEND -- coords: [1, 1], coords_list: [[0, 0], [1, 1]]\nSTART -- coords: [1, 1], vector: (0, -1), instruction: v\nEND -- coords: [1, 0], coords_list: [[0, 0], [1, 0]]\nSTART -- coords: [1, 0], vector: (-1, 0), instruction: &lt;\nEND -- coords: [0, 0], coords_list: [[0, 0], [0, 0]]\ninput: ^&gt;v&lt;, len: 2\n------\nTraceback (most recent call last):\n  File \"python\", line 47, in &lt;module&gt;\nAssertionError\n</code></pre>\n\n<h2>Code</h2>\n\n<pre><code>def return_vector(chary):\n\n    if chary == \"^\":\n        ret_value = (0,1)\n    elif chary == \"v\":\n        ret_value = (0,-1)\n    elif chary == \"&gt;\":\n        ret_value = (1, 0)\n    elif chary == \"&lt;\":\n        ret_value = (-1, 0)\n    else:\n        raise ValueError(\"Expecting one of '^','v','&gt;','&lt;', got {}\".format(chary))\n\n    return ret_value\n\ndef main(input):\n    coords_list = [[0,0]]\n    coords = [0,0]\n    lst_input = list(input)\n    debug_iterator, debug_loop = 0, 10\n    print(\"coords_list: {}\".format(coords_list))\n\n    for instruction in lst_input:\n        vector = return_vector(instruction)\n\n\n        if debug_iterator &lt; debug_loop:\n            print(\"START -- coords: {}, vector: {}, instruction: {}\".format(coords, vector, instruction))\n\n        coords[0] += vector[0]\n        coords[1] += vector[1]\n\n        if coords not in coords_list:\n            coords_list.append(coords)\n\n        if debug_iterator &lt; debug_loop:\n            print(\"END -- coords: {}, coords_list: {}\".format(coords, coords_list))\n            debug_iterator += 1\n\n    print('input: {}, len: {}\\n------'.format(input, len(coords_list)))\n    return(len(coords))\n\nassert main('&gt;') == 2\nassert main('^&gt;v&lt;') == 4\nassert main('^v^v^v^v^v') == 2\n\nprint(\"main(INPUT) == {}\".format(main(INPUT)))\n\n\nassert return_vector('^') == (0,1)\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 1, "user_id": 5661168, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1287a541ac95955d4975c4e1fd6ea9e3?s=128&d=identicon&r=PG&f=1", "display_name": "krongi", "link": "https://stackoverflow.com/users/5661168/krongi"}, "edited": false, "score": 0, "creation_date": 1449694653, "post_id": 34188821, "comment_id": 56123985, "body": "Yes, I know the indentation is wrong, it&#39;s only wrong on the site because I couldn&#39;t figure out how to do proper indentation using the code function"}, {"owner": {"reputation": 8538, "user_id": 3059812, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/UaU9b.jpg?s=128&g=1", "display_name": "Morgan Thrapp", "link": "https://stackoverflow.com/users/3059812/morgan-thrapp"}, "edited": false, "score": 2, "creation_date": 1449694716, "post_id": 34188821, "comment_id": 56124015, "body": "What are those <code>}</code> doing there?"}, {"owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 5, "creation_date": 1449694826, "post_id": 34188821, "comment_id": 56124078, "body": "@krongi: that&#39;s no excuse. With python, indentation is critical for understanding your code.  It takes just a couple minutes to learn how to use the system. <a href=\"http://stackoverflow.com/help/formatting\">stackoverflow.com/help/formatting</a>"}, {"owner": {"reputation": 243983, "user_id": 35070, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/6f92354195e8874dbee44d5c8714d506?s=128&d=identicon&r=PG", "display_name": "phihag", "link": "https://stackoverflow.com/users/35070/phihag"}, "edited": false, "score": 0, "creation_date": 1449694873, "post_id": 34188821, "comment_id": 56124103, "body": "To format code in stackoverflow, paste it, select it, and press <code>Ctrl</code>+<code>K</code>"}, {"owner": {"reputation": 1, "user_id": 5661168, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1287a541ac95955d4975c4e1fd6ea9e3?s=128&d=identicon&r=PG&f=1", "display_name": "krongi", "link": "https://stackoverflow.com/users/5661168/krongi"}, "edited": false, "score": 0, "creation_date": 1449696933, "post_id": 34188821, "comment_id": 56125188, "body": "The indentation was right in my code. It just contained the braces. It was already submitted before I realized my indentation problem. I see your point though"}, {"owner": {"reputation": 62027, "user_id": 603977, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/myasv.jpg?s=128&g=1", "display_name": "jscs", "link": "https://stackoverflow.com/users/603977/jscs"}, "edited": false, "score": 0, "creation_date": 1449698668, "post_id": 34188821, "comment_id": 56126073, "body": "You can <a href=\"https://stackoverflow.com/posts/34188821/edit\">edit</a> your post after it&#39;s submitted. Use the &quot;edit&quot; link at the base."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 5661168, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1287a541ac95955d4975c4e1fd6ea9e3?s=128&d=identicon&r=PG&f=1", "display_name": "krongi", "link": "https://stackoverflow.com/users/5661168/krongi"}, "edited": false, "score": 0, "creation_date": 1449695895, "post_id": 34188849, "comment_id": 56124594, "body": "Thanks for the info! I knew it was something incredibly stupid"}], "tags": [], "owner": {"reputation": 96896, "user_id": 2296458, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/wbG2s.png?s=128&g=1", "display_name": "Cory Kramer", "link": "https://stackoverflow.com/users/2296458/cory-kramer"}, "is_accepted": false, "score": 2, "last_activity_date": 1449694725, "creation_date": 1449694725, "answer_id": 34188849, "question_id": 34188821, "link": "https://stackoverflow.com/questions/34188821/getting-invalid-syntax-when-trying-to-increment-a-variable-in-python/34188849#34188849", "title": "Getting &#39;Invalid Syntax&#39; When Trying to Increment a Variable in Python", "body": "<p>Get rid of the braces, this is not C, Python uses indentation</p>\n\n<pre><code>while i &lt; 14:\n    os.makedirs('\\\\asnbackup1\\\\Backup Share\\\\Test ' + str(i+1))\n    i += 1\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1, "user_id": 5661168, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1287a541ac95955d4975c4e1fd6ea9e3?s=128&d=identicon&r=PG&f=1", "display_name": "krongi", "link": "https://stackoverflow.com/users/5661168/krongi"}, "edited": false, "score": 0, "creation_date": 1449695848, "post_id": 34188851, "comment_id": 56124566, "body": "Lol, I knew it was something stupid. I&#39;m so used to languages using &#39;{}&#39; for loops. Thanks so much. I actually had just gotten it working using the for loop with range. Unfortunately it&#39;s not creating the directories on the share that I want. Thank you so much!"}], "tags": [], "owner": {"reputation": 243983, "user_id": 35070, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/6f92354195e8874dbee44d5c8714d506?s=128&d=identicon&r=PG", "display_name": "phihag", "link": "https://stackoverflow.com/users/35070/phihag"}, "is_accepted": false, "score": 0, "last_activity_date": 1449694733, "creation_date": 1449694733, "answer_id": 34188851, "question_id": 34188821, "link": "https://stackoverflow.com/questions/34188821/getting-invalid-syntax-when-trying-to-increment-a-variable-in-python/34188851#34188851", "title": "Getting &#39;Invalid Syntax&#39; When Trying to Increment a Variable in Python", "body": "<p>In Python, curly braces (<code>{}</code>) are not used to indicate indentation; instead, indent. Your while loop should like this:</p>\n\n<pre><code>while i &lt; 14:\n    os.makedirs('\\\\asnbackup1\\\\Backup Share\\\\Test ' + str(i+1))\n    i += 1\n</code></pre>\n\n<p>While you're at it, why not use a for loop with <a href=\"https://docs.python.org/dev/library/functions.html#func-range\" rel=\"nofollow\"><code>range</code></a>?</p>\n\n<pre><code>import os\nfor in in range(1, 15):\n    os.makedirs('\\\\asnbackup1\\\\Backup Share\\\\Test ' + str(i+1))\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 5661168, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1287a541ac95955d4975c4e1fd6ea9e3?s=128&d=identicon&r=PG&f=1", "display_name": "krongi", "link": "https://stackoverflow.com/users/5661168/krongi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5313, "favorite_count": 0, "closed_date": 1449699902, "answer_count": 2, "score": -5, "last_activity_date": 1449694733, "creation_date": 1449694617, "question_id": 34188821, "link": "https://stackoverflow.com/questions/34188821/getting-invalid-syntax-when-trying-to-increment-a-variable-in-python", "closed_reason": "Not suitable for this site", "title": "Getting &#39;Invalid Syntax&#39; When Trying to Increment a Variable in Python", "body": "<p>I'm sure this is a stupid question, but for the life of me, I can't figure out why it keeps giving me an 'Invalid Syntax' error when trying to run this incredibly simple piece of code:</p>\n\n<pre><code>import os\ndefault = 'C:\\\\Windows\\\\System32\\\\'\ni = 1\nwhile i &lt; 14:\n{\nos.makedirs('\\\\asnbackup1\\\\Backup Share\\\\Test ' + str(i+1))\ni += 1\n}\n</code></pre>\n\n<p>I've tried i++, i = i + 1, neither of those work either. I know I'm missing something incredibly stupid but I just can't see what.</p>\n\n<p>Thanks in advance for your help guys</p>\n"}, {"tags": ["python", "list", "loops", "tuples"], "answers": [{"comments": [{"owner": {"reputation": 537, "user_id": 3244770, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/433449e708ecd19b5bc562a5a95cd7e5?s=128&d=identicon&r=PG&f=1", "display_name": "saph_top", "link": "https://stackoverflow.com/users/3244770/saph-top"}, "edited": false, "score": 0, "creation_date": 1449696321, "post_id": 34189160, "comment_id": 56124841, "body": "tell you what, I do. Works great, thank you very much."}, {"owner": {"reputation": 1286, "user_id": 1915011, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/k8Gw8.jpg?s=128&g=1", "display_name": "\u017dilvinas Rud\u017eionis", "link": "https://stackoverflow.com/users/1915011/%c5%bdilvinas-rud%c5%beionis"}, "reply_to_user": {"reputation": 537, "user_id": 3244770, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/433449e708ecd19b5bc562a5a95cd7e5?s=128&d=identicon&r=PG&f=1", "display_name": "saph_top", "link": "https://stackoverflow.com/users/3244770/saph-top"}, "edited": false, "score": 1, "creation_date": 1449696769, "post_id": 34189160, "comment_id": 56125107, "body": "I&#39;m glad I could help :)"}], "tags": [], "owner": {"reputation": 1286, "user_id": 1915011, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/k8Gw8.jpg?s=128&g=1", "display_name": "\u017dilvinas Rud\u017eionis", "link": "https://stackoverflow.com/users/1915011/%c5%bdilvinas-rud%c5%beionis"}, "is_accepted": true, "score": 1, "last_activity_date": 1449695866, "creation_date": 1449695866, "answer_id": 34189160, "question_id": 34188816, "link": "https://stackoverflow.com/questions/34188816/comparing-values-of-list-of-tuples-current-and-next/34189160#34189160", "title": "Comparing values of list of tuples, current and next", "body": "<p>You probably want this:</p>\n\n<pre><code>crimes_and_times = [('a time', 'a crime'), ('b time', 'b crime'), ('b time', 'c crime')]\nfor i in xrange(1, len(crimes_and_times)):\n    cur = crimes_and_times[i]\n    prev = crimes_and_times[i - 1]\n    if cur[0] == prev[0]:\n        print cur\n</code></pre>\n\n<p>output:</p>\n\n<pre><code>('b time', 'c crime')\n</code></pre>\n"}], "owner": {"reputation": 537, "user_id": 3244770, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/433449e708ecd19b5bc562a5a95cd7e5?s=128&d=identicon&r=PG&f=1", "display_name": "saph_top", "link": "https://stackoverflow.com/users/3244770/saph-top"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 121, "favorite_count": 0, "accepted_answer_id": 34189160, "answer_count": 1, "score": 1, "last_activity_date": 1449695866, "creation_date": 1449694604, "question_id": 34188816, "link": "https://stackoverflow.com/questions/34188816/comparing-values-of-list-of-tuples-current-and-next", "title": "Comparing values of list of tuples, current and next", "body": "<p>I have a list of tuples based off a training data set.</p>\n\n<pre><code>empty = [(a time, a crime),(a time, a crime),(...,...).....]\n</code></pre>\n\n<p>I'd like to check that if the current time in the current tuple is equal to the current time in the next tuple, print the time and a crime.</p>\n\n<p>I had this previously which would print all the items in a list if the current and next values were the same, but I don't think this will work if I want to restrict it to filter on the time alone, rather than the whole list value. Unsure if there is anything I can do with the split function or if passing the data into a list of tuples was the right way to go. Would really appreciate any help.</p>\n\n<p>where:</p>\n\n<pre><code>empty = [\"a time, a crime\", \"a time, a crime\"....]\n\n\nfor next_obj in empty:\n    if next_obj[0] == cur_obj[0]:\n        print cur_obj\n    else:\n        pass\n    cur_obj = next_obj\n</code></pre>\n"}, {"tags": ["python", "python-3.x"], "answers": [{"tags": [], "owner": {"reputation": 1164, "user_id": 3704291, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4765f40b9788ab42e575036273910fe7?s=128&d=identicon&r=PG&f=1", "display_name": "gkusner", "link": "https://stackoverflow.com/users/3704291/gkusner"}, "is_accepted": true, "score": 0, "last_activity_date": 1449694823, "creation_date": 1449694823, "answer_id": 34188878, "question_id": 34188785, "link": "https://stackoverflow.com/questions/34188785/python-how-to-make-it-so-entering-no-input-prints-you-failed-to-input/34188878#34188878", "title": "Python How to make it so entering no input prints you failed to input", "body": "<p>to edit or verify an input you need to use a while loop:</p>\n\n<pre><code>while True:\n    ans = input('Prompt ')\n    if ans:\n        break\n    print ('You need to type something')\n</code></pre>\n\n<p>you should also check for valid values before break(ing)</p>\n\n<p>try except is only for exceptions - not entering anything isn't an error it just returns an empty string ''</p>\n"}], "owner": {"reputation": 13, "user_id": 5445001, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d536d13ebc1e31e6d37c49901ef8992b?s=128&d=identicon&r=PG&f=1", "display_name": "J.Miller", "link": "https://stackoverflow.com/users/5445001/j-miller"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35, "favorite_count": 0, "accepted_answer_id": 34188878, "answer_count": 1, "score": 0, "last_activity_date": 1449694823, "creation_date": 1449694499, "question_id": 34188785, "link": "https://stackoverflow.com/questions/34188785/python-how-to-make-it-so-entering-no-input-prints-you-failed-to-input", "title": "Python How to make it so entering no input prints you failed to input", "body": "<p>How do I make it so my program prints \"You failed to input blah blah blah\" when I just press enter in the inputs? This is for my encryption program.</p>\n\n<pre><code>answer=\"y\" #set answer as a variable\nwhile answer==\"y\" or answer==\"yes\":\n\ndef encryption(plaintext, keyword):\n   #pointless including my functions for this question\n\ndef decryption(plaintext, keyword):       \n\n\nquestion = input(\"Would you like to encrypt or decrypt a message? \")\n\nif question == 'e' or question == 'encrypt':\n    plaintext=input(\"Please enter the message you wish to encode: \").lower()#plaintext message wished to be encrypted\n    keyword=input(\"Please enter your keyword: \").lower()#keyword that encrypts the message\n    encryption(plaintext, keyword)#calls encryption function\n\nelif question == 'd' or question == 'decrypt':\n    plaintext=input(\"Please enter the encrypted message you wish to decrypt: \").lower()\n    keyword=input(\"Please enter your keyword: \").lower()\n    decryption(plaintext, keyword)\n\nanswer=input(\"Would you like to restart the program? \").lower()\nprint(\"Goodbye\")\n</code></pre>\n\n<p>I tried to use try: and except: but that didn't seem to work or maybe I just used it incorrectly?</p>\n"}, {"tags": ["python", "lua", "udp", "multicast"], "comments": [{"owner": {"reputation": 20428, "user_id": 1847592, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/OvYt2.png?s=128&g=1", "display_name": "Egor Skriptunoff", "link": "https://stackoverflow.com/users/1847592/egor-skriptunoff"}, "edited": false, "score": 0, "creation_date": 1449696928, "post_id": 34188738, "comment_id": 56125183, "body": "Just a guess: try <code>udp:receivefrom()</code>."}, {"owner": {"reputation": 22650, "user_id": 1442917, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ebf13f183fb723ea37cbfb64301d6d9c?s=128&d=identicon&r=PG", "display_name": "Paul Kulchenko", "link": "https://stackoverflow.com/users/1442917/paul-kulchenko"}, "reply_to_user": {"reputation": 20428, "user_id": 1847592, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/OvYt2.png?s=128&g=1", "display_name": "Egor Skriptunoff", "link": "https://stackoverflow.com/users/1847592/egor-skriptunoff"}, "edited": false, "score": 0, "creation_date": 1449701798, "post_id": 34188738, "comment_id": 56127561, "body": "@EgorSkriptunoff is predictably subtle, leaving breadcrumbs on a path to enlightment..."}], "answers": [{"tags": [], "owner": {"reputation": 22650, "user_id": 1442917, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ebf13f183fb723ea37cbfb64301d6d9c?s=128&d=identicon&r=PG", "display_name": "Paul Kulchenko", "link": "https://stackoverflow.com/users/1442917/paul-kulchenko"}, "is_accepted": false, "score": 0, "last_activity_date": 1449701803, "creation_date": 1449701803, "answer_id": 34190605, "question_id": 34188738, "link": "https://stackoverflow.com/questions/34188738/lua-and-multicast/34190605#34190605", "title": "Lua and multicast", "body": "<p>Luasocket repository has examples for <a href=\"https://github.com/diegonehab/luasocket/blob/master/samples/mcsend.lua\" rel=\"nofollow\">sending</a> and <a href=\"https://github.com/diegonehab/luasocket/blob/master/samples/mclisten.lua\" rel=\"nofollow\">receiving</a> messages over UDP. The code in the example looks similar to yours and it's using <code>receivefrom</code> as Egor suggested. Although since you use <code>setpeername</code>, <code>receive</code> should work as well <a href=\"http://w3.impa.br/~diego/software/luasocket/udp.html#setpeername\" rel=\"nofollow\">according to the documentation</a>.</p>\n"}], "owner": {"reputation": 41, "user_id": 2710645, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30ed6d15d17b5a0ca578a1cf62ee3382?s=128&d=identicon&r=PG&f=1", "display_name": "mantielero", "link": "https://stackoverflow.com/users/2710645/mantielero"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 623, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1449701803, "creation_date": 1449694360, "question_id": 34188738, "link": "https://stackoverflow.com/questions/34188738/lua-and-multicast", "title": "Lua and multicast", "body": "<p>I'm trying to convert some code from python to lua.</p>\n\n<p>The relevant bit in python is:</p>\n\n<pre><code>import socket\nsock = socket.socket(socket.AF_INET, socket.SOCK_DGRAM, socket.IPPROTO_UDP)\nsock.setsockopt(socket.SOL_SOCKET, socket.SO_REUSEADDR, 1)\nsock.settimeout(3)\nsock.bind(('239.0.3.138', 3935))\nmreq = struct.pack(\"=4sl\", socket.inet_aton('239.0.3.138'), socket.INADDR_ANY)\nsock.setsockopt(socket.IPPROTO_IP, socket.IP_ADD_MEMBERSHIP, mreq)\nprint( sock.recv(1500) )\n</code></pre>\n\n<p>What I'm trying to do in Lua is:</p>\n\n<pre><code>udp = socket.udp()\nudp:setpeername( '239.0.3.138','3935')\nudp:settimeout(3.0)\nudp:setoption( \"ip-add-membership\", { multiaddr=\"239.0.3.138\", interface=\"*\"  } ) \nprint( udp:receive(1500) )\n</code></pre>\n\n<p>I'm not that familiar neither with Lua nor with networking. I'm just trying to learn a bit. Any clue about what am I missing?</p>\n\n<p>The Lua code is reaching the timeout.</p>\n"}, {"tags": ["python", "class", "variables", "self"], "comments": [{"owner": {"reputation": 56500, "user_id": 2658050, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yPuAp.jpg?s=128&g=1", "display_name": "lejlot", "link": "https://stackoverflow.com/users/2658050/lejlot"}, "edited": false, "score": 3, "creation_date": 1449694401, "post_id": 34188729, "comment_id": 56123871, "body": "and when do you run <code>sumForm</code>?"}, {"owner": {"reputation": 2045, "user_id": 3722211, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9459c782595393b1ad1eb9d3f49607ce?s=128&d=identicon&r=PG&f=1", "display_name": "Fourier", "link": "https://stackoverflow.com/users/3722211/fourier"}, "reply_to_user": {"reputation": 56500, "user_id": 2658050, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yPuAp.jpg?s=128&g=1", "display_name": "lejlot", "link": "https://stackoverflow.com/users/2658050/lejlot"}, "edited": false, "score": 0, "creation_date": 1449694641, "post_id": 34188729, "comment_id": 56123980, "body": "Sorry I forgot to add it. I am running it like this: test.sumForm"}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1449694818, "post_id": 34188729, "comment_id": 56124072, "body": "You didn&#39;t <i>call</i> <code>sumForm</code>!"}, {"owner": {"reputation": 2924, "user_id": 2066459, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d8408d7e5ef47a2e2af09f3c6da6e1a6?s=128&d=identicon&r=PG", "display_name": "Robert Jacobs", "link": "https://stackoverflow.com/users/2066459/robert-jacobs"}, "edited": false, "score": 3, "creation_date": 1449694955, "post_id": 34188729, "comment_id": 56124140, "body": "The last line doesn&#39;t call test.sumForm. You need ()&#39;s to do that along with its argument"}, {"owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 0, "creation_date": 1449694957, "post_id": 34188729, "comment_id": 56124143, "body": "your indentation is broken."}, {"owner": {"reputation": 2045, "user_id": 3722211, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9459c782595393b1ad1eb9d3f49607ce?s=128&d=identicon&r=PG&f=1", "display_name": "Fourier", "link": "https://stackoverflow.com/users/3722211/fourier"}, "edited": false, "score": 0, "creation_date": 1449695128, "post_id": 34188729, "comment_id": 56124221, "body": "Thanks Robert, user and lejlot."}], "answers": [{"comments": [{"owner": {"reputation": 2045, "user_id": 3722211, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9459c782595393b1ad1eb9d3f49607ce?s=128&d=identicon&r=PG&f=1", "display_name": "Fourier", "link": "https://stackoverflow.com/users/3722211/fourier"}, "edited": false, "score": 0, "creation_date": 1449695091, "post_id": 34188934, "comment_id": 56124202, "body": "Thank you very much. It was my first attempt on this and I was clearly not fully understanding how to call this."}], "tags": [], "owner": {"reputation": 150862, "user_id": 790387, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/450fd2737dd0355700a574bd12842509?s=128&d=identicon&r=PG", "display_name": "Burhan Khalid", "link": "https://stackoverflow.com/users/790387/burhan-khalid"}, "is_accepted": true, "score": 2, "last_activity_date": 1449712886, "last_edit_date": 1449712886, "creation_date": 1449695010, "answer_id": 34188934, "question_id": 34188729, "link": "https://stackoverflow.com/questions/34188729/python-class-variables-are-not-updated/34188934#34188934", "title": "Python: Class variables are not updated", "body": "<p>You have two problems:</p>\n\n<ol>\n<li>You never call the method, you need <code>test.sumForm()</code>.</li>\n<li>Your method takes an argument which you don't pass in.</li>\n</ol>\n\n<p>You can either do <code>test.sumForm(peptide.aa_lib)</code>, or you can modify your method to read the variable from the class directly, like this:</p>\n\n<pre><code>def sumForm(self):  # note, no more aa_lib here\n    atom_comp = defaultdict(int)\n    for aa in self.sequence:\n        if aa in peptide.aa_lib.keys(): # peptide.aa_lib\n            for atom, count in peptide.aa_lib[aa].items():\n                atom_comp[atom]+=count\n    self.carbon_atoms=atom_comp['C']\n    self.nitrogen_atoms=atom_comp['N']\n    self.hydrogen_atoms=atom_comp['H']\n    self.sulfur_atoms=atom_comp['S']\n    self.oxygen_atoms=atom_comp['O']\n</code></pre>\n\n<p>You should either modify the call, or modify the method. Don't do both (otherwise you'll have a whole new set of errors).</p>\n"}], "owner": {"reputation": 2045, "user_id": 3722211, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9459c782595393b1ad1eb9d3f49607ce?s=128&d=identicon&r=PG&f=1", "display_name": "Fourier", "link": "https://stackoverflow.com/users/3722211/fourier"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 373, "favorite_count": 0, "closed_date": 1450331944, "accepted_answer_id": 34188934, "answer_count": 1, "score": -2, "last_activity_date": 1449712886, "creation_date": 1449694331, "last_edit_date": 1449712833, "question_id": 34188729, "link": "https://stackoverflow.com/questions/34188729/python-class-variables-are-not-updated", "closed_reason": "Not suitable for this site", "title": "Python: Class variables are not updated", "body": "<p>Hello fellow community,</p>\n\n<p>I cannot figure out the problem here and therefore would like to have some imput from your side.</p>\n\n<p>Here is my code:</p>\n\n<pre><code>from collections import defaultdict\n\nclass peptide():\n\n    aa_lib={\n        'A':   {'H': 5, 'C': 3, 'O': 1, 'N': 1},\n        'C':   {'H': 5, 'C': 3, 'S': 1, 'O': 1, 'N': 1},\n        'D':   {'H': 5, 'C': 4, 'O': 3, 'N': 1},\n        'E':   {'H': 7, 'C': 5, 'O': 3, 'N': 1},\n        'F':   {'H': 9, 'C': 9, 'O': 1, 'N': 1},\n        'G':   {'H': 3, 'C': 2, 'O': 1, 'N': 1},\n        'H':   {'H': 7, 'C': 6, 'N': 3, 'O': 1},\n        'I':   {'H': 11, 'C': 6, 'O': 1, 'N': 1},\n        'K':   {'H': 12, 'C': 6, 'N': 2, 'O': 1},\n        'L':   {'H': 11, 'C': 6, 'O': 1, 'N': 1},\n        'M':   {'H': 9, 'C': 5, 'S': 1, 'O': 1, 'N': 1},\n        'N':   {'H': 6, 'C': 4, 'O': 2, 'N': 2},\n        'P':   {'H': 7, 'C': 5, 'O': 1, 'N': 1},\n        'Q':   {'H': 8, 'C': 5, 'O': 2, 'N': 2},\n        'R':   {'H': 12, 'C': 6, 'N': 4, 'O': 1},\n        'S':   {'H': 5, 'C': 3, 'O': 2, 'N': 1},\n        'T':   {'H': 7, 'C': 4, 'O': 2, 'N': 1},\n        'V':   {'H': 9, 'C': 5, 'O': 1, 'N': 1},\n        'W':   {'C': 11, 'H': 10, 'N': 2, 'O': 1},\n        'Y':   {'H': 9, 'C': 9, 'O': 2, 'N': 1},\n        'H-':  {'H': 1},\n        '-OH': {'O': 1, 'H': 1}\n    }\n\n    def __init__(self,sequence,rtime,intensity,protein):\n        self.sequence=sequence\n        self.carbon_atoms=0\n        self.nitrogen_atoms=0\n        self.hydrogen_atoms=0\n        self.sulfur_atoms=0\n        self.oxygen_atoms=0\n\n        self.rt=rtime\n        self.intensity=intensity\n        self.protein=protein\n        #self.charge=charge\n\n    def sumForm(self, aa_lib):\n        atom_comp = defaultdict(int)\n        for aa in self.sequence:\n            if aa in aa_lib.keys():\n                for atom, count in aa_lib[aa].items():\n                    atom_comp[atom]+=count\n        self.carbon_atoms=atom_comp['C']\n        self.nitrogen_atoms=atom_comp['N']\n        self.hydrogen_atoms=atom_comp['H']\n        self.sulfur_atoms=atom_comp['S']\n        self.oxygen_atoms=atom_comp['O']\n\ntest=peptide(\"FKDDLA\", 2.5, 2E+7, \"OmpF\")\ntest.sumForm\n</code></pre>\n\n<p>I do not understand why the atoms are not updated. The init values (0) still remain instead of the updated values. Outside of the class I can make it work.</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 1, "user_id": 3490996, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b712c65dc4414eb1d13afbc3e3232d9?s=128&d=identicon&r=PG&f=1", "display_name": "user6435", "link": "https://stackoverflow.com/users/3490996/user6435"}, "reply_to_user": {"reputation": 9677, "user_id": 4244780, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KUXr1.jpg?s=128&g=1", "display_name": "Iron Fist", "link": "https://stackoverflow.com/users/4244780/iron-fist"}, "edited": false, "score": 0, "creation_date": 1449694526, "post_id": 34188723, "comment_id": 56123930, "body": "Here&#39;s the code sorry should have added to main one <a href=\"http://pastebin.com/swpc70yz\" rel=\"nofollow noreferrer\">pastebin.com/swpc70yz</a> <a href=\"http://pastebin.com/rM1iZJJB\" rel=\"nofollow noreferrer\">pastebin.com/rM1iZJJB</a>"}, {"owner": {"reputation": 314794, "user_id": 67579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/BJXub.png?s=128&g=1", "display_name": "Willem Van Onsem", "link": "https://stackoverflow.com/users/67579/willem-van-onsem"}, "edited": false, "score": 1, "creation_date": 1449694595, "post_id": 34188723, "comment_id": 56123962, "body": "@user6435: please provide a <i>minimal working example</i>. Something that can be used by people to do debugging and <i>show</i> that their solution works."}, {"owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 0, "creation_date": 1449694927, "post_id": 34188723, "comment_id": 56124127, "body": "Please don&#39;t link to code on another site. Edit your question to include the code."}], "answers": [{"tags": [], "owner": {"reputation": 2663, "user_id": 1375015, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/Ta2oi.jpg?s=128&g=1", "display_name": "Konstantin Schubert", "link": "https://stackoverflow.com/users/1375015/konstantin-schubert"}, "is_accepted": false, "score": 2, "last_activity_date": 1449694595, "creation_date": 1449694595, "answer_id": 34188812, "question_id": 34188723, "link": "https://stackoverflow.com/questions/34188723/python-call-a-method-from-a-string/34188812#34188812", "title": "Python call a method from a string", "body": "<p>I think you need</p>\n\n<pre><code> print (   getattr(getCommand, x)()  )\n</code></pre>\n\n<p><code>getattr</code> gets you the method, but it doesn't call it. That's done by the additional <code>()</code></p>\n\n<p>Also, you have an unclosed open bracket in your code.</p>\n"}], "owner": {"reputation": 1, "user_id": 3490996, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b712c65dc4414eb1d13afbc3e3232d9?s=128&d=identicon&r=PG&f=1", "display_name": "user6435", "link": "https://stackoverflow.com/users/3490996/user6435"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "answer_count": 1, "score": -3, "last_activity_date": 1449696648, "creation_date": 1449694310, "last_edit_date": 1449696648, "question_id": 34188723, "link": "https://stackoverflow.com/questions/34188723/python-call-a-method-from-a-string", "title": "Python call a method from a string", "body": "<p>I am trying to call a method from a string in python. However, I need that method to print the return of that method. I am currently using </p>\n\n<pre><code>print (getattr(object, x)\n</code></pre>\n\n<p>where x is the string and object is the modudle/class.\nHowever it is not printing the return statement for some reason, is this not possible with getattr?</p>\n"}, {"tags": ["python", "mysql"], "answers": [{"tags": [], "owner": {"reputation": 657, "user_id": 1567986, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e7a4b8ee941d64aada19535196a28a2?s=128&d=identicon&r=PG", "display_name": "Karol Nowak", "link": "https://stackoverflow.com/users/1567986/karol-nowak"}, "is_accepted": true, "score": 0, "last_activity_date": 1449695083, "creation_date": 1449695083, "answer_id": 34188957, "question_id": 34188661, "link": "https://stackoverflow.com/questions/34188661/python-and-mysql-if-catch-deadlock-error-is-everything-rolled-back/34188957#34188957", "title": "Python and MySQL: If catch deadlock error, is everything rolled back?", "body": "<p>The whole transaction is rolled back.</p>\n\n<p>Here's the relevant and helpful MySQL documentation:\n<a href=\"https://dev.mysql.com/doc/refman/5.5/en/innodb-deadlock-detection.html\" rel=\"nofollow\">https://dev.mysql.com/doc/refman/5.5/en/innodb-deadlock-detection.html</a>\n<a href=\"https://dev.mysql.com/doc/refman/5.5/en/innodb-deadlocks.html\" rel=\"nofollow\">https://dev.mysql.com/doc/refman/5.5/en/innodb-deadlocks.html</a></p>\n"}], "owner": {"reputation": 23491, "user_id": 984003, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/0b9cb16fb2d2addbed5387f610d79f77?s=128&d=identicon&r=PG", "display_name": "user984003", "link": "https://stackoverflow.com/users/984003/user984003"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 627, "favorite_count": 0, "accepted_answer_id": 34188957, "answer_count": 1, "score": 0, "last_activity_date": 1449695083, "creation_date": 1449694084, "question_id": 34188661, "link": "https://stackoverflow.com/questions/34188661/python-and-mysql-if-catch-deadlock-error-is-everything-rolled-back", "title": "Python and MySQL: If catch deadlock error, is everything rolled back?", "body": "<p>I'd like to catch a MySQL deadlock error and then retry the failed query. But, do I have to redo every query since the transaction started, or just the one in the try/catch? I'm not sure whether the deadlock error causes everything to be rolled back.</p>\n\n<p>This is performed in Python using raw mysql queries. </p>\n\n<pre><code>insert into table_1 values...\ninsert_into_table_2 values ...\ntry:\n   delete from table_1 where ...\nexcept: # set to catch deadlock error\n   # Can I just retry the delete statement, or do I also have to do the inserts again?\n\n# commits at end\n</code></pre>\n"}, {"tags": ["python", "matplotlib", "serial-port", "pyserial"], "answers": [{"tags": [], "owner": {"reputation": 683, "user_id": 3598726, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/kpm0C.png?s=128&g=1", "display_name": "user3598726", "link": "https://stackoverflow.com/users/3598726/user3598726"}, "is_accepted": false, "score": 0, "last_activity_date": 1449852942, "creation_date": 1449852942, "answer_id": 34228651, "question_id": 34188657, "link": "https://stackoverflow.com/questions/34188657/how-to-exit-properly-a-never-ending-live-matplotlibplot/34228651#34228651", "title": "How to exit properly a never ending live matplotlibplot", "body": "<p>I was able to do it using threads.</p>\n"}], "owner": {"reputation": 683, "user_id": 3598726, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/kpm0C.png?s=128&g=1", "display_name": "user3598726", "link": "https://stackoverflow.com/users/3598726/user3598726"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 28, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1449852942, "creation_date": 1449694071, "question_id": 34188657, "link": "https://stackoverflow.com/questions/34188657/how-to-exit-properly-a-never-ending-live-matplotlibplot", "title": "How to exit properly a never ending live matplotlibplot", "body": "<p>I created a basic 3D animation, showing an object in 3D space, the coordinates are coming from an Arduino.</p>\n\n<pre><code>import serial\nfrom mpl_toolkits.mplot3d import axes3d\nimport matplotlib.pyplot as plt\nimport matplotlib as mpl\n\ndef make_the_plot(port1, baud1, duration):\n\n    plt.ion()\n    mpl.rcParams['toolbar'] = 'None'\n    fig = plt.figure()\n    ax = fig.add_subplot(111, projection='3d')\n    port = port1 \n    baudrate = baud1\n    ser = serial.Serial(port, baudrate)\n\n    realtime=0\n    while ser and realtime&lt;duration:\n\n        raw = (ser.readline())\n        splitted= raw.split()\n        realtime=realtime+1\n        #print (realtime, maxtime)\n        if 'reading' in splitted:\n\n            print(\"error in sensor reading\")\n            msg = \"Error in sensor readng \"+raw\n            return msg  \n        try:\n            ax.cla()\n            x=float(splitted[0])\n            y=float(splitted[1])\n            z=float(splitted[2])\n\n            ax.scatter(x,y,z)\n            ax.set_xlim([0, 100])\n            ax.set_ylim([0, 100])\n            ax.set_zlim([0, 100])\n            #fig.suptitle(\"Title centered above all subplots\", fontsize=14)\n            ax.set_xlabel('x [cm]')\n            ax.set_ylabel('y [cm]')\n            ax.set_zlabel('z [cm]')\n            plt.tight_layout()\n            plt.draw()\n            plt.pause(0.003)\n\n        except:\n            pass\n\n        msg=\"time's up\"\n\n    print (msg)\n    return msg    \n\nif __name__ == '__main__':\n\n    make_the_plot('COM7',9600,100)   \n</code></pre>\n\n<p>The program works, but I can't close the plot without having issues. Most often after trying to close it the whole plot becomes white, the title changes to \"Figure (Not Responding)\", and after some seconds a new window with Python not responding message appears. if I call the <code>make_the_plot()</code> function from an other module (from a GUI) it's even worse. How can I modify the code to make closing procure working properly?</p>\n"}, {"tags": ["python", "numpy"], "answers": [{"comments": [{"owner": {"reputation": 293, "user_id": 1207120, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82c812b1d259548f93bce053c9da6301?s=128&d=identicon&r=PG", "display_name": "BlueCoder", "link": "https://stackoverflow.com/users/1207120/bluecoder"}, "edited": false, "score": 1, "creation_date": 1574437260, "post_id": 34189537, "comment_id": 104245213, "body": "Note: I tried using np.r_ without fully specifying indexes, i.e. np.r_[:3,7:] and the result was very strange. Using it by fully specifiying start and end indexes (np.r_[0:3,7:10]) worked as expected."}, {"owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "reply_to_user": {"reputation": 293, "user_id": 1207120, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82c812b1d259548f93bce053c9da6301?s=128&d=identicon&r=PG", "display_name": "BlueCoder", "link": "https://stackoverflow.com/users/1207120/bluecoder"}, "edited": false, "score": 1, "creation_date": 1574442282, "post_id": 34189537, "comment_id": 104247791, "body": "@BlueCoder, In normal indexing, the <code>stop</code> value for <code>[7:]</code> can be deduced from the array/list that&#39;s indexed.  <code>r_</code> can&#39;t do that.  It looks like it treats the <code>7</code> as a <code>stop</code> rather than <code>start</code>.  An alternative would have been to raise an error.  Examine the <code>r_</code> code for details.  It&#39;s best to provide both <code>start</code> and <code>stop</code> when using <code>r_</code>."}, {"owner": {"reputation": 782, "user_id": 2464671, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VrFvm.jpg?s=128&g=1", "display_name": "xicocaio", "link": "https://stackoverflow.com/users/2464671/xicocaio"}, "edited": false, "score": 1, "creation_date": 1597242116, "post_id": 34189537, "comment_id": 112069679, "body": "@hpaulj And how would that work for a 2d array? Let &#39;s say I want different non-adjacent row ranges specific to each column. How would that work?"}, {"owner": {"reputation": 1590, "user_id": 7885426, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/6980b93acb857452d17d9584a7bd97b7?s=128&d=identicon&r=PG&f=1", "display_name": "CodeNoob", "link": "https://stackoverflow.com/users/7885426/codenoob"}, "reply_to_user": {"reputation": 782, "user_id": 2464671, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VrFvm.jpg?s=128&g=1", "display_name": "xicocaio", "link": "https://stackoverflow.com/users/2464671/xicocaio"}, "edited": false, "score": 0, "creation_date": 1608029229, "post_id": 34189537, "comment_id": 115450769, "body": "I wonder that too! @xicocaio"}, {"owner": {"reputation": 782, "user_id": 2464671, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VrFvm.jpg?s=128&g=1", "display_name": "xicocaio", "link": "https://stackoverflow.com/users/2464671/xicocaio"}, "reply_to_user": {"reputation": 1590, "user_id": 7885426, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/6980b93acb857452d17d9584a7bd97b7?s=128&d=identicon&r=PG&f=1", "display_name": "CodeNoob", "link": "https://stackoverflow.com/users/7885426/codenoob"}, "edited": false, "score": 0, "creation_date": 1608030919, "post_id": 34189537, "comment_id": 115451522, "body": "@CodeNoob I asked a question about the case of the 2D array with non-adjacent row ranges and received a <a href=\"https://stackoverflow.com/q/63380108/2464671\">pretty good answer here</a>."}], "tags": [], "owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "is_accepted": true, "score": 39, "last_activity_date": 1449697356, "creation_date": 1449697356, "answer_id": 34189537, "question_id": 34188620, "link": "https://stackoverflow.com/questions/34188620/index-multiple-non-adjacent-ranges-in-numpy/34189537#34189537", "title": "Index multiple, non-adjacent ranges in numpy", "body": "<p>You need to concatenate, either before or after indexing.  <code>np.r_</code> makes it easy</p>\n\n<pre><code>In [116]: idx=np.array([82,  9, 11, 94, 31, 87, 43, 77, 49, 50])\nIn [117]: np.r_[0:3,7:10]\nOut[117]: array([0, 1, 2, 7, 8, 9])\nIn [118]: idx[np.r_[0:3,7:10]]\nOut[118]: array([82,  9, 11, 77, 49, 50])\n</code></pre>\n\n<p><code>np.r_</code> expands the slices and concatenates them.</p>\n\n<p>You can mix slices and lists:</p>\n\n<pre><code>In [120]: np.r_[0:3,7:10,[0,3,4]]\nOut[120]: array([0, 1, 2, 7, 8, 9, 0, 3, 4])\n</code></pre>\n\n<p>Concatenating before indexing is probably faster than after, but for 1d array like this, I don't think the difference is significant.</p>\n"}], "owner": {"reputation": 6976, "user_id": 2970321, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/74fRq.jpg?s=128&g=1", "display_name": "alexw", "link": "https://stackoverflow.com/users/2970321/alexw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 15273, "favorite_count": 8, "accepted_answer_id": 34189537, "answer_count": 1, "score": 25, "last_activity_date": 1449697356, "creation_date": 1449693914, "question_id": 34188620, "link": "https://stackoverflow.com/questions/34188620/index-multiple-non-adjacent-ranges-in-numpy", "title": "Index multiple, non-adjacent ranges in numpy", "body": "<p>I'd like to select multiple, non-adjacent ranges from a 1d numpy array (or vector).</p>\n\n<p>Suppose:</p>\n\n<pre><code>&gt;&gt;&gt; idx = np.random.randint(100, size=10)\narray([82,  9, 11, 94, 31, 87, 43, 77, 49, 50])\n</code></pre>\n\n<p>This works, of course:</p>\n\n<pre><code>&gt;&gt;&gt; idx[0:3]\narray([82,  9, 11])\n</code></pre>\n\n<p>And this works to fetch via individual indices:</p>\n\n<pre><code>&gt;&gt;&gt; idx[[0,3,4]]\narray([82, 94, 31])\n</code></pre>\n\n<p>But what if I want to select the ranges <code>0:3</code>, and <code>7:</code>?</p>\n\n<p>I've tried:    </p>\n\n<pre><code>&gt;&gt;&gt; idx[[0:3,7:]]\nSyntaxError: invalid syntax\n</code></pre>\n\n<p>Is there a simple way to do this, or do I need to generate them separately and concatenate?</p>\n"}, {"tags": ["python", "c++", "qt", "pyqt", "qlistview"], "answers": [{"comments": [{"owner": {"reputation": 6214, "user_id": 4865723, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2a94d3ff9e3ae1ddf8c09b8511ba76f0?s=128&d=identicon&r=PG&f=1", "display_name": "buhtz says get vaccinated", "link": "https://stackoverflow.com/users/4865723/buhtz-says-get-vaccinated"}, "edited": false, "score": 0, "creation_date": 1449755938, "post_id": 34188907, "comment_id": 56151923, "body": "Setting the color doesn&#39;t work. <code>palette = QPalette(); palette.setColor(QPalette.AlternateBase, Qt.yellow); self.setPalette(palette); self.setAlternatingRowColors(True)</code>. Any idea?"}, {"owner": {"reputation": 6214, "user_id": 4865723, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2a94d3ff9e3ae1ddf8c09b8511ba76f0?s=128&d=identicon&r=PG&f=1", "display_name": "buhtz says get vaccinated", "link": "https://stackoverflow.com/users/4865723/buhtz-says-get-vaccinated"}, "edited": false, "score": 0, "creation_date": 1449756282, "post_id": 34188907, "comment_id": 56152198, "body": "Mhm... Need to set <code>QPalette.Base</code>, too. Then it works. But I don&#39;t want to set this explicite. How can I get the current <code>QPalette.Base</code> color to set it."}], "tags": [], "owner": {"reputation": 5197, "user_id": 503888, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/f998ce921f025f19bfea5d86032e9f94?s=128&d=identicon&r=PG", "display_name": "Achayan", "link": "https://stackoverflow.com/users/503888/achayan"}, "is_accepted": true, "score": 1, "last_activity_date": 1449694908, "creation_date": 1449694908, "answer_id": 34188907, "question_id": 34188594, "link": "https://stackoverflow.com/questions/34188594/qlistview-with-row-background-in-two-different-colors/34188907#34188907", "title": "QListView with row background in two different colors", "body": "<p>self. listWidget.setAlternatingRowColors(True) this will give you Alternate color for each row.</p>\n"}], "owner": {"reputation": 6214, "user_id": 4865723, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2a94d3ff9e3ae1ddf8c09b8511ba76f0?s=128&d=identicon&r=PG&f=1", "display_name": "buhtz says get vaccinated", "link": "https://stackoverflow.com/users/4865723/buhtz-says-get-vaccinated"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 787, "favorite_count": 0, "accepted_answer_id": 34188907, "answer_count": 1, "score": 0, "last_activity_date": 1449694908, "creation_date": 1449693793, "question_id": 34188594, "link": "https://stackoverflow.com/questions/34188594/qlistview-with-row-background-in-two-different-colors", "title": "QListView with row background in two different colors", "body": "<p>I use <code>QListView</code> (in PyQt5) to display strings.\nI want to have the background color of each item in that list changing between two colors to make it easier to read.</p>\n\n<p>I tried <code>Qt.DecorationRole</code> but this only create an \"icon\" on the left side of each item.</p>\n"}, {"tags": ["python", "django", "apache", "python-3.x", "window"], "answers": [{"tags": [], "owner": {"reputation": 2035, "user_id": 4324871, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9c8debc6271934c521ec1262fa7d7277?s=128&d=identicon&r=PG", "display_name": "Lorenzo Pe&#241;a", "link": "https://stackoverflow.com/users/4324871/lorenzo-pe%c3%b1a"}, "is_accepted": false, "score": 0, "last_activity_date": 1450003054, "creation_date": 1450003054, "answer_id": 34250182, "question_id": 34188582, "link": "https://stackoverflow.com/questions/34188582/python34-django-apache-mod-wsgi-error/34250182#34250182", "title": "python34 + django + apache + mod_wsgi error", "body": "<p>You need to make sure that Windows, Python, Apache and mod_wsgi are all the same architecture (32 bits or 64 bits.) Also, please make sure that you are using the mod_wsgi compiled for your version of Apache.</p>\n"}], "owner": {"reputation": 39, "user_id": 4384045, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh3.googleusercontent.com/-LWqb92b0ALk/AAAAAAAAAAI/AAAAAAAAAvg/SmaL4g7CiC8/photo.jpg?sz=128", "display_name": "Victor Villalobos", "link": "https://stackoverflow.com/users/4384045/victor-villalobos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 77, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1450003054, "creation_date": 1449693757, "question_id": 34188582, "link": "https://stackoverflow.com/questions/34188582/python34-django-apache-mod-wsgi-error", "title": "python34 + django + apache + mod_wsgi error", "body": "<p>i'm trying to deploy an Django app to Window Server 2012, but i cant. I would appreciate any help you can borrow.</p>\n\n<p>VHOST:</p>\n\n<pre><code>&lt;VirtualHost *:8080&gt;\n    WSGIScriptAlias /zeus \"C:/xampp/htdocs/zeus-manager/wsgi.py\"\n    Alias /zeus/static \"C:/xampp/htdocs/zeus-manager/static\"\n    Alias /zeus/media \"C:/xampp/htdocs/zeus-manager/media\"\n    &lt;Directory \"/zeus/media\"&gt; \n    Order allow,deny \n    Allow from all \n    &lt;/Directory&gt; \n    &lt;Directory \"/zeus/static\"&gt; \n    Order allow,deny \n    Allow from all \n    &lt;/Directory&gt; \n    &lt;Directory \"/zeus\"&gt;\n    &lt;Files wsgi.py&gt;\n    Require all granted\n    &lt;/Files&gt;\n    &lt;/Directory&gt;\n&lt;/VirtualHost&gt;\n</code></pre>\n\n<p>WSGI.py</p>\n\n<pre><code>import site\nsite.addsitedir(\"C:/Python34/Lib/site-packages\")\nimport os\nimport sys\nsys.path.append(\"C:/xamp/htdocs/zeus-manager\")\nfrom django.core.wsgi import get_wsgi_application\nos.environ[\"DJANGO_SETTINGS_MODULE\"] = \"zeus_manager.settings\"\n\napplication = get_wsgi_application()\n</code></pre>\n\n<p>And this is the apache log:\nCan anyone help me please?</p>\n\n<pre><code>[Wed Dec 09 21:35:41.455053 2015] [wsgi:error] [pid 3392:tid 1848] [client 127.0.0.1:50404] mod_wsgi (pid=3392): Target WSGI script 'C:/xampp/htdocs/zeus-manager/wsgi.py' cannot be loaded as Python module.\n[Wed Dec 09 21:35:41.455053 2015] [wsgi:error] [pid 3392:tid 1848] [client 127.0.0.1:50404] mod_wsgi (pid=3392): Exception occurred processing WSGI script 'C:/xampp/htdocs/zeus-manager/wsgi.py'.\n[Wed Dec 09 21:35:41.455053 2015] [wsgi:error] [pid 3392:tid 1848] [client 127.0.0.1:50404] Traceback (most recent call last):\\r\n[Wed Dec 09 21:35:41.456056 2015] [wsgi:error] [pid 3392:tid 1848] [client 127.0.0.1:50404]   File \"C:/xampp/htdocs/zeus-manager/wsgi.py\", line 6, in &lt;module&gt;\\r\n[Wed Dec 09 21:35:41.456056 2015] [wsgi:error] [pid 3392:tid 1848] [client 127.0.0.1:50404]     from django.core.wsgi import get_wsgi_application\\r\n[Wed Dec 09 21:35:41.456056 2015] [wsgi:error] [pid 3392:tid 1848] [client 127.0.0.1:50404]   File \"C:\\\\Python34\\\\lib\\\\site-packages\\\\django\\\\core\\\\wsgi.py\", line 2, in &lt;module&gt;\\r\n[Wed Dec 09 21:35:41.456056 2015] [wsgi:error] [pid 3392:tid 1848] [client 127.0.0.1:50404]     from django.core.handlers.wsgi import WSGIHandler\\r\n[Wed Dec 09 21:35:41.456056 2015] [wsgi:error] [pid 3392:tid 1848] [client 127.0.0.1:50404]   File \"C:\\\\Python34\\\\lib\\\\site-packages\\\\django\\\\core\\\\handlers\\\\wsgi.py\", line 10, in &lt;module&gt;\\r\n[Wed Dec 09 21:35:41.456056 2015] [wsgi:error] [pid 3392:tid 1848] [client 127.0.0.1:50404]     from django import http\\r\n[Wed Dec 09 21:35:41.456056 2015] [wsgi:error] [pid 3392:tid 1848] [client 127.0.0.1:50404]   File \"C:\\\\Python34\\\\lib\\\\site-packages\\\\django\\\\http\\\\__init__.py\", line 5, in &lt;module&gt;\\r\n[Wed Dec 09 21:35:41.456056 2015] [wsgi:error] [pid 3392:tid 1848] [client 127.0.0.1:50404]     from django.http.response import (\\r\n[Wed Dec 09 21:35:41.457054 2015] [wsgi:error] [pid 3392:tid 1848] [client 127.0.0.1:50404]   File \"C:\\\\Python34\\\\lib\\\\site-packages\\\\django\\\\http\\\\response.py\", line 13, in &lt;module&gt;\\r\n[Wed Dec 09 21:35:41.457054 2015] [wsgi:error] [pid 3392:tid 1848] [client 127.0.0.1:50404]     from django.core.serializers.json import DjangoJSONEncoder\\r\n[Wed Dec 09 21:35:41.457054 2015] [wsgi:error] [pid 3392:tid 1848] [client 127.0.0.1:50404]   File \"C:\\\\Python34\\\\lib\\\\site-packages\\\\django\\\\core\\\\serializers\\\\__init__.py\", line 23, in &lt;module&gt;\\r\n[Wed Dec 09 21:35:41.457054 2015] [wsgi:error] [pid 3392:tid 1848] [client 127.0.0.1:50404]     from django.core.serializers.base import SerializerDoesNotExist\\r\n[Wed Dec 09 21:35:41.457054 2015] [wsgi:error] [pid 3392:tid 1848] [client 127.0.0.1:50404]   File \"C:\\\\Python34\\\\lib\\\\site-packages\\\\django\\\\core\\\\serializers\\\\base.py\", line 4, in &lt;module&gt;\\r\n[Wed Dec 09 21:35:41.457054 2015] [wsgi:error] [pid 3392:tid 1848] [client 127.0.0.1:50404]     from django.db import models\\r\n[Wed Dec 09 21:35:41.457054 2015] [wsgi:error] [pid 3392:tid 1848] [client 127.0.0.1:50404]   File \"C:\\\\Python34\\\\lib\\\\site-packages\\\\django\\\\db\\\\models\\\\__init__.py\", line 13, in &lt;module&gt;\\r\n[Wed Dec 09 21:35:41.457054 2015] [wsgi:error] [pid 3392:tid 1848] [client 127.0.0.1:50404]     from django.db.models.fields.files import FileField, ImageField  # NOQA\\r\n[Wed Dec 09 21:35:41.458054 2015] [wsgi:error] [pid 3392:tid 1848] [client 127.0.0.1:50404]   File \"C:\\\\Python34\\\\lib\\\\site-packages\\\\django\\\\db\\\\models\\\\fields\\\\files.py\", line 9, in &lt;module&gt;\\r\n[Wed Dec 09 21:35:41.458054 2015] [wsgi:error] [pid 3392:tid 1848] [client 127.0.0.1:50404]     from django.core.files.storage import default_storage\\r\n[Wed Dec 09 21:35:41.458054 2015] [wsgi:error] [pid 3392:tid 1848] [client 127.0.0.1:50404]   File \"C:\\\\Python34\\\\lib\\\\site-packages\\\\django\\\\core\\\\files\\\\storage.py\", line 8, in &lt;module&gt;\\r\n[Wed Dec 09 21:35:41.458054 2015] [wsgi:error] [pid 3392:tid 1848] [client 127.0.0.1:50404]     from django.core.files import File, locks\\r\n[Wed Dec 09 21:35:41.458054 2015] [wsgi:error] [pid 3392:tid 1848] [client 127.0.0.1:50404]   File \"C:\\\\Python34\\\\lib\\\\site-packages\\\\django\\\\core\\\\files\\\\locks.py\", line 31, in &lt;module&gt;\\r\n[Wed Dec 09 21:35:41.458054 2015] [wsgi:error] [pid 3392:tid 1848] [client 127.0.0.1:50404]     from ctypes import (sizeof, c_ulong, c_void_p, c_int64,\\r\n[Wed Dec 09 21:35:41.459082 2015] [wsgi:error] [pid 3392:tid 1848] [client 127.0.0.1:50404]   File \"C:\\\\Python34\\\\Lib\\\\ctypes\\\\__init__.py\", line 7, in &lt;module&gt;\\r\n[Wed Dec 09 21:35:41.459082 2015] [wsgi:error] [pid 3392:tid 1848] [client 127.0.0.1:50404]     from _ctypes import Union, Structure, Array\\r\n[Wed Dec 09 21:35:41.459082 2015] [wsgi:error] [pid 3392:tid 1848] [client 127.0.0.1:50404] ImportError: DLL load failed: The specified procedure could not be found.\\r\n</code></pre>\n\n<p>Thanks for the answer</p>\n"}, {"tags": ["python", "list", "dictionary"], "comments": [{"owner": {"reputation": 262567, "user_id": 748858, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/17gYz.png?s=128&g=1", "display_name": "mgilson", "link": "https://stackoverflow.com/users/748858/mgilson"}, "edited": false, "score": 0, "creation_date": 1449693827, "post_id": 34188578, "comment_id": 56123548, "body": "You probably want <code>z.pop(char, None)</code> rather than <code>z = z.pop(char)</code>."}, {"owner": {"reputation": 2485, "user_id": 5012922, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/86b4022c5d3c7a62d0726bead1e03fd6?s=128&d=identicon&r=PG&f=1", "display_name": "SirParselot", "link": "https://stackoverflow.com/users/5012922/sirparselot"}, "edited": false, "score": 1, "creation_date": 1449693861, "post_id": 34188578, "comment_id": 56123569, "body": "just use <code>del z[char]</code> instead of <code>pop</code>"}, {"owner": {"reputation": 23220, "user_id": 1004096, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/d0bd5ec4d97233e5f9f5f74bd6f02357?s=128&d=identicon&r=PG", "display_name": "Bi Rico", "link": "https://stackoverflow.com/users/1004096/bi-rico"}, "edited": false, "score": 0, "creation_date": 1449694245, "post_id": 34188578, "comment_id": 56123771, "body": "You should include the expected output in your question."}], "answers": [{"comments": [{"owner": {"reputation": 262567, "user_id": 748858, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/17gYz.png?s=128&g=1", "display_name": "mgilson", "link": "https://stackoverflow.com/users/748858/mgilson"}, "edited": false, "score": 1, "creation_date": 1449693905, "post_id": 34188607, "comment_id": 56123586, "body": "or <code>z.pop(char, None)</code> if you want to avoid key errors from words that appear multiple times..."}], "tags": [], "owner": {"reputation": 118519, "user_id": 244297, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0e726125e86b084ffec695e845b360b7?s=128&d=identicon&r=PG", "display_name": "Eugene Yarmash", "link": "https://stackoverflow.com/users/244297/eugene-yarmash"}, "is_accepted": false, "score": 4, "last_activity_date": 1449694093, "last_edit_date": 1449694093, "creation_date": 1449693858, "answer_id": 34188607, "question_id": 34188578, "link": "https://stackoverflow.com/questions/34188578/python-loop-through-list-and-remove-from-dictionary/34188607#34188607", "title": "Python - Loop Through List and Remove from Dictionary", "body": "<p><code>z.pop(char)</code> removes the key <code>char</code> and returns the corresponing value. Replace </p>\n\n<pre><code>z = z.pop(char)  \n</code></pre>\n\n<p>with </p>\n\n<pre><code>z.pop(char)  \n</code></pre>\n\n<p>or use <code>del z[char]</code>.</p>\n"}], "owner": {"reputation": 99, "user_id": 4548789, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh3.googleusercontent.com/-mHi2FoyMQkU/AAAAAAAAAAI/AAAAAAAAAI0/NqFYBr_z7ps/photo.jpg?sz=128", "display_name": "AidKulesh", "link": "https://stackoverflow.com/users/4548789/aidkulesh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1449696169, "creation_date": 1449693738, "last_edit_date": 1449693837, "question_id": 34188578, "link": "https://stackoverflow.com/questions/34188578/python-loop-through-list-and-remove-from-dictionary", "title": "Python - Loop Through List and Remove from Dictionary", "body": "<p>My goal is to simply loop through a string, look up each character in the keys of a dictionary, and remove that key. This is what I have now:</p>\n\n<pre><code>def m(z,word):\n    for char in word:\n        if char in z:\n            z = z.pop(char)      \n        else:\n            return False\n    print True\n    return z\n\nprint m({'m':1,'y':2,'z':3},'my')\n</code></pre>\n\n<p>I understand the error \"argument of type 'int' is not iterable,\" but I'm not clear on the most straightforward way of correcting this. </p>\n"}, {"tags": ["python", "class"], "answers": [{"tags": [], "owner": {"reputation": 400, "user_id": 4305060, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/8fa68ce5680fdde5a5bed4083e971ea6?s=128&d=identicon&r=PG&f=1", "display_name": "WillaB", "link": "https://stackoverflow.com/users/4305060/willab"}, "is_accepted": false, "score": 0, "last_activity_date": 1449872798, "creation_date": 1449872798, "answer_id": 34233563, "question_id": 34188555, "link": "https://stackoverflow.com/questions/34188555/selecting-a-subclass-from-a-set-of-subclasses-to-be-used-the-in-the-main-program/34233563#34233563", "title": "Selecting a subclass from a set of subclasses to be used the in the main program, using a command line input parameter", "body": "<p>After discussing this with a colleague, he suggested a way of doing this that is cleaner and easier:</p>\n\n<ol>\n<li><p>Make the subclasses modular: tests.py will only hold the base class. Each subclass will be its own module (and import tests so the base class will be inherited).</p></li>\n<li><p>Dynamically import the test module into main.py:</p>\n\n<pre><code>try:\n    test_mod = __import__(case) \nexcept ImportError:\n    # exit program if import fails\n    raise SystemExit\n</code></pre></li>\n<li><p>Instantiate the instance:</p>\n\n<pre><code>ctest = getattr(test_mod, case)\n# in1, in2 will be used in every subclass and are global variables\na_test = test(in1, in2)\na_test.get_input(config)\n</code></pre></li>\n</ol>\n\n<p>where <code>get_input()</code> is a function in each subclass that grabs the necessary input parameters for the given test case:</p>\n\n<p>(for example, for Test2 subclass)</p>\n\n<pre><code>    def get_input(self, config):\n        self.intvar1 = config.getint(\"test2\", \"intvar1\")\n        self.intvar2 = config.getint(\"test2\", \"intvar2\")\n</code></pre>\n\n<p>and <code>config = ConfigParser.RawConfigParser()</code> </p>\n"}], "owner": {"reputation": 400, "user_id": 4305060, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/8fa68ce5680fdde5a5bed4083e971ea6?s=128&d=identicon&r=PG&f=1", "display_name": "WillaB", "link": "https://stackoverflow.com/users/4305060/willab"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 79, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1449872798, "creation_date": 1449693637, "question_id": 34188555, "link": "https://stackoverflow.com/questions/34188555/selecting-a-subclass-from-a-set-of-subclasses-to-be-used-the-in-the-main-program", "title": "Selecting a subclass from a set of subclasses to be used the in the main program, using a command line input parameter", "body": "<p>I'm trying to create a way to call a generic subclass in the main program, where the specific subclasses that can be chosen from can have unique input arguments. </p>\n\n<p>I have a main program, main.py, that compares the results of a given test to the results of a basic model. The different tests are subclasses stored in the module tests.py. I'm trying to work out the best way to call any given test (subclass) in main.py by providing a command line input parameter. (Each subclass can have a different number of arguments, and some are supplied by a config file.) </p>\n\n<p>My current approach works, but it feels clunky and like there should be a better way:</p>\n\n<ol>\n<li><p>In the main program, main.py, I use a dictionary to select the subclass I want:</p>\n\n<p><code>test_case = tests.select_subclass(case)</code> (example of function below)</p></li>\n</ol>\n\n<p>where </p>\n\n<p><code>tests.py</code> is the module holding the various subclasses, and the function <em>select_subclass</em>;\n<code>case</code> is provided as an input parameter in the command line</p>\n\n<ol start=\"2\">\n<li><p>I use <code>eval</code> to initialize the given test case:</p>\n\n<p><code>test = eval(test_case)</code></p></li>\n<li><p>and then use a run function in the given subclass to run the function as needed:</p>\n\n<p><code>test.run(x, y)</code></p></li>\n</ol>\n\n<p>where <code>x</code> and <code>y</code> are the two variables that are required in the run function of each subclass.</p>\n\n<p>In <code>tests.py</code>, </p>\n\n<pre><code>def select_subclass(key): \n\n    subclss_dict = {\n            \u2018Test1\u2019: \u2018tests.Test1(in1, in2)\u2019\n            \u2018Test2\u2019: \u2018tests.Test2(config.getint(\u201ctest2\u201d, \u201cintvar1\u201d),' \n                     'config.getint(\u201ctest2\u201d, \u201cintvar2\u201d), in1, in2)\u2019\n            \u2018Test3\u2019: \u2018tests.Test3(config.get(\u201ctest3\u201d, \u201cvar1\u201d),' \n                     'config.getint(\u201ctest3\u201d, \u201cintvar\u201d),'          \n                     'config.get(\u201ctest3\u201d, \u201cvar2\u201d), in1, in2)\u2019\n                      }\n</code></pre>\n\n<p>where input variables for some subclasses are being read from an ini config file.</p>\n\n<p>I'm using python 2.7</p>\n\n<p>I\u2019m still getting used to effectively using classes, and any suggestions on how to do this in a cleaner/better way would be appreciated.</p>\n"}, {"tags": ["python", "sockets"], "comments": [{"owner": {"reputation": 2301, "user_id": 1168212, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oayHK.jpg?s=128&g=1", "display_name": "Alex Yu", "link": "https://stackoverflow.com/users/1168212/alex-yu"}, "edited": false, "score": 0, "creation_date": 1449698199, "post_id": 34188497, "comment_id": 56125844, "body": "I suppose that you need break from your infinite loop on empty sock.recv. You are trying to read infinitely even when socket closed by client."}], "answers": [{"comments": [{"owner": {"reputation": 3925, "user_id": 3815611, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26b153a6443c973aea03f8314127f33a?s=128&d=identicon&r=PG&f=1", "display_name": "BlackJack", "link": "https://stackoverflow.com/users/3815611/blackjack"}, "edited": false, "score": 0, "creation_date": 1449744239, "post_id": 34195999, "comment_id": 56144500, "body": "Another issue is threading: It doesn&#39;t work this way. Thread subclasses need to implement a <code>run()</code> method and instances need to be <code>start()</code>ed in order to run code in a separate thread."}], "tags": [], "owner": {"reputation": 3004, "user_id": 4166517, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/667edb95b14a0c7d1a8c7307491bf438?s=128&d=identicon&r=PG&f=1", "display_name": "u354356007", "link": "https://stackoverflow.com/users/4166517/u354356007"}, "is_accepted": false, "score": 1, "last_activity_date": 1449732454, "creation_date": 1449732454, "answer_id": 34195999, "question_id": 34188497, "link": "https://stackoverflow.com/questions/34188497/waiting-in-server-for-a-massage-from-client-in-python-socket-programming/34195999#34195999", "title": "waiting in server for a massage from client in python socket programming", "body": "<p>Several issues here.</p>\n\n<p><strong>First one</strong>. When a client connects (<code>clientConn, clientAddr = self.sock.accept()</code>), a socket <code>clientConn</code> is created. You use this socket to communicate with the client, not <code>self.sock</code>. In your loop, <code>clientNameReq = self.sock.recv(10)</code> should be changed to <code>clientNameReq = clientConn.recv(10)</code>.</p>\n\n<p><strong>Second one</strong>. Having the loop corrected</p>\n\n<pre><code>while (1):\n    clientNameReq = clientConn.recv(10)\n    print(\"A\")\n</code></pre>\n\n<p>program has no chance to go outside this loop. It's just infinite. Make sure to introduce some kind of condition here.</p>\n\n<pre><code>got_the_name = False\nwhile not got_the_name:\n    clientNameReq += clientConn.recv(10)\n    got_the_name = foo(clientNameReq)\n</code></pre>\n\n<p><strong>Third one</strong>. Please note, in the last piece of code I changed <code>clientNameReq =</code> to <code>clientNameReq +=</code>. I did it because <a href=\"http://blog.stephencleary.com/2009/04/message-framing.html\" rel=\"nofollow\">in TCP, message boundaries are not preserved</a>. The same thing applies to the client code in the following line <code>RegReqResp = self.sock.recv(1024)</code></p>\n\n<p><strong>Fourth one</strong>. Not sure why you need <code>SO_REUSEADDR</code> option set.</p>\n\n<hr>\n\n<p>Just on a separate note, Python has its own coding style guide: <a href=\"https://www.python.org/dev/peps/pep-0008/\" rel=\"nofollow\">PEP8</a>. Obviously, no one is obliged to follow it, but I think you'll find this read interesting.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user5201134"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1045, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1449732454, "creation_date": 1449693433, "question_id": 34188497, "link": "https://stackoverflow.com/questions/34188497/waiting-in-server-for-a-massage-from-client-in-python-socket-programming", "title": "waiting in server for a massage from client in python socket programming", "body": "<p>i want to follow this steps:\n1.client send an initiate connection request to the server\n2.server accept the request(or not accept)\n3.server wait until the client send a <code>username</code>\n4.client ask the user a name for <code>username</code>\n5.server after receiving the massge containing the <code>username</code> from the client check if it is not exist and the make a new thread for this connection and register the connection.</p>\n\n<p>this is my server code:</p>\n\n<pre><code>import socket\nimport threading\n\nclass mainServer(threading.Thread):\n    userRegistered = list()\n    clntNames = list()\n\n    def __init__(self):\n        threading.Thread.__init__(self)\n        self.sock = socket.socket(socket.AF_INET, socket.SOCK_STREAM)\n        self.sock.setsockopt(socket.SOL_SOCKET, socket.SO_REUSEADDR, 1)\n        self.sock.bind(('127.0.0.1', 14269))\n        self.sock.listen(5)\n\n        while True:\n            clientConn, clientAddr = self.sock.accept()\n            print(\"Got connection from\", clientAddr)\n\n            clientNameReq = \"\"\n            while (1):\n                clientNameReq = self.sock.recv(10)\n                print(\"A\")\n\n            clientConn.send(\"REG#OK\".encode())\n            if(clientNameReq.decode() not in mainServer.clntNames):\n                clientThread(clientConn, clientAddr, clientNameReq)            \n</code></pre>\n\n<p>the rest of code is removed!\nand this is client code:</p>\n\n<pre><code>import threading\nimport socket\nimport sys\nservername = '127.0.0.1'\nclass mainClients(threading.Thread):\n    def __init__(self, threadID, HOST, PORT):\n        threading.Thread.__init__(self)\n        self.id = threadID\n        self.port = PORT\n        self.host = HOST\n        self.sock = socket.socket(socket.AF_INET, socket.SOCK_STREAM)\n        try:\n            self.sock.connect((self.host, self.port))\n        except:\n            print (\"Unexpected error:\", sys.exc_info()[0])\n            raise\n        clientName = input(\"Please enter your username:\")\n        RegReq = \"REG#EMAD\"\n        self.sock.send(RegReq.encode())\n        RegReqResp = self.sock.recv(1024)\n    if (RegReqResp.decode()==\"REG#OK\"):\n        print(\"Ok Shod\")\nmainthread = mainClients(1, servername, 14269)\n</code></pre>\n\n<p>i get <code>OSError: [Errno 107] Transport endpoint is not connected</code> error for line 21 ( clientNameReq = self.sock.recv(10) ) from server code.\nin that line i want from server to wait until a massage come from the client.</p>\n"}, {"tags": ["python", "matplotlib"], "answers": [{"tags": [], "owner": {"reputation": 4730, "user_id": 4524746, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/O45fL.jpg?s=128&g=1", "display_name": "jonchar", "link": "https://stackoverflow.com/users/4524746/jonchar"}, "is_accepted": false, "score": 1, "last_activity_date": 1449693999, "creation_date": 1449693999, "answer_id": 34188641, "question_id": 34188248, "link": "https://stackoverflow.com/questions/34188248/proper-alignment-of-labels-in-matplotlib/34188641#34188641", "title": "Proper alignment of labels in matplotlib", "body": "<p>You can use the <code>set_label_coords()</code> method of the <code>ax.yaxis</code> to define the (x, y) location of the label. You'll also probably want to use the <code>va</code> keyword argument as well. Putting them together you'd have:</p>\n\n<pre><code>fig, ax = plt.subplots()\nax.set_ylabel('horizontal\\nmultiline label', rotation=0, ha='left', va='center')\nax.yaxis.set_label_coords(-0.25, 0.5)\n</code></pre>\n\n<p>Which should output this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/rrqw0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rrqw0.png\" alt=\"horizontal_label.png\"></a></p>\n\n<p>Adjust the values passed to <code>set_label_coords()</code> as desired.</p>\n"}, {"tags": [], "owner": {"reputation": 62045, "user_id": 1461210, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fa93b9461ed24899945403cae69e02ee?s=128&d=identicon&r=PG", "display_name": "ali_m", "link": "https://stackoverflow.com/users/1461210/ali-m"}, "is_accepted": true, "score": 7, "last_activity_date": 1449694948, "last_edit_date": 1592644375, "creation_date": 1449694471, "answer_id": 34188777, "question_id": 34188248, "link": "https://stackoverflow.com/questions/34188248/proper-alignment-of-labels-in-matplotlib/34188777#34188777", "title": "Proper alignment of labels in matplotlib", "body": "<p>You can use the <a href=\"http://matplotlib.org/api/text_api.html?highlight=text#matplotlib.text.Text.set_multialignment\" rel=\"noreferrer\"><code>multialignment</code></a> (<code>ma=</code>) parameter:</p>\n<blockquote>\n<p><code>set_multialignment(align)</code></p>\n<p>Set the alignment for multiple lines layout. The layout of the bounding box of all the lines is determined by the <code>horizontalalignment</code> and <code>verticalalignment</code> properties, but the multiline text within that box can be</p>\n<p>ACCEPTS: [\u2018left\u2019 | \u2018right\u2019 | \u2018center\u2019 ]</p>\n</blockquote>\n<pre><code>plt.ylabel('horizontal\\nmultiline label', ha='right', va='center', ma='left',\n           rotation=0)\nplt.tight_layout()\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/72FtB.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/72FtB.png\" alt=\"enter image description here\" /></a></p>\n"}], "owner": {"reputation": 24601, "user_id": 17523, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/22d41e5b6ff197cd7900c0514d1bd305?s=128&d=identicon&r=PG", "display_name": "Boris Gorelik", "link": "https://stackoverflow.com/users/17523/boris-gorelik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1638, "favorite_count": 0, "accepted_answer_id": 34188777, "answer_count": 2, "score": 2, "last_activity_date": 1449694948, "creation_date": 1449692481, "last_edit_date": 1449694548, "question_id": 34188248, "link": "https://stackoverflow.com/questions/34188248/proper-alignment-of-labels-in-matplotlib", "title": "Proper alignment of labels in matplotlib", "body": "<p>I don't like vertical labels for Y axis. Thus, I tend to do:</p>\n\n<pre><code>plt.ylabel('horizontal label', \n      rotation=0)\n</code></pre>\n\n<p>Which results in a nice label:</p>\n\n<p><a href=\"https://i.stack.imgur.com/dba7b.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dba7b.png\" alt=\"one-line label\"></a></p>\n\n<p>However, if the required label contains more than one lines, the results is suboptimal:</p>\n\n<pre><code>plt.ylabel('horizontal\\nmultiline label', \n     rotation=0, ha='right')\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/4H8tx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4H8tx.png\" alt=\"Multiline label\"></a></p>\n\n<p>Changing to <code>ha='left'</code> doesn't do the right job</p>\n\n<p><a href=\"https://i.stack.imgur.com/fMHMi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fMHMi.png\" alt=\"bad alignment\"></a></p>\n\n<p>Is there a simple way to achieve this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/tH0Uh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tH0Uh.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["c#", "python", ".net", "gradle", "msbuild"], "comments": [{"owner": {"reputation": 5521, "user_id": 4546874, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/4800Y.png?s=128&g=1", "display_name": "F\u1d00\u0280\u029c\u1d00\u0274 A\u0274\u1d00\u1d0d", "link": "https://stackoverflow.com/users/4546874/f%e1%b4%80%ca%80%ca%9c%e1%b4%80%c9%b4-a%c9%b4%e1%b4%80%e1%b4%8d"}, "edited": false, "score": 0, "creation_date": 1449692158, "post_id": 34188129, "comment_id": 56122601, "body": "If you have the <code>.cs</code> files, you need a compiler."}, {"owner": {"reputation": 41, "user_id": 2310430, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/acfd7e31b3f4a78b7b59849350ba5ef3?s=128&d=identicon&r=PG", "display_name": "pavan", "link": "https://stackoverflow.com/users/2310430/pavan"}, "reply_to_user": {"reputation": 5521, "user_id": 4546874, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/4800Y.png?s=128&g=1", "display_name": "F\u1d00\u0280\u029c\u1d00\u0274 A\u0274\u1d00\u1d0d", "link": "https://stackoverflow.com/users/4546874/f%e1%b4%80%ca%80%ca%9c%e1%b4%80%c9%b4-a%c9%b4%e1%b4%80%e1%b4%8d"}, "edited": false, "score": 0, "creation_date": 1449692382, "post_id": 34188129, "comment_id": 56122736, "body": "Assume .cs files are properly compiled and can be copied directly to a solution/dll"}, {"owner": {"reputation": 8643, "user_id": 1718554, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/n3jD1.jpg?s=128&g=1", "display_name": "Luke Joshua Park", "link": "https://stackoverflow.com/users/1718554/luke-joshua-park"}, "edited": false, "score": 1, "creation_date": 1449692450, "post_id": 34188129, "comment_id": 56122773, "body": "Have a look at the <code>CSharpCodeProvider</code> class.  You can call the C# compiler from code."}, {"owner": {"reputation": 26578, "user_id": 2266713, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/94d90a105c49621394a786e50777aade?s=128&d=identicon&r=PG", "display_name": "Jason P", "link": "https://stackoverflow.com/users/2266713/jason-p"}, "edited": false, "score": 0, "creation_date": 1449692455, "post_id": 34188129, "comment_id": 56122774, "body": "Can you add some more detail about what problem you&#39;re trying to solve? Are you looking for something like a build controller that can compile your code without someone actually clicking Build in VS? Do you need to compile source files at runtime that are unknown at build time?"}, {"owner": {"reputation": 41, "user_id": 2310430, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/acfd7e31b3f4a78b7b59849350ba5ef3?s=128&d=identicon&r=PG", "display_name": "pavan", "link": "https://stackoverflow.com/users/2310430/pavan"}, "edited": false, "score": 0, "creation_date": 1449692920, "post_id": 34188129, "comment_id": 56123051, "body": "Yes, I have around 100-200 files present in nested folders I need to compile them and build a dll file with out touching VS if possible."}, {"owner": {"reputation": 41, "user_id": 2310430, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/acfd7e31b3f4a78b7b59849350ba5ef3?s=128&d=identicon&r=PG", "display_name": "pavan", "link": "https://stackoverflow.com/users/2310430/pavan"}, "edited": false, "score": 0, "creation_date": 1449693245, "post_id": 34188129, "comment_id": 56123226, "body": "Eg:- I need something like build tool(gradle/maven), which takes all the files and generate a jar in java. Am looking to generate the dll using the cs files in the same manner"}], "answers": [{"tags": [], "owner": {"reputation": 1302, "user_id": 1463733, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d379f3e2d6570f428495f57bdcefdd86?s=128&d=identicon&r=PG", "display_name": "Ahmad", "link": "https://stackoverflow.com/users/1463733/ahmad"}, "is_accepted": false, "score": 0, "last_activity_date": 1449692627, "creation_date": 1449692627, "answer_id": 34188286, "question_id": 34188129, "link": "https://stackoverflow.com/questions/34188129/build-tool-for-c-similar-to-maven-gradle-for-java/34188286#34188286", "title": "Build tool for c# similar to maven/gradle for java", "body": "<p>Have a look at <a href=\"https://msdn.microsoft.com/en-us/library/78f4aasd.aspx\" rel=\"nofollow\">Command-line Building With csc.exe</a></p>\n"}], "owner": {"reputation": 41, "user_id": 2310430, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/acfd7e31b3f4a78b7b59849350ba5ef3?s=128&d=identicon&r=PG", "display_name": "pavan", "link": "https://stackoverflow.com/users/2310430/pavan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1141, "favorite_count": 0, "closed_date": 1449692364, "answer_count": 1, "score": 0, "last_activity_date": 1449694828, "creation_date": 1449691966, "last_edit_date": 1449694828, "question_id": 34188129, "link": "https://stackoverflow.com/questions/34188129/build-tool-for-c-similar-to-maven-gradle-for-java", "closed_reason": "Duplicate", "title": "Build tool for c# similar to maven/gradle for java", "body": "<p>Am pretty new to c#(Basically Java Developer). We've a requirement to generate the c# solution (dll) programmatically.</p>\n\n<p><strong>Folder Structure</strong></p>\n\n<pre><code>Root\n\n  |-- model\n\n         |     |--- A.cs\n         |     |--- B.cs\n\n  |-- service\n\n        |     |---- AService.cs\n        |     |---- BService.cs\n</code></pre>\n\n<p>Assume We've cs files present in a folder called root as above. We need to create a dll for the above using programmatic way.</p>\n\n<ol>\n<li>What's the best preferred way of doing it? (A sample code will be preferable if any)</li>\n<li>Can't we generate the c# dll using python (or) some other language if we've the cs files?</li>\n</ol>\n\n<p><strong>I need something like build tool(gradle/maven), which takes all the files and generate a jar in java. Am looking to generate the dll using cs files in the same manner</strong></p>\n\n<p>While trying to find out solutions for the same found below options but am looking for a recommended way of doing it:</p>\n\n<ol>\n<li>c# Project Templates</li>\n<li>c# Add-ins</li>\n</ol>\n\n<p>Thanks in advance!!!</p>\n"}, {"tags": ["python", "algorithm", "recursion"], "comments": [{"owner": {"reputation": 14673, "user_id": 296460, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/FGDo8.jpg?s=128&g=1", "display_name": "shuttle87", "link": "https://stackoverflow.com/users/296460/shuttle87"}, "edited": false, "score": 0, "creation_date": 1449692029, "post_id": 34188072, "comment_id": 56122519, "body": "Just to clarify <code>partial([a, b, c])</code> creates: <code>[[a], [b], [c], [a,b], [a,c], [b,c], [a,b,c]]</code>?"}, {"owner": {"reputation": 7204, "user_id": 4333347, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6b091d5e3973e6f65ec16442c3b1b16b?s=128&d=identicon&r=PG", "display_name": "buydadip", "link": "https://stackoverflow.com/users/4333347/buydadip"}, "reply_to_user": {"reputation": 14673, "user_id": 296460, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/FGDo8.jpg?s=128&g=1", "display_name": "shuttle87", "link": "https://stackoverflow.com/users/296460/shuttle87"}, "edited": false, "score": 0, "creation_date": 1449692077, "post_id": 34188072, "comment_id": 56122540, "body": "@shuttle87 yeah thats what it does, it also includes empty list but that&#39;s not necessary"}, {"owner": {"reputation": 14673, "user_id": 296460, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/FGDo8.jpg?s=128&g=1", "display_name": "shuttle87", "link": "https://stackoverflow.com/users/296460/shuttle87"}, "edited": false, "score": 0, "creation_date": 1449692233, "post_id": 34188072, "comment_id": 56122639, "body": "What are the other parameters used for here? If the only task is to generate the <a href=\"https://en.wikipedia.org/wiki/Power_set\" rel=\"nofollow noreferrer\">power set</a> this is fairly easy using itertools."}, {"owner": {"reputation": 7204, "user_id": 4333347, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6b091d5e3973e6f65ec16442c3b1b16b?s=128&d=identicon&r=PG", "display_name": "buydadip", "link": "https://stackoverflow.com/users/4333347/buydadip"}, "reply_to_user": {"reputation": 14673, "user_id": 296460, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/FGDo8.jpg?s=128&g=1", "display_name": "shuttle87", "link": "https://stackoverflow.com/users/296460/shuttle87"}, "edited": false, "score": 0, "creation_date": 1449692314, "post_id": 34188072, "comment_id": 56122691, "body": "@shuttle87 the other parameters are the counter, and the list of lists, so you would run it as so <code>partial(list, 0,[])</code>."}, {"owner": {"reputation": 1205, "user_id": 4667934, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hk11W.jpg?s=128&g=1", "display_name": "LinkBerest", "link": "https://stackoverflow.com/users/4667934/linkberest"}, "edited": false, "score": 0, "creation_date": 1449693569, "post_id": 34188072, "comment_id": 56123409, "body": "if it is for creating powersets I&#39;d have a look at <a href=\"https://stackoverflow.com/questions/18826571/python-powerset-of-a-given-set-with-generators\">powerset of a given set</a> - which has both the generator and linear itertools methods listed"}], "answers": [{"comments": [{"owner": {"reputation": 14673, "user_id": 296460, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/FGDo8.jpg?s=128&g=1", "display_name": "shuttle87", "link": "https://stackoverflow.com/users/296460/shuttle87"}, "edited": false, "score": 0, "creation_date": 1449693145, "post_id": 34188150, "comment_id": 56123169, "body": "I like the overall idea here but I&#39;d avoid using strings here for the indexing."}, {"owner": {"reputation": 3882, "user_id": 1040597, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/c993933eeeb895833f1938b8c1308964?s=128&d=identicon&r=PG&f=1", "display_name": "Saeid", "link": "https://stackoverflow.com/users/1040597/saeid"}, "reply_to_user": {"reputation": 14673, "user_id": 296460, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/FGDo8.jpg?s=128&g=1", "display_name": "shuttle87", "link": "https://stackoverflow.com/users/296460/shuttle87"}, "edited": false, "score": 0, "creation_date": 1449693252, "post_id": 34188150, "comment_id": 56123231, "body": "I don&#39;t understand. Which part do you mean?"}, {"owner": {"reputation": 14673, "user_id": 296460, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/FGDo8.jpg?s=128&g=1", "display_name": "shuttle87", "link": "https://stackoverflow.com/users/296460/shuttle87"}, "edited": false, "score": 0, "creation_date": 1449693316, "post_id": 34188150, "comment_id": 56123267, "body": "This answer <a href=\"http://stackoverflow.com/a/34188401/296460\">stackoverflow.com/a/34188401/296460</a> does something very similar to your approach but does not use any strings."}, {"owner": {"reputation": 14673, "user_id": 296460, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/FGDo8.jpg?s=128&g=1", "display_name": "shuttle87", "link": "https://stackoverflow.com/users/296460/shuttle87"}, "edited": false, "score": 0, "creation_date": 1449693445, "post_id": 34188150, "comment_id": 56123335, "body": "Essentially the numbers are <i>already</i> binary in the computer, you just need to do bitwise operations on them to extract the information you need. By creating a string that contains the ascii characters for &#39;0&#39; and &#39;1&#39; then testing against that you are essentially creating at the minimum 8times more memory usage because each ascii character needs to be stored in 8 bits at the minimum."}, {"owner": {"reputation": 3882, "user_id": 1040597, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/c993933eeeb895833f1938b8c1308964?s=128&d=identicon&r=PG&f=1", "display_name": "Saeid", "link": "https://stackoverflow.com/users/1040597/saeid"}, "reply_to_user": {"reputation": 14673, "user_id": 296460, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/FGDo8.jpg?s=128&g=1", "display_name": "shuttle87", "link": "https://stackoverflow.com/users/296460/shuttle87"}, "edited": false, "score": 0, "creation_date": 1449693612, "post_id": 34188150, "comment_id": 56123430, "body": "Yes I know and you are right. I just wanted to show what really happens and print the output of each iteration. But I totally agree with you."}], "tags": [], "owner": {"reputation": 3882, "user_id": 1040597, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/c993933eeeb895833f1938b8c1308964?s=128&d=identicon&r=PG&f=1", "display_name": "Saeid", "link": "https://stackoverflow.com/users/1040597/saeid"}, "is_accepted": true, "score": 4, "last_activity_date": 1449694398, "last_edit_date": 1449694398, "creation_date": 1449692065, "answer_id": 34188150, "question_id": 34188072, "link": "https://stackoverflow.com/questions/34188072/translating-a-recursive-solution-to-find-all-subsets-of-a-list/34188150#34188150", "title": "translating a recursive solution to find all subsets of a list", "body": "<p>As there are <code>2**n</code> subsets (<code>n</code> is length of the list). You can create a counter from <code>0</code> to <code>2**(n-1)</code>. Then create a list (which is a subset) in each iteration by adding the elements who's corresponding bit is set to <code>1</code> in the counter binary form.</p>\n\n<pre><code>counter = 5\nbinary_form = 101\nyou create a subset using first and third element of the original list\n\ncounter = 7\nbinary_form = 111\nyou create a subset using first, second and third element of the original list\n</code></pre>\n\n<p>One could implement this like this,</p>\n\n<pre><code>result = [] \nA = [1,2,3,4]\nfor i in range(0,2**len(A)):\n    binary = bin(i)[2:] \n    binary = '0'*(len(A)-len(binary)) + binary\n    subset = [ A[i] for i,x in enumerate(binary) if x=='1' ]\n    print binary,subset\n    result.append(subset)\nprint result\n</code></pre>\n\n<p>Output</p>\n\n<pre><code>0000 []\n0001 [4]\n0010 [3]\n0011 [3, 4]\n0100 [2]\n0101 [2, 4]\n0110 [2, 3]\n0111 [2, 3, 4]\n1000 [1]\n1001 [1, 4]\n1010 [1, 3]\n1011 [1, 3, 4]\n1100 [1, 2]\n1101 [1, 2, 4]\n1110 [1, 2, 3]\n1111 [1, 2, 3, 4]\n</code></pre>\n\n<p>But as mentioned in comments and other answers it is better not to make the binary string. If you want to check if a certain bit is set, you can shift <code>1</code> by desired amount and do a bitwise-and with that number. For example to check if the <code>third</code> bit is set in <code>423</code> you can do this:</p>\n\n<pre><code>number = 423\nif number &amp; 1&lt;&lt;3:\n    print 'this bit is set'\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 14673, "user_id": 296460, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/FGDo8.jpg?s=128&g=1", "display_name": "shuttle87", "link": "https://stackoverflow.com/users/296460/shuttle87"}, "is_accepted": false, "score": 1, "last_activity_date": 1449693021, "last_edit_date": 1449693021, "creation_date": 1449692695, "answer_id": 34188304, "question_id": 34188072, "link": "https://stackoverflow.com/questions/34188072/translating-a-recursive-solution-to-find-all-subsets-of-a-list/34188304#34188304", "title": "translating a recursive solution to find all subsets of a list", "body": "<p>Essentially building the list of subsets is the same as building the list of all combinations of sizes 1 through to length of the input. So one solution involves using <a href=\"https://docs.python.org/3/library/itertools.html\" rel=\"nofollow\">itertools</a>:</p>\n\n<pre><code>import itertools\n\ndef all_subsets(l):\n    res = []\n    for subset_len in range(1, len(l)+1):\n        for combo in itertools.combinations(l, subset_len):\n            res.append(combo)\n    return res\n\ndata = [1, 2, 3, 4]\nprint(all_subsets(data))\n</code></pre>\n\n<p>see this in action here: <a href=\"http://ideone.com/geTdUS\" rel=\"nofollow\">http://ideone.com/geTdUS</a></p>\n\n<p>The main reason I'd shy away from using recursion too much in a case such as this is because you might end up with a very large number of recursive calls and the maximum recursion depth in Python might not be deep enough. That said I'm not entirely sure how large an input size this itertools solution will work for.</p>\n"}, {"tags": [], "owner": {"reputation": 302, "user_id": 3812388, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e09cebdb4c457b75201583658fa61f9f?s=128&d=identicon&r=PG&f=1", "display_name": "Cychih", "link": "https://stackoverflow.com/users/3812388/cychih"}, "is_accepted": false, "score": 2, "last_activity_date": 1449693398, "last_edit_date": 1449693398, "creation_date": 1449693048, "answer_id": 34188401, "question_id": 34188072, "link": "https://stackoverflow.com/questions/34188072/translating-a-recursive-solution-to-find-all-subsets-of-a-list/34188401#34188401", "title": "translating a recursive solution to find all subsets of a list", "body": "<p>As @sudomakeinstall2 mentioned, you can use a counter from <code>0</code> to <code>2**(n-1)</code> to iterate over the list, and use it as the mask to pick values from <code>alist</code>.</p>\n\n<pre><code>def partial(alist):\n    result = []\n    for i in range(2 ** len(alist)): # iterate over all results\n        tmp = []\n        for j in range(len(alist)):\n            if (2 ** j) &amp; i:         # use bit mask to pick the value\n                tmp.append(alist[j])\n        result.append(tmp)\n\n    return result\n</code></pre>\n\n<p>The result may be very very large, you may want to create a generator to evaluate lazily.</p>\n\n<p>With list comprehension and generator:</p>\n\n<pre><code>def partial(alist):\n    for i in range(2 ** len(alist)):\n        yield [alist[j] for j in range(len(alist)) if 2 ** j &amp; i]\n</code></pre>\n\n<p>You can call it with</p>\n\n<pre><code>for i in partial([1, 2, 3]):\n    print(i)\n</code></pre>\n\n<p>or</p>\n\n<pre><code>result = list(partial([1, 2, 3]))\n</code></pre>\n"}], "owner": {"reputation": 7204, "user_id": 4333347, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6b091d5e3973e6f65ec16442c3b1b16b?s=128&d=identicon&r=PG", "display_name": "buydadip", "link": "https://stackoverflow.com/users/4333347/buydadip"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 490, "favorite_count": 0, "accepted_answer_id": 34188150, "answer_count": 3, "score": 0, "last_activity_date": 1449835158, "creation_date": 1449691784, "last_edit_date": 1449835158, "question_id": 34188072, "link": "https://stackoverflow.com/questions/34188072/translating-a-recursive-solution-to-find-all-subsets-of-a-list", "title": "translating a recursive solution to find all subsets of a list", "body": "<p>I was wondering if there was a relatively simple way to find all subsets of list iteratively. Using recursion, this is easily done and very concise...</p>\n\n<pre><code>def partial(alist, pos, chosen):\n    if pos == len(alist):\n        return [chosen]\n    else:\n        return partial(a list, pos+1, chosen) \\\n               + partial(alist, pos+1, chosen + [alist[pos]])\n</code></pre>\n\n<p>This will return a list of lists containing all subsets of a list.</p>\n\n<p>Is there a way to do something like this iteratively without it being overly complicated, or is recursion the best way? Some pseudo-code or something explaining a way to do this iteratively would be helpful. I know <code>itertools</code> is helpful but I would like a solution without the need for it if possible.</p>\n"}, {"tags": ["python", "function", "return"], "comments": [{"owner": {"reputation": 4923, "user_id": 4601386, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-4L6cUyO_qbs/AAAAAAAAAAI/AAAAAAAAEnY/wEBT7GB8tv8/photo.jpg?sz=128", "display_name": "tglaria", "link": "https://stackoverflow.com/users/4601386/tglaria"}, "edited": false, "score": 0, "creation_date": 1449691589, "post_id": 34187986, "comment_id": 56122255, "body": "Please, explain again what you want. That phrase &quot;return komanda to next function&quot; ... I have no idea what you mean."}, {"owner": {"reputation": 69452, "user_id": 953482, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/T3HH6.png?s=128&g=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/953482/kevin"}, "edited": false, "score": 1, "creation_date": 1449691690, "post_id": 34187986, "comment_id": 56122319, "body": "Are you asking &quot;how do I write a function with arguments?&quot;? Take a look at <a href=\"https://docs.python.org/3/tutorial/controlflow.html#defining-functions\" rel=\"nofollow noreferrer\">4.6 Defining Functions</a>."}, {"owner": {"reputation": 135, "user_id": 5634901, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/iMeIo.png?s=128&g=1", "display_name": "StefanTflch", "link": "https://stackoverflow.com/users/5634901/stefantflch"}, "edited": false, "score": 0, "creation_date": 1449691695, "post_id": 34187986, "comment_id": 56122323, "body": "It say me komanda not define and i must return in function unos()"}], "answers": [{"comments": [{"owner": {"reputation": 135, "user_id": 5634901, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/iMeIo.png?s=128&g=1", "display_name": "StefanTflch", "link": "https://stackoverflow.com/users/5634901/stefantflch"}, "edited": false, "score": 0, "creation_date": 1449692035, "post_id": 34188118, "comment_id": 56122521, "body": "This can help me but also, this two functions are just little part of program"}], "tags": [], "owner": {"reputation": 113, "user_id": 5483367, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e6fa9a6869d03957cc77474cac54f19c?s=128&d=identicon&r=PG&f=1", "display_name": "Sabyc90", "link": "https://stackoverflow.com/users/5483367/sabyc90"}, "is_accepted": false, "score": 0, "last_activity_date": 1449692291, "last_edit_date": 1449692291, "creation_date": 1449691920, "answer_id": 34188118, "question_id": 34187986, "link": "https://stackoverflow.com/questions/34187986/how-to-return-variable-in-another-function/34188118#34188118", "title": "how to return variable in another function", "body": "<p>I'm not very good with this, but it seems to me that <code>komanda</code> is a local variable.</p>\n\n<p>You could try making komanda a global variable, something like this</p>\n\n<pre><code>komanda = input(\"\\n&gt;&gt; \")\n\ndef provera(x):\n    while komanda not in (\"1\", \"2\"):\n        print(\"\\nUneli ste pogre\u0161nu komandu.\\n\")\n        unos()\n\ndef unos():\n\n    provera()\n\n    while komanda in (\"1\", \"2\"):\n        if komanda == \"1\":\n            unosNam()\n        if komanda == \"2\":\n            unosKat()\n</code></pre>\n\n<p>or you could try using <code>if</code> and <code>elif</code> to do everything in <code>provera()</code></p>\n\n<pre><code>if komanda == \"1\" or komanda == \"2\"\nunosNam()\nelse:\nprint(\"\\nUneli ste pogre\u0161nu komandu.\\n\")\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4923, "user_id": 4601386, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-4L6cUyO_qbs/AAAAAAAAAAI/AAAAAAAAEnY/wEBT7GB8tv8/photo.jpg?sz=128", "display_name": "tglaria", "link": "https://stackoverflow.com/users/4601386/tglaria"}, "is_accepted": false, "score": 1, "last_activity_date": 1449692118, "creation_date": 1449692118, "answer_id": 34188166, "question_id": 34187986, "link": "https://stackoverflow.com/questions/34187986/how-to-return-variable-in-another-function/34188166#34188166", "title": "how to return variable in another function", "body": "<p>First, explain CLEARLY what you're asking.\nIt's difficult to understand.</p>\n\n<p>Second, your code will enter in an infinite loop.\nIn <code>provera()</code> you're calling <code>unos()</code>function, and in <code>unos()</code> your calling <code>provera()</code> ... you'll never end.</p>\n\n<p>You have to explain what you want.</p>\n\n<p>Anyway, what I guess is that you want an argument to your function unos():</p>\n\n<pre><code>def unos(komanda):\n\n# provera()  --&gt; Remove this?\n\nwhile komanda in (\"1\", \"2\"):\n    if komanda == \"1\":\n        unosNam()\n    if komanda == \"2\":\n        unosKat()\n</code></pre>\n\n<p>And then call your function with an argument <code>unos(komanda)</code>.\nNone of these will work though as thery are, you'll have to rewrite your program.</p>\n"}, {"tags": [], "owner": {"reputation": 38371, "user_id": 3555845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e06f616d9a53b1ca18287d1049a28ee?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/3555845/daniel"}, "is_accepted": true, "score": 1, "last_activity_date": 1449692221, "creation_date": 1449692221, "answer_id": 34188192, "question_id": 34187986, "link": "https://stackoverflow.com/questions/34187986/how-to-return-variable-in-another-function/34188192#34188192", "title": "how to return variable in another function", "body": "<p>You should not call the function in circles. Just return <code>komanda</code> back to the caller in <code>unos</code>:</p>\n\n<pre><code>def provera():\n    while True:\n        komanda = input(\"\\n&gt;&gt; \")\n        if komanda in (\"1\", \"2\"):\n            break\n        print(\"\\nUneli ste pogre\u0161nu komandu.\\n\")\n    return komanda\n\ndef unos():\n    while True:\n        komanda = provera()\n        if komanda == \"1\":\n            unosNam()\n        elif komanda == \"2\":\n            unosKat()\n        else:\n            break\n</code></pre>\n"}], "owner": {"reputation": 135, "user_id": 5634901, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/iMeIo.png?s=128&g=1", "display_name": "StefanTflch", "link": "https://stackoverflow.com/users/5634901/stefantflch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "accepted_answer_id": 34188192, "answer_count": 3, "score": -3, "last_activity_date": 1449694773, "creation_date": 1449691480, "last_edit_date": 1449694773, "question_id": 34187986, "link": "https://stackoverflow.com/questions/34187986/how-to-return-variable-in-another-function", "title": "how to return variable in another function", "body": "<p><strong><em>SOLVED!</em></strong></p>\n\n<pre><code>def provera():\n\n    komanda = input(\"\\n&gt;&gt; \")\n    while komanda not in (\"1\", \"2\"):\n        print(\"\\nUneli ste pogre\u0161nu komandu.\\n\")\n        unos()\n</code></pre>\n\n<p>How i can return komanda to next function ?</p>\n\n<pre><code>def unos():\n\n    provera()\n\n    while komanda in (\"1\", \"2\"):\n        if komanda == \"1\":\n            unosNam()\n        if komanda == \"2\":\n            unosKat()\n</code></pre>\n\n<p>I have very bad problem with function return, if someone may provide me some tut with good explenation of functions in python</p>\n"}, {"tags": ["python", "matplotlib", "seaborn"], "comments": [{"owner": {"reputation": 12860, "user_id": 1168043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IBdCH.jpg?s=128&g=1", "display_name": "cphlewis", "link": "https://stackoverflow.com/users/1168043/cphlewis"}, "edited": false, "score": 0, "creation_date": 1449692717, "post_id": 34187970, "comment_id": 56122934, "body": "I think <a href=\"http://stackoverflow.com/questions/6230627/is-there-a-way-to-tell-matplotlib-to-loosen-the-zoom-on-the-plotted-data?lq=1\" title=\"is there a way to tell matplotlib to loosen the zoom on the plotted data\">stackoverflow.com/questions/6230627/&hellip;</a> has a better answer than the one you link. Does it work for you?  (P.S. - a <i>complete</i> small runnable example would be a lot more pleasant to work with. )"}, {"owner": {"reputation": 1342, "user_id": 4572586, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/c26df834b04e0871858d4b992912c7a9?s=128&d=identicon&r=PG&f=1", "display_name": "lgd", "link": "https://stackoverflow.com/users/4572586/lgd"}, "reply_to_user": {"reputation": 12860, "user_id": 1168043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IBdCH.jpg?s=128&g=1", "display_name": "cphlewis", "link": "https://stackoverflow.com/users/1168043/cphlewis"}, "edited": false, "score": 0, "creation_date": 1450232998, "post_id": 34187970, "comment_id": 56348128, "body": "@cphlewis: you are right i added a small complete example"}], "answers": [{"comments": [{"owner": {"reputation": 1342, "user_id": 4572586, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/c26df834b04e0871858d4b992912c7a9?s=128&d=identicon&r=PG&f=1", "display_name": "lgd", "link": "https://stackoverflow.com/users/4572586/lgd"}, "edited": false, "score": 0, "creation_date": 1450233030, "post_id": 34205235, "comment_id": 56348137, "body": "i added a complete example with <code>sns.tsplot</code> where this does not work."}, {"owner": {"reputation": 49128, "user_id": 588071, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0e0397d27c84e04451691ddb6c8d49c?s=128&d=identicon&r=PG&f=1", "display_name": "tmdavison", "link": "https://stackoverflow.com/users/588071/tmdavison"}, "reply_to_user": {"reputation": 1342, "user_id": 4572586, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/c26df834b04e0871858d4b992912c7a9?s=128&d=identicon&r=PG&f=1", "display_name": "lgd", "link": "https://stackoverflow.com/users/4572586/lgd"}, "edited": false, "score": 0, "creation_date": 1450284961, "post_id": 34205235, "comment_id": 56377265, "body": "This function still works fine for me. I&#39;ll update my example to show it in action on your minimal example."}], "tags": [], "owner": {"reputation": 49128, "user_id": 588071, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0e0397d27c84e04451691ddb6c8d49c?s=128&d=identicon&r=PG&f=1", "display_name": "tmdavison", "link": "https://stackoverflow.com/users/588071/tmdavison"}, "is_accepted": true, "score": 4, "last_activity_date": 1450285204, "last_edit_date": 1450285204, "creation_date": 1449759873, "answer_id": 34205235, "question_id": 34187970, "link": "https://stackoverflow.com/questions/34187970/setting-margins-in-matplotlib-seaborn-with-subplots/34205235#34205235", "title": "setting margins in matplotlib/seaborn with subplots", "body": "<p>You can define a function to add a given fraction of the <code>x</code> and <code>y</code> ranges to the margin, which makes use of <code>get_xlim</code>, <code>get_ylim</code>, <code>set_xlim</code> and <code>set_ylim</code>. Using your minimal example:</p>\n\n<pre><code>import matplotlib.pyplot as plt\nimport seaborn as sns\n\ndef add_margin(ax,x=0.05,y=0.05):\n    # This will, by default, add 5% to the x and y margins. You \n    # can customise this using the x and y arguments when you call it.\n\n    xlim = ax.get_xlim()\n    ylim = ax.get_ylim()\n\n    xmargin = (xlim[1]-xlim[0])*x\n    ymargin = (ylim[1]-ylim[0])*y\n\n    ax.set_xlim(xlim[0]-xmargin,xlim[1]+xmargin)\n    ax.set_ylim(ylim[0]-ymargin,ylim[1]+ymargin)\n\ngammas = sns.load_dataset(\"gammas\")\ns = plt.subplot(1, 1, 1)\nax = sns.tsplot(time=\"timepoint\", value=\"BOLD signal\",\n                unit=\"subject\", condition=\"ROI\",\n                err_style=\"ci_bars\",\n                interpolate=False,\n                data=gammas)\n\n# Check what the original limits were\nx0,y0=s.get_xlim(),s.get_ylim()\n\n# Update the limits using set_xlim and set_ylim\nadd_margin(s,x=0.05,y=0.01) ### Call this after tsplot \n\n# Check the new limits\nx1,y1=s.get_xlim(),s.get_ylim()\n\n# Print the old and new limits\nprint x0,y0\nprint x1,y1\n\nplt.show()\n</code></pre>\n\n<p>Which prints:</p>\n\n<pre><code># The original limits\n(-0.10101010101010099, 10.1010101010101) (-2.0, 3.0)\n# The updated limits\n(-0.61111111111111105, 10.611111111111111) (-2.0499999999999998, 3.0499999999999998)\n</code></pre>\n\n<p>And here's the figure this produces:</p>\n\n<p><a href=\"https://i.stack.imgur.com/nA2bI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nA2bI.png\" alt=\"enter image description here\"></a></p>\n\n<p>Which, when compared to the original figure, clearly has added margins:</p>\n\n<p><a href=\"https://i.stack.imgur.com/DNj3w.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DNj3w.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 1342, "user_id": 4572586, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/c26df834b04e0871858d4b992912c7a9?s=128&d=identicon&r=PG&f=1", "display_name": "lgd", "link": "https://stackoverflow.com/users/4572586/lgd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6771, "favorite_count": 0, "accepted_answer_id": 34205235, "answer_count": 1, "score": 0, "last_activity_date": 1450285204, "creation_date": 1449691412, "last_edit_date": 1495541388, "question_id": 34187970, "link": "https://stackoverflow.com/questions/34187970/setting-margins-in-matplotlib-seaborn-with-subplots", "title": "setting margins in matplotlib/seaborn with subplots", "body": "<p>i'm plotting subplots in matplotlib/seaborn using:</p>\n\n<pre><code>plt.figure()\ns1 = plt.subplot(2, 1, 1)\n# plot 1 \n# call seaborn here\ns2 = plt.subplot(2, 1, 2)\n# plot 2\nplt.tight_layout()\nplt.show()\n</code></pre>\n\n<p>i am running into the common issue of marker being hidden by the axis (<a href=\"https://stackoverflow.com/questions/14493334/add-margin-when-plots-run-against-the-edge-of-the-graph/14498142#14498142\">Add margin when plots run against the edge of the graph</a>). when i try to adjust margins it doesn't work:</p>\n\n<pre><code>s1 = plt.subplot(2, 1, 1)\ns1.margins(0.05)\n</code></pre>\n\n<p>it gives no error but doesn't set margins either. </p>\n\n<p><strong><em>here is a complete example:</em></strong></p>\n\n<pre><code>gammas = sns.load_dataset(\"gammas\")\ns = plt.subplot(1, 1, 1)\n# this does not change the x margins\ns.get_axes().margins(x=0.05, y=0.01)\nax = sns.tsplot(time=\"timepoint\", value=\"BOLD signal\",\n                unit=\"subject\", condition=\"ROI\",\n                err_style=\"ci_bars\",\n                interpolate=False,\n                data=gammas)\nplt.show()\n</code></pre>\n\n<p>in the above, i am trying to make the x-margins bigger, but the <code>x</code> argument to <code>margins()</code> seems to have no effect. how can this be done?</p>\n"}, {"tags": ["python", "django", "django-models", "django-forms", "modelform"], "comments": [{"owner": {"reputation": 2035, "user_id": 4324871, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9c8debc6271934c521ec1262fa7d7277?s=128&d=identicon&r=PG", "display_name": "Lorenzo Pe&#241;a", "link": "https://stackoverflow.com/users/4324871/lorenzo-pe%c3%b1a"}, "edited": false, "score": 0, "creation_date": 1449698257, "post_id": 34187935, "comment_id": 56125869, "body": "You can make a widget, not hard to do"}, {"owner": {"reputation": 991, "user_id": 1849805, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/4509c5dfb4baf75b4da654ac90d94a4c?s=128&d=identicon&r=PG", "display_name": "Vic Nicethemer", "link": "https://stackoverflow.com/users/1849805/vic-nicethemer"}, "reply_to_user": {"reputation": 2035, "user_id": 4324871, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9c8debc6271934c521ec1262fa7d7277?s=128&d=identicon&r=PG", "display_name": "Lorenzo Pe&#241;a", "link": "https://stackoverflow.com/users/4324871/lorenzo-pe%c3%b1a"}, "edited": false, "score": 0, "creation_date": 1449698587, "post_id": 34187935, "comment_id": 56126030, "body": "@LorenzoPe&#241;a Could you explain in more detail?"}, {"owner": {"reputation": 2035, "user_id": 4324871, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9c8debc6271934c521ec1262fa7d7277?s=128&d=identicon&r=PG", "display_name": "Lorenzo Pe&#241;a", "link": "https://stackoverflow.com/users/4324871/lorenzo-pe%c3%b1a"}, "edited": false, "score": 0, "creation_date": 1449843593, "post_id": 34187935, "comment_id": 56195204, "body": "Ok, nevermind the widget, just don&#39;t handle the m2m relation in the <code>ModelForm</code>, use a custom <code>TextField</code> in the form and create a custom function in the form to parse the data entered, for each line detect if the model exists in database, otherwise create it. With the final list of related items, save the original instance."}, {"owner": {"reputation": 991, "user_id": 1849805, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/4509c5dfb4baf75b4da654ac90d94a4c?s=128&d=identicon&r=PG", "display_name": "Vic Nicethemer", "link": "https://stackoverflow.com/users/1849805/vic-nicethemer"}, "reply_to_user": {"reputation": 2035, "user_id": 4324871, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9c8debc6271934c521ec1262fa7d7277?s=128&d=identicon&r=PG", "display_name": "Lorenzo Pe&#241;a", "link": "https://stackoverflow.com/users/4324871/lorenzo-pe%c3%b1a"}, "edited": false, "score": 0, "creation_date": 1449846455, "post_id": 34187935, "comment_id": 56197011, "body": "@LorenzoPe&#241;a now i am doing exactly as you described, but this approach is hard, i need manually do save m2m objects, and so on. I assumed there are some mature approach"}], "owner": {"reputation": 991, "user_id": 1849805, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/4509c5dfb4baf75b4da654ac90d94a4c?s=128&d=identicon&r=PG", "display_name": "Vic Nicethemer", "link": "https://stackoverflow.com/users/1849805/vic-nicethemer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 256, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1449694029, "creation_date": 1449691288, "last_edit_date": 1449694029, "question_id": 34187935, "link": "https://stackoverflow.com/questions/34187935/django-create-textarea-widget-with-manytomany-for-modelfom-to-add-data-line-by", "title": "Django: create Textarea widget with ManytoMany for ModelFom to add data line by line", "body": "<p>I have ModelFom for model with ManytoMany field:</p>\n\n<pre><code>class UserprojectForm(forms.ModelForm):\nclass Meta:\n    model = Userproject\n    fields = ['name', 'user', 'description', 'source_name', 'vk_groups', 'fb_groups', 'date_updated', 'date_until'] \n    # widgets = {\n    #     'vk_groups': forms.Textarea(attrs={'cols': 80, 'rows': 10}),\n    #     'source_name': forms.Textarea(attrs={'cols': 80, 'rows': 5}),\n    # }\n\ndef __init__(self, *args, **kwargs):\n    super(UserprojectForm, self).__init__(*args, **kwargs)\n    self.fields['vk_groups'].queryset = self.instance.vk_groups.all()\n</code></pre>\n\n<p>I want to allow users to enter data to Textarea line by line by hitting Enter from keyboard. Then data will be save to manytomany field.</p>\n\n<p>I cannot find such widget for django!</p>\n\n<p>Then i want to have this textarea in create and update views:</p>\n\n<pre><code>class UserprojectCreate(CreateView):\nmodel = Userproject\n#form_class = UserprojectForm\ntemplate_name = 'userproject_form.html'\nsuccess_url = reverse_lazy('userproject_list')\nfields = ['name', 'description', 'vk_groups', 'source_name',  'fb_groups', 'date_updated'] \n\ndef form_valid(self, form):\n    form.instance.user = self.request.user\n    return super(UserprojectCreate, self).form_valid(form) \n</code></pre>\n\n<p>Now to achieve this i am using simple forms, but it is a headache to save data from form:</p>\n\n<pre><code>class VkwallpostgetForm(SexyModelForm):\n    vk_groups= ['https://vk.com/southpark', 'https://vk.com/graph']\n    vk_groups = '\\r\\n'.join(u'%s'%(x) for x in vk_groups) # to show data line by line\n</code></pre>\n\n<p>The main problem now is that using CreateView or UpdateView doesnot allow for user to enter data, he can only choose from existing.</p>\n"}, {"tags": ["python", "mysql", "sql"], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 2876777, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/fb712c48b071d52e19427a642cce5672?s=128&d=identicon&r=PG&f=1", "display_name": "user2876777", "link": "https://stackoverflow.com/users/2876777/user2876777"}, "edited": false, "score": 0, "creation_date": 1449692350, "post_id": 34187945, "comment_id": 56122714, "body": "Thank you. That worked. It seems that this format is not documented, I did quite a lot of searches before asking the question."}, {"owner": {"reputation": 13, "user_id": 2876777, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/fb712c48b071d52e19427a642cce5672?s=128&d=identicon&r=PG&f=1", "display_name": "user2876777", "link": "https://stackoverflow.com/users/2876777/user2876777"}, "edited": false, "score": 0, "creation_date": 1449692395, "post_id": 34187945, "comment_id": 56122745, "body": "Now MySQL is throwing an exception saying _mysql_exceptions.ProgrammingError: (1064, &quot;You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near &#39;<a href=\"http://petroleum-economist.com/RSS.aspx?FeedID=2155\" rel=\"nofollow noreferrer\">petroleum-economist.com/RSS.aspx?FeedID=2155</a>&#39;&#39;&#39; at line 1&quot;)"}, {"owner": {"reputation": 13, "user_id": 2876777, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/fb712c48b071d52e19427a642cce5672?s=128&d=identicon&r=PG&f=1", "display_name": "user2876777", "link": "https://stackoverflow.com/users/2876777/user2876777"}, "edited": false, "score": 0, "creation_date": 1449703842, "post_id": 34187945, "comment_id": 56128385, "body": "I changed the code to the one below, and it works for me, though I really don&#39;t have a clue why it does! Hope this helps somebodycur.execute(&quot;&quot;&quot;SELECT feed_id FROM feed_master WHERE url_link = &#39;%s&#39; &quot;&quot;&quot; %(source))"}], "tags": [], "owner": {"reputation": 1106495, "user_id": 1144035, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e514b017977ebf742a418cac697d8996?s=128&d=identicon&r=PG", "display_name": "Gordon Linoff", "link": "https://stackoverflow.com/users/1144035/gordon-linoff"}, "is_accepted": true, "score": 0, "last_activity_date": 1449712919, "last_edit_date": 1449712919, "creation_date": 1449691317, "answer_id": 34187945, "question_id": 34187922, "link": "https://stackoverflow.com/questions/34187922/python-mysql-query-gives-no-results-while-using-python-variables-in-query/34187945#34187945", "title": "Python MySQL query gives no results while using Python variables in query", "body": "<p>Your query is malformed.  The <code>%s</code> needs single quotes around it.  So, this might do what you want:</p>\n\n<pre><code>cur.execute(\"\"\"SELECT feed_id FROM feed_master WHERE url_link = '%s'\"\"\",(source,))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 13, "user_id": 2876777, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/fb712c48b071d52e19427a642cce5672?s=128&d=identicon&r=PG&f=1", "display_name": "user2876777", "link": "https://stackoverflow.com/users/2876777/user2876777"}, "is_accepted": false, "score": 0, "last_activity_date": 1449703962, "creation_date": 1449703962, "answer_id": 34191039, "question_id": 34187922, "link": "https://stackoverflow.com/questions/34187922/python-mysql-query-gives-no-results-while-using-python-variables-in-query/34191039#34191039", "title": "Python MySQL query gives no results while using Python variables in query", "body": "<p>I tweaked the code in all possible ways and the following executes perfectly</p>\n\n<pre><code>cur.execute(\"\"\"SELECT feed_id FROM feed_master WHERE url_link = '%s' \"\"\" %(source))\n</code></pre>\n\n<p>I have no idea why it works, but hope it helps somebody facing the same errors.</p>\n"}, {"tags": [], "owner": {"reputation": 156, "user_id": 5661449, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e52056abb80957bbbd7f55bcfa76227?s=128&d=identicon&r=PG&f=1", "display_name": "James J.", "link": "https://stackoverflow.com/users/5661449/james-j"}, "is_accepted": false, "score": 0, "last_activity_date": 1449706141, "creation_date": 1449706141, "answer_id": 34191450, "question_id": 34187922, "link": "https://stackoverflow.com/questions/34187922/python-mysql-query-gives-no-results-while-using-python-variables-in-query/34191450#34191450", "title": "Python MySQL query gives no results while using Python variables in query", "body": "<p>The proper way to run the query is your original</p>\n\n<pre><code>cur.execute('SELECT feed_id FROM feed_master WHERE url_link = %s',(source,))\n</code></pre>\n\n<p>It looks like you can then iterate through the cursor:</p>\n\n<pre><code>for feed_id in cur:\n    print feed_id\n</code></pre>\n\n<p>This might wind up printing a tuple with a single element, but that's pretty easy to fix by changing <code>feed_id</code> to <code>feed_id,</code> I can't tell you why the fetchall method isn't working though.</p>\n\n<p>The reason your change works is that you're using Python's (old) string formatting syntax to replace %s with whatever the value of source is rather than using the database client to replace the variable properly. It's incredibly insecure to use Python string replacement in a SQL statement where the value you're replacing %s with is a user input. See <a href=\"https://en.wikipedia.org/wiki/SQL_injection\" rel=\"nofollow\">https://en.wikipedia.org/wiki/SQL_injection</a>  </p>\n"}], "owner": {"reputation": 13, "user_id": 2876777, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/fb712c48b071d52e19427a642cce5672?s=128&d=identicon&r=PG&f=1", "display_name": "user2876777", "link": "https://stackoverflow.com/users/2876777/user2876777"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 820, "favorite_count": 0, "accepted_answer_id": 34187945, "answer_count": 3, "score": 0, "last_activity_date": 1449712919, "creation_date": 1449691226, "question_id": 34187922, "link": "https://stackoverflow.com/questions/34187922/python-mysql-query-gives-no-results-while-using-python-variables-in-query", "title": "Python MySQL query gives no results while using Python variables in query", "body": "<p>The following python MySQL query to retrieve the feed_id from the MySQL table feed_master.</p>\n\n<pre><code>cur.execute('SELECT feed_id FROM feed_master WHERE url_link = %s',(source,))\nrows = cur.fetchall()\n        for row in rows:\n            print \"Feed id : \" + str(row)\n</code></pre>\n\n<ul>\n<li>Python version : 2.7.10 </li>\n<li>MySQL version : 5.6.27-0ubuntu1</li>\n</ul>\n\n<p>On executing the above Python code, I get no results. However if I substitute %s with the actual string, I get the result I am expecting. The source variable is also passed to the function, as I tested the \"source\" variable with a print statement. Why doesn't the above code return the result? </p>\n"}, {"tags": ["python", "html", "selenium", "xpath", "selenium-webdriver"], "answers": [{"tags": [], "owner": {"reputation": 88945, "user_id": 290085, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/306077a2fb7af6587f470214a1b337ff?s=128&d=identicon&r=PG", "display_name": "kjhughes", "link": "https://stackoverflow.com/users/290085/kjhughes"}, "is_accepted": true, "score": 3, "last_activity_date": 1449691399, "creation_date": 1449691399, "answer_id": 34187964, "question_id": 34187887, "link": "https://stackoverflow.com/questions/34187887/find-element-via-other-than-id-class-name-etc/34187964#34187964", "title": "Find element via other than id, class name, etc", "body": "<p>The following XPath will select all <code>img</code> elements with a <code>value</code> attribute equal to <code>-</code>:</p>\n\n<pre><code>//img[@value='-']\n</code></pre>\n"}], "owner": {"reputation": 2305, "user_id": 2661518, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/53609c591c8124a5d7251ae3e25db250?s=128&d=identicon&r=PG", "display_name": "user2661518", "link": "https://stackoverflow.com/users/2661518/user2661518"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 407, "favorite_count": 0, "accepted_answer_id": 34187964, "answer_count": 1, "score": 2, "last_activity_date": 1449696931, "creation_date": 1449691078, "last_edit_date": 1449696931, "question_id": 34187887, "link": "https://stackoverflow.com/questions/34187887/find-element-via-other-than-id-class-name-etc", "title": "Find element via other than id, class name, etc", "body": "<p>I have HTML like this</p>\n\n<pre><code>&lt;img src=\"/image.png\" value=\"-\" alt=\"collapse\"&gt;\n</code></pre>\n\n<p>I can get element like this:</p>\n\n<pre><code>driver.find_element_by_xpath('//img')\n</code></pre>\n\n<p>I see I can also get name by <code>id</code> or <code>class_name</code>.\nBut can I get an element by other names e.g. <code>src</code> or <code>value</code>?\nI want to run a test only if <code>value</code> is <code>-</code>.</p>\n"}, {"tags": ["python", "etl"], "comments": [{"owner": {"reputation": 985, "user_id": 1619971, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8fef02d56081c8ceef3b4a2d05deda4?s=128&d=identicon&r=PG", "display_name": "JCVanHamme", "link": "https://stackoverflow.com/users/1619971/jcvanhamme"}, "edited": false, "score": 0, "creation_date": 1449691911, "post_id": 34187806, "comment_id": 56122456, "body": "Version mismatch? Looks like that function was added in version 1.1.0"}, {"owner": {"reputation": 89, "user_id": 1118629, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ebfb58082f7f1074110a974888a4e2ae?s=128&d=identicon&r=PG", "display_name": "Indoordinosaur", "link": "https://stackoverflow.com/users/1118629/indoordinosaur"}, "reply_to_user": {"reputation": 985, "user_id": 1619971, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8fef02d56081c8ceef3b4a2d05deda4?s=128&d=identicon&r=PG", "display_name": "JCVanHamme", "link": "https://stackoverflow.com/users/1619971/jcvanhamme"}, "edited": false, "score": 1, "creation_date": 1449692333, "post_id": 34187806, "comment_id": 56122704, "body": "@JCVanHamme Yeah, looks like I have an old version. Doing a help(petl) tells me that the version number is 1.0.11. How do I go about updating this?"}, {"owner": {"reputation": 985, "user_id": 1619971, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8fef02d56081c8ceef3b4a2d05deda4?s=128&d=identicon&r=PG", "display_name": "JCVanHamme", "link": "https://stackoverflow.com/users/1619971/jcvanhamme"}, "edited": false, "score": 0, "creation_date": 1449692901, "post_id": 34187806, "comment_id": 56123039, "body": "<code>pip install --upgrade petl</code> should do it. If not, <code>pip uninstall petl</code> then <code>pip install petl==1.1.0</code>"}, {"owner": {"reputation": 89, "user_id": 1118629, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ebfb58082f7f1074110a974888a4e2ae?s=128&d=identicon&r=PG", "display_name": "Indoordinosaur", "link": "https://stackoverflow.com/users/1118629/indoordinosaur"}, "reply_to_user": {"reputation": 985, "user_id": 1619971, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8fef02d56081c8ceef3b4a2d05deda4?s=128&d=identicon&r=PG", "display_name": "JCVanHamme", "link": "https://stackoverflow.com/users/1619971/jcvanhamme"}, "edited": false, "score": 0, "creation_date": 1449693705, "post_id": 34187806, "comment_id": 56123493, "body": "@JCVanHamme Thanks that worked! I knew about <code>pip install</code> but was trying to run it from the Python Interpreter rather than the Windows command line which obviously wasn&#39;t working...."}], "owner": {"reputation": 89, "user_id": 1118629, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ebfb58082f7f1074110a974888a4e2ae?s=128&d=identicon&r=PG", "display_name": "Indoordinosaur", "link": "https://stackoverflow.com/users/1118629/indoordinosaur"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 192, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1449690812, "creation_date": 1449690812, "question_id": 34187806, "link": "https://stackoverflow.com/questions/34187806/why-does-my-python-petl-library-appear-to-be-missing-functions", "title": "Why does my Python petl library appear to be missing functions?", "body": "<p>I'm new to Python (not new to programming) and am trying to learn both the Python language and the Petl library for some ETL work I need to do. </p>\n\n<p>I'm going through some basic tutorials on petl.readthedocs.org and have come across a couple missing functions and am wondering what I'm doing wrong... Below is a screenshot of an example where the function 'fromcolumns' isn't recognized even though its featured in petl tutorials. </p>\n\n<p><a href=\"https://i.stack.imgur.com/tamCn.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tamCn.jpg\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["python", "ipython", "interactive"], "comments": [{"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1449691114, "post_id": 34187773, "comment_id": 56121989, "body": "&quot;If you want to access your notebook server remotely via a web browser&quot; - <a href=\"https://ipython.org/ipython-doc/3/notebook/public_server.html#notebook-public-server\" rel=\"nofollow noreferrer\">ipython.org/ipython-doc/3/notebook/&hellip;</a>"}, {"owner": {"reputation": 20427, "user_id": 2570261, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e71068b09fc539447a0cee3e99fc419d?s=128&d=identicon&r=PG&f=1", "display_name": "Haleemur Ali", "link": "https://stackoverflow.com/users/2570261/haleemur-ali"}, "edited": false, "score": 1, "creation_date": 1449691206, "post_id": 34187773, "comment_id": 56122050, "body": "<a href=\"https://github.com/jupyter/jupyterhub\" rel=\"nofollow noreferrer\">github.com/jupyter/jupyterhub</a> does exactly that."}], "answers": [{"tags": [], "owner": {"reputation": 1807, "user_id": 827989, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0ddef99828c90d6847aacc6e5d7acd8f?s=128&d=identicon&r=PG", "display_name": "Jill-J&#234;nn Vie", "link": "https://stackoverflow.com/users/827989/jill-j%c3%aann-vie"}, "is_accepted": false, "score": 0, "last_activity_date": 1449965968, "creation_date": 1449965968, "answer_id": 34246571, "question_id": 34187773, "link": "https://stackoverflow.com/questions/34187773/interactive-public-ipython-notebook/34246571#34246571", "title": "Interactive public iPython Notebook", "body": "<p>A promising direction to pursue is <a href=\"https://github.com/jupyter/tmpnb\" rel=\"nofollow\">temporary, disposable notebooks</a>:</p>\n\n<blockquote>\n  <p>tmpnb launches a docker container for each user that requests one. In practice, this gets used to provide temporary notebooks, demo the IPython notebook as part of a Nature article, or even provide Jupyter kernels for publications.</p>\n</blockquote>\n\n<p>Source: <a href=\"https://developer.rackspace.com/blog/deploying-jupyterhub-for-education/\" rel=\"nofollow\">Deploying JupyterHub for Education</a></p>\n"}], "owner": {"reputation": 1201, "user_id": 1879926, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/007e8f0e8e54b60607003c827e7844ea?s=128&d=identicon&r=PG", "display_name": "user1879926", "link": "https://stackoverflow.com/users/1879926/user1879926"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 270, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1449965968, "creation_date": 1449690699, "question_id": 34187773, "link": "https://stackoverflow.com/questions/34187773/interactive-public-ipython-notebook", "title": "Interactive public iPython Notebook", "body": "<p>I have an ipython notebook that has interactive, dynamic content such as dropdowns.  Is it possible to publicly display this notebook and have it be interactive online?  I want the notebook to not have to be downloaded and run on a local python kernel but publicly accessible and interactive online.</p>\n"}, {"tags": ["python", "pandas", "time-series"], "comments": [{"owner": {"reputation": 3209, "user_id": 453343, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/ea033f376317341667f57d5094ad068f?s=128&d=identicon&r=PG", "display_name": "ako", "link": "https://stackoverflow.com/users/453343/ako"}, "edited": false, "score": 0, "creation_date": 1449692765, "post_id": 34187739, "comment_id": 56122964, "body": "What does your file look like? Is there an empty line? Try <code>skiprows=1</code>."}, {"owner": {"reputation": 619481, "user_id": 2901002, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/hMDvl.jpg?s=128&g=1", "display_name": "jezrael", "link": "https://stackoverflow.com/users/2901002/jezrael"}, "edited": false, "score": 0, "creation_date": 1449693296, "post_id": 34187739, "comment_id": 56123260, "body": "What is your recommended output?"}, {"owner": {"reputation": 619481, "user_id": 2901002, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/hMDvl.jpg?s=128&g=1", "display_name": "jezrael", "link": "https://stackoverflow.com/users/2901002/jezrael"}, "edited": false, "score": 0, "creation_date": 1449697008, "post_id": 34187739, "comment_id": 56125228, "body": "And welcome to Stackoverflow. More info about <a href=\"http://stackoverflow.com/tour\">site</a>"}], "answers": [{"tags": [], "owner": {"reputation": 86481, "user_id": 2411802, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/RA92x.jpg?s=128&g=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/2411802/alexander"}, "is_accepted": false, "score": 1, "last_activity_date": 1449693437, "creation_date": 1449693437, "answer_id": 34188499, "question_id": 34187739, "link": "https://stackoverflow.com/questions/34187739/python-pandas-timeseries-empty-space-under-header/34188499#34188499", "title": "Python pandas timeseries, empty space under header", "body": "<p>Just set the index name to <code>None</code>.</p>\n\n<pre><code>df.index.name = None\n</code></pre>\n\n<p>Confirmation of result:</p>\n\n<pre><code>df = pd.DataFrame({1: [1, 2, 3]}, index=pd.Index([0, 1, 2], name=0))\n\n&gt;&gt;&gt; df\n   1\n0   \n0  1\n1  2\n2  3\n\ndf.index.name = None\n\n&gt;&gt;&gt; df\n   1\n0  1\n1  2\n2  3\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 5656362, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/521866c50ed3badcb9e43c39cac3dfa2?s=128&d=identicon&r=PG&f=1", "display_name": "Toon Hooy", "link": "https://stackoverflow.com/users/5656362/toon-hooy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1449803663, "creation_date": 1449690613, "last_edit_date": 1449695390, "question_id": 34187739, "link": "https://stackoverflow.com/questions/34187739/python-pandas-timeseries-empty-space-under-header", "title": "Python pandas timeseries, empty space under header", "body": "<p>I am importing a timeseries from a csv file, when I do there appears a 0-index above my time stamps, I don't seem to get rid of it.</p>\n\n<p>Code</p>\n\n<pre><code>df = pd.read_csv((FileLocation), header=None, index_col=0)\n</code></pre>\n\n<p>Result:</p>\n\n<pre><code>                              1\n0                              \n2013-12-29 17:49:00+00:00  7080\n2013-12-29 17:50:00+00:00  7080\n2013-12-29 17:51:00+00:00  7020\n2013-12-29 17:52:00+00:00  8520\n2013-12-29 17:53:00+00:00  7020\n2013-12-29 17:54:00+00:00  6960\n2013-12-29 17:55:00+00:00  7020\n2013-12-29 17:56:00+00:00  6900\n2013-12-29 17:57:00+00:00  4200\n</code></pre>\n\n<p>Does anyone have a suggestion of what I should try?</p>\n"}, {"tags": ["python", "python-2.7", "while-loop"], "comments": [{"owner": {"reputation": 907, "user_id": 4564746, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Im4Oc.jpg?s=128&g=1", "display_name": "aaron_world_traveler", "link": "https://stackoverflow.com/users/4564746/aaron-world-traveler"}, "edited": false, "score": 0, "creation_date": 1449690864, "post_id": 34187719, "comment_id": 56121825, "body": "One suggestion...  Instead <code>not condition1 &gt; x</code>, you can rewrite much cleaner and more legibly as <code>condition &lt;= x</code>"}, {"owner": {"reputation": 292, "user_id": 2027330, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e34e4ac7710767da90f4b325b2660d2?s=128&d=identicon&r=PG&f=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/2027330/chris"}, "edited": false, "score": 0, "creation_date": 1449690924, "post_id": 34187719, "comment_id": 56121863, "body": "Check the order of the boolean operator precedence"}, {"owner": {"reputation": 907, "user_id": 4564746, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Im4Oc.jpg?s=128&g=1", "display_name": "aaron_world_traveler", "link": "https://stackoverflow.com/users/4564746/aaron-world-traveler"}, "edited": false, "score": 0, "creation_date": 1449691246, "post_id": 34187719, "comment_id": 56122074, "body": "As you currently have your code written above, neither while loop will execute.  <code>while not -1 == 1 and not 3 &gt; 2 and not 5 &gt; 4</code> and <code>while not 1 == 1 and not 3 &gt;2</code>.  It should be obvious why neither while loop executes (3 is indeed greater than 2, 1 actually does equal 1)."}, {"owner": {"reputation": 55248, "user_id": 642070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c280b71b3187d1cc113a6e302b414b9?s=128&d=identicon&r=PG", "display_name": "tdelaney", "link": "https://stackoverflow.com/users/642070/tdelaney"}, "edited": false, "score": 0, "creation_date": 1449691322, "post_id": 34187719, "comment_id": 56122118, "body": "Just above the <code>while</code> add <code>print not condition2 &gt; y</code>. Its False because condition2 is greater than y."}, {"owner": {"reputation": 9263, "user_id": 1536976, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/cc2372591e00f2ab504b59b4f7cbed43?s=128&d=identicon&r=PG", "display_name": "Trilarion", "link": "https://stackoverflow.com/users/1536976/trilarion"}, "edited": false, "score": 0, "creation_date": 1449695363, "post_id": 34187719, "comment_id": 56124338, "body": "also given that body of the while does not change the conditions it&#39;s probably better to change while to if"}], "answers": [{"tags": [], "owner": {"reputation": 305, "user_id": 5065946, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f08dbf0f748e3292e87f6f71a86fd44?s=128&d=identicon&r=PG&f=1", "display_name": "powersource97", "link": "https://stackoverflow.com/users/5065946/powersource97"}, "is_accepted": false, "score": 0, "last_activity_date": 1449690809, "creation_date": 1449690809, "answer_id": 34187802, "question_id": 34187719, "link": "https://stackoverflow.com/questions/34187719/python-while-loop-three-conditions/34187802#34187802", "title": "Python - while loop three conditions", "body": "<p><code>condition=1</code> and in the program you are specifying <code>not condition==1</code> which will return <code>false</code> and thus the <code>while</code> will evaluate to false. And that is why no output comes.<br>\nSimilarly all others evaluate to false because of that <code>not</code> you placed before each check, and the whole statement is in a whole <code>false</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 10158, "user_id": 1209921, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZxrGg.gif?s=128&g=1", "display_name": "Matthias", "link": "https://stackoverflow.com/users/1209921/matthias"}, "edited": false, "score": 0, "creation_date": 1449692412, "post_id": 34187830, "comment_id": 56122756, "body": "Where do you see a missing semicolon?"}, {"owner": {"reputation": 8789, "user_id": 539465, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/2acba600ecfbe1cc2e7f3c94b686ac84?s=128&d=identicon&r=PG", "display_name": "Valentin Lorentz", "link": "https://stackoverflow.com/users/539465/valentin-lorentz"}, "reply_to_user": {"reputation": 10158, "user_id": 1209921, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZxrGg.gif?s=128&g=1", "display_name": "Matthias", "link": "https://stackoverflow.com/users/1209921/matthias"}, "edited": false, "score": 0, "creation_date": 1449695937, "post_id": 34187830, "comment_id": 56124616, "body": "Sorry, I meant colon. And OP edited the code afterward."}], "tags": [], "owner": {"reputation": 8789, "user_id": 539465, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/2acba600ecfbe1cc2e7f3c94b686ac84?s=128&d=identicon&r=PG", "display_name": "Valentin Lorentz", "link": "https://stackoverflow.com/users/539465/valentin-lorentz"}, "is_accepted": false, "score": 1, "last_activity_date": 1449690882, "creation_date": 1449690882, "answer_id": 34187830, "question_id": 34187719, "link": "https://stackoverflow.com/questions/34187719/python-while-loop-three-conditions/34187830#34187830", "title": "Python - while loop three conditions", "body": "<p><code>condition2</code> is 5 and <code>y</code> is 4.</p>\n\n<p>So <code>condition2 &gt; y</code> is true.</p>\n\n<p>So <code>not condition2 &gt; y</code> is false.</p>\n\n<p>So <code>not condition == 1 and not condition1 &gt; x and not condition2 &gt; y</code> is false.</p>\n\n<p>So the while loop does not run.</p>\n\n<p>By the way, there are two other issues in your code:</p>\n\n<ol>\n<li>a semicolon is missing from the first line of the while loop</li>\n<li>if the while loop runs once, it will never stop. You may want to use a <code>if</code> instead to execute the block only once.</li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 4955, "user_id": 5274205, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3a281a1418dbceeda34cc93d3744554?s=128&d=identicon&r=PG", "display_name": "Chad S.", "link": "https://stackoverflow.com/users/5274205/chad-s"}, "is_accepted": true, "score": 1, "last_activity_date": 1449693601, "last_edit_date": 1449693601, "creation_date": 1449693183, "answer_id": 34188445, "question_id": 34187719, "link": "https://stackoverflow.com/questions/34187719/python-while-loop-three-conditions/34188445#34188445", "title": "Python - while loop three conditions", "body": "<p>Your code could be a lot more readable if you restructured it slightly. Using <a href=\"https://en.wikipedia.org/wiki/De_Morgan%27s_laws\" rel=\"nofollow\">DeMorgan's laws</a> we have that <code>not A and not B and not C</code> is the same as <code>not (A or B or C)</code>. And since <code>A or B or C</code> is the same as <code>any([A,B,C])</code> we can just take your first <code>while</code> and rewrite it as</p>\n\n<pre><code>while not any([ condition == 1, \n                condition1 &gt; x, \n                condition2 &gt; y ]):\n   print(\"Hey\")\n</code></pre>\n\n<p>We can see immediately why the loop isn't running because one of those is <code>True</code>. Namely <code>condition1</code> (which is 3) is greater than <code>x</code> (which is 2).</p>\n\n<p>Similarly if we consider the second <code>while</code> loop rewritten as </p>\n\n<pre><code>while not any([ condition == 1,\n                condition1 &gt; x ]):\n   print(\"Hey\") \n</code></pre>\n\n<p>Since <code>condition</code> equals 1, it fails on the first predicate. And even if <code>condition</code> didn't equal 1, <code>condition1</code> (which is 3) is greater than <code>x</code> (which is 2). So the second predicate also fails.</p>\n"}], "owner": {"reputation": 1492, "user_id": 4337310, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/a9bef9a8ef9e7ed2c6cf655b8c2d824c?s=128&d=identicon&r=PG&f=1", "display_name": "PRVS", "link": "https://stackoverflow.com/users/4337310/prvs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1759, "favorite_count": 0, "closed_date": 1449732222, "accepted_answer_id": 34188445, "answer_count": 3, "score": -7, "last_activity_date": 1449693601, "creation_date": 1449690532, "last_edit_date": 1449690877, "question_id": 34187719, "link": "https://stackoverflow.com/questions/34187719/python-while-loop-three-conditions", "closed_reason": "Not suitable for this site", "title": "Python - while loop three conditions", "body": "<p>I'm trying to make a while loop with multiple conditions:</p>\n\n<pre><code>condition = -1\ncondition1 = 3\nx = 2\ncondition2 = 5\ny = 4\nwhile not condition == 1 and not condition1 &gt; x and not condition2 &gt; y:\n         print \"hey\"\n\ncondition = 1\ncondition1 = 3\nx = 2\nwhile not condition == 1 and not condition1 &gt; x:\n         print \"hey\"\n</code></pre>\n\n<p>If I put only two conditions, the code prints \"hey\" but if I put three conditions (that is verified, because i print the condition before to test if it's true), not prints. </p>\n\n<p>I search other questions on the stackoverflow but nothing solves my problem.</p>\n\n<p>Any idea? Please. </p>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 2, "creation_date": 1449691414, "post_id": 34187680, "comment_id": 56122169, "body": "O(1) space isn&#39;t going to be possible in <code>O(len(A))</code> time without screwing with the internals directly. The big underlying reason is that there&#39;s no guarantee the hash table won&#39;t shrink when you delete something. (CPython happens not to shrink the table on deletion, but other implementations might behave differently.)"}, {"owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 0, "creation_date": 1449692645, "post_id": 34187680, "comment_id": 56122886, "body": "I&#39;d say that if the only space needed is for resizing <code>A</code>, then it could be done in amortized O(1) space, since the number of resize operations would be bounded by the original size of the set."}, {"owner": {"reputation": 121127, "user_id": 388520, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/dd7cc06b1b1c347e172c6ba532937173?s=128&d=identicon&r=PG", "display_name": "zwol", "link": "https://stackoverflow.com/users/388520/zwol"}, "edited": false, "score": 0, "creation_date": 1449697003, "post_id": 34187680, "comment_id": 56125225, "body": "For clarity, I meant I&#39;d prefer to avoid constructing an O(n)-space scratch object <i>in my code</i>; if the interpreter decides to shrink the hash table, oh well (as long as that doesn&#39;t mean the <i>time</i> complexity becomes quadratic)."}], "answers": [{"comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 2, "creation_date": 1449690909, "post_id": 34187782, "comment_id": 56121852, "body": "Not <code>O(1)</code> space, though, since it turns the generator into a set internally. I&#39;d probably go with an explicit set argument and <code>difference_update</code>."}, {"owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1449691015, "post_id": 34187782, "comment_id": 56121920, "body": "That&#39;s not O(1) space, either. I&#39;d be surprised if the generator were turned into a set, rather than simply iterated over."}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 1, "creation_date": 1449691106, "post_id": 34187782, "comment_id": 56121980, "body": "Indeed, that&#39;s not O(1) space, but it&#39;s more obvious what the space requirements are. Also, <a href=\"https://hg.python.org/cpython/file/3.5/Objects/setobject.c#l1647\" rel=\"nofollow noreferrer\">yes, it makes a set</a>. If it didn&#39;t, you&#39;d get a &quot;Set changed size during iteration&quot; error."}, {"owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1449692120, "post_id": 34187782, "comment_id": 56122570, "body": "I&#39;m surprised it does that. It doesn&#39;t mutate that set at all, it just iterates over it, so there doesn&#39;t seem to be any need to make a set in the first place. Looking at <code>set_update_internal</code>, it doesn&#39;t look like it would be any slower to iterate over the generator in <code>symmetric_difference_update</code> than to make a new <code>set</code> object. Oh well, it <i>could</i> be O(1), but it just isn&#39;t."}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1449692613, "post_id": 34187782, "comment_id": 56122860, "body": "I would guess that the reason it makes a set is for duplicate handling. It&#39;s trying to ensure <code>{1, 2}.symmetric_difference_update([1, 1])</code> doesn&#39;t take 1 out and then put it back in."}, {"owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1449692740, "post_id": 34187782, "comment_id": 56122947, "body": "Mmm, that&#39;s a good point. There&#39;s a lot of trade-offs to be made, and this one has the benefit of simplifying the implementation as well; ultimately, you <i>only</i> are iterating over a set, regardless of the actual input."}, {"owner": {"reputation": 121127, "user_id": 388520, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/dd7cc06b1b1c347e172c6ba532937173?s=128&d=identicon&r=PG", "display_name": "zwol", "link": "https://stackoverflow.com/users/388520/zwol"}, "edited": false, "score": 0, "creation_date": 1449696280, "post_id": 34187782, "comment_id": 56124819, "body": "<code>.difference_update</code> <i>doesn&#39;t</i> make a copy ... and therefore you do get the &quot;Set changed size during iteration&quot; error. <code>:-(</code>"}, {"owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 0, "creation_date": 1449708807, "post_id": 34187782, "comment_id": 56130112, "body": "Taking a second look, <code>difference_update</code> is actually the one I meant to use, <i>but</i> <code>symmetric_difference_update</code> works as well because the argument is a subset of the original, rather than an arbitrary set."}], "tags": [], "owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "is_accepted": false, "score": 5, "last_activity_date": 1449692793, "last_edit_date": 1449692793, "creation_date": 1449690748, "answer_id": 34187782, "question_id": 34187680, "link": "https://stackoverflow.com/questions/34187680/remove-all-elements-that-satisfy-a-predicate-from-a-set/34187782#34187782", "title": "Remove all elements that satisfy a predicate from a set", "body": "<p>(Not actually O(1) due to implementation details, but I'm loathe to delete it as it's quite clean.)</p>\n\n<p>Use <code>symmetric_difference_update</code>.</p>\n\n<pre><code>&gt;&gt;&gt; A = {1,2,3,4,5,6}\n&gt;&gt;&gt; A.symmetric_difference_update(x for x in A if not (x % 2))\n&gt;&gt;&gt; A\n{1, 3, 5}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1449692400, "post_id": 34188059, "comment_id": 56122749, "body": "Strictly speaking, even this wouldn&#39;t be O(1) space on Python implementations that resize the hash table on deletion, since resizing is a linear-space operation."}, {"owner": {"reputation": 8789, "user_id": 539465, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/2acba600ecfbe1cc2e7f3c94b686ac84?s=128&d=identicon&r=PG", "display_name": "Valentin Lorentz", "link": "https://stackoverflow.com/users/539465/valentin-lorentz"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1449692740, "post_id": 34188059, "comment_id": 56122948, "body": "Looking at the code of <code>set_symmetric_difference_update</code> (and <code>set_discard_entry</code>), it does not seem to rehash."}], "tags": [], "owner": {"reputation": 8789, "user_id": 539465, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/2acba600ecfbe1cc2e7f3c94b686ac84?s=128&d=identicon&r=PG", "display_name": "Valentin Lorentz", "link": "https://stackoverflow.com/users/539465/valentin-lorentz"}, "is_accepted": false, "score": 3, "last_activity_date": 1449692110, "last_edit_date": 1449692110, "creation_date": 1449691718, "answer_id": 34188059, "question_id": 34187680, "link": "https://stackoverflow.com/questions/34187680/remove-all-elements-that-satisfy-a-predicate-from-a-set/34188059#34188059", "title": "Remove all elements that satisfy a predicate from a set", "body": "<p>With an horrible time complexity (quadratic), but in O(1) space:</p>\n\n<pre><code>&gt;&gt;&gt; A = {1,2,3,4,5,6}\n&gt;&gt;&gt; while modified:\n...     modified = False\n...     for x in A:\n...         if not x%2:\n...             A.remove(x)\n...             modified = True\n...             break\n... \n&gt;&gt;&gt; A\n{1, 3, 5}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 121127, "user_id": 388520, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/dd7cc06b1b1c347e172c6ba532937173?s=128&d=identicon&r=PG", "display_name": "zwol", "link": "https://stackoverflow.com/users/388520/zwol"}, "edited": false, "score": 0, "creation_date": 1449696074, "post_id": 34188180, "comment_id": 56124689, "body": "Unfortunately, the actual objects in the set are not integers, and whether they satisfy the predicate changes over time (they are <code>Future</code> objects and I want to remove the ones that have completed)."}, {"owner": {"reputation": 1375, "user_id": 1733321, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/5f2d5f600122e6803420e88740252973?s=128&d=identicon&r=PG", "display_name": "eestrada", "link": "https://stackoverflow.com/users/1733321/eestrada"}, "reply_to_user": {"reputation": 121127, "user_id": 388520, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/dd7cc06b1b1c347e172c6ba532937173?s=128&d=identicon&r=PG", "display_name": "zwol", "link": "https://stackoverflow.com/users/388520/zwol"}, "edited": false, "score": 0, "creation_date": 1449696793, "post_id": 34188180, "comment_id": 56125118, "body": "@zwol Interesting. You could maybe try something with the <code>weakref</code> module (like a <code>weakset</code>). That way it would disappear from the set automatically. Or you could use the <code>add_done_callback</code> to add a callback that would automatically remove the <code>Future</code> from the set once it is complete. You would probably need to use a <code>Lock</code> primitive since threading or processes are involved. Even still it should simplify your logic instead of effectively polling the set instance."}, {"owner": {"reputation": 121127, "user_id": 388520, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/dd7cc06b1b1c347e172c6ba532937173?s=128&d=identicon&r=PG", "display_name": "zwol", "link": "https://stackoverflow.com/users/388520/zwol"}, "edited": false, "score": 0, "creation_date": 1449697287, "post_id": 34188180, "comment_id": 56125366, "body": "The larger problem is a &quot;don&#39;t quit before all the side effects have happened&quot; problem, so I rather like the <code>add_done_callback</code> idea.  I&#39;m going to leave this as a question about sets in general, though."}], "tags": [], "owner": {"reputation": 1375, "user_id": 1733321, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/5f2d5f600122e6803420e88740252973?s=128&d=identicon&r=PG", "display_name": "eestrada", "link": "https://stackoverflow.com/users/1733321/eestrada"}, "is_accepted": false, "score": 2, "last_activity_date": 1449692182, "creation_date": 1449692182, "answer_id": 34188180, "question_id": 34187680, "link": "https://stackoverflow.com/questions/34187680/remove-all-elements-that-satisfy-a-predicate-from-a-set/34188180#34188180", "title": "Remove all elements that satisfy a predicate from a set", "body": "<p>On the very specific use case you showed, there is a way to do this in <code>O(1)</code> space, but it doesn't generalize very well to sets containing anything other than <code>int</code> objects:</p>\n\n<pre><code>A = {1, 2, 3, 4, 5, 6}\n\nfor i in range(min(A), max(A) + 1):\n    if i % 2 != 0:\n        A.discard(i)\n</code></pre>\n\n<p>It also wastes time since it will check numbers that aren't even in the set. For anything other than <code>int</code> objects, I can't yet think of a way to do this without creating an intermediate <code>set</code> or container of some sort.</p>\n\n<p>For a more general solution, it would be better to simply initially construct your <code>set</code> using the predicate (if you don't need to use the <code>set</code> for anything else first). Something like this:</p>\n\n<pre><code>def items():\n    # maybe this is a file or a stream or something,\n    # where ever your initial values are coming from.\n    for thing in source:  \n        yield thing\n\ndef predicate(item):\n    return bool(item)\n\nA = set(item for item in items() if predicate(item))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5896, "user_id": 5644961, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-r4jx_ltcdtA/AAAAAAAAAAI/AAAAAAAAAAA/7RjDfLKZHxg/photo.jpg?sz=128", "display_name": "Copperfield", "link": "https://stackoverflow.com/users/5644961/copperfield"}, "is_accepted": false, "score": 1, "last_activity_date": 1449698303, "creation_date": 1449698303, "answer_id": 34189784, "question_id": 34187680, "link": "https://stackoverflow.com/questions/34187680/remove-all-elements-that-satisfy-a-predicate-from-a-set/34189784#34189784", "title": "Remove all elements that satisfy a predicate from a set", "body": "<p>to maintain the use use of memory constant this is the only thing that come to my mind</p>\n\n<pre><code>def filter_Set(predicate,origen:set) -&gt; set:\n    resul = set()\n    while origen:\n        elem = origen.pop()\n        if predicate( elem ):\n            resul.add( elem )\n    return resul\n\ndef filter_Set_inplace(predicate,origen:set):\n    resul = set()\n    while origen:\n        elem = origen.pop()\n        if predicate( elem ):\n            resul.add( elem )\n    while resul:\n        origen.add(resul.pop())\n</code></pre>\n\n<p>with this functions I move elems from one set to the other keeping only those that satisfied the predicate</p>\n"}], "owner": {"reputation": 121127, "user_id": 388520, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/dd7cc06b1b1c347e172c6ba532937173?s=128&d=identicon&r=PG", "display_name": "zwol", "link": "https://stackoverflow.com/users/388520/zwol"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 449, "favorite_count": 0, "answer_count": 4, "score": 1, "last_activity_date": 1449698303, "creation_date": 1449690393, "last_edit_date": 1449697088, "question_id": 34187680, "link": "https://stackoverflow.com/questions/34187680/remove-all-elements-that-satisfy-a-predicate-from-a-set", "title": "Remove all elements that satisfy a predicate from a set", "body": "<p>Given a mutable <code>set</code> of objects,</p>\n\n<pre><code>A = set(1,2,3,4,5,6)\n</code></pre>\n\n<p>I can construct a <em>new</em> set containing only those objects that don't satisfy a predicate ...</p>\n\n<pre><code>B = set(x for x in A if not (x % 2 == 0))\n</code></pre>\n\n<p>... but how do I <em>modify <code>A</code> in place</em> to contain only those objects?  If possible, do this in linear time, without constructing O(n)-sized scratch objects, and without removing anything from <code>A</code>, even temporarily, that doesn't satisfy the predicate.</p>\n\n<p>(Integers are used here only to simplify the example.  In the actual code they are <code>Future</code> objects and I'm trying to pull out those that have already completed, which is expected to be a small fraction of the total.)</p>\n\n<p>Note that it is not, in general, safe in Python to mutate an object that you are iterating over.  I'm not sure of the precise rules for sets (the documentation doesn't make any guarantee either way).</p>\n\n<p>I only <em>need</em> an answer for 3.4+, but will take more general answers.</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 4955, "user_id": 5274205, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3a281a1418dbceeda34cc93d3744554?s=128&d=identicon&r=PG", "display_name": "Chad S.", "link": "https://stackoverflow.com/users/5274205/chad-s"}, "edited": false, "score": 5, "creation_date": 1449690444, "post_id": 34187647, "comment_id": 56121601, "body": "There are a number of errors in this program. You need to read a tutorial and start a little smaller. Specifically, your move function doesn&#39;t return anything, you&#39;re overusing global variables, and your conditionals don&#39;t work the way you think they do (<code>&quot;command&quot;== &quot;south&quot; or &quot;S&quot;</code> is always <code>True</code>)"}, {"owner": {"reputation": 6465, "user_id": 1182891, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/64170963e481496b89074f68786f4aeb?s=128&d=identicon&r=PG", "display_name": "Josh J", "link": "https://stackoverflow.com/users/1182891/josh-j"}, "edited": false, "score": 0, "creation_date": 1449690698, "post_id": 34187647, "comment_id": 56121739, "body": "Open up a python interactive shell and type in one of your conditions like <code>&quot;command&quot; == &quot;north&quot; or &quot;n&quot;</code> and see what it returns. It is not what you think. What you meant to accomplish would be coded similar to: <code>if command in (&#39;north&#39;, &#39;n&#39;):</code>"}], "answers": [{"comments": [{"owner": {"reputation": 6465, "user_id": 1182891, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/64170963e481496b89074f68786f4aeb?s=128&d=identicon&r=PG", "display_name": "Josh J", "link": "https://stackoverflow.com/users/1182891/josh-j"}, "edited": false, "score": 1, "creation_date": 1449690790, "post_id": 34187755, "comment_id": 56121783, "body": "For step 2, that will return either <code>True</code> or <code>n</code>. <code>True</code> if <code>command</code> is the string <code>&quot;north&quot;</code>, <code>&quot;n&quot;</code> if it is anything else."}, {"owner": {"reputation": 1112, "user_id": 5613603, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef7c7de8183af9d17dbd6eb664a1d16d?s=128&d=identicon&r=PG&f=1", "display_name": "Rob Davis", "link": "https://stackoverflow.com/users/5613603/rob-davis"}, "reply_to_user": {"reputation": 6465, "user_id": 1182891, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/64170963e481496b89074f68786f4aeb?s=128&d=identicon&r=PG", "display_name": "Josh J", "link": "https://stackoverflow.com/users/1182891/josh-j"}, "edited": false, "score": 0, "creation_date": 1449690878, "post_id": 34187755, "comment_id": 56121833, "body": "Damn it Josh.  I was copying his code and not thinking :)  I will edit now."}], "tags": [], "owner": {"reputation": 1112, "user_id": 5613603, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef7c7de8183af9d17dbd6eb664a1d16d?s=128&d=identicon&r=PG&f=1", "display_name": "Rob Davis", "link": "https://stackoverflow.com/users/5613603/rob-davis"}, "is_accepted": false, "score": 0, "last_activity_date": 1449690943, "last_edit_date": 1449690943, "creation_date": 1449690649, "answer_id": 34187755, "question_id": 34187647, "link": "https://stackoverflow.com/questions/34187647/text-adventure-game-not-reading-input-python/34187755#34187755", "title": "Text adventure game not reading input Python", "body": "<p>Your move() function doesn't return a value.  You have a couple of issues here that really strike to needing a better understanding of programming.  There are fatal flaws in your code.</p>\n\n<p>1) def move() needs to return a value.</p>\n\n<p>When you call it:</p>\n\n<pre><code>command = move()\n</code></pre>\n\n<p>The actual move function:</p>\n\n<pre><code>def move()\n    command = input('Where do you want to go?:')\n    return command.lower()\n    # you could just make this whole thing \"return input('Where do you want to go?:').lower()\"\n</code></pre>\n\n<p>2) Each of your if statements should be:</p>\n\n<pre><code>if command == 'north' or command == 'n':\n</code></pre>\n\n<p>pattern.  Putting command in quotes literally asks if the word command is equal to the word north or the letter n.</p>\n\n<p>That is just the start.  This code needs a significant amount of work.  Check out Codecademy or learncodethehardway.</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 4008057, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c2714a97790ab67f2c896c3165836b85?s=128&d=identicon&r=PG&f=1", "display_name": "Spitfire", "link": "https://stackoverflow.com/users/4008057/spitfire"}, "is_accepted": false, "score": 0, "last_activity_date": 1449690953, "creation_date": 1449690953, "answer_id": 34187853, "question_id": 34187647, "link": "https://stackoverflow.com/questions/34187647/text-adventure-game-not-reading-input-python/34187853#34187853", "title": "Text adventure game not reading input Python", "body": "<p>One obvious issue is you repeatedly make calls to <code>inv()</code> without declaring that function. </p>\n\n<p>Second, I would recommend creating a <code>main()</code> function that has the main stuff in it, like the intro piece. </p>\n\n<p>Big thing to read up on is functions, when to use them, and how to take advantage of return values to make your code more dynamic.</p>\n\n<p>Finally, I second the advice given above. Touch up on the basics (Codeacademy/Learn Python the Hard Way), and use that knowledge incrementally to improve your program. Best of luck!</p>\n"}], "owner": {"reputation": 1, "user_id": 5660798, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2497348615537008e8a17998015a29ae?s=128&d=identicon&r=PG&f=1", "display_name": "Gallent", "link": "https://stackoverflow.com/users/5660798/gallent"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 104, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1450118576, "creation_date": 1449690262, "last_edit_date": 1450118576, "question_id": 34187647, "link": "https://stackoverflow.com/questions/34187647/text-adventure-game-not-reading-input-python", "title": "Text adventure game not reading input Python", "body": "<p>I'm trying to make a text adventure game in Python. While I have two rooms programmed, north east and south east, and I try to make it so that the input should decide where you go, instead it just switches between the two even when you don't put in any input. Can anyone tell me what the error here is?</p>\n\n<pre class=\"lang-python prettyprint-override\"><code>name= input('Hello user, Welcome to the alpha! What is your name?')\nprint (\"Welcome \"+name+\", We've been Expecting you!\")\nspace = {\"north\": 0, \"east\": 0}\nspace[\"north\"] = 1\nspace[\"east\"]=2\ndef inst():\n    print (\"Type 'inv' to access your inventory\")\n    print (\"Your name is \"+name)\ndef move():\n    command = input('Where do you want to go?:')\n    command= command.lower()\ndef pie():\n    if space[\"north\"]==1 and space[\"east\"]==2:\n        print (\"You are in the South east corner\")\n        print (\"You can go West or North\")\n        inst()\n        print (space)\n        move()\n        if \"command\" == \"north\" or \"n\":\n            space[\"north\"]=space[\"north\"]+1\n            pie()\n        elif \"command\" == \"west\" or \"w\":\n            space[\"east\"]=space[\"east\"]-1\n            pie()\n        elif \"command\" == \"inv\":\n            inv()\n        else:\n            print (\"What?\")\n            pie()\n    elif space[\"north\"]==2 and space[\"east\"]==2:\n        print (\"You are in the north east corner\")\n        print (\"You can go West or South\")\n        inst()\n        print (space)\n        move()\n        if \"command\"== \"south\" or \"S\":\n            space[\"north\"]=space[\"north\"]-1\n            pie()\n        elif \"command\" == \"west\" or \"w\":\n            space[\"east\"]=space[\"east\"]-1\n            pie()\n        elif \"command\" == \"inv\":\n            inv()\n        else:\n            print (\"What?\")\n            pie()\npie()\n</code></pre>\n\n<p>Update: Thank you all for your help. I just wish to let you know that I have been taking codeacademy and I thought that I had learned enough. It's obvious that this code is a wip, but I hope that this will go better thanks to your suggestions.</p>\n"}, {"tags": ["python", "r", "rpy2"], "answers": [{"comments": [{"owner": {"reputation": 133, "user_id": 5476453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b467714518a9a60b6048c54362431566?s=128&d=identicon&r=PG", "display_name": "user36196", "link": "https://stackoverflow.com/users/5476453/user36196"}, "edited": false, "score": 0, "creation_date": 1449756652, "post_id": 34190668, "comment_id": 56152473, "body": "I needed to add   <code>import rpy2.robjects.numpy2ri</code>  <code>rpy2.robjects.numpy2ri.activate()</code>  as I&#39;m passing a numpy object, but this did work"}], "tags": [], "owner": {"reputation": 10688, "user_id": 294017, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/8e5422a173711c086b685140dbc498fe?s=128&d=identicon&r=PG", "display_name": "lgautier", "link": "https://stackoverflow.com/users/294017/lgautier"}, "is_accepted": true, "score": 0, "last_activity_date": 1449720246, "last_edit_date": 1449720246, "creation_date": 1449702112, "answer_id": 34190668, "question_id": 34187579, "link": "https://stackoverflow.com/questions/34187579/converting-a-script-from-rpy-to-rpy2-using-rpy2-rpy-classic/34190668#34190668", "title": "Converting a script from rpy to rpy2 using rpy2.rpy_classic", "body": "<p><code>rpy_classic</code> was mostly there in the early days to demonstrate that the lower-level interface in rpy2 could be used to implement any higher-level interface, including the one in <code>rpy</code>. It is not meant to be an ultimate compatibility tool.</p>\n\n<p>With rpy2's high-level interface <code>robjects</code>, your rpy code would look like:</p>\n\n<pre><code>from rpy2.robjects.packages import importr\nfrom rpy2.robjects import r\n\nlib=importr('&lt;libname&gt;')\nrfunc=r(\"\"\"\n  function(x,a={options.a},b={options.b})  {{\n    ... \n    *R code here* \n    ...\n    l&lt;-list(o=o,md=a+b) \n    l\n  }}\"\"\".format(options=options))\n\nout = rfunc(&lt;python expression&gt;).rx2('o')\n</code></pre>\n"}], "owner": {"reputation": 133, "user_id": 5476453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b467714518a9a60b6048c54362431566?s=128&d=identicon&r=PG", "display_name": "user36196", "link": "https://stackoverflow.com/users/5476453/user36196"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 277, "favorite_count": 0, "accepted_answer_id": 34190668, "answer_count": 1, "score": 0, "last_activity_date": 1449720246, "creation_date": 1449690014, "question_id": 34187579, "link": "https://stackoverflow.com/questions/34187579/converting-a-script-from-rpy-to-rpy2-using-rpy2-rpy-classic", "title": "Converting a script from rpy to rpy2 using rpy2.rpy_classic", "body": "<p>I'm a bit of a novice when it comes to python, but I want to convert a python script using rpy into one using rpy2. We do have rpy installed somewhere (for python 2.6.x), but it's not playing nicely with the current version of R (3.2.0). We do however have rpy2 installed for the version of python being used in these scripts (python 2.7[.5])</p>\n\n<p>As far as I can tell, these are the lines which need to change (I've simplified the function a bit):</p>\n\n<pre><code>from rpy import r\n\nr.library('&lt;libname&gt;', quietly=True)\nr(\"\"\"\\\nfunc &lt;- function(x,a={options.a},b={options.b})  {{\n... \n*R code here* \n...\nl&lt;-list(o=o,md=a+b) \nl\n}}\"\"\".format(options=options))\n</code></pre>\n\n<p>and later in the script, there's a line which calls this function:</p>\n\n<pre><code>out = r.func(&lt;python expression&gt;)['o']\n</code></pre>\n\n<p>I can do the first half as follows:</p>\n\n<pre><code>import rpy2.rpy_classic as rpy\n\nrpy.set_default_mode(rpy.NO_CONVERSION)\n\nrpy.r.library('&lt;libname&gt;', quietly=True)\nrpy.r(\"\"\"\\\nfunc &lt;- function(x,a={options.a},b={options.b})  {{\n... \n*R code here* \n...\nl&lt;-list(o=o,md=a+b) \nl\n}}\"\"\".format(options=options))\n</code></pre>\n\n<p>Trying the above at an interactive prompt (with some fake data), the output is:</p>\n\n<pre><code>&lt;rpy2.rpy_classic.Robj object at 0x2b9e48481510&gt;\n</code></pre>\n\n<p>but I need the output value of the function <code>rpy.r.func</code> rather than its not-converted value (as I need to obtain the <code>func(&lt;expression)$o</code> value)</p>\n\n<p>Am I moving on the right track? And how do I rewrite the rpy (v1) code so that I get what I want (from rpy2)?</p>\n"}]