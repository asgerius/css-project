[{"tags": ["python"], "comments": [{"owner": {"reputation": 1359, "user_id": 2857873, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/huAYF.png?s=128&g=1", "display_name": "Florian Wendelborn", "link": "https://stackoverflow.com/users/2857873/florian-wendelborn"}, "edited": false, "score": 4, "creation_date": 1461196841, "post_id": 36757259, "comment_id": 61094345, "body": "You should change the title to not get downvoted here, also your code isn&#39;t indented."}, {"owner": {"reputation": 5896, "user_id": 5644961, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-r4jx_ltcdtA/AAAAAAAAAAI/AAAAAAAAAAA/7RjDfLKZHxg/photo.jpg?sz=128", "display_name": "Copperfield", "link": "https://stackoverflow.com/users/5644961/copperfield"}, "edited": false, "score": 0, "creation_date": 1461198090, "post_id": 36757259, "comment_id": 61094668, "body": "remember that in python block of code are defined by its identation level, unlike other lengujes where other marker are use like <code>{</code> and <code>}</code> to define said block"}, {"owner": {"reputation": 1, "user_id": 6232890, "user_type": "registered", "profile_image": "https://graph.facebook.com/565194016987281/picture?type=large", "display_name": "Louis Lippolis", "link": "https://stackoverflow.com/users/6232890/louis-lippolis"}, "edited": false, "score": 0, "creation_date": 1461198234, "post_id": 36757259, "comment_id": 61094707, "body": "well that&#39;s the issue when I copied and pasted this from an e-mail, was working on it on a different laptop so e-mailed it to myself and copied it on here, the indentation level got all messed up. Thought I did indent though when posted, thanks for pointing out."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 6232890, "user_type": "registered", "profile_image": "https://graph.facebook.com/565194016987281/picture?type=large", "display_name": "Louis Lippolis", "link": "https://stackoverflow.com/users/6232890/louis-lippolis"}, "edited": false, "score": 0, "creation_date": 1461197991, "post_id": 36757408, "comment_id": 61094635, "body": "ok thanks for the feedback as for the observations you pointed out i&#39;ll try saying what I was trying to do. For the first one I have no clue what value to add. For the second in the third method I am trying to write a for while loop. With the third one in the list1.append when it finds a cluster that is allocated it&#39;s supposed to be added to the list, and the fourth one is still undefined. I am just drawing a huge blank on how to fix the third method correctly."}], "tags": [], "owner": {"reputation": 3650, "user_id": 6004486, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17c24716401bb14cca523bd36f8f8525?s=128&d=identicon&r=PG&f=1", "display_name": "jDo", "link": "https://stackoverflow.com/users/6004486/jdo"}, "is_accepted": false, "score": 0, "last_activity_date": 1461197591, "creation_date": 1461197591, "answer_id": 36757408, "question_id": 36757259, "link": "https://stackoverflow.com/questions/36757259/method-calling-issues/36757408#36757408", "title": "Method calling issues", "body": "<p>Just some observations:</p>\n\n<pre><code>class Fat:\n    def __init__(self, fat):\n    self._fat # &lt;------------------- this should be given a value\n\ndef clusterChain(self,cluster):\n    list1 =[]\n    while isAllocated: # &lt;---------- this doesn't actually call the function\n        for item in isAllocated:\n            continue\n        list1.append # &lt;------------ this does nothing\n    value = 0 # &lt;------------------- this looks undefined\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 6232890, "user_type": "registered", "profile_image": "https://graph.facebook.com/565194016987281/picture?type=large", "display_name": "Louis Lippolis", "link": "https://stackoverflow.com/users/6232890/louis-lippolis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 24, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1461197759, "creation_date": 1461196667, "last_edit_date": 1461197759, "question_id": 36757259, "link": "https://stackoverflow.com/questions/36757259/method-calling-issues", "title": "Method calling issues", "body": "<pre><code>#!/usr.byn/python3\n\nimport struct\n\nclass Fat:\ndef __init__(self, fat):\nself._fat\n\n    def entryValue(self, cluster):\n    value = struct.unpackf=t('I', fat[cluster*4:cluster*4+4])[0]\n    return value\n\n    def isAllocated(self, cluster):\n    return self.entryValue(cluster)!=0\n\n    def nextCluster(self, cluster):\n      if (self.entryValue(cluster)==0 or\n      self.entryValue(cluster)==0x0fffffff):\n        return None\n          else:\n        return self.entryValue(cluster)\n\n     def clusterChain(self,cluster):\n    list1 =[]\n    while isAllocated:\n    for item in isAllocated:\n    continue\n    list1.append\n    value = 0\n\n\n\n\n''' make empty list, if cluster is allocated append it to list\nif not allocated start at new cluster, return list\nmake do while loop'''\n\ndef main():\nwith open('/home/louis/Downloads/fat-only.dd', 'rb') as f:\nfat=f.read()\nfat1=Fat(fat)\n</code></pre>\n\n<p>As i'm still learning python, I still have some code writing issues and any help would be greatly appreciated. As mentioned in the comment in my third method there I need to check to see if the cluster is allocated or not, and if it is it gets added to the list, and if not it just goes on to the next cluster. Just very confused on how to continue or what to change in the third method, I know that at least my first two are good from some previous help I sought out.</p>\n"}, {"tags": ["python", "flask"], "comments": [{"owner": {"reputation": 3650, "user_id": 6004486, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17c24716401bb14cca523bd36f8f8525?s=128&d=identicon&r=PG&f=1", "display_name": "jDo", "link": "https://stackoverflow.com/users/6004486/jdo"}, "edited": false, "score": 0, "creation_date": 1461196884, "post_id": 36757256, "comment_id": 61094352, "body": "<code>while self.counterOn == 1:</code> would make more sense than <code>while True</code>, I think. Even then, you might not be able to do what you want without some external interference. Your loop could read from a file that the web interface can write to and determine its course of action that way."}, {"owner": {"reputation": 1, "user_id": 6232873, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c533498bb7b60c962b02d223effbe4b?s=128&d=identicon&r=PG&f=1", "display_name": "thekevster08", "link": "https://stackoverflow.com/users/6232873/thekevster08"}, "reply_to_user": {"reputation": 3650, "user_id": 6004486, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17c24716401bb14cca523bd36f8f8525?s=128&d=identicon&r=PG&f=1", "display_name": "jDo", "link": "https://stackoverflow.com/users/6004486/jdo"}, "edited": false, "score": 0, "creation_date": 1461197258, "post_id": 36757256, "comment_id": 61094452, "body": "That&#39;s actually not a bad idea. I&#39;m not really familiar with python (or programming at all really) so am really just going for a &quot;make it work&quot; kind of approach, but I would like to learn the &quot;proper&quot; way of doing things if at all possible. I&#39;ll be having some temperature controlling functions going as well, so maybe an external file would be the cleanest way of doing it. I&#39;ll see if anyone else has an idea, but thanks!"}, {"owner": {"reputation": 3650, "user_id": 6004486, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17c24716401bb14cca523bd36f8f8525?s=128&d=identicon&r=PG&f=1", "display_name": "jDo", "link": "https://stackoverflow.com/users/6004486/jdo"}, "edited": false, "score": 0, "creation_date": 1461197793, "post_id": 36757256, "comment_id": 61094587, "body": "Cool cool. I&#39;ve used external files like this myself; e.g. for a scheduling system, to manage cron jobs without actually editing the crontab, to do sensor readings, control relays, etc. It works fine."}], "answers": [{"tags": [], "owner": {"reputation": 504, "user_id": 1450189, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5f544a5e9f728e189c0088c13e1639a3?s=128&d=identicon&r=PG", "display_name": "AlexO&#39;Neill", "link": "https://stackoverflow.com/users/1450189/alexoneill"}, "is_accepted": false, "score": 0, "last_activity_date": 1461201509, "creation_date": 1461201509, "answer_id": 36757921, "question_id": 36757256, "link": "https://stackoverflow.com/questions/36757256/python-exiting-while-loop-externally/36757921#36757921", "title": "Python - Exiting while loop externally", "body": "<p>I would try using threads again. The fact of the matter is that you have a computation that needs to run, while another instruction sequence (namely the GUI logic) also needs to execute.</p>\n\n<p>I would approach the problem with mutex's (a standard concurrency control technique) which should be able to supply a pause/unpause functionality:</p>\n\n<pre><code>import time\nimport threading\n\nclass myClass(threading.Thread):\n    num = 0\n\n    def __init__(self):\n        super(myClass, self).__init__()\n        self.num = 0\n        self.mutex = threading.Lock()\n        self.paused = False\n\n    def pause(self):\n        if(not self.paused):\n            self.mutex.acquire()\n            self.paused = True\n\n    def unpause(self):\n        self.mutex.release()\n        self.paused = False\n\n    def run(self):\n        while True:\n            self.mutex.acquire()\n            self.num += 1\n            print self.num\n            time.sleep(1)\n            self.mutex.release()\n\ncls = myClass()\ncls.start()\n\ntime.sleep(10)\ncls.pause()\ntime.sleep(2)\ncls.unpause()\ntime.sleep(2)\n</code></pre>\n\n<p>And this should output: (or something similar)</p>\n\n<pre><code>1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n(wait)\n11\n12\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 6232873, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c533498bb7b60c962b02d223effbe4b?s=128&d=identicon&r=PG&f=1", "display_name": "thekevster08", "link": "https://stackoverflow.com/users/6232873/thekevster08"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 795, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1461342173, "creation_date": 1461196643, "last_edit_date": 1461342173, "question_id": 36757256, "link": "https://stackoverflow.com/questions/36757256/python-exiting-while-loop-externally", "title": "Python - Exiting while loop externally", "body": "<p>I am writing a web server that will log temperatures. The user clicks \"collect data\" on the web interface, that then triggers a flask function to run a \"collect temperature\" function which just collects temperature data indefinitely. I then want to be able for the user to hit a \"stop data collection\" button that would stop the collect temperature function while loop.</p>\n\n<p>The problem (my understanding at least) boils down to something like the following code:</p>\n\n<pre><code>class myClass:\n    counterOn = 0\n    num = 0\n\n    def __init__(self):\n        self.num = 0\n\n    def setCounterOn(self, value):\n        self.counterOn = value\n\n    def printCounterOn(self):\n        print self.counterOn\n\n    def count(self):\n        while True:\n            if self.counterOn == 1:\n                self.num += 1\n                print self.num\n                time.sleep(1)\n</code></pre>\n\n<p>then the server file:</p>\n\n<pre><code>myCounter = myClass.myClass()\nmyCounter.setCounterOn(1)\nmyCounter.count()\ntime.sleep(5)\nmyCounter.setCounterOn(0)\n</code></pre>\n\n<p>Ideally I would like the server file to create a counter object, then turn on and off the counter function externally. As it functions now, it is stuck in the while loop. I tried threading only to discover you can't pause or stop a thread. Am I looking at this completely wrong, or is it as simple as a try/except?</p>\n\n<p><strong>Edit:</strong></p>\n\n<p>The external file idea is great. I was having some trouble parsing the text file consistantly across my functions and wound up stumbleing across ConfigParsers to read .ini files. I think I'm going to go that way since eventually I want to have a PID controller controlling the temperature and it will be great to be able to store configurations externally. </p>\n\n<p>I implemented just a while loop that looped forever and only recorded if it saw the config file configured to collect. The problem was that, in my flask file, i would run </p>\n\n<pre><code>@app.route('/startCollection', methods=['POST'])\ndef startCollectData():\n    print \"collectPressed\"\n    config.read('congif.ini')\n    config.set('main', 'counterOn', '1')\n    with open('config.ini', 'w') as f:\n        config.write(f)\n    C.count()\n    return \"collect data pressed\"\n\n@app.route('/stopCollection', methods=['POST'])\ndef stopCollectData():\n    print \"stop hit\"\n    config.read('config.ini')\n    config.set('main', 'counterOn', '0')\n    with open('config.ini', 'w') as f:\n        config.write(f)\n    C.count()    \n    return \"stop pressed\"\n\ndef count(self):\n    while True:\n        self.config.read('config.ini')\n        print self.num\n        time.sleep(1)\n        if self.config.get('main', 'counterOn') == '1':\n            self.num += 1\n</code></pre>\n\n<p>From my observation, the startDataCollection was getting stuck on count(). It would never return data, so then when i would try to stop data collection, the flask script wouldn't be there to interpret the stop command.</p>\n\n<p>So i moved on to the mutex. That is exactly the functionality i thought would come out of the box with threads. It seems to be working fine, other than there is usually a really long delay in the 2nd time i stop collection.</p>\n\n<pre><code>@app.route('/')\ndef main():\n    print \"MYLOG - asdf\"\n    cls.start()\n    cls.pause()\n    return render_template('index.html')\n\n@app.route('/startCollection', methods=['POST'])\ndef startCollectData():\n    print \"collectPressed\"\n    cls.unpause()    \n    return \"collect data pressed\"\n\n@app.route('/stopCollection', methods=['POST'])\ndef stopCollectData():\n    print \"stop hit\"    \n    cls.pause()\n    return \"collect data pressed\"\n</code></pre>\n\n<p>results in the following output if i click start, stop, start, then stop:</p>\n\n<pre><code>collectPressed\n1\n10.240.0.75 - - [22/Apr/2016 15:58:42] \"POST /startCollection HTTP/1.1\" 200    -\n2\n3\n4\n5\n6\n7\n8\n9\nstop hit\n10.240.0.207 - - [22/Apr/2016 15:58:51] \"POST /stopCollection HTTP/1.1\" 200 -\ncollectPressed\n10\n10.240.0.166 - - [22/Apr/2016 15:58:57] \"POST /startCollection HTTP/1.1\" 200 -\n11\n12\n13\n14\n15\n16\nstop hit\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n10.240.0.75 - - [22/Apr/2016 15:59:24] \"POST /stopCollection HTTP/1.1\" 200 -\n</code></pre>\n\n<p>So i hit stop, then it collects for 20 seconds, and then it finally stops. My collection points are going to be 5 minutes apart, so its not a big deal, but just curious.</p>\n\n<pre><code>import threading\nimport time\n\nclass myThread(threading.Thread):\nnum = 0\n\ndef __init__(self, threadID, name, counter):\n    threading.Thread.__init__(self)\n    self.threadID = threadID\n    self.name = name\n    self.counter = counter\n    self.mutex = threading.Lock()\n    self.paused = False\n\ndef pause(self):\n    if(not self.paused):\n        self.mutex.acquire()\n        self.paused = True\n\ndef unpause(self):\n    self.mutex.release()\n    self.paused = False\n\ndef run(self):\n    print \"starting\" + self.name\n    while True:\n        self.mutex.acquire()\n        self.num += 1\n        print self.num\n        time.sleep(1)\n        self.mutex.release()\n</code></pre>\n\n<p>Anyways, thanks for the help. I've been stuck on how to handle this for about 4 months and its great to finally make some progress on it!</p>\n\n<p><strong>Edit 2</strong>\nActually, just ran it again and it took 100 seconds for it to actually stop counting. Thats not going to cut it. Any idea whats going on?</p>\n"}, {"tags": ["python", "xml", "python-3.x", "xml-parsing"], "comments": [{"owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "edited": false, "score": 0, "creation_date": 1461196696, "post_id": 36757211, "comment_id": 61094314, "body": "Could you provide a sample XML with a couple researchers (please avoid posting the sensitive information please)? Thanks."}, {"owner": {"reputation": 1183, "user_id": 3637548, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/58v6s.jpg?s=128&g=1", "display_name": "B Furtado", "link": "https://stackoverflow.com/users/3637548/b-furtado"}, "reply_to_user": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "edited": false, "score": 0, "creation_date": 1461196926, "post_id": 36757211, "comment_id": 61094361, "body": "Here is the link [link] (<a href=\"https://www.dropbox.com/s/farljl3u0basvfx/0000301510136952_2014_estendido.xml?dl=0\" rel=\"nofollow noreferrer\">dropbox.com/s/farljl3u0basvfx/&hellip;</a>)"}], "answers": [{"comments": [{"owner": {"reputation": 1183, "user_id": 3637548, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/58v6s.jpg?s=128&g=1", "display_name": "B Furtado", "link": "https://stackoverflow.com/users/3637548/b-furtado"}, "edited": false, "score": 0, "creation_date": 1461197999, "post_id": 36757378, "comment_id": 61094640, "body": "Thanks. I am a newbie. With this one I also learned (**args) and I understood that Except: can return something. Thanks a lot. Best,"}], "tags": [], "owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "is_accepted": true, "score": 1, "last_activity_date": 1461197670, "last_edit_date": 1461197670, "creation_date": 1461197367, "answer_id": 36757378, "question_id": 36757211, "link": "https://stackoverflow.com/questions/36757211/how-to-systematically-avoid-or-ignore-child-index-out-of-range-when-reading-larg/36757378#36757378", "title": "How to systematically avoid or ignore child index out of range when reading large XML", "body": "<p>To answer your specific question: use the exception handling via <code>try</code>/<code>except</code> and handle the relevant errors that might happen when you extract the attribute values from child elements. This is sort of the <a href=\"https://docs.python.org/2/glossary.html#term-eafp\" rel=\"nofollow\"><code>EAFP</code></a> programming style. There is also the <a href=\"https://docs.python.org/2/glossary.html#term-lbyl\" rel=\"nofollow\"><code>LBYL</code></a> one.</p>\n\n<p>I would also improve the code using an intermediate dictionary to handle the <code>Researcher</code> object initialization arguments, move the <code>group_id</code> from under the loop, since we are getting it from the root element.</p>\n\n<p>The code:</p>\n\n<pre><code>from xml.etree import ElementTree\n\n\nextended = ElementTree.parse('0000301510136952_2014_estendido.xml')\n\n\ndef get_value(item, index, value):\n    try:\n        return int(item[index].attrib[value])\n    except (IndexError, KeyError, AttributeError, ValueError):\n        # TODO: log\n        return None\n\n\ndef read_researcher(extended):\n    root = extended.getroot()\n    group_id = root.attrib['NRO-ID-GRUPO']\n\n    members = []\n    for item in root[0]:\n        subitem = item[0]\n        researcher = {\n            \"group_id\": group_id,\n            \"research_id\": item.attrib.get('NRO-ID-CNPQ'),\n            \"name\": item.attrib.get('COMPLETO'),\n            \"tit\": item.attrib.get('TITULACAO-MAXIMA'),\n            \"sex\": item.attrib.get('SEXO'),\n            \"tot_nac_2011\": get_value(subitem, 0, 'TOT-BIBL-PERIODICO-NAC'),\n            \"tot_nac_2014\": get_value(subitem, 3, 'TOT-BIBL-PERIODICO-NAC'),\n            \"tot_int_2011\": get_value(subitem, 0, 'TOT-BIBL-PERIODICO-INT'),\n            \"tot_int_2014\": get_value(subitem, 3, 'TOT-BIBL-PERIODICO-INT'),\n            \"tot_bbl_2011\": get_value(subitem, 0, 'TOT-BIBL'),\n            \"tot_bbl_2014\": get_value(subitem, 3, 'TOT-BIBL'),\n        }\n\n        members.append(researchers.Researcher(**researcher))\n    return members\n</code></pre>\n"}], "owner": {"reputation": 1183, "user_id": 3637548, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/58v6s.jpg?s=128&g=1", "display_name": "B Furtado", "link": "https://stackoverflow.com/users/3637548/b-furtado"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 627, "favorite_count": 1, "accepted_answer_id": 36757378, "answer_count": 1, "score": 1, "last_activity_date": 1461197670, "creation_date": 1461196350, "last_edit_date": 1461197587, "question_id": 36757211, "link": "https://stackoverflow.com/questions/36757211/how-to-systematically-avoid-or-ignore-child-index-out-of-range-when-reading-larg", "title": "How to systematically avoid or ignore child index out of range when reading large XML", "body": "<p>I am reading a large XML with more than 106.000 entries. Each entry is a group of researchers with a lot of information. I made a reading function. </p>\n\n<p>However, if at any time, any information is missing, I will get </p>\n\n<blockquote>\n  <p>IndexError: child index out of range</p>\n</blockquote>\n\n<p>Is there a way to tell the program to <strong>ignore</strong> when the child is missing?</p>\n\n<p>Because of the diversity of the data, I will probably have different sizes of information for each individual collected data.</p>\n\n<p>It is probably not a good idea to check each time, such as:</p>\n\n<pre><code>if root[0]0][0][0]:\n    tot_nac_2011 = int(root[0][0][0][0].attrib['TOT-BIBL-PERIODICO-NAC']\n</code></pre>\n\n<p>Here is my code</p>\n\n<pre><code>from xml.etree import ElementTree\nextended = ElementTree.parse('0000301510136952_2014_estendido.xml')\n\ndef read_researcher(extended):\n    root = extended.getroot()\n    members = []\n    for each in range(len(root[0])):\n        group_id = root.attrib['NRO-ID-GRUPO']\n        research_id = root[0][each].attrib['NRO-ID-CNPQ']\n        name = root[0][each].attrib['NOME-COMPLETO']\n        tit = root[0][each].attrib['TITULACAO-MAXIMA']\n        sex = root[0][each].attrib['SEXO']\n        tot_nac_2011 = int(root[0][each][0][0].attrib['TOT-BIBL-PERIODICO-NAC'])\n        tot_nac_2014 = int(root[0][each][0][3].attrib['TOT-BIBL-PERIODICO-NAC'])\n        tot_int_2011 = int(root[0][each][0][0].attrib['TOT-BIBL-PERIODICO-INT'])\n        tot_int_2014 = int(root[0][each][0][3].attrib['TOT-BIBL-PERIODICO-INT'])\n        tot_bbl_2011 = int(root[0][each][0][0].attrib['TOT-BIBL'])\n        tot_bbl_2014 = int(root[0][each][0][3].attrib['TOT-BIBL'])\n        members.append(researchers.Researcher(group_id, research_id, name, tit, sex, tot_nac_2011, tot_nac_2014, tot_int_2011, tot_int_2014, tot_bbl_2011, tot_bbl_2014))\n    return members\n</code></pre>\n"}, {"tags": ["python", "pandas", "list-comprehension"], "answers": [{"tags": [], "owner": {"reputation": 86481, "user_id": 2411802, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/RA92x.jpg?s=128&g=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/2411802/alexander"}, "is_accepted": false, "score": 0, "last_activity_date": 1461199505, "last_edit_date": 1461199505, "creation_date": 1461196789, "answer_id": 36757284, "question_id": 36757176, "link": "https://stackoverflow.com/questions/36757176/pandas-list-comprehension-if-statement/36757284#36757284", "title": "pandas list comprehension if statement", "body": "<p>How about this?  For each row, it provides a list of matching words, and then expands the dataframe so that there is only one matched word per row.</p>\n\n<pre><code>fruit_list = ['orange', 'pear', 'banana']\ndf['word_match'] = df.question.str.findall(\n    r'[\\w]+').apply(set).apply(lambda my_set: list(my_set.intersection(fruit_list)))\n&gt;&gt;&gt; df\n                           question title      word_match\n0  Hi i want to buy orange and pear   123  [orange, pear]\n1           How much is the banana?   xyz        [banana]\n\nrows = []\nfor _, row in df.iterrows():\n    [rows.append([row.question, row.title, word]) for word in row.word_match]\n&gt;&gt;&gt; pd.DataFrame(rows, columns=df.columns)\n                           question title word_match\n0  Hi i want to buy orange and pear   123     orange\n1  Hi i want to buy orange and pear   123       pear\n2           How much is the banana?   xyz     banana\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 6217, "user_id": 2800939, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/b6b787a4a60504741317199cdf1b7618?s=128&d=identicon&r=PG&f=1", "display_name": "jxn", "link": "https://stackoverflow.com/users/2800939/jxn"}, "edited": false, "score": 0, "creation_date": 1461197316, "post_id": 36757296, "comment_id": 61094465, "body": "With that,  the output for the first line has 2 fruits in there but i want them as separate rows."}, {"owner": {"reputation": 489, "user_id": 1013096, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/e91a2acad48fc3cf783de1f641610622?s=128&d=identicon&r=PG&f=1", "display_name": "lsankar4033", "link": "https://stackoverflow.com/users/1013096/lsankar4033"}, "reply_to_user": {"reputation": 6217, "user_id": 2800939, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/b6b787a4a60504741317199cdf1b7618?s=128&d=identicon&r=PG&f=1", "display_name": "jxn", "link": "https://stackoverflow.com/users/2800939/jxn"}, "edited": false, "score": 1, "creation_date": 1461206761, "post_id": 36757296, "comment_id": 61096801, "body": "Ah I didn&#39;t read the question properly.  I don&#39;t know that there&#39;s a good way to flatmap a data frame that doesn&#39;t involve copying rows, so Asav&#39;s answer may be the way to go"}], "tags": [], "owner": {"reputation": 489, "user_id": 1013096, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/e91a2acad48fc3cf783de1f641610622?s=128&d=identicon&r=PG&f=1", "display_name": "lsankar4033", "link": "https://stackoverflow.com/users/1013096/lsankar4033"}, "is_accepted": false, "score": 3, "last_activity_date": 1461196882, "creation_date": 1461196882, "answer_id": 36757296, "question_id": 36757176, "link": "https://stackoverflow.com/questions/36757176/pandas-list-comprehension-if-statement/36757296#36757296", "title": "pandas list comprehension if statement", "body": "<p>I believe what you want is:</p>\n\n<pre><code>fruit_list=['orange','pear','banana']\n\ndf['fruit'] = [[f for f in fruit_list if f in qn] for qn in df['question']]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 928, "user_id": 2260553, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/jkXDO.jpg?s=128&g=1", "display_name": "Asav Patel", "link": "https://stackoverflow.com/users/2260553/asav-patel"}, "edited": false, "score": 0, "creation_date": 1526688953, "post_id": 36757757, "comment_id": 87856636, "body": "would you mind accepting the answer if it did solved the issue for you?"}], "tags": [], "owner": {"reputation": 928, "user_id": 2260553, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/jkXDO.jpg?s=128&g=1", "display_name": "Asav Patel", "link": "https://stackoverflow.com/users/2260553/asav-patel"}, "is_accepted": false, "score": 2, "last_activity_date": 1461200223, "creation_date": 1461200223, "answer_id": 36757757, "question_id": 36757176, "link": "https://stackoverflow.com/questions/36757176/pandas-list-comprehension-if-statement/36757757#36757757", "title": "pandas list comprehension if statement", "body": "<p>How about this?</p>\n\n<pre><code>input = [{\"question\" : \"Hi i want to buy orange and pear\", \"title\" : 123}\n        , {\"question\" : \"How much is the banana?\", \"title\" : 456}]\nlist_size = len(input)\n\noutput = []\n\nfruit_list=['orange','pear','banana']\n\nfor i in range(list_size):\n    fruits = [f for f in fruit_list if f in input[i].get(\"question\")]\n    for f in fruits:\n        if not input[i].get(\"fruit\"):\n            input[i]['fruit'] = f\n        else:\n            i = input[i].copy() # need to append a copy, otherwise it will just add references to the same dictionary over and over again\n            i['fruit'] = f\n            input.append(i) \nprint (input)\n</code></pre>\n\n<p>If you don't want to create new object after modification then above code would work but if it's ok to create another object for output then code becomes more simpler.</p>\n\n<pre><code>input = [{\"question\" : \"Hi i want to buy orange and pear\", \"title\" : 123}\n                     , {\"question\" : \"How much is the banana?\", \"title\" : 456}]\noutput = []\nfruit_list=['orange','pear','banana']\n\nfor i in input:\n    fruits = [f for f in fruit_list if f in i.get(\"question\")]\n    for f in fruits:\n        i['fruit'] = f\n        output.append(i.copy()) # need to append a copy, otherwise it will just add references to the same dictionary over and over again\nprint (output)\n</code></pre>\n\n<p>hope it helps</p>\n"}], "owner": {"reputation": 6217, "user_id": 2800939, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/b6b787a4a60504741317199cdf1b7618?s=128&d=identicon&r=PG&f=1", "display_name": "jxn", "link": "https://stackoverflow.com/users/2800939/jxn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2453, "favorite_count": 1, "answer_count": 3, "score": 1, "last_activity_date": 1461200223, "creation_date": 1461196123, "question_id": 36757176, "link": "https://stackoverflow.com/questions/36757176/pandas-list-comprehension-if-statement", "title": "pandas list comprehension if statement", "body": "<p>I want to loop through a column in my dataframe such that if the word exist, then add to a new column the word. </p>\n\n<h1>This is my data:</h1>\n\n<pre><code>import pandas as pd\n\nd = {'title':pd.Series(['123','xyz']),\n'question':pd.Series([\"Hi i want to buy orange and pear\", \"How much is the banana?\"])\n }\ndf =pd.DataFrame(d)\n</code></pre>\n\n<h1>df</h1>\n\n<pre><code>                         question     title\n0  Hi i want to buy orange and pear   123\n1           How much is the banana?   xyz\n</code></pre>\n\n<h1>code:</h1>\n\n<pre><code>#write to column if word exist:\n\nfruit_list=['orange','pear','banana']\nfor i in fruit_list:\n    df['fruit']=[i if i in qn for qn in df['question']]\n</code></pre>\n\n<h1>desired output:</h1>\n\n<pre><code>                         question     title   fruit\n0  Hi i want to buy orange and pear   123     orange\n1  Hi i want to buy orange and pear   123     pear\n2  How much is the banana?            xyz     banana\n</code></pre>\n\n<h1>error</h1>\n\n<pre><code>SyntaxError: invalid syntax at the 'for' word. \n</code></pre>\n"}, {"tags": ["python", "cx-oracle"], "answers": [{"tags": [], "owner": {"reputation": 41, "user_id": 4127163, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/680942e71b9c547e822e2e9c3481cb2e?s=128&d=identicon&r=PG&f=1", "display_name": "KunalBhai", "link": "https://stackoverflow.com/users/4127163/kunalbhai"}, "is_accepted": false, "score": 0, "last_activity_date": 1461309703, "last_edit_date": 1461309703, "creation_date": 1461299261, "answer_id": 36784820, "question_id": 36757163, "link": "https://stackoverflow.com/questions/36757163/using-cx-oracle-converting-query-output-to-dictonary-object/36784820#36784820", "title": "Using cx_Oracle converting query output to dictonary object", "body": "<p>I figured out a method to do this. Below is the relevant code snippet: </p>\n\n<pre><code>column_name = [column1,column2,column3]\n for row in cur:\n        list_row = list(row) # convert the tuple row to a list type. \n        final = zip(column_names,list_row) # zip the two lists.  \n        dict_final = dict(final) # Convert the resulting final list to a dictionary. \n</code></pre>\n\n<p>I don't know if there is a better way to do this, but this is what I came up with. </p>\n"}], "owner": {"reputation": 41, "user_id": 4127163, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/680942e71b9c547e822e2e9c3481cb2e?s=128&d=identicon&r=PG&f=1", "display_name": "KunalBhai", "link": "https://stackoverflow.com/users/4127163/kunalbhai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 151, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1461309703, "creation_date": 1461196060, "question_id": 36757163, "link": "https://stackoverflow.com/questions/36757163/using-cx-oracle-converting-query-output-to-dictonary-object", "title": "Using cx_Oracle converting query output to dictonary object", "body": "<p>When using the cx_oracle module in python , when i run a query and print the output, it gives it as a tuple object. However I want to have the output as a dictionary object having it neatly : \n{,'' , ,'' , ,'' , }</p>\n\n<p>is there a quick thing I can do for this ?</p>\n"}, {"tags": ["python", "scikit-learn", "logistic-regression", "bernoulli-probability"], "answers": [{"comments": [{"owner": {"reputation": 501, "user_id": 1876833, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dd7e6e3b04994327176ae7693c57a21f?s=128&d=identicon&r=PG", "display_name": "Erin", "link": "https://stackoverflow.com/users/1876833/erin"}, "edited": false, "score": 0, "creation_date": 1461258430, "post_id": 36758704, "comment_id": 61129188, "body": "Perhaps my question was unclear. I know how to make a dummy matrix. I was asking about how to, rather than sending in rows with indicator variable 1 and 0, instead sum over all identical rows, and send in (80 1&#39;s, 10, 0&#39;s), rather than 90 rows with all the same features."}, {"owner": {"reputation": 7661, "user_id": 1030820, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7bd43a0f1dab655253a7003bf201d290?s=128&d=identicon&r=PG", "display_name": "Ibraim Ganiev", "link": "https://stackoverflow.com/users/1030820/ibraim-ganiev"}, "reply_to_user": {"reputation": 501, "user_id": 1876833, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dd7e6e3b04994327176ae7693c57a21f?s=128&d=identicon&r=PG", "display_name": "Erin", "link": "https://stackoverflow.com/users/1876833/erin"}, "edited": false, "score": 0, "creation_date": 1461259428, "post_id": 36758704, "comment_id": 61129696, "body": "@Erin, Hmm, still I don&#39;t understand what you mean. Maybe you want to use sparse-matrix? By &quot;row&quot; you mean separate sample of your dataset?"}, {"owner": {"reputation": 501, "user_id": 1876833, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dd7e6e3b04994327176ae7693c57a21f?s=128&d=identicon&r=PG", "display_name": "Erin", "link": "https://stackoverflow.com/users/1876833/erin"}, "edited": false, "score": 0, "creation_date": 1461347487, "post_id": 36758704, "comment_id": 61174688, "body": "I thought sparsity referred to the features, not the outcome. I found a way to do it with statsmodels instead of sklearn <a href=\"http://statsmodels.sourceforge.net/devel/examples/notebooks/generated/glm.html\" rel=\"nofollow noreferrer\">here</a>."}], "tags": [], "owner": {"reputation": 7661, "user_id": 1030820, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7bd43a0f1dab655253a7003bf201d290?s=128&d=identicon&r=PG", "display_name": "Ibraim Ganiev", "link": "https://stackoverflow.com/users/1030820/ibraim-ganiev"}, "is_accepted": false, "score": 0, "last_activity_date": 1461206865, "creation_date": 1461206865, "answer_id": 36758704, "question_id": 36757158, "link": "https://stackoverflow.com/questions/36757158/can-you-use-counts-in-sklearn-logistic-regression-input/36758704#36758704", "title": "Can you use counts in sklearn logistic regression input?", "body": "<p>If they are categorical - you should provide binarized version of it. I don't know how that code in R works, but you should binarize your categorical feature always. Because you have to emphasize that each value of your feature is not related to other one, i.e. for feature \"blood_type\" with possible values 1,2,3,4 your classifier must learn that 2 is not related to 3, and 4 is not related to 1 in any sense. These is achieved by binarization.</p>\n\n<p>If you have too many features after binarization - you can reduce dimensionality of binarized dataset by FeatureHasher or more sophisticated methods like PCA.</p>\n"}], "owner": {"reputation": 501, "user_id": 1876833, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/dd7e6e3b04994327176ae7693c57a21f?s=128&d=identicon&r=PG", "display_name": "Erin", "link": "https://stackoverflow.com/users/1876833/erin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 269, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1461206865, "creation_date": 1461196041, "last_edit_date": 1461197417, "question_id": 36757158, "link": "https://stackoverflow.com/questions/36757158/can-you-use-counts-in-sklearn-logistic-regression-input", "title": "Can you use counts in sklearn logistic regression input?", "body": "<p>So, I know that in R you can provide data for a logistic regression in this form:</p>\n\n<p><code>model &lt;- glm( cbind(count_1, count_0) ~ [features] ..., family = 'binomial' )</code></p>\n\n<p>Is there a way to do something like <code>cbind(count_1, count_0)</code> with sklearn.linear_model.LogisticRegression? Or do I actually have to provide all those duplicate rows?  (My features are categorical, so there would be a lot of redundancy.)</p>\n"}, {"tags": ["python", "windows", "pip", "kivy"], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 3226637, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dabdbbee22424c0c029d2c1573fea12b?s=128&d=identicon&r=PG&f=1", "display_name": "greenvironmentalist", "link": "https://stackoverflow.com/users/3226637/greenvironmentalist"}, "edited": false, "score": 0, "creation_date": 1464142973, "post_id": 36766218, "comment_id": 62358523, "body": "By deleting the folders: kivy.deps.glew-0.1.4.dist-info kivy.deps.gstreamer-0.1.5.dist-info kivy.deps.sdl2-0.1.12.dist-info  and the files: kivy.deps.glew-0.1.4-py2.7-nspkg.pth kivy.deps.gstreamer-0.1.5-py2.7-nspkg.pth kivy.deps.sdl2-0.1.12-py2.7-nspkg.pth  from C:\\Python27\\Lib\\site-packages and python works fine now. I was could not uninstall within pip. I know this was probably not the best way to go about it, but I don&#39;t want to put the effort in right now to reinstall all the libs I have installed."}], "tags": [], "owner": {"reputation": 7293, "user_id": 5994041, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dWWF9.png?s=128&g=1", "display_name": "Peter Badida", "link": "https://stackoverflow.com/users/5994041/peter-badida"}, "is_accepted": true, "score": 0, "last_activity_date": 1461232958, "creation_date": 1461232958, "answer_id": 36766218, "question_id": 36757122, "link": "https://stackoverflow.com/questions/36757122/windows-7-pip-error-after-kivy-installation/36766218#36766218", "title": "Windows 7 pip error after kivy installation", "body": "<p>Seems to me that you have had an old version installed and you didn't remove it before installing a new version, therefore kivy.deps I think(?) crippled your <code>pip</code> a little bit. Maybe you forgot you'd installed kivy before?</p>\n\n<p>Remove the version you tried to install if you can through pip, then remove <code>Kivy 1.8.0</code> and deps and <em>then</em> install a new version. If you don't have anything important in your python, just throw it away and install it from scratch and spare yourself time.</p>\n\n<p>If you have the portable package kivy provided for 1.8.0, you can use <a href=\"https://kivy.org/docs/installation/installation-windows.html#use-development-kivy\" rel=\"nofollow\">this guide</a></p>\n"}], "owner": {"reputation": 13, "user_id": 3226637, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dabdbbee22424c0c029d2c1573fea12b?s=128&d=identicon&r=PG&f=1", "display_name": "greenvironmentalist", "link": "https://stackoverflow.com/users/3226637/greenvironmentalist"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1595, "favorite_count": 0, "accepted_answer_id": 36766218, "answer_count": 1, "score": 0, "last_activity_date": 1461232958, "creation_date": 1461195712, "question_id": 36757122, "link": "https://stackoverflow.com/questions/36757122/windows-7-pip-error-after-kivy-installation", "title": "Windows 7 pip error after kivy installation", "body": "<p>I used the provided commands on the windows installation section for kivy. Kivy works, at least at the most basic form. It will make the Hello World basic app here, <a href=\"https://kivy.org/docs/guide/basic.html\" rel=\"nofollow\">https://kivy.org/docs/guide/basic.html</a></p>\n\n<p>But when I try to do \"python -m pip ###\" or \"pip ###\" where ### is the command (even list) it crashed before executing. When running python from command line the 3 errors are printed at the top, but then python interpreter runs no problem.</p>\n\n<p>This is the output from running a pip command.</p>\n\n<pre><code>C:\\Users\\G@te_Keep3r&gt;pip list\nError processing line 2 of C:\\Python27\\lib\\site-packages\\kivy.deps.glew-0.1.4-py\n2.7-nspkg.pth:\n\n  Traceback (most recent call last):\n    File \"C:\\Python27\\lib\\site.py\", line 152, in addpackage\n      exec line\n    File \"&lt;string&gt;\", line 1, in &lt;module&gt;\n  KeyError: 'kivy'\n\nRemainder of file ignored\nError processing line 2 of C:\\Python27\\lib\\site-packages\\kivy.deps.gstreamer-0.1\n.5-py2.7-nspkg.pth:\n\n  Traceback (most recent call last):\n    File \"C:\\Python27\\lib\\site.py\", line 152, in addpackage\n      exec line\n    File \"&lt;string&gt;\", line 1, in &lt;module&gt;\n  KeyError: 'kivy'\n\nRemainder of file ignored\nError processing line 2 of C:\\Python27\\lib\\site-packages\\kivy.deps.sdl2-0.1.12-p\ny2.7-nspkg.pth:\n\n  Traceback (most recent call last):\n    File \"C:\\Python27\\lib\\site.py\", line 152, in addpackage\n      exec line\n    File \"&lt;string&gt;\", line 1, in &lt;module&gt;\n  KeyError: 'kivy'\n\nRemainder of file ignored\n[INFO              ] Kivy v1.8.0\n[INFO              ] [Logger      ] Record log in C:\\Users\\G@te_Keep3r\\.kivy\\log\ns\\kivy_16-04-20_13.txt\n Traceback (most recent call last):\n   File \"C:\\Python27\\lib\\runpy.py\", line 162, in _run_module_as_main\n     \"__main__\", fname, loader, pkg_name)\n   File \"C:\\Python27\\lib\\runpy.py\", line 72, in _run_code\n     exec code in run_globals\n   File \"C:\\Python27\\Scripts\\pip.exe\\__main__.py\", line 9, in &lt;module&gt;\n   File \"C:\\Python27\\lib\\site-packages\\pip\\__init__.py\", line 217, in main\n     return command.main(cmd_args)\n   File \"C:\\Python27\\lib\\site-packages\\pip\\basecommand.py\", line 179, in main\n     for name in [\"pip._vendor\", \"distlib\", \"requests\", \"urllib3\"]\n   File \"C:\\Python27\\lib\\logging\\config.py\", line 794, in dictConfig\n     dictConfigClass(config).configure()\n   File \"C:\\Python27\\lib\\logging\\config.py\", line 576, in configure\n     '%r: %s' % (name, e))\n ValueError: Unable to configure handler 'console_errors': 'LogFile' object has\nno attribute 'closed'\n</code></pre>\n"}, {"tags": ["python", "python-2.7"], "answers": [{"comments": [{"owner": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "reply_to_user": {"reputation": 1393, "user_id": 1267833, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/9fe1935d074ce793c65971b3ef42b09f?s=128&d=identicon&r=PG", "display_name": "Taylor", "link": "https://stackoverflow.com/users/1267833/taylor"}, "edited": false, "score": 1, "creation_date": 1461196691, "post_id": 36757131, "comment_id": 61094312, "body": "@Taylor - note change in 2nd example. <code>types.MethodType()</code> appears to be preferred over <code>__get__()</code>."}], "tags": [], "owner": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "is_accepted": true, "score": 3, "last_activity_date": 1461196662, "last_edit_date": 1495542252, "creation_date": 1461195816, "answer_id": 36757131, "question_id": 36757100, "link": "https://stackoverflow.com/questions/36757100/a-function-that-modifies-its-classs-data-objects/36757131#36757131", "title": "a function that modifies its class&#39;s data objects", "body": "<p>You can pass in a reference to whatever object you intend to modify.</p>\n\n<pre><code>class TestClass(object):\n\n    def __init__(self, ctrl_func):\n        self.a = 4\n        self.ctrl_func = ctrl_func\n\n    def do_stuff(self):\n        self.ctrl_func(self)\n\ndef test_controller(self):\n    self.a = 20\n\nmy_thing = TestClass(test_controller)\nprint my_thing.a         #this prints 4\nmy_thing.ctrl_func(my_thing)\nprint my_thing.a         #this prints 4 but I want it to print 20\n</code></pre>\n\n<p>Alternatively, you can convert ctrl_func into a bound method of the object:</p>\n\n<pre><code>import types\n\nclass TestClass(object):\n\n    def __init__(self, ctrl_func):\n        self.a = 4\n        self.ctrl_func = types.MethodType(ctrl_func, self)\n\n    def do_stuff(self):\n        self.ctrl_func()\n\ndef test_controller(self):\n    self.a = 20\n\nmy_thing = TestClass(test_controller)\nprint my_thing.a         #this prints 4\nmy_thing.ctrl_func()\nprint my_thing.a         #this prints 4 but I want it to print 20\n</code></pre>\n\n<p>Reference: </p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/a/1015405/8747\">https://stackoverflow.com/a/1015405/8747</a></li>\n<li><a href=\"http://igorsobreira.com/2011/02/06/adding-methods-dynamically-in-python.html\" rel=\"nofollow noreferrer\">http://igorsobreira.com/2011/02/06/adding-methods-dynamically-in-python.html</a></li>\n</ul>\n"}], "owner": {"reputation": 1393, "user_id": 1267833, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/9fe1935d074ce793c65971b3ef42b09f?s=128&d=identicon&r=PG", "display_name": "Taylor", "link": "https://stackoverflow.com/users/1267833/taylor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 25, "favorite_count": 0, "accepted_answer_id": 36757131, "answer_count": 1, "score": 1, "last_activity_date": 1461196662, "creation_date": 1461195601, "question_id": 36757100, "link": "https://stackoverflow.com/questions/36757100/a-function-that-modifies-its-classs-data-objects", "title": "a function that modifies its class&#39;s data objects", "body": "<p>I want to define a function, call it <code>test_controller()</code>, and I want to pass this function to a constructor: <code>my_thing = TestClass(test_controller)</code>. This function needs to be able to modify its class's data objects. I've heard of the <code>nonlocal</code> keyword for Python 3, but I'm running Python 2.7. Is it possible? How do I do this? Here's what I have tried already.</p>\n\n<pre><code>class TestClass(object):\n\n    def __init__(self, ctrl_func):\n        self.a = 4\n        self.ctrl_func = ctrl_func\n\n    def do_stuff(self):\n        self.ctrl_func()\n\ndef test_controller():\n    global a\n    a = 20\n\nmy_thing = TestClass(test_controller)\nprint my_thing.a         #this prints 4\nmy_thing.ctrl_func()\nprint my_thing.a         #this prints 4 but I want it to print 20\n</code></pre>\n"}, {"tags": ["python", "pygame", "png", "pixels", "pygame-surface"], "comments": [{"owner": {"reputation": 6553, "user_id": 3524982, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/5NAb1.png?s=128&g=1", "display_name": "James", "link": "https://stackoverflow.com/users/3524982/james"}, "edited": false, "score": 1, "creation_date": 1461220876, "post_id": 36757067, "comment_id": 61101658, "body": "Is your question about the blur or the transparent pixels? If it&#39;s about keeping the transparent pixels, just do <code>convert_alpha()</code> instead of <code>convert</code> on line 3. If it&#39;s about the blurry pixels, I&#39;m not sure what&#39;s causing it."}], "answers": [{"comments": [{"owner": {"reputation": 1876, "user_id": 5129275, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/1472284439753986/picture?type=large", "display_name": "Vladimir Shevyakov", "link": "https://stackoverflow.com/users/5129275/vladimir-shevyakov"}, "edited": false, "score": 0, "creation_date": 1462229336, "post_id": 36979505, "comment_id": 61539751, "body": "I&#39;d rather use the PIL library, but I am unfamiliar with the functions that can replace rotozoom. Can you please give an example?"}, {"owner": {"reputation": 4995, "user_id": 2907819, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VZnjr.jpg?s=128&g=1", "display_name": "kmaork", "link": "https://stackoverflow.com/users/2907819/kmaork"}, "reply_to_user": {"reputation": 1876, "user_id": 5129275, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/1472284439753986/picture?type=large", "display_name": "Vladimir Shevyakov", "link": "https://stackoverflow.com/users/5129275/vladimir-shevyakov"}, "edited": false, "score": 0, "creation_date": 1462255554, "post_id": 36979505, "comment_id": 61546980, "body": "@VladimirShevyakov Sure, I added links to the answer"}, {"owner": {"reputation": 4995, "user_id": 2907819, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VZnjr.jpg?s=128&g=1", "display_name": "kmaork", "link": "https://stackoverflow.com/users/2907819/kmaork"}, "reply_to_user": {"reputation": 1876, "user_id": 5129275, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/1472284439753986/picture?type=large", "display_name": "Vladimir Shevyakov", "link": "https://stackoverflow.com/users/5129275/vladimir-shevyakov"}, "edited": false, "score": 0, "creation_date": 1463514986, "post_id": 36979505, "comment_id": 62095281, "body": "did this help you?"}, {"owner": {"reputation": 1876, "user_id": 5129275, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/1472284439753986/picture?type=large", "display_name": "Vladimir Shevyakov", "link": "https://stackoverflow.com/users/5129275/vladimir-shevyakov"}, "edited": false, "score": 0, "creation_date": 1463607933, "post_id": 36979505, "comment_id": 62142228, "body": "Yes, thanks, it did. It didn&#39;t work the way I intended it too but from the research I did there is no way to make it work that way, and this offered a different method of achieving a surface rotation."}, {"owner": {"reputation": 4995, "user_id": 2907819, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VZnjr.jpg?s=128&g=1", "display_name": "kmaork", "link": "https://stackoverflow.com/users/2907819/kmaork"}, "reply_to_user": {"reputation": 1876, "user_id": 5129275, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/1472284439753986/picture?type=large", "display_name": "Vladimir Shevyakov", "link": "https://stackoverflow.com/users/5129275/vladimir-shevyakov"}, "edited": false, "score": 0, "creation_date": 1463640447, "post_id": 36979505, "comment_id": 62151454, "body": "Great! what is the method you finally achieved?"}], "tags": [], "owner": {"reputation": 4995, "user_id": 2907819, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VZnjr.jpg?s=128&g=1", "display_name": "kmaork", "link": "https://stackoverflow.com/users/2907819/kmaork"}, "is_accepted": true, "score": 1, "last_activity_date": 1462255529, "last_edit_date": 1462255529, "creation_date": 1462182560, "answer_id": 36979505, "question_id": 36757067, "link": "https://stackoverflow.com/questions/36757067/keeping-transparent-pixels-through-rotozoom-in-pygame-python-3/36979505#36979505", "title": "Keeping transparent pixels through rotozoom in pygame, Python 3", "body": "<p>I've had a bad experience with pygame's rotozoom combined with transparency. Instead of loading the image and then rotozooming it, consider the following:</p>\n\n<ul>\n<li><p>Using PIL library:</p>\n\n<ol>\n<li>Convert the loaded surface to a string using pygame.image.tostring</li>\n<li>Convert the string to an Image object</li>\n<li>Use PIL's functions to replace rotozoom (<a href=\"http://effbot.org/imagingbook/image.htm#tag-Image.Image.resize\" rel=\"nofollow\">zooming</a>, <a href=\"http://effbot.org/imagingbook/image.htm#tag-Image.Image.rotate\" rel=\"nofollow\">rotating</a>)</li>\n<li>Convert the Image object back into a surface using the same method</li>\n</ol></li>\n<li><p>Using math:</p>\n\n<ol>\n<li>Load data about the position and color of the particles,\nor infer it from the loaded surface</li>\n<li>Use simple mathematical functions to caculate their new position,\naccording to the angle and zoom</li>\n<li>Paint them using pygame.gfxdraw, pygame.draw or pygame.Surface.set_at</li>\n</ol></li>\n</ul>\n\n<p>Good luck!</p>\n"}], "owner": {"reputation": 1876, "user_id": 5129275, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/1472284439753986/picture?type=large", "display_name": "Vladimir Shevyakov", "link": "https://stackoverflow.com/users/5129275/vladimir-shevyakov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 178, "favorite_count": 0, "accepted_answer_id": 36979505, "answer_count": 1, "score": 0, "last_activity_date": 1462255529, "creation_date": 1461195423, "question_id": 36757067, "link": "https://stackoverflow.com/questions/36757067/keeping-transparent-pixels-through-rotozoom-in-pygame-python-3", "title": "Keeping transparent pixels through rotozoom in pygame, Python 3", "body": "<p>I'm currently making a game in pygame, Python 3 and a part of the code that has been giving me issues is:</p>\n\n<pre><code>for counter in range(0, 30):\n                particles = pygame.image.load('particles.png').convert()\n                particles = pygame.transform.rotozoom(particles, 36*counter, 1.1**counter).convert()                \n                particles.set_colorkey((0, 0, 0, 0))\n                screen.blit(particles, particles.get_rect(centerx=480, centery=100))                \n                pygame.display.flip()                \n                time.sleep(0.05)\n</code></pre>\n\n<p>particles.png is just a few colored pixels on a transparent background. The problem is that when the image is rotated and scaled, some of those particles sort of blur out resulting in a mass of black squares around them.</p>\n\n<p>How do I fix this problem? Thanks in advance!!</p>\n"}, {"tags": ["python", "openerp", "odoo-8"], "comments": [{"owner": {"reputation": 2204, "user_id": 4376900, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/S8t20.jpg?s=128&g=1", "display_name": "Jainik Patel", "link": "https://stackoverflow.com/users/4376900/jainik-patel"}, "edited": false, "score": 0, "creation_date": 1461203796, "post_id": 36756969, "comment_id": 61096076, "body": "you can use sql_constraint in odoo so thsi filed is work as a primary key."}, {"owner": {"reputation": 61, "user_id": 6204039, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/407adf87089720ed6a0c306488b38747?s=128&d=identicon&r=PG&f=1", "display_name": "khelifa", "link": "https://stackoverflow.com/users/6204039/khelifa"}, "reply_to_user": {"reputation": 2204, "user_id": 4376900, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/S8t20.jpg?s=128&g=1", "display_name": "Jainik Patel", "link": "https://stackoverflow.com/users/4376900/jainik-patel"}, "edited": false, "score": 0, "creation_date": 1461233601, "post_id": 36756969, "comment_id": 61110663, "body": "How add sql contraint ?"}], "answers": [{"comments": [{"owner": {"reputation": 61, "user_id": 6204039, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/407adf87089720ed6a0c306488b38747?s=128&d=identicon&r=PG&f=1", "display_name": "khelifa", "link": "https://stackoverflow.com/users/6204039/khelifa"}, "edited": false, "score": 0, "creation_date": 1461239868, "post_id": 36767803, "comment_id": 61115190, "body": "il always takes two record the same keys"}], "tags": [], "owner": {"reputation": 2204, "user_id": 4376900, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/S8t20.jpg?s=128&g=1", "display_name": "Jainik Patel", "link": "https://stackoverflow.com/users/4376900/jainik-patel"}, "is_accepted": false, "score": 0, "last_activity_date": 1461237004, "creation_date": 1461237004, "answer_id": 36767803, "question_id": 36756969, "link": "https://stackoverflow.com/questions/36756969/how-define-field-in-my-class-as-primary-key-and-use-it-to-browse-the-records/36767803#36767803", "title": "How define field in my ( class) as primary key and use it to browse the records between views in Odoo 8", "body": "<p>You can put this way to unique NumOffre</p>\n\n<pre><code>_sql_constraints = [\n    ('Num_Offre', 'unique(NumOffre)', 'Offre Number must be unique!'),\n]\n</code></pre>\n"}], "owner": {"reputation": 61, "user_id": 6204039, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/407adf87089720ed6a0c306488b38747?s=128&d=identicon&r=PG&f=1", "display_name": "khelifa", "link": "https://stackoverflow.com/users/6204039/khelifa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 929, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1461237004, "creation_date": 1461194745, "question_id": 36756969, "link": "https://stackoverflow.com/questions/36756969/how-define-field-in-my-class-as-primary-key-and-use-it-to-browse-the-records", "title": "How define field in my ( class) as primary key and use it to browse the records between views in Odoo 8", "body": "<p><strong>Please, I am beginner in python my question is how define field in my table (class) as primary key and use it to browse the records between views.</strong></p>\n\n<p>Exemple : </p>\n\n<p>How to define <strong>NumOffre</strong> as primary key and use it later between views</p>\n\n<pre><code>enter code here\nclass saisirsoum(osv.osv):\n_name='saisir.soum' \n\n_columns = {\n    'NumOffre' : fields.char('N\u00b0 Offre'), # to be defined as primary key !!\n    'organisme_s' : fields.char('Organisme'),\n    'des_offre' : fields.char('Designation'),\n    'order_line' : fields.one2many('saisir.soumission.ligne','order_id','soumission_id'),\n    'observation_d' : fields.text('Observation'),\n    }\n</code></pre>\n"}, {"tags": ["python", "recursion"], "comments": [{"owner": {"reputation": 21133, "user_id": 1084416, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RLhZZ.jpg?s=128&g=1", "display_name": "Peter Wood", "link": "https://stackoverflow.com/users/1084416/peter-wood"}, "edited": false, "score": 0, "creation_date": 1461195031, "post_id": 36756936, "comment_id": 61093870, "body": "Having <code>&#39;please enter&#39;</code> means you can&#39;t easily automatically test it. I wish schools would teach testing first."}], "answers": [{"tags": [], "owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "is_accepted": true, "score": 1, "last_activity_date": 1461195577, "creation_date": 1461195577, "answer_id": 36757093, "question_id": 36756936, "link": "https://stackoverflow.com/questions/36756936/re-writing-function-recursively/36757093#36757093", "title": "Re-writing function recursively", "body": "<p>The <code>count</code> variable is not used in the looping version, so I'd say that's what's intended to be the \"loop counter\" for the recursive version. You could make it a default argument and start it at 0 so that it doesn't have to be called with an explicit 0, as shown below. Give the function a way to determine whether it should stop or keep recurring, show below with <code>if count &lt; height-1: .. else:</code>. If it's not time to stop, it checks whether it's the first row, in which case it prints the starting row. Otherwise, it prints one of the middle rows. Then comes the recursive call, which will do the process again. When <code>count &lt; height-1</code> is no longer true, it will print the ending row and stop recurring. Note that I've replaced your hardcoded <code>'*'</code> with <code>symb</code>.</p>\n\n<p>I've included calls to each function for testing.</p>\n\n<pre><code>def hollowSquare(height, symb, count=0):\n    if count &lt; height-1:\n        if not count:\n            print (symb * height)\n        else:\n            print (symb + ' ' * (height-2) + symb)\n        hollowSquare(height, symb, count+1)\n    else:\n        print (symb * height)\n\nhollowSquare(5, '*')\n\nprint('-----')\n\ndef hollowSquare(height,symb,count):\n    innerSquare = height -2\n    print ('*' * height)\n    for i in range(innerSquare):\n        print ('*' + ' ' * innerSquare + '*')\n    print ('*' * height)\n\nhollowSquare(5, '*', 0)\n</code></pre>\n"}], "owner": {"reputation": 69, "user_id": 5570070, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e7d2f2293c120868f1133b6e13f7b478?s=128&d=identicon&r=PG&f=1", "display_name": "jjjjj", "link": "https://stackoverflow.com/users/5570070/jjjjj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 170, "favorite_count": 0, "accepted_answer_id": 36757093, "answer_count": 1, "score": 0, "last_activity_date": 1461926105, "creation_date": 1461194502, "last_edit_date": 1461926105, "question_id": 36756936, "link": "https://stackoverflow.com/questions/36756936/re-writing-function-recursively", "title": "Re-writing function recursively", "body": "<p>I am trying to print out a hollow square, recursively. I cannot figure out how to re-write the function <code>def hollowSquare()</code> to have a recursive call.<br>\nNote: I have to have 3 parameters in the hollowSquare function for this assignment, count is used to keep track in where I'm drawing at.</p>\n\n<pre><code>def validateInput():\n    n =True\n    while n != False:\n        height = int(input(\"Please enter the height of you square (must be &gt; 0): \"))\n        if height &lt; 0:\n            validateInput()\n        else:\n            symb = input(\"Please enter a character for your square:\")\n\n            return(height,symb)\n\n\ndef hollowSquare(height,symb,count):\n    innerSquare = height -2\n    print ('*' * height)\n    for i in range(innerSquare):\n        print ('*' + ' ' * innerSquare + '*')\n    print ('*' * height)  \n\n\n\n\n\n\n\ndef main():\n    height,symb = validateInput()\n    count =0    \n    hollowSquare(height,symb,count)\n\n\nmain()\n</code></pre>\n"}, {"tags": ["python", "csv", "pandas", "boxplot"], "answers": [{"comments": [{"owner": {"reputation": 34745, "user_id": 1494637, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/a50559f059e0621b4f543bcda9aad0a6?s=128&d=identicon&r=PG&f=1", "display_name": "Stefan", "link": "https://stackoverflow.com/users/1494637/stefan"}, "edited": false, "score": 0, "creation_date": 1463595539, "post_id": 36757245, "comment_id": 62135937, "body": "Did this answer your question after all?"}, {"owner": {"reputation": 85, "user_id": 13514297, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e20a19a6a831afd08c279653cf46ed31?s=128&d=identicon&r=PG&f=1", "display_name": "Mir.Emad", "link": "https://stackoverflow.com/users/13514297/mir-emad"}, "edited": false, "score": 0, "creation_date": 1591779578, "post_id": 36757245, "comment_id": 110182725, "body": "I got your point in this answer by concatenation. My case is somehow similar but with some differences. I&#39;m reading subfolders to do some stuff then plotting. Now I could plot one by one but I can not make them collected. <a href=\"https://stackoverflow.com/questions/62291164/how-to-collect-plots-and-label-axis-in-boxplot\">link</a>"}], "tags": [], "owner": {"reputation": 34745, "user_id": 1494637, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/a50559f059e0621b4f543bcda9aad0a6?s=128&d=identicon&r=PG&f=1", "display_name": "Stefan", "link": "https://stackoverflow.com/users/1494637/stefan"}, "is_accepted": false, "score": 1, "last_activity_date": 1461196573, "creation_date": 1461196573, "answer_id": 36757245, "question_id": 36756925, "link": "https://stackoverflow.com/questions/36756925/plotting-box-plot-graph-from-a-folder-with-multiple-csv-in-python/36757245#36757245", "title": "Plotting Box-Plot graph from a folder with multiple CSV in python", "body": "<p>You may want to try something along these lines:</p>\n\n<pre><code>import pandas as pd\ndata = pd.DataFrame()\nfor file in files:\n\n    df = pandas.read_csv(file, sep=',')\n    df['file'] = file\n    data = pd.concat([data, df])\n\n\nLABELS = [\"real\", \"user\", \"sys\"]\n\nplt.title('Time Taken by Classifier')\nplt.xlabel('Time_Types')\nplt.ylabel('Time_Value in (sec)')\n\n\ndata.boxplot(by='file')\n\nplt.show()\n</code></pre>\n\n<p>See <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.core.groupby.DataFrameGroupBy.boxplot.html\" rel=\"nofollow\"><code>pd.DataFrame.boxplot()</code> docs</a> and <a href=\"http://matplotlib.org/api/pyplot_api.html?highlight=scatter%20plot#matplotlib.pyplot.boxplot\" rel=\"nofollow\">underlying matplotlib implementation</a> for how you can use the keyword args to modify layout.</p>\n"}], "owner": {"reputation": 11, "user_id": 6232789, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-h6AK2XgR550/AAAAAAAAAAI/AAAAAAAAAIM/BLPBf0WeSnQ/photo.jpg?sz=128", "display_name": "user6232789", "link": "https://stackoverflow.com/users/6232789/user6232789"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3820, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1461196573, "creation_date": 1461194428, "question_id": 36756925, "link": "https://stackoverflow.com/questions/36756925/plotting-box-plot-graph-from-a-folder-with-multiple-csv-in-python", "title": "Plotting Box-Plot graph from a folder with multiple CSV in python", "body": "<p>I have a folder having multiple CSV files. Each file has 3 columns ('real','user','sys')each column has 10 time values(float) in the rows.My target is to read these csv files from the folder and make a box-whisker graph to compare the values of each csv file. I wrote the following python code and it gives me multiple(equal to the number of files) separate graphs. By removing plt.show() out of the loop only last graph is displayed.</p>\n\n<p>I want these graphs to be merged in one graph and each file name to be the labels defining which box-whisker is for which file. Kindly help.</p>\n\n<pre><code>import csv\nimport numpy as np\nimport pandas\nimport matplotlib.pyplot as plt\nimport glob\n\nfiles = glob.glob ('/Users/Desktop/sample/*.csv')\nprint files\n\nfor file in files:\n    df = pandas.read_csv(file, sep=',')\n\n    LABELS = [\"real\", \"user\", \"sys\"]\n\n    plt.title('Time Taken by Classifier')\n    plt.xlabel('Time_Types')\n    plt.ylabel('Time_Value in (sec)')\n\n\n    df.boxplot()\n\n    plt.show()\n</code></pre>\n"}, {"tags": ["python", "tcp"], "comments": [{"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1461198734, "post_id": 36756873, "comment_id": 61094856, "body": "How does it not work? Please show the entire traceback. There&#39;s nothing obvious in the code shown that would generate <code>KeyError: 4784</code>."}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 4254885, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/fe81f501639448fb54486b73ddd49203?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff B", "link": "https://stackoverflow.com/users/4254885/jeff-b"}, "edited": false, "score": 0, "creation_date": 1461225740, "post_id": 36756904, "comment_id": 61104987, "body": "Yes, I got it working. I am using an older Python in an embedded system. The struct works. Thanks!!!!"}], "tags": [], "owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "is_accepted": false, "score": 0, "last_activity_date": 1461194737, "last_edit_date": 1461194737, "creation_date": 1461194290, "answer_id": 36756904, "question_id": 36756873, "link": "https://stackoverflow.com/questions/36756873/new-to-python-bytes-in-python-2-4-3/36756904#36756904", "title": "New to Python Bytes in Python 2.4.3", "body": "<pre><code>data[2:2]  # this is your issue (it is an empty string always) ... not sure what you want here\nprint repr(\"Hello\"[2:2]) # this is no bytes of string\nprint repr(\"hello\"[2:4]) # this is 2 bytes of string\n\n# you need 2 bytes to unpack a short\nprint struct.unpack(\"h\",\"\")  # error!!\nprint struct.unpack(\"h\",\"b\") # error!!\nprint struct.unpack(\"h\",\"bq\") # ok awesome!\n\n# you also cannot have too many bytes\nprint struct.unpack(\"h\",\"bbq\") # error!!!!!!!\n\n#but you can use unpack_from to just take the bytes you define\nprint struct.unpack_from(\"h\",\"bbq\") # ok awesome again!\n</code></pre>\n\n<p>you can print out the short value of all your bytes as follows</p>\n\n<pre><code>while data:\n    sys.stdout.write(struct.unpack_from(\"h\", data)) # print this short\n    data = data[2:] # advance the buffer to the next short\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 4254885, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/fe81f501639448fb54486b73ddd49203?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff B", "link": "https://stackoverflow.com/users/4254885/jeff-b"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 100, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1461195695, "creation_date": 1461194115, "last_edit_date": 1461195695, "question_id": 36756873, "link": "https://stackoverflow.com/questions/36756873/new-to-python-bytes-in-python-2-4-3", "title": "New to Python Bytes in Python 2.4.3", "body": "<p>I need to get 16-bit integers out of a TCP packet. How do I get it to work? I have difficulty getting my data type correct.</p>\n\n<pre><code>HOST = 'localhost'\nPORT = 502\n#s = socket.socket(socket.AF_INET,socket.SOCK_STREAM)\ns = socket.socket(socket.AF_INET,socket.SOCK_STREAM)\ns.bind((HOST,PORT))\ns.listen(1)\nconn, addr = s.accept()\ndata = []\ndata = conn.recv(1024)\nprint 'Connect by', addr\nwhile (data):\n    sys.stdout.write(hexdump(data))\n    sys.stdout.write(struct.unpack(\"h\", data[2:4])) # here is error!!!!\n    data = conn.recv(1024)\n\nI get this error when running:\nConnect by ('127.0.0.1', 52741)\n0000  00 27 00 00 00 06 01 03 00 00 00 0a               .'..........\nKeyError: 4784\nPress any key to continue . . .\n</code></pre>\n\n<p>How can I improve my variable types so I can pull integers 16 and 32 bit from TCP packet.</p>\n"}, {"tags": ["python", "django", "url", "obfuscation"], "comments": [{"owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "edited": false, "score": 0, "creation_date": 1461194666, "post_id": 36756778, "comment_id": 61093775, "body": "What Django version are you using?"}, {"owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "edited": false, "score": 0, "creation_date": 1461194729, "post_id": 36756778, "comment_id": 61093793, "body": "According to the <a href=\"https://github.com/tomatohater/django-unfriendly/blob/develop/unfriendly/views.py#L38\" rel=\"nofollow noreferrer\">source code</a> though, it actually tries to preserve the url query parameters.."}, {"owner": {"reputation": 2190, "user_id": 3407571, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/42b83d3d8f26d0b4de4ff533a99ce2ff?s=128&d=identicon&r=PG&f=1", "display_name": "Alex Lord Mordor", "link": "https://stackoverflow.com/users/3407571/alex-lord-mordor"}, "reply_to_user": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "edited": false, "score": 0, "creation_date": 1461194846, "post_id": 36756778, "comment_id": 61093820, "body": "yeah, it seems to preserve the parameters, but it only preserves POST params, not GET, I dont know why, I am using Django 1.8+ by the way."}], "answers": [{"tags": [], "owner": {"reputation": 361, "user_id": 5291084, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-HewiiK-rwyc/AAAAAAAAAAI/AAAAAAAABWY/M72n3LY1-1c/photo.jpg?sz=128", "display_name": "Ranjith Singhu", "link": "https://stackoverflow.com/users/5291084/ranjith-singhu"}, "is_accepted": false, "score": 0, "last_activity_date": 1516780141, "creation_date": 1516780141, "answer_id": 48417291, "question_id": 36756778, "link": "https://stackoverflow.com/questions/36756778/django-url-obfuscate-with-get-parameters/48417291#48417291", "title": "Django url obfuscate with GET parameters", "body": "<p>Replacing</p>\n\n<pre><code>environ['QUERY_STRING'] = query\n</code></pre>\n\n<p>with</p>\n\n<p><code>from urllib import urlencode</code></p>\n\n<p><code>environ['QUERY_STRING'] = query + urlencode(request.GET) if request.GET.items() else ''</code></p>\n\n<p>In deobfuscate function of unfirendly views solved it.</p>\n"}], "owner": {"reputation": 2190, "user_id": 3407571, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/42b83d3d8f26d0b4de4ff533a99ce2ff?s=128&d=identicon&r=PG&f=1", "display_name": "Alex Lord Mordor", "link": "https://stackoverflow.com/users/3407571/alex-lord-mordor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 481, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1516780141, "creation_date": 1461193660, "question_id": 36756778, "link": "https://stackoverflow.com/questions/36756778/django-url-obfuscate-with-get-parameters", "title": "Django url obfuscate with GET parameters", "body": "<p>I have been using <a href=\"http://django-unfriendly.readthedocs.org/en/latest/\" rel=\"nofollow\">django-unfriendly</a> to obfuscate urls but it seems to work only with URLs without GET parameters like:\n<code>http://yoursite.com/music/awesome/the-melvins/</code>\nand then it transforms to:\n<code>http://yoursite.com/u/E5v4uxuNSA8I2is33c6V8lqFTcdv_IxPLDGG/</code> as the link explains.</p>\n\n<p>I need to send GET parameters with the obfuscated URL like</p>\n\n<p><code>http://yoursite.com/u/E5v4uxuNSA8I2is33c6V8lqFTcdv_IxPLDGG/?param=Hello&amp;param2=Bye</code></p>\n\n<p>But when I debug the request, the URL is passing without any parameter, it seems like they were ignored in the deobfuscation process. </p>\n\n<p>Any suggestions to make this work? Maybe another option?</p>\n"}, {"tags": ["python", "testing", "user-agent", "wsgi"], "comments": [{"owner": {"reputation": 126353, "user_id": 14660, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e55e0ec3c00f834d78fbdddeaa36e308?s=128&d=identicon&r=PG", "display_name": "Schwern", "link": "https://stackoverflow.com/users/14660/schwern"}, "edited": false, "score": 0, "creation_date": 1461196039, "post_id": 36756775, "comment_id": 61094138, "body": "I&#39;m not sure what you mean by &quot;accurate&quot; and &quot;real&quot; user-agent. Do you want to emulate what a particular browser might generate? If so, which browser?"}, {"owner": {"reputation": 3650, "user_id": 6004486, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17c24716401bb14cca523bd36f8f8525?s=128&d=identicon&r=PG&f=1", "display_name": "jDo", "link": "https://stackoverflow.com/users/6004486/jdo"}, "edited": false, "score": 0, "creation_date": 1461199263, "post_id": 36756775, "comment_id": 61095000, "body": "<a href=\"http://whatsmyuseragent.com/\" rel=\"nofollow noreferrer\">Am I missing something obvious?</a>"}, {"owner": {"reputation": 977, "user_id": 3923022, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/9f67cb6f63523e64fcc9cf9917c57f78?s=128&d=identicon&r=PG", "display_name": "Ignat", "link": "https://stackoverflow.com/users/3923022/ignat"}, "reply_to_user": {"reputation": 3650, "user_id": 6004486, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17c24716401bb14cca523bd36f8f8525?s=128&d=identicon&r=PG&f=1", "display_name": "jDo", "link": "https://stackoverflow.com/users/6004486/jdo"}, "edited": false, "score": 0, "creation_date": 1461223260, "post_id": 36756775, "comment_id": 61103260, "body": "@jDo now call that but from python, and without an http get request. Basically, what is the user-agent of a python script?"}, {"owner": {"reputation": 3650, "user_id": 6004486, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17c24716401bb14cca523bd36f8f8525?s=128&d=identicon&r=PG&f=1", "display_name": "jDo", "link": "https://stackoverflow.com/users/6004486/jdo"}, "edited": false, "score": 0, "creation_date": 1461228156, "post_id": 36756775, "comment_id": 61106718, "body": "<i>&quot;Basically, what is the user-agent of a python script?&quot;</i> It depends on the module, python version and the OS. E.g. <code>import requests; print requests.get(&quot;http:&#47;&#47;whatsmyuseragent.com&#47;&quot;).text</code> returns &quot;python-requests/2.7.0 CPython/2.7.6 Linux/3.13.0-85-generic&quot; here if I don&#39;t change anything manually. That did involve a request though. It&#39;s set <a href=\"https://github.com/kennethreitz/requests/blob/f0860bd3ca396bef15f194a449736ae3ac4f4812/requests/utils.py#L588\" rel=\"nofollow noreferrer\">here</a>, I believe"}], "answers": [{"tags": [], "owner": {"reputation": 10992, "user_id": 170431, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/votcq.jpg?s=128&g=1", "display_name": "Ken Kinder", "link": "https://stackoverflow.com/users/170431/ken-kinder"}, "is_accepted": false, "score": 0, "last_activity_date": 1461262233, "creation_date": 1461262233, "answer_id": 36777345, "question_id": 36756775, "link": "https://stackoverflow.com/questions/36756775/how-can-i-make-an-accurate-user-agent-string-in-python/36777345#36777345", "title": "How can I make an accurate user-agent string in python?", "body": "<p>If you're using Google App Engine, and the issue is having an accurate user agent <em>from within a test</em>, first thing is you'll probably want to use <a href=\"https://cloud.google.com/appengine/docs/python/tools/localunittesting\" rel=\"nofollow\">App Engine Testbed</a>. From there there are special instructions on <a href=\"https://cloud.google.com/appengine/docs/python/tools/handlertesting\" rel=\"nofollow\">using webtest</a>. Unless you're doing something weird, that should work just fine.</p>\n\n<p>The way then to pass custom headers, including user agent, is like this (<a href=\"http://docs.pylonsproject.org/projects/webtest/en/latest/testapp.html#making-requests\" rel=\"nofollow\">per the docs</a>):</p>\n\n<pre><code>app.get('/path', [params], [headers], [extra_environ], ...)\n</code></pre>\n\n<p>So for example:</p>\n\n<pre><code>app.get('/foo', headers={'User-Agent': 'Mozilla'})\n</code></pre>\n"}], "owner": {"reputation": 977, "user_id": 3923022, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/9f67cb6f63523e64fcc9cf9917c57f78?s=128&d=identicon&r=PG", "display_name": "Ignat", "link": "https://stackoverflow.com/users/3923022/ignat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 335, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1461262233, "creation_date": 1461193620, "question_id": 36756775, "link": "https://stackoverflow.com/questions/36756775/how-can-i-make-an-accurate-user-agent-string-in-python", "title": "How can I make an accurate user-agent string in python?", "body": "<p>I want to test a wsgi application. I want to make an accurate <code>environ</code> variable without making any socket connections or http calls. (If my test framework is the server, and the app lives on the same machine, why make http calls?)</p>\n\n<p>I found <a href=\"https://webtest.readthedocs.org/en/latest/\" rel=\"nofollow\">webtest</a> and am currently looking at it's source to figure it out (it's not working for google app engine apps for some reason). </p>\n\n<p>My current issue with making an accurate environ variable is the user-agent. I can get system information with <code>import platform; platform.uname()</code>, but it returns <code>Darwin</code> for Macbooks and not <code>Macintosh</code>, which is found in a <code>user-agent</code> string when sent from a macbook. I've found multiple libraries to generate 'fake' user-agents, but I want to make the <em>real</em> one.</p>\n"}, {"tags": ["python", "pandas"], "answers": [{"tags": [], "owner": {"reputation": 34745, "user_id": 1494637, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/a50559f059e0621b4f543bcda9aad0a6?s=128&d=identicon&r=PG&f=1", "display_name": "Stefan", "link": "https://stackoverflow.com/users/1494637/stefan"}, "is_accepted": true, "score": 5, "last_activity_date": 1461194241, "creation_date": 1461194241, "answer_id": 36756894, "question_id": 36756738, "link": "https://stackoverflow.com/questions/36756738/check-if-values-within-a-group-are-equal-in-pandas/36756894#36756894", "title": "Check if values within a group are equal in Pandas", "body": "<pre><code>df.groupby(level=0).agg(lambda x: len(set(x)) == 1)\n\n  Value1 Value2\nA   True  False\nB  False  False\nC   True  False\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3765, "user_id": 5828883, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/146cf80315cf243c6e1d6bc64cfdb454?s=128&d=identicon&r=PG", "display_name": "RootTwo", "link": "https://stackoverflow.com/users/5828883/roottwo"}, "is_accepted": false, "score": 3, "last_activity_date": 1461197516, "creation_date": 1461197516, "answer_id": 36757396, "question_id": 36756738, "link": "https://stackoverflow.com/questions/36756738/check-if-values-within-a-group-are-equal-in-pandas/36757396#36757396", "title": "Check if values within a group are equal in Pandas", "body": "<p>SImilar to Jansen's answer, but doesn't build the set.</p>\n\n<pre><code>df.groupby(level=0).agg(lambda s:np.unique(s).size==1)\n\n    Value1  Value2\nA   True    False\nB   False   False\nC   True    False\n</code></pre>\n"}], "owner": {"reputation": 2589, "user_id": 3776938, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/d1b19e04e44001cc1ddba3afc2212365?s=128&d=identicon&r=PG&f=1", "display_name": "AJG519", "link": "https://stackoverflow.com/users/3776938/ajg519"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4711, "favorite_count": 0, "accepted_answer_id": 36756894, "answer_count": 2, "score": 3, "last_activity_date": 1466519601, "creation_date": 1461193429, "last_edit_date": 1466519601, "question_id": 36756738, "link": "https://stackoverflow.com/questions/36756738/check-if-values-within-a-group-are-equal-in-pandas", "title": "Check if values within a group are equal in Pandas", "body": "<p>I have something like the following 'DataFrame`:</p>\n\n<pre><code>&gt;&gt;&gt; df=pd.DataFrame(index=['A','A','A','B','B','C','C','C'])\n&gt;&gt;&gt; df['Value1']=[1,1,1,2,1,4,4,4]\n&gt;&gt;&gt; df['Value2']=[1,2,3,4,5,6,7,8]\n&gt;&gt;&gt; df\n   Value1  Value2\nA       1       1\nA       1       2\nA       1       3\nB       2       4\nB       1       5\nC       4       6\nC       4       7\nC       4       8\n&gt;&gt;&gt; \n</code></pre>\n\n<p>The index of the <code>DataFrame</code> represents 3 different groups. I want to check whether or not the column values within a group are all equal. My current methodology and desired output are the following:</p>\n\n<pre><code>&gt;&gt;&gt; result_list=[]\n&gt;&gt;&gt; for Col in df.columns:\n...     result=df.groupby(level=0)[Col].apply(lambda x: len(set(x))==1)\n...     result_list.append(result)\n... \n&gt;&gt;&gt; \n&gt;&gt;&gt; final=pd.concat(result_list,1)\n&gt;&gt;&gt; final\n  Value1 Value2\nA   True  False\nB  False  False\nC   True  False\n&gt;&gt;&gt; \n</code></pre>\n\n<p>Is this the best approach to take? I'm wondering if it's possible to do this without having to loop through the columns in my <code>DataFrame</code>. </p>\n\n<p>Additionally is using <code>len(set(x)==1)</code> the best way to determine if all items in the group are equal?</p>\n"}, {"tags": ["python", "openerp", "odoo-8"], "answers": [{"tags": [], "owner": {"reputation": 928, "user_id": 2260553, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/jkXDO.jpg?s=128&g=1", "display_name": "Asav Patel", "link": "https://stackoverflow.com/users/2260553/asav-patel"}, "is_accepted": true, "score": 0, "last_activity_date": 1461201728, "creation_date": 1461201728, "answer_id": 36757953, "question_id": 36756719, "link": "https://stackoverflow.com/questions/36756719/calculate-the-remaining-days-before-a-specific-date-in-odoo-8/36757953#36757953", "title": "calculate the remaining days before a specific date in Odoo 8", "body": "<p>you can use inbuilt dateime, <a href=\"https://docs.python.org/2/library/datetime.html#timedelta-objects\" rel=\"nofollow\">timedelta object</a></p>\n\n<pre><code>&gt;&gt;&gt; import datetime\n&gt;&gt;&gt; diff = d1 - datetime.date.today()\n&gt;&gt;&gt; diff.days\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 61, "user_id": 6204039, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/407adf87089720ed6a0c306488b38747?s=128&d=identicon&r=PG&f=1", "display_name": "khelifa", "link": "https://stackoverflow.com/users/6204039/khelifa"}, "edited": false, "score": 0, "creation_date": 1461354248, "post_id": 36790921, "comment_id": 61178286, "body": "Thank you friend, I will try"}], "tags": [], "owner": {"reputation": 1, "user_id": 4366315, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d7f8b379cd172fc3812d6f8d27183644?s=128&d=identicon&r=PG&f=1", "display_name": "RaviPatel", "link": "https://stackoverflow.com/users/4366315/ravipatel"}, "is_accepted": false, "score": 0, "last_activity_date": 1461319832, "creation_date": 1461319832, "answer_id": 36790921, "question_id": 36756719, "link": "https://stackoverflow.com/questions/36756719/calculate-the-remaining-days-before-a-specific-date-in-odoo-8/36790921#36790921", "title": "calculate the remaining days before a specific date in Odoo 8", "body": "<p>here this solution</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>class saisir_soumission(osv.osv):\r\n    _name='saisir.soumission' \r\n\r\n    def compa_date(self,cr,uid,ids,args,fields,context=None):       \r\n        r = {}\r\n        date_format = \"%Y-%m-%d %H:%M:%S\"\r\n        joining_date = 'Date_ouv_pli'\r\n        current_date = fields.datetime.now()\r\n        d1 = datetime.strptime(joining_date, date_format)\r\n        d2 = datetime.strptime(current_date, date_format)\r\n        days = (d2 - d1).days   \r\n        return days\r\n\r\n   _columns = {\r\n       'NumOffre' : fields.char('N\u00b0 Offre'),\r\n       'organisme_s' : fields.char('Organisme'),\r\n       'caution' : fields.float('Caution'),\r\n       'Date_ouv_pli' : fields.date('Date Ouverture Plis'), #field to be entered \r\n       'observation_d' : fields.text('Observation'),\r\n       'compar' : fields.function(compa_date,string='Jours Restants'),\r\n \r\n      }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 61, "user_id": 6204039, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/407adf87089720ed6a0c306488b38747?s=128&d=identicon&r=PG&f=1", "display_name": "khelifa", "link": "https://stackoverflow.com/users/6204039/khelifa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 738, "favorite_count": 0, "accepted_answer_id": 36757953, "answer_count": 2, "score": 0, "last_activity_date": 1461319832, "creation_date": 1461193300, "last_edit_date": 1461209521, "question_id": 36756719, "link": "https://stackoverflow.com/questions/36756719/calculate-the-remaining-days-before-a-specific-date-in-odoo-8", "title": "calculate the remaining days before a specific date in Odoo 8", "body": "<p><strong>I wish calculate the remaining days before a specific date, which must be entered in the same view form .</strong></p>\n\n<pre><code>class saisir_soumission(osv.osv):\n    _name='saisir.soumission' \n\n    def compa_date(self,cr,uid,ids,args,fields,context=None):       \n        r = {}\n        date_format = '%d-%m-%Y'\n        joining_date = 'Date_ouv_pli'\n        current_date = (datetime.today()).strftime(date_format)\n        d1 = datetime.strptime(joining_date, date_format).date()\n        d2 = datetime.strptime(current_date, date_format).date()\n        r = str((d2-d1).days + 1)   \n        return r\n\n   _columns = {\n       'NumOffre' : fields.char('N\u00b0 Offre'),\n       'organisme_s' : fields.char('Organisme'),\n       'caution' : fields.float('Caution'),\n       'Date_ouv_pli' : fields.date('Date Ouverture Plis'), #field to be entered \n       'observation_d' : fields.text('Observation'),\n       'compar' : fields.function(compa_date,string='Jours Restants'),\n      }\n</code></pre>\n"}, {"tags": ["python", "prompt", "tabular", "hardcode"], "answers": [{"tags": [], "owner": {"reputation": 1432, "user_id": 4975401, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/iMJ4a.jpg?s=128&g=1", "display_name": "zemekeneng", "link": "https://stackoverflow.com/users/4975401/zemekeneng"}, "is_accepted": true, "score": 2, "last_activity_date": 1461193756, "creation_date": 1461193756, "answer_id": 36756798, "question_id": 36756697, "link": "https://stackoverflow.com/questions/36756697/using-table-with-python/36756798#36756798", "title": "Using Table with Python", "body": "<p>You might use Excel or Google Sheets.</p>\n\n<ol>\n<li>Paste the table into your spreadsheet</li>\n<li>Export the sheet to CSV</li>\n<li>Use Python's <code>csv</code> library to import the data</li>\n</ol>\n\n<p><a href=\"https://docs.python.org/3/library/csv.html\" rel=\"nofollow\">https://docs.python.org/3/library/csv.html</a></p>\n"}], "owner": {"reputation": 998, "user_id": 4819945, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/EVB7O.jpg?s=128&g=1", "display_name": "Rataiczak24", "link": "https://stackoverflow.com/users/4819945/rataiczak24"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "accepted_answer_id": 36756798, "answer_count": 1, "score": 0, "last_activity_date": 1489138521, "creation_date": 1461193200, "last_edit_date": 1489138521, "question_id": 36756697, "link": "https://stackoverflow.com/questions/36756697/using-table-with-python", "title": "Using Table with Python", "body": "<p>I need to incorporate a table into my python program so when I run my program it can read the information from the table as it is needed. What is the best way to incorporate the table into my program so that it is familiar with it when the program is ran?</p>\n\n<p>This is the table that I will incorporate into my program:</p>\n\n<p><a href=\"https://i.stack.imgur.com/uiKhR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uiKhR.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "edited": false, "score": 0, "creation_date": 1461256539, "post_id": 36756669, "comment_id": 61128042, "body": "what is <code>cumulative argmax of another series</code>? can you post sample data set and expected output?"}], "answers": [{"tags": [], "owner": {"reputation": 6217, "user_id": 1257953, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/afb18b489df58f20beabaa5dc268a8cb?s=128&d=identicon&r=PG", "display_name": "nitin", "link": "https://stackoverflow.com/users/1257953/nitin"}, "is_accepted": true, "score": 1, "last_activity_date": 1461195650, "creation_date": 1461195650, "answer_id": 36757114, "question_id": 36756669, "link": "https://stackoverflow.com/questions/36756669/pandas-series-cumulative-argmax/36757114#36757114", "title": "pandas series cumulative argmax", "body": "<p>You don't need cumargmax function. Instead, you could do this in one line,</p>\n\n<pre><code>pd.expanding_apply(series, lambda x: x.argmax())\n</code></pre>\n\n<p>pandas 0.18 is deprecating expanding_apply() module level funtions. They are replacing with the following method call, </p>\n\n<pre><code>series.expanding().apply(lambda x: x.argmax())\n</code></pre>\n\n<p>Check out documentation at <a href=\"http://pandas.pydata.org/pandas-docs/stable/computation.html\" rel=\"nofollow\">http://pandas.pydata.org/pandas-docs/stable/computation.html</a></p>\n"}], "owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 153, "favorite_count": 0, "accepted_answer_id": 36757114, "answer_count": 1, "score": 0, "last_activity_date": 1483101137, "creation_date": 1461193039, "last_edit_date": 1483101137, "question_id": 36756669, "link": "https://stackoverflow.com/questions/36756669/pandas-series-cumulative-argmax", "title": "pandas series cumulative argmax", "body": "<p>What is an efficient way to get a series of the cumulative argmax of another series?</p>\n\n<p>The way I figured is</p>\n\n<pre><code>import pandas as pd\n\ndef cumargmax(series):\n    return pd.expanding_apply(series, lambda x: x.argmax())\n</code></pre>\n\n<p>This works, but I'm wondering if there is a more appropriate way.</p>\n"}, {"tags": ["python", "macos", "python-2.7", "python-3.x", "anaconda"], "comments": [{"owner": {"reputation": 23980, "user_id": 1735756, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/SloZJ.jpg?s=128&g=1", "display_name": "Haifeng Zhang", "link": "https://stackoverflow.com/users/1735756/haifeng-zhang"}, "edited": false, "score": 1, "creation_date": 1461192942, "post_id": 36756632, "comment_id": 61093274, "body": "try enter &#39;python2.7&#39; on your terminal and hit &#39;Enter&#39;, it should launch python2.7"}, {"owner": {"reputation": 369, "user_id": 5540570, "user_type": "registered", "accept_rate": 86, "profile_image": "https://graph.facebook.com/10206130706520745/picture?type=large", "display_name": "Kierran Purden", "link": "https://stackoverflow.com/users/5540570/kierran-purden"}, "reply_to_user": {"reputation": 23980, "user_id": 1735756, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/SloZJ.jpg?s=128&g=1", "display_name": "Haifeng Zhang", "link": "https://stackoverflow.com/users/1735756/haifeng-zhang"}, "edited": false, "score": 0, "creation_date": 1461193080, "post_id": 36756632, "comment_id": 61093325, "body": "Damn it! I was typing python27! Easiest question ever, eh? Thanks a lot"}], "answers": [{"tags": [], "owner": {"reputation": 23980, "user_id": 1735756, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/SloZJ.jpg?s=128&g=1", "display_name": "Haifeng Zhang", "link": "https://stackoverflow.com/users/1735756/haifeng-zhang"}, "is_accepted": true, "score": 1, "last_activity_date": 1461193154, "creation_date": 1461193154, "answer_id": 36756691, "question_id": 36756632, "link": "https://stackoverflow.com/questions/36756632/wheres-my-python2-interpreter/36756691#36756691", "title": "Where&#39;s my python2 interpreter?", "body": "<p>typing in <code>python2.7</code> and hit <code>Enter</code></p>\n\n<p>If you want to know the path</p>\n\n<p>try <code>which python2.7</code>, for example:</p>\n\n<pre><code>$which python2.7                                                                                                                                                                       \n/Users/haifzhan/.virtualenvs/env-2.7/bin/python2.7\n</code></pre>\n"}], "owner": {"reputation": 369, "user_id": 5540570, "user_type": "registered", "accept_rate": 86, "profile_image": "https://graph.facebook.com/10206130706520745/picture?type=large", "display_name": "Kierran Purden", "link": "https://stackoverflow.com/users/5540570/kierran-purden"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 141, "favorite_count": 0, "accepted_answer_id": 36756691, "answer_count": 1, "score": 0, "last_activity_date": 1461193154, "creation_date": 1461192862, "question_id": 36756632, "link": "https://stackoverflow.com/questions/36756632/wheres-my-python2-interpreter", "title": "Where&#39;s my python2 interpreter?", "body": "<p>Since installing Anaconda on my mac, both the term 'python' and 'python3' launch the python 3.5.1 Anaconda interpreter, despite me also having 2.6 and 2.7 installed (well, they came preinstalled on the mac). \nSo far I've been learning odd bits here and there in python 3 but I've started a course which requires 2.7 so I need to know how to use it.</p>\n\n<p>Proper noob question I know, but I am a noob...</p>\n"}, {"tags": ["python", "pandas", "comparison", "multiple-columns"], "answers": [{"tags": [], "owner": {"reputation": 2560, "user_id": 4908900, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/51319a33504095df2a58a2318981b1ac?s=128&d=identicon&r=PG&f=1", "display_name": "Ezer K", "link": "https://stackoverflow.com/users/4908900/ezer-k"}, "is_accepted": true, "score": 2, "last_activity_date": 1461226129, "last_edit_date": 1461226129, "creation_date": 1461195298, "answer_id": 36757057, "question_id": 36756618, "link": "https://stackoverflow.com/questions/36756618/comparing-two-columns-within-same-dataframe-and-computing-statistics-from-compar/36757057#36757057", "title": "comparing two columns within same dataframe and computing statistics from comparison", "body": "<p>First Create the function you want, then build it in a way it could be applied upon a df, then groupby 'id' and apply the function:  </p>\n\n<pre><code>import pandas as pd\nimport numpy as np\nimport datetime\nimport collections\n\nd = {'id' : ['4573', '4573', '4573', '958245','958245','958245'] \\\n ,'revenue' : np.random.uniform(size=6),'cost' : np.random.uniform(size=6)}\ne = ['2014-03-01','2014-04-01','2014-05-01','2014-05-01','2015-03-01','2015-02-01']\n\ndateindex = [datetime.datetime.strptime(a, '%Y-%m-%d') for a in e]\n\ndf = pd.DataFrame(d)\ndf.index = dateindex\n\n#create basic function\ndef Func(Cost,Revenue):\n    if Revenue &gt; Cost &gt; 0:\n        return 'A'\n    elif  Cost&gt;Revenue&gt;0 :\n        return 'B'\n    elif Revenue &gt; 0 &gt; Cost:\n        return 'C'\n    elif Revenue == 0 and Cost &gt; 0:\n        return 'D'\n\n#create a function to use on df\ndef Func_df(df):\n    cases_list =  [Func(x,y) for x,y in zip(df.cost.values,df.revenue.values)]\n    return collections.Counter(cases_list)\n\ndf.groupby('id').apply(Func_df)\n</code></pre>\n\n<p>Output (hopefully):</p>\n\n<pre><code>id\n4573      {u'A': 1, u'B': 2}\n958245    {u'A': 1, u'B': 2}\n</code></pre>\n"}], "owner": {"reputation": 8790, "user_id": 668624, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/qMFcJ.jpg?s=128&g=1", "display_name": "codingknob", "link": "https://stackoverflow.com/users/668624/codingknob"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 195, "favorite_count": 0, "accepted_answer_id": 36757057, "answer_count": 1, "score": 0, "last_activity_date": 1461226129, "creation_date": 1461192765, "last_edit_date": 1461193084, "question_id": 36756618, "link": "https://stackoverflow.com/questions/36756618/comparing-two-columns-within-same-dataframe-and-computing-statistics-from-compar", "title": "comparing two columns within same dataframe and computing statistics from comparison", "body": "<p>I have a dataframe that has datetime as index and 3 columns, id, revenue and cost. </p>\n\n<pre><code>d = {'id' : ['4573', '4573', '4573', '958245','958245','958245'] \\\n,'revenue' : np.random.uniform(size=6),'cost' : np.random.uniform(size=6)}\ne = ['2014-03-01','2014-04-01','2014-05-01','2014-05-01','2015-03-01','2015-02-01']\n\ndateindex = [datetime.strptime(a, '%Y-%m-%d') for a in e]\n\ndf = pd.DataFrame(d)\ndf.index = dateindex\n\n    cost    id  revenue\n2014-03-01  0.445597    4573    0.901713\n2014-04-01  0.774029    4573    0.908302\n2014-05-01  0.104274    4573    0.278444\n2014-05-01  0.938426    958245  0.755022\n2015-03-01  0.647886    958245  0.125072\n2015-02-01  0.267773    958245  0.557496\n</code></pre>\n\n<p>I want to perform various comparisons between revenue and cost for each id.</p>\n\n<p>For example:</p>\n\n<p>Pseudocode:</p>\n\n<pre><code>If Revenue &gt; Cost &gt; 0\n CountA = CountA + 1\nElif 0 &lt; Revenue &lt; Cost \n CountB = CountB + 1\nElif Revenue &gt; 0 &gt; Cost\n CountC = CountC + 1\nElif Revenue = 0 and Cost &gt; 0\n CountD = CountD + 1\n</code></pre>\n\n<p>For case A I thought I could do:</p>\n\n<pre><code>df[['revenue']][df['id'] == '4573'] &gt; df[['cost']][df['id'] == '4573']\n</code></pre>\n\n<p>But I got:</p>\n\n<pre><code>ValueError: Can only compare identically-labeled DataFrame objects\n</code></pre>\n\n<p>Is there a more efficient way to do what I want to do? </p>\n"}, {"tags": ["python", "arrays", "list"], "comments": [{"owner": {"reputation": 1432, "user_id": 4975401, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/iMJ4a.jpg?s=128&g=1", "display_name": "zemekeneng", "link": "https://stackoverflow.com/users/4975401/zemekeneng"}, "edited": false, "score": 2, "creation_date": 1461193125, "post_id": 36756594, "comment_id": 61093345, "body": "Try to avoid keywords like <code>list</code> as variable names."}, {"owner": {"reputation": 71, "user_id": 6217540, "user_type": "registered", "accept_rate": 17, "profile_image": "https://graph.facebook.com/1133091263408553/picture?type=large", "display_name": "Fernando Gardeazabal", "link": "https://stackoverflow.com/users/6217540/fernando-gardeazabal"}, "reply_to_user": {"reputation": 1432, "user_id": 4975401, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/iMJ4a.jpg?s=128&g=1", "display_name": "zemekeneng", "link": "https://stackoverflow.com/users/4975401/zemekeneng"}, "edited": false, "score": 0, "creation_date": 1461193542, "post_id": 36756594, "comment_id": 61093459, "body": "List is just to illustrate the problem that I have."}, {"owner": {"reputation": 18044, "user_id": 12892, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c866ac84e832e585c6bd3abe1149c47?s=128&d=identicon&r=PG", "display_name": "Cristian Ciupitu", "link": "https://stackoverflow.com/users/12892/cristian-ciupitu"}, "edited": false, "score": 0, "creation_date": 1461195939, "post_id": 36756594, "comment_id": 61094110, "body": "<code>L</code> is way better than <code>list</code>."}], "answers": [{"tags": [], "owner": {"reputation": 164, "user_id": 6193510, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-dRTC5khvm-g/AAAAAAAAAAI/AAAAAAAAFK0/nKLXuPE-F5Y/photo.jpg?sz=128", "display_name": "Nevado", "link": "https://stackoverflow.com/users/6193510/nevado"}, "is_accepted": false, "score": 0, "last_activity_date": 1461192907, "creation_date": 1461192907, "answer_id": 36756642, "question_id": 36756594, "link": "https://stackoverflow.com/questions/36756594/how-to-access-a-value-in-a-list-and-use-it-with-python-in-this-case/36756642#36756642", "title": "How to access a value in a list and use it with python in this case?", "body": "<pre><code>   if list[i]&gt;10:\n       count10+=1\n       summ=summ+=list[i]\n       m=summ/count10\n</code></pre>\n\n<p>Put this in your loop, you acces the element in position i of the list with <code>list[i]</code></p>\n"}], "owner": {"reputation": 71, "user_id": 6217540, "user_type": "registered", "accept_rate": 17, "profile_image": "https://graph.facebook.com/1133091263408553/picture?type=large", "display_name": "Fernando Gardeazabal", "link": "https://stackoverflow.com/users/6217540/fernando-gardeazabal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 29, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1461197151, "creation_date": 1461192628, "last_edit_date": 1461197151, "question_id": 36756594, "link": "https://stackoverflow.com/questions/36756594/how-to-access-a-value-in-a-list-and-use-it-with-python-in-this-case", "title": "How to access a value in a list and use it with python in this case?", "body": "<p>For example I have a list and the user will input interger values,\nAnd I want to use this numbers if they are bigger than another number so I can do operations with the specific number.Here's what I tried:</p>\n\n<pre><code>list=[]\nNUM=10\nsumm=0\ncount10=0\nfor i in range(NUM):\n    list.append(int(input(\"Type a number: \")))  \n    if list&gt;10:\n        count10+=1\n        summ=summ+list  #(when number bigger than ten for     example)\n        m=summ/count10\n    print(m)\n</code></pre>\n"}, {"tags": ["python", "django", "url"], "comments": [{"owner": {"reputation": 844, "user_id": 4728340, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-A_G-3wxfXxk/AAAAAAAAAAI/AAAAAAAAAMw/uBG_cLcqTI8/photo.jpg?sz=128", "display_name": "Chuck", "link": "https://stackoverflow.com/users/4728340/chuck"}, "edited": false, "score": 1, "creation_date": 1461192689, "post_id": 36756539, "comment_id": 61093178, "body": "Your directory is named <code>TaskManager</code> but you&#39;re calling it as <code>TasksManager</code> Also, what kind of error does your <code>&lt;a href...&gt;</code> throw?"}, {"owner": {"reputation": 1002, "user_id": 5704198, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/326e901a74f245b7c224df66d3873215?s=128&d=identicon&r=PG&f=1", "display_name": "fabio", "link": "https://stackoverflow.com/users/5704198/fabio"}, "reply_to_user": {"reputation": 844, "user_id": 4728340, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-A_G-3wxfXxk/AAAAAAAAAAI/AAAAAAAAAMw/uBG_cLcqTI8/photo.jpg?sz=128", "display_name": "Chuck", "link": "https://stackoverflow.com/users/4728340/chuck"}, "edited": false, "score": 0, "creation_date": 1461193087, "post_id": 36756539, "comment_id": 61093328, "body": "A digit error... my directory is TasksManager. The error of my &lt;a href...&gt; is the same No module named &#39; TasksManager&#39;"}], "answers": [{"comments": [{"owner": {"reputation": 47988, "user_id": 267540, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2v58W.jpg?s=128&g=1", "display_name": "e4c5", "link": "https://stackoverflow.com/users/267540/e4c5"}, "reply_to_user": {"reputation": 7100, "user_id": 4726598, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/t398l.png?s=128&g=1", "display_name": "v1k45", "link": "https://stackoverflow.com/users/4726598/v1k45"}, "edited": false, "score": 1, "creation_date": 1461210395, "post_id": 36757674, "comment_id": 61097746, "body": "thanks @v1k45 I didn&#39;t realize that the __ had been dropped on copy paste. No idea why."}, {"owner": {"reputation": 7100, "user_id": 4726598, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/t398l.png?s=128&g=1", "display_name": "v1k45", "link": "https://stackoverflow.com/users/4726598/v1k45"}, "edited": false, "score": 0, "creation_date": 1461210832, "post_id": 36757674, "comment_id": 61097865, "body": "it happened because double underscores stand for bold/ strong text formatting in markdown"}, {"owner": {"reputation": 1002, "user_id": 5704198, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/326e901a74f245b7c224df66d3873215?s=128&d=identicon&r=PG&f=1", "display_name": "fabio", "link": "https://stackoverflow.com/users/5704198/fabio"}, "edited": false, "score": 0, "creation_date": 1461224579, "post_id": 36757674, "comment_id": 61104168, "body": "@e4c5 There are <code>__init__.py</code> (empty). I edited my directory structure"}, {"owner": {"reputation": 1002, "user_id": 5704198, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/326e901a74f245b7c224df66d3873215?s=128&d=identicon&r=PG&f=1", "display_name": "fabio", "link": "https://stackoverflow.com/users/5704198/fabio"}, "edited": false, "score": 0, "creation_date": 1461241077, "post_id": 36757674, "comment_id": 61116074, "body": "Nothing yet... I add both import and I don&#39;t see any change... it give the same error. I added the traceback. PS I use Python 3.4 (your link is for python 2.x)"}], "tags": [], "owner": {"reputation": 47988, "user_id": 267540, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2v58W.jpg?s=128&g=1", "display_name": "e4c5", "link": "https://stackoverflow.com/users/267540/e4c5"}, "is_accepted": true, "score": 1, "last_activity_date": 1461227085, "last_edit_date": 1461227085, "creation_date": 1461199511, "answer_id": 36757674, "question_id": 36756539, "link": "https://stackoverflow.com/questions/36756539/views-and-urlpattern-problems-with-import/36757674#36757674", "title": "views and urlpattern: problems with import?", "body": "<p>You don't seem to have the <code>__init__.py</code> file in your folders. This can be just an empty file.</p>\n\n<blockquote>\n  <p>The <code>__init__.py</code> files are required to make Python treat the\n  directories as containing packages; this is done to prevent\n  directories with a common name, such as string, from unintentionally\n  hiding valid modules that occur later on the module search path. In\n  the simplest case, <code>__init__.py</code> can just be an empty file, but it can\n  also execute initialization code for the package or set the <code>__all__</code>\n  variable, described later</p>\n</blockquote>\n\n<p>I believe your imports should be</p>\n\n<pre><code>from TaskManager import index \n</code></pre>\n\n<p>or </p>\n\n<pre><code>import TaskManager\n</code></pre>\n\n<p><a href=\"https://docs.python.org/2/tutorial/modules.html#packages\" rel=\"nofollow\">more ...</a></p>\n"}, {"tags": [], "owner": {"reputation": 1002, "user_id": 5704198, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/326e901a74f245b7c224df66d3873215?s=128&d=identicon&r=PG&f=1", "display_name": "fabio", "link": "https://stackoverflow.com/users/5704198/fabio"}, "is_accepted": false, "score": 0, "last_activity_date": 1461344100, "creation_date": 1461344100, "answer_id": 36799437, "question_id": 36756539, "link": "https://stackoverflow.com/questions/36756539/views-and-urlpattern-problems-with-import/36799437#36799437", "title": "views and urlpattern: problems with import?", "body": "<p>I solved!</p>\n\n<p>There were a digit error in my url.py Now it work</p>\n"}], "owner": {"reputation": 1002, "user_id": 5704198, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/326e901a74f245b7c224df66d3873215?s=128&d=identicon&r=PG&f=1", "display_name": "fabio", "link": "https://stackoverflow.com/users/5704198/fabio"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 188, "favorite_count": 1, "accepted_answer_id": 36757674, "answer_count": 2, "score": 2, "last_activity_date": 1461344100, "creation_date": 1461192296, "last_edit_date": 1461254310, "question_id": 36756539, "link": "https://stackoverflow.com/questions/36756539/views-and-urlpattern-problems-with-import", "title": "views and urlpattern: problems with import?", "body": "<p>I'm following a tutorial but I have some problems...</p>\n\n<p>My <code>url.py</code>:</p>\n\n<pre><code>urlpatterns = [\n    url(r'^$', 'TasksManager.views.index.page', name=\"public_index\"),\n    url(r'^connection-TasksManager$', 'TasksManager.views.connection.page',\n        name=\"public_connection\"),\n    ...\n]\n</code></pre>\n\n<p>TasksManager and views are directories, index and connection are files .py and page are def inside those files. I don't know why the tutorial don't make me write the views in views.py</p>\n\n<p>Anyway it give me an <code>import error: No module named ' TasksManager'</code>\nI don't know what import in url.py... </p>\n\n<p><code>from . import TasksManager</code> ? (it give error)</p>\n\n<p><code>import TasksManager.index</code> ? (maybe it don't do nothing)</p>\n\n<p>My directory structure:</p>\n\n<pre><code>Work_Manager\n|__manage.py\n|__TasksManager\n|      |_ __init__.py\n|      |_admin.py\n|      |_apps.py\n|      |_models.py\n|      |_views.py (empty)\n|      |_views\n|          |_ __init__.py\n|          |_index.py\n|          |_connection.py\n|          |_...\n|__Work_Manager\n       |_ __init__.py\n       |_database.db\n       |_settings.py\n       |_url.py\n</code></pre>\n\n<p>If I put <code>index.py</code>, <code>connection.py</code> in TaskManager directory and change the url in <code>url(r'^$', 'TasksManager.connection.page', name=\"public_connection\"),</code> (I removed .views. ) the address works but the links in my template (html) dont: <code>&lt;a href=\"{% url 'public_connection' %}\"&gt;Connection&lt;/a&gt;</code> and gives the same error <code>import error: No module named ' TasksManager'</code></p>\n\n<p>Also it give this warning: Support for string view arguments to url() is deprecated and will be removed in Django 1.10 (got TasksManager.views.index.page). Pass the callable instead.</p>\n\n<p>Thank you for your help</p>\n\n<p>PS: I'm using Python 3.4 and Django 1.9</p>\n\n<p>Complete Traceback:</p>\n\n<pre><code>    Environment:\n\n\nRequest Method: GET\nRequest URL: http://localhost:8000/\n\nDjango Version: 1.9.5\nPython Version: 3.4.3\nInstalled Applications:\n['django.contrib.admin',\n 'django.contrib.auth',\n 'django.contrib.contenttypes',\n 'django.contrib.sessions',\n 'django.contrib.messages',\n 'django.contrib.staticfiles',\n 'TasksManager']\nInstalled Middleware:\n['django.middleware.security.SecurityMiddleware',\n 'django.contrib.sessions.middleware.SessionMiddleware',\n 'django.middleware.common.CommonMiddleware',\n 'django.middleware.csrf.CsrfViewMiddleware',\n 'django.contrib.auth.middleware.AuthenticationMiddleware',\n 'django.contrib.auth.middleware.SessionAuthenticationMiddleware',\n 'django.contrib.messages.middleware.MessageMiddleware',\n 'django.middleware.clickjacking.XFrameOptionsMiddleware']\n\n\nTemplate error:\nIn template C:\\Python34\\Scripts\\Work_Manager\\Work_manager\\TasksManager\\templates\\en\\public\\index.html, error at line 58\n   No module named ' TasksManager'   48 :       {% for city in array_city %}\n   49 :         &lt;li&gt;\n   50 :           {{ city }}\n   51 :         &lt;/li&gt;\n   52 :       {% endfor %}\n   53 :     &lt;/ul&gt;\n   54 : \n   55 :   &lt;article&gt;\n   56 :     Hello world ! &lt;br /&gt;\n   57 :     &lt;!--&lt;a href=\"connection\"&gt;Connection&lt;/a&gt;--&gt;\n   58 :     &lt;a href=\" {% url 'public_connection' %} \"&gt;Connection&lt;/a&gt;\n   59 :     &lt;a href=\"{% url 'create_developer' %}\"&gt;Create developer&lt;/a&gt;\n   60 :     &lt;a href=\"{% url 'create_supervisor' %}\"&gt;Create supervisor&lt;/a&gt;\n   61 :     &lt;a href=\"{% url 'create_project' %}\"&gt;Create project&lt;/a&gt;\n   62 :   &lt;/article&gt;\n   63 : {% endblock %}\n   64 : \n\nTraceback:\n\nFile \"c:\\Python34\\Scripts\\Work_Manager\\myvenv\\lib\\site-packages\\django\\core\\urlresolvers.py\" in get_callable\n  115.         mod = import_module(mod_name)\n\nFile \"C:\\Python34\\lib\\importlib\\__init__.py\" in import_module\n  109.     return _bootstrap._gcd_import(name[level:], package, level)\n\nDuring handling of the above exception (No module named ' TasksManager'), another exception occurred:\n\nFile \"c:\\Python34\\Scripts\\Work_Manager\\myvenv\\lib\\site-packages\\django\\core\\handlers\\base.py\" in get_response\n  149.                     response = self.process_exception_by_middleware(e, request)\n\nFile \"c:\\Python34\\Scripts\\Work_Manager\\myvenv\\lib\\site-packages\\django\\core\\handlers\\base.py\" in get_response\n  147.                     response = wrapped_callback(request, *callback_args, **callback_kwargs)\n\nFile \"C:\\Python34\\Scripts\\Work_Manager\\Work_manager\\TasksManager\\views\\index.py\" in page\n  39.     return render(request, 'en/public/index.html', locals())\n\nFile \"c:\\Python34\\Scripts\\Work_Manager\\myvenv\\lib\\site-packages\\django\\shortcuts.py\" in render\n  67.             template_name, context, request=request, using=using)\n\nFile \"c:\\Python34\\Scripts\\Work_Manager\\myvenv\\lib\\site-packages\\django\\template\\loader.py\" in render_to_string\n  97.         return template.render(context, request)\n\nFile \"c:\\Python34\\Scripts\\Work_Manager\\myvenv\\lib\\site-packages\\django\\template\\backends\\django.py\" in render\n  95.             return self.template.render(context)\n\nFile \"c:\\Python34\\Scripts\\Work_Manager\\myvenv\\lib\\site-packages\\django\\template\\base.py\" in render\n  206.                     return self._render(context)\n\nFile \"c:\\Python34\\Scripts\\Work_Manager\\myvenv\\lib\\site-packages\\django\\template\\base.py\" in _render\n  197.         return self.nodelist.render(context)\n\nFile \"c:\\Python34\\Scripts\\Work_Manager\\myvenv\\lib\\site-packages\\django\\template\\base.py\" in render\n  992.                 bit = node.render_annotated(context)\n\nFile \"c:\\Python34\\Scripts\\Work_Manager\\myvenv\\lib\\site-packages\\django\\template\\base.py\" in render_annotated\n  959.             return self.render(context)\n\nFile \"c:\\Python34\\Scripts\\Work_Manager\\myvenv\\lib\\site-packages\\django\\template\\loader_tags.py\" in render\n  173.         return compiled_parent._render(context)\n\nFile \"c:\\Python34\\Scripts\\Work_Manager\\myvenv\\lib\\site-packages\\django\\template\\base.py\" in _render\n  197.         return self.nodelist.render(context)\n\nFile \"c:\\Python34\\Scripts\\Work_Manager\\myvenv\\lib\\site-packages\\django\\template\\base.py\" in render\n  992.                 bit = node.render_annotated(context)\n\nFile \"c:\\Python34\\Scripts\\Work_Manager\\myvenv\\lib\\site-packages\\django\\template\\base.py\" in render_annotated\n  959.             return self.render(context)\n\nFile \"c:\\Python34\\Scripts\\Work_Manager\\myvenv\\lib\\site-packages\\django\\template\\loader_tags.py\" in render\n  69.                 result = block.nodelist.render(context)\n\nFile \"c:\\Python34\\Scripts\\Work_Manager\\myvenv\\lib\\site-packages\\django\\template\\base.py\" in render\n  992.                 bit = node.render_annotated(context)\n\nFile \"c:\\Python34\\Scripts\\Work_Manager\\myvenv\\lib\\site-packages\\django\\template\\base.py\" in render_annotated\n  959.             return self.render(context)\n\nFile \"c:\\Python34\\Scripts\\Work_Manager\\myvenv\\lib\\site-packages\\django\\template\\defaulttags.py\" in render\n  499.             url = reverse(view_name, args=args, kwargs=kwargs, current_app=current_app)\n\nFile \"c:\\Python34\\Scripts\\Work_Manager\\myvenv\\lib\\site-packages\\django\\core\\urlresolvers.py\" in reverse\n  600.     return force_text(iri_to_uri(resolver._reverse_with_prefix(view, prefix, *args, **kwargs)))\n\nFile \"c:\\Python34\\Scripts\\Work_Manager\\myvenv\\lib\\site-packages\\django\\core\\urlresolvers.py\" in _reverse_with_prefix\n  448.             self._populate()\n\nFile \"c:\\Python34\\Scripts\\Work_Manager\\myvenv\\lib\\site-packages\\django\\core\\urlresolvers.py\" in _populate\n  334.                 lookups.appendlist(pattern.callback, (bits, p_pattern, pattern.default_args))\n\nFile \"c:\\Python34\\Scripts\\Work_Manager\\myvenv\\lib\\site-packages\\django\\core\\urlresolvers.py\" in callback\n  255.         self._callback = get_callable(self._callback_str)\n\nFile \"C:\\Python34\\lib\\functools.py\" in wrapper\n  448.                 result = user_function(*args, **kwds)\n\nFile \"c:\\Python34\\Scripts\\Work_Manager\\myvenv\\lib\\site-packages\\django\\core\\urlresolvers.py\" in get_callable\n  121.             if submod and not module_has_submodule(import_module(parentmod), submod):\n\nFile \"C:\\Python34\\lib\\importlib\\__init__.py\" in import_module\n  109.     return _bootstrap._gcd_import(name[level:], package, level)\n\nException Type: ImportError at /\nException Value: No module named ' TasksManager'\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 55248, "user_id": 642070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c280b71b3187d1cc113a6e302b414b9?s=128&d=identicon&r=PG", "display_name": "tdelaney", "link": "https://stackoverflow.com/users/642070/tdelaney"}, "edited": false, "score": 0, "creation_date": 1461193775, "post_id": 36756529, "comment_id": 61093538, "body": "To debug, right after <code>for line in f:</code> add <code>print(repr(line))</code> and see what the offending line looks like."}], "answers": [{"tags": [], "owner": {"reputation": 844, "user_id": 4728340, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-A_G-3wxfXxk/AAAAAAAAAAI/AAAAAAAAAMw/uBG_cLcqTI8/photo.jpg?sz=128", "display_name": "Chuck", "link": "https://stackoverflow.com/users/4728340/chuck"}, "is_accepted": false, "score": 1, "last_activity_date": 1461192497, "creation_date": 1461192497, "answer_id": 36756570, "question_id": 36756529, "link": "https://stackoverflow.com/questions/36756529/list-index-out-of-range-in-my-coding/36756570#36756570", "title": "list index out of range in my coding", "body": "<p>A certain line in your <code>Class_Y_Results.txt</code> only has one entry (not separated by commas), hence the list returned by <code>items=line.split(',')</code> only has a length of 1 (or maybe 0), causing <code>score=int(items[1])</code> to throw an <code>IndexError</code>.</p>\n\n<p>Sample:</p>\n\n<pre><code>&gt;&gt;&gt; a = \"foo,bar\"\n&gt;&gt;&gt; b = \"foo\"\n&gt;&gt;&gt; len(a.split(','))\n2\n&gt;&gt;&gt; len(b.split(','))\n1\n&gt;&gt;&gt; a.split(',')[1]\n'bar'\n&gt;&gt;&gt; b.split(',')[1]\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\nIndexError: list index out of range\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4485, "user_id": 2205033, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a8d36e28c13c9214b2281af2d12916b?s=128&d=identicon&r=PG", "display_name": "Johannes Overmann", "link": "https://stackoverflow.com/users/2205033/johannes-overmann"}, "is_accepted": false, "score": 1, "last_activity_date": 1461192515, "creation_date": 1461192515, "answer_id": 36756574, "question_id": 36756529, "link": "https://stackoverflow.com/questions/36756529/list-index-out-of-range-in-my-coding/36756574#36756574", "title": "list index out of range in my coding", "body": "<p>There is probably an empty like in one of your files. This will not contain a comma, so you will not have an <code>item[1]</code>, and this produces the error message you see.</p>\n\n<p>Check how many fields you get back from the split to solve this.</p>\n"}], "owner": {"reputation": 21, "user_id": 6137405, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b3d4d75fdccc1c916db8070d8b3f368?s=128&d=identicon&r=PG", "display_name": "vvLivca", "link": "https://stackoverflow.com/users/6137405/vvlivca"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 26, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1461192515, "creation_date": 1461192250, "question_id": 36756529, "link": "https://stackoverflow.com/questions/36756529/list-index-out-of-range-in-my-coding", "title": "list index out of range in my coding", "body": "<p>Can anyone help me fix this error I keep getting please. I have tried to look for a solution but I can't find any. Below is the error message and also part of my coding</p>\n\n<pre><code>Please enter your class Y or X or Z: Y\nTraceback (most recent call last):\nFile \"/Volumes/LIAM'S USB/DEV6 FINAL.py\", line 118, in &lt;module&gt;\nscore=int(items[1])\nIndexError: list index out of range\n\n\nresults={\nstart=True\nwhile (start):\n    pupil_class=input(\"\\nPlease enter your class Y or X or Z: \")\n    if pupil_class == (\"Y\"):\n            classfile=\"Class_Y_results.txt\" \n    elif pupil_class == (\"X\"):\n            classfile=\"Class_X_results.txt\" \n    elif pupil_class == (\"Z\"):\n            classfile=\"Class_Z_results.txt\" \n\n    f=open(classfile,'r')\n\n    for line in f:\n            items=line.split(',')       \n            name=items[0]\n            score=int(items[1])                \n            if name in results:\n                    results[name].append(score)                        \n            else:\n                    results[name]=[]\n                    results[name].append(score)\n\n    f.close()\n</code></pre>\n"}, {"tags": ["python", "matplotlib", "fft", "visualization", "coefficients"], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 2448718, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/335d86468bca8ab6dacb8f7ae0576845?s=128&d=identicon&r=PG", "display_name": "Adam Gabry\u015b", "link": "https://stackoverflow.com/users/2448718/adam-gabry%c5%9b"}, "edited": false, "score": 0, "creation_date": 1461241118, "post_id": 36765378, "comment_id": 61116106, "body": "That is that what i have been looking for. Ammmazzzinggg!! :D Thanks a lot."}], "tags": [], "owner": {"reputation": 9960, "user_id": 2868335, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4cd58d31ed0a97b5e664d23ff2e99131?s=128&d=identicon&r=PG", "display_name": "armatita", "link": "https://stackoverflow.com/users/2868335/armatita"}, "is_accepted": true, "score": 1, "last_activity_date": 1461230874, "creation_date": 1461230874, "answer_id": 36765378, "question_id": 36756500, "link": "https://stackoverflow.com/questions/36756500/visualization-of-wavelets-coefficients-for-different-deconstruction-levels/36765378#36765378", "title": "Visualization of wavelets coefficients for different deconstruction levels", "body": "<p>Well, your question assumes quite some other questions but I think you might be looking for <a href=\"http://matplotlib.org/examples/pylab_examples/pcolor_demo.html\" rel=\"nofollow noreferrer\">pcolormesh</a>. For instance used this way (I'll put it in a <a href=\"http://matplotlib.org/users/gridspec.html\" rel=\"nofollow noreferrer\">grid</a> just like your example picture, the data is randomly generated):</p>\n\n<pre><code>import matplotlib.pyplot as plt\nimport numpy as np\n\nax1 = plt.subplot2grid((4,4),(0, 0),rowspan=1,colspan=1)\nax2 = plt.subplot2grid((4,4),(1, 0),rowspan=1,colspan=1)\nax3 = plt.subplot2grid((4,4),(2, 0),rowspan=1,colspan=1)\nax4 = plt.subplot2grid((4,4),(3, 0),rowspan=1,colspan=1)\n\nax5 = plt.subplot2grid((4,4),(0, 1),rowspan=2,colspan=3)\nax6 = plt.subplot2grid((4,4),(2, 1),rowspan=2,colspan=3)\n\nax1.plot(range(100),np.random.randint(-100,100,100)/np.arange(1,101,1)**1,color='green')\nax1.axhline(10,color='orange',linestyle='--')\nax1.axhline(-10,color='orange',linestyle='--')\nax1.set_ylim(-20,20)\nax1.set_xticks([])\nax1.set_ylabel('D4',rotation=0)\n\nax2.plot(range(100),np.random.randint(-100,100,100)/np.arange(1,101,1)**1,color='green')\nax2.axhline(10,color='orange',linestyle='--')\nax2.axhline(-10,color='orange',linestyle='--')\nax2.set_ylim(-20,20)\nax2.set_xticks([])\nax2.set_ylabel('D3',rotation=0)\n\nax3.plot(range(100),np.random.randint(-100,100,100)/np.arange(1,101,1)**1,color='green')\nax3.axhline(10,color='orange',linestyle='--')\nax3.axhline(-10,color='orange',linestyle='--')\nax3.set_ylim(-20,20)\nax3.set_xticks([])\nax3.set_ylabel('D2',rotation=0)\n\nax4.plot(range(100),np.random.randint(-100,100,100)/np.arange(1,101,1)**1,color='green')\nax4.axhline(10,color='orange',linestyle='--')\nax4.axhline(-10,color='orange',linestyle='--')\nax4.set_ylim(-20,20)\n#ax4.set_xticks([])\nax4.set_ylabel('D1',rotation=0)\n\nX,Y = np.meshgrid(range(1000),range(4))\nZ = np.random.randint(0,100,(4,1000))\n\nax5.pcolormesh(X,Y,Z,cmap = 'copper')\nax5.set_yticks([i for i in range(4)])\n\nZm = np.ma.masked_where(Z&lt;90,Z)\nax6.pcolormesh(X,Y,Zm,cmap = 'copper')\nax6.set_yticks([i for i in range(4)])\n\nplt.show()\n</code></pre>\n\n<p>The results is this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/P3Krq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/P3Krq.png\" alt=\"subplot2grid and pcolormesh\"></a></p>\n"}], "owner": {"reputation": 11, "user_id": 2448718, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/335d86468bca8ab6dacb8f7ae0576845?s=128&d=identicon&r=PG", "display_name": "Adam Gabry\u015b", "link": "https://stackoverflow.com/users/2448718/adam-gabry%c5%9b"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 620, "favorite_count": 0, "closed_date": 1463625476, "accepted_answer_id": 36765378, "answer_count": 1, "score": 0, "last_activity_date": 1461260200, "creation_date": 1461192108, "last_edit_date": 1461260200, "question_id": 36756500, "link": "https://stackoverflow.com/questions/36756500/visualization-of-wavelets-coefficients-for-different-deconstruction-levels", "closed_reason": "Needs more focus", "title": "Visualization of wavelets coefficients for different deconstruction levels", "body": "<p>I am doing some visualizations for a wavelet presentation. I need to prepare a plot similar to this one on right side: </p>\n\n<p><img src=\"https://i.stack.imgur.com/upIrx.png\" alt=\"Image\"></p>\n\n<p>I have been trying to reach this goal with spectogram, and I am trying for more than hour to find at least name of such plot.</p>\n\n<p>This plot represents coefficients of details of a wavelet transformation at different levels (1, 2, 3, and 4). On the left side, you see a function with a threshold. The coefficients value is represented by color (black close to 0, brownie higher value). </p>\n\n<p>With every level of wavelet decomposition the number of coefficients is reduced by half. So one level small ranges of samples, four levels four times larger samples.</p>\n\n<p>How can I do that?</p>\n"}, {"tags": ["python", "numpy", "least-squares"], "answers": [{"comments": [{"owner": {"reputation": 51, "user_id": 2751556, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/aea997c4fe7b862812ac336620871418?s=128&d=identicon&r=PG&f=1", "display_name": "Pete B", "link": "https://stackoverflow.com/users/2751556/pete-b"}, "edited": false, "score": 0, "creation_date": 1461202736, "post_id": 36758010, "comment_id": 61095786, "body": "That worked! Thanks! I tried working it a different way, but came up with 10 elements when I needed 5. Thanks for the help!"}], "tags": [], "owner": {"reputation": 86654, "user_id": 102441, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/cf1b41a0f134b54597bf8a618be7880f?s=128&d=identicon&r=PG", "display_name": "Eric", "link": "https://stackoverflow.com/users/102441/eric"}, "is_accepted": true, "score": 2, "last_activity_date": 1461202181, "creation_date": 1461202181, "answer_id": 36758010, "question_id": 36756496, "link": "https://stackoverflow.com/questions/36756496/incompatible-dimensions-using-lstsq-with-pythons-numpy/36758010#36758010", "title": "&quot;Incompatible Dimensions&quot; using lstsq with Python&#39;s numpy", "body": "<p>You need to transpose your matrix:</p>\n\n<pre><code>Output = np.linalg.lstsq(Matrix.T, x2)[0]\n</code></pre>\n\n<p>Your broken code produces a matrix with 5 rows of 10 elements. Your working code produces a matrix with 10 rows of 5 elements.</p>\n\n<hr>\n\n<p>You should probably also use <code>np.array</code> instead of <code>np.matrix</code>, and return an <code>np.array</code> rather than a list from <code>square</code></p>\n"}], "owner": {"reputation": 51, "user_id": 2751556, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/aea997c4fe7b862812ac336620871418?s=128&d=identicon&r=PG&f=1", "display_name": "Pete B", "link": "https://stackoverflow.com/users/2751556/pete-b"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4069, "favorite_count": 0, "accepted_answer_id": 36758010, "answer_count": 1, "score": 0, "last_activity_date": 1461202181, "creation_date": 1461192087, "question_id": 36756496, "link": "https://stackoverflow.com/questions/36756496/incompatible-dimensions-using-lstsq-with-pythons-numpy", "title": "&quot;Incompatible Dimensions&quot; using lstsq with Python&#39;s numpy", "body": "<p>First my code:</p>\n\n<pre><code>import numpy as np\n\ndef square(list):\n    return [i ** 2 for i in list]\n\ndef multLists(x, y):\n    return x * y\n\ndef main():\n    x = np.array([1.02, 0.95, 0.87, 0.77, 0.67, 0.55, 0.44, 0.30, 0.16, 0.01])\n    y = np.array([0.39, 0.32, 0.27, 0.22, 0.18, 0.15, 0.13, 0.12, 0.13, 0.15])\n\n    a = square(y)\n    b = multLists(x,y)\n    c = x\n    d = y\n    e = np.ones(len(x))\n    x2 = square(x)\n\n    Matrix = np.matrix([a,b,c,d,e])\n\n    Output = np.linalg.lstsq(Matrix,x2)[0]\n    print Output\n\n\nmain()\n</code></pre>\n\n<p>And my error code:</p>\n\n<pre><code>Traceback (most recent call last):\nFile \"problem6.py\", line 26, in &lt;module&gt;\nmain()\nFile \"problem6.py\", line 22, in main\nOutput = np.linalg.lstsq(Matrix,x2)[0]\nFile \"/usr/lib/python2.7/dist-packages/numpy/linalg/linalg.py\", line 1828, in lstsq\nraise LinAlgError('Incompatible dimensions')\nnumpy.linalg.linalg.LinAlgError: Incompatible dimensions\n</code></pre>\n\n<p>Essentially, I'm trying to solve Ax=b, with A equaling \"Matrix\", and b=\"x2\". I'm then trying to use least-squares to solve for X, but it isn't working. If, however, I change Matrix to equal:</p>\n\n<pre><code>Matrix = [[0 for x in range(5)] for x in range(10)] \n</code></pre>\n\n<p>The code then compiles and runs properly (although obviously with wrong values, since Matrix isn't supposed to equal ^ that. Any thoughts? Thanks.</p>\n"}, {"tags": ["php", "python", "email", "imap", "mechanize"], "comments": [{"owner": {"reputation": 9142, "user_id": 1442918, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7490251da02084a2e2720e20029d2bff?s=128&d=identicon&r=PG", "display_name": "Max", "link": "https://stackoverflow.com/users/1442918/max"}, "edited": false, "score": 0, "creation_date": 1461205646, "post_id": 36756464, "comment_id": 61096526, "body": "So, run curl in a loop?"}, {"owner": {"reputation": 156, "user_id": 6162709, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/lEQOC.png?s=128&g=1", "display_name": "stackoverfloweth", "link": "https://stackoverflow.com/users/6162709/stackoverfloweth"}, "reply_to_user": {"reputation": 9142, "user_id": 1442918, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7490251da02084a2e2720e20029d2bff?s=128&d=identicon&r=PG", "display_name": "Max", "link": "https://stackoverflow.com/users/1442918/max"}, "edited": false, "score": 0, "creation_date": 1461261149, "post_id": 36756464, "comment_id": 61130594, "body": "@Max, I tried that, and the source contains nothing that&#39;s in the email."}], "answers": [{"tags": [], "owner": {"reputation": 225, "user_id": 6554042, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/n8yMn.png?s=128&g=1", "display_name": "Forwarding", "link": "https://stackoverflow.com/users/6554042/forwarding"}, "is_accepted": false, "score": 1, "last_activity_date": 1470600816, "creation_date": 1470600816, "answer_id": 38818125, "question_id": 36756464, "link": "https://stackoverflow.com/questions/36756464/hushmail-download-all-emails-when-pop-imap-is-disabled-user-pass-included/38818125#38818125", "title": "Hushmail: Download all emails when POP &amp; IMAP is disabled (USER/PASS included)", "body": "<p>Try using WATIR-WEBDRIVER (ruby)</p>\n\n<pre><code>require 'watir-webdriver'\n\n    b = Watir::Browser.new :chrome\n    b.goto 'https://www.hushmail.com/preview/hushmail/'\n\n    b.text_field(:name =&gt; 'hush_username').set \u2018me@hushmail.com\u2019\n    b.text_field(:name =&gt; 'hush_passphrase').set \u2018me_password\u2019\n    b.button(:value =&gt; 'Sign in').click\n    $i = 0  \n\n    while $i &lt;= 5000 do\n            sleep 1.5\n            b.goto 'https://www.hushmail.com/preview/hushmail/me@hushmail.com/rawmessage/Inbox/' + $i.to_s + '?raw=1'\n            if (b.html =~ /eml file/)\n                    File.open('hushmail_' + $i.to_s, 'w') do |f|\n                            f.puts b.html\n                    end\n            end\n            $i += 1\n    end\n</code></pre>\n"}], "owner": {"reputation": 156, "user_id": 6162709, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/lEQOC.png?s=128&g=1", "display_name": "stackoverfloweth", "link": "https://stackoverflow.com/users/6162709/stackoverfloweth"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 437, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1470600816, "creation_date": 1461191917, "last_edit_date": 1592644375, "question_id": 36756464, "link": "https://stackoverflow.com/questions/36756464/hushmail-download-all-emails-when-pop-imap-is-disabled-user-pass-included", "title": "Hushmail: Download all emails when POP &amp; IMAP is disabled (USER/PASS included)", "body": "<p>I want to back up my emails from a non-premium account I have with <a href=\"http://hushmail.com\" rel=\"nofollow noreferrer\">Hushmail</a>, so I can delete the account. Initially tried to use Thunderbird, however, POP &amp; IMAP is a &quot;<a href=\"https://help.hushmail.com/entries/20348693-Thunderbird-IMAP-\" rel=\"nofollow noreferrer\">premium</a>&quot; feature. Thought I could modify the code from a related question <a href=\"https://stackoverflow.com/questions/348630/how-can-i-download-all-emails-with-attachments-from-gmail/642988?s=2%7C0.1564#642988\">here</a>, but still requires IMAP. I thought then that perhaps I could use something to gather the content loop-wise from the &quot;show all headers&quot; URL for each individual email without using IMAP. The layout is like this:</p>\n<pre><code>https://www.hushmail.com/preview/hushmail/&lt;&lt;&lt;USERNAME&gt;&gt;&gt;@hush.ai/rawmessage/Inbox/&lt;&lt;&lt;EMAIL NUMBER&gt;&gt;&gt;?raw=1\n</code></pre>\n<p>Here <code>&lt;&lt;&lt;USERNAME&gt;&gt;&gt;</code> is the username, <em>i.e.</em> <a href=\"https://en.wikipedia.org/wiki/Email_address\" rel=\"nofollow noreferrer\">local-part</a>, and <code>&lt;&lt;&lt;EMAIL NUMBER&gt;&gt;&gt;</code> is the number of the email. I have the first and last numbers, call them <code>first</code> and <code>last</code>, say. The above link, once I'm logged in to my Hushmail account through the browser, can be used to gather all emails, however, there are gaps in the <code>&lt;&lt;&lt;EMAIL NUMBER&gt;&gt;&gt;</code>'s, like 100, 102, 216, so a call to</p>\n<pre><code>https://www.hushmail.com/preview/hushmail/&lt;&lt;&lt;USERNAME&gt;&gt;&gt;@hush.ai/rawmessage/Inbox/101?raw=1\n                                                                      EMAIL NUMBER^^^\n</code></pre>\n<p>would return a page with the message &quot;An unexpected error has occurred&quot;, which could be used to our advantage.</p>\n<hr />\n<blockquote>\n<p>Created an account for your own testing:</p>\n<p>USER: so36756464@hush.ai</p>\n<p>PASS: 510526A5A139B330BFE078D907FA5BB21ABF9C960E4B857180F4EBA460337969</p>\n</blockquote>\n"}, {"tags": ["python", "numpy", "matrix", "vector", "scikit-learn"], "comments": [{"owner": {"reputation": 29554, "user_id": 839957, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/3ac5824c6cc4817a754a186d6a45a08b?s=128&d=identicon&r=PG", "display_name": "maxymoo", "link": "https://stackoverflow.com/users/839957/maxymoo"}, "edited": false, "score": 1, "creation_date": 1461216758, "post_id": 36756427, "comment_id": 61099759, "body": "how mysterious, your final line definately looks like it should be returning a symmetric matrix?! can you include some data in your code so we can run in and verify your result?"}, {"owner": {"reputation": 2430, "user_id": 4363810, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/5bd274a5b50325215ab3e0ff837c8d8c?s=128&d=identicon&r=PG&f=1", "display_name": "mel", "link": "https://stackoverflow.com/users/4363810/mel"}, "reply_to_user": {"reputation": 29554, "user_id": 839957, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/3ac5824c6cc4817a754a186d6a45a08b?s=128&d=identicon&r=PG", "display_name": "maxymoo", "link": "https://stackoverflow.com/users/839957/maxymoo"}, "edited": false, "score": 0, "creation_date": 1461241828, "post_id": 36756427, "comment_id": 61116701, "body": "I know that method would not work but I still tried to test it so... I add an example if you want to."}], "answers": [{"comments": [{"owner": {"reputation": 2430, "user_id": 4363810, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/5bd274a5b50325215ab3e0ff837c8d8c?s=128&d=identicon&r=PG&f=1", "display_name": "mel", "link": "https://stackoverflow.com/users/4363810/mel"}, "edited": false, "score": 0, "creation_date": 1461244271, "post_id": 36770357, "comment_id": 61118632, "body": "And can I change the distance like jaccard etc?"}], "tags": [], "owner": {"reputation": 11305, "user_id": 6160119, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JlM4b.jpg?s=128&g=1", "display_name": "Tonechas", "link": "https://stackoverflow.com/users/6160119/tonechas"}, "is_accepted": true, "score": 2, "last_activity_date": 1610131918, "last_edit_date": 1610131918, "creation_date": 1461243479, "answer_id": 36770357, "question_id": 36756427, "link": "https://stackoverflow.com/questions/36756427/distance-of-an-array-of-vector-from-its-own-element/36770357#36770357", "title": "Distance of an array of vector from it&#39;s own element", "body": "<p>The functions <a href=\"https://docs.scipy.org/doc/scipy/reference/generated/scipy.spatial.distance.pdist.html\" rel=\"nofollow noreferrer\"><code>pdist</code></a> and <a href=\"https://docs.scipy.org/doc/scipy/reference/generated/scipy.spatial.distance.squareform.html\" rel=\"nofollow noreferrer\"><code>squareform</code></a> will do the trick:</p>\n<pre class=\"lang-py prettyprint-override\"><code>In [897]: import numpy as np\n     ...: from scipy.spatial.distance import pdist, squareform\n\nIn [898]: input_matrix = np.asarray([[0, 0, 0, 3, 4, 1, 0, 2],\n     ...:                            [0, 0, 0, 2, 5, 2, 0, 3],\n     ...:                            [2, 1, 1, 0, 4, 0, 2, 3],\n     ...:                            [3, 0, 2, 0, 5, 1, 1, 2]])\n\nIn [899]: squareform(pdist(input_matrix))\nOut[899]: \narray([[0.        , 2.        , 4.58257569, 4.89897949],\n       [2.        , 0.        , 4.35889894, 4.47213595],\n       [4.58257569, 4.35889894, 0.        , 2.64575131],\n       [4.89897949, 4.47213595, 2.64575131, 0.        ]])\n</code></pre>\n<p>As expected, the resulting distance matrix is a symmetric array.</p>\n<p>By default <code>pdist</code> computes the <em>euclidean</em> distance. You can calculate a different distance by passing the proper value to parameter <code>metric</code> in the function call. For example:</p>\n<pre class=\"lang-py prettyprint-override\"><code>In [900]: squareform(pdist(input_matrix, metric='jaccard'))\nOut[900]: \narray([[0.        , 1.        , 0.875     , 0.71428571],\n       [1.        , 0.        , 0.875     , 0.85714286],\n       [0.875     , 0.875     , 0.        , 1.        ],\n       [0.71428571, 0.85714286, 1.        , 0.        ]])\n</code></pre>\n"}], "owner": {"reputation": 2430, "user_id": 4363810, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/5bd274a5b50325215ab3e0ff837c8d8c?s=128&d=identicon&r=PG&f=1", "display_name": "mel", "link": "https://stackoverflow.com/users/4363810/mel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 172, "favorite_count": 0, "accepted_answer_id": 36770357, "answer_count": 1, "score": 1, "last_activity_date": 1610132332, "creation_date": 1461191760, "last_edit_date": 1610132332, "question_id": 36756427, "link": "https://stackoverflow.com/questions/36756427/distance-of-an-array-of-vector-from-its-own-element", "title": "Distance of an array of vector from it&#39;s own element", "body": "<p>I've got an array of vector and I want to build a matrix that shows me the distance between its own vector. For example I've got that matrix with those 2 vectors:</p>\n<pre><code>[[a, b , c]\n [d, e , f]]\n</code></pre>\n<p>and I want to get that where <code>dist</code> is an euclidian distance for example:</p>\n<pre><code>[[dist(vect1,vect1), dist(vect1,vect2)]\n [dist(vect2,vect1), dist(vect2,vect2)]]\n</code></pre>\n<p>So obviously I'm expecting a symmetric matrix with null value on the diagonal. I tried something using scikit-learn.</p>\n<pre><code>#Create clusters containing the similar vectors from the clustering algo\nlabels = db.labels_\nn_clusters_ = len(set(labels)) - (1 if -1 in labels else 0)\nlist_cluster = [[] for x in range(0,n_clusters_ + 1)]\nfor index, label in enumerate(labels):\n    if label == -1:\n        list_cluster[n_clusters_].append(sparse_matrix[index])\n    else:\n        list_cluster[label].append(sparse_matrix[index])\nvector_rows = []\nfor cluster in list_cluster:\n    for row in cluster:\n         vector_rows.append(row)\n#Create my array of vectors per cluster order\nsim_matrix = np.array(vector_rows)\n#Build my resulting matrix\nsim_matrix = metrics.pairwise.pairwise_distances(sim_matrix, sim_matrix)\n</code></pre>\n<p>The problem is my resulting matrix is not symmetric so I guess there is something wrong in my code.</p>\n<p>I add a little sample if you want to test, I did it with an euclidean distance vector per vector:</p>\n<pre class=\"lang-py prettyprint-override\"><code>input_matrix = [[0, 0, 0, 3, 4, 1, 0, 2], \n                [0, 0, 0, 2, 5, 2, 0, 3], \n                [2, 1, 1, 0, 4, 0, 2, 3], \n                [3, 0, 2, 0, 5, 1, 1, 2]]\nexpected_result = [[0, 2, 4.58257569, 4.89897949], \n                   [2, 0, 4.35889894, 4.47213595], \n                   [4.58257569,  4.35889894, 0, 2.64575131], \n                   [4.89897949, 4.47213595, 2.64575131, 0]]\n</code></pre>\n"}, {"tags": ["python", "multiprocessing"], "comments": [{"owner": {"reputation": 3650, "user_id": 6004486, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17c24716401bb14cca523bd36f8f8525?s=128&d=identicon&r=PG&f=1", "display_name": "jDo", "link": "https://stackoverflow.com/users/6004486/jdo"}, "edited": false, "score": 3, "creation_date": 1461192077, "post_id": 36756373, "comment_id": 61092954, "body": "I can&#39;t seem to re-produce this. I replaced your missing conditionals with <code>if random.randint(0,100) == 1:</code> and it&#39;ll happily run to 300 and above without overflowing."}, {"owner": {"reputation": 9, "user_id": 6232401, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/812c5072e10770446ec783796e4147c3?s=128&d=identicon&r=PG&f=1", "display_name": "REVerse", "link": "https://stackoverflow.com/users/6232401/reverse"}, "reply_to_user": {"reputation": 3650, "user_id": 6004486, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17c24716401bb14cca523bd36f8f8525?s=128&d=identicon&r=PG&f=1", "display_name": "jDo", "link": "https://stackoverflow.com/users/6004486/jdo"}, "edited": false, "score": 0, "creation_date": 1461192466, "post_id": 36756373, "comment_id": 61093094, "body": "Yeah, I pretty much copied my code from stack overflow and it still did this. Local variables defined in each process are the normal int size, but the ones that are shared are 1 byte. I have no clue what would cause this."}, {"owner": {"reputation": 55248, "user_id": 642070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c280b71b3187d1cc113a6e302b414b9?s=128&d=identicon&r=PG", "display_name": "tdelaney", "link": "https://stackoverflow.com/users/642070/tdelaney"}, "edited": false, "score": 1, "creation_date": 1461192667, "post_id": 36756373, "comment_id": 61093168, "body": "I switched <code>attempts</code> and <code>succeeded</code> in the <code>multiprocessing.Process</code> call and got the bad result. You may want to check the call in your real code."}, {"owner": {"reputation": 55248, "user_id": 642070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c280b71b3187d1cc113a6e302b414b9?s=128&d=identicon&r=PG", "display_name": "tdelaney", "link": "https://stackoverflow.com/users/642070/tdelaney"}, "reply_to_user": {"reputation": 3650, "user_id": 6004486, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17c24716401bb14cca523bd36f8f8525?s=128&d=identicon&r=PG&f=1", "display_name": "jDo", "link": "https://stackoverflow.com/users/6004486/jdo"}, "edited": false, "score": 2, "creation_date": 1461193177, "post_id": 36756373, "comment_id": 61093356, "body": "This illustrates the advantage of a runnable example. Both @jDo and I had to edit it to the code to get it to run... and then we find the example works for you too! Your problem is likely that you passed parameters in the wrong order. If <code>attempts</code> is a <code>&quot;b&quot;</code> format, it is a byte."}, {"owner": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "edited": false, "score": 1, "creation_date": 1461193305, "post_id": 36756373, "comment_id": 61093388, "body": "@REVerse - for the benefit of future questions, please read <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> from the <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> section of the help center."}, {"owner": {"reputation": 3650, "user_id": 6004486, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17c24716401bb14cca523bd36f8f8525?s=128&d=identicon&r=PG&f=1", "display_name": "jDo", "link": "https://stackoverflow.com/users/6004486/jdo"}, "reply_to_user": {"reputation": 55248, "user_id": 642070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c280b71b3187d1cc113a6e302b414b9?s=128&d=identicon&r=PG", "display_name": "tdelaney", "link": "https://stackoverflow.com/users/642070/tdelaney"}, "edited": false, "score": 0, "creation_date": 1461193331, "post_id": 36756373, "comment_id": 61093392, "body": "I suspected that <code>b</code> might refer to a byte. Nice detective work, @tdelaney!"}, {"owner": {"reputation": 9, "user_id": 6232401, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/812c5072e10770446ec783796e4147c3?s=128&d=identicon&r=PG&f=1", "display_name": "REVerse", "link": "https://stackoverflow.com/users/6232401/reverse"}, "reply_to_user": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "edited": false, "score": 0, "creation_date": 1461244077, "post_id": 36756373, "comment_id": 61118496, "body": "@Rob\u1d69, Ok. Sorry, this is my first time asking a question on stack."}, {"owner": {"reputation": 9, "user_id": 6232401, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/812c5072e10770446ec783796e4147c3?s=128&d=identicon&r=PG&f=1", "display_name": "REVerse", "link": "https://stackoverflow.com/users/6232401/reverse"}, "reply_to_user": {"reputation": 55248, "user_id": 642070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c280b71b3187d1cc113a6e302b414b9?s=128&d=identicon&r=PG", "display_name": "tdelaney", "link": "https://stackoverflow.com/users/642070/tdelaney"}, "edited": false, "score": 0, "creation_date": 1461244083, "post_id": 36756373, "comment_id": 61118498, "body": "@tdelaney, Yep, that was it! The parameters were switched in the process function definition. I spent a long time trying to figure this out and never noticed that. I feel silly for having to ask Stack Overflow for such a simple solution"}], "owner": {"reputation": 9, "user_id": 6232401, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/812c5072e10770446ec783796e4147c3?s=128&d=identicon&r=PG&f=1", "display_name": "REVerse", "link": "https://stackoverflow.com/users/6232401/reverse"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 75, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1461191486, "creation_date": 1461191486, "question_id": 36756373, "link": "https://stackoverflow.com/questions/36756373/why-is-my-shared-integer-variable-only-1-byte", "title": "Why is my shared integer variable only 1 byte?", "body": "<p>I'm pretty new to Python and I'm <em>very</em> new to multiprocessing.\nI'm using the multiprocessing library in Python 3.4, and my shared counter variable is maxing out at 127, and then flipping around to -128 leading me to believe that it's only 1 byte in length. Why is it not the size of a normal int?</p>\n\n<p>Here's an example of my code:</p>\n\n<pre><code>import multiprocessing\nfrom multiprocessing import Value\n\ndef process(arg1, arg2, counter, checker):\n    global attempts\n    attempts = counter\n    global succeeded\n    succeeded = checker\n\n    while not succeeded.value:\n        if &lt;expression&gt;:\n            succeeded.value = True\n            break \n        elif &lt;expression&gt;:\n            break\n        else:\n            &lt;code that does stuff&gt;\n            with attempts.get_lock():\n                attempts.value += 1\n            print(attempts.value)\n\n\nNUMOFPROCESSES = 5\nattempts = Value('i', 0, lock=True)\nsucceeded = Value('b', False)\n\nif __name__ == '__main__':\n    jobs = []\n    for i in range(NUMOFPROCESSES):\n        p = multiprocessing.Process(target=process, args=(arg1, arg2, attempts, succeeded))\n        jobs.append(p)\n        p.start()\n</code></pre>\n\n<p>Output would look something like this:</p>\n\n<pre><code>1\n2\n3\n.\n.\n.\n125\n126\n127\n-128\n-127\n-126\n-125\n</code></pre>\n"}, {"tags": ["python", "xml"], "answers": [{"comments": [{"owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "reply_to_user": {"reputation": 193, "user_id": 71014, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/43b0e89344c44aea3e70c942ea79931d?s=128&d=identicon&r=PG", "display_name": "Publiccert", "link": "https://stackoverflow.com/users/71014/publiccert"}, "edited": false, "score": 1, "creation_date": 1461196329, "post_id": 36756520, "comment_id": 61094220, "body": "@Publiccert You are welcome. I&#39;ve also added some more relevant information to the answer, check it out."}], "tags": [], "owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "is_accepted": true, "score": 1, "last_activity_date": 1461196214, "last_edit_date": 1461196214, "creation_date": 1461192197, "answer_id": 36756520, "question_id": 36756350, "link": "https://stackoverflow.com/questions/36756350/python-xml-grab-ip-from-file-between-cdata/36756520#36756520", "title": "Python XML Grab IP from File Between CDATA", "body": "<p><code>q.findtext(\"ETH0_IP\")</code> would try to find <code>ETH0_IP</code> element <em>directly under the root element in the tree</em> and in this case it results into <code>None</code> since <code>VM</code> does not have a direct <code>ETH0_IP</code> child.</p>\n\n<p>You can solve it by providing the XPath expression (to look for the <code>ETH0_IP</code> element anywhere in the tree) to <code>find()</code> or <code>findtext()</code>, or by using <code>xpath()</code> method directly:</p>\n\n<pre><code>&gt;&gt;&gt; from lxml import etree\n&gt;&gt;&gt; \n&gt;&gt;&gt; tree = etree.parse(\"input.xml\")\n&gt;&gt;&gt; print(tree.find(\".//ETH0_IP\").text)\n10.**.***.**\n&gt;&gt;&gt; print(tree.findtext(\".//ETH0_IP\"))\n10.**.***.**\n&gt;&gt;&gt; print(tree.xpath(\"//ETH0_IP\")[0].text)\n10.**.***.**\n</code></pre>\n"}], "owner": {"reputation": 193, "user_id": 71014, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/43b0e89344c44aea3e70c942ea79931d?s=128&d=identicon&r=PG", "display_name": "Publiccert", "link": "https://stackoverflow.com/users/71014/publiccert"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 25, "favorite_count": 1, "accepted_answer_id": 36756520, "answer_count": 1, "score": 1, "last_activity_date": 1461196214, "creation_date": 1461191365, "question_id": 36756350, "link": "https://stackoverflow.com/questions/36756350/python-xml-grab-ip-from-file-between-cdata", "title": "Python XML Grab IP from File Between CDATA", "body": "<p>I have an XML dump file that I want to parse for the first occurrence of 'ETH0_IP'. However, the cdata field is throwing me. It ends up returning 'None'. There are other IPs that appear further in the file but I don't care about those. </p>\n\n<p>I have something like this so far:</p>\n\n<pre><code>  q = etree.parse(outputfile)\n  fileoutputip = q.findtext(\"ETH0_IP\")\n</code></pre>\n\n<p>This is the XML:</p>\n\n<pre><code>&lt;VM&gt;\n  &lt;ID&gt;####&lt;/ID&gt;\n  &lt;UID&gt;0&lt;/UID&gt;\n  &lt;GID&gt;0&lt;/GID&gt;\n  &lt;UNAME&gt;####&lt;/UNAME&gt;\n  &lt;GNAME&gt;###&lt;/GNAME&gt;\n  &lt;NAME&gt;###&lt;/NAME&gt;\n  &lt;PERMISSIONS&gt;\n    &lt;OWNER_U&gt;1&lt;/OWNER_U&gt;\n    &lt;OWNER_M&gt;1&lt;/OWNER_M&gt;\n    &lt;OWNER_A&gt;0&lt;/OWNER_A&gt;\n    &lt;GROUP_U&gt;0&lt;/GROUP_U&gt;\n    &lt;GROUP_M&gt;0&lt;/GROUP_M&gt;\n    &lt;GROUP_A&gt;0&lt;/GROUP_A&gt;\n    &lt;OTHER_U&gt;0&lt;/OTHER_U&gt;\n    &lt;OTHER_M&gt;0&lt;/OTHER_M&gt;\n    &lt;OTHER_A&gt;0&lt;/OTHER_A&gt;\n  &lt;/PERMISSIONS&gt;\n  &lt;LAST_POLL&gt;1461191030&lt;/LAST_POLL&gt;\n  &lt;STATE&gt;3&lt;/STATE&gt;\n  &lt;LCM_STATE&gt;3&lt;/LCM_STATE&gt;\n  &lt;PREV_STATE&gt;3&lt;/PREV_STATE&gt;\n  &lt;PREV_LCM_STATE&gt;3&lt;/PREV_LCM_STATE&gt;\n  &lt;RESCHED&gt;0&lt;/RESCHED&gt;\n  &lt;STIME&gt;1461189864&lt;/STIME&gt;\n  &lt;ETIME&gt;0&lt;/ETIME&gt;\n  &lt;DEPLOY_ID&gt;###&lt;/DEPLOY_ID&gt;\n  &lt;MEMORY&gt;###&lt;/MEMORY&gt;\n  &lt;CPU&gt;0&lt;/CPU&gt;\n  &lt;NET_TX&gt;1000&lt;/NET_TX&gt;\n  &lt;NET_RX&gt;73254&lt;/NET_RX&gt;\n  &lt;TEMPLATE&gt;\n    &lt;AUTOMATIC_REQUIREMENTS&gt;&lt;![CDATA[!(PUBLIC_CLOUD = YES)]]&gt;&lt;/AUTOMATIC_REQUIREMENTS&gt;\n    &lt;CONTEXT&gt;\n      &lt;DISK_ID&gt;&lt;![CDATA[1]]&gt;&lt;/DISK_ID&gt;\n      &lt;ETH0_DNS&gt;&lt;![CDATA[####]]&gt;&lt;/ETH0_DNS&gt;\n      &lt;ETH0_GATEWAY&gt;&lt;![CDATA[###]]&gt;&lt;/ETH0_GATEWAY&gt;\n      &lt;ETH0_IP&gt;&lt;![CDATA[10.**.***.**]]&gt;&lt;/ETH0_IP&gt;\n</code></pre>\n"}, {"tags": ["python", "scikit-learn"], "comments": [{"owner": {"reputation": 2628, "user_id": 341654, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/z8Ui1.jpg?s=128&g=1", "display_name": "Dylan Knowles", "link": "https://stackoverflow.com/users/341654/dylan-knowles"}, "edited": false, "score": 0, "creation_date": 1461191944, "post_id": 36756335, "comment_id": 61092911, "body": "Hey Priscilla. I&quot;m not a Python user, but can you clarify what you&#39;re trying to do and the problem you&#39;ve encountered? You&#39;re more likely to get responses from expert users if they understand your exact goal, why you&#39;re trying to reach it, and why the output is wrong. Best of luck getting an answer, and welcome to Stack Overflow!"}, {"owner": {"reputation": 81, "user_id": 6232650, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-PUdzZzSnnBw/AAAAAAAAAAI/AAAAAAAAGPY/r8i4V3kqD0k/photo.jpg?sz=128", "display_name": "Priscilla Lusie", "link": "https://stackoverflow.com/users/6232650/priscilla-lusie"}, "reply_to_user": {"reputation": 2628, "user_id": 341654, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/z8Ui1.jpg?s=128&g=1", "display_name": "Dylan Knowles", "link": "https://stackoverflow.com/users/341654/dylan-knowles"}, "edited": false, "score": 0, "creation_date": 1461865710, "post_id": 36756335, "comment_id": 61405474, "body": "I really need to understand what I can do to get the correct tf-idf values using this sklearn function because they are returning wrong."}], "answers": [{"comments": [{"owner": {"reputation": 81, "user_id": 6232650, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-PUdzZzSnnBw/AAAAAAAAAAI/AAAAAAAAGPY/r8i4V3kqD0k/photo.jpg?sz=128", "display_name": "Priscilla Lusie", "link": "https://stackoverflow.com/users/6232650/priscilla-lusie"}, "edited": false, "score": 0, "creation_date": 1461865493, "post_id": 36757263, "comment_id": 61405343, "body": "I have already set all parameters as false but the answer still remains incorrect."}, {"owner": {"reputation": 1432, "user_id": 4975401, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/iMJ4a.jpg?s=128&g=1", "display_name": "zemekeneng", "link": "https://stackoverflow.com/users/4975401/zemekeneng"}, "reply_to_user": {"reputation": 81, "user_id": 6232650, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-PUdzZzSnnBw/AAAAAAAAAAI/AAAAAAAAGPY/r8i4V3kqD0k/photo.jpg?sz=128", "display_name": "Priscilla Lusie", "link": "https://stackoverflow.com/users/6232650/priscilla-lusie"}, "edited": false, "score": 0, "creation_date": 1461866842, "post_id": 36757263, "comment_id": 61406190, "body": "The ` + 1` at the end of the formula cannot be changed in the params. If you want to get your expected answer, use <code>smooth_idf=False</code> and subtract 1."}], "tags": [], "owner": {"reputation": 1432, "user_id": 4975401, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/iMJ4a.jpg?s=128&g=1", "display_name": "zemekeneng", "link": "https://stackoverflow.com/users/4975401/zemekeneng"}, "is_accepted": false, "score": 6, "last_activity_date": 1461867720, "last_edit_date": 1461867720, "creation_date": 1461196691, "answer_id": 36757263, "question_id": 36756335, "link": "https://stackoverflow.com/questions/36756335/calculating-idf-using-tfidfvectorizer-from-sklearn-feature-extraction-text-tfidf/36757263#36757263", "title": "Calculating IDF using TfidfVectorizer from sklearn.feature_extraction.text.TfidfVectorizer", "body": "<p>Two things are happening that you might not expect in the sklearn implimentation:</p>\n\n<ol>\n<li>The <code>TfidfTransformer</code> has <code>smooth_idf=True</code> as a default param</li>\n<li>It always adds 1 to the weight</li>\n</ol>\n\n<p>So it is using:</p>\n\n<pre><code>idf = log( 1 + samples/documents) + 1\n</code></pre>\n\n<p>Here it is in the source:</p>\n\n<p><a href=\"https://github.com/scikit-learn/scikit-learn/blob/master/sklearn/feature_extraction/text.py#L987-L992\" rel=\"noreferrer\">https://github.com/scikit-learn/scikit-learn/blob/master/sklearn/feature_extraction/text.py#L987-L992</a></p>\n\n<p>EDIT:\nYou could subclass the standard <code>TfidfVectorizer</code> class like this:</p>\n\n<pre><code>import scipy.sparse as sp\nimport numpy as np\nfrom sklearn.feature_extraction.text import (TfidfVectorizer,\n                                             _document_frequency)\nclass PriscillasTfidfVectorizer(TfidfVectorizer):\n\n    def fit(self, X, y=None):\n        \"\"\"Learn the idf vector (global term weights)\n        Parameters\n        ----------\n        X : sparse matrix, [n_samples, n_features]\n            a matrix of term/token counts\n        \"\"\"\n        if not sp.issparse(X):\n            X = sp.csc_matrix(X)\n        if self.use_idf:\n            n_samples, n_features = X.shape\n            df = _document_frequency(X)\n\n            # perform idf smoothing if required\n            df += int(self.smooth_idf)\n            n_samples += int(self.smooth_idf)\n\n            # log+1 instead of log makes sure terms with zero idf don't get\n            # suppressed entirely.\n            ####### + 1 is commented out ##########################\n            idf = np.log(float(n_samples) / df) #+ 1.0  \n            #######################################################\n            self._idf_diag = sp.spdiags(idf,\n                                        diags=0, m=n_features, n=n_features)\n\n        return self\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 3095969, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12f52fe42814829c2c81b916b645308c?s=128&d=identicon&r=PG&f=1", "display_name": "LaserfaceDom", "link": "https://stackoverflow.com/users/3095969/laserfacedom"}, "is_accepted": false, "score": 1, "last_activity_date": 1495213682, "creation_date": 1495213682, "answer_id": 44075504, "question_id": 36756335, "link": "https://stackoverflow.com/questions/36756335/calculating-idf-using-tfidfvectorizer-from-sklearn-feature-extraction-text-tfidf/44075504#44075504", "title": "Calculating IDF using TfidfVectorizer from sklearn.feature_extraction.text.TfidfVectorizer", "body": "<p>The actual formula they use in computing idf (when smooth_idf is True) is </p>\n\n<pre><code>idf = log( (1 + samples)/(documents + 1)) + 1\n</code></pre>\n\n<p>It's in the source but the web documentation is a little bit ambiguous about it I think.</p>\n\n<p><a href=\"https://github.com/scikit-learn/scikit-learn/blob/14031f6/sklearn/feature_extraction/text.py#L966-L969\" rel=\"nofollow noreferrer\">https://github.com/scikit-learn/scikit-learn/blob/14031f6/sklearn/feature_extraction/text.py#L966-L969</a></p>\n"}], "owner": {"reputation": 81, "user_id": 6232650, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-PUdzZzSnnBw/AAAAAAAAAAI/AAAAAAAAGPY/r8i4V3kqD0k/photo.jpg?sz=128", "display_name": "Priscilla Lusie", "link": "https://stackoverflow.com/users/6232650/priscilla-lusie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10847, "favorite_count": 0, "answer_count": 2, "score": 8, "last_activity_date": 1495213682, "creation_date": 1461191283, "last_edit_date": 1495540985, "question_id": 36756335, "link": "https://stackoverflow.com/questions/36756335/calculating-idf-using-tfidfvectorizer-from-sklearn-feature-extraction-text-tfidf", "title": "Calculating IDF using TfidfVectorizer from sklearn.feature_extraction.text.TfidfVectorizer", "body": "<p>I think the function TfidfVectorizer is not calculating correctly the IDF factor.\nFor example, copying the code from <a href=\"https://stackoverflow.com/questions/23792781/tf-idf-feature-weights-using-sklearn-feature-extraction-text-tfidfvectorizer\">tf-idf feature weights using sklearn.feature_extraction.text.TfidfVectorizer</a>:</p>\n\n<pre><code>from sklearn.feature_extraction.text import TfidfVectorizer\ncorpus = [\"This is very strange\",\n          \"This is very nice\"]\nvectorizer = TfidfVectorizer(\n                        use_idf=True, # utiliza o idf como peso, fazendo tf*idf\n                        norm=None, # normaliza os vetores\n                        smooth_idf=False, #soma 1 ao N e ao ni =&gt; idf = ln(N+1 / ni+1)\n                        sublinear_tf=False, #tf = 1+ln(tf)\n                        binary=False,\n                        min_df=1, max_df=1.0, max_features=None,\n                        strip_accents='unicode', # retira os acentos\n                        ngram_range=(1,1), preprocessor=None,              stop_words=None, tokenizer=None, vocabulary=None\n             )\nX = vectorizer.fit_transform(corpus)\nidf = vectorizer.idf_\nprint dict(zip(vectorizer.get_feature_names(), idf))\n</code></pre>\n\n<p>The Output is:</p>\n\n<pre><code>{u'is': 1.0,\n u'nice': 1.6931471805599454,\n u'strange': 1.6931471805599454,\n u'this': 1.0,\n u'very': 1.0}`\n</code></pre>\n\n<p>But should be:</p>\n\n<pre><code>{u'is': 0.0,\n u'nice': 0.6931471805599454,\n u'strange': 0.6931471805599454,\n u'this': 0.0,\n u'very': 0.0}\n</code></pre>\n\n<p>Isn't it? What am I doing wrong?</p>\n\n<p>Whereas the calculation of IDF, according to <a href=\"http://www.tfidf.com/\" rel=\"noreferrer\">http://www.tfidf.com/</a>,  is: </p>\n\n<pre><code>IDF(t) = log_e(Total number of documents / Number of documents with term t in it)\n</code></pre>\n\n<p>Thus, as the terms 'this', 'is' and 'very' appear in two sentences, the IDF = log_e (2/2) = 0. </p>\n\n<p>The terms 'strange' and 'nice' appear in only one of the two documents, so log_e(2/1) = 0,69314.</p>\n"}, {"tags": ["python"], "answers": [{"tags": [], "owner": {"reputation": 23980, "user_id": 1735756, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/SloZJ.jpg?s=128&g=1", "display_name": "Haifeng Zhang", "link": "https://stackoverflow.com/users/1735756/haifeng-zhang"}, "is_accepted": false, "score": 2, "last_activity_date": 1461192473, "last_edit_date": 1461192473, "creation_date": 1461191838, "answer_id": 36756442, "question_id": 36756282, "link": "https://stackoverflow.com/questions/36756282/questions-about-pulling-object-information-from-subclasses/36756442#36756442", "title": "Questions about pulling object information from subclasses", "body": "<p><code>characterclass = getattr(objects, playerclass)</code> \ngetattr() returns the value of named attribute of an object other than the object itself.\n<strong>characterclass</strong> is not an instance of <code>Warrior</code>, therefore you cannot refer to attribute <code>health</code></p>\n\n<blockquote>\n  <p>getattr(object, name[, default])\n  Return the value of the named attribute of object. name must be a string. If the string is the name of one of the object\u2019s attributes, the result is the value of that attribute. For example, getattr(x, 'foobar') is equivalent to x.foobar. If the named attribute does not exist, default is returned if provided, otherwise AttributeError is raised.</p>\n</blockquote>\n\n<p>You need to create warrior instance as:</p>\n\n<pre><code>warrior = objects.Warrior()\nwarrior.health\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 17190, "user_id": 1320510, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/2c437d3c8dac4ec473243d7f15ca4a8c?s=128&d=identicon&r=PG", "display_name": "Charles Merriam", "link": "https://stackoverflow.com/users/1320510/charles-merriam"}, "is_accepted": false, "score": 0, "last_activity_date": 1461196106, "creation_date": 1461196106, "answer_id": 36757172, "question_id": 36756282, "link": "https://stackoverflow.com/questions/36756282/questions-about-pulling-object-information-from-subclasses/36757172#36757172", "title": "Questions about pulling object information from subclasses", "body": "<p>Object oriented class structures are a bit confusing.</p>\n\n<p>First option, ignore subclasses.  The only difference between a 'Warrior' and a 'Wizard' in your example is data.  Just have a Character class and set the data as you would initialize other data:</p>\n\n<pre><code> grak = Player()\n grak.occupation = Occupation('Warrior', 75, 50, ....)\n</code></pre>\n\n<p>Alternately, add a helpful constructor to the Occupation class:</p>\n\n<pre><code>@classmethod\ndef new_warrior(cls):\n     return Occupation('Warrior', 75, 50, ....)\n\n# and use this way\ngrak.occupation = Occupation.new_warrior()\n</code></pre>\n\n<p>Second, create an instance of a subclass when you want one, like <code>self.occupation = Warrior()</code>. To get the initial instance,\nyou could use a couple different ways to make a factory method.   The easiest to understand is a function like this:</p>\n\n<pre><code>  def new_occupation(occupation_string):\n      if occupation == \"Warrior\":\n          return Warrior()\n      if occupation == \"Wizard\":\n          return Wizard()\n      ...\n</code></pre>\n\n<p>Then you can type <code>my_occupation = new_occupation(playerclass)</code> and <code>my_occupation.strength = 3</code>.   Drop the getattr() call.</p>\n\n<p>You want to use subclasses when you are designing code where each instance\nwill have different data, different classes will have different behaviors, and all subclasses promise to fulfill a single <em>contract</em>.   For example, your occupation might promise to implement an <code>attack()</code> method.  The Wizard does double damage on a full moon, so its <code>attack()</code> method has\ndifferent code.   When you call <code>myPlayer.occupation.attack()</code>, the correct <code>attack()</code> method is called, meaning the one for subclass that the instance actually belongs to.  If you later add an 'Illusionist' class, you won't change the <code>myPlayer.occupation.attack()</code> line.</p>\n\n<p>Keep coding.  It gets better.</p>\n"}, {"comments": [{"owner": {"reputation": 266, "user_id": 5438236, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/uI4df.jpg?s=128&g=1", "display_name": "Mochamethod", "link": "https://stackoverflow.com/users/5438236/mochamethod"}, "edited": false, "score": 0, "creation_date": 1461206411, "post_id": 36758042, "comment_id": 61096713, "body": "You&#39;re the man, honestly.  This is exactly what I was going to do!  I&#39;m adding special character-class based abilities -- in fact my weapon and armor objects are in a very similar fashion and have already implemented special abilities.    Thank you so much for you answer, as it has honestly given me more oversight into class mechanics in Python than any guide I&#39;ve read thus far.  Also, don&#39;t apologize for the length of your response!   You really went in-depth and answered my question in a great way.  I honestly appreciate that you took extra time to help me out.  Thanks again."}, {"owner": {"reputation": 2759, "user_id": 2809008, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff24f265a3c1712e989e0654a8c16f2a?s=128&d=identicon&r=PG", "display_name": "ljetibo", "link": "https://stackoverflow.com/users/2809008/ljetibo"}, "reply_to_user": {"reputation": 266, "user_id": 5438236, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/uI4df.jpg?s=128&g=1", "display_name": "Mochamethod", "link": "https://stackoverflow.com/users/5438236/mochamethod"}, "edited": false, "score": 3, "creation_date": 1461207196, "post_id": 36758042, "comment_id": 61096907, "body": "I&#39;m happy that you find my answer helpful and motivating. Good questions with nice MWE&#39;s always make me put in some extra effort. But this answer is a bit of an overkill for SO. It&#39;s maybe a more appropriate answer for <a href=\"http://codereview.stackexchange.com/\">CodeReview</a>. The most straightforward and correct answer here would be the one from haifzhan. It answers directly to the asked question. Plus I kind of feel bad for stealing points."}, {"owner": {"reputation": 2051, "user_id": 3626537, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1499840559/picture?type=large", "display_name": "Phrancis", "link": "https://stackoverflow.com/users/3626537/phrancis"}, "edited": false, "score": 1, "creation_date": 1461207421, "post_id": 36758042, "comment_id": 61096979, "body": "@ljetibo this would indeed make a great Code Review answer... maybe you should try answering some questions there!"}, {"owner": {"reputation": 266, "user_id": 5438236, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/uI4df.jpg?s=128&g=1", "display_name": "Mochamethod", "link": "https://stackoverflow.com/users/5438236/mochamethod"}, "edited": false, "score": 1, "creation_date": 1461264502, "post_id": 36758042, "comment_id": 61132468, "body": "@ljetibo I guess it may be overkill, but every bit of it was extremely helpful.  I understood the later parts of the answer as well, which honestly helped me better understand OOP as a concept.  You touched base with ideas that I&#39;ve avoided in the past because they seemed to difficult, but you explained them very well.  Thanks again."}], "tags": [], "owner": {"reputation": 2759, "user_id": 2809008, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff24f265a3c1712e989e0654a8c16f2a?s=128&d=identicon&r=PG", "display_name": "ljetibo", "link": "https://stackoverflow.com/users/2809008/ljetibo"}, "is_accepted": true, "score": 2, "last_activity_date": 1461202673, "last_edit_date": 1461202673, "creation_date": 1461202357, "answer_id": 36758042, "question_id": 36756282, "link": "https://stackoverflow.com/questions/36756282/questions-about-pulling-object-information-from-subclasses/36758042#36758042", "title": "Questions about pulling object information from subclasses", "body": "<p>I would like to disagree with Charles Merriam's answer. I fancy the different classes. Yes in the beginning they all look alike and just have different stats. But later on you can extend them to hold multiple functionalities. For example special modifiers such as \"rage\" for Warrior or \"meditation\" for Wizard. </p>\n\n<p>If you put all your eggs in a single Character class and just represent different classes as a string attribute of Character class, then you won't be able to do this extending later on. In fact I added the <code>rage</code> method to <code>Warrior</code> at the very end when I came to post this and saw Charles Merriam's answer. And those are the only lines I had to change because I used this inheritance model of yours. (Originally I only wanted to show you composition.)</p>\n\n<h1>Composition</h1>\n\n<p>Before I showcase what this inheritance thing can do back to what I think you're doing wrong. I think You've created a class inheritance model for your Occupations, but then lost your way and wanted to push it all in the Player class as attributes. </p>\n\n<p>To be more hands on: You defined an Occupation class that holds stats (hp, mana, stamina, dexterity ...). Then you created a Player object and made it <em>exactly</em> the same, except for some extra <code>items</code>, <code>victory</code>... attributes. If you've spent all this effort coding stats as attributes of Occupation classes why would you want for the Player to have specific, independent stats as if Occupations don't exist? You wouldn't. </p>\n\n<p>But what to do exactly? I figure an Occupation can't own items. We haven't coded Occupation like that and it's a bit weird for a system of teachings and ideas to own anything anyhow. So I want to avoid having to inherit Occupations with the Player. A Player is not an extension of Occupation even if a Player can have an Occupation. Therefore, what we want is a composition. </p>\n\n<p>That's when you take an Occupation object, and assign it as an attribute to a Player object. </p>\n\n<pre><code>class CharClass(object):\n    #these stats have to be defined for EVERY occupation possible\n    #This can be used as a base class for players without defined classes yet\n    #by defining the default values of __init__\n    def __init__(self, name=\"Unknown\", health=30, stamina=10, mana=10,\n                 strv=1, defv=1, dexv=1, intv=0, chrv=0, lckv=0):\n        self.name = name\n        self.health = health\n        self.stamina = stamina\n        self.mana = mana\n        self.strv = strv    #skill values\n        self.defv = defv    \n        self.dexv = dexv\n        self.intv = intv\n        self.chrv = chrv\n        self.lckv = lckv\n\n    def __str__(self):\n        details = '{0}: HP: {1}, SP: {2}, MP: {3} \\n'+\\\n                  '[STR: {4}, DEF: {5}, DEX: {6}, INT: {7}, CHR: {8}, LCK: {9}]'\n        return details.format(self.name, self.health, self.stamina, self.mana, self.strv, \n                              self.defv, self.dexv, self.intv, self.chrv, self.lckv)\n\n\nclass Warrior(CharClass):\n    def __init__(self):\n        super(Warrior, self).__init__(health=100, stamina=50, dexv=20)\n\n    def __str__(self):\n        parentstring = super(Warrior, self).__str__()\n        return \"You are a Warrior \\n\"+parentstring\n\nclass Player(object):\n    def __init__(self, charclass=CharClass(), items=[], spells=[], victory=False):\n        self.charclass = charclass #the generic class is the default one\n        self.items = items\n        self.spells = spells\n</code></pre>\n\n<p>Now that we used composition, you don't have to set any of the stats for player individually. That makes your code <em>a lot</em> shorter and more readable. You can access those through a Warrior object, which is an attribute of your player class like this:</p>\n\n<pre><code>newplayer = Player()\nprint newplayer\nprint newplayer.charclass\n\nprint\n\n#graduating to a Warrior\nnewplayer.charclass = Warrior() \nprint newplayer\nprint newplayer.charclass\n\nprint\n\n#there's a snag though. Every time now if you want to print or change Players health\n#(or some other attribute) you'd have to spell all of this:\n\nprint newplayer.charclass.health\nnewplayer.charclass.health += 100\nprint newplayer.charclass.health\n\n#this is because Player object contains a Warrior object in it and what you really change is that\n#Warrior object and not the Player.\n\nprint type(newplayer.charclass)\n</code></pre>\n\n<p>Output of the above code would be:</p>\n\n<pre><code>&lt;__main__.Player object at 0x000000000427A550&gt;\nUnknown: HP: 30, SP: 10, MP: 10 \n[STR: 1, DEF: 1, DEX: 1, INT: 0, CHR: 0, LCK: 0]\n\n&lt;__main__.Player object at 0x000000000427A550&gt;\nYou are a Warrior \nUnknown: HP: 100, SP: 50, MP: 10 \n[STR: 1, DEF: 1, DEX: 20, INT: 0, CHR: 0, LCK: 0]\n\n100\n200\n&lt;class '__main__.Warrior'&gt;\n</code></pre>\n\n<h1>Seamless Composition</h1>\n\n<p>There's a trick/workaround around the snag, albeit it's a bit harder for someone new to get it. Don't fret it, look it back up in a month when the world makes more sense. </p>\n\n<p>Special functions <code>__getattr__</code> and <code>__setattr__</code> are called whenever the attribute couldn't be found where it was expected. We override those functions to intercept what the special signs <code>.</code> (in i.e. <code>self.attribute</code>) and <code>=</code> do. Instead of those operators setting or getting the attributes of Player class we make them <em>sometimes</em> set/get the attributes of the composited <code>self.charclass</code> object instead!</p>\n\n<pre><code>class Player(object):\n    def __init__(self, charclass=CharClass(), items=[], spells=[], victory=False):\n        self.charclass = charclass\n        self.items = items\n        self.spells = spells\n\n    def __getattr__(self, attr):\n            return getattr(self.charclass, attr)\n\n    def __setattr__(self, attr, val):\n        if \"charclass\" in vars(self) and attr in vars(self.charclass):\n            self.charclass.__dict__[attr] = val     \n        else:\n            self.__dict__[attr] = val\n</code></pre>\n\n<p>With this in place we can do this again (without having to write <code>charclass</code> everywhere:</p>\n\n<pre><code>print newplayer.health\nnewplayer.health -= 50\nprint newplayer.health\n</code></pre>\n\n<p>Output is:</p>\n\n<pre><code>200\n150\n</code></pre>\n\n<p>It's hard to work with <code>__getattr__</code> and <code>__setattr__</code> without getting errors. They're not easy functions to overwrite.</p>\n\n<p>It's easier with <code>__getattr__</code>, it will automatically get called whenever there's nothing with the same name in the Player object. So all you have to be careful of is not adding new attributes with the same name in Player.</p>\n\n<p>But <code>__setattr__</code> will also get called in the <code>__init__</code> function when Player object doesn't have <strong>any</strong> attributes yet. If we don't check for that, we will get an error. That's what <code>if \"charclass\" in vars(self)</code> does; checks if <code>__init__</code> added <code>charclass</code> attribute to our object.</p>\n\n<p>But if we just check for <code>charclass</code> attribute, what happens when we try to add another? i.e. 2nd one in the row: <code>items</code>? <code>__setattr__</code> would be called, it would check for <code>charclass</code> in <code>self</code>, it would see it is there and then it would add items to <code>self.charclass</code> and not <code>self</code>! In effect it would add attributes to the Warrior object and not Player object. </p>\n\n<p>How do we add a new attribute to a Player object then? Answer is that we only set already existing Warrior object attributes. All attributes that don't exist in Warrior (self.charclass) are set as attributes of the Player instance (<code>self.__dict__[attr] = val</code>). That's what <code>and attr in vars(self.charclass)</code> means.</p>\n\n<h1>Inheritance and composition help extending code later on</h1>\n\n<p>To jump back to top and to why I disagree with Charles Merriam's answer. To exntend and change the functionality of your code now, all you have to do additionally is to add methods to Warrior class, for example let's add <code>rageOn</code> and <code>rageOff</code> methods: </p>\n\n<pre><code>class Warrior(CharClass):\n    #this class basically just defines different default values than CharClass\n    def __init__(self):\n        super(Warrior, self).__init__(health=100, stamina=50, dexv=20)\n\n    def __str__(self):\n        parentstring = super(Warrior, self).__str__()\n        return \"You are a Warrior \\n\"+parentstring\n\n    def rageON(self):\n        print \"You are in a blood-rage +30 attack modifier\"\n        self.stamina += 30\n\n    def rageOFF(self):\n        print \"You have calmed down.\"\n        self.stamina -= 30\n</code></pre>\n\n<p>And they will be <em>immediately</em> available in your Player class without you having to change the Player at all. </p>\n\n<pre><code>newplayer.rageON()\nprint newplayer.charclass\nprint \"----------------------------------------------------------------------------------------\"\nnewplayer.rageOFF()\nprint newplayer.charclass\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>You are in a blood-rage +30 attack modifier\nYou are a Warrior \nUnknown: HP: 150, SP: 80, MP: 10 \n[STR: 1, DEF: 1, DEX: 20, INT: 0, CHR: 0, LCK: 0]\n----------------------------------------------------------------------------------------\nYou have calmed down.\nYou are a Warrior \nUnknown: HP: 150, SP: 50, MP: 10 \n[STR: 1, DEF: 1, DEX: 20, INT: 0, CHR: 0, LCK: 0]\n</code></pre>\n\n<p>If you did it all in Player, or Character, class as suggested by Charles; you would have to add a method rage to the Player class. In it you would have to check if you're actually \"Warrior\" or not and could only then execute it. </p>\n\n<p>This doesn't sound like that much work until you realize that for every special effect of every class you want to have, you would have to write such a method. And they would all have to be in a single file where the Player class is defined. That does sound bad after all. I don't know why I wrote all this but it's too much invested now to not post. Sorry.</p>\n"}], "owner": {"reputation": 266, "user_id": 5438236, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/uI4df.jpg?s=128&g=1", "display_name": "Mochamethod", "link": "https://stackoverflow.com/users/5438236/mochamethod"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 73, "favorite_count": 0, "accepted_answer_id": 36758042, "answer_count": 3, "score": 3, "last_activity_date": 1461202673, "creation_date": 1461191016, "question_id": 36756282, "link": "https://stackoverflow.com/questions/36756282/questions-about-pulling-object-information-from-subclasses", "title": "Questions about pulling object information from subclasses", "body": "<p>my apologies if there are similar questions in regards to mine.  I'm rather new to Python, and still getting used to OOP.  That being said, if one of the many kind souls in this community could help in regards to my specific situation, or point me in the direction of similar questions that have been asked, -- though I'd like to note that Googling was no help and each question w/ similar errors were so widely different, and spanned so many different projects, I had a hard time grasping the solutions -- it would be greatly appreciated.</p>\n\n<p>Let's say I have a file named 'objects.py' to store most of my class objects for a text based game I'm developing, and in that file I have a class named 'Occupation'.  Class 'Occupation' holds variables that are used as modifiers for the 'Player' class that will be described a little more later on. </p>\n\n<p>The idea is that in the root file, namely 'root.py', the player will be able to choose from a list of player occupations, e.g. 'wizard' or 'knight', and have the information from the respective Occupation classes replace the current Player variable information.  </p>\n\n<p><em>'player.py' file:</em></p>\n\n<pre><code>import objects\n\nclass Player(object):\n    nextlevel = 30\n    # 'nextlevel' is the gold required for a level up.\n    def __init__(self):\n        self.name = ''\n        self.level = 1\n        self.health = 1\n        self.stamina = 0\n        self.mana = 0\n        self.skills = {'str': 0, 'def': 0, 'dex': 0, 'int': 0, 'chr': 0, 'lck': 0}\n        self.spells = []\n        self.inventory = [{'armor': [objects.PrisonerRobes()], 'weapons': [objects.IronDagger()], 'bows': [], 'potions': [], 'misc': []}, objects.Gold(0), objects.Arrow(0)]\n        self.victory = False\n</code></pre>\n\n<p><em>'objects.py' file:</em></p>\n\n<pre><code>class Occupation(object):\n    # Base class for all occupations / classes, e.g. 'knight' or 'wizard'.\n    classlist = ['warrior', 'knight', 'paladin', 'druid', 'warlock', 'wizard']\n    def __init__(self, name, hp, sp, mp, strv, defv, dexv, intv, chrv, lckv):\n        # The variable names of 'strv', 'defv', etc. stand for 'strength value', 'defence value', etc.\n        self.name = name\n        self.health = health\n        self.stamina = stamina\n        self.mana = mana\n        self.strv = strv    #skill values\n        self.defv = defv    \n        self.dexv = dexv\n        self.intv = intv\n        self.chrv = chrv\n        self.lckv = lckv\n\n    def __str__(self):\n        details = '{0}: HP: {1}, SP: {2}, MP: {3} // [STR: {4}, DEF: {5}, DEX: {6}, INT: {7}, CHR: {8}, LCK: {9}]'\n        return details.format(self.name, self.health, self.stamina, self.mana, self.strv, self.defv, self.dexv, self.intv, self.chrv, self.lckv)\n\nclass Warrior(Occupation):\n    def __init__(self):\n        super(Warrior, self).__init__('Warrior', 75, 50, 25, 12, 8, 12, 5, 8, 5)\n</code></pre>\n\n<p><em>'root.py' file:</em></p>\n\n<pre><code>from player import Player\nimport objects\n\ndef new_game():\n    while True:\n        print 'Only one class, and it is Warrior!'\n        print objects.Warrior()\n        classchoice = raw_input('Please type the full name of the class you wish to select.: ').lower()\n        playerclass = classchoice.title()\n        if classchoice != '':\n            characterclass = getattr(objects, playerclass)\n            player.health = characterclass.health\n            player.stamina = characterclass.stamina\n            player.mana = characterclass.mana\n            player.skills['str'] = characterclass.strv\n            player.skills['def'] = characterclass.defv\n            player.skills['dex'] = characterclass.dexv\n            player.skills['int'] = characterclass.intv\n            player.skills['chr'] = characterclass.chrv\n            player.skills['lck'] = characterclass.lckv\n            print 'You have chosen {0} as your class.'.format(characterclass.name)\n            confirm = raw_input('Is this correct? Type [Y] or [N] for yes/no respectively.: ').lower()\n            if confirm == 'y':\n                break\n            elif confirm == 'n':\n                continue\n            else:\n                print 'Not a valid keystroke!'\n                continue\n</code></pre>\n\n<p>The problem appears when typing 'warrior' when choosing a player class.: </p>\n\n<pre><code>line 48[in my original file]: player.health = characterclass.health\nAttributeError: type object 'Warrior' has no attribute 'health'\n</code></pre>\n\n<p>It seems that I can't reference the variables that I want to, when trying to update pre-existing Player values.  The 'Warrior' class, as far as I can tell, has the variable 'health', but I can't seem to access it.  Am I misunderstanding how classes and subclasses work in Python?  Or is it something else?</p>\n\n<p>Thanks for any help.</p>\n"}, {"tags": ["python", "numpy", "zip"], "comments": [{"owner": {"reputation": 55248, "user_id": 642070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c280b71b3187d1cc113a6e302b414b9?s=128&d=identicon&r=PG", "display_name": "tdelaney", "link": "https://stackoverflow.com/users/642070/tdelaney"}, "edited": false, "score": 0, "creation_date": 1461194296, "post_id": 36756235, "comment_id": 61093678, "body": "How did you build the .zip file? Operating systems don&#39;t read <code>.so</code> files from .zip files so you can&#39;t just zip up the numpy directory. Setuptools has a <code>bdist_egg</code> command that handles libraries by generating stub .py files that extract the .so files to disk where the operating system can use them."}, {"owner": {"reputation": 435, "user_id": 619335, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/8fa9dff121a2ddde62a0366d881e9c91?s=128&d=identicon&r=PG", "display_name": "Vinay", "link": "https://stackoverflow.com/users/619335/vinay"}, "reply_to_user": {"reputation": 55248, "user_id": 642070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c280b71b3187d1cc113a6e302b414b9?s=128&d=identicon&r=PG", "display_name": "tdelaney", "link": "https://stackoverflow.com/users/642070/tdelaney"}, "edited": false, "score": 0, "creation_date": 1461195349, "post_id": 36756235, "comment_id": 61093967, "body": "<code>pip install -r requirements.txt --target .&#47;packages</code>  <code>cd packages</code>  <code>find . -name &quot;*.pyc&quot; -delete</code>  <code>find . -name &quot;*.egg-info&quot; | xargs rm -rf</code>  <code>zip -9mrv packages.zip</code>"}, {"owner": {"reputation": 435, "user_id": 619335, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/8fa9dff121a2ddde62a0366d881e9c91?s=128&d=identicon&r=PG", "display_name": "Vinay", "link": "https://stackoverflow.com/users/619335/vinay"}, "reply_to_user": {"reputation": 55248, "user_id": 642070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c280b71b3187d1cc113a6e302b414b9?s=128&d=identicon&r=PG", "display_name": "tdelaney", "link": "https://stackoverflow.com/users/642070/tdelaney"}, "edited": false, "score": 0, "creation_date": 1461195586, "post_id": 36756235, "comment_id": 61094030, "body": "@tdelaney Can you elaborate more ? I need to use this zip in map-reduce environment."}], "answers": [{"tags": [], "owner": {"reputation": 55248, "user_id": 642070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c280b71b3187d1cc113a6e302b414b9?s=128&d=identicon&r=PG", "display_name": "tdelaney", "link": "https://stackoverflow.com/users/642070/tdelaney"}, "is_accepted": false, "score": 1, "last_activity_date": 1461199092, "creation_date": 1461199092, "answer_id": 36757635, "question_id": 36756235, "link": "https://stackoverflow.com/questions/36756235/python-import-error-with-zip/36757635#36757635", "title": "python import error with zip", "body": "<p>Operating systems don't recognize .so files inside of .zip files. But python \"eggs\" can extract extension modules on import so that the operating system can see and load them. See setuptools <a href=\"https://pythonhosted.org/setuptools/formats.html#extension-import-wrappers\" rel=\"nofollow\">Extension Import Wrappers</a> for details.</p>\n\n<p>I went to <a href=\"https://pypi.python.org/pypi/numpy/1.11.0\" rel=\"nofollow\">numpy on pypi</a> and found its <a href=\"https://sourceforge.net/projects/numpy/files/NumPy/\" rel=\"nofollow\">source on sourceforge</a>. After downloading and extracting the source, I changed to the source directory and ran <code>python3 setup.py bdist_egg</code> and it generated an \"egg\" file (which is a .zip file with a predefined structure python can use at import). After changing to the \"dist\" directory, the code works:</p>\n\n<pre><code>&gt;&gt;&gt; import sys\n&gt;&gt;&gt; sys.path.insert(0, 'numpy-1.11.0-py3.4-linux-x86_64.egg')\n&gt;&gt;&gt; import numpy\n&gt;&gt;&gt; numpy.__file__\n'numpy-1.11.0-py3.4-linux-x86_64.egg/numpy/__init__.py'\n</code></pre>\n\n<p>Notice that the \"egg\" is platform specific (I used python 3.4 on linux x86_64) so you want to run <code>setup.py</code> on a system close to the system you target for deployment.</p>\n\n<p>\"egg\" is the old package format and \"wheel\" is the new format but eggs have the advantage that you can run extension modules directly from the .zip file while wheels need to be installed. From the <a href=\"http://python-packaging-user-guide.readthedocs.org/en/latest/wheel_egg/#wheel-vs-egg\" rel=\"nofollow\">Wheel vs Egg</a> page:</p>\n\n<blockquote>\n  <p>Wheel is a distribution format, i.e a packaging format. [1] Egg was both a distribution format and a runtime installation format (if left zipped), and was designed to be importable.</p>\n</blockquote>\n\n<p>If you don't mind installing <code>numpy</code>, you can use one of the prebuilt wheels on pypi or even just <code>pip install numpy</code> if you have access to the internet. But if you want to run from the .zip file, stick with eggs.</p>\n"}], "owner": {"reputation": 435, "user_id": 619335, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/8fa9dff121a2ddde62a0366d881e9c91?s=128&d=identicon&r=PG", "display_name": "Vinay", "link": "https://stackoverflow.com/users/619335/vinay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1705, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1461199092, "creation_date": 1461190735, "last_edit_date": 1461193222, "question_id": 36756235, "link": "https://stackoverflow.com/questions/36756235/python-import-error-with-zip", "title": "python import error with zip", "body": "<p>I am trying to import a zip file packaged with numpy. </p>\n\n<p>I have zipped numpy into <code>packages.zip</code>. However while using the zip file I am getting the following import error.</p>\n\n<pre><code>&gt; python\nPython 2.7.9 (default, Jan  7 2015, 11:49:12)\n[GCC 4.2.1 Compatible Apple LLVM 6.0 (clang-600.0.56)] on darwin\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n&gt;&gt;&gt; import sys\n&gt;&gt;&gt; sys.path.insert(0, 'packages.zip')\n&gt;&gt;&gt; import numpy\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\n  File \"packages.zip/numpy/__init__.py\", line 180, in &lt;module&gt;\n  File \"packages.zip/numpy/add_newdocs.py\", line 13, in &lt;module&gt;\n  File \"packages.zip/numpy/lib/__init__.py\", line 8, in &lt;module&gt;\n  File \"packages.zip/numpy/lib/type_check.py\", line 11, in &lt;module&gt;\n  File \"packages.zip/numpy/core/__init__.py\", line 14, in &lt;module&gt;\nImportError: cannot import name multiarray\n&gt;&gt;&gt;\n</code></pre>\n\n<p>After checking numpy/core I found <code>__init__.py</code> is trying to import <code>multiarray.so</code> file.</p>\n\n<p>How can I resolve this error ? Thanks</p>\n"}, {"tags": ["python", "theano", "theano-cuda"], "comments": [{"owner": {"reputation": 55, "user_id": 1883626, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/443effdf8ddfd982dadef02c2a2c623c?s=128&d=identicon&r=PG", "display_name": "Higgcz", "link": "https://stackoverflow.com/users/1883626/higgcz"}, "edited": false, "score": 0, "creation_date": 1461262543, "post_id": 36756206, "comment_id": 61131325, "body": "So I&#39;ve tried to run it with <b>CNMeM</b> disabled (<code>cnmem=0</code>), which doesn&#39;t throw an error, but also doesn&#39;t solve that. However after importing the theano I&#39;m getting a message the <b>cuDNN</b> is not available. <code>Using gpu device 0: GeForce GT 750M (CNMeM is disabled, cuDNN not available)</code>  That&#39;s also weird, because I&#39;m pretty sure I have everything ready in the CUDA folder. Apparently this problem is more deeper then I thought."}, {"owner": {"reputation": 3247, "user_id": 1862500, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0cab10ec8f977e034feb17d4af73a9e6?s=128&d=identicon&r=PG", "display_name": "Yohanes Gultom", "link": "https://stackoverflow.com/users/1862500/yohanes-gultom"}, "edited": false, "score": 0, "creation_date": 1474122208, "post_id": 36756206, "comment_id": 66407949, "body": "It works with GT 940M too. Thanks! imho you should&#39;ve posted as an answer"}], "answers": [{"tags": [], "owner": {"reputation": 55, "user_id": 1883626, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/443effdf8ddfd982dadef02c2a2c623c?s=128&d=identicon&r=PG", "display_name": "Higgcz", "link": "https://stackoverflow.com/users/1883626/higgcz"}, "is_accepted": false, "score": 0, "last_activity_date": 1553462393, "creation_date": 1553462393, "answer_id": 55328687, "question_id": 36756206, "link": "https://stackoverflow.com/questions/36756206/import-theano-with-gpu-fails-because-out-of-memory-error/55328687#55328687", "title": "Import theano with gpu fails, because &quot;out of memory&quot; error", "body": "<p>First of all I didn't realize that value of <code>CNMeM</code> is <strong>% of total memory</strong> and because I was using the gpu with two monitors I actually didn't have much memory to spare, anyway I've tried <code>0.1</code> and it works.</p>\n\n<p>The second problem with cuDNN disabled I solved by adding this line to the theano config:</p>\n\n<pre><code>optimizer_including = cudnn\n</code></pre>\n\n<p>See this page for more details: <a href=\"http://deeplearning.net/software/theano/library/sandbox/cuda/dnn.html\" rel=\"nofollow noreferrer\">sandbox/cuda/dnn</a></p>\n"}], "owner": {"reputation": 55, "user_id": 1883626, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/443effdf8ddfd982dadef02c2a2c623c?s=128&d=identicon&r=PG", "display_name": "Higgcz", "link": "https://stackoverflow.com/users/1883626/higgcz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2999, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1553462393, "creation_date": 1461190579, "last_edit_date": 1463196539, "question_id": 36756206, "link": "https://stackoverflow.com/questions/36756206/import-theano-with-gpu-fails-because-out-of-memory-error", "title": "Import theano with gpu fails, because &quot;out of memory&quot; error", "body": "<p>As soon as I try to import <strong>theano</strong> library I get this error:</p>\n\n<pre><code>&gt;&gt;&gt; import theano\nERROR (theano.sandbox.cuda): ERROR: Not using GPU. Initialisation of device gpu failed:\ninitCnmem: cnmemInit call failed! Reason=CNMEM_STATUS_OUT_OF_MEMORY. numdev=1\n</code></pre>\n\n<p>Content of my <strong>.theanorc</strong>:</p>\n\n<pre><code>[global]\nfloatX = float32\ndevice = gpu\noptimizer = fast_run\n\n[lib]\ncnmem = 0.9\n\n[nvcc]\nfastmath = True\n\n[blas]\nldflags = -llapack -lblas\n\n[cmodule]\nmac_framework_link=True\n</code></pre>\n\n<p>I've also tried to run python environment with theano flags, but still the same problem:</p>\n\n<pre><code>$ THEANO_FLAGS=mode=FAST_RUN,device=gpu,floatX=float32,lib.cnmem=0.9 python3\n</code></pre>\n\n<p>They're also mentioning similar issue on Theano Github page: <a href=\"https://github.com/Theano/Theano/issues/4302\" rel=\"nofollow\">Initialisation of device gpu failed!</a>, however they're talking about <code>float</code> vs <code>int</code> value for <code>CNMeM</code>, which I supposed I have correctly setted to <code>0.9</code> (for no special reason, I've actually tried <code>1.0</code>, <code>0.95</code>, <code>0.5</code> and some other values, with same results).</p>\n\n<h3>My setup:</h3>\n\n<ul>\n<li>Mac OS X 10.11.4</li>\n<li>Xcode 7.2 (I had to downgrade it from 7.3)</li>\n<li>Cuda 7.5.19</li>\n<li>Python 3.5.1</li>\n</ul>\n\n<h2>Solution:</h2>\n\n<p>First of all I didn't realize that value of <code>CNMeM</code> is <strong>% of total memory</strong> and because I was using the gpu with two monitors I actually didn't have much memory to spare, anyway I've tried <code>0.1</code> and it works.</p>\n\n<p>The second problem with cuDNN disabled I solved by adding this line to the theano config:</p>\n\n<pre><code>optimizer_including = cudnn\n</code></pre>\n\n<p>See this page for more details: <a href=\"http://deeplearning.net/software/theano/library/sandbox/cuda/dnn.html\" rel=\"nofollow\">sandbox/cuda/dnn</a></p>\n"}, {"tags": ["javascript", "jquery", "python", "django", "templates"], "answers": [{"comments": [{"owner": {"reputation": 163228, "user_id": 383904, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/qCWYU.jpg?s=128&g=1", "display_name": "Roko C. Buljan", "link": "https://stackoverflow.com/users/383904/roko-c-buljan"}, "edited": false, "score": 2, "creation_date": 1461190939, "post_id": 36756212, "comment_id": 61092549, "body": "or even simpler... <code>}).eq(0).click();</code>"}, {"owner": {"reputation": 10683, "user_id": 52317, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/b3da0ca2685a59740d157b22aec70935?s=128&d=identicon&r=PG", "display_name": "Uzbekjon", "link": "https://stackoverflow.com/users/52317/uzbekjon"}, "reply_to_user": {"reputation": 163228, "user_id": 383904, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/qCWYU.jpg?s=128&g=1", "display_name": "Roko C. Buljan", "link": "https://stackoverflow.com/users/383904/roko-c-buljan"}, "edited": false, "score": 0, "creation_date": 1461191042, "post_id": 36756212, "comment_id": 61092577, "body": "@RokoC.Buljan (+1). I love one-liners :) Mark, consider selecting the answer to mark your question <i>closed</i>."}, {"owner": {"reputation": 163228, "user_id": 383904, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/qCWYU.jpg?s=128&g=1", "display_name": "Roko C. Buljan", "link": "https://stackoverflow.com/users/383904/roko-c-buljan"}, "edited": false, "score": 0, "creation_date": 1461191302, "post_id": 36756212, "comment_id": 61092666, "body": "@Uzbekjon I see you&#39;re anticipating a nice green <i>checky</i>, so, the same way I remind you that OPs could use some rep even more (useful for bounties etc), so if you find the Q well formatted you could show some sportmanship first! ;)"}], "tags": [], "owner": {"reputation": 10683, "user_id": 52317, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/b3da0ca2685a59740d157b22aec70935?s=128&d=identicon&r=PG", "display_name": "Uzbekjon", "link": "https://stackoverflow.com/users/52317/uzbekjon"}, "is_accepted": true, "score": 2, "last_activity_date": 1461190598, "creation_date": 1461190598, "answer_id": 36756212, "question_id": 36756199, "link": "https://stackoverflow.com/questions/36756199/first-image-without-click/36756212#36756212", "title": "First image without click", "body": "<p>Trigger <code>click</code> event on first image yourself.</p>\n\n<pre><code>&lt;script&gt;\n    $(document).ready(function () {\n\n        $(\".thumb\").on(\"click\", function(){\n            $(\"#imageHere\").attr('src', $(this).attr(\"src\"));\n        });\n\n        // ======= HERE =======\n        $( \".thumb:first\" ).click();\n\n    });\n&lt;/script&gt;\n</code></pre>\n"}], "owner": {"reputation": 563, "user_id": 4502075, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/fda7b9dc044b772bac1bc01528207f03?s=128&d=identicon&r=PG&f=1", "display_name": "mark", "link": "https://stackoverflow.com/users/4502075/mark"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "accepted_answer_id": 36756212, "answer_count": 1, "score": 1, "last_activity_date": 1461196782, "creation_date": 1461190531, "last_edit_date": 1461196782, "question_id": 36756199, "link": "https://stackoverflow.com/questions/36756199/first-image-without-click", "title": "First image without click", "body": "<p>I have a problem with my image gallery. When I click on a thumbnail it works and large image is shown but I want to have the first image to show up without having to click on its thumbnail.\nHow can I solve this problem?\nBelow is my code.</p>\n\n<p>Here is my Django template:</p>\n\n<pre><code>&lt;div class=\"row\"&gt;\n    {% if offer_images1 %}\n        &lt;div class=\"col-md-6 col-sm-6 col-xs-12\" id=\"help\"&gt;\n            {% for image in offer_images1 %}\n                &lt;img id=\"imageHere\" class=\"zoom_01 img-responsive\" data-zoom-image=\"{{ image.paint.url }}\" /&gt;\n            {% endfor %}\n        &lt;/div&gt;\n\n        &lt;div class=\"col-md-6 col-sm-6 col-xs-12\"&gt;\n            &lt;i&gt;&lt;b&gt;{% trans \"Title\" %}: &lt;/b&gt;{{ offer_gallery.title }}&lt;/i&gt;&lt;br&gt;\n            &lt;i&gt;&lt;b&gt;{% trans \"Status\" %}: &lt;/b&gt;{{ offer_gallery.status }}&lt;/i&gt;&lt;br&gt;\n        &lt;/div&gt;\n\n                {% for image in offer_images1 %}\n                    &lt;div class=\"col-md-3 hover08 column\"&gt;\n                        &lt;div style=\"padding-top:20px;padding-bottom:20px;\"&gt;\n                            &lt;figure class=\"img1\"&gt;\n                                &lt;img class=\"thumb img-responsive\" src=\"{{ image.paint.url }}\" width=\"150\" height=\"150\" style=\"border:1px solid grey\"&gt;\n                            &lt;/figure&gt;\n                        &lt;/div&gt;\n                    &lt;/div&gt;\n                    {% if forloop.counter|divisibleby:\"4\" and not forloop.last %}\n                        &lt;/div&gt;&lt;div class=\"row\"&gt;\n                    {% endif %}\n                {% endfor %}\n\n    {% endif %}\n&lt;/div&gt;\n</code></pre>\n\n<p>Here is my jQuery code:</p>\n\n<pre><code>&lt;script&gt;\n    $(document).ready(function () {\n        $( \".thumb\" ).each(function(index) {\n            $(this).on(\"click\", function(){\n                var image = $(this).attr(\"src\")\n                $(\"#imageHere\").attr('src', image);\n            });\n        });\n    });\n&lt;/script&gt;\n</code></pre>\n"}, {"tags": ["python", "pdf", "matplotlib", "reportlab"], "comments": [{"owner": {"reputation": 6738, "user_id": 906693, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ba54c2f46f424128b4ba467eb8d0e138?s=128&d=identicon&r=PG", "display_name": "roadrunner66", "link": "https://stackoverflow.com/users/906693/roadrunner66"}, "edited": false, "score": 0, "creation_date": 1461204435, "post_id": 36756187, "comment_id": 61096229, "body": "You already said why you&#39;d prefer PDF, but still I think you should look at increasing the resolution of those .pngs. It is not likely that you&#39;ll find it easy to write something that makes a 2D graphics array of pdfs."}], "answers": [{"tags": [], "owner": {"reputation": 353, "user_id": 5096716, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/3de5fceff31c354244910a5fbe83b611?s=128&d=identicon&r=PG&f=1", "display_name": "Conner Leverett", "link": "https://stackoverflow.com/users/5096716/conner-leverett"}, "is_accepted": true, "score": 0, "last_activity_date": 1461359766, "creation_date": 1461359766, "answer_id": 36803439, "question_id": 36756187, "link": "https://stackoverflow.com/questions/36756187/creating-an-infographic-with-multiple-pdfs-in-python/36803439#36803439", "title": "Creating an infographic with multiple PDF&#39;s in Python", "body": "<p>If anyone stumbles upon this I've found that the best way to actually do this is in Latex. There is a python plugin called PyLatex but there is no documentation so instead I will create a Latex template then using subprocess.call in my Python script create the Infographic.</p>\n"}], "owner": {"reputation": 353, "user_id": 5096716, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/3de5fceff31c354244910a5fbe83b611?s=128&d=identicon&r=PG&f=1", "display_name": "Conner Leverett", "link": "https://stackoverflow.com/users/5096716/conner-leverett"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 297, "favorite_count": 0, "accepted_answer_id": 36803439, "answer_count": 1, "score": 0, "last_activity_date": 1461359766, "creation_date": 1461190482, "last_edit_date": 1495535292, "question_id": 36756187, "link": "https://stackoverflow.com/questions/36756187/creating-an-infographic-with-multiple-pdfs-in-python", "title": "Creating an infographic with multiple PDF&#39;s in Python", "body": "<p>I've created multiple charts using Matplotlib and saved them as PDF's. I need to combine up to 5 PDF's into one PDF, as this will be done many times the task needs to automated with Python. The reason I'm combining PDF's instead of .jpg or .png is that the PDF scales the best and doesn't result in a fuzzy image. I've tried using code from here <a href=\"https://stackoverflow.com/questions/4690585/is-there-a-matplotlib-flowable-for-reportlab\">Is there a matplotlib flowable for ReportLab?</a> but I don't understand how to control the image placement. Reportlab has a function:<br>\n<code>.drawImage(file, x-coord, y-coord)</code> which allows for specific placement of the image on the page, unfortunately this function only takes .jpg or .png which are too low quality. If anyone has any suggestions on how to combine PDF's it would be greatly appreciated! </p>\n"}, {"tags": ["python", "regex"], "answers": [{"comments": [{"owner": {"reputation": 167922, "user_id": 240443, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/495d675e3bc42ed1dee469e2ce701f1b?s=128&d=identicon&r=PG", "display_name": "Amadan", "link": "https://stackoverflow.com/users/240443/amadan"}, "reply_to_user": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1461190826, "post_id": 36756218, "comment_id": 61092514, "body": "@WiktorStribi\u017cew: &quot;I want to process the inner (b) first before <b>removing it</b> and processing the outer parens&quot; (emphasis mine). Once you replace the inner expression with a non-parenthesised expression, you can find the outer one. This would typically be done in a loop; no way to do it with one regexp execution."}, {"owner": {"reputation": 1371, "user_id": 594506, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/489d17def1f98eb424accc9df2eb8041?s=128&d=identicon&r=PG", "display_name": "Fixee", "link": "https://stackoverflow.com/users/594506/fixee"}, "edited": false, "score": 0, "creation_date": 1461191201, "post_id": 36756218, "comment_id": 61092620, "body": "This solves my issue Amadan.  Thanks.  Side question: what does &quot;minimal&quot; mean in python regex&#39;s if not &quot;match as few characters as possible&quot;?"}, {"owner": {"reputation": 167922, "user_id": 240443, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/495d675e3bc42ed1dee469e2ce701f1b?s=128&d=identicon&r=PG", "display_name": "Amadan", "link": "https://stackoverflow.com/users/240443/amadan"}, "edited": false, "score": 1, "creation_date": 1461191754, "post_id": 36756218, "comment_id": 61092840, "body": "Exactly that - but at the place where you&#39;re matching, For example, <code>a.+z</code> matched against <code>abcz adz</code> would match <code>abcz adz</code> - The first <code>a</code> available, then as much other characters as possible, then <code>z</code>. Only if the first <code>a</code> couldn&#39;t be worked into the match would the second <code>a</code> be tested, like with <code>ad+z</code>. In contrast, <code>a.+?z</code> will match <code>abcz</code> - the first <code>a</code>, as little other characters possible (&quot;minimal&quot;), then <code>z</code>. It will <i>not</i> match <code>adz</code>, because another viable match is available sooner."}, {"owner": {"reputation": 1371, "user_id": 594506, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/489d17def1f98eb424accc9df2eb8041?s=128&d=identicon&r=PG", "display_name": "Fixee", "link": "https://stackoverflow.com/users/594506/fixee"}, "edited": false, "score": 0, "creation_date": 1461192965, "post_id": 36756218, "comment_id": 61093281, "body": "Perhaps python docs should call it &quot;earliest minimal&quot; or &quot;leftmost minimal&quot; instead of just &quot;minimal&quot; then.  I was quite misled by the term &quot;minimal&quot;, thinking it meant &quot;smallest possible&quot;"}, {"owner": {"reputation": 491, "user_id": 3397121, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6af33508066ac058356969ed5d79f815?s=128&d=identicon&r=PG", "display_name": "Platinum Fire", "link": "https://stackoverflow.com/users/3397121/platinum-fire"}, "edited": false, "score": 0, "creation_date": 1461194174, "post_id": 36756218, "comment_id": 61093648, "body": "Could you not just use <code>&quot;(\\(.*?)(\\(.*?\\))(.*?\\))&quot;</code> ? So that <code>group(1)</code> is the middle parameter, and concatenating <code>group(0)</code> and <code>group(2)</code> would get you the entire string without the middle section? Or am I not seeing the problem here?"}, {"owner": {"reputation": 167922, "user_id": 240443, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/495d675e3bc42ed1dee469e2ce701f1b?s=128&d=identicon&r=PG", "display_name": "Amadan", "link": "https://stackoverflow.com/users/240443/amadan"}, "reply_to_user": {"reputation": 1371, "user_id": 594506, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/489d17def1f98eb424accc9df2eb8041?s=128&d=identicon&r=PG", "display_name": "Fixee", "link": "https://stackoverflow.com/users/594506/fixee"}, "edited": false, "score": 0, "creation_date": 1461200732, "post_id": 36756218, "comment_id": 61095349, "body": "@Fixee: It is clear to people who know how regular expressions work (i.e. trying the match at each position, each operator only operates locally). Python docs writers apparently did not feel the need to explain the concept of regular expressions and particulars of its evaluation, just like they don&#39;t explain what a process is in multiprocessing docs. (FWIW, I don&#39;t think Python docs are ideal, but in this case I can&#39;t really blame them.)"}, {"owner": {"reputation": 167922, "user_id": 240443, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/495d675e3bc42ed1dee469e2ce701f1b?s=128&d=identicon&r=PG", "display_name": "Amadan", "link": "https://stackoverflow.com/users/240443/amadan"}, "reply_to_user": {"reputation": 491, "user_id": 3397121, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6af33508066ac058356969ed5d79f815?s=128&d=identicon&r=PG", "display_name": "Platinum Fire", "link": "https://stackoverflow.com/users/3397121/platinum-fire"}, "edited": false, "score": 0, "creation_date": 1461200826, "post_id": 36756218, "comment_id": 61095378, "body": "@Alastor: I imagine the problem is not restricted to the exact case in the question. My answer shows how you can evaluate <code>(2+((3*5)-(7*4)))</code>: by recursive substitution of inner parentheses. Yours can&#39;t."}], "tags": [], "owner": {"reputation": 167922, "user_id": 240443, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/495d675e3bc42ed1dee469e2ce701f1b?s=128&d=identicon&r=PG", "display_name": "Amadan", "link": "https://stackoverflow.com/users/240443/amadan"}, "is_accepted": false, "score": 3, "last_activity_date": 1461190623, "creation_date": 1461190623, "answer_id": 36756218, "question_id": 36756169, "link": "https://stackoverflow.com/questions/36756169/finding-shortest-regex-match-in-python/36756218#36756218", "title": "Finding shortest regex match in Python", "body": "<p>XY problem. You can't process the minimal match. What you can do is find a match without parentheses.</p>\n\n<pre><code>r\"\\(([^()]*)\\)\"\n</code></pre>\n"}], "owner": {"reputation": 1371, "user_id": 594506, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/489d17def1f98eb424accc9df2eb8041?s=128&d=identicon&r=PG", "display_name": "Fixee", "link": "https://stackoverflow.com/users/594506/fixee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 240, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1461192444, "creation_date": 1461190405, "last_edit_date": 1461192444, "question_id": 36756169, "link": "https://stackoverflow.com/questions/36756169/finding-shortest-regex-match-in-python", "title": "Finding shortest regex match in Python", "body": "<p>I want to process a string like this <code>(a (b) c)</code> and I want to match the inner <code>(b)</code> first before processing the outer parens. However, this code doesn't work:</p>\n\n<pre><code>&gt;&gt;&gt; x='(a(b)c)'\n&gt;&gt;&gt; re.search(r\"\\((.*?)\\)\", x).group(1)\n'a(b'\n</code></pre>\n\n<p>Is there any way to ask Python to find a minimal match (ie, <code>b</code>) rather than the longer match <code>a(b</code>?</p>\n"}, {"tags": ["python", "json", "facebook", "python-3.x", "urllib"], "answers": [{"tags": [], "owner": {"reputation": 1666, "user_id": 2687006, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/b1Trq.jpg?s=128&g=1", "display_name": "aershov", "link": "https://stackoverflow.com/users/2687006/aershov"}, "is_accepted": true, "score": 0, "last_activity_date": 1461193113, "creation_date": 1461193113, "answer_id": 36756683, "question_id": 36756146, "link": "https://stackoverflow.com/questions/36756146/downloaded-page-posts-from-facebook-how-do-i-handle-the-json-data/36756683#36756683", "title": "Downloaded page posts from facebook. How do I handle the JSON data?", "body": "<blockquote>\n  <p>json.loads accepts python3 string, which is unicode, and responce.read() returns binary string. </p>\n</blockquote>\n\n<p>Use <code>data = json.loads(requests_until_succeed(url).decode('utf-8'))</code> because responce is most likely utf-8. </p>\n"}], "owner": {"reputation": 63, "user_id": 6217402, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/10154125192909712/picture?type=large", "display_name": "Levo", "link": "https://stackoverflow.com/users/6217402/levo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "accepted_answer_id": 36756683, "answer_count": 1, "score": 0, "last_activity_date": 1461193113, "creation_date": 1461190298, "question_id": 36756146, "link": "https://stackoverflow.com/questions/36756146/downloaded-page-posts-from-facebook-how-do-i-handle-the-json-data", "title": "Downloaded page posts from facebook. How do I handle the JSON data?", "body": "<p>I have been following <a href=\"https://github.com/minimaxir/facebook-page-post-scraper/blob/master/how_to_build_facebook_scraper.ipynb\" rel=\"nofollow\">this tutorial</a> to download some page info from fb.</p>\n\n<p>I am using Python 3.5 and the tutorial is using python2.</p>\n\n<p>I was having some issues at first with a HTTP error code 400, basically saying I had to use the https protocol instead of http. So I have test in idle now that the data in coming and it looks to a novice like me as JSON. But when I try passing it to the json.loads it is giving this error</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"C:\\Users\\Levo\\Desktop\\facebookscrape.py\", line 38, in &lt;module&gt;\n    testFacebookPageData(page_id, access_token)\n  File \"C:\\Users\\Levo\\Desktop\\facebookscrape.py\", line 34, in testFacebookPageData\n    data = json.loads(requests_until_succeed(url))\n  File \"C:\\Users\\Levo\\AppData\\Local\\Programs\\Python\\Python35\\lib\\json\\__init__.py\", line 312, in loads\n    s.__class__.__name__))\nTypeError: the JSON object must be str, not 'bytes'\n</code></pre>\n\n<p>Apart from using the urllib library instead of the urllib2 library and https instead of http I don't what I am doing wrong? is the encryption of https the problem??</p>\n\n<pre><code>def requests_until_succeed(url):\n    req = urllib.request.Request(url)\n    success = False\n    while success is False:\n        try:\n            response = urllib.request.urlopen(req)\n            if response.getcode() == 200:\n                success = True\n        except Exception as e:\n            print(e)\n            time.sleep(5)\n\n            print (\"Error for URL %s: %s\" % (url, datetime.datetime.now()))\n\n        return response.read()\n\n\ndef testFacebookPageData(page_id, access_token):\n    base = \"https://graph.facebook.com/v2.6\"\n    node = \"/\" + page_id + \"/feed\"\n    parameters = \"/?access_token=%s\" % access_token\n    url = base + node + parameters\n\n    data = json.loads(requests_until_succeed(url))\n\n    print(json.dumps(data, indent = 4, sort_keys=True))\n\ntestFacebookPageData(page_id, access_token)\n</code></pre>\n"}, {"tags": ["python", "dictionary", "geojson"], "answers": [{"comments": [{"owner": {"reputation": 6829, "user_id": 3935035, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/370b7aad76088f41a3bf9ee5020bc0e5?s=128&d=identicon&r=PG&f=1", "display_name": "Stophface", "link": "https://stackoverflow.com/users/3935035/stophface"}, "edited": false, "score": 0, "creation_date": 1461190724, "post_id": 36756213, "comment_id": 61092472, "body": "why do I need the <code>item()</code> for that?"}, {"owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "reply_to_user": {"reputation": 6829, "user_id": 3935035, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/370b7aad76088f41a3bf9ee5020bc0e5?s=128&d=identicon&r=PG&f=1", "display_name": "Stophface", "link": "https://stackoverflow.com/users/3935035/stophface"}, "edited": false, "score": 0, "creation_date": 1461190860, "post_id": 36756213, "comment_id": 61092525, "body": "@Stophface <code>items()</code> (as well as <code>iteritems()</code> in Python 2) gives you access to both keys and values at the same time. Please follow the posted links for more information. Thanks."}, {"owner": {"reputation": 6829, "user_id": 3935035, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/370b7aad76088f41a3bf9ee5020bc0e5?s=128&d=identicon&r=PG&f=1", "display_name": "Stophface", "link": "https://stackoverflow.com/users/3935035/stophface"}, "edited": false, "score": 0, "creation_date": 1461190959, "post_id": 36756213, "comment_id": 61092553, "body": "Hm, I thought when I can iterate like in my first loop through a dictionary, why can&#39;t i do it in my nested loop then?"}, {"owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "reply_to_user": {"reputation": 6829, "user_id": 3935035, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/370b7aad76088f41a3bf9ee5020bc0e5?s=128&d=identicon&r=PG&f=1", "display_name": "Stophface", "link": "https://stackoverflow.com/users/3935035/stophface"}, "edited": false, "score": 0, "creation_date": 1461191033, "post_id": 36756213, "comment_id": 61092573, "body": "@Stophface <code>features[&quot;properties&quot;]</code> in your case is a dictionary. If you iterate over it as <code>for interesting in features[&quot;properties&quot;]</code>, you will get the keys only (well, you would be able to access values as <code>features[&quot;properties&quot;][interesting]</code> of course). But <code>items()</code> allows you to access both keys and values at the same time. Sorry, I&#39;m quite terrible at explaining and teaching :)"}, {"owner": {"reputation": 6829, "user_id": 3935035, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/370b7aad76088f41a3bf9ee5020bc0e5?s=128&d=identicon&r=PG&f=1", "display_name": "Stophface", "link": "https://stackoverflow.com/users/3935035/stophface"}, "edited": false, "score": 0, "creation_date": 1461191475, "post_id": 36756213, "comment_id": 61092726, "body": "&quot;If you iterate over it as for interesting in features[&quot;properties&quot;], you will get the keys only (well, you would be able to access values as features[&quot;properties&quot;][interesting] of course).&quot; Well thats problematic because it will, as my thread showed, return letter by letter?!"}, {"owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "reply_to_user": {"reputation": 6829, "user_id": 3935035, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/370b7aad76088f41a3bf9ee5020bc0e5?s=128&d=identicon&r=PG&f=1", "display_name": "Stophface", "link": "https://stackoverflow.com/users/3935035/stophface"}, "edited": false, "score": 0, "creation_date": 1461191574, "post_id": 36756213, "comment_id": 61092775, "body": "@Stophface nope, try it out, in this case <code>interesting</code> should contain your dictionary keys (<code>value1</code>, <code>value2</code> etc) and <code>features[&quot;properties&quot;][interesting]</code> would contain dictionary values: (<code>abc</code>, <code>0</code> etc).."}, {"owner": {"reputation": 6829, "user_id": 3935035, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/370b7aad76088f41a3bf9ee5020bc0e5?s=128&d=identicon&r=PG&f=1", "display_name": "Stophface", "link": "https://stackoverflow.com/users/3935035/stophface"}, "edited": false, "score": 0, "creation_date": 1461191701, "post_id": 36756213, "comment_id": 61092825, "body": "nope. When I write <code>[interesting]</code> without quotationmarks it says <code>its not defined</code>. I thought so too (as i.e. here <a href=\"http://www.jroller.com/evans/entry/parsing_json_with_python\" rel=\"nofollow noreferrer\">jroller.com/evans/entry/parsing_json_with_python</a>). Have a look at my question. I basically wrote it the way you just suggested (except the quotationmarks). But I think the problem is that <code>properties</code> in my JSON is not written like so <code>[{...]}</code> but like so <code>{}</code>. Try it out, it wont work."}, {"owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "reply_to_user": {"reputation": 6829, "user_id": 3935035, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/370b7aad76088f41a3bf9ee5020bc0e5?s=128&d=identicon&r=PG&f=1", "display_name": "Stophface", "link": "https://stackoverflow.com/users/3935035/stophface"}, "edited": false, "score": 0, "creation_date": 1461191827, "post_id": 36756213, "comment_id": 61092868, "body": "@Stophface okay, could you try the second code snippet I&#39;ve posted? The one after <code>Or, you can loop over the dictionary keys</code>. Thanks."}, {"owner": {"reputation": 6829, "user_id": 3935035, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/370b7aad76088f41a3bf9ee5020bc0e5?s=128&d=identicon&r=PG&f=1", "display_name": "Stophface", "link": "https://stackoverflow.com/users/3935035/stophface"}, "edited": false, "score": 0, "creation_date": 1461192088, "post_id": 36756213, "comment_id": 61092959, "body": "That does not work. It says <code>property_name</code> (which i replaced with <code>value1</code>) not defined. <code>print property_name</code> works! I am on python 2.7 btw."}], "tags": [], "owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "is_accepted": true, "score": 2, "last_activity_date": 1461191760, "last_edit_date": 1495542252, "creation_date": 1461190610, "answer_id": 36756213, "question_id": 36756144, "link": "https://stackoverflow.com/questions/36756144/iterating-over-geojson/36756213#36756213", "title": "Iterating over geoJSON", "body": "<p><code>features[\"properties\"][\"value1\"]</code> points to <code>abc</code> string which you iterate over character by character. Instead, you probably meant to iterate over the <code>properties</code> dictionary:</p>\n\n<pre><code>for property_name, property_value in features[\"properties\"].items():\n    print(property_name, property_value)\n</code></pre>\n\n<p>Or, you can loop over the dictionary keys:</p>\n\n<pre><code>for property_name in features[\"properties\"]:\n    print(property_name, features[\"properties\"][property_name])\n</code></pre>\n\n<p>See more about dictionaries and looping techniques here:</p>\n\n<ul>\n<li><a href=\"https://docs.python.org/2/tutorial/datastructures.html#dictionaries\" rel=\"nofollow noreferrer\">Dictonaries</a> and <a href=\"https://docs.python.org/2/tutorial/datastructures.html#looping-techniques\" rel=\"nofollow noreferrer\">Looping Techniques</a></li>\n<li><a href=\"https://stackoverflow.com/questions/3294889/iterating-over-dictionaries-using-for-loops-in-python\">Iterating over dictionaries using &#39;for&#39; loops</a></li>\n</ul>\n"}], "owner": {"reputation": 6829, "user_id": 3935035, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/370b7aad76088f41a3bf9ee5020bc0e5?s=128&d=identicon&r=PG&f=1", "display_name": "Stophface", "link": "https://stackoverflow.com/users/3935035/stophface"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1552, "favorite_count": 0, "accepted_answer_id": 36756213, "answer_count": 1, "score": 0, "last_activity_date": 1500876101, "creation_date": 1461190288, "last_edit_date": 1592644375, "question_id": 36756144, "link": "https://stackoverflow.com/questions/36756144/iterating-over-geojson", "title": "Iterating over geoJSON", "body": "<p>My geoJSON looks like so</p>\n<pre><code>{\n&quot;type&quot;: &quot;FeatureCollection&quot;,\n&quot;crs&quot;: {\n    &quot;type&quot;: &quot;name&quot;,\n    &quot;properties&quot;: {\n        &quot;name&quot;: &quot;urn:ogc:def:crs:OGC:1.3:CRS84&quot;\n    }\n},\n\n&quot;features&quot;: [{\n        &quot;type&quot;: &quot;Feature&quot;,\n        &quot;properties&quot;: {\n            &quot;value1&quot;: &quot;abc&quot;,\n            &quot;value2&quot;: 0,\n            &quot;value3&quot;: 0.99,\n            &quot;value4&quot;: &quot;def&quot;,\n            &quot;value5&quot;: &quot;882.3&quot;,\n            &quot;value6&quot;: 12,\n        },\n        &quot;geometry&quot;: {\n            &quot;type&quot;: &quot;Point&quot;,\n            &quot;coordinates&quot;: [1, 1]\n        }\n    }\n]\n}\n</code></pre>\n<p>I want to access <code>properties</code> and check some <code>values</code> for a <code>key</code></p>\n<pre><code>for features in geoJsonPoints[&quot;features&quot;]:\n    for interesting in features[&quot;properties&quot;][&quot;value1&quot;]:\n        print interesting\n        print &quot;!&quot;\n</code></pre>\n<p>I get</p>\n<blockquote>\n<p>a</p>\n<p>!</p>\n<p>b</p>\n<p>!</p>\n<p>c</p>\n<p>!</p>\n</blockquote>\n<p>Why is that?! It seems like my loop does not return me a dictionary?!</p>\n<p>If I do this</p>\n<pre><code>for features in geoJsonPoints[&quot;features&quot;]:\n    for interesting in features[&quot;properties&quot;]:\n        print type(intereseting)\n        print interesting\n</code></pre>\n<p>I get</p>\n<blockquote>\n<p>type 'unicode'</p>\n<p>value1</p>\n<p>type 'unicode'</p>\n<p>value2</p>\n<p>...</p>\n</blockquote>\n<p>Why isnt that a dictionary? And, if its not a dictionary, why can I access the values behind the &quot;unicode&quot; like in the first loop I showed?!</p>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 3650, "user_id": 6004486, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17c24716401bb14cca523bd36f8f8525?s=128&d=identicon&r=PG&f=1", "display_name": "jDo", "link": "https://stackoverflow.com/users/6004486/jdo"}, "edited": false, "score": 2, "creation_date": 1461189856, "post_id": 36756003, "comment_id": 61092136, "body": "Call <code>tail</code> via a <code>subprocess</code>? It reads the file backwards. Can&#39;t beat that (except by re-implemeting it in python). Are you on Linux?"}, {"owner": {"reputation": 571, "user_id": 4700944, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/61dbc102175a65fcd7a9b433b5722987?s=128&d=identicon&r=PG&f=1", "display_name": "Alex Lowe", "link": "https://stackoverflow.com/users/4700944/alex-lowe"}, "reply_to_user": {"reputation": 3650, "user_id": 6004486, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17c24716401bb14cca523bd36f8f8525?s=128&d=identicon&r=PG&f=1", "display_name": "jDo", "link": "https://stackoverflow.com/users/6004486/jdo"}, "edited": false, "score": 0, "creation_date": 1461190033, "post_id": 36756003, "comment_id": 61092212, "body": "@jDo Sadly not, I am on Windows 10"}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1461190281, "post_id": 36756003, "comment_id": 61092294, "body": "<code>print(&quot;This is a line&quot;)</code>? I&#39;m not sure how literally to take your description of the input format."}, {"owner": {"reputation": 3650, "user_id": 6004486, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17c24716401bb14cca523bd36f8f8525?s=128&d=identicon&r=PG&f=1", "display_name": "jDo", "link": "https://stackoverflow.com/users/6004486/jdo"}, "edited": false, "score": 2, "creation_date": 1461190829, "post_id": 36756003, "comment_id": 61092516, "body": "@Alex Ok... I think <a href=\"http://stackoverflow.com/a/5896210/6004486\">this class</a> does it well. It&#39;s basically a python re-implementation of Linux&#39;s <code>head</code> and <code>tail</code>. If you search for &quot;read file backwards tail python&quot; here or on google, there are lots of other examples."}], "answers": [{"tags": [], "owner": {"reputation": 16851, "user_id": 5460719, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0f2a855c86ad12fc2988d3948b69ec6?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Karzes", "link": "https://stackoverflow.com/users/5460719/tom-karzes"}, "is_accepted": false, "score": 0, "last_activity_date": 1461190565, "last_edit_date": 1461190565, "creation_date": 1461189788, "answer_id": 36756043, "question_id": 36756003, "link": "https://stackoverflow.com/questions/36756003/how-would-i-go-about-printing-the-last-line-in-a-large-text-file/36756043#36756043", "title": "How would I go about printing the last line in a large text file?", "body": "<p>Here's a very simple improvement which only stores a single line at a time:</p>\n\n<pre><code>f = open(\"foo.txt\",\"r\")\ndata = None\nfor line in f:\n    data = line\nprint(data)\n</code></pre>\n\n<p>Or you can pick up the final loop value after the loop:</p>\n\n<pre><code>f = open(\"foo.txt\",\"r\")\nline = None\nfor line in f:\n    pass\nprint(line)\n</code></pre>\n\n<p>Note that in this example, <code>line</code> will be <code>None</code> if the file is empty (which is the reason for the initial assignment to <code>line</code>).</p>\n"}, {"comments": [{"owner": {"reputation": 571, "user_id": 4700944, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/61dbc102175a65fcd7a9b433b5722987?s=128&d=identicon&r=PG&f=1", "display_name": "Alex Lowe", "link": "https://stackoverflow.com/users/4700944/alex-lowe"}, "edited": false, "score": 0, "creation_date": 1461190927, "post_id": 36756046, "comment_id": 61092547, "body": "When I ran your code I got <code>TypeError: an integer is required (got type _io.TextIOWrapper)</code>"}, {"owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "reply_to_user": {"reputation": 571, "user_id": 4700944, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/61dbc102175a65fcd7a9b433b5722987?s=128&d=identicon&r=PG&f=1", "display_name": "Alex Lowe", "link": "https://stackoverflow.com/users/4700944/alex-lowe"}, "edited": false, "score": 0, "creation_date": 1461191230, "post_id": 36756046, "comment_id": 61092639, "body": "@Alex whoops, fixed."}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 1, "creation_date": 1461196394, "post_id": 36756046, "comment_id": 61094234, "body": "The efficiency of the reading-backwards solution could be improved by seeking and reading in chunks and using <code>rfind</code> to find the last <code>&#39;\\n&#39;</code>. Also, the handling for newlines as the last character of a file is rather subtle (the code seeks to the end, reads nothing, and then goes back two characters, skipping the last character of the file! I think this actually produces the right result, but it&#39;s not obvious at first glance.) Ideally, there should also be some handling for if there&#39;s only one line and you end up trying to seek off the left side of the file, or if the file is empty."}, {"owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1461196503, "post_id": 36756046, "comment_id": 61094263, "body": "@user2357112 agreed that this is a funky solution that doesn&#39;t catch all corner cases. This isn&#39;t production code, it&#39;s Stack Overflow examples :). I&#39;d actually not thought about how to handle a file that ends in a newline, and this succeeds only on accident."}, {"owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1461196654, "post_id": 36756046, "comment_id": 61094305, "body": "@user2357112 jDo linked a beautiful helper class in the comments of the question that does this all much more elegantly."}, {"owner": {"reputation": 571, "user_id": 4700944, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/61dbc102175a65fcd7a9b433b5722987?s=128&d=identicon&r=PG&f=1", "display_name": "Alex Lowe", "link": "https://stackoverflow.com/users/4700944/alex-lowe"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1461197248, "post_id": 36756046, "comment_id": 61094450, "body": "@user2357112 I do see what you are talking about should I use <code>.rstrip(&#39;\\n&#39;)</code> to strip all newlines in the file?"}], "tags": [], "owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "is_accepted": true, "score": 2, "last_activity_date": 1461191650, "last_edit_date": 1461191650, "creation_date": 1461189801, "answer_id": 36756046, "question_id": 36756003, "link": "https://stackoverflow.com/questions/36756003/how-would-i-go-about-printing-the-last-line-in-a-large-text-file/36756046#36756046", "title": "How would I go about printing the last line in a large text file?", "body": "<p>If you only need the last line, throw everything else away.</p>\n\n<pre><code>with open('foo.txt') as f:\n    for line in f:\n        pass\n\n# `line` is the last line of the file.\n</code></pre>\n\n<p>Much faster (but far less readable) would be to start at the end of the file and move backwards by bytes until you find <code>\\n</code>, then read.</p>\n\n<pre><code>with open('foo.txt') as f:\n    fd = f.fileno()\n    os.lseek(fd, 0, os.SEEK_END)\n    while True:\n        ch = os.read(fd, 1)\n        if ch == b'\\n':\n            line = f.read()\n            break\n        else:\n            os.lseek(fd, -2, os.SEEK_CUR)\n\n# `line` is the last line of the file\n</code></pre>\n\n<p>This works by reading the file from the end, looking for the first newline, then reading forward from there.</p>\n"}, {"tags": [], "owner": {"reputation": 639, "user_id": 5776361, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a8e035811e47496a83b9920b45e1fbc?s=128&d=identicon&r=PG", "display_name": "Christian", "link": "https://stackoverflow.com/users/5776361/christian"}, "is_accepted": false, "score": 0, "last_activity_date": 1461189842, "creation_date": 1461189842, "answer_id": 36756053, "question_id": 36756003, "link": "https://stackoverflow.com/questions/36756003/how-would-i-go-about-printing-the-last-line-in-a-large-text-file/36756053#36756053", "title": "How would I go about printing the last line in a large text file?", "body": "<p>A quick improvement would be to just throw out <code>datalist</code> and only save the most recent line, since that's all you care about.</p>\n\n<pre><code>f = open(\"foo.txt\",\"r+\")\nfor line in f:\n    pass\nprint(line)\n</code></pre>\n\n<p>I'd imagine there are other more efficient ways too; I just want to offer one that is a direct derivative of your code.</p>\n"}, {"tags": [], "owner": {"reputation": 118519, "user_id": 244297, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0e726125e86b084ffec695e845b360b7?s=128&d=identicon&r=PG", "display_name": "Eugene Yarmash", "link": "https://stackoverflow.com/users/244297/eugene-yarmash"}, "is_accepted": false, "score": 0, "last_activity_date": 1461190624, "last_edit_date": 1461190624, "creation_date": 1461189843, "answer_id": 36756054, "question_id": 36756003, "link": "https://stackoverflow.com/questions/36756003/how-would-i-go-about-printing-the-last-line-in-a-large-text-file/36756054#36756054", "title": "How would I go about printing the last line in a large text file?", "body": "<p>You don't need to append each line to a list. Just use the loop variable:</p>\n\n<pre><code>line = None  # prevents a NameError if the file is empty\n\nwith open(\"foo.txt\", \"r+\") as f: \n    for line in f:\n        pass\nprint(line)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "edited": false, "score": 0, "creation_date": 1461196574, "post_id": 36756736, "comment_id": 61094281, "body": "This seems like it would be vastly less performant than OP&#39;s current method."}], "tags": [], "owner": {"reputation": 309, "user_id": 4603445, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf296155b7f72bbb5d1bbb191b719c8d?s=128&d=identicon&r=PG&f=1", "display_name": "Geoff D", "link": "https://stackoverflow.com/users/4603445/geoff-d"}, "is_accepted": false, "score": 0, "last_activity_date": 1461193415, "creation_date": 1461193415, "answer_id": 36756736, "question_id": 36756003, "link": "https://stackoverflow.com/questions/36756003/how-would-i-go-about-printing-the-last-line-in-a-large-text-file/36756736#36756736", "title": "How would I go about printing the last line in a large text file?", "body": "<p>Check out <strong>deque</strong> in the <strong>collections</strong> module.  There is a recipe for looking at the last 'n' number of lines in a file; i.e. tail.</p>\n\n<p><a href=\"https://docs.python.org/2/library/collections.html#deque-recipes\" rel=\"nofollow\">https://docs.python.org/2/library/collections.html#deque-recipes</a></p>\n\n<pre><code>def tail(filename, n=10):\n    'Return the last n lines of a file'\n    return deque(open(filename), n)\n</code></pre>\n"}], "owner": {"reputation": 571, "user_id": 4700944, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/61dbc102175a65fcd7a9b433b5722987?s=128&d=identicon&r=PG&f=1", "display_name": "Alex Lowe", "link": "https://stackoverflow.com/users/4700944/alex-lowe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 374, "favorite_count": 0, "accepted_answer_id": 36756046, "answer_count": 5, "score": -1, "last_activity_date": 1461193415, "creation_date": 1461189579, "question_id": 36756003, "link": "https://stackoverflow.com/questions/36756003/how-would-i-go-about-printing-the-last-line-in-a-large-text-file", "title": "How would I go about printing the last line in a large text file?", "body": "<p>How would I go about printing the last line in a text file that is about <code>612 MB</code> and has about 4 million lines of text consisting of <code>This is a line</code>. So far I have:</p>\n\n<p><strong>File.py</strong></p>\n\n<pre class=\"lang-py prettyprint-override\"><code>f = open(\"foo.txt\",\"r+\")\ndatalist = []\nfor line in f:\n    datalist.append(line)\nprint(datalist[-1])\n</code></pre>\n\n<p>The only problem that I see with my code is that it uses a lot of memory. I have heard people using <a href=\"https://docs.python.org/3.5/library/os.html?highlight=seek#os.lseek\" rel=\"nofollow\"><code>os.lseek</code></a> instead but I do not know how to implement it.</p>\n"}, {"tags": ["python", "setuptools"], "comments": [{"owner": {"reputation": 1336, "user_id": 2187510, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b18bb320097e3915468e052dc75ba493?s=128&d=identicon&r=PG", "display_name": "dtracers", "link": "https://stackoverflow.com/users/2187510/dtracers"}, "edited": false, "score": 0, "creation_date": 1463154112, "post_id": 36755969, "comment_id": 61959652, "body": "did you find a solution to this?"}], "answers": [{"tags": [], "owner": {"reputation": 3212, "user_id": 2233706, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/224116af88436575b20ba30f2fd9d995?s=128&d=identicon&r=PG", "display_name": "user2233706", "link": "https://stackoverflow.com/users/2233706/user2233706"}, "is_accepted": true, "score": 2, "last_activity_date": 1463164252, "last_edit_date": 1495541764, "creation_date": 1463164252, "answer_id": 37217046, "question_id": 36755969, "link": "https://stackoverflow.com/questions/36755969/force-setuptools-to-use-dependency-links-to-install-mysqlclient/37217046#37217046", "title": "Force setuptools to use dependency_links to install mysqlclient", "body": "<p>I ended up manually installing the package as a part of the post install:</p>\n\n<pre><code>from setuptools.command.install import install as _install\nimport pip\n\nclass install(_install):\n  def run(self):\n    _install.do_egg_install(self)\n\n    # Even when dependeny link to mysqlclient is specified, setuptools still installs\n    # from pypi, which does not work on Windows.  Therefore, manually install mysqlclient\n    if os.name == 'nt':\n      pip.main(['install', 'https://pypi.python.org/packages/cp27/m/mysqlclient/mysqlclient-1.3.7-cp27-none-win32.whl#md5=e9e726fd6f1912af78e2bf6ab56c02f3'])\n    else:\n      pip.main(['install', 'mysqlclient==1.3.7'])\n\nsetup(\n      cmdclass={'install': install},\n...\n)\n</code></pre>\n\n<p>There are <a href=\"https://stackoverflow.com/questions/17806485/execute-a-python-script-post-install-using-distutils-setuptools\">other answers</a> that call <code>_install.run()</code>, but that didn't work for me.  I had to use <code>do_egg_install()</code>.</p>\n"}], "owner": {"reputation": 3212, "user_id": 2233706, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/224116af88436575b20ba30f2fd9d995?s=128&d=identicon&r=PG", "display_name": "user2233706", "link": "https://stackoverflow.com/users/2233706/user2233706"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 899, "favorite_count": 0, "accepted_answer_id": 37217046, "answer_count": 1, "score": 2, "last_activity_date": 1463164252, "creation_date": 1461189438, "last_edit_date": 1495542699, "question_id": 36755969, "link": "https://stackoverflow.com/questions/36755969/force-setuptools-to-use-dependency-links-to-install-mysqlclient", "title": "Force setuptools to use dependency_links to install mysqlclient", "body": "<p>I'm using Windows, and I need to install the WHL file from <a href=\"https://pypi.python.org/pypi/mysqlclient\" rel=\"nofollow noreferrer\">here</a>.  Here's what I have in setup.py:</p>\n\n<pre><code>install_requires=['mysqlclient==1.3.7',\n...\ndependency_links=['https://pypi.python.org/packages/cp27/m/mysqlclient/mysqlclient-1.3.7-cp27-none-win32.whl#md5=e9e726fd6f1912af78e2bf6ab56c02f3',]\n</code></pre>\n\n<p>However, setuptools is downloading the tar.gz file instead and attempting to build, which won't work on my system.  I followed <a href=\"https://stackoverflow.com/a/17442663/2233706\">this solution</a> and changed my <code>install_requires</code> to use <code>mysqlclient&lt;=1.3.7</code>, but I still get the same problem.  Here is the output:</p>\n\n<pre><code>Searching for mysqlclient&lt;=1.3.7\nReading https://pypi.python.org/packages/cp27/P/Pillow/Pillow-2.7.0-cp27-none-win32.whl#md5=ebc4ef88a8dd39ed484206323a8d557a\nReading https://pypi.python.org/packages/cp27/m/mysqlclient/mysqlclient-1.3.7-cp27-none-win32.whl#md5=e9e726fd6f1912af78e2bf6ab56c02f3\nReading http://pypi.python.org/simple/mysqlclient/\nBest match: mysqlclient 1.3.7\nDownloading https://pypi.python.org/packages/source/m/mysqlclient/mysqlclient-1.3.7.tar.gz#md5=2ec5a96cbd9fd6ef343fa9b581a67fc4\nProcessing mysqlclient-1.3.7.tar.gz\nRunning mysqlclient-1.3.7\\setup.py -q bdist_egg --dist-dir c:\\users\\uuu\\appdata\\local\\temp\\easy_install-wt7fkw\\mysqlclient-1.3.7\\egg-dist-tmp-ubrs4f\nerror: Setup script exited with error: Unable to find vcvarsall.bat\n</code></pre>\n\n<p>I don't have any issues with install Pillow using the link in the dependency_links.  Is there a way to force setup.py to use the dependency link?</p>\n"}, {"tags": ["python", "numpy", "random", "hashlib"], "answers": [{"comments": [{"owner": {"reputation": 11683, "user_id": 163633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/764323a14e554c97ab74177e0bce51d4?s=128&d=identicon&r=PG", "display_name": "Robert Kern", "link": "https://stackoverflow.com/users/163633/robert-kern"}, "edited": false, "score": 1, "creation_date": 1461226403, "post_id": 36756272, "comment_id": 61105428, "body": "It can also take an array of 32-bit integers as well. <code>seed = np.frombuffer(hash.digest(), dtype=np.uint32)</code>"}], "tags": [], "owner": {"reputation": 52229, "user_id": 2937831, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/56c4053438af8e8b90d6f53cbb7573be?s=128&d=identicon&r=PG", "display_name": "jakevdp", "link": "https://stackoverflow.com/users/2937831/jakevdp"}, "is_accepted": true, "score": 2, "last_activity_date": 1461256567, "last_edit_date": 1461256567, "creation_date": 1461190937, "answer_id": 36756272, "question_id": 36755940, "link": "https://stackoverflow.com/questions/36755940/seed-numpy-random-randomstate-with-hashlib-hash/36756272#36756272", "title": "Seed numpy.random.RandomState with hashlib hash", "body": "<p><s>First of all, the random state seed is a 32-bit unsigned integer, so it will not be able to use the full 256-bit hash you are generating.</s></p>\n\n<p>Thanks to the commenter below for pointing out that the seed can be an array of 32-bit (unsigned) integers; you can convert the hash to such an array as follows:</p>\n\n<pre><code>import numpy as np\nfrom hashlib import sha256\n\ndata = np.random.rand(1000)\nhash = sha256(data)\nseed = np.frombuffer(hash.digest(), dtype='uint32')\n\nrstate = np.random.RandomState(seed)\n</code></pre>\n"}], "owner": {"reputation": 1792, "user_id": 574667, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/bc780ed8c9b17ef213e90287b23b2ec4?s=128&d=identicon&r=PG", "display_name": "jaboja", "link": "https://stackoverflow.com/users/574667/jaboja"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 608, "favorite_count": 0, "accepted_answer_id": 36756272, "answer_count": 1, "score": 2, "last_activity_date": 1461256567, "creation_date": 1461189301, "question_id": 36755940, "link": "https://stackoverflow.com/questions/36755940/seed-numpy-random-randomstate-with-hashlib-hash", "title": "Seed numpy.random.RandomState with hashlib hash", "body": "<p>I want to seed numpy.random.RandomState instance with an hashlib generated hash to have pseudorandom source always generating same values for same input data. When I try to do that this way:</p>\n\n<pre><code>hash = sha256(some_data)\nRandomState(seed=hash.digest())\n</code></pre>\n\n<p>I get:</p>\n\n<pre><code>ValueError: object of too small depth for desired array\n</code></pre>\n\n<p>I could do <code>map(ord, hash.digest())</code> but I don't know if it is right solution. Should I do that or will I lose randomness?</p>\n"}, {"tags": ["python", "numpy", "fft", "ethernet"], "comments": [{"owner": {"reputation": 27181, "user_id": 292477, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/7ca3cdf733e5ad7ca41c58ba43d06dcd?s=128&d=identicon&r=PG", "display_name": "Krumelur", "link": "https://stackoverflow.com/users/292477/krumelur"}, "edited": false, "score": 0, "creation_date": 1461189306, "post_id": 36755891, "comment_id": 61091932, "body": "You need to start by reading the documentation for the UDP based protocol you are using to figure out how the data is formatted."}, {"owner": {"reputation": 47, "user_id": 6222958, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/85569ef64c37eab591e4cc5611df6f59?s=128&d=identicon&r=PG&f=1", "display_name": "plukic", "link": "https://stackoverflow.com/users/6222958/plukic"}, "reply_to_user": {"reputation": 27181, "user_id": 292477, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/7ca3cdf733e5ad7ca41c58ba43d06dcd?s=128&d=identicon&r=PG", "display_name": "Krumelur", "link": "https://stackoverflow.com/users/292477/krumelur"}, "edited": false, "score": 0, "creation_date": 1461189631, "post_id": 36755891, "comment_id": 61092045, "body": "@Krumelur If i know what byte carries what information, how can i separate them, and arrange them in matrix?"}, {"owner": {"reputation": 27181, "user_id": 292477, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/7ca3cdf733e5ad7ca41c58ba43d06dcd?s=128&d=identicon&r=PG", "display_name": "Krumelur", "link": "https://stackoverflow.com/users/292477/krumelur"}, "edited": false, "score": 0, "creation_date": 1461189775, "post_id": 36755891, "comment_id": 61092100, "body": "Well, any answer to that question would depend knowing that. How is the data serialized? Raw binary? JSON? Protobuf? XML?"}, {"owner": {"reputation": 47, "user_id": 6222958, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/85569ef64c37eab591e4cc5611df6f59?s=128&d=identicon&r=PG&f=1", "display_name": "plukic", "link": "https://stackoverflow.com/users/6222958/plukic"}, "reply_to_user": {"reputation": 27181, "user_id": 292477, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/7ca3cdf733e5ad7ca41c58ba43d06dcd?s=128&d=identicon&r=PG", "display_name": "Krumelur", "link": "https://stackoverflow.com/users/292477/krumelur"}, "edited": false, "score": 0, "creation_date": 1461189925, "post_id": 36755891, "comment_id": 61092172, "body": "@Krumelur It is raw binary in this case."}], "answers": [{"tags": [], "owner": {"reputation": 1689, "user_id": 2907617, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/0acd120d8e1739f91979137d869b74ac?s=128&d=identicon&r=PG&f=1", "display_name": "szxk", "link": "https://stackoverflow.com/users/2907617/szxk"}, "is_accepted": true, "score": 1, "last_activity_date": 1461206117, "creation_date": 1461206117, "answer_id": 36758588, "question_id": 36755891, "link": "https://stackoverflow.com/questions/36755891/how-to-read-an-udp-package-and-convert-it-to-matrix-that-i-can-fft/36758588#36758588", "title": "How to read an UDP package and convert it to matrix that i can FFT?", "body": "<p>You can unpack a byte stream into a Python data structure with the <a href=\"https://docs.python.org/3/library/struct.html\" rel=\"nofollow\">struct</a> library. You'll need to represent the incoming stream using the format characters that correspond with the C data types in the data. For example, if you knew that your input stream was a series of 5 unsigned ints represented as 4 bytes, you could use</p>\n\n<pre><code>struct.unpack('hhhhh', p1[0])\n</code></pre>\n\n<p>(the <a href=\"https://docs.python.org/2/library/socket.html#socket.socket.recvfrom\" rel=\"nofollow\">recvfrom</a> documentation says that it returns a tuple of (string, address), where string is the data received).</p>\n\n<p>This would return a tuple of 5 integers. From my understanding, a list of tuples is valid input for <code>numpy.fft</code>, but of course you can preprocess the tuples however you need to before you feed it to numpy.</p>\n"}], "owner": {"reputation": 47, "user_id": 6222958, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/85569ef64c37eab591e4cc5611df6f59?s=128&d=identicon&r=PG&f=1", "display_name": "plukic", "link": "https://stackoverflow.com/users/6222958/plukic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 94, "favorite_count": 0, "accepted_answer_id": 36758588, "answer_count": 1, "score": -1, "last_activity_date": 1461206117, "creation_date": 1461189106, "last_edit_date": 1461200278, "question_id": 36755891, "link": "https://stackoverflow.com/questions/36755891/how-to-read-an-udp-package-and-convert-it-to-matrix-that-i-can-fft", "title": "How to read an UDP package and convert it to matrix that i can FFT?", "body": "<p>What do I need to do with <code>p1</code> for FFT to work?</p>\n\n<pre><code>from numpy.fft import fft  \np1 = socket.socket(socket.AF_INET, socket.SOCK_DGRAM)   \np1.recvfrom(1040)  \nmat = fft(p1)\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 8010, "user_id": 2623899, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/83ad78df36161a34b886c5b230098416?s=128&d=identicon&r=PG", "display_name": "dbliss", "link": "https://stackoverflow.com/users/2623899/dbliss"}, "edited": false, "score": 0, "creation_date": 1461189102, "post_id": 36755862, "comment_id": 61091840, "body": "<code>print(&quot;Thanks&quot;, StudentName, &quot;for participating in the quiz.&quot;)</code>"}], "answers": [{"comments": [{"owner": {"reputation": 8010, "user_id": 2623899, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/83ad78df36161a34b886c5b230098416?s=128&d=identicon&r=PG", "display_name": "dbliss", "link": "https://stackoverflow.com/users/2623899/dbliss"}, "edited": false, "score": 0, "creation_date": 1461190603, "post_id": 36755911, "comment_id": 61092424, "body": "your first suggestion includes extra spaces.  <code>print</code> automatically inserts a space between adjacent arguments.  you&#39;re also inconsistent in your inclusion of a period at the end of the statement."}], "tags": [], "owner": {"reputation": 8167, "user_id": 3734244, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/y1UTF.png?s=128&g=1", "display_name": "danidee", "link": "https://stackoverflow.com/users/3734244/danidee"}, "is_accepted": true, "score": 2, "last_activity_date": 1461191055, "last_edit_date": 1461191055, "creation_date": 1461189172, "answer_id": 36755911, "question_id": 36755862, "link": "https://stackoverflow.com/questions/36755862/text-after-variable-print-command/36755911#36755911", "title": "Text after variable print command", "body": "<pre><code>print(\"Thanks\", StudentName, \"for participating in the quiz.\")\n</code></pre>\n\n<p>or</p>\n\n<pre><code># will only work if studetName is a string \n# if it's an int for a really weird reason it will throw a TypeError\n\nprint(\"Thanks \" + studentName + \" for participating in the quiz.\" ) \n</code></pre>\n\n<p>or</p>\n\n<pre><code>print(\"Thanks {} for participating in the quiz.\".format(StudentName))\n</code></pre>\n\n<p>or</p>\n\n<pre><code>print \"Thanks %s for participating in the quiz.\" % studentName #python2\n</code></pre>\n\n<p>There are several ways to format and print strings in python but the new <code>str.format()</code> is the most flexible and in my opinion is easier to read</p>\n"}, {"tags": [], "owner": {"reputation": 118519, "user_id": 244297, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0e726125e86b084ffec695e845b360b7?s=128&d=identicon&r=PG", "display_name": "Eugene Yarmash", "link": "https://stackoverflow.com/users/244297/eugene-yarmash"}, "is_accepted": false, "score": 1, "last_activity_date": 1461189204, "creation_date": 1461189204, "answer_id": 36755918, "question_id": 36755862, "link": "https://stackoverflow.com/questions/36755862/text-after-variable-print-command/36755918#36755918", "title": "Text after variable print command", "body": "<p>You want <a href=\"https://docs.python.org/3.5/library/stdtypes.html#str.format\" rel=\"nofollow\"><code>str.format()</code></a>:</p>\n\n<pre><code>print(\"Thanks {} for participating in the quiz.\".format(StudentName))\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 6137405, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b3d4d75fdccc1c916db8070d8b3f368?s=128&d=identicon&r=PG", "display_name": "vvLivca", "link": "https://stackoverflow.com/users/6137405/vvlivca"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "accepted_answer_id": 36755911, "answer_count": 2, "score": 0, "last_activity_date": 1461191055, "creation_date": 1461189014, "last_edit_date": 1461190500, "question_id": 36755862, "link": "https://stackoverflow.com/questions/36755862/text-after-variable-print-command", "title": "Text after variable print command", "body": "<p>At the end of my program, I want the following text to be displayed on the user's screen: \"Thanks [StudentName] for participating in the quiz.\" <code>StudentName</code> is the variable with the name of the student (a string).</p>\n\n<p>Here is the single line of code which I attempted to use to achieve this: <code>print(\"Thanks\", StudentName)</code>. I'm missing the part \"for participating in the quiz\" after the student name. What command do I have to input to get this part printed?</p>\n"}, {"tags": ["python", "mysql", "python-2.7", "ubuntu-12.04", "broken-pipe"], "comments": [{"owner": {"reputation": 16460, "user_id": 341730, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc4ac3bee5a31e114112c0222eef62e0?s=128&d=identicon&r=PG", "display_name": "univerio", "link": "https://stackoverflow.com/users/341730/univerio"}, "edited": false, "score": 0, "creation_date": 1461189162, "post_id": 36755858, "comment_id": 61091863, "body": "How are you executing this file?"}, {"owner": {"reputation": 169, "user_id": 4943823, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57f046e380dc3e4a9e7c37b2d0327fe9?s=128&d=identicon&r=PG&f=1", "display_name": "user144209", "link": "https://stackoverflow.com/users/4943823/user144209"}, "reply_to_user": {"reputation": 16460, "user_id": 341730, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc4ac3bee5a31e114112c0222eef62e0?s=128&d=identicon&r=PG", "display_name": "univerio", "link": "https://stackoverflow.com/users/341730/univerio"}, "edited": false, "score": 0, "creation_date": 1461189312, "post_id": 36755858, "comment_id": 61091939, "body": "I am executing the file in Ubuntu 12.14 shell."}, {"owner": {"reputation": 16460, "user_id": 341730, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc4ac3bee5a31e114112c0222eef62e0?s=128&d=identicon&r=PG", "display_name": "univerio", "link": "https://stackoverflow.com/users/341730/univerio"}, "edited": false, "score": 0, "creation_date": 1461189374, "post_id": 36755858, "comment_id": 61091962, "body": "Allow me to make it abundantly clear. What is the sequence of letters that you&#39;ve typed into your shell in order to execute this file?"}, {"owner": {"reputation": 169, "user_id": 4943823, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57f046e380dc3e4a9e7c37b2d0327fe9?s=128&d=identicon&r=PG&f=1", "display_name": "user144209", "link": "https://stackoverflow.com/users/4943823/user144209"}, "reply_to_user": {"reputation": 16460, "user_id": 341730, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc4ac3bee5a31e114112c0222eef62e0?s=128&d=identicon&r=PG", "display_name": "univerio", "link": "https://stackoverflow.com/users/341730/univerio"}, "edited": false, "score": 0, "creation_date": 1461189428, "post_id": 36755858, "comment_id": 61091987, "body": "./echo_test_cmd.py -multi  True | parallel -j15"}, {"owner": {"reputation": 16460, "user_id": 341730, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc4ac3bee5a31e114112c0222eef62e0?s=128&d=identicon&r=PG", "display_name": "univerio", "link": "https://stackoverflow.com/users/341730/univerio"}, "edited": false, "score": 0, "creation_date": 1461189517, "post_id": 36755858, "comment_id": 61092008, "body": "Well there&#39;s your problem. This means the <code>parallel</code> command, for whatever reason, closed the pipe."}, {"owner": {"reputation": 169, "user_id": 4943823, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57f046e380dc3e4a9e7c37b2d0327fe9?s=128&d=identicon&r=PG&f=1", "display_name": "user144209", "link": "https://stackoverflow.com/users/4943823/user144209"}, "reply_to_user": {"reputation": 16460, "user_id": 341730, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc4ac3bee5a31e114112c0222eef62e0?s=128&d=identicon&r=PG", "display_name": "univerio", "link": "https://stackoverflow.com/users/341730/univerio"}, "edited": false, "score": 0, "creation_date": 1461189627, "post_id": 36755858, "comment_id": 61092042, "body": "yes when I do not use it, it is working but the main feature that I want to use is involving parallelization. So I did not figure out how to fix this."}, {"owner": {"reputation": 16460, "user_id": 341730, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc4ac3bee5a31e114112c0222eef62e0?s=128&d=identicon&r=PG", "display_name": "univerio", "link": "https://stackoverflow.com/users/341730/univerio"}, "edited": false, "score": 0, "creation_date": 1461189762, "post_id": 36755858, "comment_id": 61092095, "body": "The problem lies not in your python script, but in the <code>parallel</code> command itself or your usage of it. Try redirecting the output of your script to a file and see what <code>parallel</code> tells you: <code>.&#47;echo_test_cmd.py -multi True &gt; cmds.txt</code> and then <code>parallel -j15 &lt; cmds.txt</code>."}, {"owner": {"reputation": 169, "user_id": 4943823, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57f046e380dc3e4a9e7c37b2d0327fe9?s=128&d=identicon&r=PG&f=1", "display_name": "user144209", "link": "https://stackoverflow.com/users/4943823/user144209"}, "reply_to_user": {"reputation": 16460, "user_id": 341730, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc4ac3bee5a31e114112c0222eef62e0?s=128&d=identicon&r=PG", "display_name": "univerio", "link": "https://stackoverflow.com/users/341730/univerio"}, "edited": false, "score": 0, "creation_date": 1461190505, "post_id": 36755858, "comment_id": 61092379, "body": "I tried your suggestion but got nothing as error."}], "answers": [{"tags": [], "owner": {"reputation": 169, "user_id": 4943823, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57f046e380dc3e4a9e7c37b2d0327fe9?s=128&d=identicon&r=PG&f=1", "display_name": "user144209", "link": "https://stackoverflow.com/users/4943823/user144209"}, "is_accepted": true, "score": 0, "last_activity_date": 1461253757, "creation_date": 1461253757, "answer_id": 36774651, "question_id": 36755858, "link": "https://stackoverflow.com/questions/36755858/error-errno-32-broken-pipe-in-python-code/36774651#36774651", "title": "Error: [Errno 32] Broken pipe in python code", "body": "<p>Rebooting and re-installing the parallel tools package solved the problem. Thanks</p>\n"}], "owner": {"reputation": 169, "user_id": 4943823, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57f046e380dc3e4a9e7c37b2d0327fe9?s=128&d=identicon&r=PG&f=1", "display_name": "user144209", "link": "https://stackoverflow.com/users/4943823/user144209"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 772, "favorite_count": 0, "accepted_answer_id": 36774651, "answer_count": 1, "score": 0, "last_activity_date": 1461253757, "creation_date": 1461188995, "last_edit_date": 1461190547, "question_id": 36755858, "link": "https://stackoverflow.com/questions/36755858/error-errno-32-broken-pipe-in-python-code", "title": "Error: [Errno 32] Broken pipe in python code", "body": "<p>I am trying to compile this python code in Ubuntu 12.04. </p>\n\n<pre><code>import numpy as np\nimport argparse\nparser = argparse.ArgumentParser(add_help=True)\nparser.register('type', 'bool',\n       lambda v: v.lower() in (\"yes\", \"true\", \"t\", \"1\"))\nparser.add_argument(\"-multi\", type=\"bool\", action=\"store\",\n           default=False, help=\"True output a single command\")\nparser.add_argument(\"-db_host\", type=str, action=\"store\",\n           default=\"localhost\",\n           help=\"True output a single command\")\nparser.add_argument(\"-qoi_ex\", type=str, action=\"store\",\n           default=\"v\",\n           help=\"Example\")\nparser.add_argument(\"-qoi_factor\", type=float, default=\"1\",\n           action=\"store\", help=\"QoI scaling factor\")\nparser.add_argument(\"-use_rs\", type=bool, default=\"False\",\n           action=\"store\", help=\"Use reaction splitting method\")\nargs = parser.parse_known_args()[0]\n# Note that 0.6931 is np.log(2)\nbase = \"run.py -mimc_TOL {TOL} -mimc_max_TOL 0.5  \\\n       -qoi_seed {seed} -mimc_M0 30 -qoi_ex {ex} -qoi_factor {factor}   -use_rs True \\\n       -mimc_dim 1 -mimc_w 1 -mimc_s 1 -mimc_gamma 1 -mimc_beta 2    -mimc_moments 4 \\\n       -mimc_bayesian {bayesian} \"\ncmd_multi = \"python \" + base + \"-mimc_verbose False -db True           \n            -db_tag {tag} \" + \" -db_host {} \".format(args.db_host)\ncmd_single = \"python \" + base + \" -mimc_verbose True -db False \"\ntagr = lambda x: \"rs\" if x else \"tl\"\nif not args.multi:\n    print(cmd_single.format(seed=0, bayesian=True, TOL=0.01, ex=args.qoi_ex, factor=args.qoi_factor))\nelse:\n    realizations = 10\n    TOLs = np.sqrt(2.)**-np.arange(5., 12.)\n    for TOL in TOLs:\n        for i in range(0, realizations):\n            print cmd_multi.format(bayesian=True, tag=\"TL_\"+args.qoi_ex+\"_\"+tagr(args.use_rs), TOL=TOL,  seed=np.random.randint(2**32-1), ex=args.qoi_ex, factor=args.qoi_factor)\n</code></pre>\n\n<p>But I am getting this error message that I did not know how to fix. I am not sure if the parallelization procedure is causing the problem.</p>\n\n<blockquote>\n  <p>./echo_test_cmd.py -multi  True | parallel -j15     Traceback (most recent call last):    File \"./echo_test_cmd.py\", line 43, in\n      print cmd_multi.format(bayesian=True, \n  tag=\"TL_\"+args.qoi_ex+\"_\"+tagr(args.use_rs), TOL=TOL,\n  seed=np.random.randint(2**32-1), ex=args.qoi_ex,\n  factor=args.qoi_factor)    IOError: [Errno 32] Broken pipe</p>\n</blockquote>\n\n<p>Could anyone help? thanks.</p>\n"}, {"tags": ["python", "django", "serialization", "django-rest-framework"], "answers": [{"comments": [{"owner": {"reputation": 1726, "user_id": 1401040, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/elHak.jpg?s=128&g=1", "display_name": "Charles Haro", "link": "https://stackoverflow.com/users/1401040/charles-haro"}, "edited": false, "score": 0, "creation_date": 1461443140, "post_id": 36812130, "comment_id": 61204529, "body": "I see, thank you for the info. Do you know of anyway to use it to filter out the info I get from the serializer?"}, {"owner": {"reputation": 1726, "user_id": 1401040, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/elHak.jpg?s=128&g=1", "display_name": "Charles Haro", "link": "https://stackoverflow.com/users/1401040/charles-haro"}, "edited": false, "score": 0, "creation_date": 1461531740, "post_id": 36812130, "comment_id": 61228896, "body": "Wow! Thank you for your time!"}], "tags": [], "owner": {"reputation": 2075, "user_id": 1761844, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/af814644eb6fde95ee4701233cb16f40?s=128&d=identicon&r=PG", "display_name": "zymud", "link": "https://stackoverflow.com/users/1761844/zymud"}, "is_accepted": false, "score": 3, "last_activity_date": 1518045710, "last_edit_date": 1518045710, "creation_date": 1461422068, "answer_id": 36812130, "question_id": 36755755, "link": "https://stackoverflow.com/questions/36755755/django-rest-serializer-queryset-does-not-filter-primarykeyrelatedfield-results/36812130#36812130", "title": "Django-REST Serializer: Queryset does not filter PrimaryKeyRelatedField results", "body": "<p><code>queryset</code> in related field limits only acceptable values. So with <code>queryset=[]</code> you will not be able to add new values to <code>masterlisting_set</code> or create new <code>Buildings</code>.</p>\n\n<p><strong>UPDATE. How to use queryset for filtering</strong></p>\n\n<p>This is a little bi tricky - you need to rewrite <code>ManyRelatedField</code> and <code>many_init</code> method in your <code>RelatedField</code>.</p>\n\n<pre><code># re-define ManyRelatedField `to_representation` method to filter values\n# based on queryset\nclass FilteredManyRelatedField(serializers.ManyRelatedField):\n    def to_representation(self, iterable):\n        iterable = self.child_relation.queryset.filter(\n            pk__in=[value.pk for value in iterable])\n        return super(FilteredManyRelatedField, self).to_representation(iterable)\n\n\n# use overridden FilteredManyRelatedField in `many_init`\nclass FilteredPrimaryKeyRelatedField(serializers.PrimaryKeyRelatedField):\n    @classmethod\n    def many_init(cls, *args, **kwargs):\n        kwargs['child_relation'] = cls(queryset=kwargs.pop('queryset'))\n        return FilteredManyRelatedField(*args, **kwargs)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1726, "user_id": 1401040, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/elHak.jpg?s=128&g=1", "display_name": "Charles Haro", "link": "https://stackoverflow.com/users/1401040/charles-haro"}, "edited": false, "score": 0, "creation_date": 1461671342, "post_id": 36850397, "comment_id": 61295148, "body": "Awesome, I&#39;m accepting this answer because its the cleaner of the two!"}, {"owner": {"reputation": 688, "user_id": 1477502, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/sdapX.jpg?s=128&g=1", "display_name": "dps", "link": "https://stackoverflow.com/users/1477502/dps"}, "edited": false, "score": 0, "creation_date": 1508475884, "post_id": 36850397, "comment_id": 80632946, "body": "You are a saint \ud83d\ude4f  (12:04 AM)"}], "tags": [], "owner": {"reputation": 795, "user_id": 5006352, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-gpzo2o-edjw/AAAAAAAAAAI/AAAAAAAACno/LOj7emUGFOY/photo.jpg?sz=128", "display_name": "Amit Jaiswal", "link": "https://stackoverflow.com/users/5006352/amit-jaiswal"}, "is_accepted": true, "score": 9, "last_activity_date": 1461615980, "creation_date": 1461615980, "answer_id": 36850397, "question_id": 36755755, "link": "https://stackoverflow.com/questions/36755755/django-rest-serializer-queryset-does-not-filter-primarykeyrelatedfield-results/36850397#36850397", "title": "Django-REST Serializer: Queryset does not filter PrimaryKeyRelatedField results", "body": "<p>As pointed out by @zymud, queryset argument in PrimaryKeyRelatedField is used for validating field input for creating new entries. \nAnother solution for filtering out masterlistings_set is to use serializers.SerializerMethodField() as follows:</p>\n\n<pre><code>class BuildingsSerializer(serializers.ModelSerializer):\n    masterlisting_set = serializers.SerializerMethodField()\n\n    def get_masterlisting_set(self, obj):\n        return MasterListing.objects.filter(building=obj).values_list('pk',flat=True)\n</code></pre>\n"}], "owner": {"reputation": 1726, "user_id": 1401040, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/elHak.jpg?s=128&g=1", "display_name": "Charles Haro", "link": "https://stackoverflow.com/users/1401040/charles-haro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2214, "favorite_count": 2, "accepted_answer_id": 36850397, "answer_count": 2, "score": 9, "last_activity_date": 1518045710, "creation_date": 1461188594, "last_edit_date": 1461531850, "question_id": 36755755, "link": "https://stackoverflow.com/questions/36755755/django-rest-serializer-queryset-does-not-filter-primarykeyrelatedfield-results", "title": "Django-REST Serializer: Queryset does not filter PrimaryKeyRelatedField results", "body": "<p>So I have a serializer that looks like this</p>\n\n<pre><code>class BuildingsSerializer(serializers.ModelSerializer):\n    masterlisting_set = serializers.PrimaryKeyRelatedField(many=True, \n                                    queryset=Masterlistings.objects.all())\n</code></pre>\n\n<p>and it works great</p>\n\n<pre><code>serializer = BuildingsSerializer(Buildings.objects.get(pk=1))\nserializer.data \n</code></pre>\n\n<p>produces</p>\n\n<pre><code>OrderedDict([\n    (\"masterlistings_set\", [\n        \"0a06e3d7-87b7-4526-a877-c10f54fa5bc9\",\n        \"343643ac-681f-4597-b8f5-ff7e5be65eef\",\n        \"449a3ad2-c76c-4cb8-bb86-1be72fafcf64\",\n    ])\n])\n</code></pre>\n\n<p>but if I change the queryset in the serializer to </p>\n\n<pre><code>class BuildingsSerializer(serializers.ModelSerializer):\n     masterlistings_set = serializers.PrimaryKeyRelatedField(many=True, queryset=[])\n</code></pre>\n\n<p>I still get the same exact result back.</p>\n\n<pre><code> OrderedDict([\n    (\"masterlistings_set\", [\n        \"0a06e3d7-87b7-4526-a877-c10f54fa5bc9\",\n        \"343643ac-681f-4597-b8f5-ff7e5be65eef\",\n        \"449a3ad2-c76c-4cb8-bb86-1be72fafcf64\",\n    ])\n])\n</code></pre>\n\n<p>Is this supposed to be happening? Am I using querysets incorrectly?\nI used [] as an easy example to show that no matter what I put in nothing changes.</p>\n\n<p>Please any insight would be invaluable </p>\n\n<p>It should be noted that masterlistings has a primary key relationship that points to buildings. So a masterlisting belong to a building. </p>\n"}, {"tags": ["python", "machine-learning", "scikit-learn", "classification", "feature-selection"], "comments": [{"owner": {"reputation": 5507, "user_id": 2255198, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/SH5us.png?s=128&g=1", "display_name": "flyingmeatball", "link": "https://stackoverflow.com/users/2255198/flyingmeatball"}, "edited": false, "score": 0, "creation_date": 1461188995, "post_id": 36755737, "comment_id": 61091805, "body": "Can you please paste your full code? where do you define chi2?  what is the format of your train/test data?"}], "answers": [{"tags": [], "owner": {"reputation": 379, "user_id": 2498185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24a50c9b408eed66d86b0fd16fc26b1c?s=128&d=identicon&r=PG", "display_name": "Oer", "link": "https://stackoverflow.com/users/2498185/oer"}, "is_accepted": false, "score": 1, "last_activity_date": 1461211020, "last_edit_date": 1461211020, "creation_date": 1461200349, "answer_id": 36757781, "question_id": 36755737, "link": "https://stackoverflow.com/questions/36755737/troubles-using-selectkbest-scikit-learn/36757781#36757781", "title": "Troubles using SelectKBest [scikit-learn]", "body": "<p>The issue is that it expect 3 arguments. </p>\n\n<p>fit(X, y)\nX : array-like, shape = [n_samples, n_features] which is the training input samples. y : array-like, shape = [n_samples] is the target values (class labels in classification, real numbers in regression).</p>\n\n<p>fit_transform(X,y=None, **fit_params)[source]</p>\n\n<p>Therefore, to fix your problem, if the labels are stored in the last column of the training/test data i.e. train.ix[:,-1], you could do this:</p>\n\n<pre><code>train = pd.read_csv(\"train.csv\")\ntest = pd.read_csv('test.csv')\nmodel = SelectKBest(chi2, k=120).fit_transform(train.ix[:,:-1],train.ix[:,-1])\n\nprint train.shape\n</code></pre>\n\n<p>This code worked for me.</p>\n"}], "owner": {"reputation": 51, "user_id": 5189658, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205477072299974/picture?type=large", "display_name": "Anas El Kesri", "link": "https://stackoverflow.com/users/5189658/anas-el-kesri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 606, "favorite_count": 2, "answer_count": 1, "score": 2, "last_activity_date": 1461211020, "creation_date": 1461188517, "last_edit_date": 1461193613, "question_id": 36755737, "link": "https://stackoverflow.com/questions/36755737/troubles-using-selectkbest-scikit-learn", "title": "Troubles using SelectKBest [scikit-learn]", "body": "<p>i'm a beginner with scikit-learn and python, i tried this code that looks very simple using SelectKBest from feature_selection package.</p>\n\n<pre><code>    train = pd.read_csv(\"train.csv\")\ntest = pd.read_csv('test.csv')\ntrain = SelectKBest(chi2, k=120).fit_transform(train)\n\nprint train.shape\n</code></pre>\n\n<p>but i got this error and i  really don't know how to fix it !!</p>\n\n<pre><code>TypeError: fit() takes exactly 3 arguments (2 given) \n</code></pre>\n\n<p>Can u guys please help me fixing that :( ?</p>\n"}, {"tags": ["python", "opencv"], "comments": [{"owner": {"reputation": 17033, "user_id": 2393191, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/mFcLT.jpg?s=128&g=1", "display_name": "Micka", "link": "https://stackoverflow.com/users/2393191/micka"}, "edited": false, "score": 0, "creation_date": 1461214065, "post_id": 36755733, "comment_id": 61098829, "body": "did you try to use the center of gravity of your contour instead of the enclosing circle? post some images to get an idea of how your contours look like in their difference"}, {"owner": {"reputation": 5000, "user_id": 4352930, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/54DOb.png?s=128&g=1", "display_name": "tfv", "link": "https://stackoverflow.com/users/4352930/tfv"}, "edited": false, "score": 0, "creation_date": 1461272934, "post_id": 36755733, "comment_id": 61137336, "body": "Can you share images together with your code?"}], "owner": {"reputation": 21, "user_id": 6195275, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/76279763ce4e0c8c70a7d6112adea232?s=128&d=identicon&r=PG&f=1", "display_name": "Kartik Madhira", "link": "https://stackoverflow.com/users/6195275/kartik-madhira"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 86, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1461188481, "creation_date": 1461188481, "question_id": 36755733, "link": "https://stackoverflow.com/questions/36755733/coordinates-in-contour-not-accurate-smooth", "title": "Coordinates in contour not Accurate/smooth", "body": "<p>I'm working on a people counter system and i'm getting the coordinate of each blob detected through the following code:</p>\n\n<pre><code>contours, hierarchy = cv2.findContours(thresh, cv2.RETR_TREE,cv2.CHAIN_APPROX_NONE)\n    try: hierarchy = hierarchy[0]\n    except: hierarchy = []\n    for contour, hier in zip(contours, hierarchy):\n      (x,y),radius = cv2.minEnclosingCircle(contour)\n      center = (int(x),int(y))\n      radius = int(radius)\n      if radius&gt;3:\n        cv2.circle(frame,center,1,(0,255,0),-1)\n        if x&gt;400 and x&lt;450:\n            if (abs(prev_x-x))&gt;25:\n              cv2.circle(frame,center,1,(0,255,0),-1)\n              j=j+1\n              prev_x=x\n</code></pre>\n\n<p>Now the coordinates from the rectangle i'm getting isn't smooth. Moreover the centre of circle i'm getting is'nt stable. Can anyone please suggest a better solution at getting the coordinates of each blob/contour smmothly which is not prone to noise and is stable?Mine is moving too waywardly and the moving of centres arent linear.\n If there's a different algorithm available then please do suggest. Thanks.</p>\n"}, {"tags": ["python", "dictionary", "tuples"], "answers": [{"comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 2, "creation_date": 1461189162, "post_id": 36755774, "comment_id": 61091864, "body": "Sets also have no concept of element multiplicity. That happens not to matter when your tuples all have length 2, but it can break messily when you have three elements and you can&#39;t distinguish <code>(&quot;A&quot;, &quot;A&quot;, &quot;B&quot;)</code> from <code>(&quot;A&quot;, &quot;B&quot;, &quot;B&quot;)</code>, or if your tuples can have different lengths and you can&#39;t distinguish <code>(&quot;A&quot;,)</code> from <code>(&quot;A&quot;, &quot;A&quot;)</code>. It also breaks if you try to do something like <code>for a, b in example_dict</code>."}, {"owner": {"reputation": 4470, "user_id": 1884363, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/DmTLe.jpg?s=128&g=1", "display_name": "sudo", "link": "https://stackoverflow.com/users/1884363/sudo"}, "edited": false, "score": 1, "creation_date": 1500492175, "post_id": 36755774, "comment_id": 77365776, "body": "Any comment on the efficiency of this? It seems that <code>frozenset</code>s are much larger than <code>tuple</code>s, in terms of memory storage size."}, {"owner": {"reputation": 6166, "user_id": 328725, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/XWh3b.jpg?s=128&g=1", "display_name": "posdef", "link": "https://stackoverflow.com/users/328725/posdef"}, "reply_to_user": {"reputation": 4470, "user_id": 1884363, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/DmTLe.jpg?s=128&g=1", "display_name": "sudo", "link": "https://stackoverflow.com/users/1884363/sudo"}, "edited": false, "score": 0, "creation_date": 1559547518, "post_id": 36755774, "comment_id": 99440737, "body": "@sudo they are bigger, but as the strings used increase in size so does the tuple, however frozen sets seem to remain size. <a href=\"https://www.codepile.net/pile/zRge1X0l\" rel=\"nofollow noreferrer\">codepile.net/pile/zRge1X0l</a>"}], "tags": [], "owner": {"reputation": 22511, "user_id": 1695766, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/5ef1825ece036980c69dfd2683b8980a?s=128&d=identicon&r=PG", "display_name": "CrazyCasta", "link": "https://stackoverflow.com/users/1695766/crazycasta"}, "is_accepted": true, "score": 7, "last_activity_date": 1461188689, "creation_date": 1461188689, "answer_id": 36755774, "question_id": 36755714, "link": "https://stackoverflow.com/questions/36755714/how-to-ignore-the-order-of-elements-in-a-tuple/36755774#36755774", "title": "how to ignore the order of elements in a tuple", "body": "<p>You want your dictionary keys to be \"sets\" (a set is a collection for which an item is either in or not in the set, but that has no concept of order). Luckily python has what you need. Specifically because you need something hashable you want to use <code>frozenset</code>.</p>\n\n<pre><code>&gt;&gt;&gt; example_dict = {}\n&gt;&gt;&gt; example_dict[frozenset((\"A\", \"B\"))] = \"1\"\n&gt;&gt;&gt; example_dict[frozenset((\"B\", \"A\"))]\n'1'\n&gt;&gt;&gt; example_dict[frozenset((\"A\", \"B\"))]\n'1'\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 16851, "user_id": 5460719, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0f2a855c86ad12fc2988d3948b69ec6?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Karzes", "link": "https://stackoverflow.com/users/5460719/tom-karzes"}, "is_accepted": false, "score": 4, "last_activity_date": 1461188714, "creation_date": 1461188714, "answer_id": 36755778, "question_id": 36755714, "link": "https://stackoverflow.com/questions/36755714/how-to-ignore-the-order-of-elements-in-a-tuple/36755778#36755778", "title": "how to ignore the order of elements in a tuple", "body": "<p>Instead of using a <code>tuple</code>, use a <code>frozenset</code>.  A <code>frozenset</code> is just a constant <code>set</code>, just as a <code>tuple</code> can be thought of as a constant <code>list</code>.</p>\n\n<p>Here's an example (from Python 3, but it will work in Python 2 as well):</p>\n\n<pre><code>&gt;&gt;&gt; d = {}\n&gt;&gt;&gt; k1 = frozenset((1, 2))\n&gt;&gt;&gt; k2 = frozenset((2, 1))\n&gt;&gt;&gt; k1\nfrozenset({1, 2})\n&gt;&gt;&gt; k2\nfrozenset({1, 2})\n&gt;&gt;&gt; k1 == k2\nTrue\n&gt;&gt;&gt; d[k1] = 123\n&gt;&gt;&gt; d[k2]\n123\n&gt;&gt;&gt; \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "is_accepted": false, "score": 8, "last_activity_date": 1461188732, "creation_date": 1461188732, "answer_id": 36755784, "question_id": 36755714, "link": "https://stackoverflow.com/questions/36755714/how-to-ignore-the-order-of-elements-in-a-tuple/36755784#36755784", "title": "how to ignore the order of elements in a tuple", "body": "<p>The usual ways are to either sort the keys:</p>\n\n<pre><code>example_dict[tuple(sorted(key_tuple))] = \"1\"\n</code></pre>\n\n<p>use frozensets as keys (if there won't be duplicate elements in the tuples):</p>\n\n<pre><code>example_dict[frozenset(key_tuple)] = \"1\"\n</code></pre>\n\n<p>or use frozensets of <code>(item, count)</code> tuples as keys (if there can be duplicate elements in the tuples):</p>\n\n<pre><code>example_dict[frozenset(Counter(key_tuple).viewitems())] = \"1\"\n</code></pre>\n\n<p>Whichever option you choose, you'll have to apply the same transformation when you look up values.</p>\n"}], "owner": {"reputation": 303, "user_id": 3196284, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/9a6e203b98503e5d8bcd27507d9b1fa1?s=128&d=identicon&r=PG&f=1", "display_name": "Ben Lucier", "link": "https://stackoverflow.com/users/3196284/ben-lucier"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3953, "favorite_count": 0, "accepted_answer_id": 36755774, "answer_count": 3, "score": 2, "last_activity_date": 1461189568, "creation_date": 1461188405, "last_edit_date": 1461188751, "question_id": 36755714, "link": "https://stackoverflow.com/questions/36755714/how-to-ignore-the-order-of-elements-in-a-tuple", "title": "how to ignore the order of elements in a tuple", "body": "<p>I am using tuples as the key for a dictionary I created. For example:</p>\n\n<pre><code>example_dict = {}\nexample_dict[(\"A\", \"B\")] = \"1\"\n</code></pre>\n\n<p>Later when I wish to modify the value of an entry in the dictionary I don't currently have control over the order of the tuple. For example:</p>\n\n<pre><code>(\"B\", \"A\") may be the case, instead of (\"A\", \"B\")\n</code></pre>\n\n<p>I'm aware that these tuples are not equal from a simple == comparison that I tried in the python shell.</p>\n\n<p>What I am wondering is how I could work around this? How could I make the following not produce a KeyError:</p>\n\n<pre><code>print (example_dict[\"B\", \"A\"])\n</code></pre>\n\n<p>Is there a way to consistently order the elements of a tuple? Is there a way to ignore order completely? Any other work arounds? I'm aware I could just include all arrangements of the tuples as keys in the dictionary, and then collate the values of the different permutations later. I strongly want to avoid doing this as that only adds difficulty and complexity to the problem.</p>\n"}, {"tags": ["python", "r", "plot", "plotly"], "comments": [{"owner": {"reputation": 8719, "user_id": 3396821, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2670d9ce073c473d3ffd8d4e278aa6bc?s=128&d=identicon&r=PG&f=1", "display_name": "MLavoie", "link": "https://stackoverflow.com/users/3396821/mlavoie"}, "edited": false, "score": 0, "creation_date": 1461190211, "post_id": 36755712, "comment_id": 61092272, "body": "this might help <a href=\"https://plot.ly/python/hover-events/\" rel=\"nofollow noreferrer\">plot.ly/python/hover-events</a>"}, {"owner": {"reputation": 6384, "user_id": 823859, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/a312155705e2fa1ce28841ddf6645da0?s=128&d=identicon&r=PG", "display_name": "Adam_G", "link": "https://stackoverflow.com/users/823859/adam-g"}, "reply_to_user": {"reputation": 8719, "user_id": 3396821, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2670d9ce073c473d3ffd8d4e278aa6bc?s=128&d=identicon&r=PG&f=1", "display_name": "MLavoie", "link": "https://stackoverflow.com/users/3396821/mlavoie"}, "edited": false, "score": 0, "creation_date": 1461191039, "post_id": 36755712, "comment_id": 61092576, "body": "I&#39;d actually come across that before. I don&#39;t understand where the plot is getting the images that pop up."}, {"owner": {"reputation": 8719, "user_id": 3396821, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2670d9ce073c473d3ffd8d4e278aa6bc?s=128&d=identicon&r=PG&f=1", "display_name": "MLavoie", "link": "https://stackoverflow.com/users/3396821/mlavoie"}, "edited": false, "score": 0, "creation_date": 1461195702, "post_id": 36755712, "comment_id": 61094058, "body": "there are in the js file"}], "answers": [{"comments": [{"owner": {"reputation": 6384, "user_id": 823859, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/a312155705e2fa1ce28841ddf6645da0?s=128&d=identicon&r=PG", "display_name": "Adam_G", "link": "https://stackoverflow.com/users/823859/adam-g"}, "edited": false, "score": 0, "creation_date": 1461452193, "post_id": 36814401, "comment_id": 61207175, "body": "Thanks, but is there no way to do this within plotly? I&#39;d like to avoid using javascript, if possible."}, {"owner": {"reputation": 5646, "user_id": 6238076, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B6N6D.png?s=128&g=1", "display_name": "gdlmx", "link": "https://stackoverflow.com/users/6238076/gdlmx"}, "reply_to_user": {"reputation": 6384, "user_id": 823859, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/a312155705e2fa1ce28841ddf6645da0?s=128&d=identicon&r=PG", "display_name": "Adam_G", "link": "https://stackoverflow.com/users/823859/adam-g"}, "edited": false, "score": 0, "creation_date": 1461452402, "post_id": 36814401, "comment_id": 61207213, "body": "Plotly is natively a JS library. Other language API is only wrappers for the JS lib. As said <a href=\"https://plot.ly/python/user-guide/\" rel=\"nofollow noreferrer\">here</a> : &quot;The Python API is a package designed to interact with the Plotly.js library ...&quot;"}, {"owner": {"reputation": 6384, "user_id": 823859, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/a312155705e2fa1ce28841ddf6645da0?s=128&d=identicon&r=PG", "display_name": "Adam_G", "link": "https://stackoverflow.com/users/823859/adam-g"}, "edited": false, "score": 0, "creation_date": 1461513714, "post_id": 36814401, "comment_id": 61222054, "body": "So is there no way to do this within R code? I&#39;d also like to create the charts dynamically, as stated above, rather than use an image."}, {"owner": {"reputation": 5646, "user_id": 6238076, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B6N6D.png?s=128&g=1", "display_name": "gdlmx", "link": "https://stackoverflow.com/users/6238076/gdlmx"}, "reply_to_user": {"reputation": 6384, "user_id": 823859, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/a312155705e2fa1ce28841ddf6645da0?s=128&d=identicon&r=PG", "display_name": "Adam_G", "link": "https://stackoverflow.com/users/823859/adam-g"}, "edited": false, "score": 0, "creation_date": 1461514896, "post_id": 36814401, "comment_id": 61222449, "body": "I am not familiar with the R API, but after a search on the source code <a href=\"https://github.com/ropensci/plotly\" rel=\"nofollow noreferrer\">repo</a>, I found nothing."}, {"owner": {"reputation": 5646, "user_id": 6238076, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B6N6D.png?s=128&g=1", "display_name": "gdlmx", "link": "https://stackoverflow.com/users/6238076/gdlmx"}, "reply_to_user": {"reputation": 6384, "user_id": 823859, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/a312155705e2fa1ce28841ddf6645da0?s=128&d=identicon&r=PG", "display_name": "Adam_G", "link": "https://stackoverflow.com/users/823859/adam-g"}, "edited": false, "score": 0, "creation_date": 1461516150, "post_id": 36814401, "comment_id": 61222898, "body": "If there is a way to do this in R,Python or any other high level way, I will be glad to know."}, {"owner": {"reputation": 1955, "user_id": 6037118, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/0905961c4d6422eced39052412e7d703?s=128&d=identicon&r=PG", "display_name": "Matt", "link": "https://stackoverflow.com/users/6037118/matt"}, "edited": false, "score": 0, "creation_date": 1461688796, "post_id": 36814401, "comment_id": 61308676, "body": "@gdlmx can you comment the formula in your example to show how one could enter their own formula easily?  That seems to be all that is missing from your good example."}, {"owner": {"reputation": 1955, "user_id": 6037118, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/0905961c4d6422eced39052412e7d703?s=128&d=identicon&r=PG", "display_name": "Matt", "link": "https://stackoverflow.com/users/6037118/matt"}, "reply_to_user": {"reputation": 6384, "user_id": 823859, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/a312155705e2fa1ce28841ddf6645da0?s=128&d=identicon&r=PG", "display_name": "Adam_G", "link": "https://stackoverflow.com/users/823859/adam-g"}, "edited": false, "score": 0, "creation_date": 1461691967, "post_id": 36814401, "comment_id": 61310521, "body": "@Adam_G you have 3 good examples posted here, please provide some feedback to those who contributed to let us know if any of us nailed it."}, {"owner": {"reputation": 6384, "user_id": 823859, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/a312155705e2fa1ce28841ddf6645da0?s=128&d=identicon&r=PG", "display_name": "Adam_G", "link": "https://stackoverflow.com/users/823859/adam-g"}, "edited": false, "score": 0, "creation_date": 1461763460, "post_id": 36814401, "comment_id": 61346619, "body": "I&#39;d still prefer an answer that lets me use just python or R, and pops up a chart, not an image. It sounds like that is impossible, though."}, {"owner": {"reputation": 5646, "user_id": 6238076, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B6N6D.png?s=128&g=1", "display_name": "gdlmx", "link": "https://stackoverflow.com/users/6238076/gdlmx"}, "reply_to_user": {"reputation": 6384, "user_id": 823859, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/a312155705e2fa1ce28841ddf6645da0?s=128&d=identicon&r=PG", "display_name": "Adam_G", "link": "https://stackoverflow.com/users/823859/adam-g"}, "edited": false, "score": 0, "creation_date": 1461781095, "post_id": 36814401, "comment_id": 61359762, "body": "@Adam_G It is possible, I update the answer to give a simple example with pure <code>R</code>, similar to the code from @MLavoi. But I still recommand the <code>JS</code> solution if your chart is shared via internet since it is much more efficient than using <code>shiny</code>."}, {"owner": {"reputation": 6384, "user_id": 823859, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/a312155705e2fa1ce28841ddf6645da0?s=128&d=identicon&r=PG", "display_name": "Adam_G", "link": "https://stackoverflow.com/users/823859/adam-g"}, "edited": false, "score": 0, "creation_date": 1461799931, "post_id": 36814401, "comment_id": 61369367, "body": "Shoot, I&#39;m sorry, I overlooked that. I think that should be good! Would you mind just adding the necessary libraries?"}, {"owner": {"reputation": 5646, "user_id": 6238076, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B6N6D.png?s=128&g=1", "display_name": "gdlmx", "link": "https://stackoverflow.com/users/6238076/gdlmx"}, "reply_to_user": {"reputation": 6384, "user_id": 823859, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/a312155705e2fa1ce28841ddf6645da0?s=128&d=identicon&r=PG", "display_name": "Adam_G", "link": "https://stackoverflow.com/users/823859/adam-g"}, "edited": false, "score": 0, "creation_date": 1461800678, "post_id": 36814401, "comment_id": 61369574, "body": "@Adam_G OK. Maybe you will also be interested in my another <a href=\"http://stackoverflow.com/a/36898836/6238076\">post</a> about how to wrap the <i>popup chart</i> in a <code>bootstrap</code> tooltip/modal/popover object."}, {"owner": {"reputation": 6384, "user_id": 823859, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/a312155705e2fa1ce28841ddf6645da0?s=128&d=identicon&r=PG", "display_name": "Adam_G", "link": "https://stackoverflow.com/users/823859/adam-g"}, "edited": false, "score": 0, "creation_date": 1461960561, "post_id": 36814401, "comment_id": 61451854, "body": "Doesn&#39;t look like the R code compiles. The shiny code though looks almost exactly like what I want to do. I guess I&#39;ll start playing with it."}, {"owner": {"reputation": 6384, "user_id": 823859, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/a312155705e2fa1ce28841ddf6645da0?s=128&d=identicon&r=PG", "display_name": "Adam_G", "link": "https://stackoverflow.com/users/823859/adam-g"}, "edited": false, "score": 0, "creation_date": 1461962008, "post_id": 36814401, "comment_id": 61452538, "body": "Also, in the JS example you linked to, I don&#39;t see the popup chart."}, {"owner": {"reputation": 5646, "user_id": 6238076, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B6N6D.png?s=128&g=1", "display_name": "gdlmx", "link": "https://stackoverflow.com/users/6238076/gdlmx"}, "reply_to_user": {"reputation": 6384, "user_id": 823859, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/a312155705e2fa1ce28841ddf6645da0?s=128&d=identicon&r=PG", "display_name": "Adam_G", "link": "https://stackoverflow.com/users/823859/adam-g"}, "edited": false, "score": 0, "creation_date": 1461964145, "post_id": 36814401, "comment_id": 61453538, "body": "@Adam_G Move your pointer over the data bars in the main figure. The popup chart will show up below. You may need to roll down the window to see it. It&#39;s pure client code, the loading speed depends on your browser. I&#39;ve test it with firefox36.0 and chrome"}, {"owner": {"reputation": 5646, "user_id": 6238076, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B6N6D.png?s=128&g=1", "display_name": "gdlmx", "link": "https://stackoverflow.com/users/6238076/gdlmx"}, "edited": false, "score": 0, "creation_date": 1461964882, "post_id": 36814401, "comment_id": 61453847, "body": "The <code>R</code> code above is mean to help you understand the complex example <a href=\"https://plot.ly/r/shiny-coupled-events/\" rel=\"nofollow noreferrer\">shiny-coupled-events</a>. I suggest you play with the code there. Yes, it is more complicated... but it worth the time."}, {"owner": {"reputation": 6384, "user_id": 823859, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/a312155705e2fa1ce28841ddf6645da0?s=128&d=identicon&r=PG", "display_name": "Adam_G", "link": "https://stackoverflow.com/users/823859/adam-g"}, "edited": false, "score": 0, "creation_date": 1461965148, "post_id": 36814401, "comment_id": 61453960, "body": "Ok, I can play around with the shiny example, but could you please have the R code compile? I think the JS solution is really good. Just one logistical question: If the data for the hover popup comes from another source, like a dataframe, where would I store that to be called?"}, {"owner": {"reputation": 5646, "user_id": 6238076, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B6N6D.png?s=128&g=1", "display_name": "gdlmx", "link": "https://stackoverflow.com/users/6238076/gdlmx"}, "edited": false, "score": 0, "creation_date": 1461965767, "post_id": 36814401, "comment_id": 61454219, "body": "For the second question, I would store it in an JS object (created by shiny or just hard code it in the HTML). Then you can use these data in the callback function. For the <code>R</code> code, I&#39;ll do it when back in the office, it&#39;s already Friday midnight at my place..."}, {"owner": {"reputation": 6384, "user_id": 823859, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/a312155705e2fa1ce28841ddf6645da0?s=128&d=identicon&r=PG", "display_name": "Adam_G", "link": "https://stackoverflow.com/users/823859/adam-g"}, "edited": false, "score": 0, "creation_date": 1462073820, "post_id": 36814401, "comment_id": 61482167, "body": "Ok, great, thank you. I&#39;m pretty sure with knowing how to add that one last element, this is the right solution. I&#39;ll go ahead and accept the answer. Feel free to add that one element when you get the chance."}, {"owner": {"reputation": 6384, "user_id": 823859, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/a312155705e2fa1ce28841ddf6645da0?s=128&d=identicon&r=PG", "display_name": "Adam_G", "link": "https://stackoverflow.com/users/823859/adam-g"}, "edited": false, "score": 0, "creation_date": 1462310023, "post_id": 36814401, "comment_id": 61581095, "body": "Hi @gdlmx, can you please add this? I&#39;ve already awarded you the bounty, based on this."}, {"owner": {"reputation": 6384, "user_id": 823859, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/a312155705e2fa1ce28841ddf6645da0?s=128&d=identicon&r=PG", "display_name": "Adam_G", "link": "https://stackoverflow.com/users/823859/adam-g"}, "edited": false, "score": 0, "creation_date": 1462400455, "post_id": 36814401, "comment_id": 61628094, "body": "@gdlmx - Is the part added an answer to this? I&#39;m sorry, I can&#39;t follow it. Can you show, in the example provided, how it would be integrated? Thanks"}], "tags": [], "owner": {"reputation": 5646, "user_id": 6238076, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B6N6D.png?s=128&g=1", "display_name": "gdlmx", "link": "https://stackoverflow.com/users/6238076/gdlmx"}, "is_accepted": true, "score": 9, "last_activity_date": 1462352957, "last_edit_date": 1495535361, "creation_date": 1461434202, "answer_id": 36814401, "question_id": 36755712, "link": "https://stackoverflow.com/questions/36755712/place-a-chart-in-plotly-popup/36814401#36814401", "title": "Place a chart in plotly popup", "body": "<h1>Solution 1: Stick to R</h1>\n\n<p>Thanks to @MLavoie. The following example use pure <code>R</code> to create two plot, the \"mainplot\" and the \"hover\" which reacts to the hover event of the first one.</p>\n\n<pre><code>library(shiny)\nlibrary(plotly)\n\nui &lt;- fluidPage(\n  plotlyOutput(\"mainplot\"),\n  plotlyOutput(\"hover\")\n)\n\nserver &lt;- function(input, output) {\n  output$mainplot &lt;- renderPlotly({\n    # https://plot.ly/r/\n    d &lt;- diamonds[sample(nrow(diamonds), 1000), ]\n    plot_ly(d, x = carat, y = price, text = paste(\"Clarity: \", clarity), mode = \"markers\", color = carat, size = carat, source=\"main\")\n  })\n\n  output$hover &lt;- renderPlotly({\n    eventdat &lt;- event_data('plotly_hover', source=\"main\") # get event data from source main\n    if(is.null(eventdat) == T) return(NULL)        # If NULL dont do anything\n    point &lt;- as.numeric(eventdat[['pointNumber']]) # Index of the data point being charted\n\n    # draw plot according to the point number on hover\n    plot_ly(  x = c(1,2,3), y = c(point, point*2, point*3), mode = \"scatter\")\n  })\n}\nshinyApp(ui, server)\n</code></pre>\n\n<p>This example use the <a href=\"https://github.com/ropensci/plotly/blob/68c12fd9c90d2f914f1f00bcb4167ebffb62d46d/R/shiny.R\" rel=\"nofollow noreferrer\"><code>shiny binds for plotly</code></a>. <em>For every hover event, a <code>POST</code> request is sent to the server</em>, then the server will update the popup-chart. It's very inefficient thus may not work well on slow connections.</p>\n\n<p>The above code is just for demo, and not yet tested. See a working and much more complicated example <a href=\"https://plotly.shinyapps.io/ShinyCoupledEvents/\" rel=\"nofollow noreferrer\">here</a> (with <a href=\"https://plot.ly/r/shiny-coupled-events/#uir\" rel=\"nofollow noreferrer\">source</a>).</p>\n\n<h1>Solution 2: Javascript</h1>\n\n<p>Yes, you can do it using the <a href=\"https://plot.ly/javascript/\" rel=\"nofollow noreferrer\"><strong>plotly Javascript API</strong></a>. </p>\n\n<h2>Short answer</h2>\n\n<ol>\n<li>Create your graph using <code>R</code> or <code>Python</code> or any other supported language.</li>\n<li>Insert the graph into a new HTML page and add a callback function as shown in the example below. If you have good knowledge about <a href=\"http://www.w3schools.com/js/js_htmldom.asp\" rel=\"nofollow noreferrer\">DOM</a>, you can also add the JS to the original HTML instead of creating a new one.</li>\n<li>Draw the popup graph inside the callback function which accepts parameters containing the data of the datapoint on-hover.</li>\n</ol>\n\n<h2>Details</h2>\n\n<p>As @MLavoie mentioned, a good example is shown in <a href=\"https://plot.ly/python/hover-events/\" rel=\"nofollow noreferrer\">plotly.hover-events</a></p>\n\n<p>Let's dig into the code. In the JS file, there is a simple callback function attached to <code>Plot</code>:</p>\n\n<pre><code>Plot.onHover = function(message) {\nvar artist = message.points[0].x.toLowerCase().replace(/ /g, '-');\n\nvar imgSrc = blankImg;\nif(artistToUrl[artist] !== undefined) imgSrc = artistToUrl[artist];\n\nPlot.hoverImg.src = imgSrc;\n};\n</code></pre>\n\n<p>Above, <code>artistToUrl</code> is a huge object filled with base64 string which I will not paste here to overflow the post. But you can see it under the JS tab of the example page. It has such structure:</p>\n\n<pre><code>var artistToUrl = { 'bob-dylan': 'data:image/jpeg;base64,/...',...}\n</code></pre>\n\n<h2>Working example:</h2>\n\n<p>For demonstration, I prepare a simple example <a href=\"https://jsfiddle.net/yhtomfy8/1/\" rel=\"nofollow noreferrer\">here</a> (click to try):</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n   &lt;script src=\"https://cdn.plot.ly/plotly-latest.min.js\"&gt;&lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;iframe id=\"plot\" style=\"width: 900px; height: 600px;\" src=\"https://plot.ly/~jackp/10816.embed\" seamless&gt;&lt;/iframe&gt;\n&lt;div id=\"myDiv\"&gt;&lt;/div&gt;\n&lt;script&gt;\n(function main() {\nvar Plot = { id: 'plot', domain: 'https://plot.ly' };\nPlot.onHover = function(message) {\n    var y = message.points[0].y; /*** y value of the data point(bar) under hover ***/\n    var line1 = {\n      x: [0.25,0.5,1],           /*** dummy x array in popup-chart ***/\n      y: [1/y, 2, y],            /*** dummy y array in popup-chart ***/\n      mode: 'lines+markers'\n    };\n    var layout = {\n      title:'Popup graph on hover',\n      height: 400,\n      width: 480\n    };\n    Plotly.newPlot('myDiv', [  line1 ], layout); // this finally draws your popup-chart\n};\nPlot.init = function init() {\n    var pinger = setInterval(function() {\n        Plot.post({task: 'ping'});\n    }, 500);\n\n    function messageListener(e) {\n        var message = e.data;\n        if(message.pong) {\n            console.log('Initial pong, frame is ready to receive');\n            clearInterval(pinger);\n            Plot.post({\n                'task': 'listen',\n                'events': ['hover']\n            });\n        }\n        else if(message.type === 'hover') {\n            Plot.onHover(message);\n        }\n    }\n    window.removeEventListener('message', messageListener);\n    window.addEventListener('message', messageListener);\n};\nPlot.post = function post(o) {\n    document.getElementById(Plot.id).contentWindow.postMessage(o, Plot.domain);\n};\n\nPlot.init();\n})();\n&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>This is modified from the <a href=\"https://plot.ly/python/hover-events/\" rel=\"nofollow noreferrer\">poltly.hover-events</a> example for python. Instead of poping up an image, I change the <code>onhover</code> callback to plot a curve based on the <code>y</code> value of the each bar.</p>\n\n<p>The main chart is generated by python and inserted here as <code>iframe</code>. You can make your own by any language including <code>R</code>. In this page we add a <code>&lt;div id=\"myDiv\"&gt;&lt;/div&gt;</code> and use the plotly.js to draw the popup-chart whithin it.</p>\n\n<h2>Export R data frame to JS enviornment</h2>\n\n<p>Shiny uses <a href=\"https://cran.r-project.org/web/packages/jsonlite/vignettes/json-aaquickstart.html\" rel=\"nofollow noreferrer\">jsonlite</a> to convert <code>R</code> objects to <code>json</code> and send them to the client. We can use the same mechanism to pack and send our data frame so that the JS callback can use the data to render the popup chart.</p>\n\n<p>server.r</p>\n\n<pre><code>output$json &lt;- reactive({\n  paste('&lt;script&gt;data =', RJSONIO::toJSON(your_data_frame, byrow=T, colNames=T),'&lt;/script&gt;')\n</code></pre>\n\n<p>ui.r</p>\n\n<pre><code>fluidPage(..., htmlOutput(\"json\"), ...)\n</code></pre>\n\n<p>In the JS callback function, you can use <code>data</code> as any other JS objects. </p>\n\n<p>More detail goes <a href=\"https://stackoverflow.com/questions/26719334/passing-json-data-to-a-javascript-object-with-shiny\">here</a> and <a href=\"https://stackoverflow.com/questions/25550711/convert-data-frame-to-json\">here</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 6384, "user_id": 823859, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/a312155705e2fa1ce28841ddf6645da0?s=128&d=identicon&r=PG", "display_name": "Adam_G", "link": "https://stackoverflow.com/users/823859/adam-g"}, "edited": false, "score": 1, "creation_date": 1461960624, "post_id": 36850644, "comment_id": 61451882, "body": "I appreciate the R code, but this is just images, not a chart, right?"}, {"owner": {"reputation": 8719, "user_id": 3396821, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2670d9ce073c473d3ffd8d4e278aa6bc?s=128&d=identicon&r=PG&f=1", "display_name": "MLavoie", "link": "https://stackoverflow.com/users/3396821/mlavoie"}, "reply_to_user": {"reputation": 6384, "user_id": 823859, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/a312155705e2fa1ce28841ddf6645da0?s=128&d=identicon&r=PG", "display_name": "Adam_G", "link": "https://stackoverflow.com/users/823859/adam-g"}, "edited": false, "score": 0, "creation_date": 1461962442, "post_id": 36850644, "comment_id": 61452771, "body": "see edit. you did not have a reproducible example, so I just use a scatter plot but you can you use a chart as well. When you hover a point/bar an image will be hovered below the main plot. In the example I used a R logo but it could be anything. You could also specify the size of the image. Obviously you can delete the output$hover2 call; it was just for an exercise."}, {"owner": {"reputation": 6384, "user_id": 823859, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/a312155705e2fa1ce28841ddf6645da0?s=128&d=identicon&r=PG", "display_name": "Adam_G", "link": "https://stackoverflow.com/users/823859/adam-g"}, "edited": false, "score": 0, "creation_date": 1461962587, "post_id": 36850644, "comment_id": 61452840, "body": "I&#39;m sorry, I&#39;m not following. Could you edit the code so that on hover, a rudimentary chart appears?"}], "tags": [], "owner": {"reputation": 8719, "user_id": 3396821, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2670d9ce073c473d3ffd8d4e278aa6bc?s=128&d=identicon&r=PG&f=1", "display_name": "MLavoie", "link": "https://stackoverflow.com/users/3396821/mlavoie"}, "is_accepted": false, "score": 3, "last_activity_date": 1461966216, "last_edit_date": 1461966216, "creation_date": 1461616777, "answer_id": 36850644, "question_id": 36755712, "link": "https://stackoverflow.com/questions/36755712/place-a-chart-in-plotly-popup/36850644#36850644", "title": "Place a chart in plotly popup", "body": "<p>If you want to stick with <code>R</code> you could use <code>Shiny</code> to get almost the result you want. When you hover each point an image will be render under the main plot. For the example below, I used the first three rows of the <code>mtcars</code> datasets. To run the code, you only need 3 logos/images corresponding to the name of the first three rows (under <code>mtcars$name</code>, <code>Mazda RX4</code>, <code>Mazda RX4 Wag</code>, <code>Datsun 710</code> in this example).</p>\n\n<pre><code>    library(shiny)\n    library(plotly)\n\n    datatest &lt;- diamonds %&gt;% count(cut)\n    datatest$ImageNumber &lt;- c(0, 1, 2, 3, 4)\n    datatest$name &lt;- c(\"Image0\", \"Image1\", \"Image2\", \"Image3\", \"Image4\")\n\n\n    ui &lt;- fluidPage(\n  plotlyOutput(\"plot\"),\n # verbatimTextOutput(\"hover2\"),\n  #imageOutput(\"hover\"),\n  plotlyOutput(\"hover3\")\n\n)\n\nserver &lt;- function(input, output, session) {\n  output$plot &lt;- renderPlotly({\n  plot_ly(datatest, x = cut, y = n, type = \"bar\", marker = list(color = toRGB(\"black\")))\n  })\n\n  selected_image &lt;- reactive({\n  eventdat &lt;- event_data('plotly_hover', source = 'A')\n  ImagePick &lt;- as.numeric(eventdat[['pointNumber']]) \n  sub &lt;- datatest[datatest$ImageNumber %in% ImagePick, ]\n  return(sub)    \n  })\n\n # output$hover2 &lt;- renderPrint({\n  #d &lt;- event_data(\"plotly_hover\")\n  #if (is.null(d)) \"Hover events appear here (unhover to clear)\" else d\n  #})\n\n # output$hover &lt;- renderImage({\n # datag &lt;- selected_image()\n  #filename &lt;- normalizePath(file.path('/Users/drisk/Desktop/temp',\n        #                      paste(datag$name, '.png', sep='')))\n\n  # Return a list containing the filename and alt text\n # list(src = filename,\n # alt = paste(\"Image number\", datag$name))\n # }, deleteFile = FALSE) \n\n    output$hover3 &lt;- renderPlotly({\ndatag &lt;- selected_image()\n\n    # draw plot according to the point number on hover\n    plot_ly(data=datag,  x = ImageNumber, y = n, mode = \"scatter\")\n  })\n\n}\nshinyApp(ui, server)\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/zJGnx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zJGnx.png\" alt=\"enter image description here\"></a></p>\n"}, {"comments": [{"owner": {"reputation": 1955, "user_id": 6037118, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/0905961c4d6422eced39052412e7d703?s=128&d=identicon&r=PG", "display_name": "Matt", "link": "https://stackoverflow.com/users/6037118/matt"}, "edited": false, "score": 0, "creation_date": 1461976004, "post_id": 36944395, "comment_id": 61457195, "body": "@Adam_G can you post the exact thing you want to display when someone hovers over a bar? line? whatever you are looking for. Makes those of us trying to answer your question have some idea what to post here.... I&#39;m doing similar things at work so don&#39;t mind improving my alternative answer.  We don&#39;t know if you are in finance (date x axis / price y axis) or something else..."}], "tags": [], "owner": {"reputation": 1955, "user_id": 6037118, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/0905961c4d6422eced39052412e7d703?s=128&d=identicon&r=PG", "display_name": "Matt", "link": "https://stackoverflow.com/users/6037118/matt"}, "is_accepted": false, "score": 2, "last_activity_date": 1574535386, "last_edit_date": 1574535386, "creation_date": 1461951430, "answer_id": 36944395, "question_id": 36755712, "link": "https://stackoverflow.com/questions/36755712/place-a-chart-in-plotly-popup/36944395#36944395", "title": "Place a chart in plotly popup", "body": "<p>Seems the answers posted aren't working for you @Adam_G.  I have been exploring similar libraries for my own work and determined that <code>Plot.ly</code> is not always the right path when you want advanced features.  Have you seen <code>bokeh</code>?  It is basically designed for this type of task and much easier to implement (also a D3.js library like <code>Plot.ly</code>).  Here is a copy of an example they posted where you can move a slider to change a graph of data (similar to the example posted by @gdlmx for Plot.ly but you can use it without hosting it on a website).  I added the <code>flexx</code> package so you can use this writing pure Python (no JavaScript - it can translate Python functions to JavaScript (<code>CustomJS.from_py_func(callback)</code>) <a href=\"https://github.com/zoofIO/flexx-notebooks/blob/master/flexx_tutorial_pyscript.ipynb\" rel=\"nofollow noreferrer\">https://github.com/zoofIO/flexx-notebooks/blob/master/flexx_tutorial_pyscript.ipynb</a>):</p>\n\n<pre><code>from bokeh.io import vform\nfrom bokeh.models import CustomJS, ColumnDataSource, Slider\nfrom bokeh.plotting import figure, output_file, show\nimport flexx\n\n\noutput_file(\"callback.html\")\n\nx = [x*0.005 for x in range(0, 200)]\ny = x\n\nsource = ColumnDataSource(data=dict(x=x, y=y))\n\nplot = figure(plot_width=400, plot_height=400)\nplot.line('x', 'y', source=source, line_width=3, line_alpha=0.6)\n\ndef callback(source=source):\n    data = source.get('data')\n    f = cb_obj.get('value') #this is the bokeh callback object, linked to the slider below\n    x, y = data['x'], data['y']\n    for i in range(len(x)):\n        y[i] = x[i]**f #the slider value passed to this function as f will alter chart as a function of x and y\n    source.trigger('change') #as the slider moves, the chart will change\n\nslider = Slider(start=0.1, end=4, value=1, step=.1, title=\"power\", callback=CustomJS.from_py_func(callback))\n\n\nlayout = vform(slider, plot)\n\nshow(layout)        \n</code></pre>\n\n<p>See here for the actual example in action: <a href=\"http://docs.bokeh.org/en/0.10.0/docs/user_guide/interaction.html#customjs-for-widgets\" rel=\"nofollow noreferrer\">http://docs.bokeh.org/en/0.10.0/docs/user_guide/interaction.html#customjs-for-widgets</a></p>\n\n<p>To integrate with hover events see here ( <code>from bokeh.models import HoverTool</code>):\n<a href=\"http://docs.bokeh.org/en/0.10.0/docs/user_guide/interaction.html#customjs-for-hover\" rel=\"nofollow noreferrer\">http://docs.bokeh.org/en/0.10.0/docs/user_guide/interaction.html#customjs-for-hover</a></p>\n\n<p>Hover example:</p>\n\n<pre><code>from bokeh.plotting import figure, output_file, show, ColumnDataSource\nfrom bokeh.models import HoverTool\n\noutput_file(\"toolbar.html\")\n\nsource = ColumnDataSource(\n        data=dict(\n            x=[1, 2, 3, 4, 5],\n            y=[2, 5, 8, 2, 7],\n            desc=['A', 'b', 'C', 'd', 'E'],\n        )\n    )\n\nhover = HoverTool(\n        tooltips=[\n            (\"index\", \"$index\"),\n            (\"(x,y)\", \"($x, $y)\"),\n            (\"desc\", \"@desc\"),\n        ]\n    )\n\np = figure(plot_width=400, plot_height=400, tools=[hover], title=\"Mouse over the dots\")\n\np.circle('x', 'y', size=20, source=source)\n\nshow(p)\n</code></pre>\n\n<p>Looking at the 1st code you could put whatever formula you want under the <code>def callback</code> function - some playing around required.  You can get the hover to alter a graph next to it (<code>hform(leftchart, rightchart)</code> or above / below it (<code>vform(topchart, bottomchart)</code>). This is passed as <code>CustomJS</code> which <code>bokeh</code> uses to allow extendability and <code>flexx</code> allows you to write it in Python.  </p>\n\n<p>The alternative is to put whatever you want customized on the hover <code>tooltips</code> using HTML (although this example is placing images in dictionaries instead of new plots from the underlying data): <a href=\"http://docs.bokeh.org/en/0.10.0/docs/user_guide/tools.html#custom-tooltip\" rel=\"nofollow noreferrer\">http://docs.bokeh.org/en/0.10.0/docs/user_guide/tools.html#custom-tooltip</a></p>\n"}], "owner": {"reputation": 6384, "user_id": 823859, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/a312155705e2fa1ce28841ddf6645da0?s=128&d=identicon&r=PG", "display_name": "Adam_G", "link": "https://stackoverflow.com/users/823859/adam-g"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3775, "favorite_count": 3, "accepted_answer_id": 36814401, "answer_count": 3, "score": 7, "last_activity_date": 1574535386, "creation_date": 1461188397, "question_id": 36755712, "link": "https://stackoverflow.com/questions/36755712/place-a-chart-in-plotly-popup", "title": "Place a chart in plotly popup", "body": "<p>I'm using plotly for R, although I'm open to using the Python version, as well. When I hover over a datapoint, is there a way to make the popup contain another chart? Ideally the chart would be created from the data, although I can use a static image as a fallback.</p>\n\n<p>I'm unsure where to start on this, and apologize in advance for not having an MWE.</p>\n"}, {"tags": ["python", "django", "celery", "django-celery"], "comments": [{"owner": {"reputation": 2458, "user_id": 878170, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/77bcb742603db8ff8fb0afbabee3fdd0?s=128&d=identicon&r=PG", "display_name": "0xmtn", "link": "https://stackoverflow.com/users/878170/0xmtn"}, "edited": false, "score": 0, "creation_date": 1461188089, "post_id": 36755583, "comment_id": 61091438, "body": "Can you post Entity model? You&#39;re probable trying to import settings from that file, and try to access to database by it. Or some dependent does. Hard to tell from the info you gave."}, {"owner": {"reputation": 25411, "user_id": 84885, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/wcYCF.jpg?s=128&g=1", "display_name": "Atma", "link": "https://stackoverflow.com/users/84885/atma"}, "reply_to_user": {"reputation": 2458, "user_id": 878170, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/77bcb742603db8ff8fb0afbabee3fdd0?s=128&d=identicon&r=PG", "display_name": "0xmtn", "link": "https://stackoverflow.com/users/878170/0xmtn"}, "edited": false, "score": 0, "creation_date": 1461189875, "post_id": 36755583, "comment_id": 61092145, "body": "@mtndesign I added entity model.  If I was importing a setting or user what would I need to do?"}, {"owner": {"reputation": 2458, "user_id": 878170, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/77bcb742603db8ff8fb0afbabee3fdd0?s=128&d=identicon&r=PG", "display_name": "0xmtn", "link": "https://stackoverflow.com/users/878170/0xmtn"}, "edited": false, "score": 0, "creation_date": 1461190160, "post_id": 36755583, "comment_id": 61092251, "body": "Well I didn&#39;t mean the model itself, i meant the model file, to see the imported libs. Anyways, if you were importing settings module, you need to make sure that it is available and accessible from the path the <code>Entity</code> model is in. The error claims that you did not configured your app properly, in a way that django doesn&#39;t know where the essential files are. To configure you can use this: <code>from django.conf import settings</code> then <code>settings.configure()</code>."}, {"owner": {"reputation": 25411, "user_id": 84885, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/wcYCF.jpg?s=128&g=1", "display_name": "Atma", "link": "https://stackoverflow.com/users/84885/atma"}, "reply_to_user": {"reputation": 2458, "user_id": 878170, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/77bcb742603db8ff8fb0afbabee3fdd0?s=128&d=identicon&r=PG", "display_name": "0xmtn", "link": "https://stackoverflow.com/users/878170/0xmtn"}, "edited": false, "score": 0, "creation_date": 1461191050, "post_id": 36755583, "comment_id": 61092579, "body": "@mtndesign I&#39;ve added the imports.  I don&#39;t import settings, but when I configure like you mentioned with settings,  I get the error django.core.exceptions.AppRegistryNotReady: Apps aren&#39;t loaded yet.  I then add:  import django django.setup() and I get the error: RuntimeError: Model class django.contrib.contenttypes.models.ContentType doesn&#39;t declare an explicit app_label and isn&#39;t in an application in INSTALLED_APPS."}, {"owner": {"reputation": 2458, "user_id": 878170, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/77bcb742603db8ff8fb0afbabee3fdd0?s=128&d=identicon&r=PG", "display_name": "0xmtn", "link": "https://stackoverflow.com/users/878170/0xmtn"}, "edited": false, "score": 0, "creation_date": 1461191254, "post_id": 36755583, "comment_id": 61092649, "body": "Are you sure you created the app correctly? It seems your settings file is not filled up to meet the needs of your app. And from the previous error I can tell that you didn&#39;t create the app correctly, too. Add your app name to INSTALLED_APPS in settings. And also check this tutorial to figure out misconfigurations in your app: <a href=\"https://docs.djangoproject.com/en/1.9/intro/tutorial01/\" rel=\"nofollow noreferrer\">docs.djangoproject.com/en/1.9/intro/tutorial01</a>"}, {"owner": {"reputation": 25411, "user_id": 84885, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/wcYCF.jpg?s=128&g=1", "display_name": "Atma", "link": "https://stackoverflow.com/users/84885/atma"}, "reply_to_user": {"reputation": 2458, "user_id": 878170, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/77bcb742603db8ff8fb0afbabee3fdd0?s=128&d=identicon&r=PG", "display_name": "0xmtn", "link": "https://stackoverflow.com/users/878170/0xmtn"}, "edited": false, "score": 0, "creation_date": 1461192165, "post_id": 36755583, "comment_id": 61092986, "body": "@mtndesign I figured it out, see my answer."}], "answers": [{"comments": [{"owner": {"reputation": 799, "user_id": 1883606, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/2g4lW.jpg?s=128&g=1", "display_name": "Carla Urrea Stabile", "link": "https://stackoverflow.com/users/1883606/carla-urrea-stabile"}, "edited": false, "score": 7, "creation_date": 1531996436, "post_id": 36756511, "comment_id": 89811644, "body": "Need to have what? this is pretty much the default celery.py provided by Celery docs. I don&#39;t understand the upvotes in this answer."}], "tags": [], "owner": {"reputation": 25411, "user_id": 84885, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/wcYCF.jpg?s=128&g=1", "display_name": "Atma", "link": "https://stackoverflow.com/users/84885/atma"}, "is_accepted": false, "score": 6, "last_activity_date": 1461192147, "creation_date": 1461192147, "answer_id": 36756511, "question_id": 36755583, "link": "https://stackoverflow.com/questions/36755583/cant-import-django-model-into-celery-task/36756511#36756511", "title": "can&#39;t import django model into celery task", "body": "<p>My celery file needed to have:</p>\n\n<pre><code>from __future__ import absolute_import\n\nimport os\n\nfrom celery import Celery\n\n\n# set the default Django settings module for the 'celery' program.\nos.environ.setdefault('DJANGO_SETTINGS_MODULE', 'myproject.settings')\n\nfrom django.conf import settings  # noqa\n</code></pre>\n\n<p>Thanks for helping me get to that conclusion @mtndesign</p>\n"}], "owner": {"reputation": 25411, "user_id": 84885, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/wcYCF.jpg?s=128&g=1", "display_name": "Atma", "link": "https://stackoverflow.com/users/84885/atma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3594, "favorite_count": 1, "answer_count": 1, "score": 6, "last_activity_date": 1461192147, "creation_date": 1461187884, "last_edit_date": 1461190899, "question_id": 36755583, "link": "https://stackoverflow.com/questions/36755583/cant-import-django-model-into-celery-task", "title": "can&#39;t import django model into celery task", "body": "<p>i have the following task:</p>\n\n<pre><code>from __future__ import absolute_import\n\nfrom myproject.celery import app\n\nfrom myapp.models import Entity\n\n\n@app.task\ndef add(entity_id):\n    entity = Entity.objects.get(pk=entity_id)\n    return entity.name\n</code></pre>\n\n<p>I get the following error:</p>\n\n<blockquote>\n  <p>django.core.exceptions.ImproperlyConfigured: Requested setting\n  DEFAULT_INDEX_TABLESPACE, but settings are not configured. You must\n  either define the environment variable DJANGO_SETTINGS_MODULE or call\n  settings.configure() before accessing settings.</p>\n</blockquote>\n\n<p>If I take out the entity import every thing is fine and no error occurs.  When add back :</p>\n\n<pre><code>from myapp.models import Entity\n</code></pre>\n\n<p>the error returns.</p>\n\n<pre><code>from __future__ import unicode_literals\nfrom django.contrib.auth.models import User\nfrom django.db import models\nfrom django.core.mail import EmailMultiAlternatives\nfrom django.template import Context, loader\nfrom django.utils.html import strip_tags\n\nclass Entity(models.Model):\n    area = models.ForeignKey(Area)\n    name = models.CharField(max_length=255)\n    type = models.CharField(max_length=255)\n    status = models.IntegerField(choices=STATUS_TYPES, default=0)\n    created_at = models.DateTimeField(auto_now_add = True)\n    updated_at = models.DateTimeField(auto_now = True)\n\n\n    def __unicode__(self):\n        return self.name\n</code></pre>\n\n<p>How do I import a django model into a celery task?</p>\n"}, {"tags": ["python", "django", "django-models", "django-forms", "django-views"], "comments": [{"owner": {"reputation": 5742, "user_id": 1904584, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/GlhYH.jpg?s=128&g=1", "display_name": "trinchet", "link": "https://stackoverflow.com/users/1904584/trinchet"}, "edited": false, "score": 0, "creation_date": 1461191680, "post_id": 36755571, "comment_id": 61092812, "body": "Are you sure you raw query doesn&#39;t send the items duplicated?"}, {"owner": {"reputation": 21, "user_id": 1753244, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2df856a5902bee374d2590432a436a6?s=128&d=identicon&r=PG", "display_name": "Eduardo Alcocer", "link": "https://stackoverflow.com/users/1753244/eduardo-alcocer"}, "reply_to_user": {"reputation": 5742, "user_id": 1904584, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/GlhYH.jpg?s=128&g=1", "display_name": "trinchet", "link": "https://stackoverflow.com/users/1904584/trinchet"}, "edited": false, "score": 0, "creation_date": 1461250782, "post_id": 36755571, "comment_id": 61123868, "body": "Yes, i&#39;ve reviewed them may times and they are not returning duplicate values"}], "owner": {"reputation": 21, "user_id": 1753244, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2df856a5902bee374d2590432a436a6?s=128&d=identicon&r=PG", "display_name": "Eduardo Alcocer", "link": "https://stackoverflow.com/users/1753244/eduardo-alcocer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 25, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1461187815, "creation_date": 1461187815, "question_id": 36755571, "link": "https://stackoverflow.com/questions/36755571/save-function-in-django-python-duplicating-entries", "title": "Save function in django/python duplicating entries", "body": "<p>I'm writing a football scoring app for a local league using the same schema as the NFL's gameday DB. I created a function that will eventually run on it's own updating each player's scores.</p>\n\n<p>The problem comes when the function to create a new points record is run it duplicates the entry for each player, there's no error shown or anything, everything runs as expected except for the duplicate values.</p>\n\n<p>here are my views.py:</p>\n\n<pre><code>def updatepoints(request):\n    actual = get_object_or_404(CurrentWeek, status='active')\n    week = actual.week\n    season = actual.season\n    ptsexist = Puntos.objects.filter(week=week, season=season)\n    if ptsexist:\n        pts = Player.objects.raw('''SELECT DISTINCT player.player_id,(SELECT (SELECT SUM(play_player.passing_yds))+(SELECT SUM(play_player.passing_tds))+(SELECT SUM(play_player.passing_twoptm))+(SELECT SUM(play_player.passing_int))+(SELECT SUM(play_player.rushing_yds))+(SELECT SUM(play_player.rushing_tds))+(SELECT SUM(play_player.rushing_twoptm))+(SELECT SUM(play_player.fumbles_lost))+(SELECT SUM(play_player.receiving_yds))+(SELECT SUM(play_player.receiving_tds))+(SELECT SUM(play_player.receiving_twoptm))+(SELECT SUM(play_player.receiving_rec))+(SELECT SUM(play_player.kicking_fgm))+(SELECT SUM(play_player.kicking_xpmade))+(SELECT SUM(play_player.fumbles_rec_tds))+(SELECT SUM(play_player.kicking_rec_tds))) AS total,id_puntos FROM player INNER JOIN play_player ON player.player_id = play_player.player_id INNER JOIN game ON play_player.gsis_id = game.gsis_id LEFT JOIN points ON player.player_id = points.player_id AND points.temporada = game.season_year AND \"DraftFantasy_puntos\".semana = game.week WHERE game.week = %s AND game.season_year = %s AND game.season_type != 'Warmup' AND game.season_type != 'Postseason' GROUP BY player.player_id,points.id_points''', [week, season])\n        for obj in pts:\n            obj.id = obj.player_id\n            obj.points = obj.total\n            obj.idpoints = obj.id_points\n            form = UpdatePointsForm(request.POST)\n            pointsf = form.save(commit=False)\n            pointsf.id_points = obj.idpoints\n            pointsf.player_id = obj.player_id\n            pointsf.temporada = season\n            pointsf.semana = week\n            pointsf.puntos_ppr = obj.total\n            pointsf.save()\n        return HttpResponseRedirect(\"/dashboard/\")\n    else:\n        return HttpResponseRedirect(\"/savepoints/\")\n\ndef savepoints(request):\n    actual = get_object_or_404(CurrentWeek, status='active')\n    week = actual.week\n    season = actual.season\n    ptsn = Player.objects.raw('''SELECT DISTINCT player.player_id,(SELECT (SELECT SUM(play_player.passing_yds))+(SELECT SUM(play_player.passing_tds))+(SELECT SUM(play_player.passing_twoptm))+(SELECT SUM(play_player.passing_int))+(SELECT SUM(play_player.rushing_yds))+(SELECT SUM(play_player.rushing_tds))+(SELECT SUM(play_player.rushing_twoptm))+(SELECT SUM(play_player.fumbles_lost))+(SELECT SUM(play_player.receiving_yds))+(SELECT SUM(play_player.receiving_tds))+(SELECT SUM(play_player.receiving_twoptm))+(SELECT SUM(play_player.receiving_rec))+(SELECT SUM(play_player.kicking_fgm))+(SELECT SUM(play_player.kicking_xpmade))+(SELECT SUM(play_player.fumbles_rec_tds))+(SELECT SUM(play_player.kicking_rec_tds))) AS total FROM player INNER JOIN play_player ON player.player_id = play_player.player_id INNER JOIN game ON play_player.gsis_id = game.gsis_id WHERE game.week = %s AND game.season_year = %s AND game.season_type != 'Warmup' AND game.season_type != 'Postseason' GROUP BY player.player_id''', [week, season])\n    for obj in ptsn:\n        obj.id = obj.player_id\n        obj.points = obj.total\n        formn = PointsForm(request.POST)\n        pointsfn = formn.save(commit=False)\n        pointsfn.player_id = obj.player_id\n        pointsfn.temporada = season\n        pointsfn.semana = week\n        pointsfn.points = obj.total\n        pointsfn.save()\n    return HttpResponseRedirect(\"/ligas/\")\n</code></pre>\n\n<p>the forms.py:</p>\n\n<pre><code>class PointsForm(forms.ModelForm):\n    class Meta:\n        model = Points\n        exclude = [\"player_id\",\n                   \"season\",\n                   \"week\",\n                   \"puntos\"]\n\nclass UpdatePointsForm(forms.ModelForm):\n    class Meta:\n        model = Points\n        exclude = [\"id_points\",\n                   \"player_id\",\n                   \"season\",\n                   \"week\",\n                   \"points\"]\n</code></pre>\n\n<p>and the models.py:</p>\n\n<pre><code>class Points(models.Model):\n    id_points = models.AutoField(primary_key=True, null=False, max_length=15)\n    player_id = models.CharField(max_length=100)\n    season = models.IntegerField(max_length=10)\n    week = models.IntegerField(max_length=10)\n    puntos = models.IntegerField(max_length=50)\n\nclass CurrentWeek(models.Model):\n    id_week = models.AutoField(primary_key=True, null=False, max_length=15)\n    week = models.IntegerField(max_length=10)\n    season = models.IntegerField(max_length=5)\n    status = models.CharField(max_length=50, default=\"done\")\n</code></pre>\n\n<p>I'm really stumped so any help will be much appreciated.</p>\n"}, {"tags": ["python", "pandas", "filter", "dataframe"], "comments": [{"owner": {"reputation": 19025, "user_id": 599792, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7ce404c8d35df762a599cb5173f18456?s=128&d=identicon&r=PG", "display_name": "Gareth McCaughan", "link": "https://stackoverflow.com/users/599792/gareth-mccaughan"}, "edited": false, "score": 0, "creation_date": 1461188095, "post_id": 36755507, "comment_id": 61091443, "body": "What error do you get?"}, {"owner": {"reputation": 5507, "user_id": 2255198, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/SH5us.png?s=128&g=1", "display_name": "flyingmeatball", "link": "https://stackoverflow.com/users/2255198/flyingmeatball"}, "edited": false, "score": 0, "creation_date": 1461188131, "post_id": 36755507, "comment_id": 61091460, "body": "If you thought the contents of letters were strings, could you convert the column of lists to strings?  something like this:  df[&#39;letters&#39;] = df[&#39;letters&#39;].apply(lambda x: &#39;&#39;.join(x))  Then proceed to filter like you normally would."}, {"owner": {"reputation": 403, "user_id": 2055968, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00084f86bd691857b690f24eb4133405?s=128&d=identicon&r=PG", "display_name": "ryanskeith", "link": "https://stackoverflow.com/users/2055968/ryanskeith"}, "edited": false, "score": 0, "creation_date": 1461188466, "post_id": 36755507, "comment_id": 61091599, "body": "Do you require lists for that Series?  If not, you could unpack the letters and then do a normal filter on the letter in question."}, {"owner": {"reputation": 12268, "user_id": 4596596, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/b00c839c9e28eb73aeb299bf3ef69a76?s=128&d=identicon&r=PG&f=1", "display_name": "ShanZhengYang", "link": "https://stackoverflow.com/users/4596596/shanzhengyang"}, "reply_to_user": {"reputation": 19025, "user_id": 599792, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7ce404c8d35df762a599cb5173f18456?s=128&d=identicon&r=PG", "display_name": "Gareth McCaughan", "link": "https://stackoverflow.com/users/599792/gareth-mccaughan"}, "edited": false, "score": 0, "creation_date": 1461188832, "post_id": 36755507, "comment_id": 61091744, "body": "@GarethMcCaughan See edit above. It&#39;s a ValueError"}, {"owner": {"reputation": 12268, "user_id": 4596596, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/b00c839c9e28eb73aeb299bf3ef69a76?s=128&d=identicon&r=PG&f=1", "display_name": "ShanZhengYang", "link": "https://stackoverflow.com/users/4596596/shanzhengyang"}, "reply_to_user": {"reputation": 5507, "user_id": 2255198, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/SH5us.png?s=128&g=1", "display_name": "flyingmeatball", "link": "https://stackoverflow.com/users/2255198/flyingmeatball"}, "edited": false, "score": 0, "creation_date": 1461188930, "post_id": 36755507, "comment_id": 61091775, "body": "@flyingmeatball So far, this does indeed work. That might be the correct answer in this scenario; however, there may be other ideas. Post below for points!"}], "answers": [{"tags": [], "owner": {"reputation": 5507, "user_id": 2255198, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/SH5us.png?s=128&g=1", "display_name": "flyingmeatball", "link": "https://stackoverflow.com/users/2255198/flyingmeatball"}, "is_accepted": false, "score": 2, "last_activity_date": 1461189045, "creation_date": 1461189045, "answer_id": 36755871, "question_id": 36755507, "link": "https://stackoverflow.com/questions/36755507/error-filtering-lists-in-pandas-dataframe/36755871#36755871", "title": "Error filtering lists in pandas dataframe", "body": "<p>If you thought the contents of letters were strings, could you convert the column of lists to strings? something like this: </p>\n\n<pre><code>df['letters'] = df['letters'].apply(lambda x: ''.join(x)) \n</code></pre>\n\n<p>Then proceed to filter like you normally would</p>\n"}, {"comments": [{"owner": {"reputation": 12268, "user_id": 4596596, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/b00c839c9e28eb73aeb299bf3ef69a76?s=128&d=identicon&r=PG&f=1", "display_name": "ShanZhengYang", "link": "https://stackoverflow.com/users/4596596/shanzhengyang"}, "edited": false, "score": 0, "creation_date": 1461190354, "post_id": 36755872, "comment_id": 61092321, "body": "As one doesn&#39;t have to change the DataFrame, I will have to go with this answer."}], "tags": [], "owner": {"reputation": 26041, "user_id": 3339965, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ac89d084d3bc5dc083bad3ea5518f11?s=128&d=identicon&r=PG&f=1", "display_name": "root", "link": "https://stackoverflow.com/users/3339965/root"}, "is_accepted": true, "score": 2, "last_activity_date": 1461189054, "creation_date": 1461189054, "answer_id": 36755872, "question_id": 36755507, "link": "https://stackoverflow.com/questions/36755507/error-filtering-lists-in-pandas-dataframe/36755872#36755872", "title": "Error filtering lists in pandas dataframe", "body": "<p>You can use <code>Series.str.join</code> to do the filtering without changing the DataFrame.</p>\n\n<pre><code>df[df['letters'].str.join('') == 'A']\n</code></pre>\n"}], "owner": {"reputation": 12268, "user_id": 4596596, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/b00c839c9e28eb73aeb299bf3ef69a76?s=128&d=identicon&r=PG&f=1", "display_name": "ShanZhengYang", "link": "https://stackoverflow.com/users/4596596/shanzhengyang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 460, "favorite_count": 0, "accepted_answer_id": 36755872, "answer_count": 2, "score": 2, "last_activity_date": 1461189054, "creation_date": 1461187577, "last_edit_date": 1461188820, "question_id": 36755507, "link": "https://stackoverflow.com/questions/36755507/error-filtering-lists-in-pandas-dataframe", "title": "Error filtering lists in pandas dataframe", "body": "<p>Normally, one filters a pandas Dataframe as follows:</p>\n\n<pre><code>import pandas as pd\ndf = pd.read_csv(...)\ndf_filtered = df[df['column'] == value]\n</code></pre>\n\n<p>I have the following dataframe <code>df1</code>:</p>\n\n<pre><code>numbers    letters   other_columns\n0          [A]     ....\n1          [A]     ....\n2          [C]     ....\n3          [B]     ....\n4          [B]     ....\n5          [A]     ....\n...        ....\n</code></pre>\n\n<p>I thought that the entries in <code>letters</code> were strings, but these are actually lists:</p>\n\n<pre><code>type(df1.letters.ix[0]) \n</code></pre>\n\n<p>outputs <code>list</code></p>\n\n<p>So, I tried to filter the dataframe <code>df1</code> to only have <code>[A]</code> rows. </p>\n\n<p>That is <code>only_A</code> should look like:</p>\n\n<pre><code>numbers    letters   other_columns\n0          [A]     ....\n1          [A]     ....\n5          [A]     ....\n...        ....\n</code></pre>\n\n<p>However, if I try to filter with the code</p>\n\n<pre><code>only_A = df1[df1['letters'] == list('A')]\n</code></pre>\n\n<p>I get an error, a <code>ValueError</code></p>\n\n<pre><code>ValueError: Arrays were different lengths: 3076 vs 1\n</code></pre>\n\n<p>What is the correct way to filter this dataframe? </p>\n"}, {"tags": ["python", "sympy", "integrate"], "comments": [{"owner": {"reputation": 6738, "user_id": 906693, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ba54c2f46f424128b4ba467eb8d0e138?s=128&d=identicon&r=PG", "display_name": "roadrunner66", "link": "https://stackoverflow.com/users/906693/roadrunner66"}, "edited": false, "score": 0, "creation_date": 1461187838, "post_id": 36755487, "comment_id": 61091317, "body": "Agreed, the answer should be one, the area under the delta function being zero and concentrated around x=1 , where the multipler x is not changing anything."}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user3717023"}, "edited": false, "score": 1, "creation_date": 1461189743, "post_id": 36755974, "comment_id": 61092088, "body": "<b>Symbolic</b> integration (done by sympy) and <b>numeric</b> integration (done by scipy) are very different things. Sticking an abstract object like DiracDelta into a numeric integration routine is like sticking fingers into a power outlet; the thing just doesn&#39;t belong there."}, {"owner": {"reputation": 288763, "user_id": 487339, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wbe4o.png?s=128&g=1", "display_name": "DSM", "link": "https://stackoverflow.com/users/487339/dsm"}, "edited": false, "score": 1, "creation_date": 1461189749, "post_id": 36755974, "comment_id": 61092089, "body": "Ah, beat me to it.  Basically, scipy&#39;s integration is a <i>numerical</i> integration, and doesn&#39;t play nicely with sympy in general, even more so when we have something as peculiar as the delta &quot;function&quot;."}, {"owner": {"user_type": "does_not_exist", "display_name": "user3717023"}, "reply_to_user": {"reputation": 288763, "user_id": 487339, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wbe4o.png?s=128&g=1", "display_name": "DSM", "link": "https://stackoverflow.com/users/487339/dsm"}, "edited": false, "score": 0, "creation_date": 1461189779, "post_id": 36755974, "comment_id": 61092104, "body": "@DSM Your answer was better, please undelete."}], "tags": [], "owner": {"reputation": 501, "user_id": 4128295, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/e6ccfdffc3700ca3d4dcad03ce57a6ed?s=128&d=identicon&r=PG&f=1", "display_name": "HuShu", "link": "https://stackoverflow.com/users/4128295/hushu"}, "is_accepted": true, "score": 5, "last_activity_date": 1461227121, "last_edit_date": 1461227121, "creation_date": 1461189458, "answer_id": 36755974, "question_id": 36755487, "link": "https://stackoverflow.com/questions/36755487/diracdelta-not-giving-correct-result/36755974#36755974", "title": "DiracDelta not giving correct result", "body": "<p>It seems <code>sympy</code> functions are not compatible with <code>scipy</code> integrate. One needs to use <code>sympy</code> integrate. The following gives the correct answer</p>\n\n<pre><code>from sympy import *\nx = Symbol('x')\nprint integrate(x*DiracDelta(x-1), (x, 0, 5.0))    \n</code></pre>\n\n<p>Although, I am not sure if <code>sympy.integrate</code> is as powerful and versatile as <code>scipy.integrate</code>. </p>\n"}, {"tags": [], "owner": {"reputation": 75386, "user_id": 161801, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/0383e4cae325f65a1bbd906be4be2276?s=128&d=identicon&r=PG", "display_name": "asmeurer", "link": "https://stackoverflow.com/users/161801/asmeurer"}, "is_accepted": false, "score": 2, "last_activity_date": 1461268644, "creation_date": 1461268644, "answer_id": 36779283, "question_id": 36755487, "link": "https://stackoverflow.com/questions/36755487/diracdelta-not-giving-correct-result/36779283#36779283", "title": "DiracDelta not giving correct result", "body": "<p>HuShu's answer is correct. I'll add that the Dirac \u03b4 function is a symbolic method of representing function evaluation as an integral. It's useful as a symbolic abstraction, but if you only care about numeric evaluation, just do the function evaluation. That is instead of </p>\n\n<pre><code>b\n\u2320\n\u23ae f(x)\u22c5DiracDelta(x - 1) dx\n\u2321\na\n</code></pre>\n\n<p>just use</p>\n\n<pre><code>f(1) if a &lt;= 1 &lt;= b else 0\n</code></pre>\n"}], "owner": {"reputation": 501, "user_id": 4128295, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/e6ccfdffc3700ca3d4dcad03ce57a6ed?s=128&d=identicon&r=PG&f=1", "display_name": "HuShu", "link": "https://stackoverflow.com/users/4128295/hushu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6719, "favorite_count": 2, "accepted_answer_id": 36755974, "answer_count": 2, "score": 3, "last_activity_date": 1461268644, "creation_date": 1461187501, "last_edit_date": 1461227240, "question_id": 36755487, "link": "https://stackoverflow.com/questions/36755487/diracdelta-not-giving-correct-result", "title": "DiracDelta not giving correct result", "body": "<p>I have to use dirac delta in a complicated integral and was hoping to see how it works with a simple case but it returns the wrong answer. Any clue what I did wrong in the following? </p>\n\n<pre><code>from sympy import DiracDelta\nfrom scipy import integrate\n\ndef f(x):\n     return x*DiracDelta(x-1)\n\nb, err = integrate.quad(f, 0, 5)    \nprint b\n</code></pre>\n\n<p>This returns <code>0.0</code> while it shouldn't.</p>\n"}, {"tags": ["php", "python", "ibm-cloud-infrastructure"], "comments": [{"owner": {"reputation": 3867, "user_id": 515948, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/1abe88862a65973704f7c9b028cf7afe?s=128&d=identicon&r=PG", "display_name": "Laur Ivan", "link": "https://stackoverflow.com/users/515948/laur-ivan"}, "edited": false, "score": 0, "creation_date": 1461187626, "post_id": 36755466, "comment_id": 61091216, "body": "Welcome to SO! Can you please add the relevant parts from the other question? IMHO it&#39;s better to describe your problem and mention you&#39;ve looked at others rather than referring one. It also improves readability."}, {"owner": {"reputation": 1, "user_id": 6232499, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd20502e1291bc06be6eba308d9a7792?s=128&d=identicon&r=PG&f=1", "display_name": "Patrick", "link": "https://stackoverflow.com/users/6232499/patrick"}, "reply_to_user": {"reputation": 3867, "user_id": 515948, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/1abe88862a65973704f7c9b028cf7afe?s=128&d=identicon&r=PG", "display_name": "Laur Ivan", "link": "https://stackoverflow.com/users/515948/laur-ivan"}, "edited": false, "score": 0, "creation_date": 1461188415, "post_id": 36755466, "comment_id": 61091580, "body": "All of the relevant parts of the other question are contained in the question here. I included the link/reference only to clarify that the other question was different and didn&#39;t include an answer with the specific focus (datacenter and account aggregate), or with the API calls needed to accomplish either of those."}], "answers": [{"comments": [{"owner": {"reputation": 2732, "user_id": 5094287, "user_type": "registered", "profile_image": "https://graph.facebook.com/10152965294186720/picture?type=large", "display_name": "Ruber Cuellar Valenzuela", "link": "https://stackoverflow.com/users/5094287/ruber-cuellar-valenzuela"}, "edited": false, "score": 0, "creation_date": 1461190427, "post_id": 36756161, "comment_id": 61092344, "body": "I will try to create the PHP script with this idea, but it will take me some time, I will let you know any news."}], "tags": [], "owner": {"reputation": 2732, "user_id": 5094287, "user_type": "registered", "profile_image": "https://graph.facebook.com/10152965294186720/picture?type=large", "display_name": "Ruber Cuellar Valenzuela", "link": "https://stackoverflow.com/users/5094287/ruber-cuellar-valenzuela"}, "is_accepted": true, "score": 0, "last_activity_date": 1461190381, "creation_date": 1461190381, "answer_id": 36756161, "question_id": 36755466, "link": "https://stackoverflow.com/questions/36755466/softlayer-getting-bandwidth-usage-by-datacenter/36756161#36756161", "title": "SoftLayer - getting bandwidth usage by datacenter", "body": "<p>Unfortunately, It's not possible making a single call, but this can be a workaround:</p>\n\n<p>Retrieve Vitual Guests and Hardware objects from account</p>\n\n<ul>\n<li><a href=\"http://sldn.softlayer.com/reference/services/SoftLayer_Account/getVirtualGuests\" rel=\"nofollow\">SoftLayer_Account::getVirtualGuests</a></li>\n<li><a href=\"http://sldn.softlayer.com/reference/services/SoftLayer_Account/getVirtualGuests\" rel=\"nofollow\">SoftLayer_Account::getHardware</a></li>\n</ul>\n\n<p>Then, we should get the bandwidth data, from each one with the following request:</p>\n\n<ul>\n<li><a href=\"http://sldn.softlayer.com/reference/services/SoftLayer_Metric_Tracking_Object/getBandwidthData\" rel=\"nofollow\">SoftLayer_Metric_tracking_Object::getBandwidthData</a></li>\n</ul>\n\n<p>If you want for a specific datacenter, it is necessary to filter the hardware objects and virtual guests per datacenter.</p>\n\n<p>Here a Rest request, to filter for Dal05 datacenter. The same idea should be applied for hardware objects.</p>\n\n<pre><code>https://$user:$apiKey@api.softlayer.com/rest/v3.1/SoftLayer_Account/getVirtualGuests?objectMask=mask[datacenter]&amp;objectFilter={\"virtualGuests\":{\"datacenter\":{\"name\":{\"operation\":\"dal05\"}}}}\n\nMethod: Get\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 6232499, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd20502e1291bc06be6eba308d9a7792?s=128&d=identicon&r=PG&f=1", "display_name": "Patrick", "link": "https://stackoverflow.com/users/6232499/patrick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71, "favorite_count": 0, "accepted_answer_id": 36756161, "answer_count": 1, "score": -1, "last_activity_date": 1461190381, "creation_date": 1461187414, "last_edit_date": 1495542672, "question_id": 36755466, "link": "https://stackoverflow.com/questions/36755466/softlayer-getting-bandwidth-usage-by-datacenter", "title": "SoftLayer - getting bandwidth usage by datacenter", "body": "<p>Similar to another posted question at <a href=\"https://stackoverflow.com/questions/35752398/softlayer-getting-bandwidth-usage-per-datacenter\">softlayer - getting bandwidth usage per datacenter</a> , my question(s):</p>\n\n<p>How can I use the API get a value (not graph) that represents the amount of bandwidth used by our entire account (1), and by specific data centers (2).</p>\n\n<p>Which API calls are the correct entries to accomplish these goals? We are prototyping in PHP, but Python is also welcome.</p>\n"}, {"tags": ["python", "matlab", "convex-optimization", "cvx", "cvxpy"], "answers": [{"comments": [{"owner": {"reputation": 207, "user_id": 4158590, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6d5a0fe1d078ac1bb7357feee594a54c?s=128&d=identicon&r=PG&f=1", "display_name": "Huayu Zhang", "link": "https://stackoverflow.com/users/4158590/huayu-zhang"}, "edited": false, "score": 0, "creation_date": 1461557383, "post_id": 36831693, "comment_id": 61234549, "body": "I see one example in the [tutorial] (<a href=\"http://www.cvxpy.org/en/latest/tutorial/intro/index.html#vectors-and-matrices\" rel=\"nofollow noreferrer\">cvxpy.org/en/latest/tutorial/intro/&hellip;</a>) uses numpy in the object function."}, {"owner": {"reputation": 207, "user_id": 4158590, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6d5a0fe1d078ac1bb7357feee594a54c?s=128&d=identicon&r=PG&f=1", "display_name": "Huayu Zhang", "link": "https://stackoverflow.com/users/4158590/huayu-zhang"}, "edited": false, "score": 0, "creation_date": 1461557754, "post_id": 36831693, "comment_id": 61234628, "body": "I may expand <code>lamda</code> to a vector. That is the reason why I need <code>kron</code>."}], "tags": [], "owner": {"reputation": 596, "user_id": 3926335, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/931f346dad9a75758fb998efea8e873f?s=128&d=identicon&r=PG&f=1", "display_name": "steven", "link": "https://stackoverflow.com/users/3926335/steven"}, "is_accepted": true, "score": 4, "last_activity_date": 1461555834, "creation_date": 1461555834, "answer_id": 36831693, "question_id": 36755392, "link": "https://stackoverflow.com/questions/36755392/convert-a-semidefinite-program-from-cvx-to-cvxpy/36831693#36831693", "title": "Convert a semidefinite program from CVX to CVXPY", "body": "<p>The big issue with your code is that you can't use NumPy functions on CVXPY objects. You need to use the equivalent CVXPY functions. Here's a working version of your code:</p>\n\n<pre><code>import cvxpy as cvx\nimport numpy as np\nimport scipy as sp\n\n\nAh = np.array([[1.0058, -0.0058], [1, 0]])\nBh = np.array([[-1], [0]])\nCh = np.array([[1.0058, -0.0058], [-0.9829, 0.0056]])\nDh = np.array([[-1], [1]])\n\nM = np.array([[0, 1], [1, 0]])\nni, n = M.shape[0] / 2, Ah.shape[0]\nrho = 0.5\n\nP = cvx.Semidef(n)\nlamda = cvx.Variable()\n\nMblk = M*lamda*np.eye(2)\nABh = cvx.hstack(Ah, Bh)\nCDh = cvx.hstack(Ch, Dh)\nzeros = np.zeros((n,1))\nconstraints = [lamda[-1] == 1,\n               ABh.T*P*ABh - rho**2*cvx.bmat([[P,zeros],[zeros.T, 0]]) +\n               CDh.T*Mblk*CDh &lt;&lt; 0]\n\nprob = cvx.Problem(cvx.Minimize(1), constraints)\nprob.solve()\nfeas = prob.status is cvx.OPTIMAL\n</code></pre>\n\n<p>I removed the kron function because it wasn't doing anything here and CVXPY doesn't currently support Kronecker products with a variable left-hand side. I can add it if you need it.</p>\n"}], "owner": {"reputation": 207, "user_id": 4158590, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6d5a0fe1d078ac1bb7357feee594a54c?s=128&d=identicon&r=PG&f=1", "display_name": "Huayu Zhang", "link": "https://stackoverflow.com/users/4158590/huayu-zhang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1277, "favorite_count": 1, "accepted_answer_id": 36831693, "answer_count": 1, "score": 0, "last_activity_date": 1517415742, "creation_date": 1461187123, "last_edit_date": 1517415742, "question_id": 36755392, "link": "https://stackoverflow.com/questions/36755392/convert-a-semidefinite-program-from-cvx-to-cvxpy", "title": "Convert a semidefinite program from CVX to CVXPY", "body": "<p>I want to convert the following SDP \u2014 which just verifies the feasibility of the constraints \u2014 from CVX (MATLAB) to CVXPY (Python): </p>\n\n<pre><code>Ah = [1.0058, -0.0058; 1, 0];\nBh = [-1; 0];\nCh = [1.0058, -0.0058; -0.9829, 0.0056];\nDh = [-1; 1];\n\nM = [0, 1;1, 0];\nni = size(M,1)/2;\nn = size(Ah,1);\nrho = 0.5;\n\ncvx_begin sdp quiet\n    variable P(n,n) semidefinite\n    variable lambda(ni) nonnegative\n    Mblk = M*kron(diag(lambda),eye(2));\n    lambda(ni) == 1  % break homogeneity (many ways to do this...)\n    [Ah Bh]'*P*[Ah Bh] - rho^2*blkdiag(P,0) + [Ch Dh]'*Mblk*[Ch Dh] &lt;= 0\ncvx_end\n\n\nswitch cvx_status\n    case 'Solved'\n        feas = 1;\n    otherwise\n        feas = 0;\nend\n</code></pre>\n\n<p>Below is my Python code,</p>\n\n<pre><code>import cvxpy as cvx\nimport numpy as np\nimport scipy as sp\n\n\nAh = np.array([[1.0058, -0.0058], [1, 0]])\nBh = np.array([[-1], [0]])\nCh = np.array([[1.0058, -0.0058], [-0.9829, 0.0056]])\nDh = np.array([[-1], [1]])\n\nM = np.array([[0, 1], [1, 0]])\nni, n = M.shape[0] / 2, Ah.shape[0]\nrho = 0.5\n\nP = cvx.Semidef(n)\nlamda = cvx.Variable()\n\nMblk = np.dot(M, np.kron(cvx.diag(lamda), np.eye(2)))\nABh = np.concatenate((Ah, Bh), axis=1)\nCDh = np.concatenate((Ch, Dh), axis=1)\nconstraints = [lamda[-1] == 1,\n               np.dot(ABh.T, np.dot(P, ABh)) - rho**2*np.linalg.block_diag(P, 0) +\n               np.dot(CDh.T, np.dot(Mblk, CDh)) &lt;&lt; 0]\n\nprob = cvx.Problem(cvx.Minimize(1), constraints)\nfeas = prob.status is cvx.OPTIMAL\n</code></pre>\n\n<p>There are several errors when I run the program.\n1. When I print Mblk, it shows</p>\n\n<blockquote>\n  <p>Traceback (most recent call last):</p>\n  \n  <p>File\n  \"/usr/lib/python2.7/dist-packages/IPython/core/interactiveshell.py\",\n  line 2820, in run_code</p>\n  \n  <p>Out[1]:     exec code_obj in self.user_global_ns, self.user_ns</p>\n  \n  <p>File \"\", line 1, in </p>\n  \n  <p>Mblk</p>\n  \n  <p>File \"/usr/lib/python2.7/dist-packages/IPython/core/displayhook.py\",\n  line 247, in <strong>call</strong></p>\n  \n  <p>format_dict, md_dict = self.compute_format_data(result)</p>\n  \n  <p>File \"/usr/lib/python2.7/dist-packages/IPython/core/displayhook.py\",\n  line 157, in compute_format_data</p>\n  \n  <p>return self.shell.display_formatter.format(result)</p>\n  \n  <p>File \"/usr/lib/python2.7/dist-packages/IPython/core/formatters.py\",\n  line 152, in format</p>\n  \n  <p>data = formatter(obj)</p>\n  \n  <p>File \"/usr/lib/python2.7/dist-packages/IPython/core/formatters.py\",\n  line 481, in <strong>call</strong></p>\n  \n  <p>printer.pretty(obj)</p>\n  \n  <p>File \"/usr/lib/python2.7/dist-packages/IPython/lib/pretty.py\", line\n  362, in pretty</p>\n  \n  <p>return _default_pprint(obj, self, cycle)</p>\n  \n  <p>File \"/usr/lib/python2.7/dist-packages/IPython/lib/pretty.py\", line\n  482, in _default_pprint</p>\n  \n  <p>p.text(repr(obj))</p>\n  \n  <p>File \"/usr/lib/python2.7/dist-packages/numpy/core/numeric.py\", line\n  1553, in array_repr</p>\n  \n  <p>', ', \"array(\")</p>\n  \n  <p>File \"/usr/lib/python2.7/dist-packages/numpy/core/arrayprint.py\", line\n  454, in array2string</p>\n  \n  <p>separator, prefix, formatter=formatter)</p>\n  \n  <p>File \"/usr/lib/python2.7/dist-packages/numpy/core/arrayprint.py\", line\n  256, in _array2string</p>\n  \n  <p>'int' : IntegerFormat(data),</p>\n  \n  <p>File \"/usr/lib/python2.7/dist-packages/numpy/core/arrayprint.py\", line\n  641, in <strong>init</strong></p>\n  \n  <p>max_str_len = max(len(str(maximum.reduce(data))),</p>\n  \n  <p>File\n  \"/usr/local/lib/python2.7/dist-packages/cvxpy/constraints/leq_constraint.py\",\n  line 67, in <strong>nonzero</strong></p>\n  \n  <p>Raise Exception(\"Cannot evaluate the truth value of a constraint.\")</p>\n  \n  <p>Exception: Cannot evaluate the truth value of a constraint.</p>\n</blockquote>\n\n<p>When I step to this line,</p>\n\n<pre><code>  constraints = [lamda[-1] == 1,\n                   np.dot(ABh.T, np.dot(P, ABh)) - rho**2*np.linalg.block_diag(P, 0) +\n                   np.dot(CDh.T, np.dot(Mblk, CDh)) &lt;&lt; 0]\n</code></pre>\n\n<p>it shows</p>\n\n<blockquote>\n  <p>Traceback (most recent call last):   File</p>\n  \n  <p>\".../sdp.py\", line 22, in </p>\n\n<pre><code>np.dot(ABh.T, np.dot(P, ABh)) - rho**2*np.linalg.block_diag(P, 0) + \n</code></pre>\n  \n  <p>ValueError: setting an array element with a sequence.</p>\n</blockquote>\n\n<p>How to fix these problems?</p>\n"}, {"tags": ["python", "parsing", "python-3.x"], "comments": [{"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 1, "creation_date": 1461187343, "post_id": 36755386, "comment_id": 61091088, "body": "How are you doing a default <code>split()</code> and losing the commas?"}, {"owner": {"reputation": 6738, "user_id": 906693, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ba54c2f46f424128b4ba467eb8d0e138?s=128&d=identicon&r=PG", "display_name": "roadrunner66", "link": "https://stackoverflow.com/users/906693/roadrunner66"}, "edited": false, "score": 0, "creation_date": 1461187730, "post_id": 36755386, "comment_id": 61091264, "body": "Essentially, as you can see in the first answer, you&#39;ll have to make lists for all countries. So the trick is to start a country list, then decide whether a country already exists or not, then append the city to the country list."}, {"owner": {"reputation": 55852, "user_id": 165216, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/U7Xse.jpg?s=128&g=1", "display_name": "PaulMcG", "link": "https://stackoverflow.com/users/165216/paulmcg"}, "reply_to_user": {"reputation": 6738, "user_id": 906693, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ba54c2f46f424128b4ba467eb8d0e138?s=128&d=identicon&r=PG", "display_name": "roadrunner66", "link": "https://stackoverflow.com/users/906693/roadrunner66"}, "edited": false, "score": 0, "creation_date": 1461190343, "post_id": 36755386, "comment_id": 61092313, "body": "@roadrunner66 - <code>collections.defaultdict</code> manages all of that for you"}, {"owner": {"reputation": 6738, "user_id": 906693, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ba54c2f46f424128b4ba467eb8d0e138?s=128&d=identicon&r=PG", "display_name": "roadrunner66", "link": "https://stackoverflow.com/users/906693/roadrunner66"}, "reply_to_user": {"reputation": 55852, "user_id": 165216, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/U7Xse.jpg?s=128&g=1", "display_name": "PaulMcG", "link": "https://stackoverflow.com/users/165216/paulmcg"}, "edited": false, "score": 0, "creation_date": 1461196100, "post_id": 36755386, "comment_id": 61094160, "body": "@PaulMcGuire Ty :)"}], "answers": [{"tags": [], "owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "is_accepted": false, "score": 2, "last_activity_date": 1461188078, "last_edit_date": 1461188078, "creation_date": 1461187609, "answer_id": 36755520, "question_id": 36755386, "link": "https://stackoverflow.com/questions/36755386/parsing-the-file-in-python/36755520#36755520", "title": "Parsing the file in Python", "body": "<p>Instead of directly printing everything, you could save it to a data structure like a dictionary or <code>collections.defaultdict</code>.</p>\n\n<pre><code>import collections.defaultdict as dd\nresult = dd(list)\nwith open('logfile.py', 'rU') as datafile:\n    for line in datafile:\n        city,country = map(str.strip, line.strip().split(','))\n        result[country].append(city)\n</code></pre>\n\n<p>Then print your results:</p>\n\n<pre><code>for country in result:\n    print(country+':', ', '.join(result[country]))\n</code></pre>\n\n<p>If you think there may be duplicate country/city listings and you don't want them, use <code>set</code> and <code>add</code> instead of <code>list</code> and <code>append</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 20968, "user_id": 2564301, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a6b5734cdcb5ce19598ccf9a7d8cc1ff?s=128&d=identicon&r=PG&f=1", "display_name": "Jongware", "link": "https://stackoverflow.com/users/2564301/jongware"}, "edited": false, "score": 0, "creation_date": 1461188082, "post_id": 36755581, "comment_id": 61091433, "body": "Nice \u2013 now it makes me wonder how to get that irrational spacing in the original &#39;required&#39; list."}], "tags": [], "owner": {"reputation": 21707, "user_id": 1832539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2972ae1ab4d157c88bc94654b96d47be?s=128&d=identicon&r=PG", "display_name": "idjaw", "link": "https://stackoverflow.com/users/1832539/idjaw"}, "is_accepted": true, "score": 4, "last_activity_date": 1461187877, "creation_date": 1461187877, "answer_id": 36755581, "question_id": 36755386, "link": "https://stackoverflow.com/questions/36755386/parsing-the-file-in-python/36755581#36755581", "title": "Parsing the file in Python", "body": "<p>Another approach, is using <code>defaultdict</code> from <code>collections</code> to achieve this:</p>\n\n<pre><code>from collections import defaultdict\n\ndef check():\n    d = defaultdict(list)\n    with open('logfile.py', 'rU') as datafile:\n        for line in datafile:\n            data = line.split(',')\n            d[data[1].strip()].append(data[0].strip())\n    return d\nres = check()\n\nfor k, v in res.items():\n    print(\"{} : {}\".format(k, ', '.join(v)))\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>India : New Delhi, Mumbai\nGermany : Berlin\nUSA : New York, Seattle\n</code></pre>\n"}], "owner": {"reputation": 65, "user_id": 6232504, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4ba1ec63efe2cd36ead631c25b9ce218?s=128&d=identicon&r=PG&f=1", "display_name": "Akash Deep", "link": "https://stackoverflow.com/users/6232504/akash-deep"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 89, "favorite_count": 1, "accepted_answer_id": 36755581, "answer_count": 2, "score": 3, "last_activity_date": 1461188078, "creation_date": 1461187089, "last_edit_date": 1461187190, "question_id": 36755386, "link": "https://stackoverflow.com/questions/36755386/parsing-the-file-in-python", "title": "Parsing the file in Python", "body": "<p>I have file in the following format:</p>\n\n<pre><code>Berlin, Germany \nNew Delhi , India\nNew York , USA \nMumbai , India\nSeattle, USA\n</code></pre>\n\n<p>I need to parse the file and print the output as </p>\n\n<pre><code>Germany : Berlin\nIndia: New Delhi , Mumbai \nUSA:  New York, Seattle \n</code></pre>\n\n<p>I wrote a code:</p>\n\n<pre><code>enter code here:\n\ndef check():\n    datafile=open('logfile.py','rU')\n    found=False\n    for line in datafile:\n        if 'India' in line:\n           lines=line.split()\n           print(\"India\"+\":\"+lines[0])\n        if 'Germany' in line:\n           lines=line.split()\n           print(\"Germany\"+\":\"+lines[0])\n        if 'USA' in line:\n           lines=line.split()\n           print(\"USA\"+\":\"+lines[0])\n    datafile.close()\ncheck()\n</code></pre>\n\n<p>This code is giving output as:</p>\n\n<pre><code>Germany:Berlin\nIndia:NewDelhi\nUSA:NewYork\nIndia:Mumbai\nUSA:Seattle\n</code></pre>\n\n<p>Please help.</p>\n"}, {"tags": ["python", "pandas"], "answers": [{"comments": [{"owner": {"reputation": 18736, "user_id": 308827, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/28f523030f3ecd9c9f2ad23ca745cc65?s=128&d=identicon&r=PG", "display_name": "user308827", "link": "https://stackoverflow.com/users/308827/user308827"}, "edited": false, "score": 0, "creation_date": 1461187252, "post_id": 36755349, "comment_id": 61091048, "body": "thanks @MaxU, this soln does remove the <code>type</code> column, is there a way to retain that?"}], "tags": [], "owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "is_accepted": true, "score": 1, "last_activity_date": 1461188948, "last_edit_date": 1461188948, "creation_date": 1461186968, "answer_id": 36755349, "question_id": 36755287, "link": "https://stackoverflow.com/questions/36755287/accepting-top-rows-in-pandas-dataframe-based-on-grouping/36755349#36755349", "title": "Accepting top rows in pandas dataframe based on grouping", "body": "<p><strong>UPDATE:</strong></p>\n\n<pre><code>In [166]: df.loc[df.Country_FAO.isin(df.groupby('Country_FAO').sum().nlargest(2, 'mean_area').index)]\nOut[166]:\n   Country_FAO type   mean_area        sort\n5    Australia  car  12141000.0  18910501.0\n4    Australia  car   6475695.0  18910501.0\n6    Australia  bus    293806.0  18910501.0\n0  Afghanistan  car   2029000.0   2141000.0\n1  Afghanistan  car    112000.0   2141000.0\n</code></pre>\n\n<p>i would do it this way:</p>\n\n<pre><code>In [153]: df.groupby('Country_FAO').sum()\nOut[153]:\n              mean_area\nCountry_FAO\nAfghanistan   2141000.0\nAlgeria        829351.0\nAustralia    18910501.0\n\nIn [154]: df.groupby('Country_FAO').sum().nlargest(2, 'mean_area')\nOut[154]:\n              mean_area\nCountry_FAO\nAustralia    18910501.0\nAfghanistan   2141000.0\n\nIn [155]: df.groupby('Country_FAO').sum().nlargest(2, 'mean_area').index\nOut[155]: Index(['Australia', 'Afghanistan'], dtype='object', name='Country_FAO')\n</code></pre>\n\n<p>also, you may want to reset your index:</p>\n\n<pre><code>In [156]: df.groupby('Country_FAO').sum().nlargest(2, 'mean_area').reset_index()\nOut[156]:\n   Country_FAO   mean_area\n0    Australia  18910501.0\n1  Afghanistan   2141000.0\n</code></pre>\n"}], "owner": {"reputation": 18736, "user_id": 308827, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/28f523030f3ecd9c9f2ad23ca745cc65?s=128&d=identicon&r=PG", "display_name": "user308827", "link": "https://stackoverflow.com/users/308827/user308827"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "accepted_answer_id": 36755349, "answer_count": 1, "score": 0, "last_activity_date": 1461188948, "creation_date": 1461186763, "last_edit_date": 1495535314, "question_id": 36755287, "link": "https://stackoverflow.com/questions/36755287/accepting-top-rows-in-pandas-dataframe-based-on-grouping", "title": "Accepting top rows in pandas dataframe based on grouping", "body": "<p>Related to the question here: <a href=\"https://stackoverflow.com/questions/36754958/reordering-pandas-dataframe-based-on-multiple-column-and-sum-of-one-column/36755006?noredirect=1#comment61090631_36755006\">Reordering pandas dataframe based on multiple column and sum of one column</a></p>\n\n<p>How can I accept the top 2 countries in this dataframe, when using <code>sort</code> column:\nIn this case, the top 2 countries will be Australia and Afghanistan</p>\n\n<pre><code>  Country_FAO type   mean_area        sort\n5    Australia  car  12141000.0  18910501.0\n4    Australia  car   6475695.0  18910501.0\n6    Australia  bus    293806.0  18910501.0\n0  Afghanistan  car   2029000.0   2141000.0\n1  Afghanistan  car    112000.0   2141000.0\n2      Algeria  bus    827000.0    829351.0\n3      Algeria  bus      2351.0    829351.0\n</code></pre>\n\n<p>--EDIT:</p>\n\n<p>I also want to retain the <code>type</code> column. In this case, the solution should look like:</p>\n\n<pre><code>Country_FAO type   mean_area        sort\n5    Australia  car  12141000.0  18910501.0\n4    Australia  car   6475695.0  18910501.0\n6    Australia  bus    293806.0  18910501.0\n0  Afghanistan  car   2029000.0   2141000.0\n1  Afghanistan  car    112000.0   2141000.0\n</code></pre>\n"}, {"tags": ["python", "opencv", "numpy", "scipy"], "comments": [{"owner": {"reputation": 22511, "user_id": 1695766, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/5ef1825ece036980c69dfd2683b8980a?s=128&d=identicon&r=PG", "display_name": "CrazyCasta", "link": "https://stackoverflow.com/users/1695766/crazycasta"}, "edited": false, "score": 0, "creation_date": 1461187327, "post_id": 36755280, "comment_id": 61091084, "body": "To be clear, are you saying the 1000s are in the rt array?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4414636"}, "reply_to_user": {"reputation": 22511, "user_id": 1695766, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/5ef1825ece036980c69dfd2683b8980a?s=128&d=identicon&r=PG", "display_name": "CrazyCasta", "link": "https://stackoverflow.com/users/1695766/crazycasta"}, "edited": false, "score": 0, "creation_date": 1461187369, "post_id": 36755280, "comment_id": 61091104, "body": "in the <code>R</code> array as well."}, {"owner": {"reputation": 6738, "user_id": 906693, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ba54c2f46f424128b4ba467eb8d0e138?s=128&d=identicon&r=PG", "display_name": "roadrunner66", "link": "https://stackoverflow.com/users/906693/roadrunner66"}, "edited": false, "score": 0, "creation_date": 1461187947, "post_id": 36755280, "comment_id": 61091364, "body": "Well you could scale the image back to 256, but the first thing I&#39;d think of is that the convolution kernel is not normalized, that is the integral over it is not 1."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4414636"}, "edited": false, "score": 0, "creation_date": 1461187995, "post_id": 36755280, "comment_id": 61091391, "body": "How do I normalize it?"}, {"owner": {"reputation": 6738, "user_id": 906693, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ba54c2f46f424128b4ba467eb8d0e138?s=128&d=identicon&r=PG", "display_name": "roadrunner66", "link": "https://stackoverflow.com/users/906693/roadrunner66"}, "edited": false, "score": 0, "creation_date": 1461206071, "post_id": 36755280, "comment_id": 61096630, "body": "Normalize in this meaning is that you find the sum of all elements then divide each element by the sum, so now the sum =1."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4414636"}, "edited": false, "score": 0, "creation_date": 1461213440, "post_id": 36755280, "comment_id": 61098639, "body": "I&#39;m not sure I follow. Dividing each element by sum would make sum = 1 ?"}], "answers": [{"tags": [], "owner": {"reputation": 22511, "user_id": 1695766, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/5ef1825ece036980c69dfd2683b8980a?s=128&d=identicon&r=PG", "display_name": "CrazyCasta", "link": "https://stackoverflow.com/users/1695766/crazycasta"}, "is_accepted": false, "score": 0, "last_activity_date": 1461188040, "creation_date": 1461188040, "answer_id": 36755618, "question_id": 36755280, "link": "https://stackoverflow.com/questions/36755280/scipys-convolve2d-increasing-the-values-in-array-significantly/36755618#36755618", "title": "Scipy&#39;s convolve2d increasing the values in array significantly", "body": "<p>I'm not an expert on 2D convolution but I'll explain 1D convolution and hopefully you can see how it relates to 2D convolution. Convolution is defined as the following (for discrete sequences):</p>\n\n<pre><code>(f*g)[n] = sum over all i f[i] * g[n-i]\n</code></pre>\n\n<p><code>f</code> and <code>g</code> need to have compact support (i.e. not have non-zero values off to infinity). As an example, take f and g to be:</p>\n\n<pre><code>f = 1,1,1,1\ng = 1,1,1,1\nf*g = 1,2,3,4,3,2,1\n</code></pre>\n\n<p>As you can see, the convolution of <code>f</code> and <code>g</code> results in values larger than are in the inputs of either sequence. Roughly this can be though of as <code>a+b</code> and <code>a*b</code> can result in values greater than exist in either <code>a</code> or <code>b</code>. In short, there's no reason to believe that a convolution would be limited to the input values.</p>\n\n<p>2D convolution is defined as:</p>\n\n<pre><code>(f*g)[m,n] = sum over all j sum over all i f[i,j] * g[m-i,n-j]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5226, "user_id": 7473847, "user_type": "registered", "accept_rate": 41, "profile_image": "https://i.stack.imgur.com/iZysq.png?s=128&g=1", "display_name": "Essex", "link": "https://stackoverflow.com/users/7473847/essex"}, "is_accepted": false, "score": 0, "last_activity_date": 1461188761, "creation_date": 1461188761, "answer_id": 36755794, "question_id": 36755280, "link": "https://stackoverflow.com/questions/36755280/scipys-convolve2d-increasing-the-values-in-array-significantly/36755794#36755794", "title": "Scipy&#39;s convolve2d increasing the values in array significantly", "body": "<p>You can use the librairy which is named : <a href=\"http://docs.astropy.org/en/stable/io/fits/\" rel=\"nofollow\">astropy</a>. You have lots of functions which let to make convolution etc .. You can process images / data tables etc ...</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user4414636"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 453, "favorite_count": 1, "answer_count": 2, "score": 3, "last_activity_date": 1461188761, "creation_date": 1461186745, "question_id": 36755280, "link": "https://stackoverflow.com/questions/36755280/scipys-convolve2d-increasing-the-values-in-array-significantly", "title": "Scipy&#39;s convolve2d increasing the values in array significantly", "body": "<p>I'm working with images, and the maximum values a pixel can have is 255, but on convolving after rotating the image, the value increases drastically, and reaches 1000s, hence giving me a white image. What's the reason behind this?</p>\n\n<p>Here's the code:</p>\n\n<pre><code>        h.extend([scipy.misc.imrotate(h[0], 15*i, 'bicubic') for i in range(1, 12)])\n        h = np.asarray(h)\n        print h.shape\n        R = []\n        for i in range(0, 12):\n            R.append(scipy.signal.convolve2d(self.img,  h[i], mode = 'same'))\n        R = np.asarray(R)\n        rt = np.zeros(self.img.shape)\n        x, y = self.img.shape\n        print (x,y)\n        for i in range(0, x):\n            for j in range(0, y):\n                for k in range(0, 12):\n                    if k == 0:\n                        max_er = R[k][i, j]\n                        #print max_er\n                    if(R[k][i, j]&gt;max_er):\n                        max_er = R[k][i, j]\n                rt[i, j] = max_er\n</code></pre>\n"}, {"tags": ["python", "exception"], "comments": [{"owner": {"reputation": 156940, "user_id": 416467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/32cad7487ccecc3740a62e797fc326dc?s=128&d=identicon&r=PG", "display_name": "kindall", "link": "https://stackoverflow.com/users/416467/kindall"}, "edited": false, "score": 2, "creation_date": 1461186835, "post_id": 36755248, "comment_id": 61090825, "body": "Yes. Put the code you&#39;re using to handle <code>Exception</code> in a function. Then call that function in both places."}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1461186883, "post_id": 36755248, "comment_id": 61090855, "body": "<code>except</code> clauses only catch errors thrown in the <code>try</code>; otherwise, you couldn&#39;t re-raise if you wanted to."}, {"owner": {"reputation": 7116, "user_id": 1394353, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/519ce8a904896c40b9a9e2d9a82e0d3c?s=128&d=identicon&r=PG", "display_name": "JL Peyret", "link": "https://stackoverflow.com/users/1394353/jl-peyret"}, "edited": false, "score": 1, "creation_date": 1461187217, "post_id": 36755248, "comment_id": 61091027, "body": "hmmm, can you explain what you are trying to achieve?  the standard approach to re-raising a caught exception that you&#39;ve decided not to handle after all is <code>raise</code>, without anything else.  That may or may not fit your reqs in this case.  Can&#39;t tell from your code alone."}, {"owner": {"reputation": 1153, "user_id": 599771, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/90e664e0d3b40c9f6520d080be0116d9?s=128&d=identicon&r=PG&f=1", "display_name": "rvs", "link": "https://stackoverflow.com/users/599771/rvs"}, "reply_to_user": {"reputation": 7116, "user_id": 1394353, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/519ce8a904896c40b9a9e2d9a82e0d3c?s=128&d=identicon&r=PG", "display_name": "JL Peyret", "link": "https://stackoverflow.com/users/1394353/jl-peyret"}, "edited": false, "score": 1, "creation_date": 1461191651, "post_id": 36755248, "comment_id": 61092801, "body": "I&#39;ll give even stronger suggestion than @JLPeyret: <i>Do not use exceptions for flow control</i>. What are you actually trying to achieve? There might be more elegant solution."}], "answers": [{"tags": [], "owner": {"reputation": 137021, "user_id": 567292, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/b55da07dea89fa675c7e2894c77f8024?s=128&d=identicon&r=PG", "display_name": "ecatmur", "link": "https://stackoverflow.com/users/567292/ecatmur"}, "is_accepted": true, "score": 6, "last_activity_date": 1461186885, "creation_date": 1461186885, "answer_id": 36755323, "question_id": 36755248, "link": "https://stackoverflow.com/questions/36755248/python-try-except-with-multiple-except-blocks/36755323#36755323", "title": "Python Try/Except with multiple except blocks", "body": "<p>You could add another level of <code>try</code> nesting:</p>\n\n<pre><code>try:\n    try:\n        raise KeyError()\n    except KeyError:\n        print \"Caught KeyError\"\n        raise Exception()\nexcept Exception:\n    print \"Caught Exception\"\n</code></pre>\n"}], "owner": {"reputation": 12091, "user_id": 1391717, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/oSSdx.jpg?s=128&g=1", "display_name": "Matthew Moisen", "link": "https://stackoverflow.com/users/1391717/matthew-moisen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2307, "favorite_count": 0, "accepted_answer_id": 36755323, "answer_count": 1, "score": 3, "last_activity_date": 1461186885, "creation_date": 1461186612, "question_id": 36755248, "link": "https://stackoverflow.com/questions/36755248/python-try-except-with-multiple-except-blocks", "title": "Python Try/Except with multiple except blocks", "body": "<pre><code>try:\n    raise KeyError()\nexcept KeyError:\n    print \"Caught KeyError\"\n    raise Exception()\nexcept Exception:\n    print \"Caught Exception\"\n</code></pre>\n\n<p>As expected, raising <code>Exception()</code> on the 5th line isn't caught in the final <code>except Exception</code> clause. In order the catch the exception inside of the <code>except KeyError</code> block, I have to add another <code>try...except</code> like this and duplicate the final <code>except Exception</code> logic:</p>\n\n<pre><code>try:\n    raise KeyError()\nexcept KeyError:\n    print \"Caught KeyError\"\n    try:\n        raise Exception()\n    except Exception:\n        print \"Caught Exception\"\nexcept Exception:\n    print \"Caught Exception\"\n</code></pre>\n\n<p>In Python, is it possible to pass the flow of execution to the final <code>except Exception</code> block like I am trying to do? If not, are there strategies for reducing the duplication of logic?</p>\n"}, {"tags": ["python", "ms-word", "docx"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 1, "creation_date": 1461186647, "post_id": 36755241, "comment_id": 61090722, "body": "That&#39;s not really a <i>question</i> though, is it? Please read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>."}, {"owner": {"reputation": 1, "user_id": 6232471, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8b3a431ccf76b0dba8fa62ae3cc1727?s=128&d=identicon&r=PG&f=1", "display_name": "dan", "link": "https://stackoverflow.com/users/6232471/dan"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1461186947, "post_id": 36755241, "comment_id": 61090889, "body": "made an edit, thanks for the headsup! @jonrsharpe"}, {"owner": {"reputation": 20968, "user_id": 2564301, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a6b5734cdcb5ce19598ccf9a7d8cc1ff?s=128&d=identicon&r=PG&f=1", "display_name": "Jongware", "link": "https://stackoverflow.com/users/2564301/jongware"}, "edited": false, "score": 0, "creation_date": 1461188227, "post_id": 36755241, "comment_id": 61091505, "body": "There seems to be plenty documentation available. Did you read past <a href=\"https://python-docx.readthedocs.org/en/latest/\" rel=\"nofollow noreferrer\">the very first page</a> (from which, it seems, your current code came from)?"}, {"owner": {"reputation": 1, "user_id": 6232471, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8b3a431ccf76b0dba8fa62ae3cc1727?s=128&d=identicon&r=PG&f=1", "display_name": "dan", "link": "https://stackoverflow.com/users/6232471/dan"}, "reply_to_user": {"reputation": 20968, "user_id": 2564301, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a6b5734cdcb5ce19598ccf9a7d8cc1ff?s=128&d=identicon&r=PG&f=1", "display_name": "Jongware", "link": "https://stackoverflow.com/users/2564301/jongware"}, "edited": false, "score": 0, "creation_date": 1461197437, "post_id": 36755241, "comment_id": 61094494, "body": "@RadLexus yes i did. sorry i wasn&#39;t more specific. posted an update of my code."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 6232471, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8b3a431ccf76b0dba8fa62ae3cc1727?s=128&d=identicon&r=PG&f=1", "display_name": "dan", "link": "https://stackoverflow.com/users/6232471/dan"}, "edited": false, "score": 0, "creation_date": 1461197726, "post_id": 36756598, "comment_id": 61094566, "body": "hi thanks for your response. this looks like it will modify every paragraph in the document, when i only want to modify the ending of the 0 paragraph. i&#39;ve edited my question with my last tried code. thank you!"}, {"owner": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "reply_to_user": {"reputation": 1, "user_id": 6232471, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8b3a431ccf76b0dba8fa62ae3cc1727?s=128&d=identicon&r=PG&f=1", "display_name": "dan", "link": "https://stackoverflow.com/users/6232471/dan"}, "edited": false, "score": 1, "creation_date": 1461199598, "post_id": 36756598, "comment_id": 61095090, "body": "@dan - Try: <code>existing_docx.paragraphs[0].text += your_text</code>. Better: <code>existing_docx.paragraphs[0].add_run(your_text)</code>."}, {"owner": {"reputation": 151, "user_id": 1763872, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4TK2i.jpg?s=128&g=1", "display_name": "devdc", "link": "https://stackoverflow.com/users/1763872/devdc"}, "reply_to_user": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "edited": false, "score": 0, "creation_date": 1461199804, "post_id": 36756598, "comment_id": 61095130, "body": "@Rob\u1d69 &#39;s comment is correct. This will change the first (index 0) paragraph only."}], "tags": [], "owner": {"reputation": 151, "user_id": 1763872, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4TK2i.jpg?s=128&g=1", "display_name": "devdc", "link": "https://stackoverflow.com/users/1763872/devdc"}, "is_accepted": false, "score": 0, "last_activity_date": 1461192658, "creation_date": 1461192658, "answer_id": 36756598, "question_id": 36755241, "link": "https://stackoverflow.com/questions/36755241/modifying-text-in-docx-through-python/36756598#36756598", "title": "Modifying text in docx through Python", "body": "<p>Do you mean for something like this?</p>\n\n<pre><code>from docx import Document\nexisting_docx = Document(r'path_to_existing.docx')\nfor paragraph in existing_docx.paragraphs:\n    paragraph.text = paragraph.text + your_text\nexisting_docx.save(r'same_path_or_another.docx')\n</code></pre>\n\n<p>The new docx will contain your text after every paragraph with the code above.</p>\n"}, {"tags": [], "owner": {"reputation": 154, "user_id": 1525042, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YlMqL.jpg?s=128&g=1", "display_name": "Jggrnaut", "link": "https://stackoverflow.com/users/1525042/jggrnaut"}, "is_accepted": false, "score": 0, "last_activity_date": 1461199688, "creation_date": 1461199688, "answer_id": 36757694, "question_id": 36755241, "link": "https://stackoverflow.com/questions/36755241/modifying-text-in-docx-through-python/36757694#36757694", "title": "Modifying text in docx through Python", "body": "<p>To get paragraph 0 try:</p>\n\n<p><code>para = doc.paragraphs[0]</code></p>\n"}, {"tags": [], "owner": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "is_accepted": false, "score": 1, "last_activity_date": 1461199753, "creation_date": 1461199753, "answer_id": 36757701, "question_id": 36755241, "link": "https://stackoverflow.com/questions/36755241/modifying-text-in-docx-through-python/36757701#36757701", "title": "Modifying text in docx through Python", "body": "<pre><code>import docx\ndoc = docx.Document(\"C:\\Users\\xxx\\Desktop\\test.docx\")\ndoc.paragraphs[0].add_run(\"hello\")\ndoc.save(\"C:\\Users\\xxx\\Desktop\\test.docx\")\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 6232471, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8b3a431ccf76b0dba8fa62ae3cc1727?s=128&d=identicon&r=PG&f=1", "display_name": "dan", "link": "https://stackoverflow.com/users/6232471/dan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1277, "favorite_count": 0, "answer_count": 3, "score": -1, "last_activity_date": 1461246550, "creation_date": 1461186590, "last_edit_date": 1461246550, "question_id": 36755241, "link": "https://stackoverflow.com/questions/36755241/modifying-text-in-docx-through-python", "title": "Modifying text in docx through Python", "body": "<p>I am currently trying to open an existing Word document, modify a line by inserting a raw input at the end, then save it as an overwrite to the original \"DOCX\". I am using the \"DOCX\" module. I'm able to create a new document, write in it, then save it... however cannot figure out how to modify an existing line in an existing \"DOCX\". </p>\n\n<p><code>doc = docx.Document()\n paragraph = doc.add_paragraph()</code></p>\n\n<p>so far, i've tried this out.. the problem is the paragraph i need to modify is paragraph 0, and this code places my text at the bottom of the page on a new paragraph. </p>\n\n<pre><code>import docx\nparagraph = doc.add_paragraph()\ndoc = docx.Document(\"C:\\Users\\xxx\\Desktop\\test.docx\")\ndoc.add_paragraph(\"hello\")\ndocx.text.paragraph.Paragraph object at 0x03697170\ndoc.save(\"C:\\Users\\xxx\\Desktop\\test.docx\")\n</code></pre>\n\n<p>How can I go about instructing python to write at the end of an existing string in a paragraph then save it overwriting the original?</p>\n"}, {"tags": ["python"], "answers": [{"tags": [], "owner": {"reputation": 10604, "user_id": 5230901, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/85fb790721ad6b8004cbcb9c9d35c24c?s=128&d=identicon&r=PG&f=1", "display_name": "Pythonista", "link": "https://stackoverflow.com/users/5230901/pythonista"}, "is_accepted": true, "score": 3, "last_activity_date": 1461187692, "last_edit_date": 1461187692, "creation_date": 1461187375, "answer_id": 36755456, "question_id": 36755214, "link": "https://stackoverflow.com/questions/36755214/writing-beautiful-soup-output-to-csv/36755456#36755456", "title": "writing beautiful soup output to CSV", "body": "<p>Maybe something like this?</p>\n\n<pre><code>from bs4 import BeautifulSoup\nimport requests \nimport csv\n....\nr = requests.get(url)\nsoup = BeautifulSoup(r.content)\nprice = soup.find_all(\"div\",{\"class\":\"property-card-price-container\"})\naddress = soup.find_all(\"div\",{\"class\":\"property-card-subtitle\"})\n\ndataset = [(x.text, y.text) for x,y in zip(price, address)]\n\nwith open(\"output.csv\", \"w\", newline='') as csvfile:\n    writer = csv.writer(csvfile)\n    for data in dataset[:150]: #truncate to 150 rows\n        writer.writerow(data)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 682, "user_id": 6194443, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153564193118595/picture?type=large", "display_name": "Steve Cohen", "link": "https://stackoverflow.com/users/6194443/steve-cohen"}, "is_accepted": false, "score": 0, "last_activity_date": 1461188905, "creation_date": 1461188905, "answer_id": 36755831, "question_id": 36755214, "link": "https://stackoverflow.com/questions/36755214/writing-beautiful-soup-output-to-csv/36755831#36755831", "title": "writing beautiful soup output to CSV", "body": "<p>There are a few problems with your code.  Getting the prices and addresses into separate lists risks the site switching the order of the items, etc. and getting them mixed up.  When scraping entries like this it is important to first find the larger enclosing container, then narrow down from there.</p>\n\n<p>Unfortunately the URL you provided is no longer valid.  As such I just browsed to another set of listings for this example:</p>\n\n<pre><code>from bs4 import BeautifulSoup\nimport requests\nimport csv\n\nurl = 'http://www.trademe.co.nz/property/residential-property-for-sale'\nurl += '/waikato/view-list'\n\nr = requests.get(url)\nsoup = BeautifulSoup(r.content, 'html5lib')\n\nwith open('output.csv', 'w', newline='') as csvfile:\n\n    propertyWriter = csv.writer(csvfile, quoting=csv.QUOTE_ALL)\n\n    for listing in soup.find_all('div',\n                                 {'class': 'property-list-view-card'}):\n        price = listing.find_all('div',\n                                 {'class': 'property-card-price-container'})\n        address = listing.find_all('div',\n                                   {'class': 'property-card-subtitle'})\n\n        propertyWriter.writerow([price[0].text.strip(),\n                                 address[0].text.strip()])\n</code></pre>\n"}], "owner": {"reputation": 65, "user_id": 6111442, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c4b658c6ce46f2d22c34da657ca286a8?s=128&d=identicon&r=PG&f=1", "display_name": "J.ma", "link": "https://stackoverflow.com/users/6111442/j-ma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5538, "favorite_count": 1, "accepted_answer_id": 36755456, "answer_count": 2, "score": 2, "last_activity_date": 1461189436, "creation_date": 1461186499, "last_edit_date": 1461189436, "question_id": 36755214, "link": "https://stackoverflow.com/questions/36755214/writing-beautiful-soup-output-to-csv", "title": "writing beautiful soup output to CSV", "body": "<p>I want to write prices and corresponding addresses to a CSV file in Excel. I have this code so far which gives the output shown below in the photo.</p>\n\n<p>What I want is a column for price first and a column for the address second.</p>\n\n<pre><code>[![from bs4 import BeautifulSoup\nimport requests \nimport csv\n\n\nnumber = \"1\"\nurl = \"http://www.trademe.co.nz/browse/categoryattributesearchresults.aspx?cid=5748&amp;search=1&amp;v=list&amp;134=1&amp;nofilters=1&amp;originalsidebar=1&amp;key=1654466070&amp;page=\" + number + \"&amp;sort_order=prop_default&amp;rptpath=350-5748-3399-\"\nr= requests.get(url)\nsoup = BeautifulSoup(r.content)\n\n\noutput_file= open(\"output.csv\",\"w\")\n\nprice = soup.find_all(\"div\",{\"class\":\"property-card-price-container\"})\n\naddress = soup.find_all(\"div\",{\"class\":\"property-card-subtitle\"})\n\n\nn = 1\nwhile n != 150:\n    b = (price\\[n\\].text)\n    b = str(b)\n    n = n + 1\n    output_file.write(b)\n\noutput_file.close()][1]][1]\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/wHd4E.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wHd4E.png\" alt=\"l\"></a></p>\n"}, {"tags": ["python", "readfile"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 1, "creation_date": 1461186439, "post_id": 36755174, "comment_id": 61090589, "body": "OK, so what have you tried and what&#39;s the problem with it? SO is neither a code-writing nor tutorial service."}, {"owner": {"reputation": 4275, "user_id": 2930045, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/HSbSx.jpg?s=128&g=1", "display_name": "DuckPuncher", "link": "https://stackoverflow.com/users/2930045/duckpuncher"}, "edited": false, "score": 1, "creation_date": 1461186441, "post_id": 36755174, "comment_id": 61090590, "body": "Looks like a duplicate. Here is the answer. <a href=\"http://stackoverflow.com/a/4917044/2930045\">stackoverflow.com/a/4917044/2930045</a>"}, {"owner": {"reputation": 623, "user_id": 4618553, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64dbdd775be16db289526044e035ee18?s=128&d=identicon&r=PG&f=1", "display_name": "kirkpatt", "link": "https://stackoverflow.com/users/4618553/kirkpatt"}, "reply_to_user": {"reputation": 4275, "user_id": 2930045, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/HSbSx.jpg?s=128&g=1", "display_name": "DuckPuncher", "link": "https://stackoverflow.com/users/2930045/duckpuncher"}, "edited": false, "score": 0, "creation_date": 1461186609, "post_id": 36755174, "comment_id": 61090695, "body": "@DuckPuncher That&#39;s for a JSON file, the question is about a regular file. See <a href=\"http://stackoverflow.com/questions/4803999/python-file-to-dictionary\" title=\"python file to dictionary\">stackoverflow.com/questions/4803999/python-file-to-dictionar&zwnj;&#8203;y</a> for that."}], "answers": [{"tags": [], "owner": {"reputation": 15852, "user_id": 2294755, "user_type": "registered", "accept_rate": 23, "profile_image": "https://i.stack.imgur.com/moDhz.jpg?s=128&g=1", "display_name": "Hackaholic", "link": "https://stackoverflow.com/users/2294755/hackaholic"}, "is_accepted": false, "score": 0, "last_activity_date": 1461186510, "creation_date": 1461186510, "answer_id": 36755217, "question_id": 36755174, "link": "https://stackoverflow.com/questions/36755174/how-do-i-load-a-text-file-into-dictionary-in-python/36755217#36755217", "title": "How do I load a text file into dictionary in Python?", "body": "<p>you can use <code>ast.literal_eval</code></p>\n\n<pre><code>with open(\"your_file.txt\") as f:\n    for line in f:\n        my_dict = ast.literal_eval(line.strip())\n        # play wiht you dict here now\n</code></pre>\n\n<p>Demo:</p>\n\n<pre><code>&gt;&gt;&gt; mystr = '{\"a\":1, \"b\":2}\\n'\n&gt;&gt;&gt; k = ast.literal_eval(mystr.strip())\n&gt;&gt;&gt; k\n{'a': 1, 'b': 2}\n&gt;&gt;&gt; type(k)\n&lt;type 'dict'&gt;\n&gt;&gt;&gt; k['a']\n1\n</code></pre>\n"}], "owner": {"reputation": 641, "user_id": 5436736, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh6.googleusercontent.com/-GHpscy_8Q2o/AAAAAAAAAAI/AAAAAAAAABI/jXg44wDImcM/photo.jpg?sz=128", "display_name": "Tahir Raza", "link": "https://stackoverflow.com/users/5436736/tahir-raza"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 141, "favorite_count": 0, "closed_date": 1461186524, "answer_count": 1, "score": -1, "last_activity_date": 1461186510, "creation_date": 1461186343, "question_id": 36755174, "link": "https://stackoverflow.com/questions/36755174/how-do-i-load-a-text-file-into-dictionary-in-python", "closed_reason": "Duplicate", "title": "How do I load a text file into dictionary in Python?", "body": "<p>I have some text files with a format like this</p>\n\n<pre><code>{\"key\":\"value\", \"key\":\"value\", \"key\":\"value\"}\n\n{\"key\":\"value\", \"key\":\"value\", \"key\":\"value\"}\n</code></pre>\n\n<p>There's a new line character after every string. Basically it has multiple dictionaries and I want to read some specific values from them one by one.</p>\n"}, {"tags": ["python", "mysql", "pandas"], "comments": [{"owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "edited": false, "score": 0, "creation_date": 1461186565, "post_id": 36755165, "comment_id": 61090661, "body": "what is your pandas version?"}, {"owner": {"reputation": 524, "user_id": 3684651, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/7a7c14b50aa4fcdfecd18696004a1699?s=128&d=identicon&r=PG&f=1", "display_name": "j riot", "link": "https://stackoverflow.com/users/3684651/j-riot"}, "reply_to_user": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "edited": false, "score": 0, "creation_date": 1461186649, "post_id": 36755165, "comment_id": 61090723, "body": "Python Version 2.7.9"}, {"owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "edited": false, "score": 0, "creation_date": 1461186748, "post_id": 36755165, "comment_id": 61090780, "body": "I mean <b>pandas</b> version - you can check it in <code>pandas.__version__</code> variable"}, {"owner": {"reputation": 524, "user_id": 3684651, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/7a7c14b50aa4fcdfecd18696004a1699?s=128&d=identicon&r=PG&f=1", "display_name": "j riot", "link": "https://stackoverflow.com/users/3684651/j-riot"}, "reply_to_user": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "edited": false, "score": 0, "creation_date": 1461186907, "post_id": 36755165, "comment_id": 61090866, "body": "Oh yes sorry, Pandas 0.14.1"}, {"owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "edited": false, "score": 0, "creation_date": 1461187054, "post_id": 36755165, "comment_id": 61090938, "body": "you&#39;ll have to upgrade your pandas in order to be able to use this parameter"}, {"owner": {"reputation": 524, "user_id": 3684651, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/7a7c14b50aa4fcdfecd18696004a1699?s=128&d=identicon&r=PG&f=1", "display_name": "j riot", "link": "https://stackoverflow.com/users/3684651/j-riot"}, "reply_to_user": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "edited": false, "score": 0, "creation_date": 1461189706, "post_id": 36755165, "comment_id": 61092076, "body": "Yep! Thank you for the information."}], "answers": [{"tags": [], "owner": {"reputation": 34745, "user_id": 1494637, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/a50559f059e0621b4f543bcda9aad0a6?s=128&d=identicon&r=PG&f=1", "display_name": "Stefan", "link": "https://stackoverflow.com/users/1494637/stefan"}, "is_accepted": true, "score": 1, "last_activity_date": 1466520223, "last_edit_date": 1466520223, "creation_date": 1461186761, "answer_id": 36755286, "question_id": 36755165, "link": "https://stackoverflow.com/questions/36755165/read-sql-chunksize-error/36755286#36755286", "title": "read_sql chunksize error", "body": "<p>The <code>chunksize</code> parameter for <code>pandas.read_sql_query</code> was introduced between <code>pandas</code> versions <code>0.14</code> and <code>0.15</code>, so you likely have an older version. Update if you can.</p>\n"}], "owner": {"reputation": 524, "user_id": 3684651, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/7a7c14b50aa4fcdfecd18696004a1699?s=128&d=identicon&r=PG&f=1", "display_name": "j riot", "link": "https://stackoverflow.com/users/3684651/j-riot"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 554, "favorite_count": 0, "accepted_answer_id": 36755286, "answer_count": 1, "score": 2, "last_activity_date": 1466520223, "creation_date": 1461186321, "last_edit_date": 1466520215, "question_id": 36755165, "link": "https://stackoverflow.com/questions/36755165/read-sql-chunksize-error", "title": "read_sql chunksize error", "body": "<p>I have a data-set (14gb) and I am trying to pull the data in from MySQL using <code>chunksize</code>. However, I continue to get the following error: </p>\n\n<pre><code>TypeError: read_sql_query() got an unexpected keyword argument 'chunksize'\n</code></pre>\n\n<p>Here is my code:</p>\n\n<pre><code>for chunk in pandas.read_sql_query(sql = SQL_QUERY, con = MYSQL_PHOENIX, chunksize = 10000):\n    DO STUFF TO chunk\n</code></pre>\n\n<p>I cannot for the life of me figure out why it is producing this error.</p>\n\n<p>Thank you!</p>\n"}, {"tags": ["python", "c", "python-c-api", "numerical-integration", "python-extensions"], "comments": [{"owner": {"reputation": 116557, "user_id": 918959, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/b9051b2917c3d55d55b3d7042fa49f6c?s=128&d=identicon&r=PG", "display_name": "Antti Haapala", "link": "https://stackoverflow.com/users/918959/antti-haapala"}, "edited": false, "score": 0, "creation_date": 1461186603, "post_id": 36755127, "comment_id": 61090692, "body": "Integration is a wrong tag here - please take time to read the tag descriptions."}, {"owner": {"reputation": 3184, "user_id": 447599, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/16869820699afa8b6b6d358e9234f1d7?s=128&d=identicon&r=PG", "display_name": "Jules G.M.", "link": "https://stackoverflow.com/users/447599/jules-g-m"}, "edited": false, "score": 0, "creation_date": 1461188055, "post_id": 36755127, "comment_id": 61091421, "body": "what have you tried? where does the quad function come from? how about <a href=\"https://en.m.wikipedia.org/wiki/Monte_Carlo_integration\" rel=\"nofollow noreferrer\">monte carlo integration</a>"}, {"owner": {"reputation": 21, "user_id": 5488841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/514f47eb79e58bbdc559ee856185ee5d?s=128&d=identicon&r=PG&f=1", "display_name": "sunra", "link": "https://stackoverflow.com/users/5488841/sunra"}, "reply_to_user": {"reputation": 3184, "user_id": 447599, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/16869820699afa8b6b6d358e9234f1d7?s=128&d=identicon&r=PG", "display_name": "Jules G.M.", "link": "https://stackoverflow.com/users/447599/jules-g-m"}, "edited": false, "score": 0, "creation_date": 1461189255, "post_id": 36755127, "comment_id": 61091906, "body": "@Julius the first code block is python calling scipy.integrate.quad. Using quad to integrate the inner integral works, but is still slow for the limits I&#39;m using. Thank you for monte carlo, I&#39;ll look into that as a possible option, but the C code is so fast over the inner integral, I&#39;m sure if I could figure out how to do this in C it will be very useful in the future."}, {"owner": {"reputation": 3184, "user_id": 447599, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/16869820699afa8b6b6d358e9234f1d7?s=128&d=identicon&r=PG", "display_name": "Jules G.M.", "link": "https://stackoverflow.com/users/447599/jules-g-m"}, "edited": false, "score": 0, "creation_date": 1461190363, "post_id": 36755127, "comment_id": 61092325, "body": "it&#39;s already in Fortran <a href=\"https://github.com/scipy/scipy/blob/v0.17.0/scipy/integrate/quadpack.py#L45-L360\" rel=\"nofollow noreferrer\">github.com/scipy/scipy/blob/v0.17.0/scipy/integrate/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 5488841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/514f47eb79e58bbdc559ee856185ee5d?s=128&d=identicon&r=PG&f=1", "display_name": "sunra", "link": "https://stackoverflow.com/users/5488841/sunra"}, "edited": false, "score": 0, "creation_date": 1461190806, "post_id": 36756084, "comment_id": 61092503, "body": "Thanks, I have written a pure python implementation using quad and dblquad, but this takes days (probably over a week) to run and I&#39;m limited to 5 days max mainframe time. It is clear from comparing just the inner integral the C-extension module is orders of magnitude faster. I would like to rewrite the extension mod so that calc.gauss1 can integrate over calc.gauss2, thus replacing all integration in python, but I&#39;m limited in my coding skills."}, {"owner": {"reputation": 21, "user_id": 5488841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/514f47eb79e58bbdc559ee856185ee5d?s=128&d=identicon&r=PG&f=1", "display_name": "sunra", "link": "https://stackoverflow.com/users/5488841/sunra"}, "edited": false, "score": 0, "creation_date": 1461190984, "post_id": 36756084, "comment_id": 61092558, "body": "Ok, I&#39;v just seen your edit. I&#39;ll look into multithreading, but again that&#39;s something I have no experience with."}, {"owner": {"reputation": 3184, "user_id": 447599, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/16869820699afa8b6b6d358e9234f1d7?s=128&d=identicon&r=PG", "display_name": "Jules G.M.", "link": "https://stackoverflow.com/users/447599/jules-g-m"}, "reply_to_user": {"reputation": 21, "user_id": 5488841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/514f47eb79e58bbdc559ee856185ee5d?s=128&d=identicon&r=PG&f=1", "display_name": "sunra", "link": "https://stackoverflow.com/users/5488841/sunra"}, "edited": false, "score": 0, "creation_date": 1461191636, "post_id": 36756084, "comment_id": 61092797, "body": "it&#39;s pretty simple <a href=\"http://www.cplusplus.com/reference/thread/thread/\" rel=\"nofollow noreferrer\">cplusplus.com/reference/thread/thread</a> just remember if you pass pointers that threads share out of function memory space"}], "tags": [], "owner": {"reputation": 3184, "user_id": 447599, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/16869820699afa8b6b6d358e9234f1d7?s=128&d=identicon&r=PG", "display_name": "Jules G.M.", "link": "https://stackoverflow.com/users/447599/jules-g-m"}, "is_accepted": false, "score": 0, "last_activity_date": 1461190672, "last_edit_date": 1461190672, "creation_date": 1461189996, "answer_id": 36756084, "question_id": 36755127, "link": "https://stackoverflow.com/questions/36755127/equivalent-of-python-lambda-function-for-c-python-extensions/36756084#36756084", "title": "Equivalent of python lambda function for C (Python Extensions)", "body": "<p>Maybe the source code for scipy integrate quad is a good place to start if you haven't looked there : <a href=\"https://github.com/scipy/scipy/blob/v0.17.0/scipy/integrate/quadpack.py#L45-L360\" rel=\"nofollow\">https://github.com/scipy/scipy/blob/v0.17.0/scipy/integrate/quadpack.py#L45-L360</a></p>\n\n<p>Looks like most of the work is already being done by native Fortran code, which is normally either as fast or faster than C/C++ code. You will be hard pressed to improve on that, unless you create/find a CUDA implementation.</p>\n\n<p>You make the Fortran code multithreaded, if it's not already and the source is open. Lastly, you could make a threading dispatcher in C/Fortran  (python doesn't support real threading because of the GIL) and just make your calls to quad parallel from one another atleast. Interfacing calc directly with Fortran quad would probably save you some decent overhead too.</p>\n"}], "owner": {"reputation": 21, "user_id": 5488841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/514f47eb79e58bbdc559ee856185ee5d?s=128&d=identicon&r=PG&f=1", "display_name": "sunra", "link": "https://stackoverflow.com/users/5488841/sunra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 219, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1461190672, "creation_date": 1461186158, "last_edit_date": 1461189663, "question_id": 36755127, "link": "https://stackoverflow.com/questions/36755127/equivalent-of-python-lambda-function-for-c-python-extensions", "title": "Equivalent of python lambda function for C (Python Extensions)", "body": "<p>I'v written a Python extension module with C to speed up computation times. The first step is a 2D integration of a function f(x,y,k), which is very fast and allows me to integrate over y in [y1(x),y2(x)] and x in [a,b] whilst assigning a float to k. But I really need to integrate k over the range [c,d]. Currently, I'm doing something like this in Python</p>\n\n<pre><code>inner = lambda k: calc.kernel(l,k,ki)\nI = quad(inner,c,d)[0]\n</code></pre>\n\n<p>where calc is my C-extension module and calc.kernel calls gauss2 to perform 2D integration. l and ki are just other variables. But with my data, quad still takes many hours to finish. I would like to do all calculations within the C-extension module, but I'm really stumped on how to implement this outer integral. Here is my C-code</p>\n\n<pre><code>#include &lt;Python.h&gt;\n#include &lt;math.h&gt;\n\ndouble A96[96]={        /* abscissas for 96-point Gauss   quadrature */\n    };\n\ndouble W96[96]={            /* weights for 96-point Gauss quadrature */\n    };\n\ndouble Y1(double x){\n    return 0;\n    }\n\ndouble Y2(double x){\n    return x;\n    }\n\ndouble gauss1(double F(double),double a,double b)\n{ /* 96-pt Gauss qaudrature integrates F(x) from a to b */\nint i;\ndouble cx,dx,q;\ncx=(a+b)/2;\ndx=(b-a)/2;\nq=0;\nfor(i=0;i&lt;48;i++)\n    q+=W96[i]*(F(cx-dx*A96[i])+F(cx+dx*A96[i]));\nreturn(q*dx);\n}\n\ndouble gauss2(double F(double,double,int,double,double),double Y1(double),double Y2(double),double a,double b,int l,double k, double ki)\n{/* 96x96-pt 2-D Gauss qaudrature integrates\n           F(x,y) from y=Y1(x) to Y2(x) and x=a to b */\nint i,j,h;\ndouble cx,cy,dx,dy,q,w,x,y1,y2;\ncx=(a+b)/2;\ndx=(b-a)/2;\nq=0;\nfor(i=0;i&lt;48;i++)\n    {\n    for(h=-1;h&lt;=1;h+=2)\n        {\n        x=cx+h*dx*A96[i];\n        y1=Y1(x);\n        y2=Y2(x);\n        cy=(y1+y2)/2;\n        dy=(y2-y1)/2;\n        w=dy*W96[i];\n        for(j=0;j&lt;48;j++)\n            q+=w*W96[j]*(F(x,cy-dy*A96[j],l,k,ki)+F(x,cy+dy*A96[j],l,k,ki));\n        }\n    }\nreturn(q*dx);\n}\n\ndouble ps_fact(double z){\n    double M = 0.3;\n    return 3/2*(M*(1+z)*(1+z)*(1+z) + (1-M))*(M*(1+z)*(1+z)*(1+z) + (1-M))*(M*(1+z)*(1+z)*(1+z) + (1-M))/(1+z)/(1+z);\n    }\ndouble drdz(double z){\n    double M = 0.3;\n    return 3000/sqrt(M*(1+z)*(1+z)*(1+z) + (1-M));\n}\n\ndouble rInt(double z){\n    double M = 0.3;\n    return 3000/sqrt(M*(1+z)*(1+z)*(1+z) + (1-M));\n}\n\ndouble kernel_func ( double y , double x, int l,double k, double ki) {\n    return ps_fact(y)*ki*rInt(x)*sqrt(M_PI/2/rInt(x))*jn(l+0.5,ki*rInt(x))*drdz(x)*(rInt(x)-rInt(y))/rInt(y)*sqrt(M_PI/2/rInt(y))*jn(l+0.5,k*rInt(y))*drdz(y);\n}\n\nstatic PyObject* calc(PyObject* self, PyObject* args)\n{\n    int l;\n    double k, ki;\n    if (!PyArg_ParseTuple(args, \"idd\", &amp;l, &amp;k, &amp;ki))\n        return NULL;\n\n    double res;\n    res = gauss2(kernel_func,Y1, Y2, 0,10,l, k, ki);\n\n    return Py_BuildValue(\"d\", res);\n}\n\nstatic PyMethodDef CalcMethods[] = {\n    {\"kernel\", calc, METH_VARARGS, \"Calculates kernel values.\"},\n    {NULL, NULL, 0, NULL}\n};\n\nPyMODINIT_FUNC initcalc(void){\n    (void) Py_InitModule(\"calc\", CalcMethods);\n</code></pre>\n\n<p>A96 and W96 both contain the points for the Gaussian quadrature, so don't worry that they are empty here. I should add I don't take any credit for the functions gauss1 and gauss2.</p>\n\n<p>EDIT: python code was wrong - edited now.</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 10490, "user_id": 513951, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/6cace4406e1ea825e78ec0134a5ea6fd?s=128&d=identicon&r=PG&f=1", "display_name": "user513951", "link": "https://stackoverflow.com/users/513951/user513951"}, "edited": false, "score": 0, "creation_date": 1461186374, "post_id": 36755083, "comment_id": 61090554, "body": "I don&#39;t think there&#39;s a way to salvage this question that won&#39;t end up with it being closed. However, here is the equation with parentheses that work: <code>0.31*0.29&#47;0.26&#47;(0.31*0.29&#47;0.26+(1-0.31)*(1-0.29)&#47;(1-0.26))</code>"}], "answers": [{"tags": [], "owner": {"reputation": 6767, "user_id": 115237, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/570a47e65703a42a23d0d5348fdee48b?s=128&d=identicon&r=PG", "display_name": "Noel Evans", "link": "https://stackoverflow.com/users/115237/noel-evans"}, "is_accepted": false, "score": 0, "last_activity_date": 1461186250, "creation_date": 1461186250, "answer_id": 36755147, "question_id": 36755083, "link": "https://stackoverflow.com/questions/36755083/written-equation-to-python-code/36755147#36755147", "title": "Written Equation To Python Code", "body": "<pre><code>(((.310 * .290) / .260) / (((.310 * .290) / .260) + ( (1-.310) * (1 - .290) / (1 - .260))))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "is_accepted": true, "score": 1, "last_activity_date": 1461216817, "last_edit_date": 1461216817, "creation_date": 1461186558, "answer_id": 36755232, "question_id": 36755083, "link": "https://stackoverflow.com/questions/36755083/written-equation-to-python-code/36755232#36755232", "title": "Written Equation To Python Code", "body": "<p>You need to group the both the expression under the division bar in parentheses:</p>\n\n<pre><code>&gt;&gt;&gt; (\n...     (.310 * .290) / .260\n...     /\n...     (\n...         (.310 * .290) / .260\n...         +\n...         ((1 - .310) * (1 - .290) / (1 - .260))\n...     )\n... )\n0.3430943785456421\n</code></pre>\n\n<p>This ensures that the addition of the two parts under the bar takes place <em>before</em> dividing the upper expression result.</p>\n\n<p>You didn't do that in your attempt, so you essentially get this instead:</p>\n\n<pre><code>(\n    ((.310 * .290) / .260)\n    /\n    (.310 * .290)\n    /\n    (\n        .260\n        + \n        (\n            (1 - .310) * (1 - .290) / 1\n            -\n            .260\n        )\n    )\n)\n</code></pre>\n\n<p>I split both my and your attempts out according to precedence rules. Notice the difference?</p>\n\n<p>The result of <code>(.310 * .290)</code> should first be divided <code>.260</code> and have the rest of the expression under the bar summed to it; your version divides the outcome from above the bar by that much first, then <em>that</em> result is divided by the outcome of <code>.260 + ...</code>. That's not the same expression.</p>\n\n<p>Some of the parentheses even in the original expression are redundant. Multiplication and division goes before addition and subtraction, so we can remove parentheses around multiplication and division:</p>\n\n<pre><code>(\n     .310 * .290 / .260\n     /\n     (.310 * .290 / .260 + (1 - .310) * (1 - .290) / (1 - .260))\n)\n</code></pre>\n\n<p>or all on one line:</p>\n\n<pre><code>&gt;&gt;&gt; .310 * .290 / .260 / (.310 * .290 / .260 + (1 - .310) * (1 - .290) / (1 - .260))\n0.3430943785456421\n</code></pre>\n"}], "owner": {"reputation": 738, "user_id": 2266768, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/41ebc65e6241823951627e40da79d9c0?s=128&d=identicon&r=PG", "display_name": "Ravash Jalil", "link": "https://stackoverflow.com/users/2266768/ravash-jalil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "closed_date": 1461783177, "accepted_answer_id": 36755232, "answer_count": 2, "score": -6, "last_activity_date": 1461217077, "creation_date": 1461186014, "last_edit_date": 1461217077, "question_id": 36755083, "link": "https://stackoverflow.com/questions/36755083/written-equation-to-python-code", "closed_reason": "Not suitable for this site", "title": "Written Equation To Python Code", "body": "<p>How can I get this equation in python code.  Its supposed to equal .343 but when I type it out I always get something else.  When I calculate it on paper I'm able to get it but in excel/python I'm unable to.</p>\n\n<p><a href=\"https://i.stack.imgur.com/cZAOp.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cZAOp.gif\" alt=\"Equation\"></a></p>\n\n<p>What I have tried:</p>\n\n<pre><code>((.310*.290)/.260)/(.310*.290)/(.260+((1-.310)*(1-.290)/1-.260))\n</code></pre>\n\n<p>which gives me <code>7.85</code></p>\n"}, {"tags": ["python", "opencv", "video", "colors", "tracking"], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 6232437, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9660ff6af76e48dda4c1ca8b8ead9376?s=128&d=identicon&r=PG&f=1", "display_name": "abercegeay", "link": "https://stackoverflow.com/users/6232437/abercegeay"}, "edited": false, "score": 0, "creation_date": 1461366085, "post_id": 36760067, "comment_id": 61182975, "body": "This wasn&#39;t exactly what I was looking for, but it works very well and just the same. Thank you!"}], "tags": [], "owner": {"reputation": 2174, "user_id": 5876041, "user_type": "registered", "accept_rate": 90, "profile_image": "https://lh5.googleusercontent.com/-CBOOazSg3-c/AAAAAAAAAAI/AAAAAAAAAao/6MQIFAQGtGY/photo.jpg?sz=128", "display_name": "Saransh Kejriwal", "link": "https://stackoverflow.com/users/5876041/saransh-kejriwal"}, "is_accepted": true, "score": 0, "last_activity_date": 1461214964, "creation_date": 1461214964, "answer_id": 36760067, "question_id": 36755069, "link": "https://stackoverflow.com/questions/36755069/black-out-areas-of-video-frame-in-python/36760067#36760067", "title": "Black-out Areas of Video Frame in Python", "body": "<p>Given that your camera is stationary, I'm assuming that the blue taped lines will not be moving in the video frame. With that said, this is the algorithm you follow:</p>\n\n<p>-calculate the approximate region of interest rectangle in your image. You'd need to get the approximate values of- 1. The top left point from where the tracking should begin, say (x,y), and the height and width of the rect to be tracked. Use the image below for reference.<a href=\"https://i.stack.imgur.com/SlvIg.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SlvIg.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>Once you have x,y,w,h, you can extract the portion of the image inside the rectangle as shown:</p>\n\n<pre><code>img2=img[x:x+w,y:y+h]\n</code></pre>\n\n<p>You can now run a standard color filter on img2, to track the ball on top of the bot</p>\n"}], "owner": {"reputation": 13, "user_id": 6232437, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9660ff6af76e48dda4c1ca8b8ead9376?s=128&d=identicon&r=PG&f=1", "display_name": "abercegeay", "link": "https://stackoverflow.com/users/6232437/abercegeay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 534, "favorite_count": 0, "accepted_answer_id": 36760067, "answer_count": 1, "score": 1, "last_activity_date": 1461214964, "creation_date": 1461185931, "last_edit_date": 1461188078, "question_id": 36755069, "link": "https://stackoverflow.com/questions/36755069/black-out-areas-of-video-frame-in-python", "title": "Black-out Areas of Video Frame in Python", "body": "<p>Right now I have a script in python that allows me to track a colored ball in a video file. We're testing a robots velocity using a stationary camera, so I only need to track the color over a small span of the video's actual frame area and the rest can be discarded/ignored. Right now, my process is to trim the video trials to only what I need to be tracked, but with 15 trials per test, it becomes very time consuming.</p>\n\n<p><a href=\"http://i.stack.imgur.com/Xo4nF.png\" rel=\"nofollow\">black out the sides of the video not within the blue lines</a></p>\n\n<p>Basically, how would I go about \"blacking out\" two sides of the video's area so that the color tracking isn't initiated until the robot enters the desired area?</p>\n"}, {"tags": ["python"], "answers": [{"tags": [], "owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "is_accepted": true, "score": 4, "last_activity_date": 1461186152, "creation_date": 1461186152, "answer_id": 36755125, "question_id": 36755043, "link": "https://stackoverflow.com/questions/36755043/how-do-you-set-placeholders-in-python-when-there-are-syntax-identical-non-placeh/36755125#36755125", "title": "How do you set placeholders in python when there are syntax-identical non-placeholders in the text that should be formatted?", "body": "<p>When you create your templates, double any braces that don't delimit format placeholders:</p>\n\n<pre><code>google.charts.load('current', {{'packages':['corechart']}});\n</code></pre>\n\n<p><code>str.format</code> will convert double braces to single braces instead of treating them as format placeholders.</p>\n\n<p>If you can't do this, you're basically screwed. Your input format was badly designed, and you're paying the price.</p>\n"}], "owner": {"reputation": 621, "user_id": 4946454, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/d5e76d9d308b18a8041d227ab14fac02?s=128&d=identicon&r=PG&f=1", "display_name": "rwx", "link": "https://stackoverflow.com/users/4946454/rwx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35, "favorite_count": 0, "accepted_answer_id": 36755125, "answer_count": 1, "score": 1, "last_activity_date": 1461186757, "creation_date": 1461185839, "last_edit_date": 1592644375, "question_id": 36755043, "link": "https://stackoverflow.com/questions/36755043/how-do-you-set-placeholders-in-python-when-there-are-syntax-identical-non-placeh", "title": "How do you set placeholders in python when there are syntax-identical non-placeholders in the text that should be formatted?", "body": "<p>I have a HTML template file with some JavaScript and some Python placeholders e.g.<code>{foobar}</code> that i want to replace by a script.</p>\n<p>To replate these placeholders i load the content of the file by:</p>\n<pre><code>file = open(&quot;template.html&quot;, &quot;r&quot;)\ncontent = file.read()\nfile.close()\nfoobars = {\n    &quot;foobar_1&quot;: &quot;bla&quot;,\n}\ncontent = content.format(**foobars)\n</code></pre>\n<p>My problem is that in the JavaScript code some placeholder-like formatting exists like <code>google.charts.load('current', {'packages':['corechart']});</code> so that i get a <code>KeyError: &quot;'packages'&quot;</code>.</p>\n<h2>Question</h2>\n<p>How do you set placeholders in python when there are syntax-identical non-placeholders in the text that should be formatted?</p>\n"}, {"tags": ["python", "soundcloud", "playlist"], "comments": [{"owner": {"reputation": 299, "user_id": 3251036, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b88d9e964e6d6500c8d511cde831486?s=128&d=identicon&r=PG&f=1", "display_name": "sammygadd", "link": "https://stackoverflow.com/users/3251036/sammygadd"}, "edited": false, "score": 0, "creation_date": 1461187835, "post_id": 36755039, "comment_id": 61091314, "body": "Could it possibly be due to any pagination?"}, {"owner": {"reputation": 963, "user_id": 3894954, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/54fbdd463943daf0073fb0e1de52092e?s=128&d=identicon&r=PG&f=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/3894954/michael"}, "reply_to_user": {"reputation": 299, "user_id": 3251036, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b88d9e964e6d6500c8d511cde831486?s=128&d=identicon&r=PG&f=1", "display_name": "sammygadd", "link": "https://stackoverflow.com/users/3251036/sammygadd"}, "edited": false, "score": 0, "creation_date": 1461225355, "post_id": 36755039, "comment_id": 61104717, "body": "I don&#39;t think so as the second and third are missing. It also happens with other playlists for tracks which are in the middle of the tracklist. These are two of them: <a href=\"https://soundcloud.com/theprototypes/bbc-radio-1xtra-the-prototypes\" rel=\"nofollow noreferrer\">soundcloud.com/theprototypes/bbc-radio-1xtra-the-prototypes</a> <a href=\"https://soundcloud.com/drumsoundandbasslinesmith/drumsound-bassline-smith-spring-heel-jack-friction-exclusive\" rel=\"nofollow noreferrer\">soundcloud.com/drumsoundandbasslinesmith/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 819, "user_id": 244748, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d294263247912df75761b346c260b76?s=128&d=identicon&r=PG", "display_name": "DelGurth", "link": "https://stackoverflow.com/users/244748/delgurth"}, "is_accepted": false, "score": 5, "last_activity_date": 1461316040, "last_edit_date": 1495541855, "creation_date": 1461315198, "answer_id": 36789241, "question_id": 36755039, "link": "https://stackoverflow.com/questions/36755039/soundcloud-api-not-returning-all-tracks-from-playlist-through-python/36789241#36789241", "title": "Soundcloud API not returning all tracks from playlist through Python", "body": "<p>This can't be solved unfortunately. Lots of topics on this issue already. The thing is that the playlist API returns all tracks in the playlist, but the tracks API returns only tracks that are not protected. Since you already figured out which 2 tracks where missing I verified this and they both return a 403 when you try to use the track API. So those 2 tracks are somehow not accessible using the track API.</p>\n\n<p>Some more background:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/36688041/soundcloud-playlist-tracks-is-empty/36697558#36697558\">SoundCloud Playlist tracks is empty</a></p>\n\n<blockquote>\n  <p>SoundCloud emailed back saying they have introduced an option for right holders to disable all API access to tracks by default, returning this 403 error when requested. They also said it's understandable that this is a confusing feature, and that they hope to make it more clear.</p>\n</blockquote>\n\n<p>And <a href=\"https://stackoverflow.com/questions/36626513/soundcloud-api-json-track-count-does-not-match-profile-track-count\">@nickf the tech lead of soundcloud says:</a></p>\n\n<blockquote>\n  <p>Yep -- there's many reasons that a track might not show up to you. It could be taken down by the rightsholder of the track, made private or deleted by the uploader, or (and this is the tricky one) blocked in certain territories. Calculating the policies of all of the tracks of a user every time it is fetched isn't quite feasible, so sometimes this number will be inaccurate (depending on who is asking and where they are). \u2013 nickf Apr 14 at 22:37</p>\n</blockquote>\n"}], "owner": {"reputation": 963, "user_id": 3894954, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/54fbdd463943daf0073fb0e1de52092e?s=128&d=identicon&r=PG&f=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/3894954/michael"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 919, "favorite_count": 0, "answer_count": 1, "score": 5, "last_activity_date": 1461316040, "creation_date": 1461185821, "question_id": 36755039, "link": "https://stackoverflow.com/questions/36755039/soundcloud-api-not-returning-all-tracks-from-playlist-through-python", "title": "Soundcloud API not returning all tracks from playlist through Python", "body": "<p>I recently started to use the Soundcloud API to develop a simple app which saves data on playlists. However, it seems to me that not all tracks from playlists are being returned.</p>\n\n<p>I'm using the following code:</p>\n\n<pre><code>import soundcloud, shelve, time\n\nclient = soundcloud.Client(client_id=CLIENT_ID,\n                           client_secret=CLIENT_SECRET,\n                           username=E-MAIL,\n                           password=PASSWORD)\n\nplaylists = client.get('/users/24196709/playlists', limit=1)\n\ntracknames = []\ntrackids= []\n\nfor pl in playlists:\n    for track in pl.tracks:\n        print(track['title'])\n        tracknames.append(track['title'])\n        trackids.append(track['id'])\n\nprint(tracknames)\n</code></pre>\n\n<p>Using it on this playlist: <a href=\"https://soundcloud.com/michiel-tammeling/sets/icecubes\" rel=\"noreferrer\">https://soundcloud.com/michiel-tammeling/sets/icecubes</a> which contains 13 tracks, however the code only returns 11.</p>\n\n<p>Any help would be much appreciated.</p>\n"}, {"tags": ["python", "mongodb", "date", "datetime"], "comments": [{"owner": {"reputation": 9745, "user_id": 1443118, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/d758a80b64e30e08da95ae0430e420a5?s=128&d=identicon&r=PG", "display_name": "reptilicus", "link": "https://stackoverflow.com/users/1443118/reptilicus"}, "edited": false, "score": 0, "creation_date": 1461185997, "post_id": 36755036, "comment_id": 61090367, "body": "could be timezone issue, your query date is naive, i.e. not timezone aware. Try to normalize it to UTC and see what happens"}, {"owner": {"reputation": 21, "user_id": 4032232, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7627bc7a8622a7dff28cd66ba828fb7a?s=128&d=identicon&r=PG&f=1", "display_name": "suitcase88", "link": "https://stackoverflow.com/users/4032232/suitcase88"}, "reply_to_user": {"reputation": 9745, "user_id": 1443118, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/d758a80b64e30e08da95ae0430e420a5?s=128&d=identicon&r=PG", "display_name": "reptilicus", "link": "https://stackoverflow.com/users/1443118/reptilicus"}, "edited": false, "score": 0, "creation_date": 1461187426, "post_id": 36755036, "comment_id": 61091124, "body": "I did:  date = utc.localize(date) but still nothing changed. Now if I print my dates are: 2016-03-19 00:00:01+00:00, 2016-03-19 23:59:59+00:00. Is this what you meant? Thanks!"}, {"owner": {"reputation": 9745, "user_id": 1443118, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/d758a80b64e30e08da95ae0430e420a5?s=128&d=identicon&r=PG", "display_name": "reptilicus", "link": "https://stackoverflow.com/users/1443118/reptilicus"}, "edited": false, "score": 0, "creation_date": 1461188995, "post_id": 36755036, "comment_id": 61091806, "body": "Yeah thats what I was thinking, not sure what else. you sure that startTime &lt; endTime?"}, {"owner": {"reputation": 21, "user_id": 4032232, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7627bc7a8622a7dff28cd66ba828fb7a?s=128&d=identicon&r=PG&f=1", "display_name": "suitcase88", "link": "https://stackoverflow.com/users/4032232/suitcase88"}, "reply_to_user": {"reputation": 9745, "user_id": 1443118, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/d758a80b64e30e08da95ae0430e420a5?s=128&d=identicon&r=PG", "display_name": "reptilicus", "link": "https://stackoverflow.com/users/1443118/reptilicus"}, "edited": false, "score": 0, "creation_date": 1461189173, "post_id": 36755036, "comment_id": 61091870, "body": "I have printed them and they are: startTime=2016-03-19 00:00:01+00:00 and endTime=2016-03-19 23:59:59+00:00. So I guess I&#39;m fine. :)"}, {"owner": {"reputation": 21, "user_id": 4032232, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7627bc7a8622a7dff28cd66ba828fb7a?s=128&d=identicon&r=PG&f=1", "display_name": "suitcase88", "link": "https://stackoverflow.com/users/4032232/suitcase88"}, "reply_to_user": {"reputation": 9745, "user_id": 1443118, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/d758a80b64e30e08da95ae0430e420a5?s=128&d=identicon&r=PG", "display_name": "reptilicus", "link": "https://stackoverflow.com/users/1443118/reptilicus"}, "edited": false, "score": 0, "creation_date": 1461192383, "post_id": 36755036, "comment_id": 61093067, "body": "I found the problem. My original dates shouldn&#39;t be of datetime.datetime type but just datetime format. So instead of having  date = datetime.datetime(2016,03,19) it should be date=datetime(2016,03,19) and then utc.localize(date). This fixed my problem. Just posted here in case someone else has the same problem with me."}, {"owner": {"reputation": 3299, "user_id": 3059438, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eD9iZ.png?s=128&g=1", "display_name": "pasztorpisti", "link": "https://stackoverflow.com/users/3059438/pasztorpisti"}, "edited": false, "score": 0, "creation_date": 1461192567, "post_id": 36755036, "comment_id": 61093129, "body": "Instead of adding and subtracting a 1 second or microsecond or something like that I would use a comparison operator that doesn&#39;t include equality (e.g.: <code>$lt</code> instead of <code>$lte</code>)."}, {"owner": {"reputation": 21, "user_id": 4032232, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7627bc7a8622a7dff28cd66ba828fb7a?s=128&d=identicon&r=PG&f=1", "display_name": "suitcase88", "link": "https://stackoverflow.com/users/4032232/suitcase88"}, "reply_to_user": {"reputation": 3299, "user_id": 3059438, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eD9iZ.png?s=128&g=1", "display_name": "pasztorpisti", "link": "https://stackoverflow.com/users/3059438/pasztorpisti"}, "edited": false, "score": 0, "creation_date": 1461193725, "post_id": 36755036, "comment_id": 61093520, "body": "@pasztorpisti You are right. I had that in the beginning but then since I was not getting any result I experimented a bit more with the time. However, as it seems the problem is between differentiating the datetime.datetime package in python with the plain datetime. I can&#39;t understand why if my query has datetime.datetime type of days it doesn&#39;t work and it works if my date is of type datetime. This doesn&#39;t make sense to me since if I print the ISODates from mongo inside python, this is of a datetime.datetime type. If someone knows please explain that to me."}], "owner": {"reputation": 21, "user_id": 4032232, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7627bc7a8622a7dff28cd66ba828fb7a?s=128&d=identicon&r=PG&f=1", "display_name": "suitcase88", "link": "https://stackoverflow.com/users/4032232/suitcase88"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 55, "favorite_count": 2, "closed_date": 1461200980, "answer_count": 0, "score": 0, "last_activity_date": 1461185888, "creation_date": 1461185809, "last_edit_date": 1461185888, "question_id": 36755036, "link": "https://stackoverflow.com/questions/36755036/query-just-by-date-and-not-datetime-in-mongodb-through-python-yields-zero-result", "closed_reason": "Duplicate", "title": "Query just by date and not datetime in mongodb through python yields zero results", "body": "<p>I have tried querying MongoDB through python and get all the objects that were created at a specific date. All the dates in ongare in ISODate format. So they are something like: <code>ISODate(\"2016-04-19T16:00:00Z\")</code>.</p>\n\n<p>I want to find all the documents that have as a date, the date \"2016-03-19\" without considering the time. So what I have done in python is:</p>\n\n<pre><code>date = datetime.datetime(2016,03,19)\n\nstartTime = date+datetime.timedelta(seconds=1) //this is: 2016-03-19T00:00:01\n\nendTime = (date + datetime.timedelta(days=1)-datetime.timedelta(seconds=1)) //this is 2016-03-19T23:59:59\n\ncursor= db.collection.find({'data.when.value':'$gte':startTime,'$lte':endTime}}])\n</code></pre>\n\n<p>I get zero results though, although I have data with this date in my database. Can you please tell me what I'm doing wrong? How can you query just by date and get all documents for this date? I have searched a lot but nothing is working for me.</p>\n"}, {"tags": ["python", "pandas"], "answers": [{"comments": [{"owner": {"reputation": 18736, "user_id": 308827, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/28f523030f3ecd9c9f2ad23ca745cc65?s=128&d=identicon&r=PG", "display_name": "user308827", "link": "https://stackoverflow.com/users/308827/user308827"}, "edited": false, "score": 0, "creation_date": 1461186121, "post_id": 36755006, "comment_id": 61090423, "body": "thanks @jezrael, is there a way to make the &#39;sort&#39; column a part of a pipe?"}, {"owner": {"reputation": 619481, "user_id": 2901002, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/hMDvl.jpg?s=128&g=1", "display_name": "jezrael", "link": "https://stackoverflow.com/users/2901002/jezrael"}, "reply_to_user": {"reputation": 18736, "user_id": 308827, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/28f523030f3ecd9c9f2ad23ca745cc65?s=128&d=identicon&r=PG", "display_name": "user308827", "link": "https://stackoverflow.com/users/308827/user308827"}, "edited": false, "score": 1, "creation_date": 1461186279, "post_id": 36755006, "comment_id": 61090500, "body": "Very hard question, I never seen it."}, {"owner": {"reputation": 18736, "user_id": 308827, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/28f523030f3ecd9c9f2ad23ca745cc65?s=128&d=identicon&r=PG", "display_name": "user308827", "link": "https://stackoverflow.com/users/308827/user308827"}, "edited": false, "score": 0, "creation_date": 1461186777, "post_id": 36755006, "comment_id": 61090795, "body": "thanks! plz have a look at a related query: <a href=\"http://stackoverflow.com/questions/36755287/accepting-top-rows-in-pandas-dataframe-based-on-grouping\" title=\"accepting top rows in pandas dataframe based on grouping\">stackoverflow.com/questions/36755287/&hellip;</a>"}], "tags": [], "owner": {"reputation": 619481, "user_id": 2901002, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/hMDvl.jpg?s=128&g=1", "display_name": "jezrael", "link": "https://stackoverflow.com/users/2901002/jezrael"}, "is_accepted": true, "score": 1, "last_activity_date": 1461186028, "last_edit_date": 1461186028, "creation_date": 1461185710, "answer_id": 36755006, "question_id": 36754958, "link": "https://stackoverflow.com/questions/36754958/reordering-pandas-dataframe-based-on-multiple-column-and-sum-of-one-column/36755006#36755006", "title": "Reordering pandas dataframe based on multiple column and sum of one column", "body": "<p>I think you need create new column <code>sort</code> by <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.groupby.html\" rel=\"nofollow\"><code>groupby</code></a> with <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.core.groupby.GroupBy.transform.html\" rel=\"nofollow\"><code>transform</code></a> and then <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.sort_values.html\" rel=\"nofollow\"><code>sort_values</code></a>. Last you can <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.drop.html\" rel=\"nofollow\"><code>drop</code></a> it with <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.reset_index.html\" rel=\"nofollow\"><code>reset_index</code></a>:</p>\n\n<pre><code>df['sort'] = df.groupby('Country_FAO')['mean_area'].transform(sum)\n\ndf['sort'] = df.groupby('Country_FAO')['mean_area'].transform(sum)\n\ndf1 = df.sort_values(['sort','Country_FAO', 'mean_area'], ascending=False)\nprint df1\n   Country_FAO type   mean_area        sort\n5    Australia  car  12141000.0  18910501.0\n4    Australia  car   6475695.0  18910501.0\n6    Australia  bus    293806.0  18910501.0\n0  Afghanistan  car   2029000.0   2141000.0\n1  Afghanistan  car    112000.0   2141000.0\n2      Algeria  bus    827000.0    829351.0\n3      Algeria  bus      2351.0    829351.0\n\ndf1 = df1.drop('sort', axis=1).reset_index(drop=True)\nprint df1\n   Country_FAO type   mean_area\n0    Australia  car  12141000.0\n1    Australia  car   6475695.0\n2    Australia  bus    293806.0\n3  Afghanistan  car   2029000.0\n4  Afghanistan  car    112000.0\n5      Algeria  bus    827000.0\n6      Algeria  bus      2351.0\n</code></pre>\n"}], "owner": {"reputation": 18736, "user_id": 308827, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/28f523030f3ecd9c9f2ad23ca745cc65?s=128&d=identicon&r=PG", "display_name": "user308827", "link": "https://stackoverflow.com/users/308827/user308827"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 84, "favorite_count": 0, "accepted_answer_id": 36755006, "answer_count": 1, "score": 1, "last_activity_date": 1461186028, "creation_date": 1461185527, "question_id": 36754958, "link": "https://stackoverflow.com/questions/36754958/reordering-pandas-dataframe-based-on-multiple-column-and-sum-of-one-column", "title": "Reordering pandas dataframe based on multiple column and sum of one column", "body": "<p>I have the foll. dataframe:</p>\n\n<pre><code>              Country_FAO            type   mean_area\n0             Afghanistan             car   2029000.0\n1             Afghanistan             car    112000.0\n2                 Algeria             bus    827000.0\n3                 Algeria             bus      2351.0\n4               Australia             car   6475695.0\n5               Australia             car  12141000.0\n6               Australia             bus    293806.0\n</code></pre>\n\n<p>I would like to reorder this dataframe on the basis of sum of <code>mean_area</code>for each value in the <code>Country_FAO</code> column. The end result should look like this:</p>\n\n<pre><code>              Country_FAO            type   mean_area\n0               Australia             car  12141000.0\n1               Australia             car   6475695.0\n2               Australia             bus    293806.0\n3             Afghanistan             car   2029000.0\n4             Afghanistan             car    112000.0\n5                 Algeria             bus    827000.0\n6                 Algeria             bus      2351.0\n</code></pre>\n\n<p>Australia comes first because the sum of <code>mean_area</code> values for its 3 categories is the highest.</p>\n\n<p>I tried this:</p>\n\n<pre><code>df_stacked.sort(['Country_FAO', 'mean_area'], ascending=[False, False])\n</code></pre>\n\n<p>This does not work though, it does not add up all the <code>mean_area</code>s before doing the sort. </p>\n"}, {"tags": ["python", "xlrd", "lookup-tables"], "comments": [{"owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "edited": false, "score": 0, "creation_date": 1461185745, "post_id": 36754941, "comment_id": 61090233, "body": "How do the values correspond? You seem to say you have data in an excel sheet that you want to replace with the same data from the same excel sheet. Can you clarify?"}, {"owner": {"reputation": 606, "user_id": 5895423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3543af2d476bb913fe96ff6ff4d2a0c1?s=128&d=identicon&r=PG&f=1", "display_name": "Taylan", "link": "https://stackoverflow.com/users/5895423/taylan"}, "edited": false, "score": 0, "creation_date": 1461185922, "post_id": 36754941, "comment_id": 61090334, "body": "You want this for all rows right?"}], "answers": [{"tags": [], "owner": {"reputation": 23980, "user_id": 1735756, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/SloZJ.jpg?s=128&g=1", "display_name": "Haifeng Zhang", "link": "https://stackoverflow.com/users/1735756/haifeng-zhang"}, "is_accepted": true, "score": 4, "last_activity_date": 1461187645, "last_edit_date": 1461187645, "creation_date": 1461187258, "answer_id": 36755423, "question_id": 36754941, "link": "https://stackoverflow.com/questions/36754941/finding-value-from-excel-sheet-in-python/36755423#36755423", "title": "FInding Value from excel sheet in python", "body": "<p>you can iterate the Excel sheet by range(sheet.nrows) and get row values based on the row number. The script below iterates the Excel sheet row by row and prints out the row that matches value 123456003.  You can modify it to meet your requirement</p>\n\n<p>$cat test.py    </p>\n\n<pre><code>import xlrd\n\ndef open_file(path):\n    wb = xlrd.open_workbook(path)\n    sheet = wb.sheet_by_index(0)\n\n\n    for row_num in range(sheet.nrows):\n        row_value = sheet.row_values(row_num)\n        if row_value[1] == 123456003:\n            print row_value\n\nif __name__ == \"__main__\":\n    path = \"data.xlsx\"\n    open_file(path)\n</code></pre>\n\n<p>$python test.py         </p>\n\n<pre><code>[u'NS71282379_67698209', 123456003.0]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 48, "user_id": 4455832, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZHOu5.jpg?s=128&g=1", "display_name": "johndburger", "link": "https://stackoverflow.com/users/4455832/johndburger"}, "is_accepted": false, "score": 1, "last_activity_date": 1461187554, "creation_date": 1461187554, "answer_id": 36755501, "question_id": 36754941, "link": "https://stackoverflow.com/questions/36754941/finding-value-from-excel-sheet-in-python/36755501#36755501", "title": "FInding Value from excel sheet in python", "body": "<p>You will have to iterate over the rows and find the one you're interested in changing. Something like this:</p>\n\n<pre><code>for r in xrange(sheet.nrows):\n  row = sheet.row(r)\n  if row[0].value == \"NS71282379_67698209\":\n    row[1].value = \"new value\"\n    break\n</code></pre>\n\n<p>If you need to do this repeatedly, you could instead build a map from the first column values to the second column cells:</p>\n\n<pre><code>cells = dict((row[0].value, row[1])\n             for row in (sheet.row(r) for r in xrange(sheet.nrows)))\ncells[\"NS71282379_67698209\"].value = \"new value\"\n</code></pre>\n"}], "owner": {"reputation": 321, "user_id": 3328802, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/1a2225e6cf6e2e1dd0341d638afcc913?s=128&d=identicon&r=PG&f=1", "display_name": "learnningprogramming", "link": "https://stackoverflow.com/users/3328802/learnningprogramming"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 24649, "favorite_count": 1, "accepted_answer_id": 36755423, "answer_count": 2, "score": 2, "last_activity_date": 1461196750, "creation_date": 1461185467, "last_edit_date": 1461196750, "question_id": 36754941, "link": "https://stackoverflow.com/questions/36754941/finding-value-from-excel-sheet-in-python", "title": "FInding Value from excel sheet in python", "body": "<p>I have an excel sheet (data.xlxs) with the following pattern of data with more than 200 rows.</p>\n\n<pre><code>NS71282379_67698209    123456001\nNS71282379_56698765    123456002\nNS71282379_67698209    123456003\n.\n.\n.\n</code></pre>\n\n<p>Now in my script, I am trying to find the corresponding value for <code>123456003</code> as <code>NS71282379_67698209</code>. In my script, I want to replace 123456003 with its value from the excel sheet. \nI used <code>xlrd</code> to import the sheet but haven't found any method which easily allows me to find the corresponding value. \nHow can I do this smartly?</p>\n"}, {"tags": ["python", "optimization", "scipy", "multiprocessing"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1461185333, "post_id": 36754834, "comment_id": 61090045, "body": "Why does <code>func</code> have an <code>if __name__ == &#39;__main__&#39;</code> test?"}], "answers": [{"comments": [{"owner": {"reputation": 385, "user_id": 6031367, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba19ed5124648f2b715c584426099dbb?s=128&d=identicon&r=PG&f=1", "display_name": "Peter", "link": "https://stackoverflow.com/users/6031367/peter"}, "edited": false, "score": 0, "creation_date": 1461195208, "post_id": 36754916, "comment_id": 61093931, "body": "That&#39;s true, but I&#39;m creating a pool with each function call so that I can release the memory immediately after the function is evaluated.  I&#39;m working with some third party libraries that appear to have a memory leak problem, and this is quick and dirty work around =/"}, {"owner": {"reputation": 705380, "user_id": 190597, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/aabc98d5c6482ca0e1405ec97710f30a?s=128&d=identicon&r=PG&f=1", "display_name": "unutbu", "link": "https://stackoverflow.com/users/190597/unutbu"}, "reply_to_user": {"reputation": 385, "user_id": 6031367, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba19ed5124648f2b715c584426099dbb?s=128&d=identicon&r=PG&f=1", "display_name": "Peter", "link": "https://stackoverflow.com/users/6031367/peter"}, "edited": false, "score": 0, "creation_date": 1461202888, "post_id": 36754916, "comment_id": 61095827, "body": "Ah, I see. That is a good reason for using <code>mp.Pool</code> inside <code>func</code>."}], "tags": [], "owner": {"reputation": 705380, "user_id": 190597, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/aabc98d5c6482ca0e1405ec97710f30a?s=128&d=identicon&r=PG&f=1", "display_name": "unutbu", "link": "https://stackoverflow.com/users/190597/unutbu"}, "is_accepted": false, "score": 0, "last_activity_date": 1461188957, "last_edit_date": 1461188957, "creation_date": 1461185370, "answer_id": 36754916, "question_id": 36754834, "link": "https://stackoverflow.com/questions/36754834/scipys-optimization-incompatible-with-multiprocessing/36754916#36754916", "title": "Scipy&#39;s optimization incompatible with Multiprocessing?", "body": "<p>It is inefficient to create many little <code>mp.Pool</code>s each with only one worker\nprocess.  It is also inefficient to create one Pool per call to <code>func</code>, since\n<code>func</code> is called many times.</p>\n\n<p>Instead, create <em>one</em> <code>Pool</code> at the outset of your program, and pass the pool to each call to <code>func</code>:</p>\n\n<pre><code>if __name__ == '__main__':\n    pool = mp.Pool()\n    x0=5    \n    ret = optimize.basinhopping(\n        func, x0, niter=100, T=1.0, stepsize=0.1,\n        minimizer_kwargs=dict(args=pool), \n        take_step=None, accept_test=None, callback=None,\n        interval=50, disp=False, niter_success=None)\n    pool.close()\n    print(ret)\n</code></pre>\n\n<p>The <code>minimizer_kwargs=dict(args=pool)</code> tells <code>optimize.basinhopping</code> to pass <code>pool</code> as an additional argument to <code>func</code>.</p>\n\n<hr>\n\n<p>You can also use</p>\n\n<pre><code>logger = mp.log_to_stderr(logging.INFO)\n</code></pre>\n\n<p>to obtain logging statements which show in what process the functions are being called. For example,</p>\n\n<pre><code>import multiprocessing as mp\nfrom scipy import optimize\nimport logging\nlogger = mp.log_to_stderr(logging.INFO)\n\ndef runEnvironment(x):\n    logger.info('runEnvironment({}) called'.format(x))\n    return x**2\n\ndef func(x, pool):\n    logger.info('func({}) called'.format(x))\n    results = pool.apply(runEnvironment,(x,))\n    return results\n\nif __name__ == '__main__':\n    pool = mp.Pool()\n    x0=5    \n    ret = optimize.basinhopping(\n        func, x0, niter=100, T=1.0, stepsize=0.1,\n        minimizer_kwargs=dict(args=pool), \n        take_step=None, accept_test=None, callback=None,\n        interval=50, disp=False, niter_success=None)\n    pool.close()\n    print(ret)\n</code></pre>\n\n<p>prints</p>\n\n<pre><code>[INFO/PoolWorker-1] child process calling self.run()\n[INFO/PoolWorker-2] child process calling self.run()\n[INFO/PoolWorker-3] child process calling self.run()\n[INFO/PoolWorker-4] child process calling self.run()\n[INFO/MainProcess] func([ 5.]) called\n[INFO/PoolWorker-1] runEnvironment([ 5.]) called\n[INFO/MainProcess] func([ 5.00000001]) called\n[INFO/PoolWorker-2] runEnvironment([ 5.00000001]) called\n[INFO/MainProcess] func([ 5.]) called\n[INFO/PoolWorker-3] runEnvironment([ 5.]) called\n[INFO/MainProcess] func([-5.]) called\n[INFO/PoolWorker-4] runEnvironment([-5.]) called\n</code></pre>\n\n<p>This shows that <code>func</code> is always called by the main process, while\n<code>runEnvironment</code> is run by worker processes.</p>\n\n<p>Note that the calls to <code>func</code> happen sequentially. To get any benefit out of\n<code>pool</code>, you'll have to exercise more processors with each call to <code>func</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 385, "user_id": 6031367, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba19ed5124648f2b715c584426099dbb?s=128&d=identicon&r=PG&f=1", "display_name": "Peter", "link": "https://stackoverflow.com/users/6031367/peter"}, "edited": false, "score": 0, "creation_date": 1461194898, "post_id": 36755297, "comment_id": 61093833, "body": "That worked perfectly!  Although I&#39;m not sure I understand why this is the right location for the if <b>name</b> == &#39;<b>main</b>&#39;: statement."}, {"owner": {"reputation": 705380, "user_id": 190597, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/aabc98d5c6482ca0e1405ec97710f30a?s=128&d=identicon&r=PG&f=1", "display_name": "unutbu", "link": "https://stackoverflow.com/users/190597/unutbu"}, "reply_to_user": {"reputation": 385, "user_id": 6031367, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba19ed5124648f2b715c584426099dbb?s=128&d=identicon&r=PG&f=1", "display_name": "Peter", "link": "https://stackoverflow.com/users/6031367/peter"}, "edited": false, "score": 0, "creation_date": 1461203141, "post_id": 36755297, "comment_id": 61095888, "body": "@Peter: Since Windows has no <code>os.fork</code>, instead the <code>multiprocessing</code> module <a href=\"https://docs.python.org/2/library/multiprocessing.html#windows\" rel=\"nofollow noreferrer\">starts a new python process and <b>imports</b> the calling module</a>. If you don&#39;t protect the call to <code>basinhopping</code> with <code>if __name__ == &#39;__main__&#39;</code> then the subprocess calls <code>basinhopping</code> which will call <code>func</code>. Since there is an <code>if __name__ == &#39;__main__&#39;</code> inside <code>func</code>, this <code>func</code> call returns <code>None</code>, the default value when no <code>return</code> statement is reached...."}, {"owner": {"reputation": 705380, "user_id": 190597, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/aabc98d5c6482ca0e1405ec97710f30a?s=128&d=identicon&r=PG&f=1", "display_name": "unutbu", "link": "https://stackoverflow.com/users/190597/unutbu"}, "reply_to_user": {"reputation": 385, "user_id": 6031367, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba19ed5124648f2b715c584426099dbb?s=128&d=identicon&r=PG&f=1", "display_name": "Peter", "link": "https://stackoverflow.com/users/6031367/peter"}, "edited": false, "score": 0, "creation_date": 1461203153, "post_id": 36755297, "comment_id": 61095897, "body": "@Peter: (cont&#39;d) <code>basinhopping</code> is expecting <code>func</code> to return a numeric value, so a <code>TypeError</code>is raised when <code>func</code> returns <code>None</code>."}, {"owner": {"reputation": 385, "user_id": 6031367, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba19ed5124648f2b715c584426099dbb?s=128&d=identicon&r=PG&f=1", "display_name": "Peter", "link": "https://stackoverflow.com/users/6031367/peter"}, "edited": false, "score": 0, "creation_date": 1461254463, "post_id": 36755297, "comment_id": 61126583, "body": "Ah, ok, that makes sense."}], "tags": [], "owner": {"reputation": 651, "user_id": 3187458, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/edcb2eb33ff47452fc95c51a63b676de?s=128&d=identicon&r=PG&f=1", "display_name": "Thomite", "link": "https://stackoverflow.com/users/3187458/thomite"}, "is_accepted": false, "score": 1, "last_activity_date": 1461186797, "creation_date": 1461186797, "answer_id": 36755297, "question_id": 36754834, "link": "https://stackoverflow.com/questions/36754834/scipys-optimization-incompatible-with-multiprocessing/36755297#36755297", "title": "Scipy&#39;s optimization incompatible with Multiprocessing?", "body": "<p>Your <code>if __name__ == '__main__':</code> idiom is in the incorrect position - rearranging it this way works:</p>\n\n<pre><code>import multiprocessing as mp\nfrom scipy.optimize import basinhopping\n\ndef runEnvironment(x):\n    return x**2\n\ndef func(x):\n\n    print \"x:\",x\n    pool = mp.Pool(processes=1)\n\n    results=pool.apply(runEnvironment,(x,))\n    pool.close()\n    return results\n\nif __name__ == '__main__':\n    x0=5\n    ret=basinhopping(func, x0, niter=100, T=1.0, stepsize=0.1, minimizer_kwargs=None, take_step=None, accept_test=None, callback=None, interval=50, disp=False, niter_success=None)\n</code></pre>\n"}], "owner": {"reputation": 385, "user_id": 6031367, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba19ed5124648f2b715c584426099dbb?s=128&d=identicon&r=PG&f=1", "display_name": "Peter", "link": "https://stackoverflow.com/users/6031367/peter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1080, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1461188957, "creation_date": 1461185137, "question_id": 36754834, "link": "https://stackoverflow.com/questions/36754834/scipys-optimization-incompatible-with-multiprocessing", "title": "Scipy&#39;s optimization incompatible with Multiprocessing?", "body": "<p>In trying to use Scipy's optimization algorithms to minimize a function that computes its value within a sub process, I discovered that gradient-based algorithms (basinhopping and L-BFGS-B so far) encounter the following error on line 562 of optimize.py:</p>\n\n<blockquote>\n<pre><code>grad[k] = (f(*((xk + d,) + args)) - f0) / d[k]\n</code></pre>\n  \n  <p>TypeError: unsupported operand type(s) for -: 'NoneType' and 'NoneType'</p>\n</blockquote>\n\n<p>Here's a simple example of code that generates this error:</p>\n\n<pre><code>import multiprocessing as mp\nfrom scipy.optimize import basinhopping\n\ndef runEnvironment(x):\n    return x**2\n\ndef func(x):\n    if __name__ == '__main__':\n        print \"x:\",x\n        pool = mp.Pool(processes=1)\n\n        results=pool.apply(runEnvironment,(x,))\n        pool.close()\n        return results\n\nx0=5    \nret=basinhopping(func, x0, niter=100, T=1.0, stepsize=0.1, minimizer_kwargs=None, take_step=None, accept_test=None, callback=None, interval=50, disp=False, niter_success=None)\n</code></pre>\n\n<p>Note that this code runs fine if the multiprocessing components are removed, or if a non-gradient-based algorithm (like COBYLA) is used.  Can anyone think of a reason this is happening?</p>\n"}, {"tags": ["python", "qt", "fonts", "pyqt", "antialiasing"], "comments": [{"owner": {"reputation": 682, "user_id": 6194443, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153564193118595/picture?type=large", "display_name": "Steve Cohen", "link": "https://stackoverflow.com/users/6194443/steve-cohen"}, "edited": false, "score": 1, "creation_date": 1461185838, "post_id": 36754823, "comment_id": 61090291, "body": "I would love to help and have dealt with some of these issues, but a code-fragment leaves a lot of work to the folks trying to help.  Please consider providing an <a href=\"http://stackoverflow.com/help/mcve\">MCVE</a>."}, {"owner": {"reputation": 17, "user_id": 3489057, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/cfcb3b4f3b454ed254a65674c873eeba?s=128&d=identicon&r=PG&f=1", "display_name": "user3489057", "link": "https://stackoverflow.com/users/3489057/user3489057"}, "reply_to_user": {"reputation": 682, "user_id": 6194443, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153564193118595/picture?type=large", "display_name": "Steve Cohen", "link": "https://stackoverflow.com/users/6194443/steve-cohen"}, "edited": false, "score": 0, "creation_date": 1461185913, "post_id": 36754823, "comment_id": 61090327, "body": "Ok I&#39;m going to do it"}, {"owner": {"reputation": 17, "user_id": 3489057, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/cfcb3b4f3b454ed254a65674c873eeba?s=128&d=identicon&r=PG&f=1", "display_name": "user3489057", "link": "https://stackoverflow.com/users/3489057/user3489057"}, "reply_to_user": {"reputation": 682, "user_id": 6194443, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153564193118595/picture?type=large", "display_name": "Steve Cohen", "link": "https://stackoverflow.com/users/6194443/steve-cohen"}, "edited": false, "score": 0, "creation_date": 1461186818, "post_id": 36754823, "comment_id": 61090817, "body": "ok, MCVE added as you said"}, {"owner": {"reputation": 269348, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "edited": false, "score": 1, "creation_date": 1461187160, "post_id": 36754823, "comment_id": 61090995, "body": "It <i>is</i> antialiasing the font, it&#39;s just doing a rough job of it. Maybe their rendering engine has a problem with very thin lines."}, {"owner": {"reputation": 17, "user_id": 3489057, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/cfcb3b4f3b454ed254a65674c873eeba?s=128&d=identicon&r=PG&f=1", "display_name": "user3489057", "link": "https://stackoverflow.com/users/3489057/user3489057"}, "edited": false, "score": 0, "creation_date": 1461187590, "post_id": 36754823, "comment_id": 61091197, "body": "Well, so how I can improve this result?"}, {"owner": {"reputation": 97291, "user_id": 984421, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l9J30.png?s=128&g=1", "display_name": "ekhumoro", "link": "https://stackoverflow.com/users/984421/ekhumoro"}, "edited": false, "score": 1, "creation_date": 1461189767, "post_id": 36754823, "comment_id": 61092097, "body": "@user3489057. That is not an MCVE, because it is using a resource that you have not included. Have you tried with any other fonts? And what platform are you testing on?"}, {"owner": {"reputation": 682, "user_id": 6194443, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153564193118595/picture?type=large", "display_name": "Steve Cohen", "link": "https://stackoverflow.com/users/6194443/steve-cohen"}, "edited": false, "score": 1, "creation_date": 1461189883, "post_id": 36754823, "comment_id": 61092150, "body": "Please include the imports with the MCVE.  In general if you cannot cut-and-paste into a text editor and run it to reproduce the result, you do not have a MCVE.  Do you have a link to that particular font?"}, {"owner": {"reputation": 269348, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "reply_to_user": {"reputation": 682, "user_id": 6194443, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153564193118595/picture?type=large", "display_name": "Steve Cohen", "link": "https://stackoverflow.com/users/6194443/steve-cohen"}, "edited": false, "score": 0, "creation_date": 1461192509, "post_id": 36754823, "comment_id": 61093110, "body": "@SteveCohen that font isn&#39;t free. It&#39;s probably possible to reproduce the problem with a free font, but that&#39;s the OPs problem, not ours."}, {"owner": {"reputation": 4451, "user_id": 1886357, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/tAaWO.png?s=128&g=1", "display_name": "eric", "link": "https://stackoverflow.com/users/1886357/eric"}, "edited": false, "score": 0, "creation_date": 1461272100, "post_id": 36754823, "comment_id": 61136853, "body": "Do you still have the problem if you use a generic serif font, rather than one that very few people here will have the inclination to download and install on their system? Plz make it easier for us to help u!"}], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 6998451, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b02bf2047c0b085c11928d39839c32c3?s=128&d=identicon&r=PG", "display_name": "Nick Shaforostov", "link": "https://stackoverflow.com/users/6998451/nick-shaforostov"}, "is_accepted": false, "score": 1, "last_activity_date": 1500389750, "creation_date": 1500389750, "answer_id": 45170319, "question_id": 36754823, "link": "https://stackoverflow.com/questions/36754823/cant-antialias-font/45170319#45170319", "title": "Can&#39;t antialias font", "body": "<p>The problem is in the font itself. It is anti-aliased fine on Mac, using Qt 4.8 64-bit, but Windows font renderer seems to be not advanced enough to antialias a font with PostScript outlines / OpenType layout. I tried to play with FontForge but couldn't make it anti-aliaseable on Windows so far.</p>\n"}], "owner": {"reputation": 17, "user_id": 3489057, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/cfcb3b4f3b454ed254a65674c873eeba?s=128&d=identicon&r=PG&f=1", "display_name": "user3489057", "link": "https://stackoverflow.com/users/3489057/user3489057"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 476, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1500389750, "creation_date": 1461185093, "last_edit_date": 1461240012, "question_id": 36754823, "link": "https://stackoverflow.com/questions/36754823/cant-antialias-font", "title": "Can&#39;t antialias font", "body": "<p>This is the code I wrote, but it seems to apply the antialiasing</p>\n\n<pre><code>font = QtGui.QFont(\"Trajan Pro\", 20)\nfont.setStyleStrategy(QtGui.QFont.PreferAntialias)\nfont.setBold(True)\nself.setFont(font)\nself.shadow = QtGui.QGraphicsDropShadowEffect(self)\nself.shadow.setOffset(2,1)\nself.shadow.setBlurRadius(2.0)\nself.label.setGraphicsEffect(self.shadow)\n</code></pre>\n\n<p><img src=\"https://i.stack.imgur.com/ezfBt.png\" alt=\"Here&#39;s the result\"></p>\n\n<p>Any suggestions?</p>\n\n<p>EDIT:\nHere's a MCVE</p>\n\n<pre><code>from PyQt4 import QtCore, QtGui\nclass FontWidget(QtGui.QWidget):\n    def __init__(self, parent):\n        super(FontWidget, self).__init__(parent)\n\n        layout = QtGui.QHBoxLayout()\n        layout.setAlignment(QtCore.Qt.AlignHCenter | QtCore.Qt.AlignCenter)\n        label = QtGui.QLabel('Hello, this is a test')\n        layout.addWidget(label)\n        self.setLayout(layout)\n\n        fontDB = QtGui.QFontDatabase()\n        fontDB.addApplicationFont(\":/TrajanPro-Regular.otf\")\n        font = QtGui.QFont(\"Trajan Pro\", 20)\n        font.setStyleStrategy(QtGui.QFont.PreferAntialias)\n        font.setBold(True)\n        self.setFont(font)\n\n        shadow = QtGui.QGraphicsDropShadowEffect(self)\n        shadow.setOffset(2,1)\n        shadow.setBlurRadius(2.0)\n        label.setGraphicsEffect(shadow)\n\n        palette = QtGui.QPalette()\n        palette.setColor(QtGui.QPalette.Foreground, QtCore.Qt.white)\n        palette.setColor(QtGui.QPalette.Background, QtCore.Qt.red)\n        self.setPalette(palette)\n\nif __name__ == '__main__':\n    app = QtGui.QApplication([])\n    window = FontWidget(None)\n    window.show()\n    app.exec_()\n</code></pre>\n\n<p><img src=\"https://i.stack.imgur.com/iSOeX.png\" alt=\"New screenshot\"></p>\n\n<p>As you can see in S and O, antialias seems to be not properly applied</p>\n\n<p>EDIT 2:</p>\n\n<p>Added the import</p>\n\n<p>Here's a link to download the font: </p>\n\n<p><a href=\"http://www.fontpalace.com/font-details/TrajanPro-Regular+OTF/\" rel=\"nofollow noreferrer\">http://www.fontpalace.com/font-details/TrajanPro-Regular+OTF/</a></p>\n"}, {"tags": ["python", "django"], "answers": [{"comments": [{"owner": {"reputation": 15, "user_id": 6055333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4535765190d676008c96ef093a1786c2?s=128&d=identicon&r=PG&f=1", "display_name": "Alex Star", "link": "https://stackoverflow.com/users/6055333/alex-star"}, "edited": false, "score": 1, "creation_date": 1461185919, "post_id": 36754806, "comment_id": 61090330, "body": "Thank you. I didn&#39;t know the difference between locals() and a populated dictionary, so I hadn&#39;t even thought the problem could be there.  From now on I&#39;ll stick to dictionaries. Thank you very much."}, {"owner": {"reputation": 10604, "user_id": 5230901, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/85fb790721ad6b8004cbcb9c9d35c24c?s=128&d=identicon&r=PG&f=1", "display_name": "Pythonista", "link": "https://stackoverflow.com/users/5230901/pythonista"}, "edited": false, "score": 1, "creation_date": 1461186333, "post_id": 36754806, "comment_id": 61090526, "body": "Locals IS a dictionary. So is globals."}, {"owner": {"reputation": 186, "user_id": 1363908, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d1b59223d380eb629078d0e40cf80619?s=128&d=identicon&r=PG", "display_name": "Tyler Morgan", "link": "https://stackoverflow.com/users/1363908/tyler-morgan"}, "edited": false, "score": 0, "creation_date": 1461186429, "post_id": 36754806, "comment_id": 61090582, "body": "Sure, it&#39;s a dictionary, but it&#39;s not explicit \u2013 which is what led to his issue in the first place. I modified the answer to remove the word &quot;actual&quot;."}, {"owner": {"reputation": 7116, "user_id": 1394353, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/519ce8a904896c40b9a9e2d9a82e0d3c?s=128&d=identicon&r=PG", "display_name": "JL Peyret", "link": "https://stackoverflow.com/users/1394353/jl-peyret"}, "edited": false, "score": 0, "creation_date": 1461186815, "post_id": 36754806, "comment_id": 61090815, "body": "well, the dictionary vs locals is a matter of preference.  both end up the same.  the main sticking point is that a missing context attribute name won&#39;t throw a KeyError within the template when you used <code>dog</code> instead of <code>dog_view</code>..  It would have done so on either locals() or the explicit dictionary <b>within Python code</b>.  A Django template however is built to be tolerant to missing references and it just ignores them.  More robust to the end user, but it puts the onus on you to be careful.  I don&#39;t agree/disagree with Tyler, but either way is still open to goofs in template refs."}], "tags": [], "owner": {"reputation": 186, "user_id": 1363908, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d1b59223d380eb629078d0e40cf80619?s=128&d=identicon&r=PG", "display_name": "Tyler Morgan", "link": "https://stackoverflow.com/users/1363908/tyler-morgan"}, "is_accepted": true, "score": 0, "last_activity_date": 1461186416, "last_edit_date": 1461186416, "creation_date": 1461185062, "answer_id": 36754806, "question_id": 36754689, "link": "https://stackoverflow.com/questions/36754689/django-get-currently-used-object-inside-the-template/36754806#36754806", "title": "Django. Get currently used object inside the template", "body": "<p>You'll want to populate a dictionary object like you do in your <code>home</code> view rather than calling locals(). <strong>Explicit is better than implicit.</strong></p>\n\n<pre><code>def dog_view(request, name):\n    dog_list = dog.objects.all()\n    dog_view = get_object_or_404(dog, name=name)\n\n    return render(request, 'profile.html', {'dogs': dog_list,\n                                            'dog': dog_view}\n</code></pre>\n\n<p>To explain the actual problem though, you're referencing <code>dog.attribute</code> in your template, but by calling <code>locals()</code> it's passing <code>dog_view</code> as the object reference. If you stick with locals (which I wouldn't recommend) you'd need to reference <code>dog_view.attribute</code> in your template.</p>\n"}, {"tags": [], "owner": {"reputation": 10604, "user_id": 5230901, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/85fb790721ad6b8004cbcb9c9d35c24c?s=128&d=identicon&r=PG&f=1", "display_name": "Pythonista", "link": "https://stackoverflow.com/users/5230901/pythonista"}, "is_accepted": false, "score": 0, "last_activity_date": 1461185073, "creation_date": 1461185073, "answer_id": 36754814, "question_id": 36754689, "link": "https://stackoverflow.com/questions/36754689/django-get-currently-used-object-inside-the-template/36754814#36754814", "title": "Django. Get currently used object inside the template", "body": "<p>You can just pass the dog object you have in your view as a context variable to your template and then you can access the dog's attributes such as name, description, etc. by doing (in this case) <code>dog_view.name</code>, <code>dog_view.description</code>, <code>dog_view.main_image.url</code>. If you print out <code>locals()</code> you'll see that this is a dict of your local variables + values and args. So, inside this dict you have <code>\"dog_view\": &lt;Dog object&gt;, ...</code> so you're actually already passing the dog instance.</p>\n\n<p>But, as you see in the other answer you would preferably pass these explicitly to your template I wouldn't recommend using <code>locals()</code>.</p>\n"}], "owner": {"reputation": 15, "user_id": 6055333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4535765190d676008c96ef093a1786c2?s=128&d=identicon&r=PG&f=1", "display_name": "Alex Star", "link": "https://stackoverflow.com/users/6055333/alex-star"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "accepted_answer_id": 36754806, "answer_count": 2, "score": 1, "last_activity_date": 1461186416, "creation_date": 1461184656, "question_id": 36754689, "link": "https://stackoverflow.com/questions/36754689/django-get-currently-used-object-inside-the-template", "title": "Django. Get currently used object inside the template", "body": "<p>I'm relatively new to Django. Currently I'm writing a webpage for a friend's dog kennel. I have a base.html with a list of dogs. By clicking on any of them you go to their profile(which takes a child template profile.html) which exists on their own respective URL according to the name of the dog.</p>\n\n<p>My problem is that I can't refer to the dog object <em>inside</em> the template. I need to take out the dog's name, its description and image. </p>\n\n<p>Here are my files:</p>\n\n<p>models.py</p>\n\n<pre><code>class dog(models.Model):\n    name = models.CharField(max_length=30, blank=False, null=True)\n    main_image = models.ImageField(upload_to='dogs', blank=False, null=True)\n    description = models.TextField(max_length=500, blank=False, null=True)\n    slug = AutoSlugField(populate_from='name')\n</code></pre>\n\n<p>views.py</p>\n\n<pre><code>def home(request):\n    dog_list = dog.objects.all()\n    template = 'base_extend.html'\n    return render(request, template, {'dogs' : dog_list})\n\ndef dog_view(request, name):    \n    dog_list = dog.objects.all()\n    dog_view = get_object_or_404(dog, name=name)\n    return render(request, 'profile.html', locals())\n</code></pre>\n\n<p>base.html</p>\n\n<pre><code>{% for dog in dogs %}\n&lt;a href=\"{% url 'profile' dog.name %}\"&gt;\n&lt;div class=\"col-sm-4\"&gt;\n&lt;img class=\"img-circle img-responsive img-center\" src=\"{{ dog.main_image.url }}\" height=400px width=400px alt=\"\"&gt;\n    &lt;h2 align=center&gt;{{ dog.name }} \n    {% if dog.gender == 'ML' %}\n        &amp;#9794; \n    {% else %} \n        &amp;#9792;\n    {% endif %}&lt;/h2&gt;\n    &lt;p&gt;{{ dog.description }}&lt;/p&gt;\n&lt;/div&gt;&lt;/a&gt;\n</code></pre>\n\n<p>And in profile.html I need the following:</p>\n\n<pre><code>&lt;img src=\"{{ dog.main_image.url }}\"&gt;\n    &lt;h2&gt;{{ dog.name }}&lt;/h2&gt;\n    &lt;p&gt;{{ dog.description }}&lt;/p&gt;\n</code></pre>\n\n<p>How do I refer to the object of the dog, for which the current URL was created? Variable {{ name }} returns only the string, and {{ dog_list }} returns the list of all dogs created.</p>\n\n<p>{{ dog_list.1 }} (or any other number) almost does what I need, except I don't know how to get the number of the current dog.</p>\n\n<p>Thank you for reading such a long question to the end. I hope for your answer, since I googled all over the internet and couldn't find the answer (or perhaps I made wrong requests). Thank you.</p>\n"}, {"tags": ["python", "image", "beautifulsoup"], "answers": [{"tags": [], "owner": {"reputation": 1574, "user_id": 1585957, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fe34b0fb6288bd44b5a32efd7afdca8?s=128&d=identicon&r=PG", "display_name": "bmcculley", "link": "https://stackoverflow.com/users/1585957/bmcculley"}, "is_accepted": false, "score": 1, "last_activity_date": 1461185555, "creation_date": 1461185555, "answer_id": 36754963, "question_id": 36754686, "link": "https://stackoverflow.com/questions/36754686/beautiful-soup-get-picture-size-from-html/36754963#36754963", "title": "Beautiful Soup: get picture size from html", "body": "<p>It works a little differently, to get other attributes</p>\n\n<pre><code>for pic in soup.find_all('img'):\n    print(pic.get('width'))\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2318, "user_id": 4454635, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/68948c08bbd4e872c4ea3726bfeb97d8?s=128&d=identicon&r=PG&f=1", "display_name": "horace_vr", "link": "https://stackoverflow.com/users/4454635/horace-vr"}, "edited": false, "score": 0, "creation_date": 1461186292, "post_id": 36754965, "comment_id": 61090508, "body": "There is a picture without explicit width and height, but <code>get()</code> returns <code>None</code> for that particular picture"}, {"owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "reply_to_user": {"reputation": 2318, "user_id": 4454635, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/68948c08bbd4e872c4ea3726bfeb97d8?s=128&d=identicon&r=PG&f=1", "display_name": "horace_vr", "link": "https://stackoverflow.com/users/4454635/horace-vr"}, "edited": false, "score": 0, "creation_date": 1461186363, "post_id": 36754965, "comment_id": 61090550, "body": "@horace_vr sure, if width is not set, <code>pic.get(&#39;width&#39;)</code> would return <code>None</code>. As opposed to a <code>KeyError</code> in case of <code>pic[&#39;width&#39;]</code>."}], "tags": [], "owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "is_accepted": true, "score": 2, "last_activity_date": 1461185559, "creation_date": 1461185559, "answer_id": 36754965, "question_id": 36754686, "link": "https://stackoverflow.com/questions/36754686/beautiful-soup-get-picture-size-from-html/36754965#36754965", "title": "Beautiful Soup: get picture size from html", "body": "<p>The dictionary-like attribute access should work for <code>width</code> and <code>height</code> as well, if they are specified. You might encounter images that don't have these attributes explicitly set - your current code would throw a <code>KeyError</code> in this case. You can use <code>get()</code> and provide a default value instead:</p>\n\n<pre><code>for pic in soup.find_all('img'):\n    print(pic.get('width', 'n/a'))\n</code></pre>\n\n<p>Or, you can find only <code>img</code> elements that have the <code>width</code> and <code>height</code> specified:</p>\n\n<pre><code>for pic in soup.find_all('img', width=True, height=True):\n    print(pic['width'], pic['height']) \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 15852, "user_id": 2294755, "user_type": "registered", "accept_rate": 23, "profile_image": "https://i.stack.imgur.com/moDhz.jpg?s=128&g=1", "display_name": "Hackaholic", "link": "https://stackoverflow.com/users/2294755/hackaholic"}, "is_accepted": false, "score": 1, "last_activity_date": 1461185592, "creation_date": 1461185592, "answer_id": 36754976, "question_id": 36754686, "link": "https://stackoverflow.com/questions/36754686/beautiful-soup-get-picture-size-from-html/36754976#36754976", "title": "Beautiful Soup: get picture size from html", "body": "<p>Try this:</p>\n\n<pre><code>&gt;&gt;&gt; html = '&lt;img src=\"http://somelink.com/somepic.jpg\" width=\"200\" height=\"100\"&gt;'\n&gt;&gt;&gt; soup = BeautifulSoup(html)\n&gt;&gt;&gt; for tag in soup.find_all('img'):\n...     print tag.attrs.get('height', None), tag.attrs.get('width', None)\n... \n100 200\n</code></pre>\n\n<p>you can use attrs method, it returns a dict , keys as attribute of tag and values as tag value .</p>\n"}], "owner": {"reputation": 2318, "user_id": 4454635, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/68948c08bbd4e872c4ea3726bfeb97d8?s=128&d=identicon&r=PG&f=1", "display_name": "horace_vr", "link": "https://stackoverflow.com/users/4454635/horace-vr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2810, "favorite_count": 1, "accepted_answer_id": 36754965, "answer_count": 3, "score": 1, "last_activity_date": 1461186082, "creation_date": 1461184636, "last_edit_date": 1461186082, "question_id": 36754686, "link": "https://stackoverflow.com/questions/36754686/beautiful-soup-get-picture-size-from-html", "title": "Beautiful Soup: get picture size from html", "body": "<p>I want to extract the pictures' widths and heights using Bueatiful Soup. All pictures have the same code format: </p>\n\n<pre><code>&lt;img src=\"http://somelink.com/somepic.jpg\" width=\"200\" height=\"100\"&gt;\n</code></pre>\n\n<p>I can extract the links easily with</p>\n\n<pre><code>for pic in soup.find_all('img'):\n    print (pic['src'])\n</code></pre>\n\n<p>But</p>\n\n<pre><code>for pic in soup.find_all('img'):\n    print (pic['width'])\n</code></pre>\n\n<p>is not working for extracting sizes. What am I missing?</p>\n\n<p><strong>EDIT:</strong>\nOne of the pictures in the page does not have the width and height in the html code. Did not notice this at the time of the initial post. So any solution must take this into account</p>\n"}, {"tags": ["python", "qt", "sockets", "udp", "protocols"], "comments": [{"owner": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "edited": false, "score": 2, "creation_date": 1461185044, "post_id": 36754685, "comment_id": 61089874, "body": "This question feels not quite appropriate for this forum. You are likely to receive replies supported only by opinion, each equally valid. Having said that, I&#39;d use JSON so my message would look like <code>{&#39;x&#39;:142,&#39;y&#39;:10,&#39;attitude&#39;:negative&#39;,&#39;outlook&#39;:&#39;positive&#39;}</code>"}, {"owner": {"reputation": 88126, "user_id": 1329652, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/fa4ef026ee4be15d3dbacc95f1773d03?s=128&d=identicon&r=PG&f=1", "display_name": "Kuba hasn&#39;t forgotten Monica", "link": "https://stackoverflow.com/users/1329652/kuba-hasnt-forgotten-monica"}, "reply_to_user": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "edited": false, "score": 0, "creation_date": 1461185493, "post_id": 36754685, "comment_id": 61090120, "body": "@Rob\u1d69 Single-quoted strings are <i>not</i> standard JSON. Some decoders permissively allow them, but that doesn&#39;t mean that you should knowingly advocate producing such JSON output. Your message example should be <code>{&quot;x&quot;:142,&quot;y&quot;:10,&quot;attitude&quot;:&quot;negative&quot;,&quot;outlook&quot;:&quot;positive&quot;}</code>."}, {"owner": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "reply_to_user": {"reputation": 88126, "user_id": 1329652, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/fa4ef026ee4be15d3dbacc95f1773d03?s=128&d=identicon&r=PG&f=1", "display_name": "Kuba hasn&#39;t forgotten Monica", "link": "https://stackoverflow.com/users/1329652/kuba-hasnt-forgotten-monica"}, "edited": false, "score": 0, "creation_date": 1461185863, "post_id": 36754685, "comment_id": 61090302, "body": "@KubaOber - You are correct. Thank you."}], "answers": [{"tags": [], "owner": {"reputation": 88126, "user_id": 1329652, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/fa4ef026ee4be15d3dbacc95f1773d03?s=128&d=identicon&r=PG&f=1", "display_name": "Kuba hasn&#39;t forgotten Monica", "link": "https://stackoverflow.com/users/1329652/kuba-hasnt-forgotten-monica"}, "is_accepted": true, "score": 1, "last_activity_date": 1461185519, "last_edit_date": 1461185519, "creation_date": 1461185213, "answer_id": 36754860, "question_id": 36754685, "link": "https://stackoverflow.com/questions/36754685/how-to-send-udp-client-message-in-smart-way-to-the-udp-server-parse-the-message/36754860#36754860", "title": "How to send UDP client message in smart way to the UDP server parse the message", "body": "<p>If you really want to keep things simple and change the existing code the least, you can include empty values for parameters with values that didn't change. E.g. if you have four parameters, then assuming they all changed you'd send <code>142,10,2,negative,positive</code>, but if only the first two changed you'd send <code>142,10,,</code>. But, such ad-hoc schemes should be IMHO discouraged.</p>\n\n<p>You could use <a href=\"http://www.json.org\" rel=\"nofollow\">json</a> with very short member strings. E.g.<code>{\"a\":142,\"b\":10}</code>. You'd have to keep a human-readable mapping between the short string keys and their meaning separate from the data. Since the strings can be any Unicode character, you have quite a way to go before you ran out of single characters to use. Also, Python <a href=\"https://docs.python.org/2/library/json.html\" rel=\"nofollow\">natively supports json</a>.</p>\n\n<p>If you don't care much about the length of the packet, then you don't even need short member strings: make your packets-self documenting by using meaningful strings, such as <code>{\"velocity\":142,\"acceleration\":10}</code>.</p>\n"}], "owner": {"reputation": 13, "user_id": 3297042, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e564c92a327de8f83d27d0c9d1ef2bd?s=128&d=identicon&r=PG&f=1", "display_name": "user3297042", "link": "https://stackoverflow.com/users/3297042/user3297042"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 138, "favorite_count": 0, "accepted_answer_id": 36754860, "answer_count": 1, "score": 1, "last_activity_date": 1461185519, "creation_date": 1461184632, "question_id": 36754685, "link": "https://stackoverflow.com/questions/36754685/how-to-send-udp-client-message-in-smart-way-to-the-udp-server-parse-the-message", "title": "How to send UDP client message in smart way to the UDP server parse the message", "body": "<p>I have an application in PyQT (UDP client) that send some parameters over UDP/IP to an application on raspberry (UDP server).</p>\n\n<p>This Qt application has several fields like PID parameters, speed of the motor, sensors presets and so on.</p>\n\n<p>Actually, the UDP client sends a string by getting the values from each field in the QT application and appending the data into the string with separator character (','), always in the same sequence. For instance, \"142.0, 10.0, 2.0, negative, positive\".<br>\nThe UDP server receives this message, splits the message and moves each item of the list to the respective variable.</p>\n\n<p>It works, but it is not smart, all parameters are sent even when one the parameter is not changed.</p>\n\n<p>Whats should be the smart way to send only specific parameters, not depending of the right sequence? or only the changed ones?</p>\n\n<p>Maybe some encapsulate protocol over the UDP message?</p>\n"}, {"tags": ["python", "django", "postgresql", "centos7"], "comments": [{"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1461184615, "post_id": 36754655, "comment_id": 61089634, "body": "do you have posgres installed?"}, {"owner": {"reputation": 209, "user_id": 5165554, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-0w2D4Qi9gGo/AAAAAAAAAAI/AAAAAAAAAIA/mspRVo4wMjw/photo.jpg?sz=128", "display_name": "pateto777", "link": "https://stackoverflow.com/users/5165554/pateto777"}, "reply_to_user": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1461184703, "post_id": 36754655, "comment_id": 61089688, "body": "Yes I have. It&#39;s the 9.2.15 version."}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 1, "creation_date": 1461184725, "post_id": 36754655, "comment_id": 61089698, "body": "see this simillar question <a href=\"http://stackoverflow.com/questions/12911717/error-command-gcc-failed-with-exit-status-when-installing-psycopg2\" title=\"error command gcc failed with exit status when installing psycopg2\">stackoverflow.com/questions/12911717/&hellip;</a>"}, {"owner": {"reputation": 209, "user_id": 5165554, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-0w2D4Qi9gGo/AAAAAAAAAAI/AAAAAAAAAIA/mspRVo4wMjw/photo.jpg?sz=128", "display_name": "pateto777", "link": "https://stackoverflow.com/users/5165554/pateto777"}, "reply_to_user": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 1, "creation_date": 1461184967, "post_id": 36754655, "comment_id": 61089827, "body": "It works now, thanks!"}, {"owner": {"reputation": 209, "user_id": 5165554, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-0w2D4Qi9gGo/AAAAAAAAAAI/AAAAAAAAAIA/mspRVo4wMjw/photo.jpg?sz=128", "display_name": "pateto777", "link": "https://stackoverflow.com/users/5165554/pateto777"}, "reply_to_user": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1461185032, "post_id": 36754655, "comment_id": 61089871, "body": "I used: sudo yum install postgresql-devel, this was missing. Thanks for your help!"}], "owner": {"reputation": 209, "user_id": 5165554, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-0w2D4Qi9gGo/AAAAAAAAAAI/AAAAAAAAAIA/mspRVo4wMjw/photo.jpg?sz=128", "display_name": "pateto777", "link": "https://stackoverflow.com/users/5165554/pateto777"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 55, "favorite_count": 0, "closed_date": 1461185118, "answer_count": 0, "score": 0, "last_activity_date": 1461184550, "creation_date": 1461184550, "question_id": 36754655, "link": "https://stackoverflow.com/questions/36754655/how-do-i-install-psycopg2-in-centos-7", "closed_reason": "Duplicate", "title": "How do I Install psycopg2 in Centos 7?", "body": "<p>I want to install the django backend for postgresql. I tried:</p>\n\n<pre><code>pip install psycopg2\n</code></pre>\n\n<p>However, I have the following output:</p>\n\n<pre><code> In file included from psycopg/psycopgmodule.c:27:0:\n    ./psycopg/psycopg.h:31:22: fatal error: libpq-fe.h: No such file or directory\n     #include &lt;libpq-fe.h&gt;\n                          ^\n    compilation terminated.\n    error: command 'gcc' failed with exit status 1\n\n    ----------------------------------------\nCommand \"/home/_ws_/rest/gps/venv/bin/python -u -c \"import setuptools, tokenize;__file__='/tmp/pip-build-G252wf/psycopg2/setup.py';exec(compile(getattr(tokenize, 'open', open)(__file__).read().replace('\\r\\n', '\\n'), __file__, 'exec'))\" install --record /tmp/pip-CX3AAq-record/install-record.txt --single-version-externally-managed --compile --install-headers /home/_ws_/rest/gps/venv/include/site/python2.7/psycopg2\" failed with error code 1 in /tmp/pip-build-G252wf/psycopg2/\n</code></pre>\n\n<p>What should I do?</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["python", "ipython"], "comments": [{"owner": {"reputation": 156940, "user_id": 416467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/32cad7487ccecc3740a62e797fc326dc?s=128&d=identicon&r=PG", "display_name": "kindall", "link": "https://stackoverflow.com/users/416467/kindall"}, "edited": false, "score": 7, "creation_date": 1461184822, "post_id": 36754651, "comment_id": 61089761, "body": "Fix: don&#39;t use the name of a standard module as a name for your own module. <a href=\"https://docs.python.org/2/library/code.html\" rel=\"nofollow noreferrer\">docs.python.org/2/library/code.html</a>"}, {"owner": {"reputation": 2759, "user_id": 2809008, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff24f265a3c1712e989e0654a8c16f2a?s=128&d=identicon&r=PG", "display_name": "ljetibo", "link": "https://stackoverflow.com/users/2809008/ljetibo"}, "edited": false, "score": 1, "creation_date": 1461184830, "post_id": 36754651, "comment_id": 61089766, "body": "there&#39;s a code object in Python that you can get from <code>compile</code> function. It could be that&#39;s what&#39;s messing with you."}, {"owner": {"reputation": 752, "user_id": 3866874, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/51bd0bf617a17a869d8cd77d96565667?s=128&d=identicon&r=PG", "display_name": "drake", "link": "https://stackoverflow.com/users/3866874/drake"}, "reply_to_user": {"reputation": 156940, "user_id": 416467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/32cad7487ccecc3740a62e797fc326dc?s=128&d=identicon&r=PG", "display_name": "kindall", "link": "https://stackoverflow.com/users/416467/kindall"}, "edited": false, "score": 0, "creation_date": 1461185360, "post_id": 36754651, "comment_id": 61090057, "body": "Thanks, @kindall. Is that the only simple fix? I&#39;d say that that didn&#39;t happen to me in another computer with perhaps another ipython installation/configuration. I&#39;m only ~75% sure about this. I don&#39;t usually use ipython shell/notebook"}, {"owner": {"reputation": 156940, "user_id": 416467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/32cad7487ccecc3740a62e797fc326dc?s=128&d=identicon&r=PG", "display_name": "kindall", "link": "https://stackoverflow.com/users/416467/kindall"}, "edited": false, "score": 1, "creation_date": 1461186260, "post_id": 36754651, "comment_id": 61090486, "body": "Well, you could also change the search path so it looks in that directory first for modules, but then you couldn&#39;t use the Python <code>code</code> module."}, {"owner": {"reputation": 752, "user_id": 3866874, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/51bd0bf617a17a869d8cd77d96565667?s=128&d=identicon&r=PG", "display_name": "drake", "link": "https://stackoverflow.com/users/3866874/drake"}, "reply_to_user": {"reputation": 156940, "user_id": 416467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/32cad7487ccecc3740a62e797fc326dc?s=128&d=identicon&r=PG", "display_name": "kindall", "link": "https://stackoverflow.com/users/416467/kindall"}, "edited": false, "score": 0, "creation_date": 1461186585, "post_id": 36754651, "comment_id": 61090680, "body": "Thanks, @kindall. I&#39;ll be happy to accept if you make it an answer"}], "owner": {"reputation": 752, "user_id": 3866874, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/51bd0bf617a17a869d8cd77d96565667?s=128&d=identicon&r=PG", "display_name": "drake", "link": "https://stackoverflow.com/users/3866874/drake"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 29, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1461310651, "creation_date": 1461184540, "last_edit_date": 1461310651, "question_id": 36754651, "link": "https://stackoverflow.com/questions/36754651/ipythons-strange-behavior-with-directories-named-code", "title": "ipython&#39;s strange behavior with directories named &quot;code&quot;", "body": "<p>I can't import anything from directories named \"code\".</p>\n\n<p>I have the following directory structure:</p>\n\n<pre><code>In [1]: ls\ncode/          data/          pickles/\ncode_copy/     documentation/ submissions/\n</code></pre>\n\n<p>code_copy is an exact copy of code</p>\n\n<pre><code>In [2]: ls code_copy/\nsantander.py              \n__init__.py               santander.pyc             \n\n\nIn [3]: ls code\nsantander.py              \n__init__.py               santander.pyc            \n</code></pre>\n\n<p>However, the behavior of these two directories is different when I try to import something from them. For example, I can't import santander.py from code</p>\n\n<pre><code>In [4]: from code.\ncode.InteractiveConsole      code.compile_command\ncode.InteractiveInterpreter  code.interact\n\nIn [5]: from code import santander\n---------------------------------------------------------------------------\nImportError                               Traceback (most recent call last)\n&lt;ipython-input-20-e36a94117eb8&gt; in &lt;module&gt;()\n----&gt; 1 from code import santander\n\nImportError: cannot import name santander\n</code></pre>\n\n<p>while I'm able to do it from code_copy</p>\n\n<pre><code>In [6]: from code_copy.  \ncode_copy.santander            \n\nIn [7]: from code_copy import santander\n\nIn [8]:\n</code></pre>\n\n<p>Is this ipython's behavior normal? Is \"code\" a especial name? How can this be fixed?</p>\n"}, {"tags": ["python", "trie"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 1, "creation_date": 1461184565, "post_id": 36754565, "comment_id": 61089603, "body": "You want us to debug code <i>you won&#39;t even show us?!</i> Give me a break..."}, {"owner": {"reputation": 3919, "user_id": 3169961, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/42c9a71949249cac6172502dfce7da7d?s=128&d=identicon&r=PG", "display_name": "sabbahillel", "link": "https://stackoverflow.com/users/3169961/sabbahillel"}, "edited": false, "score": 0, "creation_date": 1461184664, "post_id": 36754565, "comment_id": 61089661, "body": "I would guess that your problem is on line xxxx (the actual number is under the x for academic integrity)"}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1461184721, "post_id": 36754565, "comment_id": 61089695, "body": "We can&#39;t really help you with this. It sounds like a debugging problem, and we can&#39;t debug code we can&#39;t see. The best we can do is link you to a guide to <a href=\"https://ericlippert.com/2014/03/05/how-to-debug-small-programs/\" rel=\"nofollow noreferrer\">how to debug small programs</a>."}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1461185002, "post_id": 36754565, "comment_id": 61089857, "body": "You want us to put you on the right track, but as far as we can tell, you&#39;re <i>on</i> the right track, just derailing a little somewhere. Your problem is probably somewhere in the details. If you&#39;re <i>not</i> on the right track, we can&#39;t really tell, and with how little we have to go on, putting you on the right track would involve us laying out most of the architecture and implementation of your program for you just to get to a point similar to the point where you probably already are."}], "owner": {"reputation": 17, "user_id": 5390703, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/223a698260e01fd6f281c70a501bc91d?s=128&d=identicon&r=PG&f=1", "display_name": "iac", "link": "https://stackoverflow.com/users/5390703/iac"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 43, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1461184544, "creation_date": 1461184255, "last_edit_date": 1461184544, "question_id": 36754565, "link": "https://stackoverflow.com/questions/36754565/need-help-getting-my-python-trie-functions-to-return-the-proper-string", "title": "Need help getting my Python trie functions to return the proper string", "body": "<p>I have a few functions for a Trie that I <strong>want</strong> produce the following output:</p>\n\n<pre><code>/*Putting a string into an Entry item I created: parses string, removes   \nsyllable stresses and adds a comma in between the word and its \npronunciation*/\n\nThe Line is: MARIBELLE,MA RAH B EY L \n\n/*splits the line into a list using ',' as a delimiter*/\n\nThe Entry is Saved as: ['MARIBELLE', 'MA RAH B EY L']\n\n/*self.entry[0]*/\n\nThe Word is: MARIBELLE\n\n/*self.entry[1].split(\" \")*/\n\nIts Pronunciation is: ['MA', 'RAH', 'B', 'EY', 'L']\n\n/*desired output with word from a word list formatted the same way as the  \ninput line (word  sy la bles); here I know it should choose: LORABELLE  LO   \nRAH B EY L*/\n\nThe Word With Longest Common Rhyming Suffix is: LORABELLE****\n</code></pre>\n\n<p><strong>However my longest common suffix function is spitting out:</strong></p>\n\n<pre><code>The Longest Rhyming Suffix is: LEYBRAHLO\n</code></pre>\n\n<p>In other words, it's finding the closest match to the input, but instead of returning the word itself, I've only been able to get it to spit out the way I (poorly) spelled it out phonetically backwards. I want it to check for matches in reverse because this is supposed to tell me what word(s) rhyme with the input (suffix checking), and I'm not too concerned with getting the syllables printed in the right order if I can just have it return the original word that the syllables sound out.</p>\n\n<p>For the sake of academic integrity, I cannot post any significant code samples here, but I was wondering if someone could put me on the right track.</p>\n\n<p>tl;dr - After finding a word that rhymes with my input in the trie, how can I then have the trie's functions return that rhyming word and not its pronunciation?</p>\n"}, {"tags": ["python", "string", "python-3.x"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 2, "creation_date": 1461184676, "post_id": 36754522, "comment_id": 61089671, "body": "If this is <b>working code</b> that you think could be improved, see <a href=\"https://codereview.stackexchange.com\">Code Review</a>. If not, please clarify the issue with a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}, {"owner": {"reputation": 35319, "user_id": 871910, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/f073f5ca74b61813e689bbda8d12ba2b?s=128&d=identicon&r=PG", "display_name": "zmbq", "link": "https://stackoverflow.com/users/871910/zmbq"}, "edited": false, "score": 2, "creation_date": 1461184905, "post_id": 36754522, "comment_id": 61089798, "body": "Well, if you lose the time.sleep calls, the code will be a second faster and two lines shorter."}, {"owner": {"user_type": "does_not_exist", "display_name": "user6232337"}, "edited": false, "score": 0, "creation_date": 1461185122, "post_id": 36754522, "comment_id": 61089913, "body": "I know, I just want to make it more efficient as my friend managed to get the same result by using 4 lines of code"}, {"owner": {"reputation": 343905, "user_id": 4279, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d92ce60d3a4cbe03598e27c2e8dee69d?s=128&d=identicon&r=PG", "display_name": "jfs", "link": "https://stackoverflow.com/users/4279/jfs"}, "edited": false, "score": 1, "creation_date": 1461186666, "post_id": 36754522, "comment_id": 61090733, "body": "@MrPython less lines (by itself) doesn&#39;t make the code more efficient or  readable."}], "answers": [{"comments": [{"owner": {"reputation": 545, "user_id": 6225559, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8954de43ac82de79f2161ccc9556d580?s=128&d=identicon&r=PG&f=1", "display_name": "nephlm", "link": "https://stackoverflow.com/users/6225559/nephlm"}, "edited": false, "score": 0, "creation_date": 1461186366, "post_id": 36754988, "comment_id": 61090553, "body": "While technically not required, you might want to dedupe s by doing something like <code>list(set(sentence.split()))</code>  Might be relevant if the corpus of words gets large and so a lot of <code>s.index()</code> calls are made."}, {"owner": {"user_type": "does_not_exist", "display_name": "user6232337"}, "edited": false, "score": 1, "creation_date": 1461186718, "post_id": 36754988, "comment_id": 61090763, "body": "But this doesn&#39;t print the numbers as the end result it only prints the sentence"}, {"owner": {"reputation": 3650, "user_id": 6004486, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17c24716401bb14cca523bd36f8f8525?s=128&d=identicon&r=PG&f=1", "display_name": "jDo", "link": "https://stackoverflow.com/users/6004486/jdo"}, "edited": false, "score": 0, "creation_date": 1461186835, "post_id": 36754988, "comment_id": 61090824, "body": "@MrPython <code>print (positions)</code> or <code>print(&quot; &quot;.join(positions)</code>. I just thought re-constructing the sentence from the positions was the end goal"}, {"owner": {"user_type": "does_not_exist", "display_name": "user6232337"}, "edited": false, "score": 0, "creation_date": 1461187040, "post_id": 36754988, "comment_id": 61090933, "body": "Yes now it prints out the numbers but it starts at 0. I want the result to be this 1,2,3,4,5,6,7,8,9,1,3,9,6,7,8,4,5"}, {"owner": {"reputation": 3650, "user_id": 6004486, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17c24716401bb14cca523bd36f8f8525?s=128&d=identicon&r=PG&f=1", "display_name": "jDo", "link": "https://stackoverflow.com/users/6004486/jdo"}, "edited": false, "score": 0, "creation_date": 1461187067, "post_id": 36754988, "comment_id": 61090942, "body": "@MrPython Added all three.. Sentence, list of positions, positions as string. Delete what you don&#39;t need"}, {"owner": {"user_type": "does_not_exist", "display_name": "user6232337"}, "edited": false, "score": 0, "creation_date": 1461187152, "post_id": 36754988, "comment_id": 61090991, "body": "Sorry I don&#39;t quite understand. Could you please write out exactly what I need to replace and what with."}, {"owner": {"reputation": 3650, "user_id": 6004486, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17c24716401bb14cca523bd36f8f8525?s=128&d=identicon&r=PG&f=1", "display_name": "jDo", "link": "https://stackoverflow.com/users/6004486/jdo"}, "edited": false, "score": 0, "creation_date": 1461187203, "post_id": 36754988, "comment_id": 61091018, "body": "@MrPython I changed it but I also wrote it in the asnwer: <i>&quot;You could, of course, add 1 to all indices in the list comprehension if you wanted it to start at 1.&quot;</i>. Now the numbers start from 1 rather than 0"}, {"owner": {"reputation": 3650, "user_id": 6004486, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17c24716401bb14cca523bd36f8f8525?s=128&d=identicon&r=PG&f=1", "display_name": "jDo", "link": "https://stackoverflow.com/users/6004486/jdo"}, "edited": false, "score": 0, "creation_date": 1461187302, "post_id": 36754988, "comment_id": 61091070, "body": "@MrPython I meant that I added 3 different print statements and you can just delete the two you don&#39;t want; be it the recreated string, the list, the string of positions, etc. You have three different outputs to choose from."}, {"owner": {"reputation": 3650, "user_id": 6004486, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17c24716401bb14cca523bd36f8f8525?s=128&d=identicon&r=PG&f=1", "display_name": "jDo", "link": "https://stackoverflow.com/users/6004486/jdo"}, "edited": false, "score": 0, "creation_date": 1461187400, "post_id": 36754988, "comment_id": 61091116, "body": "@MrPython Do what? Add 1 to all numbers in the list? Check my answer if that&#39;s what you mean"}, {"owner": {"user_type": "does_not_exist", "display_name": "user6232337"}, "edited": false, "score": 0, "creation_date": 1461187460, "post_id": 36754988, "comment_id": 61091140, "body": "Can you just write out the whole code please, i&#39;m getting a bit confused :)"}, {"owner": {"reputation": 3650, "user_id": 6004486, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17c24716401bb14cca523bd36f8f8525?s=128&d=identicon&r=PG&f=1", "display_name": "jDo", "link": "https://stackoverflow.com/users/6004486/jdo"}, "edited": false, "score": 1, "creation_date": 1461187496, "post_id": 36754988, "comment_id": 61091161, "body": "@MrPython I did!? That <i>is</i> the whole code"}, {"owner": {"user_type": "does_not_exist", "display_name": "user6232337"}, "edited": false, "score": 0, "creation_date": 1461187823, "post_id": 36754988, "comment_id": 61091305, "body": "But with the other bits you added on please?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user6232337"}, "edited": false, "score": 0, "creation_date": 1461187877, "post_id": 36754988, "comment_id": 61091332, "body": "Don&#39;t worry I&#39;ve got it. Thanks :)"}, {"owner": {"reputation": 3650, "user_id": 6004486, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17c24716401bb14cca523bd36f8f8525?s=128&d=identicon&r=PG&f=1", "display_name": "jDo", "link": "https://stackoverflow.com/users/6004486/jdo"}, "edited": false, "score": 0, "creation_date": 1461189042, "post_id": 36754988, "comment_id": 61091825, "body": "@MrPython You&#39;re welcome"}], "tags": [], "owner": {"reputation": 3650, "user_id": 6004486, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17c24716401bb14cca523bd36f8f8525?s=128&d=identicon&r=PG&f=1", "display_name": "jDo", "link": "https://stackoverflow.com/users/6004486/jdo"}, "is_accepted": false, "score": 1, "last_activity_date": 1461187887, "last_edit_date": 1461187887, "creation_date": 1461185644, "answer_id": 36754988, "question_id": 36754522, "link": "https://stackoverflow.com/questions/36754522/a-program-that-identifies-individual-words-in-a-sentence-stores-these-in-a-list/36754988#36754988", "title": "A program that identifies individual words in a sentence, stores these in a list and replaces each word with the position of that word in the list", "body": "<p>To get a list of word positions in <code>sentence</code> and recreate the original sentence from this list:</p>\n\n<pre><code>sentence = \"ASK NOT WHAT YOUR COUNTRY CAN DO FOR YOU ASK WHAT YOU CAN DO FOR YOUR COUNTRY\"\ns = sentence.split()\npositions = [s.index(x)+1 for x in s]\nrecreated = [s[i-1] for i in positions]\n# the reconstructed sentence\nprint(\" \".join(recreated))\n# the list of index numbers/word positions\nprint(positions)\n# the positions as a space separated string of numbers\nprint(\" \".join(positions)\n</code></pre>\n\n<p>Lists are zero-indexed so the first element is index 0, not 1. You could, of course, add 1 to all indices in the list comprehension if you wanted it to start at 1. </p>\n\n<p>To get exactly the same output as your script produces:</p>\n\n<pre><code>sentence = \"ASK NOT WHAT YOUR COUNTRY CAN DO FOR YOU ASK WHAT YOU CAN DO FOR YOUR COUNTRY\"\ns = sentence.split()\npositions = [s.index(x)+1 for x in s]\nprint(sentence)\nprint(positions)\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>ASK NOT WHAT YOUR COUNTRY CAN DO FOR YOU ASK WHAT YOU CAN DO FOR YOUR COUNTRY\n[1, 2, 3, 4, 5, 6, 7, 8, 9, 1, 3, 9, 6, 7, 8, 4, 5]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 343905, "user_id": 4279, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d92ce60d3a4cbe03598e27c2e8dee69d?s=128&d=identicon&r=PG", "display_name": "jfs", "link": "https://stackoverflow.com/users/4279/jfs"}, "is_accepted": false, "score": 2, "last_activity_date": 1488723126, "last_edit_date": 1495542724, "creation_date": 1461187589, "answer_id": 36755512, "question_id": 36754522, "link": "https://stackoverflow.com/questions/36754522/a-program-that-identifies-individual-words-in-a-sentence-stores-these-in-a-list/36755512#36755512", "title": "A program that identifies individual words in a sentence, stores these in a list and replaces each word with the position of that word in the list", "body": "<p>Here's a linear algorithm:</p>\n\n<pre><code>position = {} # word -&gt; position\nwords = sentence.split()\nfor word in words:\n    if word not in position: # new word\n       position[word] = len(position) + 1 # store its position\nprint(*map(position.__getitem__, words), sep=\",\")\n# -&gt; 1,2,3,4,5,6,7,8,9,1,3,9,6,7,8,4,5\n</code></pre>\n\n<p>The <code>print()</code> call uses Python 3 <code>*</code> syntax to unpack the result returned by <code>map()</code> that returns positions for the corresponding words here. See <a href=\"https://stackoverflow.com/q/36901/4279\">What does ** (double star) and * (star) do for parameters?</a></p>\n"}, {"tags": [], "owner": {"reputation": 8233, "user_id": 2247550, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/zrSSY.jpg?s=128&g=1", "display_name": "Jared Goguen", "link": "https://stackoverflow.com/users/2247550/jared-goguen"}, "is_accepted": false, "score": 0, "last_activity_date": 1461188831, "last_edit_date": 1461188831, "creation_date": 1461188264, "answer_id": 36755676, "question_id": 36754522, "link": "https://stackoverflow.com/questions/36754522/a-program-that-identifies-individual-words-in-a-sentence-stores-these-in-a-list/36755676#36755676", "title": "A program that identifies individual words in a sentence, stores these in a list and replaces each word with the position of that word in the list", "body": "<p>Not terribly efficient, but two lines.</p>\n\n<pre><code>words = sentence.split()\npositions = [words.index(word) + 1 for word in words]\n</code></pre>\n\n<p>Note that <code>list.index(entry)</code> will return the index of the first occurrence of <code>entry</code>. If you're okay with 0-based indices, then the following is pretty concise:</p>\n\n<pre><code>positions = list(map(words.index, words))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 21144, "user_id": 478656, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/fd656a5e8d2a51290877d695649456ad?s=128&d=identicon&r=PG", "display_name": "TessellatingHeckler", "link": "https://stackoverflow.com/users/478656/tessellatingheckler"}, "is_accepted": false, "score": 1, "last_activity_date": 1461188674, "creation_date": 1461188674, "answer_id": 36755771, "question_id": 36754522, "link": "https://stackoverflow.com/questions/36754522/a-program-that-identifies-individual-words-in-a-sentence-stores-these-in-a-list/36755771#36755771", "title": "A program that identifies individual words in a sentence, stores these in a list and replaces each word with the position of that word in the list", "body": "<pre><code>sentence = 'ASK NOT WHAT YOUR COUNTRY CAN DO FOR YOU ASK WHAT YOU CAN DO FOR YOUR COUNTRY'\nwords = sentence.split()\n\n# Counting backwards through the words means the last seen one will have \n# the lowest index without needing 'if' tests or incrementing counters.\npositions = {word:index for index, word in reversed(list(enumerate(words, 1)))}\n\nprint(' '.join(str(positions.get(word)) for word in words))\n</code></pre>\n\n<p>Try it on repl.it here: <a href=\"https://repl.it/CHvy/0\" rel=\"nofollow\">https://repl.it/CHvy/0</a></p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user6232337"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8505, "favorite_count": 1, "closed_date": 1461258646, "answer_count": 4, "score": 0, "last_activity_date": 1488723126, "creation_date": 1461184102, "last_edit_date": 1461184738, "question_id": 36754522, "link": "https://stackoverflow.com/questions/36754522/a-program-that-identifies-individual-words-in-a-sentence-stores-these-in-a-list", "closed_reason": "Needs more focus", "title": "A program that identifies individual words in a sentence, stores these in a list and replaces each word with the position of that word in the list", "body": "<p>I am developing a program that identifies individual words in a sentence, stores these in a list and replaces each word in the original sentence with the position of that word in the list, so the sentence can be recreated from the positions of these words in this list using the sequence <code>1,2,3,4,5,6,7,8,9,1,3,9,6,7,8,4,5</code>. My code so far is below but I need some advice on how to make it more efficient and shorter:</p>\n\n<pre><code>import time\n\nsentence = \"ASK NOT WHAT YOUR COUNTRY CAN DO FOR YOU ASK WHAT YOU CAN DO FOR YOUR COUNTRY\"\ns = sentence.split() \nanother = [0]\ntime.sleep(0.5)\nprint(sentence)\nfor count, i in enumerate(s): \n    if s.count(i) &lt; 2:\n        another.append(max(another) + 1)\n    else:\n        another.append(s.index(i) +1)\nanother.remove(0)\ntime.sleep(0.5)\nprint(another)\n</code></pre>\n"}, {"tags": ["python", "database", "pandas"], "answers": [{"comments": [{"owner": {"reputation": 249, "user_id": 5050114, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/X6pbZ.jpg?s=128&g=1", "display_name": "mike van der naald", "link": "https://stackoverflow.com/users/5050114/mike-van-der-naald"}, "edited": false, "score": 0, "creation_date": 1461189223, "post_id": 36754672, "comment_id": 61091895, "body": "Thanks this is exactly what I was lookin for!!"}], "tags": [], "owner": {"reputation": 619481, "user_id": 2901002, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/hMDvl.jpg?s=128&g=1", "display_name": "jezrael", "link": "https://stackoverflow.com/users/2901002/jezrael"}, "is_accepted": true, "score": 2, "last_activity_date": 1461184608, "creation_date": 1461184608, "answer_id": 36754672, "question_id": 36754436, "link": "https://stackoverflow.com/questions/36754436/pandas-better-way-to-trim-data/36754672#36754672", "title": "Pandas Better Way To Trim Data", "body": "<p>I think you can try <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.merge.html\" rel=\"nofollow\"><code>merge</code></a> with <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.reset_index.html\" rel=\"nofollow\"><code>reset_index</code></a> and then indexes values are in column <code>index</code>:</p>\n\n<pre><code>df = pd.DataFrame({'AAA' : [4,5,6,7], \n                   'BBB' : [100,100,30,40],\n                   'CCC' : [100,100,30,-50]}, index=[2,3,4,5])\n\ndf1 = pd.DataFrame({'AAA' : [4], 'BBB' : [100]}, index=[8])\n\nrelevantColumns=['AAA','BBB']\n\nprint df\n   AAA  BBB  CCC\n2    4  100  100\n3    5  100  100\n4    6   30   30\n5    7   40  -50\n\nprint df1\n   AAA  BBB\n8    4  100\n\nprint pd.merge(df.reset_index(), df1, on=relevantColumns, how='right')\n   index  AAA  BBB  CCC\n0      2    4  100  100\n\nprint pd.merge(df.reset_index(), df1, on=relevantColumns, how='right')['index']\n0    2\nName: index, dtype: int64\n</code></pre>\n"}], "owner": {"reputation": 249, "user_id": 5050114, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/X6pbZ.jpg?s=128&g=1", "display_name": "mike van der naald", "link": "https://stackoverflow.com/users/5050114/mike-van-der-naald"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 419, "favorite_count": 0, "accepted_answer_id": 36754672, "answer_count": 1, "score": 3, "last_activity_date": 1461184608, "creation_date": 1461183833, "last_edit_date": 1461184537, "question_id": 36754436, "link": "https://stackoverflow.com/questions/36754436/pandas-better-way-to-trim-data", "title": "Pandas Better Way To Trim Data", "body": "<p>I currently have a dataframe that looks something like this:</p>\n\n<pre><code>df = pd.DataFrame({'AAA' : [4,5,6,7], 'BBB' : [100,100,30,40],'CCC' : [100,100,30,-50]})\n</code></pre>\n\n<p>I also have the data frame:</p>\n\n<pre><code>df1 = pd.DataFrame({'AAA' : [4], 'BBB' : [100]})\n</code></pre>\n\n<p>where I define</p>\n\n<pre><code>relevantColumns=['AAA','BBB']\n</code></pre>\n\n<p>which is just a list of the columns that df1.</p>\n\n<p>I want to find the index for which df1 appears in df.  I currently have something that looks like this,</p>\n\n<pre><code>trueNFalses=(df==df1)[columnsToSort] #This generates a boolean dataframe\n\n#Now I want to find the row with two trues in it, this is the row where df1 appears.\n\nnumTrues=trueNFalses.sum(axis=1)\n\n#Now I look through numTrues and find the index of every values of 2,  \n#because that is where there were two trues.\n\nindices=numTrues[numTrues==len(columnsToSort)].axes\n</code></pre>\n\n<p>So I do what feels like a very round about computation just to get the indices where df has has the columns that df1 has.  I feel silly doing all of this because I'm almost certain there must be a better way to do this in pandas.  My technique also has a few downsides I would love to fix but do not know how. For example I really need indices to be a dataframe, but with my code it is a list of dtype object, which is awkward for future processing.  </p>\n"}, {"tags": ["python", "matplotlib"], "comments": [{"owner": {"reputation": 2759, "user_id": 2809008, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff24f265a3c1712e989e0654a8c16f2a?s=128&d=identicon&r=PG", "display_name": "ljetibo", "link": "https://stackoverflow.com/users/2809008/ljetibo"}, "edited": false, "score": 1, "creation_date": 1461183870, "post_id": 36754398, "comment_id": 61089150, "body": "It&#39;d be a lot easier if we could&#39;ve gotten non-string formatted data (i.e. in a copy-pastable list perhaps). What I think is happening is that you&#39;re plotting every point as a different line and then manually setting them all to the same markers and shapes. Turn on the legend and you&#39;ll probably see 4 different groups of data in it. What you want to do is put the data in 2 lists <code>x, y</code> and send those lists to <code>plt.plot</code> outside the <code>for</code> loop."}, {"owner": {"reputation": 464, "user_id": 3566313, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e31bb4093f79ff373bf6f81e7e6c9c66?s=128&d=identicon&r=PG&f=1", "display_name": "theakson", "link": "https://stackoverflow.com/users/3566313/theakson"}, "reply_to_user": {"reputation": 2759, "user_id": 2809008, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff24f265a3c1712e989e0654a8c16f2a?s=128&d=identicon&r=PG", "display_name": "ljetibo", "link": "https://stackoverflow.com/users/2809008/ljetibo"}, "edited": false, "score": 0, "creation_date": 1461185386, "post_id": 36754398, "comment_id": 61090070, "body": "Hey there ljetibo  but the data set is a little tricky. Basically I have 1000 days of data for 100 symbols. I split the days into one list  ( my_dates[] which is the x axis) and another list is the rank data ( rank_2010[]) which is the y axis.) now for the tricky bit. Each rank_2010 has a symbol which is used to lookup a sector ( in this case symbol = AA which is sector &quot;materials&quot;) a sector has a set of attributes that are applied to a line so I want to end up with all 100 symbols plotted using their relevant sector format AND when I point at a line I get the symbol."}], "answers": [{"comments": [{"owner": {"reputation": 464, "user_id": 3566313, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e31bb4093f79ff373bf6f81e7e6c9c66?s=128&d=identicon&r=PG&f=1", "display_name": "theakson", "link": "https://stackoverflow.com/users/3566313/theakson"}, "edited": false, "score": 0, "creation_date": 1461185623, "post_id": 36754680, "comment_id": 61090187, "body": "Hey CrazyCasta sorry I didn&#39;t read this before responding to ljetibo where I clear up why this is a little more complex than it appears. I will certainly try your approach and thank you for looking at this."}, {"owner": {"reputation": 464, "user_id": 3566313, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e31bb4093f79ff373bf6f81e7e6c9c66?s=128&d=identicon&r=PG&f=1", "display_name": "theakson", "link": "https://stackoverflow.com/users/3566313/theakson"}, "edited": false, "score": 0, "creation_date": 1461186563, "post_id": 36754680, "comment_id": 61090659, "body": "Thanks for the attempt BUT no luck.  If it were just plotting x and y I would be a happy bunny but I have to loop through 1000 days each contains a rank for a stock. The rank is the y axis the date is the x axis which gives me the first point. the stock symbol gives me the sector which determines the line attribs. So I sort the file into symbol order which already are in date order. I loop through all the days for each symbol plotting ( or not in my case :-)) the &quot;line&quot; . Thanks for the attempt but I had tried it and did so again using your code no luck"}, {"owner": {"reputation": 22511, "user_id": 1695766, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/5ef1825ece036980c69dfd2683b8980a?s=128&d=identicon&r=PG", "display_name": "CrazyCasta", "link": "https://stackoverflow.com/users/1695766/crazycasta"}, "reply_to_user": {"reputation": 464, "user_id": 3566313, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e31bb4093f79ff373bf6f81e7e6c9c66?s=128&d=identicon&r=PG&f=1", "display_name": "theakson", "link": "https://stackoverflow.com/users/3566313/theakson"}, "edited": false, "score": 0, "creation_date": 1461186873, "post_id": 36754680, "comment_id": 61090850, "body": "Does my code at least plot lines? I mean, it&#39;s not still just plotting points, right?"}, {"owner": {"reputation": 22511, "user_id": 1695766, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/5ef1825ece036980c69dfd2683b8980a?s=128&d=identicon&r=PG", "display_name": "CrazyCasta", "link": "https://stackoverflow.com/users/1695766/crazycasta"}, "reply_to_user": {"reputation": 464, "user_id": 3566313, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e31bb4093f79ff373bf6f81e7e6c9c66?s=128&d=identicon&r=PG&f=1", "display_name": "theakson", "link": "https://stackoverflow.com/users/3566313/theakson"}, "edited": false, "score": 0, "creation_date": 1461186998, "post_id": 36754680, "comment_id": 61090917, "body": "Also, to be clear, are you asking for one line per sector then?"}, {"owner": {"reputation": 464, "user_id": 3566313, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e31bb4093f79ff373bf6f81e7e6c9c66?s=128&d=identicon&r=PG&f=1", "display_name": "theakson", "link": "https://stackoverflow.com/users/3566313/theakson"}, "edited": false, "score": 0, "creation_date": 1461189689, "post_id": 36754680, "comment_id": 61092073, "body": "Hey CrazyCasta sorry NO lines at all and NOPE it&#39;s waaayyyy worse than just a line per sector.  The data is for each DAY there are 100 symbols each has a rank 1 to 100. SO for each day ( x axis) there are 100 points on the Y axis ( rank). NOW as 100 shapes would look messy I have to group each stock into it&#39;s sector ( there are 7 sectors) and plot the point as that symbol. SO NOW I move onto the next day and repeat the process joining the points from yesterday to today. AND I need to label the line with the stock symbol. That&#39;s why I am having a hard time here. Any ideas?"}, {"owner": {"reputation": 22511, "user_id": 1695766, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/5ef1825ece036980c69dfd2683b8980a?s=128&d=identicon&r=PG", "display_name": "CrazyCasta", "link": "https://stackoverflow.com/users/1695766/crazycasta"}, "reply_to_user": {"reputation": 464, "user_id": 3566313, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e31bb4093f79ff373bf6f81e7e6c9c66?s=128&d=identicon&r=PG&f=1", "display_name": "theakson", "link": "https://stackoverflow.com/users/3566313/theakson"}, "edited": false, "score": 0, "creation_date": 1461189763, "post_id": 36754680, "comment_id": 61092096, "body": "Oops, my bad. Try now. I had x,y in plot instead of x_list,y_list."}, {"owner": {"reputation": 22511, "user_id": 1695766, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/5ef1825ece036980c69dfd2683b8980a?s=128&d=identicon&r=PG", "display_name": "CrazyCasta", "link": "https://stackoverflow.com/users/1695766/crazycasta"}, "reply_to_user": {"reputation": 464, "user_id": 3566313, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e31bb4093f79ff373bf6f81e7e6c9c66?s=128&d=identicon&r=PG&f=1", "display_name": "theakson", "link": "https://stackoverflow.com/users/3566313/theakson"}, "edited": false, "score": 0, "creation_date": 1461189902, "post_id": 36754680, "comment_id": 61092158, "body": "It sounds like what you want to do is collect the data in separate lists for each symbol, then plot each one of those lists with a separate call to plt.plot where you lookup the color and marker based on the stock&#39;s symbol."}, {"owner": {"reputation": 464, "user_id": 3566313, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e31bb4093f79ff373bf6f81e7e6c9c66?s=128&d=identicon&r=PG&f=1", "display_name": "theakson", "link": "https://stackoverflow.com/users/3566313/theakson"}, "edited": false, "score": 0, "creation_date": 1461190524, "post_id": 36754680, "comment_id": 61092393, "body": "Hey CrazyCasta I made the mod ( I didn&#39;t spot it either sorry) and I now see a line. The data is wrong BUT I am MUCH close thanks to you. Thanks so much you are a star!!!"}], "tags": [], "owner": {"reputation": 22511, "user_id": 1695766, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/5ef1825ece036980c69dfd2683b8980a?s=128&d=identicon&r=PG", "display_name": "CrazyCasta", "link": "https://stackoverflow.com/users/1695766/crazycasta"}, "is_accepted": false, "score": 1, "last_activity_date": 1461189743, "last_edit_date": 1461189743, "creation_date": 1461184619, "answer_id": 36754680, "question_id": 36754398, "link": "https://stackoverflow.com/questions/36754398/matplotlib-data-points-plotted-but-no-line-between-them/36754680#36754680", "title": "matplotlib data points plotted but no line between them?", "body": "<p>Your problem is that you are calling <code>plot</code> multiple times wanting it to collect the data you give it into one set. That's not how <code>plot</code> works. You need to form a data set (one \"line\" in your plot) and pass that to <code>plot</code>. Something along the lines of:</p>\n\n<pre><code>x_list = []\ny_list = []\n\nfor count, symb in enumerate(my_symbols):\n   sector = sector_format[str(sym_sect[symb])][0]\n   shape = sector_format[str(sym_sect[symb])][1]\n   kolor = sector_format[str(sym_sect[symb])][2]\n   x = my_dates[count]\n   y = rank_2010[count]\n   print(\"looking at\",x,y,symb,\"attribs\",\n         \"sector=\",sector,\n         \"shape=\",shape,\n         \"kolor=\",kolor,\n         \"x =\",x,\n         \"y = \",y)\n\n  if symb == 'AA' or symb == \"AAPL\":\n      x_list.append(x)\n      y_list.append(y)\n\nplt.plot(x_list,y_list,lw=5,color=kolor,linestyle='solid',marker=shape)\n\nplt.title('hv 20 to 10 ranks')\nplt.xlabel('dates')\nplt.ylabel('symbol ranks')\nplt.show()\n</code></pre>\n\n<p>This may not be exactly what you want. I'm unclear on what you're trying to do with different colors and marks, so you may have to modify it. However, I think it should get you in the right direction at least.</p>\n"}], "owner": {"reputation": 464, "user_id": 3566313, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e31bb4093f79ff373bf6f81e7e6c9c66?s=128&d=identicon&r=PG&f=1", "display_name": "theakson", "link": "https://stackoverflow.com/users/3566313/theakson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 958, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1461189743, "creation_date": 1461183719, "last_edit_date": 1461187037, "question_id": 36754398, "link": "https://stackoverflow.com/questions/36754398/matplotlib-data-points-plotted-but-no-line-between-them", "title": "matplotlib data points plotted but no line between them?", "body": "<p>I want to plot a line chart with multiple data sets on the same axes, so the markers show up but not the line. I really can't see what I am doing wrong. Can someone put another set of eyes on this, please?</p>\n\n<p>Here is the data print:</p>\n\n<pre><code>looking at 2015-08-05 83.0 AA attribs sector= Materials shape= o kolor= b x = 2015-08-05 y =  83.0\nlooking at 2015-08-06 50.0 AA attribs sector= Materials shape= o kolor= b x = 2015-08-06 y =  50.0\nlooking at 2015-08-07 42.0 AA attribs sector= Materials shape= o kolor= b x = 2015-08-07 y =  42.0\nlooking at 2015-08-10 75.0 AA attribs sector= Materials shape= o kolor= b x = 2015-08-10 y =  75.0\n</code></pre>\n\n<p>Here is the code segment:</p>\n\n<pre><code>for count, symb in enumerate(my_symbols):\n   sector = sector_format[str(sym_sect[symb])][0]\n   shape = sector_format[str(sym_sect[symb])][1]\n   kolor = sector_format[str(sym_sect[symb])][2]\n   x = my_dates[count]\n   y = rank_2010[count]\n   print(\"looking at\",x,y,symb,\"attribs\",\n         \"sector=\",sector,\n         \"shape=\",shape,\n         \"kolor=\",kolor,\n         \"x =\",x,\n         \"y = \",y)\n\n  if symb == 'AA' or symb == \"AAPL\":\n     plt.plot(x,y,lw=5,color=kolor,linestyle='solid',marker=shape)\n\nplt.title('hv 20 to 10 ranks')\nplt.xlabel('dates')\nplt.ylabel('symbol ranks')\nplt.show()\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/f2ANa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/f2ANa.png\" alt=\"this is what is been plotted right now \"></a></p>\n"}, {"tags": ["python", "linux", "md5"], "answers": [{"tags": [], "owner": {"reputation": 3650, "user_id": 6004486, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17c24716401bb14cca523bd36f8f8525?s=128&d=identicon&r=PG&f=1", "display_name": "jDo", "link": "https://stackoverflow.com/users/6004486/jdo"}, "is_accepted": true, "score": 6, "last_activity_date": 1461184382, "last_edit_date": 1461184382, "creation_date": 1461183795, "answer_id": 36754427, "question_id": 36754376, "link": "https://stackoverflow.com/questions/36754376/md5-in-linux-and-python/36754427#36754427", "title": "md5 in linux and python", "body": "<p><code>echo</code> will add a newline unless you explicitly tell it not to via <code>echo -n</code>.</p>\n\n<pre><code>$ echo -n \"logdir\" | md5sum - | awk '{print $1}'\nee6da4c228cfaebfda7f14e4371a097d\n</code></pre>\n\n<p>From <a href=\"http://linux.die.net/man/1/echo\" rel=\"nofollow\">man echo</a>:</p>\n\n<pre><code>DESCRIPTION\n       Echo the STRING(s) to standard output.\n\n       -n     do not output the trailing newline\n</code></pre>\n"}], "owner": {"reputation": 1679, "user_id": 1731553, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/c0372631be0846498c302c36de3987a2?s=128&d=identicon&r=PG", "display_name": "user1731553", "link": "https://stackoverflow.com/users/1731553/user1731553"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 381, "favorite_count": 0, "closed_date": 1461184233, "accepted_answer_id": 36754427, "answer_count": 1, "score": 3, "last_activity_date": 1461184382, "creation_date": 1461183648, "question_id": 36754376, "link": "https://stackoverflow.com/questions/36754376/md5-in-linux-and-python", "closed_reason": "Duplicate", "title": "md5 in linux and python", "body": "<p>I am using md5 algo for hashing same string in python and linux but I get different values can some one point out whats wrong</p>\n\n<p>in linux:\n<code>echo \"logdir\" | md5sum - | awk '{print $1}'</code></p>\n\n<pre><code>gives: aba76197efa97e6bd4e542846471b391 \n</code></pre>\n\n<p>in python:<br>\n<code>md5.new(\"logdir\".encode('utf-8')).hexdigest()</code> </p>\n\n<pre><code>gives: ee6da4c228cfaebfda7f14e4371a097d\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 651, "user_id": 3187458, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/edcb2eb33ff47452fc95c51a63b676de?s=128&d=identicon&r=PG&f=1", "display_name": "Thomite", "link": "https://stackoverflow.com/users/3187458/thomite"}, "edited": false, "score": 1, "creation_date": 1461183616, "post_id": 36754307, "comment_id": 61088975, "body": "Could you format the code to be clearer please?"}], "answers": [{"tags": [], "owner": {"reputation": 2441, "user_id": 1539142, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/LX6Ke.png?s=128&g=1", "display_name": "StephenTG", "link": "https://stackoverflow.com/users/1539142/stephentg"}, "is_accepted": false, "score": 0, "last_activity_date": 1461183791, "creation_date": 1461183791, "answer_id": 36754423, "question_id": 36754307, "link": "https://stackoverflow.com/questions/36754307/creating-a-list-of-user-input-names-using-loop/36754423#36754423", "title": "creating a list of user input names using loop", "body": "<p>When indented properly, your code behaves the way I believe you're going for:</p>\n\n<pre><code>ListOfNames=[]\nwhile True:\n    Name=raw_input('--&gt;')\n    if Name==\"\":\n        break\n    else:\n        ListOfNames.append(Name)\nprint ListOfNames\nListOfNames=sorted(ListOfNames)\nprint ListOfNames\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 606, "user_id": 5895423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3543af2d476bb913fe96ff6ff4d2a0c1?s=128&d=identicon&r=PG&f=1", "display_name": "Taylan", "link": "https://stackoverflow.com/users/5895423/taylan"}, "is_accepted": false, "score": 0, "last_activity_date": 1461183863, "creation_date": 1461183863, "answer_id": 36754446, "question_id": 36754307, "link": "https://stackoverflow.com/questions/36754307/creating-a-list-of-user-input-names-using-loop/36754446#36754446", "title": "creating a list of user input names using loop", "body": "<pre><code>ListOfNames=[]\nwhile True:\n    Name=raw_input('--&gt;')\n    if Name==\"\":\n        print ListOfNames\n        print sorted(ListOfNames)\n        break\n    else:\n        ListOfNames.append(Name)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2289, "user_id": 3873323, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/GC0dB.jpg?s=128&g=1", "display_name": "Yotam Salmon", "link": "https://stackoverflow.com/users/3873323/yotam-salmon"}, "is_accepted": false, "score": 1, "last_activity_date": 1461183869, "creation_date": 1461183869, "answer_id": 36754448, "question_id": 36754307, "link": "https://stackoverflow.com/questions/36754307/creating-a-list-of-user-input-names-using-loop/36754448#36754448", "title": "creating a list of user input names using loop", "body": "<p>What you want to do is called a while loop with a <code>sentinel</code>. When using a sentinel, the first input will be outside the loop. You can implement such method like that:</p>\n\n<pre><code>names = []\ninput = raw_input(\"--&gt;\")\nwhile not input == \"\":\n    names.append(input)\n    input = raw_input(\"--&gt;\")\n</code></pre>\n\n<p>Then  you can sort it and do whatever you want with the list.<br/>\nRead more about sentinels here: <a href=\"https://en.wikipedia.org/wiki/Sentinel_value\" rel=\"nofollow\">https://en.wikipedia.org/wiki/Sentinel_value</a></p>\n"}, {"tags": [], "owner": {"reputation": 168, "user_id": 3585651, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1ac692b98befc4a8231752bc9956c58d?s=128&d=identicon&r=PG&f=1", "display_name": "larslars", "link": "https://stackoverflow.com/users/3585651/larslars"}, "is_accepted": false, "score": 0, "last_activity_date": 1461183874, "creation_date": 1461183874, "answer_id": 36754450, "question_id": 36754307, "link": "https://stackoverflow.com/questions/36754307/creating-a-list-of-user-input-names-using-loop/36754450#36754450", "title": "creating a list of user input names using loop", "body": "<p>This should do it, although there are a lot of ways to do it:</p>\n\n<pre><code>ListOfNames=[]\nwhile True:\n    Name=raw_input('--&gt;')\n    if Name==\"\":\n        break\n    else:\n        ListOfNames.append(Name)\n\nprint ListOfNames\nprint ListOfNames.sort()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 651, "user_id": 3187458, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/edcb2eb33ff47452fc95c51a63b676de?s=128&d=identicon&r=PG&f=1", "display_name": "Thomite", "link": "https://stackoverflow.com/users/3187458/thomite"}, "is_accepted": false, "score": 0, "last_activity_date": 1461183887, "creation_date": 1461183887, "answer_id": 36754454, "question_id": 36754307, "link": "https://stackoverflow.com/questions/36754307/creating-a-list-of-user-input-names-using-loop/36754454#36754454", "title": "creating a list of user input names using loop", "body": "<p>The best way to do this is use your termination clause as your while condition. This code asks for a name, and as long as that name isn't empty (equal to \"\"), asks for another. When the user doesn't give a name, the loop terminates.</p>\n\n<pre><code>ListOfNames=[]\n\nName = raw_input('--&gt;')\nwhile Name != \"\":\n\n    ListOfNames.append(Name)\n    print ListOfNames\n    Name = raw_input('--&gt;')\n\nListOfNames=sorted(ListOfNames)\nprint ListOfNames\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 181, "user_id": 4928313, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/346f5ce9b918ddbcb0dcb6e41732b5b4?s=128&d=identicon&r=PG&f=1", "display_name": "rikisa", "link": "https://stackoverflow.com/users/4928313/rikisa"}, "is_accepted": false, "score": 0, "last_activity_date": 1461184502, "last_edit_date": 1461184502, "creation_date": 1461183956, "answer_id": 36754476, "question_id": 36754307, "link": "https://stackoverflow.com/questions/36754307/creating-a-list-of-user-input-names-using-loop/36754476#36754476", "title": "creating a list of user input names using loop", "body": "<p>This should do the trick:</p>\n\n<pre><code>ListOfNames=[]\n\nwhile True: #{\n    Name=raw_input('--&gt;')\n    if Name==\"\": #{\n        break\n    #}\n    else: #{\n        ListOfNames.append(Name)\n    #}\n#}\n\nprint ListOfNames\nListOfNames=sorted(ListOfNames)\nprint ListOfNames\n</code></pre>\n\n<p>Her a few tips:\n-Your logic was correct, your indentation wasn't. Think of it as the curly brackets like in C or Java. You don't need them in Python.</p>\n\n<p>-If you want to dig deeper into python I'd recommend reading the <a href=\"https://www.python.org/dev/peps/pep-0008/\" rel=\"nofollow\">PEP8</a>. You don't need to follow it by heart, but in general it helps producing clean code, which is a lot easier to read and to debug.</p>\n"}, {"tags": [], "owner": {"reputation": 16399, "user_id": 4016285, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SvSVV.png?s=128&g=1", "display_name": "B. M.", "link": "https://stackoverflow.com/users/4016285/b-m"}, "is_accepted": false, "score": 0, "last_activity_date": 1461183997, "creation_date": 1461183997, "answer_id": 36754488, "question_id": 36754307, "link": "https://stackoverflow.com/questions/36754307/creating-a-list-of-user-input-names-using-loop/36754488#36754488", "title": "creating a list of user input names using loop", "body": "<p>More easy to read :</p>\n\n<pre><code>ListOfNames=[]\nwhile True:\n    Name=raw_input('--&gt;')\n    if Name != \"\": ListOfNames.append(Name)\n    else : break\nprint (ListOfNames,sorted(ListOfNames))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 64040, "user_id": 3620003, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/QnqtZ.jpg?s=128&g=1", "display_name": "timgeb", "link": "https://stackoverflow.com/users/3620003/timgeb"}, "is_accepted": false, "score": 1, "last_activity_date": 1461184877, "last_edit_date": 1461184877, "creation_date": 1461184193, "answer_id": 36754549, "question_id": 36754307, "link": "https://stackoverflow.com/questions/36754307/creating-a-list-of-user-input-names-using-loop/36754549#36754549", "title": "creating a list of user input names using loop", "body": "<p>You can provide a callable and a sentinel value to <code>iter</code>. This will call the callable until it produces the sentinel value. Demo:</p>\n\n<pre><code>&gt;&gt;&gt; ListOfNames = list(iter(raw_input, ''))\nnameB\nnameA\nnameC\n\n&gt;&gt;&gt; print(ListOfNames)\n['nameB', 'nameA', 'nameC']\n&gt;&gt;&gt; ListOfNames.sort()\n&gt;&gt;&gt; print(ListOfNames)\n['nameA', 'nameB', 'nameC']\n</code></pre>\n\n<p>If you need the prompt, combine with <code>functools.partial</code>:</p>\n\n<pre><code>&gt;&gt;&gt; from functools import partial\n&gt;&gt;&gt; ListOfNames = list(iter(partial(raw_input, '--&gt; '), ''))\n--&gt; nameB\n--&gt; nameA\n--&gt; nameC\n--&gt; \n&gt;&gt;&gt; print(ListOfNames)\n['nameB', 'nameA', 'nameC']\n&gt;&gt;&gt; ListOfNames.sort()\n&gt;&gt;&gt; print(ListOfNames)\n['nameA', 'nameB', 'nameC']\n</code></pre>\n"}], "owner": {"reputation": 39, "user_id": 6232312, "user_type": "registered", "profile_image": "https://graph.facebook.com/10208902605460854/picture?type=large", "display_name": "Brett Jefferson", "link": "https://stackoverflow.com/users/6232312/brett-jefferson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5576, "favorite_count": 0, "answer_count": 8, "score": 2, "last_activity_date": 1461184877, "creation_date": 1461183427, "last_edit_date": 1461183590, "question_id": 36754307, "link": "https://stackoverflow.com/questions/36754307/creating-a-list-of-user-input-names-using-loop", "title": "creating a list of user input names using loop", "body": "<p>I'm trying to write a loop that allows a user to input names, until the user clicks Enter without entering a name (enters an empty string). Once the list input is complete, print the list, sort the list, and then print the sorted list. \nThis is what I have so far.</p>\n\n<pre><code>ListOfNames=[]\nwhile True:\n    Name=raw_input('--&gt;')\n    if Name==\"\":\n    break\nelse:\n    ListOfNames.append(Name)\n    print ListOfNames\n    ListOfNames=sorted(ListOfNames)\n    print ListOfNames\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "pandas", "dataframe"], "answers": [{"comments": [{"owner": {"reputation": 3895, "user_id": 4972716, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/a7c5b54d4f13c6bb4d1d4d40ca4d4ad1?s=128&d=identicon&r=PG&f=1", "display_name": "Stacey", "link": "https://stackoverflow.com/users/4972716/stacey"}, "edited": false, "score": 0, "creation_date": 1461186540, "post_id": 36754570, "comment_id": 61090647, "body": "I&#39;ve implemented the above code but receive an error &#39;InvalidIndexError: Reindexing only valid with uniquely valued Index objects&#39; an idea why that might be?"}, {"owner": {"reputation": 705380, "user_id": 190597, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/aabc98d5c6482ca0e1405ec97710f30a?s=128&d=identicon&r=PG&f=1", "display_name": "unutbu", "link": "https://stackoverflow.com/users/190597/unutbu"}, "reply_to_user": {"reputation": 3895, "user_id": 4972716, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/a7c5b54d4f13c6bb4d1d4d40ca4d4ad1?s=128&d=identicon&r=PG&f=1", "display_name": "Stacey", "link": "https://stackoverflow.com/users/4972716/stacey"}, "edited": false, "score": 0, "creation_date": 1461188333, "post_id": 36754570, "comment_id": 61091543, "body": "A DataFrame in <code>dfs</code> may have more than one row associated to the same date. If so, you&#39;ll have to decide how you wish to handle duplicate dates.  You could, for example, simply drop all but one of the duplicate dates. (I&#39;ve edited the post above to show how.)"}, {"owner": {"reputation": 705380, "user_id": 190597, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/aabc98d5c6482ca0e1405ec97710f30a?s=128&d=identicon&r=PG&f=1", "display_name": "unutbu", "link": "https://stackoverflow.com/users/190597/unutbu"}, "reply_to_user": {"reputation": 3895, "user_id": 4972716, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/a7c5b54d4f13c6bb4d1d4d40ca4d4ad1?s=128&d=identicon&r=PG&f=1", "display_name": "Stacey", "link": "https://stackoverflow.com/users/4972716/stacey"}, "edited": false, "score": 0, "creation_date": 1461188339, "post_id": 36754570, "comment_id": 61091547, "body": "Alternatively, you could use <code>groupby&#47;agg</code> to aggregate rows with duplicate dates into a single row. Or, if you want to propagate the duplicated index across multiple DataFrames, then you&#39;ll need to use <code>pd.merge</code> instead of <code>pd.concat</code>. That would require a solution that looks more like <a href=\"http://stackoverflow.com/a/36754677/190597\">flyingmeatball&#39;s</a>."}], "tags": [], "owner": {"reputation": 705380, "user_id": 190597, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/aabc98d5c6482ca0e1405ec97710f30a?s=128&d=identicon&r=PG&f=1", "display_name": "unutbu", "link": "https://stackoverflow.com/users/190597/unutbu"}, "is_accepted": false, "score": 1, "last_activity_date": 1461188417, "last_edit_date": 1461188417, "creation_date": 1461184274, "answer_id": 36754570, "question_id": 36754241, "link": "https://stackoverflow.com/questions/36754241/writing-timeseries-to-a-dataframe-with-an-adjusting-index/36754570#36754570", "title": "Writing timeseries to a dataframe with an adjusting index", "body": "<p><a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.concat.html\" rel=\"nofollow\"><code>pd.concat</code></a> can be used to concatenate DataFrames with different indexes. For example,</p>\n\n<pre><code>df1 = pd.DataFrame({'A': list('ABCDE')}, index=range(5))\ndf2 = pd.DataFrame({'B': list('ABCDE')}, index=range(2,7))\npd.concat([df1, df2], axis=1)\n</code></pre>\n\n<p>yields</p>\n\n<pre><code>     A    B\n0    A  NaN\n1    B  NaN\n2    C    A\n3    D    B\n4    E    C\n5  NaN    D\n6  NaN    E\n</code></pre>\n\n<p>Notice that the indexes of <code>df1</code> and <code>df2</code> are <em>aligned</em> and NaN is used\nwherever there is a missing value.</p>\n\n<hr>\n\n<p>So in your case, if you use</p>\n\n<pre><code>pd.read_csv(fname, header=None, usecols=[0,column_num], parse_dates=[0],\n            index_col=[0], names=['date', name]))\n</code></pre>\n\n<p>the <code>index_col=[0]</code> will make the first column the index of the DataFrame, so that later on, calling</p>\n\n<pre><code>dfs = pd.concat(dfs, axis=1)\n</code></pre>\n\n<p>will result in one DataFrame with all the DataFrames aligned based on the dates.</p>\n\n<hr>\n\n<p>With <code>data1.csv</code> and <code>data2.csv</code> placed in <code>~/tmp</code>,</p>\n\n<pre><code>import glob\nimport os\nimport pandas as pd\n\ndef get_timeseries_data(path, column_num):\n    colNames = ['date']\n    dfs = []\n    allfiles = glob.glob(os.path.join(path, \"*.csv\"))\n    for fname in allfiles:\n        name = os.path.splitext(fname)[0]\n        name = os.path.split(name)[1]\n        colNames.append(name)\n        df = pd.read_csv(fname, header=None, usecols=[0, column_num], \n                        parse_dates=[0], dayfirst=True,\n                        index_col=[0], names=['date', name])\n\n        # aggregate rows with duplicate index by taking the mean\n        df = df.groupby(level=0).agg('mean')\n\n        # alternatively, drop rows with duplicate index\n        # http://stackoverflow.com/a/34297689/190597 (n8yoder)\n        # df = df[~df.index.duplicated(keep='first')]\n\n        dfs.append(df)\n    dfs = pd.concat(dfs, axis=1)\n    return dfs\n\npath = os.path.expanduser('~/tmp/tmp')\ncolumn_num = 1\ndfs = get_timeseries_data(path, column_num)\nprint(dfs)\n</code></pre>\n\n<p>yields</p>\n\n<pre><code>            data1  data2\ndate                    \n2001-01-02    NaN  24.75\n2001-01-03  2.984  24.35\n2001-01-04  3.016  25.10\n2001-01-05  2.891    NaN\n2001-01-08  2.527  23.50\n2001-01-09  2.445  23.60\n2001-01-10    NaN  24.50\n2001-01-11  2.648  24.70\n2001-01-12  2.803  24.40\n2001-01-15  2.943    NaN\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2508, "user_id": 1045479, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/5dfb7eeb76f5473d05f396f436205e44?s=128&d=identicon&r=PG", "display_name": "alex314159", "link": "https://stackoverflow.com/users/1045479/alex314159"}, "is_accepted": false, "score": 0, "last_activity_date": 1461184289, "creation_date": 1461184289, "answer_id": 36754575, "question_id": 36754241, "link": "https://stackoverflow.com/questions/36754241/writing-timeseries-to-a-dataframe-with-an-adjusting-index/36754575#36754575", "title": "Writing timeseries to a dataframe with an adjusting index", "body": "<p>Maybe not the most elegant, but I would create a timeseriesindex going from the minimum date to the maximum date of all your csv files, call that dataframe say df, and then do df['file1']=pd.read_csv('file1.csv'). You will then have some rows which will be all NaN, and you can filter for these and remove them.</p>\n"}, {"tags": [], "owner": {"reputation": 5507, "user_id": 2255198, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/SH5us.png?s=128&g=1", "display_name": "flyingmeatball", "link": "https://stackoverflow.com/users/2255198/flyingmeatball"}, "is_accepted": false, "score": 0, "last_activity_date": 1461184615, "creation_date": 1461184615, "answer_id": 36754677, "question_id": 36754241, "link": "https://stackoverflow.com/questions/36754241/writing-timeseries-to-a-dataframe-with-an-adjusting-index/36754677#36754677", "title": "Writing timeseries to a dataframe with an adjusting index", "body": "<p>try something like this using merge.</p>\n\n<pre><code>df1 = pd.DataFrame([['03/01/2001', 2.984],['04/01/2001', 3.016],['05/01/2001',2.891],['08/01/2001', 2.527],\n       ['09/01/2001', 2.445],['11/01/2001',2.648],\n       ['12/01/2001', 2.803],['15/01/2001',2.943]], columns = ['date','field'])\n\ndf2 = pd.DataFrame([['02/01/2001',  24.75],['03/01/2001',  24.35],['04/01/2001', 25.1],['08/01/2001',  23.5],\n       ['09/01/2001',  23.6], ['10/01/2001',  24.5],['11/01/2001',  24.7],['12/01/2001',  24.4]], columns = ['date','field'])\n\n#files in your directory\nfiles= [df1,df2]\n\nfileNo = 1\nfor currFile in files:\n    if fileNo ==1:\n        df = currFile\n    else:\n        currFile.rename(columns = {'field':'field_fromFile_' + str(fileNo)})\n        df = pd.merge(df, currFile, how = 'outer',left_on = 'date',right_on = 'date')\n    fileNo =fileNo + 1\n</code></pre>\n"}], "owner": {"reputation": 3895, "user_id": 4972716, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/a7c5b54d4f13c6bb4d1d4d40ca4d4ad1?s=128&d=identicon&r=PG&f=1", "display_name": "Stacey", "link": "https://stackoverflow.com/users/4972716/stacey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1570140284, "creation_date": 1461183223, "last_edit_date": 1570140284, "question_id": 36754241, "link": "https://stackoverflow.com/questions/36754241/writing-timeseries-to-a-dataframe-with-an-adjusting-index", "title": "Writing timeseries to a dataframe with an adjusting index", "body": "<p>If I have multiple csv files each containing timeseries data indexed by date.  Is there a way to create a single dataframe containging all the data with the index adjusting for new dates that may not have been seen previously in the prior files.  For example say I read in timeseries 1:</p>\n\n<pre><code>03/01/2001  2.984\n04/01/2001  3.016\n05/01/2001  2.891\n08/01/2001  2.527\n09/01/2001  2.445\n11/01/2001  2.648\n12/01/2001  2.803\n15/01/2001  2.943\n</code></pre>\n\n<p>The dataframe would look pretty much like the data above.  But if I then read in another file say timeseries 2 </p>\n\n<pre><code>02/01/2001  24.75\n03/01/2001  24.35\n04/01/2001  25.1\n08/01/2001  23.5\n09/01/2001  23.6\n10/01/2001  24.5\n11/01/2001  24.7\n12/01/2001  24.4\n</code></pre>\n\n<p>You can see that timeseries 1 has a value for 05/01/2001 and timeseries 2 does not. Also timeseries 2 has data points for 02/01/2001 and 10/01/2001.  So is there a way to end up with the following:</p>\n\n<pre><code>02/01/2001  null    24.75 ..etc\n03/01/2001  2.984   24.35 ..etc\n04/01/2001  3.016   25.1  ..etc\n05/01/2001  2.891   null  ..etc\n08/01/2001  2.527   23.5  ..etc\n09/01/2001  2.445   23.6  ..etc\n10/01/2001  null    24.5  ..etc\n11/01/2001  2.648   24.7  ..etc\n12/01/2001  2.803   24.4  ..etc\n15/01/2001  2.943   null  ..etc\n</code></pre>\n\n<p>where the index adjusts for the new dates and any timeseries with out data for that day is set to null or some such value?</p>\n\n<p>My code so far is fairly basic, I can walk through a directory and open .csv files and ready them into a dataframe but I do not know how to combine the dataframes together in the way outlined above.  </p>\n\n<pre><code>    def getTimeseriesData(DataPath,columnNum,startDate,endDate):\n        #print('startDate: ',startDate,' endDate: ',endDate)\n        colNames = ['date']\n\n        path = DataPath\n        print('DataPath: ',DataPath)\n        filePath = path, \"*.csv\"\n        allfiles = glob.glob(os.path.join(path, \"*.csv\"))\n        for fname in allfiles:\n            name = os.path.splitext(fname)[0]\n            name = os.path.split(name)[1]\n\n            colNames.append(name)\n\n        dataframes = [pd.read_csv(fname, header=None,usecols=[0,columnNum]) for fname in allfiles]\n#not sure of the next bit\n</code></pre>\n"}, {"tags": ["python", "if-statement"], "answers": [{"comments": [{"owner": {"reputation": 25, "user_id": 5596890, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ssQPc.jpg?s=128&g=1", "display_name": "Sliverr", "link": "https://stackoverflow.com/users/5596890/sliverr"}, "edited": false, "score": 0, "creation_date": 1461183685, "post_id": 36754326, "comment_id": 61089030, "body": "Yeah, that cleared it up. Thanks. Need to remember how important indentations are."}, {"owner": {"reputation": 25, "user_id": 5596890, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ssQPc.jpg?s=128&g=1", "display_name": "Sliverr", "link": "https://stackoverflow.com/users/5596890/sliverr"}, "edited": false, "score": 0, "creation_date": 1461184106, "post_id": 36754326, "comment_id": 61089308, "body": "Actually I still have an issue, starCopy doesn&#39;t update no matter where I place a return? Calling guessMan(&quot;r&quot;, choice, attempts, starCopy)                                     guessMan(&quot;a&quot;, choice, attempts, starCopy)   returns                                                                                             Letter in word! Wrong Attempts: 0 *   *   r   *   *   *   r   * Letter in word! Wrong Attempts: 0 *   a   *   *   *   a   *   *                                                                                                 Declaring starcopy 2 in func and calling it works though"}, {"owner": {"reputation": 651, "user_id": 3187458, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/edcb2eb33ff47452fc95c51a63b676de?s=128&d=identicon&r=PG&f=1", "display_name": "Thomite", "link": "https://stackoverflow.com/users/3187458/thomite"}, "reply_to_user": {"reputation": 25, "user_id": 5596890, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ssQPc.jpg?s=128&g=1", "display_name": "Sliverr", "link": "https://stackoverflow.com/users/5596890/sliverr"}, "edited": false, "score": 0, "creation_date": 1461184224, "post_id": 36754326, "comment_id": 61089383, "body": "This is a simple issue of variable scope - when you call guessMan(), the variable being changed is the local copy of starCopy. starCopy = guessMan(&quot;r&quot;, choice, attempts, starCopy) will override the outer version of starCopy."}, {"owner": {"reputation": 25, "user_id": 5596890, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ssQPc.jpg?s=128&g=1", "display_name": "Sliverr", "link": "https://stackoverflow.com/users/5596890/sliverr"}, "edited": false, "score": 0, "creation_date": 1461185138, "post_id": 36754326, "comment_id": 61089922, "body": "Oh yeah..of course. Thanks for the help and the slice of humble pie, friend."}], "tags": [], "owner": {"reputation": 651, "user_id": 3187458, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/edcb2eb33ff47452fc95c51a63b676de?s=128&d=identicon&r=PG&f=1", "display_name": "Thomite", "link": "https://stackoverflow.com/users/3187458/thomite"}, "is_accepted": true, "score": 1, "last_activity_date": 1461183474, "creation_date": 1461183474, "answer_id": 36754326, "question_id": 36754195, "link": "https://stackoverflow.com/questions/36754195/if-statement-behaving-differently-inside-function/36754326#36754326", "title": "if statement behaving differently inside function", "body": "<p>The output changes because in your function-based example, you return the variable starCopy. It returns immediately after it hits the first letter that matches \"guess\", so only the first letter gets replaced. Moving the return command to the end should work:</p>\n\n<pre><code>def guessMan(guess, choice, attempts, starCopy):\n    if guess in choice:\n        starCopy=list(starCopy)\n        for i, x in enumerate(choice):\n            if x == guess:\n                starCopy[i]=guess\n                print(\" \".join(starCopy))\n                print(\"Letter in word! \" + \"Wrong Attempts: \" + str(attempts))\n\n    elif guess not in choice:\n          attempts+=1\n          print(\"yo fix it\")\n    elif guess in attemptedLetters:\n          print(\"already guessed\")\n\n    return(starCopy)\n</code></pre>\n"}], "owner": {"reputation": 25, "user_id": 5596890, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ssQPc.jpg?s=128&g=1", "display_name": "Sliverr", "link": "https://stackoverflow.com/users/5596890/sliverr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "accepted_answer_id": 36754326, "answer_count": 1, "score": 0, "last_activity_date": 1461183474, "creation_date": 1461183049, "question_id": 36754195, "link": "https://stackoverflow.com/questions/36754195/if-statement-behaving-differently-inside-function", "title": "if statement behaving differently inside function", "body": "<p>Alright, so I need to make a simple hangman game for python. and I'm having problems with my function and variables. Guessing and replacing \"blanks\" works when I try a simple if loop, but once I put everything into a proper function it gives me issues.</p>\n\n<p>For example, when a word has more than 1 instance of a letter it shows both while trying the if loop outside the function, but using the function it only shows 1. I deleted my old program and restarted anew, but I'm still having trouble with this function (which is extra maddening). Before I was getting issues with it updating starCopy and attempts as well. Having this much trouble with such a simple program is kinda bumming me out. :\\</p>\n\n<p>Here's the loop that works while outside the function:</p>\n\n<pre><code>import random\n#declare variables\nguess=\"a\"\nchoice=\"barnyard\"\nstarredUp=len(choice) * \"*\"\nstarCopy=starredUp\nattemptedLetters=[]\nrunning=True\nattempts=0\n\nif guess in choice:\n    starCopy=list(starCopy)\n    for i, x in enumerate(choice):\n        if x == guess:\n            starCopy[i]=guess\n            print(\" \".join(starCopy));\n            print(\"Letter in word! \" + \"Wrong Attempts: \" + str(attempts))\n</code></pre>\n\n<p>Returns <code>* * r * * * r *\nLetter in word! Wrong Attempts: 0</code></p>\n\n<p>Now, when I try calling the  function:</p>\n\n<pre><code>def guessMan(guess, choice, attempts, starCopy):\n    if guess in choice:\n        starCopy=list(starCopy)\n        for i, x in enumerate(choice):\n            if x == guess:\n                starCopy[i]=guess\n                print(\" \".join(starCopy))\n                print(\"Letter in word! \" + \"Wrong Attempts: \" + str(attempts))\n                return(starCopy)\n    elif guess not in choice:\n          attempts+=1\n          print(\"yo fix it\")\n    elif guess in attemptedLetters:\n          print(\"already guessed\")\nguessMan(\"r\", choice, attempts, starCopy)\n</code></pre>\n\n<p>it returns:</p>\n\n<pre><code>* * r * * * * *\nLetter in word! Wrong Attempts: 0\n</code></pre>\n\n<p>Honestly not sure why I'm hitting such a brick wall with this. Feel like I'm missing something super simple.</p>\n"}, {"tags": ["python", "api"], "comments": [{"owner": {"reputation": 4275, "user_id": 2930045, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/HSbSx.jpg?s=128&g=1", "display_name": "DuckPuncher", "link": "https://stackoverflow.com/users/2930045/duckpuncher"}, "edited": false, "score": 0, "creation_date": 1461183220, "post_id": 36754110, "comment_id": 61088722, "body": "First <a href=\"https://developers.zomato.com/api\" rel=\"nofollow noreferrer\">get your api credentials</a>, then <a href=\"https://developers.zomato.com/documentation\" rel=\"nofollow noreferrer\">check out the documentation for the API</a>.  After that just send the appropriate JSON data to the appropriate endpoints(the API url + something like &#39;/restaurant&#39;) using GET/POST requests.  Something like <a href=\"https://curl.haxx.se/libcurl/python/\" rel=\"nofollow noreferrer\">the python cURL bindings</a> would do this really well."}], "answers": [{"tags": [], "owner": {"reputation": 15633, "user_id": 2091169, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/MT8tZ.jpg?s=128&g=1", "display_name": "Jivan", "link": "https://stackoverflow.com/users/2091169/jivan"}, "is_accepted": false, "score": 1, "last_activity_date": 1461184545, "last_edit_date": 1461184545, "creation_date": 1461183640, "answer_id": 36754372, "question_id": 36754110, "link": "https://stackoverflow.com/questions/36754110/querying-a-remote-api-from-a-python-script/36754372#36754372", "title": "Querying a remote API from a Python script", "body": "<p>You may get started with Python's <code>requests</code> module.</p>\n\n<p>Quick example to get a list of categories:</p>\n\n<pre><code>import requests\n\ndomain = \"https://developers.zomato.com/api/v2.1\"\nheaders = {'user-key': 'your_api_key_here'}\n\nresponse = requests.get(\"{}/categories\".format(domain), headers=headers).json()\n\nfor category in response[\"categories\"]:\n    print(category)\n</code></pre>\n\n<p>This will output something like:</p>\n\n<pre><code>{\"categories\": {\"id\": 1, \"name\": \"Delivery\"}}\n{\"categories\": {\"id\": 2, \"name\": \"Dine-out\"}}\n{\"categories\": {\"id\": 3, \"name\": \"Nightlife\"}}\n{\"categories\": {\"id\": 4, \"name\": \"Catching-up\"}}\n{\"categories\": {\"id\": 5, \"name\": \"Takeaway\"}}\n# etc...\n</code></pre>\n\n<p>Documentation for <code>requests</code> <a href=\"http://docs.python-requests.org/en/master/\" rel=\"nofollow\">can be found here.</a></p>\n"}, {"tags": [], "owner": {"reputation": 4275, "user_id": 2930045, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/HSbSx.jpg?s=128&g=1", "display_name": "DuckPuncher", "link": "https://stackoverflow.com/users/2930045/duckpuncher"}, "is_accepted": false, "score": 0, "last_activity_date": 1461183704, "creation_date": 1461183704, "answer_id": 36754391, "question_id": 36754110, "link": "https://stackoverflow.com/questions/36754110/querying-a-remote-api-from-a-python-script/36754391#36754391", "title": "Querying a remote API from a Python script", "body": "<p>Your question is probably too broad to fall within the scope of this answer, but I'll do my best.</p>\n\n<ul>\n<li><p>First <a href=\"https://developers.zomato.com/api\" rel=\"nofollow\">get your api credentials</a></p></li>\n<li><p><a href=\"https://developers.zomato.com/documentation\" rel=\"nofollow\">Check out the documentation for the API</a>.</p></li>\n<li><p>Use <a href=\"https://curl.haxx.se/libcurl/python/\" rel=\"nofollow\">cURL</a> to send the appropriate JSON data to the appropriate endpoints(the API url + something like '/restaurant') using GET/POST requests.</p></li>\n</ul>\n\n<p>All of these links will give you plenty of information to learn how to do exactly what you need with the Zomato API.  The best you can do is educate yourself as to how the HTTP requests work, and then follow these links to get started.</p>\n"}], "owner": {"reputation": 9, "user_id": 5109509, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47d6d61355bb718ce0af77968319754a?s=128&d=identicon&r=PG&f=1", "display_name": "boson", "link": "https://stackoverflow.com/users/5109509/boson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 249, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1461184545, "creation_date": 1461182777, "last_edit_date": 1461184427, "question_id": 36754110, "link": "https://stackoverflow.com/questions/36754110/querying-a-remote-api-from-a-python-script", "title": "Querying a remote API from a Python script", "body": "<p>I would like to integrate the <code>reviews API</code> from Zomato in my Python script.</p>\n\n<p>I know basic programming in Python, but as for API integration, I want to know </p>\n\n<ul>\n<li>how to proceed with the API</li>\n<li>what steps should be taken to query the API from Python</li>\n<li>how to integrate the results in my script</li>\n</ul>\n\n<p>What are the viable options?</p>\n"}, {"tags": ["python", "python-3.x", "pandas", "dataframe", "iteration"], "comments": [{"owner": {"reputation": 7789, "user_id": 2271269, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/d7CGe.jpg?s=128&g=1", "display_name": "Akshat Mahajan", "link": "https://stackoverflow.com/users/2271269/akshat-mahajan"}, "edited": false, "score": 0, "creation_date": 1461182962, "post_id": 36754099, "comment_id": 61088525, "body": "What is the output you&#39;re getting?"}, {"owner": {"reputation": 12268, "user_id": 4596596, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/b00c839c9e28eb73aeb299bf3ef69a76?s=128&d=identicon&r=PG&f=1", "display_name": "ShanZhengYang", "link": "https://stackoverflow.com/users/4596596/shanzhengyang"}, "reply_to_user": {"reputation": 7789, "user_id": 2271269, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/d7CGe.jpg?s=128&g=1", "display_name": "Akshat Mahajan", "link": "https://stackoverflow.com/users/2271269/akshat-mahajan"}, "edited": false, "score": 0, "creation_date": 1461183271, "post_id": 36754099, "comment_id": 61088757, "body": "@AkshatMahajan For the &#39;different_positions&#39; column, I get a list of all mismatched positions, e.g. <code>[5, 11, 28, 81]</code>. For the error, see edit above."}], "answers": [{"comments": [{"owner": {"reputation": 12268, "user_id": 4596596, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/b00c839c9e28eb73aeb299bf3ef69a76?s=128&d=identicon&r=PG&f=1", "display_name": "ShanZhengYang", "link": "https://stackoverflow.com/users/4596596/shanzhengyang"}, "edited": false, "score": 0, "creation_date": 1461183986, "post_id": 36754256, "comment_id": 61089226, "body": "Thanks! This works perfectly. By the way, could you explain to me the syntax <code>for _, row in ...</code>? I use it, but I&#39;m not entirely sure why we type <code>_</code>. Does this stand for <code>rowindex</code>?"}, {"owner": {"reputation": 7789, "user_id": 2271269, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/d7CGe.jpg?s=128&g=1", "display_name": "Akshat Mahajan", "link": "https://stackoverflow.com/users/2271269/akshat-mahajan"}, "reply_to_user": {"reputation": 12268, "user_id": 4596596, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/b00c839c9e28eb73aeb299bf3ef69a76?s=128&d=identicon&r=PG&f=1", "display_name": "ShanZhengYang", "link": "https://stackoverflow.com/users/4596596/shanzhengyang"}, "edited": false, "score": 0, "creation_date": 1461184211, "post_id": 36754256, "comment_id": 61089377, "body": "@ShanZhengYang No, the <code>_</code> is just an arbitrary random character. You could change it to &#39;foo&#39; or &#39;bar&#39; with no difficulties. The convention is to use <code>_</code> for variables whose values we don&#39;t need but have to take anyway. <code>df.iterrows()&#39; returns </code>rowindex` and <code>row</code> - since we don&#39;t need <code>rowindex</code>, we just denote it by <code>_</code> and move on."}], "tags": [], "owner": {"reputation": 7789, "user_id": 2271269, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/d7CGe.jpg?s=128&g=1", "display_name": "Akshat Mahajan", "link": "https://stackoverflow.com/users/2271269/akshat-mahajan"}, "is_accepted": true, "score": 1, "last_activity_date": 1461183647, "last_edit_date": 1461183647, "creation_date": 1461183280, "answer_id": 36754256, "question_id": 36754099, "link": "https://stackoverflow.com/questions/36754099/use-iterrows-in-pandas-to-find-mismatches-between-strings-bug/36754256#36754256", "title": "Use iterrows in pandas to find mismatches between strings, bug", "body": "<p>String iteration returns characters, not indices. In other words, <code>i for i in row.string2</code> will go through the <em>characters</em> of <code>row.string2</code>, not the corresponding indices.</p>\n\n<p>So </p>\n\n<pre><code>df[\"different_letters\"] = [[i for i in row.string2\nif row.string1[i] != row.string2[i]] for _, row in df.iterrows()]\n</code></pre>\n\n<p>is incorrect because you're effectively asking what <code>row.string1['a']</code> is if <code>row.string1</code> contains an <code>a</code>. String indices <em>must</em> be integers.</p>\n\n<p>Instead, you want to do</p>\n\n<pre><code>df[\"different_letters\"] = [[j for i, j in enumerate(row.string2)\nif row.string1[i] != row.string2[i]] for _, row in df.iterrows()]\n</code></pre>\n\n<p><code>enumerate</code> lets you iterate through both the index <em>and</em> the corresponding element in an iterable. Here, <code>j</code> is the corresponding character, <code>i</code> is its index, and you can now compare by index but only return the corresponding character. </p>\n"}], "owner": {"reputation": 12268, "user_id": 4596596, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/b00c839c9e28eb73aeb299bf3ef69a76?s=128&d=identicon&r=PG&f=1", "display_name": "ShanZhengYang", "link": "https://stackoverflow.com/users/4596596/shanzhengyang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 377, "favorite_count": 0, "accepted_answer_id": 36754256, "answer_count": 1, "score": 0, "last_activity_date": 1461183647, "creation_date": 1461182737, "last_edit_date": 1461183308, "question_id": 36754099, "link": "https://stackoverflow.com/questions/36754099/use-iterrows-in-pandas-to-find-mismatches-between-strings-bug", "title": "Use iterrows in pandas to find mismatches between strings, bug", "body": "<p>I have the following pandas Dataframe in Python3.5:</p>\n\n<pre><code>import pandas as pd\ndf = pd.Dataframe(...)\nprint(df)\n</code></pre>\n\n<p>which outputs</p>\n\n<pre><code>string1        string2\n'abcdefg...'   'abcSefg...'\n'Iknowhow...'  'Eknowhow...'\n'Thecatis...'  'Thekatis...'\n...\n</code></pre>\n\n<p>I first wanted to find the location of mismatches between <code>string1</code> and <code>string2</code> and append this to the Dataframe <code>df</code>. I use this code:</p>\n\n<pre><code>df[\"different_positions\"] = [[i for i in range(len(row.string2)) \n    if row.string1[i] != row.string2[i]] for _, row in df.iterrows()]\n</code></pre>\n\n<p>That will give me all the positions were mismatches occur. Now, I would like a separate column which outputs each letter of the mismatch. For example, in <code>string2</code>, there is an <code>S</code> instead of a <code>d</code> in the first row, an <code>E</code> instead of <code>I</code> in the second row, etc. </p>\n\n<p>I thought the code would be </p>\n\n<pre><code>df[\"different_letters\"] = [[i for i in row.string2\n    if row.string1[i] != row.string2[i]] for _, row in df.iterrows()]\n</code></pre>\n\n<p>However, it appears this isn't correct. I get a <code>NameError</code> at <code>for _, row</code>, i.e. </p>\n\n<pre><code>NameError: name 'i' is not defined\n</code></pre>\n\n<p>How do I output the mismatched letter to correspond to the mismatched position? </p>\n"}, {"tags": ["python", "opencv", "orb"], "comments": [{"owner": {"reputation": 17033, "user_id": 2393191, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/mFcLT.jpg?s=128&g=1", "display_name": "Micka", "link": "https://stackoverflow.com/users/2393191/micka"}, "edited": false, "score": 0, "creation_date": 1461183056, "post_id": 36753979, "comment_id": 61088602, "body": "compute the perspective homography from your matching and use warpPerspective or perspectiveTransform on the tracking box (depends on how teacking box reference is given)"}, {"owner": {"reputation": 121, "user_id": 5597255, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1fd71d0f1a8df439992125111dfd8287?s=128&d=identicon&r=PG", "display_name": "godolomn", "link": "https://stackoverflow.com/users/5597255/godolomn"}, "reply_to_user": {"reputation": 17033, "user_id": 2393191, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/mFcLT.jpg?s=128&g=1", "display_name": "Micka", "link": "https://stackoverflow.com/users/2393191/micka"}, "edited": false, "score": 0, "creation_date": 1461191316, "post_id": 36753979, "comment_id": 61092671, "body": "Thanks Micka! Could you provide a link with an example?"}, {"owner": {"reputation": 17033, "user_id": 2393191, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/mFcLT.jpg?s=128&g=1", "display_name": "Micka", "link": "https://stackoverflow.com/users/2393191/micka"}, "edited": false, "score": 0, "creation_date": 1461214286, "post_id": 36753979, "comment_id": 61098907, "body": "sorry, no python code from me and I have no link. But using google looks like this is exactly what you want to do: <a href=\"http://opencv-python-tutroals.readthedocs.org/en/latest/py_tutorials/py_feature2d/py_feature_homography/py_feature_homography.html\" rel=\"nofollow noreferrer\">opencv-python-tutroals.readthedocs.org/en/latest/py_tutorial&zwnj;&#8203;s/&hellip;</a>"}], "owner": {"reputation": 121, "user_id": 5597255, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1fd71d0f1a8df439992125111dfd8287?s=128&d=identicon&r=PG", "display_name": "godolomn", "link": "https://stackoverflow.com/users/5597255/godolomn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 229, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1461278234, "creation_date": 1461182339, "last_edit_date": 1461278234, "question_id": 36753979, "link": "https://stackoverflow.com/questions/36753979/it-is-possible-to-add-cv2-polylines-box-to-orb", "title": "It is possible to add cv2.polylines box to ORB?", "body": "<p>How can I add a perspective tracking box around the trainimage?</p>\n\n<p>I'm using ORB:</p>\n\n<pre><code>import numpy as np\nimport cv2\nfrom matplotlib import pyplot as plt\n\nimg1 = cv2.imread('box.png',0)          # queryImage\nimg2 = cv2.imread('box_in_scene.png',0) # trainImage\n\n# Initiate SIFT detector\norb = cv2.ORB()\n\n# find the keypoints and descriptors with SIFT\nkp1, des1 = orb.detectAndCompute(img1,None)\nkp2, des2 = orb.detectAndCompute(img2,None)\n</code></pre>\n\n<p>Who can I draw the box in ORB like this:<a href=\"https://i.stack.imgur.com/dF4rm.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dF4rm.jpg\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["python", "python-3.x", "exit", "enter", "python-3.5"], "comments": [{"owner": {"reputation": 7130, "user_id": 1429073, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6cf3963f7758df3b57542c790e598630?s=128&d=identicon&r=PG&f=1", "display_name": "DevLounge", "link": "https://stackoverflow.com/users/1429073/devlounge"}, "edited": false, "score": 0, "creation_date": 1461182730, "post_id": 36753913, "comment_id": 61088392, "body": "have a look to the <code>sys</code> module and its <code>exit</code> function"}, {"owner": {"reputation": 204, "user_id": 2735929, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/100003823470058/picture?type=large", "display_name": "Brett Comardelle", "link": "https://stackoverflow.com/users/2735929/brett-comardelle"}, "edited": false, "score": 2, "creation_date": 1461182749, "post_id": 36753913, "comment_id": 61088402, "body": "Similar answer here: <a href=\"http://stackoverflow.com/questions/12375173/how-to-stop-python-closing-immediately-when-executed-in-microsoft-windows\">How to stop Python</a>"}, {"owner": {"reputation": 7789, "user_id": 2271269, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/d7CGe.jpg?s=128&g=1", "display_name": "Akshat Mahajan", "link": "https://stackoverflow.com/users/2271269/akshat-mahajan"}, "reply_to_user": {"reputation": 7130, "user_id": 1429073, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6cf3963f7758df3b57542c790e598630?s=128&d=identicon&r=PG&f=1", "display_name": "DevLounge", "link": "https://stackoverflow.com/users/1429073/devlounge"}, "edited": false, "score": 1, "creation_date": 1461182755, "post_id": 36753913, "comment_id": 61088405, "body": "@Apero I think the OP&#39;s problem is that, for some reason, the <code>input</code> call is not blocking."}, {"owner": {"reputation": 7130, "user_id": 1429073, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6cf3963f7758df3b57542c790e598630?s=128&d=identicon&r=PG&f=1", "display_name": "DevLounge", "link": "https://stackoverflow.com/users/1429073/devlounge"}, "edited": false, "score": 0, "creation_date": 1461182976, "post_id": 36753913, "comment_id": 61088540, "body": "oh yeah, I suspect that IDLE kind of sends something to the program which input catches.  @Veinq: can you do test = input(&quot;Press the enter key to exit.&quot;) and then print(test)  ?"}, {"owner": {"reputation": 7130, "user_id": 1429073, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6cf3963f7758df3b57542c790e598630?s=128&d=identicon&r=PG&f=1", "display_name": "DevLounge", "link": "https://stackoverflow.com/users/1429073/devlounge"}, "edited": false, "score": 0, "creation_date": 1461183672, "post_id": 36753913, "comment_id": 61089014, "body": "this input (py3) or raw_input (py2) issue with IDLE seems to be really common. I just googled it and found tons of discussions threads. Maybe its just an IDLE bug... Use Jupyter (new name of iPython notebook) ;-)"}, {"owner": {"reputation": 12668, "user_id": 95852, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e215c7362074d0346612a10d3a89be9e?s=128&d=identicon&r=PG", "display_name": "John Y", "link": "https://stackoverflow.com/users/95852/john-y"}, "reply_to_user": {"reputation": 7130, "user_id": 1429073, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6cf3963f7758df3b57542c790e598630?s=128&d=identicon&r=PG&f=1", "display_name": "DevLounge", "link": "https://stackoverflow.com/users/1429073/devlounge"}, "edited": false, "score": 0, "creation_date": 1461183847, "post_id": 36753913, "comment_id": 61089129, "body": "@Apero: Except OP says he/she is <i>double-clicking the .py file</i> to run it. IDLE is just being used as the editor."}, {"owner": {"reputation": 7130, "user_id": 1429073, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6cf3963f7758df3b57542c790e598630?s=128&d=identicon&r=PG&f=1", "display_name": "DevLounge", "link": "https://stackoverflow.com/users/1429073/devlounge"}, "edited": false, "score": 0, "creation_date": 1461184000, "post_id": 36753913, "comment_id": 61089239, "body": "then it is THIS issue: <a href=\"http://stackoverflow.com/questions/12375173/how-to-stop-python-closing-immediately-when-executed-in-microsoft-windows?lq=1\" title=\"how to stop python closing immediately when executed in microsoft windows\">stackoverflow.com/questions/12375173/&hellip;</a>"}, {"owner": {"reputation": 12668, "user_id": 95852, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e215c7362074d0346612a10d3a89be9e?s=128&d=identicon&r=PG", "display_name": "John Y", "link": "https://stackoverflow.com/users/95852/john-y"}, "edited": false, "score": 2, "creation_date": 1461184806, "post_id": 36753913, "comment_id": 61089751, "body": "It <i>should</i> be working when you double-click it. Are you absolutely sure you haven&#39;t entered anything else in your .py file? It&#39;s normal for the window to close right away if there is an error in your program. The most reliable option is to run the program using the Windows command prompt, as given by <a href=\"http://stackoverflow.com/a/12375531\">this answer</a>."}, {"owner": {"reputation": 362, "user_id": 6232211, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/cccc05d946e1d1400a43468e2da170ca?s=128&d=identicon&r=PG", "display_name": "Eddy Vinck", "link": "https://stackoverflow.com/users/6232211/eddy-vinck"}, "edited": false, "score": 0, "creation_date": 1461186519, "post_id": 36753913, "comment_id": 61090630, "body": "Thanks everyone. I can&#39;t figure out how to set Python as an environment variable right now and it&#39;s getting pretty late. Will try again tomorrow. It&#39;s pretty vague to me."}, {"owner": {"reputation": 156940, "user_id": 416467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/32cad7487ccecc3740a62e797fc326dc?s=128&d=identicon&r=PG", "display_name": "kindall", "link": "https://stackoverflow.com/users/416467/kindall"}, "edited": false, "score": 0, "creation_date": 1461186521, "post_id": 36753913, "comment_id": 61090632, "body": "Yes, open up a command prompt in the directory containing the file and run it from there so you can see any error message."}, {"owner": {"reputation": 362, "user_id": 6232211, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/cccc05d946e1d1400a43468e2da170ca?s=128&d=identicon&r=PG", "display_name": "Eddy Vinck", "link": "https://stackoverflow.com/users/6232211/eddy-vinck"}, "edited": false, "score": 0, "creation_date": 1461192405, "post_id": 36753913, "comment_id": 61093074, "body": "Well.. I should&#39;ve gone to bed, but I made it work! I figured out what was wrong. After trying a lot of things, I noticed that when I succesfully changed the path in environment variables I got an error saying that my system wasn&#39;t compatible because I needed a 64-bits version of Python. What I did was I uninstalled Python from my PC and installed a 64-bits version of Python only to find out that there was a box you could check to let the installer do the environment variable path for me. Thanks everyone for trying to help me!"}], "owner": {"reputation": 362, "user_id": 6232211, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/cccc05d946e1d1400a43468e2da170ca?s=128&d=identicon&r=PG", "display_name": "Eddy Vinck", "link": "https://stackoverflow.com/users/6232211/eddy-vinck"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 634, "favorite_count": 0, "closed_date": 1461272846, "answer_count": 0, "score": 0, "last_activity_date": 1474667809, "creation_date": 1461182175, "last_edit_date": 1474667809, "question_id": 36753913, "link": "https://stackoverflow.com/questions/36753913/python-3-5-1-press-enter-to-exit", "closed_reason": "Duplicate", "title": "Python 3.5.1 Press enter to exit", "body": "<p>Thank you for taking the time to help me out. I'm an absolute beginner and started out just today with Python and the guide I'm using is called \"Python Programming for the Absolute Beginner.\" </p>\n\n<p>What I am trying to do is simply have the system show the string \"Game Over\" with the text \"Press enter to exit\" below. Goes without saying that I also want it to close when you press exit.</p>\n\n<p>Here is what I have tried.</p>\n\n<pre><code>print(\"Game Over\")\ninput(\"Press enter to exit\")\n</code></pre>\n\n<p>and</p>\n\n<pre><code>print(\"Game Over\")\ninput(\"\\n\\nPress the enter key to exit.\")\n</code></pre>\n\n<p>The bottom one is the example used in the book. It doesn't work. What happens is when I save it as a .py file by using IDLE and I double click it the program just opens the prompt and closes it within a splitsecond.</p>\n"}, {"tags": ["python", "django", "string", "dictionary", "time"], "comments": [{"owner": {"reputation": 7130, "user_id": 1429073, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6cf3963f7758df3b57542c790e598630?s=128&d=identicon&r=PG&f=1", "display_name": "DevLounge", "link": "https://stackoverflow.com/users/1429073/devlounge"}, "edited": false, "score": 0, "creation_date": 1461182520, "post_id": 36753868, "comment_id": 61088264, "body": "please post also the exact content of the alerts variable. You can replace the values, but I need to understand what it really contains"}, {"owner": {"reputation": 137, "user_id": 4408961, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/aab8ba3e92e3069be4ad316ffb445c29?s=128&d=identicon&r=PG", "display_name": "Kilpatrick", "link": "https://stackoverflow.com/users/4408961/kilpatrick"}, "reply_to_user": {"reputation": 7130, "user_id": 1429073, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6cf3963f7758df3b57542c790e598630?s=128&d=identicon&r=PG&f=1", "display_name": "DevLounge", "link": "https://stackoverflow.com/users/1429073/devlounge"}, "edited": false, "score": 0, "creation_date": 1461183162, "post_id": 36753868, "comment_id": 61088679, "body": "@Apero I didn&#39;t state that this was a list of dictionaries. Question updated. Thanks!"}], "answers": [{"tags": [], "owner": {"reputation": 94141, "user_id": 2867928, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/a8DM1.jpg?s=128&g=1", "display_name": "kasravnd", "link": "https://stackoverflow.com/users/2867928/kasravnd"}, "is_accepted": false, "score": 4, "last_activity_date": 1461182711, "last_edit_date": 1461182711, "creation_date": 1461182177, "answer_id": 36753919, "question_id": 36753868, "link": "https://stackoverflow.com/questions/36753868/python-convert-dictionary-of-string-times-to-date-times/36753919#36753919", "title": "Python: Convert Dictionary of String Times to Date Times", "body": "<p>You can use a dictionary comprehension:</p>\n\n<pre><code>new_dict = {datetime.strptime(key, \"%Y-%m-%d %H:%M:%S\"): val for key, val in alerts['alert_date'].items()}\n</code></pre>\n\n<p>Also note that, since you are using <code>datetime.strptime</code> with an specified format it might raise a <code>ValueError</code>. Which in that case the dict-comprehension won't be helpful. So if you are not sure about the fromat of your dates you need to handle the exceptions:</p>\n\n<pre><code>new_dict = {}\nfor k, v in alerts['alert_date'].items():\n    try:\n        new_dict[datetime.strptime(k, \"%Y-%m-%d %H:%M:%S\")] = v \n    except ValueError:\n        new_dict[datetime.strptime(k, \"%Y-%m-%d %H:%M:%S\")] = '' # or what you want\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 137, "user_id": 4408961, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/aab8ba3e92e3069be4ad316ffb445c29?s=128&d=identicon&r=PG", "display_name": "Kilpatrick", "link": "https://stackoverflow.com/users/4408961/kilpatrick"}, "edited": false, "score": 0, "creation_date": 1461184132, "post_id": 36753928, "comment_id": 61089331, "body": "I had to change that 2nd line to <code>for alert in alerts:</code>, but otherwise it worked. Thanks!"}, {"owner": {"reputation": 137, "user_id": 4408961, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/aab8ba3e92e3069be4ad316ffb445c29?s=128&d=identicon&r=PG", "display_name": "Kilpatrick", "link": "https://stackoverflow.com/users/4408961/kilpatrick"}, "edited": false, "score": 0, "creation_date": 1461184241, "post_id": 36753928, "comment_id": 61089399, "body": "As @Kasramvd mentioned, my strptime example is expecting a specific format. That is not met in my sample data (&quot;2014-06-05 01:00:23.633000&quot; ). I also had to switch data sources to one with consistent time formatting for this to work."}, {"owner": {"reputation": 7130, "user_id": 1429073, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6cf3963f7758df3b57542c790e598630?s=128&d=identicon&r=PG&f=1", "display_name": "DevLounge", "link": "https://stackoverflow.com/users/1429073/devlounge"}, "reply_to_user": {"reputation": 137, "user_id": 4408961, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/aab8ba3e92e3069be4ad316ffb445c29?s=128&d=identicon&r=PG", "display_name": "Kilpatrick", "link": "https://stackoverflow.com/users/4408961/kilpatrick"}, "edited": false, "score": 0, "creation_date": 1461184340, "post_id": 36753928, "comment_id": 61089462, "body": "yes, data source integrity and uniformity is the most important. You can of course put a try / except inside this loop."}, {"owner": {"reputation": 7130, "user_id": 1429073, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6cf3963f7758df3b57542c790e598630?s=128&d=identicon&r=PG&f=1", "display_name": "DevLounge", "link": "https://stackoverflow.com/users/1429073/devlounge"}, "reply_to_user": {"reputation": 137, "user_id": 4408961, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/aab8ba3e92e3069be4ad316ffb445c29?s=128&d=identicon&r=PG", "display_name": "Kilpatrick", "link": "https://stackoverflow.com/users/4408961/kilpatrick"}, "edited": false, "score": 0, "creation_date": 1461185024, "post_id": 36753928, "comment_id": 61089866, "body": "You could also use this <a href=\"http://dateutil.readthedocs.org/en/latest/parser.html\" rel=\"nofollow noreferrer\">dateutil.readthedocs.org/en/latest/parser.html</a>. Just be careful and set the dayfirst or yearfirst options"}], "tags": [], "owner": {"reputation": 7130, "user_id": 1429073, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6cf3963f7758df3b57542c790e598630?s=128&d=identicon&r=PG&f=1", "display_name": "DevLounge", "link": "https://stackoverflow.com/users/1429073/devlounge"}, "is_accepted": true, "score": 5, "last_activity_date": 1461185174, "last_edit_date": 1461185174, "creation_date": 1461182204, "answer_id": 36753928, "question_id": 36753868, "link": "https://stackoverflow.com/questions/36753868/python-convert-dictionary-of-string-times-to-date-times/36753928#36753928", "title": "Python: Convert Dictionary of String Times to Date Times", "body": "<p><strong>EDIT:</strong> \nnow that you have added some sample json response data, I know that this answer is correct, <code>alerts</code> <strong>IS a list of dicts</strong>:</p>\n\n<p>From your example, I now assume that:</p>\n\n<ul>\n<li><code>alerts</code> is a list of <code>alert</code> dictionaries</li>\n<li><code>alert['alert_date']</code> is a date string</li>\n</ul>\n\n<p>Therefore I would suggest you to do:</p>\n\n<pre><code>alerts = resp_data['alerts']\nfor alert in alerts:\n    alert['alert_date'] = datetime.strptime(alert['alert_date'], \"%Y-%m-%d %H:%M:%S\")\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1323, "user_id": 1698509, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/edf0ad119c6130a8f08ce129c3d67f1c?s=128&d=identicon&r=PG", "display_name": "Guilherme", "link": "https://stackoverflow.com/users/1698509/guilherme"}, "edited": false, "score": 0, "creation_date": 1593184099, "post_id": 36755451, "comment_id": 110699847, "body": "i like your approach, but i think it&#39;s kind of the opposite. They have a date object on a dict and wants to convert this date object to a string"}, {"owner": {"reputation": 1323, "user_id": 1698509, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/edf0ad119c6130a8f08ce129c3d67f1c?s=128&d=identicon&r=PG", "display_name": "Guilherme", "link": "https://stackoverflow.com/users/1698509/guilherme"}, "edited": false, "score": 0, "creation_date": 1593184186, "post_id": 36755451, "comment_id": 110699901, "body": "i would suggest to use isinstance() to check if the value is a date object instead of having the key name hard coded"}], "tags": [], "owner": {"reputation": 1095, "user_id": 6079540, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fIk1Q.jpg?s=128&g=1", "display_name": "dron22", "link": "https://stackoverflow.com/users/6079540/dron22"}, "is_accepted": false, "score": -1, "last_activity_date": 1461187362, "creation_date": 1461187362, "answer_id": 36755451, "question_id": 36753868, "link": "https://stackoverflow.com/questions/36753868/python-convert-dictionary-of-string-times-to-date-times/36755451#36755451", "title": "Python: Convert Dictionary of String Times to Date Times", "body": "<p>If I understood you correctly, you wanted to just change the date strings in the <code>alerts</code> list dictionaries and leave the other keys/values untouched. I would suggest the following:</p>\n\n<pre><code>from datetime import datetime\n\nfmt = \"%Y-%m-%d %H:%M:%S\"\nalerts = map(lambda x: dict(x, **{'alert_date': datetime.strptime(x['alert_date'], fmt)}), alerts)\n</code></pre>\n\n<p>If your date string format is inconsistent, like in your JSON Response example, you could drop the microsecond part by executing <code>split()</code>:</p>\n\n<pre><code>from datetime import datetime\n\ndef convert(s):\n    s = s.split('.')[0]\n    return datetime.strptime(s, \"%Y-%m-%d %H:%M:%S\")\n\nalerts = map(lambda x: dict(x, **{'alert_date': convert(x['alert_date'])}), alerts)\n</code></pre>\n\n<p>The resulting <code>alerts</code> lists for both examples look like this:</p>\n\n<pre><code>[{'alert_date': datetime.datetime(2014, 6, 5, 1, 0, 23),\n  'key1': 'value11',\n  'key2': 'value12',\n  'key3': 'value13'},\n {'alert_date': datetime.datetime(2010, 12, 31, 0, 0),\n  'key1': 'value21',\n  'key2': 'value22',\n  'key3': 'value23'}]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1323, "user_id": 1698509, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/edf0ad119c6130a8f08ce129c3d67f1c?s=128&d=identicon&r=PG", "display_name": "Guilherme", "link": "https://stackoverflow.com/users/1698509/guilherme"}, "is_accepted": false, "score": 0, "last_activity_date": 1593185201, "creation_date": 1593185201, "answer_id": 62597956, "question_id": 36753868, "link": "https://stackoverflow.com/questions/36753868/python-convert-dictionary-of-string-times-to-date-times/62597956#62597956", "title": "Python: Convert Dictionary of String Times to Date Times", "body": "<p>Recently I did something like this</p>\n<p>On my case, the dict may have date object, or not</p>\n<p>And I don't know the key of the date/datetime field</p>\n<pre><code>def convert_date_on_dict(old_dict):\n    new_dict = {}\n    for k, v in old_dict.items():\n        if isinstance(v, (date, datetime)):\n            new_dict[k] = v.strftime('%Y-%m-%d')\n        else:\n            new_dict[k] = v\n\n    return new_dict\n</code></pre>\n<p>So...</p>\n<pre><code>for item in myDictList:\n    new_item = convert_date_on_dict(item)\n</code></pre>\n"}], "owner": {"reputation": 137, "user_id": 4408961, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/aab8ba3e92e3069be4ad316ffb445c29?s=128&d=identicon&r=PG", "display_name": "Kilpatrick", "link": "https://stackoverflow.com/users/4408961/kilpatrick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8705, "favorite_count": 1, "accepted_answer_id": 36753928, "answer_count": 4, "score": 6, "last_activity_date": 1593185201, "creation_date": 1461182006, "last_edit_date": 1461184627, "question_id": 36753868, "link": "https://stackoverflow.com/questions/36753868/python-convert-dictionary-of-string-times-to-date-times", "title": "Python: Convert Dictionary of String Times to Date Times", "body": "<p>I have a dictionary <code>alerts[]</code> which includes the key <code>alert_date</code>. All dates/times are stored as strings. I am displaying the date in Django, but templates can't format time stored as a sting. So, I want to convert it in my view as such: </p>\n\n<pre><code>foo = \"2014-10-07 00:00:00\"\nbar = datetime.strptime(foo, \"%Y-%m-%d %H:%M:%S\")\n</code></pre>\n\n<p>But, I want to convert all the dictionary time values at once. I'm grabbing the dictionary as JSON through an API call. I want to do something like this (which is obviously invalid code):</p>\n\n<pre><code>alerts = resp_data['alerts']\nfor v in alerts['alert_date']:\n    v = datetime.strptime(v, \"%Y-%m-%d %H:%M:%S\")\n</code></pre>\n\n<p>//EDIT:\nThe JSON response is a dictionary which contains <code>alerts</code>, which is a list of dictionaries as follows:</p>\n\n<pre><code>{\"alerts\": [\n    {\n      \"key1\": \"value11\",\n      \"key2\": \"value12\",\n      \"key3\": \"value13\",\n      \"alert_date\": \"2014-06-05 01:00:23.633000\",\n    },\n    {\n      \"key1\": \"value21\",\n      \"key2\": \"value22\",\n      \"key3\": \"value23\",\n      \"alert_date\": \"2010-12-31 00:00:00\",\n    }\n]}\n</code></pre>\n"}, {"tags": ["python", "numpy", "pandas", "dataframe", "unique"], "comments": [{"owner": {"reputation": 7789, "user_id": 2271269, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/d7CGe.jpg?s=128&g=1", "display_name": "Akshat Mahajan", "link": "https://stackoverflow.com/users/2271269/akshat-mahajan"}, "edited": false, "score": 0, "creation_date": 1461182015, "post_id": 36753799, "comment_id": 61087886, "body": "Is a list comprehension acceptable?"}, {"owner": {"reputation": 680, "user_id": 6035139, "user_type": "registered", "accept_rate": 81, "profile_image": "https://graph.facebook.com/10156685056205201/picture?type=large", "display_name": "Rosa Alejandra", "link": "https://stackoverflow.com/users/6035139/rosa-alejandra"}, "reply_to_user": {"reputation": 7789, "user_id": 2271269, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/d7CGe.jpg?s=128&g=1", "display_name": "Akshat Mahajan", "link": "https://stackoverflow.com/users/2271269/akshat-mahajan"}, "edited": false, "score": 0, "creation_date": 1461182226, "post_id": 36753799, "comment_id": 61088046, "body": "I need it to be DataFrame"}, {"owner": {"reputation": 7789, "user_id": 2271269, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/d7CGe.jpg?s=128&g=1", "display_name": "Akshat Mahajan", "link": "https://stackoverflow.com/users/2271269/akshat-mahajan"}, "edited": false, "score": 0, "creation_date": 1461182301, "post_id": 36753799, "comment_id": 61088096, "body": "@RoseAlejandra - No, I&#39;m asking if a list comprehension is acceptable in order to create the DataFrame. You say without a &#39;for loop&#39;, which list comprehensions use implicitly, but not explicitly."}, {"owner": {"reputation": 680, "user_id": 6035139, "user_type": "registered", "accept_rate": 81, "profile_image": "https://graph.facebook.com/10156685056205201/picture?type=large", "display_name": "Rosa Alejandra", "link": "https://stackoverflow.com/users/6035139/rosa-alejandra"}, "reply_to_user": {"reputation": 7789, "user_id": 2271269, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/d7CGe.jpg?s=128&g=1", "display_name": "Akshat Mahajan", "link": "https://stackoverflow.com/users/2271269/akshat-mahajan"}, "edited": false, "score": 0, "creation_date": 1461182648, "post_id": 36753799, "comment_id": 61088340, "body": "I don&#39;t mind the use of them implicitly @AkshatMahajan"}, {"owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "edited": false, "score": 0, "creation_date": 1461184390, "post_id": 36753799, "comment_id": 61089491, "body": "@RosaAlejandra, please pay attention at B. M.&#39;s solution - it&#39;s <b>much</b> faster"}], "answers": [{"comments": [{"owner": {"reputation": 7789, "user_id": 2271269, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/d7CGe.jpg?s=128&g=1", "display_name": "Akshat Mahajan", "link": "https://stackoverflow.com/users/2271269/akshat-mahajan"}, "edited": false, "score": 0, "creation_date": 1461182404, "post_id": 36753921, "comment_id": 61088173, "body": "Since <code>itertools.product(a,b)</code> returns an iterator consisting of tuples, I suspect the additional list comprehension to <code>[[x[0],x[1]]</code> was unnecessary."}], "tags": [], "owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "is_accepted": true, "score": 0, "last_activity_date": 1461184055, "last_edit_date": 1461184055, "creation_date": 1461182180, "answer_id": 36753921, "question_id": 36753799, "link": "https://stackoverflow.com/questions/36753799/join-unique-values-into-new-data-frame-python-pandas/36753921#36753921", "title": "Join unique values into new data frame (python, pandas)", "body": "<p><strong>UPDATE:</strong></p>\n\n<p>B. M.'s solution utilizing numpy is much faster - i would recommend to use his approach:</p>\n\n<pre><code>In [88]: %timeit pd.DataFrame({'col1':np.repeat(aa,bb.size),'col2':np.tile(bb,aa.size)})\n10 loops, best of 3: 25.4 ms per loop\n\nIn [89]: %timeit pd.DataFrame(list(product(aa,bb)), columns=['col1', 'col2'])\n1 loop, best of 3: 1.28 s per loop\n\nIn [90]: aa.size\nOut[90]: 1000\n\nIn [91]: bb.size\nOut[91]: 1000\n</code></pre>\n\n<p>try <a href=\"https://docs.python.org/2/library/itertools.html#itertools.product\" rel=\"nofollow\">itertools.product</a>:</p>\n\n<pre><code>In [56]: a\nOut[56]:\narray(['a', 'b', 'c', 'd'],\n      dtype='&lt;U1')\n\nIn [57]: b\nOut[57]: array([1, 2, 3])\n\nIn [63]: pd.DataFrame(list(product(a,b)), columns=['col1', 'col2'])\nOut[63]:\n   col1  col2\n0     a     1\n1     a     2\n2     a     3\n3     b     1\n4     b     2\n5     b     3\n6     c     1\n7     c     2\n8     c     3\n9     d     1\n10    d     2\n11    d     3\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 7789, "user_id": 2271269, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/d7CGe.jpg?s=128&g=1", "display_name": "Akshat Mahajan", "link": "https://stackoverflow.com/users/2271269/akshat-mahajan"}, "is_accepted": false, "score": 0, "last_activity_date": 1461182573, "last_edit_date": 1495541257, "creation_date": 1461182216, "answer_id": 36753933, "question_id": 36753799, "link": "https://stackoverflow.com/questions/36753799/join-unique-values-into-new-data-frame-python-pandas/36753933#36753933", "title": "Join unique values into new data frame (python, pandas)", "body": "<p>You can't do this task without using at least one for loop. The best you can do is <em>hide</em> the for loop or make use of implicit <code>yield</code> calls to make a memory-efficient generator. </p>\n\n<p><code>itertools</code> exports efficient functions for this task that use <code>yield</code> implicitly to return generators: </p>\n\n<pre><code>from itertools import product\n\nproducts = product(['a','b','c','d'], [1,2,3])\n\ncol1_items, col2_items = zip(*products)\n\nresult = pandas.DataFrame({'col1':col1_items, 'col2': col2_items})\n</code></pre>\n\n<p><code>itertools.product</code> creates a <a href=\"https://docs.python.org/2/library/itertools.html#itertools.product\" rel=\"nofollow noreferrer\">Cartesian product</a> of two iterables. The <code>zip(*products)</code> simply unpacks the resulting list of tuples into two separate tuples, as seen <a href=\"https://stackoverflow.com/questions/7558908/unpacking-a-list-tuple-of-pairs-into-two-lists-tuples\">here</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 391, "user_id": 1655788, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c606b93c6b232caaa2d71d8b02c6c51?s=128&d=identicon&r=PG", "display_name": "thetainted1", "link": "https://stackoverflow.com/users/1655788/thetainted1"}, "is_accepted": false, "score": 0, "last_activity_date": 1461182890, "creation_date": 1461182890, "answer_id": 36754142, "question_id": 36753799, "link": "https://stackoverflow.com/questions/36753799/join-unique-values-into-new-data-frame-python-pandas/36754142#36754142", "title": "Join unique values into new data frame (python, pandas)", "body": "<p>You can do this with pandas merge and it will be faster than itertools or a loop:</p>\n\n<pre><code>df_a = pd.DataFrame({'a': a, 'key': 1})\ndf_b = pd.DataFrame({'b': b, 'key': 1})\nresult = pd.merge(df_a, df_b, how='outer')\n</code></pre>\n\n<p>result:</p>\n\n<pre><code>    a  key  b\n0   a    1  1\n1   a    1  2\n2   a    1  3\n3   b    1  1\n4   b    1  2\n5   b    1  3\n6   c    1  1\n7   c    1  2\n8   c    1  3\n9   d    1  1\n10  d    1  2\n11  d    1  3\n</code></pre>\n\n<p>then if need be you can always do </p>\n\n<pre><code>del result['key']\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 16399, "user_id": 4016285, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SvSVV.png?s=128&g=1", "display_name": "B. M.", "link": "https://stackoverflow.com/users/4016285/b-m"}, "is_accepted": false, "score": 1, "last_activity_date": 1461183558, "creation_date": 1461183558, "answer_id": 36754353, "question_id": 36753799, "link": "https://stackoverflow.com/questions/36753799/join-unique-values-into-new-data-frame-python-pandas/36754353#36754353", "title": "Join unique values into new data frame (python, pandas)", "body": "<p>with numpy tools :</p>\n\n<pre><code>pd.DataFrame({'col1':np.repeat(a,b.size),'col2':np.tile(b,a.size)})\n</code></pre>\n"}], "owner": {"reputation": 680, "user_id": 6035139, "user_type": "registered", "accept_rate": 81, "profile_image": "https://graph.facebook.com/10156685056205201/picture?type=large", "display_name": "Rosa Alejandra", "link": "https://stackoverflow.com/users/6035139/rosa-alejandra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 701, "favorite_count": 1, "accepted_answer_id": 36753921, "answer_count": 4, "score": 1, "last_activity_date": 1461184055, "creation_date": 1461181787, "question_id": 36753799, "link": "https://stackoverflow.com/questions/36753799/join-unique-values-into-new-data-frame-python-pandas", "title": "Join unique values into new data frame (python, pandas)", "body": "<p>I have two dataFrames, from where I extract the unique values of a column into a and b</p>\n\n<pre><code>a = df1.col1.unique()\nb = df2.col2.unique()\n</code></pre>\n\n<p>now a and b are something like this</p>\n\n<pre><code>['a','b','c','d'] #a\n[1,2,3] #b\n</code></pre>\n\n<p>they are now type numpy.ndarray</p>\n\n<p>I want to join them to have a DataFrame like this</p>\n\n<pre><code>   col1  col2\n0    a     1\n1    a     2\n3    a     3\n4    b     1\n5    b     2\n6    b     3\n7    c     1\n   . . .\n</code></pre>\n\n<p>Is there a way to do it not using a loop?</p>\n"}, {"tags": ["python", "class", "methods", "instance"], "answers": [{"tags": [], "owner": {"reputation": 129, "user_id": 4261997, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e2ef61e80e0ac768e3a0520ce0d32dae?s=128&d=identicon&r=PG&f=1", "display_name": "MSauer", "link": "https://stackoverflow.com/users/4261997/msauer"}, "is_accepted": true, "score": 0, "last_activity_date": 1462212958, "creation_date": 1462212958, "answer_id": 36988959, "question_id": 36753724, "link": "https://stackoverflow.com/questions/36753724/python-call-method-of-instance-by-another-instance/36988959#36988959", "title": "Python: Call Method of Instance by another Instance", "body": "<p>This is the simplest Solution:</p>\n\n<p>Instead of</p>\n\n<pre><code>def __foo(self, firstclass):\n</code></pre>\n\n<p>i have to write</p>\n\n<pre><code>def foo(self, firstclass):\n</code></pre>\n\n<p>The double _ won't work here.</p>\n\n<p>I will leave this Question &amp; Answere at this place for other people with the same 'problem'.</p>\n"}], "owner": {"reputation": 129, "user_id": 4261997, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e2ef61e80e0ac768e3a0520ce0d32dae?s=128&d=identicon&r=PG&f=1", "display_name": "MSauer", "link": "https://stackoverflow.com/users/4261997/msauer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 109, "favorite_count": 0, "accepted_answer_id": 36988959, "answer_count": 1, "score": 0, "last_activity_date": 1462215137, "creation_date": 1461181524, "last_edit_date": 1462215137, "question_id": 36753724, "link": "https://stackoverflow.com/questions/36753724/python-call-method-of-instance-by-another-instance", "title": "Python: Call Method of Instance by another Instance", "body": "<p>i want to call a method in an Instance by another new Instance like this:</p>\n\n<pre><code>class parentClass:\n    # Some methods here\n    class a:\n        def __init__(self, otherclass):\n            otherclass.__foo(a);\n\n    class b:\n        def __foo(self, firstclass):\n            #do something with firstclass\n\npClass = parentClass();\nclassB = pClass.b();\nclassA = pClass.a(classB);\n</code></pre>\n\n<p>But with this code i will get this kind of error:</p>\n\n<pre><code>AttributeError: b instance has no attribute '_a__foo'\n</code></pre>\n\n<p>I already tried to add this before method __foo():</p>\n\n<pre><code>@classmethod\n</code></pre>\n\n<p>But this still doesn't works.</p>\n\n<p>Thanks for Help!</p>\n"}, {"tags": ["python", "numpy", "fortran", "f2py"], "comments": [{"owner": {"reputation": 22511, "user_id": 1695766, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/5ef1825ece036980c69dfd2683b8980a?s=128&d=identicon&r=PG", "display_name": "CrazyCasta", "link": "https://stackoverflow.com/users/1695766/crazycasta"}, "edited": false, "score": 0, "creation_date": 1461182864, "post_id": 36753722, "comment_id": 61088466, "body": "Can I just ask, why are you trying to use two different languages to do something that at least seems relatively simple? For instance, why not just write it all in python?"}, {"owner": {"reputation": 5116, "user_id": 3023116, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ce3371c6423c6f4b5fee8777b8c98c6?s=128&d=identicon&r=PG", "display_name": "taras", "link": "https://stackoverflow.com/users/3023116/taras"}, "reply_to_user": {"reputation": 22511, "user_id": 1695766, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/5ef1825ece036980c69dfd2683b8980a?s=128&d=identicon&r=PG", "display_name": "CrazyCasta", "link": "https://stackoverflow.com/users/1695766/crazycasta"}, "edited": false, "score": 0, "creation_date": 1461183036, "post_id": 36753722, "comment_id": 61088583, "body": "Fortran code for <code>iterate</code> function is about 10 times faster compared to its python equivalent."}, {"owner": {"reputation": 22511, "user_id": 1695766, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/5ef1825ece036980c69dfd2683b8980a?s=128&d=identicon&r=PG", "display_name": "CrazyCasta", "link": "https://stackoverflow.com/users/1695766/crazycasta"}, "edited": false, "score": 0, "creation_date": 1461183048, "post_id": 36753722, "comment_id": 61088595, "body": "As for your problem, just to be clear, if you <code>z = func(z)</code> with <code>z = 4.0 + z*z</code> you&#39;re saying it will work? Not removing the function from the parameter list or anything, just making that small change."}, {"owner": {"reputation": 22511, "user_id": 1695766, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/5ef1825ece036980c69dfd2683b8980a?s=128&d=identicon&r=PG", "display_name": "CrazyCasta", "link": "https://stackoverflow.com/users/1695766/crazycasta"}, "edited": false, "score": 0, "creation_date": 1461183355, "post_id": 36753722, "comment_id": 61088818, "body": "Well, I have to disappoint you then. I&#39;m pretty sure that repeatedly going between python and fortran is going to slow you down. Your fortran code doesn&#39;t particularly do a whole lot, so you&#39;re going to get into the fortran code, then very quickly have to go back to python, the switch incurring some cost, run your lambda function which is probably going to be a significant (1/4 to a 1/3) bit of the time spent in your pure-python code, then go back to fortran, again with some overhead. I suggest trying <code>pypy</code>. It&#39;s a much faster implementation of Python 2.7. Speed may be sufficient."}, {"owner": {"reputation": 5116, "user_id": 3023116, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ce3371c6423c6f4b5fee8777b8c98c6?s=128&d=identicon&r=PG", "display_name": "taras", "link": "https://stackoverflow.com/users/3023116/taras"}, "reply_to_user": {"reputation": 22511, "user_id": 1695766, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/5ef1825ece036980c69dfd2683b8980a?s=128&d=identicon&r=PG", "display_name": "CrazyCasta", "link": "https://stackoverflow.com/users/1695766/crazycasta"}, "edited": false, "score": 0, "creation_date": 1461183528, "post_id": 36753722, "comment_id": 61088928, "body": "When I replace <code>z = func(z)</code> with <code>z = 4.0 + z*z</code> I get compile error. I believe it is caused by th fact that <code>func</code> was not used there because the code compiles and runs fine if I use <code>func</code> in  <code>iterate</code> but do not call it. I will have a look at <code>pypy</code> but still hope to have this issue figured out."}], "answers": [{"comments": [{"owner": {"reputation": 5116, "user_id": 3023116, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ce3371c6423c6f4b5fee8777b8c98c6?s=128&d=identicon&r=PG", "display_name": "taras", "link": "https://stackoverflow.com/users/3023116/taras"}, "edited": false, "score": 0, "creation_date": 1461684798, "post_id": 36869269, "comment_id": 61306102, "body": "Thank you! I&#39;ve discovered the issue with <code>z_cb_capi</code> too but didn&#39;t manage to move further."}], "tags": [], "owner": {"reputation": 4677, "user_id": 2043465, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/649021e96b1032f4de635a8fdb4654b2?s=128&d=identicon&r=PG", "display_name": "Yossarian", "link": "https://stackoverflow.com/users/2043465/yossarian"}, "is_accepted": true, "score": 3, "last_activity_date": 1461684247, "creation_date": 1461684247, "answer_id": 36869269, "question_id": 36753722, "link": "https://stackoverflow.com/questions/36753722/segfault-on-f2py-callback/36869269#36869269", "title": "segfault on f2py callback", "body": "<p>I've got a workaround, but not a complete fix, I'm afraid. The key point seems to be that <code>f2py</code> generates some strange looking, and possibly just incorrect, c code when <code>func</code> is a function. Changing <code>func</code> to be a subroutine seems to make it work.</p>\n\n<p>To make your code work, change the following:</p>\n\n<pre><code>external func\ncomplex(kind=8) :: func\n\n...\n\ndo while ((n &lt; niter) .and. (abs(z) &lt; zmax))\n    z = func(z)\n...\n</code></pre>\n\n<p>to</p>\n\n<pre><code>interface foo\n   subroutine func(f, z)\n     complex(kind=8), intent(out) :: f\n     complex(kind=8), intent(in) :: z\n   end subroutine func\nend interface foo\n\n...\n\ndo while ((n &lt; niter) .and. (abs(z) &lt; zmax))\n    call func(z, z)\n...\n</code></pre>\n\n<p>This works fine for me, and gives the correct answer. If you're happy with that, you can stop reading. Below is how I worked out how to fix it.</p>\n\n<hr>\n\n<p>As for why this happens, you need to run <code>f2py</code> like</p>\n\n<pre><code>f2py -m modname -h iterate.pyf iterate.f90\nf2py -c --debug --build-dir build iterate.pyf iterate.f90\n</code></pre>\n\n<p>Then we can debug the code using <code>gdb python</code>, and then</p>\n\n<pre><code>run -c \"import iterate; iterate.iterate(1.0j, lambda x: 4.0 + x*x, 4.0, 256)\"\n</code></pre>\n\n<p>(although by the sounds of it, you probably got about this far anyway). Doing this, we find it segfaults on the following line in <code>build/src.linux-x86_64.3.4/iteratemodule.c</code> (your directory might be different):</p>\n\n<pre><code>complex_double z=(*z_cb_capi);\n</code></pre>\n\n<p><code>z_cb_capi</code> being <code>0x0</code>, hence the segfault. This appears in the Cython helper function that is actually called when <code>func</code> is called in the Fortran code. The function declaration appears just before the line above, and in the version where <code>func</code> is a function rather than a subroutine, it looks like the following mess:</p>\n\n<pre><code>static \n#ifdef F2PY_CB_RETURNCOMPLEX\ncomplex_double\n#else\nvoid\n#endif\n cb_func_in_iterate__user__routines (\n#ifndef F2PY_CB_RETURNCOMPLEX\ncomplex_double *return_value\n#endif\n\n#ifndef F2PY_CB_RETURNCOMPLEX\n,\n#endif\ncomplex_double *z_cb_capi) {\n</code></pre>\n\n<p>which is essentially one of:</p>\n\n<pre><code>static void cb_func_in_iterate__user__routines (complex_double *return_value, complex_double *z_cb_capi)\nstatic complex_double cb_func_in_iterate__user__routines (complex_double *z_cb_capi)\n</code></pre>\n\n<p>depending on whether or not <code>F2PY_CB_RETURNCOMPLEX</code> is defined. It appears that <code>F2PY_CB_RETURNCOMPLEX</code> never does get defined, because gdb reports the function as having the first definition, but it is being called as if it were the second. You can see this because <code>return_value</code> is set to the address of <code>z</code> in the Fortran code, and nothing (<code>NULL</code>) is passed to <code>z_cb_capi</code>.</p>\n\n<p>So, that eventually leads us to the second way to fix this: pass <code>-DF2PY_CB_RETURNCOMPLEX</code> to <code>f2py</code>:</p>\n\n<pre><code>f2py -c -DF2PY_CB_RETURNCOMPLEX --debug --build-dir build iterate.pyf iterate.f90\n</code></pre>\n\n<p>This then compiles <code>cb_func_in_iterate__user__routines</code> in the second form, which means it does get called correctly.</p>\n\n<p>Now, I don't think you should have to do this, so I rather suspect this is a bug in <code>f2py</code>.</p>\n"}], "owner": {"reputation": 5116, "user_id": 3023116, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ce3371c6423c6f4b5fee8777b8c98c6?s=128&d=identicon&r=PG", "display_name": "taras", "link": "https://stackoverflow.com/users/3023116/taras"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 720, "favorite_count": 0, "accepted_answer_id": 36869269, "answer_count": 1, "score": 0, "last_activity_date": 1461684247, "creation_date": 1461181521, "last_edit_date": 1461233950, "question_id": 36753722, "link": "https://stackoverflow.com/questions/36753722/segfault-on-f2py-callback", "title": "segfault on f2py callback", "body": "<p>I am working on fractal generator code. The main code is written in python and iterations part is written in fortran. I use <a href=\"http://docs.scipy.org/doc/numpy-dev/f2py/python-usage.html\" rel=\"nofollow\">f2py</a> to glue the two codes together. \nHere is the fortran function I use:</p>\n\n<pre><code>function iterate(z0, func, zmax, niter) result(n)\n\n    implicit none\n\n    complex(kind=8), intent(in) :: z0\n    real(kind=8), intent(in) :: zmax\n    integer, intent(in) :: niter\n    external func\n    complex(kind=8) :: func\n\n    integer :: n\n    complex(kind=8) :: z\n\n    n = 0\n    z = z0\n    do while ((n &lt; niter) .and. (abs(z) &lt; zmax))\n        z = func(z)\n        n = n + 1\n    end do\n\nend function iterate \n</code></pre>\n\n<p>Here is the docstring for the generated wrapper code:</p>\n\n<pre><code>n = iterate(z0,func,zmax,niter,[func_extra_args])\n\nWrapper for ``iterate``.\n\nParameters\n----------\nz0 : input complex\nfunc : call-back function\nzmax : input float\nniter : input int\n\nOther Parameters\n----------------\nfunc_extra_args : input tuple, optional\n    Default: ()\n\nReturns\n-------\nn : int\n\nNotes\n-----\nCall-back functions::\n\n  def func(z): return z\n  Required arguments:\n    z : input complex\n  Return objects:\n    z : complex\n</code></pre>\n\n<p>I am getting <code>Segmentation fault</code> error when trying to \nuse <code>iterate</code> with any python callback function. \nHere is a sample result that I get:</p>\n\n<pre><code>&gt;&gt;&gt; from foo import iterate\n&gt;&gt;&gt; iterate(1.0j, lambda x: 4.0 + x**2,  4.0, 256)\nSegmentation fault\n</code></pre>\n\n<p>I have looked through all available documentation on callbacks in f2py but \nhaven't found any solution to this problem. Any help would be appreciated.</p>\n\n<p><strong><em>UPDATE</em></strong></p>\n\n<p>Here is a backtrace from gdb:</p>\n\n<pre><code>Program received signal SIGSEGV, Segmentation fault.\ncb_func_in_iterate2__user__routines (return_value=0x7fffffffdbc0, z_cb_capi=0x3ff0000000000000)\n    at /tmp/tmpT8xG1q/src.linux-x86_64-2.7/juliamodule.c:470\n470 /tmp/tmpT8xG1q/src.linux-x86_64-2.7/juliamodule.c: No such file or directory.\n(gdb) backtrace \n#0  cb_func_in_iterate2__user__routines (return_value=0x7fffffffdbc0, z_cb_capi=0x3ff0000000000000)\n    at /tmp/tmpT8xG1q/src.linux-x86_64-2.7/juliamodule.c:470\n#1  0x00007ffff6b6482b in iterate2 (z0=(1,1), func=func@entry=0x7ffff6b60c20 &lt;cb_func_in_iterate2__user__routines&gt;, zmax=4, niter=256)\n    at julia.f90:38\n#2  0x00007ffff6b64897 in f2pywrapiterate2 (iterate2f2pywrap=0, z0=(1,1), func=func@entry=0x7ffff6b60c20 &lt;cb_func_in_iterate2__user__routines&gt;, \n    zmax=4, niter=256) at /tmp/tmpT8xG1q/src.linux-x86_64-2.7/julia-f2pywrappers.f:25\n#3  0x00007ffff6b61f5e in f2py_rout_julia_iterate2 (capi_self=&lt;optimized out&gt;, capi_args=&lt;optimized out&gt;, capi_keywds=&lt;optimized out&gt;, \n    f2py_func=0x7ffff6b64880 &lt;f2pywrapiterate2&gt;) at /tmp/tmpT8xG1q/src.linux-x86_64-2.7/juliamodule.c:811\n#4  0x00000000004caaa1 in PyEval_EvalFrameEx ()\n#5  0x00000000004c87a1 in PyEval_EvalCodeEx ()\n#6  0x00000000005030ef in ?? ()\n#7  0x00000000004f8c72 in PyRun_FileExFlags ()\n#8  0x00000000004f7d77 in PyRun_SimpleFileExFlags ()\n#9  0x00000000004982f2 in Py_Main ()\n#10 0x00007ffff6f12b45 in __libc_start_main (main=0x497d80 &lt;main&gt;, argc=2, argv=0x7fffffffe2a8, init=&lt;optimized out&gt;, fini=&lt;optimized out&gt;, \n    rtld_fini=&lt;optimized out&gt;, stack_end=0x7fffffffe298) at libc-start.c:287\n#11 0x0000000000497ca0 in _start ()\n</code></pre>\n"}, {"tags": ["python", "image", "tkinter", "label"], "comments": [{"owner": {"reputation": 5116, "user_id": 3023116, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ce3371c6423c6f4b5fee8777b8c98c6?s=128&d=identicon&r=PG", "display_name": "taras", "link": "https://stackoverflow.com/users/3023116/taras"}, "edited": false, "score": 2, "creation_date": 1461182092, "post_id": 36753685, "comment_id": 61087951, "body": "This post would be helpful <a href=\"http://stackoverflow.com/questions/1347791/unicode-error-unicodeescape-codec-cant-decode-bytes-cannot-open-text-file\" title=\"unicode error unicodeescape codec cant decode bytes cannot open text file\">stackoverflow.com/questions/1347791/&hellip;</a>"}, {"owner": {"reputation": 13, "user_id": 2827846, "user_type": "registered", "profile_image": "https://graph.facebook.com/587257758/picture?type=large", "display_name": "Sabyasachi Patra", "link": "https://stackoverflow.com/users/2827846/sabyasachi-patra"}, "reply_to_user": {"reputation": 5116, "user_id": 3023116, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ce3371c6423c6f4b5fee8777b8c98c6?s=128&d=identicon&r=PG", "display_name": "taras", "link": "https://stackoverflow.com/users/3023116/taras"}, "edited": false, "score": 0, "creation_date": 1461217120, "post_id": 36753685, "comment_id": 61099900, "body": "Hey @user128285, this does solve the issue but then I get an error, &#39;No module named PIL&#39;, how do I solve that?"}, {"owner": {"reputation": 5116, "user_id": 3023116, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ce3371c6423c6f4b5fee8777b8c98c6?s=128&d=identicon&r=PG", "display_name": "taras", "link": "https://stackoverflow.com/users/3023116/taras"}, "edited": false, "score": 0, "creation_date": 1461217623, "post_id": 36753685, "comment_id": 61100107, "body": "What version of python do you have?"}, {"owner": {"reputation": 5116, "user_id": 3023116, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ce3371c6423c6f4b5fee8777b8c98c6?s=128&d=identicon&r=PG", "display_name": "taras", "link": "https://stackoverflow.com/users/3023116/taras"}, "edited": false, "score": 0, "creation_date": 1461221409, "post_id": 36753685, "comment_id": 61102017, "body": "<a href=\"http://pillow.readthedocs.org/en/3.0.x/installation.html\" rel=\"nofollow noreferrer\">pillow.readthedocs.org/en/3.0.x/installation.html</a>"}], "answers": [{"comments": [{"owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 0, "creation_date": 1461186572, "post_id": 36753862, "comment_id": 61090666, "body": "forward slashes is also an option. <code>path=C:&#47;Users&#47;...</code>"}, {"owner": {"reputation": 13, "user_id": 2827846, "user_type": "registered", "profile_image": "https://graph.facebook.com/587257758/picture?type=large", "display_name": "Sabyasachi Patra", "link": "https://stackoverflow.com/users/2827846/sabyasachi-patra"}, "reply_to_user": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 0, "creation_date": 1461217148, "post_id": 36753862, "comment_id": 61099907, "body": "Hey @Bryan, this does solve the issue but then I get an error, &#39;No module named PIL&#39;, how do I solve that"}, {"owner": {"reputation": 2759, "user_id": 2809008, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff24f265a3c1712e989e0654a8c16f2a?s=128&d=identicon&r=PG", "display_name": "ljetibo", "link": "https://stackoverflow.com/users/2809008/ljetibo"}, "reply_to_user": {"reputation": 13, "user_id": 2827846, "user_type": "registered", "profile_image": "https://graph.facebook.com/587257758/picture?type=large", "display_name": "Sabyasachi Patra", "link": "https://stackoverflow.com/users/2827846/sabyasachi-patra"}, "edited": false, "score": 0, "creation_date": 1461237827, "post_id": 36753862, "comment_id": 61113659, "body": "@SabyasachiPatra; you have to install it. Google can help you there, because it depends if you&#39;re in venv (the une pip) or just basic install as described here: <a href=\"http://wp.stolaf.edu/it/installing-pil-pillow-cimage-on-windows-and-mac/\" rel=\"nofollow noreferrer\">wp.stolaf.edu/it/&hellip;</a>."}], "tags": [], "owner": {"reputation": 2759, "user_id": 2809008, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff24f265a3c1712e989e0654a8c16f2a?s=128&d=identicon&r=PG", "display_name": "ljetibo", "link": "https://stackoverflow.com/users/2809008/ljetibo"}, "is_accepted": false, "score": 0, "last_activity_date": 1461181986, "creation_date": 1461181986, "answer_id": 36753862, "question_id": 36753685, "link": "https://stackoverflow.com/questions/36753685/image-python-tkinter/36753862#36753862", "title": "Image Python tkinter", "body": "<p>Depends on how exactly you defined your path (or is that just bad formatting?). You have to escape the backslashes and spaces: <code>path='C:\\\\Users\\\\Sabyasachi\\\\Pictures\\\\Formal\\ Reception.jpg'</code></p>\n\n<p>Or use a raw string <code>path=r'C:\\Users\\Sabyasachi\\Pictures\\Formal Reception.jpg'</code></p>\n"}], "owner": {"reputation": 13, "user_id": 2827846, "user_type": "registered", "profile_image": "https://graph.facebook.com/587257758/picture?type=large", "display_name": "Sabyasachi Patra", "link": "https://stackoverflow.com/users/2827846/sabyasachi-patra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 183, "favorite_count": 0, "closed_date": 1461272862, "answer_count": 1, "score": 0, "last_activity_date": 1461182183, "creation_date": 1461181422, "last_edit_date": 1461182183, "question_id": 36753685, "link": "https://stackoverflow.com/questions/36753685/image-python-tkinter", "closed_reason": "Duplicate", "title": "Image Python tkinter", "body": "<p>The below code on running, gives the following error, Please help me resolve it</p>\n\n<h2>Code:</h2>\n\n<pre><code>import Tkinter as tk\nfrom PIL import ImageTk, Image\n\npath='C:\\Users\\Sabyasachi\\Pictures\\Formal Reception.jpg'\n\n\n\n  root = tk.Tk()\n   img = ImageTk.PhotoImage(Image.open(path))\n    panel = tk.Label(root, image = img)\n        panel.pack(side = \"bottom\", fill = \"both\", expand = \"yes\")\n        root.mainloop()\n</code></pre>\n\n<p>ERROR:'unicodeescape' codex cant decode bytes in position</p>\n"}, {"tags": ["python", "mysql", "web-scraping", "beautifulsoup", "warnings"], "answers": [{"comments": [{"owner": {"reputation": 573, "user_id": 5369777, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/MEZym.jpg?s=128&g=1", "display_name": "Derek_P", "link": "https://stackoverflow.com/users/5369777/derek-p"}, "edited": false, "score": 0, "creation_date": 1461183115, "post_id": 36753713, "comment_id": 61088640, "body": "So this is the new error     line 33, in &lt;module&gt; area = cells[0].get_text() IndexError: list index out of range"}, {"owner": {"reputation": 7294, "user_id": 4183498, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/USkeW.jpg?s=128&g=1", "display_name": "Du\u0161an Ma\u010far", "link": "https://stackoverflow.com/users/4183498/du%c5%a1an-ma%c4%8far"}, "reply_to_user": {"reputation": 573, "user_id": 5369777, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/MEZym.jpg?s=128&g=1", "display_name": "Derek_P", "link": "https://stackoverflow.com/users/5369777/derek-p"}, "edited": false, "score": 0, "creation_date": 1461183316, "post_id": 36753713, "comment_id": 61088789, "body": "@citramaillo updated, forgot to remove those <code>get_text()</code> calls"}, {"owner": {"reputation": 573, "user_id": 5369777, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/MEZym.jpg?s=128&g=1", "display_name": "Derek_P", "link": "https://stackoverflow.com/users/5369777/derek-p"}, "edited": false, "score": 0, "creation_date": 1461184075, "post_id": 36753713, "comment_id": 61089286, "body": "still getting a throw -  Traceback (most recent call last):   File &quot;rigcount2.py&quot;, line 34, in &lt;module&gt;     area = cells[0] IndexError: list index out of range"}, {"owner": {"reputation": 7294, "user_id": 4183498, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/USkeW.jpg?s=128&g=1", "display_name": "Du\u0161an Ma\u010far", "link": "https://stackoverflow.com/users/4183498/du%c5%a1an-ma%c4%8far"}, "reply_to_user": {"reputation": 573, "user_id": 5369777, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/MEZym.jpg?s=128&g=1", "display_name": "Derek_P", "link": "https://stackoverflow.com/users/5369777/derek-p"}, "edited": false, "score": 0, "creation_date": 1461185018, "post_id": 36753713, "comment_id": 61089863, "body": "@citramaillo updated, now I actually tested it, it works for me now (the problem was that <code>cells</code> was an empty list because of <code>isinstance(cell, (str, unicode))</code> test)"}, {"owner": {"reputation": 573, "user_id": 5369777, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/MEZym.jpg?s=128&g=1", "display_name": "Derek_P", "link": "https://stackoverflow.com/users/5369777/derek-p"}, "edited": false, "score": 1, "creation_date": 1461185312, "post_id": 36753713, "comment_id": 61090033, "body": "works perfectly, so regular expression used to eliminate the extra whitespace - thank you!"}], "tags": [], "owner": {"reputation": 7294, "user_id": 4183498, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/USkeW.jpg?s=128&g=1", "display_name": "Du\u0161an Ma\u010far", "link": "https://stackoverflow.com/users/4183498/du%c5%a1an-ma%c4%8far"}, "is_accepted": true, "score": 0, "last_activity_date": 1461185344, "last_edit_date": 1461185344, "creation_date": 1461181505, "answer_id": 36753713, "question_id": 36753497, "link": "https://stackoverflow.com/questions/36753497/warning-thrown-while-trying-to-import-scraped-values-into-mysql-table-using-py/36753713#36753713", "title": "Warning thrown while trying to import scraped values into MySQL table - using Python and BS4", "body": "<blockquote>\n  <p>... one of the dates that has a massive amount of \" \" after it.</p>\n</blockquote>\n\n<p>You can replace multiple whispaces with just one with a regular expression.</p>\n\n<pre><code>import scraperwiki\nimport requests\nfrom bs4 import BeautifulSoup\nimport csv\nimport MySQLdb\nimport re\n\n#mysql portion\nmydb = MySQLdb.connect(host='localhost',\n       user= '******',\n       passwd='******',\n       db='testdb')\ncur = mydb.cursor()\n\n\ndef store (area, last_count, count, change_from_prior_count, date_of_prior_count, change_from_last_year, date_of_last_year_count):\n    cur.execute('INSERT IGNORE INTO RIGCOUNT (area, last_count, count, change_from_prior_count, date_of_prior_count, change_from_last_year, date_of_last_year_count) VALUES (\\\"%s\\\",$\n    cur.connection.commit()\n\n\nbase_url = 'http://phx.corporate-ir.net/phoenix.zhtml?c=79687&amp;p=irol-rigcountsoverview'\nhtml = requests.get(base_url)\nsoup = BeautifulSoup(html.content, \"html.parser\")\n\ntable = soup.findAll('table')\nrows = table[1].findAll(\"tr\")\nif len(soup.findAll('tr')) &gt; 0:\n    rows = rows[1:]\n\nwhite_space_pattern = re.compile(r\"\\s+\")\n\nfor row in rows:\n    cells = row.findAll('td')\n    cells = [white_space_pattern.sub(' ', cell.get_text()) for cell in cells]\n\n    area = cells[0]\n    last_count =  cells[1]\n    count = cells[2]\n    change_from_prior_count = cells[3]\n    date_of_prior_count = cells[4]\n    change_from_last_year = cells[5]\n    date_of_last_year_count = cells[6]\n\n    store(area, last_count, count, change_from_prior_count, date_of_prior_count, change_from_last_year, date_of_last_year_count)\n    data = {\n       'area': area,\n       'last_count': last_count,\n       'count': count,\n       'change_from_prior_count': change_from_prior_count,\n       'date_of_prior_count': date_of_prior_count,\n       'change_from_last_year': change_from_last_year,\n       'date_of_last_year_count': date_of_last_year_count,\n    }\n\n    print data\n    print '\\n'\nmydb.close()\n</code></pre>\n"}], "owner": {"reputation": 573, "user_id": 5369777, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/MEZym.jpg?s=128&g=1", "display_name": "Derek_P", "link": "https://stackoverflow.com/users/5369777/derek-p"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 30, "favorite_count": 0, "accepted_answer_id": 36753713, "answer_count": 1, "score": 0, "last_activity_date": 1461185344, "creation_date": 1461180903, "last_edit_date": 1461182753, "question_id": 36753497, "link": "https://stackoverflow.com/questions/36753497/warning-thrown-while-trying-to-import-scraped-values-into-mysql-table-using-py", "title": "Warning thrown while trying to import scraped values into MySQL table - using Python and BS4", "body": "<p>I'm getting a truncated data warning when I try to import the assigned values into the designated MySQL table.</p>\n\n<p>The values are stored in the SQL table, minus \"U.S.\" and one of the dates that has a massive amount of \"  \" after it.</p>\n\n<p>What can I do to convert the values to make the truncated values more agreeable?</p>\n\n<pre><code> : Warning: Data truncated for column 'last_count' at row 1\ncur.execute('INSERT IGNORE INTO RIGCOUNT (area, last_count, count, change_from_prior_count, date_of_prior_count, change_from_last_year, date_of_last_year_count) VALUES (\\\"%s\\\", \\\"%s\\\", \\\"%s\\\", \\\"%s\\\", \\\"%s\\\", \\\"%s\\\", \\\"%s\\\")',(area, last_count, count, change_from_prior_count, date_of_prior_count, change_from_last_year, date_of_last_year_count))\n{'count': u'440', 'area': u'U.S.', 'change_from_prior_count': u'-3', 'last_count': u'15 April\\r\\n                  2016', 'change_from_last_year': u'-514', 'date_of_last_year_count': u'17 April 2015', 'date_of_prior_count': u'8 April 2016'}\n\nimport scraperwiki\nimport requests\nfrom bs4 import BeautifulSoup\nimport csv\nimport MySQLdb\n\n#mysql portion\nmydb = MySQLdb.connect(host='localhost',\n       user= '********',\n       passwd='*******',\n       db='testdb')\n cur = mydb.cursor()\n\ndef store (area, last_count, count, change_from_prior_count, date_of_prior_count, change_from_last_year, date_of_last_year_count):\n    cur.execute('INSERT IGNORE INTO RIGCOUNT (area, last_count, count, change_from_prior_count, date_of_prior_count, change_from_last_year, date_of_last_year_count) VALUES (\\\"%s\\\",$\n    cur.connection.commit()\n\n\nbase_url = 'http://phx.corporate-ir.net/phoenix.zhtml?c=79687&amp;p=irol-rigcountsoverview'\nhtml = requests.get(base_url)\nsoup = BeautifulSoup(html.content, \"html.parser\")\n\ntable = soup.findAll('table')\nrows = table[1].findAll(\"tr\")\nif len(soup.findAll('tr')) &gt; 0:\n    rows = rows[1:]\nfor row in rows:\n    cells = row.findAll('td')\n    area = cells[0].get_text()\n    last_count =  cells[1].get_text()\n    count = cells[2].get_text()\n    change_from_prior_count = cells[3].get_text()\n    date_of_prior_count = cells[4].get_text()\n    change_from_last_year = cells[5].get_text()\n    date_of_last_year_count = cells[6].get_text()\n    store(area, last_count, count, change_from_prior_count, date_of_prior_count, change_from_last_year, date_of_last_year_count)\n    data = {\n       'area': cells[0].get_text(),\n       'last_count': cells[1].get_text(),\n       'count': cells[2].get_text(),\n       'change_from_prior_count': cells[3].get_text(),\n       'date_of_prior_count': cells[4].get_text(),\n       'change_from_last_year': cells[5].get_text(),\n       'date_of_last_year_count': cells[6].get_text(),\n    }\n\n    print data\n    print '\\n'\nmydb.close()\n</code></pre>\n"}, {"tags": ["python", "mysql", "pyqt", "qtreewidget"], "comments": [{"owner": {"reputation": 4451, "user_id": 1886357, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/tAaWO.png?s=128&g=1", "display_name": "eric", "link": "https://stackoverflow.com/users/1886357/eric"}, "edited": false, "score": 0, "creation_date": 1461181998, "post_id": 36753414, "comment_id": 61087877, "body": "Have you read Summerfield&#39;s book on pyqt programming? This question is just too general for this site: you are basically asking how to make a fully functional GUI application in PyQt. I recommend you read Summerfield&#39;s book on PyQt, and also study how to ask questions here because this is like your seventh in which you have not followed advice on how to ask questions here: <a href=\"http://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a>"}, {"owner": {"reputation": 9, "user_id": 6180930, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d1d91bd0ae8b61d31a34a09daf3c7d08?s=128&d=identicon&r=PG&f=1", "display_name": "DDVlad", "link": "https://stackoverflow.com/users/6180930/ddvlad"}, "reply_to_user": {"reputation": 4451, "user_id": 1886357, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/tAaWO.png?s=128&g=1", "display_name": "eric", "link": "https://stackoverflow.com/users/1886357/eric"}, "edited": false, "score": 0, "creation_date": 1461182661, "post_id": 36753414, "comment_id": 61088346, "body": "I am not asking how to make a fully functional application, I asked for basic ideas or documentations, not full thought out plans or code of how to make it. I gave explicit detail of what I wanted my program to do. Reading the book won&#39;t help me because I have severe time constraints. I have asked this question as best I could, and received a solid response from @lps with a link to a tutorial that matches the explanation I have given."}, {"owner": {"reputation": 4451, "user_id": 1886357, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/tAaWO.png?s=128&g=1", "display_name": "eric", "link": "https://stackoverflow.com/users/1886357/eric"}, "edited": false, "score": 0, "creation_date": 1461198344, "post_id": 36753414, "comment_id": 61094744, "body": "So in your question you said you couldn&#39;t find anything anywhere, but it sounds like you couldn&#39;t find anything that would give you an answer very quickly under severe time constraints (because there are actually a few books out there). You can work through Summerfield&#39;s book relatively fast to get what you need. Or one of the other PySide books, which is pretty much the same as PyQt. You have to learn to walk before you can run. Good luck trying to run first. :)"}, {"owner": {"reputation": 9, "user_id": 6180930, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d1d91bd0ae8b61d31a34a09daf3c7d08?s=128&d=identicon&r=PG&f=1", "display_name": "DDVlad", "link": "https://stackoverflow.com/users/6180930/ddvlad"}, "reply_to_user": {"reputation": 4451, "user_id": 1886357, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/tAaWO.png?s=128&g=1", "display_name": "eric", "link": "https://stackoverflow.com/users/1886357/eric"}, "edited": false, "score": 0, "creation_date": 1461224446, "post_id": 36753414, "comment_id": 61104073, "body": "I&#39;m not going to read any of those books since I already have simple documentation and tutorials offered to me by someone who has tried to actually help me out, instead of give me a GENERIC answer. You&#39;ve been of absolute no help in every question I&#39;ve posted, and just repeated the same post regarding my questions that they cannot be answered, despite the fact that people have been able to answer and help. I&#39;ve got an answer, and I said it was what I needed, therefore your input on this question is useless for me."}, {"owner": {"reputation": 4451, "user_id": 1886357, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/tAaWO.png?s=128&g=1", "display_name": "eric", "link": "https://stackoverflow.com/users/1886357/eric"}, "edited": false, "score": 0, "creation_date": 1461328068, "post_id": 36753414, "comment_id": 61161996, "body": "The book I recommended was not a generic book. It was a very specific book that would answer your very generic questions. Good luck."}], "answers": [{"comments": [{"owner": {"reputation": 9, "user_id": 6180930, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d1d91bd0ae8b61d31a34a09daf3c7d08?s=128&d=identicon&r=PG&f=1", "display_name": "DDVlad", "link": "https://stackoverflow.com/users/6180930/ddvlad"}, "edited": false, "score": 0, "creation_date": 1461181832, "post_id": 36753647, "comment_id": 61087777, "body": "Thank you, this seems to be exactly what I need."}], "tags": [], "owner": {"reputation": 114, "user_id": 2886653, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EDrnc.jpg?s=128&g=1", "display_name": "lps", "link": "https://stackoverflow.com/users/2886653/lps"}, "is_accepted": false, "score": -1, "last_activity_date": 1461181316, "creation_date": 1461181316, "answer_id": 36753647, "question_id": 36753414, "link": "https://stackoverflow.com/questions/36753414/pyqt-qtreewidgetitem-individual-windows-with-individual-data/36753647#36753647", "title": "PyQt QTreeWidgetItem Individual windows with individual data.", "body": "<p>Why don't you start with studying how the standard MVC is implemented in Qt? </p>\n\n<p>The following resources should be a good start for you:</p>\n\n<p><a href=\"http://www.rkblog.rk.edu.pl/w/p/introduction-pyqt4/\" rel=\"nofollow\">this intro site</a></p>\n\n<p><a href=\"https://www.youtube.com/watch?v=2sRoLN337cs&amp;list=PL8B63F2091D787896\" rel=\"nofollow\">or this video series</a></p>\n"}], "owner": {"reputation": 9, "user_id": 6180930, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d1d91bd0ae8b61d31a34a09daf3c7d08?s=128&d=identicon&r=PG&f=1", "display_name": "DDVlad", "link": "https://stackoverflow.com/users/6180930/ddvlad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 112, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1461181316, "creation_date": 1461180636, "question_id": 36753414, "link": "https://stackoverflow.com/questions/36753414/pyqt-qtreewidgetitem-individual-windows-with-individual-data", "title": "PyQt QTreeWidgetItem Individual windows with individual data.", "body": "<p>I have a QTreeWidget that contains rows of data for multiple students. When double clicking on a row, a window opens, with a number of drop down menus and text edits that a user can input into. Currently, the user can open the file menu in the top left corner of that window and save the file manually in a folder from there and also open it, but this is inefficient for my program, and I want to make it so that each individual student in the QTreeWidget will have their own individual window open up, that, when a save button is pressed in the window, the data within the window will save within a database of some sort, and when that student's window is opened again, the information inputted specifically in the window and saved earlier for that student will load up automatically. </p>\n\n<p>The QTreeWidget looks something like this (ignore the issue with the scroll bar in the corner. Names have been censored for data protection):</p>\n\n<p><a href=\"http://i.stack.imgur.com/uwgSj.png\" rel=\"nofollow\">QTreeWidget</a></p>\n\n<p>And the window containing user inputted data looks like so:</p>\n\n<p><a href=\"http://i.stack.imgur.com/XFjvj.png\" rel=\"nofollow\">Popup Window</a></p>\n\n<p>If there are any documentations or tutorials that could help me with this issue, I'd love to know, because I can't seem to find anything related to this anywhere. Even any basic ideas on how I could go about introducing this function into my program would be of great help. I am using Python 3.4 and MySql.</p>\n"}, {"tags": ["python", "boto", "amazon-cloudformation"], "comments": [{"owner": {"reputation": 84953, "user_id": 1405065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5c422b239ab1f49d3f4fcff9e5df3cf?s=128&d=identicon&r=PG", "display_name": "Blckknght", "link": "https://stackoverflow.com/users/1405065/blckknght"}, "edited": false, "score": 1, "creation_date": 1461181001, "post_id": 36753389, "comment_id": 61087260, "body": "The exception you show doesn&#39;t come from any of the code you&#39;ve shown, but soemewhere that you&#39;re calling <code>conn.delete_stack</code> with an argument that&#39;s missing quotation marks."}, {"owner": {"reputation": 8010, "user_id": 2623899, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/83ad78df36161a34b886c5b230098416?s=128&d=identicon&r=PG", "display_name": "dbliss", "link": "https://stackoverflow.com/users/2623899/dbliss"}, "edited": false, "score": 0, "creation_date": 1461181313, "post_id": 36753389, "comment_id": 61087444, "body": "post the code that raises the error."}, {"owner": {"reputation": 23980, "user_id": 1735756, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/SloZJ.jpg?s=128&g=1", "display_name": "Haifeng Zhang", "link": "https://stackoverflow.com/users/1735756/haifeng-zhang"}, "edited": false, "score": 0, "creation_date": 1461187451, "post_id": 36753389, "comment_id": 61091137, "body": "what is in your <code>stackSumm</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 8010, "user_id": 2623899, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/83ad78df36161a34b886c5b230098416?s=128&d=identicon&r=PG", "display_name": "dbliss", "link": "https://stackoverflow.com/users/2623899/dbliss"}, "edited": false, "score": 0, "creation_date": 1461181284, "post_id": 36753519, "comment_id": 61087425, "body": "this is a premature answer. let him post the actual code that raised the error."}, {"owner": {"reputation": 23980, "user_id": 1735756, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/SloZJ.jpg?s=128&g=1", "display_name": "Haifeng Zhang", "link": "https://stackoverflow.com/users/1735756/haifeng-zhang"}, "reply_to_user": {"reputation": 8010, "user_id": 2623899, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/83ad78df36161a34b886c5b230098416?s=128&d=identicon&r=PG", "display_name": "dbliss", "link": "https://stackoverflow.com/users/2623899/dbliss"}, "edited": false, "score": 0, "creation_date": 1461181424, "post_id": 36753519, "comment_id": 61087525, "body": "@dbliss  you can see the error OP posted. Doesn&#39;t it mean anything to you?"}], "tags": [], "owner": {"reputation": 23980, "user_id": 1735756, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/SloZJ.jpg?s=128&g=1", "display_name": "Haifeng Zhang", "link": "https://stackoverflow.com/users/1735756/haifeng-zhang"}, "is_accepted": true, "score": 0, "last_activity_date": 1461181802, "last_edit_date": 1461181802, "creation_date": 1461180974, "answer_id": 36753519, "question_id": 36753389, "link": "https://stackoverflow.com/questions/36753389/append-special-character-to-a-value-in-python/36753519#36753519", "title": "Append special character to a value in python", "body": "<p>None of you posted code generated the error, but the NameError says that you didn't provide a valid stack name</p>\n\n<blockquote>\n  <p>delete_stack(stack_name_or_id)\n  Deletes a specified stack. Once the call completes successfully, stack deletion starts. Deleted stacks do not show up in the DescribeStacks API if the deletion has been completed successfully.</p>\n  \n  <p>Parameters:    stack_name_or_id (string) \u2013 The name or the unique identifier associated with the stack.</p>\n</blockquote>\n\n<p>The name/id should be a string, a string in python must be quoted, either by single quotes or double quotes</p>\n\n<pre><code>stack_name = \"Testupload-envmeraleb8b01739116b0f36d17a2b5445b949f592bb625-6293\"\nconn.delete_stack(stack_name)\n</code></pre>\n"}], "owner": {"reputation": 565, "user_id": 6136315, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/f35bac46d2ab75d0efff44aefb0d066d?s=128&d=identicon&r=PG&f=1", "display_name": "user6136315", "link": "https://stackoverflow.com/users/6136315/user6136315"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 98, "favorite_count": 0, "accepted_answer_id": 36753519, "answer_count": 1, "score": 0, "last_activity_date": 1461181802, "creation_date": 1461180561, "last_edit_date": 1461181644, "question_id": 36753389, "link": "https://stackoverflow.com/questions/36753389/append-special-character-to-a-value-in-python", "title": "Append special character to a value in python", "body": "<p>I'm trying to delete all stacks those environments(instances) were terminated. while passing the stack_name to the delete_stack it's throwing an error. I've tried to add the special characters (such as '') to the value of stack_name,but there was no luck. Can someone please help me to fix the issue. Thanks in advance!</p>\n\n<pre><code>#!/usr/bin/env python\n\nimport boto\nimport boto.ec2\nimport boto.cloudformation\nimport re\nfrom datetime import datetime, timedelta\n\nutclast = datetime.utcnow() - timedelta(2)\n\nconn = boto.cloudformation.connect_to_region('us-west-1',aws_access_key_id = '&lt;access_key&gt;',aws_secret_access_key = '&lt;secret_key&gt;')\nconn_ec2 = boto.ec2.connect_to_region('us-west-1',aws_access_key_id = '&lt;access_key&gt;',aws_secret_access_key = '&lt;secret_key&gt;')\n\nstacks = conn.list_stacks()\nfor stackSumm in stacks:\n    pattern = re.compile(\"Testupload-env([a-zA-Z0-9]+)\")\n    match = pattern.match(stackSumm.stack_name)\n    if stackSumm.stack_status in \"CREATE_COMPLETE\" and match and stackSumm.stack_name in match.string:\n        m = re.split(r'Testupload-', stackSumm.stack_name)\n        instance = conn_ec2.get_all_instances(filters={\"tag:Name\": m[1]})\n        if not instance:\n\n            try:\n                    print \"Trying to delete stack: %s\" % stackSumm.stack_name\n                    conn.delete_stack(stackSumm.stack_name)\n\n            except boto.exception.BotoServerError, e:\n                    print e.error_message\n</code></pre>\n\n<p>Error:</p>\n\n<pre><code>File \"delete_stack.py\", line 7, in &lt;module&gt;\n    conn.delete_stack(Testupload-envmeraleb8b01739116b0f36d17a2b5445b949f592bb625-6293)\nNameError: name 'Testupload' is not defined\n</code></pre>\n"}, {"tags": ["python", "django", "database", "django-models", "django-users"], "comments": [{"owner": {"reputation": 2095, "user_id": 2773461, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/PJykN.jpg?s=128&g=1", "display_name": "bgarcial", "link": "https://stackoverflow.com/users/2773461/bgarcial"}, "reply_to_user": {"reputation": 3467, "user_id": 2958455, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/4bf81a9aa9aa3619f1197c901f079268?s=128&d=identicon&r=PG", "display_name": "Jared Mackey", "link": "https://stackoverflow.com/users/2958455/jared-mackey"}, "edited": false, "score": 0, "creation_date": 1461182586, "post_id": 36753169, "comment_id": 61088300, "body": "@electrometro It&#39;s real, you have the reason. I had the <code>date_joined</code> attribute in some initial migration as a not null. I&#39;ve delete this migration and execute them again and all works.  <a href=\"https://cldup.com/-70ZrvQnQq.jpeg\" rel=\"nofollow noreferrer\">cldup.com/-70ZrvQnQq.jpeg</a> Thanks a lot for the orientation :D"}], "answers": [{"comments": [{"owner": {"reputation": 2095, "user_id": 2773461, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/PJykN.jpg?s=128&g=1", "display_name": "bgarcial", "link": "https://stackoverflow.com/users/2773461/bgarcial"}, "edited": false, "score": 0, "creation_date": 1461184139, "post_id": 36753538, "comment_id": 61089336, "body": "I am learning that when I want customize the django user model, is important know about of how to works their default user schema. I hope make some decumentation about it and compose step by step along that I go learning .."}], "tags": [], "owner": {"reputation": 3467, "user_id": 2958455, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/4bf81a9aa9aa3619f1197c901f079268?s=128&d=identicon&r=PG", "display_name": "Jared Mackey", "link": "https://stackoverflow.com/users/2958455/jared-mackey"}, "is_accepted": true, "score": 1, "last_activity_date": 1461183309, "last_edit_date": 1461183309, "creation_date": 1461181021, "answer_id": 36753538, "question_id": 36753169, "link": "https://stackoverflow.com/questions/36753169/customizing-the-django-user-model-username-as-a-primary-key-attribute/36753538#36753538", "title": "Customizing the Django User model - username as a Primary Key attribute", "body": "<p>I am assuming you don't have data for date_joined on any of the instances and one of the migrations requires it to not be be null. You can probably either go into the database and add it manual to get around it temporarily. </p>\n"}], "owner": {"reputation": 2095, "user_id": 2773461, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/PJykN.jpg?s=128&g=1", "display_name": "bgarcial", "link": "https://stackoverflow.com/users/2773461/bgarcial"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1701, "favorite_count": 1, "accepted_answer_id": 36753538, "answer_count": 1, "score": 2, "last_activity_date": 1461183309, "creation_date": 1461179857, "last_edit_date": 1495541828, "question_id": 36753169, "link": "https://stackoverflow.com/questions/36753169/customizing-the-django-user-model-username-as-a-primary-key-attribute", "title": "Customizing the Django User model - username as a Primary Key attribute", "body": "<p>How to can I create my own user model in Django, in which I want that my P.K  be the username field and not the id field autogenerated by Django?</p>\n\n<p>I am trying the following:</p>\n\n<p>I've create the userprofiles application in where I will create my customize django user model</p>\n\n<pre><code>INSTALLED_APPS = [\n       ...\n    'userprofiles.apps.UserprofilesConfig',\n       ...\n]\n\nAUTH_USER_MODEL = 'userprofiles.User'\n</code></pre>\n\n<p>In my <code>userprofiles/models.py</code> file I have defined the following:</p>\n\n<pre><code>from __future__ import unicode_literals\nfrom django.db import models\nfrom django.contrib.auth.models import AbstractBaseUser, UserManager, PermissionsMixin\n\n# Create your models here.\nclass User(AbstractBaseUser, PermissionsMixin):\n\nGENDER_MALE = 'M'\nGENDER_FEMALE = 'F'\nGENDER_OTHER = 'O'\nGENDER_CHOICES = (\n    (GENDER_MALE, u'Male'),\n    (GENDER_FEMALE, u'Female'),\n)\n\nusername = models.CharField(max_length=15, unique=True, db_index=True, primary_key=True)\n\nfirst_name=models.CharField(max_length=50, blank=False,)\nlast_name=models.CharField(max_length=50, blank=False,)\nphoto = models.ImageField(upload_to='avatars', blank=True)\nemail = models.EmailField(max_length=254, unique=True)\nis_staff = models.BooleanField(\n    default=True,\n    help_text='Designates whether the user can log into this admin site.')\nis_active = models.BooleanField(default=True)\n#date_joined = models.DateTimeField(default=None)\n#date_joined = models.DateTimeField()\n\ngender = models.CharField(\n    max_length=1,\n    choices=GENDER_CHOICES,\n    blank=False, )\n\nis_player = models.BooleanField(default=False)\nis_coach = models.BooleanField(default=False)\nis_viewer = models.BooleanField(default=False)\n\nUSERNAME_FIELD = 'username'\nREQUIRED_FIELDS = ['email',]\nobjects = UserManager()\n\nclass Meta:\n    db_table = 'auth_user'\n\ndef get_full_name(self):\n    \"\"\"\n    Returns the first_name plus the last_name, with a space in between.\n    \"\"\"\n    full_name = '%s %s' % (self.first_name, self.last_name)\n    return full_name.strip()\n\ndef get_short_name(self):\n    \"Returns the short name for the user.\"\n    return self.first_name\n</code></pre>\n\n<p>I am using the <a href=\"https://docs.djangoproject.com/en/dev/topics/auth/customizing/#specifying-a-custom-user-model\" rel=\"nofollow noreferrer\"><code>AbstractBaseUser</code> class</a> due to:</p>\n\n<blockquote>\n  <p>AbstractBaseUser provides the core implementation of a User model,\n  including hashed passwords and tokenized password resets. You must\n  then provide some key implementation details: ...</p>\n</blockquote>\n\n<p>and also <a href=\"https://stackoverflow.com/questions/21514354/difference-between-abstractuser-and-abstractbaseuser-in-django\">I considered this explanation</a> in which say that is necessary add manually the fields that I needed.</p>\n\n<p>Then, when I perform the migrations the fields that I've defined in my <code>User</code> model (that inherit from <code>AbstractBaseUser</code>) are created in my database:</p>\n\n<pre><code>(fuupbol) \u279c  fuupbol_project git:(master) \u2717 python manage.py makemigrations\n    Migrations for 'userprofiles':\n    0013_auto_20160418_2252.py:\n    - Add field groups to user\n    - Add field user_permissions to user\n    - Alter field is_superuser on user\n    (fuupbol) \u279c  fuupbol_project git:(master) \u2717 python manage.py migrate\n    Operations to perform:\n    Apply all migrations: sessions, userprofiles, admin, contenttypes, auth\n    Running migrations:\n    Rendering model states... DONE\n     Applying userprofiles.0013_auto_20160418_2252... OK\n    (fuupbol) \u279c  fuupbol_project git:(master) \u2717\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/rkwvs.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rkwvs.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>Then I've created a superuser via command line interface of this way:</p>\n\n<pre><code>(fuupbol) \u279c  fuupbol_project git:(master) \u2717 python manage.py createsuperuser\nUsername: cdiaz   \nEmail: cdiaz@fuupbol.org\nPassword: \nPassword (again): \nSuperuser created successfully.\n(fuupbol) \u279c  fuupbol_project git:(master) \u2717 \n</code></pre>\n\n<ul>\n<li>In addition, I add these fields of my custom User model for that Django Admin can view them, of this way:</li>\n</ul>\n\n<p>Like Django use special forms to create and edit forms in the admin relative to Users model, due to these was thinked only for the django original user model.</p>\n\n<p>Here  we are using a custom django user model with <code>AbstractBaseUser</code>, then we use the following class:</p>\n\n<ul>\n<li><code>UserChangeForm</code> which is applied to the User model, so this way is applied to the admin user form, and the <code>UserCreationForm</code> for that an user be created with from my user form customized with the previous modifications</li>\n</ul>\n\n<p>In my <code>userprofiles/forms.py</code> file</p>\n\n<pre><code>from django import forms\nfrom django.contrib.auth.forms import (UserChangeForm,UserCreationForm)\n\nfrom .models import User\n\nclass CustomUserChangeForm(UserChangeForm):\n    class Meta(UserChangeForm.Meta):\n        model = User\n\nclass CustomUserCreationForm(UserCreationForm):\n    class Meta(UserCreationForm.Meta):\n        model = User\n</code></pre>\n\n<p>In my <code>userprofiles/admin.py</code> file create an CustomUserAdmin class customized with the fields defined before in my custom User model</p>\n\n<pre><code>from django.contrib import admin                                                                                                                                                       \nfrom django.contrib.auth.admin import UserAdmin                                                                                                                                        \n\nfrom .models import User                                                                                                                                                               \nfrom .forms import CustomUserChangeForm, CustomUserCreationForm                                                                                                                        \n\n# Register your models here.                                                                                                                                                           \n\nclass CustomUserAdmin(UserAdmin):                                                                                                                                                      \n    form = CustomUserChangeForm                                                                                                                                                        \n    add_form = CustomUserCreationForm                                                                                                                                                  \n    fieldsets = UserAdmin.fieldsets + (                                                                                                                                                \n        (                                                                                                                                                                              \n            None, {                                                                                                                                                                    \n                'fields':(                                                                                                                                                             \n                    'username',                                                   \n                    'password',                                                                                                                                                        \n                    'first_name',                                                                                                                                                      \n                    'last_name',                                                                                                                                                       \n                    'gender',                                                                                                                                                          \n                    'email',                                                                                                                                                           \n                    'photo',                                                                                                                                                           \n                    'is_staff',                                                                                                                                                        \n                    'is_active',                                                                                                                                                       \n                    'is_superuser',                                                                                                                                                    \n                    'is_player',                                                                                                                                                       \n                    'is_coach',                                                                                                                                                        \n                    'is_viewer',                                                                                                                                                       \n                    'last_login',                                                                                                                                                                                                                                                                                                                           \n                )                                                                                                                                                                      \n            }                                                                                                                                                                          \n        ),                                                                                                                                                                             \n    )                                                                                                                                                                                  \n\n\n#Change our UserAdmin class to inherit of our CustomUserAdmin created above (do not inherit of model.ModelAdmin)                                                                       \n@admin.register(User)                                                                                                                                                                  \nclass UserAdmin(CustomUserAdmin):                                                                                                                                                                                            \n    list_display = ('username','password','first_name','last_name','gender','email','photo','is_staff','is_active','is_superuser','is_player','is_coach','is_viewer','last_login',)  \n</code></pre>\n\n<p>Then when I go to the Django admin and I see the options to edit some user already created, I get this message:</p>\n\n<p><a href=\"https://i.stack.imgur.com/Ge7o6.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ge7o6.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>In this moment I do not have the <code>date_joined</code> attribute in my User model, and if I add the <code>date_joined</code> attribute to my User model, and perform the migrations, I get this messages:</p>\n\n<pre><code>(fuupbol) \u279c  fuupbol_project git:(master) \u2717 python manage.py makemigrations userprofiles\nMigrations for 'userprofiles':\n  0022_user_date_joined.py:\n    - Add field date_joined to user\n(fuupbol) \u279c  fuupbol_project git:(master) \u2717 \n</code></pre>\n\n<p>And when I execute the <code>migrate</code> command</p>\n\n<pre><code>(fuupbol) \u279c  fuupbol_project git:(master) \u2717 python manage.py migrate userprofiles       \n    Operations to perform:\n      Apply all migrations: userprofiles\n    Running migrations:\n      Rendering model states... DONE\n      Applying userprofiles.0015_user_date_joined...Traceback (most recent call last):\n      File \"/home/bgarcial/.virtualenvs/fuupbol/lib/python3.4/site-packages/django/db/backends/utils.py\", line 64, in execute\n        return self.cursor.execute(sql, params)\n    psycopg2.IntegrityError: column \"date_joined\" contains null values\n\n\n    The above exception was the direct cause of the following exception:\n\n    Traceback (most recent call last):\n      File \"manage.py\", line 10, in &lt;module&gt;\n        execute_from_command_line(sys.argv)\n      File \"/home/bgarcial/.virtualenvs/fuupbol/lib/python3.4/site-packages/django/core/management/__init__.py\", line 353, in execute_from_command_line\n        utility.execute()\n      File \"/home/bgarcial/.virtualenvs/fuupbol/lib/python3.4/site-packages/django/core/management/__init__.py\", line 345, in execute\n        self.fetch_command(subcommand).run_from_argv(self.argv)\n      File \"/home/bgarcial/.virtualenvs/fuupbol/lib/python3.4/site-packages/django/core/management/base.py\", line 348, in run_from_argv\n        self.execute(*args, **cmd_options)\n      File \"/home/bgarcial/.virtualenvs/fuupbol/lib/python3.4/site-packages/django/core/management/base.py\", line 399, in execute\n        output = self.handle(*args, **options)\n      File \"/home/bgarcial/.virtualenvs/fuupbol/lib/python3.4/site-packages/django/core/management/commands/migrate.py\", line 200, in handle\n        executor.migrate(targets, plan, fake=fake, fake_initial=fake_initial)\n      File \"/home/bgarcial/.virtualenvs/fuupbol/lib/python3.4/site-packages/django/db/migrations/executor.py\", line 92, in migrate\n        self._migrate_all_forwards(plan, full_plan, fake=fake, fake_initial=fake_initial)\n      File \"/home/bgarcial/.virtualenvs/fuupbol/lib/python3.4/site-packages/django/db/migrations/executor.py\", line 121, in _migrate_all_forwards\n        state = self.apply_migration(state, migration, fake=fake, fake_initial=fake_initial)\n      File \"/home/bgarcial/.virtualenvs/fuupbol/lib/python3.4/site-packages/django/db/migrations/executor.py\", line 198, in apply_migration\n        state = migration.apply(state, schema_editor)\n      File \"/home/bgarcial/.virtualenvs/fuupbol/lib/python3.4/site-packages/django/db/migrations/migration.py\", line 123, in apply\n        operation.database_forwards(self.app_label, schema_editor, old_state, project_state)\n      File \"/home/bgarcial/.virtualenvs/fuupbol/lib/python3.4/site-packages/django/db/migrations/operations/fields.py\", line 62, in database_forwards\n        field,\n      File \"/home/bgarcial/.virtualenvs/fuupbol/lib/python3.4/site-packages/django/db/backends/base/schema.py\", line 396, in add_field\n        self.execute(sql, params)\n      File \"/home/bgarcial/.virtualenvs/fuupbol/lib/python3.4/site-packages/django/db/backends/base/schema.py\", line 110, in execute\n        cursor.execute(sql, params)\n      File \"/home/bgarcial/.virtualenvs/fuupbol/lib/python3.4/site-packages/django/db/backends/utils.py\", line 79, in execute\n        return super(CursorDebugWrapper, self).execute(sql, params)\n      File \"/home/bgarcial/.virtualenvs/fuupbol/lib/python3.4/site-packages/django/db/backends/utils.py\", line 64, in execute\n        return self.cursor.execute(sql, params)\n      File \"/home/bgarcial/.virtualenvs/fuupbol/lib/python3.4/site-packages/django/db/utils.py\", line 95, in __exit__\n        six.reraise(dj_exc_type, dj_exc_value, traceback)\n      File \"/home/bgarcial/.virtualenvs/fuupbol/lib/python3.4/site-packages/django/utils/six.py\", line 685, in reraise\n        raise value.with_traceback(tb)\n      File \"/home/bgarcial/.virtualenvs/fuupbol/lib/python3.4/site-packages/django/db/backends/utils.py\", line 64, in execute\n        return self.cursor.execute(sql, params)\n    django.db.utils.IntegrityError: column \"date_joined\" contains null values\n\n    (fuupbol) \u279c  fuupbol_project git:(master) \u2717 \n</code></pre>\n\n<p>I cannot understand the reason of the error message <code>django.db.utils.IntegrityError: column \"date_joined\" contains null values</code> due to in this moment I do not have this attribute <code>date_joined</code></p>\n\n<p>Any orientation would be appreciated. \nThanks</p>\n"}]