[{"tags": ["python", "flask"], "answers": [{"tags": [], "owner": {"reputation": 862, "user_id": 1155333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5dcec13071dd7747b48798a80a6fa59b?s=128&d=identicon&r=PG", "display_name": "Cornel Ghiban", "link": "https://stackoverflow.com/users/1155333/cornel-ghiban"}, "is_accepted": true, "score": 5, "last_activity_date": 1430353706, "creation_date": 1430353706, "answer_id": 29956965, "question_id": 29956695, "link": "https://stackoverflow.com/questions/29956695/flask-dynamically-generate-link-to-file/29956965#29956965", "title": "Flask, dynamically generate link to file", "body": "<p>Assuming your files are in your static directory you can do something like this:</p>\n\n<p><code>&lt;td&gt;&lt;a href=\"{{ url_for('static', filename=y) }}\"&gt;{{x}}&lt;/a&gt;&lt;/td&gt;</code></p>\n\n<p>or</p>\n\n<p><code>&lt;td&gt;&lt;a href=\"{{ url_for('static', filename='path/directory/%s' % (y)) ) }}\"&gt;{{x}}&lt;/a&gt;&lt;/td&gt;</code></p>\n"}], "owner": {"reputation": 470, "user_id": 2041110, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/3zmn7.jpg?s=128&g=1", "display_name": "Bob Ezuba", "link": "https://stackoverflow.com/users/2041110/bob-ezuba"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3725, "favorite_count": 0, "accepted_answer_id": 29956965, "answer_count": 1, "score": 1, "last_activity_date": 1430353706, "creation_date": 1430351895, "question_id": 29956695, "link": "https://stackoverflow.com/questions/29956695/flask-dynamically-generate-link-to-file", "title": "Flask, dynamically generate link to file", "body": "<p>How can I dynamically generate link to files using flask? Here is my sample code but it's not working when I click on the link. all the file in the directory are text files, so the browser can open them without downloading anything.</p>\n\n<pre><code>{% for x, y in links %}\n&lt;tr&gt;\n     &lt;td&gt;&lt;a href=\"{{y}}\"&gt;{{x}}&lt;/a&gt;&lt;/td&gt;\n     &lt;td&gt;&lt;a href=\"{{y}}\"&gt;{{y}}&lt;/a&gt;&lt;/td&gt;\n&lt;/tr&gt;\n{% endfor %}\n\npath = 'path/directory'\nif request.method == 'GET':\n# a is the date last modified, b is the file path\n    link = [(a, b) for a, b in get_files_sorted(path)]\n    return render_template('file_structure.html', links=link)\nif request.method == 'POST':\n    #open the text file that was clicked on\n</code></pre>\n"}, {"tags": ["python", "matplotlib"], "comments": [{"owner": {"reputation": 16669, "user_id": 1231929, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/hLiYk.jpg?s=128&g=1", "display_name": "jme", "link": "https://stackoverflow.com/users/1231929/jme"}, "edited": false, "score": 1, "creation_date": 1430355644, "post_id": 29956681, "comment_id": 48035117, "body": "Post your screenshot to an image hosting service, and someone will add it to your question for you."}, {"owner": {"reputation": 73075, "user_id": 380231, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8744048060e5931c500d3c9d1ecb997e?s=128&d=identicon&r=PG", "display_name": "tacaswell", "link": "https://stackoverflow.com/users/380231/tacaswell"}, "edited": false, "score": 1, "creation_date": 1430364773, "post_id": 29956681, "comment_id": 48037680, "body": "What backend are you using?"}, {"owner": {"reputation": 775, "user_id": 5248253, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/4c3b74fdc4e4a76aaba792f97a7acf50?s=128&d=identicon&r=PG&f=1", "display_name": "HighwayJohn", "link": "https://stackoverflow.com/users/5248253/highwayjohn"}, "edited": false, "score": 0, "creation_date": 1463130334, "post_id": 29956681, "comment_id": 61942982, "body": "I have the same problem. Do you know any solution by now?"}, {"owner": {"reputation": 1485, "user_id": 4143312, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/RtGaS.jpg?s=128&g=1", "display_name": "Ka-Wa Yip", "link": "https://stackoverflow.com/users/4143312/ka-wa-yip"}, "reply_to_user": {"reputation": 775, "user_id": 5248253, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/4c3b74fdc4e4a76aaba792f97a7acf50?s=128&d=identicon&r=PG&f=1", "display_name": "HighwayJohn", "link": "https://stackoverflow.com/users/5248253/highwayjohn"}, "edited": false, "score": 0, "creation_date": 1466600067, "post_id": 29956681, "comment_id": 63382999, "body": "@HighwayJohn Still no. Save as figure1 each time"}, {"owner": {"reputation": 775, "user_id": 5248253, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/4c3b74fdc4e4a76aaba792f97a7acf50?s=128&d=identicon&r=PG&f=1", "display_name": "HighwayJohn", "link": "https://stackoverflow.com/users/5248253/highwayjohn"}, "edited": false, "score": 0, "creation_date": 1467065035, "post_id": 29956681, "comment_id": 63566832, "body": "Darn, I do it the same way.."}], "answers": [{"comments": [{"owner": {"reputation": 1485, "user_id": 4143312, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/RtGaS.jpg?s=128&g=1", "display_name": "Ka-Wa Yip", "link": "https://stackoverflow.com/users/4143312/ka-wa-yip"}, "edited": false, "score": 0, "creation_date": 1433026147, "post_id": 29959173, "comment_id": 49176308, "body": "Thank you. I know that. But I aim to show the picture, before saving (manually), instead for some specific reason."}], "tags": [], "owner": {"reputation": 61, "user_id": 4883434, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-O7kLQ2eV8b8/AAAAAAAAAAI/AAAAAAAAABQ/rZMbbMgvPRQ/photo.jpg?sz=128", "display_name": "Seunginah", "link": "https://stackoverflow.com/users/4883434/seunginah"}, "is_accepted": false, "score": 0, "last_activity_date": 1430368971, "creation_date": 1430368971, "answer_id": 29959173, "question_id": 29956681, "link": "https://stackoverflow.com/questions/29956681/unable-to-modify-file-name-when-saving-matplotlib-figures-in-mac-system/29959173#29959173", "title": "Unable to modify file name when saving matplotlib figures in Mac system", "body": "<p>Try this. I don't know if you're using pyplot, but it's pretty common.\nMake sure you don't show() the figure anywhere in the code--it prevents the savefig() function from working. This worked for me, and saved myfigure.png in the directory I ran the code in.</p>\n\n<pre><code>import matplotlib.pyplot as plt\n\n# make a figure with 1 row and 1 column\nfig, myplot = plt.subplots( nrows=1, ncols =1)\n\n# simple plot\nt = arange(0.0,2.0,0.01)\ns = sin(2*pi*t)\nmyplot = plot(t,s)\n\n# save figure with specified filename\nplt.savefig('myfigure.png')\n\n# close figure\nplt.close(fig)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 86, "user_id": 7046837, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3a649b9f346b0380c7fb83e2b604d1f?s=128&d=identicon&r=PG&f=1", "display_name": "esuo", "link": "https://stackoverflow.com/users/7046837/esuo"}, "is_accepted": true, "score": 7, "last_activity_date": 1476954114, "creation_date": 1476954114, "answer_id": 40149924, "question_id": 29956681, "link": "https://stackoverflow.com/questions/29956681/unable-to-modify-file-name-when-saving-matplotlib-figures-in-mac-system/40149924#40149924", "title": "Unable to modify file name when saving matplotlib figures in Mac system", "body": "<p>I had exactly the same issue with mine, I found the answer in solving an underlying issue with the matplotlib backend (the default backend \"macosx\" causes this issue). The solution is to change the backend line in your matplotlibrc file, which you can find by running</p>\n\n<pre><code>import matplotlib\nmatplotlib.matplotlib_fname()\n</code></pre>\n\n<p>in a python terminal. In the matplotlibrc file, find and change the line</p>\n\n<pre><code>backend      : macosx\n</code></pre>\n\n<p>to (for example):</p>\n\n<pre><code>backend      : TkAgg\n</code></pre>\n\n<p>All of the issues should go away. It worked for me, I hope it's helpful.</p>\n"}, {"tags": [], "owner": {"reputation": 22382, "user_id": 5025009, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7KIA9.png?s=128&g=1", "display_name": "seralouk", "link": "https://stackoverflow.com/users/5025009/seralouk"}, "is_accepted": false, "score": 1, "last_activity_date": 1500632006, "creation_date": 1500632006, "answer_id": 45235012, "question_id": 29956681, "link": "https://stackoverflow.com/questions/29956681/unable-to-modify-file-name-when-saving-matplotlib-figures-in-mac-system/45235012#45235012", "title": "Unable to modify file name when saving matplotlib figures in Mac system", "body": "<p>Just found a solution for this:</p>\n\n<p>Use <code>conda install python.app</code> to install <code>pythonw</code>.</p>\n\n<p>Then use <code>pythonw</code> instead of <code>python</code> in your terminal.</p>\n\n<p>E.g.</p>\n\n<pre><code>pythonw my_plot.py\n</code></pre>\n\n<p>Hope this helps</p>\n"}, {"comments": [{"owner": {"reputation": 25106, "user_id": 6699433, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/1mOTM.jpg?s=128&g=1", "display_name": "klutt", "link": "https://stackoverflow.com/users/6699433/klutt"}, "edited": false, "score": 0, "creation_date": 1507845661, "post_id": 46719186, "comment_id": 80385772, "body": "An answer should stand on its own. If your answer is a link, post it as a comment."}], "tags": [], "owner": {"reputation": 11, "user_id": 8767924, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/533e4db0870ef59ab77338e6aeb7a93f?s=128&d=identicon&r=PG", "display_name": "David", "link": "https://stackoverflow.com/users/8767924/david"}, "is_accepted": false, "score": 0, "last_activity_date": 1507843819, "creation_date": 1507843819, "answer_id": 46719186, "question_id": 29956681, "link": "https://stackoverflow.com/questions/29956681/unable-to-modify-file-name-when-saving-matplotlib-figures-in-mac-system/46719186#46719186", "title": "Unable to modify file name when saving matplotlib figures in Mac system", "body": "<p>For some, this discussion might answer the issue: <a href=\"https://matplotlib.org/faq/osx_framework.html\" rel=\"nofollow noreferrer\">https://matplotlib.org/faq/osx_framework.html</a></p>\n\n<p>Without a framework build of Python, matplotlib doesn't function properly on OS X. Anaconda doesn't provide a framework build, hence the problem... although I don't remember this being a problem until fairly recently!</p>\n\n<p>Despite using Python 3, I can't actually make the virtual environment fix suggested in the link work for me, however.</p>\n"}], "owner": {"reputation": 1485, "user_id": 4143312, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/RtGaS.jpg?s=128&g=1", "display_name": "Ka-Wa Yip", "link": "https://stackoverflow.com/users/4143312/ka-wa-yip"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2048, "favorite_count": 3, "accepted_answer_id": 40149924, "answer_count": 4, "score": 6, "last_activity_date": 1507843819, "creation_date": 1430351793, "question_id": 29956681, "link": "https://stackoverflow.com/questions/29956681/unable-to-modify-file-name-when-saving-matplotlib-figures-in-mac-system", "title": "Unable to modify file name when saving matplotlib figures in Mac system", "body": "<p>After executing the show() command in Python, I can only save figures as figure_1.png\nI cannot change my file name. No typing is allowed next to \"Save As:\". How to enable typing my filename at this point?</p>\n\n<p>I apologize that I need at least 10 reputations to post screenshot.</p>\n"}, {"tags": ["python", "arrays", "opencv", "numpy"], "comments": [{"owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 0, "creation_date": 1430357348, "post_id": 29956677, "comment_id": 48035635, "body": "<code>concatenate</code> will accept a long list of arrays, not just 2."}], "answers": [{"comments": [{"owner": {"reputation": 151, "user_id": 3321970, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6d5af203eccc4b7380b19b2c777fe997?s=128&d=identicon&r=PG&f=1", "display_name": "DTC", "link": "https://stackoverflow.com/users/3321970/dtc"}, "edited": false, "score": 0, "creation_date": 1430376831, "post_id": 29957473, "comment_id": 48042311, "body": "Wow thanks for the in-depth comment and solution. I really appreciate it!"}], "tags": [], "owner": {"reputation": 705380, "user_id": 190597, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/aabc98d5c6482ca0e1405ec97710f30a?s=128&d=identicon&r=PG&f=1", "display_name": "unutbu", "link": "https://stackoverflow.com/users/190597/unutbu"}, "is_accepted": true, "score": 3, "last_activity_date": 1430359869, "last_edit_date": 1430359869, "creation_date": 1430357028, "answer_id": 29957473, "question_id": 29956677, "link": "https://stackoverflow.com/questions/29956677/faster-way-than-concatenate-of-combining-multiple-cv2-images-numpy-arrays-in-p/29957473#29957473", "title": "Faster way than concatenate of combining multiple cv2 images (numpy arrays) in python?", "body": "<p>Copying arrays can be a real speed killer when working with NumPy.  Every time\n<code>np.concatenate</code> is called, space for a new array is allocated, and all the old\ndata is copied into the new array.  A way to make your code faster is to reduce\nthe amount of copying.</p>\n\n<p>So as you suggested, the faster way is to allocate space for the final array,\n<code>display</code> from the very the beginning:</p>\n\n<pre><code>display = np.empty((cellHeight*nrows, cellWidth*ncols, 3), dtype=np.uint8)\n</code></pre>\n\n<p>and then copy the data from <code>cellArray</code> into <code>display</code> just once:</p>\n\n<pre><code>for i, j in IT.product(range(nrows), range(ncols)):\n    arr = cellArray[i*ncols+j].image  \n    x, y = i*cellHeight, j*cellWidth\n    display[x:x+cellHeight, y:y+cellWidth, :] = arr\n</code></pre>\n\n<hr>\n\n<p>For example,</p>\n\n<pre><code>import numpy as np\nimport matplotlib.pyplot as plt\nimport itertools as IT\n\ndef compileCells(cellArray, nrows, ncols, cellHeight, cellWidth):\n    display = np.empty((cellHeight*nrows, cellWidth*ncols, 3), dtype=np.uint8)\n    for i, j in IT.product(range(nrows), range(ncols)):\n        # arr = cellArray[i*ncols+j].image  # you may need this\n        arr = cellArray[i*ncols+j]          # my simplified cellArray uses this\n        x, y = i*cellHeight, j*cellWidth\n        display[x:x+cellHeight, y:y+cellWidth, :] = arr\n    return display\n\ncellHeight, cellWidth = 80, 60\nnrows = ncols = numberOfCells = 10\n\ncellArray = [np.full((cellHeight, cellWidth, 3), i) \n             for i in np.linspace(0, 255, nrows*ncols)]\ndisplay = compileCells(cellArray, nrows, ncols, cellHeight, cellWidth)\nplt.imshow(display)\nplt.show()\n</code></pre>\n\n<p>yields</p>\n\n<p><img src=\"https://i.stack.imgur.com/sp5KE.png\" alt=\"enter image description here\"></p>\n\n<p>Note, your code implies that <code>cellArray</code> is a list of objects whose <code>image</code>\nattributes are NumPy arrays. To make the example code above runnable and simple(r),\nI've defined <code>cellArray</code> above to be a list of NumPy arrays. \nYou may need to uncomment</p>\n\n<pre><code># arr = cellArray[i*ncols+j].image  \n</code></pre>\n\n<p>and comment out</p>\n\n<pre><code>arr = cellArray[i*ncols+j] \n</code></pre>\n\n<p>to fit your definition of <code>cellArray</code>.</p>\n\n<hr>\n\n<p>Let's compare the amount of copying done by the two approaches:</p>\n\n<p>Using the original approach, if we say that an image array has size 1, then to build a <code>strip</code> requires\nallocating arrays of size 1, 2, ..., 10. So one strip requires allocating arrays\nof total size 1+2+...+10 = 10(11)/2 = 55. To build <code>display</code> requires allocating\narrays of total size 55(1+2+..+10) = 55*55 = 3025. Each allocation of space is\naccompanied by a copy operation. The amount of copying grows <strong>quadratically</strong> with the number of cells in the final array.</p>\n\n<p>In contrast, if we allocate space for the final <code>display</code> just once, then we\nonly need to allocate  of total size 10*10 = 100. Here, the amount of copying grows <strong>linearly</strong> with the number of cells.</p>\n"}], "owner": {"reputation": 151, "user_id": 3321970, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6d5af203eccc4b7380b19b2c777fe997?s=128&d=identicon&r=PG&f=1", "display_name": "DTC", "link": "https://stackoverflow.com/users/3321970/dtc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1941, "favorite_count": 2, "accepted_answer_id": 29957473, "answer_count": 1, "score": 3, "last_activity_date": 1430359869, "creation_date": 1430351786, "question_id": 29956677, "link": "https://stackoverflow.com/questions/29956677/faster-way-than-concatenate-of-combining-multiple-cv2-images-numpy-arrays-in-p", "title": "Faster way than concatenate of combining multiple cv2 images (numpy arrays) in python?", "body": "<p>I have 100 small images which I want to combine into one large (10x10) grid image for display with imshow. Each image (as a numpy array) is within the variable of a cell object. At the moment I'm using concatenate to first create vertical strips then using concatenate to connect all of those strips but it seems kinda clunky. Is there a better way to do this? I feel like I should be able to just create a numpy array the size of the final image (800 x 600) then plop each image in, but it seems to be beyond my ability to wrap my head around the syntax. </p>\n\n<pre><code>def stackImages(im1, im2, axisToStack):\n    newImage = np.concatenate((im1, im2), axis = axisToStack)\n    return newImage\n\ndef compileCells():\n    #Make a list of strips\n    strips = [(np.zeros((0,cellWidth,3), np.uint8)) for i in range(numberOfCells)]\n\n    for x in range(numberOfCells):\n        for i in range(numberOfCells):\n            strips[x] = stackImages(cellArray[i+(x*numberOfCells)].image, strips[x], 0)\n\n    display = strips[0]\n    for c in range(1,numberOfCells):\n        display = stackImages(strips[c], display, 1)\n    return display\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1430351971, "post_id": 29956652, "comment_id": 48034068, "body": "From the function&#39;s definition it looks like it adds an object somewhere, but the function refers to a <code>global</code> and then assigns to it (syntax error). What is <code>Home</code> that you send in? It&#39;s not defined anywhere. I have no idea what you&#39;re actually trying to accomplish."}, {"owner": {"reputation": 27354, "user_id": 948550, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/YWVjs.jpg?s=128&g=1", "display_name": "Reut Sharabani", "link": "https://stackoverflow.com/users/948550/reut-sharabani"}, "reply_to_user": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1430352076, "post_id": 29956652, "comment_id": 48034100, "body": "@TigerhawkT3 I think he had an indentation problem. Look at Marein&#39;s answer."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2124834"}, "edited": false, "score": 0, "creation_date": 1430352173, "post_id": 29956652, "comment_id": 48034131, "body": "To be fair, the indentation problem was actually added by an editor."}, {"owner": {"reputation": 17298, "user_id": 1540468, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2f7d0c7668a2f3b53cf22c01ae63f32b?s=128&d=identicon&r=PG", "display_name": "Paul Rooney", "link": "https://stackoverflow.com/users/1540468/paul-rooney"}, "edited": false, "score": 1, "creation_date": 1430352173, "post_id": 29956652, "comment_id": 48034132, "body": "See <a href=\"http://stackoverflow.com/questions/13627865/declare-global-variables-in-python\">this</a>. This is a very bad idea. Global variables are not only slow but create a maintenance issue."}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1430352298, "post_id": 29956652, "comment_id": 48034159, "body": "To be fair to the editor (me), the original had no indentation at all. The question and code still make no sense, although the hanging problem that would never actually happen because of the syntax error above it has now been eliminated."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2124834"}, "reply_to_user": {"reputation": 17298, "user_id": 1540468, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2f7d0c7668a2f3b53cf22c01ae63f32b?s=128&d=identicon&r=PG", "display_name": "Paul Rooney", "link": "https://stackoverflow.com/users/1540468/paul-rooney"}, "edited": false, "score": 0, "creation_date": 1430352663, "post_id": 29956652, "comment_id": 48034276, "body": "Thanks to @PaulRooney&#39;s answer I think I understand what the question is trying to be. I found this relevant answer: <a href=\"http://stackoverflow.com/a/11553741/2124834\">stackoverflow.com/a/11553741/2124834</a>"}], "answers": [{"comments": [{"owner": {"reputation": 45, "user_id": 3666755, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d8ddf29b7f08741260967f76dbf49ff0?s=128&d=identicon&r=PG&f=1", "display_name": "user3666755", "link": "https://stackoverflow.com/users/3666755/user3666755"}, "edited": false, "score": 0, "creation_date": 1430352889, "post_id": 29956760, "comment_id": 48034347, "body": "Oh, thank you that was what I wanted! sorry about the original explanation i&#39;m new."}, {"owner": {"reputation": 17298, "user_id": 1540468, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2f7d0c7668a2f3b53cf22c01ae63f32b?s=128&d=identicon&r=PG", "display_name": "Paul Rooney", "link": "https://stackoverflow.com/users/1540468/paul-rooney"}, "reply_to_user": {"reputation": 45, "user_id": 3666755, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d8ddf29b7f08741260967f76dbf49ff0?s=128&d=identicon&r=PG&f=1", "display_name": "user3666755", "link": "https://stackoverflow.com/users/3666755/user3666755"}, "edited": false, "score": 0, "creation_date": 1430353071, "post_id": 29956760, "comment_id": 48034402, "body": "No problem. Like I said in the comments <code>global</code> variables are universally considered a bad idea in any non trivial program using any programming language. Globals in python are slower to boot see <a href=\"https://wiki.python.org/moin/PythonSpeed/PerformanceTips\" rel=\"nofollow noreferrer\">this</a>."}, {"owner": {"reputation": 3055, "user_id": 1843248, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/63X0V.jpg?s=128&g=1", "display_name": "Doug R.", "link": "https://stackoverflow.com/users/1843248/doug-r"}, "reply_to_user": {"reputation": 45, "user_id": 3666755, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d8ddf29b7f08741260967f76dbf49ff0?s=128&d=identicon&r=PG&f=1", "display_name": "user3666755", "link": "https://stackoverflow.com/users/3666755/user3666755"}, "edited": false, "score": 0, "creation_date": 1430399844, "post_id": 29956760, "comment_id": 48057162, "body": "@user3666755 - If that&#39;s the answer you were looking for, please click the checkmark to &quot;accept&quot; it.  This isn&#39;t required, but that way, the next person who has the same question knows that this solution was exactly what <b>you</b> were looking for.  It also gives some reputation to both you and the person who posted the answer."}], "tags": [], "owner": {"reputation": 17298, "user_id": 1540468, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2f7d0c7668a2f3b53cf22c01ae63f32b?s=128&d=identicon&r=PG", "display_name": "Paul Rooney", "link": "https://stackoverflow.com/users/1540468/paul-rooney"}, "is_accepted": true, "score": 0, "last_activity_date": 1430352831, "last_edit_date": 1430352831, "creation_date": 1430352308, "answer_id": 29956760, "question_id": 29956652, "link": "https://stackoverflow.com/questions/29956652/python-referance-to-varible-based-on-another-variable/29956760#29956760", "title": "Python referance to varible based on another variable", "body": "<p>Here is something that appears to do what you want.</p>\n\n<pre><code>def addObject(name, x, y):\n    globals()[name] = [x,y]\n\naddObject('Home', 3,3)\nprint(Home)\n</code></pre>\n\n<p>Note: Its required to call <code>addObject</code> with the name as a string.</p>\n"}], "owner": {"reputation": 45, "user_id": 3666755, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d8ddf29b7f08741260967f76dbf49ff0?s=128&d=identicon&r=PG&f=1", "display_name": "user3666755", "link": "https://stackoverflow.com/users/3666755/user3666755"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 1, "accepted_answer_id": 29956760, "answer_count": 1, "score": -1, "last_activity_date": 1430352831, "creation_date": 1430351587, "last_edit_date": 1430352118, "question_id": 29956652, "link": "https://stackoverflow.com/questions/29956652/python-referance-to-varible-based-on-another-variable", "title": "Python referance to varible based on another variable", "body": "<p>I'm making a little text-based game and I want a function that will create a variable with coordinates I can call on later to graph. Here's what I have:</p>\n\n<pre><code>def addObject(name, x, y):\n    global name = [x,y]\naddObject(Home, 3,3)\nprint(Home)\n</code></pre>\n\n<p>I want to graph it later. This is what I'm having trouble with, though.</p>\n"}, {"tags": ["python", "lxml", "easy-install"], "comments": [{"owner": {"reputation": 862, "user_id": 1155333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5dcec13071dd7747b48798a80a6fa59b?s=128&d=identicon&r=PG", "display_name": "Cornel Ghiban", "link": "https://stackoverflow.com/users/1155333/cornel-ghiban"}, "edited": false, "score": 0, "creation_date": 1430353916, "post_id": 29956624, "comment_id": 48034631, "body": "How did you install Python 2.7? Download the source code for lxml and use python2.7 to build and install the package."}], "answers": [{"tags": [], "owner": {"reputation": 32699, "user_id": 202694, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/982e5d5973bcd2be7b77e52ec7dca27c?s=128&d=identicon&r=PG", "display_name": "Pace", "link": "https://stackoverflow.com/users/202694/pace"}, "is_accepted": true, "score": 2, "last_activity_date": 1430365124, "creation_date": 1430365124, "answer_id": 29958606, "question_id": 29956624, "link": "https://stackoverflow.com/questions/29956624/installing-lxml-on-rhel-for-python-2-7/29958606#29958606", "title": "Installing lxml on RHEL for Python 2.7", "body": "<p>The short answer is, not easily.  I'm assuming you're using RHEL5 since you mentioned python 2.4 was in the repo.  The problem is that lxml is not a pure python library, it is a rather thin wrapper around two C/C++ libraries, libxml2 and libxslt.  This means that any RPM installer you find for python-lxml or any attempt to build python-lxml from source is going to require you to have those two libraries installed.</p>\n\n<p>To make matters worse, python-lxml requires 2.7 or greater of libxml and 1.1.23 of libxslt.  RHEL5 supports libxml 2.6 and libxslt 1.1.17.  This means you won't be able to find any standard RHEL5 RPMs for installing the proper versions of those two libraries as any RPM for greater versions will probably depend on greater versions of other things.  For example, the libxml2 2.7 RPM that ships with RHEL6 requires GLIBC 2.7 and RHEL5 has GLIBC 2.6.</p>\n\n<p>However, it appears you can probably install libxml2 and libxslt from source fairly easily as <a href=\"https://gist.github.com/badzil/822697\" rel=\"nofollow\">explained here</a>.  Once you've done that it should be straightforward to build python-lxml from source following the directions on the site.</p>\n"}], "owner": {"reputation": 2139, "user_id": 1859536, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ND0ug.jpg?s=128&g=1", "display_name": "sarath joseph", "link": "https://stackoverflow.com/users/1859536/sarath-joseph"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1655, "favorite_count": 0, "accepted_answer_id": 29958606, "answer_count": 1, "score": 1, "last_activity_date": 1430365124, "creation_date": 1430351426, "question_id": 29956624, "link": "https://stackoverflow.com/questions/29956624/installing-lxml-on-rhel-for-python-2-7", "title": "Installing lxml on RHEL for Python 2.7", "body": "<p>So the RHEL machine originally had Python 2.4. I installed Python 2.7.\nI want to install lxml module and I cannot use pip or setup tools due to proxy concerns. I used </p>\n\n<p>sudo yum install python-lxml</p>\n\n<p>It installed lxml for Python 2.4 which is the default. How can I make the install for the 2.7 version. </p>\n"}, {"tags": ["python", "iterator"], "comments": [{"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1430350187, "post_id": 29956381, "comment_id": 48033538, "body": "what about when the index is 0 or the end? then are you just checking one value instead of both? or does it wrap ? or do you skip looking at the first and last indices?"}, {"owner": {"reputation": 295, "user_id": 4557357, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/8d7de00f68c7dc5483bb15ec254fac17?s=128&d=identicon&r=PG&f=1", "display_name": "dustinyourface", "link": "https://stackoverflow.com/users/4557357/dustinyourface"}, "reply_to_user": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1430350289, "post_id": 29956381, "comment_id": 48033568, "body": "Sorry for not clarifying, you dont check the first and last indices"}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1430350362, "post_id": 29956381, "comment_id": 48033595, "body": "If you don&#39;t need top performance, the easiest way is probably to convert the iterable to a <code>list</code> or <code>tuple</code>."}, {"owner": {"reputation": 1715, "user_id": 3543752, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2fd4b55278e916b23f5c2f5d8ea40c3b?s=128&d=identicon&r=PG&f=1", "display_name": "Brad Budlong", "link": "https://stackoverflow.com/users/3543752/brad-budlong"}, "edited": false, "score": 1, "creation_date": 1430350885, "post_id": 29956381, "comment_id": 48033752, "body": "The key to what is wrong with your current code is that you are calling <code>next()</code> twice during one iteration.  You need to shift your check only once during each loop."}], "answers": [{"tags": [], "owner": {"reputation": 821764, "user_id": 893, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/747ffa5da3538e66840ebc0548b8fd58?s=128&d=identicon&r=PG", "display_name": "Greg Hewgill", "link": "https://stackoverflow.com/users/893/greg-hewgill"}, "is_accepted": true, "score": 3, "last_activity_date": 1430350053, "creation_date": 1430350053, "answer_id": 29956394, "question_id": 29956381, "link": "https://stackoverflow.com/questions/29956381/iterate-through-an-iterable-how-to-obtain-previous-and-next-value-using-next/29956394#29956394", "title": "Iterate through an iterable, how to obtain previous and next value using next()?", "body": "<p>It sounds like you could do this with something like:</p>\n\n<pre><code>n1, n2, n3 = next(i), next(i), next(i)\nwhile True:\n    # ... do your checks\n    n1, n2, n3 = n2, n3, next(i)\n</code></pre>\n\n<p>You will have to add a suitable termination condition check.</p>\n"}, {"tags": [], "owner": {"reputation": 18603, "user_id": 4526187, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YP5so.jpg?s=128&g=1", "display_name": "JuniorCompressor", "link": "https://stackoverflow.com/users/4526187/juniorcompressor"}, "is_accepted": false, "score": 4, "last_activity_date": 1430350243, "creation_date": 1430350243, "answer_id": 29956425, "question_id": 29956381, "link": "https://stackoverflow.com/questions/29956381/iterate-through-an-iterable-how-to-obtain-previous-and-next-value-using-next/29956425#29956425", "title": "Iterate through an iterable, how to obtain previous and next value using next()?", "body": "<p>You could create the following generator:</p>\n\n<pre><code>def f(iterable):\n    i = iter(iterable)\n    n1, n2, n3 = next(i), next(i), next(i)\n    while True:\n        if n2 &gt; max(n1, n3):\n            yield n2\n        n1, n2, n3 = n2, n3, next(i)\n</code></pre>\n\n<p>and then test like this:</p>\n\n<pre><code>&gt;&gt;&gt; list(f([1, 4, 3, 8, 6]))\n[4, 8]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 156940, "user_id": 416467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/32cad7487ccecc3740a62e797fc326dc?s=128&d=identicon&r=PG", "display_name": "kindall", "link": "https://stackoverflow.com/users/416467/kindall"}, "is_accepted": false, "score": 1, "last_activity_date": 1430350599, "creation_date": 1430350599, "answer_id": 29956490, "question_id": 29956381, "link": "https://stackoverflow.com/questions/29956381/iterate-through-an-iterable-how-to-obtain-previous-and-next-value-using-next/29956490#29956490", "title": "Iterate through an iterable, how to obtain previous and next value using next()?", "body": "<p><code>collections.deque</code> is ideal for this sort of windowing iterator.</p>\n\n<pre><code>from collections import deque\n\ndef f(iterable):\n    int_list = []\n    it       = iter(iterable)\n    n        = deque([next(it), next(it)], maxlen=3)\n    for item in it:\n        n.append(item)\n        if n[0] &lt; n[1] &gt; n[2]:\n            int_list.append(items[1])\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 24179, "user_id": 1672429, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/0815eb7d4e9dd58022d51ba2011b9c0a?s=128&d=identicon&r=PG", "display_name": "Stefan Pochmann", "link": "https://stackoverflow.com/users/1672429/stefan-pochmann"}, "edited": false, "score": 1, "creation_date": 1430355807, "post_id": 29956491, "comment_id": 48035164, "body": "A bit simpler: <code>zip(l,l[1:],l[2:])</code>."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2124834"}, "reply_to_user": {"reputation": 24179, "user_id": 1672429, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/0815eb7d4e9dd58022d51ba2011b9c0a?s=128&d=identicon&r=PG", "display_name": "Stefan Pochmann", "link": "https://stackoverflow.com/users/1672429/stefan-pochmann"}, "edited": false, "score": 0, "creation_date": 1430356017, "post_id": 29956491, "comment_id": 48035228, "body": "Nice, I didn&#39;t know <code>zip</code> could handle lists of different lengths."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user2124834"}, "is_accepted": false, "score": 1, "last_activity_date": 1430355957, "last_edit_date": 1430355957, "creation_date": 1430350602, "answer_id": 29956491, "question_id": 29956381, "link": "https://stackoverflow.com/questions/29956381/iterate-through-an-iterable-how-to-obtain-previous-and-next-value-using-next/29956491#29956491", "title": "Iterate through an iterable, how to obtain previous and next value using next()?", "body": "<p>I know you are asking specifically about iterators, but you might also be interested in a solution using list comprehension:</p>\n\n<pre><code>def f(l):\n  return [a &lt; b &gt; c for a,b,c in zip(l,l[1:],l[2:])]\n</code></pre>\n\n<p>For example, for <code>f([1,3,2,5,4])</code>, this returns <code>[True, False, True]</code> (omitting the first and last elements as per the question).</p>\n"}, {"tags": [], "owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "is_accepted": false, "score": 0, "last_activity_date": 1430350943, "creation_date": 1430350943, "answer_id": 29956554, "question_id": 29956381, "link": "https://stackoverflow.com/questions/29956381/iterate-through-an-iterable-how-to-obtain-previous-and-next-value-using-next/29956554#29956554", "title": "Iterate through an iterable, how to obtain previous and next value using next()?", "body": "<p>Start out by turning it into a <code>list</code>, then you're not stuck on a one-way street:</p>\n\n<pre><code>&gt;&gt;&gt; a = [3,5,7,4,6,5,8]\n&gt;&gt;&gt; def f(iterable):\n...     thelist = list(iterable)\n...     return [item for num,item in enumerate(thelist[1:-1]) if max(thelist[num], thelist[num+1], thelist[num+2]) == item]\n...\n&gt;&gt;&gt; f(a)\n[7, 6]\n</code></pre>\n"}], "owner": {"reputation": 295, "user_id": 4557357, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/8d7de00f68c7dc5483bb15ec254fac17?s=128&d=identicon&r=PG&f=1", "display_name": "dustinyourface", "link": "https://stackoverflow.com/users/4557357/dustinyourface"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 147, "favorite_count": 0, "accepted_answer_id": 29956394, "answer_count": 5, "score": 2, "last_activity_date": 1430355957, "creation_date": 1430349926, "question_id": 29956381, "link": "https://stackoverflow.com/questions/29956381/iterate-through-an-iterable-how-to-obtain-previous-and-next-value-using-next", "title": "Iterate through an iterable, how to obtain previous and next value using next()?", "body": "<pre><code>def f(iterable):\n    i = iter(iterable)\n    int_list = []\n    n2 = next(i)\n    while True:\n        n1, n2, n3 = n2, next(i), next(i)\n        print('n1', n1)\n        print('n2,', n2)\n        print('n3', n3)\n        if n2 &gt; n1 and n2&gt; n3:\n            int_list.append(n2)\n    return int_list\n</code></pre>\n\n<p>In this case, the iterable is a list. I want to check if the integer is bigger than both the previous integer and next integer. However I can't figure out how to assign the proper values to check using the next() method</p>\n"}, {"tags": ["python", "arrays", "function", "numpy"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 1, "creation_date": 1430349254, "post_id": 29956196, "comment_id": 48033253, "body": "What would it mean for a dtype to be an arbitrary function? If one of the dtypes was <code>print</code> (using <code>from __future__ import print_function</code> to have that as a function), what would you expect to happen, and how would you interact with the resulting array?"}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 1, "creation_date": 1430349429, "post_id": 29956196, "comment_id": 48033317, "body": "Also, that&#39;s not a recarray."}, {"owner": {"reputation": 81, "user_id": 4848479, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6f50bf8be9dee3fd5e21d022eb9e126e?s=128&d=identicon&r=PG", "display_name": "fen", "link": "https://stackoverflow.com/users/4848479/fen"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1430351093, "post_id": 29956196, "comment_id": 48033815, "body": "In that case one would be able to access the <code>print</code> function via <code>arr.print</code> and for instance print &#39;foo&#39; to the screen via <code>arr.print(&#39;foo&#39;)</code> that is the only functionality I require here."}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1430351186, "post_id": 29956196, "comment_id": 48033842, "body": "I don&#39;t see why you&#39;d want to use a recarray for that."}, {"owner": {"reputation": 81, "user_id": 4848479, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6f50bf8be9dee3fd5e21d022eb9e126e?s=128&d=identicon&r=PG", "display_name": "fen", "link": "https://stackoverflow.com/users/4848479/fen"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1430351678, "post_id": 29956196, "comment_id": 48033980, "body": "I agree it doesn&#39;t seem very logical. In short I have some code that I am trying to modify to suit my needs. Unfortunately the last coder seemed to like <code>np.recarray</code> (or whatever these constructs are)... a lot and it just so happens that if I can get this functionality using <code>np.recarray</code> it will save me re writing a lot of code..."}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1430352021, "post_id": 29956196, "comment_id": 48034084, "body": "You&#39;d need <code>arr.view(np.recarray)</code>, not <code>np.view(np.recarray)</code>, to get a recarray out of that. (I stupidly overlooked that line the first time I read the question.) Anyway, while you could specify <code>object</code> instead of <code>np.float</code>, that wouldn&#39;t do what you want; <code>arr.alpha</code> or <code>arr.beta</code> would produce a 0-dimensional array containing the function, rather than the actual function. (The same thing happens with float dtypes.)"}, {"owner": {"reputation": 81, "user_id": 4848479, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6f50bf8be9dee3fd5e21d022eb9e126e?s=128&d=identicon&r=PG", "display_name": "fen", "link": "https://stackoverflow.com/users/4848479/fen"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1430353143, "post_id": 29956196, "comment_id": 48034426, "body": "Ah thanks for the catch. I think an array containing the function will suffice for now. Thanks for your help!"}], "answers": [{"tags": [], "owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "is_accepted": false, "score": 0, "last_activity_date": 1430351392, "creation_date": 1430351392, "answer_id": 29956616, "question_id": 29956196, "link": "https://stackoverflow.com/questions/29956196/how-do-i-create-a-numpy-recarray-of-arbitrary-functions/29956616#29956616", "title": "How do I create a numpy recarray of arbitrary functions?", "body": "<p>From the clarification in the comments, this doesn't sound like a job for a recarray. In Python 3, you'd want <a href=\"https://docs.python.org/3/library/types.html#types.SimpleNamespace\" rel=\"nofollow\"><code>types.SimpleNamespace</code></a>; in Python 2, you could implement it yourself pretty easily:</p>\n\n<pre><code>class Namespace(object):\n    def __init__(self, **kwargs):\n        self.__dict__.update(kwargs)\n\nnamespace = Namespace(func1=print, func2=len, func3=sum)\n\nnamespace.func1(namespace.func2([1, 2])) # prints 2\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1430352293, "post_id": 29956698, "comment_id": 48034156, "body": "&quot;It seems to be necessary to create the empty array first, then fill in the fields with the functions.&quot; - that&#39;s probably related to the fact that you&#39;re creating a 1-dimensional array of length 1, while the original code seems to create a 0-dimensional array."}, {"owner": {"reputation": 62045, "user_id": 1461210, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fa93b9461ed24899945403cae69e02ee?s=128&d=identicon&r=PG", "display_name": "ali_m", "link": "https://stackoverflow.com/users/1461210/ali-m"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1430352596, "post_id": 29956698, "comment_id": 48034267, "body": "@user2357112 Yes, it&#39;s actually necessary to create a 1-dimensional array in order to call the function (see my update)"}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 1, "creation_date": 1430352680, "post_id": 29956698, "comment_id": 48034283, "body": "Not quite; you can get the same effect with a 0-dimensional array and <code>arr.alpha[()]</code> or <code>arr.alpha[...]</code> instead of <code>arr.alpha[0]</code>."}, {"owner": {"reputation": 62045, "user_id": 1461210, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fa93b9461ed24899945403cae69e02ee?s=128&d=identicon&r=PG", "display_name": "ali_m", "link": "https://stackoverflow.com/users/1461210/ali-m"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1430353214, "post_id": 29956698, "comment_id": 48034453, "body": "Good point, although <code>arr2.alpha[...]</code> does not work, since it also returns an array rather than the function it contains"}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1430353381, "post_id": 29956698, "comment_id": 48034497, "body": "What the - I could have sworn <code>[...]</code> was supposed to do the conversion, but it looks like only <code>[()]</code> does the job. I remember trying <code>[...]</code> and having it work before."}, {"owner": {"reputation": 81, "user_id": 4848479, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6f50bf8be9dee3fd5e21d022eb9e126e?s=128&d=identicon&r=PG", "display_name": "fen", "link": "https://stackoverflow.com/users/4848479/fen"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1430353463, "post_id": 29956698, "comment_id": 48034528, "body": "This does the job thanks very much and also for the catches. See my dialogue with @user2357112 above as to why I need to use <code>np.recarray</code>"}, {"owner": {"reputation": 62045, "user_id": 1461210, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fa93b9461ed24899945403cae69e02ee?s=128&d=identicon&r=PG", "display_name": "ali_m", "link": "https://stackoverflow.com/users/1461210/ali-m"}, "reply_to_user": {"reputation": 81, "user_id": 4848479, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6f50bf8be9dee3fd5e21d022eb9e126e?s=128&d=identicon&r=PG", "display_name": "fen", "link": "https://stackoverflow.com/users/4848479/fen"}, "edited": false, "score": 0, "creation_date": 1430354280, "post_id": 29956698, "comment_id": 48034728, "body": "@fen OK, but I still find it hard to believe that putting functions inside recarrays is what you really want to do. Is your goal, by any chance, just to have <code>object.name()</code> syntax? If so then it would be trivial to write a Python class that will serve your needs."}, {"owner": {"reputation": 81, "user_id": 4848479, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6f50bf8be9dee3fd5e21d022eb9e126e?s=128&d=identicon&r=PG", "display_name": "fen", "link": "https://stackoverflow.com/users/4848479/fen"}, "edited": false, "score": 0, "creation_date": 1430355060, "post_id": 29956698, "comment_id": 48034941, "body": "@ali_m Now I have a quick solution I&#39;ll stick with that for this particular project but if you&#39;re willing to offer some advice here on writing a class to provide the <code>object.name()</code> syntax then feel free I&#39;d be very interested to learn."}, {"owner": {"reputation": 62045, "user_id": 1461210, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fa93b9461ed24899945403cae69e02ee?s=128&d=identicon&r=PG", "display_name": "ali_m", "link": "https://stackoverflow.com/users/1461210/ali-m"}, "reply_to_user": {"reputation": 81, "user_id": 4848479, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6f50bf8be9dee3fd5e21d022eb9e126e?s=128&d=identicon&r=PG", "display_name": "fen", "link": "https://stackoverflow.com/users/4848479/fen"}, "edited": false, "score": 0, "creation_date": 1430356344, "post_id": 29956698, "comment_id": 48035324, "body": "@fen SO isn&#39;t really the right place for extended guides/tutorials, but there are lots of them available if you Google something like &quot;object oriented Python&quot;. <a href=\"http://www.jeffknupp.com/blog/2014/06/18/improve-your-python-python-classes-and-object-oriented-programming/\" rel=\"nofollow noreferrer\">Here&#39;s one which looks fairly decent</a>."}], "tags": [], "owner": {"reputation": 62045, "user_id": 1461210, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fa93b9461ed24899945403cae69e02ee?s=128&d=identicon&r=PG", "display_name": "ali_m", "link": "https://stackoverflow.com/users/1461210/ali-m"}, "is_accepted": false, "score": 1, "last_activity_date": 1430353617, "last_edit_date": 1430353617, "creation_date": 1430351902, "answer_id": 29956698, "question_id": 29956196, "link": "https://stackoverflow.com/questions/29956196/how-do-i-create-a-numpy-recarray-of-arbitrary-functions/29956698#29956698", "title": "How do I create a numpy recarray of arbitrary functions?", "body": "<p>The <code>np.object</code> dtype can contain any Python object, including functions.</p>\n\n<p>For example:</p>\n\n<pre><code>import numpy as np\n\nlmb = lambda: \"help, I'm trapped in an array!\"\narr = np.array([(max, lmb)], dtype=[('alpha', np.object), ('beta', np.object)])\narr = arr.view(np.recarray)\n\nprint(repr(arr))\n# array([(&lt;built-in function max&gt;, &lt;function &lt;lambda&gt; at 0x63992a8&gt;)], \n#       dtype=[('alpha', 'O'), ('beta', 'O')]).view(numpy.recarray)\n\nprint(arr.alpha[0](1, 2))\n# 2\n\nprint(arr.beta[0]())\n# help, I'm trapped in an array!\n</code></pre>\n\n<p>The extra set of square brackets around the tuple of functions was added in order to force the array to be one-dimensional, which allows you to index the first row in order to access the functions it contains.</p>\n\n<p>It's a bit more awkward to access the functions if you allow the array to be 0-dimensional, but it's still possible, as user2357112 pointed out in the comments below:</p>\n\n<pre><code>arr2 = np.array((max, lmb), dtype=[('alpha', np.object), ('beta', np.object)])\narr2 = arr2.view(np.recarray)\n\nprint(repr(arr2))\n# array((&lt;built-in function max&gt;, &lt;function &lt;lambda&gt; at 0x63995f0&gt;), \n#       dtype=[('alpha', 'O'), ('beta', 'O')]).view(numpy.recarray)\n\nprint(repr(arr2['alpha']))\n# array(&lt;built-in function max&gt;, dtype=object)\n\n# we can't access the function without any indexing, because `arr2['alpha']` \n# is still an ndarray containing a function, rather than a plain function,\n# and arrays have no `.__call__()` method:\n\narr2.alpha(1, 2)\n# ---------------------------------------------------------------------------\n# TypeError                                 Traceback (most recent call last)\n# &lt;ipython-input-100-dc1bd6446de4&gt; in &lt;module&gt;()\n# ----&gt; 1 arr2['alpha'](1, 2)\n\n# TypeError: 'numpy.ndarray' object is not callable\n\n# it is possible to access the function by indexing with an empty tuple\nprint(arr2.alpha[()](1, 2))\n# 2\n</code></pre>\n\n<p>There were a couple of other syntax issues in your example that I've fixed here. </p>\n\n<ul>\n<li><p>Your <code>dtype=</code> argument should contain a separate <code>(name, dtype)</code> tuple for each field, rather than a single long tuple. </p></li>\n<li><p><code>.view</code> is a method of an ndarray, not a standalone function.</p></li>\n</ul>\n\n<p>I do have to ask why you want to do this, though. A simple <code>dict</code> seems like a much more appropriate data structure.</p>\n"}], "owner": {"reputation": 81, "user_id": 4848479, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6f50bf8be9dee3fd5e21d022eb9e126e?s=128&d=identicon&r=PG", "display_name": "fen", "link": "https://stackoverflow.com/users/4848479/fen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 207, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1430353617, "creation_date": 1430348975, "question_id": 29956196, "link": "https://stackoverflow.com/questions/29956196/how-do-i-create-a-numpy-recarray-of-arbitrary-functions", "title": "How do I create a numpy recarray of arbitrary functions?", "body": "<p>I am creating a <code>numpy.recarray</code> as follows:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>import numpy as np\n\narr = np.array((1., 2.), dtype = [('alpha', np.float, 'beta', np.float)])\narr = np.view(np.recarray)\n</code></pre>\n\n<p>How would I do this if instead of <code>np.floats</code> <code>alpha</code> and <code>beta</code> referred to arbitrary functions?</p>\n"}, {"tags": ["python", "syntax"], "comments": [{"owner": {"reputation": 21133, "user_id": 1084416, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RLhZZ.jpg?s=128&g=1", "display_name": "Peter Wood", "link": "https://stackoverflow.com/users/1084416/peter-wood"}, "edited": false, "score": 1, "creation_date": 1430348974, "post_id": 29956181, "comment_id": 48033144, "body": "Why do you need to achieve this?"}, {"owner": {"reputation": 9289, "user_id": 2572431, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/2ad85f81981e5365a21d94114f3926b2?s=128&d=identicon&r=PG", "display_name": "augurar", "link": "https://stackoverflow.com/users/2572431/augurar"}, "edited": false, "score": 4, "creation_date": 1430349054, "post_id": 29956181, "comment_id": 48033169, "body": "Specifically, why don&#39;t you just use two statements?  What possible reason is there to want to do this in one line?"}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 2, "creation_date": 1430349082, "post_id": 29956181, "comment_id": 48033182, "body": "&quot;I don&#39;t want to use it in two lines&quot; - why not? Sticking the assignment inside the print is a lot more error-prone and less reasonable, which is why Python doesn&#39;t let you do it."}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1430349123, "post_id": 29956181, "comment_id": 48033197, "body": "you cannot put the assignment inside the print so the why is pretty much irrelevant"}, {"owner": {"reputation": 13, "user_id": 4848506, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/--Gg6olK0fVU/AAAAAAAAAAI/AAAAAAAAAAA/poI1okGQT1I/photo.jpg?sz=128", "display_name": "Stefanos Z", "link": "https://stackoverflow.com/users/4848506/stefanos-z"}, "edited": false, "score": 0, "creation_date": 1430349385, "post_id": 29956181, "comment_id": 48033302, "body": "thanks everyone for the VERY prompt answers! didn&#39;t expect that. Basically that was a question of one of my students, and I assume she wanted to write efficient code."}, {"owner": {"reputation": 42073, "user_id": 113632, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/f0aa6977c75f54ca9033d4f4d0244023?s=128&d=identicon&r=PG", "display_name": "dimo414", "link": "https://stackoverflow.com/users/113632/dimo414"}, "edited": false, "score": 2, "creation_date": 1430349684, "post_id": 29956181, "comment_id": 48033379, "body": "What gave you, or your student, the impression that a) this syntax would assign the input to <code>name</code> or b) be more efficient than simply using two lines?  The number of lines has nothing to do with the efficiency of the program."}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1430349756, "post_id": 29956181, "comment_id": 48033400, "body": "perhaps he misspoke and meant DRY (which having 2 lines does not prevent in any way :) )"}, {"owner": {"reputation": 13, "user_id": 4848506, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/--Gg6olK0fVU/AAAAAAAAAAI/AAAAAAAAAAA/poI1okGQT1I/photo.jpg?sz=128", "display_name": "Stefanos Z", "link": "https://stackoverflow.com/users/4848506/stefanos-z"}, "edited": false, "score": 0, "creation_date": 1430350048, "post_id": 29956181, "comment_id": 48033491, "body": "We are both new in the field, and she insisted of knowing a way to actually complete this in one line. I thought, well maybe there is a way and simply I don&#39;t know it. So I researched, found nothing, and here I am..Thanks again!"}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 1, "creation_date": 1430350439, "post_id": 29956181, "comment_id": 48033620, "body": "in some languages an assignment does return a value (usually the right side of the = ) .... however python does not...."}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 4848506, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/--Gg6olK0fVU/AAAAAAAAAAI/AAAAAAAAAAA/poI1okGQT1I/photo.jpg?sz=128", "display_name": "Stefanos Z", "link": "https://stackoverflow.com/users/4848506/stefanos-z"}, "edited": false, "score": 0, "creation_date": 1430349708, "post_id": 29956200, "comment_id": 48033384, "body": "sorry Joran, I am not sure if i gave you the -1 vote? im a total newbie in stackoverflow (posting side of things) but have researched through it many times! the system says I can only vote after 9 min."}, {"owner": {"reputation": 24179, "user_id": 1672429, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/0815eb7d4e9dd58022d51ba2011b9c0a?s=128&d=identicon&r=PG", "display_name": "Stefan Pochmann", "link": "https://stackoverflow.com/users/1672429/stefan-pochmann"}, "edited": false, "score": 0, "creation_date": 1430353616, "post_id": 29956200, "comment_id": 48034564, "body": "No need for the second semicolon and the string formatting, just say <code>print(&quot;blah&quot;, x)</code>."}], "tags": [], "owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "is_accepted": false, "score": 1, "last_activity_date": 1430349007, "creation_date": 1430349007, "answer_id": 29956200, "question_id": 29956181, "link": "https://stackoverflow.com/questions/29956181/how-to-define-a-variable-inside-the-print-function/29956200#29956200", "title": "How to define a variable inside the print function?", "body": "<p><strong>no this is not possible</strong>. well except something like</p>\n\n<pre><code> x=input(\"tell me:\");print(\"blah %s\"%(x,));\n</code></pre>\n\n<p>but thats not really one line ... it just looks like it</p>\n"}, {"comments": [{"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1430349200, "post_id": 29956233, "comment_id": 48033226, "body": "while this is correct Im not sure it answers the question of the OP ... +1 all the same because its correct"}, {"owner": {"user_type": "does_not_exist", "display_name": "user2124834"}, "reply_to_user": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1430349249, "post_id": 29956233, "comment_id": 48033248, "body": "Well, the only other thing I can mention is that it can&#39;t be done in one statement."}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 1, "creation_date": 1430349399, "post_id": 29956233, "comment_id": 48033307, "body": "and that is the OP&#39;s question ... he clearly indicates in the question he knows he can do it as two statements(and correctly you advise him to), but his question was &quot;can I do this thing?&quot; the answer is no (note I still upvoted you because I clearly agree with you)"}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1430349796, "post_id": 29956233, "comment_id": 48033410, "body": "amazed at how many more upvotes this has gotten than my solution (its a good solution I agree :) )"}, {"owner": {"reputation": 9289, "user_id": 2572431, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/2ad85f81981e5365a21d94114f3926b2?s=128&d=identicon&r=PG", "display_name": "augurar", "link": "https://stackoverflow.com/users/2572431/augurar"}, "reply_to_user": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1430350242, "post_id": 29956233, "comment_id": 48033555, "body": "@JoranBeasley Your answers are both correct, but Marein&#39;s is more instructive."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user2124834"}, "is_accepted": true, "score": 8, "last_activity_date": 1537877884, "last_edit_date": 1537877884, "creation_date": 1430349162, "answer_id": 29956233, "question_id": 29956181, "link": "https://stackoverflow.com/questions/29956181/how-to-define-a-variable-inside-the-print-function/29956233#29956233", "title": "How to define a variable inside the print function?", "body": "<p>Starting from Python 3.8, this will become possible using an <a href=\"https://www.python.org/dev/peps/pep-0572/\" rel=\"nofollow noreferrer\">assignment expression</a>:</p>\n\n<pre><code>print(\"Your name is: \" + (name := input(\"Tell me your name: \")))\nprint(\"Your name is still: \" + name)\n</code></pre>\n\n<p>Though 'possible' is not the same as 'advisable'...</p>\n\n<hr>\n\n<p>But in Python &lt;3.8: you can't. Instead, separate your code into two statements:</p>\n\n<pre><code>name = input(\"Tell me your name: \")\nprint(\"Your name is: \" + name)\n</code></pre>\n\n<p>If you often find yourself wanting to use two lines like this, you could make it into a function:</p>\n\n<pre><code>def input_and_print(question):\n  s = input(\"{} \".format(question))\n  print(\"You entered: {}\".format(s))\n\ninput_and_print(\"What is your name?\")\n</code></pre>\n\n<p>Additionally you could have the function return the input <code>s</code>.</p>\n"}], "owner": {"reputation": 13, "user_id": 4848506, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/--Gg6olK0fVU/AAAAAAAAAAI/AAAAAAAAAAA/poI1okGQT1I/photo.jpg?sz=128", "display_name": "Stefanos Z", "link": "https://stackoverflow.com/users/4848506/stefanos-z"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 332, "favorite_count": 0, "accepted_answer_id": 29956233, "answer_count": 2, "score": 1, "last_activity_date": 1537877884, "creation_date": 1430348913, "last_edit_date": 1430350717, "question_id": 29956181, "link": "https://stackoverflow.com/questions/29956181/how-to-define-a-variable-inside-the-print-function", "title": "How to define a variable inside the print function?", "body": "<p>I am a newbie in this field, and I am trying to solve a problem (not really sure if it is possible actually) where I want to print on the display some information plus some input from the user.</p>\n\n<p>The following works fine:</p>\n\n<pre><code>&gt;&gt;&gt; print (\" Hello \" + input(\"tellmeyourname: \"))\ntellmeyourname: dfsdf\n Hello dfsdf\n</code></pre>\n\n<p>However if I want to assign user's input to a variable, I can't:</p>\n\n<pre><code>&gt;&gt;&gt; print (\" Hello \", name = input(\"tellmeyourname: \"))\ntellmeyourname: mike\nTraceback (most recent call last):\n  File \"&lt;pyshell#47&gt;\", line 1, in &lt;module&gt;\n    print (\" Hello \", name = input(\"tellmeyourname: \"))\nTypeError: 'name' is an invalid keyword argument for this function\n</code></pre>\n\n<p>I have researched inside here and other python documentation, tried with <code>%s</code> etc. to solve, without result. I don't want to use it in two lines (first assigning the variable <code>name= input(\"tellmeyourname:\")</code> and then printing). \nIs this possible?</p>\n"}, {"tags": ["python", "django", "web", "backend"], "comments": [{"owner": {"reputation": 86856, "user_id": 1628832, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/090ce0cca74f8cc6766366460b956a0f?s=128&d=identicon&r=PG&f=1", "display_name": "karthikr", "link": "https://stackoverflow.com/users/1628832/karthikr"}, "edited": false, "score": 0, "creation_date": 1430349846, "post_id": 29956163, "comment_id": 48033428, "body": "Did you add the <code>null=True</code> <i>after</i> a migration ?"}, {"owner": {"reputation": 1424, "user_id": 1306336, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/e187V.jpg?s=128&g=1", "display_name": "onyeka", "link": "https://stackoverflow.com/users/1306336/onyeka"}, "edited": false, "score": 0, "creation_date": 1430350534, "post_id": 29956163, "comment_id": 48033644, "body": "In the form, the field is called &#39;key_word&#39; but in the model it&#39;s called &#39;word_serach&#39;. Why?"}, {"owner": {"reputation": 741, "user_id": 1340048, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/045f608e4bba11dd4686ed0d039fc3d7?s=128&d=identicon&r=PG", "display_name": "GreatGather", "link": "https://stackoverflow.com/users/1340048/greatgather"}, "reply_to_user": {"reputation": 1424, "user_id": 1306336, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/e187V.jpg?s=128&g=1", "display_name": "onyeka", "link": "https://stackoverflow.com/users/1306336/onyeka"}, "edited": false, "score": 0, "creation_date": 1430359528, "post_id": 29956163, "comment_id": 48036241, "body": "@onyeka yes I have changed this. The problem persists."}, {"owner": {"reputation": 741, "user_id": 1340048, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/045f608e4bba11dd4686ed0d039fc3d7?s=128&d=identicon&r=PG", "display_name": "GreatGather", "link": "https://stackoverflow.com/users/1340048/greatgather"}, "reply_to_user": {"reputation": 86856, "user_id": 1628832, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/090ce0cca74f8cc6766366460b956a0f?s=128&d=identicon&r=PG&f=1", "display_name": "karthikr", "link": "https://stackoverflow.com/users/1628832/karthikr"}, "edited": false, "score": 0, "creation_date": 1430359563, "post_id": 29956163, "comment_id": 48036253, "body": "@karthikr I have done migrations after and the change is reflected in my migration files"}], "answers": [{"comments": [{"owner": {"reputation": 741, "user_id": 1340048, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/045f608e4bba11dd4686ed0d039fc3d7?s=128&d=identicon&r=PG", "display_name": "GreatGather", "link": "https://stackoverflow.com/users/1340048/greatgather"}, "edited": false, "score": 0, "creation_date": 1430354542, "post_id": 29956210, "comment_id": 48034795, "body": "Thanks @Othman for the response! I tried what you had said and the problem persists. I have added an image of what is showing up"}], "tags": [], "owner": {"reputation": 2752, "user_id": 1400353, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/4cd4ee3e568a3c800702be035491231a?s=128&d=identicon&r=PG&f=1", "display_name": "Othman", "link": "https://stackoverflow.com/users/1400353/othman"}, "is_accepted": false, "score": 0, "last_activity_date": 1430349043, "creation_date": 1430349043, "answer_id": 29956210, "question_id": 29956163, "link": "https://stackoverflow.com/questions/29956163/django-textfield-always-is-required-despite-blank-true-null-true/29956210#29956210", "title": "Django TextField always is required, despite blank=True,Null=True", "body": "<p>Try this way. </p>\n\n<pre><code>  def __init__(self, *args, **kwargs):\n      super(IAVForm, self).__init__(*args, **kwargs)\n      self.fields[\"key_word\"].required = False\n</code></pre>\n\n<p>Also I noticed that <code>key_word</code> is not in your model fields!</p>\n"}, {"comments": [{"owner": {"reputation": 2591, "user_id": 4848774, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/DKYSZ.png?s=128&g=1", "display_name": "jape", "link": "https://stackoverflow.com/users/4848774/jape"}, "reply_to_user": {"reputation": 741, "user_id": 1340048, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/045f608e4bba11dd4686ed0d039fc3d7?s=128&d=identicon&r=PG", "display_name": "GreatGather", "link": "https://stackoverflow.com/users/1340048/greatgather"}, "edited": false, "score": 0, "creation_date": 1430420965, "post_id": 29957875, "comment_id": 48071374, "body": "Glad to hear that. Best of luck!"}], "tags": [], "owner": {"reputation": 2591, "user_id": 4848774, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/DKYSZ.png?s=128&g=1", "display_name": "jape", "link": "https://stackoverflow.com/users/4848774/jape"}, "is_accepted": true, "score": 2, "last_activity_date": 1430360019, "creation_date": 1430360019, "answer_id": 29957875, "question_id": 29956163, "link": "https://stackoverflow.com/questions/29956163/django-textfield-always-is-required-despite-blank-true-null-true/29957875#29957875", "title": "Django TextField always is required, despite blank=True,Null=True", "body": "<p>Try this:</p>\n\n<pre><code>class IAVForm(forms.ModelForm):\n  z_score = forms.DecimalField(widget=forms.NumberInput(attrs={'class':'form-control','value':'0.0',}))\n  screens = forms.IntegerField(widget=forms.NumberInput(attrs={'class':'form-control','value':'0',}))\n  flu_proteins = forms.IntegerField(widget=forms.NumberInput(attrs={'class':'form-control','value':'0',}))\n  key_word = forms.CharField(required=False, widget=forms.Textarea(attrs={'class':'form-control','rows':1,'cols':10,'placeholder':'keword values'}))\n</code></pre>\n\n<p>To begin, you can just make the class <code>(forms.ModelForm).</code> Additionally, you had <code>required=False</code> inside of quotes and as an attribute. Remove the quotes and put it before the attributes of the widget. </p>\n\n<p>See if that works.</p>\n"}, {"comments": [{"owner": {"reputation": 1617, "user_id": 734366, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/Gxk2D.jpg?s=128&g=1", "display_name": "DigitalDouble", "link": "https://stackoverflow.com/users/734366/digitaldouble"}, "edited": false, "score": 0, "creation_date": 1430363533, "post_id": 29958227, "comment_id": 48037326, "body": "Or probably set it to <code>required=&quot;required&quot;</code> as it&#39;s another way to do it as per the links?"}], "tags": [], "owner": {"reputation": 1424, "user_id": 1306336, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/e187V.jpg?s=128&g=1", "display_name": "onyeka", "link": "https://stackoverflow.com/users/1306336/onyeka"}, "is_accepted": false, "score": 0, "last_activity_date": 1430362887, "last_edit_date": 1430362887, "creation_date": 1430362574, "answer_id": 29958227, "question_id": 29956163, "link": "https://stackoverflow.com/questions/29956163/django-textfield-always-is-required-despite-blank-true-null-true/29958227#29958227", "title": "Django TextField always is required, despite blank=True,Null=True", "body": "<p>Try removing the required property completely from the field attributes. <code>Required=\"True/False\"</code> is not valid. If you want to disable it you have to remove it completely, <a href=\"http://www.w3.org/html/wg/drafts/html/master/infrastructure.html#boolean-attribute\" rel=\"nofollow\">per the W3C Specs</a> and <a href=\"http://blog.grayghostvisuals.com/html/using-html-required-attribute/\" rel=\"nofollow\">this article</a>.</p>\n"}], "owner": {"reputation": 741, "user_id": 1340048, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/045f608e4bba11dd4686ed0d039fc3d7?s=128&d=identicon&r=PG", "display_name": "GreatGather", "link": "https://stackoverflow.com/users/1340048/greatgather"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5283, "favorite_count": 1, "accepted_answer_id": 29957875, "answer_count": 3, "score": 5, "last_activity_date": 1430362887, "creation_date": 1430348785, "last_edit_date": 1430359651, "question_id": 29956163, "link": "https://stackoverflow.com/questions/29956163/django-textfield-always-is-required-despite-blank-true-null-true", "title": "Django TextField always is required, despite blank=True,Null=True", "body": "<p>I am having trouble with a field that seems to always want to be required despite my best wishes. My 'word_search' text field is always requesting data to be input but I have been trying to make sure the options allow for a blank.</p>\n\n<p>my model is this. You can see the blank=True,Null=True options</p>\n\n<pre><code>class IAV(models.Model):\n\n  z_score = models.DecimalField(max_digits = 4,decimal_places=4)\n  screens = models.IntegerField(default=0)\n  flu_proteins = models.IntegerField(default = 0)\n  Key_word = models.TextField(blank=True,null=True)\n  sess = models.ForeignKey(Sess_IAV,default=None)\n</code></pre>\n\n<p>my view is this</p>\n\n<pre><code>def new_IAV(request):\n\n  if request.method == \"POST\":\n    form = IAVForm(request.POST,request.FILES)\n    if form.is_valid():\n      sess_ = Sess_IAV.objects.create()\n      form.save(\n          for_page=sess_,\n          z_score = form.cleaned_data(\"z_score\"),\n          screens = form.cleaned_data(\"screens\"),\n          flu_proteins = form.cleaned_data(\"flu_proteins\"),\n          Key_word = form.cleaned_data(\"key_word\"),\n          )\n      return redirect(sess_)\n    else:\n      print(form.errors)\n  else:\n    url=reverse('IAV_home')\n    return HttpResponseRedirect(url)\n</code></pre>\n\n<p>My form is this. you can see the required=False attribute.</p>\n\n<pre><code>class IAVForm(forms.models.ModelForm):\n\n  z_score = forms.DecimalField(widget=forms.NumberInput(attrs={'class':'form-control','value':'0.0',}))\n\n  screens = forms.IntegerField(widget=forms.NumberInput(attrs={'class':'form-control','value':'0',}))\n\n  flu_proteins = forms.IntegerField(widget=forms.NumberInput(attrs={'class':'form-control','value':'0',}))\n\n  key_word = forms.CharField(widget=forms.Textarea(attrs={'class':'form-control','rows':1,'cols':10,'placeholder':'keword values','required':'False'}))\n\n\n  class Meta:\n    model=IAV\n    fields=('z_score','screens','flu_proteins','key_word')\n\n  def save(self,for_page,z_score,screens,flu_proteins,key_word):\n    self.instance.sess = for_page\n    self.instance.z_score = z_score\n    self.instance.screens = screens\n    self.instance.flu_proteins = flu_proteins\n    self.instance.key_word = key_word\n    return super().save()\n</code></pre>\n\n<p>I am not sure how this field is not allowed to be left blank considering the model has the 'blank=True, null=True' options present.</p>\n\n<p>Also the widget says that it isn't reqired.</p>\n\n<p><img src=\"https://i.stack.imgur.com/nz9vM.png\" alt=\"This is what shows up\"></p>\n"}, {"tags": ["python", "out-of-memory", "fits", "astropy", "pyfits"], "comments": [{"owner": {"reputation": 15415, "user_id": 982257, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/pRf2i.jpg?s=128&g=1", "display_name": "Iguananaut", "link": "https://stackoverflow.com/users/982257/iguananaut"}, "edited": false, "score": 0, "creation_date": 1430425977, "post_id": 29956136, "comment_id": 48074081, "body": "I think you mean <code>memmap=True</code>--there is no &quot;memmapper&quot; option."}, {"owner": {"reputation": 15415, "user_id": 982257, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/pRf2i.jpg?s=128&g=1", "display_name": "Iguananaut", "link": "https://stackoverflow.com/users/982257/iguananaut"}, "edited": false, "score": 0, "creation_date": 1430426017, "post_id": 29956136, "comment_id": 48074110, "body": "Could you post just the header of the FITS file?  That usually contains all the most useful information for debugging issues like this.  Am I correct to guess you&#39;re on Windows?"}], "answers": [{"tags": [], "owner": {"reputation": 214, "user_id": 3818411, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/43e0bc51f334775114307767ff81c781?s=128&d=identicon&r=PG&f=1", "display_name": "Snyder005", "link": "https://stackoverflow.com/users/3818411/snyder005"}, "is_accepted": false, "score": 2, "last_activity_date": 1430515767, "creation_date": 1430515767, "answer_id": 29995424, "question_id": 29956136, "link": "https://stackoverflow.com/questions/29956136/cannot-read-a-large-fits-file-using-astropy-io-fits/29995424#29995424", "title": "Cannot read a large FITS file using Astropy.io.fits", "body": "<p>Discovered what went wrong.  I tried to open the FITS file with fitsio and then read row by row.  However the program ran for awhile, then threw an IOError.  I found that one of the rows of the file was corrupted, and that was what was causing the inability of astropy.io.fits to read the file without throwing an error.  I am unsure of exactly how the row became corrupted, or exactly what was wrong with it, I simply downloaded a second copy of the FITS file and that fixed the problem.</p>\n"}], "owner": {"reputation": 214, "user_id": 3818411, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/43e0bc51f334775114307767ff81c781?s=128&d=identicon&r=PG&f=1", "display_name": "Snyder005", "link": "https://stackoverflow.com/users/3818411/snyder005"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 526, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1430515767, "creation_date": 1430348637, "question_id": 29956136, "link": "https://stackoverflow.com/questions/29956136/cannot-read-a-large-fits-file-using-astropy-io-fits", "title": "Cannot read a large FITS file using Astropy.io.fits", "body": "<p>I am currently attempting to read data from a large data FITS format data file using astropy.io.fits for Python 3.4.  While I can successfully open the file using the memmapper mode, I cannot access the data within the file.  Here is my code</p>\n\n<pre><code>from astropy.io import fits\n\nhdu_list = fits.open('large_file.fit', memmapper=True)\ntable = hdu_list[1].data\n</code></pre>\n\n<p>On the second line <code>table = hdu_list[1].data</code> I then get <code>OSError: [WinError 8] Not enough storage is available to process this command</code></p>\n\n<p>My thinking is that when assigning the data to the variable <code>table</code>, the attempt is made to read the entire file, causing the storage error.  Is there any work around, or a method to simply read in each line of the table data at a time?</p>\n"}, {"tags": ["python", "wxpython"], "answers": [{"comments": [{"owner": {"reputation": 781, "user_id": 4696214, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/bea909dd9b61ea4c4f79192fb97d3f1f?s=128&d=identicon&r=PG&f=1", "display_name": "ohbrobig", "link": "https://stackoverflow.com/users/4696214/ohbrobig"}, "edited": false, "score": 0, "creation_date": 1430424416, "post_id": 29960386, "comment_id": 48073235, "body": "Excellent. Thank you. I made a small error with the &quot;InsertImageItem&quot;. Anyways, do you know how I can lock the size of the listctrl so its a set size?"}], "tags": [], "owner": {"reputation": 792, "user_id": 3682813, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/294aae46238246e98c4b51e4c6f8539a?s=128&d=identicon&r=PG&f=1", "display_name": "Deepa", "link": "https://stackoverflow.com/users/3682813/deepa"}, "is_accepted": true, "score": 1, "last_activity_date": 1430374858, "creation_date": 1430374858, "answer_id": 29960386, "question_id": 29956131, "link": "https://stackoverflow.com/questions/29956131/wxpython-listctrl-one-column-with-images-and-one-with-a-string/29960386#29960386", "title": "WxPython ListCtrl: One Column with Images and One with a String", "body": "<p>I get an error running your code.</p>\n\n<p>But anyways, I can't explain why, but maybe I think you can resolve it by changing <code>wx.IMAGE_LIST_NORMAL</code> to <code>wx.IMAGE_LIST_SMALL</code></p>\n\n<p>Here is a simple code that I tried and worked for me.</p>\n\n<pre><code>import wx\n\nclass MyFrame(wx.Frame):\n    def __init__(self, parent, id, title):\n        wx.Frame.__init__(self, parent, id, title,size=(250, 250))\n        panel = wx.Panel(self, -1)\n        panel.SetBackgroundColour('white')\n        self.browserList=wx.ListCtrl(panel, pos=(20,150), size=(250,100),style = wx.LC_REPORT|wx.BORDER_SUNKEN)\n        self.browserList.InsertColumn(0, '', width=50)\n        self.browserList.InsertColumn(1, 'Browser: ', width=200)\n\n        self.list=wx.ImageList(40,40)\n        self.browserList.SetImageList(self.list, wx.IMAGE_LIST_SMALL)\n        images=['mozilla.png','chrome.png']\n        x=0\n        for i in images:\n            img=wx.Image(i, wx.BITMAP_TYPE_ANY)\n            img=wx.BitmapFromImage(img)\n            browserimg=self.list.Add(img)\n        self.browserList.InsertImageItem(x, 0)\n        self.browserList.InsertImageItem(x, 1)\n\n        self.browserList.SetStringItem(0, 1, \"Mozilla Firefox\")\n        self.browserList.SetStringItem(1, 1, \"Google Chrome\")\n\nclass MyApp(wx.App):\n     def OnInit(self):\n         frame = MyFrame(None, -1, 'frame')\n         frame.Show(True)\n         return True\n\napp = MyApp(0)\napp.MainLoop()\n</code></pre>\n\n<p>Hope that helps.</p>\n"}, {"tags": [], "owner": {"reputation": 645, "user_id": 4809031, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89362ff1bcef4e3e95d1263b98e40e26?s=128&d=identicon&r=PG", "display_name": "Robert", "link": "https://stackoverflow.com/users/4809031/robert"}, "is_accepted": false, "score": 0, "last_activity_date": 1499839550, "creation_date": 1499839550, "answer_id": 45049636, "question_id": 29956131, "link": "https://stackoverflow.com/questions/29956131/wxpython-listctrl-one-column-with-images-and-one-with-a-string/45049636#45049636", "title": "WxPython ListCtrl: One Column with Images and One with a String", "body": "<p>First, an update of Deepas answer to the new wxPython Phoenix:</p>\n\n<pre><code>import wx\n\nclass MyFrame(wx.Frame):\n    def __init__(self, parent, id, title):\n        wx.Frame.__init__(self, parent, id, title,size=(250, 250))\n        panel = wx.Panel(self, -1)\n        panel.SetBackgroundColour('white')\n        self.browserList=wx.ListCtrl(panel, pos=(20,150), size=(300,300),style = wx.LC_REPORT|wx.BORDER_SUNKEN)\n        self.browserList.InsertColumn(0, '', width=50)\n        self.browserList.InsertColumn(1, 'Browser: ', width=200)\n\n        self.list=wx.ImageList(100,100)\n        self.browserList.SetImageList(self.list, wx.IMAGE_LIST_SMALL)\n        images=['mozilla.png','chrome.png']\n        x=0\n        for i in images:\n            img=wx.Image(i, wx.BITMAP_TYPE_ANY)\n            img=wx.Bitmap(img)\n            browserimg=self.list.Add(img)\n        self.browserList.InsertItem(x, 0)\n        self.browserList.InsertItem(x, 1)\n\n        self.browserList.SetItem(0, 1, \"Mozilla Firefox\")\n        self.browserList.SetItem(1, 1, \"Google Chrome\")\n\nclass MyApp(wx.App):\n     def OnInit(self):\n         frame = MyFrame(None, -1, 'frame')\n         frame.Show(True)\n         return True\n\napp = MyApp(0)\napp.MainLoop()\n</code></pre>\n\n<p>Then a general comment. It seems wxPython is not reference counting the ImageList. So, the user created owning class has to store it or no images will be shown (since it is garbage collected I guess). That is, the line</p>\n\n<pre><code>self.list=wx.ImageList(100,100)\n</code></pre>\n\n<p><strong>can not</strong> be changed to</p>\n\n<pre><code>list=wx.ImageList(100,100)\n</code></pre>\n\n<p>Then on images will be shown.</p>\n"}], "owner": {"reputation": 781, "user_id": 4696214, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/bea909dd9b61ea4c4f79192fb97d3f1f?s=128&d=identicon&r=PG&f=1", "display_name": "ohbrobig", "link": "https://stackoverflow.com/users/4696214/ohbrobig"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1355, "favorite_count": 0, "accepted_answer_id": 29960386, "answer_count": 2, "score": 1, "last_activity_date": 1499839550, "creation_date": 1430348625, "question_id": 29956131, "link": "https://stackoverflow.com/questions/29956131/wxpython-listctrl-one-column-with-images-and-one-with-a-string", "title": "WxPython ListCtrl: One Column with Images and One with a String", "body": "<p>I am having this issue and have tried almost everything. I want one column with images and one with strings. I can get the strings, but not the images.</p>\n\n<p>Here is what I have:</p>\n\n<pre><code>self.browserList=wx.ListCtrl(panel, pos=(20,150), size=(250,100),   \nstyle.wx.LC_REPORT|wx.BORDER_SUNKEN)\nself.browserList.InsertColumn(0, '', width=50)\nself.browserList.InsertColumn(1, 'Browser: ', width=200)\n\nself.list=wx.ImageList(40,40)\nself.browserList.SetImageList(self.list, wx.IMAGE_LIST_NORMAL)\nimages=['Users/Default/Desktop/Project/firefoxlogo.png','Users/Default/Desktop/Project/chromelogo.png']\nx=0\nfor i in images:\n    img=wx.Image(i, wx.BITMAP_TYPE_ANY)\n    img=wx.BitmapFromImage(img)\n    browserimg=self.list.Add(img)\n    self.browserList.InsertImageItem(x, 0)\n    self.browserList.InsertImageItem(x, 0, browserimg)\n\nself.browserList.SetStringItem(0, 1, \"Mozilla Firefox\")\nself.browserList.SetStringItem(1, 1, \"Google Chrome\")\n</code></pre>\n"}, {"tags": ["python", "fftw"], "answers": [{"tags": [], "owner": {"reputation": 3, "user_id": 3079168, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0533b523653de791c3b0cf66bc78a8a8?s=128&d=identicon&r=PG&f=1", "display_name": "user35155", "link": "https://stackoverflow.com/users/3079168/user35155"}, "is_accepted": false, "score": 0, "last_activity_date": 1435186248, "last_edit_date": 1435186248, "creation_date": 1435181388, "answer_id": 31037409, "question_id": 29956128, "link": "https://stackoverflow.com/questions/29956128/failing-to-install-pyleargist/31037409#31037409", "title": "Failing to install pyleargist", "body": "<p>I passed the library and header paths to setup.py during build phase.</p>\n\n<pre><code>python setup.py build_ext -I/opt/local/include/ -L/usr/local/lib/\n</code></pre>\n\n<p>This was followed with</p>\n\n<pre><code>sudo python setup.py install\n</code></pre>\n\n<p>Hope this works out.</p>\n\n<p>Edit : I should have mentioned that I installed fftw3 using homebrew.</p>\n"}], "owner": {"reputation": 2441, "user_id": 1657827, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/cfcf610a7457b21157f4456b389fbca7?s=128&d=identicon&r=PG&f=1", "display_name": "VeilEclipse", "link": "https://stackoverflow.com/users/1657827/veileclipse"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1166, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1435186248, "creation_date": 1430348594, "last_edit_date": 1430371931, "question_id": 29956128, "link": "https://stackoverflow.com/questions/29956128/failing-to-install-pyleargist", "title": "Failing to install pyleargist", "body": "<p>I am trying to install <a href=\"https://pypi.python.org/pypi/pyleargist/2.0.5\" rel=\"nofollow noreferrer\">Pyleargist</a> in <code>MacOS 10.10</code> for global image descriptors to identify objects in an image. <code>Pyleargist</code> needs <a href=\"http://www.fftw.org/\" rel=\"nofollow noreferrer\">libfftw3</a>, I installed it using <code>fink</code> as can be seen here: <img src=\"https://i.stack.imgur.com/dtisH.png\" alt=\"Fink List screenshot\">.</p>\n\n<p>When I try to install <code>pyleargist</code>, it says <code>ld: library not found for -lfftw3f</code>. How do I fix it? Is there any other library for Global image descriptors?</p>\n"}, {"tags": ["python", "function", "functional-programming"], "comments": [{"owner": {"reputation": 2289, "user_id": 1664675, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/e9526be62369d44940cded06d9b1f7f8?s=128&d=identicon&r=PG", "display_name": "letsc", "link": "https://stackoverflow.com/users/1664675/letsc"}, "edited": false, "score": 1, "creation_date": 1430348498, "post_id": 29956084, "comment_id": 48032975, "body": "list reverse is <code>list[::-1]</code>"}, {"owner": {"reputation": 24609, "user_id": 1974224, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/rQQMq.png?s=128&g=1", "display_name": "Cristik", "link": "https://stackoverflow.com/users/1974224/cristik"}, "edited": false, "score": 0, "creation_date": 1430348500, "post_id": 29956084, "comment_id": 48032977, "body": "What&#39;s the <code>for z in range(y-1,-1,-1)</code> loop iterating on?"}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1430348666, "post_id": 29956084, "comment_id": 48033037, "body": "<code>list[::-1]</code> means you&#39;ve masked the built-in function <code>list()</code> with a reference to an object of type <code>list</code>."}], "answers": [{"comments": [{"owner": {"reputation": 571, "user_id": 4839945, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/8e34t.png?s=128&g=1", "display_name": "VlS", "link": "https://stackoverflow.com/users/4839945/vls"}, "edited": false, "score": 0, "creation_date": 1430349068, "post_id": 29956109, "comment_id": 48033175, "body": "Thank you @Kasra that&#39;s exactly how I wanted."}, {"owner": {"reputation": 94141, "user_id": 2867928, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/a8DM1.jpg?s=128&g=1", "display_name": "kasravnd", "link": "https://stackoverflow.com/users/2867928/kasravnd"}, "reply_to_user": {"reputation": 571, "user_id": 4839945, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/8e34t.png?s=128&g=1", "display_name": "VlS", "link": "https://stackoverflow.com/users/4839945/vls"}, "edited": false, "score": 0, "creation_date": 1430349235, "post_id": 29956109, "comment_id": 48033242, "body": "@VladimirS You&#39;re welcome , So what about accepting the answer ;)"}], "tags": [], "owner": {"reputation": 94141, "user_id": 2867928, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/a8DM1.jpg?s=128&g=1", "display_name": "kasravnd", "link": "https://stackoverflow.com/users/2867928/kasravnd"}, "is_accepted": true, "score": 4, "last_activity_date": 1430349256, "last_edit_date": 1430349256, "creation_date": 1430348501, "answer_id": 29956109, "question_id": 29956084, "link": "https://stackoverflow.com/questions/29956084/function-programming-in-python/29956109#29956109", "title": "Function programming in Python", "body": "<p>You can initial <code>r</code> as an empty list and append the elements to it and at last return the <code>r</code></p>\n\n<pre><code>def new_f(x):\n    y = len(x)\n    r=[]\n    for z in range(y-1,-1,-1):\n        r.append(x[z])\n    return r\n</code></pre>\n\n<p>But there are some elegant and more pythonic ways for reversing a list like reverse indexing :</p>\n\n<pre><code>the_list[::-1]\n</code></pre>\n\n<p>or built-in <a href=\"https://docs.python.org/2/library/functions.html#reversed\" rel=\"nofollow\"><code>reversed</code></a> function :</p>\n\n<pre><code>reversed(the_list)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 66, "user_id": 3776490, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd350a32d375aa03207e0fb156e221be?s=128&d=identicon&r=PG&f=1", "display_name": "hebrewduck", "link": "https://stackoverflow.com/users/3776490/hebrewduck"}, "is_accepted": false, "score": 3, "last_activity_date": 1430348563, "creation_date": 1430348563, "answer_id": 29956119, "question_id": 29956084, "link": "https://stackoverflow.com/questions/29956084/function-programming-in-python/29956119#29956119", "title": "Function programming in Python", "body": "<p>You can use Python's slicing operator to reverse a list.</p>\n\n<pre><code>def new_f(x):\n        return x[::-1]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 12710, "user_id": 2653390, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/ArNxx.jpg?s=128&g=1", "display_name": "Shashank", "link": "https://stackoverflow.com/users/2653390/shashank"}, "edited": false, "score": 0, "creation_date": 1430364450, "post_id": 29956162, "comment_id": 48037575, "body": "Hey, I think instead of <code>yield from reversed(x)</code> you can just do <code>return reversed(x)</code>. I mean it&#39;s the same exact thing, just shorter, and faster."}, {"owner": {"reputation": 394, "user_id": 4794989, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kl1aC.jpg?s=128&g=1", "display_name": "Alireza Bashiri", "link": "https://stackoverflow.com/users/4794989/alireza-bashiri"}, "edited": false, "score": 0, "creation_date": 1430379378, "post_id": 29956162, "comment_id": 48043775, "body": "oh, yes. It&#39;s returns list_reverseiterator empty instance but yield returns a generator empty instance, that&#39;s the only difference :D"}], "tags": [], "owner": {"reputation": 394, "user_id": 4794989, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kl1aC.jpg?s=128&g=1", "display_name": "Alireza Bashiri", "link": "https://stackoverflow.com/users/4794989/alireza-bashiri"}, "is_accepted": false, "score": 1, "last_activity_date": 1438884543, "last_edit_date": 1438884543, "creation_date": 1430348782, "answer_id": 29956162, "question_id": 29956084, "link": "https://stackoverflow.com/questions/29956084/function-programming-in-python/29956162#29956162", "title": "Function programming in Python", "body": "<p>Maybe you'd find them useful:</p>\n\n<pre><code>def reverse_list(x):\n    return x.reverse()\n\ndef reverse_list(x):\n    return x[::-1]\n\ndef reverse_list(x):\n    yield from reversed[x]\n</code></pre>\n"}], "owner": {"reputation": 571, "user_id": 4839945, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/8e34t.png?s=128&g=1", "display_name": "VlS", "link": "https://stackoverflow.com/users/4839945/vls"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 91, "favorite_count": 0, "accepted_answer_id": 29956109, "answer_count": 3, "score": 2, "last_activity_date": 1438884543, "creation_date": 1430348361, "question_id": 29956084, "link": "https://stackoverflow.com/questions/29956084/function-programming-in-python", "title": "Function programming in Python", "body": "<p>I'm trying to define a new function called <code>new_f</code>, just for practice:<br/>\nThe purpose of function is:<br/></p>\n\n<pre><code>x = ['1', '2', '3', '4']\ny = new_f(x)\nprint(y)\n</code></pre>\n\n<p>And that should give:</p>\n\n<pre><code>['4', '3', '2', '1']\n</code></pre>\n\n<p>So it's a reverse of x. <br/> I tried something like this:</p>\n\n<pre><code>def new_f(x):\n    y = len(x)\n    for z in range(y-1,-1,-1):\n        r = print([x[z]])\n    return r\n</code></pre>\n\n<p>But that gives:</p>\n\n<pre><code>['4']\n['3']\n['2']\n['1']\n</code></pre>\n\n<p>Ok, that's not what I want, so maybe:</p>\n\n<pre><code>---------\nfor z in range(y-1,-1,-1):\n        r = [x[z]]\nreturn r\n</code></pre>\n\n<p>And I get: </p>\n\n<pre><code>['1']\n</code></pre>\n\n<p>So he goes through all <code>z</code> and gives me the last one.<br/>\nHow can I resolve this problem?<br/>\nThanks in advance.</p>\n"}, {"tags": ["python", "django", "git", "heroku", "virtualenv"], "answers": [{"tags": [], "owner": {"reputation": 2752, "user_id": 1400353, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/4cd4ee3e568a3c800702be035491231a?s=128&d=identicon&r=PG&f=1", "display_name": "Othman", "link": "https://stackoverflow.com/users/1400353/othman"}, "is_accepted": false, "score": 5, "last_activity_date": 1430348468, "creation_date": 1430348468, "answer_id": 29956106, "question_id": 29956042, "link": "https://stackoverflow.com/questions/29956042/why-shouldnt-i-push-a-virtualenv-to-heroku/29956106#29956106", "title": "Why shouldn&#39;t I push a virtualenv to Heroku?", "body": "<blockquote>\n  <p>virtualenv is a tool to create isolated Python environments.</p>\n</blockquote>\n\n<p>Heroku gives you one environment and you may install your packages using requirements.txt which is required by Heroku for Django applications.</p>\n\n<p>If you want to share these dependencies with other developers use another remote to github. and push your <code>requirements.txt</code></p>\n\n<p>then tell your developers to install the packages using this file.</p>\n\n<p>Example</p>\n\n<p>requirements.txt</p>\n\n<pre><code>Django==1.3\nFabric==1.2.0\nJinja2==2.5.5\nPyYAML==3.09\n</code></pre>\n\n<p>To install these packages in one time use:</p>\n\n<p><code>pip install -r /path/to/requirements.txt</code></p>\n\n<p>Moreover, when you run the application in your local machine then the virtual environment files might change, which will make push useless things to your repo.</p>\n\n<p>Note: if you want to know which packages installed in your virtual environment then use <code>pip freeze</code></p>\n\n<p>If you want to export the packages to <code>requirements.txt</code> then run </p>\n\n<p><code>pip freeze &gt; requirements.txt</code></p>\n"}, {"tags": [], "owner": {"reputation": 46016, "user_id": 2615075, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f23ab144c48263fa1c4cf43ae46fb70d?s=128&d=identicon&r=PG", "display_name": "knbk", "link": "https://stackoverflow.com/users/2615075/knbk"}, "is_accepted": true, "score": 6, "last_activity_date": 1430348880, "creation_date": 1430348880, "answer_id": 29956174, "question_id": 29956042, "link": "https://stackoverflow.com/questions/29956042/why-shouldnt-i-push-a-virtualenv-to-heroku/29956174#29956174", "title": "Why shouldn&#39;t I push a virtualenv to Heroku?", "body": "<p>On top of what Othman said, virtualenvs are simply not portable. Trying to move it will break it, and it's easier to create a new environment than to fix it. So, even on deployment platforms that do use virtual environments, checking them in to git is not going to work. </p>\n"}], "owner": {"reputation": 1497, "user_id": 2712770, "user_type": "registered", "accept_rate": 89, "profile_image": "https://graph.facebook.com/1341540476/picture?type=large", "display_name": "James Kelleher", "link": "https://stackoverflow.com/users/2712770/james-kelleher"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2853, "favorite_count": 1, "accepted_answer_id": 29956174, "answer_count": 2, "score": 3, "last_activity_date": 1430348880, "creation_date": 1430348130, "question_id": 29956042, "link": "https://stackoverflow.com/questions/29956042/why-shouldnt-i-push-a-virtualenv-to-heroku", "title": "Why shouldn&#39;t I push a virtualenv to Heroku?", "body": "<p>Tutorials online are telling me to put <code>venv</code> in my <code>.gitignore</code> file. Why wouldn't I want to push my virtual environment so that I or other developers could easily pull the project to their locals and conveniently have all dependencies?</p>\n"}, {"tags": ["python", "list", "python-2.7", "split"], "answers": [{"comments": [{"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1430348391, "post_id": 29956069, "comment_id": 48032933, "body": "Given that the first item is a dictionary that doesn&#39;t contain a key of <code>1</code>, won&#39;t this immediately fail?"}, {"owner": {"reputation": 94141, "user_id": 2867928, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/a8DM1.jpg?s=128&g=1", "display_name": "kasravnd", "link": "https://stackoverflow.com/users/2867928/kasravnd"}, "reply_to_user": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1430348831, "post_id": 29956069, "comment_id": 48033097, "body": "<code>1</code> is second item that is a list in your case! then you can access to its first element that is a dictionary."}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 1, "creation_date": 1430349259, "post_id": 29956069, "comment_id": 48033256, "body": "In this case, the first <code>a</code> is a dictionary, with each key being a number and each value being a <code>list</code> that holds a single dictionary. At no point in the entire given data structure is there any <code>list</code> with a valid index of <code>1</code>. Try creating an iterable out of the output given in the question, then iterate over that with your loop body and tell me it doesn&#39;t give you an error."}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 1, "creation_date": 1430351085, "post_id": 29956069, "comment_id": 48033813, "body": "Isn&#39;t the first <code>a</code> a dictionary <code>{-1000: [{&#39;addr&#39;: &#39;24:f5:aa:30:ff:ff&#39;}], 2: [{&#39;broadcast&#39;: &#39;11.4.9.255&#39;, &#39;netmask&#39;: &#39;255.255.255.0&#39;, &#39;addr&#39;: &#39;11.4.9.22&#39;}], 23: [{&#39;addr&#39;: &#39;fe80::34cc:afcf:c9d6:e25c%11&#39;}]}</code>?"}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1430352410, "post_id": 29956069, "comment_id": 48034205, "body": "Can you add an MCVE so that I can see what data structure you&#39;re using where <code>print a[1][0][&#39;addr&#39;]</code> actually works?"}, {"owner": {"reputation": 94141, "user_id": 2867928, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/a8DM1.jpg?s=128&g=1", "display_name": "kasravnd", "link": "https://stackoverflow.com/users/2867928/kasravnd"}, "reply_to_user": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1430389420, "post_id": 29956069, "comment_id": 48050160, "body": "@TigerhawkT3 based on  the result of <code>print a</code>  that are your items for example in item <code>(23, [{&#39;addr&#39;: &#39;fe80::34cc:afcf:c9d6:e25c%11&#39;}])</code> the second elements (<code>a[1]</code>) is ` [{&#39;addr&#39;: &#39;fe80::34cc:afcf:c9d6:e25c%11&#39;}]` in this element the first and unique item is <code>{&#39;addr&#39;: &#39;fe80::34cc:afcf:c9d6:e25c%11&#39;}</code> so till now we have <code>a[1][0]</code> after this you can get the desire value with <code>a[1][0][&#39;addr&#39;]</code>"}], "tags": [], "owner": {"reputation": 94141, "user_id": 2867928, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/a8DM1.jpg?s=128&g=1", "display_name": "kasravnd", "link": "https://stackoverflow.com/users/2867928/kasravnd"}, "is_accepted": true, "score": -2, "last_activity_date": 1430348260, "creation_date": 1430348260, "answer_id": 29956069, "question_id": 29956018, "link": "https://stackoverflow.com/questions/29956018/i-want-to-get-specific-value-in-list-using-python/29956069#29956069", "title": "i want to get specific value in list using python", "body": "<p>Use indexing to get the related values to <code>addr</code> in your dict:</p>\n\n<pre><code>for a in ni.ifaddresses(temp[0]).iteritems():\n    print a[1][0]['addr']\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 630, "user_id": 3022945, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/2VQPb.png?s=128&g=1", "display_name": "Hristo Ivanov", "link": "https://stackoverflow.com/users/3022945/hristo-ivanov"}, "is_accepted": false, "score": 0, "last_activity_date": 1430351702, "last_edit_date": 1430351702, "creation_date": 1430351123, "answer_id": 29956576, "question_id": 29956018, "link": "https://stackoverflow.com/questions/29956018/i-want-to-get-specific-value-in-list-using-python/29956576#29956576", "title": "i want to get specific value in list using python", "body": "<p>The best I could do.</p>\n\n<pre><code>aux=[{-1000: [{'addr': '24:f5:aa:30:ff:ff'}], 2: [{'broadcast': '11.4.9.255', 'netmask': '255.255.255.0', 'addr': '11.4.9.22'}], 23: [{'addr':'fe80::34cc:afcf:c9d6:e25c%11'}]},\n(-1000, [{'addr': '24:f5:aa:30:ff:ff'}]),\n(2, [{'broadcast': '11.4.9.255', 'netmask': '255.255.255.0', 'addr': '11.4.9.22'}]),\n(23, [{'addr': 'fe80::34cc:afcf:c9d6:e25c%11'}])]\n\nimport collections\n\ndef my_func(the_val):\n        if not isinstance(the_val, collections.Iterable) or isinstance(the_val, str):\n                return\n        if isinstance(the_val, dict) and the_val.has_key('addr'):\n                print \"-------------------&gt;\", the_val['addr']\n        for e in the_val:\n                if isinstance(the_val, dict):\n                        my_func(the_val[e])\n                        continue\n                my_func(e)\n\nmy_func(aux)\n</code></pre>\n"}], "owner": {"reputation": 903, "user_id": 3683061, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/73e87a4117575e151d64489c58034ec4?s=128&d=identicon&r=PG&f=1", "display_name": "Somputer", "link": "https://stackoverflow.com/users/3683061/somputer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 0, "accepted_answer_id": 29956069, "answer_count": 2, "score": -1, "last_activity_date": 1430351702, "creation_date": 1430348031, "question_id": 29956018, "link": "https://stackoverflow.com/questions/29956018/i-want-to-get-specific-value-in-list-using-python", "title": "i want to get specific value in list using python", "body": "<pre><code>import netifaces as ni\ntemp=ni.interfaces()\nprint ni.ifaddresses(temp[0])\nfor a in ni.ifaddresses(temp[0]).iteritems():\n    print a\n</code></pre>\n\n<p>this is show me below:</p>\n\n<pre><code>{-1000: [{'addr': '24:f5:aa:30:ff:ff'}], 2: [{'broadcast': '11.4.9.255', 'netmask': '255.255.255.0', 'addr': '11.4.9.22'}], 23: [{'addr': 'fe80::34cc:afcf:c9d6:e25c%11'}]}\n(-1000, [{'addr': '24:f5:aa:30:ff:ff'}])\n(2, [{'broadcast': '11.4.9.255', 'netmask': '255.255.255.0', 'addr': '11.4.9.22'}])\n(23, [{'addr': 'fe80::34cc:afcf:c9d6:e25c%11'}])\n</code></pre>\n\n<p>but i want to get only addr value like 24:f5:aa:30:ff:ff</p>\n\n<p>how to get specific value in list using python?</p>\n"}, {"tags": ["python", "pandas"], "answers": [{"tags": [], "owner": {"reputation": 12230, "user_id": 1479269, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/c8d6345c6e01f0f4ce8acf0792d7769c?s=128&d=identicon&r=PG", "display_name": "dmvianna", "link": "https://stackoverflow.com/users/1479269/dmvianna"}, "is_accepted": true, "score": 1, "last_activity_date": 1430347690, "creation_date": 1430347690, "answer_id": 29955944, "question_id": 29955916, "link": "https://stackoverflow.com/questions/29955916/pandas-dataframe-groupby-keep-whole-when-grouping-in-addition-to-groups/29955944#29955944", "title": "pandas.DataFrame.groupby(): keep &#39;whole&#39; when grouping, in addition to groups", "body": "<p>I believe the pivot_table method has a 'totals' boolean argument. Have a <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.tools.pivot.pivot_table.html\" rel=\"nofollow\">look</a>.</p>\n\n<blockquote>\n  <p>margins : boolean, default False Add all row / columns (e.g. for\n  subtotal / grand totals)</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 86481, "user_id": 2411802, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/RA92x.jpg?s=128&g=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/2411802/alexander"}, "is_accepted": false, "score": 0, "last_activity_date": 1430358677, "creation_date": 1430358677, "answer_id": 29957686, "question_id": 29955916, "link": "https://stackoverflow.com/questions/29955916/pandas-dataframe-groupby-keep-whole-when-grouping-in-addition-to-groups/29957686#29957686", "title": "pandas.DataFrame.groupby(): keep &#39;whole&#39; when grouping, in addition to groups", "body": "<p>I agree that this would be a desirable feature, but I don't believe it is currently implemented.  Ideally, one would like to display an aggregation (e.g. sum) along one or more axis and or levels.</p>\n\n<p>A workaround is to create a series that is the sum and then concatenate it to your DataFrame when delivering the data.</p>\n"}], "owner": {"reputation": 599, "user_id": 2339721, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/z3nHt.jpg?s=128&g=1", "display_name": "Arnaud Renaud", "link": "https://stackoverflow.com/users/2339721/arnaud-renaud"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "accepted_answer_id": 29955944, "answer_count": 2, "score": 0, "last_activity_date": 1430358677, "creation_date": 1430347538, "question_id": 29955916, "link": "https://stackoverflow.com/questions/29955916/pandas-dataframe-groupby-keep-whole-when-grouping-in-addition-to-groups", "title": "pandas.DataFrame.groupby(): keep &#39;whole&#39; when grouping, in addition to groups", "body": "<p>I want to produce an aggregation along a certain criterion, but also need a row with the same aggregation applied to the non-aggregated dataframe.</p>\n\n<p>When using <code>customers.groupby('year').size()</code>, is there a way to keep the total among the groups, in order to output something like the following?</p>\n\n<pre><code>year    customers\n2011    3\n2012    5\ntotal   8\n</code></pre>\n\n<p>The only thing I could come up with so far is the following:</p>\n\n<pre><code>n_customers_per_year.loc['total'] = customers.size()\n</code></pre>\n\n<p>(<code>n_customers_per_year</code> is the dataframe aggregated by year. While this method is fairly straightforward for a single index, it seems to get messy when it has to be done on a multi-indexed aggregation.)</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 1, "creation_date": 1430347559, "post_id": 29955869, "comment_id": 48032558, "body": "Please provide an <a href=\"http://stackoverflow.com/help/mcve\">MCVE</a>."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2124834"}, "edited": false, "score": 0, "creation_date": 1430347581, "post_id": 29955869, "comment_id": 48032566, "body": "Did you try replacing <code>gtype=gtypestr.split(&#39;:&#39;)</code> by <code>gtype=gtypestr.split(&#39;|&#39;)</code>?"}, {"owner": {"reputation": 149, "user_id": 3591048, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/vr3Mm.jpg?s=128&g=1", "display_name": "theo4786", "link": "https://stackoverflow.com/users/3591048/theo4786"}, "edited": false, "score": 0, "creation_date": 1430347805, "post_id": 29955869, "comment_id": 48032673, "body": "I did but then got an error saying string index out of bounds"}, {"owner": {"reputation": 269348, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "edited": false, "score": 0, "creation_date": 1430348128, "post_id": 29955869, "comment_id": 48032808, "body": "Your code is tough to follow, it&#39;s unclear what you&#39;re trying to accomplish. But <code>int()</code> requires a string that contains <i>nothing</i> except the digits you&#39;re trying to turn into a single integer. The string you&#39;re passing has two numbers with a <code>|</code> in the middle."}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1430348820, "post_id": 29955869, "comment_id": 48033093, "body": "Please fix the indentation of your code."}, {"owner": {"reputation": 1277, "user_id": 1339820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e3a347c5e4ca2fc3b6b5e0baf971302?s=128&d=identicon&r=PG", "display_name": "pcurry", "link": "https://stackoverflow.com/users/1339820/pcurry"}, "edited": false, "score": 0, "creation_date": 1430349549, "post_id": 29955869, "comment_id": 48033349, "body": "What is the problem you are trying to solve with this code?  Are you trying to do a line-by-line process on a source file?  Also, what does 0|0 indicate?  Is that a floating point number, or an integer, or a ratio?"}, {"owner": {"reputation": 149, "user_id": 3591048, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/vr3Mm.jpg?s=128&g=1", "display_name": "theo4786", "link": "https://stackoverflow.com/users/3591048/theo4786"}, "edited": false, "score": 0, "creation_date": 1430351098, "post_id": 29955869, "comment_id": 48033818, "body": "The problem is this is someone else&#39;s code I am supposed to use on my files, and I don&#39;t know python. I am trying to figure it out. I realized I am not supposed to be splitting the 0|0 field, just accessing the first and third elements."}], "answers": [{"comments": [{"owner": {"reputation": 149, "user_id": 3591048, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/vr3Mm.jpg?s=128&g=1", "display_name": "theo4786", "link": "https://stackoverflow.com/users/3591048/theo4786"}, "edited": false, "score": 0, "creation_date": 1430348026, "post_id": 29955966, "comment_id": 48032769, "body": "then I get invalid literal for float(): 0|0"}, {"owner": {"reputation": 1203, "user_id": 3821823, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/a760c201a9690d3c4786a76f8c07649e?s=128&d=identicon&r=PG", "display_name": "Ali", "link": "https://stackoverflow.com/users/3821823/ali"}, "reply_to_user": {"reputation": 149, "user_id": 3591048, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/vr3Mm.jpg?s=128&g=1", "display_name": "theo4786", "link": "https://stackoverflow.com/users/3591048/theo4786"}, "edited": false, "score": 0, "creation_date": 1430348201, "post_id": 29955966, "comment_id": 48032844, "body": "You try replace: <code>gtype=gtypestr.split(&#39;:&#39;)</code> to <code>gtype=gtypestr.split(&#39;|&#39;)</code>"}, {"owner": {"reputation": 1277, "user_id": 1339820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e3a347c5e4ca2fc3b6b5e0baf971302?s=128&d=identicon&r=PG", "display_name": "pcurry", "link": "https://stackoverflow.com/users/1339820/pcurry"}, "edited": false, "score": 1, "creation_date": 1430349878, "post_id": 29955966, "comment_id": 48033444, "body": "That&#39;s because <code>gtype[0][2]</code> is trying to get the THIRD element of a string of length 1."}], "tags": [], "owner": {"reputation": 1203, "user_id": 3821823, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/a760c201a9690d3c4786a76f8c07649e?s=128&d=identicon&r=PG", "display_name": "Ali", "link": "https://stackoverflow.com/users/3821823/ali"}, "is_accepted": false, "score": -1, "last_activity_date": 1430347783, "creation_date": 1430347783, "answer_id": 29955966, "question_id": 29955869, "link": "https://stackoverflow.com/questions/29955869/invalid-literal-for-int-with-base-10-00-error/29955966#29955966", "title": "invalid literal for int() with base 10 &#39;0|0&#39; error?", "body": "<p><code>int()</code> takes integers, you are trying to give a decimal, so you need to use <code>float()</code></p>\n\n<p><strong>Your Code:</strong></p>\n\n<pre><code>if int(gtype[self.depthpos])&gt;=cutoff:\n</code></pre>\n\n<p><strong>Change and try this:</strong></p>\n\n<pre><code>if float(gtype[self.depthpos])&gt;=cutoff:\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 9289, "user_id": 2572431, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/2ad85f81981e5365a21d94114f3926b2?s=128&d=identicon&r=PG", "display_name": "augurar", "link": "https://stackoverflow.com/users/2572431/augurar"}, "is_accepted": false, "score": 0, "last_activity_date": 1430349590, "creation_date": 1430349590, "answer_id": 29956320, "question_id": 29955869, "link": "https://stackoverflow.com/questions/29955869/invalid-literal-for-int-with-base-10-00-error/29956320#29956320", "title": "invalid literal for int() with base 10 &#39;0|0&#39; error?", "body": "<p>The exception means that the string <code>'0|0'</code> is an invalid value to pass to the <code>int()</code> function.  To fix this, make sure the string contains a valid <a href=\"https://docs.python.org/2/reference/lexical_analysis.html#integers\" rel=\"nofollow\">integer literal</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 7796, "user_id": 2334254, "user_type": "registered", "accept_rate": 57, "profile_image": "https://lh4.googleusercontent.com/-6e2XuTZAjgM/AAAAAAAAAAI/AAAAAAAAABU/JpF2-AkHsH4/photo.jpg?sz=128", "display_name": "kpie", "link": "https://stackoverflow.com/users/2334254/kpie"}, "is_accepted": false, "score": 0, "last_activity_date": 1430354445, "creation_date": 1430354445, "answer_id": 29957078, "question_id": 29955869, "link": "https://stackoverflow.com/questions/29955869/invalid-literal-for-int-with-base-10-00-error/29957078#29957078", "title": "invalid literal for int() with base 10 &#39;0|0&#39; error?", "body": "<p>You need to use the eval call on the string </p>\n\n<pre><code>int(eval(\"0|0\"))\n</code></pre>\n\n<p>result : 1</p>\n"}, {"comments": [{"owner": {"reputation": 149, "user_id": 3591048, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/vr3Mm.jpg?s=128&g=1", "display_name": "theo4786", "link": "https://stackoverflow.com/users/3591048/theo4786"}, "edited": false, "score": 0, "creation_date": 1430358244, "post_id": 29957386, "comment_id": 48035916, "body": "Thank you. Your comments have clarified and I am now able to run the script. This is someone else&#39;s code (I don&#39;t know python) that I was instructed to use on my files. I have realized that I am not supposed to split 0|0, and am supposed to access the first and third elements of this field, ignoring &quot;|&quot;. I am counting the numbers of 0&#39;s and 1&#39;s in this field, as the input can take the form of 0|0, 0|1, 1|0, 1|1. I believe gtype[self.depthpos] should be calling on a different string, as you stated."}], "tags": [], "owner": {"reputation": 1277, "user_id": 1339820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e3a347c5e4ca2fc3b6b5e0baf971302?s=128&d=identicon&r=PG", "display_name": "pcurry", "link": "https://stackoverflow.com/users/1339820/pcurry"}, "is_accepted": true, "score": 1, "last_activity_date": 1430356488, "last_edit_date": 1592644375, "creation_date": 1430356488, "answer_id": 29957386, "question_id": 29955869, "link": "https://stackoverflow.com/questions/29955869/invalid-literal-for-int-with-base-10-00-error/29957386#29957386", "title": "invalid literal for int() with base 10 &#39;0|0&#39; error?", "body": "<p>You have several problems happening here.  First is that the formatting on your code makes it hard to read for people who have spent a lot of time programming in particular Python style standards.  I'd recommend you start with <a href=\"https://www.python.org/dev/peps/pep-0008/\" rel=\"nofollow noreferrer\">PEP8</a> and evolve your style from there.</p>\n<p>I <em>think</em> this code reformat retains the meaning of your code.  Please correct me if I am wrong.</p>\n<pre><code>self.info = lsp[7]\nisplit = self.info.split(';')\ninfonum = 0\nfor infofield in isplit:\n    if infofield.split('=')[0] == 'AA':\n        self.ancestinfo = True\n        self.ancest = infofield.split('=')[1]\n        if self.ancest == '.':\n            self.failed = 1\n            return\n        infonum += 1 \nself.format = lsp[8]\nself.gtypes = lsp[9:]\n     \nfsp = self.format.split(':')\nself.fdpos = -1\nself.depthpos = -1\nformatnum = 0\nfor field in fsp:\n    if field == 'DP':\n        self.depthpos = formatnum\n    formatnum += 1       \n    #if len(self.gtypes) != nsamp:\n    #    raise(&quot; incorrect number of individuals in line &quot; + line)\n\ni = 0\nfor fd in fsp:\n    if fd == &quot;FD&quot;:\n        self.fdpos = i\n        i = i + 1\n     \nif self.fdpos != -1:\n    for gtypestr in self.gtypes:\n        gtype = gtypestr.split(':') \n        if gtype[self.fdpos] == '0':\n            self.nalt += int(gtype[0][0] == '1') + int(gtype[0][2] == '1')\n            self.nref += int(gtype[0][0] == '0') + int(gtype[0][2] == '0')\n            #print self.nref,self.nalt\n\nelse:\n    for gtypestr in self.gtypes:\n        gtype = gtypestr.split(':')   \n        #print gtype\n        if gtype[0] != '.' and gtype[0] != './.':\n            if int(gtype[self.depthpos]) &gt;= cutoff:                                    \n                self.nalt += int(gtype[0][0] == '1') + int(gtype[0][2] == '1')\n                self.nref += int(gtype[0][0] == '0') + int(gtype[0][2] == '0')\n                #print self.nref,self.nalt\n         \n</code></pre>\n<p><strong>First Problem</strong></p>\n<p>The original problem you had was <code>ValueError: invalid literal for int() with base 10: '0|0'</code> - this is because you have the following values when you call<br />\n<code>gtype = gtypestr.split(':')</code> with your sample input:</p>\n<pre><code>self.gtypes = ['0|0', '0|0', '0|0']\ngtypestr = '0|0'\nself.depthpos = -1\n</code></pre>\n<p>The output of a <code>str.split(delimiter)</code> is always a list, so <code>gtype</code> has the value <code>['0|0']</code>.</p>\n<p><code>gtype[self.depthpos]</code> is equal to <code>gtype[-1]</code>, which is equal to <code>gtype[0]</code> because <code>gtype</code> is a list of length 1.</p>\n<p>Hence, you call <code>int('0|0')</code>, which gives you the error.</p>\n<p><strong>Second Problem</strong></p>\n<p>The suggestion that you change the <code>gtypestr.split(':')</code> to <code>gtypestr.split('|')</code> assumes that the error is from splitting on the wrong character.  That change gives you</p>\n<pre><code>gtype = ['0', '0']\nint(gtype[self.depthpos]) == int(gtype[-1]) == int('0') == 0\n</code></pre>\n<p><code>cutoff</code> isn't defined in the code sample you gave us, but I will assume that <code>0 &gt;= cutoff</code> and we then run this block:</p>\n<pre><code>self.nalt += int(gtype[0][0] == '1') + int(gtype[0][2] == '1')\nself.nref += int(gtype[0][0] == '0') + int(gtype[0][2] == '0')\n</code></pre>\n<p>This is what's giving you the <code>IndexError: string index out of range</code> when you call <code>gtype[0][2]</code> - that's equivalent to calling <code>'0'[2]</code>, and there's no THIRD character in a single character string.</p>\n<p>This block looks like it's trying to work around a delimiter in the middle of the first substring that's returned by the <code>.split(':')</code> call.</p>\n<p>So I'm not sure how to move forward:</p>\n<ul>\n<li>fix those <code>gtype[0]</code> substring calls to work against a different string?</li>\n<li>keep the <code>.split(':')</code> and change the cutoff test?</li>\n<li>both of these are symptoms of a complex input file format that needs to be simplified?</li>\n</ul>\n<p>Can you tell us anything more about the input format?</p>\n"}], "owner": {"reputation": 149, "user_id": 3591048, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/vr3Mm.jpg?s=128&g=1", "display_name": "theo4786", "link": "https://stackoverflow.com/users/3591048/theo4786"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2139, "favorite_count": 0, "accepted_answer_id": 29957386, "answer_count": 4, "score": 0, "last_activity_date": 1430356488, "creation_date": 1430347356, "last_edit_date": 1430350767, "question_id": 29955869, "link": "https://stackoverflow.com/questions/29955869/invalid-literal-for-int-with-base-10-00-error", "title": "invalid literal for int() with base 10 &#39;0|0&#39; error?", "body": "<p>I am getting the error:  invalid literal for int() with base 10 '0|0'. I am not sure if the problem is the format 0|0 instead of 0:0 since it looks like it is splitting the field by \":\", or if it's something related to self.depthpos. The traceback says:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"vcftopf_p1_commandline.py\", line 200, in &lt;module&gt;\nsnps[i]=snp(lin)\n  File \"vcftopf_p1_commandline.py\", line 140, in __init__\nif int(gtype[self.depthpos])&gt;=cutoff:                                   \nValueError: invalid literal for int() with base 10: '0|0'\n</code></pre>\n\n<p>Piece of code looks like:</p>\n\n<pre><code>self.info=lsp[7]\n    isplit=self.info.split(';')\n    infonum=0\n    for infofield in isplit:\n        if infofield.split('=')[0]=='AA':\n            self.ancestinfo=True\n            self.ancest=infofield.split('=')[1]\n            if self.ancest=='.':\n                self.failed=1\n                return\n        infonum+=1 \n    self.format=lsp[8]\n    self.gtypes=lsp[9:]\n\n\nfsp=self.format.split(':')\n    self.fdpos=-1\n    self.depthpos=-1\n    formatnum=0\n    for field in fsp:\n        if field=='DP':\n            self.depthpos=formatnum\n        formatnum+=1       \n    #if (len(self.gtypes)!=nsamp):\n    #   raise(\" incorrect number of individuals in line \"+line)\n\n\n            i=0\n            for fd in fsp:\n\n                if fd==\"FD\":\n                        self.fdpos=i\n                i=i+1\n\n\n    if self.fdpos!=-1:\n                for gtypestr in self.gtypes:\n            gtype=gtypestr.split(':') \n\n            if gtype[self.fdpos]=='0':              \n                            self.nalt+=int( gtype[0][0]=='1')+int( gtype[0][2]=='1')\n                            self.nref+=int( gtype[0][0]=='0')+int( gtype[0][2]=='0')\n                    #print self.nref,self.nalt\n\n\n\n        else:\n            for gtypestr in self.gtypes:\n            gtype=gtypestr.split(':')   \n                        #print gtype\n                        if gtype[0]!='.' and gtype[0]!='./.':\n                if int(gtype[self.depthpos])&gt;=cutoff:                                    \n                    self.nalt+=int( gtype[0][0]=='1')+int( gtype[0][2]=='1')\n                        self.nref+=int( gtype[0][0]=='0')+int( gtype[0][2]=='0')\n                #print self.nref,self.nalt\n</code></pre>\n\n<p>Input looks like:</p>\n\n<pre><code>#CHROM  POS     ID      REF     ALT     QUAL    FILTER  INFO    FORMAT  HG01112 HG01113 HG01119 \n1       14674   .       G       A       100     PASS    .       GT      0|0     0|0     0|0     \n</code></pre>\n"}, {"tags": ["python", "django", "django-templates"], "comments": [{"owner": {"reputation": 4652, "user_id": 1157106, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f00d78cb61e090aee853b09ed015462c?s=128&d=identicon&r=PG", "display_name": "tanaydin", "link": "https://stackoverflow.com/users/1157106/tanaydin"}, "edited": false, "score": 0, "creation_date": 1430348066, "post_id": 29955783, "comment_id": 48032786, "body": "return of index must be in function. it seem it&#39;s out with this indent."}, {"owner": {"reputation": 892, "user_id": 4848447, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Ga5L4.jpg?s=128&g=1", "display_name": "CiscoKidx", "link": "https://stackoverflow.com/users/4848447/ciscokidx"}, "reply_to_user": {"reputation": 4652, "user_id": 1157106, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f00d78cb61e090aee853b09ed015462c?s=128&d=identicon&r=PG", "display_name": "tanaydin", "link": "https://stackoverflow.com/users/1157106/tanaydin"}, "edited": false, "score": 0, "creation_date": 1430348138, "post_id": 29955783, "comment_id": 48032812, "body": "That was a typo. I have corrected it and still same result."}, {"owner": {"reputation": 892, "user_id": 4848447, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Ga5L4.jpg?s=128&g=1", "display_name": "CiscoKidx", "link": "https://stackoverflow.com/users/4848447/ciscokidx"}, "reply_to_user": {"reputation": 4652, "user_id": 1157106, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f00d78cb61e090aee853b09ed015462c?s=128&d=identicon&r=PG", "display_name": "tanaydin", "link": "https://stackoverflow.com/users/1157106/tanaydin"}, "edited": false, "score": 0, "creation_date": 1430348156, "post_id": 29955783, "comment_id": 48032826, "body": "I am missing something fundamental to Django views..."}, {"owner": {"reputation": 4652, "user_id": 1157106, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f00d78cb61e090aee853b09ed015462c?s=128&d=identicon&r=PG", "display_name": "tanaydin", "link": "https://stackoverflow.com/users/1157106/tanaydin"}, "edited": false, "score": 0, "creation_date": 1430348272, "post_id": 29955783, "comment_id": 48032880, "body": "did you tried {{ context }} instead of {{ index.context }}"}, {"owner": {"reputation": 892, "user_id": 4848447, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Ga5L4.jpg?s=128&g=1", "display_name": "CiscoKidx", "link": "https://stackoverflow.com/users/4848447/ciscokidx"}, "reply_to_user": {"reputation": 4652, "user_id": 1157106, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f00d78cb61e090aee853b09ed015462c?s=128&d=identicon&r=PG", "display_name": "tanaydin", "link": "https://stackoverflow.com/users/1157106/tanaydin"}, "edited": false, "score": 0, "creation_date": 1430348392, "post_id": 29955783, "comment_id": 48032934, "body": "That was it! Can you explain why? Also provide your answer and I&#39;ll mark it as correct."}], "answers": [{"tags": [], "owner": {"reputation": 4652, "user_id": 1157106, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f00d78cb61e090aee853b09ed015462c?s=128&d=identicon&r=PG", "display_name": "tanaydin", "link": "https://stackoverflow.com/users/1157106/tanaydin"}, "is_accepted": true, "score": 2, "last_activity_date": 1430348547, "last_edit_date": 1430348547, "creation_date": 1430347081, "answer_id": 29955806, "question_id": 29955783, "link": "https://stackoverflow.com/questions/29955783/django-view-variable-not-presenting-any-data-in-html/29955806#29955806", "title": "Django view variable not presenting any data in html", "body": "<p>Can you try like this ?</p>\n\n<p>in python:</p>\n\n<pre><code>def index(request):\n    context = \"Temp = {0} *C\".format(sensor.read_temperature)\n    return render(request, 'hud/index.html', {\"context\": context})\n</code></pre>\n\n<p>in template:</p>\n\n<pre><code>&lt;h1&gt;{{ context }}&lt;/h1&gt;\n</code></pre>\n\n<p>you should send variables with dictionaries {\"context\": context} is our dictionary. In Django templates, data passed by key, so we can get it with {{ context }}. You have to pass an object to get with doted (index.context) syntax.</p>\n"}], "owner": {"reputation": 892, "user_id": 4848447, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/Ga5L4.jpg?s=128&g=1", "display_name": "CiscoKidx", "link": "https://stackoverflow.com/users/4848447/ciscokidx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 768, "favorite_count": 0, "accepted_answer_id": 29955806, "answer_count": 1, "score": 1, "last_activity_date": 1430348547, "creation_date": 1430346941, "last_edit_date": 1430348239, "question_id": 29955783, "link": "https://stackoverflow.com/questions/29955783/django-view-variable-not-presenting-any-data-in-html", "title": "Django view variable not presenting any data in html", "body": "<p>I am trying to pass \"Hello World!\" from a Django view into index.html</p>\n\n<p>view.py (excuse the brevity):</p>\n\n<pre><code>def index(request):\n    context = \"Hello World!\"\n    return render(request, 'hud/index.html', {\"context\": context})\n</code></pre>\n\n<p>index.html (brevity):</p>\n\n<pre><code>&lt;html&gt;\n    &lt;h1&gt;{{ index.context }}&lt;/h1&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>I am expecting it to print the value of \"context\" and it does not. I do not get any errors, just a blank screen. In the chrome page source, I see:</p>\n\n<pre><code>&lt;html&gt;\n    &lt;h1&gt;&lt;/h1&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>Any  help is appreciated I am new!</p>\n"}, {"tags": ["python", "argparse"], "comments": [{"owner": {"reputation": 2289, "user_id": 1664675, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/e9526be62369d44940cded06d9b1f7f8?s=128&d=identicon&r=PG", "display_name": "letsc", "link": "https://stackoverflow.com/users/1664675/letsc"}, "edited": false, "score": 0, "creation_date": 1430347208, "post_id": 29955662, "comment_id": 48032401, "body": "your <code>if</code> statement returns true on <code>p_args.add</code> because  you do <code>store_true</code>, even if you dont use <code>--add</code> while running the program"}], "answers": [{"comments": [{"owner": {"reputation": 67, "user_id": 4848372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8b775322b8bf5c6592de9dc3717c093?s=128&d=identicon&r=PG&f=1", "display_name": "tolbiac", "link": "https://stackoverflow.com/users/4848372/tolbiac"}, "edited": false, "score": 0, "creation_date": 1430357412, "post_id": 29955915, "comment_id": 48035657, "body": "Thanks so much, you&#39;re a lifesaver."}], "tags": [], "owner": {"reputation": 630, "user_id": 3022945, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/2VQPb.png?s=128&g=1", "display_name": "Hristo Ivanov", "link": "https://stackoverflow.com/users/3022945/hristo-ivanov"}, "is_accepted": true, "score": 2, "last_activity_date": 1459857884, "last_edit_date": 1459857884, "creation_date": 1430347531, "answer_id": 29955915, "question_id": 29955662, "link": "https://stackoverflow.com/questions/29955662/trying-to-use-argparse-and-sys-argv-without-sys-argv-needing-to-be-used-each-run/29955915#29955915", "title": "Trying to use argparse and sys.argv without sys.argv needing to be used each runtime", "body": "<p>You are doing it wrong. Here is some example that will help you understand how to use argparse. The flags aren't booleans, they can have values.</p>\n\n<pre><code>import argparse\nparser = argparse.ArgumentParser(description=\"This program does cool things.\")\n\nparser.add_argument(\"--add\", help=\"Add a file to trackedfiles\")\nparser.add_argument(\"--dell\", help=\"Delete file\")\nparser.add_argument(\"--copy\", help=\"Copy file\")\np_args = parser.parse_args()\n\nprint \"Add--&gt;.\", p_args.add\nprint \"Dell-&gt;.\", p_args.dell  #del is reserved word so we use dell\nprint \"Copy-&gt;.\", p_args.copy\n</code></pre>\n\n<p>And here is the usage.</p>\n\n<pre><code>$ python p.py --dell file1.txt --copy file2.txt --add file3.txt\nAdd--&gt;. file3.txt\nDell-&gt;. file1.txt\nCopy-&gt;. file2.txt\n</code></pre>\n\n<p>I hope this helps. </p>\n"}, {"tags": [], "owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "is_accepted": false, "score": 0, "last_activity_date": 1430353847, "last_edit_date": 1495541262, "creation_date": 1430351507, "answer_id": 29956637, "question_id": 29955662, "link": "https://stackoverflow.com/questions/29955662/trying-to-use-argparse-and-sys-argv-without-sys-argv-needing-to-be-used-each-run/29956637#29956637", "title": "Trying to use argparse and sys.argv without sys.argv needing to be used each runtime", "body": "<p>I'm guessing a bit as to what you want to do, but here's my suggestion:</p>\n\n<pre><code>def parseargs():\n    parser = argparse.ArgumentParser()\n    # use the normal help, unless your `printargs` is much better\n    parser.add_argument(\"--memo\", help=\"Read memo file\", action=\"store_true\")\n    parser.add_argument(\"--todo\", help=\"Read TODO file\", action=\"store_true\")\n    parser.add_argument(\"--trackedfiles\", help=\"Read tracked files list\", action=\"store_true\")\n\n    parser.add_argument(\"--add\", help=\"Add a file to trackedfiles\")  # takes a filename argument\n    parser.add_argument(\"--edit\", help=\"Edit file in .wpm_data with editor\")  # takes a filename argument\n    parser.add_argument(\"--newdir\", help=\"Create a new directory to initialize user-data\")  # takes a directory name argument\n\n    p_args = parser.parse_args()\n\n    if p_args.memo:\n        print_memo()\n    eliif p_args.todo:\n        print_todo()\n    elif p_args.trackedfiles:\n        print_trackedfiles()\n    elif p_args.add:  # could be 'if is not None:'\n        add_file(p_args.add)\n    elif p_args.edit:\n        ....\n</code></pre>\n\n<p>So the big change is making the 'filename' an argument to the '--add' or '--edit' flag, not a positional.  If it is a required positional argument, you'll get an error message if you omit it with arguments like <code>--memo</code>.</p>\n\n<p>Alternatively <code>file</code> could be a <code>nargs='?'</code> positional.</p>\n\n<p>You could also set this up as a subparsers case, where <code>memo,todo,trackfiles,add,etc</code> are all 'commands'.  Some of these subparsers will take a 'file' argument, others not.  I expect someone else will elaborate on that.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/29938335/how-do-i-check-for-a-particular-subparser\">How do I check for a particular subparser?</a>\nhas a good <code>subparsers</code> answer.</p>\n\n<hr>\n\n<p>A non-subparsers alternative:</p>\n\n<pre><code>parser = argparse.ArgumentParser()\nparser.add_argument('cmd', \n     choices=['memo','todo','trackfiles','add','edit','newdir'],\n     help='action to take')\nparser.add_argument('name',nargs='?',help='file or dir name')\nargs = parser.parse_args()\nif args.cmd in ['memo']:\n   print_memo()\nelif args.cmd in ['todo']:\n   ...\nelif args.cmd in ['add']:\n   add_file(args.name)\nelif ...\n</code></pre>\n\n<p>This should accept commands like <code>prog.py memo</code>, <code>prog.py add myfile</code>.  <code>add_file(afilename)</code> should do something intelligent if its argument is <code>None</code> or a bad filename.</p>\n\n<p>If you want to accept more than one of these 'commands' per call, then we will need to make some changes.</p>\n"}], "owner": {"reputation": 67, "user_id": 4848372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8b775322b8bf5c6592de9dc3717c093?s=128&d=identicon&r=PG&f=1", "display_name": "tolbiac", "link": "https://stackoverflow.com/users/4848372/tolbiac"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 447, "favorite_count": 0, "accepted_answer_id": 29955915, "answer_count": 2, "score": 3, "last_activity_date": 1459857884, "creation_date": 1430346350, "last_edit_date": 1430346885, "question_id": 29955662, "link": "https://stackoverflow.com/questions/29955662/trying-to-use-argparse-and-sys-argv-without-sys-argv-needing-to-be-used-each-run", "title": "Trying to use argparse and sys.argv without sys.argv needing to be used each runtime", "body": "<p>In the script I'm writing, I am using argparse for the main arguments (for --help, --todo, etc.) but trying to use sys.argv to get the name of a file given as the third argument for --add. I was using this:</p>\n\n<pre><code>def parseargs():\n    parser = argparse.ArgumentParser(add_help=False)\n\n    parser.add_argument(\"--help\", help=\"Print argument usage\", action=\"store_true\")\n    parser.add_argument(\"--memo\", help=\"Read memo file\", action=\"store_true\")\n    parser.add_argument(\"--todo\", help=\"Read TODO file\", action=\"store_true\")\n    parser.add_argument(\"--trackedfiles\", help=\"Read tracked files list\", action=\"store_true\")\n\n    parser.add_argument(\"--add\", help=\"Add a file to trackedfiles\", action=\"store_true\")\n    parser.add_argument(\"--edit\", help=\"Edit file in .wpm_data with editor\", action=\"store_true\")\n    parser.add_argument(\"--newdir\", help=\"Create a new directory to initialize user-data\", action=\"store_true\")\n\n    parser.add_argument(\"file\")\n\n    p_args = parser.parse_args()\n\n    if p_args.help:\n        printargs()\n        sys.exit()\n\n    if p_args.memo:\n        print_memo()\n        sys.exit()\n\n    if p_args.todo:\n        print_todo()\n        sys.exit()\n\n    if p_args.trackedfiles:\n        print_trackedfiles()\n        sys.exit()\n\n    if p_args.add: # this is were I'm stumpped\n        if p_args.file == sys.argv[2]:\n            givenfile = p_args.file\n        else:\n            pass\n\n        print(\"[!]\\t\", givenfile, \"to be added to trackedfiles\")\n\n        sys.exit()\n</code></pre>\n\n<p>Which works like this:</p>\n\n<pre><code>./main.py --add textfile.txt\n[!]  textfile.txt to be added to trackedfiles\n</code></pre>\n\n<p>But when a different argument would be used like <code>--help</code>, a third argument needs to be used for givenfile</p>\n\n<pre><code>./main.py --help            \nusage: main.py [--help] [--memo] [--todo] [--trackedfiles] [--add] [--edit]\n               [--newdir]\n               file\n    main.py: error: the following arguments are required: file\n</code></pre>\n\n<p>How can I separate using argparse and sys.argv, with sys.argv not constantly needing to be used so it can only be called when a function that needs it is run?</p>\n"}, {"tags": ["python", "unicode", "border", "putty", "curses"], "answers": [{"comments": [{"owner": {"reputation": 810, "user_id": 3538561, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/gISVu.png?s=128&g=1", "display_name": "m0dem", "link": "https://stackoverflow.com/users/3538561/m0dem"}, "edited": false, "score": 0, "creation_date": 1430349797, "post_id": 29956050, "comment_id": 48033411, "body": "Even if I add <code>os.environ[&quot;NCURSES_NO_UTF8_ACS&quot;] = &quot;1&quot;</code> at the beginning, it still doesn&#39;t use box characters as the border."}, {"owner": {"reputation": 42737, "user_id": 4518274, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UPurS.png?s=128&g=1", "display_name": "Thomas Dickey", "link": "https://stackoverflow.com/users/4518274/thomas-dickey"}, "reply_to_user": {"reputation": 810, "user_id": 3538561, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/gISVu.png?s=128&g=1", "display_name": "m0dem", "link": "https://stackoverflow.com/users/3538561/m0dem"}, "edited": false, "score": 0, "creation_date": 1430350159, "post_id": 29956050, "comment_id": 48033524, "body": "If you supply a complete working script, people can test it and comment on this."}, {"owner": {"reputation": 810, "user_id": 3538561, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/gISVu.png?s=128&g=1", "display_name": "m0dem", "link": "https://stackoverflow.com/users/3538561/m0dem"}, "edited": false, "score": 0, "creation_date": 1430370610, "post_id": 29956050, "comment_id": 48039373, "body": "How exactly do you configure Python to use <code>ncursesw</code>?  And another thing, I do not have root access on this server."}, {"owner": {"reputation": 810, "user_id": 3538561, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/gISVu.png?s=128&g=1", "display_name": "m0dem", "link": "https://stackoverflow.com/users/3538561/m0dem"}, "edited": false, "score": 0, "creation_date": 1430424972, "post_id": 29956050, "comment_id": 48073519, "body": "Its Python 2.7.8 on Fedora, is there any version of Python 2 that has <code>ncursesw</code> set as the default (instead of <code>ncurses</code>)?"}, {"owner": {"reputation": 1865, "user_id": 1348829, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/78ea86a2999b50d2f8da7320c6544a32?s=128&d=identicon&r=PG", "display_name": "BenjiWiebe", "link": "https://stackoverflow.com/users/1348829/benjiwiebe"}, "edited": false, "score": 0, "creation_date": 1430431450, "post_id": 29956050, "comment_id": 48076723, "body": "Your links to the Redhat bug report and Python bug report indicate that both bugs are fixed, as of 2007. And the FreeBSD ones aren&#39;t very relevant, since this is Fedora."}, {"owner": {"reputation": 42737, "user_id": 4518274, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UPurS.png?s=128&g=1", "display_name": "Thomas Dickey", "link": "https://stackoverflow.com/users/4518274/thomas-dickey"}, "edited": false, "score": 0, "creation_date": 1430433742, "post_id": 29956050, "comment_id": 48077582, "body": "Fedora (and Linux in general) were not mentioned in the original question, nor to the implied question posed by the completed sample script.  I will expand the answer as needed, however."}, {"owner": {"reputation": 810, "user_id": 3538561, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/gISVu.png?s=128&g=1", "display_name": "m0dem", "link": "https://stackoverflow.com/users/3538561/m0dem"}, "edited": false, "score": 0, "creation_date": 1430491790, "post_id": 29956050, "comment_id": 48097555, "body": "You said you tested it out, but did you connect with PuTTY from Windows?  I think the problem is with PuTTY, since a friend tried it out using Konsole (from Linux), and the script that didn&#39;t work for me worked!"}, {"owner": {"reputation": 42737, "user_id": 4518274, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UPurS.png?s=128&g=1", "display_name": "Thomas Dickey", "link": "https://stackoverflow.com/users/4518274/thomas-dickey"}, "edited": false, "score": 0, "creation_date": 1430513523, "post_id": 29956050, "comment_id": 48109394, "body": "I tested with PuTTY running from OSX (this will behave no differently than from Windows, because the problem ultimately lies with PuTTY not honoring VT100 line-drawing controls when its translation is for UTF-8 - konsole and gnome-terminal would &quot;work&quot;)."}, {"owner": {"reputation": 810, "user_id": 3538561, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/gISVu.png?s=128&g=1", "display_name": "m0dem", "link": "https://stackoverflow.com/users/3538561/m0dem"}, "edited": false, "score": 0, "creation_date": 1430518619, "post_id": 29956050, "comment_id": 48111440, "body": "Ok, could you show me the exact code you used?  Thanks a million. :)"}, {"owner": {"reputation": 42737, "user_id": 4518274, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UPurS.png?s=128&g=1", "display_name": "Thomas Dickey", "link": "https://stackoverflow.com/users/4518274/thomas-dickey"}, "edited": false, "score": 0, "creation_date": 1430523524, "post_id": 29956050, "comment_id": 48112838, "body": "I used your example without change."}], "tags": [], "owner": {"reputation": 42737, "user_id": 4518274, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UPurS.png?s=128&g=1", "display_name": "Thomas Dickey", "link": "https://stackoverflow.com/users/4518274/thomas-dickey"}, "is_accepted": false, "score": 1, "last_activity_date": 1430383026, "last_edit_date": 1430383026, "creation_date": 1430348198, "answer_id": 29956050, "question_id": 29955575, "link": "https://stackoverflow.com/questions/29955575/how-to-support-extended-curses-characters-with-putty/29956050#29956050", "title": "How to support extended curses characters with PuTTY", "body": "<p>The problem is that by default ncurses assumes that the terminal description gives the line-drawing characters (which correspond to VT100).  xterm implements this, but some developers chose to ignore the escape sequences for this when in UTF-8 mode.</p>\n\n<p>Rather than make special cases for each terminal (\"linux\" and \"screen\" were enough), ncurses checks for the environment variable <code>NCURSES_NO_UTF8_ACS</code> (set to a nonzero value) to tell it that when in UTF-8 mode it should ignore the terminal description and just use UTF-8 constants.</p>\n\n<p>This is in the ncurses FAQ <em><a href=\"http://invisible-island.net/ncurses/ncurses.faq.html#utf8_line_drawing\" rel=\"nofollow\">Line-drawing characters do not appear</a></em>, as well as in the ncurses <a href=\"http://invisible-island.net/ncurses/man/ncurses.3x.html#h2-ENVIRONMENT\" rel=\"nofollow\">manual page</a>.</p>\n\n<p>These features are needed to make the environment variable work as described:</p>\n\n<ul>\n<li>Python must be configured to use the wide-character version of ncurses (\"ncursesw\")</li>\n<li>your locale encoding must be <code>UTF-8</code></li>\n<li>the environment variable <code>NCURSES_NO_UTF8_ACS</code> must be set to a nonzero value.</li>\n</ul>\n\n<p>I was able to test the given script on a Debian 6 machine (a few years old), where Python is configured to use <code>ncursesw</code>, and with my locale set like this:</p>\n\n<pre><code>LANG=en_US.UTF-8\nLC_CTYPE=\"en_US.UTF-8\"\nLC_ALL=en_US.UTF-8\n</code></pre>\n\n<p>Because ncurses uses <a href=\"http://linux.die.net/man/3/nl_langinfo\" rel=\"nofollow\"><code>nl_langinfo(CODESET)</code></a> when available, it tends to have a fairly reliable check for the <code>UTF-8</code> encoding.  The weak point may be some odd packages of Python (no mention was made of the platform or vintage of Python).</p>\n\n<p>Python chooses the type of ncurses/ncursesw in <code>setup.py</code>; overriding that in a user script is probably not doable.  One reason why it might use ncurses rather than ncursesw is due to a conflict with the readline library which must be <em>compiled</em> to use ncurses or ncursesw. Packaging the low-level functions of ncurses/ncursesw as a common library \"tinfo\" can help packagers resolve this issue, but not all took advantage of this.  Here are a few links which give some insight:</p>\n\n<ul>\n<li><a href=\"https://bugs.python.org/issue1428494\" rel=\"nofollow\">Issue 1428494:Prefer linking against ncursesw over ncurses library</a></li>\n<li><a href=\"http://comments.gmane.org/gmane.os.freebsd.devel.python/362\" rel=\"nofollow\">Re: option to enable ncursesw in lang/python25</a></li>\n<li><a href=\"https://bugzilla.redhat.com/show_bug.cgi?id=242583\" rel=\"nofollow\">Bug 242583: Link curses module with ncursesw.so</a></li>\n<li><a href=\"http://lists.freebsd.org/pipermail/freebsd-ports-bugs/2012-September/239409.html\" rel=\"nofollow\">ports/171246: [patch] make python curses module work with unicode</a></li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 147, "user_id": 3990883, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2hujp.jpg?s=128&g=1", "display_name": "Nufosmatic", "link": "https://stackoverflow.com/users/3990883/nufosmatic"}, "is_accepted": false, "score": 1, "last_activity_date": 1597423359, "creation_date": 1597423359, "answer_id": 63416842, "question_id": 29955575, "link": "https://stackoverflow.com/questions/29955575/how-to-support-extended-curses-characters-with-putty/63416842#63416842", "title": "How to support extended curses characters with PuTTY", "body": "<p>I've been running my PuTTY sessions in UTF-8 because that way I don't get weirdness from Linux I8N output. A C program tool from a library (SPDK/spdk_top) running curses was outputting letters instead of border characters.</p>\n<p>I found changing the translation on PuTTY to ISO 8859-1 gave me the nice border characters.</p>\n"}], "owner": {"reputation": 810, "user_id": 3538561, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/gISVu.png?s=128&g=1", "display_name": "m0dem", "link": "https://stackoverflow.com/users/3538561/m0dem"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2207, "favorite_count": 1, "answer_count": 2, "score": 1, "last_activity_date": 1597423359, "creation_date": 1430345917, "last_edit_date": 1430351892, "question_id": 29955575, "link": "https://stackoverflow.com/questions/29955575/how-to-support-extended-curses-characters-with-putty", "title": "How to support extended curses characters with PuTTY", "body": "<p>I am creating a curses program that needs to use special box characters (<code>\u2502</code>, <code>\u2500</code>, <code>\u250c</code>, etc...) that can be found <a href=\"https://en.wikipedia.org/wiki/Box-drawing_character\" rel=\"nofollow\">here</a>.  I am connecting to the Linux server where I do my programming with PuTTY.  When I just set the curses border to default (<code>screen.border(0)</code>), the border is made up of characters in the alphabet (<code>q</code>, <code>l</code>, <code>m</code>, <code>x</code>).  Is that normal?  </p>\n\n<p>The <code>curses.ACS_*</code> characters are also just alphabet characters on my screen.  I do not know what is wrong, but I am guessing it may have something to do with PuTTY.  I have even tried directly pasting the characters into a string, but there are lots of unicode problems with that that I cannot fix.</p>\n\n<p>Any help is appreciated. -=m0dem=-</p>\n\n<p>EDIT: The sample script below is what I have tried and does not work.</p>\n\n<pre><code>#!/usr/bin/python\nimport curses\nimport os\n\nos.environ[\"NCURSES_NO_UTF8_ACS\"] = \"1\"\nscreen = curses.initscr()\n\nscreen.clear()\nscreen.refresh()\nscreen.border(0)\n# catch\nscreen.getch()\ncurses.endwin()\n</code></pre>\n"}, {"tags": ["python", "fibonacci"], "comments": [{"owner": {"reputation": 24179, "user_id": 1672429, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/0815eb7d4e9dd58022d51ba2011b9c0a?s=128&d=identicon&r=PG", "display_name": "Stefan Pochmann", "link": "https://stackoverflow.com/users/1672429/stefan-pochmann"}, "edited": false, "score": 1, "creation_date": 1430353177, "post_id": 29955541, "comment_id": 48034439, "body": "What exactly do you want? Neither generating <i>all</i> Fibonacci numbers nor generating some fast-growing sub-sequence makes sense to me. The former is better done with the simple one you already have, and the latter is missing many. What&#39;s the point then?"}], "answers": [{"tags": [], "owner": {"reputation": 18603, "user_id": 4526187, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YP5so.jpg?s=128&g=1", "display_name": "JuniorCompressor", "link": "https://stackoverflow.com/users/4526187/juniorcompressor"}, "is_accepted": true, "score": 2, "last_activity_date": 1430346919, "creation_date": 1430346919, "answer_id": 29955775, "question_id": 29955541, "link": "https://stackoverflow.com/questions/29955541/fast-doubling-fibonacci-python-generator-sequence/29955775#29955775", "title": "Fast doubling Fibonacci Python generator sequence", "body": "<p>An implementation could be:</p>\n\n<pre><code>from itertools import count\n\ndef fast_fib_generator():\n    F = [1, 1]\n    yield 1\n    yield 1\n    for k in count(1):\n        F.append(F[k] ** 2 + F[k - 1] ** 2)\n        yield F[-1]\n\n        F.append(F[k] * (2 * F[k + 1] - F[k]))\n        yield F[-1]\n\n\nfor x in fast_fib_generator():\n    print x\n</code></pre>\n\n<p>First results:</p>\n\n<pre><code>1\n1\n2\n3\n5\n8\n13\n21\n34  \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 6557639, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-NPaPRJY0tuc/AAAAAAAAAAI/AAAAAAAAADY/Dh5FVa_BCEg/photo.jpg?sz=128", "display_name": "Ini-Oluwa", "link": "https://stackoverflow.com/users/6557639/ini-oluwa"}, "is_accepted": false, "score": 0, "last_activity_date": 1475483431, "creation_date": 1475483431, "answer_id": 39827389, "question_id": 29955541, "link": "https://stackoverflow.com/questions/29955541/fast-doubling-fibonacci-python-generator-sequence/39827389#39827389", "title": "Fast doubling Fibonacci Python generator sequence", "body": "<pre><code>def fibonacci(number):\n    numbers = [0, 1]\n    while len(numbers) &lt; number:\n        numbers[len(numbers):len(numbers)] = [numbers[len(numbers)-2] + numbers[len(numbers)-1]]\n    return numbers\n</code></pre>\n\n<p>First get a list of the fibonacci sequence... Then loop through.</p>\n\n<pre><code>def fib_gen(number):\n    for iter in fibonacci(number):\n        print iter\n</code></pre>\n"}], "owner": {"reputation": 1714, "user_id": 1179989, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lMBEL.jpg?s=128&g=1", "display_name": "Tolo Palmer", "link": "https://stackoverflow.com/users/1179989/tolo-palmer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 978, "favorite_count": 1, "accepted_answer_id": 29955775, "answer_count": 2, "score": 2, "last_activity_date": 1475483431, "creation_date": 1430345809, "last_edit_date": 1430348091, "question_id": 29955541, "link": "https://stackoverflow.com/questions/29955541/fast-doubling-fibonacci-python-generator-sequence", "title": "Fast doubling Fibonacci Python generator sequence", "body": "<p>I'm having troubles try to create a Fast doubling Fibonacci python generator, using the following.</p>\n\n<p>Given F(k) and F(k+1), we can calculate these:</p>\n\n<pre><code>F(2k) = F(k)[2F(k + 1) \u2212 F(k)]\nF(2k+1) = F(k+1)^2 + F(k)^2\n</code></pre>\n\n<p>I've got the following for the simplest (slow) Fibonacci generator:</p>\n\n<pre><code>def fib_generator():\n    n = 1\n    n0 = 1\n    while True:\n        yield n\n        n, n0 = n + n0, n\n</code></pre>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 288763, "user_id": 487339, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wbe4o.png?s=128&g=1", "display_name": "DSM", "link": "https://stackoverflow.com/users/487339/dsm"}, "edited": false, "score": 0, "creation_date": 1430346026, "post_id": 29955528, "comment_id": 48031914, "body": "Your <code>B</code> column doesn&#39;t look like it contains dictionaries-- there aren&#39;t any braces.  Are they really dictionaries, or is it simply a string?"}], "answers": [{"comments": [{"owner": {"reputation": 25, "user_id": 3304096, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/73fa06368ed7a762926772b25138689f?s=128&d=identicon&r=PG&f=1", "display_name": "minimumnz", "link": "https://stackoverflow.com/users/3304096/minimumnz"}, "edited": false, "score": 0, "creation_date": 1430346933, "post_id": 29955588, "comment_id": 48032293, "body": "This does seem to be the correct solution to the problem. I tried this with my data however and I get this error.  TypeError: &#39;float&#39; object has no attribute &#39;<b>getitem</b>&#39;"}, {"owner": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "reply_to_user": {"reputation": 25, "user_id": 3304096, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/73fa06368ed7a762926772b25138689f?s=128&d=identicon&r=PG&f=1", "display_name": "minimumnz", "link": "https://stackoverflow.com/users/3304096/minimumnz"}, "edited": false, "score": 1, "creation_date": 1430347038, "post_id": 29955588, "comment_id": 48032337, "body": "Well I can&#39;t guess what your real data actually looks like, can you post into your question representative data and code to reproduce the problem. 1 question do you have <code>NaN</code> values in that column if so I&#39;ll update my answer"}, {"owner": {"reputation": 25595, "user_id": 202229, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/6cc1d82c11563b440c57280ad587ee47?s=128&d=identicon&r=PG", "display_name": "smci", "link": "https://stackoverflow.com/users/202229/smci"}, "edited": false, "score": 0, "creation_date": 1430352123, "post_id": 29955588, "comment_id": 48034119, "body": "Or you could shorten that to <code>df.get(key, fillval)</code> if your fill value is constant."}, {"owner": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "reply_to_user": {"reputation": 25595, "user_id": 202229, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/6cc1d82c11563b440c57280ad587ee47?s=128&d=identicon&r=PG", "display_name": "smci", "link": "https://stackoverflow.com/users/202229/smci"}, "edited": false, "score": 0, "creation_date": 1430378850, "post_id": 29955588, "comment_id": 48043467, "body": "@smci that will raise an <code>AttributeError</code> as there is no dict when there is a <code>NaN</code> value which is why you need to filter the rows first"}], "tags": [], "owner": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "is_accepted": true, "score": 3, "last_activity_date": 1430347361, "last_edit_date": 1430347361, "creation_date": 1430345989, "answer_id": 29955588, "question_id": 29955528, "link": "https://stackoverflow.com/questions/29955528/convert-dictionary-in-pandas-column-to-dictionary-value/29955588#29955588", "title": "Convert dictionary in pandas&#39; column to dictionary value", "body": "<p>Call <code>apply</code> on 'B' and pass a lambda which just accesses the single key in the dict:</p>\n\n<pre><code>In [83]:\n\ndf = pd.DataFrame({'A':['x','y'], 'B':[{'count':3}, {'count':2}]})\ndf\nOut[83]:\n   A             B\n0  x  {'count': 3}\n1  y  {'count': 2}\nIn [84]:\n\ndf['B'] = df['B'].apply(lambda x: x['count'])\ndf\nOut[84]:\n   A  B\n0  x  3\n1  y  2\n</code></pre>\n\n<p>*EDIT**</p>\n\n<p>I think you may have missing values <code>NaN</code> which is why you get that error, you can mask the df to ignore the rows with missing values:</p>\n\n<pre><code>In [88]:\n\ndf = pd.DataFrame({'A':['w','x','y','z'], 'B':[np.NaN, {'count':3}, {'count':2}, np.NaN]})\ndf\nOut[88]:\n   A             B\n0  w           NaN\n1  x  {'count': 3}\n2  y  {'count': 2}\n3  z           NaN\n\nIn [89]:\n\ndf.loc[df['B'].notnull(), 'B'] = df.loc[df['B'].notnull(), 'B'].apply(lambda x: x.get('count'))\ndf\nOut[89]:\n   A    B\n0  w  NaN\n1  x    3\n2  y    2\n3  z  NaN\n</code></pre>\n\n<p>You then have to decide what to do about the missing values, you can replace them by calling <code>fillna</code>:</p>\n\n<pre><code>df['B'] = df['B'].fillna(0)\n</code></pre>\n"}], "owner": {"reputation": 25, "user_id": 3304096, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/73fa06368ed7a762926772b25138689f?s=128&d=identicon&r=PG&f=1", "display_name": "minimumnz", "link": "https://stackoverflow.com/users/3304096/minimumnz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2178, "favorite_count": 1, "accepted_answer_id": 29955588, "answer_count": 1, "score": 1, "last_activity_date": 1430347361, "creation_date": 1430345754, "last_edit_date": 1430346832, "question_id": 29955528, "link": "https://stackoverflow.com/questions/29955528/convert-dictionary-in-pandas-column-to-dictionary-value", "title": "Convert dictionary in pandas&#39; column to dictionary value", "body": "<p>I have a pandas' DataFrame that has a dictionary as the value in one of the columns e.g.</p>\n\n<pre><code>    A    B\n1   x   {u'count': 3}\n2   y   {u'count': 2}\n</code></pre>\n\n<p>Is there a way to convert the elements in the B column to just the dictionary value in a single operation other than iterating through the entire DataFrame?</p>\n\n<p>So the Dataframe would appear like:</p>\n\n<pre><code>     A    B\n1    x    3\n2    y    2\n</code></pre>\n"}, {"tags": ["python", "json", "flask"], "comments": [{"owner": {"reputation": 4979, "user_id": 2676531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc88aa76113d738e11685389a1409a26?s=128&d=identicon&r=PG", "display_name": "Celeo", "link": "https://stackoverflow.com/users/2676531/celeo"}, "edited": false, "score": 0, "creation_date": 1430345922, "post_id": 29955524, "comment_id": 48031882, "body": "What&#39;s the full error message? Also, you can see from the syntax highlighting in your question, that you have an error right there."}], "answers": [{"tags": [], "owner": {"reputation": 2290, "user_id": 2487476, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/h1IEQ.jpg?s=128&g=1", "display_name": "David Greydanus", "link": "https://stackoverflow.com/users/2487476/david-greydanus"}, "is_accepted": true, "score": 1, "last_activity_date": 1430346456, "last_edit_date": 1430346456, "creation_date": 1430346126, "answer_id": 29955616, "question_id": 29955524, "link": "https://stackoverflow.com/questions/29955524/404-error-when-calling-function-in-flask-app/29955616#29955616", "title": "404 error when calling function in Flask app", "body": "<p>You didn't wrap the function in an app route decorator. See this <a href=\"http://flask.pocoo.org/docs/0.10/api/#url-route-registrations\" rel=\"nofollow\">Flask URL registration documentation</a> for more info.</p>\n\n<pre><code>@app.route(\"/template\", methods=[\"GET\", \"POST\"])\ndef template():\n    with open(PERSONAL_DATA, \"r\") as info:\n        info = json.load(info)\n    return render_template(\"temp.html\", title=\"Info\",\n                           header=str(info[name]))\n</code></pre>\n\n<p>Also, import json at the top of the file, not right before you use it.</p>\n"}], "owner": {"reputation": 13, "user_id": 4848428, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/36d888f49267e2cfbb026deb51b755a1?s=128&d=identicon&r=PG&f=1", "display_name": "Pata Firangi", "link": "https://stackoverflow.com/users/4848428/pata-firangi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 195, "favorite_count": 0, "accepted_answer_id": 29955616, "answer_count": 1, "score": 1, "last_activity_date": 1430347039, "creation_date": 1430345746, "last_edit_date": 1430347039, "question_id": 29955524, "link": "https://stackoverflow.com/questions/29955524/404-error-when-calling-function-in-flask-app", "title": "404 error when calling function in Flask app", "body": "<p>I am loading data from a JSON file and returning a template with this function in Flask:</p>\n\n<pre><code>import json\ndef template():\n    with open(PERSONAL_DATA, \"r\") as info:\n        info = json.load(info)\n    return render_template(\"temp.html\", title=\"Info\",\n                           header=str(info[name])) event you have.\")\n</code></pre>\n\n<p>But when I call this function from my app, I get a 404 page. The function is in the main file, and it runs fine on it's own.</p>\n"}, {"tags": ["python", "c", "linux-kernel"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 2, "creation_date": 1430345507, "post_id": 29955458, "comment_id": 48031722, "body": "Show your code. You should be able to split the buffer into a list and loop over that."}, {"owner": {"reputation": 20255, "user_id": 645128, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/G0V8Q.jpg?s=128&g=1", "display_name": "ryyker", "link": "https://stackoverflow.com/users/645128/ryyker"}, "edited": false, "score": 0, "creation_date": 1430346392, "post_id": 29955458, "comment_id": 48032068, "body": "Unless the file is infinite, one inherent quality will always be that it will end, (and therefore exhibit an <i>end of file</i>)   <b><i><a href=\"http://en.wikipedia.org/wiki/End-of-file\" rel=\"nofollow noreferrer\">EOF</a></i></b> is a condition, that in turn precipitates a flag that is set by C libraries to indicate by return value that the end of the file has been reached."}, {"owner": {"reputation": 199706, "user_id": 1566221, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ce3ea4ffd1023d4382f397312352726d?s=128&d=identicon&r=PG", "display_name": "rici", "link": "https://stackoverflow.com/users/1566221/rici"}, "edited": false, "score": 0, "creation_date": 1430347832, "post_id": 29955458, "comment_id": 48032686, "body": "It sounds like there is a problem in your implementation of the procfs module. Are you returning the correct read size from your read callback?"}, {"owner": {"reputation": 383, "user_id": 2158951, "user_type": "registered", "accept_rate": 21, "profile_image": "https://www.gravatar.com/avatar/90e9102d8eb4a5568575f9fe6918d8c1?s=128&d=identicon&r=PG", "display_name": "mezo", "link": "https://stackoverflow.com/users/2158951/mezo"}, "edited": false, "score": 0, "creation_date": 1430348806, "post_id": 29955458, "comment_id": 48033088, "body": "I&#39;m sending data to userspace by calling copy_to_user(buffer, procf_buffer, procf_buffer_pos), whereprocf_buffer_pos is size of data sent. I&#39;m returning this value in procf_read func"}, {"owner": {"reputation": 199706, "user_id": 1566221, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ce3ea4ffd1023d4382f397312352726d?s=128&d=identicon&r=PG", "display_name": "rici", "link": "https://stackoverflow.com/users/1566221/rici"}, "edited": false, "score": 0, "creation_date": 1430350385, "post_id": 29955458, "comment_id": 48033603, "body": "@mezo: and do you check and respond to the off parameter?"}, {"owner": {"reputation": 383, "user_id": 2158951, "user_type": "registered", "accept_rate": 21, "profile_image": "https://www.gravatar.com/avatar/90e9102d8eb4a5568575f9fe6918d8c1?s=128&d=identicon&r=PG", "display_name": "mezo", "link": "https://stackoverflow.com/users/2158951/mezo"}, "edited": false, "score": 0, "creation_date": 1430381597, "post_id": 29955458, "comment_id": 48045068, "body": "If the &#39;off parameter&#39; stands for return value then no and thats exactly my question - how to check it in python"}, {"owner": {"reputation": 199706, "user_id": 1566221, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ce3ea4ffd1023d4382f397312352726d?s=128&d=identicon&r=PG", "display_name": "rici", "link": "https://stackoverflow.com/users/1566221/rici"}, "edited": false, "score": 0, "creation_date": 1430408769, "post_id": 29955458, "comment_id": 48064061, "body": "@mezo: the read callback to implement a procfs entry has an off parameter, which tells you which byte position to start reading from. If that byte position is greater than the data size, you need to return 0 from the callback to indicate EOF. Also, if you want to attract my attention, you need to address the comment to me using an @ and my nick."}], "answers": [{"comments": [{"owner": {"reputation": 383, "user_id": 2158951, "user_type": "registered", "accept_rate": 21, "profile_image": "https://www.gravatar.com/avatar/90e9102d8eb4a5568575f9fe6918d8c1?s=128&d=identicon&r=PG", "display_name": "mezo", "link": "https://stackoverflow.com/users/2158951/mezo"}, "edited": false, "score": 0, "creation_date": 1430346240, "post_id": 29955507, "comment_id": 48031999, "body": "You&#39;re right. I didn&#39;t express that in right way, but still my point is clear, so despite of how I&#39;m glad you enlighten me of how EOF trully works that&#39;s NOT answer to my question which would be appreciated."}, {"owner": {"reputation": 50953, "user_id": 1983495, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/aMDiK.jpg?s=128&g=1", "display_name": "Iharob Al Asimi", "link": "https://stackoverflow.com/users/1983495/iharob-al-asimi"}, "reply_to_user": {"reputation": 383, "user_id": 2158951, "user_type": "registered", "accept_rate": 21, "profile_image": "https://www.gravatar.com/avatar/90e9102d8eb4a5568575f9fe6918d8c1?s=128&d=identicon&r=PG", "display_name": "mezo", "link": "https://stackoverflow.com/users/2158951/mezo"}, "edited": false, "score": 0, "creation_date": 1430346332, "post_id": 29955507, "comment_id": 48032040, "body": "Your question is diffuclt to read or understand, you might want to improve it&#39;s formatting and I promise that then I will try to give an answer that you accept."}, {"owner": {"reputation": 383, "user_id": 2158951, "user_type": "registered", "accept_rate": 21, "profile_image": "https://www.gravatar.com/avatar/90e9102d8eb4a5568575f9fe6918d8c1?s=128&d=identicon&r=PG", "display_name": "mezo", "link": "https://stackoverflow.com/users/2158951/mezo"}, "edited": false, "score": 0, "creation_date": 1430346482, "post_id": 29955507, "comment_id": 48032110, "body": "Oh and I thought tag python did it, but obviously not. User space application is written in python. So I&#39;m looking for solution in python. in C I would obviously use fread."}, {"owner": {"reputation": 50953, "user_id": 1983495, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/aMDiK.jpg?s=128&g=1", "display_name": "Iharob Al Asimi", "link": "https://stackoverflow.com/users/1983495/iharob-al-asimi"}, "reply_to_user": {"reputation": 383, "user_id": 2158951, "user_type": "registered", "accept_rate": 21, "profile_image": "https://www.gravatar.com/avatar/90e9102d8eb4a5568575f9fe6918d8c1?s=128&d=identicon&r=PG", "display_name": "mezo", "link": "https://stackoverflow.com/users/2158951/mezo"}, "edited": false, "score": 0, "creation_date": 1430346814, "post_id": 29955507, "comment_id": 48032241, "body": "AFAIK in python you can just use <code>.readlines()</code> method of file objects, and you don&#39;t need to care about the rest, why isn&#39;t it working?"}, {"owner": {"reputation": 383, "user_id": 2158951, "user_type": "registered", "accept_rate": 21, "profile_image": "https://www.gravatar.com/avatar/90e9102d8eb4a5568575f9fe6918d8c1?s=128&d=identicon&r=PG", "display_name": "mezo", "link": "https://stackoverflow.com/users/2158951/mezo"}, "edited": false, "score": 0, "creation_date": 1430347639, "post_id": 29955507, "comment_id": 48032596, "body": "Because as I stated in question, it loops over printing a few lines sent to proc file over and over again..."}], "tags": [], "owner": {"reputation": 50953, "user_id": 1983495, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/aMDiK.jpg?s=128&g=1", "display_name": "Iharob Al Asimi", "link": "https://stackoverflow.com/users/1983495/iharob-al-asimi"}, "is_accepted": false, "score": 1, "last_activity_date": 1430346027, "last_edit_date": 1495542513, "creation_date": 1430345666, "answer_id": 29955507, "question_id": 29955458, "link": "https://stackoverflow.com/questions/29955458/read-file-without-eof-flag/29955507#29955507", "title": "Read file without EOF flag", "body": "<p>Files never contains <code>EOF</code>, it's not a character, so there is no way of doing what you want because it does not make sense.</p>\n\n<p>When you are reading from a file, the library marks the file handle with <code>EOF</code> when it attempts to read past the end of the file, after that a call to <code>feof(file)</code> would return a non-zero value. But there is no character read from the file that is the <code>EOF</code> character, if there was then how would you be able to store this particular value in a file?</p>\n\n<p>See <a href=\"https://stackoverflow.com/a/26557243/1983495\">this</a> for more information.</p>\n\n<p>You can build the following solution</p>\n\n<pre><code>size_t fileSize;\n\nfseek(file, 0L, SEEK_END);\nfileSize = ftell(file);\nfseek(file, 0L, SEEK_SET);\n</code></pre>\n\n<p>now you do know what to pass to <code>fread()</code>.</p>\n"}], "owner": {"reputation": 383, "user_id": 2158951, "user_type": "registered", "accept_rate": 21, "profile_image": "https://www.gravatar.com/avatar/90e9102d8eb4a5568575f9fe6918d8c1?s=128&d=identicon&r=PG", "display_name": "mezo", "link": "https://stackoverflow.com/users/2158951/mezo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 734, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1430346685, "creation_date": 1430345411, "last_edit_date": 1430346685, "question_id": 29955458, "link": "https://stackoverflow.com/questions/29955458/read-file-without-eof-flag", "title": "Read file without EOF flag", "body": "<p>Is there some smart way of reading content of file by lines (in python) if this file kinda acts like buffer?</p>\n\n<p>To be more specific I'm implementing simple firewall as kernel module which communicates with user space application through procfs. When userspace application requests to print all firewall rules procf_read function is called and all rules are stored in buffer which is later copied to user (<code>copy_to_user</code> func). If I use simple for loop to read file by lines it loops over file and prints lines just fine (let's say there are 3 of them) but then it loops over printing same lines over and over until whole buffer is read (my guess). I would like to print just these 3 lines ideally without inserting extra symbol to file's end to simulate 'EOF' and then detecting it in user space (python). I'm thinking of reading file by bytes but how to get number of bytes to read in C's <code>fread()</code> way?</p>\n"}, {"tags": ["python", "pandas", "export-to-excel"], "comments": [{"owner": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "edited": false, "score": 0, "creation_date": 1430345880, "post_id": 29955457, "comment_id": 48031859, "body": "A groupby object doesn;&#39;t do anything until you&#39;ve performed an operation on it. Can you show what you&#39;re trying to achieve here, as it sounds like all you may need is to set a multi-index"}, {"owner": {"reputation": 23, "user_id": 4843645, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/765b67d1fbc402cc2909c0eeb1c227b4?s=128&d=identicon&r=PG&f=1", "display_name": "user4843645", "link": "https://stackoverflow.com/users/4843645/user4843645"}, "reply_to_user": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "edited": false, "score": 0, "creation_date": 1430346394, "post_id": 29955457, "comment_id": 48032070, "body": "I had an original df that I grouped on and I want to export that result to excel except that it&#39;s now a dataframe groupby object."}, {"owner": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "edited": false, "score": 1, "creation_date": 1430346474, "post_id": 29955457, "comment_id": 48032107, "body": "Please show raw data and code to demonstrate your problem. The point being that when you perform an operation on a groupby object, it returns a df or series. If you just groupby on a column(s) it&#39;s just metadata for <i>how</i> to perform the groupby."}, {"owner": {"reputation": 23, "user_id": 4843645, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/765b67d1fbc402cc2909c0eeb1c227b4?s=128&d=identicon&r=PG&f=1", "display_name": "user4843645", "link": "https://stackoverflow.com/users/4843645/user4843645"}, "reply_to_user": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "edited": false, "score": 0, "creation_date": 1430347469, "post_id": 29955457, "comment_id": 48032521, "body": "Updated to show an example."}, {"owner": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "edited": false, "score": 1, "creation_date": 1430347716, "post_id": 29955457, "comment_id": 48032624, "body": "As I&#39;ve already stated just grouping on a column produces an object that describes how to perform the grouping, are you wanting this: <code>df.set_index(&#39;A&#39;).to_excel()</code>?"}], "answers": [{"tags": [], "owner": {"reputation": 4257, "user_id": 1577110, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/ca96cc231c44d10d8f78d1a7df698368?s=128&d=identicon&r=PG", "display_name": "Mark Graph", "link": "https://stackoverflow.com/users/1577110/mark-graph"}, "is_accepted": false, "score": 2, "last_activity_date": 1430614490, "last_edit_date": 1430614490, "creation_date": 1430528203, "answer_id": 29997177, "question_id": 29955457, "link": "https://stackoverflow.com/questions/29955457/cast-dataframe-groupby-to-dataframe/29997177#29997177", "title": "Cast dataframe groupby to dataframe", "body": "<p>I am not sure what you want to achieve. So here goes for a set of possible answers. </p>\n\n<p>But first: the bad news. A groupby object is not a DataFrame, and it cannot be saved to excel (or simply turned into a DataFrame).</p>\n\n<p>1) If you just want to sort the DataFrame, this will also \"group\" things</p>\n\n<pre><code>df.sort('A').to_excel('filename.xls')\n</code></pre>\n\n<p>2) If you want to get rid of the default index in Excel</p>\n\n<pre><code>df.sort('A').to_excel('filename.xls', index=None)\n</code></pre>\n\n<p>3) If you want each group on its own worksheet in Excel</p>\n\n<pre><code>grouped = df.groupby('A')\nfrom pandas import ExcelWriter\nwriter = ExcelWriter('filename.xls')\nfor k, g in grouped:\n    g.to_excel(writer, k)\nwriter.save()\n</code></pre>\n\n<p>4) You can concatenate the groups into a new DataFrame. But this is pretty much the same as the first sort option above</p>\n\n<pre><code>grouped = df.groupby('A')\nnew_df = pd.DataFrame()\nfor k, g in grouped:\n    new_df = pd.concat([new_df, g], axis=0)\nnew_df.to_excel('filename.xls')\n</code></pre>\n\n<p>5) A first exercise in meaninglessness ... a pass through transform function ... but this just gives you your DataFrame back ...</p>\n\n<pre><code>df = df.set_index('A')\ngrouped = df.groupby(level=0)\ngrouped.transform(lambda x: x).to_excel('filename.xls')\n</code></pre>\n\n<p>6) Another exercise in meaninglessness ... this time with a pass through filter function ...</p>\n\n<pre><code># start with initial data\ngrouped = df.groupby('A')\ngrouped.filter(lambda x: True).to_excel('filename.xls')\n</code></pre>\n\n<p>7) If you want to look inside of the groupby you can always do the following ... (but note this does not save to Excel) ...</p>\n\n<pre><code># start with initial data\ngrouped = df.groupby('A')\ngroups = dict(list(grouped))\nprint[groups['foo'])\nprint[groups['bar'])\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 4843645, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/765b67d1fbc402cc2909c0eeb1c227b4?s=128&d=identicon&r=PG&f=1", "display_name": "user4843645", "link": "https://stackoverflow.com/users/4843645/user4843645"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1204, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1430614490, "creation_date": 1430345403, "last_edit_date": 1430347449, "question_id": 29955457, "link": "https://stackoverflow.com/questions/29955457/cast-dataframe-groupby-to-dataframe", "title": "Cast dataframe groupby to dataframe", "body": "<p>All I need is to cast a DataFrameGroupBy object to a DataFrame in order to export to excel using <code>df.to_excel()</code>. When I try to do <code>df_groupby = pd.DataFrame(df_groupby)</code> I get the error: <code>PandasError: DataFrame constructor not properly called!</code></p>\n\n<p>Original df:</p>\n\n<pre><code> df = DataFrame({'A' : ['foo', 'bar', 'foo', 'bar',\n                       'foo', 'bar', 'foo', 'foo'],\n                 'B' : ['one', 'one', 'two', 'three',\n                        'two', 'two', 'one', 'three'],\n                 'C' : randn(8), 'D' : randn(8)})\n\nIn [2]: df\nOut[2]: \n A      B         C         D\n 0  foo    one  0.469112 -0.861849\n 1  bar    one -0.282863 -2.104569\n 2  foo    two -1.509059 -0.494929\n 3  bar  three -1.135632  1.071804\n 4  foo    two  1.212112  0.721555\n 5  bar    two -0.173215 -0.706771\n 6  foo    one  0.119209 -1.039575\n 7  foo  three -1.044236  0.271860\n</code></pre>\n\n<p><code>grouped = df.groupby('A')</code></p>\n\n<p>I want to export <code>grouped</code> to excel.</p>\n"}, {"tags": ["python", "string", "dictionary", "newline"], "comments": [{"owner": {"reputation": 2289, "user_id": 1664675, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/e9526be62369d44940cded06d9b1f7f8?s=128&d=identicon&r=PG", "display_name": "letsc", "link": "https://stackoverflow.com/users/1664675/letsc"}, "edited": false, "score": 1, "creation_date": 1430345377, "post_id": 29955433, "comment_id": 48031677, "body": "what did you try? How does your file look like?"}, {"owner": {"reputation": 780, "user_id": 1249759, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1340125616a6a61668aa0f3143e24b06?s=128&d=identicon&r=PG", "display_name": "Saicharan S M", "link": "https://stackoverflow.com/users/1249759/saicharan-s-m"}, "edited": false, "score": 0, "creation_date": 1430345512, "post_id": 29955433, "comment_id": 48031725, "body": "Have a look at this: <a href=\"http://stackoverflow.com/questions/988228/converting-a-string-to-dictionary\" title=\"converting a string to dictionary\">stackoverflow.com/questions/988228/&hellip;</a>"}, {"owner": {"reputation": 15, "user_id": 4783829, "user_type": "registered", "profile_image": "https://graph.facebook.com/834448689936404/picture?type=large", "display_name": "Diana Vasconcelos Ferreira", "link": "https://stackoverflow.com/users/4783829/diana-vasconcelos-ferreira"}, "edited": false, "score": 0, "creation_date": 1430345569, "post_id": 29955433, "comment_id": 48031750, "body": "I try using dict, with something I saw here, but it didn&#39;t work, because I have a dictionary in another dictionary, I guess. I thought of creating a new dictionary and putting the elements there, but I don&#39;t now how to take the str..."}, {"owner": {"reputation": 44359, "user_id": 2363712, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/beAJU.jpg?s=128&g=1", "display_name": "Sylvain Leroux", "link": "https://stackoverflow.com/users/2363712/sylvain-leroux"}, "edited": false, "score": 1, "creation_date": 1430345603, "post_id": 29955433, "comment_id": 48031761, "body": "Given the description in the question, <a href=\"https://docs.python.org/2/library/ast.html#ast.literal_eval\" rel=\"nofollow noreferrer\"><code>ast.literal_eval</code></a>is clearly the way to go."}, {"owner": {"reputation": 15, "user_id": 4783829, "user_type": "registered", "profile_image": "https://graph.facebook.com/834448689936404/picture?type=large", "display_name": "Diana Vasconcelos Ferreira", "link": "https://stackoverflow.com/users/4783829/diana-vasconcelos-ferreira"}, "reply_to_user": {"reputation": 780, "user_id": 1249759, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1340125616a6a61668aa0f3143e24b06?s=128&d=identicon&r=PG", "display_name": "Saicharan S M", "link": "https://stackoverflow.com/users/1249759/saicharan-s-m"}, "edited": false, "score": 0, "creation_date": 1430346221, "post_id": 29955433, "comment_id": 48031994, "body": "@SaicharanSM I actually have seen that, but I wanted to avoid any other imports (because I already have a lot)."}, {"owner": {"reputation": 15, "user_id": 4783829, "user_type": "registered", "profile_image": "https://graph.facebook.com/834448689936404/picture?type=large", "display_name": "Diana Vasconcelos Ferreira", "link": "https://stackoverflow.com/users/4783829/diana-vasconcelos-ferreira"}, "reply_to_user": {"reputation": 44359, "user_id": 2363712, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/beAJU.jpg?s=128&g=1", "display_name": "Sylvain Leroux", "link": "https://stackoverflow.com/users/2363712/sylvain-leroux"}, "edited": false, "score": 0, "creation_date": 1430346271, "post_id": 29955433, "comment_id": 48032013, "body": "@SylvainLeroux I will probably use that, but do I have to import ast?"}, {"owner": {"reputation": 44359, "user_id": 2363712, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/beAJU.jpg?s=128&g=1", "display_name": "Sylvain Leroux", "link": "https://stackoverflow.com/users/2363712/sylvain-leroux"}, "edited": false, "score": 0, "creation_date": 1430347621, "post_id": 29955433, "comment_id": 48032583, "body": "@Diana <code>ast</code> is a standard module -- it should be available on any (decently recent) standard installation of Python. You only have to add <code>import ast</code> to use it."}], "answers": [{"comments": [{"owner": {"reputation": 821764, "user_id": 893, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/747ffa5da3538e66840ebc0548b8fd58?s=128&d=identicon&r=PG", "display_name": "Greg Hewgill", "link": "https://stackoverflow.com/users/893/greg-hewgill"}, "edited": false, "score": 1, "creation_date": 1430345667, "post_id": 29955482, "comment_id": 48031783, "body": "Using <code>exec</code> is terrible advice here."}, {"owner": {"reputation": 7240, "user_id": 4767343, "user_type": "registered", "accept_rate": 89, "profile_image": "https://lh3.googleusercontent.com/-Buw_Ds08SUU/AAAAAAAAAAI/AAAAAAAAAAA/y9p3p3MOmHE/photo.jpg?sz=128", "display_name": "Jose Ricardo Bustos M.", "link": "https://stackoverflow.com/users/4767343/jose-ricardo-bustos-m"}, "reply_to_user": {"reputation": 821764, "user_id": 893, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/747ffa5da3538e66840ebc0548b8fd58?s=128&d=identicon&r=PG", "display_name": "Greg Hewgill", "link": "https://stackoverflow.com/users/893/greg-hewgill"}, "edited": false, "score": 0, "creation_date": 1430345842, "post_id": 29955482, "comment_id": 48031848, "body": "@GregHewgill why? could you tell me why ?"}, {"owner": {"reputation": 821764, "user_id": 893, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/747ffa5da3538e66840ebc0548b8fd58?s=128&d=identicon&r=PG", "display_name": "Greg Hewgill", "link": "https://stackoverflow.com/users/893/greg-hewgill"}, "edited": false, "score": 1, "creation_date": 1430346001, "post_id": 29955482, "comment_id": 48031908, "body": "(1) Using <code>exec</code> exposes your code to injection or DoS attacks when the input is from some external source. (2) Using <code>exec</code> requires another variable (<code>d</code>) which even using the general <code>eval</code> would avoid. (3) Using <code>exec</code> within a function can severely impact the performance, because its presence disables many optimisations that the compiler can do."}, {"owner": {"reputation": 7240, "user_id": 4767343, "user_type": "registered", "accept_rate": 89, "profile_image": "https://lh3.googleusercontent.com/-Buw_Ds08SUU/AAAAAAAAAAI/AAAAAAAAAAA/y9p3p3MOmHE/photo.jpg?sz=128", "display_name": "Jose Ricardo Bustos M.", "link": "https://stackoverflow.com/users/4767343/jose-ricardo-bustos-m"}, "reply_to_user": {"reputation": 821764, "user_id": 893, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/747ffa5da3538e66840ebc0548b8fd58?s=128&d=identicon&r=PG", "display_name": "Greg Hewgill", "link": "https://stackoverflow.com/users/893/greg-hewgill"}, "edited": false, "score": 0, "creation_date": 1430346445, "post_id": 29955482, "comment_id": 48032095, "body": "@GregHewgill (1) it depends on the use of the script if it is for personal use there is no problem, sometimes don&#39;t be paranoid (2) why? do not give a reason (3) this is true, but sometimes the performance isn&#39;t the most important ....."}, {"owner": {"reputation": 821764, "user_id": 893, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/747ffa5da3538e66840ebc0548b8fd58?s=128&d=identicon&r=PG", "display_name": "Greg Hewgill", "link": "https://stackoverflow.com/users/893/greg-hewgill"}, "edited": false, "score": 0, "creation_date": 1430346488, "post_id": 29955482, "comment_id": 48032113, "body": "(4) There is a much better alternative for this purpose (<code>ast.literal_eval</code>)."}, {"owner": {"reputation": 7240, "user_id": 4767343, "user_type": "registered", "accept_rate": 89, "profile_image": "https://lh3.googleusercontent.com/-Buw_Ds08SUU/AAAAAAAAAAI/AAAAAAAAAAA/y9p3p3MOmHE/photo.jpg?sz=128", "display_name": "Jose Ricardo Bustos M.", "link": "https://stackoverflow.com/users/4767343/jose-ricardo-bustos-m"}, "reply_to_user": {"reputation": 821764, "user_id": 893, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/747ffa5da3538e66840ebc0548b8fd58?s=128&d=identicon&r=PG", "display_name": "Greg Hewgill", "link": "https://stackoverflow.com/users/893/greg-hewgill"}, "edited": false, "score": 0, "creation_date": 1430346581, "post_id": 29955482, "comment_id": 48032147, "body": "@GregHewgill (4) you are right .... is better <code>ast.literal_eval</code> .... but .... it isn&#39;t my answer &quot;terrible advice&quot;"}, {"owner": {"reputation": 821764, "user_id": 893, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/747ffa5da3538e66840ebc0548b8fd58?s=128&d=identicon&r=PG", "display_name": "Greg Hewgill", "link": "https://stackoverflow.com/users/893/greg-hewgill"}, "edited": false, "score": 0, "creation_date": 1430346646, "post_id": 29955482, "comment_id": 48032174, "body": "Then I would suggest changing &quot;should&quot; in your answer to &quot;can&quot;. There is no reason to choose <code>exec</code> over any of the other choices presented in the answers here."}, {"owner": {"reputation": 7240, "user_id": 4767343, "user_type": "registered", "accept_rate": 89, "profile_image": "https://lh3.googleusercontent.com/-Buw_Ds08SUU/AAAAAAAAAAI/AAAAAAAAAAA/y9p3p3MOmHE/photo.jpg?sz=128", "display_name": "Jose Ricardo Bustos M.", "link": "https://stackoverflow.com/users/4767343/jose-ricardo-bustos-m"}, "reply_to_user": {"reputation": 821764, "user_id": 893, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/747ffa5da3538e66840ebc0548b8fd58?s=128&d=identicon&r=PG", "display_name": "Greg Hewgill", "link": "https://stackoverflow.com/users/893/greg-hewgill"}, "edited": false, "score": 0, "creation_date": 1430346951, "post_id": 29955482, "comment_id": 48032305, "body": "@GregHewgill you are right .... english problem .... I confuse may, can , could, might, and must ..... in my native language they are similar"}, {"owner": {"reputation": 821764, "user_id": 893, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/747ffa5da3538e66840ebc0548b8fd58?s=128&d=identicon&r=PG", "display_name": "Greg Hewgill", "link": "https://stackoverflow.com/users/893/greg-hewgill"}, "edited": false, "score": 0, "creation_date": 1430347003, "post_id": 29955482, "comment_id": 48032328, "body": "No worries. I&#39;ll remove my downvote."}, {"owner": {"reputation": 9620, "user_id": 1783163, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/BfUwH.jpg?s=128&g=1", "display_name": "peterh", "link": "https://stackoverflow.com/users/1783163/peterh"}, "edited": false, "score": 0, "creation_date": 1430365754, "post_id": 29955482, "comment_id": 48037941, "body": "Although the code is appreciated, it should always have an accompanying explanation. This doesn&#39;t have to be long but it is expected."}, {"owner": {"reputation": 7240, "user_id": 4767343, "user_type": "registered", "accept_rate": 89, "profile_image": "https://lh3.googleusercontent.com/-Buw_Ds08SUU/AAAAAAAAAAI/AAAAAAAAAAA/y9p3p3MOmHE/photo.jpg?sz=128", "display_name": "Jose Ricardo Bustos M.", "link": "https://stackoverflow.com/users/4767343/jose-ricardo-bustos-m"}, "reply_to_user": {"reputation": 9620, "user_id": 1783163, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/BfUwH.jpg?s=128&g=1", "display_name": "peterh", "link": "https://stackoverflow.com/users/1783163/peterh"}, "edited": false, "score": 0, "creation_date": 1430391167, "post_id": 29955482, "comment_id": 48051275, "body": "@peterh done, add better explanation"}], "tags": [], "owner": {"reputation": 7240, "user_id": 4767343, "user_type": "registered", "accept_rate": 89, "profile_image": "https://lh3.googleusercontent.com/-Buw_Ds08SUU/AAAAAAAAAAI/AAAAAAAAAAA/y9p3p3MOmHE/photo.jpg?sz=128", "display_name": "Jose Ricardo Bustos M.", "link": "https://stackoverflow.com/users/4767343/jose-ricardo-bustos-m"}, "is_accepted": false, "score": 0, "last_activity_date": 1430391093, "last_edit_date": 1430391093, "creation_date": 1430345546, "answer_id": 29955482, "question_id": 29955433, "link": "https://stackoverflow.com/questions/29955433/converting-string-to-dictionary-python/29955482#29955482", "title": "Converting string to dictionary python", "body": "<p>although better <code>ast.literal_eval</code> use, depending on the circumstances may be used <code>exec</code>, who interprete all code into a string</p>\n\n<pre><code>s = \"{'Greennhouse 1': {'Product': '4', 'Location of greenhouse': '2', 'Unities of the product': 6, 'Designation': '1', 'Growth state of the product': '5', 'Code of wsn': 1, 'Area of greenhouse': 3}}\\n\"\ns = \"d=\" + s\nexec s\nprint d\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 15, "user_id": 4783829, "user_type": "registered", "profile_image": "https://graph.facebook.com/834448689936404/picture?type=large", "display_name": "Diana Vasconcelos Ferreira", "link": "https://stackoverflow.com/users/4783829/diana-vasconcelos-ferreira"}, "edited": false, "score": 0, "creation_date": 1430348133, "post_id": 29955523, "comment_id": 48032809, "body": "I use that and it worked. But now I can&#39;t get values from the dictionary... What should I do? I already try by creating a new dictionary, using the get(), but nothing works..."}, {"owner": {"reputation": 821764, "user_id": 893, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/747ffa5da3538e66840ebc0548b8fd58?s=128&d=identicon&r=PG", "display_name": "Greg Hewgill", "link": "https://stackoverflow.com/users/893/greg-hewgill"}, "reply_to_user": {"reputation": 15, "user_id": 4783829, "user_type": "registered", "profile_image": "https://graph.facebook.com/834448689936404/picture?type=large", "display_name": "Diana Vasconcelos Ferreira", "link": "https://stackoverflow.com/users/4783829/diana-vasconcelos-ferreira"}, "edited": false, "score": 0, "creation_date": 1430361918, "post_id": 29955523, "comment_id": 48036925, "body": "@DianaVasconcelosFerreira: It&#39;s unclear what you mean by &quot;it worked&quot; and then you say that you can&#39;t get values from the dictionary. If you continue to have trouble, I suggest opening a new question for the next problem you encounter."}], "tags": [], "owner": {"reputation": 821764, "user_id": 893, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/747ffa5da3538e66840ebc0548b8fd58?s=128&d=identicon&r=PG", "display_name": "Greg Hewgill", "link": "https://stackoverflow.com/users/893/greg-hewgill"}, "is_accepted": false, "score": 4, "last_activity_date": 1430346518, "last_edit_date": 1430346518, "creation_date": 1430345746, "answer_id": 29955523, "question_id": 29955433, "link": "https://stackoverflow.com/questions/29955433/converting-string-to-dictionary-python/29955523#29955523", "title": "Converting string to dictionary python", "body": "<p>The <a href=\"https://docs.python.org/2/library/ast.html#ast.literal_eval\" rel=\"nofollow\"><code>ast.literal_eval</code></a> function is designed to convert Python literal expressions represented as a string, into actual Python data structures. So:</p>\n\n<pre><code>import ast\n\ndictionary = ast.literal_eval(string)\n</code></pre>\n\n<p>The presence of the <code>\\n</code> newline character in the input will be of no consequence.</p>\n"}, {"tags": [], "owner": {"reputation": 132, "user_id": 4040569, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/92e5a5a560749fdfd82138a88e9cf172?s=128&d=identicon&r=PG&f=1", "display_name": "rawinput", "link": "https://stackoverflow.com/users/4040569/rawinput"}, "is_accepted": false, "score": 0, "last_activity_date": 1430346328, "creation_date": 1430346328, "answer_id": 29955658, "question_id": 29955433, "link": "https://stackoverflow.com/questions/29955433/converting-string-to-dictionary-python/29955658#29955658", "title": "Converting string to dictionary python", "body": "<p>to get your dictionnary from a file as the way you want you have to save it like an object you can use pickle from python standard library</p>\n\n<pre><code>import pickle\nmydic = {'Greennhouse 1': {'Product': '4', 'Location of greenhouse': '2',\n       'Unities of the product': 6, 'Designation': '1', 'Growth state of the\n        product': '5', 'Code of wsn': 1, 'Area of greenhouse': 3}}\nwith open(\"mydic.dic\",\"wb\") as f :\n    pickle.dump(mydic,f)\n# later in code\nwith open(\"mydic.dic\",\"rb\") as f :\n    mynewdic = pickle.load(f)\n    print mynewdic\n</code></pre>\n"}], "owner": {"reputation": 15, "user_id": 4783829, "user_type": "registered", "profile_image": "https://graph.facebook.com/834448689936404/picture?type=large", "display_name": "Diana Vasconcelos Ferreira", "link": "https://stackoverflow.com/users/4783829/diana-vasconcelos-ferreira"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 138, "favorite_count": 0, "closed_date": 1430346381, "answer_count": 3, "score": -2, "last_activity_date": 1430391093, "creation_date": 1430345266, "last_edit_date": 1430345337, "question_id": 29955433, "link": "https://stackoverflow.com/questions/29955433/converting-string-to-dictionary-python", "closed_reason": "Duplicate", "title": "Converting string to dictionary python", "body": "<p>I created a file and there is a dictionary.\nNow I want that dictionary from the file but I do not want in string and I don't want the newline character.\nI obtained something like this:</p>\n\n<pre><code>\"{'Greennhouse 1': {'Product': '4', 'Location of greenhouse': '2',\n'Unities of the product': 6, 'Designation': '1', 'Growth state of the\nproduct': '5', 'Code of wsn': 1, 'Area of greenhouse': 3}}\\n\"\n</code></pre>\n\n<p>But I want this:</p>\n\n<pre><code>{'Greennhouse 1': {'Product': '4', 'Location of greenhouse': '2',\n'Unities of the product': 6, 'Designation': '1', 'Growth state of the\nproduct': '5', 'Code of wsn': 1, 'Area of greenhouse': 3}}\n</code></pre>\n"}, {"tags": ["python", "tkinter"], "comments": [{"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 2, "creation_date": 1430349298, "post_id": 29955432, "comment_id": 48033271, "body": "You need a <code>from Tkinter import Button</code> near the top."}], "answers": [{"tags": [], "owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "is_accepted": false, "score": 0, "last_activity_date": 1430430451, "creation_date": 1430430451, "answer_id": 29978391, "question_id": 29955432, "link": "https://stackoverflow.com/questions/29955432/gui-button-and-entry-widgets/29978391#29978391", "title": "GUI button and entry widgets", "body": "<p>You need to properly import tkinter. I recommend <em>not</em> using global imports. Remove all of your attempts at importing tkinter and do it like this:</p>\n\n<pre><code>import Tkinter as tk\n...\nself.result = tk.StringVar()\n...\nself.startBtn = tk.Button(...)\n...\n</code></pre>\n\n<p>Notice how this imports tkinter with the name <code>tk</code> (for brevity), and then prefix tkinter classes with <code>tk.</code>. This makes it clear that you are using the <code>Button</code> class from tkinter and not from some other module.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user4848401"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 70, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1430430451, "creation_date": 1430345255, "last_edit_date": 1430430270, "question_id": 29955432, "link": "https://stackoverflow.com/questions/29955432/gui-button-and-entry-widgets", "title": "GUI button and entry widgets", "body": "<p>I have a project for CS and it is dealing with GUI's in python.\nIt's a three part project with 3 different classes. In the last class when I am trying to add a button widget or entry widget I keep on getting an error:            </p>\n\n<pre><code>global name 'Button' is not defined \n</code></pre>\n\n<hr>\n\n<pre><code>from Spotter import Spotter\nfrom Cloud import Cloud\nfrom Tkinter import tkinter, Tk, StringVar\nfrom random import randint\nimport time\nimport math\n\nclass Cloudspotting (Spotter):\n\n     # create the buttons\n     def __init__(self, root):\n         Spotter.__init__(self, root)\n         # the result binding variable\n         self.result = StringVar()\n         self.result.set('')\n\n         # create the buttons and result entry\n         self.startBtn = Button(self.frame, text='Start', command=self.start)\n         self.stopBtn = Button(self.frame, text='Stop', command=self.stop)\n         self.clearBtn = Button(self.frame, text='Clear', command=self.clear)\n         self.resultEntry = Entry(self.frame, textvariable=self.result, state='readonly')\n\n         # display the buttons and entry on the frame\n         self.startBtn.grid(row=2, column=1)\n         self.stopBtn.grid(row=2, column=2)\n         self.clearBtn.grid(row=2, column=3)\n         self.resultEntry.grid(row=2, column=4, columnspan=2)\n\n         # clouds\n         self.clouds = None\n</code></pre>\n"}, {"tags": ["python", "websocket", "twisted", "autobahn"], "answers": [{"comments": [{"owner": {"reputation": 132, "user_id": 4040569, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/92e5a5a560749fdfd82138a88e9cf172?s=128&d=identicon&r=PG&f=1", "display_name": "rawinput", "link": "https://stackoverflow.com/users/4040569/rawinput"}, "reply_to_user": {"reputation": 2191, "user_id": 568829, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/sYp5A.jpg?s=128&g=1", "display_name": "someuser", "link": "https://stackoverflow.com/users/568829/someuser"}, "edited": false, "score": 0, "creation_date": 1430350906, "post_id": 29956091, "comment_id": 48033758, "body": "the reactor must be started in the main thread and to use thread in twisted you have to use twisted threading module but why you want to use thread ?"}, {"owner": {"reputation": 2191, "user_id": 568829, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/sYp5A.jpg?s=128&g=1", "display_name": "someuser", "link": "https://stackoverflow.com/users/568829/someuser"}, "edited": false, "score": 0, "creation_date": 1430352483, "post_id": 29956091, "comment_id": 48034222, "body": "This explains what I am trying to do: <a href=\"http://stackoverflow.com/questions/29951718/autobahn-sending-user-specific-and-broadcast-messages-from-external-application\" title=\"autobahn sending user specific and broadcast messages from external application\">stackoverflow.com/questions/29951718/&hellip;</a>"}, {"owner": {"reputation": 132, "user_id": 4040569, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/92e5a5a560749fdfd82138a88e9cf172?s=128&d=identicon&r=PG&f=1", "display_name": "rawinput", "link": "https://stackoverflow.com/users/4040569/rawinput"}, "reply_to_user": {"reputation": 2191, "user_id": 568829, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/sYp5A.jpg?s=128&g=1", "display_name": "someuser", "link": "https://stackoverflow.com/users/568829/someuser"}, "edited": false, "score": 0, "creation_date": 1430353196, "post_id": 29956091, "comment_id": 48034447, "body": "if it&#39;s an external application that send messages to twisted so why class Connection(threading.Thread): use the reactor directly in the main thread and time.sleep() can not be applied"}, {"owner": {"reputation": 2191, "user_id": 568829, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/sYp5A.jpg?s=128&g=1", "display_name": "someuser", "link": "https://stackoverflow.com/users/568829/someuser"}, "edited": false, "score": 0, "creation_date": 1430354812, "post_id": 29956091, "comment_id": 48034867, "body": "Using your code I made a new version without threading but the process never gets to: Test.send(&quot;hello&quot;)"}, {"owner": {"reputation": 132, "user_id": 4040569, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/92e5a5a560749fdfd82138a88e9cf172?s=128&d=identicon&r=PG&f=1", "display_name": "rawinput", "link": "https://stackoverflow.com/users/4040569/rawinput"}, "reply_to_user": {"reputation": 2191, "user_id": 568829, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/sYp5A.jpg?s=128&g=1", "display_name": "someuser", "link": "https://stackoverflow.com/users/568829/someuser"}, "edited": false, "score": 0, "creation_date": 1430355934, "post_id": 29956091, "comment_id": 48035200, "body": "you are making a server so you can&#39;t send a message to a client that doesn&#39;t exist yet  so remove the Test.send(&quot;hello&quot;)"}, {"owner": {"reputation": 2191, "user_id": 568829, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/sYp5A.jpg?s=128&g=1", "display_name": "someuser", "link": "https://stackoverflow.com/users/568829/someuser"}, "edited": false, "score": 0, "creation_date": 1430358248, "post_id": 29956091, "comment_id": 48035921, "body": "Yes, I know, but what I cannot figure out is how to connect to the server to broadcast messages.. Do I just connect as a regular client and send, for example, specially formed JSON which triggers the server to respond in a particular manner."}, {"owner": {"reputation": 132, "user_id": 4040569, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/92e5a5a560749fdfd82138a88e9cf172?s=128&d=identicon&r=PG&f=1", "display_name": "rawinput", "link": "https://stackoverflow.com/users/4040569/rawinput"}, "reply_to_user": {"reputation": 2191, "user_id": 568829, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/sYp5A.jpg?s=128&g=1", "display_name": "someuser", "link": "https://stackoverflow.com/users/568829/someuser"}, "edited": false, "score": 0, "creation_date": 1430359205, "post_id": 29956091, "comment_id": 48036160, "body": "if you want to send a message to another server just use ClientFactory (tcp or udp or http etc ... ) and send your message to the server but if this is the server  you have to wait for a connection wich will hold the message so can can trigger something"}], "tags": [], "owner": {"reputation": 132, "user_id": 4040569, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/92e5a5a560749fdfd82138a88e9cf172?s=128&d=identicon&r=PG&f=1", "display_name": "rawinput", "link": "https://stackoverflow.com/users/4040569/rawinput"}, "is_accepted": false, "score": 3, "last_activity_date": 1443681755, "last_edit_date": 1443681755, "creation_date": 1430348385, "answer_id": 29956091, "question_id": 29955373, "link": "https://stackoverflow.com/questions/29955373/autobahn-with-sendmessage-using-threading-and-twisted/29956091#29956091", "title": "Autobahn with sendMessage using threading and twisted", "body": "<p>you can't start thread like that in twisted </p>\n\n<pre><code>from autobahn.twisted.websocket import WebSocketServerProtocol, WebSocketServerFactory\n\nfrom twisted.python import log\nfrom twisted.internet import reactor\nimport sys\n\nclass MyServerProtocol(WebSocketServerProtocol):\n\n    def onConnect(self, request):\n        print(\"Client connecting: {0}\".format(request.peer))\n\n    def onOpen(self):\n        print(\"WebSocket connection open.\")\n\n    def onMessage(self, payload, isBinary):\n        if isBinary:\n            print(\"Binary message received: {0} bytes\".format(len(payload)))\n        else:\n            print(\"Text message received: {0}\".format(payload.decode('utf8')))\n\n        # echo back message verbatim\n        self.sendMessage(payload, isBinary)\n\n    def onClose(self, wasClean, code, reason):\n        print(\"WebSocket connection closed: {0}\".format(reason))\n\n    def send(self, data):\n\n        data = format(data.encode('utf8'))\n        protocol = MyServerProtocol()\n        reactor.callFromThread(protocol.sendMessage, protocol, data) \n\nclass Test(MyServerProtocol):\n\n    def __init__(self):\n        self.factory=WebSocketServerFactory(\"ws://localhost:9000\", debug=False)\n        log.startLogging(sys.stdout)\n        self.factory.protocol = MyServerProtocol\n        reactor.listenTCP(9000, self.factory)\n        reactor.run(installSignalHandlers=0)\n\n\nTest = Test()\n\n\nprint \"Running\"\n</code></pre>\n"}], "owner": {"reputation": 2191, "user_id": 568829, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/sYp5A.jpg?s=128&g=1", "display_name": "someuser", "link": "https://stackoverflow.com/users/568829/someuser"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2517, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1443681755, "creation_date": 1430344913, "last_edit_date": 1495535418, "question_id": 29955373, "link": "https://stackoverflow.com/questions/29955373/autobahn-with-sendmessage-using-threading-and-twisted", "title": "Autobahn with sendMessage using threading and twisted", "body": "<p>From this thread (<a href=\"https://stackoverflow.com/questions/28799754/sendmessage-from-outside-in-autobahn-running-in-separate-thread\">sendMessage from outside in autobahn running in separate thread</a>) I am trying to get the code below working.</p>\n\n<p>But I am getting the following error:</p>\n\n<pre><code>  File \"/usr/local/lib/python2.7/dist-packages/autobahn/websocket/protocol.py\", line 2421, in sendMessage\n    assert(type(payload) == bytes)\nexceptions.AssertionError: \n</code></pre>\n\n<p>Can anybody tell me where I am going wrong?</p>\n\n<pre><code>from autobahn.twisted.websocket import WebSocketServerProtocol, WebSocketServerFactory\n\nimport threading\nfrom twisted.python import log\nfrom twisted.internet import reactor\nimport sys\nimport time\n\nclass MyServerProtocol(WebSocketServerProtocol):\n\n    def onConnect(self, request):\n        print(\"Client connecting: {0}\".format(request.peer))\n\n    def onOpen(self):\n        print(\"WebSocket connection open.\")\n\n    def onMessage(self, payload, isBinary):\n        if isBinary:\n            print(\"Binary message received: {0} bytes\".format(len(payload)))\n        else:\n            print(\"Text message received: {0}\".format(payload.decode('utf8')))\n\n        # echo back message verbatim\n        self.sendMessage(payload, isBinary)\n\n    def onClose(self, wasClean, code, reason):\n        print(\"WebSocket connection closed: {0}\".format(reason))\n\n\nclass Connection(threading.Thread):\n    def __init__(self):\n        super(Connection, self).__init__()\n        self.factory=WebSocketServerFactory(\"ws://localhost:9000\", debug=False)\n    def run(self):\n        log.startLogging(sys.stdout)\n        self.factory.protocol = MyServerProtocol()\n        reactor.listenTCP(9000, self.factory)\n        reactor.run(installSignalHandlers=0)\n\n    def send(self, data):\n\n        data = format(data.encode('utf8'))\n        protocol = MyServerProtocol()\n        reactor.callFromThread(protocol.sendMessage, protocol, data) \n\n\nconnection = Connection()\nconnection.daemon = True\nconnection.start()\nprint \"Running\"\n\nfor x in range(1, 100):\n\n    connection.send(\"hello\")\n    time.sleep(2)\n</code></pre>\n\n<p>Thanks</p>\n\n<p>EDIT 1:</p>\n\n<p>Full Error:</p>\n\n<pre><code>2015-04-30 07:27:09+0930 [-] Log opened.\n2015-04-30 07:27:09+0930 [-] WebSocketServerFactory starting on 9000\n2015-04-30 07:27:09+0930 [-] Running\n2015-04-30 07:27:09+0930 [-] Starting factory &lt;autobahn.twisted.websocket.WebSocketServerFactory object at 0x7fa97f888a50&gt;\n2015-04-30 07:27:09+0930 [-] Unhandled Error\n    Traceback (most recent call last):\n      File \"/usr/lib/python2.7/threading.py\", line 810, in __bootstrap_inner\n        self.run()\n      File \"/home/me/Development/eclipse/new_workspace/Engine2/websockets/maybe.py\", line 39, in run\n        reactor.run(installSignalHandlers=0)\n      File \"/usr/local/lib/python2.7/dist-packages/twisted/internet/base.py\", line 1192, in run\n        self.mainLoop()\n      File \"/usr/local/lib/python2.7/dist-packages/twisted/internet/base.py\", line 1201, in mainLoop\n        self.runUntilCurrent()\n    --- &lt;exception caught here&gt; ---\n      File \"/usr/local/lib/python2.7/dist-packages/twisted/internet/base.py\", line 797, in runUntilCurrent\n        f(*a, **kw)\n      File \"/usr/local/lib/python2.7/dist-packages/autobahn/websocket/protocol.py\", line 2421, in sendMessage\n        assert(type(payload) == bytes)\n    exceptions.AssertionError: \n</code></pre>\n\n<p>EDIT 2:</p>\n\n<p>Removed threading:</p>\n\n<pre><code>from autobahn.twisted.websocket import WebSocketServerProtocol, WebSocketServerFactory\n\nfrom twisted.python import log\nfrom twisted.internet import reactor\nimport sys\n\nclass MyServerProtocol(WebSocketServerProtocol):\n\n    def onConnect(self, request):\n        print(\"Client connecting: {0}\".format(request.peer))\n\n    def onOpen(self):\n        print(\"WebSocket connection open.\")\n\n    def onMessage(self, payload, isBinary):\n        if isBinary:\n            print(\"Binary message received: {0} bytes\".format(len(payload)))\n        else:\n            print(\"Text message received: {0}\".format(payload.decode('utf8')))\n\n        # echo back message verbatim\n        self.sendMessage(payload, isBinary)\n\n    def onClose(self, wasClean, code, reason):\n        print(\"WebSocket connection closed: {0}\".format(reason))\n\n    def send(self, data):\n\n        data = format(data.encode('utf8'))\n        protocol = MyServerProtocol()\n        reactor.callFromThread(protocol.sendMessage, protocol, data) \n\nclass Test(MyServerProtocol):\n\n    def __init__(self):\n        self.factory=WebSocketServerFactory(\"ws://localhost:9000\", debug=False)\n        log.startLogging(sys.stdout)\n        self.factory.protocol = MyServerProtocol\n        reactor.listenTCP(9000, self.factory)\n        reactor.run(installSignalHandlers=0)\n\n\nTest = Test()\nTest.send(\"hello\")\n\nprint \"Running\"\n</code></pre>\n"}, {"tags": ["python", "windows", "curses"], "comments": [{"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1430344627, "post_id": 29955294, "comment_id": 48031356, "body": "nothing ... that is the initialized screen ... what you need to do is read some tutorials on it :P"}, {"owner": {"reputation": 1399, "user_id": 4014768, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/07a931f7571f29d1ec49f9645f041b43?s=128&d=identicon&r=PG&f=1", "display_name": "jpf", "link": "https://stackoverflow.com/users/4014768/jpf"}, "reply_to_user": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1430345039, "post_id": 29955294, "comment_id": 48031532, "body": "@JoranBeasley That&#39;s exactly what I was doing. The howto link above is the first thing that comes up when I google &quot;tutorial on curses python&quot;. If I haven&#39;t been clear, the DOS emulator does not respond at all to keyboard input when I&#39;ve run the commands above. Is that the correct behavior?"}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1430345615, "post_id": 29955294, "comment_id": 48031769, "body": "I seem to remember that being the case (Its been quite a while since i messed with curses ... ) although I just tried to install the whl and it didnt work as I expected... curses is a real pain I would recommend a real gui framework instead tbh"}, {"owner": {"reputation": 1399, "user_id": 4014768, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/07a931f7571f29d1ec49f9645f041b43?s=128&d=identicon&r=PG&f=1", "display_name": "jpf", "link": "https://stackoverflow.com/users/4014768/jpf"}, "reply_to_user": {"reputation": 29355, "user_id": 205580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/460e6e299e385fd46df156c85a1dd55f?s=128&d=identicon&r=PG", "display_name": "Eryk Sun", "link": "https://stackoverflow.com/users/205580/eryk-sun"}, "edited": false, "score": 0, "creation_date": 1430353014, "post_id": 29955294, "comment_id": 48034383, "body": "@eryksun Thanks. I corrected the language."}], "answers": [{"comments": [{"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1430348793, "post_id": 29956125, "comment_id": 48033081, "body": "it may take more than that ... I tried to get a minimum example working on windows and failed (granted I didnt spend long on it) I think @eryksun&#39;s comment on the OP is close to the mark"}, {"owner": {"reputation": 42737, "user_id": 4518274, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UPurS.png?s=128&g=1", "display_name": "Thomas Dickey", "link": "https://stackoverflow.com/users/4518274/thomas-dickey"}, "reply_to_user": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1430349026, "post_id": 29956125, "comment_id": 48033159, "body": "@eryksun is clarifying that the environment must be a console window rather than MS-DOS (some people still think that a console window is &quot;DOS&quot;).  The significant feature about the OP&#39;s comments is the problem with keyboard input after a flashing of the window."}], "tags": [], "owner": {"reputation": 42737, "user_id": 4518274, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UPurS.png?s=128&g=1", "display_name": "Thomas Dickey", "link": "https://stackoverflow.com/users/4518274/thomas-dickey"}, "is_accepted": true, "score": 1, "last_activity_date": 1430348583, "creation_date": 1430348583, "answer_id": 29956125, "question_id": 29955294, "link": "https://stackoverflow.com/questions/29955294/curses-initscr-does-not-create-window-in-windows-7/29956125#29956125", "title": "curses initscr does not create window in Windows 7", "body": "<p>You will not be able to do much that is useful with the curses package in an interactive command-line shell as shown in the question, because the curses package initializes the input to a raw mode (or equivalent on Windows) so that it can capture individual keys.</p>\n\n<p>The command-line shell uses line-buffering, and given the change of input mode, it will not get lines.</p>\n\n<p>Rather, you will get best results by running a complete script - which would call <code>getch</code> or <code>getstr</code> to read input from the terminal window.</p>\n"}], "owner": {"reputation": 1399, "user_id": 4014768, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/07a931f7571f29d1ec49f9645f041b43?s=128&d=identicon&r=PG&f=1", "display_name": "jpf", "link": "https://stackoverflow.com/users/4014768/jpf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 976, "favorite_count": 0, "accepted_answer_id": 29956125, "answer_count": 1, "score": 0, "last_activity_date": 1430352967, "creation_date": 1430344535, "last_edit_date": 1430352967, "question_id": 29955294, "link": "https://stackoverflow.com/questions/29955294/curses-initscr-does-not-create-window-in-windows-7", "title": "curses initscr does not create window in Windows 7", "body": "<p>I am running Windows 7 with Python 2.7 and I installed the <code>curses</code> module with <code>pip</code> using the wheel file located at <a href=\"http://www.lfd.uci.edu/~gohlke/pythonlibs/#curses\" rel=\"nofollow\">http://www.lfd.uci.edu/~gohlke/pythonlibs/#curses</a>. I followed the basic instructions at <a href=\"https://docs.python.org/2/howto/curses.html\" rel=\"nofollow\">https://docs.python.org/2/howto/curses.html</a> for initializing <code>curses</code>; namely, from a Python command prompt,</p>\n\n<pre><code>import curses\nstdscr=curses.initscr()\n</code></pre>\n\n<p>and nothing happens except that I am unable to type <em>anything</em> more in the command window and I have to close it, although it appears no actual error has occurred. The cursor continues blinking as though awaiting input, but I'm unable to control it any more.</p>\n\n<p>What am I doing wrong?</p>\n\n<p>Copying and pasting from the console window below.</p>\n\n<pre><code>Python 2.7.8 (default, Jun 30 2014, 16:03:49) [MSC v.1500 32 bit (Intel)] on win32\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n&gt;&gt;&gt; import curses\n&gt;&gt;&gt; stdscr=curses.initscr()\n&gt;&gt;&gt;\n</code></pre>\n\n<p>A screen seems to flash on but immediately disappears and the console becomes useless (although as mentioned the cursor continues blinking... it is not \"unresponsive\" in the typical sense. It just doesn't respond to keyboard input.).</p>\n"}, {"tags": ["python", "string", "pattern-matching", "bioinformatics"], "comments": [{"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 1, "creation_date": 1430344000, "post_id": 29955135, "comment_id": 48031112, "body": "I think they use something called <code>suffix tree</code> for this ... but its not super simple... and everytime i start doing it i just quit about half way <a href=\"https://www.cs.cmu.edu/~ckingsf/bioinfo-lectures/suffixtrees.pdf\" rel=\"nofollow noreferrer\">cs.cmu.edu/~ckingsf/bioinfo-lectures/suffixtrees.pdf</a>"}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 3, "creation_date": 1430344146, "post_id": 29955135, "comment_id": 48031170, "body": "What do you count as <i>&quot;repetitive motifs&quot;</i>? If <code>&#39;GT&#39;</code> counts, why not e.g. <code>&#39;**&#39;</code>, <code>&#39;TT&#39;</code> or <code>&#39;CC&#39;</code>? And what exactly is your question?"}, {"owner": {"reputation": 94141, "user_id": 2867928, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/a8DM1.jpg?s=128&g=1", "display_name": "kasravnd", "link": "https://stackoverflow.com/users/2867928/kasravnd"}, "edited": false, "score": 0, "creation_date": 1430344535, "post_id": 29955135, "comment_id": 48031316, "body": "<code>&#39;ACGT&#39;</code> doesn&#39;t repeated 2 times ,<code>ACGTACGTA</code> has a <code>A</code> at end !!"}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "reply_to_user": {"reputation": 94141, "user_id": 2867928, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/a8DM1.jpg?s=128&g=1", "display_name": "kasravnd", "link": "https://stackoverflow.com/users/2867928/kasravnd"}, "edited": false, "score": 0, "creation_date": 1430344902, "post_id": 29955135, "comment_id": 48031475, "body": "@Kasra that doesn&#39;t necessarily exclude it"}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1430344919, "post_id": 29955135, "comment_id": 48031483, "body": "It repeats 2 times, but its entire block between <code>**</code> pairs isn&#39;t a totally repetitive string. Which definition is important here?"}, {"owner": {"reputation": 12710, "user_id": 2653390, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/ArNxx.jpg?s=128&g=1", "display_name": "Shashank", "link": "https://stackoverflow.com/users/2653390/shashank"}, "edited": false, "score": 0, "creation_date": 1430361120, "post_id": 29955135, "comment_id": 48036711, "body": "What is the desired output if one substring repeats itself in multiple &quot;regions&quot; of the string?"}], "answers": [{"comments": [{"owner": {"reputation": 44359, "user_id": 2363712, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/beAJU.jpg?s=128&g=1", "display_name": "Sylvain Leroux", "link": "https://stackoverflow.com/users/2363712/sylvain-leroux"}, "edited": false, "score": 0, "creation_date": 1430346148, "post_id": 29955506, "comment_id": 48031962, "body": "What is the complexity (big <i>O</i> notation) of this solution ?"}, {"owner": {"reputation": 441, "user_id": 4245867, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4aa32241ed92abeb47f2573759e3c073?s=128&d=identicon&r=PG&f=1", "display_name": "Ivan Castro", "link": "https://stackoverflow.com/users/4245867/ivan-castro"}, "edited": false, "score": 0, "creation_date": 1430346398, "post_id": 29955506, "comment_id": 48032071, "body": "My apologies. There are not asterisks into the string. It was a mistake."}, {"owner": {"reputation": 94141, "user_id": 2867928, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/a8DM1.jpg?s=128&g=1", "display_name": "kasravnd", "link": "https://stackoverflow.com/users/2867928/kasravnd"}, "reply_to_user": {"reputation": 44359, "user_id": 2363712, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/beAJU.jpg?s=128&g=1", "display_name": "Sylvain Leroux", "link": "https://stackoverflow.com/users/2363712/sylvain-leroux"}, "edited": false, "score": 0, "creation_date": 1430346570, "post_id": 29955506, "comment_id": 48032145, "body": "@SylvainLeroux I think the worst part is creating the <code>new</code> that is exponential!"}, {"owner": {"reputation": 12710, "user_id": 2653390, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/ArNxx.jpg?s=128&g=1", "display_name": "Shashank", "link": "https://stackoverflow.com/users/2653390/shashank"}, "edited": false, "score": 0, "creation_date": 1430354249, "post_id": 29955506, "comment_id": 48034719, "body": "I don&#39;t think a regex solution would be exponential, probably it&#39;s polynomial time."}, {"owner": {"reputation": 94141, "user_id": 2867928, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/a8DM1.jpg?s=128&g=1", "display_name": "kasravnd", "link": "https://stackoverflow.com/users/2867928/kasravnd"}, "reply_to_user": {"reputation": 12710, "user_id": 2653390, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/ArNxx.jpg?s=128&g=1", "display_name": "Shashank", "link": "https://stackoverflow.com/users/2653390/shashank"}, "edited": false, "score": 0, "creation_date": 1430391649, "post_id": 29955506, "comment_id": 48051576, "body": "@Shashank Maybe! its based on the regex engine and the regular expression that you use!"}, {"owner": {"reputation": 441, "user_id": 4245867, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4aa32241ed92abeb47f2573759e3c073?s=128&d=identicon&r=PG&f=1", "display_name": "Ivan Castro", "link": "https://stackoverflow.com/users/4245867/ivan-castro"}, "edited": false, "score": 0, "creation_date": 1442973635, "post_id": 29955506, "comment_id": 53301582, "body": "Hi @Kasramvd, I get a issue using your first proposal. When I execute finder several times, it comes with the solution of previous usage. For example, when I use finder the first time, I got [[&#39;ACG&#39;, (1,13)]]. And if I use it again with other string, I got [[&#39;ACG&#39;, (1,13)], [&#39;CCG&#39;, (4,13)]]. Note that the result from the first usage comes here along the.result of the second.usage of finder."}], "tags": [], "owner": {"reputation": 94141, "user_id": 2867928, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/a8DM1.jpg?s=128&g=1", "display_name": "kasravnd", "link": "https://stackoverflow.com/users/2867928/kasravnd"}, "is_accepted": true, "score": 3, "last_activity_date": 1507025715, "last_edit_date": 1507025715, "creation_date": 1430345665, "answer_id": 29955506, "question_id": 29955135, "link": "https://stackoverflow.com/questions/29955135/a-more-complex-version-of-how-can-i-tell-if-a-string-repeats-itself-in-python/29955506#29955506", "title": "A more complex version of &quot;How can I tell if a string repeats itself in Python?&quot;", "body": "<p>you can use a recursion function as following :</p>\n\n<p><strong>Note</strong>: The result argument will be treated as a global variable (because passing mutable object to the function affects the caller)</p>\n\n<pre><code>import re\ndef finder(st,past_ind=0,result=[]):\n   m=re.search(r'(.+)\\1+',st)\n   if m:\n      i,j=m.span()\n      sub=st[i:j]\n      ind = (sub+sub).find(sub, 1)\n      sub=sub[:ind]\n      if len(sub)&gt;1:\n        result.append([sub,(i+past_ind+1,j+past_ind+1)])\n      past_ind+=j\n      return finder(st[j:],past_ind)\n   else:\n      return result\n\n\n\ns='AAACACGTACGTAATTCCGTGTGTCCCCTATACGTATACGTTT'\nprint finder(s)\n</code></pre>\n\n<p>result:</p>\n\n<pre><code>[['ACGT', (5, 13)], ['GT', (19, 25)], ['TATACG', (29, 41)]]\n</code></pre>\n\n<h1>answer to previous question for following string :</h1>\n\n<pre><code>s = 'AAAC**ACGTACGTA**ATTCC**GTGTGT**CCCC**TATACGTATACG**TTT'\n</code></pre>\n\n<p>You can use both answers from <a href=\"https://stackoverflow.com/questions/29481088/how-can-i-tell-if-a-string-repeats-itself-in-python\">mentioned question</a> and some extra recipes :</p>\n\n<p>First you can split the string with <code>**</code> then create a new list contain the repeated strings with <code>r'(.+)\\1+'</code> regex :</p>\n\n<p>So the result will be :</p>\n\n<pre><code>&gt;&gt;&gt; new=[re.search(r'(.+)\\1+',i).group(0) for i in s.split('**')]\n&gt;&gt;&gt; new\n['AAA', 'ACGTACGT', 'TT', 'GTGTGT', 'CCCC', 'TATACGTATACG', 'TTT']\n</code></pre>\n\n<p><em>Note</em> about <code>'ACGTACGT'</code> that missed the <code>A</code> at the end!</p>\n\n<p>Then you can use <code>principal_period</code>'s function to get the repeated sub strings : </p>\n\n<pre><code>def principal_period(s):\n    i = (s+s).find(s, 1, -1)\n    return None if i == -1 else s[:i]\n\n&gt;&gt;&gt; for i in new:\n...    p=principal_period(i)\n...    if p is not None and len(p)&gt;1:\n...        l.append(p)\n...        sub.append(i)\n... \n</code></pre>\n\n<p>So you will have the repeated strings in <code>l</code> and main strings in <code>sub</code> :</p>\n\n<pre><code>&gt;&gt;&gt; l\n['ACGT', 'GT', 'TATACG']\n&gt;&gt;&gt; sub\n['ACGTACGT', 'GTGTGT', 'TATACGTATACG']\n</code></pre>\n\n<p>Then you need a the <code>region</code> that you can do it with <code>span</code> method  : </p>\n\n<pre><code>&gt;&gt;&gt; for t in sub:\n...    regons.append(re.search(t,s).span())\n\n&gt;&gt;&gt; regons\n[(6, 14), (24, 30), (38, 50)]\n</code></pre>\n\n<p>And at last you can zip the 3 list <code>regon</code>,<code>sub</code>,<code>l</code> and use a dict comprehension to create the expected result :</p>\n\n<pre><code>&gt;&gt;&gt; z=zip(sub,l,regons)\n&gt;&gt;&gt; out={i :{'repeat':i.count(j),'region':reg} for i,j,reg in z}\n&gt;&gt;&gt; out\n{'TATACGTATACG': {'region': (38, 50), 'repeat': 2}, 'ACGTACGT': {'region': (6, 14), 'repeat': 2}, 'GTGTGT': {'region': (24, 30), 'repeat': 3}}\n</code></pre>\n\n<p>The main code :</p>\n\n<pre><code>&gt;&gt;&gt; s = 'AAAC**ACGTACGTA**ATTCC**GTGTGT**CCCC**TATACGTATACG**TTT'\n&gt;&gt;&gt; sub=[]\n&gt;&gt;&gt; l=[]\n&gt;&gt;&gt; regon=[]\n&gt;&gt;&gt; new=[re.search(r'(.+)\\1+',i).group(0) for i in s.split('**')]\n&gt;&gt;&gt; for i in new:\n...    p=principal_period(i)\n...    if p is not None and len(p)&gt;1:\n...        l.append(p)\n...        sub.append(i)\n... \n\n&gt;&gt;&gt; for t in sub:\n...    regons.append(re.search(t,s).span())\n... \n&gt;&gt;&gt; z=zip(sub,l,regons)\n&gt;&gt;&gt; out={i :{'repeat':i.count(j),'region':reg} for i,j,reg in z}\n&gt;&gt;&gt; out\n{'TATACGTATACG': {'region': (38, 50), 'repeat': 2}, 'ACGTACGT': {'region': (6, 14), 'repeat': 2}, 'GTGTGT': {'region': (24, 30), 'repeat': 3}}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 12710, "user_id": 2653390, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/ArNxx.jpg?s=128&g=1", "display_name": "Shashank", "link": "https://stackoverflow.com/users/2653390/shashank"}, "edited": false, "score": 0, "creation_date": 1430354560, "post_id": 29956971, "comment_id": 48034801, "body": "I think you are on to something, but the issue is that count finds non-connected repetitions. e.g. <code>&#39;hellobyehello&#39;.count(&#39;hello&#39;) == 2</code>"}, {"owner": {"reputation": 2234, "user_id": 2757226, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VwnbH.jpg?s=128&g=1", "display_name": "chapelo", "link": "https://stackoverflow.com/users/2757226/chapelo"}, "reply_to_user": {"reputation": 12710, "user_id": 2653390, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/ArNxx.jpg?s=128&g=1", "display_name": "Shashank", "link": "https://stackoverflow.com/users/2653390/shashank"}, "edited": false, "score": 0, "creation_date": 1430357690, "post_id": 29956971, "comment_id": 48035739, "body": "@Shashank, If you neet only connected repetitions, you can filter them once you have them all. See edited content."}], "tags": [], "owner": {"reputation": 2234, "user_id": 2757226, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VwnbH.jpg?s=128&g=1", "display_name": "chapelo", "link": "https://stackoverflow.com/users/2757226/chapelo"}, "is_accepted": false, "score": 0, "last_activity_date": 1430357530, "last_edit_date": 1430357530, "creation_date": 1430353759, "answer_id": 29956971, "question_id": 29955135, "link": "https://stackoverflow.com/questions/29955135/a-more-complex-version-of-how-can-i-tell-if-a-string-repeats-itself-in-python/29956971#29956971", "title": "A more complex version of &quot;How can I tell if a string repeats itself in Python?&quot;", "body": "<p>This simple while loop detects all repeated patterns:</p>\n\n<pre><code>def expand():\n    global hi\n    hi += 1\n\ndef shrink():\n    global lo\n    lo += 1\n\ns = 'AAACACGTACGTAATTCCGTGTGTCCCCTATACGTATACGTTT'\n\nmotifs = set()\n\nlo = 0\nhi = 0\n\nf = expand\n\nwhile hi &lt;= len(s):\n    sub = s[lo : hi+1]\n    if s.count(sub) &gt; 1:\n        motifs.add(sub)\n        if lo==hi: f = expand\n        f()\n    else:\n        f = shrink if lo&lt;=hi else expand\n        f()\n</code></pre>\n\n<p>At this point, <code>motifs</code> contains all the repeated patterns... Let's filter them with some criteria:</p>\n\n<pre><code>minlen = 3\nfor m in filter(lambda m: len(m)&gt;=minlen and s.count(2*m)&gt;=1, motifs):\n    print(m)\n\n'''\nATACGT\nACGT\nTATACG\nCGTA\n'''\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 12710, "user_id": 2653390, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/ArNxx.jpg?s=128&g=1", "display_name": "Shashank", "link": "https://stackoverflow.com/users/2653390/shashank"}, "is_accepted": false, "score": 0, "last_activity_date": 1430399403, "last_edit_date": 1430399403, "creation_date": 1430355685, "answer_id": 29957260, "question_id": 29955135, "link": "https://stackoverflow.com/questions/29955135/a-more-complex-version-of-how-can-i-tell-if-a-string-repeats-itself-in-python/29957260#29957260", "title": "A more complex version of &quot;How can I tell if a string repeats itself in Python?&quot;", "body": "<p>You can use the fact that in regex, lookaheads do not advance the primary iterator. Thus, you can nest a capture group within a lookahead to find the (potentially overlapping) patterns that repeat and have a specified minimum length:</p>\n\n<pre><code>&gt;&gt;&gt; import re\n&gt;&gt;&gt; s = 'AAACACGTACGTAATTCCGTGTGTCCCCTATACGTATACGTTT'\n&gt;&gt;&gt; re.findall(r'(?=(.{2,})\\1+)', s)\n['AC', 'ACGT', 'CGTA', 'GT', 'TG', 'GT', 'CC', 'TATACG', 'ATACGT', 'TA']\n&gt;&gt;&gt; re.findall(r'(?=(.{2,}?)\\1+)', s)\n['AC', 'ACGT', 'CGTA', 'GT', 'TG', 'GT', 'CC', 'TA', 'ATACGT', 'TA']\n</code></pre>\n\n<p>Note the slightly different results between using a greedy and a non-greedy quantifier. The greedy quantifier searches for the longest repeating substring starting from every index in the original string, if one exists. The non-greedy quantifier searches for the shortest of the same. The limitation is that you can only get a maximum one pattern per starting index in the string. If you have any ideas to solve this problem, let me know! Potentially, we can use the greedy quantifier regex to set up a recursive solution that finds <em>every</em> repeating pattern starting from each index, but let's avoid \"premature computation\" for now.</p>\n\n<p>Now if we take the regex <code>(?=(.{2,})\\1+)</code> and modify it, we can also capture the entire substring that contains repeated motifs. By doing this, we can use the <code>span</code> of the matches to calculate the number of repetitions:</p>\n\n<p><code>(?=((.{2,})\\2+))</code></p>\n\n<p>In the above regex, we have a capture group inside a capture group inside a lookahead. Now we have everything we need to solve the problem:</p>\n\n<pre><code>def repeated_motifs(s):\n    import re\n    from collections import defaultdict\n    rmdict = defaultdict(list)\n    for match in re.finditer(r'(?=((.{2,})\\2+))', s):\n        motif = match.group(2)\n        span1, span2 = match.span(1), match.span(2)\n        startindex = span1[0]\n        repetitions = (span1[1] - startindex) // (span2[1] - startindex)\n        others = rmdict[motif]\n        if not others or startindex &gt; others[-1]['region'][1]:\n            others.append({'repeat': repetitions, 'region': span1})\n    return rmdict\n\n\ns = 'AAACACGTACGTAATTCCGTGTGTCCCCTATACGTATACGTTT'\nd = repeated_motifs(s)\nprint(d)\n# list of the repeating motifs we have found sorted by first region\nprint(sorted(list(d.keys()), key=lambda k: d[k][0]['region']))\n</code></pre>\n\n<p>Because desired behavior in the situation where a motif repeats itself in multiple \"regions\" of the string was not specified, I have made the assumption that OP would like a dictionary of <code>string-&gt;list</code> where each list contains its own set of dictionaries.</p>\n"}, {"tags": [], "owner": {"reputation": 152, "user_id": 4557436, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b4ad4e17e1b994d3aa20c2f3a3afcde?s=128&d=identicon&r=PG&f=1", "display_name": "Tris Forster", "link": "https://stackoverflow.com/users/4557436/tris-forster"}, "is_accepted": false, "score": 1, "last_activity_date": 1430359893, "creation_date": 1430359893, "answer_id": 29957851, "question_id": 29955135, "link": "https://stackoverflow.com/questions/29955135/a-more-complex-version-of-how-can-i-tell-if-a-string-repeats-itself-in-python/29957851#29957851", "title": "A more complex version of &quot;How can I tell if a string repeats itself in Python?&quot;", "body": "<p>If you can bound your query then you can use a single pass of the string.  The number of comparisons will be <code>length of string * (max_length - min_length)</code> so will scale linearly.</p>\n\n<pre><code>s = 'AAACACGTACGTAATTCCGTGTGTCCCCTATACGTATACGTTT'\n\ndef find_repeats(s, max_length, min_length=2):\n\n    for i in xrange(len(s)):\n        for j in xrange(min_length, max_length+1):\n            count = 1\n            while s[i:i+j] == s[i+j*count:i+j*count+j]: count += 1\n            if count &gt; 1:\n                yield s[i:i+j], i, count\n\nfor pattern, position, count in find_repeats(s, 6, 2):\n    print \"%6s at region (%d, %d), %d repeats\" % (pattern, position, position + count*len(pattern), count)\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>    AC at region (2, 6), 2 repeats\n  ACGT at region (4, 12), 2 repeats\n  CGTA at region (5, 13), 2 repeats\n    GT at region (18, 24), 3 repeats\n    TG at region (19, 23), 2 repeats\n    GT at region (20, 24), 2 repeats\n    CC at region (24, 28), 2 repeats\n    TA at region (28, 32), 2 repeats\nTATACG at region (28, 40), 2 repeats\nATACGT at region (29, 41), 2 repeats\n    TA at region (34, 38), 2 repeats\n</code></pre>\n\n<p>Note that this catches a fair few more overlapping patterns than the regexp answers, but without knowing more about what you consider a <strong>good</strong> match it is difficult to reduce it further, for example why is <code>TATACG</code> better than <code>ATACGT</code>?</p>\n\n<p>Extra: Using a dict to return matches is a bad idea as the patterns are not going to be unique.</p>\n"}], "owner": {"reputation": 441, "user_id": 4245867, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4aa32241ed92abeb47f2573759e3c073?s=128&d=identicon&r=PG&f=1", "display_name": "Ivan Castro", "link": "https://stackoverflow.com/users/4245867/ivan-castro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 607, "favorite_count": 1, "accepted_answer_id": 29955506, "answer_count": 4, "score": 12, "last_activity_date": 1507025715, "creation_date": 1430343836, "last_edit_date": 1495541206, "question_id": 29955135, "link": "https://stackoverflow.com/questions/29955135/a-more-complex-version-of-how-can-i-tell-if-a-string-repeats-itself-in-python", "title": "A more complex version of &quot;How can I tell if a string repeats itself in Python?&quot;", "body": "<p>I was reading <a href=\"https://stackoverflow.com/questions/29481088/how-can-i-tell-if-a-string-repeats-itself-in-python\">this post</a> and I wonder if someone can find the way to catch repetitive motifs into a more complex string.</p>\n\n<p>For example, find all the repetitive motifs in</p>\n\n<pre><code>string = 'AAACACGTACGTAATTCCGTGTGTCCCCTATACGTATACGTTT'\n</code></pre>\n\n<p>Here the repetitive motifs:\n'AAAC<strong>ACGTACGT</strong>AATTCC<strong>GTGTGT</strong>CCCC<strong>TATACGTATACG</strong>TTT'</p>\n\n<p>So, the output should be something like this:</p>\n\n<pre><code>output = {'ACGT': {'repeat': 2,\n                   'region': (5,13)},\n          'GT': {'repeat': 3,\n                 'region': (19,24)},\n          'TATACG': {'repeat': 2,\n                     'region': (29,40)}}\n</code></pre>\n\n<p>This example comes from a typical biological phenomena termed microsatellite which is present into the DNA.</p>\n\n<p>UPDATE 1: Asterisks were removed from the string variable. It was a mistake.</p>\n\n<p>UPDATE 2: Single character motif doesn't count. For example: in ACGUG<strong>AAA</strong>GUC, the 'A' motif is not taken into account.</p>\n"}, {"tags": ["python", "kivy"], "comments": [{"owner": {"reputation": 2339, "user_id": 1433559, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/sDfWE.png?s=128&g=1", "display_name": "MadeOfAir", "link": "https://stackoverflow.com/users/1433559/madeofair"}, "edited": false, "score": 0, "creation_date": 1430347547, "post_id": 29955132, "comment_id": 48032552, "body": "did you try a <code>BoxLayout</code> with <code>orientation: vertical</code> around the buttons?"}, {"owner": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "reply_to_user": {"reputation": 2339, "user_id": 1433559, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/sDfWE.png?s=128&g=1", "display_name": "MadeOfAir", "link": "https://stackoverflow.com/users/1433559/madeofair"}, "edited": false, "score": 0, "creation_date": 1430353408, "post_id": 29955132, "comment_id": 48034502, "body": "Yes, but I can&#39;t center it."}], "answers": [{"comments": [{"owner": {"reputation": 132, "user_id": 4040569, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/92e5a5a560749fdfd82138a88e9cf172?s=128&d=identicon&r=PG&f=1", "display_name": "rawinput", "link": "https://stackoverflow.com/users/4040569/rawinput"}, "reply_to_user": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "edited": false, "score": 0, "creation_date": 1430354670, "post_id": 29956269, "comment_id": 48034826, "body": "it depend on how you implement MainMenu"}], "tags": [], "owner": {"reputation": 132, "user_id": 4040569, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/92e5a5a560749fdfd82138a88e9cf172?s=128&d=identicon&r=PG&f=1", "display_name": "rawinput", "link": "https://stackoverflow.com/users/4040569/rawinput"}, "is_accepted": false, "score": 0, "last_activity_date": 1430604254, "last_edit_date": 1430604254, "creation_date": 1430349343, "answer_id": 29956269, "question_id": 29955132, "link": "https://stackoverflow.com/questions/29955132/specific-layout-in-kivy/29956269#29956269", "title": "Specific Layout in Kivy", "body": "<p>you can use padding</p>\n\n<pre><code>&lt;Button&gt;:\n    font_name: 'fonts/Roboto.ttf'\n    font_size: 15\n    size_hint: 0.3, 0.1\n\n&lt;MainMenu&gt;\n    rows: 3\n    cols: 1\n    padding:  root.size[0] * 0.7 ,root.size[1] * 0.7,root.size[0] * 0.7,root.size[1] * 0.7  # 0.7 is percentage of width or height of layout [padding_left, padding_top, padding_right, padding_bottom ]\n\n    Button:\n        text: 'Play Game'\n\n    Button:\n        text: 'Scores'\n\n    Button:\n        text: 'About'\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "edited": false, "score": 0, "creation_date": 1430397266, "post_id": 29963369, "comment_id": 48055302, "body": "This seems to create the menu in the corner. How can I bring it to the center of the screen?"}, {"owner": {"reputation": 2339, "user_id": 1433559, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/sDfWE.png?s=128&g=1", "display_name": "MadeOfAir", "link": "https://stackoverflow.com/users/1433559/madeofair"}, "reply_to_user": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "edited": false, "score": 0, "creation_date": 1430412977, "post_id": 29963369, "comment_id": 48066877, "body": "hmm... can&#39;t see that here <a href=\"http://i.imgur.com/ZLFPnuT.png\" rel=\"nofollow noreferrer\">i.imgur.com/ZLFPnuT.png</a> . Maybe you have something else in the layout that&#39;s bugging it. The layout in the answer works though."}], "tags": [], "owner": {"reputation": 2339, "user_id": 1433559, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/sDfWE.png?s=128&g=1", "display_name": "MadeOfAir", "link": "https://stackoverflow.com/users/1433559/madeofair"}, "is_accepted": false, "score": 1, "last_activity_date": 1430384423, "creation_date": 1430384423, "answer_id": 29963369, "question_id": 29955132, "link": "https://stackoverflow.com/questions/29955132/specific-layout-in-kivy/29963369#29963369", "title": "Specific Layout in Kivy", "body": "<p>You could try surrounding the buttons in a layout with padding widgets, which are empty widgets that just take some space:</p>\n\n<pre><code>&lt;MainMenu&gt;:\n\n  BoxLayout:\n\n    Widget:\n      # empty spacer widget\n\n    BoxLayout:\n      orientation: \"vertical\"\n\n      Button:\n        text: 'Play Game'\n\n      Button:\n        text: 'Scores'\n\n      Button:\n        text: 'About'\n\n    Widget:\n      # empty spacer widget\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "is_accepted": false, "score": 1, "last_activity_date": 1430408666, "creation_date": 1430408666, "answer_id": 29972169, "question_id": 29955132, "link": "https://stackoverflow.com/questions/29955132/specific-layout-in-kivy/29972169#29972169", "title": "Specific Layout in Kivy", "body": "<pre><code>&lt;MainMenu&gt;:\n\n    FloatLayout:\n        size: root.size\n\n        GridLayout:\n            size_hint: 0.3, 0.3\n            spacing: 20\n\n            rows: 3\n            cols: 1\n\n            pos_hint: {'center_x': 0.5, 'center_y': 0.5}\n\n            Button:\n                text: 'Play Game'\n\n            Button:\n                text: 'Scores'\n\n            Button:\n                text: 'About'\n</code></pre>\n"}], "owner": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 181, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1430604254, "creation_date": 1430343824, "last_edit_date": 1430347177, "question_id": 29955132, "link": "https://stackoverflow.com/questions/29955132/specific-layout-in-kivy", "title": "Specific Layout in Kivy", "body": "<p>I'm trying to make a menu in Kivy but I am having a few issues with layouts. I've tried <code>GridLayout</code> and <code>FloatLayout</code> but I want to combine their functionality so that I can center the menu on screen.</p>\n\n<pre><code>------------------------------------------\n|                                        |\n|                                        |\n|                                        |\n|                Play Game               |\n|                                        |\n|                 Scores                 |\n|                                        |\n|                 About                  |\n|                                        |\n|                                        |\n------------------------------------------\n</code></pre>\n\n<p>For some reason, I can not space my buttons and use position hints to place the menu in the center of the screen. Does anyone have any ideas about what I can do to solve this issue?</p>\n\n<pre><code>&lt;Button&gt;:\n    font_name: 'fonts/Roboto.ttf'\n    font_size: 15\n    size_hint: 0.3, 0.1\n\n&lt;MainMenu&gt;\n    rows: 3\n    cols: 1\n\n    Button:\n        text: 'Play Game'\n\n    Button:\n        text: 'Scores'\n\n    Button:\n        text: 'About'\n</code></pre>\n"}, {"tags": ["python", "dictionary"], "comments": [{"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 2, "creation_date": 1430344279, "post_id": 29955120, "comment_id": 48031221, "body": "Could you take the problematic code out of the <code>try</code> block and give us the text of the traceback?"}, {"owner": {"reputation": 7374, "user_id": 1634753, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/aa962e4482e6eb20f3985622a039f0fe?s=128&d=identicon&r=PG", "display_name": "Rilcon42", "link": "https://stackoverflow.com/users/1634753/rilcon42"}, "reply_to_user": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1430344416, "post_id": 29955120, "comment_id": 48031268, "body": "I would be happy to, Is this what I should run? <code>traceback.print_exc()</code>"}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1430344495, "post_id": 29955120, "comment_id": 48031303, "body": "Just comment out <code>try:</code>, unindent the <code>for</code> statement and the <code>print()</code> function by one level each, and comment out the entire <code>except</code> block. This will print the traceback to the console in the normal way."}, {"owner": {"reputation": 47817, "user_id": 2535611, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d61593cac94336661b986823abb9852e?s=128&d=identicon&r=PG", "display_name": "rafaelc", "link": "https://stackoverflow.com/users/2535611/rafaelc"}, "edited": false, "score": 0, "creation_date": 1430345259, "post_id": 29955120, "comment_id": 48031619, "body": "Could you print out <code>type(key)</code> please? inside the <code>for</code> loop?"}, {"owner": {"reputation": 7374, "user_id": 1634753, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/aa962e4482e6eb20f3985622a039f0fe?s=128&d=identicon&r=PG", "display_name": "Rilcon42", "link": "https://stackoverflow.com/users/1634753/rilcon42"}, "reply_to_user": {"reputation": 47817, "user_id": 2535611, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d61593cac94336661b986823abb9852e?s=128&d=identicon&r=PG", "display_name": "rafaelc", "link": "https://stackoverflow.com/users/2535611/rafaelc"}, "edited": false, "score": 0, "creation_date": 1430345761, "post_id": 29955120, "comment_id": 48031817, "body": "@RafaelCardoso, After doing what you suggested I got a lot of <code>type &#39;str&#39;</code> then on the error line I got <code>type &#39;NoneType&#39;</code>"}, {"owner": {"reputation": 1570, "user_id": 2501921, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ba89206691a9b80f87abe01cebe4660c?s=128&d=identicon&r=PG", "display_name": "cmidi", "link": "https://stackoverflow.com/users/2501921/cmidi"}, "edited": false, "score": 0, "creation_date": 1430346390, "post_id": 29955120, "comment_id": 48032066, "body": "Your csv file is probably missing a header column, which causes a NoneType key for a dictionary add this <code>if key != None and re.match(regexmatch, key):</code> instead of ``if re.match(regexmatch, key):`"}, {"owner": {"reputation": 7374, "user_id": 1634753, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/aa962e4482e6eb20f3985622a039f0fe?s=128&d=identicon&r=PG", "display_name": "Rilcon42", "link": "https://stackoverflow.com/users/1634753/rilcon42"}, "edited": false, "score": 0, "creation_date": 1430346764, "post_id": 29955120, "comment_id": 48032215, "body": "That would make sense if this happened on the person, but this is happening half-way down the list of people. Could I still be having that problem if some people worked before?"}, {"owner": {"reputation": 1570, "user_id": 2501921, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ba89206691a9b80f87abe01cebe4660c?s=128&d=identicon&r=PG", "display_name": "cmidi", "link": "https://stackoverflow.com/users/2501921/cmidi"}, "edited": false, "score": 0, "creation_date": 1430350064, "post_id": 29955120, "comment_id": 48033499, "body": "@Rilcon42  it is possible if your csv file is written badly where one row somehow skipped a column to write. So the best solution would be to check if key is not None"}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1430350506, "post_id": 29955120, "comment_id": 48033637, "body": "At the beginning of the <code>for key in person:</code> loop add this line: <code>if not isinstance(key, str): print(&#39;error: key of type {} encountered&#39;.format(type(key)))</code>. If it prints anything your csv file is corrupt."}], "answers": [{"tags": [], "owner": {"reputation": 1570, "user_id": 2501921, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ba89206691a9b80f87abe01cebe4660c?s=128&d=identicon&r=PG", "display_name": "cmidi", "link": "https://stackoverflow.com/users/2501921/cmidi"}, "is_accepted": true, "score": 1, "last_activity_date": 1430350512, "creation_date": 1430350512, "answer_id": 29956476, "question_id": 29955120, "link": "https://stackoverflow.com/questions/29955120/typeerror-in-dictionary/29956476#29956476", "title": "TypeError in dictionary", "body": "<p>To avoid this problem check if the key is a valid string or buffer before a regular expression is made.</p>\n\n<p>so instead of <code>if re.match(regexmatch, key):</code></p>\n\n<p>write the following code</p>\n\n<pre><code>if key != None and re.match(regexmatch, key):\n</code></pre>\n\n<p><strong>To answer the question why it would happen for some <code>person</code> in the csv dictionary?</strong></p>\n\n<p>If the csv file does not take into consideration for all the columns in a row for each row this situation is totally possible for only certain rows, in this case <code>people</code></p>\n\n<p>To give an example : </p>\n\n<p>consider the following CSV file</p>\n\n<pre><code>name,type,address,value\nzoo,1,111,2\nfoo,2,222,,\nbar,3,333,5\n</code></pre>\n\n<p>This would get the following results  for the persons in <code>csv.DictReader(open(\"filename.csv\"))</code></p>\n\n<pre><code> {'type': '1', 'name': 'abc', 'value': '2', 'address': '111'}\n {None: [''], 'type': '2', 'name': 'foo', 'value': '', 'address': '222'}\n {'type': '3', 'name': 'bar', 'value': '5', 'address': '333'}\n</code></pre>\n\n<p>So in this case it would work for <code>people[0]</code> and <code>people[2]</code> but fail at <code>people[1]</code></p>\n"}], "owner": {"reputation": 7374, "user_id": 1634753, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/aa962e4482e6eb20f3985622a039f0fe?s=128&d=identicon&r=PG", "display_name": "Rilcon42", "link": "https://stackoverflow.com/users/1634753/rilcon42"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 104, "favorite_count": 0, "accepted_answer_id": 29956476, "answer_count": 1, "score": 1, "last_activity_date": 1430350512, "creation_date": 1430343776, "last_edit_date": 1430349587, "question_id": 29955120, "link": "https://stackoverflow.com/questions/29955120/typeerror-in-dictionary", "title": "TypeError in dictionary", "body": "<p>I am trying to pull specific values from a dictionary but my program keeps throwing a TypeError on some values from the dictionary. Can someone tell me why?</p>\n\n<p><strong>python program</strong></p>\n\n<pre><code>import csv,os,re,sys\n\ninput_dict = csv.DictReader(open(\"./MCPlayerData/AllPlayerData2.csv\"))     \ndef list_scale_values(regexmatch,stopOnNA,person):\n    data=[]\n    for key in person:\n        if re.match(regexmatch, key):\n            try:\n                data.append(int(person[key]))\n            except (ValueError):\n                data.append('NA') \n                if(stopOnNA):\n                    data=['NA'] #if any NA return NA    \n                    break\n    return data\n\ntry:\n    for person in input_dict:\n        print(list_scale_values(r'npi[0-9]+',True,person))  \nexcept (TypeError):\n    type, value, traceback = sys.exc_info()\n    print(type)\n    print(value)\n    print(traceback)\n    print '\\n---\\n',person,'\\n---'\n    sys.exit()\n\nprint('DONE')\n</code></pre>\n\n<p><strong>error output</strong></p>\n\n<pre><code>    Traceback (most recent call last):\n  File \"correlations.py\", line 22, in &lt;module&gt;\n    print(list_scale_values(r'npi[0-9]+',True,person))  \n  File \"correlations.py\", line 9, in list_scale_values\n    if re.match(regexmatch, key):\n  File \"/usr/lib/python2.7/re.py\", line 137, in match\n    return _compile(pattern, flags).match(string)\nTypeError: expected string or buffer\n</code></pre>\n"}, {"tags": ["python", "csv"], "comments": [{"owner": {"reputation": 45398, "user_id": 873145, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0ab6f2836e0722ea0cbfeb97a74f131d?s=128&d=identicon&r=PG", "display_name": "Thomas Orozco", "link": "https://stackoverflow.com/users/873145/thomas-orozco"}, "edited": false, "score": 0, "creation_date": 1430343735, "post_id": 29955092, "comment_id": 48030988, "body": "You probably have something shadowing the <code>csv</code> name. Consider posting more code (or just look for what could be causing it)."}, {"owner": {"reputation": 1391, "user_id": 2450629, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EP5Ah.jpg?s=128&g=1", "display_name": "Haochen Wu", "link": "https://stackoverflow.com/users/2450629/haochen-wu"}, "edited": false, "score": 2, "creation_date": 1430343832, "post_id": 29955092, "comment_id": 48031040, "body": "I assume you do realize that you didn&#39;t capitalize the D?"}], "answers": [{"comments": [{"owner": {"reputation": 4652, "user_id": 1157106, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f00d78cb61e090aee853b09ed015462c?s=128&d=identicon&r=PG", "display_name": "tanaydin", "link": "https://stackoverflow.com/users/1157106/tanaydin"}, "reply_to_user": {"reputation": 6397, "user_id": 1472743, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/f205382e9fa00ee4bdf653ec92a34679?s=128&d=identicon&r=PG", "display_name": "dwstein", "link": "https://stackoverflow.com/users/1472743/dwstein"}, "edited": false, "score": 1, "creation_date": 1430357297, "post_id": 29955124, "comment_id": 48035624, "body": "everybody can do such as mistake."}], "tags": [], "owner": {"reputation": 4652, "user_id": 1157106, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f00d78cb61e090aee853b09ed015462c?s=128&d=identicon&r=PG", "display_name": "tanaydin", "link": "https://stackoverflow.com/users/1157106/tanaydin"}, "is_accepted": true, "score": 2, "last_activity_date": 1430343896, "last_edit_date": 1430343896, "creation_date": 1430343788, "answer_id": 29955124, "question_id": 29955092, "link": "https://stackoverflow.com/questions/29955092/how-to-write-a-python-function-for-csv-writer/29955124#29955124", "title": "How to write a python function for csv writer", "body": "<p>You have a typo:</p>\n\n<p><code>csv.dictWriter</code> is wrong. It should be <code>csv.DictWriter</code>.</p>\n"}], "owner": {"reputation": 6397, "user_id": 1472743, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/f205382e9fa00ee4bdf653ec92a34679?s=128&d=identicon&r=PG", "display_name": "dwstein", "link": "https://stackoverflow.com/users/1472743/dwstein"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 286, "favorite_count": 0, "accepted_answer_id": 29955124, "answer_count": 1, "score": 0, "last_activity_date": 1430343896, "creation_date": 1430343632, "question_id": 29955092, "link": "https://stackoverflow.com/questions/29955092/how-to-write-a-python-function-for-csv-writer", "title": "How to write a python function for csv writer", "body": "<p>I have the following code that works fine:</p>\n\n<pre><code>with open('userWithAgentProp.csv','w+') as f:\n        w = csv.DictWriter(f,user_keys)\n        w.writeheader()\n        for user in userAgentProp_list:\n            w.writerow(user)\n</code></pre>\n\n<p>I used this code to write a function:</p>\n\n<pre><code>def createCSVOutput(fileName, keys, listOfLists):\n    with open(fileName, 'w+') as f:\n        w= csv.dictWriter(f, keys)\n        w.writeheader()\n        for row in listOfLists:\n            w.writerow(row)\n</code></pre>\n\n<p>When I call the function:</p>\n\n<pre><code>createCSVOutput('new_test_csv.csv', user_keys, userAgentProp_list)\n</code></pre>\n\n<p>I get the following error:</p>\n\n<pre><code>File \"mongodb_script_2.py\", line 101, in &lt;module&gt;\n  createCSVOutput('new_test_csv.csv', user_keys, userAgentProp_list)\nFile \"mongodb_script_2.py\", line 54, in createCSVOutput\n  w= csv.dictWriter(f, keys)\nAttributeError: 'module' object has no attribute 'dictWriter'\n</code></pre>\n\n<p>Why does it work for <code>user_keys</code> variable in the script, but not in the function?</p>\n"}, {"tags": ["python"], "answers": [{"comments": [{"owner": {"reputation": 161, "user_id": 4848323, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/81f574d6d0a090c6136f902334005bc4?s=128&d=identicon&r=PG&f=1", "display_name": "Talesseed", "link": "https://stackoverflow.com/users/4848323/talesseed"}, "edited": false, "score": 0, "creation_date": 1433532561, "post_id": 29967572, "comment_id": 49410448, "body": "Thanks, I eventually made it work using raw strings."}], "tags": [], "owner": {"reputation": 1538, "user_id": 2353123, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/maZgI.png?s=128&g=1", "display_name": "conrad", "link": "https://stackoverflow.com/users/2353123/conrad"}, "is_accepted": false, "score": 0, "last_activity_date": 1430396238, "creation_date": 1430396238, "answer_id": 29967572, "question_id": 29955091, "link": "https://stackoverflow.com/questions/29955091/cleverbot-api-not-working-python-2-to-python-3/29967572#29967572", "title": "Cleverbot api not working (python 2 to python 3)", "body": "<p>Your <code>self.resp</code> is a bytestring, and you probably want to decode it before you work on it.</p>\n"}], "owner": {"reputation": 161, "user_id": 4848323, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/81f574d6d0a090c6136f902334005bc4?s=128&d=identicon&r=PG&f=1", "display_name": "Talesseed", "link": "https://stackoverflow.com/users/4848323/talesseed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 560, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1430396238, "creation_date": 1430343632, "last_edit_date": 1430343956, "question_id": 29955091, "link": "https://stackoverflow.com/questions/29955091/cleverbot-api-not-working-python-2-to-python-3", "title": "Cleverbot api not working (python 2 to python 3)", "body": "<p>I'm trying to convert an module that interact with Cleverbot. It's on python 2, but I would like it to be working with python 3. But I encounter an error :</p>\n\n<p><code>parsed = [ item.split('\\r') for item in self.resp.split('\\r\\r\\r\\r\\r\\r')[:-1]]\nTypeError: 'str' does not support the buffer interface</code></p>\n\n<p>I don't know how to resolve it ! Please help !</p>\n\n<p>Here is the entire code :</p>\n\n<pre><code>\"\"\"Python library allowing interaction with the Cleverbot API.\"\"\"\nimport hashlib\nimport urllib.request, urllib.parse, urllib.error\nfrom urllib.request import *\n\n\nclass Cleverbot:\n\n\n\n \"\"\"\n    Wrapper over the Cleverbot API.\n\n\"\"\"\nHOST = \"www.cleverbot.com\"\nPROTOCOL = \"http://\"\nRESOURCE = \"/webservicemin\"\nAPI_URL = PROTOCOL + HOST + RESOURCE\n\nheaders = {\n    'User-Agent': 'Mozilla/4.0 (compatible; MSIE 8.0; Windows NT 6.0)',\n    'Accept': 'text/html,application/xhtml+xml,'\n              'application/xml;q=0.9,*/*;q=0.8',\n    'Accept-Charset': 'ISO-8859-1,utf-8;q=0.7,*;q=0.7',\n    'Accept-Language': 'en-us,en;q=0.8,en-us;q=0.5,en;q=0.3',\n    'Cache-Control': 'no-cache',\n    'Host': HOST,\n    'Referer': PROTOCOL + HOST + '/',\n    'Pragma': 'no-cache'\n}\n\ndef __init__(self):\n    \"\"\" The data that will get passed to Cleverbot's web API \"\"\"\n    self.data = {\n        'stimulus': '',\n        'start': 'y',  # Never modified\n        'sessionid': '',\n        'vText8': '',\n        'vText7': '',\n        'vText6': '',\n        'vText5': '',\n        'vText4': '',\n        'vText3': '',\n        'vText2': '',\n        'icognoid': 'wsf',  # Never modified\n        'icognocheck': '',\n        'fno': 0,  # Never modified\n        'prevref': '',\n        'emotionaloutput': '',  # Never modified\n        'emotionalhistory': '',  # Never modified\n        'asbotname': '',  # Never modified\n        'ttsvoice': '',  # Never modified\n        'typing': '',  # Never modified\n        'lineref': '',\n        'sub': 'Say',  # Never modified\n        'islearning': 1,  # Never modified\n        'cleanslate': False,  # Never modified\n    }\n\n    # the log of our conversation with Cleverbot\n    self.conversation = []\n    self.resp = str()\n\ndef ask(self, question):\n    \"\"\"Asks Cleverbot a question.\n\n    Maintains message history.\n\n    Args:\n        q (str): The question to ask\n\n    Returns:\n        Cleverbot's answer\n    \"\"\"\n    # Set the current question\n    self.data['stimulus'] = question\n\n    # Connect to Cleverbot's API and remember the response\n    try:\n        self.resp = self._send()\n    except urllib.error.HTTPError:\n        # request failed. returning empty string\n        return str()\n\n    # Add the current question to the conversation log\n    self.conversation.append(question)\n\n    parsed = self._parse()\n\n    # Set data as appropriate\n    if self.data['sessionid'] != '':\n        self.data['sessionid'] = parsed['conversation_id']\n\n    # Add Cleverbot's reply to the conversation log\n    self.conversation.append(parsed['answer'])\n\n    return parsed['answer']\n\ndef _send(self):\n    \"\"\"POST the user's question and all required information to the \n    Cleverbot API\n\n    Cleverbot tries to prevent unauthorized access to its API by\n    obfuscating how it generates the 'icognocheck' token, so we have\n    to URLencode the data twice: once to generate the token, and\n    twice to add the token to the data we're sending to Cleverbot.\n    \"\"\"\n    # Set data as appropriate\n    if self.conversation:\n        linecount = 1\n        for line in reversed(self.conversation):\n            linecount += 1\n            self.data['vText' + str(linecount)] = line\n            if linecount == 8:\n                break\n\n    # Generate the token\n    enc_data = urllib.parse.urlencode(self.data)\n    digest_txt = enc_data[9:35]\n    token = hashlib.md5(digest_txt.encode('utf-8')).hexdigest()\n    self.data['icognocheck'] = token\n\n    # Add the token to the data\n    enc_data = urllib.parse.urlencode(self.data)\n    binary_data = enc_data.encode('utf-8') \n    req = urllib.request.Request(self.API_URL, binary_data, self.headers)\n\n    # POST the data to Cleverbot's API\n    conn = urllib.request.urlopen(req)\n    resp = conn.read()\n\n    # Return Cleverbot's response\n    return resp\n\ndef _parse(self):\n\n    \"\"\"Parses Cleverbot's response\"\"\"\n    parsed = [ item.split('\\r') for item in self.resp.split('\\r\\r\\r\\r\\r\\r')[:-1]]\n\n    return {\n        'answer': parsed[0][0],\n        'conversation_id': parsed[0][1],\n        'conversation_log_id': parsed[0][2],\n        'unknown': parsed[1][-1]\n    }\n\nquest=input(\"Question: \")\n\ncb = Cleverbot()\nquest=cb.ask(quest)\nprint(quest)\n</code></pre>\n"}, {"tags": ["python", "ubuntu"], "comments": [{"owner": {"reputation": 4652, "user_id": 1157106, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f00d78cb61e090aee853b09ed015462c?s=128&d=identicon&r=PG", "display_name": "tanaydin", "link": "https://stackoverflow.com/users/1157106/tanaydin"}, "edited": false, "score": 0, "creation_date": 1430343374, "post_id": 29954984, "comment_id": 48030818, "body": "possbile duplicate of <a href=\"http://askubuntu.com/questions/578872/ubuntu-14-04-pyenv-command-not-found\" title=\"ubuntu 14 04 pyenv command not found\">askubuntu.com/questions/578872/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1637, "user_id": 3724464, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/TwFbe.jpg?s=128&g=1", "display_name": "timbram", "link": "https://stackoverflow.com/users/3724464/timbram"}, "edited": false, "score": 0, "creation_date": 1430345303, "post_id": 29955015, "comment_id": 48031640, "body": "So, I shouldn&#39;t worry about using the newer venv module with the pyvenv command?"}, {"owner": {"reputation": 1637, "user_id": 3724464, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/TwFbe.jpg?s=128&g=1", "display_name": "timbram", "link": "https://stackoverflow.com/users/3724464/timbram"}, "edited": false, "score": 0, "creation_date": 1430345778, "post_id": 29955015, "comment_id": 48031824, "body": "When I try:  virtualenv -p $(python3.4) testDir  it launches me into the python interpreter and I then see:  Python 3.4.0 (default, Apr 11 2014, 13:05:11) [GCC 4.8.2] on linux Type &quot;help&quot;, &quot;copyright&quot;, &quot;credits&quot; or &quot;license&quot; for more information. &gt;&gt;&gt; quit() The executable testDir (from --python=testDir) does not exist"}, {"owner": {"reputation": 45398, "user_id": 873145, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0ab6f2836e0722ea0cbfeb97a74f131d?s=128&d=identicon&r=PG", "display_name": "Thomas Orozco", "link": "https://stackoverflow.com/users/873145/thomas-orozco"}, "reply_to_user": {"reputation": 1637, "user_id": 3724464, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/TwFbe.jpg?s=128&g=1", "display_name": "timbram", "link": "https://stackoverflow.com/users/3724464/timbram"}, "edited": false, "score": 0, "creation_date": 1430346802, "post_id": 29955015, "comment_id": 48032231, "body": "@timbram The command has <code>$(which python3)</code>, not <code>$(python3)</code>."}, {"owner": {"reputation": 1637, "user_id": 3724464, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/TwFbe.jpg?s=128&g=1", "display_name": "timbram", "link": "https://stackoverflow.com/users/3724464/timbram"}, "edited": false, "score": 0, "creation_date": 1430351903, "post_id": 29955015, "comment_id": 48034055, "body": "Thanks!  That works!  Where did you find that command?  I don&#39;t see that anywhere in the virtualenv documenation."}, {"owner": {"reputation": 45398, "user_id": 873145, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0ab6f2836e0722ea0cbfeb97a74f131d?s=128&d=identicon&r=PG", "display_name": "Thomas Orozco", "link": "https://stackoverflow.com/users/873145/thomas-orozco"}, "reply_to_user": {"reputation": 1637, "user_id": 3724464, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/TwFbe.jpg?s=128&g=1", "display_name": "timbram", "link": "https://stackoverflow.com/users/3724464/timbram"}, "edited": false, "score": 0, "creation_date": 1430352001, "post_id": 29955015, "comment_id": 48034077, "body": "@timbram This is a feature of your shell (not of <code>virtualenv</code>)  called <a href=\"http://www.tldp.org/LDP/abs/html/commandsub.html\" rel=\"nofollow noreferrer\">Command Substitution</a>."}, {"owner": {"reputation": 1637, "user_id": 3724464, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/TwFbe.jpg?s=128&g=1", "display_name": "timbram", "link": "https://stackoverflow.com/users/3724464/timbram"}, "edited": false, "score": 0, "creation_date": 1430352253, "post_id": 29955015, "comment_id": 48034148, "body": "Oh ok, so the -p tells it to expect you to define a python interpreter to use, and then you use the command substitution to, I guess define for it which one to use.  Thanks, I will have to look into it more! :)"}, {"owner": {"reputation": 597, "user_id": 4819353, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/80wMN.jpg?s=128&g=1", "display_name": "dasdachs", "link": "https://stackoverflow.com/users/4819353/dasdachs"}, "edited": false, "score": 0, "creation_date": 1440425053, "post_id": 29955015, "comment_id": 52254001, "body": "This is what I was looking for, thank you! It works without step 1."}, {"owner": {"reputation": 7294, "user_id": 136796, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c8f6d569508d3f79fd2d9390a56935d0?s=128&d=identicon&r=PG", "display_name": "S&#248;ren L&#248;vborg", "link": "https://stackoverflow.com/users/136796/s%c3%b8ren-l%c3%b8vborg"}, "edited": false, "score": 0, "creation_date": 1455890188, "post_id": 29955015, "comment_id": 58704829, "body": "I had to use <code>virtualenv --always-copy</code> to avoid a weird symlink issue, but otherwise, this worked."}], "tags": [], "owner": {"reputation": 45398, "user_id": 873145, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0ab6f2836e0722ea0cbfeb97a74f131d?s=128&d=identicon&r=PG", "display_name": "Thomas Orozco", "link": "https://stackoverflow.com/users/873145/thomas-orozco"}, "is_accepted": true, "score": 17, "last_activity_date": 1430343303, "creation_date": 1430343303, "answer_id": 29955015, "question_id": 29954984, "link": "https://stackoverflow.com/questions/29954984/ubuntu-14-04-python-3-4-pyenv-command-not-found/29955015#29955015", "title": "Ubuntu 14.04 - Python 3.4 - pyenv: command Not Found", "body": "<p>Ubuntu 14.04 uses Python 2 by default, and the <code>pyenv</code> command does not exist in Python 2 out of the box. </p>\n\n<p>You can, however, use <code>virtualenv</code> for the same purpose. You just need to install it!</p>\n\n<p>You should:</p>\n\n<ul>\n<li>Install Python 3 and virtualenv <code>apt-get install -y python3 python-virtualenv</code></li>\n<li>Create a Python 3 virtualenv: <code>virtualenv -p $(which python3) testDir</code></li>\n<li>Activate the virtual environment with <code>source testDir/bin/activate</code></li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 1408, "user_id": 701420, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/GkQ2H.jpg?s=128&g=1", "display_name": "Leo", "link": "https://stackoverflow.com/users/701420/leo"}, "edited": false, "score": 0, "creation_date": 1478303876, "post_id": 34812319, "comment_id": 68115123, "body": "Run <code>sudo apt-get install python3.4-venv</code> beforehand."}], "tags": [], "owner": {"reputation": 760, "user_id": 641093, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/e4a885efb356e7ad974fe7aba3ba7d7e?s=128&d=identicon&r=PG", "display_name": "pma_", "link": "https://stackoverflow.com/users/641093/pma"}, "is_accepted": false, "score": 4, "last_activity_date": 1452864998, "creation_date": 1452864998, "answer_id": 34812319, "question_id": 29954984, "link": "https://stackoverflow.com/questions/29954984/ubuntu-14-04-python-3-4-pyenv-command-not-found/34812319#34812319", "title": "Ubuntu 14.04 - Python 3.4 - pyenv: command Not Found", "body": "<p>It's also possible to create virtualenv by python itself.\npython3 -m venv myenv</p>\n\n<p>see documentation <a href=\"https://docs.python.org/3/library/venv.html\" rel=\"nofollow\">https://docs.python.org/3/library/venv.html</a></p>\n"}, {"tags": [], "owner": {"reputation": 1881, "user_id": 229154, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/79qdK.jpg?s=128&g=1", "display_name": "Wojciech Kaczmarek", "link": "https://stackoverflow.com/users/229154/wojciech-kaczmarek"}, "is_accepted": false, "score": 1, "last_activity_date": 1469116316, "creation_date": 1469116316, "answer_id": 38508838, "question_id": 29954984, "link": "https://stackoverflow.com/questions/29954984/ubuntu-14-04-python-3-4-pyenv-command-not-found/38508838#38508838", "title": "Ubuntu 14.04 - Python 3.4 - pyenv: command Not Found", "body": "<p>It's in the package <code>python3.4-venv</code> (Linux Mint) or <code>python3-venv</code> (Ubuntu - I guess).</p>\n\n<p>The advantages of <code>venv</code> over <code>virtualenv</code> are that (1) it's in vanilla Python3, (2) interpreter <strong>does</strong> retain tab-completion.</p>\n"}, {"comments": [{"owner": {"reputation": 741, "user_id": 4334953, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/gmvHs.jpg?s=128&g=1", "display_name": "tung", "link": "https://stackoverflow.com/users/4334953/tung"}, "edited": false, "score": 0, "creation_date": 1573738374, "post_id": 58857456, "comment_id": 103987269, "body": "Pls briefly explain what your changes do and why they will work"}, {"owner": {"reputation": 61, "user_id": 10361532, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-TZhbWm-_BPk/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaNAbgAw52lv5HxqlTWBMvPTmry8Yw/mo/photo.jpg?sz=128", "display_name": "Vamsi Shankar", "link": "https://stackoverflow.com/users/10361532/vamsi-shankar"}, "reply_to_user": {"reputation": 741, "user_id": 4334953, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/gmvHs.jpg?s=128&g=1", "display_name": "tung", "link": "https://stackoverflow.com/users/4334953/tung"}, "edited": false, "score": 0, "creation_date": 1573748495, "post_id": 58857456, "comment_id": 103993589, "body": "Defined environment to point to the path where pyenv repository is cloned and used exec command to update the path."}], "tags": [], "owner": {"reputation": 61, "user_id": 10361532, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-TZhbWm-_BPk/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaNAbgAw52lv5HxqlTWBMvPTmry8Yw/mo/photo.jpg?sz=128", "display_name": "Vamsi Shankar", "link": "https://stackoverflow.com/users/10361532/vamsi-shankar"}, "is_accepted": false, "score": 0, "last_activity_date": 1573748326, "last_edit_date": 1573748326, "creation_date": 1573736600, "answer_id": 58857456, "question_id": 29954984, "link": "https://stackoverflow.com/questions/29954984/ubuntu-14-04-python-3-4-pyenv-command-not-found/58857456#58857456", "title": "Ubuntu 14.04 - Python 3.4 - pyenv: command Not Found", "body": "<p>Edit the .bashrc file present in your home directory by adding below code and save the file:</p>\n\n<pre><code># Load pyenv automatically by adding\n# the following to ~/.bashrc:\nexport PATH=\"/home/'Enter systemname here'/.pyenv/bin:$PATH\"\neval \"$(pyenv init -)\"\neval \"$(pyenv virtualenv-init -)\"\n</code></pre>\n\n<p>After this you can now run the following command:</p>\n\n<pre><code>    exec $SHELL\n</code></pre>\n\n<p>Now pyenv works properly</p>\n"}], "owner": {"reputation": 1637, "user_id": 3724464, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/TwFbe.jpg?s=128&g=1", "display_name": "timbram", "link": "https://stackoverflow.com/users/3724464/timbram"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 12024, "favorite_count": 3, "accepted_answer_id": 29955015, "answer_count": 4, "score": 10, "last_activity_date": 1573748326, "creation_date": 1430343118, "last_edit_date": 1430499217, "question_id": 29954984, "link": "https://stackoverflow.com/questions/29954984/ubuntu-14-04-python-3-4-pyenv-command-not-found", "title": "Ubuntu 14.04 - Python 3.4 - pyenv: command Not Found", "body": "<p>I am trying to create a virtual environment for Python 3.4 on a fresh install of Ubuntu Server 14.04.  I following the instructions for the venv module at:</p>\n\n<p><a href=\"https://docs.python.org/3/library/venv.html#module-venv\">https://docs.python.org/3/library/venv.html#module-venv</a></p>\n\n<p>I don't have a lot of Python 3.4 or Ubuntu experience. </p>\n\n<p>When I type the command:</p>\n\n<pre><code>pyvenv testDir\n</code></pre>\n\n<p>I get back:</p>\n\n<pre><code>pyvenv: command not found\n</code></pre>\n\n<p>What is causing this?</p>\n"}, {"tags": ["python", "bottle"], "answers": [{"comments": [{"owner": {"reputation": 54548, "user_id": 128141, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70dfb4afd84b106d0855184bf0ae4675?s=128&d=identicon&r=PG", "display_name": "Graham Dumpleton", "link": "https://stackoverflow.com/users/128141/graham-dumpleton"}, "edited": false, "score": 2, "creation_date": 1430356961, "post_id": 29955587, "comment_id": 48035512, "body": "Rather than hard code an absolute path, better to calculate it dynamically relative to where the code is located by determining the base directory using <code>os.path.dirname(__file__)</code> and then adding the relative path on the end. That is, use this approach in setting <code>bottle.TEMPLATE_PATH</code>."}, {"owner": {"reputation": 1609, "user_id": 569343, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EJf9g.png?s=128&g=1", "display_name": "Claudiu", "link": "https://stackoverflow.com/users/569343/claudiu"}, "reply_to_user": {"reputation": 54548, "user_id": 128141, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70dfb4afd84b106d0855184bf0ae4675?s=128&d=identicon&r=PG", "display_name": "Graham Dumpleton", "link": "https://stackoverflow.com/users/128141/graham-dumpleton"}, "edited": false, "score": 0, "creation_date": 1430573640, "post_id": 29955587, "comment_id": 48124246, "body": "Thank you @GrahamDumpleton"}], "tags": [], "owner": {"reputation": 1609, "user_id": 569343, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EJf9g.png?s=128&g=1", "display_name": "Claudiu", "link": "https://stackoverflow.com/users/569343/claudiu"}, "is_accepted": false, "score": 0, "last_activity_date": 1430569880, "last_edit_date": 1495542604, "creation_date": 1430345981, "answer_id": 29955587, "question_id": 29954977, "link": "https://stackoverflow.com/questions/29954977/bottle-serve-file-from-a-different-directory/29955587#29955587", "title": "Bottle serve file from a different directory", "body": "<p>The bottle <a href=\"http://bottlepy.org/docs/dev/faq.html#template-not-found-in-mod-wsgi-mod-python\" rel=\"nofollow noreferrer\">FAQ</a> specifies the following</p>\n\n<blockquote>\n  <p>Bottle searches in ./ and ./views/ for templates. In a mod_python or mod_wsgi environment, the working directory (./) depends on your Apache settings. You should add an absolute path to the template search path so bottle searches the right paths.</p>\n</blockquote>\n\n<p>You will need to add the <code>bananas</code> folder to the <code>TEMPLATE_PATH</code></p>\n\n<pre><code>base_path = os.path.abspath(os.path.dirname(__file__))\nbananas_path = os.path.join(base_path, 'bananas')\nbottle.TEMPLATE_PATH.insert(0, bananas_path)\n</code></pre>\n\n<p>EDIT: Improved the answer with <a href=\"https://stackoverflow.com/users/128141/graham-dumpleton\">Graham</a>'s suggestion to use paths relative to where the code is located.</p>\n"}, {"tags": [], "owner": {"reputation": 94, "user_id": 3713400, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fcc7e0587150f963275a60a397441553?s=128&d=identicon&r=PG&f=1", "display_name": "Zabka", "link": "https://stackoverflow.com/users/3713400/zabka"}, "is_accepted": false, "score": 0, "last_activity_date": 1431347667, "creation_date": 1431347667, "answer_id": 30167792, "question_id": 29954977, "link": "https://stackoverflow.com/questions/29954977/bottle-serve-file-from-a-different-directory/30167792#30167792", "title": "Bottle serve file from a different directory", "body": "<p>You can do something like this :</p>\n\n<p>Create a rooting rule for your folder : </p>\n\n<pre><code>@route('/banana/&lt;filepath:path&gt;')\ndef file_stac(filepath):\n    return static_file(filepath, root=\"./banana\")\n</code></pre>\n\n<p>And then, you only need to refer to this folder like this :</p>\n\n<pre><code>@route('/foo')\ndef bar():\n    return template('banana/foo.tpl')   \n</code></pre>\n\n<p>You can do the same for as many folder as you want, and this is usefull for serving css/js files inside a template (on your template, you can then do : </p>\n\n<pre><code>&lt;link href=\"banana/css/bootstrap.min.css\" rel=\"stylesheet\"&gt;\n</code></pre>\n\n<p>Hope it helped ! </p>\n"}], "owner": {"reputation": 16594, "user_id": 1050619, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/784ade8d4151295e24765ffc4fcd60b4?s=128&d=identicon&r=PG", "display_name": "user1050619", "link": "https://stackoverflow.com/users/1050619/user1050619"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1911, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1431347667, "creation_date": 1430343075, "last_edit_date": 1430346001, "question_id": 29954977, "link": "https://stackoverflow.com/questions/29954977/bottle-serve-file-from-a-different-directory", "title": "Bottle serve file from a different directory", "body": "<p>I have simple Bottle application which serves a page for /Startpage location. The index.html page is located under /banana folder and the banana folder is located under the same folder where my views.py exist. </p>\n\n<p>When I try this, its unable to find the page and throws internal server error</p>\n\n<pre><code>@app.wrap_app.route('/StartPage',method='GET')\ndef doStartPage():\n    return template('banana/index.html')\n</code></pre>\n\n<p>How can I refer my /banana folder in my template?</p>\n"}, {"tags": ["python", "selenium", "webdriver"], "answers": [{"tags": [], "owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "is_accepted": false, "score": 3, "last_activity_date": 1430343236, "creation_date": 1430343236, "answer_id": 29954999, "question_id": 29954972, "link": "https://stackoverflow.com/questions/29954972/selenium-with-python-button-click/29954999#29954999", "title": "selenium with python button click", "body": "<p>Locate the button <a href=\"http://selenium-python.readthedocs.org/en/latest/api.html#selenium.webdriver.remote.webdriver.WebDriver.find_element_by_link_text\" rel=\"nofollow\">by link text</a> and use <a href=\"http://selenium-python.readthedocs.org/en/latest/api.html#selenium.webdriver.remote.webelement.WebElement.click\" rel=\"nofollow\"><code>click()</code></a> method:</p>\n\n<pre><code>button = driver.find_element_by_link_text(\"Sign In\")\nbutton.click()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 74488, "user_id": 797495, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/BKD7l.jpg?s=128&g=1", "display_name": "Pedro Lobito", "link": "https://stackoverflow.com/users/797495/pedro-lobito"}, "is_accepted": false, "score": 1, "last_activity_date": 1430343265, "creation_date": 1430343265, "answer_id": 29955006, "question_id": 29954972, "link": "https://stackoverflow.com/questions/29954972/selenium-with-python-button-click/29955006#29955006", "title": "selenium with python button click", "body": "<p>To execute JavaScript on selenium python you can use:</p>\n\n<pre><code>driver.execute_script(\"toggleLogin('signInBlock','regBenefitsBlock');\")\n</code></pre>\n"}], "owner": {"reputation": 482, "user_id": 2754244, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/j0Zgu.jpg?s=128&g=1", "display_name": "rearThing", "link": "https://stackoverflow.com/users/2754244/rearthing"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1430343265, "creation_date": 1430343062, "question_id": 29954972, "link": "https://stackoverflow.com/questions/29954972/selenium-with-python-button-click", "title": "selenium with python button click", "body": "<p>I can access the tag below via css_selector but how do I do a button click?</p>\n\n<pre><code>&lt;a title=\"Sign In\" onclick=\"toggleLogin('signInBlock','regBenefitsBlock');\" href=\"javascript:void(0);\"&gt;Sign In&lt;/a&gt;\n</code></pre>\n\n<p>Any idea would be appreciated.</p>\n"}, {"tags": ["python", "flask", "python-sphinx", "autodoc"], "comments": [{"owner": {"reputation": 1391, "user_id": 2450629, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EP5Ah.jpg?s=128&g=1", "display_name": "Haochen Wu", "link": "https://stackoverflow.com/users/2450629/haochen-wu"}, "edited": false, "score": 1, "creation_date": 1430343597, "post_id": 29954968, "comment_id": 48030917, "body": "Have you checked your <b>init</b> code? Sphinx will import the python module it document and I guess there might be something wrong with one of these module&#39;s initial phase."}], "answers": [{"tags": [], "owner": {"reputation": 5061, "user_id": 1812993, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/9cf8b9493978bce37aa55602c7d9f660?s=128&d=identicon&r=PG", "display_name": "melchoir55", "link": "https://stackoverflow.com/users/1812993/melchoir55"}, "is_accepted": true, "score": 3, "last_activity_date": 1430349541, "creation_date": 1430349541, "answer_id": 29956308, "question_id": 29954968, "link": "https://stackoverflow.com/questions/29954968/sphinx-hangs-on-reading-sources-100-index/29956308#29956308", "title": "sphinx hangs on reading sources... [100%] index", "body": "<p>The problem ended up being that I was actually executing the api (app.run) in the my_app.py file. So, while the app object was available and ended up getting interpreted, I was hanging up because the api was being brought online.</p>\n"}], "owner": {"reputation": 5061, "user_id": 1812993, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/9cf8b9493978bce37aa55602c7d9f660?s=128&d=identicon&r=PG", "display_name": "melchoir55", "link": "https://stackoverflow.com/users/1812993/melchoir55"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 679, "favorite_count": 0, "accepted_answer_id": 29956308, "answer_count": 1, "score": 1, "last_activity_date": 1430379245, "creation_date": 1430343049, "last_edit_date": 1430379245, "question_id": 29954968, "link": "https://stackoverflow.com/questions/29954968/sphinx-hangs-on-reading-sources-100-index", "title": "sphinx hangs on reading sources... [100%] index", "body": "<p>I'm using Sphinx in order to autodocument a flask api. Everything seems to work pretty well, but I have a really weird problem. The problem can be bypassed, but the bypass isn't ideal.</p>\n\n<p>When I run make html Sphinx runs through </p>\n\n<pre><code>(env)vagrant@dweloDevEnv:~/make html\nsphinx-build -E -a -b html -d _build/doctrees   . _build/html\nRunning Sphinx v1.3.1\nbuilding [mo]: all of 0 po files\nbuilding [html]: all source files\nupdating environment: 1 added, 0 changed, 0 removed\n * Running on http://127.0.0.1:9001/                                            \n * Restarting with reloader\nRunning Sphinx v1.3.1\nbuilding [mo]: all of 0 po files\nbuilding [html]: all source files\nupdating environment: 1 added, 0 changed, 0 removed\nreading sources... [100%] index  \n</code></pre>\n\n<p>At the above line, sphinx hangs. I have left it for a full minute, but it won't continue. If I kill the process with cntrl + c, the process actually completes seemingly successfully:</p>\n\n<pre><code>reading sources... [100%] index                                                 \n^C\nlooking for now-outdated files... none found\npickling environment... done\nchecking consistency... done\npreparing documents... \nlooking for now-outdated files... none found\npickling environment... done\nchecking consistency... done\npreparing documents... done\ndoneing output... [100%] index                                                  \nwriting output... [100%] index                                                  \ngenerating indices... genindex\ngenerating indices... genindex http-routingtable http-routingtable\nwriting additional pages... search\nwriting additional pages... search\ncopying static files... \ncopying static files... done\ncopying extra files... done\ndumping search index in English (code: en) ... done\ndumping object inventory... done\ncopying extra files... done\ndumping search index in English (code: en) ... done\nbuild succeeded.\ndone\ndumping object inventory... done\nbuild succeeded.\n</code></pre>\n\n<p>If I go check the output directories, I do indeed find the documentation for my api. Great! Unfortunately, this approach makes it impossible for me to embed the process in a shell script (because I have to kill the process to get passed the hang).  My rst file is very simple. I've included it below:</p>\n\n<p><strong>my_app.rst</strong></p>\n\n<pre><code>Contents:\n\n.. toctree::\n   :maxdepth: 2\n.. autoflask:: my_api.run:api.app\n   :undoc-static:\n   :blueprints: v1_api\n   :include-empty-docstring:\n</code></pre>\n\n<p>I've been banging away for a very long time and can't seem to figure out what is going wrong. The lack of any useful error messages doesn't make it any easier. Has anyone encountered this in the past?</p>\n"}, {"tags": ["python", "tcp", "client", "echo", "server"], "comments": [{"owner": {"reputation": 4813, "user_id": 4663466, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/TvczL.png?s=128&g=1", "display_name": "Scott", "link": "https://stackoverflow.com/users/4663466/scott"}, "edited": false, "score": 0, "creation_date": 1430343693, "post_id": 29954958, "comment_id": 48030971, "body": "Just wondering what is the client number you&#39;re looking for?"}, {"owner": {"reputation": 33, "user_id": 2307415, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/d76bf3c3a0d24c9da72a8b30e2619571?s=128&d=identicon&r=PG", "display_name": "LClarke27", "link": "https://stackoverflow.com/users/2307415/lclarke27"}, "reply_to_user": {"reputation": 4813, "user_id": 4663466, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/TvczL.png?s=128&g=1", "display_name": "Scott", "link": "https://stackoverflow.com/users/4663466/scott"}, "edited": false, "score": 0, "creation_date": 1430346360, "post_id": 29954958, "comment_id": 48032058, "body": "Lets say im the 4th client to connect, then I would be looking for 4."}], "answers": [{"tags": [], "owner": {"reputation": 132, "user_id": 4040569, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/92e5a5a560749fdfd82138a88e9cf172?s=128&d=identicon&r=PG&f=1", "display_name": "rawinput", "link": "https://stackoverflow.com/users/4040569/rawinput"}, "is_accepted": false, "score": 0, "last_activity_date": 1430350531, "creation_date": 1430350531, "answer_id": 29956480, "question_id": 29954958, "link": "https://stackoverflow.com/questions/29954958/server-that-echos-the-client-number/29956480#29956480", "title": "Server that echos the client number?", "body": "<p>that is </p>\n\n<pre><code>import socket\nimport sys\n\n\nClinet_number = 0\nhost = ''\nport = 37373\ns = socket.socket(socket.AF_INET, socket.SOCK_STREAM)\ns.bind((host,port))\ns.listen(10) # number of queued connections \n\nwhile 1:\n    Client_number += 1\n    s, address = s.accept()\n    data = s.recv(1024)\n    if data:\n        s.send(str(Client_number))\n    s.close()\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 2307415, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/d76bf3c3a0d24c9da72a8b30e2619571?s=128&d=identicon&r=PG", "display_name": "LClarke27", "link": "https://stackoverflow.com/users/2307415/lclarke27"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 28, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1430350876, "creation_date": 1430343005, "last_edit_date": 1430350876, "question_id": 29954958, "link": "https://stackoverflow.com/questions/29954958/server-that-echos-the-client-number", "title": "Server that echos the client number?", "body": "<p>Trying to make a server that tells the client what number he/she is. For example, once you connect it should say something like \"Welcome client #5\" or something along those lines. Right now I'm just trying to write it so that it simply reads a line in and echos it back. Im stuck on as far as getting it to show the clients number.</p>\n\n<pre><code>import socket\nimport sys\n\nhost = ''\nport = 37373\ns = socket.socket(socket.AF_INET, socket.SOCK_STREAM)\ns.bind((host,port))\ns.listen(1)\n\nwhile 1:\n    s, address = s.accept()\n    data = s.recv(1024)\n    if data:\n        s.send(data)\n    s.close()\n</code></pre>\n"}, {"tags": ["python", "iterable", "hashlib"], "comments": [{"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 3, "creation_date": 1430343000, "post_id": 29954934, "comment_id": 48030611, "body": "@jonrsharpe: and that is a valid use of <code>iter()</code>, see <a href=\"https://stackoverflow.com/a/15599648\">What&#39;s perfect counterpart in Python for &quot;while not eof&quot;</a> for another example of passing a callable to <code>iter()</code>."}, {"owner": {"reputation": 216457, "user_id": 846892, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/E9dZn.png?s=128&g=1", "display_name": "Ashwini Chaudhary", "link": "https://stackoverflow.com/users/846892/ashwini-chaudhary"}, "edited": false, "score": 1, "creation_date": 1430343019, "post_id": 29954934, "comment_id": 48030620, "body": "Post your actual code, specially line 4."}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1430343165, "post_id": 29954934, "comment_id": 48030710, "body": "Can you post your actual code?"}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 1, "creation_date": 1430343249, "post_id": 29954934, "comment_id": 48030754, "body": "Are you <i>sure</i> you have the second argument to <code>iter()</code>? I can reproduce your error message by using <code>iter(lambda: f.read(65536))</code>, for example."}, {"owner": {"reputation": 7, "user_id": 4839928, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c611e69c2afdc5d24690a863cf859e6?s=128&d=identicon&r=PG&f=1", "display_name": "Keith Proctor", "link": "https://stackoverflow.com/users/4839928/keith-proctor"}, "reply_to_user": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1430344112, "post_id": 29954934, "comment_id": 48031155, "body": "@Padraic How do I keep the returns?  This is my actual code: python -c &quot;import hashlib     hash = hashlib.md5()     with open(&#39;/Volumes/Macintosh HD/AF 1/bbb.def&#39;, &#39;r+b&#39;) as f:         for block in iter(lambda: f.read(65536), &quot;&quot;):             hash.update(block)     print hash.hexdigest()&quot;"}], "answers": [{"tags": [], "owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "is_accepted": false, "score": 2, "last_activity_date": 1430343387, "creation_date": 1430343387, "answer_id": 29955038, "question_id": 29954934, "link": "https://stackoverflow.com/questions/29954934/function-object-is-not-iterable/29955038#29955038", "title": "Function object is not iterable", "body": "<p>You are <em>almost certainly</em> missing the second argument to the <a href=\"https://docs.python.org/2/library/functions.html#iter\" rel=\"nofollow\"><code>iter()</code> function</a>.</p>\n\n<p>Without the second argument the first argument <em>must</em> be iterable, but a <code>lambda</code> produces a function, and that's not an iterable:</p>\n\n<pre><code>&gt;&gt;&gt; iter(lambda: f.read(65536))\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\nTypeError: 'function' object is not iterable\n</code></pre>\n\n<p>From the <code>iter()</code> documentation:</p>\n\n<blockquote>\n  <p>The first argument is interpreted very differently depending on the presence of the second argument. Without a second argument, <em>o</em> must be a collection object which supports the iteration protocol (the <code>__iter__()</code> method), or it must support the sequence protocol (the <code>__getitem__()</code> method with integer arguments starting at <code>0</code>). If it does not support either of those protocols, <code>TypeError</code> is raised.</p>\n</blockquote>\n\n<p>With the second argument there you get a proper iterator for the <code>for</code> loop to iterate over:</p>\n\n<pre><code>&gt;&gt;&gt; iter(lambda: f.read(65536), '')\n&lt;callable-iterator object at 0x100563150&gt;\n</code></pre>\n\n<p>Each iteration the lambda function is called, until that function returns <code>''</code>, the empty string. In other words, 64Kb is read each iteration, until the end of the file is reached, at which point the <code>f.read()</code> operation returns an empty string and the iterator raises <code>StopIteration</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 2, "creation_date": 1430344686, "post_id": 29955309, "comment_id": 48031381, "body": "That should make no difference unless you are actually trying to run it as you posted in a comment. There is no difference between <code>&quot;</code> and <code>&#39;</code> in python, you also cannot return outside a function"}, {"owner": {"reputation": 7, "user_id": 4839928, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c611e69c2afdc5d24690a863cf859e6?s=128&d=identicon&r=PG&f=1", "display_name": "Keith Proctor", "link": "https://stackoverflow.com/users/4839928/keith-proctor"}, "reply_to_user": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1430349831, "post_id": 29955309, "comment_id": 48033423, "body": "Yep... that is how I&#39;m running it.  I&#39;m in FileMaker Server SQA and I&#39;m sending a small dynamic python command from a control box to a test box.  Most of the commands are 1 or 2 lines of python.  The commands do operations such as getChecksum, copyFile, addRecord, deleteRecord, recordExists.  This is extremely useful for my testing.  So what is the difference between &quot; and &#39; when running via the command line.  I thought I had protected the quotes correctly by escaping the quote and saw the double quote on the remote machine."}], "tags": [], "owner": {"reputation": 7, "user_id": 4839928, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c611e69c2afdc5d24690a863cf859e6?s=128&d=identicon&r=PG&f=1", "display_name": "Keith Proctor", "link": "https://stackoverflow.com/users/4839928/keith-proctor"}, "is_accepted": false, "score": -1, "last_activity_date": 1430344595, "creation_date": 1430344595, "answer_id": 29955309, "question_id": 29954934, "link": "https://stackoverflow.com/questions/29954934/function-object-is-not-iterable/29955309#29955309", "title": "Function object is not iterable", "body": "<p>Thanks ... figured it out with Martins help.  Thanks for pointing out the reason for the error.  For some reason it didn't like the double quotes provided in the second parameter of the iter function.  I changed those to single quotes and the function works now.</p>\n\n<p>-keith</p>\n"}], "owner": {"reputation": 7, "user_id": 4839928, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c611e69c2afdc5d24690a863cf859e6?s=128&d=identicon&r=PG&f=1", "display_name": "Keith Proctor", "link": "https://stackoverflow.com/users/4839928/keith-proctor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5742, "favorite_count": 0, "answer_count": 2, "score": -2, "last_activity_date": 1430344595, "creation_date": 1430342884, "last_edit_date": 1495540376, "question_id": 29954934, "link": "https://stackoverflow.com/questions/29954934/function-object-is-not-iterable", "title": "Function object is not iterable", "body": "<p><a href=\"https://stackoverflow.com/questions/3431825/generating-a-md5-checksum-of-a-file\">Generating an MD5 checksum of a file</a></p>\n\n<p>I have used one of the examples from the above link but made some a small change to it by removing the call to the function (originally from above):</p>\n\n<pre><code>import hashlib\nhash = hashlib.md5()\nwith open('validFilePath/file.xxx', \"r+b\") as f:\n    for block in iter(lambda: f.read(65536), \"\"):\n        hash.update(block)\nreturn hash.hexdigest()\n</code></pre>\n\n<p>This gives me the following error. </p>\n\n<pre><code>File \"&lt;string&gt;\", line 4, in &lt;module&gt;\nTypeError: 'function' object is not iterable\n</code></pre>\n\n<p>Am I missing some basic Python premise?</p>\n"}, {"tags": ["python", "sqlalchemy"], "answers": [{"comments": [{"owner": {"reputation": 10992, "user_id": 170431, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/votcq.jpg?s=128&g=1", "display_name": "Ken Kinder", "link": "https://stackoverflow.com/users/170431/ken-kinder"}, "edited": false, "score": 2, "creation_date": 1548961141, "post_id": 41927212, "comment_id": 95742814, "body": "Is there a way of doing this that uses only the stable SQ API, not <code>_add_table</code>?"}], "tags": [], "owner": {"reputation": 397, "user_id": 243519, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b5f4094a264add8a82d738d8b5e6606?s=128&d=identicon&r=PG", "display_name": "Martin Loetzsch", "link": "https://stackoverflow.com/users/243519/martin-loetzsch"}, "is_accepted": false, "score": 5, "last_activity_date": 1485733054, "creation_date": 1485733054, "answer_id": 41927212, "question_id": 29954815, "link": "https://stackoverflow.com/questions/29954815/merge-multiple-declarative-bases-in-sqlalchemy/41927212#41927212", "title": "Merge multiple declarative bases in SQLAlchemy", "body": "<p>For my use case this worked:</p>\n\n<pre><code>from sqlalchemy import MetaData\n\ncombined_meta_data = MetaData()\n\nfor declarative_base in [Base1, Base2]:\n    for (table_name, table) in declarative_base.metadata.tables.items():\n        combined_meta_data._add_table(table_name, table.schema, table)\n</code></pre>\n\n<p>Or, even better, automatically merge all declarative bases:</p>\n\n<pre><code>import gc\nfrom sqlalchemy import MetaData\n\ncombined_meta_data = MetaData()\n\nfor declarative_base in ([obj for obj in gc.get_objects() if isinstance(obj, DeclarativeMeta)]):\n    for (table_name, table) in declarative_base.metadata.tables.items():\n        combined_meta_data._add_table(table_name, table.schema, table)\n</code></pre>\n\n<p>That meta data can then be used for example to create a diff to the current database:</p>\n\n<pre><code>from sqlalchemy import create_engine\nfrom alembic.migration import MigrationContext\nfrom alembic.autogenerate import compare_metadata\nimport pprint\n\nengine = create_engine(...)\nmigration_context = MigrationContext.configure(engine.connect())\n\ndiff = compare_metadata(migration_context, combined_meta_data)\npprint.pprint(diff)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 63, "user_id": 3362909, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6398a36d9c73104b3d74561e53202a2?s=128&d=identicon&r=PG&f=1", "display_name": "Ben", "link": "https://stackoverflow.com/users/3362909/ben"}, "is_accepted": false, "score": 0, "last_activity_date": 1608354129, "creation_date": 1608354129, "answer_id": 65366852, "question_id": 29954815, "link": "https://stackoverflow.com/questions/29954815/merge-multiple-declarative-bases-in-sqlalchemy/65366852#65366852", "title": "Merge multiple declarative bases in SQLAlchemy", "body": "<p><a href=\"https://docs.sqlalchemy.org/en/14/core/metadata.html#sqlalchemy.schema.Table.to_metadata\" rel=\"nofollow noreferrer\"><code>sqlalchemy.Table.to_metadata</code></a> appears to be a non-internal API that can copy a Table from one metadata object to another.</p>\n<pre><code>from sqlalchemy import MetaData\nfrom sqlalchemy.ext.declarative import declarative_base\n    \ndef merge_metadata(*original_metadata) -&gt; MetaData:\n    merged = MetaData()\n\n    for original_metadatum in original_metadatas:\n        for table in original_metadatum.tables.values():\n            table.to_metadata(merged)\n    \n    return merged\n\nBase1 = declarative_base()\nBase2 = declarative_base()\nprint(merge_metadata(Base1.metadata, Base2.metadata).tables)\n</code></pre>\n"}], "owner": {"reputation": 1790, "user_id": 2651381, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/xKYO3.jpg?s=128&g=1", "display_name": "Tim Martin", "link": "https://stackoverflow.com/users/2651381/tim-martin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1540, "favorite_count": 4, "answer_count": 2, "score": 12, "last_activity_date": 1608354129, "creation_date": 1430342473, "question_id": 29954815, "link": "https://stackoverflow.com/questions/29954815/merge-multiple-declarative-bases-in-sqlalchemy", "title": "Merge multiple declarative bases in SQLAlchemy", "body": "<p>Is it possible to merge a _BoundDeclarativeMeta instance with another?</p>\n\n<p>For example:</p>\n\n<pre><code>from sqlalchemy.ext.declarative import declarative_base\n\nBase1 = declarative_base()\nBase2 = declarative_base()\n\n# Something like this?\nCombinedBase = Base1.merge(Base2)\n</code></pre>\n\n<p>In reality I would be subclassing orm models from each of them before merging.  The problem is that I have an independent package that needs certain tables to work.  Yet it is going to be used by another independent package.</p>\n"}, {"tags": ["python", "string"], "answers": [{"comments": [{"owner": {"reputation": 885, "user_id": 4847061, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/286a023c1a85be0d9049a3b43c6336d8?s=128&d=identicon&r=PG&f=1", "display_name": "user4847061", "link": "https://stackoverflow.com/users/4847061/user4847061"}, "edited": false, "score": 2, "creation_date": 1430343227, "post_id": 29954829, "comment_id": 48030743, "body": "I like that this has linear time complexity"}], "tags": [], "owner": {"reputation": 11286, "user_id": 3928385, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/3HdfL.png?s=128&g=1", "display_name": "Ishamael", "link": "https://stackoverflow.com/users/3928385/ishamael"}, "is_accepted": true, "score": 15, "last_activity_date": 1430342530, "creation_date": 1430342530, "answer_id": 29954829, "question_id": 29954748, "link": "https://stackoverflow.com/questions/29954748/finding-subsequence-nonconsecutive/29954829#29954829", "title": "Finding subsequence (nonconsecutive)", "body": "<p>I don't know if there's builtin function, but it is rather simple to do manually</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>def exists(a, b):\n    \"\"\"checks if b exists in a as a subsequence\"\"\"\n    pos = 0\n    for ch in a:\n        if pos &lt; len(b) and ch == b[pos]:\n            pos += 1\n    return pos == len(b)\n</code></pre>\n\n\n\n<pre><code>&gt;&gt;&gt; exists(\"moo\", \"mo\")\nTrue\n&gt;&gt;&gt; exists(\"moo\", \"oo\")\nTrue\n&gt;&gt;&gt; exists(\"moo\", \"ooo\")\nFalse\n&gt;&gt;&gt; exists(\"haystack\", \"hack\")\nTrue\n&gt;&gt;&gt; exists(\"haystack\", \"hach\")\nFalse\n&gt;&gt;&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 73988, "user_id": 1639625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4224d1458a149d37b56a53115656f4df?s=128&d=identicon&r=PG", "display_name": "tobias_k", "link": "https://stackoverflow.com/users/1639625/tobias-k"}, "is_accepted": false, "score": 5, "last_activity_date": 1430342865, "creation_date": 1430342865, "answer_id": 29954930, "question_id": 29954748, "link": "https://stackoverflow.com/questions/29954748/finding-subsequence-nonconsecutive/29954930#29954930", "title": "Finding subsequence (nonconsecutive)", "body": "<p>Another possibility: You can create iterators for both, needle and haystack, and then pop elements from the haystack-iterator until either all the characters in the needle are found, or the iterator is exhausted.</p>\n\n<pre><code>def is_in(needle, haystack):\n    try:\n        iterator = iter(haystack)\n        for char in needle:\n            while next(iterator) != char:\n                pass\n        return True\n    except StopIteration:\n        return False\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2574, "user_id": 2223706, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/ksG4X.jpg?s=128&g=1", "display_name": "Garrett", "link": "https://stackoverflow.com/users/2223706/garrett"}, "edited": false, "score": 1, "creation_date": 1588727744, "post_id": 52709319, "comment_id": 109008689, "body": "For anyone else who tries to inline <code>it</code>, that is, tries to do it one line like: <code>all(x in iter(haystack) for x in needle)</code>, it doesn&#39;t work because <code>iter(haystack)</code> is re-instantiated each time."}], "tags": [], "owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "is_accepted": false, "score": 12, "last_activity_date": 1539187598, "last_edit_date": 1539187598, "creation_date": 1539028888, "answer_id": 52709319, "question_id": 29954748, "link": "https://stackoverflow.com/questions/29954748/finding-subsequence-nonconsecutive/52709319#52709319", "title": "Finding subsequence (nonconsecutive)", "body": "<p>Using an iterator trick:</p>\n\n<pre><code>it = iter(haystack)\nall(x in it for x in needle)\n</code></pre>\n\n<p>This is only a concise version of <a href=\"https://stackoverflow.com/a/29954930/674039\">the same idea presented in another answer</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 99, "user_id": 5326630, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3516598c4bd29d374b8e1d312434bd25?s=128&d=identicon&r=PG&f=1", "display_name": "Shri", "link": "https://stackoverflow.com/users/5326630/shri"}, "is_accepted": false, "score": 0, "last_activity_date": 1600830963, "creation_date": 1600830963, "answer_id": 64020537, "question_id": 29954748, "link": "https://stackoverflow.com/questions/29954748/finding-subsequence-nonconsecutive/64020537#64020537", "title": "Finding subsequence (nonconsecutive)", "body": "<p>We can try simple for loop and break method and pass on substring once the match is found</p>\n<pre><code>def substr(lstr,sstr):\nlenl = len(lstr)\nfor i in sstr:\n    for j in range(lenl):\n        if i not in lstr:\n            return False\n        elif i == lstr[j]:\n            lstr = lstr[j+1:]\n            break\n        else:\n            pass\nreturn True   \n</code></pre>\n"}], "owner": {"reputation": 885, "user_id": 4847061, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/286a023c1a85be0d9049a3b43c6336d8?s=128&d=identicon&r=PG&f=1", "display_name": "user4847061", "link": "https://stackoverflow.com/users/4847061/user4847061"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2157, "favorite_count": 3, "accepted_answer_id": 29954829, "answer_count": 4, "score": 17, "last_activity_date": 1600830963, "creation_date": 1430342235, "last_edit_date": 1540830856, "question_id": 29954748, "link": "https://stackoverflow.com/questions/29954748/finding-subsequence-nonconsecutive", "title": "Finding subsequence (nonconsecutive)", "body": "<p>If I have string <code>needle</code> and I want to check if it exists contiguously as a <em>substring</em> in <code>haystack</code>, I can use:</p>\n\n<pre><code>if needle in haystack:\n    ...\n</code></pre>\n\n<p>What can I use in the case of a non-continuous <em>subsequence</em>? Example:</p>\n\n<pre><code>&gt;&gt;&gt; haystack = \"abcde12345\"\n&gt;&gt;&gt; needle1 = \"ace13\"\n&gt;&gt;&gt; needle2 = \"123abc\"\n&gt;&gt;&gt; is_subsequence(needle1, haystack)\nTrue\n&gt;&gt;&gt; is_subsequence(needle2, haystack)  # order is important!\nFalse\n</code></pre>\n"}, {"tags": ["python", "append"], "comments": [{"owner": {"reputation": 24609, "user_id": 1974224, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/rQQMq.png?s=128&g=1", "display_name": "Cristik", "link": "https://stackoverflow.com/users/1974224/cristik"}, "edited": false, "score": 0, "creation_date": 1430341601, "post_id": 29954520, "comment_id": 48029848, "body": "Check the documentation for lists: <a href=\"https://docs.python.org/2/tutorial/datastructures.html\" rel=\"nofollow noreferrer\">docs.python.org/2/tutorial/datastructures.html</a>"}], "answers": [{"comments": [{"owner": {"reputation": 2290, "user_id": 2487476, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/h1IEQ.jpg?s=128&g=1", "display_name": "David Greydanus", "link": "https://stackoverflow.com/users/2487476/david-greydanus"}, "edited": false, "score": 1, "creation_date": 1430341590, "post_id": 29954535, "comment_id": 48029842, "body": "can&#39;t you let someone else answer a python question some times :-|"}, {"owner": {"reputation": 18948, "user_id": 3051961, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/b81cbd6deac24f756452266ff2e8d3ce?s=128&d=identicon&r=PG", "display_name": "ZdaR", "link": "https://stackoverflow.com/users/3051961/zdar"}, "reply_to_user": {"reputation": 2290, "user_id": 2487476, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/h1IEQ.jpg?s=128&g=1", "display_name": "David Greydanus", "link": "https://stackoverflow.com/users/2487476/david-greydanus"}, "edited": false, "score": 1, "creation_date": 1430341710, "post_id": 29954535, "comment_id": 48029909, "body": "Yeah I agree with @DavidGreydanus, you must ignore easy questions. ;)"}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "reply_to_user": {"reputation": 2290, "user_id": 2487476, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/h1IEQ.jpg?s=128&g=1", "display_name": "David Greydanus", "link": "https://stackoverflow.com/users/2487476/david-greydanus"}, "edited": false, "score": 0, "creation_date": 1430341752, "post_id": 29954535, "comment_id": 48029937, "body": "@DavidGreydanus: someone <a href=\"https://meta.stackoverflow.com/a/290419\">created activity profiles</a> for the election; I don&#39;t answer Python questions <a href=\"https://raw.githubusercontent.com/JC3/SO2015ActivityProfiles/master/data/combined/plots-daily/activity-35417-Martijn%20Pieters.csv-bubble-nosmoothing.png\" rel=\"nofollow noreferrer\">when the circles are small</a>. <i>Usually</i>. :-)"}], "tags": [], "owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "is_accepted": false, "score": 3, "last_activity_date": 1430341607, "last_edit_date": 1430341607, "creation_date": 1430341523, "answer_id": 29954535, "question_id": 29954520, "link": "https://stackoverflow.com/questions/29954520/python-appending-error/29954535#29954535", "title": "Python appending error", "body": "<p>The <code>list.append()</code> method returns <code>None</code>, and you <em>replaced</em> the list stored in <code>x</code> with that return value:</p>\n\n<pre><code>x = x.append(ord(ch))\n</code></pre>\n\n<p>Don't assign back to <code>x</code> here; <code>list.append()</code> alters the list <em>in place</em>:</p>\n\n<pre><code>with open(filechoice) as fileobj:\n    for word in fileobj:  \n       for ch in word:\n           x.append(ord(ch))\n</code></pre>\n\n<p>You can use a list comprehension to build the list instead:</p>\n\n<pre><code>with open(filechoice) as fileobj:\n    x = [ord(ch) for word in fileobj for ch in word]\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 4848258, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7844d8df93e751c0226c2e48709447e?s=128&d=identicon&r=PG&f=1", "display_name": "Need help", "link": "https://stackoverflow.com/users/4848258/need-help"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1430342620, "creation_date": 1430341476, "last_edit_date": 1430342620, "question_id": 29954520, "link": "https://stackoverflow.com/questions/29954520/python-appending-error", "title": "Python appending error", "body": "<pre><code>x = []\nwith open(filechoice) as fileobj:\n    for word in fileobj:  \n       for ch in word:\n\n           f = ord(ch)\n           x = x.append(ord(ch))\n</code></pre>\n\n<p>But it returns this error:</p>\n\n<pre><code>\"AttributeError: 'NoneType' object has no attribute 'append'\"\n</code></pre>\n\n<p>How can I fix this error?</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 16233, "user_id": 4253229, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh4.googleusercontent.com/-e2FAQvlj5CQ/AAAAAAAAAAI/AAAAAAAAAqM/TlSnekirgNE/photo.jpg?sz=128", "display_name": "Eugene Sh.", "link": "https://stackoverflow.com/users/4253229/eugene-sh"}, "edited": false, "score": 2, "creation_date": 1430341209, "post_id": 29954398, "comment_id": 48029619, "body": "What is the fourth line doing? Read about the <code>if</code> syntax."}], "answers": [{"tags": [], "owner": {"reputation": 45398, "user_id": 873145, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0ab6f2836e0722ea0cbfeb97a74f131d?s=128&d=identicon&r=PG", "display_name": "Thomas Orozco", "link": "https://stackoverflow.com/users/873145/thomas-orozco"}, "is_accepted": false, "score": 1, "last_activity_date": 1430341201, "creation_date": 1430341201, "answer_id": 29954447, "question_id": 29954398, "link": "https://stackoverflow.com/questions/29954398/python-error-eof-while-parsing-or-syntax-error/29954447#29954447", "title": "Python Error EOF while parsing or syntax error", "body": "<p>In Python 2, You should use <a href=\"https://docs.python.org/2/library/functions.html#raw_input\" rel=\"nofollow\"><code>raw_input</code></a>, not <code>input</code>.</p>\n\n<p>Input actually <a href=\"https://docs.python.org/2/library/functions.html#input\" rel=\"nofollow\"><code>eval</code>'s whatever the user inputs</a>, which is why you get a <code>EOFError</code> if the user's name includes a single <code>'</code>, or a <code>SyntaxError</code> if their name isn't valid Python code.</p>\n\n<p>--</p>\n\n<p>Note that you seem to have an indentation problem on your last line. It should be:</p>\n\n<pre><code>if y == \"yes\":\n    print \"lets begin\"\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 7829, "user_id": 1479895, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/a8a81497dcd8075c18af030f61bf40e9?s=128&d=identicon&r=PG", "display_name": "Anton Belev", "link": "https://stackoverflow.com/users/1479895/anton-belev"}, "is_accepted": false, "score": 0, "last_activity_date": 1430385138, "last_edit_date": 1430385138, "creation_date": 1430341256, "answer_id": 29954465, "question_id": 29954398, "link": "https://stackoverflow.com/questions/29954398/python-error-eof-while-parsing-or-syntax-error/29954465#29954465", "title": "Python Error EOF while parsing or syntax error", "body": "<p>Few things:</p>\n\n<ol>\n<li><code>y = yes</code> what is that line? </li>\n<li><code>x = input ( \"Hello what is your name : \")</code> if you expect the user to input string you should be using <code>x = raw_input ( \"Hello what is your name : \")</code> instead</li>\n<li>if y == \"yes\" print \"lets begin\" should be -> <code>if y == \"yes\": print \"lets begin\"</code> with colon</li>\n</ol>\n"}, {"comments": [{"owner": {"reputation": 18948, "user_id": 3051961, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/b81cbd6deac24f756452266ff2e8d3ce?s=128&d=identicon&r=PG", "display_name": "ZdaR", "link": "https://stackoverflow.com/users/3051961/zdar"}, "edited": false, "score": 0, "creation_date": 1430341328, "post_id": 29954472, "comment_id": 48029688, "body": "Assuming it&#39;s Python 3"}], "tags": [], "owner": {"reputation": 18948, "user_id": 3051961, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/b81cbd6deac24f756452266ff2e8d3ce?s=128&d=identicon&r=PG", "display_name": "ZdaR", "link": "https://stackoverflow.com/users/3051961/zdar"}, "is_accepted": false, "score": 0, "last_activity_date": 1430341289, "creation_date": 1430341289, "answer_id": 29954472, "question_id": 29954398, "link": "https://stackoverflow.com/questions/29954398/python-error-eof-while-parsing-or-syntax-error/29954472#29954472", "title": "Python Error EOF while parsing or syntax error", "body": "<pre><code>x = input ( \"Hello what is your name : \")\nprint (\"Nice to meet you \" + x)\ny = input (\"Would you like to play Ted Ryan's Great Adventure Game? If you would like to play write yes if not write no\")\nif y == \"yes\":\n    print (\"lets begin\")\nelse:\n    print (\"No we cant play\")\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 81, "user_id": 3314030, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1db03e1e678c674b15afbe5299db917b?s=128&d=identicon&r=PG", "display_name": "TheHermit", "link": "https://stackoverflow.com/users/3314030/thehermit"}, "is_accepted": false, "score": 0, "last_activity_date": 1430341361, "creation_date": 1430341361, "answer_id": 29954488, "question_id": 29954398, "link": "https://stackoverflow.com/questions/29954398/python-error-eof-while-parsing-or-syntax-error/29954488#29954488", "title": "Python Error EOF while parsing or syntax error", "body": "<p>try raw_input() instead of input</p>\n\n<pre><code>name = raw_input( \"Hello what is your name : \")\nprint (\"Nice to meet you \" + name)\nanswer = raw_input(\"Would you like to play Ted Ryan's Great Adventure Game? If you would like to play write yes if not write no\")\nif answer == \"yes\":\n    print \"lets begin\"\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 4848223, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e3592b3794f7ea7eeea3d430e9877e7?s=128&d=identicon&r=PG&f=1", "display_name": "Theodore Ryan", "link": "https://stackoverflow.com/users/4848223/theodore-ryan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 107, "favorite_count": 0, "closed_date": 1430398229, "answer_count": 4, "score": -3, "last_activity_date": 1430385138, "creation_date": 1430341068, "last_edit_date": 1430341503, "question_id": 29954398, "link": "https://stackoverflow.com/questions/29954398/python-error-eof-while-parsing-or-syntax-error", "closed_reason": "Duplicate", "title": "Python Error EOF while parsing or syntax error", "body": "<p>This is my code:</p>\n\n<pre><code>x = input ( \"Hello what is your name : \")\nprint (\"Nice to meet you \" + x)\ny = input (\"Would you like to play Ted Ryan's Great Adventure Game? If you would like to play write yes if not write no\")\ny = yes\nif y == \"yes\" print \"lets begin\"\n</code></pre>\n\n<p>What I am trying to is if the input for the question \"Would you like to play Ted Ryan's Great Adventure Game? If you would like to play write yes if not write no\" is yes I want it to print let's begin.</p>\n\n<p>However, I sometimes get the errors \"EOF while parsing\" or \"syntax error\".</p>\n"}, {"tags": ["python", "exception"], "comments": [{"owner": {"reputation": 45398, "user_id": 873145, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0ab6f2836e0722ea0cbfeb97a74f131d?s=128&d=identicon&r=PG", "display_name": "Thomas Orozco", "link": "https://stackoverflow.com/users/873145/thomas-orozco"}, "edited": false, "score": 1, "creation_date": 1430341105, "post_id": 29954355, "comment_id": 48029568, "body": "Do you need to raise <i>anything</i> at this point? If it does matter whether the file exists or not, there&#39;s probably going to be another exception raised down the road anyway. In other words: what&#39;s your use case for raising?"}, {"owner": {"reputation": 43245, "user_id": 699305, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/db6ce45b5ec86e1b00d922fc5cee315f?s=128&d=identicon&r=PG", "display_name": "alexis", "link": "https://stackoverflow.com/users/699305/alexis"}, "reply_to_user": {"reputation": 45398, "user_id": 873145, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0ab6f2836e0722ea0cbfeb97a74f131d?s=128&d=identicon&r=PG", "display_name": "Thomas Orozco", "link": "https://stackoverflow.com/users/873145/thomas-orozco"}, "edited": false, "score": 0, "creation_date": 1430341683, "post_id": 29954355, "comment_id": 48029894, "body": "If the exception is not meant to be caught, it&#39;s just a question of aesthetics; but I am after the principle behind this, so let&#39;s assume that this is a long-running program and the error will get caught and the module will get called with new arguments (e.g., interactively)."}, {"owner": {"reputation": 45398, "user_id": 873145, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0ab6f2836e0722ea0cbfeb97a74f131d?s=128&d=identicon&r=PG", "display_name": "Thomas Orozco", "link": "https://stackoverflow.com/users/873145/thomas-orozco"}, "edited": false, "score": 1, "creation_date": 1430341792, "post_id": 29954355, "comment_id": 48029956, "body": "This is a bit of an anti-pattern in Python: you&#39;re supposed to ask for forgiveness, not permission. So, if you&#39;re not going to do anything about the error, just ignore it, let whatever is going to crash crash, and let the resulting exception bubble up to the caller. I&#39;d add an exception (no pun intended) to this rule if you&#39;re writing a library, in which case you might want your own exception hierarchy so that users can catch errors coming from your lib (e.g. like <code>requests</code> has <code>HTTPError</code>)."}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1430343125, "post_id": 29954355, "comment_id": 48030683, "body": "EAFP ... LBYL are just two competing schools of thought neither is an antipattern ... although in general python favors EAFP"}], "answers": [{"comments": [{"owner": {"reputation": 43245, "user_id": 699305, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/db6ce45b5ec86e1b00d922fc5cee315f?s=128&d=identicon&r=PG", "display_name": "alexis", "link": "https://stackoverflow.com/users/699305/alexis"}, "edited": false, "score": 1, "creation_date": 1430341499, "post_id": 29954408, "comment_id": 48029790, "body": "If I let it try to open the file naturally, I <i>will</i> get an OSError... hence this question. I prefer the look-before-you-leap approach, but I have a feeling the exception should not depend on my coding style."}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "reply_to_user": {"reputation": 43245, "user_id": 699305, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/db6ce45b5ec86e1b00d922fc5cee315f?s=128&d=identicon&r=PG", "display_name": "alexis", "link": "https://stackoverflow.com/users/699305/alexis"}, "edited": false, "score": 0, "creation_date": 1430341984, "post_id": 29954408, "comment_id": 48030056, "body": "so your asking if you should catch it and raise a Different OS error? or if you should do <code>if not os.exists(fname): raise OSError(&quot;File Doesnt exist&quot;)</code> which is almost identical to <code>fh = open(some_file)</code> except you wont get a filehandle back in the event it does exist"}, {"owner": {"reputation": 43245, "user_id": 699305, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/db6ce45b5ec86e1b00d922fc5cee315f?s=128&d=identicon&r=PG", "display_name": "alexis", "link": "https://stackoverflow.com/users/699305/alexis"}, "edited": false, "score": 0, "creation_date": 1430349030, "post_id": 29954408, "comment_id": 48033160, "body": "Well, if I do raise OSError the result is similar, but with ValueError it is not. That&#39;s the motivation for considering OSError, as I wrote."}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "reply_to_user": {"reputation": 43245, "user_id": 699305, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/db6ce45b5ec86e1b00d922fc5cee315f?s=128&d=identicon&r=PG", "display_name": "alexis", "link": "https://stackoverflow.com/users/699305/alexis"}, "edited": false, "score": 0, "creation_date": 1430349575, "post_id": 29954408, "comment_id": 48033353, "body": "in both cases the program exits with a non-zero exit code ... the OS has no idea about any of these error types ... all you want to do is express to the user what the problem is ... the only time you need to worry about this is if you plan on catching the error, in order to distinguish different logic depending on the errortype"}, {"owner": {"reputation": 43245, "user_id": 699305, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/db6ce45b5ec86e1b00d922fc5cee315f?s=128&d=identicon&r=PG", "display_name": "alexis", "link": "https://stackoverflow.com/users/699305/alexis"}, "edited": false, "score": 0, "creation_date": 1430349798, "post_id": 29954408, "comment_id": 48033412, "body": "Thanks but I know, I mentioned this in a comment under the question. My motivation for asking the question is largely conceptual, but let&#39;s assume that the error <i>will</i> be caught, otherwise the question is indeed pointless. But I&#39;m not looking for &quot;it&#39;s pointless&quot; as an answer."}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "reply_to_user": {"reputation": 43245, "user_id": 699305, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/db6ce45b5ec86e1b00d922fc5cee315f?s=128&d=identicon&r=PG", "display_name": "alexis", "link": "https://stackoverflow.com/users/699305/alexis"}, "edited": false, "score": 1, "creation_date": 1430349933, "post_id": 29954408, "comment_id": 48033462, "body": "well if you are going to catch it I would raise an OSError or even a custom FileNotFound Exception ... but if thats the case why wouldnt you let the normal OSError bubble up and be caught at the level your 2nd error would be caught at ... Im not being a smart ass(or intentionally difficult) I swear, these are things you should think about though"}, {"owner": {"reputation": 43245, "user_id": 699305, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/db6ce45b5ec86e1b00d922fc5cee315f?s=128&d=identicon&r=PG", "display_name": "alexis", "link": "https://stackoverflow.com/users/699305/alexis"}, "edited": false, "score": 0, "creation_date": 1430401447, "post_id": 29954408, "comment_id": 48058367, "body": "One reason I might want to raise the error myself is if I should in fact raise ValueError. From reading the PEPs it seems that the most important criterion for choosing (and designing) exceptions is which collections of them one might want to catch. I&#39;d catch it together with other argument-related errors (hence: ValueError), but I wrote this question so I can benefit from collective experience..."}], "tags": [], "owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "is_accepted": false, "score": 2, "last_activity_date": 1430341095, "creation_date": 1430341095, "answer_id": 29954408, "question_id": 29954355, "link": "https://stackoverflow.com/questions/29954355/should-i-raise-valueerror-or-oserror-for-non-existent-file-arguments/29954408#29954408", "title": "Should I raise ValueError or OSError for non-existent file arguments?", "body": "<p>does it <strong>really</strong> matter?(I <em>assume</em> you are not catching this exception and it is purely for informational purposes of an individual looking at the terminal output) <strong>none</strong> of that will be seen by the operating system as such I would just</p>\n\n<pre><code>raise Exception(\"Invalid Arguments, expected a file that exists not %r\"%(filename))\n</code></pre>\n\n<p>or just let it fail when it tries to open the file naturally even</p>\n"}], "owner": {"reputation": 43245, "user_id": 699305, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/db6ce45b5ec86e1b00d922fc5cee315f?s=128&d=identicon&r=PG", "display_name": "alexis", "link": "https://stackoverflow.com/users/699305/alexis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1774, "favorite_count": 0, "answer_count": 1, "score": 4, "last_activity_date": 1430341095, "creation_date": 1430340882, "last_edit_date": 1495542498, "question_id": 29954355, "link": "https://stackoverflow.com/questions/29954355/should-i-raise-valueerror-or-oserror-for-non-existent-file-arguments", "title": "Should I raise ValueError or OSError for non-existent file arguments?", "body": "<p>When a program receives a filename argument that does not exist, or is not a directory, I want to raise an error. But what error is considered best practice? </p>\n\n<p>I understand that <code>ValueError</code> is often used to signal invalid arguments (and I've seen <a href=\"https://stackoverflow.com/q/1992006/699305\">several</a> <a href=\"https://stackoverflow.com/q/256222/699305\">questions</a> about it). I also understand that, especially after the reorganization of exceptions in Python 3.3 (<a href=\"https://www.python.org/dev/peps/pep-3151/\" rel=\"nofollow noreferrer\">PEP 3151</a>), <code>OSError</code> is the catch-all category for problems related to interaction with the system.</p>\n\n<p>So, I have a program that expects a filename argument. If the name supplied by the caller does not exist, or exists but is a directory, what error should I raise? It's an incorrect argument so it seems that <code>ValueError</code> applies; but if I try to read from it as a file, I will get an <code>OSError</code>-- so shouldn't this be returned for consistency?</p>\n"}, {"tags": ["python", "numpy", "pandas"], "answers": [{"tags": [], "owner": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "is_accepted": true, "score": 62, "last_activity_date": 1519379075, "last_edit_date": 1519379075, "creation_date": 1430344853, "answer_id": 29955358, "question_id": 29954263, "link": "https://stackoverflow.com/questions/29954263/what-does-the-term-broadcasting-mean-in-pandas-documentation/29955358#29955358", "title": "What does the term &quot;broadcasting&quot; mean in Pandas documentation?", "body": "<p>So the term <em>broadcasting</em> comes from <a href=\"http://docs.scipy.org/doc/numpy/user/basics.broadcasting.html\" rel=\"noreferrer\">numpy</a>, simply put it explains the rules of the output that will result when you perform operations between n-dimensional arrays (could be panels, dataframes, series) or scalar values.</p>\n\n<h2>Broadcasting using a scalar value</h2>\n\n<p>So the simplest case is just multiplying by a scalar value:</p>\n\n<pre><code>In [4]:\ns = pd.Series(np.arange(5))\ns\n\nOut[4]:\n0    0\n1    1\n2    2\n3    3\n4    4\ndtype: int32\n\nIn [5]:    \ns * 10\n\nOut[5]:\n0     0\n1    10\n2    20\n3    30\n4    40\ndtype: int32\n</code></pre>\n\n<p>and we get the same expected results with a dataframe:</p>\n\n<pre><code>In [6]:    \ndf = pd.DataFrame({'a':np.random.randn(4), 'b':np.random.randn(4)})\ndf\n\nOut[6]:\n          a         b\n0  0.216920  0.652193\n1  0.968969  0.033369\n2  0.637784  0.856836\n3 -2.303556  0.426238\n\nIn [7]:    \ndf * 10\n\nOut[7]:\n           a         b\n0   2.169204  6.521925\n1   9.689690  0.333695\n2   6.377839  8.568362\n3 -23.035557  4.262381\n</code></pre>\n\n<p>So what is technically happening here is that the scalar value has been <em>broadcasted</em> along the same dimensions of the Series and DataFrame above.</p>\n\n<h2>Broadcasting using a 1-D array</h2>\n\n<p>Say we have a 2-D dataframe of shape 4 x 3 (4 rows x 3 columns) we can perform an operation along the x-axis by using a 1-D Series that is the same length as the row-length:</p>\n\n<pre><code>In [8]:\ndf = pd.DataFrame({'a':np.random.randn(4), 'b':np.random.randn(4), 'c':np.random.randn(4)})\ndf\n\nOut[8]:\n          a         b         c\n0  0.122073 -1.178127 -1.531254\n1  0.011346 -0.747583 -1.967079\n2 -0.019716 -0.235676  1.419547\n3  0.215847  1.112350  0.659432\n\nIn [26]:    \ndf.iloc[0]\n\nOut[26]:\na    0.122073\nb   -1.178127\nc   -1.531254\nName: 0, dtype: float64\n\nIn [27]:    \ndf + df.iloc[0]\n\nOut[27]:\n          a         b         c\n0  0.244146 -2.356254 -3.062507\n1  0.133419 -1.925710 -3.498333\n2  0.102357 -1.413803 -0.111707\n3  0.337920 -0.065777 -0.871822\n</code></pre>\n\n<p>the above looks funny at first until you understand what is happening, I took the first row of values and added this row-wise to the df, it can be visualised using this pic (sourced from <a href=\"http://wiki.scipy.org/EricsBroadcastingDoc\" rel=\"noreferrer\"><code>scipy</code></a>):</p>\n\n<p><img src=\"https://i.stack.imgur.com/kzNxo.gif\" alt=\"enter image description here\"></p>\n\n<p>The general rule is this:</p>\n\n<blockquote>\n  <p>In order to broadcast, the size of the trailing axes for both arrays\n  in an operation must either be the same size or one of them must be\n  one.</p>\n</blockquote>\n\n<p>So if I tried to add a 1-D array that didn't match in length, say one with 4 elements, unlike numpy which will raise a <code>ValueError</code>, in Pandas you'll get a df full of <code>NaN</code> values:</p>\n\n<pre><code>In [30]:\ndf + pd.Series(np.arange(4))\n\nOut[30]:\n    a   b   c   0   1   2   3\n0 NaN NaN NaN NaN NaN NaN NaN\n1 NaN NaN NaN NaN NaN NaN NaN\n2 NaN NaN NaN NaN NaN NaN NaN\n3 NaN NaN NaN NaN NaN NaN NaN\n</code></pre>\n\n<p>Now some of the great things about pandas is that it will try to align using existing column names and row labels, this can get in the way of trying to perform a fancier broadcasting like this:</p>\n\n<p><img src=\"https://i.stack.imgur.com/HcM6z.gif\" alt=\"enter image description here\"></p>\n\n<pre><code>In [55]:\ndf[['a']] + df.iloc[0]\n\nOut[55]:\n          a   b   c\n0  0.244146 NaN NaN\n1  0.133419 NaN NaN\n2  0.102357 NaN NaN\n3  0.337920 NaN NaN\n</code></pre>\n\n<p>In the above I use double subscripting to force the shape to be (4,1) but we see a problem when trying to broadcast using the first row as the column alignment only aligns on the first column. To get the same form of broadcasting to occur like the diagram above shows we have to decompose to numpy arrays which then become anonymous data:</p>\n\n<pre><code>In [56]:\ndf[['a']].values + df.iloc[0].values\n\nOut[56]:\narray([[ 0.24414608, -1.05605392, -1.4091805 ],\n       [ 0.13341899, -1.166781  , -1.51990758],\n       [ 0.10235701, -1.19784299, -1.55096957],\n       [ 0.33792013, -0.96227987, -1.31540645]])\n</code></pre>\n\n<p>It's also possible to broadcast in 3-dimensions but I don't go near that stuff often but the numpy, scipy and pandas book have examples that show how that works.</p>\n\n<p>Generally speaking the thing to remember is that aside from scalar values which are simple, for n-D arrays the minor/trailing axes length must match or one of them must be 1.</p>\n\n<p><strong>Update</strong></p>\n\n<p>it seems that the above now leads to <code>ValueError: Unable to coerce to Series, length must be 1: given 3</code> in latest version of pandas <code>0.20.2</code></p>\n\n<p>so you have to call <code>.values</code> on the <code>df</code> first:</p>\n\n<pre><code>In[42]:\ndf[['a']].values + df.iloc[0].values\n\nOut[42]: \narray([[ 0.244146, -1.056054, -1.409181],\n       [ 0.133419, -1.166781, -1.519908],\n       [ 0.102357, -1.197843, -1.55097 ],\n       [ 0.33792 , -0.96228 , -1.315407]])\n</code></pre>\n\n<p>To restore this back to the original df we can construct a df from the np array and pass the original columns in the args to the constructor:</p>\n\n<pre><code>In[43]:\npd.DataFrame(df[['a']].values + df.iloc[0].values, columns=df.columns)\n\nOut[43]: \n          a         b         c\n0  0.244146 -1.056054 -1.409181\n1  0.133419 -1.166781 -1.519908\n2  0.102357 -1.197843 -1.550970\n3  0.337920 -0.962280 -1.315407\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 179, "user_id": 6229784, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/142734913fdc4906a60db4880a3a7d1a?s=128&d=identicon&r=PG&f=1", "display_name": "thomas", "link": "https://stackoverflow.com/users/6229784/thomas"}, "is_accepted": false, "score": 1, "last_activity_date": 1590755218, "last_edit_date": 1590755218, "creation_date": 1590754095, "answer_id": 62085616, "question_id": 29954263, "link": "https://stackoverflow.com/questions/29954263/what-does-the-term-broadcasting-mean-in-pandas-documentation/62085616#62085616", "title": "What does the term &quot;broadcasting&quot; mean in Pandas documentation?", "body": "<h2>Broadcasting on Pandas DataFrames with MultiIndex</h2>\n\n<p>Broadcasting is especially interesting with <code>DataFrame</code>s which have a <code>pandas.MultiIndex</code> as I show you in the following example. </p>\n\n<p>Pandas makes it possible to broadcast over the dimensions added via a multidimensional and even hierarchical index, and this is very powerfull, if you know how to use it. You don't need to code your loops and conditions. You can rely on what works already. </p>\n\n<p>I filled two <code>pandas.DataFrames</code>, <code>af</code> and <code>df</code> with a <code>pandas.MultiIndex</code> on the 0-axis (the index) and 10 columns labeled with integeres refering for example to scenario data from a Monte-Carlo simulation. </p>\n\n<p>The <code>pandas.MultiIndex</code>es of the <code>af</code> and <code>df</code> share some common <code>levels</code> in the <code>names</code> (I call them dimensions). Not all <code>labels</code> (newer pandas versions call them <code>codes</code>) need to be in the matching dimensions. In the example, the dimensions 'a' and 'c' are shared. In both frames the 'a'-dimensions has the entries (<code>labels</code>) ['A' and 'B'], whereas in the 'c' dimension the frames <code>af</code> and <code>bf</code> have the entries <code>[0, 1, 2, 3]</code> and <code>[0, 1, 2]</code> respectively. </p>\n\n<p>Nonetheless, Broadcasting works fine. Which means in the following example, when multiplying the two frames, a group-wise multiplication for each group with matching entries in the matching dimensions is performed.</p>\n\n<p>The following example shows broadcasting on multiplications, but it works for all binary operations between <code>pandas.DataFrames</code> on the left- and right-hand side.</p>\n\n<h3>Some observations</h3>\n\n<p>Note, that both frames can have additional dimensions. It is not necessary that one set of names is a subset of the other. In the example we have <code>['a', 'b', 'c']</code> and <code>['a', 'c', 'd']</code> for the <code>af</code> and <code>bf</code> frames respectively</p>\n\n<p>The result spans up the whole space, as expected: <code>['a', 'b', 'c', 'd']</code> </p>\n\n<p>Since dimension 'c' does not have the entry (<code>code</code>) '3' in frame <code>bf</code>, whereas <code>af</code> has, the result fills the resulting block with <code>NaN</code>s.</p>\n\n<p>Note, that pandas 1.0.3 has been used here. Broadcasting with more then one overlapping dimensions did not work with pandas version 0.23.4.   </p>\n\n<p>Broadcasting over the 0-axis and the 1-axis at the same time does also work. See the last two examples. For example, if you would like to multiply the <code>af</code> with only <code>bf[0].to_frame()</code>, the first scenario. But it will only be applied to the equally labeled columns (as broadcasting is intended). </p>\n\n<h3>Further Hints</h3>\n\n<p>If you want to multiply the <code>af</code> frame with a column vector (I need to apply some weights sometimes with additional dimensions), then you can easily implement it yourself. You can expand your dataframe to <code>n = af.shape[1]</code> columns and use then that one for multiplication. Have a look at <code>numpy.tile</code> on how to do it 'without' coding.  </p>\n\n<pre><code>&gt;&gt;&gt; af\nValues    0    1    2    3    4    5    6    7    8    9\na b c\nA a 0   2.0  2.0  2.0  2.0  2.0  2.0  2.0  2.0  2.0  2.0\n    1   2.0  2.0  2.0  2.0  2.0  2.0  2.0  2.0  2.0  2.0\n    2   2.0  2.0  2.0  2.0  2.0  2.0  2.0  2.0  2.0  2.0\n    3   2.0  2.0  2.0  2.0  2.0  2.0  2.0  2.0  2.0  2.0\n  b 0   2.0  2.0  2.0  2.0  2.0  2.0  2.0  2.0  2.0  2.0\n    1   2.0  2.0  2.0  2.0  2.0  2.0  2.0  2.0  2.0  2.0\n    2   2.0  2.0  2.0  2.0  2.0  2.0  2.0  2.0  2.0  2.0\n    3   2.0  2.0  2.0  2.0  2.0  2.0  2.0  2.0  2.0  2.0\n  c 0   2.0  2.0  2.0  2.0  2.0  2.0  2.0  2.0  2.0  2.0\n    1   2.0  2.0  2.0  2.0  2.0  2.0  2.0  2.0  2.0  2.0\n    2   2.0  2.0  2.0  2.0  2.0  2.0  2.0  2.0  2.0  2.0\n    3   2.0  2.0  2.0  2.0  2.0  2.0  2.0  2.0  2.0  2.0\nB a 0   2.0  2.0  2.0  2.0  2.0  2.0  2.0  2.0  2.0  2.0\n    1   2.0  2.0  2.0  2.0  2.0  2.0  2.0  2.0  2.0  2.0\n    2   2.0  2.0  2.0  2.0  2.0  2.0  2.0  2.0  2.0  2.0\n    3   2.0  2.0  2.0  2.0  2.0  2.0  2.0  2.0  2.0  2.0\n  b 0   2.0  2.0  2.0  2.0  2.0  2.0  2.0  2.0  2.0  2.0\n    1   2.0  2.0  2.0  2.0  2.0  2.0  2.0  2.0  2.0  2.0\n    2   2.0  2.0  2.0  2.0  2.0  2.0  2.0  2.0  2.0  2.0\n    3   2.0  2.0  2.0  2.0  2.0  2.0  2.0  2.0  2.0  2.0\n  c 0   2.0  2.0  2.0  2.0  2.0  2.0  2.0  2.0  2.0  2.0\n    1   2.0  2.0  2.0  2.0  2.0  2.0  2.0  2.0  2.0  2.0\n    2   2.0  2.0  2.0  2.0  2.0  2.0  2.0  2.0  2.0  2.0\n    3   2.0  2.0  2.0  2.0  2.0  2.0  2.0  2.0  2.0  2.0\n&gt;&gt;&gt; bf\nValues    0    1    2    3    4    5    6    7    8    9\na c d\nA 0 *   3.0  3.0  3.0  3.0  3.0  3.0  3.0  3.0  3.0  3.0\n    #   3.0  3.0  3.0  3.0  3.0  3.0  3.0  3.0  3.0  3.0\n  1 *   3.0  3.0  3.0  3.0  3.0  3.0  3.0  3.0  3.0  3.0\n    #   3.0  3.0  3.0  3.0  3.0  3.0  3.0  3.0  3.0  3.0\n  2 *   3.0  3.0  3.0  3.0  3.0  3.0  3.0  3.0  3.0  3.0\n    #   3.0  3.0  3.0  3.0  3.0  3.0  3.0  3.0  3.0  3.0\nB 0 *   3.0  3.0  3.0  3.0  3.0  3.0  3.0  3.0  3.0  3.0\n    #   3.0  3.0  3.0  3.0  3.0  3.0  3.0  3.0  3.0  3.0\n  1 *   3.0  3.0  3.0  3.0  3.0  3.0  3.0  3.0  3.0  3.0\n    #   3.0  3.0  3.0  3.0  3.0  3.0  3.0  3.0  3.0  3.0\n  2 *   3.0  3.0  3.0  3.0  3.0  3.0  3.0  3.0  3.0  3.0\n    #   3.0  3.0  3.0  3.0  3.0  3.0  3.0  3.0  3.0  3.0\n&gt;&gt;&gt; af * bf\nValues       0    1    2    3    4    5    6    7    8    9\na c b d\nA 0 a *    6.0  6.0  6.0  6.0  6.0  6.0  6.0  6.0  6.0  6.0\n      #    6.0  6.0  6.0  6.0  6.0  6.0  6.0  6.0  6.0  6.0\n    b *    6.0  6.0  6.0  6.0  6.0  6.0  6.0  6.0  6.0  6.0\n      #    6.0  6.0  6.0  6.0  6.0  6.0  6.0  6.0  6.0  6.0\n    c *    6.0  6.0  6.0  6.0  6.0  6.0  6.0  6.0  6.0  6.0\n      #    6.0  6.0  6.0  6.0  6.0  6.0  6.0  6.0  6.0  6.0\n  1 a *    6.0  6.0  6.0  6.0  6.0  6.0  6.0  6.0  6.0  6.0\n      #    6.0  6.0  6.0  6.0  6.0  6.0  6.0  6.0  6.0  6.0\n    b *    6.0  6.0  6.0  6.0  6.0  6.0  6.0  6.0  6.0  6.0\n      #    6.0  6.0  6.0  6.0  6.0  6.0  6.0  6.0  6.0  6.0\n    c *    6.0  6.0  6.0  6.0  6.0  6.0  6.0  6.0  6.0  6.0\n      #    6.0  6.0  6.0  6.0  6.0  6.0  6.0  6.0  6.0  6.0\n  2 a *    6.0  6.0  6.0  6.0  6.0  6.0  6.0  6.0  6.0  6.0\n      #    6.0  6.0  6.0  6.0  6.0  6.0  6.0  6.0  6.0  6.0\n    b *    6.0  6.0  6.0  6.0  6.0  6.0  6.0  6.0  6.0  6.0\n      #    6.0  6.0  6.0  6.0  6.0  6.0  6.0  6.0  6.0  6.0\n    c *    6.0  6.0  6.0  6.0  6.0  6.0  6.0  6.0  6.0  6.0\n      #    6.0  6.0  6.0  6.0  6.0  6.0  6.0  6.0  6.0  6.0\n  3 a NaN  NaN  NaN  NaN  NaN  NaN  NaN  NaN  NaN  NaN  NaN\n    b NaN  NaN  NaN  NaN  NaN  NaN  NaN  NaN  NaN  NaN  NaN\n    c NaN  NaN  NaN  NaN  NaN  NaN  NaN  NaN  NaN  NaN  NaN\nB 0 a *    6.0  6.0  6.0  6.0  6.0  6.0  6.0  6.0  6.0  6.0\n      #    6.0  6.0  6.0  6.0  6.0  6.0  6.0  6.0  6.0  6.0\n    b *    6.0  6.0  6.0  6.0  6.0  6.0  6.0  6.0  6.0  6.0\n      #    6.0  6.0  6.0  6.0  6.0  6.0  6.0  6.0  6.0  6.0\n    c *    6.0  6.0  6.0  6.0  6.0  6.0  6.0  6.0  6.0  6.0\n      #    6.0  6.0  6.0  6.0  6.0  6.0  6.0  6.0  6.0  6.0\n  1 a *    6.0  6.0  6.0  6.0  6.0  6.0  6.0  6.0  6.0  6.0\n      #    6.0  6.0  6.0  6.0  6.0  6.0  6.0  6.0  6.0  6.0\n    b *    6.0  6.0  6.0  6.0  6.0  6.0  6.0  6.0  6.0  6.0\n      #    6.0  6.0  6.0  6.0  6.0  6.0  6.0  6.0  6.0  6.0\n    c *    6.0  6.0  6.0  6.0  6.0  6.0  6.0  6.0  6.0  6.0\n      #    6.0  6.0  6.0  6.0  6.0  6.0  6.0  6.0  6.0  6.0\n  2 a *    6.0  6.0  6.0  6.0  6.0  6.0  6.0  6.0  6.0  6.0\n      #    6.0  6.0  6.0  6.0  6.0  6.0  6.0  6.0  6.0  6.0\n    b *    6.0  6.0  6.0  6.0  6.0  6.0  6.0  6.0  6.0  6.0\n      #    6.0  6.0  6.0  6.0  6.0  6.0  6.0  6.0  6.0  6.0\n    c *    6.0  6.0  6.0  6.0  6.0  6.0  6.0  6.0  6.0  6.0\n      #    6.0  6.0  6.0  6.0  6.0  6.0  6.0  6.0  6.0  6.0\n  3 a NaN  NaN  NaN  NaN  NaN  NaN  NaN  NaN  NaN  NaN  NaN\n    b NaN  NaN  NaN  NaN  NaN  NaN  NaN  NaN  NaN  NaN  NaN\n    c NaN  NaN  NaN  NaN  NaN  NaN  NaN  NaN  NaN  NaN  NaN\n&gt;&gt;&gt; af * bf[0] # Raises Error: ValueError: cannot join with no overlapping index names\n\n   # Removed that part\n\n&gt;&gt;&gt; af * bf[0].to_frame()  # works consistently\n             0   1   2   3   4   5   6   7   8   9\na c b d                                           \nA 0 a *    6.0 NaN NaN NaN NaN NaN NaN NaN NaN NaN\n      #    6.0 NaN NaN NaN NaN NaN NaN NaN NaN NaN\n    b *    6.0 NaN NaN NaN NaN NaN NaN NaN NaN NaN\n      #    6.0 NaN NaN NaN NaN NaN NaN NaN NaN NaN\n    c *    6.0 NaN NaN NaN NaN NaN NaN NaN NaN NaN\n      #    6.0 NaN NaN NaN NaN NaN NaN NaN NaN NaN\n  1 a *    6.0 NaN NaN NaN NaN NaN NaN NaN NaN NaN\n      #    6.0 NaN NaN NaN NaN NaN NaN NaN NaN NaN\n    b *    6.0 NaN NaN NaN NaN NaN NaN NaN NaN NaN\n      #    6.0 NaN NaN NaN NaN NaN NaN NaN NaN NaN\n    c *    6.0 NaN NaN NaN NaN NaN NaN NaN NaN NaN\n      #    6.0 NaN NaN NaN NaN NaN NaN NaN NaN NaN\n  2 a *    6.0 NaN NaN NaN NaN NaN NaN NaN NaN NaN\n      #    6.0 NaN NaN NaN NaN NaN NaN NaN NaN NaN\n    b *    6.0 NaN NaN NaN NaN NaN NaN NaN NaN NaN\n      #    6.0 NaN NaN NaN NaN NaN NaN NaN NaN NaN\n    c *    6.0 NaN NaN NaN NaN NaN NaN NaN NaN NaN\n      #    6.0 NaN NaN NaN NaN NaN NaN NaN NaN NaN\n  3 a NaN  NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN\n    b NaN  NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN\n    c NaN  NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN\nB 0 a *    6.0 NaN NaN NaN NaN NaN NaN NaN NaN NaN\n      #    6.0 NaN NaN NaN NaN NaN NaN NaN NaN NaN\n    b *    6.0 NaN NaN NaN NaN NaN NaN NaN NaN NaN\n      #    6.0 NaN NaN NaN NaN NaN NaN NaN NaN NaN\n    c *    6.0 NaN NaN NaN NaN NaN NaN NaN NaN NaN\n      #    6.0 NaN NaN NaN NaN NaN NaN NaN NaN NaN\n  1 a *    6.0 NaN NaN NaN NaN NaN NaN NaN NaN NaN\n      #    6.0 NaN NaN NaN NaN NaN NaN NaN NaN NaN\n    b *    6.0 NaN NaN NaN NaN NaN NaN NaN NaN NaN\n      #    6.0 NaN NaN NaN NaN NaN NaN NaN NaN NaN\n    c *    6.0 NaN NaN NaN NaN NaN NaN NaN NaN NaN\n      #    6.0 NaN NaN NaN NaN NaN NaN NaN NaN NaN\n  2 a *    6.0 NaN NaN NaN NaN NaN NaN NaN NaN NaN\n      #    6.0 NaN NaN NaN NaN NaN NaN NaN NaN NaN\n    b *    6.0 NaN NaN NaN NaN NaN NaN NaN NaN NaN\n      #    6.0 NaN NaN NaN NaN NaN NaN NaN NaN NaN\n    c *    6.0 NaN NaN NaN NaN NaN NaN NaN NaN NaN\n      #    6.0 NaN NaN NaN NaN NaN NaN NaN NaN NaN\n  3 a NaN  NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN\n    b NaN  NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN\n    c NaN  NaN NaN NaN NaN NaN NaN NaN NaN NaN NaN\n\n&gt;&gt;&gt; cf = bf[0].to_frame() \n&gt;&gt;&gt; cf.columns = [3]\n&gt;&gt;&gt; af * cf  # And as expected we can broadcast over the same column labels at the same time\n            0   1   2    3   4   5   6   7   8   9\na c b d                                           \nA 0 a *   NaN NaN NaN  6.0 NaN NaN NaN NaN NaN NaN\n      #   NaN NaN NaN  6.0 NaN NaN NaN NaN NaN NaN\n    b *   NaN NaN NaN  6.0 NaN NaN NaN NaN NaN NaN\n      #   NaN NaN NaN  6.0 NaN NaN NaN NaN NaN NaN\n    c *   NaN NaN NaN  6.0 NaN NaN NaN NaN NaN NaN\n      #   NaN NaN NaN  6.0 NaN NaN NaN NaN NaN NaN\n  1 a *   NaN NaN NaN  6.0 NaN NaN NaN NaN NaN NaN\n      #   NaN NaN NaN  6.0 NaN NaN NaN NaN NaN NaN\n    b *   NaN NaN NaN  6.0 NaN NaN NaN NaN NaN NaN\n      #   NaN NaN NaN  6.0 NaN NaN NaN NaN NaN NaN\n    c *   NaN NaN NaN  6.0 NaN NaN NaN NaN NaN NaN\n      #   NaN NaN NaN  6.0 NaN NaN NaN NaN NaN NaN\n  2 a *   NaN NaN NaN  6.0 NaN NaN NaN NaN NaN NaN\n      #   NaN NaN NaN  6.0 NaN NaN NaN NaN NaN NaN\n    b *   NaN NaN NaN  6.0 NaN NaN NaN NaN NaN NaN\n      #   NaN NaN NaN  6.0 NaN NaN NaN NaN NaN NaN\n    c *   NaN NaN NaN  6.0 NaN NaN NaN NaN NaN NaN\n      #   NaN NaN NaN  6.0 NaN NaN NaN NaN NaN NaN\n  3 a NaN NaN NaN NaN  NaN NaN NaN NaN NaN NaN NaN\n    b NaN NaN NaN NaN  NaN NaN NaN NaN NaN NaN NaN\n    c NaN NaN NaN NaN  NaN NaN NaN NaN NaN NaN NaN\nB 0 a *   NaN NaN NaN  6.0 NaN NaN NaN NaN NaN NaN\n      #   NaN NaN NaN  6.0 NaN NaN NaN NaN NaN NaN\n    b *   NaN NaN NaN  6.0 NaN NaN NaN NaN NaN NaN\n      #   NaN NaN NaN  6.0 NaN NaN NaN NaN NaN NaN\n    c *   NaN NaN NaN  6.0 NaN NaN NaN NaN NaN NaN\n      #   NaN NaN NaN  6.0 NaN NaN NaN NaN NaN NaN\n  1 a *   NaN NaN NaN  6.0 NaN NaN NaN NaN NaN NaN\n      #   NaN NaN NaN  6.0 NaN NaN NaN NaN NaN NaN\n    b *   NaN NaN NaN  6.0 NaN NaN NaN NaN NaN NaN\n      #   NaN NaN NaN  6.0 NaN NaN NaN NaN NaN NaN\n    c *   NaN NaN NaN  6.0 NaN NaN NaN NaN NaN NaN\n      #   NaN NaN NaN  6.0 NaN NaN NaN NaN NaN NaN\n  2 a *   NaN NaN NaN  6.0 NaN NaN NaN NaN NaN NaN\n      #   NaN NaN NaN  6.0 NaN NaN NaN NaN NaN NaN\n    b *   NaN NaN NaN  6.0 NaN NaN NaN NaN NaN NaN\n      #   NaN NaN NaN  6.0 NaN NaN NaN NaN NaN NaN\n    c *   NaN NaN NaN  6.0 NaN NaN NaN NaN NaN NaN\n      #   NaN NaN NaN  6.0 NaN NaN NaN NaN NaN NaN\n  3 a NaN NaN NaN NaN  NaN NaN NaN NaN NaN NaN NaN\n    b NaN NaN NaN NaN  NaN NaN NaN NaN NaN NaN NaN\n    c NaN NaN NaN NaN  NaN NaN NaN NaN NaN NaN NaN\n</code></pre>\n"}], "owner": {"reputation": 12269, "user_id": 916907, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/cdbc1ee25fbf94cebfafba312de489ee?s=128&d=identicon&r=PG", "display_name": "Dun Peal", "link": "https://stackoverflow.com/users/916907/dun-peal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 16277, "favorite_count": 14, "accepted_answer_id": 29955358, "answer_count": 2, "score": 39, "last_activity_date": 1590755218, "creation_date": 1430340604, "last_edit_date": 1430348630, "question_id": 29954263, "link": "https://stackoverflow.com/questions/29954263/what-does-the-term-broadcasting-mean-in-pandas-documentation", "title": "What does the term &quot;broadcasting&quot; mean in Pandas documentation?", "body": "<p>I'm reading through the Pandas documentation, and the term \"broadcasting\" is <a href=\"http://pandas.pydata.org/pandas-docs/stable/basics.html#flexible-binary-operations\">used extensively</a>, but never really defined or explained.</p>\n\n<p>What does it mean?</p>\n"}, {"tags": ["python", "sorting", "dictionary"], "comments": [{"owner": {"reputation": 1660, "user_id": 1809049, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tPGH3.jpg?s=128&g=1", "display_name": "leeladam", "link": "https://stackoverflow.com/users/1809049/leeladam"}, "edited": false, "score": 3, "creation_date": 1430341061, "post_id": 29954246, "comment_id": 48029539, "body": "Do not use a dictionary if you want to sort your data. And do not use floating point values as dictionary keys. Why not simply storing your distances in a separate list, and <a href=\"http://stackoverflow.com/questions/6618515/sorting-list-based-on-values-from-another-list\">sort your data based on this distance list</a>? You might also consider using numpy to manipulate this kind of data (see third answer at the link above)."}], "answers": [{"tags": [], "owner": {"reputation": 829, "user_id": 3557327, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/ff2c9f3eb0de137929fd3893d62b044c?s=128&d=identicon&r=PG&f=1", "display_name": "user3557327", "link": "https://stackoverflow.com/users/3557327/user3557327"}, "is_accepted": false, "score": 0, "last_activity_date": 1430341102, "creation_date": 1430341102, "answer_id": 29954413, "question_id": 29954246, "link": "https://stackoverflow.com/questions/29954246/sorting-dictionary-in-python/29954413#29954413", "title": "sorting dictionary in python", "body": "<p><code>sorted</code> doesn't modify the iterable you pass to it, it returns a new sorted list. Try changing it to something like this:</p>\n\n<pre><code>sorted_keys = sorted(latLongDict, key=latLongDict.get)\nfor key in sorted_keys:\n    print(key)\n    print(latLongDict[key])\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 9620, "user_id": 1783163, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/BfUwH.jpg?s=128&g=1", "display_name": "peterh", "link": "https://stackoverflow.com/users/1783163/peterh"}, "edited": false, "score": 0, "creation_date": 1430365530, "post_id": 29954496, "comment_id": 48037882, "body": "Although the code is appreciated, it should always have an accompanying explanation. This doesn&#39;t have to be long but it is expected."}], "tags": [], "owner": {"reputation": 441, "user_id": 4245867, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4aa32241ed92abeb47f2573759e3c073?s=128&d=identicon&r=PG&f=1", "display_name": "Ivan Castro", "link": "https://stackoverflow.com/users/4245867/ivan-castro"}, "is_accepted": false, "score": 0, "last_activity_date": 1430341384, "creation_date": 1430341384, "answer_id": 29954496, "question_id": 29954246, "link": "https://stackoverflow.com/questions/29954246/sorting-dictionary-in-python/29954496#29954496", "title": "sorting dictionary in python", "body": "<p>try with</p>\n\n<pre><code>output = sorted(my_dict, key=lambda k: k[0])\n</code></pre>\n"}], "owner": {"reputation": 91, "user_id": 4812916, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/4f8c6f3c0d11783998e20eb288f357f1?s=128&d=identicon&r=PG&f=1", "display_name": "Albert", "link": "https://stackoverflow.com/users/4812916/albert"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 61, "favorite_count": 0, "closed_date": 1430379525, "answer_count": 2, "score": 0, "last_activity_date": 1430341384, "creation_date": 1430340554, "last_edit_date": 1430340763, "question_id": 29954246, "link": "https://stackoverflow.com/questions/29954246/sorting-dictionary-in-python", "closed_reason": "Duplicate", "title": "sorting dictionary in python", "body": "<p>I have a file of test data that looks like such:</p>\n\n<pre><code>GIS_FPC_PP,PERIMETER,MAT,LIGHTS,PARK,SPACES,LAT,LNG\n8266.99157657,453.7255798,Paved,1,American Legion,20,40.0188044212,-75.0547647126\n20054.5870679,928.20201772,Paved,1,Barnes Foundation Museum, ,39.9610355788,-75.1725011285\n9474.06791225,475.46041689,Paved,1,Carousel House, ,39.9788367755,-75.2123945669\n500.21243962,146.87828141,Paved,1,Center Square,3,39.9531308619,-75.1629612614\n9109.54965748,494.92895804,Paved,1,Clarence H Clark Park,33,39.9467944475,-75.2092212039\n1118.07293627,159.7527515,Paved,0,Clarence H Clark Park,5,39.94626513,-75.2089212417\n749.52528516,167.7006179,Paved,0,Clifford Park - Thomas Mansion,4,40.0349216312,-75.1900864349\n2386.07209112,208.90531203,Grass,0,Cobbs Creek South, ,39.9373184367,-75.2341880089\n8367.54199083,407.57978846, ,0,Cobbs Creek South, ,39.9413269464,-75.2383849209\n1145.41060379,155.30785641,Grass,0,Cobbs Creek South,6,39.9529398119,-75.2522393913\n</code></pre>\n\n<p>I am writing a program that takes in that data, parses it, and extracts the needed data (LAT, LNG, SPACES, MAT) into a list of tuples.  It then calculates the distance between each latitude and longitude point using the distance formula. Finally, it puts each tuple into a dictionary with the distance value as the key, sorts it, and prints it.  I got everything to work, but the sorting isn't working correctly which really confuses me.  I have pasted the program below along with the user location I used to produce the output.  Any help would be greatly appreciated.</p>\n\n<p>Program:</p>\n\n<pre><code>import urllib, philly_loc,math\n\ndef findDistance(pLat,pLong,uLat,uLong):\n\n    dist=math.sqrt(math.pow((float(pLat)-float(uLat)),2)+math.pow((float(pLong)-float(uLong)),2))\n\n    return dist\n\ntest=open(\"testdata.txt\")\n\nparkingDataList=test.readlines()\ntest.close()\n\nusrLocation=philly_loc.getLoc()\n\nlatLongList=[]\n\nfor i in range(0, len(parkingDataList)):\n    entry=parkingDataList[i]\n    tList=[]\n    if i!=0:\n        parseCSV=entry.split(',')\n        tList.append(parseCSV[-2].strip())\n        tList.append(parseCSV[-1].strip())\n        tList.append(parseCSV[-3].strip())\n        tList.append(parseCSV[-6].strip())\n        latLongList.append(tuple(tList))\n\nlatLongDict=dict()\n\nprint usrLocation\n\nfor i in range(0,len(latLongList)):\n    distance = findDistance(latLongList[i][0], latLongList[i][1], usrLocation[0], usrLocation[1])\n    latLongDict.update({distance: latLongList[i]})\n    sorted(latLongDict, key=latLongDict.get)\n    for keys, values in latLongDict.items():\n        print(keys)\n        print(values)\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>[40.0405802878, -75.2238309423]\n0.0946684240633\n('39.9610355788', '-75.1725011285', '', 'Paved')\n0.0627937257489\n('39.9788367755', '-75.2123945669', '', 'Paved')\n0.0946684240633\n('39.9610355788', '-75.1725011285', '', 'Paved')\n0.0627937257489\n('39.9788367755', '-75.2123945669', '', 'Paved')\n0.106548205724\n('39.9531308619', '-75.1629612614', '3', 'Paved')\n0.0946684240633\n('39.9610355788', '-75.1725011285', '', 'Paved')\n0.0627937257489\n('39.9788367755', '-75.2123945669', '', 'Paved')\n0.106548205724\n('39.9531308619', '-75.1629612614', '3', 'Paved')\n0.0946684240633\n('39.9610355788', '-75.1725011285', '', 'Paved')\n0.0949169547388\n('39.9467944475', '-75.2092212039', '33', 'Paved')\n0.0627937257489\n('39.9788367755', '-75.2123945669', '', 'Paved')\n0.0954863768441\n('39.94626513', '-75.2089212417', '5', 'Paved')\n0.106548205724\n('39.9531308619', '-75.1629612614', '3', 'Paved')\n0.0946684240633\n('39.9610355788', '-75.1725011285', '', 'Paved')\n0.0949169547388\n('39.9467944475', '-75.2092212039', '33', 'Paved')\n0.0949169547388\n('39.9467944475', '-75.2092212039', '33', 'Paved')\n0.0946684240633\n('39.9610355788', '-75.1725011285', '', 'Paved')\n0.0954863768441\n('39.94626513', '-75.2089212417', '5', 'Paved')\n0.0627937257489\n('39.9788367755', '-75.2123945669', '', 'Paved')\n0.106548205724\n('39.9531308619', '-75.1629612614', '3', 'Paved')\n0.0342156714706\n('40.0349216312', '-75.1900864349', '4', 'Paved')\n0.0949169547388\n('39.9467944475', '-75.2092212039', '33', 'Paved')\n0.0946684240633\n('39.9610355788', '-75.1725011285', '', 'Paved')\n0.103779953368\n('39.9373184367', '-75.2341880089', '', 'Grass')\n0.0954863768441\n('39.94626513', '-75.2089212417', '5', 'Paved')\n0.0627937257489\n('39.9788367755', '-75.2123945669', '', 'Paved')\n0.106548205724\n('39.9531308619', '-75.1629612614', '3', 'Paved')\n0.0342156714706\n('40.0349216312', '-75.1900864349', '4', 'Paved')\n0.0949169547388\n('39.9467944475', '-75.2092212039', '33', 'Paved')\n0.0946684240633\n('39.9610355788', '-75.1725011285', '', 'Paved')\n0.103779953368\n('39.9373184367', '-75.2341880089', '', 'Grass')\n0.0954863768441\n('39.94626513', '-75.2089212417', '5', 'Paved')\n0.0627937257489\n('39.9788367755', '-75.2123945669', '', 'Paved')\n0.106548205724\n('39.9531308619', '-75.1629612614', '3', 'Paved')\n0.100314725101\n('39.9413269464', '-75.2383849209', '', '')\n0.0342156714706\n('40.0349216312', '-75.1900864349', '4', 'Paved')\n\nusrLocation: [40.0405802878, -75.2238309423]\n</code></pre>\n"}, {"tags": ["python", "linux", "multiprocessing", "redhat", "python-multiprocessing"], "comments": [{"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 2, "creation_date": 1430340545, "post_id": 29954213, "comment_id": 48029232, "body": "<code>sudo pkill -9 python</code> should do the trick"}, {"owner": {"reputation": 27099, "user_id": 2379433, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/197d2417f199b0b6f951ee62e627a1d8?s=128&d=identicon&r=PG", "display_name": "Mike McKerns", "link": "https://stackoverflow.com/users/2379433/mike-mckerns"}, "reply_to_user": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1430340644, "post_id": 29954213, "comment_id": 48029294, "body": "@JoranBeasley: you are fast..."}, {"owner": {"reputation": 3874, "user_id": 2423116, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/8047e96df3264a4cabc812b4da38577e?s=128&d=identicon&r=PG", "display_name": "ADJ", "link": "https://stackoverflow.com/users/2423116/adj"}, "edited": false, "score": 0, "creation_date": 1430340646, "post_id": 29954213, "comment_id": 48029295, "body": "Any way to do it without sudo?"}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1430340694, "post_id": 29954213, "comment_id": 48029326, "body": "you probably dont need sudo assuming it launches under the same user you are running as"}, {"owner": {"reputation": 27099, "user_id": 2379433, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/197d2417f199b0b6f951ee62e627a1d8?s=128&d=identicon&r=PG", "display_name": "Mike McKerns", "link": "https://stackoverflow.com/users/2379433/mike-mckerns"}, "edited": false, "score": 1, "creation_date": 1430340742, "post_id": 29954213, "comment_id": 48029363, "body": "and multiprocessing should launch under the same user, so you don&#39;t need sudo"}], "answers": [{"tags": [], "owner": {"reputation": 9447, "user_id": 1380867, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/5dc27a551f77074a1dcc431e4158704b?s=128&d=identicon&r=PG", "display_name": "MZaragoza", "link": "https://stackoverflow.com/users/1380867/mzaragoza"}, "is_accepted": false, "score": 7, "last_activity_date": 1430340790, "last_edit_date": 1495540280, "creation_date": 1430340790, "answer_id": 29954323, "question_id": 29954213, "link": "https://stackoverflow.com/questions/29954213/how-do-i-kill-a-python-multiprocessing-job/29954323#29954323", "title": "How do I kill a Python multiprocessing job?", "body": "<p>You should be able to do something like this.</p>\n\n<p><a href=\"http://www.oracleflash.com/20/How-to-kill-all-processes-with-one-command-in-Linux.html\" rel=\"nofollow noreferrer\">Original Author</a></p>\n\n<pre><code>kill -9 `ps -ef | grep my_multiprocessor_script.py | grep -v grep | awk '{print $2}'`\n</code></pre>\n\n<p>also take a look at <a href=\"https://stackoverflow.com/a/18477541/1380867\">Python Multiprocessing Kill Processes</a>  for more info</p>\n"}], "owner": {"reputation": 3874, "user_id": 2423116, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/8047e96df3264a4cabc812b4da38577e?s=128&d=identicon&r=PG", "display_name": "ADJ", "link": "https://stackoverflow.com/users/2423116/adj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1479, "favorite_count": 4, "answer_count": 1, "score": 6, "last_activity_date": 1430340790, "creation_date": 1430340447, "last_edit_date": 1495535197, "question_id": 29954213, "link": "https://stackoverflow.com/questions/29954213/how-do-i-kill-a-python-multiprocessing-job", "title": "How do I kill a Python multiprocessing job?", "body": "<p>In reference to <a href=\"https://stackoverflow.com/questions/29802503/python-multiprocessing-doesnt-seem-to-use-more-than-one-core\">this question</a> I had asked, I can successfully run jobs using multiprocessing and I can see that all processors are being utilized.\nHow do I kill this job?\nFrom terminal I run:</p>\n\n<pre><code>python my_multiprocessor_script.py\n</code></pre>\n\n<p>Then I hit <code>Ctrl+C</code> to kill.</p>\n\n<p>However the job doesn't seem to be killed and I can see all the processors still in use.\nI'm running Red Hat Enterprise Linux Server release 6.6.</p>\n"}, {"tags": ["python", "html", "python-2.7", "bs4"], "answers": [{"tags": [], "owner": {"reputation": 1112, "user_id": 266371, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/lM3vo.png?s=128&g=1", "display_name": "TextGeek", "link": "https://stackoverflow.com/users/266371/textgeek"}, "is_accepted": true, "score": 3, "last_activity_date": 1430933326, "creation_date": 1430933326, "answer_id": 30083678, "question_id": 29954170, "link": "https://stackoverflow.com/questions/29954170/beautifulsoup-bs4-parsing-wrong/30083678#30083678", "title": "BeautifulSoup (bs4) parsing wrong", "body": "<p>The doc at <a href=\"http://www.crummy.com/software/BeautifulSoup/bs4/doc/#installing-a-parser\" rel=\"nofollow\">http://www.crummy.com/software/BeautifulSoup/bs4/doc/#installing-a-parser</a> tells how to get BS4 to use different parsers. Apparently the default is html.parse, which the BS4 doc says is broken before Python 2.7.3, but apparently still has the problem described above in 2.7.6.</p>\n\n<p>Switching to \"lxml\" was unsuccessful for me, but switching to \"html5lib\" produces the correct result:</p>\n\n<pre><code>tree = BS(htmSource, \"html5lib\")\n</code></pre>\n"}], "owner": {"reputation": 1112, "user_id": 266371, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/lM3vo.png?s=128&g=1", "display_name": "TextGeek", "link": "https://stackoverflow.com/users/266371/textgeek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2309, "favorite_count": 0, "accepted_answer_id": 30083678, "answer_count": 1, "score": 3, "last_activity_date": 1430933391, "creation_date": 1430340304, "last_edit_date": 1430933391, "question_id": 29954170, "link": "https://stackoverflow.com/questions/29954170/beautifulsoup-bs4-parsing-wrong", "title": "BeautifulSoup (bs4) parsing wrong", "body": "<p>Parsing this sample document with bs4, from python 2.7.6:</p>\n\n<pre><code>&lt;html&gt;\n&lt;body&gt;\n&lt;p&gt;HTML allows omitting P end-tags.\n\n&lt;p&gt;Like that and this.\n\n&lt;p&gt;And this, too.\n\n&lt;p&gt;What happened?&lt;/p&gt;\n\n&lt;p&gt;And can we &lt;p&gt;nest a paragraph, too?&lt;/p&gt;&lt;/p&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>Using:</p>\n\n<pre><code>from bs4 import BeautifulSoup as BS\n...\ntree = BS(fh)\n</code></pre>\n\n<p>HTML has, for ages, allowed omitted end-tags for various element types, including P (check the schema, or a parser). However, bs4's prettify() on this document shows that it doesn't end any of those paragraphs until it sees &lt;/body>:</p>\n\n<pre><code>&lt;html&gt;\n &lt;body&gt;\n  &lt;p&gt;\n   HTML allows omitting P end-tags.\n   &lt;p&gt;\n    Like that and this.\n    &lt;p&gt;\n     And this, too.\n     &lt;p&gt;\n      What happened?\n     &lt;/p&gt;\n     &lt;p&gt;\n      And can we\n      &lt;p&gt;\n       nest a paragraph, too?\n      &lt;/p&gt;\n     &lt;/p&gt;\n    &lt;/p&gt;\n   &lt;/p&gt;\n  &lt;/p&gt;\n &lt;/body&gt;\n</code></pre>\n\n<p>It's not prettify()'s fault, because traversing the tree manually I get the same structure:</p>\n\n<pre><code>&lt;[document]&gt;\n    &lt;html&gt;\n        \u240a\n        &lt;body&gt;\n            \u240a\n            &lt;p&gt;\n                HTML allows omitting P end-tags.\u240a\u240a\n                &lt;p&gt;\n                    Like that and this.\u240a\u240a\n                    &lt;p&gt;\n                        And this, too.\u240a\u240a\n                        &lt;p&gt;\n                            What happened?\n                        &lt;/p&gt;\n                        \u240a\n                        &lt;p&gt;\n                            And can we \n                            &lt;p&gt;\n                                nest a paragraph, too?\n                            &lt;/p&gt;\n                        &lt;/p&gt;\n                        \u240a\n                    &lt;/p&gt;\n                &lt;/p&gt;\n            &lt;/p&gt;\n        &lt;/body&gt;\n        \u240a\n    &lt;/html&gt;\n    \u240a\n&lt;/[document]&gt;\n</code></pre>\n\n<p>Now, this would be the right result for XML (at least up to &lt;/body>, at which point it should report a WF error). But this ain't XML. What gives?</p>\n"}, {"tags": ["python", "matplotlib", "scipy", "max"], "comments": [{"owner": {"reputation": 12837, "user_id": 2184364, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/fe15cfa3ec22be57f1762ba905c8eb70?s=128&d=identicon&r=PG", "display_name": "Julien Spronck", "link": "https://stackoverflow.com/users/2184364/julien-spronck"}, "edited": false, "score": 0, "creation_date": 1430341697, "post_id": 29954153, "comment_id": 48029901, "body": "have you tried <code>max(y)</code> or <code>y.max()</code> if <code>y</code> is a numpy array?"}, {"owner": {"reputation": 75, "user_id": 4825636, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/197fc28b62534e5adbf6cbe5b5e8822b?s=128&d=identicon&r=PG&f=1", "display_name": "skitt1z1", "link": "https://stackoverflow.com/users/4825636/skitt1z1"}, "reply_to_user": {"reputation": 12837, "user_id": 2184364, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/fe15cfa3ec22be57f1762ba905c8eb70?s=128&d=identicon&r=PG", "display_name": "Julien Spronck", "link": "https://stackoverflow.com/users/2184364/julien-spronck"}, "edited": false, "score": 0, "creation_date": 1430342327, "post_id": 29954153, "comment_id": 48030242, "body": "it is an array but I have been asked to find the maximum of the curve not the maximum data point in the array."}, {"owner": {"reputation": 12837, "user_id": 2184364, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/fe15cfa3ec22be57f1762ba905c8eb70?s=128&d=identicon&r=PG", "display_name": "Julien Spronck", "link": "https://stackoverflow.com/users/2184364/julien-spronck"}, "edited": false, "score": 0, "creation_date": 1430342624, "post_id": 29954153, "comment_id": 48030415, "body": "This has nothing to do with programming. That&#39;s pure mathematics. To find the maximum of a function, you need to calculate its derivative"}, {"owner": {"reputation": 75, "user_id": 4825636, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/197fc28b62534e5adbf6cbe5b5e8822b?s=128&d=identicon&r=PG&f=1", "display_name": "skitt1z1", "link": "https://stackoverflow.com/users/4825636/skitt1z1"}, "reply_to_user": {"reputation": 12837, "user_id": 2184364, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/fe15cfa3ec22be57f1762ba905c8eb70?s=128&d=identicon&r=PG", "display_name": "Julien Spronck", "link": "https://stackoverflow.com/users/2184364/julien-spronck"}, "edited": false, "score": 0, "creation_date": 1430343045, "post_id": 29954153, "comment_id": 48030638, "body": "Yes and for the maximum point I set the derivative of the function to zero. I already stated in my question &quot;Could I differentiate the function and find the point at which it is zero? If so how?&quot;"}, {"owner": {"reputation": 12837, "user_id": 2184364, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/fe15cfa3ec22be57f1762ba905c8eb70?s=128&d=identicon&r=PG", "display_name": "Julien Spronck", "link": "https://stackoverflow.com/users/2184364/julien-spronck"}, "edited": false, "score": 0, "creation_date": 1430343985, "post_id": 29954153, "comment_id": 48031104, "body": "your function <code>f</code> is maximal when <code>x = p2</code> and its value at that point is <code>4*p3&#47;p1</code>"}, {"owner": {"reputation": 75, "user_id": 4825636, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/197fc28b62534e5adbf6cbe5b5e8822b?s=128&d=identicon&r=PG&f=1", "display_name": "skitt1z1", "link": "https://stackoverflow.com/users/4825636/skitt1z1"}, "reply_to_user": {"reputation": 12837, "user_id": 2184364, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/fe15cfa3ec22be57f1762ba905c8eb70?s=128&d=identicon&r=PG", "display_name": "Julien Spronck", "link": "https://stackoverflow.com/users/2184364/julien-spronck"}, "edited": false, "score": 0, "creation_date": 1430345790, "post_id": 29954153, "comment_id": 48031830, "body": "But these values have been &quot;guessed&quot; to fit the data points so python doesn&#39;t recognize them."}, {"owner": {"reputation": 12837, "user_id": 2184364, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/fe15cfa3ec22be57f1762ba905c8eb70?s=128&d=identicon&r=PG", "display_name": "Julien Spronck", "link": "https://stackoverflow.com/users/2184364/julien-spronck"}, "edited": false, "score": 2, "creation_date": 1430361630, "post_id": 29954153, "comment_id": 48036848, "body": "After you fit the function, you have a set of parameters p1, p2, p3 that define your fit. The maximum of your fit is at (p2, 4*p3/p1). You can use whatever you want to approximate the answer but this gives you the exact one."}, {"owner": {"reputation": 75, "user_id": 4825636, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/197fc28b62534e5adbf6cbe5b5e8822b?s=128&d=identicon&r=PG&f=1", "display_name": "skitt1z1", "link": "https://stackoverflow.com/users/4825636/skitt1z1"}, "reply_to_user": {"reputation": 12837, "user_id": 2184364, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/fe15cfa3ec22be57f1762ba905c8eb70?s=128&d=identicon&r=PG", "display_name": "Julien Spronck", "link": "https://stackoverflow.com/users/2184364/julien-spronck"}, "edited": false, "score": 0, "creation_date": 1430397649, "post_id": 29954153, "comment_id": 48055542, "body": "That will not work as p1, p2 and p3 are undefined."}, {"owner": {"reputation": 12837, "user_id": 2184364, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/fe15cfa3ec22be57f1762ba905c8eb70?s=128&d=identicon&r=PG", "display_name": "Julien Spronck", "link": "https://stackoverflow.com/users/2184364/julien-spronck"}, "edited": false, "score": 0, "creation_date": 1430397795, "post_id": 29954153, "comment_id": 48055644, "body": "what do you think <code>popt</code> contains? p1, p2, p3 = popt (if i am not mistaken)"}, {"owner": {"reputation": 75, "user_id": 4825636, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/197fc28b62534e5adbf6cbe5b5e8822b?s=128&d=identicon&r=PG&f=1", "display_name": "skitt1z1", "link": "https://stackoverflow.com/users/4825636/skitt1z1"}, "reply_to_user": {"reputation": 12837, "user_id": 2184364, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/fe15cfa3ec22be57f1762ba905c8eb70?s=128&d=identicon&r=PG", "display_name": "Julien Spronck", "link": "https://stackoverflow.com/users/2184364/julien-spronck"}, "edited": false, "score": 0, "creation_date": 1430397884, "post_id": 29954153, "comment_id": 48055714, "body": "And how can I remove these from popt to perform the calculations?"}, {"owner": {"reputation": 12837, "user_id": 2184364, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/fe15cfa3ec22be57f1762ba905c8eb70?s=128&d=identicon&r=PG", "display_name": "Julien Spronck", "link": "https://stackoverflow.com/users/2184364/julien-spronck"}, "edited": false, "score": 1, "creation_date": 1430397931, "post_id": 29954153, "comment_id": 48055754, "body": "I think I&#39;ve just answered that question: <code>p1, p2, p3 = popt</code>"}, {"owner": {"reputation": 75, "user_id": 4825636, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/197fc28b62534e5adbf6cbe5b5e8822b?s=128&d=identicon&r=PG&f=1", "display_name": "skitt1z1", "link": "https://stackoverflow.com/users/4825636/skitt1z1"}, "reply_to_user": {"reputation": 12837, "user_id": 2184364, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/fe15cfa3ec22be57f1762ba905c8eb70?s=128&d=identicon&r=PG", "display_name": "Julien Spronck", "link": "https://stackoverflow.com/users/2184364/julien-spronck"}, "edited": false, "score": 0, "creation_date": 1430398507, "post_id": 29954153, "comment_id": 48056174, "body": "I see since popt is an array I can treat p1, p2, and p3 as elements from that array and perform the calculations?"}, {"owner": {"reputation": 12837, "user_id": 2184364, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/fe15cfa3ec22be57f1762ba905c8eb70?s=128&d=identicon&r=PG", "display_name": "Julien Spronck", "link": "https://stackoverflow.com/users/2184364/julien-spronck"}, "edited": false, "score": 0, "creation_date": 1430398622, "post_id": 29954153, "comment_id": 48056247, "body": "that is correct: <code>p1 = popt[0]</code>, <code>p2 = popt[1]</code> and <code>p3 = popt[2]</code>. If <code>popt</code> has only three elements, these statements are the same as <code>p1, p2, p3 = popt</code>"}], "answers": [{"comments": [{"owner": {"reputation": 75, "user_id": 4825636, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/197fc28b62534e5adbf6cbe5b5e8822b?s=128&d=identicon&r=PG&f=1", "display_name": "skitt1z1", "link": "https://stackoverflow.com/users/4825636/skitt1z1"}, "edited": false, "score": 0, "creation_date": 1430347177, "post_id": 29955549, "comment_id": 48032390, "body": "Ah... that does work thank you! Is there a similar way you may know of  using scipy?"}], "tags": [], "owner": {"reputation": 15361, "user_id": 10601, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/f9edf141570be78631565a8c8883bde5?s=128&d=identicon&r=PG", "display_name": "perimosocordiae", "link": "https://stackoverflow.com/users/10601/perimosocordiae"}, "is_accepted": false, "score": 4, "last_activity_date": 1430345836, "creation_date": 1430345836, "answer_id": 29955549, "question_id": 29954153, "link": "https://stackoverflow.com/questions/29954153/finding-the-maximum-of-a-curve-scipy/29955549#29955549", "title": "Finding the maximum of a curve scipy", "body": "<p>If you don't mind using <code>sympy</code>, it's pretty easy. Assuming the code you posted has already been run:</p>\n\n<pre><code>import sympy\n\nsym_x = sympy.symbols('x', real=True)\nsym_f = f(sym_x, *popt)\nsym_df = sym_f.diff()\nsolns = sympy.solve(sym_df)  # returns [3.0]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 75, "user_id": 4825636, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/197fc28b62534e5adbf6cbe5b5e8822b?s=128&d=identicon&r=PG&f=1", "display_name": "skitt1z1", "link": "https://stackoverflow.com/users/4825636/skitt1z1"}, "edited": false, "score": 0, "creation_date": 1430405344, "post_id": 29969166, "comment_id": 48061391, "body": "This is exactly what I was trying to do. Thank you!"}], "tags": [], "owner": {"reputation": 60033, "user_id": 102302, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/edd9c8a33bbb45d398ad8777e619c7a3?s=128&d=identicon&r=PG", "display_name": "tom10", "link": "https://stackoverflow.com/users/102302/tom10"}, "is_accepted": true, "score": 5, "last_activity_date": 1430403399, "last_edit_date": 1430403399, "creation_date": 1430400806, "answer_id": 29969166, "question_id": 29954153, "link": "https://stackoverflow.com/questions/29954153/finding-the-maximum-of-a-curve-scipy/29969166#29969166", "title": "Finding the maximum of a curve scipy", "body": "<p>After you fit to find the best parameters to maximize your function, you can find the peak using <code>minimize_scalar</code> (or one of the other methods from <code>scipy.optimize</code>).</p>\n\n<p>Note that in below, I've shifted <code>x[2]=3.2</code> so that the peak of the curve doesn't land on a data point and we can be sure we're finding the peak to the curve, not the data.</p>\n\n<pre><code>import numpy as np\nimport matplotlib.pyplot as plt\nfrom scipy.optimize import curve_fit, minimize_scalar\n\nx = [1,2,3.2,4,5]\ny = [1,4,16,4,1]\n\ndef f(x, p1, p2, p3):\n    return p3*(p1/((x-p2)**2 + (p1/2)**2))   \n\np0 = (8, 16, 0.1) # guess perameters \nplt.plot(x,y,\"ro\")\npopt, pcov = curve_fit(f, x, y, p0)\n\n# find the peak\nfm = lambda x: -f(x, *popt)\nr = minimize_scalar(fm, bounds=(1, 5))\nprint \"maximum:\", r[\"x\"], f(r[\"x\"], *popt)  #maximum: 2.99846874275 18.3928199902\n\nx_curve = np.linspace(1, 5, 100)\nplt.plot(x_curve, f(x_curve, *popt))\nplt.plot(r['x'], f(r['x'], *popt), 'ko')\nplt.show()\n</code></pre>\n\n<p><img src=\"https://i.stack.imgur.com/rW87s.png\" alt=\"enter image description here\"></p>\n\n<p>Of course, rather than optimizing the function, we could just calculate it for a bunch of x-values and get close:</p>\n\n<pre><code>x = np.linspace(1, 5, 10000)\ny = f(x, *popt)\nimax = np.argmax(y)\nprint imax, x[imax]     # 4996 2.99859985999\n</code></pre>\n"}], "owner": {"reputation": 75, "user_id": 4825636, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/197fc28b62534e5adbf6cbe5b5e8822b?s=128&d=identicon&r=PG&f=1", "display_name": "skitt1z1", "link": "https://stackoverflow.com/users/4825636/skitt1z1"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8409, "favorite_count": 1, "accepted_answer_id": 29969166, "answer_count": 2, "score": 6, "last_activity_date": 1430403399, "creation_date": 1430340253, "last_edit_date": 1430397797, "question_id": 29954153, "link": "https://stackoverflow.com/questions/29954153/finding-the-maximum-of-a-curve-scipy", "title": "Finding the maximum of a curve scipy", "body": "<p>I have fitted curve to a set of data points. I would like to know how to find the maximum point of my curve and then I would like to annotate that point (I don't want to use by largest y value from my data to do this). I cannot exactly write my code but here is the basic layout of my code.</p>\n\n<pre><code>import matplotlib.pyplot as plt\nfrom scipy.optimize import curve_fit\n\nx = [1,2,3,4,5]\ny = [1,4,16,4,1]\n\ndef f(x, p1, p2, p3):\n    return p3*(p1/((x-p2)**2 + (p1/2)**2))   \n\np0 = (8, 16, 0.1) # guess perameters \nplt.plot(x,y,\"ro\")\npopt, pcov = curve_fit(f, x, y, p0)\nplt.plot(x, f(x, *popt)) \n</code></pre>\n\n<p>Also is there a way to find the peak width? </p>\n\n<p>Am I missing a simple built in function that could do this? Could I differentiate the function and find the point at which it is zero? If so how? </p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 18948, "user_id": 3051961, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/b81cbd6deac24f756452266ff2e8d3ce?s=128&d=identicon&r=PG", "display_name": "ZdaR", "link": "https://stackoverflow.com/users/3051961/zdar"}, "edited": false, "score": 0, "creation_date": 1430340275, "post_id": 29954137, "comment_id": 48029066, "body": "encapsulate your current script in a function and call it <code>3</code> times inside the loop."}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 1, "creation_date": 1430340832, "post_id": 29954137, "comment_id": 48029413, "body": "Seems kind of similar to <a href=\"http://stackoverflow.com/questions/29932251/generating-random-string-from-a-different-string-in-python\">this question</a>. Classmates?"}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 4848181, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d7d2dffdb32506c233e9887097f3298?s=128&d=identicon&r=PG&f=1", "display_name": "Bobby Landow", "link": "https://stackoverflow.com/users/4848181/bobby-landow"}, "edited": false, "score": 0, "creation_date": 1430340711, "post_id": 29954247, "comment_id": 48029338, "body": "Thank you very much! This cleared up how to use functions pretty well for me."}, {"owner": {"reputation": 18948, "user_id": 3051961, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/b81cbd6deac24f756452266ff2e8d3ce?s=128&d=identicon&r=PG", "display_name": "ZdaR", "link": "https://stackoverflow.com/users/3051961/zdar"}, "reply_to_user": {"reputation": 13, "user_id": 4848181, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d7d2dffdb32506c233e9887097f3298?s=128&d=identicon&r=PG&f=1", "display_name": "Bobby Landow", "link": "https://stackoverflow.com/users/4848181/bobby-landow"}, "edited": false, "score": 0, "creation_date": 1430340776, "post_id": 29954247, "comment_id": 48029377, "body": "Well pretty glad to help you , you can also show appreciation by upvoting the answer and marking it with a green tick , if that really satisfied your problem. Thanks."}, {"owner": {"reputation": 13, "user_id": 4848181, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d7d2dffdb32506c233e9887097f3298?s=128&d=identicon&r=PG&f=1", "display_name": "Bobby Landow", "link": "https://stackoverflow.com/users/4848181/bobby-landow"}, "edited": false, "score": 0, "creation_date": 1430341396, "post_id": 29954247, "comment_id": 48029729, "body": "One more slight question. Is there a reason to use &#39;xrange&#39; instead of &#39;range&#39;? I interchanged them in my program and it still seems to work okay in either case."}, {"owner": {"reputation": 18948, "user_id": 3051961, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/b81cbd6deac24f756452266ff2e8d3ce?s=128&d=identicon&r=PG", "display_name": "ZdaR", "link": "https://stackoverflow.com/users/3051961/zdar"}, "reply_to_user": {"reputation": 13, "user_id": 4848181, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d7d2dffdb32506c233e9887097f3298?s=128&d=identicon&r=PG&f=1", "display_name": "Bobby Landow", "link": "https://stackoverflow.com/users/4848181/bobby-landow"}, "edited": false, "score": 0, "creation_date": 1430341552, "post_id": 29954247, "comment_id": 48029821, "body": "Actually using <code>range</code> is completely fine, There is a slight difference in the speed, the <code>xrange</code> is a bit faster and efficient because it doesnot created the whole list as done by <code>range</code>."}], "tags": [], "owner": {"reputation": 18948, "user_id": 3051961, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/b81cbd6deac24f756452266ff2e8d3ce?s=128&d=identicon&r=PG", "display_name": "ZdaR", "link": "https://stackoverflow.com/users/3051961/zdar"}, "is_accepted": true, "score": 0, "last_activity_date": 1430340573, "creation_date": 1430340573, "answer_id": 29954247, "question_id": 29954137, "link": "https://stackoverflow.com/questions/29954137/python-how-to-repeat-a-loop-for-new-result-each-time/29954247#29954247", "title": "Python- How to repeat a loop for new result each time?", "body": "<p>Cleaning up your code a little bit and creating a function for the specified work, it looks something like:</p>\n\n<pre><code>import random\nsequence = open('3seq.txt', 'r')\nseq1, seq2, seq3 = sequence.readlines()\nsequence.close()\n\nx = 3\n\ndef get_random(seq1, seq2, seq3):\n    length = len(seq1)\n\n    rand1 = ''\n    rand2 = ''\n    rand3 = ''\n\n    for i in range(length):\n        x = random.randrange(length)\n        rand1 += seq1[x]\n        rand2 += seq2[x]\n        rand3 += seq3[x]\n    print rand1\n    print rand2\n    print rand3\n    print \n\nfor j in xrange(x):  # 'x' being defined at the top.\n    get_random(seq1, seq2, seq3)\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 4848181, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d7d2dffdb32506c233e9887097f3298?s=128&d=identicon&r=PG&f=1", "display_name": "Bobby Landow", "link": "https://stackoverflow.com/users/4848181/bobby-landow"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "accepted_answer_id": 29954247, "answer_count": 1, "score": 1, "last_activity_date": 1430340573, "creation_date": 1430340196, "question_id": 29954137, "link": "https://stackoverflow.com/questions/29954137/python-how-to-repeat-a-loop-for-new-result-each-time", "title": "Python- How to repeat a loop for new result each time?", "body": "<p>The program I needed to make reads a text file with 3 lines of aligned dna sequences(each with length 'n'), and prints out a random column for length 'n'.</p>\n\n<p><a href=\"http://textuploader.com/xyh1\" rel=\"nofollow\">The alignment text</a></p>\n\n<p>If you don't want to click stuff, it's essentially this:</p>\n\n<pre><code>AGAACGC\nAACCTAG\nAGCTCAC\n</code></pre>\n\n<p>Here's my program:</p>\n\n<pre><code>import random\n\nfile = open('3seq.txt', 'r')\n\nseq1 = file.readline().strip()\nseq2 = file.readline().strip()\nseq3 = file.readline().strip()\n\nlength = len(seq1)\n\n\nrand1 = ''\nrand2 = ''\nrand3 = ''\n\nfor blah in range(length):\n    x = random.randrange(length)\n    rand1 += seq1[x]\n    rand2 += seq2[x]\n    rand3 += seq3[x]\nprint rand1\nprint rand2\nprint rand3\n</code></pre>\n\n<p>The result would be something like:</p>\n\n<pre><code>ACAGGAA\nATAAACA\nACAAGTA\n</code></pre>\n\n<p>I'm sorry if it's not too clear.</p>\n\n<p>So the QUESTION is this:</p>\n\n<p>How can I alter my program so that I get 'x' number of results? Say I wanted 3 results:</p>\n\n<pre><code>ACAGGAA\nATAAACA\nACAAGTA\n\nAGCCCAA\nCAGGGAC\nCACCCAC\n\nCGACGCA\nTAAGATC\nCAACGCC\n</code></pre>\n\n<p>I'm getting the answer I want...I just want more of it printed out.</p>\n\n<p>Any help?</p>\n"}, {"tags": ["python", "django", "django-admin"], "comments": [{"owner": {"reputation": 10796, "user_id": 1105249, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/083d54b8327a76a1dcf57df507ab7b34?s=128&d=identicon&r=PG", "display_name": "Luis Masuelli", "link": "https://stackoverflow.com/users/1105249/luis-masuelli"}, "edited": false, "score": 0, "creation_date": 1430340069, "post_id": 29954051, "comment_id": 48028934, "body": "That kind of relationship is not allowed. You will have to create your own RelatedManager"}, {"owner": {"reputation": 10796, "user_id": 1105249, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/083d54b8327a76a1dcf57df507ab7b34?s=128&d=identicon&r=PG", "display_name": "Luis Masuelli", "link": "https://stackoverflow.com/users/1105249/luis-masuelli"}, "edited": false, "score": 0, "creation_date": 1430340100, "post_id": 29954051, "comment_id": 48028954, "body": "clarification: what is not allowed is to pre-filter the M2M, except by custom Manager."}, {"owner": {"reputation": 1424, "user_id": 1306336, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/e187V.jpg?s=128&g=1", "display_name": "onyeka", "link": "https://stackoverflow.com/users/1306336/onyeka"}, "edited": false, "score": 0, "creation_date": 1430342864, "post_id": 29954051, "comment_id": 48030529, "body": "Do all carriers have a voice plan?"}, {"owner": {"reputation": 141, "user_id": 4727700, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/8b752cd1cc83bd617c483a8fd93bad93?s=128&d=identicon&r=PG&f=1", "display_name": "olaf", "link": "https://stackoverflow.com/users/4727700/olaf"}, "edited": false, "score": 0, "creation_date": 1430351510, "post_id": 29954051, "comment_id": 48033920, "body": "Luis, yup, you are right. Even though I did write several custom managers in this case I am a bit lost. Would appreciate any hints."}], "owner": {"reputation": 141, "user_id": 4727700, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/8b752cd1cc83bd617c483a8fd93bad93?s=128&d=identicon&r=PG&f=1", "display_name": "olaf", "link": "https://stackoverflow.com/users/4727700/olaf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 68, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1430340273, "creation_date": 1430339872, "last_edit_date": 1430340273, "question_id": 29954051, "link": "https://stackoverflow.com/questions/29954051/filtering-in-django-manytomany-relationships", "title": "Filtering in Django ManyToMany relationships", "body": "<p>Imagine models Carrier, Data_plan, Voice_plan. Data plan and Voice plan contain Foreign Key (Carrier). Now, since some data plans are available only for certain voice plans, Data_plan model contains ManyToMany field (Voice_plan). However, that lists ALL voice plans of all carriers available (in Django admin). How do I filter voice plans of the same carrier?</p>\n\n<pre><code>class Carrier(models.Model):\n   # bunch of attributes\n   #...\n\nclass Voice_plan(models.Model):\n   # bunch of attributes\n   carrier = ForeignKey(Carrier)\n   #...\n\nclass Data_plan(models.Model):\n   ...\n   carrier = ForeignKey(Carrier)\n   # if not available for all voice plans\n   for_voice_plans = ManyToManyField(Voice_plan) # should be for those voice plans that share the same carrier...\n</code></pre>\n"}, {"tags": ["python", "mongodb", "pymongo"], "answers": [{"comments": [{"owner": {"reputation": 19908, "user_id": 122792, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/8XlJT.jpg?s=128&g=1", "display_name": "Thomas Browne", "link": "https://stackoverflow.com/users/122792/thomas-browne"}, "edited": false, "score": 1, "creation_date": 1430344555, "post_id": 29954460, "comment_id": 48031324, "body": "yep - just had to import it from pymongo so from pymongo import MongoClient, CursorType, and it&#39;s working again as per your answer."}], "tags": [], "owner": {"reputation": 268112, "user_id": 1259510, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0840e2c5392970ef26cbfef84a0e4903?s=128&d=identicon&r=PG", "display_name": "JohnnyHK", "link": "https://stackoverflow.com/users/1259510/johnnyhk"}, "is_accepted": true, "score": 6, "last_activity_date": 1430341242, "creation_date": 1430341242, "answer_id": 29954460, "question_id": 29954045, "link": "https://stackoverflow.com/questions/29954045/tailable-cursor-in-pymongo-seems-to-have-stopped-working/29954460#29954460", "title": "Tailable cursor in pymongo seems to have stopped working", "body": "<p>In pymongo 3.0, <a href=\"http://api.mongodb.org/python/current/api/pymongo/collection.html?highlight=find#pymongo.collection.Collection.find\"><code>find</code></a> takes a <code>cursor_type</code> option for this. The <code>tailable</code> and <code>await_data</code> parameters have been removed.</p>\n\n<p>So it should be:</p>\n\n<pre><code>cursor = refreq.find(cursor_type = CursorType.TAILABLE_AWAIT)\n</code></pre>\n"}], "owner": {"reputation": 19908, "user_id": 122792, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/8XlJT.jpg?s=128&g=1", "display_name": "Thomas Browne", "link": "https://stackoverflow.com/users/122792/thomas-browne"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1454, "favorite_count": 0, "accepted_answer_id": 29954460, "answer_count": 1, "score": 1, "last_activity_date": 1430341242, "creation_date": 1430339857, "last_edit_date": 1430340689, "question_id": 29954045, "link": "https://stackoverflow.com/questions/29954045/tailable-cursor-in-pymongo-seems-to-have-stopped-working", "title": "Tailable cursor in pymongo seems to have stopped working", "body": "<p>I have successfully been using tailable cursors in Pymongo for 2 years without a hitch, but all of a sudden, today, my identical code is throwing an \"unexpected keyword\" error:</p>\n\n<p><img src=\"https://i.stack.imgur.com/onFq6.png\" alt=\"enter image description here\"></p>\n\n<p>I upgraded to 3.0 Mongo a few weeks ago and it was still working fine, but perhaps a new pymongo version now does it differently as I just installed a new version (3.0.1) today? Previously it was pymongo 2.6.3. My code:</p>\n\n<pre><code>cursor = refreq.find(tailable = True, await_data = True)\nwhile cursor.alive:\n    xxx\n</code></pre>\n\n<p>So basically anytime something is inserted into refreq collection I want to know about it, without polling. Used to work fine. Pymongo version 3.0.1 recently installed (today). </p>\n\n<p>Tried to put in an empty dict too </p>\n\n<pre><code>cursor = refreq.find({}, tailable = True, await_data = True)\n</code></pre>\n\n<p>but still gives the identical error. Has something changed?</p>\n\n<p>Here is the full thread code, for reference:</p>\n\n<pre><code>def handleRefRequests(db, refqueue):\n    \"\"\" handles reference data requests. It's threaded. Needs the database id. \n    will create a capped collection and constantly poll it for new requests\"\"\"\n    print(\"Dropping the reference requests collection\")\n    db.drop_collection(\"bbrefrequests\")\n    print(\"Recreating the reference requests collection\")\n    db.create_collection(\"bbrefrequests\", capped = True, size = 100 * 1000000) # x * megabytes\n    refreq = db.bbrefrequests\n    # insert a dummy record otherwise exits immediately\n    refreq.insert({\"tickers\":\"test\", \"fields\":\"test\", \"overfields\":\"test\", \"overvalues\":\"test\", \"done\": False})\n    cursor = refreq.find({}, tailable = True, await_data = True)\n    while cursor.alive:\n        try:\n            post = cursor.next()\n            if (\"tickers\" in post) and (\"fields\" in post) and (\"done\" in post): # making sure request is well formed\n                if post[\"tickers\"] != \"test\":\n                    refqueue.put(post)\n        except StopIteration:\n            time.sleep(0.1)\n        if not runThreads:\n            print(\"Exiting handleRefRequests thread\")\n            break\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 18948, "user_id": 3051961, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/b81cbd6deac24f756452266ff2e8d3ce?s=128&d=identicon&r=PG", "display_name": "ZdaR", "link": "https://stackoverflow.com/users/3051961/zdar"}, "edited": false, "score": 1, "creation_date": 1430339904, "post_id": 29954023, "comment_id": 48028839, "body": "hahaha, That&#39;s hilarious, But why do you wanna do that ?"}, {"owner": {"reputation": 540, "user_id": 4582696, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ZSPwT.png?s=128&g=1", "display_name": "Coco", "link": "https://stackoverflow.com/users/4582696/coco"}, "reply_to_user": {"reputation": 18948, "user_id": 3051961, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/b81cbd6deac24f756452266ff2e8d3ce?s=128&d=identicon&r=PG", "display_name": "ZdaR", "link": "https://stackoverflow.com/users/3051961/zdar"}, "edited": false, "score": 2, "creation_date": 1430339994, "post_id": 29954023, "comment_id": 48028886, "body": "Haha glad you like it... I just thought it would be cool to be greeted by something like &quot;Welcome master.&quot;"}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 1, "creation_date": 1430340621, "post_id": 29954023, "comment_id": 48029281, "body": "You can see the <code>idlelib</code> source code: <a href=\"https://hg.python.org/cpython/file/293d9964cf6e/Lib/idlelib\" rel=\"nofollow noreferrer\">hg.python.org/cpython/file/293d9964cf6e/Lib/idlelib</a>"}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 3, "creation_date": 1430341057, "post_id": 29954023, "comment_id": 48029537, "body": "See also e.g. <a href=\"https://hg.python.org/cpython/file/293d9964cf6e/Lib/code.py#l209\" rel=\"nofollow noreferrer\">hg.python.org/cpython/file/293d9964cf6e/Lib/code.py#l209</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1594, "user_id": 4297051, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-TRTp6N_8pBo/AAAAAAAAAAI/AAAAAAAAD-E/yZ3_Hkm-dH4/photo.jpg?sz=128", "display_name": "Jake Griffin", "link": "https://stackoverflow.com/users/4297051/jake-griffin"}, "is_accepted": true, "score": 4, "last_activity_date": 1430341231, "creation_date": 1430341231, "answer_id": 29954452, "question_id": 29954023, "link": "https://stackoverflow.com/questions/29954023/where-can-i-find-the-first-text-that-loads-in-the-python-shell-and-change-it/29954452#29954452", "title": "Where can I find the first text that loads in the Python shell and change it?", "body": "<p>I don't know of any way to <em>change</em> the default text without modifying/recompiling the python binary, but it seems you can use the environment variable <code>PYTHONSTARTUP</code> in order to add additional text via a python file with <code>print</code> commands. You can also change the prompt strings in this file. For example:</p>\n\n<p>in my .bashrc:</p>\n\n<pre><code>export PYTHONSTARTUP=/home/jake/.mypythonstartup\n</code></pre>\n\n<p>/home/jake/.mypythonstartup:</p>\n\n<pre><code>import sys\nprint(\"Welcome, master!\")\nsys.ps1 = \"How may I serve you? \"\nsys.ps2 = \"                 ... \"\n</code></pre>\n\n<p>Result:</p>\n\n<pre><code>$ python\nPython 2.7.5 (default, Mar  9 2014, 22:15:05) \n[GCC 4.2.1 Compatible Apple LLVM 5.0 (clang-500.0.68)] on darwin\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\nWelcome, master!\nHow may I serve you? def test():\n                 ...     print(\"test\")\n                 ...\nHow may I serve you? test()\ntest\nHow may I serve you? \n</code></pre>\n\n<p>Documentation on <code>PYTHONSTARTUP</code> can be found here: <a href=\"https://docs.python.org/3/tutorial/appendix.html#the-interactive-startup-file\" rel=\"nofollow\">https://docs.python.org/3/tutorial/appendix.html#the-interactive-startup-file</a></p>\n"}, {"tags": [], "owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "is_accepted": false, "score": 2, "last_activity_date": 1430343599, "last_edit_date": 1430343599, "creation_date": 1430341970, "answer_id": 29954681, "question_id": 29954023, "link": "https://stackoverflow.com/questions/29954023/where-can-i-find-the-first-text-that-loads-in-the-python-shell-and-change-it/29954681#29954681", "title": "Where can I find the first text that loads in the Python shell and change it?", "body": "<p>Based on a quick snoop around the <a href=\"https://hg.python.org/cpython/file/293d9964cf6e/Lib/idlelib\" rel=\"nofollow\"><code>idlelib</code> source code</a>, you could do something like:</p>\n\n<pre><code>from code import interact\ninteract(\"Welcome master.\")\n</code></pre>\n\n<p>In use:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>$ python idle2.py\nWelcome master.\n&gt;&gt;&gt; print 'foo'\nfoo\n</code></pre>\n\n<hr>\n\n<p>You could also use the <a href=\"https://docs.python.org/2/using/cmdline.html\" rel=\"nofollow\">command line flags</a> to run a command then enter interactive mode:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>$ python -ic \"print 'Welcome master.'\"\nWelcome master.\n&gt;&gt;&gt; \n</code></pre>\n"}], "owner": {"reputation": 540, "user_id": 4582696, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ZSPwT.png?s=128&g=1", "display_name": "Coco", "link": "https://stackoverflow.com/users/4582696/coco"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 117, "favorite_count": 1, "accepted_answer_id": 29954452, "answer_count": 2, "score": 5, "last_activity_date": 1430400518, "creation_date": 1430339787, "last_edit_date": 1430400518, "question_id": 29954023, "link": "https://stackoverflow.com/questions/29954023/where-can-i-find-the-first-text-that-loads-in-the-python-shell-and-change-it", "title": "Where can I find the first text that loads in the Python shell and change it?", "body": "<p>This text loads when I open IDLE or load Python in cmd:</p>\n\n<blockquote>\n  <p>Python 3.4.3 (v3.4.3:9b73f1c3e601, Feb 24 2015, 22:43:06) [MSC v.1600\n  32 bit (Intel)] on win32 Type \"copyright\", \"credits\" or \"license()\"\n  for more information.</p>\n</blockquote>\n\n<p>Where can I find the file and change the text or make a script load instead?</p>\n"}, {"tags": ["python", "cocoa", "wireless", "pyobjc", "corewlan"], "comments": [{"owner": {"reputation": 1382, "user_id": 881615, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/943dbfa87d0013cbd6018bea321ed6da?s=128&d=identicon&r=PG", "display_name": "Will Angley", "link": "https://stackoverflow.com/users/881615/will-angley"}, "edited": false, "score": 0, "creation_date": 1430352510, "post_id": 29954016, "comment_id": 48034240, "body": "CWNetwork objects contain CWChannel objects that I&#39;d like to convert too. I know how to convert them manually but was curious if there was a cleaner way."}, {"owner": {"reputation": 2385, "user_id": 111702, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lPLZC.jpg?s=128&g=1", "display_name": "Ronald Oussoren", "link": "https://stackoverflow.com/users/111702/ronald-oussoren"}, "edited": false, "score": 1, "creation_date": 1459922164, "post_id": 29954016, "comment_id": 60499120, "body": "You&#39;ll have to convert them manually."}], "owner": {"reputation": 1382, "user_id": 881615, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/943dbfa87d0013cbd6018bea321ed6da?s=128&d=identicon&r=PG", "display_name": "Will Angley", "link": "https://stackoverflow.com/users/881615/will-angley"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 117, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1430352570, "creation_date": 1430339767, "last_edit_date": 1430352570, "question_id": 29954016, "link": "https://stackoverflow.com/questions/29954016/converting-cocoa-objects-in-pyobjc-return-value-to-python-objects", "title": "Converting Cocoa objects in PyObjC return value to Python objects?", "body": "<p>I'm experimenting with retrieving network scan results from CoreWLAN in Python using PyObjC, with code that looks like:</p>\n\n<pre><code>from CoreWLAN import *\nclient = CWWiFiClient.sharedWiFiClient()\nen0 = client.interface()\nscan, _ = en0.scanForNetworksWithSSID_error_(None, None)\n</code></pre>\n\n<p>This returns an <code>NSSet</code> of <code>CWNetwork</code> objects into <code>scan</code>. I can convert the NSSet into a Python <code>set</code> easily enough, but is there a similarly straightforward way to convert the CWNetwork instances into Python <code>dict</code> or <code>NamedTuple</code> structures? </p>\n\n<p>I only care about data members of the CWNetwork objects, and do not need to be able to pass messages to them again.</p>\n\n<p><em>Note:</em> the code above depends on an API introduced in OS X 10.10, and will not run on earlier versions of OS X.</p>\n"}, {"tags": ["python", "mongodb", "aggregation-framework"], "answers": [{"comments": [{"owner": {"reputation": 177, "user_id": 4604639, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1171384927/picture?type=large", "display_name": "Stephan Ketterer", "link": "https://stackoverflow.com/users/4604639/stephan-ketterer"}, "edited": false, "score": 0, "creation_date": 1430342020, "post_id": 29954561, "comment_id": 48030073, "body": "your solution just give me syntax errors, can you tell me that i did wrong ?"}, {"owner": {"reputation": 87200, "user_id": 122005, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/MX2CF.jpg?s=128&g=1", "display_name": "chridam", "link": "https://stackoverflow.com/users/122005/chridam"}, "reply_to_user": {"reputation": 177, "user_id": 4604639, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1171384927/picture?type=large", "display_name": "Stephan Ketterer", "link": "https://stackoverflow.com/users/4604639/stephan-ketterer"}, "edited": false, "score": 0, "creation_date": 1430342447, "post_id": 29954561, "comment_id": 48030320, "body": "You need to use Mongo shell to test this and then convert that to python code."}, {"owner": {"reputation": 177, "user_id": 4604639, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1171384927/picture?type=large", "display_name": "Stephan Ketterer", "link": "https://stackoverflow.com/users/4604639/stephan-ketterer"}, "edited": false, "score": 0, "creation_date": 1430342775, "post_id": 29954561, "comment_id": 48030493, "body": "I use it as part of an udacity course, and they have their own interface :("}], "tags": [], "owner": {"reputation": 87200, "user_id": 122005, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/MX2CF.jpg?s=128&g=1", "display_name": "chridam", "link": "https://stackoverflow.com/users/122005/chridam"}, "is_accepted": true, "score": 0, "last_activity_date": 1430343330, "last_edit_date": 1430343330, "creation_date": 1430341602, "answer_id": 29954561, "question_id": 29953965, "link": "https://stackoverflow.com/questions/29953965/nothing-happens-when-trying-to-use-project/29954561#29954561", "title": "Nothing happens when trying to use $project", "body": "<p>Try this aggregation pipeline below, it should give you the desired output.</p>\n\n<p>Using Mongo shell:\n<strong>Test documents</strong> (with minimum test case):</p>\n\n<pre><code>db.tweet.insert([\n    {\n        \"retweet_count\" : 23,\n        \"user\" : {\n            \"time_zone\" : \"Brasilia\",\n            \"statuses_count\" : 2475,\n            \"screen_name\" : \"Catherinemull\",\n            \"followers_count\" : 169,\n            \"id\" : 37486277\n        },   \n        \"id\" : NumberLong(\"22819398300\")\n    },\n        {\n        \"retweet_count\" : 7,\n        \"user\" : {\n            \"time_zone\" : \"Lisbon\",\n            \"statuses_count\" : 4532,\n            \"screen_name\" : \"foo\",\n            \"followers_count\" : 43,\n            \"id\" : 37486278\n        },   \n        \"id\" : NumberLong(\"22819398301\")\n    },\n        {\n        \"retweet_count\" : 12,\n        \"user\" : {\n            \"time_zone\" : \"Brasilia\",\n            \"statuses_count\" : 132,\n            \"screen_name\" : \"test2\",\n            \"followers_count\" : 4,\n            \"id\" : 37486279\n        },   \n        \"id\" : NumberLong(\"22819398323\")\n    },\n        {\n        \"retweet_count\" : 4235,\n        \"user\" : {\n            \"time_zone\" : \"Brasilia\",\n            \"statuses_count\" : 33,\n            \"screen_name\" : \"test4\",\n            \"followers_count\" : 2,\n            \"id\" : 37486280\n        },   \n        \"id\" : NumberLong(\"22819398308\")\n    },\n    {\n        \"retweet_count\" : 562,\n        \"user\" : {\n            \"time_zone\" : \"Kenya\",\n            \"statuses_count\" : 672,\n            \"screen_name\" : \"Kiptot\",\n            \"followers_count\" : 169,\n            \"id\" : 37486281\n        },   \n        \"id\" : NumberLong(\"22819398374\")\n    },\n    {\n        \"retweet_count\" : 789,\n        \"user\" : {\n            \"time_zone\" : \"Brasilia\",\n            \"statuses_count\" : 5263,\n            \"screen_name\" : \"test231\",\n            \"followers_count\" : 8282,\n            \"id\" : 37486\n        },   \n        \"id\" : NumberLong(\"22819398331\")\n    }\n]);\n</code></pre>\n\n<p><strong>The Magic</strong>:</p>\n\n<pre><code>db.tweet.aggregate([\n    {\n        '$match': { \n            \"user.statuses_count\": {\"$gt\":99 },\n            \"user.time_zone\": \"Brasilia\"\n        }\n    },\n    {\n        \"$group\": {\n            \"_id\": \"$user.id\",\n            \"followers\": { \"$max\": \"$user.followers_count\" },\n            \"doc\": {\n                \"$addToSet\": \"$$ROOT\"\n            }\n        }\n    },\n    {\n        \"$sort\": { \"followers\": -1 }\n    },\n    {\n        \"$unwind\": \"$doc\"\n    },\n    {\n        \"$project\": {\n            \"_id\": 0,\n            \"userId\": \"$_id\",\n            \"screen_name\": \"$doc.user.screen_name\",\n            \"retweet_count\": \"$doc.retweet_count\",\n            \"followers\": 1\n        }\n    },\n    {\n        \"$limit\": 1\n    }\n]);\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>/* 1 */\n{\n    \"result\" : [ \n        {\n            \"userId\" : 37486,\n            \"screen_name\" : \"test231\",\n            \"retweet_count\" : 789,\n            \"followers\" : 8282\n        }\n    ],\n    \"ok\" : 1\n}\n</code></pre>\n\n<p>-- UPDATE --</p>\n\n<p><strong>Python implementation</strong>:</p>\n\n<pre><code>&gt;&gt;&gt; from bson.son import SON\n&gt;&gt;&gt; pipeline = [\n...     {\"$match\": {\"user.statuses_count\": {\"$gt\": 99}, \"user.time_zone\": \"Brasilia\"}},\n...     {\"$group\": {\"_id\": \"$user.id\", \"followers\": { \"$max\": \"$user.followers_count\" }, \"doc\": {\"$addToSet\": \"$$ROOT\"}}},\n...     {\"$sort\": {\"followers\": -1 }},\n...     {\"$unwind\": \"$doc\"}, {\"$project\": {\"_id\": 0, \"userId\": \"$_id\", \"screen_name\": \"$doc.user.screen_name\", \"retweet_count\": \"$doc.retweet_count\", \"followers\": 1}},\n...     {\"$limit\": 1}\n... ]\n&gt;&gt;&gt; list(db.tweet.aggregate(pipeline))\n[{u'userId': 37486, u'screen_name': u'test231', u'retweet_count': 789, u'followers': 8282}]\n</code></pre>\n"}], "owner": {"reputation": 177, "user_id": 4604639, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1171384927/picture?type=large", "display_name": "Stephan Ketterer", "link": "https://stackoverflow.com/users/4604639/stephan-ketterer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "accepted_answer_id": 29954561, "answer_count": 1, "score": 1, "last_activity_date": 1430343330, "creation_date": 1430339572, "last_edit_date": 1430340113, "question_id": 29953965, "link": "https://stackoverflow.com/questions/29953965/nothing-happens-when-trying-to-use-project", "title": "Nothing happens when trying to use $project", "body": "<p>I am new to mongodb and still sitting on the same pipeline thing. I dont understand why my usage of $project did not generate any output at all ?</p>\n\n<pre><code>def make_pipeline():\n    # complete the aggregation pipeline\n    pipeline = [\n    {\n        '$match': { \n            \"user.statuses_count\": {\"$gt\":99 },\n            \"user.time_zone\": \"Brasilia\"\n        }\n    },\n    {\n        \"$group\": {\n            \"_id\": \"$user.id\",\n            \"followers\": { \"$max\": \"$user.followers_count\" }\n\n        }\n    },\n    {\n        \"$sort\": { \"followers\": -1 }\n    },{\"$project\": { \n    \"userId\": \"$user.id\",\n    \"screen_name\": \"$user.screen_name\",\n    \"retweet_count\": \"$retweet_count\"}},\n    {\n        \"$limit\" : 1\n    }\n]\n</code></pre>\n\n<p>Any ideas?</p>\n"}, {"tags": ["python", "django"], "comments": [{"owner": {"reputation": 47817, "user_id": 2535611, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d61593cac94336661b986823abb9852e?s=128&d=identicon&r=PG", "display_name": "rafaelc", "link": "https://stackoverflow.com/users/2535611/rafaelc"}, "edited": false, "score": 0, "creation_date": 1430340114, "post_id": 29953962, "comment_id": 48028962, "body": "How do you know that it is not wotking? If you instantiate an object and get the value for album_art, the value will be the value you set"}, {"owner": {"reputation": 360, "user_id": 4110246, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100000525457364/picture?type=large", "display_name": "Nab Ilovich", "link": "https://stackoverflow.com/users/4110246/nab-ilovich"}, "reply_to_user": {"reputation": 47817, "user_id": 2535611, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d61593cac94336661b986823abb9852e?s=128&d=identicon&r=PG", "display_name": "rafaelc", "link": "https://stackoverflow.com/users/2535611/rafaelc"}, "edited": false, "score": 0, "creation_date": 1430340320, "post_id": 29953962, "comment_id": 48029095, "body": "By checking the value of <code>album_art</code> field in django admin or even in mysql. In my HTML code too. I call <code>{{ album.album_art }}</code> in a template, it gives &quot;default&quot; instead of &quot;/static/images/default.png&quot;"}, {"owner": {"reputation": 47817, "user_id": 2535611, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d61593cac94336661b986823abb9852e?s=128&d=identicon&r=PG", "display_name": "rafaelc", "link": "https://stackoverflow.com/users/2535611/rafaelc"}, "edited": false, "score": 0, "creation_date": 1430340552, "post_id": 29953962, "comment_id": 48029239, "body": "The <code>default</code> is used by django to attribute the value you set at the time you instantiate the model. So, if you go to shell, and do <code>var = Album()</code> , the <code>album_art</code> will be <code>&quot;&#47;static&#47;images&#47;default.png&quot;</code> . Or if you do <code>Album.objects.create..</code> . But, you won&#39;t find that in MySQL board for example"}, {"owner": {"reputation": 360, "user_id": 4110246, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100000525457364/picture?type=large", "display_name": "Nab Ilovich", "link": "https://stackoverflow.com/users/4110246/nab-ilovich"}, "reply_to_user": {"reputation": 47817, "user_id": 2535611, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d61593cac94336661b986823abb9852e?s=128&d=identicon&r=PG", "display_name": "rafaelc", "link": "https://stackoverflow.com/users/2535611/rafaelc"}, "edited": false, "score": 0, "creation_date": 1430393186, "post_id": 29953962, "comment_id": 48052582, "body": "In my HTML code too. I call {{ album.album_art }} in a template, it gives &quot;default&quot; instead of &quot;/static/images/default.png&quot;"}], "owner": {"reputation": 360, "user_id": 4110246, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100000525457364/picture?type=large", "display_name": "Nab Ilovich", "link": "https://stackoverflow.com/users/4110246/nab-ilovich"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 298, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1430339557, "creation_date": 1430339557, "question_id": 29953962, "link": "https://stackoverflow.com/questions/29953962/django-1-8-model-default-value", "title": "Django 1.8 model default value", "body": "<p>I have a model that look like this:</p>\n\n<pre><code>from django.db import models\n\ndef default_pic():\n    return \"/static/images/default.png\"\n\nclass Album(models.Model):\n    album_id = models.CharField(max_length=128, primary_key=True, unique=True)\n    album_name = models.CharField(max_length=128)\n    album_art = models.CharField(max_length=256, default=default_pic())\n</code></pre>\n\n<p>So, according to <a href=\"https://docs.djangoproject.com/en/1.8/ref/models/fields/#default\" rel=\"nofollow\">django documentation</a> the default value for <code>album_art</code> should be <code>/static/images/default.png</code>, however the setted value is <code>default</code></p>\n\n<p>By the way I tried both syntax : </p>\n\n<pre><code>album_art = models.CharField(max_length=256, default=default_pic())\n</code></pre>\n\n<p>and</p>\n\n<pre><code>album_art = models.CharField(max_length=256, default=default_pic)\n</code></pre>\n\n<p>Any ideas?</p>\n"}, {"tags": ["python", "csv"], "answers": [{"comments": [{"owner": {"reputation": 195, "user_id": 1670178, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/EzfBU.jpg?s=128&g=1", "display_name": "juanald_reagan", "link": "https://stackoverflow.com/users/1670178/juanald-reagan"}, "edited": false, "score": 0, "creation_date": 1430342661, "post_id": 29954020, "comment_id": 48030434, "body": "Output in first cell is 4.4.4.4 &quot;[{&#39;updated&#39;: &#39;2012....... is there a way to add a second delimiter &quot; (double quote)?"}], "tags": [], "owner": {"reputation": 94141, "user_id": 2867928, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/a8DM1.jpg?s=128&g=1", "display_name": "kasravnd", "link": "https://stackoverflow.com/users/2867928/kasravnd"}, "is_accepted": true, "score": 1, "last_activity_date": 1430339784, "creation_date": 1430339784, "answer_id": 29954020, "question_id": 29953947, "link": "https://stackoverflow.com/questions/29953947/python-2-x-csv-writer/29954020#29954020", "title": "python 2.x csv writer", "body": "<p>You can put your variables in a tuple and write to <code>csv</code> file :</p>\n\n<pre><code>import csv\nfrom operator import itemgetter\nwith open('ex.csv', 'wb') as csvfile:\n     spamreader = csv.writer(csvfile, delimiter=' ')\n     spamreader.writerow((query, netinfo))\n</code></pre>\n\n<p>Note: if you are in python 3 use following code :</p>\n\n<pre><code>import csv\nfrom operator import itemgetter\nwith open('ex.csv', 'w',newline='') as csvfile:\n     spamreader = csv.writer(csvfile, delimiter=' ')\n     spamreader.writerow((query, netinfo))\n</code></pre>\n"}], "owner": {"reputation": 195, "user_id": 1670178, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/EzfBU.jpg?s=128&g=1", "display_name": "juanald_reagan", "link": "https://stackoverflow.com/users/1670178/juanald-reagan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 95, "favorite_count": 0, "accepted_answer_id": 29954020, "answer_count": 1, "score": 2, "last_activity_date": 1430339784, "creation_date": 1430339471, "last_edit_date": 1430339546, "question_id": 29953947, "link": "https://stackoverflow.com/questions/29953947/python-2-x-csv-writer", "title": "python 2.x csv writer", "body": "<p>When I print these strings </p>\n\n<pre><code>print query, netinfo\n</code></pre>\n\n<p>I get output below, which is fine. How do i take these strings and put them into a CSV file into a single row? </p>\n\n<pre><code>8.8.8.8 [{'updated': '2012-02-24T00:00:00', 'handle': 'NET-8-0-0-0-1', 'description': 'Level 3 Communications, Inc.', 'tech_emails': 'ipaddressing@level3.com', 'abuse_emails': 'abuse@level3.com', 'postal_code': '80021', 'address': '1025 Eldorado Blvd.', 'cidr': '8.0.0.0/8', 'city': 'Broomfield', 'name': 'LVLT-ORG-8-8', 'created': '1992-12-01T00:00:00', 'country': 'US', 'state': 'CO', 'range': '8.0.0.0 - 8.255.255.255', 'misc_emails': None}, {'updated': '2014-03-14T00:00:00', 'handle': 'NET-8-8-8-0-1', 'description': 'Google Inc.', 'tech_emails': 'arin-contact@google.com', 'abuse_emails': 'arin-contact@google.com', 'postal_code': '94043', 'address': '1600 Amphitheatre Parkway', 'cidr': '8.8.8.0/24', 'city': 'Mountain View', 'name': 'LVLT-GOGL-8-8-8', 'created': '2014-03-14T00:00:00', 'country': 'US', 'state': 'CA', 'range': None, 'misc_emails': None}]\n</code></pre>\n\n<p>I have tried hobbling this together but it's all jacked up. I could use some help on how to use the csv module.</p>\n\n<pre><code>writer=csv.writer(open('dict.csv', 'ab'))\nfor key in query:\n   writer.writerow(query)\n</code></pre>\n"}, {"tags": ["python", "python-2.7", "dictionary"], "answers": [{"comments": [{"owner": {"reputation": 261375, "user_id": 174728, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eRO75.jpg?s=128&g=1", "display_name": "John La Rooy", "link": "https://stackoverflow.com/users/174728/john-la-rooy"}, "edited": false, "score": 0, "creation_date": 1430339680, "post_id": 29953959, "comment_id": 48028724, "body": "do you mean <code>i += int(person[key])</code>?"}], "tags": [], "owner": {"reputation": 23980, "user_id": 1735756, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/SloZJ.jpg?s=128&g=1", "display_name": "Haifeng Zhang", "link": "https://stackoverflow.com/users/1735756/haifeng-zhang"}, "is_accepted": false, "score": 2, "last_activity_date": 1430340101, "last_edit_date": 1430340101, "creation_date": 1430339526, "answer_id": 29953959, "question_id": 29953942, "link": "https://stackoverflow.com/questions/29953942/python-issue-summing-dict-into-list/29953959#29953959", "title": "Python issue summing dict into list", "body": "<p>convert person[key] to integer  <code>int(person[key])</code> ,or it will be treated as string</p>\n\n<pre><code>digit_str = person[key]\n# checks value only consists of digits\nif digit_str.isdigit():\n    # converts digits-only value to integer\n    i += int(digit_str)\n</code></pre>\n"}], "owner": {"reputation": 7374, "user_id": 1634753, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/aa962e4482e6eb20f3985622a039f0fe?s=128&d=identicon&r=PG", "display_name": "Rilcon42", "link": "https://stackoverflow.com/users/1634753/rilcon42"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1430340101, "creation_date": 1430339447, "question_id": 29953942, "link": "https://stackoverflow.com/questions/29953942/python-issue-summing-dict-into-list", "title": "Python issue summing dict into list", "body": "<p>I have a dictionary (with multiple objects) I am trying to create a list that sums some of the values for each object. So far I have:</p>\n\n<pre><code>import csv,os,re\n\n#numpy.corrcoef(list1, list2)[0, 1]\ninput_dict = csv.DictReader(open(\"./MCPlayerData/AllPlayerData2.csv\")) \nnpi_scores=[]\nfor person in input_dict:\n    #print person\n    i=0\n    for key in person:\n        if re.match(r'npi[0-9]+', key):\n            #print key,'=',person[key] #returns npi0=1,npi1=3,npi3=2,etc\n            try:\n                i+=person[key]\n                #print(person[key])\n            except TypeError:\n                i=\"NA\" #returns NA because one of the values wasnt filled out with an integer\n                break\n    npi_scores.append(i)\n    break\nprint npi_scores #returns sum of npi scores for one person\nprint('DONE')\n</code></pre>\n\n<p>When I run this code I get <code>NA</code> based on the first element. Which is what I would expect if the value wasnt an integer, but all are definitely integers. Any ideas?</p>\n"}, {"tags": ["python", "list", "with-statement"], "answers": [{"tags": [], "owner": {"reputation": 18948, "user_id": 3051961, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/b81cbd6deac24f756452266ff2e8d3ce?s=128&d=identicon&r=PG", "display_name": "ZdaR", "link": "https://stackoverflow.com/users/3051961/zdar"}, "is_accepted": true, "score": 3, "last_activity_date": 1430339444, "creation_date": 1430339444, "answer_id": 29953940, "question_id": 29953884, "link": "https://stackoverflow.com/questions/29953884/open-list-of-file-names-with-with-command-creates-not-list-of-strings-but-a-li/29953940#29953940", "title": "open list of file names with &quot;with&quot; command creates not list of strings but a list of characters", "body": "<p>There is nothing wrong in <code>with</code> command of Python, The unexpected behaviour is due to <code>read()</code>, If you really want to get the list of strings in various lines of the file being read then you must use <code>file.readlines()</code>.</p>\n\n<pre><code>with open(\"files.txt\") as f:\n    file_List = f.readlines()\n    #Now file_List is a list as\n    #[\"file1.txt\", \"file2.txt\", \"file3.txt\"]\n    pass #Do some calculations with the file_List\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2289, "user_id": 1664675, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/e9526be62369d44940cded06d9b1f7f8?s=128&d=identicon&r=PG", "display_name": "letsc", "link": "https://stackoverflow.com/users/1664675/letsc"}, "is_accepted": false, "score": 0, "last_activity_date": 1430339708, "creation_date": 1430339708, "answer_id": 29953997, "question_id": 29953884, "link": "https://stackoverflow.com/questions/29953884/open-list-of-file-names-with-with-command-creates-not-list-of-strings-but-a-li/29953997#29953997", "title": "open list of file names with &quot;with&quot; command creates not list of strings but a list of characters", "body": "<p>As a list comprehension:</p>\n\n<pre><code>lines = [line.strip() for line in open('files.txt')]\n</code></pre>\n\n<p>However keep in mind that the spaces after each line will show up as <code>''</code> in the list</p>\n"}], "owner": {"reputation": 47, "user_id": 3468837, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/c30a2722b8ceb839c600f44fda16a920?s=128&d=identicon&r=PG&f=1", "display_name": "user3468837", "link": "https://stackoverflow.com/users/3468837/user3468837"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 36, "favorite_count": 0, "accepted_answer_id": 29953940, "answer_count": 2, "score": -3, "last_activity_date": 1430340282, "creation_date": 1430339247, "last_edit_date": 1430340282, "question_id": 29953884, "link": "https://stackoverflow.com/questions/29953884/open-list-of-file-names-with-with-command-creates-not-list-of-strings-but-a-li", "title": "open list of file names with &quot;with&quot; command creates not list of strings but a list of characters", "body": "<p>I have a file called <code>files.txt</code> with file names in it. Like this:</p>\n\n<blockquote>\n  <p>L150216_1.txt_out</p>\n  \n  <p>L150216_2.txt_out</p>\n  \n  <p>L150216_3.txt_out</p>\n</blockquote>\n\n<p>I am opening <code>files.txt</code> like this:</p>\n\n<pre><code>with open(\"files.txt\") as f:\n    file_List = f.read()\n    pass #Do some calculations with the file_List\n</code></pre>\n\n<p>However, it turns out that the file_List looks not like a list of file names but a list of characters. I.e. instead of L150216_1.txt_out it would be L, 1, 5, 0 and so on.</p>\n\n<p>How to open a file using <code>\"with\"</code> command so that it read lines, not characters?</p>\n"}, {"tags": ["python", "class", "dictionary"], "answers": [{"tags": [], "owner": {"reputation": 47817, "user_id": 2535611, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d61593cac94336661b986823abb9852e?s=128&d=identicon&r=PG", "display_name": "rafaelc", "link": "https://stackoverflow.com/users/2535611/rafaelc"}, "is_accepted": false, "score": 4, "last_activity_date": 1430339341, "creation_date": 1430339341, "answer_id": 29953913, "question_id": 29953864, "link": "https://stackoverflow.com/questions/29953864/python-how-to-add-a-static-class-array-of-objects/29953913#29953913", "title": "Python: How to add a static class array of objects?", "body": "<p>The problem is that you overwrite the object each time you do <code>vacca = Vacca(1)</code> and erase everything you've done before!</p>\n\n<p>Do like this instead:</p>\n\n<pre><code>vacca = Vacca( 1 )\nvacca.mungi( \"white milk\" )\nvacca.mungi( \"black milk\" )\nvacca.mungi( \"yellow milk\" )\n</code></pre>\n"}], "owner": {"reputation": 29, "user_id": 4364043, "user_type": "registered", "accept_rate": 20, "profile_image": "https://lh4.googleusercontent.com/-fwuMiliMlek/AAAAAAAAAAI/AAAAAAAAAu0/eAqKNRYtmsQ/photo.jpg?sz=128", "display_name": "Robb&#232; Meulz", "link": "https://stackoverflow.com/users/4364043/robb%c3%a8-meulz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1430339883, "creation_date": 1430339175, "last_edit_date": 1430339883, "question_id": 29953864, "link": "https://stackoverflow.com/questions/29953864/python-how-to-add-a-static-class-array-of-objects", "title": "Python: How to add a static class array of objects?", "body": "<p>i'm a python newbie!\nI'm playing with class, lists and dictionary and i have a problem!</p>\n\n<p>i have this piece of code:</p>\n\n<pre><code>class Vacca( object ):\n    Munte = dict()\n\n    def __init__( self, nr ):\n        self.nome = \"VACCA_\" + str( nr )\n        self.numero = str(nr)\n        self.mungiture = []\n\n    def mungi( self, latte ):\n        nr = self.numero\n        Vacca.Munte[ nr ] = self\n        Vacca.Munte[ nr ].mungiture.append( latte )\n\nvacca = Vacca( 1 )\nvacca.mungi( \"white milk\" )\n\nvacca = Vacca( 1 )\nvacca.mungi( \"black milk\" )\n\nvacca = Vacca( 1 )\nvacca.mungi( \"yellow milk\" )\n\nvacca = Vacca( 2 )\nvacca.mungi( \"dark chocolate\" )\n\nfor v in Vacca.Munte:\n    print Vacca.Munte[v].mungiture\n</code></pre>\n\n<p>If i run this is the result:</p>\n\n<pre><code>['yellow milk']\n['dark chocolate']\n</code></pre>\n\n<p>but i need this:</p>\n\n<pre><code>['white milk','black milk','yellow milk']\n['dark chocolate']\n</code></pre>\n\n<p>what i'm wrong?</p>\n"}, {"tags": ["python", "unit-testing", "python-decorators"], "comments": [{"owner": {"reputation": 209114, "user_id": 1427416, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/QWHKg.png?s=128&g=1", "display_name": "BrenBarn", "link": "https://stackoverflow.com/users/1427416/brenbarn"}, "edited": false, "score": 3, "creation_date": 1430339166, "post_id": 29953764, "comment_id": 48028426, "body": "Not sure I understand.  Why do you have two tests testing for different return values?  If it is okay for your memoized function to return a &quot;stale&quot; value (not the same as the live value from the network), then you shouldn&#39;t test for two values.  If it is not okay, then you need to make your memoization more sophisticated so that you can somehow invalidate the cache when necessary.  There&#39;s no use in memoizing if you don&#39;t have a way to know when it&#39;s okay to use the memoized value vs. getting the real value."}, {"owner": {"reputation": 43134, "user_id": 1726343, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/55744f355c4714fd473c50e799165a70?s=128&d=identicon&r=PG", "display_name": "Asad Saeeduddin", "link": "https://stackoverflow.com/users/1726343/asad-saeeduddin"}, "edited": false, "score": 0, "creation_date": 1430339354, "post_id": 29953764, "comment_id": 48028541, "body": "I don&#39;t understand why your proposed solution wouldn&#39;t work. Couldn&#39;t you just use <code>_search</code> in your tests? My assumption is that you want to test the behavior of <code>_search</code> when the network call returns various values, and aren&#39;t interested in the memoization."}, {"owner": {"reputation": 17253, "user_id": 577199, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/df8c59bf29696babd35e0bb7e0182e78?s=128&d=identicon&r=PG", "display_name": "Ceasar Bautista", "link": "https://stackoverflow.com/users/577199/ceasar-bautista"}, "edited": false, "score": 0, "creation_date": 1430339406, "post_id": 29953764, "comment_id": 48028569, "body": "Hm, having trouble following you.  The tests have different return values to simulate <code>network_call()</code> whose return values may be different for the same parameters (i.e. depending on the value on a server). They are supposed to be independent, so there should not be a need to invalidate the cache."}, {"owner": {"reputation": 17253, "user_id": 577199, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/df8c59bf29696babd35e0bb7e0182e78?s=128&d=identicon&r=PG", "display_name": "Ceasar Bautista", "link": "https://stackoverflow.com/users/577199/ceasar-bautista"}, "reply_to_user": {"reputation": 43134, "user_id": 1726343, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/55744f355c4714fd473c50e799165a70?s=128&d=identicon&r=PG", "display_name": "Asad Saeeduddin", "link": "https://stackoverflow.com/users/1726343/asad-saeeduddin"}, "edited": false, "score": 0, "creation_date": 1430339476, "post_id": 29953764, "comment_id": 48028615, "body": "@Asad, Yes I could use <code>_search</code>, but as I mentioned it leaks implementation details to the tests and will not work if <code>_search</code> is recursive."}, {"owner": {"reputation": 43134, "user_id": 1726343, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/55744f355c4714fd473c50e799165a70?s=128&d=identicon&r=PG", "display_name": "Asad Saeeduddin", "link": "https://stackoverflow.com/users/1726343/asad-saeeduddin"}, "edited": false, "score": 1, "creation_date": 1430339668, "post_id": 29953764, "comment_id": 48028718, "body": "Okay, so imagine the following real world scenario. You call the memoized <code>search</code> function with the input <code>1</code>, it returns 1 (because that&#39;s how the server currently behaves). Let&#39;s say in the future the server state changes so it returns something else when you pass in <code>1</code>. Is the expected behavior for the memoized <code>search</code> function to always return <code>1</code>?"}, {"owner": {"reputation": 209114, "user_id": 1427416, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/QWHKg.png?s=128&g=1", "display_name": "BrenBarn", "link": "https://stackoverflow.com/users/1427416/brenbarn"}, "edited": false, "score": 1, "creation_date": 1430339686, "post_id": 29953764, "comment_id": 48028727, "body": "@CeasarBautista: If an actual user of your code called <code>mem.search(1)</code> under conditions where <code>network_call</code> returned 2, and then subsequently called <code>mem.search(1)</code> under conditions where <code>network_call</code> returned 3, what should the result be?  If you want the calls to be independent, you need to invalidate the cache.  If you never invalidate the cache, changes in the behavior of <code>network_call</code> will never affect later calls to <code>mem.search</code> (with the same arguments)."}, {"owner": {"reputation": 17253, "user_id": 577199, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/df8c59bf29696babd35e0bb7e0182e78?s=128&d=identicon&r=PG", "display_name": "Ceasar Bautista", "link": "https://stackoverflow.com/users/577199/ceasar-bautista"}, "reply_to_user": {"reputation": 43134, "user_id": 1726343, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/55744f355c4714fd473c50e799165a70?s=128&d=identicon&r=PG", "display_name": "Asad Saeeduddin", "link": "https://stackoverflow.com/users/1726343/asad-saeeduddin"}, "edited": false, "score": 0, "creation_date": 1430339932, "post_id": 29953764, "comment_id": 48028853, "body": "@Asad and @BrenBarn, you are both right, the results should be different. However, 1) I don&#39;t expect the server to change in between invocations. In my app I have two functions which both use <code>search</code> slightly differently which I call in quick succession. I also don&#39;t want to pass around the result, because the result is an implementation detail of those two functions, and not essential to them. And 2) even if (1) were false, it&#39;s unclear how to test this."}, {"owner": {"reputation": 43134, "user_id": 1726343, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/55744f355c4714fd473c50e799165a70?s=128&d=identicon&r=PG", "display_name": "Asad Saeeduddin", "link": "https://stackoverflow.com/users/1726343/asad-saeeduddin"}, "edited": false, "score": 0, "creation_date": 1430340076, "post_id": 29953764, "comment_id": 48028939, "body": "@CeasarBautista The scenario you&#39;re currently testing only arises if the server changes in between invocations."}, {"owner": {"reputation": 43134, "user_id": 1726343, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/55744f355c4714fd473c50e799165a70?s=128&d=identicon&r=PG", "display_name": "Asad Saeeduddin", "link": "https://stackoverflow.com/users/1726343/asad-saeeduddin"}, "edited": false, "score": 0, "creation_date": 1430340141, "post_id": 29953764, "comment_id": 48028972, "body": "Or more specifically, if the server&#39;s response for the input 1 changes between invocations."}, {"owner": {"reputation": 17253, "user_id": 577199, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/df8c59bf29696babd35e0bb7e0182e78?s=128&d=identicon&r=PG", "display_name": "Ceasar Bautista", "link": "https://stackoverflow.com/users/577199/ceasar-bautista"}, "reply_to_user": {"reputation": 43134, "user_id": 1726343, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/55744f355c4714fd473c50e799165a70?s=128&d=identicon&r=PG", "display_name": "Asad Saeeduddin", "link": "https://stackoverflow.com/users/1726343/asad-saeeduddin"}, "edited": false, "score": 0, "creation_date": 1430340153, "post_id": 29953764, "comment_id": 48028978, "body": "@Asad, that&#39;s not true. A test that wanted to check for that would make two calls to <code>search()</code> in the same body. Unit tests are supposed to be isolated."}, {"owner": {"reputation": 43134, "user_id": 1726343, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/55744f355c4714fd473c50e799165a70?s=128&d=identicon&r=PG", "display_name": "Asad Saeeduddin", "link": "https://stackoverflow.com/users/1726343/asad-saeeduddin"}, "edited": false, "score": 2, "creation_date": 1430340290, "post_id": 29953764, "comment_id": 48029078, "body": "@CeasarBautista That&#39;s only true for unit tests that do not affect the environment state. This isn&#39;t the case with your unit tests (the wrapper function&#39;s cache is mutated). If you want your unit tests to be isolated, you need to run a teardown and setup between them. In this case this would involve recreating the search function from its definition and the decorator or clearing the memoization cache in some other way."}, {"owner": {"reputation": 209114, "user_id": 1427416, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/QWHKg.png?s=128&g=1", "display_name": "BrenBarn", "link": "https://stackoverflow.com/users/1427416/brenbarn"}, "edited": false, "score": 1, "creation_date": 1430340338, "post_id": 29953764, "comment_id": 48029108, "body": "@CeasarBautista: They can&#39;t isolate global state, which is effectively what your memoization is.  If one test sets a global variable <code>blah = 1</code>, other tests will see that too.  Likewise memoized values are stored globally (in the closure of the memoized function).  If you want the memoization to happen on some non-global level, you need to make <code>search</code> a non-global function (e.g., a method of some class).  Or, again, you can provide a &quot;manual override&quot; of some sort that invalidates the cache."}, {"owner": {"reputation": 17253, "user_id": 577199, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/df8c59bf29696babd35e0bb7e0182e78?s=128&d=identicon&r=PG", "display_name": "Ceasar Bautista", "link": "https://stackoverflow.com/users/577199/ceasar-bautista"}, "reply_to_user": {"reputation": 43134, "user_id": 1726343, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/55744f355c4714fd473c50e799165a70?s=128&d=identicon&r=PG", "display_name": "Asad Saeeduddin", "link": "https://stackoverflow.com/users/1726343/asad-saeeduddin"}, "edited": false, "score": 0, "creation_date": 1430340463, "post_id": 29953764, "comment_id": 48029191, "body": "@Asad and @BrenBarn, that&#39;s more clear now. The closure had me thrown off. But to answer your question, @BrenBarn, I am not trying to test memoization here. Assume <code>search</code> was not memoized-- the tests would still make sense. I want to test what happens when the servers returns different responses."}], "answers": [{"tags": [], "owner": {"reputation": 26796, "user_id": 4834, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/6a04e124482c3750617f8dacde3388ce?s=128&d=identicon&r=PG", "display_name": "quamrana", "link": "https://stackoverflow.com/users/4834/quamrana"}, "is_accepted": false, "score": 0, "last_activity_date": 1430339908, "creation_date": 1430339908, "answer_id": 29954060, "question_id": 29953764, "link": "https://stackoverflow.com/questions/29953764/how-can-memoized-functions-be-tested/29954060#29954060", "title": "How can memoized functions be tested?", "body": "<p>You should test each concern separately:</p>\n\n<p>You have shown <code>memoize</code>, and I assume you have tested that.</p>\n\n<p>You seem to have <code>network_call</code>, so you should test that in isolation, not memoized.</p>\n\n<p>Now you want to combine the two, but presumably this will be for the benefit of other code to avoid lengthy network latency. However, if you want to test this other code then it should not even make 1 network call, so you may have to supply a function name as a parameter.</p>\n"}, {"comments": [{"owner": {"reputation": 43134, "user_id": 1726343, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/55744f355c4714fd473c50e799165a70?s=128&d=identicon&r=PG", "display_name": "Asad Saeeduddin", "link": "https://stackoverflow.com/users/1726343/asad-saeeduddin"}, "edited": false, "score": 1, "creation_date": 1430340497, "post_id": 29954160, "comment_id": 48029210, "body": "+1 for a great answer, but it might be a bit quicker to understand this if you used the OP&#39;s original code."}], "tags": [], "owner": {"reputation": 45398, "user_id": 873145, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0ab6f2836e0722ea0cbfeb97a74f131d?s=128&d=identicon&r=PG", "display_name": "Thomas Orozco", "link": "https://stackoverflow.com/users/873145/thomas-orozco"}, "is_accepted": true, "score": 8, "last_activity_date": 1430340673, "last_edit_date": 1430340673, "creation_date": 1430340275, "answer_id": 29954160, "question_id": 29953764, "link": "https://stackoverflow.com/questions/29953764/how-can-memoized-functions-be-tested/29954160#29954160", "title": "How can memoized functions be tested?", "body": "<p>Is it really desirable for your memoization to be defined at the function level? </p>\n\n<p>This effectively makes the memoized data a <em>global variable</em> (just like the function, whose scope it shares). </p>\n\n<p>Incidentally, that's why you're having difficulty testing it!</p>\n\n<p>So, how about wrapping this into an object? </p>\n\n<pre><code>import functools\nimport time\n\ndef memoize(meth):\n    @functools.wraps(meth)\n    def wrapped(self, *args, **kwargs):\n\n        # Prepare and get reference to cache\n        attr = \"_memo_{0}\".format(meth.__name__)\n        if not hasattr(self, attr):\n            setattr(self, attr, {})\n        cache = getattr(self, attr)\n\n        # Actual caching\n        key = args, tuple(sorted(kwargs))\n        try:\n            return cache[key]\n        except KeyError:\n            cache[key] = meth(self, *args, **kwargs)\n            return cache[key]\n\n    return wrapped\n\ndef network_call(user_id):\n    print \"Was called with: %s\" % user_id\n    return 1\n\nclass NetworkEngine(object):\n\n    @memoize\n    def search(self, user_id):\n        return network_call(user_id)\n\n\nif __name__ == \"__main__\":\n    e = NetworkEngine()\n    for v in [1,1,2]:\n        e.search(v)\n    NetworkEngine().search(1)\n</code></pre>\n\n<p>Yields:</p>\n\n<pre><code>Was called with: 1\nWas called with: 2\nWas called with: 1\n</code></pre>\n\n<p>In other words, each instance of <code>NetworkEngine</code> gets its own cache. Just reuse the same one to share a cache, or instantiate a new one to get a new cache.</p>\n\n<hr>\n\n<p>In your test code, you'd use:</p>\n\n<pre><code>@mock.patch('mem.network_call')\ndef test_search(mock_network_call):\n    mock_network_call.return_value = 2\n    assert mem.NetworkEngine().search(1) == 2\n</code></pre>\n"}], "owner": {"reputation": 17253, "user_id": 577199, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/df8c59bf29696babd35e0bb7e0182e78?s=128&d=identicon&r=PG", "display_name": "Ceasar Bautista", "link": "https://stackoverflow.com/users/577199/ceasar-bautista"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2852, "favorite_count": 2, "accepted_answer_id": 29954160, "answer_count": 2, "score": 7, "last_activity_date": 1430340673, "creation_date": 1430338823, "last_edit_date": 1430340641, "question_id": 29953764, "link": "https://stackoverflow.com/questions/29953764/how-can-memoized-functions-be-tested", "title": "How can memoized functions be tested?", "body": "<p>I have a simple memoizer which I'm using to save some time around expensive network calls. Roughly, my code looks like this:</p>\n\n<pre><code># mem.py\nimport functools\nimport time\n\n\ndef memoize(fn):\n    \"\"\"\n    Decorate a function so that it results are cached in memory.\n\n    &gt;&gt;&gt; import random\n    &gt;&gt;&gt; random.seed(0)\n    &gt;&gt;&gt; f = lambda x: random.randint(0, 10)\n    &gt;&gt;&gt; [f(1) for _ in range(10)]\n    [9, 8, 4, 2, 5, 4, 8, 3, 5, 6]\n    &gt;&gt;&gt; [f(2) for _ in range(10)]\n    [9, 5, 3, 8, 6, 2, 10, 10, 8, 9]\n    &gt;&gt;&gt; g = memoize(f)\n    &gt;&gt;&gt; [g(1) for _ in range(10)]\n    [3, 3, 3, 3, 3, 3, 3, 3, 3, 3]\n    &gt;&gt;&gt; [g(2) for _ in range(10)]\n    [8, 8, 8, 8, 8, 8, 8, 8, 8, 8]\n    \"\"\"\n    cache = {}\n\n    @functools.wraps(fn)\n    def wrapped(*args, **kwargs):\n        key = args, tuple(sorted(kwargs))\n        try:\n            return cache[key]\n        except KeyError:\n            cache[key] = fn(*args, **kwargs)\n            return cache[key]\n    return wrapped\n\n\ndef network_call(user_id):\n    time.sleep(1)\n    return 1\n\n\n@memoize\ndef search(user_id):\n    response = network_call(user_id)\n    # do stuff to response\n    return response\n</code></pre>\n\n<p>And I have tests for this code, where I mock out different return values of <code>network_call()</code> to make sure some modifications I do in <code>search()</code> work as expected.</p>\n\n<pre><code>import mock\n\nimport mem\n\n\n@mock.patch('mem.network_call')\ndef test_search(mock_network_call):\n    mock_network_call.return_value = 2\n    assert mem.search(1) == 2\n\n\n@mock.patch('mem.network_call')\ndef test_search_2(mock_network_call):\n    mock_network_call.return_value = 3\n    assert mem.search(1) == 3\n</code></pre>\n\n<p>However, when I run these tests, I get a failure because <code>search()</code> returns a cached result.</p>\n\n<pre><code>CAESAR-BAUTISTA:~ caesarbautista$ py.test test_mem.py\n============================= test session starts ==============================\nplatform darwin -- Python 2.7.8 -- py-1.4.26 -- pytest-2.6.4\ncollected 2 items\n\ntest_mem.py .F\n\n=================================== FAILURES ===================================\n________________________________ test_search_2 _________________________________\n\nargs = (&lt;MagicMock name='network_call' id='4438999312'&gt;,), keywargs = {}\nextra_args = [&lt;MagicMock name='network_call' id='4438999312'&gt;]\nentered_patchers = [&lt;mock._patch object at 0x108913dd0&gt;]\nexc_info = (&lt;class '_pytest.assertion.reinterpret.AssertionError'&gt;, AssertionError(u'assert 2 == 3\\n +  where 2 = &lt;function search at 0x10893f848&gt;(1)\\n +    where &lt;function search at 0x10893f848&gt; = mem.search',), &lt;traceback object at 0x1089502d8&gt;)\npatching = &lt;mock._patch object at 0x108913dd0&gt;\narg = &lt;MagicMock name='network_call' id='4438999312'&gt;\n\n    @wraps(func)\n    def patched(*args, **keywargs):\n        # don't use a with here (backwards compatability with Python 2.4)\n        extra_args = []\n        entered_patchers = []\n\n        # can't use try...except...finally because of Python 2.4\n        # compatibility\n        exc_info = tuple()\n        try:\n            try:\n                for patching in patched.patchings:\n                    arg = patching.__enter__()\n                    entered_patchers.append(patching)\n                    if patching.attribute_name is not None:\n                        keywargs.update(arg)\n                    elif patching.new is DEFAULT:\n                        extra_args.append(arg)\n\n                args += tuple(extra_args)\n&gt;               return func(*args, **keywargs)\n\n/opt/boxen/homebrew/lib/python2.7/site-packages/mock.py:1201:\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nmock_network_call = &lt;MagicMock name='network_call' id='4438999312'&gt;\n\n    @mock.patch('mem.network_call')\n    def test_search_2(mock_network_call):\n        mock_network_call.return_value = 3\n&gt;       assert mem.search(1) == 3\nE       assert 2 == 3\nE        +  where 2 = &lt;function search at 0x10893f848&gt;(1)\nE        +    where &lt;function search at 0x10893f848&gt; = mem.search\n\ntest_mem.py:15: AssertionError\n====================== 1 failed, 1 passed in 0.03 seconds ======================\n</code></pre>\n\n<p>Is there a way to test memoized functions? I've considered some alternatives but they each have drawbacks.</p>\n\n<p>One solution is to mock <code>memoize()</code>. I am reluctant to do this because it leaks implementation details to the tests. Theoretically, I should be able to memoize and unmemoize functions without the rest of the system, including tests, noticing from a functional standpoint.</p>\n\n<p>Another solution is to rewrite the code to expose the decorated function. That is, I could do something like this:</p>\n\n<pre><code>def _search(user_id):\n    return network_call(user_id)\nsearch = memoize(_search)\n</code></pre>\n\n<p>However, this runs into the same problems as above, although it's arguably worse because it will not work for recursive functions.</p>\n"}, {"tags": ["python", "web-scraping", "beautifulsoup"], "answers": [{"comments": [{"owner": {"reputation": 25, "user_id": 4317482, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f9e69a1699956b8823846f6b43adaeea?s=128&d=identicon&r=PG&f=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/4317482/jason"}, "edited": false, "score": 0, "creation_date": 1430339456, "post_id": 29953860, "comment_id": 48028601, "body": "Thanks! But what if I also want to get his career stats? Also, why is your url different from mine? How do you get that url? Thanks!"}, {"owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "reply_to_user": {"reputation": 25, "user_id": 4317482, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f9e69a1699956b8823846f6b43adaeea?s=128&d=identicon&r=PG&f=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/4317482/jason"}, "edited": false, "score": 0, "creation_date": 1430339627, "post_id": 29953860, "comment_id": 48028688, "body": "@Jason the page data is dynamically constructed with a set of async calls to the different API endpoints - you can observe them in browser developer tools - network tab."}, {"owner": {"reputation": 25, "user_id": 4317482, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f9e69a1699956b8823846f6b43adaeea?s=128&d=identicon&r=PG&f=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/4317482/jason"}, "edited": false, "score": 0, "creation_date": 1430340100, "post_id": 29953860, "comment_id": 48028952, "body": "Thanks!! I&#39;m not very familiar with the idea of API and how this website calls to different API to retrieve the info, and also how to use the network tab. Can you refer me to any links that can teach and get me started on this?"}], "tags": [], "owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "is_accepted": true, "score": 1, "last_activity_date": 1430339154, "creation_date": 1430339154, "answer_id": 29953860, "question_id": 29953752, "link": "https://stackoverflow.com/questions/29953752/cant-find-the-contents-of-a-div-using-beautifulsoup/29953860#29953860", "title": "Can&#39;t find the contents of a &#39;div&#39; using BeautifulSoup", "body": "<p>Player information on the page is coming from the response of an additional XHR request to the JSON API. You can simulate it, for example, using <a href=\"http://docs.python-requests.org/en/latest/\" rel=\"nofollow\"><code>requests</code></a>:</p>\n\n<pre><code>&gt;&gt;&gt; import requests\n&gt;&gt;&gt; \n&gt;&gt;&gt; url = \"http://mlb.mlb.com/lookup/json/named.player_info.bam?sport_code=%27mlb%27&amp;player_id=150378\"\n&gt;&gt;&gt; \n&gt;&gt;&gt; response = requests.get(url)\n&gt;&gt;&gt; data = response.json()\n&gt;&gt;&gt; data['player_info']['queryResults']['row']['status']\nReleased\n</code></pre>\n"}], "owner": {"reputation": 25, "user_id": 4317482, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f9e69a1699956b8823846f6b43adaeea?s=128&d=identicon&r=PG&f=1", "display_name": "Jason", "link": "https://stackoverflow.com/users/4317482/jason"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 785, "favorite_count": 0, "accepted_answer_id": 29953860, "answer_count": 1, "score": 2, "last_activity_date": 1430339154, "creation_date": 1430338776, "question_id": 29953752, "link": "https://stackoverflow.com/questions/29953752/cant-find-the-contents-of-a-div-using-beautifulsoup", "title": "Can&#39;t find the contents of a &#39;div&#39; using BeautifulSoup", "body": "<p>I'm trying to scrape some information about MLB players from the MLB website. \nHowever, using urllib2 and BeautifulSoup, I can't find the contents under the 'div'. But I can clearly see the contents on Chrome.</p>\n\n<p>An example is that, going to page (<a href=\"http://mlb.mlb.com/team/player.jsp?player_id=150378\" rel=\"nofollow\">http://mlb.mlb.com/team/player.jsp?player_id=150378</a>). The Status info on the upper right side shows 'Released'. But I can't find this string/content using BS4.</p>\n\n<p>Here's my code:</p>\n\n<pre><code>base_url = 'http://mlb.mlb.com/team/player.jsp?player_id=150378'\nrequest = urllib2.Request(base_url)\nresponse = urllib2.urlopen(request)\nsoup = BeautifulSoup(response)\nplayer_status = soup.findAll('div',id='player_status')\nprint player_status\n</code></pre>\n\n<p>I was expecting it to have a string like 'Status: Released',\nbut the result only shows</p>\n\n<pre><code>[&lt;div id=\"player_status\"&gt;&lt;/div&gt;]\n</code></pre>\n\n<p>I have never encountered this problem before. Can someone help me with this?\nThanks!!</p>\n"}, {"tags": ["python", "zip", "md5", "tar"], "answers": [{"comments": [{"owner": {"reputation": 916, "user_id": 1576772, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3yh3R.jpg?s=128&g=1", "display_name": "Himel Das", "link": "https://stackoverflow.com/users/1576772/himel-das"}, "edited": false, "score": 0, "creation_date": 1430343630, "post_id": 29954089, "comment_id": 48030940, "body": "Thanks for your response, but the issue is I am using the same compression algorithm for both files. So I&#39;m using tarfile for file 1 and tarfile for file 2, yet the tarfiles have different md5s."}, {"owner": {"reputation": 1216, "user_id": 1627968, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4568c8ef9068eada35e5ed74ee4d471b?s=128&d=identicon&r=PG", "display_name": "Benjamin Rowell", "link": "https://stackoverflow.com/users/1627968/benjamin-rowell"}, "reply_to_user": {"reputation": 916, "user_id": 1576772, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3yh3R.jpg?s=128&g=1", "display_name": "Himel Das", "link": "https://stackoverflow.com/users/1576772/himel-das"}, "edited": false, "score": 0, "creation_date": 1430343999, "post_id": 29954089, "comment_id": 48031111, "body": "So you&#39;re just creating a tar.gz of the same file, and giving the archive a different name?"}, {"owner": {"reputation": 916, "user_id": 1576772, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3yh3R.jpg?s=128&g=1", "display_name": "Himel Das", "link": "https://stackoverflow.com/users/1576772/himel-das"}, "edited": false, "score": 0, "creation_date": 1430344417, "post_id": 29954089, "comment_id": 48031269, "body": "They&#39;re 2 files, created at different times, but they have the exact same content inside, and produce the same md5... But when I put each file in their own tar.gz archive, the 2 archives produce different md5."}, {"owner": {"reputation": 1216, "user_id": 1627968, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4568c8ef9068eada35e5ed74ee4d471b?s=128&d=identicon&r=PG", "display_name": "Benjamin Rowell", "link": "https://stackoverflow.com/users/1627968/benjamin-rowell"}, "reply_to_user": {"reputation": 916, "user_id": 1576772, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3yh3R.jpg?s=128&g=1", "display_name": "Himel Das", "link": "https://stackoverflow.com/users/1576772/himel-das"}, "edited": false, "score": 0, "creation_date": 1430344806, "post_id": 29954089, "comment_id": 48031435, "body": "If their names are different, that will be enough to result in different MD5s."}, {"owner": {"reputation": 916, "user_id": 1576772, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3yh3R.jpg?s=128&g=1", "display_name": "Himel Das", "link": "https://stackoverflow.com/users/1576772/himel-das"}, "edited": false, "score": 0, "creation_date": 1430345979, "post_id": 29954089, "comment_id": 48031900, "body": "That makes sense, thank you. It also seems like even if the fies have the same filenames and content, but different creation times, that also changes the MD5 of the tarfile. Can you update your answer so I can accept it?"}], "tags": [], "owner": {"reputation": 1216, "user_id": 1627968, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4568c8ef9068eada35e5ed74ee4d471b?s=128&d=identicon&r=PG", "display_name": "Benjamin Rowell", "link": "https://stackoverflow.com/users/1627968/benjamin-rowell"}, "is_accepted": true, "score": 1, "last_activity_date": 1430346885, "last_edit_date": 1430346885, "creation_date": 1430340027, "answer_id": 29954089, "question_id": 29953710, "link": "https://stackoverflow.com/questions/29953710/python-tarfile-and-zipfile-producing-archives-with-different-md5-for-2-identical/29954089#29954089", "title": "Python tarfile and zipfile producing archives with different MD5 for 2 identical files", "body": "<p>Whilst the payload of the two archives may be identical, the underlying structure of the archives is different, and compression only adds to those differences. </p>\n\n<p>Zip and Tar are both archiving formats, and they can both be combined with compression; more often than not, they are. The combinations of differing compression algorithms and fundamentally different underlying format structure will result in different MD5s.</p>\n\n<p>--</p>\n\n<p>In this case, the last modification time and names of the underlying files are different, even though the contents of the files are the same; this results in a different MD5.</p>\n"}, {"comments": [{"owner": {"reputation": 3502, "user_id": 1568138, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/04uBZ.png?s=128&g=1", "display_name": "Daniel", "link": "https://stackoverflow.com/users/1568138/daniel"}, "edited": false, "score": 2, "creation_date": 1520932530, "post_id": 49250763, "comment_id": 85507791, "body": "Welcome to StackOverflow. Please don&#39;t post code as images. Even though the arrows seem like a nice touch, the references are implicit in the code."}], "tags": [], "owner": {"reputation": 21, "user_id": 9483776, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd7645bfe53249af90e3bd33a2cda392?s=128&d=identicon&r=PG&f=1", "display_name": "hnf", "link": "https://stackoverflow.com/users/9483776/hnf"}, "is_accepted": false, "score": 2, "last_activity_date": 1520928164, "last_edit_date": 1520928164, "creation_date": 1520927085, "answer_id": 49250763, "question_id": 29953710, "link": "https://stackoverflow.com/questions/29953710/python-tarfile-and-zipfile-producing-archives-with-different-md5-for-2-identical/49250763#49250763", "title": "Python tarfile and zipfile producing archives with different MD5 for 2 identical files", "body": "<p>try to use zipfile:</p>\n\n<p><img src=\"https://i.stack.imgur.com/fM3Lc.png\" alt=\"enter image description here\"></p>\n\n<p>key point: give func writestr a object of ZipInfo, not a str.</p>\n\n<p><img src=\"https://i.stack.imgur.com/BrXTR.png\" alt=\"enter image description here\">\nbecause if not a object of ZipInfo, zinfo will get a dynamic date_time.</p>\n\n<p><img src=\"https://i.stack.imgur.com/klR61.png\" alt=\"enter image description here\">\nthe only dynamic variable will write to zip file header, so zip file md5 will change.</p>\n"}], "owner": {"reputation": 916, "user_id": 1576772, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3yh3R.jpg?s=128&g=1", "display_name": "Himel Das", "link": "https://stackoverflow.com/users/1576772/himel-das"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1083, "favorite_count": 0, "accepted_answer_id": 29954089, "answer_count": 2, "score": 2, "last_activity_date": 1520928164, "creation_date": 1430338663, "last_edit_date": 1430343360, "question_id": 29953710, "link": "https://stackoverflow.com/questions/29953710/python-tarfile-and-zipfile-producing-archives-with-different-md5-for-2-identical", "title": "Python tarfile and zipfile producing archives with different MD5 for 2 identical files", "body": "<p>I am trying to ensure that 2 archives with the same files inside produce the same MD5 checksum.</p>\n\n<p>For example, file1.txt and file2.txt have identical content, the only difference between them is <em>creation time</em>. However, they produce the same MD5:</p>\n\n<pre><code>&gt;&gt;&gt; import md5\n&gt;&gt;&gt; md5.md5(open(\"file1.zip\",\"rb\").read()).hexdigest()\n'c99e47de6046f141693b9aecdbdd2dc2'\n&gt;&gt;&gt; md5.md5(open(\"file2.zip\",\"rb\").read()).hexdigest()\n'c99e47de6046f141693b9aecdbdd2dc2'\n</code></pre>\n\n<p>However, when I create tarfile (or zipfile) archives for both identical files, I get completely different MD5s. Note I am using tarfile for file 1 and 2 in the exact same fashion.</p>\n\n<pre><code>&gt;&gt;&gt; import tarfile, md5\n&gt;&gt;&gt; #file 1\n&gt;&gt;&gt; a1 = tarfile.open('archive1.tar.gz','w:gz')\n&gt;&gt;&gt; a1.add(\"file1.txt\")\n&gt;&gt;&gt; a1.close()\n&gt;&gt;&gt; md5.md5(open(\"archive1.zip\",\"rb\").read()).hexdigest()\n'0865abb94f6fd92df990963c75519b2e'\n&gt;&gt;&gt; #file 2\n&gt;&gt;&gt; a2 = tarfile.open('archive2.tar.gz','w:gz')\n&gt;&gt;&gt; a2.add(\"file2.txt\")\n&gt;&gt;&gt; a2.close()\n&gt;&gt;&gt; md5.md5(open(\"archive2.zip\",\"rb\").read()).hexdigest()\n'cee53e271a1f457dfd5b5401d8311fcc'\n</code></pre>\n\n<p>Any ideas why this is occurring? I am guessing it has something to do with the header data in the archive that is causing this. Perhaps the archives maintain the different creation times of file1 and file2, thus the different checksums.</p>\n"}, {"tags": ["python", "smtp", "smtplib"], "answers": [{"comments": [{"owner": {"reputation": 5, "user_id": 3949819, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vGObQ.jpg?s=128&g=1", "display_name": "yawn", "link": "https://stackoverflow.com/users/3949819/yawn"}, "edited": false, "score": 0, "creation_date": 1430339230, "post_id": 29953811, "comment_id": 48028461, "body": "Thanks, tried it - seems that it didn&#39;t work, application just &#39;hangs&#39; and I dont see any debug messages, so I think that&#39;s not the issue."}, {"owner": {"reputation": 17930, "user_id": 1575066, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/hGOuL.png?s=128&g=1", "display_name": "PascalVKooten", "link": "https://stackoverflow.com/users/1575066/pascalvkooten"}, "reply_to_user": {"reputation": 5, "user_id": 3949819, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vGObQ.jpg?s=128&g=1", "display_name": "yawn", "link": "https://stackoverflow.com/users/3949819/yawn"}, "edited": false, "score": 0, "creation_date": 1430339396, "post_id": 29953811, "comment_id": 48028564, "body": "@yawn Hmmm, that&#39;s odd. Are you sure it is not the host/port settings? Perhaps try the code without giving the host and port."}, {"owner": {"reputation": 17930, "user_id": 1575066, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/hGOuL.png?s=128&g=1", "display_name": "PascalVKooten", "link": "https://stackoverflow.com/users/1575066/pascalvkooten"}, "reply_to_user": {"reputation": 5, "user_id": 3949819, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vGObQ.jpg?s=128&g=1", "display_name": "yawn", "link": "https://stackoverflow.com/users/3949819/yawn"}, "edited": false, "score": 0, "creation_date": 1430339725, "post_id": 29953811, "comment_id": 48028742, "body": "@yawn Does the <code>yag</code> object get created prior to the attempt of sending a message?"}, {"owner": {"reputation": 17930, "user_id": 1575066, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/hGOuL.png?s=128&g=1", "display_name": "PascalVKooten", "link": "https://stackoverflow.com/users/1575066/pascalvkooten"}, "reply_to_user": {"reputation": 5, "user_id": 3949819, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vGObQ.jpg?s=128&g=1", "display_name": "yawn", "link": "https://stackoverflow.com/users/3949819/yawn"}, "edited": false, "score": 0, "creation_date": 1430339838, "post_id": 29953811, "comment_id": 48028802, "body": "In your original approach, you could perhaps try adding  <code>server.esmtp_features[&#39;auth&#39;] = &#39;LOGIN AUTH&#39;</code>? Or instead of <code>&#39;LOGIN AUTH&#39;</code>, try <code>&#39;LOGIN PLAIN&#39;</code>"}, {"owner": {"reputation": 5, "user_id": 3949819, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vGObQ.jpg?s=128&g=1", "display_name": "yawn", "link": "https://stackoverflow.com/users/3949819/yawn"}, "edited": false, "score": 0, "creation_date": 1430343692, "post_id": 29953811, "comment_id": 48030970, "body": "Both <code>&#39;LOGIN AUTH&#39;</code> and <code>&#39;LOGIN PLAIN&#39;</code> give same result = no email is sent. However, when I try to log in to my account on my university SMTP server (its web front end), using ONLY the username, for instance, <code>yawn</code> instead of <code>yawn@subunidomain.server.com</code> it .. works, I can log in. When I try to use only the username in my original python code, it fails and says that I need a domain ..."}], "tags": [], "owner": {"reputation": 17930, "user_id": 1575066, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/hGOuL.png?s=128&g=1", "display_name": "PascalVKooten", "link": "https://stackoverflow.com/users/1575066/pascalvkooten"}, "is_accepted": true, "score": 0, "last_activity_date": 1430339274, "last_edit_date": 1430339274, "creation_date": 1430338994, "answer_id": 29953811, "question_id": 29953686, "link": "https://stackoverflow.com/questions/29953686/smtplib-smtpresponseexception-535-incorrect-authentication-data-apache-python/29953811#29953811", "title": "smtplib.SMTPResponseException: 535 Incorrect authentication data Apache, python, smtplib module", "body": "<p>Perhaps you can try sending your message with <code>yagmail</code>.</p>\n\n<p>Install:</p>\n\n<p><code>pip install yagmail</code></p>\n\n<p>Then import, make connection object and send the email:</p>\n\n<pre><code>import yagmail\nyag = yagmail.Connect('user', 'pass', server_smtp, port_smtp, set_debuglevel = 1)\nyag.send(toaddrs, Subject = 'Hello', Body = 'Hello')\n</code></pre>\n\n<p>Let me know if you face any errors.</p>\n\n<p><strong>Disclaimer/Background</strong>: I'm the maintainer/developer of <code>yagmail</code>.\nThe purpose of the package is to make a lot of things very convenient in sending an email. For example, you can use its features not to write your password in the script, but store it in your keyring (very safe, you can read about it on <a href=\"https://github.com/kootenpv/yagmail\" rel=\"nofollow\">github</a>!). \nIt also has a few ways to make it a lot shorter, for example:</p>\n\n<pre><code>from yagmail import Connect\nyag = Connect(host = server_smtp, port = port_smtp, set_debuglevel = 1) \nyag.send(toaddrs, 'Hello', 'Hello')\n</code></pre>\n\n<p>Attachments (such as HTML/images) are really easy to use, but I won't go there as it wasn't asked. Lastly, whenever it goes out of scope, it automatically quits itself.</p>\n"}], "owner": {"reputation": 5, "user_id": 3949819, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vGObQ.jpg?s=128&g=1", "display_name": "yawn", "link": "https://stackoverflow.com/users/3949819/yawn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1789, "favorite_count": 0, "accepted_answer_id": 29953811, "answer_count": 1, "score": 0, "last_activity_date": 1430346047, "creation_date": 1430338581, "last_edit_date": 1430346047, "question_id": 29953686, "link": "https://stackoverflow.com/questions/29953686/smtplib-smtpresponseexception-535-incorrect-authentication-data-apache-python", "title": "smtplib.SMTPResponseException: 535 Incorrect authentication data Apache, python, smtplib module", "body": "<p>I'm trying to send an email via SMTP server at my university. I wrote some python code. The code itself works fine, but I think there's a problem with SMTP server. I think I should contact the administrator but what should I tell him? Is it really a server problem? My code looks like following:</p>\n\n<pre><code>import smtplib\nimport string\n\nfromaddr = str('from@subunidomain.server.com')\npassword = str('secretpass')\n\ntoaddrs  = 'to@unidomain.com'\nserver_smtp = 'smtp.server.com'\nport_smtp = 465\n\nmsg = 'There was a terrible error that occured and I wanted you to know'\n\nBODY = string.join((\n        \"From: %s\" % fromaddr,\n        \"To: %s\" % toaddrs,\n        \"Subject: %s\" % 'Hello' ,\n        \"\",\n        'Hello'\n        ), \"\\r\\n\")\n\ntry :\n\n    server = smtplib.SMTP_SSL(host=server_smtp, port=port_smtp)\n    server.set_debuglevel(True)\n    server.login(fromaddr,password)\n    server.sendmail(fromaddr, toaddrs, str(BODY))\n    server.quit()\n\nexcept smtplib.SMTPServerDisconnected :\n    print \"smtplib.SMTPServerDisconnected\"\nexcept smtplib.SMTPResponseException, e:\n    print \"smtplib.SMTPResponseException: \" + str(e.smtp_code) + \" \" + str(e.smtp_error)\nexcept smtplib.SMTPSenderRefused:\n    print \"smtplib.SMTPSenderRefused\"\nexcept smtplib.SMTPRecipientsRefused:\n    print \"smtplib.SMTPRecipientsRefused\"\nexcept smtplib.SMTPDataError:\n    print \"smtplib.SMTPDataError\"\nexcept smtplib.SMTPConnectError:\n    print \"smtplib.SMTPConnectError\"\nexcept smtplib.SMTPHeloError:\n    print \"smtplib.SMTPHeloError\"\nexcept smtplib.SMTPAuthenticationError:\n    print \"smtplib.SMTPAuthenticationError\"\nexcept Exception :\n    print \"Exception\"\n</code></pre>\n\n<p>And I have such response from server:</p>\n\n<pre><code>send: 'ehlo [127.0.1.1]\\r\\n'\nreply: '250-smtp.server.com Hello [127.0.1.1] [219.104.12.12]\\r\\n'\nreply: '250-SIZE 78643200\\r\\n'\nreply: '250-PIPELINING\\r\\n'\nreply: '250-AUTH PLAIN LOGIN\\r\\n'\nreply: '250 HELP\\r\\n'\nreply: retcode (250); Msg: smtp.server.com Hello [127.0.1.1] [219.104.12.12]\nSIZE 78643200\nPIPELINING\nAUTH PLAIN LOGIN\nHELP\nsend: 'AUTH PLAIN AGFpQGluZm9ybWF0aWNhLnVtY3MubHVibGluLnBsAGFubmFsZXN1bWNzMjAxNQ==\\r\\n'\nreply: '535 Incorrect authentication data\\r\\n'\nreply: retcode (535); Msg: Incorrect authentication data\nsmtplib.SMTPResponseException: 535 Incorrect authentication data\n</code></pre>\n\n<p>What's the problem and how to solve it? <strong>My password and email are 100% correct.</strong></p>\n\n<p>Here's the output from <a href=\"https://pingability.com/smtptest.jsp\" rel=\"nofollow\">https://pingability.com/smtptest.jsp</a> (<em>username:</em> <strong>from</strong> - when I try to write <strong>from@subunidomain.server.com</strong> instead, it does not work):</p>\n\n<pre><code>smtp.server.com\nSMTP Username from\nOutput  \n\nDEBUG: getProvider() returning javax.mail.Provider[TRANSPORT,smtp,com.sun.mail.smtp.SMTPTransport,Sun Microsystems, Inc]\nDEBUG SMTP: useEhlo true, useAuth true\nDEBUG SMTP: trying to connect to host \"smtp.server.com\", port 25, isSSL false\n220-smtp.server.com ESMTP Exim 4.69 #1 Wed, 29 Apr 2015 23:05:53 +0200 \n220-We do not authorize the use of this system to transport unsolicited, \n220 and/or bulk e-mail.\nDEBUG SMTP: connected to host \"smtp.server.com\", port: 25\n\nEHLO localhost\n250-smtp.server.com Hello pingability.com [72.249.37.67]\n250-SIZE 78643200\n250-PIPELINING\n250-AUTH PLAIN LOGIN\n250-STARTTLS\n250 HELP\nDEBUG SMTP: Found extension \"SIZE\", arg \"78643200\"\nDEBUG SMTP: Found extension \"PIPELINING\", arg \"\"\nDEBUG SMTP: Found extension \"AUTH\", arg \"PLAIN LOGIN\"\nDEBUG SMTP: Found extension \"STARTTLS\", arg \"\"\nDEBUG SMTP: Found extension \"HELP\", arg \"\"\nDEBUG SMTP: Attempt to authenticate\nDEBUG SMTP: check mechanisms: LOGIN PLAIN DIGEST-MD5 NTLM \nAUTH LOGIN\n334 VXNlcm5hbWU6\nYWk=\n334 UGFzc3dvcmQ6\nYW5uYWxlc3VtY3MyMDE1\n235 Authentication succeeded\nDEBUG SMTP: use8bit false\nMAIL FROM:&lt;smtptester@pingability.com&gt;\n250 OK\nRCPT TO:&lt;smtptester@pingability.com&gt;\n250 Accepted\nDEBUG SMTP: Verified Addresses\nDEBUG SMTP:   smtptester@pingability.com\nDATA\n354 Enter message, ending with \".\" on a line by itself\nDate: Wed, 29 Apr 2015 21:05:53 +0000 (UTC)\nFrom: smtptester@pingability.com\nTo: smtptester@pingability.com\nMessage-ID: &lt;8486466.51545.1430341553138.JavaMail.tomcat@localhost&gt;\nSubject: Pingability Test\nMIME-Version: 1.0\nContent-Type: text/plain; charset=UTF-8\nContent-Transfer-Encoding: 7bit\n\nPingability Test\n.\n250 OK id=1YnZB5-0006N0-Nd\nQUIT\n221 smtp.server.com closing connection\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 332, "user_id": 1558160, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b8aa66a43d6ea08b5ee57fdf38afb5d?s=128&d=identicon&r=PG", "display_name": "Spice", "link": "https://stackoverflow.com/users/1558160/spice"}, "edited": false, "score": 1, "creation_date": 1430338115, "post_id": 29953493, "comment_id": 48027806, "body": "I think the issue is that you&#39;re using <code>extend</code>, which expects an iterable. Use <code>testset.append(i)</code> and see how it goes."}, {"owner": {"reputation": 759, "user_id": 3399373, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ntxSQ.png?s=128&g=1", "display_name": "Navith", "link": "https://stackoverflow.com/users/3399373/navith"}, "edited": false, "score": 0, "creation_date": 1430338161, "post_id": 29953493, "comment_id": 48027828, "body": "Does the order matter here? You could just do <code>testset = set(file)</code>"}, {"owner": {"reputation": 18948, "user_id": 3051961, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/b81cbd6deac24f756452266ff2e8d3ce?s=128&d=identicon&r=PG", "display_name": "ZdaR", "link": "https://stackoverflow.com/users/3051961/zdar"}, "edited": false, "score": 0, "creation_date": 1430338171, "post_id": 29953493, "comment_id": 48027832, "body": "<code>&#39;chocolate&#39;, &#39;vanilla&#39;, ... etc. </code> are on same line ?"}], "answers": [{"tags": [], "owner": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "is_accepted": false, "score": 0, "last_activity_date": 1430338833, "last_edit_date": 1430338833, "creation_date": 1430338200, "answer_id": 29953568, "question_id": 29953493, "link": "https://stackoverflow.com/questions/29953493/python-not-iterating-by-line-with-readlines/29953568#29953568", "title": "python not iterating by line with readlines()", "body": "<p>You can think of <code>extend</code> as <code>append</code> for an an iterable of values rather than just one. Because you plan to use a counter to counter the files anyway, I would do the following to key the unique values:</p>\n\n<pre><code>with open('text.txt') as text:\n    data = Counter(i for i in text) # try data.keys()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 435647, "user_id": 367273, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/f1ed2b0c87f602ef30229f5c4b04eff6?s=128&d=identicon&r=PG", "display_name": "NPE", "link": "https://stackoverflow.com/users/367273/npe"}, "is_accepted": true, "score": 1, "last_activity_date": 1430338204, "creation_date": 1430338204, "answer_id": 29953569, "question_id": 29953493, "link": "https://stackoverflow.com/questions/29953493/python-not-iterating-by-line-with-readlines/29953569#29953569", "title": "python not iterating by line with readlines()", "body": "<p><code>extend()</code> iterates over the elements (in this case, the characters) of its argument, and adds each of the them individually to the list. Use <code>append()</code> instead:</p>\n\n<pre><code>    testset.append(i)\n</code></pre>\n\n<p>If you don't care about the order in which the lines appear in <code>testset</code>, you could use a set instead of a list. The following one-liner will create a set containing every unique line in the file:</p>\n\n<pre><code>testset = set(open('icecream.txt'))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6285, "user_id": 450517, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85fd0ad3cf21fa3cc00abe39b356618c?s=128&d=identicon&r=PG&f=1", "display_name": "knitti", "link": "https://stackoverflow.com/users/450517/knitti"}, "is_accepted": false, "score": 0, "last_activity_date": 1430338250, "last_edit_date": 1495539813, "creation_date": 1430338250, "answer_id": 29953583, "question_id": 29953493, "link": "https://stackoverflow.com/questions/29953493/python-not-iterating-by-line-with-readlines/29953583#29953583", "title": "python not iterating by line with readlines()", "body": "<p>EDIT: look at <a href=\"https://stackoverflow.com/a/29953569/450517\">NPE's answer</a>: it's basically the same, but more elegant and pythonic.</p>\n\n<p>Try reading and splitting and reducing in one go:</p>\n\n<pre><code>textset = set(file.read().split('\\n'))\n</code></pre>\n"}], "owner": {"reputation": 103, "user_id": 4808496, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7366a072bb2ce9096527eced56052961?s=128&d=identicon&r=PG&f=1", "display_name": "lslak", "link": "https://stackoverflow.com/users/4808496/lslak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "accepted_answer_id": 29953569, "answer_count": 3, "score": 1, "last_activity_date": 1430338833, "creation_date": 1430338014, "question_id": 29953493, "link": "https://stackoverflow.com/questions/29953493/python-not-iterating-by-line-with-readlines", "title": "python not iterating by line with readlines()", "body": "<p>I have a text file with just strings on each row. I want to get python to look at a row and then check if that string is in a list and if it is not add it, else skip to next line. Later I will use collections to count total occurrences of each list item. </p>\n\n<pre><code>testset = ['2']\n# '2' is just a \"sanity check\" value that lets me know I am extending list\n\nfile = open('icecream.txt')\n\nfilelines = file.readlines()\n\nfor i in filelines:\n    if i not in testset:\n    testset.extend(i)\nelse:\n    print(i, \"is already in set\")\n\nprint(testset)\n</code></pre>\n\n<p>I was expecting to get:</p>\n\n<pre><code>testset = ['2', 'chocolate', 'vanilla', 'AmericaConeDream', 'cherrygarcia', ...]\n</code></pre>\n\n<p>instead I got:</p>\n\n<pre><code>testset = ['2', 'c', 'h', 'o', 'c', 'o' ....]        \n</code></pre>\n\n<p>Not sure what is happening here. I have tried to run this using:\n    for i in file:</p>\n\n<p>As I believe I read on another post that the open() was a iterator in and of itself. Can someone enlighten me as to how I get this iteration to work?</p>\n"}, {"tags": ["python", "django"], "comments": [{"owner": {"reputation": 45398, "user_id": 873145, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0ab6f2836e0722ea0cbfeb97a74f131d?s=128&d=identicon&r=PG", "display_name": "Thomas Orozco", "link": "https://stackoverflow.com/users/873145/thomas-orozco"}, "edited": false, "score": 1, "creation_date": 1430338284, "post_id": 29953463, "comment_id": 48027907, "body": "You&#39;re not using <code>data</code> in <code>get</code>. Is it intentional? Note that your code seems a bit unusual overall, you might want to explain what you&#39;re trying to do in more detail."}], "answers": [{"comments": [{"owner": {"reputation": 9, "user_id": 4848103, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d77b0794b115e9d8c7ee02683299b67?s=128&d=identicon&r=PG&f=1", "display_name": "Dobra Osoba", "link": "https://stackoverflow.com/users/4848103/dobra-osoba"}, "edited": false, "score": 0, "creation_date": 1430338984, "post_id": 29953650, "comment_id": 48028320, "body": "Thanks. Can you make this, but for normal function, not get? I don&#39;t understand args, kwargs.. I must use: GetUserData.getData(&quot;dsa&quot;) - Your code is not work - the same problem."}], "tags": [], "owner": {"reputation": 591, "user_id": 4322765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/665a11627004e33257f798782e9e2a19?s=128&d=identicon&r=PG&f=1", "display_name": "Mikeec3", "link": "https://stackoverflow.com/users/4322765/mikeec3"}, "is_accepted": false, "score": 0, "last_activity_date": 1430338468, "creation_date": 1430338468, "answer_id": 29953650, "question_id": 29953463, "link": "https://stackoverflow.com/questions/29953463/python-django-user-object-not-found/29953650#29953650", "title": "Python django - user object not found", "body": "<p>do this</p>\n\n<pre><code>from django.views import generic\nclass GetUserData(generic.View):\n    def get(self, *args, **kwargs):\n        user = self.request.user\n        if user.username:\n            myuser = UserData.objects.filter(username=user.username)\n            if myuser:\n                print 'coo'\n            else:\n                print 'nope'\n</code></pre>\n\n<p>If the data is coming from Get request then do this:</p>\n\n<pre><code>get_data = self.request.GET  # Parse get set after then blammo\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "is_accepted": false, "score": 1, "last_activity_date": 1430340533, "creation_date": 1430340533, "answer_id": 29954243, "question_id": 29953463, "link": "https://stackoverflow.com/questions/29953463/python-django-user-object-not-found/29954243#29954243", "title": "Python django - user object not found", "body": "<p>The whole piece of code is unnecessary. <code>self.user</code> is <em>already</em> an instance of User. There's absolutely no point getting that user's username and using that to query the User model again: you'd just get back the exact same data you started with. </p>\n\n<p>Just use <code>self.user</code> directly.</p>\n"}], "owner": {"reputation": 9, "user_id": 4848103, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d77b0794b115e9d8c7ee02683299b67?s=128&d=identicon&r=PG&f=1", "display_name": "Dobra Osoba", "link": "https://stackoverflow.com/users/4848103/dobra-osoba"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 738, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1430340533, "creation_date": 1430337916, "question_id": 29953463, "link": "https://stackoverflow.com/questions/29953463/python-django-user-object-not-found", "title": "Python django - user object not found", "body": "<p>I have this class in views.py</p>\n\n<pre><code>class getUserData:\n    def get(self, data):\n        try:\n            if self.user.username:\n                user = UserData.objects.get(Username=self.user.username)\n        except ObjectDoesNotExist:\n            print(\"Error!\")\n</code></pre>\n\n<p>and..</p>\n\n<pre><code>def CheckUserData(request):\n    if not getUserData().get('ddd') \n      dsada\n</code></pre>\n\n<p>On PyCharm - windows - its all ok. On Ubuntu show me error: getUserData instance has no attribute 'user'</p>\n\n<p>Please help</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 18948, "user_id": 3051961, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/b81cbd6deac24f756452266ff2e8d3ce?s=128&d=identicon&r=PG", "display_name": "ZdaR", "link": "https://stackoverflow.com/users/3051961/zdar"}, "edited": false, "score": 0, "creation_date": 1430338315, "post_id": 29953448, "comment_id": 48027923, "body": "Can&#39;t all the sequence be adjusted in one line, I mean like, can&#39;t the sequence 1 be represented in one line instead of 6-7 lines ?, is that a result of text warping or you have the same exact format of your file ?  have you created this file by yourself or this is an already created file ?"}, {"owner": {"reputation": 45398, "user_id": 873145, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0ab6f2836e0722ea0cbfeb97a74f131d?s=128&d=identicon&r=PG", "display_name": "Thomas Orozco", "link": "https://stackoverflow.com/users/873145/thomas-orozco"}, "edited": false, "score": 1, "creation_date": 1430338460, "post_id": 29953448, "comment_id": 48028001, "body": "You really should give Biopython a try. Here&#39;s come content to get you started: <a href=\"https://github.com/peterjc/biopython_workshop/blob/master/reading_sequence_files/README.rst\" rel=\"nofollow noreferrer\">github.com/peterjc/biopython_workshop/blob/master/&hellip;</a>"}, {"owner": {"reputation": 21, "user_id": 4765954, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de968cce8b9e2d86a50bbfc4b084546c?s=128&d=identicon&r=PG&f=1", "display_name": "Paul", "link": "https://stackoverflow.com/users/4765954/paul"}, "edited": false, "score": 0, "creation_date": 1430339836, "post_id": 29953448, "comment_id": 48028801, "body": "The text file is how I recieved it."}, {"owner": {"reputation": 6953, "user_id": 778533, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/XEGLp.jpg?s=128&g=1", "display_name": "tommy.carstensen", "link": "https://stackoverflow.com/users/778533/tommy-carstensen"}, "edited": false, "score": 0, "creation_date": 1432108804, "post_id": 29953448, "comment_id": 48780500, "body": "Do any of the answers below answer your question? You should accept one of them."}], "answers": [{"tags": [], "owner": {"reputation": 142, "user_id": 350737, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ff17030e0dd7274c713aabef0cd1544a?s=128&d=identicon&r=PG", "display_name": "pjsofts", "link": "https://stackoverflow.com/users/350737/pjsofts"}, "is_accepted": false, "score": 0, "last_activity_date": 1430340417, "last_edit_date": 1430340417, "creation_date": 1430340000, "answer_id": 29954083, "question_id": 29953448, "link": "https://stackoverflow.com/questions/29953448/python-finding-longest-sequence-from-fasta-file/29954083#29954083", "title": "Python- Finding longest sequence from fasta file?", "body": "<pre><code>file = open('fasta.txt','r')\ncurrent_string=\"\"\ncurrent_name =\"\"\nmax = -1000\nfor line in file:\n    if line.startswith(\"&gt;GNOM\"):\n        #last sequence ended:\n        if len(current_string) &gt; max :\n            max = len(current_string)\n            max_name = current_name\n\n        #start reading a new sequence:\n        current_name = line\n        current_string=\"\"\n    else:\n        current_string+=line.strip(\"\\n\")\nprint max_name, max    \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1070, "user_id": 4611565, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fd88fff8452fa651234c79d26068cac?s=128&d=identicon&r=PG&f=1", "display_name": "manu190466", "link": "https://stackoverflow.com/users/4611565/manu190466"}, "is_accepted": false, "score": 1, "last_activity_date": 1430341580, "last_edit_date": 1430341580, "creation_date": 1430340623, "answer_id": 29954269, "question_id": 29953448, "link": "https://stackoverflow.com/questions/29953448/python-finding-longest-sequence-from-fasta-file/29954269#29954269", "title": "Python- Finding longest sequence from fasta file?", "body": "<p>You should use regexp to split your sequences as follow.    </p>\n\n<pre><code>import re\n\nF=open('fasta.txt','r')\n\nre_seq=re.compile('&gt;GNOM\\s(\\d+)\\ssequence\\s(\\d+)\\n((?:\\w*\\n)*)')\n\nnumlist=[]\nlenlist=[]\n\nfor occurence in re_seq.finditer(F.read()):\n    gnom,num,seq=occurence.groups()\n    numlist.append(num)\n    lenlist.append(len(seq))\n    print gnom,num,len(seq)\n\nmaxl=max(lenlist)\n\nprint \"max length :\",maxl\n\nfor num,length in zip(numlist,lenlist):\n   if length==maxl:\n      maxnum=num\n\nprint \"max number :\",maxnum\n</code></pre>\n\n<p>This give me, from an extract of your file :</p>\n\n<p>373 1 538<br>\n373 2 606<br>\n373 3 743<br>\nmax length : 743<br>\nmax number : 3  </p>\n"}, {"tags": [], "owner": {"reputation": 2341, "user_id": 2225444, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/1d5a3f96e4d79bac13f2349c70f75aa0?s=128&d=identicon&r=PG", "display_name": "Turtles Are Cute", "link": "https://stackoverflow.com/users/2225444/turtles-are-cute"}, "is_accepted": false, "score": 0, "last_activity_date": 1430343309, "last_edit_date": 1430343309, "creation_date": 1430342937, "answer_id": 29954943, "question_id": 29953448, "link": "https://stackoverflow.com/questions/29953448/python-finding-longest-sequence-from-fasta-file/29954943#29954943", "title": "Python- Finding longest sequence from fasta file?", "body": "<p>I agree with Thomas' comment; there's no need to reinvent the wheel. Here's how to do it with BioPython: Start by running 'pip install biopython' in a terminal.</p>\n\n<pre><code>from Bio import SeqIO\n\n\nmax_len = 0\nmax_description = \"\"\n\nfor record in SeqIO.parse('fasta.txt', \"fasta\"):\n    if len(record) &gt; max_len:\n        max_len = len(record)\n        max_description = record.description\n\nprint(max_description)\nprint(max_len)\n</code></pre>\n\n<p>This prints: </p>\n\n<pre><code>GNOM 373 sequence 15\n775\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 441, "user_id": 4245867, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4aa32241ed92abeb47f2573759e3c073?s=128&d=identicon&r=PG&f=1", "display_name": "Ivan Castro", "link": "https://stackoverflow.com/users/4245867/ivan-castro"}, "is_accepted": false, "score": -1, "last_activity_date": 1430344586, "creation_date": 1430344586, "answer_id": 29955305, "question_id": 29953448, "link": "https://stackoverflow.com/questions/29953448/python-finding-longest-sequence-from-fasta-file/29955305#29955305", "title": "Python- Finding longest sequence from fasta file?", "body": "<p>Easy!</p>\n\n<pre><code>#In python 2.7\nreading = open('fasta.txt', 'r').readlines()\nlength = 0\nindex_seq = 0\nfor index, line in enumerate(reading):\n    if not line.startswith('&gt;'):\n        if len(line) &gt; result:\n            result = len(line)\n            index_seq = index\nprint reading[index_seq-1] #This give you the name of the sequence\nprint reading[index]       #This give you the sequence\nprint result               #This give you the length of the sequence\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 7205659, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0DDdt.jpg?s=128&g=1", "display_name": "Allen Kao", "link": "https://stackoverflow.com/users/7205659/allen-kao"}, "is_accepted": false, "score": 0, "last_activity_date": 1479998080, "last_edit_date": 1495539958, "creation_date": 1479998080, "answer_id": 40789008, "question_id": 29953448, "link": "https://stackoverflow.com/questions/29953448/python-finding-longest-sequence-from-fasta-file/40789008#40789008", "title": "Python- Finding longest sequence from fasta file?", "body": "<p>Similar with <a href=\"https://stackoverflow.com/users/2225444/turtles-are-cute\">Turtles Are Cute</a> by Biopython but uses <code>Bio.SeqIO.to_dict()</code>, and sorts the fasta by sequence length:</p>\n\n<pre><code># Finding_longest_sequence_from_fasta_file.py\nfrom Bio import SeqIO\n\nwith open(\"fasta.txt\", \"rU\") as handle:\n    record_dict = SeqIO.to_dict(SeqIO.parse(handle, \"fasta\"))\n\nfor id in sorted(record_dict, key=lambda id: len(record_dict[id].seq), reverse=True):\n    print id, len(record_dict[id].seq)\n    print record_dict[id].format(\"fasta\")\n    break\n</code></pre>\n\n<p>The link to <code>fasta.txt</code> doesn't work anymore, so here with my example:</p>\n\n<p><code>$ cat fasta.txt</code></p>\n\n<pre><code>&gt;A\nATCGGTCGAA\n&gt;B\nATGGTCTACATAGCTGACAAACAGCACGTAGCAATCGGTCGAATCTCGAGAGGCATATGGTCACATGATCGGTCGAGCGTGTTTCAAAGTTTGCGCCTAG\n&gt;C\nATCGGTCGAGCGTGT\n</code></pre>\n\n<p><code>$ python Finding_longest_sequence_from_fasta_file.py</code></p>\n\n<pre><code>B 100\n&gt;B\nATGGTCTACATAGCTGACAAACAGCACGTAGCAATCGGTCGAATCTCGAGAGGCATATGG\nTCACATGATCGGTCGAGCGTGTTTCAAAGTTTGCGCCTAG\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 4765954, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de968cce8b9e2d86a50bbfc4b084546c?s=128&d=identicon&r=PG&f=1", "display_name": "Paul", "link": "https://stackoverflow.com/users/4765954/paul"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3542, "favorite_count": 0, "answer_count": 5, "score": 2, "last_activity_date": 1479998080, "creation_date": 1430337893, "question_id": 29953448, "link": "https://stackoverflow.com/questions/29953448/python-finding-longest-sequence-from-fasta-file", "title": "Python- Finding longest sequence from fasta file?", "body": "<p>I need to make a program that prints out the name and length of the longest sequence in a fasta file. </p>\n\n<p>(Note: this is an example file, I need to make a program that works for any number of sequences in a fasta file)</p>\n\n<p><a href=\"http://www.pastebin.ca/2985638\" rel=\"nofollow\">Here's the fasta file I'm working with (I named it 'fasta.txt')</a></p>\n\n<p>So I'm still a beginner with python, so I don't know many tricks to opening files and such.</p>\n\n<p>I was going to treat this as a regular text file, opening it and turning it into a list. I messed around with how I could get the length of the first sequence and such, but I don't know how I could get the lengths of the other sequences and compare them effectively.</p>\n\n<pre><code>file = open('fasta.txt','r')\nfile = file.read().split('\\n')\n</code></pre>\n\n<p>Could anyone help me get started? I just can't get a foothold on this problem. Again, I'm a beginner, and previous google attempts pointed towards using 'biopython' which I've never learned in class, so i'd like something a bit simpler.</p>\n\n<p>Anything that could help me get started would be greatly appreciated!</p>\n"}, {"tags": ["python", "login", "python-requests"], "answers": [{"tags": [], "owner": {"reputation": 4138, "user_id": 4157666, "user_type": "registered", "accept_rate": 66, "profile_image": "https://graph.facebook.com/806799884/picture?type=large", "display_name": "Mpizos Dimitris", "link": "https://stackoverflow.com/users/4157666/mpizos-dimitris"}, "is_accepted": false, "score": 0, "last_activity_date": 1540391358, "last_edit_date": 1540391358, "creation_date": 1430389336, "answer_id": 29965186, "question_id": 29953362, "link": "https://stackoverflow.com/questions/29953362/cant-login-to-a-website-using-request-package/29965186#29965186", "title": "Can&#39;t login to a website using request package", "body": "<p>By using this code:</p>\n\n<pre><code>with requests.Session() as s:\np = s.post(urlLogin, data=payload)\nprint(p.text)\n</code></pre>\n\n<p>the output was:</p>\n\n<pre><code>[ArgumentException]: The parameters dictionary contains a null entry for parameter &amp;#39;remmemberMe&amp;#39; of non-nullable type &amp;#39;System.Boolean&amp;#39; for method &amp;#39;System.Web.Mvc.ActionResult LogOn(System.String, System.String, Boolean)&amp;#39; in &amp;#39;SalesOptimizer.Controllers.AuthorizationController&amp;#39;. An optional parameter must be a reference type, a nullable type, or be declared as an optional parameter.\nParameter name: parameters\n</code></pre>\n\n<p>which means that I had to add one more variable to payload. The code becomes:</p>\n\n<pre><code> payload = {\n            'username':\"a_username\",\n            'password':\"a_password\",\n            'remmemberMe': True\n            }\n\n with requests.Session() as s:\n            p = s.post(urlLogin, data=payload)\n</code></pre>\n\n<p>This was the answer.(The new problem is that the output gives a text that the password is not correct. Could it be that the password contains these characters <code>* &gt;</code> ? I can login through web with this username and password.)</p>\n"}], "owner": {"reputation": 4138, "user_id": 4157666, "user_type": "registered", "accept_rate": 66, "profile_image": "https://graph.facebook.com/806799884/picture?type=large", "display_name": "Mpizos Dimitris", "link": "https://stackoverflow.com/users/4157666/mpizos-dimitris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 648, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1540391385, "creation_date": 1430337608, "last_edit_date": 1540391385, "question_id": 29953362, "link": "https://stackoverflow.com/questions/29953362/cant-login-to-a-website-using-request-package", "title": "Can&#39;t login to a website using request package", "body": "<p>I am new to to web scraping. I am trying to login to a site using the following code:</p>\n\n<pre><code>urlLogin = 'https://b*********.****n.dk/Authorization/LogOn'\nurlData = 'https://b*********.****n.dk//Search/Index'\npayload = {\n'UserName':'{{username}}',\n'Password':'{{a_password}}'\n}\n\nwith requests.Session() as s:\n    s.post(urlLogin, data=payload)\n    r = s.get(urlData)\n</code></pre>\n\n<p>And I get the following error:</p>\n\n<pre><code>    Traceback (most recent call last):\n  File \"C:\\Python34\\lib\\site-packages\\requests\\packages\\urllib3\\connectionpool.py\", line 372, in _make_request\n    httplib_response = conn.getresponse(buffering=True)\nTypeError: getresponse() got an unexpected keyword argument 'buffering'\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Python34\\lib\\site-packages\\requests\\packages\\urllib3\\connectionpool.py\", line 544, in urlopen\n    body=body, headers=headers)\n  File \"C:\\Python34\\lib\\site-packages\\requests\\packages\\urllib3\\connectionpool.py\", line 374, in _make_request\n    httplib_response = conn.getresponse()\n  File \"C:\\Python34\\lib\\http\\client.py\", line 1162, in getresponse\n    raise ResponseNotReady(self.__state)\nhttp.client.ResponseNotReady: Request-sent\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Python34\\lib\\site-packages\\requests\\adapters.py\", line 370, in send\n    timeout=timeout\n  File \"C:\\Python34\\lib\\site-packages\\requests\\packages\\urllib3\\connectionpool.py\", line 597, in urlopen\n    _stacktrace=sys.exc_info()[2])\n  File \"C:\\Python34\\lib\\site-packages\\requests\\packages\\urllib3\\util\\retry.py\", line 245, in increment\n    raise six.reraise(type(error), error, _stacktrace)\n  File \"C:\\Python34\\lib\\site-packages\\requests\\packages\\urllib3\\packages\\six.py\", line 309, in reraise\n    raise value.with_traceback(tb)\n  File \"C:\\Python34\\lib\\site-packages\\requests\\packages\\urllib3\\connectionpool.py\", line 544, in urlopen\n    body=body, headers=headers)\n  File \"C:\\Python34\\lib\\site-packages\\requests\\packages\\urllib3\\connectionpool.py\", line 374, in _make_request\n    httplib_response = conn.getresponse()\n  File \"C:\\Python34\\lib\\http\\client.py\", line 1162, in getresponse\n    raise ResponseNotReady(self.__state)\nrequests.packages.urllib3.exceptions.ProtocolError: ('Connection aborted.', ResponseNotReady('Request-sent',))\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:/Users/Dimitrios/Documents/Dimitris_general/Python/WindCompaniesProject/EnterData.py\", line 16, in &lt;module&gt;\n    r = s.get(urlData)\n  File \"C:\\Python34\\lib\\site-packages\\requests\\sessions.py\", line 477, in get\n    return self.request('GET', url, **kwargs)\n  File \"C:\\Python34\\lib\\site-packages\\requests\\sessions.py\", line 465, in request\n    resp = self.send(prep, **send_kwargs)\n  File \"C:\\Python34\\lib\\site-packages\\requests\\sessions.py\", line 594, in send\n    history = [resp for resp in gen] if allow_redirects else []\n  File \"C:\\Python34\\lib\\site-packages\\requests\\sessions.py\", line 594, in &lt;listcomp&gt;\n    history = [resp for resp in gen] if allow_redirects else []\n  File \"C:\\Python34\\lib\\site-packages\\requests\\sessions.py\", line 196, in resolve_redirects\n    **adapter_kwargs\n  File \"C:\\Python34\\lib\\site-packages\\requests\\sessions.py\", line 573, in send\n    r = adapter.send(request, **kwargs)\n  File \"C:\\Python34\\lib\\site-packages\\requests\\adapters.py\", line 415, in send\n    raise ConnectionError(err, request=request)\nrequests.exceptions.ConnectionError: ('Connection aborted.', ResponseNotReady('Request-sent',))\n</code></pre>\n\n<p>What could be the reason? A lot of tutorials are proposing this way to do it and it seems that it doesn't work in my case.</p>\n"}, {"tags": ["python", "jinja2", "template-engine", "cookiecutter"], "comments": [{"owner": {"reputation": 7774, "user_id": 1418794, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31bcb9dbf79206cd64b50c09cdd456d8?s=128&d=identicon&r=PG", "display_name": "doru", "link": "https://stackoverflow.com/users/1418794/doru"}, "edited": false, "score": 0, "creation_date": 1430395808, "post_id": 29953348, "comment_id": 48054308, "body": "Have you read the jinja2 <a href=\"http://jinja.pocoo.org/docs/dev/api/#writing-filters\" rel=\"nofollow noreferrer\">docs</a>?"}, {"owner": {"reputation": 1280, "user_id": 307272, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/e844T.png?s=128&g=1", "display_name": "Jos&#233; Ricardo", "link": "https://stackoverflow.com/users/307272/jos%c3%a9-ricardo"}, "reply_to_user": {"reputation": 7774, "user_id": 1418794, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31bcb9dbf79206cd64b50c09cdd456d8?s=128&d=identicon&r=PG", "display_name": "doru", "link": "https://stackoverflow.com/users/1418794/doru"}, "edited": false, "score": 0, "creation_date": 1430408477, "post_id": 29953348, "comment_id": 48063838, "body": "Yes, using the filter decorators didn&#39;t work nor adding to a new enviroment&#39;s filter dict. I must be missing something."}], "owner": {"reputation": 1280, "user_id": 307272, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/e844T.png?s=128&g=1", "display_name": "Jos&#233; Ricardo", "link": "https://stackoverflow.com/users/307272/jos%c3%a9-ricardo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 406, "favorite_count": 1, "answer_count": 0, "score": 5, "last_activity_date": 1441650374, "creation_date": 1430337556, "last_edit_date": 1441650374, "question_id": 29953348, "link": "https://stackoverflow.com/questions/29953348/how-to-add-a-custom-filter-for-use-in-a-cookiecutter-template", "title": "How to add a custom filter for use in a cookiecutter template?", "body": "<p>how can I add a custom filter to be used in a jinja template used by cookiecutter?</p>\n\n<p>I tried adding using a pre_gen_project hook, it's called, but I can't find a way to make my python functions visible as jinja filters (or function) inside the templates.</p>\n"}, {"tags": ["python", "scikit-learn", "logistic-regression"], "comments": [{"owner": {"reputation": 4083, "user_id": 3303546, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/1Xh6f.jpg?s=128&g=1", "display_name": "Cecilia", "link": "https://stackoverflow.com/users/3303546/cecilia"}, "edited": false, "score": 0, "creation_date": 1430338189, "post_id": 29953338, "comment_id": 48027842, "body": "Why do you want to use a semi-supervised method? Do you not have enough labeled ground truth?"}, {"owner": {"reputation": 11, "user_id": 3605292, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6210f67584648ac02d4e70cf2a760e44?s=128&d=identicon&r=PG&f=1", "display_name": "sunils.05", "link": "https://stackoverflow.com/users/3605292/sunils-05"}, "reply_to_user": {"reputation": 4083, "user_id": 3303546, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/1Xh6f.jpg?s=128&g=1", "display_name": "Cecilia", "link": "https://stackoverflow.com/users/3303546/cecilia"}, "edited": false, "score": 0, "creation_date": 1430440548, "post_id": 29953338, "comment_id": 48079591, "body": "No, I don&#39;t have much labelled data. In fact only 20% of the data is labelled. Thus, I wanted to try something that gives me the advantage of both supervised as well as semi-supervised."}, {"owner": {"reputation": 23147, "user_id": 676634, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/84f619d24e0f165f2ee36db34a911c4a?s=128&d=identicon&r=PG", "display_name": "Andreas Mueller", "link": "https://stackoverflow.com/users/676634/andreas-mueller"}, "edited": false, "score": 0, "creation_date": 1430704173, "post_id": 29953338, "comment_id": 48160318, "body": "A simple approach is self-training, where you retrain your classifier on previous predictions. That is really simple to implement based of the LogisticRegression classifier you have. You could also try a transductive SVM, which is however not implemented in scikit-learn."}], "owner": {"reputation": 11, "user_id": 3605292, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6210f67584648ac02d4e70cf2a760e44?s=128&d=identicon&r=PG&f=1", "display_name": "sunils.05", "link": "https://stackoverflow.com/users/3605292/sunils-05"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 747, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1430337507, "creation_date": 1430337507, "question_id": 29953338, "link": "https://stackoverflow.com/questions/29953338/logistic-regression-as-a-semi-supervised-classifier", "title": "Logistic Regression as a Semi-Supervised Classifier", "body": "<p>I am experimenting with text classification for multiple classes in Python. I am using the SciKit-Learn package which has most of the classifiers in-built. I had experimented with different classifiers and Logistic Regression seems to give the best result (accuracy >74%)at the moment. Now as a next step I want to test if I can use Logistic regression as a semi-supervised classifier. Reason being, I tried the label-propagation classifier in built in Scikit-Learn and it doesn't do well in terms of accuracy (&lt;57%) for the five classes I have. Now I wanted to check if any one has used logistic regression classifier as a semi-supervised classifier or not? Also is there a way to tweak the Scikit Learn package to achieve the above. Any directions on how to go about the above would be much appreciated.</p>\n"}, {"tags": ["python", "google-app-engine", "google-cloud-storage"], "comments": [{"owner": {"reputation": 8978, "user_id": 1351600, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2noZs.jpg?s=128&g=1", "display_name": "Paul Collingwood", "link": "https://stackoverflow.com/users/1351600/paul-collingwood"}, "edited": false, "score": 2, "creation_date": 1430380635, "post_id": 29953327, "comment_id": 48044489, "body": "perhaps do a partial get, and write each block to GCS, then stitch them all together?"}, {"owner": {"reputation": 5359, "user_id": 246801, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/54ac1ed63d1eb6bfc3eb0d89a8c2e135?s=128&d=identicon&r=PG", "display_name": "Zach Young", "link": "https://stackoverflow.com/users/246801/zach-young"}, "reply_to_user": {"reputation": 8978, "user_id": 1351600, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2noZs.jpg?s=128&g=1", "display_name": "Paul Collingwood", "link": "https://stackoverflow.com/users/1351600/paul-collingwood"}, "edited": false, "score": 0, "creation_date": 1430445917, "post_id": 29953327, "comment_id": 48080860, "body": "@PaulCollingwood: thank you for the suggestion, it worked! :) See my answer below."}], "answers": [{"comments": [{"owner": {"reputation": 14220, "user_id": 136598, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/55c76f58f63ba7cbb85658158b3a82f8?s=128&d=identicon&r=PG&f=1", "display_name": "gaefan", "link": "https://stackoverflow.com/users/136598/gaefan"}, "edited": false, "score": 1, "creation_date": 1430449828, "post_id": 29980653, "comment_id": 48081713, "body": "I&#39;m curious if you can avoid needing the larger instance if you write each chunk immediately to GCS (in the while loop) instead of writing them all at the end."}, {"owner": {"reputation": 4932, "user_id": 1037753, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/16171e0d57d12b30006d90dfb4e43909?s=128&d=identicon&r=PG", "display_name": "konqi", "link": "https://stackoverflow.com/users/1037753/konqi"}, "edited": false, "score": 0, "creation_date": 1430732708, "post_id": 29980653, "comment_id": 48170726, "body": "This is pretty cool. I wonder if you could do this in parallel? Once you have the length from the HEAD request you could start tasks in a queue and allow a couple of them in parallel. You might even combine with resumable uploads (<a href=\"https://cloud.google.com/storage/docs/concepts-techniques#resumable\" rel=\"nofollow noreferrer\">cloud.google.com/storage/docs/concepts-techniques#resumable</a>&zwnj;&#8203;) so you wouldn&#39;t need to stitch the files at the end."}], "tags": [], "owner": {"reputation": 5359, "user_id": 246801, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/54ac1ed63d1eb6bfc3eb0d89a8c2e135?s=128&d=identicon&r=PG", "display_name": "Zach Young", "link": "https://stackoverflow.com/users/246801/zach-young"}, "is_accepted": true, "score": 3, "last_activity_date": 1430946974, "last_edit_date": 1430946974, "creation_date": 1430445870, "answer_id": 29980653, "question_id": 29953327, "link": "https://stackoverflow.com/questions/29953327/can-appengine-pull-in-data-over-32mb/29980653#29980653", "title": "Can AppEngine *pull* in data over 32MB?", "body": "<p>Following Paul Collingwood's advice, I came up with the following.</p>\n\n<p>I decided not to write chunks to GCS and then stitch them back together.  Instead I chose to do it all in-memory, but I might change that depending on resource costs (had to run an F4@512MB to avoid exceeding an F2's 256MB soft limit).</p>\n\n<pre><code>def get(self):\n    # Work with GAE's 32MB-per-request limit, set to 30MB to stay under\n    RANGE = 30*(1024**2)\n\n    url = self.request.get('url')\n    request = urllib2.Request(url)\n\n    request.get_method = lambda: 'HEAD'\n    response = urllib2.urlopen(request)\n    info = response.info()\n    logging.debug('Downloading {}B video'.format(info.get('Content-length')))\n\n    request.get_method = lambda: 'GET'\n    _buffer = ''\n    start = 0\n    while True:\n        end = start + RANGE\n        request.headers['Range'] = 'bytes={}-{}'.format(start, end)\n        logging.debug('Buffering bytes {} to {}'.format(start, end))\n        _bytes = urllib2.urlopen(request, timeout=60).read()\n        _buffer += _bytes\n        logging.info('Buffered bytes {} to {}'.format(start, end))\n\n        # If there are less bytes than requested then all bytes\n        # have been received, break to avoid an HTTP 416\n        if len(_bytes) &lt; (end - start):\n            break\n\n        start += (RANGE + 1)\n\n    filename = '/MY-BUCKET/video/test_large.mp4'\n    with gcs.open(filename, 'w', content_type='video/mp4') as f:\n        f.write(_buffer)\n    logging.info('Wrote {}B video to GCS'.format(len(_buffer)))\n</code></pre>\n\n<p>Which looks something like this in the logs:</p>\n\n<pre><code>DEBUG    2015-05-01 02:02:00,947 video.py:27] Buffering bytes 0 to 31457280\nINFO     2015-05-01 02:02:11,625 video.py:30] Buffered bytes 0 to 31457280\nDEBUG    2015-05-01 02:02:11,625 video.py:27] Buffering bytes 31457281 to 62914561\nINFO     2015-05-01 02:02:22,768 video.py:30] Buffered bytes 31457281 to 62914561\nDEBUG    2015-05-01 02:02:22,768 video.py:27] Buffering bytes 62914562 to 94371842\nINFO     2015-05-01 02:02:32,920 video.py:30] Buffered bytes 62914562 to 94371842\n...\nWriting to GCS\n...\nINFO     2015-05-01 02:02:41,274 video.py:42] Wrote 89635441B video to GCS\n</code></pre>\n\n<p><strong>Update, 6/May/15</strong></p>\n\n<p>Along the lines of Kekito's suggestion, I moved the GCS write into the loop, keeping the file handle open for the entire duration.</p>\n\n<pre><code>url = self.request.get('url')\n\nrequest = urllib2.Request(url)\nrequest.get_method = lambda: 'HEAD'\nresponse = urllib2.urlopen(request)\ninfo = response.info()\ncontent_length = int(info.get('Content-length'))\nlogging.debug('Downloading {}B video'.format(content_length))\n\ndel(info)\ndel(response)\ndel(request)\n\nrequest = urllib2.Request(url)\nstart = 0\nfilename = '/MY-BUCKET/video/test_large.mp4'\nf = gcs.open(filename, 'w', content_type='video/mp4')\nwhile True:\n    end = start + RANGE\n    request.headers['Range'] = 'bytes={}-{}'.format(start, end)\n\n    f.write(urllib2.urlopen(request, timeout=60).read())\n\n    if end &gt;= content_length:\n        break\n\n    start = end + 1\n\nf.close()\n</code></pre>\n\n<p>Following the advice <a href=\"https://mail.python.org/pipermail/python-list/2008-January/483475.html\" rel=\"nofollow noreferrer\">here</a>, I used <code>top</code> to monitor the Python processes running the GAE local dev server, started an upload, and recorded the memory footprints between download-and-upload cycles.</p>\n\n<p>I also experimented with changing how big a chunk is processed at a time: dropping the chunk size from 30 MB to 20 MB reduced the max memory usage by ~50 MB.  In the following chart a 560 MB file is being ingested, and I'm trying to track:</p>\n\n<ol>\n<li><strong>GC</strong>: the lowest memory usage, while <code>urlopen()</code> is <strong>G</strong>etting the <strong>C</strong>hunk of data</li>\n<li><strong>WC</strong>: the peak memory usage, while <code>f.write()</code> is <strong>W</strong>riting the <strong>C</strong>hunk to GCS</li>\n</ol>\n\n<p><img src=\"https://i.stack.imgur.com/Ay9Yo.png\" alt=\"enter image description here\"></p>\n\n<p>The 20-MB-Chunk-Test maxes out at 230 MB while the 30-MB-Chunk-Test maxes out at 281 MB.  So, I could run an instance at only 256 MB, but will probably feel better running at 512 MB.  I might also try a smaller chunk size.</p>\n"}], "owner": {"reputation": 5359, "user_id": 246801, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/54ac1ed63d1eb6bfc3eb0d89a8c2e135?s=128&d=identicon&r=PG", "display_name": "Zach Young", "link": "https://stackoverflow.com/users/246801/zach-young"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 274, "favorite_count": 0, "accepted_answer_id": 29980653, "answer_count": 1, "score": 1, "last_activity_date": 1430948928, "creation_date": 1430337476, "last_edit_date": 1430948928, "question_id": 29953327, "link": "https://stackoverflow.com/questions/29953327/can-appengine-pull-in-data-over-32mb", "title": "Can AppEngine *pull* in data over 32MB?", "body": "<p>I'm writing an API that needs to ingest HD videos (at least 100MB).  I only have access to the videos through an HTTP XML feed, so I can only <em>pull</em> the videos (with a GET) once I have the video's URL.  The plan is to store the videos in GCS.</p>\n\n<p>But I'm running into the 32MB-per-request limit in AppEngine before I can upload/write to GCS.</p>\n\n<p>Is there a GAE-way around these two limitations:</p>\n\n<ol>\n<li>Needs to be a GET that AppEngine can initiate</li>\n<li>Needs to be able to get the data into GCS </li>\n</ol>\n\n<p>I know of Amazon S3, if I must go outside of Google Cloud products, but I don't know if that can be configured to pull in large data.</p>\n\n<p>Thank you.</p>\n"}, {"tags": ["python", "file-handling", "traceback"], "comments": [{"owner": {"reputation": 606, "user_id": 4522412, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/b2cc64e4f4955ff0c07b7a2a93a24ec3?s=128&d=identicon&r=PG&f=1", "display_name": "bladexeon", "link": "https://stackoverflow.com/users/4522412/bladexeon"}, "edited": false, "score": 1, "creation_date": 1430337549, "post_id": 29953312, "comment_id": 48027515, "body": "can you post the full error?"}, {"owner": {"reputation": 18948, "user_id": 3051961, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/b81cbd6deac24f756452266ff2e8d3ce?s=128&d=identicon&r=PG", "display_name": "ZdaR", "link": "https://stackoverflow.com/users/3051961/zdar"}, "edited": false, "score": 0, "creation_date": 1430337554, "post_id": 29953312, "comment_id": 48027521, "body": "Traceback ? what ? which recent call ?"}, {"owner": {"reputation": 73, "user_id": 4076679, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/be568342e03dfa5e60a977ebab969c87?s=128&d=identicon&r=PG&f=1", "display_name": "gulliver", "link": "https://stackoverflow.com/users/4076679/gulliver"}, "reply_to_user": {"reputation": 606, "user_id": 4522412, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/b2cc64e4f4955ff0c07b7a2a93a24ec3?s=128&d=identicon&r=PG&f=1", "display_name": "bladexeon", "link": "https://stackoverflow.com/users/4522412/bladexeon"}, "edited": false, "score": 0, "creation_date": 1430337866, "post_id": 29953312, "comment_id": 48027673, "body": "that is the full error - i&#39;ve edited my post with a screenshot. @bladexeon"}, {"owner": {"reputation": 69452, "user_id": 953482, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/T3HH6.png?s=128&g=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/953482/kevin"}, "edited": false, "score": 0, "creation_date": 1430337975, "post_id": 29953312, "comment_id": 48027725, "body": "Are you sure the edit went through? I don&#39;t see any screenshot, and there&#39;s only the original version on the post revisions page."}, {"owner": {"reputation": 73, "user_id": 4076679, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/be568342e03dfa5e60a977ebab969c87?s=128&d=identicon&r=PG&f=1", "display_name": "gulliver", "link": "https://stackoverflow.com/users/4076679/gulliver"}, "reply_to_user": {"reputation": 18948, "user_id": 3051961, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/b81cbd6deac24f756452266ff2e8d3ce?s=128&d=identicon&r=PG", "display_name": "ZdaR", "link": "https://stackoverflow.com/users/3051961/zdar"}, "edited": false, "score": 0, "creation_date": 1430338002, "post_id": 29953312, "comment_id": 48027741, "body": "that&#39;s the whole thing @anmol_uppal! i&#39;ve posted a screenshot on the original post."}, {"owner": {"reputation": 69452, "user_id": 953482, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/T3HH6.png?s=128&g=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/953482/kevin"}, "edited": false, "score": 0, "creation_date": 1430338085, "post_id": 29953312, "comment_id": 48027791, "body": "Ok, I see it now, thanks :-) This looks like IDLE being weird as usual. Try running your script from the command line. You will probably get a more informative error message."}, {"owner": {"reputation": 69452, "user_id": 953482, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/T3HH6.png?s=128&g=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/953482/kevin"}, "edited": false, "score": 0, "creation_date": 1430338613, "post_id": 29953312, "comment_id": 48028101, "body": "If you&#39;re on Windows, you open the command prompt by going to the start menu, choosing &quot;run&quot;, entering &quot;cmd&quot; into the text box, and pressing OK. Then you navigate to the directory containing your script; <code>cd foldername</code> to move down into a folder, <code>cd ..</code> to move out. Then you execute the script with <code>python your_script_name.py</code>."}, {"owner": {"user_type": "does_not_exist", "display_name": "user559633"}, "edited": false, "score": 0, "creation_date": 1430338913, "post_id": 29953312, "comment_id": 48028282, "body": "@gulliver To get to the command line on OS X: go to the /Applications/Utilities folder on your computer.  Double click &#39;Terminal&#39;, type &#39;python&#39; and hit enter."}, {"owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "edited": false, "score": 0, "creation_date": 1430339701, "post_id": 29953312, "comment_id": 48028733, "body": "@gulliver &quot;That isn&#39;t working&quot; isn&#39;t a solvable problem, unfortunately. We need to know why or how it isn&#39;t working"}, {"owner": {"reputation": 73, "user_id": 4076679, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/be568342e03dfa5e60a977ebab969c87?s=128&d=identicon&r=PG&f=1", "display_name": "gulliver", "link": "https://stackoverflow.com/users/4076679/gulliver"}, "reply_to_user": {"reputation": 69452, "user_id": 953482, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/T3HH6.png?s=128&g=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/953482/kevin"}, "edited": false, "score": 0, "creation_date": 1430343519, "post_id": 29953312, "comment_id": 48030884, "body": "@Kevin - \ti managed it finally, hahaha! i got &quot;Traceback (most recent call last): File &quot;./student.py&quot;, line 108, in &lt;module&gt; name[count].append(data[1]) IndexError: list index out of range&quot;."}], "answers": [{"comments": [{"owner": {"reputation": 73, "user_id": 4076679, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/be568342e03dfa5e60a977ebab969c87?s=128&d=identicon&r=PG&f=1", "display_name": "gulliver", "link": "https://stackoverflow.com/users/4076679/gulliver"}, "edited": false, "score": 0, "creation_date": 1430339599, "post_id": 29953733, "comment_id": 48028673, "body": "i&#39;ve tried this, and it didn&#39;t work for me. i&#39;m struggling to get an actual traceback - i&#39;m a bit of a newbie ahaha!"}, {"owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "reply_to_user": {"reputation": 73, "user_id": 4076679, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/be568342e03dfa5e60a977ebab969c87?s=128&d=identicon&r=PG&f=1", "display_name": "gulliver", "link": "https://stackoverflow.com/users/4076679/gulliver"}, "edited": false, "score": 0, "creation_date": 1430339718, "post_id": 29953733, "comment_id": 48028738, "body": "@gulliver open your terminal and type <code>python3 path&#47;to&#47;your&#47;python&#47;file.py</code>"}, {"owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "reply_to_user": {"reputation": 73, "user_id": 4076679, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/be568342e03dfa5e60a977ebab969c87?s=128&d=identicon&r=PG&f=1", "display_name": "gulliver", "link": "https://stackoverflow.com/users/4076679/gulliver"}, "edited": false, "score": 0, "creation_date": 1430340648, "post_id": 29953733, "comment_id": 48029298, "body": "@gulliver you need to run it with <code>python3</code>, not just <code>python</code>. You&#39;ve written code in Python3 (where the result of the <code>input</code> call is a string), and generally a system <code>python</code> is Python2 (where the result of the <code>input</code> call is a reference to a Python object)"}, {"owner": {"reputation": 73, "user_id": 4076679, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/be568342e03dfa5e60a977ebab969c87?s=128&d=identicon&r=PG&f=1", "display_name": "gulliver", "link": "https://stackoverflow.com/users/4076679/gulliver"}, "edited": false, "score": 0, "creation_date": 1430343489, "post_id": 29953733, "comment_id": 48030863, "body": "i managed it finally, hahaha! sorry about that. i got &quot;Traceback (most recent call last):   File &quot;./student.py&quot;, line 108, in &lt;module&gt;     name[count].append(data[1]) IndexError: list index out of range&quot;."}, {"owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "reply_to_user": {"reputation": 73, "user_id": 4076679, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/be568342e03dfa5e60a977ebab969c87?s=128&d=identicon&r=PG&f=1", "display_name": "gulliver", "link": "https://stackoverflow.com/users/4076679/gulliver"}, "edited": false, "score": 0, "creation_date": 1430343816, "post_id": 29953733, "comment_id": 48031036, "body": "@gulliver whatever line you were on doesn&#39;t contain commas (it might be blank?)"}, {"owner": {"reputation": 73, "user_id": 4076679, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/be568342e03dfa5e60a977ebab969c87?s=128&d=identicon&r=PG&f=1", "display_name": "gulliver", "link": "https://stackoverflow.com/users/4076679/gulliver"}, "edited": false, "score": 0, "creation_date": 1430344014, "post_id": 29953733, "comment_id": 48031117, "body": "the text file i&#39;m using contains the following: lily,wilks,2,1,12 jeremy,james,10,9,8 celery,cabbage,2,6,4 peanut,jenkins,1,3,1 geoff,rey,3,2,3  so it should definitely be able to provide [1]s for all of those, shouldn&#39;t it?"}, {"owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "reply_to_user": {"reputation": 73, "user_id": 4076679, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/be568342e03dfa5e60a977ebab969c87?s=128&d=identicon&r=PG&f=1", "display_name": "gulliver", "link": "https://stackoverflow.com/users/4076679/gulliver"}, "edited": false, "score": 0, "creation_date": 1430345040, "post_id": 29953733, "comment_id": 48031534, "body": "@gulliver unless the last line in your file is blank? Or there are any blank lines in the middle? Or any of a bunch of things that could have happened? You need to debug this on your own"}], "tags": [], "owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "is_accepted": false, "score": 0, "last_activity_date": 1430338733, "creation_date": 1430338733, "answer_id": 29953733, "question_id": 29953312, "link": "https://stackoverflow.com/questions/29953312/traceback-error-when-handling-text-files/29953733#29953733", "title": "Traceback error when handling text files", "body": "<p>The problem begins with the fact that you're opening a file for writing (by using the <code>'a'</code> mode) and then trying to read from it. If you change that to <code>'r+'</code> the problem may solve itself. Without an actual traceback there's no way to know for sure.</p>\n"}], "owner": {"reputation": 73, "user_id": 4076679, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/be568342e03dfa5e60a977ebab969c87?s=128&d=identicon&r=PG&f=1", "display_name": "gulliver", "link": "https://stackoverflow.com/users/4076679/gulliver"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 69, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1430343821, "creation_date": 1430337435, "last_edit_date": 1430343821, "question_id": 29953312, "link": "https://stackoverflow.com/questions/29953312/traceback-error-when-handling-text-files", "title": "Traceback error when handling text files", "body": "<p>I have created this code, which performs a quiz and then writes the result to a text file based on a user input (class).\nAll the file handling code seems sound to me, but when I run the program, I experience a \"Traceback (most recent call last):\nTraceback (most recent call last):\" error, and then the program crashes out.</p>\n\n<p>I just had the same problem with a different bit of code and got an answer, but I have not made the error I made again (trying to write multiple variables to a file at once), so that answer isn't applicable this time.</p>\n\n<pre><code>import random \n\nforename=\"\" \nsurname=\"\"\nclassno=0\nnumberone=0 \nnumbertwo=0\ncorrect=False\nscore=0\nops = [\"+\", \"x\", \"-\"] \n\n\n\nwhile forename == \"\" or forename.isnumeric():\n    forename=input(\"What is your first name? \")\n    if forename == \"\": \n        print(\"You have to enter your first name.\")\n    if forename.isnumeric() == True:\n        print(\"Your name must contain letters.\")\n\nwhile surname == \"\" or surname.isnumeric():\n    surname=input(\"What is your surname? \")\n    if surname == \"\":\n        print(\"You have to enter your name.\")\n    if surname.isnumeric() == True:\n        print(\"Your name must contain letters.\")\n\nwhile classno not in [1,2,3]: \n    while True:\n        try:\n            classno=int(input(\"What class are you in? \"))\n            break\n        except ValueError:\n            print(\"That wasn't right. Please try again.\")\n\n\n\nfor x in range(10): \n    operation=random.choice(ops) \n\nif operation == \"-\": \n    numberone=random.randint(0,10) \n    numbertwo=random.randint(0,numberone)\n\nelif operation == \"x\":\n    numberone=random.randint(0,12)\n    numbertwo=random.randint(0,12) \n\nelse:\n    numberone=random.randint(0,100)\n    numbertwo=random.randint(0,(100-numberone))\n\nwhile True:\n        try:\n            answer=int(input(\"What is \" + str(numberone) + str(operation) + str(numbertwo) + \"? \"))\n            break \n        except ValueError: \n            print(\"Incorrect input. Please try again.\")\n\n\nif operation==\"+\":\n    if answer==numberone+numbertwo:\n        correct=True\n\nelif operation==\"-\":\n    if answer==numberone-numbertwo:\n        correct=True\n\nelse:\n    if answer==numberone*numbertwo:\n        correct=True\n\nif correct==True:\n    print(\"Correct!\")\n    score=score+1\n\nelse:\n    print(\"Wrong!\")\n\ncorrect = False\n\n\n\ninfo = str(forename) + \",\" + str(surname) + \",\" + str(score) + \"\\n\"    \n\n\n\nif classno == 1:\n    file=open(\"class1.txt\", \"a\")\n\nelif classno == 2:\n    file=open(\"class2.txt\", \"a\")\n\nelse:\n    file=open(\"class3.txt\", \"a\")\n\n\nmaxnames = sum(1 for line in file)\nname = [[] for i in range(maxnames)]   #creates empty list\n\n\nfor count in range(maxnames):\n    line = file.readline()   #defines one line\n    line=line.strip(\"\\n\")   #defines where lines end\n    data = line.split(\",\")  #defines each data particle\n\n    name[count].append(data[0])   #puts name in\n    name[count].append(data[1])   #puts scores in\n    name[count].append(data[2])\n    name[count].append(data[3])\n\n\nif forename == name[c][0] and surname == name[c][1]:\n    name[c][4]=name[c][3]\n    name[c][3]=name[c][2]\n    name[c][2]=score\nelse:\n    file.write(info)\n\nfile.close()\n\n\nprint(\"You scored\",score,\"out of 10.\")\n</code></pre>\n\n<p>Here's what I'm seeing: <img src=\"https://i.stack.imgur.com/dH4Yy.png\" alt=\"enter image description here\"></p>\n"}, {"tags": ["python", "sms", "sms-gateway", "gammu"], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 5094140, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-_TKbNA1P-dA/AAAAAAAAAAI/AAAAAAAAA1Y/uMZhmm2v5XA/photo.jpg?sz=128", "display_name": "bgbak", "link": "https://stackoverflow.com/users/5094140/bgbak"}, "is_accepted": false, "score": 0, "last_activity_date": 1436364194, "creation_date": 1436364194, "answer_id": 31295054, "question_id": 29953150, "link": "https://stackoverflow.com/questions/29953150/gammu-receive-sms-message-python-fails/31295054#31295054", "title": "gammu receive sms message python fails", "body": "<p>In the gammu-smsd config file, you can use the file backend which does this for you automatically.</p>\n\n<p>See this example from the gammu documentation\n<a href=\"http://wammu.eu/docs/manual/smsd/config.html#files-service\" rel=\"nofollow\">http://wammu.eu/docs/manual/smsd/config.html#files-service</a></p>\n\n<pre><code>[smsd]\nService = files\nPIN = 1234\nLogFile = syslog\nInboxPath = /var/spool/sms/inbox/\nOutboPpath = /var/spool/sms/outbox/\nSentSMSPath = /var/spool/sms/sent/\nErrorSMSPath = /var/spool/sms/error/\n</code></pre>\n\n<p>Also see options for the file backend to tailor to your needs.\n<a href=\"http://wammu.eu/docs/manual/smsd/config.html#files-backend-options\" rel=\"nofollow\">http://wammu.eu/docs/manual/smsd/config.html#files-backend-options</a></p>\n\n<p>Hope this helps :)</p>\n"}], "owner": {"reputation": 399, "user_id": 1230448, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/b56d01fbe7f141efac5fd285e354c501?s=128&d=identicon&r=PG", "display_name": "Mensur", "link": "https://stackoverflow.com/users/1230448/mensur"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1828, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1436364194, "creation_date": 1430336847, "question_id": 29953150, "link": "https://stackoverflow.com/questions/29953150/gammu-receive-sms-message-python-fails", "title": "gammu receive sms message python fails", "body": "<p>I have found a script on this website <a href=\"http://wammu.eu/docs/manual/smsd/run.html\" rel=\"nofollow\">http://wammu.eu/docs/manual/smsd/run.html</a></p>\n\n<pre><code> #!/usr/bin/python\nimport os\nimport sys\n\nnumparts = int(os.environ['DECODED_PARTS'])\n\n# Are there any decoded parts?\nif numparts == 0:\n  print('No decoded parts!')\n  sys.exit(1)\n\n# Get all text parts\ntext = ''\nfor i in range(1, numparts + 1):\n  varname = 'DECODED_%d_TEXT' % i\n  if varname in os.environ:\n    text = text + os.environ[varname]\n\n# Do something with the text\nf = open('/home/pi/output.txt','w')\nf.write('Number %s have sent text: %s' % (os.environ['SMS_1_NUMBER'], text))\n</code></pre>\n\n<p>And i know that my gammu-smsd is working fine, because i can turn of my ledlamp on raspberry by sending sms to the raspberry, but my question is why is this script failing? nonthing is happening. and when I try to run the script by it self it also fails. </p>\n\n<p>What I would like to do is just receive the sms and then read the content and save the content and phonenumber which sent the sms to a file. </p>\n\n<p>I hope you understand my issue. \nThank you in advance, all the best. </p>\n"}, {"tags": ["python", "flask", "flask-sqlalchemy"], "comments": [{"owner": {"reputation": 4979, "user_id": 2676531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc88aa76113d738e11685389a1409a26?s=128&d=identicon&r=PG", "display_name": "Celeo", "link": "https://stackoverflow.com/users/2676531/celeo"}, "edited": false, "score": 0, "creation_date": 1430336938, "post_id": 29953129, "comment_id": 48027174, "body": "possible duplicate of <a href=\"http://stackoverflow.com/questions/14355499/how-to-model-a-unique-constraint-in-sqlalchemy\">How to model a `UNIQUE` constraint in SQLAlchemy?</a>"}], "answers": [{"comments": [{"owner": {"reputation": 268, "user_id": 2741711, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/7fcd5aaad36c7b6b4fd657cea92afe19?s=128&d=identicon&r=PG&f=1", "display_name": "ipcamit", "link": "https://stackoverflow.com/users/2741711/ipcamit"}, "edited": false, "score": 0, "creation_date": 1430461266, "post_id": 29962468, "comment_id": 48084309, "body": "HI. Whenever i edited any model i did migrate (as explained in mega flask tutorial website) but same problem remained. So taking que from your answer I deleted the old database and started fresh. Now it is working fine! I dont get it. If we migrate wouldnt it update tables accordingly? or unique has to be declared when we first create the data base?"}, {"owner": {"reputation": 6117, "user_id": 2307066, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/8da46eb87f02bc6c4b5f3d4f770bfa56?s=128&d=identicon&r=PG", "display_name": "Bartosz Marcinkowski", "link": "https://stackoverflow.com/users/2307066/bartosz-marcinkowski"}, "reply_to_user": {"reputation": 268, "user_id": 2741711, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/7fcd5aaad36c7b6b4fd657cea92afe19?s=128&d=identicon&r=PG&f=1", "display_name": "ipcamit", "link": "https://stackoverflow.com/users/2741711/ipcamit"}, "edited": false, "score": 0, "creation_date": 1430462967, "post_id": 29962468, "comment_id": 48084786, "body": "It depends on what you use to migrate. The way I do it is: I create  a migration script for sqlalchemy-migrate and I explicitly include &quot;alter table&quot; if I add &quot;UNIQUE&quot; to a column of a model. You could have a totally magic tool that compares the model with database tables and can guess what to do, but you obviously don&#39;t use it :)"}], "tags": [], "owner": {"reputation": 6117, "user_id": 2307066, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/8da46eb87f02bc6c4b5f3d4f770bfa56?s=128&d=identicon&r=PG", "display_name": "Bartosz Marcinkowski", "link": "https://stackoverflow.com/users/2307066/bartosz-marcinkowski"}, "is_accepted": true, "score": 3, "last_activity_date": 1430381702, "creation_date": 1430381702, "answer_id": 29962468, "question_id": 29953129, "link": "https://stackoverflow.com/questions/29953129/flask-sqlalchemy-taking-non-unique-values-for-a-unique-integer/29962468#29962468", "title": "Flask-Sqlalchemy taking non unique values for a &#39;unique&#39; integer", "body": "<p>I suppose you declared <code>email</code> as <code>UNIQUE</code> in the database, but not <code>registration_num</code>. Setting <code>unique=True</code> in the model does not automatically influence the database and SQLAlchemy does not check if there are some rows with that value already. <code>unique=True</code> it is used by <code>create_all</code> or sqlalchemy-migrate.</p>\n"}], "owner": {"reputation": 268, "user_id": 2741711, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/7fcd5aaad36c7b6b4fd657cea92afe19?s=128&d=identicon&r=PG&f=1", "display_name": "ipcamit", "link": "https://stackoverflow.com/users/2741711/ipcamit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1083, "favorite_count": 0, "accepted_answer_id": 29962468, "answer_count": 1, "score": 1, "last_activity_date": 1430381702, "creation_date": 1430336781, "question_id": 29953129, "link": "https://stackoverflow.com/questions/29953129/flask-sqlalchemy-taking-non-unique-values-for-a-unique-integer", "title": "Flask-Sqlalchemy taking non unique values for a &#39;unique&#39; integer", "body": "<p>Consider the following code:</p>\n\n<pre><code>class User(db.Model):\n    id=db.Column(db.Integer,primary_key=True)\n    email=db.Column(db.String,unique=True)\n    name=db.Column(db.String)\n    password=db.Column(db.String)\n    registration_num=db.Column(db.Integer,unique=True)\n\n    def __repr__(self):\n          return \"&lt;Name %r&gt;, &lt;id %r&gt;\" %(self.name,self.id)\n</code></pre>\n\n<p>Here I am trying to create a user with unique email id (later to be used as login id) and unique registration number (later to be used as folder name to save user submitted data). \nWhile email column rejects non unique values, registration_num does not raise any flag no matter how many users i create with same registration number.</p>\n\n<p>Given below is the decorator used for registration page:</p>\n\n<pre><code>@app.route('/register', methods=['GET','POST'])\ndef register():\n    if request.method == 'POST':\n        userpass=request.form[\"password\"]\n        usermail=request.form[\"username\"]\n        nameofuser=request.form[\"name\"]\n        reg_num=int(request.form[\"r_num\"])\n        u=models.User(email=usermail,name=nameofuser,password=userpass,registration_num=reg_num)\n        db.session.add(u)\n        db.session.commit()\n        return redirect(url_for('login'))\n\n    return render_template('register_form.html')\n</code></pre>\n\n<p>What am i doing wrong here?</p>\n"}, {"tags": ["python", "django"], "answers": [{"tags": [], "owner": {"reputation": 591, "user_id": 4322765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/665a11627004e33257f798782e9e2a19?s=128&d=identicon&r=PG&f=1", "display_name": "Mikeec3", "link": "https://stackoverflow.com/users/4322765/mikeec3"}, "is_accepted": false, "score": 0, "last_activity_date": 1430337153, "creation_date": 1430337153, "answer_id": 29953247, "question_id": 29953112, "link": "https://stackoverflow.com/questions/29953112/how-to-use-a-model-from-a-django-project-in-another-python-script/29953247#29953247", "title": "How to use a model from a Django project in another Python script", "body": "<p>You can use sql alchemy</p>\n\n<p>You can add the mainscript as part of the django project</p>\n\n<p>You can serve content using Django Rest Framework, the database connection happens when you access through manage.py, the table is available to anyone with permissions.</p>\n\n<p>tl:dr; You need a connection to said database</p>\n"}, {"tags": [], "owner": {"reputation": 86, "user_id": 3794341, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85732923a69d10d76514df1e7b9351ba?s=128&d=identicon&r=PG&f=1", "display_name": "Manuel Morales", "link": "https://stackoverflow.com/users/3794341/manuel-morales"}, "is_accepted": false, "score": 0, "last_activity_date": 1430338319, "last_edit_date": 1430338319, "creation_date": 1430337414, "answer_id": 29953305, "question_id": 29953112, "link": "https://stackoverflow.com/questions/29953112/how-to-use-a-model-from-a-django-project-in-another-python-script/29953305#29953305", "title": "How to use a model from a Django project in another Python script", "body": "<p>If your django project is within your PYTHONPATH you can access it anywhere otherwise you can import it with importlib.machinery or make a .pth file and specify there the path to your django </p>\n\n<pre><code>import importlib.machinery\nloader = importlib.machinery.SourceFileLoader('modulename', 'path/to/module')\nmodule = loader.load_module()\n</code></pre>\n\n<p>and now you can use module to access your models.py if you used the path to  your django app to load the model</p>\n\n<p>or add it with the sites module</p>\n\n<pre><code>import sites, \nsites.addsitedir('/path/to/your/module.py')\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 81, "user_id": 3314030, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1db03e1e678c674b15afbe5299db917b?s=128&d=identicon&r=PG", "display_name": "TheHermit", "link": "https://stackoverflow.com/users/3314030/thehermit"}, "is_accepted": true, "score": 3, "last_activity_date": 1430338168, "creation_date": 1430338168, "answer_id": 29953550, "question_id": 29953112, "link": "https://stackoverflow.com/questions/29953112/how-to-use-a-model-from-a-django-project-in-another-python-script/29953550#29953550", "title": "How to use a model from a Django project in another Python script", "body": "<p>You need to run django.setup()</p>\n\n<pre><code>import os\nimport django\n\nscript_path = os.path.dirname(__file__)\nos.environ['DJANGO_SETTINGS_MODULE']='myapp.settings'\ndjango.setup()\n</code></pre>\n\n<p>now you can import your models as normal</p>\n"}], "owner": {"reputation": 573, "user_id": 2461857, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/486def6ca605c4f0291d3d97e83984d7?s=128&d=identicon&r=PG&f=1", "display_name": "dr.jekyllandme", "link": "https://stackoverflow.com/users/2461857/dr-jekyllandme"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1176, "favorite_count": 1, "accepted_answer_id": 29953550, "answer_count": 3, "score": 0, "last_activity_date": 1430338319, "creation_date": 1430336704, "question_id": 29953112, "link": "https://stackoverflow.com/questions/29953112/how-to-use-a-model-from-a-django-project-in-another-python-script", "title": "How to use a model from a Django project in another Python script", "body": "<p>I have a directory which contains a Django project with a models.py in which I have defined some models.  I have another directory somewhere else and which has a Python script.  In this script I would like to import one of the models \"Foo\" from models.py.</p>\n\n<p>With the table \"Foo\", I want to create entries, update, get, etc...  How do I go about doing this?</p>\n"}, {"tags": ["python", "installation", "django-south"], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 3943299, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/80fa4aaed3aeb9845b9800bc07b12b1d?s=128&d=identicon&r=PG&f=1", "display_name": "Steve Kyle", "link": "https://stackoverflow.com/users/3943299/steve-kyle"}, "is_accepted": false, "score": 0, "last_activity_date": 1430350396, "creation_date": 1430350396, "answer_id": 29956454, "question_id": 29953095, "link": "https://stackoverflow.com/questions/29953095/encountering-insecureplatformwarning-while-installing-south-for-python-on-termin/29956454#29956454", "title": "Encountering InsecurePlatformWarning while installing South for Python on Terminal", "body": "<p>Your urllib3 is out of date.  Update.</p>\n"}, {"tags": [], "owner": {"reputation": 4478, "user_id": 645491, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/833761cd202c03e01ac63c55021a4eec?s=128&d=identicon&r=PG", "display_name": "TrinitronX", "link": "https://stackoverflow.com/users/645491/trinitronx"}, "is_accepted": false, "score": 0, "last_activity_date": 1447094216, "last_edit_date": 1447094216, "creation_date": 1447092793, "answer_id": 33615491, "question_id": 29953095, "link": "https://stackoverflow.com/questions/29953095/encountering-insecureplatformwarning-while-installing-south-for-python-on-termin/33615491#33615491", "title": "Encountering InsecurePlatformWarning while installing South for Python on Terminal", "body": "<h1>Short answer:</h1>\n\n<p>The <code>InsecurePlatformWarning</code> is due to your Python &amp; <code>urllib3</code> version.</p>\n\n<p>If you don't care about security, just disable the warning:</p>\n\n<pre><code>export PYTHONWARNINGS=\"ignore:A true SSLContext object is not available\"\n</code></pre>\n\n<p>Your <code>Permission denied</code> error looks like a file permissions issue.  The user you are running <code>pip</code> or <code>setuptools</code> as does not have write access to: <code>/Library/Python/2.7/site-packages/south</code>.  It looks like you are on a Mac, so you should either:</p>\n\n<ol>\n<li>Use <code>--user</code> flag for pip, (<strong>recommended</strong>)<br/>i.e.: <code>pip install --user foo-package</code><br/><br/>This will install packages to: <code>/Users/your-username-here/Library/Python/2.7/lib/python/site-packages/</code><br/><strong>Note:</strong> <a href=\"https://www.python.org/dev/peps/pep-0370/\" rel=\"nofollow\">This is your \"per user site-packages directory</a></li>\n<li>Use <code>sudo</code> to install as root: <code>sudo pip install foo-package</code></li>\n<li>Change ownership for <code>/Library/Python/2.7/site-packages</code> to your user (<strong>not recommended</strong>):<br/><code>sudo chown -R your-username-here:wheel /Library/Python/2.7/site-packages</code></li>\n</ol>\n\n<h1>Long answer:</h1>\n\n<p>This warning is given on platforms with older versions of Python where <code>urllib3</code> &amp; <code>requests</code> can't control or do not support some of the SSL options required to ensure a secure connection to the server.</p>\n\n<h2>Affected Versions</h2>\n\n<p>You will probably run into this with: <code>Python &lt;= 2.7.9</code>, <code>urllib3 &gt;= 1.11</code></p>\n\n<h2>urllib3 Documentation</h2>\n\n<p>The <a href=\"http://urllib3.readthedocs.org/en/latest/security.html#insecureplatformwarning\" rel=\"nofollow\"><code>urllib3</code> Documentation</a> explains the error message like this:</p>\n\n<blockquote>\n  <p>New in version 1.11.</p>\n  \n  <p>Certain Python platforms (specifically, versions of Python earlier than 2.7.9) have restrictions in their ssl module that limit the configuration that urllib3 can apply. In particular, this can cause HTTPS requests that would succeed on more featureful platforms to fail, and can cause certain security features to be unavailable.</p>\n  \n  <p>If you encounter this warning, it is strongly recommended you upgrade to a newer Python version, or that you use pyOpenSSL as described in the OpenSSL / PyOpenSSL section.</p>\n  \n  <p>For info about disabling warnings, see Disabling Warnings.</p>\n</blockquote>\n\n<p>Historically, urllib3 had never actually been secure.  The <a href=\"http://urllib3.readthedocs.org/en/latest/security.html#security-verified-https-with-ssl-tls\" rel=\"nofollow\">first heading in the urllib3 docs states this</a>:</p>\n\n<blockquote>\n  <p>Very important fact: By default, urllib3 does not verify HTTPS requests.</p>\n  \n  <p>The historic reason for this is that we rely on httplib for some of the HTTP protocol implementation, and httplib does not verify requests out of the box. This is not a good reason, but here we are.</p>\n  \n  <p>Luckily, it\u2019s not too hard to enable verified HTTPS requests and there are a few ways to do it.</p>\n</blockquote>\n\n<h2>Workarounds</h2>\n\n<h3>Disabling Warnings</h3>\n\n<p>If you just need to silence the warning, there are a couple ways.  The easiest is to just set the <code>PYTHONWARNINGS</code> environment variable before running your python code like this:</p>\n\n<pre><code>export PYTHONWARNINGS=\"ignore:A true SSLContext object is not available\"\n</code></pre>\n\n<p>This should work in Python 2.7+, and you can alternatively use the <code>-W</code> flag for the Python interpreter.</p>\n\n<p>You can also <a href=\"http://urllib3.readthedocs.org/en/latest/security.html#disabling-warnings\" rel=\"nofollow\">Disable Warnings</a> in the code, or with the <code>logging</code> module:</p>\n\n<pre><code># To disable all urllib3 warnings\nimport urllib3\nurllib3.disable_warnings()\n\n# To capture warnings to your own log with the logging module\nlogging.captureWarnings(True)\n</code></pre>\n\n<h3>Installing SNI Support on Older Python</h3>\n\n<p>The <a href=\"http://urllib3.readthedocs.org/en/latest/security.html#installing-urllib3-with-sni-support-and-certificates\" rel=\"nofollow\">urllib3 Documentation shows how to install SNI support</a>:</p>\n\n<blockquote>\n  <p>If you need to use SNI on Python 2.6 or Python 2.7.0-2.7.8, you have to install PyOpenSSL, ndghttpsclient, and pyasn1 separately. Further, to use certifi you have to install it separately. If you know that you want these dependencies when you install urllib3, you can now do:</p>\n</blockquote>\n\n<pre><code>pip install urllib3[secure]\n</code></pre>\n\n<blockquote>\n  <p>Note If you do this on linux, e.g., Ubuntu 14.04, you will need extra system dependencies for PyOpenSSL. Specifically, PyOpenSSL requires cryptography which will require you to install:</p>\n</blockquote>\n\n<pre><code>build-essential\npython-dev\nlibffi-dev\nlibssl-dev\n</code></pre>\n\n<blockquote>\n  <p>The package names may vary depending on the distribution of linux you are using.</p>\n</blockquote>\n\n<h2>More Detailed Technical Information</h2>\n\n<p><a href=\"https://github.com/pypa/pip/issues/2681#issuecomment-92541888\" rel=\"nofollow\">GitHub user dstufft</a> explains in more detail why old versions of Python cannot ensure a secure connection:</p>\n\n<blockquote>\n  <p>Unless you have Python 2.7.9+ or Python 3.2+ urllib3 (via requests) can't control some of the SSL options it needs to in order to ensure a secure connection to the server. In particular:</p>\n  \n  <ul>\n  <li>On Python 2.6, it can't set the ciphers at all so it relies on the platform defaults.</li>\n  <li>It can't disable TLS Compression.</li>\n  <li>It can't disable SSLv3 without having to explicitly pin to TLSv1.0.</li>\n  <li>It can't (along with an OpenSSL that is new enough to support it) tell OpenSSL to prefer a shorter, but still valid certificate chain which makes it hard to remove the weak 1024 bit keys from the trust root without breaking a lot of otherwise valid TLS connections.</li>\n  <li>It doesn't support SNI, which forces a pip compatible repository to use burn a whole IP address just to use TLS, while not strictly related to security it can be the difference between someone using verified TLS and not verified TLS.</li>\n  </ul>\n</blockquote>\n"}], "owner": {"reputation": 17, "user_id": 4530850, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/1f69b11ae55e054bb5b7536bc4bd1066?s=128&d=identicon&r=PG&f=1", "display_name": "Web", "link": "https://stackoverflow.com/users/4530850/web"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1010, "favorite_count": 1, "answer_count": 2, "score": 1, "last_activity_date": 1447094216, "creation_date": 1430336644, "question_id": 29953095, "link": "https://stackoverflow.com/questions/29953095/encountering-insecureplatformwarning-while-installing-south-for-python-on-termin", "title": "Encountering InsecurePlatformWarning while installing South for Python on Terminal", "body": "<p>New to python, I am trying to install south on terminal, yet I kept receiving this error:</p>\n\n<pre><code>error: could not create '/Library/Python/2.7/site-packages/south': Permission denied\n</code></pre>\n\n<p>followed by: </p>\n\n<pre><code> Command \"/usr/bin/python -c \"import setuptools, tokenize;__file__='/private/var/folders/0h/l9sjp7_50kj0581vz9xtwm5w0000gp/T/pip-build-iJUmlt/south/setup.py';exec(compile(getattr(tokenize, 'open', open)(__file__).read().replace('\\r\\n', '\\n'), __file__, 'exec'))\" install --record /var/folders/0h/l9sjp7_50kj0581vz9xtwm5w0000gp/T/pip-Z8bOI8-record/install-record.txt --single-version-externally-managed --compile\" failed with error code 1 in /private/var/folders/0h/l9sjp7_50kj0581vz9xtwm5w0000gp/T/pip-build-iJUmlt/south\n</code></pre>\n\n<p>Is this a security issue? As I have been surfing the net for answers, I have tried to install 'some hidden security features' with this:</p>\n\n<pre><code>pip install requests[security]\n</code></pre>\n\n<p>Or, is this because of the version of python that I'm using?</p>\n\n<p>After many tries, I still ended up with the same error. Can somebody maybe answer this hassle that I am dealing with? Any help will be greatly appreciated!!</p>\n"}, {"tags": ["python", "mysql"], "comments": [{"owner": {"reputation": 19398, "user_id": 775345, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/c6jtG.jpg?s=128&g=1", "display_name": "Robert Moskal", "link": "https://stackoverflow.com/users/775345/robert-moskal"}, "edited": false, "score": 0, "creation_date": 1430343080, "post_id": 29953071, "comment_id": 48030663, "body": "Where is your database located?  You are trying to reach it on localhost.  Is mysql deployed as part of the google app engine app?  I don&#39;t thats&#39; possible."}], "answers": [{"tags": [], "owner": {"reputation": 3399, "user_id": 2509344, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/72e8ebf0e92e791344c33a72e06c42b1?s=128&d=identicon&r=PG&f=1", "display_name": "Adnan Umer", "link": "https://stackoverflow.com/users/2509344/adnan-umer"}, "is_accepted": false, "score": 0, "last_activity_date": 1430421126, "creation_date": 1430421126, "answer_id": 29975876, "question_id": 29953071, "link": "https://stackoverflow.com/questions/29953071/server-internal-error-in-google-app-engine-using-python/29975876#29975876", "title": "Server Internal Error in google app engine using python", "body": "<p>There is no way to use MySQL with Google App Engine. You can use <a href=\"https://cloud.google.com/sql/docs/introduction\" rel=\"nofollow\">GAE Cloud SQL</a> instead.</p>\n"}], "owner": {"reputation": 11, "user_id": 4848003, "user_type": "registered", "profile_image": "https://graph.facebook.com/767622673352787/picture?type=large", "display_name": "Aaqib Nadeem", "link": "https://stackoverflow.com/users/4848003/aaqib-nadeem"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 65, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1430591263, "creation_date": 1430336551, "last_edit_date": 1430591263, "question_id": 29953071, "link": "https://stackoverflow.com/questions/29953071/server-internal-error-in-google-app-engine-using-python", "title": "Server Internal Error in google app engine using python", "body": "<pre><code>import webapp2\nimport mysql.connector\n\nclass MainHandler(webapp2.RequestHandler):\n    def get(self):\n        db=mysql.connector.connect(host=\"localhost\",user=\"root\",password=\"bsit\",database=\"registration\")\n        mycursor=db.cursor()\n        mycursor.execute(\"select * from student\")\n        result=mycursor.fetchall()\n        self.response.write(str(result))\n\napp = webapp2.WSGIApplication([('/', MainHandler)], debug=True)\n</code></pre>\n\n<p><strong>Internal Server Error</strong>\n<em>The server has either erred or is incapable of performing the requested operation.</em></p>\n\n<pre><code>Traceback (most recent call last):\n  File \"C:\\Program Files (x86)\\Google\\google_appengine\\lib\\webapp2-2.5.2\\webapp2.py\", line 1535, in __call__\n    rv = self.handle_exception(request, response, e)\n  File \"C:\\Program Files (x86)\\Google\\google_appengine\\lib\\webapp2-2.5.2\\webapp2.py\", line 1529, in __call__\n    rv = self.router.dispatch(request, response)\n  File \"C:\\Program Files (x86)\\Google\\google_appengine\\lib\\webapp2-2.5.2\\webapp2.py\", line 1278, in default_dispatcher\n    return route.handler_adapter(request, response)\n  File \"C:\\Program Files (x86)\\Google\\google_appengine\\lib\\webapp2-2.5.2\\webapp2.py\", line 1102, in __call__\n    return handler.dispatch()\n  File \"C:\\Program Files (x86)\\Google\\google_appengine\\lib\\webapp2-2.5.2\\webapp2.py\", line 572, in dispatch\n    return self.handle_exception(e, self.app.debug)\n  File \"C:\\Program Files (x86)\\Google\\google_appengine\\lib\\webapp2-2.5.2\\webapp2.py\", line 570, in dispatch\n    return method(*args, **kwargs)\n  File \"C:\\Users\\Aaqib Nadeem\\Desktop\\db-test\\main.py\", line 6, in get\n    db=mysql.connector.connect(host=\"localhost\",user=\"root\",password=\"bsit\",database=\"registration\")\n  File \"C:\\Python27\\lib\\mysql\\connector\\__init__.py\", line 162, in connect\n    return MySQLConnection(*args, **kwargs)\n  File \"C:\\Python27\\lib\\mysql\\connector\\connection.py\", line 129, in __init__\n    self.connect(**kwargs)\n  File \"C:\\Python27\\lib\\mysql\\connector\\connection.py\", line 454, in connect\n    self._open_connection()\n  File \"C:\\Python27\\lib\\mysql\\connector\\connection.py\", line 418, in _open_connection\n    self._do_handshake()\n  File \"C:\\Python27\\lib\\mysql\\connector\\connection.py\", line 141, in _do_handshake\n    packet = self._socket.recv()\n  File \"C:\\Python27\\lib\\mysql\\connector\\network.py\", line 255, in recv_plain\n    errno=2055, values=(self.get_address(), _strioerror(err)))\nOperationalError: 2055: Lost connection to MySQL server at 'localhost:3306', system error: \n</code></pre>\n\n<p>Please provide a solution of this error</p>\n"}, {"tags": ["python", "pycharm"], "comments": [{"owner": {"reputation": 95978, "user_id": 1079354, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/c17dd9cf3e2322be19639e96da9f3eb3?s=128&d=identicon&r=PG", "display_name": "Makoto", "link": "https://stackoverflow.com/users/1079354/makoto"}, "edited": false, "score": 0, "creation_date": 1430336922, "post_id": 29953045, "comment_id": 48027165, "body": "The module is <code>datatypes</code>.  Outside of that, I&#39;m not sure if you have it previously imported and exposed as <code>Datatype</code> in your <code>__init__.py</code> file, so I can&#39;t say that&#39;ll <i>work</i>, but the basic issue is that you were missing an &quot;s&quot;."}], "answers": [{"comments": [{"owner": {"reputation": 23980, "user_id": 1735756, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/SloZJ.jpg?s=128&g=1", "display_name": "Haifeng Zhang", "link": "https://stackoverflow.com/users/1735756/haifeng-zhang"}, "reply_to_user": {"reputation": 13318, "user_id": 1815710, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/dddf39759fed431cd1e8ecad2aa7dc49?s=128&d=identicon&r=PG", "display_name": "Liondancer", "link": "https://stackoverflow.com/users/1815710/liondancer"}, "edited": false, "score": 0, "creation_date": 1430338497, "post_id": 29953076, "comment_id": 48028019, "body": "@Liondancer  did you setup your project interpreter? I tested with python2.7 and 3.4 both work."}, {"owner": {"reputation": 13318, "user_id": 1815710, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/dddf39759fed431cd1e8ecad2aa7dc49?s=128&d=identicon&r=PG", "display_name": "Liondancer", "link": "https://stackoverflow.com/users/1815710/liondancer"}, "edited": false, "score": 0, "creation_date": 1430338624, "post_id": 29953076, "comment_id": 48028109, "body": "So originally this project was using python 3 as the interpreter. I think it was caused because someone built this project in sublime python2 and when I opened it in pycharm with python3 maybe there was some overhead missing. I changed the interpreter to python2 and it actually fixed the issue"}], "tags": [], "owner": {"reputation": 23980, "user_id": 1735756, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/SloZJ.jpg?s=128&g=1", "display_name": "Haifeng Zhang", "link": "https://stackoverflow.com/users/1735756/haifeng-zhang"}, "is_accepted": true, "score": 1, "last_activity_date": 1430338729, "last_edit_date": 1430338729, "creation_date": 1430336559, "answer_id": 29953076, "question_id": 29953045, "link": "https://stackoverflow.com/questions/29953045/autocomplete-importing-with-pycharm/29953076#29953076", "title": "Autocomplete importing with PyCharm", "body": "<p>package name is <code>datatypes</code>, you use <code>from datatype import DataType</code></p>\n\n<p>It should be:</p>\n\n<pre><code>  # imports module datatype\n  from datatypes import datatype as dt\n\n  # uses class DataType\n  dt.DataType\n</code></pre>\n\n<p>Update:</p>\n\n<p><img src=\"https://i.stack.imgur.com/g9heL.png\" alt=\"enter image description here\"></p>\n\n<p><img src=\"https://i.stack.imgur.com/HOt99.png\" alt=\"enter image description here\"></p>\n\n<p>I added another package name <code>test</code> and module <code>datatype.py</code> under it.\nand try all import possibilities, all of them can be imported.\n<img src=\"https://i.stack.imgur.com/zGrdS.png\" alt=\"enter image description here\"></p>\n\n<p>Update:\nYou should check your <code>project interpreter</code> ,click <code>&gt;&gt;File &gt;&gt; Settings &gt;&gt; Project Interpreter</code> </p>\n"}, {"tags": [], "owner": {"reputation": 96, "user_id": 4757893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a7bb7c42d5dffb0202b331f4eeb0728?s=128&d=identicon&r=PG&f=1", "display_name": "JiHong Jang", "link": "https://stackoverflow.com/users/4757893/jihong-jang"}, "is_accepted": false, "score": 2, "last_activity_date": 1430337946, "creation_date": 1430337946, "answer_id": 29953474, "question_id": 29953045, "link": "https://stackoverflow.com/questions/29953045/autocomplete-importing-with-pycharm/29953474#29953474", "title": "Autocomplete importing with PyCharm", "body": "<pre class=\"lang-python prettyprint-override\"><code>from .datatype import DataType\n</code></pre>\n"}], "owner": {"reputation": 13318, "user_id": 1815710, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/dddf39759fed431cd1e8ecad2aa7dc49?s=128&d=identicon&r=PG", "display_name": "Liondancer", "link": "https://stackoverflow.com/users/1815710/liondancer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 317, "favorite_count": 0, "accepted_answer_id": 29953076, "answer_count": 2, "score": 0, "last_activity_date": 1430338729, "creation_date": 1430336433, "last_edit_date": 1430336791, "question_id": 29953045, "link": "https://stackoverflow.com/questions/29953045/autocomplete-importing-with-pycharm", "title": "Autocomplete importing with PyCharm", "body": "<p>How come I can't get rid of these red underlines? And that I can't autocomplete import in PyCharm?</p>\n\n<p>datatype.py:</p>\n\n<pre><code>class DataType:\n    def __init__(self, name):\n        self.name = name\n\n    def set_value(self, value):\n        self.value = value\n\n    def get_value(self):\n        return self.value\n</code></pre>\n\n<p>Here it is being used in <code>address.py</code>:</p>\n\n<p><img src=\"https://i.stack.imgur.com/WlXtp.png\" alt=\"enter image description here\">\n<img src=\"https://i.stack.imgur.com/yaoXp.png\" alt=\"enter image description here\"></p>\n\n<p><img src=\"https://i.stack.imgur.com/X0HK1.png\" alt=\"enter image description here\"></p>\n"}, {"tags": ["python", "cookies", "tornado"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 4847089, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c75d443e39395a9caacc080fd6d30016?s=128&d=identicon&r=PG&f=1", "display_name": "Aeder", "link": "https://stackoverflow.com/users/4847089/aeder"}, "edited": false, "score": 0, "creation_date": 1430338852, "post_id": 29953588, "comment_id": 48028241, "body": "My BaseHandler class has the following code:      <code>class BaseHandler(tornado.web.RequestHandler):         def get_current_user(self):            return self.get_secure_cookie(&quot;user&quot;)</code> Is this what you mean or are you talking aobut something else?"}, {"owner": {"reputation": 865, "user_id": 892369, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21701303a36caabf99d08866eb7356d5?s=128&d=identicon&r=PG", "display_name": "Alex Pertsev", "link": "https://stackoverflow.com/users/892369/alex-pertsev"}, "reply_to_user": {"reputation": 1, "user_id": 4847089, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c75d443e39395a9caacc080fd6d30016?s=128&d=identicon&r=PG&f=1", "display_name": "Aeder", "link": "https://stackoverflow.com/users/4847089/aeder"}, "edited": false, "score": 0, "creation_date": 1430339191, "post_id": 29953588, "comment_id": 48028441, "body": "Ok, next step, can you read plain signed cookie value with handler.get_cookie(&#39;user&#39;)? If you can - your problem with decode_signed_value function: <a href=\"https://github.com/tornadoweb/tornado/blob/master/tornado/web.py#L640\" rel=\"nofollow noreferrer\">github.com/tornadoweb/tornado/blob/master/tornado/web.py#L64&zwnj;&#8203;0</a>"}, {"owner": {"reputation": 1, "user_id": 4847089, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c75d443e39395a9caacc080fd6d30016?s=128&d=identicon&r=PG&f=1", "display_name": "Aeder", "link": "https://stackoverflow.com/users/4847089/aeder"}, "edited": false, "score": 0, "creation_date": 1430340298, "post_id": 29953588, "comment_id": 48029082, "body": "Normal cookies get set normally, but they present the same problem, I cant access their content. Nor can I access the content of signed cookies with the normal <code>get_cookie()</code>"}], "tags": [], "owner": {"reputation": 865, "user_id": 892369, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21701303a36caabf99d08866eb7356d5?s=128&d=identicon&r=PG", "display_name": "Alex Pertsev", "link": "https://stackoverflow.com/users/892369/alex-pertsev"}, "is_accepted": false, "score": 0, "last_activity_date": 1430338260, "creation_date": 1430338260, "answer_id": 29953588, "question_id": 29952986, "link": "https://stackoverflow.com/questions/29952986/how-do-i-set-up-a-secure-cookie-and-then-read-its-content/29953588#29953588", "title": "How do I set up a secure cookie and then read its content?", "body": "<p>You always getting None because of:\n<a href=\"https://github.com/tornadoweb/tornado/blob/master/tornado/web.py#L1084\" rel=\"nofollow\">https://github.com/tornadoweb/tornado/blob/master/tornado/web.py#L1084</a></p>\n\n<p>You need to override your secure methods, and tornado have some examples:\n<a href=\"https://github.com/tornadoweb/tornado/search?utf8=%E2%9C%93&amp;q=get_current_user\" rel=\"nofollow\">https://github.com/tornadoweb/tornado/search?utf8=%E2%9C%93&amp;q=get_current_user</a></p>\n"}], "owner": {"reputation": 1, "user_id": 4847089, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c75d443e39395a9caacc080fd6d30016?s=128&d=identicon&r=PG&f=1", "display_name": "Aeder", "link": "https://stackoverflow.com/users/4847089/aeder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 884, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1430339101, "creation_date": 1430336189, "last_edit_date": 1430339101, "question_id": 29952986, "link": "https://stackoverflow.com/questions/29952986/how-do-i-set-up-a-secure-cookie-and-then-read-its-content", "title": "How do I set up a secure cookie and then read its content?", "body": "<p>I've been looking at <a href=\"http://www.tornadoweb.org/en/stable/guide/security.html?highlight=cookie\" rel=\"nofollow\">Tornado's documentation</a> and they way it says secure cookies should be set.</p>\n\n<p>The example in it manages to successfully set the secure cookie, but I cannot read its contents using <code>get_secure_cookie()</code> and <code>get_current_user()</code> will always return <code>None</code>.</p>\n\n<p>Is there something the documentation failed to explain?</p>\n\n<p>I'm trying to access the username stored in the cookie so that when someone tries to send a message in a web-socket chat it rejects the message if the user is not logged in.</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>This is how my classes look:</p>\n\n<pre><code>class BaseHandler(tornado.web.RequestHandler):\n    def get_current_user(self):\n        return self.get_secure_cookie(\"user\")\n\nclass MainHandler(BaseHandler):\n    def get(self):\n        if not self.current_user:\n            self.redirect(\"/login\")\n            return\n        name = tornado.escape.xhtml_escape(self.current_user)\n        self.write(\"Hello, \" + name)\n\nclass LoginHandler(BaseHandler):\n\n    def post(self):\n        self.set_secure_cookie(\"user\", self.get_body_argument(\"username\"))\n        self.redirect(\"/\")\n</code></pre>\n\n<p>This is the websocket code:</p>\n\n<pre><code>   def open(self):\n        clients.append(self)\n        print(self)\n\n    def on_message(self, message):\n\n        print (\"message:\"+message)\n        username = self.get_current_user()\n        print(username)\n        if not username:\n            self.write_message('{\"author\":\"[SYSTEM]\",\"message\":\"You are not logged in.\"}')\n        else:\n            text = \"placeholder\"\n            message = '{\"author\":\"'+username+'\",\"message\":\"'+text+'\"}'\n            for client in clients:\n                client.write_message(message)\n\n    def on_close(self):\n        clients.remove(self)\n</code></pre>\n"}, {"tags": ["python", "celery"], "comments": [{"owner": {"reputation": 1003, "user_id": 908328, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/44fc35444833ed5d6a92708e8c6538a5?s=128&d=identicon&r=PG", "display_name": "pbhowmick", "link": "https://stackoverflow.com/users/908328/pbhowmick"}, "edited": false, "score": 0, "creation_date": 1430337404, "post_id": 29952975, "comment_id": 48027430, "body": "Did you mean see the stack trace of the caller from the worker?"}, {"owner": {"reputation": 5431, "user_id": 624787, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/10d0082f6312bba553f5907677370bf5?s=128&d=identicon&r=PG", "display_name": "Ross Patterson", "link": "https://stackoverflow.com/users/624787/ross-patterson"}, "reply_to_user": {"reputation": 1003, "user_id": 908328, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/44fc35444833ed5d6a92708e8c6538a5?s=128&d=identicon&r=PG", "display_name": "pbhowmick", "link": "https://stackoverflow.com/users/908328/pbhowmick"}, "edited": false, "score": 0, "creation_date": 1430353452, "post_id": 29952975, "comment_id": 48034521, "body": "@pbhowmick Yes, from the task code as run by the worker."}], "answers": [{"tags": [], "owner": {"reputation": 1003, "user_id": 908328, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/44fc35444833ed5d6a92708e8c6538a5?s=128&d=identicon&r=PG", "display_name": "pbhowmick", "link": "https://stackoverflow.com/users/908328/pbhowmick"}, "is_accepted": true, "score": 1, "last_activity_date": 1430406166, "creation_date": 1430406166, "answer_id": 29971218, "question_id": 29952975, "link": "https://stackoverflow.com/questions/29952975/celery-find-the-task-caller-from-the-task/29971218#29971218", "title": "Celery, find the task caller from the task?", "body": "<p>Short answer is no and that is by design.</p>\n\n<p>Long answer is yes, you can always send in unneeded information to the worker whose sole purpose is to identify the caller and the caller's state.</p>\n"}], "owner": {"reputation": 5431, "user_id": 624787, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/10d0082f6312bba553f5907677370bf5?s=128&d=identicon&r=PG", "display_name": "Ross Patterson", "link": "https://stackoverflow.com/users/624787/ross-patterson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 218, "favorite_count": 0, "accepted_answer_id": 29971218, "answer_count": 1, "score": 0, "last_activity_date": 1430406166, "creation_date": 1430336159, "question_id": 29952975, "link": "https://stackoverflow.com/questions/29952975/celery-find-the-task-caller-from-the-task", "title": "Celery, find the task caller from the task?", "body": "<p>Is it possible to lookup what code called (delay(), apply_async(), apply(), etc.) a task from within the task's code?  Strings would be fine.  Ideally, I would like to get the caller's stack trace.</p>\n"}, {"tags": ["python", "string", "sorting", "integer"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 2, "creation_date": 1430336200, "post_id": 29952950, "comment_id": 48026756, "body": "...with <a href=\"https://docs.python.org/2/library/functions.html#int\" rel=\"nofollow noreferrer\"><code>int</code></a>?"}, {"owner": {"reputation": 694, "user_id": 4628067, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hE2nT.jpg?s=128&g=1", "display_name": "Rod", "link": "https://stackoverflow.com/users/4628067/rod"}, "edited": false, "score": 2, "creation_date": 1430336249, "post_id": 29952950, "comment_id": 48026790, "body": "possible duplicate of <a href=\"http://stackoverflow.com/questions/379906/parse-string-to-float-or-int\">Parse String to Float or Int</a>"}], "answers": [{"comments": [{"owner": {"reputation": 18948, "user_id": 3051961, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/b81cbd6deac24f756452266ff2e8d3ce?s=128&d=identicon&r=PG", "display_name": "ZdaR", "link": "https://stackoverflow.com/users/3051961/zdar"}, "edited": false, "score": 0, "creation_date": 1430336389, "post_id": 29952999, "comment_id": 48026862, "body": "The OP is asking for converting strings to integers."}], "tags": [], "owner": {"reputation": 2289, "user_id": 1664675, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/e9526be62369d44940cded06d9b1f7f8?s=128&d=identicon&r=PG", "display_name": "letsc", "link": "https://stackoverflow.com/users/1664675/letsc"}, "is_accepted": false, "score": -1, "last_activity_date": 1430336405, "last_edit_date": 1430336405, "creation_date": 1430336278, "answer_id": 29952999, "question_id": 29952950, "link": "https://stackoverflow.com/questions/29952950/how-do-i-convert-string-to-integer-in-python/29952999#29952999", "title": "How do I convert string to integer in python?", "body": "<p>Look into the <a href=\"https://docs.python.org/2/library/functions.html#map\" rel=\"nofollow\"><code>map()</code></a> built in function in python</p>\n\n<p>Assuming <code>studentscores</code> is the name of the list, just do</p>\n\n<p><code>map(int,studentscores)</code></p>\n"}, {"tags": [], "owner": {"reputation": 18948, "user_id": 3051961, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/b81cbd6deac24f756452266ff2e8d3ce?s=128&d=identicon&r=PG", "display_name": "ZdaR", "link": "https://stackoverflow.com/users/3051961/zdar"}, "is_accepted": false, "score": 0, "last_activity_date": 1430336699, "last_edit_date": 1430336699, "creation_date": 1430336303, "answer_id": 29953004, "question_id": 29952950, "link": "https://stackoverflow.com/questions/29952950/how-do-i-convert-string-to-integer-in-python/29953004#29953004", "title": "How do I convert string to integer in python?", "body": "<p>your code can be effectively rewritten as :</p>\n\n<pre><code>scorecard = []\nwith open(\"Class1.txt\",\"r\") as marks_file:\n    for scores in marks_file.readlines():\n        scorecard.append(map(int, scores.split(\", \")[1:]))\n</code></pre>\n\n<p>The map function here is used to implement a function over a given list, and for converting a valid string to an integer we use <code>int(\"100\")</code> where <code>\"100\"</code> is a string which is converted to an integer, So we use the map function to do the same over the given set of strings. </p>\n"}, {"comments": [{"owner": {"reputation": 12710, "user_id": 2653390, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/ArNxx.jpg?s=128&g=1", "display_name": "Shashank", "link": "https://stackoverflow.com/users/2653390/shashank"}, "edited": false, "score": 0, "creation_date": 1430337262, "post_id": 29953138, "comment_id": 48027360, "body": "I dislike this approach, since it can&#39;t handle any score over one digit long. I would split by commas instead, treat the first element as a name, and the rest as scores."}, {"owner": {"reputation": 12710, "user_id": 2653390, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/ArNxx.jpg?s=128&g=1", "display_name": "Shashank", "link": "https://stackoverflow.com/users/2653390/shashank"}, "edited": false, "score": 0, "creation_date": 1430338457, "post_id": 29953138, "comment_id": 48027999, "body": "Actually I just realized my comment made no sense, since split produces a list. A better way would be: <code>[[int(word) for word in (word.strip() for word in line.split(&#39;,&#39;)) if word.isdigit()] for line in s.splitlines()]</code> This produces a list of lists of the form: <code>[[2, 7, 3], [9, 6, 4], [8, 1, 5], [1, 4, 7]]</code> But your approach is fine as well :) Upvoting."}, {"owner": {"reputation": 12710, "user_id": 2653390, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/ArNxx.jpg?s=128&g=1", "display_name": "Shashank", "link": "https://stackoverflow.com/users/2653390/shashank"}, "edited": false, "score": 0, "creation_date": 1430338712, "post_id": 29953138, "comment_id": 48028159, "body": "Or, more simply: <code>[[int(word) for word in line.split(&#39;,&#39;) if word.strip().isdigit()] for line in s.splitlines()]</code> This allows each student&#39;s scores to be handled separately in its own list."}], "tags": [], "owner": {"reputation": 16796, "user_id": 1490552, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3V3yR.jpg?s=128&g=1", "display_name": "Adem &#214;zta\u015f", "link": "https://stackoverflow.com/users/1490552/adem-%c3%96zta%c5%9f"}, "is_accepted": false, "score": 2, "last_activity_date": 1430338514, "last_edit_date": 1430338514, "creation_date": 1430336802, "answer_id": 29953138, "question_id": 29952950, "link": "https://stackoverflow.com/questions/29952950/how-do-i-convert-string-to-integer-in-python/29953138#29953138", "title": "How do I convert string to integer in python?", "body": "<pre><code>s = '''Elizabeth, 2, 7, 3\n   ...: Anna, 9, 6, 4\n   ...: Jenny, 8, 1, 5\n   ...: Victoria, 1, 4, 7'''\n[int(word) for line in s.splitlines() for word in line.split(',') if word.strip().isdigit()]\n[2, 7, 3, 9, 6, 4, 8, 1, 5, 1, 4, 7]\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 4798448, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7475fdcce77a426e721d2c229524348e?s=128&d=identicon&r=PG&f=1", "display_name": "Anonymous..", "link": "https://stackoverflow.com/users/4798448/anonymous"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1668, "favorite_count": 0, "answer_count": 3, "score": -4, "last_activity_date": 1430338514, "creation_date": 1430336098, "last_edit_date": 1430336193, "question_id": 29952950, "link": "https://stackoverflow.com/questions/29952950/how-do-i-convert-string-to-integer-in-python", "title": "How do I convert string to integer in python?", "body": "<p>I have a python program for sorting out class scores. My Class1 text file looks like this:</p>\n\n<blockquote>\n  <p>Elizabeth, 2, 7, 3</p>\n  \n  <p>Anna, 9, 6, 4</p>\n  \n  <p>Jenny, 8, 1, 5</p>\n  \n  <p>Victoria, 1, 4, 7</p>\n</blockquote>\n\n<p>This is my code so far:</p>\n\n<pre><code>file=open(\"Class1.txt\",\"r\")\n\nstudentscores= []\n\nfor row in file:\n\n    studentscores.append(row.strip())\n\nstudentscores2=[]\n\nfor item in studentscores:\n\n    studentscores2.append(item.split(\",\"))\n</code></pre>\n\n<p>I'm struggling how to how to convert the string into integers so that I can sort the numbers?\nI would appreciate some help.</p>\n"}, {"tags": ["python", "concurrency", "celery", "eventlet"], "comments": [{"owner": {"reputation": 4852, "user_id": 73957, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/03d48d595e8b576703ed01c55b1c44ea?s=128&d=identicon&r=PG", "display_name": "temoto", "link": "https://stackoverflow.com/users/73957/temoto"}, "edited": false, "score": 1, "creation_date": 1430378189, "post_id": 29952907, "comment_id": 48043062, "body": "Are you going to use OSX in production and if not, could you run same tests on target OS? Also, please, post output of <code>python -V &amp;&amp; pip freeze</code>."}, {"owner": {"reputation": 303, "user_id": 1522443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4517267b08bb0088491aa6a7b1d78672?s=128&d=identicon&r=PG&f=1", "display_name": "Tristan", "link": "https://stackoverflow.com/users/1522443/tristan"}, "reply_to_user": {"reputation": 4852, "user_id": 73957, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/03d48d595e8b576703ed01c55b1c44ea?s=128&d=identicon&r=PG", "display_name": "temoto", "link": "https://stackoverflow.com/users/73957/temoto"}, "edited": false, "score": 0, "creation_date": 1430406702, "post_id": 29952907, "comment_id": 48062396, "body": "@temoto added the results of python -V &amp;&amp; pip freeze! Will try on ubuntu (target OS)"}, {"owner": {"reputation": 4852, "user_id": 73957, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/03d48d595e8b576703ed01c55b1c44ea?s=128&d=identicon&r=PG", "display_name": "temoto", "link": "https://stackoverflow.com/users/73957/temoto"}, "edited": false, "score": 2, "creation_date": 1430407771, "post_id": 29952907, "comment_id": 48063264, "body": "Nothing suspicious so far. Could you also post commands used for speed testing?"}, {"owner": {"reputation": 303, "user_id": 1522443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4517267b08bb0088491aa6a7b1d78672?s=128&d=identicon&r=PG&f=1", "display_name": "Tristan", "link": "https://stackoverflow.com/users/1522443/tristan"}, "reply_to_user": {"reputation": 4852, "user_id": 73957, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/03d48d595e8b576703ed01c55b1c44ea?s=128&d=identicon&r=PG", "display_name": "temoto", "link": "https://stackoverflow.com/users/73957/temoto"}, "edited": false, "score": 0, "creation_date": 1430433731, "post_id": 29952907, "comment_id": 48077579, "body": "We ran various tests that were all over the place from hitting the instagram api to pinging google and they all had similar results in terms of speed. I&#39;m going to add above a specific test we did, though."}, {"owner": {"reputation": 4852, "user_id": 73957, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/03d48d595e8b576703ed01c55b1c44ea?s=128&d=identicon&r=PG", "display_name": "temoto", "link": "https://stackoverflow.com/users/73957/temoto"}, "edited": false, "score": 1, "creation_date": 1430535871, "post_id": 29952907, "comment_id": 48115309, "body": "Can you try to take Celery out of equation? I mean <code>eventlet.GreenPool</code> vs <code>multiprocessing.Pool</code>."}, {"owner": {"reputation": 10451, "user_id": 145349, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/ae23b47de29112b26cccb1a1e51ad3e4?s=128&d=identicon&r=PG", "display_name": "fjsj", "link": "https://stackoverflow.com/users/145349/fjsj"}, "edited": false, "score": 1, "creation_date": 1499360807, "post_id": 29952907, "comment_id": 76885426, "body": "As of 2017 with Celery 4.0.2, I had the same problem. Tested on OSX too. <code>prefork</code> is around 50% better than <code>eventlet</code> in my case. Tasks do very simple Postgres queries and HTTP downloads/uploads."}, {"owner": {"reputation": 1244, "user_id": 5538922, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/GMFH2.jpg?s=128&g=1", "display_name": "bombs", "link": "https://stackoverflow.com/users/5538922/bombs"}, "reply_to_user": {"reputation": 10451, "user_id": 145349, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/ae23b47de29112b26cccb1a1e51ad3e4?s=128&d=identicon&r=PG", "display_name": "fjsj", "link": "https://stackoverflow.com/users/145349/fjsj"}, "edited": false, "score": 0, "creation_date": 1525918212, "post_id": 29952907, "comment_id": 87546974, "body": "@fjsj seems like it&#39;s because you did <b>very simple</b> Postgres queries and HTTP downloads/uploads. Typical situation where <code>Eventlet</code> outperforms prefork is when you have many I/O bound operations such as long latency HTTP requests"}, {"owner": {"reputation": 10451, "user_id": 145349, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/ae23b47de29112b26cccb1a1e51ad3e4?s=128&d=identicon&r=PG", "display_name": "fjsj", "link": "https://stackoverflow.com/users/145349/fjsj"}, "reply_to_user": {"reputation": 1244, "user_id": 5538922, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/GMFH2.jpg?s=128&g=1", "display_name": "bombs", "link": "https://stackoverflow.com/users/5538922/bombs"}, "edited": false, "score": 0, "creation_date": 1526008150, "post_id": 29952907, "comment_id": 87585064, "body": "@DerekKim so it&#39;s optimized for I/O but must be long latency I/O?"}, {"owner": {"reputation": 1244, "user_id": 5538922, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/GMFH2.jpg?s=128&g=1", "display_name": "bombs", "link": "https://stackoverflow.com/users/5538922/bombs"}, "reply_to_user": {"reputation": 10451, "user_id": 145349, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/ae23b47de29112b26cccb1a1e51ad3e4?s=128&d=identicon&r=PG", "display_name": "fjsj", "link": "https://stackoverflow.com/users/145349/fjsj"}, "edited": false, "score": 1, "creation_date": 1526013464, "post_id": 29952907, "comment_id": 87586107, "body": "@fjsj Yes. If your task doesn&#39;t spend much time doing I/O operations, it should be considered <a href=\"https://en.wikipedia.org/wiki/CPU-bound\" rel=\"nofollow noreferrer\">CPU-bound</a> task, not <a href=\"https://en.wikipedia.org/wiki/I/O_bound\" rel=\"nofollow noreferrer\">I/O-bound</a> task, and therefore, it&#39;s hard to show performance boost by utilizing eventlet."}], "answers": [{"comments": [{"owner": {"reputation": 303, "user_id": 1522443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4517267b08bb0088491aa6a7b1d78672?s=128&d=identicon&r=PG&f=1", "display_name": "Tristan", "link": "https://stackoverflow.com/users/1522443/tristan"}, "edited": false, "score": 0, "creation_date": 1526093945, "post_id": 50265255, "comment_id": 87621358, "body": "I posted this question 3 years ago, so hard to confirm on my end, but this answer makes a lot of sense! Thanks for the explanation."}], "tags": [], "owner": {"reputation": 1244, "user_id": 5538922, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/GMFH2.jpg?s=128&g=1", "display_name": "bombs", "link": "https://stackoverflow.com/users/5538922/bombs"}, "is_accepted": true, "score": 3, "last_activity_date": 1525924782, "creation_date": 1525924782, "answer_id": 50265255, "question_id": 29952907, "link": "https://stackoverflow.com/questions/29952907/celery-eventlet-pool-does-not-improve-execution-speed-of-asynchronous-web-requ/50265255#50265255", "title": "Celery + Eventlet pool does not improve execution speed of asynchronous web requests", "body": "<p>Eventlet allows you to have greater concurrency than prefork even without having to write non-blocking style code. Typical situation where Eventlet outperforms prefork is when you have many blocking I/O bound operations(ex. <code>time.sleep</code> or <code>requests.get</code> to high latency website). It seems that your requests to local host or '<a href=\"http://google.com\" rel=\"nofollow noreferrer\">http://google.com</a>' gets responses too fast to be deemed as I/O-bounded.</p>\n\n<p>You can try this toy example to see how Eventlet based pool performs better at I/O bound operations.</p>\n\n<pre class=\"lang-py prettyprint-override\"><code># in tasks.py add this function\nimport time\n\n# ...\n\n@task()\ndef simulate_IO_bound():\n    print(\"Do some IO-bound stuff..\")\n    time.sleep(5)\n</code></pre>\n\n<p>Run the worker the same way and finally produce tasks</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>from tasks import simulate_IO_bound\n\nNUM_REPEAT = 1000\n\nresults = [simulate_IO_bound.apply_async(queue='my') for i in range(NUM_REPEAT)]\nfor result in results:\n    result.get()\n</code></pre>\n\n<p>Let's say you have prefork worker with 100 subprocesses and another worker with 1000 green threads, you will be able to see a dramatic difference.</p>\n"}], "owner": {"reputation": 303, "user_id": 1522443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4517267b08bb0088491aa6a7b1d78672?s=128&d=identicon&r=PG&f=1", "display_name": "Tristan", "link": "https://stackoverflow.com/users/1522443/tristan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1480, "favorite_count": 1, "accepted_answer_id": 50265255, "answer_count": 1, "score": 3, "last_activity_date": 1525924782, "creation_date": 1430335950, "last_edit_date": 1430433891, "question_id": 29952907, "link": "https://stackoverflow.com/questions/29952907/celery-eventlet-pool-does-not-improve-execution-speed-of-asynchronous-web-requ", "title": "Celery + Eventlet pool does not improve execution speed of asynchronous web requests", "body": "<p>As <a href=\"http://celery.readthedocs.org/en/latest/userguide/concurrency/eventlet.html\" rel=\"nofollow\">mentioned in the celery docs</a>, the eventlet pool should be faster than the prefork pool for evented I/O such as asynchronous HTTP requests.</p>\n\n<p>They even mention that </p>\n\n<blockquote>\n  <p>\"In an informal test with a feed hub system the Eventlet pool could\n  fetch and process hundreds of feeds every second, while the prefork\n  pool spent 14 seconds processing 100 feeds.\"</p>\n</blockquote>\n\n<p>However, we are unable to produce any kind of results similar to this. Running the <a href=\"https://github.com/celery/celery/tree/master/examples/eventlet\" rel=\"nofollow\">example tasks</a>, <em>urlopen</em> and <em>crawl</em> exactly as described and opening thousands of urls, it appears that the prefork pool almost always performs better.</p>\n\n<p>We tested with all sorts of concurrencies (prefork with concurrency 200, eventlet with concurrencies 200, 2000, 5000). In all of these cases the tasks complete in fewer seconds using the prefork pool.The machine being run on is a 2014 Macbook Pro with a RabbitMQ server running.</p>\n\n<p>We are looking to make thousands of asynchronous HTTP requests at once and are wondering if the eventlet pool is even worth implementing? If it is, what are we missing?</p>\n\n<p>Result of \n     python -V &amp;&amp; pip freeze\nis:</p>\n\n<pre><code>Python 2.7.6\namqp==1.4.6\nanyjson==0.3.3\nbilliard==3.3.0.20\nbitarray==0.8.1\ncelery==3.1.18\ndnspython==1.12.0\neventlet==0.17.3\ngreenlet==0.4.5\nkombu==3.0.26\npybloom==1.1\npytz==2015.2\nrequests==2.6.2\nwsgiref==0.1.2\n</code></pre>\n\n<p>Test code used (pretty much exactly from the docs):</p>\n\n<pre><code>&gt;&gt;&gt; from tasks import urlopen\n&gt;&gt;&gt; from celery import group\n&gt;&gt;&gt; LIST_OF_URLS = ['http://127.0.0.1'] * 10000 # 127.0.0.1 was just a local web server, also used 'http://google.com' and others\n&gt;&gt;&gt; result = group(urlopen.s(url)\n...                     for url in LIST_OF_URLS).apply_async()\n</code></pre>\n"}, {"tags": ["python", "google-spreadsheet-api", "gspread"], "comments": [{"owner": {"reputation": 3502, "user_id": 1378888, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/ECGgg.jpg?s=128&g=1", "display_name": "eddyparkinson", "link": "https://stackoverflow.com/users/1378888/eddyparkinson"}, "edited": false, "score": 1, "creation_date": 1430352249, "post_id": 29952828, "comment_id": 48034147, "body": "OAuth2 and spreadsheet-api with python <a href=\"https://github.com/asm-products/gridspree\" rel=\"nofollow noreferrer\">github.com/asm-products/gridspree</a> - it works"}], "answers": [{"tags": [], "owner": {"reputation": 630, "user_id": 1269040, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/cab682a6ffb50d9c8bc0054625dd8ce8?s=128&d=identicon&r=PG", "display_name": "sup", "link": "https://stackoverflow.com/users/1269040/sup"}, "is_accepted": false, "score": 1, "last_activity_date": 1430823530, "creation_date": 1430823530, "answer_id": 30051107, "question_id": 29952828, "link": "https://stackoverflow.com/questions/29952828/str-does-not-support-the-buffer-interface-python-3-error-for-oauth/30051107#30051107", "title": "&#39;str&#39; does not support the buffer interface Python 3 error for oauth", "body": "<p>There is a solution in this bug report but I have not tried it myself. <a href=\"https://github.com/burnash/gspread/issues/224\" rel=\"nofollow\">https://github.com/burnash/gspread/issues/224</a></p>\n"}, {"comments": [{"owner": {"reputation": 31108, "user_id": 350351, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/b1a41bbf4677c8961237c4d147e764d6?s=128&d=identicon&r=PG", "display_name": "Daenyth", "link": "https://stackoverflow.com/users/350351/daenyth"}, "edited": false, "score": 0, "creation_date": 1432217243, "post_id": 30375773, "comment_id": 48841884, "body": "&quot;cast&quot; is very inaccurate. You have to <code>encode</code> strings (a sequence of unicode codepoints) into <code>bytes</code> using an encoding (a standard for how to represent codepoints as bytes)"}], "tags": [], "owner": {"reputation": 3384, "user_id": 3805131, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/D2Gzu.jpg?s=128&g=1", "display_name": "tworec", "link": "https://stackoverflow.com/users/3805131/tworec"}, "is_accepted": true, "score": 5, "last_activity_date": 1432217241, "last_edit_date": 1432217241, "creation_date": 1432216320, "answer_id": 30375773, "question_id": 29952828, "link": "https://stackoverflow.com/questions/29952828/str-does-not-support-the-buffer-interface-python-3-error-for-oauth/30375773#30375773", "title": "&#39;str&#39; does not support the buffer interface Python 3 error for oauth", "body": "<p>You are using Python3.x, where <code>string</code> is not the same type as for Python 2.x. You need to cast it to bytes (encode it).</p>\n\n<p>Here is simple solution that works well for me:</p>\n\n<pre><code>credentials = SignedJwtAssertionCredentials(\n            json_key['client_email']\n            , bytes(json_key['private_key'], 'UTF-8')\n            , scope)\n</code></pre>\n"}], "owner": {"reputation": 7836, "user_id": 3646408, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/307b419030c0265f697f1d5d29be439a?s=128&d=identicon&r=PG&f=1", "display_name": "Abhishek Bhatia", "link": "https://stackoverflow.com/users/3646408/abhishek-bhatia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1531, "favorite_count": 0, "accepted_answer_id": 30375773, "answer_count": 2, "score": 5, "last_activity_date": 1432217241, "creation_date": 1430335677, "last_edit_date": 1430343975, "question_id": 29952828, "link": "https://stackoverflow.com/questions/29952828/str-does-not-support-the-buffer-interface-python-3-error-for-oauth", "title": "&#39;str&#39; does not support the buffer interface Python 3 error for oauth", "body": "<pre><code>import json\nimport gspread\nfrom oauth2client.client import SignedJwtAssertionCredentials\n\njson_key = json.load(open('Crowds-9569176f5988.json'))\nscope = ['https://spreadsheets.google.com/feeds']\n\ncredentials = SignedJwtAssertionCredentials(json_key['client_email'], json_key['private_key'], scope)\n#gc = gspread.authorize(credentials)\n</code></pre>\n\n<p>Error:</p>\n\n<pre><code>Traceback (most recent call last):   File \"C:\\Users\\sony\\Desktop\\Python\\new.py\", line 8, in &lt;module&gt;\n    credentials = SignedJwtAssertionCredentials(json_key['client_email'], json_key['private_key'], scope)   File \"C:\\Python34\\lib\\site-packages\\oauth2client\\util.py\", line 137, in positional_wrapper\n    return wrapped(*args, **kwargs)   File \"C:\\Python34\\lib\\site-packages\\oauth2client\\client.py\", line 1469, in\n__init__\n    self.private_key = base64.b64encode(private_key)   File \"C:\\Python34\\lib\\base64.py\", line 62, in b64encode\n    encoded = binascii.b2a_base64(s)[:-1] TypeError: 'str' does not support the buffer interface\n</code></pre>\n\n<p>I tried encode the string using <code>.encode()</code> but <code>gspread.authorize()</code> doesn't support such a type. This is [documentation][1] which is apparently not of much help.\nI am using Python 3.4. I think the documentation code works only for version before 3.</p>\n\n<p><strong>EDIT:</strong></p>\n\n<pre><code>credentials = SignedJwtAssertionCredentials.from_json(json_key['client_email'], json_key['private_key'], scope)\n</code></pre>\n\n<blockquote>\n  <p>Traceback (most recent call last):   File\n  \"C:\\Users\\sony\\Desktop\\Python\\new.py\", line 9, in \n      credentials = SignedJwtAssertionCredentials.from_json(json_key['client_email'],\n  json_key['private_key'], scope) TypeError: from_json() takes 2\n  positional arguments but 4 were given [Finished in 1.0s with exit code\n  1]</p>\n  \n  <p>[1]: <a href=\"http://gspread.readthedocs.org/en/latest/oauth2.html\">http://gspread.readthedocs.org/en/latest/oauth2.html</a></p>\n</blockquote>\n\n<pre><code>credentials = SignedJwtAssertionCredentials.from_json(json_key)\n</code></pre>\n\n<blockquote>\n  <p>Traceback (most recent call last):   File\n  \"C:\\Users\\sony\\Desktop\\Python\\new.py\", line 8, in \n      credentials = SignedJwtAssertionCredentials.from_json(json_key)   File \"C:\\Python34\\lib\\site-packages\\oauth2client\\client.py\", line\n  1479, in from_json\n      data = json.loads(s)   File \"C:\\Python34\\lib\\json__init__.py\", line 312, in loads\n      s.<strong>class</strong>.<strong>name</strong>)) TypeError: the JSON object must be str, not 'dict'</p>\n</blockquote>\n"}, {"tags": ["python", "class", "inheritance", "global-variables"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1430335876, "post_id": 29952827, "comment_id": 48026541, "body": "You are <i>specifically</i> referencing <code>cc_a</code> in the sub-classes; what did you expect would happen?"}, {"owner": {"reputation": 97, "user_id": 4815409, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a31d41b7870965da5320ee78ed261744?s=128&d=identicon&r=PG", "display_name": "Lorenzo Trojan", "link": "https://stackoverflow.com/users/4815409/lorenzo-trojan"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1430335965, "post_id": 29952827, "comment_id": 48026602, "body": "@jonrsharpe: yes, I know, but I can&#39;t call <code>cc_10.set_v1(10)</code> for example as cc_10 is not in its own scope...."}], "answers": [{"tags": [], "owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "is_accepted": false, "score": 0, "last_activity_date": 1430335989, "creation_date": 1430335989, "answer_id": 29952922, "question_id": 29952827, "link": "https://stackoverflow.com/questions/29952827/class-global-variables-for-inheriting-classes/29952922#29952922", "title": "Class global variables for inheriting classes", "body": "<p>For the behaviour you expect, the following would work:</p>\n\n<pre><code>class cc_10(cc_a):\n    v1 = 10\n</code></pre>\n\n<p>This will inherit <code>v2</code> and <code>v3</code> from the superclass, but overrides <code>v1</code>. Alternatively, call <code>set_v1</code> on the subclass <em>after</em> you've finished defining it:</p>\n\n<pre><code>class cc_10(cc_a):\n    pass\n\ncc_10.set_v1(10)\n</code></pre>\n"}], "owner": {"reputation": 97, "user_id": 4815409, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a31d41b7870965da5320ee78ed261744?s=128&d=identicon&r=PG", "display_name": "Lorenzo Trojan", "link": "https://stackoverflow.com/users/4815409/lorenzo-trojan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 101, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1430335989, "creation_date": 1430335673, "question_id": 29952827, "link": "https://stackoverflow.com/questions/29952827/class-global-variables-for-inheriting-classes", "title": "Class global variables for inheriting classes", "body": "<p>I'm trying to create a class with some global parameters that need to be configured using some class method for all instances of the the class and a second class which inherit from the previous class and configure itself using the same configuration method...</p>\n\n<p>Now, this is a bit confusing; here's a first example:</p>\n\n<pre><code>class cc_a(object):\n    v1 = 0\n    v2 = 0\n    v3 = 0\n\n    @classmethod\n    def set_v1(cls, vv = 0):\n        cls.v1 = vv\n\nc1 = cc_a()\nc2 = cc_a()\n\nprint c1.v1, c2.v1\n\nc1.set_v1(100)\n\nprint c1.v1, c2.v1\n</code></pre>\n\n<p>In this first example the code correctly prints <code>0 0</code> before the configuration and <code>100 100</code> after the class configuration, great!</p>\n\n<p>Now, classes inheriting from the prev class should behave in a similar manner, but should not <em>interfere</em> with the original class. Here's another bit of code:</p>\n\n<pre><code>class cc_a(object):\n    v1 = 0\n    v2 = 0\n    v3 = 0\n\n    @classmethod\n    def set_v1(cls, vv = 0):\n        cls.v1 = vv\n\n\nclass cc_10(cc_a):\n    cc_a.set_v1(10)\n\nclass cc_20(cc_a):\n    cc_a.set_v1(20)\n\nc1 = cc_a()\nc2 = cc_10()\nc3 = cc_20()\n\nprint c1.v1, c2.v1, c3.v1\n</code></pre>\n\n<p>this unfortunately prints <code>20 20 20</code> instead of the intended <code>0 10 20</code></p>\n\n<p>Thank you for the help in advance!</p>\n"}, {"tags": ["python", "python-2.7", "csv", "if-statement"], "comments": [{"owner": {"reputation": 1763, "user_id": 457290, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/PRprG.jpg?s=128&g=1", "display_name": "matiasg", "link": "https://stackoverflow.com/users/457290/matiasg"}, "edited": false, "score": 2, "creation_date": 1430335875, "post_id": 29952805, "comment_id": 48026540, "body": "add a <code>print row</code> before the <code>if email_1 in row...</code> line to see what does the problematic row have."}, {"owner": {"reputation": 69452, "user_id": 953482, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/T3HH6.png?s=128&g=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/953482/kevin"}, "edited": false, "score": 0, "creation_date": 1430336298, "post_id": 29952805, "comment_id": 48026814, "body": "If you had different indentation, this would look like the old &quot;iterate over a thing, set a flag if you find something, then after the loop is over, do something based on the state of the flag&quot; recipe. But you&#39;d have to remove two levels of indentation from every line starting at <code>if email_pass == True</code>, and you&#39;d have to get rid of the <code>break</code>."}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 1, "creation_date": 1430336395, "post_id": 29952805, "comment_id": 48026871, "body": "What the error actually means is that there was no second column in the row you were trying to process. I recommend looking over your CSV file to see if there are any rows (such as the last one) that don&#39;t conform to the standard appearance you&#39;re looking for."}, {"owner": {"reputation": 1788, "user_id": 1391376, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/1J4A1.jpg?s=128&g=1", "display_name": "chiffa", "link": "https://stackoverflow.com/users/1391376/chiffa"}, "edited": false, "score": 0, "creation_date": 1430336426, "post_id": 29952805, "comment_id": 48026892, "body": "also <code>if email_1 in row[0]</code> only checks if email_1 is a substring of row[0], not if they are equal. for instance <code>@ in me@example.org</code> would evaluate to <code>True</code>, which is probably not something you want. Same thing for the password."}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1430336910, "post_id": 29952805, "comment_id": 48027155, "body": "Even better (from a cracking perspective) would be for the user to simply hit Enter for their username and password, since the empty string is <code>in</code> any string. <code>==</code> really is necessary here."}], "answers": [{"comments": [{"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 1, "creation_date": 1430336158, "post_id": 29952905, "comment_id": 48026721, "body": "This doesn&#39;t answer the question. An <code>else</code> block that never gets evaluated won&#39;t produce an exception, and the exception in the question refers to a different line."}, {"owner": {"reputation": 6199, "user_id": 2560053, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/64aacb2c26ae0bb85730da51291d0b9b?s=128&d=identicon&r=PG", "display_name": "Thomas Baruchel", "link": "https://stackoverflow.com/users/2560053/thomas-baruchel"}, "reply_to_user": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1430336564, "post_id": 29952905, "comment_id": 48026968, "body": "Yes, that is right, but the indentation issue was so obvious that I wanted to point it out."}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1430336748, "post_id": 29952905, "comment_id": 48027063, "body": "If it&#39;s not an answer, post it as a comment."}, {"owner": {"reputation": 89, "user_id": 4847912, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/5a0dbcd66d527947f3e3679f978f8251?s=128&d=identicon&r=PG&f=1", "display_name": "ThatOnePythonNoob", "link": "https://stackoverflow.com/users/4847912/thatonepythonnoob"}, "edited": false, "score": 0, "creation_date": 1430428864, "post_id": 29952905, "comment_id": 48075523, "body": "Thanks! :) Superb! The only reason I used email_pass was to see whether that would resolve my problem, but turns out, like you said, it was the indentation! :)"}, {"owner": {"reputation": 89, "user_id": 4847912, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/5a0dbcd66d527947f3e3679f978f8251?s=128&d=identicon&r=PG&f=1", "display_name": "ThatOnePythonNoob", "link": "https://stackoverflow.com/users/4847912/thatonepythonnoob"}, "edited": false, "score": 0, "creation_date": 1430499456, "post_id": 29952905, "comment_id": 48102098, "body": "@user2560053 I have tried removing the email_pass, it seems the program doesn&#39;t work without it. Sorry, I&#39;m new to Python, am I making a mistake? Here&#39;s the code: <a href=\"http://gyazo.com/43460279b4cc5daf2b48008a52961b31\" rel=\"nofollow noreferrer\">gyazo.com/43460279b4cc5daf2b48008a52961b31</a>"}, {"owner": {"reputation": 89, "user_id": 4847912, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/5a0dbcd66d527947f3e3679f978f8251?s=128&d=identicon&r=PG&f=1", "display_name": "ThatOnePythonNoob", "link": "https://stackoverflow.com/users/4847912/thatonepythonnoob"}, "edited": false, "score": 0, "creation_date": 1430678305, "post_id": 29952905, "comment_id": 48152974, "body": "@user2560053 Thanks :)"}], "tags": [], "owner": {"reputation": 6199, "user_id": 2560053, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/64aacb2c26ae0bb85730da51291d0b9b?s=128&d=identicon&r=PG", "display_name": "Thomas Baruchel", "link": "https://stackoverflow.com/users/2560053/thomas-baruchel"}, "is_accepted": true, "score": 0, "last_activity_date": 1430335944, "creation_date": 1430335944, "answer_id": 29952905, "question_id": 29952805, "link": "https://stackoverflow.com/questions/29952805/list-index-out-of-range-parsing-csv-file/29952905#29952905", "title": "List index out of range parsing CSV file", "body": "<p>your <code>else</code> statement has a wrong indentation. Where you put it, it well never be reached because you put it inside the block <code>if email_1 in row[0] and pass_1 in row[1]:</code></p>\n\n<p>Just remove the four spaces and it should work.</p>\n\n<p>The <code>email_pass</code> is useless. Do you understand how the conditional structure works?</p>\n"}, {"comments": [{"owner": {"reputation": 69452, "user_id": 953482, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/T3HH6.png?s=128&g=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/953482/kevin"}, "edited": false, "score": 0, "creation_date": 1430336241, "post_id": 29952966, "comment_id": 48026783, "body": "I don&#39;t think <code>row</code> is a string, so it doesn&#39;t have a <code>split</code> method. Iterating over a <code>csv.reader</code> gives you a list of items in each iteration."}, {"owner": {"reputation": 374, "user_id": 2111198, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8cb2938958e1d4e22181c3e85749d4bf?s=128&d=identicon&r=PG&f=1", "display_name": "kstenger", "link": "https://stackoverflow.com/users/2111198/kstenger"}, "reply_to_user": {"reputation": 69452, "user_id": 953482, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/T3HH6.png?s=128&g=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/953482/kevin"}, "edited": false, "score": 0, "creation_date": 1430336376, "post_id": 29952966, "comment_id": 48026854, "body": "Ah, true, I didn&#39;t notice. However, he should check the value of row and what he expects from it."}], "tags": [], "owner": {"reputation": 374, "user_id": 2111198, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8cb2938958e1d4e22181c3e85749d4bf?s=128&d=identicon&r=PG&f=1", "display_name": "kstenger", "link": "https://stackoverflow.com/users/2111198/kstenger"}, "is_accepted": false, "score": 0, "last_activity_date": 1430336619, "last_edit_date": 1430336619, "creation_date": 1430336134, "answer_id": 29952966, "question_id": 29952805, "link": "https://stackoverflow.com/questions/29952805/list-index-out-of-range-parsing-csv-file/29952966#29952966", "title": "List index out of range parsing CSV file", "body": "<p>The probem in your code is not (yet) related to your <code>else</code> statement.</p>\n\n<p>As you can see the error happens when it tries to evaluate the condition for the first <code>if</code>.</p>\n\n<p>This means it can never reach the else because there is another error to take care of before.</p>\n\n<p>You need to check the values of your variables to be sure of what you really want.</p>\n"}], "owner": {"reputation": 89, "user_id": 4847912, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/5a0dbcd66d527947f3e3679f978f8251?s=128&d=identicon&r=PG&f=1", "display_name": "ThatOnePythonNoob", "link": "https://stackoverflow.com/users/4847912/thatonepythonnoob"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 191, "favorite_count": 0, "accepted_answer_id": 29952905, "answer_count": 2, "score": 0, "last_activity_date": 1430336619, "creation_date": 1430335597, "last_edit_date": 1430335727, "question_id": 29952805, "link": "https://stackoverflow.com/questions/29952805/list-index-out-of-range-parsing-csv-file", "title": "List index out of range parsing CSV file", "body": "<p>For my school assignment I have created a program which checks for an EMAIL and PASSWORD found in rows 0 and 1 in a csv file which match up, and will then print some information about that user from rows 2-6. However, I believe this is not necessarily any cause of my problem.</p>\n\n<p>The problem is the else statement.</p>\n\n<p>When a user enters both their EMAIL and PASSWORD correctly the system will print their information. However if the EMAIl and PASSWORD entered don't match up with the ones in the CSV file, I attempted to create an ELSE statement that would print 'Your email or password is incorrect'</p>\n\n<p>However, instead, I would receive this error:</p>\n\n<pre><code>line 12, in &lt;module&gt;\n    if email_1 in row[0] and pass_1 in row[1]:\nIndexError: list index out of range\n</code></pre>\n\n<p>Since I'm new to python, I'm not sure why this is happening, but I don't reckon it is to do with the code above since when details are entered correctly, the program will print the information.</p>\n\n<p>I have tried to make the ELSE statement work without the use of assigning a variable to be TRUE or FALSE, but nor did that work, exactly the same issue. It's just the ELSE statement which it doesn't seem to be recognising.</p>\n\n<p>Code:</p>\n\n<pre><code>import csv\n\nemail_pass = False\nemail_1 = raw_input('What is your email? :')\npass_1 = raw_input('What is your password? :')\nwith open('DATAFILE.csv', \"rb\") as csvfile:\n    my_content = csv.reader(csvfile, delimiter=',')\n    for row in my_content:\n        if email_1 in row[0] and pass_1 in row[1]:\n            email_pass = True\n            if email_pass == True:\n                print row[2:6]\n                break\n            else:\n                print 'Your EMAIL or PASSWORD is incorrect'\n</code></pre>\n"}, {"tags": ["python", "pygame"], "answers": [{"comments": [{"owner": {"reputation": 47, "user_id": 4834719, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh6.googleusercontent.com/-hQO2lHkRDCE/AAAAAAAAAAI/AAAAAAAABSc/D0YCh2IZQ2o/photo.jpg?sz=128", "display_name": "RealoFoxtrot", "link": "https://stackoverflow.com/users/4834719/realofoxtrot"}, "edited": false, "score": 0, "creation_date": 1430343306, "post_id": 29953544, "comment_id": 48030777, "body": "Aha, that&#39;s brilliant. and has gotten the block to stop once it hits the top of the line.  However, it&#39;s not able to jump a second time... any idea why would be apreciated"}, {"owner": {"reputation": 47, "user_id": 4834719, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh6.googleusercontent.com/-hQO2lHkRDCE/AAAAAAAAAAI/AAAAAAAABSc/D0YCh2IZQ2o/photo.jpg?sz=128", "display_name": "RealoFoxtrot", "link": "https://stackoverflow.com/users/4834719/realofoxtrot"}, "edited": false, "score": 0, "creation_date": 1430344292, "post_id": 29953544, "comment_id": 48031227, "body": "Wait. I got it to work by placing the Keydown event before the jump command"}], "tags": [], "owner": {"reputation": 374, "user_id": 2111198, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8cb2938958e1d4e22181c3e85749d4bf?s=128&d=identicon&r=PG&f=1", "display_name": "kstenger", "link": "https://stackoverflow.com/users/2111198/kstenger"}, "is_accepted": true, "score": 1, "last_activity_date": 1430339099, "last_edit_date": 1430339099, "creation_date": 1430338158, "answer_id": 29953544, "question_id": 29952778, "link": "https://stackoverflow.com/questions/29952778/pygame-stopping-movement-behind-line/29953544#29953544", "title": "pygame: Stopping movement behind line", "body": "<pre><code>#the floor landing code\ndef hasJumperLanded(rect1, rect2):\n    for a, b in [(rect1, rect2), (rect2, rect1)]:  ## **\n        if isFloorTouching(a.bottom, b):\n            return True\n</code></pre>\n\n<p>Take a look at the line I marked in this snippet.</p>\n\n<p>Here You are checking the rects to collide both ways.</p>\n\n<p>So you loose the meaning of which one is the floor and which one is moving.</p>\n\n<p>If you just check (rect1, rect2) you will see the difference.</p>\n\n<p>--</p>\n\n<p>EDIT:</p>\n\n<p>Check this out</p>\n\n<pre><code>def hasJumperLanded(rect1, rect2):\n    for a, b in [(rect1, rect2), (rect2, rect1)]:\n        if isFloorTouching(rect1, rect2):\n            return True\n\ndef isFloorTouching(y, rect):\n    if (y.bottom &gt; rect.top) and (y.bottom &lt; rect.bottom):\n        return True\n    else:\n        return False\n</code></pre>\n\n<p>It is more logical to handle the meaning of the floor inside the isFloorTouching() function.</p>\n"}], "owner": {"reputation": 47, "user_id": 4834719, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh6.googleusercontent.com/-hQO2lHkRDCE/AAAAAAAAAAI/AAAAAAAABSc/D0YCh2IZQ2o/photo.jpg?sz=128", "display_name": "RealoFoxtrot", "link": "https://stackoverflow.com/users/4834719/realofoxtrot"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "accepted_answer_id": 29953544, "answer_count": 1, "score": 0, "last_activity_date": 1430339099, "creation_date": 1430335509, "question_id": 29952778, "link": "https://stackoverflow.com/questions/29952778/pygame-stopping-movement-behind-line", "title": "pygame: Stopping movement behind line", "body": "<p>I am attempting to create a game that lets a block move \"jump\" and land on a platform above it. Then, jump again to the next platform.</p>\n\n<p>Unfortunately, my code currently just stops when the block touches the bottom of the platform and moves no further. I am unsure why as i believe it should only stop when the bottom of the block hits the line</p>\n\n<p>Specifically am looking at this bit of code, but full code below for context:</p>\n\n<pre><code>    #the floor landing code\ndef hasJumperLanded(rect1, rect2):\n    for a, b in [(rect1, rect2), (rect2, rect1)]:\n        if isFloorTouching(a.bottom, b):\n            return True\n\ndef isFloorTouching(y, rect):\n    if (y &gt; rect.top) and (y &lt; rect.bottom):\n        return True\n    else:\n        return False\n</code></pre>\n\n<p>snip</p>\n\n<pre><code>    #stop when land on floor\nfor n in range(len(floors)):\n    if (hasJumperLanded(j['rect'], floors[n]['line'])):\n        j['jump'] = STILL\n</code></pre>\n\n<p>Full code context:</p>\n\n<pre><code>import pygame, sys, time\nfrom pygame.locals import *\n\n    #the deadzone collision code\ndef doRectsOverlap(rect1, rect2):\n    for a, b in [(rect1, rect2), (rect2, rect1)]:\n        if ((isPointInsideRect(a.left, a.top, b)) or\n            (isPointInsideRect(a.left, a.bottom, b)) or\n            (isPointInsideRect(a.right, a.top, b)) or\n            (isPointInsideRect(a.right, a.bottom, b))):\n            return True\n\n    return False\n\ndef isPointInsideRect(x, y, rect):\n    if (x &gt; rect.left) and (x &lt; rect.right) and (y &gt; rect.top) and (y &lt; rect.bottom):\n        return True\n    else:\n        return False\n\n\n    #the floor landing code\ndef hasJumperLanded(rect1, rect2):\n    for a, b in [(rect1, rect2), (rect2, rect1)]:\n        if isFloorTouching(a.bottom, b):\n            return True\n\ndef isFloorTouching(y, rect):\n    if (y &gt; rect.top) and (y &lt; rect.bottom):\n        return True\n    else:\n        return False\n\n\n# set up pygame\npygame.init()\nmainClock = pygame.time.Clock()\n\n# set up the window\nWINDOWWIDTH = 480\nWINDOWHEIGHT = 800\nwindowSurface = pygame.display.set_mode((WINDOWWIDTH, WINDOWHEIGHT), 0, 32)\npygame.display.set_caption('Jumper')\n\n#Directions\nLEFT = 4\nRIGHT = 6\nUP = 8\nDOWN = 2\nSTILL = 5\n\n#blocks location for jumping\n#BLOCKLOCY = 700\n\n#Binary for stopping movement\n#STOPPER = 0\n\nMOVESPEED = 1\n\n# set up the colors\nBLACK = (0, 0, 0)\nRED = (255, 0, 0)\nGREEN = (0, 255, 0)\nBLUE = (0, 0, 255)\n\n\nj = {'rect':pygame.Rect(240, 700, 20, 20), 'color':GREEN, 'dir':LEFT, 'jump':STILL}\n\n\nf1 = {'line':pygame.Rect(0,720,480,2), 'color':GREEN, 'dir':STILL}\nf2 = {'line':pygame.Rect(0,650,480,2), 'color':GREEN, 'dir':STILL}\nfloors = [f1,f2]\n\n# run the game loop\nwhile True:\n    # check for the QUIT event\n    for event in pygame.event.get():\n        if event.type == QUIT:\n            pygame.quit()\n            sys.exit()\n\n\n\n    # draw the black background onto the surface\n    windowSurface.fill(BLACK)\n\n\n        # This way or that way. Speed Code\n    if j['dir'] == LEFT:\n        j['rect'].left -= MOVESPEED\n    if j['dir'] == RIGHT:\n        j['rect'].left += MOVESPEED\n\n        #JUST JUMP ALREADY!\n    if j['jump'] == UP:\n        j['rect'].bottom -= MOVESPEED\n        #BLOCKLOCY -= MOVESPEED\n\n        #Bouce when side hitting\n    if j['rect'].left &lt; 0:\n        j['dir'] = RIGHT\n    if j['rect'].left &gt; WINDOWWIDTH-j['rect'].width:\n        j['dir'] = LEFT\n\n        #Press to Jump\n     if event.type == KEYDOWN:\n        if event.key == K_SPACE:\n             j['jump'] = UP\n\n        #stop when land on floor\n    for n in range(len(floors)):\n         if (hasJumperLanded(j['rect'], floors[n]['line'])):\n            j['jump'] = STILL\n\n\n    #Floor controll code for moving level - not working currently\n    for f in floors:\n        #if f['dir'] == DOWN:\n          #  f['line'].y += MOVESPEED\n\n      #  if event.type == KEYDOWN:\n          #  if event.key == K_SPACE:\n              # f['dir'] = DOWN\n\n     #   if f['line'].top == BLOCKLOCY:\n      #      f['dir'] = STILL\n       #     STOPPER = 1\n\n        #if f['line'].bottom == BLOCKLOCY:\n         #   f['dir'] = STILL\n          #  STOPPER = 1\n\n\n\n\n        # draw the block onto the surface\n        pygame.draw.rect(windowSurface, j['color'], j['rect'])\n\n        pygame.draw.rect(windowSurface, f['color'], f['line'])\n\n\n    # draw the window onto the screen\n    pygame.display.update()\n    mainClock.tick(1000)\n</code></pre>\n"}, {"tags": ["python", "opencv", "raspberry-pi", "raspbian", "robotics"], "answers": [{"comments": [{"owner": {"reputation": 24080, "user_id": 1816093, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/ZImpg.jpg?s=128&g=1", "display_name": "Drew", "link": "https://stackoverflow.com/users/1816093/drew"}, "edited": false, "score": 2, "creation_date": 1478494114, "post_id": 40457954, "comment_id": 68161358, "body": "This is a comment not an Answer. Once you get 50 rep you can comment anywhere."}], "tags": [], "owner": {"reputation": 11, "user_id": 7093992, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/c8e1e7817e68f84091cd9a483a6d8d54?s=128&d=identicon&r=PG", "display_name": "user7093992", "link": "https://stackoverflow.com/users/7093992/user7093992"}, "is_accepted": false, "score": 0, "last_activity_date": 1478493648, "creation_date": 1478493648, "answer_id": 40457954, "question_id": 29952691, "link": "https://stackoverflow.com/questions/29952691/error-libraries-raspbian-with-gopigo/40457954#40457954", "title": "Error libraries Raspbian with GoPiGo", "body": "<p>Are you using a virtual environment to run the OpenCV code? If yes then you might have to copy gopigo.py to your virtual environment and run <code>python &lt;filename&gt;</code> to have it working.</p>\n"}], "owner": {"reputation": 41, "user_id": 4837678, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/88b62194cfe501c118d218dba9f4f92e?s=128&d=identicon&r=PG&f=1", "display_name": "Dave", "link": "https://stackoverflow.com/users/4837678/dave"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 679, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1478493648, "creation_date": 1430335247, "last_edit_date": 1430499779, "question_id": 29952691, "link": "https://stackoverflow.com/questions/29952691/error-libraries-raspbian-with-gopigo", "title": "Error libraries Raspbian with GoPiGo", "body": "<p>I am working on a GoPiGo and i'm trying to make this robot to move when the camera detect a circle. </p>\n\n<p>The mainly problem i have here is that when i try to use the gopigo library in order to use functions as fwd(),stop(), etc, if i do NOT use sudo in the command line, and just type \"python CircleDetector_MOVEMENT.py\" it detects the gopigo library, but doesn't detect the picamera.array:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"CircleDetector_MOVEMENT.py\", line 2, in &lt;module&gt;\n    from picamera.array import PiRGBArray\nImportError: No module named picamera.array\n</code></pre>\n\n<p>which i import from PIRGBarray. And when i use sudo python myprogram.py, it does NOT detect the gopigo library, and the error is the next: </p>\n\n<pre><code>Traceback (most recent call last):\n   File \"CircleDetector_MOVEMENT.py\", line 8, in &lt;module&gt;\n    from gopigo import *        #Has the basic functions for controlling the          GoPiGo Robot\nImportError: No module named gopigo\n</code></pre>\n\n<p>I guess it can be something related with permission, but i have no idea how to solve it.</p>\n\n<p>So, if you please know what can be happening here, i'll be grateful. In their forum have told me that is an I2C issue, but i'm a noob in all this whole thing and i don't know how to solve it. </p>\n\n<p>Any Help is appreciated.</p>\n\n<p>P.S. Here you are my code, if it helps:</p>\n\n<pre><code>#import everything i need to get working all modules.\nfrom picamera.array import PiRGBArray\nfrom picamera import PiCamera\nimport time\nimport cv2\nimport os\nimport numpy as np\nfrom gopigo import *    #Has the basic functions for controlling the GoPiGo     Robot\nimport sys  #Used for closing the running program\nos.system('sudo modprobe bcm2835-v4l2')\n\nh=200\nw=300\n\ncamera = PiCamera()\ncamera.resolution = (w, h)\ncamera.framerate = 5\nrawCapture = PiRGBArray(camera, size=(w, h))\ntime.sleep(0.1)\n\n\nfor frame in camera.capture_continuous(rawCapture, format=\"bgr\",     use_video_port=True):\nimagen_RGB = frame.array\ncopia_RGB = imagen_RGB.copy()\n\n\n\n     gris = cv2.cvtColor(imagen_RGB, cv2.COLOR_BGR2GRAY)\n     gris = cv2.medianBlur(gris,9)\n\n\n\n    img_circulos = None\n    img_circulos = cv2.HoughCircles(gris, cv2.cv.CV_HOUGH_GRADIENT, 1, 20, param1=50, param2=50, minRadius=0, maxRadius=0)\n\n\n    if img_circulos is not None:\n\n        v = 1\n        img_circulos = np.round(img_circulos[0, :]).astype(\"int\")\n\n\n        for (x, y, r) in img_circulos:\n\n            cv2.circle(copia_RGB, (x, y), r, (0, 255, 0), 3)\n            cv2.rectangle(copia_RGB, (x - 5, y - 5),(x + 5, y + 5), (0, 128, 255, -1))\n    if v == 1\n       fwd()\n\n    cv2.imshow(\"Imagen Combinada\", copia_RGB)\n\n    key = cv2.waitKey(1) &amp; 0xFF\n    rawCapture.truncate(0)\n    if key == ord(\"q\"):\n        break\n</code></pre>\n"}, {"tags": ["python", "html", "selenium", "selenium-webdriver", "2captcha"], "answers": [{"comments": [{"owner": {"reputation": 273, "user_id": 4786577, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/4e744b16528baedc48ae454183e0a3b4?s=128&d=identicon&r=PG&f=1", "display_name": "clj", "link": "https://stackoverflow.com/users/4786577/clj"}, "edited": false, "score": 0, "creation_date": 1430557089, "post_id": 29957292, "comment_id": 48119596, "body": "This sends the captchas alright.  Unfortunately, I now have to figure out how to get the response when it comes after r is already assigned, but that&#39;s a different question."}, {"owner": {"reputation": 273, "user_id": 4786577, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/4e744b16528baedc48ae454183e0a3b4?s=128&d=identicon&r=PG&f=1", "display_name": "clj", "link": "https://stackoverflow.com/users/4786577/clj"}, "edited": false, "score": 1, "creation_date": 1430559073, "post_id": 29957292, "comment_id": 48120081, "body": "Got that last part figured out now too.  :-)"}, {"owner": {"reputation": 1082, "user_id": 6393476, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5e8xE.png?s=128&g=1", "display_name": "EnriqueBet", "link": "https://stackoverflow.com/users/6393476/enriquebet"}, "edited": false, "score": 0, "creation_date": 1590976947, "post_id": 29957292, "comment_id": 109875239, "body": "Have you had any issue with <code>2captcha</code> service? I have found some issues with the image tile position that they send me, sometimes they send the tiles enumerated from 0, sometimes from 1, some other times they use other separators different than commas, pipes, or spaces. Did you have a good solution for this?"}], "tags": [], "owner": {"reputation": 862, "user_id": 1155333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5dcec13071dd7747b48798a80a6fa59b?s=128&d=identicon&r=PG", "display_name": "Cornel Ghiban", "link": "https://stackoverflow.com/users/1155333/cornel-ghiban"}, "is_accepted": true, "score": 1, "last_activity_date": 1430355912, "creation_date": 1430355912, "answer_id": 29957292, "question_id": 29952677, "link": "https://stackoverflow.com/questions/29952677/how-can-i-programatically-upload-captcha-images-to-this-solving-service-in-pytho/29957292#29957292", "title": "How can I programatically upload captcha images to this solving service in python (html given)?", "body": "<p>Look at the <a href=\"http://docs.python-requests.org/en/latest/\" rel=\"nofollow\">requests</a> module</p>\n\n<pre><code>url = 'http://2captcha.com/in.php'\nfiles = {'file': open('image.png', 'rb')}\ndata = {'key': 'key', 'method': 'post'}\nr = requests.post(url, files=files, data=data)\nif r.ok:\n    # do something with the response data\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 61, "user_id": 5499980, "user_type": "registered", "profile_image": "https://graph.facebook.com/990033081056605/picture?type=large", "display_name": "Zaliko Panjakidze", "link": "https://stackoverflow.com/users/5499980/zaliko-panjakidze"}, "is_accepted": false, "score": 5, "last_activity_date": 1446060878, "creation_date": 1446060878, "answer_id": 33400041, "question_id": 29952677, "link": "https://stackoverflow.com/questions/29952677/how-can-i-programatically-upload-captcha-images-to-this-solving-service-in-pytho/33400041#33400041", "title": "How can I programatically upload captcha images to this solving service in python (html given)?", "body": "<p>Im from 2captcha team, and we are have samples python.\nyou can use the code:</p>\n\n<pre><code>\"\"\"\n</code></pre>\n\n<p>This is the sample how to pass google recaptcha v2.\nI have used python + selenium + phantomJS to do this.\nPhantom JS is a headless browser used in automation web testing. I'm using it to scrap pages and bypass google captchas.\nTo use this you should have phantomJS installed (and build from sources in linux system case) and selenium python module installed</p>\n\n<p>Google captchas appears on a page in iframes. You should scrap its element, click on images and check error messages after clicking Ok.</p>\n\n<p>\"\"\"</p>\n\n<pre><code>from selenium import webdriver\nfrom selenium.webdriver.common.keys import Keys\nfrom selenium.common.exceptions import *\nimport re\nimport os\nimport sys\nimport time\nimport random\nimport requests\nfrom PIL import Image\n\nclass capcha_resolver:\n    def __init__(self, captchakey, proxy = None):\n        \"\"\"\n       It is assumed that you have phantomjs installed into /bin folder on your linux system.\n       \"\"\"\n\n        self.TWOCAPTCHA_API_KEY = captchakey\n        phantom_args = []\n        if proxy:\n            self.PROXY = proxy\n            phantom_args = ['--proxy='+self.PROXY, '--proxy-type=http', '--proxy-type=https']\n        self.driver = webdriver.PhantomJS('/bin/phantomjs',service_args=phantom_args)\n        self.driver.set_page_load_timeout(20)\n\n    def fail(self, msg):\n        print \"[!] Error: \" + msg\n        self.driver.save_screenshot('error.png')\n\n    def get_page(self):\n        self.driver.get('https://www.google.com/recaptcha/api2/demo')\n        self.driver.save_screenshot('page.png')\n        return 0\n\n    def send_capcha(self, filename):\n        numbers = []\n        captchafile = {'file': open(filename, 'rb')}\n        data = {'key': self.TWOCAPTCHA_API_KEY, 'method': 'post'}\n        r = requests.post('http://2captcha.com/in.php', files=captchafile, data=data)\n        if r.ok and r.text.find('OK') &gt; -1:\n            reqid = r.text[r.text.find('|')+1:]\n            print \"[+] Capcha id: \"+reqid\n            for timeout in range(40):\n                r = requests.get('http://2captcha.com/res.php?key={0}&amp;action=get&amp;id={1}'.format(self.TWOCAPTCHA_API_KEY, reqid))\n                if r.text.find('CAPCHA_NOT_READY') &gt; -1:\n                    print r.text\n                    time.sleep(3)\n                if r.text.find('ERROR') &gt; -1:\n                    return []\n                if r.text.find('OK') &gt; -1:\n                    return list(r.text[r.text.find('|')+1:])\n        return []\n\n    def bypass_captcha(self):\n        \"\"\"\n       Google recaptcha could be found by id. Frame with checkbox has id which starts with I0, recapcha frame has id with I1\n       \"\"\"\n\n        capthcaboxframe = self.driver.find_element_by_xpath('//iframe[starts-with(@id, \"I0\")]')\n        self.driver.switch_to.frame(capthcaboxframe)\n        time.sleep(1)\n        checkbox = self.driver.find_element_by_id('recaptcha-anchor')\n        checkbox.click()\n        print \"[*] Clicked on checkbox\"\n        time.sleep(2)\n        self.driver.switch_to.default_content()\n\n        capcthaframe = self.driver.find_element_by_xpath('//iframe[starts-with(@id, \"I1\")]')\n\n        bounding_box = (\n            capcthaframe.location['x'], # left\n            capcthaframe.location['y'], # upper\n            (capcthaframe.location['x'] + capcthaframe.size['width']), # right\n            (capcthaframe.location['y'] + capcthaframe.size['height'])) # bottom\n        imgname = 'capcha.jpeg' #use jpeg because png images can exceed 2capcha file size limit\n        time.sleep(2)\n        self.driver.save_screenshot(imgname)\n        base_image = Image.open(imgname)\n        cropped_image = base_image.crop(bounding_box)\n        base_image = base_image.resize(cropped_image.size)\n        base_image.paste(cropped_image, (0, 0))\n        base_image.save(imgname)\n\n        numbers = self.send_capcha(imgname)\n        if numbers == []:\n            return -1\n\n        self.driver.switch_to.frame(capcthaframe)\n        picturetable = self.driver.find_element_by_css_selector('.rc-imageselect-table-3')\n        images = []\n        for row in picturetable.find_elements_by_tag_name('tr'):\n            for col in row.find_elements_by_tag_name('td'):\n                images.append(col.find_element_by_tag_name('img'))\n        if images == []:\n            self.fail(\"Found no captcha images\")\n            return -1\n\n        print \"[*] Got answer : \" + str(numbers)\n        for number in numbers:\n            index = int(number) - 1\n            images[index].click()\n            print '[+] clicked on image '+str(index)\n        self.driver.save_screenshot('res.png')\n        verifybutton = self.driver.find_element_by_id('recaptcha-verify-button')\n        verifybutton.click()\n        print \"[*] Clicked verify button\"\n        time.sleep(2)\n        if self.driver.find_element_by_css_selector('.rc-imageselect-incorrect-response').is_displayed() or \\\n                        self.driver.find_element_by_css_selector('.rc-imageselect-error-select-one').is_displayed() or \\\n                        self.driver.find_element_by_css_selector('.rc-imageselect-error-select-more').is_displayed():\n            self.fail(\"Incorrect answer from 2captcha\")\n            return -1\n        self.driver.switch_to.default_content()\n\n        self.driver.switch_to.frame(capthcaboxframe)\n        if self.driver.find_element_by_css_selector('.recaptcha-checkbox').get_attribute('aria-checked') == 'false':\n            self.fail(\"Capctha not passed\")\n            return -1\n        self.driver.switch_to.default_content()\n        self.driver.save_screenshot('passed.png')\n        return 0\n\nproxy = None\nif len(sys.argv) &lt; 2:\n    print \"Usage: python resolver.py 2CAPCHA_API_KEY [PROXY]\"\nif len(sys.argv) &gt; 2:\n    proxy = sys.argv[2]\nresolver = capcha_resolver(sys.argv[1], proxy)\n\nif resolver.get_page() == -1:\n    print \"[!] Error while getting page\"\nelse:\n    print \"[+] Opened URL\"\n\nif resolver.bypass_captcha() == -1:\n    print \"[!] Error on captcha resolving\"\nelse:\n    print \"[+] Resolved captcha\"\n</code></pre>\n\n<p>Good luck!</p>\n"}], "owner": {"reputation": 273, "user_id": 4786577, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/4e744b16528baedc48ae454183e0a3b4?s=128&d=identicon&r=PG&f=1", "display_name": "clj", "link": "https://stackoverflow.com/users/4786577/clj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6648, "favorite_count": 0, "accepted_answer_id": 29957292, "answer_count": 2, "score": 0, "last_activity_date": 1566739739, "creation_date": 1430335177, "last_edit_date": 1566739739, "question_id": 29952677, "link": "https://stackoverflow.com/questions/29952677/how-can-i-programatically-upload-captcha-images-to-this-solving-service-in-pytho", "title": "How can I programatically upload captcha images to this solving service in python (html given)?", "body": "<p>I am writing a python program that needs to be able to solve captchas on a web site.  I would like to use 2captcha.  I have written a python script using selenium that will do everything I need to do except solve the captchas.  When I click on the 2captcha.com \"API\" tab, this (along with other parameters) is what is shown:</p>\n\n<p>You can upload your CAPTCHAs in two available formats:</p>\n\n<p>Multipart and Base64.:</p>\n\n<p><strong>Multipad sample:</strong></p>\n\n<pre><code>&lt;form method=\"post\" action=\"http://2captcha.com/in.php\" enctype=\"multipart/form-data\"&gt;\n&lt;input type=\"hidden\" name=\"method\" value=\"post\"&gt;\nYour key:\n&lt;input type=\"text\" name=\"key\" value=\"YOUR_APIKEY\"&gt;\nThe CAPTCHA file:\n&lt;input type=\"file\" name=\"file\"&gt;\n&lt;input type=\"submit\" value=\"download and get the ID\"&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>YOUR_APIKEY - is your key of 32 symbols length.</p>\n\n<p><strong>Base64 Sample:</strong></p>\n\n<pre><code>&lt;form method=\"post\" action=\"http://2captcha.com/in.php\"&gt;\n&lt;input type=\"hidden\" name=\"method\" value=\"base64\"&gt;\nYour key:\n&lt;input type=\"text\" name=\"key\" value=\"YOUR_APIKEY\"&gt;\nThe CAPTCHA file body in base64 format:\n&lt;textarea name=\"body\"&gt;BASE64_FILE&lt;/textarea&gt;\n&lt;input type=\"submit\" value=\"download and get the ID\"&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>YOUR_APIKEY - is your key of 32 symbols length.</p>\n\n<p>BASE64_FILE - is the base 64 encoded image body.</p>\n\n<p>I know python, and most of its scientific and mathematical modules well, but I am a bit new to web related programming.  The code above looks like html.  How would I make a python program carry out the html instructions above?</p>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 12620, "user_id": 4687135, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/386484f527a8df3c1fdd3e2dde112533?s=128&d=identicon&r=PG", "display_name": "Eric Renouf", "link": "https://stackoverflow.com/users/4687135/eric-renouf"}, "edited": false, "score": 1, "creation_date": 1430335374, "post_id": 29952676, "comment_id": 48026230, "body": "Can you run that command at the prompt?"}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 2, "creation_date": 1430335389, "post_id": 29952676, "comment_id": 48026237, "body": "Have you tried Googling your error message? Seems pretty clear to me..."}, {"owner": {"reputation": 55248, "user_id": 642070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c280b71b3187d1cc113a6e302b414b9?s=128&d=identicon&r=PG", "display_name": "tdelaney", "link": "https://stackoverflow.com/users/642070/tdelaney"}, "edited": false, "score": 1, "creation_date": 1430335878, "post_id": 29952676, "comment_id": 48026543, "body": "This has nothing to do with python. And its going to be operating system specific also. On linux, <code>-c</code> is for packet count. On windows its not valid."}, {"owner": {"reputation": 572, "user_id": 4457687, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh6.googleusercontent.com/-0wfUTwt-gqo/AAAAAAAAAAI/AAAAAAAAADw/-nJ200gilJ4/photo.jpg?sz=128", "display_name": "Alex Zel", "link": "https://stackoverflow.com/users/4457687/alex-zel"}, "edited": false, "score": 0, "creation_date": 1430335915, "post_id": 29952676, "comment_id": 48026563, "body": "I have UAC disable and i&#39;m the administrator, i can run any command without problem, even if i run &quot;ping www.google.com&quot; i don&#39;t get an error, but when i add the -c switch i do get an error."}, {"owner": {"reputation": 55248, "user_id": 642070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c280b71b3187d1cc113a6e302b414b9?s=128&d=identicon&r=PG", "display_name": "tdelaney", "link": "https://stackoverflow.com/users/642070/tdelaney"}, "edited": false, "score": 0, "creation_date": 1430336090, "post_id": 29952676, "comment_id": 48026668, "body": "UAC, ..., so Windows? Its not valid on my win7. What does <code>-c</code> mean? UAC only covers some machine privileges, admin rights may also be needed."}], "answers": [{"comments": [{"owner": {"reputation": 55248, "user_id": 642070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c280b71b3187d1cc113a6e302b414b9?s=128&d=identicon&r=PG", "display_name": "tdelaney", "link": "https://stackoverflow.com/users/642070/tdelaney"}, "edited": false, "score": 0, "creation_date": 1430337625, "post_id": 29953008, "comment_id": 48027552, "body": "How do you know OP is running linux? OP is getting a different error message than what you show... isn&#39;t that a good indication that OP&#39;s <code>-c</code> isn&#39;t a count?"}, {"owner": {"reputation": 5483, "user_id": 4481312, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/teLso.jpg?s=128&g=1", "display_name": "marmeladze", "link": "https://stackoverflow.com/users/4481312/marmeladze"}, "reply_to_user": {"reputation": 55248, "user_id": 642070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c280b71b3187d1cc113a6e302b414b9?s=128&d=identicon&r=PG", "display_name": "tdelaney", "link": "https://stackoverflow.com/users/642070/tdelaney"}, "edited": false, "score": 1, "creation_date": 1430340199, "post_id": 29953008, "comment_id": 48029026, "body": "i understand you, but <code>ping -c</code> is only available on unix like systems for specifying number of packets to transmit. in windows there is no such option (maybe <code>-r</code>, i don&#39;t remember), and it will spit out an error message (bad option). i think he has done a mistake and will correct it. actually the possibility of he has done a mistake, is higher than he is using any other system that UNIX likes, Windows and else :) and more important, pinging doesn&#39;t require adminstrative privileges."}, {"owner": {"reputation": 572, "user_id": 4457687, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh6.googleusercontent.com/-0wfUTwt-gqo/AAAAAAAAAAI/AAAAAAAAADw/-nJ200gilJ4/photo.jpg?sz=128", "display_name": "Alex Zel", "link": "https://stackoverflow.com/users/4457687/alex-zel"}, "edited": false, "score": 0, "creation_date": 1430413947, "post_id": 29953008, "comment_id": 48067492, "body": "I am using windows, there is a -c command for ping &quot; -c compartment Routing compartment identifier.&quot; from ping /?, i&#39;m not sure about what it does exactly, i just used something i found online, at the time i didn&#39;t think about it being a linux command. But it should work on windows as well."}, {"owner": {"reputation": 5483, "user_id": 4481312, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/teLso.jpg?s=128&g=1", "display_name": "marmeladze", "link": "https://stackoverflow.com/users/4481312/marmeladze"}, "reply_to_user": {"reputation": 572, "user_id": 4457687, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh6.googleusercontent.com/-0wfUTwt-gqo/AAAAAAAAAAI/AAAAAAAAADw/-nJ200gilJ4/photo.jpg?sz=128", "display_name": "Alex Zel", "link": "https://stackoverflow.com/users/4457687/alex-zel"}, "edited": false, "score": 0, "creation_date": 1430424792, "post_id": 29953008, "comment_id": 48073441, "body": "@AlexZel what is your windows version? I checked my XP machine, also Win7 SP1 on virtualbox, no &quot;-c&quot; options seems available to me."}], "tags": [], "owner": {"reputation": 5483, "user_id": 4481312, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/teLso.jpg?s=128&g=1", "display_name": "marmeladze", "link": "https://stackoverflow.com/users/4481312/marmeladze"}, "is_accepted": false, "score": 0, "last_activity_date": 1430337322, "last_edit_date": 1430337322, "creation_date": 1430336319, "answer_id": 29953008, "question_id": 29952676, "link": "https://stackoverflow.com/questions/29952676/simple-ping-function-returns-access-denied-option-c-requires-administrative-p/29953008#29953008", "title": "simple ping function returns &quot;Access denied. Option -c requires administrative privileges&quot;", "body": "<p>When pinging with <code>-c</code> option, you have to specify the number of pings. When you <code>ping &lt;somehost&gt;</code> in windows, default 4 packets will send (and recieve, unless there is problem in connection, or you break the process). But in linux systems it pings infinitely. Honestly I don't know the count, I just <kbd>CTRL</kbd>+<kbd>C</kbd> and break the process after enough count of packets transmitted and recieved:)    </p>\n\n<pre><code>$ ping -c 2 google.com\nPING google.com (62.212.252.123) 56(84) bytes of data.\n64 bytes from 62.212.252.123: icmp_req=1 ttl=58 time=30.8 ms\n64 bytes from 62.212.252.123: icmp_req=2 ttl=58 time=32.6 ms\n\n--- google.com ping statistics ---\n2 packets transmitted, 2 received, 0% packet loss, time 1001ms\nrtt min/avg/max/mdev = 30.860/31.761/32.663/0.918 ms\n</code></pre>\n\n<p>as a python script</p>\n\n<pre><code>&gt;&gt;&gt; import os\n&gt;&gt;&gt; status = os.system(\"ping -c 2 google.com\")\nPING google.com (62.212.252.45) 56(84) bytes of data.\n64 bytes from cache.google.com (62.212.252.45): icmp_req=1 ttl=58 time=31.6 ms\n64 bytes from cache.google.com (62.212.252.45): icmp_req=2 ttl=58 time=31.6 ms\n\n--- google.com ping statistics ---\n2 packets transmitted, 2 received, 0% packet loss, time 1001ms\nrtt min/avg/max/mdev = 31.622/31.632/31.642/0.010 ms\n&gt;&gt;&gt; \n</code></pre>\n\n<p>or your case</p>\n\n<pre><code>    &gt;&gt;&gt; host = \"localhost\"\n    &gt;&gt;&gt; status = os.system(\"ping -c 2 \"+ host)\n    PING localhost (127.0.0.1) 56(84) bytes of data.\n    64 bytes from localhost (127.0.0.1): icmp_req=1 ttl=64 time=0.053 ms\n    64 bytes from localhost (127.0.0.1): icmp_req=2 ttl=64 time=0.040 ms\n\n    --- localhost ping statistics ---\n    2 packets transmitted, 2 received, 0% packet loss, time 999ms\n    rtt min/avg/max/mdev = 0.040/0.046/0.053/0.009 ms\n</code></pre>\n\n<p>if you don't specify counts,</p>\n\n<pre><code>$ ping -c google.com\nping: bad number of packets to transmit.\n</code></pre>\n\n<p>or, </p>\n\n<pre><code>&gt;&gt;&gt; os.system(\"ping -c google.com\")\nping: bad number of packets to transmit.\n512\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 164, "user_id": 11608101, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XZtOO.png?s=128&g=1", "display_name": "zichen.L", "link": "https://stackoverflow.com/users/11608101/zichen-l"}, "edited": false, "score": 0, "creation_date": 1575211099, "post_id": 53556789, "comment_id": 104481402, "body": "For me it works. response = os.system(&#39;ping -n 1 &#39; + m.ip) if response == 0: print(&quot;ok&quot;)"}], "tags": [], "owner": {"reputation": 41, "user_id": 9389509, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c51094a99442e7a3a24c52a8d4dfc8b?s=128&d=identicon&r=PG&f=1", "display_name": "avanisagar", "link": "https://stackoverflow.com/users/9389509/avanisagar"}, "is_accepted": false, "score": 1, "last_activity_date": 1543577800, "creation_date": 1543577800, "answer_id": 53556789, "question_id": 29952676, "link": "https://stackoverflow.com/questions/29952676/simple-ping-function-returns-access-denied-option-c-requires-administrative-p/53556789#53556789", "title": "simple ping function returns &quot;Access denied. Option -c requires administrative privileges&quot;", "body": "<p>The following works for me. </p>\n\n<pre><code>import subprocess\n\nhostname = \"localhost\"\ncmd = \"ping -n 1 \" + hostname\nstatus = subprocess.getstatusoutput(cmd)\nif status[0] == 0:\n    print (\"yes\")\nelse:\n    print (\"no\")\n</code></pre>\n\n<p>Note: I ran the script on Windows. Hence <code>-n</code> option instead of <code>-c</code> for specifying the count.</p>\n"}, {"tags": [], "owner": {"reputation": 9, "user_id": 13364181, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3be530c900842a5cb4543a73b629d05?s=128&d=identicon&r=PG&f=1", "display_name": "Tysa", "link": "https://stackoverflow.com/users/13364181/tysa"}, "is_accepted": false, "score": 1, "last_activity_date": 1587827333, "creation_date": 1587827333, "answer_id": 61427790, "question_id": 29952676, "link": "https://stackoverflow.com/questions/29952676/simple-ping-function-returns-access-denied-option-c-requires-administrative-p/61427790#61427790", "title": "simple ping function returns &quot;Access denied. Option -c requires administrative privileges&quot;", "body": "<p>the command needs to be run like administrator. For example if you start your Python shell by right click and \"Run like administrator\" it should work. </p>\n\n<p>This is tested on windows, but I believe it will be similar on Linux, just you will have to run it like root. I am not much experienced with Linux so can be wrong.</p>\n"}], "owner": {"reputation": 572, "user_id": 4457687, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh6.googleusercontent.com/-0wfUTwt-gqo/AAAAAAAAAAI/AAAAAAAAADw/-nJ200gilJ4/photo.jpg?sz=128", "display_name": "Alex Zel", "link": "https://stackoverflow.com/users/4457687/alex-zel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3737, "favorite_count": 1, "answer_count": 3, "score": 0, "last_activity_date": 1587827333, "creation_date": 1430335171, "question_id": 29952676, "link": "https://stackoverflow.com/questions/29952676/simple-ping-function-returns-access-denied-option-c-requires-administrative-p", "title": "simple ping function returns &quot;Access denied. Option -c requires administrative privileges&quot;", "body": "<p>I want to build a simple ping function and get a result of either 0 or 1.\nBut if this function below i keep getting an access denied error, i've tried with several web sites and i always get the same error.</p>\n\n<pre><code>from os import *\n\nhostname = \"localhost\"\nstatus = system(\"ping -c \" + hostname)\n\nif status == 1:\n    print('yes')\nelse:\n    print('no')\n</code></pre>\n"}, {"tags": ["python", "algorithm", "permutation"], "comments": [{"owner": {"reputation": 1130, "user_id": 3494492, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/j7gkb.png?s=128&g=1", "display_name": "kiwixz", "link": "https://stackoverflow.com/users/3494492/kiwixz"}, "edited": false, "score": 0, "creation_date": 1430334833, "post_id": 29952531, "comment_id": 48025903, "body": "For each i from a: for each j from b: add [a, b] to res."}, {"owner": {"reputation": 676, "user_id": 835762, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/5ff57d96af52ddb25ff36e03e206c346?s=128&d=identicon&r=PG", "display_name": "shader", "link": "https://stackoverflow.com/users/835762/shader"}, "edited": false, "score": 0, "creation_date": 1430334984, "post_id": 29952531, "comment_id": 48025986, "body": "Do you only need a solution that supports 2 lists, or should it accept any number of them?"}, {"owner": {"reputation": 93, "user_id": 3227630, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85aaca7108c77c19bcaa494d81ee5988?s=128&d=identicon&r=PG&f=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/3227630/michael"}, "edited": false, "score": 0, "creation_date": 1430335582, "post_id": 29952531, "comment_id": 48026356, "body": "arbitrary many lists. With a known number of lists this would be to easy."}], "answers": [{"comments": [{"owner": {"reputation": 93, "user_id": 3227630, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85aaca7108c77c19bcaa494d81ee5988?s=128&d=identicon&r=PG&f=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/3227630/michael"}, "edited": false, "score": 0, "creation_date": 1430335401, "post_id": 29952567, "comment_id": 48026250, "body": "Thank you. I knew the answer needed to be simple. I really got stuck in the wrong mindset and have missed that it was a simple cartesian product."}], "tags": [], "owner": {"reputation": 97521, "user_id": 565635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/7b4b3e7c9ac68b7d2c93ad02d0b9c79d?s=128&d=identicon&r=PG", "display_name": "orlp", "link": "https://stackoverflow.com/users/565635/orlp"}, "is_accepted": true, "score": 14, "last_activity_date": 1430334826, "creation_date": 1430334826, "answer_id": 29952567, "question_id": 29952531, "link": "https://stackoverflow.com/questions/29952531/python-generate-all-n-permutations-of-n-lists/29952567#29952567", "title": "Python generate all n-permutations of n lists", "body": "<p>It's called the <a href=\"https://en.wikipedia.org/wiki/Cartesian_product\" rel=\"noreferrer\">Cartesian product</a> of two sequences.</p>\n\n<p>This is already available in Python as a library function: <a href=\"https://docs.python.org/3/library/itertools.html#itertools.product\" rel=\"noreferrer\"><strong><code>itertools.product</code></strong></a>.</p>\n\n<p>Example:</p>\n\n<pre><code>&gt;&gt;&gt; import itertools\n&gt;&gt;&gt; a = [1, 2]\n&gt;&gt;&gt; b = [3, 4, 5]\n&gt;&gt;&gt; list(itertools.product(a, b))\n[(1, 3), (1, 4), (1, 5), (2, 3), (2, 4), (2, 5)]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 613, "user_id": 3188050, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/VOnoC.png?s=128&g=1", "display_name": "lazarus", "link": "https://stackoverflow.com/users/3188050/lazarus"}, "is_accepted": false, "score": 0, "last_activity_date": 1430335130, "creation_date": 1430335130, "answer_id": 29952661, "question_id": 29952531, "link": "https://stackoverflow.com/questions/29952531/python-generate-all-n-permutations-of-n-lists/29952661#29952661", "title": "Python generate all n-permutations of n lists", "body": "<p>you can do this by product function in itertools,</p>\n\n<pre><code>import itertools\na = [1,2]\nb = [3, 4, 5]\nout = list(itertools.product(a,b))\nprint out\n[(1, 3), (1, 4), (1, 5), (2, 3), (2, 4), (2, 5)]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2082, "user_id": 2002580, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/b2d16135241bda360d9fe3bfbfe08b0d?s=128&d=identicon&r=PG", "display_name": "BWStearns", "link": "https://stackoverflow.com/users/2002580/bwstearns"}, "is_accepted": false, "score": 0, "last_activity_date": 1430335163, "creation_date": 1430335163, "answer_id": 29952672, "question_id": 29952531, "link": "https://stackoverflow.com/questions/29952531/python-generate-all-n-permutations-of-n-lists/29952672#29952672", "title": "Python generate all n-permutations of n lists", "body": "<p>itertools is definitely the way to go but if you don't want to go the easy route.....</p>\n\n<pre><code>def print_permutations(lists, perms=[]):\n    if not lists:\n        print perms\n    else:\n        current_layer = lists[0]\n        remaining_layers = lists[1:]\n        for word in current_layer:\n            print_permutations(remaining_layers, perms + [word])\n\n\n\nl = (('quick', 'lazy'), ('brown', 'black', 'grey'), ('fox', 'dog'))\nprint_permutations(l)\n</code></pre>\n"}], "owner": {"reputation": 93, "user_id": 3227630, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85aaca7108c77c19bcaa494d81ee5988?s=128&d=identicon&r=PG&f=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/3227630/michael"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 482, "favorite_count": 0, "accepted_answer_id": 29952567, "answer_count": 3, "score": 3, "last_activity_date": 1430335163, "creation_date": 1430334704, "question_id": 29952531, "link": "https://stackoverflow.com/questions/29952531/python-generate-all-n-permutations-of-n-lists", "title": "Python generate all n-permutations of n lists", "body": "<p>I have n lists of different lengths of wich I want to create all possible permutations. </p>\n\n<p>so e.g. if <code>a=[1,2]</code> and <code>b=[3,4,5]</code> then I would love to obtain <code>res=[[1,3],[1,4],[1,5],[2,3],[2,4],[2,5]]</code>\nI've been trying to achieve this using a recursive function, which turned out to be neither very efficient nor very pythonic. \nHow would an experienced python programmer tackle the problem?</p>\n"}, {"tags": ["python", "django", "python-2.7", "pootle"], "answers": [{"comments": [{"owner": {"reputation": 2200, "user_id": 513536, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/c454086b558236682f7ed0e7652cfd50?s=128&d=identicon&r=PG", "display_name": "David Oliver", "link": "https://stackoverflow.com/users/513536/david-oliver"}, "edited": false, "score": 0, "creation_date": 1430342171, "post_id": 29953470, "comment_id": 48030165, "body": "Thanks! I now have <code>File &quot;&#47;srv&#47;www&#47;pootle&#47;project&#47;pootle&#47;checks.py&quot;, line 101, in check_redis &lt;br&gt; conn_settings = queue.connection.connection_pool.connection_kwargs &lt;br&gt; UnboundLocalError: local variable &#39;queue&#39; referenced before assignment</code> - perhaps I need to configure a Redis queue? I&#39;ll look into this soon. Btw, I found that I needed to use <code>.&#47;manage.py</code> to get it to execute, but can&#39;t edit an answer without changing 6 characters."}, {"owner": {"reputation": 4794, "user_id": 783019, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d66d2f631a8cba1c8f6a84caac3817d?s=128&d=identicon&r=PG", "display_name": "julen", "link": "https://stackoverflow.com/users/783019/julen"}, "reply_to_user": {"reputation": 2200, "user_id": 513536, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/c454086b558236682f7ed0e7652cfd50?s=128&d=identicon&r=PG", "display_name": "David Oliver", "link": "https://stackoverflow.com/users/513536/david-oliver"}, "edited": false, "score": 1, "creation_date": 1430372114, "post_id": 29953470, "comment_id": 48039920, "body": "Re. the error you hit, yes you do need Redis, but here the underlying issue is you haven&#39;t installed all the required dependencies, more precisely <code>django-rq</code>. Please install the deps using <code>pip install -r requirements&#47;base.txt</code>"}], "tags": [], "owner": {"reputation": 4794, "user_id": 783019, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d66d2f631a8cba1c8f6a84caac3817d?s=128&d=identicon&r=PG", "display_name": "julen", "link": "https://stackoverflow.com/users/783019/julen"}, "is_accepted": true, "score": 3, "last_activity_date": 1430372068, "last_edit_date": 1430372068, "creation_date": 1430337941, "answer_id": 29953470, "question_id": 29952506, "link": "https://stackoverflow.com/questions/29952506/how-can-i-install-pootle-using-git/29953470#29953470", "title": "How can I install Pootle using Git?", "body": "<p>Here the difference is that when you install Pootle via pip, you have available the <code>pootle</code> command, which has a <a href=\"https://github.com/translate/pootle/blob/a9049c9c3c664d011a3d0270b2e316b8840e271a/pootle/runner.py\" rel=\"nofollow\">convenience runner</a> that sets things up for you, including the path to the custom settings file. When you use a git clone, the convenience magic is unavailable.</p>\n\n<p>Long story short, you need to set the <code>POOTLE_SETTINGS</code> environment variable to the path of your custom settings file.</p>\n\n<pre class=\"lang-bash prettyprint-override\"><code>$ POOTLE_SETTINGS=/srv/www/pootle/pootle.conf python manage.py initdb\n</code></pre>\n\n<p>Alternatively, and since you are trying out a git clone, you can rename your settings file to something like <em>90-custom-settings-local.conf</em> (<em>90-</em> is important, as well as the <em>.conf</em> extension; <em>-local</em> is handy as it's in <a href=\"https://github.com/translate/pootle/blob/a9049c9c3c664d011a3d0270b2e316b8840e271a/.gitignore#L29\" rel=\"nofollow\">Pootle's <em>.gitignore</em></a>) and drop it into <em>pootle/settings/</em>, and it'll pick it up. No need to set the <code>POOTLE_SETTINGS</code> env var with this method.</p>\n"}], "owner": {"reputation": 2200, "user_id": 513536, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/c454086b558236682f7ed0e7652cfd50?s=128&d=identicon&r=PG", "display_name": "David Oliver", "link": "https://stackoverflow.com/users/513536/david-oliver"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 298, "favorite_count": 0, "accepted_answer_id": 29953470, "answer_count": 1, "score": 0, "last_activity_date": 1430372068, "creation_date": 1430334620, "last_edit_date": 1430341946, "question_id": 29952506, "link": "https://stackoverflow.com/questions/29952506/how-can-i-install-pootle-using-git", "title": "How can I install Pootle using Git?", "body": "<p>I'm using Ubuntu 14.04 and am trying to install version 2.7 of <a href=\"https://github.com/translate/pootle\" rel=\"nofollow\">Pootle</a>, which I've been told I should do with Git rather than pip, which I think is because this version is not stable and so doesn't have a pip package/is not yet set up for use with pip. But not being familiar with Python (and am not really much of a programmer at all) I am having trouble with intialising the database with <code>manage.py</code>.</p>\n\n<p>So far I have checked out the master branch to <code>/srv/www/pootle/project</code> and upgraded Django in <code>/usr/local/lib/python2.7/dist-packages/django</code> to version 1.7.7 using <code>pip</code>. (See <a href=\"http://docs.translatehouse.org/projects/pootle/en/latest/releases/2.7.0.html\" rel=\"nofollow\">Pootle 2.7 requirements</a>.)</p>\n\n<p>I had previously successfully installed Pootle version 2.5 using pip and the <code>pootle setup</code> to initialise the database, but because Pootle 2.7 has <a href=\"http://docs.translatehouse.org/projects/pootle/en/latest/releases/2.7.0.html#minor-features\" rel=\"nofollow\">removed the <code>pootle setup</code> command</a>, I've been trying to initialise the database with <code>./manage.py initdb</code>. That results in:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"./manage.py\", line 20, in &lt;module&gt;\n    cmd_log(*sys.argv)\n  File \"/srv/www/pootle/project/pootle/core/log.py\", line 61, in cmd_log\n    fn = settings.LOGGING.get('handlers').get('log_action').get('filename')\n  File \"/usr/local/lib/python2.7/dist-packages/django/conf/__init__.py\", line 46, in __getattr__\n    self._setup(name)\n  File \"/usr/local/lib/python2.7/dist-packages/django/conf/__init__.py\", line 42, in _setup\n    self._wrapped = Settings(settings_module)\n  File \"/usr/local/lib/python2.7/dist-packages/django/conf/__init__.py\", line 115, in __init__\n    raise ImproperlyConfigured(\"The SECRET_KEY setting must not be empty.\")\ndjango.core.exceptions.ImproperlyConfigured: The SECRET_KEY setting must not be empty.\n</code></pre>\n\n<p>I suppose this is because the Django settings are being used, and not my settings at <code>/srv/www/pootle/pootle.conf</code> which has my secret key and other config.</p>\n\n<p>I've tried using the <code>--settings=pootle</code> option with <code>manage.py</code> and <code>django-admin.py</code>, with a symlink in <code>/usr/local/lib/python2.7/dist-packages/django/</code> and <code>/usr/local/lib/python2.7/dist-packages/django/conf/</code> named <code>pootle.settings</code> leading to my <code>pootle.conf</code>, but still get <code>The SECRET_KEY setting must not be empty</code>.</p>\n"}, {"tags": ["python", "matplotlib", "histogram"], "comments": [{"owner": {"reputation": 9745, "user_id": 1443118, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/d758a80b64e30e08da95ae0430e420a5?s=128&d=identicon&r=PG", "display_name": "reptilicus", "link": "https://stackoverflow.com/users/1443118/reptilicus"}, "edited": false, "score": 0, "creation_date": 1430334740, "post_id": 29952424, "comment_id": 48025847, "body": "Why not just set the x-axis tick labels to be continuous?"}, {"owner": {"reputation": 9745, "user_id": 1443118, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/d758a80b64e30e08da95ae0430e420a5?s=128&d=identicon&r=PG", "display_name": "reptilicus", "link": "https://stackoverflow.com/users/1443118/reptilicus"}, "edited": false, "score": 0, "creation_date": 1430334781, "post_id": 29952424, "comment_id": 48025874, "body": "As in [1600, 1610..., 1700, 1710...2010, 2020]"}, {"owner": {"reputation": 12860, "user_id": 1168043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IBdCH.jpg?s=128&g=1", "display_name": "cphlewis", "link": "https://stackoverflow.com/users/1168043/cphlewis"}, "edited": false, "score": 0, "creation_date": 1430338888, "post_id": 29952424, "comment_id": 48028265, "body": "Seems to me both of those histograms are slightly misleading -- the first (worse) visually overstates the number of pre-1800 books, and the second strongly implies that they were all published in 1600 and 1700 exactly. I would try a line plot for 1600-1800 to show those books, and then the histogram to summarize the mass of data."}, {"owner": {"reputation": 73075, "user_id": 380231, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8744048060e5931c500d3c9d1ecb997e?s=128&d=identicon&r=PG", "display_name": "tacaswell", "link": "https://stackoverflow.com/users/380231/tacaswell"}, "edited": false, "score": 1, "creation_date": 1430348053, "post_id": 29952424, "comment_id": 48032777, "body": "I disagree, the first version looks correct to me.   It says &#39;this many books are in this period&#39;.  If you are worried about the area &lt;-&gt; number of books than change the y-axis to be book/year so that your integration comes out correct."}, {"owner": {"reputation": 12860, "user_id": 1168043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IBdCH.jpg?s=128&g=1", "display_name": "cphlewis", "link": "https://stackoverflow.com/users/1168043/cphlewis"}, "edited": false, "score": 0, "creation_date": 1430348085, "post_id": 29952424, "comment_id": 48032794, "body": "or maybe you want <a href=\"http://stackoverflow.com/questions/22461355/how-to-draw-histogram-with-same-bins-width-for-unequally-spaced-bins-in-matplotl?rq=1\" title=\"how to draw histogram with same bins width for unequally spaced bins in matplotl\">stackoverflow.com/questions/22461355/&hellip;</a>."}, {"owner": {"reputation": 141, "user_id": 803831, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8317bd10ccfd4d790a0cca363d10f943?s=128&d=identicon&r=PG", "display_name": "Yelneerg", "link": "https://stackoverflow.com/users/803831/yelneerg"}, "reply_to_user": {"reputation": 9745, "user_id": 1443118, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/d758a80b64e30e08da95ae0430e420a5?s=128&d=identicon&r=PG", "display_name": "reptilicus", "link": "https://stackoverflow.com/users/1443118/reptilicus"}, "edited": false, "score": 0, "creation_date": 1430351208, "post_id": 29952424, "comment_id": 48033848, "body": "@reptilicus If I made it continuous I would have huge areas of zero, especially since my oldest book is BC700."}, {"owner": {"reputation": 141, "user_id": 803831, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8317bd10ccfd4d790a0cca363d10f943?s=128&d=identicon&r=PG", "display_name": "Yelneerg", "link": "https://stackoverflow.com/users/803831/yelneerg"}, "reply_to_user": {"reputation": 12860, "user_id": 1168043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IBdCH.jpg?s=128&g=1", "display_name": "cphlewis", "link": "https://stackoverflow.com/users/1168043/cphlewis"}, "edited": false, "score": 0, "creation_date": 1430351341, "post_id": 29952424, "comment_id": 48033880, "body": "@cphlewis I&#39;m not sure what you mean by &quot;line plot&quot; in this context?  &lt;br /&gt; I agree that they are both misleading (or at least ugly).   &lt;br /&gt; Edit: I did look at that question, but I was hoping there was a nicer solution. I could probably adapt that solution but I just feels like there should be a quick way."}, {"owner": {"reputation": 141, "user_id": 803831, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8317bd10ccfd4d790a0cca363d10f943?s=128&d=identicon&r=PG", "display_name": "Yelneerg", "link": "https://stackoverflow.com/users/803831/yelneerg"}, "reply_to_user": {"reputation": 73075, "user_id": 380231, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8744048060e5931c500d3c9d1ecb997e?s=128&d=identicon&r=PG", "display_name": "tacaswell", "link": "https://stackoverflow.com/users/380231/tacaswell"}, "edited": false, "score": 0, "creation_date": 1430351419, "post_id": 29952424, "comment_id": 48033896, "body": "@tcaswell The first version is technically correct, it just looks ugly. I&#39;m not trying to integrate anything so I don&#39;t really care about the area. This is purely for visual presentation."}, {"owner": {"reputation": 12860, "user_id": 1168043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IBdCH.jpg?s=128&g=1", "display_name": "cphlewis", "link": "https://stackoverflow.com/users/1168043/cphlewis"}, "edited": false, "score": 0, "creation_date": 1430353953, "post_id": 29952424, "comment_id": 48034645, "body": "I was thinking of a dot for each actual book before 1800, plotted at its actual year of publication. (All of six, yes?) There would be a lot of whitespace but the x-axis would be consistent. I think it will only be unusually careful readers who deduce that the two big bins have different <i>denominators</i> than the decade-bins, and since the sparse representation from the period seems like one of the interesting things about the plot, I&#39;d hate to make it less obvious."}, {"owner": {"reputation": 12860, "user_id": 1168043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IBdCH.jpg?s=128&g=1", "display_name": "cphlewis", "link": "https://stackoverflow.com/users/1168043/cphlewis"}, "edited": false, "score": 0, "creation_date": 1430354000, "post_id": 29952424, "comment_id": 48034657, "body": "Oh! I just saw the comment about 700BC. Maybe you want a logarithmic x-axis? Though that will confuse people too."}, {"owner": {"reputation": 4987, "user_id": 3100515, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dZSlO.jpg?s=128&g=1", "display_name": "Ajean", "link": "https://stackoverflow.com/users/3100515/ajean"}, "edited": false, "score": 0, "creation_date": 1430354293, "post_id": 29952424, "comment_id": 48034733, "body": "I actually think that what you <i>want</i> to do would be the <i>most</i> misleading representation.  Deliberately futzing with an otherwise linear axis just makes for more confusion all around."}, {"owner": {"reputation": 141, "user_id": 803831, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8317bd10ccfd4d790a0cca363d10f943?s=128&d=identicon&r=PG", "display_name": "Yelneerg", "link": "https://stackoverflow.com/users/803831/yelneerg"}, "edited": false, "score": 0, "creation_date": 1430354478, "post_id": 29952424, "comment_id": 48034780, "body": "Maybe it&#39;s just that I&#39;m used to that being done in physics where we will have a single bin with all the outliers summed up.   I would of course point out the oddity in the figure caption."}, {"owner": {"reputation": 12860, "user_id": 1168043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IBdCH.jpg?s=128&g=1", "display_name": "cphlewis", "link": "https://stackoverflow.com/users/1168043/cphlewis"}, "edited": false, "score": 0, "creation_date": 1430372643, "post_id": 29952424, "comment_id": 48040167, "body": "Publication dates seem like survivors, not just outliers. (Is there a Data Visualization Stack Overflow?)"}], "owner": {"reputation": 141, "user_id": 803831, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8317bd10ccfd4d790a0cca363d10f943?s=128&d=identicon&r=PG", "display_name": "Yelneerg", "link": "https://stackoverflow.com/users/803831/yelneerg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 827, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1430334379, "creation_date": 1430334379, "question_id": 29952424, "link": "https://stackoverflow.com/questions/29952424/forcing-uniform-bin-display-widths-in-a-python-histogram-for-non-uniform-data-bi", "title": "Forcing uniform bin display widths in a python histogram for non-uniform data binning", "body": "<p>I have a set of dates corresponding to publishing years for a few hundred books. The vast majority are 1800 to present. But a few (&lt;10) are pre-1800 but widely scattered. What I want is to have my bins go like this:</p>\n\n<p>[0,1600,1700,1800,1810,1820,...2000,2010,2020]</p>\n\n<p>But for the displayed bins to all be the same number of pixels wide.</p>\n\n<p>Here is my code so far:</p>\n\n<pre><code>import sys\nimport csv\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport time\nimport math as m\n\ndef importData(fileName):\n\n  dataArray=[]\n  file=open(fileName,'rb')\n  data = csv.reader(file,delimiter=\"\\t\")\n  for row in data:\n    dataArray.append(row[4])\n  file.close()\n  dataArray=np.array(dataArray).astype(int)\n  return dataArray\n\ndates = importData(\"tabulatedDates.dat\")\n\nbinDivs=np.array([1600,1700]+range(1800,2021,10))\n\nplt.hist(dates,bins=(binDivs),label=[\"Books\"])\n\nplt.xticks(binDivs,rotation=75)\nplt.xlim([1600,2020])\nplt.minorticks_on()\nplt.tick_params(axis='x',which='minor',bottom='off')\n\nplt.grid(True,axis='y',which='both')\nplt.xlabel(\"Year\")\nplt.ylabel(\"Number of books published during this period\")\nplt.title(\"Published year of recommended books\")\n\nplt.show()\n</code></pre>\n\n<p>Here is the output, I want to make those annoying wide bins the same width as the rest of the bins but still represent 100 years</p>\n\n<p><img src=\"https://i.stack.imgur.com/PcZYr.png\" alt=\"First example\"></p>\n\n<p>Now I could use this code with the width variable set, but then I have a bunch of ugly white space which is just as problematic.</p>\n\n<pre><code>plt.hist(dates,bins=(binDivs),width=10,label=[\"Books\"])\n</code></pre>\n\n<p><img src=\"https://i.stack.imgur.com/uMZvB.png\" alt=\"Second example\"></p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 2800, "user_id": 2193134, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7007988a388d47491a921503d30cca07?s=128&d=identicon&r=PG&f=1", "display_name": "TehTris", "link": "https://stackoverflow.com/users/2193134/tehtris"}, "edited": false, "score": 1, "creation_date": 1430334789, "post_id": 29952423, "comment_id": 48025878, "body": "so you want the output to be <code>&quot; I a newbie find stackoverflow to be very very very useful &quot;</code> ? please put things like that in quotes. also why do you have to start with the unformatted <code>&quot; I a %s find %s very useful &quot;</code> ? wouldnt it make more sense to use <code>&quot; I a %s find %s %s useful &quot;</code> as a jumpoff point if you know you are going to do something to the word &quot;very&quot; ?"}], "answers": [{"tags": [], "owner": {"reputation": 18948, "user_id": 3051961, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/b81cbd6deac24f756452266ff2e8d3ce?s=128&d=identicon&r=PG", "display_name": "ZdaR", "link": "https://stackoverflow.com/users/3051961/zdar"}, "is_accepted": false, "score": 2, "last_activity_date": 1430334617, "creation_date": 1430334617, "answer_id": 29952502, "question_id": 29952423, "link": "https://stackoverflow.com/questions/29952423/use-same-variable-multiple-times-in-print/29952502#29952502", "title": "Use same variable multiple times in print", "body": "<p>In python to repeat any string over multiple times you can easily use <code>*</code>operator as :</p>\n\n<pre><code>word = \"very \"\nprint word*3\n&gt;&gt;&gt; very very very\n</code></pre>\n\n<p>So In the given context you can use :</p>\n\n<pre><code>print \"I %s, find %s %s useful\"% (\"newbie\", \"stack\", word*3)\n&gt;&gt;&gt; I newbie, find stack very very very  useful\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2800, "user_id": 2193134, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7007988a388d47491a921503d30cca07?s=128&d=identicon&r=PG&f=1", "display_name": "TehTris", "link": "https://stackoverflow.com/users/2193134/tehtris"}, "edited": false, "score": 1, "creation_date": 1430334867, "post_id": 29952553, "comment_id": 48025923, "body": "<code>string.format()</code> should be the standard issue way to do this type of thing"}], "tags": [], "owner": {"reputation": 96909, "user_id": 3030305, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/En2fP.png?s=128&g=1", "display_name": "John1024", "link": "https://stackoverflow.com/users/3030305/john1024"}, "is_accepted": true, "score": 6, "last_activity_date": 1430335019, "last_edit_date": 1430335019, "creation_date": 1430334785, "answer_id": 29952553, "question_id": 29952423, "link": "https://stackoverflow.com/questions/29952423/use-same-variable-multiple-times-in-print/29952553#29952553", "title": "Use same variable multiple times in print", "body": "<pre><code>&gt;&gt;&gt; print(\"I a {0} find {1} {2} {2} {2} {2} useful\".format(name, site, 'very'))\nI a newbie find stackoverflow very very very very useful\n</code></pre>\n\n<p>Or, using names:</p>\n\n<pre><code>&gt;&gt;&gt; a='very'\n&gt;&gt;&gt; print(\"I a {name} find {site} {a} {a} {a} {a} useful\".format(name=name, site=site, a=a))\nI a newbie find stackoverflow very very very very useful\n</code></pre>\n\n<p>Or, using the local dictionary:</p>\n\n<pre><code>&gt;&gt;&gt; print(\"I a {name} find {site} {a} {a} {a} {a} useful\".format(**locals()))\nI a newbie find stackoverflow very very very very useful\n</code></pre>\n"}], "owner": {"reputation": 359, "user_id": 4378672, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/b8604a50417d6f4469b06d519da8dacc?s=128&d=identicon&r=PG", "display_name": "newbie", "link": "https://stackoverflow.com/users/4378672/newbie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2009, "favorite_count": 0, "accepted_answer_id": 29952553, "answer_count": 2, "score": 4, "last_activity_date": 1430335036, "creation_date": 1430334375, "last_edit_date": 1430335036, "question_id": 29952423, "link": "https://stackoverflow.com/questions/29952423/use-same-variable-multiple-times-in-print", "title": "Use same variable multiple times in print", "body": "<p>In Python if I want to use a variable in string while printing I do the following:</p>\n\n<pre><code>name = \"newbie\"\nsite = \"Stack Overflow\"\nprint(\"I, a %s, find %s very useful\" % (name, site))\n</code></pre>\n\n<p>If I want to print <code>\"I, a newbie, find Stack Overflow to be very very very useful'</code> and substitute <code>'very'</code> by a variable name, how can I do that, while still using the <code>name</code> and <code>site</code> variables?</p>\n"}, {"tags": ["python", "list", "parsing"], "comments": [{"owner": {"reputation": 94141, "user_id": 2867928, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/a8DM1.jpg?s=128&g=1", "display_name": "kasravnd", "link": "https://stackoverflow.com/users/2867928/kasravnd"}, "edited": false, "score": 0, "creation_date": 1430334354, "post_id": 29952373, "comment_id": 48025629, "body": "Can you show your expected output? and the code that you have tried?"}, {"owner": {"reputation": 24179, "user_id": 1672429, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/0815eb7d4e9dd58022d51ba2011b9c0a?s=128&d=identicon&r=PG", "display_name": "Stefan Pochmann", "link": "https://stackoverflow.com/users/1672429/stefan-pochmann"}, "edited": false, "score": 2, "creation_date": 1430335294, "post_id": 29952373, "comment_id": 48026180, "body": "Why do you have this list in the first place? Is that a CSV file so you might be better off using the <a href=\"https://docs.python.org/3/library/csv.html\" rel=\"nofollow noreferrer\">csv module</a>?"}, {"owner": {"reputation": 91, "user_id": 4812916, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/4f8c6f3c0d11783998e20eb288f357f1?s=128&d=identicon&r=PG&f=1", "display_name": "Albert", "link": "https://stackoverflow.com/users/4812916/albert"}, "edited": false, "score": 0, "creation_date": 1430335397, "post_id": 29952373, "comment_id": 48026246, "body": "This is a CSV file. How would I get just the data I need doing it that way?"}], "answers": [{"tags": [], "owner": {"reputation": 44000, "user_id": 535275, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/Ft2Mw.jpg?s=128&g=1", "display_name": "Scott Hunter", "link": "https://stackoverflow.com/users/535275/scott-hunter"}, "is_accepted": false, "score": 3, "last_activity_date": 1430335281, "last_edit_date": 1430335281, "creation_date": 1430334359, "answer_id": 29952416, "question_id": 29952373, "link": "https://stackoverflow.com/questions/29952373/parse-list-to-other-list/29952416#29952416", "title": "Parse list to other list", "body": "<pre><code>[[y.strip() for y in x.split(\",\")[-2:]] for x in original_list[1:]]\n</code></pre>\n\n<p>That is: for each x in the original list (less the first entry, which looks like a header), take the last 2 items you get after splitting it by commas, and strip each of those 2 items (to remove extra whitespace, like the trailing <code>\\n</code>).</p>\n"}, {"comments": [{"owner": {"reputation": 7421, "user_id": 1382766, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/0620b7fe3d25636d899cc2a11f130fa2?s=128&d=identicon&r=PG", "display_name": "heinst", "link": "https://stackoverflow.com/users/1382766/heinst"}, "reply_to_user": {"reputation": 10664, "user_id": 475229, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/0952c4a2c08421aecb397d3a81545f6e?s=128&d=identicon&r=PG", "display_name": "jgritty", "link": "https://stackoverflow.com/users/475229/jgritty"}, "edited": false, "score": 0, "creation_date": 1430334756, "post_id": 29952472, "comment_id": 48025862, "body": "@jgritty OP states <code>What would be the best way to traverse this list and put all the data that I need into another list?</code>"}, {"owner": {"reputation": 7421, "user_id": 1382766, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/0620b7fe3d25636d899cc2a11f130fa2?s=128&d=identicon&r=PG", "display_name": "heinst", "link": "https://stackoverflow.com/users/1382766/heinst"}, "reply_to_user": {"reputation": 10664, "user_id": 475229, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/0952c4a2c08421aecb397d3a81545f6e?s=128&d=identicon&r=PG", "display_name": "jgritty", "link": "https://stackoverflow.com/users/475229/jgritty"}, "edited": false, "score": 0, "creation_date": 1430334789, "post_id": 29952472, "comment_id": 48025877, "body": "@jgritty Although my way may not be the <code>best</code> it is still a valid way of putting those specified items in a new list"}, {"owner": {"reputation": 91, "user_id": 4812916, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/4f8c6f3c0d11783998e20eb288f357f1?s=128&d=identicon&r=PG&f=1", "display_name": "Albert", "link": "https://stackoverflow.com/users/4812916/albert"}, "edited": false, "score": 0, "creation_date": 1430335079, "post_id": 29952472, "comment_id": 48026045, "body": "Sorry, I did notice my OP was vague. I fixed the question.  I want the output list to be a list of lists with each pair as their own list. Also, would there any way to delete the trailing new line in each longitude number?"}, {"owner": {"reputation": 44000, "user_id": 535275, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/Ft2Mw.jpg?s=128&g=1", "display_name": "Scott Hunter", "link": "https://stackoverflow.com/users/535275/scott-hunter"}, "reply_to_user": {"reputation": 91, "user_id": 4812916, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/4f8c6f3c0d11783998e20eb288f357f1?s=128&d=identicon&r=PG&f=1", "display_name": "Albert", "link": "https://stackoverflow.com/users/4812916/albert"}, "edited": false, "score": 0, "creation_date": 1430335361, "post_id": 29952472, "comment_id": 48026222, "body": "@Albert: The method you&#39;re looking for is <code>strip</code> (to remove whitespace at either end of a string)."}], "tags": [], "owner": {"reputation": 7421, "user_id": 1382766, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/0620b7fe3d25636d899cc2a11f130fa2?s=128&d=identicon&r=PG", "display_name": "heinst", "link": "https://stackoverflow.com/users/1382766/heinst"}, "is_accepted": true, "score": 3, "last_activity_date": 1430335483, "last_edit_date": 1430335483, "creation_date": 1430334535, "answer_id": 29952472, "question_id": 29952373, "link": "https://stackoverflow.com/questions/29952373/parse-list-to-other-list/29952472#29952472", "title": "Parse list to other list", "body": "<p>You could go through the list items and split the items after the first one, and get the last two items from the list and append it to a new List</p>\n\n<pre><code>l = ['GIS_FPC_PP,PERIMETER,MAT,LIGHTS,PARK,SPACES,LAT,LNG\\n',\n     '8266.99157657,453.7255798,Paved,1,American Legion,20,40.0188044212,-75.0547647126\\n',\n     '20054.5870679,928.20201772,Paved,1,Barnes Foundation Museum, ,39.9610355788,-75.1725011285\\n']\n\nnewList = []\nfor i in range(0, len(l)):\n    item = l[i]\n    tempList = []\n    if i != 0:\n        itemSplit = item.split(',')\n        tempList.append(itemSplit[-2].strip())\n        tempList.append(itemSplit[-1].strip())\n        newList.append(tuple(tempList))\nprint newList\n</code></pre>\n\n<h3>Output</h3>\n\n<pre><code>[('40.0188044212', '-75.0547647126'), ('39.9610355788', '-75.1725011285')]\n</code></pre>\n"}], "owner": {"reputation": 91, "user_id": 4812916, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/4f8c6f3c0d11783998e20eb288f357f1?s=128&d=identicon&r=PG&f=1", "display_name": "Albert", "link": "https://stackoverflow.com/users/4812916/albert"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "accepted_answer_id": 29952472, "answer_count": 2, "score": 0, "last_activity_date": 1430335639, "creation_date": 1430334199, "last_edit_date": 1430335016, "question_id": 29952373, "link": "https://stackoverflow.com/questions/29952373/parse-list-to-other-list", "title": "Parse list to other list", "body": "<p>I have a list in python that looks like so:</p>\n\n<pre><code>['GIS_FPC_PP,PERIMETER,MAT,LIGHTS,PARK,SPACES,LAT,LNG\\n', '8266.99157657,453.7255798,Paved,1,American Legion,20,40.0188044212,-75.0547647126\\n', '20054.5870679,928.20201772,Paved,1,Barnes Foundation Museum, ,39.9610355788,-75.1725011285\\n']\n</code></pre>\n\n<p>It has a lot of data that I do not need.  All I need is the last two numbers in each entry.  What would be the best way to traverse this list and put all the data that I need into another list of lists where each pair is its own list?</p>\n"}, {"tags": ["python", "csv", "web-scraping", "scrapy"], "answers": [{"tags": [], "owner": {"reputation": 7598, "user_id": 2842884, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/093fa30f7d60dbe70075149dbdfe4583?s=128&d=identicon&r=PG&f=1", "display_name": "bosnjak", "link": "https://stackoverflow.com/users/2842884/bosnjak"}, "is_accepted": false, "score": 0, "last_activity_date": 1430340206, "creation_date": 1430340206, "answer_id": 29954143, "question_id": 29952353, "link": "https://stackoverflow.com/questions/29952353/cant-read-in-a-file-and-then-write-results-to-a-file-with-scrapy-python/29954143#29954143", "title": "Can&#39;t read in a file and then write results to a file with scrapy (python)", "body": "<p>If you have dynamic start requests, you should use <code>start_requests()</code> to yield them, instead of changing <code>start_urls</code>.<br>\nThis is how you should do it:</p>\n\n<pre><code>class DmozSpider(BaseSpider):\nname = \"dmoz\"\nallowed_domains = [\"ebay.com\"]\n\ndef start_requests(self):\n    if self.filename:\n        with open(self.filename, 'r') as f:\n            for url in f.readlines():\n                yield scrapy.Request(url)\n</code></pre>\n\n<p>To write the output to a <code>csv</code> file, you only need to define the file using the <code>-o</code> argument (if you use a valid extension, the feed format will be auto selected):</p>\n\n<pre><code>scrapy crawl dmoz -a filename=text.txt -o output.csv\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 4847899, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/35daa24ae6deac4d96e25aad78a9b863?s=128&d=identicon&r=PG&f=1", "display_name": "savestheday", "link": "https://stackoverflow.com/users/4847899/savestheday"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 476, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1430340206, "creation_date": 1430334149, "question_id": 29952353, "link": "https://stackoverflow.com/questions/29952353/cant-read-in-a-file-and-then-write-results-to-a-file-with-scrapy-python", "title": "Can&#39;t read in a file and then write results to a file with scrapy (python)", "body": "<p>I'm doing some webscraping with scrapy, and I've run into a problem. I've figured out that I can save my scrapy results to a csv file using the following command line:</p>\n\n<pre><code>    scrapy crawl spider --set FEED_URI=output.csv --set FEED_FORMAT=csv\n</code></pre>\n\n<p>I also know that I can read in a start url to scrape from a text file by using the following command line input:</p>\n\n<pre><code>    scrapy crawl dmoz -a filename=text.txt\n</code></pre>\n\n<p>And my code in my spider is:</p>\n\n<pre><code>class DmozSpider(BaseSpider):\nname = \"dmoz\"\nallowed_domains = [\"ebay.com\"]\n\ndef __init__(self, filename=None):\n    if filename:\n        with open(filename, 'r') as f:\n            self.start_urls = f.readlines()\n            print self.start_urls\n</code></pre>\n\n<p>My issue arises when I try to do both of these at once. I want my spider to scrape the url specified in the text file, and then write the output to a csv file. The following command line does not work for some reason, the url is read in (I know for a fact), but the csv file is not written:</p>\n\n<pre><code>   scrapy crawl dmoz -a filename=text.txt --set FEED_URI=output.csv --set FEED_FORMAT=csv\n</code></pre>\n\n<p>If anyone sees what I'm doing wrong or has a workaround, it would be much appreciated. Thanks!</p>\n"}, {"tags": ["python", "json", "processing"], "comments": [{"owner": {"reputation": 11566, "user_id": 1262820, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mq3Cq.png?s=128&g=1", "display_name": "felipsmartins", "link": "https://stackoverflow.com/users/1262820/felipsmartins"}, "edited": false, "score": 0, "creation_date": 1430334277, "post_id": 29952346, "comment_id": 48025584, "body": "<a href=\"http://stackoverflow.com/help/mcve\">stackoverflow.com/help/mcve</a>"}, {"owner": {"reputation": 2909, "user_id": 402933, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1b1f2d72a0f707c58e5685123f5c8b49?s=128&d=identicon&r=PG", "display_name": "JordanBelf", "link": "https://stackoverflow.com/users/402933/jordanbelf"}, "reply_to_user": {"reputation": 11566, "user_id": 1262820, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mq3Cq.png?s=128&g=1", "display_name": "felipsmartins", "link": "https://stackoverflow.com/users/1262820/felipsmartins"}, "edited": false, "score": 0, "creation_date": 1430334431, "post_id": 29952346, "comment_id": 48025675, "body": "@felipsmartins I&#39;m sorry I don&#39;t have an example because I don&#39;t know if there is a way it can be done. That is the purpose of my question. Do you know how to call python with arguments from within Processing? Thanks."}, {"owner": {"reputation": 27290, "user_id": 16959, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/SlC7g.jpg?s=128&g=1", "display_name": "Jason Sperske", "link": "https://stackoverflow.com/users/16959/jason-sperske"}, "edited": false, "score": 2, "creation_date": 1430334472, "post_id": 29952346, "comment_id": 48025701, "body": "Are you looking for the <code>open</code> function? <a href=\"https://processing.org/reference/open_.html\" rel=\"nofollow noreferrer\">processing.org/reference/open_.html</a>"}, {"owner": {"reputation": 2909, "user_id": 402933, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1b1f2d72a0f707c58e5685123f5c8b49?s=128&d=identicon&r=PG", "display_name": "JordanBelf", "link": "https://stackoverflow.com/users/402933/jordanbelf"}, "reply_to_user": {"reputation": 27290, "user_id": 16959, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/SlC7g.jpg?s=128&g=1", "display_name": "Jason Sperske", "link": "https://stackoverflow.com/users/16959/jason-sperske"}, "edited": false, "score": 0, "creation_date": 1430334576, "post_id": 29952346, "comment_id": 48025758, "body": "@JasonSperske Thanks, not sure if that will do it but I will definitely try if I can pass the output of the python to a String using Open() Thanks a lot. I let you know if it works so you can make it an answer."}, {"owner": {"reputation": 1763, "user_id": 457290, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/PRprG.jpg?s=128&g=1", "display_name": "matiasg", "link": "https://stackoverflow.com/users/457290/matiasg"}, "edited": false, "score": 0, "creation_date": 1430334741, "post_id": 29952346, "comment_id": 48025851, "body": "Add a link to the <code>processing</code> library you are using. Is it this one? <a href=\"https://pypi.python.org/pypi/processing/\" rel=\"nofollow noreferrer\">pypi.python.org/pypi/processing</a>"}, {"owner": {"reputation": 2909, "user_id": 402933, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1b1f2d72a0f707c58e5685123f5c8b49?s=128&d=identicon&r=PG", "display_name": "JordanBelf", "link": "https://stackoverflow.com/users/402933/jordanbelf"}, "reply_to_user": {"reputation": 1763, "user_id": 457290, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/PRprG.jpg?s=128&g=1", "display_name": "matiasg", "link": "https://stackoverflow.com/users/457290/matiasg"}, "edited": false, "score": 0, "creation_date": 1430334830, "post_id": 29952346, "comment_id": 48025901, "body": "@matiasg No, I am using Processing the language <a href=\"https://processing.org/\" rel=\"nofollow noreferrer\">processing.org</a>"}], "answers": [{"comments": [{"owner": {"reputation": 2909, "user_id": 402933, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1b1f2d72a0f707c58e5685123f5c8b49?s=128&d=identicon&r=PG", "display_name": "JordanBelf", "link": "https://stackoverflow.com/users/402933/jordanbelf"}, "edited": false, "score": 0, "creation_date": 1430526394, "post_id": 29992877, "comment_id": 48113446, "body": "Thanks a lot Mike. Your option is the best, actually I thought to myself something similar but I know how to do that with PHP I did not know I was able to do the same with python and send the parameters in the URL and make python read them. I will learn more about python as a web service."}], "tags": [], "owner": {"reputation": 39499, "user_id": 740553, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/s5cOX.jpg?s=128&g=1", "display_name": "Mike &#39;Pomax&#39; Kamermans", "link": "https://stackoverflow.com/users/740553/mike-pomax-kamermans"}, "is_accepted": true, "score": 1, "last_activity_date": 1430505215, "creation_date": 1430505215, "answer_id": 29992877, "question_id": 29952346, "link": "https://stackoverflow.com/questions/29952346/how-can-i-call-a-python-script-with-arguments-from-within-processing/29992877#29992877", "title": "How can I call a python script with arguments from within Processing?", "body": "<p>One option, as pointed out in the comments, is to use <a href=\"https://processing.org/reference/open_.html\" rel=\"nofollow\">open</a>, and then load the file that generates the normal way.</p>\n\n<p>Another -arguably much better- way is to not do this and to run your python script as services with a web interface instead, so that your python scripts sits listening on <a href=\"http://localhost:1234\" rel=\"nofollow\">http://localhost:1234</a>, for instance, and your Processing sketch can simply load a file \"<a href=\"http://localhost:1234/somefile?input=whatever\" rel=\"nofollow\">http://localhost:1234/somefile?input=whatever</a>\" and not even care what is actually generating the content.</p>\n\n<p>The upside there is also that you can run your script <em>anywhere</em> that can be reached via URLs, and those things don't need to rely on python being available as an executable.</p>\n"}], "owner": {"reputation": 2909, "user_id": 402933, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1b1f2d72a0f707c58e5685123f5c8b49?s=128&d=identicon&r=PG", "display_name": "JordanBelf", "link": "https://stackoverflow.com/users/402933/jordanbelf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71, "favorite_count": 0, "accepted_answer_id": 29992877, "answer_count": 1, "score": 0, "last_activity_date": 1430505215, "creation_date": 1430334125, "question_id": 29952346, "link": "https://stackoverflow.com/questions/29952346/how-can-i-call-a-python-script-with-arguments-from-within-processing", "title": "How can I call a python script with arguments from within Processing?", "body": "<p>I have a <code>python</code> script which outputs a <code>JSON</code> when called with different arguments. I am looking for a way to call that script from within Processing and load the output using something like <code>loadJSONObject()</code></p>\n\n<p>The problem is that I don't know how to call the python script with arguments from within Processing. </p>\n\n<p>Any tip will be appreciated, thanks!</p>\n"}, {"tags": ["python", "rest", "flask", "flask-restful"], "answers": [{"tags": [], "owner": {"reputation": 626, "user_id": 2217686, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PUdfr.jpg?s=128&g=1", "display_name": "Nathan Hoover", "link": "https://stackoverflow.com/users/2217686/nathan-hoover"}, "is_accepted": true, "score": 5, "last_activity_date": 1430335283, "creation_date": 1430335283, "answer_id": 29952707, "question_id": 29952341, "link": "https://stackoverflow.com/questions/29952341/flask-restful-custom-routes-for-each-http-method/29952707#29952707", "title": "Flask-RESTful custom routes for each HTTP method", "body": "<p>The short answer is, you shouldn't. That's not RESTful at all.</p>\n\n<p>However, if you really want to, I think you could do it like so:</p>\n\n<pre><code>api.add_resource(RoomAPI,'/api/rooms/get', methods=['GET'])\napi.add_resource(RoomAPI,'/api/rooms/create', methods=['PUT'])\napi.add_resource(RoomAPI,'/api/rooms/update', methods=['POST'])\n</code></pre>\n\n<p>Since the unused <code>**kwargs</code> from add_resource get passed to  <code>add_url_rule()</code>.</p>\n"}], "owner": {"reputation": 144, "user_id": 2928020, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/ff997deb1bda7fe1a916e5b30990bd97?s=128&d=identicon&r=PG", "display_name": "asnelzin", "link": "https://stackoverflow.com/users/2928020/asnelzin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1190, "favorite_count": 0, "accepted_answer_id": 29952707, "answer_count": 1, "score": 1, "last_activity_date": 1430335283, "creation_date": 1430334112, "question_id": 29952341, "link": "https://stackoverflow.com/questions/29952341/flask-restful-custom-routes-for-each-http-method", "title": "Flask-RESTful custom routes for each HTTP method", "body": "<p>I have simple Resource class which defines some API methods:</p>\n\n<pre><code>class RoomAPI(Resource):\n    def get(self):\n        # some code\n\n    def post(self):\n        # some code\n\n    def put(self):\n        # some code\n</code></pre>\n\n<p>Then I define my routes like this:</p>\n\n<pre><code>api.add_resource(RoomAPI,'/api/rooms/')\n</code></pre>\n\n<p>So, my question is: how can I make different routes for each HTTP methos using only one Resource class?</p>\n\n<p>I want to get such API:</p>\n\n<pre><code>GET /api/rooms/get/\nPOST /api/rooms/create/\nPUT /api/rooms/update/\n</code></pre>\n"}, {"tags": ["python", "python-2.7"], "answers": [{"tags": [], "owner": {"reputation": 366, "user_id": 4793320, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-D6gYfT3vAM8/AAAAAAAAAAI/AAAAAAAAALU/f7PnSLzFD74/photo.jpg?sz=128", "display_name": "Psymunn", "link": "https://stackoverflow.com/users/4793320/psymunn"}, "is_accepted": true, "score": 3, "last_activity_date": 1469648553, "last_edit_date": 1469648553, "creation_date": 1430335168, "answer_id": 29952674, "question_id": 29952323, "link": "https://stackoverflow.com/questions/29952323/iterating-over-dictionary-with-wildcard-key-matching/29952674#29952674", "title": "Iterating over dictionary with wildcard key matching", "body": "<p>You just iterate over your dictionary, and do a pattern match on the key.</p>\n\n<pre><code>for key in dict:\n    if re.match(r'npi[0-9]+', key):\n        print(dict[key])\n</code></pre>\n"}], "owner": {"reputation": 7374, "user_id": 1634753, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/aa962e4482e6eb20f3985622a039f0fe?s=128&d=identicon&r=PG", "display_name": "Rilcon42", "link": "https://stackoverflow.com/users/1634753/rilcon42"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3435, "favorite_count": 1, "accepted_answer_id": 29952674, "answer_count": 1, "score": 3, "last_activity_date": 1469648553, "creation_date": 1430334046, "last_edit_date": 1469645425, "question_id": 29952323, "link": "https://stackoverflow.com/questions/29952323/iterating-over-dictionary-with-wildcard-key-matching", "title": "Iterating over dictionary with wildcard key matching", "body": "<p>I am trying to iterate over a dictionary in order to retrieve all values that match the pattern <code>npi[0-9]+</code> for the key. Is this possible in Python?</p>\n\n<pre><code>for data in input_file:\n    print(data['npi0'])\n    print(data['npi1'])\n    ....\n</code></pre>\n"}, {"tags": ["python", "django", "django-models", "django-views", "django-queryset"], "comments": [{"owner": {"reputation": 1424, "user_id": 1306336, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/e187V.jpg?s=128&g=1", "display_name": "onyeka", "link": "https://stackoverflow.com/users/1306336/onyeka"}, "edited": false, "score": 0, "creation_date": 1430343720, "post_id": 29952301, "comment_id": 48030982, "body": "There&#39;s a lot going on here..  lwhat line is throwing the error? can you post the last few lines of the traceback? Also, just wondering, the &#39;print user_objects&#39;, is that for your own use, or is that means to be displayed in the template?"}, {"owner": {"reputation": 31, "user_id": 4847831, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfaa3806b3cb6775d47a84f2394e9a19?s=128&d=identicon&r=PG&f=1", "display_name": "quinnfinite", "link": "https://stackoverflow.com/users/4847831/quinnfinite"}, "reply_to_user": {"reputation": 1424, "user_id": 1306336, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/e187V.jpg?s=128&g=1", "display_name": "onyeka", "link": "https://stackoverflow.com/users/1306336/onyeka"}, "edited": false, "score": 0, "creation_date": 1430345878, "post_id": 29952301, "comment_id": 48031857, "body": "@onyeka Just added the traceback and the line that seems to be throwing the error in the post."}, {"owner": {"reputation": 1424, "user_id": 1306336, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/e187V.jpg?s=128&g=1", "display_name": "onyeka", "link": "https://stackoverflow.com/users/1306336/onyeka"}, "edited": false, "score": 0, "creation_date": 1430347798, "post_id": 29952301, "comment_id": 48032663, "body": "I think I&#39;ve seen your problem, but just to be clear, Can a user have more than one property?"}, {"owner": {"reputation": 31, "user_id": 4847831, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfaa3806b3cb6775d47a84f2394e9a19?s=128&d=identicon&r=PG&f=1", "display_name": "quinnfinite", "link": "https://stackoverflow.com/users/4847831/quinnfinite"}, "reply_to_user": {"reputation": 1424, "user_id": 1306336, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/e187V.jpg?s=128&g=1", "display_name": "onyeka", "link": "https://stackoverflow.com/users/1306336/onyeka"}, "edited": false, "score": 0, "creation_date": 1430348140, "post_id": 29952301, "comment_id": 48032813, "body": "@onyeka yes, a user may have multiple property&#39;s."}, {"owner": {"reputation": 1424, "user_id": 1306336, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/e187V.jpg?s=128&g=1", "display_name": "onyeka", "link": "https://stackoverflow.com/users/1306336/onyeka"}, "edited": false, "score": 0, "creation_date": 1430348732, "post_id": 29952301, "comment_id": 48033067, "body": "So what&#39;s the goal? Are they editing all the properties at once? The formset is meant to work with a single instance but user_floor_plan and user_property are both returning querysets."}, {"owner": {"reputation": 31, "user_id": 4847831, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfaa3806b3cb6775d47a84f2394e9a19?s=128&d=identicon&r=PG&f=1", "display_name": "quinnfinite", "link": "https://stackoverflow.com/users/4847831/quinnfinite"}, "reply_to_user": {"reputation": 1424, "user_id": 1306336, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/e187V.jpg?s=128&g=1", "display_name": "onyeka", "link": "https://stackoverflow.com/users/1306336/onyeka"}, "edited": false, "score": 0, "creation_date": 1430349058, "post_id": 29952301, "comment_id": 48033171, "body": "@onyeka Yes, although I&#39;m beginning to think it might make more sense to have a specific dashboard for each property that includes the related floorplans.  I definitely want to be able to have multiple floorplans per property though."}, {"owner": {"reputation": 1424, "user_id": 1306336, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/e187V.jpg?s=128&g=1", "display_name": "onyeka", "link": "https://stackoverflow.com/users/1306336/onyeka"}, "edited": false, "score": 0, "creation_date": 1430350102, "post_id": 29952301, "comment_id": 48033505, "body": "I think what you&#39;re saying is a better approach, main dashboard can have a list of all the user properties then something like /dashboard-property/1 can be for each property&#39;s floor plan. <code>def property_floor_plans(request, id)</code> where id is the Property id. I feel that&#39;ll be tidier."}, {"owner": {"reputation": 1424, "user_id": 1306336, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/e187V.jpg?s=128&g=1", "display_name": "onyeka", "link": "https://stackoverflow.com/users/1306336/onyeka"}, "edited": false, "score": 0, "creation_date": 1430350159, "post_id": 29952301, "comment_id": 48033525, "body": "also you you don&#39;t need user_objects, seeing as you&#39;ve already defined the user as request.user."}, {"owner": {"reputation": 31, "user_id": 4847831, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfaa3806b3cb6775d47a84f2394e9a19?s=128&d=identicon&r=PG&f=1", "display_name": "quinnfinite", "link": "https://stackoverflow.com/users/4847831/quinnfinite"}, "reply_to_user": {"reputation": 1424, "user_id": 1306336, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/e187V.jpg?s=128&g=1", "display_name": "onyeka", "link": "https://stackoverflow.com/users/1306336/onyeka"}, "edited": false, "score": 0, "creation_date": 1430350347, "post_id": 29952301, "comment_id": 48033589, "body": "@onyeka Thanks for the suggestion, I&#39;ll give it a try.  What do you think should be done if the user doesn&#39;t have any property&#39;s?  Maybe an alternate view for the first input..."}, {"owner": {"reputation": 1424, "user_id": 1306336, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/e187V.jpg?s=128&g=1", "display_name": "onyeka", "link": "https://stackoverflow.com/users/1306336/onyeka"}, "edited": false, "score": 0, "creation_date": 1430350785, "post_id": 29952301, "comment_id": 48033723, "body": "Yes, you&#39;ll want to have another view for the properties list. If there&#39;s none, you can just leave a message in the template. For instance <code>{% if properties_list %} ... the list...  {% else %} You do not have any properties yet. {% endif %}</code> something like that."}], "owner": {"reputation": 31, "user_id": 4847831, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfaa3806b3cb6775d47a84f2394e9a19?s=128&d=identicon&r=PG&f=1", "display_name": "quinnfinite", "link": "https://stackoverflow.com/users/4847831/quinnfinite"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1807, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1430345990, "creation_date": 1430334007, "last_edit_date": 1430345990, "question_id": 29952301, "link": "https://stackoverflow.com/questions/29952301/queryset-object-has-no-attribute-pk-when-retrieving-objects-with-formset", "title": "&#39;QuerySet&#39; object has no attribute &#39;pk&#39; when retrieving objects with formset", "body": "<p>I'm trying to fetch forms for floorplans related to user's property's, and am really having some troubles with it.  Every time I get an attribute error of: 'QuerySet' object has no attribute 'pk'</p>\n\n<p>models.py:</p>\n\n<pre><code>    class Property(models.Model):\n        user = models.ForeignKey(settings.AUTH_USER_MODEL, null=True, blank=True, related_name='user')\n        name = models.CharField(max_length=120, help_text=\"This is the name that will display on your profile\")\n        image = models.ImageField(upload_to='properties/', null=True, blank=True)    \n        options=(('House', 'House'),('Condo','Condo'),('Apartment','Apartment')) \n        rental_type = models.CharField(max_length=120, blank=True, null=True, choices=options, default='Apartment')\n        address = models.CharField(max_length=120)\n        phone_number = models.CharField(max_length=120, blank=True, null=True)\n        email = models.EmailField(max_length=120, blank=True, null=True)\n        website = models.CharField(max_length=250, blank=True, null=True)\n        description = models.CharField(max_length=500, blank=True, null=True)\n        lat = models.CharField(max_length=120, blank=True, null=True)\n        lng = models.CharField(max_length=120, blank=True, null=True)\n        coordinates =models.CharField(max_length=120, blank=True, null=True)\n        slug = models.SlugField(unique=True, max_length=501)\n        active = models.BooleanField(default= True)\n        date_added = models.DateTimeField(auto_now_add=True)\n\n        def save(self):\n            super(Property, self).save()\n            max_length = Property._meta.get_field('slug').max_length\n            slug_name = slugify(self.name)\n            self.slug = '%s-%d' % (slug_name, self.id)  \n            self.coordinates = geo_lat_lng(self.address)\n            self.lat = self.coordinates[0]\n            self.lng = self.coordinates[1]\n            super(Property, self).save()\n\n        def __unicode__(self):\n            return '%s-%s-%s' % (self.id, self.name, self.address)\n\n        def get_absolute_url(self):\n            return reverse(\"single_property\", kwargs={\"slug\": self.slug})\n\n    class FloorPlan(models.Model):\n        property_name = models.ForeignKey(Property, related_name='property_name')\n        floor_plan_name = models.CharField(max_length=120, blank=True, null=True)\n        numbers = (('0','0'),('1','1'),('2','2'),('3','3'),('4','4'),('5','5'),('6+','6+'),)\n        bedrooms = models.CharField(max_length=120, blank=True, null=True, choices=numbers)\n        bathrooms = models.CharField(max_length=120, blank=True, null=True, choices=numbers)\n        sqft = models.IntegerField(max_length=120, blank=True, null=True)\n        min_price = models.IntegerField(max_length=120, blank=True, null=True)\n        max_price = models.IntegerField(max_length=120, blank=True, null=True)\n        availability = models.DateField(null=True, blank=True, help_text='Use mm/dd/yyyy format')\n        image = models.ImageField(upload_to='floor_plans/', null=True, blank=True)    \n\n        def __unicode__(self):\n            return '%s' % (self.property_name)\n</code></pre>\n\n<p>views.py:</p>\n\n<pre><code>def property_floor_plans(request):\n    if request.user.is_authenticated():\n        user = request.user\n        profile_type = ProfileType.objects.get(user=user).profile_type\n        if profile_type != 'Property':\n            return HttpResponseRedirect(reverse('dashboard'))\n        user_objects = User.objects.get(username=user)\n        print user_objects\n        user_property = Property.objects.filter(user=user_objects, active=True)\n        user_floor_plan = FloorPlan.objects.select_related('Property').filter(property_name=user_property)\n        if user_property:\n            num_properties = Property.objects.filter(user=user, active=True).count()\n            num_floor_plans = FloorPlan.objects.filter(property_name=user_property).count()\n            num_floor_plans = num_floor_plans\n        else:\n            num_floor_plans = Property.objects.filter(user=user, active=True).count()\n        print 'Number of Floor Plans %s' % (num_floor_plans)\n        FloorPlanFormset = inlineformset_factory(Property, FloorPlan, fk_name='property_name', fields=('property_name', 'floor_plan_name', 'bedrooms', 'bathrooms', 'sqft', 'min_price', 'max_price', 'availability', 'image',))\n        formset_floor_plan = FloorPlanFormset(instance=user_floor_plan)\n    else:\n        user = none\n    context = {\n        'user': user,\n        'formset_floor_plan': formset_floor_plan,\n    }\n    template = 'dashboard/dashboard_property.html'\n    return render(request, template, context)\n</code></pre>\n\n<p>The error seems to come from:</p>\n\n<pre><code>formset_floor_plan = FloorPlanFormset(instance=user_floor_plan)\n</code></pre>\n\n<p>Here's the Traceback</p>\n\n<pre><code>Traceback:\nFile \"/Users/balrog911/Desktop/mvp/mvp_1/lib/python2.7/site-packages/django/core/handlers/base.py\" in get_response\n  111.                     response = wrapped_callback(request, *callback_args, **callback_kwargs)\nFile \"/Users/balrog911/Desktop/mvp/mvp_1_live/src/properties/views.py\" in property_floor_plans\n  103.         formset_floor_plan = FloorPlanFormset(instance=user_floor_plan)\nFile \"/Users/balrog911/Desktop/mvp/mvp_1/lib/python2.7/site-packages/django/forms/models.py\" in __init__\n  855.         if self.instance.pk is not None:\n\nException Type: AttributeError at /dashboard-property/floor-plans/\nException Value: 'QuerySet' object has no attribute 'pk'\n</code></pre>\n\n<p>I'm new to Django and any help would be appreciated!</p>\n"}]