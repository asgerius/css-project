[{"tags": ["python", "numpy", "matrix", "scipy", "sparse-matrix"], "comments": [{"owner": {"reputation": 4957, "user_id": 2230844, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/1b0e722a4823f29c56d7a97bc6500ccc?s=128&d=identicon&r=PG", "display_name": "denfromufa", "link": "https://stackoverflow.com/users/2230844/denfromufa"}, "edited": false, "score": 0, "creation_date": 1426726587, "post_id": 29134820, "comment_id": 46496042, "body": "You can store each block area as a list of tuples (row, column) for each element or boundaries and use these lists as values of dictionary while keys would be tuple of (ID, #) where # is group number: 1 or 2"}, {"owner": {"reputation": 647, "user_id": 1214630, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/5a8480c2d2cb7d6b6827172eed1c770c?s=128&d=identicon&r=PG", "display_name": "superMind", "link": "https://stackoverflow.com/users/1214630/supermind"}, "reply_to_user": {"reputation": 4957, "user_id": 2230844, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/1b0e722a4823f29c56d7a97bc6500ccc?s=128&d=identicon&r=PG", "display_name": "denfromufa", "link": "https://stackoverflow.com/users/2230844/denfromufa"}, "edited": false, "score": 0, "creation_date": 1426726877, "post_id": 29134820, "comment_id": 46496102, "body": "Thanks for your response. I use similar idea but it has some problems. One problem: how do you know which block are you in?  In above example, look at two groups of 5, all are mapped to same Id."}, {"owner": {"reputation": 4957, "user_id": 2230844, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/1b0e722a4823f29c56d7a97bc6500ccc?s=128&d=identicon&r=PG", "display_name": "denfromufa", "link": "https://stackoverflow.com/users/2230844/denfromufa"}, "edited": false, "score": 0, "creation_date": 1426804483, "post_id": 29134820, "comment_id": 46533115, "body": "like i said you know which group of ID=5 you are in by using dict keys as tuple of (ID, #), where # is 1 or 2"}, {"owner": {"reputation": 4957, "user_id": 2230844, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/1b0e722a4823f29c56d7a97bc6500ccc?s=128&d=identicon&r=PG", "display_name": "denfromufa", "link": "https://stackoverflow.com/users/2230844/denfromufa"}, "edited": false, "score": 0, "creation_date": 1426804533, "post_id": 29134820, "comment_id": 46533133, "body": "more generally your data strcuture will depend on operations that you need to perform on it, so first it is better to define all necessary operations on it"}, {"owner": {"reputation": 647, "user_id": 1214630, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/5a8480c2d2cb7d6b6827172eed1c770c?s=128&d=identicon&r=PG", "display_name": "superMind", "link": "https://stackoverflow.com/users/1214630/supermind"}, "reply_to_user": {"reputation": 4957, "user_id": 2230844, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/1b0e722a4823f29c56d7a97bc6500ccc?s=128&d=identicon&r=PG", "display_name": "denfromufa", "link": "https://stackoverflow.com/users/2230844/denfromufa"}, "edited": false, "score": 0, "creation_date": 1426956237, "post_id": 29134820, "comment_id": 46585996, "body": "Thanks for your comments"}], "answers": [{"comments": [{"owner": {"reputation": 647, "user_id": 1214630, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/5a8480c2d2cb7d6b6827172eed1c770c?s=128&d=identicon&r=PG", "display_name": "superMind", "link": "https://stackoverflow.com/users/1214630/supermind"}, "edited": false, "score": 0, "creation_date": 1426741609, "post_id": 29136886, "comment_id": 46499537, "body": "Thanks. I have had working code for a while, similar what you mentioned. But I am not confident I&#39;ve coded in best possible way."}], "tags": [], "owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "is_accepted": false, "score": 1, "last_activity_date": 1426736792, "creation_date": 1426736792, "answer_id": 29136886, "question_id": 29134820, "link": "https://stackoverflow.com/questions/29134820/find-non-zeros-block-in-sparse-matrix-and-do-so-process/29136886#29136886", "title": "Find non-zeros block in sparse matrix and do so process", "body": "<p>For a start, I'd try to build a dictionary by scanning the array for nonzero terms.  </p>\n\n<p><code>scipy.sparse</code> does this with a <code>dok</code> format (dictionary of keys), where a key is a tuple with the <code>i,j</code> coordinates, and the value is the array value.  But for the purposes of this problem I'd make the values (5,8,etc) the keys, and the dictionary value would a list of coordinate tuples.  A <code>collections.defaultdict</code> would do this quickly.</p>\n\n<p>For example:</p>\n\n<pre><code>dd = {8:[(0,0),(0,1),(2,11),(3,11),...], 5:[(1,1),(1,2),...]}\n</code></pre>\n\n<p>Then I'd scan the dictionary, and using some sort of distance criteria, break up the lists </p>\n\n<pre><code>dd = {66:[(0,0),(0,1)], 8:[(2,11),(3,11)...], 55:[...], 5:[...]...}\n</code></pre>\n\n<p>I don't think there is a way of avoiding iterating through the array several times.  A dictionary like this a flexible way of collecting and regrouping data like this.  Once the problem is better understood it might be possible to work with the array directly.  But the first step is to get working code.  Efficiency comes later.</p>\n"}], "owner": {"reputation": 647, "user_id": 1214630, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/5a8480c2d2cb7d6b6827172eed1c770c?s=128&d=identicon&r=PG", "display_name": "superMind", "link": "https://stackoverflow.com/users/1214630/supermind"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 151, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1426736792, "creation_date": 1426722687, "last_edit_date": 1426724265, "question_id": 29134820, "link": "https://stackoverflow.com/questions/29134820/find-non-zeros-block-in-sparse-matrix-and-do-so-process", "title": "Find non-zeros block in sparse matrix and do so process", "body": "<p>I have a sparse matrix, which is most of its values are zeros. \nIn this matrix, some groups of consecutive rows and column are non-zeros.\nEach non-zero blocks are assigned an ID. Same ID can only be assigned to at most two groups. Example(look at 5 and 8):</p>\n\n<pre><code>         [8 8 0 0 0 0 0 0 0 0 0]\n         [0 5 5 5 0 0 0 5 5 0 0]\n         [0 0 5 5 0 3 0 5 0 0 8]\n         [0 0 0 5 0 3 0 0 0 0 8]\n         [0 0 0 2 4 4 0 0 0 0 8]\n         [0 0 0 2 4 4 0 0 0 0 8]  \n</code></pre>\n\n<p>Now, the question is that, how do you change group with same IDs to different one[The new ID can be anything]? The input matrix is numpy matrix. Here is one possible output for above matrix(one of \"5\"-id group is change to the 50 and \"8\"-Id group changed to the 66) :</p>\n\n<pre><code>         [66  66  0  0  0 0 0 0 0 0 0]\n         [0   50  50 50 0 0 0 5 5 0 0]\n         [0   0   50 50 0 3 0 5 0 0 8]\n         [0   0   0  50 0 3 0 0 0 0 8]\n         [0   0   0  2  4 4 0 0 0 0 8]\n         [0   0   0  2  4 4 0 0 0 0 8] \n</code></pre>\n"}, {"tags": ["python", "django", "virtualenv"], "answers": [{"comments": [{"owner": {"reputation": 51, "user_id": 4536789, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/fcab4d963c597ca5c492e69867916cde?s=128&d=identicon&r=PG&f=1", "display_name": "lz7cjc", "link": "https://stackoverflow.com/users/4536789/lz7cjc"}, "edited": false, "score": 1, "creation_date": 1426816288, "post_id": 29134927, "comment_id": 46536604, "body": "thanks - do i need to do anything to close the question?"}, {"owner": {"reputation": 10902, "user_id": 1025963, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/l89Iu.jpg?s=128&g=1", "display_name": "Joseph", "link": "https://stackoverflow.com/users/1025963/joseph"}, "reply_to_user": {"reputation": 51, "user_id": 4536789, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/fcab4d963c597ca5c492e69867916cde?s=128&d=identicon&r=PG&f=1", "display_name": "lz7cjc", "link": "https://stackoverflow.com/users/4536789/lz7cjc"}, "edited": false, "score": 0, "creation_date": 1426863232, "post_id": 29134927, "comment_id": 46557141, "body": "There should be a little checkmark to the left of my answer, click on it to &quot;Accept&quot; this answer as correct. Thanks!"}], "tags": [], "owner": {"reputation": 10902, "user_id": 1025963, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/l89Iu.jpg?s=128&g=1", "display_name": "Joseph", "link": "https://stackoverflow.com/users/1025963/joseph"}, "is_accepted": true, "score": 1, "last_activity_date": 1426723351, "creation_date": 1426723351, "answer_id": 29134927, "question_id": 29134779, "link": "https://stackoverflow.com/questions/29134779/remove-django-because-i-am-now-using-virtualenv/29134927#29134927", "title": "remove Django because I am now using VirtualEnv", "body": "<p>When you are working in a virtualenv, you should use <code>pip</code> to install packages. So, rather than easy_install, just do:</p>\n\n<p><code>pip install django</code></p>\n\n<p>This should install Django to the virtualenv instead of system wide and you should be all set. </p>\n"}], "owner": {"reputation": 51, "user_id": 4536789, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/fcab4d963c597ca5c492e69867916cde?s=128&d=identicon&r=PG&f=1", "display_name": "lz7cjc", "link": "https://stackoverflow.com/users/4536789/lz7cjc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 427, "favorite_count": 0, "accepted_answer_id": 29134927, "answer_count": 1, "score": 1, "last_activity_date": 1426736186, "creation_date": 1426722383, "question_id": 29134779, "link": "https://stackoverflow.com/questions/29134779/remove-django-because-i-am-now-using-virtualenv", "title": "remove Django because I am now using VirtualEnv", "body": "<p>I have been playing around with Django and python for a few weeks now and have now decided to bite the bullet and use virtualenv. Obviously I should have done that from the start but due to various config issues, I didn't. </p>\n\n<p>Now when I try to install Django to the virtualenv, it doesn't work. Looking in the Scripts directory, I have pip, easy_install and python but not the django-admin.py file. I have checked a couple of tutorials but no luck. </p>\n\n<p>The output that I get is:</p>\n\n<pre><code>(gesplosh) PS C:\\Users\\nicka_000\\documents\\coding\\websites_go_here\\gesplosh&gt;      easy_install Django\nSearching for Django\nBest match: django 1.7.6\nProcessing django-1.7.6-py2.7.egg\nAdding django 1.7.6 to easy-install.pth file\n\nUsing   c:\\users\\nicka_000\\documents\\coding\\websites_go_here\\gesplosh\\lib\\site-    packages\\django-1.7.6-py2.7.egg\nProcessing dependencies for Django\nFinished processing dependencies for Django\n (gesplosh) PS       C:\\Users\\nicka_000\\documents\\coding\\websites_go_here\\gesplosh&gt; dir\n\n\nDirectory: C:\\Users\\nicka_000\\documents\\coding\\websites_go_here\\gesplosh\n\n\nMode                LastWriteTime     Length Name\n----                -------------     ------ ----\nd----        02/12/2014     08:49            Include\nd----        18/03/2015     10:22            Lib\nd----        18/03/2015     10:23            Scripts\n</code></pre>\n\n<p>and when i go into the Scripts directory I have this:</p>\n\n<pre><code>C:\\Users\\nicka_000\\documents\\coding\\websites_go_here\\gesplosh\\Scripts\n\n\nMode                LastWriteTime     Length Name\n----                -------------     ------ ----\n-a---        18/03/2015     10:23       2379 activate\n-a---        18/03/2015     10:23        596 activate.bat\n-a---        18/03/2015     10:23       8252 activate.ps1\n-a---        18/03/2015     10:23       1129 activate_this.py\n-a---        18/03/2015     10:23        348 deactivate.bat\n-a---        18/03/2015     10:22      95138 easy_install-2.7.exe\n-a---        18/03/2015     10:22      95138 easy_install.exe \n-a---        18/03/2015     10:23      95110 pip.exe \n-a---        18/03/2015     10:23      95110 pip2.7.exe\n-a---        18/03/2015     10:23      95110 pip2.exe\n-a---        18/03/2015     10:22      26624 python.exe\n-a---        18/03/2015     10:22      27648 pythonw.exe\n</code></pre>\n\n<p>It feels like I have missed a step to get Django installed in my virtual env but none of the tutorials I have looked at seem to need to do anything else. What do I need to do in order to get Django installed in my virtual directory? </p>\n\n<p>thanks for your help</p>\n"}, {"tags": ["python", "django"], "answers": [{"comments": [{"owner": {"reputation": 319, "user_id": 4681537, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/zLBCC.jpg?s=128&g=1", "display_name": "Mehdi", "link": "https://stackoverflow.com/users/4681537/mehdi"}, "edited": false, "score": 0, "creation_date": 1426722076, "post_id": 29134681, "comment_id": 46494841, "body": "Thanks for the answer. I tried the code you gave me but I get another error: AtributeError &#39;ExpeViewSet&#39; object has no attribute &#39;get_queryset&#39;"}, {"owner": {"reputation": 18975, "user_id": 1539655, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/epO1x.jpg?s=128&g=1", "display_name": "levi", "link": "https://stackoverflow.com/users/1539655/levi"}, "reply_to_user": {"reputation": 319, "user_id": 4681537, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/zLBCC.jpg?s=128&g=1", "display_name": "Mehdi", "link": "https://stackoverflow.com/users/4681537/mehdi"}, "edited": false, "score": 0, "creation_date": 1426722149, "post_id": 29134681, "comment_id": 46494861, "body": "@Mehdi sorry, I fixed, use <code>QuerySet</code> or <code>Expediteur.objects.all()</code>"}, {"owner": {"reputation": 5888, "user_id": 640916, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/WX3vR.png?s=128&g=1", "display_name": "djangonaut", "link": "https://stackoverflow.com/users/640916/djangonaut"}, "edited": false, "score": 0, "creation_date": 1426725230, "post_id": 29134681, "comment_id": 46495699, "body": "QuerySet is not defined, you mean self.QuerySet but then again QuerySet would only be evaluated once on server start and never get updated."}, {"owner": {"reputation": 18975, "user_id": 1539655, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/epO1x.jpg?s=128&g=1", "display_name": "levi", "link": "https://stackoverflow.com/users/1539655/levi"}, "reply_to_user": {"reputation": 5888, "user_id": 640916, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/WX3vR.png?s=128&g=1", "display_name": "djangonaut", "link": "https://stackoverflow.com/users/640916/djangonaut"}, "edited": false, "score": 0, "creation_date": 1426725324, "post_id": 29134681, "comment_id": 46495715, "body": "@user640916 QuerySet was defined, check OP code.But also I added it in lowercase."}, {"owner": {"reputation": 5888, "user_id": 640916, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/WX3vR.png?s=128&g=1", "display_name": "djangonaut", "link": "https://stackoverflow.com/users/640916/djangonaut"}, "edited": false, "score": 0, "creation_date": 1426725581, "post_id": 29134681, "comment_id": 46495767, "body": "@levi, check the scope of the variables. QuerySet is not local to the function &quot;list&quot;."}, {"owner": {"reputation": 319, "user_id": 4681537, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/zLBCC.jpg?s=128&g=1", "display_name": "Mehdi", "link": "https://stackoverflow.com/users/4681537/mehdi"}, "edited": false, "score": 0, "creation_date": 1426759164, "post_id": 29134681, "comment_id": 46506536, "body": "@levi , just tried your solution which seems to work fine, now I have a django error: HTTP 405 METHOD NOT ALLOWED Content-Type: application/json Vary: Accept Allow: POST, OPTIONS  {     &quot;detail&quot;: &quot;Method \\&quot;GET\\&quot; not allowed.&quot; }  I guess that is something totally different. Thanks for the help. Both of you ;)"}, {"owner": {"reputation": 18975, "user_id": 1539655, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/epO1x.jpg?s=128&g=1", "display_name": "levi", "link": "https://stackoverflow.com/users/1539655/levi"}, "reply_to_user": {"reputation": 319, "user_id": 4681537, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/zLBCC.jpg?s=128&g=1", "display_name": "Mehdi", "link": "https://stackoverflow.com/users/4681537/mehdi"}, "edited": false, "score": 1, "creation_date": 1426783288, "post_id": 29134681, "comment_id": 46522425, "body": "@Mehdi ah, that is because you need to update your urls.py addining <code>list</code> method with a <code>GET</code> request."}], "tags": [], "owner": {"reputation": 18975, "user_id": 1539655, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/epO1x.jpg?s=128&g=1", "display_name": "levi", "link": "https://stackoverflow.com/users/1539655/levi"}, "is_accepted": true, "score": 4, "last_activity_date": 1426725779, "last_edit_date": 1426725779, "creation_date": 1426721758, "answer_id": 29134681, "question_id": 29134642, "link": "https://stackoverflow.com/questions/29134642/drf-typeerror-type-object-is-not-iterable/29134681#29134681", "title": "DRF TypeError &#39;type&#39; object is not iterable", "body": "<p>If you want to list all <code>expediteur</code> instances, you should use <code>list</code> view not <code>get</code>. Remember that <code>get</code> is for retrieving one instance.</p>\n\n<p>Also, in your imports you have  <code>from django.db.models.query import QuerySet</code> and then when you try <code>ExpediteurSerializer(QuerySet, many=True)</code> you are trying to serialize <code>QuerySet</code> type imported previously. To get your defined <code>QuerySet</code>, you need to use <code>self.</code> But I recommend use just <code>queryset</code> </p>\n\n<pre><code>class ExpeViewSet(GenericAPIView):\n      queryset = Expediteur.objects.all() \n      serializer_class = ExpediteurSerializer\n\n\n      def list(self,request):\n          queryset  = self.Expediteur.objects.all() \n          serializer = ExpediteurSerializer(self.get_queryset(), many=True)\n          return Response(serializer.data)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 18975, "user_id": 1539655, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/epO1x.jpg?s=128&g=1", "display_name": "levi", "link": "https://stackoverflow.com/users/1539655/levi"}, "edited": false, "score": 0, "creation_date": 1426725872, "post_id": 29135208, "comment_id": 46495844, "body": "in fact that is not the problem.  OP has  <code>from django.db.models.query import QuerySet</code> and then he is trying to serialize imported <code>QuerySet</code> type. Is not due to lowercase."}, {"owner": {"reputation": 5888, "user_id": 640916, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/WX3vR.png?s=128&g=1", "display_name": "djangonaut", "link": "https://stackoverflow.com/users/640916/djangonaut"}, "reply_to_user": {"reputation": 18975, "user_id": 1539655, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/epO1x.jpg?s=128&g=1", "display_name": "levi", "link": "https://stackoverflow.com/users/1539655/levi"}, "edited": false, "score": 1, "creation_date": 1426727818, "post_id": 29135208, "comment_id": 46496321, "body": "You down vote a working solution? You were assigning something to QuerySet which is a django import and that just is plain wrong. You edited multiple times after my downvote. Be reasonable!"}, {"owner": {"reputation": 18975, "user_id": 1539655, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/epO1x.jpg?s=128&g=1", "display_name": "levi", "link": "https://stackoverflow.com/users/1539655/levi"}, "edited": false, "score": 0, "creation_date": 1426735463, "post_id": 29135208, "comment_id": 46498153, "body": "Edit your answer to upvote, but you also downvoted to a correct answer."}], "tags": [], "owner": {"reputation": 5888, "user_id": 640916, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/WX3vR.png?s=128&g=1", "display_name": "djangonaut", "link": "https://stackoverflow.com/users/640916/djangonaut"}, "is_accepted": false, "score": 0, "last_activity_date": 1426725086, "creation_date": 1426725086, "answer_id": 29135208, "question_id": 29134642, "link": "https://stackoverflow.com/questions/29134642/drf-typeerror-type-object-is-not-iterable/29135208#29135208", "title": "DRF TypeError &#39;type&#39; object is not iterable", "body": "<p>I saw you use QuerySet, but it should be lowercase.</p>\n\n<p>Try this:</p>\n\n<pre><code>from rest_framework.generics import GenericAPIView\n\nclass ExpeViewSet(GenericAPIView):\n    queryset = Expediteur.objects.all()  # lowercase!\n    serializer_class = ExpediteurSerializer\n\n    def get(self, request):\n        serializer = self.serializer_class(self.get_queryset(), many=True)\n        return Response(serializer.data)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 89, "user_id": 1925979, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90ca7e3c77ad2b0d2205bab649acad14?s=128&d=identicon&r=PG", "display_name": "prat_bhan", "link": "https://stackoverflow.com/users/1925979/prat-bhan"}, "is_accepted": false, "score": 0, "last_activity_date": 1589465041, "creation_date": 1589465041, "answer_id": 61799360, "question_id": 29134642, "link": "https://stackoverflow.com/questions/29134642/drf-typeerror-type-object-is-not-iterable/61799360#61799360", "title": "DRF TypeError &#39;type&#39; object is not iterable", "body": "<p>In my case, I was not inherited Model from models.Model</p>\n\n<p>e.g. <code>class Document:\n       ...</code></p>\n\n<p>which should have been</p>\n\n<p><code>class Document(models.Model):\n   ...</code></p>\n"}], "owner": {"reputation": 319, "user_id": 4681537, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/zLBCC.jpg?s=128&g=1", "display_name": "Mehdi", "link": "https://stackoverflow.com/users/4681537/mehdi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10009, "favorite_count": 0, "accepted_answer_id": 29134681, "answer_count": 3, "score": 6, "last_activity_date": 1589465041, "creation_date": 1426721550, "question_id": 29134642, "link": "https://stackoverflow.com/questions/29134642/drf-typeerror-type-object-is-not-iterable", "title": "DRF TypeError &#39;type&#39; object is not iterable", "body": "<p>I'm making my first DRF api and I get a strange TypeError when I try to access to my data using a GET request, I get this error: </p>\n\n<blockquote>\n  <p>'type' object is not iterable</p>\n</blockquote>\n\n<p>Here are some code snippets bellow.</p>\n\n<p><strong>models.py</strong>\n</p>\n\n<pre><code>from django.db import models\n\n# Create your models here.\n\nclass Expediteur(models.Model):\n    nom = models.CharField(max_length=50)\n    prenom = models.CharField(max_length=100)\n    adresse = models.CharField(max_length=200)\n    tel = models.IntegerField()\n</code></pre>\n\n<p><strong>views.py</strong>\n</p>\n\n<pre><code>from django.shortcuts import render, get_object_or_404\nfrom rest_framework import viewsets\nfrom rest_framework.views import APIView\nfrom rest_framework.response import Response\nfrom polls.serializers import ExpediteurSerializer, DestinataireSerializer, LettrePrioSerializer, TypeLettreRecoSerializer, LettreRecoSerializer, TimbrePrioSerializer, TimbreRecoSerializer\nfrom polls.models import Expediteur, Destinataire, LettrePrio, TypeLettreReco, LettreReco, TimbrePrio, TimbreReco\nfrom rest_framework import status, HTTP_HEADER_ENCODING\n\nimport json\nimport datetime\n\nfrom django.http import HttpResponseRedirect, HttpResponse, Http404\nfrom django.core.urlresolvers import reverse\nfrom django.contrib.auth.decorators import user_passes_test\nfrom django.contrib.auth import login\nfrom django.core.exceptions import ObjectDoesNotExist\nfrom django.views.decorators.csrf import csrf_exempt\nfrom django.utils.timezone import get_current_timezone\nfrom django.db.models.query import QuerySet\n\n# Create your views here.\n\nclass ExpeViewSet(APIView):\n    QuerySet = Expediteur.objects.all()\n    serializer_class = ExpediteurSerializer\n\n    def get(self, request):\n        serializer = ExpediteurSerializer(QuerySet, many=True)\n        return Response(serializer.data)\n\n    def post(self, request):\n        serializer = self.serializer_class(data=request.DATA)\n        return Response(status=status.HTTP_201_CREATED)\n</code></pre>\n\n<p><strong>serializers.py</strong>\n</p>\n\n<pre><code>from rest_framework import serializers\nfrom polls.models import Expediteur, Destinataire, LettrePrio, TypeLettreReco, LettreReco, TimbrePrio, TimbreReco\n\n\nclass ExpediteurSerializer(serializers.ModelSerializer):\n    class Meta:\n        model = Expediteur\n</code></pre>\n\n<p>I also leave the Traceback for more informations:</p>\n\n<pre><code>Environment:\n\n\nRequest Method: GET\nRequest URL: http://0.0.0.0:8000/polls/expediteur/\n\nDjango Version: 1.7.1\nPython Version: 2.7.6\nInstalled Applications:\n('django.contrib.admin',\n 'django.contrib.auth',\n 'django.contrib.contenttypes',\n 'django.contrib.sessions',\n 'django.contrib.messages',\n 'django.contrib.staticfiles',\n 'rest_framework',\n 'polls')\nInstalled Middleware:\n('django.contrib.sessions.middleware.SessionMiddleware',\n 'django.middleware.common.CommonMiddleware',\n 'django.middleware.csrf.CsrfViewMiddleware',\n 'django.contrib.auth.middleware.AuthenticationMiddleware',\n 'django.contrib.auth.middleware.SessionAuthenticationMiddleware',\n 'django.contrib.messages.middleware.MessageMiddleware',\n 'django.middleware.clickjacking.XFrameOptionsMiddleware')\n\n\nTraceback:\nFile \"/Library/Python/2.7/site-packages/Django-1.7.1-py2.7.egg/django/core/handlers/base.py\" in get_response\n  111.                     response = wrapped_callback(request, *callback_args, **callback_kwargs)\nFile \"/Library/Python/2.7/site-packages/Django-1.7.1-py2.7.egg/django/views/decorators/csrf.py\" in wrapped_view\n  57.         return view_func(*args, **kwargs)\nFile \"/Library/Python/2.7/site-packages/Django-1.7.1-py2.7.egg/django/views/generic/base.py\" in view\n  69.             return self.dispatch(request, *args, **kwargs)\nFile \"/Library/Python/2.7/site-packages/rest_framework/views.py\" in dispatch\n  452.             response = self.handle_exception(exc)\nFile \"/Library/Python/2.7/site-packages/rest_framework/views.py\" in dispatch\n  449.             response = handler(request, *args, **kwargs)\nFile \"/Users/mehdi/rendu/ProjectWeek/CUP/polls/views.py\" in get\n  29.         return Response(serializer.data)\nFile \"/Library/Python/2.7/site-packages/rest_framework/serializers.py\" in data\n  618.         ret = super(ListSerializer, self).data\nFile \"/Library/Python/2.7/site-packages/rest_framework/serializers.py\" in data\n  213.                 self._data = self.to_representation(self.instance)\nFile \"/Library/Python/2.7/site-packages/rest_framework/serializers.py\" in to_representation\n  568.             self.child.to_representation(item) for item in iterable\n\nException Type: TypeError at /polls/expediteur/\nException Value: 'type' object is not iterable\n</code></pre>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 13987, "user_id": 109941, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/3c8a94e8bd3a691d079556cdf5a0b248?s=128&d=identicon&r=PG", "display_name": "Jim G.", "link": "https://stackoverflow.com/users/109941/jim-g"}, "edited": false, "score": 0, "creation_date": 1568226842, "post_id": 29134635, "comment_id": 102211222, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/27965295/dropping-rows-from-dataframe-based-on-a-not-in-condition\">dropping rows from dataframe based on a &quot;not in&quot; condition</a>"}], "answers": [{"tags": [], "owner": {"reputation": 7758, "user_id": 221794, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/1f02cce059c0fc8ca0f4012900bd00f0?s=128&d=identicon&r=PG", "display_name": "Dyno Fu", "link": "https://stackoverflow.com/users/221794/dyno-fu"}, "is_accepted": false, "score": 1, "last_activity_date": 1426723510, "last_edit_date": 1426723510, "creation_date": 1426722065, "answer_id": 29134728, "question_id": 29134635, "link": "https://stackoverflow.com/questions/29134635/slice-pandas-dataframe-by-index-values-that-are-not-in-a-list/29134728#29134728", "title": "Slice Pandas dataframe by index values that are (not) in a list", "body": "<pre><code>import pandas as pd\ndf = pd.DataFrame(data=[5,6,7,8], index=[1,2,3,4], columns=['D',])\nblacklist = [2,3]\n#your current way ...\nix=[i for i in df.index if i not in blacklist]  \ndf_select=df.loc[ix]\n\n# use a mask\nmask = [True if x else False for x in df.index if x not in blacklist]\ndf.loc[mask]\n</code></pre>\n\n<p><a href=\"http://pandas.pydata.org/pandas-docs/dev/indexing.html#indexing-label\" rel=\"nofollow\">http://pandas.pydata.org/pandas-docs/dev/indexing.html#indexing-label</a>\nactually, loc and iloc both take a boolean array, in this case the <code>mask</code>. from now on you can reuse this mask and should be more efficient.</p>\n"}, {"tags": [], "owner": {"reputation": 9233, "user_id": 2074981, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BXy8T.jpg?s=128&g=1", "display_name": "ASGM", "link": "https://stackoverflow.com/users/2074981/asgm"}, "is_accepted": false, "score": 15, "last_activity_date": 1426722298, "creation_date": 1426722298, "answer_id": 29134760, "question_id": 29134635, "link": "https://stackoverflow.com/questions/29134635/slice-pandas-dataframe-by-index-values-that-are-not-in-a-list/29134760#29134760", "title": "Slice Pandas dataframe by index values that are (not) in a list", "body": "<p>You could use <a href=\"https://docs.python.org/2/library/stdtypes.html#set\" rel=\"noreferrer\"><code>set()</code></a> to create the difference between your original indices and those that you want to remove:</p>\n\n<pre><code>df.loc[set(df.index) - set(blacklist)]\n</code></pre>\n\n<p>It has the advantage of being parsimonious, as well as being easier to read than a list comprehension.</p>\n"}, {"tags": [], "owner": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "is_accepted": true, "score": 101, "last_activity_date": 1499439354, "last_edit_date": 1499439354, "creation_date": 1426754861, "answer_id": 29140194, "question_id": 29134635, "link": "https://stackoverflow.com/questions/29134635/slice-pandas-dataframe-by-index-values-that-are-not-in-a-list/29140194#29140194", "title": "Slice Pandas dataframe by index values that are (not) in a list", "body": "<p>Use <a href=\"https://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.isin.html\" rel=\"noreferrer\"><code>isin</code></a> on the index and invert the boolean index to perform label selection:</p>\n\n<pre><code>In [239]:\n\ndf = pd.DataFrame({'a':np.random.randn(5)})\ndf\nOut[239]:\n          a\n0 -0.548275\n1 -0.411741\n2 -1.187369\n3  1.028967\n4 -2.755030\nIn [240]:\n\nt = [2,4]\ndf.loc[~df.index.isin(t)]\nOut[240]:\n          a\n0 -0.548275\n1 -0.411741\n3  1.028967\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 174, "user_id": 3149259, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13cb41b77d733b1d48ba2b55f38bd297?s=128&d=identicon&r=PG&f=1", "display_name": "Hagrid67", "link": "https://stackoverflow.com/users/3149259/hagrid67"}, "is_accepted": false, "score": 2, "last_activity_date": 1481052555, "last_edit_date": 1481052555, "creation_date": 1481049297, "answer_id": 41002438, "question_id": 29134635, "link": "https://stackoverflow.com/questions/29134635/slice-pandas-dataframe-by-index-values-that-are-not-in-a-list/41002438#41002438", "title": "Slice Pandas dataframe by index values that are (not) in a list", "body": "<p>Thanks to ASGM; I found that I needed to turn the set into a list to make it work with a MultiIndex:</p>\n\n<pre><code>mi1 = pd.MultiIndex.from_tuples([(\"a\", 1), (\"a\", 2), (\"b\", 1), (\"b\", 2)])\ndf1 = pd.DataFrame(data={\"aaa\":[1,2,3,4]}, index=mi1)\nsetValid = set(df1.index) - set([(\"a\", 2)])\ndf1.loc[list(setValid)] # works\ndf1.loc[setValid] # fails\n</code></pre>\n\n<p>(sorry can't comment, insufficient rep)</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 7089313, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154256322014317/picture?type=large", "display_name": "Hector Garcia L", "link": "https://stackoverflow.com/users/7089313/hector-garcia-l"}, "is_accepted": false, "score": 1, "last_activity_date": 1575433502, "last_edit_date": 1575433502, "creation_date": 1575432191, "answer_id": 59168764, "question_id": 29134635, "link": "https://stackoverflow.com/questions/29134635/slice-pandas-dataframe-by-index-values-that-are-not-in-a-list/59168764#59168764", "title": "Slice Pandas dataframe by index values that are (not) in a list", "body": "<p>If you are looking for a way to select all rows that are outside a condition you can use <code>np.invert()</code> given that the condition returns an array of booleans. </p>\n\n<pre><code>df.loc[np.invert(({condition 1}) &amp; (condition 2))]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 18769, "user_id": 965146, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/vSVWj.jpg?s=128&g=1", "display_name": "Shree", "link": "https://stackoverflow.com/users/965146/shree"}, "edited": false, "score": 6, "creation_date": 1603356731, "post_id": 64478624, "comment_id": 114013322, "body": "Code-only answers are not particularly helpful. Please include a brief description of how this code solves the problem."}, {"owner": {"reputation": 3298, "user_id": 8928024, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/75f4b1f5d87975964979ce2718af1ae9?s=128&d=identicon&r=PG&f=1", "display_name": "ZF007", "link": "https://stackoverflow.com/users/8928024/zf007"}, "edited": false, "score": 0, "creation_date": 1603363100, "post_id": 64478624, "comment_id": 114016448, "body": "Please don&#39;t post only code as answer, but also provide an explanation what your code does and how it solves the problem of the question. Answers with an explanation are usually more helpful and of better quality, and are more likely to attract upvotes."}], "tags": [], "owner": {"reputation": 1, "user_id": 6285750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a56d7554d65ae366bdeacbf5bf7bb6af?s=128&d=identicon&r=PG&f=1", "display_name": "George Xiong", "link": "https://stackoverflow.com/users/6285750/george-xiong"}, "is_accepted": false, "score": 0, "last_activity_date": 1603356716, "last_edit_date": 1603356716, "creation_date": 1603356652, "answer_id": 64478624, "question_id": 29134635, "link": "https://stackoverflow.com/questions/29134635/slice-pandas-dataframe-by-index-values-that-are-not-in-a-list/64478624#64478624", "title": "Slice Pandas dataframe by index values that are (not) in a list", "body": "<pre><code>df = pd.DataFrame(data=[5,6,7,8], index=[1,2,3,4], columns=['D',])\nblacklist = [2,3]\n\ndf.drop(blacklist,0)\n</code></pre>\n"}], "owner": {"reputation": 4863, "user_id": 3422206, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/NcXfG.jpg?s=128&g=1", "display_name": "lmart999", "link": "https://stackoverflow.com/users/3422206/lmart999"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67392, "favorite_count": 13, "accepted_answer_id": 29140194, "answer_count": 6, "score": 61, "last_activity_date": 1603356716, "creation_date": 1426721486, "last_edit_date": 1595195303, "question_id": 29134635, "link": "https://stackoverflow.com/questions/29134635/slice-pandas-dataframe-by-index-values-that-are-not-in-a-list", "title": "Slice Pandas dataframe by index values that are (not) in a list", "body": "<p>I have a <code>pandas</code> dataframe, <code>df</code>.</p>\n\n<p>I want to select all indices in <code>df</code> that are <strong>not</strong> in a list, <code>blacklist.</code></p>\n\n<p>Now, I use list comprehension to create the desired labels to slice.</p>\n\n<pre><code>ix=[i for i in df.index if i not in blacklist]  \ndf_select=df.loc[ix]\n</code></pre>\n\n<p>Works fine, but may be clumsy if I need to do this often.</p>\n\n<p>Is there a better way to do this?</p>\n"}, {"tags": ["python", "django", "django-forms"], "answers": [{"comments": [{"owner": {"reputation": 47, "user_id": 4687534, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/-f49X3e1G6tQ/AAAAAAAAAAI/AAAAAAAAEsA/MBVKMbCGke0/photo.jpg?sz=128", "display_name": "Christian M", "link": "https://stackoverflow.com/users/4687534/christian-m"}, "edited": false, "score": 0, "creation_date": 1426724417, "post_id": 29134692, "comment_id": 46495475, "body": "formulario = FormularioVisita(data=request.POST, id=id_c) is that correct?"}, {"owner": {"reputation": 4971, "user_id": 414184, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6637ca2ed8008bffa8f5f436ac4929d5?s=128&d=identicon&r=PG", "display_name": "Bang Dao", "link": "https://stackoverflow.com/users/414184/bang-dao"}, "edited": false, "score": 1, "creation_date": 1426738723, "post_id": 29134692, "comment_id": 46498868, "body": "formulario = FormularioVisita(data=request.POST, idc=id_c)"}, {"owner": {"reputation": 47, "user_id": 4687534, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/-f49X3e1G6tQ/AAAAAAAAAAI/AAAAAAAAEsA/MBVKMbCGke0/photo.jpg?sz=128", "display_name": "Christian M", "link": "https://stackoverflow.com/users/4687534/christian-m"}, "edited": false, "score": 0, "creation_date": 1426783928, "post_id": 29134692, "comment_id": 46522776, "body": "Ok, that&#39;s right, but do not work. Django still says the same message."}], "tags": [], "owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "is_accepted": false, "score": 1, "last_activity_date": 1426721835, "creation_date": 1426721835, "answer_id": 29134692, "question_id": 29134551, "link": "https://stackoverflow.com/questions/29134551/form-is-valid-in-django/29134692#29134692", "title": "Form.is_valid in Django", "body": "<p>You need to pass in idc when you instantiate the form in the POST block too.</p>\n"}], "owner": {"reputation": 47, "user_id": 4687534, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/-f49X3e1G6tQ/AAAAAAAAAAI/AAAAAAAAEsA/MBVKMbCGke0/photo.jpg?sz=128", "display_name": "Christian M", "link": "https://stackoverflow.com/users/4687534/christian-m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 646, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1426721835, "creation_date": 1426721077, "question_id": 29134551, "link": "https://stackoverflow.com/questions/29134551/form-is-valid-in-django", "title": "Form.is_valid in Django", "body": "<p>I have a problem with a form validation in Django.\nI have this in views.py:</p>\n\n<pre><code>def n_visita(request, id_c):\n    if request.method == 'POST':\n        formulario = FormularioVisita(data=request.POST)\n        if formulario.is_valid():\n            \u00b7\u00b7\u00b7\n            save_form.save()\n            return HttpResponseRedirect('/')\n    else:\n        formulario = FormularioVisita(idc=id_c)\n        \u00b7\u00b7\u00b7\n        return...\n</code></pre>\n\n<p>And this in forms.py:</p>\n\n<pre><code>class FormularioVisita(ModelForm):\n    class Meta:\n        model = Visita\n\n    def __init__(self, idc=None, *args, **kwargs):\n        super(FormularioVisita, self).__init__(*args, **kwargs)\n        self.fields[\"IdCita\"].queryset = Citas.objects.filter(id=idc,Dia=date.today(),espera=True,estado=True)\n</code></pre>\n\n<p>This returns a single registry (because I give the \"id\"), show that option in the \"select\", all works fine.\nBut when I do click in \"Save\" button Django say \"Choose a valid option\" and not show me one option in \"select\".\nWhat can I do? I need change the field to show the unique option of the queryset returns?</p>\n"}, {"tags": ["python", "flask", "wtforms", "flask-wtforms", "wtforms-json"], "answers": [{"tags": [], "owner": {"reputation": 241, "user_id": 1232397, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3654e345969ac1962273a8f129add1ee?s=128&d=identicon&r=PG", "display_name": "Sravan Kumar", "link": "https://stackoverflow.com/users/1232397/sravan-kumar"}, "is_accepted": true, "score": 0, "last_activity_date": 1429738382, "creation_date": 1429738382, "answer_id": 29809275, "question_id": 29134530, "link": "https://stackoverflow.com/questions/29134530/wtforms-selectfield-with-dynamic-choices-always-returns-none-for-data/29809275#29809275", "title": "wtforms SelectField with dynamic choices always returns &quot;none&quot; for data", "body": "<p>I resolved the issue!</p>\n\n<p>After user submits the form, I am receiving the submitted values properly, but in populate_fruits_list() method, I am making the list empty by removing the elements from the list, using pop_entry(). Once the list is empty, I am adding the elements to the list again. Because of the deletion of list elements, user selection to this field is resetting to \"None\".</p>\n\n<p>Solution: After the form was submitted, if there are any fields which are populated dynamically, we shouldn't delete the entries from the list instead we can reassign the values using index like arr[0] = value.</p>\n\n<p>i.e., replaced below statements</p>\n\n<pre><code>    arr.popentry()\n    arr.append(value)\n</code></pre>\n\n<p>with</p>\n\n<pre><code>    arr[i] = value  //where i is an index\n</code></pre>\n\n<p>Hope this information will be helpful to others.</p>\n\n<p>-\nSravan</p>\n"}], "owner": {"reputation": 241, "user_id": 1232397, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3654e345969ac1962273a8f129add1ee?s=128&d=identicon&r=PG", "display_name": "Sravan Kumar", "link": "https://stackoverflow.com/users/1232397/sravan-kumar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2297, "favorite_count": 0, "accepted_answer_id": 29809275, "answer_count": 1, "score": 1, "last_activity_date": 1429738382, "creation_date": 1426720988, "last_edit_date": 1426730621, "question_id": 29134530, "link": "https://stackoverflow.com/questions/29134530/wtforms-selectfield-with-dynamic-choices-always-returns-none-for-data", "title": "wtforms SelectField with dynamic choices always returns &quot;none&quot; for data", "body": "<p>I am new to wtforms. I have to provide user with list of fruits and cost of each fruit as shown below,</p>\n\n<p><img src=\"https://i.stack.imgur.com/lFiU0.png\" alt=\"screenshot\"></p>\n\n<p>Total number of fruits are dynamically generated and each fruit prices is also dynamically generated.</p>\n\n<p>Below is my declaration,</p>\n\n<pre><code>from flask.ext.wtf import Form \nclass SelectForm(Form):\n    def __init__(self, csrf_enabled=False, *args, **kwargs):\n        super(SelectForm, self).__init__(csrf_enabled=csrf_enabled, *args, **kwargs)\n    fruits_list = wtforms.FieldList(\n            wtforms.SelectField('fruits',\n                validators = [validators.Optional()]\n                ),\n            )\nfruits_labels = wtforms.RadioField('Fruit',\n            choices = [],\n            )\n</code></pre>\n\n<p>Template contains the below code:</p>\n\n<pre><code>{% for fruit in form.fruits_labels %}\n&lt;tr&gt;\n    &lt;td&gt;\n        {{fruit}}\n        {{fruit.label}}\n    &lt;/td&gt;\n    &lt;td&gt;\n        {% set fruitslist = form.fruits_list[loop.index0] %}\n        {% if fruitslist.choices|length %}\n        {{fruitslist(class='form-control')}}\n        {% endif %}\n    &lt;/td&gt;\n&lt;/tr&gt;\n{% endfor %}\n</code></pre>\n\n<p>Before rendering the template, fruits_labels is dynamically populated with choices and form.fruits_list is dynamically populated with the lists, each list having choices.</p>\n\n<p>User can select any particular fruit with a price, and remaining all other select inputs will be optional and then he can submit the form.\nAfter submitting the form, fruits_labels is dynamically populated with choices and form.fruits_list is dynamically populated with the lists, each list having choices (before validating) as shown below.</p>\n\n<pre><code>populate_fruits_list()  #form.fruits_list is dynamically populated in this function\nif not form.validate_on_submit():\n    return render_template('new.html', form=form)\n\ni=0\nwhile i&lt;len(form.fruits_list):\n    print 'form.fruits_list choices[',i,']: ', form.fruits_list[i].data\n    i=i+1\n\nprint 'selection: ', form.fruits_list[userselection].data    # userselection is a variable that contains the index of the fruit user has selected.\n</code></pre>\n\n<p><strong>Below is the output:</strong></p>\n\n<pre><code>form.fruits_list choices[ 0 ]:  [('0', '-select-'), (1, '1')]\nform.fruits_list choices[ 1 ]:  [('0', '-select-'), (30, '30'), (17, '17'), (16, '16'), (15, '15'), (14, '14'), (7, '7'), (6, '6'), (5, '5'), (4, '4'), (3, '3'), (2, '2'), (1, '1')] \nform.fruits_list choices[ 2 ]:  [('0', '-select-'), (30, '30'), (29, '29'), (28, '28'), (19, '19'), (18, '18'), (13, '13'),  (3, '3'), (2, '2'), (1, '1')] \nform.fruits_list choices[ 3 ]:  [('0', '-select-'), (30, '30'), (29, '29'), (28, '28'),  (21, '21'), (20, '20'),  (12, '12'), (11, '11'), (10, '10'),  (2, '2'), (1, '1')] \nselection: None\n</code></pre>\n\n<p>Even though I have selected a fruit3 with value 30, I don't know why the selected value is displayed as none. Also I tried displaying all the choices before retrieving the selected value, it displayed all the choices correctly. Several times I changed the code, but it always displays \"none\" value. Could someone please let me know what may be the issue.</p>\n\n<p>It would be really helpful if you can provide me some example. Thanks for your time and help.</p>\n"}, {"tags": ["python", "rest", "ssl"], "comments": [{"owner": {"reputation": 77884, "user_id": 145403, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/137b739a75a31399e6d07140302c8efc?s=128&d=identicon&r=PG", "display_name": "Ned Deily", "link": "https://stackoverflow.com/users/145403/ned-deily"}, "edited": false, "score": 11, "creation_date": 1426721101, "post_id": 29134512, "comment_id": 46494521, "body": "Did you read the link (<a href=\"https://urllib3.readthedocs.org/en/latest/security.html#insecureplatformwarning\" rel=\"nofollow noreferrer\">urllib3.readthedocs.org/en/latest/&hellip;</a>)?  It gives two suggestions: either upgrade to at least Python 2.7.9 or use pyOpenSSL."}, {"owner": {"reputation": 3329, "user_id": 4525298, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32b5770fbbc2f5d00cebe38f6ec467d5?s=128&d=identicon&r=PG&f=1", "display_name": "user4525298", "link": "https://stackoverflow.com/users/4525298/user4525298"}, "reply_to_user": {"reputation": 77884, "user_id": 145403, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/137b739a75a31399e6d07140302c8efc?s=128&d=identicon&r=PG", "display_name": "Ned Deily", "link": "https://stackoverflow.com/users/145403/ned-deily"}, "edited": false, "score": 1, "creation_date": 1426795845, "post_id": 29134512, "comment_id": 46529111, "body": "Thanks for your comments. I tried to install pyOpenSSL but failed. Let me try to upgrade to 2.7.9 and see if that fix the problem."}, {"owner": {"reputation": 569, "user_id": 2997327, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/fsYjO.jpg?s=128&g=1", "display_name": "bohr", "link": "https://stackoverflow.com/users/2997327/bohr"}, "edited": false, "score": 0, "creation_date": 1455009064, "post_id": 29134512, "comment_id": 58285976, "body": "@user4525298 did by updgrading 2.7.9 solve your problem?"}, {"owner": {"reputation": 13228, "user_id": 742082, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/0741ba088846ead70c26c6a70d4d783d?s=128&d=identicon&r=PG", "display_name": "Sheena", "link": "https://stackoverflow.com/users/742082/sheena"}, "reply_to_user": {"reputation": 77884, "user_id": 145403, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/137b739a75a31399e6d07140302c8efc?s=128&d=identicon&r=PG", "display_name": "Ned Deily", "link": "https://stackoverflow.com/users/145403/ned-deily"}, "edited": false, "score": 0, "creation_date": 1467614698, "post_id": 29134512, "comment_id": 63783630, "body": "@NedDeily: the link is now broken"}, {"owner": {"reputation": 77884, "user_id": 145403, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/137b739a75a31399e6d07140302c8efc?s=128&d=identicon&r=PG", "display_name": "Ned Deily", "link": "https://stackoverflow.com/users/145403/ned-deily"}, "reply_to_user": {"reputation": 13228, "user_id": 742082, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/0741ba088846ead70c26c6a70d4d783d?s=128&d=identicon&r=PG", "display_name": "Sheena", "link": "https://stackoverflow.com/users/742082/sheena"}, "edited": false, "score": 0, "creation_date": 1467729205, "post_id": 29134512, "comment_id": 63836280, "body": "@Sheena: thanks.  <a href=\"https://urllib3.readthedocs.io/en/latest/user-guide.html#certificate-verification-in-python-2\" rel=\"nofollow noreferrer\">urllib3.readthedocs.io/en/latest/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 3605, "user_id": 1454048, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GlhDH.jpg?s=128&g=1", "display_name": "admdrew", "link": "https://stackoverflow.com/users/1454048/admdrew"}, "edited": false, "score": 51, "creation_date": 1427399890, "post_id": 29154908, "comment_id": 46772642, "body": "While this <i>works</i>, this probably isn&#39;t the <i>best</i> answer."}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 24, "creation_date": 1427645085, "post_id": 29154908, "comment_id": 46851972, "body": "That diff hides the fact that 2.6.0 contains a <i>security fix</i>; downgrading leaves you exposed."}, {"owner": {"reputation": 675, "user_id": 2149641, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Hro11.png?s=128&g=1", "display_name": "jjj", "link": "https://stackoverflow.com/users/2149641/jjj"}, "edited": false, "score": 7, "creation_date": 1428506599, "post_id": 29154908, "comment_id": 47192729, "body": "admdrew&#39;s comment on the answer above is a much better and simple solution. Simply <code>pip install requests[security]</code>"}, {"owner": {"reputation": 208, "user_id": 171067, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd069f1286c3ceed46ac13c69c180f5f?s=128&d=identicon&r=PG", "display_name": "Jordan", "link": "https://stackoverflow.com/users/171067/jordan"}, "edited": false, "score": 3, "creation_date": 1489687488, "post_id": 29154908, "comment_id": 72792351, "body": "The above answers might be better for most scenarios, but this one is the only one that works on a shared host with native libraries you don&#39;t control. <code>requests[security]</code> didn&#39;t work, but the older version did."}, {"owner": {"reputation": 2512, "user_id": 752695, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33a52d580e13b4810dd71da346cf498f?s=128&d=identicon&r=PG", "display_name": "Brian Minton", "link": "https://stackoverflow.com/users/752695/brian-minton"}, "edited": false, "score": 0, "creation_date": 1543259758, "post_id": 29154908, "comment_id": 93844976, "body": "This did not work for me.  I get the same InsecurePlatformWarning and it won&#39;t download the older version of requests."}, {"owner": {"reputation": 3164, "user_id": 9575715, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fvlfp.png?s=128&g=1", "display_name": "Alex C.", "link": "https://stackoverflow.com/users/9575715/alex-c"}, "reply_to_user": {"reputation": 2512, "user_id": 752695, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33a52d580e13b4810dd71da346cf498f?s=128&d=identicon&r=PG", "display_name": "Brian Minton", "link": "https://stackoverflow.com/users/752695/brian-minton"}, "edited": false, "score": 2, "creation_date": 1549816669, "post_id": 29154908, "comment_id": 96029951, "body": "If <b>pip itself</b> is affected by <code>InsecurePlatformWarning</code> and cannot install anything from PyPI, it can be fixed with <a href=\"https://stackoverflow.com/a/54582701/9575715\">this step-by-step guide</a> -- handy for older linux systems.. @Brian"}], "tags": [], "owner": {"reputation": 4703, "user_id": 1913804, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c9e8c88dc02f71ab0be15b564999022?s=128&d=identicon&r=PG", "display_name": "raittes", "link": "https://stackoverflow.com/users/1913804/raittes"}, "is_accepted": false, "score": 71, "last_activity_date": 1520713276, "last_edit_date": 1520713276, "creation_date": 1426798754, "answer_id": 29154908, "question_id": 29134512, "link": "https://stackoverflow.com/questions/29134512/insecureplatformwarning-a-true-sslcontext-object-is-not-available-this-prevent/29154908#29154908", "title": "InsecurePlatformWarning: A true SSLContext object is not available. This prevents urllib3 from configuring SSL appropriately", "body": "<p>If you are <strong>not able to upgrade</strong> your Python version to 2.7.9, and want to suppress warnings, </p>\n\n<p>you can <strong>downgrade your 'requests'</strong> version to 2.5.3:</p>\n\n<pre><code>pip install requests==2.5.3\n</code></pre>\n\n<p><a href=\"https://github.com/requests/requests/commit/fa338da717124188b21d48df55f2fa9aca459d12\" rel=\"noreferrer\">Bugfix disclosure</a> / <a href=\"https://github.com/requests/requests/compare/628474d62666e6691ec35677a918f5e97c35cda2...fa338da717124188b21d48df55f2fa9aca459d12#diff-5a388f0c26b95bf5bf02399786f4af6cR79\" rel=\"noreferrer\">Warning introduced in 2.6.0</a></p>\n"}, {"comments": [{"owner": {"reputation": 3605, "user_id": 1454048, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GlhDH.jpg?s=128&g=1", "display_name": "admdrew", "link": "https://stackoverflow.com/users/1454048/admdrew"}, "edited": false, "score": 26, "creation_date": 1427399959, "post_id": 29202163, "comment_id": 46772664, "body": "You can also <code>pip install requests[security]</code> and only <code>import requests</code>."}, {"owner": {"reputation": 1112, "user_id": 2392486, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/7eWul.jpg?s=128&g=1", "display_name": "Chrispy", "link": "https://stackoverflow.com/users/2392486/chrispy"}, "reply_to_user": {"reputation": 3605, "user_id": 1454048, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GlhDH.jpg?s=128&g=1", "display_name": "admdrew", "link": "https://stackoverflow.com/users/1454048/admdrew"}, "edited": false, "score": 3, "creation_date": 1428466658, "post_id": 29202163, "comment_id": 47168639, "body": "the answer above is detailed, however @admdrew provides perhaps the simplest solution with least amount of headache."}, {"owner": {"reputation": 15112, "user_id": 623735, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/8eb2d80a35122171463f423eeec7bfa4?s=128&d=identicon&r=PG", "display_name": "hobs", "link": "https://stackoverflow.com/users/623735/hobs"}, "edited": false, "score": 9, "creation_date": 1429135988, "post_id": 29202163, "comment_id": 47463259, "body": "Don&#39;t forget the <code>--upgrade</code> option or you may not actually install anything. And if you want your system environment to be secure you want to sudo the install. So <code>sudo pip install --upgrade pyopenssl ndg-httpsclient pyasn1 pip</code> worked for me on Fedora 20 despite the deprecation warning for uninstalling and upgrading the distutils-installed <code>pyopenssl</code> package."}, {"owner": {"reputation": 1597, "user_id": 72717, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3df8cebe2641ad3595d63f681479bf4?s=128&d=identicon&r=PG", "display_name": "jamshid", "link": "https://stackoverflow.com/users/72717/jamshid"}, "edited": false, "score": 0, "creation_date": 1435702441, "post_id": 29202163, "comment_id": 50309015, "body": "On CentOS6 at least &quot;pip install requests[security]&quot; requires that &quot;gcc&quot; is already installed. Is there any other workaround for getting the latest requests (since answer below mentions 2.5.3 has security bug) and getting rid of that warning and not requiring gcc?"}, {"owner": {"reputation": 8887, "user_id": 494182, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/aea6a70d4799cbb0bf710a555c56d255?s=128&d=identicon&r=PG", "display_name": "nathan-m", "link": "https://stackoverflow.com/users/494182/nathan-m"}, "reply_to_user": {"reputation": 1597, "user_id": 72717, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3df8cebe2641ad3595d63f681479bf4?s=128&d=identicon&r=PG", "display_name": "jamshid", "link": "https://stackoverflow.com/users/72717/jamshid"}, "edited": false, "score": 0, "creation_date": 1435710775, "post_id": 29202163, "comment_id": 50311529, "body": "@jamshid It might be possible to pre-compile them on a separate CentOs6 machine, then copy them to your &quot;live&quot;machine. -- <a href=\"https://vilimpoc.org/blog/2012/11/23/bundling-up-distributable-python-package-libraries-using-pip-and-zip/\" rel=\"nofollow noreferrer\">vilimpoc.org/blog/2012/11/23/&hellip;</a> -- Probably best to create a new question if your run into trouble"}, {"owner": {"reputation": 738, "user_id": 2215684, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19b2ec1f2a46e04e94ce54dadd8946d6?s=128&d=identicon&r=PG", "display_name": "Rizky Ariestiyansyah", "link": "https://stackoverflow.com/users/2215684/rizky-ariestiyansyah"}, "edited": false, "score": 0, "creation_date": 1438243683, "post_id": 29202163, "comment_id": 51373783, "body": "Thanks this works on Yosemite 10.10.4"}, {"owner": {"reputation": 521, "user_id": 1054647, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05df494d41b7d14a22d7bff3959d531a?s=128&d=identicon&r=PG", "display_name": "knickum", "link": "https://stackoverflow.com/users/1054647/knickum"}, "reply_to_user": {"reputation": 15112, "user_id": 623735, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/8eb2d80a35122171463f423eeec7bfa4?s=128&d=identicon&r=PG", "display_name": "hobs", "link": "https://stackoverflow.com/users/623735/hobs"}, "edited": false, "score": 3, "creation_date": 1442249672, "post_id": 29202163, "comment_id": 52995073, "body": "@hobs Regarding <code>sudo pip install</code>, e.g. <a href=\"http://stackoverflow.com/questions/29310688/sudo-pip-install-vs-pip-install-user\" title=\"sudo pip install vs pip install user\">stackoverflow.com/questions/29310688/&hellip;</a>  As a general, but not unbreakable, rule, you should either use <code>pip install --user</code> or preferably use virtualenv to keep everything contained and pinned."}, {"owner": {"reputation": 15112, "user_id": 623735, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/8eb2d80a35122171463f423eeec7bfa4?s=128&d=identicon&r=PG", "display_name": "hobs", "link": "https://stackoverflow.com/users/623735/hobs"}, "reply_to_user": {"reputation": 521, "user_id": 1054647, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05df494d41b7d14a22d7bff3959d531a?s=128&d=identicon&r=PG", "display_name": "knickum", "link": "https://stackoverflow.com/users/1054647/knickum"}, "edited": false, "score": 0, "creation_date": 1442340798, "post_id": 29202163, "comment_id": 53039364, "body": "@knickum, yea that&#39;s a really good rule... except for security-related patches that you want to apply to all users and have the OS itself to use the newest versions."}, {"owner": {"reputation": 621, "user_id": 2027027, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7b7Jh.jpg?s=128&g=1", "display_name": "Richard", "link": "https://stackoverflow.com/users/2027027/richard"}, "edited": false, "score": 0, "creation_date": 1444839082, "post_id": 29202163, "comment_id": 54072584, "body": "I try the above and it just get worse under ubuntu 12.04..."}, {"owner": {"reputation": 2350, "user_id": 357555, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5d11284af134fa749d4d93fccadb8dfa?s=128&d=identicon&r=PG", "display_name": "Timofey", "link": "https://stackoverflow.com/users/357555/timofey"}, "edited": false, "score": 0, "creation_date": 1445975701, "post_id": 29202163, "comment_id": 54548457, "body": "what if there is no pip on the machine?"}, {"owner": {"reputation": 870, "user_id": 740004, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3181e5b8bc041593b6f481f137e461ad?s=128&d=identicon&r=PG", "display_name": "zx1986", "link": "https://stackoverflow.com/users/740004/zx1986"}, "edited": false, "score": 0, "creation_date": 1448175025, "post_id": 29202163, "comment_id": 55468970, "body": "cffi installed failed ...."}, {"owner": {"reputation": 4478, "user_id": 645491, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/833761cd202c03e01ac63c55021a4eec?s=128&d=identicon&r=PG", "display_name": "TrinitronX", "link": "https://stackoverflow.com/users/645491/trinitronx"}, "edited": false, "score": 0, "creation_date": 1449107184, "post_id": 29202163, "comment_id": 55866952, "body": "On CentOS 7, this required <code>yum -y install libffi-devel openssl-devel</code>"}, {"owner": {"reputation": 2966, "user_id": 629032, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f2303c6c992fa157e65d294ac3599b71?s=128&d=identicon&r=PG", "display_name": "dpb", "link": "https://stackoverflow.com/users/629032/dpb"}, "edited": false, "score": 1, "creation_date": 1450422948, "post_id": 29202163, "comment_id": 56442158, "body": "Also, if you&#39;re having trouble installing the Ubuntu dependencies (I was), there&#39;s a bit more complete description here: <a href=\"http://stackoverflow.com/questions/22073516/failed-to-install-python-cryptography-package-with-pip-and-setup-py\" title=\"failed to install python cryptography package with pip and setup py\">stackoverflow.com/questions/22073516/&hellip;</a> (answer is quite far down)"}, {"owner": {"reputation": 679, "user_id": 531429, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/744af03f63d8fb8afc716739b0b00284?s=128&d=identicon&r=PG", "display_name": "returneax", "link": "https://stackoverflow.com/users/531429/returneax"}, "edited": false, "score": 0, "creation_date": 1461069354, "post_id": 29202163, "comment_id": 61022221, "body": "For Debian I also needed to install python-dev."}, {"owner": {"reputation": 167, "user_id": 154858, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21ef50638dd4196abc98256aeb13bca7?s=128&d=identicon&r=PG", "display_name": "Derek", "link": "https://stackoverflow.com/users/154858/derek"}, "edited": false, "score": 1, "creation_date": 1463832859, "post_id": 29202163, "comment_id": 62238970, "body": "On Ubuntu 14.04, running Python 2.7.6, the suggested <code>pip install requests[security]</code> failed with <code>error code 1 in &#47;tmp&#47;pip-build-YTQm4B&#47;cryptography&#47;</code>"}, {"owner": {"reputation": 1906, "user_id": 2755652, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/8bDAG.jpg?s=128&g=1", "display_name": "Sujay Phadke", "link": "https://stackoverflow.com/users/2755652/sujay-phadke"}, "edited": false, "score": 0, "creation_date": 1475557393, "post_id": 29202163, "comment_id": 66978106, "body": "On Raspberry Pi, I had to manually install  the required utilities like cffi, enum34, ipaddress, idna, pycparser, cryptography due to the problems described here: <a href=\"https://github.com/pyca/cryptography/issues/1981\" rel=\"nofollow noreferrer\">github.com/pyca/cryptography/issues/1981</a>"}, {"owner": {"reputation": 16499, "user_id": 2494535, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/94346b45107854d1a7fbf6500b8a7474?s=128&d=identicon&r=PG", "display_name": "softvar", "link": "https://stackoverflow.com/users/2494535/softvar"}, "edited": false, "score": 0, "creation_date": 1512247839, "post_id": 29202163, "comment_id": 82183094, "body": "Saved my server filling the error.log file and causing my server disk to be out of space. Thanks!"}, {"owner": {"reputation": 558, "user_id": 879255, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/67c1e5769410f2702b178780f77ede10?s=128&d=identicon&r=PG", "display_name": "Pythomania", "link": "https://stackoverflow.com/users/879255/pythomania"}, "edited": false, "score": 0, "creation_date": 1523892010, "post_id": 29202163, "comment_id": 86736752, "body": "That little side note on Ubuntu helped majorly. Thank you!"}], "tags": [], "owner": {"reputation": 8887, "user_id": 494182, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/aea6a70d4799cbb0bf710a555c56d255?s=128&d=identicon&r=PG", "display_name": "nathan-m", "link": "https://stackoverflow.com/users/494182/nathan-m"}, "is_accepted": false, "score": 555, "last_activity_date": 1456192456, "last_edit_date": 1456192456, "creation_date": 1427075549, "answer_id": 29202163, "question_id": 29134512, "link": "https://stackoverflow.com/questions/29134512/insecureplatformwarning-a-true-sslcontext-object-is-not-available-this-prevent/29202163#29202163", "title": "InsecurePlatformWarning: A true SSLContext object is not available. This prevents urllib3 from configuring SSL appropriately", "body": "<p><a href=\"https://urllib3.readthedocs.org/en/latest/security.html#pyopenssl\">The docs give a fair indicator of what's required.</a>, however <code>requests</code> allow us to skip a few steps:</p>\n\n<p>You only need to install the <code>security</code> <a href=\"https://github.com/kennethreitz/requests/blob/5a799dd0f505e6c6c2ff67e227f6a3d25c086342/setup.py#L71\">package extras</a> (thanks @admdrew for pointing it out)</p>\n\n<pre><code>$ pip install requests[security]\n</code></pre>\n\n<p>or, install them directly:</p>\n\n<pre><code>$ pip install pyopenssl ndg-httpsclient pyasn1\n</code></pre>\n\n<p><a href=\"https://github.com/kennethreitz/requests/blob/a57c87a459d51c5b17d20285109e901b8aa95752/requests/__init__.py#L54\">Requests will then automatically inject <code>pyopenssl</code> into <code>urllib3</code></a></p>\n\n<hr>\n\n<p>If you're on ubuntu, you may run into trouble installing  <code>pyopenssl</code>, you'll need these dependencies:</p>\n\n<pre><code>$ apt-get install libffi-dev libssl-dev\n</code></pre>\n"}], "owner": {"reputation": 3329, "user_id": 4525298, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32b5770fbbc2f5d00cebe38f6ec467d5?s=128&d=identicon&r=PG&f=1", "display_name": "user4525298", "link": "https://stackoverflow.com/users/4525298/user4525298"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 312253, "favorite_count": 110, "closed_date": 1427644972, "answer_count": 2, "score": 332, "last_activity_date": 1520713276, "creation_date": 1426720881, "last_edit_date": 1470311073, "question_id": 29134512, "link": "https://stackoverflow.com/questions/29134512/insecureplatformwarning-a-true-sslcontext-object-is-not-available-this-prevent", "closed_reason": "Duplicate", "title": "InsecurePlatformWarning: A true SSLContext object is not available. This prevents urllib3 from configuring SSL appropriately", "body": "<p>Tried to perform REST GET through python requests with the following code and I got error.</p>\n\n<p>Code snip:</p>\n\n<pre><code>import requests\nheader = {'Authorization': 'Bearer...'}\nurl = az_base_url + az_subscription_id + '/resourcegroups/Default-Networking/resources?' + az_api_version\nr = requests.get(url, headers=header)\n</code></pre>\n\n<p>Error:</p>\n\n<pre><code>/usr/local/lib/python2.7/dist-packages/requests/packages/urllib3/util/ssl_.py:79: \n          InsecurePlatformWarning: A true SSLContext object is not available. \n          This prevents urllib3 from configuring SSL appropriately and may cause certain SSL connections to fail. \n          For more information, see https://urllib3.readthedocs.org/en/latest/security.html#insecureplatformwarning.\n  InsecurePlatformWarning\n</code></pre>\n\n<p>My python version is 2.7.3. I tried to install urllib3 and requests[security] as some other thread suggests, I still got the same error.</p>\n\n<p>Wonder if anyone can provide some tips?</p>\n"}, {"tags": ["python", "pandas", "dataframe"], "comments": [{"owner": {"reputation": 86481, "user_id": 2411802, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/RA92x.jpg?s=128&g=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/2411802/alexander"}, "edited": false, "score": 0, "creation_date": 1426721650, "post_id": 29134458, "comment_id": 46494713, "body": "df.ix[l] will return a view of the underlying data, where l is your list.  Note that idx may be a more readable name than l."}], "answers": [{"comments": [{"owner": {"reputation": 14714, "user_id": 200317, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/90ca39c2ec77b9727567834bdaacd72d?s=128&d=identicon&r=PG", "display_name": "add-semi-colons", "link": "https://stackoverflow.com/users/200317/add-semi-colons"}, "edited": false, "score": 0, "creation_date": 1426723675, "post_id": 29134627, "comment_id": 46495280, "body": "values in my list are in following format -&gt; <code>u&#39;0001&#39;</code> based on that I don&#39;t think the format is required thats by guess."}, {"owner": {"reputation": 17238, "user_id": 240490, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/536433ff8bf7f50dcab75a920a11d30a?s=128&d=identicon&r=PG", "display_name": "Jonathan Eunice", "link": "https://stackoverflow.com/users/240490/jonathan-eunice"}, "reply_to_user": {"reputation": 14714, "user_id": 200317, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/90ca39c2ec77b9727567834bdaacd72d?s=128&d=identicon&r=PG", "display_name": "add-semi-colons", "link": "https://stackoverflow.com/users/200317/add-semi-colons"}, "edited": false, "score": 1, "creation_date": 1426726327, "post_id": 29134627, "comment_id": 46495985, "body": "@Null-Hypothesis If your values are in that format, I agree. But in your question, you state <code>l = [001,005]</code> which would make them integers. Even if you assume they&#39;re strings, they have the wrong number of leading zeros. So, if the selection list is already more on-target than the question suggests, great! If not, you will need to homogenize the selection list with the DataFrame index."}], "tags": [], "owner": {"reputation": 17238, "user_id": 240490, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/536433ff8bf7f50dcab75a920a11d30a?s=128&d=identicon&r=PG", "display_name": "Jonathan Eunice", "link": "https://stackoverflow.com/users/240490/jonathan-eunice"}, "is_accepted": false, "score": 1, "last_activity_date": 1426721457, "creation_date": 1426721457, "answer_id": 29134627, "question_id": 29134458, "link": "https://stackoverflow.com/questions/29134458/pandas-data-frame-filter-by-list-values-most-efficient/29134627#29134627", "title": "Pandas data frame filter by list values - most efficient", "body": "<p>If your DataFrame is in <code>df</code>:</p>\n\n<pre><code>newdf = df[df.index.isin(l)]\n</code></pre>\n\n<p>Of course, you have to be careful here. None of your items in l are truly in the index. <code>l = [001,005]</code> is the same as <code>l = [1,5]</code>, whereas your index is really strings a la <code>['0001', '0002', ...]</code>. Given that, you may want to \"upgrade\" your selection list <code>l</code> to be parallel to your index first:</p>\n\n<pre><code>l = [\"{:04d}\".format(i) for i in l ]\nnewdf = df[df.index.isin(l)]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 14714, "user_id": 200317, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/90ca39c2ec77b9727567834bdaacd72d?s=128&d=identicon&r=PG", "display_name": "add-semi-colons", "link": "https://stackoverflow.com/users/200317/add-semi-colons"}, "edited": false, "score": 0, "creation_date": 1426723632, "post_id": 29134636, "comment_id": 46495268, "body": "values in my list are in following format -&gt; <code>u&#39;0001&#39;</code>"}, {"owner": {"reputation": 9233, "user_id": 2074981, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BXy8T.jpg?s=128&g=1", "display_name": "ASGM", "link": "https://stackoverflow.com/users/2074981/asgm"}, "reply_to_user": {"reputation": 14714, "user_id": 200317, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/90ca39c2ec77b9727567834bdaacd72d?s=128&d=identicon&r=PG", "display_name": "add-semi-colons", "link": "https://stackoverflow.com/users/200317/add-semi-colons"}, "edited": false, "score": 0, "creation_date": 1426724716, "post_id": 29134636, "comment_id": 46495562, "body": "@Null-Hypothesis, I see.  Your question seemed to indicate differently.  Did it work for you?"}], "tags": [], "owner": {"reputation": 9233, "user_id": 2074981, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BXy8T.jpg?s=128&g=1", "display_name": "ASGM", "link": "https://stackoverflow.com/users/2074981/asgm"}, "is_accepted": false, "score": 3, "last_activity_date": 1426721873, "last_edit_date": 1426721873, "creation_date": 1426721507, "answer_id": 29134636, "question_id": 29134458, "link": "https://stackoverflow.com/questions/29134458/pandas-data-frame-filter-by-list-values-most-efficient/29134636#29134636", "title": "Pandas data frame filter by list values - most efficient", "body": "<p>How about using <a href=\"http://pandas.pydata.org/pandas-docs/dev/indexing.html#different-choices-for-indexing\" rel=\"nofollow\"><code>.loc</code></a>:</p>\n\n<pre><code>df.loc[l]\n</code></pre>\n\n<p>Note, in your actual example, your indices are probably strings rather than integers.  When you declare <code>l = [0001, 0005]</code> it's going to be evaluated as <code>[1,5]</code>.  So you might want to use <code>l = [\"0001\", \"0005\"]</code> or use string formatting to convert the integers (as Jonathan Eunice shows in his answer).</p>\n\n<p>As an aside, <a href=\"https://www.python.org/dev/peps/pep-0008/#names-to-avoid\" rel=\"nofollow\">you should also avoid using lowercase <code>l</code> as a variable name</a>, since it looks similar to <code>1</code> in many monospace typefaces.</p>\n"}], "owner": {"reputation": 14714, "user_id": 200317, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/90ca39c2ec77b9727567834bdaacd72d?s=128&d=identicon&r=PG", "display_name": "add-semi-colons", "link": "https://stackoverflow.com/users/200317/add-semi-colons"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 228, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1426721873, "creation_date": 1426720598, "last_edit_date": 1426721067, "question_id": 29134458, "link": "https://stackoverflow.com/questions/29134458/pandas-data-frame-filter-by-list-values-most-efficient", "title": "Pandas data frame filter by list values - most efficient", "body": "<p>I have following pandas data frame that I have build: </p>\n\n<pre><code>      dark  Mystery  adult  crime  action  comedy  cartoon  winter  snow  skiing\n0001  0.00    0.000  0.000   0.00    0.00   0.000     0.00    0.56  0.65   0.789\n0004  0.89    0.678 -0.423   0.12    0.00   0.000     0.00    0.00  0.00   0.000\n0005  0.00    0.000  0.000   0.00    0.12   0.678    -0.89    0.00  0.00   0.000\n</code></pre>\n\n<p>I also have a list that has some of the row index values of the data frame. After filtering I want to have my new data frame with indexes matching the values in the list.</p>\n\n<pre><code>l = [001,005]\n</code></pre>\n\n<p>This is large data frame I am trying to figure out without iterating via loop. </p>\n\n<pre><code>[df.index[idx] for idx in l]\n</code></pre>\n\n<p>This is wrong but I feel I am close to the answer or may be not.</p>\n\n<p>Result should be:</p>\n\n<pre><code>      dark  Mystery  adult  crime  action  comedy  cartoon  winter  snow  skiing\n0001  0.00    0.000  0.000   0.00    0.00   0.000     0.00    0.56  0.65   0.789\n0005  0.00    0.000  0.000   0.00    0.12   0.678    -0.89    0.00  0.00   0.000\n</code></pre>\n"}, {"tags": ["python", "sublimetext3"], "comments": [{"owner": {"reputation": 4701, "user_id": 1770601, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/pp9hI.jpg?s=128&g=1", "display_name": "ha9u63ar", "link": "https://stackoverflow.com/users/1770601/ha9u63ar"}, "edited": false, "score": 2, "creation_date": 1426720554, "post_id": 29134395, "comment_id": 46494335, "body": "possible duplicate of <a href=\"http://stackoverflow.com/questions/8551735/how-do-i-run-python-code-from-sublime-text-2\">How do I run Python code from Sublime Text 2?</a>"}, {"owner": {"reputation": 167, "user_id": 3786189, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/9161c958a2a4955fc8a291a45c51407d?s=128&d=identicon&r=PG&f=1", "display_name": "ASEN", "link": "https://stackoverflow.com/users/3786189/asen"}, "reply_to_user": {"reputation": 4701, "user_id": 1770601, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/pp9hI.jpg?s=128&g=1", "display_name": "ha9u63ar", "link": "https://stackoverflow.com/users/1770601/ha9u63ar"}, "edited": false, "score": 0, "creation_date": 1434142815, "post_id": 29134395, "comment_id": 49672268, "body": "Why downvotes someone should upvote it is commonly faced problem"}], "answers": [{"tags": [], "owner": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "is_accepted": false, "score": 0, "last_activity_date": 1426722492, "last_edit_date": 1426722492, "creation_date": 1426720762, "answer_id": 29134492, "question_id": 29134395, "link": "https://stackoverflow.com/questions/29134395/execute-python-in-sublime-text/29134492#29134492", "title": "execute python in sublime text", "body": "<p>Sublime, if you haven't noticed already, is created with Python so you can expect it to have full support for the language. Based on your error, I'd venture to guess that you haven't added Python to your path. Watch the video <a href=\"https://www.youtube.com/watch?v=ucx9_OWE6BE\" rel=\"nofollow\">here</a> for instructions. Otherwise, you can watch <a href=\"https://www.youtube.com/watch?v=6ZpuwW-9T54\" rel=\"nofollow\">this</a> video for how to change build configurations.</p>\n"}, {"comments": [{"owner": {"reputation": 167, "user_id": 3786189, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/9161c958a2a4955fc8a291a45c51407d?s=128&d=identicon&r=PG&f=1", "display_name": "ASEN", "link": "https://stackoverflow.com/users/3786189/asen"}, "edited": false, "score": 0, "creation_date": 1426722355, "post_id": 29134532, "comment_id": 46494925, "body": "by which type we should save this build system file"}, {"owner": {"reputation": 5991, "user_id": 232371, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fb2a01bdde27923d196336fe006c8764?s=128&d=identicon&r=PG", "display_name": "Ben Usman", "link": "https://stackoverflow.com/users/232371/ben-usman"}, "reply_to_user": {"reputation": 167, "user_id": 3786189, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/9161c958a2a4955fc8a291a45c51407d?s=128&d=identicon&r=PG&f=1", "display_name": "ASEN", "link": "https://stackoverflow.com/users/3786189/asen"}, "edited": false, "score": 0, "creation_date": 1426722413, "post_id": 29134532, "comment_id": 46494938, "body": "<code>.sublime-build</code> I guess"}], "tags": [], "owner": {"reputation": 5991, "user_id": 232371, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fb2a01bdde27923d196336fe006c8764?s=128&d=identicon&r=PG", "display_name": "Ben Usman", "link": "https://stackoverflow.com/users/232371/ben-usman"}, "is_accepted": false, "score": 1, "last_activity_date": 1426720998, "creation_date": 1426720998, "answer_id": 29134532, "question_id": 29134395, "link": "https://stackoverflow.com/questions/29134395/execute-python-in-sublime-text/29134532#29134532", "title": "execute python in sublime text", "body": "<p>Tools - Build System - New Build System</p>\n\n<pre><code>{\n    \"cmd\": [\"path_to_your_python\", \"$file\"]\n}\n</code></pre>\n\n<p>than just use this build system.</p>\n"}, {"tags": [], "owner": {"reputation": 167, "user_id": 3786189, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/9161c958a2a4955fc8a291a45c51407d?s=128&d=identicon&r=PG&f=1", "display_name": "ASEN", "link": "https://stackoverflow.com/users/3786189/asen"}, "is_accepted": true, "score": 0, "last_activity_date": 1426723063, "creation_date": 1426723063, "answer_id": 29134878, "question_id": 29134395, "link": "https://stackoverflow.com/questions/29134395/execute-python-in-sublime-text/29134878#29134878", "title": "execute python in sublime text", "body": "<p>Finally it solved thanks to Ben Usman and ha9u63ar what i did was </p>\n\n<pre><code>           Tools - Build System - New Build System\n\n {\n\"path\": \"/usr/local/bin\",\n\"cmd\": [\"python3\", \"-u\", \"$file\"],\n\"file_regex\": \"^[ ]*File \\\"(...*?)\\\", line ([0-9]*)\",\n \"selector\": \"source.python\"\n }\n</code></pre>\n"}], "owner": {"reputation": 167, "user_id": 3786189, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/9161c958a2a4955fc8a291a45c51407d?s=128&d=identicon&r=PG&f=1", "display_name": "ASEN", "link": "https://stackoverflow.com/users/3786189/asen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 668, "favorite_count": 0, "accepted_answer_id": 29134878, "answer_count": 3, "score": 0, "last_activity_date": 1426757040, "creation_date": 1426720264, "last_edit_date": 1426757040, "question_id": 29134395, "link": "https://stackoverflow.com/questions/29134395/execute-python-in-sublime-text", "title": "execute python in sublime text", "body": "<p>when i build a python programme in sublime text i get </p>\n\n<blockquote>\n  <p>python' is not recognized as an internal or external command,operable program or batch file. [Finished in 1.0s with exit code 1]</p>\n</blockquote>\n\n<p><img src=\"https://i.stack.imgur.com/rnYbc.png\" alt=\"enter image description here\"></p>\n\n<p>The issue is sublime text can't locate the path where python.\n when i try to do manually put the path i.e <code>c:\\python34\\python.exe</code> I can't go ahead of preferences browse packages as there are no option to select python</p>\n\n<p>How to proceed further what to do</p>\n\n<p>guys for your  clearation i have added the environment variable and python works perfectly fine in cmd..\n<img src=\"https://i.stack.imgur.com/fuFsX.png\" alt=\"enter image description here\"></p>\n\n<p>this is the complete error i am getting</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 4701, "user_id": 1770601, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/pp9hI.jpg?s=128&g=1", "display_name": "ha9u63ar", "link": "https://stackoverflow.com/users/1770601/ha9u63ar"}, "edited": false, "score": 0, "creation_date": 1426720278, "post_id": 29134366, "comment_id": 46494239, "body": "possible duplicate of <a href=\"http://stackoverflow.com/questions/15594817/f-seek-and-f-tell-to-read-each-line-of-text-file\">f.seek() and f.tell() to read each line of text file</a>"}, {"owner": {"reputation": 157295, "user_id": 76337, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/1aa48f7606f5b08595b0a0356a61e8b6?s=128&d=identicon&r=PG", "display_name": "John Saunders", "link": "https://stackoverflow.com/users/76337/john-saunders"}, "edited": false, "score": 0, "creation_date": 1426728309, "post_id": 29134366, "comment_id": 46496421, "body": "Please don&#39;t just ask us to solve the problem for you. Show us how <i>you</i> tried to solve the problem yourself, then show us <i>exactly</i> what the result was, and tell us why you feel it didn&#39;t work. See &quot;<a href=\"http://whathaveyoutried.com/\" rel=\"nofollow noreferrer\">What Have You Tried?</a>&quot; for an excellent article that you <i>really need to read</i>."}], "answers": [{"comments": [{"owner": {"reputation": 91, "user_id": 4678453, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9e80082881198f93bab863956f1a4b30?s=128&d=identicon&r=PG&f=1", "display_name": "user20150316", "link": "https://stackoverflow.com/users/4678453/user20150316"}, "edited": false, "score": 0, "creation_date": 1426721121, "post_id": 29134407, "comment_id": 46494530, "body": "I don&#39;t really understand how seek() works. I will look into it."}, {"owner": {"reputation": 91, "user_id": 4678453, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9e80082881198f93bab863956f1a4b30?s=128&d=identicon&r=PG&f=1", "display_name": "user20150316", "link": "https://stackoverflow.com/users/4678453/user20150316"}, "edited": false, "score": 0, "creation_date": 1426721215, "post_id": 29134407, "comment_id": 46494558, "body": "I don&#39;t understand how to find line number with seek and match them"}], "tags": [], "owner": {"reputation": 116, "user_id": 4367862, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VJMLX.jpg?s=128&g=1", "display_name": "CSCFCEM", "link": "https://stackoverflow.com/users/4367862/cscfcem"}, "is_accepted": false, "score": 1, "last_activity_date": 1426720331, "creation_date": 1426720331, "answer_id": 29134407, "question_id": 29134366, "link": "https://stackoverflow.com/questions/29134366/iterate-through-a-file-multiple-times/29134407#29134407", "title": "Iterate through a file multiple times", "body": "<p>Look into using <a href=\"https://docs.python.org/2.4/lib/bltin-file-objects.html\" rel=\"nofollow\">seek()</a>.  Once you've gone through the file once, do [fileobject].seek() and you can go through the file again.  </p>\n\n<p>Furthermore, seek() by default will go to the beginning of the file, if you want a particular point in the file you can pass an argument.</p>\n"}, {"tags": [], "owner": {"reputation": 757655, "user_id": 95810, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e8d5fe90f1fe2148bf130cccd4dc311c?s=128&d=identicon&r=PG", "display_name": "Alex Martelli", "link": "https://stackoverflow.com/users/95810/alex-martelli"}, "is_accepted": true, "score": 0, "last_activity_date": 1426721414, "last_edit_date": 1426721414, "creation_date": 1426721106, "answer_id": 29134554, "question_id": 29134366, "link": "https://stackoverflow.com/questions/29134366/iterate-through-a-file-multiple-times/29134554#29134554", "title": "Iterate through a file multiple times", "body": "<p>Iterating multiple times through a file is possible (you can reset the file to the start by calling <code>thefile.seek()</code>) but likely to be <strong>very</strong> costly.</p>\n\n<p>Let's say for generality you have a function to identify the key number given a line, e.g</p>\n\n<pre><code>def getkey(line):\n    return line.split()[1]\n</code></pre>\n\n<p>in your example where the key is the second of three space-separated words in the line.  Now, if the data for the second file will fit comfortably in RAM (so up to a few GB -- think how long it would take to iterate hundreds of times on <strong>that</strong>!-)...:</p>\n\n<pre><code>key2line = {}\nwith open(secondfile) as f:\n    for line in f:\n        key2line[getkey(line)] = line\n\nwith open(firstfile) as f:\n    order = [line.strip() for line in f]\n\nwith open(outputfile, 'w') as f:\n    for key in order:\n        f.write(key2line[key])\n</code></pre>\n\n<p>Now isn't that a pretty clear and effective approach...?</p>\n\n<p>If the second file is too big by a small factor, say 10 times or so, what you can actually fit into memory, then you may still be able to solve it at the cost of lots of jumping around in the file, by using seek and tell.</p>\n\n<p>The first loop would become:</p>\n\n<pre><code>key2offset = {}\nwith open(secondfile) as f:\n    offset = 0\n    for line in f:\n        new_offset = f.tell()\n        key2line[getkey(line)] = offset\n        offset = new_offset\n</code></pre>\n\n<p>and the last loop would become:</p>\n\n<pre><code>with open(secondfile) as f:\n    with open(outputfile, 'w') as f1:\n        for key in order:\n            f.seek(key2offset[key])\n            line = f.readline()\n            f1.write(line)\n</code></pre>\n\n<p>A bit more complex, <strong>much</strong> slower -- but still <strong>way</strong> faster than re-reading a bazillion times, over and over, a file of tens of GB!-)</p>\n"}], "owner": {"reputation": 91, "user_id": 4678453, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9e80082881198f93bab863956f1a4b30?s=128&d=identicon&r=PG&f=1", "display_name": "user20150316", "link": "https://stackoverflow.com/users/4678453/user20150316"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1280, "favorite_count": 0, "closed_date": 1426763151, "accepted_answer_id": 29134554, "answer_count": 2, "score": 1, "last_activity_date": 1426721414, "creation_date": 1426720127, "question_id": 29134366, "link": "https://stackoverflow.com/questions/29134366/iterate-through-a-file-multiple-times", "closed_reason": "Needs more focus", "title": "Iterate through a file multiple times", "body": "<p>I have one file where each line is a number:</p>\n\n<pre><code>567\n345\n456\n123\n</code></pre>\n\n<p>The second file has the same number of lines that look like this:</p>\n\n<pre><code>something1 123 something2\nsomething3 345 something4\nsomething5 456 something6\nsomething7 567 something7\n</code></pre>\n\n<p>So, the second file has numbers that are ordered and the first file doesn't. I want to re-order the second file like this:</p>\n\n<pre><code>something7 567 something7\nsomething3 345 something4\nsomething5 456 something6\nsomething1 123 something2\n</code></pre>\n\n<p>I don't know how to iterate through the second file multiple times. When I take the first value from the first file and look for it in the second file, it searches the second file and never re-iterates through it again.</p>\n"}, {"tags": ["python", "regex", "csv"], "comments": [{"owner": {"reputation": 2181, "user_id": 4027338, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/gzGPW.png?s=128&g=1", "display_name": "marsh", "link": "https://stackoverflow.com/users/4027338/marsh"}, "edited": false, "score": 1, "creation_date": 1426719621, "post_id": 29134271, "comment_id": 46494055, "body": "If its a comma delimited list that is always the same set of data you could read it without Regex."}, {"owner": {"reputation": 4091, "user_id": 26083, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c3b4f3460b142d0ba37de98d1b04655?s=128&d=identicon&r=PG", "display_name": "haavee", "link": "https://stackoverflow.com/users/26083/haavee"}, "edited": false, "score": 1, "creation_date": 1426719705, "post_id": 29134271, "comment_id": 46494073, "body": "If there are other lines mixed in you could use <code>line.startswith(&quot;CSE&quot;)</code> i.s.o. regex. And yes, the comma-separated list is easier to deal with using <code>split(&#39;,&#39;)</code> than usingregex."}, {"owner": {"reputation": 4979, "user_id": 2676531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc88aa76113d738e11685389a1409a26?s=128&d=identicon&r=PG", "display_name": "Celeo", "link": "https://stackoverflow.com/users/2676531/celeo"}, "edited": false, "score": 0, "creation_date": 1426720816, "post_id": 29134271, "comment_id": 46494425, "body": "<a href=\"http://stackoverflow.com/questions/29132845/choosing-right-data-structure-to-parse-a-file\">Reference</a>"}], "answers": [{"tags": [], "owner": {"reputation": 30101, "user_id": 783412, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/895a112c66d93cefcd06d2cf371219e6?s=128&d=identicon&r=PG", "display_name": "hd1", "link": "https://stackoverflow.com/users/783412/hd1"}, "is_accepted": false, "score": 0, "last_activity_date": 1426720850, "creation_date": 1426720850, "answer_id": 29134506, "question_id": 29134271, "link": "https://stackoverflow.com/questions/29134271/right-regular-expression-for-the-following/29134506#29134506", "title": "right regular expression for the following", "body": "<p>You should really be using the <a href=\"https://docs.python.org/2/library/csv.html\" rel=\"nofollow\">python csv</a> module for this:</p>\n\n<pre><code>\"\"\" Assume separate files\n//Course times\nCSE110, Mon, 1:00 PM, Fri, 1:00 PM\nCSE114, Mon, 8:00 AM, Wed, 8:00 AM, Fri, 8:00 AM\n\"\"\"\nwith open('course_times.csv') as fin_:\n    fin = csv.reader(fin_)\n    # further processing here\n\n# process other files\n</code></pre>\n"}], "owner": {"reputation": 121, "user_id": 2307207, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/d30eca880cf3e8c374b16d3f42af9360?s=128&d=identicon&r=PG", "display_name": "raghu", "link": "https://stackoverflow.com/users/2307207/raghu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 36, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1426720850, "creation_date": 1426719525, "last_edit_date": 1426720543, "question_id": 29134271, "link": "https://stackoverflow.com/questions/29134271/right-regular-expression-for-the-following", "title": "right regular expression for the following", "body": "<p>I have a csv file with the following format. </p>\n\n<pre><code>//Course times\nCSE110, Mon, 1:00 PM, Fri, 1:00 PM\nCSE114, Mon, 8:00 AM, Wed, 8:00 AM, Fri, 8:00 AM\n....\n\n//Course recitation times\nCSE306, Mon, 2:30 PM\nCSE307, Fri, 4:00 PM\n...\n\n//class strength\nCSE101, 44, yes\nCSE101, 115, yes\n...\n</code></pre>\n\n<p>I need to parse and store all of these in separate data structures. What could be the right reg-ex patterns for each of the category? or is there any other way?</p>\n"}, {"tags": ["python", "random"], "comments": [{"owner": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "edited": false, "score": 0, "creation_date": 1426719404, "post_id": 29134230, "comment_id": 46493985, "body": "We need more code for your object&#39;s class and whatnot."}], "answers": [{"comments": [{"owner": {"reputation": 347, "user_id": 3784402, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e69bd22fc011cccec228b6316a5561ed?s=128&d=identicon&r=PG&f=1", "display_name": "unbootabru", "link": "https://stackoverflow.com/users/3784402/unbootabru"}, "edited": false, "score": 0, "creation_date": 1426727823, "post_id": 29134339, "comment_id": 46496322, "body": "This is probably the answer to the question."}], "tags": [], "owner": {"reputation": 156940, "user_id": 416467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/32cad7487ccecc3740a62e797fc326dc?s=128&d=identicon&r=PG", "display_name": "kindall", "link": "https://stackoverflow.com/users/416467/kindall"}, "is_accepted": true, "score": 2, "last_activity_date": 1426722318, "last_edit_date": 1426722318, "creation_date": 1426719966, "answer_id": 29134339, "question_id": 29134230, "link": "https://stackoverflow.com/questions/29134230/creating-copy-of-class-instance-with-randomly-init-variable-python/29134339#29134339", "title": "Creating copy of class instance with randomly init variable (python)", "body": "<p>You have a class something like this, I assume:</p>\n\n<pre><code>class proc(object):\n\n    def __init__(self, value):\n        self.value = value\n</code></pre>\n\n<p>And when you initialize your first instance, you write:</p>\n\n<pre><code>temp = proc(random.randint(min, max))\n</code></pre>\n\n<p>And this stores the random number in <code>temp.value</code>.</p>\n\n<p>To make a copy, you can just pass in <code>temp.value</code> to the <code>proc</code> constructor:</p>\n\n<pre><code>dupe = proc(temp.value)\n</code></pre>\n\n<p>You could also write your class to do this automatically, so that when you pass an instance of <code>proc</code> to the <code>proc</code> constructor, it makes a copy (as with other types, such as <code>list</code> and <code>dict</code>, whose constructors can be used to make copies of them). This has the advantage of keeping all the knowledge of what needs to be done to make copies <em>in the class</em> instead of the caller needing to know where the data is stored.</p>\n\n<pre><code>class proc(object):\n    def __init__(self, value):\n        if isinstance(value, proc):\n            value = value.value\n        self.value = value\n</code></pre>\n\n<p>Now, you can write:</p>\n\n<pre><code>dupe = proc(temp)\n</code></pre>\n\n<p>Alternatively, you could add a method to <code>proc</code> to make the copy:</p>\n\n<pre><code>class proc(object):\n\n    def __init__(self, value):\n        self.value = value\n\n    def copy(self):\n        return type(self)(self.value)\n</code></pre>\n\n<p>Now your copy is:</p>\n\n<pre><code>dupe = temp.copy()\n</code></pre>\n\n<p>Finally, if you name your <code>copy</code> method <code>__copy__</code> instead (or use both names), <em>it will magically work with <code>copy.copy</code>!</em></p>\n\n<pre><code>class proc(object):\n\n    def __init__(self, value):\n        self.value = value\n\n    def copy(self):\n        return type(self)(self.value)\n\n    __copy__ = copy   # alias for use by 'copy' module\n\ntemp = proc(random.randint(min, max))\ndupe = copy.copy(temp)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 347, "user_id": 3784402, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e69bd22fc011cccec228b6316a5561ed?s=128&d=identicon&r=PG&f=1", "display_name": "unbootabru", "link": "https://stackoverflow.com/users/3784402/unbootabru"}, "edited": false, "score": 0, "creation_date": 1426727878, "post_id": 29134352, "comment_id": 46496336, "body": "Other answer probably answered the asked question better, but this is exactly what I needed to use.  Thanks"}, {"owner": {"reputation": 473, "user_id": 2952351, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d547bde12d17d8d9ad19373d9c858ee8?s=128&d=identicon&r=PG&f=1", "display_name": "vermillon", "link": "https://stackoverflow.com/users/2952351/vermillon"}, "reply_to_user": {"reputation": 347, "user_id": 3784402, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e69bd22fc011cccec228b6316a5561ed?s=128&d=identicon&r=PG&f=1", "display_name": "unbootabru", "link": "https://stackoverflow.com/users/3784402/unbootabru"}, "edited": false, "score": 0, "creation_date": 1426747785, "post_id": 29134352, "comment_id": 46501413, "body": "Why not make it the accepted answer if it was what you needed, then?"}], "tags": [], "owner": {"reputation": 473, "user_id": 2952351, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d547bde12d17d8d9ad19373d9c858ee8?s=128&d=identicon&r=PG&f=1", "display_name": "vermillon", "link": "https://stackoverflow.com/users/2952351/vermillon"}, "is_accepted": false, "score": 0, "last_activity_date": 1426720057, "creation_date": 1426720057, "answer_id": 29134352, "question_id": 29134230, "link": "https://stackoverflow.com/questions/29134230/creating-copy-of-class-instance-with-randomly-init-variable-python/29134352#29134352", "title": "Creating copy of class instance with randomly init variable (python)", "body": "<p>You need to initialize random.seed() with an argument you will reuse. It will guarantee that you generate \"the same random number\". (e.g. random.seed(0) before the rest of your code) </p>\n"}, {"tags": [], "owner": {"reputation": 170, "user_id": 4680808, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/i506Y.png?s=128&g=1", "display_name": "Mikhail", "link": "https://stackoverflow.com/users/4680808/mikhail"}, "is_accepted": false, "score": 0, "last_activity_date": 1426720126, "creation_date": 1426720126, "answer_id": 29134364, "question_id": 29134230, "link": "https://stackoverflow.com/questions/29134230/creating-copy-of-class-instance-with-randomly-init-variable-python/29134364#29134364", "title": "Creating copy of class instance with randomly init variable (python)", "body": "<p>Perhaps, you can just make random number separatly from your object?</p>\n\n<pre><code>init_numb = random.randint(min, max)\ntemp = proc(init_numb)\ntempCpy = copy.copy(temp) #changes on temp interfere with tempCpy\ntempCpy = copy.deepcopy(temp)\n</code></pre>\n"}], "owner": {"reputation": 347, "user_id": 3784402, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e69bd22fc011cccec228b6316a5561ed?s=128&d=identicon&r=PG&f=1", "display_name": "unbootabru", "link": "https://stackoverflow.com/users/3784402/unbootabru"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1069, "favorite_count": 0, "accepted_answer_id": 29134339, "answer_count": 3, "score": 0, "last_activity_date": 1426722318, "creation_date": 1426719328, "question_id": 29134230, "link": "https://stackoverflow.com/questions/29134230/creating-copy-of-class-instance-with-randomly-init-variable-python", "title": "Creating copy of class instance with randomly init variable (python)", "body": "<p>I need to initialize an instance of a class with a randomly generated number.  I then need to use this instance in several different trials.  However, I am having troubles making exact copies of this instance - the randomly generated number will not stay the same.  Each copy is generating a new random number.</p>\n\n<pre><code>temp = proc(random.randint(min, max))\ntempCpy = copy.copy(temp) #changes on temp interfere with tempCpy\ntempCpy = copy.deepcopy(temp)  #doesn't start with same random number\n</code></pre>\n"}, {"tags": ["python", "tkinter", "gridlayoutmanager"], "answers": [{"comments": [{"owner": {"reputation": 47, "user_id": 4482908, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17193aa90fa0b32bcb23029048fd92c1?s=128&d=identicon&r=PG&f=1", "display_name": "arafasse", "link": "https://stackoverflow.com/users/4482908/arafasse"}, "edited": false, "score": 0, "creation_date": 1426723053, "post_id": 29134430, "comment_id": 46495120, "body": "Thanks very much Bryan; I appreciate your clarification of <code>setgrid</code>, I was definitely barking up the wrong tree. Do you happen to know of any way to make a single column horizontally scrollable while preserving its alignment with the other rows in the grid?"}], "tags": [], "owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "is_accepted": true, "score": 1, "last_activity_date": 1426720802, "last_edit_date": 1426720802, "creation_date": 1426720444, "answer_id": 29134430, "question_id": 29134212, "link": "https://stackoverflow.com/questions/29134212/enabling-the-setgrid-option-for-a-tkinter-widget/29134430#29134430", "title": "Enabling the &quot;setgrid&quot; option for a Tkinter widget", "body": "<p>I think you are misunderstanding <code>setgrid</code>. </p>\n\n<p>It is so that a widget with a natural size that is based on something other than a pixel (such as a text widget, whose size is based on characters) can prevent the parent from setting it to an unnatural size (eg: 20.5 characters). With <code>setgrid</code>, when you interactively resize the window it will resize in grid units (eg: character height or width) rather than pixels.</p>\n\n<p><code>setgrid</code> doesn't prevent resizing so much as that it makes sure resizing happens at multiples of some other unit.</p>\n\n<p>Here is the complete, definitive reference for the <code>setgrid</code> option, from the tcl/tk manual:</p>\n\n<blockquote>\n  <p>Specifies a boolean value that determines whether this widget controls\n  the resizing grid for its top-level window. This option is typically\n  used in text widgets, where the information in the widget has a\n  natural size (the size of a character) and it makes sense for the\n  window's dimensions to be integral numbers of these units. These\n  natural window sizes form a grid. If the setGrid option is set to true\n  then the widget will communicate with the window manager so that when\n  the user interactively resizes the top-level window that contains the\n  widget, the dimensions of the window will be displayed to the user in\n  grid units and the window size will be\n  constrained to integral numbers of grid units. See the section GRIDDED\n  GEOMETRY MANAGEMENT in the wm manual entry for more details.</p>\n</blockquote>\n"}], "owner": {"reputation": 47, "user_id": 4482908, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17193aa90fa0b32bcb23029048fd92c1?s=128&d=identicon&r=PG&f=1", "display_name": "arafasse", "link": "https://stackoverflow.com/users/4482908/arafasse"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 796, "favorite_count": 0, "accepted_answer_id": 29134430, "answer_count": 1, "score": 1, "last_activity_date": 1426720802, "creation_date": 1426719243, "question_id": 29134212, "link": "https://stackoverflow.com/questions/29134212/enabling-the-setgrid-option-for-a-tkinter-widget", "title": "Enabling the &quot;setgrid&quot; option for a Tkinter widget", "body": "<p>I am using the <code>grid</code> geometry manager of Tkinter to generate a table with horizontally scrollable text in column 2. I tried creating a <code>Listbox</code> widget that lives in column 2 (as a child of the overall frame) and spans all the rows. This seemed promising, until it became apparent that the lines of text in the Listbox are not aligned with the rows of the parent grid. I've been searching in vain for a way to pad each row of text in the Listbox so that the rows match up; but even if that were possible, I would prefer a more general, less kludgy solution. </p>\n\n<p>I recently stumbled across a <a href=\"http://www.tcl.tk/man/tcl8.4/TkCmd/wm.htm\" rel=\"nofollow\">description</a> of Gridded Geometry Management that alludes to a setgrid option for a widget. It purports to do exactly what I want: that is, \"[determine] whether this widget controls the resizing grid for its top-level window.\" I tried enabling this option in my <code>Listbox</code> widget, but to no avail. Am I somehow misunderstanding the purpose/usage of setgrid?</p>\n\n<p>(In order to see the problem with the code below, use the <code>Select File</code> or <code>Select Folder</code> buttons to load multiple audio files into the file list.)</p>\n\n<pre><code>#! /usr/bin/env python\n\n#################################################\n# This tool allows the user to select audio files \n# (or folders containing audio files) and subject \n# them to loudness analysis.\n#################################################\n\nimport sys\nimport os\nimport codecs\nimport re\nimport Tkinter\nfrom Tkinter import *\nimport tkFileDialog\nfrom os import walk\nfrom os import path\nfrom Tkinter import Tk, Text, BOTH, W, N, E, S\nfrom ttk import Frame, Button, Label, Style, Progressbar\nfrom ScrolledText import *\nfrom progressbar import ProgressBar\n\nclass Leveler_tk(Frame):\n    fileList = []\n    allowedExtensions = ['mp3','mp2','m4a','aiff','wav']\n\n    def __init__(self, parent):\n        Frame.__init__(self, parent)\n        self.parent = parent\n        self.initialize()\n\n    def initialize(self):\n        self.style = Style()\n        self.style.theme_use(\"default\")\n        self.pack(fill=BOTH, expand=1)\n\n        self.columnconfigure(1, weight=1)\n        self.columnconfigure(2, weight=1)\n        self.columnconfigure(2, pad=250)\n        self.columnconfigure(3, weight=1)\n        self.columnconfigure(4, weight=1)\n        self.columnconfigure(5, weight=1)\n\n        lbl1 = Label(self, text=\"Analyze\")\n        lbl1.grid(pady=4, padx=5,row=0,column=0)\n\n        lbl2 = Label(self, text=\"Adjust\")\n        lbl2.grid(pady=4, padx=5,row=0,column=1)\n\n        lbl3 = Label(self, text=\"File\")\n        lbl3.grid(pady=4, padx=5,row=0,column=2)\n\n        lbl4 = Label(self, text=\"Integrated\\nLoudness\")\n        lbl4.grid(pady=4, padx=5,row=0,column=3)\n\n        lbl5 = Label(self, text=\"LRA\")\n        lbl5.grid(pady=4, padx=5,row=0,column=4)\n\n        lbl6 = Label(self, text=\"Peak\")\n        lbl6.grid(pady=4, padx=5,row=0,column=5)\n\n        lbl7 = Label(self, text=\"Progress\")\n        lbl7.grid(pady=4, padx=5,row=0,column=6)\n\n        lbl8 = Label(self, text=\"Meets\\nSpecs?\")\n        lbl8.grid(sticky=W, pady=4, padx=5,row=0,column=7)\n\n        file_btn = Button(self, text=\"Select File\",command=self.selectFile)\n        file_btn.grid(row=1,rowspan=2, column=8,padx=5,pady=4)\n\n        folder_btn = Button(self, text=\"Select Folder\", command=self.selectFolder)\n        folder_btn.grid(row=3, rowspan=2, column=8,padx=5,pady=4)\n\n    def render(self):\n        count = 0\n        filebox = Listbox(self,selectmode=EXTENDED,setgrid=1)\n        scrollbar = Scrollbar(filebox, orient=HORIZONTAL)\n        scrollbar.config(command=filebox.xview)\n        filebox.grid(row=1, column=2, rowspan=len(self.fileList), columnspan=1, sticky=N+S+E+W)\n        filebox.config(xscrollcommand=scrollbar.set)\n        scrollbar.pack(side=BOTTOM, fill=X)\n        for file in self.fileList:\n            analyze = IntVar()\n            adjust = IntVar()\n            Radiobutton(self, text=\"\", variable=analyze, value=count, borderwidth=0).grid(row=count+1, column=0)\n            Radiobutton(self, text=\"\", variable=adjust,  value=count, borderwidth=0).grid(row=count+1, column=1)\n            filebox.insert(END, file + \"\\n\")\n            Progressbar(self, orient=HORIZONTAL,length=100, mode='determinate').grid(row=count+1, column=6)\n            count += 1\n\n    def addToList(self, name):\n        dot = re.search(\"\\.(?=[^.]*$)\",name)\n        extension = name[dot.end():]\n        if extension in self.allowedExtensions and not name in self.fileList:\n            self.fileList.append(name)\n\n    def selectFile(self):\n        input = tkFileDialog.askopenfilename(filetypes = [('MP3', '*.mp3'), ('MP2', '*.mp2'), ('M4A', '*.m4a'), ('AIFF', '*.aiff'), ('WAV', '*.wav')], multiple = 1)\n        for el in input:\n            if os.path.isfile(el) and \".DS_Store\" not in el:\n                try:\n                    self.addToList(el)\n                except:\n                    tkMessageBox.showerror(\"Some error\")\n        self.render()\n\n    def selectFolder(self):\n        input = tkFileDialog.askdirectory()\n        for (dirpath, dirnames, filenames) in walk(input):\n            for name in filenames:\n                if name != \".DS_Store\":\n                    self.addToList(dirpath + \"/\" + name)\n        self.render()\n\ndef main():\n    root = Tk()\n    app = Leveler_tk(root)\n    root.mainloop()\n\nif __name__ == \"__main__\":\n    main()\n</code></pre>\n"}, {"tags": ["python", "regex"], "comments": [{"owner": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "edited": false, "score": 0, "creation_date": 1426719297, "post_id": 29134165, "comment_id": 46493952, "body": "Is this a raw string?"}, {"owner": {"reputation": 1, "user_id": 156458, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/3PCjR.png?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/156458/tim"}, "reply_to_user": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "edited": false, "score": 0, "creation_date": 1426719358, "post_id": 29134165, "comment_id": 46493969, "body": "what do you mean by raw string?"}, {"owner": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "edited": false, "score": 0, "creation_date": 1426719432, "post_id": 29134165, "comment_id": 46493996, "body": "Is your string prefixed by an R?"}, {"owner": {"reputation": 1, "user_id": 156458, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/3PCjR.png?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/156458/tim"}, "reply_to_user": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "edited": false, "score": 0, "creation_date": 1426719524, "post_id": 29134165, "comment_id": 46494025, "body": "no. ................"}, {"owner": {"reputation": 27179, "user_id": 710099, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/0413774874b9baeccef7a5ba0344fec7?s=128&d=identicon&r=PG", "display_name": "Federico Piazza", "link": "https://stackoverflow.com/users/710099/federico-piazza"}, "edited": false, "score": 0, "creation_date": 1426719612, "post_id": 29134165, "comment_id": 46494053, "body": "can you put some sample data and expected output?"}, {"owner": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1426719647, "post_id": 29134165, "comment_id": 46494063, "body": "Raw string: <code>r&#39;blabla&#39;</code>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user764357"}, "edited": false, "score": 0, "creation_date": 1426720061, "post_id": 29134165, "comment_id": 46494172, "body": "You want a dot to not match <code>\\n</code> but also match <code>\\n</code>? That makes absolutely no sense."}, {"owner": {"reputation": 1, "user_id": 156458, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/3PCjR.png?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/156458/tim"}, "reply_to_user": {"reputation": 27179, "user_id": 710099, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/0413774874b9baeccef7a5ba0344fec7?s=128&d=identicon&r=PG", "display_name": "Federico Piazza", "link": "https://stackoverflow.com/users/710099/federico-piazza"}, "edited": false, "score": 0, "creation_date": 1426720152, "post_id": 29134165, "comment_id": 46494200, "body": "@Fede:  put it.   ..."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 156458, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/3PCjR.png?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/156458/tim"}, "edited": false, "score": 0, "creation_date": 1426720268, "post_id": 29134380, "comment_id": 46494236, "body": "Thanks. itWorks, but why <code>[\\.\\n]</code> not works, while <code>[\\s\\S]</code> does?"}, {"owner": {"reputation": 27179, "user_id": 710099, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/0413774874b9baeccef7a5ba0344fec7?s=128&d=identicon&r=PG", "display_name": "Federico Piazza", "link": "https://stackoverflow.com/users/710099/federico-piazza"}, "reply_to_user": {"reputation": 1, "user_id": 156458, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/3PCjR.png?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/156458/tim"}, "edited": false, "score": 0, "creation_date": 1426720981, "post_id": 29134380, "comment_id": 46494480, "body": "@Tim well the \\.\\n you are select only the single character &quot;.&quot; and the new line. But \\s\\S will match everything. Think of it as a union set ."}, {"owner": {"reputation": 27179, "user_id": 710099, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/0413774874b9baeccef7a5ba0344fec7?s=128&d=identicon&r=PG", "display_name": "Federico Piazza", "link": "https://stackoverflow.com/users/710099/federico-piazza"}, "reply_to_user": {"reputation": 1, "user_id": 156458, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/3PCjR.png?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/156458/tim"}, "edited": false, "score": 0, "creation_date": 1426722686, "post_id": 29134380, "comment_id": 46495028, "body": "@Tim no, the dot inside a character class works a literal character. Btw, did my answer solved your question?"}, {"owner": {"reputation": 1, "user_id": 156458, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/3PCjR.png?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/156458/tim"}, "edited": false, "score": 0, "creation_date": 1426723836, "post_id": 29134380, "comment_id": 46495312, "body": "The \\.\\n you are select only the single character &quot;.&quot;, and the dot inside a character class works a literal character. So both <code>\\.</code> and <code>.</code> inside <code>[]</code> mean the same as the literal dot?"}, {"owner": {"reputation": 27179, "user_id": 710099, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/0413774874b9baeccef7a5ba0344fec7?s=128&d=identicon&r=PG", "display_name": "Federico Piazza", "link": "https://stackoverflow.com/users/710099/federico-piazza"}, "reply_to_user": {"reputation": 1, "user_id": 156458, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/3PCjR.png?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/156458/tim"}, "edited": false, "score": 0, "creation_date": 1426725414, "post_id": 29134380, "comment_id": 46495730, "body": "@Tim yes, it&#39;s the same. You can check the explanation here <a href=\"https://regex101.com/r/yB6dY2/2\" rel=\"nofollow noreferrer\">regex101.com/r/yB6dY2/2</a>"}, {"owner": {"reputation": 1, "user_id": 156458, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/3PCjR.png?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/156458/tim"}, "edited": false, "score": 0, "creation_date": 1426728280, "post_id": 29134380, "comment_id": 46496416, "body": "Thanks. Is there any way to achieve the same thing in <code>[]</code> as <code>.</code> outside <code>[]</code>"}, {"owner": {"reputation": 27179, "user_id": 710099, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/0413774874b9baeccef7a5ba0344fec7?s=128&d=identicon&r=PG", "display_name": "Federico Piazza", "link": "https://stackoverflow.com/users/710099/federico-piazza"}, "reply_to_user": {"reputation": 1, "user_id": 156458, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/3PCjR.png?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/156458/tim"}, "edited": false, "score": 0, "creation_date": 1426735875, "post_id": 29134380, "comment_id": 46498232, "body": "@Tim nope, because you want two different behaviours for the same literal. The way to do it is the one I showed you."}], "tags": [], "owner": {"reputation": 27179, "user_id": 710099, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/0413774874b9baeccef7a5ba0344fec7?s=128&d=identicon&r=PG", "display_name": "Federico Piazza", "link": "https://stackoverflow.com/users/710099/federico-piazza"}, "is_accepted": true, "score": 1, "last_activity_date": 1426720188, "creation_date": 1426720188, "answer_id": 29134380, "question_id": 29134165, "link": "https://stackoverflow.com/questions/29134165/how-to-represent-an-arbitrary-character-without-dot-including-new-line/29134380#29134380", "title": "How to represent an arbitrary character without dot including new line?", "body": "<p>I'm not fully sure if I understood your question, but will post this answer since might help you (i can delete it if not).</p>\n\n<p>I think you want to do something like this:</p>\n\n<pre><code>([\\s\\S]*?)\\.{1,8}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 156458, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/3PCjR.png?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/156458/tim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 117, "favorite_count": 0, "accepted_answer_id": 29134380, "answer_count": 1, "score": 0, "last_activity_date": 1426723927, "creation_date": 1426718993, "last_edit_date": 1426723927, "question_id": 29134165, "link": "https://stackoverflow.com/questions/29134165/how-to-represent-an-arbitrary-character-without-dot-including-new-line", "title": "How to represent an arbitrary character without dot including new line?", "body": "<p>In a Python regex, I would like dot still not match <code>\\n</code>, and also want to match any character (including <code>\\n</code>) by some way. How can I match any character (including <code>\\n</code>)?</p>\n\n<p>E.g. I want to match the lines before the first line which is 1 to 8 characters long. So my regex is <code>^([\\.\\n]*)\\n^.{1,8}$</code> with re.M, but it doesn't work. Thanks.</p>\n\n<pre><code>&gt;&gt;&gt; p1='''Modellunabh                                                                                                      \n... MUSiCMUSiC                                                                                                     \n... PARALLEL'''\n&gt;&gt;&gt; p1\n'Modellunabh\\nMUSiCMUSiC\\nPARALLEL'\n&gt;&gt;&gt; p=re.compile(r'''^([\\.\\n]*)$\\n^(.{1,8})$''', re.M)\n&gt;&gt;&gt; m=re.search(p, p1)\n&gt;&gt;&gt; m\n&gt;&gt;&gt; \n</code></pre>\n"}, {"tags": ["python"], "answers": [{"tags": [], "owner": {"reputation": 1045, "user_id": 385833, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/91151954581b81dc91448e642eb44c19?s=128&d=identicon&r=PG", "display_name": "Kyle_S-C", "link": "https://stackoverflow.com/users/385833/kyle-s-c"}, "is_accepted": false, "score": 1, "last_activity_date": 1426724400, "creation_date": 1426724400, "answer_id": 29135093, "question_id": 29134161, "link": "https://stackoverflow.com/questions/29134161/harvard-cs109-homework0-switch-guesses/29135093#29135093", "title": "harvard cs109 homework0 switch_guesses", "body": "<p>I've added some comments throughout the source, which explain my understanding of the code. It does look a lot like the Monty Hall experiment, so I'm guessing the idea is that the function basically says:</p>\n\n<blockquote>\n  <p>Given that you guessed <code>guesses[i]</code> and there is a goat behind <code>goatdoors[i]</code>, you should switch and pick door <code>results[i]</code>.</p>\n</blockquote>\n\n<p>It also seems a slightly convoluted way to go about this problem, if I understood it correctly.</p>\n\n<pre><code>def switch_guess(guesses, goatdoors):\n    # Initialise result to an array of zeros, the same size as the guesses array\n    result = np.zeros(guesses.size)\n    # Create a dictionary to be used later in determining the values of result.\n    switch = {(0, 1): 2, (0, 2): 1, (1, 0): 2, (1, 2): 1, (2, 0): 1, (2, 1): 0}\n    for i in [0, 1, 2]:\n        for j in [0, 1, 2]:\n            # Create a mask, which is True when the corresponding elements of \n            # guesses and goatdoors are both equal to i and j, respectively.\n            mask = (guesses == i) &amp; (goatdoors == j)\n            # If no elements of mask are true, go to the next loop iteration (of \n            # the j loop).\n            if not mask.any():\n                continue\n            # For each element of result, if the corresponding element of mask\n            # is True, set the element of result to 1 * switch[(i, j)], otherwise\n            # leave it unchanged.\n            result = np.where(mask, np.ones_like(result) * switch[(i, j)], result)\n    return result\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 350, "user_id": 4951824, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206683702920122/picture?type=large", "display_name": "Oringa", "link": "https://stackoverflow.com/users/4951824/oringa"}, "is_accepted": false, "score": 2, "last_activity_date": 1493223002, "creation_date": 1493223002, "answer_id": 43639435, "question_id": 29134161, "link": "https://stackoverflow.com/questions/29134161/harvard-cs109-homework0-switch-guesses/43639435#43639435", "title": "harvard cs109 homework0 switch_guesses", "body": "<p>You might have some trouble understanding this example due to a mistake in the 4th entry of the switch dictionary. It should be as follows:</p>\n\n<pre><code>switch = {(0, 1): 2, (0, 2): 1, (1, 0): 2, (1, 2): 0, (2, 0): 1, (2, 1): 0}\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 4687527, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d70f5665e2f4a1b25fbd59cbd2445be?s=128&d=identicon&r=PG&f=1", "display_name": "Siqi Hong", "link": "https://stackoverflow.com/users/4687527/siqi-hong"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 145, "favorite_count": 0, "answer_count": 2, "score": -3, "last_activity_date": 1493223002, "creation_date": 1426718984, "last_edit_date": 1426719922, "question_id": 29134161, "link": "https://stackoverflow.com/questions/29134161/harvard-cs109-homework0-switch-guesses", "title": "harvard cs109 homework0 switch_guesses", "body": "<pre><code>def switch_guess(guesses, goatdoors):\n\n    result = np.zeros(guesses.size)\n    switch = {(0, 1): 2, (0, 2): 1, (1, 0): 2, (1, 2): 1, (2, 0): 1, (2, 1): 0}\n    for i in [0, 1, 2]:\n        for j in [0, 1, 2]:\n            mask = (guesses == i) &amp; (goatdoors == j)\n            if not mask.any():\n                continue\n            result = np.where(mask, np.ones_like(result) * switch[(i, j)], result)\n    return result\n</code></pre>\n\n<p>don't quite understand how this works, can anybody helps explain it?\nthanks!</p>\n\n<blockquote>\n  <p>hints:</p>\n  \n  <p>Returns   The new door after switching. Should be different from both\n  guesses and goatdoors</p>\n  \n  <p>Examples</p>\n\n<pre><code>&gt;&gt;&gt; print switch_guess(np.array([0, 1, 2]), np.array([1, 2, 1]))\n&gt;&gt;&gt; array([2, 0, 0])\n\"\"\"\n</code></pre>\n</blockquote>\n"}, {"tags": ["python", "linux", "scripting"], "comments": [{"owner": {"reputation": 88499, "user_id": 650405, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/5cdee2abea51e91756076032f0053081?s=128&d=identicon&r=PG", "display_name": "Karoly Horvath", "link": "https://stackoverflow.com/users/650405/karoly-horvath"}, "edited": false, "score": 0, "creation_date": 1426719009, "post_id": 29134097, "comment_id": 46493852, "body": "consider running a single <code>ssh</code> session..."}, {"owner": {"reputation": 4380, "user_id": 1656850, "user_type": "registered", "accept_rate": 35, "profile_image": "https://i.stack.imgur.com/RIotq.gif?s=128&g=1", "display_name": "boardrider", "link": "https://stackoverflow.com/users/1656850/boardrider"}, "reply_to_user": {"reputation": 88499, "user_id": 650405, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/5cdee2abea51e91756076032f0053081?s=128&d=identicon&r=PG", "display_name": "Karoly Horvath", "link": "https://stackoverflow.com/users/650405/karoly-horvath"}, "edited": false, "score": 1, "creation_date": 1426762036, "post_id": 29134097, "comment_id": 46508270, "body": "To elaborate on @Karoly: in *nix, if one does <code>&quot;ls ; cp a.txt b.txt&quot;</code> the <code>cp</code> will not be executed until the <code>ls</code> command is finished. And, if you do <code>&quot;ls &amp;&amp; cp a.txt b.txt&quot;</code> the <code>cp</code> will not be executed unless the <code>ls</code> has finished successfully. So, build a unified <i>Cmd</i> string that concatenates your <code>mysql</code> and <code>rm</code> commands with a <code>;</code> or <code>&amp;&amp;</code> in between."}], "answers": [{"comments": [{"owner": {"reputation": 1045, "user_id": 385833, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/91151954581b81dc91448e642eb44c19?s=128&d=identicon&r=PG", "display_name": "Kyle_S-C", "link": "https://stackoverflow.com/users/385833/kyle-s-c"}, "edited": false, "score": 1, "creation_date": 1426718990, "post_id": 29134138, "comment_id": 46493847, "body": "Another thing to bear in mind is to make sure you sanitise <code>HOST</code>, since you use <code>shell=True</code>. There&#39;s a warning in the docs <a href=\"https://docs.python.org/2/library/subprocess.html#frequently-used-arguments\" rel=\"nofollow noreferrer\">here</a>."}, {"owner": {"reputation": 4839, "user_id": 1631414, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/144f2644bab8407014ed32cc6512ec1c?s=128&d=identicon&r=PG", "display_name": "Classified", "link": "https://stackoverflow.com/users/1631414/classified"}, "edited": false, "score": 0, "creation_date": 1426719741, "post_id": 29134138, "comment_id": 46494082, "body": "thanks for the warning.  i&#39;ve read the warnings but if shell=False, the command didn&#39;t work and gave another error so I have to make shell=True to make everyone (me and python) happy  =)"}, {"owner": {"reputation": 1045, "user_id": 385833, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/91151954581b81dc91448e642eb44c19?s=128&d=identicon&r=PG", "display_name": "Kyle_S-C", "link": "https://stackoverflow.com/users/385833/kyle-s-c"}, "reply_to_user": {"reputation": 4839, "user_id": 1631414, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/144f2644bab8407014ed32cc6512ec1c?s=128&d=identicon&r=PG", "display_name": "Classified", "link": "https://stackoverflow.com/users/1631414/classified"}, "edited": false, "score": 1, "creation_date": 1426719882, "post_id": 29134138, "comment_id": 46494121, "body": "Sure. The key thing is just to make sure you don&#39;t let unscrupulous internet people give you values of HOST. :P"}, {"owner": {"reputation": 12620, "user_id": 4687135, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/386484f527a8df3c1fdd3e2dde112533?s=128&d=identicon&r=PG", "display_name": "Eric Renouf", "link": "https://stackoverflow.com/users/4687135/eric-renouf"}, "reply_to_user": {"reputation": 4839, "user_id": 1631414, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/144f2644bab8407014ed32cc6512ec1c?s=128&d=identicon&r=PG", "display_name": "Classified", "link": "https://stackoverflow.com/users/1631414/classified"}, "edited": false, "score": 1, "creation_date": 1426733567, "post_id": 29134138, "comment_id": 46497728, "body": "@Classified You can probably make that work if you group things as shell parameters into a list and use that.  I&#39;m guessing yours would be something like: sqlCmd = [ &quot;ssh&quot;, HOST, &quot;mysql&quot;, &quot;-h&quot;, &quot;-p&quot;, &quot;pwd&quot;, &quot;-q&quot;, &quot;select blah from table where foo = &#39;bar&#39; INTO OUTFILE &#39;/tmp/blah_bydate.csv&#39;&quot; ]"}], "tags": [], "owner": {"reputation": 1045, "user_id": 385833, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/91151954581b81dc91448e642eb44c19?s=128&d=identicon&r=PG", "display_name": "Kyle_S-C", "link": "https://stackoverflow.com/users/385833/kyle-s-c"}, "is_accepted": true, "score": 2, "last_activity_date": 1426718841, "creation_date": 1426718841, "answer_id": 29134138, "question_id": 29134097, "link": "https://stackoverflow.com/questions/29134097/how-to-run-multiple-linux-commands-in-python-script-where-order-matters/29134138#29134138", "title": "How to run multiple linux commands in python script where order matters", "body": "<p>Just use <a href=\"https://docs.python.org/2/library/subprocess.html#subprocess.call\" rel=\"nofollow\"><code>subprocess.call</code></a> rather than <code>subprocess.Popen</code> and it should block until the process has finished.</p>\n"}, {"tags": [], "owner": {"reputation": 473, "user_id": 2952351, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d547bde12d17d8d9ad19373d9c858ee8?s=128&d=identicon&r=PG&f=1", "display_name": "vermillon", "link": "https://stackoverflow.com/users/2952351/vermillon"}, "is_accepted": false, "score": 2, "last_activity_date": 1426719395, "creation_date": 1426719395, "answer_id": 29134242, "question_id": 29134097, "link": "https://stackoverflow.com/questions/29134097/how-to-run-multiple-linux-commands-in-python-script-where-order-matters/29134242#29134242", "title": "How to run multiple linux commands in python script where order matters", "body": "<p>You can use proc.wait(), which can even take a timeout value, should you need one.</p>\n"}], "owner": {"reputation": 4839, "user_id": 1631414, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/144f2644bab8407014ed32cc6512ec1c?s=128&d=identicon&r=PG", "display_name": "Classified", "link": "https://stackoverflow.com/users/1631414/classified"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2556, "favorite_count": 0, "accepted_answer_id": 29134138, "answer_count": 2, "score": 0, "last_activity_date": 1426719395, "creation_date": 1426718646, "question_id": 29134097, "link": "https://stackoverflow.com/questions/29134097/how-to-run-multiple-linux-commands-in-python-script-where-order-matters", "title": "How to run multiple linux commands in python script where order matters", "body": "<p>I'm trying to execute several linux commands sequentially in my python script using subprocess.Popen().  However, it seems like the way I'm writing the script, python is doing some sort of execute and forget and not waiting for step 1 to finish before starting step 2.</p>\n\n<p>Case in point, I'm trying to:</p>\n\n<ol>\n<li>Execute a SQL command, which writes the results to a file in /tmp on\nthe remote server.</li>\n<li>After I'm finished using the file, I want to delete the remote file, so we don't run out of space.</li>\n</ol>\n\n<p>What's happening is python seems to run the cmd for step 1 and without waiting for step 1 to complete, it runs step 2.  So the file is still hanging around since the delete is run before the file is created.</p>\n\n<p>Here's my code snippet.  Hopefully someone can tell me how to make it so step 2 only runs after step 1 has completed.  I tried to anonymize/simplify the snippet so pls excuse any mistakes made while anonymizing the code.</p>\n\n<pre><code>   sqlCmd = \"ssh \" + HOST + \"mysql -h host -ppwd -q select blah from table where foo = 'bar' INTO OUTFILE '/tmp/blah_bydate.csv\"\n   rmCmd = \"ssh \" + HOST + \" rm -f /tmp/blah_bydate.csv\"\n   proc = subprocess.Popen(sqlCmd, shell=True, stdout=subprocess.PIPE)\n   proc = subprocess.Popen(rmCmd, shell=True, stdout=subprocess.PIPE)\n</code></pre>\n\n<p>I found something on SO where the suggested solution was to do something like</p>\n\n<pre><code>subprocess.Popen([cmd1; cmd2; cmd3], shell=True, stdout=subprocess.PIPE)\n</code></pre>\n\n<p>which I don't want to do since my commands are parametrized and can be long/complex.</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 25744, "user_id": 2089675, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/sBz5q.jpg?s=128&g=1", "display_name": "smac89", "link": "https://stackoverflow.com/users/2089675/smac89"}, "edited": false, "score": 1, "creation_date": 1426718659, "post_id": 29134081, "comment_id": 46493730, "body": "Use an infinite loop? <code>while(True)...</code>"}, {"owner": {"reputation": 194, "user_id": 2548192, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/GLQ4T.jpg?s=128&g=1", "display_name": "ajdigregorio", "link": "https://stackoverflow.com/users/2548192/ajdigregorio"}, "edited": false, "score": 0, "creation_date": 1426736438, "post_id": 29134081, "comment_id": 46498349, "body": "can you post your code?"}], "answers": [{"tags": [], "owner": {"reputation": 17500, "user_id": 3113477, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/TWIEk.jpg?s=128&g=1", "display_name": "A.J. Uppal", "link": "https://stackoverflow.com/users/3113477/a-j-uppal"}, "is_accepted": true, "score": 2, "last_activity_date": 1426718788, "creation_date": 1426718788, "answer_id": 29134120, "question_id": 29134081, "link": "https://stackoverflow.com/questions/29134081/is-there-some-way-i-could-perform-multiple-operations-without-reopening-it-again/29134120#29134120", "title": "Is there some way i could perform multiple operations without reopening it again and again?", "body": "<p>You could use a <code>while</code> loop and <code>raw_input()</code>:</p>\n\n<pre><code>while True:\n    operator = raw_input('Do you want to add, subtract, multiply, or divide? ')\n    first = raw_input('Enter your first term: ')\n    second = raw_input('Enter your second term: ')\n    if operator.lower.startswith('a'):\n        print first+second\n    elif operator.lower.startswith('m'):\n        print first*second\n    elif operator.lower.startswith('s'):\n        print first-second\n    elif operator.lower.startswith('d'):\n        print float(first)/second\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 54765, "user_id": 309412, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e9739ec5574d9977b522d1c80fb8de84?s=128&d=identicon&r=PG", "display_name": "Lie Ryan", "link": "https://stackoverflow.com/users/309412/lie-ryan"}, "edited": false, "score": 0, "creation_date": 1426736554, "post_id": 29136514, "comment_id": 46498382, "body": "This is bad, python doesn&#39;t have tail call unrolling, so this will crash at the 1000th operation, when the max program stack limit is reached."}, {"owner": {"reputation": 402, "user_id": 4212472, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/y3xEL.png?s=128&g=1", "display_name": "x otikoruk x", "link": "https://stackoverflow.com/users/4212472/x-otikoruk-x"}, "reply_to_user": {"reputation": 54765, "user_id": 309412, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e9739ec5574d9977b522d1c80fb8de84?s=128&d=identicon&r=PG", "display_name": "Lie Ryan", "link": "https://stackoverflow.com/users/309412/lie-ryan"}, "edited": false, "score": 0, "creation_date": 1426739751, "post_id": 29136514, "comment_id": 46499106, "body": "@LieRyan Ever seen a 1000 question math test? Me niether! On a side note, i had never heard of that; then again, id never tested it either :d"}], "tags": [], "owner": {"reputation": 402, "user_id": 4212472, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/y3xEL.png?s=128&g=1", "display_name": "x otikoruk x", "link": "https://stackoverflow.com/users/4212472/x-otikoruk-x"}, "is_accepted": false, "score": 0, "last_activity_date": 1426734121, "creation_date": 1426734121, "answer_id": 29136514, "question_id": 29134081, "link": "https://stackoverflow.com/questions/29134081/is-there-some-way-i-could-perform-multiple-operations-without-reopening-it-again/29136514#29136514", "title": "Is there some way i could perform multiple operations without reopening it again and again?", "body": "<p>You could try this defined method:</p>\n\n<pre><code>def main():\n    num1 = raw_input(\"First Number?: \")\n    num2 = raw_input(\"Second Number?: \")\n    opsym = raw_input(\"Would you like to add, subtract, divide, or multiply?: \")\n    if opsym == \"add\":\n        #add\n        #printres\n        time.sleep(2.5)\n        main()\n    elif opsym == \"subtract\":\n        #subtract\n        #printres\n        time.sleep(2.5)\n        main()\n    elif opsym == \"multiply\":\n        #multiply\n        #printres\n        time.sleep(2.5)\n        main()\n    elif opsym == \"divide\":\n        #divide\n        #printres\n        time.sleep(2.5)\n        main()\nmain()\n</code></pre>\n\n<p>This is personally easiest for me to keep track of and use. <code>time.sleep()</code> is optional, however, it gives the reader time to note the result before moving on. </p>\n"}], "owner": {"reputation": 3, "user_id": 4687498, "user_type": "registered", "profile_image": "https://graph.facebook.com/933120683388411/picture?type=large", "display_name": "John Shepard", "link": "https://stackoverflow.com/users/4687498/john-shepard"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "accepted_answer_id": 29134120, "answer_count": 2, "score": -1, "last_activity_date": 1426736339, "creation_date": 1426718570, "last_edit_date": 1426736339, "question_id": 29134081, "link": "https://stackoverflow.com/questions/29134081/is-there-some-way-i-could-perform-multiple-operations-without-reopening-it-again", "title": "Is there some way i could perform multiple operations without reopening it again and again?", "body": "<p>I have made a \"simple\" calculator. It works perfectly though no errors but when I execute the .py file and use it in the command prompt it just performs one operation (i.e. addition, subtraction, multiplication or division) and then exits.</p>\n\n<p>Is there some way I could perform more operations without reopening it again and again? </p>\n"}, {"tags": ["python", "python-2.7", "kivy"], "comments": [{"owner": {"reputation": 459, "user_id": 1017534, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e61b7c60048499c4be596844c6acd4c0?s=128&d=identicon&r=PG", "display_name": "vishen", "link": "https://stackoverflow.com/users/1017534/vishen"}, "edited": false, "score": 0, "creation_date": 1426723363, "post_id": 29133999, "comment_id": 46495199, "body": "If you do just <code>print self.ids</code> what does it print?"}, {"owner": {"reputation": 25731, "user_id": 2469283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3271ba34d6b680ed1103b4d4aeda9d6d?s=128&d=identicon&r=PG", "display_name": "inclement", "link": "https://stackoverflow.com/users/2469283/inclement"}, "edited": false, "score": 0, "creation_date": 1426726796, "post_id": 29133999, "comment_id": 46496086, "body": "It looks like you asked basically the same question twice, I answered it <a href=\"https://stackoverflow.com/questions/29130700/asigning-ids-in-kivy-on-the-python-side\">here</a>."}], "owner": {"reputation": 373, "user_id": 3562522, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/9892c40e8aaabd876c58292f1752b969?s=128&d=identicon&r=PG&f=1", "display_name": "Harvs", "link": "https://stackoverflow.com/users/3562522/harvs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 28, "favorite_count": 0, "closed_date": 1426733981, "answer_count": 0, "score": 1, "last_activity_date": 1426718154, "creation_date": 1426718154, "question_id": 29133999, "link": "https://stackoverflow.com/questions/29133999/how-to-call-a-kivy-widget-that-was-made-iteratively", "closed_reason": "Duplicate", "title": "How to call a kivy widget that was made iteratively", "body": "<p>Hi I have code that is similar to this</p>\n\n<p>test.kv</p>\n\n<pre><code>&lt;SomeWidget&gt;:\n    Button:\n        text:'Begin'\n        pos:(0,0)\n        on_press:root.run_me()\n    GridLayout:\n        iD: grid_layout\n        cols:3\n</code></pre>\n\n<p>main.py</p>\n\n<pre><code>class SomeWidget(FloatLayout):\n        def run_me(self):\n            r=1 \n            grid_layout=self.ids.grid_layout\n            for i in array_of_strings:      \n                   grid_layout.add_widget(Label(text=i,id='idea_label_'+str(r)))\n                   grid_layout.add_widget(Slider(on_value=slider_slid(self),id='Slider_'+str(r)))\n                   grid_layout.add_widget(Label(id='value_label_'+str(r)))\n                   r+=1\n            value_label=self.ids['value_label_'+str(r)] # this line does not seem to work\n            value_label.text='this is the last label: number '+str(r)\n</code></pre>\n\n<p>Here i am generating a label with text 'i', a slider with a tied event, and another label that i want to do something with later on. Since I want to refer to these widgets elsewhere in the code i have attempted to give them each a unique id eg 'idea_label_'+str(r): r+=1 but when i try to refer back to with some_var=self.ids['idea_label_'+str(r)] it doesnt work</p>\n\n<p>I have a feeling that it is either because i am assigning the ids incorrectly , or that ids cannot be assigned from the python side, only the .kv side</p>\n\n<p>is there a better way, or another way, of making widgets in a for loop, in a way that allows for refrencing elsewhere in the code</p>\n"}, {"tags": ["python", "nginx", "flask", "virtualenv", "uwsgi"], "comments": [{"owner": {"reputation": 3003, "user_id": 2917993, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/959de3076c527a72be57f2edfadb56a0?s=128&d=identicon&r=PG&f=1", "display_name": "Chockomonkey", "link": "https://stackoverflow.com/users/2917993/chockomonkey"}, "reply_to_user": {"reputation": 13257, "user_id": 248922, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/b55c30cff18b13e2176c1359654ebf1c?s=128&d=identicon&r=PG&f=1", "display_name": "RickyA", "link": "https://stackoverflow.com/users/248922/rickya"}, "edited": false, "score": 0, "creation_date": 1426719022, "post_id": 29133963, "comment_id": 46493859, "body": "I simply started to confuse myself because I&#39;ve seen uWSGI installed outside and inside the VE, so I wanted to be thorough with this question. So I guess there&#39;s half my answer. nginx doesn&#39;t go inside the VE. Thanks."}, {"owner": {"reputation": 13257, "user_id": 248922, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/b55c30cff18b13e2176c1359654ebf1c?s=128&d=identicon&r=PG&f=1", "display_name": "RickyA", "link": "https://stackoverflow.com/users/248922/rickya"}, "edited": false, "score": 1, "creation_date": 1426719074, "post_id": 29133963, "comment_id": 46493881, "body": "I normally don&#39;t see any reason to use virtualenv on a prod server. It only adds a lot of complexity. The only reason would be if you want to host a lot (to much) different projects with separate dependencies on that server."}, {"owner": {"reputation": 3003, "user_id": 2917993, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/959de3076c527a72be57f2edfadb56a0?s=128&d=identicon&r=PG&f=1", "display_name": "Chockomonkey", "link": "https://stackoverflow.com/users/2917993/chockomonkey"}, "reply_to_user": {"reputation": 13257, "user_id": 248922, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/b55c30cff18b13e2176c1359654ebf1c?s=128&d=identicon&r=PG&f=1", "display_name": "RickyA", "link": "https://stackoverflow.com/users/248922/rickya"}, "edited": false, "score": 0, "creation_date": 1426719125, "post_id": 29133963, "comment_id": 46493895, "body": "That is a good point, RickyA. This server will only be serving a single application so the added complexity of a VE is not necessary. That being said, I&#39;d hate for this question to be pointless... so do you know if uwsgi should go inside our outside a VE?"}, {"owner": {"reputation": 13257, "user_id": 248922, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/b55c30cff18b13e2176c1359654ebf1c?s=128&d=identicon&r=PG&f=1", "display_name": "RickyA", "link": "https://stackoverflow.com/users/248922/rickya"}, "edited": false, "score": 0, "creation_date": 1426719187, "post_id": 29133963, "comment_id": 46493913, "body": "then dont use virtualenv, and save a lot of headache."}, {"owner": {"reputation": 13257, "user_id": 248922, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/b55c30cff18b13e2176c1359654ebf1c?s=128&d=identicon&r=PG&f=1", "display_name": "RickyA", "link": "https://stackoverflow.com/users/248922/rickya"}, "edited": false, "score": 0, "creation_date": 1426719306, "post_id": 29133963, "comment_id": 46493954, "body": "If you plan/foresee the use of multiple versions of uwsgi (very,very unlikely) put it in venv. Otherwise put it in global."}, {"owner": {"reputation": 13257, "user_id": 248922, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/b55c30cff18b13e2176c1359654ebf1c?s=128&d=identicon&r=PG&f=1", "display_name": "RickyA", "link": "https://stackoverflow.com/users/248922/rickya"}, "edited": false, "score": 0, "creation_date": 1426719391, "post_id": 29133963, "comment_id": 46493981, "body": "just keep your prod servers simple. If you plan to do multiple deployment it is better to use something like docker for each separate project/microservice."}, {"owner": {"reputation": 3003, "user_id": 2917993, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/959de3076c527a72be57f2edfadb56a0?s=128&d=identicon&r=PG&f=1", "display_name": "Chockomonkey", "link": "https://stackoverflow.com/users/2917993/chockomonkey"}, "reply_to_user": {"reputation": 13257, "user_id": 248922, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/b55c30cff18b13e2176c1359654ebf1c?s=128&d=identicon&r=PG&f=1", "display_name": "RickyA", "link": "https://stackoverflow.com/users/248922/rickya"}, "edited": false, "score": 0, "creation_date": 1426722701, "post_id": 29133963, "comment_id": 46495029, "body": "Thanks for all the help, Ricky. You made this make way more sense. Will you submit an answer so I can accept it (and you get credit)?"}, {"owner": {"reputation": 511, "user_id": 2090808, "user_type": "registered", "accept_rate": 8, "profile_image": "https://i.stack.imgur.com/J2Jfq.jpg?s=128&g=1", "display_name": "Deepak Verma", "link": "https://stackoverflow.com/users/2090808/deepak-verma"}, "edited": false, "score": 0, "creation_date": 1426734482, "post_id": 29133963, "comment_id": 46497932, "body": "We specify virtual env in uwsgi config not uwsgi in virtual env."}], "answers": [{"tags": [], "owner": {"reputation": 13257, "user_id": 248922, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/b55c30cff18b13e2176c1359654ebf1c?s=128&d=identicon&r=PG&f=1", "display_name": "RickyA", "link": "https://stackoverflow.com/users/248922/rickya"}, "is_accepted": true, "score": 3, "last_activity_date": 1426723809, "creation_date": 1426723809, "answer_id": 29134999, "question_id": 29133963, "link": "https://stackoverflow.com/questions/29133963/nginx-uwsgi-virtual-environment-what-goes-inside/29134999#29134999", "title": "nginx + uwsgi + virtual environment. What goes inside?", "body": "<p>First of all, Nginx never goes in Virtualenv. It is a os service and has nothing to do with python. It only serves webrequests and knows how to pass them to a upstream service (like uwsgi).</p>\n\n<p>Second; don't put things in virtualenv that don't need seperate versions. Uwsgi is quite stable now, so you will almost never need separate versions; so don't put it in venv.</p>\n\n<p>Third; when you plan for production deployment, keep things as simple as possible. Any added complexity will only make the chance of failure higher. So do not put venv on your prod servers until your absolutely need it. And even then you are probably putting to much stuff on that server. Keep your servers single minded. I find it easier to use multiple machines (especially with cloud services like AWS) that each have one purpose than to cram everything on one big machine (where one screwball process can eat all the mem for everybody else)</p>\n\n<p>Forth; When you do need more python projects/services it is better to separate them with things like docker, since then they are better maintainable and better isolated from the rest.</p>\n"}], "owner": {"reputation": 3003, "user_id": 2917993, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/959de3076c527a72be57f2edfadb56a0?s=128&d=identicon&r=PG&f=1", "display_name": "Chockomonkey", "link": "https://stackoverflow.com/users/2917993/chockomonkey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 388, "favorite_count": 1, "accepted_answer_id": 29134999, "answer_count": 1, "score": 2, "last_activity_date": 1426723809, "creation_date": 1426717988, "question_id": 29133963, "link": "https://stackoverflow.com/questions/29133963/nginx-uwsgi-virtual-environment-what-goes-inside", "title": "nginx + uwsgi + virtual environment. What goes inside?", "body": "<p>Seems like a simple question but I cannot find it addressed anywhere. Every tutorial I look at does things slightly differently, and I'm pretty sure I've seen it done both ways. </p>\n\n<p>In my development environment, python, flask, and all other dependencies of my application go inside the Virtual Environment. </p>\n\n<p>When configuring a production environment, do Nginx and uWSGI go inside the virtual environment?</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["python", "soundcloud"], "answers": [{"tags": [], "owner": {"reputation": 2346, "user_id": 4400277, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/3e793a96600dee929c909b81fcc05cd7?s=128&d=identicon&r=PG&f=1", "display_name": "Boa", "link": "https://stackoverflow.com/users/4400277/boa"}, "is_accepted": true, "score": 1, "last_activity_date": 1426900233, "creation_date": 1426900233, "answer_id": 29178130, "question_id": 29133933, "link": "https://stackoverflow.com/questions/29133933/getting-tracks-with-specific-tags-with-python-soundcloud-module/29178130#29178130", "title": "Getting tracks with specific tags with python soundcloud module", "body": "<p>Figured out that you have to use the \"tags\" parameter, and pass a string of comma-separated terms to it:</p>\n\n<pre><code>client.get('/tracks', tags = \"rock, jazz\")\n</code></pre>\n\n<p>Would be great if the API had more complete documentation for the client.get() function.</p>\n"}], "owner": {"reputation": 2346, "user_id": 4400277, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/3e793a96600dee929c909b81fcc05cd7?s=128&d=identicon&r=PG&f=1", "display_name": "Boa", "link": "https://stackoverflow.com/users/4400277/boa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 202, "favorite_count": 0, "accepted_answer_id": 29178130, "answer_count": 1, "score": 0, "last_activity_date": 1426900233, "creation_date": 1426717854, "question_id": 29133933, "link": "https://stackoverflow.com/questions/29133933/getting-tracks-with-specific-tags-with-python-soundcloud-module", "title": "Getting tracks with specific tags with python soundcloud module", "body": "<p>I'm using this function to get track information from soundcloud:</p>\n\n<pre><code>import soundcloud\nclient = soundcloud.Client(client_id= client_id)\n\ndef soundcloud_get_tracks(tag_list = None, limit = 10, license):\n    return client.get('/tracks', license = license, limit = limit, tag_list = tag_list)\n</code></pre>\n\n<p>I inferred the 'tag_list' parameter from the fact that each soundcloud.resource.Resource object has a 'tag_list' parameter. However, passing this parameter to client.get() doesn't seem to influence the results.</p>\n\n<p>What's the correct way to search for tracks that have a certain tag?</p>\n"}, {"tags": ["python", "jython"], "comments": [{"owner": {"reputation": 1867, "user_id": 3046539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1dcd78f63e02552d725edf368b4a6b45?s=128&d=identicon&r=PG&f=1", "display_name": "kennes", "link": "https://stackoverflow.com/users/3046539/kennes"}, "edited": false, "score": 0, "creation_date": 1426717963, "post_id": 29133821, "comment_id": 46493473, "body": "How are you calling foo? Also, your syntax looks off,  <code>class SomeClass</code> should be <code>class SomeClass:</code>."}, {"owner": {"reputation": 45, "user_id": 1332293, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/9662889d4111d3fed98135342d0f9c82?s=128&d=identicon&r=PG", "display_name": "Mohd Asim", "link": "https://stackoverflow.com/users/1332293/mohd-asim"}, "reply_to_user": {"reputation": 1867, "user_id": 3046539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1dcd78f63e02552d725edf368b4a6b45?s=128&d=identicon&r=PG&f=1", "display_name": "kennes", "link": "https://stackoverflow.com/users/3046539/kennes"}, "edited": false, "score": 0, "creation_date": 1426718318, "post_id": 29133821, "comment_id": 46493597, "body": "Thanks @kennes913. edit made. SomeClass is a dummy representation. I actually have a callable that is used by a threadpoolexecutor. To keep things simple, i have represented them as above."}, {"owner": {"reputation": 45, "user_id": 1332293, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/9662889d4111d3fed98135342d0f9c82?s=128&d=identicon&r=PG", "display_name": "Mohd Asim", "link": "https://stackoverflow.com/users/1332293/mohd-asim"}, "reply_to_user": {"reputation": 1867, "user_id": 3046539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1dcd78f63e02552d725edf368b4a6b45?s=128&d=identicon&r=PG&f=1", "display_name": "kennes", "link": "https://stackoverflow.com/users/3046539/kennes"}, "edited": false, "score": 0, "creation_date": 1426718468, "post_id": 29133821, "comment_id": 46493660, "body": "To answer the question, foo() is called by instantiating SomeClass down the script and calling the method on top of it."}, {"owner": {"reputation": 1867, "user_id": 3046539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1dcd78f63e02552d725edf368b4a6b45?s=128&d=identicon&r=PG&f=1", "display_name": "kennes", "link": "https://stackoverflow.com/users/3046539/kennes"}, "edited": false, "score": 0, "creation_date": 1426718562, "post_id": 29133821, "comment_id": 46493696, "body": "Like so? <code>class_instance = SomeClass()</code> , <code>class_instance.foo()</code>"}, {"owner": {"reputation": 13257, "user_id": 248922, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/b55c30cff18b13e2176c1359654ebf1c?s=128&d=identicon&r=PG&f=1", "display_name": "RickyA", "link": "https://stackoverflow.com/users/248922/rickya"}, "edited": false, "score": 0, "creation_date": 1426718765, "post_id": 29133821, "comment_id": 46493769, "body": "Do you have another <code>hello</code> (or whatever it is actually called) function somewhere? Maybe you are importing another one. Are you imports like <code>from foo import *</code>?"}, {"owner": {"reputation": 45, "user_id": 1332293, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/9662889d4111d3fed98135342d0f9c82?s=128&d=identicon&r=PG", "display_name": "Mohd Asim", "link": "https://stackoverflow.com/users/1332293/mohd-asim"}, "edited": false, "score": 0, "creation_date": 1426718964, "post_id": 29133821, "comment_id": 46493836, "body": "Updated the code to resemble actual scenario"}, {"owner": {"reputation": 45, "user_id": 1332293, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/9662889d4111d3fed98135342d0f9c82?s=128&d=identicon&r=PG", "display_name": "Mohd Asim", "link": "https://stackoverflow.com/users/1332293/mohd-asim"}, "edited": false, "score": 0, "creation_date": 1426718997, "post_id": 29133821, "comment_id": 46493849, "body": "There is only 1 hello"}, {"owner": {"reputation": 13257, "user_id": 248922, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/b55c30cff18b13e2176c1359654ebf1c?s=128&d=identicon&r=PG&f=1", "display_name": "RickyA", "link": "https://stackoverflow.com/users/248922/rickya"}, "edited": false, "score": 0, "creation_date": 1426721169, "post_id": 29133821, "comment_id": 46494544, "body": "are you sure <code>SomeClass().call()</code> is being invoked. Can you put a print statement directly in it?"}, {"owner": {"reputation": 13257, "user_id": 248922, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/b55c30cff18b13e2176c1359654ebf1c?s=128&d=identicon&r=PG&f=1", "display_name": "RickyA", "link": "https://stackoverflow.com/users/248922/rickya"}, "edited": false, "score": 0, "creation_date": 1426721368, "post_id": 29133821, "comment_id": 46494618, "body": "And you pass your class instance to some concurrent pool. Big chance function <code>hello</code> goes out of scope, and <code>call</code> cant find it. And you don&#39;t see an error because the new threat has no access to stderr."}], "answers": [{"tags": [], "owner": {"reputation": 45, "user_id": 1332293, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/9662889d4111d3fed98135342d0f9c82?s=128&d=identicon&r=PG", "display_name": "Mohd Asim", "link": "https://stackoverflow.com/users/1332293/mohd-asim"}, "is_accepted": true, "score": 0, "last_activity_date": 1426723023, "creation_date": 1426723023, "answer_id": 29134871, "question_id": 29133821, "link": "https://stackoverflow.com/questions/29133821/accessing-script-level-functions-inside-member-functions/29134871#29134871", "title": "accessing script level functions inside member functions", "body": "<p>The problem was in the parameters being passed in the actual code. Spelling mistake ! So much for an editor that wouldn't show it to me.</p>\n\n<p>Apologies for the time wasted.</p>\n"}], "owner": {"reputation": 45, "user_id": 1332293, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/9662889d4111d3fed98135342d0f9c82?s=128&d=identicon&r=PG", "display_name": "Mohd Asim", "link": "https://stackoverflow.com/users/1332293/mohd-asim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 36, "favorite_count": 0, "accepted_answer_id": 29134871, "answer_count": 1, "score": 0, "last_activity_date": 1426723023, "creation_date": 1426717301, "last_edit_date": 1426718934, "question_id": 29133821, "link": "https://stackoverflow.com/questions/29133821/accessing-script-level-functions-inside-member-functions", "title": "accessing script level functions inside member functions", "body": "<p>I have a jython script where in a class is defined with some member functions. In the script there are other functions defined too:</p>\n\n<pre><code>    import xxxx\n    class SomeClass  (Callable):\n        def call(self):\n            hello()\n\n    def hello():\n        print 'hello'        \n\n    ldr_files = []\n    ldr_files.append(SomeClass())\n    thread_pool = Executors.newFixedThreadPool(8)\n    results = thread_pool.invokeAll(ldr_files)\n</code></pre>\n\n<p>However, this doesn't seem to agree with jython and it does not call the 'hello()' function.</p>\n\n<p>There a bunch of other member function - member function calls etc that are called before calling hello() which work fine. It is only when the control moves to that call, it doesn't seem to call the function (no hello printed).</p>\n"}, {"tags": ["python", "xml", "xml-parsing"], "comments": [{"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1426717442, "post_id": 29133782, "comment_id": 46493295, "body": "How is it you knew how to do the right thing with <code>players</code> but not <code>firstname</code> and <code>lastname</code>?"}, {"owner": {"reputation": 701, "user_id": 2007843, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/eb1e32c61d2047d1b4e8c3cdac6d9cb4?s=128&d=identicon&r=PG", "display_name": "user2007843", "link": "https://stackoverflow.com/users/2007843/user2007843"}, "reply_to_user": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1426717478, "post_id": 29133782, "comment_id": 46493306, "body": "Im very new to this haha"}], "answers": [{"comments": [{"owner": {"reputation": 701, "user_id": 2007843, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/eb1e32c61d2047d1b4e8c3cdac6d9cb4?s=128&d=identicon&r=PG", "display_name": "user2007843", "link": "https://stackoverflow.com/users/2007843/user2007843"}, "edited": false, "score": 0, "creation_date": 1426717618, "post_id": 29133833, "comment_id": 46493348, "body": "Okay I did this but it only printed the first player. It took a while so it must have been gathering all the players not sure why it didn&#39;t print them"}, {"owner": {"reputation": 701, "user_id": 2007843, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/eb1e32c61d2047d1b4e8c3cdac6d9cb4?s=128&d=identicon&r=PG", "display_name": "user2007843", "link": "https://stackoverflow.com/users/2007843/user2007843"}, "edited": false, "score": 0, "creation_date": 1426720718, "post_id": 29133833, "comment_id": 46494381, "body": "Thanks. How would I add in the headline though since its parent is icons?"}], "tags": [], "owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "is_accepted": true, "score": 1, "last_activity_date": 1426717899, "last_edit_date": 1426717899, "creation_date": 1426717344, "answer_id": 29133833, "question_id": 29133782, "link": "https://stackoverflow.com/questions/29133782/python-xml-sports-players/29133833#29133833", "title": "Python XML sports players", "body": "<p>Prepend a double slash to search anywhere inside the context, current element. And you need to iterate over <code>player</code> elements instead of <code>players</code>:</p>\n\n<pre><code>for player in root.findall('.//players/player'):\n    firstname = player.findtext('.//firstname')\n    lastname = player.findtext('.//lastname')\n</code></pre>\n"}], "owner": {"reputation": 701, "user_id": 2007843, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/eb1e32c61d2047d1b4e8c3cdac6d9cb4?s=128&d=identicon&r=PG", "display_name": "user2007843", "link": "https://stackoverflow.com/users/2007843/user2007843"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 25, "favorite_count": 0, "accepted_answer_id": 29133833, "answer_count": 1, "score": 0, "last_activity_date": 1426718194, "creation_date": 1426717150, "last_edit_date": 1426718194, "question_id": 29133782, "link": "https://stackoverflow.com/questions/29133782/python-xml-sports-players", "title": "Python XML sports players", "body": "<p>I am trying to print the first name, last name, proteam, and the headline for each player in this XML <a href=\"http://api.cbssports.com/fantasy/players/list?version=3.0&amp;SPORT=basketball\" rel=\"nofollow\">http://api.cbssports.com/fantasy/players/list?version=3.0&amp;SPORT=basketball</a></p>\n\n<p>This is my code so far but it isn't working</p>\n\n<pre><code>from urllib2 import Request, urlopen, URLError\nimport xml.etree.ElementTree as ET\n\nrequest = Request('http://api.cbssports.com/fantasy/players/list?version=3.0&amp;SPORT=basketball')\n\ntry:\n   response = urlopen(request)\n   tree = ET.parse(response)\n   root = tree.getroot()\n   for player in root.findall('.//players'):\n      firstname = player.find('firstname').text\n      lastname = player.find('lastname').text\n      print firstname, lastname\nexcept URLError, e:\n    print 'error:', e\n</code></pre>\n\n<p>I believe the error is in the for loop statement because firstname is not a direct child of players, its parent is player id</p>\n"}, {"tags": ["python", "multithreading", "sockets", "python-3.x", "python-multithreading"], "answers": [{"comments": [{"owner": {"reputation": 112, "user_id": 4440588, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/cee09de2727ab7c98ebd3be8f26aadf3?s=128&d=identicon&r=PG&f=1", "display_name": "Ashmoreinc", "link": "https://stackoverflow.com/users/4440588/ashmoreinc"}, "edited": false, "score": 0, "creation_date": 1427658766, "post_id": 29135196, "comment_id": 46856879, "body": "This is an AMAZING explanation and i have marked it as correct, you have enlightened me on what i have done wrong, how i can fix it and ways to dive deeper into this. you deserve a great amount of notice for this as it is very in depth and precise. Thank you sir. Seriously"}, {"owner": {"reputation": 446, "user_id": 4425373, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ADNTN.jpg?s=128&g=1", "display_name": "mgallagher", "link": "https://stackoverflow.com/users/4425373/mgallagher"}, "reply_to_user": {"reputation": 112, "user_id": 4440588, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/cee09de2727ab7c98ebd3be8f26aadf3?s=128&d=identicon&r=PG&f=1", "display_name": "Ashmoreinc", "link": "https://stackoverflow.com/users/4440588/ashmoreinc"}, "edited": false, "score": 0, "creation_date": 1427684255, "post_id": 29135196, "comment_id": 46863561, "body": "@Ashmoreinc Glad I could be of help!"}], "tags": [], "owner": {"reputation": 446, "user_id": 4425373, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ADNTN.jpg?s=128&g=1", "display_name": "mgallagher", "link": "https://stackoverflow.com/users/4425373/mgallagher"}, "is_accepted": true, "score": 2, "last_activity_date": 1426978357, "last_edit_date": 1426978357, "creation_date": 1426725007, "answer_id": 29135196, "question_id": 29133770, "link": "https://stackoverflow.com/questions/29133770/socket-p2p-and-threading/29135196#29135196", "title": "Socket P2P and Threading", "body": "<p>So first let me point out the simple problem that might make your situation clear.  Lets analyze what's going on between these code snippets:</p>\n\n<pre><code>s = sck.socket(sck.AF_INET, sck.SOCK_STREAM) # s defined at the global level\n\ndef closecon ():\n    # python looks for s in the local namespace, doesn't find it\n    # and uses the global s above.\n    s.close()  # s.close() refers to the socket object's (defined above) .close() method\ndef con ():\n    s.connect((host, port))  # Again s not defined locally, so it uses the global s.\n</code></pre>\n\n<p>Using globals within your functions, or anything really is often considered bad practice, and ultimately makes your code hard to read, even for yourself.  The specific problem you are having comes down to this snippet:</p>\n\n<pre><code>def sen ():\n    s.start()\ns = snd()  # s is now a snd object, no longer a socket\n</code></pre>\n\n<p>By redefining what <code>s</code> refers to, your class <code>snd</code>, whenever you run() it is using that definition of <code>s</code> instead of the original socket.</p>\n\n<pre><code>class snd (threading.Thread):\n    def run (self):\n        while True:\n            msg = input(\"You: \")\n            if msg == endprompt:\n                closecon()\n                break\n            else:\n                s.send(bytes(msg, \"UTF-8\")) # snd objects (subclassed Thread) has no send() method\n                sen()\n                pass\n</code></pre>\n\n<p>If you are able to follow me until now, you realise that whenever the code in <code>run()</code> of your <code>snd</code> class runs, it gets to the line <code>s.send(bytes(msg, \"UTF-8\"))</code> and is using the current global definition of <code>s</code> because there is no <code>s</code> definition in the scope it is locally in.  To fix this, you can make the variable names for your socket object and your snd object different from eachother, and update your code where you are wanting to refer to the socket, and the snd object with their new names.   I DO NOT recommend this as a solution to your code however, even if it might work.  </p>\n\n<p><strong>What I Recommend</strong></p>\n\n<p>In your <code>Thread</code> subclasses, you should overwrite the <code>__init__()</code> method of <code>threading.Thread</code> to include accepting a socket object.  Your code for your snd class (and similiarly your rec class) would then look more like:</p>\n\n<pre><code>class snd (threading.Thread):\n    ## Added __init__ override\n    def __init__(self, sock):\n        threading.Thread.__init__(self)\n        self.sock = sock\n    def run (self):\n        while True:\n            msg = input(\"You: \")\n            if msg == endprompt:\n                closecon()\n                break\n            else:\n                self.sock.send(bytes(msg, \"UTF-8\")) # Now we use the socket specifically given to this object\n                sen()\n                pass # You don't need this\n</code></pre>\n\n<p>When you want to use your thread, you simply need to modify your code a bit:</p>\n\n<pre><code>my_sock = sck.socket(sck.AF_INET, sck.SOCK_STREAM)\nsender = snd(my_sock)\nsender.start()\n</code></pre>\n\n<p>Note your code will still not work at this point, because your con() and closecon() functions need to be rewritten as such:</p>\n\n<pre><code>def closecon(sock):\n    sock.close()\n\ndef con(sock, host, port):\n    sock.connect((host,port))\n</code></pre>\n\n<p>Ultimately there are several other problems in your code that have to be reworked, but I think I have left enough information for you to figure out how to do that, or to learn out how to figure it out.  If you dont want to read any of the more basic explanations below about python, I will at least leave you with a few points:</p>\n\n<ul>\n<li>Networking is really complicated.</li>\n<li>Sockets are really low level and make networking hard.</li>\n<li>Threading is an advanced tool that requires sound program flow understanding to pull off properly.</li>\n<li>Subclassing and inheritance is a moderately advanced concept.</li>\n</ul>\n\n<p>If you lack a solid foundational understanding of the language fundamentals, attempting to code using any of the above points will be a battle of copy-paste and confusion that arises from small holes in understanding.  I ultimately recommend you get a python book or perhaps <em>closely</em> read online tutorials before attempting something like networking with sockets and threading.  If you are just attempting to get something to work, and are more focused on other code, I would recommend looking into other more high-level networking libraries for python.  Other than that, good luck in your project.</p>\n\n<p>If you want to make your code make more sense to you and others, learning about the difference between local and global variables, and the concept of variable scopes in python will help you understand why several pieces of your code are going to fail.  It will help you organize your code much nicer as it gets larger.  If you just want a quick run down however, continue reading. I am no expert in python or programming, so perhaps there may be a mistake here or there, but I will try my best to explain.</p>\n\n<p><strong>Scopes</strong></p>\n\n<p>When your python code is running and comes across a variable name, it checks to see what that variable is defined as.  First it checks the local namespace, and then goes up from there, all the way to the highest namespace, the global namespace.  Note that it never looks into lower namespaces for definitions.  This means that you can reuse variable names at different scope levels without them ever conflicting.  If you don't know what a namespace is, just think of it as where you are at in the code.  For example,</p>\n\n<pre><code>x=1 # Here you are at the global scope/namespace\ndef func():\n    x=2 # &lt;&lt; Here you are in func's namespace\nprint(x) # Back out at the global namespace\n</code></pre>\n\n<p>If you think this code results in a <code>2</code> printing to the screen, then you were wrong.  The <code>x=2</code> line is within the scope of func, and the <code>print(x)</code> line is at the global level.  When <code>print(x)</code> is executed, it looks for the value of <code>x</code> starting at the global scope, and this is defined in the first line as <code>x=1</code>.  When you define variables as a local variable in a given scope, they are generally destroyed when you leave that scope.  So if you call <code>func()</code>, it sets <code>x=2</code> in the local scope, and then exits the function.  By doing <code>return</code> or just finishing a function, we are leaving its scope and the variable x as defined in the scope is destroyed (dereferenced and garbage collected).  Since the contents of func are at a lower scope than the global scope, code executed at the global level never sees values assigned in it.</p>\n\n<p>So scopes make functions and classes pretty isolated, but the solution to that is to pass arguments to these constructs.  By passing an argument to a function, they set variables defined in their local scope to values passed to them from another scope. To explain, to do what this code does with args:</p>\n\n<pre><code>def func(value):\n    print(value)\n# By passing 100 to func(), there is essentially \n# an invisible line in func that does 'value=100'.\nfunc(100)\n</code></pre>\n\n<p>You must do this with globals:</p>\n\n<pre><code>def func():\n    value = x\n    print(value)\n# By not using arguments, we have to manually do that invisible\n# assignment of value=100 by setting x=100 and then the function setting value=x\nx=100\nfunc()  \n</code></pre>\n\n<p>To understand the utility this provides, over just letting python search the global scope for variables, these two snippets will both print <code>2</code> to the screen</p>\n\n<p>Using function arguments:</p>\n\n<pre><code>x = 1\ndef func_args(value):\n    print(value*2)\n\nfunc_args(x)\n</code></pre>\n\n<p>Using globals:</p>\n\n<pre><code>x=1\ndef func_globals():\n    print(x*2)\n\nfunc_globals()\n</code></pre>\n\n<p>However, note that <code>func_globals()</code> will only print <code>x*2</code>, whereas <code>func_args(value)</code> will print <code>value*2</code> for ANY value passed to it.  This means that in order to use <code>func_globals()</code> like <code>func_args()</code>, you have to either know that <code>x</code> is set to what you want at the moment of calling <code>func_globals()</code>, or manually set it to the value you want to work on every time you call it.  With <code>func_args()</code>, you only need to know what you are passing in to the function as <code>value</code>.</p>\n\n<p>This has by no means been a thorough explanation of variable scopes and namespaces, but hopefully you get some basic understanding of what a scope is.  There is good information on the internet about this sort of thing in python, and I would recommend getting familiar with the concepts, as they are very core to how code is structured in python and other languages.  </p>\n"}], "owner": {"reputation": 112, "user_id": 4440588, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/cee09de2727ab7c98ebd3be8f26aadf3?s=128&d=identicon&r=PG&f=1", "display_name": "Ashmoreinc", "link": "https://stackoverflow.com/users/4440588/ashmoreinc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 738, "favorite_count": 1, "accepted_answer_id": 29135196, "answer_count": 1, "score": 2, "last_activity_date": 1426978357, "creation_date": 1426717080, "question_id": 29133770, "link": "https://stackoverflow.com/questions/29133770/socket-p2p-and-threading", "title": "Socket P2P and Threading", "body": "<p>I'm attempting to create a messaging application (more than likely been done in other ways) and I'm using threading so I can send or receive a message at any time</p>\n\n<p>I have used classes for each thread, one for receiving a message one for sending</p>\n\n<h1>Sending files</h1>\n\n<pre><code>class snd (threading.Thread):\n    def run (self):\n        while True:\n            msg = input(\"You: \")\n            if msg == endprompt:\n                closecon()\n                break\n            else:\n                s.send(bytes(msg, \"UTF-8\"))\n                sen()\n                pass\n</code></pre>\n\n<p>and it is called after by this:</p>\n\n<pre><code>def sen ():\n    s.start()\ns = snd()\n</code></pre>\n\n<p>Receiving is similar, just vague changes as you'd expect</p>\n\n<h1>Receiving</h1>\n\n<pre><code>class rcv (threading.Thread):\n    def run (self):\n        while True:\n            reply = s.recv(2048)\n            print(\"User: \", reply.decode(\"UTF-8\"))\n            rec()\n</code></pre>\n\n<p>again this is called like this:</p>\n\n<pre><code>def rec ():\n    r.start()\nr = rcv()\n</code></pre>\n\n<h1>The Problem</h1>\n\n<p>\"send\" is not an attribute of snd\nsame with recv I'm assuming</p>\n\n<p>This is a problem with triggering the send on my socket from in an object\nso I tried a few things</p>\n\n<h3>My attempt to solve this</h3>\n\n<p>One being:\nchanging <code>from socket import *</code>\nto <code>import socket as sck</code></p>\n\n<p>I then went on to trying to add things like this to the classes, e.g <code>class snd (threading.Thread, sck.send)</code></p>\n\n<p>This again didn't work and spat out the error:\nAttributeError: 'module' object has no attribute 'send'</p>\n\n<h1>Question</h1>\n\n<p>How can I solve this? so i can send messages inside the objects?</p>\n\n<h3>Aditional info:</h3>\n\n<pre><code>s = sck.socket(sck.AF_INET, sck.SOCK_STREAM)\n</code></pre>\n\n<p>~~~~</p>\n\n<pre><code>def closecon ():\n    s.close()\n</code></pre>\n\n<p>~~~~</p>\n\n<pre><code>def con ():\n    s.connect((host, port))\n</code></pre>\n"}, {"tags": ["python", "windows", "fortran", "intel-fortran", "f2py"], "comments": [{"owner": {"reputation": 6264, "user_id": 482420, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/68f69cfaf811aa686db443bf236103f3?s=128&d=identicon&r=PG", "display_name": "DaveP", "link": "https://stackoverflow.com/users/482420/davep"}, "edited": false, "score": 0, "creation_date": 1427025100, "post_id": 29133742, "comment_id": 46601223, "body": "Microsoft has recently released a free and updated visual C++ package specifically for compiling Python 2.7. You may find it easier to use this rather than mingw32. <a href=\"http://www.microsoft.com/en-au/download/details.aspx?id=44266\" rel=\"nofollow noreferrer\">microsoft.com/en-au/download/details.aspx?id=44266</a>"}], "owner": {"reputation": 11, "user_id": 4687327, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e062a270354903da030edcbee6ed673?s=128&d=identicon&r=PG&f=1", "display_name": "DMEIA", "link": "https://stackoverflow.com/users/4687327/dmeia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 315, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1426716970, "creation_date": 1426716970, "last_edit_date": 1495541186, "question_id": 29133742, "link": "https://stackoverflow.com/questions/29133742/using-f2py-on-windows-with-intel-fortran-but-no-ms-intel-c-compiler", "title": "Using f2py on Windows with Intel Fortran, but NO MS/Intel C compiler", "body": "<p>I'm trying to create a Python module using f2py using the Intel Fortran compiler, but WITHOUT the corresponding Intel or Microsoft C compiler.  I had been told that I could use the MinGW C compiler for this, though I'm starting to doubt this.</p>\n\n<p>I have 32-bit Python 2.7.3 with numpy 1.8.1, Intel Fortran 11.1 (with the VS 2008 shell), and MinGW 4.8.1.</p>\n\n<p>Using f2py with --fcompiler=intelv and --compiler=mingw32 seemed to work until it got time to link.  I got many unresolved externals as in <a href=\"https://stackoverflow.com/questions/19322350/f2py-with-intel-fortran-compiler\">this</a> posting (I'm not currently able to access the makefile referenced in the answer), along with this warning:</p>\n\n<p>LNK4078: multiple '.drectve' sections found with different attributes (00100A00)</p>\n\n<p>I realized that some incorrect options were being passed to ifort, so I tried calling ifort directly to link.  When I did, it went ahead with the link, but when I tried to import the .pyd file, python complained that it did not have an init function defined.  Looking at the .pyd file with depends, I saw that it was not linked correctly against MSVCR90.DLL or LIBIFCOREMD.DLL.  I tried listing the corresponding .lib files in the link line, but that didn't appear to help with this issue.</p>\n\n<p>I also tried calling link directly (with the corresponding options), but it just refused to link at all.</p>\n\n<p>Am I trying to do something impossible?</p>\n"}, {"tags": ["python", "tkinter"], "comments": [{"owner": {"reputation": 26167, "user_id": 736937, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/b3ccac435e2fd4eb9be62da7830d887c?s=128&d=identicon&r=PG", "display_name": "jedwards", "link": "https://stackoverflow.com/users/736937/jedwards"}, "edited": false, "score": 1, "creation_date": 1426717048, "post_id": 29133741, "comment_id": 46493146, "body": "What does <code>self.RadioSelect</code> do?"}, {"owner": {"reputation": 410, "user_id": 4389332, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/xHEUD.png?s=128&g=1", "display_name": "zephi", "link": "https://stackoverflow.com/users/4389332/zephi"}, "reply_to_user": {"reputation": 26167, "user_id": 736937, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/b3ccac435e2fd4eb9be62da7830d887c?s=128&d=identicon&r=PG", "display_name": "jedwards", "link": "https://stackoverflow.com/users/736937/jedwards"}, "edited": false, "score": 0, "creation_date": 1426717389, "post_id": 29133741, "comment_id": 46493274, "body": "irrelevant, at this moment just prints the value."}, {"owner": {"reputation": 12066, "user_id": 3924118, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/abb01e1c2a8e3d9e1534dca14b19b3d8?s=128&d=identicon&r=PG&f=1", "display_name": "nbro", "link": "https://stackoverflow.com/users/3924118/nbro"}, "edited": false, "score": 0, "creation_date": 1426718609, "post_id": 29133741, "comment_id": 46493712, "body": "Show a working example, so that we can run it and test if it&#39;s a platform specific problem.."}], "answers": [{"comments": [{"owner": {"reputation": 410, "user_id": 4389332, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/xHEUD.png?s=128&g=1", "display_name": "zephi", "link": "https://stackoverflow.com/users/4389332/zephi"}, "edited": false, "score": 0, "creation_date": 1426763293, "post_id": 29134481, "comment_id": 46508988, "body": "Thanks, that indeed works. Now that I think of it, I should&#39;ve just studied the documentation. Is there a way to alter default colour values for all widgets of particular type, so that I don&#39;t have to add options to every widget in my GUI?"}, {"owner": {"reputation": 26167, "user_id": 736937, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/b3ccac435e2fd4eb9be62da7830d887c?s=128&d=identicon&r=PG", "display_name": "jedwards", "link": "https://stackoverflow.com/users/736937/jedwards"}, "reply_to_user": {"reputation": 410, "user_id": 4389332, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/xHEUD.png?s=128&g=1", "display_name": "zephi", "link": "https://stackoverflow.com/users/4389332/zephi"}, "edited": false, "score": 1, "creation_date": 1426763493, "post_id": 29134481, "comment_id": 46509114, "body": "@zephi If you keep track of your widgets somehow (append their references to in a list maybe), you can iterate through them and set attributes that they have in common (e.g. <code>fg</code>, <code>bg</code>), but things like <code>selectcolor</code> will need to be set in the respective widgets, since not all widgets have that attribute."}, {"owner": {"reputation": 410, "user_id": 4389332, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/xHEUD.png?s=128&g=1", "display_name": "zephi", "link": "https://stackoverflow.com/users/4389332/zephi"}, "edited": false, "score": 0, "creation_date": 1426764069, "post_id": 29134481, "comment_id": 46509453, "body": "That&#39;s a neat idea for more complex user interfaces, might just create one list per widget type to eliminate unknown option error. Thanks a lot!"}], "tags": [], "owner": {"reputation": 26167, "user_id": 736937, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/b3ccac435e2fd4eb9be62da7830d887c?s=128&d=identicon&r=PG", "display_name": "jedwards", "link": "https://stackoverflow.com/users/736937/jedwards"}, "is_accepted": true, "score": 3, "last_activity_date": 1426763459, "last_edit_date": 1426763459, "creation_date": 1426720701, "answer_id": 29134481, "question_id": 29133741, "link": "https://stackoverflow.com/questions/29133741/dot-in-a-selected-radiobutton-with-bg-fg-specified-disappears/29134481#29134481", "title": "Dot in a selected radiobutton with bg, fg specified disappears", "body": "<p>As far as I can tell, specifying the foreground (presumably for the text) <em>also</em> sets the selected \"dot color\".  You can set the <code>selectcolor</code> attribute of the element to color the \"background\" of the radiobutton so that you can see the white dot.  </p>\n\n<p>For example, <code>selectcolor='red'</code> in Windows:</p>\n\n<p><img src=\"https://i.stack.imgur.com/RfKv4.png\" alt=\"win-red\"></p>\n\n<p>Be aware that the <a href=\"https://www.tcl.tk/man/tcl/TkCmd/radiobutton.htm#M9\" rel=\"nofollow noreferrer\">manpage</a> indicates that coloring <em>all</em> radio buttons with <code>selectcolor</code> (instead of only the selected button) may be Windows-only:</p>\n\n<blockquote>\n  <p>Under Windows, this color is used as the background for the indicator regardless of the select state.</p>\n</blockquote>\n\n<p>That being said, I got the same effect in linux under Python 2.7 and 3.3:</p>\n\n<p><img src=\"https://i.stack.imgur.com/RTrEZ.png\" alt=\"linux-red\"> </p>\n\n<p>I just used red to distinguish the part of the widget that <code>selectcolor</code> affected, you'd probably want <code>selectcolor='black'</code> or something a bit lighter to show the depression <code>selectcolor='#222222'</code> (below):</p>\n\n<p><img src=\"https://i.stack.imgur.com/tp4NN.png\" alt=\"win-dark\"></p>\n"}], "owner": {"reputation": 410, "user_id": 4389332, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/xHEUD.png?s=128&g=1", "display_name": "zephi", "link": "https://stackoverflow.com/users/4389332/zephi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 863, "favorite_count": 0, "accepted_answer_id": 29134481, "answer_count": 1, "score": 1, "last_activity_date": 1426763459, "creation_date": 1426716954, "question_id": 29133741, "link": "https://stackoverflow.com/questions/29133741/dot-in-a-selected-radiobutton-with-bg-fg-specified-disappears", "title": "Dot in a selected radiobutton with bg, fg specified disappears", "body": "<p>Beginner question: I'm trying to change the colour of my GUI, particularly the radiobuttons. I need inverted colours, so black background, white text.</p>\n\n<pre><code>self.radiobuttonVariable = Tkinter.IntVar()\nradiobutton1 = Tkinter.Radiobutton(self, text=u'E', variable = self.radiobuttonVariable, \n                                       bg='black', fg='white' activebackground='black', activeforeground='white', \n                                       value = 1, command = self.RadioSelect)\nradiobutton1.grid(column=2, row=1, sticky='ES')\n</code></pre>\n\n<p>This looks just fine, but when I press the button, it's the dot is there only as long I'm pressing it, disappears as soon as I let it go. The variable doesn't change, it stays on the right value, just that the dot disappears. No issue whatsoever when I remove the colour-management options. Any ideas?</p>\n"}, {"tags": ["python", "elasticsearch"], "answers": [{"tags": [], "owner": {"reputation": 46, "user_id": 1089016, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42e9eba2d3cfd0a79f2a226b9557aa2e?s=128&d=identicon&r=PG", "display_name": "RitZ_oNe", "link": "https://stackoverflow.com/users/1089016/ritz-one"}, "is_accepted": false, "score": 1, "last_activity_date": 1426778795, "creation_date": 1426778795, "answer_id": 29148624, "question_id": 29133714, "link": "https://stackoverflow.com/questions/29133714/elastic-search-including-hashtags-in-search-results/29148624#29148624", "title": "Elastic Search: including #/hashtags in search results", "body": "<p>Did you create a mapping for you index? You can specify within your mapping to not analyze certain fields.</p>\n\n<p>For example, a tweet mapping can be something like:</p>\n\n<pre><code>\"tweet\": {\n  \"properties\": {\n    \"id\": {\n      \"type\": \"long\"\n    },\n    \"msg\": {\n      \"type\": \"string\"\n    },\n    \"hashtags\": {\n      \"type\": \"string\",\n      \"index\": \"not_analyzed\"\n    }\n  }\n}\n</code></pre>\n\n<p>You can then perform a term query on \"hashtags\" for an exact string match, including \"#\" character.</p>\n\n<p>If you want \"hashtags\" to be tokenized as well, you can always create a multi-field for \"hashtags\".</p>\n"}], "owner": {"reputation": 3305, "user_id": 3355076, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/7e4d588409a85426aabe6a1a94a5789e?s=128&d=identicon&r=PG", "display_name": "Christopher Reid", "link": "https://stackoverflow.com/users/3355076/christopher-reid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 846, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1426778795, "creation_date": 1426716837, "question_id": 29133714, "link": "https://stackoverflow.com/questions/29133714/elastic-search-including-hashtags-in-search-results", "title": "Elastic Search: including #/hashtags in search results", "body": "<p>Using elastic search's query DSL this is how I am currently constructing my query:</p>\n\n<pre><code>    elastic_sort = [\n        { \"timestamp\": {\"order\": \"desc\" }},\n        \"_score\",\n        { \"name\": { \"order\": \"desc\" }},\n        { \"channel\": { \"order\": \"desc\" }},\n    ]\n\n    elastic_query = {\n    \"fuzzy_like_this\" : {\n            \"fields\" : [ \"msgs.channel\", \"msgs.msg\", \"msgs.name\" ],\n            \"like_text\" : search_string,\n            \"max_query_terms\" : 10,\n            \"fuzziness\": 0.7,\n        }\n    }\n\n    res = self.es.search(index=\"chat\", body={\n        \"from\" : from_result, \"size\" : results_per_page,\n        \"track_scores\": True,\n        \"query\": elastic_query,\n        \"sort\": elastic_sort,\n    })\n</code></pre>\n\n<p>I've been trying to implement a filter or an analyzer that will allow the inclusion of \"#\" in searches (I want a search for \"#thing\" to return results that include \"#thing\"), but I am coming up short. The error messages I am getting are not helpful and just telling me that my query is malformed.</p>\n\n<p>I attempted to incorporate the method found here : <a href=\"http://www.fullscale.co/blog/2013/03/04/preserving_specific_characters_during_tokenizing_in_elasticsearch.html\" rel=\"nofollow\">http://www.fullscale.co/blog/2013/03/04/preserving_specific_characters_during_tokenizing_in_elasticsearch.html</a> but it doesn't make any sense to me in context.</p>\n\n<p>Does anyone have a clue how I can do this?</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 17298, "user_id": 1540468, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2f7d0c7668a2f3b53cf22c01ae63f32b?s=128&d=identicon&r=PG", "display_name": "Paul Rooney", "link": "https://stackoverflow.com/users/1540468/paul-rooney"}, "edited": false, "score": 0, "creation_date": 1426721261, "post_id": 29133682, "comment_id": 46494578, "body": "Simplest way is probably <a href=\"https://docs.python.org/2/library/socket.html\" rel=\"nofollow noreferrer\">sockets</a>"}], "answers": [{"tags": [], "owner": {"reputation": 4012, "user_id": 2464684, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/36aa6139ddbdfed093169c9f6ca98a7b?s=128&d=identicon&r=PG", "display_name": "chishaku", "link": "https://stackoverflow.com/users/2464684/chishaku"}, "is_accepted": false, "score": 1, "last_activity_date": 1426728017, "creation_date": 1426728017, "answer_id": 29135637, "question_id": 29133682, "link": "https://stackoverflow.com/questions/29133682/simplest-way-to-make-two-python-scripts-talk-to-each-other/29135637#29135637", "title": "simplest way to make two python scripts talk to each other?", "body": "<p>If I were a beginner, I would have my remote script periodically check the value of the variable in a text file.  When I needed to update the variable, I would just ssh to my remote machine and update the text file.</p>\n"}, {"tags": [], "owner": {"reputation": 363, "user_id": 3417413, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5d30b0d4350e1f334ce0f2a407e9ed32?s=128&d=identicon&r=PG&f=1", "display_name": "capturesteve", "link": "https://stackoverflow.com/users/3417413/capturesteve"}, "is_accepted": false, "score": 0, "last_activity_date": 1426729470, "creation_date": 1426729470, "answer_id": 29135862, "question_id": 29133682, "link": "https://stackoverflow.com/questions/29133682/simplest-way-to-make-two-python-scripts-talk-to-each-other/29135862#29135862", "title": "simplest way to make two python scripts talk to each other?", "body": "<p>Using a text file that is polled at a regular interval is an easy way to go. </p>\n\n<p>A more efficient and probably easier way is to register a signal handler in your python process that would force the process to reload the value in the text file when demanded rather than continuously polling. On linux you can use the kill command in the terminal to send the a signal after updating the file. This is actually probably simpler than implementing continuous polling.</p>\n\n<pre><code>import signal\nimport sys\nimport os \nprint os.getpid()\ndef signal_handler(signal, frame):\n    # open text file and check for new value\n    print \"value reset\"\nsignal.signal(signal.SIGUSR1, signal_handler)\n</code></pre>\n\n<p>Then in Linux terminal to trigger the value to be reloaded you can do:</p>\n\n<pre><code>kill -SIGUSR1 pidprinted\n</code></pre>\n\n<p>If you wanted to get really fancy, you could register a signal handler to start pdb (python's debugger), inject the value into the running process, and continue, but I think doing the above is easiest. </p>\n"}], "owner": {"reputation": 19, "user_id": 4651102, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-oL-b3Jd3IkU/AAAAAAAAAAI/AAAAAAAAASQ/pNmmJS42c2I/photo.jpg?sz=128", "display_name": "123", "link": "https://stackoverflow.com/users/4651102/123"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1012, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1426729470, "creation_date": 1426716729, "last_edit_date": 1426726398, "question_id": 29133682, "link": "https://stackoverflow.com/questions/29133682/simplest-way-to-make-two-python-scripts-talk-to-each-other", "title": "simplest way to make two python scripts talk to each other?", "body": "<p>I have a python script running on a vps. Now i just want to change 1 variable in the running script using my desktop computer.</p>\n\n<p>What is the simplest way to that for a beginner?</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 21605, "user_id": 1142167, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/f9MAS.jpg?s=128&g=1", "display_name": "Joel Cornett", "link": "https://stackoverflow.com/users/1142167/joel-cornett"}, "edited": false, "score": 1, "creation_date": 1426717018, "post_id": 29133679, "comment_id": 46493135, "body": "A <code>staticmethod</code> cannot directly reference its containing class. If you need this functionality, use a <code>classmethod</code> instead. Alternatively, you can use the fully qualified name (<code>BaseService.__class_variable__</code>) to access the class variable. For obvious reasons, this is not ideal."}, {"owner": {"reputation": 216457, "user_id": 846892, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/E9dZn.png?s=128&g=1", "display_name": "Ashwini Chaudhary", "link": "https://stackoverflow.com/users/846892/ashwini-chaudhary"}, "edited": false, "score": 1, "creation_date": 1426717022, "post_id": 29133679, "comment_id": 46493136, "body": "No, you cannot do it this way. Convert it to a classmethod and then acess it using the class."}, {"owner": {"reputation": 6198, "user_id": 1483037, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/u5eCD.jpg?s=128&g=1", "display_name": "ovatsug25", "link": "https://stackoverflow.com/users/1483037/ovatsug25"}, "edited": false, "score": 0, "creation_date": 1426717335, "post_id": 29133679, "comment_id": 46493247, "body": "solved it by making them class methods, passing in class, and then calling it as <code>cls.__class_variable__</code>. do either of you want to post this as an answer?"}], "answers": [{"tags": [], "owner": {"reputation": 6198, "user_id": 1483037, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/u5eCD.jpg?s=128&g=1", "display_name": "ovatsug25", "link": "https://stackoverflow.com/users/1483037/ovatsug25"}, "is_accepted": true, "score": 0, "last_activity_date": 1426777135, "creation_date": 1426777135, "answer_id": 29147973, "question_id": 29133679, "link": "https://stackoverflow.com/questions/29133679/inherited-static-methods-used-with-static-class-variable-return-nameerror/29147973#29147973", "title": "Inherited static methods used with static class variable return NameError", "body": "<p>From @Joel Cornett commment above:</p>\n\n<blockquote>\n  <p>A staticmethod cannot directly reference its containing class. If you need this functionality, use a classmethod instead. Alternatively,\n  you can use the fully qualified name (BaseService.<strong>class_variable</strong>)\n  to access the class variable. For obvious reasons, this is not ideal.</p>\n</blockquote>\n"}], "owner": {"reputation": 6198, "user_id": 1483037, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/u5eCD.jpg?s=128&g=1", "display_name": "ovatsug25", "link": "https://stackoverflow.com/users/1483037/ovatsug25"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "accepted_answer_id": 29147973, "answer_count": 1, "score": 0, "last_activity_date": 1426777135, "creation_date": 1426716717, "question_id": 29133679, "link": "https://stackoverflow.com/questions/29133679/inherited-static-methods-used-with-static-class-variable-return-nameerror", "title": "Inherited static methods used with static class variable return NameError", "body": "<p>I have two classes:</p>\n\n<pre><code> class BaseService(object):\n     @staticmethod\n     def say_name:\n         return __class_variable__\n\n class SubClassService(BaseService):\n      __class_variable__ = NOLA\n</code></pre>\n\n<p>When I call my static method like so:</p>\n\n<pre><code> SubClassService.say_name()\n</code></pre>\n\n<p>I get a:</p>\n\n<pre><code> NameError: global name '__class_variable__' is not defined\n</code></pre>\n\n<p>Using SQLAlchemy in the past, I figured that I this was something I could do easily, but it turns out they use <code>@declared_attr</code> custom decorator among things to enable similar functionality.</p>\n\n<p>Can I do this without resorting to SQLAlchemy like code?</p>\n"}, {"tags": ["python", "list", "reportlab"], "answers": [{"comments": [{"owner": {"reputation": 149, "user_id": 3808752, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/dd54ff39497da2e98a2c663edf461882?s=128&d=identicon&r=PG&f=1", "display_name": "user3808752", "link": "https://stackoverflow.com/users/3808752/user3808752"}, "edited": false, "score": 0, "creation_date": 1426725666, "post_id": 29133706, "comment_id": 46495787, "body": "thx, after more read I concluded that since I am incrementally building my data in a list I will need to build my list and use it to build the single element tuple by the following:  single_element_tuple=tuple([list])"}], "tags": [], "owner": {"reputation": 5041, "user_id": 523144, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/111055402ae29758a8e32ce797380e23?s=128&d=identicon&r=PG&f=1", "display_name": "PeterE", "link": "https://stackoverflow.com/users/523144/petere"}, "is_accepted": false, "score": 2, "last_activity_date": 1426716809, "creation_date": 1426716809, "answer_id": 29133706, "question_id": 29133655, "link": "https://stackoverflow.com/questions/29133655/data-structure-for-python-and-reportlabs-charts/29133706#29133706", "title": "data structure for python and reportlabs charts", "body": "<ul>\n<li><code>[#,#,#]</code> is a list </li>\n<li><code>(#,#,#)</code> is a tuple </li>\n<li><code>[(#,#,#)]</code> is a (one element) list of a tuple</li>\n</ul>\n"}], "owner": {"reputation": 149, "user_id": 3808752, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/dd54ff39497da2e98a2c663edf461882?s=128&d=identicon&r=PG&f=1", "display_name": "user3808752", "link": "https://stackoverflow.com/users/3808752/user3808752"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 92, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1426716809, "creation_date": 1426716561, "question_id": 29133655, "link": "https://stackoverflow.com/questions/29133655/data-structure-for-python-and-reportlabs-charts", "title": "data structure for python and reportlabs charts", "body": "<p>Admittedly I think I may be stumped because i can't figure out how to describe my problem so I can effectively google it...</p>\n\n<p>in short the report lab horizontal line chart I'm trying to create works when I assign data to my list variable when I build it like this:</p>\n\n<pre><code>data=[(55,56,57,58)] \n</code></pre>\n\n<p>or (after carefully reading the report lab documentation for a single series chart\n    data=[(55,56,57,58),] </p>\n\n<p>However, the <em>lists</em> that i'm building in my python code come out like the this\n    data=[55, 56, 57, 58]</p>\n\n<p>So what is the difference between [#, #, #] and [(#, #, #)]</p>\n"}, {"tags": ["python", "numpy", "pandas", "matplotlib"], "comments": [{"owner": {"reputation": 26167, "user_id": 736937, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/b3ccac435e2fd4eb9be62da7830d887c?s=128&d=identicon&r=PG", "display_name": "jedwards", "link": "https://stackoverflow.com/users/736937/jedwards"}, "edited": false, "score": 0, "creation_date": 1426716813, "post_id": 29133636, "comment_id": 46493059, "body": "What kind of access do you have to your graph?  Obviously, a <code>is_adjacent(source_node, target_node)</code>-type function is necessary, but do you have, for example, a <code>get_neighbors(source_node)</code>-type function that would return a list of target_nodes that were adjacent?  That could be used to speed things up."}], "answers": [{"comments": [{"owner": {"reputation": 5616, "user_id": 2769240, "user_type": "registered", "accept_rate": 21, "profile_image": "https://www.gravatar.com/avatar/1501f510275875ae7ac437f758de28e8?s=128&d=identicon&r=PG", "display_name": "Baktaawar", "link": "https://stackoverflow.com/users/2769240/baktaawar"}, "edited": false, "score": 0, "creation_date": 1426719027, "post_id": 29133785, "comment_id": 46493863, "body": "Well the point is I am creating an adjacency matrix as the first step. Now my adjacency matrix is basically getting created with some graph in mind. But I don&#39;t start with a graph. I start with an adjacent matrix . So first ques. was how do you create an adjacency matrix(or basically populate the nxn matrix with 1 and 0&#39;s without using loops.   Second question is once I have an adjacency matrix how do I create an undirected graph with nodes and edges shown. I guess your answer helps in second part. First part any idea?"}, {"owner": {"reputation": 5616, "user_id": 2769240, "user_type": "registered", "accept_rate": 21, "profile_image": "https://www.gravatar.com/avatar/1501f510275875ae7ac437f758de28e8?s=128&d=identicon&r=PG", "display_name": "Baktaawar", "link": "https://stackoverflow.com/users/2769240/baktaawar"}, "edited": false, "score": 0, "creation_date": 1426724183, "post_id": 29133785, "comment_id": 46495410, "body": "This is helpful. Just one more thing. Here one has to mention the edge set. What is the nodes are like very high. Then one can&#39;t just keep mentioning the edge set for each nodes. Is there a way to automate this?. So lets say I want to have 30 nodes in such a way that 15 each form a cluster. So two clusters of nodes (15 each). Then I would have one edge between every pair of nodes within a cluster and the clusters are connected by some 2 edges between two different pair of nodes of each cluster. Currently I have to manually add those edge points in a list.  Maybe automate the edge list above?"}, {"owner": {"reputation": 5616, "user_id": 2769240, "user_type": "registered", "accept_rate": 21, "profile_image": "https://www.gravatar.com/avatar/1501f510275875ae7ac437f758de28e8?s=128&d=identicon&r=PG", "display_name": "Baktaawar", "link": "https://stackoverflow.com/users/2769240/baktaawar"}, "edited": false, "score": 0, "creation_date": 1426724807, "post_id": 29133785, "comment_id": 46495585, "body": "Plus I think the edges need to start with 0. Else it throws an error!"}, {"owner": {"reputation": 8900, "user_id": 432913, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2fe7355b33d1b0bd79b1224691b00841?s=128&d=identicon&r=PG", "display_name": "will", "link": "https://stackoverflow.com/users/432913/will"}, "reply_to_user": {"reputation": 5616, "user_id": 2769240, "user_type": "registered", "accept_rate": 21, "profile_image": "https://www.gravatar.com/avatar/1501f510275875ae7ac437f758de28e8?s=128&d=identicon&r=PG", "display_name": "Baktaawar", "link": "https://stackoverflow.com/users/2769240/baktaawar"}, "edited": false, "score": 0, "creation_date": 1426725186, "post_id": 29133785, "comment_id": 46495684, "body": "@Manish the nodes in the edges list were just an example - if you&#39;re indexing your nodes with 0...N then yes you&#39;ll need to do it that way, if you&#39;re indexing them with objects then you could use nested dictionaries instead. You can create the edges however you want though, there&#39;s no issue doing it programatically."}, {"owner": {"reputation": 5616, "user_id": 2769240, "user_type": "registered", "accept_rate": 21, "profile_image": "https://www.gravatar.com/avatar/1501f510275875ae7ac437f758de28e8?s=128&d=identicon&r=PG", "display_name": "Baktaawar", "link": "https://stackoverflow.com/users/2769240/baktaawar"}, "edited": false, "score": 0, "creation_date": 1426728803, "post_id": 29133785, "comment_id": 46496552, "body": "Hi Will,  Pls check the edit. I am looking to kind of create an adjacency matrix which would create edge between each pair of nodes in a cluster and I have two such edges. Currently in the graph above, each cluster points is connected to only one node. I want each node to have edge with each other. The prob is my edge list is only for 1 node with other. But if I start creating a list set for each node with other node then it would be huge pain to write such list. Any idea how to automate this?"}, {"owner": {"reputation": 8900, "user_id": 432913, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2fe7355b33d1b0bd79b1224691b00841?s=128&d=identicon&r=PG", "display_name": "will", "link": "https://stackoverflow.com/users/432913/will"}, "reply_to_user": {"reputation": 5616, "user_id": 2769240, "user_type": "registered", "accept_rate": 21, "profile_image": "https://www.gravatar.com/avatar/1501f510275875ae7ac437f758de28e8?s=128&d=identicon&r=PG", "display_name": "Baktaawar", "link": "https://stackoverflow.com/users/2769240/baktaawar"}, "edited": false, "score": 0, "creation_date": 1426754730, "post_id": 29133785, "comment_id": 46504106, "body": "Well you can describe it in words, so you can write a program to do it. You want all nodes in each cluster to be connected to each other, and then a pair of additional connections between the two clusters right? So write code to do all the pairs within each cluster, and then do Theberton additional nodes manually. Give it a go and post your result, if that doesn&#39;t help I&#39;ll give you some more hints (I&#39;d rather not just give an answer as it won&#39;t help you improve)."}, {"owner": {"reputation": 5616, "user_id": 2769240, "user_type": "registered", "accept_rate": 21, "profile_image": "https://www.gravatar.com/avatar/1501f510275875ae7ac437f758de28e8?s=128&d=identicon&r=PG", "display_name": "Baktaawar", "link": "https://stackoverflow.com/users/2769240/baktaawar"}, "edited": false, "score": 0, "creation_date": 1427246029, "post_id": 29133785, "comment_id": 46697193, "body": "Hi Will, I have done that. And was able to create each node connected to each other and two manually.Your help was very useful.  However, now am looking for a different thing. Please see the question I asked here: I am going to use networkx to create such a graph, but my problem is how to have it fixed to the layout I mentioned in the following question. Two nodes of different cluster seem to come close.   <a href=\"http://stackoverflow.com/questions/29245142/creating-fixed-set-of-nodes-using-networkx-in-python\" title=\"creating fixed set of nodes using networkx in python\">stackoverflow.com/questions/29245142/&hellip;</a>"}], "tags": [], "owner": {"reputation": 8900, "user_id": 432913, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2fe7355b33d1b0bd79b1224691b00841?s=128&d=identicon&r=PG", "display_name": "will", "link": "https://stackoverflow.com/users/432913/will"}, "is_accepted": false, "score": 1, "last_activity_date": 1426766931, "last_edit_date": 1426766931, "creation_date": 1426717163, "answer_id": 29133785, "question_id": 29133636, "link": "https://stackoverflow.com/questions/29133636/creating-a-nxn-symmetric-binary-data-matrix-in-python/29133785#29133785", "title": "Creating a nxn Symmetric binary data matrix in python", "body": "<p>If all you care about is having the graph and an adjacency matrix, do you have to build the graph from the matrix? Or are you happy to do it the other way around instead?</p>\n\n<p>You should look at <a href=\"https://networkx.github.io\" rel=\"nofollow noreferrer\"><code>networkx</code></a>.</p>\n\n<p>Bearing in mind the comment; you have a set of edges - you know these in advance (or at least how you want to create them - <em>and</em> you want to plot the graph. Now, you could create the adjacency matrix separately if you wanted, something like this:</p>\n\n<pre><code>A = [[0 for _ in range(N)] for _ in range(N)]\nedges = [[1,2], [3,4], [6,1], ..., etc.]\nfor start, finish in edges: \n  A[start][finish] = A[finish][start] = 1\n</code></pre>\n\n<p>And then you could then just do the plotting as below - but why would you want to do this when you would be getting all that functionality from <code>networkx</code> anyway? You create an adjecency matrix by telling it what edges you have - the graph and the adjacency matrix hold exactly the same information, just in different formats, it makes no differences which way you do it (and it could be argued that doing it by adding edges to the graph is more readable too).</p>\n\n<p>From your edit, you want to have two clusters of nodes, and then to have all nodes within each cluster joined to each other, and then a couple of extra edges. You mention that it would be tedious to do this manually, and you're right: so do it programatically.</p>\n\n<pre><code>import networkx as nx\nfrom matplotlib import pyplot\n\nG=nx.Graph()\n\n# Why not group your nodes into clusters, since that's how you plan on using them.\nnode_clusters = [range(10), range(10,20)]\n\n\nfor node_cluster in node_clusters:\n  for node in node_cluster:\n    for other_node in node_cluster:\n      if node != other_node:\n        G.add_edge(node, other_node) # we don't actually need to add nodes, as the `add_edge` will add the nodes for us. \n\n#Add manual edges\nG.add_edge(0,10)\nG.add_edge(1, 11)\n\n\nfrom networkx.linalg.graphmatrix import adjacency_matrix\nA = adjacency_matrix(G)\nprint A\n\nnx.draw(G)\n\npyplot.show()\n</code></pre>\n\n<p><img src=\"https://i.stack.imgur.com/VibL0.png\" alt=\"enter image description here\"></p>\n\n<p>Honestly though, if every node in each cluster is connected to each other, there's not really a huge amount of point drawing all the connections, summarising them instead as on larger node might make a nicer drawing.</p>\n"}, {"comments": [{"owner": {"reputation": 8900, "user_id": 432913, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2fe7355b33d1b0bd79b1224691b00841?s=128&d=identicon&r=PG", "display_name": "will", "link": "https://stackoverflow.com/users/432913/will"}, "edited": false, "score": 0, "creation_date": 1426725067, "post_id": 29134766, "comment_id": 46495651, "body": "Why would you say that is pythonic? I&#39;d say it exactly isn&#39;t."}, {"owner": {"reputation": 5991, "user_id": 232371, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fb2a01bdde27923d196336fe006c8764?s=128&d=identicon&r=PG", "display_name": "Ben Usman", "link": "https://stackoverflow.com/users/232371/ben-usman"}, "reply_to_user": {"reputation": 8900, "user_id": 432913, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2fe7355b33d1b0bd79b1224691b00841?s=128&d=identicon&r=PG", "display_name": "will", "link": "https://stackoverflow.com/users/432913/will"}, "edited": false, "score": 0, "creation_date": 1426763377, "post_id": 29134766, "comment_id": 46509028, "body": "@will, generally, agree. But from my point that is pretty much explicit one-liner &quot;put ones on those positions&quot; (removed part about shapes - it was actually wrong)"}, {"owner": {"reputation": 8900, "user_id": 432913, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2fe7355b33d1b0bd79b1224691b00841?s=128&d=identicon&r=PG", "display_name": "will", "link": "https://stackoverflow.com/users/432913/will"}, "edited": false, "score": 0, "creation_date": 1426766040, "post_id": 29134766, "comment_id": 46510595, "body": "I&#39;m still on the fence i think, yeah it would be a little wasteful, but i always try to err on the side of maximum readability - and for me one thing that involves is not nesting functions as arguments to others. Might just be me, but i prefer it. And especially think it&#39;s more helpful answering questions on here, as asking the question in the first place includes at least some implication of not being completely comfortable with python."}], "tags": [], "owner": {"reputation": 5991, "user_id": 232371, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fb2a01bdde27923d196336fe006c8764?s=128&d=identicon&r=PG", "display_name": "Ben Usman", "link": "https://stackoverflow.com/users/232371/ben-usman"}, "is_accepted": false, "score": 0, "last_activity_date": 1426763153, "last_edit_date": 1426763153, "creation_date": 1426722328, "answer_id": 29134766, "question_id": 29133636, "link": "https://stackoverflow.com/questions/29133636/creating-a-nxn-symmetric-binary-data-matrix-in-python/29134766#29134766", "title": "Creating a nxn Symmetric binary data matrix in python", "body": "<p>Adjacency matrices are usually sparse (<code>nnz ~ O(N)</code>), thus they are usually stored in <a href=\"http://docs.scipy.org/doc/scipy/reference/sparse.html\" rel=\"nofollow\">sparse format</a>. The simplest one is coo format that is basically three arrays: <code>[row_ids, col_id, value]</code>, crs and csc are somewhat more complex to get used to, but have higher performance. The core benefit of using sparse representation is that when you start performing lets say, matvec you would get a huge speed-up usually (asymptotic complexity is lower under assumption <code>nnz ~ O(N)</code>).</p>\n\n<p>Answering your question: you can build matrix with ones in positions <code>pos = [(1, 4), (3, 2)]</code> like this:</p>\n\n<pre><code>M = scipy.sparse.coo_matrix(([1]*len(pos), zip(*pos)))\n</code></pre>\n\n<p>which is in my view pretty much Pythonic :)</p>\n"}], "owner": {"reputation": 5616, "user_id": 2769240, "user_type": "registered", "accept_rate": 21, "profile_image": "https://www.gravatar.com/avatar/1501f510275875ae7ac437f758de28e8?s=128&d=identicon&r=PG", "display_name": "Baktaawar", "link": "https://stackoverflow.com/users/2769240/baktaawar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1344, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1426766931, "creation_date": 1426716467, "last_edit_date": 1426729015, "question_id": 29133636, "link": "https://stackoverflow.com/questions/29133636/creating-a-nxn-symmetric-binary-data-matrix-in-python", "title": "Creating a nxn Symmetric binary data matrix in python", "body": "<p>I want to create a nxn symmetric matrix in python. Lets say n=9, then I want something like below: </p>\n\n<pre><code>array[[0,1,0,0,0,1,1,0,1],[1,0,1,1,1,0,0,0,0],[0,1,0,1,1,0,0,0,0]\u2026.]. \n</code></pre>\n\n<p>I know how to do this by first creating a nun zeros matrix in python (np.zeros((9,9)) and then using a loop to populate it 1 and zeros. But I feel that is not a pythonic way. So was looking for an optimised way using loops would slow the code if the matrix is big.</p>\n\n<p>Basically it's the adjacency matrix I am creating for an undirected graph. My follow-up question would be how to plot the graph for which one has an adjacency matrix. Any functions which plot undirected graph from adjacency matrix?</p>\n\n<p>Please advise. I wanted to learn the best optimised/pythonic way of doing something in python rather than using traditional loops.</p>\n\n<p>EDIT: </p>\n\n<p>I used the following to create a edge list for a 30x30 adjacency matrix. But this edge list doesn't have pairs for each node in a cluster. If I start doing that the list would be huge. My graph below consequently doesn't have edges between each node in a cluster. How to automate this edge list so that I don't have to manually type all edge pairs. In the graph I want each node in a cluster to have an edge with other node in that cluster and only node 1 and 2 should have between cluster edge with node 16 and 17 of other cluster. </p>\n\n<pre><code>N=30\n# Creating a matrix of zeros. \nW=np.zeros((N,N))\n# Mentioning the edges to start with. Thinking of a pair of 15 node cluster with two cluster connected by two pair of nodes. \nedge=[[1,2],[1,3],[1,4],[1,5],[1,6],[1,7],[1,8],[1,9],[1,10],[1,11],[1,12],[1,13],[1,14],[1,15],\n      [16,17],[16,18],[16,19],[16,20],[16,21],[16,22],[16,23],[16,24],[16,25],[16,26],[16,27],[16,28],[16,29],[16,30],\n      [1,16],[2,17]]\n\n# Function for creating adjacency matrix ,populating the zeros matrix with 1 and 0-signifying edges on a node. \ndef adjacencyMatrix():\n    \"\"\"This function creates an Adjacency Matrix from a edge set. \n    input-&gt; set of edges to be connected \n    output-&gt; Adjacency matrix (n,n)\n    \"\"\"\n    for first,second in edge:\n        W[first-1,second-1]=W[second-1][first-1]=1\n</code></pre>\n\n<p>Graph: </p>\n\n<p><img src=\"https://i.stack.imgur.com/IChM9.png\" alt=\"enter image description here\"></p>\n"}, {"tags": ["python", "dictionary"], "comments": [{"owner": {"reputation": 4089, "user_id": 2457483, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/b32cc314ac87932457e71c98ff8d140e?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/2457483/daniel"}, "edited": false, "score": 0, "creation_date": 1426716616, "post_id": 29133629, "comment_id": 46492978, "body": "how does your text file looks like?"}, {"owner": {"reputation": 853, "user_id": 1909577, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/d6b96c6dcc6d32a703b0de04dfa0d3ca?s=128&d=identicon&r=PG", "display_name": "Vinod Sharma", "link": "https://stackoverflow.com/users/1909577/vinod-sharma"}, "edited": false, "score": 0, "creation_date": 1426717823, "post_id": 29133629, "comment_id": 46493418, "body": "provide a sample of test.txt."}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1426719428, "post_id": 29133629, "comment_id": 46493995, "body": "Do you have the output you want on the console - is the <code>print</code> statement producing the correct results?"}, {"owner": {"reputation": 13257, "user_id": 248922, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/b55c30cff18b13e2176c1359654ebf1c?s=128&d=identicon&r=PG&f=1", "display_name": "RickyA", "link": "https://stackoverflow.com/users/248922/rickya"}, "edited": false, "score": 0, "creation_date": 1426722114, "post_id": 29133629, "comment_id": 46494851, "body": "replace <code>print</code> for a <code>write</code> on a file object?"}, {"owner": {"reputation": 1, "user_id": 3631802, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5f1b2825f2dd3c08672ed336cba2b94?s=128&d=identicon&r=PG&f=1", "display_name": "the_sunbeam", "link": "https://stackoverflow.com/users/3631802/the-sunbeam"}, "edited": false, "score": 0, "creation_date": 1426770119, "post_id": 29133629, "comment_id": 46513177, "body": "The file contains different number of words in each row. But some of those words are repeating. I would like to keep the same number for the repeating word and keep the rows the same (only now, the words replaced by corresponding number)"}, {"owner": {"reputation": 1, "user_id": 3631802, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5f1b2825f2dd3c08672ed336cba2b94?s=128&d=identicon&r=PG&f=1", "display_name": "the_sunbeam", "link": "https://stackoverflow.com/users/3631802/the-sunbeam"}, "edited": false, "score": 0, "creation_date": 1426770356, "post_id": 29133629, "comment_id": 46513357, "body": "The print statement is printing out each key with the corresponding number, but not as my desired output file (please see example above)"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 3631802, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5f1b2825f2dd3c08672ed336cba2b94?s=128&d=identicon&r=PG&f=1", "display_name": "the_sunbeam", "link": "https://stackoverflow.com/users/3631802/the-sunbeam"}, "edited": false, "score": 0, "creation_date": 1426769683, "post_id": 29135195, "comment_id": 46512883, "body": "Actually I get back the dictionary: (from the example above) {&#39;yard&#39; : 1,&#39;spring&#39;: 2,&#39;library&#39; :3,&#39;phone&#39; :4,&#39;computer&#39; :5, &#39;book&#39; : 6} key and value printed on one line."}, {"owner": {"reputation": 1, "user_id": 3631802, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5f1b2825f2dd3c08672ed336cba2b94?s=128&d=identicon&r=PG&f=1", "display_name": "the_sunbeam", "link": "https://stackoverflow.com/users/3631802/the-sunbeam"}, "edited": false, "score": 0, "creation_date": 1426769759, "post_id": 29135195, "comment_id": 46512934, "body": "I would like to have those words to be replaced by the numeric values, but each one to stay on the same row."}, {"owner": {"reputation": 1, "user_id": 3631802, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5f1b2825f2dd3c08672ed336cba2b94?s=128&d=identicon&r=PG&f=1", "display_name": "the_sunbeam", "link": "https://stackoverflow.com/users/3631802/the-sunbeam"}, "edited": false, "score": 0, "creation_date": 1426776062, "post_id": 29135195, "comment_id": 46517405, "body": "I tried to create a list of list from the rows in the  file, but I am stuck on how to replace a list value to a value from the dictionary. Is it possible?"}, {"owner": {"reputation": 1, "user_id": 3631802, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5f1b2825f2dd3c08672ed336cba2b94?s=128&d=identicon&r=PG&f=1", "display_name": "the_sunbeam", "link": "https://stackoverflow.com/users/3631802/the-sunbeam"}, "edited": false, "score": 0, "creation_date": 1426861152, "post_id": 29135195, "comment_id": 46555698, "body": "Thanks, this helped me a lot."}], "tags": [], "owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "is_accepted": false, "score": 0, "last_activity_date": 1426792232, "last_edit_date": 1426792232, "creation_date": 1426724999, "answer_id": 29135195, "question_id": 29133629, "link": "https://stackoverflow.com/questions/29133629/correctly-output-dictionary-to-a-file-fimi-format-python/29135195#29135195", "title": "Correctly output dictionary to a file (fimi format) python", "body": "<p>A few problems:</p>\n\n<ol>\n<li><code>Counter</code> objects do not have an <code>iteritems</code> method.</li>\n<li>Indentation.</li>\n<li>Splitting the whole file at once produces a single list, destroying the desired layout.</li>\n</ol>\n\n<p>Here is a working sample that does what you want. The biggest change is to preserve the layout of the input file by using nested lists.</p>\n\n<pre><code>import collections \n\nwith open('test.txt', 'r') as f: # open the file\n    lines = [] # initialize a list\n    for line in f: # for each line in the file,\n        # add a list of that line's words to the initialized list\n        lines.append(line.split())\n    # save a Counter out of the concatenation of those nested lists\n    c = collections.Counter(sum(lines, []))\n\nwith open('testout.txt', 'w') as output: # start a file\n    for line in lines: # for each list in the list we made,\n        result = [] # initialize a list\n        for word in line: # for each word in the nested list,\n            # add that word's count to the initialized list\n            result.append(str(c[word]))\n        # write a string representation of the list to the file\n        output.write(' '.join(result) + '\\n')\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 3631802, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5f1b2825f2dd3c08672ed336cba2b94?s=128&d=identicon&r=PG&f=1", "display_name": "the_sunbeam", "link": "https://stackoverflow.com/users/3631802/the-sunbeam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 106, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1426792232, "creation_date": 1426716431, "last_edit_date": 1426771334, "question_id": 29133629, "link": "https://stackoverflow.com/questions/29133629/correctly-output-dictionary-to-a-file-fimi-format-python", "title": "Correctly output dictionary to a file (fimi format) python", "body": "<p>I have a text file containing string values separated by space \"  \". I need to set each of those string values to be equal to a some number. \nSo far I have done a reading from the file to a dictionary where each unique key corresponds to a value number.</p>\n\n<pre><code>import collections \n\nwith open('test.txt', 'r') as f:\n     c = collections.Counter(f.read().split())\n\nnewvalue = 0\nfor key, value in c.iteritems():\n    newvalue +=1\n        c[key] =  newvalue\n    print key, newvalue\n</code></pre>\n\n<p>My problem is now that I don't know how to write the output in another file, keeping this structure:</p>\n\n<p>my text file:</p>\n\n<ul>\n<li>computer phone library desk book  </li>\n<li>book yard spring phone </li>\n<li>book spring </li>\n</ul>\n\n<p>desired output file:</p>\n\n<ul>\n<li>1 2 3 4 5</li>\n<li>5 6 7 2</li>\n<li>5 7</li>\n</ul>\n\n<p>Can someone please help me?</p>\n"}, {"tags": ["python", "linux", "ubuntu"], "comments": [{"owner": {"reputation": 5257, "user_id": 3946766, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a53461a9198ab5365f72c744a83ff3b?s=128&d=identicon&r=PG", "display_name": "matsjoyce", "link": "https://stackoverflow.com/users/3946766/matsjoyce"}, "edited": false, "score": 1, "creation_date": 1426716867, "post_id": 29133574, "comment_id": 46493079, "body": "Sorry, but it works fine for me. Try adding a few debugging print statements, such as <code>print nmap.all_hosts()</code>. Some nmap info is at <a href=\"http://xael.org/norman/python/python-nmap/\" rel=\"nofollow noreferrer\">xael.org/norman/python/python-nmap</a>."}, {"owner": {"reputation": 100768, "user_id": 1899640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47374ccb28e4b0d2454b64f7b975bc66?s=128&d=identicon&r=PG", "display_name": "that other guy", "link": "https://stackoverflow.com/users/1899640/that-other-guy"}, "edited": false, "score": 1, "creation_date": 1426717202, "post_id": 29133574, "comment_id": 46493197, "body": "Are you actually asking what <code>KeyError</code> means? If so, see the <a href=\"https://wiki.python.org/moin/KeyError\" rel=\"nofollow noreferrer\">python docs</a>. If you instead mean &quot;Why does my PortScanner object from python-nmap not contain the host I&#39;m trying to scan&quot;, please update the question."}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 3597133, "user_type": "registered", "profile_image": "https://graph.facebook.com/1014090052/picture?type=large", "display_name": "PythonPractice", "link": "https://stackoverflow.com/users/3597133/pythonpractice"}, "edited": false, "score": 0, "creation_date": 1426723511, "post_id": 29133804, "comment_id": 46495237, "body": "Thank you guys so much. The book&#39;s example is out of date"}], "tags": [], "owner": {"reputation": 853, "user_id": 1909577, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/d6b96c6dcc6d32a703b0de04dfa0d3ca?s=128&d=identicon&r=PG", "display_name": "Vinod Sharma", "link": "https://stackoverflow.com/users/1909577/vinod-sharma"}, "is_accepted": false, "score": 1, "last_activity_date": 1426717224, "creation_date": 1426717224, "answer_id": 29133804, "question_id": 29133574, "link": "https://stackoverflow.com/questions/29133574/what-does-keyerror-insert-ip-mean/29133804#29133804", "title": "What does &quot;KeyError: &#39;(insert IP)&#39;&quot; mean?", "body": "<p>This host <code>10.50.60.125</code> is not reachable.</p>\n\n<pre><code>ping 10.50.60.125\nPING 10.50.60.125 (10.50.60.125): 56 data bytes\nRequest timeout for icmp_seq 0\nRequest timeout for icmp_seq 1\n</code></pre>\n\n<p>Try with some reachable host like : <code>127.0.0.1</code>. </p>\n"}, {"tags": [], "owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "is_accepted": true, "score": 1, "last_activity_date": 1426718070, "last_edit_date": 1426718070, "creation_date": 1426717649, "answer_id": 29133893, "question_id": 29133574, "link": "https://stackoverflow.com/questions/29133574/what-does-keyerror-insert-ip-mean/29133893#29133893", "title": "What does &quot;KeyError: &#39;(insert IP)&#39;&quot; mean?", "body": "<p>A <code>KeyError</code> in nmap means the <code>ip</code> was unreachable. You should verify the ip is actually up.</p>\n\n<p>If you are not always sure if the host will be up or not you need a <code>try/except</code>:</p>\n\n<pre><code>try:\n    state = nmScan[tgtHost]['tcp'][int(tgtPort)]['state']\nexcept KeyError as e:\n   print(e)\n   return\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 23, "user_id": 6876648, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa16e7a4c2c1a2bcae61c6ef6acbc575?s=128&d=identicon&r=PG&f=1", "display_name": "yangh", "link": "https://stackoverflow.com/users/6876648/yangh"}, "is_accepted": false, "score": 0, "last_activity_date": 1484816014, "creation_date": 1484816014, "answer_id": 41737502, "question_id": 29133574, "link": "https://stackoverflow.com/questions/29133574/what-does-keyerror-insert-ip-mean/41737502#41737502", "title": "What does &quot;KeyError: &#39;(insert IP)&#39;&quot; mean?", "body": "<p>this is because that no information of ports was scaned by nmap,\nyou can check with </p>\n\n<pre><code>nmScan = nmap.PortScanner()\ndata = nmScan.scan(tgtHost,tgtPort)\nprint(data.get(tgtHost))\n</code></pre>\n\n<p>and you will find that the output values is empty</p>\n\n<p>from  the source cod, we can know that: \n<code>nmScan[tgtHost]</code> is equal to <code>data.get(tgtHost)[tgtHost]</code></p>\n\n<p>the better way is obtain information with <code>data.get(tgtHost)[tgtHost]</code>  or <code>data.get(tgtHost).get(tgtHost, {})</code></p>\n"}], "owner": {"reputation": 13, "user_id": 3597133, "user_type": "registered", "profile_image": "https://graph.facebook.com/1014090052/picture?type=large", "display_name": "PythonPractice", "link": "https://stackoverflow.com/users/3597133/pythonpractice"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1308, "favorite_count": 0, "accepted_answer_id": 29133893, "answer_count": 3, "score": 1, "last_activity_date": 1484816014, "creation_date": 1426716224, "last_edit_date": 1426716374, "question_id": 29133574, "link": "https://stackoverflow.com/questions/29133574/what-does-keyerror-insert-ip-mean", "title": "What does &quot;KeyError: &#39;(insert IP)&#39;&quot; mean?", "body": "<p>I am working with the Violent Python book and there is an error that is stopping me from moving past the first nmap build (pg 40-41). Using Ubuntu 14.04 on a VM. I am inputting 'python nmapScan.py -H 10.50.60.125 -p 21, 1720' in to the terminal. </p>\n\n<pre><code>import nmap\nimport optparse\n\ndef nmapScan(tgtHost,tgtPort):\n    nmScan = nmap.PortScanner()\n    nmScan.scan(tgtHost,tgtPort)\n    state=nmScan[tgtHost]['tcp'][int(tgtPort)]['state']\n    print \"[*] \" + tgtHost + \" tcp/\"+tgtPort +\" \"+state\n\ndef main():\n    parser = optparse.OptionParser('usage %prog '+\\\n                                   '-H &lt;target host&gt; -p &lt;target port&gt;')\n    parser.add_option('-H', dest='tgtHost', type='string',\\\n                      help='specify target host')\n    parser.add_option('-p', dest='tgtPort', type='string',\\\n                      help='specify target port[s] separated by comma')\n\n    (options, args) = parser.parse_args()\n\n    tgtHost = options.tgtHost\n    tgtPorts = str(options.tgtPort).split(',')\n\n    if (tgtHost == None) | (tgtPorts[0] == None):\n        print parser.usage\n        exit(0)\n    for tgtPort in tgtPorts:\n        nmapScan(tgtHost, tgtPort)\n\n\nif __name__ == '__main__':\n    main()\n</code></pre>\n\n<p>Here is the error:</p>\n\n<pre><code>File \"nmapScan.py\", line 24, in &lt;module&gt;\n    main()\nFile \"nmapScan.py\", line 21, in main\n    nmapScan(tgtHost, tgtPort)\nFile \"nmapScan.py\", line 7, in nmapScan\n    state = nmScan[tgtHost]['tcp'][int(tgtPort)]['state']\nFile \"build/bdist.linux-x86_64/egg/nmap/nmap.py\", line 567, in __getitem__\nKeyError:'10.50.60.125'\n</code></pre>\n"}, {"tags": ["python", "gevent", "gevent-socketio"], "comments": [{"owner": {"reputation": 13257, "user_id": 248922, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/b55c30cff18b13e2176c1359654ebf1c?s=128&d=identicon&r=PG&f=1", "display_name": "RickyA", "link": "https://stackoverflow.com/users/248922/rickya"}, "edited": false, "score": 2, "creation_date": 1426722442, "post_id": 29133561, "comment_id": 46494950, "body": "1. write/read from a shared file. 2. use raw sockets 3. make one (or both) accept http calls 4. use a message queue like zeromq 5. have them share memory"}, {"owner": {"reputation": 13257, "user_id": 248922, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/b55c30cff18b13e2176c1359654ebf1c?s=128&d=identicon&r=PG&f=1", "display_name": "RickyA", "link": "https://stackoverflow.com/users/248922/rickya"}, "edited": false, "score": 0, "creation_date": 1426722504, "post_id": 29133561, "comment_id": 46494972, "body": "read this: <a href=\"http://en.wikipedia.org/wiki/Inter-process_communication\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Inter-process_communication</a>"}, {"owner": {"reputation": 4332, "user_id": 304179, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/50ff1a6bb356c8f162acb27f393800f6?s=128&d=identicon&r=PG", "display_name": "dube", "link": "https://stackoverflow.com/users/304179/dube"}, "reply_to_user": {"reputation": 13257, "user_id": 248922, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/b55c30cff18b13e2176c1359654ebf1c?s=128&d=identicon&r=PG&f=1", "display_name": "RickyA", "link": "https://stackoverflow.com/users/248922/rickya"}, "edited": false, "score": 0, "creation_date": 1426757717, "post_id": 29133561, "comment_id": 46505669, "body": "@RickyA thanks, I know that there are many options. What I wonder is what is a straightforward solution when the programs are already using gevent and gevent-socketio and will reuse some of the motion events and trigger events to listening clients (over socketio). Since you mentioned zeromq I assume gevent-zeromq integration would make sense then (the one that also is mentioned in the linked question). However, I seldomly find statements on wether the techniques work over program borders or between threads of a single program."}, {"owner": {"reputation": 4332, "user_id": 304179, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/50ff1a6bb356c8f162acb27f393800f6?s=128&d=identicon&r=PG", "display_name": "dube", "link": "https://stackoverflow.com/users/304179/dube"}, "reply_to_user": {"reputation": 13257, "user_id": 248922, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/b55c30cff18b13e2176c1359654ebf1c?s=128&d=identicon&r=PG&f=1", "display_name": "RickyA", "link": "https://stackoverflow.com/users/248922/rickya"}, "edited": false, "score": 0, "creation_date": 1426758326, "post_id": 29133561, "comment_id": 46506005, "body": "I updated the question, I hope that makes it more clear what my concerns are (no doubt I could come up with &quot;a solution&quot; without help, but I would like it to be &quot;not stupid&quot;)"}], "owner": {"reputation": 4332, "user_id": 304179, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/50ff1a6bb356c8f162acb27f393800f6?s=128&d=identicon&r=PG", "display_name": "dube", "link": "https://stackoverflow.com/users/304179/dube"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1223, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1426758211, "creation_date": 1426716164, "last_edit_date": 1495540616, "question_id": 29133561, "link": "https://stackoverflow.com/questions/29133561/how-to-let-two-python-scripts-talking-to-each-other", "title": "How to let two python scripts talking to each other", "body": "<p>I have a gevent-socketio server program (similar to the <a href=\"https://github.com/abourget/gevent-socketio/tree/master/examples/simple_chat\" rel=\"nofollow noreferrer\">simple-chat-example</a>) running. There is a second python script on the same machine, which does motion detection and also runs endlessly. \nI want to let them both talk to each other and in some cases the gevent-socketio server will trigger events for his client upon recieving a message from the motion-detection.</p>\n\n<p>The machine is a RasperryPi, running Raspian Linux and I'm using python 2.7 (v3 is also available).</p>\n\n<ol>\n<li>How would I connect the two scripts, so they can send messages to each other?</li>\n<li>Is the answer in <a href=\"https://stackoverflow.com/questions/22691736/how-can-i-write-a-socket-server-in-a-different-thread-from-my-main-program-usin\">this SO Question</a> the way to go? </li>\n<li>Does this zmq work with multiple programs or is it only for multiple threads in single program?</li>\n<li>In general, what is the \"best\" solution, when both scripts run on the same machine (considering the fact that gevent is already used in both programs)?</li>\n</ol>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 4701, "user_id": 1770601, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/pp9hI.jpg?s=128&g=1", "display_name": "ha9u63ar", "link": "https://stackoverflow.com/users/1770601/ha9u63ar"}, "edited": false, "score": 0, "creation_date": 1426717702, "post_id": 29133556, "comment_id": 46493381, "body": "what are you looking for actually? Is this your curiousity or you have an intended operation in mind?"}], "answers": [{"comments": [{"owner": {"reputation": 119882, "user_id": 3545273, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/RDWxl.png?s=128&g=1", "display_name": "Serge Ballesta", "link": "https://stackoverflow.com/users/3545273/serge-ballesta"}, "edited": false, "score": 0, "creation_date": 1426716715, "post_id": 29133623, "comment_id": 46493017, "body": "Are you really sure ?"}, {"owner": {"reputation": 1990, "user_id": 270559, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/739807324ccaeb2e0c488dee6b7b30a4?s=128&d=identicon&r=PG", "display_name": "SSS", "link": "https://stackoverflow.com/users/270559/sss"}, "edited": false, "score": 0, "creation_date": 1426716733, "post_id": 29133623, "comment_id": 46493027, "body": "I have a text file that contains some binary data in there.  The binary data has somewhere in there a byte (0x90) that throws a UnicodeDecodeError.  It fails at the for loop, hence I&#39;m leaved to believe that somehow the line &quot;for line in f&quot; is reading the entire file first."}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "reply_to_user": {"reputation": 119882, "user_id": 3545273, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/RDWxl.png?s=128&g=1", "display_name": "Serge Ballesta", "link": "https://stackoverflow.com/users/3545273/serge-ballesta"}, "edited": false, "score": 0, "creation_date": 1426717769, "post_id": 29133623, "comment_id": 46493405, "body": "Such a loop does not necessarily load the entire file into memory first. See the link that I added to the answer. As far as how much of a file is actually loaded into memory at a time, see @Serge&#39;s answer. For very small files, it may look at the whole file and/or look at more than one line."}], "tags": [], "owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "is_accepted": false, "score": 0, "last_activity_date": 1426717411, "last_edit_date": 1495540457, "creation_date": 1426716422, "answer_id": 29133623, "question_id": 29133556, "link": "https://stackoverflow.com/questions/29133556/does-for-line-in-file-read-entire-file/29133623#29133623", "title": "Does for line in File read entire file", "body": "<p>It works with one line at a time instead of reading the whole thing into memory at once. That's why it's <a href=\"https://stackoverflow.com/questions/17246260/python-readlines-usage-and-efficient-practice-for-reading\">recommended so often</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 1990, "user_id": 270559, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/739807324ccaeb2e0c488dee6b7b30a4?s=128&d=identicon&r=PG", "display_name": "SSS", "link": "https://stackoverflow.com/users/270559/sss"}, "edited": false, "score": 0, "creation_date": 1426719845, "post_id": 29133823, "comment_id": 46494109, "body": "so basically what I&#39;m trying to do is read a file and when I come across binary data which is preceded by a header that specifies the number of bytes of the binary data, I want to skip over these binary data using the f.seek call but now I understand I cannot do this since I don&#39;t know where my file pointer is."}, {"owner": {"reputation": 119882, "user_id": 3545273, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/RDWxl.png?s=128&g=1", "display_name": "Serge Ballesta", "link": "https://stackoverflow.com/users/3545273/serge-ballesta"}, "reply_to_user": {"reputation": 1990, "user_id": 270559, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/739807324ccaeb2e0c488dee6b7b30a4?s=128&d=identicon&r=PG", "display_name": "SSS", "link": "https://stackoverflow.com/users/270559/sss"}, "edited": false, "score": 0, "creation_date": 1426720110, "post_id": 29133823, "comment_id": 46494185, "body": "@SSS: unfortunately Python has not the equivalent of C <code>fread</code> that allows binary reads synchronized with <code>fgets</code> that gets lines. You will have to implement it by hand reading file with <code>read</code> and looking yourself in the buffer for end of line."}], "tags": [], "owner": {"reputation": 119882, "user_id": 3545273, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/RDWxl.png?s=128&g=1", "display_name": "Serge Ballesta", "link": "https://stackoverflow.com/users/3545273/serge-ballesta"}, "is_accepted": false, "score": 4, "last_activity_date": 1426718802, "last_edit_date": 1426718802, "creation_date": 1426717306, "answer_id": 29133823, "question_id": 29133556, "link": "https://stackoverflow.com/questions/29133556/does-for-line-in-file-read-entire-file/29133823#29133823", "title": "Does for line in File read entire file", "body": "<p>You cannot be sure. All you can know is that it will <strong>return</strong> one line at a time. The <a href=\"https://docs.python.org/2/library/stdtypes.html#file-objects\" rel=\"nofollow\">Python Standard Library documentation</a> says :\n<em>In order to make a for loop the most efficient way of looping over the lines of a file (a very common operation), the next() method uses a hidden read-ahead buffer. As a consequence of using a read-ahead buffer, combining next() with other file methods (like readline()) does not work right</em>.</p>\n\n<p>My understanding is that the read-ahead buffer loads a full chunk (undetermined size) and looks for end of line in that buffer. But for a small file (few ko), you can be sure that there will be only one physical read. I once tried to put a <code>read</code> after getting first line with <code>next</code> on a small file (about 50 lines) and found the file pointer at end of file.</p>\n\n<p>Of course for a really big file, it will be read <em>physically</em> one chunk at a time, and python memory will use one single line at a time. So it will be far more conservative than <code>readlines()</code>. But afterall, on <em>common</em> systems (Unix-like, Mac OS or Windows) the underlying read system call on a <strong>file</strong>(*) has no notion of end of line and can only read a (maximum) number of bytes. So there is no way on those systems to <strong>physically</strong> read up to an end of line, <strong>whatever language you use</strong>. You can only have utilities that load an internal buffer and then look for the end of line in that buffer. That's what <code>next()</code> method does for a file object in Python.</p>\n\n<p>After your comments, I understand that you try to get only first line. You can do it with :</p>\n\n<pre><code>line = f.next()\n</code></pre>\n\n<p>But do not try to use any <code>read</code> method after that because as I explained above the file pointer may be far beyond the end of first line.</p>\n\n<p>(*) it would not be the same when reading from a console or a terminal device ...</p>\n"}, {"comments": [{"owner": {"reputation": 269348, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "edited": false, "score": 0, "creation_date": 1426717652, "post_id": 29133878, "comment_id": 46493365, "body": "That will <i>for sure</i> read the entire file at once. I think the desired outcome is the opposite."}, {"owner": {"reputation": 1990, "user_id": 270559, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/739807324ccaeb2e0c488dee6b7b30a4?s=128&d=identicon&r=PG", "display_name": "SSS", "link": "https://stackoverflow.com/users/270559/sss"}, "edited": false, "score": 0, "creation_date": 1426717674, "post_id": 29133878, "comment_id": 46493372, "body": "In this case I want to read a single line at a time and not all the lines."}, {"owner": {"reputation": 4701, "user_id": 1770601, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/pp9hI.jpg?s=128&g=1", "display_name": "ha9u63ar", "link": "https://stackoverflow.com/users/1770601/ha9u63ar"}, "reply_to_user": {"reputation": 1990, "user_id": 270559, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/739807324ccaeb2e0c488dee6b7b30a4?s=128&d=identicon&r=PG", "display_name": "SSS", "link": "https://stackoverflow.com/users/270559/sss"}, "edited": false, "score": 0, "creation_date": 1426717765, "post_id": 29133878, "comment_id": 46493404, "body": "@SSS            then your initial solution works, and yes it buffers the entire file before reading each line in the loop"}, {"owner": {"reputation": 4701, "user_id": 1770601, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/pp9hI.jpg?s=128&g=1", "display_name": "ha9u63ar", "link": "https://stackoverflow.com/users/1770601/ha9u63ar"}, "reply_to_user": {"reputation": 1990, "user_id": 270559, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/739807324ccaeb2e0c488dee6b7b30a4?s=128&d=identicon&r=PG", "display_name": "SSS", "link": "https://stackoverflow.com/users/270559/sss"}, "edited": false, "score": 0, "creation_date": 1426717916, "post_id": 29133878, "comment_id": 46493451, "body": "@SSS            If you just want to read one line at a time, why do you care if Python reads the entire file before looping through each line or not? Can you clarify what your limitations are rather than poking one by one?"}, {"owner": {"reputation": 1990, "user_id": 270559, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/739807324ccaeb2e0c488dee6b7b30a4?s=128&d=identicon&r=PG", "display_name": "SSS", "link": "https://stackoverflow.com/users/270559/sss"}, "edited": false, "score": 0, "creation_date": 1426717935, "post_id": 29133878, "comment_id": 46493458, "body": "@ha9u63ar the solution works but not the way I envisioned it.  I expected it to read a single line at a time but it seems to be reading all the lines."}, {"owner": {"reputation": 4701, "user_id": 1770601, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/pp9hI.jpg?s=128&g=1", "display_name": "ha9u63ar", "link": "https://stackoverflow.com/users/1770601/ha9u63ar"}, "reply_to_user": {"reputation": 1990, "user_id": 270559, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/739807324ccaeb2e0c488dee6b7b30a4?s=128&d=identicon&r=PG", "display_name": "SSS", "link": "https://stackoverflow.com/users/270559/sss"}, "edited": false, "score": 0, "creation_date": 1426718068, "post_id": 29133878, "comment_id": 46493510, "body": "@SSS           you have already got your answer in the question itself. Yes it reads one line at a time in the loop. Also, the documentation link I provided tells you about that."}], "tags": [], "owner": {"reputation": 4701, "user_id": 1770601, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/pp9hI.jpg?s=128&g=1", "display_name": "ha9u63ar", "link": "https://stackoverflow.com/users/1770601/ha9u63ar"}, "is_accepted": false, "score": -2, "last_activity_date": 1426717568, "creation_date": 1426717568, "answer_id": 29133878, "question_id": 29133556, "link": "https://stackoverflow.com/questions/29133556/does-for-line-in-file-read-entire-file/29133878#29133878", "title": "Does for line in File read entire file", "body": "<p>You can do either that or this:</p>\n\n<pre><code>f = open(' a file');\n\ns = f.readlines(): # Read all lines, no looping\n</code></pre>\n\n<p>This is mentioned in <a href=\"https://docs.python.org/2/tutorial/inputoutput.html\" rel=\"nofollow\">Python docs</a>. There is also this <code>list(f)</code> that makes you list the lines as items in a list</p>\n"}, {"tags": [], "owner": {"reputation": 269348, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "is_accepted": false, "score": 0, "last_activity_date": 1426779172, "creation_date": 1426779172, "answer_id": 29148765, "question_id": 29133556, "link": "https://stackoverflow.com/questions/29133556/does-for-line-in-file-read-entire-file/29148765#29148765", "title": "Does for line in File read entire file", "body": "<p>If all you need to do is read a single line, and it's followed by binary data, you will need to open the file in binary mode anyway. It's easy then to emulate what Python does when it reads a line: read into a temporary buffer and search for the linefeed character. I'm assuming the text is in an 8-bit ASCII-compatible encoding. You'll need to choose some reasonable maximum line length for <code>max_line_size</code> or the algorithm gets a lot more complicated.</p>\n\n<pre><code>with open(filename, 'rb') as f:\n    buffer = f.read(max_line_size)\n    len = buffer.find(b'\\n')\n    if len &lt; 0:\n        raise RuntimeError('Line in file too long')\n    line = buffer[:len]\n    line = line.decode()\n    f.seek(len + 1)\n</code></pre>\n"}], "owner": {"reputation": 1990, "user_id": 270559, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/739807324ccaeb2e0c488dee6b7b30a4?s=128&d=identicon&r=PG", "display_name": "SSS", "link": "https://stackoverflow.com/users/270559/sss"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1129, "favorite_count": 0, "answer_count": 4, "score": 2, "last_activity_date": 1426779172, "creation_date": 1426716147, "last_edit_date": 1426717853, "question_id": 29133556, "link": "https://stackoverflow.com/questions/29133556/does-for-line-in-file-read-entire-file", "title": "Does for line in File read entire file", "body": "<p>Does the following code read one line for each loop or does it read the entire file into memory first before beginning the iteration?</p>\n\n<pre><code>for line in f:\n    print(line)\n</code></pre>\n\n<p>My intentions are to read a single line from the file.</p>\n"}, {"tags": ["python", "opencv", "numpy"], "answers": [{"comments": [{"owner": {"reputation": 167, "user_id": 4103988, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/b888765e875a1554ad996068f0e42439?s=128&d=identicon&r=PG&f=1", "display_name": "Adam C", "link": "https://stackoverflow.com/users/4103988/adam-c"}, "edited": false, "score": 0, "creation_date": 1426717049, "post_id": 29133644, "comment_id": 46493147, "body": "Thanks, but what is not working in my code, I just applied this example to another of my projects I am working on. Sorry if I should have been more clear."}], "tags": [], "owner": {"reputation": 35699, "user_id": 2056772, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/574eff69e66401997eecd2ac405053c1?s=128&d=identicon&r=PG", "display_name": "berak", "link": "https://stackoverflow.com/users/2056772/berak"}, "is_accepted": false, "score": 1, "last_activity_date": 1426716519, "creation_date": 1426716519, "answer_id": 29133644, "question_id": 29133530, "link": "https://stackoverflow.com/questions/29133530/opencv-in-python-manipulating-pixels/29133644#29133644", "title": "OpenCV in Python - Manipulating pixels", "body": "<p>rule one with opencv/python: <strong>never</strong> iterate over pixels, if you can avoid it !</p>\n\n<p>if you wanted to set all of the pixels to (1,2,3), it's as easy as:</p>\n\n<pre><code>image[::] = (1,2,3)\n</code></pre>\n\n<p>for 'all white':</p>\n\n<pre><code>image[::] = (255,255,255)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11909, "user_id": 2476444, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/czrJP.png?s=128&g=1", "display_name": "Oliver W.", "link": "https://stackoverflow.com/users/2476444/oliver-w"}, "is_accepted": true, "score": 1, "last_activity_date": 1426717049, "creation_date": 1426717049, "answer_id": 29133762, "question_id": 29133530, "link": "https://stackoverflow.com/questions/29133530/opencv-in-python-manipulating-pixels/29133762#29133762", "title": "OpenCV in Python - Manipulating pixels", "body": "<p>Aside from the valid suggestion made by @berak, if this is code that you wrote to get to learn the library you want to use, then you've made 2 mistakes:</p>\n\n<ol>\n<li>You forgot to reset the <code>yPos</code> row index counter after the inner while loop</li>\n<li>You switched the order of <code>xPos, yPos</code> in <code>itemset</code>.</li>\n</ol>\n\n<p>I guess that your image did change, but it's only on the first row, which you might not see if you don't zoom in. If you change your code like this, it works:</p>\n\n<pre><code>import cv2\nimport numpy as np\n\nimage = cv2.imread(\"testimage.jpg\") #Load image\n\nimageWidth = image.shape[1] #Get image width\nimageHeight = image.shape[0] #Get image height\n\nxPos, yPos = 0, 0\n\nwhile xPos &lt; imageWidth: #Loop through rows\n    while yPos &lt; imageHeight: #Loop through collumns\n\n        image.itemset((yPos, xPos, 0), 255) #Set B to 255\n        image.itemset((yPos, xPos, 1), 255) #Set G to 255\n        image.itemset((yPos, xPos, 2), 255) #Set R to 255\n\n        yPos = yPos + 1 #Increment Y position by 1\n\n    yPos = 0\n    xPos = xPos + 1 #Increment X position by 1\n\ncv2.imwrite(\"result.bmp\", image) #Write image to file\n</code></pre>\n\n<p>Note that I would also not recommend iterating over an image pixel by pixel, as mentioned before.</p>\n"}], "owner": {"reputation": 167, "user_id": 4103988, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/b888765e875a1554ad996068f0e42439?s=128&d=identicon&r=PG&f=1", "display_name": "Adam C", "link": "https://stackoverflow.com/users/4103988/adam-c"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5456, "favorite_count": 0, "accepted_answer_id": 29133762, "answer_count": 2, "score": 1, "last_activity_date": 1426717144, "creation_date": 1426716036, "last_edit_date": 1426717144, "question_id": 29133530, "link": "https://stackoverflow.com/questions/29133530/opencv-in-python-manipulating-pixels", "title": "OpenCV in Python - Manipulating pixels", "body": "<p>I am using python 2.7 and OpenCV to set an image to all white pixels, but it is not working.</p>\n\n<p>Here is my code:</p>\n\n<pre><code>import cv2\nimport numpy as np\n\nimage = cv2.imread(\"strawberry.jpg\") #Load image\n\nimageWidth = image.shape[1] #Get image width\nimageHeight = image.shape[0] #Get image height\n\nxPos = 0\nyPos = 0\n\nwhile xPos &lt; imageWidth: #Loop through rows\n    while yPos &lt; imageHeight: #Loop through collumns\n\n        image.itemset((xPos, yPos, 0), 255) #Set B to 255\n        image.itemset((xPos, yPos, 1), 255) #Set G to 255\n        image.itemset((xPos, yPos, 2), 255) #Set R to 255\n\n        yPos = yPos + 1 #Increment Y position by 1\n    xPos = xPos + 1 #Increment X position by 1\n\ncv2.imwrite(\"result.bmp\", image) #Write image to file\n\nprint \"Done\"\n</code></pre>\n\n<p>I use numpy to set the pixels of the image - but the result.bmp is an exact copy of the original image.</p>\n\n<p>What am I doing wrong?</p>\n\n<p>EDIT:</p>\n\n<p>I know it is a bad idea to iterate over pixels, but what is the non functioning part of my code?</p>\n"}, {"tags": ["python", "pandas", "scikit-learn"], "comments": [{"owner": {"reputation": 7154, "user_id": 1470749, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/wyXz0.jpg?s=128&g=1", "display_name": "101", "link": "https://stackoverflow.com/users/1470749/101"}, "edited": false, "score": 1, "creation_date": 1426716008, "post_id": 29133495, "comment_id": 46492712, "body": "Can&#39;t tell from the code you&#39;ve posted but it looks like you&#39;re trying to pass an invalid string to be converted to a float."}, {"owner": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "edited": false, "score": 1, "creation_date": 1426716085, "post_id": 29133495, "comment_id": 46492747, "body": "Can you post the <code>df.info()</code> for <code>df[columns]</code> and <code>y</code>, they need to be numeric"}], "owner": {"reputation": 11, "user_id": 4062521, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3694f13001c102754c64688bd1add87?s=128&d=identicon&r=PG&f=1", "display_name": "K_R_", "link": "https://stackoverflow.com/users/4062521/k-r"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 354, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1426715902, "creation_date": 1426715902, "question_id": 29133495, "link": "https://stackoverflow.com/questions/29133495/test-train-split-valueerror-invalid-literal-for-float-120", "title": "Test-Train Split: ValueError: invalid literal for float(): 120 +", "body": "<p>Performing a test-train split in Python.</p>\n\n<pre><code>columns=['columns of interest']\nX = df[columns]\ny = df['Response_Variable']\n\nX_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.30, random_state=12345)\n</code></pre>\n\n<p>Consequently, trying to use sklearn's DecisionTreeRegressor</p>\n\n<pre><code>from sklearn.tree import DecisionTreeRegressor\ntreereg = DecisionTreeRegressor(max_depth=2, random_state=1)\ntreereg.fit(X_train, y_train)\n</code></pre>\n\n<p>When running my code, I keep getting a ValueError. I know this is attributed to my datatypes being inconsistent, but would appreciate some clarification on converting my columns (signified by X -- mixture of objects and integers) to produce my desired regression. Thanks.</p>\n"}, {"tags": ["python", "scapy", "vlan"], "answers": [{"tags": [], "owner": {"reputation": 4031, "user_id": 1381638, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/43c53dd30d6ae63f86221e481af72c88?s=128&d=identicon&r=PG", "display_name": "Enno Gr&#246;per", "link": "https://stackoverflow.com/users/1381638/enno-gr%c3%b6per"}, "is_accepted": true, "score": 4, "last_activity_date": 1426716584, "last_edit_date": 1495535642, "creation_date": 1426716584, "answer_id": 29133657, "question_id": 29133482, "link": "https://stackoverflow.com/questions/29133482/scapy-how-to-insert-a-new-layer-802-1q-into-existing-packet/29133657#29133657", "title": "Scapy: How to insert a new layer (802.1q) into existing packet?", "body": "<p>To find the answer, I had a look at <a href=\"https://stackoverflow.com/q/17259592/1381638\">Scapy: Inserting a new layer and logging issues</a>, which is really helpful, but contains some cruft.</p>\n\n<p>My solution for adding a layer, based on the referenced question (add-dot1q_pcap.py):</p>\n\n<pre><code>import sys\nfrom scapy.all import rdpcap, wrpcap, NoPayload, Ether, Dot1Q\n\n# read all packets into buffer\n# WARNING works only for small files\npackets = []\n\nfor packet in rdpcap(sys.argv[1]):\n    # gets the first layer of the current packet\n    layer = packet.firstlayer()\n    # loop over the layers\n    while not isinstance(layer, NoPayload):\n        if 'chksum' in layer.default_fields:\n            del layer.chksum\n\n        if (type(layer) is Ether):\n            # adjust ether type\n            layer.type = 33024\n            # add 802.1q layer between Ether and IP\n            dot1q = Dot1Q(vlan=42)\n            dot1q.add_payload(layer.payload)\n            layer.remove_payload()\n            layer.add_payload(dot1q)\n            layer = dot1q\n\n        # advance to the next layer\n        layer = layer.payload\n    packets.append(packet)\n\nwrpcap(sys.argv[2], packets)\n</code></pre>\n\n<p>The script adds a vlan tag with vlan id 42.</p>\n\n<p>Usage: <code>./add-dot1q_pcap.py &lt;source_file&gt; &lt;output_file&gt;</code></p>\n"}], "owner": {"reputation": 4031, "user_id": 1381638, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/43c53dd30d6ae63f86221e481af72c88?s=128&d=identicon&r=PG", "display_name": "Enno Gr&#246;per", "link": "https://stackoverflow.com/users/1381638/enno-gr%c3%b6per"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7240, "favorite_count": 0, "accepted_answer_id": 29133657, "answer_count": 1, "score": 5, "last_activity_date": 1523861759, "creation_date": 1426715871, "last_edit_date": 1523861759, "question_id": 29133482, "link": "https://stackoverflow.com/questions/29133482/scapy-how-to-insert-a-new-layer-802-1q-into-existing-packet", "title": "Scapy: How to insert a new layer (802.1q) into existing packet?", "body": "<p>I have a packet dump and want to inject a vlan tag (802.1q header) to the packets.<br>\nHow to do that?</p>\n"}, {"tags": ["python", "python-2.7", "pyomo"], "answers": [{"tags": [], "owner": {"reputation": 71, "user_id": 4895423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e89db287d8ba9b869484dc9b1067144?s=128&d=identicon&r=PG&f=1", "display_name": "jmse", "link": "https://stackoverflow.com/users/4895423/jmse"}, "is_accepted": false, "score": 1, "last_activity_date": 1431518065, "creation_date": 1431518065, "answer_id": 30214058, "question_id": 29133456, "link": "https://stackoverflow.com/questions/29133456/pyomo-output-error/30214058#30214058", "title": "Pyomo output error", "body": "<p>You have the following typo in <code>FlowBalance_rule</code></p>\n\n<pre><code>sum(model.Flow[node, j] for j in model.Nodes if (j,node) in model.Arcs)\n</code></pre>\n\n<p>where the indexing <code>model.Flow[node,j]</code> and the conditional <code>if (j,node) in model.Arcs</code> are causing the error. </p>\n\n<p>I'm assuming that you want to flip the order of the conditional tuple, the following works</p>\n\n<pre><code>def FlowBalance_rule(model, node):\n    return model.Supply[node] \\\n        + sum(model.Flow[i, node] for i in model.Nodes if (i,node) in model.Arcs) \\\n        - model.Demand[node] \\\n        - sum(model.Flow[node, j] for j in model.Nodes if (node,j) in model.Arcs) \\\n        == 0\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 4687389, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d498d8f6e2ae7601e43f092c46a7c46c?s=128&d=identicon&r=PG&f=1", "display_name": "Mike Kehoe", "link": "https://stackoverflow.com/users/4687389/mike-kehoe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 997, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1546886519, "creation_date": 1426715780, "last_edit_date": 1471992885, "question_id": 29133456, "link": "https://stackoverflow.com/questions/29133456/pyomo-output-error", "title": "Pyomo output error", "body": "<p>I am using pyomo package for implementing an optimization problem.  I was trying one of the example problems provided in pyomo online documentation. But, I am getting error when I was trying to solve it.</p>\n\n<p>The python code used:</p>\n\n<pre><code>from __future__ import division\nfrom pyomo.environ import *\n\nmodel = AbstractModel()\n\nmodel.Nodes = Set()\nmodel.Arcs = Set(dimen=2)\n\nmodel.Flow = Var(model.Arcs, domain=NonNegativeReals)\nmodel.FlowCost = Param(model.Arcs)\nmodel.Demand = Param(model.Nodes)\nmodel.Supply = Param(model.Nodes)\n\ndef Obj_rule(model):\n    return summation(model.FlowCost, model.Flow)\n\nmodel.Obj = Objective(rule=Obj_rule, sense=minimize)\n\n\ndef FlowBalance_rule(model, node):\n    return model.Supply[node] \\\n        + sum(model.Flow[i, node] for i in model.Nodes if (i,node) in model.Arcs) \\\n        - model.Demand[node] \\\n        - sum(model.Flow[node, j] for j in model.Nodes if (j,node) in model.Arcs) \\\n        == 0\n\nmodel.FlowBalance = Constraint(model.Nodes, rule=FlowBalance_rule)\n</code></pre>\n\n<p>And, the data file is:</p>\n\n<pre><code>set Nodes := CityA CityB CityC ;\nset Arcs :=\nCityA CityB\nCityA CityC\nCityC CityB\n;\nparam : FlowCost :=\nCityA CityB 1.4\nCityA CityC 2.7\nCityC CityB 1.6\n;\nparam Demand :=\nCityA 0\nCityB 1\nCityC 1\n;\nparam Supply :=\nCityA 2\nCityB 0\nCityC 0\n;\n</code></pre>\n\n<p>When I try to solve this, I am getting the following error.</p>\n\n<pre><code>[    0.00] Setting up Pyomo environment\n[    0.00] Applying Pyomo preprocessing actions\n[    0.01] Creating model\nERROR: Rule failed when generating expression for constraint FlowBalance with index CityB:\n        KeyError: \"Error accessing indexed component: Index '('CityB', 'CityC')' is not valid for array component 'Flow'\"\nERROR: Constructing component 'FlowBalance' from data=None failed:\n        KeyError: \"Error accessing indexed component: Index '('CityB', 'CityC')' is not valid for array component 'Flow'\"\nERROR: Unexpected exception while running model test.py:\n        Error accessing indexed component: Index '('CityB', 'CityC')' is not valid for array component 'Flow'\n</code></pre>\n"}, {"tags": ["python", "google-app-engine"], "answers": [{"comments": [{"owner": {"reputation": 7, "user_id": 4687386, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f3ff1f64a63c9a075e144511ddd0e5a?s=128&d=identicon&r=PG&f=1", "display_name": "Kathleen Juliff", "link": "https://stackoverflow.com/users/4687386/kathleen-juliff"}, "edited": false, "score": 0, "creation_date": 1426724101, "post_id": 29134666, "comment_id": 46495387, "body": "I tried that and can successfully upload. However I get a 500 error when trying to load the site."}, {"owner": {"reputation": 7, "user_id": 4687386, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f3ff1f64a63c9a075e144511ddd0e5a?s=128&d=identicon&r=PG&f=1", "display_name": "Kathleen Juliff", "link": "https://stackoverflow.com/users/4687386/kathleen-juliff"}, "edited": false, "score": 0, "creation_date": 1426724143, "post_id": 29134666, "comment_id": 46495398, "body": "I think I need to re-enable the source site/app, but cannot."}, {"owner": {"reputation": 757655, "user_id": 95810, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e8d5fe90f1fe2148bf130cccd4dc311c?s=128&d=identicon&r=PG", "display_name": "Alex Martelli", "link": "https://stackoverflow.com/users/95810/alex-martelli"}, "reply_to_user": {"reputation": 7, "user_id": 4687386, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f3ff1f64a63c9a075e144511ddd0e5a?s=128&d=identicon&r=PG&f=1", "display_name": "Kathleen Juliff", "link": "https://stackoverflow.com/users/4687386/kathleen-juliff"}, "edited": false, "score": 0, "creation_date": 1426727166, "post_id": 29134666, "comment_id": 46496166, "body": "@KathleenJuliff, as I also answered you on google groups, you should be able to visit newappid.appspot.com (not oldappid.appspot.com as you disabled it).  It&#39;s really hard to split the attempt to offer you support between two separate and different channels, you know!"}, {"owner": {"reputation": 757655, "user_id": 95810, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e8d5fe90f1fe2148bf130cccd4dc311c?s=128&d=identicon&r=PG", "display_name": "Alex Martelli", "link": "https://stackoverflow.com/users/95810/alex-martelli"}, "reply_to_user": {"reputation": 7, "user_id": 4687386, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f3ff1f64a63c9a075e144511ddd0e5a?s=128&d=identicon&r=PG&f=1", "display_name": "Kathleen Juliff", "link": "https://stackoverflow.com/users/4687386/kathleen-juliff"}, "edited": false, "score": 0, "creation_date": 1426802886, "post_id": 29134666, "comment_id": 46532464, "body": "@KathleenJuliff, happy to hear this -- then please <b>accept</b> the answer (click on the checkmark-shaped outline to its left), a key bit of StackOverflow etiquette!"}, {"owner": {"reputation": 7, "user_id": 4687386, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f3ff1f64a63c9a075e144511ddd0e5a?s=128&d=identicon&r=PG&f=1", "display_name": "Kathleen Juliff", "link": "https://stackoverflow.com/users/4687386/kathleen-juliff"}, "edited": false, "score": 0, "creation_date": 1426817185, "post_id": 29134666, "comment_id": 46536840, "body": "Thanks @Alex Martelli - I hope I clicked the accept answer as you were correct. Please let me know. However I am still seeing the old applicationh. I am not getting errors - which I did get until I followed your advice, but I cannot update my site and am getting a notice when I go to appengine, that I have an old version of Python. I am at a loss."}, {"owner": {"reputation": 757655, "user_id": 95810, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e8d5fe90f1fe2148bf130cccd4dc311c?s=128&d=identicon&r=PG", "display_name": "Alex Martelli", "link": "https://stackoverflow.com/users/95810/alex-martelli"}, "reply_to_user": {"reputation": 7, "user_id": 4687386, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f3ff1f64a63c9a075e144511ddd0e5a?s=128&d=identicon&r=PG&f=1", "display_name": "Kathleen Juliff", "link": "https://stackoverflow.com/users/4687386/kathleen-juliff"}, "edited": false, "score": 0, "creation_date": 1426827979, "post_id": 29134666, "comment_id": 46539438, "body": "@KathleenJuliff, quite correctly we&#39;re pursuing that on a separate stackoverflow Q, so please let&#39;s keep the discussion to that one channel -- please stop posting new issues identically to multiple channels (multiple SO Qs and/or google groups), it&#39;s really making me waste a <i>lot</i> of time and energy trying to help you out!"}, {"owner": {"reputation": 7, "user_id": 4687386, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f3ff1f64a63c9a075e144511ddd0e5a?s=128&d=identicon&r=PG&f=1", "display_name": "Kathleen Juliff", "link": "https://stackoverflow.com/users/4687386/kathleen-juliff"}, "edited": false, "score": 0, "creation_date": 1426916795, "post_id": 29134666, "comment_id": 46576126, "body": "I am not sure what you are talking about @Alex Martelli.   No need for you to waste your time. My questions were related but not identical. Sorry about your loss of time an energy."}], "tags": [], "owner": {"reputation": 757655, "user_id": 95810, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e8d5fe90f1fe2148bf130cccd4dc311c?s=128&d=identicon&r=PG", "display_name": "Alex Martelli", "link": "https://stackoverflow.com/users/95810/alex-martelli"}, "is_accepted": true, "score": 0, "last_activity_date": 1426721700, "creation_date": 1426721700, "answer_id": 29134666, "question_id": 29133455, "link": "https://stackoverflow.com/questions/29133455/upgrade-to-hrd-and-now-see-old-version-of-my-site/29134666#29134666", "title": "Upgrade to HRD and now see old version of my site", "body": "<p>The app-id of your upgraded HRD version (say <code>newappid</code>) is <strong>different</strong> from the app-id of the previous M/S version (say <code>oldappid</code>) -- although all accesses to <code>oldappid.appspot.com</code> are being aliased to go to <code>newappid.appspot.com</code> instead.</p>\n\n<p>But the <code>application:</code> line in your <code>app.yaml</code> needs to be <code>newappid</code>; the symptoms you report are those you would observe if that <code>application:</code> line was <code>oldappid</code> instead.  Is this indeed the case...?</p>\n"}], "owner": {"reputation": 7, "user_id": 4687386, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f3ff1f64a63c9a075e144511ddd0e5a?s=128&d=identicon&r=PG&f=1", "display_name": "Kathleen Juliff", "link": "https://stackoverflow.com/users/4687386/kathleen-juliff"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 31, "favorite_count": 0, "accepted_answer_id": 29134666, "answer_count": 1, "score": -1, "last_activity_date": 1429374880, "creation_date": 1426715778, "last_edit_date": 1429374880, "question_id": 29133455, "link": "https://stackoverflow.com/questions/29133455/upgrade-to-hrd-and-now-see-old-version-of-my-site", "title": "Upgrade to HRD and now see old version of my site", "body": "<p>I upgraded my google app-engine to high replication data-store. and now I only see an old version of my site.</p>\n\n<p>When I try to upload my local files using <code>appcfg.py</code> I get the error that <code>python27 is only supported for apps using HRD</code>. But I have HRD. If I go back to an earlier version of python I get the error I need to upgrade to python 27. It is a vicious circle.</p>\n\n<p>I can see my site perfectly using <code>localhost:8080</code> and it is current, But I have no way of uploading my site!</p>\n"}, {"tags": ["python", "xml", "python-2.7", "while-loop"], "comments": [{"owner": {"reputation": 33563, "user_id": 274466, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/268c241170c7a112bbc104a8809e293c?s=128&d=identicon&r=PG", "display_name": "ig0774", "link": "https://stackoverflow.com/users/274466/ig0774"}, "edited": false, "score": 0, "creation_date": 1426716450, "post_id": 29133447, "comment_id": 46492898, "body": "You appear to be parsing an xml document as a string... Is there any particular reason not to use an xml parser, e.g., <a href=\"https://docs.python.org/2/library/xml.etree.elementtree.html#module-xml.etree.ElementTree\" rel=\"nofollow noreferrer\">ElementTree</a>?"}], "answers": [{"tags": [], "owner": {"reputation": 1684, "user_id": 4403123, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3d6cb94cda55242f6537bba6d90e09b?s=128&d=identicon&r=PG&f=1", "display_name": "KSFT", "link": "https://stackoverflow.com/users/4403123/ksft"}, "is_accepted": true, "score": 1, "last_activity_date": 1426717671, "creation_date": 1426717671, "answer_id": 29133899, "question_id": 29133447, "link": "https://stackoverflow.com/questions/29133447/variable-not-assigning-value-in-python-in-while-loop/29133899#29133899", "title": "Variable not assigning value in python in while loop", "body": "<p>When you slice <code>xml</code> with <code>xml[ini:]</code>, you're getting just the end of it, meaning that <code>find()</code> is returning the position of the substring in that <em>slice</em> of <code>xml</code>, not all of it. For example, let <code>xml</code> be this:</p>\n\n<pre><code>&lt;loc&gt; blarg &lt;/loc&gt; abcd &lt;loc&gt; text &lt;/loc&gt;\n</code></pre>\n\n<p>Now, <code>find('&lt;loc&gt;')</code> returns <code>0</code>. <code>ini</code> is <code>0</code>, so you capture <code>\" blarg \"</code> and <code>find('&lt;/loc&gt;')</code> returns <code>12</code>. <code>ini</code> is set to <code>12</code>. On the next iteration of the loop, <code>find('&lt;loc&gt;')</code> finds the second <code>\"&lt;loc&gt;\"</code>. You now capture <code>\" text \"</code>. This is where it goes wrong. You slice <code>xml</code> at <code>ini</code> to get <code>\"&lt;/loc&gt; abcd &lt;loc&gt; text &lt;/loc&gt;\"</code>. You call <code>find('&lt;loc&gt;')</code> on that slice, which finds the second <code>\"&lt;loc&gt;\"</code> in <code>xml</code>, which is the first occurrence of that substring in the slice. The problem is that the index of that occurrence in the slice is <code>12</code>, not <code>24</code>, which is what you want. You're missing the first <code>ini</code> characters in the string.</p>\n\n<p>Fortunately, you know how many characters short you are. You need to add <code>ini</code>, which you can do like this:</p>\n\n<pre><code>ini = ini + xml[ini:].find('&lt;/loc&gt;')\n</code></pre>\n\n<p>That, of course, can be shortened to this:</p>\n\n<pre><code>ini += xml[ini:].find('&lt;/loc&gt;')\n</code></pre>\n\n<p>You can fix your problem by adding a single character.</p>\n\n<p>As mentioned in the comments, though, you should really use an XML parser.</p>\n"}, {"tags": [], "owner": {"reputation": 33563, "user_id": 274466, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/268c241170c7a112bbc104a8809e293c?s=128&d=identicon&r=PG", "display_name": "ig0774", "link": "https://stackoverflow.com/users/274466/ig0774"}, "is_accepted": false, "score": 1, "last_activity_date": 1426717971, "creation_date": 1426717971, "answer_id": 29133958, "question_id": 29133447, "link": "https://stackoverflow.com/questions/29133447/variable-not-assigning-value-in-python-in-while-loop/29133958#29133958", "title": "Variable not assigning value in python in while loop", "body": "<p>@KSFT explained this very well. I'll just point out you can eliminate a lot of redundant invocations of <code>find()</code> in your code using something like this:</p>\n\n<pre><code>def refinexml(xml):\n    links = []\n\n    start = xml.find('&lt;loc&gt;')\n    while start != -1:\n        start += 5\n        end = xml.find('&lt;/loc&gt;', start)\n        links.append(xml[start:end].strip())\n        start = xml.find('&lt;loc&gt;', end + 6)\n    return links\n</code></pre>\n\n<p>But, really, you should just use an XML parser, as even this code makes some potentially dangerous assumptions.</p>\n"}], "owner": {"reputation": 374, "user_id": 4687398, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/89f57b2e331711be4b8ed49f7c4d3d8e?s=128&d=identicon&r=PG&f=1", "display_name": "phraniiac", "link": "https://stackoverflow.com/users/4687398/phraniiac"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 36, "favorite_count": 0, "accepted_answer_id": 29133899, "answer_count": 2, "score": 0, "last_activity_date": 1426717971, "creation_date": 1426715752, "question_id": 29133447, "link": "https://stackoverflow.com/questions/29133447/variable-not-assigning-value-in-python-in-while-loop", "title": "Variable not assigning value in python in while loop", "body": "<p>The following code doesn't seems to work. I want the ini variable to increment, and logically the code seems to do so. But, this doesn't work.</p>\n\n<pre><code>def refinexml(xml):\nlinks = []\nini = 0\nwhile xml[ini:].find('&lt;loc&gt;') != -1:\n    links.append(xml[xml[ini:].find('&lt;loc&gt;') + 5:xml[ini:].find('&lt;/loc&gt;')])\n    ini = xml[ini:].find('&lt;/loc&gt;')\n    print ini\nreturn links\n</code></pre>\n"}, {"tags": ["python", "file", "protein-database"], "comments": [{"owner": {"reputation": 11909, "user_id": 2476444, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/czrJP.png?s=128&g=1", "display_name": "Oliver W.", "link": "https://stackoverflow.com/users/2476444/oliver-w"}, "edited": false, "score": 0, "creation_date": 1426716084, "post_id": 29133422, "comment_id": 46492746, "body": "Looks like you&#39;ll be working with numeric data, in which case <a href=\"http://www.numpy.org/\" rel=\"nofollow noreferrer\"><code>numpy</code></a> is the de facto module to use. That or <a href=\"http://pandas.pydata.org/\" rel=\"nofollow noreferrer\"><code>pandas</code></a>, which is built on top of <code>numpy</code>. Have a look at <a href=\"http://docs.scipy.org/doc/numpy/user/basics.io.genfromtxt.html\" rel=\"nofollow noreferrer\"><code>np.genfromtxt</code></a>, which eats such delimited files for breakfast. Also, if you mention &quot;nothing seem to work&quot;, it&#39;s a good idea on StackOverflow to show what you have tried and what errors you get..."}, {"owner": {"reputation": 1045, "user_id": 385833, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/91151954581b81dc91448e642eb44c19?s=128&d=identicon&r=PG", "display_name": "Kyle_S-C", "link": "https://stackoverflow.com/users/385833/kyle-s-c"}, "edited": false, "score": 2, "creation_date": 1426719605, "post_id": 29133422, "comment_id": 46494051, "body": "There are lots of Python packages out there which already handle PDBs. Check out <a href=\"http://biopython.org/wiki/Main_Page\" rel=\"nofollow noreferrer\">BioPython</a>, <a href=\"https://simtk.org/home/openmm\" rel=\"nofollow noreferrer\">OpenMM</a> or <a href=\"http://openbabel.org/wiki/Python\" rel=\"nofollow noreferrer\">OpenBabel</a>.  Alternatively, if you&#39;re sure that your PDBs are going to be in the correct format then you can use <a href=\"http://www.rcsb.org/pdb/static.do?p=file_formats/pdb/index.html\" rel=\"nofollow noreferrer\">the specification</a> and pick out the relevant bits of each line."}, {"owner": {"reputation": 1045, "user_id": 385833, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/91151954581b81dc91448e642eb44c19?s=128&d=identicon&r=PG", "display_name": "Kyle_S-C", "link": "https://stackoverflow.com/users/385833/kyle-s-c"}, "reply_to_user": {"reputation": 11909, "user_id": 2476444, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/czrJP.png?s=128&g=1", "display_name": "Oliver W.", "link": "https://stackoverflow.com/users/2476444/oliver-w"}, "edited": false, "score": 0, "creation_date": 1426720048, "post_id": 29133422, "comment_id": 46494166, "body": "I should add that PDB files from the databank get complicated too (different chain IDs, B factors, multiple possible atom positions) and the packages listed above seem to have <code>numpy</code> support, which is the standard, as @OliverW. suggests."}], "answers": [{"tags": [], "owner": {"reputation": 4731, "user_id": 1716866, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/411da970ac5de2f1a0d66a10741b0e9c?s=128&d=identicon&r=PG", "display_name": "leekaiinthesky", "link": "https://stackoverflow.com/users/1716866/leekaiinthesky"}, "is_accepted": true, "score": 0, "last_activity_date": 1426765606, "creation_date": 1426765606, "answer_id": 29143749, "question_id": 29133422, "link": "https://stackoverflow.com/questions/29133422/extract-columns-from-a-protein-data-bank-pdb-text-file/29143749#29143749", "title": "Extract Columns from a Protein Data Bank (PDB) Text File", "body": "<p>Going off of @Kyle_S-C's recommendation, here's a way to do it using Biopython.</p>\n\n<p>First read your file into a Biopython <code>Structure</code> object:</p>\n\n<pre><code>import Bio.PDB\npath = '/path/to/PDB/file' # your file path here\np = Bio.PDB.PDBParser()\nstructure = p.get_structure('myStructureName', path)\n</code></pre>\n\n<p>Then, for example, you can get a list of just the Atom ids like this:</p>\n\n<pre><code>ids = [a.get_id() for a in structure.get_atoms()]\n</code></pre>\n\n<p>See the <a href=\"http://biopython.org/wiki/The_Biopython_Structural_Bioinformatics_FAQ\" rel=\"nofollow\">Biopython Structural Bioinformatics FAQ</a> for more, including the following methods for accessing the PDB columns for an Atom:</p>\n\n<blockquote>\n  <p><strong>How do I extract information from an Atom object?</strong></p>\n  \n  <p>Using the following methods:</p>\n\n<pre><code># a.get_name()           # atom name (spaces stripped, e.g. 'CA')\n# a.get_id()             # id (equals atom name)\n# a.get_coord()          # atomic coordinates\n# a.get_vector()         # atomic coordinates as Vector object\n# a.get_bfactor()        # isotropic B factor\n# a.get_occupancy()      # occupancy\n# a.get_altloc()         # alternative location specifier\n# a.get_sigatm()         # std. dev. of atomic parameters\n# a.get_siguij()         # std. dev. of anisotropic B factor\n# a.get_anisou()         # anisotropic B factor\n# a.get_fullname()       # atom name (with spaces, e.g. '.CA.')\n</code></pre>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 4868863, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/77a513ba3620cbc0f95931eec83ad899?s=128&d=identicon&r=PG", "display_name": "sabrinawang", "link": "https://stackoverflow.com/users/4868863/sabrinawang"}, "is_accepted": false, "score": 1, "last_activity_date": 1430905915, "last_edit_date": 1430905915, "creation_date": 1430883180, "answer_id": 30066996, "question_id": 29133422, "link": "https://stackoverflow.com/questions/29133422/extract-columns-from-a-protein-data-bank-pdb-text-file/30066996#30066996", "title": "Extract Columns from a Protein Data Bank (PDB) Text File", "body": "<p>The Protein Data Bank (pdb) file format is a textual file format describing the three-dimensional structures of molecules held in the Protein Data Bank. The pdb format accordingly provides for description and annotation of protein and nucleic acid structures including atomic coordinates, observed sidechain rotamers , secondary structure assignments, as well as atomic connectivity.I find this on google.</p>\n\n<p>As for extracting column, you also can find the answer on google or wiki.</p>\n"}, {"tags": [], "owner": {"reputation": 13, "user_id": 5846114, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xUxGGAmhapk/AAAAAAAAAAI/AAAAAAAAAng/-HSIxvE-N_g/photo.jpg?sz=128", "display_name": "Pranav Khade", "link": "https://stackoverflow.com/users/5846114/pranav-khade"}, "is_accepted": false, "score": 0, "last_activity_date": 1604544177, "creation_date": 1604544177, "answer_id": 64690482, "question_id": 29133422, "link": "https://stackoverflow.com/questions/29133422/extract-columns-from-a-protein-data-bank-pdb-text-file/64690482#64690482", "title": "Extract Columns from a Protein Data Bank (PDB) Text File", "body": "<p>This tutorial might help: <a href=\"https://py-packman.readthedocs.io/en/latest/tutorials/molecule.html#tutorials-molecule\" rel=\"nofollow noreferrer\">https://py-packman.readthedocs.io/en/latest/tutorials/molecule.html#tutorials-molecule</a></p>\n<pre><code>from packman import molecule\n\nProtein = molecule.load_structure('/path/to/PDB/file.pdb')\n#molecule.download_structure('1prw','1prw.pdb') if you want to download PDB file 1prw.pdb\n\n\nfor i in Protein[0].get_atoms():\n    #Iterating over atom objects (parent= residue)\n    print(i.get_name(), i.get_id(), i.get_location(), i.get_parent().get_name())\n</code></pre>\n<p>Provided above are way to get name of the atoms ie.. i.get_name(), id of the atoms ie.. i.get_id() etc.</p>\n<p>It is possible to extract all the components of the PDB file. Please read the PACKMAN documentation for the details.</p>\n<p>Disclosure: Author of the package py-packman</p>\n"}], "owner": {"reputation": 279, "user_id": 2656280, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/651c0d390dbd4efc78ef54bcd08883fe?s=128&d=identicon&r=PG", "display_name": "Djamillah", "link": "https://stackoverflow.com/users/2656280/djamillah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1761, "favorite_count": 2, "accepted_answer_id": 29143749, "answer_count": 3, "score": 1, "last_activity_date": 1604544177, "creation_date": 1426715676, "last_edit_date": 1426767308, "question_id": 29133422, "link": "https://stackoverflow.com/questions/29133422/extract-columns-from-a-protein-data-bank-pdb-text-file", "title": "Extract Columns from a Protein Data Bank (PDB) Text File", "body": "<p>I want to make a plot with Matplotlib in Python and therefore read some data from a PDB-file (protein data bank). I want to extract every column from the file and store these columns in separate vectors. The PDB-file consists of columns with both text and floats. I'm very new to Matplotlib and I have tried several methods suggested to extract these columns, but nothing seem to work. What would be the best way to extract these columns? I'm going to load a lot of data in a later stage, so it's good if the method isn't too inefficient.</p>\n\n<p>The PDB-files looks something like this:</p>\n\n<pre><code>ATOM      1  CA  MET A   1      38.012   8.932  -1.253\nATOM      2  CA  GLU A   2      39.809   5.652  -1.702\nATOM      3  CA  ALA A   3      43.007   5.013   0.368\nATOM      4  CA  ALA A   4      41.646   7.577   2.820\nATOM      5  CA  HIS A   5      42.611   4.898   5.481\nATOM      6  CA  SER A   6      46.191   5.923   5.090\nATOM      7  CA  LYS A   7      45.664   9.815   5.134\nATOM      8  CA  SER A   8      45.898  12.022   8.181\nATOM      9  CA  THR A   9      42.528  13.075   9.570\nATOM     10  CA  GLU A  10      43.330  16.633   8.378\nATOM     11  CA  GLU A  11      44.171  15.729   4.757\nATOM     12  CA  CYS A  12      40.589  14.150   4.745\nATOM     13  CA  LEU A  13      38.984  17.314   6.105\nATOM     14  CA  ALA A  14      40.633  19.053   3.220\nATOM     15  CA  TYR A  15      39.740  16.682   0.505\nATOM     16  CA  PHE A  16      36.138  17.421   1.566\nATOM     17  CA  GLY A  17      36.536  20.854   2.826\nATOM     18  CA  VAL A  18      34.184  20.012   5.553\nATOM     19  CA  SER A  19      34.483  20.966   9.177\n</code></pre>\n"}, {"tags": ["python", "r", "random", "pandas"], "comments": [{"owner": {"reputation": 26167, "user_id": 736937, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/b3ccac435e2fd4eb9be62da7830d887c?s=128&d=identicon&r=PG", "display_name": "jedwards", "link": "https://stackoverflow.com/users/736937/jedwards"}, "edited": false, "score": 1, "creation_date": 1426715290, "post_id": 29133315, "comment_id": 46492406, "body": "What about shuffling the rows (or indices) then every time you need an element for X, pop one off the shuffled result?"}, {"owner": {"reputation": 661312, "user_id": 3732271, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee6e12042dc31b1ef27471482f9ff91f?s=128&d=identicon&r=PG&f=1", "display_name": "akrun", "link": "https://stackoverflow.com/users/3732271/akrun"}, "edited": false, "score": 1, "creation_date": 1426715292, "post_id": 29133315, "comment_id": 46492409, "body": "In R, try <code>matrix(sample(50, 5*5, replace=FALSE), ncol=5)</code>"}], "answers": [{"tags": [], "owner": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "is_accepted": true, "score": 1, "last_activity_date": 1426715854, "creation_date": 1426715854, "answer_id": 29133471, "question_id": 29133315, "link": "https://stackoverflow.com/questions/29133315/selecting-data-from-dataframe-randomly-but-do-not-repeat/29133471#29133471", "title": "Selecting data from dataframe randomly but do not REPEAT", "body": "<pre><code>In [64]:\n\nnp.random.choice(np.arange(1,51), (5,5), replace=False)\nOut[64]:\narray([[18, 35, 20, 39,  7],\n       [27, 41, 26, 30, 14],\n       [47, 23, 17, 40, 38],\n       [34,  6,  3, 42, 31],\n       [48, 49, 16, 15,  1]])\n</code></pre>\n\n<p>You can then pass this to the df constructor:</p>\n\n<pre><code>In [65]:\n\npd.DataFrame(np.random.choice(np.arange(1,51), (5,5), replace=False))\nOut[65]:\n    0   1   2   3   4\n0  35  41  38  50  26\n1  24  34  14   2  29\n2   8  43  25  17  49\n3  30   5  40   6  21\n4  20  11  31  33  23\n</code></pre>\n"}], "owner": {"reputation": 247, "user_id": 3369382, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/2b33110253b2c22c1340152548b02289?s=128&d=identicon&r=PG&f=1", "display_name": "MlolM", "link": "https://stackoverflow.com/users/3369382/mlolm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "accepted_answer_id": 29133471, "answer_count": 1, "score": 1, "last_activity_date": 1426715854, "creation_date": 1426715102, "question_id": 29133315, "link": "https://stackoverflow.com/questions/29133315/selecting-data-from-dataframe-randomly-but-do-not-repeat", "title": "Selecting data from dataframe randomly but do not REPEAT", "body": "<p>If I have a dataframe such as number from 1 to 50, then I need '<code>X</code>' sets of number, each set contains '<code>Y</code>' random numbers. And the number could not be REPEAT.  </p>\n\n<p>For example, <code>X =5 and Y=5</code></p>\n\n<pre><code>X1 1, 8, 12, 17, 16\nX2 9, 22, 45, 47, 23\nX3 13, 19, 21, 34, 50\nX4 46, 49, 29, 38, 11 \nX5 33, 26, 14, 7, 6\n</code></pre>\n\n<p>Does anyone know how could I do this by python Pandas or random package or by R?</p>\n"}, {"tags": ["python", "loops", "xpath"], "answers": [{"tags": [], "owner": {"reputation": 12620, "user_id": 4687135, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/386484f527a8df3c1fdd3e2dde112533?s=128&d=identicon&r=PG", "display_name": "Eric Renouf", "link": "https://stackoverflow.com/users/4687135/eric-renouf"}, "is_accepted": true, "score": 1, "last_activity_date": 1426715389, "creation_date": 1426715389, "answer_id": 29133373, "question_id": 29133306, "link": "https://stackoverflow.com/questions/29133306/python-perform-requests-function-call-in-loop/29133373#29133373", "title": "Python perform Requests Function Call in Loop?", "body": "<p>I suspect that you have line endings (\\n) at the end of the lines in the files, and you may need to strip those off. otherwise your URL becomes something like </p>\n\n<pre><code>http://192.168.3.152\n/cgi-bin/dynamic/printer/config/reports/deviceinfo.html\"\n</code></pre>\n\n<p>instead of the intended</p>\n\n<pre><code>http://192.168.3.152/cgi-bin/dynamic/printer/config/reports/deviceinfo.html\"\n</code></pre>\n"}], "owner": {"reputation": 232, "user_id": 3893213, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/oKHX7.jpg?s=128&g=1", "display_name": "SudoGaron", "link": "https://stackoverflow.com/users/3893213/sudogaron"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 595, "favorite_count": 0, "accepted_answer_id": 29133373, "answer_count": 1, "score": 0, "last_activity_date": 1426715389, "creation_date": 1426715082, "question_id": 29133306, "link": "https://stackoverflow.com/questions/29133306/python-perform-requests-function-call-in-loop", "title": "Python perform Requests Function Call in Loop?", "body": "<p>Script below is successful in pulling the right information from a single IP(url_ip). But after trying to build a looping process the requests call falls over with connection errors. (errors below)\n*NOTE - sloppy code so be warned.</p>\n\n<pre><code>from lxml import html\nimport requests\nimport smtplib\n\n# STATIC URL\n#TODO PULL A LIST OF IP ADDRESSES AND BUILD THE URL FOR EACH SYSTEM\n\n#IPs = ['192.168.3.152','192.168.3.194']\n\ndef crawler(url_ip):\n    global eqid, counter, serial\n    print \"Starting Crawler Service for: \" + url_ip\n    url = \"http://\" + url_ip + \"/cgi-bin/dynamic/printer/config/reports/deviceinfo.html\"\n    urleqid = \"http://\" + url_ip + \"/cgi-bin/dynamic/topbar.html\"\n\n    response = requests.get(url)\n    tree = html.fromstring(response.text)\n\n    counter = tree.xpath('//td[contains(p,\"Count\")]/following-sibling::td/p/text()')\n    serial = tree.xpath('//td[contains(p, \"Serial\")]/following-sibling::td/p/text()')\n    counter = counter[0].split(' ')[3]\n    serial = serial[0].split(' ')[3]\n\n    responseeqid = requests.get(urleqid)\n    treeequid = html.fromstring(responseeqid.text)\n    eqid = treeequid.xpath('//descendant-or-self::node()/child::b[contains(., \"Location\")]/text()')[1].split(' ')[-1]\n\n    print \" -- equipment id found: \" + eqid\n    print \" -- count found: \" + counter\n    print \" -- serial found: \" + serial\n    print \"Stopping Crawler Service for: \" + url_ip\n\n    return\n\ndef send_mail(eqid,counter,serial):\n    GMAIL_USERNAME = \"removed\"\n    GMAIL_PASSWORD = \"removed\"\n\n    recipient = \"removed\"\n    email_subject = \"Test\"\n    body_of_email = \"Equipment ID = \" + eqid + \"&lt;br&gt;Total Meter Count = \" + counter + \"&lt;br&gt;Serial Number = \" + serial + \"&lt;br&gt;&lt;br&gt;\"\n\n    session = smtplib.SMTP('smtp.gmail.com', 587)\n    session.ehlo()\n    session.starttls()\n    session.login(GMAIL_USERNAME, GMAIL_PASSWORD)\n\n    headers = \"\\r\\n\".join([\"from: \" + GMAIL_USERNAME,\n                        \"subject: \" + email_subject,\n                        \"to: \" + recipient,\n                        \"mime-version: 1.0\",\n                        \"content-type: text/html\"])\n\n    # body_of_email can be plain text or html!                    \n    content = headers + \"\\r\\n\\r\\n\" + body_of_email\n    session.sendmail(GMAIL_USERNAME, recipient, content)\n    return\n\nwith open('iplist.txt') as fp:\n    for line in fp:\n        crawler(line);\n\n#send_mail(eqid,counter,serial);\n</code></pre>\n\n<p><strong>ERROR LOG:</strong></p>\n\n<pre><code>Starting Crawler Service for: 192.168.3.152\n\nTraceback (most recent call last):\n  File \"getmeters.py\", line 63, in &lt;module&gt;\n    crawler(ipstring);\n  File \"getmeters.py\", line 17, in crawler\n    response = requests.get(url)\n  File \"/Library/Python/2.7/site-packages/requests/api.py\", line 68, in get\n    return request('get', url, **kwargs)\n  File \"/Library/Python/2.7/site-packages/requests/api.py\", line 50, in request\n    response = session.request(method=method, url=url, **kwargs)\n  File \"/Library/Python/2.7/site-packages/requests/sessions.py\", line 464, in request\n    resp = self.send(prep, **send_kwargs)\n  File \"/Library/Python/2.7/site-packages/requests/sessions.py\", line 576, in send\n    r = adapter.send(request, **kwargs)\n  File \"/Library/Python/2.7/site-packages/requests/adapters.py\", line 415, in send\n    raise ConnectionError(err, request=request)\nrequests.exceptions.ConnectionError: ('Connection aborted.', gaierror(8, 'nodename nor servname provided, or not known'))\n</code></pre>\n\n<p>I thought it was due to the value \"line\" being processed as a list object and not a string, so I converted to str(line) and that failed as well.</p>\n"}, {"tags": ["python", "django", "smtplib"], "owner": {"reputation": 679, "user_id": 3477266, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/6c347c86dc88117c3f7d9d3e568f80cd?s=128&d=identicon&r=PG&f=1", "display_name": "luislhl", "link": "https://stackoverflow.com/users/3477266/luislhl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 102, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1426715033, "creation_date": 1426715033, "question_id": 29133291, "link": "https://stackoverflow.com/questions/29133291/django-emailmessage-not-raising-exception-when-only-one-of-two-recipients-fail", "title": "Django: EmailMessage not raising exception when only one of two recipients fail", "body": "<p>I have a piece of code similar to this:</p>\n\n<pre><code>from django.core.mail import EmailMessage\nfrom smtplib import SMTPException\ntry:\n    email = EmailMessage(subject, body, \"noreply@myserver.com.br\", recipients)\n    email.content_subtype = 'html'\n    email.send(fail_silently=False)\nexcept SMTPException as e:\n    print e.recipients\n</code></pre>\n\n<p>If I set <code>recipients = [\"foo@myserver.com.br\"]</code>, the server responds with a \"unknown user\" message, and the exception is raised.</p>\n\n<p>But if I set <code>recipients = [\"foo@myserver.com.br\", \"bar@myserver.com.br\"]</code>, the message is delivered to bar@myserver.com.br, which is an existing user, but no exception is raised because of foo being an unexistent user.</p>\n\n<p>Is there a way to raise the exception if at least one of the recipients fails?</p>\n"}, {"tags": ["python", "tcp", "zeromq", "pyzmq"], "owner": {"reputation": 117, "user_id": 3882926, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/105dc377d8ee0faee62f46492d2ebcd3?s=128&d=identicon&r=PG&f=1", "display_name": "scordata", "link": "https://stackoverflow.com/users/3882926/scordata"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 504, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1426779034, "creation_date": 1426714627, "last_edit_date": 1426779034, "question_id": 29133189, "link": "https://stackoverflow.com/questions/29133189/zeromq-pub-sub-tcp-dropping-messages-subscriber-failing", "title": "ZeroMQ PUB SUB TCP Dropping Messages Subscriber Failing", "body": "<p>I've built ZeroMQ from source on my Manjaro Linux machine following the instructions on the github page. All tests pass.</p>\n\n<p>Basically, </p>\n\n<pre><code>./autogen\n./configure\n./make\n./make install\n./make check\n</code></pre>\n\n<p>I'm running the weather station example from the guide in Python, and using tcp to send/receive messages from ly laptop to my PC over my home WiFi. </p>\n\n<p>Server: </p>\n\n<pre><code>#\n#   Weather update server\n#   Binds PUB socket to tcp://*:5556\n#   Publishes random weather updates\n#\n\nimport zmq\nfrom random import randrange\n\ncontext = zmq.Context()\nsocket = context.socket(zmq.PUB)\nsocket.bind(\"tcp://*:5556\")\n\nwhile True:\n    zipcode = 10001\n    temperature = randrange(-80, 135)\n    relhumidity = randrange(10, 60)\n\n    socket.send_string(\"%i %i %i\" % (zipcode, temperature, relhumidity))\n</code></pre>\n\n<p>Client:</p>\n\n<pre><code>#\n#   Weather update client\n#   Connects SUB socket to tcp://localhost:5556\n#   Collects weather updates and finds avg temp in zipcode\n#\n\nimport sys\nimport zmq\n\n#  Socket to talk to server\ncontext = zmq.Context()\nsocket = context.socket(zmq.SUB)\n\nprint(\"Collecting updates from weather server\u2026\")\nsocket.connect(\"tcp://192.168.1.2:5556\")\n\n# Subscribe to zipcode, default is NYC, 10001\nzip_filter = sys.argv[1] if len(sys.argv) &gt; 1 else \"10001\"\n\n# Python 2 - ascii bytes to unicode str\nif isinstance(zip_filter, bytes):\n    zip_filter = zip_filter.decode('ascii')\nsocket.setsockopt_string(zmq.SUBSCRIBE, zip_filter)\n\n# Process 5 updates\ntotal_temp = 0\nfor update_nbr in range(500):\n    string = socket.recv_string()\n    zipcode, temperature, relhumidity = string.split()\n    total_temp += int(temperature)\n\nprint(\"Average temperature for zipcode '%s' was %dF\" % (\n      zip_filter, total_temp / update_nbr)\n)\n</code></pre>\n\n<p>Occasionally, messages sent from the publisher will not be detected by the subscriber, and the subscriber will sit and wait for the next message to come in. The publisher will keep sending messages, but once the subscriber fails to receive it will not receive any further messages. I've found that restarting the publisher will cause the subscriber to start receiving messages again.</p>\n\n<p>I can understand a message being dropped, but can anyone explain to me why once that occurs the subscriber fails to receive further messages? Did I build this improperly? </p>\n\n<p>I believe this may be a build problem because when I run the same example code in a docker based on an install with apt-get, I never lose any of the messages and it never seems to fail. I need to rebuild because I actually want to use NORM eventually.</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["python", "text", "random", "indexing", "line-by-line"], "comments": [{"owner": {"reputation": 1684, "user_id": 4403123, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3d6cb94cda55242f6537bba6d90e09b?s=128&d=identicon&r=PG&f=1", "display_name": "KSFT", "link": "https://stackoverflow.com/users/4403123/ksft"}, "edited": false, "score": 0, "creation_date": 1426714713, "post_id": 29133151, "comment_id": 46492118, "body": "What exactly do you want to do? Do you want to randomly choose one of those three lists? Do you want to choose a random element from each list?"}, {"owner": {"reputation": 2742, "user_id": 1273742, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/1532488d461ac02eadf868565829b520?s=128&d=identicon&r=PG", "display_name": "hyades", "link": "https://stackoverflow.com/users/1273742/hyades"}, "edited": false, "score": 0, "creation_date": 1426714745, "post_id": 29133151, "comment_id": 46492133, "body": "what do you mean by <code>The text file is basically a list </code>"}], "answers": [{"tags": [], "owner": {"reputation": 1671, "user_id": 4669462, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/03fub.jpg?s=128&g=1", "display_name": "logic", "link": "https://stackoverflow.com/users/4669462/logic"}, "is_accepted": false, "score": 0, "last_activity_date": 1426715129, "last_edit_date": 1426715129, "creation_date": 1426714743, "answer_id": 29133214, "question_id": 29133151, "link": "https://stackoverflow.com/questions/29133151/how-to-read-a-text-file-by-line-in-python/29133214#29133214", "title": "How to read a text file by line in python", "body": "<p>Use Python's <strong>file.readLines()</strong> method:</p>\n\n<pre><code>with open(\"file_name.txt\") as f:\n    prefix = f.readlines()\n</code></pre>\n\n<p>Now you should be able to iterate through the list <code>prefix</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 23, "user_id": 4687278, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-9M0AO4nfyTw/AAAAAAAAAAI/AAAAAAAAAPo/WNlFwesfBRU/photo.jpg?sz=128", "display_name": "Francis Brady", "link": "https://stackoverflow.com/users/4687278/francis-brady"}, "edited": false, "score": 0, "creation_date": 1426716908, "post_id": 29133311, "comment_id": 46493100, "body": "That helped completely. the first section works perfectly.   If i wanted to search 2 lists then how does the second section work?"}, {"owner": {"reputation": 1684, "user_id": 4403123, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3d6cb94cda55242f6537bba6d90e09b?s=128&d=identicon&r=PG&f=1", "display_name": "KSFT", "link": "https://stackoverflow.com/users/4403123/ksft"}, "reply_to_user": {"reputation": 23, "user_id": 4687278, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-9M0AO4nfyTw/AAAAAAAAAAI/AAAAAAAAAPo/WNlFwesfBRU/photo.jpg?sz=128", "display_name": "Francis Brady", "link": "https://stackoverflow.com/users/4687278/francis-brady"}, "edited": false, "score": 0, "creation_date": 1426718287, "post_id": 29133311, "comment_id": 46493579, "body": "@FrancisBrady <code>lists</code> is a list of lists to choose from."}], "tags": [], "owner": {"reputation": 1684, "user_id": 4403123, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3d6cb94cda55242f6537bba6d90e09b?s=128&d=identicon&r=PG&f=1", "display_name": "KSFT", "link": "https://stackoverflow.com/users/4403123/ksft"}, "is_accepted": true, "score": 0, "last_activity_date": 1426715094, "creation_date": 1426715094, "answer_id": 29133311, "question_id": 29133151, "link": "https://stackoverflow.com/questions/29133151/how-to-read-a-text-file-by-line-in-python/29133311#29133311", "title": "How to read a text file by line in python", "body": "<p>I'm not sure I completely understand what you're asking, but I'll try to help.</p>\n\n<ul>\n<li><p>If you're trying to choose a random line from a file, you can use <a href=\"https://docs.python.org/2/library/functions.html#open\" rel=\"nofollow\"><code>open()</code></a>, then <a href=\"https://docs.python.org/2/library/stdtypes.html#file.readlines\" rel=\"nofollow\"><code>readlines()</code></a>, then <a href=\"https://docs.python.org/2/library/random.html#random.choice\" rel=\"nofollow\"><code>random.choice()</code></a>:</p>\n\n<pre><code>import random\nline = random.choice(open(\"file\").readlines())\n</code></pre></li>\n<li><p>If you're trying to choose a random element from each of three lists, you can use <a href=\"https://docs.python.org/2/library/random.html#random.choice\" rel=\"nofollow\"><code>random.choice()</code></a>:</p>\n\n<pre><code>import random\nchoices=[random.choice(i) for i in lists]\n</code></pre>\n\n<p><code>lists</code> is a list of lists to choose from here.</p></li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 23, "user_id": 4687278, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-9M0AO4nfyTw/AAAAAAAAAAI/AAAAAAAAAPo/WNlFwesfBRU/photo.jpg?sz=128", "display_name": "Francis Brady", "link": "https://stackoverflow.com/users/4687278/francis-brady"}, "is_accepted": false, "score": 0, "last_activity_date": 1426719775, "creation_date": 1426719775, "answer_id": 29134309, "question_id": 29133151, "link": "https://stackoverflow.com/questions/29133151/how-to-read-a-text-file-by-line-in-python/29134309#29134309", "title": "How to read a text file by line in python", "body": "<p>Those answers have helped me grab things from a list in a text file. as you can see in my code below. But I have three lists as text files and I am trying to generate a 4 word message randomly, choosing from the 'prefix' and 'suprafix' list for the first 3 words and 'suffix' file for the fourth word but I want to prevent it, when printing them, from picking a word that was already chosen by the random.choice function</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>import random\r\n\r\na= random.random\r\n\r\nprefix = open('prefix.txt','r').readlines()\r\n\r\nsuprafix = open('suprafix.txt','r').readlines()\r\n\r\nsuffix = open('suffix.txt','r').readlines()\r\n\r\nprint (random.choice(prefix + suprafix), random.choice(prefix + suprafix), random.choice(prefix + suprafix), random.choice(suffix))</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>as you can see it chooses randomly from those 2 lists for 3 words</p>\n"}], "owner": {"reputation": 23, "user_id": 4687278, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-9M0AO4nfyTw/AAAAAAAAAAI/AAAAAAAAAPo/WNlFwesfBRU/photo.jpg?sz=128", "display_name": "Francis Brady", "link": "https://stackoverflow.com/users/4687278/francis-brady"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 197, "favorite_count": 0, "accepted_answer_id": 29133311, "answer_count": 3, "score": 1, "last_activity_date": 1426719775, "creation_date": 1426714477, "last_edit_date": 1426714540, "question_id": 29133151, "link": "https://stackoverflow.com/questions/29133151/how-to-read-a-text-file-by-line-in-python", "title": "How to read a text file by line in python", "body": "<p>I want to randomly retrieve and print a whole line from a text file. </p>\n\n<p>The text file is basically a list and so each item on that list needs to be searched. </p>\n\n<pre><code>import random\n\na= random.random\n\nprefix = [\"CYBER-\", \"up-\", \"down-\", \"joy-\"]\n\nsuprafix = [\"with\", \"in\", \"by\", \"who\", \"thus\", \"what\"]\n\nsuffix = [\"boy\", \"girl\", \"bread\", \"hippy\", \"box\", \"christ\"]\n\nprint (random.choice(prefix), random.choice(suprafix), random.choice(prefix), random.choice(suffix))\n</code></pre>\n\n<p>this is my code for if i were to just manually input it into a list but i can't seem to find how to use an array or index to capture line by line the text and use that </p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 1684, "user_id": 4403123, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3d6cb94cda55242f6537bba6d90e09b?s=128&d=identicon&r=PG&f=1", "display_name": "KSFT", "link": "https://stackoverflow.com/users/4403123/ksft"}, "edited": false, "score": 0, "creation_date": 1426714738, "post_id": 29133147, "comment_id": 46492129, "body": "Is this Python 2 or Python 3? Also, what values do those variables have before that code is run? Try printing them and posting their values."}, {"owner": {"reputation": 11203, "user_id": 353278, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/8778b468a414406fde451816ac48e8e2?s=128&d=identicon&r=PG", "display_name": "Jeff", "link": "https://stackoverflow.com/users/353278/jeff"}, "edited": false, "score": 2, "creation_date": 1426714779, "post_id": 29133147, "comment_id": 46492150, "body": "Can you use scipy? Saves you from reinventing the wheel... <a href=\"http://docs.scipy.org/doc/scipy/reference/generated/scipy.stats.linregress.html\" rel=\"nofollow noreferrer\">docs.scipy.org/doc/scipy/reference/generated/&hellip;</a>"}], "owner": {"reputation": 19, "user_id": 4542380, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/e29b5decd479a64d710d7df96b832786?s=128&d=identicon&r=PG&f=1", "display_name": "J Y", "link": "https://stackoverflow.com/users/4542380/j-y"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 44, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1426714660, "creation_date": 1426714463, "last_edit_date": 1426714660, "question_id": 29133147, "link": "https://stackoverflow.com/questions/29133147/how-do-i-calculate-the-coefficient-of-r-square", "title": "How do I calculate the coefficient of R square?", "body": "<p>I'm trying to calculate the coefficient of R square using the formula below. This is a statistical means of determining how well our regression equation fits the data provided. </p>\n\n<pre><code>R^2 = { ( 1 / N ) * \u03a3 [ (xi - x) * (yi - y) ] / (\u03c3x * \u03c3y ) }^2\n</code></pre>\n\n<p>Use this to plug in the last equation above</p>\n\n<pre><code>\u03c3x = sqrt [ \u03a3 ( xi - x )2 / N ] \n\u03c3y = sqrt [ \u03a3 ( yi - y )2 / N ] \n</code></pre>\n\n<p>xi is the value of x from the dataset<br>\nyi is the value of y from the dataset<br>\nx is the average value of x data<br>\ny is the average of y data<br>\nn is the number of data points in the dataset<br>\n\u03c3x is the standard deviation of the x values<br>\n\u03c3y is the standard deviation of the y values  </p>\n\n<p>Below is my code. I get 1589, when I believe it should be around 0 to 1. Maybe my code is incorrect somewhere. Don't worry about the xi and yi.</p>\n\n<pre><code>sum3 = (x[i] - xaverage)\nsum4 = (y[i] - yaverage)\nsum5 = math.sqrt(sum3 * sum3)\nsum6 = math.sqrt(sum4 * sum4)\nvar1 = (1 / len(x and y)* (sum3) * (sum4))\nvar2 = sum5 / len(x and y) \nvar3 = sum6 / len(x and y)\nvar4 = var2 * var3 * var2 * var3\nRsquare = var1 / var4\nprint(\"This is the coefficient of R square:\", Rsquare)\n</code></pre>\n\n<p>Thanks for your help!</p>\n"}, {"tags": ["python", "xml"], "answers": [{"tags": [], "owner": {"reputation": 705380, "user_id": 190597, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/aabc98d5c6482ca0e1405ec97710f30a?s=128&d=identicon&r=PG&f=1", "display_name": "unutbu", "link": "https://stackoverflow.com/users/190597/unutbu"}, "is_accepted": true, "score": 1, "last_activity_date": 1426715032, "creation_date": 1426715032, "answer_id": 29133290, "question_id": 29133103, "link": "https://stackoverflow.com/questions/29133103/python-sports-xml-parsing/29133290#29133290", "title": "Python sports XML parsing", "body": "<p>Use</p>\n\n<pre><code>root.findall('.//pro_team')\n</code></pre>\n\n<p>instead of <code>root.findall('pro_team')</code> to find all <code>&lt;pro_team&gt;</code> elements under <code>root</code>. <code>root.findall('pro_team')</code> returns an empty list because there is no <code>&lt;pro_team&gt;</code> element which is a <em>direct child</em> of <code>root</code>.</p>\n\n<p>Also, <code>team.get</code> is used to retrieve <em>attributes</em> of the <code>team</code>. The nickname is\nnot an attribute<sup>1</sup>; it is a child element. So use <code>team.find('nickname')</code> instead.</p>\n\n<hr>\n\n<p><sup>1</sup>If nickname were an attribute, the XML would look like</p>\n\n<pre><code>&lt;pro_team nickname=\"Spurs\"&gt;...&lt;/pro_team&gt;\n</code></pre>\n\n<p>instead of </p>\n\n<pre><code>&lt;pro_team&gt;&lt;nickname&gt;Spurs&lt;/nickname&gt;&lt;/pro_team&gt;\n</code></pre>\n\n<hr>\n\n<pre><code>import urllib2\nimport xml.etree.ElementTree as ET\n\nurl = 'http://api.cbssports.com/fantasy/pro-teams?version=3.0&amp;SPORT=basketball'\nrequest = urllib2.Request(url)\n\ntry:\n    response = urllib2.urlopen(request)\n    tree = ET.parse(response)\n    root = tree.getroot()\n    for team in root.findall('.//pro_team'):\n        nickname = team.find('nickname').text\n        print nickname\nexcept URLError, e:\n    print 'error:', e\n</code></pre>\n"}], "owner": {"reputation": 701, "user_id": 2007843, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/eb1e32c61d2047d1b4e8c3cdac6d9cb4?s=128&d=identicon&r=PG", "display_name": "user2007843", "link": "https://stackoverflow.com/users/2007843/user2007843"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "accepted_answer_id": 29133290, "answer_count": 1, "score": 0, "last_activity_date": 1426715032, "creation_date": 1426714280, "question_id": 29133103, "link": "https://stackoverflow.com/questions/29133103/python-sports-xml-parsing", "title": "Python sports XML parsing", "body": "<p>I am trying to print the attributes from each of the pro teams in the following XML file <a href=\"http://api.cbssports.com/fantasy/pro-teams/?version=3.0&amp;SPORT=basketball\" rel=\"nofollow\">http://api.cbssports.com/fantasy/pro-teams/?version=3.0&amp;SPORT=basketball</a></p>\n\n<p>For now I am just trying to display the nicknames but that's not even working</p>\n\n<p>Heres my code</p>\n\n<pre><code>from urllib2 import Request, urlopen, URLError\nimport xml.etree.ElementTree as ET\n\nrequest = Request('http://api.cbssports.com/fantasy/pro-teams?version=3.0&amp;SPORT=basketball')\n\ntry:\n    response = urlopen(request)\n    tree = ET.parse(response)\n    root = tree.getroot()\n    for team in root.findall('pro_team'):\n      nickname = team.get('nickname')\n      print nickname\nexcept URLError, e:\nprint 'error:', e\n</code></pre>\n"}, {"tags": ["python", "flask", "pycharm"], "comments": [{"owner": {"reputation": 15081, "user_id": 978961, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9562cbc3556ac68f081dfda387a9f4ab?s=128&d=identicon&r=PG", "display_name": "dirn", "link": "https://stackoverflow.com/users/978961/dirn"}, "edited": false, "score": 0, "creation_date": 1426722840, "post_id": 29133077, "comment_id": 46495063, "body": "It&#39;s really hard to tell what you&#39;re doing. Does &quot;app(directory) &gt; tmp(directory) &gt; run.py(file)&quot; mean that you have <code>app&#47;tmp&#47;run.py</code>? Or does it mean that app, tmp, and run.py all live inside the same directory? You may also want to include contents of your files so that <a href=\"http://stackoverflow.com/help/mcve\">people can try to recreate the problem</a>."}, {"owner": {"reputation": 189, "user_id": 4589212, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/268af7374151aa3c48a9b91023fb4649?s=128&d=identicon&r=PG&f=1", "display_name": "Johnathan", "link": "https://stackoverflow.com/users/4589212/johnathan"}, "reply_to_user": {"reputation": 15081, "user_id": 978961, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9562cbc3556ac68f081dfda387a9f4ab?s=128&d=identicon&r=PG", "display_name": "dirn", "link": "https://stackoverflow.com/users/978961/dirn"}, "edited": false, "score": 0, "creation_date": 1426737672, "post_id": 29133077, "comment_id": 46498607, "body": "@dirn -(Inside Directory and Project file) Project1/run.py Project1/tmp Project 1/app (Inside app directory) Project1/app/__init__.py Project1/app/views.py Project1/app/static Project1/app/templates"}, {"owner": {"reputation": 15081, "user_id": 978961, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9562cbc3556ac68f081dfda387a9f4ab?s=128&d=identicon&r=PG", "display_name": "dirn", "link": "https://stackoverflow.com/users/978961/dirn"}, "edited": false, "score": 0, "creation_date": 1426737834, "post_id": 29133077, "comment_id": 46498646, "body": "Please update the question. Comments are well suited for this type of content."}], "answers": [{"tags": [], "owner": {"reputation": 184, "user_id": 8241992, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/abfc96c05774a7fbdaf1f4a999496871?s=128&d=identicon&r=PG&f=1", "display_name": "Sgryt87", "link": "https://stackoverflow.com/users/8241992/sgryt87"}, "is_accepted": false, "score": 1, "last_activity_date": 1535688962, "creation_date": 1535688962, "answer_id": 52108352, "question_id": 29133077, "link": "https://stackoverflow.com/questions/29133077/flask-importing-files-through-pycharm/52108352#52108352", "title": "Flask importing files through Pycharm", "body": "<ol>\n<li><p>Build the new project with PyCharm, it will create a virtual environment for you.  Then put these into a run.py in a root of your\na project like that (don't forget to turn debugging mode off in prod)</p>\n\n<pre><code>    from app import create_app\n    app = create_app()\n\n    if __name__ == '__main__':\n         app.run(debug=True)\n</code></pre>\n\n<ol start=\"2\">\n<li><p>Set up <strong>init</strong>.py file inside you 'app':</p>\n\n<pre><code>def create_app(config_class=Config):\n    app = Flask(__name__)\n    app.config.from_object(Config)\n    db.init_app(app)\n    bcrypt.init_app(app)\n    login_manager.init_app(app)\n    mail.init_app(app)\n</code></pre></li>\n<li><p>Store your credentials into Config class:</p>\n\n<p>class Config:\n    SECRET_KEY = 'your key... '\n    SQLALCHEMY_DATABASE_URI = 'your db...'\n    SQLALCHEMY_TRACK_MODIFICATIONS = False\n    MAIL_SERVER = 'smtp.google.com'\n    MAIL_PORT = 587\n    MAIL_USE_TLS = True\n    MAIL_USERNAME = 'your email' \n    MAIL_PASSWORD = 'email password'</p></li>\n<li><p>Structure your project, placing an empty <strong>init</strong>.py into each directory( accordingly to your architecture). Here is an example below, how to structure your project in Flask. It runs with no problem on </p></li>\n</ol>\n\n<p><code>.\n\u251c\u2500\u2500 README.md\n\u251c\u2500\u2500 app\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 __init__.py\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 config.py\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 errors\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 403.html\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 404.html\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 500.html\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 __init__.py\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 handlers.py\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 main\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 __init__.py\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 routes.py\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 models.py\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 posts\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 __init__.py\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 forms.py\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 routes.py\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 site.db\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 static\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 main.css\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 profile_pics\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u251c\u2500\u2500 3c4feb2bb50d90df.png\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u251c\u2500\u2500 ba3d328163a8125e.png\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0     \u2514\u2500\u2500 default.jpg\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 templates\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 about.html\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 account.html\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 create_post.html\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 home.html\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 layout.html\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 login.html\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 post.html\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 register.html\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 reset_request.html\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u251c\u2500\u2500 reset_token.html\n\u2502\u00a0\u00a0 \u2502\u00a0\u00a0 \u2514\u2500\u2500 user_posts.html\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 users\n\u2502\u00a0\u00a0     \u251c\u2500\u2500 __init__.py\n\u2502\u00a0\u00a0     \u251c\u2500\u2500 forms.py\n\u2502\u00a0\u00a0     \u251c\u2500\u2500 routes.py\n\u2502\u00a0\u00a0     \u2514\u2500\u2500 utils.py\n\u2514\u2500\u2500 run.py</code></p></li>\n</ol>\n"}], "owner": {"reputation": 189, "user_id": 4589212, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/268af7374151aa3c48a9b91023fb4649?s=128&d=identicon&r=PG&f=1", "display_name": "Johnathan", "link": "https://stackoverflow.com/users/4589212/johnathan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 395, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1535688962, "creation_date": 1426714191, "last_edit_date": 1426714546, "question_id": 29133077, "link": "https://stackoverflow.com/questions/29133077/flask-importing-files-through-pycharm", "title": "Flask importing files through Pycharm", "body": "<p>Following microblog tutorial on Flask: <a href=\"http://blog.miguelgrinberg.com/post/the-flask-mega-tutorial-part-i-hello-world\" rel=\"nofollow\">http://blog.miguelgrinberg.com/post/the-flask-mega-tutorial-part-i-hello-world</a></p>\n\n<p>In Pycharm, no matter how I structure or name the files, I cannot get the dev server to run if I separate the code and import the files. I also can't get it to inherit the codes no matter where I move the init, views, run files. The only way for me to get the server to run is to have all the commands execute on the same file. What am I doing wrong? </p>\n\n<p>I have it setup as: \nProject 1 > app(directory) > tmp(directory) > run.py(file)</p>\n\n<p>app(directory) > static(directory) > templates(directory) > <strong>init</strong>.py(file) > views.py(file) (I have tried different arrangements.)</p>\n\n<p>Inside views.py: \nfrom app import app</p>\n\n<p>Inside run.py:\nfrom app import app</p>\n\n<p>Inside <strong>init</strong>.py:\nfrom flask import Flask\nfrom app import views</p>\n\n<p>(I have tried many different combinations such as from app import app.views. from app import views as app_views. I have also tried renaming the directories/files, nothing is working.)</p>\n"}, {"tags": ["python", "pygame"], "comments": [{"owner": {"reputation": 885, "user_id": 2746752, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/adc5762c7d5b7e1e6168721bae570432?s=128&d=identicon&r=PG&f=1", "display_name": "user2746752", "link": "https://stackoverflow.com/users/2746752/user2746752"}, "edited": false, "score": 0, "creation_date": 1426793980, "post_id": 29133065, "comment_id": 46528195, "body": "Possibly through surface.get_at((x,y))? <a href=\"http://pygame.org/docs/ref/surface.html#pygame.Surface.get_at\" rel=\"nofollow noreferrer\">pygame.org/docs/ref/surface.html#pygame.Surface.get_at</a>"}, {"owner": {"reputation": 25, "user_id": 3320436, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d89ac6335da4655d4ed301338e950987?s=128&d=identicon&r=PG", "display_name": "robinspi", "link": "https://stackoverflow.com/users/3320436/robinspi"}, "reply_to_user": {"reputation": 885, "user_id": 2746752, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/adc5762c7d5b7e1e6168721bae570432?s=128&d=identicon&r=PG&f=1", "display_name": "user2746752", "link": "https://stackoverflow.com/users/2746752/user2746752"}, "edited": false, "score": 0, "creation_date": 1426821782, "post_id": 29133065, "comment_id": 46537888, "body": "That might be a bit slow, as it said. This map is pretty massive. It would look kind of bad it there was a really long load time. Does help though. I could use that for something else."}], "answers": [{"tags": [], "owner": {"reputation": 138010, "user_id": 5577765, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LoGpC.jpg?s=128&g=1", "display_name": "Rabbid76", "link": "https://stackoverflow.com/users/5577765/rabbid76"}, "is_accepted": false, "score": 0, "last_activity_date": 1611999885, "creation_date": 1611999885, "answer_id": 65966555, "question_id": 29133065, "link": "https://stackoverflow.com/questions/29133065/pixel-image-to-tile-map/65966555#65966555", "title": "pixel image to tile map", "body": "<p>Use <a href=\"https://www.pygame.org/docs/ref/pixelarray.html\" rel=\"nofollow noreferrer\"><code>pygame.PixelArray</code></a>:</p>\n<blockquote>\n<p>The PixelArray wraps a Surface and provides direct access to the surface's pixels.\n[...]</p>\n<pre><code>pxarray = pygame.PixelArray(surface)\n# Check, if the first pixel at the topleft corner is blue\nif pxarray[0, 0] == surface.map_rgb((0, 0, 255)):\n   ... \n</code></pre>\n</blockquote>\n"}], "owner": {"reputation": 25, "user_id": 3320436, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d89ac6335da4655d4ed301338e950987?s=128&d=identicon&r=PG", "display_name": "robinspi", "link": "https://stackoverflow.com/users/3320436/robinspi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 121, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1611999885, "creation_date": 1426714143, "question_id": 29133065, "link": "https://stackoverflow.com/questions/29133065/pixel-image-to-tile-map", "title": "pixel image to tile map", "body": "<p>I am working on a game in pygame/python, and I am wondering who has the know how to show me to turn an image into a map.</p>\n\n<p>The idea is simple. The image is colored by tile type. When the program loads the image, I want the color (example) #ff13ae to be matched to a certain grass tile, and the color (example) #ff13bd to a different tile. Now, I know that I may very well have to convert from hexcodes to rgb, but that is trivial. I just want to know the way I would go about this, mainly because all my other games don't do anything of this sort.</p>\n"}, {"tags": ["python", "django", "formset", "inline-formset"], "owner": {"reputation": 4663, "user_id": 3858177, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/a25e1aadaffaccb54bf9fe4ef6d77519?s=128&d=identicon&r=PG&f=1", "display_name": "gamer", "link": "https://stackoverflow.com/users/3858177/gamer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 182, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1426713458, "creation_date": 1426713458, "question_id": 29132875, "link": "https://stackoverflow.com/questions/29132875/inline-formset-not-rendering-form-field", "title": "Inline formset not rendering form field", "body": "<p>I have models:</p>\n\n<pre><code>class MediaInfo(models.Model):\n    title = models.CharField(max_length=50,blank=True)\n    description = models.CharField(max_length=255,blank=True)\n    media_file = models.FileField(upload_to=get_upload_file_name)\n\n    def __unicode__(self):\n        return self.title\n\nclass Media(models.Model):\n    media_files = models.ForeignKey(MediaInfo) # I want ManyToManyField but it gives error saying no ForeignKey relation\n</code></pre>\n\n<p>Here I used Inline Formset to select multiple file.</p>\n\n<p>What I wanted was I wanted a browser button on template and when I click that I could select multiple file or images with all those title and description informations.</p>\n\n<p>For this I wrote a view:</p>\n\n<pre><code>def MediaAddView(request):\nMediaInlineFormset = inlineformset_factory(MediaInfo, Media)\nif request.method == \"POST\":\n    formset = MediaInlineFormset(request.POST, request.FILES)\n    if formset.is_valid():\n        formset.save()\n        return HttpResponseRedirect(\"someurl\")\n    else:\n        return render_to_response(\"media_add.html\", {\"formset\":formset,})\nelse:\n    formset = MediaInlineFormset()\n    return render_to_response(\"media_add.html\", {\"formset\":formset,})\n</code></pre>\n\n<p>and my template media_add.html</p>\n\n<pre><code>{% block content %}\n&lt;form method=\"post\" action=\"\" enctype=\"multipart/form-data\"&gt;{% csrf_token %}\n{{ formset.management_form }}\n{% for form in formset %}\n{{form.id}}\n&lt;ul&gt;\n    &lt;li&gt;{{form.media_file}}&lt;/li&gt;\n&lt;/ul&gt;\n{% endfor %}\n&lt;input type=\"submit\" value=\"Submit\" /&gt;\n\n&lt;/form&gt;\n{% endblock %}\n</code></pre>\n\n<p>When I do this in my template I see nothing just 3 dots of list (li).\nLike I said I wanted a browse button and when I click it I wanted to select and upload multiple files.</p>\n\n<p>Whats wrong in here ? Can anyone guide me ?</p>\n"}, {"tags": ["python", "linux", "module", "operating-system"], "comments": [{"owner": {"reputation": 26167, "user_id": 736937, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/b3ccac435e2fd4eb9be62da7830d887c?s=128&d=identicon&r=PG", "display_name": "jedwards", "link": "https://stackoverflow.com/users/736937/jedwards"}, "edited": false, "score": 0, "creation_date": 1426713942, "post_id": 29132873, "comment_id": 46491761, "body": "You might look into the <a href=\"https://docs.python.org/2/library/subprocess.html\" rel=\"nofollow noreferrer\"><code>subprocess</code></a> module or <a href=\"https://pexpect.readthedocs.org/en/latest/\" rel=\"nofollow noreferrer\"><code>pexpect</code></a>"}, {"owner": {"reputation": 11, "user_id": 3362292, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/f231521e87b2c91d28b10c305ea1f892?s=128&d=identicon&r=PG&f=1", "display_name": "Minecat40", "link": "https://stackoverflow.com/users/3362292/minecat40"}, "reply_to_user": {"reputation": 26167, "user_id": 736937, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/b3ccac435e2fd4eb9be62da7830d887c?s=128&d=identicon&r=PG", "display_name": "jedwards", "link": "https://stackoverflow.com/users/736937/jedwards"}, "edited": false, "score": 0, "creation_date": 1426784489, "post_id": 29132873, "comment_id": 46523097, "body": "Is there specific documentation for what I was asking? I&#39;m not very experienced with Linux, so I don&#39;t understand many of the terms. If you could just point me in the right direction?"}], "owner": {"reputation": 11, "user_id": 3362292, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/f231521e87b2c91d28b10c305ea1f892?s=128&d=identicon&r=PG&f=1", "display_name": "Minecat40", "link": "https://stackoverflow.com/users/3362292/minecat40"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 23, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1504437847, "creation_date": 1426713453, "last_edit_date": 1592644375, "question_id": 29132873, "link": "https://stackoverflow.com/questions/29132873/python-2-7-answer-linux-dialogues-with-os-module", "title": "Python 2.7: Answer Linux Dialogues With OS Module", "body": "<p>I'm working on an emergency computer password retriever for my Mac, where it will  semi brute-force crack a password on the same computer. To do this, I need to use the login command in terminal for every combinations. To enter the commands I'm using the OS module, specifically the os.system()\nmethod. However, the login requires input dialogue, and I'm not sure how to\ninput that using python. It would look like this:</p>\n<blockquote>\n<p>login <em>User</em></p>\n<p>Password: <em>Automated input answers here</em></p>\n</blockquote>\n<p>If there isn't a way to do this, is there a way to include all parameters (User and Password)on a single line?</p>\n"}, {"tags": ["python", "sockets", "gps"], "answers": [{"comments": [{"owner": {"reputation": 863, "user_id": 3817250, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/mSpB4.jpg?s=128&g=1", "display_name": "user3817250", "link": "https://stackoverflow.com/users/3817250/user3817250"}, "edited": false, "score": 0, "creation_date": 1426775352, "post_id": 29133478, "comment_id": 46516855, "body": "Unfortunately it doesn&#39;t seem as simple as that. Even with the buffer set to 4096 (max message is ~535) I was seeing the same results. The modem sends 512 bytes, we ack, the modem sends seq 513 with 0 length."}, {"owner": {"reputation": 6823, "user_id": 2382728, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ILv9S.jpg?s=128&g=1", "display_name": "Philip Stuyck", "link": "https://stackoverflow.com/users/2382728/philip-stuyck"}, "reply_to_user": {"reputation": 863, "user_id": 3817250, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/mSpB4.jpg?s=128&g=1", "display_name": "user3817250", "link": "https://stackoverflow.com/users/3817250/user3817250"}, "edited": false, "score": 0, "creation_date": 1426776823, "post_id": 29133478, "comment_id": 46518029, "body": "When you receive 0 bytes on your socket, then that means that the server has closed its end of the socket and will not send anymore. Question is why ?"}, {"owner": {"reputation": 863, "user_id": 3817250, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/mSpB4.jpg?s=128&g=1", "display_name": "user3817250", "link": "https://stackoverflow.com/users/3817250/user3817250"}, "edited": false, "score": 0, "creation_date": 1426785702, "post_id": 29133478, "comment_id": 46523834, "body": "It&#39;s starting to look more and more like the issue is on the modem side, which is what I was hoping to determine in this thread. Thanks for your help."}], "tags": [], "owner": {"reputation": 6823, "user_id": 2382728, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ILv9S.jpg?s=128&g=1", "display_name": "Philip Stuyck", "link": "https://stackoverflow.com/users/2382728/philip-stuyck"}, "is_accepted": false, "score": 2, "last_activity_date": 1426716230, "last_edit_date": 1426716230, "creation_date": 1426715866, "answer_id": 29133478, "question_id": 29132860, "link": "https://stackoverflow.com/questions/29132860/python-socket-programming-messages-getting-truncated/29133478#29133478", "title": "Python Socket Programming - Messages Getting Truncated", "body": "<p>TCP is a streaming protocol, you are not receiving the message packet based. Increase your buffersize drastically and be ready to receive messages that might be broken and spread over several receive actions.</p>\n\n<p>So yes this is a TCP issue, but it is normal. Because as I said TCP is a streaming protocol.</p>\n\n<p>If a client sender does this without any pause :</p>\n\n<ul>\n<li>send 10 bytes</li>\n<li>send 10 bytes</li>\n</ul>\n\n<p>the receiver is very likely to get this result :</p>\n\n<ul>\n<li>receive 20 bytes</li>\n</ul>\n\n<p>now if the receiver's buffer is too small, chance is very high that he will loose part of the information. Not what you want of course.\nThe way the receiver is going to receive the data is not predictable, you should not rely on it. In theory you should be prepared to even receive the message byte per byte. But because TCP is implemented to make use of the MTU in the most intelligent way, it is not very likely that you will receive byte per byte. But the thing is you just don't know which message is going to be spread over different receive calls.</p>\n\n<p>Bottom line make your receive buffer a few k's in size.</p>\n"}], "owner": {"reputation": 863, "user_id": 3817250, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/mSpB4.jpg?s=128&g=1", "display_name": "user3817250", "link": "https://stackoverflow.com/users/3817250/user3817250"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 829, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1426716230, "creation_date": 1426713403, "question_id": 29132860, "link": "https://stackoverflow.com/questions/29132860/python-socket-programming-messages-getting-truncated", "title": "Python Socket Programming - Messages Getting Truncated", "body": "<p>I have a GPS modem (Sixnet BT-5800) that attempts to broadcast GPS NMEA messages over ethernet to my Linux client on a timed interval.</p>\n\n<p>On the client I have a python script running. I was hoping if someone could identify if I'm doing something wrong here.</p>\n\n<pre><code>'''\nThe main program waits on the TCP socket to receive data, parses the data into\nGPS NMEA sentences and writes them to the MySQL database\n'''\n# python library\nimport configparser\nimport select\nimport socket\nimport sys\nfrom time import sleep\n\n# custom library\n#import gpsnmeapacketparser\n\n# open the configuration files\nconfig = configparser.ConfigParser()\nfiles = ['.config.host', '.config', '.config.mysql']\ndataset = config.read(files)\nif (len(files) != len(dataset)):\n    print(\"Error: Failed to open/find configuration files. Has this package been installed?\")\n    exit()\n\n\ndef main():\n    host_address = config['HOST']['IPAddress']\n    host_gps_port = config['HOST']['GPSPort']\n\n    # create a tcp/ip socket\n    sock = socket.socket(socket.AF_INET, socket.SOCK_STREAM)\n\n    sock.setsockopt(socket.SOL_SOCKET, socket.SO_REUSEADDR, 1)\n\n    server_address = (host_address, int(host_gps_port, 10))\n\n    print(\"Binding socket:\", server_address)\n    sock.bind(server_address)\n\n    # listen for incoming connections\n    sock.listen(5)\n\n\n    while True:\n        block = \"\"\n\n        # wait for a connection\n        print('waiting for a connection')\n        connection, client_address = sock.accept()\n\n        print('connection from', client_address)\n\n        data = bytearray([])\n        buf = bytearray([])\n\n        while True:\n            buf = connection.recv(10)\n\n            if buf != b'':\n                data += buf\n            else:\n                break\n\n        if data != b'':\n            block = data.decode(\"utf-8\")\n            print(block)\n            print()\n\n        else:\n            connection.close()   \n\nif __name__ == \"__main__\":\n    sys.exit(main())\n</code></pre>\n\n<p>The modem seems to max out at 512 byte messages. Running the python script I will see output like the following:</p>\n\n<pre><code>waiting for a connection\nconnection from ('192.168.0.1', 4433)\nwaiting for a connection\nconnection from ('192.168.0.1', 4434)\n$GPRMC,210458.00,A,4437.35460,N,07545.93616,W,000.0,000.0,180315,13.4,W,A*0F\n$GPGGA,210458.00,4437.35460,N,07545.93616,W,1,08,0.91,00121,M,-034,M,,*54\n$GPGLL,4437.35460,N,07545.93616,W,210458.00,A,A*79\n$GPVTG,000.0,T,013.4,M,000.0,N,000.0,K,A*25\n$GPGSV,3,1,09,31,32,089,36,03,19,236,29,16,77,229,36,23,57,292,35*75\n$GPGSV,3,2,09,10,07,326,23,29,08,032,17,08,58,067,41,09,29,312,36*73\n$GPGSV,3,3,09,27,26,164,37,,,,,,,,,,,,*46\n$GPGSA,A,3,31,03,16,23,10,29,09,27,,,,,1.61,0.91,1.33*0C\n$GPZDA,210458.00,18,0\n\nwaiting for a connection\nconnection from ('192.168.0.1', 4435)\nwaiting for a connection\nconnection from ('192.168.0.1', 4436)\n$GPRMC,210528.00,A,4437.35458,N,07545.93617,W,000.0,000.0,180315,13.4,W,A*03\n$GPGGA,210528.00,4437.35458,N,07545.93617,W,1,07,1.05,00121,M,-034,M,,*5B\n$GPGLL,4437.35458,N,07545.93617,W,210528.00,A,A*75\n$GPVTG,000.0,T,013.4,M,000.0,N,000.0,K,A*25\n$GPGSV,3,1,09,31,32,089,36,03,19,236,30,16,77,229,36,23,57,292,35*7D\n$GPGSV,3,2,09,10,07,326,22,29,08,032,06,08,58,067,42,09,29,312,35*72\n$GPGSV,3,3,09,27,26,164,35,,,,,,,,,,,,*44\n$GPGSA,A,3,31,03,16,23,10,09,27,,,,,,1.77,1.05,1.42*0A\n$GPZDA,210528.00,18,03,\n\nwaiting for a connection\nconnection from ('192.168.0.1', 4437)\n</code></pre>\n\n<p>During execution the <code>connection.recv(10)</code> runs to gather data until it returns the empty array, and then it runs once more and times out. (<strong>This is a secondary problem, how can I make sure I've received all data without having to wait on this timeout?</strong>)</p>\n\n<p>Here is the output of a tcpdump</p>\n\n<pre><code>17:09:27.907495 IP 192.168.0.1.4621 &gt; 192.168.0.5.8763: Flags [F.], seq 1, ack 1, win 2920, options [nop,nop,TS val 5166242 ecr 6220255], length 0\n17:09:27.907667 IP 192.168.0.5.8763 &gt; 192.168.0.1.4621: Flags [F.], seq 1, ack 2, win 202, options [nop,nop,TS val 6224000 ecr 5166242], length 0\n17:09:27.908091 IP 192.168.0.1.4621 &gt; 192.168.0.5.8763: Flags [.], ack 2, win 2920, options [nop,nop,TS val 5166242 ecr 6224000], length 0\n17:09:27.910329 IP 192.168.0.1.4622 &gt; 192.168.0.5.8763: Flags [S], seq 2455146170, win 5840, options [mss 1460,sackOK,TS val 5166244 ecr 0,nop,wscale 1], length 0\n17:09:27.910390 IP 192.168.0.5.8763 &gt; 192.168.0.1.4622: Flags [S.], seq 3558179681, ack 2455146171, win 25760, options [mss 1300,sackOK,TS val 6224000 ecr 5166244,nop,wscale 7], length 0\n17:09:27.910796 IP 192.168.0.1.4622 &gt; 192.168.0.5.8763: Flags [.], ack 1, win 2920, options [nop,nop,TS val 5166245 ecr 6224000], length 0\n17:09:27.914219 IP 192.168.0.1.4622 &gt; 192.168.0.5.8763: Flags [P.], seq 1:513, ack 1, win 2920, options [nop,nop,TS val 5166248 ecr 6224000], length 512\n17:09:27.914309 IP 192.168.0.5.8763 &gt; 192.168.0.1.4622: Flags [.], ack 513, win 210, options [nop,nop,TS val 6224001 ecr 5166248], length 0\n17:09:42.895197 IP 192.168.0.1.4622 &gt; 192.168.0.5.8763: Flags [F.], seq 513, ack 1, win 2920, options [nop,nop,TS val 5181229 ecr 6224001], length 0\n17:09:42.897588 IP 192.168.0.1.4623 &gt; 192.168.0.5.8763: Flags [S], seq 2470830214, win 5840, options [mss 1460,sackOK,TS val 5181231 ecr 0,nop,wscale 1], length 0\n17:09:42.897643 IP 192.168.0.5.8763 &gt; 192.168.0.1.4623: Flags [S.], seq 2665688556, ack 2470830215, win 25760, options [mss 1300,sackOK,TS val 6227747 ecr 5181231,nop,wscale 7], length 0\n17:09:42.898114 IP 192.168.0.1.4623 &gt; 192.168.0.5.8763: Flags [.], ack 1, win 2920, options [nop,nop,TS val 5181232 ecr 6227747], length 0\n17:09:42.898383 IP 192.168.0.5.8763 &gt; 192.168.0.1.4622: Flags [F.], seq 1, ack 514, win 210, options [nop,nop,TS val 6227747 ecr 5181229], length 0\n17:09:42.898773 IP 192.168.0.1.4622 &gt; 192.168.0.5.8763: Flags [.], ack 2, win 2920, options [nop,nop,TS val 5181232 ecr 6227747], length 0\n</code></pre>\n\n<p>It looks as though the modem never gets properly signalled to send the remaining characters and those enormous sequence numbers could be error code?</p>\n\n<p><strong>I can't figure out if the error is in my code, or if the modem is using some non-standard TCP?</strong></p>\n"}, {"tags": ["python", "regex", "csv", "data-structures", "namedtuple"], "comments": [{"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 1, "creation_date": 1426713498, "post_id": 29132845, "comment_id": 46491546, "body": "You need to structure your data to suit what you are going to <i>do</i> with it."}, {"owner": {"reputation": 705380, "user_id": 190597, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/aabc98d5c6482ca0e1405ec97710f30a?s=128&d=identicon&r=PG&f=1", "display_name": "unutbu", "link": "https://stackoverflow.com/users/190597/unutbu"}, "edited": false, "score": 1, "creation_date": 1426713502, "post_id": 29132845, "comment_id": 46491548, "body": "The right data structure depends on what you want to do with the data. If you just want to print the data, then one big string is all you need. If you need to sort or count or do something else, then those operations inform your choice of data structure."}, {"owner": {"reputation": 94141, "user_id": 2867928, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/a8DM1.jpg?s=128&g=1", "display_name": "kasravnd", "link": "https://stackoverflow.com/users/2867928/kasravnd"}, "edited": false, "score": 1, "creation_date": 1426713551, "post_id": 29132845, "comment_id": 46491577, "body": "Why not use a <code>dictionary</code>?"}, {"owner": {"reputation": 121, "user_id": 2307207, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/d30eca880cf3e8c374b16d3f42af9360?s=128&d=identicon&r=PG", "display_name": "raghu", "link": "https://stackoverflow.com/users/2307207/raghu"}, "edited": false, "score": 0, "creation_date": 1426713795, "post_id": 29132845, "comment_id": 46491685, "body": "I am trying to solve a scheduling problem to assign TAs to courses. I might have to compare times to check for any collisions in the future."}, {"owner": {"reputation": 705380, "user_id": 190597, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/aabc98d5c6482ca0e1405ec97710f30a?s=128&d=identicon&r=PG&f=1", "display_name": "unutbu", "link": "https://stackoverflow.com/users/190597/unutbu"}, "edited": false, "score": 0, "creation_date": 1426713978, "post_id": 29132845, "comment_id": 46491779, "body": "So given what as input (e.g. a course name? a date?), what information do you need to retrieve? It pays to be thorough when enumerating the  operations needed here."}], "answers": [{"tags": [], "owner": {"reputation": 4979, "user_id": 2676531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc88aa76113d738e11685389a1409a26?s=128&d=identicon&r=PG", "display_name": "Celeo", "link": "https://stackoverflow.com/users/2676531/celeo"}, "is_accepted": false, "score": 2, "last_activity_date": 1426714431, "last_edit_date": 1426714431, "creation_date": 1426714060, "answer_id": 29133039, "question_id": 29132845, "link": "https://stackoverflow.com/questions/29132845/choosing-right-data-structure-to-parse-a-file/29133039#29133039", "title": "choosing right data structure to parse a file", "body": "<p>Start with noting a few things about your data:</p>\n\n<ol>\n<li>You have a number of unique strings (the courses)</li>\n<li>After each course, there is a number of strings (the times the class meets per week)</li>\n</ol>\n\n<p>With that, you have a series of unique keys that each have a number of values.</p>\n\n<p>Sounds like a <a href=\"https://docs.python.org/3.4/tutorial/datastructures.html#dictionaries\" rel=\"nofollow\">dictionary</a> to me.</p>\n\n<p>To get that data into a dictionary, start with <a href=\"https://docs.python.org/3.4/tutorial/inputoutput.html\" rel=\"nofollow\">reading the file</a>. Next, you can either use <a href=\"https://docs.python.org/3.4/library/re.html\" rel=\"nofollow\">regular expressions</a> to select each <code>[day], [hour]:[minutes] [AM/PM]</code> section or plain old <a href=\"https://docs.python.org/3.4/library/stdtypes.html#str.split\" rel=\"nofollow\">string.split()</a> to break the line into sections by the commas. The course string is the key into the dictionary with the rest of the line as a tuple or list of values. Move onto the next line.</p>\n"}, {"comments": [{"owner": {"reputation": 121, "user_id": 2307207, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/d30eca880cf3e8c374b16d3f42af9360?s=128&d=identicon&r=PG", "display_name": "raghu", "link": "https://stackoverflow.com/users/2307207/raghu"}, "edited": false, "score": 0, "creation_date": 1426715668, "post_id": 29133168, "comment_id": 46492567, "body": "sounds good. Also, what could be the right reg-ex pattern to find pattern like these? Please check the edit in the main post. Thanks"}], "tags": [], "owner": {"reputation": 2742, "user_id": 1273742, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/1532488d461ac02eadf868565829b520?s=128&d=identicon&r=PG", "display_name": "hyades", "link": "https://stackoverflow.com/users/1273742/hyades"}, "is_accepted": false, "score": 1, "last_activity_date": 1426768241, "last_edit_date": 1426768241, "creation_date": 1426714513, "answer_id": 29133168, "question_id": 29132845, "link": "https://stackoverflow.com/questions/29132845/choosing-right-data-structure-to-parse-a-file/29133168#29133168", "title": "choosing right data structure to parse a file", "body": "<pre><code>{\n    'CSE110': {'Mon': ['8: 00 AM'], 'Wed': ['8: 00 AM'], 'Fri': ['8: 00 AM'], \n    'CSE110': {'Mon': ['1: 00 PM'], 'Fri': ['1: 00 PM']}\n}\n</code></pre>\n\n<p>A dictionary of this form. A course can have multiple slots for the same day. </p>\n\n<p>When you read the csv file, you create for the course and that day(if it doesnt already exists) and assign it a single element list for the timing. If the value for the course and day is already present, you just append to the existing list. This means that course has more than one timings on the same day.</p>\n\n<p>You don't need a regex to find the category of the input line.\nThe first and second types that you have(i.e. single day and multiple days) can be found like</p>\n\n<pre><code>l = line.split(', ')\ntry:\n    n = int(l[1]) # n = strength\nexcept:\n    #continue adding to dictionary since second element in the list is not an integer\n</code></pre>\n"}], "owner": {"reputation": 121, "user_id": 2307207, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/d30eca880cf3e8c374b16d3f42af9360?s=128&d=identicon&r=PG", "display_name": "raghu", "link": "https://stackoverflow.com/users/2307207/raghu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 765, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1426768241, "creation_date": 1426713363, "last_edit_date": 1426715356, "question_id": 29132845, "link": "https://stackoverflow.com/questions/29132845/choosing-right-data-structure-to-parse-a-file", "title": "choosing right data structure to parse a file", "body": "<p>I have a csv file with contents in the following format:</p>\n\n<pre><code>CSE110, Mon, 1:00 PM, Fri, 1:00 PM\nCSE114, Mon, 8:00 AM, Wed, 8:00 AM, Fri, 8:00 AM\n</code></pre>\n\n<p>which is basically course name followed by it's timings.</p>\n\n<p>what's the best data structure to parse and store this data?</p>\n\n<p>I tried using named tuples as follows:</p>\n\n<pre><code>CourseTimes = namedtuple('CourseTimes', 'course_name, day, start_time ')\n</code></pre>\n\n<p>But a single course can be scheduled on multiple days and time as shown for cse114 above. This can only be decided at run-time. How to handle this?</p>\n\n<p>or else, Can I make use of Dictionary or List?</p>\n\n<p>I am trying to solve a scheduling problem to assign TAs to courses. I might have to compare times to check for any collisions in the future</p>\n\n<p>Also to complicate things up, the input file has other data as well which I need to parse. Basically the following is the format.</p>\n\n<pre><code>//Course times\nCSE110, Mon, 1:00 PM, Fri, 1:00 PM\nCSE114, Mon, 8:00 AM, Wed, 8:00 AM, Fri, 8:00 AM\n....\n\n//Course recitation times\nCSE306, Mon, 2:30 PM\nCSE307, Fri, 4:00 PM\n...\n\n//class strength\nCSE101, 44, yes\nCSE101, 115, yes\n...\n</code></pre>\n\n<p>I need store all this in separate data structures I suppose. What could be the right reg-ex patterns for each of the category?</p>\n"}, {"tags": ["python", "pip"], "comments": [{"owner": {"reputation": 40432, "user_id": 1807667, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/976dc9df3ea3d05a18e90f0cd9c29b7a?s=128&d=identicon&r=PG", "display_name": "Ortomala Lokni", "link": "https://stackoverflow.com/users/1807667/ortomala-lokni"}, "edited": false, "score": 0, "creation_date": 1450600637, "post_id": 29132800, "comment_id": 56500051, "body": "Did you check my answer?"}], "answers": [{"tags": [], "owner": {"reputation": 40432, "user_id": 1807667, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/976dc9df3ea3d05a18e90f0cd9c29b7a?s=128&d=identicon&r=PG", "display_name": "Ortomala Lokni", "link": "https://stackoverflow.com/users/1807667/ortomala-lokni"}, "is_accepted": true, "score": 1, "last_activity_date": 1450189879, "creation_date": 1450189879, "answer_id": 34291815, "question_id": 29132800, "link": "https://stackoverflow.com/questions/29132800/why-does-pip-prevent-install-of-potentially-insecure-and-unverifiable-files/34291815#34291815", "title": "Why does pip prevent install of potentially insecure and unverifiable files?", "body": "<p>Because from pip version 1.3, https is the default protocol.</p>\n\n<p>In <a href=\"https://github.com/pypa/pip/blob/develop/CHANGES.txt\" rel=\"nofollow\">CHANGES.txt</a>:</p>\n\n<pre><code>**1.3 (2013-03-07)**\n\n* SSL Cert Verification; Make https the default for PyPI access.\n  Thanks James Cleveland, Giovanni Bajo, Marcus Smith and many others (:pull:`791`, CVE-2013-1629).\n</code></pre>\n\n<p>and because <a href=\"https://pypi.python.org/pypi/pybgpdump/0.1\" rel=\"nofollow\">pybgpdump</a> is hosted on an external server (<a href=\"https://jon.oberheide.org/pybgpdump/\" rel=\"nofollow\">https://jon.oberheide.org/pybgpdump/</a>) and you don't have the right certificate installed.</p>\n\n<p>Note also that the pypi package index hold only the version 0.1 of pybgpdump and the last version is 0.2</p>\n"}], "owner": {"reputation": 3534, "user_id": 179285, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4263d62c3ac8f31d0d6a5dc3cdc0e7ed?s=128&d=identicon&r=PG", "display_name": "Dave", "link": "https://stackoverflow.com/users/179285/dave"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 188, "favorite_count": 0, "accepted_answer_id": 34291815, "answer_count": 1, "score": 2, "last_activity_date": 1450189879, "creation_date": 1426713240, "question_id": 29132800, "link": "https://stackoverflow.com/questions/29132800/why-does-pip-prevent-install-of-potentially-insecure-and-unverifiable-files", "title": "Why does pip prevent install of potentially insecure and unverifiable files?", "body": "<p>I tried to install pybgpdump using pip but pip threw the error below. </p>\n\n<pre><code>pip install pybgpdump\nDownloading/unpacking pybgpdump\n  You are installing a potentially insecure and unverifiable file. Future versions of pip will default to disallowing insecure files.\n  Error &lt;urlopen error [Errno 1] _ssl.c:504: error:14090086:SSL routines:SSL3_GET_SERVER_CERTIFICATE:certificate verify failed&gt; while getting https://jon.oberheide.org/pybgpdump/downloads/pybgpdump-0.2.tar.gz (from https://jon.oberheide.org/pybgpdump/)\nCleaning up..\n</code></pre>\n\n<p>Why does pip try to verify the pybgpdump package? </p>\n\n<p>What is the difference between a secure and insecure file?</p>\n"}, {"tags": ["python", "qt", "pyqt", "pyside"], "answers": [{"comments": [{"owner": {"reputation": 1022, "user_id": 937682, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/c2233acd5577c9e7c9c0560df29ceade?s=128&d=identicon&r=PG", "display_name": "Mathieson", "link": "https://stackoverflow.com/users/937682/mathieson"}, "edited": false, "score": 0, "creation_date": 1426714410, "post_id": 29132919, "comment_id": 46491975, "body": "Interesting. I have been planning on doing something along those lines (using QSortFilterProxyModel) although only to filter out certain items depending on the view. I would have still been duplicating the underlying models though. Sounds like I should research the proxy models further to get a better understanding of them."}, {"owner": {"reputation": 88126, "user_id": 1329652, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/fa4ef026ee4be15d3dbacc95f1773d03?s=128&d=identicon&r=PG&f=1", "display_name": "Kuba hasn&#39;t forgotten Monica", "link": "https://stackoverflow.com/users/1329652/kuba-hasnt-forgotten-monica"}, "reply_to_user": {"reputation": 1022, "user_id": 937682, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/c2233acd5577c9e7c9c0560df29ceade?s=128&d=identicon&r=PG", "display_name": "Mathieson", "link": "https://stackoverflow.com/users/937682/mathieson"}, "edited": false, "score": 0, "creation_date": 1426716523, "post_id": 29132919, "comment_id": 46492930, "body": "@Mathieson A proxy model is very nearly a view that doesn&#39;t have a gui, but a model API in place of a gui. Think of a proxy as if it was a machine-readable view, where it was agreed that the machine-readable API is that of a model as well."}, {"owner": {"reputation": 1022, "user_id": 937682, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/c2233acd5577c9e7c9c0560df29ceade?s=128&d=identicon&r=PG", "display_name": "Mathieson", "link": "https://stackoverflow.com/users/937682/mathieson"}, "edited": false, "score": 0, "creation_date": 1426719210, "post_id": 29132919, "comment_id": 46493923, "body": "Do you have any good resources you can link to on accomplishing this or some examples of good implementations? This is the best I have found so far on the subject <a href=\"http://imaginativethinking.ca/use-qt-qsortfilterproxymodel/\" rel=\"nofollow noreferrer\">imaginativethinking.ca/use-qt-qsortfilterproxymodel</a>"}, {"owner": {"reputation": 1022, "user_id": 937682, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/c2233acd5577c9e7c9c0560df29ceade?s=128&d=identicon&r=PG", "display_name": "Mathieson", "link": "https://stackoverflow.com/users/937682/mathieson"}, "edited": false, "score": 0, "creation_date": 1426719847, "post_id": 29132919, "comment_id": 46494110, "body": "A remaining question, even after this article I linked, is how to configure properly for TreeViews. His examples seem to be applicable to list views. My model hierarchy has multiple levels to it. In some of my views, I need to display data which in the main model is, say, a 3rd level child. Simply filtering tree items based on type would hide the parent items, which would in turn hide the child item.  Is the key in overriding the mapFromSource methods in some way so that 3rd level children are remapped to top level?"}, {"owner": {"reputation": 1022, "user_id": 937682, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/c2233acd5577c9e7c9c0560df29ceade?s=128&d=identicon&r=PG", "display_name": "Mathieson", "link": "https://stackoverflow.com/users/937682/mathieson"}, "edited": false, "score": 0, "creation_date": 1426738681, "post_id": 29132919, "comment_id": 46498862, "body": "Just found this page that has a good example (which you actually provided!) <a href=\"http://stackoverflow.com/questions/21564976/how-to-create-a-proxy-model-that-would-flatten-nodes-of-a-qabstractitemmodel-int\" title=\"how to create a proxy model that would flatten nodes of a qabstractitemmodel int\">stackoverflow.com/questions/21564976/&hellip;</a>"}], "tags": [], "owner": {"reputation": 88126, "user_id": 1329652, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/fa4ef026ee4be15d3dbacc95f1773d03?s=128&d=identicon&r=PG&f=1", "display_name": "Kuba hasn&#39;t forgotten Monica", "link": "https://stackoverflow.com/users/1329652/kuba-hasnt-forgotten-monica"}, "is_accepted": false, "score": 2, "last_activity_date": 1426713622, "creation_date": 1426713622, "answer_id": 29132919, "question_id": 29132741, "link": "https://stackoverflow.com/questions/29132741/how-to-keep-multiple-qabstractitemmodel-classes-in-sync/29132919#29132919", "title": "How to keep multiple QAbstractItemModel classes in sync", "body": "<p>One way to do it is to use viewmodels. Have <em>one</em> <code>QAbstractItemModel</code> adapter to your underlying data model. All interaction must pass through that model. When you need to further adapt the data to a view, simply use a proxy view model class that refers to the adapter above and reformats/adapts the data for a view. All the view models will then be automagically synchronized. They can derive from <code>QAbstractProxyModel</code>, although that's not strictly necessary.</p>\n\n<p>There is <em>no other way</em> of doing it if the underlying source of data doesn't provide change notification both for the <em>contents</em> and for the <em>structure</em>. If the underlying data source provides relevant notifications, it might as well be a <code>QAbstractItemModel</code> to begin with :)</p>\n"}], "owner": {"reputation": 1022, "user_id": 937682, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/c2233acd5577c9e7c9c0560df29ceade?s=128&d=identicon&r=PG", "display_name": "Mathieson", "link": "https://stackoverflow.com/users/937682/mathieson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 337, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1426713622, "creation_date": 1426713050, "last_edit_date": 1426713600, "question_id": 29132741, "link": "https://stackoverflow.com/questions/29132741/how-to-keep-multiple-qabstractitemmodel-classes-in-sync", "title": "How to keep multiple QAbstractItemModel classes in sync", "body": "<p>I've been working really hard trying to find a solution to this for the past few weeks. I have committed to a direction now, but I am still not entirely satisfied with what I have come up with. Asking this now purely out of curiosity and for hope of a more proper solution for next time.</p>\n\n<p>How on earth do I keep multiple QAbstractItemModel classes in sync that are referring to the same source data but displaying in different ways in the tree view?</p>\n\n<p>One of the main reasons for using model/view is to keep multiple views in sync with one another. However, if each of my views requires different data being displayed at the same column, as far as I can tell I need to then subclass my model to two different models with different implementations that will then cater to each of those unique view displays of the same items.</p>\n\n<p>Underlying source items are the same, but data displayed is different. Maybe the flags are different as well, so that the user can only select top level items in one view and then can only select child items in the other view.</p>\n\n<p>I'll try to give an example:</p>\n\n<p>Lets say my TreeItem has three properties: a, b, c.</p>\n\n<p>I have two tree views: TreeView1, TreeView2. Each has two columns.</p>\n\n<p>TreeView1 displays data as follows: column1 -> a, column2 -> b</p>\n\n<p>TreeView2 displays data as follows: column1 -> a, column2 -> c</p>\n\n<p>I then need to create two different models, one for TreeView1 and one for TreeView2, and override the data and flags methods appropriately for each.</p>\n\n<p>Since they are now different models, even though they are both referring to the same TreeItem in the background, they are no longer staying in sync. I have to manually call the refresh on TreeView2 whenever I change data on TreeView1, and vice versa.</p>\n\n<p>Consider that column1, or property a, is editable and allows the user to set the name of the TreeItem. Desired behaviour would be for the edit that is done in TreeView1 to instantly be reflected in TreeView2.</p>\n\n<p>I feel like I am missing some important design pattern or something when approaching this. Can anyone out there see where I am going wrong and correct me? Or is this a correct interpretation?</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["python", "linux", "bash", "automation"], "comments": [{"owner": {"reputation": 96909, "user_id": 3030305, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/En2fP.png?s=128&g=1", "display_name": "John1024", "link": "https://stackoverflow.com/users/3030305/john1024"}, "edited": false, "score": 0, "creation_date": 1426712969, "post_id": 29132647, "comment_id": 46491248, "body": "As shown, it works fine for me.  The error that you show is what would have happened if you had quoted EOF as in <code>cat &gt; &#47;tmp&#47;host_install.py &lt;&lt;&quot;EOF&quot;</code>."}], "answers": [{"tags": [], "owner": {"reputation": 4817, "user_id": 3817025, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/02fd68a33285e876c0b9652ccb9fbc3a?s=128&d=identicon&r=PG", "display_name": "Jeff Sloyer", "link": "https://stackoverflow.com/users/3817025/jeff-sloyer"}, "is_accepted": true, "score": 1, "last_activity_date": 1426714913, "creation_date": 1426714913, "answer_id": 29133250, "question_id": 29132647, "link": "https://stackoverflow.com/questions/29132647/how-to-pass-bash-variable-to-into-file/29133250#29133250", "title": "How to pass bash variable to into file", "body": "<p>Environment variables are accessed through <a href=\"http://docs.python.org/2/library/os.html#process-parameters\" rel=\"nofollow\">os.environ</a></p>\n\n<pre><code>import os\ncluster_name =  os.environ['CM_CLUSTER_NAME']\nrole_template =  os.environ['INSTANCE_TYPE']\n</code></pre>\n\n<p><a href=\"http://docs.python.org/install/index.html#how-installation-works\" rel=\"nofollow\">Python default installation</a> on Windows is <code>C:\\Python</code>. If you want to find out while running python you can do:</p>\n\n<pre><code>import sys\nprint sys.prefix\n</code></pre>\n"}], "owner": {"reputation": 4365, "user_id": 3579198, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/c981253f3426775283f8407995ca7721?s=128&d=identicon&r=PG&f=1", "display_name": "roy", "link": "https://stackoverflow.com/users/3579198/roy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "accepted_answer_id": 29133250, "answer_count": 1, "score": 0, "last_activity_date": 1426714913, "creation_date": 1426712684, "last_edit_date": 1426712879, "question_id": 29132647, "link": "https://stackoverflow.com/questions/29132647/how-to-pass-bash-variable-to-into-file", "title": "How to pass bash variable to into file", "body": "<p>I want to create host_install.py from bash variables.\nSo I have tried following :</p>\n\n<pre><code>#!/bin/bash\n\nCM_HOST=\"10.0.5.99\"\nCM_USER=\"admin\"\nCM_PASSWORD=\"admin\"\nCM_CLUSTER_NAME=\"cluster\"\nINSTANCE_TYPE=`wget -q -O- http://169.254.169.254/latest/meta-data/instance-type`\n\ncat &gt; /tmp/host_install.py &lt;&lt;EOF\nimport socket\nimport commands\nfrom time import sleep\n\ncluster_name = \"$CM_CLUSTER_NAME\"\nrole_template = \"$INSTANCE_TYPE\"\n\nprint cluster_name\nprint role_template\n\nEOF\n\nchmod a+x /tmp/host_install.py\n/tmp/host_install.py\n</code></pre>\n\n<p>This is printing </p>\n\n<pre><code>$CM_CLUSTER_NAME\n$INSTANCE_TYPE\n</code></pre>\n\n<p>instead of </p>\n\n<pre><code>cluster\nc3.2xlarge\n</code></pre>\n\n<p>What wrong I am doing here ?</p>\n"}, {"tags": ["python", "elasticsearch"], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 4463307, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/496d980865d611cb82a0caf8f9ddd717?s=128&d=identicon&r=PG&f=1", "display_name": "bangersandmash", "link": "https://stackoverflow.com/users/4463307/bangersandmash"}, "is_accepted": true, "score": 0, "last_activity_date": 1426791516, "creation_date": 1426791516, "answer_id": 29152839, "question_id": 29132629, "link": "https://stackoverflow.com/questions/29132629/python-elasticsearch-using-responses-from-search-exists/29152839#29152839", "title": "Python Elasticsearch: using responses from search_exists", "body": "<p>Figured it out. Had to adjust the if/else statement so that the response from elasticsearch was being read as a string out of a dictionary:</p>\n\n<pre><code>state = str(response['exists'])\n               if state == 'True':\n               print url\n               print \"bingo!\"\n               [etc].\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 4463307, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/496d980865d611cb82a0caf8f9ddd717?s=128&d=identicon&r=PG&f=1", "display_name": "bangersandmash", "link": "https://stackoverflow.com/users/4463307/bangersandmash"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 334, "favorite_count": 0, "accepted_answer_id": 29152839, "answer_count": 1, "score": 0, "last_activity_date": 1426791516, "creation_date": 1426712629, "question_id": 29132629, "link": "https://stackoverflow.com/questions/29132629/python-elasticsearch-using-responses-from-search-exists", "title": "Python Elasticsearch: using responses from search_exists", "body": "<p>I am trying to take a list of urls from a textfile and see if they are already in stored in elasticsearch. Here is the code:</p>\n\n<pre><code>import fileinput\nimport sys\nimport urllib2\nimport os\nfrom urlparse import urlparse\nfrom elasticsearch import Elasticsearch\n\nes = Elasticsearch()\n\nfor line_number, line in enumerate(fileinput.input('bangersandmash_items.csv', inplace=1)):\n    if len(line) &gt; 4:\n            sys.stdout.write(line)\n\n\n#open file to load URLs\n\nwith open('bangersandmash_items.csv') as urls:\n    for line in urls:\n\n        #strip out http:// as this seems to cause elasticsearch to return no results\n\n        url = line.rstrip()\n        prefix = 'http://'\n        if url.startswith(prefix):\n            url = url[len(prefix):]\n\n        #query elasticsearch to see if url already exists in library's 'link' fied\n\n        response = es.search_exists(index=\"websearch\", doc_type=\"site\", body={\"query\": {\"match_phrase\": {\"link\": url}}}, ignore=[400, 404])\n            print url\n            print response\n\n            #Is url in library?\n\n            if response == \"{u'exists': true}\":\n                print url\n                print \"bingo!\"\n            else:\n                print url\n                print \"nuthin.\"\n</code></pre>\n\n<p>It prints out the urls as formatted on lines 19-22, but it doesn't seem to handle the error code. Lines 25 and 26 print out the URL and the response from elasticsearch. Lines 28-33 don't appear to properly act on this information. Any thoughts on what I'm doing wrong here?</p>\n"}, {"tags": ["python", "image", "canvas", "tkinter", "python-imaging-library"], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4429937"}, "edited": false, "score": 0, "creation_date": 1426723360, "post_id": 29132685, "comment_id": 46495198, "body": "Thank you so much this helped me out a lot!"}], "tags": [], "owner": {"reputation": 4763, "user_id": 2329988, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/b9ab817073f9499496b464905713e6a3?s=128&d=identicon&r=PG", "display_name": "en_Knight", "link": "https://stackoverflow.com/users/2329988/en-knight"}, "is_accepted": true, "score": 19, "last_activity_date": 1426725906, "last_edit_date": 1495540021, "creation_date": 1426712807, "answer_id": 29132685, "question_id": 29132608, "link": "https://stackoverflow.com/questions/29132608/how-to-center-a-image-in-a-canvas-python-tkinter/29132685#29132685", "title": "How to center a image in a canvas Python Tkinter", "body": "<p>The problem is the line</p>\n\n<pre><code>self.viewWindow.create_image(0, 0, anchor=CENTER, image=imageFile, tags=\"bg_img\")\n</code></pre>\n\n<p>The first two arguments, as explained here: <a href=\"http://effbot.org/tkinterbook/canvas.htm\" rel=\"noreferrer\">http://effbot.org/tkinterbook/canvas.htm</a>, are the position of the image. The origin is in the top left of the canvas. What you mean is </p>\n\n<pre><code>...(width/2, height/2, anchor=CENTER, ... )\n</code></pre>\n\n<p>The origin in the usual geometric sense that you want is at the center of the canvas, or half its width and half its height.</p>\n\n<p>You seemed to have used \"anchor\" as if it specifies the location on the canvas. It doesn't. \"anchor\" at center means that the center of the image will be placed at the specified coordinates. From the linked source (effbot):</p>\n\n<blockquote>\n  <p>ANCHOR: Where to place the bitmap relative to the given position. Default is CENTER.</p>\n</blockquote>\n\n<p>If for some reason you don't know the width and height of the widget, see <a href=\"https://stackoverflow.com/questions/3950687/how-to-find-out-the-current-widget-size-in-tkinter\">How to find out the current widget size in tkinter?</a>. The tl;dr is to use</p>\n\n<pre><code>canvas.winfo_width()\n</code></pre>\n\n<p>and</p>\n\n<pre><code>canvas.winfo_height()\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user4429937"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 17624, "favorite_count": 1, "accepted_answer_id": 29132685, "answer_count": 1, "score": 6, "last_activity_date": 1582100453, "creation_date": 1426712596, "question_id": 29132608, "link": "https://stackoverflow.com/questions/29132608/how-to-center-a-image-in-a-canvas-python-tkinter", "title": "How to center a image in a canvas Python Tkinter", "body": "<p>I am working on a program. That gets a image and puts it in a canvas. So it is like a photo viewer. But I would like to get the image in the center of the canvas widget. But it seems to go into the top left corner. Why does it do this? And how can I get it in the center of the canvas widget?</p>\n\n<p>Code:</p>\n\n<pre><code>from Tkinter import *\nfrom PIL import ImageTk, Image\nimport os\n\nclass Application(Frame):\n    def __init__(self, parent):\n        Frame.__init__(self,parent)\n        self.pack(fill=BOTH, expand=True)\n\n        self.create_Menu()\n        self.create_widgets()\n\n    def create_Menu(self):\n        self.menuBar = Menu(self)\n\n        self.fileMenu = Menu(self.menuBar, tearoff=0)\n        self.fileMenu.add_command(label=\"Open\", command=self.getImage)\n        self.fileMenu.add_separator()\n        self.fileMenu.add_command(label=\"Exit\", command=self.exitProgram)\n\n        self.menuBar.add_cascade(label=\"File\", menu=self.fileMenu)\n\n        root.config(menu=self.menuBar)\n\n    def create_widgets(self):\n        self.viewWindow = Canvas(self, bg=\"white\")\n        self.viewWindow.pack(side=TOP, fill=BOTH, expand=True)\n\n        def getImage(self):\n        imageFile = Image.open(\"C:/Users/Public/Pictures/Sample Pictures/Desert.jpg\")\n        imageFile = ImageTk.PhotoImage(imageFile)\n\n        self.viewWindow.image = imageFile\n        self.viewWindow.create_image(0, 0, anchor=CENTER, image=imageFile, tags=\"bg_img\")\n\n    def exitProgram(self):\n        os._exit(0)\n\nroot = Tk()\nroot.title(\"Photo Zone\")\nroot.wm_state('zoomed')\n\napp = Application(root)\n\nroot.mainloop()\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "input", "words"], "comments": [{"owner": {"reputation": 4421, "user_id": 774575, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/I2J58.png?s=128&g=1", "display_name": "mins", "link": "https://stackoverflow.com/users/774575/mins"}, "edited": false, "score": 0, "creation_date": 1426712999, "post_id": 29132599, "comment_id": 46491278, "body": "Can that helps? <a href=\"http://stackoverflow.com/questions/5424716/python-how-to-check-if-input-is-a-number-given-that-input-always-returns-stri\">Python - How to check if input is a number</a>."}], "answers": [{"tags": [], "owner": {"reputation": 757655, "user_id": 95810, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e8d5fe90f1fe2148bf130cccd4dc311c?s=128&d=identicon&r=PG", "display_name": "Alex Martelli", "link": "https://stackoverflow.com/users/95810/alex-martelli"}, "is_accepted": false, "score": 3, "last_activity_date": 1426712633, "creation_date": 1426712633, "answer_id": 29132633, "question_id": 29132599, "link": "https://stackoverflow.com/questions/29132599/accept-an-input-as-a-word-and-not-an-integer/29132633#29132633", "title": "Accept an input as a word and not an integer", "body": "<p>Just remove the <code>int</code> call!  <strong>That</strong> is what makes the statement accept integer numbers only.</p>\n\n<p>I.e, use:</p>\n\n<pre><code>test = input('This takes any string as an answer')\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 40613, "user_id": 4099593, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zweIW.png?s=128&g=1", "display_name": "Bhargav Rao", "link": "https://stackoverflow.com/users/4099593/bhargav-rao"}, "is_accepted": false, "score": 2, "last_activity_date": 1426712649, "creation_date": 1426712649, "answer_id": 29132638, "question_id": 29132599, "link": "https://stackoverflow.com/questions/29132599/accept-an-input-as-a-word-and-not-an-integer/29132638#29132638", "title": "Accept an input as a word and not an integer", "body": "<p>Remove the type cast to <code>int</code></p>\n\n<pre><code>test = input('This only takes a word as an answer :')\n</code></pre>\n\n<p>A demo</p>\n\n<pre><code>&gt;&gt;&gt; test = input('This only takes a word as an answer :')\nThis only takes a word as an answer :word\n&gt;&gt;&gt; test\n'word'\n</code></pre>\n\n<p>Note - From the <a href=\"https://docs.python.org/3/library/functions.html#input\" rel=\"nofollow\">docs</a></p>\n\n<blockquote>\n  <p>The function then reads a line from input, converts it to a string (stripping a trailing newline), and returns that</p>\n</blockquote>\n\n<p>Therefore <code>input</code> automatically converts it to a <code>str</code> and there is no need of any explicit cast.</p>\n"}, {"tags": [], "owner": {"reputation": 4701, "user_id": 1770601, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/pp9hI.jpg?s=128&g=1", "display_name": "ha9u63ar", "link": "https://stackoverflow.com/users/1770601/ha9u63ar"}, "is_accepted": false, "score": 0, "last_activity_date": 1426712672, "creation_date": 1426712672, "answer_id": 29132643, "question_id": 29132599, "link": "https://stackoverflow.com/questions/29132599/accept-an-input-as-a-word-and-not-an-integer/29132643#29132643", "title": "Accept an input as a word and not an integer", "body": "<p>This should work:</p>\n\n<pre><code>test = str(input('This only takes a string as an answer:  '))\n</code></pre>\n\n<p>BUT</p>\n\n<p>Because Python works with String by default, actually you don't need any casting like <code>int</code> or <code>str</code></p>\n\n<p>Also, if you were using version prior to 3.x, it would be <code>raw_input</code> instead of <code>input</code>. Since your solution seem to have been accepting <code>input</code>, I can be safe assuming that your Python is OK.\n    test = input('This only takes a string as an answer')</p>\n"}, {"tags": [], "owner": {"reputation": 15, "user_id": 4556657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d85b35b5e829f936af802f817c854aa3?s=128&d=identicon&r=PG&f=1", "display_name": "cizwiz", "link": "https://stackoverflow.com/users/4556657/cizwiz"}, "is_accepted": false, "score": 0, "last_activity_date": 1426713105, "creation_date": 1426713105, "answer_id": 29132758, "question_id": 29132599, "link": "https://stackoverflow.com/questions/29132599/accept-an-input-as-a-word-and-not-an-integer/29132758#29132758", "title": "Accept an input as a word and not an integer", "body": "<pre><code> test = input(\"This only takes a number as an answer\")\n test = raw_input(\"This only takes a number as an answer\")\n</code></pre>\n\n<p>Either one should work</p>\n"}, {"tags": [], "owner": {"reputation": 1564, "user_id": 1702972, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/0nMgL.png?s=128&g=1", "display_name": "overcomer", "link": "https://stackoverflow.com/users/1702972/overcomer"}, "is_accepted": false, "score": 0, "last_activity_date": 1519891021, "last_edit_date": 1519891021, "creation_date": 1426713983, "answer_id": 29133017, "question_id": 29132599, "link": "https://stackoverflow.com/questions/29132599/accept-an-input-as-a-word-and-not-an-integer/29133017#29133017", "title": "Accept an input as a word and not an integer", "body": "<p>If you are using python 2.7, just use raw_input function.</p>\n\n<pre><code>test = raw_input('This only takes a string as an answer:  ')\n</code></pre>\n\n<p>I.e.:</p>\n\n<pre><code>&gt;&gt;&gt; test = raw_input('This only takes a string as an answer:  ')\nThis only takes a string as an answer:  2.5\n&gt;&gt;&gt; type (test)\n&lt;type 'str'&gt;\n</code></pre>\n\n<p>If you use input, you can have only a number:\nRight input:</p>\n\n<pre><code>&gt;&gt;&gt; test = input('This only takes a number as an answer:  ')\nThis only takes a string as an answer:  2.5\n&gt;&gt;&gt; type (test)\n&lt;type 'float'&gt;\n</code></pre>\n\n<p>Wrong input:</p>\n\n<pre><code>&gt;&gt;&gt; test = input('This only takes a number as an answer:  ')\nThis only takes a number as an answer:  word\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\n  File \"&lt;string&gt;\", line 1, in &lt;module&gt;\nNameError: name 'word' is not defined\n</code></pre>\n"}], "owner": {"reputation": 39, "user_id": 4687236, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh4.googleusercontent.com/-6hpm91GWVnA/AAAAAAAAAAI/AAAAAAAABfI/Bf8JFXXFUSo/photo.jpg?sz=128", "display_name": "Joe Van Wonderen", "link": "https://stackoverflow.com/users/4687236/joe-van-wonderen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 23370, "favorite_count": 0, "answer_count": 5, "score": 0, "last_activity_date": 1523721934, "creation_date": 1426712573, "last_edit_date": 1487099843, "question_id": 29132599, "link": "https://stackoverflow.com/questions/29132599/accept-an-input-as-a-word-and-not-an-integer", "title": "Accept an input as a word and not an integer", "body": "<p>How to make word inputs in Python\nI want to be able to have the computer to ask a question to the user like</p>\n\n<pre><code>test = int(input('This only takes a number as an answer'))\n</code></pre>\n\n<p>I want to be able to have 'test' not be a number, rather a word, or letter.</p>\n"}, {"tags": ["python", "sftp", "paramiko"], "comments": [{"owner": {"reputation": 144837, "user_id": 850848, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c287735beca76400cb9b6d08bf591cb9?s=128&d=identicon&r=PG", "display_name": "Martin Prikryl", "link": "https://stackoverflow.com/users/850848/martin-prikryl"}, "edited": false, "score": 0, "creation_date": 1426750763, "post_id": 29132544, "comment_id": 46502441, "body": "How are you using Paramiko server for SFTP? Do you implement <code>SFTPServerInterface</code> on your own or do you use some existing implementation?"}, {"owner": {"reputation": 139, "user_id": 629019, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/befd546b719d0be7e961a9b18c8d1fb9?s=128&d=identicon&r=PG", "display_name": "Andrew", "link": "https://stackoverflow.com/users/629019/andrew"}, "reply_to_user": {"reputation": 144837, "user_id": 850848, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c287735beca76400cb9b6d08bf591cb9?s=128&d=identicon&r=PG", "display_name": "Martin Prikryl", "link": "https://stackoverflow.com/users/850848/martin-prikryl"}, "edited": false, "score": 0, "creation_date": 1426875911, "post_id": 29132544, "comment_id": 46564662, "body": "An existing one. Or that is the plan. (Hope this is formatted correctly)."}], "answers": [{"tags": [], "owner": {"reputation": 144837, "user_id": 850848, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c287735beca76400cb9b6d08bf591cb9?s=128&d=identicon&r=PG", "display_name": "Martin Prikryl", "link": "https://stackoverflow.com/users/850848/martin-prikryl"}, "is_accepted": true, "score": 1, "last_activity_date": 1535731236, "last_edit_date": 1535731236, "creation_date": 1426750705, "answer_id": 29139285, "question_id": 29132544, "link": "https://stackoverflow.com/questions/29132544/firing-an-event-on-sftp-file-receipt-completion-with-paramiko-sftp-server/29139285#29139285", "title": "Firing an event on SFTP file receipt completion with Paramiko SFTP server", "body": "<p>You need to override the <a href=\"https://docs.paramiko.org/en/stable/api/sftp.html#paramiko.sftp_handle.SFTPHandle.close\" rel=\"nofollow noreferrer\"><code>SFTPHandle.close</code> method</a>.</p>\n\n<p>Though it is called, whenever any kind of work with the file is finished. Including for example a download.</p>\n\n<p>If you need to filter out uploads only, you need to add more checks. Like verify that the file was originally opened with a write access. See the <code>flags</code> argument to the <a href=\"https://docs.paramiko.org/en/stable/api/sftp.html#paramiko.sftp_handle.SFTPHandle\" rel=\"nofollow noreferrer\"><code>SFTPHandle</code> constructor</a>.</p>\n"}], "owner": {"reputation": 139, "user_id": 629019, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/befd546b719d0be7e961a9b18c8d1fb9?s=128&d=identicon&r=PG", "display_name": "Andrew", "link": "https://stackoverflow.com/users/629019/andrew"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 325, "favorite_count": 1, "accepted_answer_id": 29139285, "answer_count": 1, "score": 0, "last_activity_date": 1535731236, "creation_date": 1426712387, "last_edit_date": 1426750803, "question_id": 29132544, "link": "https://stackoverflow.com/questions/29132544/firing-an-event-on-sftp-file-receipt-completion-with-paramiko-sftp-server", "title": "Firing an event on SFTP file receipt completion with Paramiko SFTP server", "body": "<p>If I use the Paramiko server for SFTP, is it possible to fire an event when a file is received?</p>\n\n<p>I have read the reference manual and looked at some example code and cannot see any examples.</p>\n"}, {"tags": ["python", "recursion"], "comments": [{"owner": {"reputation": 2483, "user_id": 1729005, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a471f843e0b60ef6683f2671d3fb9fe?s=128&d=identicon&r=PG", "display_name": "axblount", "link": "https://stackoverflow.com/users/1729005/axblount"}, "edited": false, "score": 2, "creation_date": 1426712052, "post_id": 29132422, "comment_id": 46490769, "body": "eventually alist will be empty"}], "answers": [{"comments": [{"owner": {"reputation": 229, "user_id": 4687215, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/b6d6ac037c3e0a232f661ae4eb809f98?s=128&d=identicon&r=PG&f=1", "display_name": "Deandre Yuself Bauswell", "link": "https://stackoverflow.com/users/4687215/deandre-yuself-bauswell"}, "edited": false, "score": 0, "creation_date": 1426712334, "post_id": 29132477, "comment_id": 46490913, "body": "That&#39;s perfect! Thanks. does that basically cause it to add up all the objects that have been queued by the recursive function? Just want to make sure I&#39;m properly understanding what that part of code does!"}, {"owner": {"reputation": 12620, "user_id": 4687135, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/386484f527a8df3c1fdd3e2dde112533?s=128&d=identicon&r=PG", "display_name": "Eric Renouf", "link": "https://stackoverflow.com/users/4687135/eric-renouf"}, "reply_to_user": {"reputation": 229, "user_id": 4687215, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/b6d6ac037c3e0a232f661ae4eb809f98?s=128&d=identicon&r=PG&f=1", "display_name": "Deandre Yuself Bauswell", "link": "https://stackoverflow.com/users/4687215/deandre-yuself-bauswell"}, "edited": false, "score": 0, "creation_date": 1426712708, "post_id": 29132477, "comment_id": 46491097, "body": "What you&#39;re doing is tearing the whole list apart then building it back up one element at a time as long as the element isn&#39;t what you&#39;re trying to remove.  The empty test gives you the the empty list to start adding all the other elements back into as you &quot;unwind&quot; the recursion."}], "tags": [], "owner": {"reputation": 12620, "user_id": 4687135, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/386484f527a8df3c1fdd3e2dde112533?s=128&d=identicon&r=PG", "display_name": "Eric Renouf", "link": "https://stackoverflow.com/users/4687135/eric-renouf"}, "is_accepted": true, "score": 6, "last_activity_date": 1426712159, "creation_date": 1426712159, "answer_id": 29132477, "question_id": 29132422, "link": "https://stackoverflow.com/questions/29132422/trying-to-make-a-recursive-program-that-removes-a-word-from-a-list/29132477#29132477", "title": "Trying to make a recursive program that removes a word from a list", "body": "<p>I think your problem is that you never test if alist is empty.  Since you keep removing the first element, eventually there won't be any elements left, and alist[0] will be an index out of range.  If you just add</p>\n\n<pre><code>if not alist:\n    return []\n</code></pre>\n\n<p>to the top of remove, I bet you'll be in good shape.</p>\n"}, {"tags": [], "owner": {"reputation": 718, "user_id": 4615680, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/0gJ1Z.jpg?s=128&g=1", "display_name": "Joshua Grigonis", "link": "https://stackoverflow.com/users/4615680/joshua-grigonis"}, "is_accepted": false, "score": 2, "last_activity_date": 1426712165, "creation_date": 1426712165, "answer_id": 29132482, "question_id": 29132422, "link": "https://stackoverflow.com/questions/29132422/trying-to-make-a-recursive-program-that-removes-a-word-from-a-list/29132482#29132482", "title": "Trying to make a recursive program that removes a word from a list", "body": "<p>Correct, this line:</p>\n\n<pre><code>if alist[0] == word:\n</code></pre>\n\n<p>Is trying to compare the first item in <code>alist</code> with <code>word</code>, but <code>alist</code> has no items.</p>\n"}], "owner": {"reputation": 229, "user_id": 4687215, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/b6d6ac037c3e0a232f661ae4eb809f98?s=128&d=identicon&r=PG&f=1", "display_name": "Deandre Yuself Bauswell", "link": "https://stackoverflow.com/users/4687215/deandre-yuself-bauswell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 1, "accepted_answer_id": 29132477, "answer_count": 2, "score": 2, "last_activity_date": 1426712619, "creation_date": 1426711954, "last_edit_date": 1426712608, "question_id": 29132422, "link": "https://stackoverflow.com/questions/29132422/trying-to-make-a-recursive-program-that-removes-a-word-from-a-list", "title": "Trying to make a recursive program that removes a word from a list", "body": "<pre><code>def main():\n\n    def remove(alist,word):\n        if alist[0] == word:\n            return remove(alist[1:],word)\n        else:\n            return [alist[0]] + remove(alist[1:],word)\n\n    list1 = ['dog','cat','horse','dog','cat','horse']\n\n    print(remove(list1,'dog'))\n\nmain()\n</code></pre>\n\n<p>This is my code. I'm not sure whats wrong with it. There is an error that says index out of range which I believe has to do with my third line but I'm not sure how to fix it.</p>\n"}, {"tags": ["python", "arrays", "numpy", "iteration", "euclidean-distance"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 5, "creation_date": 1426712261, "post_id": 29132417, "comment_id": 46490878, "body": "You may want to look at <a href=\"http://docs.scipy.org/doc/scipy/reference/generated/scipy.spatial.distance.pdist.html\" rel=\"nofollow noreferrer\"><code>scipy.spatial.distance.pdist</code></a>."}, {"owner": {"reputation": 11909, "user_id": 2476444, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/czrJP.png?s=128&g=1", "display_name": "Oliver W.", "link": "https://stackoverflow.com/users/2476444/oliver-w"}, "edited": false, "score": 2, "creation_date": 1426714784, "post_id": 29132417, "comment_id": 46492155, "body": "possible duplicate of <a href=\"http://stackoverflow.com/questions/28687321/computing-euclidean-distance-for-numpy-in-python\">Computing Euclidean distance for numpy in python</a>"}, {"owner": {"reputation": 962, "user_id": 269300, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/887b30a1318a5b5131817b0c1fd5070f?s=128&d=identicon&r=PG", "display_name": "Patrick McLaren", "link": "https://stackoverflow.com/users/269300/patrick-mclaren"}, "edited": false, "score": 0, "creation_date": 1426717196, "post_id": 29132417, "comment_id": 46493195, "body": "Note that in many geometries d(x, y) = 0 iff x = y, so you may want to skip that check, and deal with the zeros later on. Disregard this comment if you&#39;re dealing computing distance under a non-injective mapping - I just noticed you&#39;ve discussing &quot;features&quot; in your code, which suggests this may be the case."}, {"owner": {"reputation": 208, "user_id": 2312518, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5d6d6af5fad899d2c86373428a74c77?s=128&d=identicon&r=PG&f=1", "display_name": "phloem7", "link": "https://stackoverflow.com/users/2312518/phloem7"}, "reply_to_user": {"reputation": 962, "user_id": 269300, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/887b30a1318a5b5131817b0c1fd5070f?s=128&d=identicon&r=PG", "display_name": "Patrick McLaren", "link": "https://stackoverflow.com/users/269300/patrick-mclaren"}, "edited": false, "score": 0, "creation_date": 1426717520, "post_id": 29132417, "comment_id": 46493324, "body": "@PatrickMcLaren That may be. The main thrust behind the question is to find the nearest other geometry to a given geometry. If I leave in the zeros, then I&#39;m looking for the second-nearest geometry to each geometry, which seems more complicated."}, {"owner": {"reputation": 962, "user_id": 269300, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/887b30a1318a5b5131817b0c1fd5070f?s=128&d=identicon&r=PG", "display_name": "Patrick McLaren", "link": "https://stackoverflow.com/users/269300/patrick-mclaren"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 1, "creation_date": 1426718182, "post_id": 29132417, "comment_id": 46493551, "body": "Well, if you are willing to use scipy, then the comment by @user2357112 should do the trick. If not, you could use a list comprehension, say <code>distances = [dist(x, y) for x in npArray for y in npArray if x != y]</code>, where <code>dist</code> is some metric."}, {"owner": {"reputation": 5991, "user_id": 232371, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fb2a01bdde27923d196336fe006c8764?s=128&d=identicon&r=PG", "display_name": "Ben Usman", "link": "https://stackoverflow.com/users/232371/ben-usman"}, "edited": false, "score": 0, "creation_date": 1426723220, "post_id": 29132417, "comment_id": 46495159, "body": "In terms of math you could build a 3d tensor with sizes NxNx2 from two matrices of sized Nx2, by so-called <code>broadcasting</code> Nx2 matrix up to NxNx2 tensor and getting it&#39;s transposed version and subtracting them and then computing L2-norm over third axis. Than, I guess, you&#39;d have exactly matrix of pair-wise distances."}, {"owner": {"reputation": 48633, "user_id": 832621, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/xOSw3.png?s=128&g=1", "display_name": "Saullo G. P. Castro", "link": "https://stackoverflow.com/users/832621/saullo-g-p-castro"}, "edited": false, "score": 1, "creation_date": 1426725307, "post_id": 29132417, "comment_id": 46495712, "body": "@user2312518 I&#39;ve been <a href=\"http://stackoverflow.com/a/25551131/832621\">using cKDTree</a> that comes in SciPy to do this kind of task very efficiently, it seems much faster than calculating all the distances"}], "answers": [{"tags": [], "owner": {"reputation": 30, "user_id": 11648899, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d6981bf9eb02d6ac834cff42386e610?s=128&d=identicon&r=PG&f=1", "display_name": "wht", "link": "https://stackoverflow.com/users/11648899/wht"}, "is_accepted": false, "score": 0, "last_activity_date": 1560545513, "creation_date": 1560545513, "answer_id": 56604977, "question_id": 29132417, "link": "https://stackoverflow.com/questions/29132417/compute-numpy-array-pairwise-euclidean-distance-except-with-self/56604977#56604977", "title": "Compute numpy array pairwise Euclidean distance except with self", "body": "<p>Using SciPy's <a href=\"https://docs.scipy.org/doc/scipy/reference/generated/scipy.spatial.distance.pdist.html\" rel=\"nofollow noreferrer\"><strong>pdist</strong></a>, you could write something like</p>\n\n<pre><code>from scipy.spatial.distance import pdist, squareform\n\ndistances = squareform(pdist(npArray, lambda a,b: np.sqrt((a[0]-b[0])**2 + (a[1]-b[1])**2)))\n</code></pre>\n\n<p><code>pdist</code> will compute the pair-wise distances using the custom metric that ignores the 3rd coordinate (which is your ID in this case). <code>squareform</code> turns this into a more readable matrix such that <code>distances[0,1]</code> gives the distance between the 0th and 1st rows.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 12619765, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDifsdCnBoeF2E_Dsh1qo_3SxcJdv2ZAjFlrR1t=k-s128", "display_name": "Mohammad R. Moosavi", "link": "https://stackoverflow.com/users/12619765/mohammad-r-moosavi"}, "is_accepted": false, "score": 0, "last_activity_date": 1577635416, "last_edit_date": 1577635416, "creation_date": 1577634012, "answer_id": 59520806, "question_id": 29132417, "link": "https://stackoverflow.com/questions/29132417/compute-numpy-array-pairwise-euclidean-distance-except-with-self/59520806#59520806", "title": "Compute numpy array pairwise Euclidean distance except with self", "body": "<p>Each row of <code>X</code> is a 3 dimensional data instance or point.\nThe output <code>pairwisedist[i, j]</code> is distance of <code>X[i, :]</code> and <code>X[j, :]</code></p>\n\n<pre><code>X = np.array([[6,1,7],[10,9,4],[13,9,3],[10,8,15],[14,4,1]])\na = np.sum(X*X,1)\nb = np.repeat( a[:,np.newaxis],5,axis=1)\npairwisedist = b + b.T -2* X.dot(X.T)\n</code></pre>\n"}], "owner": {"reputation": 208, "user_id": 2312518, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5d6d6af5fad899d2c86373428a74c77?s=128&d=identicon&r=PG&f=1", "display_name": "phloem7", "link": "https://stackoverflow.com/users/2312518/phloem7"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2242, "favorite_count": 0, "answer_count": 2, "score": 4, "last_activity_date": 1577635416, "creation_date": 1426711945, "last_edit_date": 1426738541, "question_id": 29132417, "link": "https://stackoverflow.com/questions/29132417/compute-numpy-array-pairwise-euclidean-distance-except-with-self", "title": "Compute numpy array pairwise Euclidean distance except with self", "body": "<p>edit: this question is not specifically about calculating distances, rather the most efficient way to loop through a numpy array, specifying that for index i all comparisons should be made with the rest of the array, as long as the second index is not i.</p>\n\n<p>I have a numpy array with columns (X, Y, ID) and want to compare each element to each other element, but not itself. So, for each X, Y coordinate, I want to calculate the distance to each other X, Y coordinate, but not itself (where distance = 0).</p>\n\n<p>Here is what I have - there must be a more \"numpy\" way to write this. </p>\n\n<pre><code>import math, arcpy\n# Point feature class\nfc = \"MY_FEATURE_CLASS\"\n# Load points to numpy array: (X, Y, ID)\nnpArray = arcpy.da.FeatureClassToNumPyArray(fc,[\"SHAPE@X\",\"SHAPE@Y\",\"OID@\"])\nfor row in npArray:\n    for row2 in npArray:\n        if row[2] != row2[2]:\n            # Pythagoras's theorem\n            distance = math.sqrt(math.pow((row[0]-row2[0]),2)+math.pow((row[1]-row2[1]),2))\n</code></pre>\n\n<p>Obviously, I'm a numpy newbie. I will not be surprised to find this a duplicate, but I don't have the numpy vocabulary to search out the answer. Any help appreciated!</p>\n"}, {"tags": ["python", "multithreading", "numpy", "pyqt", "h5py"], "comments": [{"owner": {"reputation": 48633, "user_id": 832621, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/xOSw3.png?s=128&g=1", "display_name": "Saullo G. P. Castro", "link": "https://stackoverflow.com/users/832621/saullo-g-p-castro"}, "edited": false, "score": 0, "creation_date": 1426724812, "post_id": 29132381, "comment_id": 46495589, "body": "<a href=\"http://stackoverflow.com/a/16633274/832621\">this answer</a> shows how to achieve this using a <code>numpy.memmap</code> array"}, {"owner": {"reputation": 992, "user_id": 1561404, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0730f34cc6fe46747d435915bed5c1b9?s=128&d=identicon&r=PG", "display_name": "troy.unrau", "link": "https://stackoverflow.com/users/1561404/troy-unrau"}, "reply_to_user": {"reputation": 48633, "user_id": 832621, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/xOSw3.png?s=128&g=1", "display_name": "Saullo G. P. Castro", "link": "https://stackoverflow.com/users/832621/saullo-g-p-castro"}, "edited": false, "score": 0, "creation_date": 1426781577, "post_id": 29132381, "comment_id": 46521386, "body": "I&#39;m already successfully loading the data using a memmap array to read the data from disk, then storing that in an h5py file. The question is about doing the process concurrently."}], "answers": [{"comments": [{"owner": {"reputation": 10344, "user_id": 1994235, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc318537facc47ebe1ae98a7aabacecf?s=128&d=identicon&r=PG", "display_name": "three_pineapples", "link": "https://stackoverflow.com/users/1994235/three-pineapples"}, "edited": false, "score": 0, "creation_date": 1587779792, "post_id": 29360331, "comment_id": 108652045, "body": "Due to the demise of mercurial hosting on BitBucket, it is likely the links at the end of my post are going to break soon.&quot;zlock&quot; is now part of <a href=\"https://github.com/chrisjbillington/zprocess\" rel=\"nofollow noreferrer\">zprocess</a>. h5lock has seen updates, but they are incorporated into a larger project <a href=\"https://github.com/labscript-suite/labscript_utils/blob/master/h5_lock.py\" rel=\"nofollow noreferrer\">here</a>."}, {"owner": {"reputation": 10344, "user_id": 1994235, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc318537facc47ebe1ae98a7aabacecf?s=128&d=identicon&r=PG", "display_name": "three_pineapples", "link": "https://stackoverflow.com/users/1994235/three-pineapples"}, "edited": false, "score": 0, "creation_date": 1593496804, "post_id": 29360331, "comment_id": 110793785, "body": "Further update: Due to a package structure change, h5lock is now <a href=\"https://github.com/labscript-suite/labscript-utils/blob/2c7deba0b5c091b44a877f1cfe058df9b7d612aa/labscript_utils/h5_lock.py\" rel=\"nofollow noreferrer\">here</a>"}], "tags": [], "owner": {"reputation": 10344, "user_id": 1994235, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc318537facc47ebe1ae98a7aabacecf?s=128&d=identicon&r=PG", "display_name": "three_pineapples", "link": "https://stackoverflow.com/users/1994235/three-pineapples"}, "is_accepted": false, "score": 4, "last_activity_date": 1427774077, "creation_date": 1427774077, "answer_id": 29360331, "question_id": 29132381, "link": "https://stackoverflow.com/questions/29132381/how-to-load-from-disk-process-then-store-data-in-a-common-hdf5-concurrently-wi/29360331#29360331", "title": "How to load from disk, process, then store data in a common hdf5 concurrently with python, pyqt, h5py?", "body": "<p>This is quite a complex problem to solve, and this format is not really suited to providing complete answers to all your questions. However, I'll attempt to put you on the right track.</p>\n\n<blockquote>\n  <p>How do I make this process non-blocking, so that the UI is still responsive? I'd still like my processing function to be able to update the QProgressDialog and it's associated label.</p>\n</blockquote>\n\n<p>To make it non-blocking, you need to offload the processing into a Python thread or <code>QThread</code>. Better yet, offload it into a subprocess that communicates progress back to the main program via a thread in the main program.</p>\n\n<p>I'll leave you to implement (or ask another question on) creating subprocesses or threads. However, you need to be aware that only the MainThread can access GUI methods. This means you need to emit a signal if using a <code>QThread</code> or use <code>QApplication.postEvent()</code> from a python thread (I've wrapped the latter up into a library for Python 2.7 <a href=\"https://bitbucket.org/philipstarkey/qtutils/overview\" rel=\"nofollow\">here</a>. Python 3 compatibility will come one day)</p>\n\n<blockquote>\n  <p>Can I extend this to process more than one dataset concurrently and retain the ability to update the progressbar info?</p>\n</blockquote>\n\n<p>Yes. One example would be to spawn many subprocesses. Each subprocess can be configured to send messages back to an associated thread in the main process, which communicates the progress information to the GUI via the method described for the above point. How you display this progress information is up to you.</p>\n\n<blockquote>\n  <p>Can I write into h5py from more than one thread/process/etc.? Will I have to implement locking on the write operation?</p>\n</blockquote>\n\n<p>You should not write to a hdf5 file from more than one thread at a time. You will need to implement locking. I think possibly even read access should be serialised.</p>\n\n<p>A colleague of mine has produced something along these lines for Python 2.7 (see <a href=\"https://bitbucket.org/cbillington/h5lock\" rel=\"nofollow\">here</a> and <a href=\"https://bitbucket.org/cbillington/zlock\" rel=\"nofollow\">here</a>), you are welcome to look at it or fork it if you wish.</p>\n"}], "owner": {"reputation": 992, "user_id": 1561404, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0730f34cc6fe46747d435915bed5c1b9?s=128&d=identicon&r=PG", "display_name": "troy.unrau", "link": "https://stackoverflow.com/users/1561404/troy-unrau"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 466, "favorite_count": 0, "answer_count": 1, "score": 5, "last_activity_date": 1427774077, "creation_date": 1426711793, "question_id": 29132381, "link": "https://stackoverflow.com/questions/29132381/how-to-load-from-disk-process-then-store-data-in-a-common-hdf5-concurrently-wi", "title": "How to load from disk, process, then store data in a common hdf5 concurrently with python, pyqt, h5py?", "body": "<p>Premise:</p>\n\n<p>I've created a mainwindow. One of the drop down menu's has an 'ProcessData' item. When it's selected, I create a QProgressDialog. I then do a lot of processing in the main loop and periodically update the label and percentage in the QProgressDialog.</p>\n\n<p>My processing looks like: read a large amount of data from a file (numpy memmapped array), do some signal processing, write the output to a common h5py file. I iterate over the available input files, and all of the output is stored in a common h5py hdf5 file. The entire process takes about two minutes per input file and pins one CPU to 100%.</p>\n\n<p>Goal:</p>\n\n<p>How do I make this process non-blocking, so that the UI is still responsive? I'd still like my processing function to be able to update the QProgressDialog and it's associated label.</p>\n\n<p>Can I extend this to process more than one dataset concurrently and retain the ability to update the progressbar info?</p>\n\n<p>Can I write into h5py from more than one thread/process/etc.? Will I have to implement locking on the write operation?</p>\n\n<p>Software Versions:</p>\n\n<p>I use python 3.3+ with numpy/scipy/etc. UI is in PyQt4 4.11/ Qt 4.8, although I'd be interested in solutions that use python 3.4 (and therefore asyncio) or PyQt5.</p>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 19530, "user_id": 2823755, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vCEUU.png?s=128&g=1", "display_name": "wwii", "link": "https://stackoverflow.com/users/2823755/wwii"}, "edited": false, "score": 1, "creation_date": 1426712528, "post_id": 29132377, "comment_id": 46491009, "body": "Use the first three values for the <code>columns</code> argument and the rest (taken in groups of three) for the data.  If the list is named <code>a</code> then <code>zip(a[::3], a[1::3], a[2::3]</code> should get you started."}], "answers": [{"comments": [{"owner": {"reputation": 1823, "user_id": 1128088, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/f44270237cf68c8f67bdb4dad526f0a1?s=128&d=identicon&r=PG", "display_name": "ArchieTiger", "link": "https://stackoverflow.com/users/1128088/archietiger"}, "edited": false, "score": 0, "creation_date": 1426713156, "post_id": 29132517, "comment_id": 46491360, "body": "is it possible to get the rows dynamically without specifying them manually <code>data=[data[&#39;2344&#39;][3:6], data[&#39;2344&#39;][6:]]</code> ?"}, {"owner": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "reply_to_user": {"reputation": 1823, "user_id": 1128088, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/f44270237cf68c8f67bdb4dad526f0a1?s=128&d=identicon&r=PG", "display_name": "ArchieTiger", "link": "https://stackoverflow.com/users/1128088/archietiger"}, "edited": false, "score": 0, "creation_date": 1426713256, "post_id": 29132517, "comment_id": 46491410, "body": "You&#39;d have to know what your data structure was before hand, in this case you&#39;d have to know that the columns were the first three values and the following 3 values are the row data"}, {"owner": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "reply_to_user": {"reputation": 1823, "user_id": 1128088, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/f44270237cf68c8f67bdb4dad526f0a1?s=128&d=identicon&r=PG", "display_name": "ArchieTiger", "link": "https://stackoverflow.com/users/1128088/archietiger"}, "edited": false, "score": 0, "creation_date": 1426714173, "post_id": 29132517, "comment_id": 46491877, "body": "I&#39;ve added some code that should be able to handle a variable length or the rows in the list"}, {"owner": {"reputation": 1823, "user_id": 1128088, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/f44270237cf68c8f67bdb4dad526f0a1?s=128&d=identicon&r=PG", "display_name": "ArchieTiger", "link": "https://stackoverflow.com/users/1128088/archietiger"}, "edited": false, "score": 0, "creation_date": 1426758859, "post_id": 29132517, "comment_id": 46506314, "body": "do you happen to have a work around on on the data if it contains subitems in single quotes, <code>data = {u&#39;2344&#39;: [&#39;&quot;id&quot;, &quot;value1&quot;, &quot;value2&quot;&#39;, &#39;&quot;01&quot;, &quot;Addf112&quot;, &quot;Addf113&quot;&#39;,&#39; &quot;02&quot;, &quot; &quot;, &quot;Addf213&quot;&#39;]}</code>"}, {"owner": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "reply_to_user": {"reputation": 1823, "user_id": 1128088, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/f44270237cf68c8f67bdb4dad526f0a1?s=128&d=identicon&r=PG", "display_name": "ArchieTiger", "link": "https://stackoverflow.com/users/1128088/archietiger"}, "edited": false, "score": 0, "creation_date": 1426759093, "post_id": 29132517, "comment_id": 46506493, "body": "My code would still work, you&#39;d pass the <code>stride</code> value as <code>1</code> in that case <code>pd.DataFrame(chunker(data[&#39;2344&#39;],1))</code>"}, {"owner": {"reputation": 1823, "user_id": 1128088, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/f44270237cf68c8f67bdb4dad526f0a1?s=128&d=identicon&r=PG", "display_name": "ArchieTiger", "link": "https://stackoverflow.com/users/1128088/archietiger"}, "edited": false, "score": 0, "creation_date": 1426763265, "post_id": 29132517, "comment_id": 46508974, "body": "all the values comes with double quotes, how do I remove this?"}, {"owner": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "reply_to_user": {"reputation": 1823, "user_id": 1128088, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/f44270237cf68c8f67bdb4dad526f0a1?s=128&d=identicon&r=PG", "display_name": "ArchieTiger", "link": "https://stackoverflow.com/users/1128088/archietiger"}, "edited": false, "score": 0, "creation_date": 1426764002, "post_id": 29132517, "comment_id": 46509410, "body": "Please post another question, it doesn&#39;t help anyone to keep changing your data and question and using comments to seek further answers"}], "tags": [], "owner": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "is_accepted": true, "score": 1, "last_activity_date": 1426714144, "last_edit_date": 1495540616, "creation_date": 1426712300, "answer_id": 29132517, "question_id": 29132377, "link": "https://stackoverflow.com/questions/29132377/unpack-list-into-pandas/29132517#29132517", "title": "Unpack list into pandas", "body": "<p>You'd have to extract the individual elements for the column names and then construct a list consisting of 2 lists for your 2 rows of data:</p>\n\n<pre><code>In [23]:\n\ndata = {u'2344': [\"id\", \"value1\", \"value2\", \"01\", \"Addf112\", \"Addf113\", \"02\", \" \", \"Addf213\"]}\n\npd.DataFrame(columns = data['2344'][:3], data=[data['2344'][3:6], data['2344'][6:]])\nOut[23]:\n   id   value1   value2\n0  01  Addf112  Addf113\n1  02           Addf213\n</code></pre>\n\n<p>A dynamic method would be to use a chunker (modified from one of the answers to this <a href=\"https://stackoverflow.com/questions/434287/what-is-the-most-pythonic-way-to-iterate-over-a-list-in-chunks\">question</a>) to build the dict and use this to construct the df:</p>\n\n<pre><code>In [59]:\n\ndef chunker(seq, stride):\n    cols = seq[:stride]\n    data = [seq[stride:][pos::stride] for pos in range(0, stride)]\n    return dict(zip(cols,data))\n\npd.DataFrame(chunker(data['2344'],3))\n\nOut[59]:\n   id   value1   value2\n0  01  Addf112  Addf113\n1  02           Addf213\n</code></pre>\n"}], "owner": {"reputation": 1823, "user_id": 1128088, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/f44270237cf68c8f67bdb4dad526f0a1?s=128&d=identicon&r=PG", "display_name": "ArchieTiger", "link": "https://stackoverflow.com/users/1128088/archietiger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 927, "favorite_count": 0, "accepted_answer_id": 29132517, "answer_count": 1, "score": 0, "last_activity_date": 1426714144, "creation_date": 1426711784, "question_id": 29132377, "link": "https://stackoverflow.com/questions/29132377/unpack-list-into-pandas", "title": "Unpack list into pandas", "body": "<p>Given I have a list, how can I unpack it into a pandas data frame such as:</p>\n\n<pre><code>data = {u'2344': [\"id\", \"value1\", \"value2\", \"01\", \"Addf112\", \"Addf113\", \"02\", \" \", \"Addf213\"]}\n\n&gt;&gt; id  value1  value2\n   01  Ad112   Ad113\n   02          Ad213\n</code></pre>\n"}, {"tags": ["python", "macos", "tkinter", "pygame"], "comments": [{"owner": {"reputation": 12066, "user_id": 3924118, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/abb01e1c2a8e3d9e1534dca14b19b3d8?s=128&d=identicon&r=PG&f=1", "display_name": "nbro", "link": "https://stackoverflow.com/users/3924118/nbro"}, "edited": false, "score": 0, "creation_date": 1426778429, "post_id": 29132355, "comment_id": 46519179, "body": "I have used Tkinter with Pygame just once to make an initial menu for a game (before starting the Pygame&#39;s loop). I think your problem is expectable, because you are trying to run the Tk mainloop contemporarily to the main loop of Pygame. This of course can cause problems... There are some post on SO that talks about possible solutions..."}], "answers": [{"comments": [{"owner": {"reputation": 113, "user_id": 2012855, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YqNeo.jpg?s=128&g=1", "display_name": "crossin", "link": "https://stackoverflow.com/users/2012855/crossin"}, "edited": false, "score": 0, "creation_date": 1572071770, "post_id": 57104677, "comment_id": 103454838, "body": "same problem with you. pygame before tk will crush"}], "tags": [], "owner": {"reputation": 11, "user_id": 11805879, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-943eSd2MauY/AAAAAAAAAAI/AAAAAAAAABY/pJiXHQUlVJw/photo.jpg?sz=128", "display_name": "cmh5115", "link": "https://stackoverflow.com/users/11805879/cmh5115"}, "is_accepted": false, "score": 1, "last_activity_date": 1563502288, "creation_date": 1563502288, "answer_id": 57104677, "question_id": 29132355, "link": "https://stackoverflow.com/questions/29132355/tkinter-interfering-with-pygame-on-osx-abort-trap-6/57104677#57104677", "title": "Tkinter interfering with pygame on OSX (abort trap 6)", "body": "<p>I had the same problem and finally got my program to work by changing the order: the pygame loop has to start <strong>after</strong> the tk window/mainloop.</p>\n\n<p>I am using macosx mojave 10.14.3 and python3.7 with pygame 1.9.6</p>\n"}], "owner": {"reputation": 6932, "user_id": 774236, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/7e46879a230ff1e28cd975e3b0a0873b?s=128&d=identicon&r=PG", "display_name": "Matteo Monti", "link": "https://stackoverflow.com/users/774236/matteo-monti"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 402, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1563502288, "creation_date": 1426711720, "question_id": 29132355, "link": "https://stackoverflow.com/questions/29132355/tkinter-interfering-with-pygame-on-osx-abort-trap-6", "title": "Tkinter interfering with pygame on OSX (abort trap 6)", "body": "<p>I am working with OSX Yosemite. Here is my code:</p>\n\n<p><a href=\"http://pastebin.com/AWGu37z4\" rel=\"nofollow\">http://pastebin.com/AWGu37z4</a></p>\n\n<p>Here is my input file (to run it, just do python myscript.py myinput.txt):</p>\n\n<p><a href=\"http://pastebin.com/ueaeY0Ss\" rel=\"nofollow\">http://pastebin.com/ueaeY0Ss</a></p>\n\n<p>When I press the s button, a TK window should appear to show an text input box. If I cut and paste the code to just show the window and run it on its own, it works fine. However, if I run it in the middle of the simulation with the pygame window open and running, I get the following error (abort trap 6):</p>\n\n<p><a href=\"http://pastebin.com/TCwUxjCM\" rel=\"nofollow\">http://pastebin.com/TCwUxjCM</a></p>\n\n<p>I have no idea on what this could be, nor on how to solve it.</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 4, "creation_date": 1426711582, "post_id": 29132274, "comment_id": 46490526, "body": "Could you provide the full traceback?"}, {"owner": {"reputation": 4701, "user_id": 1770601, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/pp9hI.jpg?s=128&g=1", "display_name": "ha9u63ar", "link": "https://stackoverflow.com/users/1770601/ha9u63ar"}, "edited": false, "score": 0, "creation_date": 1426711693, "post_id": 29132274, "comment_id": 46490582, "body": "Have you had any <code>import sys</code> directive before the script started?"}, {"owner": {"reputation": 16594, "user_id": 1050619, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/784ade8d4151295e24765ffc4fcd60b4?s=128&d=identicon&r=PG", "display_name": "user1050619", "link": "https://stackoverflow.com/users/1050619/user1050619"}, "edited": false, "score": 0, "creation_date": 1426711723, "post_id": 29132274, "comment_id": 46490597, "body": "Yes, import sys is already in the code..I have given the full traceback"}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 1, "creation_date": 1426712992, "post_id": 29132274, "comment_id": 46491270, "body": "That traceback doesn&#39;t seem to match the behaviour - <code>exc_info</code> doesn&#39;t need to be defined to be assigned to, and if <code>sys.exc_info</code> was missing you&#39;d get an <code>AttributeError</code> instead."}], "owner": {"reputation": 16594, "user_id": 1050619, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/784ade8d4151295e24765ffc4fcd60b4?s=128&d=identicon&r=PG", "display_name": "user1050619", "link": "https://stackoverflow.com/users/1050619/user1050619"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 6780, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1426791870, "creation_date": 1426711461, "question_id": 29132274, "link": "https://stackoverflow.com/questions/29132274/python-traceback-exception-global-name-not-defined", "title": "python traceback exception global name not defined", "body": "<p>I have the below code that writes a file and prints any exception.</p>\n\n<p>Currently, i get a exception as the folder is not available(thats valid) but I get a </p>\n\n<pre><code>error\n\n \"global name 'exc_info' is not defined\"...\n</code></pre>\n\n<p>Code</p>\n\n<pre><code>try:\n        with open(tmp_file_upload + uploadfile.raw_filename,'w') as open_file:\n                open_file.write(uploadfile.file.read())\n    except Exception,err:\n        import traceback\n        exc_info = sys.exc_info()\n        traceback.print_exception(*exc_info)\n        print \"File write failed\"\n</code></pre>\n\n<p>Full trace:</p>\n\n<pre><code>[Wed Mar 18 16:28:48 2015] [error] [client 10.172.16.81]   File \"/web/docs/bottle.py\", line 861, in _handle\n[Wed Mar 18 16:28:48 2015] [error] [client 10.172.16.81]     return route.call(**args)\n[Wed Mar 18 16:28:48 2015] [error] [client 10.172.16.81]   File \"/web/docs/bottle.py\", line 1725, in wrapper\n[Wed Mar 18 16:28:48 2015] [error] [client 10.172.16.81]     rv = callback(*a, **ka)\n[Wed Mar 18 16:28:48 2015] [error] [client 10.172.16.81]   File \"/web/docs/GUI/PBottleApp.py\", line 293, in datasets\n[Wed Mar 18 16:28:48 2015] [error] [client 10.172.16.81]     exc_info = sys.exc_info()\n[Wed Mar 18 16:28:48 2015] [error] [client 10.172.16.81] NameError: global name 'exc_info' is not defined\n</code></pre>\n"}, {"tags": ["python", "selenium-webdriver", "beautifulsoup", "desktop-application"], "comments": [{"owner": {"reputation": 4979, "user_id": 2676531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc88aa76113d738e11685389a1409a26?s=128&d=identicon&r=PG", "display_name": "Celeo", "link": "https://stackoverflow.com/users/2676531/celeo"}, "edited": false, "score": 0, "creation_date": 1426711912, "post_id": 29132237, "comment_id": 46490688, "body": "You need to clarify. What do you mean by &quot;<i>beautiful soup not work right</i>&quot; - what happens and how does that differ from the desired behavior?"}, {"owner": {"reputation": 29, "user_id": 4614042, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/208a74229d1b4f38bd5241c722d5e9e5?s=128&d=identicon&r=PG&f=1", "display_name": "theasker2000", "link": "https://stackoverflow.com/users/4614042/theasker2000"}, "reply_to_user": {"reputation": 4979, "user_id": 2676531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc88aa76113d738e11685389a1409a26?s=128&d=identicon&r=PG", "display_name": "Celeo", "link": "https://stackoverflow.com/users/2676531/celeo"}, "edited": false, "score": 0, "creation_date": 1426712001, "post_id": 29132237, "comment_id": 46490737, "body": "that the resualt Traceback (most recent call last):   File &quot;tk.py&quot;, line 28, in &lt;module&gt;     soup = BeautifulSoup(html) NameError: name &#39;html&#39; is not defined"}], "answers": [{"comments": [{"owner": {"reputation": 29, "user_id": 4614042, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/208a74229d1b4f38bd5241c722d5e9e5?s=128&d=identicon&r=PG&f=1", "display_name": "theasker2000", "link": "https://stackoverflow.com/users/4614042/theasker2000"}, "edited": false, "score": 0, "creation_date": 1426714800, "post_id": 29132779, "comment_id": 46492165, "body": "Traceback (most recent call last):   File &quot;tk.py&quot;, line 33, in &lt;module&gt;     for link in BeautifulSoup(response, parseOnlyThese=SoupStrainer(&#39;a&#39;)): NameError: name &#39;response&#39; is not defined"}, {"owner": {"reputation": 4979, "user_id": 2676531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc88aa76113d738e11685389a1409a26?s=128&d=identicon&r=PG", "display_name": "Celeo", "link": "https://stackoverflow.com/users/2676531/celeo"}, "reply_to_user": {"reputation": 29, "user_id": 4614042, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/208a74229d1b4f38bd5241c722d5e9e5?s=128&d=identicon&r=PG&f=1", "display_name": "theasker2000", "link": "https://stackoverflow.com/users/4614042/theasker2000"}, "edited": false, "score": 0, "creation_date": 1426715359, "post_id": 29132779, "comment_id": 46492438, "body": "Updated for second error.  Did you copy this code from somewhere or are you writing it?"}, {"owner": {"reputation": 29, "user_id": 4614042, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/208a74229d1b4f38bd5241c722d5e9e5?s=128&d=identicon&r=PG&f=1", "display_name": "theasker2000", "link": "https://stackoverflow.com/users/4614042/theasker2000"}, "edited": false, "score": 0, "creation_date": 1426757419, "post_id": 29132779, "comment_id": 46505514, "body": "so you mean i should remove this line ?"}], "tags": [], "owner": {"reputation": 4979, "user_id": 2676531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc88aa76113d738e11685389a1409a26?s=128&d=identicon&r=PG", "display_name": "Celeo", "link": "https://stackoverflow.com/users/2676531/celeo"}, "is_accepted": false, "score": 0, "last_activity_date": 1426718131, "last_edit_date": 1426718131, "creation_date": 1426713173, "answer_id": 29132779, "question_id": 29132237, "link": "https://stackoverflow.com/questions/29132237/using-beautifulsoup-and-selenium-to-get-links-from-a-webpage-with-certain-words/29132779#29132779", "title": "Using Beautifulsoup and Selenium to get links from a webpage with certain words", "body": "<p>You never declared <code>html</code>.</p>\n\n<p>Selenium's webdriver has a <a href=\"http://selenium-python.readthedocs.org/en/latest/api.html#selenium.webdriver.remote.webdriver.WebDriver.page_source\" rel=\"nofollow\"><code>page_source</code></a> method that you can use:</p>\n\n<pre><code>soup = BeautifulSoup(driver.page_source)\n</code></pre>\n\n<p><strong>Update for second error</strong></p>\n\n<p>Your line,</p>\n\n<pre><code>status, response = ('https://www.facebook.com/groups/?category=membership')\n</code></pre>\n\n<p>is trying to assign that string to both <code>status</code> and <code>response</code>. There's nothing to assign to <code>response</code>, and therefore that variable is undefined.</p>\n"}, {"comments": [{"owner": {"reputation": 29, "user_id": 4614042, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/208a74229d1b4f38bd5241c722d5e9e5?s=128&d=identicon&r=PG&f=1", "display_name": "theasker2000", "link": "https://stackoverflow.com/users/4614042/theasker2000"}, "edited": false, "score": 0, "creation_date": 1426938322, "post_id": 29177985, "comment_id": 46580759, "body": "soup = BeautifulSoup(html) NameError: name &#39;html&#39; is not defined"}, {"owner": {"reputation": 29, "user_id": 4614042, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/208a74229d1b4f38bd5241c722d5e9e5?s=128&d=identicon&r=PG&f=1", "display_name": "theasker2000", "link": "https://stackoverflow.com/users/4614042/theasker2000"}, "edited": false, "score": 0, "creation_date": 1426958253, "post_id": 29177985, "comment_id": 46586635, "body": "Traceback (most recent call last):   File &quot;tk.py&quot;, line 43, in &lt;module&gt;     for i in soup.find_all(&#39;a&#39;): TypeError: &#39;NoneType&#39; object is not callable"}, {"owner": {"reputation": 399, "user_id": 2994402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6407c6425df8f6fae7d9a49836dfdf8a?s=128&d=identicon&r=PG&f=1", "display_name": "James John", "link": "https://stackoverflow.com/users/2994402/james-john"}, "reply_to_user": {"reputation": 29, "user_id": 4614042, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/208a74229d1b4f38bd5241c722d5e9e5?s=128&d=identicon&r=PG&f=1", "display_name": "theasker2000", "link": "https://stackoverflow.com/users/4614042/theasker2000"}, "edited": false, "score": 0, "creation_date": 1426974048, "post_id": 29177985, "comment_id": 46591493, "body": "Means it never found any link on a page or html variable"}], "tags": [], "owner": {"reputation": 399, "user_id": 2994402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6407c6425df8f6fae7d9a49836dfdf8a?s=128&d=identicon&r=PG&f=1", "display_name": "James John", "link": "https://stackoverflow.com/users/2994402/james-john"}, "is_accepted": false, "score": 0, "last_activity_date": 1426898888, "creation_date": 1426898888, "answer_id": 29177985, "question_id": 29132237, "link": "https://stackoverflow.com/questions/29132237/using-beautifulsoup-and-selenium-to-get-links-from-a-webpage-with-certain-words/29177985#29177985", "title": "Using Beautifulsoup and Selenium to get links from a webpage with certain words", "body": "<p>I think BeautifulSoup isn't returning the links right?</p>\n\n<p>I do find links in BeautifulSoup with</p>\n\n<pre><code>soup = BeautifulSoup( html )\nfor i in soup.find_all( 'a' ):\nif '/groups/' in i.get( 'href' ):\n    print( i.get( 'href' ) )\n</code></pre>\n"}], "owner": {"reputation": 29, "user_id": 4614042, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/208a74229d1b4f38bd5241c722d5e9e5?s=128&d=identicon&r=PG&f=1", "display_name": "theasker2000", "link": "https://stackoverflow.com/users/4614042/theasker2000"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1110, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1426898888, "creation_date": 1426711319, "last_edit_date": 1426718103, "question_id": 29132237, "link": "https://stackoverflow.com/questions/29132237/using-beautifulsoup-and-selenium-to-get-links-from-a-webpage-with-certain-words", "title": "Using Beautifulsoup and Selenium to get links from a webpage with certain words", "body": "<p>I wrote this code to log in to my FB account and get all grouplinks on the page using Selenuim and BeautifulSoup but the BeautifulSoup usage isn't working correctly.</p>\n\n<p>I want to know how to use Selenuim and BeautifulSoup in the same code.</p>\n\n<p>I don't want to use the Facebook API; I want to use Selenium and BeautifulSoup.</p>\n\n<pre><code>from selenium import webdriver\nfrom selenium.webdriver.common.keys import Keys\nfrom selenium.webdriver.common.by import By\nimport httplib2\nfrom BeautifulSoup import BeautifulSoup, SoupStrainer\n\n\nusr = raw_input('--&gt; ')\npwd = raw_input('--&gt; ')\npoo = raw_input('--&gt; ')\n\ndriver = webdriver.Firefox()\n# or you can use Chrome(executable_path=\"/usr/bin/chromedriver\")\ndriver.get(\"https://www.facebook.com/groups/?category=membership\")\nassert \"Facebook\" in driver.title\nelem = driver.find_element_by_id(\"email\")\nelem.send_keys(usr)\nelem = driver.find_element_by_id(\"pass\")\nelem.send_keys(pwd)\nelem.send_keys(Keys.RETURN)\n\nscheight = .1\nwhile scheight &lt; 9.9:\n    driver.execute_script(\"window.scrollTo(0, document.body.scrollHeight/%s);\" % scheight)\n    scheight += .01\nsoup = BeautifulSoup(html)\nhttp = httplib2.Http()\nstatus, response = ('https://www.facebook.com/groups/?category=membership')\n\ncount = 0\nfor link in BeautifulSoup(response, parseOnlyThese=SoupStrainer('a')):\n     count = count + 1\nprint 'Count: ', count \n\nfor tag in BeautifulSoup(('a')):\n    if link.has_key('href'):\n        if '/groups/' in link['href']:\n\n          print link['href']\n\n\nelem = driver.find_element_by_css_selector(\".input.textInput\")\nelem.send_keys(poo)\nelem = driver.find_element_by_css_selector(\".selected\")\nelem.send_keys(Keys.RETURN)\nelem.click()\ntime.sleep(5)\n</code></pre>\n"}, {"tags": ["python", "windows", "python-2.7", "pipe", "stdout"], "answers": [{"comments": [{"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "reply_to_user": {"reputation": 3, "user_id": 3581251, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002153377094/picture?type=large", "display_name": "Anton Kapelyushok", "link": "https://stackoverflow.com/users/3581251/anton-kapelyushok"}, "edited": false, "score": 0, "creation_date": 1426714030, "post_id": 29132295, "comment_id": 46491805, "body": "Just saw the sleep command, that is causing the issue, try flushing stdout"}, {"owner": {"reputation": 3, "user_id": 3581251, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002153377094/picture?type=large", "display_name": "Anton Kapelyushok", "link": "https://stackoverflow.com/users/3581251/anton-kapelyushok"}, "edited": false, "score": 0, "creation_date": 1426715987, "post_id": 29132295, "comment_id": 46492706, "body": "fflush(stdout) works but I cant do this.  Originally &quot;a.exe&quot; is a server and i havent access to its source code.  sys.stdout.flush() doesnt  work"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "reply_to_user": {"reputation": 3, "user_id": 3581251, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002153377094/picture?type=large", "display_name": "Anton Kapelyushok", "link": "https://stackoverflow.com/users/3581251/anton-kapelyushok"}, "edited": false, "score": 0, "creation_date": 1426716027, "post_id": 29132295, "comment_id": 46492723, "body": "is there a <code>stdbuf</code> command on windows or a way to run the command redirecting stdout to stderr just to check?"}, {"owner": {"reputation": 3, "user_id": 3581251, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002153377094/picture?type=large", "display_name": "Anton Kapelyushok", "link": "https://stackoverflow.com/users/3581251/anton-kapelyushok"}, "edited": false, "score": 0, "creation_date": 1426716309, "post_id": 29132295, "comment_id": 46492841, "body": "I dont know. After quick googling i&#39;d say no. But i found this: <a href=\"http://stackoverflow.com/questions/3385427/disable-buffering-on-redirected-stdout-pipe-win32-api-c\">Disable Buffering on Redirected Stdout Pipe win32 api c</a> and seems like it cant be done on Windows.."}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "reply_to_user": {"reputation": 3, "user_id": 3581251, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002153377094/picture?type=large", "display_name": "Anton Kapelyushok", "link": "https://stackoverflow.com/users/3581251/anton-kapelyushok"}, "edited": false, "score": 0, "creation_date": 1426716616, "post_id": 29132295, "comment_id": 46492977, "body": "I had a look also, seems there is definitely not an equivalent command , you might be able to use pexpect, you need to somehow convince the app that is is writing to a console not a pipe"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "reply_to_user": {"reputation": 3, "user_id": 3581251, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002153377094/picture?type=large", "display_name": "Anton Kapelyushok", "link": "https://stackoverflow.com/users/3581251/anton-kapelyushok"}, "edited": false, "score": 0, "creation_date": 1426717079, "post_id": 29132295, "comment_id": 46493160, "body": "I really don&#39;t see a simple way of doing it from windows without using a pseudo-tty but how well it would work on windows I don&#39;t know."}, {"owner": {"reputation": 29355, "user_id": 205580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/460e6e299e385fd46df156c85a1dd55f?s=128&d=identicon&r=PG", "display_name": "Eryk Sun", "link": "https://stackoverflow.com/users/205580/eryk-sun"}, "edited": false, "score": 0, "creation_date": 1426729787, "post_id": 29132295, "comment_id": 46496812, "body": "There&#39;s no simple Windows equivalent of the Linux <code>LD_PRELOAD</code> code injection trick that <code>stdbuf</code> uses. You may be able to inject a DLL (via <code>OpenProcess</code>, <code>VirtualAllocEx</code>, <code>WriteProcessMemory</code>, <code>CreateRemoteThread</code> =&gt; <code>LoadLibrary</code>) that links with the target CRT to reopen the standard file descriptors and set no buffering or line buffering mode. I haven&#39;t tried this, however."}], "tags": [], "owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "is_accepted": true, "score": 0, "last_activity_date": 1426717284, "last_edit_date": 1426717284, "creation_date": 1426711532, "answer_id": 29132295, "question_id": 29132214, "link": "https://stackoverflow.com/questions/29132214/capture-stdout-from-a-running-c-program-with-python/29132295#29132295", "title": "Capture stdout from a running C program with Python", "body": "<p>The output is being buffered so you need to use<code>iter(p.stdout.readline,\"\")</code></p>\n\n<pre><code>p = Popen(\"a.exe\", stdout=PIPE)\n\nfor line in iter(p.stdout.readline,\"\"):\n     print line\n</code></pre>\n\n<p>Try flushing stdout from c if <code>sys.stdout.flush()</code> if  is not working, as far as I know lines are block buffered when writing to a pipe:</p>\n\n<pre><code>int main() {\n    for (int i=0;; i++) {\n        printf(\"%i\\n\",i);\n        Sleep(100);\n        fflush(stdout);\n\n    }\n    return 0;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3, "user_id": 3581251, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002153377094/picture?type=large", "display_name": "Anton Kapelyushok", "link": "https://stackoverflow.com/users/3581251/anton-kapelyushok"}, "edited": false, "score": 0, "creation_date": 1426714509, "post_id": 29132908, "comment_id": 46492021, "body": "The problem is not with reading output. As I understood program buffers its output and you cant get any data until the buffer is full or the program is finished. Is there any way to force program to output data? p.stdout.flush() does nt work for some reason"}], "tags": [], "owner": {"reputation": 5266, "user_id": 1965288, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1c4aa96c142bef1e4aff1c8d38ef52ae?s=128&d=identicon&r=PG&f=1", "display_name": "justengel", "link": "https://stackoverflow.com/users/1965288/justengel"}, "is_accepted": false, "score": 0, "last_activity_date": 1426713575, "creation_date": 1426713575, "answer_id": 29132908, "question_id": 29132214, "link": "https://stackoverflow.com/questions/29132214/capture-stdout-from-a-running-c-program-with-python/29132908#29132908", "title": "Capture stdout from a running C program with Python", "body": "<p>Rough example of something I did a long time ago.</p>\n\n<pre><code>process = subprocess.Popen(cmd, stdout=subprocess.PIPE, stderr=subprocess.PIPE)\nwhile process.poll() is None:\n    txt = process.stdout.read().decode(\"utf-8\")\n    result += txt\n</code></pre>\n\n<p>You can make your own StringIO which handles file io operations like read and write.</p>\n\n<p><a href=\"https://docs.python.org/3/library/io.html\" rel=\"nofollow\">https://docs.python.org/3/library/io.html</a></p>\n\n<p>I have not tested the code below!</p>\n\n<pre><code>import io\nbuffer = io.StringIO()\np = Popen([\"a.exe\"], stdout=buffer)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3, "user_id": 3581251, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002153377094/picture?type=large", "display_name": "Anton Kapelyushok", "link": "https://stackoverflow.com/users/3581251/anton-kapelyushok"}, "edited": false, "score": 0, "creation_date": 1426716037, "post_id": 29133142, "comment_id": 46492729, "body": "I need to run program in unbuffered mode, not my script"}, {"owner": {"reputation": 4281, "user_id": 1901786, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f2fcdb3ea15f525e93f0132626861de7?s=128&d=identicon&r=PG", "display_name": "whereswalden", "link": "https://stackoverflow.com/users/1901786/whereswalden"}, "reply_to_user": {"reputation": 3, "user_id": 3581251, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002153377094/picture?type=large", "display_name": "Anton Kapelyushok", "link": "https://stackoverflow.com/users/3581251/anton-kapelyushok"}, "edited": false, "score": 0, "creation_date": 1426716514, "post_id": 29133142, "comment_id": 46492926, "body": "Are you sure? Have you tried running the C program by itself?"}, {"owner": {"reputation": 3, "user_id": 3581251, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002153377094/picture?type=large", "display_name": "Anton Kapelyushok", "link": "https://stackoverflow.com/users/3581251/anton-kapelyushok"}, "edited": false, "score": 0, "creation_date": 1426716816, "post_id": 29133142, "comment_id": 46493061, "body": "What should I get? It runs and it puts output into the console without any surprises."}, {"owner": {"reputation": 4281, "user_id": 1901786, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f2fcdb3ea15f525e93f0132626861de7?s=128&d=identicon&r=PG", "display_name": "whereswalden", "link": "https://stackoverflow.com/users/1901786/whereswalden"}, "reply_to_user": {"reputation": 3, "user_id": 3581251, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002153377094/picture?type=large", "display_name": "Anton Kapelyushok", "link": "https://stackoverflow.com/users/3581251/anton-kapelyushok"}, "edited": false, "score": 0, "creation_date": 1426723817, "post_id": 29133142, "comment_id": 46495305, "body": "Maybe I&#39;m misunderstanding your first comment. Since the C program prints to the console without an issue, it&#39;s not being buffered. Therefore, I suspect Python is buffering output, hence the <code>python -u</code>."}], "tags": [], "owner": {"reputation": 4281, "user_id": 1901786, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f2fcdb3ea15f525e93f0132626861de7?s=128&d=identicon&r=PG", "display_name": "whereswalden", "link": "https://stackoverflow.com/users/1901786/whereswalden"}, "is_accepted": false, "score": 0, "last_activity_date": 1426714444, "creation_date": 1426714444, "answer_id": 29133142, "question_id": 29132214, "link": "https://stackoverflow.com/questions/29132214/capture-stdout-from-a-running-c-program-with-python/29133142#29133142", "title": "Capture stdout from a running C program with Python", "body": "<p>Run python in <a href=\"https://docs.python.org/2/using/cmdline.html#cmdoption-u\" rel=\"nofollow\">unbuffered mode</a>:</p>\n\n<pre><code>python -u myprogram.py \n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 3581251, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002153377094/picture?type=large", "display_name": "Anton Kapelyushok", "link": "https://stackoverflow.com/users/3581251/anton-kapelyushok"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2480, "favorite_count": 2, "accepted_answer_id": 29132295, "answer_count": 3, "score": 0, "last_activity_date": 1426717284, "creation_date": 1426711234, "last_edit_date": 1426717282, "question_id": 29132214, "link": "https://stackoverflow.com/questions/29132214/capture-stdout-from-a-running-c-program-with-python", "title": "Capture stdout from a running C program with Python", "body": "<p>I've got this C program:</p>\n\n<pre><code>#include &lt;stdio.h&gt;\n#include &lt;Windows.h&gt;\n\nint main() {\n    for (int i=0;; i++) {\n        printf(\"%i\\n\",i);\n        Sleep(100);\n    }\n    return 0;\n}\n</code></pre>\n\n<p>And I have a Python script that tries to capture its output and do something with it:</p>\n\n<pre><code>from subprocess import Popen, PIPE\n\np = Popen(\"a.exe\", stdout=PIPE, shell=True)\nprint p.stdout.readline()\n</code></pre>\n\n<p>... and it hangs on the last line without printing anything on a screen.</p>\n\n<p>I've tried to solve this problem using the Python shell and found this:</p>\n\n<pre><code>&gt;&gt;&gt; from test import *\n&gt;&gt;&gt; p.stdout.flush()\n&gt;&gt;&gt; p.stdout.readline()\n'0\\r\\n'\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\n^CKeyboardInterrupt\n</code></pre>\n\n<p>It can actually read the output but only when I send KeyboardInterrupt. <code>p.stdout.read(1)</code> behaves the same way.</p>\n\n<p>So, what's a working, correct way to do what I want?</p>\n\n<p><strong>Edit:</strong> <br>\nOk, looks like it is impossible on Windows, see comments to first answer.</p>\n"}, {"tags": ["python", "django", "django-migrations", "django-contenttypes"], "comments": [{"owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 0, "creation_date": 1426712996, "post_id": 29132210, "comment_id": 46491276, "body": "i don&#39;t understand what you are commenting out. And please can you show the <i>full</i> traceback?"}], "answers": [{"tags": [], "owner": {"reputation": 305, "user_id": 3284640, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/155321a9a097b817612d0c8db04d0690?s=128&d=identicon&r=PG&f=1", "display_name": "Bradford Wade", "link": "https://stackoverflow.com/users/3284640/bradford-wade"}, "is_accepted": false, "score": 1, "last_activity_date": 1426794162, "last_edit_date": 1426794162, "creation_date": 1426785516, "answer_id": 29151025, "question_id": 29132210, "link": "https://stackoverflow.com/questions/29132210/django-reversesinglerelatedobjectdescriptor-set-valueerror/29151025#29151025", "title": "Django ReverseSingleRelatedObjectDescriptor.__set__ ValueError", "body": "<p><strong>Edit</strong>:</p>\n\n<p>The solution below does not actually work; it just ends up not running the forwards_func so there are no errors. New solutions welcome:</p>\n\n<hr>\n\n<p>I was able to resolve this using <a href=\"https://docs.djangoproject.com/en/1.7/ref/signals/#post-migrate\" rel=\"nofollow\">Django's post_migrate signal</a>.</p>\n\n<p>This also fixes some other issues that arrive from these types of migrations (data migrations which reference the ContentType table). </p>\n\n<p>My understanding is that essentially, the issue is the ContentType table doesn't get created until the very end of a migration for performance reasons. This means I'm not actually retrieving the same type ContentType object that the relation module is checking for.</p>\n\n<p>The solution is to run this type of data migration as a callback:</p>\n\n<pre><code># -*- coding: utf-8 -*-\nfrom django.db.models.signals import post_migrate\nfrom django.contrib.contenttypes.models import ContentType\nfrom django.db import models, migrations\n\ndef forwards_func(apps, schema_editor):\n    Restaurant = apps.get_model(\"simpleapp\", \"Restaurant\")\n    House = apps.get_model(\"simpleapp\", \"House\")\n    Place = apps.get_model(\"simpleapp\", \"Place\")\n\n    db_alias = schema_editor.connection.alias\n\n    def add_stuffs(*args, **kwargs)\n        content_type = ContentType.objects.using(db_alias).get(\n            app_label=\"simpleapp\",\n            model=\"restaurant\"\n        )\n\n        for restaurant in Restaurant.objects.using(db_alias).all():\n            Place.objects.using(db_alias).create(\n                content_type=content_type,\n                object_id=restaurant.id)\n\n        content_type = ContentType.objects.using(db_alias).get(\n            app_label=\"simpleapp\",\n            model=\"house\"\n        )\n        for house in House.objects.using(db_alias).all():\n            Place.objects.using(db_alias).create(\n               content_type=content_type,\n               object_id=house.id)\n\n    post_migrate.connect(add_stuffs)\n\n\nclass Migration(migrations.Migration):\n\n    dependencies = [\n        ('simpleapp', '0010_place')\n    ]\n\n    operations = [\n        migrations.RunPython(\n            forwards_func,\n        ),\n    ]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 488, "user_id": 1280252, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/bc066e98d11a1103b66e7e27fc7719fb?s=128&d=identicon&r=PG", "display_name": "Mike Milkman", "link": "https://stackoverflow.com/users/1280252/mike-milkman"}, "is_accepted": false, "score": 0, "last_activity_date": 1469561731, "last_edit_date": 1469561731, "creation_date": 1469558389, "answer_id": 38597559, "question_id": 29132210, "link": "https://stackoverflow.com/questions/29132210/django-reversesinglerelatedobjectdescriptor-set-valueerror/38597559#38597559", "title": "Django ReverseSingleRelatedObjectDescriptor.__set__ ValueError", "body": "<p>Looks like it's somewhat related to this Django <a href=\"https://code.djangoproject.com/ticket/23422\" rel=\"nofollow\">bug/wontfix</a></p>\n\n<p>I had similar error when tried to re-assign permissions to user groups in my migration. To fix it I had to manually emit post_migrate signal as described <a href=\"https://code.djangoproject.com/ticket/23422#comment:25\" rel=\"nofollow\">here</a></p>\n\n<p>Here is my migration code example:</p>\n\n<pre><code># -*- coding: utf-8 -*-\nfrom __future__ import unicode_literals\n\nfrom django.db import migrations\nfrom django.core.management.sql import emit_post_migrate_signal\n\n\ndef trigger_post_migrate(db_alias):\n    try:\n        # Django 1.9\n        emit_post_migrate_signal(2, False, db_alias)\n    except TypeError:\n        # Django &lt; 1.9\n        try:\n            # Django 1.8\n            emit_post_migrate_signal(2, False, 'default', db_alias)\n        except TypeError:\n            # Django &lt; 1.8\n            emit_post_migrate_signal([], 2, False, 'default', db_alias)\n\n\ndef up(apps, schema_editor):\n    # trigger post migrate to make sure all permissions and contenttypes are in place\n    trigger_post_migrate(schema_editor.connection.alias)\n\n    # migration code here...\n\n\nclass Migration(migrations.Migration):\n    dependencies = [\n        ('accounts', '0008_auto_20160712_0608'),\n    ]\n\n    operations = [\n        migrations.RunPython(up),\n    ]\n</code></pre>\n"}], "owner": {"reputation": 305, "user_id": 3284640, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/155321a9a097b817612d0c8db04d0690?s=128&d=identicon&r=PG&f=1", "display_name": "Bradford Wade", "link": "https://stackoverflow.com/users/3284640/bradford-wade"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 712, "favorite_count": 1, "answer_count": 2, "score": 2, "last_activity_date": 1469561731, "creation_date": 1426711223, "last_edit_date": 1426773120, "question_id": 29132210, "link": "https://stackoverflow.com/questions/29132210/django-reversesinglerelatedobjectdescriptor-set-valueerror", "title": "Django ReverseSingleRelatedObjectDescriptor.__set__ ValueError", "body": "<p>I am creating a custom data migration to automatically create GenericRelation entries in the database, based on existing entries across two different models.</p>\n\n<p><strong>Example models.py:</strong></p>\n\n<pre><code>...\nclass Place\n   content_type = models.ForeignKey(ContentType)\n   object_id = models.PositiveIntegerField()\n   content_object = generic.GenericForeignKey('content_type', 'object_id')\n\n\nclass Restaurant\n   name = models.CharField(max_length=60)\n   location = models.CharField(max_length=60)\n\n\nclass House\n   location = models.CharField(max_length=60)\n</code></pre>\n\n<p><strong>Example 0011_place_data.py:</strong></p>\n\n<pre><code># -*- coding: utf-8 -*-\nfrom django.contrib.contenttypes.models import ContentType\nfrom django.db import models, migrations\n\ndef forwards_func(apps, schema_editor):\n    Restaurant = apps.get_model(\"simpleapp\", \"Restaurant\")\n    House = apps.get_model(\"simpleapp\", \"House\")\n    Place = apps.get_model(\"simpleapp\", \"Place\")\n\n    db_alias = schema_editor.connection.alias\n\n    content_type = ContentType.objects.using(db_alias).get(\n        app_label=\"simpleapp\",\n        model=\"restaurant\"\n    )\n\n    for restaurant in Restaurant.objects.using(db_alias).all():\n        Place.objects.using(db_alias).create(\n            content_type=content_type,\n            object_id=restaurant.id)\n\n    content_type = ContentType.objects.using(db_alias).get(\n        app_label=\"simpleapp\",\n        model=\"house\"\n    )\n    for house in House.objects.using(db_alias).all():\n        Place.objects.using(db_alias).create(\n            content_type=content_type,\n            object_id=house.id)\n\n\nclass Migration(migrations.Migration):\n\n    dependencies = [\n        ('simpleapp', '0010_place')\n    ]\n\n    operations = [\n        migrations.RunPython(\n            forwards_func,\n        ),\n    ]\n</code></pre>\n\n<p>When I run this (Django 1.7.4) I get   </p>\n\n<pre><code>Operations to perform:\n  Apply all migrations: simpleapp, admin, sessions, auth, contenttypes\nSynchronizing apps without migrations:\n  Creating tables...\n  Installing custom SQL...\n  Installing indexes...\nRunning migrations:\n  Applying projects.0011_place_data...passing\nTraceback (most recent call last):\n  File \"manage.py\", line 10, in &lt;module&gt;\n    execute_from_command_line(sys.argv)\n  File \".../lib/python3.4/site-packages/django/core/management/__init__.py\", line 385, in execute_from_command_line\nutility.execute()\n  File \".../lib/python3.4/site-packages/django/core/management/__init__.py\", line 377, in execute\nself.fetch_command(subcommand).run_from_argv(self.argv)\n  File \".../lib/python3.4/site-packages/django/core/management/base.py\", line 288, in run_from_argv\nself.execute(*args, **options.__dict__)\n  File \".../lib/python3.4/site-packages/django/core/management/base.py\", line 338, in execute\noutput = self.handle(*args, **options)\n  File \".../lib/python3.4/site-packages/django/core/management/commands/migrate.py\", line 161, in handle\nexecutor.migrate(targets, plan, fake=options.get(\"fake\", False))\n  File \".../lib/python3.4/site-packages/django/db/migrations/executor.py\", line 68, in migrate\nself.apply_migration(migration, fake=fake)\n  File \".../lib/python3.4/site-packages/django/db/migrations/executor.py\", line 102, in apply_migration\nmigration.apply(project_state, schema_editor)\n  File \".../lib/python3.4/site-packages/django/db/migrations/migration.py\", line 108, in apply\noperation.database_forwards(self.app_label, schema_editor, project_state, new_state)\n  File \".../lib/python3.4/site-packages/django/db/migrations/operations/special.py\", line 117, in database_forwards\nself.code(from_state.render(), schema_editor)\n  File \".../simpleapp/migrations/0011_place_data.py\", line 19, in forwards_func\nobject_id=restaurant.id)\n  File \".../lib/python3.4/site-packages/django/db/models/query.py\", line 370, in create\nobj = self.model(**kwargs)\n  File \".../lib/python3.4/site-packages/django/db/models/base.py\", line 440, in __init__\nsetattr(self, field.name, rel_obj)\n  File \".../lib/python3.4/site-packages/django/db/models/fields/related.py\", line 598, in __set__\nself.field.rel.to._meta.object_name,\nValueError: Cannot assign \"&lt;ContentType: restaurant&gt;\": \"Place.content_type\" must be a \"ContentType\" instance.\n</code></pre>\n\n<p>If I comment out the stanza raising the value error in the Django module (django.db.models.fields.related.ReverseSingleRelatedObjectDescriptor.<strong>set</strong>) it works as expected:</p>\n\n<pre><code>...\n\n    elif value is not None and not isinstance(value, self.field.rel.to):\n        print('skipping')\n        #raise ValueError(\n        #    'Cannot assign \"%r\": \"%s.%s\" must be a \"%s\" instance.' % (\n        #        value,\n        #        instance._meta.object_name,\n        #        self.field.name,\n        #        self.field.rel.to._meta.object_name,\n        #    )\n        #)\n\n...\n</code></pre>\n\n<p>Should this exception be raised in the first place? Is this a bug in Django or am I doing it wrong?</p>\n"}, {"tags": ["python", "class"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 2, "creation_date": 1426711208, "post_id": 29132195, "comment_id": 46490306, "body": "What do you mean <i>&quot;appropriately&quot;</i>? What does it do now, and what did you expect instead? Note also that <code>&#39;___init___&#39; != &#39;__init__&#39;</code>."}, {"owner": {"reputation": 3, "user_id": 4687164, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ae72f7e828d6c4d158078fae3d794927?s=128&d=identicon&r=PG&f=1", "display_name": "Jalene Burta", "link": "https://stackoverflow.com/users/4687164/jalene-burta"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1426711321, "post_id": 29132195, "comment_id": 46490377, "body": "i am expecting  to get similar output to this"}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1426711348, "post_id": 29132195, "comment_id": 46490389, "body": "<a href=\"http://stackoverflow.com/posts/29132195/edit\"><b>Edit the question</b></a>, and answer <b>both halves</b> of mine."}, {"owner": {"reputation": 3, "user_id": 4687164, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ae72f7e828d6c4d158078fae3d794927?s=128&d=identicon&r=PG&f=1", "display_name": "Jalene Burta", "link": "https://stackoverflow.com/users/4687164/jalene-burta"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1426711406, "post_id": 29132195, "comment_id": 46490423, "body": "[[False,(&#39;111-111-3333&#39;,datetime.datetime(2015,1,15,8,15),&#39;b&zwnj;&#8203;ring milk&#39;)]"}, {"owner": {"reputation": 36141, "user_id": 4354477, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/SuxtS.gif?s=128&g=1", "display_name": "ForceBru", "link": "https://stackoverflow.com/users/4354477/forcebru"}, "edited": false, "score": 0, "creation_date": 1426711438, "post_id": 29132195, "comment_id": 46490445, "body": "@JaleneBurta, and what are you getting?"}], "answers": [{"comments": [{"owner": {"reputation": 757655, "user_id": 95810, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e8d5fe90f1fe2148bf130cccd4dc311c?s=128&d=identicon&r=PG", "display_name": "Alex Martelli", "link": "https://stackoverflow.com/users/95810/alex-martelli"}, "reply_to_user": {"reputation": 3, "user_id": 4687164, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ae72f7e828d6c4d158078fae3d794927?s=128&d=identicon&r=PG&f=1", "display_name": "Jalene Burta", "link": "https://stackoverflow.com/users/4687164/jalene-burta"}, "edited": false, "score": 0, "creation_date": 1426720547, "post_id": 29132232, "comment_id": 46494332, "body": "Great, remember to <b>accept</b> the answer (click on the checkmark-shaped outline to the left of it)."}], "tags": [], "owner": {"reputation": 757655, "user_id": 95810, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e8d5fe90f1fe2148bf130cccd4dc311c?s=128&d=identicon&r=PG", "display_name": "Alex Martelli", "link": "https://stackoverflow.com/users/95810/alex-martelli"}, "is_accepted": true, "score": 1, "last_activity_date": 1426711287, "creation_date": 1426711287, "answer_id": 29132232, "question_id": 29132195, "link": "https://stackoverflow.com/questions/29132195/this-program-stores-text-message-inside-a-class-how-can-i-print-this-in-the-clas/29132232#29132232", "title": "This program stores text message inside a class how can i print this in the class", "body": "<p>Presumably you just need to append those strings to a list initialized as <code>thelist=[]</code> and then return the <code>'\\n'.join(thelist)</code>.  But there are several other anomalies in your code.</p>\n\n<pre><code>self.__main=self.__inbox.append(singleMsg)\nreturn self.__main\n</code></pre>\n\n<p>This makes no sense.  <code>append</code> <strong>always</strong> returns <code>None</code>.  Why go to all this bother to save <code>None</code> as an attribute of <code>self</code> and return it?!</p>\n\n<pre><code>someStr=\"\"\ndef __str__(self):\n    for msg in self.__inbox:\n        unread=msg[0]\n        msgTuple=msg[1]\n        phoneNum=msgTuple[0]\n        date=msgTuple[1]\n        txt=msgTuple[2]\n        return str(unread)+ someStr+\" \" +str(phoneNum) + someStr+\" \" + str(txt)+someStr+\" \"\n</code></pre>\n\n<p>Besides the obvious error of <code>return</code>ing on the first pass of the loop (so there will never be other passes), this will fail because <code>someStr</code> is <strong>not</strong> in scope in the method; you'd need to use <code>self.someStr</code> instead, I guess.  (Still looks weird to me but at least it works:-).</p>\n\n<p>So this method must become something like:</p>\n\n<pre><code>someStr=\"\"\ndef __str__(self):\n    thelist = []\n    someStr = self.someStr\n    for msg in self.__inbox:\n        unread=msg[0]\n        msgTuple=msg[1]\n        phoneNum=msgTuple[0]\n        date=msgTuple[1]\n        txt=msgTuple[2]\n        s = str(unread)+ someStr+\" \" +str(phoneNum) + someStr+\" \" + str(txt)+someStr+\" \"\n        thelist.append(s)\n    return '\\n'.join(thelist)\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 4687164, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ae72f7e828d6c4d158078fae3d794927?s=128&d=identicon&r=PG&f=1", "display_name": "Jalene Burta", "link": "https://stackoverflow.com/users/4687164/jalene-burta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 31, "favorite_count": 0, "accepted_answer_id": 29132232, "answer_count": 1, "score": -1, "last_activity_date": 1426711287, "creation_date": 1426711153, "last_edit_date": 1426711192, "question_id": 29132195, "link": "https://stackoverflow.com/questions/29132195/this-program-stores-text-message-inside-a-class-how-can-i-print-this-in-the-clas", "title": "This program stores text message inside a class how can i print this in the class", "body": "<pre><code>import datetime\nclass SMS_Inbox:\n    def ___init___(self):\n        self.__inbox=[]\n\n\n    def addNewArrival(self,senderPhone,arrivalTime,msgTxt):\n        msgInfotuple=(senderPhone,arrivalTime,msgTxt)\n        singleMsg=[False,msgInfotuple]\n        self.__main=self.__inbox.append(singleMsg)\n        return self.__main\n\n\n    someStr=\"\"\n    def __str__(self):\n        for msg in self.__inbox:\n            unread=msg[0]\n            msgTuple=msg[1]\n            phoneNum=msgTuple[0]\n            date=msgTuple[1]\n            txt=msgTuple[2]\n            return str(unread)+ someStr+\" \" +str(phoneNum) + someStr+\" \" + str(txt)+someStr+\" \"\n</code></pre>\n\n<p>how can change this str code to print appropriately  </p>\n"}, {"tags": ["python", "opencv"], "comments": [{"owner": {"reputation": 2643, "user_id": 4647152, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce4ce205ac75f5349adab6741868624d?s=128&d=identicon&r=PG&f=1", "display_name": "Francis Colas", "link": "https://stackoverflow.com/users/4647152/francis-colas"}, "edited": false, "score": 0, "creation_date": 1426711308, "post_id": 29132164, "comment_id": 46490365, "body": "possible duplicate of <a href=\"http://stackoverflow.com/questions/11270937/why-doesnt-cv2-dilate-actually-affect-my-image\">Why doesn&#39;t cv2 dilate actually affect my image?</a>"}, {"owner": {"reputation": 2643, "user_id": 4647152, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce4ce205ac75f5349adab6741868624d?s=128&d=identicon&r=PG&f=1", "display_name": "Francis Colas", "link": "https://stackoverflow.com/users/4647152/francis-colas"}, "edited": false, "score": 0, "creation_date": 1426715314, "post_id": 29132164, "comment_id": 46492422, "body": "My thought was that you didn&#39;t specify the dtype of the kernel so it might default to something else than <code>uint8</code>. But it might just be that you don&#39;t correctly specify the kernel; could you try with <code>np.ones((11, 11), dtype=np.uint8)</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 96306, "user_id": 3250829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e2e07c34e170453eeea9e937a98f19b?s=128&d=identicon&r=PG", "display_name": "rayryeng", "link": "https://stackoverflow.com/users/3250829/rayryeng"}, "edited": false, "score": 1, "creation_date": 1426745882, "post_id": 29133289, "comment_id": 46500820, "body": "No. It isn&#39;t working because the OP didn&#39;t specify the kernel properly. See the OP&#39;s answer in this thread."}], "tags": [], "owner": {"reputation": 4666, "user_id": 2345870, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a054847b5d1b9b5134bf7a7ff0d97cf?s=128&d=identicon&r=PG", "display_name": "rfkortekaas", "link": "https://stackoverflow.com/users/2345870/rfkortekaas"}, "is_accepted": false, "score": 0, "last_activity_date": 1426715030, "creation_date": 1426715030, "answer_id": 29133289, "question_id": 29132164, "link": "https://stackoverflow.com/questions/29132164/python-opencv-dilate-and-erode-functions-dont-modify-anything/29133289#29133289", "title": "Python-OpenCV dilate and erode functions don&#39;t modify anything", "body": "<p>I think it has to do with your second line where you modify the array. Probably the data type gets infected.</p>\n"}, {"comments": [{"owner": {"reputation": 96306, "user_id": 3250829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e2e07c34e170453eeea9e937a98f19b?s=128&d=identicon&r=PG", "display_name": "rayryeng", "link": "https://stackoverflow.com/users/3250829/rayryeng"}, "edited": false, "score": 0, "creation_date": 1426745279, "post_id": 29134219, "comment_id": 46500622, "body": "<i>Merely specifying a kernel in the function call results in a type int tuple which is not compatible with the function</i> - I would consider rewording this because that&#39;s not correct.  You&#39;re supposed to specify a kernel in the input, but the OP is not doing that as it&#39;s a tuple.  What I think you meant to say is specifying a tuple of <code>(11,11)</code> is incorrect and that a proper kernel should be specified (i.e. <code>np.ones((11,11))</code>).  BTW, specifying a <code>dtype</code> of <code>uint8</code> is superfluous in this case.  However, I gave you a +1 because the code you wrote is correct in getting the problem solved."}], "tags": [], "owner": {"reputation": 1912, "user_id": 3107858, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/sehuC.jpg?s=128&g=1", "display_name": "DanGoodrick", "link": "https://stackoverflow.com/users/3107858/dangoodrick"}, "is_accepted": true, "score": 15, "last_activity_date": 1427980866, "last_edit_date": 1427980866, "creation_date": 1426719280, "answer_id": 29134219, "question_id": 29132164, "link": "https://stackoverflow.com/questions/29132164/python-opencv-dilate-and-erode-functions-dont-modify-anything/29134219#29134219", "title": "Python-OpenCV dilate and erode functions don&#39;t modify anything", "body": "<p>The function requires a kernel, not a kernel size.  So a correct function call would be below.</p>\n\n<pre><code>dilated = cv2.dilate(im, np.ones((11, 11)))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 4975707, "user_type": "registered", "profile_image": "https://graph.facebook.com/10207210268444658/picture?type=large", "display_name": "Jaume P&#233;rez &#193;lvarez", "link": "https://stackoverflow.com/users/4975707/jaume-p%c3%a9rez-%c3%81lvarez"}, "is_accepted": false, "score": 0, "last_activity_date": 1433635152, "creation_date": 1433635152, "answer_id": 30688730, "question_id": 29132164, "link": "https://stackoverflow.com/questions/29132164/python-opencv-dilate-and-erode-functions-dont-modify-anything/30688730#30688730", "title": "Python-OpenCV dilate and erode functions don&#39;t modify anything", "body": "<p>the function has to be called this way:\ncv2.dilate(img (input), kernel, iterations = number (how many times you want to apply the filter)</p>\n"}, {"tags": [], "owner": {"reputation": 112, "user_id": 4694985, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/18bacfabdde62c06112ac5508a6dafae?s=128&d=identicon&r=PG&f=1", "display_name": "Specas", "link": "https://stackoverflow.com/users/4694985/specas"}, "is_accepted": false, "score": 1, "last_activity_date": 1433787438, "creation_date": 1433787438, "answer_id": 30716278, "question_id": 29132164, "link": "https://stackoverflow.com/questions/29132164/python-opencv-dilate-and-erode-functions-dont-modify-anything/30716278#30716278", "title": "Python-OpenCV dilate and erode functions don&#39;t modify anything", "body": "<p>You need to specify a proper kernel. It can be rectangular, circular, etc.</p>\n\n<pre><code>kernel = cv2.getStructuringElement(cv2.MORPH_ELLIPSE, (5,5))\nim = np.zeros((100,100), dtype=np.uint8)\nim[50:,50:] = 255\ndilated = cv2.dilate(im, kernel, iterations = 1)\n</code></pre>\n"}], "owner": {"reputation": 1912, "user_id": 3107858, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/sehuC.jpg?s=128&g=1", "display_name": "DanGoodrick", "link": "https://stackoverflow.com/users/3107858/dangoodrick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 16154, "favorite_count": 3, "accepted_answer_id": 29134219, "answer_count": 4, "score": 8, "last_activity_date": 1433787438, "creation_date": 1426711048, "last_edit_date": 1427981115, "question_id": 29132164, "link": "https://stackoverflow.com/questions/29132164/python-opencv-dilate-and-erode-functions-dont-modify-anything", "title": "Python-OpenCV dilate and erode functions don&#39;t modify anything", "body": "<p>Given the code below, the cv2.dilate and cv2.erode functions in python return the same image I send to it.  What am I doing wrong? I am using OpenCV3.0.0. and numpy1.9.0 on iPython 2.7</p>\n\n<pre><code>im = np.zeros((100,100), dtype=np.uint8)\nim[50:,50:] = 255\ndilated = cv2.dilate(im, (11,11))\nprint np.array_equal(im, dilated)\n</code></pre>\n\n<p>Which returns:</p>\n\n<pre><code>True\n</code></pre>\n\n<p>{Edited}\nThe other dilate post represents a question of kernel datatype.  This post actually reflects a function call error.</p>\n"}, {"tags": ["python", "c++", "c", "windows", "gcc"], "comments": [{"owner": {"reputation": 33827, "user_id": 506413, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1a474f3be606bcc6f964913b523626e9?s=128&d=identicon&r=PG", "display_name": "Jonathan Potter", "link": "https://stackoverflow.com/users/506413/jonathan-potter"}, "edited": false, "score": 0, "creation_date": 1426710690, "post_id": 29132026, "comment_id": 46489958, "body": "I guess you have a 32/64 bit mismatch somewhere."}, {"owner": {"reputation": 1471, "user_id": 4086467, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/a09b4041b111e58020670dcaaf6d386a?s=128&d=identicon&r=PG&f=1", "display_name": "texasflood", "link": "https://stackoverflow.com/users/4086467/texasflood"}, "edited": false, "score": 0, "creation_date": 1426712120, "post_id": 29132026, "comment_id": 46490808, "body": "Not helpful, I know, but this is another reason why I moved to Linux. It is as easy as <code>sudo apt-get install python-levenshtein</code> and this is guaranteed to work in just one line"}, {"owner": {"reputation": 31264, "user_id": 393194, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/3d79d73463b194fb88957db095b92ea2?s=128&d=identicon&r=PG", "display_name": "Mike Driscoll", "link": "https://stackoverflow.com/users/393194/mike-driscoll"}, "edited": false, "score": 0, "creation_date": 1426714416, "post_id": 29132026, "comment_id": 46491980, "body": "Is the Python you have installed a 64-bit Python or 32-bit? Because you may not be able to install a 32-bit package against a 64-bit Python"}, {"owner": {"reputation": 1137, "user_id": 3395374, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/285a4a5200f609969d811d471ae2c846?s=128&d=identicon&r=PG&f=1", "display_name": "Muposat", "link": "https://stackoverflow.com/users/3395374/muposat"}, "reply_to_user": {"reputation": 31264, "user_id": 393194, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/3d79d73463b194fb88957db095b92ea2?s=128&d=identicon&r=PG", "display_name": "Mike Driscoll", "link": "https://stackoverflow.com/users/393194/mike-driscoll"}, "edited": false, "score": 0, "creation_date": 1426778476, "post_id": 29132026, "comment_id": 46519215, "body": "@Mike Driscoll: The Python installed is most definitely 64 bit. The package should not be tied to the machine architecture because isn&#39;t that the point behind compiling it instead of distributing a binary?"}], "owner": {"reputation": 1137, "user_id": 3395374, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/285a4a5200f609969d811d471ae2c846?s=128&d=identicon&r=PG&f=1", "display_name": "Muposat", "link": "https://stackoverflow.com/users/3395374/muposat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 859, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1426710531, "creation_date": 1426710531, "question_id": 29132026, "link": "https://stackoverflow.com/questions/29132026/cannot-compile-python-package-on-windows", "title": "Cannot compile Python package on Windows", "body": "<p>Trying to install a compiled Python package on a 64-bit Windows machine using MinGW compiler. The same install succeeded on my 32-bit machine but failed on two different 64-bit machines:\n<code>C:\\Python\\Scripts&gt;</code> <code>pip install python-Levenshtein</code></p>\n\n<blockquote>\n  <p>C:\\Python\\libs/python33.lib: error adding symbols: File in wrong format<br>\n     collect2.exe: error: ld returned 1 exit status<br>\n     error: command 'gcc' failed with exit status 1 </p>\n</blockquote>\n\n<p>Trying from a cloned copy:\n<code>$ python setup.py build</code></p>\n\n<blockquote>\n  <p>C:\\Python\\libs/python33.lib: error adding symbols: File in wrong format<br>\n    collect2.exe: error: ld returned 1 exit status<br>\n    error: command 'gcc' failed with exit status 1 </p>\n</blockquote>\n\n<p>Running the build command by itself:</p>\n\n<p><code>$ gcc.exe -shared -s 'build\\temp.win-amd64-3.3\\Release\\levenshtein\\_levenshtein.o' 'build\\temp.win-amd64-3.3\\Release\\levenshtein\\_levenshtein.def' -LC:'\\Python\\libs' -LC:'\\Python\\PCbuild\\amd64' -lpython33 -lmsvcr100 -o 'build\\lib.win-amd64-3.3\\Levenshtein\\_levenshtein.pyd'</code></p>\n\n<blockquote>\n  <p>C:\\Python\\libs/python33.lib: error adding symbols: File in wrong format<br>\n  collect2.exe: error: ld returned 1 exit status  </p>\n</blockquote>\n\n<p><code>$ file 'C:\\Python\\libs/python33.lib'</code></p>\n\n<blockquote>\n  <p>C:\\Python\\libs/python33.lib: current ar archive</p>\n</blockquote>\n\n<p>Thank you\n- Muposat</p>\n"}, {"tags": ["python", "button", "tkinter"], "comments": [{"owner": {"reputation": 36141, "user_id": 4354477, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/SuxtS.gif?s=128&g=1", "display_name": "ForceBru", "link": "https://stackoverflow.com/users/4354477/forcebru"}, "edited": false, "score": 0, "creation_date": 1426710606, "post_id": 29132024, "comment_id": 46489900, "body": "You can make this variable global."}, {"owner": {"reputation": 73988, "user_id": 1639625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4224d1458a149d37b56a53115656f4df?s=128&d=identicon&r=PG", "display_name": "tobias_k", "link": "https://stackoverflow.com/users/1639625/tobias-k"}, "edited": false, "score": 0, "creation_date": 1426710663, "post_id": 29132024, "comment_id": 46489941, "body": "... but even if you do make it global it will not help much to use it outside of the function before the function is being called! Why not do the file handling in the callback function? I think you should read up on classes in Tkinter and create a custom Frame and make that variable a member of that frame."}], "answers": [{"tags": [], "owner": {"reputation": 36141, "user_id": 4354477, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/SuxtS.gif?s=128&g=1", "display_name": "ForceBru", "link": "https://stackoverflow.com/users/4354477/forcebru"}, "is_accepted": false, "score": 0, "last_activity_date": 1426710691, "creation_date": 1426710691, "answer_id": 29132073, "question_id": 29132024, "link": "https://stackoverflow.com/questions/29132024/tkinter-how-to-call-a-variable-from-a-callback-function-button/29132073#29132073", "title": "TkInter: How to call a variable from a callback function button?", "body": "<p>If you need some variable outside a function you need a <em>global</em> variable</p>\n\n<pre><code>name=\"\" # if you don't call the function it'll remain empty!\ndef callback():\n    global name\n    name= askopenfilename() \n    print name\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 12066, "user_id": 3924118, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/abb01e1c2a8e3d9e1534dca14b19b3d8?s=128&d=identicon&r=PG&f=1", "display_name": "nbro", "link": "https://stackoverflow.com/users/3924118/nbro"}, "edited": false, "score": 0, "creation_date": 1426710928, "post_id": 29132093, "comment_id": 46490100, "body": "The OP is completely a beginner. I am not sure if this is the best approach for him."}, {"owner": {"reputation": 757655, "user_id": 95810, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e8d5fe90f1fe2148bf130cccd4dc311c?s=128&d=identicon&r=PG", "display_name": "Alex Martelli", "link": "https://stackoverflow.com/users/95810/alex-martelli"}, "reply_to_user": {"reputation": 12066, "user_id": 3924118, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/abb01e1c2a8e3d9e1534dca14b19b3d8?s=128&d=identicon&r=PG&f=1", "display_name": "nbro", "link": "https://stackoverflow.com/users/3924118/nbro"}, "edited": false, "score": 0, "creation_date": 1426711069, "post_id": 29132093, "comment_id": 46490198, "body": "@Rinzler, if the class approach introduced complications I might agree, but it really doesn&#39;t -- no need for the poor beginner to suffer through the complications that the use of <code>global</code> <b>is</b> likely to run into."}, {"owner": {"reputation": 12066, "user_id": 3924118, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/abb01e1c2a8e3d9e1534dca14b19b3d8?s=128&d=identicon&r=PG&f=1", "display_name": "nbro", "link": "https://stackoverflow.com/users/3924118/nbro"}, "edited": false, "score": 0, "creation_date": 1426711126, "post_id": 29132093, "comment_id": 46490249, "body": "I understand that in this case the class-based approach is easier, but it might not even know what a class is ;)"}, {"owner": {"reputation": 757655, "user_id": 95810, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e8d5fe90f1fe2148bf130cccd4dc311c?s=128&d=identicon&r=PG", "display_name": "Alex Martelli", "link": "https://stackoverflow.com/users/95810/alex-martelli"}, "reply_to_user": {"reputation": 12066, "user_id": 3924118, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/abb01e1c2a8e3d9e1534dca14b19b3d8?s=128&d=identicon&r=PG&f=1", "display_name": "nbro", "link": "https://stackoverflow.com/users/3924118/nbro"}, "edited": false, "score": 2, "creation_date": 1426711608, "post_id": 29132093, "comment_id": 46490539, "body": "@Rinzler, it doesn&#39;t matter -- the OP might not know what a class is nor what a global is, but he or she needs one or the other, so let&#39;s suggest the simpler and superior one."}], "tags": [], "owner": {"reputation": 757655, "user_id": 95810, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e8d5fe90f1fe2148bf130cccd4dc311c?s=128&d=identicon&r=PG", "display_name": "Alex Martelli", "link": "https://stackoverflow.com/users/95810/alex-martelli"}, "is_accepted": false, "score": 6, "last_activity_date": 1426710781, "creation_date": 1426710781, "answer_id": 29132093, "question_id": 29132024, "link": "https://stackoverflow.com/questions/29132024/tkinter-how-to-call-a-variable-from-a-callback-function-button/29132093#29132093", "title": "TkInter: How to call a variable from a callback function button?", "body": "<p>The best approach would be to make <code>callback</code> a <strong>method</strong> in a <strong>class</strong>:</p>\n\n<pre><code>class Asker(object):\n    def __init__(self):\n        self.name = None\n    def callback(self):\n        self.name = askopenfilename() \n        print self.name\n\nask = Asker()\nButton(text='File Open', command=ask.callback).pack(fill=X)\n</code></pre>\n\n<p>Now, object <code>ask</code> persists, and <code>ask.name</code> is <code>None</code> if the <code>callback</code> has not executed yet, and after it has, the result of <code>askopenfilename</code>.</p>\n\n<p>You could use a <code>global</code> instead but there's really no advantage in so doing so I recommend you use this <code>class</code>-based approach.</p>\n"}], "owner": {"reputation": 1, "user_id": 4687097, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0fd3b03b4c705d27e2bb931ce8e3e745?s=128&d=identicon&r=PG&f=1", "display_name": "Paro", "link": "https://stackoverflow.com/users/4687097/paro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 728, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1426710781, "creation_date": 1426710507, "last_edit_date": 1426710578, "question_id": 29132024, "link": "https://stackoverflow.com/questions/29132024/tkinter-how-to-call-a-variable-from-a-callback-function-button", "title": "TkInter: How to call a variable from a callback function button?", "body": "<p>I am a absolutly beginner in Tkinter and I need already help:\nI wanted to open a file with a button. I found everywhere this very simple example:</p>\n\n<pre><code>from Tkinter import *\nfrom tkFileDialog   import askopenfilename      \n\ndef callback():\n    name= askopenfilename() \n    print name\n\nerrmsg = 'Error!'\nButton(text='File Open', command=callback).pack(fill=X)\nmainloop()\n</code></pre>\n\n<p>But how can I call now the variable \"name\" from the function callback? I need this variable outside of this function! Of course, I can also open the file also in the callback function, but I need the opened file to save the content in an array and work with the array...</p>\n"}, {"tags": ["python", "pydoc"], "answers": [{"comments": [{"owner": {"reputation": 1026, "user_id": 2312677, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/767b566d86fecc0df6ba3c2259909d5d?s=128&d=identicon&r=PG", "display_name": "Guillaume Lema&#238;tre", "link": "https://stackoverflow.com/users/2312677/guillaume-lema%c3%aetre"}, "edited": false, "score": 0, "creation_date": 1426801200, "post_id": 29144598, "comment_id": 46531750, "body": "OK, no hope :( Thanks for your answer!"}], "tags": [], "owner": {"reputation": 4380, "user_id": 1656850, "user_type": "registered", "accept_rate": 35, "profile_image": "https://i.stack.imgur.com/RIotq.gif?s=128&g=1", "display_name": "boardrider", "link": "https://stackoverflow.com/users/1656850/boardrider"}, "is_accepted": true, "score": 1, "last_activity_date": 1426768102, "creation_date": 1426768102, "answer_id": 29144598, "question_id": 29131994, "link": "https://stackoverflow.com/questions/29131994/keyword-based-documentation-for-cpython-extensions/29144598#29144598", "title": "Keyword-based documentation for CPython extensions", "body": "<p>Looking at the <a href=\"http://svn.python.org/projects/stackless/Python-2.4.3/dev/Lib/pydoc.py\" rel=\"nofollow\">sources of pydoc</a>, if I'm not mistaken the stanza that produces the '...' is:</p>\n\n<pre><code>if inspect.isfunction(object):\n    args, varargs, varkw, defaults = inspect.getargspec(object)\n    argspec = inspect.formatargspec(\n        args, varargs, varkw, defaults, formatvalue=self.formatvalue)\n    if realname == '&lt;lambda&gt;':\n        title = '&lt;strong&gt;%s&lt;/strong&gt; &lt;em&gt;lambda&lt;/em&gt; ' % name\n        argspec = argspec[1:-1] # remove parentheses\nelse:\n    argspec = '(...)'\n</code></pre>\n\n<p>So, <code>inspect.isfunction(object)</code> is returning False in the case of CPython extensions.\nSince inspect.isfunction() checks that the object is a <em>Python function</em>, while C extension functions are considered <em>builtins</em>, then the above will return False and we get <code>(...)</code> in the output.</p>\n"}], "owner": {"reputation": 1026, "user_id": 2312677, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/767b566d86fecc0df6ba3c2259909d5d?s=128&d=identicon&r=PG", "display_name": "Guillaume Lema&#238;tre", "link": "https://stackoverflow.com/users/2312677/guillaume-lema%c3%aetre"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 27, "favorite_count": 0, "accepted_answer_id": 29144598, "answer_count": 1, "score": 2, "last_activity_date": 1426768102, "creation_date": 1426710363, "question_id": 29131994, "link": "https://stackoverflow.com/questions/29131994/keyword-based-documentation-for-cpython-extensions", "title": "Keyword-based documentation for CPython extensions", "body": "<p>How CPython extensions should be written in order for <code>pydoc</code> to mention the arguments'name instead of <code>(...)</code>?</p>\n\n<p>I've followed the <a href=\"https://docs.python.org/3/extending/extending.html#keyword-parameters-for-extension-functions\" rel=\"nofollow\">official python tutorial about extending Python</a>, and even for the <code>keywdarg.parrot</code> procedure I get:</p>\n\n<pre><code>$&gt; pydoc kewdarg.parrot\n\nparrot(...)\n   Print a lovely skit to standard output.\n</code></pre>\n\n<p>whereas I would expect</p>\n\n<pre><code>parrot(voltage, state=\"a stiff\", action=\"voom\", type=\"Norwegian Blue\")\n   Print a lovely skit to standard output.\n</code></pre>\n"}, {"tags": ["python", "calculator", "trigonometry"], "comments": [{"owner": {"reputation": 36141, "user_id": 4354477, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/SuxtS.gif?s=128&g=1", "display_name": "ForceBru", "link": "https://stackoverflow.com/users/4354477/forcebru"}, "edited": false, "score": 0, "creation_date": 1426710106, "post_id": 29131918, "comment_id": 46489597, "body": "Calculations are in radians, dude."}, {"owner": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "edited": false, "score": 0, "creation_date": 1426710235, "post_id": 29131918, "comment_id": 46489678, "body": "Are you running this on python 2? In python 3 I get the correct result, the problem is to with the way that the rounding is performed try adding this before your calculation <code>from __future__ import division</code>"}, {"owner": {"reputation": 88499, "user_id": 650405, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/5cdee2abea51e91756076032f0053081?s=128&d=identicon&r=PG", "display_name": "Karoly Horvath", "link": "https://stackoverflow.com/users/650405/karoly-horvath"}, "edited": false, "score": 0, "creation_date": 1426710282, "post_id": 29131918, "comment_id": 46489706, "body": "have you tried to evaluate the subexpressions?"}], "answers": [{"comments": [{"owner": {"reputation": 69452, "user_id": 953482, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/T3HH6.png?s=128&g=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/953482/kevin"}, "edited": false, "score": 2, "creation_date": 1426710226, "post_id": 29131944, "comment_id": 46489673, "body": "&quot;You need to import <code>__future__ .division</code>&quot;. Why?"}, {"owner": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "edited": false, "score": 0, "creation_date": 1426710517, "post_id": 29131944, "comment_id": 46489853, "body": "Python 2 casts to integers by default when dividing integers. Python 3 does not, so we can import this floating point functionality."}, {"owner": {"reputation": 94141, "user_id": 2867928, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/a8DM1.jpg?s=128&g=1", "display_name": "kasravnd", "link": "https://stackoverflow.com/users/2867928/kasravnd"}, "reply_to_user": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "edited": false, "score": 0, "creation_date": 1426710943, "post_id": 29131944, "comment_id": 46490112, "body": "@MalikBrahimi yeah! this is one of most basic stuffs in python! i add the link of relative question in SO for OP! that i think its better for OP that could read all the descriptions there! still i get 2 down vote!!!!!!!!!!"}], "tags": [], "owner": {"reputation": 94141, "user_id": 2867928, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/a8DM1.jpg?s=128&g=1", "display_name": "kasravnd", "link": "https://stackoverflow.com/users/2867928/kasravnd"}, "is_accepted": true, "score": 4, "last_activity_date": 1426711154, "last_edit_date": 1495542114, "creation_date": 1426710169, "answer_id": 29131944, "question_id": 29131918, "link": "https://stackoverflow.com/questions/29131918/calculation-of-trigonometric-functions-in-python/29131944#29131944", "title": "Calculation of trigonometric functions in python", "body": "<p>In Python 2, <code>/</code> is integer division,you need to import <a href=\"https://stackoverflow.com/questions/1267869/how-can-i-force-division-to-be-floating-point-in-python\"><code>__future__ .division</code></a> for floating division :</p>\n\n<pre><code>&gt;&gt;&gt; from __future__ import division\n&gt;&gt;&gt; import math\n&gt;&gt;&gt; x = ((0.1-0.001)/2)*math.sin(((1/20)*math.pi*20)+(0.5*math.pi*1))+((0.1-0.001)/2)+0.001\n&gt;&gt;&gt; x\n0.001\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 39811, "user_id": 1322401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/JlaPg.jpg?s=128&g=1", "display_name": "Steven Rumbalski", "link": "https://stackoverflow.com/users/1322401/steven-rumbalski"}, "edited": false, "score": 2, "creation_date": 1426711029, "post_id": 29131993, "comment_id": 46490171, "body": "An alternative way is to specify floats when you want a float result.  So <code>1&#47;20</code> becomes <code>1.0&#47;20.0</code> (or <code>1.&#47;20.</code> or <code>1.&#47;20</code>).  (I did upvote the answer.)  You may want to change &quot;python rounds divsion&quot; to &quot;python rounds <i>integer</i> division&quot;.  Actually &quot;rounds&quot; is also not quite right.  It takes the floor."}, {"owner": {"reputation": 1910, "user_id": 3749633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/44ba1a2ad944c611b1a0cf236b26ba5f?s=128&d=identicon&r=PG&f=1", "display_name": "Vidhya G", "link": "https://stackoverflow.com/users/3749633/vidhya-g"}, "reply_to_user": {"reputation": 39811, "user_id": 1322401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/JlaPg.jpg?s=128&g=1", "display_name": "Steven Rumbalski", "link": "https://stackoverflow.com/users/1322401/steven-rumbalski"}, "edited": false, "score": 0, "creation_date": 1426711310, "post_id": 29131993, "comment_id": 46490367, "body": "@StevenRumbalski which is what my answer says"}, {"owner": {"reputation": 3966, "user_id": 469072, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/13ce453eb105a974aea64b2461cfc200?s=128&d=identicon&r=PG", "display_name": "joel goldstick", "link": "https://stackoverflow.com/users/469072/joel-goldstick"}, "edited": false, "score": 0, "creation_date": 1426713816, "post_id": 29131993, "comment_id": 46491696, "body": "actually only one operand need be a float"}], "tags": [], "owner": {"reputation": 17500, "user_id": 3113477, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/TWIEk.jpg?s=128&g=1", "display_name": "A.J. Uppal", "link": "https://stackoverflow.com/users/3113477/a-j-uppal"}, "is_accepted": false, "score": 3, "last_activity_date": 1426713643, "last_edit_date": 1495540262, "creation_date": 1426710361, "answer_id": 29131993, "question_id": 29131918, "link": "https://stackoverflow.com/questions/29131918/calculation-of-trigonometric-functions-in-python/29131993#29131993", "title": "Calculation of trigonometric functions in python", "body": "<p>In <a href=\"/questions/tagged/python2.x\" class=\"post-tag\" title=\"show questions tagged &#39;python2.x&#39;\" rel=\"tag\">python2.x</a>, <a href=\"https://stackoverflow.com/questions/29131918/calculation-of-trigonometric-functions-in-python/29131993?noredirect=1#comment46490171_29131993\">python takes the floor of integer division</a>. Thus, you need to import <code>division</code> from the <code>__future__</code> library at the top of your program.</p>\n\n<pre><code>from __future__ import division\nx = ((0.1-0.001)/2)*math.sin(((1/20)*math.pi*20)+(0.5*math.pi*1))+((0.1-0.001)/2)+0.001\nprint x\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1910, "user_id": 3749633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/44ba1a2ad944c611b1a0cf236b26ba5f?s=128&d=identicon&r=PG&f=1", "display_name": "Vidhya G", "link": "https://stackoverflow.com/users/3749633/vidhya-g"}, "is_accepted": false, "score": 1, "last_activity_date": 1430827881, "last_edit_date": 1430827881, "creation_date": 1426710604, "answer_id": 29132047, "question_id": 29131918, "link": "https://stackoverflow.com/questions/29131918/calculation-of-trigonometric-functions-in-python/29132047#29132047", "title": "Calculation of trigonometric functions in python", "body": "<p>Just make your integers such as <code>2</code> float <code>2.0</code>, else Python 2.x uses integer division, also known as <em>floor division</em> (rounding towards minus infinity e.g. <code>-9/8</code> gives <code>-2</code>, <code>9/8</code> gives <code>1</code>), when dividing integers by other integers (whether plain or long):</p>\n\n<pre><code>x = ((0.1-0.001)/2.0)*math.sin(((1/20.0)*math.pi*20)+(0.5*math.pi*1))+((0.1-0.001)/2.0)+0.001\n</code></pre>\n\n<p>and:</p>\n\n<pre><code>print x\n0.001\n</code></pre>\n"}], "owner": {"reputation": 99, "user_id": 3130830, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/1813518782/picture?type=large", "display_name": "tafelrunde", "link": "https://stackoverflow.com/users/3130830/tafelrunde"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1380, "favorite_count": 0, "accepted_answer_id": 29131944, "answer_count": 3, "score": 1, "last_activity_date": 1430827881, "creation_date": 1426710065, "last_edit_date": 1426712076, "question_id": 29131918, "link": "https://stackoverflow.com/questions/29131918/calculation-of-trigonometric-functions-in-python", "title": "Calculation of trigonometric functions in python", "body": "<p>How does Python calculate trigonometric functions? \nI try to calculate using</p>\n\n<pre><code>x = ((0.1-0.001)/2)*math.sin(((1/20)*math.pi*20)+(0.5*math.pi*1))+((0.1-0.001)/2)+0.001\n</code></pre>\n\n<p>I'm getting</p>\n\n<pre><code>x = 0.1\n</code></pre>\n\n<p>why is that? in a usual calculator (radian) i'm getting <code>0.001</code></p>\n"}, {"tags": ["python", "r", "pandas", "rpy2"], "comments": [{"owner": {"reputation": 13976, "user_id": 1493368, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/372c5e7a05b8b47296a8b69c04f74c0b?s=128&d=identicon&r=PG", "display_name": "Metrics", "link": "https://stackoverflow.com/users/1493368/metrics"}, "edited": false, "score": 3, "creation_date": 1426711087, "post_id": 29131913, "comment_id": 46490210, "body": "<code>broom</code> package in R??"}, {"owner": {"reputation": 52310, "user_id": 2071807, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/QgeOJ.jpg?s=128&g=1", "display_name": "LondonRob", "link": "https://stackoverflow.com/users/2071807/londonrob"}, "reply_to_user": {"reputation": 13976, "user_id": 1493368, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/372c5e7a05b8b47296a8b69c04f74c0b?s=128&d=identicon&r=PG", "display_name": "Metrics", "link": "https://stackoverflow.com/users/1493368/metrics"}, "edited": false, "score": 1, "creation_date": 1426777415, "post_id": 29131913, "comment_id": 46518473, "body": "@Metrics This looks like a nice option. It&#39;d be nice if this question taught me something about what was going on with <code>rpy2</code>. Like, how do I deal with the return type from <code>lm</code> explicitly?"}], "answers": [{"tags": [], "owner": {"reputation": 52310, "user_id": 2071807, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/QgeOJ.jpg?s=128&g=1", "display_name": "LondonRob", "link": "https://stackoverflow.com/users/2071807/londonrob"}, "is_accepted": true, "score": 2, "last_activity_date": 1426789606, "creation_date": 1426789606, "answer_id": 29152290, "question_id": 29131913, "link": "https://stackoverflow.com/questions/29131913/retrieve-statistics-from-r-lm-regression-into-pandas-with-rpy2/29152290#29152290", "title": "Retrieve statistics from R lm regression into pandas with rpy2", "body": "<p>For posterity, here's a really nice way to get the numbers from an <code>lm</code> back into a <code>pd.DataFrame</code> <em>(thanks to @Metrics for the tip-off about broom)</em></p>\n\n<pre><code>def _run_regression(data, y_name):\n    \"\"\"\n    Run a linear regression, in R, using `data` with dependent variable\n    `y_name` and independent variables all other columns of `data`.\n    \"\"\"\n    from rpy2.robjects.packages import importr\n    stats = importr('stats')\n    broom = importr('broom')\n    lm = broom.tidy(stats.lm('%s ~ . ' % y_name, data=data))\n    return _extract_R_df(lm).set_index('term')\n\ndef _extract_R_df(df):\n    \"\"\"\n    Extract the R DataFrame `df` as a pd.DataFrame. This slightly\n    longer method is necessary because `np.asarray(df)` drops the\n    exponent on very small numbers!\n    \"\"\"\n    return pd.DataFrame({name:np.asarray(df.rx(name))[0] for name in df.names})\n</code></pre>\n\n<p>Which results in a DataFrame similar to this:</p>\n\n<pre><code>                 estimate   p.value     statistic     std.error\nterm                                                           \n(Intercept) -3.709995e-16  0.000056 -4.712554e+00  7.872579e-17\nx_is         8.000000e-01  0.000000  1.067919e+16  7.491204e-17\nv_is         2.000000e-01  0.000000  2.107838e+15  9.488394e-17\nd_ij        -2.000000e-01  0.000000 -2.970482e+14  6.732913e-16\nd1           1.000000e-01  0.000000  4.045155e+14  2.472093e-16\nd2           3.000000e-01  0.000000  5.320521e+14  5.638545e-16\nd3           7.000000e-01  0.000000  1.779338e+15  3.934048e-16\n</code></pre>\n"}], "owner": {"reputation": 52310, "user_id": 2071807, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/QgeOJ.jpg?s=128&g=1", "display_name": "LondonRob", "link": "https://stackoverflow.com/users/2071807/londonrob"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 789, "favorite_count": 0, "accepted_answer_id": 29152290, "answer_count": 1, "score": 3, "last_activity_date": 1426789606, "creation_date": 1426710043, "last_edit_date": 1426789316, "question_id": 29131913, "link": "https://stackoverflow.com/questions/29131913/retrieve-statistics-from-r-lm-regression-into-pandas-with-rpy2", "title": "Retrieve statistics from R lm regression into pandas with rpy2", "body": "<p>Inspired by the <a href=\"http://rpy.sourceforge.net/rpy2/doc-dev/html/introduction.html#linear-models\" rel=\"nofollow\">linear models example</a> from the docs, I'd like to print a nice summary after running an <code>lm</code> command.</p>\n\n<p>When I run <em>(see the final line in the example)</em> </p>\n\n<pre><code>print(base.summary(stats.lm('foo ~ bar'))\n</code></pre>\n\n<p>I get a whole function listing which starts as follows:</p>\n\n<pre><code>Call:\n(function (formula, data, subset, weights, na.action, method = \"qr\", \n    model = TRUE, x = FALSE, y = FALSE, qr = TRUE, singular.ok = TRUE, \n    contrasts = NULL, offset, ...) \n{\n    ret.x &lt;- x\n    ret.y &lt;- y\n    cl &lt;- match.call()\n    mf &lt;- match.call(expand.dots = FALSE)\n</code></pre>\n\n<p>With the desired <code>R</code> output at the bottom:</p>\n\n<pre><code>Coefficients:\n         Estimate Std. Error t value Pr(&gt;|t|)    \nfoo        5.0320     0.2202   22.85 9.55e-15 ***\nbar        4.6610     0.2202   21.16 3.62e-14 ***\n---\nSignif. codes:  0 \u2018***\u2019 0.001 \u2018**\u2019 0.01 \u2018*\u2019 0.05 \u2018.\u2019 0.1 \u2018 \u2019 1\n\nResidual standard error: 0.6964 on 18 degrees of freedom\nMultiple R-squared:  0.9818,    Adjusted R-squared:  0.9798 \nF-statistic: 485.1 on 2 and 18 DF,  p-value: &lt; 2.2e-16\n</code></pre>\n\n<p>This is moderately problematic, but becomes unworkable when the data being fed to <code>lm</code> is a <code>pandas.DataFrame</code>, because <code>base.summary</code> seems to want to print all the data.</p>\n\n<p>Is there a way to just get the nice formatted <code>R</code> output in a <code>pd.DataFrame</code> without all the extra gubbins?</p>\n"}, {"tags": ["python", "django", "django-forms", "django-templates"], "comments": [{"owner": {"reputation": 12189, "user_id": 2062318, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/78a27bedd2d3c0cded7b342858475dab?s=128&d=identicon&r=PG", "display_name": "Todor", "link": "https://stackoverflow.com/users/2062318/todor"}, "edited": false, "score": 1, "creation_date": 1426710692, "post_id": 29131908, "comment_id": 46489960, "body": "have you tried with <code>sender = forms.EmailField(widget=forms.TextInput(attrs={&#39;class&#39;: &#39;contatct-form&#39;}))</code>. Btw isnt <code>contatct-form</code> a typo ?"}, {"owner": {"reputation": 94141, "user_id": 2867928, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/a8DM1.jpg?s=128&g=1", "display_name": "kasravnd", "link": "https://stackoverflow.com/users/2867928/kasravnd"}, "reply_to_user": {"reputation": 12189, "user_id": 2062318, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/78a27bedd2d3c0cded7b342858475dab?s=128&d=identicon&r=PG", "display_name": "Todor", "link": "https://stackoverflow.com/users/2062318/todor"}, "edited": false, "score": 0, "creation_date": 1426710756, "post_id": 29131908, "comment_id": 46489994, "body": "@Todor yes, not its not!"}, {"owner": {"reputation": 12189, "user_id": 2062318, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/78a27bedd2d3c0cded7b342858475dab?s=128&d=identicon&r=PG", "display_name": "Todor", "link": "https://stackoverflow.com/users/2062318/todor"}, "edited": false, "score": 0, "creation_date": 1426716363, "post_id": 29131908, "comment_id": 46492865, "body": "BTW, when i test your code in the python shell its working. (i get the <code>&quot;contatct-form&quot;</code> class included <code>&lt;tr&gt;&lt;th&gt;&lt;label for=&quot;id_sender&quot;&gt;Sender:&lt;&#47;label&gt;&lt;&#47;th&gt;&lt;td&gt;&lt;input class=&quot;contatct-form&quot; id=&quot;id_sender&quot; name=&quot;sender&quot; type=&quot;email&quot; &#47;&gt;&lt;&#47;td&gt;&lt;&#47;tr&gt; </code>"}], "answers": [{"comments": [{"owner": {"reputation": 94141, "user_id": 2867928, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/a8DM1.jpg?s=128&g=1", "display_name": "kasravnd", "link": "https://stackoverflow.com/users/2867928/kasravnd"}, "edited": false, "score": 0, "creation_date": 1426752945, "post_id": 29136743, "comment_id": 46503327, "body": "Thanks buddy! in my <code>css</code>  the ` input type` was <code>text</code>, but i shouldn&#39;t use <code>email</code> type for that , because the other inputs may be like email field i just removed the <code>type</code> at all!"}], "tags": [], "owner": {"reputation": 16814, "user_id": 3849456, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AonOf.jpg?s=128&g=1", "display_name": "Anzel", "link": "https://stackoverflow.com/users/3849456/anzel"}, "is_accepted": true, "score": 12, "last_activity_date": 1426735811, "creation_date": 1426735811, "answer_id": 29136743, "question_id": 29131908, "link": "https://stackoverflow.com/questions/29131908/django-form-emailfield-doesnt-accept-the-css-attribute/29136743#29136743", "title": "Django form EmailField doesn&#39;t accept the css attribute", "body": "<p>The problem you have probably is because you have not assigned any <strong>widget</strong> to your <strong>EmailField()</strong>, change to this (like @Todor said) should work:</p>\n\n<pre><code>...\nsender = forms.EmailField(\n    widget=forms.EmailInput(attrs={'class': 'contatct-form'})\n) \n</code></pre>\n\n<p>If this doesn't work for whatever reason (probably wrong css styling), you can just change the styling in your <strong>css</strong>/<strong>class</strong> directly like so:</p>\n\n<pre><code>div.contatct-form form input[type=email] {\n    /* your changes here... */\n}\n</code></pre>\n\n<p>Hope this helps.</p>\n"}, {"tags": [], "owner": {"reputation": 2037, "user_id": 5412074, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pQQlu.png?s=128&g=1", "display_name": "Dat TT", "link": "https://stackoverflow.com/users/5412074/dat-tt"}, "is_accepted": false, "score": 1, "last_activity_date": 1521102547, "creation_date": 1521102547, "answer_id": 49294601, "question_id": 29131908, "link": "https://stackoverflow.com/questions/29131908/django-form-emailfield-doesnt-accept-the-css-attribute/49294601#49294601", "title": "Django form EmailField doesn&#39;t accept the css attribute", "body": "<p>We have to do that in the <strong>init</strong> method for one field or all fields with for loop.</p>\n\n<pre><code>class NameForm(forms.Form):\ndef __init__(*args, **kwargs):\n    super(NameForm, self).__init__(*args, **kwargs)\n    self.fields['sender'].widget.attrs.update({'class':\"contatct-form\"})\n</code></pre>\n"}], "owner": {"reputation": 94141, "user_id": 2867928, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/a8DM1.jpg?s=128&g=1", "display_name": "kasravnd", "link": "https://stackoverflow.com/users/2867928/kasravnd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3244, "favorite_count": 2, "accepted_answer_id": 29136743, "answer_count": 2, "score": 4, "last_activity_date": 1521102547, "creation_date": 1426710024, "question_id": 29131908, "link": "https://stackoverflow.com/questions/29131908/django-form-emailfield-doesnt-accept-the-css-attribute", "title": "Django form EmailField doesn&#39;t accept the css attribute", "body": "<p>I have a from containing some fields, but my <code>css</code> class applies to all the fileds except the <code>EmailField</code>. I've also tried <code>sender.widget.attrs.update({'class':\"contatct-form\"})</code> and it still doesn't work (just change the size of field). Does anybody knows what the problem is? as all of my searches were unsuccessful.     </p>\n\n<p>form:</p>\n\n<pre><code>from django import forms\nclass NameForm(forms.Form):\n     your_name = forms.CharField(initial='Your name', max_length=100)\n     sender = forms.EmailField()\n     #sender.widget.attrs.update({'class':\"contatct-form\"})\n     message = forms.CharField(widget=forms.Textarea)\n</code></pre>\n\n<p>template:</p>\n\n<pre><code>        &lt;div class=\"contatct-form\"&gt;\n            &lt;form action=\"\" method=\"post\"&gt;\n                {% csrf_token %}\n                {{ form }}\n                &lt;input type=\"submit\" value=\"send\" /&gt;\n            &lt;/form&gt;\n        &lt;/div&gt;\n</code></pre>\n"}, {"tags": ["python", "multithreading", "python-requests", "urllib3"], "comments": [{"owner": {"reputation": 33563, "user_id": 274466, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/268c241170c7a112bbc104a8809e293c?s=128&d=identicon&r=PG", "display_name": "ig0774", "link": "https://stackoverflow.com/users/274466/ig0774"}, "edited": false, "score": 2, "creation_date": 1426713106, "post_id": 29131873, "comment_id": 46491332, "body": "Have you tried mounting the adapter for HTTPS as well as HTTP?"}, {"owner": {"reputation": 1238, "user_id": 2929228, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/cb14a0ca1c489bdb92f63429a6a5cff2?s=128&d=identicon&r=PG&f=1", "display_name": "Sam P", "link": "https://stackoverflow.com/users/2929228/sam-p"}, "reply_to_user": {"reputation": 33563, "user_id": 274466, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/268c241170c7a112bbc104a8809e293c?s=128&d=identicon&r=PG", "display_name": "ig0774", "link": "https://stackoverflow.com/users/274466/ig0774"}, "edited": false, "score": 0, "creation_date": 1426715968, "post_id": 29131873, "comment_id": 46492696, "body": "Ahh so obvious, thanks a lot :) That sorted the problem for me (or at least it looks like it has for now), if you add an answer I&#39;ll accept it."}], "answers": [{"tags": [], "owner": {"reputation": 33563, "user_id": 274466, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/268c241170c7a112bbc104a8809e293c?s=128&d=identicon&r=PG", "display_name": "ig0774", "link": "https://stackoverflow.com/users/274466/ig0774"}, "is_accepted": true, "score": 5, "last_activity_date": 1426716165, "creation_date": 1426716165, "answer_id": 29133562, "question_id": 29131873, "link": "https://stackoverflow.com/questions/29131873/python-requests-warning-urllib3-connectionpoolconnection-pool-is-full/29133562#29133562", "title": "Python Requests, warning: urllib3.connectionpool:Connection pool is full", "body": "<p>Since zendesk communicates over https, you just need to mount the adapter to the https protocol, i.e.</p>\n\n<pre><code>self.session.mount('https://', adapter)\n</code></pre>\n"}], "owner": {"reputation": 1238, "user_id": 2929228, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/cb14a0ca1c489bdb92f63429a6a5cff2?s=128&d=identicon&r=PG&f=1", "display_name": "Sam P", "link": "https://stackoverflow.com/users/2929228/sam-p"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4883, "favorite_count": 1, "accepted_answer_id": 29133562, "answer_count": 1, "score": 2, "last_activity_date": 1426716165, "creation_date": 1426709895, "last_edit_date": 1495542661, "question_id": 29131873, "link": "https://stackoverflow.com/questions/29131873/python-requests-warning-urllib3-connectionpoolconnection-pool-is-full", "title": "Python Requests, warning: urllib3.connectionpool:Connection pool is full", "body": "<p>I'm using the requests library in python 3 and despite my best efforts I can't get the following warning to disappear:</p>\n\n<blockquote>\n  <p>WARNING:requests.packages.urllib3.connectionpool:Connection pool is full, discarding connection: myorganization.zendesk.com</p>\n</blockquote>\n\n<p>I'm using requests in a multithreaded environment to get and post json files concurrently to a <strong>single host</strong>, definitely no subdomains. In this current set up I'm using just 20 threads.</p>\n\n<p>I attempted to use a <code>Session</code> in order to get requests to reuse connections and thus get rid of the problem, but it hasn't worked. This is the code in my class constructor:</p>\n\n<pre><code>self.session = requests.Session()\nadapter = requests.adapters.HTTPAdapter(\n    pool_connections=100, pool_maxsize=100)\nself.session.mount('http://', adapter)\nself.session.headers.update({'Connection':'Keep-Alive'})\nself.session.auth = (self._user+\"/token\", self._token)\n</code></pre>\n\n<p>According to advice from <a href=\"https://bugs.launchpad.net/python-swiftclient/+bug/1295812\" rel=\"nofollow noreferrer\"> here </a> I shouldn't need to increase the pooled connections by that much considering the number of threads I'm using, but despite this I get this warning even when raising by 100.</p>\n\n<p>This makes me think that connections are not being reused at all, or if they are, too many are being created for some reason. I've updated requests, so it is the most up to date version.</p>\n\n<p>Does anyone have any ideas how I can get rid of this? I'm debugging some code and I think this is the blame for some requests not being made correctly.</p>\n\n<p>Related:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/18466079/can-i-change-the-connection-pool-size-for-pythons-requests-module\">Can I change the connection pool size for Python&#39;s &quot;requests&quot; module?</a></p>\n"}, {"tags": ["python", "file", "configuration", "configuration-files", "configparser"], "comments": [{"owner": {"reputation": 1029, "user_id": 1118357, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bc417767c936af003090cd413acb5dea?s=128&d=identicon&r=PG", "display_name": "TCAllen07", "link": "https://stackoverflow.com/users/1118357/tcallen07"}, "edited": false, "score": 0, "creation_date": 1426709981, "post_id": 29131705, "comment_id": 46489524, "body": "Could you add a few print lines to show what&#39;s being executed? Particularly just after the <code>with(open)</code> print the file_path_input and config_file vars? Can might show something wrong. Heck, maybe add all the output of when you run it. Alternatively, remove the binary (&#39;b&#39;) flag from the open-file statement and try writing it as plain text."}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1426710385, "post_id": 29131705, "comment_id": 46489763, "body": "It does not write what you expect though"}], "answers": [{"tags": [], "owner": {"reputation": 23, "user_id": 4687106, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4385236308e9c5e0b264b86757073b4b?s=128&d=identicon&r=PG&f=1", "display_name": "Hayk", "link": "https://stackoverflow.com/users/4687106/hayk"}, "is_accepted": false, "score": 0, "last_activity_date": 1426710182, "creation_date": 1426710182, "answer_id": 29131949, "question_id": 29131705, "link": "https://stackoverflow.com/questions/29131705/how-to-make-python-configuration-file-from-user-input-and-insert-runs/29131949#29131949", "title": "How to make Python Configuration File from user input, and insert runs?", "body": "<p>I would recommend writing your output as text, not using <code>ConfigParser</code>. I've had odd issues with using to <em>create</em> config files in the past (though better luck using it to read them). If you convert to write just a text file with standard file-i/o, you have more specificity in how it's written, while still writing it in a format that <code>ConfigParser</code> can later read in. </p>\n"}, {"tags": [], "owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "is_accepted": false, "score": 0, "last_activity_date": 1426711335, "creation_date": 1426711335, "answer_id": 29132243, "question_id": 29131705, "link": "https://stackoverflow.com/questions/29131705/how-to-make-python-configuration-file-from-user-input-and-insert-runs/29132243#29132243", "title": "How to make Python Configuration File from user input, and insert runs?", "body": "<ol>\n<li>Your indentation is problematic, particularly in the <code>createConfig</code> function.</li>\n<li><code>\"file_path_input\"</code> is different from <code>file_path_input</code>.</li>\n<li>Use <code>'w'</code> (a normal write) instead of <code>'wb'</code> (write bytes).</li>\n<li><p>You have <code>config</code> and <code>config_file</code> backwards - call <code>write</code> on <code>config_file</code>, then pass it the content you want to write. If you have a list of strings, simply loop through them and write each one with basic file I/O:</p>\n\n<pre><code>configs = ['file_path_to_use:' + file_path_input,\n'url_to_use:' + url_input]\nwith open(file_path_input, 'w') as config_file:\n    for line in configs:\n        config_file.write(line + '\\n')\n</code></pre>\n\n<p>Sample result:</p>\n\n<pre><code>file_path_to_use:/home/user/\nurl_input:vtm.example.com\n</code></pre>\n\n<p>I didn't include the <code>\"settings_info\"</code> portion because it's just a recap.</p></li>\n<li><p>You can then <code>split</code> or <code>partition</code> on <code>':'</code> when reading the file back in.</p></li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 398, "user_id": 7335214, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/k11rj.jpg?s=128&g=1", "display_name": "Zac", "link": "https://stackoverflow.com/users/7335214/zac"}, "is_accepted": false, "score": 0, "last_activity_date": 1483632928, "creation_date": 1483632928, "answer_id": 41489709, "question_id": 29131705, "link": "https://stackoverflow.com/questions/29131705/how-to-make-python-configuration-file-from-user-input-and-insert-runs/41489709#41489709", "title": "How to make Python Configuration File from user input, and insert runs?", "body": "<p>You could scrap using <code>ConfigParser</code> and instead create a <code>.py</code> file with the variables saved within in the format <code>KEY=VALUE</code> in the same way you are creating a <code>config</code> file.</p>\n\n<p>Then within your code, write your own function that opens the <code>.py</code> file (using <code>with</code> syntax, so that it automatically closes the file without <code>.close()</code>) and reads it, saving it as a string. </p>\n\n<p>You can then use string manipulation to get the string you want and assign it to a new variable (remember to convert it to the data type you want to use, i.e. <code>int()</code> for an integer). Use <code>type(</code>) to check the type of the variable if you aren't sure.</p>\n"}, {"tags": [], "owner": {"reputation": 256, "user_id": 9960182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/382a4d1817274d84d4b0726b4fe51fcb?s=128&d=identicon&r=PG", "display_name": "JAbr", "link": "https://stackoverflow.com/users/9960182/jabr"}, "is_accepted": false, "score": 0, "last_activity_date": 1545135300, "creation_date": 1545135300, "answer_id": 53832782, "question_id": 29131705, "link": "https://stackoverflow.com/questions/29131705/how-to-make-python-configuration-file-from-user-input-and-insert-runs/53832782#53832782", "title": "How to make Python Configuration File from user input, and insert runs?", "body": "<p>It actually starts with lowercase <code>configparser</code> and <code>configparser.ConfigParser()</code>. \nPlease update. </p>\n"}], "owner": {"reputation": 63, "user_id": 4476068, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/e26389a60ed54245fe784d433588651c?s=128&d=identicon&r=PG&f=1", "display_name": "edszr", "link": "https://stackoverflow.com/users/4476068/edszr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1822, "favorite_count": 1, "answer_count": 4, "score": -1, "last_activity_date": 1545135300, "creation_date": 1426709292, "last_edit_date": 1483643704, "question_id": 29131705, "link": "https://stackoverflow.com/questions/29131705/how-to-make-python-configuration-file-from-user-input-and-insert-runs", "title": "How to make Python Configuration File from user input, and insert runs?", "body": "<p>I've got a bunch of Python webdriver runs that I've converted from Selenium IDE.  These runs have 1 or 2 settings that I would like to be able to change using a configuration file that would be created by running a script that collects user input that would set these 2 variables.</p>\n\n<p>Here is my attempt at using the <code>ConfigParser</code> module:</p>\n\n<pre><code>import ConfigParser\n\nfile_path_input = raw_input(\"Enter path to 'webdriver' directory ex: '/home/user/': \")\nprint \"you entered\", file_path_input\n\nurl_input = raw_input(\"Enter url that the application will point to, ex: 172.31.13.56 or vtm55.example.com: \")\nprint \"you entered\", url_input\n\ndef createConfig(file_path_input):\n\"\"\"\nCreate a config file\n\"\"\"\nconfig = ConfigParser.ConfigParser()\nconfig.add_section(\"application_settings\")\nconfig.set(\"application_settings\", \"file_path_to_use\", \"file_path_input\")\nconfig.set(\"application_settings\", \"url_to_use\", \"url_input\")\nconfig.set(\"application_settings\", \"settings_info\",\n    \"Your application directory is in %(file_path_to_use)s and your application url is %(url_to_use)s\")\n\nwith open(file_path_input, \"wb\") as config_file:\n    config.write(config_file)\n</code></pre>\n\n<p>The <code>raw_input()</code> and <code>print()</code> lines work, but the configuration file doesn't appear to be generated at all. Once the file has been created, I'd like to be able to insert the variables <code>file_path_to_use</code> and <code>url_to_use</code> in my various Python webdriver runs.</p>\n"}, {"tags": ["python", "arrays", "list", "numpy"], "answers": [{"comments": [{"owner": {"reputation": 129, "user_id": 4666446, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/6963b2311e46e18678cb4a4b92cb5f68?s=128&d=identicon&r=PG&f=1", "display_name": "nxcr", "link": "https://stackoverflow.com/users/4666446/nxcr"}, "edited": false, "score": 0, "creation_date": 1426737374, "post_id": 29131777, "comment_id": 46498543, "body": "How to obtain mixed formats? A as string and B as a numerical value."}, {"owner": {"reputation": 130643, "user_id": 3923281, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CNpoa.jpg?s=128&g=1", "display_name": "Alex Riley", "link": "https://stackoverflow.com/users/3923281/alex-riley"}, "reply_to_user": {"reputation": 129, "user_id": 4666446, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/6963b2311e46e18678cb4a4b92cb5f68?s=128&d=identicon&r=PG&f=1", "display_name": "nxcr", "link": "https://stackoverflow.com/users/4666446/nxcr"}, "edited": false, "score": 0, "creation_date": 1427027663, "post_id": 29131777, "comment_id": 46601958, "body": "@nxcr: I&#39;m not sure I understand your question - when writing to disk with <code>savetxt</code> you only write string representations of the values in the array."}], "tags": [], "owner": {"reputation": 130643, "user_id": 3923281, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CNpoa.jpg?s=128&g=1", "display_name": "Alex Riley", "link": "https://stackoverflow.com/users/3923281/alex-riley"}, "is_accepted": false, "score": 1, "last_activity_date": 1426710572, "last_edit_date": 1592644375, "creation_date": 1426709560, "answer_id": 29131777, "question_id": 29131701, "link": "https://stackoverflow.com/questions/29131701/how-to-column-stack-a-list-and-numpy-array-and-savetxt/29131777#29131777", "title": "How to column stack a list and Numpy array and savetxt?", "body": "<p>You could specify <code>fmt</code> as <code>'%s'</code>:</p>\n<pre><code>np.savetxt('test.txt', np.column_stack((A, B)), fmt='%s')\n</code></pre>\n<p>The problem is that <code>fmt='%.18e'</code> by default and strings in the array such as <code>'A'</code> do not represent numerical values.</p>\n<p>A list of specifiers is given in the <a href=\"http://docs.scipy.org/doc/numpy/reference/generated/numpy.savetxt.html\" rel=\"nofollow noreferrer\"><code>savetxt</code> documentation</a> (quoted below) and covered in greater detail in the <a href=\"https://docs.python.org/2/library/string.html#format-specification-mini-language\" rel=\"nofollow noreferrer\">Python documentation</a>.</p>\n<blockquote>\n<p><code>c</code> : character</p>\n<p><code>d</code> or <code>i</code> : signed decimal integer</p>\n<p><code>e</code> or <code>E</code> : scientific notation with <code>e</code> or <code>E</code>.</p>\n<p><code>f</code> : decimal floating point</p>\n<p><code>g</code>,<code>G</code> : use the shorter of <code>e</code>,<code>E</code> or <code>f</code></p>\n<p><code>o</code> : signed octal</p>\n<p><code>s</code> : string of characters</p>\n<p><code>u</code> : unsigned decimal integer</p>\n<p><code>x</code>,<code>X</code> : unsigned hexadecimal integer</p>\n</blockquote>\n"}], "owner": {"reputation": 129, "user_id": 4666446, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/6963b2311e46e18678cb4a4b92cb5f68?s=128&d=identicon&r=PG&f=1", "display_name": "nxcr", "link": "https://stackoverflow.com/users/4666446/nxcr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1203, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1489861431, "creation_date": 1426709278, "last_edit_date": 1489861431, "question_id": 29131701, "link": "https://stackoverflow.com/questions/29131701/how-to-column-stack-a-list-and-numpy-array-and-savetxt", "title": "How to column stack a list and Numpy array and savetxt?", "body": "<p>I have a list <code>A</code> and a numpy array <code>B</code> that are to be stacked column-wise as shown below:</p>\n\n<p><strong>Input</strong></p>\n\n<pre><code>A = ['A', 'B', 'C']\n\nB = [[ 1  2  3  4  5  6]\n     [ 6  7  8  9 10 11]\n     [11 12 13 14 15 16]]\n</code></pre>\n\n<p><strong>Desired output</strong></p>\n\n<pre><code>[['A' '1' '2' '3' '4' '5' '6']\n ['B' '6' '7' '8' '9' '10' '11']\n ['C' '11' '12' '13' '14' '15' '16']]\n</code></pre>\n\n<p>I tried using the following code but results in an error:</p>\n\n<pre><code>import numpy as np\n\nA = ['A', 'B', 'C']\nB = np.array([[1, 2, 3, 4, 5, 6], [6, 7, 8, 9, 10, 11], [11, 12, 13, 14, 15, 16]])\n\nnp.savetxt('test.txt', np.column_stack((A, B)))\n</code></pre>\n\n<p>How can it be done?</p>\n"}, {"tags": ["python", "google-app-engine", "google-search-api"], "comments": [{"owner": {"reputation": 5895, "user_id": 1279005, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c64c420648367c4731d652862fb53d0d?s=128&d=identicon&r=PG", "display_name": "Dmytro Sadovnychyi", "link": "https://stackoverflow.com/users/1279005/dmytro-sadovnychyi"}, "edited": false, "score": 0, "creation_date": 1426773856, "post_id": 29131665, "comment_id": 46515820, "body": "<code>distance(location , geopoint(22.0,11.3)) &lt; float(max_radius)</code> be sure that max_radius is actually a number."}], "owner": {"reputation": 2173, "user_id": 3794544, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/94226e756a1e68dd797037f11dc2102a?s=128&d=identicon&r=PG&f=1", "display_name": "user47376", "link": "https://stackoverflow.com/users/3794544/user47376"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 48, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1426710441, "creation_date": 1426709123, "question_id": 29131665, "link": "https://stackoverflow.com/questions/29131665/app-engine-search-api-two-variable-query", "title": "app engine search api: Two variable query?", "body": "<p>I am building an app where professionals can get job offers from nearby clients , and the professional can configure the <code>max_radius</code> so he will not receive offers further away from him than the <code>max_radius</code>.</p>\n\n<p>so I built a simple <code>Index</code> which contains documents with the fields: <code>location : GeoField</code> and 'max_radius : NumberField' , each document represents a professional and <code>max_radius</code> different for each one since they configure it themselves.</p>\n\n<p>when I try this query: <code>distance(location , geopoint(22.0,11.3)) &lt; 100000</code> it works as expected.</p>\n\n<p>when I try: <code>max_radius &lt; 450000</code> , works as expected.</p>\n\n<p>but when I try: <code>distance(location , geopoint(22.0,11.3)) &lt; max_radius</code>\ni suddenly get: <code>ValueError: could not convert string to float: max_radius</code>.</p>\n\n<p>fiddling around a bit more , I began to question: \nis it not possible to make multiple variable queries , or am I doing it wrong ?</p>\n\n<p>Can anyone shed some light on this , and maybe suggest a way to achieve my goal ?</p>\n"}, {"tags": ["python", "string", "parsing"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 1, "creation_date": 1426709355, "post_id": 29131613, "comment_id": 46489156, "body": "<i>&quot;Can we implement that?&quot;</i> - yes, probably."}, {"owner": {"reputation": 8029, "user_id": 3137499, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7acff2bbbdb9c51ea478377a0f6dcb03?s=128&d=identicon&r=PG&f=1", "display_name": "aruisdante", "link": "https://stackoverflow.com/users/3137499/aruisdante"}, "edited": false, "score": 0, "creation_date": 1426711322, "post_id": 29131613, "comment_id": 46490378, "body": "Is this file specification something you can change? Because as it is, it&#39;s really odly designed and seems to do nothing but increase the possibility for errors. Why even allow multiple fields on the same line if a blank line is your &quot;row&quot; delimiter? And given the requirements to have field on the same line (they must be full-length), the comma is totally unnecessary, the delimitation is implied by the field-width. And do I count whitespace before/after the comma as part of the previous/next field, or does a field not start/end until the last/first non white-space character?"}, {"owner": {"reputation": 1, "user_id": 156458, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/3PCjR.png?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/156458/tim"}, "reply_to_user": {"reputation": 8029, "user_id": 3137499, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7acff2bbbdb9c51ea478377a0f6dcb03?s=128&d=identicon&r=PG&f=1", "display_name": "aruisdante", "link": "https://stackoverflow.com/users/3137499/aruisdante"}, "edited": false, "score": 0, "creation_date": 1426712072, "post_id": 29131613, "comment_id": 46490785, "body": "@aruisdante: Thanks. (1) I can&#39;t change it. Someone dumped some view from an Oracle DB into some csv file. I don&#39;t have access to the DB. I haven&#39;t used Oracle DB before, and don&#39;t know why the dump looks this way.  (2) we may think about the simpler case, if the difficult one is not easy. (3) A field starts immediately after a field separator, but the leading or trailing whitespaces don&#39;t matter (we can include them as part of the field)"}], "answers": [{"comments": [{"owner": {"reputation": 2325, "user_id": 2272638, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/4c4d7d86231ea02341f3a868d9d3f8c5?s=128&d=identicon&r=PG", "display_name": "dwanderson", "link": "https://stackoverflow.com/users/2272638/dwanderson"}, "edited": false, "score": 2, "creation_date": 1426713216, "post_id": 29132695, "comment_id": 46491388, "body": "Why bother to leave a half-filled in answer that doesn&#39;t generally address the OP&#39;s question? It doesn&#39;t say the first two fields will always have a comma; the OP wants to know how to distinguish between the results because it&#39;s not specified <i>a priori</i>. Leaving half of the original question unanswered &quot;as an exercise&quot; defeats the purpose of StackOverflow as a Q&amp;A site because you didn&#39;t provide any logic or basis for implementing it. Had you, say, implemented it for AB, and said &quot;doing similar for CD is left as an exercise&quot; it would be more understandable (if it was also correct)."}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 2, "creation_date": 1426764094, "post_id": 29132695, "comment_id": 46509475, "body": "A code dump without explanation is&#39;t terribly helpful (and this one doesn&#39;t follow the style guide)."}], "tags": [], "owner": {"reputation": 8873, "user_id": 2913864, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/8fd76251e7baccce47654c94e399b915?s=128&d=identicon&r=PG&f=1", "display_name": "Alan", "link": "https://stackoverflow.com/users/2913864/alan"}, "is_accepted": false, "score": 0, "last_activity_date": 1426856960, "last_edit_date": 1426856960, "creation_date": 1426712841, "answer_id": 29132695, "question_id": 29131613, "link": "https://stackoverflow.com/questions/29131613/reading-records-with-limits-on-lengths-of-fields/29132695#29132695", "title": "Reading records with limits on lengths of fields", "body": "<pre><code>def get_records(fname, field_lengths):\n  \"\"\"Return list of dict, where\n  each list represents a record,\n  as requested in the problem.\n  fname : str\n    the filename\n  field_lengths : list of int\n    the specified field lengths\n  \"\"\"\n  fields = tuple(\"ABCD\")  #the specified field names\n  fin = open(fname,\"r\")\n  result = list()\n  #could use a regex, but let's brute force it:\n  #extract records one at a time from the file\n  #(record extraction is delegated to `get_record`)\n  keepreading = True\n  while keepreading:\n    try:\n      result.append( get_record(fin, field_lengths) )\n      _ = next(fin) #discard record separator\n    except StopIteration:\n      keepreading = False\n  return result\n\ndef get_record(fin, field_lengths): \n  \"\"\"Return list of str, representing one record.\n  fin : filehandle\n    the file for record extraction\n  field_lengths : list of int\n    the specified field lengths\n  \"\"\"\n  n = len(field_lengths)\n  record_strings = []  #list to hold one record\n  line = next(fin).rstrip(\"\\n\")\n  for i, l in enumerate(field_lengths):\n    if len(line) &lt;= l: #only one record on this line\n      record_strings.append(line)\n      if (i &lt; n-1):\n        line = next(fin).rstrip(\"\\n\")\n    else: #multiple records on this line\n      record_strings.append(line[:l])\n      line = line[l:].lstrip(\",\")\n  #now we have a record as a list of strings,\n  #but the problem asks for a dict, convert it.\n  result = process_record_strings(record_strings)\n  return result\n\ndef process_record_strings(ss):\n  \"\"\"Return dict, mapping field names to values.\n  Input `ss` is a list of strings representing a record.\n  White space is stripped from these strings, as in the\n  problem example.\n  \"\"\"\n  A, B, C, D = map(lambda x: x.strip(), ss)\n  return dict(zip(\"ABCD\",(A,B,C,D)))\n\n#Example use:\nfield_lengths = 4,3,10,5\nprint get_records(\"temp.txt\", field_lengths=field_lengths)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4380, "user_id": 1656850, "user_type": "registered", "accept_rate": 35, "profile_image": "https://i.stack.imgur.com/RIotq.gif?s=128&g=1", "display_name": "boardrider", "link": "https://stackoverflow.com/users/1656850/boardrider"}, "is_accepted": false, "score": 1, "last_activity_date": 1426761115, "creation_date": 1426761115, "answer_id": 29142196, "question_id": 29131613, "link": "https://stackoverflow.com/questions/29131613/reading-records-with-limits-on-lengths-of-fields/29142196#29142196", "title": "Reading records with limits on lengths of fields", "body": "<p>Have a look at MULTILINE of the <code>re</code> module. <br>What you describe is a rather well defined record, so a regex <em>like</em> the following will be able to parse it:</p>\n\n<p><code>re.compile(r\"^.{1,4}[,]?.{1,3}[,]?.{1,10}[,]?.{1,5}[,]?$\", re.MULTILINE)</code></p>\n"}], "owner": {"reputation": 1, "user_id": 156458, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/3PCjR.png?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/156458/tim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "answer_count": 2, "score": -2, "last_activity_date": 1426856960, "creation_date": 1426708938, "last_edit_date": 1426712278, "question_id": 29131613, "link": "https://stackoverflow.com/questions/29131613/reading-records-with-limits-on-lengths-of-fields", "title": "Reading records with limits on lengths of fields", "body": "<p>Suppose I have several records in a text file. \n They are separated from each other by a blank line (i.e. <code>\\n\\n</code>).</p>\n\n<p>All records follow the same format: in each record: </p>\n\n<ul>\n<li>there are a fixed number of fields, </li>\n<li>fields are separated by either a comma or a new line character <code>\\n</code>. (so a field must be inside a single line). </li>\n</ul>\n\n<p>In each field of a record:</p>\n\n<ul>\n<li>A new line character is never a part of any field, while a comma can be a part of a field.</li>\n<li>each field has a certain limit on its length (in terms of number of characters), which is provided from user inputs.</li>\n<li>if a field has characters fewer than its limit, it must ended with a newline character <code>\\n</code></li>\n<li>if a field has another field following it on the same line, it must reach its length limit, and is separated from the following field by a comma.</li>\n<li>a field can be empty, i.e. a blank line (which is also the record separator, but we know the number of fields in each record, so we can distinguish between the two cases)</li>\n</ul>\n\n<p>E.g.</p>\n\n<p>A user specify that each record has four fields named <code>A, B, C, D</code>, with limits 4, 3, 10, 5 on their lengths. There are two records in the text file:</p>\n\n<pre><code>aaaa, bb\nccc\nddddd\n\n ee ,fff\ngggg,ggg\nhhhh\n</code></pre>\n\n<p>How can we write a program to read the text file into a list of dictionaries, with each dictionary representing a record:</p>\n\n<pre><code>&gt;&gt;&gt; records[0] \n{'A':'aaaa', 'B':' bb', 'C':'ccc', 'D':'ddddd'}\n&gt;&gt;&gt; records[1] \n{'A':' ee ', 'B':'fff', 'C':'gggg,ggg', 'D':'hhhh'}\n</code></pre>\n\n<p>Note: The leading or trailing whitespaces in a value of a field don't matter</p>\n\n<p>Thanks.</p>\n\n<hr>\n\n<p><strong>A more difficult problem</strong> is:</p>\n\n<ul>\n<li>we allows  a single certain field to span one or more than one lines, and knows which field it is. </li>\n<li>we also know its following field always reach length limit</li>\n<li>No other fields can span more than one lines</li>\n</ul>\n\n<p>For example, let's change the above example, by allowing the third field to span more than one lines. Change the second record to be</p>\n\n<pre><code> ee ,ff\nggg\ng,ggg\nhhhhh\n</code></pre>\n\n<p>where the third field <code>C</code> is:</p>\n\n<pre><code>ggg\ng,ggg\n</code></pre>\n\n<p>How can we implement that?</p>\n"}, {"tags": ["python", "dictionary"], "comments": [{"owner": {"reputation": 69452, "user_id": 953482, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/T3HH6.png?s=128&g=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/953482/kevin"}, "edited": false, "score": 1, "creation_date": 1426708937, "post_id": 29131569, "comment_id": 46488898, "body": "So... <code>sections = {keyword: {}}</code>?"}], "answers": [{"tags": [], "owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "is_accepted": true, "score": 5, "last_activity_date": 1426709358, "last_edit_date": 1426709358, "creation_date": 1426708987, "answer_id": 29131629, "question_id": 29131569, "link": "https://stackoverflow.com/questions/29131569/defining-a-nested-dictionary-in-python/29131629#29131629", "title": "Defining a nested dictionary in python", "body": "<pre><code>keyword = 'MyTest' # Later I want to pull this iterating through a list\nkey = 'test1'\nsections = {keyword: {}} \nsections[keyword][key] = 'Some value'\n\nprint(sections)\n{'MyTest': {'test1': 'Some value'}}\n</code></pre>\n\n<p><code>dict(keyword={})</code> creates a dict with the string <code>\"keyword\"</code> as the key not the value of the variable keyword.</p>\n\n<pre><code>In [3]: dict(foo={})\nOut[3]: {'foo': {}}\n</code></pre>\n\n<p>Where using a dict literal actually uses the value of the variable as above.</p>\n"}, {"comments": [{"owner": {"reputation": 156940, "user_id": 416467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/32cad7487ccecc3740a62e797fc326dc?s=128&d=identicon&r=PG", "display_name": "kindall", "link": "https://stackoverflow.com/users/416467/kindall"}, "edited": false, "score": 0, "creation_date": 1426710018, "post_id": 29131803, "comment_id": 46489551, "body": "Or use <code>setdefault</code> on a regular dictionary."}], "tags": [], "owner": {"reputation": 51, "user_id": 1672292, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29b1d4ebc8f9983814d9b43de6ecdbf5?s=128&d=identicon&r=PG", "display_name": "user1672292", "link": "https://stackoverflow.com/users/1672292/user1672292"}, "is_accepted": false, "score": 0, "last_activity_date": 1426709660, "creation_date": 1426709660, "answer_id": 29131803, "question_id": 29131569, "link": "https://stackoverflow.com/questions/29131569/defining-a-nested-dictionary-in-python/29131803#29131803", "title": "Defining a nested dictionary in python", "body": "<pre><code>sections = {}\n\nkeyword = 'MyTest'\n# If keyword isn't yet a key in the sections dict, \n# add it and set the value to an empty dict\nif keyword not in sections:\n    sections[keyword] = {} \n\nkey = 'test1'\nsections[keyword][key] = 'Some value'\n</code></pre>\n\n<p>Alternativly you could use a <a href=\"https://docs.python.org/2/library/collections.html#collections.defaultdict\" rel=\"nofollow\">defaultdict</a> which will automatically create the inner dictionary the first time a keyword is accessed</p>\n\n<pre><code>from collections import defaultdict\n\nsections = defaultdict(dict)\n\nkeyword = 'MyTest'\nkey = 'test1'\nsections[keyword][key] = 'Some value'\n</code></pre>\n"}], "owner": {"reputation": 3433, "user_id": 1029808, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b29446c389018572967bb14807d2f6ff?s=128&d=identicon&r=PG", "display_name": "as3rdaccount", "link": "https://stackoverflow.com/users/1029808/as3rdaccount"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 644, "favorite_count": 1, "accepted_answer_id": 29131629, "answer_count": 2, "score": 3, "last_activity_date": 1426709660, "creation_date": 1426708766, "question_id": 29131569, "link": "https://stackoverflow.com/questions/29131569/defining-a-nested-dictionary-in-python", "title": "Defining a nested dictionary in python", "body": "<p>I want to define a nested dictionary in python. I tried the following:</p>\n\n<pre><code>keyword = 'MyTest' # Later I want to pull this iterating through a list\nkey = 'test1'\nsections = dict(keyword={}) #This is clearly wrong but how do I get the string representation?\nsections[keyword][key] = 'Some value'\n</code></pre>\n\n<p>I can do this: </p>\n\n<pre><code>sections = {}\nsections[keyword] = {}\n</code></pre>\n\n<p>But then there is a warning in the Pycharm saying it can be defined through dictionary label.</p>\n\n<p>Can someone point out how to achieve this?</p>\n"}, {"tags": ["python"], "answers": [{"tags": [], "owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "is_accepted": false, "score": 0, "last_activity_date": 1426710950, "last_edit_date": 1426710950, "creation_date": 1426710643, "answer_id": 29132060, "question_id": 29131390, "link": "https://stackoverflow.com/questions/29131390/gzip-stdin-input-output-error-bin-sh-line-1-logfo-dynamo-log-20150317-gz/29132060#29132060", "title": "gzip: stdin: Input/output error /bin/sh: line 1: /logfo/dynamo.log-20150317.gz: Permission denied", "body": "<p>Not fully sure what you are trying to achieve but <code>i</code> will have a newline char so you see the output on different lines, you need to rstrip:</p>\n\n<pre><code>'zgrep ' + i.rstrip() + ' /logfo/dynam\n</code></pre>\n\n<p>You seem to be reassigning and not using some variables like your initial value for <code>g_rep</code>, I also think check_output might be more suitable passing a list of args without using <code>shell=True</code>:</p>\n\n<pre><code>import subprocess\n\nwith open('fi.txt') as f:\n    for i in f:\n        g_rep = 'zgrep {} /logfo/dynam*'.format(i.rstrip())\n        print g_rep\n        k = subprocess.check_output([\"zgrep\",i.rstrip(),\"/logfo/dynam*\"])\n        print k\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 4469997, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-UG1uYNAtCm0/AAAAAAAAAAI/AAAAAAAAAiQ/upIfT7LYsKc/photo.jpg?sz=128", "display_name": "Thiru maran", "link": "https://stackoverflow.com/users/4469997/thiru-maran"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 402, "favorite_count": 0, "answer_count": 1, "score": -3, "last_activity_date": 1426710950, "creation_date": 1426708069, "last_edit_date": 1426708135, "question_id": 29131390, "link": "https://stackoverflow.com/questions/29131390/gzip-stdin-input-output-error-bin-sh-line-1-logfo-dynamo-log-20150317-gz", "title": "gzip: stdin: Input/output error /bin/sh: line 1: /logfo/dynamo.log-20150317.gz: Permission denied", "body": "<pre><code>import subprocess\ng_rep = 'zgrep i_d /logfo/dynam*'\nf = open('fi.txt', \"r\")\nfor i in f:\n        g_rep = 'zgrep ' + i + ' /logfo/dynam*'\n        print g_rep\n        k = subprocess.Popen(['zgrep ' + i + '/logfo/dynamo*'], shell=True)\n        print k\n\ng_rep = 'zgrep ' + i + ' /logfo/dynam*'\nprint g_rep\n</code></pre>\n\n<p>When I am executing the script i got the output as:</p>\n\n<pre><code>zgrep 211043369013\n\n/logfo/dynam*\n&lt;subprocess.Popen object at 0xabe190&gt;\n\nzgrep 211043369013\n\n/logfo/dynam*\n</code></pre>\n\n<p>but actual output should be.. <code>zgrep 211043369013 /logfo/dynam*</code>\nplease help me how to bring in single line</p>\n"}, {"tags": ["python", "tabular"], "comments": [{"owner": {"reputation": 2181, "user_id": 4027338, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/gzGPW.png?s=128&g=1", "display_name": "marsh", "link": "https://stackoverflow.com/users/4027338/marsh"}, "edited": false, "score": 2, "creation_date": 1426708058, "post_id": 29131364, "comment_id": 46488349, "body": "C is 10-100+ times faster then python in general so I doubt you can expect similar results."}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1426708131, "post_id": 29131364, "comment_id": 46488394, "body": "Well you could be limiting the <code>split</code> if you&#39;re only using the first few items (<code>line.split(maxsplit=3)</code>)."}, {"owner": {"reputation": 31885, "user_id": 1008938, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/EOZbS.png?s=128&g=1", "display_name": "Linuxios", "link": "https://stackoverflow.com/users/1008938/linuxios"}, "edited": false, "score": 0, "creation_date": 1426708336, "post_id": 29131364, "comment_id": 46488521, "body": "Use a CSV library with space as the separator."}, {"owner": {"reputation": 31885, "user_id": 1008938, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/EOZbS.png?s=128&g=1", "display_name": "Linuxios", "link": "https://stackoverflow.com/users/1008938/linuxios"}, "reply_to_user": {"reputation": 2181, "user_id": 4027338, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/gzGPW.png?s=128&g=1", "display_name": "marsh", "link": "https://stackoverflow.com/users/4027338/marsh"}, "edited": false, "score": 1, "creation_date": 1426708408, "post_id": 29131364, "comment_id": 46488572, "body": "@marsh: The limiting factor in I/O is <i>always</i> network or disk speed, not cycles."}, {"owner": {"reputation": 31885, "user_id": 1008938, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/EOZbS.png?s=128&g=1", "display_name": "Linuxios", "link": "https://stackoverflow.com/users/1008938/linuxios"}, "edited": false, "score": 4, "creation_date": 1426708477, "post_id": 29131364, "comment_id": 46488610, "body": "In general, unless the slowdown is a problem, it really doesn&#39;t matter anymore. Unless you are processing enormous amounts of data or doing enormous numbers of computations, CPU is not going to be your problem."}, {"owner": {"reputation": 510, "user_id": 1465726, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/caqZt.jpg?s=128&g=1", "display_name": "niefpaarschoenen", "link": "https://stackoverflow.com/users/1465726/niefpaarschoenen"}, "reply_to_user": {"reputation": 31885, "user_id": 1008938, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/EOZbS.png?s=128&g=1", "display_name": "Linuxios", "link": "https://stackoverflow.com/users/1008938/linuxios"}, "edited": false, "score": 0, "creation_date": 1426708567, "post_id": 29131364, "comment_id": 46488669, "body": "@Linuxios: Is there a CSV library that accepts any white space as separator? The data I work with is typically not that well-formed, with spaces and tabs both."}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1426708669, "post_id": 29131364, "comment_id": 46488733, "body": "@niefpaarschoenen, if you have a mixture then the csv module won&#39;t work"}, {"owner": {"reputation": 31885, "user_id": 1008938, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/EOZbS.png?s=128&g=1", "display_name": "Linuxios", "link": "https://stackoverflow.com/users/1008938/linuxios"}, "edited": false, "score": 1, "creation_date": 1426708889, "post_id": 29131364, "comment_id": 46488872, "body": "@niefpaarschoenen: Python&#39;s CSV library seems to let you define your own CSV dialect class that could use both. Not sure though, I&#39;ve never used it."}], "answers": [{"comments": [{"owner": {"reputation": 510, "user_id": 1465726, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/caqZt.jpg?s=128&g=1", "display_name": "niefpaarschoenen", "link": "https://stackoverflow.com/users/1465726/niefpaarschoenen"}, "edited": false, "score": 0, "creation_date": 1426709896, "post_id": 29131792, "comment_id": 46489474, "body": "Hmm, but list comprehension is not very practical if you want to do more complex operations for each line than simply printing a number of columns, isn&#39;t it?  Also, is this actually faster than my suggested code?"}, {"owner": {"reputation": 1402, "user_id": 2051133, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/Qnn2b.png?s=128&g=1", "display_name": "Heisenberg", "link": "https://stackoverflow.com/users/2051133/heisenberg"}, "reply_to_user": {"reputation": 510, "user_id": 1465726, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/caqZt.jpg?s=128&g=1", "display_name": "niefpaarschoenen", "link": "https://stackoverflow.com/users/1465726/niefpaarschoenen"}, "edited": false, "score": 0, "creation_date": 1426710688, "post_id": 29131792, "comment_id": 46489956, "body": "Yes. Try using <code>timeit</code>. but the difference is not significant as I have tried this for small file content in my case. List comprehensions are always faster as they are done in C (as per many answers read till date)."}], "tags": [], "owner": {"reputation": 1402, "user_id": 2051133, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/Qnn2b.png?s=128&g=1", "display_name": "Heisenberg", "link": "https://stackoverflow.com/users/2051133/heisenberg"}, "is_accepted": false, "score": 0, "last_activity_date": 1426710550, "last_edit_date": 1426710550, "creation_date": 1426709606, "answer_id": 29131792, "question_id": 29131364, "link": "https://stackoverflow.com/questions/29131364/fastest-way-to-read-data-separated-by-white-space-in-python/29131792#29131792", "title": "Fastest way to read data separated by white space in Python", "body": "<p>You can get the expected columns in a list using list comprehensions.</p>\n\n<pre><code>expectedColumns = [\" \".join(x) for x in [line.split()[0:2] for line in file(\"testFile\",'r').readlines()]]\n</code></pre>\n\n<p>If you want to print the columns inside LC, you can do this :)</p>\n\n<pre><code>from __future__ import print_function\n[print(\" \".join(x)) for x in [line.split()[0:2] for line in file(\"testFile\",'r').readlines()]]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 510, "user_id": 1465726, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/caqZt.jpg?s=128&g=1", "display_name": "niefpaarschoenen", "link": "https://stackoverflow.com/users/1465726/niefpaarschoenen"}, "edited": false, "score": 0, "creation_date": 1426710783, "post_id": 29131893, "comment_id": 46490006, "body": "Ran some timing experiments:      for line in open(f,&#39;r&#39;): 2m23      for line in open(f,&#39;r&#39;).readlines(): 2m23      C code: 0m19  That&#39;s just sad :-(."}, {"owner": {"reputation": 2514, "user_id": 854276, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d92c4f63bcfd11096e6b0e25267dcc37?s=128&d=identicon&r=PG", "display_name": "Saikiran Yerram", "link": "https://stackoverflow.com/users/854276/saikiran-yerram"}, "reply_to_user": {"reputation": 510, "user_id": 1465726, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/caqZt.jpg?s=128&g=1", "display_name": "niefpaarschoenen", "link": "https://stackoverflow.com/users/1465726/niefpaarschoenen"}, "edited": false, "score": 0, "creation_date": 1426711049, "post_id": 29131893, "comment_id": 46490185, "body": "Are you counting the iteration in the <code>readlines</code> part? You shouldn&#39;t because <code>readlines</code> executes only once unlike file iterator itself."}, {"owner": {"reputation": 510, "user_id": 1465726, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/caqZt.jpg?s=128&g=1", "display_name": "niefpaarschoenen", "link": "https://stackoverflow.com/users/1465726/niefpaarschoenen"}, "edited": false, "score": 0, "creation_date": 1426713212, "post_id": 29131893, "comment_id": 46491386, "body": "I was counting some other stuff besides I/O. Less sad now :-)."}], "tags": [], "owner": {"reputation": 2514, "user_id": 854276, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d92c4f63bcfd11096e6b0e25267dcc37?s=128&d=identicon&r=PG", "display_name": "Saikiran Yerram", "link": "https://stackoverflow.com/users/854276/saikiran-yerram"}, "is_accepted": false, "score": 0, "last_activity_date": 1426709961, "creation_date": 1426709961, "answer_id": 29131893, "question_id": 29131364, "link": "https://stackoverflow.com/questions/29131364/fastest-way-to-read-data-separated-by-white-space-in-python/29131893#29131893", "title": "Fastest way to read data separated by white space in Python", "body": "<p>When you directly iterate over a <code>file</code>, the file is read line by line. This helps for huge files but at the penalty of IO, even though if it implements read ahead buffer. AFAIK, internally it uses <code>seek</code> and <code>tell</code> when iterating.</p>\n\n<p>If you do <code>read()</code>, it will read the entire content once but at the cost of memory. In your case you can do <code>read().split('\\n')</code> or <code>readlines()</code> (preferred) and it will be faster than iterating over the file directly.</p>\n\n<p>In addition to the above, please use context managers when dealing with files, so they are closed once done.</p>\n\n<p><a href=\"https://docs.python.org/2.4/lib/bltin-file-objects.html\" rel=\"nofollow\">Docs</a></p>\n"}, {"comments": [{"owner": {"reputation": 510, "user_id": 1465726, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/caqZt.jpg?s=128&g=1", "display_name": "niefpaarschoenen", "link": "https://stackoverflow.com/users/1465726/niefpaarschoenen"}, "edited": false, "score": 0, "creation_date": 1426711691, "post_id": 29132216, "comment_id": 46490580, "body": "Again, this only works if you have a fixed delimiter. The data I work with has both spaces and tabs."}, {"owner": {"reputation": 55248, "user_id": 642070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c280b71b3187d1cc113a6e302b414b9?s=128&d=identicon&r=PG", "display_name": "tdelaney", "link": "https://stackoverflow.com/users/642070/tdelaney"}, "edited": false, "score": 2, "creation_date": 1426712336, "post_id": 29132216, "comment_id": 46490914, "body": "<code>split</code> is written in C also. I&#39;d be very surprised if the <code>csv</code> module is faster."}, {"owner": {"reputation": 51, "user_id": 1672292, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29b1d4ebc8f9983814d9b43de6ecdbf5?s=128&d=identicon&r=PG", "display_name": "user1672292", "link": "https://stackoverflow.com/users/1672292/user1672292"}, "reply_to_user": {"reputation": 510, "user_id": 1465726, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/caqZt.jpg?s=128&g=1", "display_name": "niefpaarschoenen", "link": "https://stackoverflow.com/users/1465726/niefpaarschoenen"}, "edited": false, "score": 0, "creation_date": 1426713720, "post_id": 29132216, "comment_id": 46491651, "body": "@niefpaarschoenen sorry, I must have missed that comment. In that case you might want to look at the pandas library. It has a csv reader better suited to large data sets and allows you to use a regex as the deliminator. I haven&#39;t had much experience with it though, so I&#39;m not sure if it will be any faster."}], "tags": [], "owner": {"reputation": 51, "user_id": 1672292, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29b1d4ebc8f9983814d9b43de6ecdbf5?s=128&d=identicon&r=PG", "display_name": "user1672292", "link": "https://stackoverflow.com/users/1672292/user1672292"}, "is_accepted": false, "score": 0, "last_activity_date": 1426711636, "last_edit_date": 1426711636, "creation_date": 1426711238, "answer_id": 29132216, "question_id": 29131364, "link": "https://stackoverflow.com/questions/29131364/fastest-way-to-read-data-separated-by-white-space-in-python/29132216#29132216", "title": "Fastest way to read data separated by white space in Python", "body": "<p>You might want to look at the <a href=\"https://docs.python.org/2/library/csv.html\" rel=\"nofollow\">CSV</a> module. csv.reader is implemented in c and should be faster than using pure python.</p>\n\n<pre><code>import csv\nwith open(f, 'rb') as file:\n    r = csv.reader(file, delimiter=' ')\n    for line in r:\n        print ' '.join(line[1:3])\n</code></pre>\n"}], "owner": {"reputation": 510, "user_id": 1465726, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/caqZt.jpg?s=128&g=1", "display_name": "niefpaarschoenen", "link": "https://stackoverflow.com/users/1465726/niefpaarschoenen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1858, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1426711636, "creation_date": 1426707986, "question_id": 29131364, "link": "https://stackoverflow.com/questions/29131364/fastest-way-to-read-data-separated-by-white-space-in-python", "title": "Fastest way to read data separated by white space in Python", "body": "<p>I have some data that is separated by white space from which I want to extract certain columns. In the past I have always used something like the following in Python, in which I have removed the non-essentials:</p>\n\n<pre><code>for line in open(f,'r'):\n    l = line.split()\n    print \" \".join(l[1:3])\n</code></pre>\n\n<p>I'm wondering though whether this is the fastest way to do this. If I compare to another software package (written in C) that reads the same data, my code is significantly slower. Is this simply because I/O in C is faster or am I writing suboptimal code?</p>\n"}, {"tags": ["python", "parsing", "nltk"], "answers": [{"comments": [{"owner": {"reputation": 137, "user_id": 4686942, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ad1f1f6532a0508454eee577e2fd7bc4?s=128&d=identicon&r=PG&f=1", "display_name": "ZaM", "link": "https://stackoverflow.com/users/4686942/zam"}, "edited": false, "score": 0, "creation_date": 1426741380, "post_id": 29132972, "comment_id": 46499481, "body": "But I think we should  write it as <code>S conj S</code>. or I am mistake?"}, {"owner": {"reputation": 400, "user_id": 4611541, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb2ca31c46e5a4cd5f1065141557d27a?s=128&d=identicon&r=PG&f=1", "display_name": "char bugs", "link": "https://stackoverflow.com/users/4611541/char-bugs"}, "reply_to_user": {"reputation": 137, "user_id": 4686942, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ad1f1f6532a0508454eee577e2fd7bc4?s=128&d=identicon&r=PG&f=1", "display_name": "ZaM", "link": "https://stackoverflow.com/users/4686942/zam"}, "edited": false, "score": 0, "creation_date": 1426753614, "post_id": 29132972, "comment_id": 46503622, "body": "You don&#39;t. S Conj S is even more accurate in a linguistic sense because of the two finite verb phrases. But in that case the second sentence comes along with a subject gap. That is,"}, {"owner": {"reputation": 137, "user_id": 4686942, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ad1f1f6532a0508454eee577e2fd7bc4?s=128&d=identicon&r=PG&f=1", "display_name": "ZaM", "link": "https://stackoverflow.com/users/4686942/zam"}, "edited": false, "score": 0, "creation_date": 1426754604, "post_id": 29132972, "comment_id": 46504046, "body": "suppose there is no subject gap, could you please tell me how can I parse this sentence: <code>sent = [&#39;the&#39;, &#39;man&#39;, &#39;saw&#39;, &#39;David&#39;, &#39;and&#39;, &#39;he&#39;,&#39;helped&#39;, &#39;him&#39;]</code> as <code>S Conj S</code>"}, {"owner": {"reputation": 400, "user_id": 4611541, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb2ca31c46e5a4cd5f1065141557d27a?s=128&d=identicon&r=PG&f=1", "display_name": "char bugs", "link": "https://stackoverflow.com/users/4611541/char-bugs"}, "reply_to_user": {"reputation": 137, "user_id": 4686942, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ad1f1f6532a0508454eee577e2fd7bc4?s=128&d=identicon&r=PG&f=1", "display_name": "ZaM", "link": "https://stackoverflow.com/users/4686942/zam"}, "edited": false, "score": 0, "creation_date": 1426756551, "post_id": 29132972, "comment_id": 46505018, "body": "Ok, this should cover both the example with and without subject gap: <code>S -&gt; NP VP | VP | NP VP Conj S</code>. The shortcoming is that S can have a NP or not. That is a little lame. You can consider defining symbols for different kinds of sentence, i.e. CS for conjunction sentence or GS for gap sentence and so on."}], "tags": [], "owner": {"reputation": 400, "user_id": 4611541, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb2ca31c46e5a4cd5f1065141557d27a?s=128&d=identicon&r=PG&f=1", "display_name": "char bugs", "link": "https://stackoverflow.com/users/4611541/char-bugs"}, "is_accepted": true, "score": 1, "last_activity_date": 1426720599, "last_edit_date": 1426720599, "creation_date": 1426713838, "answer_id": 29132972, "question_id": 29131332, "link": "https://stackoverflow.com/questions/29131332/add-conjunction-to-grammar-rule-nltk-parse-into-syntax-tree-in-python/29132972#29132972", "title": "Add conjunction to grammar rule - NLTK parse into syntax tree in python", "body": "<p>A job for recursion. This should work.</p>\n\n<pre><code>S -&gt; NP VP \nVP -&gt; V NP | V NP Conj VP\nNP -&gt; Det N | PN | Pro\nPN -&gt; 'David' \nDet -&gt; 'the'\nN -&gt; 'man' \nV -&gt; 'saw' | 'helped' \nPro -&gt; 'him'\nConj -&gt; 'and'\n</code></pre>\n"}], "owner": {"reputation": 137, "user_id": 4686942, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ad1f1f6532a0508454eee577e2fd7bc4?s=128&d=identicon&r=PG&f=1", "display_name": "ZaM", "link": "https://stackoverflow.com/users/4686942/zam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1095, "favorite_count": 1, "accepted_answer_id": 29132972, "answer_count": 1, "score": 0, "last_activity_date": 1426720599, "creation_date": 1426707885, "last_edit_date": 1426709629, "question_id": 29131332, "link": "https://stackoverflow.com/questions/29131332/add-conjunction-to-grammar-rule-nltk-parse-into-syntax-tree-in-python", "title": "Add conjunction to grammar rule - NLTK parse into syntax tree in python", "body": "<p>Suppose  we  have following incomplete  grammar rule:</p>\n\n<pre><code>grammar2 = nltk.parse_cfg(\"\"\"\nS -&gt; NP VP\nNP -&gt; Det N\nVP -&gt; V NP\nPN -&gt; 'David' \nDet -&gt; 'the'\nN -&gt; 'man' \nV -&gt; 'saw' | 'helped' \nPro -&gt; 'him'\nConj -&gt; 'and'\n\"\"\")\n</code></pre>\n\n<p>I want to create syntax tree for following sentence:</p>\n\n<pre><code>sent = ['the', 'man', 'saw', 'David', 'and', 'helped', 'him']\nparser = nltk.ChartParser(grammar2)\ntrees = parser.nbest_parse(sent)\nfor tree in trees:\n    print tree\n</code></pre>\n\n<p>But I don't know how can I add conjunction <code>and</code> in the grammar?</p>\n"}, {"tags": ["python", "openpyxl", "import-from-excel"], "comments": [{"owner": {"reputation": 14362, "user_id": 2385133, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/3a93c5a0f975385738c1f27848f3b50a?s=128&d=identicon&r=PG", "display_name": "Charlie Clark", "link": "https://stackoverflow.com/users/2385133/charlie-clark"}, "edited": false, "score": 0, "creation_date": 1426754641, "post_id": 29131325, "comment_id": 46504063, "body": "The same question was also asked (and answered) on the mailing list. The user is deviating unnecessarily from the API and creating additional cells in the range."}, {"owner": {"reputation": 39, "user_id": 2818987, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8df93774cc58897579a9f7648ba30b53?s=128&d=identicon&r=PG&f=1", "display_name": "Arvind_R", "link": "https://stackoverflow.com/users/2818987/arvind-r"}, "reply_to_user": {"reputation": 14362, "user_id": 2385133, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/3a93c5a0f975385738c1f27848f3b50a?s=128&d=identicon&r=PG", "display_name": "Charlie Clark", "link": "https://stackoverflow.com/users/2385133/charlie-clark"}, "edited": false, "score": 0, "creation_date": 1426838819, "post_id": 29131325, "comment_id": 46543340, "body": "Thanks for your advice on correcting the code Charlie. However, even after those corrections, I&#39;m still having the same issue when I open the workbook in readonly mode. It would be highly helpful if you can help me resolve this. Thanks again."}, {"owner": {"reputation": 39, "user_id": 2818987, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8df93774cc58897579a9f7648ba30b53?s=128&d=identicon&r=PG&f=1", "display_name": "Arvind_R", "link": "https://stackoverflow.com/users/2818987/arvind-r"}, "reply_to_user": {"reputation": 14362, "user_id": 2385133, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/3a93c5a0f975385738c1f27848f3b50a?s=128&d=identicon&r=PG", "display_name": "Charlie Clark", "link": "https://stackoverflow.com/users/2385133/charlie-clark"}, "edited": false, "score": 0, "creation_date": 1426905574, "post_id": 29131325, "comment_id": 46574452, "body": "@charlie, as you just agreed and confirmed that this is a bug (google groups mailing list), can you please revert the downvote? Thanks in advance."}], "answers": [{"tags": [], "owner": {"reputation": 39, "user_id": 2818987, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8df93774cc58897579a9f7648ba30b53?s=128&d=identicon&r=PG&f=1", "display_name": "Arvind_R", "link": "https://stackoverflow.com/users/2818987/arvind-r"}, "is_accepted": true, "score": 1, "last_activity_date": 1576497970, "last_edit_date": 1576497970, "creation_date": 1427227063, "answer_id": 29241731, "question_id": 29131325, "link": "https://stackoverflow.com/questions/29131325/openpyxl-reads-and-returns-a-none-every-second-cell/29241731#29241731", "title": "Openpyxl reads and returns a None every second cell", "body": "<p>As per the confirmation from \"Charlie Clark\" (in openpyxl google groups), this is a bug in the current version of openpyxl. This is applicable to any worksheet with empty rows due a counter not being updated. This is Fixed in the 2.2 branch and will be in 2.2.1 when released.</p>\n"}], "owner": {"reputation": 39, "user_id": 2818987, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8df93774cc58897579a9f7648ba30b53?s=128&d=identicon&r=PG&f=1", "display_name": "Arvind_R", "link": "https://stackoverflow.com/users/2818987/arvind-r"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 915, "favorite_count": 0, "accepted_answer_id": 29241731, "answer_count": 1, "score": 0, "last_activity_date": 1576497970, "creation_date": 1426707846, "last_edit_date": 1426838647, "question_id": 29131325, "link": "https://stackoverflow.com/questions/29131325/openpyxl-reads-and-returns-a-none-every-second-cell", "title": "Openpyxl reads and returns a None every second cell", "body": "<p>I'm trying to read a xlsx using the load_workbook method and it works fairly well. However, if there is an Empty cell in a column and the workbook is loaded with \"use_iterators or read_only\" option set, the rows() method adds a 'None' value to the output after every original cell value in that column. If there are no empty cells in the column within the data range, then there is no problem.</p>\n\n<p>Please find below the piece of code and the data of the excel file I'm reading from:</p>\n\n<p>Excel file: book1.xlsx</p>\n\n<p>Data range:\n(Column A, row 1-7)</p>\n\n<p>empty cell</p>\n\n<p>1</p>\n\n<p>empty cell</p>\n\n<p>2</p>\n\n<p>3</p>\n\n<p>4</p>\n\n<p>5</p>\n\n<h2>Code:</h2>\n\n<pre><code>  Book=openpyxl.load_workbook(filename='book1.xlsx', read_only=True, data_only=True)\n  ws=Book.get_sheet_by_name('sheet1')\n  for row in ws.rows:\n      for col in row:\n           print col.value\n</code></pre>\n\n<h2>Actual Output (when read_only option is true):</h2>\n\n<p>None</p>\n\n<p>1</p>\n\n<p>None</p>\n\n<p>None</p>\n\n<p>2</p>\n\n<p>None</p>\n\n<p>3</p>\n\n<p>None</p>\n\n<p>4</p>\n\n<p>None</p>\n\n<p>5</p>\n\n<h2>Expected Output:</h2>\n\n<p>None</p>\n\n<p>1</p>\n\n<p>None</p>\n\n<p>2</p>\n\n<p>3</p>\n\n<p>4</p>\n\n<p>5</p>\n\n<p>I still couldn't resolve of this as I'm still facing the same issue. Please excuse me for any naive errors. I'm new to python and openpyxl and I'm here just looking for an answer to the problem. Any help would be highly appreciated.</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 36141, "user_id": 4354477, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/SuxtS.gif?s=128&g=1", "display_name": "ForceBru", "link": "https://stackoverflow.com/users/4354477/forcebru"}, "edited": false, "score": 1, "creation_date": 1426707580, "post_id": 29131232, "comment_id": 46488092, "body": "What about <code>f.foo()</code> ?"}, {"owner": {"reputation": 71857, "user_id": 47453, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/412dc332ab3593c636e5a5202cf98870?s=128&d=identicon&r=PG", "display_name": "Bill Lynch", "link": "https://stackoverflow.com/users/47453/bill-lynch"}, "edited": false, "score": 5, "creation_date": 1426707630, "post_id": 29131232, "comment_id": 46488114, "body": "<a href=\"https://docs.python.org/2/reference/datamodel.html#object.__getitem__\" rel=\"nofollow noreferrer\"><code>__getitem__</code></a> allows you to implement the <code>f[]</code> method."}, {"owner": {"reputation": 27355, "user_id": 902885, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fc74acf73e1261de1f71cc5987258771?s=128&d=identicon&r=PG", "display_name": "frazman", "link": "https://stackoverflow.com/users/902885/frazman"}, "reply_to_user": {"reputation": 36141, "user_id": 4354477, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/SuxtS.gif?s=128&g=1", "display_name": "ForceBru", "link": "https://stackoverflow.com/users/4354477/forcebru"}, "edited": false, "score": 0, "creation_date": 1426707631, "post_id": 29131232, "comment_id": 46488116, "body": "@ForceBru: that behaves normally.. though I think of them as bonus?? Maybe I will annotate these methods as private with underscore?"}, {"owner": {"reputation": 9745, "user_id": 1443118, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/d758a80b64e30e08da95ae0430e420a5?s=128&d=identicon&r=PG", "display_name": "reptilicus", "link": "https://stackoverflow.com/users/1443118/reptilicus"}, "edited": false, "score": 0, "creation_date": 1426707656, "post_id": 29131232, "comment_id": 46488131, "body": "do you want to be able to do <code>f[&#39;foo&#39;]</code> and have it actually call the <code>foo</code> method?"}, {"owner": {"reputation": 36141, "user_id": 4354477, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/SuxtS.gif?s=128&g=1", "display_name": "ForceBru", "link": "https://stackoverflow.com/users/4354477/forcebru"}, "edited": false, "score": 0, "creation_date": 1426707761, "post_id": 29131232, "comment_id": 46488182, "body": "@Fraz, what are <i>private methods</i>? There are no such methods in Python, no?"}, {"owner": {"reputation": 27355, "user_id": 902885, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fc74acf73e1261de1f71cc5987258771?s=128&d=identicon&r=PG", "display_name": "frazman", "link": "https://stackoverflow.com/users/902885/frazman"}, "reply_to_user": {"reputation": 9745, "user_id": 1443118, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/d758a80b64e30e08da95ae0430e420a5?s=128&d=identicon&r=PG", "display_name": "reptilicus", "link": "https://stackoverflow.com/users/1443118/reptilicus"}, "edited": false, "score": 0, "creation_date": 1426707762, "post_id": 29131232, "comment_id": 46488183, "body": "@reptilicus: I am thinking more like   x = 20 values = [ func(x) for func in func[&#39;all&#39;]]"}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "reply_to_user": {"reputation": 36141, "user_id": 4354477, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/SuxtS.gif?s=128&g=1", "display_name": "ForceBru", "link": "https://stackoverflow.com/users/4354477/forcebru"}, "edited": false, "score": 1, "creation_date": 1426707790, "post_id": 29131232, "comment_id": 46488199, "body": "@ForceBru names with a leading underscore are private-by-convention, and those with two are name-mangled."}, {"owner": {"reputation": 36141, "user_id": 4354477, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/SuxtS.gif?s=128&g=1", "display_name": "ForceBru", "link": "https://stackoverflow.com/users/4354477/forcebru"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1426707867, "post_id": 29131232, "comment_id": 46488242, "body": "@jonrsharpe, but everyone can call any of them without problems. Such as <code>f.__init__()</code>. They&#39;re not as <i>private</i> as in C++."}, {"owner": {"reputation": 27355, "user_id": 902885, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fc74acf73e1261de1f71cc5987258771?s=128&d=identicon&r=PG", "display_name": "frazman", "link": "https://stackoverflow.com/users/902885/frazman"}, "reply_to_user": {"reputation": 36141, "user_id": 4354477, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/SuxtS.gif?s=128&g=1", "display_name": "ForceBru", "link": "https://stackoverflow.com/users/4354477/forcebru"}, "edited": false, "score": 0, "creation_date": 1426707990, "post_id": 29131232, "comment_id": 46488313, "body": "@ForceBru: yeah.. but think of it as a convention:  &quot;The main convention for private properties and implementation details is to prefix all \u201cinternals\u201d with an underscore. If the client code breaks this rule and accesses these marked elements, any misbehavior or problems encountered if the code is modified is the responsibility of the client code&quot; <a href=\"http://docs.python-guide.org/en/latest/writing/style/\" rel=\"nofollow noreferrer\">docs.python-guide.org/en/latest/writing/style</a>"}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1426707998, "post_id": 29131232, "comment_id": 46488318, "body": "Well the leading-and-trailing-double-underscore methods are special <i>&quot;magic methods&quot;</i> that implement built-in behaviour - you would rarely call e.g. <code>__init__</code>, <code>__str__</code>, etc. outside the class (you&#39;d use <code>Class()</code>, <code>str(instance)</code>, etc.). They aren&#39;t <b>protected</b> as they are in some languages, no, but <i>&quot;we&#39;re all consenting adults here&quot;</i>!"}, {"owner": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "edited": false, "score": 0, "creation_date": 1426708070, "post_id": 29131232, "comment_id": 46488361, "body": "Two words, operator overloading."}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 1, "creation_date": 1426708200, "post_id": 29131232, "comment_id": 46488436, "body": "You can get an object&#39;s attributes by string with <code>getattr(f, &#39;foo&#39;)</code>, which would return the <code>foo</code> function. There are several methods that get included with new classes by default (such as <code>__module__</code> and <code>__ne__</code>), so you&#39;d have to specify which ones you want, perhaps by filtering out the ones that start and end with <code>__</code>."}], "answers": [{"tags": [], "owner": {"reputation": 512, "user_id": 4190567, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c86dbb326df7c3f8192e1de5fe146163?s=128&d=identicon&r=PG&f=1", "display_name": "dhu", "link": "https://stackoverflow.com/users/4190567/dhu"}, "is_accepted": false, "score": 0, "last_activity_date": 1426711224, "creation_date": 1426711224, "answer_id": 29132211, "question_id": 29131232, "link": "https://stackoverflow.com/questions/29131232/retrieving-elements-from-a-class/29132211#29132211", "title": "Retrieving elements from a class", "body": "<p>I am not sure what exactly you are looking for. Maybe that's UserDict</p>\n\n<pre><code>import UserDict\n\nclass Foo(UserDict.UserDict):\n    def __init__(self, data=None):\n        UserDict.UserDict.__init__(self, data if data is not None else {})\n</code></pre>\n\n<p>In the end you are really just using this as a dictionary. So why not just use a dictionary if that makes things easier. </p>\n"}], "owner": {"reputation": 27355, "user_id": 902885, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fc74acf73e1261de1f71cc5987258771?s=128&d=identicon&r=PG", "display_name": "frazman", "link": "https://stackoverflow.com/users/902885/frazman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 34, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1426711224, "creation_date": 1426707496, "question_id": 29131232, "link": "https://stackoverflow.com/questions/29131232/retrieving-elements-from-a-class", "title": "Retrieving elements from a class", "body": "<pre><code>class Foo():\n  def __init__(self, implementations):\n       self.implementations = {'foo': self.foo, 'bar': self.bar}\n\n  def foo(self, val):\n      return np.sin(val)\n\n  def bar(self,val):\n      return np.cos(val)\n</code></pre>\n\n<p>Now, I want to access the above as</p>\n\n<pre><code>f = Foo()\nf['foo'] = #returns sin function??\nf['bar'] = # returns cos function??\nf['baz'] = # raises an error?\nf['all'] = # returns the functions in self.implementations\n</code></pre>\n\n<p>I feel, there should be a way to do this in python but am not able to think how...</p>\n"}, {"tags": ["python", "django"], "comments": [{"owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 1, "creation_date": 1426708369, "post_id": 29131198, "comment_id": 46488535, "body": "Are you sure that error is coming from here? A ModelForm save method does have a commit kwarg, but a Model save method does not. Can you please post the full traceback?"}, {"owner": {"reputation": 24613, "user_id": 3518452, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/71c8adf8d0ebc93a00ac2a0498509091?s=128&d=identicon&r=PG", "display_name": "rnevius", "link": "https://stackoverflow.com/users/3518452/rnevius"}, "reply_to_user": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 1, "creation_date": 1426708543, "post_id": 29131198, "comment_id": 46488650, "body": "@DanielRoseman don&#39;t you wish Stack Overflow required a traceback whenever a question was asked with a phrase about &quot;getting an error&quot;?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4686404"}, "reply_to_user": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 0, "creation_date": 1426709458, "post_id": 29131198, "comment_id": 46489209, "body": "@DanielRoseman what do you mean by traceback? ive also updated post with models.py and forms.py."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4686404"}, "reply_to_user": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 0, "creation_date": 1426709788, "post_id": 29131198, "comment_id": 46489420, "body": "@DanielRoseman nvm i added traceback in screen shot image"}], "answers": [{"tags": [], "owner": {"reputation": 451, "user_id": 3555092, "user_type": "registered", "profile_image": "https://graph.facebook.com/569961636/picture?type=large", "display_name": "William R. Marchand", "link": "https://stackoverflow.com/users/3555092/william-r-marchand"}, "is_accepted": true, "score": 4, "last_activity_date": 1426722738, "last_edit_date": 1426722738, "creation_date": 1426708399, "answer_id": 29131467, "question_id": 29131198, "link": "https://stackoverflow.com/questions/29131198/save-got-an-unexpected-keyword-argument-commit-django-error/29131467#29131467", "title": "save() got an unexpected keyword argument &#39;commit&#39; Django Error", "body": "<p>You are not sub classing <strong>django.forms.ModelForm</strong>, yet, you are writing your code like you are.</p>\n\n<p>You need to subclass ModelForm (which has the save method with the commit argument).</p>\n\n<p>Calling super will not work either, as the super class has no save method with that argument.</p>\n\n<p>Remove the <strong>commit=False</strong> it will never work unless you rewrite your code to subclass <strong>django.forms.ModelForm</strong></p>\n\n<p>In any case the save method should always return an instance. I suggest you rename your method to <strong>save_all_files</strong> or something similar. You will not be able to use <strong>commit=False</strong> to save multiple object in your save method. It is not the intended use.</p>\n\n<p>For further reading, you can read the source to know how the <strong>commit=False</strong> works in the <strong>ModelForm class</strong> at the following address :</p>\n\n<p><a href=\"https://github.com/django/django/blob/master/django/forms/models.py\" rel=\"nofollow\">https://github.com/django/django/blob/master/django/forms/models.py</a></p>\n"}, {"comments": [{"owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 0, "creation_date": 1426712161, "post_id": 29132309, "comment_id": 46490833, "body": "Still won&#39;t work, because the subclassed method doesn&#39;t accept args and kwargs."}], "tags": [], "owner": {"reputation": 7392, "user_id": 2548934, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ox4uA.jpg?s=128&g=1", "display_name": "awwester", "link": "https://stackoverflow.com/users/2548934/awwester"}, "is_accepted": false, "score": 0, "last_activity_date": 1426711571, "creation_date": 1426711571, "answer_id": 29132309, "question_id": 29131198, "link": "https://stackoverflow.com/questions/29131198/save-got-an-unexpected-keyword-argument-commit-django-error/29132309#29132309", "title": "save() got an unexpected keyword argument &#39;commit&#39; Django Error", "body": "<p>I believe you are completely overriding the save method, which gets rid of the existing functionality (i.e. the commit arg). Try running a <code>super()</code> at the end so that it has the existing save functionality as well.</p>\n\n<pre><code>def save(self):\n    for f in self.cleaned_data['input_file']:\n        Document.objects.create(\n            input_file=f\n        )\n    super(MultipleFileExampleForm, self).save(*args, **kwargs)\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user4686404"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8402, "favorite_count": 0, "accepted_answer_id": 29131467, "answer_count": 2, "score": 8, "last_activity_date": 1426722738, "creation_date": 1426707364, "last_edit_date": 1426709273, "question_id": 29131198, "link": "https://stackoverflow.com/questions/29131198/save-got-an-unexpected-keyword-argument-commit-django-error", "title": "save() got an unexpected keyword argument &#39;commit&#39; Django Error", "body": "<p>im geting this error \"save() got an unexpected keyword argument 'commit'\"\nwhat im trying to do is request user when user upload his files. </p>\n\n<p>update i added my model.py and forms.py and also screen shot of error sorry my fisrt time learning python/django.</p>\n\n<p><a href=\"http://imageshack.com/a/img673/849/NMEc3J.png\" rel=\"noreferrer\">screen shot</a></p>\n\n<p>model.py</p>\n\n<pre><code>class Document(models.Model):\n    fs = FileSystemStorage(location=settings.MEDIA_ROOT)\n    input_file  = models.FileField(max_length=255, upload_to='uploads', storage=fs)\n    user = models.ForeignKey(User)\n\n    def __unicode__(self):\n        return self.input_file.name\n\n    @models.permalink\n    def get_absolute_url(self):\n        return ('upload-delete', )\n</code></pre>\n\n<p>forms.py</p>\n\n<pre><code>class BaseForm(FileFormMixin, django_bootstrap3_form.BootstrapForm):\n    title = django_bootstrap3_form.CharField()\n\n\n\nclass MultipleFileExampleForm(BaseForm):\n    input_file = MultipleUploadedFileField()\n\n    def save(self):\n        for f in self.cleaned_data['input_file']:\n            Document.objects.create(\n                input_file=f\n            )\n</code></pre>\n\n<p>here is my views.py </p>\n\n<pre><code>@login_required\ndef list(request):\n    # Handle file upload\n    if request.method == 'POST':\n        form = MultipleFileExampleForm(request.POST, request.FILES)\n        if form.is_valid():\n            newdoc = form.save(commit=False)\n            newdoc.user = request.user\n            newdoc.save()\n\n            # Redirect to the document list after POST\n            return HttpResponseRedirect(reverse('myfiles.views.list'))\n    else:\n        form = MultipleFileExampleForm() # A empty, unbound form\n\n    documents = Document.objects.all\n\n    return render_to_response(\n        'example_form.html',\n        {'documents': documents, 'form': form},\n        context_instance=RequestContext(request)\n    )\n</code></pre>\n"}, {"tags": ["python", "fonts"], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 4655588, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c198cd3bbbb139d82473600b8274b5a?s=128&d=identicon&r=PG&f=1", "display_name": "astromz", "link": "https://stackoverflow.com/users/4655588/astromz"}, "is_accepted": false, "score": 0, "last_activity_date": 1426719126, "creation_date": 1426719126, "answer_id": 29134187, "question_id": 29131187, "link": "https://stackoverflow.com/questions/29131187/eps-figure-fonts-dont-show-correctly/29134187#29134187", "title": "EPS figure fonts don&#39;t show correctly", "body": "<p>OK. Since no one answered my question I went on and did a lot of research on this. \nI still couldn't find a solution but I found a work-around. </p>\n\n<p>If I set text.usetex=1 in the matplotlibrc file the fonts will then show up correctly. The downside is that there will be lots of tex cache files generated and it seems really slow. But at least the fonts are now readable. </p>\n"}], "owner": {"reputation": 11, "user_id": 4655588, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c198cd3bbbb139d82473600b8274b5a?s=128&d=identicon&r=PG&f=1", "display_name": "astromz", "link": "https://stackoverflow.com/users/4655588/astromz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 119, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1426719126, "creation_date": 1426707334, "question_id": 29131187, "link": "https://stackoverflow.com/questions/29131187/eps-figure-fonts-dont-show-correctly", "title": "EPS figure fonts don&#39;t show correctly", "body": "<p>I was trying to plot a figure to EPS format using PyPlot. But the fonts in the EPS figure don't show correctly -- they look squeezed all together. (Unfortunately I couldn't show the image)</p>\n\n<p>The fonts show correctly in all other formats, just not in EPS, but some publications require figures in EPS format.</p>\n\n<p>I've tried all I could, including changing all backends, changing fonts, changing fonttype. None of them worked. In the mean time, I asked colleagues and none of them had the problem, or had to tweak any default settings. </p>\n\n<p>Here's how I make a plot:</p>\n\n<pre><code>from matplotlib import pyplot as plt\nplt.plot(np.linspace(0,100,100))\nplt.title('This is the title')\nplt.xlable('This is the X label')\nplt.savefig('test.eps',format='eps')\n</code></pre>\n\n<p>And when I tried to open with MacOSX Preview, it prompts: \"Converting the PostScript file \u201ctest.eps\u201d produced the following warnings:\n\u00b7 b'Verdana' not found, using Courier.\"</p>\n\n<p>Changing the sequence of the font.serif parameter or deleting some fonts in the  matplotlibrc file didn'e help either. How to solve this problem?\nThanks!</p>\n"}, {"tags": ["python", "namespaces", "package"], "answers": [{"comments": [{"owner": {"reputation": 5096, "user_id": 175349, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/ae3888fdec3e7ba86cbaf3976cace655?s=128&d=identicon&r=PG", "display_name": "Ihor Kaharlichenko", "link": "https://stackoverflow.com/users/175349/ihor-kaharlichenko"}, "edited": false, "score": 1, "creation_date": 1525358743, "post_id": 29149713, "comment_id": 87333554, "body": "Note, that this bug has been fixed in setuptools 31.0.0: <a href=\"https://github.com/pypa/setuptools/commit/6f5dc38012824dc3d104356d023ec3c959bbb586\" rel=\"nofollow noreferrer\">github.com/pypa/setuptools/commit/&hellip;</a>"}], "tags": [], "owner": {"reputation": 91, "user_id": 4686808, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/flmIm.jpg?s=128&g=1", "display_name": "Johnny Wezel", "link": "https://stackoverflow.com/users/4686808/johnny-wezel"}, "is_accepted": false, "score": 1, "last_activity_date": 1525358526, "last_edit_date": 1525358526, "creation_date": 1426781596, "answer_id": 29149713, "question_id": 29131145, "link": "https://stackoverflow.com/questions/29131145/installed-package-stealing-namespace/29149713#29149713", "title": "Installed package stealing namespace", "body": "<p>Seems to be a long-known bug in Python.</p>\n\n<p>But there's a solution in <a href=\"https://github.com/pypa/setuptools/issues/250\" rel=\"nofollow noreferrer\">https://github.com/pypa/setuptools/issues/250</a>:</p>\n\n<p>Put simply, append</p>\n\n<pre><code>;import pkg_resources; pkg_resources.fixup_namespace_packages('')\n</code></pre>\n\n<p>to the single line in <em>module</em>-nspkg.pth of the competing package in site-packages. The semicolon is required.</p>\n"}], "owner": {"reputation": 91, "user_id": 4686808, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/flmIm.jpg?s=128&g=1", "display_name": "Johnny Wezel", "link": "https://stackoverflow.com/users/4686808/johnny-wezel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 159, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1525358526, "creation_date": 1426707217, "question_id": 29131145, "link": "https://stackoverflow.com/questions/29131145/installed-package-stealing-namespace", "title": "Installed package stealing namespace", "body": "<p>I'm developing a package \"jw.data\" in  Python 2.7.9, with a namespace of <em>jw</em> and a package <em>data</em> in in. I have put the canonical</p>\n\n<pre><code>try:\n    __import__('pkg_resources').declare_namespace(__name__)\nexcept ImportError:\n    from pkgutil import extend_path\n__path__ = extend_path(__path__, __name__)\n</code></pre>\n\n<p>in <code>jw/__init__.py</code>. When I run <code>./setup.py develop</code> (in setup.py I have put <code>namespace_packages=['jw']</code>), then I have \"jw\" in <code>jw.data.egg-info/namespace_packages.txt</code>. Doing a</p>\n\n<pre><code>import jw.data\nimport jw.data.model\n</code></pre>\n\n<p>just works fine. So I guess I have set up the namespace package correctly.</p>\n\n<p>Now I have written a package \"jw.util\", also in namespace <em>jw</em>, with a package <em>util</em> in it. As soon as I install it, importing <em>jw.data</em> or anything below it fails:</p>\n\n<pre><code>&gt;&gt;&gt; import jw.data\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\nImportError: No module named data\n</code></pre>\n\n<p>After uninstalling <em>jw.util</em> it works again.</p>\n\n<p>I used <em>jw.util</em> elsewhere, but not yet in a package within the <em>jw</em> namespace. It looks like <em>jw.util</em> is reserving the <em>jw</em> namespace.</p>\n\n<p>I had the same problem with another namespace. There I noticed the package name in setup.py is just the same as the namespace plus package. I renamed all the packages from \"namespace.package<em>x</em>\" to \"namespace-package<em>x</em>\", and astonishingly enough it worked. I tried the same with <em>jw.util</em> and <em>jw.data</em>, but here that trick doesn't work. And I don't really believe the package name in setup.py has anything to do with the package hierarchy it contains, or has it?</p>\n\n<p>Anyway, anybody got an idea what's going on here?</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 4374, "user_id": 4230591, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/fb9061bc5222a66bf8a757ffac9e5e67?s=128&d=identicon&r=PG&f=1", "display_name": "user", "link": "https://stackoverflow.com/users/4230591/user"}, "edited": false, "score": 0, "creation_date": 1426707314, "post_id": 29131018, "comment_id": 46487935, "body": "Are you sure there aren&#39;t 6 bacteria in this image?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4424299"}, "reply_to_user": {"reputation": 4374, "user_id": 4230591, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/fb9061bc5222a66bf8a757ffac9e5e67?s=128&d=identicon&r=PG&f=1", "display_name": "user", "link": "https://stackoverflow.com/users/4230591/user"}, "edited": false, "score": 0, "creation_date": 1426707368, "post_id": 29131018, "comment_id": 46487962, "body": "There are indeed 6 bacteria but I forgot to mention that bacteria that are adjacent to the edge of the grid cannot be counted. So this makes the number of bacteria 5."}, {"owner": {"reputation": 4374, "user_id": 4230591, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/fb9061bc5222a66bf8a757ffac9e5e67?s=128&d=identicon&r=PG&f=1", "display_name": "user", "link": "https://stackoverflow.com/users/4230591/user"}, "edited": false, "score": 1, "creation_date": 1426707483, "post_id": 29131018, "comment_id": 46488031, "body": "Oh i see, those are clusters. And the bottom cluster should be ignored? If so, you might want to add it in the question itself instead of here, so that readers can see it easily."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4424299"}, "reply_to_user": {"reputation": 4374, "user_id": 4230591, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/fb9061bc5222a66bf8a757ffac9e5e67?s=128&d=identicon&r=PG&f=1", "display_name": "user", "link": "https://stackoverflow.com/users/4230591/user"}, "edited": false, "score": 0, "creation_date": 1426707584, "post_id": 29131018, "comment_id": 46488093, "body": "I will certainly do that. I&#39;m sorry I forgot to mention it"}, {"owner": {"reputation": 3967, "user_id": 1168513, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9433832e9ef6c54c2b4203fda124a327?s=128&d=identicon&r=PG&f=1", "display_name": "Moritz", "link": "https://stackoverflow.com/users/1168513/moritz"}, "edited": false, "score": 1, "creation_date": 1426707910, "post_id": 29131018, "comment_id": 46488261, "body": "Can you post the code for checkNeighbours?"}, {"owner": {"reputation": 8355, "user_id": 860196, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/RAyTX.jpg?s=128&g=1", "display_name": "runDOSrun", "link": "https://stackoverflow.com/users/860196/rundosrun"}, "edited": false, "score": 1, "creation_date": 1426707922, "post_id": 29131018, "comment_id": 46488267, "body": "could you also comment a bit on your algorithmic strategy? Are you trying to calculate the SCCs?"}, {"owner": {"reputation": 2643, "user_id": 4647152, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce4ce205ac75f5349adab6741868624d?s=128&d=identicon&r=PG&f=1", "display_name": "Francis Colas", "link": "https://stackoverflow.com/users/4647152/francis-colas"}, "edited": false, "score": 4, "creation_date": 1426707999, "post_id": 29131018, "comment_id": 46488319, "body": "Your issue is called <a href=\"http://en.wikipedia.org/wiki/Connected-component_labeling\" rel=\"nofollow noreferrer\">connected-component labeling</a> and the easiest algorithm is in two passes (because you could start two components on one row before you can see they are connected so you&#39;d need to fuse them afterwards)."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4424299"}, "edited": false, "score": 0, "creation_date": 1426708131, "post_id": 29131018, "comment_id": 46488393, "body": "I added the checkNeighbours-method. And I will take a look at the connected component labeling. Thank you very much so far."}, {"owner": {"reputation": 8355, "user_id": 860196, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/RAyTX.jpg?s=128&g=1", "display_name": "runDOSrun", "link": "https://stackoverflow.com/users/860196/rundosrun"}, "edited": false, "score": 0, "creation_date": 1426708166, "post_id": 29131018, "comment_id": 46488411, "body": "Could it be that 22 is the number of 4-connected pixels which is what you&#39;re calculating?"}, {"owner": {"reputation": 2643, "user_id": 4647152, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce4ce205ac75f5349adab6741868624d?s=128&d=identicon&r=PG&f=1", "display_name": "Francis Colas", "link": "https://stackoverflow.com/users/4647152/francis-colas"}, "edited": false, "score": 0, "creation_date": 1426708884, "post_id": 29131018, "comment_id": 46488868, "body": "Besides the single pass issue, you should initialize your colonies with an empty list (the first empty set will stay empty). And what is <code>count</code> supposed to count? Right now it will count the components for each &#39;#&#39; pixel, but you could as well directly use <code>len(self.colonies)</code>."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4424299"}, "edited": false, "score": 0, "creation_date": 1426709081, "post_id": 29131018, "comment_id": 46488976, "body": "Oops, yes indeed. Count was something I used to debug my code. You can ignore it"}], "answers": [{"tags": [], "owner": {"reputation": 18603, "user_id": 4526187, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YP5so.jpg?s=128&g=1", "display_name": "JuniorCompressor", "link": "https://stackoverflow.com/users/4526187/juniorcompressor"}, "is_accepted": true, "score": 4, "last_activity_date": 1426710037, "last_edit_date": 1426710037, "creation_date": 1426709112, "answer_id": 29131663, "question_id": 29131018, "link": "https://stackoverflow.com/questions/29131018/find-clusters-of-bacteria/29131663#29131663", "title": "Find clusters of bacteria", "body": "<p>The problem you had is that from the moment you formed two clusters, you couldn't join them. Even if eventually the two clusters were meant to be joined by the addition of intermediate nodes.</p>\n\n<p>This can be solved by an application of a <a href=\"http://en.wikipedia.org/wiki/Disjoint-set_data_structure\" rel=\"nofollow\">union-find data structure</a>. An unoptimized python version is:</p>\n\n<pre><code>s = \"\"\"\\\n                     ###                    \\\n                     #####                  \\\n                     #######                \\\n                    #######                 \\\n                     ######                 \\\n                     ###### ##              \\\n                     ####  #####            \\\n                       ## ######        ####\\\n                    #    ######       ####  \\\n                  ###  ##########    #####  \\\n                #######  ####  ##   ######  \\\n                ######### ##   #      ##### \\\n      #           ####   ###          ###   \\\n     #####        ####    #     ##     ##   \\\n     #####                    ######    #   \\\n    ######                   ########       \\\n     ####                     ########      \\\n                              #######       \\\n                              #######       \\\n\"\"\"\nrepresentatives = {i: i for i, c in enumerate(s) if c == '#'}\nnrows, ncols = 19, 44\n\ndef neighbours(idx):\n    i, j = divmod(idx, ncols)\n    if i &gt; 0: yield idx - ncols\n    if i &lt; nrows - 1: yield idx + ncols\n    if j &gt; 0: yield idx - 1\n    if j &lt; ncols - 1: yield idx + 1\n\ndef representative(a):\n    while representatives[a] != a: a = representatives[a]\n    return a\n\ndef join(a, b):\n    repr_a, repr_b = representative(a), representative(b)\n    if repr_a != repr_b: representatives[repr_a] = repr_b\n\nfor idx in representatives:\n    for n in neighbours(idx):\n        if s[n] == '#': join(idx, n)\n\ncluster_count = len(set(map(representative, representatives)))\n</code></pre>\n\n<p>Result:</p>\n\n<pre><code>6\n</code></pre>\n\n<p>You could also have created also a graph and used <a href=\"http://en.wikipedia.org/wiki/Depth-first_search\" rel=\"nofollow\">depth first search</a> to find the connected components. The advantage of the above method is that it's incremental and you can update easily the clusters with the addition of new points.</p>\n"}, {"comments": [{"owner": {"reputation": 705380, "user_id": 190597, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/aabc98d5c6482ca0e1405ec97710f30a?s=128&d=identicon&r=PG&f=1", "display_name": "unutbu", "link": "https://stackoverflow.com/users/190597/unutbu"}, "edited": false, "score": 1, "creation_date": 1426712891, "post_id": 29132545, "comment_id": 46491195, "body": "Nice! You could also use <code>(np.unique(np.r_[labelled[0], labelled[-1], labelled[:, 0], labelled[:, -1]]) &gt; 0).sum()</code> as an alternative to <code>count_edge_objects(labelled)</code>."}], "tags": [], "owner": {"reputation": 11909, "user_id": 2476444, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/czrJP.png?s=128&g=1", "display_name": "Oliver W.", "link": "https://stackoverflow.com/users/2476444/oliver-w"}, "is_accepted": false, "score": 4, "last_activity_date": 1426712396, "creation_date": 1426712396, "answer_id": 29132545, "question_id": 29131018, "link": "https://stackoverflow.com/questions/29131018/find-clusters-of-bacteria/29132545#29132545", "title": "Find clusters of bacteria", "body": "<p>Detecting features is easily done with the <a href=\"http://docs.scipy.org/doc/scipy/reference/ndimage.html#module-scipy.ndimage.measurements\" rel=\"nofollow\">scipy ndimage measurements</a> module. It has the added advantage of speed, if you go this way.</p>\n\n<pre><code>import numpy as np\nfrom scipy.ndimage.measurements import label, find_objects\n\nq = np.genfromtxt('bacteria.txt', dtype='S1', comments=':', delimiter=1)\narr = (q == b'#')  # convert to boolean mask because ' ' evaluates to True\n\nlabelled, num_features = label(arr)\n\ndef count_edge_objects(labelled):\n    hulls = find_objects(labelled)\n    nbr_edgeobjects = 0\n    for rowslice, colslice in hulls:\n        if (rowslice.start == 0 or rowslice.stop == labelled.shape[0] or\n            colslice.start == 0 or colslice.stop == labelled.shape[1]):\n            nbr_edgeobjects += 1\n    return nbr_edgeobjects\n\nprint('{} objects'.format(num_features - count_edge_objects(labelled)))\n# output: \n# 4 objects\n</code></pre>\n\n<p>In the dataset you've shown there are 2 objects near the edge: the one at the top and the one at the bottom. Remark that I'm currently assuming the dataset has an equal amount of characters on each line (if not, check out the <code>missing_values</code> option of <code>np.genfromtxt</code>)</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user4424299"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 479, "favorite_count": 2, "accepted_answer_id": 29131663, "answer_count": 2, "score": 10, "last_activity_date": 1612201901, "creation_date": 1426706794, "last_edit_date": 1612201901, "question_id": 29131018, "link": "https://stackoverflow.com/questions/29131018/find-clusters-of-bacteria", "title": "Find clusters of bacteria", "body": "<p>I have to find all clusters of bacteria that are connected (4-connectivity) in a Python program. The input is a file that looks like this:</p>\n\n<pre><code>                     ###\n                     #####\n                     #######\n                    #######\n                     ######\n                     ###### ##\n                     ####  #####\n                       ## ######        ####\n                    #    ######       ####\n                  ###  ##########    #####\n                #######  ####  ##   ######\n                ######### ##   #      #####\n      #           ####   ###          ###\n     #####        ####    #     ##     ##\n     #####                    ######    #\n    ######                   ########\n     ####                     ########\n                              #######\n                              #######\n</code></pre>\n\n<p>NOTE: Clusters that are adjacent to the edge of the grid cannot be counted</p>\n\n<p>This file is saved in the form of a 2D array in my class. I wrote this function to find all the clusters but it creates to many clusters (22 instead of 5). Any idea what I might be doing wrong?</p>\n\n<p>My code:</p>\n\n<pre><code>def findAll(self):\n    self.colonies = [set()]\n    for i in range(len(self.grid)):\n        for j in range(len(self.grid[i])):\n            if self.grid[i][j] == \"#\":\n                added = False\n                count = 0\n                for k in self.colonies:\n                    if self.checkNeighbours((i, j), k):\n                        k.add((i, j))\n                        added = True\n                    count += 1\n                if not added:\n                    self.colonies.append({(i, j)})\n\ndef checkNeighbours(self, pos, current):\n    return ((pos[0] + 1, pos[1]) in current\n            or (pos[0] - 1, pos[1]) in current\n            or (pos[0], pos[1] + 1) in current\n            or (pos[0], pos[1] - 1) in current)\n</code></pre>\n"}, {"tags": ["python", "python-2.7"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1426706741, "post_id": 29130974, "comment_id": 46487587, "body": "<code>&#39;a&#39;</code> is <b>not</b> in <code>mylist</code>, it&#39;s in <code>mylist[0]</code>."}, {"owner": {"reputation": 6671, "user_id": 2242044, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/220021af6dbb03bde70f36ddbabb5562?s=128&d=identicon&r=PG", "display_name": "user2242044", "link": "https://stackoverflow.com/users/2242044/user2242044"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1426706775, "post_id": 29130974, "comment_id": 46487609, "body": "@jonrsharpe makes sense but how do I check in each index of mylist?"}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1426706799, "post_id": 29130974, "comment_id": 46487620, "body": "You could use <code>any</code>, or flatten to a single list."}], "answers": [{"tags": [], "owner": {"reputation": 1972, "user_id": 2981535, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/qegDI.jpg?s=128&g=1", "display_name": "amahfouz", "link": "https://stackoverflow.com/users/2981535/amahfouz"}, "is_accepted": false, "score": 0, "last_activity_date": 1426707076, "creation_date": 1426707076, "answer_id": 29131095, "question_id": 29130974, "link": "https://stackoverflow.com/questions/29130974/find-string-in-list-of-list/29131095#29131095", "title": "Find string in list of list", "body": "<p>'a' is not in your list of course. Your list has two elements, each of which is a list. To look for 'a' within every list contained in your list, you need to flatten the lists into one list and search within that.</p>\n"}, {"comments": [{"owner": {"reputation": 27625, "user_id": 32538, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/u8ueG.png?s=128&g=1", "display_name": "Kirk Strauser", "link": "https://stackoverflow.com/users/32538/kirk-strauser"}, "edited": false, "score": 0, "creation_date": 1426707654, "post_id": 29131112, "comment_id": 46488128, "body": "Interestingly (to me), this runs about 3 times faster than @inspectorG4dget&#39;s answer, according to <code>timeit</code> on Python 2.7. I think his has more potential for optimization, though, as <code>any()</code> isn&#39;t semantically required to operate sequentially whereas <code>itertools.chain</code> is."}, {"owner": {"user_type": "does_not_exist", "display_name": "user559633"}, "edited": false, "score": 0, "creation_date": 1426708583, "post_id": 29131112, "comment_id": 46488683, "body": "itertools gets some speed increases because parts of it are implemented in C instead of running through python"}], "tags": [], "owner": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "is_accepted": true, "score": 3, "last_activity_date": 1426708236, "last_edit_date": 1426708236, "creation_date": 1426707126, "answer_id": 29131112, "question_id": 29130974, "link": "https://stackoverflow.com/questions/29130974/find-string-in-list-of-list/29131112#29131112", "title": "Find string in list of list", "body": "<p>Chain the nested lists and do as you normally would:</p>\n\n<pre><code>'a' in itertools.chain.from_iterable(mylist)\n</code></pre>\n\n<p>Alternatively, you can check each item in the list:</p>\n\n<pre><code>any('a' in item for item in mylist)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 96714, "user_id": 198633, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/5b9c04999233026354268c2ee4237e04?s=128&d=identicon&r=PG", "display_name": "inspectorG4dget", "link": "https://stackoverflow.com/users/198633/inspectorg4dget"}, "is_accepted": false, "score": 2, "last_activity_date": 1426707190, "creation_date": 1426707190, "answer_id": 29131133, "question_id": 29130974, "link": "https://stackoverflow.com/questions/29130974/find-string-in-list-of-list/29131133#29131133", "title": "Find string in list of list", "body": "<p><code>'a'</code> is not in <code>mylist</code>; rather, it is in one of the lists contained within <code>mylist</code>:</p>\n\n<pre><code>In [240]: for sublist in mylist:\n   .....:     if 'a' in sublist:\n   .....:         print(\"'a' exists in\", sublist)\n   .....:         \n'a' exists in ['a', 'b', 'c']\n</code></pre>\n\n<p>So, if you'd like to check if an element exists in <strong>any</strong> of many sub-lists:</p>\n\n<pre><code>In [241]: any('a' in sublist for sublist in mylist)\nOut[241]: True\n</code></pre>\n\n<p>[<a href=\"https://docs.python.org/2/library/functions.html#any\" rel=\"nofollow\">More on <code>any</code></a>]</p>\n"}], "owner": {"reputation": 6671, "user_id": 2242044, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/220021af6dbb03bde70f36ddbabb5562?s=128&d=identicon&r=PG", "display_name": "user2242044", "link": "https://stackoverflow.com/users/2242044/user2242044"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "accepted_answer_id": 29131112, "answer_count": 3, "score": 0, "last_activity_date": 1426708236, "creation_date": 1426706669, "question_id": 29130974, "link": "https://stackoverflow.com/questions/29130974/find-string-in-list-of-list", "title": "Find string in list of list", "body": "<p>What is wrong with my search within a list of list? The output should be <code>It's there</code></p>\n\n<pre><code>mylist = [['a','b','c'],['d','e','f']]\nif 'a' in mylist:\n    print \"It's there\"\nelse:\n    print \"it's not there\"\n</code></pre>\n"}, {"tags": ["python"], "answers": [{"tags": [], "owner": {"reputation": 116557, "user_id": 918959, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/b9051b2917c3d55d55b3d7042fa49f6c?s=128&d=identicon&r=PG", "display_name": "Antti Haapala", "link": "https://stackoverflow.com/users/918959/antti-haapala"}, "is_accepted": true, "score": 15, "last_activity_date": 1426743275, "last_edit_date": 1426743275, "creation_date": 1426706688, "answer_id": 29130981, "question_id": 29130898, "link": "https://stackoverflow.com/questions/29130898/get-start-and-stop-from-a-python-slice-object/29130981#29130981", "title": "Get start and stop from a python slice object", "body": "<p>The members of a <a href=\"https://docs.python.org/3/library/functions.html#slice\" rel=\"noreferrer\"><code>slice</code></a> are <code>start</code>, <code>step</code> and <code>stop</code>:</p>\n\n<blockquote>\n  <p>Slice objects have read-only data attributes <code>start</code>, <code>stop</code> and <code>step</code> which merely return the argument values (or their default).</p>\n</blockquote>\n\n<hr>\n\n<p>Thus as simple as: </p>\n\n<pre><code>&gt;&gt;&gt; sl = slice(0L, 832L)\n&gt;&gt;&gt; sl\nslice(0L, 832L, None)\n&gt;&gt;&gt; start = sl.start\n&gt;&gt;&gt; stop = sl.stop\n&gt;&gt;&gt; start, stop\n(0L, 832L)\n</code></pre>\n"}], "owner": {"reputation": 707, "user_id": 1340286, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/KS7Gl.jpg?s=128&g=1", "display_name": "m_amber", "link": "https://stackoverflow.com/users/1340286/m-amber"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1934, "favorite_count": 1, "accepted_answer_id": 29130981, "answer_count": 1, "score": 9, "last_activity_date": 1426743275, "creation_date": 1426706445, "question_id": 29130898, "link": "https://stackoverflow.com/questions/29130898/get-start-and-stop-from-a-python-slice-object", "title": "Get start and stop from a python slice object", "body": "<p>I'm using the scipy ndimage modules and I'm using the find_objects function, which returns a slice object. Now i want to read this slice object and get the start and end indices from them. However, i can't find the way to do that. </p>\n\n<pre><code>fragments = ndimage.find_objects(labels)\nprint fragments[0][0]\n&gt; slice(0L, 832L, None)\n</code></pre>\n\n<p>How do i store the start and end indices as variables in my python code.</p>\n\n<p>Any help will be appreciated. Thanks in advance.</p>\n"}, {"tags": ["python", "regex"], "answers": [{"tags": [], "owner": {"reputation": 82895, "user_id": 372239, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/2twLb.jpg?s=128&g=1", "display_name": "Toto", "link": "https://stackoverflow.com/users/372239/toto"}, "is_accepted": false, "score": 0, "last_activity_date": 1426706757, "creation_date": 1426706757, "answer_id": 29131004, "question_id": 29130887, "link": "https://stackoverflow.com/questions/29130887/python-regex-catch-groups/29131004#29131004", "title": "Python regex catch groups", "body": "<p>Make the first group non greedy:</p>\n\n<pre><code>pattern = \"([0-9]{4})(.*?)\\s*-\\s*(\\w*)\\s(.*)\"\n</code></pre>\n\n<p>or</p>\n\n<pre><code>pattern = \"([0-9]{4})([^-]+)\\s*-\\s*(\\w*)\\s(.*)\"\n</code></pre>\n"}, {"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user2493476"}, "edited": false, "score": 0, "creation_date": 1426748889, "post_id": 29131032, "comment_id": 46501746, "body": "It is working for me but may I know what do greedy and ungreedy actually mean?"}, {"owner": {"reputation": 27179, "user_id": 710099, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/0413774874b9baeccef7a5ba0344fec7?s=128&d=identicon&r=PG", "display_name": "Federico Piazza", "link": "https://stackoverflow.com/users/710099/federico-piazza"}, "edited": false, "score": 0, "creation_date": 1426777106, "post_id": 29131032, "comment_id": 46518239, "body": "@Goutam You can check a very good <b><a href=\"http://www.regular-expressions.info/repeat.html\" rel=\"nofollow noreferrer\">documentation here</a></b> about greedyness. Briefly, if you have the string <code>abcxxxc</code> and you use this greedy <code>a.*c</code> regex, you will match <code>abcxxxc</code>, but if you use an ungreedy (or lazy) quatifier like this <code>a.*?c</code> then you will match <code>abc</code>. Greedy will match as much as it can and ungreedy as less as it can."}], "tags": [], "owner": {"reputation": 27179, "user_id": 710099, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/0413774874b9baeccef7a5ba0344fec7?s=128&d=identicon&r=PG", "display_name": "Federico Piazza", "link": "https://stackoverflow.com/users/710099/federico-piazza"}, "is_accepted": true, "score": 0, "last_activity_date": 1426706838, "creation_date": 1426706838, "answer_id": 29131032, "question_id": 29130887, "link": "https://stackoverflow.com/questions/29130887/python-regex-catch-groups/29131032#29131032", "title": "Python regex catch groups", "body": "<p>You have a problem on your regex:</p>\n\n<pre><code>                            v--- Change it to `.*?`\npattern = \"([0-9]{4})(.*)-(\\w*)\\s(.*)\"\n                       ^-- greedy you have to add `?` to make it ungreedy\n</code></pre>\n\n<p>You can use a regex like this:</p>\n\n<pre><code>(\\d*)\\s(.*?)\\s-\\s(.*?)\\s(.*)\n</code></pre>\n\n<p><strong><a href=\"https://regex101.com/r/rZ1uW5/1\" rel=\"nofollow noreferrer\">Working demo</a></strong></p>\n\n<p><img src=\"https://i.stack.imgur.com/bpEZn.png\" alt=\"enter image description here\"></p>\n\n<p>Match information</p>\n\n<pre><code>MATCH 1\n1.  [0-4]   `2014`\n2.  [4-10]  `Blah`\n3.  [12-16] `Blah`\n4.  [17-41] `Blah Blah Blah-Blah Blah`\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user2493476"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 117, "favorite_count": 0, "accepted_answer_id": 29131032, "answer_count": 2, "score": 1, "last_activity_date": 1426706838, "creation_date": 1426706403, "question_id": 29130887, "link": "https://stackoverflow.com/questions/29130887/python-regex-catch-groups", "title": "Python regex catch groups", "body": "<p>I have a string like this</p>\n\n<pre><code> string = \"2014 Blah - Blah Blah Blah Blah-Blah Blah\"\n</code></pre>\n\n<p>I want to get catch groups like this <br>\n  (2014) (Blah) - (Blah) (Blah Blah Blah-Blah Blah)\nI tried to do so by this code </p>\n\n<pre><code>pattern = \"([0-9]{4})(.*)-(\\w*)\\s(.*)\"\nsearch_result = re.search(r'%s'%pattern,string,re.M|re.I)\nif search_result:\n    print search_result.groups()\nelse:\n    print \"Nothing matched\"\n</code></pre>\n\n<p>But it is returning </p>\n\n<pre><code>('2014', ' Blah - Blah Blah Blah Blah', 'Blah', 'Blah')\n</code></pre>\n\n<p>Where am I wrong?</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1426706831, "post_id": 29130884, "comment_id": 46487639, "body": "So, each student is in three classes, producing a list of the same names for each printout, with different scores attached? And you want a single list with each student and the highest of their three scores?"}], "answers": [{"tags": [], "owner": {"reputation": 634, "user_id": 4245330, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wabOp.jpg?s=128&g=1", "display_name": "cziemba", "link": "https://stackoverflow.com/users/4245330/cziemba"}, "is_accepted": true, "score": 0, "last_activity_date": 1426708866, "creation_date": 1426708866, "answer_id": 29131590, "question_id": 29130884, "link": "https://stackoverflow.com/questions/29130884/python-highest-with-alphabetical-order-from-text-file/29131590#29131590", "title": "Python - Highest with alphabetical order from text file", "body": "<p>First, I would probably use a <code>defaultdict</code> using student names as keys and the value being a list of their scores. <code>defaultdict</code> simply initializes on first access, in this case with an empty list.</p>\n\n<pre><code>from collections import defaultdict\n\nscores = defaultdict(list)\n</code></pre>\n\n<p>Next you can condense your script by creating a list of filenames to process and then use that as your outer loop so you don't have to repeat yourself a bunch:</p>\n\n<pre><code>def alpha():\n  b = open(\"Class X.txt\" , \"r\")\n  fo = b.readlines()\n  for x in sorted (fo): \n      print(x)\ndef beta():\n  b = open(\"Class Y.txt\" , \"r\")\n  fo = b.readlines()\n  for x in sorted(fo):\n      print(x)\ndef charlie():\n  b = open(\"Class Z.txt\" , \"r\")\n  fo = b.readlines()\n  for x in sorted(fo):\n      print(x)\n</code></pre>\n\n<p>Turns into:</p>\n\n<pre><code>class_filenames = ['Class X.txt', 'Class Y.txt', 'Class Z.txt']\n\nfor class_file in class_filenames:\n    with open(class_file, 'r') as f:\n        ...\n</code></pre>\n\n<p>Finally for the body of the loop we need to split each line into names and scores (as integers) and add them to the correct entry, this is easily done with:</p>\n\n<pre><code>for line in f.readlines():\n    student, score = line.split(':')\n    scores[student].append(int(score))\n</code></pre>\n\n<p>Then we can print each name alphabetically by sorting the final dict with the <code>sorted</code> iterator and print the <code>max</code> of the scorelist for each student:</p>\n\n<pre><code>for student, scorelist in sorted(scores.items()):\n    print(\"%s : %d\" % (student, max(scorelist)))\n</code></pre>\n\n<p>All together now:</p>\n\n<pre><code>from collections import defaultdict\n\nscores = defaultdict(list)\n\nclass_filenames = ['Class X.txt', 'Class Y.txt', 'Class Z.txt']\n\nfor class_file in class_filenames:\n    with open(class_file, 'r') as f:\n        for line in f.readlines():\n            student, score = line.split(':')\n            scores[student].append(int(score))\n\nfor student, scorelist in sorted(scores.items()):\n    print(\"%s : %d\" % (student, max(scorelist)))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 616, "user_id": 1921715, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/J9b63.png?s=128&g=1", "display_name": "Alexey Gorozhanov", "link": "https://stackoverflow.com/users/1921715/alexey-gorozhanov"}, "is_accepted": false, "score": 0, "last_activity_date": 1426710332, "creation_date": 1426710332, "answer_id": 29131987, "question_id": 29130884, "link": "https://stackoverflow.com/questions/29130884/python-highest-with-alphabetical-order-from-text-file/29131987#29131987", "title": "Python - Highest with alphabetical order from text file", "body": "<p>If you have 3 files with the same names, the code can be like that:</p>\n\n<pre><code>lstX = []\nlstY = []\nlstZ = []\nb = open(\"Class X.txt\" , \"r\")\nlstX = b.read().split('\\n')\nlstX.sort()\nb.close()\nb = open(\"Class Y.txt\" , \"r\")\nlstY = b.read().split('\\n')\nlstY.sort()\nb.close()\nb = open(\"Class Z.txt\" , \"r\")\nlstZ = b.read().split('\\n')\nlstZ.sort()\nb.close()\n\nlst = []\nlst.append(lstX)\nlst.append(lstY)\nlst.append(lstZ)\n\nres = []\nfor i in range(len(lst)):\n    for q in range(len(lst[i])):\n        res.append(int(lst[q][i].split(':')[1]))\n    print(\"%s max. = %s\" % (lst[q][i].split(':')[0], max(res)))\n    res = []\n</code></pre>\n\n<p>NB: for this code the text files must not have a new line after the last record!\nFor example, the file \"Class X.txt\" looked this way:</p>\n\n<pre><code>Nakita:0\nMakita:1\nZakita:7\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 4681940, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/a52498d5bbdc17a31cee6449a8717dad?s=128&d=identicon&r=PG&f=1", "display_name": "xxzd", "link": "https://stackoverflow.com/users/4681940/xxzd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1140, "favorite_count": 0, "accepted_answer_id": 29131590, "answer_count": 2, "score": 0, "last_activity_date": 1426710332, "creation_date": 1426706395, "question_id": 29130884, "link": "https://stackoverflow.com/questions/29130884/python-highest-with-alphabetical-order-from-text-file", "title": "Python - Highest with alphabetical order from text file", "body": "<p>I have made a quiz using python, the end score is out of 10. From this quiz each users name, class and score is saved in a text file. Now what I am trying to do is create a new program which can organize the users name in alphabetical order with the users highest score only and print this out. So far I have been successful in organizing the users name in alphabetical order. \nThis is what my code looks like so far</p>\n\n<pre><code>def alpha():\n  b = open(\"Class X.txt\" , \"r\")\n  fo = b.readlines()\n  for x in sorted (fo): \n      print(x)\ndef beta():\n  b = open(\"Class Y.txt\" , \"r\")\n  fo = b.readlines()\n  for x in sorted(fo):\n      print(x)\ndef charlie():\n  b = open(\"Class Z.txt\" , \"r\")\n  fo = b.readlines()\n  for x in sorted(fo):\n      print(x)\n\nif option == \"A\":\n  if Class == \"X\":\n    alpha()\n\n  elif Class == \"Y\":\n    beta()\n\n  elif Class == \"Z\":\n    charlie()`\n</code></pre>\n\n<p>What I have been trying to do is print all the users names in alphabetical order from a text file from the desired class, which I have been successful with. However, I have been having great trouble in trying to print the highest score of each user along side their name instead of any of their scores.</p>\n\n<p>Each students name and score is saves like this (Nakita:0) and each text file is saved under three classes, X, Y and Z. </p>\n\n<p>I was wondering whether anyone could help me figure out how to include just the highest score with the users name in alphabetical order like I have done, from the textfile which has been set out like how it it shown above. I have also used the version Python 3.3.2.</p>\n"}, {"tags": ["python", "serialization", "apache-spark", "pickle", "pyspark"], "comments": [{"owner": {"reputation": 383, "user_id": 3279453, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/73ca03aed6f40b0bd4402ee437610d13?s=128&d=identicon&r=PG&f=1", "display_name": "user3279453", "link": "https://stackoverflow.com/users/3279453/user3279453"}, "edited": false, "score": 0, "creation_date": 1426707264, "post_id": 29130870, "comment_id": 46487902, "body": "author here - just tried pickling an instance of TestClass to the file F, closing python, re-opening python and unpickling from F, and got the error <code>&quot;module object has no attribute &#39;TestClass&#39;&quot;</code>."}], "answers": [{"tags": [], "owner": {"reputation": 383, "user_id": 3279453, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/73ca03aed6f40b0bd4402ee437610d13?s=128&d=identicon&r=PG&f=1", "display_name": "user3279453", "link": "https://stackoverflow.com/users/3279453/user3279453"}, "is_accepted": false, "score": 1, "last_activity_date": 1430732790, "creation_date": 1430732790, "answer_id": 30027079, "question_id": 29130870, "link": "https://stackoverflow.com/questions/29130870/why-does-apache-pyspark-top-fail-when-the-rdd-contains-a-user-defined-class/30027079#30027079", "title": "Why does Apache PySpark top() fail when the RDD contains a user defined class?", "body": "<p>Turns out you have to define your class in its own module, not in the main body of the code. If you do that and then import the module, pickle is able to pickle and unpickle the object successfully. The class then works with Spark as you'd expect.</p>\n"}, {"tags": [], "owner": {"reputation": 4073, "user_id": 3257992, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bcX5Z.png?s=128&g=1", "display_name": "Tim Seed", "link": "https://stackoverflow.com/users/3257992/tim-seed"}, "is_accepted": false, "score": 0, "last_activity_date": 1435911543, "last_edit_date": 1592644375, "creation_date": 1435911543, "answer_id": 31201922, "question_id": 29130870, "link": "https://stackoverflow.com/questions/29130870/why-does-apache-pyspark-top-fail-when-the-rdd-contains-a-user-defined-class/31201922#31201922", "title": "Why does Apache PySpark top() fail when the RDD contains a user defined class?", "body": "<p>I also to Define my Class output of the module (I am running IPYTHON Notebook with pyspark).</p>\n<p>I tried</p>\n<ol>\n<li>Copy Module to spark/bin - Failed</li>\n<li>Copying to PythonVirtual Env - Failed</li>\n<li>Modifying the PATH inside Python - Failed</li>\n<li>Write PIP Setup module - and PIP Installed - Worked</li>\n</ol>\n<h1>Code Example</h1>\n<pre><code>from army2 import army2\n\nPeople=[&quot;1,Maj,123&quot;,&quot;2,Pvt,333&quot;,&quot;3,Col,999&quot;]\nrrd1=sc.parallelize(People)\nrrd2=rrd1.map( lambda y:  army2(y))\n</code></pre>\n<h1>Army2 module</h1>\n<p>My highly complex army module looks like this....</p>\n<pre><code>class army2:\n    def __init__(self,list_of_data):\n        fields = list_of_data.split(&quot;,&quot;)\n        self.id =fields[0]\n        self.rank=fields[1]\n        self.num=fields[2]\n\n    def __repr__(self):\n        return &quot;We're in the Army2 Now&quot;\n    \n   \nif __name__ == &quot;__main__&quot;:\n    a=army2('1,&quot;tim&quot;,345')\n    print a\n</code></pre>\n<h1>Setup.py</h1>\n<p>My pip setup.py looks like this</p>\n<pre><code>import os\n\nfrom setuptools import setup\n\ndef read(*paths):\n&quot;&quot;&quot;Build a file path from *paths* and return the contents.&quot;&quot;&quot;\nwith open(os.path.join(*paths), 'r') as f:\n    return f.read()\n\nsetup(\nname='army',\nversion='0.1.0',\ndescription='Make a small army.',\nlong_description=(read('README.rst')),\nurl='http://github.com/timseed/junk/',\nlicense='GNU',\nauthor='Gen McArthur',\nauthor_email='bounce@bouncy.nowhere',\npy_modules=['army2'],\ninclude_package_data=True,\nclassifiers=[\n    'Development Status :: 5 - Production/Stable',\n    'Intended Audience :: Developers',\n    'Natural Language :: English',\n    'Operating System :: OS Independent',\n    'Programming Language :: Python',\n    'Programming Language :: Python :: 2',\n    'Programming Language :: Python :: 2.6',\n    'Programming Language :: Python :: 2.7',\n    'Programming Language :: Python :: 3',\n    'Programming Language :: Python :: 3.3',\n    'Topic :: Software Development :: Libraries :: Python Modules',\n],\n)\n</code></pre>\n<p>I hope this assists others in their pyspark development</p>\n"}], "owner": {"reputation": 383, "user_id": 3279453, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/73ca03aed6f40b0bd4402ee437610d13?s=128&d=identicon&r=PG&f=1", "display_name": "user3279453", "link": "https://stackoverflow.com/users/3279453/user3279453"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1359, "favorite_count": 1, "answer_count": 2, "score": 5, "last_activity_date": 1435911543, "creation_date": 1426706337, "question_id": 29130870, "link": "https://stackoverflow.com/questions/29130870/why-does-apache-pyspark-top-fail-when-the-rdd-contains-a-user-defined-class", "title": "Why does Apache PySpark top() fail when the RDD contains a user defined class?", "body": "<p>I'm prototyping some code using Apache Spark's PySpark on my local machine, via iPython Notebook. I've written some code that seems to work fine, but when I make a simple change to it, it breaks. </p>\n\n<p>The first code block below works. The second block fails with the given error. Really appreciate any help. I suspect the error is something to do with serializing Python objects. The error says it cant Pickle TestClass. I cant find information on how to make my class pickle-able. The documentation says \"Generally you can pickle any object if you can pickle every attribute of that object. Classes, functions, and methods cannot be pickled -- if you pickle an object, the object's class is not pickled, just a string that identifies what class it belongs to. This works fine for most pickles (but note the discussion about long-term storage of pickles).\". I don't understand this, as I've tried replacing my TestClass with a datetime class and things seem to work just fine.</p>\n\n<p>Anyway, the code:</p>\n\n<pre><code># ----------- This code works -----------------------------\nclass TestClass(object):\n    def __init__(self):\n        self.teststr = 'Hello'\n    def __str__(self):\n        return self.teststr\n    def __repr__(self):\n        return self.teststr\n    def test(self):\n        return 'test: {0}'.format(self.teststr)\n\n#load multiple text files into list of RDDs, concatenate them, then remove headers\ntrip_rdd  = trip_rdds[0]\nfor rdd in trip_rdds[1:]:\n    trip_rdd = trip_rdd.union(rdd)\n\n#filter out header rows from result\ntrip_rdd = trip_rdd.filter(lambda r: r != header)\n\n#split the line, then convert each element to a dictionary\ntrip_rdd = trip_rdd.map(lambda r: r.split(','))\ntrip_rdd = trip_rdd.map(lambda r, k = header_keys: dict(zip(k, r)))\ntrip_rdd = trip_rdd.map(convert_trip_dict)\n#trip_rdd = trip_rdd.map(lambda d, ps = g_nyproj_str: Trip(d, ps))\n\n#originally I map the given dictionaries to a 'Trip' class I defined with various bells and whistles. \n#I've simplified to using TestClass above and still seem to get the same error\n\ntrip_rdd = trip_rdd.map(lambda t: TestClass())\ntrip_rdd = trip_rdd.map(lambda t: t.test()) #(1) Watch this row\n\nprint trip_rdd.count()\ntemp = trip_rdd.top(3)\nprint temp\nprint '...done'\n</code></pre>\n\n<p>The above code returns the following:</p>\n\n<p><em>347098</em></p>\n\n<p><em>['test: Hello', 'test: Hello', 'test: Hello']</em></p>\n\n<p><em>...done</em></p>\n\n<p>But when I delete the row marked \"(1) watch this row\" - the last map line - and re-run I get the following error instead. Its long, so I'm going to wrap up my question here, before posting the output. Again, I'd really appreciate help with this.</p>\n\n<p>Thanks in advance!</p>\n\n<pre><code># ----------- This code FAILS -----------------------------\nclass TestClass(object):\n    def __init__(self):\n        self.teststr = 'Hello'\n    def __str__(self):\n        return self.teststr\n    def __repr__(self):\n        return self.teststr\n    def test(self):\n        return 'test: {0}'.format(self.teststr)\n\n#load multiple text files into list of RDDs, concatenate them, then remove headers\ntrip_rdds = [sc.textFile(f) for f in trip_files]\ntrip_rdd  = trip_rdds[0]\nfor rdd in trip_rdds[1:]:\n    trip_rdd = trip_rdd.union(rdd)\n\n#filter out header rows from result\ntrip_rdd = trip_rdd.filter(lambda r: r != header)\n\n#split the line, then convert each element to a dictionary\ntrip_rdd = trip_rdd.map(lambda r: r.split(','))\ntrip_rdd = trip_rdd.map(lambda r, k = header_keys: dict(zip(k, r)))\ntrip_rdd = trip_rdd.map(convert_trip_dict)\n#trip_rdd = trip_rdd.map(lambda d, ps = g_nyproj_str: Trip(d, ps))\n\n#originally I map the given dictionaries to a 'Trip' class I defined with various bells and whistles. \n#I've simplified to using TestClass above and still seem to get the same error\n\ntrip_rdd = trip_rdd.map(lambda t: TestClass())\ntrip_rdd = trip_rdd.map(lambda t: t.test()) #(1) Watch this row\n\nprint trip_rdd.count()\ntemp = trip_rdd.top(3)\nprint temp\nprint '...done'\n</code></pre>\n\n<p>Output:\n<em>347098</em></p>\n\n<pre><code>*---------------------------------------------------------------------------\nPy4JJavaError                             Traceback (most recent call last)\n&lt;ipython-input-76-6550318a5d5b&gt; in &lt;module&gt;()\n     29 #count them\n     30 print trip_rdd.count()\n---&gt; 31 temp = trip_rdd.top(3)\n     32 print temp\n     33 print '...done'\n\nC:\\Programs\\Apache\\Spark\\spark-1.2.0-bin-hadoop2.4\\python\\pyspark\\rdd.pyc in top(self, num, key)\n   1043             return heapq.nlargest(num, a + b, key=key)\n   1044 \n-&gt; 1045         return self.mapPartitions(topIterator).reduce(merge)\n   1046 \n   1047     def takeOrdered(self, num, key=None):\n\nC:\\Programs\\Apache\\Spark\\spark-1.2.0-bin-hadoop2.4\\python\\pyspark\\rdd.pyc in reduce(self, f)\n    713             yield reduce(f, iterator, initial)\n    714 \n--&gt; 715         vals = self.mapPartitions(func).collect()\n    716         if vals:\n    717             return reduce(f, vals)\n\nC:\\Programs\\Apache\\Spark\\spark-1.2.0-bin-hadoop2.4\\python\\pyspark\\rdd.pyc in collect(self)\n    674         \"\"\"\n    675         with SCCallSiteSync(self.context) as css:\n--&gt; 676             bytesInJava = self._jrdd.collect().iterator()\n    677         return list(self._collect_iterator_through_file(bytesInJava))\n    678 \n\nC:\\Programs\\Coding\\Languages\\Python\\Anaconda_32bit\\Conda\\lib\\site-packages\\py4j-0.8.2.1-py2.7.egg\\py4j\\java_gateway.pyc in __call__(self, *args)\n    536         answer = self.gateway_client.send_command(command)\n    537         return_value = get_return_value(answer, self.gateway_client,\n--&gt; 538                 self.target_id, self.name)\n    539 \n    540         for temp_arg in temp_args:\n\nC:\\Programs\\Coding\\Languages\\Python\\Anaconda_32bit\\Conda\\lib\\site-packages\\py4j-0.8.2.1-py2.7.egg\\py4j\\protocol.pyc in get_return_value(answer, gateway_client, target_id, name)\n    298                 raise Py4JJavaError(\n    299                     'An error occurred while calling {0}{1}{2}.\\n'.\n--&gt; 300                     format(target_id, '.', name), value)\n    301             else:\n    302                 raise Py4JError(\n\nPy4JJavaError: An error occurred while calling o463.collect.\n: org.apache.spark.SparkException: Job aborted due to stage failure: Task 1 in stage 49.0 failed 1 times, most recent failure: Lost task 1.0 in stage 49.0 (TID 99, localhost): org.apache.spark.api.python.PythonException: Traceback (most recent call last):\n  File \"C:\\Programs\\Apache\\Spark\\spark-1.2.0-bin-hadoop2.4\\python\\pyspark\\worker.py\", line 107, in main\n    process()\n  File \"C:\\Programs\\Apache\\Spark\\spark-1.2.0-bin-hadoop2.4\\python\\pyspark\\worker.py\", line 98, in process\n    serializer.dump_stream(func(split_index, iterator), outfile)\n  File \"C:\\Programs\\Apache\\Spark\\spark-1.2.0-bin-hadoop2.4\\python\\pyspark\\serializers.py\", line 231, in dump_stream\n    bytes = self.serializer.dumps(vs)\n  File \"C:\\Programs\\Apache\\Spark\\spark-1.2.0-bin-hadoop2.4\\python\\pyspark\\serializers.py\", line 393, in dumps\n    return cPickle.dumps(obj, 2)\nPicklingError: Can't pickle &lt;class '__main__.TestClass'&gt;: attribute lookup __main__.TestClass failed\n\n    at org.apache.spark.api.python.PythonRDD$$anon$1.read(PythonRDD.scala:137)\n    at org.apache.spark.api.python.PythonRDD$$anon$1.&lt;init&gt;(PythonRDD.scala:174)\n    at org.apache.spark.api.python.PythonRDD.compute(PythonRDD.scala:96)\n    at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:263)\n    at org.apache.spark.rdd.RDD.iterator(RDD.scala:230)\n    at org.apache.spark.scheduler.ResultTask.runTask(ResultTask.scala:61)\n    at org.apache.spark.scheduler.Task.run(Task.scala:56)\n    at org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:196)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at java.lang.Thread.run(Thread.java:745)\n\nDriver stacktrace:\n    at org.apache.spark.scheduler.DAGScheduler.org$apache$spark$scheduler$DAGScheduler$$failJobAndIndependentStages(DAGScheduler.scala:1214)\n    at org.apache.spark.scheduler.DAGScheduler$$anonfun$abortStage$1.apply(DAGScheduler.scala:1203)\n    at org.apache.spark.scheduler.DAGScheduler$$anonfun$abortStage$1.apply(DAGScheduler.scala:1202)\n    at scala.collection.mutable.ResizableArray$class.foreach(ResizableArray.scala:59)\n    at scala.collection.mutable.ArrayBuffer.foreach(ArrayBuffer.scala:47)\n    at org.apache.spark.scheduler.DAGScheduler.abortStage(DAGScheduler.scala:1202)\n    at org.apache.spark.scheduler.DAGScheduler$$anonfun$handleTaskSetFailed$1.apply(DAGScheduler.scala:696)\n    at org.apache.spark.scheduler.DAGScheduler$$anonfun$handleTaskSetFailed$1.apply(DAGScheduler.scala:696)\n    at scala.Option.foreach(Option.scala:236)\n    at org.apache.spark.scheduler.DAGScheduler.handleTaskSetFailed(DAGScheduler.scala:696)\n    at org.apache.spark.scheduler.DAGSchedulerEventProcessActor$$anonfun$receive$2.applyOrElse(DAGScheduler.scala:1420)\n    at akka.actor.Actor$class.aroundReceive(Actor.scala:465)\n    at org.apache.spark.scheduler.DAGSchedulerEventProcessActor.aroundReceive(DAGScheduler.scala:1375)\n    at akka.actor.ActorCell.receiveMessage(ActorCell.scala:516)\n    at akka.actor.ActorCell.invoke(ActorCell.scala:487)\n    at akka.dispatch.Mailbox.processMailbox(Mailbox.scala:238)\n    at akka.dispatch.Mailbox.run(Mailbox.scala:220)\n    at akka.dispatch.ForkJoinExecutorConfigurator$AkkaForkJoinTask.exec(AbstractDispatcher.scala:393)\n    at scala.concurrent.forkjoin.ForkJoinTask.doExec(ForkJoinTask.java:260)\n    at scala.concurrent.forkjoin.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1339)\n    at scala.concurrent.forkjoin.ForkJoinPool.runWorker(ForkJoinPool.java:1979)\n    at scala.concurrent.forkjoin.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:107)*\n</code></pre>\n"}, {"tags": ["python", "sockets", "blocking", "python-2.6"], "answers": [{"comments": [{"owner": {"reputation": 156940, "user_id": 416467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/32cad7487ccecc3740a62e797fc326dc?s=128&d=identicon&r=PG", "display_name": "kindall", "link": "https://stackoverflow.com/users/416467/kindall"}, "edited": false, "score": 0, "creation_date": 1426707889, "post_id": 29131259, "comment_id": 46488249, "body": "Yep, no real way to do this without multiprocessing of some sort."}], "tags": [], "owner": {"reputation": 77965, "user_id": 2073595, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ugcXJ.jpg?s=128&g=1", "display_name": "dano", "link": "https://stackoverflow.com/users/2073595/dano"}, "is_accepted": true, "score": 4, "last_activity_date": 1426707958, "last_edit_date": 1426707958, "creation_date": 1426707600, "answer_id": 29131259, "question_id": 29130833, "link": "https://stackoverflow.com/questions/29130833/merging-multiple-blocking-generator-functions-in-python/29131259#29131259", "title": "Merging multiple blocking generator functions in python", "body": "<p>You could move the socket iteration into background threads, and then use a <code>Queue</code> to send the data received by each to your main thread. Then your main thread can just consume data from the queue as it comes in:</p>\n\n<pre><code>import socket\nimport time\nfrom Queue import Queue\nfrom threading import Thread\n\nHOST = \"127.0.0.1\"\nPORT = 8008\n\n\ndef iterate_socket(sock):\n    while True:\n        data = sock.recv(1024)\n        yield data\n        if not data: # End of the stream\n            return\n\ndef consume(q, s):\n    for i in s:\n        q.put(i)\n\ndef merge(xs, ys):\n    q = Queue()\n    iters = [xs, ys]\n    for it in iters:\n        t = Thread(target=consume, args=(q, it))\n        t.start()\n\n    done = 0\n    while True:\n        out = q.get()\n        if out == '':  # End of the stream.\n            done += 1\n            if done == len(iters): # When all iters are done, break out.\n                return\n        else:\n            yield out\n\nsock1 = socket.socket(socket.AF_INET, socket.SOCK_STREAM)\nsock1.connect((HOST, PORT))\ntime.sleep(1)\nsock2 = socket.socket(socket.AF_INET, socket.SOCK_STREAM)\nsock2.connect((HOST, PORT))\n\niter1 = iterate_socket(sock1)\niter2 = iterate_socket(sock2)\n\nfor msg in merge(iter1, iter2):\n    print msg,\n</code></pre>\n"}], "owner": {"reputation": 617, "user_id": 2036930, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/5611c46bb33e051bf692b69cf4411377?s=128&d=identicon&r=PG", "display_name": "statusfailed", "link": "https://stackoverflow.com/users/2036930/statusfailed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 274, "favorite_count": 1, "accepted_answer_id": 29131259, "answer_count": 1, "score": 3, "last_activity_date": 1426707958, "creation_date": 1426706236, "question_id": 29130833, "link": "https://stackoverflow.com/questions/29130833/merging-multiple-blocking-generator-functions-in-python", "title": "Merging multiple blocking generator functions in python", "body": "<p>I have two iterators. Each represents a possibly infinite stream of data coming from a blocking resource, like a socket.</p>\n\n<p>I want to merge the data in the two iterators, in the order it arrives- i.e. non-deterministically. In more detail, if I have iterators <code>iter1</code> and <code>iter2</code>, I want my result to be an iterator equivalent to <code>merged</code>.</p>\n\n<pre><code>iter1 : 1 2 3     4   5 ...\niter2 :       1 2   3   ... \nmerged: 1 2 3 1 2 4 3 5 ...\n\n   --- &gt; increasing time ---&gt; \n</code></pre>\n\n<p>I assume I'll need a concurrent program, but I'm not sure if there's a pythonic way to do this. I would strongly prefer an answer that works in Python 2.6.</p>\n\n<p>For example, let's say I have two iterators which are \"under the hood\" reading from a socket. Here's a quick server \"listener\" which repeatedly echoes the date/time of client connection:</p>\n\n<pre><code>==&gt; message.sh &lt;==\n#!/usr/bin/env bash\nset -e;\n\n# Repeatedly echo the date/time of client connection\nMSG=$(date)\nwhile true; do\n  echo $MSG;\n  sleep 1;\ndone\n\n==&gt; server.sh &lt;==\n#!/usr/bin/env bash\nsocat TCP-LISTEN:8008,reuseaddr,fork system:\"./message.sh\"\n</code></pre>\n\n<p>You can run the server with <code>./server.sh</code>.</p>\n\n<p>Below is an example python script which tries to merge messages from the two sockets. However, it's not correct- it must receive a value from each iterator to continue. Using the example above, the \"merged\" result would be:</p>\n\n<pre><code>iter1 : 1 2 3     4   5 ...\niter2 :       1 2   3   ... \nmerged: 1     1 2 2 3 3 4     ...\n</code></pre>\n\n<p>Here is the script:</p>\n\n<pre><code>#!/usr/bin/env python2\nimport socket\nimport time\n\nHOST = \"127.0.0.1\"\nPORT = 8008\n\n\ndef iterate_socket(sock):\n    while True:\n        yield sock.recv(1024)\n\n\ndef merge(xs, ys):\n    iters = [xs, ys]\n    while True:\n        for it in iters:\n            try:\n                i = it.next()\n                yield i\n            except StopIteration:\n                pass\n\nsock1 = socket.socket(socket.AF_INET, socket.SOCK_STREAM)\nsock1.connect((HOST, PORT))\ntime.sleep(1)\nsock2 = socket.socket(socket.AF_INET, socket.SOCK_STREAM)\nsock2.connect((HOST, PORT))\n\niter1 = iterate_socket(sock1)\niter2 = iterate_socket(sock2)\n\nfor msg in merge(iter1, iter2):\n    print msg,\n</code></pre>\n\n<p>Finally: I get the iterators from a library, so please assume for the purposes of this question that I have to deal with iterators, and I can't do something like set a socket to non-blocking and poll.</p>\n"}, {"tags": ["python", "string", "split"], "comments": [{"owner": {"reputation": 13636, "user_id": 3191557, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ffa6013ed93cfff5ef56f1ddf63956b1?s=128&d=identicon&r=PG&f=1", "display_name": "dhke", "link": "https://stackoverflow.com/users/3191557/dhke"}, "edited": false, "score": 3, "creation_date": 1426706591, "post_id": 29130823, "comment_id": 46487506, "body": "<i>please</i> don&#39;t use <code>str</code> as a variable name. <code>str</code> is a well-known builtin and you are asking for all kinds of trouble overriding it."}], "answers": [{"comments": [{"owner": {"reputation": 13636, "user_id": 3191557, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ffa6013ed93cfff5ef56f1ddf63956b1?s=128&d=identicon&r=PG&f=1", "display_name": "dhke", "link": "https://stackoverflow.com/users/3191557/dhke"}, "edited": false, "score": 1, "creation_date": 1426706543, "post_id": 29130872, "comment_id": 46487474, "body": "Use <code>&#39;\\s+(AND|OR)\\s+&#39;</code> and the whitespace is gone, too ;-)"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1426706841, "post_id": 29130872, "comment_id": 46487642, "body": "Your last code will fail if there is an OR or AND at the beginning or end of the string"}, {"owner": {"reputation": 94141, "user_id": 2867928, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/a8DM1.jpg?s=128&g=1", "display_name": "kasravnd", "link": "https://stackoverflow.com/users/2867928/kasravnd"}, "reply_to_user": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1426707472, "post_id": 29130872, "comment_id": 46488022, "body": "@PadraicCunningham yea! i miss <code>?</code> but i fixed the answer! better!"}], "tags": [], "owner": {"reputation": 94141, "user_id": 2867928, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/a8DM1.jpg?s=128&g=1", "display_name": "kasravnd", "link": "https://stackoverflow.com/users/2867928/kasravnd"}, "is_accepted": true, "score": 6, "last_activity_date": 1426707435, "last_edit_date": 1426707435, "creation_date": 1426706338, "answer_id": 29130872, "question_id": 29130823, "link": "https://stackoverflow.com/questions/29130823/python-how-to-split-a-string-by-multiple-strings/29130872#29130872", "title": "Python: how to split a string by multiple strings", "body": "<p>You can use regex to split based on any combinations of uppercase letters with len 1 or more :</p>\n\n<pre><code>&gt;&gt;&gt; tr = \"apple AND orange OR banana\"\n&gt;&gt;&gt; re.split(r'[A-Z]+',tr)\n['apple ', ' orange ', ' banana']\n</code></pre>\n\n<p>But if you just want to split with <code>AND</code> or <code>OR</code> :</p>\n\n<pre><code>&gt;&gt;&gt; re.split(r'AND|OR',tr)\n['apple ', ' orange ', ' banana']\n</code></pre>\n\n<p>And for remove the spaces if you are sure that your sentence are contain distinc words you can do :</p>\n\n<pre><code>&gt;&gt;&gt; re.split(r'[A-Z ]+',tr)\n['apple', 'orange', 'banana']\n</code></pre>\n\n<p>If you have a <code>AND</code> or <code>OR</code> in leading or trailing of your string using split will create a empty string in result , for get ride of that you can loop over splited list and check for validation of items, but as a more elegant way you can use <code>re.findall</code> :\nwith <code>r'[^A-Z ]+'</code> as its pattern :</p>\n\n<pre><code>&gt;&gt;&gt; tr = \"AND apple AND orangeOR banana\"\n&gt;&gt;&gt; re.split(r'\\s?(?:AND|OR)\\s?',tr)\n['', 'apple', 'orange', 'banana']\n&gt;&gt;&gt; re.split(r'[A-Z ]+',tr)\n['', 'apple', 'orange', 'banana']\n&gt;&gt;&gt; [i for i in re.split(r'[A-Z ]+',tr) if i]\n['apple', 'orange', 'banana']\n&gt;&gt;&gt; re.findall(r'[^A-Z ]+',tr)\n['apple', 'orange', 'banana']\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 7433, "user_id": 447015, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/ULwaG.jpg?s=128&g=1", "display_name": "James Mertz", "link": "https://stackoverflow.com/users/447015/james-mertz"}, "edited": false, "score": 0, "creation_date": 1426706498, "post_id": 29130899, "comment_id": 46487445, "body": "Besides using two <code>for</code> loops this is the cleanest way I could think of."}], "tags": [], "owner": {"reputation": 96714, "user_id": 198633, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/5b9c04999233026354268c2ee4237e04?s=128&d=identicon&r=PG", "display_name": "inspectorG4dget", "link": "https://stackoverflow.com/users/198633/inspectorg4dget"}, "is_accepted": false, "score": 1, "last_activity_date": 1426706453, "creation_date": 1426706453, "answer_id": 29130899, "question_id": 29130823, "link": "https://stackoverflow.com/questions/29130823/python-how-to-split-a-string-by-multiple-strings/29130899#29130899", "title": "Python: how to split a string by multiple strings", "body": "<p>I can think of two ways to accomplish this:</p>\n\n<pre><code>In [230]: s = \"apple AND orange OR banana\"\n\nIn [231]: delims = [\"AND\", \"OR\"]\n\nIn [232]: for d in delims:\n   .....:     s = s.replace(d, '-')\n   .....:     \n\nIn [233]: s.split('-')\nOut[233]: ['apple ', ' orange ', ' banana']\n</code></pre>\n\n<p>OR</p>\n\n<pre><code>In [234]: s = \"apple AND orange OR banana\"\n\nIn [235]: delims = [\"AND\", \"OR\"]\n\nIn [236]: for d in delims:\n   .....:     s = s.replace(d, ' ')\n   .....:     \n\nIn [237]: s.split()\nOut[237]: ['apple', 'orange', 'banana']\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 24066, "user_id": 4686625, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gsGGS.jpg?s=128&g=1", "display_name": "miradulo", "link": "https://stackoverflow.com/users/4686625/miradulo"}, "is_accepted": false, "score": 1, "last_activity_date": 1426707102, "last_edit_date": 1426707102, "creation_date": 1426706617, "answer_id": 29130957, "question_id": 29130823, "link": "https://stackoverflow.com/questions/29130823/python-how-to-split-a-string-by-multiple-strings/29130957#29130957", "title": "Python: how to split a string by multiple strings", "body": "<p>Why not use <code>filter</code> and <code>re.split</code> like this:</p>\n\n<pre><code>my_list = list(filter(None, re.split(\"\\s*(?:AND|OR)\\s*\", my_str)))\n</code></pre>\n\n<p>This will work even in the case that AND or OR is at the very beginning of your string. Also, you should be aware that <code>str</code> is a pretty terrible variable name since it is a built-in. </p>\n\n<p>This gives the output:</p>\n\n<pre><code>['apple', 'orange', 'banana']\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "is_accepted": false, "score": 1, "last_activity_date": 1426708205, "creation_date": 1426708205, "answer_id": 29131428, "question_id": 29130823, "link": "https://stackoverflow.com/questions/29130823/python-how-to-split-a-string-by-multiple-strings/29131428#29131428", "title": "Python: how to split a string by multiple strings", "body": "<p>You can split and filter with a set:</p>\n\n<pre><code>s = \"apple AND orange OR banana\"\n\nprint([word for word in s.split() if word not in {\"AND\",\"OR\"}])\n\n['apple', 'orange', 'banana']\n</code></pre>\n"}], "owner": {"reputation": 101, "user_id": 4398682, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c08b569a3ec2b41d0f55d4608c7f9cea?s=128&d=identicon&r=PG&f=1", "display_name": "Amy", "link": "https://stackoverflow.com/users/4398682/amy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1431, "favorite_count": 1, "accepted_answer_id": 29130872, "answer_count": 4, "score": 3, "last_activity_date": 1426708205, "creation_date": 1426706205, "question_id": 29130823, "link": "https://stackoverflow.com/questions/29130823/python-how-to-split-a-string-by-multiple-strings", "title": "Python: how to split a string by multiple strings", "body": "<p>Given a string: </p>\n\n<blockquote>\n  <p>str = \"apple AND orange  OR banana\"</p>\n</blockquote>\n\n<p>I want to split it by \"AND\" or \"OR\". The expected result is</p>\n\n<blockquote>\n  <p>['apple', 'orange', 'banana']</p>\n</blockquote>\n\n<p>Is any simple way for python to do it?</p>\n\n<p>Thanks!</p>\n"}]