[{"tags": ["python", "pandas", "csv"], "comments": [{"owner": {"reputation": 541, "user_id": 5110035, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CwEM7.jpg?s=128&g=1", "display_name": "MichaelMMeskhi", "link": "https://stackoverflow.com/users/5110035/michaelmmeskhi"}, "edited": false, "score": 0, "creation_date": 1557360013, "post_id": 56050458, "comment_id": 98742205, "body": "Can you post code that you use to generate the .csv file?"}, {"owner": {"reputation": 45, "user_id": 9229452, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ZJqLtxzPCHo/AAAAAAAAAAI/AAAAAAAAFIk/lUZ-XbIM6KY/photo.jpg?sz=128", "display_name": "Marcelo", "link": "https://stackoverflow.com/users/9229452/marcelo"}, "reply_to_user": {"reputation": 541, "user_id": 5110035, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CwEM7.jpg?s=128&g=1", "display_name": "MichaelMMeskhi", "link": "https://stackoverflow.com/users/5110035/michaelmmeskhi"}, "edited": false, "score": 0, "creation_date": 1557360126, "post_id": 56050458, "comment_id": 98742219, "body": "@MichaelMMeskhi I am using a the Pandas command &quot;pd.to_csv&quot; as per documentation. I want to create the table from above from this or other Pandas command with some more details to it."}, {"owner": {"reputation": 541, "user_id": 5110035, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CwEM7.jpg?s=128&g=1", "display_name": "MichaelMMeskhi", "link": "https://stackoverflow.com/users/5110035/michaelmmeskhi"}, "edited": false, "score": 0, "creation_date": 1557360149, "post_id": 56050458, "comment_id": 98742224, "body": "Also, adding extra information is just gonna make .csv file loading extra work in my opinion. Why not just generate logs and name each log to the corresponding .csv file?"}, {"owner": {"reputation": 45, "user_id": 9229452, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ZJqLtxzPCHo/AAAAAAAAAAI/AAAAAAAAFIk/lUZ-XbIM6KY/photo.jpg?sz=128", "display_name": "Marcelo", "link": "https://stackoverflow.com/users/9229452/marcelo"}, "reply_to_user": {"reputation": 541, "user_id": 5110035, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CwEM7.jpg?s=128&g=1", "display_name": "MichaelMMeskhi", "link": "https://stackoverflow.com/users/5110035/michaelmmeskhi"}, "edited": false, "score": 0, "creation_date": 1557360216, "post_id": 56050458, "comment_id": 98742235, "body": "@MichaelMMeskhi I am saving multiples files already, but this is painful to be opening some of them to manipulate on Excel and be checking more than one file to understand what was ran several Months ago. :(  To read, it is fine, since I am using fixed number of rows, in other words, I can cut them before asigning to another pandas variables."}, {"owner": {"reputation": 541, "user_id": 5110035, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CwEM7.jpg?s=128&g=1", "display_name": "MichaelMMeskhi", "link": "https://stackoverflow.com/users/5110035/michaelmmeskhi"}, "edited": false, "score": 0, "creation_date": 1557360360, "post_id": 56050458, "comment_id": 98742260, "body": "Okay before I propose anything just to make it clear. If you had that information on top of your header, you are okay with that?"}, {"owner": {"reputation": 45, "user_id": 9229452, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ZJqLtxzPCHo/AAAAAAAAAAI/AAAAAAAAFIk/lUZ-XbIM6KY/photo.jpg?sz=128", "display_name": "Marcelo", "link": "https://stackoverflow.com/users/9229452/marcelo"}, "reply_to_user": {"reputation": 541, "user_id": 5110035, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CwEM7.jpg?s=128&g=1", "display_name": "MichaelMMeskhi", "link": "https://stackoverflow.com/users/5110035/michaelmmeskhi"}, "edited": false, "score": 0, "creation_date": 1557360435, "post_id": 56050458, "comment_id": 98742274, "body": "Yep, I am looking for that solution. In the table snipet above, I want to add the custom info: - Date of creation: May/5th/2018,, - Sample time: 5 seconds,, - Condition: environment at 25 degC,,"}, {"owner": {"reputation": 541, "user_id": 5110035, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CwEM7.jpg?s=128&g=1", "display_name": "MichaelMMeskhi", "link": "https://stackoverflow.com/users/5110035/michaelmmeskhi"}, "edited": false, "score": 0, "creation_date": 1557360551, "post_id": 56050458, "comment_id": 98742290, "body": "Okay heres a quick solution, add a new column as first column that contains that data. And whenever you feed a .csv file to your code, you can always make sure to exclude the first column. I think this would be easier than having rows above a header. Correct me if I am wrong. As I understand that information is just for you when you open the file or just want to check on it. Another thing, I would just generate .csv files names with that info instead: `date_sampletime_condition&#39;.csv"}], "owner": {"reputation": 45, "user_id": 9229452, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ZJqLtxzPCHo/AAAAAAAAAAI/AAAAAAAAFIk/lUZ-XbIM6KY/photo.jpg?sz=128", "display_name": "Marcelo", "link": "https://stackoverflow.com/users/9229452/marcelo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 30, "favorite_count": 0, "closed_date": 1557361520, "answer_count": 0, "score": 0, "last_activity_date": 1557359910, "creation_date": 1557359910, "question_id": 56050458, "link": "https://stackoverflow.com/questions/56050458/how-to-add-extra-and-customized-details-to-a-csv-file-using-pandas-and-python-3", "closed_reason": "Duplicate", "title": "How to add extra and customized details to a csv file using Pandas and Python 3?", "body": "<p>I am using Python 3 with Pandas for data acquisition and logging for several tests and some details about the tests.\nI want to add customized details to the csv before starting the headers and data columns.</p>\n\n<p>A snapshot of the csv log I want to create:</p>\n\n<p>----------- log.csv starts here ---</p>\n\n<p>Date of creation: May/5th/2018,,</p>\n\n<p>Sample time: 5 seconds,,</p>\n\n<p>Condition: environment at 25 degC,,</p>\n\n<p>,,</p>\n\n<p>Data A,Data B,Data C</p>\n\n<p>3,100,402</p>\n\n<p>2,111,402</p>\n\n<p>5,122,403</p>\n\n<p>----------- log.csv ends here ---</p>\n\n<p>I need a code example to make this happen, thanks!</p>\n"}, {"tags": ["python", "database", "dataframe", "concatenation", "python-xarray"], "comments": [{"owner": {"reputation": 598, "user_id": 8678015, "user_type": "registered", "profile_image": "https://graph.facebook.com/1524861204259227/picture?type=large", "display_name": "Philipe Riskalla Leal", "link": "https://stackoverflow.com/users/8678015/philipe-riskalla-leal"}, "edited": false, "score": 0, "creation_date": 1569605493, "post_id": 56050442, "comment_id": 102664668, "body": "Dear UpperEastSide, I usually apply the same code as yours for a concatenation between Netcdfs in Python. The only difference is that the &quot;chunks&quot; argument is inside the &quot;xr.open_mfdataset&quot; function. Also, chunks argument should be a dictionary containing the size of each dimension per label specifically. If possible, try that alteration, and let us know what worked best. Sincerely, Philipe"}], "owner": {"reputation": 67, "user_id": 5907218, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8d87f1e3d5083effa702c2b5f9e1fc4?s=128&d=identicon&r=PG&f=1", "display_name": "UpperEastSide", "link": "https://stackoverflow.com/users/5907218/uppereastside"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 82, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1557359759, "creation_date": 1557359759, "question_id": 56050442, "link": "https://stackoverflow.com/questions/56050442/invalidindexerror-when-concatenating-netcdf-files-as-a-dataset-using-python-xa", "title": "&#39;InvalidIndexError&#39; when concatenating netCDF files as a dataset using python xarray", "body": "<p>I want to concatenate 50 netCDF files in my directory using python <strong>xarray</strong> 'open_mfdataset'. It works with a small selection of netCDF files but not when concatenating all 50. I get this error when calling the function from 'toolbox.py' in a script 'demo.py':</p>\n\n<blockquote>\n  <p>File \"\", line 1, in \n      runfile('data_dir/demo.py', wdir='')</p>\n  \n  <p>File\n  \"anaconda3/lib/python3.6/site-packages/spyder_kernels/customize/spydercustomize.py\",\n  line 827, in runfile\n      execfile(filename, namespace)</p>\n  \n  <p>File\n  \"anaconda3/lib/python3.6/site-packages/spyder_kernels/customize/spydercustomize.py\",\n  line 110, in execfile\n      exec(compile(f.read(), filename, 'exec'), namespace)</p>\n  \n  <p>File \"data_dir/demo.py\", line 15, in \n      data_files = concat(data_dir,chunks,file_name)</p>\n  \n  <p>File \"Python/toolbox.py\", line 53, in\n  concat\n      data_vars='minimal',parallel=False).chunk(chunks)</p>\n  \n  <p>File\n  \"anaconda3/lib/python3.6/site-packages/xarray/backends/api.py\",\n  line 719, in open_mfdataset\n      ids=ids)</p>\n  \n  <p>File\n  \"anaconda3/lib/python3.6/site-packages/xarray/core/combine.py\",\n  line 553, in _auto_combine\n      data_vars=data_vars, coords=coords)</p>\n  \n  <p>File\n  \"anaconda3/lib/python3.6/site-packages/xarray/core/combine.py\",\n  line 475, in _combine_nd\n      compat=compat)</p>\n  \n  <p>File\n  \"anaconda3/lib/python3.6/site-packages/xarray/core/combine.py\",\n  line 493, in _auto_combine_all_along_first_dim\n      data_vars, coords)</p>\n  \n  <p>File\n  \"anaconda3/lib/python3.6/site-packages/xarray/core/combine.py\",\n  line 514, in _auto_combine_1d\n      merged = merge(concatenated, compat=compat)</p>\n  \n  <p>File\n  \"anaconda3/lib/python3.6/site-packages/xarray/core/merge.py\",\n  line 532, in merge\n      variables, coord_names, dims = merge_core(dict_like_objects, compat, join)</p>\n  \n  <p>File\n  \"anaconda3/lib/python3.6/site-packages/xarray/core/merge.py\",\n  line 445, in merge_core\n      aligned = deep_align(coerced, join=join, copy=False, indexes=indexes)</p>\n  \n  <p>File\n  \"anaconda3/lib/python3.6/site-packages/xarray/core/alignment.py\",\n  line 217, in deep_align\n      exclude=exclude)</p>\n  \n  <p>File\n  \"anaconda3/lib/python3.6/site-packages/xarray/core/alignment.py\",\n  line 133, in align\n      index = joiner(matching_indexes)</p>\n  \n  <p>File\n  \"anaconda3/lib/python3.6/site-packages/pandas/core/indexes/base.py\",\n  line 2223, in <strong>or</strong>\n      return self.union(other)</p>\n  \n  <p>File\n  \"anaconda3/lib/python3.6/site-packages/pandas/core/indexes/datetimes.py\",\n  line 493, in union\n      result = Index.union(this, other)</p>\n  \n  <p>File\n  \"anaconda3/lib/python3.6/site-packages/pandas/core/indexes/base.py\",\n  line 2332, in union\n      indexer = self.get_indexer(other)</p>\n  \n  <p>File\n  \"anaconda3/lib/python3.6/site-packages/pandas/core/indexes/base.py\",\n  line 2740, in get_indexer\n      raise InvalidIndexError('Reindexing only valid with uniquely'</p>\n  \n  <p>InvalidIndexError: Reindexing only valid with uniquely valued Index\n  objects</p>\n</blockquote>\n\n<p>I have tried looking at individual netCDF files and tried different selections of netCDF files for concatenation. I think it might be because there are more than one index objects that are the same? but I don't really understand it.</p>\n\n<pre><code>def concat(data_dir,chunks,file_name):\n    # data_dir = directory where IMOS glider .nc files exist\n    # chunks = output variable 'chunks' from function 'find_chunks' - this is a single value\n    # file_name = specify string for name of file (not including extension e.g. '.zarr')\n\n    # concatenate IMOS glider netCDF files in data_dir\n    data_files = xr.open_mfdataset(data_dir + '*.nc', concat_dim='TIME',data_vars='minimal',parallel=False).chunk(chunks)\n    print('Data concatenated..')\n\n    # I then save the concatenated dataset as a netCDF and .zarr. This only works for smaller slections of netCDF files.\n\n    return data_files\n</code></pre>\n\n<p>I expect a concatenated dataset that I can return from the function and save as a netCDF and .zarr file.</p>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 6583, "user_id": 10426037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6723e3123b9a13d6360d1ee755f8728?s=128&d=identicon&r=PG&f=1", "display_name": "Valentino", "link": "https://stackoverflow.com/users/10426037/valentino"}, "edited": false, "score": 0, "creation_date": 1557359223, "post_id": 56050376, "comment_id": 98742061, "body": "What result do you expect instead?"}, {"owner": {"reputation": 13, "user_id": 11472761, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c3c5cf18ded1ea4751179cd9754ea71a?s=128&d=identicon&r=PG&f=1", "display_name": "Riley", "link": "https://stackoverflow.com/users/11472761/riley"}, "reply_to_user": {"reputation": 6583, "user_id": 10426037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6723e3123b9a13d6360d1ee755f8728?s=128&d=identicon&r=PG&f=1", "display_name": "Valentino", "link": "https://stackoverflow.com/users/10426037/valentino"}, "edited": false, "score": 0, "creation_date": 1557449294, "post_id": 56050376, "comment_id": 98778051, "body": "@Valentino I did not expect test4 to be slower than test5.  I thought it should be at least as fast as test5 because presumably the implementation of DataFrame.sum could be exactly what is written in test5."}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 11472761, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c3c5cf18ded1ea4751179cd9754ea71a?s=128&d=identicon&r=PG&f=1", "display_name": "Riley", "link": "https://stackoverflow.com/users/11472761/riley"}, "edited": false, "score": 1, "creation_date": 1557448858, "post_id": 56052303, "comment_id": 98777981, "body": "Thanks for the comprehensive answer run-out!  Much appreciated!"}, {"owner": {"reputation": 2751, "user_id": 10888655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQFKi.png?s=128&g=1", "display_name": "run-out", "link": "https://stackoverflow.com/users/10888655/run-out"}, "reply_to_user": {"reputation": 13, "user_id": 11472761, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c3c5cf18ded1ea4751179cd9754ea71a?s=128&d=identicon&r=PG&f=1", "display_name": "Riley", "link": "https://stackoverflow.com/users/11472761/riley"}, "edited": false, "score": 0, "creation_date": 1557449238, "post_id": 56052303, "comment_id": 98778040, "body": "Glad you like. If appropriate please accept this as the correct answer? Thanks"}], "tags": [], "owner": {"reputation": 2751, "user_id": 10888655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQFKi.png?s=128&g=1", "display_name": "run-out", "link": "https://stackoverflow.com/users/10888655/run-out"}, "is_accepted": true, "score": 1, "last_activity_date": 1557376833, "creation_date": 1557376833, "answer_id": 56052303, "question_id": 56050376, "link": "https://stackoverflow.com/questions/56050376/pandas-using-dataframe-apply-with-series-sum-function-across-columns-of-a-d/56052303#56052303", "title": "Pandas: Using DataFrame.apply() with Series.sum() function across columns of a dataframe is faster than calling DataFrame.sum(). Why?", "body": "<p>Test 3 is operating as pd.Series, which are basically numpy.arrays with metadata. Numpy arrays are blazingly fast. test4 and test5 are operating at the dataframe level. Still fast, but not as fast as pd.Series. </p>\n\n<p>Here's a fun experiment. Create a dataframe with lots to count. Must be two columns. </p>\n\n<pre><code>df = pd.DataFrame(np.random.randn(5000000,2), columns= list('ab'))\n</code></pre>\n\n<p>Now, let's make two similar, but different columns, the first is a dataframe. </p>\n\n<pre><code>type(df[['a']])\npandas.core.frame.DataFrame\n</code></pre>\n\n<p>The second is a series. </p>\n\n<pre><code>type(df['a'])\npandas.core.series.Series\n</code></pre>\n\n<p>Both are the exact same column, just the first is a dataframe, and the second a series.</p>\n\n<p>Now, let's see their performance: </p>\n\n<p>DataFrame</p>\n\n<pre><code>%%time \ndf[['a']].sum()\nCPU times: user 108 ms, sys: 49.4 ms, total: 157 ms\nWall time: 68.8 ms\n</code></pre>\n\n<p>Series</p>\n\n<pre><code>%%time \ndf['a'].sum()\nCPU times: user 26.7 ms, sys: 17.9 ms, total: 44.6 ms\nWall time: 43.1 ms\n</code></pre>\n\n<p>That's a pretty significant different, the pd.Series is 4 times faster. </p>\n\n<p>And finally, for reference, if we convert the series to a numpy array and run it... </p>\n\n<pre><code>arr = np.array(df['a'].values)\n%%time\narr.sum()\nCPU times: user 4.25 ms, sys: 0 ns, total: 4.25 ms\nWall time: 3.34 ms\n</code></pre>\n\n<p>4.25 ms!!! When you want to really go fast with lost of data, try to get down to numpy.array, it will almost always win the day. </p>\n\n<p>And this is a <a href=\"https://engineering.upside.com/a-beginners-guide-to-optimizing-pandas-code-for-speed-c09ef2c6a4d6\" rel=\"nofollow noreferrer\">good article</a> on the matter. </p>\n"}], "owner": {"reputation": 13, "user_id": 11472761, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c3c5cf18ded1ea4751179cd9754ea71a?s=128&d=identicon&r=PG&f=1", "display_name": "Riley", "link": "https://stackoverflow.com/users/11472761/riley"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "accepted_answer_id": 56052303, "answer_count": 1, "score": 1, "last_activity_date": 1557376833, "creation_date": 1557359018, "question_id": 56050376, "link": "https://stackoverflow.com/questions/56050376/pandas-using-dataframe-apply-with-series-sum-function-across-columns-of-a-d", "title": "Pandas: Using DataFrame.apply() with Series.sum() function across columns of a dataframe is faster than calling DataFrame.sum(). Why?", "body": "<p>I did not expect this result.  If anybody can shed some light on this it would be much appreciated.</p>\n\n<h2>Code</h2>\n\n<pre><code>df = pd.DataFrame(np.random.randint(0,10,size=(100000, 4)), columns=list('ABCD'))\n\ndef test3():\n    df[\"A\"].sum()\n    df[\"B\"].sum()\n    df[\"C\"].sum()\n    df[\"D\"].sum()\n\n\ndef test4():\n    df.sum(axis=0)\n\ndef test5():\n    df.apply(lambda x: x.sum(), axis=0)\n\n\nprint(timeit.timeit(test3, number = 100))  \nprint(timeit.timeit(test4, number = 100))\nprint(timeit.timeit(test5, number = 100))\n</code></pre>\n\n<h2>Output</h2>\n\n<p>0.41974469999999997</p>\n\n<p>0.8643757000000001</p>\n\n<p>0.6898605</p>\n"}, {"tags": ["python", "python-3.x", "exception", "input", "integer"], "comments": [{"owner": {"reputation": 87, "user_id": 11263565, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e2ce8905a902fb7d163efe2a1ba9c73?s=128&d=identicon&r=PG&f=1", "display_name": "Enoch Han", "link": "https://stackoverflow.com/users/11263565/enoch-han"}, "edited": false, "score": 1, "creation_date": 1557358890, "post_id": 56050360, "comment_id": 98741982, "body": "are u trying to make code to only accept 3 separate integers or &quot;2-4&quot;?"}, {"owner": {"reputation": 125, "user_id": 9773978, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-vGPniE1I9Ow/AAAAAAAAAAI/AAAAAAAAABQ/AscahW7fOQQ/photo.jpg?sz=128", "display_name": "Anonymous", "link": "https://stackoverflow.com/users/9773978/anonymous"}, "reply_to_user": {"reputation": 87, "user_id": 11263565, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e2ce8905a902fb7d163efe2a1ba9c73?s=128&d=identicon&r=PG&f=1", "display_name": "Enoch Han", "link": "https://stackoverflow.com/users/11263565/enoch-han"}, "edited": false, "score": 0, "creation_date": 1557358931, "post_id": 56050360, "comment_id": 98741992, "body": "accept 3 separate integers"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1557358959, "post_id": 56050360, "comment_id": 98741999, "body": "There&#39;s no built-in method for this, just write <code>if not 2 &lt;= numberOfPlayers &lt;= 4:</code>"}, {"owner": {"reputation": 125, "user_id": 9773978, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-vGPniE1I9Ow/AAAAAAAAAAI/AAAAAAAAABQ/AscahW7fOQQ/photo.jpg?sz=128", "display_name": "Anonymous", "link": "https://stackoverflow.com/users/9773978/anonymous"}, "edited": false, "score": 0, "creation_date": 1557359020, "post_id": 56050360, "comment_id": 98742023, "body": "oh ok ill try this but put this in the answer section so that I can tick it if it works! :)"}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1557359300, "post_id": 56050360, "comment_id": 98742073, "body": "@Barmar made it a comment because it&#39;s not really answer-worthy.  It&#39;s a simple technique that already appears in many tutorials and other answers.  As such, we likely won&#39;t archive it on this site."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1557359366, "post_id": 56050360, "comment_id": 98742081, "body": "We closed this question because it&#39;s essentially the same as that other question."}, {"owner": {"reputation": 19530, "user_id": 2823755, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vCEUU.png?s=128&g=1", "display_name": "wwii", "link": "https://stackoverflow.com/users/2823755/wwii"}, "edited": false, "score": 0, "creation_date": 1557360254, "post_id": 56050360, "comment_id": 98742244, "body": "<a href=\"https://stackoverflow.com/questions/23294658/asking-the-user-for-input-until-they-give-a-valid-response\" title=\"asking the user for input until they give a valid response\">stackoverflow.com/questions/23294658/&hellip;</a>"}], "owner": {"reputation": 125, "user_id": 9773978, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-vGPniE1I9Ow/AAAAAAAAAAI/AAAAAAAAABQ/AscahW7fOQQ/photo.jpg?sz=128", "display_name": "Anonymous", "link": "https://stackoverflow.com/users/9773978/anonymous"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 23, "favorite_count": 0, "closed_date": 1557359023, "answer_count": 0, "score": 0, "last_activity_date": 1557358961, "creation_date": 1557358814, "last_edit_date": 1557358961, "question_id": 56050360, "link": "https://stackoverflow.com/questions/56050360/is-there-a-way-to-let-the-user-input-only-3-specific-numbers-python", "closed_reason": "Duplicate", "title": "Is there a way to let the user input ONLY 3 specific numbers? Python", "body": "<p>I'm trying to create a 2 - 4 player dice rolling game that I want the user or users to choose how many players are going to be playing the game.</p>\n\n<p>I made this to be an input but I only want the user to input a number between 2-4</p>\n\n<p>I have tried using the \"try and except\" or like \"while True\" but these two don't work which is a pity.</p>\n\n<pre><code>def players():\n    while True:\n        try:\n            numberOfPlayers = int(input(\"How many players are there? (2-4)\"))\n        except ValueError:\n            print(\"Please enter a number from 2-4\")\n\nplayers()\n</code></pre>\n\n<p>This is what I've done so far but it accepts all numbers e.g. 50 and like 100 but I only want the input to be a number from 2-4</p>\n"}, {"tags": ["python", "recursion"], "comments": [{"owner": {"reputation": 92827, "user_id": 369, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/DHcF2.png?s=128&g=1", "display_name": "Blorgbeard", "link": "https://stackoverflow.com/users/369/blorgbeard"}, "edited": false, "score": 3, "creation_date": 1557359104, "post_id": 56050355, "comment_id": 98742041, "body": "This doesn&#39;t seem like a particularly good case for recursion. Is there any reason you want to use recursion here?"}, {"owner": {"reputation": 47115, "user_id": 235354, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/097d761861529df52a6800744f1074d2?s=128&d=identicon&r=PG", "display_name": "jspcal", "link": "https://stackoverflow.com/users/235354/jspcal"}, "edited": false, "score": 1, "creation_date": 1557359135, "post_id": 56050355, "comment_id": 98742045, "body": "Perhaps iterate over the list, matching beginning and end tokens, and simply don&#39;t add items that are within those sections?"}, {"owner": {"reputation": 92827, "user_id": 369, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/DHcF2.png?s=128&g=1", "display_name": "Blorgbeard", "link": "https://stackoverflow.com/users/369/blorgbeard"}, "edited": false, "score": 0, "creation_date": 1557359241, "post_id": 56050355, "comment_id": 98742064, "body": "But try replacing <code>target[0]</code> with <code>[target[0]]</code> to fix your error."}, {"owner": {"reputation": 19530, "user_id": 2823755, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vCEUU.png?s=128&g=1", "display_name": "wwii", "link": "https://stackoverflow.com/users/2823755/wwii"}, "edited": false, "score": 0, "creation_date": 1557359543, "post_id": 56050355, "comment_id": 98742105, "body": "Try returning an empy string in your base case instead of an empy list."}, {"owner": {"reputation": 19530, "user_id": 2823755, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vCEUU.png?s=128&g=1", "display_name": "wwii", "link": "https://stackoverflow.com/users/2823755/wwii"}, "edited": false, "score": 0, "creation_date": 1557359677, "post_id": 56050355, "comment_id": 98742137, "body": "When asking questions about code that produces an Exception, please include the complete Traceback."}], "answers": [{"tags": [], "owner": {"reputation": 47115, "user_id": 235354, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/097d761861529df52a6800744f1074d2?s=128&d=identicon&r=PG", "display_name": "jspcal", "link": "https://stackoverflow.com/users/235354/jspcal"}, "is_accepted": false, "score": 1, "last_activity_date": 1557359779, "creation_date": 1557359779, "answer_id": 56050445, "question_id": 56050355, "link": "https://stackoverflow.com/questions/56050355/recursive-list-slicing-in-python/56050445#56050445", "title": "Recursive list slicing in Python", "body": "<p>You can skip elements between the start token 'b' and end token 'd' with a loop:</p>\n\n<pre><code>items=['a','b','c','d','e']\nresult=[]\nskip=False\n\nfor item in items:\n    if item == 'b':\n        skip = True\n    elif not skip:\n        result.append(item)\n    elif item == 'd':\n        skip = False\n\nprint(result)\n# ['a', 'e']\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 73287, "user_id": 3874623, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6df0aa136ee42f4ea24ef08b7c348e7a?s=128&d=identicon&r=PG&f=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/3874623/mark"}, "is_accepted": false, "score": 1, "last_activity_date": 1557360246, "creation_date": 1557360246, "answer_id": 56050491, "question_id": 56050355, "link": "https://stackoverflow.com/questions/56050355/recursive-list-slicing-in-python/56050491#56050491", "title": "Recursive list slicing in Python", "body": "<p>Typically a recursive approach would look at one element and pass the rest back to the function. If you do this you only need to decide whether to include the one element + the result of the recursion. Something like:</p>\n\n<pre><code>def remove(arr, delete):\n    ''' remove element from arr in in delete list'''\n    if not arr:    # edge condition\n        return arr\n    n, *rest = arr \n\n    if n in delete:\n        return remove(rest, delete)\n    else:\n        return [n] + remove(rest, delete)\n\nl = ['a','b','c','d','e']\n\nremove(l, ['d', 'b'])\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 24576, "user_id": 3767239, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/f7cdefb47f96069d7add1222c70f3f70?s=128&d=identicon&r=PG&f=1", "display_name": "a_guest", "link": "https://stackoverflow.com/users/3767239/a-guest"}, "is_accepted": false, "score": 0, "last_activity_date": 1557360585, "creation_date": 1557360585, "answer_id": 56050520, "question_id": 56050355, "link": "https://stackoverflow.com/questions/56050355/recursive-list-slicing-in-python/56050520#56050520", "title": "Recursive list slicing in Python", "body": "<p>You can use a generator with <code>itertools.takehwile</code> to yield the elements that are not between the start/stop markers:</p>\n\n<pre><code>import itertools as it\n\ndef remove(items, start, stop):\n    items = iter(items)\n    while True:\n        yield from it.takewhile(start.__ne__, items)\n        if all(x != stop for x in items):\n            break\n\nprint(list(remove('abcde', 'b', 'd')))  # ['a', 'e']\nprint(list(remove('abcdefbghdi', 'b', 'd')))  # ['a', 'e', 'f', 'i']\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 24576, "user_id": 3767239, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/f7cdefb47f96069d7add1222c70f3f70?s=128&d=identicon&r=PG&f=1", "display_name": "a_guest", "link": "https://stackoverflow.com/users/3767239/a-guest"}, "is_accepted": false, "score": 0, "last_activity_date": 1557397543, "creation_date": 1557397543, "answer_id": 56057361, "question_id": 56050355, "link": "https://stackoverflow.com/questions/56050355/recursive-list-slicing-in-python/56057361#56057361", "title": "Recursive list slicing in Python", "body": "<p>For a recursive solution you can use the <code>(list|str|tuple).index</code> methods instead of iterating over the elements one by one:</p>\n\n<pre><code>def remove(items, start, stop):\n    try:\n        i = items.index(start)\n        j = items.index(stop, i)\n    except ValueError:\n        return items[:]\n    return items[:i] + remove(items[j+1:], start, stop)\n\nprint(remove('abcde', 'b', 'd'))  # 'ae'\nprint(remove('abcdefbghdi', 'b', 'd'))  # 'aefi'\n</code></pre>\n\n<p>Note that this only deletes items from explicitly closed sections, i.e. no implicit closing at the end:</p>\n\n<pre><code>print(remove('abc', 'b', 'd'))  # 'abc'\n</code></pre>\n"}], "owner": {"reputation": 1256, "user_id": 4949938, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/7586b74526dc4ef59eb6f8b6d4cb6a94?s=128&d=identicon&r=PG", "display_name": "mxplusb", "link": "https://stackoverflow.com/users/4949938/mxplusb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 645, "favorite_count": 0, "answer_count": 4, "score": 1, "last_activity_date": 1557397543, "creation_date": 1557358759, "question_id": 56050355, "link": "https://stackoverflow.com/questions/56050355/recursive-list-slicing-in-python", "title": "Recursive list slicing in Python", "body": "<p>I am working on splicing unwanted sections in a given list, and I'd like to do it recursively. I'm struggling to figure out the right way to delete something based off a set of tokens. For example, if I have <code>['a','b','c','d','e']</code>, I'm trying to recursively remove from <code>'b'</code> to <code>'d'</code>, which would result in <code>['a','e']</code>.</p>\n\n<p>Here is what has gotten me the closest thus far.</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>lines = \"\"\"\nvariable \"ops_manager_private\" {\n  default     = false\n  description = \"\"\n}\n\nvariable \"optional_ops_manager\" {\n  default = false\n}\n\n/******\n* RDS *\n*******/\n\nvariable \"rds_db_username\" {\n  default = \"\"\n}\n\nvariable \"rds_instance_class\" {\n  default = \"\"\n}\n\nvariable \"rds_instance_count\" {\n  type    = \"string\"\n  default = 0\n}\n\"\"\"\n\ndef _remove_set(target: list, start: str, stop: str, delete=False):\n    if not target:\n        return []\n    elif target[0] == start:\n        return target[0] + _remove_set(target[1:], start, stop, delete=True)\n    elif delete is True:\n        return _remove_set(target[1:], start, stop, delete=True)\n    elif target[0] == stop:\n        return target[0] + _remove_set(target[1:], start, stop, delete=False)\n    else:\n        return target[0] + _remove_set(target[1:], start, stop, delete=False)\n\n\nif __name__ == __main__:\n    results = _remove_set(lines.splitlines(), 'ops_', '}\\n')    \n</code></pre>\n\n<p>Then I get this error:</p>\n\n<pre><code>Traceback (most recent call last):\n# large recursive traceback\nTypeError: can only concatenate str (not \"list\") to str\n</code></pre>\n\n<p>What is the right way to recursively slice a list?</p>\n"}, {"tags": ["python", "sockets", "client", "arduino-uno"], "owner": {"reputation": 21, "user_id": 11472617, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-XGjOKOD8bFs/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcQbC_j3mHQeKTFde7ADvCmIFfnIg/mo/photo.jpg?sz=128", "display_name": "Shahenda Zakaria", "link": "https://stackoverflow.com/users/11472617/shahenda-zakaria"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 209, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1557358553, "creation_date": 1557358553, "question_id": 56050329, "link": "https://stackoverflow.com/questions/56050329/udp-packet-is-not-received-by-esp8266-with-arduino-from-python-server-broadcast", "title": "UDP packet is not received by esp8266 with Arduino from python server broadcast", "body": "<p>I'm trying to send udp packet from python server to arduino client by broadcast IP('255.255.255.255').The python server is sending the packet fine but the arduino can't recieve the packet at all even after disabling the windows firewall</p>\n\n<p>server code :</p>\n\n<pre><code>    server = socket(AF_INET, SOCK_DGRAM)\n    server.setsockopt(SOL_SOCKET, SO_REUSEADDR, 1)\n    server.setsockopt(SOL_SOCKET, SO_BROADCAST, 1)\n    server.bind(('', 8090))\n    while True:\n            # sending a messgae to client port with broadcast IP\n            message = str.encode(\"12000\")\n            server.sendto(message, ('&lt;broadcast&gt;', 8090))\n            print(\"Sent packet with message: \", message)\n            time.sleep(1)\n            content, addr = server.recvfrom(1024)\n            sender_port = int(content.decode())\n\n            print(\"sender port: \", sender_port)\n            IP, port = addr\n            print(\"from: \", IP, port)\n\n     /////Arduino code:\n     const char* ssid = \"\";\n     const char* password = \"\";\n     int port = 8090;\n     char packetBuffer[255];\n     WiFiUDP udp;\n\n            void setup()\n    {\n    Serial.begin(115200);\n    WiFi.begin(ssid, password);\n    while (WiFi.status() != WL_CONNECTED) {\n    delay(2000);\n    Serial.println(\"...\");\n    }\n    udp.begin(port);\n    Serial.print(\"WiFi connected with IP: \");\n    Serial.println(WiFi.localIP());\n    }\n    void loop()\n    { \n    int packetSize = udp.parsePacket();\n    Serial.println(packetSize);\n\n    if (packetSize) {\n    int len = udp.read(packetBuffer, 255);\n    Serial.println(\"packet recieved\");\n    if (len &gt; 0) {\n  packetBuffer[len] = '\\0';\n}\n\nSerial.println(\"Server IP address is \");\nIPAddress remoteIp = udp.remoteIP();\nSerial.println(remoteIp);\n</code></pre>\n\n<p>the packet size is received is 0 and it should have the size and contents</p>\n"}, {"tags": ["python", "scikit-learn", "boosting"], "owner": {"reputation": 11, "user_id": 7454645, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/592a43bda55ae448fe3c9b3868ac33db?s=128&d=identicon&r=PG&f=1", "display_name": "Theoaf", "link": "https://stackoverflow.com/users/7454645/theoaf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 551, "favorite_count": 2, "answer_count": 0, "score": 1, "last_activity_date": 1557358473, "creation_date": 1557358473, "question_id": 56050319, "link": "https://stackoverflow.com/questions/56050319/how-to-get-predict-probabilities-from-sklearn-gradient-boosting-classifier-using", "title": "How to get predict probabilities from Sklearn Gradient Boosting Classifier using individual estimators?", "body": "<p>I'm trying to find out how sklearn's gradient boosting classifier makes predictions from the different estimators.</p>\n\n<p>I want to translate the sklearn model into base python to perform predictions. I know how to get the individual estimators from the model but I do not know how get from those individual estimator scores to the final probability predictions made by the ensembled model. I believe there is a sigmoid function or something but I can't work out what.</p>\n\n<pre><code>GBC = GradientBoostingClassifier(n_estimators=1)\nGBC.fit(x_train, y_train, sample_weight=None)\nGBC.predict_proba(np.array(x_test.iloc[0]).reshape(1,-1))\n</code></pre>\n\n<p>this returns the probabilities: <code>array([[0.23084247, 0.76915753]])</code>\nbut when I run:</p>\n\n<pre><code>Sole_estimator = GBC.estimators_[0][0]\nSole_estimator.predict(np.array(x_test.iloc[0]).reshape(1,-1)) \n</code></pre>\n\n<p>which returns <code>array([1.34327168])</code>\napplying scipy's expit to the output</p>\n\n<pre><code>expit(Sole_estimator.predict(np.array(x_test.iloc[0]).reshape(1,-1)))\n</code></pre>\n\n<p>I get:</p>\n\n<pre><code>array([0.79302745])\n</code></pre>\n\n<p>I believe the <code>.init_</code> estimator contributes to the predictions but havent found out how. I would also appreciate any indication about how the predictions are made with > 1 n_estimators - if it varies.</p>\n\n<p>Thanks :)</p>\n"}, {"tags": ["python", "html", "beautifulsoup"], "comments": [{"owner": {"reputation": 1918, "user_id": 8961316, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YzXbi.jpg?s=128&g=1", "display_name": "0xInfection", "link": "https://stackoverflow.com/users/8961316/0xinfection"}, "edited": false, "score": 1, "creation_date": 1557363134, "post_id": 56050315, "comment_id": 98742754, "body": "Can you post the entire code? Only this chunk isn&#39;t helping much."}, {"owner": {"reputation": 71123, "user_id": 6241235, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/dCxzx.png?s=128&g=1", "display_name": "QHarr", "link": "https://stackoverflow.com/users/6241235/qharr"}, "edited": false, "score": 0, "creation_date": 1557379092, "post_id": 56050315, "comment_id": 98746084, "body": "Is there a part number we are supposed to be entering?"}], "answers": [{"comments": [{"owner": {"reputation": 15, "user_id": 11335959, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/--WoBevLHdQ0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reOLsCtyh8pOPMiOGqBnvPHg-nOKg/mo/photo.jpg?sz=128", "display_name": "Nate", "link": "https://stackoverflow.com/users/11335959/nate"}, "edited": false, "score": 0, "creation_date": 1557439502, "post_id": 56060343, "comment_id": 98776100, "body": "I am having a dickens of a time getting additional pages to propagate. I have tried sending the appropriate parameters, and it gets the page, but it has no content. Any thoughts?"}, {"owner": {"reputation": 37454, "user_id": 4985733, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/r7daF.jpg?s=128&g=1", "display_name": "Martin Evans", "link": "https://stackoverflow.com/users/4985733/martin-evans"}, "reply_to_user": {"reputation": 15, "user_id": 11335959, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/--WoBevLHdQ0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reOLsCtyh8pOPMiOGqBnvPHg-nOKg/mo/photo.jpg?sz=128", "display_name": "Nate", "link": "https://stackoverflow.com/users/11335959/nate"}, "edited": false, "score": 0, "creation_date": 1557472846, "post_id": 56060343, "comment_id": 98784007, "body": "The next page URL is a variation on the initial POST request. I have updated the script to show you how to do it. Also it is probably best to use <code>requests.Session()</code>"}], "tags": [], "owner": {"reputation": 37454, "user_id": 4985733, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/r7daF.jpg?s=128&g=1", "display_name": "Martin Evans", "link": "https://stackoverflow.com/users/4985733/martin-evans"}, "is_accepted": true, "score": 0, "last_activity_date": 1557472753, "last_edit_date": 1557472753, "creation_date": 1557407933, "answer_id": 56060343, "question_id": 56050315, "link": "https://stackoverflow.com/questions/56050315/how-to-pull-values-from-a-table-with-no-defining-characteristics/56060343#56060343", "title": "How to pull values from a table with no defining characteristics?", "body": "<p>One approach would be to find the <code>Qty.</code> which is an element at the start of the table you want and to then look for the previous table. You could then iterate over the <code>tr</code> elements and produce a row of values from all the <code>td</code> elements in each row.</p>\n\n<p>The Python <a href=\"https://docs.python.org/3/library/operator.html?highlight=itemgetter#operator.itemgetter\" rel=\"nofollow noreferrer\"><code>itemgetter()</code></a> function could be useful here, as it lets you extract the elements you want (in any order) from a bigger list. In this example, I have chosen items <code>1,2,3,4,5</code>, but if say <code>Make</code> wasn't needed, you could provide <code>1,3,4,5</code>.</p>\n\n<p>The search results might have multiple pages of results, if this is the case it checks for a <code>Next Page</code> button and if present adjusts <code>params</code> to get the next page of results. This continues until no next page is found:</p>\n\n<pre><code>from operator import itemgetter\nimport requests\nfrom bs4 import BeautifulSoup\nimport csv\n\n\nsearch_term = \"AT2*\"\n\nparams = {\n    \"userAction\" : \"search\",\n    \"browse\" : \"\",\n    \"screenName\" : \"partSearch\",\n    \"priceIdx\" : 1,\n    \"searchAppType\" : \"\",\n    \"searchType\" : \"search\",\n    \"partSearchNumber\" : search_term,\n    \"pageIndex\" : 1,\n    \"endPageIndex\" : 100,\n}\n\nurl = 'https://jdparts.deere.com/servlet/com.deere.u90.jdparts.view.servlets.searchcontroller.PartNumberSearch'\nreq_fields = itemgetter(1, 2, 3, 4, 5)\npage_index = 1\nsession = requests.Session()\nstart_row = 0\n\nwith open('output.csv', 'w', newline='') as f_output:\n    csv_output = csv.writer(f_output)\n\n    while True:\n        print(f'Page {page_index}')\n\n        req = session.post(url, params=params)\n        soup = BeautifulSoup(req.content, 'html.parser')\n        table = soup.find(text='Qty.').find_previous('table')\n\n        for tr in table.find_all('tr')[start_row:]:\n            row = req_fields([value.get_text(strip=True) for value in tr.find_all('td')])\n\n            if row[0]:\n                csv_output.writerow(row)\n\n        if soup.find(text='Next Page'):\n            start_row = 2\n\n            params = {\n                \"userAction\" : \"NextPage\",\n                \"browse\" : \"NextPage\",\n                \"pageIndex\" : page_index,\n                \"endPageIndex\" : 15,\n            }\n            page_index += 1\n\n        else:\n            break\n</code></pre>\n\n<p>Which would give you an <code>output.csv</code> file starting:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Part Number,Make,Part No.,Part Type,Description\nAT2,Kralinator,PMTF15013,Filters,Filter\nAT2,Kralinator,PMTF15013J,Filters,Filter\nAT20,Berco,T139464,Undercarriage All Makes,Spring Pin\nAT20061,A&amp;I Products,A-RE29882,Clutch,Clutch Disk\n</code></pre>\n\n<p>Note: This makes use of <code>requests</code> instead of using <code>selenium</code> as it will be much faster.</p>\n"}], "owner": {"reputation": 15, "user_id": 11335959, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/--WoBevLHdQ0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reOLsCtyh8pOPMiOGqBnvPHg-nOKg/mo/photo.jpg?sz=128", "display_name": "Nate", "link": "https://stackoverflow.com/users/11335959/nate"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "accepted_answer_id": 56060343, "answer_count": 1, "score": 0, "last_activity_date": 1557472753, "creation_date": 1557358408, "question_id": 56050315, "link": "https://stackoverflow.com/questions/56050315/how-to-pull-values-from-a-table-with-no-defining-characteristics", "title": "How to pull values from a table with no defining characteristics?", "body": "<p>I am trying to pull part numbers from a cross-reference website but when I inspect the element the only tags used around the table are tr, td, tbody, and table, which are used many other places on the page. Currently I am using Beautiful soup and selenium, and I am looking into using lxml.html for its xpath tool, but I cant seem to get beautiful soup to work with it. </p>\n\n<p>The website I trying to pull values from is \n<a href=\"https://jdparts.deere.com/servlet/com.deere.u90.jdparts.view.servlets.searchcontroller.PartialPartNumberSearchController?action=UNSIGNED_VIEW\" rel=\"nofollow noreferrer\">https://jdparts.deere.com/servlet/com.deere.u90.jdparts.view.servlets.searchcontroller.PartialPartNumberSearchController?action=UNSIGNED_VIEW</a>\nand technically I only want the Part Number, Make, Part No, Part Type, and Description Values, but I can deal with getting the whole table. </p>\n\n<p>When I use</p>\n\n<pre><code>html2 = browser.page_source\nsource = soup(html2, 'html.parser')\nfor article in source.find_all('td', valign='middle'):\n    PartNumber = article.text.strip()\n        number.append(PartNumber)\n</code></pre>\n\n<p>it gives me all the values on the page and several blank values all in a single line of text, which would be just as much work to sift through as just manually pulling the values.</p>\n\n<p>Ultimately I am hoping to get the values in the table and formatted to look like the table and I can just delete the columns I don't need. What would be the best way to go about gathering the information in the table?</p>\n"}, {"tags": ["python", "python-3.x", "tkinter"], "comments": [{"owner": {"reputation": 35578, "user_id": 3000206, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/BK1fo.jpg?s=128&g=1", "display_name": "Carcigenicate", "link": "https://stackoverflow.com/users/3000206/carcigenicate"}, "edited": false, "score": 3, "creation_date": 1557358462, "post_id": 56050313, "comment_id": 98741898, "body": "You&#39;re missing a closing bracket on the previous line."}, {"owner": {"reputation": 3, "user_id": 11345091, "user_type": "registered", "profile_image": "https://graph.facebook.com/2208678959155537/picture?type=large", "display_name": "\u03a3\u03c4\u03ad\u03bb\u03b9\u03bf\u03c2 \u039c\u03bf\u03c5\u03b6\u03bf\u03c5\u03c1\u03ac\u03ba\u03b7\u03c2", "link": "https://stackoverflow.com/users/11345091/%ce%a3%cf%84%ce%ad%ce%bb%ce%b9%ce%bf%cf%82-%ce%9c%ce%bf%cf%85%ce%b6%ce%bf%cf%85%cf%81%ce%ac%ce%ba%ce%b7%cf%82"}, "reply_to_user": {"reputation": 35578, "user_id": 3000206, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/BK1fo.jpg?s=128&g=1", "display_name": "Carcigenicate", "link": "https://stackoverflow.com/users/3000206/carcigenicate"}, "edited": false, "score": 0, "creation_date": 1557358574, "post_id": 56050313, "comment_id": 98741924, "body": "No, i am not, i have checked the whole code for brackets."}, {"owner": {"reputation": 35578, "user_id": 3000206, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/BK1fo.jpg?s=128&g=1", "display_name": "Carcigenicate", "link": "https://stackoverflow.com/users/3000206/carcigenicate"}, "edited": false, "score": 2, "creation_date": 1557358630, "post_id": 56050313, "comment_id": 98741934, "body": "Yes you are. You&#39;re missing the closing bracket to the call to <code>showinfo</code> after &quot;\u03ba\u03c5\u03b2\u03b9\u03ba\u03ac \u03c4\u03c3\u03b9\u03bc\u03ad\u03bd\u03c4\u03bf\u03c5&quot;. You&#39;re missing the closing bracket for <code>join</code> too as well actually on the same line."}, {"owner": {"reputation": 3, "user_id": 11345091, "user_type": "registered", "profile_image": "https://graph.facebook.com/2208678959155537/picture?type=large", "display_name": "\u03a3\u03c4\u03ad\u03bb\u03b9\u03bf\u03c2 \u039c\u03bf\u03c5\u03b6\u03bf\u03c5\u03c1\u03ac\u03ba\u03b7\u03c2", "link": "https://stackoverflow.com/users/11345091/%ce%a3%cf%84%ce%ad%ce%bb%ce%b9%ce%bf%cf%82-%ce%9c%ce%bf%cf%85%ce%b6%ce%bf%cf%85%cf%81%ce%ac%ce%ba%ce%b7%cf%82"}, "reply_to_user": {"reputation": 35578, "user_id": 3000206, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/BK1fo.jpg?s=128&g=1", "display_name": "Carcigenicate", "link": "https://stackoverflow.com/users/3000206/carcigenicate"}, "edited": false, "score": 0, "creation_date": 1557358857, "post_id": 56050313, "comment_id": 98741977, "body": "You are right. I&#39;m over one hour stuck to this and i couldn&#39;t find what was wrong. Thank you so much."}, {"owner": {"reputation": 35578, "user_id": 3000206, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/BK1fo.jpg?s=128&g=1", "display_name": "Carcigenicate", "link": "https://stackoverflow.com/users/3000206/carcigenicate"}, "edited": false, "score": 3, "creation_date": 1557358956, "post_id": 56050313, "comment_id": 98741997, "body": "Just a tip, if you have a non-nonsensical syntax error on a line, it usually means you&#39;re missing a closing brace/quote on the previous line. It&#39;s a very common error."}, {"owner": {"reputation": 2011, "user_id": 9445557, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0ybcW.gif?s=128&g=1", "display_name": "Artemis", "link": "https://stackoverflow.com/users/9445557/artemis"}, "edited": false, "score": 1, "creation_date": 1557411946, "post_id": 56050313, "comment_id": 98763407, "body": "As to the miscolouring, make sure the file is saved with <code>.py</code> or <code>.pyw</code> extension."}], "owner": {"reputation": 3, "user_id": 11345091, "user_type": "registered", "profile_image": "https://graph.facebook.com/2208678959155537/picture?type=large", "display_name": "\u03a3\u03c4\u03ad\u03bb\u03b9\u03bf\u03c2 \u039c\u03bf\u03c5\u03b6\u03bf\u03c5\u03c1\u03ac\u03ba\u03b7\u03c2", "link": "https://stackoverflow.com/users/11345091/%ce%a3%cf%84%ce%ad%ce%bb%ce%b9%ce%bf%cf%82-%ce%9c%ce%bf%cf%85%ce%b6%ce%bf%cf%85%cf%81%ce%ac%ce%ba%ce%b7%cf%82"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 45, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1557413924, "creation_date": 1557358394, "last_edit_date": 1557413924, "question_id": 56050313, "link": "https://stackoverflow.com/questions/56050313/why-am-i-getting-a-syntax-error-in-my-function-definition", "title": "Why am I getting a syntax error in my function definition?", "body": "<p>When I'm trying to define a function, even the colour of the function (in my editor), doesn't turn bright. It's like I am missing something, but I don't know what. I've used the same <code>def</code> in another code and works.</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>def calculate():\n    try:\n        f1=float(sum(k))\n        f2=float(sum(v))\n        final= f1 - f2\n        tkinter.messagebox.showinfo(\"\u0391\u03c0\u03bf\u03c4\u03ad\u03bb\u03b5\u03c3\u03bc\u03b1\", message =\" \".join(\"\u0393\u03b9\u03b1 \u03c4\u03b7\u03bd \u03ba\u03b1\u03c4\u03b1\u03c3\u03ba\u03b5\u03c5\u03ae, \u03c7\u03c1\u03b5\u03b9\u03ac\u03b6\u03bf\u03bd\u03c4\u03b1\u03b9 \"+str(final)+\"\u03ba\u03c5\u03b2\u03b9\u03ba\u03ac \u03c4\u03c3\u03b9\u03bc\u03ad\u03bd\u03c4\u03bf\u03c5\"\n    except (tkinter.TclError, ZeroDivisionError):\n        tkinter.messagebox.showwarning(\"\u039b\u03ac\u03b8\u03bf\u03c2 \u03a3\u03c4\u03bf\u03b9\u03c7\u03b5\u03af\u03b1\", message=\"\u0395\u03bb\u03ad\u03b3\u03be\u03c4\u03b5 \u03c0\u03ac\u03bb\u03b9 \u03c4\u03b1 \u03c3\u03c4\u03bf\u03b9\u03c7\u03b5\u03af\u03b1 \u03c0\u03bf\u03c5 \u03b5\u03b9\u03c3\u03ac\u03b3\u03b1\u03c4\u03b5.\")\n</code></pre>\n\n<p>When I run the code, I get the following error:</p>\n\n<pre><code>except (tkinter.TclError, ZeroDivisionError):\n         ^\nSyntaxError: invalid syntax\n</code></pre>\n"}, {"tags": ["python", "pandas", "dataframe", "time-series"], "answers": [{"tags": [], "owner": {"reputation": 1323, "user_id": 10642364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca8a8f956df00c66f486e255d846271e?s=128&d=identicon&r=PG", "display_name": "Ethan", "link": "https://stackoverflow.com/users/10642364/ethan"}, "is_accepted": true, "score": 0, "last_activity_date": 1557363967, "last_edit_date": 1557363967, "creation_date": 1557360270, "answer_id": 56050492, "question_id": 56050277, "link": "https://stackoverflow.com/questions/56050277/how-to-add-timestamp-indexes-to-a-dataframe-at-minute-intervals/56050492#56050492", "title": "How to add timestamp indexes to a dataframe at minute intervals", "body": "<p>When you set your index you should be able to pass in the parameter freq=\u2018T\u2019 along with the range of timestamps that you require. </p>\n\n<p>More detail:\nWith your index set to your datetime you can build an index per minute on your desired datetime range</p>\n\n<pre><code>start = pd.datetime(2019, 5, 7, 5)\nend = pd.datetime(2019, 5, 7, 6)\nmyIndex = pd.date_range(start, end, freq=\u2018T\u2019)\ndf.reindex(myIndex)\n</code></pre>\n"}], "owner": {"reputation": 17, "user_id": 10958572, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58dc1a7fb13e71bac6e25e1f0b4c8704?s=128&d=identicon&r=PG&f=1", "display_name": "tahsinac", "link": "https://stackoverflow.com/users/10958572/tahsinac"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 344, "favorite_count": 1, "accepted_answer_id": 56050492, "answer_count": 1, "score": 0, "last_activity_date": 1557363967, "creation_date": 1557358011, "question_id": 56050277, "link": "https://stackoverflow.com/questions/56050277/how-to-add-timestamp-indexes-to-a-dataframe-at-minute-intervals", "title": "How to add timestamp indexes to a dataframe at minute intervals", "body": "<p>I hae a dataframe with timestamp as index. i want to add more rows to the beginning and the end of the dataset at minute intervals. eg. if the data set starts at 6: 00 am, I want entries from 5 00 am to 6 00 am at the start of the dataset for every minute.</p>\n"}, {"tags": ["python", "django-admin"], "answers": [{"tags": [], "owner": {"reputation": 2139, "user_id": 7728887, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-HJESqP045kA/AAAAAAAAAAI/AAAAAAAADeI/Ahy3rr7Png8/photo.jpg?sz=128", "display_name": "C.K.", "link": "https://stackoverflow.com/users/7728887/c-k"}, "is_accepted": true, "score": 0, "last_activity_date": 1557357991, "creation_date": 1557357991, "answer_id": 56050275, "question_id": 56050274, "link": "https://stackoverflow.com/questions/56050274/show-model-fields-with-table-in-django-admins-change-page/56050275#56050275", "title": "Show model fields with Table in Django Admin&#39;s Change Page", "body": "<blockquote>\n  <p>Django 2.1.7 &amp; Python 3.7</p>\n</blockquote>\n\n<p>I'm new to Django, so pls advice if anything incorrect, thanks!</p>\n\n<p><strong>Solution Result:</strong></p>\n\n<ol>\n<li><p><strong>In Changelist Page</strong>  </p>\n\n<p>Add a link to <strong>Original Chang Page</strong> and use original link to go to the customized <strong>Change Page</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/Ni9yT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ni9yT.png\" alt=\"enter image description here\"></a></p></li>\n<li><p><strong>Original Change Page</strong>, similar to the <strong>Add page</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/Are7I.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Are7I.png\" alt=\"enter image description here\"></a></p></li>\n<li><p>New <strong>Customized Change Page</strong> for inline adding use</p>\n\n<p><a href=\"https://i.stack.imgur.com/U3uBc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/U3uBc.png\" alt=\"enter image description here\"></a></p></li>\n</ol>\n\n<p><strong>Procedure</strong></p>\n\n<ol>\n<li>Setup ProjectAdmin and add a link field to <strong>Original <em>Change Page</em></strong></li>\n</ol>\n\n<pre class=\"lang-py prettyprint-override\"><code>class ProjectAdmin(BaseAdmin):\n    list_display = ('id', 'name', 'constructor', 'client',\n                    'total_amount', 'edit_tag',\n    readonly_fields = ('total_amount', 'order_form', 'project_info_table')\n    # for add and edit use\n    default_fields = (\n        'name',\n        'constructor',\n        'client',\n        'total_amount',\n    )\n    # for review and add inline use\n    default_fieldset = (\n        ('\u5de5\u7a0b\u9879\u76ee\u4fe1\u606f', {\n            'fields': ('project_info_table',)\n        }),\n        ('\u62a5\u4ef7\u5355', {\n            'classes': ('collapse',),\n            'fields': ('order_form',),\n        }),\n    )\n\n    # a link to orginal Change Page\n    def edit_tag(self, obj):\n        return mark_safe(\n            f'&lt;a href=\"{obj.get_absolute_url()}?edit=True\"&gt;Edit&lt;/a&gt;'\n        )\n\n    edit_tag.short_description = 'Edit'\n</code></pre>\n\n<ol start=\"2\">\n<li>Add method to ModelAdmin to generate Table Html with field values</li>\n</ol>\n\n<pre class=\"lang-py prettyprint-override\"><code>class Project(BaseModel):\n     # ....\n    # generate table1 html\n     def project_info_table(self):\n             # just one row, use thead only instead of a whole table\n        table = \"\"\"\n           &lt;table style=\"width:100%\"&gt;\n               &lt;thead&gt;\n               &lt;tr&gt;\n                   &lt;th&gt;Project name&lt;/th&gt;\n                   &lt;th&gt;Constructor&lt;/th&gt;\n                   &lt;th&gt;Client&lt;/th&gt;\n                   &lt;th&gt;Total amount&lt;/th&gt;\n               &lt;/tr&gt;\n               &lt;/thead&gt;\n               &lt;tbody&gt;\n               &lt;tr&gt;\n                   &lt;td&gt;{}&lt;/td&gt;\n                   &lt;td&gt;{}&lt;/td&gt;\n                   &lt;td&gt;{}&lt;/td&gt;\n                   &lt;td&gt;{}&lt;/td&gt;\n                &lt;/tr&gt;\n               &lt;/tbody&gt;\n           &lt;/table&gt;\n           \"\"\"\n        return format_html(\n            table,\n            self.name,\n            self.constructor,\n            self.client,\n            self.total_amount()\n        )\n\n    project_info_table.short_description = '\u5de5\u7a0b\u4fe1\u606f\u8868'\n\n    # generate table2 html\n    def order_form(self):\n        table = \"\"\"\n            &lt;table style=\"width:100%\"&gt;\n                &lt;thead&gt;\n                &lt;tr&gt;\n                    &lt;th&gt;\u6807\u53f7&lt;/th&gt;\n                    &lt;th&gt;\u7c7b\u578b&lt;/th&gt;\n                    &lt;th&gt;\u6cf5\u9001&lt;/th&gt;\n                    &lt;th&gt;\u81ea\u5378&lt;/th&gt;\n                &lt;/tr&gt;\n                &lt;/thead&gt;\n                &lt;tbody&gt;{}{}&lt;/tbody&gt;\n            &lt;/table&gt;\n            \"\"\"\n        return format_html(\n            table,\n\n             # format_html_join can repeat the row with the values\n             # from a iterator\n            format_html_join(\n                '\\n', \"&lt;tr&gt;&lt;td&gt;{}&lt;/td&gt;&lt;td&gt;{}&lt;/td&gt;&lt;td&gt;{}&lt;/td&gt;&lt;td&gt;{}&lt;/td&gt;&lt;/tr&gt;\",\n                ((\n                    p.grade, p.type, p.pumpcrete, p.dumpcrete\n                ) for p in self.products.all().order_by(\n                    '-grade', 'type', 'pumpcrete'\n                ))\n            ),\n            format_html(\"&lt;tr&gt;&lt;td&gt;\u6cf5\u9001\u65b9\u6570\u4f4e\u4e8e\uff1a{}&lt;/td&gt;&lt;td&gt;\u52a0\u51fa\u6cf5\u8d39\uff1a{}&lt;/td&gt;&lt;td&gt;\u65b9\u6570\u4f4e\u4e8e\uff1a{}&lt;/td&gt;&lt;td&gt;\u52a0\u7a7a\u8f7d\u8d39\uff1a{}&lt;/td&gt;&lt;/tr&gt;\",\n                        self.min_cube_pump,\n                        self.price_pump,\n                        self.min_cube_extra,\n                        self.price_extra\n                        )\n        )\n\n    order_form.short_description = '\u5408\u540c\u62a5\u4ef7\u5355'    \n\n    # another readonly field\n    def total_amount(self):\n        result = self.transaction_set.filter(\n          is_deleted=False\n        ).aggregate(\n            Sum('total_price')\n        )['total_price__sum'] or 0\n        return '\u00a5 {:,}'.format(result)\n</code></pre>\n\n<ol start=\"3\">\n<li>If want to keep the original <strong>Change Page</strong> and the above <strong>Inline Change Page</strong>, override change_view method in admin to show</li>\n</ol>\n\n<pre class=\"lang-py prettyprint-override\"><code>class ProjectAdmin(BaseAdmin):\n     ....\n\n    # different fields and inline according to GET method's parameter\n    # need to reset fields and fieldset in different view\n\n    def change_view(self, request, object_id, form_url='',\n                    extra_context=None):\n         if request.GET.get('edit', False):\n            # Show original Change Page\n\n             # Don't use fieldset cause it's only for customized page\n            self.fieldsets = None\n            self.fields = self.default_fields\n            # able to user different inline for different page\n            self.inlines = [DocumentInline]\n        else:\n            # Show customized page\n\n            # don't sue fields use fieldset instead\n            self.fields = None\n            self.fieldsets = self.default_fieldset\n            # use another inline for customized page\n            self.inlines = [TransactionInline]\n        return super().change_view(request, object_id,\n                                   extra_context=extra_context)\n\n     def add_view(self, request, form_url='', extra_context=None):\n        self.fieldsets = None\n        self.fields = self.default_fields\n        self.inlines = [DocumentInline]\n        return super(ProjectAdmin, self).add_view(request)\n</code></pre>\n"}], "owner": {"reputation": 2139, "user_id": 7728887, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-HJESqP045kA/AAAAAAAAAAI/AAAAAAAADeI/Ahy3rr7Png8/photo.jpg?sz=128", "display_name": "C.K.", "link": "https://stackoverflow.com/users/7728887/c-k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 416, "favorite_count": 0, "accepted_answer_id": 56050275, "answer_count": 1, "score": 0, "last_activity_date": 1557357991, "creation_date": 1557357991, "question_id": 56050274, "link": "https://stackoverflow.com/questions/56050274/show-model-fields-with-table-in-django-admins-change-page", "title": "Show model fields with Table in Django Admin&#39;s Change Page", "body": "<p><strong>Problem:</strong></p>\n\n<blockquote>\n  <p>I have a project model and its inline models lets say <em>InlineModel_1</em> and <em>InlineModel_2</em>.</p>\n  \n  <p>I want the Project's Add &amp; Change pages can create or edit the Project's fields and <em>InlineModel_1</em>.  </p>\n  \n  <p>Besides, I want an extra <em>Change Page</em> specific for review the Project info and edit <em>InlineModel_2</em></p>\n</blockquote>\n"}, {"tags": ["php", "python", "html"], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user10051234"}, "is_accepted": true, "score": 1, "last_activity_date": 1557360592, "creation_date": 1557360592, "answer_id": 56050522, "question_id": 56050263, "link": "https://stackoverflow.com/questions/56050263/how-to-activate-a-python-script-with-php-and-not-have-the-page-load-while-time-s/56050522#56050522", "title": "How to activate a python script with php and not have the page load while time.sleep is going", "body": "<p>by default exec (shell_exec($command);) is blocking, to make it run in the background you have to deal with the output assuming you don't want it, we just throw it into the void (null)</p>\n\n<pre><code>shell_exec(\"$command &gt; /dev/null 2&gt;/dev/null &amp;\");\n</code></pre>\n"}], "owner": {"reputation": 96, "user_id": 9459594, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mDFYg.png?s=128&g=1", "display_name": "Mason Horder", "link": "https://stackoverflow.com/users/9459594/mason-horder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "accepted_answer_id": 56050522, "answer_count": 1, "score": 0, "last_activity_date": 1557360592, "creation_date": 1557357883, "question_id": 56050263, "link": "https://stackoverflow.com/questions/56050263/how-to-activate-a-python-script-with-php-and-not-have-the-page-load-while-time-s", "title": "How to activate a python script with php and not have the page load while time.sleep is going", "body": "<p>Using php and python I want to activate a python script, zone_on.py. My code works fine but whenever the php if statement is set my page loads and is not useable for the entire length of the python script. I want the script to be activated then the php goes back to working while the python script executes.\nHere is my php if statement:</p>\n\n<pre><code>$zone_on = $_GET['on'];\nif (isset($zone_on)){\n  $command = escapeshellcmd(\"python zone_on.py --zone $zone_on\");\n  shell_exec($command);\n  // echo $output;\n\n} \n</code></pre>\n\n<p>and here is my python script named zone_on.py</p>\n\n<pre><code>import time\nimport argparse\nimport mysql.connector\n\n\nnumber_of_zones = 7\nap = argparse.ArgumentParser()\nap.add_argument(\"-z\", \"--zone\", type=str, required=True,\n    help=\"zone number to turn on\")\nargs = vars(ap.parse_args())\n\n\n\nzone = [8, 7, 10, 9, 14, 15, 18, 23, 24, 25]\n\n\n#time to run each zone\nzone1_time = 100\nzone2_time = 2\nzone3_time = 2\nzone4_time = 2\nzone5_time = 2\nzone6_time = 2\n\n\nzone1  = [zone[0], zone1_time, 1]\n\nzone2  = [zone[1], zone2_time, 2]\n\nzone3 = [zone[2], zone3_time, 3]\n\nzone4 = [zone[3], zone4_time, 4]\n\nzone5 = [zone[4], zone5_time, 5]\n\nzone6 = [zone[5], zone6_time, 6]\n\n\n\nzone_num = args[\"zone\"]\n\ndef openCloseValves(valve, zone_time, zone_num):\n        print \"Opening Zone\", zone_num,\"for\",zone_time,\"seconds\"\n        time.sleep(1.0)\n        # GPIO.setup(valve, GPIO.OUT)\n        print(\"Open\")# GPIO.output(valve, GPIO.LOW)    # Open valve\n        time.sleep(zone_time)\n        print(\"Closed\")\n        # GPIO.output(valve, GPIO.HIGH)   # Close valve\n        time.sleep(1.0)\n\n\ndef run_sprinklers():\n    if zone_num == \"1\":\n        openCloseValves(zone1[0],zone1[1], zone1[2])\n    if zone_num == \"2\":\n        openCloseValves(zone2[0],zone2[1], zone2[2])\n    if zone_num == \"3\":\n        openCloseValves(zone3[0],zone3[1], zone3[2])\n    if zone_num == \"4\":\n        openCloseValves(zone4[0],zone4[1], zone4[2])\n    if zone_num == \"5\":\n        openCloseValves(zone5[0],zone5[1], zone5[2])\n    if zone_num == \"6\":\n        openCloseValves(zone6[0],zone6[1], zone6[2])\n\nrun_sprinklers()\n</code></pre>\n"}, {"tags": ["python", "qtextedit", "pyside2"], "comments": [{"owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 0, "creation_date": 1557369999, "post_id": 56050260, "comment_id": 98744092, "body": "I observe the same behavior in both cases, you could show images of both cases."}, {"owner": {"reputation": 22865, "user_id": 840947, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c9578f9865cd3433f0973aa78492a13?s=128&d=identicon&r=PG", "display_name": "Heike", "link": "https://stackoverflow.com/users/840947/heike"}, "edited": false, "score": 2, "creation_date": 1557386548, "post_id": 56050260, "comment_id": 98749082, "body": "To always get the text at the desired width you could try <code>QTextEdit.setLineWrapMode(QTextEdit.FixedPixelWidth)</code> in combination with <code>QTextEdit.setLineWrapColumnOrWidth()</code> in <code>IPageEdit.__init__()</code>."}], "answers": [{"tags": [], "owner": {"reputation": 590, "user_id": 4260902, "user_type": "registered", "accept_rate": 78, "profile_image": "https://graph.facebook.com/100000665496061/picture?type=large", "display_name": "Michael Choi", "link": "https://stackoverflow.com/users/4260902/michael-choi"}, "is_accepted": false, "score": 0, "last_activity_date": 1557419802, "creation_date": 1557419802, "answer_id": 56063950, "question_id": 56050260, "link": "https://stackoverflow.com/questions/56050260/qtextedits-qtextdocument-failing-to-resize-page-after-settext/56063950#56063950", "title": "QTextEdit&#39;s QTextDocument failing to resize page after SetText", "body": "<p>Based on @Heike 's response, the solution was as simple as adding this line of code:</p>\n\n<pre><code>class IPageEdit(QTextEdit):\n    def __init__(self, parent=None):\n        super().__init__(parent)\n        self.setLineWrapMode(QTextEdit.FixedPixelWidth)\n        ...\n</code></pre>\n\n<p>This yields the correct resizing behavior and the pageSize retains its value after resizing.</p>\n"}], "owner": {"reputation": 590, "user_id": 4260902, "user_type": "registered", "accept_rate": 78, "profile_image": "https://graph.facebook.com/100000665496061/picture?type=large", "display_name": "Michael Choi", "link": "https://stackoverflow.com/users/4260902/michael-choi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 137, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1557419802, "creation_date": 1557357857, "last_edit_date": 1557419582, "question_id": 56050260, "link": "https://stackoverflow.com/questions/56050260/qtextedits-qtextdocument-failing-to-resize-page-after-settext", "title": "QTextEdit&#39;s QTextDocument failing to resize page after SetText", "body": "<p>Disclaimer: I am using <code>PySide2</code>; however, any answer in Qt (<code>pyqt5</code>, <code>Qt</code> c++) is fine.</p>\n\n<p>I am having an issue with setting the size of my document in a textedit.</p>\n\n<p>When I initialize a <code>QTextEdit</code> with <code>setText(text:QString)</code>, the sizing behavior of <code>QTextEdit</code>'s <code>QTextDocument</code> changes. Consequentially applying <code>setPageSize</code> is ignored, unless the text bleeds over the widget's viewport.</p>\n\n<p>If I do not <code>setText</code> initially, then the document sizing is correctly accounted for, whether or not I resize the window.</p>\n\n<p>Below is a minimal example of the strange behaviour I've been experiencing. If you run the code, then try resizing the window and you will see the pageSize is accounted for when the text exceeds the widget; however, if not then the <code>QTextEdit</code>'s pageSize will match its width and its height be -1.</p>\n\n<p>If you turn off <code>SET_TEXT_TEST</code> then there are no problems from the get go. If there are any explanations or workarounds I would love to hear.</p>\n\n<pre><code>import PySide2\nfrom PySide2.QtGui import *\nfrom PySide2.QtWidgets import *\nfrom PySide2.QtCore import *\nfrom PySide2.QtPrintSupport import *\n\nSET_TEXT_TEST = True\n\n\nclass IPageEdit(QTextEdit):\n    def __init__(self, parent=None):\n        super().__init__(parent)\n        # these lines don't seem to do anything\n        doc = self.document()\n        pageSize = QPageSize(QPageSize.A6).size(QPageSize.Point)\n        doc.setPageSize(QPageSize(QPageSize.A6).size(QPageSize.Point))\n\n    def paintEvent(self, event):\n        doc = self.document()\n        pageSize = QPageSize(QPageSize.A6).size(QPageSize.Point)\n        doc.setPageSize(QPageSize(QPageSize.A6).size(QPageSize.Point))\n\n        print('({},{})  ({},{})'.format(\n            pageSize.width(),\n            pageSize.height(),\n            doc.pageSize().width(),\n            doc.pageSize().height()))\n\n        painter = QPainter(self.viewport())\n        doc.drawContents(painter)\n\n\nclass IMainWindow(QMainWindow):\n    def __init__(self, parent=None):\n        super().__init__(parent)\n        self.resize(1000, 500)\n        self.setContentsMargins(20, 20, 20, 20)\n\n        pageEdit = IPageEdit(self)\n        if SET_TEXT_TEST:\n            pageEdit.setText('''\\\nLorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Velit aliquet sagittis id consectetur purus ut faucibus pulvinar elementum. Metus vulputate eu scelerisque felis imperdiet proin fermentum leo vel. Massa tincidunt nunc pulvinar sapien et ligula ullamcorper malesuada proin. Enim neque volutpat ac tincidunt vitae semper. Leo duis ut diam quam nulla porttitor massa id neque. Cras pulvinar mattis nunc sed blandit libero volutpat. Eleifend quam adipiscing vitae proin sagittis. Nulla facilisi cras fermentum odio eu feugiat pretium nibh. Tellus molestie nunc non blandit massa enim nec dui nunc. Eget nullam non nisi est sit amet. Sed odio morbi quis commodo odio aenean sed. Nibh ipsum consequat nisl vel pretium lectus quam id leo. Adipiscing diam donec adipiscing tristique risus nec. Sit amet consectetur adipiscing elit ut aliquam purus sit. Sed sed risus pretium quam. Elit pellentesque habitant morbi tristique senectus. Turpis egestas sed tempus urna.\n\nNunc aliquet bibendum enim facilisis gravida neque. Condimentum id venenatis a condimentum vitae sapien pellentesque habitant. Purus sit amet volutpat consequat mauris. Mauris in aliquam sem fringilla ut morbi tincidunt augue interdum. Ultrices mi tempus imperdiet nulla malesuada pellentesque elit. Dolor purus non enim praesent elementum facilisis leo vel. Donec adipiscing tristique risus nec. Non consectetur a erat nam. Fusce id velit ut tortor pretium. Sit amet nulla facilisi morbi tempus iaculis urna. Vel facilisis volutpat est velit egestas. Ac orci phasellus egestas tellus rutrum tellus pellentesque.\n\nTurpis tincidunt id aliquet risus feugiat in ante metus. Nibh ipsum consequat nisl vel pretium lectus quam id leo. Amet luctus venenatis lectus magna fringilla urna. Morbi blandit cursus risus at ultrices mi tempus imperdiet. Sit amet porttitor eget dolor. Nec ultrices dui sapien eget mi. Turpis massa tincidunt dui ut ornare lectus sit. Ac odio tempor orci dapibus. Et netus et malesuada fames ac turpis egestas integer. Morbi quis commodo odio aenean. Vulputate sapien nec sagittis aliquam malesuada. Lobortis mattis aliquam faucibus purus in. Sem fringilla ut morbi tincidunt. Volutpat commodo sed egestas egestas fringilla phasellus faucibus.\n\nTempor orci dapibus ultrices in iaculis nunc sed augue. Etiam sit amet nisl purus in mollis nunc sed. Nulla porttitor massa id neque aliquam vestibulum morbi. Nibh tortor id aliquet lectus proin. Venenatis urna cursus eget nunc scelerisque viverra mauris in. Volutpat odio facilisis mauris sit. Magna eget est lorem ipsum dolor sit amet consectetur. Lacinia quis vel eros donec ac odio tempor. Justo donec enim diam vulputate. Fringilla urna porttitor rhoncus dolor purus. In dictum non consectetur a erat nam at. Egestas erat imperdiet sed euismod nisi porta lorem. Scelerisque fermentum dui faucibus in ornare quam viverra orci. Lectus proin nibh nisl condimentum id venenatis a. Faucibus pulvinar elementum integer enim neque volutpat ac tincidunt. Habitasse platea dictumst quisque sagittis purus sit amet volutpat consequat. Enim sed faucibus turpis in.\n\nEu lobortis elementum nibh tellus molestie nunc non blandit. Dui id ornare arcu odio. Sit amet nisl purus in mollis nunc sed id semper. Senectus et netus et malesuada fames. Porttitor rhoncus dolor purus non enim praesent elementum. Amet est placerat in egestas erat imperdiet sed euismod. Mi tempus imperdiet nulla malesuada pellentesque elit eget. Tellus molestie nunc non blandit massa enim nec. Pellentesque eu tincidunt tortor aliquam nulla. Ut consequat semper viverra nam libero.\n''')\n        self.setCentralWidget(pageEdit)\n\n\nif __name__ == '__main__':\n    import sys\n\n    app = QApplication(sys.argv)\n    wnd = IMainWindow()\n    wnd.show()\n    sys.exit(app.exec_())\n</code></pre>\n\n<p>To demonstrate here are a few images:</p>\n\n<p>Page size width as ~1000\n<a href=\"https://i.stack.imgur.com/40iTX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/40iTX.png\" alt=\"Wide Window\"></a></p>\n\n<p>Page size width as 623.0\n<a href=\"https://i.stack.imgur.com/hoGj2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hoGj2.png\" alt=\"Window A No Wrap\"></a></p>\n\n<p>Page size width as 622.0\n<a href=\"https://i.stack.imgur.com/XXJEM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XXJEM.png\" alt=\"Window A Wrapped\"></a></p>\n"}, {"tags": ["python", "anaconda", "conda", "miniconda"], "comments": [{"owner": {"reputation": 13412, "user_id": 2449192, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/62cb5b405dc090d45eed0498dec02f52?s=128&d=identicon&r=PG", "display_name": "darthbith", "link": "https://stackoverflow.com/users/2449192/darthbith"}, "edited": false, "score": 2, "creation_date": 1557369620, "post_id": 56050217, "comment_id": 98744021, "body": "<code>conda env export</code>, save the .yml files, and <code>conda env create</code>."}, {"owner": {"reputation": 5254, "user_id": 24447, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da74b7df5db7590fc140329c62b3e498?s=128&d=identicon&r=PG", "display_name": "nekomatic", "link": "https://stackoverflow.com/users/24447/nekomatic"}, "edited": false, "score": 0, "creation_date": 1557403739, "post_id": 56050217, "comment_id": 98758593, "body": "Have you tried using <code>conda remove</code> to delete unwanted packages from your <code>base</code> environment? I&#39;ve never done this but I don&#39;t see why it wouldn&#39;t work. Check the docs with <code>conda remove -h</code> first."}], "answers": [{"comments": [{"owner": {"reputation": 672, "user_id": 1888794, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6f746415543ef07b74cf1f05cf6d87e3?s=128&d=identicon&r=PG", "display_name": "davzaman", "link": "https://stackoverflow.com/users/1888794/davzaman"}, "edited": false, "score": 0, "creation_date": 1557430293, "post_id": 56063972, "comment_id": 98772599, "body": "This is exactly what I needed, thanks! Just moved over and it was really quick and easy.  EDIT: How does it leverage hardlinks to minimize disk usage? It seems to be taking up a ton of space anyway."}, {"owner": {"reputation": 41290, "user_id": 570918, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/27ce5101af57acecf9a5fe563b6192b1?s=128&d=identicon&r=PG", "display_name": "merv", "link": "https://stackoverflow.com/users/570918/merv"}, "reply_to_user": {"reputation": 672, "user_id": 1888794, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6f746415543ef07b74cf1f05cf6d87e3?s=128&d=identicon&r=PG", "display_name": "davzaman", "link": "https://stackoverflow.com/users/1888794/davzaman"}, "edited": false, "score": 0, "creation_date": 1557431891, "post_id": 56063972, "comment_id": 98773277, "body": "@davzaman I tried to answer this <a href=\"https://stackoverflow.com/a/55602940/570918\">in another answer</a>."}, {"owner": {"reputation": 672, "user_id": 1888794, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6f746415543ef07b74cf1f05cf6d87e3?s=128&d=identicon&r=PG", "display_name": "davzaman", "link": "https://stackoverflow.com/users/1888794/davzaman"}, "edited": false, "score": 0, "creation_date": 1557529953, "post_id": 56063972, "comment_id": 98809723, "body": "thanks @merv!  To future people on this post: if you use Jupyter Lab and use envs as kernels, for some reason it fails to correct the path to the kernel (keeps anaconda3). Go to <code>~&#47;Library&#47;Jupyter&#47;kernels&#47;env&#47;kernel.json</code> and change the path there to <code>miniconda3</code> for all your envs."}], "tags": [], "owner": {"reputation": 41290, "user_id": 570918, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/27ce5101af57acecf9a5fe563b6192b1?s=128&d=identicon&r=PG", "display_name": "merv", "link": "https://stackoverflow.com/users/570918/merv"}, "is_accepted": true, "score": 4, "last_activity_date": 1607534709, "last_edit_date": 1607534709, "creation_date": 1557419918, "answer_id": 56063972, "question_id": 56050217, "link": "https://stackoverflow.com/questions/56050217/downsizing-from-anaconda-to-miniconda/56063972#56063972", "title": "Downsizing from Anaconda to Miniconda", "body": "<p>I agree with @darthbith: Export the envs to YAML files (<code>conda env export</code>) then recreate them once you have Miniconda installed (<code>conda env create</code>).</p>\n<p>While there are some experimental tools for packaging and moving envs (i.e., so you avoid having to redownload packages), they only work on a single env basis. So, I can't see how going this route one could avoid making multiple copies of many of the shared files.  Instead, if you let Conda handle the environment (re)creation, it will leverage hardlinks to minimize disk usage, and that seems to be one of your aims.</p>\n<p>It may be possible to avoid redownloading packages during the environment recreations by retaining the <code>pkgs</code> directory in the root of your Anaconda install, then copying its contents over into the <code>pkgs</code> of the Miniconda install. I would only copy folders/tarballs that don't conflict with the ones that come with Miniconda. After finishing environment recreation, then a <code>conda clean -p</code> would likely be in order, since Anaconda includes many packages that likely aren't getting reused.</p>\n"}], "owner": {"reputation": 672, "user_id": 1888794, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6f746415543ef07b74cf1f05cf6d87e3?s=128&d=identicon&r=PG", "display_name": "davzaman", "link": "https://stackoverflow.com/users/1888794/davzaman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 576, "favorite_count": 1, "accepted_answer_id": 56063972, "answer_count": 1, "score": 2, "last_activity_date": 1607534709, "creation_date": 1557357402, "question_id": 56050217, "link": "https://stackoverflow.com/questions/56050217/downsizing-from-anaconda-to-miniconda", "title": "Downsizing from Anaconda to Miniconda", "body": "<p>I had installed Anaconda on my system before I knew the difference between Anaconda and Miniconda. I would like to downsize to Miniconda since I don't want the bloat of Anaconda, but I already have a handful of environments set up. </p>\n\n<p>So far the only way I can think of migrating is to completely get rid of everything right now, install Miniconda, and then recreate my environments by hand, but that seems quite arduous. Is there a smarter way of going about this?</p>\n"}, {"tags": ["python", "coverage.py"], "comments": [{"owner": {"reputation": 320805, "user_id": 14343, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/75e9a11371cbe1566607180863efdf4c?s=128&d=identicon&r=PG", "display_name": "Ned Batchelder", "link": "https://stackoverflow.com/users/14343/ned-batchelder"}, "edited": false, "score": 0, "creation_date": 1557404072, "post_id": 56050212, "comment_id": 98758789, "body": "There&#39;s no reason the pragma would work in one directory but not another. Something else must be going on.  Are you sure the source code has the pragmas where the report is being generated?"}], "owner": {"reputation": 198, "user_id": 2868419, "user_type": "registered", "accept_rate": 83, "profile_image": "https://graph.facebook.com/564374779/picture?type=large", "display_name": "Souparno", "link": "https://stackoverflow.com/users/2868419/souparno"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1873, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1557357357, "creation_date": 1557357357, "question_id": 56050212, "link": "https://stackoverflow.com/questions/56050212/coverage-pragma-no-cover-does-not-work-for-modules-in-sub-folder", "title": "Coverage &quot;Pragma: No Cover&quot; does not work for modules in sub folder", "body": "<p>I am trying to add \"Pragma: No Cover\" to modules that do not require coverage. But coverage.py is only recognizing the comment in modules in the root folder. It does not work on modules that are inside sub directories.</p>\n\n<p><strong>I have tried using the --rcfile and having an omit list under the [run] section and this solves my problem</strong> \nbut I would like to understand why the comment wont work in the sub-directories. <em>[I did not forget adding the exclude_lines config back into my rcfile.]</em> </p>\n\n<pre><code>sb@ubuntu:~/PycharmProjects/TestAutomation$ coverage report TeamCityListener.py \nName                  Stmts   Miss  Cover\n-----------------------------------------\nTeamCityListener.py       3      0   100%\nsb@ubuntu:~/PycharmProjects/TestAutomation$ coverage report projectapi/lib/py/ProjectApiSessionManager.py\nName                                        Stmts   Miss  Cover\n---------------------------------------------------------------\nprojectapi/lib/py/ProjectApiSessionManager.py       2      2     0%\n\n</code></pre>\n\n<p>** ProjectApiSessionManager class definition:**</p>\n\n<pre><code>class ProjectApiSessionManager(SessionManager):       # pragma: no cover\n\n    def __init__(self):\n        super().__init__(projectapi_config_manager.env_info, auth_enabled=True)\n\n</code></pre>\n\n<p><strong>TeamCityListener class definition:</strong></p>\n\n<pre><code>class TeamCityListener:     # pragma: no cover\n    # bunch of methods\n</code></pre>\n\n<p>The value in the cover column for both the files should be at 100% because both the modules contain only 1 class with the \"#pragma: no cover\" comment in the same line as the class definition. I have tested by removing the comment from TeamCityListener.py and the cover goes back down to 0%, so I can confirm that it works for the modules in the root directory.</p>\n\n<p><strong>.coveragerc:</strong></p>\n\n<pre><code>[report]\nexclude_lines =\n    pragma: no cover\n</code></pre>\n"}, {"tags": ["python", "regex"], "comments": [{"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1557357566, "post_id": 56050201, "comment_id": 98741750, "body": "If it is an iterator, you must iterate over it to know that it is empty. Unless the regex library adds a flourish, you&#39;d end up having to do something like this, and this is reasonable enough to me"}, {"owner": {"reputation": 481672, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1557357704, "post_id": 56050201, "comment_id": 98741771, "body": "Try <a href=\"https://ideone.com/pnI5nq\" rel=\"nofollow noreferrer\">ideone.com/pnI5nq</a>. Turn the iterable value into a list and you may easily use it for any further manipulations. Another way: if <code>if re.search(pattern, s):</code> then there is a match. See <a href=\"https://ideone.com/tw5jmf\" rel=\"nofollow noreferrer\">ideone.com/tw5jmf</a>"}, {"owner": {"reputation": 554, "user_id": 6179432, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0hYiw.jpg?s=128&g=1", "display_name": "mikewatt", "link": "https://stackoverflow.com/users/6179432/mikewatt"}, "edited": false, "score": 0, "creation_date": 1557357749, "post_id": 56050201, "comment_id": 98741779, "body": "Just turn it into a list: <code>list(re.finditer(pattern, string))</code>  If you don&#39;t have a ton of matches you won&#39;t notice a difference in performance"}], "answers": [{"tags": [], "owner": {"reputation": 13049, "user_id": 10611983, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/379cd29e7f3b043f4e563fed697dcf75?s=128&d=identicon&r=PG&f=1", "display_name": "iz_", "link": "https://stackoverflow.com/users/10611983/iz"}, "is_accepted": false, "score": 4, "last_activity_date": 1557357960, "creation_date": 1557357960, "answer_id": 56050272, "question_id": 56050201, "link": "https://stackoverflow.com/questions/56050201/in-python-how-to-if-finditer-has-no-matches/56050272#56050272", "title": "In python, how to &#39;if finditer(...) has no matches&#39;?", "body": "<p>If performance isn't an issue, simply use <code>findall</code> or <code>list(finditer(...))</code>, which returns a list.</p>\n\n<p>Otherwise, you can \"peek\" into the generator with <code>next</code>, then loop as normal if it raises <code>StopIteration</code>. Though there are other ways to do it, this is the simplest to me:</p>\n\n<pre><code>import itertools\nimport re\n\npattern = \"1\"\nstring = \"abc\"  \nmatched_iter = re.finditer(pattern, string)\n\ntry:\n    first_match = next(matched_iter)\nexcept StopIteration:\n    print(\"No match!\") # action for no match\nelse:\n    for m in itertools.chain([first_match], matched_iter):\n        print(m.group())\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 1, "creation_date": 1557358377, "post_id": 56050273, "comment_id": 98741885, "body": "It would be safer to put only the <code>next</code> call in the <code>try</code>, and have the rest of the happy path in an <code>else</code>."}, {"owner": {"reputation": 4600, "user_id": 1852033, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/89b9541e85fd0534e3871ad790e651f1?s=128&d=identicon&r=PG", "display_name": "Leo Ufimtsev", "link": "https://stackoverflow.com/users/1852033/leo-ufimtsev"}, "edited": false, "score": 0, "creation_date": 1557360170, "post_id": 56050273, "comment_id": 98742229, "body": "I like the m = None hack. It&#39;s simple enough that I can remember that during an interview. The try/catch kinda looks complicated to understand at first glance."}], "tags": [], "owner": {"reputation": 24576, "user_id": 3767239, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/f7cdefb47f96069d7add1222c70f3f70?s=128&d=identicon&r=PG&f=1", "display_name": "a_guest", "link": "https://stackoverflow.com/users/3767239/a-guest"}, "is_accepted": false, "score": 3, "last_activity_date": 1557359611, "last_edit_date": 1557359611, "creation_date": 1557357968, "answer_id": 56050273, "question_id": 56050201, "link": "https://stackoverflow.com/questions/56050201/in-python-how-to-if-finditer-has-no-matches/56050273#56050273", "title": "In python, how to &#39;if finditer(...) has no matches&#39;?", "body": "<p>You can probe the iterator with <code>next</code> and then <code>chain</code> the results back together while excepting <code>StopIteration</code> which means the iterator was empty:</p>\n\n<pre><code>import itertools as it\n\nmatches = iter([])\ntry:\n    probe = next(matches)\nexcept StopIteration:\n    print('empty')\nelse:\n    for m in it.chain([probe], matches):\n        print(m)\n</code></pre>\n\n<p>Regarding your solution you could check <code>m</code> directly, setting it to <code>None</code> beforehand:</p>\n\n<pre><code>matches = iter([])\nm = None\nfor m in matches:\n    print(m)\nif m is None:\n    print('empty')\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 8575623, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-owg8enGL44s/AAAAAAAAAAI/AAAAAAAAEdc/DXvUS3zt4No/photo.jpg?sz=128", "display_name": "Joshua Brice&#241;o Z", "link": "https://stackoverflow.com/users/8575623/joshua-brice%c3%b1o-z"}, "is_accepted": false, "score": 0, "last_activity_date": 1572568198, "creation_date": 1572568198, "answer_id": 58652748, "question_id": 56050201, "link": "https://stackoverflow.com/questions/56050201/in-python-how-to-if-finditer-has-no-matches/58652748#58652748", "title": "In python, how to &#39;if finditer(...) has no matches&#39;?", "body": "<p>It prints the original string if there are no matches in the string. \nIt will replace the position <code>n</code> of the string. </p>\n\n<p>For more reference: <a href=\"https://docs.python.org/2/howto/regex.html\" rel=\"nofollow noreferrer\">https://docs.python.org/2/howto/regex.html</a></p>\n\n<pre><code>\n\nInput_Str = \"FOOTBALL\"\n\ndef replacing(Input_String, char_2_replace, replaced_char, n):\n    pattern = re.compile(char_2_replace)\n    if len(re.findall(pattern, Input_String)) &gt;= n: \n        where = [m for m in pattern.finditer(Input_String)][n-1]\n        before = Input_String[:where.start()]\n        after = Input_String[where.end():]\n        newString = before + replaced_char + after\n    else: \n        newString = Input_String\n    return newString\n\nprint(replacing(Input_Str, 'L', 'X', 4))```\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 4600, "user_id": 1852033, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/89b9541e85fd0534e3871ad790e651f1?s=128&d=identicon&r=PG", "display_name": "Leo Ufimtsev", "link": "https://stackoverflow.com/users/1852033/leo-ufimtsev"}, "edited": false, "score": 1, "creation_date": 1581808675, "post_id": 59968952, "comment_id": 106561100, "body": "I think this kinda misses the point. The question was how to do the &#39;if nothing found&#39; case."}, {"owner": {"reputation": 704, "user_id": 9642259, "user_type": "registered", "profile_image": "https://graph.facebook.com/2009300326001832/picture?type=large", "display_name": "James Andrew Bush", "link": "https://stackoverflow.com/users/9642259/james-andrew-bush"}, "reply_to_user": {"reputation": 4600, "user_id": 1852033, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/89b9541e85fd0534e3871ad790e651f1?s=128&d=identicon&r=PG", "display_name": "Leo Ufimtsev", "link": "https://stackoverflow.com/users/1852033/leo-ufimtsev"}, "edited": false, "score": 0, "creation_date": 1581905746, "post_id": 59968952, "comment_id": 106581050, "body": "@Leo Ufimtsev That\u2019s fair. When .finditer() finds nothing, it bypasses the subsequent conditional code within the for loop (since there is no, \u2018for a in...).  When the user preloads the variable, it is never replaced during the \u2018for loop.\u2019 So afrer the loop the user can check the variable for the preloaded value to test if nothing happened.  I need to supplement my answer!"}, {"owner": {"reputation": 704, "user_id": 9642259, "user_type": "registered", "profile_image": "https://graph.facebook.com/2009300326001832/picture?type=large", "display_name": "James Andrew Bush", "link": "https://stackoverflow.com/users/9642259/james-andrew-bush"}, "reply_to_user": {"reputation": 4600, "user_id": 1852033, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/89b9541e85fd0534e3871ad790e651f1?s=128&d=identicon&r=PG", "display_name": "Leo Ufimtsev", "link": "https://stackoverflow.com/users/1852033/leo-ufimtsev"}, "edited": false, "score": 0, "creation_date": 1586500811, "post_id": 59968952, "comment_id": 108154661, "body": "@LeoUfimtsev Check out my update using re.search() and either &#39;is None&#39; or &#39;is not None&#39; to build a better suggestion. Let me know if this helps!"}, {"owner": {"reputation": 4600, "user_id": 1852033, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/89b9541e85fd0534e3871ad790e651f1?s=128&d=identicon&r=PG", "display_name": "Leo Ufimtsev", "link": "https://stackoverflow.com/users/1852033/leo-ufimtsev"}, "edited": false, "score": 1, "creation_date": 1586533374, "post_id": 59968952, "comment_id": 108169114, "body": "I admire your persistence. I think this should be rewarded. This is indeed a good solution. marked as accepted answer. Thx for your input."}], "tags": [], "owner": {"reputation": 704, "user_id": 9642259, "user_type": "registered", "profile_image": "https://graph.facebook.com/2009300326001832/picture?type=large", "display_name": "James Andrew Bush", "link": "https://stackoverflow.com/users/9642259/james-andrew-bush"}, "is_accepted": true, "score": 2, "last_activity_date": 1586500575, "last_edit_date": 1586500575, "creation_date": 1580307173, "answer_id": 59968952, "question_id": 56050201, "link": "https://stackoverflow.com/questions/56050201/in-python-how-to-if-finditer-has-no-matches/59968952#59968952", "title": "In python, how to &#39;if finditer(...) has no matches&#39;?", "body": "<h2>Updated 04/10/2020</h2>\n\n<p>Use <code>re.search(pattern, string)</code> to check if a pattern exists.</p>\n\n<pre><code>pattern = \"1\"\nstring = \"abc\"\n\nif re.search(pattern, string) is None:\n    print('do this because nothing was found')\n</code></pre>\n\n<p>Returns:</p>\n\n<pre><code>do this because nothing was found\n</code></pre>\n\n<p>If you want <em>to iterate over the return</em>, then place the <code>re.finditer()</code> within the <code>re.search()</code>.</p>\n\n<pre><code>pattern = '[A-Za-z]'\nstring = \"abc\"\n\nif re.search(pattern, string) is not None:\n    for thing in re.finditer(pattern, string):\n        print('Found this thing: ' + thing[0])\n</code></pre>\n\n<p>Returns:</p>\n\n<pre><code>Found this thing: a\nFound this thing: b\nFound this thing: c\n</code></pre>\n\n<p><strong>Therefore, if you wanted both options, use the <code>else:</code> clause with the <code>if re.search()</code> conditional.</strong></p>\n\n<pre><code>pattern = \"1\"\nstring = \"abc\"\n\nif re.search(pattern, string) is not None:\n    for thing in re.finditer(pattern, string):\n        print('Found this thing: ' + thing[0])\nelse:\n    print('do this because nothing was found')\n</code></pre>\n\n<p>Returns:</p>\n\n<pre><code>do this because nothing was found\n</code></pre>\n\n<h1>previous reply below (not sufficient, just read above)</h1>\n\n<p>If the .finditer() does not match a pattern, then it will not perform any commands within the related loop.</p>\n\n<p>So:</p>\n\n<ul>\n<li>Set the variable <strong>before the loop</strong> you are using to iterate over the regex returns</li>\n<li>Call the variable <strong>after (And outside of)</strong> the loop you are using to iterate over the regex returns</li>\n</ul>\n\n<p>This way, if nothing is returned from the regex call, the loop won't execute and your variable call after the loop will return the exact same variable it was set to.</p>\n\n<p>Below, example 1 demonstrates the regex finding the pattern. Example 2 shows the regex not finding the pattern, so the variable within the loop is never set. \n<strong><em>Example 3</em></strong> shows my suggestion - where the variable is set before the regex loop, so if the regex does not find a match (and subsequently, does not trigger the loop), the variable call after the loop returns the initial variable set (Confirming the regex pattern was not found). </p>\n\n<p>Remember to import the <strong>import re</strong> module.</p>\n\n<p>EXAMPLE 1 (Searching for the characters 'he' in the string 'hello world' will return 'he')</p>\n\n<pre><code>my_string = 'hello world'\npat = '(he)'\nregex = re.finditer(pat,my_string)\n\nfor a in regex:\n    b = str(a.groups()[0])\nprint(b)\n\n# returns 'he'\n</code></pre>\n\n<p>EXAMPLE 2 (Searching for the characters 'ab' in the string 'hello world' do not match anything, so the 'for a in regex:' loop does not execute and does not assign the b variable any value.)</p>\n\n<pre><code>my_string = 'hello world'\npat = '(ab)'\nregex = re.finditer(pat,my_string)\n\nfor a in regex:\n    b = str(a.groups()[0])\nprint(b)\n\n# no return\n</code></pre>\n\n<p>EXAMPLE 3 (Searching for the characters 'ab' again, but this time setting the variable b to 'CAKE' before the loop, and calling the variable b after, outside of the loop returns the initial variable - i.e. 'CAKE' - since the loop did not execute).</p>\n\n<pre><code>my_string = 'hello world'\npat = '(ab)'\nregex = re.finditer(pat,my_string)\n\nb = 'CAKE' # sets the variable prior to the for loop\nfor a in regex:\n    b = str(a.groups()[0])\nprint(b) # calls the variable after (and outside) the loop\n\n# returns 'CAKE'\n</code></pre>\n\n<p>It's also worth noting that when designing your pattern to feed into the regex, make sure to use the parenthesis to indicate the start and end of a group.</p>\n\n<pre><code>pattern = '(ab)' # use this\npattern = 'ab' # avoid using this\n</code></pre>\n\n<p><strong>To tie back to the initial question:</strong></p>\n\n<p>Since nothing found won\u2019t execute the for loop (for a in regex), the user can preload the variable, then check it after the for loop for the original loaded value. This will allow for the user to know if nothing was found.</p>\n\n<pre><code>my_string = 'hello world'\npat = '(ab)'\nregex = re.finditer(pat,my_string)\n\nb = 'CAKE' # sets the variable prior to the for loop\nfor a in regex:\n    b = str(a.groups()[0])\nif b == \u2018CAKE\u2019:\n    # action taken if nothing is returned\n</code></pre>\n"}], "owner": {"reputation": 4600, "user_id": 1852033, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/89b9541e85fd0534e3871ad790e651f1?s=128&d=identicon&r=PG", "display_name": "Leo Ufimtsev", "link": "https://stackoverflow.com/users/1852033/leo-ufimtsev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2973, "favorite_count": 1, "accepted_answer_id": 59968952, "answer_count": 4, "score": 3, "last_activity_date": 1586500575, "creation_date": 1557357237, "last_edit_date": 1557358750, "question_id": 56050201, "link": "https://stackoverflow.com/questions/56050201/in-python-how-to-if-finditer-has-no-matches", "title": "In python, how to &#39;if finditer(...) has no matches&#39;?", "body": "<p>I would like to do something when finditer() does not find anything.</p>\n\n<pre><code>import re\npattern = \"1\"\nstring = \"abc\"  \nmatched_iter = re.finditer(pattern, string)\n# &lt;if matched_iter is empty (no matched found&gt;.\n#   do something.\n# else\n    for m in matched_iter:\n        print m.group()\n</code></pre>\n\n<p>The best thing I could come up with is to keep track of found manually:</p>\n\n<pre><code>mi_no_find = re.finditer(r'\\w+',\"$$%%%%\")   # not matching.\nfound = False\nfor m in mi_no_find:\n    print m.group()\n    found = True\nif not found:\n    print \"Nothing found\"\n</code></pre>\n\n<p>Related posts that don't answer:  </p>\n\n<ul>\n<li>Counting finditer matches: <a href=\"https://stackoverflow.com/questions/3895646/number-of-regex-matches\">Number of regex matches</a> (I don't need to count, I just need to know if there are no matches).</li>\n<li>finditer vs match: <a href=\"https://stackoverflow.com/questions/4646904/different-behavior-when-using-re-finditer-and-re-match\">different behavior when using re.finditer and re.match</a> (says always have to loop over an iterator returned by finditer)</li>\n</ul>\n\n<p>[edit]<br>\n- I have no interest in enumerating or counting total output. Only if found else not found actions.<br>\n- I understand I can put finditer into a list, but this would be inefficient for large strings. One objective is to have low memory utilization.</p>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 4521, "user_id": 10041823, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gJ8EW.jpg?s=128&g=1", "display_name": "Alexandre B.", "link": "https://stackoverflow.com/users/10041823/alexandre-b"}, "edited": false, "score": 0, "creation_date": 1557361293, "post_id": 56050200, "comment_id": 98742417, "body": "<code>Grouper</code> works as expected: he splits all the data in slice of 7d and counts the number of element in each slice. <code>Grouper</code> extends the limit of date slice to the bigger one. The result you are expecting break this rule because the last slice is larger than 7 days."}, {"owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "edited": false, "score": 1, "creation_date": 1557363611, "post_id": 56050200, "comment_id": 98742852, "body": "That is work correct , since you time difference is 7 d ..."}, {"owner": {"reputation": 164, "user_id": 3319620, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/t4Qgp.jpg?s=128&g=1", "display_name": "geominded", "link": "https://stackoverflow.com/users/3319620/geominded"}, "edited": false, "score": 0, "creation_date": 1557696464, "post_id": 56050200, "comment_id": 98841652, "body": "Ohhhh, because it&#39;s using the latest date as if it were an index and not including that last date for that group. Now I understand why Asmus is using timedelta to add 1 day."}], "answers": [{"comments": [{"owner": {"reputation": 164, "user_id": 3319620, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/t4Qgp.jpg?s=128&g=1", "display_name": "geominded", "link": "https://stackoverflow.com/users/3319620/geominded"}, "edited": false, "score": 0, "creation_date": 1557695230, "post_id": 56054081, "comment_id": 98841391, "body": "maybe my data was a bad example because 2019-05-07 ends up being an even 7 split. When I add another date 2019-05-08 the latest week ending is 2019-05-14 even though I expect it to be 2019-05-08 since I want count back 7 days from 2019-05-08 and of course, 05-24 isn&#39;t included in the count back."}, {"owner": {"reputation": 164, "user_id": 3319620, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/t4Qgp.jpg?s=128&g=1", "display_name": "geominded", "link": "https://stackoverflow.com/users/3319620/geominded"}, "edited": false, "score": 0, "creation_date": 1557696792, "post_id": 56054081, "comment_id": 98841720, "body": "added my understanding of your Timedelta solution which is the solution I&#39;m looking for. Thanks!"}], "tags": [], "owner": {"reputation": 4652, "user_id": 565489, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e8808e13f35d17d94c6109309ef5a32?s=128&d=identicon&r=PG", "display_name": "Asmus", "link": "https://stackoverflow.com/users/565489/asmus"}, "is_accepted": true, "score": 3, "last_activity_date": 1557386695, "last_edit_date": 1557386695, "creation_date": 1557386222, "answer_id": 56054081, "question_id": 56050200, "link": "https://stackoverflow.com/questions/56050200/pandas-grouper-returning-a-grouped-date-label-outside-of-my-data/56054081#56054081", "title": "pandas.Grouper() returning a grouped date label outside of my data", "body": "<p>First of all, let's revisit your expected result upon grouping 7 days, which inherently needs to be <em>inclusive</em> of the most recent day:</p>\n\n<pre><code>2019-05-07       1\n2019-05-07       1\n2019-05-06       1\n2019-05-05       1\n2019-05-04       1\n2019-05-03       1\n2019-05-01       1\n                 ## ^ group of 7, until 2019-04-30\n2019-04-28       1\n2019-04-28       1\n                 ## ^ group of 2, until 2019-04-23\n2019-04-23       1\n2019-04-20       1\n2019-04-18       1\n                 ## ^ group of 3, until 2019-04-16\n2019-04-16       1\n2019-04-15       1\n                 ## ^ group of 2, the remainder\n</code></pre>\n\n<p>A solution for this grouping can be <a href=\"https://stackoverflow.com/a/37887371/565489\">found in this answer</a>, if you first set a \"proper\" index:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>df_test=df_test.set_index(pd.to_datetime(df_test.Date),drop=False)\n\nprint( df_test.resample('W-{}'.format(\n        df_test.index[-1].strftime('%a')\n        ), closed='right', label='right').sum() )\n</code></pre>\n\n<p>which yields:</p>\n\n<pre><code>            Things\nDate              \n2019-04-16       2\n2019-04-23       3\n2019-04-30       2\n2019-05-07       7\n</code></pre>\n\n<p>Or, for the sake of completeness, if you'd e.g. rather sample backwards from <em>one day into the future</em> of your latest entry, and want to use a d <code>pd.Grouper()</code>, that'd be:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>futureDay= (df_test.Date.max() + pd.Timedelta('1 days') ).strftime('%a')\nprint( df_test.groupby(pd.Grouper(freq='W-{}'.format(futureDay), \n                                  closed='right', label='right')).sum() )\n</code></pre>\n"}], "owner": {"reputation": 164, "user_id": 3319620, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/t4Qgp.jpg?s=128&g=1", "display_name": "geominded", "link": "https://stackoverflow.com/users/3319620/geominded"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 834, "favorite_count": 0, "accepted_answer_id": 56054081, "answer_count": 1, "score": 1, "last_activity_date": 1557696734, "creation_date": 1557357235, "last_edit_date": 1557696734, "question_id": 56050200, "link": "https://stackoverflow.com/questions/56050200/pandas-grouper-returning-a-grouped-date-label-outside-of-my-data", "title": "pandas.Grouper() returning a grouped date label outside of my data", "body": "<p>I'm trying to group a pandas dataframe in last 7 day groups from the most recent date in my dataframe using <code>pd.Grouper()</code>.</p>\n\n<p><strong>Why does Grouper return a label which is outside of what dates my data includes? When using <code>closed='right'</code> and <code>label='right'</code> I would think the last label in my Grouper groupby would be the most recent date in my dataframe, and include the last 7 dates worth of data which doesn't seem to be the case.</strong></p>\n\n<p><strong>Real behavior</strong></p>\n\n<pre><code>import pandas as pd\n\ndf_test = pd.DataFrame({'Date':['2019-05-07','2019-05-07','2019-05-06', '2019-05-05', \n                                '2019-05-04', '2019-05-03', '2019-05-01', \n                                '2019-04-28', '2019-04-28','2019-04-23',\n                                '2019-04-20','2019-04-18','2019-04-15','2019-04-16'],\n                        'Things':[1,1,1,1,1,1,1,1,1,1,1,1,1,1]\n                       })\ndf_test['Date'] = pd.to_datetime(df_test.Date, yearfirst=True)\ndf_test.groupby(pd.Grouper(key='Date', freq='7D', label='right', closed='right')).count()\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/hzd9D.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hzd9D.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>Expected behavior</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/HSLF2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HSLF2.png\" alt=\"enter image description here\"></a></p>\n\n<h1>Update: Using Asmus' code snippet</h1>\n\n<p>and adding '2019-05-08' to my data since 2019-05-07 may have been an arbitrary even bin given the test data, I expect the latest date in the groupby to be '2019-05-08' not '2019-05-14' since I want to bin backwards 7 days from my most recent data where my label and bin start from the <code>right</code>:</p>\n\n<pre><code>df_test = pd.DataFrame({'Date':['2019-05-08','2019-05-07','2019-05-07','2019-05-06', '2019-05-05', '2019-05-04', '2019-05-03',  \n                                '2019-05-01', '2019-04-28', '2019-04-28',\n                                '2019-04-23', '2019-04-20','2019-04-18',\n                                '2019-04-15','2019-04-16'],\n                        'Things':[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]\n                       })\ndf_test['Date'] = pd.to_datetime(df_test.Date, yearfirst=True)\ndf_test=df_test.set_index(pd.to_datetime(df_test.Date),drop=False)\ndf_test.resample('W-{}'.format(\n        df_test.index[-1].strftime('%a')\n        ), closed='right', label='right').count()\n</code></pre>\n\n<p>Produces...<br>\n<a href=\"https://i.stack.imgur.com/oCC9L.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oCC9L.png\" alt=\"enter image description here\"></a>\ninstead of what I expect using closed=right and label=right which would end with the last group <code>2019-05-08</code> with Things 7, then <code>2019-05-01</code> with Things 3, etc.</p>\n\n<p>But when using Asmus' timedelta adding 1 day, I'm getting the expected grouping behavior with the time group label signifying a group up to but not including '2019-05-09'. Got it :thumbsup!</p>\n\n<pre><code>df_test = pd.DataFrame({'Date':['2019-05-08','2019-05-07','2019-05-07','2019-05-06', '2019-05-05', '2019-05-04', '2019-05-03',  \n                                '2019-05-01', '2019-04-28', '2019-04-28',\n                                '2019-04-23', '2019-04-20','2019-04-18',\n                                '2019-04-15','2019-04-16'],\n                        'Things':[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]\n                       })\ndf_test['Date'] = pd.to_datetime(df_test.Date, yearfirst=True)\ndf_test=df_test.set_index(pd.to_datetime(df_test.Date),drop=False)\nfutureDay= (df_test.Date.max() + pd.Timedelta('1 days')).strftime('%a')\ndf_test.groupby(pd.Grouper(freq='W-{}'.format(futureDay), closed='right', label='right')).count()\n</code></pre>\n\n<p>Correctly produces....\n<a href=\"https://i.stack.imgur.com/RUJsN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RUJsN.png\" alt=\"enter image description here\"></a></p>\n\n<p>Thanks @Asmus !</p>\n"}, {"tags": ["python", "numpy", "anaconda"], "comments": [{"owner": {"reputation": 798, "user_id": 10307576, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0ulRB.gif?s=128&g=1", "display_name": "Bugbeeb", "link": "https://stackoverflow.com/users/10307576/bugbeeb"}, "edited": false, "score": 0, "creation_date": 1557357465, "post_id": 56050178, "comment_id": 98741735, "body": "you used the anaconda prompt and typed <code>conda install numpy</code>? and then called <code>import numpy as np</code>?"}, {"owner": {"reputation": 11, "user_id": 10812635, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ebaac9f5696395856ff883f12e92770c?s=128&d=identicon&r=PG&f=1", "display_name": "msughter", "link": "https://stackoverflow.com/users/10812635/msughter"}, "reply_to_user": {"reputation": 798, "user_id": 10307576, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0ulRB.gif?s=128&g=1", "display_name": "Bugbeeb", "link": "https://stackoverflow.com/users/10307576/bugbeeb"}, "edited": false, "score": 0, "creation_date": 1557389679, "post_id": 56050178, "comment_id": 98750756, "body": "I went straight to the anaconda navigator,created an enviroment and installed numpy"}, {"owner": {"reputation": 798, "user_id": 10307576, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0ulRB.gif?s=128&g=1", "display_name": "Bugbeeb", "link": "https://stackoverflow.com/users/10307576/bugbeeb"}, "edited": false, "score": 0, "creation_date": 1557451369, "post_id": 56050178, "comment_id": 98778368, "body": "can you check your list of environments in the anaconda navigator just to be sure?"}], "owner": {"reputation": 11, "user_id": 10812635, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ebaac9f5696395856ff883f12e92770c?s=128&d=identicon&r=PG&f=1", "display_name": "msughter", "link": "https://stackoverflow.com/users/10812635/msughter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 98, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1566551523, "creation_date": 1557357032, "last_edit_date": 1557360700, "question_id": 56050178, "link": "https://stackoverflow.com/questions/56050178/dll-load-error-specified-module-not-found", "title": "dll load error specified module not found", "body": "<p>I installed <code>numpy</code> and <code>tensorflow</code> using Anaconda. However, anytime I try to import any of them I receive an error which says:  <code>dll load failed</code></p>\n\n<p>I have tried it on VSCode and PyCharm. I also tried installing everything over again. I tried copying the long path given by Anaconda to my system environment variable but nothing seems to be working and I keep getting this:</p>\n\n<pre><code>Traceback (most recent call last):  \n    File \"c:/Users/AYERHAN MSUGHTER/Desktop/Anaconda 3/test.py\", line 1, in &lt;module&gt;    \n        import numpy as np  \n    File \"C:\\Users\\AYERHAN MSUGHTER\\AppData\\Local\\conda\\conda\\envs\\machinenv\\lib\\site-packages\\numpy\\__init__.py\", line 140, in &lt;module&gt;\n        from . import _distributor_init  \n    File \"C:\\Users\\AYERHAN MSUGHTER\\AppData\\Local\\conda\\conda\\envs\\machinenv\\lib\\site-packages\\numpy\\_distributor_init.py\", line 34, in &lt;module&gt;\n        from . import _mklinitImportError: DLL load failed: The specified module could not be found.\nPS C:\\Users\\AYERHAN MSUGHTER\\Desktop\\Anaconda 3&gt;\n</code></pre>\n"}, {"tags": ["python", "for-loop", "button", "tkinter", "command"], "comments": [{"owner": {"reputation": 5007, "user_id": 10924296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/483c21a8a3f03bbf92cb99539ec97dbc?s=128&d=identicon&r=PG&f=1", "display_name": "Reedinationer", "link": "https://stackoverflow.com/users/10924296/reedinationer"}, "edited": false, "score": 2, "creation_date": 1557357212, "post_id": 56050161, "comment_id": 98741674, "body": "What would be best is to edit this to a <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a> so that we can copy/paste it and run it ourselves. Otherwise our answers will likely have errors/typos in them that <i>you</i> will then need to sort through."}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1557357428, "post_id": 56050161, "comment_id": 98741724, "body": "You can use this <a href=\"http://infohost.nmt.edu/tcc/help/pubs/tkinter/web/extra-args.html\" rel=\"nofollow noreferrer\">extra arguments trick</a> to pass the ` btn_press()` callback function extra arguments (such as the <code>Button</code> being pressed \u2014 the variable <code>i</code> in your code)."}, {"owner": {"reputation": 17763, "user_id": 5317403, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8TwWN.png?s=128&g=1", "display_name": "acw1668", "link": "https://stackoverflow.com/users/5317403/acw1668"}, "edited": false, "score": 0, "creation_date": 1557361428, "post_id": 56050161, "comment_id": 98742438, "body": "If <code>i</code> is the variable used in the for loop, you should not reassign it to hold the reference of button."}, {"owner": {"reputation": 11, "user_id": 11465069, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-jqiI4UQyqLk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfjrlzVq1ieQKSBpPAIiIK5Jg9d7A/mo/photo.jpg?sz=128", "display_name": "\u0410\u0440\u0442\u0435\u043c \u0411\u0440\u0435\u0445\u0438\u043d", "link": "https://stackoverflow.com/users/11465069/%d0%90%d1%80%d1%82%d0%b5%d0%bc-%d0%91%d1%80%d0%b5%d1%85%d0%b8%d0%bd"}, "reply_to_user": {"reputation": 17763, "user_id": 5317403, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8TwWN.png?s=128&g=1", "display_name": "acw1668", "link": "https://stackoverflow.com/users/5317403/acw1668"}, "edited": false, "score": 0, "creation_date": 1557417250, "post_id": 56050161, "comment_id": 98766634, "body": "@acw1668 yes, i use another variable in the actual code."}, {"owner": {"reputation": 11, "user_id": 11465069, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-jqiI4UQyqLk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfjrlzVq1ieQKSBpPAIiIK5Jg9d7A/mo/photo.jpg?sz=128", "display_name": "\u0410\u0440\u0442\u0435\u043c \u0411\u0440\u0435\u0445\u0438\u043d", "link": "https://stackoverflow.com/users/11465069/%d0%90%d1%80%d1%82%d0%b5%d0%bc-%d0%91%d1%80%d0%b5%d1%85%d0%b8%d0%bd"}, "reply_to_user": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1557417327, "post_id": 56050161, "comment_id": 98766688, "body": "@martineau Thanks, really helpful! What would be the right way to then remove or destroy the button once i found its name?"}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1557425865, "post_id": 56050161, "comment_id": 98770651, "body": "\u0410\u0440\u0442\u0435\u043c: You can use the <a href=\"https://effbot.org/tkinterbook/place.htm#Tkinter.Place.place_forget-method\" rel=\"nofollow noreferrer\"><code>place_forget()</code></a> widget method to make a widget (like a <code>Button</code>) disappear from the screen. It still exists just isn&#39;t visible. You can use <code>place()</code> again to make it reappear (if you kept a reference to it)."}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 11465069, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-jqiI4UQyqLk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfjrlzVq1ieQKSBpPAIiIK5Jg9d7A/mo/photo.jpg?sz=128", "display_name": "\u0410\u0440\u0442\u0435\u043c \u0411\u0440\u0435\u0445\u0438\u043d", "link": "https://stackoverflow.com/users/11465069/%d0%90%d1%80%d1%82%d0%b5%d0%bc-%d0%91%d1%80%d0%b5%d1%85%d0%b8%d0%bd"}, "edited": false, "score": 0, "creation_date": 1557416959, "post_id": 56051128, "comment_id": 98766474, "body": "Sorry for not being clear the first time, but i would like to change the color of the button pressed (would you still need a list or syncing them?). Since i also have a mac, maybe changing foreground color wouldn&#39;t be ideal, and instead deleting or destroying the button is the way to go. I found a way to get the name of the button pressed, but when i use the name (in the form of variable), it tells me that strings dont have the .config property"}, {"owner": {"reputation": 3193, "user_id": 10364425, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FvwHx.png?s=128&g=1", "display_name": "Saad", "link": "https://stackoverflow.com/users/10364425/saad"}, "reply_to_user": {"reputation": 11, "user_id": 11465069, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-jqiI4UQyqLk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfjrlzVq1ieQKSBpPAIiIK5Jg9d7A/mo/photo.jpg?sz=128", "display_name": "\u0410\u0440\u0442\u0435\u043c \u0411\u0440\u0435\u0445\u0438\u043d", "link": "https://stackoverflow.com/users/11465069/%d0%90%d1%80%d1%82%d0%b5%d0%bc-%d0%91%d1%80%d0%b5%d1%85%d0%b8%d0%bd"}, "edited": false, "score": 0, "creation_date": 1557417508, "post_id": 56051128, "comment_id": 98766791, "body": "@\u0410\u0440\u0442\u0435\u043c\u0411\u0440\u0435\u0445\u0438\u043d: I think you still not clear. The background color of a <code>Button</code> is not changeable on MacOS. if you mean you just want to change the color of the only button pressed then please make it more clear so I can edit my answer. And the string you are getting is probably the name of the widget, you need an object of the <code>Button</code>."}, {"owner": {"reputation": 3193, "user_id": 10364425, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FvwHx.png?s=128&g=1", "display_name": "Saad", "link": "https://stackoverflow.com/users/10364425/saad"}, "reply_to_user": {"reputation": 11, "user_id": 11465069, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-jqiI4UQyqLk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfjrlzVq1ieQKSBpPAIiIK5Jg9d7A/mo/photo.jpg?sz=128", "display_name": "\u0410\u0440\u0442\u0435\u043c \u0411\u0440\u0435\u0445\u0438\u043d", "link": "https://stackoverflow.com/users/11465069/%d0%90%d1%80%d1%82%d0%b5%d0%bc-%d0%91%d1%80%d0%b5%d1%85%d0%b8%d0%bd"}, "edited": false, "score": 0, "creation_date": 1557419266, "post_id": 56051128, "comment_id": 98767655, "body": "@\u0410\u0440\u0442\u0435\u043c\u0411\u0440\u0435\u0445\u0438\u043d: I edited my answers as well let me know if this helps."}, {"owner": {"reputation": 11, "user_id": 11465069, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-jqiI4UQyqLk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfjrlzVq1ieQKSBpPAIiIK5Jg9d7A/mo/photo.jpg?sz=128", "display_name": "\u0410\u0440\u0442\u0435\u043c \u0411\u0440\u0435\u0445\u0438\u043d", "link": "https://stackoverflow.com/users/11465069/%d0%90%d1%80%d1%82%d0%b5%d0%bc-%d0%91%d1%80%d0%b5%d1%85%d0%b8%d0%bd"}, "edited": false, "score": 0, "creation_date": 1557424396, "post_id": 56051128, "comment_id": 98769970, "body": "Thank you! it works perfectly. do you know also how i could make all buttons from above get destroyed (if the box clicked is too high) or vice versa."}, {"owner": {"reputation": 3193, "user_id": 10364425, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FvwHx.png?s=128&g=1", "display_name": "Saad", "link": "https://stackoverflow.com/users/10364425/saad"}, "reply_to_user": {"reputation": 11, "user_id": 11465069, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-jqiI4UQyqLk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfjrlzVq1ieQKSBpPAIiIK5Jg9d7A/mo/photo.jpg?sz=128", "display_name": "\u0410\u0440\u0442\u0435\u043c \u0411\u0440\u0435\u0445\u0438\u043d", "link": "https://stackoverflow.com/users/11465069/%d0%90%d1%80%d1%82%d0%b5%d0%bc-%d0%91%d1%80%d0%b5%d1%85%d0%b8%d0%bd"}, "edited": false, "score": 0, "creation_date": 1557424557, "post_id": 56051128, "comment_id": 98770046, "body": "Yes, but then the code has to be reconstructed with different logic of saving buttons in a list so the buttons can be accessible with the index of the list."}], "tags": [], "owner": {"reputation": 3193, "user_id": 10364425, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FvwHx.png?s=128&g=1", "display_name": "Saad", "link": "https://stackoverflow.com/users/10364425/saad"}, "is_accepted": false, "score": 0, "last_activity_date": 1557419218, "last_edit_date": 1557419218, "creation_date": 1557366646, "answer_id": 56051128, "question_id": 56050161, "link": "https://stackoverflow.com/questions/56050161/how-to-delete-a-button-when-it-was-clicked-if-the-buttons-were-made-by-a-for-loo/56051128#56051128", "title": "How to delete a button when it was clicked if the buttons were made by a for-loop?", "body": "<p>I added few lines to your code to make the <code>Button</code> destroy if it is not the target value. </p>\n\n<ol>\n<li><p>I don't understand why you have function <code>btn_press()</code> inside the for block. It has created like 10 <code>btn_press()</code> functions. I guess you each button to have their own function, but trust me one is enough. So I put the function outside the <code>for</code> loop</p></li>\n<li><p>I added <code>event.widget.destroy()</code> in two of the condition ( for high and for low ) so then it is no the target <code>Button</code> it gets <code>destroy()</code>.</p></li>\n<li><p>Also, your approach is not good you can improve your code by a lot.</p></li>\n</ol>\n\n<p>Here is your updated code.</p>\n\n<pre><code>from tkinter import ttk\nimport tkinter as tk\nimport random\n\nwindow = tk.Tk()\nwindow.title('The Game')\nwindow.geometry('1000x850')\ntarget = random.randint(1,10)\n\nwords = []\nfor j in range(1, 11):\n    unit = \"box\" + str(j)\n    words.append(unit)\n\na=0\nlives = 3\n\n\ndef btn_press(event):\n        guess = event.widget['text']\n        global lives\n        lives -= 1\n        lives_rem.config(text = 'Lives remaining: ' + str(lives))\n        if guess == target:\n            print('you win')\n            Score['text'] = 'Score: You Win' \n            window.destroy()\n        elif lives == 0:\n            print('you lose')\n            Score['text'] = 'Score: You Lose' \n            window.destroy()\n        elif guess &gt; target:\n            #in this case, the button pressed and all of the higher ones should be destroyed\n            Score['text'] = 'Score: Too High' \n            print('too high')\n            event.widget.destroy()\n        elif guess &lt; target:\n            #in this case, the button pressed and all of the lower ones should be destroyed\n            Score['text'] = 'Score: Too Low' \n            print('too low')\n            event.widget.destroy()\n\nfor i in words:\n    a = a + 1\n    i = tk.Button(window, text = a)\n    i.config(height = '3', width = '6')\n    i.bind('&lt;Button-1&gt;', btn_press)\n    i.place(x = -50 + a * 70, y = 25)\n\nlives_rem = tk.Label(window, text = \"Lives remaining: \" + str(lives), fg = 'red')\nlives_rem.place(x = 800, y = 50)\n\nScore = tk.Label(window, text = \"Score: \" )\nScore.place(x = 400, y = 100 )\n\nwindow.mainloop()\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 11, "user_id": 11465069, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-jqiI4UQyqLk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfjrlzVq1ieQKSBpPAIiIK5Jg9d7A/mo/photo.jpg?sz=128", "display_name": "\u0410\u0440\u0442\u0435\u043c \u0411\u0440\u0435\u0445\u0438\u043d", "link": "https://stackoverflow.com/users/11465069/%d0%90%d1%80%d1%82%d0%b5%d0%bc-%d0%91%d1%80%d0%b5%d1%85%d0%b8%d0%bd"}, "edited": false, "score": 0, "creation_date": 1557451260, "post_id": 56066667, "comment_id": 98778354, "body": "Thanks! Turns out its easier than it seems."}], "tags": [], "owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "is_accepted": false, "score": 1, "last_activity_date": 1557431632, "creation_date": 1557431632, "answer_id": 56066667, "question_id": 56050161, "link": "https://stackoverflow.com/questions/56050161/how-to-delete-a-button-when-it-was-clicked-if-the-buttons-were-made-by-a-for-loo/56066667#56066667", "title": "How to delete a button when it was clicked if the buttons were made by a for-loop?", "body": "<p>You've changed your question since I first commented so that now you need to keep track of all the <code>Button</code>s created because you now want to \"destroy\" more than just the one clicked. In the code below, they're being stored in a new global <code>list</code> variable named <code>buttons</code>.</p>\n\n<p>A single widget displayed with the <code>place()</code> geometry manager can be made to disappear using the <code>place_forget()</code> method. Combining that with the new <code>buttons</code> list makes it possible to also affect the visibility of the others in the <code>'&lt;Button-1&gt;'</code> event callback function as well. </p>\n\n<p>Below is your code with modifications showing how to do that. Note that I also optimized a few other things as well as making it overall follow the <a href=\"https://www.python.org/dev/peps/pep-0008/\" rel=\"nofollow noreferrer\">PEP 8 - Style Guide for Python Code</a> recommendations a little more closely.</p>\n\n<pre><code>import tkinter as tk\nimport random\n\nwindow = tk.Tk()\nwindow.title('The Game')\nwindow.geometry('1000x850')\n\ntarget = random.randint(1,10)\nprint('target:', target)\nwords = [\"box\" + str(j) for j in range(1, 11)]\na = 0\nlives = 3\n\nbuttons = []  # Remember all Buttons.\nfor _ in words:\n    a += 1\n\n    def btn_press(event):\n        global lives\n\n        guess = event.widget['text']\n        lives -= 1\n        lives_rem.config(text='Lives remaining: ' + str(lives))\n        if guess == target:\n            print('you win')\n            window.destroy()\n        elif lives == 0:\n            print('you lose')\n            window.destroy()\n        elif guess &gt; target:\n            # In this case, the button pressed and all of the higher ones\n            # should be destroyed.\n            event.widget.place_forget()\n            print('too high')\n            for btn in buttons:\n                if btn['text'] &gt; guess:\n                    btn.place_forget()\n        elif guess &lt; target:\n            # In this case, the button pressed and all of the lower ones should\n            # be destroyed.\n            event.widget.place_forget()  # Added MRM\n            print('too low')\n            for btn in buttons:\n                if btn['text'] &lt; guess:\n                    btn.place_forget()\n\n\n    btn = tk.Button(window, text=a)\n    btn.config(height=3, width=6)\n    btn.bind('&lt;Button-1&gt;', btn_press)\n    btn.place(x=a*70 - 50, y=25)\n    buttons.append(btn)\n\nlives_rem = tk.Label(window, text=\"Lives remaining: \" + str(lives), fg='red')\nlives_rem.place(x=800, y=50)\nwindow.mainloop()\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 11465069, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-jqiI4UQyqLk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfjrlzVq1ieQKSBpPAIiIK5Jg9d7A/mo/photo.jpg?sz=128", "display_name": "\u0410\u0440\u0442\u0435\u043c \u0411\u0440\u0435\u0445\u0438\u043d", "link": "https://stackoverflow.com/users/11465069/%d0%90%d1%80%d1%82%d0%b5%d0%bc-%d0%91%d1%80%d0%b5%d1%85%d0%b8%d0%bd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 88, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1557431632, "creation_date": 1557356903, "last_edit_date": 1557420365, "question_id": 56050161, "link": "https://stackoverflow.com/questions/56050161/how-to-delete-a-button-when-it-was-clicked-if-the-buttons-were-made-by-a-for-loo", "title": "How to delete a button when it was clicked if the buttons were made by a for-loop?", "body": "<p>I want to add a function that destroys the button (and all higher/lower ones) when it is pressed, if it is not the target button. </p>\n\n<p>I hope this clears it up a bit.</p>\n\n<pre><code>import tkinter as tk\nfrom tkinter import ttk\nimport random\n\nwindow = tk.Tk()\nwindow.title('The Game')\nwindow.geometry('1000x850')\ntarget = random.randint(1,10)\nwords = []\nfor j in range(1, 11):\n    unit = \"box\" + str(j)\n    words.append(unit)\na=0\nlives = 3\nfor i in words:\n    a = a + 1\n    def btn_press(event):\n        guess = event.widget['text']\n        global lives\n        lives -= 1\n        lives_rem.config(text = 'Lives remaining: ' + str(lives))\n        if guess == target:\n            print('you win')\n            window.destroy()\n        elif lives == 0:\n            print('you lose')\n            window.destroy()\n        elif guess &gt; target:\n            #in this case, the button pressed and all of the higher ones should be destroyed\n            print('too high')\n        elif guess &lt; target:\n            #in this case, the button pressed and all of the lower ones should be destroyed\n            print('too low')\n    i = tk.Button(window, text = a)\n    i.config(height = '3', width = '6')\n    i.bind('&lt;Button-1&gt;', btn_press)\n    i.place(x = -50 + a * 70, y = 25)\n\nlives_rem = tk.Label(window, text = \"Lives remaining: \" + str(lives), fg = 'red')\nlives_rem.place(x = 800, y = 50)\nwindow.mainloop()\n</code></pre>\n"}, {"tags": ["python", "split"], "comments": [{"owner": {"reputation": 13049, "user_id": 10611983, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/379cd29e7f3b043f4e563fed697dcf75?s=128&d=identicon&r=PG&f=1", "display_name": "iz_", "link": "https://stackoverflow.com/users/10611983/iz"}, "edited": false, "score": 2, "creation_date": 1557356935, "post_id": 56050149, "comment_id": 98741602, "body": "There&#39;s no comma after the first line of the output. Is that a typo? If not, then they are actually the same string; the first line continues to the next."}, {"owner": {"reputation": 6356, "user_id": 5030164, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/11b6c08b9d6554e51280244985e3022d?s=128&d=identicon&r=PG&f=1", "display_name": "modesitt", "link": "https://stackoverflow.com/users/5030164/modesitt"}, "edited": false, "score": 0, "creation_date": 1557357058, "post_id": 56050149, "comment_id": 98741641, "body": "<code>.split(b&#39;\\n&#39;)</code> works as expected on this data on <code>python 3.7.1</code>"}, {"owner": {"reputation": 562, "user_id": 439350, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e8358ab2f769dafcbf1e4db37115a694?s=128&d=identicon&r=PG", "display_name": "personalt", "link": "https://stackoverflow.com/users/439350/personalt"}, "edited": false, "score": 0, "creation_date": 1557357169, "post_id": 56050149, "comment_id": 98741664, "body": "oh crap...  Yeah I see that.  My failure was actually further down  on the mysql insert where I had an extra field.  &#39;&quot;Column count doesn&#39;t match value count at row 1&quot;).  I assume it was this field being split in to two.   Reviewing my code further and will revise this question.. maybe it is the + messing up the mysql"}], "answers": [{"comments": [{"owner": {"reputation": 562, "user_id": 439350, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e8358ab2f769dafcbf1e4db37115a694?s=128&d=identicon&r=PG", "display_name": "personalt", "link": "https://stackoverflow.com/users/439350/personalt"}, "edited": false, "score": 0, "creation_date": 1557363031, "post_id": 56050199, "comment_id": 98742732, "body": "thanks.. yeah this was it, my issue that cause the columns to be off was actually an error in the data set I was being passed"}], "tags": [], "owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "is_accepted": true, "score": 2, "last_activity_date": 1557357212, "creation_date": 1557357212, "answer_id": 56050199, "question_id": 56050149, "link": "https://stackoverflow.com/questions/56050149/python-split-on-t-fooled-by-text-with/56050199#56050199", "title": "Python Split on \\t &#39;fooled&#39; by text with )", "body": "<p>There's no actual extra split there. That's just <code>pprint</code> doing something confusing.</p>\n\n<p>See how there's no comma between <code>...(120ml'</code> and <code>b') bottle'</code>? In Python source code, two bytestring literals with no other tokens between them get implicitly concatenated into a single bytestring. (This also happens with regular Unicode strings.) Try it for yourself:</p>\n\n<pre><code>&gt;&gt;&gt; b'a' b'b'\nb'ab'\n</code></pre>\n\n<p><code>pprint</code> has decided that the first bytestring in the <code>split</code> output is too long to print on one line, so it splits it into two implicitly concatenated bytestrings. <code>split</code> didn't produce an extra split.</p>\n"}], "owner": {"reputation": 562, "user_id": 439350, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e8358ab2f769dafcbf1e4db37115a694?s=128&d=identicon&r=PG", "display_name": "personalt", "link": "https://stackoverflow.com/users/439350/personalt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "accepted_answer_id": 56050199, "answer_count": 1, "score": 0, "last_activity_date": 1557357212, "creation_date": 1557356776, "question_id": 56050149, "link": "https://stackoverflow.com/questions/56050149/python-split-on-t-fooled-by-text-with", "title": "Python Split on \\t &#39;fooled&#39; by text with )", "body": "<p>I have some python code that downloads an amazon report, makes a byte object, and parses it in to individual lines by looking for the \\n.    It mostly works good but a block of text seems to fool the line split.   It is getting fooled by the text at the (120ml) </p>\n\n<p>Code</p>\n\n<pre><code>report = report_api.get_report(report_id=ReportID)\nreport_as_dict = report.parsed  # bytes object\npp.pprint(report_as_dict)\nline_split=report_as_dict.split(b'\\n')\n\nfor line in line_split[1:]:\n   pp.pprint(line)\n</code></pre>\n\n<p>Sample from 'report_as_dict'</p>\n\n<pre><code>b'elete\\tpending-quantity\\tfulfillment-channel\\tmerchant-shipping-group\\nMenic'\nb'on Unique ab Multi-Purpose Solution + abc Case, ONE 8 fl oz (120ml) bot'\nb'tle\\t\\t012312VTS55\\t0P-avac2A-38\\t19.99\\t\\t2019-03-19 13:43:38 PDT\\t\\ty\\t'\n\nb'1\\t\\t\\t11\\t\\t\\t\\tB00E3GXZJA\\t\\t\\t\\t\\t\\tB00E3GXZJA\\t\\t\\t\\tAMAZON_NA\\tMigrat'\nb'ed Template\\nRed Barn Naturals Cat Treats,  6 pack\\t\\t0'\n</code></pre>\n\n<p>Sample of the split - It mostly splits properly on the \\n but has one extra split around the text that was (120ml).  The <code>') bottle'</code> should be part of the line above</p>\n\n<pre><code>[b'Menion on Unique ab Multi-Purpose Solution + abc Case, ONE 8 fl oz (120ml'\nb') bottle',\nb'',\nb'012312VTS55',\nb'0P-avac2A-38',\n</code></pre>\n"}, {"tags": ["python", "image", "canvas", "tkinter"], "comments": [{"owner": {"reputation": 3193, "user_id": 10364425, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FvwHx.png?s=128&g=1", "display_name": "Saad", "link": "https://stackoverflow.com/users/10364425/saad"}, "edited": false, "score": 1, "creation_date": 1557358146, "post_id": 56050058, "comment_id": 98741850, "body": "Replace <code>Tk()</code> on  <code>root</code> and <code>root2</code> with <code>Toplevel()</code> as you shouldn&#39;t use more than one main window as <code>Tk()</code> all the secondary windows have to be <code>Toplevel()</code>. Also you don&#39;t need two <code>mainloop()</code> one is sufficient. You have the same problem as this <a href=\"https://stackoverflow.com/questions/55912283/trying-to-add-an-image-that-functions-like-a-button-but-this-error-image-pyim/55915321#55915321\">post</a>"}, {"owner": {"reputation": 3193, "user_id": 10364425, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FvwHx.png?s=128&g=1", "display_name": "Saad", "link": "https://stackoverflow.com/users/10364425/saad"}, "edited": false, "score": 0, "creation_date": 1557358363, "post_id": 56050058, "comment_id": 98741884, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/55912283/trying-to-add-an-image-that-functions-like-a-button-but-this-error-image-pyim\">Trying to add an image that functions like a button, but this error, image &quot;pyimage2&quot; doesn&#39;t exist, pops up</a>"}], "owner": {"reputation": 1, "user_id": 11283026, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1b41e70d320c75f2f018418141a758ef?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Philips", "link": "https://stackoverflow.com/users/11283026/peter-philips"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 62, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1557357735, "creation_date": 1557356056, "last_edit_date": 1557357735, "question_id": 56050058, "link": "https://stackoverflow.com/questions/56050058/how-to-put-images-on-multiple-canvases", "title": "How to put images on multiple canvases?", "body": "<p>I have written what should be a simple code to have two canvases in Python/Tkinter both having an image. It always fails on the second canvas saying the image does not exist.</p>\n\n<p>I have tried starting with the other canvas and the image works fine on that, but when calling the canvas that previously worked, it again fails.</p>\n\n<p>Also I tried defining the image out of the subroutine and making it global. did not help</p>\n\n<pre><code>from tkinter import *\ndef canvas1():\n    global root,root2,w,photo2,photo1\n    root=Tk()\n    Button(root,text=\"new1\",command=canvas2).grid()\n    photo1 = PhotoImage(file=\"person.png\")\n    photo2 = PhotoImage(file=\"person2.png\")\n    w=Label(root,image=photo1)\n    w.photo = photo1\n    w.grid(column=3,row=1)\n    root.mainloop()\n\ndef canvas2():\n    global root,root2,x,photo2,photo1\n    root2=Tk()\n    Button(root2,text=\"new2\",command=canvas1).grid()\n    photo1 = PhotoImage(file=\"person.png\")\n    photo2 = PhotoImage(file=\"person2.png\")   \n    x=Label(root2,image=photo2)\n    x.photo = photo2\n    x.grid(column=3,row=1)\n\n    root2.mainloop()\n\ncanvas1()\n</code></pre>\n\n<p>I should just have a canvas that calls another with an image on both\nI know the image files are okay as they work fine when that canvas is called first.</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 22778, "user_id": 1554386, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/bfe99a3a73b9284d16127418399762ff?s=128&d=identicon&r=PG", "display_name": "Alastair McCormack", "link": "https://stackoverflow.com/users/1554386/alastair-mccormack"}, "edited": false, "score": 0, "creation_date": 1557386731, "post_id": 56050015, "comment_id": 98749173, "body": "Python is working correctly. As Gzip is not an archive format, all gunzip (or other implementations) can do is to strip the .gz extension when it inflates. If you wish to dictate the output filename, use an archive format like tar or zip."}], "answers": [{"tags": [], "owner": {"reputation": 3429, "user_id": 11332370, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f6dff2145c158175c200ae87e88fbc1?s=128&d=identicon&r=PG&f=1", "display_name": "Alassane Ndiaye", "link": "https://stackoverflow.com/users/11332370/alassane-ndiaye"}, "is_accepted": false, "score": 2, "last_activity_date": 1557385711, "creation_date": 1557385711, "answer_id": 56053960, "question_id": 56050015, "link": "https://stackoverflow.com/questions/56050015/gzipping-files-from-python-is-changing-the-file-names/56053960#56053960", "title": "gzipping files from python is changing the file names", "body": "<p>That's the expected behavior of gzip and gunzip.\nAs mentioned in the manual page: </p>\n\n<blockquote>\n  <p>gunzip  takes  a  list of files on its command line and replaces each\n  file whose name ends with .gz, -gz, .z, -z, or _z (ignoring case) and\n  which begins with  the  correct magic  number  with an uncompressed\n  file without the original extension.</p>\n</blockquote>\n\n<p>If you don't want the name to change, you should not modify the filename when you compress it.</p>\n"}], "owner": {"reputation": 647, "user_id": 6083404, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/TJY7F.jpg?s=128&g=1", "display_name": "Ravi", "link": "https://stackoverflow.com/users/6083404/ravi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 88, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1557385711, "creation_date": 1557355634, "question_id": 56050015, "link": "https://stackoverflow.com/questions/56050015/gzipping-files-from-python-is-changing-the-file-names", "title": "gzipping files from python is changing the file names", "body": "<p>I am trying to gzip files using python 3. When I gzip the files, the code is changing the filename without me doing anything. I am not sure I totally understand the working of gzip module.</p>\n\n<p>Below is the code:</p>\n\n<pre><code>dir_in = '/localfolder/new_files/'\ndir_out = '/localfolder/zippedfiles/\nfile_name = 'transactions_may05'\ndef gzip_files(dir_in, dir_out, file_name):\n    with open(dir_in + file_name, 'rb') as f_in, gzip.open(dir_out + 'unprocessed.' + file_name + '.gz', 'wb') as f_out:\n        f_out.writelines(f_in)\n</code></pre>\n\n<p><strong>Expected Output:</strong>\n<strong>Outer file:</strong> <code>unprocessed.transactions_may05.gz</code>\nwhen I double click it, I should get the original file <code>transactions_may05</code></p>\n\n<p><strong>Current Output:\nOuter file:</strong> <code>unprocessed.transactions_may05.gz</code> -- As expected\nwhen I double click it the internal file also has unprocessed. appended to it. I am not sure why unprocessed. gets appended to internal file name\n<strong>Internal File:</strong><code>unprocessed.transactions_may05</code></p>\n\n<p>Any help would be appreciated. Thank you.</p>\n"}, {"tags": ["python", "numpy"], "answers": [{"tags": [], "owner": {"reputation": 2116, "user_id": 7247547, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/9edc71b8ad82b60fb9955e8adcede03a?s=128&d=identicon&r=PG&f=1", "display_name": "kevinkayaks", "link": "https://stackoverflow.com/users/7247547/kevinkayaks"}, "is_accepted": true, "score": 2, "last_activity_date": 1557357519, "last_edit_date": 1557357519, "creation_date": 1557356404, "answer_id": 56050104, "question_id": 56049995, "link": "https://stackoverflow.com/questions/56049995/how-to-generate-2-clusters-of-scatters-randomly-with-numpy-or-some-other-package/56050104#56050104", "title": "how to generate 2 clusters of scatters randomly with numpy or some other packages in Python?", "body": "<p>Use <code>np.random</code> to generate the point clouds and <code>matplotlib</code> to plot them. </p>\n\n<pre><code>import numpy as np\nimport matplotlib.pyplot as plt\n\n# generate random normally distributed point clouds (customize as needed)\nx1 = np.random.normal(loc=3.0, size=15)\ny1 = np.random.normal(loc=2.0, size=15)\nx2 = np.random.normal(loc=9.0, size=35)\ny2 = np.random.normal(loc=7.0, size=35)\n\n# now do the plotting with matplotlib\nplt.scatter(x1,y1,color='red', marker='+',s=35)\nplt.scatter(x2,y2,color='blue', marker= '^',s=35)\nplt.xlim(-5,15)\nplt.ylim(-5,15)\nplt.xlabel('$x_1$',fontsize=25)\nplt.ylabel('$x_2$',fontsize=25)\nplt.savefig('example.png', bbox_inches='tight')\nplt.show()\n</code></pre>\n\n<p>This generates </p>\n\n<p><a href=\"https://i.stack.imgur.com/kcIQk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kcIQk.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user11074017"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 248, "favorite_count": 0, "accepted_answer_id": 56050104, "answer_count": 1, "score": 0, "last_activity_date": 1557357519, "creation_date": 1557355465, "question_id": 56049995, "link": "https://stackoverflow.com/questions/56049995/how-to-generate-2-clusters-of-scatters-randomly-with-numpy-or-some-other-package", "title": "how to generate 2 clusters of scatters randomly with numpy or some other packages in Python?", "body": "<p>I am trying to draw a plot, like following (call it img_1) , programmatically.</p>\n\n<p><a href=\"https://i.stack.imgur.com/wNyl5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wNyl5.png\" alt=\"enter image description here\"></a></p>\n\n<p>this <a href=\"https://stackoverflow.com/q/43967663/11074017\">post</a> gives a piece of code though, the key is iris dataset </p>\n\n<p><a href=\"https://i.stack.imgur.com/zySCr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zySCr.png\" alt=\"enter image description here\"></a></p>\n\n<p>is there a way to generate 2 group of data randomly with NumPy or some other packages to draw a scatter plot like img_1?</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 1, "creation_date": 1557356014, "post_id": 56049983, "comment_id": 98741397, "body": "In particular, what do you <i>expect</i> to see?  You appended four vending slot objects to a list, and then printed out the list of objects.  That&#39;s what you have: four object handles.  You have no code that reaches into the objects to print out the attributes.  Show us what you want to print, and perhaps take a shot at coding that part.  For instance, a method <code>display_slot</code> that prints the contents might be a good addition to your class."}], "answers": [{"tags": [], "owner": {"reputation": 6802, "user_id": 9609843, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9ceb913f05e91861333b367e0379a8e?s=128&d=identicon&r=PG&f=1", "display_name": "sanyassh", "link": "https://stackoverflow.com/users/9609843/sanyassh"}, "is_accepted": false, "score": 1, "last_activity_date": 1557356155, "creation_date": 1557356155, "answer_id": 56050071, "question_id": 56049983, "link": "https://stackoverflow.com/questions/56049983/classes-and-list-vending-machine/56050071#56050071", "title": "Classes and list (Vending Machine)", "body": "<p>You need to implement <code>__repr__</code> method to see attributes of <code>Vendind_slot</code> when using <code>print</code>. Add this to your class:</p>\n\n<pre><code>def __repr__(self):\n    return f\"{self.product} {self.stock} {self.price}\"\n</code></pre>\n\n<p>Output of <code>print(machine)</code> will be:</p>\n\n<pre><code>[A1 ['Coke', 'Coke', 'Coke'] 1.5,\n A2 ['Water', 'Water', 'Water'] 0.5,\n B1 ['Twix', 'Twix', 'Twix'] 1,\n B2 ['Gum', 'Gum', 'Gum'] 0.8]\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 11146038, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bc75a84bdf71b7bf52ed03683e9249e?s=128&d=identicon&r=PG&f=1", "display_name": "alladin", "link": "https://stackoverflow.com/users/11146038/alladin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 284, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1557372975, "creation_date": 1557355400, "last_edit_date": 1557355836, "question_id": 56049983, "link": "https://stackoverflow.com/questions/56049983/classes-and-list-vending-machine", "title": "Classes and list (Vending Machine)", "body": "<p>I create some code to simulate a vending machine, I want to know what is in the machine, but I do not manage to get there.</p>\n\n<p>This is my output when I print(machine):</p>\n\n<pre><code>[&lt;__main__.Vending_slot object at 0x7fd59f53db38&gt;,\n &lt;__main__.Vending_slot object at 0x7fd59f53dba8&gt;,\n &lt;__main__.Vending_slot object at 0x7fd59f53db00&gt;,\n &lt;__main__.Vending_slot object at 0x7fd59f53dbe0&gt;]\n</code></pre>\n\n<p>Code:</p>\n\n<pre><code>class Vending_slot:\n\n    def __init__(self, product, stock, price):\n        self.product = product\n        self.stock = stock\n        self.price = price\n\n    def dispense_item(self):\n        print(f\"You bought a {self.items[0]}.\")\n        self.items = items[1] \n\n\nmachine = []\nmachine.append(Vending_slot(\"A1\", [\"Coke\",\"Coke\",\"Coke\"], 1.5))\nmachine.append(Vending_slot(\"A2\", [\"Water\",\"Water\",\"Water\"], 0.5))\nmachine.append(Vending_slot(\"B1\", [\"Twix\",\"Twix\",\"Twix\"], 1))\nmachine.append(Vending_slot(\"B2\", [\"Gum\",\"Gum\",\"Gum\"], 0.8))\n\nprint(machine)\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 2939, "user_id": 4711754, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c25453f6a114ebb66aefcc27b0ab44d1?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew Allen", "link": "https://stackoverflow.com/users/4711754/andrew-allen"}, "edited": false, "score": 0, "creation_date": 1557355724, "post_id": 56049969, "comment_id": 98741323, "body": "Flat is better than nested...no need for two while loops here"}, {"owner": {"reputation": 1, "user_id": 11472637, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e92f087d37f6f666ba6fde3a9869bc15?s=128&d=identicon&r=PG&f=1", "display_name": "pythonbeginner", "link": "https://stackoverflow.com/users/11472637/pythonbeginner"}, "reply_to_user": {"reputation": 2939, "user_id": 4711754, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c25453f6a114ebb66aefcc27b0ab44d1?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew Allen", "link": "https://stackoverflow.com/users/4711754/andrew-allen"}, "edited": false, "score": 0, "creation_date": 1557355881, "post_id": 56049969, "comment_id": 98741369, "body": "Could you possibly provide an answer because I&#39;d tried that but to no avail, thanks @AndrewAllen"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 11472637, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e92f087d37f6f666ba6fde3a9869bc15?s=128&d=identicon&r=PG&f=1", "display_name": "pythonbeginner", "link": "https://stackoverflow.com/users/11472637/pythonbeginner"}, "edited": false, "score": 0, "creation_date": 1557357625, "post_id": 56050173, "comment_id": 98741757, "body": "Thank you, I&#39;ll give that a go"}], "tags": [], "owner": {"reputation": 2939, "user_id": 4711754, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c25453f6a114ebb66aefcc27b0ab44d1?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew Allen", "link": "https://stackoverflow.com/users/4711754/andrew-allen"}, "is_accepted": false, "score": 0, "last_activity_date": 1557357003, "creation_date": 1557357003, "answer_id": 56050173, "question_id": 56049969, "link": "https://stackoverflow.com/questions/56049969/python-input-loops-based-on-user-selections-for-event-scoring/56050173#56050173", "title": "Python input loops based on user selections for event scoring", "body": "<pre><code>while True:\n    ans = input(\"Enter option (y, Y):\")\n    if ans == \"\":\n        print(\"finished - exit program\")\n        break\n    if ans in ['y', 'Y']:\n        askQuestion()\n\ndef askQuestion():\n    ...top bit of your code\n</code></pre>\n\n<p>On my mobile so just peudocode provided. There's likley a better way than this. As said in chess if you find a good move look for a better one.\nAlso its canonical to write opening a file inside a <code>with</code> context managerlike so:</p>\n\n<pre><code>with open('filename.txt', 'a') as f:\n    f.write..etc\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 11472637, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e92f087d37f6f666ba6fde3a9869bc15?s=128&d=identicon&r=PG&f=1", "display_name": "pythonbeginner", "link": "https://stackoverflow.com/users/11472637/pythonbeginner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 32, "favorite_count": 0, "closed_date": 1557356123, "answer_count": 1, "score": -1, "last_activity_date": 1557357003, "creation_date": 1557355300, "question_id": 56049969, "link": "https://stackoverflow.com/questions/56049969/python-input-loops-based-on-user-selections-for-event-scoring", "closed_reason": "Duplicate", "title": "Python input loops based on user selections for event scoring", "body": "<p>The idea of the program is as follows;</p>\n\n<p>1) Users are asked to select either 1 or 2</p>\n\n<p>2) If one is selected, the user is prompted to enter the score. If 2 is selected the user should be able to view the scores.</p>\n\n<p>3) After the user has entered or viewed a score they should be able to add another score or view scores. Typing <code>Y</code> should bring them back to the beginning of the program. <code>N</code> Should say they can close the program, or close it.</p>\n\n<p>At the moment, the number selections work for the score entry but I'm not sure how to make it so that the program restarts is the user wishes to add or view more scores. </p>\n\n<p>Here's the program in its current state;</p>\n\n<pre><code>print (\"Type 1 to a add a score.\")\nprint (\"Type 2 to view scores.\")\naction = input(\"Please type a number: \")\nif action == \"1\":\n    print (\"Enter a score?\")\n    eventscore = int(input (\"Please type their score: \") \n    score = eventscore\n    f = open(\"scores.txt\", \"a\")\n    f.write(eventscore)\n    f.write(\"\\n\")\n    f.close()\n    print(\"The score for\" , score, \"has been saved.\")\nelif action == \"2\":\n    print (\"Type 1 to view all scores.\")\n    print (\"Type 2 to view scores for a specific team.\")\n    scorecheck = input(\"Please type a number: \")\n    if scorecheck == \"1\":\n        f = open(\"scores.txt\", \"r\")\n        for line in f:\n            allscores = f.readlines()\n        print(allscores)\n    f.close\nelif scorecheck == \"2\": \n        teamcheck= input (\"Please enter the team name: \")\n\nwhile True:\n    while True:\n        answer = input('Want to add a new score or view existing scores? (Y/N): ')\n        if answer in ('Y', 'N'):\n            break\n        print (\"Please enter 'Y' or 'N'.\")\n    if answer == 'y':\n        continue\n    else:\n        print (\"You can now close the program.\")\n        break\n</code></pre>\n\n<p>Currently the program is able to start, ask the user to pick if they want to add or view scores and then ask if they want to add/view more or close the program. If the user enters 'Y' the program should completely restart, but it still needs to have the loops for adding/viewing. If they type <code>N</code> the program should close.</p>\n\n<p>Any help would be greatly appreciated as I don't know how to get a loop on the overall program when it already contains multiple loops. </p>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 250720, "user_id": 113962, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b80ae1d65878cf68a4b1a00848467527?s=128&d=identicon&r=PG", "display_name": "Alasdair", "link": "https://stackoverflow.com/users/113962/alasdair"}, "edited": false, "score": 0, "creation_date": 1557355538, "post_id": 56049967, "comment_id": 98741272, "body": "You need to change it to <code>def load_data_wrapper(self):</code> before you can use <code>self.load_data()</code>."}, {"owner": {"reputation": 31, "user_id": 11472596, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c67b7b7d90ade14c82bcd39a9aa6be1f?s=128&d=identicon&r=PG&f=1", "display_name": "user810643", "link": "https://stackoverflow.com/users/11472596/user810643"}, "reply_to_user": {"reputation": 250720, "user_id": 113962, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b80ae1d65878cf68a4b1a00848467527?s=128&d=identicon&r=PG", "display_name": "Alasdair", "link": "https://stackoverflow.com/users/113962/alasdair"}, "edited": false, "score": 0, "creation_date": 1557355727, "post_id": 56049967, "comment_id": 98741327, "body": "Tried this already. I then get the error message &quot; TypeError: load_data_wrapper() missing 1 required positional argument: &#39;self&#39;&quot; once I call &quot;MNL.load_data_wrapper()&quot;"}], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 11472596, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c67b7b7d90ade14c82bcd39a9aa6be1f?s=128&d=identicon&r=PG&f=1", "display_name": "user810643", "link": "https://stackoverflow.com/users/11472596/user810643"}, "edited": false, "score": 0, "creation_date": 1557355921, "post_id": 56050005, "comment_id": 98741378, "body": "Cf. my comment above, executing this code and calling &quot;MNL.load_data_wrapper()&quot; I get the error message &quot;TypeError: load_data_wrapper() missing 1 required positional argument: &#39;self&#39;&quot;. Any idea why this is happening?"}, {"owner": {"reputation": 497, "user_id": 6949958, "user_type": "registered", "profile_image": "https://graph.facebook.com/1293230174031144/picture?type=large", "display_name": "Lucas Abbade", "link": "https://stackoverflow.com/users/6949958/lucas-abbade"}, "reply_to_user": {"reputation": 31, "user_id": 11472596, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c67b7b7d90ade14c82bcd39a9aa6be1f?s=128&d=identicon&r=PG&f=1", "display_name": "user810643", "link": "https://stackoverflow.com/users/11472596/user810643"}, "edited": false, "score": 0, "creation_date": 1557356012, "post_id": 56050005, "comment_id": 98741396, "body": "Are you calling the function from a class object? You should have something like: <code>mnl = MNL()</code> <code>mnl.load_data_wrapper()</code>"}, {"owner": {"reputation": 497, "user_id": 6949958, "user_type": "registered", "profile_image": "https://graph.facebook.com/1293230174031144/picture?type=large", "display_name": "Lucas Abbade", "link": "https://stackoverflow.com/users/6949958/lucas-abbade"}, "reply_to_user": {"reputation": 31, "user_id": 11472596, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c67b7b7d90ade14c82bcd39a9aa6be1f?s=128&d=identicon&r=PG&f=1", "display_name": "user810643", "link": "https://stackoverflow.com/users/11472596/user810643"}, "edited": false, "score": 0, "creation_date": 1557356102, "post_id": 56050005, "comment_id": 98741418, "body": "If you call <code>MNL.load_data_wrapper()</code> you are referencing the class itself, not an object of the class, firstly you need to instantiate an object of the class"}, {"owner": {"reputation": 31, "user_id": 11472596, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c67b7b7d90ade14c82bcd39a9aa6be1f?s=128&d=identicon&r=PG&f=1", "display_name": "user810643", "link": "https://stackoverflow.com/users/11472596/user810643"}, "edited": false, "score": 0, "creation_date": 1557356556, "post_id": 56050005, "comment_id": 98741526, "body": "Indeed, calling &quot;mnl = MNL().load_data_wrapper()&quot; I get the desired output &quot;7&quot;. That solved my problem, thanks for your help!"}, {"owner": {"reputation": 13049, "user_id": 10611983, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/379cd29e7f3b043f4e563fed697dcf75?s=128&d=identicon&r=PG&f=1", "display_name": "iz_", "link": "https://stackoverflow.com/users/10611983/iz"}, "edited": false, "score": 0, "creation_date": 1557356840, "post_id": 56050005, "comment_id": 98741581, "body": "You can also make the methods class methods or static methods. If you do so, instantiation is not needed."}], "tags": [], "owner": {"reputation": 497, "user_id": 6949958, "user_type": "registered", "profile_image": "https://graph.facebook.com/1293230174031144/picture?type=large", "display_name": "Lucas Abbade", "link": "https://stackoverflow.com/users/6949958/lucas-abbade"}, "is_accepted": false, "score": 2, "last_activity_date": 1557355572, "creation_date": 1557355572, "answer_id": 56050005, "question_id": 56049967, "link": "https://stackoverflow.com/questions/56049967/cant-call-attribute-of-class-within-the-class-itself-in-python-3-6-5/56050005#56050005", "title": "Can&#39;t call attribute of class within the class itself in Python 3.6.5", "body": "<p>Any reference to object methods or attributes in Python requires the <code>self</code> keyword, and it should always be the first parameter of any class method. To fix your code, it would be:</p>\n\n<pre><code>class MNL(object):\n\n    def load_data(self):\n        r = 3 + 4\n        return r\n\n    def load_data_wrapper(self):\n        s = self.load_data()\n        return s\n</code></pre>\n\n<p>The <code>self</code> parameter receives the reference of the object.</p>\n"}, {"comments": [{"owner": {"reputation": 31, "user_id": 11472596, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c67b7b7d90ade14c82bcd39a9aa6be1f?s=128&d=identicon&r=PG&f=1", "display_name": "user810643", "link": "https://stackoverflow.com/users/11472596/user810643"}, "edited": false, "score": 0, "creation_date": 1557356985, "post_id": 56050125, "comment_id": 98741616, "body": "Thanks for your comment. However, curiously enough, calling &quot;MNL.load_data_wrapper2()&quot; I get the error message &quot;TypeError: load_data() missing 1 required positional argument: &#39;self&#39;&quot;. On the other hand, calling &quot;MNL.load_data_wrapper()&quot; I get the desired output &quot;7&quot;. Any idea why this is happening?"}, {"owner": {"reputation": 689, "user_id": 6770307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xtG9W.jpg?s=128&g=1", "display_name": "bison", "link": "https://stackoverflow.com/users/6770307/bison"}, "reply_to_user": {"reputation": 31, "user_id": 11472596, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c67b7b7d90ade14c82bcd39a9aa6be1f?s=128&d=identicon&r=PG&f=1", "display_name": "user810643", "link": "https://stackoverflow.com/users/11472596/user810643"}, "edited": false, "score": 0, "creation_date": 1557357232, "post_id": 56050125, "comment_id": 98741677, "body": "@user810643 odd, I can not reproduce that issue. There is no argument in that method so that error is perplexing"}, {"owner": {"reputation": 250720, "user_id": 113962, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b80ae1d65878cf68a4b1a00848467527?s=128&d=identicon&r=PG", "display_name": "Alasdair", "link": "https://stackoverflow.com/users/113962/alasdair"}, "edited": false, "score": 0, "creation_date": 1557357430, "post_id": 56050125, "comment_id": 98741725, "body": "Defining <code>load_data_wrapper2</code> without any arguments will only work if you use <code>@staticmethod</code>."}, {"owner": {"reputation": 31, "user_id": 11472596, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c67b7b7d90ade14c82bcd39a9aa6be1f?s=128&d=identicon&r=PG&f=1", "display_name": "user810643", "link": "https://stackoverflow.com/users/11472596/user810643"}, "edited": false, "score": 0, "creation_date": 1557357468, "post_id": 56050125, "comment_id": 98741736, "body": "My bad! I rebooted the Jupyter kernel, and now both &quot;MNL.load_data_wrapper2()&quot; and &quot;MNL.load_data_wrapper()&quot; give the desired output &quot;7&quot;."}], "tags": [], "owner": {"reputation": 689, "user_id": 6770307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xtG9W.jpg?s=128&g=1", "display_name": "bison", "link": "https://stackoverflow.com/users/6770307/bison"}, "is_accepted": false, "score": 0, "last_activity_date": 1557356603, "creation_date": 1557356603, "answer_id": 56050125, "question_id": 56049967, "link": "https://stackoverflow.com/questions/56049967/cant-call-attribute-of-class-within-the-class-itself-in-python-3-6-5/56050125#56050125", "title": "Can&#39;t call attribute of class within the class itself in Python 3.6.5", "body": "<p>Based on the questions I see in the comments I wanted to offer up some changes to the code.</p>\n\n<pre><code>class MNL(object):\n    @staticmethod\n    def load_data():\n        r = 3 + 4\n        return r\n\n    @classmethod\n    def load_data_wrapper(cls):\n        s = cls.load_data()\n        return s\n\n    def load_data_wrapper2():\n        return MNL.load_data()\n</code></pre>\n\n<p>This utilizes <a href=\"https://realpython.com/instance-class-and-static-methods-demystified/\" rel=\"nofollow noreferrer\">Class and Static methods</a> These do not operate on \"self\" but are methods that you still want to tie to a singular class</p>\n\n<pre><code>&gt;&gt;&gt; MNL.load_data_wrapper2()\n7\n&gt;&gt;&gt; MNL.load_data_wrapper()\n7\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 11472596, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c67b7b7d90ade14c82bcd39a9aa6be1f?s=128&d=identicon&r=PG&f=1", "display_name": "user810643", "link": "https://stackoverflow.com/users/11472596/user810643"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 165, "favorite_count": 0, "closed_date": 1557360610, "answer_count": 2, "score": -1, "last_activity_date": 1557356603, "creation_date": 1557355291, "question_id": 56049967, "link": "https://stackoverflow.com/questions/56049967/cant-call-attribute-of-class-within-the-class-itself-in-python-3-6-5", "closed_reason": "Duplicate", "title": "Can&#39;t call attribute of class within the class itself in Python 3.6.5", "body": "<p>Apologies if the following question has already been posed on StackOverflow, but I couldn't find it posted here, nor was I able to find an answer after some time spent Googling.</p>\n\n<p>My question is as follows. I would expect the following Python code,</p>\n\n<pre><code>class MNL(object):\n\n    def load_data():\n        r = 3 + 4\n        return r\n\n    def load_data_wrapper():\n        s = load_data()\n        return s\n</code></pre>\n\n<p>to return the output \"7\". Instead I get the error message \"NameError: name 'load_data' is not defined\".</p>\n\n<p>If I change the second-to-last line to \"s = self.load_data()\" I get \"NameError: name 'self' is not defined\". For reference, I'm using Python 3.6.5.</p>\n\n<p>Any help would be very much appreciated!</p>\n"}, {"tags": ["python", "openpyxl"], "comments": [{"owner": {"reputation": 14362, "user_id": 2385133, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/3a93c5a0f975385738c1f27848f3b50a?s=128&d=identicon&r=PG", "display_name": "Charlie Clark", "link": "https://stackoverflow.com/users/2385133/charlie-clark"}, "edited": false, "score": 0, "creation_date": 1557386485, "post_id": 56049919, "comment_id": 98749047, "body": "<code>cell.number_format</code>"}], "answers": [{"comments": [{"owner": {"reputation": 5007, "user_id": 10924296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/483c21a8a3f03bbf92cb99539ec97dbc?s=128&d=identicon&r=PG&f=1", "display_name": "Reedinationer", "link": "https://stackoverflow.com/users/10924296/reedinationer"}, "reply_to_user": {"reputation": 9777, "user_id": 2342399, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/da7b3bf63455228a889008a1cd76109a?s=128&d=identicon&r=PG", "display_name": "Boosted_d16", "link": "https://stackoverflow.com/users/2342399/boosted-d16"}, "edited": false, "score": 1, "creation_date": 1557356557, "post_id": 56050072, "comment_id": 98741527, "body": "@Boosted_d16 No problem! To figure it out I just used a useful trick of <code>print(dir(cell))</code> to see what methods were available, and tried a couple like <code>style</code> and <code>style_id</code> to figure out what worked. Something to consider in the future!"}], "tags": [], "owner": {"reputation": 5007, "user_id": 10924296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/483c21a8a3f03bbf92cb99539ec97dbc?s=128&d=identicon&r=PG&f=1", "display_name": "Reedinationer", "link": "https://stackoverflow.com/users/10924296/reedinationer"}, "is_accepted": true, "score": 1, "last_activity_date": 1557356174, "creation_date": 1557356174, "answer_id": 56050072, "question_id": 56049919, "link": "https://stackoverflow.com/questions/56049919/read-cell-number-formatting-in-openpyxl/56050072#56050072", "title": "read cell number formatting in openpyxl", "body": "<p>Yes, you can. My script I just made to test looks like this:</p>\n\n<pre><code>from openpyxl import load_workbook\n\nwb = load_workbook(\"test.xlsx\") # or whatever book\nws = wb[\"Sheet1\"] # or whatever sheet\n\nfor row in ws.rows:\n    for cell in row:\n        print(cell.style)\n</code></pre>\n\n<p>With a sample output of:</p>\n\n<pre><code>Normal\nNormal\nNormal\nNormal\nNormal\nNormal\nPercent\nNormal\nNormal\nNormal\nNormal\nNormal\n</code></pre>\n\n<p>Where it is clear I formatted a single cell to be a <code>Percent</code></p>\n"}], "owner": {"reputation": 9777, "user_id": 2342399, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/da7b3bf63455228a889008a1cd76109a?s=128&d=identicon&r=PG", "display_name": "Boosted_d16", "link": "https://stackoverflow.com/users/2342399/boosted-d16"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 416, "favorite_count": 0, "accepted_answer_id": 56050072, "answer_count": 1, "score": 0, "last_activity_date": 1557356174, "creation_date": 1557354934, "question_id": 56049919, "link": "https://stackoverflow.com/questions/56049919/read-cell-number-formatting-in-openpyxl", "title": "read cell number formatting in openpyxl", "body": "<p>I want to <strong>READ</strong> a cell's <strong>number format</strong> using <strong>openpyxl</strong>. More specifically, I want to check if a cell is formatted as '<strong>Percent</strong>' using openpyxl? Is this possible?</p>\n\n<p>I've reviewed the documentation but I couldn't find an answer. </p>\n\n<p>Note:\n1. I am not interested is the cell is a unicode, string, number. I want to know the cell \n2. I don't want to set number formatting instead of want to read</p>\n"}, {"tags": ["python", "json", "api", "elasticsearch", "scroll"], "answers": [{"tags": [], "owner": {"reputation": 180, "user_id": 10839116, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45e09e2637aad794b712104dc466993d?s=128&d=identicon&r=PG&f=1", "display_name": "Gabriel", "link": "https://stackoverflow.com/users/10839116/gabriel"}, "is_accepted": false, "score": 0, "last_activity_date": 1557368187, "last_edit_date": 1557368187, "creation_date": 1557365886, "answer_id": 56051059, "question_id": 56049910, "link": "https://stackoverflow.com/questions/56049910/elasticsearch-scroll-api-issue/56051059#56051059", "title": "ElasticSearch Scroll api issue", "body": "<p>is it because your call is \"return_es_results(res, 100)\" &lt;--- note the 100 in your call.</p>\n\n<p>so it loop until 100... you ask only 100 results! </p>\n\n<p>you may want to paginate?\nif you use django there's some documentation here about pagination:\n<a href=\"https://docs.djangoproject.com/en/2.2/topics/pagination/\" rel=\"nofollow noreferrer\">https://docs.djangoproject.com/en/2.2/topics/pagination/</a></p>\n"}], "owner": {"reputation": 11, "user_id": 11462157, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6cfe9a6bbc3a886c942e44703a4ab861?s=128&d=identicon&r=PG&f=1", "display_name": "peanutbutteryJelly_time", "link": "https://stackoverflow.com/users/11462157/peanutbutteryjelly-time"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 101, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1557368187, "creation_date": 1557354873, "question_id": 56049910, "link": "https://stackoverflow.com/questions/56049910/elasticsearch-scroll-api-issue", "title": "ElasticSearch Scroll api issue", "body": "<p>I am trying to use the scroll API in Python, and i having an issue for it looping through my whole dataset.</p>\n\n<p>I get about 100 results returned when there should be over 150k of them (I can see them in kibana)</p>\n\n<p>attached is my code</p>\n\n<pre><code>res = helpers.scan(client = es, scroll = '2m', query = {\n      \"size\": 10000,\n        \"query\": {\n          \"match\": {\n            \"type\": {\n              \"query\": \"IP_Address\"\n            }}}}, \n    index = \"logstash-*\")\n\n# function to return hits from the elasticsearch query in res\n\ndef get_es_json(es_scan):\n    for hits in es_scan:\n        return hits\n\n# iterate through results with defined number of results\n\ndef return_es_results(es_json_data, num_results):\n    for i in range(num_results):\n        data = get_es_json(es_json_data)\n        print(data['_source']['geoip']['asn'])\n\nreturn_es_results(res, 100)\n</code></pre>\n"}, {"tags": ["python", "pandas", "dataframe"], "comments": [{"owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "edited": false, "score": 0, "creation_date": 1557354818, "post_id": 56049879, "comment_id": 98741105, "body": "so you mean <code>df.loc[mask, column_name] = 0 </code>?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user3026339"}, "reply_to_user": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "edited": false, "score": 0, "creation_date": 1557354881, "post_id": 56049879, "comment_id": 98741126, "body": "Yes, I have edited the description"}, {"owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "edited": false, "score": 0, "creation_date": 1557354922, "post_id": 56049879, "comment_id": 98741135, "body": "Can not reproduced"}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user3026339"}, "edited": false, "score": 0, "creation_date": 1557357587, "post_id": 56050007, "comment_id": 98741752, "body": "With the first approach, can the column names be variables? When I specify the column names as variables an error AttributeError: &#39;DataFrame&#39; object has no attribute &#39;t_col&#39;"}, {"owner": {"reputation": 4521, "user_id": 10041823, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gJ8EW.jpg?s=128&g=1", "display_name": "Alexandre B.", "link": "https://stackoverflow.com/users/10041823/alexandre-b"}, "edited": false, "score": 0, "creation_date": 1557358065, "post_id": 56050007, "comment_id": 98741837, "body": "Look at the update. I have just replaces column names by variables in the code. This is what you mean ?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user3026339"}, "edited": false, "score": 0, "creation_date": 1557358563, "post_id": 56050007, "comment_id": 98741923, "body": "Partially yes, what if <code>s_col</code> in df.s_col was a column name expressed as a variable too? Or is that not allowed?"}, {"owner": {"reputation": 4521, "user_id": 10041823, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gJ8EW.jpg?s=128&g=1", "display_name": "Alexandre B.", "link": "https://stackoverflow.com/users/10041823/alexandre-b"}, "edited": false, "score": 0, "creation_date": 1557358765, "post_id": 56050007, "comment_id": 98741960, "body": "No you can&#39;t because the variable <code>col_over_treshold = &quot;f_col&quot;</code> is a string."}], "tags": [], "owner": {"reputation": 4521, "user_id": 10041823, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gJ8EW.jpg?s=128&g=1", "display_name": "Alexandre B.", "link": "https://stackoverflow.com/users/10041823/alexandre-b"}, "is_accepted": true, "score": 2, "last_activity_date": 1557357954, "last_edit_date": 1557357954, "creation_date": 1557355589, "answer_id": 56050007, "question_id": 56049879, "link": "https://stackoverflow.com/questions/56049879/copy-individual-value-from-one-column-to-other-column-where-conditional-is-satis/56050007#56050007", "title": "Copy individual value from one column to other column where conditional is satisfied", "body": "<p>You can write with <strong><code>loc</code></strong> as you suggest :</p>\n\n<pre><code># Module import\nimport pandas as pd\n\n# Cols names\ncol_over_treshold = \"f_col\"\ncol_to_copy = \"s_col\"\ncol_to_update = \"t_col\"\n\n# Your dataFrame\ndf = pd.DataFrame([[10, 100, 0],\n                   [20, 126, 0],\n                   [65, 164, 0]],\n                  columns=[col_over_treshold, col_to_copy, col_to_update])\n\n# Your treshold\nthreshold = 125\n\n# Process\ndf.loc[df[col_to_copy] &gt; threshold, col_to_update] = df.s_col\n\n#Show results\nprint(df)\n#    f_col  s_col  t_col\n# 0     10    100      0\n# 1     20    126    126\n# 2     65    164    164\n</code></pre>\n\n<p>Or can define a function with a condition that you <strong>apply</strong> to your dataframe :</p>\n\n<pre><code># Your function to apply\ndef process(data):\n    ret = 0\n    if data[col_to_copy] &gt; threshold:\n        ret = data.s_col\n    return ret\n\n\n# Processing\ndf[col_to_update] = df.apply(process, axis=1)\n\n#Show results\nprint(df)\n#    f_col  s_col  t_col\n# 0     10    100      0\n# 1     20    126    126\n# 2     65    164    164\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user3026339"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "accepted_answer_id": 56050007, "answer_count": 1, "score": 1, "last_activity_date": 1557357954, "creation_date": 1557354634, "last_edit_date": 1557354830, "question_id": 56049879, "link": "https://stackoverflow.com/questions/56049879/copy-individual-value-from-one-column-to-other-column-where-conditional-is-satis", "title": "Copy individual value from one column to other column where conditional is satisfied", "body": "<p>I have the following dataframe (call it df).</p>\n\n<pre><code>f_col s_col t_col\n10   100  0\n20   126  0\n65   164  0\n</code></pre>\n\n<p>If f_col is over a threshold, I would like to take the matching value located in col2 and copy it to col3. </p>\n\n<p>A desired example of the same dataframe would be (if the threshold is 125):</p>\n\n<pre><code>f_col s_col t_col\n10   100  0\n20   126  126\n65   164  164\n</code></pre>\n\n<p>I have tried using masks of f_col like so:</p>\n\n<pre><code>mask = df.f_col &gt; 125\ncolumn_name = 't_col'\ndf.loc[mask, column_name] = 0\n</code></pre>\n\n<p>But this induces an error, like so:</p>\n\n<pre><code>AttributeError: 'int' object has no attribute 'iloc'\n</code></pre>\n\n<p>Any help would be greatly appreciated, thank you.</p>\n"}, {"tags": ["python", "python-2.7", "syslog"], "comments": [{"owner": {"reputation": 44820, "user_id": 4492932, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e8938ef2681650e100bc9f83434ef272?s=128&d=identicon&r=PG", "display_name": "DYZ", "link": "https://stackoverflow.com/users/4492932/dyz"}, "edited": false, "score": 1, "creation_date": 1557355493, "post_id": 56049852, "comment_id": 98741267, "body": "You cannot <code>setlogmask(0)</code>. The mask must be a bitwise combination of the <a href=\"https://docs.python.org/3.3/library/syslog.html\" rel=\"nofollow noreferrer\">symbolic constants</a>."}], "answers": [{"tags": [], "owner": {"reputation": 562, "user_id": 1823304, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/239a66d26214bf1199d47ab6181d10df?s=128&d=identicon&r=PG", "display_name": "a small orange", "link": "https://stackoverflow.com/users/1823304/a-small-orange"}, "is_accepted": false, "score": 1, "last_activity_date": 1557355337, "creation_date": 1557355337, "answer_id": 56049975, "question_id": 56049852, "link": "https://stackoverflow.com/questions/56049852/python-2-7-setlogmask0-not-disabling-syslog/56049975#56049975", "title": "Python 2.7: setlogmask(0) not disabling syslog", "body": "<p>From <a href=\"https://docs.python.org/2/library/syslog.html#syslog.openlog\" rel=\"nofollow noreferrer\"><code>syslog.openlog</code></a> manual:</p>\n\n<blockquote>\n  <p>The optional ident keyword argument is a string which is prepended to every message, and defaults to <code>sys.argv[0]</code> with leading path components stripped</p>\n</blockquote>\n\n<p>To save logs in a separate file, use <code>logging.handlers.SysLogHandler</code>: <a href=\"https://stackoverflow.com/questions/3968669/how-to-configure-logging-to-syslog-in-python\">How to configure logging to syslog in Python?</a></p>\n"}, {"tags": [], "owner": {"reputation": 6802, "user_id": 9609843, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9ceb913f05e91861333b367e0379a8e?s=128&d=identicon&r=PG&f=1", "display_name": "sanyassh", "link": "https://stackoverflow.com/users/9609843/sanyassh"}, "is_accepted": true, "score": 2, "last_activity_date": 1557355841, "creation_date": 1557355841, "answer_id": 56050034, "question_id": 56049852, "link": "https://stackoverflow.com/questions/56049852/python-2-7-setlogmask0-not-disabling-syslog/56050034#56050034", "title": "Python 2.7: setlogmask(0) not disabling syslog", "body": "<p>You need to use <code>LOG_MASK(0)</code> to avoid writing <code>HELLO 02</code> and remember previous value of mask to restore it before writing <code>HELLO 03</code>:</p>\n\n<pre><code>from syslog import syslog, setlogmask, LOG_INFO, LOG_MASK, openlog\n\nopenlog('./test.txt')\n\nsyslog(LOG_INFO, \"HELLO 01\")\n\nmask = setlogmask(LOG_MASK(0))\nsyslog(LOG_INFO, \"HELLO 02\")\n\nsetlogmask(mask)\nsyslog(LOG_INFO, \"HELLO 03\")\n</code></pre>\n\n<p>Result in <code>/var/log/syslog</code>:</p>\n\n<pre><code>May  9 01:49:39 sanyash-ub16 ./test.txt: HELLO 01\nMay  9 01:49:39 sanyash-ub16 ./test.txt: HELLO 03\n</code></pre>\n"}], "owner": {"reputation": 97, "user_id": 1127228, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/17c069e1dcfe1adbcb6f75312ca71718?s=128&d=identicon&r=PG", "display_name": "Andre K", "link": "https://stackoverflow.com/users/1127228/andre-k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 126, "favorite_count": 0, "accepted_answer_id": 56050034, "answer_count": 2, "score": 1, "last_activity_date": 1557355841, "creation_date": 1557354453, "question_id": 56049852, "link": "https://stackoverflow.com/questions/56049852/python-2-7-setlogmask0-not-disabling-syslog", "title": "Python 2.7: setlogmask(0) not disabling syslog", "body": "<p>I'm a Python newbie, and the following code wrote the following messages to /var/log/syslog</p>\n\n<pre><code>May  8 22:14:22.531833 almach &lt;info&gt;./test.txt: HELLO 01\nMay  8 22:14:22.531853 almach &lt;info&gt;./test.txt: HELLO 02\nMay  8 22:14:22.531860 almach &lt;info&gt;./test.txt: HELLO 03\n</code></pre>\n\n<p>So, why</p>\n\n<ol>\n<li><p>Messages were written to /var/log/syslog and not ./test.txt?</p></li>\n<li><p>setlogmask(0) was ineffective, and message \"HELLO 02\" was written to syslog?</p></li>\n</ol>\n\n<p>Also, I tested the code in a Linux machine that had demon rsyslogd running, and it might have affected my code somehow.</p>\n\n<pre><code>from syslog import syslog, setlogmask, LOG_INFO, openlog\n\nopenlog('./test.txt')\n\nsyslog(LOG_INFO, \"HELLO 01\")\n\nsetlogmask(0)\nsyslog(LOG_INFO, \"HELLO 02\")\n\nsetlogmask(255)\nsyslog(LOG_INFO, \"HELLO 03\")\n</code></pre>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "edited": false, "score": 0, "creation_date": 1557354707, "post_id": 56049841, "comment_id": 98741074, "body": "remove index dataset = pd.DataFrame(data)"}, {"owner": {"reputation": 4079, "user_id": 3259896, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/641c30a7b383022f22b53c8cedb04e3f?s=128&d=identicon&r=PG&f=1", "display_name": "SantoshGupta7", "link": "https://stackoverflow.com/users/3259896/santoshgupta7"}, "reply_to_user": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "edited": false, "score": 0, "creation_date": 1557354949, "post_id": 56049841, "comment_id": 98741141, "body": "this didn&#39;t give the desired result, please see update"}, {"owner": {"reputation": 3891, "user_id": 4585713, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0163e6ba41d9dfd2c9d13c528c87e1f5?s=128&d=identicon&r=PG&f=1", "display_name": "PMende", "link": "https://stackoverflow.com/users/4585713/pmende"}, "edited": false, "score": 0, "creation_date": 1557356391, "post_id": 56049841, "comment_id": 98741483, "body": "Why use pandas at all if you want to put multi-dimensional data into a cell of the DataFrames? You&#39;re getting all of the bloat of a large package without being able to use any of its benefits."}], "answers": [{"comments": [{"owner": {"reputation": 4079, "user_id": 3259896, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/641c30a7b383022f22b53c8cedb04e3f?s=128&d=identicon&r=PG&f=1", "display_name": "SantoshGupta7", "link": "https://stackoverflow.com/users/3259896/santoshgupta7"}, "edited": false, "score": 0, "creation_date": 1557355641, "post_id": 56049947, "comment_id": 98741297, "body": "it worked but now the problem is that my data was float16, it convereted it back to float32"}, {"owner": {"reputation": 4079, "user_id": 3259896, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/641c30a7b383022f22b53c8cedb04e3f?s=128&d=identicon&r=PG&f=1", "display_name": "SantoshGupta7", "link": "https://stackoverflow.com/users/3259896/santoshgupta7"}, "edited": false, "score": 0, "creation_date": 1557357667, "post_id": 56049947, "comment_id": 98741763, "body": "That worked! I wonder why the first option was converting to float32"}, {"owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "reply_to_user": {"reputation": 4079, "user_id": 3259896, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/641c30a7b383022f22b53c8cedb04e3f?s=128&d=identicon&r=PG&f=1", "display_name": "SantoshGupta7", "link": "https://stackoverflow.com/users/3259896/santoshgupta7"}, "edited": false, "score": 0, "creation_date": 1557363004, "post_id": 56049947, "comment_id": 98742726, "body": "@SantoshGupta7 list may not carry over the dtype"}], "tags": [], "owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "is_accepted": true, "score": 1, "last_activity_date": 1557356635, "last_edit_date": 1557356635, "creation_date": 1557355163, "answer_id": 56049947, "question_id": 56049841, "link": "https://stackoverflow.com/questions/56049841/padas-how-do-i-create-a-dataset-where-the-column-is-a-multidimensional-array/56049947#56049947", "title": "Padas, how do I create a dataset where the column is a multidimensional array?", "body": "<p>Do you mean </p>\n\n<pre><code>pd.Series(a.tolist())\n</code></pre>\n\n<p>Update </p>\n\n<pre><code>pd.Series([x for x in a])\n</code></pre>\n"}], "owner": {"reputation": 4079, "user_id": 3259896, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/641c30a7b383022f22b53c8cedb04e3f?s=128&d=identicon&r=PG&f=1", "display_name": "SantoshGupta7", "link": "https://stackoverflow.com/users/3259896/santoshgupta7"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "accepted_answer_id": 56049947, "answer_count": 1, "score": 0, "last_activity_date": 1557356635, "creation_date": 1557354375, "last_edit_date": 1557354937, "question_id": 56049841, "link": "https://stackoverflow.com/questions/56049841/padas-how-do-i-create-a-dataset-where-the-column-is-a-multidimensional-array", "title": "Padas, how do I create a dataset where the column is a multidimensional array?", "body": "<p>This is what my data looks like</p>\n\n<pre><code>print(data)\n&gt;\narray([[ 0.369  , -0.3396 ,  0.1017 , ...,  0.2164 , -0.11163, -0.6025 ],\n       [ 0.548  , -0.2668 , -0.1425 , ..., -0.3198 , -0.599  ,  0.04703],\n       [ 0.761  , -0.2515 ,  0.02998, ...,  0.04663, -0.3276 , -0.1771 ],\n       ...,\n       [ 0.2148 , -0.492  , -0.03586, ...,  0.1157 , -0.299  , -0.12   ],\n       [ 0.775  , -0.2622 , -0.1372 , ...,  0.356  , -0.2673 , -0.1897 ],\n       [ 0.775  , -0.2622 , -0.1372 , ...,  0.356  , -0.2673 , -0.1897 ]],\n      dtype=float16)\n</code></pre>\n\n<p>I am trying to convert this to a column in pandas using this</p>\n\n<pre><code>dataset = pd.DataFrame(data,  index=[0])\nprint(dataset)\n</code></pre>\n\n<p>But I get this error</p>\n\n<pre><code>---------------------------------------------------------------------------\nValueError                                Traceback (most recent call last)\n/usr/local/lib/python3.6/dist-packages/pandas/core/internals/managers.py in create_block_manager_from_blocks(blocks, axes)\n   1652 \n-&gt; 1653         mgr = BlockManager(blocks, axes)\n   1654         mgr._consolidate_inplace()\n\n7 frames\nValueError: Shape of passed values is (267900, 768), indices imply (1, 768)\n\nDuring handling of the above exception, another exception occurred:\n\nValueError                                Traceback (most recent call last)\n/usr/local/lib/python3.6/dist-packages/pandas/core/internals/managers.py in construction_error(tot_items, block_shape, axes, e)\n   1689         raise ValueError(\"Empty data passed with indices specified.\")\n   1690     raise ValueError(\"Shape of passed values is {0}, indices imply {1}\".format(\n-&gt; 1691         passed, implied))\n   1692 \n   1693 \n\nValueError: Shape of passed values is (267900, 768), indices imply (1, 768)\n</code></pre>\n\n<p>It looks like the tricky part is having a whole array as a row entry. </p>\n\n<p>There was a suggestion of </p>\n\n<p>\"remove index dataset = pd.DataFrame(data) \"</p>\n\n<p>However , this does not give the desired result. Here's what the result looks like</p>\n\n<pre><code>dataset = pd.DataFrame(embeds16[:,0])\ndataset.head()\n\n\n0   1   2   3   4   5   6   7   8   9   ... 758 759 760 761 762 763 764 765 766 767\n0   0.368896    -0.339600   0.101685    0.679199    -0.201904   -0.247192   -0.032776   -0.057098   0.287354    -0.356689   ... 0.064453    0.548340    -0.047729   -0.615723   -0.225464   -0.071106   -0.254395   0.216431    -0.111633   -0.602539\n1   0.547852    -0.266846   -0.142456   1.327148    -0.135254   -0.376953   -0.221069   -0.273926   -0.099609   -0.146118   ... 0.138184    0.446777    -0.577637   0.051300    0.187378    0.171021    0.079163    -0.319824   -0.599121   0.047028\n2   0.761230    -0.251465   0.029984    1.008789    -0.311279   -0.419922   -0.015869   -0.019196   0.016174    -0.284424   ... 0.152100    0.452881    -0.265381   -0.272949   0.029831    0.002472    0.186646    0.046631    -0.327637   -0.177124\n3   0.690918    -0.374756   -0.008820   0.869141    -0.496582   -0.546875   0.060028    0.139893    -0.032471   -0.120361   ... 0.040314    0.391113    -0.420898   -0.342285   0.191650    0.350830    0.083130    0.028137    -0.488525   -0.157349\n4   0.583008    -0.342529   -0.073608   0.683105    -0.071777   -0.390137   -0.174316   0.154541    0.170410    -0.184692   ... 0.326416    0.450928    0.083923    -0.331299   -0.207520   \n</code></pre>\n\n<p>I am looking to have the entire array in a single column, not spread over multiple </p>\n"}, {"tags": ["python", "regex", "csv", "beautifulsoup", "delimiter"], "comments": [{"owner": {"reputation": 1918, "user_id": 8961316, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YzXbi.jpg?s=128&g=1", "display_name": "0xInfection", "link": "https://stackoverflow.com/users/8961316/0xinfection"}, "edited": false, "score": 0, "creation_date": 1557362863, "post_id": 56049827, "comment_id": 98742695, "body": "Try the <code>strip()</code> function, which will trim out the whitespaces."}, {"owner": {"reputation": 33, "user_id": 11455751, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a96d9137f811a387ab588f8947233dd8?s=128&d=identicon&r=PG&f=1", "display_name": "evolve710", "link": "https://stackoverflow.com/users/11455751/evolve710"}, "reply_to_user": {"reputation": 1918, "user_id": 8961316, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YzXbi.jpg?s=128&g=1", "display_name": "0xInfection", "link": "https://stackoverflow.com/users/8961316/0xinfection"}, "edited": false, "score": 0, "creation_date": 1557368181, "post_id": 56049827, "comment_id": 98743714, "body": "No luck as of yet, thanks for the suggestion though."}, {"owner": {"reputation": 1918, "user_id": 8961316, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YzXbi.jpg?s=128&g=1", "display_name": "0xInfection", "link": "https://stackoverflow.com/users/8961316/0xinfection"}, "edited": false, "score": 0, "creation_date": 1557369138, "post_id": 56049827, "comment_id": 98743928, "body": "I&#39;m far away from my laptop. Will test this as soon as I&#39;m near to it and let you know."}], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 11455751, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a96d9137f811a387ab588f8947233dd8?s=128&d=identicon&r=PG&f=1", "display_name": "evolve710", "link": "https://stackoverflow.com/users/11455751/evolve710"}, "edited": false, "score": 0, "creation_date": 1557417771, "post_id": 56051457, "comment_id": 98766947, "body": "Thank you so much, version 2 worked perfectly. You really saved me countless headaches."}, {"owner": {"reputation": 166, "user_id": 11199887, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d07f3e6fcc0896004f7ca6e83878343?s=128&d=identicon&r=PG&f=1", "display_name": "kcontr", "link": "https://stackoverflow.com/users/11199887/kcontr"}, "reply_to_user": {"reputation": 33, "user_id": 11455751, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a96d9137f811a387ab588f8947233dd8?s=128&d=identicon&r=PG&f=1", "display_name": "evolve710", "link": "https://stackoverflow.com/users/11455751/evolve710"}, "edited": false, "score": 0, "creation_date": 1557418172, "post_id": 56051457, "comment_id": 98767132, "body": "Glad it fit what you were looking for! @evolve710"}], "tags": [], "owner": {"reputation": 166, "user_id": 11199887, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d07f3e6fcc0896004f7ca6e83878343?s=128&d=identicon&r=PG&f=1", "display_name": "kcontr", "link": "https://stackoverflow.com/users/11199887/kcontr"}, "is_accepted": true, "score": 1, "last_activity_date": 1557412046, "last_edit_date": 1557412046, "creation_date": 1557369536, "answer_id": 56051457, "question_id": 56049827, "link": "https://stackoverflow.com/questions/56049827/python-how-to-use-split-delimiter-to-remove-white-space-on-csv/56051457#56051457", "title": "Python how to use split delimiter to remove white-space on csv", "body": "<p>UPDATE: I found an issue in my original post, here are better versions. The empty <code>&lt;td&gt;</code> tags create some extra columns. Version 1 leaves those columns in, version 2 removes them but it's very specific to the format you've given and the slices would have to modified if the format changed.</p>\n\n<p>VERSION 1</p>\n\n<pre><code>import csv\nfrom bs4 import BeautifulSoup\n\nwith open(\"recallist.html\") as f:\n    soup = BeautifulSoup(f.read(), features=\"html.parser\")\n\nrows = soup.find_all('tr')\nwith open('recallist.csv', 'w', newline='') as csvfile:\n    writer = csv.writer(csvfile)\n    for row in rows:\n        columns = row.find_all('td')\n        writer.writerow([column.get_text(strip=True) for column in columns])\n</code></pre>\n\n<p>VERSION 2</p>\n\n<pre><code>import csv\nfrom bs4 import BeautifulSoup\n\nwith open(\"recallist.html\") as f:\n    soup = BeautifulSoup(f.read(), features=\"html.parser\")\n\nrows = soup.find_all('tr')\nwith open('recallist.csv', 'w', newline='') as csvfile:\n    writer = csv.writer(csvfile)\n    #alt: 'for row in rows[2:]:' to slice off the two header rows\n    for row in rows: \n        columns = row.find_all('td')\n        del columns[0]\n        del columns[-4:-1]\n        writer.writerow([column.get_text(strip=True) for column in columns])\n</code></pre>\n\n<p>If your real HTML actually has multiple tables with a variety of columns, this would need to be adapted. Hope it helps!</p>\n"}], "owner": {"reputation": 33, "user_id": 11455751, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a96d9137f811a387ab588f8947233dd8?s=128&d=identicon&r=PG&f=1", "display_name": "evolve710", "link": "https://stackoverflow.com/users/11455751/evolve710"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 188, "favorite_count": 0, "accepted_answer_id": 56051457, "answer_count": 1, "score": 1, "last_activity_date": 1557412046, "creation_date": 1557354301, "last_edit_date": 1557354755, "question_id": 56049827, "link": "https://stackoverflow.com/questions/56049827/python-how-to-use-split-delimiter-to-remove-white-space-on-csv", "title": "Python how to use split delimiter to remove white-space on csv", "body": "<p>I'm working on a piece of code that converts html tables into a csv file. I'm having trouble figuring out how to remove the white-space between the information I'm printing to terminal using string split. My best result has the terminal printing large gaps between information which makes it hard to navigate. Any information would be greatly appreciated. </p>\n\n<pre><code>import csv\nfrom bs4 import BeautifulSoup\nfrom termcolor import cprint\n\nhtml = open(\"recallist.html\").read()\nsoup = BeautifulSoup(html)\ntable = soup.find_all('div', {'id': 'PrintArea'})\noutput_rows = []\nrecals = 'recallist.csv'\ncprint('READING TABLES', 'green')\nfor table_row in table:\n    columns = table_row.findAll('td')\n    output_row = []\n    for column in columns:\n        output_row.append(column.text)\n    output_rows.append(output_row)\n    with open('recallist.csv', 'w', newline='') as csvfile:\n        writer = csv.writer(csvfile)\n        writer.writerows(output_rows)\n    with open(recals, 'r') as f:\n        contents = f.read()\n        for item in contents.split(\"Date,Customer,Phone,Cell Phone,Removal,Notes\"):\n            for refine in item.split('\",,'):\n                print(refine)\n\n</code></pre>\n\n<p>A sample of the CSV listed below:</p>\n\n<pre><code>Location,,,Date,Customer,Phone,Cell Phone,Removal,Notes,\ufffd,\ufffd,\ufffd,,04/29/19 | 03:00 PM,[9999] FIRST LAST,999-999-9999***,999-999-9999,,\"\n\",,\"\n\",\"\n\n$127.92\n                 \",,04/29/19 | 03:30 PM,[123456] FIRST LAST,999-999-9999***,999-999-9999,04/13/2020,\"\n\",,\"\n\",\"\n\n$0.02\n                 \",,04/29/19 | 04:00 PM,[123456] FIRST LAST,999-999-9999***,,09/10/2019,\"\n\",,\"\n\",\"\n\n($212.10)\n                 \",,04/29/19 | 04:15 PM,[123456] FIRST LAST,999-999-9999***,,01/09/2020,\"\n\",,\"\n\",\"\n\n$16.23\n                 \",,04/29/19 | 04:30 PM,[123456] FIRST LAST,999-999-9999***,,05/30/2019,\"\n\",,\"\n\",\"\n\n$0.24\n                 \",,04/29/19 | 05:00 PM,[123456] FIRST LAST,999-999-9999***,,07/26/2019,\"\n\",,\"\n\",\"\n\n($0.30)\n                 \",,04/29/19 | 07:00 PM,[123456] FIRST LAST,999-999-9999***,999-999-9999,11/15/2019,\"\n\",,\"\n\",\"\n\n$0.06\n                 \",,04/29/19 | 07:30 PM,[123456] FIRST LAST,999-999-9999***,,12/12/2019,\"\n\",,\"\n\",\"\n\n</code></pre>\n\n<p>The format I'm trying to achieve:</p>\n\n<pre><code>04/29/19 | 03:00 PM,[9999] FIRST LAST,999-999-9999***,999-999-9999,$127.92\n04/29/19 | 03:30 PM,[99999] FIRST LAST,999-999-9999***,999-999-9999,$0.02\nETC.\n</code></pre>\n\n<p>Sample of html in case it is needed:</p>\n\n<pre><code>&lt;tbody&gt;&lt;tr class=\"alt\"&gt;\n            &lt;td colspan=\"5\" align=\"left\" style=\"background-color:668cd9;\"&gt;Location&lt;/td&gt;\n            &lt;td colspan=\"5\" align=\"left\" style=\"background-color:668cd9;\"&gt;&lt;/td&gt;\n            &lt;/tr&gt;\n            &lt;tr align=\"left\" class=\"GrayBLOCK\"&gt;\n              &lt;td&gt;&lt;/td&gt;\n              &lt;td&gt;Date&lt;/td&gt;\n              &lt;td&gt;Customer&lt;/td&gt;\n              &lt;td&gt;Phone&lt;/td&gt;\n              &lt;td&gt;Cell Phone&lt;/td&gt;\n              &lt;td&gt;Removal&lt;/td&gt;\n              &lt;td&gt;Notes&lt;/td&gt;\n              &lt;td&gt; &lt;/td&gt;\n              &lt;td&gt; &lt;/td&gt;\n              &lt;td&gt; &lt;/td&gt;\n            &lt;/tr&gt;\n\n\n\n\n\n\n\n\n\n\n\n\n               &lt;tr class=\"alt\"&gt;\n                &lt;td&gt;&lt;/td&gt;\n                &lt;td&gt;04/29/19 | 03:00 PM&lt;/td&gt;\n                &lt;td&gt;&lt;a href=\"../code/c_newClient.cfm?theID=99999\" target=\"_blank\"&gt;[9999]&lt;/a&gt; FIRST LAST&lt;/td&gt;\n                &lt;td&gt;999-999-9999***&lt;/td&gt;\n                &lt;td&gt;999-999-9999&lt;/td&gt;\n                &lt;td&gt;&lt;/td&gt;\n                &lt;td&gt;\n\n                &lt;/td&gt;\n                &lt;td&gt;&lt;/td&gt;\n                &lt;td&gt;\n    &lt;/td&gt;\n                &lt;td align=\"right\" class=\"RedMED\"&gt;\n\n$127.92\n                 &lt;/td&gt;\n              &lt;/tr&gt;\n\n\n\n\n\n\n\n\n\n\n\n               &lt;tr&gt;\n                &lt;td&gt;&lt;/td&gt;\n                &lt;td&gt;04/29/19 | 03:30 PM&lt;/td&gt;\n                &lt;td&gt;&lt;a href=\"../code/c_newClient.cfm?theID=99999\" target=\"_blank\"&gt;[999999]&lt;/a&gt; FIRST LAST&lt;/td&gt;\n                &lt;td&gt;999-999-9999***&lt;/td&gt;\n                &lt;td&gt;999-999-9999&lt;/td&gt;\n                &lt;td&gt;04/13/2020&lt;/td&gt;\n                &lt;td&gt;\n\n                &lt;/td&gt;\n                &lt;td&gt;&lt;/td&gt;\n                &lt;td&gt;\n    &lt;/td&gt;\n                &lt;td align=\"right\" class=\"RedMED\"&gt;\n\n$0.02\n                 &lt;/td&gt;\n              &lt;/tr&gt;\n\n\n\n\n\n\n\n\n\n\n\n               &lt;tr class=\"alt\"&gt;\n                &lt;td&gt;&lt;/td&gt;\n                &lt;td&gt;04/29/19 | 04:00 PM&lt;/td&gt;\n                &lt;td&gt;&lt;a href=\"../code/c_newClient.cfm?theID=99999\" target=\"_blank\"&gt;[999999]&lt;/a&gt; FIRST LAST&lt;/td&gt;\n                &lt;td&gt;999-999-9999***&lt;/td&gt;\n                &lt;td&gt;&lt;/td&gt;\n                &lt;td&gt;09/10/2019&lt;/td&gt;\n                &lt;td&gt;\n\n                &lt;/td&gt;\n                &lt;td&gt;&lt;/td&gt;\n                &lt;td&gt;\n    &lt;/td&gt;\n                &lt;td align=\"right\" class=\"RedMED\"&gt;\n\n($212.10)\n                 &lt;/td&gt;\n              &lt;/tr&gt;\n\n\n\n\n\n\n\n\n\n\n\n               &lt;tr&gt;\n                &lt;td&gt;&lt;/td&gt;\n                &lt;td&gt;04/29/19 | 04:15 PM&lt;/td&gt;\n                &lt;td&gt;&lt;a href=\"../code/c_newClient.cfm?theID=99999\" target=\"_blank\"&gt;[999999]&lt;/a&gt; FIRST LAST&lt;/td&gt;\n                &lt;td&gt;999-999-9999***&lt;/td&gt;\n                &lt;td&gt;&lt;/td&gt;\n                &lt;td&gt;01/09/2020&lt;/td&gt;\n                &lt;td&gt;\n\n                &lt;/td&gt;\n                &lt;td&gt;&lt;/td&gt;\n                &lt;td&gt;\n    &lt;/td&gt;\n                &lt;td align=\"right\" class=\"RedMED\"&gt;\n\n$16.23\n                 &lt;/td&gt;\n              &lt;/tr&gt;\n\n\n\n\n\n\n\n\n\n\n\n               &lt;tr class=\"alt\"&gt;\n                &lt;td&gt;&lt;/td&gt;\n                &lt;td&gt;04/29/19 | 04:30 PM&lt;/td&gt;\n                &lt;td&gt;&lt;a href=\"../code/c_newClient.cfm?theID=99999\" target=\"_blank\"&gt;[999999]&lt;/a&gt; FIRST LAST&lt;/td&gt;\n                &lt;td&gt;999-999-9999***&lt;/td&gt;\n                &lt;td&gt;&lt;/td&gt;\n                &lt;td&gt;05/30/2019&lt;/td&gt;\n                &lt;td&gt;\n\n                &lt;/td&gt;\n                &lt;td&gt;&lt;/td&gt;\n                &lt;td&gt;\n    &lt;/td&gt;\n                &lt;td align=\"right\" class=\"RedMED\"&gt;\n\n$0.24\n                 &lt;/td&gt;\n              &lt;/tr&gt;\n\n\n\n\n\n\n\n\n\n\n\n               &lt;tr&gt;\n                &lt;td&gt;&lt;/td&gt;\n                &lt;td&gt;04/29/19 | 05:00 PM&lt;/td&gt;\n                &lt;td&gt;&lt;a href=\"../code/c_newClient.cfm?theID=99999\" target=\"_blank\"&gt;[999999]&lt;/a&gt; FIRST LAST&lt;/td&gt;\n                &lt;td&gt;999-999-9999***&lt;/td&gt;\n                &lt;td&gt;&lt;/td&gt;\n                &lt;td&gt;07/26/2019&lt;/td&gt;\n                &lt;td&gt;\n\n                &lt;/td&gt;\n                &lt;td&gt;&lt;/td&gt;\n                &lt;td&gt;\n    &lt;/td&gt;\n                &lt;td align=\"right\" class=\"RedMED\"&gt;\n\n($0.30)\n                 &lt;/td&gt;\n              &lt;/tr&gt;\n\n\n\n\n\n\n\n\n\n\n\n               &lt;tr class=\"alt\"&gt;\n                &lt;td&gt;&lt;/td&gt;\n                &lt;td&gt;04/29/19 | 07:00 PM&lt;/td&gt;\n                &lt;td&gt;&lt;a href=\"../code/c_newClient.cfm?theID=99999\" target=\"_blank\"&gt;[999999]&lt;/a&gt; FIRST LAST&lt;/td&gt;\n                &lt;td&gt;999-999-9999***&lt;/td&gt;\n                &lt;td&gt;999-999-9999&lt;/td&gt;\n                &lt;td&gt;11/15/2019&lt;/td&gt;\n                &lt;td&gt;\n\n                &lt;/td&gt;\n                &lt;td&gt;&lt;/td&gt;\n                &lt;td&gt;\n    &lt;/td&gt;\n                &lt;td align=\"right\" class=\"RedMED\"&gt;\n\n$0.06\n                 &lt;/td&gt;\n              &lt;/tr&gt;\n</code></pre>\n"}, {"tags": ["python", "user-interface", "position", "window"], "comments": [{"owner": {"reputation": 13209, "user_id": 7414759, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b272ce66c7c245c6cbe9a830691daddc?s=128&d=identicon&r=PG&f=1", "display_name": "stovfl", "link": "https://stackoverflow.com/users/7414759/stovfl"}, "edited": false, "score": 0, "creation_date": 1557391580, "post_id": 56049788, "comment_id": 98751778, "body": "From <a href=\"https://pypi.org/project/guizero/\" rel=\"nofollow noreferrer\">Project description - guizero</a> <i>&quot;guizero only requires tkinter&quot;</i>, therefore any <code>tkinter</code> solution should work. Add a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> to your Question."}], "answers": [{"tags": [], "owner": {"reputation": 21, "user_id": 11461560, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HD4w7.png?s=128&g=1", "display_name": "Thot", "link": "https://stackoverflow.com/users/11461560/thot"}, "is_accepted": false, "score": 1, "last_activity_date": 1557425657, "creation_date": 1557425657, "answer_id": 56065336, "question_id": 56049788, "link": "https://stackoverflow.com/questions/56049788/how-do-you-specify-or-read-the-position-of-the-main-app-window-with-guizero/56065336#56065336", "title": "How do you specify or read the position of the main app window with guizero?", "body": "<p>I found the answer!</p>\n\n<p>Apparently you can use tkinter methods and properties directly on guizero objects.\nAs it happens, the <strong>geometry</strong> property returns a string that contains the window coordinates.</p>\n\n<p>so this is an example:</p>\n\n<pre><code>from guizero import App, PushButton\n\n#___________________________________\ndef appos(event_data):\n    \"\"\" Print the coordinates of the Window position,\n        of the mouse position on the screen\n        and of the mouse position within the window\"\"\"\n\n    # Absolute mouse position on display\n    mouse_x, mouse_y = (event_data.display_x), (event_data.display_y)\n\n    # tk.geometry() returns the size and coordinates of a window in a string\n    wincord = (app.tk.geometry()).split(\"+\")[1:] # Discards size \n\n    # Coordinates of (top left corner) of window\n    wincord_x, wincord_y = int(wincord[0]), int (wincord[1])\n\n    # Relative mouse position within the window\n    mouse_rel_x = mouse_x - wincord_x\n    mouse_rel_y = mouse_y - wincord_y\n\n    print (\"Window position on display: \", wincord_x, wincord_y)\n    print (\"Mouse position on entire display: \", mouse_x, mouse_y)\n    print (\"Mouse position in window: \", mouse_rel_x, mouse_rel_y)\n    print()\n#_________________________________\n\napp = App(layout=\"grid\")\n\napp.when_clicked = appos # Call the function that prints the positions\n\n# Creates a list of lists (kinda a 2-dimension array) with \n# placeholders to be filled with buttons\nbt = [[0,1,2,3,4,5,6,7],\n[0,1,2,3,4,5,6,7],\n[0,1,2,3,4,5,6,7],\n[0,1,2,3,4,5,6,7],\n[0,1,2,3,4,5,6,7],\n[0,1,2,3,4,5,6,7],\n[0,1,2,3,4,5,6,7],\n[0,1,2,3,4,5,6,7]]\n\n# creates an array of 8x8 buttons and arrange them on the window\nfor x in range (8):\n    for y in range (8):\n        bt[x][y] = PushButton(app, text= str(x)+str(y), grid= [x, y])\n        # bt[x][y].when_clicked = clicked # For future use\n\napp.display()\n</code></pre>\n\n<p>As you can see, by clicking anywhere on the window, you get the correct mouse position within the window even if it is covered by buttons!</p>\n"}], "owner": {"reputation": 21, "user_id": 11461560, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HD4w7.png?s=128&g=1", "display_name": "Thot", "link": "https://stackoverflow.com/users/11461560/thot"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 516, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1557425657, "creation_date": 1557354109, "question_id": 56049788, "link": "https://stackoverflow.com/questions/56049788/how-do-you-specify-or-read-the-position-of-the-main-app-window-with-guizero", "title": "How do you specify or read the position of the main app window with guizero?", "body": "<p>I need to specify, or just read, the position (x and y coordinates of the top left corner) of the main app window in guizero.\nApparently the App object does not have x and y positions properties that I can set or read.\nI found on this forum a solution for this issue with TkInter but not guizero.</p>\n\n<p>My goal is actually to be able to tell the mouse position within the app window. I can tell the mouse position with respect of the entire screen with the event data <strong>display_x</strong> and <strong>display_y</strong> and those change if I move the window around but I could use these values if I could account for the position of the window on the screen so, how do I find that out?</p>\n\n<p>The event data x and y, which are meant precisely to return the relative x and y position of the mouse within a widget, will NOT work IF that particular region of the window is \"covered\" by a widget like a text or a button.</p>\n\n<p>I am using Windows 10 and Python 3</p>\n\n<p>event_data.display_x = x position of the mouse on the entire display</p>\n\n<p>event_data.x = x position of the mouse on a widget. \nCannot use for the app window if that position is \"covered\" by a widget</p>\n"}, {"tags": ["python", "web-scraping", "beautifulsoup"], "comments": [{"owner": {"reputation": 1484, "user_id": 7410383, "user_type": "registered", "profile_image": "https://graph.facebook.com/10211966226936527/picture?type=large", "display_name": "Edeki Okoh", "link": "https://stackoverflow.com/users/7410383/edeki-okoh"}, "edited": false, "score": 0, "creation_date": 1557354262, "post_id": 56049736, "comment_id": 98740975, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/23555283/why-cant-i-scrape-amazon-by-beautifulsoup\">Why can&#39;t I scrape Amazon by BeautifulSoup?</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1918, "user_id": 8961316, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YzXbi.jpg?s=128&g=1", "display_name": "0xInfection", "link": "https://stackoverflow.com/users/8961316/0xinfection"}, "is_accepted": false, "score": 1, "last_activity_date": 1557362712, "creation_date": 1557362712, "answer_id": 56050730, "question_id": 56049736, "link": "https://stackoverflow.com/questions/56049736/beautifulsoup-isnt-working-while-web-scraping-amazon/56050730#56050730", "title": "BeautifulSoup isn&#39;t working while web scraping Amazon", "body": "<blockquote>\n  <p>The User-Agent request header contains a characteristic string that allows the network protocol peers to identify the application type, operating system, software vendor or software version of the requesting software user agent. Validating User-Agent header on server side is a common operation so be sure to use valid browser\u2019s User-Agent string to avoid getting blocked.</p>\n</blockquote>\n\n<p><em>(Source: <a href=\"http://go-colly.org/articles/scraping_related_http_headers/\" rel=\"nofollow noreferrer\">http://go-colly.org/articles/scraping_related_http_headers/</a>)</em></p>\n\n<p>The only thing you need to do is to set a legitimate user-agent. Therefore add headers to emulate a browser. :</p>\n\n<pre><code># This is a standard user-agent of Chrome browser running on Windows 10 \nheaders = { 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.98 Safari/537.36' } \n</code></pre>\n\n<p>Example:</p>\n\n<pre><code>from bs4 import BeautifulSoup\nimport requests \nheaders={'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.98 Safari/537.36'}\nresp = requests.get('https://www.amazon.com', headers=headers).text \nsoup = BeautifulSoup(resp, 'html.parser') \n...\n&lt;your code here&gt;\n</code></pre>\n\n<p>Additionally, you can add another set of headers to pretend like a legitimate browser. Add some more headers like this:</p>\n\n<pre><code>headers = { \n'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.98 Safari/537.36', \n'Accept' : 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8', \n'Accept-Language' : 'en-US,en;q=0.5',\n'Accept-Encoding' : 'gzip', \n'DNT' : '1', # Do Not Track Request Header \n'Connection' : 'close'\n}\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 11472467, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bckDl.jpg?s=128&g=1", "display_name": "Deboparna", "link": "https://stackoverflow.com/users/11472467/deboparna"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1612, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1557370564, "creation_date": 1557353771, "question_id": 56049736, "link": "https://stackoverflow.com/questions/56049736/beautifulsoup-isnt-working-while-web-scraping-amazon", "title": "BeautifulSoup isn&#39;t working while web scraping Amazon", "body": "<p>I'm new to web scraping and i am trying to use basic skills on Amazon. I want to make a code for finding top 10 'Today's Greatest Deals' with prices and rating and other information.</p>\n\n<p>Every time I try to find a specific  tag using find() and specifying class it keeps saying 'None'. However the actual HTML has that tag.\nOn manual scanning i found out half the code of  isn't being displayed in the output terminal. The code displayed is half but then the body and html tag do close. Just a huge chunk of code in body tag is missing.</p>\n\n<p>The last line of code displayed is:</p>\n\n<pre><code>&lt;!--[endif]----&gt;\n</code></pre>\n\n<p>then body tag closes.</p>\n\n<p>Here is the code that i'm trying:</p>\n\n<pre><code>from bs4 import BeautifulSoup as bs\nimport requests\n\nsource = requests.get('https://www.amazon.in/gp/goldbox?ref_=nav_topnav_deals')\nsoup = bs(source.text, 'html.parser')\n\nprint(soup.prettify())\n#On printing this it misses some portion of html\n\narticle = soup.find('div', class_ = 'a-row dealContainer dealTile')\nprint(article)\n#On printing this it shows 'None'\n</code></pre>\n\n<p>Ideally, this should give me the code within the div tag, so that i can continue further to get the name of the product. However the output just shows 'None'. And on printing the whole code without tags it is missing a huge chunk of html inside. </p>\n\n<p>And of course the information needed is in the missing html code.</p>\n\n<p>Is Amazon blocking my request? Please help.</p>\n"}, {"tags": ["python", "csv"], "answers": [{"comments": [{"owner": {"reputation": 37, "user_id": 9767181, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155510478537452/picture?type=large", "display_name": "dnlarralde", "link": "https://stackoverflow.com/users/9767181/dnlarralde"}, "edited": false, "score": 0, "creation_date": 1557355257, "post_id": 56049799, "comment_id": 98741221, "body": "Will do. What does the zip function do?"}, {"owner": {"reputation": 2408, "user_id": 7013263, "user_type": "registered", "accept_rate": 10, "profile_image": "https://i.stack.imgur.com/41kW6.jpg?s=128&g=1", "display_name": "dejdej", "link": "https://stackoverflow.com/users/7013263/dejdej"}, "edited": false, "score": 0, "creation_date": 1557355477, "post_id": 56049799, "comment_id": 98741265, "body": "The zip() function returns an iterator of tuples based on the iterable object. More info here: <a href=\"https://docs.python.org/3.3/library/functions.html#zip\" rel=\"nofollow noreferrer\">docs.python.org/3.3/library/functions.html#zip</a>"}, {"owner": {"reputation": 312, "user_id": 8833217, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c017674811aeee895c22398e95b58b51?s=128&d=identicon&r=PG&f=1", "display_name": "bkyada", "link": "https://stackoverflow.com/users/8833217/bkyada"}, "edited": false, "score": 0, "creation_date": 1557355586, "post_id": 56049799, "comment_id": 98741285, "body": "It&#39;s an in-built function of python3. It makes an iterator that aggregates elements from each of the iterable. You can find more about it here.<a href=\"https://docs.python.org/3/library/functions.html#zip\" rel=\"nofollow noreferrer\">link</a>"}, {"owner": {"reputation": 37, "user_id": 9767181, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155510478537452/picture?type=large", "display_name": "dnlarralde", "link": "https://stackoverflow.com/users/9767181/dnlarralde"}, "edited": false, "score": 0, "creation_date": 1557357947, "post_id": 56049799, "comment_id": 98741820, "body": "Ok, so in doing that, I get a blank row in between each correctly output row. Thoughts?"}], "tags": [], "owner": {"reputation": 312, "user_id": 8833217, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c017674811aeee895c22398e95b58b51?s=128&d=identicon&r=PG&f=1", "display_name": "bkyada", "link": "https://stackoverflow.com/users/8833217/bkyada"}, "is_accepted": false, "score": 0, "last_activity_date": 1557354189, "creation_date": 1557354189, "answer_id": 56049799, "question_id": 56049713, "link": "https://stackoverflow.com/questions/56049713/how-do-i-write-multiple-lists-to-a-csv-file/56049799#56049799", "title": "How do I write multiple lists to a csv file?", "body": "<p>Try </p>\n\n<pre><code>with open('output.csv', 'w') as f:\n    writer = csv.writer(f)\n    writer.writerows(zip(fd, fn))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 37, "user_id": 9767181, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155510478537452/picture?type=large", "display_name": "dnlarralde", "link": "https://stackoverflow.com/users/9767181/dnlarralde"}, "is_accepted": false, "score": 0, "last_activity_date": 1557358180, "creation_date": 1557358180, "answer_id": 56050295, "question_id": 56049713, "link": "https://stackoverflow.com/questions/56049713/how-do-i-write-multiple-lists-to-a-csv-file/56050295#56050295", "title": "How do I write multiple lists to a csv file?", "body": "<p>I managed to get it get it to work with the following code, but I don't know if it's the best way to do it, or if I should be worried about efficiency:</p>\n\n<pre><code>    for name in f:\n        if '.txt' in name:\n            files.append(name)\n            split_string = re.split('(\\A[0-9]{6})', name)\n            fd.append(split_string[1])\n            fn.append(split_string[2])\n\n            with open(csv_filename,mode='a',newline='') as c:\n                writer = csv.writer(c)\n                writer.writerow([split_string[1],split_string[2]])\n</code></pre>\n"}], "owner": {"reputation": 37, "user_id": 9767181, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155510478537452/picture?type=large", "display_name": "dnlarralde", "link": "https://stackoverflow.com/users/9767181/dnlarralde"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 636, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1557358180, "creation_date": 1557353622, "question_id": 56049713, "link": "https://stackoverflow.com/questions/56049713/how-do-i-write-multiple-lists-to-a-csv-file", "title": "How do I write multiple lists to a csv file?", "body": "<p>I'm trying to write two different lists into pair columns in a csv file, but when I execute the code, I get an error. </p>\n\n<p>I wrote code to go through a file directory, grab/split the file names with Regex into list variables, then I want to write those values to a csv file in two separate columns. I can get the code to work with a single for loop, but I can't get it to do both lists. </p>\n\n<pre class=\"lang-py prettyprint-override\"><code>import os\nimport csv\nimport re\n\npath = r\"D:\\Documents\\Python_test\\\\\"\n\nfiles = []\ncsv_filename = \"python_list_test.csv\"\nfd = []\nfn = []\n#r = root, d = directory, f = files\n\nfor r,d,f in os.walk(path):\n    for name in f:\n        if '.txt' in name:\n            files.append(name)\n            split_string = re.split('(\\A[0-9]{6})', name)\n            fd.append(split_string[1])\n            fn.append(split_string[2])\n\nwith open(csv_filename,mode='w',newline='') as c:\n    writer = csv.writer(c)\n    writer.writrow(['Date','File Name',])\n\n    writer.writrows([i] for i in fd,[e] for e in fn)\n\n</code></pre>\n\n<p>I get an error code:</p>\n\n<pre><code> File \"C:/Users/[FILE NAME].py\", line 25 writer.writrows^([i] for i in fd,[e] for e in fn)\n\nSyntaxError: Generator expression must be parenthesized\n</code></pre>\n"}, {"tags": ["javascript", "python", "node.js"], "comments": [{"owner": {"reputation": 326, "user_id": 8229636, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FcHyN.jpg?s=128&g=1", "display_name": "Lawrence", "link": "https://stackoverflow.com/users/8229636/lawrence"}, "edited": false, "score": 0, "creation_date": 1557353216, "post_id": 56049635, "comment_id": 98740707, "body": "Is this for node.js or client-side?"}, {"owner": {"reputation": 150, "user_id": 10985704, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-qr9cGw8Pl-0/AAAAAAAAAAI/AAAAAAAAA-E/oVizkas6ZGM/photo.jpg?sz=128", "display_name": "Kai036", "link": "https://stackoverflow.com/users/10985704/kai036"}, "reply_to_user": {"reputation": 326, "user_id": 8229636, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FcHyN.jpg?s=128&g=1", "display_name": "Lawrence", "link": "https://stackoverflow.com/users/8229636/lawrence"}, "edited": false, "score": 0, "creation_date": 1557353318, "post_id": 56049635, "comment_id": 98740742, "body": "This is for node.js."}, {"owner": {"reputation": 152, "user_id": 8968219, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OhDIN.png?s=128&g=1", "display_name": "Mladen Skrbic", "link": "https://stackoverflow.com/users/8968219/mladen-skrbic"}, "edited": false, "score": 0, "creation_date": 1557353394, "post_id": 56049635, "comment_id": 98740761, "body": "you can run python in node.js enviroment, there are npm packages that will do that for you, but i dont think you can run python in browser enviroment without something like we asembly, but i am not really familiar with it"}, {"owner": {"reputation": 326, "user_id": 8229636, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FcHyN.jpg?s=128&g=1", "display_name": "Lawrence", "link": "https://stackoverflow.com/users/8229636/lawrence"}, "edited": false, "score": 0, "creation_date": 1557353514, "post_id": 56049635, "comment_id": 98740797, "body": "The only way I know of to run python in node would be to spawn a child process, however it seems like you should be able to do what you want to do entirely in one language. <a href=\"https://stackoverflow.com/questions/34974712/node-js-capture-keyboard-press-and-mouse-movement-not-on-web-browser\">This post</a> shows two different methods of capturing keyboard input in node.js"}, {"owner": {"reputation": 3821, "user_id": 6921829, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-TjT5QWqGMDU/AAAAAAAAAAI/AAAAAAAAA9Q/DNCpJksOM88/photo.jpg?sz=128", "display_name": "kos", "link": "https://stackoverflow.com/users/6921829/kos"}, "edited": false, "score": 1, "creation_date": 1557353638, "post_id": 56049635, "comment_id": 98740830, "body": "This question might help you with emitting keyboard events in JS: <a href=\"https://stackoverflow.com/questions/21848747/node-js-javascript-simulate-keypress-on-server-like-a-macro\">&quot;Node.js JavaScript: Simulate Keypress on Server (Like a Macro)&quot;</a>"}], "owner": {"reputation": 150, "user_id": 10985704, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-qr9cGw8Pl-0/AAAAAAAAAAI/AAAAAAAAA-E/oVizkas6ZGM/photo.jpg?sz=128", "display_name": "Kai036", "link": "https://stackoverflow.com/users/10985704/kai036"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 395, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1557354528, "creation_date": 1557353057, "last_edit_date": 1557354528, "question_id": 56049635, "link": "https://stackoverflow.com/questions/56049635/run-a-python-function-in-javascript", "title": "Run a Python function in Javascript", "body": "<p>I have some code written in python that uses PyAutoGui:</p>\n\n<pre><code>import pyautogui\n\ndef mult_choice(OPTION):\n    if OPTION == 1:\n        pyautogui.press('1')\n    elif OPTION == 2:\n        pyautogui.press('2')\n    elif OPTION == 3:\n        pyautogui.press('3')\n    elif OPTION == 4:\n        pyautogui.press('4')\n    sleep(2)\n</code></pre>\n\n<p>I also plan to write some code in Javascript that will get the variable OPTION. As far as I know, you can't control the keyboard in Javascript, so I wrote that part in Python. However, I wasn't sure if it is possible to run a python function in a Javascript program. If this is possible, someone explaining it to me would be appreciated.</p>\n"}, {"tags": ["python", "pandas"], "answers": [{"comments": [{"owner": {"reputation": 63, "user_id": 6432363, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7bad5074953c34d615d6f924249d48f4?s=128&d=identicon&r=PG&f=1", "display_name": "Stacy Garfield", "link": "https://stackoverflow.com/users/6432363/stacy-garfield"}, "edited": false, "score": 0, "creation_date": 1557369884, "post_id": 56049699, "comment_id": 98744073, "body": "Wow awesome solution! Also why is the :-1 in the columns array needed?"}, {"owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "reply_to_user": {"reputation": 63, "user_id": 6432363, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7bad5074953c34d615d6f924249d48f4?s=128&d=identicon&r=PG&f=1", "display_name": "Stacy Garfield", "link": "https://stackoverflow.com/users/6432363/stacy-garfield"}, "edited": false, "score": 0, "creation_date": 1557370470, "post_id": 56049699, "comment_id": 98744177, "body": "@StacyGarfield that is for columns slice , since you want to do the count the value by each of the &#39;Gender&#39;, &#39;State&#39;, &#39;Age&#39;, and df.columns[:-1] just return those"}, {"owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "reply_to_user": {"reputation": 63, "user_id": 6432363, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7bad5074953c34d615d6f924249d48f4?s=128&d=identicon&r=PG&f=1", "display_name": "Stacy Garfield", "link": "https://stackoverflow.com/users/6432363/stacy-garfield"}, "edited": false, "score": 0, "creation_date": 1557370496, "post_id": 56049699, "comment_id": 98744180, "body": "@StacyGarfield also , if our solution work would you like upvote and accept ?"}], "tags": [], "owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "is_accepted": true, "score": 1, "last_activity_date": 1557353548, "creation_date": 1557353548, "answer_id": 56049699, "question_id": 56049626, "link": "https://stackoverflow.com/questions/56049626/consolidate-on-categories-in-column-and-get-counts-for-one-column/56049699#56049699", "title": "Consolidate on categories in column and get counts for one column", "body": "<p>Usage of <code>crosstab</code> +<code>concat</code></p>\n\n<pre><code>pd.concat([pd.crosstab(df[x],df.Purchased)for x in df.columns[:-1]],keys=df.columns[:-1])\nOut[273]: \nPurchased      No  Yes\nGender Female   2    5\n       Male     3    4\nState  FL       1    2\n       Fl       1    0\n       NV       3    3\n       NY       0    4\nAge    Adult    3    3\n       Senior   0    3\n       Teen     2    3\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 63, "user_id": 6432363, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7bad5074953c34d615d6f924249d48f4?s=128&d=identicon&r=PG&f=1", "display_name": "Stacy Garfield", "link": "https://stackoverflow.com/users/6432363/stacy-garfield"}, "edited": false, "score": 0, "creation_date": 1557369897, "post_id": 56049742, "comment_id": 98744075, "body": "Good solution too Quang!"}], "tags": [], "owner": {"reputation": 114459, "user_id": 4238408, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RWkmO.jpg?s=128&g=1", "display_name": "Quang Hoang", "link": "https://stackoverflow.com/users/4238408/quang-hoang"}, "is_accepted": false, "score": 1, "last_activity_date": 1557353814, "creation_date": 1557353814, "answer_id": 56049742, "question_id": 56049626, "link": "https://stackoverflow.com/questions/56049626/consolidate-on-categories-in-column-and-get-counts-for-one-column/56049742#56049742", "title": "Consolidate on categories in column and get counts for one column", "body": "<p>my approach:</p>\n\n<pre><code>a = {}\nfor col in ['Gender', 'State', 'Age']:\n    a[col] = (df.groupby(col).Purchased.value_counts().unstack())\n\npd.concat(a)\n</code></pre>\n"}], "owner": {"reputation": 63, "user_id": 6432363, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7bad5074953c34d615d6f924249d48f4?s=128&d=identicon&r=PG&f=1", "display_name": "Stacy Garfield", "link": "https://stackoverflow.com/users/6432363/stacy-garfield"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 23, "favorite_count": 0, "accepted_answer_id": 56049699, "answer_count": 2, "score": 2, "last_activity_date": 1557353814, "creation_date": 1557352998, "question_id": 56049626, "link": "https://stackoverflow.com/questions/56049626/consolidate-on-categories-in-column-and-get-counts-for-one-column", "title": "Consolidate on categories in column and get counts for one column", "body": "<p>This is a python pandas problem I'd like some assistance with.</p>\n\n<p>I have a table that I'll simplify like this:</p>\n\n<p><code>+--------+-------+--------+-----------+\n| Gender | State |  Age   | Purchased |\n+--------+-------+--------+-----------+\n| Male   | NV    | Adult  | Yes       |\n| Female | NV    | Adult  | Yes       |\n| Male   | FL    | Teen   | Yes       |\n| Male   | FL    | Adult  | No        |\n| Female | NV    | Teen   | No        |\n| Female | NY    | Senior | Yes       |\n| Male   | NY    | Senior | Yes       |\n| Female | NY    | Adult  | Yes       |\n| Female | NV    | Teen   | Yes       |\n| Male   | NV    | Adult  | No        |\n| Female | FL    | Senior | Yes       |\n| Male   | Fl    | Teen   | No        |\n| Male   | NY    | Teen   | Yes       |\n| Female | NV    | Adult  | No        |\n+--------+-------+--------+-----------+</code></p>\n\n<p>I want to consolidate for the category types on each column while counting the number of 'purchased', effectively producing something like this:</p>\n\n<p><code>+--------+----------+-----------+----+\n|        |          |    Purchased   |\n+--------+----------+-----------+----+\n|        |          | Yes       | No |\n| Gender | Male     | 4         | 3  |\n|        | Female   | 5         | 2  |\n| State  | State FL | 2         | 2  |\n|        | State NV | 3         | 3  |\n|        | State NY | 4         | 0  |\n| Age    | Senior   | 3         | 0  |\n|        | Adult    | 3         | 3  |\n|        | Teen     | 3         | 2  |\n+--------+----------+-----------+----+</code></p>\n"}, {"tags": ["python", "pandas", "eda"], "comments": [{"owner": {"reputation": 114459, "user_id": 4238408, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RWkmO.jpg?s=128&g=1", "display_name": "Quang Hoang", "link": "https://stackoverflow.com/users/4238408/quang-hoang"}, "edited": false, "score": 1, "creation_date": 1557352982, "post_id": 56049610, "comment_id": 98740642, "body": "<code>data[&#39;SDate&#39;].dt.year</code>?"}, {"owner": {"reputation": 800, "user_id": 2894909, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb8f1f6a59bd4fdb34f0dee776e2deaf?s=128&d=identicon&r=PG", "display_name": "larrywgray", "link": "https://stackoverflow.com/users/2894909/larrywgray"}, "edited": false, "score": 0, "creation_date": 1557353202, "post_id": 56049610, "comment_id": 98740702, "body": "I think it might be answered here. <a href=\"https://stackoverflow.com/q/28133018/2894909\">stackoverflow.com/q/28133018/2894909</a>"}, {"owner": {"reputation": 103, "user_id": 10783090, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e28c540bef857d3328539f03f9d6667?s=128&d=identicon&r=PG&f=1", "display_name": "principe", "link": "https://stackoverflow.com/users/10783090/principe"}, "edited": false, "score": 0, "creation_date": 1557353238, "post_id": 56049610, "comment_id": 98740718, "body": "yes this worked! I used it on separate rows without dt and it worked. not sure why it doesnt work when I try to apply it to the whole column"}], "answers": [{"tags": [], "owner": {"reputation": 497, "user_id": 6949958, "user_type": "registered", "profile_image": "https://graph.facebook.com/1293230174031144/picture?type=large", "display_name": "Lucas Abbade", "link": "https://stackoverflow.com/users/6949958/lucas-abbade"}, "is_accepted": false, "score": 0, "last_activity_date": 1557353827, "creation_date": 1557353827, "answer_id": 56049743, "question_id": 56049610, "link": "https://stackoverflow.com/questions/56049610/extract-all-time-elements-from-a-column/56049743#56049743", "title": "Extract all time elements from a column", "body": "<p><code>data['SDate']</code> is a series, a series has no attribute <code>year</code>. However, you can map a series through a function and save the result in a new column, like:</p>\n\n<pre><code>data['SYear'] = data['SDate'].map(lambda d: d.year)\n</code></pre>\n\n<p>This will <code>map</code> each value of the column <code>SDate</code> through the lambda function and generate a new Pandas series, which will be saved in the new column.</p>\n"}], "owner": {"reputation": 103, "user_id": 10783090, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e28c540bef857d3328539f03f9d6667?s=128&d=identicon&r=PG&f=1", "display_name": "principe", "link": "https://stackoverflow.com/users/10783090/principe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 38, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1557353827, "creation_date": 1557352905, "question_id": 56049610, "link": "https://stackoverflow.com/questions/56049610/extract-all-time-elements-from-a-column", "title": "Extract all time elements from a column", "body": "<p>I have a dataset with a column named ['STime'] that I want to use to create many columns containing each time element (Year, Month, day, etc). The column values have this format 2016-04-16 10:12:41. I tried creating a year column separately using:</p>\n\n<pre><code> data['SYear'] = data['SDate'].year\n</code></pre>\n\n<p>It gave me an error: AttributeError: 'Series' object has no attribute 'year'</p>\n\n<p>How can I solve this?</p>\n"}, {"tags": ["python", "scrapy"], "answers": [{"comments": [{"owner": {"reputation": 5007, "user_id": 10924296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/483c21a8a3f03bbf92cb99539ec97dbc?s=128&d=identicon&r=PG&f=1", "display_name": "Reedinationer", "link": "https://stackoverflow.com/users/10924296/reedinationer"}, "edited": false, "score": 0, "creation_date": 1557353199, "post_id": 56049622, "comment_id": 98740699, "body": "I always forget about <code>yield</code>. Perhaps a generator is exactly what OP wanted!"}, {"owner": {"reputation": 41, "user_id": 11452161, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c47c1a34ea3736ce0cf4b0d80e288add?s=128&d=identicon&r=PG&f=1", "display_name": "Dania", "link": "https://stackoverflow.com/users/11452161/dania"}, "edited": false, "score": 0, "creation_date": 1557354803, "post_id": 56049622, "comment_id": 98741100, "body": "I didn&#39;t understand."}, {"owner": {"reputation": 562, "user_id": 1823304, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/239a66d26214bf1199d47ab6181d10df?s=128&d=identicon&r=PG", "display_name": "a small orange", "link": "https://stackoverflow.com/users/1823304/a-small-orange"}, "reply_to_user": {"reputation": 41, "user_id": 11452161, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c47c1a34ea3736ce0cf4b0d80e288add?s=128&d=identicon&r=PG&f=1", "display_name": "Dania", "link": "https://stackoverflow.com/users/11452161/dania"}, "edited": false, "score": 0, "creation_date": 1557355025, "post_id": 56049622, "comment_id": 98741163, "body": "@Dania the way you initially wrote it, the first executed <code>return</code> of your function will break the loop and return a single value from it. To obtain multiple values, you need to either insert them in a list variable and return it instead or use a generator with <code>yield</code> keyword in place of <code>return</code>, as shown in my example."}, {"owner": {"reputation": 41, "user_id": 11452161, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c47c1a34ea3736ce0cf4b0d80e288add?s=128&d=identicon&r=PG&f=1", "display_name": "Dania", "link": "https://stackoverflow.com/users/11452161/dania"}, "edited": false, "score": 0, "creation_date": 1557357040, "post_id": 56049622, "comment_id": 98741635, "body": "I yield it and I also insert them in a list variable but it didn&#39;t work."}], "tags": [], "owner": {"reputation": 562, "user_id": 1823304, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/239a66d26214bf1199d47ab6181d10df?s=128&d=identicon&r=PG", "display_name": "a small orange", "link": "https://stackoverflow.com/users/1823304/a-small-orange"}, "is_accepted": false, "score": 2, "last_activity_date": 1557353969, "last_edit_date": 1557353969, "creation_date": 1557352975, "answer_id": 56049622, "question_id": 56049602, "link": "https://stackoverflow.com/questions/56049602/how-to-make-a-loop-in-dictionary-to-extract-values/56049622#56049622", "title": "How to make a loop in dictionary to extract values?", "body": "<p>Because <code>return</code> statement, well, returns the value and terminates<sup>1</sup> the function, passing the control flow to the caller. This way, your inner loop is terminated before it goes over all the values.</p>\n\n<p>Perhaps what you wanted was <code>yield</code>:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>&gt;&gt;&gt; def f():\n...  for x in (1, 2, 3):\n...   yield x\n...\n&gt;&gt;&gt; list(f())\n[1, 2, 3]\n</code></pre>\n\n<p>Besides, using unnamed constants is a way to plant a bug which is often not so obvious, not to say non-Pythonic:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>items = [\"a\", \"b\", \"c\"]\n\n# will make an incomplete round when `items` is longer than 3 elements\ndef poor():\n  for i in xrange(0, 3):\n    yield items[i]\n\n# will do just alright\ndef appropriate():\n  for item in items:\n    yield item\n</code></pre>\n\n<p><sup>1</sup> Unless you are in <code>try/except/finally</code> block, in which case <code>finally</code> is always executed before <code>return</code> takes place:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>def return_one():\n  try:\n    1/0\n  except ZeroDivisionError:\n    return 0\n  finally:\n    return 1\n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 11452161, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c47c1a34ea3736ce0cf4b0d80e288add?s=128&d=identicon&r=PG&f=1", "display_name": "Dania", "link": "https://stackoverflow.com/users/11452161/dania"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35, "favorite_count": 0, "closed_date": 1557354083, "answer_count": 1, "score": 0, "last_activity_date": 1557353969, "creation_date": 1557352851, "question_id": 56049602, "link": "https://stackoverflow.com/questions/56049602/how-to-make-a-loop-in-dictionary-to-extract-values", "closed_reason": "Duplicate", "title": "How to make a loop in dictionary to extract values?", "body": "<p>I am scraping a page. I made two <code>loops</code> but the first loop is only taking <code>transcription_price</code> value not the last two one. Why and how to solve this problem?</p>\n\n<pre><code>def start_requests(self):\n    links = {'transcription_page': 'https://www.rev.com/freelancers/transcription',\n             'captions_page': 'https://www.rev.com/freelancers/captions',\n             'subtitles_page': 'https://www.rev.com/freelancers/subtitles'\n            }\n    call = [self.parse_transcription,self.parse_caption,self.parse_subtitles]\n\n    for link in links.values():\n        for n in range(0,3):\n            return [scrapy.Request(link, callback=call[n])]\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "python-pptx"], "answers": [{"tags": [], "owner": {"reputation": 5007, "user_id": 10924296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/483c21a8a3f03bbf92cb99539ec97dbc?s=128&d=identicon&r=PG&f=1", "display_name": "Reedinationer", "link": "https://stackoverflow.com/users/10924296/reedinationer"}, "is_accepted": true, "score": 3, "last_activity_date": 1557352537, "creation_date": 1557352537, "answer_id": 56049556, "question_id": 56049519, "link": "https://stackoverflow.com/questions/56049519/attributeerror-module-pptx-chart-has-no-attribute-data/56049556#56049556", "title": "AttributeError: module &#39;pptx.chart&#39; has no attribute &#39;data&#39;", "body": "<p>You are confusing the computer by not using an import. Try:</p>\n\n<pre><code>from pptx.chart.data import CategoryChartData\n\n# your code\nchart_data = CategoryChartData()  \n# more code\n</code></pre>\n\n<p>The <a href=\"https://python-pptx.readthedocs.io/en/latest/user/charts.html\" rel=\"nofollow noreferrer\">example here</a> might be useful too!</p>\n"}], "owner": {"reputation": 27, "user_id": 11471554, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2b11e5f8086c205fb16529059175bba?s=128&d=identicon&r=PG&f=1", "display_name": "StLouisO", "link": "https://stackoverflow.com/users/11471554/stlouiso"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 239, "favorite_count": 0, "accepted_answer_id": 56049556, "answer_count": 1, "score": 2, "last_activity_date": 1557352537, "creation_date": 1557352289, "question_id": 56049519, "link": "https://stackoverflow.com/questions/56049519/attributeerror-module-pptx-chart-has-no-attribute-data", "title": "AttributeError: module &#39;pptx.chart&#39; has no attribute &#39;data&#39;", "body": "<p>I'm trying to update the chart data on a PowerPoint slide using python-pptx but I keep getting this error:</p>\n\n<pre><code>Traceback (most recent call last):\n\n  File \"&lt;ipython-input-10-ef4a9899fa31&gt;\", line 1, in &lt;module&gt;\n    chart_data = pptx.chart.data.CategoryChartData()\n\nAttributeError: module 'pptx.chart' has no attribute 'data'\n</code></pre>\n\n<p>I can't figure out why. Here is my code:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>import pptx\nimport pandas as pd\n\ndf = pd.read_excel(\"data.xlsx\")\n\noverall_report = pptx.Presentation(\"pres.pptx\")\n\n\npres_slide = overall_report.slides[1]\n\nslide_chart = pres_slide.shapes[20].chart\n\n#replace chart data with the data from the excel above\nchart_data = pptx.chart.data.CategoryChartData()  \nchart_data.categories = df[\"Question\"].values.tolist()\n\ndf1 = df.iloc[:,1:6].copy()\n\nfor col_idx, col in enumerate(df1.columns):\n    print(col_idx,col,df1.iloc[:, col_idx].values)\n    chart_data.add_series(col,(df1.iloc[:, col_idx].values))\n\n#update data\nslide_chart.replace_data(chart_data)\n</code></pre>\n\n<p>pptx.chart should have an attribute 'data', right?</p>\n"}, {"tags": ["python", "matplotlib", "plotly", "seaborn", "plotly-dash"], "comments": [{"owner": {"reputation": 1192, "user_id": 7835318, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-RNwUyM2HlEE/AAAAAAAAAAI/AAAAAAAAAHA/qaGcWjJqFLw/photo.jpg?sz=128", "display_name": "araraonline", "link": "https://stackoverflow.com/users/7835318/araraonline"}, "edited": false, "score": 0, "creation_date": 1557353057, "post_id": 56049483, "comment_id": 98740663, "body": "Hey there! Could you include the traceback of the error in your question? This shall help other people understand what is happening."}, {"owner": {"reputation": 7823, "user_id": 8146556, "user_type": "registered", "accept_rate": 78, "profile_image": "https://graph.facebook.com/1503034639720733/picture?type=large", "display_name": "rahlf23", "link": "https://stackoverflow.com/users/8146556/rahlf23"}, "edited": false, "score": 0, "creation_date": 1557379281, "post_id": 56049483, "comment_id": 98746133, "body": "<code>plt.show()</code> does not return a figure object. You should use a <code>dcc.Graph()</code> component in your layout and the <code>Output</code> of your callback function should be the <code>figure</code> attribute of the <code>dcc.Graph()</code> component in your layout"}], "answers": [{"tags": [], "owner": {"reputation": 7823, "user_id": 8146556, "user_type": "registered", "accept_rate": 78, "profile_image": "https://graph.facebook.com/1503034639720733/picture?type=large", "display_name": "rahlf23", "link": "https://stackoverflow.com/users/8146556/rahlf23"}, "is_accepted": false, "score": 0, "last_activity_date": 1557382603, "creation_date": 1557382603, "answer_id": 56053248, "question_id": 56049483, "link": "https://stackoverflow.com/questions/56049483/showing-matplotlib-and-seaborn-graphs-in-python-dash-doesnt-work-how-can-we-ma/56053248#56053248", "title": "Showing matplotlib and seaborn graphs in Python Dash doesn&#39;t work. How can we make it work?", "body": "<p>I would recommend using <code>Plotly</code> in place of <code>matplotlib</code> and <code>seaborn</code> here, considering that Dash is built on top of <code>Plotly</code>. I've created a similar sample to what you have in your original post here, using <a href=\"https://www.plot.ly/python/shapes/\" rel=\"nofollow noreferrer\">Shapes</a> and <a href=\"https://plot.ly/python/text-and-annotations/\" rel=\"nofollow noreferrer\">Annotations</a>:</p>\n\n<pre><code>import dash\nimport dash_core_components as dcc\nimport dash_html_components as html\nfrom dash.dependencies import Input, Output\n\nimport json, random\nimport pandas as pd\nimport numpy as np\nfrom pandas.io.json import json_normalize\nimport urllib.request\n\nwith urllib.request.urlopen('https://raw.githubusercontent.com/statsbomb/open-data/master/data/events/7567.json') as data_file:    \n    data = json.load(data_file)\n    event = json_normalize(data, sep = \"_\")\n\nexternal_stylesheets = ['https://codepen.io/chriddyp/pen/bWLwgP.css']    \n\navailable_indicators = event['player_name'].unique()\n\napp = dash.Dash(__name__, external_stylesheets=external_stylesheets)\n\napp.layout = html.Div([\n\n    html.H1('WC 2018 - Pitch Pass Heatmap'),\n\n    html.H3(''' South Korea vs Germany '''),\n\n    html.Div(style={'width': '20%'}, children=[\n        dcc.Dropdown(\n            id='my-dropdown',\n            options=[{'label': i, 'value': i} for i in available_indicators],\n            value='Toni Kroos'\n        )\n    ]),\n\n    html.Div([\n        dcc.Graph(id='example-graph')\n    ]),\n\n])    \n\n\n@app.callback(\n    Output('example-graph', 'figure'),\n    [Input('my-dropdown', 'value')])\ndef combine_heat_pitch_map(value, type_name=\"Pass\"):\n\n    type_data = event[(event['type_name']==type_name) &amp; (event['player_name']==value)]\n    movement_data = event[event['player_name']==value]\n\n    annotations = [\n        {'x': random.randint(5, 115), 'y': random.randint(5, 75), 'xref': 'x', 'yref': 'y', 'text': ''}\n    for i in range(len(type_data))]\n\n    fig = {\n\n        'data': [],\n\n        'layout': {\n\n            'height': 500,\n            'width': 700,\n\n            'xaxis': {\n                'range': [-2, 122],\n                'showticklabels': False,\n                'showgrid': False,\n                'zeroline': False,\n            },\n\n            'yaxis': {\n                'range': [-2, 82],\n                'showticklabels': False,\n                'showgrid': False,\n                'zeroline': False,\n            },\n\n            'shapes': [\n                #Pitch\n                {'type': 'rect', 'x0': 0, 'y0': 0, 'x1': 120, 'y1': 80},\n                #Left Penalty\n                {'type': 'rect', 'x0': 0, 'y0': 22.3, 'x1': 0+14.6, 'y1': 22.3+35.3},\n                #Right Penalty\n                {'type': 'rect', 'x0': 105.4, 'y0': 22.3, 'x1': 105.4+14.6, 'y1': 22.3+35.3},\n                #Midline\n                {'type': 'line', 'x0': 60, 'y0': 0, 'x1': 60, 'y1': 80},\n                #Left Six Yard\n                {'type': 'rect', 'x0': 0, 'y0': 32, 'x1': 0+4.9, 'y1': 32+16},\n                #Right Six Yard\n                {'type': 'rect', 'x0': 115.1, 'y0': 32, 'x1': 115.1+4.9, 'y1': 32+16},\n                #Center Circle\n                {'type': 'circle', 'xref': 'x', 'yref': 'y', 'x0': 60-8.1, 'y0': 40-8.1, 'x1': 60+8.1, 'y1': 40+8.1},\n                #Center Spot\n                {'type': 'circle', 'xref': 'x', 'yref': 'y', 'x0': 60-0.71, 'y0': 40-0.71, 'x1': 60+0.71, 'y1': 40+0.71},\n                #Left Pen Spot\n                {'type': 'circle', 'xref': 'x', 'yref': 'y', 'x0': 110.3-0.71, 'y0': 40-0.71, 'x1': 110.3+0.71, 'y1': 40+0.71},\n                #Right Pen Spot\n                {'type': 'circle', 'xref': 'x', 'yref': 'y', 'x0': 9.7-0.71, 'y0': 40-0.71, 'x1': 9.7+0.71, 'y1': 40+0.71},\n            ],\n\n            'annotations': annotations\n        }\n\n    }\n\n    return fig\n\nif __name__ == '__main__':\n    app.run_server()\n</code></pre>\n\n<p>This should provide something that looks similar to the image below:</p>\n\n<p><a href=\"https://i.stack.imgur.com/1Z4Bs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1Z4Bs.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 21, "user_id": 8497080, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/490cd8c287b3a359ffd9e99a6d1164d7?s=128&d=identicon&r=PG&f=1", "display_name": "Tty", "link": "https://stackoverflow.com/users/8497080/tty"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2360, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1557382603, "creation_date": 1557352038, "question_id": 56049483, "link": "https://stackoverflow.com/questions/56049483/showing-matplotlib-and-seaborn-graphs-in-python-dash-doesnt-work-how-can-we-ma", "title": "Showing matplotlib and seaborn graphs in Python Dash doesn&#39;t work. How can we make it work?", "body": "<p>I was trying to show output of heatmap and pitch map for soccer players using seaborn and matplotlib. In offline, I could be able to render them but it does not seem to work in Python Dash. Problem could be that maybe Python Dash cannot render matplotlib or seaborn.. How can we show heatmap pitch graph in Dash??</p>\n\n<p>I tried different things such as mpl_to_plotly(fig) but still didn't work. I got an error messaging saying cannot get window extent w/o renderer mpl_to_plotly..  </p>\n\n<p>Here is the code:</p>\n\n<pre><code>import dash\nimport dash_core_components as dcc\nimport dash_html_components as html\nfrom dash.dependencies import Input, Output\nimport json\nimport numpy as np\nimport matplotlib as mpl\nimport matplotlib.pyplot as plt\nfrom pandas.io.json import json_normalize\nimport seaborn as sns\nimport pandas as pd\nimport urllib.request\n\n\nwith urllib.request.urlopen('https://raw.githubusercontent.com/statsbomb/open-data/master/data/events/7567.json') as data_file:    \n    data = json.load(data_file)\n    event = json_normalize(data, sep = \"_\")\n\nexternal_stylesheets = ['https://codepen.io/chriddyp/pen/bWLwgP.css']    \n\navailable_indicators = event['player_name'].unique()\n\napp = dash.Dash(__name__, external_stylesheets=external_stylesheets)\n\napp.layout = html.Div([\n    html.H1('WC 2018 - Pitch Pass Heatmap'),\n\n\n    html.Div(''' South Korea vs Germany '''),\n\n    dcc.Dropdown(\n        id='my-dropdown',\n        options=[{'label': i, 'value': i} for i in available_indicators],\n        value='Toni Kroos'\n    ),\n   # dcc.Store(\n   #     id='example-graph'\n   # )\n    html.Div(id='example-graph')\n])    \n\n\n\n@app.callback(\n    dash.dependencies.Output(component_id='example-graph', component_property='children'),\n    [dash.dependencies.Input(component_id='my-dropdown', component_property='value')]\n)\n\n\n\n# Let combine all 3: pitch, annotation and heatmap -- draw all of them on the pitch at the same time\ndef combine_heat_pitch_map(selected_dropdown_value, type_name = \"Pass\", data = event):\n    # let's filter data\n    type_data = data[(data['type_name'] == type_name) &amp; (data['player_name']==selected_dropdown_value)]\n    movement_data = data[data['player_name']==selected_dropdown_value]\n\n    # pitch\n    fig=plt.figure() #set up the figures\n    fig.set_size_inches(7, 5)\n    ax=fig.add_subplot(1,1,1)\n    # draw_pitch(ax) #overlay our different objects on the pitch\n\n\n\n\n    # focus on only half of the pitch\n    #Pitch Outline &amp; Centre Line\n    Pitch = plt.Rectangle([0,0], width = 120, height = 80, fill = False)\n    #Left, Right Penalty Area and midline\n    LeftPenalty = plt.Rectangle([0,22.3], width = 14.6, height = 35.3, fill = False)\n    RightPenalty = plt.Rectangle([105.4,22.3], width = 14.6, height = 35.3, fill = False)\n    midline = mpl.patches.ConnectionPatch([60,0], [60,80], \"data\", \"data\")\n\n    #Left, Right 6-yard Box\n    LeftSixYard = plt.Rectangle([0,32], width = 4.9, height = 16, fill = False)\n    RightSixYard = plt.Rectangle([115.1,32], width = 4.9, height = 16, fill = False)\n\n\n    #Prepare Circles\n    centreCircle = plt.Circle((60,40),8.1,color=\"black\", fill = False)\n    centreSpot = plt.Circle((60,40),0.71,color=\"black\")\n    #Penalty spots and Arcs around penalty boxes\n    leftPenSpot = plt.Circle((9.7,40),0.71,color=\"black\")\n    rightPenSpot = plt.Circle((110.3,40),0.71,color=\"black\")\n    leftArc = mpl.patches.Arc((9.7,40),height=16.2,width=16.2,angle=0,theta1=310,theta2=50,color=\"black\")\n    rightArc = mpl.patches.Arc((110.3,40),height=16.2,width=16.2,angle=0,theta1=130,theta2=230,color=\"black\")\n\n    element = [Pitch, LeftPenalty, RightPenalty, midline, LeftSixYard, RightSixYard, centreCircle, \n               centreSpot, rightPenSpot, leftPenSpot, leftArc, rightArc]\n    for i in element:\n        ax.add_patch(i)\n\n\n\n\n    plt.axis('off')\n\n\n    # annotation of type_name \n    for i in range(len(type_data)):\n        # annotate draw an arrow from a current position to pass_end_location\n        color = \"blue\" if type_data.iloc[i]['period'] == 1 else \"red\"  # If passes are from halftime, color blue, otherwise red\n       # label = \"1st half\" if type_data.iloc[i]['period'] == 1 else \"2nd half\"\n        ax.annotate(\"\", xy = (type_data.iloc[i]['pass_end_location'][0], type_data.iloc[i]['pass_end_location'][1]), xycoords = 'data',\n                   xytext = (type_data.iloc[i]['location'][0], type_data.iloc[i]['location'][1]), textcoords = 'data',\n                   arrowprops=dict(arrowstyle=\"-&gt;\",connectionstyle=\"arc3\", color = color,),)\n        #ax.legend()\n\n    # heatmap of entire movement\n    x_coord = [i[0] for i in movement_data[\"location\"]]\n    y_coord = [i[1] for i in movement_data[\"location\"]]\n\n        #shades: give us the heat map we desire\n        # n_levels: draw more lines, the larger n, the more blurry it looks\n    sns.kdeplot(x_coord, y_coord, shade = \"True\", color = \"green\", n_levels = 30)\n\n    # Draw all of them on the pitch\n    plt.ylim(-2, 82)\n    plt.xlim(-2, 122)\n   # plt.legend(loc='upper right')\n    #figure = plt.show()\n    plt.show()\n    #return figure\n\n\nif __name__ == '__main__':\n    app.run_server()\n</code></pre>\n"}, {"tags": ["python", "exception", "flask", "error-handling", "flask-restful"], "comments": [{"owner": {"reputation": 1728, "user_id": 4967694, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c6bb32e6094783ec9fc40f63e24ef2b1?s=128&d=identicon&r=PG", "display_name": "djnz", "link": "https://stackoverflow.com/users/4967694/djnz"}, "edited": false, "score": 0, "creation_date": 1557355251, "post_id": 56049481, "comment_id": 98741217, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/41149409/flask-restful-custom-error-handling\" title=\"flask restful custom error handling\">stackoverflow.com/questions/41149409/&hellip;</a>?"}, {"owner": {"reputation": 1383, "user_id": 5578714, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/mufAl.png?s=128&g=1", "display_name": "David White", "link": "https://stackoverflow.com/users/5578714/david-white"}, "reply_to_user": {"reputation": 1728, "user_id": 4967694, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c6bb32e6094783ec9fc40f63e24ef2b1?s=128&d=identicon&r=PG", "display_name": "djnz", "link": "https://stackoverflow.com/users/4967694/djnz"}, "edited": false, "score": 0, "creation_date": 1557365458, "post_id": 56049481, "comment_id": 98743216, "body": "@dylanj.nz, nope, that&#39;s a discussion of the Flask-RESTful solution, the one I&#39;m trying to avoid in favor of a pure Flask error handler.."}, {"owner": {"reputation": 1728, "user_id": 4967694, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c6bb32e6094783ec9fc40f63e24ef2b1?s=128&d=identicon&r=PG", "display_name": "djnz", "link": "https://stackoverflow.com/users/4967694/djnz"}, "edited": false, "score": 0, "creation_date": 1557367428, "post_id": 56049481, "comment_id": 98743571, "body": "The key piece of information I took from both that question and the docs is if your route is a Flask-RESTful one, which yours is, it will be handled by <code>handle_error()</code>, and the only way to prevent or customise this is to implement your own API class, and override <code>handle_error()</code>."}, {"owner": {"reputation": 1383, "user_id": 5578714, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/mufAl.png?s=128&g=1", "display_name": "David White", "link": "https://stackoverflow.com/users/5578714/david-white"}, "reply_to_user": {"reputation": 1728, "user_id": 4967694, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c6bb32e6094783ec9fc40f63e24ef2b1?s=128&d=identicon&r=PG", "display_name": "djnz", "link": "https://stackoverflow.com/users/4967694/djnz"}, "edited": false, "score": 0, "creation_date": 1557374150, "post_id": 56049481, "comment_id": 98744866, "body": "Hmmm.  I had interpreted the <a href=\"https://flask-restful.readthedocs.io/en/0.3.6/extending.html\" rel=\"nofollow noreferrer\">docs</a> to mean that Flask-RESTful would intercept 400 and 500 errors, but not (for example) the 505 error I tried to raise in my exception above.  But maybe it&#39;s intercepting more than I think - guess I&#39;ll have to experiment."}, {"owner": {"reputation": 1383, "user_id": 5578714, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/mufAl.png?s=128&g=1", "display_name": "David White", "link": "https://stackoverflow.com/users/5578714/david-white"}, "reply_to_user": {"reputation": 1728, "user_id": 4967694, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c6bb32e6094783ec9fc40f63e24ef2b1?s=128&d=identicon&r=PG", "display_name": "djnz", "link": "https://stackoverflow.com/users/4967694/djnz"}, "edited": false, "score": 0, "creation_date": 1557376499, "post_id": 56049481, "comment_id": 98745390, "body": "Well, phooey.  Looks like Flask-RESTful is indeed intercepting <b>all</b> 5xx errors, even if no custom handlers are defined.  Bummer.  @dylanj.nz, if you want to put your comment into an answer, I&#39;ll accept it."}, {"owner": {"reputation": 1728, "user_id": 4967694, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c6bb32e6094783ec9fc40f63e24ef2b1?s=128&d=identicon&r=PG", "display_name": "djnz", "link": "https://stackoverflow.com/users/4967694/djnz"}, "edited": false, "score": 0, "creation_date": 1557436068, "post_id": 56049481, "comment_id": 98774880, "body": "Pity! but not too painful implementing your own API class and overriding, I hope."}], "answers": [{"tags": [], "owner": {"reputation": 1728, "user_id": 4967694, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c6bb32e6094783ec9fc40f63e24ef2b1?s=128&d=identicon&r=PG", "display_name": "djnz", "link": "https://stackoverflow.com/users/4967694/djnz"}, "is_accepted": true, "score": 4, "last_activity_date": 1557435922, "creation_date": 1557435922, "answer_id": 56067572, "question_id": 56049481, "link": "https://stackoverflow.com/questions/56049481/why-is-my-flask-error-handler-not-being-called/56067572#56067572", "title": "Why is my Flask error handler not being called?", "body": "<p>Referring to both <a href=\"https://stackoverflow.com/questions/41149409/flask-restful-custom-error-handling\">this question</a>, and the <a href=\"https://flask-restful.readthedocs.io/en/latest/extending.html#custom-error-handlers\" rel=\"nofollow noreferrer\">docs</a>, the key piece of information I took from both is if your route is a Flask-RESTful one, which yours is, it will be handled by <code>handle_error()</code>, and the only way to prevent or customise this is to implement your own API class, and override <code>handle_error()</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 1383, "user_id": 5578714, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/mufAl.png?s=128&g=1", "display_name": "David White", "link": "https://stackoverflow.com/users/5578714/david-white"}, "is_accepted": false, "score": 2, "last_activity_date": 1557504410, "creation_date": 1557504410, "answer_id": 56081225, "question_id": 56049481, "link": "https://stackoverflow.com/questions/56049481/why-is-my-flask-error-handler-not-being-called/56081225#56081225", "title": "Why is my Flask error handler not being called?", "body": "<p>Following up on @dylanj.nz's answer, <a href=\"http://flask.pocoo.org/docs/1.0/patterns/apierrors/\" rel=\"nofollow noreferrer\">this vanilla-Flask error handling method</a>, and <a href=\"https://stackoverflow.com/questions/36076650/flask-restful-taking-over-exception-handling-from-flask-during-non-debug-mode\">this example of overriding Flask-RESTful's API</a> , here's the method I settled on.  It allows Flask-RESTful to handle <code>HTTPException</code> types of exceptions, but passes everything else through to the default (Flask) handler, where custom error messages can be specified (an entire JSON object of key/value entries, if you want) at the time of the exception.</p>\n\n<pre><code>from flask_restful import Resource, Api as _Api, HTTPException\napp = Flask(__name__)\n\n# This new Exception will accept a message, a status code, and a\n# payload of other values to be displayed as a JSON object\nclass FlaskGenericException(Exception):\n    status_code = 500   # default unless overridden\n    def __init__(self, message, status_code=None, payload=None):\n        Exception.__init__(self)\n        self.message = message\n        if status_code is not None:\n            self.status_code = status_code\n        self.payload = payload\n    def to_dict(self):\n        rv = dict(self.payload or ())\n        rv['message'] = self.message\n        return rv\n\n@app.errorhandler(FlaskGenericException)\ndef handle_flask_generic_error(error):\n    response = jsonify(error.to_dict())\n    response.status_code = error.status_code\n    return response\n\n# This overridden Flask-RESTful API class will keep Flask-RESTful\n# from handling errors other than HTTPException ones.\nclass Api(_Api):\n    def error_router(self, original_handler, e):\n        # Override original error_router to only handle HTTPExceptions.\n        if self._has_fr_route() and isinstance(e, HTTPException):\n            try:\n                # Use Flask-RESTful's error handling method\n                return self.handle_error(e) \n            except Exception:\n                # Fall through to original handler (i.e. Flask)\n                pass\n        return original_handler(e)\n\napi = Api(app)\n\nclass TestMe(Resource):\n    def get(self):\n        try:\n            ldapc = ldap.connection\n        except:\n            # message = first parameter.  Other parameters come in as \"payload\"\n            raise FlaskGenericException('A generic error', status_code=505, payload={'user': 'John Doe', 'company': 'Foobar Corp.'})\n\napi.add_resource(TestMe, '/testme', endpoint='TestMe')\n</code></pre>\n"}], "owner": {"reputation": 1383, "user_id": 5578714, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/mufAl.png?s=128&g=1", "display_name": "David White", "link": "https://stackoverflow.com/users/5578714/david-white"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2766, "favorite_count": 0, "accepted_answer_id": 56067572, "answer_count": 2, "score": 2, "last_activity_date": 1557504410, "creation_date": 1557352025, "question_id": 56049481, "link": "https://stackoverflow.com/questions/56049481/why-is-my-flask-error-handler-not-being-called", "title": "Why is my Flask error handler not being called?", "body": "<p>I am trying to create a custom error handler in Flask 1.0.2 and Flask-RESTful 0.3.7, using the guidelines on the \"<a href=\"http://flask.pocoo.org/docs/1.0/patterns/apierrors/\" rel=\"nofollow noreferrer\">Implementing API Exceptions</a>\" page.  (Flask-RESTful has its own way of <a href=\"https://flask-restful.readthedocs.io/en/latest/extending.html#define-custom-error-messages\" rel=\"nofollow noreferrer\">creating custom error messages</a>, but since it doesn't seem to have a way to accept a customized error message at the time of the exception, I am trying to use the vanilla Flask method instead.)</p>\n\n<pre><code>from flask import Flask, jsonify\nfrom flask_restful import Resource, Api\n\napp = Flask(__name__)\napi = Api(app)\n\n#########################################\n\nclass MyGenericException(Exception):\n    status_code = 500\n    def __init__(self, message, status_code=None, payload=None):\n        Exception.__init__(self)\n        self.message = message\n        if status_code is not None:\n            self.status_code = status_code\n        self.payload = payload\n    def to_dict(self):\n        rv = dict(self.payload or ())\n        rv['message'] = self.message\n        return rv\n\n@app.errorhandler(MyGenericException)\ndef handle_generic_error(error):\n    response = jsonify(error.to_dict())\n    response.status_code = error.status_code\n    return response\n\n#########################################\n\nclass TestMe(Resource):\n    def get(self):\n        raise MyGenericException('A generic error', status_code=501)\napi.add_resource(TestMe, '/testme', endpoint='TestMe')\n\n#########################################\n\nif __name__ == '__main__':\n    app.run(debug=False)\n</code></pre>\n\n<p>Calling <a href=\"http://127.0.0.1:5000/testme\" rel=\"nofollow noreferrer\">http://127.0.0.1:5000/testme</a> only returns a generic \"500 Internal Server Error\" message, however, not a 501 error with my custom error text.  It appears that <code>MyGenericException</code> is being raised properly, but Flask seems to ignore it.</p>\n\n<pre><code>[2019-05-08 17:09:18,409] ERROR in app: Exception on /testme [GET]\nTraceback (most recent call last):\n  File \"C:\\Users\\testuser\\Envs\\testenv\\lib\\site-packages\\flask\\app.py\", line 1813, in full_dispatch_request\n    rv = self.dispatch_request()\n  File \"C:\\Users\\testuser\\Envs\\testenv\\lib\\site-packages\\flask\\app.py\", line 1799, in dispatch_request\n    return self.view_functions[rule.endpoint](**req.view_args)\n  File \"C:\\Users\\testuser\\Envs\\testenv\\lib\\site-packages\\flask_restful\\__init__.py\", line 458, in wrapper\n    resp = resource(*args, **kwargs)\n  File \"C:\\Users\\testuser\\Envs\\testenv\\lib\\site-packages\\flask\\views.py\", line 88, in view\n    return self.dispatch_request(*args, **kwargs)\n  File \"C:\\Users\\testuser\\Envs\\testenv\\lib\\site-packages\\flask_restful\\__init__.py\", line 573, in dispatch_request\n    resp = meth(*args, **kwargs)\n  File \"C:/Users/testuser/Documents/PyCharm Projects/TestApp/testapp.py\", line 32, in get\n    raise MyGenericException('A generic error', status_code=505)\nMyGenericException\n</code></pre>\n\n<p>The <code>@app.errorhandler</code> decorator seems to be properly set for the custom <code>MyGenericException</code> Exception.  Why is it not being handled by Flask?  </p>\n\n<p>Thanks to anyone who can help.</p>\n"}, {"tags": ["python", "mongodb", "pymongo"], "answers": [{"comments": [{"owner": {"reputation": 119, "user_id": 5555959, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mwGuD.jpg?s=128&g=1", "display_name": "Trincity", "link": "https://stackoverflow.com/users/5555959/trincity"}, "edited": false, "score": 0, "creation_date": 1557353279, "post_id": 56049440, "comment_id": 98740730, "body": "I&#39;m trying to do this in python, not mongo."}], "tags": [], "owner": {"reputation": 1546, "user_id": 684037, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/88c817962b471d7cd117d32a4d3d8c82?s=128&d=identicon&r=PG", "display_name": "tam", "link": "https://stackoverflow.com/users/684037/tam"}, "is_accepted": false, "score": 1, "last_activity_date": 1557351802, "creation_date": 1557351802, "answer_id": 56049440, "question_id": 56049369, "link": "https://stackoverflow.com/questions/56049369/how-to-get-max-objectid-from-pymongo/56049440#56049440", "title": "How to get max objectid from pymongo", "body": "<p>you should be able to do something like the following </p>\n\n<pre><code>my_mongo_handler.findone({}).sort({'_id': -1})\n</code></pre>\n\n<p>for future reference, the mongo documentation is really quite good <a href=\"https://docs.mongodb.com/manual/reference/method/cursor.sort/\" rel=\"nofollow noreferrer\">https://docs.mongodb.com/manual/reference/method/cursor.sort/</a></p>\n"}, {"tags": [], "owner": {"reputation": 6802, "user_id": 9609843, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9ceb913f05e91861333b367e0379a8e?s=128&d=identicon&r=PG&f=1", "display_name": "sanyassh", "link": "https://stackoverflow.com/users/9609843/sanyassh"}, "is_accepted": false, "score": 1, "last_activity_date": 1557352792, "creation_date": 1557352792, "answer_id": 56049588, "question_id": 56049369, "link": "https://stackoverflow.com/questions/56049369/how-to-get-max-objectid-from-pymongo/56049588#56049588", "title": "How to get max objectid from pymongo", "body": "<p>You can also pass <code>sort</code> parameter to <code>find_one</code>:</p>\n\n<pre><code>result = my_mongo_handler.find_one(sort=[('_id', -1)])\n</code></pre>\n"}], "owner": {"reputation": 119, "user_id": 5555959, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mwGuD.jpg?s=128&g=1", "display_name": "Trincity", "link": "https://stackoverflow.com/users/5555959/trincity"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1557353076, "creation_date": 1557351311, "last_edit_date": 1557353076, "question_id": 56049369, "link": "https://stackoverflow.com/questions/56049369/how-to-get-max-objectid-from-pymongo", "title": "How to get max objectid from pymongo", "body": "<p>How would you get the max ObjectId from a table using pymongo? I'm attempting to use <code>find_one()</code>, but I don't know how to do a sort.</p>\n\n<pre><code>my_mongo_handler.findone({}, {'_id': -1})\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "read-write"], "comments": [{"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 2, "creation_date": 1557351857, "post_id": 56049344, "comment_id": 98740317, "body": "<code>lines = f.read()</code> be careful you probably mean <code>lines = f.readlines()</code>"}, {"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1557351879, "post_id": 56049344, "comment_id": 98740325, "body": "is the file a binary file? are you using windows?"}, {"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 1, "creation_date": 1557351932, "post_id": 56049344, "comment_id": 98740341, "body": "that loop is probably infinite: <code>while lines[0].strip()[-3:] != &#39;YES&#39;:         lines = temp_raw()</code> since you&#39;re reading the file each time so if it matches once it matches forever"}, {"owner": {"reputation": 1273, "user_id": 7885229, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56656688139b1d67f1361162172505ec?s=128&d=identicon&r=PG", "display_name": "Matthew Barlowe", "link": "https://stackoverflow.com/users/7885229/matthew-barlowe"}, "edited": false, "score": 0, "creation_date": 1557351966, "post_id": 56049344, "comment_id": 98740355, "body": "<a href=\"https://stackoverflow.com/questions/30294146/python-fastest-way-to-process-large-file\" title=\"python fastest way to process large file\">stackoverflow.com/questions/30294146/&hellip;</a>"}, {"owner": {"reputation": 1, "user_id": 11472156, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-b3KQGxJBwbE/AAAAAAAAAAI/AAAAAAAAA7w/w0cKDFyF5lE/photo.jpg?sz=128", "display_name": "Aditya Kondapuram", "link": "https://stackoverflow.com/users/11472156/aditya-kondapuram"}, "reply_to_user": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1557352775, "post_id": 56049344, "comment_id": 98740588, "body": "@Jean-Fran&#231;oisFabre The file is a simple text file which only has two lines. Testing temp_raw() for times shows that readlines() nearly takes 1 second, but not the other function as far as I can tell."}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1557353582, "post_id": 56049344, "comment_id": 98740820, "body": "There are several problems with this in function and efficiency.  Most of all, I&#39;m not sure what you&#39;re trying to do, since your main program ignores <code>read_temp</code> entirely.  You have an inefficient infinite loop that reads the file and quits without any processing.  Please describe what you <i>are</i> trying to do with this.  I&#39;m not sure why you&#39;ve bypassed the examples of file-handling tutorials for this implementation."}, {"owner": {"reputation": 1, "user_id": 11472156, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-b3KQGxJBwbE/AAAAAAAAAAI/AAAAAAAAA7w/w0cKDFyF5lE/photo.jpg?sz=128", "display_name": "Aditya Kondapuram", "link": "https://stackoverflow.com/users/11472156/aditya-kondapuram"}, "reply_to_user": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1557354433, "post_id": 56049344, "comment_id": 98741007, "body": "@Prune this was the example code for the temperature sensor. It did use read_temp() to normalize the sensor data to a value which makes sense. To troubleshoot why it was taking so long, we tested each part and found that the issue was in temp_raw() and specifically happened on readlines()."}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1557355083, "post_id": 56049344, "comment_id": 98741179, "body": "Please correct your code.  There is no reference to <code>readlines</code> in what you posted.  Again, what is the goal of this code?  Even if you do call <code>read_temp</code>, all that function seems to do is to find a single line in the file and extract a particular <code>float</code> field.  To this purpose, it reads the <i>entire</i> file.  That functionality would probably be done better with an OS command (e.g. <code>awk</code> on UNIX)"}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1557366959, "post_id": 56049344, "comment_id": 98743486, "body": "(though <code>awk</code> uses the <code>read()</code> syscall, just like Python and <i>every other userspace program that interacts with file-like objects on UNIX</i>, so you won&#39;t see a significant improvement in one language&#39;s blocking on the call vs another&#39;s)."}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1557367024, "post_id": 56049344, "comment_id": 98743497, "body": "That said, reading from a <i>device</i> as opposed to a regular file is going to have performance characteristics that depend on the (typically kernelspace) driver for that device, and the hardware that&#39;s behind it. If the hardware sends an update every second and the driver blocks until the next one is available? Guess what, you&#39;re waiting up to a second... and it has nothing to do with what programming language you&#39;re using."}], "answers": [{"tags": [], "owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "is_accepted": true, "score": 1, "last_activity_date": 1557367320, "creation_date": 1557367320, "answer_id": 56051196, "question_id": 56049344, "link": "https://stackoverflow.com/questions/56049344/why-does-reading-from-sys-bus-take-so-much-time/56051196#56051196", "title": "Why does reading from /sys/bus/... take so much time?", "body": "<p>You're opening a file that isn't really a regular filesystem file -- it's a character device. <em>Device nodes</em>, on Linux, have their syscalls directly implemented by a specific driver that registers to handle the major/minor number pair, and so their performance is dependent on the operating-system implementation of that driver.</p>\n\n<p>High latency is common to the <code>w1-therm</code> driver; it happens no matter what programming language you use.</p>\n\n<p>Per the data sheet for the hardware, at <a href=\"https://www.maximintegrated.com/en/products/sensors/DS18B20.html\" rel=\"nofollow noreferrer\">https://www.maximintegrated.com/en/products/sensors/DS18B20.html</a>, the refresh rate is ~750ms when generating 12-bit outputs. Thus, you're looking at about 3/4 of a second per temperature read, even if everything else is absolutely perfect.</p>\n\n<p>Frankly, a faster refresh rate doesn't make sense in the context of a temperature sensor -- if the physical temperature of the device itself is changing so rapidly that you need more than a measurement every second (taking into account the time needed for the heat to actually be conducted to the sensor), you've got bigger problems.</p>\n"}], "owner": {"reputation": 1, "user_id": 11472156, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-b3KQGxJBwbE/AAAAAAAAAAI/AAAAAAAAA7w/w0cKDFyF5lE/photo.jpg?sz=128", "display_name": "Aditya Kondapuram", "link": "https://stackoverflow.com/users/11472156/aditya-kondapuram"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 126, "favorite_count": 0, "accepted_answer_id": 56051196, "answer_count": 1, "score": -2, "last_activity_date": 1557423071, "creation_date": 1557351178, "last_edit_date": 1557423071, "question_id": 56049344, "link": "https://stackoverflow.com/questions/56049344/why-does-reading-from-sys-bus-take-so-much-time", "title": "Why does reading from /sys/bus/... take so much time?", "body": "<p>I'm working on a project which requires sensor data from a temperature sensor. While accessing the file using open() and then read(), we found that it took too long. We have isolated problem to read() taking the most time (approximately 1 second). Is there a faster alternative to read() or am I using it incorrectly? Code:</p>\n\n<pre><code>import time, os, socket\n\n#External thermometer address: 28-031897792ede\n\nos.system('modprobe w1-gpio')\nos.system('modprobe w1-therm')\n\ntemp_sensor = '/sys/bus/w1/devices/28-031897792ede/w1_slave'\n\ndef temp_raw():\n    f = open(temp_sensor, 'r')\n    lines = f.readlines()\n    f.close()\n    return lines\n\ndef read_temp():\n\n    lines = temp_raw()\n    while lines[0].strip()[-3:] != 'YES':\n        lines = temp_raw()\n\n    temp_output = lines[1].find('t=')\n\n    if temp_output != -1:\n        temp_string = lines [1].strip()[temp_output+2:]\n        temp_c = float(temp_string) / 1000.0\n        return round(temp_c, 1)\n\nwhile True:\n    temp_raw()\n</code></pre>\n"}, {"tags": ["python", "matplotlib"], "comments": [{"owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1557353258, "post_id": 56049301, "comment_id": 98740724, "body": "Use <code>death_line, = ax.....</code>"}, {"owner": {"reputation": 23, "user_id": 5601395, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a4e9ee1c154c234be81b12542cdf6d1?s=128&d=identicon&r=PG&f=1", "display_name": "JKolb", "link": "https://stackoverflow.com/users/5601395/jkolb"}, "reply_to_user": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1557353691, "post_id": 56049301, "comment_id": 98740844, "body": "sorry, could you elaborate on that? (Also sorry for the duplicate, I couldn&#39;t find any questions. Could you link the duplicate?)~ @ImportanceOfBeingErnest"}, {"owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1557353807, "post_id": 56049301, "comment_id": 98740869, "body": "You just need a comma between <code>death_line</code> and <code>= ax.plot(...)</code>"}, {"owner": {"reputation": 23, "user_id": 5601395, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a4e9ee1c154c234be81b12542cdf6d1?s=128&d=identicon&r=PG&f=1", "display_name": "JKolb", "link": "https://stackoverflow.com/users/5601395/jkolb"}, "reply_to_user": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1557353835, "post_id": 56049301, "comment_id": 98740876, "body": "Thank you so much!  I can&#39;t upvote your comment, and there&#39;s no answer to give a green check to. Is there something else I can do to improve your rep?@ImportanceOfBeingErnest"}, {"owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1557354021, "post_id": 56049301, "comment_id": 98740933, "body": "The question is marked as duplicate. You can upvote the duplicate question and/or answer. No need to give any reputation to me."}], "owner": {"reputation": 23, "user_id": 5601395, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a4e9ee1c154c234be81b12542cdf6d1?s=128&d=identicon&r=PG&f=1", "display_name": "JKolb", "link": "https://stackoverflow.com/users/5601395/jkolb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 242, "favorite_count": 0, "closed_date": 1557353241, "answer_count": 0, "score": 1, "last_activity_date": 1557350959, "creation_date": 1557350959, "question_id": 56049301, "link": "https://stackoverflow.com/questions/56049301/how-to-animate-a-scatterplot-and-a-line-graph-in-matplotlib", "closed_reason": "Duplicate", "title": "How to animate a scatterplot and a line graph in matplotlib", "body": "<p>I'm trying to animate a scatter-plot and a line graph in parallel using <code>matplotlib</code>. </p>\n\n<p>First, I plot the two pieces separately:</p>\n\n<pre><code>deaths_scatter = ax.scatter(all_episode_labels_list, all_episode_deaths_list, picker=5, label=\"Deaths\")\ndeath_line = ax.plot(all_episode_labels_list, all_episode_deaths_list)\n</code></pre>\n\n<p>Next, I set the visible window to the first range desired.</p>\n\n<pre><code>ax.axis([-.2, 9.5, -0.1, 12])\n</code></pre>\n\n<p>Finally, I define the update and animation functions, which should slowly pan the x-axis. This part works with just the scatter-plot... </p>\n\n<pre><code>def update(frames):\n\n    ax.axis([frames, frames + 10, -0.1, 12])\n    return deaths_scatter, \n\n\nani = animation.FuncAnimation(fig, update, frames=list(range(0,80)), interval=1000, blit=True)\n</code></pre>\n\n<p>...but If I add the line graph it breaks</p>\n\n<pre><code>def update(frames):\n\n    ax.axis([frames, frames + 10, -0.1, 12])\n    return deaths_scatter, death_line,\n\n AttributeError: 'list' object has no attribute 'get_zorder'\n</code></pre>\n\n<p>I've attempted to search overflow and the web for a solution, but I haven't had any luck yet. Any help is greatly appreciated!</p>\n"}, {"tags": ["python", "animation", "recursion", "tkinter"], "comments": [{"owner": {"reputation": 507, "user_id": 6446489, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed68268d4de0bb9904dc1b61f77353b5?s=128&d=identicon&r=PG&f=1", "display_name": "Triggernometry", "link": "https://stackoverflow.com/users/6446489/triggernometry"}, "edited": false, "score": 0, "creation_date": 1557351103, "post_id": 56049284, "comment_id": 98740071, "body": "In general, you probably shouldn&#39;t use recursive functions in Python because of the exact situation you&#39;ve run into. See <a href=\"https://stackoverflow.com/questions/4278327/danger-of-recursive-functions\" title=\"danger of recursive functions\">stackoverflow.com/questions/4278327/&hellip;</a>"}, {"owner": {"reputation": 12243, "user_id": 2192494, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ddd4f75b6e9293967ba3c81f89edd68a?s=128&d=identicon&r=PG", "display_name": "Lee Daniel Crocker", "link": "https://stackoverflow.com/users/2192494/lee-daniel-crocker"}, "edited": false, "score": 1, "creation_date": 1557351283, "post_id": 56049284, "comment_id": 98740134, "body": "I wouldn&#39;t say that at all--there&#39;s nothing wrong with recursion when you need it, for example, to traverse a recursive data structure. But the code above will fail in every language--Python has nothing to do with it."}, {"owner": {"reputation": 17763, "user_id": 5317403, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8TwWN.png?s=128&g=1", "display_name": "acw1668", "link": "https://stackoverflow.com/users/5317403/acw1668"}, "edited": false, "score": 0, "creation_date": 1557363260, "post_id": 56049284, "comment_id": 98742782, "body": "The cause of the problem is this statement: <code>self.location.after(1000000000, self.draw_rotating_gear(480, 200, 500, 300, 5))</code>.  Change it to <code>self.location.after(1000000000, self.draw_rotating_gear, 480, 200, 500, 300, 5)</code> will fix it.  However, calling the function with fixed parameters every time seems a design issue and how come the delay time <code>1000000000</code> is so large."}], "answers": [{"tags": [], "owner": {"reputation": 12243, "user_id": 2192494, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ddd4f75b6e9293967ba3c81f89edd68a?s=128&d=identicon&r=PG", "display_name": "Lee Daniel Crocker", "link": "https://stackoverflow.com/users/2192494/lee-daniel-crocker"}, "is_accepted": false, "score": 1, "last_activity_date": 1557351220, "creation_date": 1557351220, "answer_id": 56049349, "question_id": 56049284, "link": "https://stackoverflow.com/questions/56049284/getting-maximum-recursion-depth-exceeded-error-should-i-restructure-my-code/56049349#56049349", "title": "Getting &quot;maximum recursion depth exceeded&quot; error, should I restructure my code?", "body": "<p>Nothing in the description of your problem indicates the need for recursion at all, and the way you implement it in your code will always fail. You have a call to draw_rotating_gear() at the end of the function draw_rotating_gear() with no conditional for stopping the recursion, so it will go infinitely deep on the first call. Reorganize it to use a simple loop.</p>\n"}, {"tags": [], "owner": {"reputation": 32921, "user_id": 5771269, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be6a5b618f5bd197150a6186318beba7?s=128&d=identicon&r=PG&f=1", "display_name": "cdlane", "link": "https://stackoverflow.com/users/5771269/cdlane"}, "is_accepted": false, "score": 1, "last_activity_date": 1557358289, "creation_date": 1557358289, "answer_id": 56050304, "question_id": 56049284, "link": "https://stackoverflow.com/questions/56049284/getting-maximum-recursion-depth-exceeded-error-should-i-restructure-my-code/56050304#56050304", "title": "Getting &quot;maximum recursion depth exceeded&quot; error, should I restructure my code?", "body": "<p>You didn't provide enough code for a working example solution but I believe the problem is you're invoking the <code>.after()</code> method with incorrect arguments.  The first argument needs to be an <em>integer</em>, the number of milliseconds before the call, not a <em>floating point</em> value.  The second argument needs to be a <em>function to call</em> after that delay, not a <em>call to a function</em> which is what you did.  Fixing these, and simplifying your example slightly, I'd expect something like:</p>\n\n<pre><code>def draw_rotating_gear(self, px1, py1, r):\n    self.rotation_from_normal = self.rotation_from_normal + self.rpm\n    self.location.delete(\"all\")\n\n    # rotates point px1, py1 n times around to form a circle.\n    for i in range(0, self.n):\n        angle = (math.radians(self.rotation_from_normal + 360/self.n * i))\n\n        qx = (self.ox + math.cos(angle) * (px1 - self.ox) - math.sin(angle) * (py1 - self.oy))\n        qy = (self.oy + math.sin(angle) * (px1 - self.ox) + math.cos(angle) * (py1 - self.oy))\n\n        x0 = qx - r\n        y0 = qy - r\n        x1 = qx + r\n        y1 = qy + r\n        self.location.create_oval(x0, y0, x1, y1, fill=\"black\")\n\n    self.location.update()\n    self.location.after(100, lambda px1=qx, py1=qy, r=r: self.draw_rotating_gear(px1, py1, r))\n</code></pre>\n\n<p>(I may be passing the wrong variables to the <code>lambda</code> call as I don't have enough code context to work with.)  The recursion error you got was due to your incorrect second argument to <code>.after()</code>, i.e. a false recursion due to a programming error.</p>\n"}], "owner": {"reputation": 7, "user_id": 11472108, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77570a5b3958a4809d77194540da5875?s=128&d=identicon&r=PG&f=1", "display_name": "Floxxy", "link": "https://stackoverflow.com/users/11472108/floxxy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 146, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1557358612, "creation_date": 1557350878, "last_edit_date": 1557358612, "question_id": 56049284, "link": "https://stackoverflow.com/questions/56049284/getting-maximum-recursion-depth-exceeded-error-should-i-restructure-my-code", "title": "Getting &quot;maximum recursion depth exceeded&quot; error, should I restructure my code?", "body": "<p>I am creating an application which rotates a few points around a center point. The aim is to connect each point using eg. lines/arcs and have the points/(subsequent drawing) rotate around the center point.</p>\n\n<p>I am trying to accomplish this by a method which rotates each point by a given amount each time the method is called, then distributing each point <code>n</code> times around the center point using a <code>for</code> loop.</p>\n\n<p>(For future use I will also need some tkinter widgets running along side the code eg. entries to get user-input.)</p>\n\n<p>My current code simply draws a circle for each point, instead of connecting them. There are a couple of things I dont currently understand:</p>\n\n<ol>\n<li><p>My code runs fine for a short while, then closes with <code>Error: maximum recursion depth exceeded.</code> - Is it bad to clear canvas by <code>.delete</code> ?</p></li>\n<li><p>The value of the <code>.after</code> function doesn't seem to have any effect at all hence using <code>time.sleep</code>.</p></li>\n</ol>\n\n<p>(I have also used a <code>while True:</code> loop to run the code in an earlier version, but I read that it is bad practice to run an infinite loop inside the GUI event loop. And I edited it because of flickering)</p>\n\n<p>Would it be better to structure my code differently?\nSorry for any mis-terminology and the messy and long post/code, I am a new non-english python student.</p>\n\n<pre><code>class Create_gear:\n\n    def __init__(self, location, ox, oy, rpm, n):\n        self.location = location\n        self.ox = ox\n        self.oy = oy\n        self.rpm = rpm\n        self.n = n\n        self.rotation_from_normal = 0\n\n    #Rotates point px1, py1 by value of \"rpm\" each time method is called.\n    def draw_rotating_gear(self, px1, py1, px2, py2, r):\n        self.rotation_from_normal = self.rotation_from_normal +self.rpm\n        self.location.delete(\"all\")\n\n        #rotates point px1, py1 n times around to form a circle. \n        for i in range (0, self.n):\n            angle = (math.radians(self.rotation_from_normal + 360/self.n *i) )\n\n            qx = ( self.ox + math.cos(angle) * (px1 - self.ox) - math.sin(angle) * (py1 - self.oy) )\n            qy = ( self.oy + math.sin(angle) * (px1 - self.ox) + math.cos(angle) * (py1 - self.oy) )\n\n            x0 = qx - r\n            y0 = qy - r\n            x1 = qx + r\n            y1 = qy + r\n            self.location.create_oval(x0, y0, x1, y1, fill = \"black\")\n        self.location.update()\n        time.sleep(0.01)\n        self.location.after(1000000000, self.draw_rotating_gear(480, 200, 500, 300, 5))\n</code></pre>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 92827, "user_id": 369, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/DHcF2.png?s=128&g=1", "display_name": "Blorgbeard", "link": "https://stackoverflow.com/users/369/blorgbeard"}, "edited": false, "score": 0, "creation_date": 1557350922, "post_id": 56049253, "comment_id": 98739998, "body": "can you return a sentinel value (e.g <code>None</code>) instead of throwing an exception?"}, {"owner": {"reputation": 243, "user_id": 8598360, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/537ffb5c1adb587ba21d5e56625d4227?s=128&d=identicon&r=PG&f=1", "display_name": "Anne Aunyme", "link": "https://stackoverflow.com/users/8598360/anne-aunyme"}, "reply_to_user": {"reputation": 92827, "user_id": 369, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/DHcF2.png?s=128&g=1", "display_name": "Blorgbeard", "link": "https://stackoverflow.com/users/369/blorgbeard"}, "edited": false, "score": 0, "creation_date": 1557353102, "post_id": 56049253, "comment_id": 98740674, "body": "I accepted @Carcigenicate&#39;s answer because I have indeed control over f and the other answers assume I don&#39;t. However I greatly appreciate everyone&#39;s explanation about sentinel values."}, {"owner": {"reputation": 35578, "user_id": 3000206, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/BK1fo.jpg?s=128&g=1", "display_name": "Carcigenicate", "link": "https://stackoverflow.com/users/3000206/carcigenicate"}, "edited": false, "score": 0, "creation_date": 1557354217, "post_id": 56049253, "comment_id": 98740961, "body": "@AnneAunyme While I certainly appreciate the acceptance, I&#39;ll just note that you don&#39;t need to accept the answer that assumed correctly (since, ideally, all three of us should have waited for clarification of the cicumstances instead of making guesses... whoops). You can accept whatever answer you feel helped you out the most."}, {"owner": {"reputation": 243, "user_id": 8598360, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/537ffb5c1adb587ba21d5e56625d4227?s=128&d=identicon&r=PG&f=1", "display_name": "Anne Aunyme", "link": "https://stackoverflow.com/users/8598360/anne-aunyme"}, "reply_to_user": {"reputation": 35578, "user_id": 3000206, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/BK1fo.jpg?s=128&g=1", "display_name": "Carcigenicate", "link": "https://stackoverflow.com/users/3000206/carcigenicate"}, "edited": false, "score": 0, "creation_date": 1557354566, "post_id": 56049253, "comment_id": 98741036, "body": "@Carcigenicate Your answer helped me solving the issue described here, but the other ones will help me the next time I face the issue they assumed I have (I have already faced it and I am pretty sure I will face it again). I think yours deserves to be accepted but the other ones are great and people who look for the assumed issue will be happy to see them."}], "answers": [{"comments": [{"owner": {"reputation": 243, "user_id": 8598360, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/537ffb5c1adb587ba21d5e56625d4227?s=128&d=identicon&r=PG&f=1", "display_name": "Anne Aunyme", "link": "https://stackoverflow.com/users/8598360/anne-aunyme"}, "edited": false, "score": 0, "creation_date": 1557352837, "post_id": 56049308, "comment_id": 98740605, "body": "Actually I have control over this function, but now I inderstand why I shouldn&#39;t throw an exception in this case."}], "tags": [], "owner": {"reputation": 22377, "user_id": 2288659, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/bBg8v.png?s=128&g=1", "display_name": "Silvio Mayolo", "link": "https://stackoverflow.com/users/2288659/silvio-mayolo"}, "is_accepted": false, "score": 4, "last_activity_date": 1557350976, "creation_date": 1557350976, "answer_id": 56049308, "question_id": 56049253, "link": "https://stackoverflow.com/questions/56049253/is-there-a-more-elegant-way-to-filter-the-failed-results-of-a-function/56049308#56049308", "title": "Is there a more elegant way to filter the failed results of a function?", "body": "<p>I'm going to assume here that you have no control over the source of <code>f</code>. If you do, the first suggestion is to simply rewrite <code>f</code> not to throw exceptions, as it's clear that you are expecting that execution path to occur, which by definition makes it not <em>exceptional</em>. However, if you don't have control over it, read on.</p>\n\n<p>If you have a function that might fail and want its \"failure\" to be ignored, you can always just wrap the function</p>\n\n<pre><code>def safe_f(x):\n  try:\n    return f(x)\n  except ValueError:\n    return None\n\nresult = filter(lambda x: x is not None, map(safe_f, values))\n</code></pre>\n\n<p>Of course, if <code>f</code> could return <code>None</code> in some situation, you'll have to use a different sentinel value. If all else fails, you could always go the route of defining your own <code>_sentinel = object()</code> and comparing against it.</p>\n"}, {"comments": [{"owner": {"reputation": 74843, "user_id": 2988730, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ZOX7t.jpg?s=128&g=1", "display_name": "Mad Physicist", "link": "https://stackoverflow.com/users/2988730/mad-physicist"}, "edited": false, "score": 0, "creation_date": 1557367877, "post_id": 56049342, "comment_id": 98743657, "body": "I&#39;d recommend making <code>results</code> into a generator (just use parentheses instead of brackets) and <code>valid_results</code> into a list instead of the other way around, to conserve memory in the intermediate steps."}, {"owner": {"reputation": 74843, "user_id": 2988730, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ZOX7t.jpg?s=128&g=1", "display_name": "Mad Physicist", "link": "https://stackoverflow.com/users/2988730/mad-physicist"}, "edited": false, "score": 0, "creation_date": 1557367966, "post_id": 56049342, "comment_id": 98743676, "body": "Also, fun fact, <code>lambda x: x is not None</code> can be <code>None.__ne__</code>"}, {"owner": {"reputation": 35578, "user_id": 3000206, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/BK1fo.jpg?s=128&g=1", "display_name": "Carcigenicate", "link": "https://stackoverflow.com/users/3000206/carcigenicate"}, "reply_to_user": {"reputation": 74843, "user_id": 2988730, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ZOX7t.jpg?s=128&g=1", "display_name": "Mad Physicist", "link": "https://stackoverflow.com/users/2988730/mad-physicist"}, "edited": false, "score": 1, "creation_date": 1557368775, "post_id": 56049342, "comment_id": 98743855, "body": "@MadPhysicist You gotta love the fluent readability though (even if &quot;<code>lambda</code>&quot; is a overly verbose)."}, {"owner": {"reputation": 35578, "user_id": 3000206, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/BK1fo.jpg?s=128&g=1", "display_name": "Carcigenicate", "link": "https://stackoverflow.com/users/3000206/carcigenicate"}, "reply_to_user": {"reputation": 74843, "user_id": 2988730, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ZOX7t.jpg?s=128&g=1", "display_name": "Mad Physicist", "link": "https://stackoverflow.com/users/2988730/mad-physicist"}, "edited": false, "score": 0, "creation_date": 1557368836, "post_id": 56049342, "comment_id": 98743863, "body": "@MadPhysicist And yes, good call. No point in having the whole thing in memory at once. I&#39;m not sure <code>valid_results</code> needs to be realized right away though. Further filtering may be done of it. I&#39;d just force it when absolutely necessary."}, {"owner": {"reputation": 74843, "user_id": 2988730, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ZOX7t.jpg?s=128&g=1", "display_name": "Mad Physicist", "link": "https://stackoverflow.com/users/2988730/mad-physicist"}, "edited": false, "score": 0, "creation_date": 1557369054, "post_id": 56049342, "comment_id": 98743908, "body": "<code>map(f, interesting_values)</code> is also an option if you are going to use <code>filter</code> instead of <code>[x for x in results if x is not None]</code>"}, {"owner": {"reputation": 74843, "user_id": 2988730, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ZOX7t.jpg?s=128&g=1", "display_name": "Mad Physicist", "link": "https://stackoverflow.com/users/2988730/mad-physicist"}, "edited": false, "score": 0, "creation_date": 1557369131, "post_id": 56049342, "comment_id": 98743926, "body": "Just so we&#39;re clear, I&#39;m just nitpicking because it&#39;s late and I have nothing else to do. I +1&#39;d you a while back."}, {"owner": {"reputation": 35578, "user_id": 3000206, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/BK1fo.jpg?s=128&g=1", "display_name": "Carcigenicate", "link": "https://stackoverflow.com/users/3000206/carcigenicate"}, "reply_to_user": {"reputation": 74843, "user_id": 2988730, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ZOX7t.jpg?s=128&g=1", "display_name": "Mad Physicist", "link": "https://stackoverflow.com/users/2988730/mad-physicist"}, "edited": false, "score": 0, "creation_date": 1557369503, "post_id": 56049342, "comment_id": 98743994, "body": "@MadPhysicist Ya, I always get yelled at when I use <code>map</code> instead of a comprehension though because apparently the overhead of <code>lambda</code> is non-insignificant. I like the readability of a <code>filter</code> over a filtered comprehensions though, so I dig in my heels a bit there. I find that a near empty comprehension with a guard looks off, but that could be lack of exposure on my part. And I know :P. I appreciate feedback as Python isn&#39;t my main language, and I don&#39;t want to leave unidiomatic suggestions up."}, {"owner": {"reputation": 74843, "user_id": 2988730, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ZOX7t.jpg?s=128&g=1", "display_name": "Mad Physicist", "link": "https://stackoverflow.com/users/2988730/mad-physicist"}, "edited": false, "score": 0, "creation_date": 1557370938, "post_id": 56049342, "comment_id": 98744265, "body": "Honestly, you&#39;re in the gray area where it&#39;s all Pythonic enough and just a matter of taste. I&#39;m just putting alternatives in the comments because they shouldn&#39;t clutter your actual post."}], "tags": [], "owner": {"reputation": 35578, "user_id": 3000206, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/BK1fo.jpg?s=128&g=1", "display_name": "Carcigenicate", "link": "https://stackoverflow.com/users/3000206/carcigenicate"}, "is_accepted": true, "score": 6, "last_activity_date": 1557369656, "last_edit_date": 1557369656, "creation_date": 1557351166, "answer_id": 56049342, "question_id": 56049253, "link": "https://stackoverflow.com/questions/56049253/is-there-a-more-elegant-way-to-filter-the-failed-results-of-a-function/56049342#56049342", "title": "Is there a more elegant way to filter the failed results of a function?", "body": "<p>It seems like you have control of <code>f</code> and can modify how it handles errors.</p>\n\n<p>If that's the case, and <code>None</code> isn't a valid output for the function, I would have it return <code>None</code> on an error instead of throwing:</p>\n\n<pre><code>def f(x):\n    if x == 5: return None\n    else: return 2*x\n</code></pre>\n\n<p>Then filter it:</p>\n\n<pre><code>results = (f(x) for x in interesting_values) # A generator expression; almost a list comptehension\n\nvalid_results = filter(lambda x: x is not None, results)\n</code></pre>\n\n<p>This is a stripped down version of what's often referred to as the \"Optional Pattern\". Return a special sentinal value on error (<code>None</code> in this case), else, return a valid value. Normally the Optional type is a special type and the sentinal value is a subclass of that type (or something similar), but that's not necessary here. </p>\n"}, {"tags": [], "owner": {"reputation": 74843, "user_id": 2988730, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ZOX7t.jpg?s=128&g=1", "display_name": "Mad Physicist", "link": "https://stackoverflow.com/users/2988730/mad-physicist"}, "is_accepted": false, "score": 4, "last_activity_date": 1557368001, "last_edit_date": 1557368001, "creation_date": 1557351273, "answer_id": 56049362, "question_id": 56049253, "link": "https://stackoverflow.com/questions/56049253/is-there-a-more-elegant-way-to-filter-the-failed-results-of-a-function/56049362#56049362", "title": "Is there a more elegant way to filter the failed results of a function?", "body": "<p>You could add another layer on top of your function. A decorator if you will, to transform the exception into something more usable. Actually this is a function that returns a decorator, so two additional layers:</p>\n\n<pre><code>from functools import wraps\n\ndef transform(sentinel=None, err_type=ValueError):\n    def decorator(f):\n        @wraps(f)\n        def func(*args, **kwargs):\n            try:\n                return f(*args, **kwargs)\n            except err_type:\n                return sentinel\n        return func\n    return decorator\n\n@transform()\ndef f(...): ...\n\ninteresting = range(10)\nresult = [y for y in (f(x) for x in interesting) if y is not None]\n</code></pre>\n\n<p>This solution is tailored for the case where you get <code>f</code> from somewhere else. You can adjust <code>transform</code> to return a decorator for a given set of exceptions, and a sentinel value other than <code>None</code>, in case that's a valid return value. For example, if you import <code>f</code>, and it can raise <code>TypeError</code> in addition to <code>ValueError</code>, it would look like this:</p>\n\n<pre><code>from mystuff import f, interesting\n\nsentinel = object()\nf = transform(sentinel, (ValueError, TypeError))(f)\nresult = [y for y in (f(x) for x in interesting) if y is not sentinel]\n</code></pre>\n\n<p>You could also use the functional version of the comprehension elements:</p>\n\n<pre><code>result = list(filter(sentinel.__ne__, map(f, interesting)))\n</code></pre>\n"}], "owner": {"reputation": 243, "user_id": 8598360, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/537ffb5c1adb587ba21d5e56625d4227?s=128&d=identicon&r=PG&f=1", "display_name": "Anne Aunyme", "link": "https://stackoverflow.com/users/8598360/anne-aunyme"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 81, "favorite_count": 0, "accepted_answer_id": 56049342, "answer_count": 3, "score": 7, "last_activity_date": 1557369656, "creation_date": 1557350681, "last_edit_date": 1557353203, "question_id": 56049253, "link": "https://stackoverflow.com/questions/56049253/is-there-a-more-elegant-way-to-filter-the-failed-results-of-a-function", "title": "Is there a more elegant way to filter the failed results of a function?", "body": "<p>For now I have something in my code that looks like this:</p>\n\n<pre><code>def f(x):\n    if x == 5:\n        raise ValueError\n    else:\n        return 2 * x\n\ninteresting_values = range(10)\nresult = []\nfor i in interesting_values:\n    try:\n        result.append(f(i))\n    except ValueError:\n        pass\n</code></pre>\n\n<p><code>f</code> is actually a more complex function and it fails for specific values in an unpredictible manner (I can't know if <code>f(x)</code> will fail or not before trying it).</p>\n\n<p>What I am interested in is to have this <code>result</code>: the list of all the valid results of <code>f</code>.</p>\n\n<p>I was wondering if there is a way to make the second part like a list comprehension. Of course I can't simply do this:</p>\n\n<pre><code>def f(x):\n    if x == 5:\n        raise ValueError\n    else:\n        return 2 * x\n\ninteresting_values = range(10)\nresult = [f(i) for i in interesting_values]\n</code></pre>\n\n<p>because the call for <code>f(5)</code> will make everything fail, but maybe there is a way to integrate the try-except structure in a list comprehension. Is it the case?</p>\n\n<p>EDIT: I have control over f.</p>\n"}, {"tags": ["python", "string", "if-statement"], "comments": [{"owner": {"reputation": 12117, "user_id": 2745495, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/5bbcd267235bab78ec6710ef6654ba87?s=128&d=identicon&r=PG", "display_name": "Gino Mempin", "link": "https://stackoverflow.com/users/2745495/gino-mempin"}, "edited": false, "score": 0, "creation_date": 1557360402, "post_id": 56049230, "comment_id": 98742269, "body": "Not the solution to your problem, but I suggest using correct variables: you should be passing <code>erica</code> and <code>bob</code> to <code>winner</code>, and then using <code>e</code> and <code>b</code> inside <code>winner</code>."}], "answers": [{"comments": [{"owner": {"reputation": 69207, "user_id": 1440565, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/ec430cc01ef4cf4ae63ebbe9e8596f72?s=128&d=identicon&r=PG", "display_name": "Code-Apprentice", "link": "https://stackoverflow.com/users/1440565/code-apprentice"}, "edited": false, "score": 2, "creation_date": 1557354561, "post_id": 56049411, "comment_id": 98741035, "body": "and the <code>print()</code> should be indented inside the <code>if</code>."}], "tags": [], "owner": {"reputation": 312, "user_id": 8833217, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c017674811aeee895c22398e95b58b51?s=128&d=identicon&r=PG&f=1", "display_name": "bkyada", "link": "https://stackoverflow.com/users/8833217/bkyada"}, "is_accepted": false, "score": 0, "last_activity_date": 1557351579, "creation_date": 1557351579, "answer_id": 56049411, "question_id": 56049230, "link": "https://stackoverflow.com/questions/56049230/how-to-add-the-value-in-string-and-go-to-next-letter/56049411#56049411", "title": "How to add the value in string and go to next letter?", "body": "<p>There is a problem with the return statement indentation. Try Below.</p>\n\n<p>Also, you are not passing the correct variables.</p>\n\n<pre><code>def winner(e, b):\n    sume = 0\n    sumb =0\n    highest = 0\n    x = False\n    for i in (range(len(e))):\n        if (e[i] =='E'):\n            sume +=1\n            x = True\n        elif (e[i] =='M'):\n            sume = sume+3\n            x = True\n        elif (e[i] =='H'):\n            sume +=5\n            x = True\n    return sume\nif __name__ == '__main__':\n    e = input()\n    b = str(input())\nprint(winner(e,b))\n</code></pre>\n"}], "owner": {"reputation": 399, "user_id": 11331843, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b92b112bde7492db32afa23e1b06a6ae?s=128&d=identicon&r=PG&f=1", "display_name": "anonymous13", "link": "https://stackoverflow.com/users/11331843/anonymous13"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 55, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1557352588, "creation_date": 1557350568, "last_edit_date": 1557352588, "question_id": 56049230, "link": "https://stackoverflow.com/questions/56049230/how-to-add-the-value-in-string-and-go-to-next-letter", "title": "How to add the value in string and go to next letter?", "body": "<p>Two people participate in competition . There will be one easy, difficult and medium question </p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Difficulty  Score\n   E             1\n   M             3\n   H             5\n</code></pre>\n\n<p>User will enter two strings e and b , and function should find out greater scores or tie.</p>\n\n<p>My code is:</p>\n\n<pre><code>def winner(e, b):\n    sume = 0\n    sumb =0\n    highest = 0\n    x = False\n    for i in (range(len(erica))):\n        if (erica[i] =='E'):\n            sume +=1\n            x = True\n        elif (erica[i] =='M'):\n            sume = sume+3\n            x = True\n        elif (erica[i] =='H'):\n            sume +=5\n            x = True\n        return sume\n\nif __name__ == '__main__':\n    erica = input()\n    bob = str(input())\n\nprint(winner(e,b))\n</code></pre>\n\n<p>When I enter <code>HEM</code> for <code>e</code>, it should give <code>9</code> but it only gives <code>5</code>.</p>\n"}, {"tags": ["python", "macos", "tkinter"], "comments": [{"owner": {"reputation": 3193, "user_id": 10364425, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FvwHx.png?s=128&g=1", "display_name": "Saad", "link": "https://stackoverflow.com/users/10364425/saad"}, "edited": false, "score": 0, "creation_date": 1557359249, "post_id": 56049217, "comment_id": 98742066, "body": "It&#39;s sad that Tkinter Buttons doesn&#39;t have much flexibility on macOS  you can change the <code>fg</code> but the <code>bg</code> cannot be changed. It is because of the restriction and limited access to have a change in macOS ui. See this <a href=\"https://stackoverflow.com/questions/1529847/how-to-change-the-foreground-or-background-colour-of-a-tkinter-button-on-mac-os\">post</a>."}], "answers": [{"comments": [{"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 1, "creation_date": 1557353189, "post_id": 56049355, "comment_id": 98740694, "body": "I agree it&#39;s not clear from the question, but I think the OP wants to know why it doesn&#39;t work on a system running macos (but does on  windows or ubuntu)."}], "tags": [], "owner": {"reputation": 5007, "user_id": 10924296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/483c21a8a3f03bbf92cb99539ec97dbc?s=128&d=identicon&r=PG&f=1", "display_name": "Reedinationer", "link": "https://stackoverflow.com/users/10924296/reedinationer"}, "is_accepted": false, "score": 0, "last_activity_date": 1557351248, "creation_date": 1557351248, "answer_id": 56049355, "question_id": 56049217, "link": "https://stackoverflow.com/questions/56049217/the-button-text-and-color-does-not-appear-on-tkinter-program/56049355#56049355", "title": "The button text and color does not appear on Tkinter program", "body": "<p>I am not sure what the question is. I took out unnecessary imports, and ran</p>\n\n<pre><code>from tkinter import *\n\ndef create_first_frame():\n    global root\n    global frame\n\n    # frame.destroy()\n\n    frame = Frame(bg=\"blue\")\n    frame.pack()\n\n    label1 = Label(frame, text=\"hello!\", fg=\"white\", bg=\"blue\", font=\"normal 30\")\n    label1.pack()\n\n    button1 = Button(frame, text=\"Enter\", fg=\"white\", bg=\"blue\", font=\"normal 20\")\n    button1.pack()\n\n    button2 = Button(frame, text=\"Exit\", font=\"normal\", fg=\"white\", bg=\"red\", command=root.destroy)\n\n    button2.pack(side=LEFT)\n\nroot = Tk()\ncreate_first_frame()\nroot.mainloop()\n</code></pre>\n\n<p>Which creates for me:</p>\n\n<p><a href=\"https://i.stack.imgur.com/Nb5q4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Nb5q4.png\" alt=\"expected GUI\"></a></p>\n\n<p>This is colored as you have specified...</p>\n"}], "owner": {"reputation": 1, "user_id": 11472338, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ceVip_V4sNY/AAAAAAAAAAI/AAAAAAAABRY/oDEgugArrco/photo.jpg?sz=128", "display_name": "Luke Scazzero", "link": "https://stackoverflow.com/users/11472338/luke-scazzero"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 125, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1557351248, "creation_date": 1557350465, "question_id": 56049217, "link": "https://stackoverflow.com/questions/56049217/the-button-text-and-color-does-not-appear-on-tkinter-program", "title": "The button text and color does not appear on Tkinter program", "body": "<p>The program works fine on other computers that run window's or ubuntu but the text won't show on the buttons. Here's a snippet of a longer code:</p>\n\n<pre><code>from Tkinter import *\n\nfrom math import atan\nfrom math import log\nimport math\nimport matplotlib\nmatplotlib.use('TkAgg')\nimport matplotlib.pyplot as plt\n\n\n\n# --- function ---\n\n\ndef create_first_frame():\n    global root\n    global frame\n\n    # frame.destroy()\n\n    frame = Frame(bg=\"blue\")\n    frame.pack()\n\n    label1 = Label(frame, text=\"hello!\", fg=\"white\", bg=\"blue\", font=\"normal 30\")\n    label1.pack()\n\n    button1 = Button(frame, text=\"Enter\", fg=\"white\", bg=\"blue\", font=\"normal 20\")\n    button1.pack()\n\n    button2 = Button(frame, text=\"Exit\", font=\"normal\", fg=\"white\", bg=\"red\", command=root.destroy)\n\n    button2.pack(side=LEFT)\n\n\n\n\nroot = Tk()\ncreate_first_frame()\nroot.mainloop()\n</code></pre>\n\n<p>We were expecting words like \"start\" and \"exit\" to show.</p>\n\n<p>We just want the colors of the buttons to show along with the text</p>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "edited": false, "score": 0, "creation_date": 1557350714, "post_id": 56049195, "comment_id": 98739915, "body": "what is your std cut point ?"}], "answers": [{"comments": [{"owner": {"reputation": 114459, "user_id": 4238408, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RWkmO.jpg?s=128&g=1", "display_name": "Quang Hoang", "link": "https://stackoverflow.com/users/4238408/quang-hoang"}, "reply_to_user": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "edited": false, "score": 0, "creation_date": 1557351036, "post_id": 56049280, "comment_id": 98740036, "body": "@WeNYoBen I assume it&#39;s something OP wants to put there."}, {"owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "edited": false, "score": 0, "creation_date": 1557351521, "post_id": 56049280, "comment_id": 98740207, "body": "Ah ok fair enough :-)"}], "tags": [], "owner": {"reputation": 114459, "user_id": 4238408, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RWkmO.jpg?s=128&g=1", "display_name": "Quang Hoang", "link": "https://stackoverflow.com/users/4238408/quang-hoang"}, "is_accepted": true, "score": 2, "last_activity_date": 1557351618, "last_edit_date": 1557351618, "creation_date": 1557350850, "answer_id": 56049280, "question_id": 56049195, "link": "https://stackoverflow.com/questions/56049195/selecting-columns-based-on-conditions-imposed-on-the-contents/56049280#56049280", "title": "Selecting columns based on conditions imposed on the contents", "body": "<p>Try:</p>\n\n<pre><code>std_thresh = 3\nnan_thresh = 0.5\nsummary = df.describe()\nflags = (summary.loc['std'].ge(std_thresh) | \n         summary.loc['count'].le(nan_thresh*len(df)))\n\ndf[df.columns[flags]]\n</code></pre>\n"}], "owner": {"reputation": 141, "user_id": 11380913, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-I0pQiyFiwdY/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcbaguY2kQ5Yyxay6_ultqvQVLFVg/mo/photo.jpg?sz=128", "display_name": "Roy Han", "link": "https://stackoverflow.com/users/11380913/roy-han"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 24, "favorite_count": 0, "accepted_answer_id": 56049280, "answer_count": 1, "score": 0, "last_activity_date": 1557351618, "creation_date": 1557350364, "question_id": 56049195, "link": "https://stackoverflow.com/questions/56049195/selecting-columns-based-on-conditions-imposed-on-the-contents", "title": "Selecting columns based on conditions imposed on the contents", "body": "<p>How would you select columns and column names based on conditions like isna() or std devs? If I had a dataframe like</p>\n\n<pre><code>    A    B    C    D\n0   1    2    3    4\n1   5   NaN   3    2 \n2   9    8    7    6\n3   9   NaN   3    3\n</code></pre>\n\n<p>and wanted it to return something like <code>['A', 'B']</code> where <code>'A'</code> is is beyond a certain standard deviation and <code>'B'</code> is beyond a certain NaN threshold (i.e. >= 50% empty), what would be an efficient way to do this? </p>\n\n<p>Thanks!</p>\n"}, {"tags": ["python", "python-3.x", "pip", "psycopg2"], "comments": [{"owner": {"reputation": 2478, "user_id": 1586231, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/sRho9.jpg?s=128&g=1", "display_name": "Max von Hippel", "link": "https://stackoverflow.com/users/1586231/max-von-hippel"}, "edited": false, "score": 0, "creation_date": 1557350308, "post_id": 56049148, "comment_id": 98739762, "body": "What have you tried so far?  For instance, have you tried installing using a different instance of <code>Python</code>, or a different version of <code>Python</code>?  Have you checked that <code>gcc</code> is actually installed on your system?  Have you looked into this <code>ld: library not found for -lssl</code> message?"}, {"owner": {"reputation": 105, "user_id": 8569490, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh4.googleusercontent.com/-x_JyNwCBLuo/AAAAAAAAAAI/AAAAAAAANSk/0A2CDDJ1Mf8/photo.jpg?sz=128", "display_name": "Nicolas Soria", "link": "https://stackoverflow.com/users/8569490/nicolas-soria"}, "reply_to_user": {"reputation": 2478, "user_id": 1586231, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/sRho9.jpg?s=128&g=1", "display_name": "Max von Hippel", "link": "https://stackoverflow.com/users/1586231/max-von-hippel"}, "edited": false, "score": 0, "creation_date": 1557350716, "post_id": 56049148, "comment_id": 98739917, "body": "I&#39;ve tried installing postgresql, exporting the pg_config path and updating wheel and setup tools. Actually, psycopg2 is installed ok for python2.7. How can I chech gcc for a differente instance of python?"}, {"owner": {"reputation": 55797, "user_id": 7976758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/512cfbaf98d63ca4acd57b2df792aec6?s=128&d=identicon&r=PG", "display_name": "phd", "link": "https://stackoverflow.com/users/7976758/phd"}, "edited": false, "score": 1, "creation_date": 1557352132, "post_id": 56049148, "comment_id": 98740404, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/39767810/cant-install-psycopg2-package-through-pip-install-is-this-because-of-sierra\">Can&#39;t install psycopg2 package through pip install... Is this because of Sierra?</a>"}, {"owner": {"reputation": 55797, "user_id": 7976758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/512cfbaf98d63ca4acd57b2df792aec6?s=128&d=identicon&r=PG", "display_name": "phd", "link": "https://stackoverflow.com/users/7976758/phd"}, "edited": false, "score": 0, "creation_date": 1557352138, "post_id": 56049148, "comment_id": 98740405, "body": "<a href=\"https://stackoverflow.com/search?q=%5Bpip%5D+%5Bpsycopg2%5D+ld%3A+library+not+found+for+lssl\">stackoverflow.com/&hellip;</a>"}, {"owner": {"reputation": 55797, "user_id": 7976758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/512cfbaf98d63ca4acd57b2df792aec6?s=128&d=identicon&r=PG", "display_name": "phd", "link": "https://stackoverflow.com/users/7976758/phd"}, "edited": false, "score": 1, "creation_date": 1557352221, "post_id": 56049148, "comment_id": 98740426, "body": "Or install <a href=\"https://pypi.org/project/psycopg2-binary/\" rel=\"nofollow noreferrer\"><code>psycopg2-binary</code></a>: <code>pip install psycopg2-binary</code>. The package <a href=\"https://pypi.org/project/psycopg2-binary/#files\" rel=\"nofollow noreferrer\">provides</a> precompiled wheels for all major platforms and all supported Python version."}, {"owner": {"reputation": 105, "user_id": 8569490, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh4.googleusercontent.com/-x_JyNwCBLuo/AAAAAAAAAAI/AAAAAAAANSk/0A2CDDJ1Mf8/photo.jpg?sz=128", "display_name": "Nicolas Soria", "link": "https://stackoverflow.com/users/8569490/nicolas-soria"}, "edited": false, "score": 0, "creation_date": 1557360908, "post_id": 56049148, "comment_id": 98742347, "body": "Thank you, installing the binary module worked for me. However, I&#39;ll have a look at the other links to understand why this issue came up for me."}], "owner": {"reputation": 105, "user_id": 8569490, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh4.googleusercontent.com/-x_JyNwCBLuo/AAAAAAAAAAI/AAAAAAAANSk/0A2CDDJ1Mf8/photo.jpg?sz=128", "display_name": "Nicolas Soria", "link": "https://stackoverflow.com/users/8569490/nicolas-soria"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2659, "favorite_count": 1, "answer_count": 0, "score": 2, "last_activity_date": 1557350096, "creation_date": 1557350096, "question_id": 56049148, "link": "https://stackoverflow.com/questions/56049148/issue-while-installing-psycopg2-in-macos-for-python3-7", "title": "Issue while installing psycopg2 in MacOS for Python3.7", "body": "<p>I'm trying to install psycopg2 for Python 3.7 but I'm having a weird (and long) output issue.</p>\n\n<p>I've tried to follow several stackoverflow replies but without success.</p>\n\n<p>This is the code that I've tried.</p>\n\n<p><code>python3.7 -m pip install psycopg2</code></p>\n\n<pre><code>  Using cached https://files.pythonhosted.org/packages/23/7e/93c325482c328619870b6cd09370f6dbe1148283daca65115cd63642e60f/psycopg2-2.8.2.tar.gz\nBuilding wheels for collected packages: psycopg2\n  Building wheel for psycopg2 (setup.py) ... error\n  ERROR: Complete output from command /usr/local/bin/python3.7 -u -c 'import setuptools, tokenize;__file__='\"'\"'/private/var/folders/yl/jy_t4s4j6ld8y14kxs6_lg8c0000gn/T/pip-install-z93rthie/psycopg2/setup.py'\"'\"';f=getattr(tokenize, '\"'\"'open'\"'\"', open)(__file__);code=f.read().replace('\"'\"'\\r\\n'\"'\"', '\"'\"'\\n'\"'\"');f.close();exec(compile(code, __file__, '\"'\"'exec'\"'\"'))' bdist_wheel -d /private/var/folders/yl/jy_t4s4j6ld8y14kxs6_lg8c0000gn/T/pip-wheel-l54i7ghe --python-tag cp37:\n  ERROR: running bdist_wheel\n  running build\n  running build_py\n  creating build\n  creating build/lib.macosx-10.9-x86_64-3.7\n  creating build/lib.macosx-10.9-x86_64-3.7/psycopg2\n  copying lib/_json.py -&gt; build/lib.macosx-10.9-x86_64-3.7/psycopg2\n  copying lib/extras.py -&gt; build/lib.macosx-10.9-x86_64-3.7/psycopg2\n  copying lib/compat.py -&gt; build/lib.macosx-10.9-x86_64-3.7/psycopg2\n  copying lib/errorcodes.py -&gt; build/lib.macosx-10.9-x86_64-3.7/psycopg2\n  copying lib/tz.py -&gt; build/lib.macosx-10.9-x86_64-3.7/psycopg2\n  copying lib/_range.py -&gt; build/lib.macosx-10.9-x86_64-3.7/psycopg2\n  copying lib/_ipaddress.py -&gt; build/lib.macosx-10.9-x86_64-3.7/psycopg2\n  copying lib/_lru_cache.py -&gt; build/lib.macosx-10.9-x86_64-3.7/psycopg2\n  copying lib/__init__.py -&gt; build/lib.macosx-10.9-x86_64-3.7/psycopg2\n  copying lib/extensions.py -&gt; build/lib.macosx-10.9-x86_64-3.7/psycopg2\n  copying lib/errors.py -&gt; build/lib.macosx-10.9-x86_64-3.7/psycopg2\n  copying lib/sql.py -&gt; build/lib.macosx-10.9-x86_64-3.7/psycopg2\n  copying lib/pool.py -&gt; build/lib.macosx-10.9-x86_64-3.7/psycopg2\n  running build_ext\n  building 'psycopg2._psycopg' extension\n  creating build/temp.macosx-10.9-x86_64-3.7\n  creating build/temp.macosx-10.9-x86_64-3.7/psycopg\n  gcc -Wno-unused-result -Wsign-compare -Wunreachable-code -fno-common -dynamic -DNDEBUG -g -fwrapv -O3 -Wall -arch x86_64 -g -DPSYCOPG_VERSION=2.8.2 (dt dec pq3 ext lo64) -DPG_VERSION_NUM=110002 -DHAVE_LO64=1 -I/Library/Frameworks/Python.framework/Versions/3.7/include/python3.7m -I. -I/usr/local/Cellar/postgresql/11.2_1/include -I/usr/local/Cellar/postgresql/11.2_1/include/server -c psycopg/psycopgmodule.c -o build/temp.macosx-10.9-x86_64-3.7/psycopg/psycopgmodule.o\n  gcc -Wno-unused-result -Wsign-compare -Wunreachable-code -fno-common -dynamic -DNDEBUG -g -fwrapv -O3 -Wall -arch x86_64 -g -DPSYCOPG_VERSION=2.8.2 (dt dec pq3 ext lo64) -DPG_VERSION_NUM=110002 -DHAVE_LO64=1 -I/Library/Frameworks/Python.framework/Versions/3.7/include/python3.7m -I. -I/usr/local/Cellar/postgresql/11.2_1/include -I/usr/local/Cellar/postgresql/11.2_1/include/server -c psycopg/green.c -o build/temp.macosx-10.9-x86_64-3.7/psycopg/green.o\n  gcc -Wno-unused-result -Wsign-compare -Wunreachable-code -fno-common -dynamic -DNDEBUG -g -fwrapv -O3 -Wall -arch x86_64 -g -DPSYCOPG_VERSION=2.8.2 (dt dec pq3 ext lo64) -DPG_VERSION_NUM=110002 -DHAVE_LO64=1 -I/Library/Frameworks/Python.framework/Versions/3.7/include/python3.7m -I. -I/usr/local/Cellar/postgresql/11.2_1/include -I/usr/local/Cellar/postgresql/11.2_1/include/server -c psycopg/pqpath.c -o build/temp.macosx-10.9-x86_64-3.7/psycopg/pqpath.o\n  psycopg/pqpath.c:135:17: warning: implicit conversion from enumeration type 'ConnStatusType' to different enumeration type 'ExecStatusType' [-Wenum-conversion]\n                  PQstatus(conn-&gt;pgconn) : PQresultStatus(*pgres)));\n                  ^~~~~~~~~~~~~~~~~~~~~~\n  psycopg/pqpath.c:1710:11: warning: code will never be executed [-Wunreachable-code]\n      ret = 1;\n            ^\n  psycopg/pqpath.c:1815:17: warning: implicit conversion from enumeration type 'ConnStatusType' to different enumeration type 'ExecStatusType' [-Wenum-conversion]\n                  PQstatus(curs-&gt;conn-&gt;pgconn) : PQresultStatus(curs-&gt;pgres)));\n                  ^~~~~~~~~~~~~~~~~~~~~~~~~~~~\n               ^\n  1 warning generated.\n  gcc -Wno-unused-result -Wsign-compare -Wunreachable-code -fno-common -dynamic -DNDEBUG -g -fwrapv -O3 -Wall -arch x86_64 -g -DPSYCOPG_VERSION=2.8.2 (dt dec pq3 ext lo64) -DPG_VERSION_NUM=110002 -DHAVE_LO64=1 -I/Library/Frameworks/Python.framework/Versions/3.7/include/python3.7m -I. -I/usr/local/Cellar/postgresql/11.2_1/include -I/usr/local/Cellar/postgresql/11.2_1/include/server -c psycopg/typecast.c -o build/temp.macosx-10.9-x86_64-3.7/psycopg/typecast.o\n  gcc -bundle -undefined dynamic_lookup -arch x86_64 -g build/temp.macosx-10.9-x86_64-3.7/psycopg/psycopgmodule.o build/temp.macosx-10.9-x86_64-3.7/psycopg/green.o build/temp.macosx-10.9-x86_64-3.7/psycopg/pqpath.o build/temp.macosx-10.9-x86_64-3.7/psycopg/utils.o build/temp.macosx-10.9-x86_64-3.7/psycopg/bytes_format.o build/temp.macosx-10.9-x86_64-3.7/psycopg/libpq_support.o build/temp.macosx-10.9-x86_64-3.7/psycopg/win32_support.o build/temp.macosx-10.9-x86_64-3.7/psycopg/solaris_support.o build/temp.macosx-10.9-x86_64-3.7/psycopg/connection_int.o build/temp.macosx-10.9-x86_64-3.7/psycopg/connection_type.o build/temp.macosx-10.9-x86_64-3.7/psycopg/cursor_int.o build/temp.macosx-10.9-x86_64-3.7/psycopg/cursor_type.o build/temp.macosx-10.9-x86_64-3.7/psycopg/column_type.o build/temp.macosx-10.9-x86_64-3.7/psycopg/replication_connection_type.o build/temp.macosx-10.9-x86_64-3.7/psycopg/replication_cursor_type.o build/temp.macosx-10.9-x86_64-3.7/psycopg/replication_message_type.o build/temp.macosx-10.9-x86_64-3.7/psycopg/diagnostics_type.o build/temp.macosx-10.9-x86_64-3.7/psycopg/error_type.o build/temp.macosx-10.9-x86_64-3.7/psycopg/conninfo_type.o build/temp.macosx-10.9-x86_64-3.7/psycopg/lobject_int.o build/temp.macosx-10.9-x86_64-3.7/psycopg/lobject_type.o build/temp.macosx-10.9-x86_64-3.7/psycopg/notify_type.o build/temp.macosx-10.9-x86_64-3.7/psycopg/xid_type.o build/temp.macosx-10.9-x86_64-3.7/psycopg/adapter_asis.o build/temp.macosx-10.9-x86_64-3.7/psycopg/adapter_binary.o build/temp.macosx-10.9-x86_64-3.7/psycopg/adapter_datetime.o build/temp.macosx-10.9-x86_64-3.7/psycopg/adapter_list.o build/temp.macosx-10.9-x86_64-3.7/psycopg/adapter_pboolean.o build/temp.macosx-10.9-x86_64-3.7/psycopg/adapter_pdecimal.o build/temp.macosx-10.9-x86_64-3.7/psycopg/adapter_pint.o build/temp.macosx-10.9-x86_64-3.7/psycopg/adapter_pfloat.o build/temp.macosx-10.9-x86_64-3.7/psycopg/adapter_qstring.o build/temp.macosx-10.9-x86_64-3.7/psycopg/microprotocols.o build/temp.macosx-10.9-x86_64-3.7/psycopg/microprotocols_proto.o build/temp.macosx-10.9-x86_64-3.7/psycopg/typecast.o -L/usr/local/lib -lpq -lssl -lcrypto -o build/lib.macosx-10.9-x86_64-3.7/psycopg2/_psycopg.cpython-37m-darwin.so\n  ld: library not found for -lssl\n  clang: error: linker command failed with exit code 1 (use -v to see invocation)\n  error: command 'gcc' failed with exit status 1\n  ----------------------------------------\n\n</code></pre>\n\n<p>I would really appreciate if someone could guide me on how to approach this issue.</p>\n"}, {"tags": ["python", "dictionary", "comparison"], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 10548578, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/--fOs34iUr9w/AAAAAAAAAAI/AAAAAAAAABU/ghQZOT8PUPs/photo.jpg?sz=128", "display_name": "Nico Foth", "link": "https://stackoverflow.com/users/10548578/nico-foth"}, "edited": false, "score": 0, "creation_date": 1557351272, "post_id": 56049226, "comment_id": 98740128, "body": "Either I&#39;m doing it wrong or initializing new_obj_list as an empty dict doesn&#39;t work anyway. I think my sorting statements don&#39;t work like they&#39;re supposed to. If I initialize the dict as an empty one I get exactly the same result as before."}, {"owner": {"reputation": 9, "user_id": 11444199, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c101a13f540ce0c3b9e173bf3d884145?s=128&d=identicon&r=PG&f=1", "display_name": "hummingbats", "link": "https://stackoverflow.com/users/11444199/hummingbats"}, "reply_to_user": {"reputation": 11, "user_id": 10548578, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/--fOs34iUr9w/AAAAAAAAAAI/AAAAAAAAABU/ghQZOT8PUPs/photo.jpg?sz=128", "display_name": "Nico Foth", "link": "https://stackoverflow.com/users/10548578/nico-foth"}, "edited": false, "score": 0, "creation_date": 1557351609, "post_id": 56049226, "comment_id": 98740236, "body": "Can you give a small test case that gives an incorrect output, and include what output you&#39;re expecting?"}, {"owner": {"reputation": 11, "user_id": 10548578, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/--fOs34iUr9w/AAAAAAAAAAI/AAAAAAAAABU/ghQZOT8PUPs/photo.jpg?sz=128", "display_name": "Nico Foth", "link": "https://stackoverflow.com/users/10548578/nico-foth"}, "edited": false, "score": 0, "creation_date": 1557352486, "post_id": 56049226, "comment_id": 98740510, "body": "obj_list = {&#39;iMbvRx9ws3gAut4Lkl4&#39;: [324453, 2434, 33], &#39;7Lt3f0aARp5uV&#39;: [2314324, 2443, 5000]} I&#39;m expecting them to combine, because the x-coordinate is in range of 10. So my expected output would be obj_list = {&#39;&#39;iMbvRx9ws3gAut4Lkl4&#39;: [2638777\u202c, 2434, 33]}"}, {"owner": {"reputation": 9, "user_id": 11444199, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c101a13f540ce0c3b9e173bf3d884145?s=128&d=identicon&r=PG&f=1", "display_name": "hummingbats", "link": "https://stackoverflow.com/users/11444199/hummingbats"}, "reply_to_user": {"reputation": 11, "user_id": 10548578, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/--fOs34iUr9w/AAAAAAAAAAI/AAAAAAAAABU/ghQZOT8PUPs/photo.jpg?sz=128", "display_name": "Nico Foth", "link": "https://stackoverflow.com/users/10548578/nico-foth"}, "edited": false, "score": 0, "creation_date": 1557352999, "post_id": 56049226, "comment_id": 98740645, "body": "Alright, I think your problem is that you&#39;re looping through all items in both your inner and outer loops. So for the above example, you would compare the first item with the second item, and add it to your new dict. But then you would compare the second item with the first item on the second iteration of the outer for loop, and add the second item to your new dict, resulting in a new dict of the same length. Also, the second if should be an elif, because you probably don&#39;t want to add an item twice if both it&#39;s x and y values are in range of some other dict entry."}, {"owner": {"reputation": 11, "user_id": 10548578, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/--fOs34iUr9w/AAAAAAAAAAI/AAAAAAAAABU/ghQZOT8PUPs/photo.jpg?sz=128", "display_name": "Nico Foth", "link": "https://stackoverflow.com/users/10548578/nico-foth"}, "edited": false, "score": 0, "creation_date": 1557353438, "post_id": 56049226, "comment_id": 98740773, "body": "Okay, sounds correct :D. How can I solve my problem then ? Just by changing the second if statement to and elif ?"}, {"owner": {"reputation": 9, "user_id": 11444199, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c101a13f540ce0c3b9e173bf3d884145?s=128&d=identicon&r=PG&f=1", "display_name": "hummingbats", "link": "https://stackoverflow.com/users/11444199/hummingbats"}, "reply_to_user": {"reputation": 11, "user_id": 10548578, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/--fOs34iUr9w/AAAAAAAAAAI/AAAAAAAAABU/ghQZOT8PUPs/photo.jpg?sz=128", "display_name": "Nico Foth", "link": "https://stackoverflow.com/users/10548578/nico-foth"}, "edited": false, "score": 0, "creation_date": 1557354109, "post_id": 56049226, "comment_id": 98740948, "body": "I would say change your loops as well. You can use key_list=mydict.keys() to get a list of keys. And change your outer for loop to something like &quot;for i in range(len(key_list)):&quot; and your inner loop to something like &quot;for j in range(i, len(key_list)):&quot; then find which keys to compare by indexing your key_list with i and j"}], "tags": [], "owner": {"reputation": 9, "user_id": 11444199, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c101a13f540ce0c3b9e173bf3d884145?s=128&d=identicon&r=PG&f=1", "display_name": "hummingbats", "link": "https://stackoverflow.com/users/11444199/hummingbats"}, "is_accepted": false, "score": 1, "last_activity_date": 1557350536, "creation_date": 1557350536, "answer_id": 56049226, "question_id": 56049138, "link": "https://stackoverflow.com/questions/56049138/comparing-dictionary-values-and-sorting-some-out/56049226#56049226", "title": "Comparing dictionary values and sorting some out", "body": "<p>When you combine two items, you need to delete the item you didn't overwrite.</p>\n\n<p>You overwrite whatever list is keyed by 'item' but you don't delete whatever list is keyed by 'item1', so you end up with the same amount of keys after you have iterated through your dictionary.</p>\n\n<p>Or, you could initialize new_obj_list as an empty dict instead of copying over items from obj_list before doing any combining.</p>\n"}, {"comments": [{"owner": {"reputation": 11, "user_id": 10548578, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/--fOs34iUr9w/AAAAAAAAAAI/AAAAAAAAABU/ghQZOT8PUPs/photo.jpg?sz=128", "display_name": "Nico Foth", "link": "https://stackoverflow.com/users/10548578/nico-foth"}, "edited": false, "score": 0, "creation_date": 1557351784, "post_id": 56049327, "comment_id": 98740297, "body": "Thank you for your suggestion in terms of combining the distance. I think that&#39;s the problem with my code. Even after trying to initialize the new dict as an empty one I get the same results. But I want to combine my objects if either the x-coordinates or the y-coordinates are in range. I think your solution will only combine the objects if both coordinates are in range."}, {"owner": {"reputation": 146, "user_id": 10832544, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-w-X0qC3taX4/AAAAAAAAAAI/AAAAAAAAACk/iXEIfp6-bpI/photo.jpg?sz=128", "display_name": "Angramme", "link": "https://stackoverflow.com/users/10832544/angramme"}, "reply_to_user": {"reputation": 11, "user_id": 10548578, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/--fOs34iUr9w/AAAAAAAAAAI/AAAAAAAAABU/ghQZOT8PUPs/photo.jpg?sz=128", "display_name": "Nico Foth", "link": "https://stackoverflow.com/users/10548578/nico-foth"}, "edited": false, "score": 0, "creation_date": 1557351926, "post_id": 56049327, "comment_id": 98740337, "body": "Oh I see, so leave your distance calculation the same as before but you shouldn&#39;t copy the values as you do in the first loop but instead add them as you combine them in your second double-loop"}], "tags": [], "owner": {"reputation": 146, "user_id": 10832544, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-w-X0qC3taX4/AAAAAAAAAAI/AAAAAAAAACk/iXEIfp6-bpI/photo.jpg?sz=128", "display_name": "Angramme", "link": "https://stackoverflow.com/users/10832544/angramme"}, "is_accepted": false, "score": 0, "last_activity_date": 1557351514, "last_edit_date": 1557351514, "creation_date": 1557351078, "answer_id": 56049327, "question_id": 56049138, "link": "https://stackoverflow.com/questions/56049138/comparing-dictionary-values-and-sorting-some-out/56049327#56049327", "title": "Comparing dictionary values and sorting some out", "body": "<p>Of course the length is the same as the old dictionary! You are coping (in first loop) it and modifying some elements (in second loop)! You should instead leave the new dictionary empty and append new elements.</p>\n\n<p>Also I don't know if it will change much but I suggest to calculate your distance this way:</p>\n\n<pre><code>#remove first copy loop\n\n#inside your double for loop do:\ndSQ = (old_dict[item][1] - old_dict[item1][1])**2 + (old_dict[item][2] - old_dict[item1][2])**2\nif dSQ &lt; 10**2:\n   #combine your objects as you did before\n   new_dict[item1] = new_data\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 10548578, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/--fOs34iUr9w/AAAAAAAAAAI/AAAAAAAAABU/ghQZOT8PUPs/photo.jpg?sz=128", "display_name": "Nico Foth", "link": "https://stackoverflow.com/users/10548578/nico-foth"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 25, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1557351514, "creation_date": 1557350039, "question_id": 56049138, "link": "https://stackoverflow.com/questions/56049138/comparing-dictionary-values-and-sorting-some-out", "title": "Comparing dictionary values and sorting some out", "body": "<p>I have a dictionary with a random generated key (ex. mApd12iX6V1zrUtn) and three values stored in a list (ex. [823583862, 717, 4979]). Those three values are the mass, a x-coordinate and a y-coordinate. I want to compare all the coordinates of every item/object in that dictionary and combine them if the coordinates are up to 10 apart from each other.</p>\n\n<p>I tried to iterate over the dictionary in a nested loop.</p>\n\n<pre><code>new_obj_list = {}\nfor item in obj_list:\n    new_obj_list[item] = obj_list[item]\n\nfor item in obj_list:\n\n    for item1 in obj_list:\n\n        if item != item1 and obj_list[item][1]-10 &lt; obj_list[item1][1] &lt; obj_list[item][1]+10:\n\n            new_mass = obj_list[item1][0] + obj_list[item][0]\n            new_posx = obj_list[item][1]\n            new_posy = obj_list[item][2]\n            new_data = [new_mass, new_posx, new_posy]\n            new_obj_list[item] = new_data\n\n        if item != item1 and obj_list[item][2]-10 &lt; obj_list[item1][2] &lt; obj_list[item][2]+10:\n\n            new_mass = obj_list[item1][0] + obj_list[item][0]\n            new_posx = obj_list[item][1]\n            new_posy = obj_list[item][2]\n            new_data = [new_mass, new_posx, new_posy]\n            new_obj_list[item] = new_data\n\nprint(len(obj_list))\nprint(len(new_obj_list))\n</code></pre>\n\n<p>The length of obj_list is the same as the length of new_obj_list. I was expecting new_obj_list to be way smaller than obj_list, because only the sorted items should get stored in new_obj_list.</p>\n"}, {"tags": ["python", "shell"], "comments": [{"owner": {"reputation": 5007, "user_id": 10924296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/483c21a8a3f03bbf92cb99539ec97dbc?s=128&d=identicon&r=PG&f=1", "display_name": "Reedinationer", "link": "https://stackoverflow.com/users/10924296/reedinationer"}, "edited": false, "score": 0, "creation_date": 1557350215, "post_id": 56049116, "comment_id": 98739727, "body": "The most robust way to parse strings would be the <a href=\"https://docs.python.org/3/library/re.html\" rel=\"nofollow noreferrer\"><code>re</code> module</a>. A simpler solution that would easily mess up or break would be to <code>.split()</code> the strings and then refer to items by their index."}], "answers": [{"comments": [{"owner": {"reputation": 5007, "user_id": 10924296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/483c21a8a3f03bbf92cb99539ec97dbc?s=128&d=identicon&r=PG&f=1", "display_name": "Reedinationer", "link": "https://stackoverflow.com/users/10924296/reedinationer"}, "edited": false, "score": 0, "creation_date": 1557350946, "post_id": 56049231, "comment_id": 98740004, "body": "Yes, as I said <code>re</code> would probably be what OP is looking for. If OP wants to learn more, they should click the link in my comment on their question. If you have a better link, Juan it would be great to include it in your post."}], "tags": [], "owner": {"reputation": 3962, "user_id": 9462829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1dd68e18954cab2275b2cc02845a37d9?s=128&d=identicon&r=PG&f=1", "display_name": "Juan C", "link": "https://stackoverflow.com/users/9462829/juan-c"}, "is_accepted": false, "score": 3, "last_activity_date": 1557351179, "last_edit_date": 1557351179, "creation_date": 1557350573, "answer_id": 56049231, "question_id": 56049116, "link": "https://stackoverflow.com/questions/56049116/parse-text-from-a-file-to-another-file-using-python-script/56049231#56049231", "title": "Parse text from a file to another file using python script", "body": "<p>The full answer to your question is a bit too much, but I can guide you a bit. You should read about <code>regex</code>, which you can use with the <code>re</code> module from python. So, I'll only parse dates from your strings:</p>\n\n<pre><code>import re\nstring='06 May 19 03:40:35 3 abCodeClearTrap Error Clear Trap (agent: 12367a12, chassis:12367a12, ErrIdText: ERROR ID TEXT, csssi: EXTIFG, clearedID: 0x089088394)\\n\\\n06 May 19 03:44:35 3 abCodeErrorTrap Error Trap (agent: 12368a15, chassis: 12368a15, ErrIdText: Skip this item, csssi: SSRSSR, clearedID: 0x089088394)'\n\nsplit_error=string.split('\\n')\n\ndates=[]\nfor error in split_error:\n    date=re.match('\\d{2} \\w+ \\d{2}', error).group(0)\n    dates.append(date)\n</code></pre>\n\n<p>You could do this even more efficiently with list comprehensions, but if you're new to Python it's best to use more readable code.</p>\n\n<p>I splitted every line of error into a list, and then searched for a combination of two numbers(<code>'\\d{2}'</code>), a space (<code></code>), a word character or more (<code>'\\w+'</code>), a space (<code></code>), and then two numbers ( <code>'\\d{2}'</code>) in each string and extracted that from it. Then I appended the date to the <code>dates</code> list. You can find similar patterns to extract most of the data you're looking for. </p>\n\n<p>Good luck !</p>\n\n<p>Edit: as suggested by @Reedinationer, a good link to get to know patterns after reading a bit about the <code>re</code> module is the <a href=\"https://www.rexegg.com/regex-quickstart.html\" rel=\"nofollow noreferrer\">regex cheat sheet</a>, I always go there when I forget how to do some regex</p>\n"}, {"comments": [{"owner": {"reputation": 73, "user_id": 11014877, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-vdApeGz37nk/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQMBR5MS-Wj5Ip3PgI8JPFN0uxAHjw/mo/photo.jpg?sz=128", "display_name": "Nick Gonzales", "link": "https://stackoverflow.com/users/11014877/nick-gonzales"}, "edited": false, "score": 0, "creation_date": 1557412227, "post_id": 56049330, "comment_id": 98763573, "body": "say if I want to get the value &quot;3&quot; between time and abcCode. will I just do &quot;ids = line.split()[1]&quot;? thanks"}, {"owner": {"reputation": 15754, "user_id": 9835872, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PN0Lq.jpg?s=128&g=1", "display_name": "ruohola", "link": "https://stackoverflow.com/users/9835872/ruohola"}, "reply_to_user": {"reputation": 73, "user_id": 11014877, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-vdApeGz37nk/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQMBR5MS-Wj5Ip3PgI8JPFN0uxAHjw/mo/photo.jpg?sz=128", "display_name": "Nick Gonzales", "link": "https://stackoverflow.com/users/11014877/nick-gonzales"}, "edited": false, "score": 0, "creation_date": 1557412277, "post_id": 56049330, "comment_id": 98763608, "body": "@NickGonzales That would be <code>ids = line.split()[4]</code>. You should read up more on <code>split</code> from the documentation :)"}, {"owner": {"reputation": 73, "user_id": 11014877, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-vdApeGz37nk/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQMBR5MS-Wj5Ip3PgI8JPFN0uxAHjw/mo/photo.jpg?sz=128", "display_name": "Nick Gonzales", "link": "https://stackoverflow.com/users/11014877/nick-gonzales"}, "edited": false, "score": 0, "creation_date": 1557432576, "post_id": 56049330, "comment_id": 98773571, "body": "When I execute the code. I got the error &quot;date=re.match(r&#39;/\\d{2} \\w+ \\d{2}&#39;, line).group(0)....AttributeError: &#39;NoneType&#39; object has no attribute &#39;group&#39;"}, {"owner": {"reputation": 15754, "user_id": 9835872, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PN0Lq.jpg?s=128&g=1", "display_name": "ruohola", "link": "https://stackoverflow.com/users/9835872/ruohola"}, "reply_to_user": {"reputation": 73, "user_id": 11014877, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-vdApeGz37nk/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQMBR5MS-Wj5Ip3PgI8JPFN0uxAHjw/mo/photo.jpg?sz=128", "display_name": "Nick Gonzales", "link": "https://stackoverflow.com/users/11014877/nick-gonzales"}, "edited": false, "score": 0, "creation_date": 1557433231, "post_id": 56049330, "comment_id": 98773799, "body": "@NickGonzales You have an extra <code>&#47;</code> on the start of that regex pattern. In general you can check for the match before calling <code>group(0)</code> on it to avoid errors. e.g. <code>match = re.match(pattern, string); if match: date = match.group(0)</code>"}, {"owner": {"reputation": 73, "user_id": 11014877, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-vdApeGz37nk/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQMBR5MS-Wj5Ip3PgI8JPFN0uxAHjw/mo/photo.jpg?sz=128", "display_name": "Nick Gonzales", "link": "https://stackoverflow.com/users/11014877/nick-gonzales"}, "edited": false, "score": 0, "creation_date": 1557433623, "post_id": 56049330, "comment_id": 98773963, "body": "That was my typo on the comment. I did not have that extra &quot;/&quot; in my code and I still have the error. Thanks"}], "tags": [], "owner": {"reputation": 15754, "user_id": 9835872, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PN0Lq.jpg?s=128&g=1", "display_name": "ruohola", "link": "https://stackoverflow.com/users/9835872/ruohola"}, "is_accepted": true, "score": 2, "last_activity_date": 1557353132, "last_edit_date": 1557353132, "creation_date": 1557351088, "answer_id": 56049330, "question_id": 56049116, "link": "https://stackoverflow.com/questions/56049116/parse-text-from-a-file-to-another-file-using-python-script/56049330#56049330", "title": "Parse text from a file to another file using python script", "body": "<p>Here's a rough example how you can open your log file with <a href=\"https://docs.python.org/3/library/functions.html#open\" rel=\"nofollow noreferrer\"><code>open()</code></a> and parse some values from it using the <a href=\"https://docs.python.org/3/library/re.html\" rel=\"nofollow noreferrer\"><code>re</code></a> module and <a href=\"https://docs.python.org/3/library/stdtypes.html#str.split\" rel=\"nofollow noreferrer\"><code>str.split()</code></a>:</p>\n\n<pre><code>import re\n\nwith open('myfile.log') as f:\n    lines = f.readlines()\n\ndata = []\nfor line in lines:\n\n    date = re.match(r'\\d{2} \\w+ \\d{2}', line).group(0)\n    time = line.split()[3]\n    agent = re.search(r'agent:\\s(.*?),', line).group(1)        \n    errID = re.search(r'ErrIdText:\\s(.*?),', line).group(1)\n    clear = re.search(r'clearedID:\\s(.*?)\\)', line).group(1)\n\n    row = [date, time, agent, errID, clear]\n    data.append(row)\n\nfor row in data:\n    print(row)\n</code></pre>\n\n<blockquote>\n  <p>Output:</p>\n\n<pre><code>['06 May 19', '03:40:35', '12367a12', 'ERROR ID TEXT', '0x089088394']\n['06 May 19', '03:44:35', '12368a15', 'Skip this item', '0x089088394']\n</code></pre>\n</blockquote>\n"}], "owner": {"reputation": 73, "user_id": 11014877, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-vdApeGz37nk/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQMBR5MS-Wj5Ip3PgI8JPFN0uxAHjw/mo/photo.jpg?sz=128", "display_name": "Nick Gonzales", "link": "https://stackoverflow.com/users/11014877/nick-gonzales"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 143, "favorite_count": 0, "accepted_answer_id": 56049330, "answer_count": 2, "score": 0, "last_activity_date": 1557353132, "creation_date": 1557349911, "question_id": 56049116, "link": "https://stackoverflow.com/questions/56049116/parse-text-from-a-file-to-another-file-using-python-script", "title": "Parse text from a file to another file using python script", "body": "<p>I have a log file and I want to write a python script to parse out information from that log to another .txt file. I get stuck on how to start because I am very new to python. Could anyone shred some light on how I should do it</p>\n\n<p>My log file contain:</p>\n\n<pre><code>06 May 19 03:40:35 3 abCodeClearTrap Error Clear Trap (agent: 12367a12, chassis:12367a12, ErrIdText: ERROR ID TEXT, csssi: EXTIFG, clearedID: 0x089088394)\n06 May 19 03:44:35 3 abCodeErrorTrap Error Trap (agent: 12368a15, chassis: 12368a15, ErrIdText: Skip this item, csssi: SSRSSR, clearedID: 0x089088394)\n</code></pre>\n\n<p>Say the user want to parse the date, time, agent, Clear, and ErrIDText.\nHow would I go about doing that.\nThanks in advance</p>\n"}, {"tags": ["python", "python-3.x", "invoke", "fabric", "contextmanager"], "answers": [{"comments": [{"owner": {"reputation": 43, "user_id": 10542844, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-PBm-_RMSXio/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbCZwndQcIm7Io0ZZ60ISuojaEtdMw/mo/photo.jpg?sz=128", "display_name": "Nathan Phillips", "link": "https://stackoverflow.com/users/10542844/nathan-phillips"}, "edited": false, "score": 0, "creation_date": 1557350373, "post_id": 56049177, "comment_id": 98739798, "body": "Ah, yup thats it. unfortunately you can only use <code>c.run</code> in there, and no subprocess or os module calls."}], "tags": [], "owner": {"reputation": 19246, "user_id": 494134, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/3XHKr.png?s=128&g=1", "display_name": "John Gordon", "link": "https://stackoverflow.com/users/494134/john-gordon"}, "is_accepted": true, "score": 3, "last_activity_date": 1557350246, "creation_date": 1557350246, "answer_id": 56049177, "question_id": 56049097, "link": "https://stackoverflow.com/questions/56049097/invoke-context-context-is-giving-an-odd-error-for-missing-positional-argument/56049177#56049177", "title": "invoke.context.Context is giving an odd error for missing positional argument", "body": "<p>Looking at the documentation, it seems like you're supposed to create your own instance of <code>Context</code>, instead of using the <code>Context</code> class directly.</p>\n\n<p>They also use the <code>run()</code> method on the Context instance instead of <code>subprocess.run()</code>.</p>\n\n<p>Try this:</p>\n\n<pre><code>from invoke import Context\n\nc = Context()\nwith c.cd(\"/etc\"):\n    c.run(\"ls\")\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 10542844, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-PBm-_RMSXio/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbCZwndQcIm7Io0ZZ60ISuojaEtdMw/mo/photo.jpg?sz=128", "display_name": "Nathan Phillips", "link": "https://stackoverflow.com/users/10542844/nathan-phillips"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 232, "favorite_count": 0, "accepted_answer_id": 56049177, "answer_count": 1, "score": 1, "last_activity_date": 1557350246, "creation_date": 1557349801, "question_id": 56049097, "link": "https://stackoverflow.com/questions/56049097/invoke-context-context-is-giving-an-odd-error-for-missing-positional-argument", "title": "invoke.context.Context is giving an odd error for missing positional argument", "body": "<p>I am trying to change directories in my python program within a context manager. using <code>invoke.context.Context</code> seems like the proper way to do it, got from the Fabric documentation and using a regular <code>with os.chdir</code> will not work. </p>\n\n<p>However, when I try to do something such as </p>\n\n<pre><code>from invoke import Context\n\nwith Context.cd(\"/etc\"):\n    subprocess.run([\"ls\"])\n</code></pre>\n\n<p>I get an error back that says:</p>\n\n<pre><code>---------------------------------------------------------------------------\nTypeError                                 Traceback (most recent call last)\n&lt;ipython-input-2-40b28af3213a&gt; in &lt;module&gt;\n----&gt; 1 with Context.cd(\"/etc\"):\n      2     subprocess.run([\"ls\"])\n      3\n\n~/miniconda3/envs/python3/lib/python3.7/contextlib.py in helper(*args, **kwds)\n    237     @wraps(func)\n    238     def helper(*args, **kwds):\n--&gt; 239         return _GeneratorContextManager(func, args, kwds)\n    240     return helper\n    241\n\n~/miniconda3/envs/python3/lib/python3.7/contextlib.py in __init__(self, func, args, kwds)\n     80\n     81     def __init__(self, func, args, kwds):\n---&gt; 82         self.gen = func(*args, **kwds)\n     83         self.func, self.args, self.kwds = func, args, kwds\n     84         # Issue 19330: ensure context manager instances have good docstrings\n\nTypeError: cd() missing 1 required positional argument: 'path'\n</code></pre>\n\n<p>The documentation makes this seem correct (<a href=\"http://docs.pyinvoke.org/en/latest/api/context.html#invoke.context.Context\" rel=\"nofollow noreferrer\">http://docs.pyinvoke.org/en/latest/api/context.html#invoke.context.Context</a>), but i'm a little lost.</p>\n\n<p>Any advice is helpful.</p>\n"}, {"tags": ["python", "python-3.x", "nlp", "classification", "text-classification"], "comments": [{"owner": {"reputation": 241, "user_id": 4451856, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/4d8415b6d02cac49b54ba05e283b66fe?s=128&d=identicon&r=PG&f=1", "display_name": "a&#39;-", "link": "https://stackoverflow.com/users/4451856/a"}, "edited": false, "score": 0, "creation_date": 1557349664, "post_id": 56049055, "comment_id": 98739563, "body": "Will all the categories of Drama start with &#39;Drama&#39; and similar for other groups?"}, {"owner": {"reputation": 5804, "user_id": 6083423, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/f99j5.jpg?s=128&g=1", "display_name": "Life is complex", "link": "https://stackoverflow.com/users/6083423/life-is-complex"}, "edited": false, "score": 0, "creation_date": 1557350726, "post_id": 56049055, "comment_id": 98739920, "body": "Please familiarize yourself with these FAQs and repost your question -- (1) How do I ask a good question - <a href=\"https://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a> -- (2) How to create a Minimal, Complete, and Verifiable example - <a href=\"https://stackoverflow.com/help/mcve\">stackoverflow.com/help/mcve</a>"}], "answers": [{"tags": [], "owner": {"reputation": 2124, "user_id": 8831165, "user_type": "registered", "profile_image": "https://graph.facebook.com/10208994155229891/picture?type=large", "display_name": "Frederik Bode", "link": "https://stackoverflow.com/users/8831165/frederik-bode"}, "is_accepted": false, "score": 0, "last_activity_date": 1557350892, "creation_date": 1557350892, "answer_id": 56049286, "question_id": 56049055, "link": "https://stackoverflow.com/questions/56049055/how-do-i-group-similar-categories/56049286#56049286", "title": "How do I group similar categories?", "body": "<p>Use a pre trained model to generate embeddings, and from there you can cluster the embeddings using a clustering algorithm like t-SNE or UMAP. I recommend <code>fasttext</code> or <code>spacy</code>, with <code>spacey</code> being the easiest to use.</p>\n"}, {"tags": [], "owner": {"reputation": 628, "user_id": 10857616, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xFXBv.jpg?s=128&g=1", "display_name": "peki", "link": "https://stackoverflow.com/users/10857616/peki"}, "is_accepted": false, "score": 0, "last_activity_date": 1557351145, "creation_date": 1557351145, "answer_id": 56049338, "question_id": 56049055, "link": "https://stackoverflow.com/questions/56049055/how-do-i-group-similar-categories/56049338#56049338", "title": "How do I group similar categories?", "body": "<p>If you're looking for NLP packages there are a few modules you can check out, the first of which is: </p>\n\n<h2><a href=\"https://scikit-learn.org/\" rel=\"nofollow noreferrer\">SciKit-Learn</a></h2>\n\n<p>It has a whole sea of classes and an orderly and easily understandable documentation, but doesn't use neural networks for text processing. There is also:</p>\n\n<h2><a href=\"https://www.nltk.org/\" rel=\"nofollow noreferrer\">Natural Language Toolkit</a></h2>\n\n<p>It has a noticeable advantage of being the most developed and full-fleshed, but it's quite slow. </p>\n\n<h2><a href=\"https://spacy.io/\" rel=\"nofollow noreferrer\">SpaCy</a></h2>\n\n<p>It's quite fast, but the speed comes at a price of not being as flexible as the other libraries I've mentioned. It has support for 7 languages, as of yet, I believe, but it might be enough for a starting point.</p>\n\n<p>Still though, for what you aim to achieve with NLP, your best choice may be NLTK. There is a <a href=\"https://www.youtube.com/watch?v=FLZvOKSCkxY&amp;list=PLQVvvaa0QuDf2JswnfiGkliBInZnIC4HL\" rel=\"nofollow noreferrer\">great tutorial playlist from sentdex</a>. Good luck!</p>\n"}], "owner": {"reputation": 11, "user_id": 10220906, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b42b1372af66261dc2562449143cd917?s=128&d=identicon&r=PG&f=1", "display_name": "user10220906", "link": "https://stackoverflow.com/users/10220906/user10220906"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 85, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1557351145, "creation_date": 1557349578, "question_id": 56049055, "link": "https://stackoverflow.com/questions/56049055/how-do-i-group-similar-categories", "title": "How do I group similar categories?", "body": "<p>I have about 1200 tv show categories .. like Drama, News, Sports, Sports-non event, Drama Medical, Drama Crime.. etc</p>\n\n<p>How do I use NLP so that I get groups such that Drama, Drama medical and Drama Crime group together and Sports, Sports-non event etc group together and so on... basically the end goal is to reduce the 1200 categories to very few broad categories.</p>\n\n<p>Till now I have used bag of words to build a dictionary with 146 words..</p>\n"}, {"tags": ["python", "discord.py", "discord.py-rewrite"], "comments": [{"owner": {"reputation": 5007, "user_id": 10924296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/483c21a8a3f03bbf92cb99539ec97dbc?s=128&d=identicon&r=PG&f=1", "display_name": "Reedinationer", "link": "https://stackoverflow.com/users/10924296/reedinationer"}, "edited": false, "score": 0, "creation_date": 1557350526, "post_id": 56049045, "comment_id": 98739858, "body": "You realize that <code>return userlvl</code> makes about half of the code you posted unreachable, right? The way I am reading it, the only way it can be reached is actually if an <code>Exception</code> occurs..."}, {"owner": {"reputation": 353, "user_id": 11064111, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ymM7q.jpg?s=128&g=1", "display_name": "xupaii", "link": "https://stackoverflow.com/users/11064111/xupaii"}, "reply_to_user": {"reputation": 5007, "user_id": 10924296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/483c21a8a3f03bbf92cb99539ec97dbc?s=128&d=identicon&r=PG&f=1", "display_name": "Reedinationer", "link": "https://stackoverflow.com/users/10924296/reedinationer"}, "edited": false, "score": 0, "creation_date": 1557350734, "post_id": 56049045, "comment_id": 98739927, "body": "huh.. well i mean it gets to the level-up message when i level up, and doesn&#39;t other wise. I managed to get <code>if userexp[str(user)] &lt; 100</code> into my for loop. If you can help me improve my code, I am definitely interested though, I am still pretty beginner."}, {"owner": {"reputation": 353, "user_id": 11064111, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ymM7q.jpg?s=128&g=1", "display_name": "xupaii", "link": "https://stackoverflow.com/users/11064111/xupaii"}, "reply_to_user": {"reputation": 5007, "user_id": 10924296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/483c21a8a3f03bbf92cb99539ec97dbc?s=128&d=identicon&r=PG&f=1", "display_name": "Reedinationer", "link": "https://stackoverflow.com/users/10924296/reedinationer"}, "edited": false, "score": 0, "creation_date": 1557351071, "post_id": 56049045, "comment_id": 98740055, "body": "Updated my code to what it is now, if there is still any problems feel free to let me know :) [note: still not sending level-up messages]"}, {"owner": {"reputation": 5007, "user_id": 10924296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/483c21a8a3f03bbf92cb99539ec97dbc?s=128&d=identicon&r=PG&f=1", "display_name": "Reedinationer", "link": "https://stackoverflow.com/users/10924296/reedinationer"}, "edited": false, "score": 1, "creation_date": 1557351607, "post_id": 56049045, "comment_id": 98740234, "body": "So you have the <code>user</code> object from discord and your goal is to send them a message that lets them know they&#39;ve leveled up? Or is <code>user</code> an ID? What exactly is the input of your function?"}, {"owner": {"reputation": 353, "user_id": 11064111, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ymM7q.jpg?s=128&g=1", "display_name": "xupaii", "link": "https://stackoverflow.com/users/11064111/xupaii"}, "reply_to_user": {"reputation": 5007, "user_id": 10924296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/483c21a8a3f03bbf92cb99539ec97dbc?s=128&d=identicon&r=PG&f=1", "display_name": "Reedinationer", "link": "https://stackoverflow.com/users/10924296/reedinationer"}, "edited": false, "score": 0, "creation_date": 1557351728, "post_id": 56049045, "comment_id": 98740269, "body": "<code>user</code> is an ID, sorry for not clarifying. My dicts are all in the format of <code>&quot;id&quot;: value</code>. My goal is just to send a message in the chat the user is when they level up, which would work if i had a substitute for <code>ctx.send</code>"}, {"owner": {"reputation": 49388, "user_id": 6779307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p7O3q.jpg?s=128&g=1", "display_name": "Patrick Haugh", "link": "https://stackoverflow.com/users/6779307/patrick-haugh"}, "edited": false, "score": 0, "creation_date": 1557354621, "post_id": 56049045, "comment_id": 98741048, "body": "Do you have a context when you call this function?  Context objects are regular Python objects, and you can pass them around like any other value."}], "answers": [{"comments": [{"owner": {"reputation": 353, "user_id": 11064111, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ymM7q.jpg?s=128&g=1", "display_name": "xupaii", "link": "https://stackoverflow.com/users/11064111/xupaii"}, "edited": false, "score": 0, "creation_date": 1557352937, "post_id": 56049507, "comment_id": 98740631, "body": "Thanks for all the links! I will accept your answer when I get it working :) Figuring out <code>Command raised an exception: AttributeError: &#39;NoneType&#39; object has no attribute &#39;send&#39;</code> right now :/"}, {"owner": {"reputation": 5007, "user_id": 10924296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/483c21a8a3f03bbf92cb99539ec97dbc?s=128&d=identicon&r=PG&f=1", "display_name": "Reedinationer", "link": "https://stackoverflow.com/users/10924296/reedinationer"}, "reply_to_user": {"reputation": 353, "user_id": 11064111, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ymM7q.jpg?s=128&g=1", "display_name": "xupaii", "link": "https://stackoverflow.com/users/11064111/xupaii"}, "edited": false, "score": 0, "creation_date": 1557353093, "post_id": 56049507, "comment_id": 98740671, "body": "@xupaii In the second link, it says the line <code>dm_channel = user_to_level_up.dm_channel</code> will return <code>None</code> if you do not have a DM with your bot. That&#39;s why I added the <code>if dm_channel is None:</code> block, not sure if you&#39;re using my initial post or the edited version that included that"}], "tags": [], "owner": {"reputation": 5007, "user_id": 10924296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/483c21a8a3f03bbf92cb99539ec97dbc?s=128&d=identicon&r=PG&f=1", "display_name": "Reedinationer", "link": "https://stackoverflow.com/users/10924296/reedinationer"}, "is_accepted": true, "score": 1, "last_activity_date": 1557352175, "creation_date": 1557352175, "answer_id": 56049507, "question_id": 56049045, "link": "https://stackoverflow.com/questions/56049045/send-a-message-to-current-channel-without-context-discord-py-rewrite/56049507#56049507", "title": "Send a message to current channel without context? | discord.py rewrite", "body": "<p>Seeing as you have a user ID I would propose this solution.</p>\n\n<ul>\n<li><a href=\"https://discordpy.readthedocs.io/en/latest/ext/commands/api.html#discord.ext.commands.Bot.fetch_user\" rel=\"nofollow noreferrer\">Use your bot to get the <code>User</code> object</a>.</li>\n<li><a href=\"https://discordpy.readthedocs.io/en/latest/api.html#discord.User.dm_channel\" rel=\"nofollow noreferrer\">Use the <code>User</code> object to get a DM Channel</a></li>\n<li><a href=\"https://discordpy.readthedocs.io/en/latest/api.html#discord.DMChannel.send\" rel=\"nofollow noreferrer\">Use the <code>DM_channel</code> to send a level up message</a></li>\n</ul>\n\n<pre><code>user_to_level_up = bot.fetch_user(user) # since your user variable is an ID\ndm_channel = user_to_level_up.dm_channel\nif dm_channel is None:\n    await user_to_level_up.create_dm()\n    dm_channel = user_to_level_up.dm_channel\nawait dm_channel.send(\"You've leveled up! You are now level {}\".format(userlvl))\n</code></pre>\n\n<p>Note: this is untested, but the links should provide the information to make it work!</p>\n\n<p>This just sends them a personal message, instead of posting in a server. To post in a server it would seem you need to cross reference the servers the user is in that the bot is also in, and that sounds like too much work to me XD</p>\n"}], "owner": {"reputation": 353, "user_id": 11064111, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ymM7q.jpg?s=128&g=1", "display_name": "xupaii", "link": "https://stackoverflow.com/users/11064111/xupaii"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1613, "favorite_count": 0, "accepted_answer_id": 56049507, "answer_count": 1, "score": 1, "last_activity_date": 1557352175, "creation_date": 1557349528, "last_edit_date": 1557351044, "question_id": 56049045, "link": "https://stackoverflow.com/questions/56049045/send-a-message-to-current-channel-without-context-discord-py-rewrite", "title": "Send a message to current channel without context? | discord.py rewrite", "body": "<p>I've begun setting up a levelling system for my bot, and have been working to try and implement a message on level-up. However, because the function I am creating isn't a command, I don't think I can pass context to it, which is causing issues.</p>\n\n<p>Due to lack of a better solution, I chucked it into my function which checks exp and matches with a level - what happens is a copy of the user's level is made, then later compared to the updated one to see if a level up occurred. This works, however my ONLY issue is not being able to send the \"level-up\" message.</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>async def levelcheck(user):\n    global userlvl\n    global userlvlc\n\n    channel = discord.Object(id=\"\")\n    # copying the userlevel BEFORE update\n    try:\n        userlvlc = userlvl\n    except NameError as e:\n        print(e)\n\n    with open('userexp.json', 'r') as fp:\n        userexp = json.load(fp)\n\n    # finding out level based on exp \n    for x in range(0,len(levelcaps)):\n        if userexp[str(user)] &lt;= levelcaps[x]:\n            userlvl = x\n            try:\n                if userlvlc &lt; userlvl:\n                    await ctx.send('You levelled up --&gt; {}'.format(userlvl))\n            except NameError as e:\n                print(e)\n            #\n            return userlvl\n</code></pre>\n\n<p>As you can clearly see, it isn't a pretty command but certainly works. I begun by trying to get a channel id, only to realise I don't know how to get the current channel with context. Is there a way to send a message to the current channel <em>without</em> context, or do I need to re-think my method?</p>\n"}, {"tags": ["python", "beautifulsoup", "scrapy", "selection"], "comments": [{"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 0, "creation_date": 1557352269, "post_id": 56049031, "comment_id": 98740447, "body": "I can see only <code>&quot;We&#39;re sorry to say that due to the General Data Protection Regulation, visitors from your location are unable to browse our web store.&quot;</code>"}, {"owner": {"reputation": 2916, "user_id": 939364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cceb4bd730bda5e8464b76de4d1d6dc5?s=128&d=identicon&r=PG", "display_name": "Gallaecio", "link": "https://stackoverflow.com/users/939364/gallaecio"}, "edited": false, "score": 0, "creation_date": 1557393726, "post_id": 56049031, "comment_id": 98753020, "body": "<a href=\"https://stackoverflow.com/help/mcve\">stackoverflow.com/help/mcve</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1484, "user_id": 7410383, "user_type": "registered", "profile_image": "https://graph.facebook.com/10211966226936527/picture?type=large", "display_name": "Edeki Okoh", "link": "https://stackoverflow.com/users/7410383/edeki-okoh"}, "is_accepted": true, "score": 1, "last_activity_date": 1557356993, "creation_date": 1557356993, "answer_id": 56050170, "question_id": 56049031, "link": "https://stackoverflow.com/questions/56049031/how-to-scrape-information-based-on-product-selectionex-size-color-pack/56050170#56050170", "title": "How to scrape information based on product selection(ex. Size, Color, Pack)?", "body": "<p>While using scrapy, if you want all combinations you will need to make sure to include all conditions inside of your script, which as you know is completely unreasonable. </p>\n\n<p>I would use two different parsers, scrapy for general scraping and selenium for more specific scraping. Using selenium, you can input specific combinations in your script and parse prices on the page like so:</p>\n\n<pre><code>import requests\nimport urllib3\nimport pandas as pd\nimport numpy as np\nimport os\nimport traceback\nimport io\nfrom bs4 import BeautifulSoup\nfrom selenium import webdriver\nfrom selenium.webdriver.chrome.options import Options\nfrom selenium.webdriver.support.wait import WebDriverWait\nfrom selenium.webdriver.common.by import By\nfrom selenium.webdriver.support import expected_conditions as EC\n\n\nchrome_options = Options()\n#chrome_options.add_argument('--headless')\n#chrome_options.add_argument('--hide-scrollbars')\n#chrome_options.add_argument('--disable-gpu')\n#chrome_options.add_argument(\"--log-level=3\")  # fatal\n\nurl = 'https://www.dickssportinggoods.com/p/berkley-vanish-fluorocarbon-fishing-line-15bkyuvnsh25010clfli/15bkyuvnsh25010clfli'\n\nbrowser = webdriver.Chrome(\n    executable_path=r'C:\\Users\\edekio\\Documents\\chromedriver.exe', chrome_options=chrome_options)\nbrowser.get(url)\n\npounds = browser.find_element_by_link_text('14').click()\n\nlength = browser.find_element_by_link_text('250 yds').click()\n\nprice = WebDriverWait(browser, 60).until(\n    EC.presence_of_element_located((By.ID, \"ProductInfoPrice_740978\")))\n\nprice_text = price.get_attribute('value')\nprint(price_text)\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>14.99\n</code></pre>\n\n<p>As you can see we can pass in specific values into the boxes using selenium, thus getting the exact price you want. However the above script is not all inclusive, but it should be a good starting point. </p>\n"}], "owner": {"reputation": 351, "user_id": 11342429, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/37dd5a41863b8a2698b32b436463ae94?s=128&d=identicon&r=PG&f=1", "display_name": "CubanGT", "link": "https://stackoverflow.com/users/11342429/cubangt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 222, "favorite_count": 0, "accepted_answer_id": 56050170, "answer_count": 1, "score": 2, "last_activity_date": 1572302856, "creation_date": 1557349455, "last_edit_date": 1572302856, "question_id": 56049031, "link": "https://stackoverflow.com/questions/56049031/how-to-scrape-information-based-on-product-selectionex-size-color-pack", "title": "How to scrape information based on product selection(ex. Size, Color, Pack)?", "body": "<p>I successfully crawled over 1600 pages last week. But was informed that a good portion of the data returned was incorrect as to what was pulled.(i.e. price) by that i mean that if the item being crawled had the option to make selection (size, color, qty/pack) in order to see the price, how would i be able to gather the correct price per selection? Seems that my logic was pulling the first price it found.</p>\n\n<p>I was trying in early attempts to just parse every combination available within the page code, but that was always failing to return accurately, that i moved to pulling just 1 price, but seems that most of the test pages I used were not option specific pricing, so i overlooked a good portion of URL's that were not similar in layout and functionality. Currently the only thing that works is the code i have which can be found here.. </p>\n\n<pre><code>https://stackoverflow.com/questions/55925202/why-does-this-code-generate-multiple-files-i-want-1-file-with-all-entries-in-it/55925220#55925220\n</code></pre>\n\n<p>This works great and as expected for any item page we crawl that doesn't have any selection to be made.. </p>\n\n<pre><code>https://stackoverflow.com/questions/55925202/why-does-this-code-generate-multiple-files-i-want-1-file-with-all-entries-in-it/55925220#55925220\n</code></pre>\n\n<p>Entire code is already posted here with the final version that is working.</p>\n\n<p>I dont need full examples, i just need some guidance on what to focus on within the code in order to automatically make product selections in order to get the correct price, selection combo</p>\n\n<p>Here is an example page that was one that didn't pull the correct price:\n    <a href=\"https://www.dickssportinggoods.com/p/berkley-vanish-fluorocarbon-fishing-line-15bkyuvnsh25010clfli/15bkyuvnsh25010clfli\" rel=\"nofollow noreferrer\">https://www.dickssportinggoods.com/p/berkley-vanish-fluorocarbon-fishing-line-15bkyuvnsh25010clfli/15bkyuvnsh25010clfli</a></p>\n\n<p>The price changes when you start to make selections, if you choose \"6\" pound and \"2000 yds\" the price will change to $75.99, then if you change it to \"250 yds\" then the price changes to $12.99 </p>\n\n<p>Since we will from time to time have a need to pull a specific pound and length, what do i need to focus on in order to systemically pull the correct price for the needed selections?</p>\n\n<p>Is there a way to just pull all the combinations per page while there so that we aren't hitting the same page over and over? </p>\n\n<p>I've looked at some links here and other sites that seem to deal with this, but little lost if they are even the same thing i'm trying to accomplish.</p>\n\n<p>Just looking for some guidance on where to start or what to try..</p>\n"}, {"tags": ["python", "ubuntu", "tensorflow", "anaconda"], "comments": [{"owner": {"reputation": 775, "user_id": 5944969, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/FCsvy.jpg?s=128&g=1", "display_name": "Denis Kuzin", "link": "https://stackoverflow.com/users/5944969/denis-kuzin"}, "edited": false, "score": 0, "creation_date": 1558704576, "post_id": 56049020, "comment_id": 99199782, "body": "I have the same issue in case if I try to run the second tensorflow app on the same machine"}], "owner": {"reputation": 11, "user_id": 5070349, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-a5811-iovXA/AAAAAAAAAAI/AAAAAAAAAiQ/2CsSoBHtpWU/photo.jpg?sz=128", "display_name": "Kishor J", "link": "https://stackoverflow.com/users/5070349/kishor-j"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 169, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1557349389, "creation_date": 1557349389, "question_id": 56049020, "link": "https://stackoverflow.com/questions/56049020/tensorflow-throws-stdsystem-error-on-calling-tf-session", "title": "TensorFlow throws std::system_error on calling tf.Session()", "body": "<p>I have a virtual environment set up using anaconda on a remote server. The environment is based on Python3.7 and has TensorFlow installed using pip. The python interpreter returns a system error on calling the TensorFlow function Session(). </p>\n\n<pre class=\"lang-py prettyprint-override\"><code>&gt;&gt;&gt; import tensorflow as tf\n&gt;&gt;&gt; sess = tf.Session()\n</code></pre>\n\n<p>This produces the following error:</p>\n\n<pre><code>2019-05-08 16:56:05.239001: I tensorflow/core/platform/cpu_feature_guard.cc:141] Your CPU supports instructions that this TensorFlow binary was not compiled to use: AVX2 AVX512F FMA\nterminate called after throwing an instance of 'std::system_error'\n  what():  Resource temporarily unavailable\nAborted (core dumped)\n</code></pre>\n\n<p>Any help on figuring out the reason for this behavior would be great!\nThanks in advance.</p>\n"}, {"tags": ["python", "tkinter"], "answers": [{"comments": [{"owner": {"reputation": 3193, "user_id": 10364425, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FvwHx.png?s=128&g=1", "display_name": "Saad", "link": "https://stackoverflow.com/users/10364425/saad"}, "edited": false, "score": 0, "creation_date": 1557363117, "post_id": 56049127, "comment_id": 98742743, "body": "It could be better if he used <code>for</code> loops to create those widgets could&#39;ve made the job so much easier and it takes lesser space than this."}, {"owner": {"reputation": 5007, "user_id": 10924296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/483c21a8a3f03bbf92cb99539ec97dbc?s=128&d=identicon&r=PG&f=1", "display_name": "Reedinationer", "link": "https://stackoverflow.com/users/10924296/reedinationer"}, "reply_to_user": {"reputation": 3193, "user_id": 10364425, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FvwHx.png?s=128&g=1", "display_name": "Saad", "link": "https://stackoverflow.com/users/10364425/saad"}, "edited": false, "score": 0, "creation_date": 1557416909, "post_id": 56049127, "comment_id": 98766447, "body": "@Saad Perhaps. I think that would require restructuring the code significantly though, which I try not to do on here. OP&#39;s question was not how to put these into a <code>for</code> loop, so to do so would be more work for me and with this few widgets it really isn&#39;t a huge deal to me. It&#39;s not like thousands or even a hundred widgets are being made, just a dozen or so. OP&#39;s question was directly related to implementing a <code>tk.StringVar()</code> as I have shown here I would think. If you want to show how to use loops instead, I would encourage you to post a solution that does just that! I would upvote it!"}, {"owner": {"reputation": 3193, "user_id": 10364425, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FvwHx.png?s=128&g=1", "display_name": "Saad", "link": "https://stackoverflow.com/users/10364425/saad"}, "edited": false, "score": 1, "creation_date": 1557425401, "post_id": 56049127, "comment_id": 98770435, "body": "You&#39;re right, it is too much of work I&#39;ve to make the Gui again as the OP haven&#39;t even inherit <code>Tk()</code> and it&#39;ll be far different from what OP&#39;s way which either goes above his head or I&#39;ve to put a lot of explanation to the answer."}], "tags": [], "owner": {"reputation": 5007, "user_id": 10924296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/483c21a8a3f03bbf92cb99539ec97dbc?s=128&d=identicon&r=PG&f=1", "display_name": "Reedinationer", "link": "https://stackoverflow.com/users/10924296/reedinationer"}, "is_accepted": false, "score": 1, "last_activity_date": 1557350008, "creation_date": 1557350008, "answer_id": 56049127, "question_id": 56048926, "link": "https://stackoverflow.com/questions/56048926/how-can-i-alter-my-code-so-that-when-i-press-a-button-it-is-displayed-in-the-en/56049127#56049127", "title": "How can I alter my code so that when I press a button, it is displayed in the entry box?", "body": "<p>You need to implement a <code>tk.StringVar()</code> that can store the value at the top of the calculator screen. The main methods to know are <code>.get()</code> and <code>.set()</code> for this variable, that's how you access the value (<code>.get()</code>) or update it (<code>.set()</code>). You have to link this to the entry with the <code>textvariable</code> argument. Once you get that set up, I changed the inputs to your <code>btnClick()</code> function to all be strings. Once you have the string you want (for example \"12+5\") you can use python's built in <code>eval()</code> function to compute the result! Note, this method is not safe in that users may execute arbitrary code with it (hack your program) depending on how you implement it! A working version of your code looks like:</p>\n\n<pre><code>import tkinter\nimport tkinter.messagebox\n\nclass myGUI:\n\n    def __init__(self):\n        self.main_window = tkinter.Tk()\n        self.main_window.title('Calculator')\n\n        ## Font\n        button_font = ('Verdana', 15)\n        entry_font = ('Verdana', 36)\n\n        ## Define the frames\n        self.frameZero = tkinter.Frame(self.main_window)\n        self.frameOne = tkinter.Frame(self.main_window)\n        self.frameTwo = tkinter.Frame(self.main_window)\n        self.frameThree = tkinter.Frame(self.main_window)\n        self.frameFour = tkinter.Frame(self.main_window)\n        self.frameFive = tkinter.Frame(self.main_window)\n\n        ## Define the entry area\n        self.entry_variable = tkinter.StringVar()\n        self.my_entry = tkinter.Entry(self.frameZero, textvariable=self.entry_variable, width=13, font=entry_font)\n\n        ## Define the buttons\n\n        self.my_button1 = tkinter.Button(self.frameOne, text='1', command = lambda:btnClick(\"1\"), height = 3, width = 7, font = button_font)\n        self.my_button2 = tkinter.Button(self.frameOne, text='2', command = lambda:btnClick(\"2\"), height = 3, width = 7, font = button_font)\n        self.my_button3 = tkinter.Button(self.frameOne, text='3', command = lambda:btnClick(\"3\"), height = 3, width = 7, font = button_font)\n        self.my_buttonadd = tkinter.Button(self.frameOne, text='+', command = lambda:btnClick(\"+\"), height = 3, width = 7, font = button_font)\n        self.my_button4 = tkinter.Button(self.frameTwo, text='4', command = lambda:btnClick(\"4\"), height = 3, width = 7, font = button_font)\n        self.my_button5 = tkinter.Button(self.frameTwo, text='5', command = lambda:btnClick(\"5\"), height = 3, width = 7, font = button_font)\n        self.my_button6 = tkinter.Button(self.frameTwo, text='6', command = lambda:btnClick(\"6\"), height = 3, width = 7, font = button_font)\n        self.my_buttonsub = tkinter.Button(self.frameTwo, text='-', command = lambda:btnClick(\"-\"), height = 3, width = 7, font = button_font)\n        self.my_button7 = tkinter.Button(self.frameThree, text='7', command = lambda:btnClick(\"7\"), height = 3, width = 7, font = button_font)\n        self.my_button8 = tkinter.Button(self.frameThree, text='8', command = lambda:btnClick(\"8\"), height = 3, width = 7, font = button_font)\n        self.my_button9 = tkinter.Button(self.frameThree, text='9', command = lambda:btnClick(\"9\"), height = 3, width = 7, font = button_font)\n        self.my_buttonmult = tkinter.Button(self.frameThree, text='*', command = lambda:btnClick(\"*\"), height = 3, width = 7, font = button_font)\n        self.my_buttonC = tkinter.Button(self.frameFour, text='C', height = 3, width = 7, font = button_font)\n        self.my_button0 = tkinter.Button(self.frameFour, text='0', command = lambda:btnClick(\"0\"), height = 3, width = 7, font = button_font)\n        self.my_buttonperiod = tkinter.Button(self.frameFour, text='.', command = lambda:btnClick(\".\"), height = 3, width = 7, font = button_font)\n        self.my_buttondiv = tkinter.Button(self.frameFour, text='/', command = lambda:btnClick(\"/\"), height = 3, width = 7, font = button_font)\n        self.my_buttoncalc = tkinter.Button(self.frameFive, text='Calculate', height = 4, width = 30, font = button_font, command=self.calculate)\n\n\n\n        ## Pack the entry area\n        self.my_entry.pack(side = 'left')\n\n        ## Pack the buttons\n        self.my_button1.pack(side = 'left')\n        self.my_button2.pack(side = 'left')\n        self.my_button3.pack(side = 'left')\n        self.my_buttonadd.pack(side = 'left')\n        self.my_button4.pack(side = 'left')\n        self.my_button5.pack(side = 'left')\n        self.my_button6.pack(side = 'left')\n        self.my_buttonsub.pack(side = 'left')\n        self.my_button7.pack(side = 'left')\n        self.my_button8.pack(side = 'left')\n        self.my_button9.pack(side = 'left')\n        self.my_buttonmult.pack(side = 'left')\n        self.my_buttonC.pack(side = 'left')\n        self.my_button0.pack(side = 'left')\n        self.my_buttonperiod.pack(side = 'left')\n        self.my_buttondiv.pack(side = 'left')\n        self.my_buttoncalc.pack(side = 'left')\n\n        ## Pack the frames\n        self.frameZero.pack()\n        self.frameOne.pack()\n        self.frameTwo.pack()\n        self.frameThree.pack()\n        self.frameFour.pack()\n        self.frameFive.pack()\n\n\n\n        ## Click button function\n        def btnClick(number_clicked):\n            self.entry_variable.set(\"{}{}\".format(self.entry_variable.get(), number_clicked))\n\n    def calculate(self):\n        print(\"{}\".format(eval(str(self.entry_variable.get()))))\n        self.entry_variable.set(\"{}\".format(str(eval(str(self.entry_variable.get())))))\n\n\nmy_gui = myGUI()\nmy_gui.main_window.mainloop() # this should NOT be inside your class like you had it...\n</code></pre>\n\n<p>Overall, I liked your frame layout, and overall design. Lambda functions were good too! Welcome to StackOverflow.</p>\n"}], "owner": {"reputation": 9, "user_id": 11472257, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/311cd6b55b140559b574dedc95e0800c?s=128&d=identicon&r=PG&f=1", "display_name": "T. Stenger", "link": "https://stackoverflow.com/users/11472257/t-stenger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 26, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1557350008, "creation_date": 1557348907, "last_edit_date": 1557349036, "question_id": 56048926, "link": "https://stackoverflow.com/questions/56048926/how-can-i-alter-my-code-so-that-when-i-press-a-button-it-is-displayed-in-the-en", "title": "How can I alter my code so that when I press a button, it is displayed in the entry box?", "body": "<p>I am using tkinter on Python 3 to make a calculator. I have the layout finished. Now I am trying to get it so that when I press a button, it is displayed in the entry box. For example, if I press the 2 button followed by the + button followed by the 3 button, I want it displayed in the entry box at the top of the program.</p>\n\n<pre><code>import tkinter\nimport tkinter.messagebox\n\nclass myGUI:\n\n    def __init__(self):\n        self.main_window = tkinter.Tk()\n        self.main_window.title('Calculator')\n\n        ## Font\n        button_font = ('Verdana', 15)\n        entry_font = ('Verdana', 36)\n\n        ## Define the frames\n        self.frameZero = tkinter.Frame(self.main_window)\n        self.frameOne = tkinter.Frame(self.main_window)\n        self.frameTwo = tkinter.Frame(self.main_window)\n        self.frameThree = tkinter.Frame(self.main_window)\n        self.frameFour = tkinter.Frame(self.main_window)\n        self.frameFive = tkinter.Frame(self.main_window)\n\n        ## Define the buttons\n\n        self.my_button1 = tkinter.Button(self.frameOne, text='1', command = lambda:btnClick(my_button1), height = 3, width = 7, font = button_font)\n        self.my_button2 = tkinter.Button(self.frameOne, text='2', command = lambda:btnClick(my_button2), height = 3, width = 7, font = button_font)\n        self.my_button3 = tkinter.Button(self.frameOne, text='3', command = lambda:btnClick(my_button3), height = 3, width = 7, font = button_font)\n        self.my_buttonadd = tkinter.Button(self.frameOne, text='+', command = lambda:btnClick(my_buttonadd), height = 3, width = 7, font = button_font)\n        self.my_button4 = tkinter.Button(self.frameTwo, text='4', command = lambda:btnClick(my_button4), height = 3, width = 7, font = button_font)\n        self.my_button5 = tkinter.Button(self.frameTwo, text='5', command = lambda:btnClick(my_button5), height = 3, width = 7, font = button_font)\n        self.my_button6 = tkinter.Button(self.frameTwo, text='6', command = lambda:btnClick(my_button6), height = 3, width = 7, font = button_font)\n        self.my_buttonsub = tkinter.Button(self.frameTwo, text='-', command = lambda:btnClick(my_buttonsub), height = 3, width = 7, font = button_font)\n        self.my_button7 = tkinter.Button(self.frameThree, text='7', command = lambda:btnClick(my_button7), height = 3, width = 7, font = button_font)\n        self.my_button8 = tkinter.Button(self.frameThree, text='8', command = lambda:btnClick(my_button8), height = 3, width = 7, font = button_font)\n        self.my_button9 = tkinter.Button(self.frameThree, text='9', command = lambda:btnClick(my_button9), height = 3, width = 7, font = button_font)\n        self.my_buttonmult = tkinter.Button(self.frameThree, text='*', command = lambda:btnClick(my_buttonmult), height = 3, width = 7, font = button_font)\n        self.my_buttonC = tkinter.Button(self.frameFour, text='C', height = 3, width = 7, font = button_font)\n        self.my_button0 = tkinter.Button(self.frameFour, text='0', command = lambda:btnClick(my_button0), height = 3, width = 7, font = button_font)\n        self.my_buttonperiod = tkinter.Button(self.frameFour, text='.', command = lambda:btnClick(my_buttonperiod), height = 3, width = 7, font = button_font)\n        self.my_buttondiv = tkinter.Button(self.frameFour, text='/', command = lambda:btnClick(my_buttondiv), height = 3, width = 7, font = button_font)\n        self.my_buttoncalc = tkinter.Button(self.frameFive, text='Calculate', height = 4, width = 30, font = button_font)\n\n        ## Define the entry area\n        self.my_entry = tkinter.Entry(self.frameZero, width = 13, font = entry_font)\n\n        ## Pack the entry area\n        self.my_entry.pack(side = 'left')\n\n        ## Pack the buttons\n        self.my_button1.pack(side = 'left')\n        self.my_button2.pack(side = 'left')\n        self.my_button3.pack(side = 'left')\n        self.my_buttonadd.pack(side = 'left')\n        self.my_button4.pack(side = 'left')\n        self.my_button5.pack(side = 'left')\n        self.my_button6.pack(side = 'left')\n        self.my_buttonsub.pack(side = 'left')\n        self.my_button7.pack(side = 'left')\n        self.my_button8.pack(side = 'left')\n        self.my_button9.pack(side = 'left')\n        self.my_buttonmult.pack(side = 'left')\n        self.my_buttonC.pack(side = 'left')\n        self.my_button0.pack(side = 'left')\n        self.my_buttonperiod.pack(side = 'left')\n        self.my_buttondiv.pack(side = 'left')\n        self.my_buttoncalc.pack(side = 'left')\n\n        ## Pack the frames\n        self.frameZero.pack()\n        self.frameOne.pack()\n        self.frameTwo.pack()\n        self.frameThree.pack()\n        self.frameFour.pack()\n        self.frameFive.pack()\n\n        ## Click button function\n        def btnClick(numbers):\n            global operator\n            operator=operator + str(numbers)\n            my_entry = self.set(operator)\n\n\n        tkinter.mainloop()\n\nmy_gui = myGUI()\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 19530, "user_id": 2823755, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vCEUU.png?s=128&g=1", "display_name": "wwii", "link": "https://stackoverflow.com/users/2823755/wwii"}, "edited": false, "score": 0, "creation_date": 1557349211, "post_id": 56048918, "comment_id": 98739420, "body": "Make a try at it. Spend some time with <a href=\"https://docs.python.org/3/tutorial/index.html\" rel=\"nofollow noreferrer\">the tutorial</a> practicing the examples."}, {"owner": {"reputation": 19530, "user_id": 2823755, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vCEUU.png?s=128&g=1", "display_name": "wwii", "link": "https://stackoverflow.com/users/2823755/wwii"}, "edited": false, "score": 4, "creation_date": 1557349289, "post_id": 56048918, "comment_id": 98739444, "body": "Welcome to SO. Please take the time to read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> and the other links found on that page."}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 11472210, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb08a956be084dd19a6516047c5bb2d8?s=128&d=identicon&r=PG&f=1", "display_name": "AdamBaum", "link": "https://stackoverflow.com/users/11472210/adambaum"}, "edited": false, "score": 0, "creation_date": 1557368857, "post_id": 56049061, "comment_id": 98743865, "body": "This is a more &quot;pythonic&quot; way of doing it"}], "tags": [], "owner": {"reputation": 249903, "user_id": 2422776, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2353050223ebecb113741c29458de4b2?s=128&d=identicon&r=PG", "display_name": "Mureinik", "link": "https://stackoverflow.com/users/2422776/mureinik"}, "is_accepted": false, "score": 0, "last_activity_date": 1557349609, "creation_date": 1557349609, "answer_id": 56049061, "question_id": 56048918, "link": "https://stackoverflow.com/questions/56048918/multiplying-nested-dictionary-value-with-another-dictionary-value/56049061#56049061", "title": "Multiplying nested dictionary value with another dictionary value", "body": "<p>I'd use the subscript operator to get the user's grocery list, and then sum a generator expression that replaces the product name with its price and multiplies it by the amount:</p>\n\n<pre><code>def sumUser(user):\n    return {user : sum((price_list[p] * a for (p, a) in grocery_list[user].items()))}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 23, "user_id": 11472210, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb08a956be084dd19a6516047c5bb2d8?s=128&d=identicon&r=PG&f=1", "display_name": "AdamBaum", "link": "https://stackoverflow.com/users/11472210/adambaum"}, "edited": false, "score": 1, "creation_date": 1557368811, "post_id": 56049121, "comment_id": 98743860, "body": "This produced the desired outcome and is the easiest to understand"}], "tags": [], "owner": {"reputation": 3962, "user_id": 9462829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1dd68e18954cab2275b2cc02845a37d9?s=128&d=identicon&r=PG&f=1", "display_name": "Juan C", "link": "https://stackoverflow.com/users/9462829/juan-c"}, "is_accepted": true, "score": 0, "last_activity_date": 1557349974, "creation_date": 1557349974, "answer_id": 56049121, "question_id": 56048918, "link": "https://stackoverflow.com/questions/56048918/multiplying-nested-dictionary-value-with-another-dictionary-value/56049121#56049121", "title": "Multiplying nested dictionary value with another dictionary value", "body": "<p>This does it:</p>\n\n<pre><code> grocery_list = {\"Jane\" : {\"Oranges\": 2 , \"Cucumbers\" : 2, \"Onions\": 5 , \n \"Tomatoes\" : 4} , \"Steve\" : {\"Oranges\": 5 , \"Cucumbers\" : 4, \"Onions\": 6 \n }, \"John\" : {\"Oranges\": 8 , \"Cucumbers\" : 10, \"Tomatoes\" : 9}}\n\n price_list = {\"Oranges\" : .89, \"Cucumbers\" : 0.50 , \"Onions\": 2.00 , \n \"Tomatoes\" : 1.00}\n\n\n\n\ndef get_total(User):\n    user=grocery_list[User]\n    total={User:sum({k:(user[k]*price_list[k]) for k in user.keys()}.values())}\n    return total\n\nget_total('Jane')\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>{'Jane': 16.78}\n</code></pre>\n\n<p>Let me know if there's any doubts</p>\n"}, {"comments": [{"owner": {"reputation": 219, "user_id": 4963524, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/180a528e6a9742c8b9a95c77f90b1a2e?s=128&d=identicon&r=PG&f=1", "display_name": "dd95", "link": "https://stackoverflow.com/users/4963524/dd95"}, "reply_to_user": {"reputation": 23, "user_id": 11472210, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb08a956be084dd19a6516047c5bb2d8?s=128&d=identicon&r=PG&f=1", "display_name": "AdamBaum", "link": "https://stackoverflow.com/users/11472210/adambaum"}, "edited": false, "score": 0, "creation_date": 1557391106, "post_id": 56049131, "comment_id": 98751504, "body": "I missed the part where you were asking to pass the user as input. Although on the new dict you can now do dict_name[user] or dict_name.get(user, None) to access the total price per user."}], "tags": [], "owner": {"reputation": 219, "user_id": 4963524, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/180a528e6a9742c8b9a95c77f90b1a2e?s=128&d=identicon&r=PG&f=1", "display_name": "dd95", "link": "https://stackoverflow.com/users/4963524/dd95"}, "is_accepted": false, "score": 0, "last_activity_date": 1557350026, "creation_date": 1557350026, "answer_id": 56049131, "question_id": 56048918, "link": "https://stackoverflow.com/questions/56048918/multiplying-nested-dictionary-value-with-another-dictionary-value/56049131#56049131", "title": "Multiplying nested dictionary value with another dictionary value", "body": "<p>Try this:</p>\n\n<pre><code>{user: sum([v*price_list[k] for k, v in purchase.items()]) for user, purchase in grocery_list.items()}\n</code></pre>\n\n<p>OUTPUT:</p>\n\n<pre><code># Result: {'Jane': 16.78, 'Steve': 18.45, 'John': 21.12} #\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 11472210, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb08a956be084dd19a6516047c5bb2d8?s=128&d=identicon&r=PG&f=1", "display_name": "AdamBaum", "link": "https://stackoverflow.com/users/11472210/adambaum"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 142, "favorite_count": 0, "accepted_answer_id": 56049121, "answer_count": 3, "score": 0, "last_activity_date": 1557381181, "creation_date": 1557348873, "last_edit_date": 1557381181, "question_id": 56048918, "link": "https://stackoverflow.com/questions/56048918/multiplying-nested-dictionary-value-with-another-dictionary-value", "title": "Multiplying nested dictionary value with another dictionary value", "body": "<p>I have two dictionaries of which one is nested. </p>\n\n<pre><code> grocery_list = {\"Jane\" : {\"Oranges\": 2 , \"Cucumbers\" : 2, \"Onions\": 5 , \n \"Tomatoes\" : 4} , \"Steve\" : {\"Oranges\": 5 , \"Cucumbers\" : 4, \"Onions\": 6 \n }, \"John\" : {\"Oranges\": 8 , \"Cucumbers\" : 10, \"Tomatoes\" : 9}}\n\n price_list = {\"Oranges\" : .89, \"Cucumbers\" : 0.50 , \"Onions\": 2.00 , \n \"Tomatoes\" : 1.00}\n</code></pre>\n\n<p>How do I create the output {User: (stock * price)} using the user name as input</p>\n\n<p>I understand there are multiply ways to do this.  From what I gathered online, dictionary comprehension or for in loops may work, but I can seem to calculate the nested stock value in grocery_list with the value from the price_list</p>\n\n<p>Expected results should be:</p>\n\n<pre><code>function(User)\n\nOutput {Jane:16.78}\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 3962, "user_id": 9462829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1dd68e18954cab2275b2cc02845a37d9?s=128&d=identicon&r=PG&f=1", "display_name": "Juan C", "link": "https://stackoverflow.com/users/9462829/juan-c"}, "edited": false, "score": 2, "creation_date": 1557348893, "post_id": 56048900, "comment_id": 98739289, "body": "Why don&#39;t you change the extension from <code>txt</code> to <code>py</code> and run it?"}, {"owner": {"reputation": 1, "user_id": 11472296, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-oD2fTs5qIcU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdkcgA3nVZuysOCuC199CCstOHnNw/mo/photo.jpg?sz=128", "display_name": "tgtg", "link": "https://stackoverflow.com/users/11472296/tgtg"}, "reply_to_user": {"reputation": 3962, "user_id": 9462829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1dd68e18954cab2275b2cc02845a37d9?s=128&d=identicon&r=PG&f=1", "display_name": "Juan C", "link": "https://stackoverflow.com/users/9462829/juan-c"}, "edited": false, "score": 0, "creation_date": 1557349411, "post_id": 56048900, "comment_id": 98739476, "body": "I would do, but the exercise highlights, that the program I write has to check if it could run or not. I clarified the question too in case."}, {"owner": {"reputation": 2617, "user_id": 3697870, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/krATc.jpg?s=128&g=1", "display_name": "Heath Raftery", "link": "https://stackoverflow.com/users/3697870/heath-raftery"}, "edited": false, "score": 0, "creation_date": 1557351041, "post_id": 56048900, "comment_id": 98740037, "body": "Welcome to StackOverflow. You should make two improvements to your question to get higher quality answers: 1) when you say &quot;a code&quot;, that either means some encrypted text or a set of standards. In modern parlance however, &quot;code&quot; (notice no &#39;a&#39;) means programming statements. So &quot;I have a text file that contains Python code.&quot; makes a lot more sense. 2) Your code example is very hard to read. Try indenting it with four spaces and adding line breaks."}, {"owner": {"reputation": 1, "user_id": 11472296, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-oD2fTs5qIcU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdkcgA3nVZuysOCuC199CCstOHnNw/mo/photo.jpg?sz=128", "display_name": "tgtg", "link": "https://stackoverflow.com/users/11472296/tgtg"}, "edited": false, "score": 0, "creation_date": 1557353048, "post_id": 56048900, "comment_id": 98740659, "body": "Will keep that in mind. I hope it is way more better now."}], "answers": [{"comments": [{"owner": {"reputation": 17225, "user_id": 2823719, "user_type": "registered", "accept_rate": 11, "profile_image": "https://i.stack.imgur.com/TWgf9.jpg?s=128&g=1", "display_name": "Booboo", "link": "https://stackoverflow.com/users/2823719/booboo"}, "edited": false, "score": 0, "creation_date": 1557351287, "post_id": 56049269, "comment_id": 98740136, "body": "eval() is OK for single expressions but not for arbitrary code."}, {"owner": {"reputation": 2617, "user_id": 3697870, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/krATc.jpg?s=128&g=1", "display_name": "Heath Raftery", "link": "https://stackoverflow.com/users/3697870/heath-raftery"}, "reply_to_user": {"reputation": 17225, "user_id": 2823719, "user_type": "registered", "accept_rate": 11, "profile_image": "https://i.stack.imgur.com/TWgf9.jpg?s=128&g=1", "display_name": "Booboo", "link": "https://stackoverflow.com/users/2823719/booboo"}, "edited": false, "score": 0, "creation_date": 1557351667, "post_id": 56049269, "comment_id": 98740252, "body": "Right you are. Have changed answer to exec, which is much better suited."}, {"owner": {"reputation": 17225, "user_id": 2823719, "user_type": "registered", "accept_rate": 11, "profile_image": "https://i.stack.imgur.com/TWgf9.jpg?s=128&g=1", "display_name": "Booboo", "link": "https://stackoverflow.com/users/2823719/booboo"}, "edited": false, "score": 0, "creation_date": 1557352841, "post_id": 56049269, "comment_id": 98740608, "body": "But you want to read in the whole file and execute it with one call to exec."}, {"owner": {"reputation": 1, "user_id": 11472296, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-oD2fTs5qIcU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdkcgA3nVZuysOCuC199CCstOHnNw/mo/photo.jpg?sz=128", "display_name": "tgtg", "link": "https://stackoverflow.com/users/11472296/tgtg"}, "edited": false, "score": 0, "creation_date": 1557353097, "post_id": 56049269, "comment_id": 98740672, "body": "It read the whole file, but from this point I figured out how to read lines. Also thank you for your help."}], "tags": [], "owner": {"reputation": 2617, "user_id": 3697870, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/krATc.jpg?s=128&g=1", "display_name": "Heath Raftery", "link": "https://stackoverflow.com/users/3697870/heath-raftery"}, "is_accepted": false, "score": 0, "last_activity_date": 1557351630, "last_edit_date": 1557351630, "creation_date": 1557350767, "answer_id": 56049269, "question_id": 56048900, "link": "https://stackoverflow.com/questions/56048900/how-can-i-read-lines-from-a-txt-file-which-contains-a-code-and-decide-whether/56049269#56049269", "title": "How can I read lines from a txt file (which contains a code) and decide whether it is correct or not?", "body": "<p>Use <code>exec</code> and catch exceptions. <code>exec</code> will attempt to execute the line as Python code. If it succeeds then the line is executed and any side-effects (eg. the creation of new variables) take place. If not, an exception is thrown and you can skip it and move on to the next line. Something like this:</p>\n\n<pre><code>lst=[]\nwith open(\"be.txt\",\"r\") as be:\n    for line in be:\n        try:\n            exec(line)\n            lst.append(line.strip(\"\\n\"))\n        except:\n            pass\n</code></pre>\n\n<p>Note this will not work if a single line is not a complete Python statement. Eg. if you have a function <code>def</code> or a <code>for</code> loop over several lines, you'll have to <code>exec</code> them all at once to succeed.</p>\n"}, {"tags": [], "owner": {"reputation": 6583, "user_id": 10426037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6723e3123b9a13d6360d1ee755f8728?s=128&d=identicon&r=PG&f=1", "display_name": "Valentino", "link": "https://stackoverflow.com/users/10426037/valentino"}, "is_accepted": false, "score": 0, "last_activity_date": 1557350861, "creation_date": 1557350861, "answer_id": 56049282, "question_id": 56048900, "link": "https://stackoverflow.com/questions/56048900/how-can-i-read-lines-from-a-txt-file-which-contains-a-code-and-decide-whether/56049282#56049282", "title": "How can I read lines from a txt file (which contains a code) and decide whether it is correct or not?", "body": "<p>You can use <a href=\"https://docs.python.org/3/library/functions.html#exec\" rel=\"nofollow noreferrer\">exec</a>:</p>\n\n<pre><code>with open(\"be.txt\",\"r\") as be:\n    source = be.read()\n\ntry:\n    exec(source)\n    print(\"True\")\nexcept Exception as e:\n    print(e) #this add some info on where the error occurred\n    print(\"False\")\n</code></pre>\n\n<p>First create a single string <code>source</code> holding all the code in your file.<br>\nThen in a <code>try</code> <code>except</code> block use <code>exec</code> to se if it runs. If it fails anywhere, an exception will be raised, and the <code>except</code> block is executed.</p>\n\n<p>Generally functions like <code>exec</code> or <code>eval</code> are considered dangerous and nasty (see for example <a href=\"https://stackoverflow.com/q/1933451/10426037\">here</a> or <a href=\"https://stackoverflow.com/questions/1832940/why-is-using-eval-a-bad-practice\">here</a>) but I think in your case is the simplest thing you can do.</p>\n"}, {"comments": [{"owner": {"reputation": 1, "user_id": 11472296, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-oD2fTs5qIcU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdkcgA3nVZuysOCuC199CCstOHnNw/mo/photo.jpg?sz=128", "display_name": "tgtg", "link": "https://stackoverflow.com/users/11472296/tgtg"}, "edited": false, "score": 0, "creation_date": 1557353210, "post_id": 56049352, "comment_id": 98740706, "body": "Thank you too for your help."}], "tags": [], "owner": {"reputation": 17225, "user_id": 2823719, "user_type": "registered", "accept_rate": 11, "profile_image": "https://i.stack.imgur.com/TWgf9.jpg?s=128&g=1", "display_name": "Booboo", "link": "https://stackoverflow.com/users/2823719/booboo"}, "is_accepted": false, "score": 0, "last_activity_date": 1557351237, "creation_date": 1557351237, "answer_id": 56049352, "question_id": 56048900, "link": "https://stackoverflow.com/questions/56048900/how-can-i-read-lines-from-a-txt-file-which-contains-a-code-and-decide-whether/56049352#56049352", "title": "How can I read lines from a txt file (which contains a code) and decide whether it is correct or not?", "body": "<p>The only way to know whether the code would run in python without any error messages is to execute it. The following would do that. Of course, you would need to go to extra lengths to suppress any output if the program is correct and produces output.</p>\n\n<pre><code>def runner():\n    with open(\"be.txt\",\"r\") as f:\n        code = f.read()\n    try:\n        exec(code)\n    except Exception as e:\n        print(\"False\")\n    else:\n        print(\"True\")\n\nrunner()\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 11472296, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-oD2fTs5qIcU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdkcgA3nVZuysOCuC199CCstOHnNw/mo/photo.jpg?sz=128", "display_name": "tgtg", "link": "https://stackoverflow.com/users/11472296/tgtg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 72, "favorite_count": 0, "answer_count": 3, "score": -1, "last_activity_date": 1557353006, "creation_date": 1557348766, "last_edit_date": 1557353006, "question_id": 56048900, "link": "https://stackoverflow.com/questions/56048900/how-can-i-read-lines-from-a-txt-file-which-contains-a-code-and-decide-whether", "title": "How can I read lines from a txt file (which contains a code) and decide whether it is correct or not?", "body": "<p>The text file contains Python codes.<br>\nMy task is to write a program which checks if it could run in python. I cannot find out how to check if the lines are correct in python. \nI can read lines from the text file, but still don't know how to decide if the current line would run without any error messages. If it would run the program prints <code>True</code>, else <code>False</code>.</p>\n\n<pre><code>lst=[]\nwith open(\"be.txt\",\"r\") as be:\n    for line in be:\n        lst.append(line.strip(\"\\n\"))\n</code></pre>\n\n<p>For example: A line is: \"<code>for i in range(8:</code>\"<br>\nThe result should be <code>False</code>, because this \")\" is missing.</p>\n"}, {"tags": ["python", "pandas", "machine-learning", "scikit-learn", "cloudera"], "comments": [{"owner": {"reputation": 8205, "user_id": 1397946, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/G8wB1.png?s=128&g=1", "display_name": "Lukasz Tracewski", "link": "https://stackoverflow.com/users/1397946/lukasz-tracewski"}, "edited": false, "score": 1, "creation_date": 1557348894, "post_id": 56048867, "comment_id": 98739291, "body": "I don&#39;t see a hint of a REST service here. Are you sure you&#39;re after REST API?"}, {"owner": {"reputation": 1898, "user_id": 11286588, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/481401ed4b60fbd46601275743949c5b?s=128&d=identicon&r=PG&f=1", "display_name": "thePurplePython", "link": "https://stackoverflow.com/users/11286588/thepurplepython"}, "reply_to_user": {"reputation": 8205, "user_id": 1397946, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/G8wB1.png?s=128&g=1", "display_name": "Lukasz Tracewski", "link": "https://stackoverflow.com/users/1397946/lukasz-tracewski"}, "edited": false, "score": 0, "creation_date": 1557349746, "post_id": 56048867, "comment_id": 98739604, "body": "the documentation refers to it as rest api / rest endpoint <a href=\"https://www.cloudera.com/documentation/data-science-workbench/latest/topics/cdsw_models.html\" rel=\"nofollow noreferrer\">cloudera.com/documentation/data-science-workbench/latest/top&zwnj;&#8203;ics/&hellip;</a>"}], "owner": {"reputation": 1898, "user_id": 11286588, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/481401ed4b60fbd46601275743949c5b?s=128&d=identicon&r=PG&f=1", "display_name": "thePurplePython", "link": "https://stackoverflow.com/users/11286588/thepurplepython"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 40, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1557429733, "creation_date": 1557348634, "last_edit_date": 1557429733, "question_id": 56048867, "link": "https://stackoverflow.com/questions/56048867/pass-inputs-to-function-to-get-predictions", "title": "Pass Inputs to Function to get Predictions", "body": "<p>I am trying to deploy a model via a REST API function (new to it) to apply predictions to unlabeled data on the fly.\nI do not understand how to map my input features to the args (or maybe it should be kwargs) function</p>\n\n<p>Using this simple example as a guide</p>\n\n<pre><code># Read the fitted model from the file model.pkl\n# and define a function that uses the model to\n# predict petal width from petal length\n\nimport pickle\nimport numpy as np\n\nmodel = pickle.load(open('model.pkl', 'rb'))\n\ndef predict(args):\n  iris_x = np.reshape(float(args.get('petal_length')), (-1,1))\n  result = model.predict(iris_x)\n  return result[0][0]\n\npredict({'petal_length': 3})\n0.88346654397265678\n\n# doing it manually via dataframe\n\nrow = {'petal_length': 3}\ndf = pd.DataFrame([row])\nresult = model.predict(df)\nresult[0][0]\n0.88346654397265678\n</code></pre>\n\n<p>I have a dataframe as input with 13 features with mixed data types that are plugged into a sklearn classification pipeline performing FE techniques like scaling, ohe, and tfidf ... the api function does not work and looks like something to do with the shape based on the error ... it seems the input format has to be a dataframe because of the sklearn pipeline</p>\n\n<pre><code>model = joblib.load(persisted_model)\n\ndef preds(args):\n  unlabeled_X = np.reshape(args\\\n                 .get('c1',\\\n                     'c2',\\\n                     'c3',\\\n                     'c4',\\\n                     'c5',\\\n                     'c6',\\\n                     'c7',\\\n                     'c8',\\\n                     'c9',\\\n                     'c10',\\\n                     'c11',\\\n                     'c12',\\\n                     'c13'), (-1,13))\n  result = model.predict(unlabeled_X)\n  return result[0][0]\n\n# using dummy data as example\npreds({\n  \"c1\": \"some text\",\n  \"c2\": \"more text\",\n  \"c3\": 0,\n  \"c4\": 0,\n  \"c5\": 0,\n  \"c6\": \"cat var\",\n  \"c7\": \"cat var\",\n  \"c8\": \"cat var\",\n  \"c9\": \"flag\",\n  \"c10\": 0,\n  \"c11\": 0,\n  \"c12\": 0,\n  \"c13\": 0\n})\n\nTypeError: get expected at most 2 arguments, got 13\n\n</code></pre>\n\n<p>If I try the manual approach via dict to df it works</p>\n\n<pre><code># using dummy data as example\nrow = {\n  \"c1\": \"some text\",\n  \"c2\": \"more text\",\n  \"c3\": 0,\n  \"c4\": 0,\n  \"c5\": 0,\n  \"c6\": \"cat var\",\n  \"c7\": \"cat var\",\n  \"c8\": \"cat var\",\n  \"c9\": \"flag\",\n  \"c10\": 0,\n  \"c11\": 0,\n  \"c12\": 0,\n  \"c13\": 0\n}\n\ndf = pd.DataFrame([row])\nmodel.predict(df)[0]\n'CLASS1'\n</code></pre>\n\n<p>My main question is how do I get the api function to work so it can accept new data to make predictions?</p>\n\n<p>Perhaps the function can be modified to transform the dictionary input to a dataframe so the API can be called?</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["python", "web", "web-scraping", "mechanize-python"], "answers": [{"tags": [], "owner": {"reputation": 189, "user_id": 8223156, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/4f5ab2481fd2051b8dc75ed12872991d?s=128&d=identicon&r=PG&f=1", "display_name": "Toutsos", "link": "https://stackoverflow.com/users/8223156/toutsos"}, "is_accepted": false, "score": 0, "last_activity_date": 1557386415, "creation_date": 1557386415, "answer_id": 56054125, "question_id": 56048861, "link": "https://stackoverflow.com/questions/56048861/how-to-overcome-itemsnotfounderror-in-mechanize-when-working-with-hidden-forms/56054125#56054125", "title": "How to overcome ItemsNotFoundError in mechanize when working with hidden forms", "body": "<p>I found a solution to my problem. Hope this can help other people who are facing something similar. All I had to do was add:</p>\n\n<pre><code>item = mechanize.Item(br.form.find_control(name='nameOfFormControl'),\n           {'contents': '221', 'value': '221', 'label': 221})\n</code></pre>\n\n<p>Basically, I am adding new options (which I know are valid), in the form control group.</p>\n"}], "owner": {"reputation": 189, "user_id": 8223156, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/4f5ab2481fd2051b8dc75ed12872991d?s=128&d=identicon&r=PG&f=1", "display_name": "Toutsos", "link": "https://stackoverflow.com/users/8223156/toutsos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 27, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1557386415, "creation_date": 1557348605, "last_edit_date": 1557378564, "question_id": 56048861, "link": "https://stackoverflow.com/questions/56048861/how-to-overcome-itemsnotfounderror-in-mechanize-when-working-with-hidden-forms", "title": "How to overcome ItemsNotFoundError in mechanize when working with hidden forms", "body": "<p>I am creating a script that submits a form. The problem I am facing is that some options are hidden and do not show options (in HTML source code), until other fields are filled. </p>\n\n<p>The error I am getting is ItemNotFoundError: insufficient items with name \"xxx\".</p>\n\n<p>I have tried changing the fields at the \"correct order\" but as expected, this does not change the outcome.</p>\n\n<p>My code looks something like this:</p>\n\n<pre><code>import mechanize\n\nbr = mechanize.Browser()\nbr.set_handle_robots(False) #ignore robots.txt\nbr.addheaders = [('User-agent', 'Mozilla/5.0 (Windows NT 5.2; WOW64) AppleWebKit/536.11 (KHTML, like Gecko) Chrome/20.0.1132.47 Safari/536.11')]\n\nbot = br.open(\"www.website.com\")\nbr.select_form(nr=0)\n\nbr['type'] = [\"xxx\",]\nbr['specific'] = [\"yyy\",]\n</code></pre>\n\n<p>The problem, as stated before is that \"type\" and \"specific\" have a one to many relationship and both are drop down select fields. When you pick a \"type\", different options for \"specific\" appear. </p>\n\n<p>When you first view page source for the website, the only option for \"specific\" is -1. If you do choose something for \"type\", multiple options will appear for \"specific\" but mechanize can not see those. On the contrary, I can view them in page source at that point.</p>\n\n<p>When I am submitting the form through br.submit(), I get ItemsNotFoundError since it can not see these values. is there a way to get past this?</p>\n\n<p>I've been trying to solve this for quite a few hours now so I would really be grateful if someone could help me out.</p>\n"}, {"tags": ["python", "django", "django-rest-framework", "django-templates"], "comments": [{"owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 0, "creation_date": 1557348647, "post_id": 56048848, "comment_id": 98739180, "body": "Show the full traceback. The error doesn&#39;t seem to be coming from this code."}, {"owner": {"reputation": 1, "user_id": 9877043, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-IiruFLnGEnw/AAAAAAAAAAI/AAAAAAAAAAk/KWNMNARP7iA/photo.jpg?sz=128", "display_name": "Rana Faiq", "link": "https://stackoverflow.com/users/9877043/rana-faiq"}, "reply_to_user": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 0, "creation_date": 1557349568, "post_id": 56048848, "comment_id": 98739529, "body": "Now check ive added the traceback"}], "owner": {"reputation": 1, "user_id": 9877043, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-IiruFLnGEnw/AAAAAAAAAAI/AAAAAAAAAAk/KWNMNARP7iA/photo.jpg?sz=128", "display_name": "Rana Faiq", "link": "https://stackoverflow.com/users/9877043/rana-faiq"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 32, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1557349615, "creation_date": 1557348552, "last_edit_date": 1557349615, "question_id": 56048848, "link": "https://stackoverflow.com/questions/56048848/im-getting-this-error-while-using-templateview", "title": "im getting this error while using templateview", "body": "<p>TypeError at /\nexpected str, bytes or os.PathLike object, not tuple</p>\n\n<p>i just started templateview, CBVs and im getting this issue</p>\n\n<pre><code>from django.shortcuts import render\nfrom django.views.generic import View,TemplateView\nfrom django.http import HttpResponse\n\nclass indexView(TemplateView):\n    template_name = 'index.html'\n</code></pre>\n\n<p>Error:</p>\n\n<pre><code>TypeError at /\nexpected str, bytes or os.PathLike object, not tuple\nRequest Method: GET\nRequest URL:    http://127.0.0.1:8000/\nDjango Version: 2.2\nException Type: TypeError\nException Value:    \nexpected str, bytes or os.PathLike object, not tuple\nException Location: /anaconda3/envs/mydjangoEnv/lib/python3.7/posixpath.py in join, line 80\nPython Executable:  /anaconda3/envs/mydjangoEnv/bin/python\nPython Version: 3.7.3\nPython Path:    \n['/Users/faiq/Desktop/exercise/CBV/advance',\n '/anaconda3/envs/mydjangoEnv/lib/python37.zip',\n '/anaconda3/envs/mydjangoEnv/lib/python3.7',\n '/anaconda3/envs/mydjangoEnv/lib/python3.7/lib-dynload',\n '/anaconda3/envs/mydjangoEnv/lib/python3.7/site-packages']\nServer time:    Wed, 8 May 2019 21:01:19 +0000\n</code></pre>\n"}, {"tags": ["python"], "answers": [{"comments": [{"owner": {"reputation": 4782, "user_id": 3964936, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5613ba937d5047e2f658cedb41868e58?s=128&d=identicon&r=PG&f=1", "display_name": "Yunti", "link": "https://stackoverflow.com/users/3964936/yunti"}, "edited": false, "score": 0, "creation_date": 1557391288, "post_id": 56048947, "comment_id": 98751613, "body": "Thanks that helped. It seems as if pycharm is doing something a little bit different as doing <code>sys.exec.info()</code> whilst the debugger is frozen gives the earlier exception which is the <b>cause</b> of the following one. I think Pycharm puts the final exception inside a variable <b>exception</b> which looks to mimic doing sys.exc_info() from the calling frame. In the debugger console I can get the full details of the error by doing as you suggested <code>error= __exception__[1]</code> and then <code>error.__cause__</code> and <code>error.__context__</code> work as expected."}, {"owner": {"reputation": 4782, "user_id": 3964936, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5613ba937d5047e2f658cedb41868e58?s=128&d=identicon&r=PG&f=1", "display_name": "Yunti", "link": "https://stackoverflow.com/users/3964936/yunti"}, "edited": false, "score": 0, "creation_date": 1557392609, "post_id": 56048947, "comment_id": 98752386, "body": "pycharm uses pdb as the debugger which also assigns an exception to the <b>exception</b> name in the debugger. <a href=\"https://stackoverflow.com/questions/6241200/how-can-i-see-the-details-of-an-exception-in-pythons-debugger\" title=\"how can i see the details of an exception in pythons debugger\">stackoverflow.com/questions/6241200/&hellip;</a>"}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "reply_to_user": {"reputation": 4782, "user_id": 3964936, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5613ba937d5047e2f658cedb41868e58?s=128&d=identicon&r=PG&f=1", "display_name": "Yunti", "link": "https://stackoverflow.com/users/3964936/yunti"}, "edited": false, "score": 0, "creation_date": 1557393432, "post_id": 56048947, "comment_id": 98752848, "body": "@Yunti: This doesn&#39;t quite look like the pdb behavior. I don&#39;t think pdb keeps the traceback in <code>__exception__</code>."}, {"owner": {"reputation": 4782, "user_id": 3964936, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5613ba937d5047e2f658cedb41868e58?s=128&d=identicon&r=PG&f=1", "display_name": "Yunti", "link": "https://stackoverflow.com/users/3964936/yunti"}, "edited": false, "score": 0, "creation_date": 1557491289, "post_id": 56048947, "comment_id": 98793309, "body": "You are right pycharm doesn&#39;t use pdb, so there are some differences. Instead it looks like they use pydev <a href=\"https://blog.jetbrains.com/pycharm/2016/05/debugger-interview-with-pydev-and-pycharm/\" rel=\"nofollow noreferrer\">blog.jetbrains.com/pycharm/2016/05/&hellip;</a>."}], "tags": [], "owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "is_accepted": true, "score": 1, "last_activity_date": 1557348971, "creation_date": 1557348971, "answer_id": 56048947, "question_id": 56048840, "link": "https://stackoverflow.com/questions/56048840/exception-object-and-missing-context-and-cause-attributes-in-ide/56048947#56048947", "title": "Exception object and missing __context__ and __cause__ attributes in IDE", "body": "<p>That <code>__exception__</code> thing isn't an exception. It looks like PyCharm has taken <a href=\"https://docs.python.org/3/library/sys.html#sys.exc_info\" rel=\"nofollow noreferrer\"><code>sys.exc_info()</code></a> and stuffed it into an <code>__exception__</code> variable. The exception is the second tuple element, and that's where you should be looking for <code>__cause__</code> and <code>__context__</code>.</p>\n"}], "owner": {"reputation": 4782, "user_id": 3964936, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5613ba937d5047e2f658cedb41868e58?s=128&d=identicon&r=PG&f=1", "display_name": "Yunti", "link": "https://stackoverflow.com/users/3964936/yunti"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 73, "favorite_count": 0, "accepted_answer_id": 56048947, "answer_count": 1, "score": 0, "last_activity_date": 1557391324, "creation_date": 1557348517, "last_edit_date": 1557391324, "question_id": 56048840, "link": "https://stackoverflow.com/questions/56048840/exception-object-and-missing-context-and-cause-attributes-in-ide", "title": "Exception object and missing __context__ and __cause__ attributes in IDE", "body": "<p>The python docs <a href=\"https://docs.python.org/3/library/exceptions.html#built-in-exceptions\" rel=\"nofollow noreferrer\">https://docs.python.org/3/library/exceptions.html#built-in-exceptions</a>\nand this SO question mention the <code>__cause__</code> and <code>__context__</code> attributes on an exception object.\n<a href=\"https://stackoverflow.com/questions/26924045/python-3-x-beazley-context-vs-cause-attributes-in-exception-handling#26925676\">Python 3.x (beazley): __context__ vs __cause__ attributes in exception handling</a></p>\n\n<p>However, when using a debugger to inspect an exception object (with the debuggers set to work on a <code>raise</code>) the exception object doesn't appear to have these attributes and just appears as a tuple.\n(eg from my debugger - pycharm) <a href=\"https://imgur.com/a/63oW1fV\" rel=\"nofollow noreferrer\">https://imgur.com/a/63oW1fV</a></p>\n\n<p>This occured with the debugger started based on the raise on the last line.</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>\n    try:\n        response = requests.request(method, url, json=payload, headers=HEADERS)\n    except (requests.ConnectionError, requests.Timeout) as e:\n        logger.exception(\"Api unavailable\")\n        raise errors.Unavailable('Api unavailable') from e\n    try:\n        response.raise_for_status()\n    except requests.exceptions.HTTPError as e:\n        logger.exception(\"Api HTTP error\")\n        try:\n            raw_data = response.json()\n        except json.JSONDecodeError as e:\n            raise errors.ApiHTTPError(f'{response.status_code}, {response.text}',\n                                      text=response.text) from e\n        api_errors = raw_data.get('errors')\n        message = raw_data.get('message')\n        raise errors.ApiHTTPError(f'HTTP Error {response.status_code}, {message}, {api_errors}',  text=response.text,\n                                  api_errors=api_errors) from e\n\n</code></pre>\n\n<p>errors.py</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>class SwitcherError(Exception):\n    pass\n\n\nclass Unavailable(SwitcherError):\n    pass\n\n\nclass ApiHTTPError(SwitcherError):\n    def __init__(self, message=None, text=None, api_errors=None):\n        self.text = text\n        self.message = message\n        self.errors = api_errors\n\n    def __str__(self):\n        return self.message\n\n\nclass ApiJsonError(SwitcherError):\n    def __init__(self, message=None, text=None):\n        self.text = text\n        self.message = message\n\n    def __str__(self):\n        return self.message\n\n\nclass ApiError(SwitcherError):\n    def __init__(self, message, status_code,  data, status=None,):\n        self.message = message\n        self.status_code = status_code\n        self.data = data\n        self.status = status\n\n    def __str__(self):\n        return self.message\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "list", "dictionary"], "answers": [{"comments": [{"owner": {"reputation": 191, "user_id": 6942881, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8JCrw.png?s=128&g=1", "display_name": "Kevin_ALA", "link": "https://stackoverflow.com/users/6942881/kevin-ala"}, "edited": false, "score": 1, "creation_date": 1557349684, "post_id": 56048940, "comment_id": 98739573, "body": "Thank you! Looking at your method even made me find a bug in my version. You rock!"}], "tags": [], "owner": {"reputation": 74809, "user_id": 9698684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Hj2XY.jpg?s=128&g=1", "display_name": "yatu", "link": "https://stackoverflow.com/users/9698684/yatu"}, "is_accepted": true, "score": 4, "last_activity_date": 1557351674, "last_edit_date": 1557351674, "creation_date": 1557348951, "answer_id": 56048940, "question_id": 56048729, "link": "https://stackoverflow.com/questions/56048729/parent-child-structure-from-multiple-lists/56048940#56048940", "title": "Parent - child structure from multiple lists", "body": "<p>Here's one approach using a nested dictionary comprehension -</p>\n\n<p>The idea is to build the parent-child structure by <code>zipping</code> both <code>A</code> and <code>B</code> in the outer loop, given that there are as many parent <code>keys</code> as sublists or childs in <code>B</code>. </p>\n\n<p>Now, each of these childs are supposed to contain as <code>value</code> the sublists contained in <code>C</code>, so we can create an <a href=\"https://docs.python.org/3/library/functions.html#iter\" rel=\"nofollow noreferrer\"><code>iterator</code></a> and retrieve its <code>next</code> item each time we want to set a new grandchild in the inner dictionary comprehension:</p>\n\n<pre><code>A = ['item0','item1']\nB = [['item00','item01','item02'],['item11','item12']]\nC = iter([['item000'],['item010','item011'],['item020'],['item110','item111'],['item120']])\n</code></pre>\n\n<hr>\n\n<pre><code>d = {p:{gs:next(C) for gs in s} for p,s in zip(A,B)}\n\n{'item0': {'item00': ['item000'],\n           'item01': ['item010', 'item011'],\n           'item02': ['item020']},\n 'item1': {'item11': ['item110', 'item111'], \n           'item12': ['item120']}}\n</code></pre>\n"}], "owner": {"reputation": 191, "user_id": 6942881, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8JCrw.png?s=128&g=1", "display_name": "Kevin_ALA", "link": "https://stackoverflow.com/users/6942881/kevin-ala"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 113, "favorite_count": 1, "accepted_answer_id": 56048940, "answer_count": 1, "score": 3, "last_activity_date": 1585692292, "creation_date": 1557347964, "last_edit_date": 1585692292, "question_id": 56048729, "link": "https://stackoverflow.com/questions/56048729/parent-child-structure-from-multiple-lists", "title": "Parent - child structure from multiple lists", "body": "<p>I am trying to assigning values of two nested dictionaries to each other. For example, if we assume parent and child and then the grandchild how would be assigned to the corresponding child. (Parent is the key and value is the child and then child is the key and value is grandchild)</p>\n\n<p>I'm trying to import large datasets from a sqlite database and then based on the parent and child relationships that I need, are grouped into dictionaries accordingly. This is to create a dictionary of nested dictionaries to populate a qmenu, where the inputs must stay in dictionary format. I'm not familiar with how to make it more efficient as through mapping or recursive.</p>\n\n<p>My current code <strong>works</strong> the way I want it to, but is there any way to make it more efficient or recursive?</p>\n\n<pre><code># DATA\nA = ['item0','item1']\nB = [['item00','item01','item02'],['item11','item12']]\nC = [['item000'],['item010','item011'],['item020'],['item110','item111'],['item120']]\n\n\n# FLATTEN B\nB_ls = []\nfor i in range(len(C)):\n    B_ls = [item for sublist in B for item in sublist]\n\n# INITAIATE DICTIONARIES\nmaster = {}\nparent = {}\nchild = {}\n\n# INITIATE CELL CONTENT COUNTER\nskipper = 0\n\n# CREATE NESTED DICITIONARIES\nfor j in range(len(A)):\n    child = {}\n    for i in range(len(B)):\n        tempD1 = {B_ls[i+skipper]:C[i+skipper]}\n        child.update(tempD1)\n    parent = {A[j]:child}\n    master.update(parent)\n    skipper += len(B[j])\n\n# CHECK RESULTS\nprint(master)\n</code></pre>\n"}, {"tags": ["python", "ubuntu", "flask", "mkdirs"], "comments": [{"owner": {"reputation": 5007, "user_id": 10924296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/483c21a8a3f03bbf92cb99539ec97dbc?s=128&d=identicon&r=PG&f=1", "display_name": "Reedinationer", "link": "https://stackoverflow.com/users/10924296/reedinationer"}, "edited": false, "score": 1, "creation_date": 1557348629, "post_id": 56048721, "comment_id": 98739171, "body": "You have admin access to the SMB drive to change settings?"}, {"owner": {"reputation": 127, "user_id": 2570001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/xuZTD.jpg?s=128&g=1", "display_name": "Berkyjay", "link": "https://stackoverflow.com/users/2570001/berkyjay"}, "reply_to_user": {"reputation": 5007, "user_id": 10924296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/483c21a8a3f03bbf92cb99539ec97dbc?s=128&d=identicon&r=PG&f=1", "display_name": "Reedinationer", "link": "https://stackoverflow.com/users/10924296/reedinationer"}, "edited": false, "score": 0, "creation_date": 1557350607, "post_id": 56048721, "comment_id": 98739886, "body": "@Reedinationer Yes I was actually coming to update the thread.  Seems like my IT department set up the mounting without setting permissions properly   I generally trust them which is why I was thinking it was a problem on my end."}, {"owner": {"reputation": 5007, "user_id": 10924296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/483c21a8a3f03bbf92cb99539ec97dbc?s=128&d=identicon&r=PG&f=1", "display_name": "Reedinationer", "link": "https://stackoverflow.com/users/10924296/reedinationer"}, "edited": false, "score": 0, "creation_date": 1557350728, "post_id": 56048721, "comment_id": 98739922, "body": "No, it is a problem in the permissions of the folder for sure. I get the same error at work if IT sets a folder as unreachable. Guess you should answer your own question to explain that, and accept the answer so the thread closes, right?"}, {"owner": {"reputation": 127, "user_id": 2570001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/xuZTD.jpg?s=128&g=1", "display_name": "Berkyjay", "link": "https://stackoverflow.com/users/2570001/berkyjay"}, "reply_to_user": {"reputation": 5007, "user_id": 10924296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/483c21a8a3f03bbf92cb99539ec97dbc?s=128&d=identicon&r=PG&f=1", "display_name": "Reedinationer", "link": "https://stackoverflow.com/users/10924296/reedinationer"}, "edited": false, "score": 0, "creation_date": 1557442236, "post_id": 56048721, "comment_id": 98776690, "body": "I&#39;m unsure how to mark it answered.  But the issue was with the fstab file that holds the configuration for the SMB mount.  The domain name wasn&#39;t added properly."}, {"owner": {"reputation": 5007, "user_id": 10924296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/483c21a8a3f03bbf92cb99539ec97dbc?s=128&d=identicon&r=PG&f=1", "display_name": "Reedinationer", "link": "https://stackoverflow.com/users/10924296/reedinationer"}, "edited": false, "score": 0, "creation_date": 1557442371, "post_id": 56048721, "comment_id": 98776716, "body": "You would have to answer your own question using the box below, where you would explain what the solution to your problem was and why. You could then click the check mark by it to accept it as the answer. Alternatively, if you think nobody will find future value reading your explanation of the solution you can delete the question entirely."}], "answers": [{"tags": [], "owner": {"reputation": 127, "user_id": 2570001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/xuZTD.jpg?s=128&g=1", "display_name": "Berkyjay", "link": "https://stackoverflow.com/users/2570001/berkyjay"}, "is_accepted": true, "score": 0, "last_activity_date": 1557778361, "creation_date": 1557778361, "answer_id": 56119273, "question_id": 56048721, "link": "https://stackoverflow.com/questions/56048721/flask-python-mkdirs-returns-permission-denied-over-mounted-drive/56119273#56119273", "title": "Flask Python mkdirs returns &quot;Permission denied&quot; over mounted drive", "body": "<p>Just to get this marked as solved.</p>\n\n<p>The issue was with the fstab file that holds the configuration for the SMB mount. The domain name wasn't added properly</p>\n"}], "owner": {"reputation": 127, "user_id": 2570001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/xuZTD.jpg?s=128&g=1", "display_name": "Berkyjay", "link": "https://stackoverflow.com/users/2570001/berkyjay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 85, "favorite_count": 0, "accepted_answer_id": 56119273, "answer_count": 1, "score": 0, "last_activity_date": 1557778361, "creation_date": 1557347929, "last_edit_date": 1557350652, "question_id": 56048721, "link": "https://stackoverflow.com/questions/56048721/flask-python-mkdirs-returns-permission-denied-over-mounted-drive", "title": "Flask Python mkdirs returns &quot;Permission denied&quot; over mounted drive", "body": "<p>I have an app that creates directories on a mounted SMB network drive, but the app is returning \"Permission denied\" errors.  If I run the same code locally as sudo it works just fine.  </p>\n\n<p>I'm utilizing Gunicorn, Supervisor, &amp; Nginx on the server and I'm assuming that I need to set permissions somewhere for my app to work properly.  But I'm unsure where that is.  </p>\n\n<p>For context I've been using the <a href=\"https://blog.miguelgrinberg.com/post/the-flask-mega-tutorial-part-xvii-deployment-on-linux\" rel=\"nofollow noreferrer\">Flask Mega Tutorial</a> as a guide, but because my app has different functionality it didn't really address some specific needs such as this.  I'm hoping someone could provide me with some more guidance.</p>\n\n<p>Update: Seems this issue had to do with the SMB being mounted without the proper permissions.</p>\n"}, {"tags": ["python", "linux", "raspberry-pi"], "answers": [{"tags": [], "owner": {"reputation": 57, "user_id": 11256186, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-yUsdP4mkQB0/AAAAAAAAAAI/AAAAAAAAAAc/SXQq7vAxs6s/photo.jpg?sz=128", "display_name": "Lolo", "link": "https://stackoverflow.com/users/11256186/lolo"}, "is_accepted": true, "score": 0, "last_activity_date": 1557348479, "last_edit_date": 1557348479, "creation_date": 1557348116, "answer_id": 56048758, "question_id": 56048691, "link": "https://stackoverflow.com/questions/56048691/how-can-i-open-a-terminal-and-run-a-program-in-it-automatically-on-my-raspberry/56048758#56048758", "title": "How can I open a terminal and run a program in it automatically on my raspberry pi?", "body": "<p>Edit the file found here:\n/etc/xdg/lxsession/LXDE/autostart</p>\n\n<p>add your commands to it\n@python PathToScript/script.py</p>\n\n<p>Edit: I realize you want the terminal open. I believe this will work\n@lxterminal --command \"python pathToScript/script.py\" </p>\n"}], "owner": {"reputation": 21, "user_id": 11268772, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-yQmjjnH6M9I/AAAAAAAAAAI/AAAAAAAAAIY/2iknH1CqZxY/photo.jpg?sz=128", "display_name": "Mikhail Hyde", "link": "https://stackoverflow.com/users/11268772/mikhail-hyde"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "closed_date": 1557353988, "accepted_answer_id": 56048758, "answer_count": 1, "score": 0, "last_activity_date": 1557348479, "creation_date": 1557347822, "question_id": 56048691, "link": "https://stackoverflow.com/questions/56048691/how-can-i-open-a-terminal-and-run-a-program-in-it-automatically-on-my-raspberry", "closed_reason": "Not suitable for this site", "title": "How can I open a terminal and run a program in it automatically on my raspberry pi?", "body": "<p>Just like the title says, I would like to turn on my raspberry pi and have it automatically open a terminal and that terminal would automatically start a python script. Preferably in a way where I can run 4 different terminals each running a different .py file.</p>\n\n<p>I have done the rc.local approach but the programs do not open in a terminal and that is essential for the functionality of the code. </p>\n\n<p>Any suggestions?</p>\n"}, {"tags": ["python", "python-3.x", "flask", "flask-sqlalchemy"], "answers": [{"comments": [{"owner": {"reputation": 2208, "user_id": 4061422, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/ZHGRC.png?s=128&g=1", "display_name": "vipin", "link": "https://stackoverflow.com/users/4061422/vipin"}, "edited": false, "score": 0, "creation_date": 1557404496, "post_id": 56048776, "comment_id": 98759027, "body": "hi, so if there is multiple models. how can i import db"}, {"owner": {"reputation": 2208, "user_id": 4061422, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/ZHGRC.png?s=128&g=1", "display_name": "vipin", "link": "https://stackoverflow.com/users/4061422/vipin"}, "edited": false, "score": 0, "creation_date": 1557404584, "post_id": 56048776, "comment_id": 98759078, "body": "i want single <b>init</b> file which creates the db instance and then any model can access it."}, {"owner": {"reputation": 186, "user_id": 1845762, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/5b7bf13dac774d225e0d8c0c397e5813?s=128&d=identicon&r=PG", "display_name": "azdonald", "link": "https://stackoverflow.com/users/1845762/azdonald"}, "reply_to_user": {"reputation": 2208, "user_id": 4061422, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/ZHGRC.png?s=128&g=1", "display_name": "vipin", "link": "https://stackoverflow.com/users/4061422/vipin"}, "edited": false, "score": 0, "creation_date": 1557408302, "post_id": 56048776, "comment_id": 98761244, "body": "If you want multiple model files, then you can put them a package(lets call the package models) and in the <b>init</b>.py file of the models package, you create the db object and import it where ever its needed."}], "tags": [], "owner": {"reputation": 186, "user_id": 1845762, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/5b7bf13dac774d225e0d8c0c397e5813?s=128&d=identicon&r=PG", "display_name": "azdonald", "link": "https://stackoverflow.com/users/1845762/azdonald"}, "is_accepted": true, "score": 1, "last_activity_date": 1557349127, "last_edit_date": 1557349127, "creation_date": 1557348210, "answer_id": 56048776, "question_id": 56048656, "link": "https://stackoverflow.com/questions/56048656/flask-sqlalchemy-import-db-import/56048776#56048776", "title": "Flask SQLAlchemy import DB import", "body": "<p>You are using the Flask factory method so initialize SqlAlchemy in your model and import it to your __init__.py file</p>\n\n<p>So model.py becomes</p>\n\n<pre><code>from flask_sqlalchemy import SQLAlchemy    \ndb = SQLAlchemy()\n\nclass TestModel(db.Model):\n    __tablename__ = 'user_profiles'\n    id = db.Column(db.Integer, primary_key=True)\n    name = db.Column(db.String(255), unique=False)\n    email= db.Column(db.String(255), unique=False)\n\n\n    def __init__(self, name=None, email=None):\n        self.name = name\n        self.email = email\n\n    def __repr__(self):\n        return '&lt;User %r&gt;' % (self.name, self.email)\n</code></pre>\n\n<p>Then in __init__.py it becomes</p>\n\n<pre><code>from flask_api import FlaskAPI\nfrom model import db\nimport os\nimport json\nfrom flask import Flask\nfrom flask_pymongo import PyMongo\nfrom flask import request\n\nfrom app.test.controllers import test\n\n\ndef create_app(config_name):\n    app = FlaskAPI(__name__)\n    CORS(app)\n    app.config.from_object(os.environ['APP_SETTINGS'])\n    db.init_app(app)\n    from app.test.controllers import test\n    app.register_blueprint(test)\n</code></pre>\n"}], "owner": {"reputation": 2208, "user_id": 4061422, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/ZHGRC.png?s=128&g=1", "display_name": "vipin", "link": "https://stackoverflow.com/users/4061422/vipin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1475, "favorite_count": 0, "accepted_answer_id": 56048776, "answer_count": 1, "score": 1, "last_activity_date": 1557349127, "creation_date": 1557347675, "question_id": 56048656, "link": "https://stackoverflow.com/questions/56048656/flask-sqlalchemy-import-db-import", "title": "Flask SQLAlchemy import DB import", "body": "<p>I am using flask with SQLAlchemy, after set all configuration setting I got db import error on model. </p>\n\n<p><strong>ImportError: cannot import name 'db'</strong></p>\n\n<p>my main app <strong>__init__</strong></p>\n\n<pre><code>from flask_api import FlaskAPI\nfrom flask_sqlalchemy import SQLAlchemy\nimport os\nimport json\nfrom flask import Flask\nfrom flask_pymongo import PyMongo\nfrom flask import request\n\nfrom app.test.controllers import test\n\n\ndef create_app(config_name):\n    app = FlaskAPI(__name__)\n    CORS(app)\n    app.config.from_object(os.environ['APP_SETTINGS'])\n    db = SQLAlchemy(app)\n    from app.test.controllers import test\n    app.register_blueprint(test)\n</code></pre>\n\n<p>my controller and model in app/test/test.py and model.py</p>\n\n<p><strong>test.py</strong></p>\n\n<pre><code>from flask import Blueprint, request, redirect, url_for\nimport json\nfrom flask_sqlalchemy import SQLAlchemy\n\nfrom app.test.model import TestModel\n\ntest = Blueprint('test', __name__, url_prefix='/api/v1')\n\n\n@test.route('/test/store', methods=['POST'])\ndef store():\n    return json.dumps({'success':True}), 200, {'ContentType':'application/json'}\n</code></pre>\n\n<p>my <strong>model.py</strong></p>\n\n<pre><code>from app import db\n\nclass TestModel(db.Model):\n    __tablename__ = 'user_profiles'\n    id = db.Column(db.Integer, primary_key=True)\n    name = db.Column(db.String(255), unique=False)\n    email= db.Column(db.String(255), unique=False)\n\n\n    def __init__(self, name=None, email=None):\n        self.name = name\n        self.email = email\n\n    def __repr__(self):\n        return '&lt;User %r&gt;' % (self.name, self.email)\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "sqlite"], "comments": [{"owner": {"reputation": 13209, "user_id": 7414759, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b272ce66c7c245c6cbe9a830691daddc?s=128&d=identicon&r=PG&f=1", "display_name": "stovfl", "link": "https://stackoverflow.com/users/7414759/stovfl"}, "edited": false, "score": 0, "creation_date": 1557390381, "post_id": 56048654, "comment_id": 98751097, "body": "As the constraint <code>USERNAME</code> and <code>PASSWORD</code> should be unique you get only <b>one</b> result. Use <code>print(result.fetchone())</code> instead."}], "owner": {"reputation": 608, "user_id": 10442615, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6874746332a2df959295ed0f607aa84?s=128&d=identicon&r=PG&f=1", "display_name": "Drees", "link": "https://stackoverflow.com/users/10442615/drees"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 38, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1557347776, "creation_date": 1557347672, "last_edit_date": 1557347776, "question_id": 56048654, "link": "https://stackoverflow.com/questions/56048654/accessing-specific-item-in-sqlite3-database-when-user-and-password-matches", "title": "Accessing specific item in sqlite3 database when user and password matches", "body": "<p>I've created a login GUI with sqlite in python and i've got it working correctly, however I want it to do something else as well when it logs in.</p>\n\n<p>My sqlite database currently has the following columns;</p>\n\n<p>Username, Email, Password, Workstation, Directory</p>\n\n<p>I've found that you can take an item string in the table by using something like;</p>\n\n<ul>\n<li>connection.fetchall()[index]</li>\n</ul>\n\n<p>However, I don't know how to implement it into my code to check for the user that logged in.</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>username = \"username\"\npassword = \"password\"\n# database information\nconnection = sqlite3.connect(databasepath+'\\login.db')\nresult = connection.execute(\"SELECT * FROM USERS WHERE USERNAME = ? AND PASSWORD = ?\", (username, password))\nif (len(result.fetchall()) &gt; 0):\n    #some code#\n</code></pre>\n\n<p>I want to access the 'Directory' item for the user that logged in</p>\n"}, {"tags": ["python", "selenium", "selenium-chromedriver"], "comments": [{"owner": {"reputation": 1036, "user_id": 9855588, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef25aee783cab58b07adb188667fb051?s=128&d=identicon&r=PG&f=1", "display_name": "dataviews", "link": "https://stackoverflow.com/users/9855588/dataviews"}, "edited": false, "score": 0, "creation_date": 1557347776, "post_id": 56048653, "comment_id": 98738830, "body": "why are you using selenium with beautiful soup? Why not just use requests module to retrieve the page?"}, {"owner": {"reputation": 1036, "user_id": 9855588, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef25aee783cab58b07adb188667fb051?s=128&d=identicon&r=PG&f=1", "display_name": "dataviews", "link": "https://stackoverflow.com/users/9855588/dataviews"}, "edited": false, "score": 0, "creation_date": 1557347965, "post_id": 56048653, "comment_id": 98738916, "body": "You also don&#39;t need the while loop. Python executes code line by line, so your logic would come after the page is retrieved"}, {"owner": {"reputation": 1036, "user_id": 9855588, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef25aee783cab58b07adb188667fb051?s=128&d=identicon&r=PG&f=1", "display_name": "dataviews", "link": "https://stackoverflow.com/users/9855588/dataviews"}, "edited": false, "score": 0, "creation_date": 1557348263, "post_id": 56048653, "comment_id": 98739034, "body": "replace driver.refresh() with driver.quit()"}, {"owner": {"reputation": 5007, "user_id": 10924296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/483c21a8a3f03bbf92cb99539ec97dbc?s=128&d=identicon&r=PG&f=1", "display_name": "Reedinationer", "link": "https://stackoverflow.com/users/10924296/reedinationer"}, "reply_to_user": {"reputation": 1036, "user_id": 9855588, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef25aee783cab58b07adb188667fb051?s=128&d=identicon&r=PG&f=1", "display_name": "dataviews", "link": "https://stackoverflow.com/users/9855588/dataviews"}, "edited": false, "score": 0, "creation_date": 1557348305, "post_id": 56048653, "comment_id": 98739055, "body": "@dataviews I have used both before. <code>selenium</code> loads the javascript, but <code>BeautifulSoup</code> I find easier to process all my elements with."}, {"owner": {"reputation": 12118, "user_id": 4714829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd1b66c22707be26afda19fe995e17ea?s=128&d=identicon&r=PG&f=1", "display_name": "supputuri", "link": "https://stackoverflow.com/users/4714829/supputuri"}, "edited": false, "score": 0, "creation_date": 1557349123, "post_id": 56048653, "comment_id": 98739387, "body": "Welcome to SO. Are you getting any error message?"}, {"owner": {"reputation": 12118, "user_id": 4714829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd1b66c22707be26afda19fe995e17ea?s=128&d=identicon&r=PG&f=1", "display_name": "supputuri", "link": "https://stackoverflow.com/users/4714829/supputuri"}, "reply_to_user": {"reputation": 1036, "user_id": 9855588, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef25aee783cab58b07adb188667fb051?s=128&d=identicon&r=PG&f=1", "display_name": "dataviews", "link": "https://stackoverflow.com/users/9855588/dataviews"}, "edited": false, "score": 1, "creation_date": 1557349350, "post_id": 56048653, "comment_id": 98739460, "body": "@dataviews Not sure why the recommendation of <code>driver.quit()</code> as that line will close the browser and session. OP has to loop iterate multiple times. However, OP has to make sure to break/exist the loop with some logic."}, {"owner": {"reputation": 21, "user_id": 11472189, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a94bc1ffa6c6fce428daef88f4b41277?s=128&d=identicon&r=PG&f=1", "display_name": "Maciej K", "link": "https://stackoverflow.com/users/11472189/maciej-k"}, "reply_to_user": {"reputation": 12118, "user_id": 4714829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd1b66c22707be26afda19fe995e17ea?s=128&d=identicon&r=PG&f=1", "display_name": "supputuri", "link": "https://stackoverflow.com/users/4714829/supputuri"}, "edited": false, "score": 0, "creation_date": 1557349712, "post_id": 56048653, "comment_id": 98739588, "body": "@supputuri I&#39;m not getting any errors. It&#39;s just the program doesn&#39;t act like I want it to act and I don&#39;t know where I told it to act this wayt. And about the loop. I know it is not the good way but, at this moment, I want it to loop that way"}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 11472189, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a94bc1ffa6c6fce428daef88f4b41277?s=128&d=identicon&r=PG&f=1", "display_name": "Maciej K", "link": "https://stackoverflow.com/users/11472189/maciej-k"}, "edited": false, "score": 0, "creation_date": 1557349568, "post_id": 56048722, "comment_id": 98739530, "body": "I tried your solution and it worked for a moment. Then it began to get some older versions of page (there is like 50 posts per page and I was getting older posts). When I restart the program it gets the latest posts, but later it breaks like I mentioned"}, {"owner": {"reputation": 2124, "user_id": 8831165, "user_type": "registered", "profile_image": "https://graph.facebook.com/10208994155229891/picture?type=large", "display_name": "Frederik Bode", "link": "https://stackoverflow.com/users/8831165/frederik-bode"}, "reply_to_user": {"reputation": 21, "user_id": 11472189, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a94bc1ffa6c6fce428daef88f4b41277?s=128&d=identicon&r=PG&f=1", "display_name": "Maciej K", "link": "https://stackoverflow.com/users/11472189/maciej-k"}, "edited": false, "score": 0, "creation_date": 1557350577, "post_id": 56048722, "comment_id": 98739877, "body": "maybe if you use <code>options.add_argument(&quot;--incognito&quot;)</code>? Your browser shouldn&#39;t cache anymore in incognito mode."}, {"owner": {"reputation": 21, "user_id": 11472189, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a94bc1ffa6c6fce428daef88f4b41277?s=128&d=identicon&r=PG&f=1", "display_name": "Maciej K", "link": "https://stackoverflow.com/users/11472189/maciej-k"}, "edited": false, "score": 0, "creation_date": 1557351596, "post_id": 56048722, "comment_id": 98740229, "body": "It works a lot better then before. I&#39;m still getting older versions every 2-4 loop runs, but this is the best reult I&#39;ve got so far"}, {"owner": {"reputation": 2124, "user_id": 8831165, "user_type": "registered", "profile_image": "https://graph.facebook.com/10208994155229891/picture?type=large", "display_name": "Frederik Bode", "link": "https://stackoverflow.com/users/8831165/frederik-bode"}, "reply_to_user": {"reputation": 21, "user_id": 11472189, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a94bc1ffa6c6fce428daef88f4b41277?s=128&d=identicon&r=PG&f=1", "display_name": "Maciej K", "link": "https://stackoverflow.com/users/11472189/maciej-k"}, "edited": false, "score": 0, "creation_date": 1557390027, "post_id": 56048722, "comment_id": 98750925, "body": "And you&#39;re sure the page is uploading new images faster than you can process them? Otherwise it would be logical that you get old posts. This stackoverflow post (<a href=\"https://stackoverflow.com/questions/8009823/possible-to-disable-firefox-and-chrome-default-caching\" title=\"possible to disable firefox and chrome default caching\">stackoverflow.com/questions/8009823/&hellip;</a>) suggests switching to a Firefox driver and disabling all its caches, you could try that, but your application might require the Chrome driver."}], "tags": [], "owner": {"reputation": 2124, "user_id": 8831165, "user_type": "registered", "profile_image": "https://graph.facebook.com/10208994155229891/picture?type=large", "display_name": "Frederik Bode", "link": "https://stackoverflow.com/users/8831165/frederik-bode"}, "is_accepted": false, "score": 0, "last_activity_date": 1557348252, "last_edit_date": 1557348252, "creation_date": 1557347930, "answer_id": 56048722, "question_id": 56048653, "link": "https://stackoverflow.com/questions/56048653/selenium-chrome-driver-get-in-a-loop-breaks-after-a-couple-of-repetitions/56048722#56048722", "title": "Selenium-chrome driver.get() in a loop breaks after a couple of repetitions", "body": "<p>I'm guessing your Chrome webdriver is <strong>caching</strong>. Try adding this:\n<code>driver.manage().deleteAllCookies()</code>\nbefore getting the page. </p>\n"}, {"tags": [], "owner": {"reputation": 5007, "user_id": 10924296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/483c21a8a3f03bbf92cb99539ec97dbc?s=128&d=identicon&r=PG&f=1", "display_name": "Reedinationer", "link": "https://stackoverflow.com/users/10924296/reedinationer"}, "is_accepted": false, "score": 0, "last_activity_date": 1557348229, "creation_date": 1557348229, "answer_id": 56048780, "question_id": 56048653, "link": "https://stackoverflow.com/questions/56048653/selenium-chrome-driver-get-in-a-loop-breaks-after-a-couple-of-repetitions/56048780#56048780", "title": "Selenium-chrome driver.get() in a loop breaks after a couple of repetitions", "body": "<p><code>selenium</code> will have errors if the page is in the process of loading when you try to send commands to the window. You should implement a <code>time.sleep()</code> or some <a href=\"https://selenium-python.readthedocs.io/waits.html\" rel=\"nofollow noreferrer\">selenium specific wait method</a> to make sure that the page is ready to be processed. Something like</p>\n\n<pre><code>import time\n\n    while True:\n        driver.get(url)\n        html = driver.page_source\n        soup = BeautifulSoup(html, 'html.parser')\n        posts = soup.find_all(some class)\n\n        (...)\n        some logic with the result\n        (...)\n\n        driver.refresh()\n        time.sleep(5) # probably too long, but I usually try to stay on the safe side\n</code></pre>\n\n<p>The best option would probably be to use something like</p>\n\n<pre><code>element = WebDriverWait(driver, 10).until(\n        EC.presence_of_element_located((By.ID, \"myDynamicElement\"))\n    )\n</code></pre>\n\n<p>from the link above I posted, this will make sure the element is there while not forcing a wait of 5 seconds. If the element you want is there in .0001 seconds your script will continue after that long. This lets you make the timeout arbitrarily large (say, 120 seconds) without impacting your execution speed.</p>\n"}], "owner": {"reputation": 21, "user_id": 11472189, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a94bc1ffa6c6fce428daef88f4b41277?s=128&d=identicon&r=PG&f=1", "display_name": "Maciej K", "link": "https://stackoverflow.com/users/11472189/maciej-k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 838, "favorite_count": 1, "answer_count": 2, "score": 2, "last_activity_date": 1557348252, "creation_date": 1557347670, "question_id": 56048653, "link": "https://stackoverflow.com/questions/56048653/selenium-chrome-driver-get-in-a-loop-breaks-after-a-couple-of-repetitions", "title": "Selenium-chrome driver.get() in a loop breaks after a couple of repetitions", "body": "<p>I want to scrap data from web-page that is constantly changing (new posts every couple of seconds). I'm calling driver.get() in a while loop but after a couple of repetitions I'm not getting new results. It constantly returns the same post over and over. I'm sure that the page is changing (checked in the browser)</p>\n\n<p>I tried to use time.wait() and driver.refresh() but the problem persists</p>\n\n<pre><code>    chrome_options = Options()\n    chrome_options.add_argument(\"--headless\")\n    driver = webdriver.Chrome(chrome_options=chrome_options, executable_path=self.cp.getSeleniumDriverPath())\n\n    while True:\n        driver.get(url)\n        html = driver.page_source\n        soup = BeautifulSoup(html, 'html.parser')\n        posts = soup.find_all(some class)\n\n        (...)\n        some logic with the result\n        (...)\n\n        driver.refresh() #tried interchangably with driver.get() from the beginning of loop\n</code></pre>\n\n<p>As far as I know, driver.get() should wait for a page to load before executing next line of code. Maybe I did something wrong language-wise (I'm pretty new to python). Should I reset some attributes of driver every loop run? I've seen solutions that are using driver.get() in a loop like that, but it is not working in my case. How do I force the driver to fully refresh the page before scraping it?</p>\n"}, {"tags": ["python", "pandas", "numpy"], "comments": [{"owner": {"reputation": 112399, "user_id": 6361531, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/BRRGS.png?s=128&g=1", "display_name": "Scott Boston", "link": "https://stackoverflow.com/users/6361531/scott-boston"}, "edited": false, "score": 0, "creation_date": 1557348702, "post_id": 56048650, "comment_id": 98739203, "body": "What is your expected out from this data?"}, {"owner": {"reputation": 67, "user_id": 11386256, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5a8263622e3857843bbf0cf7b726227?s=128&d=identicon&r=PG&f=1", "display_name": "wnjl", "link": "https://stackoverflow.com/users/11386256/wnjl"}, "reply_to_user": {"reputation": 112399, "user_id": 6361531, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/BRRGS.png?s=128&g=1", "display_name": "Scott Boston", "link": "https://stackoverflow.com/users/6361531/scott-boston"}, "edited": false, "score": 0, "creation_date": 1557351107, "post_id": 56048650, "comment_id": 98740073, "body": "So essentially, my dataframe would have a &#39;1&#39; in the HeatWave column at the BEGINNING of a 3-day stretch of days with Max &gt;= 90.  There would not be another &#39;1&#39; in the HeatWave column until at least 2 days pass, regardless if those next 2 days also have a Max &gt;=90 (prevent the double counting of the streak of 3 days)."}], "answers": [{"comments": [{"owner": {"reputation": 67, "user_id": 11386256, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5a8263622e3857843bbf0cf7b726227?s=128&d=identicon&r=PG&f=1", "display_name": "wnjl", "link": "https://stackoverflow.com/users/11386256/wnjl"}, "edited": false, "score": 0, "creation_date": 1557532981, "post_id": 56065589, "comment_id": 98810152, "body": "This is absolutely awesome (I say this without having tested this yet, but I will do so tonight).  I can&#39;t thank you enough for taking the time to send this!"}, {"owner": {"reputation": 67, "user_id": 11386256, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5a8263622e3857843bbf0cf7b726227?s=128&d=identicon&r=PG&f=1", "display_name": "wnjl", "link": "https://stackoverflow.com/users/11386256/wnjl"}, "edited": false, "score": 0, "creation_date": 1557553478, "post_id": 56065589, "comment_id": 98812412, "body": "Works brilliantly!  I can&#39;t even begin to say how much I thank you.  Here is a small snippet of the code in action:  <code>climate[(climate[&#39;City&#39;]==&#39;DFW&#39;) &amp; (climate[&#39;Year&#39;]==2015) &amp; (climate[&#39;Max&#39;]&gt;=90)] Out[13]:                Max   Min   Avg  ...   month_year  SnowObserved  flag Date                           ...                                  2015-05-18   91.0  68.0  79.5  ...      2015-05           NaN     0 2015-06-03   91.0  72.0  81.5  ...      2015-06           NaN     1 </code>"}, {"owner": {"reputation": 11518, "user_id": 9510729, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-HbuuPS6a5d4/AAAAAAAAAAI/AAAAAAAAAvQ/8hLG9Jvhyzc/photo.jpg?sz=128", "display_name": "jxc", "link": "https://stackoverflow.com/users/9510729/jxc"}, "reply_to_user": {"reputation": 67, "user_id": 11386256, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5a8263622e3857843bbf0cf7b726227?s=128&d=identicon&r=PG&f=1", "display_name": "wnjl", "link": "https://stackoverflow.com/users/11386256/wnjl"}, "edited": false, "score": 0, "creation_date": 1557574916, "post_id": 56065589, "comment_id": 98816533, "body": "@wnjl, I am glad it worked for you. would you mind to upvote my answer if it helps. Enjoy a nice weekend :-)"}, {"owner": {"reputation": 67, "user_id": 11386256, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5a8263622e3857843bbf0cf7b726227?s=128&d=identicon&r=PG&f=1", "display_name": "wnjl", "link": "https://stackoverflow.com/users/11386256/wnjl"}, "edited": false, "score": 0, "creation_date": 1557604334, "post_id": 56065589, "comment_id": 98823489, "body": "I tried, but it won&#39;t count my upvote yet :-(  I guess I am too new."}], "tags": [], "owner": {"reputation": 11518, "user_id": 9510729, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-HbuuPS6a5d4/AAAAAAAAAAI/AAAAAAAAAvQ/8hLG9Jvhyzc/photo.jpg?sz=128", "display_name": "jxc", "link": "https://stackoverflow.com/users/9510729/jxc"}, "is_accepted": true, "score": 1, "last_activity_date": 1557426779, "creation_date": 1557426779, "answer_id": 56065589, "question_id": 56048650, "link": "https://stackoverflow.com/questions/56048650/tracking-3-day-streaks-when-a-condition-is-met-in-a-column-of-a-dataframe-withou/56065589#56065589", "title": "Tracking 3-day streaks when a condition is met in a column of a dataframe without double-counting streaks", "body": "<p>Here is one way you can try (the sample data is shown at the end of the post)</p>\n\n<ol>\n<li><p>get the data and then setup the streak number of days = 3</p>\n\n<pre><code>df = pd.read_csv('/path/to/file', sep='\\s\\s+', engine='python', parse_dates=['date'])\n# N-day streak\nN = 3\n</code></pre></li>\n<li><p>drop potential dupes, fix missing dates and set NULL 'temp' to 0</p>\n\n<pre><code># if there are duplicates in the same date, drop them and keep the one with highest temp\ndf = df.sort_values(['date', 'temp'], ascending=[1,0]).drop_duplicates(subset=['date'])\n\n# fix missing dates issue and fill missing 'temp' with 0\ndf = df.set_index('date').asfreq('D').reset_index().fillna(0)\nprint(df)\n#         date  temp\n#0  2018-08-01    83\n#1  2018-08-02    99\n#2  2018-08-03    99\n#3  2018-08-04    87\n#4  2018-08-05    90\n#5  2018-08-06    92\n#6  2018-08-07     0\n#7  2018-08-08    92\n#8  2018-08-09    90\n#9  2018-08-10    92\n#10 2018-08-11    94\n#11 2018-08-12    93\n#12 2018-08-13   101\n#13 2018-08-14    94\n#14 2018-08-15    77\n</code></pre></li>\n<li><p>set up conditions which qualify for a heat wave</p>\n\n<pre><code># contition-1  df.temp &gt;= 90\nc1 = df.temp.ge(90)\n</code></pre></li>\n<li><p>group consecutive rows based on condition-1 and label them with g</p>\n\n<pre><code># group label (each group forms a streak)\ng = (c1 != c1.shift()).cumsum()\n</code></pre></li>\n<li><p>define a new df1. For each group of g, find the following:</p>\n\n<ul>\n<li>cnt: total number of row</li>\n<li>n: cumcount() as sequence number</li>\n<li><p>g: added here just for reference, not used for any futher calculations</p>\n\n<pre><code>df1 = df.assign(\n    cnt=df.groupby(g).date.transform('count')\n  , n=df.groupby(g).agg('cumcount')\n  , g=g\n)\nprint(df1)\n#         date  temp  cnt  g  n\n#0  2018-08-01    83    1  1  0\n#1  2018-08-02    99    2  2  0\n#2  2018-08-03    99    2  2  1\n#3  2018-08-04    87    1  3  0\n#4  2018-08-05    90    2  4  0\n#5  2018-08-06    92    2  4  1\n#6  2018-08-07     0    1  5  0\n#7  2018-08-08    92    7  6  0\n#8  2018-08-09    90    7  6  1\n#9  2018-08-10    92    7  6  2\n#10 2018-08-11    94    7  6  3\n#11 2018-08-12    93    7  6  4\n#12 2018-08-13   101    7  6  5\n#13 2018-08-14    94    7  6  6\n#14 2018-08-15    77    1  7  0\n</code></pre></li>\n</ul></li>\n<li><p>define two more conditions:</p>\n\n<pre><code># condition-2: cnt &gt;= N , a streak must have at least N rows\nc2 = df1.cnt.ge(N)\n\n# condition-3: (n%N)==0 and (n+N) &lt;= cnt\n# the last n%N==0 might not have enough dates for a N-day streak\nc3 = df1.n.mod(N).eq(0) &amp; df1.n.le(df1.cnt-N)\n</code></pre></li>\n<li><p>the final flag in df should have:</p>\n\n<pre><code>df['flag'] = np.where(c1 &amp; c2 &amp; c3, 1, 0)\nprint(df)\n#         date  temp  flag\n#0  2018-08-01    83     0\n#1  2018-08-02    99     0\n#2  2018-08-03    99     0\n#3  2018-08-04    87     0\n#4  2018-08-05    90     0\n#5  2018-08-06    92     0\n#6  2018-08-07     0     0\n#7  2018-08-08    92     1\n#8  2018-08-09    90     0\n#9  2018-08-10    92     0\n#10 2018-08-11    94     1\n#11 2018-08-12    93     0\n#12 2018-08-13   101     0\n#13 2018-08-14    94     0\n#14 2018-08-15    77     0\n</code></pre></li>\n<li><p>delete the temporary df1:</p>\n\n<pre><code>del(df1)\n</code></pre></li>\n</ol>\n\n<p><strong>Sample data</strong></p>\n\n<pre><code>date           temp\nAug 1, 2018    83\nAug 2, 2018    99\nAug 2, 2018    65\nAug 3, 2018    99\nAug 2, 2018    70\nAug 4, 2018    87\nAug 5, 2018    90\nAug 6, 2018    92\nAug 8, 2018    92\nAug 9, 2018    90\nAug 10, 2018    92\nAug 11, 2018    94\nAug 12, 2018    93\nAug 13, 2018    101\nAug 14, 2018    94\nAug 15, 2018    77\n</code></pre>\n"}], "owner": {"reputation": 67, "user_id": 11386256, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5a8263622e3857843bbf0cf7b726227?s=128&d=identicon&r=PG&f=1", "display_name": "wnjl", "link": "https://stackoverflow.com/users/11386256/wnjl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 122, "favorite_count": 0, "accepted_answer_id": 56065589, "answer_count": 1, "score": 0, "last_activity_date": 1557426779, "creation_date": 1557347658, "last_edit_date": 1557348234, "question_id": 56048650, "link": "https://stackoverflow.com/questions/56048650/tracking-3-day-streaks-when-a-condition-is-met-in-a-column-of-a-dataframe-withou", "title": "Tracking 3-day streaks when a condition is met in a column of a dataframe without double-counting streaks", "body": "<p>I have a dataframe made of climate observations for 8 different US cities.</p>\n\n<p>I'm trying to find the number of heat waves (3 consecutive days with the max at or above 90 degrees) per every year for every location in the dataset.  </p>\n\n<p>I'm defining a heat wave as 3 consecutive days but 3 unique consecutive days.  For example:</p>\n\n<pre><code>If Aug. 8 hit 87\n   Aug. 9 hit 90\n   Aug. 10 hit 92\n   Aug. 11 hit 94\n   Aug. 12 hit 93\n   Aug. 13 hit 101\n   Aug. 14 hit 94\n   Aug. 15 hit 77\n</code></pre>\n\n<p>In the 'HeatWave' column, there would be values on Aug. 9 and Aug. 12 of '1', reflecting 2 separate 3 day periods where the Max reached 90 or above.</p>\n\n<p>My current strategy has not been working with such streaks of days. </p>\n\n<p>I've been trying to use np.where.  First I check to see if the temp reached 90 or above on the day in question.  Next, I check ahead to see if the max reached at or above 90 on the two following days.  Finally, I check the two days prior to see if the HeatWave column does not have a '1' in it.  If all these conditions are met, a 1 is placed in the 'HeatWave' column for the row.  </p>\n\n<pre><code>summer['Next90'] = summer.Max.shift(-1)\nsummer['Following90'] = summer.Max.shift(-2)\nsummer['HeatWave'] = 0    \nsummer['HeatWave'] = np.where((summer['Next90']&gt;=90) &amp; \n(summer['Max']&gt;=90) &amp; (summer['Following90']&gt;=90) &amp; (summer.shift(1) \n['HeatWave']!=1) &amp; (summer.shift(2)['HeatWave']!=1), 1, np.nan) \n</code></pre>\n\n<p>The problem with this sequence is I don't think np.where can check the 'HeatWave' column after it just placed a 1 (or an np.nan) in the preceding row.  So, I get lots of '1's' in the HeatWave column, but the sequences end up being double-counted.  I also tried this in a for loop using iterrows, but landed at the same struggle.  Could anyone suggest a better way to go about this?</p>\n"}, {"tags": ["python"], "answers": [{"comments": [{"owner": {"reputation": 10702, "user_id": 887103, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/01f50a9b535f3f0275f4d74b047ceef5?s=128&d=identicon&r=PG", "display_name": "Nicolas S.Xu", "link": "https://stackoverflow.com/users/887103/nicolas-s-xu"}, "edited": false, "score": 0, "creation_date": 1557413673, "post_id": 56048705, "comment_id": 98764416, "body": "so does calling select.poll() in a loop consuming too much CPU cycle? I know if I try while(true) {} in browser console, it will crash my browser."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 10702, "user_id": 887103, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/01f50a9b535f3f0275f4d74b047ceef5?s=128&d=identicon&r=PG", "display_name": "Nicolas S.Xu", "link": "https://stackoverflow.com/users/887103/nicolas-s-xu"}, "edited": false, "score": 1, "creation_date": 1557413878, "post_id": 56048705, "comment_id": 98764564, "body": "No. <code>select.poll()</code> is an interface to the OS <code>epoll()</code> system call, which puts the process to sleep until something happens."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 10702, "user_id": 887103, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/01f50a9b535f3f0275f4d74b047ceef5?s=128&d=identicon&r=PG", "display_name": "Nicolas S.Xu", "link": "https://stackoverflow.com/users/887103/nicolas-s-xu"}, "edited": false, "score": 1, "creation_date": 1557413953, "post_id": 56048705, "comment_id": 98764602, "body": "As I said, the process is doing <i>nothing</i>, not looping."}, {"owner": {"reputation": 10702, "user_id": 887103, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/01f50a9b535f3f0275f4d74b047ceef5?s=128&d=identicon&r=PG", "display_name": "Nicolas S.Xu", "link": "https://stackoverflow.com/users/887103/nicolas-s-xu"}, "edited": false, "score": 0, "creation_date": 1557424591, "post_id": 56048705, "comment_id": 98770065, "body": "I updated my question to respond to your &quot;OS epoll() system call, which puts the process to sleep until something happens&quot;. Why default Flask web server does not use select.poll()? Is Flask way better?"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 10702, "user_id": 887103, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/01f50a9b535f3f0275f4d74b047ceef5?s=128&d=identicon&r=PG", "display_name": "Nicolas S.Xu", "link": "https://stackoverflow.com/users/887103/nicolas-s-xu"}, "edited": false, "score": 0, "creation_date": 1557426706, "post_id": 56048705, "comment_id": 98771029, "body": "You should look at the Flask source code to see how it works. There are other ways to block a process while waiting for something to happen."}], "tags": [], "owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "is_accepted": false, "score": 1, "last_activity_date": 1557347866, "creation_date": 1557347866, "answer_id": 56048705, "question_id": 56048644, "link": "https://stackoverflow.com/questions/56048644/is-it-normal-that-select-epoll-consumes-half-of-system-time-in-mprofile-result/56048705#56048705", "title": "Is it normal that select.epoll consumes half of system time in mProfile result?", "body": "<p>It's not surprising. If an application is event-driven, it will spend most of its time just waiting for events to occur. It's just sitting in <code>select.poll()</code>, doing nothing until some data arrives on one of the file descriptors. When something arrives it processes it, then goes back to the main loop that calls <code>select.poll()</code>.</p>\n"}], "owner": {"reputation": 10702, "user_id": 887103, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/01f50a9b535f3f0275f4d74b047ceef5?s=128&d=identicon&r=PG", "display_name": "Nicolas S.Xu", "link": "https://stackoverflow.com/users/887103/nicolas-s-xu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 34, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1557424470, "creation_date": 1557347628, "last_edit_date": 1557424470, "question_id": 56048644, "link": "https://stackoverflow.com/questions/56048644/is-it-normal-that-select-epoll-consumes-half-of-system-time-in-mprofile-result", "title": "Is it normal that select.epoll consumes half of system time in mProfile result?", "body": "<p>I am trying to optimize a python backend server. A simple cProfile following <a href=\"https://web.archive.org/web/20170318204046/http://lanyrd.com/2013/pycon/scdywg/\" rel=\"nofollow noreferrer\">this example</a> shows half of system time is spent on select.poll. </p>\n\n<p><a href=\"https://i.stack.imgur.com/0Zm7M.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0Zm7M.png\" alt=\"enter image description here\"></a></p>\n\n<p>Here is another profile result of an empty flask web server. \nHere is the server code:</p>\n\n<pre><code>from flask import Flask\n\napp = Flask(__name__)\n\n@app.route('/')\ndef index():\n    return 'Hello world'\n\nif __name__ == '__main__':\n    app.run(debug=True, host='0.0.0.0')\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/zPuFp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zPuFp.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>Question:</strong></p>\n\n<p>1) Why my code uses lots of select.poll() whereas default Flask web server doesn't use select.poll()?</p>\n\n<p>I seriously suspect that my code has performance issue (it is slow when running) due to bad architecture, but I don't know where the problem is. </p>\n"}, {"tags": ["python", "windows"], "answers": [{"tags": [], "owner": {"reputation": 534, "user_id": 10226761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HN6j6.jpg?s=128&g=1", "display_name": "Luke DeLuccia", "link": "https://stackoverflow.com/users/10226761/luke-deluccia"}, "is_accepted": true, "score": 0, "last_activity_date": 1557496437, "creation_date": 1557496437, "answer_id": 56079107, "question_id": 56048636, "link": "https://stackoverflow.com/questions/56048636/determine-network-path-of-shared-drive-on-windows-in-python/56079107#56079107", "title": "Determine network path of shared drive on Windows in Python", "body": "<p>I was able to resolve the full network path by using the <code>subprocess</code> module with <code>net share</code>, which will list all shared drives.</p>\n\n<pre><code>import platform\nimport subprocess\n\n\ndef get_network_path(drive_letter: str):\n    s = subprocess.check_output(['net', 'share']).decode()  # get shared drives\n    for row in s.split(\"\\n\")[4:]:  # check each row after formatting\n        split = row.split()\n        if len(split) == 2:  # only check non-default shared drives\n            if split[1] == '{}:\\\\'.format(drive_letter):\n                return r\"\\\\{}\\{}\".format(platform.node(), split[0])\n\nprint(get_network_path(\"D\"))   \n&gt;&gt;&gt; \\\\computer-name\\data\n</code></pre>\n"}], "owner": {"reputation": 534, "user_id": 10226761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HN6j6.jpg?s=128&g=1", "display_name": "Luke DeLuccia", "link": "https://stackoverflow.com/users/10226761/luke-deluccia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 324, "favorite_count": 0, "accepted_answer_id": 56079107, "answer_count": 1, "score": 0, "last_activity_date": 1557496437, "creation_date": 1557347581, "last_edit_date": 1557495744, "question_id": 56048636, "link": "https://stackoverflow.com/questions/56048636/determine-network-path-of-shared-drive-on-windows-in-python", "title": "Determine network path of shared drive on Windows in Python", "body": "<p>Consider a local drive on a Windows machine that is shared over a network. </p>\n\n<p>The drive is mapped to <code>D:\\</code> locally and it is shared by the local machine over the network with the name <code>data</code>. Therefore, the network path for this drive would be <code>\\\\computer-name\\data</code>.</p>\n\n<p>Is it possible to determine the name of the shared network path programatically in Python given the drive letter <code>D</code> from the host machine?</p>\n\n<p>Expected behavior would be:   </p>\n\n<pre><code>drive_letter = \"D\"\nget_network_path(drive_letter)\n&gt;&gt;&gt; \\\\computer-name\\data\n</code></pre>\n\n<p>The only additional constraint is that this should work without admin permissions.</p>\n"}, {"tags": ["python", "numpy", "dictionary"], "answers": [{"tags": [], "owner": {"reputation": 306, "user_id": 8766568, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uD2Qg.jpg?s=128&g=1", "display_name": "martbln", "link": "https://stackoverflow.com/users/8766568/martbln"}, "is_accepted": false, "score": 2, "last_activity_date": 1557348447, "creation_date": 1557348447, "answer_id": 56048823, "question_id": 56048627, "link": "https://stackoverflow.com/questions/56048627/round-floats-in-a-nested-dictionary-recursively/56048823#56048823", "title": "Round floats in a nested dictionary recursively", "body": "<p>Here just syntax errors inside.</p>\n\n<p>You call function <code>pformat</code> inside without needed arguments. You pass only <em>value</em> and not pass <em>function</em></p>\n\n<pre class=\"lang-py prettyprint-override\"><code>return type(dictionary)((key, pformat(value)) for key, value in dictionary.items())\n</code></pre>\n\n<p>And in last <code>if</code> statement you call not implemented function <code>formatfunc</code>. Maybe it is typo and you need to call <code>formatfloat</code> function.</p>\n\n<p>If fix this, result:</p>\n\n<pre><code>{'a': ['1.06', '2.35', ['8.11', '10']], 'b': ['3.06', '4.35', ['5.11', '7']]}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6812, "user_id": 7371893, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ris3Z.png?s=128&g=1", "display_name": "&#226;\u0144\u014d\u014b\u0177Xmo\u016f\u015c", "link": "https://stackoverflow.com/users/7371893/%c3%a2%c5%84%c5%8d%c5%8b%c5%b7xmo%c5%af%c5%9c"}, "is_accepted": true, "score": 3, "last_activity_date": 1557348805, "creation_date": 1557348805, "answer_id": 56048907, "question_id": 56048627, "link": "https://stackoverflow.com/questions/56048627/round-floats-in-a-nested-dictionary-recursively/56048907#56048907", "title": "Round floats in a nested dictionary recursively", "body": "<p>You need to add a parameter after pformat:</p>\n\n<p>Before</p>\n\n<pre><code>pformat(value))\n</code></pre>\n\n<p>After:</p>\n\n<pre><code>pformat(value, function))\n</code></pre>\n\n<p>then change the typo error: formatfunc to function</p>\n\n<p>This is the working code:</p>\n\n<pre><code>import collections\nimport numbers\n\ndef formatfloat(x):\n    return \"%.3g\" % float(x)\n\ndef pformat(dictionary, function):\n    if isinstance(dictionary, dict):\n        return type(dictionary)((key, pformat(value, function)) for key, value in dictionary.items())\n    if isinstance(dictionary, collections.Container):\n        return type(dictionary)(pformat(value, function) for value in dictionary)\n    if isinstance(dictionary, numbers.Number):\n        return function(dictionary)\n    return dictionary\n\nx={'a':[1.05600000001,2.34581736481,[8.1111111112,9.999990111111]], \n   'b':[3.05600000001,4.34581736481,[5.1111111112,6.999990111111]]}\n\npformat(x, formatfloat)\n</code></pre>\n\n<p>Result:</p>\n\n<pre><code>{'a': ['1.06', '2.35', ['8.11', '10']], 'b': ['3.06', '4.35', ['5.11', '7']]}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 219, "user_id": 4963524, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/180a528e6a9742c8b9a95c77f90b1a2e?s=128&d=identicon&r=PG&f=1", "display_name": "dd95", "link": "https://stackoverflow.com/users/4963524/dd95"}, "is_accepted": false, "score": 1, "last_activity_date": 1557349007, "creation_date": 1557349007, "answer_id": 56048954, "question_id": 56048627, "link": "https://stackoverflow.com/questions/56048627/round-floats-in-a-nested-dictionary-recursively/56048954#56048954", "title": "Round floats in a nested dictionary recursively", "body": "<p>I wrote it slightly different:</p>\n\n<pre><code>x={'a':[1.05600000001,2.34581736481,[8.1111111112,9.999990111111]], \n   'b':[3.05600000001,4.34581736481,[5.1111111112,6.999990111111]]}\n\n\ndef recursive_rounding(keys, values):\n    to_return = {}\n    for key, value in zip(keys, values):\n        print key, value\n        if isinstance(value, dict):\n            rounded_value = recursive_rounding(value.keys(), value.values())\n        elif isinstance(value, (tuple, list)):\n            rounded_value = [round_by_type(x) for x in value]\n        else:\n            rounded_value = round_by_type(value)\n        print key, value\n        to_return[round_by_type(key)] = rounded_value\n    return to_return\n\ndef round_by_type(to_round):\n    if isinstance(to_round, (int, float)):\n        return round(to_round, 2)\n    elif isinstance(to_round, (list, tuple)):\n        return [round_by_type(x) for x in to_round]\n    return to_round\n\nrecursive_rounding(x.keys(), x.values())\n</code></pre>\n\n<p>I wrote it super quickly and could be cleaned a little and be improved, but just to show somewhat how you could approach it from a different perspective</p>\n\n<p>OUTPUT IS:</p>\n\n<pre><code># Result: {'a': [1.06, 2.35, [8.11, 10.0]], 'b': [3.06, 4.35, [5.11, 7.0]]} # \n</code></pre>\n"}], "owner": {"reputation": 772, "user_id": 6150310, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb499bc6f5987c406bdb42908a73b666?s=128&d=identicon&r=PG&f=1", "display_name": "mlenthusiast", "link": "https://stackoverflow.com/users/6150310/mlenthusiast"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 710, "favorite_count": 0, "accepted_answer_id": 56048907, "answer_count": 3, "score": 1, "last_activity_date": 1557349007, "creation_date": 1557347518, "question_id": 56048627, "link": "https://stackoverflow.com/questions/56048627/round-floats-in-a-nested-dictionary-recursively", "title": "Round floats in a nested dictionary recursively", "body": "<p>I'm trying to round up float values in a nested dictionary that has other values as well. I looked at this thread - <a href=\"https://stackoverflow.com/questions/7076254/rounding-decimals-in-nested-data-structures-in-python\">Rounding decimals in nested data structures in Python</a> </p>\n\n<p>Trying to implement the function like this:</p>\n\n<pre><code>import collections\nimport numbers\n\ndef formatfloat(x):\n    return \"%.3g\" % float(x)\n\ndef pformat(dictionary, function):\n    if isinstance(dictionary, dict):\n        return type(dictionary)((key, pformat(value)) for key, value in dictionary.items())\n    if isinstance(dictionary, collections.Container):\n        return type(dictionary)(pformat(value) for value in dictionary)\n    if isinstance(dictionary, numbers.Number):\n        return formatfunc(dictionary)\n    return dictionary\n\nx={'a':[1.05600000001,2.34581736481,[8.1111111112,9.999990111111]], \n   'b':[3.05600000001,4.34581736481,[5.1111111112,6.999990111111]]}\n\npformat(x, formatfloat)\n</code></pre>\n\n<p>I'm getting this error:</p>\n\n<pre><code>TypeError: pformat() missing 1 required positional argument: 'function'\n</code></pre>\n\n<p>The answer was marked correct so I was wondering if I need to change anything. It's exactly what I am looking to implement for my dictionary. Any help is appreciated!</p>\n"}, {"tags": ["python", "python-3.x", "pygame"], "comments": [{"owner": {"reputation": 138010, "user_id": 5577765, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LoGpC.jpg?s=128&g=1", "display_name": "Rabbid76", "link": "https://stackoverflow.com/users/5577765/rabbid76"}, "edited": false, "score": 1, "creation_date": 1557348257, "post_id": 56048621, "comment_id": 98739029, "body": "<code>(x1 - x2) * (y3 - y4) - (y1 * y2 * (x3 - x4))</code> has to be <code>(x1-x2)*(y3-y4) - (y1-y2)*(x3-x4))</code>"}, {"owner": {"reputation": 99, "user_id": 11300028, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-MrpgHVrIUGE/AAAAAAAAAAI/AAAAAAAAAnI/IPbfQJy6Klg/photo.jpg?sz=128", "display_name": "Lobsternator", "link": "https://stackoverflow.com/users/11300028/lobsternator"}, "reply_to_user": {"reputation": 138010, "user_id": 5577765, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LoGpC.jpg?s=128&g=1", "display_name": "Rabbid76", "link": "https://stackoverflow.com/users/5577765/rabbid76"}, "edited": false, "score": 0, "creation_date": 1557349034, "post_id": 56048621, "comment_id": 98739346, "body": "Oh my good god, thank you so much, I feel dumb now"}, {"owner": {"reputation": 138010, "user_id": 5577765, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LoGpC.jpg?s=128&g=1", "display_name": "Rabbid76", "link": "https://stackoverflow.com/users/5577765/rabbid76"}, "edited": false, "score": 0, "creation_date": 1557349756, "post_id": 56048621, "comment_id": 98739606, "body": "Heads up. Bugs like this have happened to all of us."}], "answers": [{"tags": [], "owner": {"reputation": 138010, "user_id": 5577765, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LoGpC.jpg?s=128&g=1", "display_name": "Rabbid76", "link": "https://stackoverflow.com/users/5577765/rabbid76"}, "is_accepted": true, "score": 1, "last_activity_date": 1557415708, "creation_date": 1557415708, "answer_id": 56062849, "question_id": 56048621, "link": "https://stackoverflow.com/questions/56048621/line-to-line-intersect-with-pygames-inverted-y-axis/56062849#56062849", "title": "Line-to-line intersect with pygame&#39;s inverted y-axis", "body": "<p>The denominator for the <a href=\"https://en.wikipedia.org/wiki/Determinant\" rel=\"nofollow noreferrer\">Line\u2013line intersection</a> is calculated by the formula:</p>\n\n<blockquote>\n<pre><code>(x1 - x2) * (y3 - y4) - (y1 - y2) * (x3 - x4).\n</code></pre>\n</blockquote>\n\n<p>So the following expression is wrong:</p>\n\n<blockquote>\n<pre><code>den = (x1 - x2) * (y3 - y4) - (y1 * y2 * (x3 - x4))\n</code></pre>\n</blockquote>\n\n<p>It has to be:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>den = (x1-x2)*(y3-y4) - (y1-y2)*(x3-x4))\n</code></pre>\n"}], "owner": {"reputation": 99, "user_id": 11300028, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-MrpgHVrIUGE/AAAAAAAAAAI/AAAAAAAAAnI/IPbfQJy6Klg/photo.jpg?sz=128", "display_name": "Lobsternator", "link": "https://stackoverflow.com/users/11300028/lobsternator"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "accepted_answer_id": 56062849, "answer_count": 1, "score": 2, "last_activity_date": 1557418522, "creation_date": 1557347499, "last_edit_date": 1557418522, "question_id": 56048621, "link": "https://stackoverflow.com/questions/56048621/line-to-line-intersect-with-pygames-inverted-y-axis", "title": "Line-to-line intersect with pygame&#39;s inverted y-axis", "body": "<p><a href=\"https://en.wikipedia.org/wiki/Line%E2%80%93line_intersection#Given_two_points_on_each_line\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Line%E2%80%93line_intersection#Given_two_points_on_each_line</a></p>\n\n<p><a href=\"https://www.youtube.com/watch?v=TOEi6T2mtHo\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=TOEi6T2mtHo</a></p>\n\n<p>I have tried to implement this method in my code but to no avail, I do believe the issue is the inverted y-axis in pygame or is something else hiding under my sight? Any suggestions? </p>\n\n<p>Here's my code:          </p>\n\n<pre><code>        x1 = other.pos1[0]\n        y1 = other.pos1[1]\n        x2 = other.pos2[0]\n        y2 = other.pos2[1]\n\n        x3 = self.pos1[0]\n        y3 = self.pos1[1]\n        x4 = self.pos2[0]\n        y4 = self.pos2[1]\n\n        den = (x1 - x2) * (y3 - y4) - (y1 * y2 * (x3 - x4))\n\n        if den == 0:\n            return\n\n        t = ((x1 - x3) * (y3 - y4) - (y1 - y3) * (x3 - x4)) / den\n\n        u = -(((x1 - x2) * (y1 - y3) - (y1 - y2) * (x1 - x3))) / den\n\n        if t &gt; 0 and t &lt; 1 and u &gt; 0:\n            point = (x3 + u * (x4 - x3), y3 + u * (y4 - y3))\n\n            pygame.gfxdraw.filled_circle(surface, point[0], point[1], 3, (255, 0, 0))\n\n            return point\n\n        else:\n            return\n</code></pre>\n"}, {"tags": ["python", "pygame"], "comments": [{"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 0, "creation_date": 1557372622, "post_id": 56048600, "comment_id": 98744589, "body": "instead of <code>for i in range(1, len(trail_locations))</code> you can use <code>for point in trail_locations[1:]</code> and later you can use <code>point</code> instead of <code>trail_locations[i]</code>. If <code>trail_locations[i]</code> is list or tuple then you don&#39;t have to use <code>list(...)</code>"}, {"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 1, "creation_date": 1557372766, "post_id": 56048600, "comment_id": 98744622, "body": "in python it is not popular to create getter/setters <code>player.get_color()</code>, <code>player.get_y()</code>, etc. It is more popular to use direct access to properties - <code>player.color</code>, <code>player.x</code>, <code>player.height</code>."}, {"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 1, "creation_date": 1557372887, "post_id": 56048600, "comment_id": 98744637, "body": "Pygame has <code>pygame.Rect()</code> to keep position and size - <code>player.rect = pygame.Rect()</code>, <code>player.rect.x</code>. <code>player.rect.height</code> - and it can be used with <code>draw.line( ..., player.rect, ...)</code> instead of <code>draw.line(..., [player.get_x(), player.get_y(), player.get_width(), player.get_height()], ...)</code>. It can also be used to check collisions - <code>player.rect.colliderect(other_object.rect)</code>"}, {"owner": {"reputation": 138010, "user_id": 5577765, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LoGpC.jpg?s=128&g=1", "display_name": "Rabbid76", "link": "https://stackoverflow.com/users/5577765/rabbid76"}, "edited": false, "score": 0, "creation_date": 1610183496, "post_id": 56048600, "comment_id": 116055737, "body": "I am voting to close this question as it is unclear what is being asked about and there is no <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\"><b>Minimal</b>, Reproducible Example</a>."}], "owner": {"user_type": "does_not_exist", "display_name": "user11462125"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 186, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1557347372, "creation_date": 1557347372, "question_id": 56048600, "link": "https://stackoverflow.com/questions/56048600/pygame-connecting-multiple-points", "title": "Pygame connecting multiple points", "body": "<p>I am writing a game on Python with Pygame where the player which is a rectangle is followed by a trail which consists of a List of points on the display. Right now when the trail is being drawn, the edges are very sharp rather than smooth. Is there a better way to do this? Thanks!</p>\n\n<p>Right now trail_locations is a list of tuples where each tuple is every (x, y) location that the player has traveled, and I am drawing a line connecting all the points.</p>\n\n<p>This is my code for drawing the user</p>\n\n<pre><code>    def draw_user(self, player: Vehicle):\n    \"\"\"\n    draws player as a rectangle\n    :param player: Vehicle object\n    :return: None\n    \"\"\"\n    pygame.draw.rect(self.gameDisplay, player.get_color(),\n                     [player.get_x(), player.get_y(), player.get_width(),\n                      player.get_height()])\n    trail = player.get_trail()\n    #trail_locations is a list of tuples, where each tuple is a (x,y) coordinate of where they have traveled\n    trail_locations = trail.get_locations()\n    for i in range(1, len(trail_locations)):\n        pygame.draw.line(self.gameDisplay, player.get_color(),\n                         list(trail_locations[i]),\n                         list(trail_locations[i]), trail.get_width())\n</code></pre>\n"}, {"tags": ["python", "flask", "dialogflow-es"], "answers": [{"tags": [], "owner": {"reputation": 7946, "user_id": 11227781, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hW5DF.jpg?s=128&g=1", "display_name": "vurmux", "link": "https://stackoverflow.com/users/11227781/vurmux"}, "is_accepted": false, "score": 0, "last_activity_date": 1557348114, "creation_date": 1557348114, "answer_id": 56048757, "question_id": 56048595, "link": "https://stackoverflow.com/questions/56048595/how-to-create-the-same-random-number-twice-for-dialogflow/56048757#56048757", "title": "How to create the same random number twice for dialogflow", "body": "<p>You can specify the seed in <code>random</code> module. Every time you set the seed to a specific number, the random sequence is started to generate from the specific number. For example:</p>\n\n<pre><code>import random\n\nprint(random.random(), random.random()) # 0.473694231423486 0.9982145771110763\nprint(random.random(), random.random()) # 0.48084261447054455 0.7666080217170774\nrandom.seed(12345)\nprint(random.random(), random.random()) # 0.41661987254534116 0.010169169457068361\nrandom.seed(12345)\nprint(random.random(), random.random()) # 0.41661987254534116 0.010169169457068361\n</code></pre>\n\n<p>Note that the last two sequences are random, but equal.</p>\n"}], "owner": {"reputation": 33, "user_id": 9995701, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e1c8177dfd36e6b53071cc06fa69857?s=128&d=identicon&r=PG&f=1", "display_name": "Mohammed Balfakeih", "link": "https://stackoverflow.com/users/9995701/mohammed-balfakeih"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 311, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1557348114, "creation_date": 1557347360, "question_id": 56048595, "link": "https://stackoverflow.com/questions/56048595/how-to-create-the-same-random-number-twice-for-dialogflow", "title": "How to create the same random number twice for dialogflow", "body": "<p>I am trying to create a chatbot using Dialogflow and a flask webhook to teach mathematics, one of the features of it is to give and answer questions. I had made it so that the chatbot would create random numbers, then ask a question. The user then answers, then the chatbot checks the answer. The problem is, every time the user states a message in the chat window, it sends a new request to the webhook. Creating new random numbers in the process. Because of this I would like to know if there is anyway to generate the same random number twice, or somehow save these values in dialogflow or externally from the webhook.</p>\n"}, {"tags": ["python", "nginx", "flask", "raspberry-pi", "webserver"], "comments": [{"owner": {"reputation": 56, "user_id": 7479480, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-PovugTRO9xg/AAAAAAAAAAI/AAAAAAAAB8w/Y_UPfe5n2a0/photo.jpg?sz=128", "display_name": "Alex Revetchi", "link": "https://stackoverflow.com/users/7479480/alex-revetchi"}, "edited": false, "score": 1, "creation_date": 1557352818, "post_id": 56048578, "comment_id": 98744516, "body": "Did you try with <code>proxy_redirect on;</code> ?"}, {"owner": {"reputation": 13, "user_id": 4673858, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1466dbcf36493f126f92814948387f75?s=128&d=identicon&r=PG&f=1", "display_name": "Karl-Emmanuel Bastarache", "link": "https://stackoverflow.com/users/4673858/karl-emmanuel-bastarache"}, "reply_to_user": {"reputation": 56, "user_id": 7479480, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-PovugTRO9xg/AAAAAAAAAAI/AAAAAAAAB8w/Y_UPfe5n2a0/photo.jpg?sz=128", "display_name": "Alex Revetchi", "link": "https://stackoverflow.com/users/7479480/alex-revetchi"}, "edited": false, "score": 0, "creation_date": 1557355024, "post_id": 56048578, "comment_id": 98744517, "body": "Hi Alex, <code>on</code> is not a valid parameter for <code>proxy_redirect</code>. I have tried <code>default</code> and <code>off</code> and neither of them has an influence on my problem."}], "owner": {"reputation": 13, "user_id": 4673858, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1466dbcf36493f126f92814948387f75?s=128&d=identicon&r=PG&f=1", "display_name": "Karl-Emmanuel Bastarache", "link": "https://stackoverflow.com/users/4673858/karl-emmanuel-bastarache"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 157, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1557400376, "creation_date": 1557347286, "last_edit_date": 1557355873, "question_id": 56048578, "link": "https://stackoverflow.com/questions/56048578/flask-redirecturl-for-and-login-required-error-with-nginx", "title": "Flask &quot;redirect(url_for)&quot; and &quot;@login_required&quot; error with nginx", "body": "<p>I made a web app hosted on my raspberry pi and I'm trying to get access to it from the internet. I am using Dataplicity (<a href=\"https://docs.dataplicity.com/docs/host-a-website-from-your-pi\" rel=\"nofollow noreferrer\">https://docs.dataplicity.com/docs/host-a-website-from-your-pi</a>) to get access to my server using nginx.</p>\n\n<p>Locally, everything works perfectly. I would launch the app with</p>\n\n<pre><code>flask run --host=0.0.0.0 --port=8000\n</code></pre>\n\n<p>Go to my pi address in my browser with either port 8000 or 80 and successfully get the homepage of my app. Until there, the process works just as well on dataplicity.</p>\n\n<p>The problem arise when I invoke the redirect(url_for) function (including @login_required). As soon as I invoke it through dataplicity, I get '503 Service Temporarily Unavailable'.</p>\n\n<p>When I work locally (or externally with port forwarding -> this leads me to think the problem lies with Dataplicity and nginx), I see the following GET request when I try to access my /camera view function without first being logged in to the app:</p>\n\n<pre><code>127.0.0.1 - - [07/May/2019 22:27:47] \"GET /camera HTTP/1.0\" 302 -\n127.0.0.1 - - [07/May/2019 22:27:47] \"GET /login?next=%2Fcamera HTTP/1.0\" 200 -\n</code></pre>\n\n<p>When I try to access it through dataplicity, I only get:</p>\n\n<pre><code>127.0.0.1 - - [07/May/2019 22:28:37] \"GET /camera HTTP/1.0\" 302 -\n</code></pre>\n\n<p>The : \"GET /login?next=%2Fcamera HTTP/1.0\" 200 - being absent.</p>\n\n<p>If this can help, every url in dataplicity shows as https, except when I hit a redirect(url_for) or a @login_requested function, it turns to http. </p>\n\n<p>I have tried several different nginx configurations I found on Stack Overflow and I also tried to tweak them a little bit by reading the documentation. This was in vain. I won't share them, as all the variations I tried were leading to the same effect.</p>\n\n<p>Here is my actual nginx configuration :</p>\n\n<pre><code>server {\n        listen 80 ;\n        server_name _;\n        access_log /var/log/app_access.log;\n        error_log /var/log/app_error.log;\n        location / {\n            proxy_pass http://localhost:8000;\n            proxy_redirect off;\n            proxy_set_header Host $host;\n            proxy_set_header X-Real-IP $remote_addr;\n            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n        }\n}\n</code></pre>\n\n<p>Here is the significant code in my app :</p>\n\n<pre><code>@app.route(\"/\")\ndef index():\n    return render_template('index.html', title='Cat')\n\n@app.route('/login', methods=['GET', 'POST'])\ndef login():\n    if current_user.is_authenticated:\n        return redirect(url_for('index'))\n    form = LoginForm()\n    if form.validate_on_submit():\n        user = User.query.filter_by(username=form.username.data).first()\n        if user is None or not user.check_password(form.password.data):\n            flash('Invalid username or password')\n            return redirect(url_for('login'))\n        login_user(user, remember=form.remember_me.data)\n        next_page = request.args.get('next')\n        if not next_page or url_parse(next_page).netloc != '':\n            next_page = url_for('index')\n        return redirect(next_page)\n    return render_template('login.html', title='Sign In', form=form)\n\n@app.route(\"/camera\")\n@login_required\ndef stream():\n    templateData = {\n        'title' : \"Stream\"\n    }\n    return render_template('camera.html', **templateData)\n</code></pre>\n\n<p>I wish to get the same experience externally (through dataplicity because I don't like the idea of opening my ports) as the one I get locally. That is, being able to use my 'login' view function without bumping into errors every time I get redirected.</p>\n\n<h1>Update:</h1>\n\n<p>My app is finally functional. The answer was, I think, Gunicorn. I had the following <code>supervisor</code> file that I was barely testing because I wasn't getting any clear feedback from it :</p>\n\n<pre><code>[program:app]\ncommand=/var/www/html/app/sandbox/bin/gunicorn -b localhost:8000 -w 4 ...\ndirectory=/var/www/html/app/\nuser=pi\nautostart=true\nautorestart=true\nstopasgroup=true\nkillasgroup=true\n</code></pre>\n\n<p>Today, after trying one too many time, the app just worked when I reloaded <code>supervisorctl</code>. I still have to find out what makes this specific nginx config only work when Gunicorn is running.</p>\n\n<p><code>flask run --host=0.0.0.0 --port=8000</code> is still not working.</p>\n\n<p><code>gunicorn -b 0.0.0.0:8000 -w 4 app:app</code> is working.</p>\n"}, {"tags": ["python", "selenium", "browsermob-proxy"], "owner": {"reputation": 336, "user_id": 6668130, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c2aa4c4f42ad743c959d8be8bc1e7f69?s=128&d=identicon&r=PG&f=1", "display_name": "deterjan", "link": "https://stackoverflow.com/users/6668130/deterjan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 421, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1559934863, "creation_date": 1557347158, "last_edit_date": 1559934863, "question_id": 56048551, "link": "https://stackoverflow.com/questions/56048551/selenium-browsermob-proxy-cannot-capture-bodies-of-some-https-responses", "title": "Selenium + Browsermob Proxy, cannot capture bodies of some HTTPS responses", "body": "<p>I need to capture the body of a response packet sent to my Selenium browser from BrowserMob proxy. BrowserMob is capturing the response body for only some requests (and not for the ones I need to capture) and I can't figure out why.</p>\n\n<p>I am using Selenium Firefox via python. I have installed the BrowserMob certificates to Firefox.</p>\n\n<p>Here is the code I'm using:</p>\n\n<pre><code>from browsermobproxy import Server\nimport time\nimport json\n\nserver = Server(path=\"./bmp/bin/browsermob-proxy\", options={'port': 8090})\nserver.start()\ntime.sleep(1)\nproxy = server.create_proxy()\ntime.sleep(1)\n\nfrom selenium import webdriver\nprofile = webdriver.FirefoxProfile()\nselenium_proxy = proxy.selenium_proxy()\nprofile.set_proxy(selenium_proxy)\ndriver = webdriver.Firefox(firefox_profile=profile)\n\nproxy.new_har(\"name\", options={'captureHeaders': True, 'captureContent': True})\ndriver.get(\"http://www.example.com\")\n\n#\u00a0some clicking and key typing here...\n\ntime.sleep(20)\nprint(json.dumps(proxy.har))\n\nserver.stop()\ndriver.quit()\n</code></pre>\n\n<p>With the packet I'm trying to inspect the content of, I get this result:</p>\n\n<pre><code>\"response\": {\n  \"status\": 200,\n  \"statusText\": \"OK\",\n  \"httpVersion\": \"HTTP/1.1\",\n  \"cookies\": [],\n  \"headers\": [\n    {\n      \"name\": \"Date\",\n      \"value\": \"Wed, 08 May 2019 19:25:35 GMT\"\n    },\n    {\n      \"name\": \"Content-Type\",\n      \"value\": \"application/json;charset=UTF-8\"\n    }\n    // more headers...\n  ],\n  \"content\": {\n    \"size\": 8888,\n    \"mimeType\": \"application/json;charset=UTF-8\",\n    \"comment\": \"\"\n    // NO TEXT FIELD HERE\n  },\n  \"redirectURL\": \"\",\n  \"headersSize\": 814,\n  \"bodySize\": 8888,\n  \"comment\": \"\"\n}\n</code></pre>\n\n<p>while some other packets (that I'm not interested in) in the HAR file do indeed have a \"text\" field in their response.content.</p>\n\n<p>EDIT: I solved this by using <a href=\"https://mitmproxy.org/\" rel=\"nofollow noreferrer\">mitmproxy</a> instead of browsermob. It includes a scripting mechanism which allows you to filter packets and run arbitrary python code on them.</p>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1557354161, "post_id": 56048536, "comment_id": 98740952, "body": "What error is your code raising?"}], "answers": [{"comments": [{"owner": {"reputation": 43, "user_id": 11364141, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/507982c6b06362f14ce5cb405b9a8b3e?s=128&d=identicon&r=PG&f=1", "display_name": "fthedevs", "link": "https://stackoverflow.com/users/11364141/fthedevs"}, "edited": false, "score": 0, "creation_date": 1557348462, "post_id": 56048589, "comment_id": 98739112, "body": "hey, thanks! But when I try t[&#39;Account&#39;][&#39;ID&#39;] , its throwing this error: tuple indices must be integers or slices, not str"}], "tags": [], "owner": {"reputation": 980, "user_id": 2801791, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3eeae202a860a888b4058bfd36565f3?s=128&d=identicon&r=PG&f=1", "display_name": "tvgriek", "link": "https://stackoverflow.com/users/2801791/tvgriek"}, "is_accepted": false, "score": 1, "last_activity_date": 1557347336, "creation_date": 1557347336, "answer_id": 56048589, "question_id": 56048536, "link": "https://stackoverflow.com/questions/56048536/how-to-extract-a-particular-value-from-this-data-structure/56048589#56048589", "title": "How to extract a particular value from this data structure?", "body": "<p>Should access it like this:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>t['Account']['ID']\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 43, "user_id": 11364141, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/507982c6b06362f14ce5cb405b9a8b3e?s=128&d=identicon&r=PG&f=1", "display_name": "fthedevs", "link": "https://stackoverflow.com/users/11364141/fthedevs"}, "edited": false, "score": 0, "creation_date": 1557348466, "post_id": 56048591, "comment_id": 98739117, "body": "hey, thanks! But when I try t[&#39;Account&#39;][&#39;ID&#39;] , its throwing this error: tuple indices must be integers or slices, not str"}], "tags": [], "owner": {"reputation": 2124, "user_id": 8831165, "user_type": "registered", "profile_image": "https://graph.facebook.com/10208994155229891/picture?type=large", "display_name": "Frederik Bode", "link": "https://stackoverflow.com/users/8831165/frederik-bode"}, "is_accepted": false, "score": 1, "last_activity_date": 1557347340, "creation_date": 1557347340, "answer_id": 56048591, "question_id": 56048536, "link": "https://stackoverflow.com/questions/56048536/how-to-extract-a-particular-value-from-this-data-structure/56048591#56048591", "title": "How to extract a particular value from this data structure?", "body": "<p>The correct way to access this is:\n<code>t['Account']['ID']</code></p>\n"}, {"comments": [{"owner": {"reputation": 43, "user_id": 11364141, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/507982c6b06362f14ce5cb405b9a8b3e?s=128&d=identicon&r=PG&f=1", "display_name": "fthedevs", "link": "https://stackoverflow.com/users/11364141/fthedevs"}, "edited": false, "score": 0, "creation_date": 1557348472, "post_id": 56048601, "comment_id": 98739120, "body": "hey, thanks! But when I try t[&#39;Account&#39;][&#39;ID&#39;] , its throwing this error: tuple indices must be integers or slices, not str"}, {"owner": {"reputation": 2486, "user_id": 7665691, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8a29f95ebd154c0c084345b1729fc11?s=128&d=identicon&r=PG&f=1", "display_name": "Michael H.", "link": "https://stackoverflow.com/users/7665691/michael-h"}, "reply_to_user": {"reputation": 43, "user_id": 11364141, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/507982c6b06362f14ce5cb405b9a8b3e?s=128&d=identicon&r=PG&f=1", "display_name": "fthedevs", "link": "https://stackoverflow.com/users/11364141/fthedevs"}, "edited": false, "score": 1, "creation_date": 1557349010, "post_id": 56048601, "comment_id": 98739337, "body": "With the example you provided, it does not throw an error for me. I attached the output I get to make it clearer."}], "tags": [], "owner": {"reputation": 2486, "user_id": 7665691, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8a29f95ebd154c0c084345b1729fc11?s=128&d=identicon&r=PG&f=1", "display_name": "Michael H.", "link": "https://stackoverflow.com/users/7665691/michael-h"}, "is_accepted": false, "score": 2, "last_activity_date": 1557348956, "last_edit_date": 1557348956, "creation_date": 1557347385, "answer_id": 56048601, "question_id": 56048536, "link": "https://stackoverflow.com/questions/56048536/how-to-extract-a-particular-value-from-this-data-structure/56048601#56048601", "title": "How to extract a particular value from this data structure?", "body": "<p>Try <code>StudentID = t['Account']['ID']</code>.</p>\n\n<pre><code>Python 3.6.7 (default, Oct 22 2018, 11:32:17) \n[GCC 8.2.0] on linux\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n&gt;&gt;&gt; from collections import OrderedDict\n&gt;&gt;&gt; t = OrderedDict([('attributes', OrderedDict([('type', 'Marks'), ('url', 'data/v38.0')])), ('Account', OrderedDict([('attributes', OrderedDict([('type', 'Account'), ('url', 'data/v38.0')])), ('ID', 'A200')]))])\n&gt;&gt;&gt; t['Account']['ID']\n'A200'\n\n# a bit more\n&gt;&gt;&gt; from pprint import pprint\n&gt;&gt;&gt; pprint(t)\nOrderedDict([('attributes',\n              OrderedDict([('type', 'Marks'), ('url', 'data/v38.0')])),\n             ('Account',\n              OrderedDict([('attributes',\n                            OrderedDict([('type', 'Account'),\n                                         ('url', 'data/v38.0')])),\n                           ('ID', 'A200')]))])\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 43, "user_id": 11364141, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/507982c6b06362f14ce5cb405b9a8b3e?s=128&d=identicon&r=PG&f=1", "display_name": "fthedevs", "link": "https://stackoverflow.com/users/11364141/fthedevs"}, "edited": false, "score": 0, "creation_date": 1557348070, "post_id": 56048667, "comment_id": 98738951, "body": "hey, thanks! But when I try t[&#39;Account&#39;][&#39;ID&#39;] , its throwing this error: tuple indices must be integers or slices, not str"}], "tags": [], "owner": {"reputation": 507, "user_id": 6446489, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed68268d4de0bb9904dc1b61f77353b5?s=128&d=identicon&r=PG&f=1", "display_name": "Triggernometry", "link": "https://stackoverflow.com/users/6446489/triggernometry"}, "is_accepted": false, "score": 0, "last_activity_date": 1557347709, "creation_date": 1557347709, "answer_id": 56048667, "question_id": 56048536, "link": "https://stackoverflow.com/questions/56048536/how-to-extract-a-particular-value-from-this-data-structure/56048667#56048667", "title": "How to extract a particular value from this data structure?", "body": "<p>Try printing the object to see how it is set up:</p>\n\n<pre><code>for key, value in t.items():\n    print('\\t', key)\n    for subkey, subvalue in value.items():\n        print('\\t\\t', subkey, subvalue)\n</code></pre>\n\n<p>This will show:</p>\n\n<pre><code> attributes\n     type Marks\n     url data/v38.0\n Account\n     attributes OrderedDict([('type', 'Account'), ('url', 'data/v38.0')])\n     ID A200\n</code></pre>\n\n<p>So, Account is the second item, not the first. However, OrderedDicts STILL don't get items by index, but by key. This is because integers are valid keys, and, for example, t[0] is not necessarily the first item inserted if t looks like: </p>\n\n<pre><code>t=OrderedDict([(1, 'thing1'), (0, 'thing2')])\n</code></pre>\n\n<p>So the correct way to access this item is:</p>\n\n<pre><code>t['Account']['ID']\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 11364141, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/507982c6b06362f14ce5cb405b9a8b3e?s=128&d=identicon&r=PG&f=1", "display_name": "fthedevs", "link": "https://stackoverflow.com/users/11364141/fthedevs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "answer_count": 4, "score": 0, "last_activity_date": 1557442807, "creation_date": 1557347094, "last_edit_date": 1557442807, "question_id": 56048536, "link": "https://stackoverflow.com/questions/56048536/how-to-extract-a-particular-value-from-this-data-structure", "title": "How to extract a particular value from this data structure?", "body": "<p>I have a column filled with values like this:</p>\n\n<pre><code>t=OrderedDict([('attributes', OrderedDict([('type', 'Marks'), ('url', 'data/v38.0')])), ('Account', OrderedDict([('attributes', OrderedDict([('type', 'Account'), ('url', 'data/v38.0')])), ('ID', 'A200')]))])\n</code></pre>\n\n<p>I've tried to use the following to extract the last value of 'ID':</p>\n\n<pre><code>StudentID= t[0]['ID']\n</code></pre>\n\n<p>But it's throwing an error. What is the correct way to access 'ID' value 'A200'?</p>\n"}, {"tags": ["python", "pandas", "dataframe", "indexing"], "comments": [{"owner": {"reputation": 548, "user_id": 4996534, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/kX0gN.png?s=128&g=1", "display_name": "Rheatey Bash", "link": "https://stackoverflow.com/users/4996534/rheatey-bash"}, "edited": false, "score": 0, "creation_date": 1557347219, "post_id": 56048523, "comment_id": 98738592, "body": "You need to reset row indices."}, {"owner": {"reputation": 51822, "user_id": 1552748, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/7840b7a3579d2a7065d5c0aa804b5b92?s=128&d=identicon&r=PG", "display_name": "Paul H", "link": "https://stackoverflow.com/users/1552748/paul-h"}, "edited": false, "score": 0, "creation_date": 1557347319, "post_id": 56048523, "comment_id": 98738636, "body": "what do you mean by new and old indices in this case? can you show explicity what you mean and what you want?"}, {"owner": {"reputation": 51822, "user_id": 1552748, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/7840b7a3579d2a7065d5c0aa804b5b92?s=128&d=identicon&r=PG", "display_name": "Paul H", "link": "https://stackoverflow.com/users/1552748/paul-h"}, "edited": false, "score": 0, "creation_date": 1557347383, "post_id": 56048523, "comment_id": 98738669, "body": "In other words, the row labels for the rows returned from that selection will be unchanged. Do you want to give them new labels that start from 0 and go to <i>N</i>-1?"}, {"owner": {"reputation": 77, "user_id": 7288808, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f0b45ac210a6a72f5bb675da83ca723?s=128&d=identicon&r=PG&f=1", "display_name": "user7288808", "link": "https://stackoverflow.com/users/7288808/user7288808"}, "reply_to_user": {"reputation": 548, "user_id": 4996534, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/kX0gN.png?s=128&g=1", "display_name": "Rheatey Bash", "link": "https://stackoverflow.com/users/4996534/rheatey-bash"}, "edited": false, "score": 0, "creation_date": 1557347395, "post_id": 56048523, "comment_id": 98738675, "body": "@Rheatey Bash reseting row indices would cause the same problem. What I am looking for is keeping the old, not setting new ones. Would you have other recommendations?"}, {"owner": {"reputation": 77, "user_id": 7288808, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f0b45ac210a6a72f5bb675da83ca723?s=128&d=identicon&r=PG&f=1", "display_name": "user7288808", "link": "https://stackoverflow.com/users/7288808/user7288808"}, "reply_to_user": {"reputation": 51822, "user_id": 1552748, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/7840b7a3579d2a7065d5c0aa804b5b92?s=128&d=identicon&r=PG", "display_name": "Paul H", "link": "https://stackoverflow.com/users/1552748/paul-h"}, "edited": false, "score": 0, "creation_date": 1557347494, "post_id": 56048523, "comment_id": 98738717, "body": "@PaulH, in brief. My old dataframe has row indices of 0, 1, 2, 3, 4, 5. I want my new dataframe to keep that sequence. So, when certain rows are selected, my row indices would be 0,1,2,5, NOT 0,1,2,3. Let me know if that&#39;s unclear"}, {"owner": {"reputation": 77, "user_id": 7288808, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f0b45ac210a6a72f5bb675da83ca723?s=128&d=identicon&r=PG&f=1", "display_name": "user7288808", "link": "https://stackoverflow.com/users/7288808/user7288808"}, "reply_to_user": {"reputation": 51822, "user_id": 1552748, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/7840b7a3579d2a7065d5c0aa804b5b92?s=128&d=identicon&r=PG", "display_name": "Paul H", "link": "https://stackoverflow.com/users/1552748/paul-h"}, "edited": false, "score": 0, "creation_date": 1557347547, "post_id": 56048523, "comment_id": 98738743, "body": "@PaulH. Yes row labels should be &quot;unchanged&quot;, but they are being changed in my case. How do you keep them from changing?"}, {"owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "edited": false, "score": 0, "creation_date": 1557347788, "post_id": 56048523, "comment_id": 98738838, "body": "df = df.loc[df[&#39;column_name&#39;] &lt;= 1].copy().reset_index(drop=True)"}, {"owner": {"reputation": 51822, "user_id": 1552748, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/7840b7a3579d2a7065d5c0aa804b5b92?s=128&d=identicon&r=PG", "display_name": "Paul H", "link": "https://stackoverflow.com/users/1552748/paul-h"}, "edited": false, "score": 1, "creation_date": 1557347839, "post_id": 56048523, "comment_id": 98738868, "body": "They shouldn&#39;t be changed. I think you need to check your underlying dataset. When I do a similar operation on my machine, they are unchanged"}, {"owner": {"reputation": 1273, "user_id": 7885229, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56656688139b1d67f1361162172505ec?s=128&d=identicon&r=PG", "display_name": "Matthew Barlowe", "link": "https://stackoverflow.com/users/7885229/matthew-barlowe"}, "edited": false, "score": 0, "creation_date": 1557348216, "post_id": 56048523, "comment_id": 98739015, "body": "Boolean indexing does not affect the values of the index as seen in the <a href=\"https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#boolean-indexing\" rel=\"nofollow noreferrer\">docs</a>"}], "answers": [{"tags": [], "owner": {"reputation": 548, "user_id": 4996534, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/kX0gN.png?s=128&g=1", "display_name": "Rheatey Bash", "link": "https://stackoverflow.com/users/4996534/rheatey-bash"}, "is_accepted": true, "score": 3, "last_activity_date": 1557347996, "creation_date": 1557347996, "answer_id": 56048734, "question_id": 56048523, "link": "https://stackoverflow.com/questions/56048523/pandas-extract-rows-based-on-condition-but-keep-old-row-index/56048734#56048734", "title": "Pandas extract rows based on condition, but keep old row index", "body": "<p>I had just tried to reproduce your question. I believe that you are trying to do something like below</p>\n\n\n\n<pre><code>df = pd.DataFrame({'column_name':[1,2,3,1,2,3,1,1,0,1]})\ndf.head(10)\n</code></pre>\n\n<p>which produces output like below</p>\n\n\n\n<pre><code> column_name\n0   1\n1   2\n2   3\n3   1\n4   2\n5   3\n6   1\n7   1\n8   0\n9   1\n</code></pre>\n\n<p>Once I run your suggested code <code>df = df.loc[df['column_name']&lt;=1]</code>, I had got this with <code>df.head(10)</code></p>\n\n\n\n<pre><code>column_name\n0   1\n3   1\n6   1\n7   1\n8   0\n9   1\n</code></pre>\n\n<p>which seems to have older indices. In pandas, you need to reset indices to get new one otherwise it does not do automatically. </p>\n"}], "owner": {"reputation": 77, "user_id": 7288808, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f0b45ac210a6a72f5bb675da83ca723?s=128&d=identicon&r=PG&f=1", "display_name": "user7288808", "link": "https://stackoverflow.com/users/7288808/user7288808"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 214, "favorite_count": 0, "accepted_answer_id": 56048734, "answer_count": 1, "score": 0, "last_activity_date": 1557347996, "creation_date": 1557347031, "question_id": 56048523, "link": "https://stackoverflow.com/questions/56048523/pandas-extract-rows-based-on-condition-but-keep-old-row-index", "title": "Pandas extract rows based on condition, but keep old row index", "body": "<p>When extracting rows based on certain condition, I am losing old row indices.</p>\n\n<p>I have a pandas dataframe with a column with numerical values, and I extract all the rows based on the condition below:</p>\n\n<pre><code>df = df.loc[df['column_name'] &lt;= 1]\n</code></pre>\n\n<p>The extraction is successful except the new dataframe has new row indices now.</p>\n\n<p>How do I keep the old indices?</p>\n"}, {"tags": ["python", "django", "modelform"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 11470091, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13eba68d3ed427cf10b02d570d909051?s=128&d=identicon&r=PG&f=1", "display_name": "Martin", "link": "https://stackoverflow.com/users/11470091/martin"}, "edited": false, "score": 0, "creation_date": 1557388069, "post_id": 56048693, "comment_id": 98749839, "body": "Do you have any ideas about the order of the fields? how can I make the additional field &#39;your_device&#39; be displayed as first before the other fields of the ModelForm?"}], "tags": [], "owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "is_accepted": false, "score": 1, "last_activity_date": 1557347826, "creation_date": 1557347826, "answer_id": 56048693, "question_id": 56048513, "link": "https://stackoverflow.com/questions/56048513/how-to-send-request-user-properly-to-a-model-form/56048693#56048693", "title": "How to send request.user properly to a model form?", "body": "<p>You've redefined the signature of the form init, so that the first positional parameter is <code>user</code>. So when you pass <code>request.POST, user=request.user</code> the first argument is taken to be user, and then the second one... is also user, which can't happen.</p>\n\n<p>The solution is not to change the signature, but to get the user from kwargs:</p>\n\n<pre><code>def __init__(self, *args, **kwargs):\n    user = kwargs.pop('user')\n    super(ConfigForm, self).__init__(*args, **kwargs)\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 11470091, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13eba68d3ed427cf10b02d570d909051?s=128&d=identicon&r=PG&f=1", "display_name": "Martin", "link": "https://stackoverflow.com/users/11470091/martin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 23, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1557347826, "creation_date": 1557346988, "question_id": 56048513, "link": "https://stackoverflow.com/questions/56048513/how-to-send-request-user-properly-to-a-model-form", "title": "How to send request.user properly to a model form?", "body": "<p>I would like to update the configuration of a device using a Model Form. I suceeded in passing the user to the model form and I can choose device_id which belongs to the current user. But when I submit the Form, i get an error: <strong>init</strong>() got multiple values for argument 'user'\nIs there also a way to put the additional Field \"your_device\" as the first (before all other fields) of the model form?</p>\n\n<p>I tried to remove user = request.user from the POST Method in views.py but then I get another error:\nint() argument must be a string, a bytes-like object or a number, not 'QueryDict'</p>\n\n<p>This is my forms.py:</p>\n\n<pre><code>class ConfigForm(forms.ModelForm):\n\n    your_device = forms.ModelChoiceField(queryset=Device.objects.none())\n\n    class Meta:\n        model = Config\n        fields = [\n                    'location',\n                    'meas_pos',\n                    'loudest_pos',\n                    'spl_range',\n                    'weighting',\n                    'tx_int',\n                    'offset',\n                    'limit',\n                    'notification']\n\n    def __init__(self, user, *args, **kwargs):\n        super(ConfigForm, self).__init__(*args, **kwargs)\n        self.fields['your_device'].queryset = Device.objects.filter(Q(customer=user) | Q(admin=user))\n</code></pre>\n\n<p>and my views.py:</p>\n\n<pre><code>def config_view(request):\n    if request.method == 'POST':\n        form = ConfigForm(request.POST, user = request.user)\n        if form.is_valid():\n            instance = form.save(commit=False)\n            object_id = form.cleaned_data.get('your_device')\n            id_ = Index.object.get(id=object_id).device_id\n            instance.device_id = id_\n            index_id=Index.objects.get(device_id=id_)\n            instance.cfg_nbr=index_id.current_cfg+1\n            index_id.current_cfg=index_id.current_cfg+1\n            index_id.cfg_received=False\n            index_id.save()\n            instance.save()\n            messages.success(request, f'Configuration successfully changed!')\n    else:\n        form = ConfigForm(user=request.user)\n\n\n    context = {\n        'form' : form\n    }\n    return render(request, 'my_spl/config.html', context)\n</code></pre>\n"}, {"tags": ["python", "python-2.7", "numpy", "multiprocessing"], "comments": [{"owner": {"reputation": 14291, "user_id": 545424, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/6a4ac5213b7eeab93dc09b263effcfcf?s=128&d=identicon&r=PG", "display_name": "user545424", "link": "https://stackoverflow.com/users/545424/user545424"}, "edited": false, "score": 0, "creation_date": 1557354538, "post_id": 56048493, "comment_id": 98741027, "body": "&#39;d&#39; stands for double right? If so, the size of the array is going to be <code>8*xsize</code> which is bigger than <code>sys.maxint</code>."}, {"owner": {"reputation": 1725, "user_id": 1938107, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4891ea7797cd519a09fe34b8fa32075e?s=128&d=identicon&r=PG", "display_name": "user-2147482637", "link": "https://stackoverflow.com/users/1938107/user-2147482637"}, "reply_to_user": {"reputation": 14291, "user_id": 545424, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/6a4ac5213b7eeab93dc09b263effcfcf?s=128&d=identicon&r=PG", "display_name": "user545424", "link": "https://stackoverflow.com/users/545424/user545424"}, "edited": false, "score": 0, "creation_date": 1557366224, "post_id": 56048493, "comment_id": 98743361, "body": "@user545424 &#39;i&#39; gives same error"}], "answers": [{"comments": [{"owner": {"reputation": 1725, "user_id": 1938107, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4891ea7797cd519a09fe34b8fa32075e?s=128&d=identicon&r=PG", "display_name": "user-2147482637", "link": "https://stackoverflow.com/users/1938107/user-2147482637"}, "edited": false, "score": 0, "creation_date": 1557416959, "post_id": 56059999, "comment_id": 98766475, "body": "I can make another question, but how can this be overcome? It starts as a numpy array, so its clearly possible to have a large array."}, {"owner": {"reputation": 10928, "user_id": 1358308, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/d9448dee25fd2278def77cb7f0353574?s=128&d=identicon&r=PG", "display_name": "Sam Mason", "link": "https://stackoverflow.com/users/1358308/sam-mason"}, "reply_to_user": {"reputation": 1725, "user_id": 1938107, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4891ea7797cd519a09fe34b8fa32075e?s=128&d=identicon&r=PG", "display_name": "user-2147482637", "link": "https://stackoverflow.com/users/1938107/user-2147482637"}, "edited": false, "score": 0, "creation_date": 1557417240, "post_id": 56059999, "comment_id": 98766628, "body": "get a 64 bit build of Python!  also <a href=\"https://pythonclock.org/\" rel=\"nofollow noreferrer\">Python2.7 is very outdated</a>, you should think about moving to more recent versions!"}, {"owner": {"reputation": 1725, "user_id": 1938107, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4891ea7797cd519a09fe34b8fa32075e?s=128&d=identicon&r=PG", "display_name": "user-2147482637", "link": "https://stackoverflow.com/users/1938107/user-2147482637"}, "edited": false, "score": 0, "creation_date": 1557417804, "post_id": 56059999, "comment_id": 98766960, "body": "I just had a near identical comment on another post... its not like I control the software and packages that everyone uses."}, {"owner": {"reputation": 10928, "user_id": 1358308, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/d9448dee25fd2278def77cb7f0353574?s=128&d=identicon&r=PG", "display_name": "Sam Mason", "link": "https://stackoverflow.com/users/1358308/sam-mason"}, "reply_to_user": {"reputation": 1725, "user_id": 1938107, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4891ea7797cd519a09fe34b8fa32075e?s=128&d=identicon&r=PG", "display_name": "user-2147482637", "link": "https://stackoverflow.com/users/1938107/user-2147482637"}, "edited": false, "score": 0, "creation_date": 1557420060, "post_id": 56059999, "comment_id": 98767983, "body": "what does that mean? define &quot;everyone&quot;!  I&#39;d encourage you to, at very least, get control over the versions of Python and packages installed on your machine (or whatever machines you have access to).  you can install things to your home/user directory if you don&#39;t have system wide permissions."}, {"owner": {"reputation": 1725, "user_id": 1938107, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4891ea7797cd519a09fe34b8fa32075e?s=128&d=identicon&r=PG", "display_name": "user-2147482637", "link": "https://stackoverflow.com/users/1938107/user-2147482637"}, "edited": false, "score": 0, "creation_date": 1557422634, "post_id": 56059999, "comment_id": 98769178, "body": "&quot;everyone&quot; means I can&#39;t go around to companies and homes changing billions of computers to python 64-bit.  changing my python version doesn&#39;t change the other persons, it just means the code won&#39;t work for them."}, {"owner": {"reputation": 10928, "user_id": 1358308, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/d9448dee25fd2278def77cb7f0353574?s=128&d=identicon&r=PG", "display_name": "Sam Mason", "link": "https://stackoverflow.com/users/1358308/sam-mason"}, "reply_to_user": {"reputation": 1725, "user_id": 1938107, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4891ea7797cd519a09fe34b8fa32075e?s=128&d=identicon&r=PG", "display_name": "user-2147482637", "link": "https://stackoverflow.com/users/1938107/user-2147482637"}, "edited": false, "score": 0, "creation_date": 1557426844, "post_id": 56059999, "comment_id": 98771095, "body": "this is going way off topic, but I&#39;d suggest getting your code running on your machine before worrying too much about everybody else.  the last time I used MS Windows it didn&#39;t come with Python, so you&#39;d have to package an interpreter with your code, assuming you intend to stay in that myopic world, so you get to dictate that anyway"}], "tags": [], "owner": {"reputation": 10928, "user_id": 1358308, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/d9448dee25fd2278def77cb7f0353574?s=128&d=identicon&r=PG", "display_name": "Sam Mason", "link": "https://stackoverflow.com/users/1358308/sam-mason"}, "is_accepted": true, "score": 2, "last_activity_date": 1557407139, "last_edit_date": 1557407139, "creation_date": 1557406705, "answer_id": 56059999, "question_id": 56048493, "link": "https://stackoverflow.com/questions/56048493/max-size-of-rawarray-for-shared-array-in-python/56059999#56059999", "title": "Max size of RawArray for shared array in python", "body": "<p>an <code>int</code> here will be a \"C style\" int, which tends to be 4 bytes, but you ask for it, and hence the maximum size of an array by doing:</p>\n\n<pre><code>from sys import maxint\nfrom ctypes import sizeof, c_int\n\nmaxint // sizeof(c_int)\n</code></pre>\n\n<p>which for you (having a 32bit build) will be ~512M elements.  However if you are running a 32bit build then your address space will be a much greater limiting factor, and you almost certainly won't be able to allocate an array that big.</p>\n\n<p>I'm using a 64bit builds of Python 2.7 and 3.7, where <a href=\"https://stackoverflow.com/q/13795758/1358308\"><code>sys.maxint</code> and <code>sys.maxsize</code></a> are both <code>2**63-1</code>, and both allow me to allocate an array with a billion (<code>10**9</code>) elements (and I can see Python having a ~4GB <a href=\"https://stackoverflow.com/a/21049737/1358308\">RSS</a>), albeit taking a while to zero it all out.</p>\n"}], "owner": {"reputation": 1725, "user_id": 1938107, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4891ea7797cd519a09fe34b8fa32075e?s=128&d=identicon&r=PG", "display_name": "user-2147482637", "link": "https://stackoverflow.com/users/1938107/user-2147482637"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 394, "favorite_count": 1, "accepted_answer_id": 56059999, "answer_count": 1, "score": 1, "last_activity_date": 1557407139, "creation_date": 1557346878, "last_edit_date": 1557347906, "question_id": 56048493, "link": "https://stackoverflow.com/questions/56048493/max-size-of-rawarray-for-shared-array-in-python", "title": "Max size of RawArray for shared array in python", "body": "<p>When trying to create an array to use for shared memory in multiple processes, I am getting an assertion error: </p>\n\n<pre><code>    shared_array = RawArray('d', xsize)\n  File \"C:\\Python27\\lib\\multiprocessing\\sharedctypes.py\", line 88, in RawArray\n    obj = _new_value(type_)\n  File \"C:\\Python27\\lib\\multiprocessing\\sharedctypes.py\", line 68, in _new_value\n    wrapper = heap.BufferWrapper(size)\n  File \"C:\\Python27\\lib\\multiprocessing\\heap.py\", line 242, in __init__\n    assert 0 &lt;= size &lt; sys.maxint\nAssertionError\n</code></pre>\n\n<p>It seems that it is above some maxint number, however, even when I run a basic example like below:</p>\n\n<pre><code>from multiprocessing.sharedctypes import RawArray\nimport sys\n\nxsize = 999999999\n#create an empty array    \nprint('MaxInt:',sys.maxint)\nprint('My Size:',xsize)\nshared_array = RawArray('d', xsize)\n</code></pre>\n\n<p>The print statements show:</p>\n\n<pre><code>('MaxInt:', 2147483647)\n('My Size:', 999999999)\n</code></pre>\n\n<p>Why is this happening, and how can I make a shared array for multiprocessing when having very large arrays?  My computer has 128GB of RAM, so that shouldn't be the issue. </p>\n"}, {"tags": ["python", "python-3.x", "xlwings"], "answers": [{"comments": [{"owner": {"reputation": 809, "user_id": 1796228, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/UwFsf.jpg?s=128&g=1", "display_name": "cloudviz", "link": "https://stackoverflow.com/users/1796228/cloudviz"}, "edited": false, "score": 0, "creation_date": 1557477209, "post_id": 56059080, "comment_id": 98785972, "body": "Thanks. I did this but the getting another error when catching the variable back in VBA,  Objects of type generator, cannot be converted to a COM VARIANT"}, {"owner": {"reputation": 5157, "user_id": 918626, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d8c377a6e6f8a5a6910bb62f51c6f853?s=128&d=identicon&r=PG", "display_name": "Felix Zumstein", "link": "https://stackoverflow.com/users/918626/felix-zumstein"}, "reply_to_user": {"reputation": 809, "user_id": 1796228, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/UwFsf.jpg?s=128&g=1", "display_name": "cloudviz", "link": "https://stackoverflow.com/users/1796228/cloudviz"}, "edited": false, "score": 1, "creation_date": 1557489794, "post_id": 56059080, "comment_id": 98792550, "body": "You can&#39;t use <code>yield</code>, use <code>return</code> instead."}], "tags": [], "owner": {"reputation": 5157, "user_id": 918626, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d8c377a6e6f8a5a6910bb62f51c6f853?s=128&d=identicon&r=PG", "display_name": "Felix Zumstein", "link": "https://stackoverflow.com/users/918626/felix-zumstein"}, "is_accepted": true, "score": 1, "last_activity_date": 1557403593, "creation_date": 1557403593, "answer_id": 56059080, "question_id": 56048485, "link": "https://stackoverflow.com/questions/56048485/i-want-to-pass-variables-into-my-vba-with-python-yield-using-xlwings-but-doesnt/56059080#56059080", "title": "I want to pass variables into my VBA with python yield using xlwings but doesn&#39;t seem to work", "body": "<p>You can't do that with <code>RunPython</code>. You need to use User Defined Functions (UDFs) for that, see <a href=\"http://docs.xlwings.org/en/stable/udfs.html\" rel=\"nofollow noreferrer\">the docs</a>. This is how you define a UDF in Python:</p>\n\n<pre><code>import xlwings as xw\n\n@xw.func\ndef double_sum(x, y):\n    \"\"\"Returns twice the sum of the two arguments\"\"\"\n    return 2 * (x + y)\n</code></pre>\n"}], "owner": {"reputation": 809, "user_id": 1796228, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/UwFsf.jpg?s=128&g=1", "display_name": "cloudviz", "link": "https://stackoverflow.com/users/1796228/cloudviz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 105, "favorite_count": 0, "accepted_answer_id": 56059080, "answer_count": 1, "score": 1, "last_activity_date": 1557477541, "creation_date": 1557346840, "last_edit_date": 1557477541, "question_id": 56048485, "link": "https://stackoverflow.com/questions/56048485/i-want-to-pass-variables-into-my-vba-with-python-yield-using-xlwings-but-doesnt", "title": "I want to pass variables into my VBA with python yield using xlwings but doesn&#39;t seem to work", "body": "<p>I'm trying to yield some variables from a python function to pass into my VBA code. But I couldn't seem to get it to work. The data is coming from a range name called rngTest.</p>\n\n<p><a href=\"https://i.stack.imgur.com/WrvC3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WrvC3.png\" alt=\"enter image description here\"></a></p>\n\n<p>Within my sub routine, I have the following code that calls a python function calls foo_func()</p>\n\n<p>Python code</p>\n\n<pre><code># -*- coding: utf-8 -*-\nimport xlwings as xw\n\ndef foo_func():\n    wb = xw.Book.caller()\n    rngTest = wb.sheets[\"Data\"].range(\"rngTest\").value\n\n    for idx, test in enumerate(rngTest):\n        i = str(idx + 3)\n        yield i\n        wb.sheets[\"Data\"].range(f\"F{i}\").value = test\n</code></pre>\n\n<p>VBA Code</p>\n\n<pre><code>Sub Call_Python_Function()\n\n\n\n    Dim x As String\n    x = RunPython(\"import xlwings_test; xlwings_test.foo_func()\")\n    Debug.Print (x)\n\n    Dim y As String\n    y = \"This is y\"\n    Debug.Print (y)\n\nEnd Sub\n</code></pre>\n\n<p>I have also tried creating a UDF</p>\n\n<pre><code>@xw.func\ndef my_udf():\n\n    for i in range(0, 10):\n        yield i\n</code></pre>\n\n<p>VBA\n    Sub Call_Python_Function()</p>\n\n<pre><code>    Dim x As String\n    x = my_udf()\n    Debug.Print (x)\n\n\nEnd Sub\n</code></pre>\n\n<p>But getting this error since it's coming out as a generator object.</p>\n\n<p><a href=\"https://i.stack.imgur.com/VAnH8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VAnH8.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["python", "excel", "vba"], "comments": [{"owner": {"reputation": 121871, "user_id": 478884, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rLckc.jpg?s=128&g=1", "display_name": "Tim Williams", "link": "https://stackoverflow.com/users/478884/tim-williams"}, "edited": false, "score": 2, "creation_date": 1557347558, "post_id": 56048484, "comment_id": 98738748, "body": "Please indent code when posting."}, {"owner": {"reputation": 64429, "user_id": 1188513, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/wNdZG.jpg?s=128&g=1", "display_name": "Mathieu Guindon", "link": "https://stackoverflow.com/users/1188513/mathieu-guindon"}, "edited": false, "score": 0, "creation_date": 1557348504, "post_id": 56048484, "comment_id": 98739137, "body": "I have an <a href=\"http://rubberduckvba.com\" rel=\"nofollow noreferrer\">online indenter</a>, if it helps. (it&#39;s an open-source VBIDE add-in, so you can have the indenter tool in the VBE itself too)"}, {"owner": {"reputation": 2292, "user_id": 1415462, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/c5cb8fa8a8438ef939e1710427a1c0ec?s=128&d=identicon&r=PG", "display_name": "Slothario", "link": "https://stackoverflow.com/users/1415462/slothario"}, "edited": false, "score": 1, "creation_date": 1557352814, "post_id": 56048484, "comment_id": 98740598, "body": "It would help to give examples of the spreadsheet data you&#39;re parsing through, and the first few lines of the text file you&#39;re searching."}, {"owner": {"reputation": 9, "user_id": 9673418, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YV2P1.jpg?s=128&g=1", "display_name": "JohnD", "link": "https://stackoverflow.com/users/9673418/johnd"}, "edited": false, "score": 0, "creation_date": 1557380045, "post_id": 56048484, "comment_id": 98746367, "body": "Data from imported sql into workbook that requires a match"}, {"owner": {"reputation": 9, "user_id": 9673418, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YV2P1.jpg?s=128&g=1", "display_name": "JohnD", "link": "https://stackoverflow.com/users/9673418/johnd"}, "edited": false, "score": 0, "creation_date": 1557380821, "post_id": 56048484, "comment_id": 98746624, "body": "Column A A40-034 A40-035 A40-032 A40-041 A40-042 A40-040 A40-005 A40-006 A40-016 A40-018 A40-019 A40-020 A40-024 A40-025 A40-027"}, {"owner": {"reputation": 9, "user_id": 9673418, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YV2P1.jpg?s=128&g=1", "display_name": "JohnD", "link": "https://stackoverflow.com/users/9673418/johnd"}, "edited": false, "score": 0, "creation_date": 1557380938, "post_id": 56048484, "comment_id": 98746670, "body": "Column G AS55 S61 S61 S61 MI24 UH1 B06 NH90 NH90 NH90 NH90 NH90 NH90 NH90 NH90"}, {"owner": {"reputation": 9, "user_id": 9673418, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YV2P1.jpg?s=128&g=1", "display_name": "JohnD", "link": "https://stackoverflow.com/users/9673418/johnd"}, "edited": false, "score": 0, "creation_date": 1557381250, "post_id": 56048484, "comment_id": 98746808, "body": "An example is search Col A:  A40-040 and Col G :  NH90 , look in comma delimited  text file 7CF896,A40-040,NH90 add first text 7CF896 to Column E"}, {"owner": {"reputation": 44454, "user_id": 3219613, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b01a7cc73ab19f844bdbcd951876ecb5?s=128&d=identicon&r=PG", "display_name": "P\u1d07\u029c", "link": "https://stackoverflow.com/users/3219613/p%e1%b4%87%ca%9c"}, "edited": false, "score": 0, "creation_date": 1557384666, "post_id": 56048484, "comment_id": 98748166, "body": "Please not that if you <code>Dim MReg, MType As String</code> only <code>MType</code> is of type <code>String</code> but <code>MReg</code> is of type <code>Variant</code> in VBA you need to specify a type for <b>every</b> variable <code>Dim MReg As String, MType As String</code> or it is automatically <code>Variant</code> (which is the worst choice). \u2022 Please also include your addional data in the question itself instead of multiple comments (so you can format and explain it better). Screenshots can help too."}, {"owner": {"reputation": 9, "user_id": 9673418, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YV2P1.jpg?s=128&g=1", "display_name": "JohnD", "link": "https://stackoverflow.com/users/9673418/johnd"}, "edited": false, "score": 0, "creation_date": 1557474514, "post_id": 56048484, "comment_id": 98784798, "body": "Thanks I amended the code above , but it still runs to slow in excel. The main issue is if there is no match then it has to check each line of the 2 million rows of data. So when I am looping 2000 times , in excel it can take up to 30 mins to complete. Is there a way to do this in python. or a better way in excel"}], "answers": [{"comments": [{"owner": {"reputation": 9, "user_id": 9673418, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YV2P1.jpg?s=128&g=1", "display_name": "JohnD", "link": "https://stackoverflow.com/users/9673418/johnd"}, "edited": false, "score": 0, "creation_date": 1557503568, "post_id": 56078255, "comment_id": 98800206, "body": "I tried the VBA code and it comes up with a Run-time error 9  for arrayToWriteToSheet(writeIndex, 1) = Left$(currentLineInCsv, indexOfFirstComma) this was from row 3336"}, {"owner": {"reputation": 4001, "user_id": 8811778, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/803575584f2d2d45fe01ee5d52c003dd?s=128&d=identicon&r=PG&f=1", "display_name": "chillin", "link": "https://stackoverflow.com/users/8811778/chillin"}, "reply_to_user": {"reputation": 9, "user_id": 9673418, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YV2P1.jpg?s=128&g=1", "display_name": "JohnD", "link": "https://stackoverflow.com/users/9673418/johnd"}, "edited": false, "score": 0, "creation_date": 1557505023, "post_id": 56078255, "comment_id": 98800868, "body": "@JohnD, sounds like <code>arrayToWriteToSheet</code> had 3336 rows, and now the code is trying to access the 3337th row -- which doesn&#39;t exist and so gives an error. I think if the CSV contains multiple matches for a given row, then all of those matches will be added to <code>arrayToWriteToSheet</code>. But the code expects no more than 1 match, which is why it&#39;s breaking."}, {"owner": {"reputation": 4001, "user_id": 8811778, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/803575584f2d2d45fe01ee5d52c003dd?s=128&d=identicon&r=PG&f=1", "display_name": "chillin", "link": "https://stackoverflow.com/users/8811778/chillin"}, "reply_to_user": {"reputation": 9, "user_id": 9673418, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YV2P1.jpg?s=128&g=1", "display_name": "JohnD", "link": "https://stackoverflow.com/users/9673418/johnd"}, "edited": false, "score": 0, "creation_date": 1557505183, "post_id": 56078255, "comment_id": 98800935, "body": "Also, I think that line should be: <code>arrayToWriteToSheet(writeIndex, 1) = Left$(currentLineInCsv, indexOfFirstComma - 1)</code>, otherwise it will include the comma (have changed my code to reflect this)."}, {"owner": {"reputation": 4001, "user_id": 8811778, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/803575584f2d2d45fe01ee5d52c003dd?s=128&d=identicon&r=PG&f=1", "display_name": "chillin", "link": "https://stackoverflow.com/users/8811778/chillin"}, "reply_to_user": {"reputation": 9, "user_id": 9673418, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YV2P1.jpg?s=128&g=1", "display_name": "JohnD", "link": "https://stackoverflow.com/users/9673418/johnd"}, "edited": false, "score": 0, "creation_date": 1557505291, "post_id": 56078255, "comment_id": 98800984, "body": "@JohnD, are you expecting the first match only, or do you want all matches? Hope my question makes sense"}, {"owner": {"reputation": 9, "user_id": 9673418, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YV2P1.jpg?s=128&g=1", "display_name": "JohnD", "link": "https://stackoverflow.com/users/9673418/johnd"}, "edited": false, "score": 0, "creation_date": 1557521852, "post_id": 56078255, "comment_id": 98807748, "body": "There will be some occaisions when there is no match of data , is this what is causing the error"}, {"owner": {"reputation": 4001, "user_id": 8811778, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/803575584f2d2d45fe01ee5d52c003dd?s=128&d=identicon&r=PG&f=1", "display_name": "chillin", "link": "https://stackoverflow.com/users/8811778/chillin"}, "reply_to_user": {"reputation": 9, "user_id": 9673418, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YV2P1.jpg?s=128&g=1", "display_name": "JohnD", "link": "https://stackoverflow.com/users/9673418/johnd"}, "edited": false, "score": 0, "creation_date": 1557522980, "post_id": 56078255, "comment_id": 98808095, "body": "@JohnD, no, I think the problem is that some values in columns A and G match multiple lines in the CSV (but my code assumed there would be 0 or 1 match at most). You can check by putting something like <code>Debug.Assert writeIndex  &lt;= ubound(arrayToWriteToSheet, 1)</code> after this line <code>writeIndex = writeIndex + 1</code> and then seeing if the code&#39;s execution pauses on the newly added <code>Debug.Assert</code> line."}, {"owner": {"reputation": 4001, "user_id": 8811778, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/803575584f2d2d45fe01ee5d52c003dd?s=128&d=identicon&r=PG&f=1", "display_name": "chillin", "link": "https://stackoverflow.com/users/8811778/chillin"}, "reply_to_user": {"reputation": 9, "user_id": 9673418, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YV2P1.jpg?s=128&g=1", "display_name": "JohnD", "link": "https://stackoverflow.com/users/9673418/johnd"}, "edited": false, "score": 0, "creation_date": 1557523407, "post_id": 56078255, "comment_id": 98808201, "body": "If there are 0 matches, no value will be written to column E. If there is 1 match, 1 value will be written to column E. If there is more than 1 match, do you only want the first match -- or do you want all matches to be written to column E?"}, {"owner": {"reputation": 9, "user_id": 9673418, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YV2P1.jpg?s=128&g=1", "display_name": "JohnD", "link": "https://stackoverflow.com/users/9673418/johnd"}, "edited": false, "score": 0, "creation_date": 1557574644, "post_id": 56078255, "comment_id": 98816476, "body": "it would be great if you could not add a value if there is more than 1 match"}, {"owner": {"reputation": 4001, "user_id": 8811778, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/803575584f2d2d45fe01ee5d52c003dd?s=128&d=identicon&r=PG&f=1", "display_name": "chillin", "link": "https://stackoverflow.com/users/8811778/chillin"}, "reply_to_user": {"reputation": 9, "user_id": 9673418, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YV2P1.jpg?s=128&g=1", "display_name": "JohnD", "link": "https://stackoverflow.com/users/9673418/johnd"}, "edited": false, "score": 0, "creation_date": 1557617465, "post_id": 56078255, "comment_id": 98826058, "body": "@JohnD, I&#39;ve re-written my answer. My previous code had a bug (<code>arrayToWriteToSheet</code> was declared incorrectly) and the procedure&#39;s overall logic was more inefficient than I thought (as I did not <code>Exit</code> the loop once a match was found)."}, {"owner": {"reputation": 9, "user_id": 9673418, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YV2P1.jpg?s=128&g=1", "display_name": "JohnD", "link": "https://stackoverflow.com/users/9673418/johnd"}, "edited": false, "score": 0, "creation_date": 1557730867, "post_id": 56078255, "comment_id": 98848081, "body": "thanks it took only 35 seconds to run using your code. I am trying work out how your code works , as I am also looking to use another search by just one code in column A looking for a match in a text file , with two columns of data. seperated by a comma. first column has unique codes that need to be matched and when matched add value in column 2 of text file  to column E. Is this possible by adapting your code"}, {"owner": {"reputation": 4001, "user_id": 8811778, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/803575584f2d2d45fe01ee5d52c003dd?s=128&d=identicon&r=PG&f=1", "display_name": "chillin", "link": "https://stackoverflow.com/users/8811778/chillin"}, "reply_to_user": {"reputation": 9, "user_id": 9673418, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YV2P1.jpg?s=128&g=1", "display_name": "JohnD", "link": "https://stackoverflow.com/users/9673418/johnd"}, "edited": false, "score": 0, "creation_date": 1557772408, "post_id": 56078255, "comment_id": 98869272, "body": "@JohnD, the code is somewhat specialised to perform the lookup you described in your original post, hence it&#39;s faster (since there is less indirection/abstraction) but the code is also less reusable. So performing a different lookup would probably require re-writing the code to be more dynamic/flexible -- which I can&#39;t do at the moment. Also, there may be faster ways of doing this. I think you&#39;re basically just doing a left outer join (in terms of SQL), with your columns in <code>Sheet6</code> forming the left table and the columns in the CSV forming the right table."}], "tags": [], "owner": {"reputation": 4001, "user_id": 8811778, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/803575584f2d2d45fe01ee5d52c003dd?s=128&d=identicon&r=PG&f=1", "display_name": "chillin", "link": "https://stackoverflow.com/users/8811778/chillin"}, "is_accepted": false, "score": 0, "last_activity_date": 1557617293, "last_edit_date": 1557617293, "creation_date": 1557493225, "answer_id": 56078255, "question_id": 56048484, "link": "https://stackoverflow.com/questions/56048484/reading-large-text-file-freezes-excel-can-it-be-done-using-python/56078255#56078255", "title": "Reading large text file freezes Excel, can it be done using Python?", "body": "<p>Whether this approach works is based on whether all of the following are true:</p>\n\n<ul>\n<li>You can specify in advance which columns in your CSV correspond to columns A and G of <code>Sheet6</code></li>\n<li>You can specify in advance which column of your CSV you want to write to column E of <code>Sheet6</code></li>\n<li>None of the values themselves in your CSV contain any new line characters or commas.</li>\n</ul>\n\n<p>I hope that all makes sense. ^</p>\n\n<pre><code>Option Explicit\n\nConst CSV_FILE_PATH As String = \"T:\\Hex\\ModeS-Mil.txt\"\nConst FIRST_ROW_CONTAINING_DATA As Long = 2 ' Exclude header row'\n\nSub FillMTextFile()\n\n    Dim csvMap As Collection\n    Set csvMap = GetMapForCsv()\n\n    Dim lastRow As Long\n    lastRow = Sheet6.Cells(Sheet6.Rows.Count, \"A\").End(xlUp).Row\n    Debug.Assert lastRow &gt;= FIRST_ROW_CONTAINING_DATA\n\n    Dim substringsInColumnA() As Variant ' This needs a better name, especially if your columns change.'\n    substringsInColumnA = Sheet6.Range(\"A\" &amp; FIRST_ROW_CONTAINING_DATA, \"A\" &amp; lastRow).Value\n\n    Dim substringsInColumnG() As Variant ' This needs a better name, especially if your columns change.'\n    substringsInColumnG = Sheet6.Range(\"G\" &amp; FIRST_ROW_CONTAINING_DATA, \"G\" &amp; lastRow).Value\n\n    Dim outputRowCount As Long\n    outputRowCount = lastRow - FIRST_ROW_CONTAINING_DATA + 1\n\n    Dim arrayToWriteToSheet() As String\n    ReDim arrayToWriteToSheet(1 To outputRowCount, 1 To 1)\n    Debug.Assert LBound(arrayToWriteToSheet, 1) = LBound(substringsInColumnA, 1)\n\n    Dim rowIndex As Long\n    For rowIndex = LBound(substringsInColumnA, 1) To UBound(substringsInColumnA, 1)\n\n        Dim substringsToJoin(0 To 1) As String ' Static, re-use every iteration'\n        substringsToJoin(0) = UCase$(CStr(substringsInColumnA(rowIndex, 1)))\n        substringsToJoin(1) = UCase$(CStr(substringsInColumnG(rowIndex, 1)))\n\n        Dim substringToSearchFor As String\n        substringToSearchFor = Join$(substringsToJoin, \",\")\n\n        arrayToWriteToSheet(rowIndex, 1) = _\n            GetCollectionItemOrDefault(someCollection:=csvMap, someKey:=substringToSearchFor)\n\n    Next rowIndex\n\n    Sheet6.Cells(FIRST_ROW_CONTAINING_DATA, \"E\").Resize(UBound(arrayToWriteToSheet, 1), UBound(arrayToWriteToSheet, 2)) = arrayToWriteToSheet\nEnd Sub\n\nPrivate Function GetMapForCsv() As Collection\n    ' This function tries to take advantage of which columns '\n    ' in the CSV to look at -- and builds a collection in which: '\n    '   \u2022 each collection key = the concatenation of columns that need to contain matches '\n    '   \u2022 each collection item = the value that we later want to look up '\n\n    Const CSV_COLUMN_TO_WRITE_TO_COLUMN_E As Long = 1 ' First column'\n    Const CSV_COLUMN_CORRESPONDING_TO_COLUMN_A As Long = 2 ' Second column'\n    Const CSV_COLUMN_CORRESPONDING_TO_COLUMN_G As Long = 3 ' Third column'\n\n    Dim outputCollection As Collection\n    Set outputCollection = New Collection\n\n    Dim fileHandle As Long\n    fileHandle = FreeFile\n\n    Open CSV_FILE_PATH For Input As #fileHandle ' Open once outside of loop.'\n    Do Until EOF(fileHandle)\n\n        ' File is probably too large to fit in memory, hence iterating line by line'\n        ' but I think this assumes there are no escaped/quoted new line characters in the values themselves'\n        Dim currentLineInCsv As String\n        Line Input #fileHandle, currentLineInCsv\n        currentLineInCsv = UCase$(currentLineInCsv)\n\n        Dim currentValues() As String\n        currentValues = Split(currentLineInCsv, \",\", -1, vbBinaryCompare)\n\n        Dim toJoin(0 To 1) As String\n        toJoin(0) = currentValues(CSV_COLUMN_CORRESPONDING_TO_COLUMN_A - 1) ' 0-based array assumed'\n        toJoin(1) = currentValues(CSV_COLUMN_CORRESPONDING_TO_COLUMN_G - 1) ' 0-based array assumed'\n\n        Dim collectionKey As String\n        collectionKey = Join$(toJoin, \",\")\n\n        Dim collectionItem As String\n        collectionItem = currentValues(CSV_COLUMN_TO_WRITE_TO_COLUMN_E - 1) ' 0-based array assumed'\n\n        On Error Resume Next\n        outputCollection.Add Item:=collectionItem, key:=collectionKey\n        On Error GoTo 0\n    Loop\n    Close #fileHandle\n\n    Set GetMapForCsv = outputCollection\nEnd Function\n\nPrivate Function GetCollectionItemOrDefault(ByVal someCollection As Collection, ByVal someKey As String, Optional ByVal defaultValue As String = vbNullString) As String\n    ' Returns the item corresponding to some key of a collection'\n    ' If the key does not exist, returns the default.'\n\n    Dim keyDoesNotExist As Boolean\n    Dim itemToReturn As String\n\n    On Error Resume Next\n    itemToReturn = someCollection(someKey)\n    keyDoesNotExist = (Err.Number &lt;&gt; 0)\n    On Error GoTo 0\n\n    If keyDoesNotExist Then itemToReturn = defaultValue\n    GetCollectionItemOrDefault = itemToReturn\nEnd Function\n</code></pre>\n\n<p>Regarding implementation, you will need to change these lines (in the code for <code>GetMapForCsv</code> function):</p>\n\n<pre><code>Const CSV_COLUMN_TO_WRITE_TO_COLUMN_E As Long = 1 ' First column'\nConst CSV_COLUMN_CORRESPONDING_TO_COLUMN_A As Long = 2 ' Second column'\nConst CSV_COLUMN_CORRESPONDING_TO_COLUMN_G As Long = 3 ' Third column'\n</code></pre>\n\n<p>so that the assignments are true for your CSV. Currently, the above assignments assume that:</p>\n\n<ul>\n<li>the second column in your CSV corresponds to the values in <code>Sheet6</code>'s column A</li>\n<li>the third column in your CSV corresponds to the values in <code>Sheet6</code>'s column G</li>\n<li>you want to look up the values in the first column of your CSV and write them to <code>Sheet6</code>'s column E.</li>\n</ul>\n\n<p>My CSV contained only 3 columns, my <code>Sheet6</code> contained 10k values to look up; and on my machine the code above took:</p>\n\n<ul>\n<li>~195.6 seconds for 10 million rows in CSV</li>\n<li>~35.2 seconds for 2 million rows in CSV</li>\n</ul>\n\n<hr>\n\n<p>Alternative approaches might include:</p>\n\n<ul>\n<li><p>Using Python. It should be possible to use a generator expression to loop over the CSV file's 2 million rows in a memory-efficient manner. I think the built-in <code>csv</code> module could handle this task, but you might also need some Python module/library to interface with Excel e.g. <code>openpyxl</code>, <code>XlsxWriter</code> (so that you can read the values in columns A and G). The Python code would probably be much shorter/easier to maintain.</p></li>\n<li><p>Using Power Query (which is has been part of Excel on Windows for several years now). You could potentially read columns A and G into one table -- and the CSV into another table. The output would probably be loaded as a table to a worksheet. Not sure how performant/efficient it would be, but it might be worth setting up your data in a way that allows you to use <code>Table.Merge</code>. Otherwise, maybe you could fall back to <code>Text.Contains</code> or something.</p></li>\n</ul>\n"}], "owner": {"reputation": 9, "user_id": 9673418, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YV2P1.jpg?s=128&g=1", "display_name": "JohnD", "link": "https://stackoverflow.com/users/9673418/johnd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 323, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1557617293, "creation_date": 1557346839, "last_edit_date": 1557399856, "question_id": 56048484, "link": "https://stackoverflow.com/questions/56048484/reading-large-text-file-freezes-excel-can-it-be-done-using-python", "title": "Reading large text file freezes Excel, can it be done using Python?", "body": "<p>I am importing data via a SQL import code through Excel VBA to <code>sheet6</code>. I am then looping through each row of the imported data looking for a match based on two criteria. Column A and column G value being present in a line from a large text file with 2 million lines of data. If a match is found then the first value from the comma delimited text file is added to column E. </p>\n\n<p>I have tried researching Excel VBA codes, but it is really slow when looping through 5000 rows of data. It can take up to 30 mins to run. Hoping that maybe a Python solution could be the answer.</p>\n\n<pre class=\"lang-vb prettyprint-override\"><code>Const strFileName = \"T:\\Hex\\ModeS-Mil.txt\"\n\nSub FillMTextFile()\nDim StartTime As Double\nDim SecondsElapsed As Double\nDim strsearch As String\nDim MReg As String\nDim MType As String\nDim strLine As String\nDim f As Integer\nDim lngLine As Long\nDim blnFound As Boolean\nDim x As Long\nDim lrow As Long\nlrow = Sheet6.Range(\"A\" &amp; Rows.Count).End(xlUp).Row\nStartTime = Timer\nFor x = 2 To 3000\nMReg = Sheet6.Range(\"A\" &amp; x).Value\nMType = Sheet6.Range(\"G\" &amp; x).Value\nstrsearch = MReg &amp; \",\" &amp; MType\nf = FreeFile\nOpen strFileName For Input As #f\nDo While Not EOF(f)\nlngLine = lngLine + 1\nLine Input #f, strLine\nIf InStr(1, strLine, strsearch, vbBinaryCompare) &gt; 0 Then\nSheet6.Range(\"E\" &amp; x).Value = UCase(Split(strLine, \",\")(0))\nOn Error GoTo err\nblnFound = True\nExit Do\nEnd If\nLoop\nClose #f\nIf Not blnFound Then\nEnd If\nerr:\nNext x\nSecondsElapsed = Round(Timer - StartTime, 2)\nMsgBox \"code time \" &amp; SecondsElapsed &amp; \" seconds\", vbInformation\nEnd Sub\n</code></pre>\n"}, {"tags": ["python", "pandas", "dataframe"], "answers": [{"comments": [{"owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "edited": false, "score": 1, "creation_date": 1557348586, "post_id": 56048642, "comment_id": 98739155, "body": "Well done!! (-:"}], "tags": [], "owner": {"reputation": 22982, "user_id": 10189214, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-oTTBaX3HSZQ/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7ohHVatc4khqXgYvNrBM40bMFj71Q/mo/photo.jpg?sz=128", "display_name": "Andy L.", "link": "https://stackoverflow.com/users/10189214/andy-l"}, "is_accepted": true, "score": 3, "last_activity_date": 1557347610, "creation_date": 1557347610, "answer_id": 56048642, "question_id": 56048463, "link": "https://stackoverflow.com/questions/56048463/pandas-dataframe-manipulation-to-get-out-periods/56048642#56048642", "title": "Pandas dataframe manipulation to get out periods", "body": "<p>use <code>pd.wide_to_long</code></p>\n\n<pre><code>pd.wide_to_long(df1, stubnames=['Trans', 'Vol'], sep=' ', suffix='Q\\d+', i=['ID', 'Name'], j='Quarter').reset_index()\n\nOut[31]:\n    ID     Name Quarter  Trans  Vol\n0  101     Axel   Q1      1  100\n1  101     Axel   Q2      2  101\n2  102      Bob   Q1      3  102\n3  102      Bob   Q2      4  103\n4  103  Charles   Q1      5  104\n5  103  Charles   Q2      6  105\n</code></pre>\n"}], "owner": {"reputation": 2039, "user_id": 8484261, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/33395397fc8261c5f4b011c5a248799a?s=128&d=identicon&r=PG&f=1", "display_name": "Alhpa Delta", "link": "https://stackoverflow.com/users/8484261/alhpa-delta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 33, "favorite_count": 0, "closed_date": 1557347727, "accepted_answer_id": 56048642, "answer_count": 1, "score": 2, "last_activity_date": 1557347610, "creation_date": 1557346713, "last_edit_date": 1557347019, "question_id": 56048463, "link": "https://stackoverflow.com/questions/56048463/pandas-dataframe-manipulation-to-get-out-periods", "closed_reason": "Duplicate", "title": "Pandas dataframe manipulation to get out periods", "body": "<p>I have a pandas dataframe:</p>\n\n<pre><code>df1=pd.DataFrame({\n    'ID':[101,102,103],\n    'Name':['Axel','Bob','Charles'],\n    'Vol Q1':[100,102,104],\n    'Vol Q2':[101,103,105],\n    'Trans Q1':[1,3,5],\n    'Trans Q2':[2,4,6],\n })\n</code></pre>\n\n<p>I want to convert it to the form:</p>\n\n<pre><code>df4=pd.DataFrame({\n    'ID':[101,101,102,102,103,103],\n    'Name':['Axel','Axel','Bob','Bob','Charles','Charles'],\n    'Quarter':['Q1','Q2','Q1','Q2','Q1','Q2'],\n    'Vol':[100,101,102,103,104,105],\n    'Trans':[1,2,3,4,5,6]\n })\n</code></pre>\n\n<p>But I cannot figure out how.</p>\n\n<p>I tried:</p>\n\n<pre><code>df2 = pd.melt(df1,id_vars=['ID','Name'])\n</code></pre>\n\n<p>But this does not give the desired format. It puts all of them in one column. And I cannot figure out how to do this. </p>\n"}, {"tags": ["python", "c", "arrays", "uint32-t"], "comments": [{"owner": {"reputation": 24610, "user_id": 270986, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c49652c88a43a35bbf0095abfdae3515?s=128&d=identicon&r=PG", "display_name": "Mark Dickinson", "link": "https://stackoverflow.com/users/270986/mark-dickinson"}, "edited": false, "score": 1, "creation_date": 1557347041, "post_id": 56048461, "comment_id": 98738513, "body": "The <code>to_bytes</code> answer to the question you identify seems to fit: <code>0x240918.to_bytes(4, &quot;big&quot;) == b&quot;\\000$\\t\\030&quot;</code> gives me <code>True</code> on Python 3.7. <code>struct.pack(&#39;&gt;I&#39;, 0x240918)</code> also works."}, {"owner": {"reputation": 1326, "user_id": 3180006, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EiLOs.jpg?s=128&g=1", "display_name": "Filip Dimitrovski", "link": "https://stackoverflow.com/users/3180006/filip-dimitrovski"}, "edited": false, "score": 1, "creation_date": 1557347238, "post_id": 56048461, "comment_id": 98738599, "body": "The solution you linked is exactly the same code. <code>bytes((0x00240918 &gt;&gt; i &amp; 0xff) for i in (24,16,8,0)) == b&quot;\\000$\\t\\030&quot;</code> is True."}, {"owner": {"reputation": 24610, "user_id": 270986, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c49652c88a43a35bbf0095abfdae3515?s=128&d=identicon&r=PG", "display_name": "Mark Dickinson", "link": "https://stackoverflow.com/users/270986/mark-dickinson"}, "edited": false, "score": 1, "creation_date": 1557347331, "post_id": 56048461, "comment_id": 98738642, "body": "Note that <code>b&#39;\\x00$\\t\\x18&#39;</code> and <code>b&quot;\\000$\\t\\030&quot;</code> are different representations of the same string."}, {"owner": {"reputation": 9246, "user_id": 1041868, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/6d476b07acb3919c356015e11ad97608?s=128&d=identicon&r=PG", "display_name": "bph", "link": "https://stackoverflow.com/users/1041868/bph"}, "edited": false, "score": 0, "creation_date": 1557347374, "post_id": 56048461, "comment_id": 98738663, "body": "bingo! how can I switch from one to the other? i.e. get my system to print b&quot;\\000$\\t\\030&quot; rather than b&#39;\\x00$\\t\\x18&#39;?"}], "answers": [{"tags": [], "owner": {"reputation": 1326, "user_id": 3180006, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EiLOs.jpg?s=128&g=1", "display_name": "Filip Dimitrovski", "link": "https://stackoverflow.com/users/3180006/filip-dimitrovski"}, "is_accepted": true, "score": 3, "last_activity_date": 1557350001, "last_edit_date": 1557350001, "creation_date": 1557347432, "answer_id": 56048614, "question_id": 56048461, "link": "https://stackoverflow.com/questions/56048461/how-to-convert-uint32-t-to-unsigned-char-array/56048614#56048614", "title": "How to convert uint32_t to unsigned char array?", "body": "<blockquote>\n  <p>hmmm a bit different - i'm sure the answer is staring me in the face here but can't see what it is?</p>\n</blockquote>\n\n<p>30 octal i.e. <code>\"\\030\"</code> is the same as 18 hexadecimal i.e. <code>\"\\x18\"</code>. Both of them represent a single byte in your byte sequence with a decimal value of 24. </p>\n\n<p>You can compare the exact values in the REPL:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>bytes((0x00240918 &gt;&gt; i &amp; 0xff) for i in (24,16,8,0)) == b\"\\000$\\t\\030\"\nTrue\n</code></pre>\n\n<p><a href=\"https://docs.python.org/3/reference/lexical_analysis.html#string-and-bytes-literals\" rel=\"nofollow noreferrer\">Check the Python documentation on string and byte literals</a>:</p>\n\n<ul>\n<li><code>\\ooo</code>    Character with octal value ooo</li>\n<li><code>\\xhh</code>    Character with hex value hh</li>\n</ul>\n\n<p>These can be used in byte literals as well as strings (keep in mind that strings are byte sequences in Python 2).</p>\n\n<p>I don't think <code>bytes</code> support an octal representation by default (the ascii codec always uses hex), but you can code your own:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>import re\nmy_b = b'\\x00$\\t\\x18'\nprint(re.sub(r'\\\\x([0-9a-f]{2})', lambda a: \"\\\\%03o\" % int(a.groups()[0], 16),\n  str(my_b)))\n# Console result: b'\\000$\\t\\030'\n</code></pre>\n\n<p>Keep in mind that the string contains verbatim quotes and the <code>b'</code> prefix, and it may accept escaped slashes as a hex sequence. If you really want a good octal <code>__repr__</code> the best way would be to create a loop and check for non-printable characters, convert them to 3 digit octal and join everything into a string.</p>\n"}], "owner": {"reputation": 9246, "user_id": 1041868, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/6d476b07acb3919c356015e11ad97608?s=128&d=identicon&r=PG", "display_name": "bph", "link": "https://stackoverflow.com/users/1041868/bph"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1088, "favorite_count": 0, "accepted_answer_id": 56048614, "answer_count": 1, "score": 3, "last_activity_date": 1557354768, "creation_date": 1557346706, "last_edit_date": 1557354768, "question_id": 56048461, "link": "https://stackoverflow.com/questions/56048461/how-to-convert-uint32-t-to-unsigned-char-array", "title": "How to convert uint32_t to unsigned char array?", "body": "<p>I'm trying to replicate conversion <code>uint32_t</code> values to <code>unsigned char</code> arrays in python (I've already done it in C)</p>\n\n<p>This is my existing C function:</p>\n\n<pre class=\"lang-c prettyprint-override\"><code>unsigned char *uint32_to_char_array(const uint32_t n)\n{\n    unsigned char *a;\n\n    a = wrap_calloc(4, sizeof(unsigned char));\n\n    a[0] = (n &gt;&gt; 24) &amp; 0xff;  /* high-order (leftmost) byte: bits 24-31 */\n    a[1] = (n &gt;&gt; 16) &amp; 0xff;  /* next byte, counting from left: bits 16-23 */\n    a[2] = (n &gt;&gt;  8) &amp; 0xff;  /* next byte, bits 8-15 */\n    a[3] = n         &amp; 0xff;  /* low-order byte: bits 0-7 */\n\n    return a;\n}\n</code></pre>\n\n<p>If I were to do the following in gdb:</p>\n\n<pre><code>(gdb) p uint32_to_char_array(0x00240918)[0]@4  = \"\\000$\\t\\030\"\n</code></pre>\n\n<p>And it's that string I'm trying to generate in python.</p>\n\n<p>i.e. for a <code>uint32_t</code> input value of <code>0x240918</code> I want an output string of <code>\"\\000$\\t\\030\"</code></p>\n\n<p>I've scoured SO but to no avail thus far, particularly this -> <a href=\"https://stackoverflow.com/questions/6187699/how-to-convert-integer-value-to-array-of-four-bytes-in-python\">How to convert integer value to array of four bytes in python</a> but none of the answers seem to yield the input/output combination stated above</p>\n\n<p>I'm using 2.7, but could use > 3.0 if required.</p>\n\n<p>Update:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Python 3.5.2 (default, Nov 12 2018, 13:43:14) \n[GCC 5.4.0 20160609] on linux\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n&gt;&gt;&gt; 0x240918.to_bytes(4, \"big\")\nb'\\x00$\\t\\x18'\n</code></pre>\n\n<p>Hmmm a bit different \u2014 I'm sure the answer is staring me in the face here but I can't see what it is?</p>\n\n<p>So I can see:</p>\n\n<pre><code>&gt;&gt;&gt; b\"\\000$\\t\\030\"\nb'\\x00$\\t\\x18'\n</code></pre>\n\n<p>But how might one achieve the reverse? i.e.</p>\n\n<pre><code>&gt;&gt;&gt; b'\\x00$\\t\\x18'\nb\"\\000$\\t\\030\"\n</code></pre>\n\n<p>Maybe the question is how I can print a bytes-literal in octal rather than hexadecimal?</p>\n"}, {"tags": ["python"], "answers": [{"tags": [], "owner": {"reputation": 15754, "user_id": 9835872, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PN0Lq.jpg?s=128&g=1", "display_name": "ruohola", "link": "https://stackoverflow.com/users/9835872/ruohola"}, "is_accepted": false, "score": 0, "last_activity_date": 1557347635, "last_edit_date": 1557347635, "creation_date": 1557346931, "answer_id": 56048503, "question_id": 56048431, "link": "https://stackoverflow.com/questions/56048431/how-to-fix-formatting-so-the-string-does-not-repeat-in-the-for-loop/56048503#56048503", "title": "How to fix formatting so the string does not repeat in the for loop?", "body": "<p>You were missing <code>NAME</code> from the <code>zip</code> function, try this:<br>\n(also cleaned up your code a bit and fixed your variable naming)</p>\n\n<pre><code>FROM_BUS = [126, 126]\nTO_BUS = [126, 126]\nCKT = [1, 2]\nNAME = ['RAM 1', 'RAM 2']\nfor from_bus, to_bus, ckt, name in zip(FROM_BUS, TO_BUS, CKT, NAME):\n    [ierr, cmpval] = psspy.brnflo(from_bus, to_bus, str(ckt))\n    cmpvali = abs(cmpval.real)\n    output10 = 'MW SCHEDULE OF {}  is {} MW '.format(name, (round(cmpvali, 0)))\n    print(output10)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 507, "user_id": 6446489, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed68268d4de0bb9904dc1b61f77353b5?s=128&d=identicon&r=PG&f=1", "display_name": "Triggernometry", "link": "https://stackoverflow.com/users/6446489/triggernometry"}, "is_accepted": true, "score": 0, "last_activity_date": 1557346979, "creation_date": 1557346979, "answer_id": 56048510, "question_id": 56048431, "link": "https://stackoverflow.com/questions/56048431/how-to-fix-formatting-so-the-string-does-not-repeat-in-the-for-loop/56048510#56048510", "title": "How to fix formatting so the string does not repeat in the for loop?", "body": "<p>How does <code>NAME</code> relate to <code>cmpvali</code>? You're not iterating over the values in <code>NAME</code>, so of course it prints both.</p>\n\n<p>I don't know what you're trying to accomplish, but maybe the following is something like what you want?</p>\n\n<pre><code>FROM_BUS=[126,126]\nTO_BUS=[126,126]\nCKT=[1,2]\nNAME=['RAM 1', 'RAM 2']\n# ADD NAME TO zip()\nfor FROM_BUS,TO_BUS,CKT,NAME in zip(FROM_BUS, TO_BUS, CKT, NAME):\n    [ierr, cmpval] = psspy.brnflo(FROM_BUS,TO_BUS,str(CKT))\n    cmpvali=abs(cmpval.real)\n    output10='MW SCHEDULE OF {}  is {} MW '.format(NAME,(round(cmpvali,0)))\n    print(output10)\n</code></pre>\n"}], "owner": {"reputation": 25, "user_id": 9168627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/36d9e05db2564d06182dd81f0af12194?s=128&d=identicon&r=PG&f=1", "display_name": "mikerosd", "link": "https://stackoverflow.com/users/9168627/mikerosd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "accepted_answer_id": 56048510, "answer_count": 2, "score": 0, "last_activity_date": 1557357212, "creation_date": 1557346596, "last_edit_date": 1557357212, "question_id": 56048431, "link": "https://stackoverflow.com/questions/56048431/how-to-fix-formatting-so-the-string-does-not-repeat-in-the-for-loop", "title": "How to fix formatting so the string does not repeat in the for loop?", "body": "<p>My problem is that when I run my code, my format repeats the same name twice for each output, just like shown below:</p>\n\n<pre><code>MW SCHEDULE OF ['RAM PAR 3500', 'RAM PAR 4500']  is 136.0 MW \nMW SCHEDULE OF ['RAM PAR 3500', 'RAM PAR 4500']  is 136.0 MW\n</code></pre>\n\n<pre class=\"lang-py prettyprint-override\"><code>FROM_BUS=[126,126]\nTO_BUS=[126,126]\nCKT=[1,2]\nNAME=['RAM 1', 'RAM 2']\nfor FROM_BUS,TO_BUS,CKT in zip(FROM_BUS, TO_BUS, CKT):\n    [ierr, cmpval] = psspy.brnflo(FROM_BUS,TO_BUS,str(CKT))\n    cmpvali=abs(cmpval.real)\n    output10='MW SCHEDULE OF {}  is {} MW '.format(NAME,(round(cmpvali,0)))\n    print(output10)\n</code></pre>\n\n<p>Rather, I would like my results to be like this:</p>\n\n<pre><code>MW SCHEDULE OF ['RAM PAR 3500']  is 136.0 MW\nMW SCHEDULE OF ['RAM PAR 4500']  is 136.0 MW\n</code></pre>\n"}, {"tags": ["python", "odbc", "pyodbc"], "comments": [{"owner": {"reputation": 86789, "user_id": 1422451, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/sFFvX.jpg?s=128&g=1", "display_name": "Parfait", "link": "https://stackoverflow.com/users/1422451/parfait"}, "edited": false, "score": 0, "creation_date": 1557347708, "post_id": 56048415, "comment_id": 98738808, "body": "Try separating out the <code>cursor()</code> assignment and <code>execute()</code> call."}], "answers": [{"tags": [], "owner": {"reputation": 15754, "user_id": 9835872, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PN0Lq.jpg?s=128&g=1", "display_name": "ruohola", "link": "https://stackoverflow.com/users/9835872/ruohola"}, "is_accepted": false, "score": 1, "last_activity_date": 1557350208, "last_edit_date": 1557350208, "creation_date": 1557349901, "answer_id": 56049111, "question_id": 56048415, "link": "https://stackoverflow.com/questions/56048415/no-results-previous-sql-was-not-a-query-when-trying-to-query-deltadna-with-py/56049111#56049111", "title": "&quot;No results. Previous SQL was not a query&quot; when trying to query DeltaDNA with Python", "body": "<p>Try it like this:</p>\n\n<pre><code>import pyodbc\n\nconn_str = 'DSN=name'\nquery1 = 'select eventName from table_name limit 5'\n\nconn = pyodbc.connect(conn_str)\nconn.setdecoding(pyodbc.SQL_CHAR,encoding='utf-8')\nquery1_cursor = conn.cursor()\nquery1_cursor.execute(query1)\nrow = query1_cursor.fetchone()\nprint(row)\n</code></pre>\n\n<p>You can't do the <code>cursor</code> declaration and execution in the same row. Since then your <code>query1_cursor</code> variable will point to a cursor object which hasn't executed any query.</p>\n"}], "owner": {"reputation": 11, "user_id": 10954630, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f1230ec0a055ed1ffe51f50f1789133?s=128&d=identicon&r=PG&f=1", "display_name": "Oliver", "link": "https://stackoverflow.com/users/10954630/oliver"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 168, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1557350208, "creation_date": 1557346510, "question_id": 56048415, "link": "https://stackoverflow.com/questions/56048415/no-results-previous-sql-was-not-a-query-when-trying-to-query-deltadna-with-py", "title": "&quot;No results. Previous SQL was not a query&quot; when trying to query DeltaDNA with Python", "body": "<p>I'm currently trying to query a deltadna database. Their Direct SQL Access guide states that any PostgreSQL ODBC compliant tools should be able to connect without issue. Using the guide, I set up an ODBC data source in windows</p>\n\n<p>I have tried adding Set nocount on, changed various formats for the connection string, changed the table name to be (account).(system).(tablename), all to no avail. The simple query works in Excel and I have cross referenced with how Excel formats everything as well, so it is all the more strange that I get the no query problem.</p>\n\n<pre><code>import pyodbc\n\nconn_str = 'DSN=name'\nquery1 = 'select eventName from table_name limit 5'\n\nconn = pyodbc.connect(conn_str)\nconn.setdecoding(pyodbc.SQL_CHAR,encoding='utf-8')\nquery1_cursor = conn.cursor().execute(query1)\nrow = query1_cursor.fetchone()\nprint(row)\n</code></pre>\n\n<p>Result is ProgrammingError: No results.  Previous SQL was not a query.</p>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 815, "user_id": 7685544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vi45I.jpg?s=128&g=1", "display_name": "cripcate", "link": "https://stackoverflow.com/users/7685544/cripcate"}, "edited": false, "score": 1, "creation_date": 1557347674, "post_id": 56048412, "comment_id": 98738796, "body": "one of your ticks is off in <code>pd.read_csv(`dataset.csv&#39;)</code>, which breaks formatting. Maybe <code>scipy.interpolate</code> or <code>DataFrame.resample</code> are what you&#39;re looking for."}, {"owner": {"reputation": 8130, "user_id": 2713740, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/f1f024ede163fdaebe61807ad5c88f1e?s=128&d=identicon&r=PG&f=1", "display_name": "Luca", "link": "https://stackoverflow.com/users/2713740/luca"}, "reply_to_user": {"reputation": 815, "user_id": 7685544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vi45I.jpg?s=128&g=1", "display_name": "cripcate", "link": "https://stackoverflow.com/users/7685544/cripcate"}, "edited": false, "score": 0, "creation_date": 1557347734, "post_id": 56048412, "comment_id": 98738825, "body": "@cripcate Thank you for pointing that out. I tried the resample but I am not sure how to set the date range there."}, {"owner": {"reputation": 815, "user_id": 7685544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vi45I.jpg?s=128&g=1", "display_name": "cripcate", "link": "https://stackoverflow.com/users/7685544/cripcate"}, "edited": false, "score": 0, "creation_date": 1557348125, "post_id": 56048412, "comment_id": 98738976, "body": "can you include some data? then I&#39;ll see what I can do. (and others too)"}, {"owner": {"reputation": 386, "user_id": 8246238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17eef201298686769a6a4ad733cbff80?s=128&d=identicon&r=PG&f=1", "display_name": "macaw_9227", "link": "https://stackoverflow.com/users/8246238/macaw-9227"}, "edited": false, "score": 2, "creation_date": 1557348251, "post_id": 56048412, "comment_id": 98739027, "body": "To use <code>df.resample</code> with dates, you need to set the index of the df to be the dates. Then you can pick whatever time interval you want to resample at. <a href=\"https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.resample.html#pandas.DataFrame.resample\" rel=\"nofollow noreferrer\">pandas.pydata.org/pandas-docs/stable/reference/api/&hellip;</a>"}, {"owner": {"reputation": 8130, "user_id": 2713740, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/f1f024ede163fdaebe61807ad5c88f1e?s=128&d=identicon&r=PG&f=1", "display_name": "Luca", "link": "https://stackoverflow.com/users/2713740/luca"}, "reply_to_user": {"reputation": 386, "user_id": 8246238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17eef201298686769a6a4ad733cbff80?s=128&d=identicon&r=PG&f=1", "display_name": "macaw_9227", "link": "https://stackoverflow.com/users/8246238/macaw-9227"}, "edited": false, "score": 0, "creation_date": 1557350199, "post_id": 56048412, "comment_id": 98739721, "body": "@macaw_9227 Thank you. I think   managed to sort it by using <code>reindex</code>"}], "answers": [{"tags": [], "owner": {"reputation": 8130, "user_id": 2713740, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/f1f024ede163fdaebe61807ad5c88f1e?s=128&d=identicon&r=PG&f=1", "display_name": "Luca", "link": "https://stackoverflow.com/users/2713740/luca"}, "is_accepted": false, "score": 0, "last_activity_date": 1557350176, "creation_date": 1557350176, "answer_id": 56049164, "question_id": 56048412, "link": "https://stackoverflow.com/questions/56048412/resample-dataframe-at-certain-time-intervals/56049164#56049164", "title": "Resample DataFrame at certain time intervals", "body": "<p>So, I did it as follows, which seems to work:</p>\n\n<pre><code>import pandas as pd\npoll = pd.read_csv('dataset.csv')\npoll = poll.groupby(['State', 'Date Local']).mean()\n\nstates = pds.index.levels[0]  # All the states\npds_grouped = pds.groupby(level='State')\n\n# Iterate throuugh each of the state and aggregae monthly\nmeasures = list()\nfor s in states:\n     flt = pds_grouped.get_group(s).groupby(pd.Grouper(level='Date Local', freq='M')).agg({'V1': 'mean',\n                                                                                           'V2': 'mean',\n                                                                                           'V3': 'mean',\n                                                                                           'V4': 'mean'})\n\n    min_time = flt.index.min() if min_time is None else min(min_time, flt.index.min())\n    max_time = flt.index.max() if max_time is None else max(max_time, flt.index.max())\n    measures.append(flt)\n\nfor i in range(len(measures)):\n    # Create a date range and reindex.\n    dr = pd.date_range(start=min_time, end=max_time, freq='M')\n    measures[i] = measures[i].reindex(dr)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 8130, "user_id": 2713740, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/f1f024ede163fdaebe61807ad5c88f1e?s=128&d=identicon&r=PG&f=1", "display_name": "Luca", "link": "https://stackoverflow.com/users/2713740/luca"}, "edited": false, "score": 0, "creation_date": 1557350828, "post_id": 56049200, "comment_id": 98739954, "body": "TThis does not seem to do what I want. How does it know what the date range it needs to resample on?"}, {"owner": {"reputation": 8130, "user_id": 2713740, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/f1f024ede163fdaebe61807ad5c88f1e?s=128&d=identicon&r=PG&f=1", "display_name": "Luca", "link": "https://stackoverflow.com/users/2713740/luca"}, "edited": false, "score": 0, "creation_date": 1557352266, "post_id": 56049200, "comment_id": 98740443, "body": "This is amazing! So powerful. Thank you!"}, {"owner": {"reputation": 8130, "user_id": 2713740, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/f1f024ede163fdaebe61807ad5c88f1e?s=128&d=identicon&r=PG&f=1", "display_name": "Luca", "link": "https://stackoverflow.com/users/2713740/luca"}, "edited": false, "score": 0, "creation_date": 1557353192, "post_id": 56049200, "comment_id": 98740695, "body": "I have a question. How can I get the particular records at the state level from the <code>flt</code> object now? It seems I cannot do flt[<code>Alabama</code>] for example any more"}, {"owner": {"reputation": 114459, "user_id": 4238408, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RWkmO.jpg?s=128&g=1", "display_name": "Quang Hoang", "link": "https://stackoverflow.com/users/4238408/quang-hoang"}, "reply_to_user": {"reputation": 8130, "user_id": 2713740, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/f1f024ede163fdaebe61807ad5c88f1e?s=128&d=identicon&r=PG&f=1", "display_name": "Luca", "link": "https://stackoverflow.com/users/2713740/luca"}, "edited": false, "score": 1, "creation_date": 1557353275, "post_id": 56049200, "comment_id": 98740728, "body": "<code>flt.loc[&#39;Alabama&#39;]</code>?"}, {"owner": {"reputation": 8130, "user_id": 2713740, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/f1f024ede163fdaebe61807ad5c88f1e?s=128&d=identicon&r=PG&f=1", "display_name": "Luca", "link": "https://stackoverflow.com/users/2713740/luca"}, "edited": false, "score": 0, "creation_date": 1557353617, "post_id": 56049200, "comment_id": 98740827, "body": "Thank you! Sorry, very new to pandas"}], "tags": [], "owner": {"reputation": 114459, "user_id": 4238408, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RWkmO.jpg?s=128&g=1", "display_name": "Quang Hoang", "link": "https://stackoverflow.com/users/4238408/quang-hoang"}, "is_accepted": true, "score": 1, "last_activity_date": 1557352028, "last_edit_date": 1557352028, "creation_date": 1557350386, "answer_id": 56049200, "question_id": 56048412, "link": "https://stackoverflow.com/questions/56048412/resample-dataframe-at-certain-time-intervals/56049200#56049200", "title": "Resample DataFrame at certain time intervals", "body": "<p>Try:</p>\n\n<pre><code>all_dates = poll.index.levels[1]\ndate_range = pd.date_range(all_dates.min(), all_dates.max(), freq='MS')\n\nflt = (poll.groupby('State')\n           .apply(lambda x: x.reset_index(level=1)\n                            .resample('MS', on='Date Local')\n                            .mean()\n                            .reindex(date_range))\n       )\n</code></pre>\n"}], "owner": {"reputation": 8130, "user_id": 2713740, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/f1f024ede163fdaebe61807ad5c88f1e?s=128&d=identicon&r=PG&f=1", "display_name": "Luca", "link": "https://stackoverflow.com/users/2713740/luca"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "accepted_answer_id": 56049200, "answer_count": 2, "score": 0, "last_activity_date": 1557352028, "creation_date": 1557346495, "last_edit_date": 1557347711, "question_id": 56048412, "link": "https://stackoverflow.com/questions/56048412/resample-dataframe-at-certain-time-intervals", "title": "Resample DataFrame at certain time intervals", "body": "<p>I have been working on a publicly available dataset in pandas which has some air quality statistics by each state of USA.</p>\n\n<p>What I am doing is aggregating the measurements for each of the state and the issue I have is that different states have measurements available across different time periods. So, I am collecting all the data as follows:</p>\n\n<pre><code>import pandas as pd\npoll = pd.read_csv('dataset.csv')\npoll = poll.groupby(['State', 'Date Local']).mean()\n\nstates = pds.index.levels[0]  # All the states\npds_grouped = pds.groupby(level='State')\n\n# Iterate throuugh each of the state and aggregae monthly\nfor s in states:\n     flt = pds_grouped.get_group(s).groupby(pd.Grouper(level='Date Local', freq='M')).agg({'V1': 'mean',\n                                                                                           'V2': 'mean',\n                                                                                           'V3': 'mean',\n                                                                                           'V4': 'mean'})\n     print(s, flt.shape, flt.index.min(), flt.index.max(), type(flt))\n</code></pre>\n\n<p>This prints something like:</p>\n\n<pre><code>Alabama (30, 4) 2013-12-31 00:00:00 2016-05-31 00:00:00 &lt;class 'pandas.core.frame.DataFrame'&gt;\nAlaska (18, 4) 2014-07-31 00:00:00 2015-12-31 00:00:00 &lt;class 'pandas.core.frame.DataFrame'&gt;\nArizona (195, 4) 2000-01-31 00:00:00 2016-03-31 00:00:00 &lt;class 'pandas.core.frame.DataFrame'&gt;\nArkansas (111, 4) 2007-01-31 00:00:00 2016-03-31 00:00:00 &lt;class 'pandas.core.frame.DataFrame'&gt;\nCalifornia (196, 4) 2000-01-31 00:00:00 2016-04-30 00:00:00 &lt;class 'pandas.core.frame.DataFrame'&gt;\nColorado (195, 4) 2000-01-31 00:00:00 2016-03-31 00:00:00 &lt;class 'pandas.core.frame.DataFrame'&gt;\nConnecticut (117, 4) 2006-04-30 00:00:00 2015-12-31 00:00:00 &lt;class 'pandas.core.frame.DataFrame'&gt;\n</code></pre>\n\n<p>As you can see they all have different number of measurements and they also span different  time periods. I am trying to create an animation  showing the changes of these contaminants over the whole time and it would be much easier if I can makeeack of these data frames span the same time period and basically fill it with <code>NaNs</code> corresponding to the time periods where the measurements are not available for a given state. I have been looking at the <code>resample</code> method in pandas but could not figure out how to specify a date range.</p>\n"}, {"tags": ["python", "html", "matplotlib"], "owner": {"reputation": 11, "user_id": 11472143, "user_type": "registered", "profile_image": "https://graph.facebook.com/2120694171346527/picture?type=large", "display_name": "Priyanka Mishra", "link": "https://stackoverflow.com/users/11472143/priyanka-mishra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 213, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1557346469, "creation_date": 1557346469, "question_id": 56048406, "link": "https://stackoverflow.com/questions/56048406/mpld3-show-displaying-blank-html", "title": "mpld3.show displaying blank html", "body": "<p>My code runs good with no errors displayed. But when it opens the browser it gives me a blank page.\nCan you help me in this?</p>\n\n<p>It imports data from Excel. Eg.\nNames\nMichael\nAdam\nAndrew\nAdam\nMichael</p>\n\n<p>It takes the count of each name that is repeated, and displays a bar chart.\nBelow is the code </p>\n\n<pre><code>import pandas as pd\nimport matplotlib.pyplot as plt\nimport mpld3\n\ndata = pd.read_excel (r'Sample.xlsx', sheet_name='Sample1')\ndf = pd.DataFrame(data, columns= ['Names'])\nmydata = [df.groupby('Names').size()]\n\n\ndf['count'] = df.groupby('Names')['Names'].transform('count')\n\ndf.drop_duplicates(subset=None, inplace=True)\n\nax = df.plot(x='Names', y='count',color='blue',label='count',kind='bar')\n\nfor p in ax.patches:\n    ax.annotate(str(p.get_height()), (p.get_x() * 1.005, p.get_height() * 1.005))\n\nfig_size = plt.rcParams[\"figure.figsize\"]\n\nfig_size[0] = 20\nfig_size[1] = 25\nplt.rcParams[\"figure.figsize\"] = fig_size\nprint (\"Current size:\", fig_size)\n\nplt.tight_layout()\n\nplt.savefig('Graphicalrepresentaion.png')\n\nfig = plt.figure()\n\nmpld3.show(fig=None, ip='127.0.0.1', port=8888, n_retries=50, local=True,    \nopen_browser=True, http_server=None)`\n</code></pre>\n\n<p>Whats Working - \nIt opens up the browser with blank page.\nplt.show()\n - works too , displays accurate graph of the values</p>\n"}, {"tags": ["python", "python-3.x", "aws-lambda", "amazon-dynamodb", "boto3"], "comments": [{"owner": {"reputation": 162605, "user_id": 174777, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6PnNW.jpg?s=128&g=1", "display_name": "John Rotenstein", "link": "https://stackoverflow.com/users/174777/john-rotenstein"}, "edited": false, "score": 1, "creation_date": 1557350505, "post_id": 56048350, "comment_id": 98739850, "body": "The documentation says: &quot;You can also return the item&#39;s attribute values in the same UpdateItem operation using the <code>ReturnValues</code> parameter.&quot; Your code is already doing this. So, you shouldn&#39;t need to call <code>get_item()</code> again. Just look in <code>response</code> from <code>update_item()</code>."}, {"owner": {"reputation": 311, "user_id": 11380409, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ab299d688a683392a29d99ad95ed75a?s=128&d=identicon&r=PG&f=1", "display_name": "TIM02144", "link": "https://stackoverflow.com/users/11380409/tim02144"}, "reply_to_user": {"reputation": 162605, "user_id": 174777, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6PnNW.jpg?s=128&g=1", "display_name": "John Rotenstein", "link": "https://stackoverflow.com/users/174777/john-rotenstein"}, "edited": false, "score": 0, "creation_date": 1557518045, "post_id": 56048350, "comment_id": 98806303, "body": "ohlr, thank, you pointed me in the right direction. I appreciate your time, it took me a while to tease what I wanted out of the results as all of this is pretty new to me. I will post the new code below."}], "answers": [{"tags": [], "owner": {"reputation": 311, "user_id": 11380409, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ab299d688a683392a29d99ad95ed75a?s=128&d=identicon&r=PG&f=1", "display_name": "TIM02144", "link": "https://stackoverflow.com/users/11380409/tim02144"}, "is_accepted": false, "score": 1, "last_activity_date": 1557518381, "creation_date": 1557518381, "answer_id": 56084113, "question_id": 56048350, "link": "https://stackoverflow.com/questions/56048350/update-dynamodb-table-then-get-new-value/56084113#56084113", "title": "Update DynamoDB Table then get new value", "body": "<p>This is what my code looks like now and this returns the new value from the DynamoDB table after the 'table_put.item' updates the table (the returned value). This is getting passed as 'xdays'. Thanks to ohlr for his assistance. </p>\n\n<pre><code>            if response['Count'] == 0: #volume not being tracked in table\n                try:\n                    response = table.put_item(\n                        Item={\n                            'volID': vid,\n                            'ebsDaysToExpire': 7,\n                            'snapshotStatus': 'incomplete',\n                            'snapshotDate': 'incomplete',\n                            'lifecycleStatus': 'start_7',\n                            'snapshotID': 'incomplete',\n                            'snapshotDaysToExpire': '30'\n                        },\n                        ConditionExpression='attribute_not_exists(volID)'\n                        )\n                except ClientError as e:\n                    print(e.response['Error']['Message'])\n            else:\n                try:\n                    response = table.update_item(\n                        Key={\n                            'volID': vid\n                        },\n                        UpdateExpression='set ebsDaysToExpire = ebsDaysToExpire + :val',\n                        ExpressionAttributeValues={\n                            ':val': decimal.Decimal(-1)\n                        },\n                        ReturnValues='UPDATED_NEW'\n                    )\n                    xdays = response['Attributes']['ebsDaysToExpire']\n                    print xdays\n                except ClientError as e:\n                    print(e.response['Error']['Message'])\n</code></pre>\n"}], "owner": {"reputation": 311, "user_id": 11380409, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ab299d688a683392a29d99ad95ed75a?s=128&d=identicon&r=PG&f=1", "display_name": "TIM02144", "link": "https://stackoverflow.com/users/11380409/tim02144"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 609, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1557518381, "creation_date": 1557346236, "last_edit_date": 1557350521, "question_id": 56048350, "link": "https://stackoverflow.com/questions/56048350/update-dynamodb-table-then-get-new-value", "title": "Update DynamoDB Table then get new value", "body": "<p>I'm new to Python. I have a bit of code in Python within a Lambda function that updates the a value in a DynamoDB table (ebsDaysToExpire). That works. I get stuck when I want to the get that new updated value so I can pass it later in the script as part of a send_mail function.</p>\n\n<p>I've tried adding in <code>response = table.get_item</code> statements but I just can't get that to work.</p>\n\n<pre><code>            if response['Count'] == 0: #volume not being tracked in table\n                try:\n                    response = table.put_item(\n                        Item={\n                            'volID': vid,\n                            'ebsDaysToExpire': 7,\n                            'snapshotStatus': 'incomplete',\n                            'snapshotDate': 'incomplete',\n                            'lifecycleStatus': 'start_7',\n                            'snapshotID': 'incomplete',\n                            'snapshotDaysToExpire': '30'\n                        },\n                        ConditionExpression='attribute_not_exists(volID)'\n                        )\n                except ClientError as e:\n                    print(e.response['Error']['Message'])\n            else:\n                try:\n                    response = table.update_item(\n                        Key={\n                            'volID': vid\n                        },\n                        UpdateExpression='set ebsDaysToExpire = ebsDaysToExpire + :val',\n                        ExpressionAttributeValues={\n                            ':val': decimal.Decimal(-1)\n                        },\n                        ReturnValues='UPDATED_NEW'\n                    )\n                except ClientError as e:\n                    print(e.response['Error']['Message'])\n</code></pre>\n"}, {"tags": ["python", "pandas", "csv", "matplotlib", "python-3.7"], "comments": [{"owner": {"reputation": 143, "user_id": 845563, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8dc9b4b990e192a7856229fa0bd52ee7?s=128&d=identicon&r=PG", "display_name": "Fausto Morales", "link": "https://stackoverflow.com/users/845563/fausto-morales"}, "edited": false, "score": 3, "creation_date": 1557346378, "post_id": 56048345, "comment_id": 98738219, "body": "Can you specify how those CSV files are ordered in the directory (e.g., by name or by modified date)? Files in a directory do not inherently have &quot;order,&quot; but rather are listed according to user preference."}, {"owner": {"reputation": 59, "user_id": 10852845, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-zewDka9NPm4/AAAAAAAAAAI/AAAAAAAAAGU/mVAbRTOUHyM/photo.jpg?sz=128", "display_name": "Dean", "link": "https://stackoverflow.com/users/10852845/dean"}, "reply_to_user": {"reputation": 143, "user_id": 845563, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8dc9b4b990e192a7856229fa0bd52ee7?s=128&d=identicon&r=PG", "display_name": "Fausto Morales", "link": "https://stackoverflow.com/users/845563/fausto-morales"}, "edited": false, "score": 0, "creation_date": 1557346933, "post_id": 56048345, "comment_id": 98738457, "body": "@FaustoMorales the file names are something like test3-1_ju23ng99 so I&#39;m not sure how I can even order them."}, {"owner": {"reputation": 548, "user_id": 4996534, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/kX0gN.png?s=128&g=1", "display_name": "Rheatey Bash", "link": "https://stackoverflow.com/users/4996534/rheatey-bash"}, "edited": false, "score": 0, "creation_date": 1557347129, "post_id": 56048345, "comment_id": 98738542, "body": "Read all the file name in a pandas data frame and short it in alphabetical order. Once it is shorted, you should be able to read one by one."}], "answers": [{"tags": [], "owner": {"reputation": 219, "user_id": 4963524, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/180a528e6a9742c8b9a95c77f90b1a2e?s=128&d=identicon&r=PG&f=1", "display_name": "dd95", "link": "https://stackoverflow.com/users/4963524/dd95"}, "is_accepted": true, "score": 2, "last_activity_date": 1557347302, "creation_date": 1557347302, "answer_id": 56048584, "question_id": 56048345, "link": "https://stackoverflow.com/questions/56048345/is-there-a-way-to-use-the-read-csv-method-to-read-the-csv-files-in-order-they/56048584#56048584", "title": "Is there a way to use the &quot;read_csv&quot; method to read the csv files in order they are listed in a directory?", "body": "<p>you could use <code>os.listdir()</code> to get all the files in the folder and then sort them out in a certain way, for example by name(it would be enough using the python built in <code>sorted()</code> ). Instead if you want more fancy ordering you could retrieve both the name and last modified date and store them in a dictionary, order the keys and retrieve the values. So as @Fausto Morales said it all only depends on which order you would like them to be sorted. </p>\n"}], "owner": {"reputation": 59, "user_id": 10852845, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-zewDka9NPm4/AAAAAAAAAAI/AAAAAAAAAGU/mVAbRTOUHyM/photo.jpg?sz=128", "display_name": "Dean", "link": "https://stackoverflow.com/users/10852845/dean"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "accepted_answer_id": 56048584, "answer_count": 1, "score": 1, "last_activity_date": 1557347302, "creation_date": 1557346218, "question_id": 56048345, "link": "https://stackoverflow.com/questions/56048345/is-there-a-way-to-use-the-read-csv-method-to-read-the-csv-files-in-order-they", "title": "Is there a way to use the &quot;read_csv&quot; method to read the csv files in order they are listed in a directory?", "body": "<p>I am plotting plots on one figure using matplotlib from csv files however, I want the plots in order. I want to somehow use the read_csv method to read the csv files from a directory in the order they are listed in so that they are outputted in the same fashion.</p>\n\n<p>I want the plots listed under each other the same way the csv files are listed in the directory.</p>\n"}, {"tags": ["python", "python-3.x", "batch-file", "cron", "cron-task"], "comments": [{"owner": {"reputation": 29794, "user_id": 6738015, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FYDxX.jpg?s=128&g=1", "display_name": "Compo", "link": "https://stackoverflow.com/users/6738015/compo"}, "edited": false, "score": 0, "creation_date": 1557348399, "post_id": 56048318, "comment_id": 98739093, "body": "Have your read the output from <code>start &#47;?</code>? If so, did you try it with the <code>&#47;B</code> option?"}, {"owner": {"reputation": 487, "user_id": 3308275, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/14pCH.png?s=128&g=1", "display_name": "cooper", "link": "https://stackoverflow.com/users/3308275/cooper"}, "reply_to_user": {"reputation": 29794, "user_id": 6738015, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FYDxX.jpg?s=128&g=1", "display_name": "Compo", "link": "https://stackoverflow.com/users/6738015/compo"}, "edited": false, "score": 0, "creation_date": 1557425525, "post_id": 56048318, "comment_id": 98770495, "body": "There&#39;s no enough time to read it. The window stay opened like...0.3s?? So that it&#39;s impossible to read it. I also tried the &quot;/B&quot; option but the result is exactly the same"}, {"owner": {"reputation": 29794, "user_id": 6738015, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FYDxX.jpg?s=128&g=1", "display_name": "Compo", "link": "https://stackoverflow.com/users/6738015/compo"}, "edited": false, "score": 0, "creation_date": 1557429566, "post_id": 56048318, "comment_id": 98772290, "body": "The command will be run and when there&#39;s nothing left to do, it will close. Add another line, with <code>Pause</code> or <code>Timeout 5</code> to read the output before it closes."}], "answers": [{"tags": [], "owner": {"reputation": 487, "user_id": 3308275, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/14pCH.png?s=128&g=1", "display_name": "cooper", "link": "https://stackoverflow.com/users/3308275/cooper"}, "is_accepted": false, "score": 0, "last_activity_date": 1557428552, "creation_date": 1557428552, "answer_id": 56066017, "question_id": 56048318, "link": "https://stackoverflow.com/questions/56048318/different-behaviour-on-double-click-on-batch-file-and-execute-it-in-cronjob/56066017#56066017", "title": "different behaviour on double click on batch file and execute it in cronjob", "body": "<p>The <code>/K</code> option did the trick</p>\n\n<pre><code>\"C:\\Users\\cooper\\AppData\\Local\\Programs\\Python\\Python37-32\\python.exe\" \"C:\\Users\\cooper\\AppData\\Local\\Programs\\Python\\Python37-32\\metart\\v4.py\" /K\n</code></pre>\n"}], "owner": {"reputation": 487, "user_id": 3308275, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/14pCH.png?s=128&g=1", "display_name": "cooper", "link": "https://stackoverflow.com/users/3308275/cooper"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 35, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1557428552, "creation_date": 1557346114, "question_id": 56048318, "link": "https://stackoverflow.com/questions/56048318/different-behaviour-on-double-click-on-batch-file-and-execute-it-in-cronjob", "title": "different behaviour on double click on batch file and execute it in cronjob", "body": "<p>I'm learning how to create an automatic script in python (3.7) and I've noticed of these different behaviours:</p>\n\n<p>(The python script is not relevant in this question but it works quite well so that I'm sure the answer of my question isn't here).</p>\n\n<ul>\n<li><p>Case 1:</p>\n\n<p>I create a batch file \"test.bat\" with this content:</p>\n\n<p><em>test.bat</em></p>\n\n<pre><code>START \"test\" \"C:\\Users\\cooper\\AppData\\Local\\Programs\\Python\\Python37-32\\test\\v4.py\" \n</code></pre>\n\n<p>I execute it (double click) and it opens a first window and right after closes it, and just after opens a second window with the title: \"C:\\Windows\\py.exe\" and the python script works well.</p></li>\n<li><p>Case 2:</p>\n\n<p>I create a cronjob on the cron task scheduler with an action to execute the batch file. </p>\n\n<p>The cronjob is the standart one:</p>\n\n<ul>\n<li>Trigger: on a specific time, execute it X times in a day</li>\n<li>Action: execute the batch file</li>\n<li>I also changed an option called: configuration (W10 in my case).</li>\n</ul>\n\n<p>When the file is executed it opens the first window and immediately after closes it, and just after it opens the second window and immediately after close it.</p></li>\n</ul>\n\n<p>I would like to run the python script but doing it through the cronjob but whatever I do, it doesn't work. I've tried other variations on the batch file using <em>cd</em> and directly using:</p>\n\n<pre><code>\"C:\\Users\\cooper\\AppData\\Local\\Programs\\Python\\Python37-32\\python.exe\" \"C:\\Users\\cooper\\AppData\\Local\\Programs\\Python\\Python37-32\\test\\v4.py\"\n</code></pre>\n\n<p>but none of them works. Idon't remember well the first, but the second shows command line on System32 directory and doing nothing.</p>\n"}, {"tags": ["python", "python-3.x"], "answers": [{"comments": [{"owner": {"reputation": 6812, "user_id": 7371893, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ris3Z.png?s=128&g=1", "display_name": "&#226;\u0144\u014d\u014b\u0177Xmo\u016f\u015c", "link": "https://stackoverflow.com/users/7371893/%c3%a2%c5%84%c5%8d%c5%8b%c5%b7xmo%c5%af%c5%9c"}, "edited": false, "score": 0, "creation_date": 1557346918, "post_id": 56048325, "comment_id": 98738453, "body": "something is not working well and missing one element:   [&#39;helloworld \\n&#39;, &#39;my nameis john \\n&#39;, &#39;How are you?I am \\n doing well&#39;]"}, {"owner": {"reputation": 4102, "user_id": 10366273, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1c2BX.jpg?s=128&g=1", "display_name": "MyNameIsCaleb", "link": "https://stackoverflow.com/users/10366273/mynameiscaleb"}, "reply_to_user": {"reputation": 6812, "user_id": 7371893, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ris3Z.png?s=128&g=1", "display_name": "&#226;\u0144\u014d\u014b\u0177Xmo\u016f\u015c", "link": "https://stackoverflow.com/users/7371893/%c3%a2%c5%84%c5%8d%c5%8b%c5%b7xmo%c5%af%c5%9c"}, "edited": false, "score": 0, "creation_date": 1557347097, "post_id": 56048325, "comment_id": 98738533, "body": "I added a comment at the bottom.  I am assuming that just in their example text they don&#39;t have outer spaces but in their actual usage the spaces are probably not being stripped.  If they are being stripped, you can change the string concatenation to add the space."}, {"owner": {"reputation": 6812, "user_id": 7371893, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ris3Z.png?s=128&g=1", "display_name": "&#226;\u0144\u014d\u014b\u0177Xmo\u016f\u015c", "link": "https://stackoverflow.com/users/7371893/%c3%a2%c5%84%c5%8d%c5%8b%c5%b7xmo%c5%af%c5%9c"}, "edited": false, "score": 0, "creation_date": 1557347389, "post_id": 56048325, "comment_id": 98738673, "body": "No. I mean you cannot do this:  out += ls[i]...  It will concat element 3 and 4 thus you are missing one element of the result. The output requires 4 items and you have only 3 items."}, {"owner": {"reputation": 4102, "user_id": 10366273, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1c2BX.jpg?s=128&g=1", "display_name": "MyNameIsCaleb", "link": "https://stackoverflow.com/users/10366273/mynameiscaleb"}, "reply_to_user": {"reputation": 6812, "user_id": 7371893, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ris3Z.png?s=128&g=1", "display_name": "&#226;\u0144\u014d\u014b\u0177Xmo\u016f\u015c", "link": "https://stackoverflow.com/users/7371893/%c3%a2%c5%84%c5%8d%c5%8b%c5%b7xmo%c5%af%c5%9c"}, "edited": false, "score": 0, "creation_date": 1557347659, "post_id": 56048325, "comment_id": 98738788, "body": "Yes correct, I explained that up top that it will work for any number until you hit an ending <code>\\n</code> character. I&#39;ll add an alternative to not do that if they don&#39;t want to."}, {"owner": {"reputation": 6812, "user_id": 7371893, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ris3Z.png?s=128&g=1", "display_name": "&#226;\u0144\u014d\u014b\u0177Xmo\u016f\u015c", "link": "https://stackoverflow.com/users/7371893/%c3%a2%c5%84%c5%8d%c5%8b%c5%b7xmo%c5%af%c5%9c"}, "edited": false, "score": 0, "creation_date": 1557347901, "post_id": 56048325, "comment_id": 98738893, "body": "why are you submitting your solution if it has INCORRECT output?"}, {"owner": {"reputation": 1772, "user_id": 4150078, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/VvMca.png?s=128&g=1", "display_name": "sharp", "link": "https://stackoverflow.com/users/4150078/sharp"}, "edited": false, "score": 1, "creation_date": 1557407182, "post_id": 56048325, "comment_id": 98760578, "body": "@MyNameIsCaleb Thanks so much! Learned some more functions from here. I used <code>out += &#39; &#39; + ls[i]</code> for my case from your suggestion"}, {"owner": {"reputation": 4102, "user_id": 10366273, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1c2BX.jpg?s=128&g=1", "display_name": "MyNameIsCaleb", "link": "https://stackoverflow.com/users/10366273/mynameiscaleb"}, "reply_to_user": {"reputation": 39156, "user_id": 842935, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/2b3b9d4aa138cb30767b8b1a7a90f027?s=128&d=identicon&r=PG", "display_name": "dani herrera", "link": "https://stackoverflow.com/users/842935/dani-herrera"}, "edited": false, "score": 0, "creation_date": 1557409327, "post_id": 56048325, "comment_id": 98761848, "body": "No problem sharp. @daniherrera I voted on your answer but I would guess that it is based on simplicity to read and understand."}, {"owner": {"reputation": 39156, "user_id": 842935, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/2b3b9d4aa138cb30767b8b1a7a90f027?s=128&d=identicon&r=PG", "display_name": "dani herrera", "link": "https://stackoverflow.com/users/842935/dani-herrera"}, "edited": false, "score": 0, "creation_date": 1557410031, "post_id": 56048325, "comment_id": 98762245, "body": "hi @MyNameIsCaleb, you are so kind. &quot;Simplicity and readability&quot; are the main reasons because is hard to understand to me he/she chose this approach. <code>reduce</code> is simple and readable. Any case, thanks about your up-vote."}, {"owner": {"reputation": 1772, "user_id": 4150078, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/VvMca.png?s=128&g=1", "display_name": "sharp", "link": "https://stackoverflow.com/users/4150078/sharp"}, "reply_to_user": {"reputation": 39156, "user_id": 842935, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/2b3b9d4aa138cb30767b8b1a7a90f027?s=128&d=identicon&r=PG", "display_name": "dani herrera", "link": "https://stackoverflow.com/users/842935/dani-herrera"}, "edited": false, "score": 0, "creation_date": 1557411177, "post_id": 56048325, "comment_id": 98762942, "body": "@daniherrera Thanks guys for pointing it out to me. I am bit new with list comprehension. I tried both of the solution and I found both of them very helpful and working. Unfortunately, I can&#39;t except both answers on stack. For my condition, using &#39;reduce&#39; helped as well after pointing out how simple it is ...going to accept &#39;reduce&#39;. Thanks a lot again!"}], "tags": [], "owner": {"reputation": 4102, "user_id": 10366273, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1c2BX.jpg?s=128&g=1", "display_name": "MyNameIsCaleb", "link": "https://stackoverflow.com/users/10366273/mynameiscaleb"}, "is_accepted": false, "score": 2, "last_activity_date": 1557348500, "last_edit_date": 1557348500, "creation_date": 1557346134, "answer_id": 56048325, "question_id": 56048271, "link": "https://stackoverflow.com/questions/56048271/merge-2-elements-together-if-the-elements-contains/56048325#56048325", "title": "Merge 2 elements together if the elements contains", "body": "<p>I wrote this out so it is simple to understand instead of trying to make it more complex as a list comprehension.</p>\n\n<p>This will work for any number of words until you hit a <code>\\n</code> character and clean up the remainder of your input as well.</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>ls_out = []            # your outgoing ls\nout = ''               # keeps your words to use\nfor i in range(0, len(ls)):\n    if '\\n' in ls[i]:   # check for the ending word, if so, add it to output and reset\n        out += ls[i]\n        ls_out.append(out)\n        out = ''\n    else:                # otherwise add to your current word list\n        out += ls[i]\nif out:   # check for remaining words in out if total ls doesn't end with \\n\n    ls_out.append(out)\n</code></pre>\n\n<p>You may need to add spaces when you string concatenate but I am guessing that it is just with your example.  If you do, make this edit:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>        out += ' ' + ls[i]\n</code></pre>\n\n<p><strong>Edit:</strong><br>\nIf you want to only grab the one before and not multiple before, you could do this:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>ls_out = []\nfor i in range(0, len(ls)):\n    if ls[i].endswith('\\n'):             # check ending only\n        if not ls[i-1].endswith('\\n'):   # check previous string\n            out = ls[i-1] + ' ' + ls[i]  # concatenate together\n        else:\n            out = ls[i]                  # this one does, previous didn't\n    elif ls[i+1].endswith('\\n'):         # next one will grab this so skip\n        continue\n    else:\n        out = ls[i]                      # next one won't so add this one in\n    ls_out.append(out)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2124, "user_id": 8831165, "user_type": "registered", "profile_image": "https://graph.facebook.com/10208994155229891/picture?type=large", "display_name": "Frederik Bode", "link": "https://stackoverflow.com/users/8831165/frederik-bode"}, "is_accepted": false, "score": 0, "last_activity_date": 1557346169, "creation_date": 1557346169, "answer_id": 56048333, "question_id": 56048271, "link": "https://stackoverflow.com/questions/56048271/merge-2-elements-together-if-the-elements-contains/56048333#56048333", "title": "Merge 2 elements together if the elements contains", "body": "<p>Assuming the first element doesn't end with <code>\\n</code> and all words are longer than 2 characters:</p>\n\n<pre><code>res = []\nfor el in ls:\n  if el[-2:] == \"\\n\":\n    res[-1] = res[-1] + el\n  else:\n    res.append(el)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6812, "user_id": 7371893, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ris3Z.png?s=128&g=1", "display_name": "&#226;\u0144\u014d\u014b\u0177Xmo\u016f\u015c", "link": "https://stackoverflow.com/users/7371893/%c3%a2%c5%84%c5%8d%c5%8b%c5%b7xmo%c5%af%c5%9c"}, "is_accepted": false, "score": 0, "last_activity_date": 1557346799, "creation_date": 1557346799, "answer_id": 56048476, "question_id": 56048271, "link": "https://stackoverflow.com/questions/56048271/merge-2-elements-together-if-the-elements-contains/56048476#56048476", "title": "Merge 2 elements together if the elements contains", "body": "<p>Try this:</p>\n\n<pre><code>lst=[]\nfor i in range(len(ls)):\n    if \"\\n\" in ls[i][-1]:\n        lst.append((ls[i-1] + ' ' + ls[i]))\n        lst.remove(ls[i-1])\n    else:\n        lst.append(ls[i])\nlst\n</code></pre>\n\n<p>Result:</p>\n\n<pre><code>['hello world \\n', 'my name is john \\n', 'How are you?', 'I am \\n doing well']\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 39156, "user_id": 842935, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/2b3b9d4aa138cb30767b8b1a7a90f027?s=128&d=identicon&r=PG", "display_name": "dani herrera", "link": "https://stackoverflow.com/users/842935/dani-herrera"}, "is_accepted": true, "score": 2, "last_activity_date": 1557349690, "last_edit_date": 1557349690, "creation_date": 1557348491, "answer_id": 56048833, "question_id": 56048271, "link": "https://stackoverflow.com/questions/56048271/merge-2-elements-together-if-the-elements-contains/56048833#56048833", "title": "Merge 2 elements together if the elements contains", "body": "<p>If you are <strong>reducing</strong> a list, maybe, one <strong>readable</strong> approach is to use <a href=\"https://docs.python.org/3/howto/functional.html\" rel=\"nofollow noreferrer\">reduce</a> function. </p>\n\n<blockquote>\n  <p>functools.reduce(func, iter, [initial_value]) cumulatively performs an operation on all the iterable\u2019s elements and, therefore, can\u2019t be applied to infinite iterables.</p>\n</blockquote>\n\n<p>First of all, you need a kind of struck to accumulate results, I use a tuple with two elements: <strong>buffer with concatenated strings until I found \"\\n\"</strong> and <strong>the list of results</strong>. See <em>initial struct (1)</em>.</p>\n\n<pre><code>ls = ['hello','world \\n','my name','is john \\n','How are you?','I am \\n doing well']\n\ndef combine(x,y):\n    if y.endswith('\\n'):\n        return ( \"\", x[1]+[x[0]+\" \"+y] )  #&lt;-- buffer to list\n    else:\n        return ( x[0]+\" \"+y, x[1] )       #&lt;-- on buffer\n\nt=reduce( combine, ls, (\"\",[]) ) #&lt;-- see initial struct (1)\nt[1]+[t[0]] if t[0] else t[1] #&lt;-- add buffer if not empty\n</code></pre>\n\n<p><strong>Result</strong>:</p>\n\n<pre><code>['hello world \\n', 'my name is john \\n', 'How are you? ', 'I am \\n doing well ']\n</code></pre>\n\n<p>(1) Explained initial struct: you use a tuple to store buffer string until <code>\\n</code> and a list of already cooked strings:</p>\n\n<pre><code>(\"\",[]) \n</code></pre>\n\n<p>Means:</p>\n\n<pre><code>(\"__ buffer string not yet added to list __\", [ __result list ___ ] )\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1772, "user_id": 4150078, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/VvMca.png?s=128&g=1", "display_name": "sharp", "link": "https://stackoverflow.com/users/4150078/sharp"}, "edited": false, "score": 0, "creation_date": 1557354294, "post_id": 56049003, "comment_id": 98740984, "body": "Yes. I just want it merge with previous element if \\n is the element. I dont need to join &#39;I am \\n doing well&#39;. Since \\n is somewhere in middle not end. The ouput that I posted on the question is what I am looking for? Is it possible to do?"}, {"owner": {"reputation": 148, "user_id": 9630797, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/35a9bce24bfd45bd9f0e27a823b2a013?s=128&d=identicon&r=PG&f=1", "display_name": "amrtw09", "link": "https://stackoverflow.com/users/9630797/amrtw09"}, "reply_to_user": {"reputation": 1772, "user_id": 4150078, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/VvMca.png?s=128&g=1", "display_name": "sharp", "link": "https://stackoverflow.com/users/4150078/sharp"}, "edited": false, "score": 0, "creation_date": 1557422670, "post_id": 56049003, "comment_id": 98769195, "body": "I have tweaked my code according to your request. Let me know what you think about it."}], "tags": [], "owner": {"reputation": 148, "user_id": 9630797, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/35a9bce24bfd45bd9f0e27a823b2a013?s=128&d=identicon&r=PG&f=1", "display_name": "amrtw09", "link": "https://stackoverflow.com/users/9630797/amrtw09"}, "is_accepted": false, "score": 1, "last_activity_date": 1557422622, "last_edit_date": 1557422622, "creation_date": 1557349320, "answer_id": 56049003, "question_id": 56048271, "link": "https://stackoverflow.com/questions/56048271/merge-2-elements-together-if-the-elements-contains/56049003#56049003", "title": "Merge 2 elements together if the elements contains", "body": "<p>You can solve it using the regex expression using the 're' module.</p>\n\n<pre><code>import re\nls = ['hello','world \\n','my name','is john \\n','How are you?','I am \\n doing well']\nnew_ls = []\nfor i in range(len(ls)):\n    concat_word = ''                # reset the concat word to ''\n    if re.search(r\"\\n$\", str(ls[i])):      # matching the \\n at the end of the word\n        try:\n            concat_word = str(ls[i-1]) + ' ' + str(ls[i])  # appending to the previous word\n        except:\n            concat_word = str(ls[i])     # in case if the first word in the list has \\n\n        new_ls.append(concat_word)\n    elif re.search(r'\\n',str(ls[i])):      # matching the \\n anywhere in the word\n        concat_word = str(ls[i])  \n        new_ls.extend([str(ls[i-1]), concat_word])   # keeps the word before the \"anywhere\" match separate\nprint(new_ls)\n</code></pre>\n\n<p>This returns the output</p>\n\n<pre><code>['hello world \\n', 'my name is john \\n', 'How are you?', 'I am \\n doing well']\n</code></pre>\n"}], "owner": {"reputation": 1772, "user_id": 4150078, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/VvMca.png?s=128&g=1", "display_name": "sharp", "link": "https://stackoverflow.com/users/4150078/sharp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 122, "favorite_count": 0, "accepted_answer_id": 56048833, "answer_count": 5, "score": 1, "last_activity_date": 1557422622, "creation_date": 1557345878, "last_edit_date": 1557354986, "question_id": 56048271, "link": "https://stackoverflow.com/questions/56048271/merge-2-elements-together-if-the-elements-contains", "title": "Merge 2 elements together if the elements contains", "body": "<p>I have a very messy data I am noticing patterns where ever there is '\\n' end of the element, it needs to be merged with single element before that. </p>\n\n<p>sample list: </p>\n\n<pre><code>ls = ['hello','world \\n','my name','is john \\n','How are you?','I am \\n doing well']\nls\n</code></pre>\n\n<p>return/tryouts: </p>\n\n<pre><code>print([s for s in ls if \"\\n\" in s[-1]])\n&gt;&gt;&gt;    ['world \\n', 'is john \\n'] # gave elements that ends with \\n\n</code></pre>\n\n<p>How do I get it elements that ends with '\\n' merge with 1 before element? Looking for a output like this one: </p>\n\n<pre><code>['hello world \\n', 'my name is john \\n', 'How are you?','I am \\n doing well']\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "recursion", "dependencies", "doit"], "comments": [{"owner": {"reputation": 23130, "user_id": 8586227, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BRnwg.png?s=128&g=1", "display_name": "Davis Herring", "link": "https://stackoverflow.com/users/8586227/davis-herring"}, "edited": false, "score": 0, "creation_date": 1557371312, "post_id": 56048226, "comment_id": 98744327, "body": "You can hook <code>import</code> to learn about every import, even of modules already imported elsewhere.  But this works only as well as your \u201ctest\u201d coverage, since imports can happen (anywhere) inside a function."}], "answers": [{"comments": [{"owner": {"reputation": 45, "user_id": 2304905, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-klodlVlZKRM/AAAAAAAAAAI/AAAAAAAAAO4/YqijLZbA2p0/photo.jpg?sz=128", "display_name": "Roy Smart", "link": "https://stackoverflow.com/users/2304905/roy-smart"}, "edited": false, "score": 0, "creation_date": 1558458354, "post_id": 56081689, "comment_id": 99105129, "body": "of course! Thank you for pointing out <code>import_deps</code>. It seems that <code>import_deps</code> is almost exactly what is needed, except I need the ability to apply it recursively to find all dependent python files. Do you know if <code>import_deps</code> would be straightforward to modify or extend to work recursively?"}, {"owner": {"reputation": 2526, "user_id": 64444, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/88d576a18ff960e17787020cb9b791f7?s=128&d=identicon&r=PG", "display_name": "schettino72", "link": "https://stackoverflow.com/users/64444/schettino72"}, "reply_to_user": {"reputation": 45, "user_id": 2304905, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-klodlVlZKRM/AAAAAAAAAAI/AAAAAAAAAO4/YqijLZbA2p0/photo.jpg?sz=128", "display_name": "Roy Smart", "link": "https://stackoverflow.com/users/2304905/roy-smart"}, "edited": false, "score": 0, "creation_date": 1558497105, "post_id": 56081689, "comment_id": 99115946, "body": "I have implemented it recursively and integrated with <code>doit</code> in <a href=\"https://github.com/pytest-dev/pytest-incremental\" rel=\"nofollow noreferrer\">pytest-incremental</a>. Although I am afraid it is not <i>straightforward</i>..."}], "tags": [], "owner": {"reputation": 2526, "user_id": 64444, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/88d576a18ff960e17787020cb9b791f7?s=128&d=identicon&r=PG", "display_name": "schettino72", "link": "https://stackoverflow.com/users/64444/schettino72"}, "is_accepted": false, "score": 0, "last_activity_date": 1557506487, "creation_date": 1557506487, "answer_id": 56081689, "question_id": 56048226, "link": "https://stackoverflow.com/questions/56048226/how-to-make-a-list-of-the-user-created-python-files-that-a-module-depends-on/56081689#56081689", "title": "How to make a list of the user-created python files that a module depends on?", "body": "<p>doit <a href=\"http://pydoit.org/tutorial_1.html\" rel=\"nofollow noreferrer\">tutorial</a> itself is about creating a graph of python module imports!</p>\n\n<p>It uses <a href=\"https://pypi.org/project/import-deps/\" rel=\"nofollow noreferrer\">import_deps</a> package, it is similar to <em>snakefood</em>.</p>\n\n<p>Note that for your use-case you will need to modify <code>file_dep</code> itself during Task action's execution. To achieve that you need to pass the <code>task</code> parameter to your action (as described <a href=\"http://pydoit.org/tasks.html#keywords-with-task-metadata\" rel=\"nofollow noreferrer\">here</a>).</p>\n"}], "owner": {"reputation": 45, "user_id": 2304905, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-klodlVlZKRM/AAAAAAAAAAI/AAAAAAAAAO4/YqijLZbA2p0/photo.jpg?sz=128", "display_name": "Roy Smart", "link": "https://stackoverflow.com/users/2304905/roy-smart"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 102, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1557506487, "creation_date": 1557345696, "last_edit_date": 1557346789, "question_id": 56048226, "link": "https://stackoverflow.com/questions/56048226/how-to-make-a-list-of-the-user-created-python-files-that-a-module-depends-on", "title": "How to make a list of the user-created python files that a module depends on?", "body": "<p>I am interested in using <a href=\"http://pydoit.org/\" rel=\"nofollow noreferrer\"><code>doit</code></a> to automate the build process of a python package.\nIf possible, I would like <code>doit</code> to re-execute a task if any of the user-created source files it depends on have changed.\nFrom my understanding, the best way to accomplish this would be to use the <code>file_dep</code> key and a list of the dependent source files, however I am having a lot of trouble generating this list.</p>\n\n<p>I've tried using <code>sys.modules</code> and <code>inspect.getmembers()</code>, but these solutions can't deal with import statements that do not import a module, such as <code>from x import Y</code>, which is unfortunately a common occurrence in the package I am developing.</p>\n\n<p>Another route I investigated was to use the <a href=\"http://furius.ca/snakefood/\" rel=\"nofollow noreferrer\"><code>snakefood</code></a> tool, which initially looks like it would do exactly what I wanted, generate a list of file dependencies for every file in a given path. \nUnfortunately, this tool seems to have limited Python 3 support, making it useless for my package.</p>\n\n<p>Does anyone have any insight into how to get <code>snakefood</code>-like features in Python 3, or is the only option to change all of my source code to only import modules?</p>\n"}, {"tags": ["python", "mysql", "json"], "answers": [{"tags": [], "owner": {"reputation": 79, "user_id": 4202236, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-VJiZ7XJ7Ihs/AAAAAAAAAAI/AAAAAAAAAFg/Fz5dq7wtH1g/photo.jpg?sz=128", "display_name": "user4202236", "link": "https://stackoverflow.com/users/4202236/user4202236"}, "is_accepted": false, "score": 0, "last_activity_date": 1557346500, "creation_date": 1557346500, "answer_id": 56048413, "question_id": 56048203, "link": "https://stackoverflow.com/questions/56048203/get-json-from-database-in-a-special-way/56048413#56048413", "title": "get json from database In a special way", "body": "<p>You will have to write another function that parses your sql output into the json format. something like this: </p>\n\n<pre><code>def json_parser(sql_data):\n    data_dict = {}\n    list_of_rows = []\n    for record in sql_data:\n       dict1 = {}\n       dict1['id'] = record[0] \n       dict1['sample'] = record[1] \n       dict1['Price'] = record[2]\n       dict1['name'] = record[3]\n       list_of_rows.append(dict1)\n    data_dict['data'] = list_of_rows\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 9003538, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/--0RrywxP-qo/AAAAAAAAAAI/AAAAAAAAAAs/UjCX2pj6Hio/photo.jpg?sz=128", "display_name": "ali jahani", "link": "https://stackoverflow.com/users/9003538/ali-jahani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 42, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1557346524, "creation_date": 1557345613, "question_id": 56048203, "link": "https://stackoverflow.com/questions/56048203/get-json-from-database-in-a-special-way", "title": "get json from database In a special way", "body": "<p>i use python and mysql.connector\nthis is my code</p>\n\n<pre><code> mycursor = mydb.cursor()\nmycursor.execute(\"SELECT * FROM table\")\nmyresult = mycursor.fetchall();\njson_data=[] \nfor x in myresult:\n    json_data.append(x)\nprint(json.dumps(json_data))# CREATE JSON\n</code></pre>\n\n<p>and get me result :</p>\n\n<pre><code>[[1, 61, 8585, \"80000000\"], [3, 61, 5151, \"200\"], [4, 61, 8585, \"20\"]]\n</code></pre>\n\n<p>but i need this :</p>\n\n<pre><code>{\n    \"data\": [\n        {\n            \"id\": \"1\",\n            \"sample\": \"61\",\n            \"Price\": \"80000000\",\n            \"name\": \"----\"\n        },\n        {\n            \"id\": \"3\",\n            \"sample\": \"61\",\n            \"Price\": \"200\",\n            \"name\": \"ali\"\n\n        }\n    ]\n}\n</code></pre>\n\n<p>what can i do ?\nThanks for help :) </p>\n"}, {"tags": ["python", "api", "gmail-api", "google-developer-tools"], "comments": [{"owner": {"reputation": 3042, "user_id": 8342742, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EMVCJ.jpg?s=128&g=1", "display_name": "M\u03b1\u03c0\u03bcQ\u03bc\u03b1\u03c0k\u03b3V\u03c0.0", "link": "https://stackoverflow.com/users/8342742/m%ce%b1%cf%80%ce%bcq%ce%bc%ce%b1%cf%80k%ce%b3v%cf%80-0"}, "edited": false, "score": 1, "creation_date": 1557384649, "post_id": 56048196, "comment_id": 98748160, "body": "Please <a href=\"http://stackoverflow.com/posts/56048196/edit\">edit</a> the question to be on-topic: include a <a href=\"http://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable example</a> that duplicates the problem. Questions seeking debugging help (&quot;why isn&#39;t this code working the way I want?&quot;) must include: (1) the desired behavior, (2) a specific problem or error and (3) the shortest code necessary to reproduce it in the question itself. Please also see: <a href=\"http://stackoverflow.com/help/on-topic\">What topics can I ask about here?</a>, and <a href=\"http://stackoverflow.com/help/how-to-ask\">How to Ask</a>"}], "answers": [{"tags": [], "owner": {"reputation": 9460, "user_id": 11551468, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5ZwJZ.jpg?s=128&g=1", "display_name": "Rafa Guillermo", "link": "https://stackoverflow.com/users/11551468/rafa-guillermo"}, "is_accepted": false, "score": 0, "last_activity_date": 1560422968, "creation_date": 1560422968, "answer_id": 56578828, "question_id": 56048196, "link": "https://stackoverflow.com/questions/56048196/verify-pending-forwarding-address-with-confirmation-code-in-gmail-api/56578828#56578828", "title": "Verify pending forwarding address with confirmation code in Gmail API", "body": "<p>According to the GMail API documentation, if GMail requires verification for a forwarding address, <a href=\"https://developers.google.com/gmail/api/guides/forwarding_settings\" rel=\"nofollow noreferrer\">a verification message is sent to the target email address and returned status is 'pending'</a>. The owner of the target email address must complete the verification process before it can be used.</p>\n\n<p>Unfortunately, the GMail API does not have a verify method for forwarding addresses. The list of methods and paramaters for the Users.settings.forwardingAddresses method can be found <a href=\"https://developers.google.com/gmail/api/v1/reference/users/settings/forwardingAddresses\" rel=\"nofollow noreferrer\">here</a> where it details that on call of <code>forwardingAddresses.create(args)</code>:</p>\n\n<p>\"...if ownership verification is required, a message will be sent to the recipient and the resource's verification status will be set to <code>pending</code>; otherwise, the resource will be created with verification status set to <code>accepted</code>. </p>\n"}], "owner": {"reputation": 41, "user_id": 11472024, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-6ASlVvUHtfw/AAAAAAAAAAI/AAAAAAAAABc/aOx7cylNWSs/photo.jpg?sz=128", "display_name": "Andrea", "link": "https://stackoverflow.com/users/11472024/andrea"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 193, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1560439957, "creation_date": 1557345577, "last_edit_date": 1560439957, "question_id": 56048196, "link": "https://stackoverflow.com/questions/56048196/verify-pending-forwarding-address-with-confirmation-code-in-gmail-api", "title": "Verify pending forwarding address with confirmation code in Gmail API", "body": "<p>I'm creating a forwarding address for my Gmail account with Gmail API. I know that if function </p>\n\n<pre><code>service.users().settings().forwardingAddresses().create(userId='me', body=address).execute()\n</code></pre>\n\n<p>returns a result with a <code>verificationStatus</code> of <code>pending</code>, the recipient has to verify the email with a link or a verification code.</p>\n\n<p>I can enter the verification code <a href=\"https://i.stack.imgur.com/D8Bzd.png\" rel=\"nofollow noreferrer\">here</a> in Gmail <code>Settings&gt;Forwarding</code> , but is there a way where I can enter the verification code with the Gmail API?</p>\n"}, {"tags": ["python", "django", "server", "production-environment"], "comments": [{"owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 0, "creation_date": 1557345912, "post_id": 56048193, "comment_id": 98738032, "body": "What does the error log say?"}, {"owner": {"reputation": 1, "user_id": 11058851, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-53zqgXiGF3g/AAAAAAAAAAI/AAAAAAAAABg/8SN87KiryMc/photo.jpg?sz=128", "display_name": "Sadiq Muhammed", "link": "https://stackoverflow.com/users/11058851/sadiq-muhammed"}, "reply_to_user": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 0, "creation_date": 1557405707, "post_id": 56048193, "comment_id": 98759737, "body": "review the question"}, {"owner": {"reputation": 4837, "user_id": 9769953, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f14a586643a20c8d68010f7a329f5a04?s=128&d=identicon&r=PG", "display_name": "0 0", "link": "https://stackoverflow.com/users/9769953/0-0"}, "edited": false, "score": 0, "creation_date": 1557405814, "post_id": 56048193, "comment_id": 98759819, "body": "Please use a code block for ascii text output such as a logfile. Quoted text is unreadable for output like this."}, {"owner": {"reputation": 4837, "user_id": 9769953, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f14a586643a20c8d68010f7a329f5a04?s=128&d=identicon&r=PG", "display_name": "0 0", "link": "https://stackoverflow.com/users/9769953/0-0"}, "edited": false, "score": 0, "creation_date": 1557405882, "post_id": 56048193, "comment_id": 98759860, "body": "Does it work in production mode with the development server?"}, {"owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 0, "creation_date": 1557406011, "post_id": 56048193, "comment_id": 98759928, "body": "What is line 3 of levels/models.py?"}, {"owner": {"reputation": 1, "user_id": 11058851, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-53zqgXiGF3g/AAAAAAAAAAI/AAAAAAAAABg/8SN87KiryMc/photo.jpg?sz=128", "display_name": "Sadiq Muhammed", "link": "https://stackoverflow.com/users/11058851/sadiq-muhammed"}, "edited": false, "score": 0, "creation_date": 1557407006, "post_id": 56048193, "comment_id": 98760484, "body": "yes it&#39;s working in production mode with development server"}, {"owner": {"reputation": 1, "user_id": 11058851, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-53zqgXiGF3g/AAAAAAAAAAI/AAAAAAAAABg/8SN87KiryMc/photo.jpg?sz=128", "display_name": "Sadiq Muhammed", "link": "https://stackoverflow.com/users/11058851/sadiq-muhammed"}, "edited": false, "score": 0, "creation_date": 1557407164, "post_id": 56048193, "comment_id": 98760570, "body": "line3 of levels/models.py : class Story(models.Model):"}], "owner": {"reputation": 1, "user_id": 11058851, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-53zqgXiGF3g/AAAAAAAAAAI/AAAAAAAAABg/8SN87KiryMc/photo.jpg?sz=128", "display_name": "Sadiq Muhammed", "link": "https://stackoverflow.com/users/11058851/sadiq-muhammed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 943, "favorite_count": 2, "answer_count": 0, "score": 0, "last_activity_date": 1557405986, "creation_date": 1557345560, "last_edit_date": 1557405986, "question_id": 56048193, "link": "https://stackoverflow.com/questions/56048193/my-django-website-says-were-sorry-but-something-went-wrong-in-production", "title": "my django website says &quot;We&#39;re sorry, but something went wrong&quot; in production", "body": "<p>my django website was working in debuging mode but when I put it on the server and turned it to production mode, my website shows me the error:</p>\n\n<blockquote>\n  <p>We're sorry, but something went wrong. The issue has been logged for\n  investigation. Please try again later.</p>\n</blockquote>\n\n<p>I have checked out my settings, my passenger_wsgi.py file and I wrote it it this line</p>\n\n<pre><code>from myproject.wsgi import application\n</code></pre>\n\n<p>and also run the followed commands </p>\n\n<pre><code>python manage.py collectstatic\npython manage.py migrate\npython manage.py makemigrations\n</code></pre>\n\n<p>cpanel Error log says </p>\n\n<pre><code>[ E 2019-05-09 08:11:44.4868 967877/T1m age/Cor/App/Implementation.cpp:221 ]: Could not spawn process for application /home/muntadar/creepy-surprise: The application process exited prematurely.\n App 978910 output:\n   File \"/home/muntadar/virtualenv/creepy-surprise/3.7/lib/python3.7/site-packages/django/db/backends/sqlite3/base.py\", line 63, in check_sqlite_version\n App 978910 output:\n   File \"/home/muntadar/virtualenv/creepy-surprise/3.7/lib/python3.7/site-packages/django/db/backends/sqlite3/base.py\", line 66, in &lt;module&gt;\n App 978910 output:\n   File \"/home/muntadar/virtualenv/creepy-surprise/3.7/lib64/python3.7/importlib/__init__.py\", line 127, in import_module\n App 978910 output:\n   File \"/home/muntadar/virtualenv/creepy-surprise/3.7/lib/python3.7/site-packages/django/db/utils.py\", line 110, in load_backend\n App 978910 output:\n   File \"/home/muntadar/virtualenv/creepy-surprise/3.7/lib/python3.7/site-packages/django/db/utils.py\", line 201, in __getitem__\n App 978910 output:\n   File \"/home/muntadar/virtualenv/creepy-surprise/3.7/lib/python3.7/site-packages/django/db/__init__.py\", line 28, in __getattr__\n App 978910 output:\n   File \"/home/muntadar/virtualenv/creepy-surprise/3.7/lib/python3.7/site-packages/django/db/models/options.py\", line 204, in contribute_to_class\n App 978910 output:\n   File \"/home/muntadar/virtualenv/creepy-surprise/3.7/lib/python3.7/site-packages/django/db/models/base.py\", line 321, in add_to_class\n App 978910 output:\n   File \"/home/muntadar/virtualenv/creepy-surprise/3.7/lib/python3.7/site-packages/django/db/models/base.py\", line 117, in __new__\n App 978910 output:\n   File \"/home/muntadar/creepy-surprise/levels/models.py\", line 3, in &lt;module&gt;\n App 978910 output:\n   File \"/home/muntadar/virtualenv/creepy-surprise/3.7/lib64/python3.7/importlib/__init__.py\", line 127, in import_module\n App 978910 output:\n   File \"/home/muntadar/virtualenv/creepy-surprise/3.7/lib/python3.7/site-packages/django/apps/config.py\", line 211, in import_models\n App 978910 output:\n   File \"/home/muntadar/virtualenv/creepy-surprise/3.7/lib/python3.7/site-packages/django/apps/registry.py\", line 114, in populate\n App 978910 output:\n   File \"/home/muntadar/virtualenv/creepy-surprise/3.7/lib/python3.7/site-packages/django/__init__.py\", line 24, in setup\n App 978910 output:\n   File \"/home/muntadar/virtualenv/creepy-surprise/3.7/lib/python3.7/site-packages/django/core/wsgi.py\", line 12, in get_wsgi_application\n App 978910 output:\n   File \"/home/muntadar/creepy-surprise/creepy_surprise/wsgi.py\", line 7, in &lt;module&gt;\n App 978910 output:\n   File \"/home/muntadar/creepy-surprise/passenger_wsgi.py\", line 1, in &lt;module&gt;\n App 978910 output:\n   File \"/home/muntadar/virtualenv/creepy-surprise/3.7/lib64/python3.7/imp.py\", line 171, in load_source\n [ E 2019-05-08 20:20:46.4873 828707/T1r age/Cor/App/Implementation.cpp:221 ]: Could not spawn process for application /home/muntadar/creepy-surprise: The application process exited prematurely.\n App 885800 output:\n   File \"/home/muntadar/virtualenv/creepy-surprise/3.7/lib/python3.7/site-packages/django/db/backends/sqlite3/base.py\", line 63, in check_sqlite_version\n App 885800 output:\n   File \"/home/muntadar/virtualenv/creepy-surprise/3.7/lib/python3.7/site-packages/django/db/backends/sqlite3/base.py\", line 66, in &lt;module&gt;\n App 885800 output:\n   File \"/home/muntadar/virtualenv/creepy-surprise/3.7/lib64/python3.7/importlib/__init__.py\", line 127, in import_module\n App 885800 output:\n   File \"/home/muntadar/virtualenv/creepy-surprise/3.7/lib/python3.7/site-packages/django/db/utils.py\", line 110, in load_backend\n App 885800 output:\n   File \"/home/muntadar/virtualenv/creepy-surprise/3.7/lib/python3.7/site-packages/django/db/utils.py\", line 201, in __getitem__\n App 885800 output:\n   File \"/home/muntadar/virtualenv/creepy-surprise/3.7/lib/python3.7/site-packages/django/db/__init__.py\", line 28, in __getattr__\n App 885800 output:\n   File \"/home/muntadar/virtualenv/creepy-surprise/3.7/lib/python3.7/site-packages/django/db/models/options.py\", line 204, in contribute_to_class\n App 885800 output:\n   File \"/home/muntadar/virtualenv/creepy-surprise/3.7/lib/python3.7/site-packages/django/db/models/base.py\", line 321, in add_to_class\n App 885800 output:\n   File \"/home/muntadar/virtualenv/creepy-surprise/3.7/lib/python3.7/site-packages/django/db/models/base.py\", line 117, in __new__\n App 885800 output:\n   File \"/home/muntadar/creepy-surprise/levels/models.py\", line 3, in &lt;module&gt;\n App 885800 output:\n   File \"/home/muntadar/virtualenv/creepy-surprise/3.7/lib64/python3.7/importlib/__init__.py\", line 127, in import_module\n App 885800 output:\n   File \"/home/muntadar/virtualenv/creepy-surprise/3.7/lib/python3.7/site-packages/django/apps/config.py\", line 211, in import_models\n App 885800 output:\n   File \"/home/muntadar/virtualenv/creepy-surprise/3.7/lib/python3.7/site-packages/django/apps/registry.py\", line 114, in populate\n App 885800 output:\n   File \"/home/muntadar/virtualenv/creepy-surprise/3.7/lib/python3.7/site-packages/django/__init__.py\", line 24, in setup\n App 885800 output:\n   File \"/home/muntadar/virtualenv/creepy-surprise/3.7/lib/python3.7/site-packages/django/core/wsgi.py\", line 12, in get_wsgi_application\n App 885800 output:\n   File \"/home/muntadar/creepy-surprise/creepy_surprise/wsgi.py\", line 7, in &lt;module&gt;\n App 885800 output:\n   File \"/home/muntadar/creepy-surprise/passenger_wsgi.py\", line 1, in &lt;module&gt;\n App 885800 output:\n   File \"/home/muntadar/virtualenv/creepy-surprise/3.7/lib64/python3.7/imp.py\", line 171, in load_source\n</code></pre>\n\n<p>and the problem still exist\nwhat else can I do?</p>\n\n<p>.</p>\n"}]