[{"tags": ["python", "django", "humanize"], "answers": [{"comments": [{"owner": {"reputation": 8395, "user_id": 3945375, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/DE10z.jpg?s=128&g=1", "display_name": "Gocht", "link": "https://stackoverflow.com/users/3945375/gocht"}, "edited": false, "score": 0, "creation_date": 1441243789, "post_id": 32365049, "comment_id": 52603489, "body": "This sounds pro, I like it. But when I update the code in the production server, will this take effect? What if I take the <code>humanize.py</code> and rewrite the involved code?"}, {"owner": {"reputation": 2952, "user_id": 5244995, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CPafo.png?s=128&g=1", "display_name": "Jed Fox", "link": "https://stackoverflow.com/users/5244995/jed-fox"}, "reply_to_user": {"reputation": 8395, "user_id": 3945375, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/DE10z.jpg?s=128&g=1", "display_name": "Gocht", "link": "https://stackoverflow.com/users/3945375/gocht"}, "edited": false, "score": 0, "creation_date": 1441275014, "post_id": 32365049, "comment_id": 52616677, "body": "If you update <code>humanize.py</code>, it will invalidate the translation files because you have changed the <code>msgid</code> text.. This should probably take effect on the production server if you run <code>manage.py compilemessages</code> unless you are using caches. If you are using caches, you may have to wait for them to expire."}, {"owner": {"reputation": 2952, "user_id": 5244995, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CPafo.png?s=128&g=1", "display_name": "Jed Fox", "link": "https://stackoverflow.com/users/5244995/jed-fox"}, "reply_to_user": {"reputation": 8395, "user_id": 3945375, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/DE10z.jpg?s=128&g=1", "display_name": "Gocht", "link": "https://stackoverflow.com/users/3945375/gocht"}, "edited": false, "score": 0, "creation_date": 1441293492, "post_id": 32365049, "comment_id": 52629608, "body": "<code>.mo</code> files are compiled translations that are not meant to be edited. A <code>.po</code> file contains, for each translation, a line starting with <code>msgid</code> that is the text in the translation function, and a line starting with <code>msgstr</code> that is the translated version. There are also more complicated syntaxes for different things, including pluralization."}, {"owner": {"reputation": 8395, "user_id": 3945375, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/DE10z.jpg?s=128&g=1", "display_name": "Gocht", "link": "https://stackoverflow.com/users/3945375/gocht"}, "edited": false, "score": 0, "creation_date": 1441294562, "post_id": 32365049, "comment_id": 52630342, "body": "So if I modifiy something I could broken translations or pluralizations..?"}, {"owner": {"reputation": 2952, "user_id": 5244995, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CPafo.png?s=128&g=1", "display_name": "Jed Fox", "link": "https://stackoverflow.com/users/5244995/jed-fox"}, "reply_to_user": {"reputation": 8395, "user_id": 3945375, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/DE10z.jpg?s=128&g=1", "display_name": "Gocht", "link": "https://stackoverflow.com/users/3945375/gocht"}, "edited": false, "score": 0, "creation_date": 1441300186, "post_id": 32365049, "comment_id": 52633732, "body": "Only if you changed the text in the translation strings (<a href=\"https://github.com/django/django/blob/master/django/contrib/humanize/templatetags/humanize.py#L235-L239\" rel=\"nofollow noreferrer\">example</a>)."}, {"owner": {"reputation": 8395, "user_id": 3945375, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/DE10z.jpg?s=128&g=1", "display_name": "Gocht", "link": "https://stackoverflow.com/users/3945375/gocht"}, "edited": false, "score": 0, "creation_date": 1441300738, "post_id": 32365049, "comment_id": 52634023, "body": "I like your solution, but I am not sure the future consequences."}, {"owner": {"reputation": 2952, "user_id": 5244995, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CPafo.png?s=128&g=1", "display_name": "Jed Fox", "link": "https://stackoverflow.com/users/5244995/jed-fox"}, "reply_to_user": {"reputation": 8395, "user_id": 3945375, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/DE10z.jpg?s=128&g=1", "display_name": "Gocht", "link": "https://stackoverflow.com/users/3945375/gocht"}, "edited": false, "score": 0, "creation_date": 1441303970, "post_id": 32365049, "comment_id": 52635786, "body": "What do you mean by \u201cfuture consequences?\u201d"}, {"owner": {"reputation": 8395, "user_id": 3945375, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/DE10z.jpg?s=128&g=1", "display_name": "Gocht", "link": "https://stackoverflow.com/users/3945375/gocht"}, "edited": false, "score": 0, "creation_date": 1441308832, "post_id": 32365049, "comment_id": 52638602, "body": "<code>django&#47;contrib&#47;humanize&#47;locale&#47;&lt;your language&gt;&#47;LC_MESSAGES&#47;django.po</code> is not tracked by git. I have to do the same in my server?"}, {"owner": {"reputation": 2952, "user_id": 5244995, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CPafo.png?s=128&g=1", "display_name": "Jed Fox", "link": "https://stackoverflow.com/users/5244995/jed-fox"}, "reply_to_user": {"reputation": 8395, "user_id": 3945375, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/DE10z.jpg?s=128&g=1", "display_name": "Gocht", "link": "https://stackoverflow.com/users/3945375/gocht"}, "edited": false, "score": 0, "creation_date": 1441315800, "post_id": 32365049, "comment_id": 52642126, "body": "What do you mean by \u201cnot tracked by git?\u201d If you are using the GitHub repo, the URL for the English one is <a href=\"https://github.com/django/django/blob/master/django/contrib/humanize/locale/en/LC_MESSAGES/django.po\" rel=\"nofollow noreferrer\">django/django/blob/master/django/contrib/humanize/locale/en/&zwnj;&#8203;LC_MESSAGES/django.p&zwnj;&#8203;o</a>"}, {"owner": {"reputation": 8395, "user_id": 3945375, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/DE10z.jpg?s=128&g=1", "display_name": "Gocht", "link": "https://stackoverflow.com/users/3945375/gocht"}, "edited": false, "score": 0, "creation_date": 1441315949, "post_id": 32365049, "comment_id": 52642202, "body": "I mean, you suggest I modify a django file, but those files are not the same that in my production server, because in my prod. server there&#39;s another django installation, so I would have to do the same modification in my prod. server, right?"}, {"owner": {"reputation": 2952, "user_id": 5244995, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CPafo.png?s=128&g=1", "display_name": "Jed Fox", "link": "https://stackoverflow.com/users/5244995/jed-fox"}, "reply_to_user": {"reputation": 8395, "user_id": 3945375, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/DE10z.jpg?s=128&g=1", "display_name": "Gocht", "link": "https://stackoverflow.com/users/3945375/gocht"}, "edited": false, "score": 0, "creation_date": 1441316040, "post_id": 32365049, "comment_id": 52642231, "body": "Yes. you would also have to modify the production server\u2019s installation."}, {"owner": {"reputation": 8395, "user_id": 3945375, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/DE10z.jpg?s=128&g=1", "display_name": "Gocht", "link": "https://stackoverflow.com/users/3945375/gocht"}, "edited": false, "score": 0, "creation_date": 1441316290, "post_id": 32365049, "comment_id": 52642323, "body": "And every new installation... And if Django changes something could stop working."}, {"owner": {"reputation": 8395, "user_id": 3945375, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/DE10z.jpg?s=128&g=1", "display_name": "Gocht", "link": "https://stackoverflow.com/users/3945375/gocht"}, "edited": false, "score": 0, "creation_date": 1441318616, "post_id": 32365049, "comment_id": 52643164, "body": "Wow, it looks nice and makes sense. Should I copy the lines that you highlighted or the complete file?"}, {"owner": {"reputation": 2952, "user_id": 5244995, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CPafo.png?s=128&g=1", "display_name": "Jed Fox", "link": "https://stackoverflow.com/users/5244995/jed-fox"}, "reply_to_user": {"reputation": 8395, "user_id": 3945375, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/DE10z.jpg?s=128&g=1", "display_name": "Gocht", "link": "https://stackoverflow.com/users/3945375/gocht"}, "edited": false, "score": 0, "creation_date": 1441319133, "post_id": 32365049, "comment_id": 52643302, "body": "If you just want to customize <code>naturaltime</code>, those lines will suffice."}, {"owner": {"reputation": 8395, "user_id": 3945375, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/DE10z.jpg?s=128&g=1", "display_name": "Gocht", "link": "https://stackoverflow.com/users/3945375/gocht"}, "edited": false, "score": 0, "creation_date": 1441320749, "post_id": 32365049, "comment_id": 52643771, "body": "I can not give it a try right now, because I am working in other issue, but I will and accept it if it works. Thank you for your patience and support."}], "tags": [], "owner": {"reputation": 2952, "user_id": 5244995, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CPafo.png?s=128&g=1", "display_name": "Jed Fox", "link": "https://stackoverflow.com/users/5244995/jed-fox"}, "is_accepted": false, "score": 3, "last_activity_date": 1441317394, "last_edit_date": 1441317394, "creation_date": 1441238644, "answer_id": 32365049, "question_id": 32364980, "link": "https://stackoverflow.com/questions/32364980/d-instead-of-days-in-django-naturaltime/32365049#32365049", "title": "&#39;d&#39; instead of &#39;days&#39; in Django naturaltime", "body": "<p>Probably the best way to do this would be to \u201clocalize\u201d the names. <s>You might want to look at the <a href=\"https://github.com/django/django/blob/master/django/contrib/humanize/templatetags/humanize.py\" rel=\"nofollow\">source of <code>django.contrib.humanize</code></a>. To translate, <strong>back up</strong> and change the file at <code>django/contrib/humanize/locale/&lt;your language&gt;/LC_MESSAGES/django.po</code>, particularly starting at line 240. Then, run <code>manage.py compilemessages</code> to update the <code>.mo</code> files.</s></p>\n\n<h3>EDIT:</h3>\n\n<p>An alternate way to do this is without altering the Django installation is:</p>\n\n<ol>\n<li><p>Add the following lines to <code>settings.py</code>, unless you have already done so:</p>\n\n<pre><code>LOCALE_PATHS = (\n    \"/path/to/my/project/locale/\",\n)\n</code></pre></li>\n<li><p>Add a subdirectory called <code>en</code> to the above path</p></li>\n<li>Add a file called <code>django.po</code> to the <code>en</code> directory you just created.</li>\n<li>Paste the <a href=\"https://github.com/django/django/blob/master/django/contrib/humanize/locale/en/LC_MESSAGES/django.po#L238-L307\" rel=\"nofollow\">contents of the <code>naturaltime</code> translations</a> into the file.</li>\n<li>Change them to your liking.</li>\n<li>Run <code>manage.py compilemessages</code> to update the <code>.mo</code> files <em>from the directory that</em> <code>manage.py</code> <em>is in</em>, then wait for the changes to propagate.</li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 26911, "user_id": 225262, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/10f7602ff38f6486cb1580052746fc05?s=128&d=identicon&r=PG", "display_name": "satoru", "link": "https://stackoverflow.com/users/225262/satoru"}, "is_accepted": false, "score": 0, "last_activity_date": 1441238994, "creation_date": 1441238994, "answer_id": 32365094, "question_id": 32364980, "link": "https://stackoverflow.com/questions/32364980/d-instead-of-days-in-django-naturaltime/32365094#32365094", "title": "&#39;d&#39; instead of &#39;days&#39; in Django naturaltime", "body": "<p>It doesn't seem like something you can customise:</p>\n\n<p><a href=\"https://github.com/django/django/blob/master/django/contrib/humanize/templatetags/humanize.py#L189\" rel=\"nofollow\">https://github.com/django/django/blob/master/django/contrib/humanize/templatetags/humanize.py#L189</a></p>\n"}, {"comments": [{"owner": {"reputation": 8395, "user_id": 3945375, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/DE10z.jpg?s=128&g=1", "display_name": "Gocht", "link": "https://stackoverflow.com/users/3945375/gocht"}, "edited": false, "score": 0, "creation_date": 1441243658, "post_id": 32365142, "comment_id": 52603463, "body": "Yes, thanks, I found it but I think it is not being maintained anymore."}, {"owner": {"reputation": 8395, "user_id": 3945375, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/DE10z.jpg?s=128&g=1", "display_name": "Gocht", "link": "https://stackoverflow.com/users/3945375/gocht"}, "edited": false, "score": 0, "creation_date": 1441292601, "post_id": 32365142, "comment_id": 52628999, "body": "Also, this is a template tag."}], "tags": [], "owner": {"reputation": 565, "user_id": 3927604, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kF0p2.jpg?s=128&g=1", "display_name": "kanatti", "link": "https://stackoverflow.com/users/3927604/kanatti"}, "is_accepted": false, "score": 1, "last_activity_date": 1441239319, "creation_date": 1441239319, "answer_id": 32365142, "question_id": 32364980, "link": "https://stackoverflow.com/questions/32364980/d-instead-of-days-in-django-naturaltime/32365142#32365142", "title": "&#39;d&#39; instead of &#39;days&#39; in Django naturaltime", "body": "<p>You can try this shortnaturaltime filter. \n<a href=\"https://github.com/ollieglass/django-shortnaturaltime\" rel=\"nofollow\">https://github.com/ollieglass/django-shortnaturaltime</a></p>\n"}], "owner": {"reputation": 8395, "user_id": 3945375, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/DE10z.jpg?s=128&g=1", "display_name": "Gocht", "link": "https://stackoverflow.com/users/3945375/gocht"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 362, "favorite_count": 1, "answer_count": 3, "score": 1, "last_activity_date": 1441317394, "creation_date": 1441238207, "question_id": 32364980, "link": "https://stackoverflow.com/questions/32364980/d-instead-of-days-in-django-naturaltime", "title": "&#39;d&#39; instead of &#39;days&#39; in Django naturaltime", "body": "<p>I'm workin in a mobile application with DRF as backend and using <code>naturaltime</code> built-in function, but since this is a mobile app, screen space is a big problem (atleast for me). So for an arbitrary date I get:</p>\n\n<pre><code>\"1 week, 2 days ago\"\n</code></pre>\n\n<p>Which is nice, but I wonder if it is possible get</p>\n\n<pre><code>\"1w, 2d ago\"\n</code></pre>\n\n<p>I know I could replace words in string, but I hope there's a better way. Any suggestion? Thanks!</p>\n"}, {"tags": ["python", "svg", "unicode", "fonts", "fontforge"], "owner": {"reputation": 23, "user_id": 4620661, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6cee6c51ed3561d002a43c7831226af?s=128&d=identicon&r=PG&f=1", "display_name": "Dom Noble", "link": "https://stackoverflow.com/users/4620661/dom-noble"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 267, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1441245550, "creation_date": 1441238186, "last_edit_date": 1441245550, "question_id": 32364977, "link": "https://stackoverflow.com/questions/32364977/extract-all-svg-between-two-unicode-values-fontforge", "title": "Extract all SVG between two unicode values fontforge", "body": "<p>So I have a font that i made a while back din't do very much of anything with it at the time, i lost a few of the original SVGs when i have reinstalled the OS on my computer, The font is full unicode with lots of characters, all the icons saved in the font are outside the normal character range, i know it is possible to extract a bunch of SVG from the font using this command  </p>\n\n<pre><code>fontforge -lang=ff -c 'Open($1); SelectWorthOutputting(); foreach Export(\"svg\"); endloop;' Typeface.ttf\n</code></pre>\n\n<p>and </p>\n\n<pre><code>fontforge -lang=ff -c 'Open($1); SelectAll(); foreach Export(\"svg\"); endloop;' Typeface.ttf\n</code></pre>\n\n<p>However the first misses the icons completely, and the second is no different. all the icons are between two points in the file starting at <code>U+e000</code> and going through to <code>U+e17d</code> i want to know how i can extract all the icons between these two points. and if possible match with a namelist.txt for naming.</p>\n"}, {"tags": ["python", "algorithm", "function", "python-3.x", "recursion"], "answers": [{"comments": [{"owner": {"reputation": 113073, "user_id": 141555, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/oOW8R.jpg?s=128&g=1", "display_name": "sberry", "link": "https://stackoverflow.com/users/141555/sberry"}, "edited": false, "score": 0, "creation_date": 1441238368, "post_id": 32364989, "comment_id": 52602362, "body": "Probably want to fix the typo you copied / pasted from OP.  <code>&#39;&#39;.join()</code> instead of <code>&#39;&#39;join.()</code>"}], "tags": [], "owner": {"reputation": 262567, "user_id": 748858, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/17gYz.png?s=128&g=1", "display_name": "mgilson", "link": "https://stackoverflow.com/users/748858/mgilson"}, "is_accepted": true, "score": 1, "last_activity_date": 1441238386, "last_edit_date": 1441238386, "creation_date": 1441238239, "answer_id": 32364989, "question_id": 32364952, "link": "https://stackoverflow.com/questions/32364952/scrambling-strings-with-random-shuffle-in-python-3-x/32364989#32364989", "title": "Scrambling strings with random.shuffle in Python 3.x", "body": "<p>If you're hitting the recursion limit, then it's likely that you're trying to scramble a 1-character word.  However, it's quite easy to remove the recursion in this problem ...:</p>\n\n<pre><code>def _scrambler(word):\n    word_to_scramble = list(word)\n    random.shuffle(word_to_scramble)\n    new_word = ''.join(word_to_scramble)\n    return new_word\n\ndef scrambler(word):\n   new_word = _scrambler(word)\n   while new_word == word and len(word) &gt; 1:\n       new_word = _scrambler(word)\n   return new_word\n</code></pre>\n\n<p>I've added a <code>len(word) &gt; 1</code> check so this should eventually give you a different word than what you put in if it is possible to do so.</p>\n"}, {"tags": [], "owner": {"reputation": 28, "user_id": 4371848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oQlGq.jpg?s=128&g=1", "display_name": "Amin Samani", "link": "https://stackoverflow.com/users/4371848/amin-samani"}, "is_accepted": false, "score": 0, "last_activity_date": 1441240945, "creation_date": 1441240945, "answer_id": 32365304, "question_id": 32364952, "link": "https://stackoverflow.com/questions/32364952/scrambling-strings-with-random-shuffle-in-python-3-x/32365304#32365304", "title": "Scrambling strings with random.shuffle in Python 3.x", "body": "<p>hope you enjoy with programming Chris.\nwell if u test like this...</p>\n\n<pre><code> from random import shuffle\n word='test'\n def scrambler(word):\n      word_to_scramble = list(word)\n      shuffle(word_to_scramble)\n      new_word = ''.join(word_to_scramble)\n      return new_word\n print(scrambler(word))\n</code></pre>\n\n<p>u will get the word test in ~ &lt;25th try as i did ...(cant be sure because its not realy random)</p>\n\n<p>so u can just put some if statement in your function. and if new_world is same as word u can just recall the function again... and it doesn't need any loop. its like some recursive base function.</p>\n\n<p>something like this...</p>\n\n<pre><code>enter code here\n\nfrom random import shuffle\nword = 'test'\ndef scrambler(word):\n    word_to_scramble = list(word)\n    shuffle(word_to_scramble)\n    new_word = ''.join(word_to_scramble)\n    #print (new_word) if u want to check what is going on ...\n    if new_word == word:\n         scrambler(word) \n    elif new_word != word:\n         return new_word  \n         print(new_word)\nscrambler(word)\n</code></pre>\n"}], "owner": {"reputation": 25, "user_id": 4195954, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d36705f71b2335c8018108f5bb1ef827?s=128&d=identicon&r=PG&f=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/4195954/chris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1132, "favorite_count": 0, "accepted_answer_id": 32364989, "answer_count": 2, "score": -1, "last_activity_date": 1441251512, "creation_date": 1441237965, "last_edit_date": 1441251512, "question_id": 32364952, "link": "https://stackoverflow.com/questions/32364952/scrambling-strings-with-random-shuffle-in-python-3-x", "title": "Scrambling strings with random.shuffle in Python 3.x", "body": "<p>Hello I'm new to programming and have been teaching myself Python through various means for the past year.I have been lurking here for a while and have gotten a lot of help but now i have a specific problem:</p>\n\n<p>Im working on a word scramble game and i ran into a snag.</p>\n\n<p>Python 3.x code</p>\n\n<pre><code>def scrambler(word):\n    word_to_scramble = list(word)\n    random.shuffle(word_to_scramble)\n    new_word = ''.join(word_to_scramble)\n    return new_word\n</code></pre>\n\n<p>Now the code above works as desired, but occasionally it will return the original word i fed into the scrambler function. </p>\n\n<p>My question is: Is there a way to ensure that the string returned is always different than the one given. \nI attempted to use the scrambler function inside itself with a while loop, which would crash the script and give me an error stating the recursion limit had been reached.</p>\n\n<p>Any help would be greatly appreciated.</p>\n"}, {"tags": ["python", "cpython", "hardware-interface"], "answers": [{"comments": [{"owner": {"reputation": 967, "user_id": 5294619, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/afe990a13c278488b9e2268e226f082a?s=128&d=identicon&r=PG&f=1", "display_name": "ddbug", "link": "https://stackoverflow.com/users/5294619/ddbug"}, "edited": false, "score": 0, "creation_date": 1441241354, "post_id": 32365155, "comment_id": 52603031, "body": "Great! Thank you a lot."}, {"owner": {"reputation": 967, "user_id": 5294619, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/afe990a13c278488b9e2268e226f082a?s=128&d=identicon&r=PG&f=1", "display_name": "ddbug", "link": "https://stackoverflow.com/users/5294619/ddbug"}, "edited": false, "score": 0, "creation_date": 1441307310, "post_id": 32365155, "comment_id": 52637759, "body": "I made a quick test yesterday and wanted already mark your answer.  but then I cannot make a &quot;real&quot; code work with Python 2.7 on Linux. The exact code as you posted, fails with access denied. I do not understand why.  When I change MAP_SHARED to MAP_PRIVATE, mmap succeeds. When I change PROT_WRITE to PROT_READ, mmap succeeds. But I need it shared (visible globally) and writable. Could you give another hint, please?"}], "tags": [], "owner": {"reputation": 1007, "user_id": 1285159, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XfuAv.jpg?s=128&g=1", "display_name": "Tim Wakeham", "link": "https://stackoverflow.com/users/1285159/tim-wakeham"}, "is_accepted": true, "score": 4, "last_activity_date": 1441239439, "creation_date": 1441239439, "answer_id": 32365155, "question_id": 32364876, "link": "https://stackoverflow.com/questions/32364876/how-to-get-the-address-of-mmap-ed-memory-in-python/32365155#32365155", "title": "How to get the address of mmap-ed memory in Python?", "body": "<p><code>mmap</code> objects support the writable buffer interface, so you can use the <code>from_buffer</code> class method that <code>ctypes</code> classes have with the <code>mmap</code> object as an argument to get a <code>ctypes</code> object that shares the memory of the <code>mmap</code> file.</p>\n\n<pre><code>buf = mmap.mmap(fd, mmap.PAGESIZE, mmap.MAP_SHARED, mmap.PROT_WRITE)\nint_pointer = ctypes.c_int.from_buffer(buf)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1007, "user_id": 1285159, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XfuAv.jpg?s=128&g=1", "display_name": "Tim Wakeham", "link": "https://stackoverflow.com/users/1285159/tim-wakeham"}, "edited": false, "score": 0, "creation_date": 1441317735, "post_id": 32383936, "comment_id": 52642860, "body": "How does it fail?  Exceptions? Post traceback."}, {"owner": {"reputation": 967, "user_id": 5294619, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/afe990a13c278488b9e2268e226f082a?s=128&d=identicon&r=PG&f=1", "display_name": "ddbug", "link": "https://stackoverflow.com/users/5294619/ddbug"}, "reply_to_user": {"reputation": 1007, "user_id": 1285159, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XfuAv.jpg?s=128&g=1", "display_name": "Tim Wakeham", "link": "https://stackoverflow.com/users/1285159/tim-wakeham"}, "edited": false, "score": 0, "creation_date": 1441326879, "post_id": 32383936, "comment_id": 52645181, "body": "Traceback added above. By the way I run this as root. so what means &quot;permission denied&quot; exactly?  Does this work for you without errors?  -- dd"}, {"owner": {"reputation": 967, "user_id": 5294619, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/afe990a13c278488b9e2268e226f082a?s=128&d=identicon&r=PG&f=1", "display_name": "ddbug", "link": "https://stackoverflow.com/users/5294619/ddbug"}, "reply_to_user": {"reputation": 1007, "user_id": 1285159, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XfuAv.jpg?s=128&g=1", "display_name": "Tim Wakeham", "link": "https://stackoverflow.com/users/1285159/tim-wakeham"}, "edited": false, "score": 0, "creation_date": 1441327984, "post_id": 32383936, "comment_id": 52645409, "body": "Ok, found the error. The open() mode must be &quot;r+&quot;, not &quot;rw&quot;. Exactly like in C.  Python3 detects this and gives error message, 2.7 silently does something weird.  Thank you a lot again. -- dd"}], "tags": [], "owner": {"reputation": 967, "user_id": 5294619, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/afe990a13c278488b9e2268e226f082a?s=128&d=identicon&r=PG&f=1", "display_name": "ddbug", "link": "https://stackoverflow.com/users/5294619/ddbug"}, "is_accepted": false, "score": 1, "last_activity_date": 1441326776, "last_edit_date": 1441326776, "creation_date": 1441308479, "answer_id": 32383936, "question_id": 32364876, "link": "https://stackoverflow.com/questions/32364876/how-to-get-the-address-of-mmap-ed-memory-in-python/32383936#32383936", "title": "How to get the address of mmap-ed memory in Python?", "body": "<p>Here is a more complete code that I need get working, with Python 2.7, on Linux:</p>\n\n<pre><code>import os, io\nfrom mmap import *\nfrom ctypes import *\n\nwinsize= 0\ndevmemfd= -1\ncurr_va=0\ncurr_base=0\ndevf = None\nmm = None\nptr4 = None\n\ndef mm_init( path = 'test.dat' ) :\n  global curr_va,winsize,devmemfd,mm,devf,ptr4\n  devf = open( path, \"rwb\")\n  devmemfd = devf.fileno()\n  mm = mmap(devmemfd, PAGESIZE, MAP_SHARED, PROT_WRITE) # this FAILS if MAP_SHARED\n  ptr4 = POINTER(c_uint32)( c_uint32.from_buffer(mm) ) # this FAILS is I make mapping readonly\n  curr_va = cast(ptr4, c_void_p).value \n  winsize=PAGESIZE\n  print(\"OK\")\n</code></pre>\n\n<p>Again, I should be missing something obvious as I'm new to Python</p>\n\n<p>-- dd</p>\n\n<p>Traceback:</p>\n\n<pre><code>&gt;&gt;&gt; mm_init()\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\n  File \"mm-test.py\", line 17, in mm_init\n    mm = mmap(devmemfd, PAGESIZE, MAP_SHARED, PROT_WRITE) \nmmap.error: [Errno 13] Permission denied\n</code></pre>\n"}], "owner": {"reputation": 967, "user_id": 5294619, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/afe990a13c278488b9e2268e226f082a?s=128&d=identicon&r=PG&f=1", "display_name": "ddbug", "link": "https://stackoverflow.com/users/5294619/ddbug"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2502, "favorite_count": 2, "accepted_answer_id": 32365155, "answer_count": 2, "score": 4, "last_activity_date": 1441326776, "creation_date": 1441237441, "question_id": 32364876, "link": "https://stackoverflow.com/questions/32364876/how-to-get-the-address-of-mmap-ed-memory-in-python", "title": "How to get the address of mmap-ed memory in Python?", "body": "<p>I cannot figure how to get the virtual address of the standard <strong>mmap</strong> objects in Python (from the mmap module).\nThe documented methods only seem to access the memory as array of bytes or as character strings.</p>\n\n<p>But I need to access the mmap'ped memory by precisely 2 or 4 bytes at once - because this memory in my application is mapped to hardware registers (think /dev/mem or GPIO or such). Accessing memory in this way is possible with <strong>ctypes</strong> module - but for this I need the <strong>pointer</strong> - or virtual address - of the mapping.</p>\n\n<p>Currently I overcome this by using the native open() and mmap() functions from libc (thanks to the same ctypes) but would rather not.</p>\n\n<p>Why the mmap module won't provide easy way to get the memory address? Hope I'm missing something obvious...</p>\n\n<p>-- dd</p>\n"}, {"tags": ["python", "python-2.7", "subprocess", "popen", "python-2.6"], "comments": [{"owner": {"reputation": 7399, "user_id": 2146138, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/fweN4.png?s=128&g=1", "display_name": "Nathan Basanese", "link": "https://stackoverflow.com/users/2146138/nathan-basanese"}, "edited": false, "score": 0, "creation_date": 1441237622, "post_id": 32364849, "comment_id": 52602166, "body": "// , Followup question: How does this difference change between Python 2 and Python 3?"}, {"owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 0, "creation_date": 1441242282, "post_id": 32364849, "comment_id": 52603223, "body": "Why do you keep starting everything with <code>&#47;&#47;</code>?"}, {"owner": {"reputation": 205167, "user_id": 4323, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/qqgFU.png?s=128&g=1", "display_name": "John Zwinck", "link": "https://stackoverflow.com/users/4323/john-zwinck"}, "reply_to_user": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 3, "creation_date": 1441245280, "post_id": 32364849, "comment_id": 52603859, "body": "@chepner: Well, the button does say &quot;Add Comment&quot;....  :)"}, {"owner": {"reputation": 7399, "user_id": 2146138, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/fweN4.png?s=128&g=1", "display_name": "Nathan Basanese", "link": "https://stackoverflow.com/users/2146138/nathan-basanese"}, "edited": false, "score": 0, "creation_date": 1441300361, "post_id": 32364849, "comment_id": 52633833, "body": "// , Follow-up Question for Meta: Why do so few people have a sense of humor on SO?"}, {"owner": {"reputation": 4294, "user_id": 2738262, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ead9263d3f0f0cc74f54d5d9fdbaa4cd?s=128&d=identicon&r=PG", "display_name": "Damian Yerrick", "link": "https://stackoverflow.com/users/2738262/damian-yerrick"}, "edited": false, "score": 3, "creation_date": 1441300472, "post_id": 32364849, "comment_id": 52633891, "body": "# @NathanBasanese Perhaps I&#39;m <a href=\"https://allthetropes.orain.org/wiki/Comically_Missing_the_Point\" rel=\"nofollow noreferrer\">completely missing the point</a>, but the Python comment symbol is <code>#</code>, unlike in C++, PHP, and JavaScript."}, {"owner": {"reputation": 7399, "user_id": 2146138, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/fweN4.png?s=128&g=1", "display_name": "Nathan Basanese", "link": "https://stackoverflow.com/users/2146138/nathan-basanese"}, "edited": false, "score": 0, "creation_date": 1485385550, "post_id": 32364849, "comment_id": 70910373, "body": "// , Well, I guess this page runs JavaScript?"}], "answers": [{"comments": [{"owner": {"reputation": 7399, "user_id": 2146138, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/fweN4.png?s=128&g=1", "display_name": "Nathan Basanese", "link": "https://stackoverflow.com/users/2146138/nathan-basanese"}, "edited": false, "score": 0, "creation_date": 1441408887, "post_id": 32365886, "comment_id": 52683748, "body": "// , Er, does <code>stdout=POPEN</code>, in the fourth paragraph, actually mean <code>stdout=PIPE</code>, or is <code>POPEN</code> a worthy file descriptor?"}, {"owner": {"reputation": 7399, "user_id": 2146138, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/fweN4.png?s=128&g=1", "display_name": "Nathan Basanese", "link": "https://stackoverflow.com/users/2146138/nathan-basanese"}, "edited": false, "score": 0, "creation_date": 1441409088, "post_id": 32365886, "comment_id": 52683791, "body": "// , Like I said, I did read through the documentation. I read it way too many times. It made me sad. Also, as to the bullet \u2022 points, I know that you have to pass a file descriptor or file object, and that PIPE is a bad idea, but I am just wondering <i>why</i> that is less secure in the case of `subprocess methods. Also, in the fourth paragraph, why does the first part occur for the convenience functions, and not for Popen()? Why does this difference cause the &quot;this means...&quot; part?"}, {"owner": {"reputation": 16866, "user_id": 303914, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/908ac4ca0a945b86d528a34b26ea02df?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/303914/daniel"}, "reply_to_user": {"reputation": 7399, "user_id": 2146138, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/fweN4.png?s=128&g=1", "display_name": "Nathan Basanese", "link": "https://stackoverflow.com/users/2146138/nathan-basanese"}, "edited": false, "score": 1, "creation_date": 1441409383, "post_id": 32365886, "comment_id": 52683854, "body": "@NathanBasanese Hi, about the <code>stdout=POPEN</code> thing, yes, it was a typo. Now it is corrected. About your other doubts: the reason is that with <code>Popen() + PIPE</code> you can call <code>communicate()</code> as many times as you want to avoid the internal OS pipe&#39;s buffer from filling, while in the case of <code>call() + PIPE</code> you cannot invoke <code>communicate()</code> as your process blocks as soon as you invoke <code>call()</code>."}], "tags": [], "owner": {"reputation": 16866, "user_id": 303914, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/908ac4ca0a945b86d528a34b26ea02df?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/303914/daniel"}, "is_accepted": false, "score": 2, "last_activity_date": 1441409193, "last_edit_date": 1441409193, "creation_date": 1441246048, "answer_id": 32365886, "question_id": 32364849, "link": "https://stackoverflow.com/questions/32364849/what-difference-between-subprocess-call-and-subprocess-popen-makes-pipe-less/32365886#32365886", "title": "What difference between subprocess.call() and subprocess.Popen() makes PIPE less secure for the former?", "body": "<p>Both <code>call</code> and <code>Popen</code> provide means of accessing the output of your command:</p>\n\n<ul>\n<li>With <code>Popen</code> you can use <code>communicate</code> or provide a file descriptor or file object to the <code>stdout=...</code>  parameter.</li>\n<li>With <code>call</code> your only option is to pass a file descriptor or a file object to the <code>stdout=...</code>  parameter (you can not use <code>communicate</code> with this one).</li>\n</ul>\n\n<p>Now, the reason why <code>stdout=PIPE</code> is insecure when used with <code>call</code> is because <code>call</code> doesn't return until the subprocess has finished, this means all the output would have to reside in memory until that moment, and if the amount of output is too much then that would fill the OS pipes' buffer.</p>\n\n<p>The references where you can validate the above information are the following:</p>\n\n<ol>\n<li>According to <a href=\"https://docs.python.org/2/library/subprocess.html#subprocess.call\" rel=\"nofollow\">this</a> the parameters for both <code>call</code> and <code>Popen</code> are the same:</li>\n</ol>\n\n<blockquote>\n  <p>The arguments shown above are merely the most common ones, described\n  below in Frequently Used Arguments (hence the slightly odd notation in\n  the abbreviated signature). The full function signature is the same as\n  that of the Popen constructor - this functions passes all supplied\n  arguments directly through to that interface.</p>\n</blockquote>\n\n<ol start=\"2\">\n<li>According to <a href=\"https://docs.python.org/2/library/subprocess.html#subprocess.Popen\" rel=\"nofollow\">this</a> the possible values for the <code>stdout</code> parameter are:</li>\n</ol>\n\n<blockquote>\n  <p>Valid values are PIPE, an existing file descriptor (a positive\n  integer), an existing file object, and None. PIPE indicates that a new\n  pipe to the child should be created</p>\n</blockquote>\n"}, {"comments": [{"owner": {"reputation": 7399, "user_id": 2146138, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/fweN4.png?s=128&g=1", "display_name": "Nathan Basanese", "link": "https://stackoverflow.com/users/2146138/nathan-basanese"}, "edited": false, "score": 0, "creation_date": 1441407243, "post_id": 32396937, "comment_id": 52683406, "body": "// , It looks like the &quot;pipe&quot; metaphor works quite well. I did not know I could take it so literally that there could be a <i>stuffed</i> pipe. Makes me wonder why the kernel&#39;s pipe buffer for that command does not just flush itself automatically, or why <code>call()</code> wouldn&#39;t just flush that buffer. To extend the &quot;pipe&quot; metaphor, if the pipe is installed somewhere that might not get out of the pipe, why not leave a pressure-activated connection (solenoid valve?) to the drainage sump? (&quot;Flush that Buffer! Make code Tougher!&quot;-Possible Slogan?)"}, {"owner": {"reputation": 7399, "user_id": 2146138, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/fweN4.png?s=128&g=1", "display_name": "Nathan Basanese", "link": "https://stackoverflow.com/users/2146138/nathan-basanese"}, "edited": false, "score": 0, "creation_date": 1441407385, "post_id": 32396937, "comment_id": 52683442, "body": "// , I can guess why some call systems programmers &quot;Plumbers.&quot; It&#39;s all in the pipes."}, {"owner": {"reputation": 343905, "user_id": 4279, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d92ce60d3a4cbe03598e27c2e8dee69d?s=128&d=identicon&r=PG", "display_name": "jfs", "link": "https://stackoverflow.com/users/4279/jfs"}, "reply_to_user": {"reputation": 7399, "user_id": 2146138, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/fweN4.png?s=128&g=1", "display_name": "Nathan Basanese", "link": "https://stackoverflow.com/users/2146138/nathan-basanese"}, "edited": false, "score": 1, "creation_date": 1441407734, "post_id": 32396937, "comment_id": 52683508, "body": "There is a way to say &quot;flush the pipe buffer automatically&quot;;  it is called: &quot;drop data&quot; implemented as <code>stdout=DEVNULL</code> (you can use it safely with <code>call()</code>)."}, {"owner": {"reputation": 7399, "user_id": 2146138, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/fweN4.png?s=128&g=1", "display_name": "Nathan Basanese", "link": "https://stackoverflow.com/users/2146138/nathan-basanese"}, "edited": false, "score": 1, "creation_date": 1441408538, "post_id": 32396937, "comment_id": 52683688, "body": "// , Ah, but then one no longer has the option of, later, possibly using <code>communicate()</code> with the output of <code>call()</code> or the output of <code>check_call()</code>, right?"}, {"owner": {"reputation": 343905, "user_id": 4279, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d92ce60d3a4cbe03598e27c2e8dee69d?s=128&d=identicon&r=PG", "display_name": "jfs", "link": "https://stackoverflow.com/users/4279/jfs"}, "reply_to_user": {"reputation": 7399, "user_id": 2146138, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/fweN4.png?s=128&g=1", "display_name": "Nathan Basanese", "link": "https://stackoverflow.com/users/2146138/nathan-basanese"}, "edited": false, "score": 1, "creation_date": 1441411301, "post_id": 32396937, "comment_id": 52684244, "body": "@NathanBasanese: <code>call()</code> returns child&#39;s exit status -- it is an ordinary integer (8-bit range on POSIX, 32-bit -- on Windows); you can&#39;t call <code>communicate()</code> with it. Anyway, the child process is already dead, even its PID may be reused already by other processes by the time <code>call()</code> returns. <code>check_call()</code> is just <code>call()</code> that raises an exception if the exit status is non-zero. It would be a useful exercise to implement a shell pipeline using only POSIX calls: pipe, fork, exec, dup2, waitpid e.g., <a href=\"https://gist.github.com/zed/7835043\" rel=\"nofollow noreferrer\"><code>recursive-pipe.c</code></a>"}], "tags": [], "owner": {"reputation": 343905, "user_id": 4279, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d92ce60d3a4cbe03598e27c2e8dee69d?s=128&d=identicon&r=PG", "display_name": "jfs", "link": "https://stackoverflow.com/users/4279/jfs"}, "is_accepted": true, "score": 21, "last_activity_date": 1441365993, "last_edit_date": 1495542879, "creation_date": 1441365993, "answer_id": 32396937, "question_id": 32364849, "link": "https://stackoverflow.com/questions/32364849/what-difference-between-subprocess-call-and-subprocess-popen-makes-pipe-less/32396937#32396937", "title": "What difference between subprocess.call() and subprocess.Popen() makes PIPE less secure for the former?", "body": "<p><a href=\"https://github.com/python/cpython/blob/b01cfb8f69e0990be0615b8613a7412f88bd217a/Lib/subprocess.py#L552-L566\" rel=\"noreferrer\"><code>call()</code> is just <code>Popen().wait()</code> (\u00b1 error handling)</a>.</p>\n\n<p><strong>You should not use <code>stdout=PIPE</code> with <code>call()</code></strong> because it does not read from the pipe and therefore the child process will hang as soon as it fills the corresponding OS pipe buffer. Here's a picture that shows how data flows in <code>command1 | command2</code> shell pipeline: </p>\n\n<p><a href=\"http://www.pixelbeat.org/programming/stdio_buffering/\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Y99ip.png\" alt=\"pipe/stdio buffers\"></a></p>\n\n<p>It does not matter what your Python version is -- the pipe buffer (look at the picture) is outside of your Python process. Python 3 does not use C stdio but it affects only the internal buffering. When the internal buffer is flushed the data goes into the pipe. If <code>command2</code> (your parent Python program) does not read from the pipe then <code>command1</code> (the child process e.g., started by <code>call()</code>) will hang as soon as the pipe buffer is full (<a href=\"http://man7.org/linux/man-pages/man2/fcntl.2.html\" rel=\"noreferrer\"><code>pipe_size = fcntl(p.stdout, F_GETPIPE_SZ)</code></a> ~65K on my Linux box (max value is <code>/proc/sys/fs/pipe-max-size</code> ~1M)).</p>\n\n<p><strong>You may use <code>stdout=PIPE</code> if you read from the pipe</strong> later e.g., using <code>Popen.communicate()</code> method. You could also <a href=\"https://stackoverflow.com/a/17698359/4279\">read from <code>process.stdout</code> (the file object that represents the pipe) directly</a>.</p>\n"}], "owner": {"reputation": 7399, "user_id": 2146138, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/fweN4.png?s=128&g=1", "display_name": "Nathan Basanese", "link": "https://stackoverflow.com/users/2146138/nathan-basanese"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10987, "favorite_count": 6, "accepted_answer_id": 32396937, "answer_count": 2, "score": 16, "last_activity_date": 1441409193, "creation_date": 1441237232, "last_edit_date": 1495541432, "question_id": 32364849, "link": "https://stackoverflow.com/questions/32364849/what-difference-between-subprocess-call-and-subprocess-popen-makes-pipe-less", "title": "What difference between subprocess.call() and subprocess.Popen() makes PIPE less secure for the former?", "body": "<p>I've had a look at the documentation for both of them. </p>\n\n<p>This question is prompted by J.F.'s comment here: <a href=\"https://stackoverflow.com/questions/1996518/retrieving-the-output-of-subprocess-call#comment31660313_1996540\">Retrieving the output of subprocess.call()</a></p>\n\n<p>The current Python documentation for <a href=\"https://docs.python.org/library/subprocess.html#module-subprocess\" rel=\"nofollow noreferrer\"><code>subprocess.call()</code></a> says the following about using <code>PIPE</code> for <code>subprocess.call()</code>: </p>\n\n<blockquote>\n  <p>Note Do not use <code>stdout=PIPE</code> or <code>stderr=PIPE</code> with this function. The child process will block if it generates enough output to a pipe to fill up the OS pipe buffer as the pipes are not being read from.</p>\n</blockquote>\n\n<p>Python 2.7 <a href=\"https://docs.python.org/2.7/library/subprocess.html#subprocess.call\" rel=\"nofollow noreferrer\"><code>subprocess.call()</code></a>: </p>\n\n<blockquote>\n  <p>Note Do not use <code>stdout=PIPE</code> or <code>stderr=PIPE</code> with this function as that can deadlock based on the child process output volume. Use Popen with the communicate() method when you need pipes.</p>\n</blockquote>\n\n<p>Python 2.6 includes no such warnings. </p>\n\n<p>Also, the <a href=\"https://docs.python.org/2.6/library/subprocess.html#convenience-functions\" rel=\"nofollow noreferrer\"><code>subprocess.call()</code> and <code>subprocess.check_call()</code></a> don't seem to have a way to access their output, except for using stdout=PIPE with communicate(): </p>\n\n<p><a href=\"https://docs.python.org/2.6/library/subprocess.html#convenience-functions\" rel=\"nofollow noreferrer\">https://docs.python.org/2.6/library/subprocess.html#convenience-functions</a></p>\n\n<blockquote>\n  <p>Note that if you want to send data to the process\u2019s <code>stdin</code>, you need to create the <code>Popen</code> object with <code>stdin=PIPE</code>. Similarly, to get anything other than None in the result tuple, you need to give <code>stdout=PIPE</code> and/or <code>stderr=PIPE</code> too.</p>\n</blockquote>\n\n<p><a href=\"https://docs.python.org/2.6/library/subprocess.html#subprocess.Popen.communicate\" rel=\"nofollow noreferrer\">https://docs.python.org/2.6/library/subprocess.html#subprocess.Popen.communicate</a></p>\n\n<p>What difference between <code>subprocess.call()</code> and <code>subprocess.Popen()</code> makes <code>PIPE</code> less secure for <code>subprocess.call()</code>? </p>\n\n<p><strong>More Specific:</strong> Why does <code>subprocess.call()</code> <em>\"deadlock based on the child process output volume.\"</em>, and not <code>Popen()</code>? </p>\n"}, {"tags": ["python", "list", "nested"], "comments": [{"owner": {"reputation": 684, "user_id": 1265614, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd82e4c0f86835d2815830f75c11a51b?s=128&d=identicon&r=PG", "display_name": "bmhkim", "link": "https://stackoverflow.com/users/1265614/bmhkim"}, "edited": false, "score": 0, "creation_date": 1441238076, "post_id": 32364824, "comment_id": 52602275, "body": "Can you share what <code>titanic_df</code> is for us?"}, {"owner": {"reputation": 392, "user_id": 3808886, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c3814f49d2e0550f1e26b74e315252e?s=128&d=identicon&r=PG&f=1", "display_name": "localhost", "link": "https://stackoverflow.com/users/3808886/localhost"}, "reply_to_user": {"reputation": 684, "user_id": 1265614, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd82e4c0f86835d2815830f75c11a51b?s=128&d=identicon&r=PG", "display_name": "bmhkim", "link": "https://stackoverflow.com/users/1265614/bmhkim"}, "edited": false, "score": 0, "creation_date": 1441239578, "post_id": 32364824, "comment_id": 52602670, "body": "I agree with @bmhkim, the structure of <code>titanic_df</code> is missing in the provided code, thus, hard to give a specific answer. Based on the <b>limited provided code</b>, the <code>axis = 1</code> appears meaningless/useless, at first glance. This could be clarified better if you included the code for <code>apply</code>. If I am reading this correctly, the [[&#39;Age,&#39;Sex&#39;]] is to specify a list within <code>titanic_df</code> for proper referencing [...] is the list; however, <code>titanic_df[...]</code> is a parent element, therefore, the double [[]]."}], "answers": [{"tags": [], "owner": {"reputation": 456, "user_id": 617698, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3251919324f8add441d55551f9fa02f1?s=128&d=identicon&r=PG", "display_name": "Robert E Mealey", "link": "https://stackoverflow.com/users/617698/robert-e-mealey"}, "is_accepted": false, "score": 1, "last_activity_date": 1441239507, "creation_date": 1441239507, "answer_id": 32365167, "question_id": 32364824, "link": "https://stackoverflow.com/questions/32364824/beginner-python-why-the-nested-list/32365167#32365167", "title": "Beginner Python - Why the nested list?", "body": "<p>Welcome to python! :) </p>\n\n<p>First you should study up on list methods, specifically the subscript notation that lets you refer to indexes and slices of a given list.\n<a href=\"https://docs.python.org/2/tutorial/introduction.html#lists\" rel=\"nofollow\">https://docs.python.org/2/tutorial/introduction.html#lists</a></p>\n\n<p>Now, you're using pandas, right? <code>titanic_df[['Age','Sex']]</code> is not a nested list, it's a subscript call on the object <code>titanic_df</code>, which isn't a list but a pandas.DataFrame. <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.html\" rel=\"nofollow\">http://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.html</a></p>\n\n<p>A pandas DataFrame has methods that allow you to refer only to specified columns or rows, using similar subscript notation. The differences between DataFrame subscript notation and standard list subscript notation are that </p>\n\n<ol>\n<li>with a DataFrame, you can index or slice in 2 dimensions, rows and columns, e.g. <code>titanic_df[columns][rows]</code></li>\n<li>you can pass a list or tuple of non-contiguous column or row names or indices to operate on, e.g. not just <code>titanic_df[1][1]</code> (second row, second column) or <code>titanic_df['Age'][1]</code> (Age column, first row) but `titanic[</li>\n</ol>\n\n<p>The subscript can be specified as any of: </p>\n\n<ol>\n<li>an integer (representing the index of a single column you wish to operate on)</li>\n<li>a string (representing the name of a single column you wish to operate on)</li>\n<li>A list or tuple of integers or strings that refer to multiple names or indices of columns you wish to operate on</li>\n<li>Contiguous column or row indices specified by slice notation, as in <code>x[1:5][2:4]</code></li>\n<li>a colon, <code>:</code>, indicating all columns or rows.</li>\n</ol>\n\n<p>Oh and <code>axis = 1</code> means you're applying your function row by row, instead column by columns (<code>axis = 0</code>):\n<a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.apply.html#pandas.DataFrame.apply\" rel=\"nofollow\">http://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.apply.html#pandas.DataFrame.apply</a></p>\n"}, {"tags": [], "owner": {"reputation": 736, "user_id": 394427, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/019bf280bbd777e6b8589715fb976444?s=128&d=identicon&r=PG", "display_name": "John C Earls", "link": "https://stackoverflow.com/users/394427/john-c-earls"}, "is_accepted": false, "score": 0, "last_activity_date": 1441239723, "creation_date": 1441239723, "answer_id": 32365198, "question_id": 32364824, "link": "https://stackoverflow.com/questions/32364824/beginner-python-why-the-nested-list/32365198#32365198", "title": "Beginner Python - Why the nested list?", "body": "<p>I am assuming that titanic_df is a pandas dataframe. The df[['Age','Sex']] syntax says you that you are applying your function only to the Age and Sex columns of the dataframe. (Selecting a new dataframe that contains only those columns) See: <a href=\"http://pandas.pydata.org/pandas-docs/stable/indexing.html\" rel=\"nofollow\">http://pandas.pydata.org/pandas-docs/stable/indexing.html</a>  </p>\n\n<p>If you gave titanic_df['Age','Sex'], you would be attempting to select from a multindex. See:<a href=\"http://pandas.pydata.org/pandas-docs/stable/advanced.html#basic-indexing-on-axis-with-multiindex\" rel=\"nofollow\">http://pandas.pydata.org/pandas-docs/stable/advanced.html#basic-indexing-on-axis-with-multiindex</a>.</p>\n\n<p>In short, you can't use the second syntax because pandas has that set aside for a different operation.</p>\n"}], "owner": {"reputation": 1124, "user_id": 5199096, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/7121c9c8b95b9b4ba519af1d02515dff?s=128&d=identicon&r=PG&f=1", "display_name": "mk8efz", "link": "https://stackoverflow.com/users/5199096/mk8efz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 163, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1473165974, "creation_date": 1441237042, "last_edit_date": 1441238810, "question_id": 32364824, "link": "https://stackoverflow.com/questions/32364824/beginner-python-why-the-nested-list", "title": "Beginner Python - Why the nested list?", "body": "<p>I am creating a new column and appending a dataframe and have created a function for the new column:</p>\n\n<pre><code>def male_female_child(passenger):\n    age, sex = passenger\n\n    if age &lt; 16:\n        return 'child'\n    else:\n        return sex\n</code></pre>\n\n<p>My question is about the line of code that executes the function:</p>\n\n<pre><code>titanic_df['person'] = titanic_df[['Age','Sex']].apply(male_female_child, axis = 1)\n</code></pre>\n\n<p>Why is <code>titanic_df[['Age','Sex']]</code> a nested list? I guess I'm wondering why <code>titanic_df['Age','Sex']</code> wouldn't work? Also, why is argument <code>axis = 1</code> given?</p>\n\n<p>Thank you</p>\n"}, {"tags": ["python", "regex"], "comments": [{"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1441236632, "post_id": 32364726, "comment_id": 52601912, "body": "Maybe replace the <code>{1,35}</code> at each end with a simple <code>.+</code> and then check the length of the resulting match?"}, {"owner": {"reputation": 737, "user_id": 4966036, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/3d018bd4158ee096bfb7cd7907b77b1e?s=128&d=identicon&r=PG&f=1", "display_name": "COMisHARD", "link": "https://stackoverflow.com/users/4966036/comishard"}, "reply_to_user": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1441236687, "post_id": 32364726, "comment_id": 52601924, "body": "I bet that would work. But how do &quot;check the length of the resulting match?&quot; I could obviously do that outside of regex, but is there a regex way?"}, {"owner": {"reputation": 737, "user_id": 4966036, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/3d018bd4158ee096bfb7cd7907b77b1e?s=128&d=identicon&r=PG&f=1", "display_name": "COMisHARD", "link": "https://stackoverflow.com/users/4966036/comishard"}, "edited": false, "score": 0, "creation_date": 1441236919, "post_id": 32364726, "comment_id": 52601991, "body": "Is there any other solution?"}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 2, "creation_date": 1441237160, "post_id": 32364726, "comment_id": 52602042, "body": "<code>if len(m) &lt;= 50</code> is going to be approximately 6.22 times clearer to read than any regex solution for the same (if you can find one)."}, {"owner": {"reputation": 737, "user_id": 4966036, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/3d018bd4158ee096bfb7cd7907b77b1e?s=128&d=identicon&r=PG&f=1", "display_name": "COMisHARD", "link": "https://stackoverflow.com/users/4966036/comishard"}, "reply_to_user": {"reputation": 62252, "user_id": 1435869, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TrEd9.jpg?s=128&g=1", "display_name": "karakfa", "link": "https://stackoverflow.com/users/1435869/karakfa"}, "edited": false, "score": 0, "creation_date": 1441237204, "post_id": 32364726, "comment_id": 52602051, "body": "@karakfa its the opposite in this case. I check for many many different matches using regex basically one after another and this is just one of them. Given my broader needs for this question it is not practical to pop the result out. But I&#39;m struggling to give a simplified example to explain why. In short, there are multiple things I need to check for not just one."}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 1, "creation_date": 1441237277, "post_id": 32364726, "comment_id": 52602070, "body": "If you need to check the length of a string by using a regular expression rather than with a <code>len()</code> call, you may be facing an <a href=\"http://meta.stackexchange.com/questions/66377/what-is-the-xy-problem\">XY Problem</a>."}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1441238441, "post_id": 32364726, "comment_id": 52602387, "body": "After you&#39;ve checked the string for all the components you describe, do you want to check whether the whole match is below a certain length? Because if you want that, you just find the match and then check its length. Beyond that, I don&#39;t know exactly what total string lengths you need to check and why. Maybe you need to capture groups and check their lengths?"}], "answers": [{"comments": [{"owner": {"reputation": 737, "user_id": 4966036, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/3d018bd4158ee096bfb7cd7907b77b1e?s=128&d=identicon&r=PG&f=1", "display_name": "COMisHARD", "link": "https://stackoverflow.com/users/4966036/comishard"}, "edited": false, "score": 0, "creation_date": 1441239197, "post_id": 32365039, "comment_id": 52602567, "body": "Thank you! This looks great."}], "tags": [], "owner": {"reputation": 684, "user_id": 1265614, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd82e4c0f86835d2815830f75c11a51b?s=128&d=identicon&r=PG", "display_name": "bmhkim", "link": "https://stackoverflow.com/users/1265614/bmhkim"}, "is_accepted": true, "score": 1, "last_activity_date": 1441238558, "last_edit_date": 1495541174, "creation_date": 1441238558, "answer_id": 32365039, "question_id": 32364726, "link": "https://stackoverflow.com/questions/32364726/how-to-require-x-before-y-in-regex/32365039#32365039", "title": "How to require X before Y in regex?", "body": "<p><a href=\"https://stackoverflow.com/questions/8246482/how-to-use-regex-lookahead-to-limit-the-total-length-of-input-string\">How to use regex lookahead to limit the total length of input string</a></p>\n\n<pre><code>&gt;&gt;&gt; import re\n&gt;&gt;&gt; p = re.compile(r'^(?!.{16,})(\\..{1,35}?car.{1,35}?\\.)+$')\n&gt;&gt;&gt; p.match('.1car1.')\n&lt;_sre.SRE_Match object at 0x100a776c0&gt;\n&gt;&gt;&gt; len('.1car123456789.')\n15\n&gt;&gt;&gt; p.match('.1car123456789.')\n&lt;_sre.SRE_Match object at 0x100a70be8&gt;\n&gt;&gt;&gt; p.match('.1car1234567890.')\n</code></pre>\n"}], "owner": {"reputation": 737, "user_id": 4966036, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/3d018bd4158ee096bfb7cd7907b77b1e?s=128&d=identicon&r=PG&f=1", "display_name": "COMisHARD", "link": "https://stackoverflow.com/users/4966036/comishard"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 149, "favorite_count": 0, "accepted_answer_id": 32365039, "answer_count": 1, "score": 0, "last_activity_date": 1441250406, "creation_date": 1441236360, "last_edit_date": 1441250406, "question_id": 32364726, "link": "https://stackoverflow.com/questions/32364726/how-to-require-x-before-y-in-regex", "title": "How to require X before Y in regex?", "body": "<p>I often find myself hoping to check a regex string for something else BEFORE something occurs. For example:\n - I want to match on strings that begin with a period, contain the word \"car\" and then contain a semicolon before the next period.</p>\n\n<p>In the past I have solved for this by splitting the range of allowable characters and putting the desired string in the middle. So for the above example the regex might be:</p>\n\n<pre><code>    \\..{1,35}?car.{1,35}?\\.\n</code></pre>\n\n<p>But this solution is undesirable because I don't REALLY want to allow 75 characters between the 2 periods. I really only want to allow 50 characters. But since I don't know if the word car will occur at the very beginning or the very end, I have to find some compromise of what would be tolerable before AND after and settle on (in this example) 35 characters on both sides.</p>\n\n<p>This will ultimately be in Python, but I'm hoping the principle can be explained in a flavor-neutral fashion.</p>\n\n<hr>\n\n<p>People have suggested that with this simple example, I should just check the string's length afterwards.</p>\n\n<p>This will not work for my needs because I want to look for multiple strings within the string. So for example I want to look for:</p>\n\n<p>Some string beginning with <code>[.;][\\s\"']{1,4}</code> and reaching a period within 150 characters but before reaching that period finding (in no particular order) at least 1 colon, CAR and a literal slash and than after that period I want to find the word PineApple within 100 characters.</p>\n\n<p>In an example like this, dropping in and out of regex to check string length would be burdensome. I'm not trying to force regex to do something it can't. I'm just asking if there is a way to get it working.</p>\n\n<p>(Again not looking for someone to post a regex to achieve the result above, instead looking for suggestions of how to use regex to solve the question asked before the edit).</p>\n"}, {"tags": ["python", "exception-handling"], "comments": [{"owner": {"reputation": 4230, "user_id": 1912128, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/YyM8r.png?s=128&g=1", "display_name": "taesu", "link": "https://stackoverflow.com/users/1912128/taesu"}, "edited": false, "score": 0, "creation_date": 1441236394, "post_id": 32364674, "comment_id": 52601854, "body": "can you give us an example url that fails?"}, {"owner": {"reputation": 582, "user_id": 5294585, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-3VgMixOzzcU/AAAAAAAAAAI/AAAAAAAABQ4/SZLIhuGrVsk/photo.jpg?sz=128", "display_name": "David Scott", "link": "https://stackoverflow.com/users/5294585/david-scott"}, "reply_to_user": {"reputation": 4230, "user_id": 1912128, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/YyM8r.png?s=128&g=1", "display_name": "taesu", "link": "https://stackoverflow.com/users/1912128/taesu"}, "edited": false, "score": 0, "creation_date": 1441237419, "post_id": 32364674, "comment_id": 52602107, "body": "<a href=\"http://www.zend.com/\" rel=\"nofollow noreferrer\">zend.com</a> is the URL that was failing intermittently."}], "answers": [{"tags": [], "owner": {"reputation": 582, "user_id": 5294585, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-3VgMixOzzcU/AAAAAAAAAAI/AAAAAAAABQ4/SZLIhuGrVsk/photo.jpg?sz=128", "display_name": "David Scott", "link": "https://stackoverflow.com/users/5294585/david-scott"}, "is_accepted": true, "score": 6, "last_activity_date": 1441237612, "last_edit_date": 1441237612, "creation_date": 1441237236, "answer_id": 32364851, "question_id": 32364674, "link": "https://stackoverflow.com/questions/32364674/catching-connectionreseterror-with-python/32364851#32364851", "title": "Catching ConnectionResetError with Python", "body": "<p>Solved! The issue is that that I was troubleshooting the connection to handle the ConnectionResetError, however, more careful examination of the full error indicated that the error was thrown by trying to process the response rather than opening the url:</p>\n\n<pre><code>  File \"exceptionerror.py\", line 97, in &lt;module&gt;\n    raw_response = response.read().decode('utf8', errors='ignore')\n</code></pre>\n\n<p>Because the connection was reset, rather than completely terminated, the script was able to successfully open the URL, and the error was generated when trying to decode the response, meaning that the try/except conditions were around the wrong lines.</p>\n\n<p>The following resolved the issue:</p>\n\n<pre><code>try:\n    raw_response = response.read().decode('utf8', errors='ignore')\nexcept ConnectionResetError:\n    brokenlinksflag = 1\n    brokenlinks = articlelinks[j] + ' ConnectionResetError, ' + brokenlinks\n    continue\n</code></pre>\n"}], "owner": {"reputation": 582, "user_id": 5294585, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-3VgMixOzzcU/AAAAAAAAAAI/AAAAAAAABQ4/SZLIhuGrVsk/photo.jpg?sz=128", "display_name": "David Scott", "link": "https://stackoverflow.com/users/5294585/david-scott"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 13615, "favorite_count": 3, "accepted_answer_id": 32364851, "answer_count": 1, "score": 8, "last_activity_date": 1441237612, "creation_date": 1441235961, "question_id": 32364674, "link": "https://stackoverflow.com/questions/32364674/catching-connectionreseterror-with-python", "title": "Catching ConnectionResetError with Python", "body": "<p>I'm building a Python script that searches through my database for all URLs and then follows the URLs to find broken links. This script requires using exception handling to log when it encounters an error opening a link, however it's started encountering an error that I've been completely unable to write an except statement for:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"exceptionerror.py\", line 97, in &lt;module&gt;\n    raw_response = response.read().decode('utf8', errors='ignore')\n  File \"/usr/lib/python3.4/http/client.py\", line 512, in read\n    s = self._safe_read(self.length)\n  File \"/usr/lib/python3.4/http/client.py\", line 662, in _safe_read\n    chunk = self.fp.read(min(amt, MAXAMOUNT))\n  File \"/usr/lib/python3.4/socket.py\", line 371, in readinto\n    return self._sock.recv_into(b)\nConnectionResetError: [Errno 104] Connection reset by peer\n</code></pre>\n\n<p>I've tried the following:</p>\n\n<pre><code>except SocketError as inst:\n    brokenlinksflag = 1\n    brokenlinks = articlelinks[j] + ' ' + sys.exc_info()[0] + ', ' + brokenlinks\n    continue\n</code></pre>\n\n<p>And:</p>\n\n<pre><code>except ConnectionResetError as inst:\n    brokenlinksflag = 1\n    brokenlinks = articlelinks[j] + ' ' + sys.exc_info()[0] + ', ' + brokenlinks\n    continue\n</code></pre>\n\n<p>And even a full generic exception to attempt to catch all errors just so it doesn't kill the whole script:</p>\n\n<pre><code>except:\n    print(\"This link was not caught by defined exceptions: \" + articlelinks[j])\n    continue\n</code></pre>\n\n<p>I'm at a complete loss for how to have my script catch this error so that it can continue checking for broken links rather than hard failing. It's intermittent, so I do not believe the link is broken, and I feel that even though I've identified the URL, simply catching it and skipping it before hand is cheating since my goal is to properly handle exceptions. Could someone advise me on how to handle this exception?</p>\n\n<p>For reference, here is my full loop:</p>\n\n<pre><code>for j in range(0, len(articlelinks)):\n    try:\n        req=urllib.request.Request(articlelinks[j], None, {'User-agent' : 'Mozilla/5.0 (Windows NT 6.3; rv:36.0) Gecko/20100101 Firefox/36.0'})\n        response = urllib.request.urlopen(req)\n    except urllib.request.HTTPError as inst:\n        brokenlinksflag = 1\n        brokenlinks = articlelinks[j] + ' ' + format(inst) + ', ' + brokenlinks\n        continue\n    except TimeoutError:\n        brokenlinksflag = 1\n        brokenlinks = articlelinks[j] + ' Timeout Error, ' + brokenlinks\n        continue\n    except urllib.error.URLError as inst:\n        brokenlinksflag = 1\n        brokenlinks = articlelinks[j] + ' ' + format(inst) + ', ' + brokenlinks\n        continue\n    except SocketError as inst:\n        brokenlinksflag = 1\n        brokenlinks = articlelinks[j] + ' ' + sys.exc_info()[0] + ', ' + brokenlinks\n        continue\n    except:\n        print(\"This article killed everything: \" + articlelinks[j])\n        exit()\n</code></pre>\n"}, {"tags": ["python", "shell", "python-2.7", "awk", "sed"], "comments": [{"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 2, "creation_date": 1441236070, "post_id": 32364669, "comment_id": 52601771, "body": "Have you tried concatenation, string formatting... anything, really?"}, {"owner": {"reputation": 1, "user_id": 4041301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53d0bf2c075fc8583b60a5fa84bae5a6?s=128&d=identicon&r=PG&f=1", "display_name": "Sam Grigoryan", "link": "https://stackoverflow.com/users/4041301/sam-grigoryan"}, "reply_to_user": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1441236112, "post_id": 32364669, "comment_id": 52601779, "body": "I tried Sed/Awk but Not able store string in variable and then append at end."}, {"owner": {"reputation": 2112, "user_id": 2992891, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/b1a7b81201a434521f931f77de9514d5?s=128&d=identicon&r=PG", "display_name": "pcantalupo", "link": "https://stackoverflow.com/users/2992891/pcantalupo"}, "edited": false, "score": 1, "creation_date": 1441238019, "post_id": 32364669, "comment_id": 52602260, "body": "show the code and output"}], "answers": [{"tags": [], "owner": {"reputation": 62252, "user_id": 1435869, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TrEd9.jpg?s=128&g=1", "display_name": "karakfa", "link": "https://stackoverflow.com/users/1435869/karakfa"}, "is_accepted": false, "score": 0, "last_activity_date": 1441237435, "creation_date": 1441237435, "answer_id": 32364874, "question_id": 32364669, "link": "https://stackoverflow.com/questions/32364669/how-to-make-a-string-a-html-ref/32364874#32364874", "title": "How to make a string a HTML ref?", "body": "<p>If you're learning it's better to post your script so that people can point out and correct your mistakes.</p>\n\n<p>Here is a solution with awk</p>\n\n<pre><code>awk -F, -vOFS=, '{print \"&lt;a href=\\\"url\\\"&gt;\"$1\"&lt;/a&gt;\"$2,$3,$4}'\n</code></pre>\n\n<p>fields can be accessed by $1,$2, etc.  Field separator and output field separator set to comma</p>\n"}, {"tags": [], "owner": {"reputation": 3660, "user_id": 2247264, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/a645fe19c42263286b982aaa633b96a9?s=128&d=identicon&r=PG", "display_name": "Dalen", "link": "https://stackoverflow.com/users/2247264/dalen"}, "is_accepted": false, "score": 0, "last_activity_date": 1441239710, "last_edit_date": 1441239710, "creation_date": 1441237885, "answer_id": 32364941, "question_id": 32364669, "link": "https://stackoverflow.com/questions/32364669/how-to-make-a-string-a-html-ref/32364941#32364941", "title": "How to make a string a HTML ref?", "body": "<p>Using formating and spliting:</p>\n\n<pre><code>def link (url, strtitle):\n    strtitle = strtitle.split(\",\")\n    title = strtitle[0].strip()\n    rest = \",\".join(strtitle[1:]).strip()\n    return '&lt;a href=\"%s\"&gt;%s&lt;/a&gt;,%s' % (url, title, rest)\n</code></pre>\n\n<p>You weren't exactly clear on what you want. Awk in Python, Python in shell, awk in shell, awk in Python. Only Python, only awk...</p>\n\n<p>If you want people to answer you, you have to be more explicit.</p>\n\n<p>If you want to get result of this from a shell, save my code with the execution line on top, give it execution permission,  and add:</p>\n\n<pre><code>if __name__==\"__main__\":\n    import sys\n    sys.stdout.write(link(sys.argv[1], sys.argv[2]))\n</code></pre>\n\n<p>in the code (before you save it. :D    ).\nThen from a shell:</p>\n\n<pre><code>$ echo $('./as_you_saved_me &lt;url&gt; \"1234, alex, san ram\u00f3n, ca, usa\"')\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 9362, "user_id": 2885763, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/l4VVG.jpg?s=128&g=1", "display_name": "NeronLeVelu", "link": "https://stackoverflow.com/users/2885763/neronlevelu"}, "is_accepted": false, "score": 0, "last_activity_date": 1441270088, "creation_date": 1441270088, "answer_id": 32371004, "question_id": 32364669, "link": "https://stackoverflow.com/questions/32364669/how-to-make-a-string-a-html-ref/32371004#32371004", "title": "How to make a string a HTML ref?", "body": "<pre><code>sed 's#[^,]*#&lt;a href=\"url\"&gt;&amp;&lt;/a&gt;#'\n</code></pre>\n\n<p>with a bit of security if number is not present</p>\n\n<pre><code>sed 's#^\\([0-9]\\{1,\\}\\),#&lt;a href=\"url\"&gt;\\1&lt;/a&gt;,#'\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 4041301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53d0bf2c075fc8583b60a5fa84bae5a6?s=128&d=identicon&r=PG&f=1", "display_name": "Sam Grigoryan", "link": "https://stackoverflow.com/users/4041301/sam-grigoryan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 38, "favorite_count": 0, "answer_count": 3, "score": -4, "last_activity_date": 1441270088, "creation_date": 1441235926, "last_edit_date": 1441236076, "question_id": 32364669, "link": "https://stackoverflow.com/questions/32364669/how-to-make-a-string-a-html-ref", "title": "How to make a string a HTML ref?", "body": "<p>I do have following line</p>\n\n<p>1234, alex, san ram\u00f3n, ca, usa</p>\n\n<p>I want first column \"1234\" to be a html href.</p>\n\n<p>Expected output </p>\n\n<pre><code>&lt;a href=\"url\"&gt;1234&lt;/a&gt;,alex, san ram\u00f3n, ca, usa\n</code></pre>\n"}, {"tags": ["python", "xls", "xlrd"], "answers": [{"tags": [], "owner": {"reputation": 565, "user_id": 3927604, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kF0p2.jpg?s=128&g=1", "display_name": "kanatti", "link": "https://stackoverflow.com/users/3927604/kanatti"}, "is_accepted": true, "score": 3, "last_activity_date": 1441236290, "creation_date": 1441236290, "answer_id": 32364720, "question_id": 32364648, "link": "https://stackoverflow.com/questions/32364648/python-xlrd-read-xls-file-what-is-the-r-in-front-of-the-path-do/32364720#32364720", "title": "python xlrd read xls file, what is the r in front of the path do?", "body": "<p>while passing the datapath to xlrd, you should use escape sequence for the space included in the folder name <code>Box sync</code>. Adding an r at the starting of a string makes it a raw string , where the space is interpreted as space itself and you dont need any escape sequence. You can read more about raw strings on python documentation page. <a href=\"https://docs.python.org/2/reference/lexical_analysis.html#literals\" rel=\"nofollow\">https://docs.python.org/2/reference/lexical_analysis.html#literals</a></p>\n"}], "owner": {"reputation": 2661, "user_id": 3768495, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/085b9585d2608c6356c01e6342ad43be?s=128&d=identicon&r=PG&f=1", "display_name": "user3768495", "link": "https://stackoverflow.com/users/3768495/user3768495"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2226, "favorite_count": 0, "accepted_answer_id": 32364720, "answer_count": 1, "score": 1, "last_activity_date": 1441236290, "creation_date": 1441235672, "question_id": 32364648, "link": "https://stackoverflow.com/questions/32364648/python-xlrd-read-xls-file-what-is-the-r-in-front-of-the-path-do", "title": "python xlrd read xls file, what is the r in front of the path do?", "body": "<p>I am using xlrd to read xls file in python. The code below doesn't work:</p>\n\n<pre><code>import xlrd\ndatapath = 'C:\\Users\\Box Sync\\pyCodes\\Practice\\2015_ERCOT_Hourly_Load_Data.xls'\nworkbook = xlrd.open_workbook(datapath)\nprint workbook\n</code></pre>\n\n<p>But after I added a r in front of the path, it worked.</p>\n\n<pre><code>import xlrd\ndatapath = r'C:\\Users\\Box Sync\\pyCodes\\Practice\\2015_ERCOT_Hourly_Load_Data.xls'\nworkbook = xlrd.open_workbook(datapath)\nprint workbook\n</code></pre>\n\n<p>What does the 'r' do here? Thanks!</p>\n"}, {"tags": ["python", "python-2.7", "directory", "package", "subdirectory"], "answers": [{"tags": [], "owner": {"reputation": 4011, "user_id": 1477064, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/cd12123a743db34ac0b055a6fa736788?s=128&d=identicon&r=PG", "display_name": "xvan", "link": "https://stackoverflow.com/users/1477064/xvan"}, "is_accepted": false, "score": 0, "last_activity_date": 1441303257, "last_edit_date": 1441303257, "creation_date": 1441300386, "answer_id": 32381751, "question_id": 32364594, "link": "https://stackoverflow.com/questions/32364594/accessing-a-package-from-multiple-locations-in-python/32381751#32381751", "title": "Accessing a package from multiple locations in python", "body": "<p>Put this on function.py</p>\n\n<pre><code>import sys\nsys.path.append(\"../commonFunc\")\nimport init\nimport package\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 5171397, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75520ed65586c763a341ed8b43ea0494?s=128&d=identicon&r=PG&f=1", "display_name": "D_Ramos", "link": "https://stackoverflow.com/users/5171397/d-ramos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 62, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1599476459, "creation_date": 1441235322, "last_edit_date": 1599476459, "question_id": 32364594, "link": "https://stackoverflow.com/questions/32364594/accessing-a-package-from-multiple-locations-in-python", "title": "Accessing a package from multiple locations in python", "body": "<p>So I have a package that contains several common functions used by different programs. Each of these programs has it's own folder. So essentially I have the following:</p>\n<pre><code>folder/\nfolder/commonFunc/\nfolder/commonFunc/__init__.py\nfolder/commonFunc/package.py\nfolder/Program/\nfolder/program/function.py\n</code></pre>\n<p>and so on..</p>\n<p>Assuming that all the programs have to remain in separate folders, is there any way I can access the package from a folder inside the parent directory. If so, how would I go about doing this.</p>\n<p>Thanks and sorry if its a bit confusing!</p>\n"}, {"tags": ["python", "macos", "opencv"], "comments": [{"owner": {"reputation": 13936, "user_id": 3598119, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/6c9c7dfa28a57e8011d12208a7c86d20?s=128&d=identicon&r=PG", "display_name": "Chris Beck", "link": "https://stackoverflow.com/users/3598119/chris-beck"}, "edited": false, "score": 0, "creation_date": 1441239414, "post_id": 32364543, "comment_id": 52602629, "body": "You should report this to the OpenCV 3 developers, and check if your compiler is supported. From your error message <code>&#47;usr&#47;include&#47;c++&#47;4.2.1</code> i surmise you are using something like gcc version 4.2.1? That is extremely old, you might want to upgrade."}, {"owner": {"reputation": 485, "user_id": 3186067, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/6b160516f573107de622932aca17ba1e?s=128&d=identicon&r=PG&f=1", "display_name": "Nezo", "link": "https://stackoverflow.com/users/3186067/nezo"}, "reply_to_user": {"reputation": 13936, "user_id": 3598119, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/6c9c7dfa28a57e8011d12208a7c86d20?s=128&d=identicon&r=PG", "display_name": "Chris Beck", "link": "https://stackoverflow.com/users/3598119/chris-beck"}, "edited": false, "score": 0, "creation_date": 1441242989, "post_id": 32364543, "comment_id": 52603342, "body": "How would I go about updating it?  I downloaded gcc 5.2.0 and replaced /usr/bin/gcc (this may have been a bad idea), yet it still tries to use /usr/include/c++/4.2.1."}, {"owner": {"reputation": 13936, "user_id": 3598119, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/6c9c7dfa28a57e8011d12208a7c86d20?s=128&d=identicon&r=PG", "display_name": "Chris Beck", "link": "https://stackoverflow.com/users/3598119/chris-beck"}, "edited": false, "score": 0, "creation_date": 1441244573, "post_id": 32364543, "comment_id": 52603668, "body": "I don&#39;t know how you downloaded it... probably you should build it from source using homebrew or something for best results. And you need to make sure that when you build OpenCV that you tell it to use the newer version"}, {"owner": {"reputation": 485, "user_id": 3186067, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/6b160516f573107de622932aca17ba1e?s=128&d=identicon&r=PG&f=1", "display_name": "Nezo", "link": "https://stackoverflow.com/users/3186067/nezo"}, "reply_to_user": {"reputation": 13936, "user_id": 3598119, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/6c9c7dfa28a57e8011d12208a7c86d20?s=128&d=identicon&r=PG", "display_name": "Chris Beck", "link": "https://stackoverflow.com/users/3598119/chris-beck"}, "edited": false, "score": 0, "creation_date": 1441244950, "post_id": 32364543, "comment_id": 52603767, "body": "I downloaded it using brew, and then copied the file from my homebrew directory to /usr/bin/gcc.  How do I tell OpenCV which to use?"}, {"owner": {"reputation": 13936, "user_id": 3598119, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/6c9c7dfa28a57e8011d12208a7c86d20?s=128&d=identicon&r=PG", "display_name": "Chris Beck", "link": "https://stackoverflow.com/users/3598119/chris-beck"}, "edited": false, "score": 0, "creation_date": 1441245328, "post_id": 32364543, "comment_id": 52603866, "body": "(1) don&#39;t copy things away from brew, just use them wherever brew puts them (2) read some documentation on cmake so you can learn how to use the build system and tell it what compiler to use"}, {"owner": {"reputation": 2079, "user_id": 2473294, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/0b19818fd2af5c3f3f56cd8cd657089f?s=128&d=identicon&r=PG&f=1", "display_name": "Ollegn", "link": "https://stackoverflow.com/users/2473294/ollegn"}, "edited": false, "score": 0, "creation_date": 1441262343, "post_id": 32364543, "comment_id": 52608915, "body": "have you tried to disable IPP after generating the make files, i had a lot of problems related to IPP, it may be yours too."}], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 3573683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c30e23a3918095680eddc29c932e64c5?s=128&d=identicon&r=PG&f=1", "display_name": "shapiromh", "link": "https://stackoverflow.com/users/3573683/shapiromh"}, "is_accepted": false, "score": 1, "last_activity_date": 1441829083, "creation_date": 1441829083, "answer_id": 32488236, "question_id": 32364543, "link": "https://stackoverflow.com/questions/32364543/error-when-building-opencv-3-for-mac-os-x/32488236#32488236", "title": "Error when building OpenCV 3 for Mac OS X", "body": "<p>I ran into the same issue going through this process. For some reason that version of cmath does not include methods for handling integer, integer arguments for the power function (extremes is a vector of integers at that part of the code). I added a new function to handle it, the code for which I have included below. A few other issues will be raised if the compilation continues when power is applied to integer, float or integer, double arguments. For these you can just use the existing built-in methods for the power function. </p>\n\n<p>After making the adjustment to cmath and continuing with the installation, I ran into no further issues.</p>\n\n<p>C++ code for power(integer, integer) adapted from the Exponentiation by Squaring article on wikipedia:</p>\n\n<pre><code>inline double \npow(int __x, int __n)\n{\n    double myx = __x, myn = __n;\n    if (__n&lt;0){\n        myx = 1.0/ __x;\n        myn = -__n;\n    } \n    if(__n==0){\n        return 1; \n    }\n    double myy=1;\n    while(myn &gt; 1){\n       if (((int)myn)%2==0){\n           myx = myx * myx;\n           myn = myn / 2;\n       }else{\n           myy = myx * myy;\n           myx = myx * myx;\n           myn = (myn - 1) / 2;\n       }\n    }\n    return myx*myy;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 2648102, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IZ0Hf.jpg?s=128&g=1", "display_name": "gutoo", "link": "https://stackoverflow.com/users/2648102/gutoo"}, "is_accepted": false, "score": 0, "last_activity_date": 1462173759, "last_edit_date": 1462173759, "creation_date": 1462172136, "answer_id": 36976586, "question_id": 32364543, "link": "https://stackoverflow.com/questions/32364543/error-when-building-opencv-3-for-mac-os-x/36976586#36976586", "title": "Error when building OpenCV 3 for Mac OS X", "body": "<p>Thank you for shapiromh. Due to your solution, I can solve this problem. To do so, I modified the cmath source as below as like your case.</p>\n\n<pre><code>  inline double\n  pow(int __x, int __y)\n  { return __builtin_powf(__x, __y); } \n</code></pre>\n"}], "owner": {"reputation": 485, "user_id": 3186067, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/6b160516f573107de622932aca17ba1e?s=128&d=identicon&r=PG&f=1", "display_name": "Nezo", "link": "https://stackoverflow.com/users/3186067/nezo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 675, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1462173759, "creation_date": 1441234963, "question_id": 32364543, "link": "https://stackoverflow.com/questions/32364543/error-when-building-opencv-3-for-mac-os-x", "title": "Error when building OpenCV 3 for Mac OS X", "body": "<p>I am trying to build OpenCV 3 for Mac OS X.  I am following the instructions from <a href=\"http://www.pyimagesearch.com/2015/06/15/install-opencv-3-0-and-python-2-7-on-osx/\" rel=\"nofollow\">http://www.pyimagesearch.com/2015/06/15/install-opencv-3-0-and-python-2-7-on-osx/</a></p>\n\n<p>I get the following output:</p>\n\n<pre><code>...\n[ 50%] Linking CXX executable ../../bin/opencv_test_latentsvm\n[ 50%] Built target opencv_test_latentsvm\n[ 50%] Building CXX object modules/features2d/CMakeFiles/opencv_perf_features2d.dir/perf/perf_main.cpp.o\n[ 50%] Building CXX object modules/line_descriptor/CMakeFiles/opencv_line_descriptor.dir/src/binary_descriptor_matcher.cpp.o\n[ 50%] Building CXX object modules/features2d/CMakeFiles/opencv_test_features2d.dir/test/test_keypoints.cpp.o\n[ 50%] Building CXX object modules/features2d/CMakeFiles/opencv_perf_features2d.dir/perf/perf_orb.cpp.o\nScanning dependencies of target opencv_saliency\n[ 50%] Building CXX object modules/saliency/CMakeFiles/opencv_saliency.dir/src/BING/CmFile.cpp.o\n[ 50%] Building CXX object modules/line_descriptor/CMakeFiles/opencv_line_descriptor.dir/src/draw.cpp.o\n[ 50%] Building CXX object modules/features2d/CMakeFiles/opencv_test_features2d.dir/test/test_main.cpp.o\n[ 50%] Building CXX object modules/saliency/CMakeFiles/opencv_saliency.dir/src/BING/CmShow.cpp.o\n[ 50%] Building CXX object modules/line_descriptor/CMakeFiles/opencv_line_descriptor.dir/src/LSDDetector.cpp.o\n[ 50%] Linking CXX executable ../../bin/opencv_perf_features2d\n[ 50%] Built target opencv_perf_features2d\n[ 50%] Building CXX object modules/features2d/CMakeFiles/opencv_test_features2d.dir/test/test_matchers_algorithmic.cpp.o\n[ 50%] Building CXX object modules/saliency/CMakeFiles/opencv_saliency.dir/src/BING/FilterTIG.cpp.o\nScanning dependencies of target opencv_text\n[ 50%] Building CXX object modules/text/CMakeFiles/opencv_text.dir/src/erfilter.cpp.o\n/Users/samadwara/opencv_contrib/modules/line_descriptor/src/LSDDetector.cpp:182:37: error: call to 'pow' is ambiguous\n      kl.lineLength = (float) sqrt( pow( extremes[0] - extremes[2], 2 ) + pow( extremes[1] - extremes[3], 2 ) );\n                                    ^~~\n/usr/include/c++/4.2.1/cmath:364:3: note: candidate function\n  pow(double __x, int __i)\n  ^\n/usr/include/c++/4.2.1/cmath:368:3: note: candidate function\n  pow(float __x, int __n)\n  ^\n/usr/include/c++/4.2.1/cmath:372:3: note: candidate function\n  pow(long double __x, int __n)\n  ^\n/usr/include/math.h:436:15: note: candidate function\nextern double pow(double, double);\n              ^\n/usr/include/c++/4.2.1/cmath:356:3: note: candidate function\n  pow(float __x, float __y)\n  ^\n/usr/include/c++/4.2.1/cmath:360:3: note: candidate function\n  pow(long double __x, long double __y)\n  ^\n/Users/samadwara/opencv_contrib/modules/line_descriptor/src/LSDDetector.cpp:182:75: error: call to 'pow' is ambiguous\n      kl.lineLength = (float) sqrt( pow( extremes[0] - extremes[2], 2 ) + pow( extremes[1] - extremes[3], 2 ) );\n                                                                          ^~~\n/usr/include/c++/4.2.1/cmath:364:3: note: candidate function\n  pow(double __x, int __i)\n  ^\n/usr/include/c++/4.2.1/cmath:368:3: note: candidate function\n  pow(float __x, int __n)\n  ^\n/usr/include/c++/4.2.1/cmath:372:3: note: candidate function\n  pow(long double __x, int __n)\n  ^\n/usr/include/math.h:436:15: note: candidate function\nextern double pow(double, double);\n              ^\n/usr/include/c++/4.2.1/cmath:356:3: note: candidate function\n  pow(float __x, float __y)\n  ^\n/usr/include/c++/4.2.1/cmath:360:3: note: candidate function\n  pow(long double __x, long double __y)\n  ^\n2 errors generated.\nmake[2]: *** [modules/line_descriptor/CMakeFiles/opencv_line_descriptor.dir/src/LSDDetector.cpp.o] Error 1\nmake[1]: *** [modules/line_descriptor/CMakeFiles/opencv_line_descriptor.dir/all] Error 2\nmake[1]: *** Waiting for unfinished jobs....\n[ 50%] Building CXX object modules/features2d/CMakeFiles/opencv_test_features2d.dir/test/test_mser.cpp.o\n[ 51%] Building CXX object modules/saliency/CMakeFiles/opencv_saliency.dir/src/BING/objectnessBING.cpp.o\n[ 51%] Building CXX object modules/text/CMakeFiles/opencv_text.dir/src/ocr_hmm_decoder.cpp.o\n[ 51%] Building CXX object modules/features2d/CMakeFiles/opencv_test_features2d.dir/test/test_nearestneighbors.cpp.o\n[ 51%] Building CXX object modules/saliency/CMakeFiles/opencv_saliency.dir/src/BING/ValStructVec.cpp.o\n[ 51%] Building CXX object modules/saliency/CMakeFiles/opencv_saliency.dir/src/motionSaliency.cpp.o\n[ 51%] Building CXX object modules/text/CMakeFiles/opencv_text.dir/src/ocr_tesseract.cpp.o\n[ 51%] Building CXX object modules/features2d/CMakeFiles/opencv_test_features2d.dir/test/test_orb.cpp.o\n[ 51%] Building CXX object modules/saliency/CMakeFiles/opencv_saliency.dir/src/motionSaliencyBinWangApr2014.cpp.o\n[ 51%] Building CXX object modules/saliency/CMakeFiles/opencv_saliency.dir/src/objectness.cpp.o\n[ 51%] Linking CXX shared library ../../lib/libopencv_text.dylib\n[ 51%] Built target opencv_text\n[ 51%] Building CXX object modules/features2d/CMakeFiles/opencv_test_features2d.dir/test/test_rotation_and_scale_invariance.cpp.o\n[ 51%] Building CXX object modules/saliency/CMakeFiles/opencv_saliency.dir/src/saliency.cpp.o\n[ 51%] Building CXX object modules/saliency/CMakeFiles/opencv_saliency.dir/src/staticSaliency.cpp.o\n[ 51%] Building CXX object modules/saliency/CMakeFiles/opencv_saliency.dir/src/staticSaliencySpectralResidual.cpp.o\n[ 51%] Linking CXX shared library ../../lib/libopencv_saliency.dylib\n[ 51%] Linking CXX executable ../../bin/opencv_test_features2d\n[ 51%] Built target opencv_saliency\n[ 51%] Built target opencv_test_features2d\nmake: *** [all] Error 2\n ~/opencv/build $\n</code></pre>\n\n<p>Any ideas about how to resolve this issue?  If all else fails, I'll just install a Linux VM and use that.</p>\n"}, {"tags": ["python", "python-2.7"], "comments": [{"owner": {"reputation": 423, "user_id": 3232741, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/08fd69c17db537c821d32bcc6f40431b?s=128&d=identicon&r=PG&f=1", "display_name": "Kelo", "link": "https://stackoverflow.com/users/3232741/kelo"}, "edited": false, "score": 4, "creation_date": 1441235086, "post_id": 32364540, "comment_id": 52601489, "body": "You really should use google....<a href=\"https://docs.python.org/2/library/codecs.html#standard-encodings\" rel=\"nofollow noreferrer\">docs.python.org/2/library/codecs.html#standard-enc&zwnj;&#8203;odings</a>"}, {"owner": {"reputation": 269348, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "edited": false, "score": 0, "creation_date": 1441235130, "post_id": 32364540, "comment_id": 52601503, "body": "Be aware that Python 3 changes things greatly. Don&#39;t get used to doing things in a way that won&#39;t be supported later."}, {"owner": {"reputation": 67048, "user_id": 388787, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f786b1ad349a30e02802ae61b4518fc?s=128&d=identicon&r=PG", "display_name": "Dan D.", "link": "https://stackoverflow.com/users/388787/dan-d"}, "edited": false, "score": 0, "creation_date": 1441235337, "post_id": 32364540, "comment_id": 52601563, "body": "<code>hi.decode(&quot;hex&quot;)</code> could be written more durably as <code>binascii.unhexlify(hi)</code>."}], "answers": [{"tags": [], "owner": {"reputation": 4274, "user_id": 5113071, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/27afe5aa502eb75ce05a49b47846889d?s=128&d=identicon&r=PG", "display_name": "Shawn Mehan", "link": "https://stackoverflow.com/users/5113071/shawn-mehan"}, "is_accepted": true, "score": 1, "last_activity_date": 1441237903, "last_edit_date": 1441237903, "creation_date": 1441235287, "answer_id": 32364592, "question_id": 32364540, "link": "https://stackoverflow.com/questions/32364540/python-decode-function/32364592#32364592", "title": "Python .decode function", "body": "<p>The full list for python 2.7.x is <a href=\"https://docs.python.org/2/library/codecs.html#standard-encodings\" rel=\"nofollow\">here</a> in 7.8.3 and 7.8.4</p>\n"}], "owner": {"reputation": 39, "user_id": 5283027, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/79a33858697636726eaa9e40b663d3a5?s=128&d=identicon&r=PG&f=1", "display_name": "J. Doe", "link": "https://stackoverflow.com/users/5283027/j-doe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 267, "favorite_count": 0, "accepted_answer_id": 32364592, "answer_count": 1, "score": 0, "last_activity_date": 1441237903, "creation_date": 1441234956, "last_edit_date": 1441235688, "question_id": 32364540, "link": "https://stackoverflow.com/questions/32364540/python-decode-function", "title": "Python .decode function", "body": "<p>What are the strings that python can decode?</p>\n\n<pre><code>hi = \"647361647361\"\nlolly = hi.decode(\"hex\")\nprint lolly\n</code></pre>\n\n<p>What are other .decode functions that are present in python? other than (\"hex\")? is there a full list?</p>\n"}, {"tags": ["python", "python-2.7", "enthought", "canopy"], "comments": [{"owner": {"reputation": 450, "user_id": 4686005, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LC3ey.png?s=128&g=1", "display_name": "Danny", "link": "https://stackoverflow.com/users/4686005/danny"}, "edited": false, "score": 0, "creation_date": 1441244580, "post_id": 32364538, "comment_id": 52603671, "body": "Could you give some more context? OS version, other changes that occurred between 3 weeks ago and today?"}], "answers": [{"comments": [{"owner": {"reputation": 5775, "user_id": 1988991, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33a4ae5d937c20301fb9442597a6d0ee?s=128&d=identicon&r=PG", "display_name": "Jonathan March", "link": "https://stackoverflow.com/users/1988991/jonathan-march"}, "edited": false, "score": 0, "creation_date": 1511881368, "post_id": 32365064, "comment_id": 82026014, "body": "For the record, The current version of Canopy is 2.1.6. To update Canopy, please see <a href=\"https://support.enthought.com/hc/en-us/articles/204469570-Installing-a-new-Canopy-version\" rel=\"nofollow noreferrer\">&quot;Installing a new Canopy version&quot;</a>."}], "tags": [], "owner": {"reputation": 5775, "user_id": 1988991, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33a4ae5d937c20301fb9442597a6d0ee?s=128&d=identicon&r=PG", "display_name": "Jonathan March", "link": "https://stackoverflow.com/users/1988991/jonathan-march"}, "is_accepted": false, "score": 2, "last_activity_date": 1441238720, "creation_date": 1441238720, "answer_id": 32365064, "question_id": 32364538, "link": "https://stackoverflow.com/questions/32364538/enthought-canopy-does-not-start/32365064#32365064", "title": "enthought canopy does not start", "body": "<p>Reinstalling is very unlikely to make a difference, so I don't recommend doing it; But if there has been corruption, as seems likely, then resetting (i.e. deleting the System, User, and configuration directories), then restarting Canopy, is likely to get you going again. See:\n<a href=\"https://support.enthought.com/entries/23580651-Uninstalling-and-resetting-Canopy\" rel=\"nofollow\">https://support.enthought.com/entries/23580651-Uninstalling-and-resetting-Canopy</a></p>\n"}], "owner": {"reputation": 29, "user_id": 3388205, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/19eb72f8461e0fe1d522aff6bb8e2015?s=128&d=identicon&r=PG&f=1", "display_name": "user3388205", "link": "https://stackoverflow.com/users/3388205/user3388205"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2276, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1441238720, "creation_date": 1441234953, "question_id": 32364538, "link": "https://stackoverflow.com/questions/32364538/enthought-canopy-does-not-start", "title": "enthought canopy does not start", "body": "<p>I installed it about 3 weeks ago and it's been working fine, the 32 bit version onto my 64 bit PC. I tried opening it up today and nothing was working. It just wouldn't open, there was no loading error or message, nothing came up. I deleted it and downloaded the 64 bit version. Still the same. Then I deleted some PYTHONPATH I had because I heard that would make it work but still nothing.</p>\n"}, {"tags": ["python", "mysql", "sqlalchemy"], "answers": [{"comments": [{"owner": {"reputation": 4056, "user_id": 10521959, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DymiN.png?s=128&g=1", "display_name": "Yaakov Bressler", "link": "https://stackoverflow.com/users/10521959/yaakov-bressler"}, "edited": false, "score": 0, "creation_date": 1610081679, "post_id": 32368674, "comment_id": 116025164, "body": "Is there a way to make this apply to many models / tables?"}, {"owner": {"reputation": 60742, "user_id": 99594, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/5434869366641f527b3f25a34f6e4665?s=128&d=identicon&r=PG", "display_name": "van", "link": "https://stackoverflow.com/users/99594/van"}, "reply_to_user": {"reputation": 4056, "user_id": 10521959, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DymiN.png?s=128&g=1", "display_name": "Yaakov Bressler", "link": "https://stackoverflow.com/users/10521959/yaakov-bressler"}, "edited": false, "score": 1, "creation_date": 1610435642, "post_id": 32368674, "comment_id": 116124412, "body": "@YaakovBressler: sure, just extract the code you want into a base class, or a mixin class."}], "tags": [], "owner": {"reputation": 60742, "user_id": 99594, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/5434869366641f527b3f25a34f6e4665?s=128&d=identicon&r=PG", "display_name": "van", "link": "https://stackoverflow.com/users/99594/van"}, "is_accepted": true, "score": 11, "last_activity_date": 1441262651, "creation_date": 1441262651, "answer_id": 32368674, "question_id": 32364499, "link": "https://stackoverflow.com/questions/32364499/truncating-too-long-varchar-when-inserting-to-mysql-via-sqlalchemy/32368674#32368674", "title": "Truncating too long varchar when inserting to MySQL via SQLAlchemy", "body": "<p>If you would like to <code>enfoce</code> max length by automatically truncating it on the python/sqlalchemy side, I think that using <a href=\"http://docs.sqlalchemy.org/en/rel_1_0/orm/mapped_attributes.html#simple-validators\" rel=\"noreferrer\">Simple Validators</a> is the easiest way to achieve this:</p>\n\n<pre><code>class MyTable(Base):\n    __tablename__ = 'my_table'\n\n    id = Column(Integer, primary_key=True)\n    code = Column(String(4))\n    name = Column(String(10))\n\n    @validates('code', 'name')\n    def validate_code(self, key, value):\n        max_len = getattr(self.__class__, key).prop.columns[0].type.length\n        if value and len(value) &gt; max_len:\n            return value[:max_len]\n        return value\n</code></pre>\n"}], "owner": {"reputation": 15605, "user_id": 39726, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/b14f45eef5521771da8d792a4009b906?s=128&d=identicon&r=PG", "display_name": "Jiri", "link": "https://stackoverflow.com/users/39726/jiri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3029, "favorite_count": 1, "accepted_answer_id": 32368674, "answer_count": 1, "score": 5, "last_activity_date": 1441262651, "creation_date": 1441234699, "question_id": 32364499, "link": "https://stackoverflow.com/questions/32364499/truncating-too-long-varchar-when-inserting-to-mysql-via-sqlalchemy", "title": "Truncating too long varchar when inserting to MySQL via SQLAlchemy", "body": "<p>I am inserting data to MySQL via SQLAlchemy models. Recently, this app is running against MySQL configured with <code>STRICT_TRANS_TABLES</code> and app fails occasionally because of <em>Data too long for column</em> error.</p>\n\n<p>I know that I can disable <strong>strict</strong> sql_mode for my session (like here <a href=\"https://stackoverflow.com/questions/18459184/mysql-too-long-varchar-truncation-error-setting\">MySQL too long varchar truncation/error setting</a>),</p>\n\n<p>but I was curious if SQLAlchemy can enforce max String() length for column data. Documentation says, the <code>String()</code> length is for <code>CREATE TABLE</code> only. My question:</p>\n\n<ol>\n<li>Is it possible to enforce max length (truncate too long strings) in SQLAlchemy? </li>\n<li>Can I set it <strong>for individual columns</strong> or for all columns in all tables/database only?</li>\n</ol>\n"}, {"tags": ["php", "python", "wordpress"], "comments": [{"owner": {"reputation": 4230, "user_id": 1912128, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/YyM8r.png?s=128&g=1", "display_name": "taesu", "link": "https://stackoverflow.com/users/1912128/taesu"}, "edited": false, "score": 0, "creation_date": 1441234554, "post_id": 32364468, "comment_id": 52601335, "body": "I know you said it, but I <b>strongly</b> suggest you just to port the code to either php or javascript."}, {"owner": {"user_type": "does_not_exist", "display_name": "user557846"}, "edited": false, "score": 0, "creation_date": 1441234726, "post_id": 32364468, "comment_id": 52601379, "body": "probably get it translated for a handful of pesos on one of the freelancing sites."}, {"owner": {"reputation": 325, "user_id": 4788842, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f9d213555fddb0c58187c583dc374969?s=128&d=identicon&r=PG&f=1", "display_name": "ChrisDH", "link": "https://stackoverflow.com/users/4788842/chrisdh"}, "edited": false, "score": 0, "creation_date": 1441234726, "post_id": 32364468, "comment_id": 52601380, "body": "by &#39;port&#39; do you mean translate it myself, or is there a way to have php read it?"}, {"owner": {"reputation": 325, "user_id": 4788842, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f9d213555fddb0c58187c583dc374969?s=128&d=identicon&r=PG&f=1", "display_name": "ChrisDH", "link": "https://stackoverflow.com/users/4788842/chrisdh"}, "edited": false, "score": 0, "creation_date": 1441237127, "post_id": 32364468, "comment_id": 52602036, "body": "is there a way to modify [link] (<a href=\"http://wordpress.stackexchange.com/questions/120259/running-a-python-script-within-wordpress\" title=\"running a python script within wordpress\">wordpress.stackexchange.com/questions/120259/&hellip;</a>) to just take a textbox input?"}], "owner": {"reputation": 325, "user_id": 4788842, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f9d213555fddb0c58187c583dc374969?s=128&d=identicon&r=PG&f=1", "display_name": "ChrisDH", "link": "https://stackoverflow.com/users/4788842/chrisdh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 240, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1441237422, "creation_date": 1441234483, "last_edit_date": 1492087048, "question_id": 32364468, "link": "https://stackoverflow.com/questions/32364468/wordpress-textbox-input-python-display-output-on-wordpress", "title": "Wordpress textbox input -&gt; python -&gt; display output on wordpress", "body": "<p>I have a python script I would like to use on my Wordpress website. The script takes a string input, manipulates the strings, and yields a list of strings as output. I would like to have a simple text box on my wordpress site, in which users can input text as the input to the python script, have the python script run, and display the output on the wordpress page.</p>\n\n<p>After looking around the only suggestion I found was python-wordpress-xmlrpc, but I can't seem to make any sense out of it. Is there an easy way to do this, or a tutorial somewhere? I don't know php well, so translating the python to php is not an option.</p>\n\n<p>Is there a way to modify this <a href=\"https://wordpress.stackexchange.com/questions/120259/running-a-python-script-within-wordpress\">https://wordpress.stackexchange.com/questions/120259/running-a-python-script-within-wordpress</a> to take a textbox input?</p>\n"}, {"tags": ["python", "url"], "comments": [{"owner": {"reputation": 4230, "user_id": 1912128, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/YyM8r.png?s=128&g=1", "display_name": "taesu", "link": "https://stackoverflow.com/users/1912128/taesu"}, "edited": false, "score": 0, "creation_date": 1441234261, "post_id": 32364352, "comment_id": 52601246, "body": "couldn&#39;t you do a simple <code>str.format(x,y,z)</code> before you set <code>r</code>?"}, {"owner": {"reputation": 14664, "user_id": 233098, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/f6019c48fc1cec3f2a076560d0ec1467?s=128&d=identicon&r=PG", "display_name": "Joe", "link": "https://stackoverflow.com/users/233098/joe"}, "reply_to_user": {"reputation": 4230, "user_id": 1912128, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/YyM8r.png?s=128&g=1", "display_name": "taesu", "link": "https://stackoverflow.com/users/1912128/taesu"}, "edited": false, "score": 0, "creation_date": 1441249686, "post_id": 32364352, "comment_id": 52604755, "body": "@taesu No, the characters that need escaped won&#39;t get escaped that way. See my update."}, {"owner": {"reputation": 14664, "user_id": 233098, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/f6019c48fc1cec3f2a076560d0ec1467?s=128&d=identicon&r=PG", "display_name": "Joe", "link": "https://stackoverflow.com/users/233098/joe"}, "reply_to_user": {"reputation": 2090, "user_id": 884986, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1842d81fb2949ec808a79045de2e21a3?s=128&d=identicon&r=PG", "display_name": "iAdjunct", "link": "https://stackoverflow.com/users/884986/iadjunct"}, "edited": false, "score": 0, "creation_date": 1441250773, "post_id": 32364352, "comment_id": 52605000, "body": "@iAdjunct Writing your own copy of what needs escaped (and not maintaining it) is a security risk."}], "answers": [{"tags": [], "owner": {"reputation": 14664, "user_id": 233098, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/f6019c48fc1cec3f2a076560d0ec1467?s=128&d=identicon&r=PG", "display_name": "Joe", "link": "https://stackoverflow.com/users/233098/joe"}, "is_accepted": false, "score": 2, "last_activity_date": 1441252805, "last_edit_date": 1495541312, "creation_date": 1441252805, "answer_id": 32366731, "question_id": 32364352, "link": "https://stackoverflow.com/questions/32364352/how-do-you-build-a-url-that-contains-a-username-and-password-from-user-input-in/32366731#32366731", "title": "How do you build a URL that contains a username and password from user input in Python?", "body": "<p>Turns out the username part of basic auth URLs <a href=\"https://stackoverflow.com/questions/10050877/url-username-with\">use the same escape characters</a> that query parameters do.</p>\n\n<p>So the answer is to use <code>urllib.quote(username, safe='')</code> then concatenate. (<a href=\"https://stackoverflow.com/questions/1695183/how-to-percent-encode-url-parameters-in-python\">You'll need</a> the <code>safe</code> parameter or <code>/</code> won't be escapted.)</p>\n"}], "owner": {"reputation": 14664, "user_id": 233098, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/f6019c48fc1cec3f2a076560d0ec1467?s=128&d=identicon&r=PG", "display_name": "Joe", "link": "https://stackoverflow.com/users/233098/joe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 845, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1441253206, "creation_date": 1441233856, "last_edit_date": 1441253206, "question_id": 32364352, "link": "https://stackoverflow.com/questions/32364352/how-do-you-build-a-url-that-contains-a-username-and-password-from-user-input-in", "title": "How do you build a URL that contains a username and password from user input in Python?", "body": "<p>I see you can parse usernames and passwords with:</p>\n\n<pre><code>from urlparse import urlparse\nr = urlparse('http://myuser:mypass@example.com')\nprint r.username\n# =&gt; 'myuser'\n</code></pre>\n\n<p>How can I go the other way? I can't use <code>urlunparse</code> because I can't do this:</p>\n\n<pre><code>r.username = request.args['username']\n# =&gt; AttributeError: can't set attribute\n</code></pre>\n\n<p>I'm interested because the username contains characters that need escaped (namely: <code>@</code>, <code>/</code>).</p>\n\n<p><strong>Edit:</strong></p>\n\n<p>This string is coming from user input, so I won't know ahead of time what it is. It's a security risk to maintain your own list of escape characters, so string concatenation and custom character escaping with <code>replace</code> won't help here.</p>\n"}, {"tags": ["python", "variables", "scope", "return"], "comments": [{"owner": {"reputation": 21133, "user_id": 1084416, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RLhZZ.jpg?s=128&g=1", "display_name": "Peter Wood", "link": "https://stackoverflow.com/users/1084416/peter-wood"}, "edited": false, "score": 0, "creation_date": 1441233846, "post_id": 32364313, "comment_id": 52601108, "body": "You need to declare it global, otherwise you&#39;re creating a new name <code>squared</code> in the scope of the <code>square</code> function."}, {"owner": {"reputation": 216457, "user_id": 846892, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/E9dZn.png?s=128&g=1", "display_name": "Ashwini Chaudhary", "link": "https://stackoverflow.com/users/846892/ashwini-chaudhary"}, "edited": false, "score": 0, "creation_date": 1441233858, "post_id": 32364313, "comment_id": 52601110, "body": "Why would you expect it to be 100? What&#39;s the point of a function then, functions provide <b>local scope</b>."}, {"owner": {"reputation": 305, "user_id": 4117731, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/6f7736629a1b134c4419e297dbb971ce?s=128&d=identicon&r=PG&f=1", "display_name": "ruben_KAI", "link": "https://stackoverflow.com/users/4117731/ruben-kai"}, "reply_to_user": {"reputation": 216457, "user_id": 846892, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/E9dZn.png?s=128&g=1", "display_name": "Ashwini Chaudhary", "link": "https://stackoverflow.com/users/846892/ashwini-chaudhary"}, "edited": false, "score": 0, "creation_date": 1441233923, "post_id": 32364313, "comment_id": 52601126, "body": "@Ashwini well it would be 100 until the function is called again with another n."}, {"owner": {"reputation": 15387, "user_id": 2588818, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/0PpNx.jpg?s=128&g=1", "display_name": "Two-Bit Alchemist", "link": "https://stackoverflow.com/users/2588818/two-bit-alchemist"}, "edited": false, "score": 0, "creation_date": 1441233925, "post_id": 32364313, "comment_id": 52601127, "body": "Try: <code>squared = square(10); print(squared)</code>"}, {"owner": {"reputation": 305, "user_id": 4117731, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/6f7736629a1b134c4419e297dbb971ce?s=128&d=identicon&r=PG&f=1", "display_name": "ruben_KAI", "link": "https://stackoverflow.com/users/4117731/ruben-kai"}, "reply_to_user": {"reputation": 21133, "user_id": 1084416, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RLhZZ.jpg?s=128&g=1", "display_name": "Peter Wood", "link": "https://stackoverflow.com/users/1084416/peter-wood"}, "edited": false, "score": 0, "creation_date": 1441233937, "post_id": 32364313, "comment_id": 52601132, "body": "@PeterWood Thank you!!"}, {"owner": {"reputation": 15387, "user_id": 2588818, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/0PpNx.jpg?s=128&g=1", "display_name": "Two-Bit Alchemist", "link": "https://stackoverflow.com/users/2588818/two-bit-alchemist"}, "edited": false, "score": 4, "creation_date": 1441233980, "post_id": 32364313, "comment_id": 52601151, "body": "@RubenBaden Stop! You have learned the wrong thing here! <b>Do not abuse global scope because you do not understand scope.</b> Read an introductory material that explains scope. It is there for a reason."}, {"owner": {"reputation": 305, "user_id": 4117731, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/6f7736629a1b134c4419e297dbb971ce?s=128&d=identicon&r=PG&f=1", "display_name": "ruben_KAI", "link": "https://stackoverflow.com/users/4117731/ruben-kai"}, "reply_to_user": {"reputation": 216457, "user_id": 846892, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/E9dZn.png?s=128&g=1", "display_name": "Ashwini Chaudhary", "link": "https://stackoverflow.com/users/846892/ashwini-chaudhary"}, "edited": false, "score": 0, "creation_date": 1441234076, "post_id": 32364313, "comment_id": 52601191, "body": "@Ashwini - thank you, I do not intend do do so - I just wanted to understand  the way python handled scopes."}, {"owner": {"reputation": 43245, "user_id": 699305, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/db6ce45b5ec86e1b00d922fc5cee315f?s=128&d=identicon&r=PG", "display_name": "alexis", "link": "https://stackoverflow.com/users/699305/alexis"}, "edited": false, "score": 2, "creation_date": 1441234137, "post_id": 32364313, "comment_id": 52601205, "body": "That&#39;s not how <code>return</code> works-- the name of the variable you return is irrelevant. You must assign the returned value. (Your question mixed scope and return, hence you&#39;re getting two sets of answers...)"}, {"owner": {"reputation": 15387, "user_id": 2588818, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/0PpNx.jpg?s=128&g=1", "display_name": "Two-Bit Alchemist", "link": "https://stackoverflow.com/users/2588818/two-bit-alchemist"}, "reply_to_user": {"reputation": 43245, "user_id": 699305, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/db6ce45b5ec86e1b00d922fc5cee315f?s=128&d=identicon&r=PG", "display_name": "alexis", "link": "https://stackoverflow.com/users/699305/alexis"}, "edited": false, "score": 0, "creation_date": 1441234405, "post_id": 32364313, "comment_id": 52601291, "body": "@alexis makes a valuable point. Change <code>squared</code> to <code>x</code> everywhere inside the function and you would get an identical result."}, {"owner": {"reputation": 305, "user_id": 4117731, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/6f7736629a1b134c4419e297dbb971ce?s=128&d=identicon&r=PG&f=1", "display_name": "ruben_KAI", "link": "https://stackoverflow.com/users/4117731/ruben-kai"}, "reply_to_user": {"reputation": 43245, "user_id": 699305, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/db6ce45b5ec86e1b00d922fc5cee315f?s=128&d=identicon&r=PG", "display_name": "alexis", "link": "https://stackoverflow.com/users/699305/alexis"}, "edited": false, "score": 0, "creation_date": 1441235178, "post_id": 32364313, "comment_id": 52601523, "body": "<a href=\"https://www.youtube.com/watch?v=2CythYpk7c0\" rel=\"nofollow noreferrer\">youtube.com/watch?v=2CythYpk7c0</a>  This demonstrates @alexis &#39;s point expertly.  Thank you for the insight and experienced answers!"}], "answers": [{"tags": [], "owner": {"reputation": 2150, "user_id": 3998503, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/Kgueg.jpg?s=128&g=1", "display_name": "John", "link": "https://stackoverflow.com/users/3998503/john"}, "is_accepted": false, "score": 1, "last_activity_date": 1441233914, "creation_date": 1441233914, "answer_id": 32364361, "question_id": 32364313, "link": "https://stackoverflow.com/questions/32364313/why-does-my-function-not-return-value-to-global-variable/32364361#32364361", "title": "Why does my function not return value to global variable?", "body": "<p>Essentially what is happening here is you are creating a local variable in the square function.  To change squared, simply type:</p>\n\n<pre><code>squared =square(10)\nprint squared\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 305, "user_id": 4117731, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/6f7736629a1b134c4419e297dbb971ce?s=128&d=identicon&r=PG&f=1", "display_name": "ruben_KAI", "link": "https://stackoverflow.com/users/4117731/ruben-kai"}, "edited": false, "score": 0, "creation_date": 1441235613, "post_id": 32364366, "comment_id": 52601659, "body": "Yes absolutely, thank you!  Just a disclaimer for newcomers: If you&#39;re somewhat of a beginner, and you&#39;re using IDE - something like...  <code>def simple()     print 5     return 10</code>  ... will &#39;print&#39; both 5 and 10 - this can be intuitive misleading.  Here is a good video that gave me a better intuition behind print and return:  <a href=\"https://www.youtube.com/watch?v=2CythYpk7c0\" rel=\"nofollow noreferrer\">youtube.com/watch?v=2CythYpk7c0</a>"}, {"owner": {"reputation": 43245, "user_id": 699305, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/db6ce45b5ec86e1b00d922fc5cee315f?s=128&d=identicon&r=PG", "display_name": "alexis", "link": "https://stackoverflow.com/users/699305/alexis"}, "reply_to_user": {"reputation": 305, "user_id": 4117731, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/6f7736629a1b134c4419e297dbb971ce?s=128&d=identicon&r=PG&f=1", "display_name": "ruben_KAI", "link": "https://stackoverflow.com/users/4117731/ruben-kai"}, "edited": false, "score": 1, "creation_date": 1441285829, "post_id": 32364366, "comment_id": 52623946, "body": "@Ruben, You&#39;ll only see the 10 (the returned value) if you execute this function from the interpreter prompt. In a regular script, returned values that are not assigned to a variable simply disappear. Focus your thoughts on that, and not on accidents of the interpreter."}], "tags": [], "owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "is_accepted": true, "score": 5, "last_activity_date": 1441233930, "creation_date": 1441233930, "answer_id": 32364366, "question_id": 32364313, "link": "https://stackoverflow.com/questions/32364313/why-does-my-function-not-return-value-to-global-variable/32364366#32364366", "title": "Why does my function not return value to global variable?", "body": "<p>Assign the result of the function to the variable:</p>\n\n<pre><code>squared = square(10)\n</code></pre>\n\n<p>This is the whole point of using <code>return squared</code> in the function, isn't it?</p>\n"}, {"comments": [{"owner": {"reputation": 216457, "user_id": 846892, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/E9dZn.png?s=128&g=1", "display_name": "Ashwini Chaudhary", "link": "https://stackoverflow.com/users/846892/ashwini-chaudhary"}, "edited": false, "score": 0, "creation_date": 1441234508, "post_id": 32364369, "comment_id": 52601320, "body": "The only answer that actually explains what&#39;s going on."}], "tags": [], "owner": {"reputation": 14673, "user_id": 296460, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/FGDo8.jpg?s=128&g=1", "display_name": "shuttle87", "link": "https://stackoverflow.com/users/296460/shuttle87"}, "is_accepted": false, "score": 3, "last_activity_date": 1441234244, "last_edit_date": 1495539843, "creation_date": 1441233942, "answer_id": 32364369, "question_id": 32364313, "link": "https://stackoverflow.com/questions/32364313/why-does-my-function-not-return-value-to-global-variable/32364369#32364369", "title": "Why does my function not return value to global variable?", "body": "<p>The function <code>square</code> never changes the variable <code>squared</code> that is found in the global scope. Inside the function you declare a local variable with the same name as the global variable, this however will change the local variable and not the global variable. Then when you <code>print(squared)</code> you are printing that unchanged global variable which is still 0 as you initially set it. As a matter of code cleanliness you really should try to avoid having local variables and global variables sharing the same name as it causes confusion (as we have seen in this question) and makes the code much harder to read.</p>\n\n<p>To change the global variable from within a function you must tell Python to do so by using the <a href=\"https://docs.python.org/3/reference/simple_stmts.html#global\" rel=\"nofollow noreferrer\"><code>global</code> keyword</a> to make the name refer to the global variable. You might want to look at this question: <a href=\"https://stackoverflow.com/questions/4693120/use-of-global-keyword-in-python\">Use of &quot;global&quot; keyword in Python</a></p>\n\n<p>The easier and better option of course is just to use the return value of the function. Minimizing the use of global mutable state is a good goal.</p>\n"}, {"comments": [{"owner": {"reputation": 15387, "user_id": 2588818, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/0PpNx.jpg?s=128&g=1", "display_name": "Two-Bit Alchemist", "link": "https://stackoverflow.com/users/2588818/two-bit-alchemist"}, "edited": false, "score": 2, "creation_date": 1441234069, "post_id": 32364375, "comment_id": 52601188, "body": "No, you do not need to change it to that! <b>There is absolutely no reason for this variable to be global.</b> The OP <i>expects</i> it to be global, but the OP has already demonstrated a lack of understanding of normal scoping rules, and possibly the concept of scoping. Teaching them to abuse global scope instead of understanding the real problem is just really bad advice."}, {"owner": {"reputation": 57, "user_id": 5284531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a75f67ed18b0caa6298d8f27c532d7e9?s=128&d=identicon&r=PG&f=1", "display_name": "Vale Tolpegin", "link": "https://stackoverflow.com/users/5284531/vale-tolpegin"}, "reply_to_user": {"reputation": 15387, "user_id": 2588818, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/0PpNx.jpg?s=128&g=1", "display_name": "Two-Bit Alchemist", "link": "https://stackoverflow.com/users/2588818/two-bit-alchemist"}, "edited": false, "score": 0, "creation_date": 1441234121, "post_id": 32364375, "comment_id": 52601203, "body": "&quot;the value of the variable squared would be assigned to the the global variable with the same name?&quot;... The variable needs to be globally declared before that will be true."}, {"owner": {"reputation": 305, "user_id": 4117731, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/6f7736629a1b134c4419e297dbb971ce?s=128&d=identicon&r=PG&f=1", "display_name": "ruben_KAI", "link": "https://stackoverflow.com/users/4117731/ruben-kai"}, "edited": false, "score": 0, "creation_date": 1441234202, "post_id": 32364375, "comment_id": 52601226, "body": "I understand that this is not the right way of programming in Python - but this answered explained the question I had about how Python handles scope and how variables are returned.  I&#39;m going to accept this answer with a disclaimer.  *** THIS IS NOT GOOD PRACTICE ***   But it answers me original question - and might server to give someone with the same question that I had a better intuition."}, {"owner": {"reputation": 15387, "user_id": 2588818, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/0PpNx.jpg?s=128&g=1", "display_name": "Two-Bit Alchemist", "link": "https://stackoverflow.com/users/2588818/two-bit-alchemist"}, "reply_to_user": {"reputation": 305, "user_id": 4117731, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/6f7736629a1b134c4419e297dbb971ce?s=128&d=identicon&r=PG&f=1", "display_name": "ruben_KAI", "link": "https://stackoverflow.com/users/4117731/ruben-kai"}, "edited": false, "score": 0, "creation_date": 1441234317, "post_id": 32364375, "comment_id": 52601265, "body": "@RubenBaden Then I hope you also understand that this is just advice gleaned from years of people doing things that caused them headaches. It&#39;s not about &quot;the right way of programming in Python&quot;, because there is no such thing in a multi-paradigm language. Rather, it&#39;s about a way of programming that causes the least amount of debugging stress -- mucking around with things in the global scope just makes it unnecessarily hard to reason about state at any given point of execution within your program."}, {"owner": {"reputation": 305, "user_id": 4117731, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/6f7736629a1b134c4419e297dbb971ce?s=128&d=identicon&r=PG&f=1", "display_name": "ruben_KAI", "link": "https://stackoverflow.com/users/4117731/ruben-kai"}, "reply_to_user": {"reputation": 15387, "user_id": 2588818, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/0PpNx.jpg?s=128&g=1", "display_name": "Two-Bit Alchemist", "link": "https://stackoverflow.com/users/2588818/two-bit-alchemist"}, "edited": false, "score": 0, "creation_date": 1441234604, "post_id": 32364375, "comment_id": 52601354, "body": "@Two-BitAlchemist - You made your point very clear; and I appreciate it.  I know how much of a headache global variables can be.  There are some languages, however, that would have returned the value globally - right?  I will make sure to avoid this - and I probably won&#39;t forget the tip; given your emotional testimonial.  Thank you."}, {"owner": {"reputation": 15387, "user_id": 2588818, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/0PpNx.jpg?s=128&g=1", "display_name": "Two-Bit Alchemist", "link": "https://stackoverflow.com/users/2588818/two-bit-alchemist"}, "reply_to_user": {"reputation": 305, "user_id": 4117731, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/6f7736629a1b134c4419e297dbb971ce?s=128&d=identicon&r=PG&f=1", "display_name": "ruben_KAI", "link": "https://stackoverflow.com/users/4117731/ruben-kai"}, "edited": false, "score": 1, "creation_date": 1441235097, "post_id": 32364375, "comment_id": 52601495, "body": "@RubenBaden Might be a good question on Programmers.SE, as I&#39;m not an expert on a huge number of languages. As far as I know, most imperative languages in the extended C family, if you will, behave just as Python does here: a local scope is introduced in the function and global things are not modified unless explicitly requested (e.g., <code>global squared</code> in your example). To me, function scope is almost the most basic type, and I suspect languages that don&#39;t have it are languages where the concept of scope is very weak or not present at all."}, {"owner": {"reputation": 936, "user_id": 2727470, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/a76EI.jpg?s=128&g=1", "display_name": "Ixrec", "link": "https://stackoverflow.com/users/2727470/ixrec"}, "reply_to_user": {"reputation": 15387, "user_id": 2588818, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/0PpNx.jpg?s=128&g=1", "display_name": "Two-Bit Alchemist", "link": "https://stackoverflow.com/users/2588818/two-bit-alchemist"}, "edited": false, "score": 1, "creation_date": 1441235477, "post_id": 32364375, "comment_id": 52601610, "body": "@Two-BitAlchemist That wouldn&#39;t be a good Programmers question since it&#39;s essentially asking for a list of languages. But I agree that the vast majority of popular, mainstream languages follow the rule that variables &quot;re-declared&quot; in a narrower scope will &quot;hide&quot; the preexisting ones rather than reference them."}, {"owner": {"reputation": 15387, "user_id": 2588818, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/0PpNx.jpg?s=128&g=1", "display_name": "Two-Bit Alchemist", "link": "https://stackoverflow.com/users/2588818/two-bit-alchemist"}, "edited": false, "score": 0, "creation_date": 1441235612, "post_id": 32364375, "comment_id": 52601658, "body": "@lxrec Hmm, even if you asked something like, &quot;Is there function scope in every language?&quot; (which is falsifiable with a single counter-example) I agree anything soliciting a list of even families of languages is just bait for closing as &quot;too broad&quot;."}, {"owner": {"reputation": 43245, "user_id": 699305, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/db6ce45b5ec86e1b00d922fc5cee315f?s=128&d=identicon&r=PG", "display_name": "alexis", "link": "https://stackoverflow.com/users/699305/alexis"}, "edited": false, "score": 0, "creation_date": 1441292048, "post_id": 32364375, "comment_id": 52628642, "body": "&quot;There are some languages, however, that would have returned the value globally - right?&quot; <b>Wrong!</b> No language could work this way, because this statement confuses values with variables. A returned <b>value</b> is neither global nor local, there is nothing to discuss or compare in other languages."}], "tags": [], "owner": {"reputation": 57, "user_id": 5284531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a75f67ed18b0caa6298d8f27c532d7e9?s=128&d=identicon&r=PG&f=1", "display_name": "Vale Tolpegin", "link": "https://stackoverflow.com/users/5284531/vale-tolpegin"}, "is_accepted": false, "score": -1, "last_activity_date": 1441233968, "creation_date": 1441233968, "answer_id": 32364375, "question_id": 32364313, "link": "https://stackoverflow.com/questions/32364313/why-does-my-function-not-return-value-to-global-variable/32364375#32364375", "title": "Why does my function not return value to global variable?", "body": "<p>Sort of. Your very close. You need to change the following:</p>\n\n<pre><code>def square(n):\n    \"\"\"Returns the square of a number.\"\"\"\n    squared = n**2\n</code></pre>\n\n<p>To:</p>\n\n<pre><code>def square(n):\n    \"\"\"Returns the square of a number.\"\"\"\n    global squared\n\n    squared = n**2\n</code></pre>\n\n<p>Hope this helps!</p>\n"}], "owner": {"reputation": 305, "user_id": 4117731, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/6f7736629a1b134c4419e297dbb971ce?s=128&d=identicon&r=PG&f=1", "display_name": "ruben_KAI", "link": "https://stackoverflow.com/users/4117731/ruben-kai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2141, "favorite_count": 1, "accepted_answer_id": 32364366, "answer_count": 4, "score": 2, "last_activity_date": 1617164741, "creation_date": 1441233694, "last_edit_date": 1617164741, "question_id": 32364313, "link": "https://stackoverflow.com/questions/32364313/why-does-my-function-not-return-value-to-global-variable", "title": "Why does my function not return value to global variable?", "body": "<p>Why does <strong><em>print(squared)</em></strong> return <strong>0</strong> instead of <strong>100</strong>?</p>\n\n<p>I thought that after being returned from the function - the value of the variable <strong><em>squared</em></strong> would be assigned to the the global variable with the same name?</p>\n\n<pre><code>squared = 0\ndef square(n):\n    \"\"\"Returns the square of a number.\"\"\"\n    squared = n**2\n    print \"%d squared is %d.\" % (n, squared)\n    return squared\n\n\nsquare(10)\nprint(squared)\n</code></pre>\n\n<p>returns:</p>\n\n<p><a href=\"https://i.stack.imgur.com/303Kt.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/303Kt.jpg\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["python", "django", "orm", "foreign-keys"], "answers": [{"tags": [], "owner": {"reputation": 702, "user_id": 2851353, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/0b324d8126ccddbf2d6344861b553585?s=128&d=identicon&r=PG&f=1", "display_name": "darkryder", "link": "https://stackoverflow.com/users/2851353/darkryder"}, "is_accepted": true, "score": 1, "last_activity_date": 1441234552, "creation_date": 1441234552, "answer_id": 32364478, "question_id": 32364224, "link": "https://stackoverflow.com/questions/32364224/how-to-call-a-static-method-from-a-django-model-backward-link/32364478#32364478", "title": "How to call a static method from a Django model &quot;backward link&quot;?", "body": "<p>You'll have to access the model class in order to call the static method.</p>\n\n<p>Use <code>a.MyModelB_a.model.my_static_method()</code></p>\n\n<p>The <code>model</code> attribute returns the model class <code>MyModelB</code>.</p>\n"}], "owner": {"reputation": 8918, "user_id": 1742777, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/ff60602db4c570ec0e48b22eb13f6956?s=128&d=identicon&r=PG", "display_name": "Saqib Ali", "link": "https://stackoverflow.com/users/1742777/saqib-ali"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1210, "favorite_count": 0, "accepted_answer_id": 32364478, "answer_count": 1, "score": 0, "last_activity_date": 1441234552, "creation_date": 1441233244, "question_id": 32364224, "link": "https://stackoverflow.com/questions/32364224/how-to-call-a-static-method-from-a-django-model-backward-link", "title": "How to call a static method from a Django model &quot;backward link&quot;?", "body": "<p>These are my two Django Models, <code>MyModelB</code> has a foreign key to <code>MyModelA</code>:</p>\n\n<pre><code>from django.db import models\n\n\nclass MyModelA(models.Model):\n    my_int = models.IntegerField()\n\n    def __str__(self):\n        return \"MyModelA #%s: my_int=%s\" % (\n            self.pk,\n            self.my_int,\n        )\n\nclass MyModelB(models.Model):\n    my_int = models.IntegerField()\n    my_a = models.ForeignKey(MyModelA, related_name=\"MyModelB_a\")\n\n    def __str__(self):\n        return \"MyModelB #%s: my_int=%s\" % (\n            self.pk,\n            self.my_int,\n        )\n\n    @staticmethod\n    def my_static_method():\n        return \"Hello\"\n</code></pre>\n\n<p>I create an instance of <code>MyModelA</code> and <code>MyModelB</code>:</p>\n\n<pre><code>&gt;&gt;&gt; a = MyModelA(my_int=20)\n&gt;&gt;&gt; a.save()\n&gt;&gt;&gt; a\n&lt;MyModelA: MyModelA #3: my_int=20&gt;\n\n&gt;&gt;&gt; b = MyModelB(my_int=30, my_a=a)\n&gt;&gt;&gt; b.save()\n&gt;&gt;&gt; b\n&lt;MyModelB: MyModelB #3: my_int=30&gt;\n</code></pre>\n\n<p>From the instance of <code>MyModelA</code>, I can reference the <code>MyModelB</code> using \"reverse-links\":</p>\n\n<pre><code>&gt;&gt;&gt; a.MyModelB_a.filter(my_int=30)\n[&lt;MyModelB: MyModelB #3: my_int=30&gt;]\n</code></pre>\n\n<p>But I want to call <code>MyModelB.my_static_method()</code> from the instance of <code>MyModelA</code>. How can I do it? My attempted solution doesn't work:</p>\n\n<pre><code>&gt;&gt;&gt; a.MyModelB_a.my_static_method()\nTraceback (most recent call last):\n  File \"&lt;console&gt;\", line 1, in &lt;module&gt;\nAttributeError: 'RelatedManager' object has no attribute 'my_static_method'\n&gt;&gt;&gt;\n</code></pre>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1441232868, "post_id": 32364127, "comment_id": 52600814, "body": "<code>hours</code> doesn&#39;t return anything"}, {"owner": {"reputation": 4230, "user_id": 1912128, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/YyM8r.png?s=128&g=1", "display_name": "taesu", "link": "https://stackoverflow.com/users/1912128/taesu"}, "edited": false, "score": 0, "creation_date": 1441233737, "post_id": 32364127, "comment_id": 52601072, "body": "<a href=\"http://stackoverflow.com/questions/7129285/why-would-you-use-the-return-statement-in-python\">return</a>"}, {"owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 0, "creation_date": 1441242368, "post_id": 32364127, "comment_id": 52603234, "body": "That&#39;s how you would write a function that &quot;returns&quot; a value in shell, not Python."}], "answers": [{"comments": [{"owner": {"reputation": 391, "user_id": 4578904, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/15ce68c99c83da18f45787dcd893eb2d?s=128&d=identicon&r=PG&f=1", "display_name": "storks", "link": "https://stackoverflow.com/users/4578904/storks"}, "edited": false, "score": 0, "creation_date": 1441233236, "post_id": 32364166, "comment_id": 52600919, "body": "Are you know How I can change different time zone"}, {"owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 0, "creation_date": 1441242401, "post_id": 32364166, "comment_id": 52603246, "body": "Ask unrelated questions in a new post."}], "tags": [], "owner": {"reputation": 9841, "user_id": 490332, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/4277666449f41474561f867f04f32b73?s=128&d=identicon&r=PG", "display_name": "Harpal", "link": "https://stackoverflow.com/users/490332/harpal"}, "is_accepted": false, "score": 4, "last_activity_date": 1441232867, "creation_date": 1441232867, "answer_id": 32364166, "question_id": 32364127, "link": "https://stackoverflow.com/questions/32364127/store-function-result-into-variable/32364166#32364166", "title": "Store function result into variable", "body": "<p>You need to return <code>localtime.tm_hour</code> not <code>print</code></p>\n\n<pre><code>def hours():\n    localtime =  time.localtime(time.time())\n    print (localtime.tm_hour)\n    return localtime.tm_hour\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 10834, "user_id": 3156085, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/b749799809f0e3d93d851d639afdbab9?s=128&d=identicon&r=PG&f=1", "display_name": "vmonteco", "link": "https://stackoverflow.com/users/3156085/vmonteco"}, "is_accepted": true, "score": 15, "last_activity_date": 1571304794, "last_edit_date": 1571304794, "creation_date": 1441232907, "answer_id": 32364177, "question_id": 32364127, "link": "https://stackoverflow.com/questions/32364127/store-function-result-into-variable/32364177#32364177", "title": "Store function result into variable", "body": "<p>You need to return a value that will be stored into the variable.</p>\n\n<p>This way :</p>\n\n<pre><code>def myfunction():\n    value = \"myvalue\"\n    return value\n\nvar = myfunction()\nprint(var)\n\n&gt;&gt;&gt; \"myvalue\"\n</code></pre>\n\n<p>Currently you're just printing the value in your function, not returning it , that's two different things.</p>\n\n<p><em>Edit:</em> Also note that the default returned value is <code>None</code> when there is no return directive.</p>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 5128687, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f90128ba8b4abddfcc180b5b90c2de9?s=128&d=identicon&r=PG&f=1", "display_name": "Vincent Murphy", "link": "https://stackoverflow.com/users/5128687/vincent-murphy"}, "is_accepted": false, "score": 2, "last_activity_date": 1441233324, "creation_date": 1441233324, "answer_id": 32364241, "question_id": 32364127, "link": "https://stackoverflow.com/questions/32364127/store-function-result-into-variable/32364241#32364241", "title": "Store function result into variable", "body": "<p>You are not returning the value.  The script should do:</p>\n\n<pre><code>import time;\n\n\ndef hours():\n    localtime =  time.localtime(time.time())\n    print (localtime.tm_hour)\n    return localtime.tm_hour\n\nIn [11]: var = hours()\n18\nIn [12]: print(var)\n18\n</code></pre>\n\n<p>see <a href=\"https://docs.python.org/3.5/tutorial/controlflow.html#defining-functions\" rel=\"nofollow\">https://docs.python.org/3.5/tutorial/controlflow.html#defining-functions</a> for how to use return.</p>\n"}, {"tags": [], "owner": {"reputation": 1448, "user_id": 4572396, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-NniNFvUMNsQ/AAAAAAAAAAI/AAAAAAAAAf0/0vzYvPlPgGA/photo.jpg?sz=128", "display_name": "Mansur Ali", "link": "https://stackoverflow.com/users/4572396/mansur-ali"}, "is_accepted": false, "score": 0, "last_activity_date": 1567183579, "creation_date": 1567183579, "answer_id": 57730499, "question_id": 32364127, "link": "https://stackoverflow.com/questions/32364127/store-function-result-into-variable/57730499#57730499", "title": "Store function result into variable", "body": "<p>I able to make this working with return within function definition</p>\n\n<pre><code>def hourMin ():\n    localtime = time.localtime(time.time())\n    return '{0}{1}{2}'.format(localtime.tm_hour, localtime.tm_min, localtime.tm_sec)\n\ndef dateDay ():\n    localtime = time.localtime(time.time())\n    return '{0}{1}{2}'.format(localtime.tm_mday, localtime.tm_mon, localtime.tm_year)\n</code></pre>\n\n<p>Calling area </p>\n\n<pre><code>def rannum ():\n    for x in range(1):\n        valo = random.randint(1,21)*5\n\n    TimeHour = hourMin()\n    TimeDate = dateDay()\n    print ('Time is ' + str(hourMin()))\n    path = \"/tmp/temp/\"\n    curr = path + str(valo) + str(TimeDate)\n    try:\n        os.mkdir(curr)\n    except:\n        print('Creation of the directory %s failed' % path)\n    else:\n        print('Directory %s created ' % curr)\n\nrannum()\n</code></pre>\n"}], "owner": {"reputation": 391, "user_id": 4578904, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/15ce68c99c83da18f45787dcd893eb2d?s=128&d=identicon&r=PG&f=1", "display_name": "storks", "link": "https://stackoverflow.com/users/4578904/storks"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46811, "favorite_count": 3, "accepted_answer_id": 32364177, "answer_count": 4, "score": 3, "last_activity_date": 1586716669, "creation_date": 1441232658, "last_edit_date": 1586716669, "question_id": 32364127, "link": "https://stackoverflow.com/questions/32364127/store-function-result-into-variable", "title": "Store function result into variable", "body": "<p>I am trying to save the result of a function into a variable and print that variable on the screen, but when I print I see \"none\". <br>\nHow to repair this?</p>\n\n<pre><code>import time;\n\n\ndef hours():\n    localtime =  time.localtime(time.time())\n    print (localtime.tm_hour)\n\ndef minutes():\n    localtime =  time.localtime(time.time()) \n    print (localtime.tm_min)\n\ndef seconds():\n   localtime =  time.localtime(time.time())     \n   print (localtime.tm_sec)\n\n\nhours()\nminutes()\nseconds()\n\nvar = hours()\nprint(var)\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 4230, "user_id": 1912128, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/YyM8r.png?s=128&g=1", "display_name": "taesu", "link": "https://stackoverflow.com/users/1912128/taesu"}, "edited": false, "score": 0, "creation_date": 1441232767, "post_id": 32364117, "comment_id": 52600783, "body": "can you give us example acts, and example command? because your question isn&#39;t as clear."}, {"owner": {"reputation": 39, "user_id": 5254112, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a51e248412f18e2f7928525b775ff95?s=128&d=identicon&r=PG&f=1", "display_name": "Lazlt", "link": "https://stackoverflow.com/users/5254112/lazlt"}, "reply_to_user": {"reputation": 4230, "user_id": 1912128, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/YyM8r.png?s=128&g=1", "display_name": "taesu", "link": "https://stackoverflow.com/users/1912128/taesu"}, "edited": false, "score": 0, "creation_date": 1441232849, "post_id": 32364117, "comment_id": 52600811, "body": "Just added an example"}, {"owner": {"reputation": 26700, "user_id": 353852, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da9b13b377af5b704c14d2928037fd64?s=128&d=identicon&r=PG", "display_name": "krock", "link": "https://stackoverflow.com/users/353852/krock"}, "edited": false, "score": 0, "creation_date": 1441232955, "post_id": 32364117, "comment_id": 52600849, "body": "possible duplicate of <a href=\"http://stackoverflow.com/questions/22109019/replacing-values-in-a-list\">Replacing values in a list</a>"}, {"owner": {"reputation": 26700, "user_id": 353852, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da9b13b377af5b704c14d2928037fd64?s=128&d=identicon&r=PG", "display_name": "krock", "link": "https://stackoverflow.com/users/353852/krock"}, "edited": false, "score": 0, "creation_date": 1441233467, "post_id": 32364117, "comment_id": 52600995, "body": "marking as possible duplicate since it shares the exact title as a previous question"}], "answers": [{"tags": [], "owner": {"reputation": 3467, "user_id": 171450, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a3babaa84012b7ec17726a6d899590b1?s=128&d=identicon&r=PG", "display_name": "Aidan Kane", "link": "https://stackoverflow.com/users/171450/aidan-kane"}, "is_accepted": false, "score": 0, "last_activity_date": 1441233457, "creation_date": 1441233457, "answer_id": 32364273, "question_id": 32364117, "link": "https://stackoverflow.com/questions/32364117/replacing-values-in-a-list-with-certain-words/32364273#32364273", "title": "Replacing values in a list with certain words", "body": "<p>This assumes that the input to 'Change' will contain exactly 2 words separated by a space.</p>\n\n<pre><code>acts = input('Acts: ').split()\n\nwhile True:\n    change = input('Change: ')\n    if not change:\n        break\n\n    _to, _from = change.split()\n\n    for i, act in enumerate(acts):\n        if act == _from:\n            acts[i] = _to\n\nprint(' '.join(acts))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4230, "user_id": 1912128, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/YyM8r.png?s=128&g=1", "display_name": "taesu", "link": "https://stackoverflow.com/users/1912128/taesu"}, "is_accepted": false, "score": 0, "last_activity_date": 1441233543, "creation_date": 1441233543, "answer_id": 32364287, "question_id": 32364117, "link": "https://stackoverflow.com/questions/32364117/replacing-values-in-a-list-with-certain-words/32364287#32364287", "title": "Replacing values in a list with certain words", "body": "<pre><code>acts = ['Cynthia', 'Edward', 'Princess', 'Natasha', 'Shehabi' ,'Back-To-Front']\nprint \"Acts: {}\".format(\" \".join(acts))\nchange = raw_input('Change: ')\nwhile (change.strip() != ''):\n    if 'Scratch' in change:\n        act = change.replace('Scratch','').strip()\n        if act in acts:\n            acts[acts.index(act)] = '-SCRATCHED-'\n    change = raw_input('Change: ')\nprint \" \".join(acts)\n</code></pre>\n"}], "owner": {"reputation": 39, "user_id": 5254112, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a51e248412f18e2f7928525b775ff95?s=128&d=identicon&r=PG&f=1", "display_name": "Lazlt", "link": "https://stackoverflow.com/users/5254112/lazlt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 36, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1441233543, "creation_date": 1441232618, "last_edit_date": 1441233275, "question_id": 32364117, "link": "https://stackoverflow.com/questions/32364117/replacing-values-in-a-list-with-certain-words", "title": "Replacing values in a list with certain words", "body": "<p>I want to replace a value in a list with certain words.</p>\n\n<pre><code>acts = []\n\nact = input('Acts: ')\nacts.append(act.split())\n\nchange = input('Change: ')\nwhile change:\n  if 'Scratch' in change:\n</code></pre>\n\n<p>So basically, I have a list of acts, and if the command (change) contains the word scratch, then I replace the act in the list with the word 'scratch', and I don't want the order of the values to change.</p>\n\n<p>How would I replace the 2nd word of the command (change) with the word scratch in the list?</p>\n\n<p>Example:</p>\n\n<pre><code>Acts: Cynthia Edward Princess Natasha Shehabi Back-To-Front\nChange: Scratch Natasha\nChange: Scratch Edward\nChange: \nCynthia -SCRATCHED- Princess -SCRATCHED- Shehabi Back-To-Front\n</code></pre>\n"}, {"tags": ["php", "jquery", "python", "xampp", "lampp"], "answers": [{"comments": [{"owner": {"reputation": 4274, "user_id": 5113071, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/27afe5aa502eb75ce05a49b47846889d?s=128&d=identicon&r=PG", "display_name": "Shawn Mehan", "link": "https://stackoverflow.com/users/5113071/shawn-mehan"}, "edited": false, "score": 0, "creation_date": 1441233556, "post_id": 32364143, "comment_id": 52601025, "body": "no harm in being vigilant. The escapeshellcmd isn&#39;t hurting anything, so why not leave it?"}, {"owner": {"reputation": 3655, "user_id": 1267729, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/1e487a17a60371229131bb99b7852a48?s=128&d=identicon&r=PG", "display_name": "Shelvacu", "link": "https://stackoverflow.com/users/1267729/shelvacu"}, "reply_to_user": {"reputation": 4274, "user_id": 5113071, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/27afe5aa502eb75ce05a49b47846889d?s=128&d=identicon&r=PG", "display_name": "Shawn Mehan", "link": "https://stackoverflow.com/users/5113071/shawn-mehan"}, "edited": false, "score": 0, "creation_date": 1441233629, "post_id": 32364143, "comment_id": 52601045, "body": "try including the full path to the python binary like @Shawn suggested, as well as the full path to the python script. I suspect you are already in the &#39;z_py&#39; directory when the php script is run"}, {"owner": {"reputation": 3655, "user_id": 1267729, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/1e487a17a60371229131bb99b7852a48?s=128&d=identicon&r=PG", "display_name": "Shelvacu", "link": "https://stackoverflow.com/users/1267729/shelvacu"}, "reply_to_user": {"reputation": 4274, "user_id": 5113071, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/27afe5aa502eb75ce05a49b47846889d?s=128&d=identicon&r=PG", "display_name": "Shawn Mehan", "link": "https://stackoverflow.com/users/5113071/shawn-mehan"}, "edited": false, "score": 0, "creation_date": 1441235365, "post_id": 32364143, "comment_id": 52601577, "body": "@ShawnMehan It escapes it to <code>python\\ z_py&#47;whatever</code> which means it will try to execute the file named <code>python z_py&#47;whatever</code> instead of the file named <code>python</code> with the arguments <code>z_py&#47;whatever</code>"}], "tags": [], "owner": {"reputation": 3655, "user_id": 1267729, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/1e487a17a60371229131bb99b7852a48?s=128&d=identicon&r=PG", "display_name": "Shelvacu", "link": "https://stackoverflow.com/users/1267729/shelvacu"}, "is_accepted": false, "score": 0, "last_activity_date": 1441232740, "creation_date": 1441232740, "answer_id": 32364143, "question_id": 32364100, "link": "https://stackoverflow.com/questions/32364100/executing-a-few-python-scripts-with-php-not-working/32364143#32364143", "title": "Executing a few python scripts with PhP not working", "body": "<p>You don't want to use <code>escapeshellcmd</code> here. That function is meant for escaping arguments so that a user can't enter <code>foo;reboot</code> and make your system reboot. However, since you don't have any user input, you don't need it.</p>\n\n<p>Instead you want:</p>\n\n<pre><code>$output = shell_exec(\"python z_admin_face/testPyscript.py\");\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 95, "user_id": 4755771, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/5ac7bca01cc2906c03a97c1e706ce7e9?s=128&d=identicon&r=PG&f=1", "display_name": "peekaboo", "link": "https://stackoverflow.com/users/4755771/peekaboo"}, "edited": false, "score": 0, "creation_date": 1441233909, "post_id": 32364280, "comment_id": 52601121, "body": "i tried replacing with this  $command = escapeshellcmd(&quot;/usr/bin/python z_admin_face/testPyscript.py&quot;);"}, {"owner": {"reputation": 95, "user_id": 4755771, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/5ac7bca01cc2906c03a97c1e706ce7e9?s=128&d=identicon&r=PG&f=1", "display_name": "peekaboo", "link": "https://stackoverflow.com/users/4755771/peekaboo"}, "edited": false, "score": 0, "creation_date": 1441233945, "post_id": 32364280, "comment_id": 52601134, "body": "is this the right path for mac os x ? &quot;/usr/bin/python&quot; Cause when i put the full path nothing gets printed in terminal window"}, {"owner": {"reputation": 4274, "user_id": 5113071, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/27afe5aa502eb75ce05a49b47846889d?s=128&d=identicon&r=PG", "display_name": "Shawn Mehan", "link": "https://stackoverflow.com/users/5113071/shawn-mehan"}, "reply_to_user": {"reputation": 95, "user_id": 4755771, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/5ac7bca01cc2906c03a97c1e706ce7e9?s=128&d=identicon&r=PG&f=1", "display_name": "peekaboo", "link": "https://stackoverflow.com/users/4755771/peekaboo"}, "edited": false, "score": 0, "creation_date": 1441234060, "post_id": 32364280, "comment_id": 52601183, "body": "try <code>which python</code> in the cmd line to see where your python lives. and, as @Shel wrote, you need to make certain that you have enough path to get to <code>testPyscript.py</code>. To make it easy if you continue having problems, put the pyscript.py in the <i>same</i> dir as the py_run.php to remove any path problems."}, {"owner": {"reputation": 95, "user_id": 4755771, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/5ac7bca01cc2906c03a97c1e706ce7e9?s=128&d=identicon&r=PG&f=1", "display_name": "peekaboo", "link": "https://stackoverflow.com/users/4755771/peekaboo"}, "edited": false, "score": 0, "creation_date": 1441234439, "post_id": 32364280, "comment_id": 52601300, "body": "its in /usr/bin/python and yes both the py and php files are in the same directory , it still doesn&#39;t work. Weird ;("}, {"owner": {"reputation": 4274, "user_id": 5113071, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/27afe5aa502eb75ce05a49b47846889d?s=128&d=identicon&r=PG", "display_name": "Shawn Mehan", "link": "https://stackoverflow.com/users/5113071/shawn-mehan"}, "reply_to_user": {"reputation": 95, "user_id": 4755771, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/5ac7bca01cc2906c03a97c1e706ce7e9?s=128&d=identicon&r=PG&f=1", "display_name": "peekaboo", "link": "https://stackoverflow.com/users/4755771/peekaboo"}, "edited": false, "score": 0, "creation_date": 1441234740, "post_id": 32364280, "comment_id": 52601383, "body": "ugh. you have problems that have nothing to do with your code. what happens if you replace $command with <code>$command = escapeshellcmd(&quot;which python&quot;);</code>"}, {"owner": {"reputation": 4274, "user_id": 5113071, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/27afe5aa502eb75ce05a49b47846889d?s=128&d=identicon&r=PG", "display_name": "Shawn Mehan", "link": "https://stackoverflow.com/users/5113071/shawn-mehan"}, "reply_to_user": {"reputation": 95, "user_id": 4755771, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/5ac7bca01cc2906c03a97c1e706ce7e9?s=128&d=identicon&r=PG&f=1", "display_name": "peekaboo", "link": "https://stackoverflow.com/users/4755771/peekaboo"}, "edited": false, "score": 0, "creation_date": 1441234952, "post_id": 32364280, "comment_id": 52601448, "body": "and what happens if you run the py_run.php from the command line in the same dir as the file, e.g. <code>$ &#47;usr&#47;bin&#47;php py_run.php</code>."}, {"owner": {"reputation": 95, "user_id": 4755771, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/5ac7bca01cc2906c03a97c1e706ce7e9?s=128&d=identicon&r=PG&f=1", "display_name": "peekaboo", "link": "https://stackoverflow.com/users/4755771/peekaboo"}, "edited": false, "score": 0, "creation_date": 1441235267, "post_id": 32364280, "comment_id": 52601544, "body": "hmm from your point it seems like im executing or calling which pyton file to run and am pointing directly at the python file directory to run in the end?"}, {"owner": {"reputation": 4274, "user_id": 5113071, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/27afe5aa502eb75ce05a49b47846889d?s=128&d=identicon&r=PG", "display_name": "Shawn Mehan", "link": "https://stackoverflow.com/users/5113071/shawn-mehan"}, "reply_to_user": {"reputation": 95, "user_id": 4755771, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/5ac7bca01cc2906c03a97c1e706ce7e9?s=128&d=identicon&r=PG&f=1", "display_name": "peekaboo", "link": "https://stackoverflow.com/users/4755771/peekaboo"}, "edited": false, "score": 0, "creation_date": 1441235405, "post_id": 32364280, "comment_id": 52601588, "body": "err, no. I literally want you to replace the escapeshellcmd payload with &quot;which python&quot; which should return output along the lines of <code>&#47;usr&#47;bin&#47;python</code>. I also want you to run the php file as I indicate from the command line to see if you can run the php at all, and whether it then works with the call to the shell and returns the normal output. There are two (2) separate tests here, so please answer them independently."}, {"owner": {"reputation": 95, "user_id": 4755771, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/5ac7bca01cc2906c03a97c1e706ce7e9?s=128&d=identicon&r=PG&f=1", "display_name": "peekaboo", "link": "https://stackoverflow.com/users/4755771/peekaboo"}, "edited": false, "score": 0, "creation_date": 1441235515, "post_id": 32364280, "comment_id": 52601622, "body": "/usr/bin/python php_face2 get display on my browser webpage but nothing get printed or run from my terminal window   ...this is when replacing $command = escapeshellcmd(&quot;which python&quot;);"}, {"owner": {"reputation": 95, "user_id": 4755771, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/5ac7bca01cc2906c03a97c1e706ce7e9?s=128&d=identicon&r=PG&f=1", "display_name": "peekaboo", "link": "https://stackoverflow.com/users/4755771/peekaboo"}, "edited": false, "score": 0, "creation_date": 1441235571, "post_id": 32364280, "comment_id": 52601640, "body": "oh wait its a script, so ya it seems that it works so its prolly a problem with my python file?"}, {"owner": {"reputation": 95, "user_id": 4755771, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/5ac7bca01cc2906c03a97c1e706ce7e9?s=128&d=identicon&r=PG&f=1", "display_name": "peekaboo", "link": "https://stackoverflow.com/users/4755771/peekaboo"}, "edited": false, "score": 0, "creation_date": 1441235934, "post_id": 32364280, "comment_id": 52601735, "body": "$ /usr/bin/php py_run.php    <code>command not found</code>   .but i believe it wont work for this test as its a php file? and cant run from the terminal window, there isnt a she bang on top of my php file either so no interpreter will be called to intepret the php file anyway. i believe"}, {"owner": {"reputation": 4274, "user_id": 5113071, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/27afe5aa502eb75ce05a49b47846889d?s=128&d=identicon&r=PG", "display_name": "Shawn Mehan", "link": "https://stackoverflow.com/users/5113071/shawn-mehan"}, "reply_to_user": {"reputation": 95, "user_id": 4755771, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/5ac7bca01cc2906c03a97c1e706ce7e9?s=128&d=identicon&r=PG&f=1", "display_name": "peekaboo", "link": "https://stackoverflow.com/users/4755771/peekaboo"}, "edited": false, "score": 0, "creation_date": 1441236027, "post_id": 32364280, "comment_id": 52601755, "body": "at the command line, in the same directory as the py_run.php file, type the following at the command prompt and report the return, please: <code>&#47;usr&#47;bin&#47;php py_run.php</code> If it doesn&#39;t work, please paste what you get typing <code>ls -al</code> in same said directory"}, {"owner": {"reputation": 95, "user_id": 4755771, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/5ac7bca01cc2906c03a97c1e706ce7e9?s=128&d=identicon&r=PG&f=1", "display_name": "peekaboo", "link": "https://stackoverflow.com/users/4755771/peekaboo"}, "edited": false, "score": 0, "creation_date": 1441236123, "post_id": 32364280, "comment_id": 52601781, "body": "i forgot to mention i did not move the php file to /usr/bin/php as i cant see that folder, so i manually called the directory via cd command and access its full path"}, {"owner": {"reputation": 95, "user_id": 4755771, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/5ac7bca01cc2906c03a97c1e706ce7e9?s=128&d=identicon&r=PG&f=1", "display_name": "peekaboo", "link": "https://stackoverflow.com/users/4755771/peekaboo"}, "edited": false, "score": 0, "creation_date": 1441236233, "post_id": 32364280, "comment_id": 52601812, "body": "the return for that would be <code>is a directory</code>"}, {"owner": {"reputation": 4274, "user_id": 5113071, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/27afe5aa502eb75ce05a49b47846889d?s=128&d=identicon&r=PG", "display_name": "Shawn Mehan", "link": "https://stackoverflow.com/users/5113071/shawn-mehan"}, "reply_to_user": {"reputation": 95, "user_id": 4755771, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/5ac7bca01cc2906c03a97c1e706ce7e9?s=128&d=identicon&r=PG&f=1", "display_name": "peekaboo", "link": "https://stackoverflow.com/users/4755771/peekaboo"}, "edited": false, "score": 0, "creation_date": 1441236336, "post_id": 32364280, "comment_id": 52601838, "body": "Please copy the command and output from your shell, like: shawnmehan$ ls -al total 40 drwxr-xr-x  8 shawnmehan  staff   272 Sep  2 15:57 . drwxr-xr-x  3 shawnmehan  staff   102 Aug 24 20:35 .. drwxr-xr-x  4 shawnmehan  staff   136 Sep  2 15:32 .phpintel drwxr-xr-x  3 shawnmehan  staff   102 Aug 24 20:44 bin -rw-r--r--  1 shawnmehan  staff   149 Sep  2 15:58 duh.php -rw-r--r--  1 shawnmehan  staff    21 Sep  2 15:57 pyrun.py"}, {"owner": {"reputation": 95, "user_id": 4755771, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/5ac7bca01cc2906c03a97c1e706ce7e9?s=128&d=identicon&r=PG&f=1", "display_name": "peekaboo", "link": "https://stackoverflow.com/users/4755771/peekaboo"}, "edited": false, "score": 0, "creation_date": 1441236405, "post_id": 32364280, "comment_id": 52601859, "body": "` total 48 drwxr-xr-x   7 jian  admin   238 Sep  3 08:49 . drwxr-xr-x  12 jian  admin   408 Sep  2 14:59 .. -rw-r--r--@  1 jian  admin  6148 Sep  2 16:28 .DS_Store -rw-r--r--   1 jian  admin   352 Sep  2 17:42 face_admin.php -rw-r--r--   1 jian  admin   149 Sep  3 09:10 face_admin_run.php -rw-r--r--   1 jian  admin  1323 Sep  3 08:49 face_admin_run_backup.php -rwxr-xr-x   1 jian  admin    57 Sep  2 13:50 testPyscript.py &#39;  face_admin_run.php is the file with the php code to run the py script and testPyscript.py is the python file"}, {"owner": {"reputation": 4274, "user_id": 5113071, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/27afe5aa502eb75ce05a49b47846889d?s=128&d=identicon&r=PG", "display_name": "Shawn Mehan", "link": "https://stackoverflow.com/users/5113071/shawn-mehan"}, "reply_to_user": {"reputation": 95, "user_id": 4755771, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/5ac7bca01cc2906c03a97c1e706ce7e9?s=128&d=identicon&r=PG&f=1", "display_name": "peekaboo", "link": "https://stackoverflow.com/users/4755771/peekaboo"}, "edited": false, "score": 0, "creation_date": 1441236882, "post_id": 32364280, "comment_id": 52601980, "body": "good. now do the same with <code>&#47;usr&#47;bin&#47;php face_admin_run.php</code> like <code>$ &#47;usr&#47;bin&#47;php face_admin_run.php  &#47;usr&#47;bin&#47;python</code> . Here, the last string is the output of my <code>which python</code> in the php file."}, {"owner": {"reputation": 95, "user_id": 4755771, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/5ac7bca01cc2906c03a97c1e706ce7e9?s=128&d=identicon&r=PG&f=1", "display_name": "peekaboo", "link": "https://stackoverflow.com/users/4755771/peekaboo"}, "edited": false, "score": 0, "creation_date": 1441237222, "post_id": 32364280, "comment_id": 52602058, "body": "err dont quite get the last instruction, do you want me to run the face_admin_run.php in its directory followed by the directory of python?&#39;"}, {"owner": {"reputation": 95, "user_id": 4755771, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/5ac7bca01cc2906c03a97c1e706ce7e9?s=128&d=identicon&r=PG&f=1", "display_name": "peekaboo", "link": "https://stackoverflow.com/users/4755771/peekaboo"}, "edited": false, "score": 0, "creation_date": 1441237376, "post_id": 32364280, "comment_id": 52602097, "body": "jians-MacBook-Pro:~ jian$ cd /usr/bin/python -bash: cd: /usr/bin/python: Not a directory jians-MacBook-Pro:~ jian$ /usr/bin/python Python 2.7.10 (default, Aug  7 2015, 20:58:43)  [GCC 4.2.1 Compatible Apple LLVM 7.0.0 (clang-700.0.59.1)] on darwin Type &quot;help&quot;, &quot;copyright&quot;, &quot;credits&quot; or &quot;license&quot; for more information. &gt;&gt;&gt;"}, {"owner": {"reputation": 4274, "user_id": 5113071, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/27afe5aa502eb75ce05a49b47846889d?s=128&d=identicon&r=PG", "display_name": "Shawn Mehan", "link": "https://stackoverflow.com/users/5113071/shawn-mehan"}, "reply_to_user": {"reputation": 95, "user_id": 4755771, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/5ac7bca01cc2906c03a97c1e706ce7e9?s=128&d=identicon&r=PG&f=1", "display_name": "peekaboo", "link": "https://stackoverflow.com/users/4755771/peekaboo"}, "edited": false, "score": 0, "creation_date": 1441237384, "post_id": 32364280, "comment_id": 52602100, "body": "in the directory with your php file, type: <code>&#47;usr&#47;bin&#47;php face_admin_run.php</code>. Copy and paste that and the return, please."}, {"owner": {"reputation": 95, "user_id": 4755771, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/5ac7bca01cc2906c03a97c1e706ce7e9?s=128&d=identicon&r=PG&f=1", "display_name": "peekaboo", "link": "https://stackoverflow.com/users/4755771/peekaboo"}, "edited": false, "score": 0, "creation_date": 1441237997, "post_id": 32364280, "comment_id": 52602252, "body": "jians-MacBook-Pro:fyp_4_sem2 jian$ cd z_admin_face jians-MacBook-Pro:z_admin_face jian$ /usr/bin/php face_admin_run.php /usr/bin/python: can&#39;t open file &#39;z_admin_face/testPyscript.py&#39;: [Errno 2] No such file or directory php_face2jians-MacBook-Pro:z_admin_face jian$  base on my current php file <code>&lt;?php         $command = escapeshellcmd(&quot;&#47;usr&#47;bin&#47;python z_admin_face&#47;testPyscript.py&quot;);         $output = shell_exec($command);         echo $output;         echo  &quot;php_face2&quot;;  ?&gt;</code>"}, {"owner": {"reputation": 4274, "user_id": 5113071, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/27afe5aa502eb75ce05a49b47846889d?s=128&d=identicon&r=PG", "display_name": "Shawn Mehan", "link": "https://stackoverflow.com/users/5113071/shawn-mehan"}, "reply_to_user": {"reputation": 95, "user_id": 4755771, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/5ac7bca01cc2906c03a97c1e706ce7e9?s=128&d=identicon&r=PG&f=1", "display_name": "peekaboo", "link": "https://stackoverflow.com/users/4755771/peekaboo"}, "edited": false, "score": 0, "creation_date": 1441238357, "post_id": 32364280, "comment_id": 52602358, "body": "OK. So your php file is executing. Now it is complaining that it can&#39;t find <code>testPyscript.py</code>. And that is because you have told it that it is in yet another subdirectory called <code>z_admin_face</code>. Go to your php file and remove the <code>z_admin_face&#47;testPyscript.py</code> and replace it with only <code>testPyscript.py</code>. Rerun your php from the command line and report."}, {"owner": {"reputation": 95, "user_id": 4755771, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/5ac7bca01cc2906c03a97c1e706ce7e9?s=128&d=identicon&r=PG&f=1", "display_name": "peekaboo", "link": "https://stackoverflow.com/users/4755771/peekaboo"}, "edited": false, "score": 0, "creation_date": 1441238763, "post_id": 32364280, "comment_id": 52602466, "body": "jians-MacBook-Pro:z_admin_face jian$ /usr/bin/php face_admin_run.php hello world python script php_face2jians-MacBook-Pro:z_admin_face jian$"}, {"owner": {"reputation": 95, "user_id": 4755771, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/5ac7bca01cc2906c03a97c1e706ce7e9?s=128&d=identicon&r=PG&f=1", "display_name": "peekaboo", "link": "https://stackoverflow.com/users/4755771/peekaboo"}, "edited": false, "score": 0, "creation_date": 1441238888, "post_id": 32364280, "comment_id": 52602492, "body": "it works now but i just wanna clarify something when i execute my script, when i press the button which runs the php file, the script execute and output hello world in the browser console, it doesnt and wont show the same command in terminal window right (what im asking is this the right behaviour? or will it show a command in the terminal window as well?)"}, {"owner": {"reputation": 4274, "user_id": 5113071, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/27afe5aa502eb75ce05a49b47846889d?s=128&d=identicon&r=PG", "display_name": "Shawn Mehan", "link": "https://stackoverflow.com/users/5113071/shawn-mehan"}, "reply_to_user": {"reputation": 95, "user_id": 4755771, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/5ac7bca01cc2906c03a97c1e706ce7e9?s=128&d=identicon&r=PG&f=1", "display_name": "peekaboo", "link": "https://stackoverflow.com/users/4755771/peekaboo"}, "edited": false, "score": 0, "creation_date": 1441238911, "post_id": 32364280, "comment_id": 52602496, "body": "now it works from the escapeshellcmd. Is it working from the web page?"}, {"owner": {"reputation": 95, "user_id": 4755771, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/5ac7bca01cc2906c03a97c1e706ce7e9?s=128&d=identicon&r=PG&f=1", "display_name": "peekaboo", "link": "https://stackoverflow.com/users/4755771/peekaboo"}, "edited": false, "score": 0, "creation_date": 1441239044, "post_id": 32364280, "comment_id": 52602529, "body": "yes it displays on my browser console now too. Thank you for your help."}, {"owner": {"reputation": 4274, "user_id": 5113071, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/27afe5aa502eb75ce05a49b47846889d?s=128&d=identicon&r=PG", "display_name": "Shawn Mehan", "link": "https://stackoverflow.com/users/5113071/shawn-mehan"}, "reply_to_user": {"reputation": 95, "user_id": 4755771, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/5ac7bca01cc2906c03a97c1e706ce7e9?s=128&d=identicon&r=PG&f=1", "display_name": "peekaboo", "link": "https://stackoverflow.com/users/4755771/peekaboo"}, "edited": false, "score": 0, "creation_date": 1441239259, "post_id": 32364280, "comment_id": 52602589, "body": "whew. please mark this answer as complete. is there a badge for patience :)"}, {"owner": {"reputation": 95, "user_id": 4755771, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/5ac7bca01cc2906c03a97c1e706ce7e9?s=128&d=identicon&r=PG&f=1", "display_name": "peekaboo", "link": "https://stackoverflow.com/users/4755771/peekaboo"}, "edited": false, "score": 0, "creation_date": 1441239334, "post_id": 32364280, "comment_id": 52602609, "body": "hahha thanks alot for guiding me through, yes i did upadte my question and also thanked you :) haha yes you deserve a badge for patience ."}, {"owner": {"reputation": 16854, "user_id": 539023, "user_type": "registered", "accept_rate": 11, "profile_image": "https://i.stack.imgur.com/WmDNC.jpg?s=128&g=1", "display_name": "kta", "link": "https://stackoverflow.com/users/539023/kta"}, "edited": false, "score": 0, "creation_date": 1616621403, "post_id": 32364280, "comment_id": 118064129, "body": "thank you it works now. it should upvote more."}], "tags": [], "owner": {"reputation": 4274, "user_id": 5113071, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/27afe5aa502eb75ce05a49b47846889d?s=128&d=identicon&r=PG", "display_name": "Shawn Mehan", "link": "https://stackoverflow.com/users/5113071/shawn-mehan"}, "is_accepted": true, "score": 1, "last_activity_date": 1441233493, "creation_date": 1441233493, "answer_id": 32364280, "question_id": 32364100, "link": "https://stackoverflow.com/questions/32364100/executing-a-few-python-scripts-with-php-not-working/32364280#32364280", "title": "Executing a few python scripts with PhP not working", "body": "<p>Well, your code works for me if I change your py_run.php slightly to include the path to python, e.g.:</p>\n\n<pre><code>&lt;?php\n        $command = escapeshellcmd(\"/path/to/python/python z_admin_face/testPyscript.py\");\n        $output = shell_exec($command);\n        echo $output;\n        echo  \"php_face2\";\n\n?&gt;\n</code></pre>\n"}], "owner": {"reputation": 95, "user_id": 4755771, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/5ac7bca01cc2906c03a97c1e706ce7e9?s=128&d=identicon&r=PG&f=1", "display_name": "peekaboo", "link": "https://stackoverflow.com/users/4755771/peekaboo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1822, "favorite_count": 0, "accepted_answer_id": 32364280, "answer_count": 2, "score": 1, "last_activity_date": 1441239216, "creation_date": 1441232543, "last_edit_date": 1441239216, "question_id": 32364100, "link": "https://stackoverflow.com/questions/32364100/executing-a-few-python-scripts-with-php-not-working", "title": "Executing a few python scripts with PhP not working", "body": "<p>Would like to ask , as I am designing a webpage whereby there will be a few buttons that when press will run different python scripts. </p>\n\n<p>For now I have tried a basic example by using both jquery and php to pass the command to run just a single python script first that prints out hello world in the terminal console but it isn't working. I have tried searching but could not seem to find the solution. Any help? (One of them was about using fast-cgi? anyone can shed some light on this?)</p>\n\n<p>Note:\n-I am coding on Mac OS X and using XAMPP but will be porting this code to raspberry pi with LAMPP installation. (Hence command line and advice if differ for the two OSes will be greatly appreciated)</p>\n\n<p>My code:</p>\n\n<p>Below are the codes where by i create a button when on press it runs a simple python script</p>\n\n<p>Main.php</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n &lt;script type=\"text/javascript\" src=\"js/general_v2.js\"&gt;&lt;/script&gt;\n&lt;/head&gt;\n\n    &lt;body&gt;\n\n        &lt;button id=\"button_py1\" type=\"button\"&gt;Press to test Py&lt;/button&gt;\n\n &lt;/body&gt;\n &lt;/html&gt;\n</code></pre>\n\n<p>below is the code from general_v2.js</p>\n\n<pre><code>$(document).ready(function(){\n  $('#button_py1').click(function() {\n  e.preventDefault();\n\n  $.ajax({\n   type: \"POST\",\n   url: \"z_py/py_run.php\",\n\n\n   success: function(output_string){\n    console.log(\"js_success\");\n\n   },\n   error:function(err){\n    //handle error\n    alert('Error submitting form' + err);\n   }\n\n});    \n});\n});\n</code></pre>\n\n<p>below is the code for py_run.php</p>\n\n<pre><code>&lt;?php\n        $command = escapeshellcmd(\"python z_py/testPyscript.py\");\n        $output = shell_exec($command);\n        echo $output;\n        echo  \"php_works\";\n\n?&gt;\n</code></pre>\n\n<p>the python file:</p>\n\n<pre><code>#! /usr/bin/env python\n\nprint \"hello world python script\"\n</code></pre>\n\n<p>Edit:\n-I have tried executing the script directly by keying in the url path name it does't work either(it does print to echo out a random test message so it is not permission error on the file i believe.)\n-Regarding the php code on executing python, im not familiar with using it(i found that on the forumn(can't remember where but i tried and doesnt work),  found out about exec command as well and tried it as shown below and it doesn't work either :</p>\n\n<p>This is my alternative Attempt on using exec (py_run.php)</p>\n\n<pre><code>&lt;?php\n        $command = \"python z_py/testPyscript.py\";\n        exec($command);\n\n?&gt;\n</code></pre>\n\n<p>SOLVED!\nthanks to @Shawn Mehan</p>\n\n<p>The solution would be that the python file is already in the same directory as the php file, hence removing the path name solves the issue.</p>\n\n<p>updated code:</p>\n\n<pre><code>&lt;?php\n        $command = escapeshellcmd(\"/usr/bin/python testPyscript.py\");\n        $output = shell_exec($command);\n        echo $output;\n        echo  \"php_works\";\n\n?&gt;\n</code></pre>\n"}, {"tags": ["python", "json", "flask"], "comments": [{"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1441232552, "post_id": 32364084, "comment_id": 52600703, "body": "<code>**</code> works on a dict not a list, no idea what the jsonify functions does but you can either use <code>jsonify(*res)</code> or` jsonify(*res)`"}, {"owner": {"reputation": 26209, "user_id": 1592380, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/1b375c795476432e64d4433a651d2804?s=128&d=identicon&r=PG", "display_name": "user1592380", "link": "https://stackoverflow.com/users/1592380/user1592380"}, "reply_to_user": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1441289936, "post_id": 32364084, "comment_id": 52626981, "body": "Thanks Padraic, what is the name of the * operator , so I can look it up? I knew about **, but not *"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1441295520, "post_id": 32364084, "comment_id": 52630955, "body": "<a href=\"http://stackoverflow.com/questions/3394835/args-and-kwargs\">stackoverflow.com/questions/3394835/args-and-kwargs</a>"}, {"owner": {"reputation": 26209, "user_id": 1592380, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/1b375c795476432e64d4433a651d2804?s=128&d=identicon&r=PG", "display_name": "user1592380", "link": "https://stackoverflow.com/users/1592380/user1592380"}, "reply_to_user": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 1, "creation_date": 1441300209, "post_id": 32364084, "comment_id": 52633748, "body": "Thanks again, that helps a lot!"}], "answers": [{"comments": [{"owner": {"reputation": 26209, "user_id": 1592380, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/1b375c795476432e64d4433a651d2804?s=128&d=identicon&r=PG", "display_name": "user1592380", "link": "https://stackoverflow.com/users/1592380/user1592380"}, "edited": false, "score": 0, "creation_date": 1441289811, "post_id": 32364139, "comment_id": 52626877, "body": "Thanks Aidan, that did work! can I ask where you found jsonify(results=res) ?"}, {"owner": {"reputation": 3467, "user_id": 171450, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a3babaa84012b7ec17726a6d899590b1?s=128&d=identicon&r=PG", "display_name": "Aidan Kane", "link": "https://stackoverflow.com/users/171450/aidan-kane"}, "reply_to_user": {"reputation": 26209, "user_id": 1592380, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/1b375c795476432e64d4433a651d2804?s=128&d=identicon&r=PG", "display_name": "user1592380", "link": "https://stackoverflow.com/users/1592380/user1592380"}, "edited": false, "score": 0, "creation_date": 1441311191, "post_id": 32364139, "comment_id": 52639916, "body": "Glad it helped. Since before I started even using python / flask I&#39;ve always used a dict as the base structure in any json based services I&#39;ve made. As a result I normally do something like <code>jsonify(objects=[obj1, obj])</code> \u2013 it&#39;s just habit really."}], "tags": [], "owner": {"reputation": 3467, "user_id": 171450, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a3babaa84012b7ec17726a6d899590b1?s=128&d=identicon&r=PG", "display_name": "Aidan Kane", "link": "https://stackoverflow.com/users/171450/aidan-kane"}, "is_accepted": true, "score": 3, "last_activity_date": 1441233021, "last_edit_date": 1441233021, "creation_date": 1441232705, "answer_id": 32364139, "question_id": 32364084, "link": "https://stackoverflow.com/questions/32364084/typeerror-jsonify-argument-after-must-be-a-mapping-not-list-returning-jso/32364139#32364139", "title": "TypeError: jsonify() argument after ** must be a mapping, not list returning JSON using Flask", "body": "<p><code>(**res)</code> is expecting to <code>res</code> to be a single dictionary that it can expand into the keyword arguments to the <code>jsonify</code> function. eg</p>\n\n<pre><code>res = dict(a=1, b=2)\njsonify(**res)\n# is the same as\njsonify(a=1, b=2)\n</code></pre>\n\n<p>In your case can you not just do:</p>\n\n<pre><code>jsonify(res)\n</code></pre>\n\n<p>Edit: actually, I think you need to wrap your results up in a dict to return them. You can shortcut it with jsonify as:</p>\n\n<pre><code>jsonify(results=res)\n</code></pre>\n\n<p>Gives you</p>\n\n<pre><code>{\n  \"results\": [\n    {\n      \"a\": \"aaa\",\n      \"token\": \"146bf00b2cb96e6c425c2ab997637\"\n    },\n    {\n      \"a\": \"bbb\",\n      \"token\": \"146bf00b2cb96e6c425c2ab3f7417\"\n    },\n    {\n      \"a\": \"ccc\",\n      \"token\": \"146bf00b2cb96e6c425c2ab3f5692\"\n    }\n  ]\n}\n</code></pre>\n"}], "owner": {"reputation": 26209, "user_id": 1592380, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/1b375c795476432e64d4433a651d2804?s=128&d=identicon&r=PG", "display_name": "user1592380", "link": "https://stackoverflow.com/users/1592380/user1592380"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7214, "favorite_count": 1, "accepted_answer_id": 32364139, "answer_count": 1, "score": 3, "last_activity_date": 1441233021, "creation_date": 1441232449, "question_id": 32364084, "link": "https://stackoverflow.com/questions/32364084/typeerror-jsonify-argument-after-must-be-a-mapping-not-list-returning-jso", "title": "TypeError: jsonify() argument after ** must be a mapping, not list returning JSON using Flask", "body": "<p>I'm working with flask and gevent. My function looks like:</p>\n\n<pre><code>@app.route('/index',methods=['POST'])\ndef index():\n....\n....\ngevent.joinall(threads)\nres = [t.value for t in threads]\nreturn jsonify(**res)\n</code></pre>\n\n<p>The response (res) generated is a list of dictionaries looking like:</p>\n\n<pre><code>[{u'token': u'146bf00b2cb96e6c425c2ab997637', u'a': u'aaa'},{u'token': u'146bf00b2cb96e6c425c2ab3f7417', u'a': u'bbb'}, {u'token': u'146bf00b2cb96e6c425c2ab3f5692', u'a': u'ccc'} ]\n</code></pre>\n\n<p>When I try to jsonify this I get:</p>\n\n<pre><code>TypeError: jsonify() argument after ** must be a mapping, not list\n</code></pre>\n\n<p>What am I doing wrong?</p>\n"}, {"tags": ["python", "c"], "comments": [{"owner": {"reputation": 39811, "user_id": 1322401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/JlaPg.jpg?s=128&g=1", "display_name": "Steven Rumbalski", "link": "https://stackoverflow.com/users/1322401/steven-rumbalski"}, "edited": false, "score": 0, "creation_date": 1441232444, "post_id": 32363988, "comment_id": 52600665, "body": "This question is open-ended and will lead to subjective answers and as such is a poor fit for stackoverflow.  You may wish to ask your question at <a href=\"https://groups.google.com/forum/#!forum/comp.lang.python\" rel=\"nofollow noreferrer\">comp.lang.python</a>."}, {"owner": {"reputation": 5782, "user_id": 1560599, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b91099d549ba464204a4b80d3ef01c9a?s=128&d=identicon&r=PG", "display_name": "seaotternerd", "link": "https://stackoverflow.com/users/1560599/seaotternerd"}, "edited": false, "score": 0, "creation_date": 1441429536, "post_id": 32363988, "comment_id": 52687171, "body": "Take a look at cython"}], "answers": [{"comments": [{"owner": {"reputation": 39811, "user_id": 1322401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/JlaPg.jpg?s=128&g=1", "display_name": "Steven Rumbalski", "link": "https://stackoverflow.com/users/1322401/steven-rumbalski"}, "edited": false, "score": 1, "creation_date": 1441233027, "post_id": 32364083, "comment_id": 52600867, "body": "Your two sentences are true, but they have no logical relation to each other.  Your answer does not help the OP solve his problem."}], "tags": [], "owner": {"reputation": 148, "user_id": 4736122, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3229bab7d65621c71a0e231c07802c23?s=128&d=identicon&r=PG&f=1", "display_name": "Pedro J", "link": "https://stackoverflow.com/users/4736122/pedro-j"}, "is_accepted": false, "score": 0, "last_activity_date": 1450844551, "last_edit_date": 1450844551, "creation_date": 1441232445, "answer_id": 32364083, "question_id": 32363988, "link": "https://stackoverflow.com/questions/32363988/best-method-to-call-a-c-function-from-python-code/32364083#32364083", "title": "Best method to call a C function from python code", "body": "<p>You can use a shared library using the C compiler and make the calls of the functions that are defined in the library, to this, you can use the module CPython.</p>\n"}, {"comments": [{"owner": {"reputation": 39811, "user_id": 1322401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/JlaPg.jpg?s=128&g=1", "display_name": "Steven Rumbalski", "link": "https://stackoverflow.com/users/1322401/steven-rumbalski"}, "edited": false, "score": 0, "creation_date": 1441232817, "post_id": 32364085, "comment_id": 52600800, "body": "This isn&#39;t really integration with C in any meaningful sense.  This is just calling a compiled program with command line arguments.  Everything must be converted to and from strings for this to work.  This <i>may</i> be a viable option depending on the OP&#39;s needs, but I think you are missing the mark."}, {"owner": {"reputation": 4230, "user_id": 1912128, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/YyM8r.png?s=128&g=1", "display_name": "taesu", "link": "https://stackoverflow.com/users/1912128/taesu"}, "reply_to_user": {"reputation": 39811, "user_id": 1322401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/JlaPg.jpg?s=128&g=1", "display_name": "Steven Rumbalski", "link": "https://stackoverflow.com/users/1322401/steven-rumbalski"}, "edited": false, "score": 0, "creation_date": 1441232889, "post_id": 32364085, "comment_id": 52600824, "body": "I wrote this method because OP doesn&#39;t seem to be knowledgeable enough to import c code into python and run it."}, {"owner": {"reputation": 30697, "user_id": 31667, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/082b069c287878a1bd5731f44c8f10e7?s=128&d=identicon&r=PG", "display_name": "viraptor", "link": "https://stackoverflow.com/users/31667/viraptor"}, "edited": false, "score": 0, "creation_date": 1441233026, "post_id": 32364085, "comment_id": 52600864, "body": "@taesu that&#39;s why he asked the question - hope you&#39;re not implying he can&#39;t learn new things ;)"}, {"owner": {"reputation": 4230, "user_id": 1912128, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/YyM8r.png?s=128&g=1", "display_name": "taesu", "link": "https://stackoverflow.com/users/1912128/taesu"}, "reply_to_user": {"reputation": 30697, "user_id": 31667, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/082b069c287878a1bd5731f44c8f10e7?s=128&d=identicon&r=PG", "display_name": "viraptor", "link": "https://stackoverflow.com/users/31667/viraptor"}, "edited": false, "score": 0, "creation_date": 1441233172, "post_id": 32364085, "comment_id": 52600900, "body": "So I don&#39;t expect him to import c into python, thus this way seemed relatively eaiser. @viraptor I wasn&#39;t and I certainly hope you weren&#39;t"}], "tags": [], "owner": {"reputation": 4230, "user_id": 1912128, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/YyM8r.png?s=128&g=1", "display_name": "taesu", "link": "https://stackoverflow.com/users/1912128/taesu"}, "is_accepted": false, "score": -1, "last_activity_date": 1441232463, "creation_date": 1441232463, "answer_id": 32364085, "question_id": 32363988, "link": "https://stackoverflow.com/questions/32363988/best-method-to-call-a-c-function-from-python-code/32364085#32364085", "title": "Best method to call a C function from python code", "body": "<p>Let's say your c code sends email, and the code accept args like this</p>\n\n<pre><code>./sendemail email title body\n</code></pre>\n\n<p>Then from python , you can do something like:</p>\n\n<pre><code>from subprocess import call\ncall([\"./sendemail\", \"email@email.com\", \"subject\", \"body\"])\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3172, "user_id": 128548, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bfc96d2a02d9113edb992eb96c205c5a?s=128&d=identicon&r=PG", "display_name": "fijal", "link": "https://stackoverflow.com/users/128548/fijal"}, "edited": false, "score": 0, "creation_date": 1441815261, "post_id": 32364157, "comment_id": 52830086, "body": "you&#39;re linking to a bad part of the docs, ABI level is really dangerous and should be avoided (unless you have no other choice). You don&#39;t know the library nor operating system of the author of the question"}, {"owner": {"reputation": 30697, "user_id": 31667, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/082b069c287878a1bd5731f44c8f10e7?s=128&d=identicon&r=PG", "display_name": "viraptor", "link": "https://stackoverflow.com/users/31667/viraptor"}, "reply_to_user": {"reputation": 3172, "user_id": 128548, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bfc96d2a02d9113edb992eb96c205c5a?s=128&d=identicon&r=PG", "display_name": "fijal", "link": "https://stackoverflow.com/users/128548/fijal"}, "edited": false, "score": 0, "creation_date": 1441841684, "post_id": 32364157, "comment_id": 52842029, "body": "It may be dangerous, it may be ok. The document lists all kinds of ways to access the library. I stripped the specific anchor to abi, but exactly because the author didn&#39;t specify it, it&#39;s as valid answer as any other way. (I mean, they will have to make the choice in the end since we lack details.)"}], "tags": [], "owner": {"reputation": 30697, "user_id": 31667, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/082b069c287878a1bd5731f44c8f10e7?s=128&d=identicon&r=PG", "display_name": "viraptor", "link": "https://stackoverflow.com/users/31667/viraptor"}, "is_accepted": false, "score": 2, "last_activity_date": 1441841627, "last_edit_date": 1441841627, "creation_date": 1441232809, "answer_id": 32364157, "question_id": 32363988, "link": "https://stackoverflow.com/questions/32363988/best-method-to-call-a-c-function-from-python-code/32364157#32364157", "title": "Best method to call a C function from python code", "body": "<p>Cffi library is a fairly modern approach to this. It also works across python and pypy.</p>\n\n<p>Provided you have your functions contained in a shared library, you can just import them as python methods. Have a look at examples here: <a href=\"http://cffi.readthedocs.org/en/latest/overview.html\" rel=\"nofollow\">http://cffi.readthedocs.org/en/latest/overview.html</a></p>\n"}, {"tags": [], "owner": {"reputation": 2898, "user_id": 1385931, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/70e182175b70bc54af9183fdc8d9a27b?s=128&d=identicon&r=PG", "display_name": "HelloWorld", "link": "https://stackoverflow.com/users/1385931/helloworld"}, "is_accepted": false, "score": 0, "last_activity_date": 1441233191, "last_edit_date": 1441233191, "creation_date": 1441232886, "answer_id": 32364170, "question_id": 32363988, "link": "https://stackoverflow.com/questions/32363988/best-method-to-call-a-c-function-from-python-code/32364170#32364170", "title": "Best method to call a C function from python code", "body": "<p>When you want to extend Python with some C functions you can check out the following example. What you need is a module which registers wrapper functions for your own functions.</p>\n\n<p>For more information check out the <a href=\"https://docs.python.org/2/extending/extending.html#keyword-parameters-for-extension-functions\" rel=\"nofollow\">Python docs</a>.</p>\n\n<pre><code>#include &lt;Python.h&gt;\n\nstatic PyObject *\nyourfunction(PyObject *self, PyObject *args, PyObject *keywds)\n{\n    int voltage;\n    char *state = \"a stiff\";\n    char *action = \"voom\";\n    char *type = \"Norwegian Blue\";\n\n    static char *kwlist[] = {\"voltage\", \"state\", \"action\", \"type\", NULL};\n\n    if (!PyArg_ParseTupleAndKeywords(args, keywds, \"i|sss\", kwlist,\n                                     &amp;voltage, &amp;state, &amp;action, &amp;type))\n        return NULL;\n\n    printf(\"-- This parrot wouldn't %s if you put %i Volts through it.\\n\",\n           action, voltage);\n    printf(\"-- Lovely plumage, the %s -- It's %s!\\n\", type, state);\n\n    Py_INCREF(Py_None);\n\n    return Py_None;\n}\n\nstatic PyMethodDef keywdarg_methods[] = {\n    {\"yourfunction\", (PyCFunction)yourfunction, METH_VARARGS | METH_KEYWORDS,\n     \"the doc of your function\"},\n    {NULL, NULL, 0, NULL}   /* sentinel */\n};\n\n\n// in Python 2.x the function name initmodulename is executed when imported\nvoid initkeywdarg(void)\n{\n  /* Create the module and add the functions */\n  Py_InitModule(\"keywdarg\", keywdarg_methods);\n}\n</code></pre>\n\n<p>To compile the file you can use clang. Keep in mind that you have to correct the include path if the Python headers are located somewhere else. The created binary <code>keywdarg.so</code> can be created by using <code>import keywdarg</code>.</p>\n\n<blockquote>\n  <p>clang++ -shared -I/usr/include/python2.7 -fPIC keywdarg.cpp -o keywdarg.so -lpython</p>\n</blockquote>\n"}], "owner": {"reputation": 55, "user_id": 4188635, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/46f8046613e3a3531d3c2e4451202ac8?s=128&d=identicon&r=PG&f=1", "display_name": "bhuvan", "link": "https://stackoverflow.com/users/4188635/bhuvan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1615, "favorite_count": 0, "answer_count": 4, "score": -2, "last_activity_date": 1450844551, "creation_date": 1441231839, "question_id": 32363988, "link": "https://stackoverflow.com/questions/32363988/best-method-to-call-a-c-function-from-python-code", "title": "Best method to call a C function from python code", "body": "<p>I have some C code which has some basic functions. I want to be able to call these C functions from my python code. There seem to be a lot f methods to do this as I search online, but they look a bit complicated. Can anyone suggest which is the simplest and best method to call C functions from python without any issues ?</p>\n"}, {"tags": ["python", "selenium"], "comments": [{"owner": {"reputation": 6847, "user_id": 1081569, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8682dc66d5900d9645a8dff1316495e1?s=128&d=identicon&r=PG", "display_name": "Paulo Almeida", "link": "https://stackoverflow.com/users/1081569/paulo-almeida"}, "edited": false, "score": 0, "creation_date": 1441232845, "post_id": 32363985, "comment_id": 52600807, "body": "That error message is not very helpful. Is there something like &quot;NoSuchElementException&quot; a few lines above? Also, see if <a href=\"http://stackoverflow.com/questions/20606775/selenium-webdriver-finding-element-in-next-link\">this answer</a> helps. Particularly the part about <code>implicitly_wait</code>."}, {"owner": {"reputation": 1569, "user_id": 2962786, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/3e352f09371393c2af57f001d7f47d75?s=128&d=identicon&r=PG&f=1", "display_name": "DataTx", "link": "https://stackoverflow.com/users/2962786/datatx"}, "reply_to_user": {"reputation": 6847, "user_id": 1081569, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8682dc66d5900d9645a8dff1316495e1?s=128&d=identicon&r=PG", "display_name": "Paulo Almeida", "link": "https://stackoverflow.com/users/1081569/paulo-almeida"}, "edited": false, "score": 0, "creation_date": 1441233098, "post_id": 32363985, "comment_id": 52600883, "body": "@PauloAlmeida the element is hidden. Do you know I make it visible? Maybe this <a href=\"http://stackoverflow.com/questions/27244589/selecting-element-in-python-selenium\" title=\"selecting element in python selenium\">stackoverflow.com/questions/27244589/&hellip;</a>"}, {"owner": {"reputation": 6847, "user_id": 1081569, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8682dc66d5900d9645a8dff1316495e1?s=128&d=identicon&r=PG", "display_name": "Paulo Almeida", "link": "https://stackoverflow.com/users/1081569/paulo-almeida"}, "edited": false, "score": 0, "creation_date": 1441233459, "post_id": 32363985, "comment_id": 52600991, "body": "Try <a href=\"http://stackoverflow.com/questions/15049182/write-value-to-hidden-element-with-selenium-python-script\">this answer</a>"}, {"owner": {"reputation": 18006, "user_id": 2386774, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dea7da142cb7e85d5d5a8576e2625431?s=128&d=identicon&r=PG", "display_name": "JeffC", "link": "https://stackoverflow.com/users/2386774/jeffc"}, "edited": false, "score": 0, "creation_date": 1441241874, "post_id": 32363985, "comment_id": 52603146, "body": "Is there more than one element of the type you are searching for? What if you do <code>driver.find_elements_by_name(&#39;geolocation&#39;).length</code>? Does it return more than 1? (I don&#39;t know python so maybe it&#39;s not .length?)"}], "answers": [{"comments": [{"owner": {"reputation": 1569, "user_id": 2962786, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/3e352f09371393c2af57f001d7f47d75?s=128&d=identicon&r=PG&f=1", "display_name": "DataTx", "link": "https://stackoverflow.com/users/2962786/datatx"}, "edited": false, "score": 0, "creation_date": 1441232441, "post_id": 32364069, "comment_id": 52600663, "body": "thanks for the answer Paulo. I tried that as well and should of included it, but that does not work either."}], "tags": [], "owner": {"reputation": 6847, "user_id": 1081569, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8682dc66d5900d9645a8dff1316495e1?s=128&d=identicon&r=PG", "display_name": "Paulo Almeida", "link": "https://stackoverflow.com/users/1081569/paulo-almeida"}, "is_accepted": false, "score": 0, "last_activity_date": 1441232307, "creation_date": 1441232307, "answer_id": 32364069, "question_id": 32363985, "link": "https://stackoverflow.com/questions/32363985/how-to-use-selenium-for-text-input-in-python/32364069#32364069", "title": "How to use Selenium for text input in python", "body": "<p>You are finding the <code>div</code>, not the <code>input</code>. You can do this:</p>\n\n<pre><code>field = driver.find_element_by_name('geolocation')\n</code></pre>\n\n<p>See alternatives in the <a href=\"http://selenium-python.readthedocs.org/en/latest/locating-elements.html\" rel=\"nofollow\">documentation</a>.</p>\n"}], "owner": {"reputation": 1569, "user_id": 2962786, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/3e352f09371393c2af57f001d7f47d75?s=128&d=identicon&r=PG&f=1", "display_name": "DataTx", "link": "https://stackoverflow.com/users/2962786/datatx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 990, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1441233063, "creation_date": 1441231823, "last_edit_date": 1495541174, "question_id": 32363985, "link": "https://stackoverflow.com/questions/32363985/how-to-use-selenium-for-text-input-in-python", "title": "How to use Selenium for text input in python", "body": "<p>I am trying to use selenium in python to input a search into a website.</p>\n\n<p>From the <a href=\"https://stackoverflow.com/questions/31346858/how-to-locate-text-input-by-name-using-selenium-webdriver\">examples</a> I have seen, the tag, class, id etc is targeted and a value is inserted using </p>\n\n<pre><code>inputElement.send_keys('example')\n</code></pre>\n\n<p>On a webpage I'm trying to target a search bar that takes a zip code, input a zip so that I can scrape the resulting page but I'm having trouble.</p>\n\n<pre><code>&lt;form class=\"geoLoc\" action=\"javascript:void(0);\" data-id=\"d866e6d3-106a-468a-8428-9fce1c8c51b6\" data-baseurl=\"\"&gt;\n&lt;fieldset class=\"search\"&gt;\n    &lt;div class=\"search-input-wrap\"&gt;\n        &lt;input type=\"tel\" name=\"geolocation\" maxlength=\"5\" data-mask=\"00000\" placeholder=\"Update Your ZIP Code\" autocomplete=\"off\"&gt;\n        &lt;div class=\"cta geoloc-btn\"&gt;\n            &lt;button type=\"submit\"&gt;&lt;span&gt;GO&amp;nbsp;&amp;nbsp;&gt;&lt;/span&gt;&lt;/button&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/fieldset&gt;\n</code></pre>\n\n<p></p>\n\n<p>I use the following code to target the form:</p>\n\n<pre><code>from selenium import webdriver\nfrom selenium.webdriver.common.keys import Keys\n\ndriver = webdriver.Firefox()\ndriver.get(\"http://example.com\")\n\nlogin_form = driver.find_element_by_class_name('search-input-wrap')\n\nlogin_form.send_keys(\"55555\")\n</code></pre>\n\n<p>Whether I use the solution above or Paulo's answer I get the following error</p>\n\n<pre><code>Traceback (most recent call last):\n      File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\n      File \"/Users/fsauceda/anaconda/lib/python2.7/site-packages/selenium/webdriver/remote/webelement.py\", line 322, in send_keys\n        self._execute(Command.SEND_KEYS_TO_ELEMENT, {'value': typing})\n      File \"/Users/fsauceda/anaconda/lib/python2.7/site-packages/selenium/webdriver/remote/webelement.py\", line 448, in _execute\n        return self._parent.execute(command, params)\n      File \"/Users/fsauceda/anaconda/lib/python2.7/site-packages/selenium/webdriver/remote/webdriver.py\", line 196, in execute\n        self.error_handler.check_response(response)\n      File \"/Users/fsauceda/anaconda/lib/python2.7/site-packages/selenium/webdriver/remote/errorhandler.py\", line 181, in check_response\n        raise exception_class(message, screen, stacktrace)\n    selenium.common.exceptions.ElementNotVisibleException: Message: Element is not currently visible and so may not be interacted with\n    Stacktrace:\n        at fxdriver.preconditions.visible (file:///var/folders/tc/12qc3v0j47x0t6djfmzpb9200000gn/T/tmpem5v0u/extensions/fxdriver@googlecode.com/components/command-processor.js:9982)\n        at DelayedCommand.prototype.checkPreconditions_ (file:///var/folders/tc/12qc3v0j47x0t6djfmzpb9200000gn/T/tmpem5v0u/extensions/fxdriver@googlecode.com/components/command-processor.js:12626)\n        at DelayedCommand.prototype.executeInternal_/h (file:///var/folders/tc/12qc3v0j47x0t6djfmzpb9200000gn/T/tmpem5v0u/extensions/fxdriver@googlecode.com/components/command-processor.js:12643)\n        at DelayedCommand.prototype.executeInternal_ (file:///var/folders/tc/12qc3v0j47x0t6djfmzpb9200000gn/T/tmpem5v0u/extensions/fxdriver@googlecode.com/components/command-processor.js:12648)\n        at DelayedCommand.prototype.execute/&lt; (file:///var/folders/tc/12qc3v0j47x0t6djfmzpb9200000gn/T/tmpem5v0u/extensions/fxdriver@googlecode.com/components/command-processor.js:12590)\n</code></pre>\n"}, {"tags": ["python", "sftp", "pexpect"], "comments": [{"owner": {"reputation": 1716, "user_id": 3757614, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56bd133b7feaee7fde836a20e59d9e49?s=128&d=identicon&r=PG&f=1", "display_name": "user3757614", "link": "https://stackoverflow.com/users/3757614/user3757614"}, "edited": false, "score": 0, "creation_date": 1441239589, "post_id": 32363948, "comment_id": 52602673, "body": "I just checked the docs, and the behavior of timeout=None isn&#39;t actually defined. I&#39;m not sure it does what you think it does."}, {"owner": {"reputation": 91, "user_id": 5117019, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f0756d2b21ddcf49b8c798c446cc75a0?s=128&d=identicon&r=PG&f=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/5117019/joshua"}, "reply_to_user": {"reputation": 1716, "user_id": 3757614, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56bd133b7feaee7fde836a20e59d9e49?s=128&d=identicon&r=PG&f=1", "display_name": "user3757614", "link": "https://stackoverflow.com/users/3757614/user3757614"}, "edited": false, "score": 0, "creation_date": 1441255931, "post_id": 32363948, "comment_id": 52606320, "body": "It&#39;s on this page: <a href=\"http://pexpect.readthedocs.org/en/latest/overview.html\" rel=\"nofollow noreferrer\">pexpect.readthedocs.org/en/latest/overview.html</a>"}], "answers": [{"tags": [], "owner": {"reputation": 18492, "user_id": 6367, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/4cc6319b3a017074fdbb5067960841eb?s=128&d=identicon&r=PG", "display_name": "Eric", "link": "https://stackoverflow.com/users/6367/eric"}, "is_accepted": false, "score": 1, "last_activity_date": 1519887737, "creation_date": 1519887737, "answer_id": 49044263, "question_id": 32363948, "link": "https://stackoverflow.com/questions/32363948/sftp-not-completing-file-transfer-when-using-pexpect-python/49044263#49044263", "title": "SFTP not completing file transfer when using pexpect (python)", "body": "<p>I came across this problem too. I think you should wait for </p>\n\n<pre><code>pexpect.expect('100%')\n</code></pre>\n\n<p>possibly with a timeout. sftp seems to have asynchronous command line interface so it returns right away to the prompt while the transfer continues. Timeout is more or less relevant here since the file is truncated because the script exits while downloads are still ongoing / pending.</p>\n"}], "owner": {"reputation": 91, "user_id": 5117019, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f0756d2b21ddcf49b8c798c446cc75a0?s=128&d=identicon&r=PG&f=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/5117019/joshua"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 700, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1519887737, "creation_date": 1441231635, "question_id": 32363948, "link": "https://stackoverflow.com/questions/32363948/sftp-not-completing-file-transfer-when-using-pexpect-python", "title": "SFTP not completing file transfer when using pexpect (python)", "body": "<p>I am currently trying to use pexpect to transfer files. It usually works fine, but recently it has been causing issues by not transferring entire files. It either truncates the file transfer or the script moves on before it is done. </p>\n\n<p>My code is as follows:</p>\n\n<pre><code>job_id = str(job_record['control']['id'])\nself.px_ssh.sendline('cd ' + self.remotePath + job_id)\nself.px_ssh.prompt()\nself.px_ssh.sendline('ls')\nself.px_ssh.prompt()\nremote_files = self.px_ssh.before.decode('utf-8')\nfor cop in outfiles:\n  if cop in remote_files:\n    print('Transferring file _from_ remote cluster:   ' + cop)\n    self.px_ftp.sendline('get ' + self.remotePath + job_id + '/' + cop + ' ' + os.getcwd())\n    self.px_ftp.expect('sftp&gt;', timeout=None)\n</code></pre>\n\n<p>And the logfile:</p>\n\n<pre><code>get path/QMCDB/Elemental/As/As_QMC_2x2x2/prop.in.o    path/Documents/Research/QMCDB/Runs/Elemental/As/As_QMC_2x2x2\nConnected to taub.campuscluster.illinois.edu.\nsftp&gt; get path/QMCDB/Elemental/As/As_QMC_2x2x2/prop.in.o path/Documents/Research/QMCDB/Runs/Elemental/As/As_QMC_2x2x2\nFetching path/QMCDB/Elemental/As/As_QMC_2x2x2/prop.in.o to path/Documents/Research/QMCDB/Runs/Elemental/As/As_QMC_2x2x2/prop.in.o\n\npath/QMCDB/Elemental/As/As_   0%    0     0.0KB/s   --:-- ETA\npath/QMCDB/Elemental/As/As_   0%   11MB  11.1MB/s   02:32 ETA\npath/QMCDB/Elemental/As/As_   1%   22MB  11.1MB/s   02:31 ETA\n</code></pre>\n\n<p>It can be seen that it just moves on after a short time. I am not sure why it does this. Do you have any idea how to ensure the whole file is transferred before the rest of my code progresses?</p>\n"}, {"tags": ["python", "python-3.x", "cx-freeze"], "comments": [{"owner": {"reputation": 3184, "user_id": 4731042, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/558e45917a7ce973da825c7dbcafd1f5?s=128&d=identicon&r=PG&f=1", "display_name": "Eric Levieil", "link": "https://stackoverflow.com/users/4731042/eric-levieil"}, "edited": false, "score": 0, "creation_date": 1441232758, "post_id": 32363919, "comment_id": 52600782, "body": "<a href=\"http://stackoverflow.com/questions/24716002/python3-pyqt4-cx-freeze-no-module-named-sip\" title=\"python3 pyqt4 cx freeze no module named sip\">stackoverflow.com/questions/24716002/&hellip;</a> ?"}, {"owner": {"reputation": 11, "user_id": 5294456, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f177dc41087b010c346b5ba651ecd4e?s=128&d=identicon&r=PG&f=1", "display_name": "Liz Rosa", "link": "https://stackoverflow.com/users/5294456/liz-rosa"}, "reply_to_user": {"reputation": 3184, "user_id": 4731042, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/558e45917a7ce973da825c7dbcafd1f5?s=128&d=identicon&r=PG&f=1", "display_name": "Eric Levieil", "link": "https://stackoverflow.com/users/4731042/eric-levieil"}, "edited": false, "score": 0, "creation_date": 1441236102, "post_id": 32363919, "comment_id": 52601776, "body": "Thanks for the suggestion, but it appears I&#39;m using a newer version of cx_Freeze because that fix has already been applied."}, {"owner": {"reputation": 35559, "user_id": 434217, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7f1ae3f14fd5b87c2c3f7b36014e185c?s=128&d=identicon&r=PG", "display_name": "Thomas K", "link": "https://stackoverflow.com/users/434217/thomas-k"}, "edited": false, "score": 0, "creation_date": 1441270957, "post_id": 32363919, "comment_id": 52614063, "body": "I think it&#39;s normal for paths from your computer to appear in the traceback - those paths are kind of baked in when you freeze it. No idea why it would fail to find zipfile, though."}, {"owner": {"reputation": 3184, "user_id": 4731042, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/558e45917a7ce973da825c7dbcafd1f5?s=128&d=identicon&r=PG&f=1", "display_name": "Eric Levieil", "link": "https://stackoverflow.com/users/4731042/eric-levieil"}, "edited": false, "score": 0, "creation_date": 1441285246, "post_id": 32363919, "comment_id": 52623484, "body": "What are line 5 of Z_Wizard.py and line 2 of outputgenerator.py? The stacktrace looks like an infinite loop. Maybe you can create an issue at: <a href=\"https://bitbucket.org/anthony_tuininga/cx_freeze/issues?status=new&amp;status=open\" rel=\"nofollow noreferrer\">bitbucket.org/anthony_tuininga/cx_freeze/&hellip;</a>"}, {"owner": {"reputation": 11, "user_id": 5294456, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f177dc41087b010c346b5ba651ecd4e?s=128&d=identicon&r=PG&f=1", "display_name": "Liz Rosa", "link": "https://stackoverflow.com/users/5294456/liz-rosa"}, "edited": false, "score": 0, "creation_date": 1441292836, "post_id": 32363919, "comment_id": 52629180, "body": "Those lines are <code>from outputgenerator import *</code> and <code>from xlsxwriter import *</code>, respectively. Xlsxwriter includes the line <code>from zipfile import ZipFile, ZIP_DEFLATED</code>, so that&#39;s where the zipfile module requirement originates. I expanded the .exe produced by py2exe and verified that zipfile.pyc is included inside. I can&#39;t figure out why bootstrap wouldn&#39;t be able to find it..."}], "owner": {"reputation": 11, "user_id": 5294456, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f177dc41087b010c346b5ba651ecd4e?s=128&d=identicon&r=PG&f=1", "display_name": "Liz Rosa", "link": "https://stackoverflow.com/users/5294456/liz-rosa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 781, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1441231519, "creation_date": 1441231519, "question_id": 32363919, "link": "https://stackoverflow.com/questions/32363919/cx-freeze-executable-importerror-no-module-named-zipfile", "title": "cx-Freeze executable ImportError: No module named &#39;zipfile&#39;", "body": "<p>I'm on Windows 7, as are all potential users of my program. I packaged a Python program I wrote into an executable file using cx_Freeze, with the following command: </p>\n\n<pre><code>python setup.py build\n</code></pre>\n\n<p>This generates a <strong>build</strong> directory that contains my_program.exe. The executable works flawlessly on my computer, but on a coworker's machine, it throws an exception: </p>\n\n<pre><code>ImportError: No module named 'zipfile'\n</code></pre>\n\n<p>Here's my setup.py, where zipfile is explicitly included (and it's definitely in library.zip):</p>\n\n<pre><code>import sys\nfrom cx_Freeze import setup, Executable\n\nbase = None\nif sys.platform == \"win32\":\n    base = \"Win32GUI\"\n\nsetup(\n   name='Z-Wizard',\n   version='0.1',\n   description='Z1/Z2 data extraction tool',\n   author='Liz Rosa',\n   author_email='me@url',\n   options = {\n      'build_exe': {\n         'packages': ['zipfile']\n      }\n   },\n   executables = [Executable('my_program.py', base=base)]\n)\n</code></pre>\n\n<p>The traceback is quite long; there's a screenshot at the URL below. It apparently involves a series of functions in _bootstrap.py. I'm not quite sure what's going on here. Also, \"C:\\Users\\lizr...\" is my home directory, not hers. Why does it appear in the traceback on her computer? In case it's not obvious, I don't know much about the freezing process.</p>\n\n<p><a href=\"http://i.imgur.com/cAQKWxq.png\" rel=\"nofollow\">http://i.imgur.com/cAQKWxq.png</a></p>\n"}, {"tags": ["python", "rest", "nginx", "postman", "http-status-code-400"], "answers": [{"tags": [], "owner": {"reputation": 5436, "user_id": 2744166, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b079827a014bd14f42b163afd4bb1e91?s=128&d=identicon&r=PG", "display_name": "Joe Young", "link": "https://stackoverflow.com/users/2744166/joe-young"}, "is_accepted": false, "score": 0, "last_activity_date": 1441232983, "creation_date": 1441232983, "answer_id": 32364188, "question_id": 32363860, "link": "https://stackoverflow.com/questions/32363860/how-to-intentionally-cause-a-400-bad-request-in-nginx/32364188#32364188", "title": "How to intentionally cause a 400 Bad Request in Nginx?", "body": "<p>Nginx will return status code 400 if it receives a header field larger than the configured <code>large_client_header_buffers</code></p>\n\n<blockquote>\n  <p>A request header field cannot exceed the size of one buffer as well,\n  or the 400 (Bad Request) error is returned to the client. Buffers are\n  allocated only on demand. By default, the buffer size is equal to 8K\n  bytes. If after the end of request processing a connection is\n  transitioned into the keep-alive state, these buffers are released.</p>\n</blockquote>\n\n<p>Source:  <a href=\"http://nginx.org/en/docs/http/ngx_http_core_module.html#large_client_header_buffers\" rel=\"nofollow\">http://nginx.org/en/docs/http/ngx_http_core_module.html#large_client_header_buffers</a></p>\n\n<p>So you just need to create a curl request with a header larger than 8k.  Here's an example using a bit of python to generate the header variable to pass into curl:</p>\n\n<pre><code>(nginx)macbook:nginx joeyoung$ myheader=$(python -c \"print 'A'*9000\")\n(nginx)macbook:nginx joeyoung$ curl -vvv --header \"X-MyHeader: $myheader\" http://my.example.website.com\n</code></pre>\n\n<p>Results:</p>\n\n<pre><code>...\n&gt; \n&lt; HTTP/1.1 400 Bad Request\n&lt; Server: nginx/1.4.7\n&lt; Date: Wed, 02 Sep 2015 22:37:29 GMT\n&lt; Content-Type: text/html\n&lt; Content-Length: 248\n&lt; Connection: close\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 74982, "user_id": 128967, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/e6ce48656d5e39227a10b37a51754134?s=128&d=identicon&r=PG", "display_name": "Naftuli Kay", "link": "https://stackoverflow.com/users/128967/naftuli-kay"}, "is_accepted": true, "score": 1, "last_activity_date": 1441233112, "creation_date": 1441233112, "answer_id": 32364210, "question_id": 32363860, "link": "https://stackoverflow.com/questions/32363860/how-to-intentionally-cause-a-400-bad-request-in-nginx/32364210#32364210", "title": "How to intentionally cause a 400 Bad Request in Nginx?", "body": "<p>Create a location in NGINX's config to return 400 errors:</p>\n\n<pre><code>location /error { \n    return 400;\n}\n</code></pre>\n\n<p>Presto.</p>\n"}], "owner": {"reputation": 12091, "user_id": 1391717, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/oSSdx.jpg?s=128&g=1", "display_name": "Matthew Moisen", "link": "https://stackoverflow.com/users/1391717/matthew-moisen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2754, "favorite_count": 0, "accepted_answer_id": 32364210, "answer_count": 2, "score": 1, "last_activity_date": 1441233112, "creation_date": 1441231213, "last_edit_date": 1495541267, "question_id": 32363860, "link": "https://stackoverflow.com/questions/32363860/how-to-intentionally-cause-a-400-bad-request-in-nginx", "title": "How to intentionally cause a 400 Bad Request in Nginx?", "body": "<p>I've split my <a href=\"https://stackoverflow.com/questions/32342528/how-to-intentionally-cause-a-400-bad-request-in-python-flask\">previous question</a> into two.</p>\n\n<p>A consumer of my REST API says that on occasion I am returning a 400 Bad Request - The request sent by the client was syntactically incorrect. error.</p>\n\n<p>My application (Python/Flask) logs don't seem to be capturing this, and neither do my webserver/Nginx logs.</p>\n\n<p>I've changed the default 400 and 404 error message HTML's by adding the following line to the config (and adding the corresponding HTML pages in the proper directory):</p>\n\n<pre><code>    error_page  404              /404.html;\n    location = /404.html {\n        root   html;\n    }\n    error_page  400              /400.html;\n    location = /400.html {\n        root   html;\n    }\n</code></pre>\n\n<p>This error message plainly states \"Nginx\" so that I know Nginx is giving the 400 and not my python/flask application (whose 400 has been changed to plainly state \"Flask\").</p>\n\n<p>Is there a way that I can intentionally cause Nginx to return a 400 error, perhaps through python, CURL, or Postman? For example, I've also changed the 404 error page, and can intentionally get Nginx to return the corresponding error HTML by calling an invalid URL.</p>\n"}, {"tags": ["python"], "answers": [{"tags": [], "owner": {"reputation": 21991, "user_id": 75103, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/7dfc20ceb7d6e1686d9be8f68469afa7?s=128&d=identicon&r=PG", "display_name": "thebjorn", "link": "https://stackoverflow.com/users/75103/thebjorn"}, "is_accepted": true, "score": 3, "last_activity_date": 1441231959, "creation_date": 1441231959, "answer_id": 32364007, "question_id": 32363824, "link": "https://stackoverflow.com/questions/32363824/whats-best-way-to-roundtrip-an-epoch-timestamp/32364007#32364007", "title": "What&#39;s best way to roundtrip an epoch timestamp?", "body": "<p>This will get you a round trip</p>\n\n<pre><code>&gt;&gt;&gt; (datetime.datetime.fromtimestamp(1441151100, tz=pytz.utc) - datetime.datetime(1970, 1, 1, tzinfo=pytz.utc)).total_seconds()\n1441151100.0\n</code></pre>\n\n<p>if you're using Python 3.3+ you can simplify that to:</p>\n\n<pre><code>datetime.datetime.fromtimestamp(1441151100, tz=pytz.utc).timestamp()\n</code></pre>\n"}], "owner": {"reputation": 9665, "user_id": 1672536, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4FpfW.jpg?s=128&g=1", "display_name": "Maggie Ying", "link": "https://stackoverflow.com/users/1672536/maggie-ying"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 78, "favorite_count": 0, "accepted_answer_id": 32364007, "answer_count": 1, "score": 2, "last_activity_date": 1441231959, "creation_date": 1441231105, "question_id": 32363824, "link": "https://stackoverflow.com/questions/32363824/whats-best-way-to-roundtrip-an-epoch-timestamp", "title": "What&#39;s best way to roundtrip an epoch timestamp?", "body": "<p>I am trying to get the epoch timestamp to roundtrip properly.  I don't understand why I don't get the same epoch ts when I do this:</p>\n\n<pre><code>In [1]: import datetime, pytz\n\nIn [2]: datetime.datetime.fromtimestamp(1441151100, tz=pytz.utc).strftime(\"%s\")\nOut[2]: '1441179900'\n</code></pre>\n\n<p>I thought I am dealing with all UTC here, but for some reason <code>strftime</code> above returns a different epoch timestamp.  Why?</p>\n"}, {"tags": ["python", "qt", "pyqt", "pyside"], "comments": [{"owner": {"reputation": 9283, "user_id": 1327005, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/b5b520280b7f71b4152579670ec5cb38?s=128&d=identicon&r=PG", "display_name": "bigOther", "link": "https://stackoverflow.com/users/1327005/bigother"}, "edited": false, "score": 0, "creation_date": 1441231636, "post_id": 32363687, "comment_id": 52600406, "body": "can you show us the url you are trying"}, {"owner": {"reputation": 5197, "user_id": 503888, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/f998ce921f025f19bfea5d86032e9f94?s=128&d=identicon&r=PG", "display_name": "Achayan", "link": "https://stackoverflow.com/users/503888/achayan"}, "edited": false, "score": 0, "creation_date": 1441232520, "post_id": 32363687, "comment_id": 52600693, "body": "<a href=\"http://stackoverflow.com/questions/5916270/pythons-webbrowser-launches-ie-instead-of-default-on-windows-7\" title=\"pythons webbrowser launches ie instead of default on windows 7\">stackoverflow.com/questions/5916270/&hellip;</a>"}, {"owner": {"reputation": 1797, "user_id": 4437954, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/92f81b1c953d4f61ebd68f2db5506f79?s=128&d=identicon&r=PG&f=1", "display_name": "SpanishBoy", "link": "https://stackoverflow.com/users/4437954/spanishboy"}, "edited": false, "score": 0, "creation_date": 1441233975, "post_id": 32363687, "comment_id": 52601146, "body": "Already tried every method from the link above... without success"}], "answers": [{"tags": [], "owner": {"reputation": 1797, "user_id": 4437954, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/92f81b1c953d4f61ebd68f2db5506f79?s=128&d=identicon&r=PG&f=1", "display_name": "SpanishBoy", "link": "https://stackoverflow.com/users/4437954/spanishboy"}, "is_accepted": true, "score": 0, "last_activity_date": 1441234161, "creation_date": 1441234161, "answer_id": 32364398, "question_id": 32363687, "link": "https://stackoverflow.com/questions/32363687/python-webbrowser-open-does-not-open-page-in-default-browser/32364398#32364398", "title": "Python webbrowser.open() does not open page in default browser", "body": "<p>Very simple solution...</p>\n\n<pre><code>webbrowser.open('http://' + url_link)\n</code></pre>\n"}], "owner": {"reputation": 1797, "user_id": 4437954, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/92f81b1c953d4f61ebd68f2db5506f79?s=128&d=identicon&r=PG&f=1", "display_name": "SpanishBoy", "link": "https://stackoverflow.com/users/4437954/spanishboy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 372, "favorite_count": 0, "accepted_answer_id": 32364398, "answer_count": 1, "score": 0, "last_activity_date": 1441234161, "creation_date": 1441230480, "question_id": 32363687, "link": "https://stackoverflow.com/questions/32363687/python-webbrowser-open-does-not-open-page-in-default-browser", "title": "Python webbrowser.open() does not open page in default browser", "body": "<p>I am using PySide and need to open web-page in default system browser. Example of code below, however it run always IE browser:</p>\n\n<pre><code>import webbrowser\n\nwebbrowser.open(url_link)\n</code></pre>\n\n<p>What can it be an issue?</p>\n"}, {"tags": ["python", "opencv", "raspberry-pi"], "answers": [{"tags": [], "owner": {"reputation": 3907, "user_id": 3791372, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/xEZFO.jpg?s=128&g=1", "display_name": "user3791372", "link": "https://stackoverflow.com/users/3791372/user3791372"}, "is_accepted": false, "score": 0, "last_activity_date": 1441230789, "creation_date": 1441230789, "answer_id": 32363759, "question_id": 32363678, "link": "https://stackoverflow.com/questions/32363678/opencv-track-object-in-video-and-obtain-a-better-image-from-multiple-frames/32363759#32363759", "title": "openCV track object in video and obtain a better image from multiple frames", "body": "<p>You need to ensure that your frame rate is fast enough to get a decent still of the moving car. When filming, each frame will most likely be blurry, and our brain pieces together the number plate on playback. Of course a blurry frame is no good for letter recognition, so is something you'll need to deal with on the hardware side, rather than software side.</p>\n\n<p>Remember the old saying: Garbage in; Garbage out.</p>\n"}], "owner": {"reputation": 13, "user_id": 5290168, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-2FP_eZm_8kM/AAAAAAAAAAI/AAAAAAAACAw/VrKN5KYzqE0/photo.jpg?sz=128", "display_name": "Nicolas Barberis", "link": "https://stackoverflow.com/users/5290168/nicolas-barberis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 318, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1441230789, "creation_date": 1441230428, "question_id": 32363678, "link": "https://stackoverflow.com/questions/32363678/opencv-track-object-in-video-and-obtain-a-better-image-from-multiple-frames", "title": "openCV track object in video and obtain a better image from multiple frames", "body": "<p>I'm working on detecting license plates with openCV, python and a raspberry pi. Most of it is already covered. What I want is to detect the ROI (Region of interest) of the plate, track it on a few frames and add those together to get a more clear and crisp image of the plate.\nI want to get a better image of the plate by taking the information from several frames. I detect the plate, and have a collection of plates from several frames, as many as I wish and as many as the car is moving by the camera. How can I take all those and get a better version?</p>\n"}, {"tags": ["python", "ghost.py"], "comments": [{"owner": {"reputation": 239, "user_id": 4763810, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/407869a65eae600cc18e45ae8179cb5e?s=128&d=identicon&r=PG&f=1", "display_name": "baltazer", "link": "https://stackoverflow.com/users/4763810/baltazer"}, "edited": false, "score": 0, "creation_date": 1441325598, "post_id": 32363549, "comment_id": 52644935, "body": "Nobody? Is it possible? I don&#39;t find any download method in the module."}], "answers": [{"tags": [], "owner": {"reputation": 339, "user_id": 5216610, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/0b1c8760a411f8232413032b02bb5c0f?s=128&d=identicon&r=PG&f=1", "display_name": "stdex", "link": "https://stackoverflow.com/users/5216610/stdex"}, "is_accepted": false, "score": 0, "last_activity_date": 1444984192, "creation_date": 1444984192, "answer_id": 33165822, "question_id": 32363549, "link": "https://stackoverflow.com/questions/32363549/how-to-download-a-file-with-the-ghost-py-module/33165822#33165822", "title": "How to download a file with the ghost.py module?", "body": "<p>I create some snippet here:\n<a href=\"https://github.com/jeanphix/Ghost.py/issues/273\" rel=\"nofollow\">https://github.com/jeanphix/Ghost.py/issues/273</a></p>\n\n<p>But it's not final solution.</p>\n"}, {"tags": [], "owner": {"reputation": 31, "user_id": 1812595, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b64347e038e415f1c312fda56303de71?s=128&d=identicon&r=PG", "display_name": "ruzzz", "link": "https://stackoverflow.com/users/1812595/ruzzz"}, "is_accepted": false, "score": 0, "last_activity_date": 1487431085, "creation_date": 1487431085, "answer_id": 42316953, "question_id": 32363549, "link": "https://stackoverflow.com/questions/32363549/how-to-download-a-file-with-the-ghost-py-module/42316953#42316953", "title": "How to download a file with the ghost.py module?", "body": "<p>For Ghost.py (0.2.3)</p>\n\n<pre><code>    ...\n    with open('7z1506-x64.exe', 'wb') as file:\n        file.write(eval(extra_resources[0].content))\n</code></pre>\n"}], "owner": {"reputation": 239, "user_id": 4763810, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/407869a65eae600cc18e45ae8179cb5e?s=128&d=identicon&r=PG&f=1", "display_name": "baltazer", "link": "https://stackoverflow.com/users/4763810/baltazer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 717, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1487431085, "creation_date": 1441229861, "last_edit_date": 1441325503, "question_id": 32363549, "link": "https://stackoverflow.com/questions/32363549/how-to-download-a-file-with-the-ghost-py-module", "title": "How to download a file with the ghost.py module?", "body": "<p>For this example, I know it is easier to use requests or similar python module.<br>\nBut I need to do it with the ghost.py module</p>\n\n<p>This code sample doesn't work:</p>\n\n<pre><code>from ghost import Ghost\n\nghost = Ghost()\n\nwith ghost.start() as session:\n    page, extra_resources = session.open('http://www.7-zip.org/a/7z1506-x64.exe')\n\n    with open('7z1506-x64.exe', 'wb') as file:\n        file.write(session.http_resources)\n</code></pre>\n"}, {"tags": ["python", "pandas"], "answers": [{"tags": [], "owner": {"reputation": 209114, "user_id": 1427416, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/QWHKg.png?s=128&g=1", "display_name": "BrenBarn", "link": "https://stackoverflow.com/users/1427416/brenbarn"}, "is_accepted": true, "score": 6, "last_activity_date": 1441229831, "creation_date": 1441229831, "answer_id": 32363539, "question_id": 32363500, "link": "https://stackoverflow.com/questions/32363500/apply-string-format-to-row-in-pandas-dataframe/32363539#32363539", "title": "Apply string.format() to row in Pandas DataFrame", "body": "<p>You can just use the row itself.  It is a <code>Series</code> which supports dict-like access to the items:</p>\n\n<pre><code>&gt;&gt;&gt; d\n   A     B      C\n0  1  This    One\n1  2    is    Two\n2  3  crud  Three\n&gt;&gt;&gt; \"{A} then {B} and also {C}\".format(**d.iloc[0])\n'1 then This and also One'\n</code></pre>\n"}], "owner": {"reputation": 2347, "user_id": 548039, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/516ee3f5710bff5c3c28b68cf94de330?s=128&d=identicon&r=PG", "display_name": "Mike", "link": "https://stackoverflow.com/users/548039/mike"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5987, "favorite_count": 0, "accepted_answer_id": 32363539, "answer_count": 1, "score": 5, "last_activity_date": 1441242676, "creation_date": 1441229639, "last_edit_date": 1441242676, "question_id": 32363500, "link": "https://stackoverflow.com/questions/32363500/apply-string-format-to-row-in-pandas-dataframe", "title": "Apply string.format() to row in Pandas DataFrame", "body": "<p>I would like to represent a row in a pandas DataFrame with a formatted string referencing the columns.  The best method I have found is to cast the row to a dict and then string.format()</p>\n\n<p>Assuming a <code>pd.DataFrame</code> <code>df</code> with the columns 'specimen' and 'date':</p>\n\n<pre><code>r = df.loc[0]\nprint(\"{specimen}_{date}\".format(**r.to_dict()))\n</code></pre>\n\n<p>can be used to apply the format string using the column data.</p>\n\n<p>This does not seem very efficient.  Is there must be a better way to do this in pandas directly without converting to a dict while maintaining the flexibility of explicitly naming columns in the format string?</p>\n\n<p>Update:</p>\n\n<p>The ultimate purpose is to generate tick labels for a matplotlib plot.  Using the answer below:</p>\n\n<pre><code>plot.set_yticklabels([\"{specimen}_{date}\".format(**r) for i,r in df.iterrows()])\n</code></pre>\n"}, {"tags": ["python", "list", "python-2.7", "iterator"], "comments": [{"owner": {"reputation": 824, "user_id": 4545530, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b31967fe4702f501fc7ef3df61d408e?s=128&d=identicon&r=PG&f=1", "display_name": "mkiever", "link": "https://stackoverflow.com/users/4545530/mkiever"}, "edited": false, "score": 0, "creation_date": 1441229474, "post_id": 32363419, "comment_id": 52599533, "body": "Look at the &quot;Related&quot; list. You will find several duplicates with answers."}, {"owner": {"reputation": 15387, "user_id": 2588818, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/0PpNx.jpg?s=128&g=1", "display_name": "Two-Bit Alchemist", "link": "https://stackoverflow.com/users/2588818/two-bit-alchemist"}, "edited": false, "score": 1, "creation_date": 1441229573, "post_id": 32363419, "comment_id": 52599585, "body": "Repeat after me: Don&#39;t modify things while you&#39;re iterating over them."}], "answers": [{"tags": [], "owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "is_accepted": false, "score": 1, "last_activity_date": 1441229494, "creation_date": 1441229494, "answer_id": 32363468, "question_id": 32363419, "link": "https://stackoverflow.com/questions/32363419/delete-list-elements-after-using-them/32363468#32363468", "title": "Delete list elements after using them", "body": "<p>in python this concept is called an iterator </p>\n\n<pre><code>my_iter = iter(my_list)\n</code></pre>\n\n<p>each time you consume or look at an element it becomes gone ...</p>\n"}, {"comments": [{"owner": {"reputation": 4807, "user_id": 4661269, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yroRp.jpg?s=128&g=1", "display_name": "Josie Thompson", "link": "https://stackoverflow.com/users/4661269/josie-thompson"}, "edited": false, "score": 0, "creation_date": 1441237862, "post_id": 32363473, "comment_id": 52602214, "body": "a way to iterate in the initial order would just be calling test_list.reverse() before running the loop"}], "tags": [], "owner": {"reputation": 39811, "user_id": 1322401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/JlaPg.jpg?s=128&g=1", "display_name": "Steven Rumbalski", "link": "https://stackoverflow.com/users/1322401/steven-rumbalski"}, "is_accepted": true, "score": 2, "last_activity_date": 1441229517, "last_edit_date": 1495541276, "creation_date": 1441229517, "answer_id": 32363473, "question_id": 32363419, "link": "https://stackoverflow.com/questions/32363419/delete-list-elements-after-using-them/32363473#32363473", "title": "Delete list elements after using them", "body": "<p>Read the answers to <em><a href=\"https://stackoverflow.com/questions/6260089/strange-result-when-removing-item-from-a-list\">strange result when removing item from a list</a></em> to understand why this is happening.</p>\n\n<p>If you really need to modify your list while iterating do this:</p>\n\n<pre><code>&gt;&gt;&gt; items = ['x', 'y', 'z']\n&gt;&gt;&gt; while items:\n...     item = items.pop()\n...     print item\n...\nz\ny\nx\n&gt;&gt;&gt; items\n[]\n</code></pre>\n\n<p>Note that this will iterate in reverse order.</p>\n"}], "owner": {"reputation": 1256, "user_id": 1474922, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/apOfG.png?s=128&g=1", "display_name": "nimeshkiranverma", "link": "https://stackoverflow.com/users/1474922/nimeshkiranverma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "closed_date": 1441229807, "accepted_answer_id": 32363473, "answer_count": 2, "score": 0, "last_activity_date": 1441229517, "creation_date": 1441229305, "question_id": 32363419, "link": "https://stackoverflow.com/questions/32363419/delete-list-elements-after-using-them", "closed_reason": "Duplicate", "title": "Delete list elements after using them", "body": "<p>I have a list </p>\n\n<pre><code>test_list = [1,2,3,4,5]\n</code></pre>\n\n<p>I want to iterate over the elements of this list and delete them after using. But when I try to do this</p>\n\n<pre><code>for element in test_list:\n    print element\n    test_list.remove(element)\n</code></pre>\n\n<p>Alternate elements  are printed and removed from <code>test_list</code></p>\n\n<pre><code>1\n3\n5\nprint test_list\n[2, 4]\n</code></pre>\n\n<p>Please explain why this happens!</p>\n"}, {"tags": ["python", "amazon-ec2", "boto"], "answers": [{"tags": [], "owner": {"reputation": 37599, "user_id": 653643, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c68c82ba38c3f2cb3927e92f98f29ef?s=128&d=identicon&r=PG", "display_name": "garnaat", "link": "https://stackoverflow.com/users/653643/garnaat"}, "is_accepted": false, "score": 1, "last_activity_date": 1441233772, "creation_date": 1441233772, "answer_id": 32364332, "question_id": 32363413, "link": "https://stackoverflow.com/questions/32363413/boto-detach-volume-and-unmounting-volumes/32364332#32364332", "title": "boto detach_volume and unmounting volumes", "body": "<p>Boto is simply calling the EC2 API and that does not handle the mounting of your device since that is very OS-dependent.  So, you will need to handle that part separately.</p>\n"}, {"comments": [{"owner": {"reputation": 2311, "user_id": 2773607, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/35dcf11a1e76a9435aa880b1f07c581f?s=128&d=identicon&r=PG&f=1", "display_name": "mprat", "link": "https://stackoverflow.com/users/2773607/mprat"}, "edited": false, "score": 0, "creation_date": 1441294936, "post_id": 32364349, "comment_id": 52630586, "body": "So I assume that applies for unmounting as well?"}, {"owner": {"reputation": 33893, "user_id": 498256, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Pn7lt.jpg?s=128&g=1", "display_name": "BMW", "link": "https://stackoverflow.com/users/498256/bmw"}, "reply_to_user": {"reputation": 2311, "user_id": 2773607, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/35dcf11a1e76a9435aa880b1f07c581f?s=128&d=identicon&r=PG&f=1", "display_name": "mprat", "link": "https://stackoverflow.com/users/2773607/mprat"}, "edited": false, "score": 0, "creation_date": 1441343854, "post_id": 32364349, "comment_id": 52649952, "body": "yes, you still need umount in Linux system, and detach in aws."}], "tags": [], "owner": {"reputation": 33893, "user_id": 498256, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Pn7lt.jpg?s=128&g=1", "display_name": "BMW", "link": "https://stackoverflow.com/users/498256/bmw"}, "is_accepted": true, "score": 1, "last_activity_date": 1441233845, "creation_date": 1441233845, "answer_id": 32364349, "question_id": 32363413, "link": "https://stackoverflow.com/questions/32363413/boto-detach-volume-and-unmounting-volumes/32364349#32364349", "title": "boto detach_volume and unmounting volumes", "body": "<p>You can use boto to attach or detach a volume to an ec2 instance, but that's not same as Linux's mount command. It only let the instance know a disk space can be used. </p>\n\n<p>So you need specify a directory name to mount the device in operate system, with mount command, or if you need set lvm partition, depend on your own requirement. </p>\n"}], "owner": {"reputation": 2311, "user_id": 2773607, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/35dcf11a1e76a9435aa880b1f07c581f?s=128&d=identicon&r=PG&f=1", "display_name": "mprat", "link": "https://stackoverflow.com/users/2773607/mprat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 812, "favorite_count": 0, "accepted_answer_id": 32364349, "answer_count": 2, "score": 1, "last_activity_date": 1441233845, "creation_date": 1441229289, "question_id": 32363413, "link": "https://stackoverflow.com/questions/32363413/boto-detach-volume-and-unmounting-volumes", "title": "boto detach_volume and unmounting volumes", "body": "<p>I am using <a href=\"http://boto.readthedocs.org\" rel=\"nofollow\">boto</a> (in Python) to make a small wrapper library for some EC2 / S3 configurations, and wanted to automate the mounting / unmounting process for EC2 volumes. Normally, the procedure is to: </p>\n\n<ul>\n<li>Attach a volume</li>\n<li>Make a directory on the instance</li>\n<li>Mount the volume to the new directory</li>\n</ul>\n\n<p>Detaching is the same: </p>\n\n<ul>\n<li>Unmount the volume</li>\n<li>Detach the volume</li>\n</ul>\n\n<p>Boto provides two methods: <code>attach_volume</code> and <code>detach_volume</code>. I am assuming that <code>attach_volume</code> does not automatically mount my filesystem to a directory of my choice, just based on the fact that I can't specify a directory name to mount the device to. But for the <a href=\"http://boto.readthedocs.org/en/latest/ref/ec2.html#boto.ec2.connection.EC2Connection.detach_volume\" rel=\"nofollow\"><code>detach_volume</code></a>, the documentation is ambiguous - if I specify the device through which the volume is exposed, does boto take care of the unmounting for me, therefore safety detaching the device?</p>\n"}, {"tags": ["python", "django"], "comments": [{"owner": {"reputation": 9227, "user_id": 1830895, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/I8Hvh.jpg?s=128&g=1", "display_name": "Pynchia", "link": "https://stackoverflow.com/users/1830895/pynchia"}, "edited": false, "score": 0, "creation_date": 1441229310, "post_id": 32363356, "comment_id": 52599461, "body": "have you followed the suggestion described in the error msg? See the docs for the <a href=\"https://docs.djangoproject.com/en/1.8/topics/i18n/translation/#lazy-translation\" rel=\"nofollow noreferrer\">lazy versions</a>"}, {"owner": {"reputation": 735, "user_id": 1993878, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/7a4e15ed77d253e21e1436f881ae4993?s=128&d=identicon&r=PG", "display_name": "mgoffin", "link": "https://stackoverflow.com/users/1993878/mgoffin"}, "reply_to_user": {"reputation": 9227, "user_id": 1830895, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/I8Hvh.jpg?s=128&g=1", "display_name": "Pynchia", "link": "https://stackoverflow.com/users/1830895/pynchia"}, "edited": false, "score": 0, "creation_date": 1441229489, "post_id": 32363356, "comment_id": 52599538, "body": "Yes I&#39;ve looked at the fixes for that traceback and we already had that code in place. If I remove any reference to dynamically loading content the error goes away but obviously not what we want for a situation."}], "owner": {"reputation": 735, "user_id": 1993878, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/7a4e15ed77d253e21e1436f881ae4993?s=128&d=identicon&r=PG", "display_name": "mgoffin", "link": "https://stackoverflow.com/users/1993878/mgoffin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 46, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1441229039, "creation_date": 1441229039, "question_id": 32363356, "link": "https://stackoverflow.com/questions/32363356/dynamically-adding-new-files-to-existing-python-process", "title": "Dynamically adding new files to existing python process", "body": "<p>We use Django for a project. Prior to 1.7+, we were able to dynamically pull in files to our python environment when setup.py was being executed. For example, we have this directory structure:</p>\n\n<pre><code>/foo/bar\n/foo/bar/__init__.py\n/foo/bar/my_functions.py\n</code></pre>\n\n<p>Our Django project doesn't know anything about those files to start off. When the web server starts and setup.py is read, we look at a configuration which tells us where to find files to add to our environment. Again, let's assume <code>/foo/bar</code> is in our configuration to be dynamically loaded. We would then use <code>import_module()</code> to import it so that anything under <code>/foo/bar</code> essentially becomes part of the project and can be used. It's basically a \"plugins\" feature.</p>\n\n<p>After Django >=1.7, this causes huge problems, mainly:</p>\n\n<pre><code>django.core.exceptions.AppRegistryNotReady: The translation infrastructure\ncannot be initialized before the apps registry is ready. Check that you\ndon't make non-lazy gettext calls at import time.\n</code></pre>\n\n<p>It also limits our ability to add new files dynamically as you always have to put them in place and restart your web server. You couldn't have an \"Upload Plugin\" page to add new files to the server, for example.</p>\n\n<p>Is there a way to add files like this both during the web server startup as well as after the startup without restarting it?</p>\n"}, {"tags": ["python", "pandas", "graph", "timestamp", "bokeh"], "comments": [{"owner": {"reputation": 9227, "user_id": 1830895, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/I8Hvh.jpg?s=128&g=1", "display_name": "Pynchia", "link": "https://stackoverflow.com/users/1830895/pynchia"}, "edited": false, "score": 0, "creation_date": 1441229530, "post_id": 32363341, "comment_id": 52599564, "body": "please show what <code>date_list</code> is. You are showing <code>formatted.index.tolist()</code>. Where is <code>Timestamp</code> defined?"}, {"owner": {"reputation": 1695, "user_id": 4945793, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/b2850e14438ec7cc64635c0c017d8e1d?s=128&d=identicon&r=PG&f=1", "display_name": "jenryb", "link": "https://stackoverflow.com/users/4945793/jenryb"}, "reply_to_user": {"reputation": 9227, "user_id": 1830895, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/I8Hvh.jpg?s=128&g=1", "display_name": "Pynchia", "link": "https://stackoverflow.com/users/1830895/pynchia"}, "edited": false, "score": 0, "creation_date": 1441229761, "post_id": 32363341, "comment_id": 52599695, "body": "@Pynchia whoops I had a typo. formatted.index.tolist() = date_list. The output shown is date_list."}, {"owner": {"reputation": 9227, "user_id": 1830895, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/I8Hvh.jpg?s=128&g=1", "display_name": "Pynchia", "link": "https://stackoverflow.com/users/1830895/pynchia"}, "edited": false, "score": 1, "creation_date": 1441229876, "post_id": 32363341, "comment_id": 52599742, "body": "ok, thank you. Still your answer to my question is partial. What is <code>Timestamp</code>?"}, {"owner": {"reputation": 1695, "user_id": 4945793, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/b2850e14438ec7cc64635c0c017d8e1d?s=128&d=identicon&r=PG&f=1", "display_name": "jenryb", "link": "https://stackoverflow.com/users/4945793/jenryb"}, "reply_to_user": {"reputation": 9227, "user_id": 1830895, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/I8Hvh.jpg?s=128&g=1", "display_name": "Pynchia", "link": "https://stackoverflow.com/users/1830895/pynchia"}, "edited": false, "score": 0, "creation_date": 1441230150, "post_id": 32363341, "comment_id": 52599857, "body": "@Pynchia I am not quite sure how to answer that question. I put in more information of the code to see if that would help."}], "answers": [{"comments": [{"owner": {"reputation": 1695, "user_id": 4945793, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/b2850e14438ec7cc64635c0c017d8e1d?s=128&d=identicon&r=PG&f=1", "display_name": "jenryb", "link": "https://stackoverflow.com/users/4945793/jenryb"}, "edited": false, "score": 0, "creation_date": 1441230088, "post_id": 32363584, "comment_id": 52599832, "body": "Yes! Perfect, Thank you very much."}, {"owner": {"reputation": 9227, "user_id": 1830895, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/I8Hvh.jpg?s=128&g=1", "display_name": "Pynchia", "link": "https://stackoverflow.com/users/1830895/pynchia"}, "edited": false, "score": 0, "creation_date": 1441231084, "post_id": 32363584, "comment_id": 52600211, "body": "so it is simply a date uh? Pardon my ignorance, but where is the <code>Timestamp</code> class printout coming from? If I use <code>datetime.date.fromtimestamp(time.time())</code> I get <code>datetime.date(2015, 9, 2)</code>. Please help me understand how that date was created."}, {"owner": {"reputation": 6847, "user_id": 1081569, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8682dc66d5900d9645a8dff1316495e1?s=128&d=identicon&r=PG", "display_name": "Paulo Almeida", "link": "https://stackoverflow.com/users/1081569/paulo-almeida"}, "reply_to_user": {"reputation": 9227, "user_id": 1830895, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/I8Hvh.jpg?s=128&g=1", "display_name": "Pynchia", "link": "https://stackoverflow.com/users/1830895/pynchia"}, "edited": false, "score": 0, "creation_date": 1441231292, "post_id": 32363584, "comment_id": 52600292, "body": "@Pynchia It&#39;s a pandas Timestamp object (I guessed it, you&#39;re right that it&#39;s not obvious)."}, {"owner": {"reputation": 9227, "user_id": 1830895, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/I8Hvh.jpg?s=128&g=1", "display_name": "Pynchia", "link": "https://stackoverflow.com/users/1830895/pynchia"}, "edited": false, "score": 0, "creation_date": 1441231376, "post_id": 32363584, "comment_id": 52600329, "body": "Alright, thank you. I&#39;ve never seen a panda, yet. Maybe a <code>pandas</code> tag would have helped a lot."}, {"owner": {"reputation": 343905, "user_id": 4279, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d92ce60d3a4cbe03598e27c2e8dee69d?s=128&d=identicon&r=PG", "display_name": "jfs", "link": "https://stackoverflow.com/users/4279/jfs"}, "reply_to_user": {"reputation": 9227, "user_id": 1830895, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/I8Hvh.jpg?s=128&g=1", "display_name": "Pynchia", "link": "https://stackoverflow.com/users/1830895/pynchia"}, "edited": false, "score": 0, "creation_date": 1441369547, "post_id": 32363584, "comment_id": 52664098, "body": "@Pynchia: <code>isinstance(Timestamp, datetime) == True</code> i.e., you can use any datetime method with a <code>Timestamp</code> object."}], "tags": [], "owner": {"reputation": 6847, "user_id": 1081569, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8682dc66d5900d9645a8dff1316495e1?s=128&d=identicon&r=PG", "display_name": "Paulo Almeida", "link": "https://stackoverflow.com/users/1081569/paulo-almeida"}, "is_accepted": true, "score": 6, "last_activity_date": 1441229998, "creation_date": 1441229998, "answer_id": 32363584, "question_id": 32363341, "link": "https://stackoverflow.com/questions/32363341/timestamp-to-list-of-month-and-year-using-python/32363584#32363584", "title": "Timestamp to list of month and year using Python", "body": "<p>You can use the timestamp's own <code>strftime</code> to format:</p>\n\n<pre><code>[date.strftime(\"%b %Y\") for date in date_list]\n</code></pre>\n"}], "owner": {"reputation": 1695, "user_id": 4945793, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/b2850e14438ec7cc64635c0c017d8e1d?s=128&d=identicon&r=PG&f=1", "display_name": "jenryb", "link": "https://stackoverflow.com/users/4945793/jenryb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1337, "favorite_count": 1, "accepted_answer_id": 32363584, "answer_count": 1, "score": 1, "last_activity_date": 1441231448, "creation_date": 1441228990, "last_edit_date": 1441231448, "question_id": 32363341, "link": "https://stackoverflow.com/questions/32363341/timestamp-to-list-of-month-and-year-using-python", "title": "Timestamp to list of month and year using Python", "body": "<p>I want to get from a list of Timestamps to a list of the month and year.</p>\n\n<p>the output for date_list is</p>\n\n<pre><code>Out[16]: \n[Timestamp('2014-09-30 00:00:00'),\n Timestamp('2014-10-31 00:00:00'),\n Timestamp('2014-11-30 00:00:00'),\n Timestamp('2014-12-31 00:00:00'),\n Timestamp('2015-01-31 00:00:00'),\n Timestamp('2015-02-28 00:00:00'),\n Timestamp('2015-03-31 00:00:00'),\n Timestamp('2015-04-30 00:00:00'),\n Timestamp('2015-05-31 00:00:00'),\n Timestamp('2015-06-30 00:00:00'),\n Timestamp('2015-07-31 00:00:00'),\n Timestamp('2015-08-31 00:00:00'),\n Timestamp('2015-09-30 00:00:00')]\n</code></pre>\n\n<p>I want it to be [Sep 2014, Oct 2014,...Sep 2015]</p>\n\n<p>If I try to graph it as is, I get <code>TypeError: unsupported operand type(s) for +: 'Timestamp' and 'str'</code> which makes sense. I don't know how to get from Timestamp to the value that the plot will accept. I tried using datetime.datetime(date_list) and got <code>TypeError: an integer is required</code></p>\n\n<p>I also tried <code>pd.to_datetime(formatted.index, format='%b %Y').tolist()</code> but this gives the same timestamp output.</p>\n\n<p>EDIT: More information on the code. </p>\n\n<p>My original dataframe looks like this:</p>\n\n<pre><code>groupname                             A                B     Total\nrecvd_dttm                                                      \n2014-09-30                            21               55     76\n2014-10-31                            20               66     86\n2014-11-30                            18               45     63\n2014-12-31                            11               46     57\n2015-01-31                            25                2     27\n2015-02-28                             8                1      9\n2015-03-31                            29                1     30\n2015-04-30                             8               66     74\n2015-05-31                            10               78     88\n2015-06-30                            21               59     80\n2015-07-31                            14               86    100\n2015-08-31                             8               90     98\n2015-09-30                             2                2      4\n</code></pre>\n\n<p>Where I retrieved recv_dttm using an earlier dataframe <code>df['recvd_dttm'] = pd.to_datetime(df['recvd_dttm'])</code></p>\n\n<p>Then I made </p>\n\n<pre><code>total_list = formatted['Total'].values.tolist()\ndate_list = formatted.index.tolist()\n</code></pre>\n"}, {"tags": ["python", "pickle", "dill"], "answers": [{"comments": [{"owner": {"reputation": 279, "user_id": 554468, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/227c7397a7c80326ac71c96f48fdf4f3?s=128&d=identicon&r=PG", "display_name": "obelloc", "link": "https://stackoverflow.com/users/554468/obelloc"}, "edited": false, "score": 1, "creation_date": 1441282030, "post_id": 32364403, "comment_id": 52621099, "body": "@McKerns Thanks for such a complete answer. I&#39;m not a python expert, and I have been experimenting with dill only for a few hours. But as a complete beginner, when using <code>byref=False</code> and <code>recurse=True</code>, I would expect <code>ff</code> to be pickled with everything required for it to work on any remote (even when the remote does not have the required modules). I think I am being too ambitious here. =) But, is there any way to accomplish that with dill, today or any time soon?"}, {"owner": {"reputation": 27099, "user_id": 2379433, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/197d2417f199b0b6f951ee62e627a1d8?s=128&d=identicon&r=PG", "display_name": "Mike McKerns", "link": "https://stackoverflow.com/users/2379433/mike-mckerns"}, "reply_to_user": {"reputation": 279, "user_id": 554468, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/227c7397a7c80326ac71c96f48fdf4f3?s=128&d=identicon&r=PG", "display_name": "obelloc", "link": "https://stackoverflow.com/users/554468/obelloc"}, "edited": false, "score": 1, "creation_date": 1441289564, "post_id": 32364403, "comment_id": 52626704, "body": "@NCrawl: The real answer is that this all takes effort, and you&#39;ve identified a useful case that just hasn&#39;t come up to date.  The underlying issue is when the <code>foo</code> module doesn&#39;t exist -- it&#39;s always been assumed that it has to exist.  You can see other recent tickets that also request this (<a href=\"https://github.com/uqfoundation/dill/issues/123\" rel=\"nofollow noreferrer\">github.com/uqfoundation/dill/issues/123</a>).   With regard to timing: today no, but probably soon.  I don&#39;t think there&#39;s too much to code, but code to pickle stuff is delicate to work out so it behaves well."}], "tags": [], "owner": {"reputation": 27099, "user_id": 2379433, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/197d2417f199b0b6f951ee62e627a1d8?s=128&d=identicon&r=PG", "display_name": "Mike McKerns", "link": "https://stackoverflow.com/users/2379433/mike-mckerns"}, "is_accepted": true, "score": 4, "last_activity_date": 1441234182, "creation_date": 1441234182, "answer_id": 32364403, "question_id": 32363312, "link": "https://stackoverflow.com/questions/32363312/why-dill-dumps-external-classes-by-reference-no-matter-what/32364403#32364403", "title": "Why dill dumps external classes by reference, no matter what?", "body": "<p>I'm the <code>dill</code> author.  The <code>foo.Foo</code> instance (<code>ff</code>) pickles by reference because it's defined in a file.  This is primarily for compactness of the pickled string.  So the primary issue I can think of when importing a class by reference is that the class definition is not found on the other resource you might want to unpickle to (i.e. no module <code>foo</code> exists there).  I believe that's a current feature request (and if it's not, feel free to submit a ticket on the github page).</p>\n\n<p>Note, however, if you do modify the class dynamically, it does pull in the dynamically modified code to the pickled string.</p>\n\n<pre><code>&gt;&gt;&gt; import dill\n&gt;&gt;&gt; import foo\n&gt;&gt;&gt; \n&gt;&gt;&gt; class Foo:\n...     y = 1\n...     def bar( self, x ):\n...         return x + Foo.y\n... \n&gt;&gt;&gt; f = Foo()\n&gt;&gt;&gt; ff = foo.Foo()\n</code></pre>\n\n<p>So when <code>Foo</code> is defined in <code>__main__</code>, <code>byref</code> is respected. </p>\n\n<pre><code>&gt;&gt;&gt; dill.dumps(f, byref=False)              \nb'\\x80\\x03cdill.dill\\n_create_type\\nq\\x00(cdill.dill\\n_load_type\\nq\\x01X\\x04\\x00\\x00\\x00typeq\\x02\\x85q\\x03Rq\\x04X\\x03\\x00\\x00\\x00Fooq\\x05h\\x01X\\x06\\x00\\x00\\x00objectq\\x06\\x85q\\x07Rq\\x08\\x85q\\t}q\\n(X\\r\\x00\\x00\\x00__slotnames__q\\x0b]q\\x0cX\\x03\\x00\\x00\\x00barq\\rcdill.dill\\n_create_function\\nq\\x0e(cdill.dill\\n_unmarshal\\nq\\x0fC]\\xe3\\x02\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x02\\x00\\x00\\x00\\x02\\x00\\x00\\x00C\\x00\\x00\\x00s\\x0b\\x00\\x00\\x00|\\x01\\x00t\\x00\\x00j\\x01\\x00\\x17S)\\x01N)\\x02\\xda\\x03Foo\\xda\\x01y)\\x02\\xda\\x04self\\xda\\x01x\\xa9\\x00r\\x05\\x00\\x00\\x00\\xfa\\x07&lt;stdin&gt;\\xda\\x03bar\\x03\\x00\\x00\\x00s\\x02\\x00\\x00\\x00\\x00\\x01q\\x10\\x85q\\x11Rq\\x12c__builtin__\\n__main__\\nh\\rNN}q\\x13tq\\x14Rq\\x15X\\x07\\x00\\x00\\x00__doc__q\\x16NX\\n\\x00\\x00\\x00__module__q\\x17X\\x08\\x00\\x00\\x00__main__q\\x18X\\x01\\x00\\x00\\x00yq\\x19K\\x01utq\\x1aRq\\x1b)\\x81q\\x1c.'\n&gt;&gt;&gt; dill.dumps(f, byref=True)\nb'\\x80\\x03c__main__\\nFoo\\nq\\x00)\\x81q\\x01.'\n&gt;&gt;&gt;\n</code></pre>\n\n<p>However, when the class is defined in a module, <code>byref</code> is not respected.</p>\n\n<pre><code>&gt;&gt;&gt; dill.dumps(ff, byref=False)\nb'\\x80\\x03cfoo\\nFoo\\nq\\x00)\\x81q\\x01.'\n&gt;&gt;&gt; dill.dumps(ff, byref=True)\nb'\\x80\\x03cfoo\\nFoo\\nq\\x00)\\x81q\\x01.'\n</code></pre>\n\n<p>Note, that I wouldn't use the <code>recurse</code> option in this case, as <code>Foo.y</code> will likely infinitely recurse.  That's also something that I believe there's current ticket for, but if there isn't, there should be.</p>\n\n<p>Let's dig a little deeper\u2026 what if we modify the instance...</p>\n\n<pre><code>&gt;&gt;&gt; ff.zap = lambda x: x + ff.y\n&gt;&gt;&gt; _ff = dill.loads(dill.dumps(ff))\n&gt;&gt;&gt; _ff.zap(2)\n3\n&gt;&gt;&gt; dill.dumps(ff, byref=True)\nb'\\x80\\x03cfoo\\nFoo\\nq\\x00)\\x81q\\x01}q\\x02X\\x03\\x00\\x00\\x00zapq\\x03cdill.dill\\n_create_function\\nq\\x04(cdill.dill\\n_unmarshal\\nq\\x05CY\\xe3\\x01\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x01\\x00\\x00\\x00\\x02\\x00\\x00\\x00C\\x00\\x00\\x00s\\x0b\\x00\\x00\\x00|\\x00\\x00t\\x00\\x00j\\x01\\x00\\x17S)\\x01N)\\x02\\xda\\x02ff\\xda\\x01y)\\x01\\xda\\x01x\\xa9\\x00r\\x04\\x00\\x00\\x00\\xfa\\x07&lt;stdin&gt;\\xda\\x08&lt;lambda&gt;\\x01\\x00\\x00\\x00s\\x00\\x00\\x00\\x00q\\x06\\x85q\\x07Rq\\x08c__builtin__\\n__main__\\nX\\x08\\x00\\x00\\x00&lt;lambda&gt;q\\tNN}q\\ntq\\x0bRq\\x0csb.'\n&gt;&gt;&gt; dill.dumps(ff, byref=False)\nb'\\x80\\x03cfoo\\nFoo\\nq\\x00)\\x81q\\x01}q\\x02X\\x03\\x00\\x00\\x00zapq\\x03cdill.dill\\n_create_function\\nq\\x04(cdill.dill\\n_unmarshal\\nq\\x05CY\\xe3\\x01\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x01\\x00\\x00\\x00\\x02\\x00\\x00\\x00C\\x00\\x00\\x00s\\x0b\\x00\\x00\\x00|\\x00\\x00t\\x00\\x00j\\x01\\x00\\x17S)\\x01N)\\x02\\xda\\x02ff\\xda\\x01y)\\x01\\xda\\x01x\\xa9\\x00r\\x04\\x00\\x00\\x00\\xfa\\x07&lt;stdin&gt;\\xda\\x08&lt;lambda&gt;\\x01\\x00\\x00\\x00s\\x00\\x00\\x00\\x00q\\x06\\x85q\\x07Rq\\x08c__builtin__\\n__main__\\nX\\x08\\x00\\x00\\x00&lt;lambda&gt;q\\tNN}q\\ntq\\x0bRq\\x0csb.'\n&gt;&gt;&gt; \n</code></pre>\n\n<p>No biggie, it pulls in the dynamically added code.  However, we'd probably like to modify <code>Foo</code> and not the instance.</p>\n\n<pre><code>&gt;&gt;&gt; Foo.zap = lambda self,x: x + Foo.y\n&gt;&gt;&gt; dill.dumps(f, byref=True)\nb'\\x80\\x03c__main__\\nFoo\\nq\\x00)\\x81q\\x01.'\n&gt;&gt;&gt; dill.dumps(f, byref=False)\nb'\\x80\\x03cdill.dill\\n_create_type\\nq\\x00(cdill.dill\\n_load_type\\nq\\x01X\\x04\\x00\\x00\\x00typeq\\x02\\x85q\\x03Rq\\x04X\\x03\\x00\\x00\\x00Fooq\\x05h\\x01X\\x06\\x00\\x00\\x00objectq\\x06\\x85q\\x07Rq\\x08\\x85q\\t}q\\n(X\\x03\\x00\\x00\\x00barq\\x0bcdill.dill\\n_create_function\\nq\\x0c(cdill.dill\\n_unmarshal\\nq\\rC]\\xe3\\x02\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x02\\x00\\x00\\x00\\x02\\x00\\x00\\x00C\\x00\\x00\\x00s\\x0b\\x00\\x00\\x00|\\x01\\x00t\\x00\\x00j\\x01\\x00\\x17S)\\x01N)\\x02\\xda\\x03Foo\\xda\\x01y)\\x02\\xda\\x04self\\xda\\x01x\\xa9\\x00r\\x05\\x00\\x00\\x00\\xfa\\x07&lt;stdin&gt;\\xda\\x03bar\\x03\\x00\\x00\\x00s\\x02\\x00\\x00\\x00\\x00\\x01q\\x0e\\x85q\\x0fRq\\x10c__builtin__\\n__main__\\nh\\x0bNN}q\\x11tq\\x12Rq\\x13X\\x07\\x00\\x00\\x00__doc__q\\x14NX\\r\\x00\\x00\\x00__slotnames__q\\x15]q\\x16X\\n\\x00\\x00\\x00__module__q\\x17X\\x08\\x00\\x00\\x00__main__q\\x18X\\x01\\x00\\x00\\x00yq\\x19K\\x01X\\x03\\x00\\x00\\x00zapq\\x1ah\\x0c(h\\rC`\\xe3\\x02\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x02\\x00\\x00\\x00\\x02\\x00\\x00\\x00C\\x00\\x00\\x00s\\x0b\\x00\\x00\\x00|\\x01\\x00t\\x00\\x00j\\x01\\x00\\x17S)\\x01N)\\x02\\xda\\x03Foo\\xda\\x01y)\\x02\\xda\\x04self\\xda\\x01x\\xa9\\x00r\\x05\\x00\\x00\\x00\\xfa\\x07&lt;stdin&gt;\\xda\\x08&lt;lambda&gt;\\x01\\x00\\x00\\x00s\\x00\\x00\\x00\\x00q\\x1b\\x85q\\x1cRq\\x1dc__builtin__\\n__main__\\nX\\x08\\x00\\x00\\x00&lt;lambda&gt;q\\x1eNN}q\\x1ftq Rq!utq\"Rq#)\\x81q$.'\n</code></pre>\n\n<p>Ok, that's fine, but what about the <code>Foo</code> in our external module?</p>\n\n<pre><code>&gt;&gt;&gt; ff = foo.Foo()\n&gt;&gt;&gt; \n&gt;&gt;&gt; foo.Foo.zap = lambda self,x: x + foo.Foo.y\n&gt;&gt;&gt; dill.dumps(ff, byref=False)\nb'\\x80\\x03cfoo\\nFoo\\nq\\x00)\\x81q\\x01.'\n&gt;&gt;&gt; dill.dumps(ff, byref=True)\nb'\\x80\\x03cfoo\\nFoo\\nq\\x00)\\x81q\\x01.'\n&gt;&gt;&gt; \n</code></pre>\n\n<p>Hmmm\u2026 not good.  So the above is probably a pretty compelling use case to change the behavior <code>dill</code> exhibits for classes defined in modules -- or at least enable one of the settings to provide better behavior.</p>\n\n<p>In sum, the answer is: we didn't have a use case for it, so now that we do\u2026  this should be a feature request if it is not already.</p>\n"}], "owner": {"reputation": 279, "user_id": 554468, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/227c7397a7c80326ac71c96f48fdf4f3?s=128&d=identicon&r=PG", "display_name": "obelloc", "link": "https://stackoverflow.com/users/554468/obelloc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1597, "favorite_count": 1, "accepted_answer_id": 32364403, "answer_count": 1, "score": 3, "last_activity_date": 1441408465, "creation_date": 1441228844, "last_edit_date": 1441408465, "question_id": 32363312, "link": "https://stackoverflow.com/questions/32363312/why-dill-dumps-external-classes-by-reference-no-matter-what", "title": "Why dill dumps external classes by reference, no matter what?", "body": "<p>In the example below, I have placed the class <code>Foo</code> inside its own module <code>foo</code>. </p>\n\n<p>Why is the external class dumped by ref? The instance <code>ff</code> is not being dumped with its source code.</p>\n\n<p>I am using Python 3.4.3 and dill-0.2.4. </p>\n\n<pre><code>import dill\nimport foo\n\nclass Foo:\n    y = 1\n    def bar( self, x ):\n        return x + y\n\nf = Foo()\nff = foo.Foo()\n\nprint( dill.dumps( f, byref=False, recurse=True ) )\nprint( '\\n' )\nprint( dill.dumps( ff, byref=False, recurse=True ) )\n</code></pre>\n\n<p>Well, the code above is actually wrong (should be <code>Foo.y</code>, instead of <code>y</code>). Correcting the code gives me an exception while dumping the <code>f</code> instance.</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1441228664, "post_id": 32363220, "comment_id": 52599200, "body": "first improvement would be to use generator expressions instead of list generators"}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 1, "creation_date": 1441228710, "post_id": 32363220, "comment_id": 52599222, "body": "If you want all directories <i>excluding</i> the root, wouldn&#39;t the second part of the return be more use to you than the first?"}], "answers": [{"comments": [{"owner": {"reputation": 3575, "user_id": 4678042, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/R0bWq.jpg?s=128&g=1", "display_name": "sunny", "link": "https://stackoverflow.com/users/4678042/sunny"}, "edited": false, "score": 0, "creation_date": 1441229040, "post_id": 32363283, "comment_id": 52599361, "body": "thanks but this includes files not just subdirectories"}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "reply_to_user": {"reputation": 3575, "user_id": 4678042, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/R0bWq.jpg?s=128&g=1", "display_name": "sunny", "link": "https://stackoverflow.com/users/4678042/sunny"}, "edited": false, "score": 0, "creation_date": 1441229121, "post_id": 32363283, "comment_id": 52599394, "body": "to quote you <b>I would like to get a list of all the directories inside IMAGE_DIRECTORY</b> ... but ok no problem ... so do you also want it to be recursive?"}, {"owner": {"reputation": 3575, "user_id": 4678042, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/R0bWq.jpg?s=128&g=1", "display_name": "sunny", "link": "https://stackoverflow.com/users/4678042/sunny"}, "edited": false, "score": 0, "creation_date": 1441229240, "post_id": 32363283, "comment_id": 52599442, "body": "No I meant that I want files excluded. I don&#39;t want it to be recursive."}], "tags": [], "owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "is_accepted": false, "score": 0, "last_activity_date": 1441229309, "last_edit_date": 1441229309, "creation_date": 1441228743, "answer_id": 32363283, "question_id": 32363220, "link": "https://stackoverflow.com/questions/32363220/better-way-to-list-all-directories-in-python-other-than-self/32363283#32363283", "title": "Better way to list all directories in Python other than self?", "body": "<pre><code>def get_subdirs(start_dir):\n    return (os.path.join(start_dir,x) for x in next(os.walk(start_dir))[1])\n\nfor subdir in get_subdirs(IMAGE_DIR):\n    for fname in next(os.walk(subdir))[2]:\n        print os.path.join(subdir,fname)\n</code></pre>\n\n<p>note that this is not recursive it returns all the directories immediately under the startdir</p>\n\n<p>or just</p>\n\n<pre><code>print next(os.walk(start_dir))[1]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1441228839, "post_id": 32363297, "comment_id": 52599274, "body": "putting it all in one line doesnt really make it better or decrease the complexity"}], "tags": [], "owner": {"reputation": 923, "user_id": 5224291, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b101e6ab63ba8eada8f369fa164481c4?s=128&d=identicon&r=PG&f=1", "display_name": "Cody Bouche", "link": "https://stackoverflow.com/users/5224291/cody-bouche"}, "is_accepted": false, "score": 0, "last_activity_date": 1441228797, "creation_date": 1441228797, "answer_id": 32363297, "question_id": 32363220, "link": "https://stackoverflow.com/questions/32363220/better-way-to-list-all-directories-in-python-other-than-self/32363297#32363297", "title": "Better way to list all directories in Python other than self?", "body": "<p>This is how to do it in a single line</p>\n\n<pre><code>print ['/'.join(d.split('/')[1:]) for d in [x[0] for x in os.walk(IMAGE_DIRECTORY)] if d != IMAGE_DIRECTORY]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1441228973, "post_id": 32363326, "comment_id": 52599328, "body": "the 3rd bit is actually subdirectories ... so thats what he should be using ... his code is extending files ... but his question doesnt seem to have anything to do with files... just getting a list of directories ... also im pretty sure os.walk is a generator so not sure about wrapping it in iter"}, {"owner": {"reputation": 3575, "user_id": 4678042, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/R0bWq.jpg?s=128&g=1", "display_name": "sunny", "link": "https://stackoverflow.com/users/4678042/sunny"}, "edited": false, "score": 0, "creation_date": 1441229092, "post_id": 32363326, "comment_id": 52599381, "body": "This is almost what I want, except what I really want is an os.listdir on every subdirectory of IMAGE_DIRECTORY. Thanks. I had forgotten about <code>next</code>"}, {"owner": {"reputation": 38371, "user_id": 3555845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e06f616d9a53b1ca18287d1049a28ee?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/3555845/daniel"}, "reply_to_user": {"reputation": 3575, "user_id": 4678042, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/R0bWq.jpg?s=128&g=1", "display_name": "sunny", "link": "https://stackoverflow.com/users/4678042/sunny"}, "edited": false, "score": 0, "creation_date": 1441230800, "post_id": 32363326, "comment_id": 52600107, "body": "@sunny: os.walk is already listing all files, no need for os.listdir."}, {"owner": {"reputation": 3575, "user_id": 4678042, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/R0bWq.jpg?s=128&g=1", "display_name": "sunny", "link": "https://stackoverflow.com/users/4678042/sunny"}, "edited": false, "score": 0, "creation_date": 1441231142, "post_id": 32363326, "comment_id": 52600235, "body": "@Daniel but that will include files in the root directory. I want all files in each directory contained in the root directory but not the files in the root directory itself"}, {"owner": {"reputation": 38371, "user_id": 3555845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e06f616d9a53b1ca18287d1049a28ee?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/3555845/daniel"}, "reply_to_user": {"reputation": 3575, "user_id": 4678042, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/R0bWq.jpg?s=128&g=1", "display_name": "sunny", "link": "https://stackoverflow.com/users/4678042/sunny"}, "edited": false, "score": 0, "creation_date": 1441264225, "post_id": 32363326, "comment_id": 52609939, "body": "@sunny: no, it doesn&#39;t."}], "tags": [], "owner": {"reputation": 38371, "user_id": 3555845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e06f616d9a53b1ca18287d1049a28ee?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/3555845/daniel"}, "is_accepted": true, "score": 0, "last_activity_date": 1441228904, "creation_date": 1441228904, "answer_id": 32363326, "question_id": 32363220, "link": "https://stackoverflow.com/questions/32363220/better-way-to-list-all-directories-in-python-other-than-self/32363326#32363326", "title": "Better way to list all directories in Python other than self?", "body": "<p>Just skip the first element:</p>\n\n<pre><code>walker = iter(os.walk(IMAGE_DIRECTORY))\nnext(walker)\nfor path, files, _ in walker:\n    list_of_files.extend(os.path.join(path, f) in files)\n</code></pre>\n"}], "owner": {"reputation": 3575, "user_id": 4678042, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/R0bWq.jpg?s=128&g=1", "display_name": "sunny", "link": "https://stackoverflow.com/users/4678042/sunny"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "accepted_answer_id": 32363326, "answer_count": 3, "score": 0, "last_activity_date": 1441229309, "creation_date": 1441228463, "last_edit_date": 1441229290, "question_id": 32363220, "link": "https://stackoverflow.com/questions/32363220/better-way-to-list-all-directories-in-python-other-than-self", "title": "Better way to list all directories in Python other than self?", "body": "<p>I would like to get a list of all the directories inside <code>IMAGE_DIRECTORY</code> not including itself. Checking every entry seems suboptimal. Is there a better way to do this? </p>\n\n<pre><code>   for dir in [x[0] for x in os.walk(IMAGE_DIRECTORY)]:\n        if(dir != IMAGE_DIRECTORY):\n            files = [dir + \"/\" +  file for file in os.listdir(dir)]            \n            list_of_files.extend(files)\n</code></pre>\n\n<hr>\n\n<p>Just wanted to say thanks for the diverse array of answers! So many different responses so quickly!</p>\n"}, {"tags": ["python", "csv", "pandas"], "comments": [{"owner": {"reputation": 2614, "user_id": 907714, "user_type": "registered", "accept_rate": 39, "profile_image": "https://i.stack.imgur.com/zi5h3.gif?s=128&g=1", "display_name": "postelrich", "link": "https://stackoverflow.com/users/907714/postelrich"}, "edited": false, "score": 0, "creation_date": 1441228999, "post_id": 32363154, "comment_id": 52599339, "body": "looks like if you are expecting fname to equal &#39;csv1.csv&#39; you&#39;re not passing the path of the file to read_csv.  Probably need something like <code>pd.read_csv(os.join(path, fname))</code>"}, {"owner": {"reputation": 1909, "user_id": 3841581, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/93b431e49ed38b9c1602d7af199b6f15?s=128&d=identicon&r=PG&f=1", "display_name": "user3841581", "link": "https://stackoverflow.com/users/3841581/user3841581"}, "reply_to_user": {"reputation": 2614, "user_id": 907714, "user_type": "registered", "accept_rate": 39, "profile_image": "https://i.stack.imgur.com/zi5h3.gif?s=128&g=1", "display_name": "postelrich", "link": "https://stackoverflow.com/users/907714/postelrich"}, "edited": false, "score": 0, "creation_date": 1441229064, "post_id": 32363154, "comment_id": 52599370, "body": "the path of the whole folder or the path of that csv file?"}, {"owner": {"reputation": 2614, "user_id": 907714, "user_type": "registered", "accept_rate": 39, "profile_image": "https://i.stack.imgur.com/zi5h3.gif?s=128&g=1", "display_name": "postelrich", "link": "https://stackoverflow.com/users/907714/postelrich"}, "edited": false, "score": 0, "creation_date": 1441229342, "post_id": 32363154, "comment_id": 52599478, "body": "if your working directory is <code>&#47;home&#47;user</code> and your files are located in <code>&#47;home&#47;user&#47;dir1, &#47;home&#47;user&#47;dir2...</code>, you need to at least have the relative path of the file <code>dir2&#47;csv1.csv</code>."}], "answers": [{"comments": [{"owner": {"reputation": 1909, "user_id": 3841581, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/93b431e49ed38b9c1602d7af199b6f15?s=128&d=identicon&r=PG&f=1", "display_name": "user3841581", "link": "https://stackoverflow.com/users/3841581/user3841581"}, "edited": false, "score": 0, "creation_date": 1441265466, "post_id": 32368488, "comment_id": 52610626, "body": "thank you very much; i have a question though, it it seems to only read about 7000 rows but the data i have contains around 50000 rows for each csv; what is the issue here?"}, {"owner": {"reputation": 1909, "user_id": 3841581, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/93b431e49ed38b9c1602d7af199b6f15?s=128&d=identicon&r=PG&f=1", "display_name": "user3841581", "link": "https://stackoverflow.com/users/3841581/user3841581"}, "edited": false, "score": 0, "creation_date": 1441267627, "post_id": 32368488, "comment_id": 52611951, "body": "actually it was fine; i actually asked the wrong question; as  it only keeps a copy of the last csv five in my var, i actually wanted to concatenate it all the columns for each csv read from the directory; that is my var should contain the column of both csv file"}, {"owner": {"reputation": 619481, "user_id": 2901002, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/hMDvl.jpg?s=128&g=1", "display_name": "jezrael", "link": "https://stackoverflow.com/users/2901002/jezrael"}, "reply_to_user": {"reputation": 1909, "user_id": 3841581, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/93b431e49ed38b9c1602d7af199b6f15?s=128&d=identicon&r=PG&f=1", "display_name": "user3841581", "link": "https://stackoverflow.com/users/3841581/user3841581"}, "edited": false, "score": 0, "creation_date": 1441269503, "post_id": 32368488, "comment_id": 52613108, "body": "you can create empty df and append one column of data from csv&#39;s - <a href=\"http://stackoverflow.com/questions/32352211/sorting-by-groups/32353725#32353725\" title=\"sorting by groups\">stackoverflow.com/questions/32352211/sorting-by-groups/&hellip;</a>, but you have to change for adding column <code>code</code> : <code>df = pd.DataFrame()</code> and <code>df = df.append(g[&#39;code&#39;].tolist(), ignore_index=True)</code>"}], "tags": [], "owner": {"reputation": 619481, "user_id": 2901002, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/hMDvl.jpg?s=128&g=1", "display_name": "jezrael", "link": "https://stackoverflow.com/users/2901002/jezrael"}, "is_accepted": true, "score": 1, "last_activity_date": 1441262023, "last_edit_date": 1592644375, "creation_date": 1441262023, "answer_id": 32368488, "question_id": 32363154, "link": "https://stackoverflow.com/questions/32363154/reading-multiple-csv-files-from-multiple-files-into-pandas-dataframe/32368488#32368488", "title": "Reading multiple CSV files from multiple files into pandas DataFrame", "body": "<p>As you can see in comments, you have to join <code>rootDir</code>, <code>dirName</code> and <code>fname</code>.</p>\n<pre><code>import os\nimport re\nimport pandas as pd\nfrom pandas.core.frame import DataFrame\n\nrootDir = '.'\nfor dirName, subdirList, fileList in os.walk(rootDir, topdown=False):\n    print('Found directory: %s' % dirName)\n    for fname in fileList:\n        print('\\t%s' % fname)\n        filepath = os.path.join(rootDir, dirName, fname)\n        if &quot;csv1.csv&quot; == fname:\n            var = pd.read_csv(filepath)\n            print var.head()\n</code></pre>\n<p><a href=\"https://docs.python.org/2/library/os.path.html\" rel=\"nofollow noreferrer\">os.path.join(path, *paths)</a>:</p>\n<blockquote>\n<p>Join one or more path components intelligently. The return value is the concatenation of path and any members of <code>*paths</code> with exactly one directory separator (<code>os.sep</code>) following each non-empty part except the last, meaning that the result will only end in a separator if the last part is empty. If a component is an absolute path, all previous components are thrown away and joining continues from the absolute path component.</p>\n<p>On Windows, the drive letter is not reset when an absolute path component (e.g., <code>r'\\foo'</code>) is encountered. If a component contains a drive letter, all previous components are thrown away and the drive letter is reset. Note that since there is a current directory for each drive, <code>os.path.join(&quot;c:&quot;, &quot;foo&quot;)</code> represents a path relative to the current directory on drive <code>C:</code> (<code>c:foo</code>), not <code>c:\\foo</code>.</p>\n</blockquote>\n"}], "owner": {"reputation": 1909, "user_id": 3841581, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/93b431e49ed38b9c1602d7af199b6f15?s=128&d=identicon&r=PG&f=1", "display_name": "user3841581", "link": "https://stackoverflow.com/users/3841581/user3841581"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1956, "favorite_count": 0, "accepted_answer_id": 32368488, "answer_count": 1, "score": 1, "last_activity_date": 1441262023, "creation_date": 1441228167, "last_edit_date": 1441231653, "question_id": 32363154, "link": "https://stackoverflow.com/questions/32363154/reading-multiple-csv-files-from-multiple-files-into-pandas-dataframe", "title": "Reading multiple CSV files from multiple files into pandas DataFrame", "body": "<p>I would like to go through different csv files contained in different folders in the same directory. My folders are in my working directory. My folders are named:</p>\n\n<pre><code>folder1, folder2,folder3\n</code></pre>\n\n<p>each of them have csv's with identical names <code>csv1.csv, csv2.csv</code>.</p>\n\n<p>I tried this code:</p>\n\n<pre><code>import os\nimport re\nimport pandas as pd\nfrom pandas.core.frame import DataFrame\n\nrootDir = '.'\nfor dirName, subdirList, fileList in os.walk(rootDir, topdown=False):\n    print('Found directory: %s' % dirName)\n    for fname in fileList:\n        print('\\t%s' % fname)\n\n        if \"csv1.csv\" == fname:\n            var= pd.read_csv(fname)\n</code></pre>\n\n<p>I can print the name of the csv file in that folder but i get an error:\n<code>IOError: File csv1.csv does not exist</code><br>\nwhat could be the problem?</p>\n"}, {"tags": ["python", "django"], "comments": [{"owner": {"reputation": 702, "user_id": 2851353, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/0b324d8126ccddbf2d6344861b553585?s=128&d=identicon&r=PG&f=1", "display_name": "darkryder", "link": "https://stackoverflow.com/users/2851353/darkryder"}, "edited": false, "score": 1, "creation_date": 1441228361, "post_id": 32363150, "comment_id": 52599064, "body": "have you added the <code>__repr__</code> or the <code>__unicode__</code> method to the Question class?"}, {"owner": {"reputation": 8066, "user_id": 4272549, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/1hvwh.jpg?s=128&g=1", "display_name": "123", "link": "https://stackoverflow.com/users/4272549/123"}, "reply_to_user": {"reputation": 702, "user_id": 2851353, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/0b324d8126ccddbf2d6344861b553585?s=128&d=identicon&r=PG&f=1", "display_name": "darkryder", "link": "https://stackoverflow.com/users/2851353/darkryder"}, "edited": false, "score": 0, "creation_date": 1441228852, "post_id": 32363150, "comment_id": 52599282, "body": "You mean using <code>__unicode__</code> instead of <code>__str__</code> ?"}, {"owner": {"reputation": 8066, "user_id": 4272549, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/1hvwh.jpg?s=128&g=1", "display_name": "123", "link": "https://stackoverflow.com/users/4272549/123"}, "reply_to_user": {"reputation": 702, "user_id": 2851353, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/0b324d8126ccddbf2d6344861b553585?s=128&d=identicon&r=PG&f=1", "display_name": "darkryder", "link": "https://stackoverflow.com/users/2851353/darkryder"}, "edited": false, "score": 0, "creation_date": 1441228902, "post_id": 32363150, "comment_id": 52599302, "body": "Don&#39;t know if this helps, but when I use the command Question.objects.filter(question_text__startswith=&#39;What&#39;)`` I get <code>FieldError: Cannot resolve keyword &#39;question_text&#39; into field. Choices are: id</code>"}, {"owner": {"reputation": 702, "user_id": 2851353, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/0b324d8126ccddbf2d6344861b553585?s=128&d=identicon&r=PG&f=1", "display_name": "darkryder", "link": "https://stackoverflow.com/users/2851353/darkryder"}, "edited": false, "score": 0, "creation_date": 1441229021, "post_id": 32363150, "comment_id": 52599351, "body": "This seems unrelated with the naming issue. But about the <code>FieldError</code>, try running, <code>python manage.py makemigrations polls</code> and <code>python manage.py migrate</code>?"}, {"owner": {"reputation": 702, "user_id": 2851353, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/0b324d8126ccddbf2d6344861b553585?s=128&d=identicon&r=PG&f=1", "display_name": "darkryder", "link": "https://stackoverflow.com/users/2851353/darkryder"}, "edited": false, "score": 0, "creation_date": 1441229449, "post_id": 32363150, "comment_id": 52599522, "body": "What happens when you do <code>str(Question.objects.first())</code> on the shell?"}, {"owner": {"reputation": 8066, "user_id": 4272549, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/1hvwh.jpg?s=128&g=1", "display_name": "123", "link": "https://stackoverflow.com/users/4272549/123"}, "reply_to_user": {"reputation": 702, "user_id": 2851353, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/0b324d8126ccddbf2d6344861b553585?s=128&d=identicon&r=PG&f=1", "display_name": "darkryder", "link": "https://stackoverflow.com/users/2851353/darkryder"}, "edited": false, "score": 0, "creation_date": 1441229573, "post_id": 32363150, "comment_id": 52599586, "body": "I&#39;ve done the migrations before, but I tried them again, and it didn&#39;t help.  Running <code>str(Question.objects.first())</code> on the shell returns <code>Traceback (most recent call last):   File &quot;&lt;console&gt;&quot;, line 1, in &lt;module&gt; NameError: name &#39;Question&#39; is not defined</code>"}, {"owner": {"reputation": 702, "user_id": 2851353, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/0b324d8126ccddbf2d6344861b553585?s=128&d=identicon&r=PG&f=1", "display_name": "darkryder", "link": "https://stackoverflow.com/users/2851353/darkryder"}, "reply_to_user": {"reputation": 8066, "user_id": 4272549, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/1hvwh.jpg?s=128&g=1", "display_name": "123", "link": "https://stackoverflow.com/users/4272549/123"}, "edited": false, "score": 0, "creation_date": 1441229591, "post_id": 32363150, "comment_id": 52599598, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/88634/discussion-between-darkryder-and-teldridge11\">continue this discussion in chat</a>."}], "answers": [{"tags": [], "owner": {"reputation": 702, "user_id": 2851353, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/0b324d8126ccddbf2d6344861b553585?s=128&d=identicon&r=PG&f=1", "display_name": "darkryder", "link": "https://stackoverflow.com/users/2851353/darkryder"}, "is_accepted": true, "score": 1, "last_activity_date": 1441232584, "creation_date": 1441232584, "answer_id": 32364108, "question_id": 32363150, "link": "https://stackoverflow.com/questions/32363150/issue-setting-up-django-database-access-api-using-sqlite/32364108#32364108", "title": "Issue Setting Up Django Database Access API Using SQLite", "body": "<p>First, make sure that the contents of <code>models.py</code> match with what's given in the tutorial</p>\n\n<pre><code>from django.db import models\n\nclass Question(models.Model):\n    question_text = models.CharField(max_length=200)\n    pub_date = models.DateTimeField('date published')\n\n    def __unicode__(self):              # __str__ on Python 3\n        return self.question_text\n\n    def was_published_recently(self):\n        return self.pub_date &gt;= timezone.now() - datetime.timedelta(days=1)\n\n\nclass Choice(models.Model):\n    question = models.ForeignKey(Question)\n    choice_text = models.CharField(max_length=200, default=\"\")\n    votes = models.IntegerField(default=0)\n\n    def __unicode__(self):              # __str__ on Python 3\n        return self.choice_text\n</code></pre>\n\n<p>Also make sure that the migrations are up to date.</p>\n\n<p>If you're running python 2, use <code>__unicode__</code> else use <code>__str__</code>.</p>\n\n<p>That should solve the problem for you.</p>\n"}], "owner": {"reputation": 8066, "user_id": 4272549, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/1hvwh.jpg?s=128&g=1", "display_name": "123", "link": "https://stackoverflow.com/users/4272549/123"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 88, "favorite_count": 0, "accepted_answer_id": 32364108, "answer_count": 1, "score": 0, "last_activity_date": 1441232584, "creation_date": 1441228156, "last_edit_date": 1441229560, "question_id": 32363150, "link": "https://stackoverflow.com/questions/32363150/issue-setting-up-django-database-access-api-using-sqlite", "title": "Issue Setting Up Django Database Access API Using SQLite", "body": "<p>I just started using Django, and I am going through the documentation <a href=\"https://docs.djangoproject.com/en/1.8/intro/tutorial01/\" rel=\"nofollow noreferrer\">here</a> to build my first app, but I am running into some kind of issue related to the database access API for SQLite.</p>\n\n<p>My directory structure looks like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/AI1Fu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AI1Fu.png\" alt=\"\"></a></p>\n\n<p>The only files I have edited are <code>models.py</code> and <code>settings.py</code> and it is all code from the documentation.</p>\n\n<p>models.py:</p>\n\n<pre><code>from django.db import models\n\nclass Question(models.Model):\n    # ...\n    def __str__(self):              # __unicode__ on Python 2\n        return self.question_text\n\nclass Choice(models.Model):\n    # ...\n    def __str__(self):              # __unicode__ on Python 2\n        return self.choice_text\n\nimport datetime\n\nfrom django.db import models\nfrom django.utils import timezone\n\n\nclass Question(models.Model):\n    # ...\n    def was_published_recently(self):\n        return self.pub_date &gt;= timezone.now() - datetime.timedelta(days=1)\n</code></pre>\n\n<p>The only changes I have made to <code>settings.py</code> are adding my timezone <code>TIME_ZONE = 'US/Pacific'</code> and adding <code>'polls',</code> to <code>INSTALLED_APPS</code>.</p>\n\n<p>(For full disclosure, I have set up my <code>urls.py</code> just to test hello world, which is not part of the documentation, but I don't think that's causing the issue.  Here's the code for that if it's relevant.)</p>\n\n<p>urls.py:</p>\n\n<pre><code>from django.conf.urls import patterns, include, url\nfrom django.contrib import admin\nfrom django.views.debug import default_urlconf\nfrom django.http import HttpResponse\n\ndef hello(request):\n    return HttpResponse('Hello world!!!')\n\nurlpatterns = patterns('',\n    # Examples:\n    url(r'^$', hello),\n    # url(r'^blog/', include('blog.urls')),\n\n    #url(r'^admin/', include(admin.site.urls)),\n    #url(r'^$', default_urlconf),\n)\n</code></pre>\n\n<p>Now, the issue I'm running into is when I get to the \"Playing with the API\" section.  When I open a <code>python manage.py shell</code> for the second time in that section, I'm supposed to be able to use the command <code>Question.objects.all()</code> and get the result <code>[&lt;Question: What's up?&gt;]</code> with \"What's up?\" being the value of <code>question_text</code>.  The problem is I'm still getting the result <code>[&lt;Question: Question object&gt;]</code> instead of the <code>question_text</code> value.</p>\n\n<p>I've gone back and re-created my app three times in the hope that I missed something during the setup, but I get the same issue every time and I seem to be following the documentation exactly.  Am I missing something here?</p>\n"}, {"tags": ["python", "arrays", "pandas", "aggregate-functions"], "answers": [{"comments": [{"owner": {"reputation": 175, "user_id": 4639827, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2398b0949248c3235bd4ec104d269b62?s=128&d=identicon&r=PG&f=1", "display_name": "intdt", "link": "https://stackoverflow.com/users/4639827/intdt"}, "edited": false, "score": 0, "creation_date": 1441231189, "post_id": 32363440, "comment_id": 52600251, "body": "Hi Tom, it doesn&#39;t look like this works. It outputs just one array and is equivalent to df2[&#39;array&#39;].sum(). But you have given me an idea with apply. Let me see if I can figure something out."}, {"owner": {"reputation": 336, "user_id": 4233537, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5290f4d07acaaa77ed1bd31ba9a5794?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Patel", "link": "https://stackoverflow.com/users/4233537/tom-patel"}, "reply_to_user": {"reputation": 175, "user_id": 4639827, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2398b0949248c3235bd4ec104d269b62?s=128&d=identicon&r=PG&f=1", "display_name": "intdt", "link": "https://stackoverflow.com/users/4639827/intdt"}, "edited": false, "score": 0, "creation_date": 1441238035, "post_id": 32363440, "comment_id": 52602266, "body": "Hi, sorry I misunderstood this problem - I have edited the answer and should be close to what you are looking for."}], "tags": [], "owner": {"reputation": 336, "user_id": 4233537, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5290f4d07acaaa77ed1bd31ba9a5794?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Patel", "link": "https://stackoverflow.com/users/4233537/tom-patel"}, "is_accepted": false, "score": 0, "last_activity_date": 1441237962, "last_edit_date": 1441237962, "creation_date": 1441229384, "answer_id": 32363440, "question_id": 32363098, "link": "https://stackoverflow.com/questions/32363098/pandas-dataframe-groupby-multiple-columns-then-sum/32363440#32363440", "title": "Pandas Dataframe Groupby multiple columns then sum", "body": "<p>A possible solution is</p>\n\n<pre><code>df2 = pd.DataFrame({'A': ['foo', 'bar', 'foo', 'bar'],'B': ['la', 'la', 'al', 'al'],'numbers' : [np.array([1, 2, 3, 4]),np.array([2, 4, 2, 4]),np.array([2, 3, 4, 5]),np.array([1, 3, 5, 7])]} )\n\ngrouped = df2.groupby(['A','B'])\n\n#set up empty arrays to append data from below loop\narray=[]\nindex=[]\n\n#loop through the grouped data and sum up the array numbers \nfor i,j in grouped:\n    array.append({'numbers':j.numbers.sum()})\n    index.append(i)\n\n#put summed array back into a dataframe \nprint pd.DataFrame((array),index=index)  \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 86481, "user_id": 2411802, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/RA92x.jpg?s=128&g=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/2411802/alexander"}, "is_accepted": false, "score": 1, "last_activity_date": 1441243537, "last_edit_date": 1441243537, "creation_date": 1441238673, "answer_id": 32365056, "question_id": 32363098, "link": "https://stackoverflow.com/questions/32363098/pandas-dataframe-groupby-multiple-columns-then-sum/32365056#32365056", "title": "Pandas Dataframe Groupby multiple columns then sum", "body": "<p>You can use a <code>lambda</code> expression.  The <code>iat</code> expression takes the scalar value of the first element in the Series (here just the list of numbers), and then sums the results.</p>\n\n<pre><code>&gt;&gt;&gt; df2.groupby(['A', 'B']).numbers.apply(lambda x: x.iat[0].sum())\n\nA    B \nbar  al    16\n     la    12\nfoo  al    14\n     la    10\nName: numbers, dtype: int64\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4194, "user_id": 3026131, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/h5dWI.png?s=128&g=1", "display_name": "Nader Hisham", "link": "https://stackoverflow.com/users/3026131/nader-hisham"}, "is_accepted": false, "score": 0, "last_activity_date": 1441260070, "creation_date": 1441260070, "answer_id": 32368013, "question_id": 32363098, "link": "https://stackoverflow.com/questions/32363098/pandas-dataframe-groupby-multiple-columns-then-sum/32368013#32368013", "title": "Pandas Dataframe Groupby multiple columns then sum", "body": "<pre><code>df2 = pd.DataFrame({'A': ['foo', 'bar', 'foo', 'bar'],'B': ['la', 'la', 'al', 'al'],'numbers' : [np.array([1, 2, 3, 4]),np.array([2, 4, 2, 4]),np.array([2, 3, 4, 5]),np.array([1, 3, 5, 7])]} )\n\n\nOut[42]:\n     A   B    numbers\n0   foo la  [1, 2, 3, 4]\n1   bar la  [2, 4, 2, 4]\n2   foo al  [2, 3, 4, 5]\n3   bar al  [1, 3, 5, 7]\n\ngrpAB = df2.groupby(['A','B'])\nres = grpAB.apply(lambda x : x.numbers.sum())\n\n\nOut[43]:\nA    B \nbar  al    [1, 3, 5, 7]\n     la    [2, 4, 2, 4]\nfoo  al    [2, 3, 4, 5]\n     la    [1, 2, 3, 4]\ndtype: object\n\npd.DataFrame(res , columns = ['numbers'])\n\n\nOut[44]:\nnumbers\nA   B   \nbar al  [1, 3, 5, 7]\n    la  [2, 4, 2, 4]\nfoo al  [2, 3, 4, 5]\n    la  [1, 2, 3, 4]\n# if you want to reset the index\npd.DataFrame(res , columns = ['numbers']).reset_index()\n\n\nOut[45]:\n     A  B   numbers\n0   bar al  [1, 3, 5, 7]\n1   bar la  [2, 4, 2, 4]\n2   foo al  [2, 3, 4, 5]\n3   foo la  [1, 2, 3, 4]\n</code></pre>\n"}], "owner": {"reputation": 175, "user_id": 4639827, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2398b0949248c3235bd4ec104d269b62?s=128&d=identicon&r=PG&f=1", "display_name": "intdt", "link": "https://stackoverflow.com/users/4639827/intdt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3177, "favorite_count": 0, "answer_count": 3, "score": 2, "last_activity_date": 1441260070, "creation_date": 1441227972, "question_id": 32363098, "link": "https://stackoverflow.com/questions/32363098/pandas-dataframe-groupby-multiple-columns-then-sum", "title": "Pandas Dataframe Groupby multiple columns then sum", "body": "<p>Assume the following for each Python code:</p>\n\n<pre><code>import pandas as pd\nimport numpy as np\n</code></pre>\n\n<p>In Pandas, if I have a dataframe of 2 columns, one of which is an array of numbers, I can sum over the values of the array to get a single array.</p>\n\n<pre><code>df = pd.DataFrame({'A': ['foo', 'bar', 'foo', 'bar'], 'numbers' : [np.array([1, 2, 3, 4]),np.array([2, 4, 2, 4]),np.array([2, 3, 4, 5]),np.array([1, 3, 5, 7])]} )\ndf['arrays'].sum()\n</code></pre>\n\n<p>I can even group by the first column and then sum over the second column to get sums for each group:</p>\n\n<pre><code>grpA = df.groupby('A')\ngrpA.sum()\n</code></pre>\n\n<p>However, if I have multiple other columns besides the array column, say 2 other columns, then I get a <code>ValueError: Function does not reduce</code> when trying to group by the first two columns and sum over the array column:</p>\n\n<pre><code>df2 = pd.DataFrame({'A': ['foo', 'bar', 'foo', 'bar'],'B': ['la', 'la', 'al', 'al'],'numbers' : [np.array([1, 2, 3, 4]),np.array([2, 4, 2, 4]),np.array([2, 3, 4, 5]),np.array([1, 3, 5, 7])]} )\ngrpAB = df2.groupby(['A','B'])\ngrpAB.sum()\n</code></pre>\n\n<p>In SQL, the following would work if I could sum over arrays:</p>\n\n<pre><code>select A, B, sum(numbers)\n    from df2\n    group by A, B\n</code></pre>\n\n<p>Is there a way to successfully group by multiple columns and sum over the last array column in Pandas?</p>\n"}, {"tags": ["python", "octave", "spyder", "oct2py"], "comments": [{"owner": {"reputation": 2614, "user_id": 907714, "user_type": "registered", "accept_rate": 39, "profile_image": "https://i.stack.imgur.com/zi5h3.gif?s=128&g=1", "display_name": "postelrich", "link": "https://stackoverflow.com/users/907714/postelrich"}, "edited": false, "score": 0, "creation_date": 1441227654, "post_id": 32362995, "comment_id": 52598750, "body": "what is the output of <code>pip --version</code> and <code>which pip</code>?"}, {"owner": {"reputation": 33, "user_id": 5294233, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e46fb9153d8e4c576dd0d76b6d720927?s=128&d=identicon&r=PG&f=1", "display_name": "AX2", "link": "https://stackoverflow.com/users/5294233/ax2"}, "reply_to_user": {"reputation": 2614, "user_id": 907714, "user_type": "registered", "accept_rate": 39, "profile_image": "https://i.stack.imgur.com/zi5h3.gif?s=128&g=1", "display_name": "postelrich", "link": "https://stackoverflow.com/users/907714/postelrich"}, "edited": false, "score": 0, "creation_date": 1441228105, "post_id": 32362995, "comment_id": 52598956, "body": "I have pip 7.1.2, also just edited the question. Turns out it runs fine from the command prompt and only gives errors when running from the Spyder IDE."}, {"owner": {"reputation": 2614, "user_id": 907714, "user_type": "registered", "accept_rate": 39, "profile_image": "https://i.stack.imgur.com/zi5h3.gif?s=128&g=1", "display_name": "postelrich", "link": "https://stackoverflow.com/users/907714/postelrich"}, "edited": false, "score": 0, "creation_date": 1441228630, "post_id": 32362995, "comment_id": 52599184, "body": "I wanted to make sure that you were running pip3 and not pip2"}, {"owner": {"reputation": 33, "user_id": 5294233, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e46fb9153d8e4c576dd0d76b6d720927?s=128&d=identicon&r=PG&f=1", "display_name": "AX2", "link": "https://stackoverflow.com/users/5294233/ax2"}, "reply_to_user": {"reputation": 2614, "user_id": 907714, "user_type": "registered", "accept_rate": 39, "profile_image": "https://i.stack.imgur.com/zi5h3.gif?s=128&g=1", "display_name": "postelrich", "link": "https://stackoverflow.com/users/907714/postelrich"}, "edited": false, "score": 0, "creation_date": 1441229147, "post_id": 32362995, "comment_id": 52599404, "body": "Yep, I&#39;ve used pip plenty of times before on other packages."}], "answers": [{"tags": [], "owner": {"reputation": 33, "user_id": 5294233, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e46fb9153d8e4c576dd0d76b6d720927?s=128&d=identicon&r=PG&f=1", "display_name": "AX2", "link": "https://stackoverflow.com/users/5294233/ax2"}, "is_accepted": true, "score": 1, "last_activity_date": 1442599192, "creation_date": 1442599192, "answer_id": 32658315, "question_id": 32362995, "link": "https://stackoverflow.com/questions/32362995/oct2py-cannot-import-name-octave-when-using-spyder-ide/32658315#32658315", "title": "oct2py - cannot import name &#39;octave&#39; when using spyder IDE", "body": "<p>I thought I should update that this is working now. The following time I started Spyder after restarting my computer I ran the same script unchanged and it worked. I presume that my computer just needed restarting after adding Octave to the path. I didn't originally think this was the case since after altering the path I could now run Octave from the command line without restarting, but nothing else changed since the script not working, restarting my computer, and the script working now.</p>\n"}, {"tags": [], "owner": {"reputation": 31, "user_id": 4535564, "user_type": "registered", "profile_image": "https://graph.facebook.com/824509074264217/picture?type=large", "display_name": "\u4e01\u9298\u986f", "link": "https://stackoverflow.com/users/4535564/%e4%b8%81%e9%8a%98%e9%a1%af"}, "is_accepted": false, "score": 0, "last_activity_date": 1463117759, "creation_date": 1463117759, "answer_id": 37201941, "question_id": 32362995, "link": "https://stackoverflow.com/questions/32362995/oct2py-cannot-import-name-octave-when-using-spyder-ide/37201941#37201941", "title": "oct2py - cannot import name &#39;octave&#39; when using spyder IDE", "body": "<p>I met the same problem using Python 2.7.10 and Octave 4.0.2 on Windows 8.1...\nI just modify the oct2py\\core.py file in line 697 by adding the following script.\n<code>\n          executable = executable + 'octave-cli'\n</code>\nwhere the variable executable should be the OCTAVE_EXECUTABLE path. For example,   \"C:\\Octave\\Octave-4.0.2\\bin\". \nMaybe is not a very good way, but it works. </p>\n"}], "owner": {"reputation": 33, "user_id": 5294233, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e46fb9153d8e4c576dd0d76b6d720927?s=128&d=identicon&r=PG&f=1", "display_name": "AX2", "link": "https://stackoverflow.com/users/5294233/ax2"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 905, "favorite_count": 0, "accepted_answer_id": 32658315, "answer_count": 2, "score": 1, "last_activity_date": 1492095330, "creation_date": 1441227524, "last_edit_date": 1492095330, "question_id": 32362995, "link": "https://stackoverflow.com/questions/32362995/oct2py-cannot-import-name-octave-when-using-spyder-ide", "title": "oct2py - cannot import name &#39;octave&#39; when using spyder IDE", "body": "<p>I have python 3.4.3 and octave 3.6.4 installed on my computer. I installed oct2py 3.30 through the command <code>pip install oct2py</code> and there were no errors shown, but when I try to run:</p>\n\n<pre><code>import numpy as np\nfrom oct2py import octave\n</code></pre>\n\n<p>I get the following error: </p>\n\n<pre><code>  File \"C:/Users/myname/myfile.py\", line 2, in &lt;module&gt;\n    from oct2py import octave\n\nImportError: cannot import name 'octave'\n</code></pre>\n\n<p>When looking for an answer I found a post from the creator explaining that when you import octave from oct2py you are importing a convenience instance of the <code>Oct2Py</code> class, so I tried the following:</p>\n\n<pre><code>from oct2py import Oct2Py\n</code></pre>\n\n<p>running this gave me the message:</p>\n\n<pre><code>octave not found.  Please see documentation at:\nhttp://blink1073.github.io/oct2py/source/installation.html\n</code></pre>\n\n<p>but I've already done everything explained in the installation. Octave is in my path and if I open up the command prompt and type <code>octave</code> it will run octave.</p>\n\n<p>edit: It turns out that if I run these commands in python from the command prompt they work, I only get the errors when running them from Spyder IDE. The only problem I can think of is there might be a file in Spyders working directory that conflicts with something, but I can't find anything when looking at the files.</p>\n"}, {"tags": ["python", "c++", "programming-languages", "shared-ptr"], "answers": [{"comments": [{"owner": {"reputation": 426, "user_id": 506624, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/eef361d616082b83f1f1a1e74dc572d8?s=128&d=identicon&r=PG", "display_name": "Kaveh", "link": "https://stackoverflow.com/users/506624/kaveh"}, "edited": false, "score": 0, "creation_date": 1441227833, "post_id": 32362993, "comment_id": 52598851, "body": "I understand it is probably the most common bug, but if I am not mistaken cyclic references is not the only common bug caused by shared_ptr. So e.g. if we <i>hypothetically</i> added a periodic shared_ptr cycle detection would that resolve the dangers of shared_ptr that do not happen with Python objects? Or is there more to why they work well in Python. My impression from the question about dangers of shared_ptr and Google&#39;s C++ style guide was that it is not the only one."}, {"owner": {"reputation": 256589, "user_id": 13005, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c4690b9a0df8a4c1e35c088b077942e6?s=128&d=identicon&r=PG", "display_name": "Steve Jessop", "link": "https://stackoverflow.com/users/13005/steve-jessop"}, "reply_to_user": {"reputation": 426, "user_id": 506624, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/eef361d616082b83f1f1a1e74dc572d8?s=128&d=identicon&r=PG", "display_name": "Kaveh", "link": "https://stackoverflow.com/users/506624/kaveh"}, "edited": false, "score": 0, "creation_date": 1441228076, "post_id": 32362993, "comment_id": 52598943, "body": "@Kaveh: it would certainly help, there are garbage-collecting smart pointer libraries out there and of course the standard now allows for the C++ implementation to do garbage collection too. But until someone specifies what kind of potential bugs they&#39;re talking about, it&#39;s not really possible to assess how the same issues are addressed in Python. Note that Google&#39;s C++ style guide is <i>astonishingly</i> cautious about using C++ features, and doesn&#39;t reflect typical use of C++."}, {"owner": {"reputation": 426, "user_id": 506624, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/eef361d616082b83f1f1a1e74dc572d8?s=128&d=identicon&r=PG", "display_name": "Kaveh", "link": "https://stackoverflow.com/users/506624/kaveh"}, "edited": false, "score": 0, "creation_date": 1441229126, "post_id": 32362993, "comment_id": 52599397, "body": "E.g. the issues mentioned in <a href=\"http://stackoverflow.com/q/701456/\">stackoverflow.com/q/701456</a> (Yes, I know the style guide is kind of tailored towards Google&#39;s existing code base. :)"}, {"owner": {"reputation": 27697, "user_id": 4433386, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/hbHEL.png?s=128&g=1", "display_name": "Marcus M&#252;ller", "link": "https://stackoverflow.com/users/4433386/marcus-m%c3%bcller"}, "edited": false, "score": 0, "creation_date": 1441232584, "post_id": 32362993, "comment_id": 52600714, "body": "Excellent answer. Essentially, what my experience is that over time, you&#39;d do nearly all of the mistakes above and correct your design to avoid that. For example: making constructors private, and enforcing a friend <code>make</code> method that only gives out <code>shared_ptr</code>. No chance to get a non-refcounted object, and unless you explicitely create a shared pointer for an object you got via <code>get()</code> (which would be an obvious mistake), you can&#39;t have to <code>shared_ptr</code> to the same object. Obviously, you&#39;d only do that for large object that need to be handled around."}, {"owner": {"reputation": 256589, "user_id": 13005, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c4690b9a0df8a4c1e35c088b077942e6?s=128&d=identicon&r=PG", "display_name": "Steve Jessop", "link": "https://stackoverflow.com/users/13005/steve-jessop"}, "reply_to_user": {"reputation": 27697, "user_id": 4433386, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/hbHEL.png?s=128&g=1", "display_name": "Marcus M&#252;ller", "link": "https://stackoverflow.com/users/4433386/marcus-m%c3%bcller"}, "edited": false, "score": 0, "creation_date": 1441233628, "post_id": 32362993, "comment_id": 52601044, "body": "@Marcus: personally, there are very few types that I&#39;d force to be heap-allocated, and even so I&#39;d have the factory return <code>unique_ptr</code> and let the user &quot;promote&quot; that to <code>shared_ptr</code> only if the object actually is shared. But that&#39;s details to support more use-cases, I agree that with experience you code defensively against the errors that you know about. If the type has a public constructor and some numpty abuses <code>new</code> instead of using <code>make_shared</code> or <code>make_unique</code> or some other &quot;safe&quot; construction idiom then arguably that&#39;s their fault anyway and should be a reviewer-magnet :-)"}, {"owner": {"reputation": 27697, "user_id": 4433386, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/hbHEL.png?s=128&g=1", "display_name": "Marcus M&#252;ller", "link": "https://stackoverflow.com/users/4433386/marcus-m%c3%bcller"}, "edited": false, "score": 0, "creation_date": 1441236392, "post_id": 32362993, "comment_id": 52601852, "body": "yes, but with a community as diverse like that of GNU Radio, you don&#39;t get a review process, @SteveJessop, you just get a whole ecosystem of out-of-tree modules, that (hopefully) adhere to the coding guidelines the core devs set (primarily by example). Hence, making it hard to make mistakes in non-performance critical parts was crucial to the expansion of the community, IMHO, whereas sticking to raw memory buffers where performance matters made the Software the right choice when shuffling data around that saturates 10 gigabit ethernet lines in hard real time."}], "tags": [], "owner": {"reputation": 256589, "user_id": 13005, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c4690b9a0df8a4c1e35c088b077942e6?s=128&d=identicon&r=PG", "display_name": "Steve Jessop", "link": "https://stackoverflow.com/users/13005/steve-jessop"}, "is_accepted": true, "score": 9, "last_activity_date": 1441232851, "last_edit_date": 1495540420, "creation_date": 1441227515, "answer_id": 32362993, "question_id": 32362884, "link": "https://stackoverflow.com/questions/32362884/c-shared-ptr-vs-python-object/32362993#32362993", "title": "C++ shared_ptr vs. Python object", "body": "<p>\"I know e.g. Python automatically detects cycles\" -- that's what makes them work nicely, at least so far as the \"potential bugs\" relate to memory leaks.</p>\n\n<p>Besides which, C++ programs are more commonly written under tight performance constraints than Python programs (which IMO is a combination of different genuine requirements with some fairly bogus differences in rules-of-thumb, but that's another story). A fairly high proportion of the Python objects I use don't strictly need reference counting, they have exactly one owner and a <code>unique_ptr</code> would be fine (or for that matter a data member of class type). In C++ it's considered (by the people writing the advice you're reading) worth taking the performance advantage and the explicitly simplified design. In Python it's usually not considered a problem, you pay the performance and you keep the flexibility to decide later that it's shared after all without any code change required (other than to take additional references that outlive the original, I mean).</p>\n\n<p>Btw in any language, shared mutable objects have \"potential bugs\" associated with them, if you lose track of what objects will or won't change when you're not looking at them. I don't just mean race conditions: even in a single-threaded program you need to be aware that C++ Predicates shouldn't change anything and that you (often) can't mutate a container while iterating over it. I don't see this as a difference between C++ and Python, though. Rather, to some extent you <em>should</em> be slightly wary of shared objects in Python too, and when you proliferate references to an object at least understand why you're doing it.</p>\n\n<p>So, on to the list of issues in the question you link to:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/a/701711/13005\">cyclic references</a> -- as mentioned, Python rolls its sleeves up, finds them and frees them. For reasons to do with the design and specific uses of the languages, cycle-breaking garbage collection is rather difficult to implement in C++, although not impossible.</li>\n<li><a href=\"https://stackoverflow.com/a/701585/13005\">creating multiple unrelated <code>shared_ptr</code>s to the same object</a> -- no analog is possible in Python, since the reference-counter isn't open to the user to mess up.</li>\n<li><a href=\"https://stackoverflow.com/a/716182/13005\">Constructing an anonymous temporary shared pointer</a> -- doesn't arise in Python, there's no risk of a memory leak that way in Python since there's no \"gap\" in which the object exists but is not yet subject to collection if it becomes unreferenced.</li>\n<li><a href=\"https://stackoverflow.com/a/701471/13005\">Calling the <code>get()</code> function to get the raw pointer and use it after the pointed-to object goes out of scope</a> -- well, you can mess this up if you're writing Python/C, but not in pure Python.</li>\n<li><a href=\"https://stackoverflow.com/a/701471/13005\">Passing a reference of or a raw pointer to a shared_ptr should be dangerous too, since it won't increment the internal count</a> -- there's no means in Python to add a reference without the language taking care of the refcount.</li>\n<li><a href=\"https://stackoverflow.com/a/701552/13005\">we passed 'this' to some thread workers instead of 'shared_from_this'</a> -- in other words, forgot to create a <code>shared_ptr</code> when needed. Can't do this in Python.</li>\n<li><a href=\"https://stackoverflow.com/a/1243689/13005\">most of the predicates you know and love from <code>&lt;functional&gt;</code> don't play nicely with <code>shared_ptr</code></a> -- Python refcounting is so built in to the runtime (or I suppose to be precise I should say: garbage collection is so built in to the language design) that there are no libraries that fail to cope with it.</li>\n<li><a href=\"https://stackoverflow.com/a/2496569/13005\">Using shared_ptr for really small objects (like char short) could be an overhead</a> -- issue exists in Python, and Python programmers generally don't sweat it. If you need an array of \"primitive type\" then you can use <code>numpy</code> to reduce overhead. Sometimes Python programs run out of memory and you need to do something about it, that's life ;-)</li>\n<li><a href=\"https://stackoverflow.com/a/714430/13005\">Giving out a <code>shared_ptr&lt; T &gt;</code> to this inside a class definition is also dangerous. Use <code>enabled_shared_from_this</code> instead</a> -- it may not be obvious, but this is \"don't create multiple unrelated <code>shared_ptr</code> to the same object\" again.</li>\n<li><a href=\"https://stackoverflow.com/a/716859/13005\">You need to be careful when you use <code>shared_ptr</code> in multithread code</a> -- it's possible to create race conditions in Python too, this is part of \"shared mutable objects are tricksy\".</li>\n</ul>\n\n<p>Most of this is to do with the fact that in C++ you have to explicitly do something to get refcounting, and you don't get it if you don't ask for it. This provides several opportunities for error that Python doesn't make available to the programmer because it just does it for you. If you use <code>shared_ptr</code> correctly then apart from the existence of libraries that don't co-operate with it, none of these problems comes up in C++ either. Those who are cautious of using it for these reasons are basically saying they're afraid they'll use it incorrectly, or at any rate more afraid than that they'll misuse some alternative. Much of C++ programming is trading different potential bugs off against each other until you come up with a design that you consider yourself competent to execute. Furthermore it has \"don't pay for what you don't need\" as a design philosophy. Between these two factors, you don't do <em>anything</em> without a really good explanation, a significant benefit, and a carefully checked design. <code>shared_ptr</code> is no different ;-)</p>\n"}, {"comments": [{"owner": {"reputation": 426, "user_id": 506624, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/eef361d616082b83f1f1a1e74dc572d8?s=128&d=identicon&r=PG", "display_name": "Kaveh", "link": "https://stackoverflow.com/users/506624/kaveh"}, "edited": false, "score": 0, "creation_date": 1441228506, "post_id": 32363077, "comment_id": 52599131, "body": "Sorry, but I am not interested in arguing whether shared_ptr are discouraged or not, it is a presumption for my question. You can disagree with it but your answer doesn&#39;t really tell me what I want to know. You are rather argueing that the question is wrong and you have a different experience with them. That is not very helpful."}, {"owner": {"reputation": 209335, "user_id": 661519, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1735ab1c8ba4229daa855ec6aad03065?s=128&d=identicon&r=PG", "display_name": "juanchopanza", "link": "https://stackoverflow.com/users/661519/juanchopanza"}, "edited": false, "score": 0, "creation_date": 1441228533, "post_id": 32363077, "comment_id": 52599142, "body": "<code>shared_ptr</code> is pretty much the last thing you would use though. So it is kind of discouraged. Unless you need shared ownership, of course. But C++ doesn&#39;t force that upon you."}, {"owner": {"reputation": 27697, "user_id": 4433386, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/hbHEL.png?s=128&g=1", "display_name": "Marcus M&#252;ller", "link": "https://stackoverflow.com/users/4433386/marcus-m%c3%bcller"}, "reply_to_user": {"reputation": 209335, "user_id": 661519, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1735ab1c8ba4229daa855ec6aad03065?s=128&d=identicon&r=PG", "display_name": "juanchopanza", "link": "https://stackoverflow.com/users/661519/juanchopanza"}, "edited": false, "score": 0, "creation_date": 1441228744, "post_id": 32363077, "comment_id": 52599238, "body": "@juanchopanza I don&#39;t understand: why that? My experience looks like this: <code>cd gnuradio; git grep shared_ptr|wc</code> yields 630 occurrences."}, {"owner": {"reputation": 27697, "user_id": 4433386, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/hbHEL.png?s=128&g=1", "display_name": "Marcus M&#252;ller", "link": "https://stackoverflow.com/users/4433386/marcus-m%c3%bcller"}, "reply_to_user": {"reputation": 209335, "user_id": 661519, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1735ab1c8ba4229daa855ec6aad03065?s=128&d=identicon&r=PG", "display_name": "juanchopanza", "link": "https://stackoverflow.com/users/661519/juanchopanza"}, "edited": false, "score": 0, "creation_date": 1441228828, "post_id": 32363077, "comment_id": 52599268, "body": "@juanchopanza: I know that anecdotal evidence isn&#39;t an argument; but neither is &quot;this is the last thing you&#39;d use&quot;."}, {"owner": {"reputation": 209335, "user_id": 661519, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1735ab1c8ba4229daa855ec6aad03065?s=128&d=identicon&r=PG", "display_name": "juanchopanza", "link": "https://stackoverflow.com/users/661519/juanchopanza"}, "edited": false, "score": 2, "creation_date": 1441228979, "post_id": 32363077, "comment_id": 52599331, "body": "@MarcusM&#252;ller But maybe they really are needed in gnuradio. My badly made point is that you have to think of ownership in C++, and shared ownership is usually not the best solution. For people used to python, Java or other languages, that might be hard to grasp, so they might have a bias towards over-using shared_ptr."}, {"owner": {"reputation": 426, "user_id": 506624, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/eef361d616082b83f1f1a1e74dc572d8?s=128&d=identicon&r=PG", "display_name": "Kaveh", "link": "https://stackoverflow.com/users/506624/kaveh"}, "reply_to_user": {"reputation": 209335, "user_id": 661519, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1735ab1c8ba4229daa855ec6aad03065?s=128&d=identicon&r=PG", "display_name": "juanchopanza", "link": "https://stackoverflow.com/users/661519/juanchopanza"}, "edited": false, "score": 0, "creation_date": 1441229513, "post_id": 32363077, "comment_id": 52599553, "body": "@juanchopanza, would you expand your point to an answer? That might be what I am looking for, i.e. we don&#39;t need to think about ownership in Python but we need to do so in C++."}, {"owner": {"reputation": 27697, "user_id": 4433386, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/hbHEL.png?s=128&g=1", "display_name": "Marcus M&#252;ller", "link": "https://stackoverflow.com/users/4433386/marcus-m%c3%bcller"}, "reply_to_user": {"reputation": 209335, "user_id": 661519, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1735ab1c8ba4229daa855ec6aad03065?s=128&d=identicon&r=PG", "display_name": "juanchopanza", "link": "https://stackoverflow.com/users/661519/juanchopanza"}, "edited": false, "score": 1, "creation_date": 1441229610, "post_id": 32363077, "comment_id": 52599611, "body": "@juanchopanza ah! ok, yes, I agree. The problem with ownership in GNU Radio is that it&#39;s a very directed-graph oriented application, with lots of buffers that have blocks as in- and outputs; creation of the block however happens from the outside, and it&#39;s often not clear whether a user application wants to hold on to a block, or whether the instance can be deconstructed after execution; shared_ptrs solve this by ref counting and scoping."}, {"owner": {"reputation": 3356, "user_id": 4451432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97b46aba1c1ec6b780b9735f0ec7f885?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya Popov", "link": "https://stackoverflow.com/users/4451432/ilya-popov"}, "reply_to_user": {"reputation": 426, "user_id": 506624, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/eef361d616082b83f1f1a1e74dc572d8?s=128&d=identicon&r=PG", "display_name": "Kaveh", "link": "https://stackoverflow.com/users/506624/kaveh"}, "edited": false, "score": 0, "creation_date": 1441229655, "post_id": 32363077, "comment_id": 52599635, "body": "@Kaveh We don&#39;t need to think about ownership in Python <i>only because</i> it is already taken care of by reference counting."}, {"owner": {"reputation": 209335, "user_id": 661519, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1735ab1c8ba4229daa855ec6aad03065?s=128&d=identicon&r=PG", "display_name": "juanchopanza", "link": "https://stackoverflow.com/users/661519/juanchopanza"}, "reply_to_user": {"reputation": 426, "user_id": 506624, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/eef361d616082b83f1f1a1e74dc572d8?s=128&d=identicon&r=PG", "display_name": "Kaveh", "link": "https://stackoverflow.com/users/506624/kaveh"}, "edited": false, "score": 1, "creation_date": 1441229674, "post_id": 32363077, "comment_id": 52599649, "body": "@Kaveh As Steve Jessop alluded to in his answer, in python most things are shared. So you don&#39;t have to think of it in the sense that you don&#39;t have a choice. But you <i>do</i> have to think of it in the sense that you have to be aware that things you do to an object can affect code a million miles away."}, {"owner": {"reputation": 256589, "user_id": 13005, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c4690b9a0df8a4c1e35c088b077942e6?s=128&d=identicon&r=PG", "display_name": "Steve Jessop", "link": "https://stackoverflow.com/users/13005/steve-jessop"}, "edited": false, "score": 1, "creation_date": 1441231253, "post_id": 32363077, "comment_id": 52600279, "body": "@Marcus: out of interest, does gnuradio have some general trick to prevent uncollected reference loops? Is it <code>weak_ptr</code> all over, or is there some useful property of the design that ensures your graphs are trees/forests?"}, {"owner": {"reputation": 27697, "user_id": 4433386, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/hbHEL.png?s=128&g=1", "display_name": "Marcus M&#252;ller", "link": "https://stackoverflow.com/users/4433386/marcus-m%c3%bcller"}, "reply_to_user": {"reputation": 256589, "user_id": 13005, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c4690b9a0df8a4c1e35c088b077942e6?s=128&d=identicon&r=PG", "display_name": "Steve Jessop", "link": "https://stackoverflow.com/users/13005/steve-jessop"}, "edited": false, "score": 1, "creation_date": 1441232262, "post_id": 32363077, "comment_id": 52600601, "body": "Ah well, our graphs must be cycle free, but not for refcounting purposes, but for processing/causality aspects. The block objects themselves usually don&#39;t hold references to each other, so there&#39;s seldom any chance to build a cycle. In fact, these object communicate only via circular buffers (or what we mmap to fake circ buffers) or via message passing using thread-safe queues (usually, each of the block &quot;runs&quot; in its own thread). It&#39;s job of the scheduler to broker the data in and out. @SteveJessop"}], "tags": [], "owner": {"reputation": 27697, "user_id": 4433386, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/hbHEL.png?s=128&g=1", "display_name": "Marcus M&#252;ller", "link": "https://stackoverflow.com/users/4433386/marcus-m%c3%bcller"}, "is_accepted": false, "score": 1, "last_activity_date": 1441227870, "creation_date": 1441227870, "answer_id": 32363077, "question_id": 32362884, "link": "https://stackoverflow.com/questions/32362884/c-shared-ptr-vs-python-object/32363077#32363077", "title": "C++ shared_ptr vs. Python object", "body": "<blockquote>\n  <p>AFAIK, the use of shared_ptr is often discouraged because of potential bugs caused by careless usage of them (unless you have a really good explanation for significant benefit and carefully checked design).</p>\n</blockquote>\n\n<p>I wouldn't agree. The tendency goes towards generally using these smart pointers unless you have a very good reasons not to do so.</p>\n\n<blockquote>\n  <p>shared_ptr that makes their usage discouraged in C++ but not causing similar problems in Python?</p>\n</blockquote>\n\n<p>Well, I don't know about your favourite largish signal processing framework ecosystem, but <a href=\"http://gnuradio.org\" rel=\"nofollow\">GNU Radio</a> uses shared_ptrs for all their <em>blocks</em>, which are the core elements of the GNU Radio architecture. In fact, blocks are classes, with <code>private</code> constructors, which are only accessible by a <code>friend</code> <code>make</code> function, which returns a <code>shared_ptr</code>. We haven't had problems with this -- and GNU Radio had good reason to adopt such a model. Now, we don't have a single place where users try to use deallocated block objects, not a single block is leaked. Nice!</p>\n\n<p>Also, we use SWIG and a gateway class for a few C++ types that can't just be represented well as Python types. All this works very well on both sides, C++ and Python. In fact, it works so very well, that we can use Python classes as blocks in the C++ runtime, wrapped in shared_ptr.</p>\n\n<p>Also, we never had performance problems. GNU Radio is a high rate, highly optimized, heavily multithreaded framework.</p>\n"}], "owner": {"reputation": 426, "user_id": 506624, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/eef361d616082b83f1f1a1e74dc572d8?s=128&d=identicon&r=PG", "display_name": "Kaveh", "link": "https://stackoverflow.com/users/506624/kaveh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1176, "favorite_count": 0, "accepted_answer_id": 32362993, "answer_count": 2, "score": 3, "last_activity_date": 1441241778, "creation_date": 1441227110, "last_edit_date": 1441241778, "question_id": 32362884, "link": "https://stackoverflow.com/questions/32362884/c-shared-ptr-vs-python-object", "title": "C++ shared_ptr vs. Python object", "body": "<p>AFAIK, the use of shared_ptr is often discouraged because of potential bugs caused by careless usage of them (unless you have a really good explanation for significant benefit and carefully checked design).</p>\n\n<p>On the other hand, Python objects seem to be essentially shared_ptrs (ref_count and garbage collection).</p>\n\n<p>I am wondering what makes them work nicely in Python but potentially dangerous in C++. In other words, what are the differences between Python and C++ in dealing with shared_ptr that makes their usage discouraged in C++ but not causing similar problems in Python?</p>\n\n<p>I know e.g. Python automatically detects cycles between objects which prevents memory leaks that dangling cyclic shared_ptrs can cause in C++.</p>\n"}, {"tags": ["python", "gis", "arcgis", "python-2.5", "arcpy"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user1121588"}, "edited": false, "score": 0, "creation_date": 1441239675, "post_id": 32362832, "comment_id": 52602693, "body": "You might have more luck over here <a href=\"http://gis.stackexchange.com\">gis.stackexchange.com</a> or here <a href=\"https://geonet.esri.com\" rel=\"nofollow noreferrer\">geonet.esri.com</a> given the geographic nature of the data and software you are using."}, {"owner": {"reputation": 11, "user_id": 5294247, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2faa4c9860d5b310b9c76eaca69163f7?s=128&d=identicon&r=PG&f=1", "display_name": "E.Riv15", "link": "https://stackoverflow.com/users/5294247/e-riv15"}, "edited": false, "score": 0, "creation_date": 1441291314, "post_id": 32362832, "comment_id": 52628104, "body": "Thanks for the suggestion! I&#39;ll make sure to post there as well."}], "answers": [{"tags": [], "owner": {"reputation": 3797, "user_id": 720773, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9nOO2.jpg?s=128&g=1", "display_name": "Gary Sheppard", "link": "https://stackoverflow.com/users/720773/gary-sheppard"}, "is_accepted": false, "score": 1, "last_activity_date": 1441293372, "creation_date": 1441293372, "answer_id": 32379544, "question_id": 32362832, "link": "https://stackoverflow.com/questions/32362832/search-and-select-in-arcpy-with-cursors/32379544#32379544", "title": "Search and Select in ArcPy with Cursors", "body": "<p>In general, it's a good approach. But there are some possible improvements in your code that I can see:</p>\n\n<ul>\n<li>Though you do need to make a layer in memory to do the select, you don't need to save it as a layer file.</li>\n<li>You don't need to work with two different feature sets. Just select on the feature layer and use the selection set.</li>\n<li><code>row.OBJECTID = curs.OBJECTID</code> is an assignment, not a comparison. Use <code>==</code> to compare, not <code>=</code>.</li>\n<li>If your repair tool can work with an entire set of features, then just give it the feature layer after you do the selection, and the selection should be honored. If your repair tool takes only one feature, you do need to run <code>SearchCursor</code> like you're doing (but only once). My sample below assumes that the repair tool takes only one feature at a time.</li>\n</ul>\n\n<p>Here's some code that I think does what you need:</p>\n\n<pre><code>Junctions_Lyr = \"Junctions_Lyr\"\ngp.MakeFeatureLayer_management(Junctions, Junctions_Lyr, \"\", \"\", \"\")\ngp.SelectLayerByLocation_management(Junctions_Lyr, \"INTERSECT\", \\\n    Corrupt_Lyr, \"\", \"NEW_SELECTION\")\nfor row in gp.SearchCursor(Junctions_Lyr):\n    pt = row.SHAPE.getPart(0)\n    print(\"TODO run tool on selected feature \" + str(row.OBJECTID) \\\n        + \", x = \" + str(pt.X) + \", y = \" + str(pt.Y))\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 5294247, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2faa4c9860d5b310b9c76eaca69163f7?s=128&d=identicon&r=PG&f=1", "display_name": "E.Riv15", "link": "https://stackoverflow.com/users/5294247/e-riv15"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2103, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1441293372, "creation_date": 1441226881, "question_id": 32362832, "link": "https://stackoverflow.com/questions/32362832/search-and-select-in-arcpy-with-cursors", "title": "Search and Select in ArcPy with Cursors", "body": "<p>I'm working on a tool that identifies features and repairs them using an existing tool. At the moment I am struggling to put my idea into code however.\nThe purpose is to use a search cursor from a Select Features By Location layer to identify and then select features in the original data and execute another tool.\nAs of right now, my code looks something like this (in ArcMap 9.3):</p>\n\n<pre><code>Junctions_Lyr = \"Junctions_Lyr\"\ngp.MakeFeatureLayer_management(Junctions, Junctions_Lyr, \"\", \"\", \"\")\ngp.SelectLayerByLocation_management(Junctions_Lyr, \"INTERSECT\", Corrupt_Lyr, \"\", \"NEW_SELECTION\")\ngp.SaveToLayerFile_management(Junctions_Lyr, \"Junctions.lyr\", Workspace)\nrows = gp.SearchCursor(Junctions, \"OBJECTID\")\ncurs = gp.SearchCursor(Junctions_Lyr, \"OBJECTID\")\nfor row in rows:\n    if row.OBJECTID = curs.OBJECTID:\n        # Something to select the feature and run clean up tool.\n        rows.next()\n    else:\n        rows.next()\n</code></pre>\n\n<p>Essentially, this will (hopefully) select features in the Junctions Feature class if they intersect with a corrupted layer. They will then be selected and saved to file. The original feature class will then have a search cursor run through it, and, if the Object ID matches with one from the Saved Layer file, it will select the feature and run the clean up tool.</p>\n\n<p>Am I approaching this correctly? I think my inability to properly articulate this is making the issue a lot more difficult to resolve.</p>\n"}, {"tags": ["python", "function", "file", "tkinter"], "comments": [{"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1441226901, "post_id": 32362816, "comment_id": 52598397, "body": "Do you mean a silent save/overwrite?"}], "answers": [{"comments": [{"owner": {"reputation": 145, "user_id": 5179976, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh4.googleusercontent.com/-VlfvSEVC02g/AAAAAAAAAAI/AAAAAAAAACE/w6Zzbm22TlU/photo.jpg?sz=128", "display_name": "Starwarsfan2099", "link": "https://stackoverflow.com/users/5179976/starwarsfan2099"}, "edited": false, "score": 0, "creation_date": 1441233108, "post_id": 32363015, "comment_id": 52600886, "body": "This helps, but can I only open a file once and then save it after some changes without having to select the file and open another window.(just click &#39;save&#39; and its done)"}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "reply_to_user": {"reputation": 145, "user_id": 5179976, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh4.googleusercontent.com/-VlfvSEVC02g/AAAAAAAAAAI/AAAAAAAAACE/w6Zzbm22TlU/photo.jpg?sz=128", "display_name": "Starwarsfan2099", "link": "https://stackoverflow.com/users/5179976/starwarsfan2099"}, "edited": false, "score": 0, "creation_date": 1441233688, "post_id": 32363015, "comment_id": 52601059, "body": "Are you properly saving a reference to the file name you got in <code>open_command</code>? The <code>save_file</code> function should simply refer to that saved name. It should be able to do so as many times as needed. Is that reference being deleted somewhere?"}], "tags": [], "owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "is_accepted": true, "score": 1, "last_activity_date": 1441227603, "creation_date": 1441227603, "answer_id": 32363015, "question_id": 32362816, "link": "https://stackoverflow.com/questions/32362816/open-file-and-save-it-in-another-function-with-tkinter/32363015#32363015", "title": "Open file and save it in another function with tkinter", "body": "<p>It sounds like you want a silent save/overwrite, so that a user can open a file, modify it, and then hit Save to update the saved file. I would recommend asking for a file <em>name</em>, as <code>askopenfile</code> asks for the name and then immediately gives you the file object by that name.</p>\n\n<pre><code>self.save_name = tkFileDialog.askopenfilename(title='Select a file')\nwith open(self.save_name, 'rb') as f:\n    self.the_data = f.read() # insert processing here\n</code></pre>\n\n<p>If you ask for just the name, you can save that name and then later use it directly in your save function:</p>\n\n<pre><code>with open(self.save_name, 'wb') as output:\n    output.write(self.the_data) # insert processing here\n</code></pre>\n"}], "owner": {"reputation": 145, "user_id": 5179976, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh4.googleusercontent.com/-VlfvSEVC02g/AAAAAAAAAAI/AAAAAAAAACE/w6Zzbm22TlU/photo.jpg?sz=128", "display_name": "Starwarsfan2099", "link": "https://stackoverflow.com/users/5179976/starwarsfan2099"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 847, "favorite_count": 0, "accepted_answer_id": 32363015, "answer_count": 1, "score": 0, "last_activity_date": 1441227603, "creation_date": 1441226830, "question_id": 32362816, "link": "https://stackoverflow.com/questions/32362816/open-file-and-save-it-in-another-function-with-tkinter", "title": "Open file and save it in another function with tkinter", "body": "<p>I am working on creating a python Tk program and found that saving files is annoying. I have an open button and a save button. For example I call</p>\n\n<pre><code>file = tkFileDialog.askopenfile(mode='rb',title='Select a file')\n</code></pre>\n\n<p>from this function</p>\n\n<pre><code>def open_command(self):\n</code></pre>\n\n<p>In another function</p>\n\n<pre><code>def save_file(self):\n</code></pre>\n\n<p>I want to save the file. To save the file under the same name I have to call</p>\n\n<pre><code>file = tkFileDialog.asksaveasfile(mode='w')\n</code></pre>\n\n<p>again and this opens another window, then it asks you to name the file, and finaly prompts you if you want to overwrite the file. Is there a way to save the file without any windows? Is it possible in any way to not close the file in one function and then write to the file and save it in another function?</p>\n"}, {"tags": ["python", "apache-spark", "pyspark"], "answers": [{"comments": [{"owner": {"reputation": 2062, "user_id": 399111, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/59ec67ecc4c11d01cb34de124f9fc278?s=128&d=identicon&r=PG", "display_name": "MARK", "link": "https://stackoverflow.com/users/399111/mark"}, "edited": false, "score": 0, "creation_date": 1441235497, "post_id": 32364356, "comment_id": 52601617, "body": "Thanks, I just missed it"}, {"owner": {"reputation": 7156, "user_id": 572083, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vXY69.jpg?s=128&g=1", "display_name": "Holden", "link": "https://stackoverflow.com/users/572083/holden"}, "reply_to_user": {"reputation": 2062, "user_id": 399111, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/59ec67ecc4c11d01cb34de124f9fc278?s=128&d=identicon&r=PG", "display_name": "MARK", "link": "https://stackoverflow.com/users/399111/mark"}, "edited": false, "score": 0, "creation_date": 1441235572, "post_id": 32364356, "comment_id": 52601641, "body": "So did I when I first took a look (unfortunately we can&#39;t easily do the same type tricks in Python that we can in Scala to its hard to match the API unless we add some really ugly code)."}], "tags": [], "owner": {"reputation": 7156, "user_id": 572083, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vXY69.jpg?s=128&g=1", "display_name": "Holden", "link": "https://stackoverflow.com/users/572083/holden"}, "is_accepted": true, "score": 9, "last_activity_date": 1461352346, "last_edit_date": 1461352346, "creation_date": 1441233894, "answer_id": 32364356, "question_id": 32362783, "link": "https://stackoverflow.com/questions/32362783/how-to-change-sparkcontext-properties-in-interactive-pyspark-session/32364356#32364356", "title": "How to change SparkContext properties in Interactive PySpark session", "body": "<p>So what your seeing is that the <code>SparkConf</code> isn't a java object, this is happening because its trying to use the <code>SparkConf</code> as the first parameter, if instead you do <code>sc=SparkContext(conf=conf)</code> it should use your configuration. That being said, you might be better of just starting a regular python program rather than stopping the default spark context &amp; re-starting it, but you'll need to use the named parameter technique to pass in the conf object either way.</p>\n"}, {"tags": [], "owner": {"reputation": 1466, "user_id": 3135363, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa11b86a7f3e9ab8bc61e4bd7fee09ae?s=128&d=identicon&r=PG&f=1", "display_name": "abby sobh", "link": "https://stackoverflow.com/users/3135363/abby-sobh"}, "is_accepted": false, "score": 5, "last_activity_date": 1474676186, "creation_date": 1474676186, "answer_id": 39671243, "question_id": 32362783, "link": "https://stackoverflow.com/questions/32362783/how-to-change-sparkcontext-properties-in-interactive-pyspark-session/39671243#39671243", "title": "How to change SparkContext properties in Interactive PySpark session", "body": "<p>The correct way to in-line modify spark settings for a given Spark Context require that the context be closed. For example:</p>\n\n<pre><code>from pyspark import SparkContext\nSparkContext.setSystemProperty('spark.driver.maxResultSize', '10g')\nsc = SparkContext(\"local\", \"App Name\")\n</code></pre>\n\n<p>source: <a href=\"https://spark.apache.org/docs/0.8.1/python-programming-guide.html\" rel=\"noreferrer\">https://spark.apache.org/docs/0.8.1/python-programming-guide.html</a></p>\n\n<p>p.s. if you need to close the SparkContext just use:</p>\n\n<pre><code>SparkContext.stop(sc)\n</code></pre>\n\n<p>and to double check the current settings that have been set you can use:</p>\n\n<pre><code>sc._conf.getAll()\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 161, "user_id": 5140049, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31243f6f477c878027c6585608d2617d?s=128&d=identicon&r=PG&f=1", "display_name": "Micha\u0142 Jab\u0142o\u0144ski", "link": "https://stackoverflow.com/users/5140049/micha%c5%82-jab%c5%82o%c5%84ski"}, "edited": false, "score": 0, "creation_date": 1594225347, "post_id": 51702232, "comment_id": 111054061, "body": "This will <b>not</b> update the <code>spark.driver.memory</code>. See this answer for further details: <a href=\"https://stackoverflow.com/a/62799033/5140049\">stackoverflow.com/a/62799033/5140049</a>"}], "tags": [], "owner": {"reputation": 4082, "user_id": 5019163, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/a3goh.png?s=128&g=1", "display_name": "bob", "link": "https://stackoverflow.com/users/5019163/bob"}, "is_accepted": false, "score": 9, "last_activity_date": 1533539574, "last_edit_date": 1533539574, "creation_date": 1533539177, "answer_id": 51702232, "question_id": 32362783, "link": "https://stackoverflow.com/questions/32362783/how-to-change-sparkcontext-properties-in-interactive-pyspark-session/51702232#51702232", "title": "How to change SparkContext properties in Interactive PySpark session", "body": "<p>update configuration in <strong>Spark 2.3.1</strong></p>\n\n<p>To change the default spark configurations you can follow these steps:</p>\n\n<p><strong>Import the required classes</strong></p>\n\n<pre><code>from pyspark.conf import SparkConf\nfrom pyspark.sql import SparkSession\n</code></pre>\n\n<p><strong>Get the default configurations</strong></p>\n\n<pre><code>spark.sparkContext._conf.getAll()\n</code></pre>\n\n<p><strong>Update the default configurations</strong></p>\n\n<pre><code>conf = spark.sparkContext._conf.setAll([('spark.executor.memory', '4g'), ('spark.app.name', 'Spark Updated Conf'), ('spark.executor.cores', '4'), ('spark.cores.max', '4'), ('spark.driver.memory','4g')])\n</code></pre>\n\n<p><strong>Stop the current Spark Session</strong></p>\n\n<pre><code>spark.sparkContext.stop()\n</code></pre>\n\n<p><strong>Create a Spark Session</strong></p>\n\n<pre><code>spark = SparkSession.builder.config(conf=conf).getOrCreate()\n</code></pre>\n"}], "owner": {"reputation": 2062, "user_id": 399111, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/59ec67ecc4c11d01cb34de124f9fc278?s=128&d=identicon&r=PG", "display_name": "MARK", "link": "https://stackoverflow.com/users/399111/mark"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 22426, "favorite_count": 5, "accepted_answer_id": 32364356, "answer_count": 3, "score": 13, "last_activity_date": 1533539574, "creation_date": 1441226744, "question_id": 32362783, "link": "https://stackoverflow.com/questions/32362783/how-to-change-sparkcontext-properties-in-interactive-pyspark-session", "title": "How to change SparkContext properties in Interactive PySpark session", "body": "<p>How can I change spark.driver.maxResultSize in pyspark interactive shell? I have used the following code </p>\n\n<pre><code>from pyspark import SparkConf, SparkContext\nconf = (SparkConf()\n    .set(\"spark.driver.maxResultSize\", \"10g\"))\nsc.stop()\nsc=SparkContext(conf)\n</code></pre>\n\n<p>but it gives me the error</p>\n\n<pre><code>AttributeError: 'SparkConf' object has no attribute '_get_object_id'\n</code></pre>\n"}, {"tags": ["python", "pip"], "comments": [{"owner": {"reputation": 581, "user_id": 704547, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/cc763bb925375f8868f6cfd4bfa334ca?s=128&d=identicon&r=PG", "display_name": "Kerry Hatcher", "link": "https://stackoverflow.com/users/704547/kerry-hatcher"}, "edited": false, "score": 0, "creation_date": 1446574427, "post_id": 32362767, "comment_id": 54795807, "body": "You downloaded the windows version from <a href=\"https://www.python.org/downloads/\" rel=\"nofollow noreferrer\">python.org/downloads</a> ? PIP should in included."}], "answers": [{"tags": [], "owner": {"reputation": 135876, "user_id": 99834, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/63c50004c4f6eaf3235b9ea836f4b6cf?s=128&d=identicon&r=PG", "display_name": "sorin", "link": "https://stackoverflow.com/users/99834/sorin"}, "is_accepted": false, "score": 0, "last_activity_date": 1448543005, "creation_date": 1448543005, "answer_id": 33939452, "question_id": 32362767, "link": "https://stackoverflow.com/questions/32362767/exceptions-import-sslerror-insecureplatformwarning-when-using-pip-python3-4-wi/33939452#33939452", "title": "exceptions import SSLError, InsecurePlatformWarning when using pip, python3.4 win32", "body": "<p>Please assure that you are running pip module that was intalled in the include path of your python version.</p>\n\n<p>You can do this via <code>python -m pip install &lt;somemodule&gt;</code>. If this fails you probably do not have the right module.</p>\n\n<p>Also, you may want to install the modules for current user only, by using <code>python -m pip install --user &lt;somemodule&gt;</code></p>\n"}], "owner": {"reputation": 51, "user_id": 5294169, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a0dd0fb219804baa41500be848aca34?s=128&d=identicon&r=PG&f=1", "display_name": "Yihan Bao", "link": "https://stackoverflow.com/users/5294169/yihan-bao"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1010, "favorite_count": 1, "answer_count": 1, "score": 5, "last_activity_date": 1448543005, "creation_date": 1441226661, "question_id": 32362767, "link": "https://stackoverflow.com/questions/32362767/exceptions-import-sslerror-insecureplatformwarning-when-using-pip-python3-4-wi", "title": "exceptions import SSLError, InsecurePlatformWarning when using pip, python3.4 win32", "body": "<p>I installed Python 3.4.0, but I can't use pip. So then I installed pip from python.org. Then I set PATH.\nwhen I use pip, it reports these:</p>\n\n<pre><code>  C:\\Users\\think\\Downloads\\pip-7.1.2&gt;pip\n    Traceback (most recent call last):\n      File \"C:\\Python34\\lib\\runpy.py\", line 171, in _run_module_as_main\n        \"__main__\", mod_spec)\n      File \"C:\\Python34\\lib\\runpy.py\", line 86, in _run_code\n        exec(code, run_globals)\n     ...\n  File \"C:\\Python34\\lib\\site-packages\\pip\\_vendor\\requests\\packages\\urllib3\\conn\nectionpool.py\", line 33, in &lt;module&gt;\n    from .connection import (\n  File \"C:\\Python34\\lib\\site-packages\\pip\\_vendor\\requests\\packages\\urllib3\\conn\nection.py\", line 41, in &lt;module&gt;\n    from .util import (\n  File \"C:\\Python34\\lib\\site-packages\\pip\\_vendor\\requests\\packages\\urllib3\\util\n\\__init__.py\", line 5, in &lt;module&gt;\n    from .ssl_ import (\n  File \"C:\\Python34\\lib\\site-packages\\pip\\_vendor\\requests\\packages\\urllib3\\util\n\\ssl_.py\", line 4, in &lt;module&gt;\n    from ..exceptions import SSLError, InsecurePlatformWarning\nImportError: cannot import name 'InsecurePlatformWarning'\n</code></pre>\n\n<p>Python3.4.0 on Win32</p>\n"}, {"tags": ["python", "css-selectors", "lxml"], "comments": [{"owner": {"reputation": 10660, "user_id": 4907767, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/To1v7.jpg?s=128&g=1", "display_name": "gtlambert", "link": "https://stackoverflow.com/users/4907767/gtlambert"}, "edited": false, "score": 0, "creation_date": 1441229816, "post_id": 32362755, "comment_id": 52599726, "body": "Would you mind posting your code please?"}], "answers": [{"comments": [{"owner": {"reputation": 35319, "user_id": 871910, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/f073f5ca74b61813e689bbda8d12ba2b?s=128&d=identicon&r=PG", "display_name": "zmbq", "link": "https://stackoverflow.com/users/871910/zmbq"}, "edited": false, "score": 0, "creation_date": 1441270322, "post_id": 32363059, "comment_id": 52613640, "body": "ARGH! This is someone else&#39;s code I&#39;m working on. Turns out they used lxml.html.clean.clean_html to clean the HTML. The default behavior (which they used) is to drop all &#39;unsafe&#39; attributes, including this one."}], "tags": [], "owner": {"reputation": 10660, "user_id": 4907767, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/To1v7.jpg?s=128&g=1", "display_name": "gtlambert", "link": "https://stackoverflow.com/users/4907767/gtlambert"}, "is_accepted": true, "score": 1, "last_activity_date": 1441227796, "creation_date": 1441227796, "answer_id": 32363059, "question_id": 32362755, "link": "https://stackoverflow.com/questions/32362755/lxml-cssselect-cssselector-doesnt-support-attributes/32363059#32363059", "title": "lxml.cssselect CSSSelector doesn&#39;t support attributes", "body": "<p>I don't have expertise with <code>lxml.cssselect</code> (I've had a quick go and can't even set up the element tree, so have been unable to replicate your exact problem). However, I have had success using an equivalent <code>lxml</code> method that may be of use to you.  </p>\n\n<pre><code>from lxml import html\nimport requests\n\nurl = 'http://abcnews.go.com/US/wireStory/man-jail-writing-racist-graffiti-refugees-homes-33488053'\npage = requests.get(url)\n\ntree = html.fromstring(page.text)\np_elements = tree.cssselect('p[itemprop=\"articleBody\"]')\nprint(p_elements)\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>[&lt;Element p at 0xa503ae8&gt;,\n &lt;Element p at 0xa503db8&gt;,\n &lt;Element p at 0xa503bd8&gt;,\n &lt;Element p at 0xa54b1d8&gt;,\n &lt;Element p at 0xa54b0e8&gt;,\n &lt;Element p at 0xa54b138&gt;,\n &lt;Element p at 0xa54b188&gt;]\n</code></pre>\n\n<p>Generally, when using <code>lxml</code> I find that selecting elements by XPath is far more flexible than by CSS selector.</p>\n"}], "owner": {"reputation": 35319, "user_id": 871910, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/f073f5ca74b61813e689bbda8d12ba2b?s=128&d=identicon&r=PG", "display_name": "zmbq", "link": "https://stackoverflow.com/users/871910/zmbq"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1133, "favorite_count": 0, "accepted_answer_id": 32363059, "answer_count": 1, "score": 1, "last_activity_date": 1441227796, "creation_date": 1441226637, "question_id": 32362755, "link": "https://stackoverflow.com/questions/32362755/lxml-cssselect-cssselector-doesnt-support-attributes", "title": "lxml.cssselect CSSSelector doesn&#39;t support attributes", "body": "<p>I'm trying to parse HTML pages and get items with specific attributes. I'm using <a href=\"http://lxml.de/cssselect.html\" rel=\"nofollow\"><code>lxml.cssselect</code></a> for the job.</p>\n\n<p>I can't seem to get it to work with attribute selector. The following selector: <code>p[itemprop=\"articleBody\"]</code> returns nothing on <a href=\"http://abcnews.go.com/US/wireStory/man-jail-writing-racist-graffiti-refugees-homes-33488053\" rel=\"nofollow\">this page</a> for example. Using the same selector from Firefox or Chrome works.</p>\n\n<p>When I try selectors with no attributes, they do work.</p>\n\n<p>I create the CSSSelector with the <code>html</code> translator.</p>\n\n<p>Is this kind of selector simply not supported by lxml.cssselect? I couldn't find any reference to it in the docs.</p>\n"}, {"tags": ["python", "python-3.x"], "answers": [{"tags": [], "owner": {"reputation": 923, "user_id": 5224291, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b101e6ab63ba8eada8f369fa164481c4?s=128&d=identicon&r=PG&f=1", "display_name": "Cody Bouche", "link": "https://stackoverflow.com/users/5224291/cody-bouche"}, "is_accepted": false, "score": 0, "last_activity_date": 1441226764, "creation_date": 1441226764, "answer_id": 32362792, "question_id": 32362748, "link": "https://stackoverflow.com/questions/32362748/i-dont-know-why-my-python-code-isnt-working/32362792#32362792", "title": "I dont know why my python code isnt working", "body": "<p>if you are using python2 then use raw_input() instead of input()   </p>\n\n<pre><code>print(\"{0} is a very {1} person. They usually spend all their time {2}.\".format(input(\"Please enter a name: \"), input(\"Please enter an adjective: \"), input(\"Please eneter an ing verb: \")))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11096, "user_id": 541208, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/2dfc2e563d2150994a6e06ef37f9e7be?s=128&d=identicon&r=PG", "display_name": "TankorSmash", "link": "https://stackoverflow.com/users/541208/tankorsmash"}, "is_accepted": false, "score": 0, "last_activity_date": 1441226816, "creation_date": 1441226816, "answer_id": 32362811, "question_id": 32362748, "link": "https://stackoverflow.com/questions/32362748/i-dont-know-why-my-python-code-isnt-working/32362811#32362811", "title": "I dont know why my python code isnt working", "body": "<p>Split your line of code up into smaller pieces, see which one throws an error, and go from there. </p>\n\n<p>The error is telling you it can't deal with a modulo operation between <code>None</code> and a <code>str</code> object. </p>\n\n<p>Make sure you are dealing with strings all the way through before using modulo.</p>\n"}, {"tags": [], "owner": {"reputation": 599, "user_id": 4871242, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-vbEiPNJ4tX0/AAAAAAAAAAI/AAAAAAAAABQ/IzaEhRJL8xg/photo.jpg?sz=128", "display_name": "Rob Foley", "link": "https://stackoverflow.com/users/4871242/rob-foley"}, "is_accepted": false, "score": 2, "last_activity_date": 1441227003, "creation_date": 1441227003, "answer_id": 32362866, "question_id": 32362748, "link": "https://stackoverflow.com/questions/32362748/i-dont-know-why-my-python-code-isnt-working/32362866#32362866", "title": "I dont know why my python code isnt working", "body": "<p>You misplaced your parenthesis. If you have more than one <code>%</code> formatted item in the string, you must wrap the arguments in parenthesis (a tuple).</p>\n\n<pre><code>print(\"%s is a very %s person. They usually spend all their time %s.\" % (input(\"Please enter a name: \"), input(\"Please enter an adjective: \"), input(\"Please eneter an ing verb: \")))\n</code></pre>\n\n<p>That is a functioning version. Make sure you take the time to understand the parenthesis used.</p>\n"}], "owner": {"reputation": 7, "user_id": 5294280, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f70995edf0da9628b9368ae09957ca8?s=128&d=identicon&r=PG&f=1", "display_name": "chaz", "link": "https://stackoverflow.com/users/5294280/chaz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "closed_date": 1441240641, "answer_count": 3, "score": -5, "last_activity_date": 1441227003, "creation_date": 1441226587, "last_edit_date": 1441226693, "question_id": 32362748, "link": "https://stackoverflow.com/questions/32362748/i-dont-know-why-my-python-code-isnt-working", "closed_reason": "Not suitable for this site", "title": "I dont know why my python code isnt working", "body": "<p>I am very new to this, so I have no idea why this is wrong. Please help.</p>\n\n<p>Thanks if you help.</p>\n\n<pre><code>print(\"%s is a very %s person. They usually spend all their time %s.\") % input(\"Please enter a name: \"), input(\"Please enter an adjective: \"), input(\"Please eneter an ing verb: \")\n</code></pre>\n\n<p>This is the error I get:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"C:\\Python34\\firstthingy.py\", line 1, in &lt;module&gt;\n    print(\"%s is a very %s person. They usually spend all their time %s.\") % input(\"Please enter a name: \"), input(\"Please enter an adjective: \"), input(\"Please eneter an ing verb: \")\nTypeError: unsupported operand type(s) for %: 'NoneType' and 'str'\n</code></pre>\n"}, {"tags": ["python", "numpy", "types", "complex-numbers"], "comments": [{"owner": {"reputation": 288763, "user_id": 487339, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wbe4o.png?s=128&g=1", "display_name": "DSM", "link": "https://stackoverflow.com/users/487339/dsm"}, "edited": false, "score": 0, "creation_date": 1441226876, "post_id": 32362707, "comment_id": 52598383, "body": "Just to be clear, do you want to forbid complex arguments with no imaginary part as well?  Would <code>2+0j</code> be disallowed?"}, {"owner": {"reputation": 3124, "user_id": 883431, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/dea352e5d1aa10cbb295772745dbec1a?s=128&d=identicon&r=PG", "display_name": "norio", "link": "https://stackoverflow.com/users/883431/norio"}, "reply_to_user": {"reputation": 288763, "user_id": 487339, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wbe4o.png?s=128&g=1", "display_name": "DSM", "link": "https://stackoverflow.com/users/487339/dsm"}, "edited": false, "score": 0, "creation_date": 1441228374, "post_id": 32362707, "comment_id": 52599074, "body": "I think it is better to forbid complex arguments with their imaginary parts zero. I would like to make sure that users of the function are aware that the function is only for real variable. If a user is aware of this and is sure that the imaginary part of a variable being passed is zero, then he/she can just take the real part by <code>.real</code>."}], "answers": [{"comments": [{"owner": {"reputation": 288763, "user_id": 487339, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wbe4o.png?s=128&g=1", "display_name": "DSM", "link": "https://stackoverflow.com/users/487339/dsm"}, "edited": false, "score": 0, "creation_date": 1441229137, "post_id": 32362886, "comment_id": 52599401, "body": "The first one will let complex-dtype arrays pass, and the second will let complex dtype arrays with 0 imaginary part pass, which the OP has clarified shouldn&#39;t pass."}, {"owner": {"reputation": 4955, "user_id": 5274205, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3a281a1418dbceeda34cc93d3744554?s=128&d=identicon&r=PG", "display_name": "Chad S.", "link": "https://stackoverflow.com/users/5274205/chad-s"}, "reply_to_user": {"reputation": 288763, "user_id": 487339, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wbe4o.png?s=128&g=1", "display_name": "DSM", "link": "https://stackoverflow.com/users/487339/dsm"}, "edited": false, "score": 0, "creation_date": 1441229489, "post_id": 32362886, "comment_id": 52599537, "body": "From the function given I was assuming that vara was a scalar, not an array but you could add another type to the <code>complex_types</code> list to account for array variables also."}, {"owner": {"reputation": 3124, "user_id": 883431, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/dea352e5d1aa10cbb295772745dbec1a?s=128&d=identicon&r=PG", "display_name": "norio", "link": "https://stackoverflow.com/users/883431/norio"}, "edited": false, "score": 0, "creation_date": 1441229801, "post_id": 32362886, "comment_id": 52599717, "body": "Sorry for the contradiction in the text of my question. I said I want to allow numpy array but I had  <code>if vara&lt;0:</code> in the example. The example was not good."}], "tags": [], "owner": {"reputation": 4955, "user_id": 5274205, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3a281a1418dbceeda34cc93d3744554?s=128&d=identicon&r=PG", "display_name": "Chad S.", "link": "https://stackoverflow.com/users/5274205/chad-s"}, "is_accepted": false, "score": 1, "last_activity_date": 1441230817, "last_edit_date": 1441230817, "creation_date": 1441227110, "answer_id": 32362886, "question_id": 32362707, "link": "https://stackoverflow.com/questions/32362707/how-to-make-sure-in-python-that-an-input-argument-is-not-complex-valued-but-real/32362886#32362886", "title": "How to make sure in python that an input argument is not complex-valued but real-valued", "body": "<p>If you want to only forbid complex data types this will do the trick:</p>\n\n<pre><code>import types\n\nscalar_complex_types = [types.ComplexType, np.complex64, np.complex128]\n\ndef is_complex_sequence(vara):\n    return (hasattr(vara, '__iter__') \n             and any(isinstance(v, t) for v in vara for t in complex_types)\n\ndef is_complex_scalar(vara):\n    return any(isinstance(vara, t) for t in complex_types)\n</code></pre>\n\n<p>Then in your function you can just..</p>\n\n<pre><code>if is_complex_scalar(vara) or is_complex_sequence(vara):\n    raise ValueError('Argument must not be a complex number')\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3124, "user_id": 883431, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/dea352e5d1aa10cbb295772745dbec1a?s=128&d=identicon&r=PG", "display_name": "norio", "link": "https://stackoverflow.com/users/883431/norio"}, "is_accepted": false, "score": 0, "last_activity_date": 1441233772, "creation_date": 1441233772, "answer_id": 32364333, "question_id": 32362707, "link": "https://stackoverflow.com/questions/32362707/how-to-make-sure-in-python-that-an-input-argument-is-not-complex-valued-but-real/32364333#32364333", "title": "How to make sure in python that an input argument is not complex-valued but real-valued", "body": "<p>(I am answering to my own question. I am not sure this is the best way, but I wanted to leave a code that I tried for record.)</p>\n\n<p>Based on polpak's answer, I wrote the following code. I guess this would satisfy the conditions I raised. The function is pedantic in that it rejects any other types of input argument than float scaler or float ndarray. (Perhaps it does not even accept all kinds of float ndarray.) Particularly, it rejects integer scaler and integer ndarray as well as complex scaler and complex ndarray.</p>\n\n<pre><code>#!/usr/bin/python\n\nimport numpy as np\nimport types\n\ndef foo(vara):\n    \"\"\"vara must be a real-valued scaler or ndarray.\"\"\"\n\n    real_types = [types.FloatType, np.float16, np.float32, np.float64, np.float128]\n    print '----------'\n    print 'vara:', vara\n    if isinstance(vara, np.ndarray):\n        if not any(vara.dtype==t for t in real_types):\n            print 'NG.'\n            print '   type(vara)=', type(vara)\n            print '   vara.dtype=', vara.dtype\n            # raise an error here\n        else:\n            print 'OK.'\n            print '   type(vara)=', type(vara)\n            print '   vara.dtype=', vara.dtype\n    else:\n        if not any(isinstance(vara, t) for t in real_types):\n            print 'NG.'\n            print '   type(vara)=', type(vara)\n            # raise an error here\n        else:\n            print 'OK.'\n            print '   type(vara)=', type(vara)\n\n\nvaralist=[3.0, \n          np.array([0.5, 0.2]), \n          np.array([3, 4, 1]), \n          np.array([3.4+1.2j, 0.8+0.7j]),\n          np.array([3.4+0.0j, 0.8+0.0j]),\n          np.array([1.3, 4.2, 5.9], dtype=complex),\n          np.array([1.3, 4.2, 5.9], dtype=complex).real ]\n\nfor vara  in varalist:\n    foo(vara)\n</code></pre>\n\n<p>The output of this code was as following.</p>\n\n<pre><code>$ ./main003.py \n----------\nvara: 3.0\nOK.\n   type(vara)= &lt;type 'float'&gt;\n----------\nvara: [ 0.5  0.2]\nOK.\n   type(vara)= &lt;type 'numpy.ndarray'&gt;\n   vara.dtype= float64\n----------\nvara: [3 4 1]\nNG.\n   type(vara)= &lt;type 'numpy.ndarray'&gt;\n   vara.dtype= int64\n----------\nvara: [ 3.4+1.2j  0.8+0.7j]\nNG.\n   type(vara)= &lt;type 'numpy.ndarray'&gt;\n   vara.dtype= complex128\n----------\nvara: [ 3.4+0.j  0.8+0.j]\nNG.\n   type(vara)= &lt;type 'numpy.ndarray'&gt;\n   vara.dtype= complex128\n----------\nvara: [ 1.3+0.j  4.2+0.j  5.9+0.j]\nNG.\n   type(vara)= &lt;type 'numpy.ndarray'&gt;\n   vara.dtype= complex128\n----------\nvara: [ 1.3  4.2  5.9]\nOK.\n   type(vara)= &lt;type 'numpy.ndarray'&gt;\n   vara.dtype= float64\n</code></pre>\n"}], "owner": {"reputation": 3124, "user_id": 883431, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/dea352e5d1aa10cbb295772745dbec1a?s=128&d=identicon&r=PG", "display_name": "norio", "link": "https://stackoverflow.com/users/883431/norio"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 371, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1441233772, "creation_date": 1441226473, "last_edit_date": 1441226695, "question_id": 32362707, "link": "https://stackoverflow.com/questions/32362707/how-to-make-sure-in-python-that-an-input-argument-is-not-complex-valued-but-real", "title": "How to make sure in python that an input argument is not complex-valued but real-valued", "body": "<p>I am writing a function in python for scientific computation. One of the arguments of this function represents a real-valued input parameter. If a complex value is passed as this argument, the result of the function will be incorrect because I am not implementing a special care needed for the case of complex-valued input, but the function will return an incorrect value without error or exception because each line in the function is valid in terms of syntax. </p>\n\n<p>For example, please consider a function like this:</p>\n\n<pre><code>import numpy as np\ndef foo(vara):\n    \"\"\"\n    This function evaluates the Foo formula for the real variable vara.\n    This function does not work for the complex variable vara because I am \n    too lazy to take care of the branch cut of the complex square-root function.\n    \"\"\"\n    if vara&lt;0:\n        vv = -0.57386286*vara\n    else:\n        vv =  3.49604327*vara\n    return np.sqrt(vv)\n</code></pre>\n\n<p>The function <code>foo</code> will return a complex value even if the argument <code>vara</code> is complex because <code>numpy.sqrt</code> function is also defined for complex argument, but the returned value will be incorrect supposing that the function <code>foo</code> was implemented with only real argument in mind.</p>\n\n<p>How can I check in the function that an argument is real-valued so that I can make the function throw an exception or exit by error otherwise? </p>\n\n<p>Please not that I want to keep the function working for both the native <code>float</code> type of python as well as an numpy array of <code>float</code> type elements. I just want to prohibit the use of the function with a <code>complex</code> variable or a numpy array of <code>complex</code> elements.</p>\n\n<p>(I thought of multiplying <code>1.0j</code> to the argument and checking that the real part of the result is zero, but this does not look neat.)</p>\n"}, {"tags": ["python", "linux", "embedded", "pyqt5", "yocto"], "comments": [{"owner": {"reputation": 7633, "user_id": 4093778, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-j10KcVcKn4A/AAAAAAAAAAI/AAAAAAAAAdE/AgrehO6_eJo/photo.jpg?sz=128", "display_name": "Anders", "link": "https://stackoverflow.com/users/4093778/anders"}, "edited": false, "score": 1, "creation_date": 1441259829, "post_id": 32362706, "comment_id": 52607754, "body": "Unfortunately not the answer you&#39;d like... Personally, I&#39;d look into adding PyQt5 to my own layer. (And later on submitting it to a suitable open layer). There&#39;s a <code>python-pyqt</code> recipe in <code>meta-oe</code> that //might// be of some help; though there are differences between Qt4 and Qt5 in OpenEmbedded / Yocto."}], "answers": [{"comments": [{"owner": {"reputation": 741, "user_id": 6542361, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e76817f81febd8c7a6059cbb70c8c3a?s=128&d=identicon&r=PG&f=1", "display_name": "GandhiGandhi", "link": "https://stackoverflow.com/users/6542361/gandhigandhi"}, "edited": false, "score": 0, "creation_date": 1575658446, "post_id": 46950544, "comment_id": 104653133, "body": "Fixed link <a href=\"https://github.com/meta-qt5/meta-qt5/tree/master/recipes-python/pyqt5\" rel=\"nofollow noreferrer\">github.com/meta-qt5/meta-qt5/tree/master/recipes-python/pyqt&zwnj;&#8203;5</a>"}], "tags": [], "owner": {"reputation": 4401, "user_id": 6484851, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/bd11c011c9a94229018130c04526c5ab?s=128&d=identicon&r=PG&f=1", "display_name": "yoctotutor.com", "link": "https://stackoverflow.com/users/6484851/yoctotutor-com"}, "is_accepted": false, "score": 0, "last_activity_date": 1509009902, "creation_date": 1509009902, "answer_id": 46950544, "question_id": 32362706, "link": "https://stackoverflow.com/questions/32362706/how-do-i-deploy-a-python-pyqt5-application-to-an-embedded-linux/46950544#46950544", "title": "How do I deploy a Python PyQt5 Application to an embedded Linux?", "body": "<p>You can see the link\n<a href=\"https://github.com/meta-qt5/meta-qt5/blob/master/recipes-python/pyqt5/python-pyqt5_5.8.2.bb\" rel=\"nofollow noreferrer\">python-pyqt5</a></p>\n"}], "owner": {"reputation": 254, "user_id": 5260936, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f2a588dc969a24155e24627969e61e3a?s=128&d=identicon&r=PG&f=1", "display_name": "shofstetter", "link": "https://stackoverflow.com/users/5260936/shofstetter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1356, "favorite_count": 1, "answer_count": 1, "score": 6, "last_activity_date": 1509009902, "creation_date": 1441226471, "question_id": 32362706, "link": "https://stackoverflow.com/questions/32362706/how-do-i-deploy-a-python-pyqt5-application-to-an-embedded-linux", "title": "How do I deploy a Python PyQt5 Application to an embedded Linux?", "body": "<p>I've written a Python3 application which uses PyQt5 for the GUI, it runs fine on every desktop system.\nNow I would like to run this on an embedded linux (specifically: Yocto BSP) which is delivered by the hardware manufacturer. Since there's no PyQt5 but a qt5 and python3 package running on the BSP, I would like to (somehow) make a standalone executable of the application. Plus I'm not experienced with writing bitbake recipes and creating a custom BSP and have not found any existing PyQt5 recipes.</p>\n\n<p>What I've tried so far (and did not succeed):</p>\n\n<ul>\n<li>Make a standalone executable with nuitka, cx-freeze, pyinstaller (compiled on a similiar arm platform)</li>\n<li>Use pyqtdeploy to convert python into c++ source code, then compile it by using the supplied build-environment. I did a static compile of the pyqt5 and sip packages and everything compiles just fine, but <code>make</code> reports undefined references (linker errors) which I cannot resolve (as I'm not very familiar with c++).</li>\n</ul>\n\n<p>Now what's the best approach to let a python/pyqt5 application run on an embedded linux system with very limited packages?</p>\n"}, {"tags": ["python", "base36"], "comments": [{"owner": {"reputation": 2145, "user_id": 2403000, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/2303300fa4b29197c3a11eea331afdbf?s=128&d=identicon&r=PG", "display_name": "Peter", "link": "https://stackoverflow.com/users/2403000/peter"}, "edited": false, "score": 0, "creation_date": 1441227078, "post_id": 32362659, "comment_id": 52598490, "body": "Couldn&#39;t you just check it doesn&#39;t contain any non base36 characters?"}], "answers": [{"tags": [], "owner": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "is_accepted": true, "score": 0, "last_activity_date": 1441227621, "creation_date": 1441227621, "answer_id": 32363021, "question_id": 32362659, "link": "https://stackoverflow.com/questions/32362659/check-if-a-string-is-a-base36-id/32363021#32363021", "title": "Check if a string is a base36 id?", "body": "<p>Catch the <code>int</code> constructor's exception, like so:</p>\n\n<pre><code>In [3]: try:\n   ...:     int('abc!d', 36)\n   ...: except ValueError:\n   ...:     print \"Nope\"\n</code></pre>\n\n<p>Sample program:</p>\n\n<pre><code>def base36_check(s):\n    try:\n        int(s, 36)\n        return True\n    except ValueError:\n        return False\n\n\nprint base36_check('abcdefg')\nprint base36_check('abc!efg')\n</code></pre>\n"}], "owner": {"reputation": 378, "user_id": 4443677, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3c945857edadde07c77324db0a75d183?s=128&d=identicon&r=PG&f=1", "display_name": "13steinj", "link": "https://stackoverflow.com/users/4443677/13steinj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 103, "favorite_count": 0, "accepted_answer_id": 32363021, "answer_count": 1, "score": 0, "last_activity_date": 1441227621, "creation_date": 1441226335, "question_id": 32362659, "link": "https://stackoverflow.com/questions/32362659/check-if-a-string-is-a-base36-id", "title": "Check if a string is a base36 id?", "body": "<p>Assuming I have a function <code>base36-2check</code>,</p>\n\n<p>And a user can input a string, how would I check that that string is base36? </p>\n"}, {"tags": ["python", "animation", "numpy", "matplotlib", "orbital-mechanics"], "comments": [{"owner": {"reputation": 62045, "user_id": 1461210, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fa93b9461ed24899945403cae69e02ee?s=128&d=identicon&r=PG", "display_name": "ali_m", "link": "https://stackoverflow.com/users/1461210/ali-m"}, "edited": false, "score": 0, "creation_date": 1441237739, "post_id": 32362599, "comment_id": 52602185, "body": "Could you clarify what exactly you want to move with your artist? From the wording of your question it sounds like you want to move the whole figure window around on the screen, but from your pseudocode it looks like you&#39;re trying to make the axes move around within the figure window. Perhaps you just want to update the data x and y limits for the axes. Which one is it?"}, {"owner": {"reputation": 333, "user_id": 3151828, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/4796b8103fb62e06946150a8624d87ba?s=128&d=identicon&r=PG&f=1", "display_name": "user3151828", "link": "https://stackoverflow.com/users/3151828/user3151828"}, "reply_to_user": {"reputation": 62045, "user_id": 1461210, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fa93b9461ed24899945403cae69e02ee?s=128&d=identicon&r=PG", "display_name": "ali_m", "link": "https://stackoverflow.com/users/1461210/ali-m"}, "edited": false, "score": 0, "creation_date": 1441243799, "post_id": 32362599, "comment_id": 52603492, "body": "I want to move the whole figure window, but wouldn&#39;t that be done through adjusting the limits for the axes?"}, {"owner": {"reputation": 62045, "user_id": 1461210, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fa93b9461ed24899945403cae69e02ee?s=128&d=identicon&r=PG", "display_name": "ali_m", "link": "https://stackoverflow.com/users/1461210/ali-m"}, "edited": false, "score": 0, "creation_date": 1441282699, "post_id": 32362599, "comment_id": 52621626, "body": "No, changing the axis limits (e.g. using <code>ax.set_xlim</code> and <code>ax.set_ylim</code>) changes the ranges of x and y data values that are represented within the axis area without changing the shape or position of either the axes or the figure. Moving the actual figure window around is not something that matplotlib is really designed to do. It&#39;s possible, but I&#39;m not aware of any backend-independent way to do it. Bear in mind that you would need to set the position of the figure window in terms of screen pixels, so you would need to specify some transformation to map between data and screen coordinates."}, {"owner": {"reputation": 333, "user_id": 3151828, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/4796b8103fb62e06946150a8624d87ba?s=128&d=identicon&r=PG&f=1", "display_name": "user3151828", "link": "https://stackoverflow.com/users/3151828/user3151828"}, "reply_to_user": {"reputation": 62045, "user_id": 1461210, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fa93b9461ed24899945403cae69e02ee?s=128&d=identicon&r=PG", "display_name": "ali_m", "link": "https://stackoverflow.com/users/1461210/ali-m"}, "edited": false, "score": 0, "creation_date": 1441284552, "post_id": 32362599, "comment_id": 52622976, "body": "Oh, so instead of moving the whole figure window (maybe I misunderstood what the figure window actually is) could I still kind of &quot;pan&quot; the camera so that the view stays centered on one object by changing the axes limits?"}], "answers": [{"comments": [{"owner": {"reputation": 333, "user_id": 3151828, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/4796b8103fb62e06946150a8624d87ba?s=128&d=identicon&r=PG&f=1", "display_name": "user3151828", "link": "https://stackoverflow.com/users/3151828/user3151828"}, "edited": false, "score": 0, "creation_date": 1441309356, "post_id": 32380357, "comment_id": 52638889, "body": "Oh! I didn&#39;t think about calling the axes into simPoints. This is exactly what I needed."}], "tags": [], "owner": {"reputation": 4987, "user_id": 3100515, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dZSlO.jpg?s=128&g=1", "display_name": "Ajean", "link": "https://stackoverflow.com/users/3100515/ajean"}, "is_accepted": true, "score": 1, "last_activity_date": 1441295741, "creation_date": 1441295741, "answer_id": 32380357, "question_id": 32362599, "link": "https://stackoverflow.com/questions/32362599/python-matplotlib-centering-figure-around-a-moving-artist/32380357#32380357", "title": "Python Matplotlib: Centering figure around a moving artist", "body": "<p>Assuming that you actually just want to adjust the Axes limits to \"follow\" one of your planets, you can access the planet's center just like you did to assign it - the planets and the axes are all <strong>global variables</strong>.</p>\n\n<p>These modifications to <code>simPoints</code> keeps the blue planet at the center of your axes.</p>\n\n<pre><code>def simPoints(simData):\n    x, t = simData[0], simData[1]\n    time_text.set_text(time_template%(t))\n    line.set_data(t, x)\n    ctr = planet1.center\n    ax.set_xlim(ctr[0]-430000000, ctr[0]+430000000)\n    ax.set_ylim(ctr[1]-430000000, ctr[1]+430000000)\n    return line, time_text\n</code></pre>\n"}], "owner": {"reputation": 333, "user_id": 3151828, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/4796b8103fb62e06946150a8624d87ba?s=128&d=identicon&r=PG&f=1", "display_name": "user3151828", "link": "https://stackoverflow.com/users/3151828/user3151828"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 581, "favorite_count": 0, "accepted_answer_id": 32380357, "answer_count": 1, "score": 1, "last_activity_date": 1441295741, "creation_date": 1441226094, "question_id": 32362599, "link": "https://stackoverflow.com/questions/32362599/python-matplotlib-centering-figure-around-a-moving-artist", "title": "Python Matplotlib: Centering figure around a moving artist", "body": "<p>I've asked this question before very poorly, so I'm going to try to go into a little more detail.</p>\n\n<p>I have made some planetary orbit programs, and I would like to know if I could possibly center the figure around an artist that changes position, so that the figure window moves, instead of staying at (0,0)</p>\n\n<p>So if the center of the artist is defined in simData like so:</p>\n\n<pre><code>planet1.center = x1,y1\n</code></pre>\n\n<p>I assume somewhere there'd have to be something something like this:</p>\n\n<pre><code>ax = plt.axes(xlim=(x1-430000000, x1+430000000), ylim=(y1-430000000, y1+430000000))\n</code></pre>\n\n<p>Which I cannot do because I can't call out those variables. Plus, the axes and figure are only defined once at the beginning of the program.</p>\n\n<p>Here's my code, 4 planets in orbital motion:</p>\n\n<pre><code>import numpy as np\nimport matplotlib.pyplot as plt\nimport math\nimport matplotlib.animation as animation\nimport pdb\n\ner = 6378100#m\nmr = 1737400#m\nsr = 696000000\nem = 2*5.97219*10**24#kg\nmm = 7.34767309*10**22#kg\nsm = 1.989*10**30\nsed = 150000000000\nemd = 384400000\n\nm1 = em\nm2 = mm*4\nm3 = mm*2\nm4 = mm*3\nr1 = mr*10*6\nr2 = mr*10*3\nr3 = mr*10*1.2\nr4 = mr*10*2\nnts = 10000\nts = 10000\nG = 6.67384*10**(-11)\n\n\ndef simData():\n    tmax = ts*nts\n    t = 0\n    x = 0\n    x1 = 384400000*0.8*0\n    y1 = 384400000*0.8*0\n    x2 = 384400000*0.8\n    y2 = -384400000*0.8*0\n    x3 = -384400000*0.8\n    y3 = 384400000*0.8*0\n    x4 = -384400000*0.8*0\n    y4 = -384400000*0.8\n    Vx1 = 0\n    Vy1 = 0\n    Vx2 = 800\n    Vy2 = 1700\n    Vx3 = 0\n    Vy3 = -1500\n    Vx4 = 2000\n    Vy4 = 0\n    d12 = math.sqrt((x1-x2)**2+(y1-y2)**2)\n    d23 = math.sqrt((x2-x3)**2+(y2-y3)**2)\n    d13 = math.sqrt((x1-x3)**2+(y1-y3)**2)\n    d14 = math.sqrt((x1-x4)**2+(y1-y4)**2)\n    d24 = math.sqrt((x2-x4)**2+(y2-y4)**2)\n    d34 = math.sqrt((x3-x4)**2+(y3-y4)**2)\n    while t &lt; tmax:\n        Fg12 = G*(m1*m2)/d12**2\n        Fgx12 = -Fg12*((x1-x2))/d12\n        Fgy12 = -Fg12*((y1-y2))/d12\n\n        Fgx21 = -Fg12*((x2-x1))/d12\n        Fgy21 = -Fg12*((y2-y1))/d12\n\n        Fg13 = G*(m1*m3)/d13**2\n        Fgx13 = -Fg13*((x1-x3))/d13\n        Fgy13 = -Fg13*((y1-y3))/d13\n\n        Fgx31 = -Fg13*((x3-x1))/d13\n        Fgy31 = -Fg13*((y3-y1))/d13\n\n        Fg23 = G*(m3*m2)/d23**2\n        Fgx23 = -Fg23*((x2-x3))/d23\n        Fgy23 = -Fg23*((y2-y3))/d23\n\n        Fgx32 = -Fg23*((x3-x2))/d23\n        Fgy32 = -Fg23*((y3-y2))/d23\n\n        Fg14 = G*(m1*m4)/d14**2\n        Fgx14 = -Fg14*((x1-x4))/d14\n        Fgy14 = -Fg14*((y1-y4))/d14\n\n        Fgx41 = -Fg14*((x4-x1))/d14\n        Fgy41 = -Fg14*((y4-y1))/d14\n\n        Fg24 = G*(m2*m4)/d24**2\n        Fgx24 = -Fg24*((x2-x4))/d24\n        Fgy24 = -Fg24*((y2-y4))/d24\n\n        Fgx42 = -Fg24*((x4-x2))/d24\n        Fgy42 = -Fg24*((x4-x2))/d24\n\n        Fg34 = G*(m3*m4)/d34**2\n        Fgx34 = -Fg34*((x3-x4))/d34\n        Fgy34 = -Fg34*((y3-y4))/d34\n\n        Fgx43 = -Fg34*((x4-x3))/d34\n        Fgy43 = -Fg34*((y4-y3))/d34\n\n        Ax1 = Fgx12/m1 + Fgx13/m1 + Fgx14/m1\n        Ay1 = Fgy12/m1 + Fgy13/m1 + Fgy14/m1\n\n        Ax2 = Fgx21/m2 + Fgx23/m2 + Fgx24/m2\n        Ay2 = Fgy21/m2 + Fgy23/m2 + Fgy24/m2\n\n        Ax3 = Fgx32/m3 + Fgx31/m3 + Fgx34/m3\n        Ay3 = Fgy32/m3 + Fgy31/m3 + Fgy34/m3\n\n        Ax4 = Fgx41/m4 + Fgx42/m4 + Fgx43/m4\n        Ay4 = Fgy41/m4 + Fgy42/m4 + Fgx43/m4\n\n        Vx1 = Vx1+Ax1*ts\n        Vy1 = Vy1+Ay1*ts\n\n        Vx2 = Vx2+Ax2*ts\n        Vy2 = Vy2+Ay2*ts\n\n        Vx3 = Vx3+Ax3*ts\n        Vy3 = Vy3+Ay3*ts\n\n        Vx4 = Vx4+Ax4*ts\n        Vy4 = Vy4+Ay4*ts\n\n        x1 = x1 + Vx1*ts\n        y1 = y1 + Vy1*ts\n\n        x2 = x2 + Vx2*ts\n        y2 = y2 + Vy2*ts\n\n        x3 = x3 + Vx3*ts\n        y3 = y3 + Vy3*ts\n\n        x4 = x4 + Vx4*ts\n        y4 = y4 + Vy4*ts\n\n        planet1.center = x1,y1\n        planet2.center = x2,y2\n        planet3.center = x3,y3\n        planet4.center = x4,y4\n\n        d12 = math.sqrt((x1-x2)**2+(y1-y2)**2)\n        d23 = math.sqrt((x2-x3)**2+(y2-y3)**2)\n        d13 = math.sqrt((x1-x3)**2+(y1-y3)**2)\n        d14 = math.sqrt((x1-x4)**2+(y1-y4)**2)\n        d24 = math.sqrt((x2-x4)**2+(y2-y4)**2)\n        d34 = math.sqrt((x3-x4)**2+(y3-y4)**2)\n\n        t = t+ts\n\n        yield x, t\n\ndef simPoints(simData):\n    x, t = simData[0], simData[1]\n    time_text.set_text(time_template%(t))\n    line.set_data(t, x)\n    return line, time_text\n\nfig = plt.figure()\nax = plt.axes(xlim=(-430000000, 430000000), ylim=(-430000000, 430000000))\nax.set_aspect(\"equal\")\nline, = ax.plot([], [], '', ms=10)\n\n\n\nplanet1 = plt.Circle((0,0), r1, facecolor=(0,0,1))\nax.add_artist(planet1)\n\nplanet2 = plt.Circle((0,0), r2, facecolor=(1,0,0))\nax.add_artist(planet2)\n\nplanet3 = plt.Circle((0,0), r3, facecolor=(1,1,0))\nax.add_artist(planet3)\n\nplanet4 = plt.Circle((0,0), r4, facecolor=(0,1,0))\nax.add_artist(planet4)\n\ntime_template = 'Time = %.1f s'    # prints running simulation time\ntime_text = ax.text(0.05, 0.9, '', transform=ax.transAxes)\n\nani = animation.FuncAnimation(fig, simPoints, simData, blit=False,\\\n     interval=10, repeat=True)\n\nplt.show()\n</code></pre>\n"}, {"tags": ["python", "networking", "network-programming", "mininet"], "answers": [{"tags": [], "owner": {"reputation": 551, "user_id": 3770020, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/650f8d52a1f0c503e4b34697da4dcab0?s=128&d=identicon&r=PG&f=1", "display_name": "Anusha", "link": "https://stackoverflow.com/users/3770020/anusha"}, "is_accepted": false, "score": 1, "last_activity_date": 1461579336, "creation_date": 1461579336, "answer_id": 36837694, "question_id": 32362586, "link": "https://stackoverflow.com/questions/32362586/custom-topology-in-mininet/36837694#36837694", "title": "Custom Topology in Mininet", "body": "<p>Since you are setting the controller to  be remote, <code>--controller=remote</code>, you need to provide a controller explicitly. </p>\n\n<p>For example, if you are using POX, \nIn another terminal, run this:</p>\n\n<p><code>cd pox\n./pox.py openflow.discovery forwarding.l2_learning</code></p>\n\n<p>Now do a <code>pingall</code> in the mininet console, there should be 0% packet loss </p>\n"}], "owner": {"reputation": 1, "user_id": 3475848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ceff14bf1364c5788f0854ae57ff210?s=128&d=identicon&r=PG&f=1", "display_name": "user3475848", "link": "https://stackoverflow.com/users/3475848/user3475848"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 699, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1461579336, "creation_date": 1441226018, "question_id": 32362586, "link": "https://stackoverflow.com/questions/32362586/custom-topology-in-mininet", "title": "Custom Topology in Mininet", "body": "<p>I want to create a custom topology using Python API and mininet. It should be such that, if there are n number of hosts, then odd numbered hosts can ping each other and also even numbered hosts can ping each other.</p>\n\n<p>For example, if we have 5 hosts, h1 .. to h5,\nthen h1 can ping h3 and h5, while h2 can only ping h4.</p>\n\n<p>I have tried writing code, in which I added links between all even hosts and between all odd hosts. But I am not able to get the desired outcome. h1 is able to ping h3, but not h5.</p>\n\n<p>Also, is it correct to define links between hosts? Or should we only have links between hosts and switches and within switches?</p>\n"}, {"tags": ["python", "module", "packages"], "comments": [{"owner": {"reputation": 209114, "user_id": 1427416, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/QWHKg.png?s=128&g=1", "display_name": "BrenBarn", "link": "https://stackoverflow.com/users/1427416/brenbarn"}, "edited": false, "score": 0, "creation_date": 1441226033, "post_id": 32362570, "comment_id": 52597914, "body": "Is the <code>Package</code> directory on <code>sys.path</code>?"}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1441226397, "post_id": 32362570, "comment_id": 52598120, "body": "That seems like a very odd way to structure your project. Have a look at e.g. <a href=\"http://www.jeffknupp.com/blog/2013/08/16/open-sourcing-a-python-project-the-right-way/\" rel=\"nofollow noreferrer\">jeffknupp.com/blog/2013/08/16/&hellip;</a>"}, {"owner": {"reputation": 49, "user_id": 5294178, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0b488a503bebc92b4499e3b472ea323c?s=128&d=identicon&r=PG&f=1", "display_name": "josh", "link": "https://stackoverflow.com/users/5294178/josh"}, "edited": false, "score": 0, "creation_date": 1441229968, "post_id": 32362570, "comment_id": 52599778, "body": "Thank you. Will re-think my project structure."}], "answers": [{"comments": [{"owner": {"reputation": 49, "user_id": 5294178, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0b488a503bebc92b4499e3b472ea323c?s=128&d=identicon&r=PG&f=1", "display_name": "josh", "link": "https://stackoverflow.com/users/5294178/josh"}, "edited": false, "score": 0, "creation_date": 1441229913, "post_id": 32363467, "comment_id": 52599757, "body": "That&#39;s great! I really appreciate you taking your time to answer the question with such detail!  I will re-think my project structure!"}], "tags": [], "owner": {"reputation": 862, "user_id": 1401328, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/028e87d9ce85ac61731deeca61c369df?s=128&d=identicon&r=PG", "display_name": "loganasherjones", "link": "https://stackoverflow.com/users/1401328/loganasherjones"}, "is_accepted": true, "score": 1, "last_activity_date": 1441229493, "creation_date": 1441229493, "answer_id": 32363467, "question_id": 32362570, "link": "https://stackoverflow.com/questions/32362570/python-nesting-modules/32363467#32363467", "title": "Python Nesting Modules", "body": "<h2>Quick Fix</h2>\n\n<p>A quick fix to this problem is, in the file <code>abc.py</code> add the following to the top of the file:</p>\n\n<pre><code>import sys\nimport os\nsys.path.append(os.path.abspath(os.path.join(os.path.dirname(__file__), '..', '..')))\n</code></pre>\n\n<p><strong>However, this is really not that correct.</strong> I have some serious questions about the way you're structuring your project and believe the below section will help greatly.</p>\n\n<h2>Better Solution</h2>\n\n<p>In general, if you're designing a module to be imported, you want your project structure to look something like this:</p>\n\n<pre><code>package_name/\n  /* setup.py and other misc files */\n  package_name/\n    __init__.py\n    /* module files go here */\n  test/\n    /* tests go here */\n</code></pre>\n\n<p>The top level <code>package_name/</code> is really just for holding the project. It will contain your <code>setup.py</code>, possibly configuration things etc.  </p>\n\n<p>Underneath the top level, we have another directory called <code>package_name</code>. This is where all your actual python code will go. </p>\n\n<p>Also underneath the top level, we have another directory called <code>test</code>. This is where all the tests should go. I would strongly consider using <a href=\"https://nose.readthedocs.org/en/latest/\" rel=\"nofollow\">nose</a> to test your python application.</p>\n\n<h2>Example</h2>\n\n<p>Let's build a quick example of what you are trying to accomplish. The final product will have the following structure/files:</p>\n\n<pre><code>my_project/\n  my_project/\n    __init__.py\n    my_class.py\n  test/\n    test_my_class.py\n</code></pre>\n\n<p>The contents of <code>my_class.py</code> are:</p>\n\n<pre><code>class MyClass(object):\n\n  def test(self):\n    return True\n</code></pre>\n\n<p>The contents of <code>test_my_class.py</code> are:</p>\n\n<pre><code>import unittest\nfrom my_project.my_class import MyClass\n\nclass TestMyClass(unittest.TestCase):\n\n  def test_my_class(self):\n    c = MyClass()\n    self.assertEqual(c.test(), True)\n</code></pre>\n\n<p>Now, if you <a href=\"https://nose.readthedocs.org/en/latest/\" rel=\"nofollow\">install nose</a> you should be able to (from the top level of your project) run <code>nosetests</code>.  </p>\n\n<p>There are tons of tutorials out there for how to do this. But for brevity's sake, I'll let you do some searching on your own. </p>\n\n<p>Hope this helps.</p>\n"}], "owner": {"reputation": 49, "user_id": 5294178, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0b488a503bebc92b4499e3b472ea323c?s=128&d=identicon&r=PG&f=1", "display_name": "josh", "link": "https://stackoverflow.com/users/5294178/josh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 756, "favorite_count": 0, "accepted_answer_id": 32363467, "answer_count": 1, "score": 1, "last_activity_date": 1441229493, "creation_date": 1441225966, "last_edit_date": 1441226352, "question_id": 32362570, "link": "https://stackoverflow.com/questions/32362570/python-nesting-modules", "title": "Python Nesting Modules", "body": "<p>I have spent a lot of time researching this and still cannot understand why I keep getting ImportErrors: No module named ...</p>\n\n<p>My file structure is as follows:</p>\n\n<pre><code>/Package\n    /mode\n        __init__.py\n        moduletoimport.py\n        /test\n            __init__.py\n            abc.py\n</code></pre>\n\n<p>File <code>moduletoimport.py</code> contains:</p>\n\n<pre><code>class ClassToImport(object):\n    def test(self):\n        return True\n</code></pre>\n\n<p>File <code>abc.py</code> contains the following code:</p>\n\n<pre><code>from mode.moduletoimport import ClassToImport\n</code></pre>\n\n<p>From the terminal I type:</p>\n\n<pre><code>python abc.py\n</code></pre>\n\n<p>The aim here is to import a module that is up the directory.</p>\n"}, {"tags": ["python", "django"], "comments": [{"owner": {"reputation": 4230, "user_id": 1912128, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/YyM8r.png?s=128&g=1", "display_name": "taesu", "link": "https://stackoverflow.com/users/1912128/taesu"}, "edited": false, "score": 1, "creation_date": 1441225976, "post_id": 32362537, "comment_id": 52597883, "body": "is history_date__minute an <code>int</code> or <code>datetime</code> format"}, {"owner": {"reputation": 1444, "user_id": 3749797, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/f05fbf0ad238d047560f402ffddabddc?s=128&d=identicon&r=PG&f=1", "display_name": "Nick", "link": "https://stackoverflow.com/users/3749797/nick"}, "reply_to_user": {"reputation": 4230, "user_id": 1912128, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/YyM8r.png?s=128&g=1", "display_name": "taesu", "link": "https://stackoverflow.com/users/1912128/taesu"}, "edited": false, "score": 0, "creation_date": 1441226314, "post_id": 32362537, "comment_id": 52598069, "body": "history_date is a datetime, history_date__minute is an int."}, {"owner": {"reputation": 6847, "user_id": 1081569, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8682dc66d5900d9645a8dff1316495e1?s=128&d=identicon&r=PG", "display_name": "Paulo Almeida", "link": "https://stackoverflow.com/users/1081569/paulo-almeida"}, "edited": false, "score": 1, "creation_date": 1441226337, "post_id": 32362537, "comment_id": 52598091, "body": "What version of Django are you using?"}, {"owner": {"reputation": 6847, "user_id": 1081569, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8682dc66d5900d9645a8dff1316495e1?s=128&d=identicon&r=PG", "display_name": "Paulo Almeida", "link": "https://stackoverflow.com/users/1081569/paulo-almeida"}, "reply_to_user": {"reputation": 21174, "user_id": 636625, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/EuUH4.jpg?s=128&g=1", "display_name": "Shang Wang", "link": "https://stackoverflow.com/users/636625/shang-wang"}, "edited": false, "score": 1, "creation_date": 1441227317, "post_id": 32362537, "comment_id": 52598605, "body": "@ShangWang <a href=\"https://docs.djangoproject.com/en/1.8/ref/models/querysets/#minute\" rel=\"nofollow noreferrer\">minute is a field lookup for datetime fields</a>."}, {"owner": {"reputation": 21174, "user_id": 636625, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/EuUH4.jpg?s=128&g=1", "display_name": "Shang Wang", "link": "https://stackoverflow.com/users/636625/shang-wang"}, "reply_to_user": {"reputation": 6847, "user_id": 1081569, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8682dc66d5900d9645a8dff1316495e1?s=128&d=identicon&r=PG", "display_name": "Paulo Almeida", "link": "https://stackoverflow.com/users/1081569/paulo-almeida"}, "edited": false, "score": 1, "creation_date": 1441227570, "post_id": 32362537, "comment_id": 52598712, "body": "@PauloAlmeida: Ah that&#39;s good to know. But the doc also says: <b>For datetime fields, an exact minute match. Takes an integer between 0 and 59.</b> Sounds like <code>lte</code> and <code>gte</code> is not supported."}, {"owner": {"reputation": 46016, "user_id": 2615075, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f23ab144c48263fa1c4cf43ae46fb70d?s=128&d=identicon&r=PG", "display_name": "knbk", "link": "https://stackoverflow.com/users/2615075/knbk"}, "reply_to_user": {"reputation": 21174, "user_id": 636625, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/EuUH4.jpg?s=128&g=1", "display_name": "Shang Wang", "link": "https://stackoverflow.com/users/636625/shang-wang"}, "edited": false, "score": 4, "creation_date": 1441227984, "post_id": 32362537, "comment_id": 52598911, "body": "@ShangWang is right. <code>lte</code>, <code>gte</code> etc. are not yet supported in any release version. They are supported in the development version. See the last note in the <a href=\"https://docs.djangoproject.com/en/dev/ref/models/querysets/#minute\" rel=\"nofollow noreferrer\">dev docs</a>."}], "owner": {"reputation": 1444, "user_id": 3749797, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/f05fbf0ad238d047560f402ffddabddc?s=128&d=identicon&r=PG&f=1", "display_name": "Nick", "link": "https://stackoverflow.com/users/3749797/nick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 62, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1441225836, "creation_date": 1441225836, "question_id": 32362537, "link": "https://stackoverflow.com/questions/32362537/django-query-object-property-with-comparison", "title": "Django query object property with comparison", "body": "<p>I have a bunch of history objects in my db that I need to query to see if the minute on that date is between two minutes. I want to do something like this:</p>\n\n<pre><code>h = Thing.history.filter(\n    Q(history_date__minute__lte=40) &amp; Q(history_date__minute__gte=20),\n    id=thing_id\n)\n</code></pre>\n\n<p>But I get an error trying to do this:</p>\n\n<pre><code>FieldError: Unsupported lookup 'minute' for DateTimeField or join on the field not permitted.\n</code></pre>\n\n<p>How do I achieve this effect in Django?</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 599, "user_id": 4871242, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-vbEiPNJ4tX0/AAAAAAAAAAI/AAAAAAAAABQ/IzaEhRJL8xg/photo.jpg?sz=128", "display_name": "Rob Foley", "link": "https://stackoverflow.com/users/4871242/rob-foley"}, "edited": false, "score": 0, "creation_date": 1441225989, "post_id": 32362526, "comment_id": 52597887, "body": "Why are you editing a module that is presumably loaded at the time of use? That is typically for interpreter usage."}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 6, "creation_date": 1441225991, "post_id": 32362526, "comment_id": 52597888, "body": "I very strongly recommend rethinking your algorithm instead of pursuing this method of repeatedly modifying and reimporting a source file."}, {"owner": {"reputation": 19, "user_id": 5294203, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4cc7783247f5293a171658abffa86f4f?s=128&d=identicon&r=PG&f=1", "display_name": "Zrman2012", "link": "https://stackoverflow.com/users/5294203/zrman2012"}, "edited": false, "score": 0, "creation_date": 1441226144, "post_id": 32362526, "comment_id": 52597976, "body": "Well bassicaly I need to be able to write and save variables and be able to use them directly after they get written."}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 1, "creation_date": 1441226217, "post_id": 32362526, "comment_id": 52598023, "body": "And the way you do that is by writing an ordinary text file that is <i>separate</i> from your source code. Take a look at file I/O in the <a href=\"https://docs.python.org/3.4/tutorial\" rel=\"nofollow noreferrer\">official Python tutorial</a>."}, {"owner": {"reputation": 19, "user_id": 5294203, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4cc7783247f5293a171658abffa86f4f?s=128&d=identicon&r=PG&f=1", "display_name": "Zrman2012", "link": "https://stackoverflow.com/users/5294203/zrman2012"}, "edited": false, "score": 0, "creation_date": 1441226462, "post_id": 32362526, "comment_id": 52598152, "body": "Yes but how exactly do I load it into my script?"}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 1, "creation_date": 1441226521, "post_id": 32362526, "comment_id": 52598187, "body": "By reading the file. It&#39;s kind of hard to tell what you actually wanted to do in the first place, hidden as it is by this <a href=\"http://meta.stackexchange.com/questions/66377/what-is-the-xy-problem\">XY Problem</a>."}, {"owner": {"reputation": 11350, "user_id": 1172714, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21b9325e81df235c9f3fbadd082ab651?s=128&d=identicon&r=PG", "display_name": "dsh", "link": "https://stackoverflow.com/users/1172714/dsh"}, "edited": false, "score": 1, "creation_date": 1441227092, "post_id": 32362526, "comment_id": 52598505, "body": "As indicated, use the file I/O operations to write and read files.  I would use <a href=\"https://docs.python.org/3/library/json.html\" rel=\"nofollow noreferrer\"><code>json</code></a> as the file format."}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1441227160, "post_id": 32362526, "comment_id": 52598539, "body": "If this information will be used while the program is running, save it to variables. If you want to be able to recall that information after closing and restarting the program, save it to a file on exit and then read it back in on startup."}], "answers": [{"tags": [], "owner": {"reputation": 476, "user_id": 710557, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/19912a28f5cfe61971d8eb553bb2be01?s=128&d=identicon&r=PG&f=1", "display_name": "laphiloctete", "link": "https://stackoverflow.com/users/710557/laphiloctete"}, "is_accepted": true, "score": 0, "last_activity_date": 1441412975, "last_edit_date": 1495540328, "creation_date": 1441412975, "answer_id": 32408318, "question_id": 32362526, "link": "https://stackoverflow.com/questions/32362526/python-how-do-i-reload-the-py-file-not-the-pyc-file/32408318#32408318", "title": "Python how do I reload the .py file not the .pyc file?", "body": "<p>Try using the file object's .flush() method after writing.</p>\n\n<p>So:</p>\n\n<pre><code>make(2, \"name\", \"'Bob'\")\n\ndef re(module):\n        reload(module)\n        print\"Reloaded \"+ str(module)\n\n\ndef make(0-1-2, var, data):\n    if 0-1-2 == 1:\n        TempF.write(var+\" = \"+data)\n        TempF.write(\"\\n\")\n        TempF.flush()\n        re(Temp)\n\n    if 0-1-2 == 2:\n        PermF.write(var+\" = \"+data)\n        PermF.write(\"\\n\")\n        PermF.flush()\n        re(Perm)\n\n    if 0-1-2 == 0:\n        MiscF.write(var+\" = \"+data)\n        MiscF.write(\"\\n\")\n        MiscF.flush()\n        re(Misc)\n</code></pre>\n\n<p>See:\n<a href=\"https://stackoverflow.com/questions/7127075/what-exactly-the-pythons-file-flush-is-doing\">what exactly the python&#39;s file.flush() is doing?</a></p>\n"}], "owner": {"reputation": 19, "user_id": 5294203, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4cc7783247f5293a171658abffa86f4f?s=128&d=identicon&r=PG&f=1", "display_name": "Zrman2012", "link": "https://stackoverflow.com/users/5294203/zrman2012"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 403, "favorite_count": 0, "accepted_answer_id": 32408318, "answer_count": 1, "score": 0, "last_activity_date": 1441412975, "creation_date": 1441225790, "question_id": 32362526, "link": "https://stackoverflow.com/questions/32362526/python-how-do-i-reload-the-py-file-not-the-pyc-file", "title": "Python how do I reload the .py file not the .pyc file?", "body": "<p>I'm making a script in python that writes code to a .py file in the fourm of variables (e.g x = 6). The problem is when I import it to use the variables and then write some code to it I need to use reload() to refresh the import I quess and allow me to use the variable but it wont reload the .py file it will only reload the .pyc file.</p>\n\n<p>Heres some code to help (not so sure it will :/)</p>\n\n<p>I call a function that writes the data to the .py file and then calls a function to reloading the module but it ends up reload the .pyc</p>\n\n<pre><code>make(2, \"name\", \"'Bob'\")\n\ndef re(module):\n        reload(module)\n        print\"Reloaded \"+ str(module)\n\n\ndef make(0-1-2, var, data):\n    if 0-1-2 == 1:\n        TempF.write(var+\" = \"+data)\n        TempF.write(\"\\n\")\n        re(Temp)\n\n    if 0-1-2 == 2:\n        PermF.write(var+\" = \"+data)\n        PermF.write(\"\\n\")\n        re(Perm)\n\n    if 0-1-2 == 0:\n        MiscF.write(var+\" = \"+data)\n        MiscF.write(\"\\n\")\n        re(Misc)\n\n\n    Reloaded &lt;module 'Perm' from 'C:\\Users\\Admin\\PycharmProjects\\DeanRobbieRowe\\Perm.pyc'&gt;\n</code></pre>\n"}, {"tags": ["python", "multithreading", "sockets", "input"], "comments": [{"owner": {"reputation": 3299, "user_id": 3059438, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eD9iZ.png?s=128&g=1", "display_name": "pasztorpisti", "link": "https://stackoverflow.com/users/3059438/pasztorpisti"}, "edited": false, "score": 1, "creation_date": 1441226576, "post_id": 32362524, "comment_id": 52598218, "body": "On the main thread you should wait for the CClient thread to finish instead of exiting, or simply you should execute stuff on the main thread instead of creating another thread."}, {"owner": {"reputation": 1013, "user_id": 2565581, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/eb741e84594f4fd862f67796cb524a38?s=128&d=identicon&r=PG", "display_name": "petehallw", "link": "https://stackoverflow.com/users/2565581/petehallw"}, "reply_to_user": {"reputation": 3299, "user_id": 3059438, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eD9iZ.png?s=128&g=1", "display_name": "pasztorpisti", "link": "https://stackoverflow.com/users/3059438/pasztorpisti"}, "edited": false, "score": 0, "creation_date": 1441228556, "post_id": 32362524, "comment_id": 52599150, "body": "That seemed to do the trick...is it because there is nothing else being executed in the main thread after that <code>inputMsg</code> thread is started?"}], "owner": {"reputation": 1013, "user_id": 2565581, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/eb741e84594f4fd862f67796cb524a38?s=128&d=identicon&r=PG", "display_name": "petehallw", "link": "https://stackoverflow.com/users/2565581/petehallw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 30, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1441225783, "creation_date": 1441225783, "question_id": 32362524, "link": "https://stackoverflow.com/questions/32362524/thread-not-starting-no-prompt-for-user-input-python", "title": "Thread not starting - no prompt for user input (Python)", "body": "<p>I'm implementing a simple messaging application using Python. I've defined a client <code>CClient</code> which instantiates a <code>CMsgGateway</code> and then begins a thread which asks the user for input (while 1). The client is as follows:     </p>\n\n<pre><code>from msginterface import CMsgGateway\n\nclass CClient():\n\n    def __init__(self):\n        self.port = 2400\n        self.msgGate = CMsgGateway(self.port)\n        Thread(target=self.inputMsg).start()\n\n    def inputMsg(self):\n        while 1:\n            msg = input(\"Enter message:\")\n            self.msgGate.sendMsg(msg)\n\nif __name__ == '__main__':\n    cmdchat = CClient()\n</code></pre>\n\n<p>The message gateway listens for messages being received in a separate thread (while 1). This class is defined as:</p>\n\n<pre><code>from threading import Thread\nimport socket, struct, sys\n\nclass CMsgGateway():\n    def __init__(self, port):  \n\n        self.port = port\n        print(\"Listening on port \" + str(self.port) + \".\\n\")\n        Thread(target=self.serve).start()\n\n    def serve(self):\n        while 1:\n            self.sock = socket.socket(socket.AF_INET, socket.SOCK_STREAM)\n            self.sock.setsockopt(socket.SOL_SOCKET, socket.SO_REUSEADDR, 1)\n            self.sock.bind((\"\", self.port))\n            self.sock.listen(1)   \n            self.rcvMsg()\n\n    def rcvMsg(self):\n        serverSocket, info = self.sock.accept()\n        while 1:\n        try:            \n            buf = bytearray(4000)\n            view = memoryview(buf)\n            bytes = serverSocket.recv_into(view, 4000)\n            if bytes:\n                stx = view[0]\n                Size = view[1:3]\n                bSize = Size.tobytes()\n                nTuple = struct.unpack(\"&gt;H\", bSize)\n                nSize = nTuple[0]\n                message = view[0:3+nSize]\n                messageString = message.tobytes().decode(\"utf-8\").strip()\n                print(\"Received message:\\n\\n\" + messageString)\n                sys.stdout.flush()\n            else:\n                break\n        except socket.timeout:\n            break\n\n    def sendMsg(self, msgToSend):\n        self.sock = socket.socket(socket.AF_INET, socket.SOCK_STREAM)\n        self.sock.setsockopt(socket.SOL_SOCKET, socket.SO_REUSEADDR, 1)\n        host = socket.gethostname()\n        self.sock.connect((host, self.port))\n        self.sock.send(msgToSend.encode())\n        self.sock.close()\n</code></pre>\n\n<p>When I run the program the thread within <code>CMsgGateway</code> begins, listening for messages. However, as far as I can tell the thread within <code>CClient</code>, the <code>inputMsg</code> method, does not begin (I see no prompt to enter input e.g. \"Enter message\" is not displayed).</p>\n\n<p>Could someone please help me figure out what is wrong with this? Many thanks.</p>\n"}, {"tags": ["python", "postgresql", "docker", "docker-compose"], "comments": [{"owner": {"reputation": 11, "user_id": 5294140, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e39470629e3e5370f465a395b4723fb?s=128&d=identicon&r=PG&f=1", "display_name": "aleedom", "link": "https://stackoverflow.com/users/5294140/aleedom"}, "edited": false, "score": 0, "creation_date": 1441225645, "post_id": 32362491, "comment_id": 52597680, "body": "Full code project is here: <a href=\"https://github.com/aleedom/Docker-Testing\" rel=\"nofollow noreferrer\">Repo</a>. I&#39;m following this  <a href=\"https://realpython.com/blog/python/dockerizing-flask-with-compose-and-machine-from-localhost-to-the-cloud/\" rel=\"nofollow noreferrer\">Tutorial</a>."}, {"owner": {"reputation": 23608, "user_id": 2915097, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91318014af3b3d389901d50d5f9276d5?s=128&d=identicon&r=PG&f=1", "display_name": "user2915097", "link": "https://stackoverflow.com/users/2915097/user2915097"}, "edited": false, "score": 0, "creation_date": 1441227194, "post_id": 32362491, "comment_id": 52598561, "body": "Can you show your dockerfile, your docker run?"}, {"owner": {"reputation": 11, "user_id": 5294140, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e39470629e3e5370f465a395b4723fb?s=128&d=identicon&r=PG&f=1", "display_name": "aleedom", "link": "https://stackoverflow.com/users/5294140/aleedom"}, "reply_to_user": {"reputation": 23608, "user_id": 2915097, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91318014af3b3d389901d50d5f9276d5?s=128&d=identicon&r=PG&f=1", "display_name": "user2915097", "link": "https://stackoverflow.com/users/2915097/user2915097"}, "edited": false, "score": 0, "creation_date": 1441236867, "post_id": 32362491, "comment_id": 52601974, "body": "@user2915097 I updated the post with the docker-compose file as well as the 2 Dockerfiles it references."}], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 5294140, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e39470629e3e5370f465a395b4723fb?s=128&d=identicon&r=PG&f=1", "display_name": "aleedom", "link": "https://stackoverflow.com/users/5294140/aleedom"}, "is_accepted": true, "score": 0, "last_activity_date": 1441409122, "last_edit_date": 1441409122, "creation_date": 1441408360, "answer_id": 32407794, "question_id": 32362491, "link": "https://stackoverflow.com/questions/32362491/python-script-to-add-data-to-postgres-docker-container-runs-multiple-times/32407794#32407794", "title": "Python script to add data to postgres docker container runs multiple times", "body": "<p>It turns out this is a bug related to using the run command on containers with the \"restart: always\" instruction in the docker-compose/Dockerfile.  In order to resolve this issue without a bug fix I removed the \"restart: always\" from the web container.  </p>\n\n<p>related issue: <a href=\"https://github.com/docker/compose/issues/1013\" rel=\"nofollow\">https://github.com/docker/compose/issues/1013</a></p>\n"}], "owner": {"reputation": 11, "user_id": 5294140, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e39470629e3e5370f465a395b4723fb?s=128&d=identicon&r=PG&f=1", "display_name": "aleedom", "link": "https://stackoverflow.com/users/5294140/aleedom"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 905, "favorite_count": 0, "accepted_answer_id": 32407794, "answer_count": 1, "score": 1, "last_activity_date": 1441409122, "creation_date": 1441225624, "last_edit_date": 1441324171, "question_id": 32362491, "link": "https://stackoverflow.com/questions/32362491/python-script-to-add-data-to-postgres-docker-container-runs-multiple-times", "title": "Python script to add data to postgres docker container runs multiple times", "body": "<p>I'm trying to find a good way to populate a database with initial data for a simple application.  I'm using a tutorial from realpython.com as a starting point.  I then run a simple python script after the database is created to add a single entry, but when I do this the data is added multiple times even though I only call the <a href=\"http://i.imgur.com/SPgHktb.png\" rel=\"nofollow\">script</a> once. <a href=\"http://i.imgur.com/xsrhQkS.png\" rel=\"nofollow\">result</a>  </p>\n\n<p>population script (test.py):</p>\n\n<pre><code>   from app import db                                                                                                                                                          \n   from models import *                                                                                                                                                        \n\n   t = Post(\"Hello 3\")                                                                                                                                                         \n   db.session.add(t)                                                                                                                                                           \n   db.session.commit()  \n</code></pre>\n\n<p>edit:</p>\n\n<p>Here is the docker-compose file which i use to build the project:</p>\n\n<pre><code>web:\n  restart: always\n  build: ./web\n  expose:\n    - \"8000\"\n  links:\n    - postgres:postgres\n  volumes:\n    - /usr/src/app/static\n  env_file: .env\n  command: /usr/local/bin/gunicorn -w 2 -b :8000 app:app\n\nnginx:\n  restart: always\n  build: ./nginx/\n  ports:\n    - \"80:80\"\n  volumes:\n    - /www/static\n  volumes_from:\n    - web\n  links:\n    - web:web\n\ndata:\n  restart: always\n  image: postgres:latest\n  volumes:\n    - /var/lib/postgresql\n  command: \"true\"\n\npostgres:\n  restart: always\n  image: postgres:latest\n  volumes_from:\n    - data\n  ports:\n    - \"5432:5432\"\n</code></pre>\n\n<p>it references two different Dockerfiles:</p>\n\n<p>Dockerfile #1 which builds the App container and is 1 line:</p>\n\n<pre><code>FROM python:3.4-onbuild\n</code></pre>\n\n<p>Dockerfile #2 is used to build the nginx container</p>\n\n<pre><code>FROM tutum/nginx\nRUN rm /etc/nginx/sites-enabled/default\nADD sites-enabled/ /etc/nginx/sites-enabled\n</code></pre>\n\n<p>edit2:</p>\n\n<p>Some people have suggested that the data was persisting over several runs, and that was my initial thought as well. This is not the case, as I remove all active docker containers via docker rm before testing.  Also the number of \"extra\" data is not consistent, ranging randomly from 3-6 in the few tests that I have run so far.</p>\n"}, {"tags": ["python", "debugging", "pycharm", "pydev", "remote-debugging"], "comments": [{"owner": {"reputation": 12058, "user_id": 19530, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d7df52257a48ba3ad861ea1d539739e3?s=128&d=identicon&r=PG&f=1", "display_name": "MaxVT", "link": "https://stackoverflow.com/users/19530/maxvt"}, "edited": false, "score": 0, "creation_date": 1441226767, "post_id": 32362438, "comment_id": 52598320, "body": "Which OS? Your PyCharm version?"}, {"owner": {"reputation": 4957, "user_id": 2230844, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/1b0e722a4823f29c56d7a97bc6500ccc?s=128&d=identicon&r=PG", "display_name": "denfromufa", "link": "https://stackoverflow.com/users/2230844/denfromufa"}, "reply_to_user": {"reputation": 12058, "user_id": 19530, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d7df52257a48ba3ad861ea1d539739e3?s=128&d=identicon&r=PG&f=1", "display_name": "MaxVT", "link": "https://stackoverflow.com/users/19530/maxvt"}, "edited": false, "score": 0, "creation_date": 1441227438, "post_id": 32362438, "comment_id": 52598663, "body": "Win 7, Pycharm 4.5.4 Pro"}, {"owner": {"reputation": 6896, "user_id": 1037251, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/2fHV3.png?s=128&g=1", "display_name": "vlad-ardelean", "link": "https://stackoverflow.com/users/1037251/vlad-ardelean"}, "edited": false, "score": 0, "creation_date": 1442490778, "post_id": 32362438, "comment_id": 53108347, "body": "How &#39;remote&#39; is this machine? Are you trying to debug code inside a virtual machine by any chance?"}, {"owner": {"reputation": 10312, "user_id": 2550354, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/LvGa5.jpg?s=128&g=1", "display_name": "Or Duan", "link": "https://stackoverflow.com/users/2550354/or-duan"}, "edited": false, "score": 0, "creation_date": 1473267794, "post_id": 32362438, "comment_id": 66079189, "body": "@denfromufa have you managed to solve this?"}, {"owner": {"reputation": 4957, "user_id": 2230844, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/1b0e722a4823f29c56d7a97bc6500ccc?s=128&d=identicon&r=PG", "display_name": "denfromufa", "link": "https://stackoverflow.com/users/2230844/denfromufa"}, "edited": false, "score": 1, "creation_date": 1473268171, "post_id": 32362438, "comment_id": 66079357, "body": "still open: <a href=\"https://youtrack.jetbrains.com/issue/PY-16844\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/PY-16844</a>"}, {"owner": {"reputation": 308, "user_id": 1986828, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/96txi.jpg?s=128&g=1", "display_name": "Amias", "link": "https://stackoverflow.com/users/1986828/amias"}, "edited": false, "score": 4, "creation_date": 1477984522, "post_id": 32362438, "comment_id": 67964609, "body": "Have you checked that port 21000 has something listening and that you have pydevd setup at the other end ?"}, {"owner": {"reputation": 587, "user_id": 1107750, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/8QoCG.jpg?s=128&g=1", "display_name": "Rok Jakli\u010d", "link": "https://stackoverflow.com/users/1107750/rok-jakli%c4%8d"}, "edited": false, "score": 0, "creation_date": 1483703507, "post_id": 32362438, "comment_id": 70215445, "body": "You can check is something is on port 21000 by telnet-ing to that port in console like &quot;telnet localhost 21000&quot;."}, {"owner": {"reputation": 3513, "user_id": 6103001, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a874dcd5632319daf12801f77659d63?s=128&d=identicon&r=PG&f=1", "display_name": "Micha\u0142 Zaborowski", "link": "https://stackoverflow.com/users/6103001/micha%c5%82-zaborowski"}, "edited": false, "score": 0, "creation_date": 1484414063, "post_id": 32362438, "comment_id": 70504099, "body": "You can use netstat, which works also on Windows - <a href=\"https://technet.microsoft.com/pl-pl/library/bb490947.aspx\" rel=\"nofollow noreferrer\">technet.microsoft.com/pl-pl/library/bb490947.aspx</a> - to check if port is open. My guess is that you are querying wrong interface... For instance - debug is open on localhost, while you are trying to connect to your network interface. That way system will kick your request off."}, {"owner": {"reputation": 570, "user_id": 2397879, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7699bf562a10d52f31308a0fc3ac547e?s=128&d=identicon&r=PG", "display_name": "Joepreludian", "link": "https://stackoverflow.com/users/2397879/joepreludian"}, "edited": false, "score": 0, "creation_date": 1496677120, "post_id": 32362438, "comment_id": 75746110, "body": "What is Your target OS? Fedora, CentOS has a selinux which can see this activity as a thread. If this connection not working and You&#39;re sure about pycharm Debug service is up and running on 21000, You may disable selinux and give a second try."}, {"owner": {"reputation": 4957, "user_id": 2230844, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/1b0e722a4823f29c56d7a97bc6500ccc?s=128&d=identicon&r=PG", "display_name": "denfromufa", "link": "https://stackoverflow.com/users/2230844/denfromufa"}, "edited": false, "score": 0, "creation_date": 1496678350, "post_id": 32362438, "comment_id": 75746799, "body": "both host and guest were windows 7"}, {"owner": {"reputation": 733, "user_id": 5743194, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c8e7344d297f310b4819502761ed213c?s=128&d=identicon&r=PG&f=1", "display_name": "Artur", "link": "https://stackoverflow.com/users/5743194/artur"}, "edited": false, "score": 0, "creation_date": 1497269239, "post_id": 32362438, "comment_id": 75991181, "body": "I tried several times do do a remote debug on Windows (Windows as target) and failed every time. While debugging remotely to Linux works flawlessly, I couldn&#39;t get it to work on Win. Did you manage to locate python.exe from PyCharm? Are you using PyCharm Pro?"}, {"owner": {"reputation": 1098, "user_id": 3567888, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/GHvpA.jpg?s=128&g=1", "display_name": "zypro", "link": "https://stackoverflow.com/users/3567888/zypro"}, "reply_to_user": {"reputation": 6896, "user_id": 1037251, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/2fHV3.png?s=128&g=1", "display_name": "vlad-ardelean", "link": "https://stackoverflow.com/users/1037251/vlad-ardelean"}, "edited": false, "score": 0, "creation_date": 1501565835, "post_id": 32362438, "comment_id": 77820277, "body": "Like @vlad-ardelean asked: Is the any maschine (host or guest) a VM? If so, the VM gets by NAT a new port range as the pure &quot;host&quot; maschine. You should then try bridge network mode."}], "answers": [{"tags": [], "owner": {"reputation": 350, "user_id": 6324849, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/823fd3670b436cf022a6d13bdb7fe63d?s=128&d=identicon&r=PG&f=1", "display_name": "Ludovic Guerra", "link": "https://stackoverflow.com/users/6324849/ludovic-guerra"}, "is_accepted": false, "score": 1, "last_activity_date": 1498050550, "creation_date": 1498050550, "answer_id": 44677109, "question_id": 32362438, "link": "https://stackoverflow.com/questions/32362438/pycharm-remote-debugging-pydevd-does-not-connect/44677109#44677109", "title": "PyCharm remote debugging (pydevd) does not connect", "body": "<p>In a direct link communication, it often means that you have already something connected to this port.\nTo check what process is hearing what port, check this <a href=\"https://stackoverflow.com/questions/48198/how-can-you-find-out-which-process-is-listening-on-a-port-on-windows\">SO question</a>.<br>\nYou can then either kill the program or change the port, depending of what you can do.<br>\nWithout more information of the \"remote tested\", it is hard to know what is happening.</p>\n"}, {"tags": [], "owner": {"reputation": 146, "user_id": 2768070, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4tmoj.jpg?s=128&g=1", "display_name": "Surjit R", "link": "https://stackoverflow.com/users/2768070/surjit-r"}, "is_accepted": false, "score": 2, "last_activity_date": 1503329156, "creation_date": 1503329156, "answer_id": 45800797, "question_id": 32362438, "link": "https://stackoverflow.com/questions/32362438/pycharm-remote-debugging-pydevd-does-not-connect/45800797#45800797", "title": "PyCharm remote debugging (pydevd) does not connect", "body": "<p>10061 is WSAECONNREFUSED, 'connection refused', which means there was nothing listening at the IP:port you tried to connect to.</p>\n\n<p>Though I see that you have validated its not a firewall issue, but still I would suggest to check the port numbers again with respect to the ones opened in windows firewall. Or to narrow down just run a simplehttpserver or icmp server at the same port and confirm.</p>\n"}, {"tags": [], "owner": {"reputation": 369, "user_id": 2451329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99b4df8fff4fb97b59ae7b6238062f4f?s=128&d=identicon&r=PG", "display_name": "gst", "link": "https://stackoverflow.com/users/2451329/gst"}, "is_accepted": false, "score": 1, "last_activity_date": 1510087746, "creation_date": 1510087746, "answer_id": 47167176, "question_id": 32362438, "link": "https://stackoverflow.com/questions/32362438/pycharm-remote-debugging-pydevd-does-not-connect/47167176#47167176", "title": "PyCharm remote debugging (pydevd) does not connect", "body": "<p>I was having the trouble as well (<strong>Server stopped</strong> as soon as the client connected).</p>\n\n<p>Turned out that I had apparently too many breakpoints defined.</p>\n\n<p>after having removed most of them and re-initiated my remote debug connection from the client (and having restarted the debug server in pycharm) it doesn't trigger anymore the \"Server stopped.\" problem.</p>\n"}], "owner": {"reputation": 4957, "user_id": 2230844, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/1b0e722a4823f29c56d7a97bc6500ccc?s=128&d=identicon&r=PG", "display_name": "denfromufa", "link": "https://stackoverflow.com/users/2230844/denfromufa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2799, "favorite_count": 1, "answer_count": 3, "score": 15, "last_activity_date": 1510087746, "creation_date": 1441225411, "last_edit_date": 1491896530, "question_id": 32362438, "link": "https://stackoverflow.com/questions/32362438/pycharm-remote-debugging-pydevd-does-not-connect", "title": "PyCharm remote debugging (pydevd) does not connect", "body": "<p>PyCharm remote debugging (pydevd) does not connect with the following message:</p>\n\n<pre><code>error: [Errno 10061] No connection could be made because the target machine actively refused it\n</code></pre>\n\n<p>How can I troubleshoot it?</p>\n\n<p>The output console in PyCharm shows:</p>\n\n<pre><code>Starting debug server at port 21000\nUse the following code to connect to the debugger:\nimport pydevd\npydevd.settrace('*.*.*.*', port=21000, suspend=False)\nWaiting for process connection...\nServer stopped.\n</code></pre>\n\n<p>I checked the firewall and PyCharm is allowed for both incoming and outgoing connections.</p>\n"}, {"tags": ["python", "django", "django-south"], "comments": [{"owner": {"reputation": 47988, "user_id": 267540, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2v58W.jpg?s=128&g=1", "display_name": "e4c5", "link": "https://stackoverflow.com/users/267540/e4c5"}, "edited": false, "score": 0, "creation_date": 1441244421, "post_id": 32362384, "comment_id": 52603630, "body": "Why not scp the file to the remote server and load it from there and avoid network flakiness?"}], "answers": [{"tags": [], "owner": {"reputation": 561, "user_id": 4266004, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/5e7d0c4285bc032deb85cd55f0882aea?s=128&d=identicon&r=PG&f=1", "display_name": "Lahiru", "link": "https://stackoverflow.com/users/4266004/lahiru"}, "is_accepted": false, "score": 0, "last_activity_date": 1441316822, "creation_date": 1441316822, "answer_id": 32385965, "question_id": 32362384, "link": "https://stackoverflow.com/questions/32362384/manage-py-loaddata-hangs-when-loading-to-remote-postgres/32385965#32385965", "title": "manage.py loaddata hangs when loading to remote postgres", "body": "<p>I had no solution, so I ran loaddata locally and used pg_dump and ran the dump with pqsl -f and restored the data.</p>\n"}], "owner": {"reputation": 561, "user_id": 4266004, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/5e7d0c4285bc032deb85cd55f0882aea?s=128&d=identicon&r=PG&f=1", "display_name": "Lahiru", "link": "https://stackoverflow.com/users/4266004/lahiru"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 256, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1441316822, "creation_date": 1441225162, "question_id": 32362384, "link": "https://stackoverflow.com/questions/32362384/manage-py-loaddata-hangs-when-loading-to-remote-postgres", "title": "manage.py loaddata hangs when loading to remote postgres", "body": "<p>I am trying to migrate django models from sqlite to postgres. I tested it locally and now trying to do the samething with remote database. I dumped the data first then started the application which created the tables in remote database.</p>\n\n<p>Finally I am trying to loaddata but it looks like hanged and no errors.</p>\n\n<p>Is there a way to get verbose ? Or I am not sure how to diagnose this issue. It just 199M size file and when I test locally loaddata works in few minutes.</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 11251, "user_id": 236871, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/048901e9a9591d658f2f690b71e7530c?s=128&d=identicon&r=PG", "display_name": "KurzedMetal", "link": "https://stackoverflow.com/users/236871/kurzedmetal"}, "edited": false, "score": 1, "creation_date": 1441225360, "post_id": 32362358, "comment_id": 52597562, "body": "<a href=\"https://docs.python.org/2/library/subprocess.html#subprocess.Popen\" rel=\"nofollow noreferrer\">subprocess.Popen() documentation</a>: <code>If cwd is not None, the child\u2019s current directory will be changed to cwd before it is executed.</code>"}, {"owner": {"reputation": 311, "user_id": 2924044, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/2b7ae170baf0908adfd2211bd636d542?s=128&d=identicon&r=PG&f=1", "display_name": "Shandeep Murugasamy", "link": "https://stackoverflow.com/users/2924044/shandeep-murugasamy"}, "reply_to_user": {"reputation": 11251, "user_id": 236871, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/048901e9a9591d658f2f690b71e7530c?s=128&d=identicon&r=PG", "display_name": "KurzedMetal", "link": "https://stackoverflow.com/users/236871/kurzedmetal"}, "edited": false, "score": 0, "creation_date": 1441226070, "post_id": 32362358, "comment_id": 52597939, "body": "I tried it didn\u2019t seem to work."}], "answers": [{"tags": [], "owner": {"reputation": 6819, "user_id": 140837, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/e6470f08d90f2d62f514b5b71ca5ca3f?s=128&d=identicon&r=PG", "display_name": "amirouche", "link": "https://stackoverflow.com/users/140837/amirouche"}, "is_accepted": true, "score": 2, "last_activity_date": 1441227837, "creation_date": 1441227837, "answer_id": 32363064, "question_id": 32362358, "link": "https://stackoverflow.com/questions/32362358/how-to-make-the-subprocess-statment-to-execute-under-the-os-walkpath/32363064#32363064", "title": "How to make the subprocess statment to execute under the os.walk(path)", "body": "<p>You can use <a href=\"https://docs.python.org/3.5/library/os.html#os.chdir\" rel=\"nofollow\"><code>os.chdir(path)</code></a> to change the current working directory.</p>\n\n<p>I reworked your snippet to use <a href=\"https://docs.python.org/3.5/library/subprocess.html#subprocess.check_output\" rel=\"nofollow\"><code>subprocess.check_output</code></a> to call a command and retrieve its stdout. I also use <a href=\"https://docs.python.org/3.5/library/shlex.html#shlex.split\" rel=\"nofollow\"><code>shlex.split(command)</code></a> to write the command in a single string and split it correctly for <code>Popen</code>. </p>\n\n<p>The script does <code>os.walk(DIRECTORY)</code> and write the output of <code>ls -la</code> in each subdirectory into <code>OUTPUT_FILE</code>:</p>\n\n<pre><code>import os\nimport shlex\nfrom subprocess import check_output\n\n\nDIRECTORY = '/tmp'\nOUTPUT_FILE = '/tmp/output.log'\n\n\nwith open(OUTPUT_FILE, 'w') as output:\n    for parent, _, _ in os.walk(DIRECTORY):\n        os.chdir(parent)\n        output.write(check_output(shlex.split('ls -al')))\n</code></pre>\n"}], "owner": {"reputation": 311, "user_id": 2924044, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/2b7ae170baf0908adfd2211bd636d542?s=128&d=identicon&r=PG&f=1", "display_name": "Shandeep Murugasamy", "link": "https://stackoverflow.com/users/2924044/shandeep-murugasamy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 286, "favorite_count": 0, "accepted_answer_id": 32363064, "answer_count": 1, "score": 0, "last_activity_date": 1441227837, "creation_date": 1441225064, "last_edit_date": 1441226038, "question_id": 32362358, "link": "https://stackoverflow.com/questions/32362358/how-to-make-the-subprocess-statment-to-execute-under-the-os-walkpath", "title": "How to make the subprocess statment to execute under the os.walk(path)", "body": "<p>I want my script to go under a particular file path mentioned in <code>os.walk()</code> and then execute a <code>grep</code> command on all the files under that location and redirect the output to a file. Below is the script I created, but the <code>subprocess</code> executes <code>ls -al</code> command under the current directory but the <code>print</code> statment show me the contents of <code>os.walk</code>. So I need the <code>subprocess</code> to execute the command under the <code>os.walk</code> path as well.      </p>\n\n<pre><code>  with open('ipaddressifle.out', 'w') as outfile:\n     for pdir, dir, files in os.walk(r'/Users/skandasa/perforce/projects/releases/portal-7651'):\n         for items in files:\n             print(items)\n             #subprocess.call(['ls', '-al'])\n         process = subprocess.Popen(['ls', '-al'], shell= True, stdout=outfile, stderr=outfile)\n         #process = subprocess.Popen(['grep', 'PORTALSHARED','*', '|', 'awk', '-F', '[','{print', '$1}'], shell= True, stdout=outfile, stderr=outfile)\n         [output, err] = process.communicate()\n</code></pre>\n\n<p>And is there anyother way apart from adding a <code>cd</code> command to the <code>subprocess</code> call.</p>\n"}, {"tags": ["python", "timer", "pyqt"], "answers": [{"comments": [{"owner": {"reputation": 167, "user_id": 5278112, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8e44228a105fb9ed32c3112191f7409b?s=128&d=identicon&r=PG&f=1", "display_name": "vixenn", "link": "https://stackoverflow.com/users/5278112/vixenn"}, "edited": false, "score": 0, "creation_date": 1441271104, "post_id": 32365203, "comment_id": 52614154, "body": "I tried but it doesn&#39;t even get into move_towards, then I tried with <code>timer.timeout.connect(func)</code> but it did not work either. When I tried <code>QtCore.QTimer.singleShot(200, func)</code> it works but it makes one move and then stops."}, {"owner": {"reputation": 1007, "user_id": 1285159, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XfuAv.jpg?s=128&g=1", "display_name": "Tim Wakeham", "link": "https://stackoverflow.com/users/1285159/tim-wakeham"}, "reply_to_user": {"reputation": 167, "user_id": 5278112, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8e44228a105fb9ed32c3112191f7409b?s=128&d=identicon&r=PG&f=1", "display_name": "vixenn", "link": "https://stackoverflow.com/users/5278112/vixenn"}, "edited": false, "score": 1, "creation_date": 1441318203, "post_id": 32365203, "comment_id": 52643033, "body": "Edited to contain a full example"}, {"owner": {"reputation": 794, "user_id": 1275120, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6263d96a4208c3de57312b30d5eb875?s=128&d=identicon&r=PG", "display_name": "kmcguire", "link": "https://stackoverflow.com/users/1275120/kmcguire"}, "edited": false, "score": 3, "creation_date": 1460683939, "post_id": 32365203, "comment_id": 60868476, "body": "If it does not work for you then you should make sure the reference to the timer stored is not garbage collected and also pass a widget as parent to the timer which should prevent premature garbage collection when exiting scope."}], "tags": [], "owner": {"reputation": 1007, "user_id": 1285159, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XfuAv.jpg?s=128&g=1", "display_name": "Tim Wakeham", "link": "https://stackoverflow.com/users/1285159/tim-wakeham"}, "is_accepted": true, "score": 21, "last_activity_date": 1441318188, "last_edit_date": 1441318188, "creation_date": 1441239801, "answer_id": 32365203, "question_id": 32362340, "link": "https://stackoverflow.com/questions/32362340/pyqt4-creating-a-timer/32365203#32365203", "title": "PyQt4 - creating a timer", "body": "<p>Use new style signals, they are easier to understand.</p>\n\n<p>Swap -</p>\n\n<pre><code>QtCore.QTimer.connect(timer, QtCore.SIGNAL(\"timeout()\"), self, QtCore.SLOT(\"func()\"))\n</code></pre>\n\n<p>With - </p>\n\n<pre><code>timer.timeout.connect(self.move_towards)   # assuming that move_towards is the handler\n</code></pre>\n\n<p>A simple but full example of a working timer -</p>\n\n<pre><code>import sys\n\nfrom PyQt4.QtCore import QTimer\nfrom PyQt4.QtGui import QApplication\n\napp = QApplication(sys.argv)\napp.setQuitOnLastWindowClosed(False)\n\ndef tick():\n    print 'tick'\n\ntimer = QTimer()\ntimer.timeout.connect(tick)\ntimer.start(1000)\n\n# run event loop so python doesn't exit\napp.exec_()\n</code></pre>\n"}], "owner": {"reputation": 167, "user_id": 5278112, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8e44228a105fb9ed32c3112191f7409b?s=128&d=identicon&r=PG&f=1", "display_name": "vixenn", "link": "https://stackoverflow.com/users/5278112/vixenn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40655, "favorite_count": 1, "accepted_answer_id": 32365203, "answer_count": 1, "score": 10, "last_activity_date": 1441318188, "creation_date": 1441224996, "question_id": 32362340, "link": "https://stackoverflow.com/questions/32362340/pyqt4-creating-a-timer", "title": "PyQt4 - creating a timer", "body": "<p>I'm sorry for the question but I have read a bunch of things and it seems that I do not get how to make a timer. So I'm posting my code: </p>\n\n<pre><code>from PyQt4 import QtGui, QtCore\nfrom code.pair import Pair\nfrom code.breadth_first_search import breadth_first_search\nimport functools\n\n\nclass Ghosts(QtGui.QGraphicsPixmapItem):\n\n    def __init__(self, name):\n        super(Ghosts, self).__init__()\n\n        self.set_image(name)\n\n    def chase(self, goal):\n        pos = Pair(self.x(), self.y())\n        path = breadth_first_search(pos, goal)\n        while not path.empty():\n            aim = path.get_nowait()\n            func = functools.partial(self.move_towards, aim)\n            timer = QtCore.QTimer()\n            QtCore.QTimer.connect(timer, QtCore.SIGNAL(\"timeout()\"), self, QtCore.SLOT(\"func()\"))\n            timer.start(200)\n\n    def move_towards(self, goal):\n        self.setPos(goal.first(), goal.second())\n</code></pre>\n\n<p>I'm trying to make the object move towards its aim every 200ms.\nI tried without self it gives me the same errors:</p>\n\n<pre><code>QObject.connect(QObject, SIGNAL(), QObject, SLOT(), Qt.ConnectionType=Qt.AutoConnection): argument 3 has unexpected type 'bytes'\nQObject.connect(QObject, SIGNAL(), callable, Qt.ConnectionType=Qt.AutoConnection): argument 3 has unexpected type 'bytes'\nQObject.connect(QObject, SIGNAL(), SLOT(), Qt.ConnectionType=Qt.AutoConnection): argument 2 has unexpected type 'bytes'\n</code></pre>\n\n<p>I have no idea how to connect the timer to a function with arguments.\nI thought that I'm not using the SLOT argument right but it gave me those mystakes. I suppose that it is all wrong. I'd appreciate some help : )</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 339644, "user_id": 118068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/077db5466d3b58e7bbbd498dca173f04?s=128&d=identicon&r=PG", "display_name": "Marc B", "link": "https://stackoverflow.com/users/118068/marc-b"}, "edited": false, "score": 2, "creation_date": 1441225094, "post_id": 32362339, "comment_id": 52597440, "body": "<a href=\"http://stackoverflow.com/questions/10060417/python-firefox-headless\" title=\"python firefox headless\">stackoverflow.com/questions/10060417/python-firefox-headless</a> ?"}, {"owner": {"reputation": 5936, "user_id": 2654083, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/705663a74e13fc3e4a5bb6b6589798e1?s=128&d=identicon&r=PG", "display_name": "ford prefect", "link": "https://stackoverflow.com/users/2654083/ford-prefect"}, "reply_to_user": {"reputation": 339644, "user_id": 118068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/077db5466d3b58e7bbbd498dca173f04?s=128&d=identicon&r=PG", "display_name": "Marc B", "link": "https://stackoverflow.com/users/118068/marc-b"}, "edited": false, "score": 0, "creation_date": 1441225201, "post_id": 32362339, "comment_id": 52597491, "body": "@MarcB My bad voted to close as dupe"}], "answers": [{"tags": [], "owner": {"reputation": 308, "user_id": 5150763, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/57310d6c013583aebf57d9cff7d6cc20?s=128&d=identicon&r=PG&f=1", "display_name": "JAW", "link": "https://stackoverflow.com/users/5150763/jaw"}, "is_accepted": true, "score": 0, "last_activity_date": 1441241357, "creation_date": 1441241357, "answer_id": 32365343, "question_id": 32362339, "link": "https://stackoverflow.com/questions/32362339/suppress-window-opening-from-python-script/32365343#32365343", "title": "Suppress window opening from python script", "body": "<p>If you are using the <code>webbrowser</code> module, you could try passing <code>autoraise=False</code> to the <code>webbrowser.open()</code> function.</p>\n"}], "owner": {"reputation": 5936, "user_id": 2654083, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/705663a74e13fc3e4a5bb6b6589798e1?s=128&d=identicon&r=PG", "display_name": "ford prefect", "link": "https://stackoverflow.com/users/2654083/ford-prefect"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 140, "favorite_count": 0, "closed_date": 1441286276, "accepted_answer_id": 32365343, "answer_count": 1, "score": 0, "last_activity_date": 1441241357, "creation_date": 1441224995, "question_id": 32362339, "link": "https://stackoverflow.com/questions/32362339/suppress-window-opening-from-python-script", "closed_reason": "Duplicate", "title": "Suppress window opening from python script", "body": "<p>I have a python script that opens firefox. Is there a way I can run it in the background and suppress the window from popping up? Something like <code>&amp;</code> for running in background?</p>\n"}, {"tags": ["python", "python-2.7", "asynchronous", "backgroundworker"], "comments": [{"owner": {"reputation": 2896, "user_id": 5031339, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82ce3852cc31d052ce2568e3a777875a?s=128&d=identicon&r=PG", "display_name": "NightShadeQueen", "link": "https://stackoverflow.com/users/5031339/nightshadequeen"}, "edited": false, "score": 0, "creation_date": 1441402583, "post_id": 32362323, "comment_id": 52681946, "body": "....<a href=\"https://docs.python.org/2/library/multiprocessing.html\" rel=\"nofollow noreferrer\">multiprocessing</a>?"}], "answers": [{"tags": [], "owner": {"reputation": 173, "user_id": 2661795, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/25e75841244b0eddef17a3b6cf18cbd7?s=128&d=identicon&r=PG", "display_name": "Addison Schuhardt", "link": "https://stackoverflow.com/users/2661795/addison-schuhardt"}, "is_accepted": false, "score": 0, "last_activity_date": 1441402963, "creation_date": 1441402963, "answer_id": 32406980, "question_id": 32362323, "link": "https://stackoverflow.com/questions/32362323/calling-methods-asynchronously/32406980#32406980", "title": "Calling methods asynchronously", "body": "<p>Running a method in a background thread:</p>\n\n<pre><code>import threading\n...\nthread = threading.Thread(target=self.methodname, args=())\n        thread.daemon = True     # Daemonize thread\n        thread.start()           # Start the execution\n</code></pre>\n\n<p>Source: <a href=\"http://sebastiandahlgren.se/2014/06/27/running-a-method-as-a-background-thread-in-python/\" rel=\"nofollow\">http://sebastiandahlgren.se/2014/06/27/running-a-method-as-a-background-thread-in-python/</a></p>\n"}], "owner": {"reputation": 65, "user_id": 5030023, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d3b9bd4ed1823e1ff5d9504d24d63f4?s=128&d=identicon&r=PG&f=1", "display_name": "Mukesh", "link": "https://stackoverflow.com/users/5030023/mukesh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 46, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1441402963, "creation_date": 1441224955, "last_edit_date": 1441402636, "question_id": 32362323, "link": "https://stackoverflow.com/questions/32362323/calling-methods-asynchronously", "title": "Calling methods asynchronously", "body": "<p>I'm trying to write a background service in python 2.7 which can call multiple methods simultaneously, where each method might take longer to finish. </p>\n\n<p>I want to call all methods asynchronously without waiting for job to finish.</p>\n\n<p>Sample idea:</p>\n\n<pre><code>def run(self):\n    while(True):\n        Job1()\n        Job2()\n        Job3()\n        time.sleep(10)\n        print (\"After sleep\")\n\ndef Job1(self):\n    a = [1,2,3,4,5,6,7,8,9]\n    for i in a:\n        print \"Job 1 : \" + str(i)\n\ndef Job2(self):\n    a = [1,2,3,4,5,6,7,8,9]\n    for i in a:\n        print \"Job 2 : \" + str(i)\n\ndef Job3(self):\n    a = [1,2,3,4,5,6,7,8,9]\n    for i in a:\n        print \"Job 3 : \" + str(i)\n</code></pre>\n"}, {"tags": ["python", "if-statement", "while-loop", "raw-input"], "comments": [{"owner": {"reputation": 54864, "user_id": 404970, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o6X94.jpg?s=128&g=1", "display_name": "molbdnilo", "link": "https://stackoverflow.com/users/404970/molbdnilo"}, "edited": false, "score": 0, "creation_date": 1441224641, "post_id": 32362197, "comment_id": 52597191, "body": "Check the place where you&#39;re modifying <code>theanswer</code> inside the loop..."}, {"owner": {"reputation": 11, "user_id": 5294153, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe5854285a917d2987103da2fc5a6970?s=128&d=identicon&r=PG&f=1", "display_name": "Evan Westphal", "link": "https://stackoverflow.com/users/5294153/evan-westphal"}, "reply_to_user": {"reputation": 54864, "user_id": 404970, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o6X94.jpg?s=128&g=1", "display_name": "molbdnilo", "link": "https://stackoverflow.com/users/404970/molbdnilo"}, "edited": false, "score": 0, "creation_date": 1441224678, "post_id": 32362197, "comment_id": 52597209, "body": "im not editing it, i dont know if i did, could u tell me?"}, {"owner": {"reputation": 54864, "user_id": 404970, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o6X94.jpg?s=128&g=1", "display_name": "molbdnilo", "link": "https://stackoverflow.com/users/404970/molbdnilo"}, "edited": false, "score": 1, "creation_date": 1441224722, "post_id": 32362197, "comment_id": 52597238, "body": "Exactly. So what is the value of <code>theanswer</code> on the next iteration?"}], "answers": [{"comments": [{"owner": {"reputation": 2598, "user_id": 2766650, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/ef36288df96290326b6849710377d07e?s=128&d=identicon&r=PG&f=1", "display_name": "asdf", "link": "https://stackoverflow.com/users/2766650/asdf"}, "edited": false, "score": 0, "creation_date": 1441225128, "post_id": 32362276, "comment_id": 52597461, "body": "@EvanWestphal please try and take this as a learning experience. Here&#39;s a good resource on <a href=\"http://stackoverflow.com/questions/1241429/blocking-io-vs-non-blocking-io-looking-for-good-articles\">Blocking vs Non-Blocking I/O</a>. It&#39;ll be good to understand the difference in a future coding career :)"}, {"owner": {"reputation": 2598, "user_id": 2766650, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/ef36288df96290326b6849710377d07e?s=128&d=identicon&r=PG&f=1", "display_name": "asdf", "link": "https://stackoverflow.com/users/2766650/asdf"}, "edited": false, "score": 0, "creation_date": 1441225333, "post_id": 32362276, "comment_id": 52597542, "body": "@EvanWestphal Also, if this worked for you, please select it as the accepted solution :)"}], "tags": [], "owner": {"reputation": 2598, "user_id": 2766650, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/ef36288df96290326b6849710377d07e?s=128&d=identicon&r=PG&f=1", "display_name": "asdf", "link": "https://stackoverflow.com/users/2766650/asdf"}, "is_accepted": false, "score": 7, "last_activity_date": 1441225478, "last_edit_date": 1495541174, "creation_date": 1441224771, "answer_id": 32362276, "question_id": 32362197, "link": "https://stackoverflow.com/questions/32362197/python-please-tell-me-whats-wrong/32362276#32362276", "title": "python, please tell me whats wrong", "body": "<p>You need to have a blocking call in your <code>else</code> statement. Otherwise you will have an infinite loop because <code>theanswer</code> will always be true. Like asking for input:</p>\n\n<pre><code>theanswer= raw_input(\"Are you ok with that grade?\")\nwhile theanswer:\n    if theanswer == (\"yes\"):\n        print (\"good!\")\n        break\n    elif theanswer == (\"no\"):\n        print (\"oh well\")\n        break\n    else: \n        theanswer= raw_input(\"Please enter yes or no\")\n</code></pre>\n\n<p>Here is a good resorce on <a href=\"https://stackoverflow.com/questions/1241429/blocking-io-vs-non-blocking-io-looking-for-good-articles\">Blocking vs Non-Blocking I/O</a>. It's an important fundamental in any application.</p>\n"}, {"tags": [], "owner": {"reputation": 2001, "user_id": 4876493, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a19e5a2197288480c4c636e8ad650302?s=128&d=identicon&r=PG", "display_name": "Ryan", "link": "https://stackoverflow.com/users/4876493/ryan"}, "is_accepted": false, "score": 1, "last_activity_date": 1441224805, "creation_date": 1441224805, "answer_id": 32362280, "question_id": 32362197, "link": "https://stackoverflow.com/questions/32362197/python-please-tell-me-whats-wrong/32362280#32362280", "title": "python, please tell me whats wrong", "body": "<p>Basically in your code you have a while loop running that will only break if <em>theanswer == yes or == no</em>.\nYou are also not giving the possibility of changing the value of <em>theanswer</em> in your loop therefore => infinity loop.</p>\n\n<p>add this to your code:</p>\n\n<pre><code>else: \n\n        print \"enter yes or no\"\n        theanswer= raw_input(\"Are you ok with that grade?\")\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2598, "user_id": 2766650, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/ef36288df96290326b6849710377d07e?s=128&d=identicon&r=PG&f=1", "display_name": "asdf", "link": "https://stackoverflow.com/users/2766650/asdf"}, "edited": false, "score": 0, "creation_date": 1441225003, "post_id": 32362304, "comment_id": 52597380, "body": "I like the recursive solution, much safer than a inline while loop."}], "tags": [], "owner": {"reputation": 923, "user_id": 5224291, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b101e6ab63ba8eada8f369fa164481c4?s=128&d=identicon&r=PG&f=1", "display_name": "Cody Bouche", "link": "https://stackoverflow.com/users/5224291/cody-bouche"}, "is_accepted": false, "score": 0, "last_activity_date": 1441224873, "creation_date": 1441224873, "answer_id": 32362304, "question_id": 32362197, "link": "https://stackoverflow.com/questions/32362197/python-please-tell-me-whats-wrong/32362304#32362304", "title": "python, please tell me whats wrong", "body": "<p>This can be accomplished with recursion</p>\n\n<pre><code>def get_user_input(text):\n    theanswer= raw_input(text)\n    if theanswer == 'yes':\n        print('good!')\n    elif theanswer == (\"no\"):\n        print('oh well')\n    else: \n        get_user_input('enter yes or no')\n\nget_user_input('Are you ok with that grade?')\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2598, "user_id": 2766650, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/ef36288df96290326b6849710377d07e?s=128&d=identicon&r=PG&f=1", "display_name": "asdf", "link": "https://stackoverflow.com/users/2766650/asdf"}, "edited": false, "score": 0, "creation_date": 1441225188, "post_id": 32362369, "comment_id": 52597485, "body": "You&#39;re missing the initial question of <code>&quot;Are you ok with your grade?&quot;</code>"}], "tags": [], "owner": {"reputation": 35644, "user_id": 4954037, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/YOM4r.jpg?s=128&g=1", "display_name": "hiro protagonist", "link": "https://stackoverflow.com/users/4954037/hiro-protagonist"}, "is_accepted": false, "score": 3, "last_activity_date": 1441225227, "last_edit_date": 1441225227, "creation_date": 1441225098, "answer_id": 32362369, "question_id": 32362197, "link": "https://stackoverflow.com/questions/32362197/python-please-tell-me-whats-wrong/32362369#32362369", "title": "python, please tell me whats wrong", "body": "<p>or this (this separates the input logic from what you do with the answer):</p>\n\n<pre><code>theanswer = raw_input(\"Are you ok with that grade?\")\nwhile theanswer not in ('yes', 'no'):\n    theanswer = raw_input('Please enter yes or no')\n\nif theanswer == \"yes\":\n    print(\"good!\")\nelif theanswer == \"no\":\n    print(\"oh well\")\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 5294153, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe5854285a917d2987103da2fc5a6970?s=128&d=identicon&r=PG&f=1", "display_name": "Evan Westphal", "link": "https://stackoverflow.com/users/5294153/evan-westphal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 109, "favorite_count": 0, "answer_count": 4, "score": -3, "last_activity_date": 1441225478, "creation_date": 1441224516, "last_edit_date": 1441224627, "question_id": 32362197, "link": "https://stackoverflow.com/questions/32362197/python-please-tell-me-whats-wrong", "title": "python, please tell me whats wrong", "body": "<p>python,please help. I want this code to ask someone if they are ok with the grade. if they say yes, it prints good! if they say no, it says oh well! if they dont say yes or no, i want it to print \" please enter yes or no\" and keep asking them that until they finally say yes or no. This is what i have so far and when i run it and DONT type yes or no, it spams \"please enter yes or no\" millions of time</p>\n\n<pre><code>theanswer= raw_input(\"Are you ok with that grade?\")\nwhile theanswer:\n    if theanswer == (\"yes\"):\n        print (\"good!\")\n        break\n    elif theanswer == (\"no\"):\n        print (\"oh well\")\n        break\n    else: \n        print \"enter yes or no\"\n</code></pre>\n\n<p>what do i need to do so that it works, ive been trying a lot</p>\n"}, {"tags": ["python", "iterable"], "comments": [{"owner": {"reputation": 15387, "user_id": 2588818, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/0PpNx.jpg?s=128&g=1", "display_name": "Two-Bit Alchemist", "link": "https://stackoverflow.com/users/2588818/two-bit-alchemist"}, "edited": false, "score": 2, "creation_date": 1441224416, "post_id": 32362148, "comment_id": 52597081, "body": "You have <code>for cars in Car</code>. Car is a class definition. What do you expect that to do? Did you mean to put <code>car1</code> and <code>car2</code> into a list and iterate over that? (I see that you have something at the top of your question about &quot;making a class iterable&quot; but it&#39;s not clear what you want. <code>Car</code> doesn&#39;t seem to represent any kind of collection.)"}, {"owner": {"reputation": 262567, "user_id": 748858, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/17gYz.png?s=128&g=1", "display_name": "mgilson", "link": "https://stackoverflow.com/users/748858/mgilson"}, "reply_to_user": {"reputation": 15387, "user_id": 2588818, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/0PpNx.jpg?s=128&g=1", "display_name": "Two-Bit Alchemist", "link": "https://stackoverflow.com/users/2588818/two-bit-alchemist"}, "edited": false, "score": 0, "creation_date": 1441224542, "post_id": 32362148, "comment_id": 52597139, "body": "@Two-BitAlchemist -- I think that OP wants it to yield <code>C - A - R</code> ... Interesting concept making an iterable <i>class</i>..."}, {"owner": {"reputation": 15387, "user_id": 2588818, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/0PpNx.jpg?s=128&g=1", "display_name": "Two-Bit Alchemist", "link": "https://stackoverflow.com/users/2588818/two-bit-alchemist"}, "reply_to_user": {"reputation": 262567, "user_id": 748858, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/17gYz.png?s=128&g=1", "display_name": "mgilson", "link": "https://stackoverflow.com/users/748858/mgilson"}, "edited": false, "score": 0, "creation_date": 1441224597, "post_id": 32362148, "comment_id": 52597168, "body": "@mgilson I would actually guess that the OP wants it to return every instance so far created, which I doubt is possible, but we shall see."}, {"owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 1, "creation_date": 1441224789, "post_id": 32362148, "comment_id": 52597269, "body": "In Python 3, you define a metaclass with <code>class Car(metaclass=IterableCar)</code>, not with the <code>__metaclass__</code> attribute."}, {"owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "reply_to_user": {"reputation": 15387, "user_id": 2588818, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/0PpNx.jpg?s=128&g=1", "display_name": "Two-Bit Alchemist", "link": "https://stackoverflow.com/users/2588818/two-bit-alchemist"}, "edited": false, "score": 0, "creation_date": 1441225191, "post_id": 32362148, "comment_id": 52597486, "body": "@Two-BitAlchemist It&#39;s possible, in the sense that you just need to maintain such a list yourself with the class&#39;s <code>__new__</code> method."}, {"owner": {"reputation": 15387, "user_id": 2588818, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/0PpNx.jpg?s=128&g=1", "display_name": "Two-Bit Alchemist", "link": "https://stackoverflow.com/users/2588818/two-bit-alchemist"}, "reply_to_user": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 0, "creation_date": 1441225340, "post_id": 32362148, "comment_id": 52597547, "body": "@chepner Would that catch all the subclasses and mixins and such?"}, {"owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 1, "creation_date": 1441225648, "post_id": 32362148, "comment_id": 52597681, "body": "Assuming the metaclass is providing the definition of <code>__new__</code>, I believe so."}, {"owner": {"reputation": 833, "user_id": 1797020, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/aAt5n.jpg?s=128&g=1", "display_name": "mirind4", "link": "https://stackoverflow.com/users/1797020/mirind4"}, "edited": false, "score": 0, "creation_date": 1441226962, "post_id": 32362148, "comment_id": 52598433, "body": "Two-BitAlchemist is right, I want it to return every instance so far created. Sorry for my unclear explanation..."}, {"owner": {"reputation": 833, "user_id": 1797020, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/aAt5n.jpg?s=128&g=1", "display_name": "mirind4", "link": "https://stackoverflow.com/users/1797020/mirind4"}, "edited": false, "score": 0, "creation_date": 1441227225, "post_id": 32362148, "comment_id": 52598570, "body": "Thank you very much, it works fine with the solution below. I appreciate your all help and comments! ;)"}], "answers": [{"comments": [{"owner": {"reputation": 67048, "user_id": 388787, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f786b1ad349a30e02802ae61b4518fc?s=128&d=identicon&r=PG", "display_name": "Dan D.", "link": "https://stackoverflow.com/users/388787/dan-d"}, "edited": false, "score": 0, "creation_date": 1441225601, "post_id": 32362272, "comment_id": 52597665, "body": "The <code>weakref</code> module can be used to fix the memory leak."}, {"owner": {"reputation": 262567, "user_id": 748858, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/17gYz.png?s=128&g=1", "display_name": "mgilson", "link": "https://stackoverflow.com/users/748858/mgilson"}, "reply_to_user": {"reputation": 67048, "user_id": 388787, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f786b1ad349a30e02802ae61b4518fc?s=128&d=identicon&r=PG", "display_name": "Dan D.", "link": "https://stackoverflow.com/users/388787/dan-d"}, "edited": false, "score": 0, "creation_date": 1441225708, "post_id": 32362272, "comment_id": 52597719, "body": "@DanD. -- Yep  <code>weakref.WeakSet</code> is probably the easiest to use object in there that could help here, but that&#39;s out of the scope of this question I think ... (since we don&#39;t really even know what OP is trying to do...)"}, {"owner": {"reputation": 262567, "user_id": 748858, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/17gYz.png?s=128&g=1", "display_name": "mgilson", "link": "https://stackoverflow.com/users/748858/mgilson"}, "reply_to_user": {"reputation": 67048, "user_id": 388787, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f786b1ad349a30e02802ae61b4518fc?s=128&d=identicon&r=PG", "display_name": "Dan D.", "link": "https://stackoverflow.com/users/388787/dan-d"}, "edited": false, "score": 0, "creation_date": 1441225858, "post_id": 32362272, "comment_id": 52597806, "body": "@DanD. -- Updated with a <code>WeakSet</code>"}, {"owner": {"reputation": 833, "user_id": 1797020, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/aAt5n.jpg?s=128&g=1", "display_name": "mirind4", "link": "https://stackoverflow.com/users/1797020/mirind4"}, "reply_to_user": {"reputation": 67048, "user_id": 388787, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f786b1ad349a30e02802ae61b4518fc?s=128&d=identicon&r=PG", "display_name": "Dan D.", "link": "https://stackoverflow.com/users/388787/dan-d"}, "edited": false, "score": 0, "creation_date": 1441380256, "post_id": 32362272, "comment_id": 52671363, "body": "@DanD. Unfortunately I do not understand why the program had memory-leak problem without the weakref module. Is Garbage Collector not working in this situation? To be honest I am still a bit beginner at this topic, sorry for that. Would you be so kind as to give me a short explanation of it? (I know what memory-leak is, but I do not know where is (was) it in mgilson&#39;s code). Many Thanks!"}, {"owner": {"reputation": 262567, "user_id": 748858, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/17gYz.png?s=128&g=1", "display_name": "mgilson", "link": "https://stackoverflow.com/users/748858/mgilson"}, "reply_to_user": {"reputation": 833, "user_id": 1797020, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/aAt5n.jpg?s=128&g=1", "display_name": "mirind4", "link": "https://stackoverflow.com/users/1797020/mirind4"}, "edited": false, "score": 2, "creation_date": 1441380434, "post_id": 32362272, "comment_id": 52671472, "body": "@mirind4 -- If you keep a list of instances at the class level, there will always be a reference to every instance every created.  Because of this, the reference count can never drop to 0 and so the object will never be able to be garbage collected.  It&#39;s possible that is your desired behavior.  With the <code>WeakSet</code>, when an object goes out of scope, it will be garbage collected and the class will stop tracking it."}, {"owner": {"reputation": 833, "user_id": 1797020, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/aAt5n.jpg?s=128&g=1", "display_name": "mirind4", "link": "https://stackoverflow.com/users/1797020/mirind4"}, "edited": false, "score": 0, "creation_date": 1441380817, "post_id": 32362272, "comment_id": 52671704, "body": "@mgilson Thank you again for the explanation, it helped my thinking of this a lot! I am of the opinion that I should look for some articles and information about this &quot;reference count&quot; thing! There is always something to learn! Have a nice day! ;)"}, {"owner": {"reputation": 833, "user_id": 1797020, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/aAt5n.jpg?s=128&g=1", "display_name": "mirind4", "link": "https://stackoverflow.com/users/1797020/mirind4"}, "edited": false, "score": 0, "creation_date": 1441616669, "post_id": 32362272, "comment_id": 52734375, "body": "@mgilson I am still wondering this example, and unfortunately I am not completely understand it, sorry for it! :\\ If you have a little time could you  help me, please? In order to make the class iterable I have to make a metaclass. Till this point I got it. But when I iterate over them in the main function I use the &quot;Car&quot; class as the iterable instead of IterableCar class. What&#39;s exactly happening here? I&#39;ve read articles of this metaclass thing, but it&#39;s still a bit vague for me :\\ And again, sorry for my nooby questions..."}], "tags": [], "owner": {"reputation": 262567, "user_id": 748858, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/17gYz.png?s=128&g=1", "display_name": "mgilson", "link": "https://stackoverflow.com/users/748858/mgilson"}, "is_accepted": true, "score": 4, "last_activity_date": 1441225810, "last_edit_date": 1441225810, "creation_date": 1441224759, "answer_id": 32362272, "question_id": 32362148, "link": "https://stackoverflow.com/questions/32362148/typeerror-type-object-is-not-iterable-iterating-over-object-instances/32362272#32362272", "title": "TypeError: &#39;type&#39; object is not iterable - Iterating over object instances", "body": "<p>As far as I can tell, making a class object iterable by using a metaclass works just fine:</p>\n\n<pre><code>from __future__ import print_function\n\nclass IterableCar(type):\n    def __iter__(cls):\n        return iter(cls.__name__)\n\nclass Car(object):\n    __metaclass__ = IterableCar\n\n    def __init__(self, name):\n        self.name = name\n\n\nif __name__=='__main__':\n\n    car1 = Car('Mercedes')\n    car2 = Car('Toyota')\n    for cars in Car:\n        print (cars)\n</code></pre>\n\n<p>Results in:</p>\n\n<pre><code>mgilson$ python ~/sandbox/test.py \nC\na\nr\n</code></pre>\n\n<hr>\n\n<p>Here's an example where I actually track the cars generated:</p>\n\n<pre><code>from __future__ import print_function\nimport weakref\n\nclass IterableCar(type):\n\n    _cars = weakref.WeakSet()\n\n    def __iter__(cls):\n        return iter(cls._cars)\n\n    def add_car(cls, car):\n        cls._cars.add(car)\n\n\nclass Car(object):\n    __metaclass__ = IterableCar\n\n    def __init__(self, name):\n        self.__class__.add_car(self)\n        self.name = name\n\n\nif __name__=='__main__':\n\n    car1 = Car('Mercedes')\n    car2 = Car('Toyota')\n    for cars in Car:\n        print (cars.name)\n</code></pre>\n\n<p>Note that if you're using python3.x, to use a metaclass you do:</p>\n\n<pre><code>class Car(metaclass=IterableCar):\n    ...\n</code></pre>\n\n<p>Rather than:</p>\n\n<pre><code>class Car(object):\n    __metaclass__ = IterableCar\n</code></pre>\n\n<p>which likely explains the problem that you're experiencing.</p>\n"}, {"comments": [{"owner": {"reputation": 262567, "user_id": 748858, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/17gYz.png?s=128&g=1", "display_name": "mgilson", "link": "https://stackoverflow.com/users/748858/mgilson"}, "edited": false, "score": 0, "creation_date": 1441234710, "post_id": 32362984, "comment_id": 52601376, "body": "Nice.  Now if you just make it a WeakSet to fix the &quot;memory-leak&quot;, you&#39;ll be all set :-)."}, {"owner": {"reputation": 262567, "user_id": 748858, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/17gYz.png?s=128&g=1", "display_name": "mgilson", "link": "https://stackoverflow.com/users/748858/mgilson"}, "edited": false, "score": 0, "creation_date": 1441234778, "post_id": 32362984, "comment_id": 52601396, "body": "And, I suppose for completeness, you&#39;ll want to add the <code>__iter__</code> as well (which would iterate return <code>iter(cls._cars)</code>)"}, {"owner": {"reputation": 833, "user_id": 1797020, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/aAt5n.jpg?s=128&g=1", "display_name": "mirind4", "link": "https://stackoverflow.com/users/1797020/mirind4"}, "edited": false, "score": 0, "creation_date": 1441264667, "post_id": 32362984, "comment_id": 52610167, "body": "@chepner thank you for your detailed answer, I appreciate it! :)"}], "tags": [], "owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "is_accepted": false, "score": 3, "last_activity_date": 1441240879, "last_edit_date": 1441240879, "creation_date": 1441227468, "answer_id": 32362984, "question_id": 32362148, "link": "https://stackoverflow.com/questions/32362148/typeerror-type-object-is-not-iterable-iterating-over-object-instances/32362984#32362984", "title": "TypeError: &#39;type&#39; object is not iterable - Iterating over object instances", "body": "<p>To track instances of the class that are created, we'll start by adding a <code>_cars</code> attribute to each the class created by the metaclass. This will be  set of weak references, so that the class itself does not prevent unused instances from being garbage-collected.</p>\n\n<pre><code>class IterableCar(type):\n    def __new__(meta, name, bases, attrs):\n        attrs['_cars'] = weaker.WeakSet()\n        return type.__new__(meta, name, bases, attrs)\n</code></pre>\n\n<p>To add the instances, we'll override <code>__call__</code>. Essentially, this is where you put code that you would ordinarily put in <code>__new__</code> or <code>__init__</code> when defining the class itself.</p>\n\n<pre><code>    def __call__(cls, *args, **kwargs):\n        rv = type.__call__(cls, *args, **kwargs)\n        cls._cars.add(rv)\n        return rv\n</code></pre>\n\n<p>And to make the class iterable by iterating over its set of instances,</p>\n\n<pre><code>   def __iter__(self):\n       return iter(self._cars)\n</code></pre>\n\n<p>Any class using <code>IterableCar</code> will automatically track its instances.</p>\n\n<pre><code>class Car(metaclass=IterableCar):\n    def __init__(self, name):\n        self.name = name\n\ncar1 = Car('Mercedes')\ncar2 = Car('Toyota')\nfor cars in Car:\n    print(cars.name)\n</code></pre>\n"}], "owner": {"reputation": 833, "user_id": 1797020, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/aAt5n.jpg?s=128&g=1", "display_name": "mirind4", "link": "https://stackoverflow.com/users/1797020/mirind4"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49414, "favorite_count": 3, "accepted_answer_id": 32362272, "answer_count": 2, "score": 5, "last_activity_date": 1441240879, "creation_date": 1441224344, "question_id": 32362148, "link": "https://stackoverflow.com/questions/32362148/typeerror-type-object-is-not-iterable-iterating-over-object-instances", "title": "TypeError: &#39;type&#39; object is not iterable - Iterating over object instances", "body": "<p>I am working on a project and I would like to make one of my classes iterable. To the best of my knowledge I can do that with using metaclass.</p>\n\n<p>First of all I would like to understand how metaclass works. Therefore I would like to present my own practicing example where I made a Car class. So here I would like to make my Car class objects iterable then I would like to print the names of them in the main function. </p>\n\n<p>The code example is the following:</p>\n\n<pre><code>__author__ = 'mirind4'\n\nclass IterableCar(type):\n    def __iter__(self):\n        return iter(self.__name__)\n\nclass Car(object):\n    __metaclass__ = IterableCar\n\n    def __init__(self, name):\n        self.name = name\n\n\nif __name__=='__main__':\n\n    car1 = Car('Mercedes')\n    car2 = Car('Toyota')\n    for cars in Car:\n        print (cars.name)\n</code></pre>\n\n<p>But unfortunately I got an TypeError:</p>\n\n<pre><code>TypeError: 'type' object is not iterable\n</code></pre>\n\n<p>Would you be so kind as to tell me where I do the mistake in my code? So far I have checked similar problem-questions over this site and internet but I do not know what the problem is. I am using python 3.4.\nThanks in advance!</p>\n"}, {"tags": ["python", "matplotlib", "graphing"], "answers": [{"comments": [{"owner": {"reputation": 2277, "user_id": 3957097, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/63777cc85640c099e706502bbd9e5ca6?s=128&d=identicon&r=PG&f=1", "display_name": "loremIpsum1771", "link": "https://stackoverflow.com/users/3957097/loremipsum1771"}, "edited": false, "score": 0, "creation_date": 1441405887, "post_id": 32362387, "comment_id": 52683036, "body": "Thanks, this was a very clear and concise answer! Addressing the last side note you added at the end, in what kinds of cases would you need to add subplots? Also, how did you get the range of the y-axis on your graph to be 1 tick higher and lower than the most extreme data points?"}, {"owner": {"reputation": 705380, "user_id": 190597, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/aabc98d5c6482ca0e1405ec97710f30a?s=128&d=identicon&r=PG&f=1", "display_name": "unutbu", "link": "https://stackoverflow.com/users/190597/unutbu"}, "reply_to_user": {"reputation": 2277, "user_id": 3957097, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/63777cc85640c099e706502bbd9e5ca6?s=128&d=identicon&r=PG&f=1", "display_name": "loremIpsum1771", "link": "https://stackoverflow.com/users/3957097/loremipsum1771"}, "edited": false, "score": 1, "creation_date": 1441413390, "post_id": 32362387, "comment_id": 52684637, "body": "Two or more axes could be used to draw inset axes inside another axes. See for example, <a href=\"http://matplotlib.org/examples/axes_grid/inset_locator_demo2.html\" rel=\"nofollow noreferrer\">matplotlib.org/examples/axes_grid/inset_locator_demo2.html</a> and <a href=\"http://matplotlib.org/examples/pylab_examples/axes_demo.html\" rel=\"nofollow noreferrer\">matplotlib.org/examples/pylab_examples/axes_demo.html</a>. The <code>y-range</code> was chosen automatically by matplotlib. If you wish to change the limits, use <a href=\"http://matplotlib.org/api/axes_api.html#matplotlib.axes.Axes.set_ylim\" rel=\"nofollow noreferrer\"><code>ax.set_ylim</code></a>."}], "tags": [], "owner": {"reputation": 705380, "user_id": 190597, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/aabc98d5c6482ca0e1405ec97710f30a?s=128&d=identicon&r=PG&f=1", "display_name": "unutbu", "link": "https://stackoverflow.com/users/190597/unutbu"}, "is_accepted": true, "score": 3, "last_activity_date": 1441225536, "last_edit_date": 1441225536, "creation_date": 1441225213, "answer_id": 32362387, "question_id": 32362139, "link": "https://stackoverflow.com/questions/32362139/line-on-a-python-graph-doesnt-connect-each-point-chronologically/32362387#32362387", "title": "Line on a python graph doesn&#39;t connect each point chronologically", "body": "<p>This could happen if the <code>xs</code> are not in date-sorted order.\nIf that is indeed the problem, you could fix it by using <code>argsort</code> to sort <code>xs</code> and <code>ys</code>:</p>\n\n<pre><code>idx = np.argsort(xs)\nxs = np.array(xs)[idx]\nys = np.array(ys)[idx]\n</code></pre>\n\n<hr>\n\n<p>For example,</p>\n\n<pre><code>import numpy as np\nimport matplotlib.pyplot as plt\nimport matplotlib.dates as mdates\nimport datetime as DT\n\nrows = [(DT.date(2015,9,2), 25),\n        (DT.date(2015,9,11), 35),\n        (DT.date(2015,9,9), 30),\n        (DT.date(2015,9,5), 27),]\nfig, ax = plt.subplots()\n\nxs = [x[0] for x in rows]\nys = [y[1] for y in rows]\nidx = np.argsort(xs)\nxs = np.array(xs)[idx]\nys = np.array(ys)[idx]\n\nplt.plot(xs,ys, 'r-o')\nfig.autofmt_xdate()\nax.set_xticks(xs)\nax.xaxis_date()\n# Set date format and major locator of x-axis\nax.xaxis.set_major_formatter(mdates.DateFormatter('%m/%d/%Y'))\nax.yaxis.set_major_locator(mdates.DayLocator())\n\nplt.title(\"Ticket Prices over the course of a month\")\nplt.xlabel(\"Date\")\nplt.ylabel(\"Ticket Price\")  \nplt.show()\n</code></pre>\n\n<p>yields<a href=\"https://i.stack.imgur.com/2OEDc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2OEDc.png\" alt=\"enter image description here\"></a></p>\n\n<hr>\n\n<p>Note that if you use </p>\n\n<pre><code>fig, ax = plt.subplots()\n</code></pre>\n\n<p>then you could replace <code>plt.gca()</code> with <code>ax</code>, since <code>plt.gca()</code> returns the current axes.\nAnd similarly, you can replace <code>plt.gcf()</code> with <code>fig</code> since <code>plt.gcf()</code> returns the current figure.</p>\n\n<p>And you probably should not call <code>graph = fig.add_subplot(111)</code> since this overlays a second axes on top of <code>ax</code>. There is no need to set tick marks on <code>graph</code></p>\n\n<pre><code>graph.set_xticks(xs)\n</code></pre>\n\n<p>as well as on <code>ax</code>, since this leads to two sets of tick marks on the x-axis. </p>\n"}], "owner": {"reputation": 2277, "user_id": 3957097, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/63777cc85640c099e706502bbd9e5ca6?s=128&d=identicon&r=PG&f=1", "display_name": "loremIpsum1771", "link": "https://stackoverflow.com/users/3957097/loremipsum1771"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 895, "favorite_count": 0, "accepted_answer_id": 32362387, "answer_count": 1, "score": 0, "last_activity_date": 1441225536, "creation_date": 1441224304, "question_id": 32362139, "link": "https://stackoverflow.com/questions/32362139/line-on-a-python-graph-doesnt-connect-each-point-chronologically", "title": "Line on a python graph doesn&#39;t connect each point chronologically", "body": "<p>I've made a graph that plots the change in the price of a ticket with the dates being on the x-axis and the ticket price being on the y-axis. For some reason, the line that connects the point starts at the first point, goes to the last point and then looks like it connects back to the other two points instead of connecting chronologically by date. This seems like a simple issue to fix, but I can't tell what I'm doing wrong from looking at my code as I'm still very new to using matplotlib. Here is the snippet of code that makes the graph:</p>\n\n<pre><code>fig, ax = plt.subplots()\nax.xaxis_date()\n# Set date format and major locator of x-axis\nplt.gca().xaxis.set_major_formatter(mdates.DateFormatter('%m'+ '/' '%d' + '/' '%Y'))\nplt.gca().yaxis.set_major_locator(mdates.DayLocator())\ngraph = fig.add_subplot(111)\nxs = [x[0] for x in rows]\nys = [y[1] for y in rows]\n\nplt.plot(xs,ys, 'r-o')\nplt.gcf().autofmt_xdate()\ngraph.set_xticks(xs)\nplt.title(\"Ticket Prices over the course of a month\")\nplt.xlabel(\"Date\")\nplt.ylabel(\"Ticket Price\")  \n</code></pre>\n\n<p>Based on the code, what could be causing the problem? An image of the graph is below:</p>\n\n<p><a href=\"https://i.stack.imgur.com/xQTvr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xQTvr.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["python", "python-3.x", "pandas", "file-io", "generator"], "owner": {"reputation": 8720, "user_id": 3846213, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/5PGh1.jpg?s=128&g=1", "display_name": "Eli Korvigo", "link": "https://stackoverflow.com/users/3846213/eli-korvigo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 236, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1485005401, "creation_date": 1441224128, "last_edit_date": 1485005401, "question_id": 32362082, "link": "https://stackoverflow.com/questions/32362082/preprocessed-fileio-generator-in-python", "title": "Preprocessed FileIO generator in Python", "body": "<p>My script uses <code>pandas.read_csv</code> to directly read read csv files into data frames. A user is supposed to provide a configuration file that contains labels of columns to retain along with corresponding data types. Let me illustrate with an example. Here is a csv.</p>\n\n<pre><code>factor,value1,value2,value3\na,1,2.0,1\nb,3,4.1,2\nc,5,6.2,3\n</code></pre>\n\n<p>A config file would be </p>\n\n<pre><code>factor char\nvalue1 integer\nvalue2 float\n</code></pre>\n\n<p>I have a function that transforms the config into a dictionary</p>\n\n<pre><code>col_types = read_types(config)  # -&gt; {\"factor\": str, \"value1\": numpy.int32, \"value2\": numpy.float64}\n</code></pre>\n\n<p>Then I read the csv</p>\n\n<pre><code>df = pandas.read_csv(csv_file, header=0, sep=\",\", index_col=False, dtype=col_types)\n</code></pre>\n\n<p>Sometimes labels listed in a configuration file do not match those in a csv file in terms of letter case consistence, e.g. it can be <code>value1</code> in the config file and <code>Value1</code> in the csv. Hence I want to be able to get a <code>FileIO</code> stream that automatically converts lines into lowercase. I tried this </p>\n\n<pre><code>def read_df(...):\n    with open(csv_file) as csv:\n        lower_lines = (line.lower() for line in csv)\n        return pandas.read_csv(lower_lines, header=0, sep=\",\", \n                               index_col=False, dtype=col_types)\n</code></pre>\n\n<p>This fails, because <code>pandas.read_csv</code> requires a file path or a FileIO stream, not a generator. </p>\n\n<p>Then I attempted to use <code>DataFrame.from_records</code> that can read generators, but doesn't have the <code>dtype</code> argument of <code>pandas.read_csv</code>. Finally I ended up mimicking a file with my own class</p>\n\n<pre><code>class GeneratorWrapper(object):\n    def __init__(self, generator):\n        \"\"\"\n        :type generator: Generator[str]\n        \"\"\"\n        self._generator = generator\n\n    def read(self, n=0):\n        return next(self._generator, \"\")\n\ndef read_df(...):\n    with open(csv_file) as csv:\n        lower_lines = GeneratorWrapper((line.lower() for line in csv))\n        return pandas.read_csv(lower_lines, header=0, sep=\",\", \n                               index_col=False, dtype=col_types)\n</code></pre>\n\n<p>This thing works, but I think it's sort of an overkill. I believe there should be something more Pythonic to get a preprocessed FileIO stream. To make it short, is there a better way to get a lazily processed FileIO-like stream in Python?</p>\n\n<p><strong>Note.</strong> </p>\n\n<p>I know that I can read in all lines, process them and pass to <code>pandas.DataFrame</code>, but I don't want to use any intermediate Python containers, because the files are huge and I don't want to run into memory errors. </p>\n"}, {"tags": ["python", "json"], "comments": [{"owner": {"reputation": 15387, "user_id": 2588818, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/0PpNx.jpg?s=128&g=1", "display_name": "Two-Bit Alchemist", "link": "https://stackoverflow.com/users/2588818/two-bit-alchemist"}, "edited": false, "score": 1, "creation_date": 1441224349, "post_id": 32362030, "comment_id": 52597052, "body": "What? Are you asking how to convert arbitrary HTML to some JSON representation? How?"}, {"owner": {"reputation": 4230, "user_id": 1912128, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/YyM8r.png?s=128&g=1", "display_name": "taesu", "link": "https://stackoverflow.com/users/1912128/taesu"}, "edited": false, "score": 0, "creation_date": 1441224350, "post_id": 32362030, "comment_id": 52597053, "body": "have you tried <code>request</code> lib?"}, {"owner": {"reputation": 3501, "user_id": 896317, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/ZbKPx.png?s=128&g=1", "display_name": "GiannisIordanou", "link": "https://stackoverflow.com/users/896317/giannisiordanou"}, "edited": false, "score": 0, "creation_date": 1441227085, "post_id": 32362030, "comment_id": 52598497, "body": "For reading json, I use requests or pd.read_json."}], "answers": [{"comments": [{"owner": {"reputation": 4230, "user_id": 1912128, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/YyM8r.png?s=128&g=1", "display_name": "taesu", "link": "https://stackoverflow.com/users/1912128/taesu"}, "reply_to_user": {"reputation": 15387, "user_id": 2588818, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/0PpNx.jpg?s=128&g=1", "display_name": "Two-Bit Alchemist", "link": "https://stackoverflow.com/users/2588818/two-bit-alchemist"}, "edited": false, "score": 0, "creation_date": 1441224839, "post_id": 32362184, "comment_id": 52597295, "body": "I don&#39;t know if he is requesting on something that returns json, OR something that returns html....so vague"}, {"owner": {"reputation": 3501, "user_id": 896317, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/ZbKPx.png?s=128&g=1", "display_name": "GiannisIordanou", "link": "https://stackoverflow.com/users/896317/giannisiordanou"}, "edited": false, "score": 0, "creation_date": 1441225121, "post_id": 32362184, "comment_id": 52597454, "body": "I am looking for something like &quot;View Selection Source&quot;, just to help me identify the key in json I need."}, {"owner": {"reputation": 4230, "user_id": 1912128, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/YyM8r.png?s=128&g=1", "display_name": "taesu", "link": "https://stackoverflow.com/users/1912128/taesu"}, "reply_to_user": {"reputation": 3501, "user_id": 896317, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/ZbKPx.png?s=128&g=1", "display_name": "GiannisIordanou", "link": "https://stackoverflow.com/users/896317/giannisiordanou"}, "edited": false, "score": 1, "creation_date": 1441225234, "post_id": 32362184, "comment_id": 52597505, "body": "@evil_inside you&#39;re just repeating yourself. still unclear. what is the website url"}, {"owner": {"reputation": 3501, "user_id": 896317, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/ZbKPx.png?s=128&g=1", "display_name": "GiannisIordanou", "link": "https://stackoverflow.com/users/896317/giannisiordanou"}, "edited": false, "score": 0, "creation_date": 1441225395, "post_id": 32362184, "comment_id": 52597576, "body": "I added the website url. I am not looking for how to read the json or how to find keys or values."}, {"owner": {"reputation": 4230, "user_id": 1912128, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/YyM8r.png?s=128&g=1", "display_name": "taesu", "link": "https://stackoverflow.com/users/1912128/taesu"}, "edited": false, "score": 0, "creation_date": 1441225704, "post_id": 32362184, "comment_id": 52597716, "body": "the url is <code>http:&#47;&#47;praktoreio.pamestoixima.gr&#47;web&#47;services&#47;rs&#47;iFlexBetti&zwnj;&#8203;ng&#47;config&#47;15104&#47;0.js&zwnj;&#8203;on?type=sport&amp;locale&zwnj;&#8203;=gr&amp;brandId=defaultB&zwnj;&#8203;rand&amp;channelId=0</code>"}, {"owner": {"reputation": 3501, "user_id": 896317, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/ZbKPx.png?s=128&g=1", "display_name": "GiannisIordanou", "link": "https://stackoverflow.com/users/896317/giannisiordanou"}, "edited": false, "score": 0, "creation_date": 1441226398, "post_id": 32362184, "comment_id": 52598121, "body": "I have updated my question with the site url and the json url."}], "tags": [], "owner": {"reputation": 4230, "user_id": 1912128, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/YyM8r.png?s=128&g=1", "display_name": "taesu", "link": "https://stackoverflow.com/users/1912128/taesu"}, "is_accepted": false, "score": 0, "last_activity_date": 1441224475, "creation_date": 1441224475, "answer_id": 32362184, "question_id": 32362030, "link": "https://stackoverflow.com/questions/32362030/how-can-i-get-the-json-of-a-selection-in-a-webpage/32362184#32362184", "title": "How can I get the json of a selection in a webpage?", "body": "<p>run <code>pip install requests</code>, then</p>\n\n<pre><code>import request\njson = request.get('http://example.com').json()\n</code></pre>\n\n<p>if what you are requesting returns json, then above will work<br>\nif not, then you have to take string format and create you rown json</p>\n\n<pre><code>text = request.get('http://example.com').text\njson = magically_turn_into_json(text)\n</code></pre>\n"}], "owner": {"reputation": 3501, "user_id": 896317, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/ZbKPx.png?s=128&g=1", "display_name": "GiannisIordanou", "link": "https://stackoverflow.com/users/896317/giannisiordanou"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 29, "favorite_count": 0, "answer_count": 1, "score": -4, "last_activity_date": 1441226276, "creation_date": 1441223933, "last_edit_date": 1441226276, "question_id": 32362030, "link": "https://stackoverflow.com/questions/32362030/how-can-i-get-the-json-of-a-selection-in-a-webpage", "title": "How can I get the json of a selection in a webpage?", "body": "<p>For example, we have a webpage with a table filled with numbers. We know that there is json that contains the data we want. We open the specific webpage in a browser and select the first number of the first column.</p>\n\n<p>Below are the specific site url and its json url:</p>\n\n<ul>\n<li><a href=\"http://praktoreio.pamestoixima.gr/el/web/guest/print-retail?dateIsSet=false&amp;currentDrawNumber=13&amp;sportId=s-441\" rel=\"nofollow\">site url</a></li>\n<li><a href=\"http://praktoreio.pamestoixima.gr/web/services/rs/iFlexBetting/retail/games/15104/0.json?shortTourn=true&amp;startDrawNumber=13&amp;endDrawNumber=13&amp;sportId=s-441&amp;marketIds=0&amp;marketIds=0A&amp;marketIds=1&amp;marketIds=69&amp;marketIds=68&amp;marketIds=20&amp;marketIds=21&amp;marketIds=8&amp;locale=gr&amp;brandId=defaultBrand&amp;channelId=0\" rel=\"nofollow\">json url</a></li>\n</ul>\n\n<p>Can I see where in the json is the specific value ? Which key it corresponds to ? </p>\n\n<p>Something similar to \"View Selection Source\" when you select something in a browser, but for json.</p>\n"}, {"tags": ["python", "argparse"], "comments": [{"owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 0, "creation_date": 1441228146, "post_id": 32362008, "comment_id": 52598973, "body": "It&#39;s the first <code>parse_args</code> call that is raising the error."}], "answers": [{"comments": [{"owner": {"reputation": 405, "user_id": 1883424, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/5d4ca62249d51e2995c893fb8f82b293?s=128&d=identicon&r=PG", "display_name": "Thomas", "link": "https://stackoverflow.com/users/1883424/thomas"}, "edited": false, "score": 0, "creation_date": 1441224744, "post_id": 32362080, "comment_id": 52597250, "body": "Ugh, not sure how I missed that in the docs. Anyway, thanks; that works perfectly."}], "tags": [], "owner": {"reputation": 250, "user_id": 4681444, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-BcgUJHJLSjk/AAAAAAAAAAI/AAAAAAAAApI/hLSS67wBgng/photo.jpg?sz=128", "display_name": "Bubai", "link": "https://stackoverflow.com/users/4681444/bubai"}, "is_accepted": true, "score": 7, "last_activity_date": 1441224827, "last_edit_date": 1441224827, "creation_date": 1441224118, "answer_id": 32362080, "question_id": 32362008, "link": "https://stackoverflow.com/questions/32362008/how-to-call-parse-args-twice-on-the-same-set-of-arguments-in-pythons-argparse/32362080#32362080", "title": "How to call parse_args() twice on the same set of arguments in Python&#39;s argparse?", "body": "<p>you need to use <code>parser.parse_known_args()</code> as opposed to <code>parser.parse_args()</code>, or add all the arguments to parser before calling <code>parse_args()</code>.</p>\n\n<p><code>parse_args()</code> needs to understand all the current arguments in <code>sys.argv</code>, which already contains <code>--num</code> at the time of first parsing, hence the exception.</p>\n"}, {"tags": [], "owner": {"reputation": 450, "user_id": 4685993, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/e9kHn.png?s=128&g=1", "display_name": "LittleEaster", "link": "https://stackoverflow.com/users/4685993/littleeaster"}, "is_accepted": false, "score": 4, "last_activity_date": 1488687950, "last_edit_date": 1488687950, "creation_date": 1488557442, "answer_id": 42583574, "question_id": 32362008, "link": "https://stackoverflow.com/questions/32362008/how-to-call-parse-args-twice-on-the-same-set-of-arguments-in-pythons-argparse/42583574#42583574", "title": "How to call parse_args() twice on the same set of arguments in Python&#39;s argparse?", "body": "<p>You can do it with namespace and parse_known_args, and call parse_args at the end</p>\n\n<pre><code>class UserNamespace(object):\n    pass\nuser_namespace = UserNamespace()\n\np = argparse.ArgumentParser() \np.add_argument('-c', '--config', dest='config', default='')\np.parse_known_args(namespace=user_namespace)\nif user_namespace.config == '':\n    p.add_argument('-w', '--whatever', dest='whatever', default='')\n\nparsed_args = p.parse_args(namespace=user_namespace)\n</code></pre>\n\n<p>for the specific case: </p>\n\n<p>num.py:  </p>\n\n<pre><code>import argparse\nclass UserNamespace(object):\n    pass\nuser_namespace = UserNamespace()\n\nparser = argparse.ArgumentParser()\nparser.add_argument('--valid_nums', dest='valid_nums',\n                    type=int,\n                    nargs='+')\n\nparser.parse_known_args(namespace=user_namespace)\n\nparser.add_argument('--num',\n                    type=int,\n                    choices=user_namespace.valid_nums)\n\nargs = parser.parse_args(namespace=user_namespace)\n\nprint \"Numbers: \", user_namespace.valid_nums\n</code></pre>\n\n<p>so you call: </p>\n\n<pre><code>$python num.py --valid_nums 1 2 3 --num 2  \nNumbers:  [1, 2, 3]\n\n$python num.py --valid_nums 1 2 3 --num 4  \nusage: num.py [-h] [--valid_nums VALID_NUMS [VALID_NUMS ...]] [--num {1,2,3}]\nnum.py: error: argument --num: invalid choice: 4 (choose from 1, 2, 3)\n</code></pre>\n\n<p>references : \n<a href=\"https://docs.python.org/2.7/library/argparse.html#argparse.Namespace\" rel=\"nofollow noreferrer\">argparse namespace</a><br>\n<a href=\"https://docs.python.org/2.7/library/argparse.html#argparse.ArgumentParser.parse_known_args\" rel=\"nofollow noreferrer\">argparse parse_known_args</a></p>\n\n<p>bye!</p>\n\n<p>Update March 4 2017\nBetter to instantiate the UserNamespace, or other functionalities (like add_subparsers) could not work properly.</p>\n"}], "owner": {"reputation": 405, "user_id": 1883424, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/5d4ca62249d51e2995c893fb8f82b293?s=128&d=identicon&r=PG", "display_name": "Thomas", "link": "https://stackoverflow.com/users/1883424/thomas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3185, "favorite_count": 1, "accepted_answer_id": 32362080, "answer_count": 2, "score": 1, "last_activity_date": 1488687950, "creation_date": 1441223852, "question_id": 32362008, "link": "https://stackoverflow.com/questions/32362008/how-to-call-parse-args-twice-on-the-same-set-of-arguments-in-pythons-argparse", "title": "How to call parse_args() twice on the same set of arguments in Python&#39;s argparse?", "body": "<p>Simplified test case:\nI have a script that takes two arguments. The first is a list of integers. The second is a single integer that must be contained in the first argument's set of integers.</p>\n\n<p>For example:</p>\n\n<pre><code>$ python argtest.py --valid_nums 1 2 3 --num 2\n</code></pre>\n\n<p>Should work, but:</p>\n\n<pre><code>$ python argtest.py --valid_nums 1 2 3 --num 4\n</code></pre>\n\n<p>Should not work, since <code>num</code> is not <code>in</code> <code>valid_nums</code>. However, I have had some difficulty (read: I suspect it is more trouble than it's worth, but I really want it to work) implementing this functionality.</p>\n\n<p>Implementation attempt:</p>\n\n<pre><code>import argparse\n\nparser = argparse.ArgumentParser()\nparser.add_argument('--valid_nums',\n                    type=int,\n                    nargs='+')\n\nargs = parser.parse_args()\nprint \"Numbers: \", args.valid_nums\n\n\nparser.add_argument('--num',\n                    type=int,\n                    choices=args.valid_nums)\n\nargs = parser.parse_args()\nprint args\n</code></pre>\n\n<p>Actual output:</p>\n\n<pre><code>$ python argtesttest.py --valid_nums 1 2 3 --num 2\nusage: argtesttest.py [-h] [--valid_nums VALID_NUMS [VALID_NUMS ...]]\nargtesttest.py: error: unrecognized arguments: --num 2\n</code></pre>\n\n<p>Desired output:</p>\n\n<pre><code>$ python argtesttest.py --valid_nums 1 2 3 --num 2\nNamespace(num=2, valid_nums=[1, 2, 3])\n</code></pre>\n\n<p>Now, (I think) the issue here is that I cannot add a new argument to the parser after I have called <code>parse_args()</code>, which yields the error about an unrecognized argument, but I can't think of a way around it. Is there any way to break up the processing of arguments such that it isn't all at once?</p>\n\n<p>Obviously this would be pretty trivial to do if I only called <code>parse_args()</code> once and handled the container membership checking myself, but I'd like to get it working 'natively' using <code>argparse</code>'s built-in error-checking.</p>\n\n<p>Any ideas?</p>\n"}, {"tags": ["python", "file", "io", "fortran", "fortran90"], "comments": [{"owner": {"reputation": 49888, "user_id": 721644, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/KSRQT.jpg?s=128&g=1", "display_name": "Vladimir F", "link": "https://stackoverflow.com/users/721644/vladimir-f"}, "edited": false, "score": 1, "creation_date": 1441225322, "post_id": 32362005, "comment_id": 52597538, "body": "How did you reshape it? Did you use the Fortran column major order? How does your incorrect result look like?"}, {"owner": {"reputation": 6505, "user_id": 3059097, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66b82e3e2f10c9983fb609e74224d078?s=128&d=identicon&r=PG", "display_name": "casey", "link": "https://stackoverflow.com/users/3059097/casey"}, "edited": false, "score": 1, "creation_date": 1441226515, "post_id": 32362005, "comment_id": 52598181, "body": "you are writing reals of the default kind and reading double precision reals.  Unless you are overriding the default real kind, it is single precision (<code>float32</code> in python).  What is the value of <code>sizeofreal</code>? What is your python output and what is your expected output?  Which compiler are you using and are there any options affecting record sizes (e.g. the default unit of recl is different in gfortran and ifort)"}, {"owner": {"reputation": 6505, "user_id": 3059097, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66b82e3e2f10c9983fb609e74224d078?s=128&d=identicon&r=PG", "display_name": "casey", "link": "https://stackoverflow.com/users/3059097/casey"}, "edited": false, "score": 1, "creation_date": 1441226912, "post_id": 32362005, "comment_id": 52598403, "body": "if <code>Npoints</code> is small, can you post a hexdump of the output file?  If <code>Npoints</code> is large, you could post the beginning of the file and a few lines in."}, {"owner": {"reputation": 590, "user_id": 3854029, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/6kMnx.png?s=128&g=1", "display_name": "rohanp", "link": "https://stackoverflow.com/users/3854029/rohanp"}, "reply_to_user": {"reputation": 6505, "user_id": 3059097, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66b82e3e2f10c9983fb609e74224d078?s=128&d=identicon&r=PG", "display_name": "casey", "link": "https://stackoverflow.com/users/3059097/casey"}, "edited": false, "score": 0, "creation_date": 1441232847, "post_id": 32362005, "comment_id": 52600809, "body": "@casey <code>sizeofreal</code> is 4 and I am using mpiifort to compile. I&#39;ve posted the declarations at the top of the file and some additional info."}], "answers": [{"comments": [{"owner": {"reputation": 49888, "user_id": 721644, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/KSRQT.jpg?s=128&g=1", "display_name": "Vladimir F", "link": "https://stackoverflow.com/users/721644/vladimir-f"}, "edited": false, "score": 1, "creation_date": 1441265761, "post_id": 32365282, "comment_id": 52610773, "body": "Yeah, the format is very processor dependent. AFAIK gfortran does not delimit records in direct access files, they look like stream files."}, {"owner": {"reputation": 6505, "user_id": 3059097, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66b82e3e2f10c9983fb609e74224d078?s=128&d=identicon&r=PG", "display_name": "casey", "link": "https://stackoverflow.com/users/3059097/casey"}, "reply_to_user": {"reputation": 49888, "user_id": 721644, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/KSRQT.jpg?s=128&g=1", "display_name": "Vladimir F", "link": "https://stackoverflow.com/users/721644/vladimir-f"}, "edited": false, "score": 1, "creation_date": 1441288046, "post_id": 32365282, "comment_id": 52625608, "body": "@VladimirF precisely the reason I avoid the headache and use hdf5 for all my IO."}, {"owner": {"reputation": 6498, "user_id": 1004168, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c05e808436031bc45a7620adc236e3d?s=128&d=identicon&r=PG", "display_name": "agentp", "link": "https://stackoverflow.com/users/1004168/agentp"}, "edited": false, "score": 0, "creation_date": 1441305647, "post_id": 32365282, "comment_id": 52636789, "body": "intel also does not use headers with direct access. Actually Ive never seen otherwise over the years, but I don&#39;t know what the standard actually says on the matter.  Another thing to watch for, the <code>recl=</code> unit may not be, ( or perhaps usually is not ) single bytes but 4 byte units."}, {"owner": {"reputation": 6505, "user_id": 3059097, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66b82e3e2f10c9983fb609e74224d078?s=128&d=identicon&r=PG", "display_name": "casey", "link": "https://stackoverflow.com/users/3059097/casey"}, "reply_to_user": {"reputation": 6498, "user_id": 1004168, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c05e808436031bc45a7620adc236e3d?s=128&d=identicon&r=PG", "display_name": "agentp", "link": "https://stackoverflow.com/users/1004168/agentp"}, "edited": false, "score": 0, "creation_date": 1441306166, "post_id": 32365282, "comment_id": 52637081, "body": "@agentp Its possible that first 32 bits isn&#39;t a header, but as a 32 bit real it is on the order of 1e-7 and doesn&#39;t match his expected data.  Of course, without knowing his <code>Npoints</code> or what his data actually is there is no 100% way to tell for sure."}], "tags": [], "owner": {"reputation": 6505, "user_id": 3059097, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66b82e3e2f10c9983fb609e74224d078?s=128&d=identicon&r=PG", "display_name": "casey", "link": "https://stackoverflow.com/users/3059097/casey"}, "is_accepted": true, "score": 9, "last_activity_date": 1441577860, "last_edit_date": 1441577860, "creation_date": 1441240718, "answer_id": 32365282, "question_id": 32362005, "link": "https://stackoverflow.com/questions/32362005/python-reading-unformatted-direct-access-fortran-90-gives-incorrect-output/32365282#32365282", "title": "Python reading unformatted direct access Fortran 90 gives incorrect output", "body": "<p>Unformatted Fortran binary files encode record length to delimit the records.  In general the record length will be written both before and after each record, though if memory serves the details of that are processor dependent (See the second half of the post if records are not delimited in this way).  Looking at the file you posted, if you interpret the first 4 bytes as an integer and the remaining bytes as 32 bit floating point values you get:</p>\n\n<pre><code>0000000        881505604    7.302916e+00    8.723415e+00    6.914254e+00\n0000020     9.826199e+00    7.044637e+00    8.601265e+00    6.629045e+00\n0000040     6.103047e+00    9.476192e+00    9.326468e+00    6.535160e+00\n0000060     8.904651e+00    4.710213e+00    6.534080e+00    1.156603e+01\n0000100     1.046533e+01    9.343380e+00    8.574672e+00    7.498291e+00\n0000120     1.071538e+01    7.138038e+00    5.898036e+00    6.182026e+00\n0000140     7.037515e+00    6.418780e+00    6.294755e+00    8.327971e+00\n0000160     6.796582e+00    7.397069e+00    6.493272e+00    1.126087e+01\n0000200     6.467663e+00    7.178994e+00    7.867798e+00    5.921878e+00\n</code></pre>\n\n<p>If you seek past this record length field you can read the rest of the record into a python variable.  You will want to specify the correct number of bytes because there will be another record length at the end of the record and that will read in as a wrong value into your array.  881505604 implies your <code>NPoints</code> is 220376401 (if this is not true, then see the second half of the post, this may be data and not a record length).</p>\n\n<p>You can read this data in python with:</p>\n\n<pre><code>f = open('fortran_output', 'rb')\nrecl = np.fromfile(f, dtype='int32', count=1)\nf.seek(4)\nfield = np.fromfile(f, dtype='float32')\n\nprint('Record length=',recl)\nprint(field)\n</code></pre>\n\n<p>This reads the record length, seeks 4 bytes forward and reads the rest of the file into a float32 array.  You will want to, as mentioned before, specify a proper <code>count=</code> to the read to not intake the end record field.</p>\n\n<p>This program outputs the following for your input file:</p>\n\n<pre><code>Record length= [881505604]\n[ 7.30291557  8.72341537  6.91425419 ...,  6.4588294   6.53710747\n  6.01582813]\n</code></pre>\n\n<p>All of the 32 bit reals in the array are between 0 and 20 as you suggest is proper for your data, so this looks like what you want.</p>\n\n<hr>\n\n<p>If, however, your compiler does not encode record length in delimiting records for unformatted, direct access files, then the output is instead interpreted as 32 bit floats is:</p>\n\n<pre><code>0000000    2.583639e-07       7.3029156        8.723415        6.914254\n0000020        9.826199        7.044637        8.601265        6.629045\n0000040        6.103047       9.4761915        9.326468       6.5351596\n0000060        8.904651        4.710213         6.53408       11.566033\n0000100       10.465328         9.34338        8.574672        7.498291\n0000120       10.715377        7.138038       5.8980355        6.182026\n0000140       7.0375147         6.41878       6.2947555       8.3279705\n0000160       6.7965817       7.3970685       6.4932723       11.260868\n0000200        6.467663        7.178994        7.867798       5.9218783\n0000220        6.710998         5.71757       6.1372333        5.809089\n</code></pre>\n\n<p>where the first value is much smaller toward zero, which may be appropriate given you say the matrix diagonal should be 0.</p>\n\n<p>To read this you can do the read in python just as you were attempting, though it would be prudent to use <code>count=</code> to only read in the proper record length if there is more than one record in the file.</p>\n\n<p>Using the python code:</p>\n\n<pre><code>f = open('fortran_output', 'rb')\nfield = np.fromfile(f, dtype='float32')\n\nprint(field)\n</code></pre>\n\n<p>produces the output</p>\n\n<pre><code>[  2.58363912e-07   7.30291557e+00   8.72341537e+00 ...,   6.45882940e+00\n   6.53710747e+00   6.01582813e+00]\n</code></pre>\n\n<p>which matches the file output interpreted as 32 bit floats. </p>\n\n<hr>\n\n<p>The particulars of the writing are generally with no record delimiter for this kind of output when tested with various gfortran and ifort versions, but may be like the first half of the post or something different for other compilers.</p>\n\n<p>I also want to re-iterate the caveat that this solution is not with 100% confidence since we do not have the data that you wrote into this file to verify.  You do have that information though, and you should verify the data produced is proper.  It is also worth noting when compiling with default flags, ifort record lengths are in 4 byte words, while gfortran is in 1 byte units.  This won't cause a problem in output but if not compensated for in ifort, your files will be 4 times bigger than needed.  You can get record lengths in byte units by using <code>-assume byterecl</code> with ifort.</p>\n"}], "owner": {"reputation": 590, "user_id": 3854029, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/6kMnx.png?s=128&g=1", "display_name": "rohanp", "link": "https://stackoverflow.com/users/3854029/rohanp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3201, "favorite_count": 2, "accepted_answer_id": 32365282, "answer_count": 1, "score": 3, "last_activity_date": 1441577860, "creation_date": 1441223823, "last_edit_date": 1495540332, "question_id": 32362005, "link": "https://stackoverflow.com/questions/32362005/python-reading-unformatted-direct-access-fortran-90-gives-incorrect-output", "title": "Python reading unformatted direct access Fortran 90 gives incorrect output", "body": "<p>Here is how the data is written (its a 2-D matrix of floats. I am not sure the size). </p>\n\n<pre><code>open(unit=51,file='rmsd/'//nn_output,form='unformatted',access='direct',status='replace',&amp;\n     recl=Npoints*sizeofreal)\n\n!a bunch of code omitted \n\n    write(51,rec=idx-nstart+1) (real(dist(jdx)),jdx=1,Npoints)\n</code></pre>\n\n<p>Here is how I am trying to read the file, inspired from the answer to these similar questions: <a href=\"https://stackoverflow.com/questions/10475839/reading-a-direct-access-fortran-unformatted-file-in-python\">1</a>, <a href=\"https://stackoverflow.com/questions/13827368/how-to-read-an-outputted-fortran-binary-nxnxn-matrix-into-python?lq=1\">2</a>.</p>\n\n<pre><code>   f = open(inputfilename,'rb')\n   field = np.fromfile(f,dtype='float64')\n</code></pre>\n\n<p>But the result is not correct. The diagonal of the matrix should be 0 (or very close) as it is a similarity matrix. I tried different <code>dtype</code>s but I still could not get a correct result.</p>\n\n<p>EDIT: here is the output I get </p>\n\n<pre><code>array([  1.17610188e+01,   2.45736970e+02,   7.79741823e+02, ...,\n         9.52930627e+05,   8.93743127e+05,   7.64186127e+05])\n</code></pre>\n\n<p>I haven't bothered with reshaping yet, as the values should range from 0 to ~20. </p>\n\n<p>EDIT 2: Here is a link to the first 100 lines of the file:\n<a href=\"https://drive.google.com/file/d/0B2Mz7CoRS5g5SmRxTUg5X19saGs/view?usp=sharing\" rel=\"nofollow noreferrer\">https://drive.google.com/file/d/0B2Mz7CoRS5g5SmRxTUg5X19saGs/view?usp=sharing</a></p>\n\n<p>EDIT 3: Declarations at top of file</p>\n\n<pre><code>integer,parameter :: real_kind=8\n!valuables for MPI\ninteger :: comm, nproc, myid, ierr\n\ninteger,allocatable :: idneigh(:)\nreal :: tmp\nreal,allocatable :: traj(:,:)\nreal(real_kind),allocatable :: dist(:)\nreal(real_kind),allocatable :: xx(:,:),yy(:,:),rot(:),weight(:)\ncharacter(200) :: nn_traj, nn_output, nn_neigh\ninteger,parameter :: sizeofreal=4,sizeofinteger=4\n</code></pre>\n"}, {"tags": ["python", "image", "python-imaging-library"], "comments": [{"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 2, "creation_date": 1441224043, "post_id": 32361908, "comment_id": 52596902, "body": "You&#39;re updating an RGB image, so need to use something like <code>rgb.putpixel((x,y),(value, value, value))</code>."}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 1, "creation_date": 1441239258, "post_id": 32361908, "comment_id": 52602588, "body": "Off topic a little, but the first code snippet creates a greyscale image with alpha, and the second creates an RGB image without any alpha. Aside from your main problem, what exactly do you want, alpha-wise, to happen?"}], "answers": [{"comments": [{"owner": {"reputation": 1309, "user_id": 963465, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90d19ec4fadc2c91ec8d5b6e6d17ed65?s=128&d=identicon&r=PG", "display_name": "Michiel Overtoom", "link": "https://stackoverflow.com/users/963465/michiel-overtoom"}, "edited": false, "score": 0, "creation_date": 1441280358, "post_id": 32362456, "comment_id": 52619969, "body": "You&#39;re creating a greyscale image with an alpha (transparency) channel here, mode &#39;LA&#39;. You don&#39;t seem to use any transparency at all, so maybe a simple greyscale image (mode &#39;L&#39;) would work too. You&#39;d call putpixel((x,y), value), then."}], "tags": [], "owner": {"reputation": 565, "user_id": 3927604, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kF0p2.jpg?s=128&g=1", "display_name": "kanatti", "link": "https://stackoverflow.com/users/3927604/kanatti"}, "is_accepted": false, "score": 0, "last_activity_date": 1441225480, "creation_date": 1441225480, "answer_id": 32362456, "question_id": 32361908, "link": "https://stackoverflow.com/questions/32361908/python-gray-scale-formula-with-pil/32362456#32362456", "title": "Python - gray scale formula with PIL", "body": "<p>Greyscale image will be having a tuple of two values for each pixel - (luminosity value, 255). Creating a new greyscale image and putting values to each pixel will work.</p>\n\n<pre><code>greyim=Image.new(\"LA\",(width,height))\n\nfor x in range(width):\n    for y in range(height):\n        red,green,blue = rgb.getpixel((x,y))\n        value = red * 299/1000 + green * 587/1000 + blue * 114/1000\n        greyim.putpixel((x,y),(value,255))\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 1, "creation_date": 1441240288, "post_id": 32362460, "comment_id": 52602825, "body": "+1: Pretty much what I would have suggested if I didn&#39;t have to run off and do something else (so didn&#39;t have time to write a proper answer as you have done)."}], "tags": [], "owner": {"reputation": 940, "user_id": 3818521, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20506957466fa47bc9bfd42d07690f47?s=128&d=identicon&r=PG&f=1", "display_name": "dpwilson", "link": "https://stackoverflow.com/users/3818521/dpwilson"}, "is_accepted": true, "score": 3, "last_activity_date": 1441225490, "last_edit_date": 1495542815, "creation_date": 1441225490, "answer_id": 32362460, "question_id": 32361908, "link": "https://stackoverflow.com/questions/32361908/python-gray-scale-formula-with-pil/32362460#32362460", "title": "Python - gray scale formula with PIL", "body": "<p>As <a href=\"https://stackoverflow.com/users/355230/martineau\">martineau</a> mentioned, <code>rgb</code> is initialized as an RGB (tri-band) image, so it is expecting RGB values. You want grayscale, which only requires a single band. You have two options here:</p>\n\n<ol>\n<li>Follow martineau's advice and simply swap out <code>rgb.putpixel((x,y),value)</code> for <code>rgb.putpixel((x, y), (value, value, value))</code>. This will give it the proper three color values.</li>\n<li>Create a new grayscale image using <code>Image.new('L',...)</code> before putting the pixels into it.</li>\n</ol>\n\n<p>Here's how you might implement option 2 (note that I'm using Python 2.7):</p>\n\n<pre><code>from PIL import Image\n\npath = \"people.jpg\"\n\nimg = Image.open(path)\nwidth, height = rgb.size\ngray = Image.new('L', (width, height))\n\nfor x in xrange(width):\n    for y in xrange(height):\n        r, g, b = img.getpixel((x, y))\n        value = r * 299.0/1000 + g * 587.0/1000 + b * 114.0/1000\n        value = int(value)\n        gray.putpixel((x, y), value)\n\ngray.save(\"new.png\")\n</code></pre>\n\n<p>Also, if speed is a concern, consider using <code>putdata()</code> instead of <code>putpixel()</code>. (That's beside the point, so I won't belabor it.)</p>\n"}], "owner": {"reputation": 49, "user_id": 4401509, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/3d6762140e83ae13b0390905db4bdcf0?s=128&d=identicon&r=PG&f=1", "display_name": "dsv_dsv", "link": "https://stackoverflow.com/users/4401509/dsv-dsv"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4202, "favorite_count": 0, "accepted_answer_id": 32362460, "answer_count": 2, "score": 3, "last_activity_date": 1441225490, "creation_date": 1441223489, "question_id": 32361908, "link": "https://stackoverflow.com/questions/32361908/python-gray-scale-formula-with-pil", "title": "Python - gray scale formula with PIL", "body": "<p>I want to make greyscale image by my own code. </p>\n\n<pre><code>from PIL import Image\n\npath = \"people.jpg\"\n\nimg = Image.open(path)\nimg = img.convert(\"LA\")\nimg.save(\"new_image.png\")\n</code></pre>\n\n<p>So I change <code>img.convert()</code> for my own formula. But it does not work.</p>\n\n<pre><code>from PIL import Image\n\npath = \"people.jpg\"\n\nimg = Image.open(path)\nrgb = img.convert(\"RGB\")\nwidth,height = rgb.size\n\nfor x in range(width):\n    for y in range(height):\n        red,green,blue = rgb.getpixel((x,y))\n        value = red * 299/1000 + green * 587/1000 + blue * 114/1000\n        value = int(value)\n        rgb.putpixel((x,y),value)\n\n\nrgb.save(\"new.png\")\n</code></pre>\n\n<p>Any idea what is wrong? The new image is with red backgroud.</p>\n"}, {"tags": ["python", "if-statement", "for-loop", "procedure"], "comments": [{"owner": {"reputation": 209335, "user_id": 661519, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1735ab1c8ba4229daa855ec6aad03065?s=128&d=identicon&r=PG", "display_name": "juanchopanza", "link": "https://stackoverflow.com/users/661519/juanchopanza"}, "edited": false, "score": 4, "creation_date": 1441223435, "post_id": 32361876, "comment_id": 52596567, "body": "No. The <code>return</code> stops the loop by <i>returning</i> from the function to the caller."}, {"owner": {"reputation": 4230, "user_id": 1912128, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/YyM8r.png?s=128&g=1", "display_name": "taesu", "link": "https://stackoverflow.com/users/1912128/taesu"}, "edited": false, "score": 0, "creation_date": 1441223486, "post_id": 32361876, "comment_id": 52596596, "body": "You made it so that it stops and returns the count."}, {"owner": {"reputation": 2273, "user_id": 1494085, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/6346d34f0486f6a2566d49501fa7cc5d?s=128&d=identicon&r=PG", "display_name": "Sakib Ahammed", "link": "https://stackoverflow.com/users/1494085/sakib-ahammed"}, "edited": false, "score": 0, "creation_date": 1441223682, "post_id": 32361876, "comment_id": 52596702, "body": "what do u want? can you please explain an input &amp; output?"}], "answers": [{"tags": [], "owner": {"reputation": 923, "user_id": 5224291, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b101e6ab63ba8eada8f369fa164481c4?s=128&d=identicon&r=PG&f=1", "display_name": "Cody Bouche", "link": "https://stackoverflow.com/users/5224291/cody-bouche"}, "is_accepted": true, "score": 2, "last_activity_date": 1441224328, "last_edit_date": 1441224328, "creation_date": 1441223686, "answer_id": 32361973, "question_id": 32361876, "link": "https://stackoverflow.com/questions/32361876/how-does-the-return-function-work-within-a-loop-and-procedure/32361973#32361973", "title": "How does the return function work within a loop and procedure?", "body": "<p>When executing a function the first return statement encountered will end the function, and the result of the expression given to the return statement will be given back to the caller. In this case, when <code>p[count] == n</code> is <code>True</code>, the count will be returned. The function will only return -1 if the <code>for x in p:</code> loop is exhausted without ever finding the appropriate element.</p>\n\n<p>All that being said however the loop you have doesn't quite behave the way the function suggests it should.. If you are hoping to find the list of every index which has the value <code>n</code> you will want something like this:</p>\n\n<pre><code>def find_element(p,n):\n    return [i for i,x in enumerate(p) if x == n]\n\nprint find_element(['1', '2', '1', '2', '2', '1', '2'],'2')\n#[1, 3, 4, 6]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1974, "user_id": 1806998, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/MapJ0.png?s=128&g=1", "display_name": "jerney", "link": "https://stackoverflow.com/users/1806998/jerney"}, "is_accepted": false, "score": 0, "last_activity_date": 1441223710, "creation_date": 1441223710, "answer_id": 32361981, "question_id": 32361876, "link": "https://stackoverflow.com/questions/32361876/how-does-the-return-function-work-within-a-loop-and-procedure/32361981#32361981", "title": "How does the return function work within a loop and procedure?", "body": "<p>Your first question: \"When <code>if p[count] == n</code> finds a match, does the loop and procedure stop running?\"</p>\n\n<p>The answer is no. The program exits the <code>find_element</code> function when it hits any <code>return</code> statement. In your case, either <code>return count</code>, or <code>return -1</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 1096, "user_id": 5144555, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1c0f1046a519313e19ad3929479ec85?s=128&d=identicon&r=PG&f=1", "display_name": "Michael S Priz", "link": "https://stackoverflow.com/users/5144555/michael-s-priz"}, "is_accepted": false, "score": 1, "last_activity_date": 1441223716, "creation_date": 1441223716, "answer_id": 32361983, "question_id": 32361876, "link": "https://stackoverflow.com/questions/32361876/how-does-the-return-function-work-within-a-loop-and-procedure/32361983#32361983", "title": "How does the return function work within a loop and procedure?", "body": "<p>Functions can only call <code>return</code> one time. As pointed out in the comments this <em>returns</em> from the function to the caller. Thus the rest of the code does not run. </p>\n\n<p>If you want to return all of the relevant indices you can either:</p>\n\n<ol>\n<li><p>Keep track of the indices in a list and just return the list at the end of the function</p></li>\n<li><p>Look into generators and use the <code>yield</code> keyword</p></li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 313, "user_id": 1689666, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3dfb8df4398b77d81b66ad792e72b043?s=128&d=identicon&r=PG", "display_name": "labradore", "link": "https://stackoverflow.com/users/1689666/labradore"}, "is_accepted": false, "score": 0, "last_activity_date": 1441224673, "last_edit_date": 1441224673, "creation_date": 1441224110, "answer_id": 32362078, "question_id": 32361876, "link": "https://stackoverflow.com/questions/32361876/how-does-the-return-function-work-within-a-loop-and-procedure/32362078#32362078", "title": "How does the return function work within a loop and procedure?", "body": "<p>What you are concerned about is called \"Flow Control\".</p>\n\n<p>For loops are a form of flow control that give you the ability to do repetition.\nIf/(then)/Else is another form to do decisions.</p>\n\n<p>The python docs <a href=\"https://docs.python.org/2/tutorial/controlflow.html#\" rel=\"nofollow\">(chapter 4)</a> have a good introduction to this.</p>\n\n<p>These statements can break out of a loop:</p>\n\n<ol>\n<li>The <code>return</code> statement.</li>\n<li>The <code>break</code> statement.</li>\n</ol>\n\n<p>At run-time, the loop can also be broken if an unhandled exception occurs within it.</p>\n\n<p>A related flow is implemented using the <code>continue</code> statement.\nIf you are part-way into an iteration of the loop, <code>continue</code> will skip the rest of the iteration and proceed to the next one.</p>\n\n<p>In your particular example, the <code>if</code> statement occurs within the context of a loop which is within the context of a function.  The <code>return</code> statement takes us not only out of the loop, but out of the function and sets the value returned by the function.</p>\n"}, {"tags": [], "owner": {"reputation": 8918, "user_id": 1742777, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/ff60602db4c570ec0e48b22eb13f6956?s=128&d=identicon&r=PG", "display_name": "Saqib Ali", "link": "https://stackoverflow.com/users/1742777/saqib-ali"}, "is_accepted": false, "score": 0, "last_activity_date": 1441224144, "creation_date": 1441224144, "answer_id": 32362089, "question_id": 32361876, "link": "https://stackoverflow.com/questions/32361876/how-does-the-return-function-work-within-a-loop-and-procedure/32362089#32362089", "title": "How does the return function work within a loop and procedure?", "body": "<p>The return aborts all further activities within the function and returns control to the caller. (as juanchopanza said)</p>\n\n<p>Incidentally, you don't need to keep two separate variable <code>count</code> and <code>x</code>. They are redundant. Do this instead:</p>\n\n<pre><code>def find_element(p,n):\n    try:\n        return p.index(n)\n    except ValueError:\n        return -1\n</code></pre>\n\n<p>It works:</p>\n\n<pre><code>&gt;&gt;&gt; print find_element(['1', '2', '1', '2', '2', '1', '2'],'2')\n1\n&gt;&gt;&gt; print find_element(['1', '2', '1', '2', '2', '1', '2'],'4')\n-1\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 577, "user_id": 1444895, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/0591462edb16214aa2b486b408a8b733?s=128&d=identicon&r=PG", "display_name": "johnjullies", "link": "https://stackoverflow.com/users/1444895/johnjullies"}, "is_accepted": false, "score": 0, "last_activity_date": 1441224190, "creation_date": 1441224190, "answer_id": 32362103, "question_id": 32361876, "link": "https://stackoverflow.com/questions/32361876/how-does-the-return-function-work-within-a-loop-and-procedure/32362103#32362103", "title": "How does the return function work within a loop and procedure?", "body": "<p>What your for loop is trying to do is check if <code>p[count]</code> is equal to <code>n</code> and if so, stops and exit the loop and your function ends and returns the current value of <code>count</code>. But if it doesn't find a match, the loop exits anyway and your function will return <code>-1</code>.</p>\n\n<p>Also, you could/should use <code>count += 1</code> to increment count. </p>\n"}, {"tags": [], "owner": {"reputation": 45920, "user_id": 4996248, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/IUaWZ.jpg?s=128&g=1", "display_name": "John Coleman", "link": "https://stackoverflow.com/users/4996248/john-coleman"}, "is_accepted": false, "score": 1, "last_activity_date": 1441224225, "creation_date": 1441224225, "answer_id": 32362117, "question_id": 32361876, "link": "https://stackoverflow.com/questions/32361876/how-does-the-return-function-work-within-a-loop-and-procedure/32362117#32362117", "title": "How does the return function work within a loop and procedure?", "body": "<p>Say you typically run 10 laps around a track after work but your boss calls you after the 4th lap and says \"we have an emergency and need you to <em>return</em> to work right away\" then the imperative to return will override the imperative to complete the laps (at least if you want to be a good employee). Return -- not the if statement per se -- is what caused your loop to end. </p>\n"}, {"comments": [{"owner": {"reputation": 8918, "user_id": 1742777, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/ff60602db4c570ec0e48b22eb13f6956?s=128&d=identicon&r=PG", "display_name": "Saqib Ali", "link": "https://stackoverflow.com/users/1742777/saqib-ali"}, "edited": false, "score": 0, "creation_date": 1441229216, "post_id": 32362315, "comment_id": 52599434, "body": "Don&#39;t use enumerate either! Use the built-in python list function index() instead. It does almost exactly what the original poster wants. No need to re-invent the wheel."}], "tags": [], "owner": {"reputation": 515, "user_id": 1812813, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HMlnc.png?s=128&g=1", "display_name": "Albert", "link": "https://stackoverflow.com/users/1812813/albert"}, "is_accepted": false, "score": 0, "last_activity_date": 1441225234, "last_edit_date": 1441225234, "creation_date": 1441224926, "answer_id": 32362315, "question_id": 32361876, "link": "https://stackoverflow.com/questions/32361876/how-does-the-return-function-work-within-a-loop-and-procedure/32362315#32362315", "title": "How does the return function work within a loop and procedure?", "body": "<p>In Python, as is all (most) languages, a return does return (sic) the value AND terminate the function (or procedure, as is it called in the question; but function, or <strong>calleble</strong> is more correct).</p>\n\n<p>Python does however, has an option to <em>separate</em> them. By using '<strong>yield</strong>': that will return the value, but (kind of) continues   the loop. \nNote: the function (or generator/iterator) has to be called in a loop, to return (yield) each value, one by one.</p>\n\n<p>This is a bit advanced, so I leave it to the reader to lookup the documentation and good examples</p>\n\n<p>Last remark: using a <em>count</em>er, as shown is not <strong>pythonic</strong>! Use  <a href=\"https://docs.python.org/3.6/library/functions.html#enumerate\" rel=\"nofollow\">enumerate</a> helper instead.</p>\n\n<pre><code>def find_element(p,n):\n    for count, elm in enumerate(p):  # p is a list or sequence \n        if elm == n                       # maybe 'is' is better as '=='\n            return count\n    return -1                               # however, returning None is  more Pythonic\n</code></pre>\n"}], "owner": {"reputation": 39, "user_id": 5293775, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153793582208296/picture?type=large", "display_name": "Cade", "link": "https://stackoverflow.com/users/5293775/cade"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 130, "favorite_count": 0, "accepted_answer_id": 32361973, "answer_count": 8, "score": -1, "last_activity_date": 1441225234, "creation_date": 1441223354, "last_edit_date": 1441224966, "question_id": 32361876, "link": "https://stackoverflow.com/questions/32361876/how-does-the-return-function-work-within-a-loop-and-procedure", "title": "How does the return function work within a loop and procedure?", "body": "<p>I thought a for-loop would run through all the elements in a list regardless of the conditions of the loop.<br>\nFor the problem below-I would expect the printed output to be 6,-1,<br>\nthe last position where <code>p[count]==n</code> and then my return statement after the loop ends.  </p>\n\n<p>When <code>if p[count]==n</code> finds a match, does the loop and procedure keep running past my return function?<br>\nDoes someone have a good explanation of how this works?</p>\n\n<pre><code>def find_element(p,n):\n    count=0\n    for x in p:\n        if p[count]==n:\n            return count\n        count=count+1\n    return '-1'\n\nprint find_element(['1', '2', '1', '2', '2', '1', '2'],'2')\n</code></pre>\n"}, {"tags": ["python", "arrays", "loops", "for-loop", "nifti"], "comments": [{"owner": {"reputation": 96896, "user_id": 2296458, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/wbG2s.png?s=128&g=1", "display_name": "Cory Kramer", "link": "https://stackoverflow.com/users/2296458/cory-kramer"}, "edited": false, "score": 1, "creation_date": 1441223307, "post_id": 32361853, "comment_id": 52596491, "body": "Firstly it would help your explanation if you showed an example. Secondly, what code have you tried so far? Where specifically are you stuck?"}, {"owner": {"reputation": 55, "user_id": 5133245, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/6ad49a84c8dc2e76dc8a3bfa3c020fa4?s=128&d=identicon&r=PG&f=1", "display_name": "aaa905", "link": "https://stackoverflow.com/users/5133245/aaa905"}, "reply_to_user": {"reputation": 96896, "user_id": 2296458, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/wbG2s.png?s=128&g=1", "display_name": "Cory Kramer", "link": "https://stackoverflow.com/users/2296458/cory-kramer"}, "edited": false, "score": 0, "creation_date": 1441225580, "post_id": 32361853, "comment_id": 52597655, "body": "@CoryKramer That was how I got the shape of the array. What I want to do is to have a variable assigned to each column so I can write loops"}], "owner": {"reputation": 55, "user_id": 5133245, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/6ad49a84c8dc2e76dc8a3bfa3c020fa4?s=128&d=identicon&r=PG&f=1", "display_name": "aaa905", "link": "https://stackoverflow.com/users/5133245/aaa905"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 55, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1441284823, "creation_date": 1441223263, "last_edit_date": 1441223872, "question_id": 32361853, "link": "https://stackoverflow.com/questions/32361853/is-it-possible-to-assign-a-variable-to-a-dimension-in-a-3d-array", "title": "Is it possible to assign a variable to a dimension in a 3D array?", "body": "<p>The size of my 3D array is (20, 33, 20). What I would like to do is to run a loop where, for instance, if there is a 0 in the 1st column (20), then the loop would go back to find a number that is non zero, then have the loop advance to the 2nd column (33) and do the same loop, and the same for the 3rd row also. </p>\n\n<p>That was how I got the shape of the array. What I want to do is to have a variable assigned to each column so I can write loops</p>\n\n<pre><code> import nibabel as nib \n Example = nib.load(\"Example.nii\")\n print Example.shape\n</code></pre>\n"}, {"tags": ["python", "django", "import", "django-dev-server"], "comments": [{"owner": {"reputation": 14317, "user_id": 182402, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/de96aa2f424a48b2510a7d29c65a8ace?s=128&d=identicon&r=PG", "display_name": "Wander Nauta", "link": "https://stackoverflow.com/users/182402/wander-nauta"}, "edited": false, "score": 0, "creation_date": 1441223387, "post_id": 32361764, "comment_id": 52596540, "body": "Is the pragmatometer directory a package (does it have a <code>__init__.py</code> file) and is there a settings module somewhere inside there (does it have a <code>settings.py</code> file)?"}, {"owner": {"reputation": 5355, "user_id": 116906, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/7947663ae0b5333554fd462635418724?s=128&d=identicon&r=PG", "display_name": "Christos Hayward", "link": "https://stackoverflow.com/users/116906/christos-hayward"}, "reply_to_user": {"reputation": 14317, "user_id": 182402, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/de96aa2f424a48b2510a7d29c65a8ace?s=128&d=identicon&r=PG", "display_name": "Wander Nauta", "link": "https://stackoverflow.com/users/182402/wander-nauta"}, "edited": false, "score": 0, "creation_date": 1441224333, "post_id": 32361764, "comment_id": 52597044, "body": "ls *.py output:  <b>init</b>.py\tmanage.py\tsettings.py\tviews.py functions.py\tmodels.py\turls.py"}, {"owner": {"reputation": 14317, "user_id": 182402, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/de96aa2f424a48b2510a7d29c65a8ace?s=128&d=identicon&r=PG", "display_name": "Wander Nauta", "link": "https://stackoverflow.com/users/182402/wander-nauta"}, "edited": false, "score": 0, "creation_date": 1441224421, "post_id": 32361764, "comment_id": 52597083, "body": "And if you try to <code>import pragmatometer.settings</code> from <code>~</code>?"}], "answers": [{"tags": [], "owner": {"reputation": 250, "user_id": 4681444, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-BcgUJHJLSjk/AAAAAAAAAAI/AAAAAAAAApI/hLSS67wBgng/photo.jpg?sz=128", "display_name": "Bubai", "link": "https://stackoverflow.com/users/4681444/bubai"}, "is_accepted": false, "score": 0, "last_activity_date": 1441224476, "creation_date": 1441224476, "answer_id": 32362185, "question_id": 32361764, "link": "https://stackoverflow.com/questions/32361764/why-cant-i-import-modules-in-a-django-project/32362185#32362185", "title": "Why can&#39;t I import modules in a Django project?", "body": "<p>every django project comes with a settings.py file, and django will refuse to run, or load models, until that settings.py file is loaded.</p>\n\n<p>settings.py file needs to be in a module and part of your current PYTHONPATH, and\nenv. variable DJANGO_SETTINGS_MODULE should be set to it.</p>\n\n<p>For example:</p>\n\n<pre><code># assuming your file is under /myproject/mywebsite/settings.py\nexport PYTHONPATH=/myproject/\nexport DJANGO_SETTINGS_MODULE=mywebsite.settings\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 49834, "user_id": 25507, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/DqZPI.png?s=128&g=1", "display_name": "Josh Kelley", "link": "https://stackoverflow.com/users/25507/josh-kelley"}, "is_accepted": false, "score": 0, "last_activity_date": 1441224702, "last_edit_date": 1495541174, "creation_date": 1441224702, "answer_id": 32362258, "question_id": 32361764, "link": "https://stackoverflow.com/questions/32361764/why-cant-i-import-modules-in-a-django-project/32362258#32362258", "title": "Why can&#39;t I import modules in a Django project?", "body": "<p>A Django project normally looks something like this (as of Django 1.4 and above, I think).</p>\n\n<pre><code>myproject\n    myproject\n        __init__.py\n        settings.py\n    app1\n    app2\n</code></pre>\n\n<p>You can <a href=\"https://github.com/kirpit/django-sample-app\" rel=\"nofollow noreferrer\">look</a> <a href=\"http://www.revsys.com/blog/2014/nov/21/recommended-django-project-layout/\" rel=\"nofollow noreferrer\">around</a> <a href=\"https://stackoverflow.com/a/23469321/25507\">online</a> for examples and variations on this.</p>\n\n<p>Note that there's a <code>myproject</code> directory, containing settings, under the top-level <code>myproject</code>.</p>\n\n<p>Does yours look at all like this?</p>\n\n<p>Or did you originally target an older version of Django that uses a different layout?</p>\n\n<p>If you try to do this:</p>\n\n<pre><code>PYTHONPATH=/Users/jonathan python\nimport pragmatometer\n</code></pre>\n\n<p>like in your second code block, it's going to treat <code>/Users/jonathan</code> as a Python package and look for <code>/Users/jonathan/__init__.py</code>, which probably doesn't exist), so it won't check <code>/Users/jonathan/pragmatometer/settings.py</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 5355, "user_id": 116906, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/7947663ae0b5333554fd462635418724?s=128&d=identicon&r=PG", "display_name": "Christos Hayward", "link": "https://stackoverflow.com/users/116906/christos-hayward"}, "is_accepted": false, "score": 0, "last_activity_date": 1441225277, "creation_date": 1441225277, "answer_id": 32362402, "question_id": 32361764, "link": "https://stackoverflow.com/questions/32361764/why-cant-i-import-modules-in-a-django-project/32362402#32362402", "title": "Why can&#39;t I import modules in a Django project?", "body": "<p>I found the culprit, or at least a culprit. I had omitted (in my .bashrc) the \"export \", and now I'm on to another problem.</p>\n"}], "owner": {"reputation": 5355, "user_id": 116906, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/7947663ae0b5333554fd462635418724?s=128&d=identicon&r=PG", "display_name": "Christos Hayward", "link": "https://stackoverflow.com/users/116906/christos-hayward"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2490, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1441225277, "creation_date": 1441222900, "question_id": 32361764, "link": "https://stackoverflow.com/questions/32361764/why-cant-i-import-modules-in-a-django-project", "title": "Why can&#39;t I import modules in a Django project?", "body": "<p>I am trying to pick up an old Django project and my immediate goal is to see what I can get running on my computer on the development server. I get:</p>\n\n<pre>\nInner Sanctum ~/pragmatometer $ python manage.py runserver\nTraceback (most recent call last):\n  File \"manage.py\", line 10, in \n    execute_from_command_line(sys.argv)\n  File \"/Library/Python/2.7/site-packages/django/core/management/__init__.py\", line 399, in execute_from_command_line\n    utility.execute()\n  File \"/Library/Python/2.7/site-packages/django/core/management/__init__.py\", line 392, in execute\n    self.fetch_command(subcommand).run_from_argv(self.argv)\n  File \"/Library/Python/2.7/site-packages/django/core/management/__init__.py\", line 261, in fetch_command\n    commands = get_commands()\n  File \"/Library/Python/2.7/site-packages/django/core/management/__init__.py\", line 107, in get_commands\n    apps = settings.INSTALLED_APPS\n  File \"/Library/Python/2.7/site-packages/django/conf/__init__.py\", line 54, in __getattr__\n    self._setup(name)\n  File \"/Library/Python/2.7/site-packages/django/conf/__init__.py\", line 49, in _setup\n    self._wrapped = Settings(settings_module)\n  File \"/Library/Python/2.7/site-packages/django/conf/__init__.py\", line 132, in __init__\n    % (self.SETTINGS_MODULE, e)\nImportError: Could not import settings 'pragmatometer.settings' (Is it on sys.path? Is there an import error in the settings file?): No module named pragmatometer.settings\n</pre>\n\n<p>Here is some command line output:</p>\n\n<pre>\nInner Sanctum ~/pragmatometer $ /bin/pwd\n/Users/jonathan/pragmatometer\nInner Sanctum ~/pragmatometer $ echo $PYTHONPATH\n/Users/jonathan\nInner Sanctum ~/pragmatometer $ python\nPython 2.7.10 (default, Jul 14 2015, 19:46:27) \n[GCC 4.2.1 Compatible Apple LLVM 6.0 (clang-600.0.39)] on darwin\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n>>> import pragmatometer\nTraceback (most recent call last):\n  File \"\", line 1, in \nImportError: No module named pragmatometer\n>>> import pragmatometer.settings\nTraceback (most recent call last):\n  File \"\", line 1, in \nImportError: No module named pragmatometer.settings\n>>> \n</pre>\n\n<p>What should I be doing that I'm not? (Or, as it was an older project, should I just start with a fresh new project?)</p>\n\n<p>Thanks,</p>\n"}, {"tags": ["python", "for-loop"], "comments": [{"owner": {"reputation": 6026, "user_id": 3991125, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/wbRqp.png?s=128&g=1", "display_name": "albert", "link": "https://stackoverflow.com/users/3991125/albert"}, "edited": false, "score": 0, "creation_date": 1441222959, "post_id": 32361723, "comment_id": 52596281, "body": "Do you want to know how this is implemented from the datatype&#39;s point of view?"}, {"owner": {"reputation": 4230, "user_id": 1912128, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/YyM8r.png?s=128&g=1", "display_name": "taesu", "link": "https://stackoverflow.com/users/1912128/taesu"}, "edited": false, "score": 0, "creation_date": 1441222965, "post_id": 32361723, "comment_id": 52596286, "body": "it goes like <code>for each character in string</code>"}], "answers": [{"tags": [], "owner": {"reputation": 4955, "user_id": 5274205, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3a281a1418dbceeda34cc93d3744554?s=128&d=identicon&r=PG", "display_name": "Chad S.", "link": "https://stackoverflow.com/users/5274205/chad-s"}, "is_accepted": false, "score": 0, "last_activity_date": 1441223007, "creation_date": 1441223007, "answer_id": 32361787, "question_id": 32361723, "link": "https://stackoverflow.com/questions/32361723/how-does-python-iterate-over-a-string/32361787#32361787", "title": "How does Python iterate over a string?", "body": "<p>A string is a <a href=\"https://docs.python.org/2/library/stdtypes.html#sequence-types-str-unicode-list-tuple-bytearray-buffer-xrange\" rel=\"nofollow\">sequence</a> of single character strings. So when you iterate it you get each single character string in the sequence. You can also use indexes and slicing operations as per other sequence types.</p>\n"}, {"tags": [], "owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "is_accepted": false, "score": 0, "last_activity_date": 1441223044, "creation_date": 1441223044, "answer_id": 32361804, "question_id": 32361723, "link": "https://stackoverflow.com/questions/32361723/how-does-python-iterate-over-a-string/32361804#32361804", "title": "How does Python iterate over a string?", "body": "<p>How does Python do it? As such:</p>\n\n<pre><code>&gt;&gt;&gt; import dis\n&gt;&gt;&gt; def f(text):\n...     for letter in text:\n...             print(letter)\n...\n&gt;&gt;&gt; dis.dis(f)\n  2           0 SETUP_LOOP              24 (to 27)\n              3 LOAD_FAST                0 (text)\n              6 GET_ITER\n        &gt;&gt;    7 FOR_ITER                16 (to 26)\n             10 STORE_FAST               1 (letter)\n\n  3          13 LOAD_GLOBAL              0 (print)\n             16 LOAD_FAST                1 (letter)\n             19 CALL_FUNCTION            1 (1 positional, 0 keyword pair)\n             22 POP_TOP\n             23 JUMP_ABSOLUTE            7\n        &gt;&gt;   26 POP_BLOCK\n        &gt;&gt;   27 LOAD_CONST               0 (None)\n             30 RETURN_VALUE\n</code></pre>\n\n<p>However, the important lesson here is simply that iterating over a sequence (like a string) or other iterable allows you to work with each of that iterable's elements (individual characters, in this case).</p>\n"}, {"comments": [{"owner": {"reputation": 3, "user_id": 5261348, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/428371063f5d83b51123661d1102bfdb?s=128&d=identicon&r=PG&f=1", "display_name": "ClennersIII", "link": "https://stackoverflow.com/users/5261348/clennersiii"}, "edited": false, "score": 1, "creation_date": 1441740120, "post_id": 32361902, "comment_id": 52793212, "body": "Thanks! That&#39;s very clear, and thanks for the advice re: googling! I&#39;m finding that my knowledge is so basic that it&#39;s hard to google effectively right now, I&#39;m sure I&#39;ll get there though!"}], "tags": [], "owner": {"reputation": 1554, "user_id": 2869616, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/pTcF1.jpg?s=128&g=1", "display_name": "SummerEla", "link": "https://stackoverflow.com/users/2869616/summerela"}, "is_accepted": true, "score": 0, "last_activity_date": 1441223468, "creation_date": 1441223468, "answer_id": 32361902, "question_id": 32361723, "link": "https://stackoverflow.com/questions/32361723/how-does-python-iterate-over-a-string/32361902#32361902", "title": "How does Python iterate over a string?", "body": "<p>The easiest way for me to think about this is to remember that the word 'letter' could easily be replaced with anything you want to call it, it's just a placeholder. </p>\n\n<p>To illustrate, let's replace 'letter' in your loop with the name 'Dave'. </p>\n\n<pre><code>for Dave in 'Python':\n    print 'Current letter : ', Dave\n</code></pre>\n\n<p>There is no 'Dave' in the string Python. But this will still print out every letter in the string 'Python'. That is because when you setup your loop to iterate over a string, as you've done here, you are telling python that whatever you want it to do, in this case 'print', needs to be done to every item in the string. </p>\n\n<pre><code>for stuff in 'my_string':\n    do stuff to every letter in my_string\n</code></pre>\n\n<p>Also, since you're new to StackExchange, welcome. Since there are so many questions to be answered, to save everyone time, it works best if you do a very thorough google search to find out if an answer exists before posting a question on here. I'm sure there are a lot of good resources out there that will help you understand these concepts! Best of luck. </p>\n"}], "owner": {"reputation": 3, "user_id": 5261348, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/428371063f5d83b51123661d1102bfdb?s=128&d=identicon&r=PG&f=1", "display_name": "ClennersIII", "link": "https://stackoverflow.com/users/5261348/clennersiii"}, "delete_vote_count": 1, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 314, "favorite_count": 0, "closed_date": 1441224063, "accepted_answer_id": 32361902, "answer_count": 3, "score": -6, "last_activity_date": 1441223468, "creation_date": 1441222773, "last_edit_date": 1441222895, "question_id": 32361723, "link": "https://stackoverflow.com/questions/32361723/how-does-python-iterate-over-a-string", "closed_reason": "Duplicate", "title": "How does Python iterate over a string?", "body": "<p>In the below code, how does Python know to print each letter individually? I really can't wrap my head around it. </p>\n\n<pre><code>for letter in 'Python':\n   print 'Current Letter :', letter\n</code></pre>\n\n<p>It knows to split the string 'Python' into 6 individual strings. How does it do that?</p>\n"}, {"tags": ["python", "file"], "comments": [{"owner": {"reputation": 4230, "user_id": 1912128, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/YyM8r.png?s=128&g=1", "display_name": "taesu", "link": "https://stackoverflow.com/users/1912128/taesu"}, "edited": false, "score": 0, "creation_date": 1441222830, "post_id": 32361650, "comment_id": 52596195, "body": "possible duplicate of <a href=\"http://stackoverflow.com/questions/11114492/check-if-a-file-is-not-open-not-used-by-other-process-in-python\">Check if a file is not open( not used by other process) in Python</a>"}, {"owner": {"reputation": 1307, "user_id": 3199553, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/100000455527913/picture?type=large", "display_name": "stanleyli", "link": "https://stackoverflow.com/users/3199553/stanleyli"}, "reply_to_user": {"reputation": 4230, "user_id": 1912128, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/YyM8r.png?s=128&g=1", "display_name": "taesu", "link": "https://stackoverflow.com/users/1912128/taesu"}, "edited": false, "score": 0, "creation_date": 1441226620, "post_id": 32361650, "comment_id": 52598245, "body": "@taesu: That question is for &quot;check if a file is not open&quot;, and my question is &quot;check if the file is being written&quot;. They are different. And nobody has mentioned the answer of using <code>os.open</code> in that question."}], "answers": [{"tags": [], "owner": {"reputation": 38949, "user_id": 1763614, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3nhVJ.jpg?s=128&g=1", "display_name": "damienfrancois", "link": "https://stackoverflow.com/users/1763614/damienfrancois"}, "is_accepted": false, "score": 0, "last_activity_date": 1441223653, "creation_date": 1441223653, "answer_id": 32361961, "question_id": 32361650, "link": "https://stackoverflow.com/questions/32361650/detect-if-another-python-process-is-writing-to-a-file/32361961#32361961", "title": "Detect if another Python process is writing to a file", "body": "<p>One ugly solution is to rename the file prior to opening it and renaming it back after processing. If the renaming works, it means the other process is not using it. If the renaming fails, it means the file has been renamed and so is currently in use. </p>\n\n<p>A better solution is to use another method of inter-process communication (pipes, shared memory, etc.), and if persistence is needed, a simple database such as sqlite.</p>\n"}, {"tags": [], "owner": {"reputation": 1307, "user_id": 3199553, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/100000455527913/picture?type=large", "display_name": "stanleyli", "link": "https://stackoverflow.com/users/3199553/stanleyli"}, "is_accepted": true, "score": -1, "last_activity_date": 1441227237, "last_edit_date": 1441227237, "creation_date": 1441226198, "answer_id": 32362623, "question_id": 32361650, "link": "https://stackoverflow.com/questions/32361650/detect-if-another-python-process-is-writing-to-a-file/32362623#32362623", "title": "Detect if another Python process is writing to a file", "body": "<p><strong>I found a possible solution (in my situation that file only needs to be written once):</strong></p>\n\n<p>use os.open to open the file:</p>\n\n<pre><code>open_flags = (os.O_CREAT | os.O_EXCL | os.O_WRONLY)\nfd = os.open( \"xx.txt\", open_flags )\n</code></pre>\n\n<p>And we can get exception if the file already exists:</p>\n\n<pre><code>open_flags = (os.O_CREAT | os.O_EXCL | os.O_WRONLY)\n&gt;&gt;&gt; fd = os.open( \"xx.txt\", open_flags )\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\nOSError: [Errno 17] File exists: 'xx.txt'\n</code></pre>\n"}], "owner": {"reputation": 1307, "user_id": 3199553, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/100000455527913/picture?type=large", "display_name": "stanleyli", "link": "https://stackoverflow.com/users/3199553/stanleyli"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1971, "favorite_count": 0, "accepted_answer_id": 32362623, "answer_count": 2, "score": 0, "last_activity_date": 1441227237, "creation_date": 1441222449, "last_edit_date": 1441226316, "question_id": 32361650, "link": "https://stackoverflow.com/questions/32361650/detect-if-another-python-process-is-writing-to-a-file", "title": "Detect if another Python process is writing to a file", "body": "<p>I have two Python processes <code>A</code> and <code>B</code> and both are trying to write to the same file. After <code>A</code> has reached <code>f = open(\"xx.txt\", \"w\")</code> and before it closes the file, I hope the other process has a way to detect that <code>xx.txt</code> is in use.</p>\n\n<p>I've tried <code>f = open(\"xx.txt\", \"w\")</code> in process <code>B</code> but it didn't throw any exception. I've also tried <code>os.access(\"xx.txt\", os.W_OK)</code> in <code>B</code>, it returns <code>True</code>.</p>\n\n<p>I know that I can use some file lock library such as <a href=\"https://pythonhosted.org/lockfile/lockfile.html\" rel=\"nofollow\">lockfile</a> or <a href=\"https://docs.python.org/2/library/fcntl.html\" rel=\"nofollow\">fcntl</a>.But I am wondering if there is any simple solution without relying on these libs for me to detect it?</p>\n\n<p><strong>EDIT: \nI found a possible solution:</strong></p>\n\n<p>use os.open to open the file:</p>\n\n<pre><code>open_flags = (os.O_CREAT | os.O_EXCL | os.O_WRONLY)\nfd = os.open( \"xx.txt\", open_flags )\n</code></pre>\n\n<p>And we can get exception if the file already exists:</p>\n\n<pre><code>open_flags = (os.O_CREAT | os.O_EXCL | os.O_WRONLY)\n&gt;&gt;&gt; fd = os.open( \"xx.txt\", open_flags )\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\nOSError: [Errno 17] File exists: 'xx.txt'\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 6026, "user_id": 3991125, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/wbRqp.png?s=128&g=1", "display_name": "albert", "link": "https://stackoverflow.com/users/3991125/albert"}, "edited": false, "score": 2, "creation_date": 1441222601, "post_id": 32361639, "comment_id": 52596071, "body": "Is <code>Label()</code> a class you defined yourself or a given class of some module? As a starting point you might have a look at <code>**kwargs</code> in combination with <code>class.__init__()</code> and, additionally, at  inheritance in order to add further attributes to a given class."}, {"owner": {"reputation": 4230, "user_id": 1912128, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/YyM8r.png?s=128&g=1", "display_name": "taesu", "link": "https://stackoverflow.com/users/1912128/taesu"}, "edited": false, "score": 0, "creation_date": 1441222697, "post_id": 32361639, "comment_id": 52596118, "body": "this question is very unclear and thus I flagged it."}], "answers": [{"comments": [{"owner": {"reputation": 5, "user_id": 5247004, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f232f73aca4fd2d35548a73ca1d524f?s=128&d=identicon&r=PG&f=1", "display_name": "SUBBA", "link": "https://stackoverflow.com/users/5247004/subba"}, "edited": false, "score": 0, "creation_date": 1441245494, "post_id": 32362252, "comment_id": 52603898, "body": "from dictionary key i want to retreive the attribute value in pyhtho without using setattr and <b>dict</b> . Here i think that the dict key has to be interpolated first before adding it as a class attribute. Why i do not want to use setattr here is i can do update if it is a foreign key as well."}], "tags": [], "owner": {"reputation": 250, "user_id": 4681444, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-BcgUJHJLSjk/AAAAAAAAAAI/AAAAAAAAApI/hLSS67wBgng/photo.jpg?sz=128", "display_name": "Bubai", "link": "https://stackoverflow.com/users/4681444/bubai"}, "is_accepted": false, "score": 0, "last_activity_date": 1441224676, "creation_date": 1441224676, "answer_id": 32362252, "question_id": 32361639, "link": "https://stackoverflow.com/questions/32361639/dynamically-build-the-class-attributes-from-the-dictionary/32362252#32362252", "title": "dynamically build the class attributes from the dictionary", "body": "<p>the following would do the trick:</p>\n\n<pre><code>label.__dict__[field_name] = 'port' \n</code></pre>\n\n<p>all attributes of a custom class instance is stored as a dictionary internally as <code>obj.__dict__</code></p>\n"}], "owner": {"reputation": 5, "user_id": 5247004, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f232f73aca4fd2d35548a73ca1d524f?s=128&d=identicon&r=PG&f=1", "display_name": "SUBBA", "link": "https://stackoverflow.com/users/5247004/subba"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 41, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1441224676, "creation_date": 1441222384, "last_edit_date": 1441222470, "question_id": 32361639, "link": "https://stackoverflow.com/questions/32361639/dynamically-build-the-class-attributes-from-the-dictionary", "title": "dynamically build the class attributes from the dictionary", "body": "<p>I want to build the class attributes dynamically.</p>\n\n<pre><code># Code  \nlabel = Label();  \nlabel.port = 'JTAG';  ##works  \n\n# Attribute name in a variable  \nfield_name = 'port';  \nlabel.field_name = 'port'; ## do not work.  \n\n# Foreign key mapping.    \nlabel.foreign_key.port_name = 'port'; ## should work for foreign_key  \n</code></pre>\n\n<p>I do not want to use <code>setattr</code> here because i mapped the foreign key object to this object. where <code>setattr</code> fails for foreign keys.  </p>\n\n<p>Finally i want to interpolate the 'field_name' variable while building the class object attributes dynamically. Please let me know the method without using <code>setattr</code>.</p>\n"}, {"tags": ["python", "input", "while-loop"], "comments": [{"owner": {"reputation": 8538, "user_id": 3059812, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/UaU9b.jpg?s=128&g=1", "display_name": "Morgan Thrapp", "link": "https://stackoverflow.com/users/3059812/morgan-thrapp"}, "edited": false, "score": 0, "creation_date": 1441222908, "post_id": 32361631, "comment_id": 52596252, "body": "You say you want people to roll 3 times, but you have <code>maxReRoll = 2</code>"}], "answers": [{"tags": [], "owner": {"reputation": 1602, "user_id": 5285891, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/863f0d8e87256fcdf5209545922d20f9?s=128&d=identicon&r=PG&f=1", "display_name": "pzelasko", "link": "https://stackoverflow.com/users/5285891/pzelasko"}, "is_accepted": true, "score": 2, "last_activity_date": 1441222806, "creation_date": 1441222806, "answer_id": 32361733, "question_id": 32361631, "link": "https://stackoverflow.com/questions/32361631/break-from-raw-input-in-while-loop/32361733#32361733", "title": "Break from raw_input in while loop", "body": "<p>Just a little swap is needed.</p>\n\n<pre><code>while reRoll in [\"Yes\", \"yes\", \"y\", \"Y\"]:\n  rollDice()\n  c+=1\n  if c &gt;= maxReRoll:  # notice the '&gt;=' operator here\n    break\n  else:\n    reRoll = raw_input(\"Roll again?  y/n \")\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 8538, "user_id": 3059812, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/UaU9b.jpg?s=128&g=1", "display_name": "Morgan Thrapp", "link": "https://stackoverflow.com/users/3059812/morgan-thrapp"}, "is_accepted": false, "score": 0, "last_activity_date": 1441222808, "creation_date": 1441222808, "answer_id": 32361735, "question_id": 32361631, "link": "https://stackoverflow.com/questions/32361631/break-from-raw-input-in-while-loop/32361735#32361735", "title": "Break from raw_input in while loop", "body": "<p>This should work for you: </p>\n\n<pre><code>from random import randrange\n\n\ndef roll_dice():\n    dice = randrange(3,18)\n    print(\"You rolled: %s\" % dice)\n\nmax_rolls = 2\nc = 0\nre_roll = \"y\"\n\nwhile re_roll.lower() in [\"yes\", \"y\"] and (c &lt; max_rolls):\n    roll_dice()\n    c += 1\n    if c != max_rolls:\n        re_roll = input(\"Roll again?  y/n \")\n</code></pre>\n"}], "owner": {"reputation": 4582, "user_id": 1654143, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/DiNAr.png?s=128&g=1", "display_name": "Ghoul Fool", "link": "https://stackoverflow.com/users/1654143/ghoul-fool"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 380, "favorite_count": 0, "accepted_answer_id": 32361733, "answer_count": 2, "score": 0, "last_activity_date": 1441225907, "creation_date": 1441222362, "last_edit_date": 1441225907, "question_id": 32361631, "link": "https://stackoverflow.com/questions/32361631/break-from-raw-input-in-while-loop", "title": "Break from raw_input in while loop", "body": "<p>I've written a very simple dice rolling script in Python. It'll allow you to roll three times. However, I don't know how to break out of the while loop and avoid the raw_input the final time.</p>\n\n<pre><code>#!/usr/bin/python\n\nfrom random import randrange, uniform\n\ndef rollDice():\n  dice = randrange(3,18)\n  print (\"You rolled: %s\" % dice)\n\nmaxReRoll = 2\nc = 0\nreRoll = \"y\"\n\nwhile reRoll in [\"Yes\", \"yes\", \"y\", \"Y\"]:\n  if c &gt; maxReRoll:\n    break\n  else:\n    rollDice()\n    c+=1\n    reRoll = raw_input(\"Roll again?  y/n \")\n</code></pre>\n"}, {"tags": ["python", "list"], "answers": [{"comments": [{"owner": {"reputation": 63, "user_id": 4815810, "user_type": "registered", "accept_rate": 40, "profile_image": "https://graph.facebook.com/624810317649540/picture?type=large", "display_name": "Zaid Riyadh Al-Rahawi", "link": "https://stackoverflow.com/users/4815810/zaid-riyadh-al-rahawi"}, "edited": false, "score": 0, "creation_date": 1441222947, "post_id": 32361666, "comment_id": 52596275, "body": "It did not help sir, Actually my full code is not just that"}, {"owner": {"reputation": 3409, "user_id": 3105485, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/b4c41125ff9c7b20ca07d0845e7af7ae?s=128&d=identicon&r=PG&f=1", "display_name": "Caridorc", "link": "https://stackoverflow.com/users/3105485/caridorc"}, "edited": false, "score": 0, "creation_date": 1441222960, "post_id": 32361666, "comment_id": 52596282, "body": "You print line numbers, is that ok?"}, {"owner": {"reputation": 685, "user_id": 2956796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/q4IU7.gif?s=128&g=1", "display_name": "Mary Marchini", "link": "https://stackoverflow.com/users/2956796/mary-marchini"}, "reply_to_user": {"reputation": 63, "user_id": 4815810, "user_type": "registered", "accept_rate": 40, "profile_image": "https://graph.facebook.com/624810317649540/picture?type=large", "display_name": "Zaid Riyadh Al-Rahawi", "link": "https://stackoverflow.com/users/4815810/zaid-riyadh-al-rahawi"}, "edited": false, "score": 0, "creation_date": 1441223327, "post_id": 32361666, "comment_id": 52596502, "body": "@ZaidRiyadhAl-Rahawi I&#39;ve edited the answer with an example to use it with the code provided in the question."}, {"owner": {"reputation": 63, "user_id": 4815810, "user_type": "registered", "accept_rate": 40, "profile_image": "https://graph.facebook.com/624810317649540/picture?type=large", "display_name": "Zaid Riyadh Al-Rahawi", "link": "https://stackoverflow.com/users/4815810/zaid-riyadh-al-rahawi"}, "edited": false, "score": 0, "creation_date": 1441223368, "post_id": 32361666, "comment_id": 52596532, "body": "I want it to search two files actually for the list of words I specified, if it does not find any of those words, it returns with a random error."}, {"owner": {"reputation": 63, "user_id": 4815810, "user_type": "registered", "accept_rate": 40, "profile_image": "https://graph.facebook.com/624810317649540/picture?type=large", "display_name": "Zaid Riyadh Al-Rahawi", "link": "https://stackoverflow.com/users/4815810/zaid-riyadh-al-rahawi"}, "edited": false, "score": 0, "creation_date": 1441223423, "post_id": 32361666, "comment_id": 52596562, "body": "Because in this case I need it to search in two files"}, {"owner": {"reputation": 63, "user_id": 4815810, "user_type": "registered", "accept_rate": 40, "profile_image": "https://graph.facebook.com/624810317649540/picture?type=large", "display_name": "Zaid Riyadh Al-Rahawi", "link": "https://stackoverflow.com/users/4815810/zaid-riyadh-al-rahawi"}, "edited": false, "score": 0, "creation_date": 1441223725, "post_id": 32361666, "comment_id": 52596726, "body": "Sir, I am getting errors, can you rewrite the code I posted?"}, {"owner": {"reputation": 685, "user_id": 2956796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/q4IU7.gif?s=128&g=1", "display_name": "Mary Marchini", "link": "https://stackoverflow.com/users/2956796/mary-marchini"}, "edited": false, "score": 0, "creation_date": 1441223941, "post_id": 32361666, "comment_id": 52596849, "body": "Sorry, I was using Python 2 print syntax. Can you try it again please?"}, {"owner": {"reputation": 63, "user_id": 4815810, "user_type": "registered", "accept_rate": 40, "profile_image": "https://graph.facebook.com/624810317649540/picture?type=large", "display_name": "Zaid Riyadh Al-Rahawi", "link": "https://stackoverflow.com/users/4815810/zaid-riyadh-al-rahawi"}, "edited": false, "score": 0, "creation_date": 1441224313, "post_id": 32361666, "comment_id": 52597030, "body": "Getting errors also, I am just confused with what and where I should write, can you please rewrite my whole code and test it because I am still getting errors, and using two files as database, and I will be very thankful :)"}, {"owner": {"reputation": 63, "user_id": 4815810, "user_type": "registered", "accept_rate": 40, "profile_image": "https://graph.facebook.com/624810317649540/picture?type=large", "display_name": "Zaid Riyadh Al-Rahawi", "link": "https://stackoverflow.com/users/4815810/zaid-riyadh-al-rahawi"}, "edited": false, "score": 0, "creation_date": 1441226066, "post_id": 32361666, "comment_id": 52597937, "body": "Isn&#39;t there a simpler way to tell it to search the both txt files for fqWords list?"}, {"owner": {"reputation": 63, "user_id": 4815810, "user_type": "registered", "accept_rate": 40, "profile_image": "https://graph.facebook.com/624810317649540/picture?type=large", "display_name": "Zaid Riyadh Al-Rahawi", "link": "https://stackoverflow.com/users/4815810/zaid-riyadh-al-rahawi"}, "edited": false, "score": 0, "creation_date": 1441226282, "post_id": 32361666, "comment_id": 52598055, "body": "Well, with the last edit of yours, I am not getting any errors running the script, but I am getting a reflected error even though it could find the string in the database files, any ideas?"}], "tags": [], "owner": {"reputation": 685, "user_id": 2956796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/q4IU7.gif?s=128&g=1", "display_name": "Mary Marchini", "link": "https://stackoverflow.com/users/2956796/mary-marchini"}, "is_accepted": false, "score": 3, "last_activity_date": 1441224915, "last_edit_date": 1441224915, "creation_date": 1441222498, "answer_id": 32361666, "question_id": 32361564, "link": "https://stackoverflow.com/questions/32361564/searching-a-text-file-for-every-word-in-a-list-and-print-the-lines/32361666#32361666", "title": "Searching a text file for every word in a list and print the lines", "body": "<p>Try using this function:</p>\n\n<pre><code>def search_for_lines(filename, words_list):\n    words_found = 0\n    with open(filename) as db_file:\n        for line_no, line in enumerate(db_file):\n            if any(word in line for word in words_list):\n                print(line_no, ':', line)\n                words_found += 1\n    return words_found\n</code></pre>\n\n<p>Just pass the filename and the list of words you want to search and it will print the line number, together with the line content, and will return how many lines were found with any of the words. <a href=\"https://docs.python.org/2/library/functions.html#enumerate\" rel=\"nofollow\">enumerate</a> will give you tuples of the line number and the line itself as the file iterates over every line.</p>\n\n<p>To add this to your existing code and search thought both files, you will need to first declare it, and then call it just after your assignment of <code>fqWords</code> like so:</p>\n\n<pre><code>import random\n\ndef search_for_lines(filename, words_list):\n    words_found = 0\n    with open(filename) as db_file:\n        for line_no, line in enumerate(db_file):\n            if any(word in line for word in words_list):\n                print(line_no, ':', line)\n                words_found += 1\n    return words_found\n\nError = [\"Sorry, I don't understand.\", \"I don't get it\"]\nexWords = ['Who', 'How', 'What', 'How many', 'How much', 'am', 'is', 'are', '?', '!']\nR = \"Rel &gt; \"\n\nwhile True:\n    userInput = raw_input(\"&gt; \")\n    uqWords = userInput.split()\n    fqWords = [word for word in uqWords if not any(bad in word for bad in exWords)]\n    search_for_lines(\"Database.txt\", fqWords)\n\n    words_found = search_for_lines(\"CodeDB.txt\", fqWords)\n\n    if words_found &gt; 0:\n        break\n    else:\n        randomError = random.choice(Error)\n        print (R + (randomError))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6547, "user_id": 4522780, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9aa0b7f88da44e626b9f09934afcad97?s=128&d=identicon&r=PG&f=1", "display_name": "Nizam Mohamed", "link": "https://stackoverflow.com/users/4522780/nizam-mohamed"}, "is_accepted": false, "score": 0, "last_activity_date": 1441297174, "last_edit_date": 1441297174, "creation_date": 1441294529, "answer_id": 32379929, "question_id": 32361564, "link": "https://stackoverflow.com/questions/32361564/searching-a-text-file-for-every-word-in-a-list-and-print-the-lines/32379929#32379929", "title": "Searching a text file for every word in a list and print the lines", "body": "<p>If you don't need to modify a list, use <code>tuple</code>. And for naming identifiers see <a href=\"https://www.python.org/dev/peps/pep-0008/\" rel=\"nofollow\">PEP 8</a>.<br>\nTo get difference of sequences, use <code>set</code>, f.e. <code>{1,2,3} - {2,3}</code> is <code>{1}</code>.<br>\nIf you <code>open</code> same files within a loop, it get opened in every iteration, so better move them out of the loop.  </p>\n\n<pre><code>import random\n\ndef get_line_with_words(lines, words):\n\n    \"\"\"returns list of lines if any of the words\n       in any of the lines\n    \"\"\"\n    return [(i, line.strip()) for i, line in enumerate(lines,1) if any(word in line for word in words)]\n\nerrors = (\"Sorry, I don't understand.\", \"I don't get it\")\nex_words = ('Who', 'How', 'What', 'How many', 'How much', 'am', 'is', 'are', '?', '!')\nprefix = \"Rel &gt; \"\n\nwith open(\"Database.txt\") as db, open(\"CodeDB.txt\") as cdb:\n    while True:\n        user_input = raw_input(\"&gt; \")\n        uq_words = user_input.split()\n        fq_words = frozenset(uq_words) - frozenset(ex_words)\n\n        res1 = get_line_with_words(db, fq_words)\n        res2 = get_line_with_words(cdb, fq_words)\n\n        if res1 and res2:\n            for n, line in res1 + res2:\n                print('{} {} {}'.format(prefix, n, line)\n            break\n\n        print('{} {}'.format(prefix, random.choice(errors)))\n        db.seek(0)\n        cdb.seek(0)\n</code></pre>\n"}], "owner": {"reputation": 63, "user_id": 4815810, "user_type": "registered", "accept_rate": 40, "profile_image": "https://graph.facebook.com/624810317649540/picture?type=large", "display_name": "Zaid Riyadh Al-Rahawi", "link": "https://stackoverflow.com/users/4815810/zaid-riyadh-al-rahawi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2201, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1441297174, "creation_date": 1441222139, "last_edit_date": 1441226542, "question_id": 32361564, "link": "https://stackoverflow.com/questions/32361564/searching-a-text-file-for-every-word-in-a-list-and-print-the-lines", "title": "Searching a text file for every word in a list and print the lines", "body": "<p>I would like to search a .txt file for a \"list\" of words and print any line in the txt that contains any words in the wordlist.</p>\n\n<p>I firstly used <code>.split()</code> to split out the <code>raw_input</code> (called <code>userInput</code>) and got a wordlist. After that I filtered the current wordlist with another blacklist wordlist and got a final filtered wordlist. I want to search the text file for any of its words in this case.</p>\n\n<pre><code>exWords = ['Who', 'How', 'What', 'How many', 'How much', 'am', 'is', 'are', '?', '!']\nwhile True:\n    userInput = raw_input(\"&gt; \")\n    uqWords = userInput.split()\n    fqWords = [word for word in uqWords if not any(bad in word for bad in exWords)]\n</code></pre>\n\n<p>After I took <code>userInput</code> apart with <code>.split()</code> and called it <code>uqWords</code> I filtered them from any words in the <code>exWords</code> list and called the output <code>fqWords</code>. Now I want to search <code>Database.txt</code> for any word in the <code>fqWords</code> list and print the lines.</p>\n\n<p>to be specified; my full code is:</p>\n\n<pre><code>import time\nimport random\n\nError = [\"Sorry, I don't understand.\", \"I don't get it\"]\nexWords = ['Who', 'How', 'What', 'How many', 'How much', 'am', 'is', 'are', '?', '!']\nR = \"Rel &gt; \"\n\nwhile True:\n    userInput = raw_input(\"&gt; \")\n    uqWords = userInput.split()\n    fqWords = [word for word in uqWords if not any(bad in word for bad in exWords)]\n    DB = open(\"Database.txt\")\n    for line in DB:\n        if fqWords in line:\n            print (R + line[:-1])\n    CDB = open(\"CodeDB.txt\")\n    for code in CDB:\n        if fqWords in code:\n            print (R + code[:-1])\n            break\n        if fqWords not in (code and line):\n            randomError = random.choice(Error)\n            print (R + (randomError))\n</code></pre>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "edited": false, "score": 0, "creation_date": 1441223204, "post_id": 32361516, "comment_id": 52596428, "body": "Try <code>X_NAN = X[(X&gt;1000).all()]</code> I think your issue is that some cols will have some <code>NaN</code> and when you call <code>dropna</code> it will drop any column even if it has a single <code>NaN</code> value"}, {"owner": {"reputation": 1801, "user_id": 4833034, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/4ef57cadd8c900c5be4096eb319c99c9?s=128&d=identicon&r=PG&f=1", "display_name": "Gilaztdinov Rustam", "link": "https://stackoverflow.com/users/4833034/gilaztdinov-rustam"}, "reply_to_user": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "edited": false, "score": 0, "creation_date": 1441223336, "post_id": 32361516, "comment_id": 52596507, "body": "No, I check it, no NaN value in column, but after <code>dropna</code> column disappears"}, {"owner": {"reputation": 1801, "user_id": 4833034, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/4ef57cadd8c900c5be4096eb319c99c9?s=128&d=identicon&r=PG&f=1", "display_name": "Gilaztdinov Rustam", "link": "https://stackoverflow.com/users/4833034/gilaztdinov-rustam"}, "reply_to_user": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "edited": false, "score": 0, "creation_date": 1441223486, "post_id": 32361516, "comment_id": 52596594, "body": "@EdChum, <code>IndexingError: Unalignable boolean Series key provided</code> after I add<code>.all()</code>"}, {"owner": {"reputation": 23416, "user_id": 3877338, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/300539394aa55b738b51e6769cca9b3e?s=128&d=identicon&r=PG&f=1", "display_name": "JohnE", "link": "https://stackoverflow.com/users/3877338/johne"}, "edited": false, "score": 1, "creation_date": 1441224525, "post_id": 32361516, "comment_id": 52597128, "body": "Building on Ed&#39;s answer:  <code>X_NAN[ X_NAN.columns[ (X_NAN&gt;1000).all() ] ]</code>"}, {"owner": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "edited": false, "score": 0, "creation_date": 1441224556, "post_id": 32361516, "comment_id": 52597145, "body": "Yes this is very similar to your previous question if you think about it: <a href=\"http://stackoverflow.com/questions/32350114/select-columns-in-pandas-dataframe-by-value-in-rows\" title=\"select columns in pandas dataframe by value in rows\">stackoverflow.com/questions/32350114/&hellip;</a>"}, {"owner": {"reputation": 1801, "user_id": 4833034, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/4ef57cadd8c900c5be4096eb319c99c9?s=128&d=identicon&r=PG&f=1", "display_name": "Gilaztdinov Rustam", "link": "https://stackoverflow.com/users/4833034/gilaztdinov-rustam"}, "reply_to_user": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "edited": false, "score": 0, "creation_date": 1441225449, "post_id": 32361516, "comment_id": 52597598, "body": "@EdChum, yes, it&#39;s true, but now I need to choose element not equals to some specific number, and between or bigger something. Anyway, thank you for help!"}], "owner": {"reputation": 1801, "user_id": 4833034, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/4ef57cadd8c900c5be4096eb319c99c9?s=128&d=identicon&r=PG&f=1", "display_name": "Gilaztdinov Rustam", "link": "https://stackoverflow.com/users/4833034/gilaztdinov-rustam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1234, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1441222788, "creation_date": 1441221954, "last_edit_date": 1441222788, "question_id": 32361516, "link": "https://stackoverflow.com/questions/32361516/dropna-columns-in-pandas", "title": "Dropna columns in pandas", "body": "<p>I want to choose columns in <code>pandas.DataFrame</code> which contains ALL value in rows bigger than 1000:</p>\n\n<pre><code>In [87]: X_NAN = X[X&gt;1000]\nIn [88]: X_NAN.head()\n\nOut[88]: VAR_0002   VAR_0003    VAR_0004    VAR_0005\n           NaN        NaN         10000        NaN\n</code></pre>\n\n<p>Then I want to clean <code>X_NAN</code> from NaN values and create new <code>data.Frame</code>:</p>\n\n<pre><code>In [89]: X_with_big_1000 = X_NAN.dropna(axis=1)\n         X_with_big_1000.head()\n\nOut[89]: VAR_0004   VAR_0006    VAR_0007    VAR_0008\n           10000     22000       18000       21000\n</code></pre>\n\n<p>But I know and I check it - when I call <code>dropna</code> method, he remove value, which should not do. And I try to  <code>how=Any</code> and <code>how=All</code> -- doesn't help.</p>\n\n<p>Example:</p>\n\n<pre><code>In [92]: X_NAN.VAR_0100\n\nOut[92]: ID\n         1       100000\n         2       200000\n         3       300000\n         4       400000\nName: VAR_0100, dtype: float64\n</code></pre>\n\n<p>And error:</p>\n\n<pre><code>In [93]: X_with_big_1000.VAR_0100\n\n---------------------------------------------------------------------------\nAttributeError: 'DataFrame' object has no attribute 'VAR_0100'\n</code></pre>\n\n<p>Any advices? May be I should to change my way to choose columns with my definition?</p>\n"}, {"tags": ["python", "algorithm", "recursion", "networkx", "breadth-first-search"], "comments": [{"owner": {"reputation": 4966, "user_id": 3605497, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mV6Nc.jpg?s=128&g=1", "display_name": "Tripp Kinetics", "link": "https://stackoverflow.com/users/3605497/tripp-kinetics"}, "edited": false, "score": 0, "creation_date": 1441221956, "post_id": 32361493, "comment_id": 52595729, "body": "Why not just pass a reference to your list to your recursive call?"}, {"owner": {"reputation": 14513, "user_id": 64911, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/fdba1dde11dc7b4f62a912ad88379379?s=128&d=identicon&r=PG", "display_name": "mlissner", "link": "https://stackoverflow.com/users/64911/mlissner"}, "reply_to_user": {"reputation": 4966, "user_id": 3605497, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mV6Nc.jpg?s=128&g=1", "display_name": "Tripp Kinetics", "link": "https://stackoverflow.com/users/3605497/tripp-kinetics"}, "edited": false, "score": 0, "creation_date": 1441222504, "post_id": 32361493, "comment_id": 52596025, "body": "Is there a way to do that so that each recursive call references the same list? For example, let&#39;s say 1 traversed to 2 and 3, and 2 traversed to 4. Next step is for 3 to traverse to 4, but the list it received when it was called only said that 1 had been traversed, so it would add itself to the list, and then proceed to 4. Unless I&#39;m missing a trick here, (and it&#39;s possible -- I suck at recursion), each call of the function has it&#39;s own copy of the list."}, {"owner": {"reputation": 4966, "user_id": 3605497, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mV6Nc.jpg?s=128&g=1", "display_name": "Tripp Kinetics", "link": "https://stackoverflow.com/users/3605497/tripp-kinetics"}, "edited": false, "score": 0, "creation_date": 1441223114, "post_id": 32361493, "comment_id": 52596371, "body": "Do you have code where you can show this behavior?"}, {"owner": {"reputation": 14513, "user_id": 64911, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/fdba1dde11dc7b4f62a912ad88379379?s=128&d=identicon&r=PG", "display_name": "mlissner", "link": "https://stackoverflow.com/users/64911/mlissner"}, "reply_to_user": {"reputation": 4966, "user_id": 3605497, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mV6Nc.jpg?s=128&g=1", "display_name": "Tripp Kinetics", "link": "https://stackoverflow.com/users/3605497/tripp-kinetics"}, "edited": false, "score": 0, "creation_date": 1441223381, "post_id": 32361493, "comment_id": 52596538, "body": "OK, just studied this post <a href=\"https://stackoverflow.com/questions/986006/how-do-i-pass-a-variable-by-reference\">about passing by reference/assignment</a>, and I see Python has a neat trick I never knew about. Totally works just to pass in the list, thanks. If you want some points, make your comment an answer, and I&#39;ll send &#39;em your way. Thanks for the help! I love SO and I love Python! Incredible."}, {"owner": {"reputation": 17226, "user_id": 2966723, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e40a62626d129d5df080d4d57c22b53d?s=128&d=identicon&r=PG&f=1", "display_name": "Joel", "link": "https://stackoverflow.com/users/2966723/joel"}, "edited": false, "score": 0, "creation_date": 1441228677, "post_id": 32361493, "comment_id": 52599206, "body": "By the way - networkx has commands that do lots of different traversals.  It returns a list(I think?) of the nodes in the order of whichever traversal you want."}, {"owner": {"reputation": 14513, "user_id": 64911, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/fdba1dde11dc7b4f62a912ad88379379?s=128&d=identicon&r=PG", "display_name": "mlissner", "link": "https://stackoverflow.com/users/64911/mlissner"}, "edited": false, "score": 0, "creation_date": 1441228829, "post_id": 32361493, "comment_id": 52599269, "body": "True, but this code is used to build the nx DiGraph from the data in the DB. I need the traversal <i>before</i> I have the nx object, unfortunately. Now...if Django had a way to do recursive queries...that&#39;d be nice."}], "answers": [{"comments": [{"owner": {"reputation": 14513, "user_id": 64911, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/fdba1dde11dc7b4f62a912ad88379379?s=128&d=identicon&r=PG", "display_name": "mlissner", "link": "https://stackoverflow.com/users/64911/mlissner"}, "edited": false, "score": 0, "creation_date": 1441223769, "post_id": 32361949, "comment_id": 52596757, "body": "This really is an amazing and elegant solution. Thank you very much."}, {"owner": {"reputation": 4966, "user_id": 3605497, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mV6Nc.jpg?s=128&g=1", "display_name": "Tripp Kinetics", "link": "https://stackoverflow.com/users/3605497/tripp-kinetics"}, "reply_to_user": {"reputation": 14513, "user_id": 64911, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/fdba1dde11dc7b4f62a912ad88379379?s=128&d=identicon&r=PG", "display_name": "mlissner", "link": "https://stackoverflow.com/users/64911/mlissner"}, "edited": false, "score": 1, "creation_date": 1441223834, "post_id": 32361949, "comment_id": 52596785, "body": "As an aside, this will work with a lot of different languages.  (I&#39;m not a Python programmer.  I write Java full-time...)"}], "tags": [], "owner": {"reputation": 4966, "user_id": 3605497, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mV6Nc.jpg?s=128&g=1", "display_name": "Tripp Kinetics", "link": "https://stackoverflow.com/users/3605497/tripp-kinetics"}, "is_accepted": true, "score": 1, "last_activity_date": 1441223615, "creation_date": 1441223615, "answer_id": 32361949, "question_id": 32361493, "link": "https://stackoverflow.com/questions/32361493/how-to-cleanly-avoid-loops-in-recursive-function-breadth-first-traversal/32361949#32361949", "title": "How to cleanly avoid loops in recursive function (breadth-first traversal)", "body": "<p>Check out:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/986006/how-do-i-pass-a-variable-by-reference\">How do I pass a variable by reference?</a></p>\n\n<p>which contains an example on how to past a list by reference.  If you pass the list by reference, every call to your function will refer to the same list.</p>\n"}], "owner": {"reputation": 14513, "user_id": 64911, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/fdba1dde11dc7b4f62a912ad88379379?s=128&d=identicon&r=PG", "display_name": "mlissner", "link": "https://stackoverflow.com/users/64911/mlissner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 400, "favorite_count": 0, "accepted_answer_id": 32361949, "answer_count": 1, "score": 1, "last_activity_date": 1441223615, "creation_date": 1441221858, "question_id": 32361493, "link": "https://stackoverflow.com/questions/32361493/how-to-cleanly-avoid-loops-in-recursive-function-breadth-first-traversal", "title": "How to cleanly avoid loops in recursive function (breadth-first traversal)", "body": "<p>I'm writing a recursive breadth-first traversal of a network. The problem I ran into is that the network often looks like this:</p>\n\n<pre><code>    1\n   / \\\n  2   3\n   \\ /\n    4\n    |\n    5\n</code></pre>\n\n<p>So my traversal starts at 1, then traverses to 2, then 3. The next stop is to proceed to 4, so 2 traverses to 4. After this, 3 traverses to 4, and suddenly I'm duplicating work as both lines try to traverse to 5.</p>\n\n<p>The solution I've found is to create a list called <code>self.already_traversed</code>, and every time a node is traversed, I append it to the list. Then, when I'm traversing from node 4, I check to make sure it hasn't already been traversed.</p>\n\n<p>The problem here is that I'm using an instance variable for this, so I need a way to set up the list before the first recursion and a way to clean it up afterwards. The way I'm currently doing this is:</p>\n\n<pre><code>self.already_traversed = []\nself._traverse_all_nodes(start_id)\nself.already_traversed = []\n</code></pre>\n\n<p>Of course, it sucks to be twoggling variables outside of the function that's using them. Is there a better way to do this so this can be put into my traversal function?</p>\n\n<hr>\n\n<p>Here's the actual code, though I recognize it's a bit dense:</p>\n\n<pre><code>def _traverse_all_nodes(self, root_authority, max_depth=6):\n    \"\"\"Recursively build a networkx graph\n\n    Process is:\n     - Work backwards through the authorities for self.cluster_end and all\n       of its children.\n     - For each authority, add it to a networkx graph, if:\n        - it happened after self.cluster_start\n        - it's in the Supreme Court\n        - we haven't exceeded a max_depth of six cases.\n        - we haven't already followed this path\n    \"\"\"\n    g = networkx.Graph()\n    if hasattr(self, 'already_traversed'):\n        is_already_traversed = (root_authority.pk in self.visited_nodes)\n    else:\n        # First run. Create an empty list.\n        self.already_traversed = []\n        is_already_traversed = False\n\n    is_past_max_depth = (max_depth &lt;= 0)\n    is_cluster_start_obj = (root_authority == self.cluster_start)\n    blocking_conditions = [\n        is_past_max_depth,\n        is_cluster_start_obj,\n        is_already_traversed,\n    ]\n    if not any(blocking_conditions):\n        print \"  No blocking conditions. Pressing on.\"\n        self.visited_nodes.append(root_authority.pk)\n        for authority in root_authority.authorities.filter(\n                docket__court='scotus',\n                date_filed__gte=self.cluster_start.date_filed):\n\n            g.add_edge(root_authority.pk, authority.pk)\n            # Combine our present graph with the result of the next\n            # recursion\n            g = networkx.compose(g, self._build_graph(\n                authority,\n                max_depth - 1,\n            ))\n\n    return g\n\ndef add_clusters(self):\n    \"\"\"Do the network analysis to add clusters to the model.\n\n    Process is to:\n     - Build a networkx graph\n     - For all nodes in the graph, add them to self.clusters\n    \"\"\"\n    self.already_traversed = []\n    g = self._traverse_all_nodes(\n        self.cluster_end,\n        max_depth=6,\n    )\n    self.already_traversed = []\n</code></pre>\n"}, {"tags": ["python", "scipy", "cython"], "answers": [{"comments": [{"owner": {"reputation": 736, "user_id": 4317363, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/36de5dfa781f22965f225c6f88a93824?s=128&d=identicon&r=PG&f=1", "display_name": "asdf", "link": "https://stackoverflow.com/users/4317363/asdf"}, "edited": false, "score": 0, "creation_date": 1441235271, "post_id": 32363936, "comment_id": 52601545, "body": "The code i&#39;m referring to is actually in scipy/stats/_distn_infrastructure for scipy 0.15.1.  So the source for <code>from scipy.stats import norm</code> and then <code>norm.ppf()</code> is lines 1785-1828 from that private module.  And to your question about prime candidate, I would have used <code>from libc.math cimport exp, sqrt, log</code> which are precompiled C versions of the python builtin math"}], "tags": [], "owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "is_accepted": false, "score": 0, "last_activity_date": 1441254299, "last_edit_date": 1441254299, "creation_date": 1441231593, "answer_id": 32363936, "question_id": 32361491, "link": "https://stackoverflow.com/questions/32361491/is-there-a-cythonized-version-of-norm-methods-from-scipy-stats/32363936#32363936", "title": "Is there a cythonized version of `norm` methods from scipy.stats?", "body": "<p>Have you examined the code in </p>\n\n<p>.../scipy/stats/distributions.py?</p>\n\n<p>It looks like <code>norm_pdf</code> ends up using</p>\n\n<pre><code>_norm_pdf_C = math.sqrt(2*pi)\n_norm_pdf_logC = math.log(_norm_pdf_C)\n\ndef _norm_pdf(x):\n    return exp(-x**2/2.0) / _norm_pdf_C\n</code></pre>\n\n<p>Since it doesn't involve a loop through numpy arrays it does not look like a prime candidate for <code>cython</code> speedup.  Would you write it differently?</p>\n\n<hr>\n\n<p>Opps, sorry.  You are asking about a function like:</p>\n\n<pre><code>def pdf(self,x,*args,**kwds):\n    args, loc, scale = self._parse_args(*args, **kwds)\n    x,loc,scale = map(asarray,(x,loc,scale))\n    args = tuple(map(asarray,args))\n    x = asarray((x-loc)*1.0/scale)\n    cond0 = self._argcheck(*args) &amp; (scale &gt; 0)\n    cond1 = (scale &gt; 0) &amp; (x &gt;= self.a) &amp; (x &lt;= self.b)\n    cond = cond0 &amp; cond1\n    output = zeros(shape(cond),'d')\n    putmask(output,(1-cond0)+np.isnan(x),self.badvalue)\n    if any(cond):\n        goodargs = argsreduce(cond, *((x,)+args+(scale,)))\n        scale, goodargs = goodargs[-1], goodargs[:-1]\n        place(output,cond,self._pdf(*goodargs) / scale)\n    if output.ndim == 0:\n        return output[()]\n    return output\n</code></pre>\n\n<p>Besides argument checking and massaging with <code>map</code>, I see some iteration hiding in <code>putmask</code> and <code>place</code>.  I haven't used <code>place</code> much, but I think it's iterating on <code>cond</code>, and applying <code>self._pdf</code>, and placing the values in <code>output</code>.  I suspect code organization is intended to provide a lot of flexibility, allowing for different models and distributions.  I don't see tight code aimed at speed.</p>\n\n<p>For code that would benefit from conversion to <code>cython</code> you probably need to write something from scratch, something that does not call alot of other <code>numpy</code> and <code>scipy</code> code, and does not build an elaborate class structure.  Focus on a very specific calculation, not a family of calculations.</p>\n"}], "owner": {"reputation": 736, "user_id": 4317363, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/36de5dfa781f22965f225c6f88a93824?s=128&d=identicon&r=PG&f=1", "display_name": "asdf", "link": "https://stackoverflow.com/users/4317363/asdf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 207, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1441254299, "creation_date": 1441221844, "question_id": 32361491, "link": "https://stackoverflow.com/questions/32361491/is-there-a-cythonized-version-of-norm-methods-from-scipy-stats", "title": "Is there a cythonized version of `norm` methods from scipy.stats?", "body": "<p>I'm talking about the main public methods for continuous RV in scipy.stats: </p>\n\n<p>specifically, \n<code>from scipy.stats import norm</code>\nthen using </p>\n\n<p><code>norm.ppf</code> or <code>norm.pdf</code></p>\n\n<p>Link: <a href=\"http://docs.scipy.org/doc/scipy/reference/tutorial/stats.html\" rel=\"nofollow\">http://docs.scipy.org/doc/scipy/reference/tutorial/stats.html</a> </p>\n\n<p>Is there any opportunity for speed optimization on norm.ppf() or norm.pdf() from using cython? Or is it already optimized or not worth wrapping with cython?</p>\n"}, {"tags": ["python", "mysql", "flask", "openshift", "flask-mysql"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user2879327"}, "edited": false, "score": 0, "creation_date": 1441223843, "post_id": 32361466, "comment_id": 52596793, "body": "What error are you getting in your log files?  <a href=\"https://developers.openshift.com/en/managing-log-files.html\" rel=\"nofollow noreferrer\">developers.openshift.com/en/managing-log-files.html</a>"}, {"owner": {"reputation": 21, "user_id": 2459813, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4ec5bd64a6bc4f5b18f4f58bc2094ff9?s=128&d=identicon&r=PG", "display_name": "user2459813", "link": "https://stackoverflow.com/users/2459813/user2459813"}, "edited": false, "score": 0, "creation_date": 1441259650, "post_id": 32361466, "comment_id": 52607684, "body": "I am receiving the following error: Unknown MySQL server host"}, {"owner": {"user_type": "does_not_exist", "display_name": "user2879327"}, "edited": false, "score": 0, "creation_date": 1441292690, "post_id": 32361466, "comment_id": 52629072, "body": "Are you using the environment variables for your mysql connection?"}, {"owner": {"reputation": 21, "user_id": 2459813, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4ec5bd64a6bc4f5b18f4f58bc2094ff9?s=128&d=identicon&r=PG", "display_name": "user2459813", "link": "https://stackoverflow.com/users/2459813/user2459813"}, "edited": false, "score": 0, "creation_date": 1441301492, "post_id": 32361466, "comment_id": 52634441, "body": "Okay could you possibly assist me more? # MySQL configurations app.config[&#39;MYSQL_DATABASE_USER&#39;] = &#39; adminuWfyNxG&#39; app.config[&#39;MYSQL_DATABASE_PASSWORD&#39;] = &#39; vCXqsgm9TjRZ&#39; app.config[&#39;MYSQL_DATABASE_DB&#39;] = &#39;governitmain&#39; app.config[&#39;MYSQL_DATABASE_HOST&#39;] = &#39;127.4.253.2:3306&#39; mysql.init_app(app)"}, {"owner": {"user_type": "does_not_exist", "display_name": "user2879327"}, "edited": false, "score": 0, "creation_date": 1441306451, "post_id": 32361466, "comment_id": 52637262, "body": "The host is wrong, it should jsut be the ip address, don&#39;t include the port, and you should not post your passwords...."}, {"owner": {"reputation": 21, "user_id": 2459813, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4ec5bd64a6bc4f5b18f4f58bc2094ff9?s=128&d=identicon&r=PG", "display_name": "user2459813", "link": "https://stackoverflow.com/users/2459813/user2459813"}, "edited": false, "score": 0, "creation_date": 1441390548, "post_id": 32361466, "comment_id": 52676755, "body": "Tried that, removed the port. still doesnt work. Can we maybe teamviewer?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user3134284"}, "edited": false, "score": 0, "creation_date": 1441624094, "post_id": 32361466, "comment_id": 52738641, "body": "Have you looked at <a href=\"https://developers.openshift.com/en/managing-adding-a-database.html\" rel=\"nofollow noreferrer\">openshift&#39;s HOWTO add DB to your app</a> As I don&#39;t see any of it in the output provided. At least the ENV variables are always in form OPENSHIFT_&lt;database&gt;_PORT etc ..."}], "owner": {"reputation": 21, "user_id": 2459813, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4ec5bd64a6bc4f5b18f4f58bc2094ff9?s=128&d=identicon&r=PG", "display_name": "user2459813", "link": "https://stackoverflow.com/users/2459813/user2459813"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 502, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1538402626, "creation_date": 1441221755, "last_edit_date": 1538402626, "question_id": 32361466, "link": "https://stackoverflow.com/questions/32361466/openshift-flask-mysql", "title": "Openshift Flask-MySQL", "body": "<p>I have a openshift app written in python and would like to use Flask-mysql</p>\n\n<pre><code>import os\nfrom datetime import datetime\nfrom flask import Flask, request, flash, url_for, redirect, \\\n     render_template, abort, send_from_directory, json\n\n\nfrom flask.ext.mysql import MySQL\n\n\napp = Flask(__name__)\napp.config.from_pyfile('flaskapp.cfg')\nmysql = MySQL()\n\n# MySQL configurations\napp.config['MYSQL_DATABASE_USER'] = ' adminuWfyNxG'\napp.config['MYSQL_DATABASE_PASSWORD'] = ' '\napp.config['MYSQL_DATABASE_DB'] = ''\napp.config['MYSQL_DATABASE_HOST'] = '127.4.253.2:3306'\nmysql.init_app(app)\n\n#conn = mysql.connect()\n#cursor = conn.cursor()\n\n\n@app.route(\"/\")\ndef index():\n    return render_template('index.html')\n\n@app.route('/showSignUp')\ndef showSignUp():\n    return render_template('signup.html')\n\n@app.route('/&lt;path:resource&gt;')\ndef serveStaticResource(resource):\n    return send_from_directory('static/', resource)\n\n\n@app.route('/signUp',methods=['POST','GET'])\ndef signUp():\n    try:\n        _name = request.form['inputName']\n        _email = request.form['inputEmail']\n        _password = request.form['inputPassword']\n\n        # validate the received values\n        if _name and _email and _password:\n\n            # All Good, let's call MySQL\n\n            conn = mysql.connect()\n            cursor = conn.cursor()\n\n            cursor.callproc('sp_createUser',(_name,_email,_password))\n            data = cursor.fetchall()\n\n            if len(data) is 0:\n                conn.commit()\n                return json.dumps({'message':'User created successfully !'})\n            else:\n                return json.dumps({'error':str(data[0])})\n        else:\n            return json.dumps({'html':'&lt;span&gt;Enter the required fields&lt;/span&gt;'})\n\n    except Exception as e:\n        return json.dumps({'error':str(e)})\n    finally:\n        cursor.close()\n        conn.close()\n\nif __name__ == \"__main__\":\n    app.run()\n</code></pre>\n\n<p>When I try to run it on my app I receive an error.</p>\n\n<p>HTTP/1.1 503 Service Temporarily Unavailable\nDate: Wed, 02 Sep 2015 19:09:34 GMT\nContent-Length: 428\nConnection: close\nContent-Type: text/html; charset=iso-8859-1</p>\n\n<p>I use the database user, password, databasename and host as per the openshift config. </p>\n\n<p>Can anyone assist me?</p>\n\n<p>Log file output:</p>\n\n<p>Starting WSGIServer type flask on 127.4.253.1:8080 ...\n * Running on <a href=\"http://127.4.253.1:8080/\" rel=\"nofollow\">http://127.4.253.1:8080/</a>\n127.4.253.1 - - [03/Sep/2015 13:40:33] \"GET /showSignUp HTTP/1.1\" 500 -\nError on request:\nTraceback (most recent call last):\n  File \"/opt/rh/python27/root/usr/lib/python2.7/site-packages/werkzeug/serving.p\ny\", line 159, in run_wsgi\n    execute(app)\n  File \"/opt/rh/python27/root/usr/lib/python2.7/site-packages/werkzeug/serving.p\ny\", line 146, in execute\n    application_iter = app(environ, start_response)\n  File \"/var/lib/openshift/55d41b2c0c1e66a0060000b8/app-root/runtime/dependencie\ns/python/virtenv/lib/python2.7/site-packages/Flask-0.10.1-py2.7.egg/flask/app.py\n\", line 1836, in <strong>call</strong>\n    return self.wsgi_app(environ, start_response)\n  File \"/var/lib/openshift/55d41b2c0c1e66a0060000b8/app-root/runtime/dependencie\ns/python/virtenv/lib/python2.7/site-packages/Flask-0.10.1-py2.7.egg/flask/app.py\n\", line 1836, in <strong>call</strong>\n    return self.wsgi_app(environ, start_response)\n  File \"/var/lib/openshift/55d41b2c0c1e66a0060000b8/app-root/runtime/dependencie\ns/python/virtenv/lib/python2.7/site-packages/Flask-0.10.1-py2.7.egg/flask/app.py\n\", line 1820, in wsgi_app\n    response = self.make_response(self.handle_exception(e))\n  File \"/var/lib/openshift/55d41b2c0c1e66a0060000b8/app-root/runtime/dependencie\ns/python/virtenv/lib/python2.7/site-packages/Flask-0.10.1-py2.7.egg/flask/app.py\n\", line 1403, in handle_exception\n    reraise(exc_type, exc_value, tb)\n  File \"/var/lib/openshift/55d41b2c0c1e66a0060000b8/app-root/runtime/dependencie\ns/python/virtenv/lib/python2.7/site-packages/Flask-0.10.1-py2.7.egg/flask/app.py\n\", line 1817, in wsgi_app\n    response = self.full_dispatch_request()\n  File \"/var/lib/openshift/55d41b2c0c1e66a0060000b8/app-root/runtime/dependencie\ns/python/virtenv/lib/python2.7/site-packages/Flask-0.10.1-py2.7.egg/flask/app.py\n\", line 1477, in full_dispatch_request\n    rv = self.handle_user_exception(e)\n  File \"/var/lib/openshift/55d41b2c0c1e66a0060000b8/app-root/runtime/dependencie\ns/python/virtenv/lib/python2.7/site-packages/Flask-0.10.1-py2.7.egg/flask/app.py\n\", line 1381, in handle_user_exception\n    reraise(exc_type, exc_value, tb)\n  File \"/var/lib/openshift/55d41b2c0c1e66a0060000b8/app-root/runtime/dependencie\ns/python/virtenv/lib/python2.7/site-packages/Flask-0.10.1-py2.7.egg/flask/app.py\n\", line 1473, in full_dispatch_request\n    rv = self.preprocess_request()\n  File \"/var/lib/openshift/55d41b2c0c1e66a0060000b8/app-root/runtime/dependencie\ns/python/virtenv/lib/python2.7/site-packages/Flask-0.10.1-py2.7.egg/flask/app.py\n\", line 1666, in preprocess_request\n    rv = func()\n  File \"/var/lib/openshift/55d41b2c0c1e66a0060000b8/app-root/runtime/dependencie\ns/python/virtenv/lib/python2.7/site-packages/Flask_MySQL-1.3-py2.7.egg/flaskext/\nmysql.py\", line 48, in before_request\n    ctx.mysql_db = self.connect()\n  File \"/var/lib/openshift/55d41b2c0c1e66a0060000b8/app-root/runtime/dependencie\ns/python/virtenv/lib/python2.7/site-packages/Flask_MySQL-1.3-py2.7.egg/flaskext/\nmysql.py\", line 44, in connect\n    return MySQLdb.connect(**self.connect_args)\n  File \"/opt/rh/python27/root/usr/lib64/python2.7/site-packages/MySQLdb/<strong>init</strong>\n.py\", line 81, in Connect\n    return Connection(*args, **kwargs)\n  File \"/opt/rh/python27/root/usr/lib64/python2.7/site-packages/MySQLdb/connecti\nons.py\", line 187, in <strong>init</strong>\n    super(Connection, self).<strong>init</strong>(*args, **kwargs2)\nOperationalError: (2005, \"Unknown MySQL server host '127.4.253.2:3306' (1)\")</p>\n"}, {"tags": ["python", "regex", "logical-operators"], "comments": [{"owner": {"reputation": 8858, "user_id": 186026, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/q1xfe.png?s=128&g=1", "display_name": "fjarri", "link": "https://stackoverflow.com/users/186026/fjarri"}, "edited": false, "score": 0, "creation_date": 1441346181, "post_id": 32361448, "comment_id": 52650794, "body": "I don&#39;t really see how you can solve this with a regex. I&#39;d say you need to parse your strings (this step can be done with a regex, if your format is sufficiently restricted) and run a simple interpreter on the result."}], "answers": [{"comments": [{"owner": {"reputation": 356, "user_id": 2358582, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1054f5677bd55b3ed368421b4bd4a67?s=128&d=identicon&r=PG", "display_name": "user2358582", "link": "https://stackoverflow.com/users/2358582/user2358582"}, "reply_to_user": {"reputation": 1867, "user_id": 5240614, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/yyW6r.jpg?s=128&g=1", "display_name": "Rex", "link": "https://stackoverflow.com/users/5240614/rex"}, "edited": false, "score": 0, "creation_date": 1441351578, "post_id": 32391844, "comment_id": 52653445, "body": "Work it out yourself, it shouldn&#39;t be that hard. I&#39;ll explain what my idea was if you want. You can apply this idea to the second part"}, {"owner": {"reputation": 1867, "user_id": 5240614, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/yyW6r.jpg?s=128&g=1", "display_name": "Rex", "link": "https://stackoverflow.com/users/5240614/rex"}, "edited": false, "score": 0, "creation_date": 1441759052, "post_id": 32391844, "comment_id": 52800271, "body": "Can you explain your idea above?"}], "tags": [], "owner": {"reputation": 356, "user_id": 2358582, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1054f5677bd55b3ed368421b4bd4a67?s=128&d=identicon&r=PG", "display_name": "user2358582", "link": "https://stackoverflow.com/users/2358582/user2358582"}, "is_accepted": true, "score": 1, "last_activity_date": 1441780516, "last_edit_date": 1441780516, "creation_date": 1441349630, "answer_id": 32391844, "question_id": 32361448, "link": "https://stackoverflow.com/questions/32361448/what-is-the-fastest-way-to-do-this-string-patten-substitution-based-on-the-logic/32391844#32391844", "title": "What is the fastest way to do this string patten substitution based on the logical relations in Python?", "body": "<pre><code>from itertools import groupby\nimport re\n\n\nstr1 = \"A&gt;1 and A&gt;3 and B&lt;2 and B&lt;3\"\ncomparisions = [s.strip() for s in str1.split(\"and\")]\noperands = [re.search(r'(\\w+)([&lt;&gt;][=]?)(\\w+)',c).groups() for c in comparisions]#\n\ntot={}#total results\nfor k,g in groupby(operands,lambda x:x[0]):#group by variable1\n    for arg in g:#arg is the match with list [var1,compareitem,var2]\n        if k not in tot:tot[k] = {}\n        if arg[1] in tot[k]:\n            print(\"do the overwrite handling!\")\n        tot[k][arg[1]] = arg[2]\n\n#sort tot\nsortedkeys = sorted(tot, key=lambda x: x[0])\n\nresub_str = \" and \".join([comp+\"\".join([k+tot[comp][k] for k in tot[comp]]) for comp in sortedkeys])\nprint(resub_str)\n</code></pre>\n\n<h1>Output:</h1>\n\n<pre><code>do the overwrite handling!\ndo the overwrite handling!\nA&gt;3 and B&lt;3\n</code></pre>\n\n<h1>The Idea:</h1>\n\n<ol>\n<li>Split the string in an array of conditional statements.\nSo that we have <code>[A&gt;1,A&gt;3,B&lt;2,B&lt;3]</code> and so on.</li>\n<li>Search each condition with a pattern, that matches [VARIABLE1][COMPARE_ITEM][VARIABLE2] where <code>COMPARE_ITEM</code> is one of <code>&lt;,&gt;,&lt;=,&gt;=</code></li>\n<li>We now group by <code>VARIABLE1</code> and search the results if we already have a condition for <code>VARIABLE1</code>. If we have - do the overwriting. If not, just insert it.</li>\n<li>Sort the array by <code>VARIABLE1</code> and join the condition-parts with <code>\" and \"</code></li>\n</ol>\n\n<p>You may improve the code by not just searching Var1, but searching also for variable2 and create a reference for each variable used.</p>\n\n<p>(So that conditions like <code>A&lt;B and A&lt; 4</code> result the same as <code>B&gt;A and 4&gt;A</code>).</p>\n"}], "owner": {"reputation": 1867, "user_id": 5240614, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/yyW6r.jpg?s=128&g=1", "display_name": "Rex", "link": "https://stackoverflow.com/users/5240614/rex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 0, "accepted_answer_id": 32391844, "answer_count": 1, "score": 0, "last_activity_date": 1441780516, "creation_date": 1441221694, "last_edit_date": 1441350222, "question_id": 32361448, "link": "https://stackoverflow.com/questions/32361448/what-is-the-fastest-way-to-do-this-string-patten-substitution-based-on-the-logic", "title": "What is the fastest way to do this string patten substitution based on the logical relations in Python?", "body": "<p>For example, </p>\n\n<pre><code> 1. str1 = 'A&gt;1 and A&gt;=3 and B&lt;2 and B&lt;=3 and B&lt;1 ...', should be substituted to:\n    str1 = 'A&gt;=3 and B&lt;1 ...';  \n\n 2. str2=['A=1 and B&lt;=2 ...', 'A=1 and B&gt;2 ...'], should be substituted to:\n    str2=['A=1 ...'], where B is skipped\n</code></pre>\n\n<p>A, B can be any length legal python identifiers. There are unknown number of logical operands in both str1 and str2.</p>\n\n<p>The usual regex search approach is quite challenging to solve this problem. Any hack idea?</p>\n\n<p>EDIT:</p>\n\n<p>To make the question simple, let's consider 'and' operation only, and all operands are sorted as a string, namely</p>\n\n<pre><code> 'A&lt;x and A&lt;y and A&lt;z' will always appear next to each other\n</code></pre>\n"}, {"tags": ["python", "tkinter"], "answers": [{"comments": [{"owner": {"reputation": 3575, "user_id": 4678042, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/R0bWq.jpg?s=128&g=1", "display_name": "sunny", "link": "https://stackoverflow.com/users/4678042/sunny"}, "edited": false, "score": 0, "creation_date": 1441221916, "post_id": 32361458, "comment_id": 52595703, "body": "when am I going to learn my lesson about the many class methods that return None?!!? thanks a lot!"}], "tags": [], "owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "is_accepted": true, "score": 2, "last_activity_date": 1441221732, "creation_date": 1441221732, "answer_id": 32361458, "question_id": 32361425, "link": "https://stackoverflow.com/questions/32361425/tkinter-label-not-receiving-mouse-clicks/32361458#32361458", "title": "Tkinter Label not receiving mouse clicks", "body": "<p>The following:</p>\n\n<pre><code>self.photo_label = Tkinter.Label(self, image=self.image).pack()\n</code></pre>\n\n<p>Sets your <code>self.photo_label</code> reference to point to whatever was finally returned. Since geometry management methods like <code>pack()</code> return <code>None</code>, that's what <code>self.photo_label</code> points to.</p>\n\n<p>To fix this, do not attempt to chain your geometry management methods onto the widget creation:</p>\n\n<pre><code>self.photo_label = Tkinter.Label(self, image=self.image)\nself.photo_label.pack()\n</code></pre>\n\n<p><code>self.photo_label</code> now points to a <code>Label</code> object.</p>\n"}], "owner": {"reputation": 3575, "user_id": 4678042, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/R0bWq.jpg?s=128&g=1", "display_name": "sunny", "link": "https://stackoverflow.com/users/4678042/sunny"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 684, "favorite_count": 0, "accepted_answer_id": 32361458, "answer_count": 1, "score": 0, "last_activity_date": 1441221732, "creation_date": 1441221625, "last_edit_date": 1495542790, "question_id": 32361425, "link": "https://stackoverflow.com/questions/32361425/tkinter-label-not-receiving-mouse-clicks", "title": "Tkinter Label not receiving mouse clicks", "body": "<p>I am trying to follow this post: <a href=\"https://stackoverflow.com/questions/11504571/clickable-tkinter-labels\">Clickable Tkinter labels</a> but I must be misunderstanding the Tkinter widget hierarchy. I am storing an image in a <code>Tkinter.Label</code>, and I would like to detect the location of mouseclicks on this image.</p>\n\n<pre><code>class Example(Frame):\n\n    def __init__(self, parent):\n        Frame.__init__(self, parent)           \n        self.parent = parent\n        ...\n        self.image = ImageTk.PhotoImage(image=im)\n        self.initUI()\n\n\n    def initUI(self):\n        self.parent.title(\"Quit button\")\n        self.style = Style()\n        self.style.theme_use(\"default\")\n        self.pack(fill=BOTH, expand=1)\n\n        self.photo_label = Tkinter.Label(self, image=self.image).pack()\n        self.bind(\"&lt;ButtonPress-1&gt;\", self.OnMouseDown)\n        self.bind(\"&lt;Button-1&gt;\", self.OnMouseDown)\n        self.bind(\"&lt;ButtonRelease-1&gt;\", self.OnMouseDown)\n\n#        Tried the following, but it generates an error described below\n#        self.photo_label.bind(\"&lt;ButtonPress-1&gt;\", self.OnMouseDown)\n#        self.photo_label.bind(\"&lt;Button-1&gt;\", self.OnMouseDown)\n#        self.photo_label.bind(\"&lt;ButtonRelease-1&gt;\", self.OnMouseDown)\n\n\n    def OnMouseDown(self, event):\n        x = self.parent.winfo_pointerx()\n        y = self.parent.winfo_pointery()\n        print \"button is being pressed... %s/%s\" % (x, y)\n</code></pre>\n\n<p>When I run the script, my window appears with the desired image, but nothing is printed out, which I take to mean no mouse clicks are detected. I thought this was happening because the individual widget should capture the mouse click, so I tried the commented out block code above:</p>\n\n<pre><code>        self.photo_label.bind(\"&lt;ButtonPress-1&gt;\", self.OnMouseDown)\n        self.photo_label.bind(\"&lt;Button-1&gt;\", self.OnMouseDown)\n        self.photo_label.bind(\"&lt;ButtonRelease-1&gt;\", self.OnMouseDown)\n</code></pre>\n\n<p>But this yields the following error:</p>\n\n<pre><code>    self.photo_label.bind(\"&lt;ButtonPress-1&gt;\", self.OnMouseDown)\nAttributeError: 'NoneType' object has no attribute 'bind'\n</code></pre>\n\n<p>Why is Frame and/or Label not showing any signs of detecting mouse clicks? And why is <code>self.photo_label</code> showing up as a <code>NoneType</code> even as the image is in fact displayed, presumably via <code>self.photo_label</code>?</p>\n"}, {"tags": ["python", "scala", "apache-spark", "svm"], "comments": [{"owner": {"reputation": 35667, "user_id": 3415409, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/511ea2c9f96104e90774206261f0e608?s=128&d=identicon&r=PG", "display_name": "eliasah", "link": "https://stackoverflow.com/users/3415409/eliasah"}, "edited": false, "score": 0, "creation_date": 1441221871, "post_id": 32361419, "comment_id": 52595682, "body": "That&#39;s correct, but what is the question?"}, {"owner": {"reputation": 9242, "user_id": 2827771, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/96059824f2f3da358b88e0550749610d?s=128&d=identicon&r=PG&f=1", "display_name": "ahajib", "link": "https://stackoverflow.com/users/2827771/ahajib"}, "reply_to_user": {"reputation": 35667, "user_id": 3415409, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/511ea2c9f96104e90774206261f0e608?s=128&d=identicon&r=PG", "display_name": "eliasah", "link": "https://stackoverflow.com/users/3415409/eliasah"}, "edited": false, "score": 0, "creation_date": 1441221972, "post_id": 32361419, "comment_id": 52595738, "body": "@eliasah any method in python spark svm which returns the score rather than the label?"}, {"owner": {"reputation": 35667, "user_id": 3415409, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/511ea2c9f96104e90774206261f0e608?s=128&d=identicon&r=PG", "display_name": "eliasah", "link": "https://stackoverflow.com/users/3415409/eliasah"}, "edited": false, "score": 0, "creation_date": 1441222001, "post_id": 32361419, "comment_id": 52595755, "body": "Nope. You&#39;ll have to tweak it yourself. You can also write your own evaluation classes. That&#39;s what I do since they are still not all available even in Scala."}, {"owner": {"reputation": 9242, "user_id": 2827771, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/96059824f2f3da358b88e0550749610d?s=128&d=identicon&r=PG&f=1", "display_name": "ahajib", "link": "https://stackoverflow.com/users/2827771/ahajib"}, "reply_to_user": {"reputation": 35667, "user_id": 3415409, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/511ea2c9f96104e90774206261f0e608?s=128&d=identicon&r=PG", "display_name": "eliasah", "link": "https://stackoverflow.com/users/3415409/eliasah"}, "edited": false, "score": 0, "creation_date": 1441222182, "post_id": 32361419, "comment_id": 52595861, "body": "Unfortunately. But it doesn&#39;t make any sense, they are supposed to be compatible with each other, aren&#39;t they?"}, {"owner": {"reputation": 35667, "user_id": 3415409, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/511ea2c9f96104e90774206261f0e608?s=128&d=identicon&r=PG", "display_name": "eliasah", "link": "https://stackoverflow.com/users/3415409/eliasah"}, "edited": false, "score": 1, "creation_date": 1441222469, "post_id": 32361419, "comment_id": 52596005, "body": "Nope. They are not supposed to be now, but eventually they will be. There is lots of work on standardizing the APIs. Nevertheless, Python doesn&#39;t run in a JVM and also it uses numpy which doesn&#39;t have the same structural definition as in Scala or Java. Thus, the inconsistency between APIs. But the Apache Spark team is working on it. The project is very complex and huge with all the libraries to maintain and also with the Tungsten project in the pipes. So you just have to be patient and tweak your own solution around it meanwhile. That&#39;s what I do."}, {"owner": {"reputation": 9242, "user_id": 2827771, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/96059824f2f3da358b88e0550749610d?s=128&d=identicon&r=PG&f=1", "display_name": "ahajib", "link": "https://stackoverflow.com/users/2827771/ahajib"}, "reply_to_user": {"reputation": 35667, "user_id": 3415409, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/511ea2c9f96104e90774206261f0e608?s=128&d=identicon&r=PG", "display_name": "eliasah", "link": "https://stackoverflow.com/users/3415409/eliasah"}, "edited": false, "score": 1, "creation_date": 1441222548, "post_id": 32361419, "comment_id": 52596052, "body": "Makes sense. Thanks for the help anyways."}, {"owner": {"reputation": 35667, "user_id": 3415409, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/511ea2c9f96104e90774206261f0e608?s=128&d=identicon&r=PG", "display_name": "eliasah", "link": "https://stackoverflow.com/users/3415409/eliasah"}, "edited": false, "score": 0, "creation_date": 1441222563, "post_id": 32361419, "comment_id": 52596057, "body": "You can follow the workflow of the Spark project on JIRA and you can also raise issues and participate in the project if you wish. Make sure to read the guidelines first!"}], "answers": [{"comments": [{"owner": {"reputation": 9242, "user_id": 2827771, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/96059824f2f3da358b88e0550749610d?s=128&d=identicon&r=PG&f=1", "display_name": "ahajib", "link": "https://stackoverflow.com/users/2827771/ahajib"}, "edited": false, "score": 0, "creation_date": 1441302373, "post_id": 32364153, "comment_id": 52634931, "body": "Thanks for your useful comment Holden. I will also give this a shot and let you know about the results."}], "tags": [], "owner": {"reputation": 7156, "user_id": 572083, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vXY69.jpg?s=128&g=1", "display_name": "Holden", "link": "https://stackoverflow.com/users/572083/holden"}, "is_accepted": false, "score": 3, "last_activity_date": 1441233454, "last_edit_date": 1441233454, "creation_date": 1441232798, "answer_id": 32364153, "question_id": 32361419, "link": "https://stackoverflow.com/questions/32361419/apache-spark-svm-in-scala-vs-python/32364153#32364153", "title": "Apache SPARK SVM in Scala vs Python", "body": "<p>As @eliasah has pointed out you could extend <code>SVMModel</code> to add a a function which returns what you are looking for:</p>\n\n<pre><code>def predictRaw(self, x):\n    \"\"\"\n    Predict values for a single data point or an RDD of points\n    using the model trained.\n    \"\"\"\n    if isinstance(x, RDD):\n        return x.map(lambda v: self.predict(v))\n\n    x = _convert_to_vector(x)\n    margin = self.weights.dot(x) + self.intercept\n    return margin\n</code></pre>\n\n<p>I went to go implement parameter clearing so you can do it as with the Scala API, and it seems like it already should work for you, simply call <code>clearThreshold</code> on the model and predict will switch to returning the margin as with the Scala API.</p>\n"}], "owner": {"reputation": 9242, "user_id": 2827771, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/96059824f2f3da358b88e0550749610d?s=128&d=identicon&r=PG&f=1", "display_name": "ahajib", "link": "https://stackoverflow.com/users/2827771/ahajib"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 514, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1441233454, "creation_date": 1441221593, "question_id": 32361419, "link": "https://stackoverflow.com/questions/32361419/apache-spark-svm-in-scala-vs-python", "title": "Apache SPARK SVM in Scala vs Python", "body": "<p>Recently I've been trying to utilize Spark to do binary classification. I code in Python and in order to use Spark SVM, I am using the following package:</p>\n\n<pre><code>from pyspark.mllib.classification import SVMWithSGD\n</code></pre>\n\n<p>Looking at <a href=\"http://spark.apache.org/docs/latest/mllib-linear-methods.html\" rel=\"nofollow\">this link</a> I realized that Scala version of SVM.predict returns a score while the python version of it returns a label. Since I want to calculate AUROC using:</p>\n\n<pre><code>from pyspark.mllib.evaluation import BinaryClassificationMetrics\n</code></pre>\n\n<p>I do need the scores rather than the labels of the test samples. Reading spark official documentation I figured unfortunately the python version as mentioned earlier only returns the labels. Please correct me if I am wrong or help me to resolve this problem (if you are aware of any other packages or something).</p>\n\n<p>Thanks</p>\n"}, {"tags": ["python", "python-3.x", "numpy", "neural-network"], "owner": {"reputation": 11, "user_id": 4351676, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dbf50f30f04b953c6fc4fffe6a72fa38?s=128&d=identicon&r=PG&f=1", "display_name": "Reign", "link": "https://stackoverflow.com/users/4351676/reign"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 91, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1441225133, "creation_date": 1441221115, "last_edit_date": 1441225133, "question_id": 32361306, "link": "https://stackoverflow.com/questions/32361306/neurolab-provide-many-training-samples-for-network-newff", "title": "Neurolab provide many training samples for network newff", "body": "<p>I need a network that will return me some points that are representation of a curve (lets assume that these are just points from -1 to 1). \nI have 4 learning sets (very simplified example provided):<br></p>\n\n<blockquote>\n  <p><strong>Input</strong>: [1,2,3,4 ... 1190] <strong>Target</strong>: [0.1, 0.2, ... 1.0] <br>\n  <strong>Input</strong>: [2,3,4,5 ... 1190]   <strong>Target</strong>: [0.11, 0.21, ... 1.0]<br>\n  <strong>Input</strong>: [0,3,1,4 ... 1190]   <strong>Target</strong>: [0.01, 0.23, ... 1.0]<br>\n  <strong>Input</strong>: [0.1,0.3,0.5,1 ... 1190] <strong>Target</strong>: [0.5, 0.3, ... 1.0]<br></p>\n</blockquote>\n\n<p>And i want to train the perceptron multilayer network using all of the above sets, but all examples of training that I've found were for one set of data => one expected output. \nHow can I train network using many datasets?</p>\n\n<p>I tried providing all of that in form of one numpy array but I suppose that neurolab takes only the first result from it. \nIf You would like to look at my code, here is it:\n<a href=\"https://github.com/emilswiderek/mgr/blob/master/analysis/network.py\" rel=\"nofollow\">https://github.com/emilswiderek/mgr/blob/master/analysis/network.py</a>\nI am talking about the '<em>trainNetwork</em>' method in <strong>network.py</strong> file.</p>\n\n<p>Thanks in advance for any help.</p>\n"}, {"tags": ["python"], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 3351215, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b7b5fc96179a0f5bcf37666f6ba6e43?s=128&d=identicon&r=PG&f=1", "display_name": "Jack", "link": "https://stackoverflow.com/users/3351215/jack"}, "edited": false, "score": 0, "creation_date": 1450970717, "post_id": 32361336, "comment_id": 56651338, "body": "The datetime object is timezone aware (isn&#39;t it?) anyway as event.date is localised, as mentioned above. However, event.date.time is not - I was wondering if this discrepancy is a bug?"}, {"owner": {"reputation": 86481, "user_id": 2411802, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/RA92x.jpg?s=128&g=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/2411802/alexander"}, "reply_to_user": {"reputation": 3, "user_id": 3351215, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b7b5fc96179a0f5bcf37666f6ba6e43?s=128&d=identicon&r=PG&f=1", "display_name": "Jack", "link": "https://stackoverflow.com/users/3351215/jack"}, "edited": false, "score": 0, "creation_date": 1450972307, "post_id": 32361336, "comment_id": 56651980, "body": "It is not a bug.  Time itself cannot be tz aware.  See edit above."}], "tags": [], "owner": {"reputation": 86481, "user_id": 2411802, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/RA92x.jpg?s=128&g=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/2411802/alexander"}, "is_accepted": false, "score": 0, "last_activity_date": 1450972266, "last_edit_date": 1450972266, "creation_date": 1441221252, "answer_id": 32361336, "question_id": 32361241, "link": "https://stackoverflow.com/questions/32361241/timezone-aware-objects-in-django-why-is-datetime-time-not-timezone-aware/32361336#32361336", "title": "Timezone aware objects in Django - why is datetime.time not timezone aware?", "body": "<p>Unless a datetime object is localized, it is 'unaware'. It knows the time, but not relevant time (e.g. 09:00 in London and San Francisco are the same, despite the 8 hour time difference).  </p>\n\n<p>You need to explicitly set the time zone yourself.</p>\n\n<pre><code>from pytz import timezone\nimport datetime as dt\n\ntz = timezone('UTC')\n&gt;&gt;&gt; print(dt.datetime.now());print(dt.datetime.now(tz))\n2015-12-24 07:29:09.758346\n2015-12-24 15:29:09.758426+00:00\n</code></pre>\n\n<p>You cannot make time itself timezone aware.  How would it know on which day to adjust for daylight savings?</p>\n\n<blockquote>\n  <p>The preferred way of dealing with times is to always work in UTC,\n  converting to localtime only when generating output to be read by\n  humans.</p>\n</blockquote>\n\n<p>Refer to the <a href=\"http://pytz.sourceforge.net\" rel=\"nofollow\">pytz</a> module for additional examples.</p>\n"}, {"comments": [{"owner": {"reputation": 3, "user_id": 3351215, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b7b5fc96179a0f5bcf37666f6ba6e43?s=128&d=identicon&r=PG&f=1", "display_name": "Jack", "link": "https://stackoverflow.com/users/3351215/jack"}, "edited": false, "score": 0, "creation_date": 1450970621, "post_id": 32361421, "comment_id": 56651307, "body": "The datetime object is timezone aware anyway (I think?) as event.date is localised, as mentioned above. However, event.date.time is not - I was wondering if this is a bug."}], "tags": [], "owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "is_accepted": false, "score": 0, "last_activity_date": 1441221607, "creation_date": 1441221607, "answer_id": 32361421, "question_id": 32361241, "link": "https://stackoverflow.com/questions/32361241/timezone-aware-objects-in-django-why-is-datetime-time-not-timezone-aware/32361421#32361421", "title": "Timezone aware objects in Django - why is datetime.time not timezone aware?", "body": "<p><code>datetime</code> objects can be timezone-aware if you provide that information with the <a href=\"https://docs.python.org/3.4/library/datetime.html#timezone-objects\" rel=\"nofollow\"><code>datetime.timezone</code> class</a>. You can programatically determine the local offset by comparing local time with UTC time (e.g. <a href=\"https://docs.python.org/3.4/library/datetime.html#timezone-objects\" rel=\"nofollow\"><code>datetime.now()</code></a> vs <a href=\"https://docs.python.org/3.4/library/datetime.html#datetime.datetime.utcnow\" rel=\"nofollow\"><code>datetime.utcnow()</code></a>).</p>\n"}, {"tags": [], "owner": {"reputation": 41280, "user_id": 344286, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/3827b2facd01ed6a64a96df00d4b877a?s=128&d=identicon&r=PG", "display_name": "Wayne Werner", "link": "https://stackoverflow.com/users/344286/wayne-werner"}, "is_accepted": false, "score": 0, "last_activity_date": 1450972716, "creation_date": 1450972716, "answer_id": 34455197, "question_id": 32361241, "link": "https://stackoverflow.com/questions/32361241/timezone-aware-objects-in-django-why-is-datetime-time-not-timezone-aware/34455197#34455197", "title": "Timezone aware objects in Django - why is datetime.time not timezone aware?", "body": "<blockquote>\n  <p>Time is an illusion. Lunchtime doubly so.</p>\n</blockquote>\n\n<p>If you think about it, there's a good reason for times to not have a timezone. Indeed, how can a <em>time</em> be aware of the timezone. By itself it's impossible. Time is just a number. It's like asking how tall you are. If you replied, \"42,\" how am I to know if you mean inches, centimeters, or feet? By itself the number is meaningless. It's only once you introduce a point of reference that it makes sense. And worse, if you said <code>42</code> and I was thinking about the wrong units (say, mm) then I would imagine an entirely wrong thing.</p>\n\n<p>So on to time - what does the time represent? It's actually just relative to midnight*. But <em>which</em> midnight? Without a date, it could be the most recent midnight, or the midnight a fortnight ago. You don't know. There's no point of reference. It's like <code>42</code>. <code>42</code> <em>what</em>? <code>13:00</code> <em>when</em>?</p>\n\n<p>And that's where timezones come in. We've (mostly) agreed as society that we want <code>12:00</code> to roughly correspond to the Sun at its zenith. After all, we need to know when lunchtime is.</p>\n\n<p>But if you're in Britain (GMT+0), you hardly want to be eating your lunch at the same time I'm eating mine in Arkansas, USA (GMT-6). That'd put you eating lunch when the Sun goes down and that's just crazy talk.</p>\n\n<p>So timezones allow us a way to talk about things in a sensible way - when we say, \"lunchtime\", we all know that means when the Sun is up high - around <code>12:00</code>. As we're <em>usually</em> talking about the current lunchtime (I mean, as long as you have your priorities straight) we have a tendency to think about the time meaning <em>today</em>. But for computers, lunch is much less important so they only way they're going to know if we meant <code>12:00</code> today (December 24, 2015) or lunch tomorrow (December 25, 2015 - hooray Christmas!**) is to explicitly tell it. And the only way it's going to know if we meant lunch here in Arkansas, or lunch in Cape Town, South Africa is if we give it a time zone.</p>\n\n<p>So no, <strong>time not being timezone aware is not a bug</strong>.</p>\n\n<p>If you want to change the timezone you'll need to do that on the datetime, and then get the resulting time from <em>that</em>.</p>\n\n<p>*<sup><sub>Sure you could argue from any other point, and you'd also be right!</sub></sup></p>\n\n<p>**<sup><sub>If you're into that sort of thing.</sub></sup></p>\n"}], "owner": {"reputation": 3, "user_id": 3351215, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b7b5fc96179a0f5bcf37666f6ba6e43?s=128&d=identicon&r=PG&f=1", "display_name": "Jack", "link": "https://stackoverflow.com/users/3351215/jack"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 317, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1450972716, "creation_date": 1441220912, "question_id": 32361241, "link": "https://stackoverflow.com/questions/32361241/timezone-aware-objects-in-django-why-is-datetime-time-not-timezone-aware", "title": "Timezone aware objects in Django - why is datetime.time not timezone aware?", "body": "<p>I was struggling to understand why the times were displaying an hour early on the website I'm building, but I've now figured it out I think.</p>\n\n<p>I was displaying the 'datetime' by splitting up the object (in my template) into date.day, date.month, date.year and date.time. The date.time was then not being timezone converted (from the UTC value in the database). In London the time zone is currently UTC+1 due to daylight savings, so the times displayed on the website were an hour slower than those I put into the admin interface. I then discovered that if, in the template, I just put {{ date }}, then the times <strong>are</strong> localised.</p>\n\n<p>Is this expected behaviour? Why is date.time not timezone aware?</p>\n\n<p>Thanks</p>\n\n<pre><code>{% load tz %}\n\n        Timezone conversion on:&lt;br&gt; \n        {% localtime on %}\n            {{ event.date }} \n                {# time converted correctly #}\n            &lt;br&gt;\n            {{ event.date.day }}/{{ event.date.month }}/{{ event.date.year }}, {{ event.date.time }}\n                {# time not converted  #}\n            &lt;br&gt;\n        {% endlocaltime %}\n\n        Timezone conversion off:&lt;br&gt;\n        {% localtime off %}\n            {{ event.date }}\n                {# time not converted, as expected as timezone conversion is off #}\n            &lt;br&gt;\n            {{ event.date.day }}/{{ event.date.month }}/{{ event.date.year }}, {{ event.date.time }}\n                {# time not converted, as expected as timezone conversion is off #}\n            &lt;br&gt;\n        {% endlocaltime %}\n</code></pre>\n"}, {"tags": ["python", "exception", "boto3", "botocore"], "answers": [{"tags": [], "owner": {"reputation": 1103, "user_id": 3716533, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/8USWA.jpg?s=128&g=1", "display_name": "Scott", "link": "https://stackoverflow.com/users/3716533/scott"}, "is_accepted": true, "score": 6, "last_activity_date": 1441227729, "creation_date": 1441227729, "answer_id": 32363047, "question_id": 32361173, "link": "https://stackoverflow.com/questions/32361173/python-boto3-connection-error-with-no-apparent-cause/32363047#32363047", "title": "python boto3 connection error with no apparent cause", "body": "<p>Issue resolved. It turns out that a couple of seemingly unrelated actions independent of anything boto related resulted in HTTP_PROXY and HTTPS_PROXY environment variables being improperly set, which was then breaking the botocore calls under both boto3 and the aws cli. Removing both environment variables resolved the problem.</p>\n\n<p>I'll leave this up as I found it very difficult to find anything pointing to this as a possible cause of this error. Might save someone else some of the hair pulling I went through.</p>\n"}, {"tags": [], "owner": {"reputation": 249, "user_id": 8298871, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/be95d5b2dcef02acd5a282911999071c?s=128&d=identicon&r=PG&f=1", "display_name": "radzia2", "link": "https://stackoverflow.com/users/8298871/radzia2"}, "is_accepted": false, "score": 0, "last_activity_date": 1510590567, "creation_date": 1510590567, "answer_id": 47269094, "question_id": 32361173, "link": "https://stackoverflow.com/questions/32361173/python-boto3-connection-error-with-no-apparent-cause/47269094#47269094", "title": "python boto3 connection error with no apparent cause", "body": "<p>I just had a similar issue. All of a sudden, no connection possible anymore to my s3 through boto3 on django while I had still the possibility to do the actions on my Heroku environment.</p>\n\n<p>Appeared I recently installed the amazon CLI where my configuration was different and the CLI overrules the environment variables... Damn. took me 3 hours to find.</p>\n\n<p>through <code>aws configure</code> I now set</p>\n\n<p><code>\nAWS Access Key ID [****************MPIA]: \"your true key here without quotes\" \nAWS Secret Access Key [****************7DWm]: \"your true secret access key here without quotes\" \nDefault region name [eu-west-1]: \"your true region here without quotes\" \nDefault output format [None]: [here i did just an enter in order not to change this]\n</code></p>\n\n<p>Just posting this for the sake of anyone having this issue.</p>\n"}], "owner": {"reputation": 1103, "user_id": 3716533, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/8USWA.jpg?s=128&g=1", "display_name": "Scott", "link": "https://stackoverflow.com/users/3716533/scott"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4834, "favorite_count": 0, "accepted_answer_id": 32363047, "answer_count": 2, "score": 2, "last_activity_date": 1510590567, "creation_date": 1441220663, "question_id": 32361173, "link": "https://stackoverflow.com/questions/32361173/python-boto3-connection-error-with-no-apparent-cause", "title": "python boto3 connection error with no apparent cause", "body": "<p>I'm hitting an error with code that connects to AWS using boto3. The error just started yesterday afternoon, and between the last time I didn't get the error and the first time I got the error I don't see anything that changed.</p>\n\n<p>The error is:</p>\n\n<pre><code>botocore.exceptions.EndpointConnectionError: Could not connect to the endpoint URL:\n</code></pre>\n\n<p>In .aws/config I have:</p>\n\n<pre><code>$ cat ~/.aws/config\n[default]\nregion=us-east-1\n</code></pre>\n\n<p>Here's what I know:</p>\n\n<ul>\n<li>Using the same AWS credentials and config on another machine, I don't see the error.</li>\n<li>Using different AWS credentials and config on the same machine, I do see the error.</li>\n<li>I'm the only one in our group that has this issue for any credentials on any machine.</li>\n</ul>\n\n<p>I don't think I changed anything that would affect this between the last time this worked and the first time it didn't. It seems like I'd have had to change some AWS specific configuration on my side or some low level libraries, and I didn't make any such change. I was talking with a colleague for 30-45 minutes and when I returned and picked up where I left off the issue first appeared.</p>\n\n<p>Any thoughts or ideas on troubleshooting this?</p>\n\n<p>Full exception dump follows.</p>\n\n<pre><code>$ python\nPython 2.7.10 (default, Jul 14 2015, 19:46:27) \n[GCC 4.2.1 Compatible Apple LLVM 6.0 (clang-600.0.39)] on darwin\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n&gt;&gt;&gt; import boto3\n&gt;&gt;&gt; boto3.client('ec2').describe_regions()\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\n  File \"/Library/Python/2.7/site-packages/botocore/client.py\", line 200, in _api_call\n    return self._make_api_call(operation_name, kwargs)\n  File \"/Library/Python/2.7/site-packages/botocore/client.py\", line 244, in _make_api_call\n    operation_model, request_dict)\n  File \"/Library/Python/2.7/site-packages/botocore/endpoint.py\", line 173, in make_request\n    return self._send_request(request_dict, operation_model)\n  File \"/Library/Python/2.7/site-packages/botocore/endpoint.py\", line 203, in _send_request\n    success_response, exception):\n  File \"/Library/Python/2.7/site-packages/botocore/endpoint.py\", line 267, in _needs_retry\n    caught_exception=caught_exception)\n  File \"/Library/Python/2.7/site-packages/botocore/hooks.py\", line 226, in emit\n    return self._emit(event_name, kwargs)\n  File \"/Library/Python/2.7/site-packages/botocore/hooks.py\", line 209, in _emit\n    response = handler(**kwargs)\n  File \"/Library/Python/2.7/site-packages/botocore/retryhandler.py\", line 183, in __call__\n    if self._checker(attempts, response, caught_exception):\n  File \"/Library/Python/2.7/site-packages/botocore/retryhandler.py\", line 250, in __call__\n    caught_exception)\n  File \"/Library/Python/2.7/site-packages/botocore/retryhandler.py\", line 273, in _should_retry\n    return self._checker(attempt_number, response, caught_exception)\n  File \"/Library/Python/2.7/site-packages/botocore/retryhandler.py\", line 313, in __call__\n    caught_exception)\n  File \"/Library/Python/2.7/site-packages/botocore/retryhandler.py\", line 222, in __call__\n    return self._check_caught_exception(attempt_number, caught_exception)\n  File \"/Library/Python/2.7/site-packages/botocore/retryhandler.py\", line 355, in _check_caught_exception\n    raise caught_exception\nbotocore.exceptions.EndpointConnectionError: Could not connect to the endpoint URL: \"https://ec2.us-east-1.amazonaws.com/\"\n</code></pre>\n"}, {"tags": ["python", "pandas"], "answers": [{"comments": [{"owner": {"reputation": 2589, "user_id": 3776938, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/d1b19e04e44001cc1ddba3afc2212365?s=128&d=identicon&r=PG&f=1", "display_name": "AJG519", "link": "https://stackoverflow.com/users/3776938/ajg519"}, "edited": false, "score": 0, "creation_date": 1441223155, "post_id": 32361222, "comment_id": 52596403, "body": "Hmm, this does not appear to be what I&#39;m looking for. You&#39;ll see in my result above that each Year / Location needs to take on the value from the location&#39;s previous Year. There should be no Year &#39;2001&#39; in the output because it has no previous year."}, {"owner": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "reply_to_user": {"reputation": 2589, "user_id": 3776938, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/d1b19e04e44001cc1ddba3afc2212365?s=128&d=identicon&r=PG&f=1", "display_name": "AJG519", "link": "https://stackoverflow.com/users/3776938/ajg519"}, "edited": false, "score": 0, "creation_date": 1441223284, "post_id": 32361222, "comment_id": 52596475, "body": "Yes, you&#39;re right you need to pass <code>-1</code> to <code>shift</code> so it shifts the other direction"}, {"owner": {"reputation": 2589, "user_id": 3776938, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/d1b19e04e44001cc1ddba3afc2212365?s=128&d=identicon&r=PG&f=1", "display_name": "AJG519", "link": "https://stackoverflow.com/users/3776938/ajg519"}, "edited": false, "score": 0, "creation_date": 1441230741, "post_id": 32361222, "comment_id": 52600092, "body": "This still is not what I&#39;m looking for (see output above for the correct output). Each Year / Location needs to take on the value from the location&#39;s previous year. Your output is the same as the input. For example in year 2002, location A has values of 3 and 4. In the output, location A in 2002 should have the time lag (ie the values in 2001 - 1 and 2)."}, {"owner": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "reply_to_user": {"reputation": 2589, "user_id": 3776938, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/d1b19e04e44001cc1ddba3afc2212365?s=128&d=identicon&r=PG&f=1", "display_name": "AJG519", "link": "https://stackoverflow.com/users/3776938/ajg519"}, "edited": false, "score": 0, "creation_date": 1441233048, "post_id": 32361222, "comment_id": 52600871, "body": "OK, I see the issue, are the years always present every location?"}, {"owner": {"reputation": 2589, "user_id": 3776938, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/d1b19e04e44001cc1ddba3afc2212365?s=128&d=identicon&r=PG&f=1", "display_name": "AJG519", "link": "https://stackoverflow.com/users/3776938/ajg519"}, "edited": false, "score": 0, "creation_date": 1441322703, "post_id": 32361222, "comment_id": 52644247, "body": "Yes, years are present for every location."}], "tags": [], "owner": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "is_accepted": false, "score": 2, "last_activity_date": 1441233804, "last_edit_date": 1441233804, "creation_date": 1441220827, "answer_id": 32361222, "question_id": 32361151, "link": "https://stackoverflow.com/questions/32361151/time-lag-of-variables-in-pandas/32361222#32361222", "title": "Time lag of variables in Pandas", "body": "<p>OK, after looking at what you want it'll be quicker to take the first rows and then <code>shift</code> the rest of the df after performing a <code>groupby</code> and then <code>concat</code>:</p>\n\n<pre><code>In [77]:\nfirst = MyData[MyData['Year']==2001]\nfirst\n\nOut[77]:\n   Year Location  Var1  Var2\n0  2001        A     1     2\n3  2001        B     7     8\n\nIn [80]:    \nrest = MyData[MyData['Year']!=2001]\nrest = rest.groupby('Location',as_index=False).shift().dropna()\npd.concat([first,rest])\nOut[80]:\n   Year Location  Var1  Var2\n0  2001        A     1     2\n3  2001        B     7     8\n2  2002        A     3     4\n5  2002        B     9    10\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4194, "user_id": 3026131, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/h5dWI.png?s=128&g=1", "display_name": "Nader Hisham", "link": "https://stackoverflow.com/users/3026131/nader-hisham"}, "is_accepted": true, "score": 1, "last_activity_date": 1441264947, "creation_date": 1441264947, "answer_id": 32369330, "question_id": 32361151, "link": "https://stackoverflow.com/questions/32361151/time-lag-of-variables-in-pandas/32369330#32369330", "title": "Time lag of variables in Pandas", "body": "<pre><code>def lag_year(df):\n    shifted_years = df.shift().dropna(how = 'all')\n    years = df.iloc[1:]\n    final = pd.DataFrame({'Year' : years.Year  , 'Var1' : shifted_years.Var1 , 'Var2' : shifted_years.Var2})\n    return final\n\nMyData.groupby('Location').apply(lag_year).reset_index().drop('level_1' , axis = 1)\n\nLocation    Var1    Var2    Year\n    A         1        2    2002\n    A         3        4    2003\n    B         7        8    2002\n    B         9       10    2003\n</code></pre>\n\n<p>if you want you can sort by year </p>\n\n<pre><code>MyData.groupby('Location').apply(lag_year).reset_index().drop('level_1' , axis = 1).sort_index(by = 'Year')\n</code></pre>\n"}], "owner": {"reputation": 2589, "user_id": 3776938, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/d1b19e04e44001cc1ddba3afc2212365?s=128&d=identicon&r=PG&f=1", "display_name": "AJG519", "link": "https://stackoverflow.com/users/3776938/ajg519"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1419, "favorite_count": 0, "accepted_answer_id": 32369330, "answer_count": 2, "score": 0, "last_activity_date": 1441264947, "creation_date": 1441220587, "question_id": 32361151, "link": "https://stackoverflow.com/questions/32361151/time-lag-of-variables-in-pandas", "title": "Time lag of variables in Pandas", "body": "<p>What is the best way in Pandas to calculate a time lag of a list of variables within spatial units?</p>\n\n<p>Let's say I have a Pandas dataframe that looks like this:</p>\n\n<pre><code>&gt;&gt;&gt; MyData=pd.DataFrame(columns=['Year','Location','Var1','Var2'], data=[[2001, 'A',1,2],[2002, 'A',3,4],[2003, 'A',5,6],[2001, 'B',7,8],[2002, 'B',9,10],[2003, 'B',11,12]])\n\n&gt;&gt;&gt; print MyData\n   Year Location  Var1  Var2\n0  2001        A     1     2\n1  2002        A     3     4\n2  2003        A     5     6\n3  2001        B     7     8\n4  2002        B     9    10\n5  2003        B    11    12\n&gt;&gt;&gt; \n</code></pre>\n\n<p>I want a new dataframe with each location taking on the Var1 and Var2 values of the previous year. The dataframe will include 1 less year because you can't lag the first year. </p>\n\n<p>I wrote a function that does this, but it feels a little clunky and I'm wondering if there are ways to improve it or do it more efficiently. Any suggestions on how my code can be improved would be greatly appreciated. </p>\n\n<pre><code>&gt;&gt;&gt; def TimeLag(df, TimeVar, LocationVar, LagVars):\n...     AllPeriods=sorted(df[TimeVar].unique().tolist())\n...     ResultList=[]\n...     for Period in AllPeriods[1:]:      \n...         d=df[df[TimeVar]==Period][[TimeVar, LocationVar]]        \n...         dtlag=df[df[TimeVar]==Period-1][[LocationVar]+LagVars]\n...         d=pd.merge(d, dtlag, on='Location')        \n...         d=d.rename(columns={Var:Var+'_tlag' for Var in LagVars})\n...         ResultList.append(d)        \n...     Final=pd.concat(ResultList).reset_index(drop=True)     \n...     return Final        \n... \n&gt;&gt;&gt; \n&gt;&gt;&gt; print TimeLag(MyData, 'Year','Location', ['Var1','Var2'])\n   Year Location  Var1_tlag  Var2_tlag\n0  2002        A          1          2\n1  2002        B          7          8\n2  2003        A          3          4\n3  2003        B          9         10\n&gt;&gt;&gt; \n</code></pre>\n"}, {"tags": ["python", "gcc", "mingw", "swig", "distutils"], "answers": [{"comments": [{"owner": {"reputation": 1811, "user_id": 2595767, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hLCvI.png?s=128&g=1", "display_name": "Keith Marshall", "link": "https://stackoverflow.com/users/2595767/keith-marshall"}, "edited": false, "score": 1, "creation_date": 1441564934, "post_id": 32413756, "comment_id": 52719215, "body": "FWIW, your <code>pexports</code> reference is way out of date. The current release, from MinGW.org, is pexports-0.46, (which I released almost two and a half years ago). This version can be built as a Linux hosted cross-tool, (my primary motivation for updating it), although, on my 64-bit Linux host it very occasionally segfaults, (I&#39;ve only noticed it when trying to dump the exports from Win98&#39;s <code>MSVCRT.DLL</code>), due to a bad data conversion to a 64-bit pointer; (I&#39;m still trying to track this bug down)."}, {"owner": {"reputation": 81653, "user_id": 168175, "user_type": "moderator", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/qxeUf.jpg?s=128&g=1", "display_name": "Flexo", "link": "https://stackoverflow.com/users/168175/flexo"}, "reply_to_user": {"reputation": 1811, "user_id": 2595767, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hLCvI.png?s=128&g=1", "display_name": "Keith Marshall", "link": "https://stackoverflow.com/users/2595767/keith-marshall"}, "edited": false, "score": 1, "creation_date": 1441566154, "post_id": 32413756, "comment_id": 52719646, "body": "@KeithMarshall Oh, that&#39;s neat. I&#39;d not tocuhed mingw32 in ages when I sat down to write this. I couldn&#39;t find pexports packaged for Debian which was my litmus test for change. Feel free to edit my answer if you want to fix that bit - I&#39;m happy to make it CW if that would nudge you."}, {"owner": {"reputation": 1811, "user_id": 2595767, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hLCvI.png?s=128&g=1", "display_name": "Keith Marshall", "link": "https://stackoverflow.com/users/2595767/keith-marshall"}, "edited": false, "score": 1, "creation_date": 1441722857, "post_id": 32413756, "comment_id": 52783072, "body": "Okay, I&#39;ve edited the pexports references -- now 0.47, since I&#39;ve found (and fixed) the bad 64-bit pointer bug. I don&#39;t have enough SO reputation points for the edit to pass straight through, so it&#39;s awaiting peer review."}, {"owner": {"reputation": 1811, "user_id": 2595767, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hLCvI.png?s=128&g=1", "display_name": "Keith Marshall", "link": "https://stackoverflow.com/users/2595767/keith-marshall"}, "edited": false, "score": 1, "creation_date": 1441723250, "post_id": 32413756, "comment_id": 52783361, "body": "Out of curiosity, why is the <code>libpython27.a</code> bundled in the <code>msi</code> file unsuitable for use with mingw32? Is it malformed, in some way? Or, is it intended for a different architecture?"}, {"owner": {"reputation": 81653, "user_id": 168175, "user_type": "moderator", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/qxeUf.jpg?s=128&g=1", "display_name": "Flexo", "link": "https://stackoverflow.com/users/168175/flexo"}, "reply_to_user": {"reputation": 1811, "user_id": 2595767, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hLCvI.png?s=128&g=1", "display_name": "Keith Marshall", "link": "https://stackoverflow.com/users/2595767/keith-marshall"}, "edited": false, "score": 1, "creation_date": 1441731676, "post_id": 32413756, "comment_id": 52788653, "body": "@keithmarshall I&#39;m not exactly sure. I think it&#39;s because it was built by visual studio and being just an ar archive contains visual studio format .o files instead of something mingw32 understands. Either way it&#39;s not a problem specific to Python itself and mingw32 returns an error about the format of the file if you try and use it."}, {"owner": {"reputation": 1811, "user_id": 2595767, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hLCvI.png?s=128&g=1", "display_name": "Keith Marshall", "link": "https://stackoverflow.com/users/2595767/keith-marshall"}, "edited": false, "score": 2, "creation_date": 1441737649, "post_id": 32413756, "comment_id": 52792000, "body": "Well, all MinGW libraries are just <code>ar</code> archives; this pre-built libpython27.a is a (malformed) import library, (which we&#39;d normally expect visual studio to create as a <code>.lib</code> file). The object format is the same (COFF) for both MinGW and visual studio, and in this case all of the import stubs are valid COFF objects. The malformation lies in the pair of header/trailer objects, (which specify the DLL association); these <i>should</i> also be COFF object files, but in this case they are not ... they are raw data with no specifically identifiable format (from a GNU binutils perspective)."}, {"owner": {"reputation": 775, "user_id": 3490356, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WaS1z.png?s=128&g=1", "display_name": "jojek", "link": "https://stackoverflow.com/users/3490356/jojek"}, "edited": false, "score": 0, "creation_date": 1441879716, "post_id": 32413756, "comment_id": 52857476, "body": "Thank you guys a lot for your input! Flexo, your knowledge of SWIG helped me many times. Thank you for sharing!"}, {"owner": {"reputation": 4742, "user_id": 5691066, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e5ab5db401198485d4569199f9994a7d?s=128&d=identicon&r=PG", "display_name": "wvxvw", "link": "https://stackoverflow.com/users/5691066/wvxvw"}, "edited": false, "score": 0, "creation_date": 1517319153, "post_id": 32413756, "comment_id": 84039911, "body": "Have you had any luck with more recent versions of Python? The import library generated from <code>python36.dll</code> doesn&#39;t work for <code>mingw</code>. I&#39;m not sure what the exact problem is, but I suspect its the <code>cdecl</code> vs <code>stdcall</code> thing (it complains about not finding <code>__impl_*</code> symbols)."}, {"owner": {"reputation": 81653, "user_id": 168175, "user_type": "moderator", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/qxeUf.jpg?s=128&g=1", "display_name": "Flexo", "link": "https://stackoverflow.com/users/168175/flexo"}, "edited": false, "score": 0, "creation_date": 1517335480, "post_id": 32413756, "comment_id": 84050524, "body": "I&#39;ve not touched Python on Windows in a long time in all honesty. I&#39;ll see if I can dig something out later and understand what&#39;s going on."}, {"owner": {"reputation": 119, "user_id": 2355355, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1618d3d242b64d0fef03625cd0c02eea?s=128&d=identicon&r=PG", "display_name": "pablomtz", "link": "https://stackoverflow.com/users/2355355/pablomtz"}, "edited": false, "score": 0, "creation_date": 1554223574, "post_id": 32413756, "comment_id": 97669626, "body": "@Flexo: I tried your example and I got: &quot;Import error: dynamic module does not define init function (init_test)&quot;. The wrapper has the inlined code in the swig interface file, but If I check symbols in the .pyd I dont see any of my symbols: nm _test.pyd. Thanks."}, {"owner": {"reputation": 81653, "user_id": 168175, "user_type": "moderator", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/qxeUf.jpg?s=128&g=1", "display_name": "Flexo", "link": "https://stackoverflow.com/users/168175/flexo"}, "reply_to_user": {"reputation": 119, "user_id": 2355355, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1618d3d242b64d0fef03625cd0c02eea?s=128&d=identicon&r=PG", "display_name": "pablomtz", "link": "https://stackoverflow.com/users/2355355/pablomtz"}, "edited": false, "score": 0, "creation_date": 1554239902, "post_id": 32413756, "comment_id": 97677043, "body": "@pablomtz Are you targeting Python 3 by any chance? I seem to recall you&#39;ll need to add <code>-py3</code> to SWIG&#39;s command line arguments for that to work"}, {"owner": {"reputation": 119, "user_id": 2355355, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1618d3d242b64d0fef03625cd0c02eea?s=128&d=identicon&r=PG", "display_name": "pablomtz", "link": "https://stackoverflow.com/users/2355355/pablomtz"}, "edited": false, "score": 0, "creation_date": 1554313163, "post_id": 32413756, "comment_id": 97708768, "body": "@Flexo: it was a compiling error with my Makefile. Thanks anyway. Great Post."}], "tags": [], "owner": {"reputation": 81653, "user_id": 168175, "user_type": "moderator", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/qxeUf.jpg?s=128&g=1", "display_name": "Flexo", "link": "https://stackoverflow.com/users/168175/flexo"}, "is_accepted": true, "score": 4, "last_activity_date": 1441727067, "last_edit_date": 1441727067, "creation_date": 1441460632, "answer_id": 32413756, "question_id": 32361119, "link": "https://stackoverflow.com/questions/32361119/error-when-trying-to-cross-compile-swig-python-extension-for-mingw32-using-distu/32413756#32413756", "title": "Error when trying to cross-compile SWIG Python extension for mingw32 using distutils", "body": "<p>There's quite a bit going on behind the scenes when you compile Python modules using distutils. You're getting closer with each try in your question, however the problem you've now encountered is that you're using Linux header files with a Windows (cross) compiler. (<a href=\"http://mingw.5.n7.nabble.com/gcc-does-not-find-sys-select-h-td9207.html\" rel=\"nofollow\">sys/select.h isn't supported with mingw32</a>, cygwin might be a different story though). In reality it's the lack of the configuration header file that's causing your cross compile to try and use the POSIX interfaces instead of Win32 alternatives.</p>\n\n<p>My answer rewinds a few steps and starts out simply building the module by hand, using mingw32 on Linux and then we'll look at using distutils once we've proven that we have all that's required.</p>\n\n<p>I'm also assuming that you don't have a Windows build box (or even a VM) available to simply build your extension on Windows natively since that's far simpler than cross compiling. If you're reading this and have the option to use a Windows box to build your Windows Python extensions, do that instead and save time and effort. That said it is possible to build Windows Python modules using only a Linux box.</p>\n\n<p>Starting with mingw32 already installed and working on your Linux box (e.g. using the Debian/Ubuntu packages) the first step is to get the Windows header files (or configuration to be more specific). I'm assuming you're targeting the build that most people get when they type \"python windows\" into a search engine so I downloaded the Windows MSI installers from <a href=\"https://www.python.org/downloads/release/python-2710/\" rel=\"nofollow\">python.org</a> and extracted them from there.</p>\n\n<p>There are two things we want to get from the Python distribution:</p>\n\n<ol>\n<li>python27.dll (Usually gets placed in c:\\windows\\system32 or c:\\windows\\syswow64)</li>\n<li>The 'include' directory (Usually gets placed in c:\\python27\\include)</li>\n</ol>\n\n<p>Under Linux there are a few different ways you can extract this. You could use Wine to install the MSI file. I used both cabextract and 7z with success in my testing though, for example with cabextract:</p>\n\n<pre><code>cabextract /tmp/python-2.7.10.msi -F '*.h'\ncabextract /tmp/python-2.7.10.msi -F 'python27.dll'\n</code></pre>\n\n<p>(Note: if you use 7z you'll find the files you really want inside a second, inner archive named 'python').</p>\n\n<p>At this point you could also extract the file 'libpython27.a' which usually lives inside c:\\python27\\libs\\ however this file isn't sufficient or even useful for linking using mingw32.</p>\n\n<p>Given the header files we've now got enough to compile our extension, although as noted above to get mingw32 to link against python27.dll we need to do a bit more work first. We're going to need a tool called pexports to list all the exported symbols in the Python DLL and let dlltool generate a stub library for mingw32 to link against. I downloaded <a href=\"http://sourceforge.net/projects/mingw/files/MinGW/Extension/pexports/pexports-0.47/\" rel=\"nofollow\">pexports</a> directly and then extracted it with:</p>\n\n<pre><code>tar xvf ~/Downloads/pexports-0.47-mingw32-bin.tar.xz\n</code></pre>\n\n<p>Once that's extracted we get a single Windows executable. I used Wine in my example here to run it directly; alternatively, you could extract the source, and build it as a tool to run natively on the Linux host:</p>\n\n<pre><code>tar xvf ~/Downloads/pexports-0.47-mingw32-src.tar.xz\n(cd pexports-0.47 &amp;&amp; ./configure &amp;&amp; make)\n</code></pre>\n\n<p>or you could have duplicated the functionality of the tool using the Python module <a href=\"https://github.com/erocarrera/pefile\" rel=\"nofollow\">pefile</a> (which runs fine cross platform) to extract the exports that we care about if you were looking to avoid using Wine as well.</p>\n\n<p>Anyway with pexports you can generate a .def file that contains the information we need for dlltool:</p>\n\n<pre><code>wine bin/pexports.exe -v python27.dll &gt; python27.def\n</code></pre>\n\n<p>or, (if you've built pexports as a native tool), simply:</p>\n\n<pre><code>./pexports-0.47/pexports -v python27.dll &gt; python27.def\n</code></pre>\n\n<p>where python27.dll is what we extracted from the .msi file earlier.</p>\n\n<p>(This was my <a href=\"https://forbharat.wordpress.com/2010/12/30/mingw-pexports-for-windows-dlls/\" rel=\"nofollow\">pexports reference</a>)</p>\n\n<p>Once you've got the .def file you can use the mingw32 dlltool to generate a .a file that we'll use later to link our Python module against:</p>\n\n<pre><code>i586-mingw32msvc-dlltool -A --dllname python27.dll --def python27.def --output-lib libpython27.a\n</code></pre>\n\n<p>Now we've reached a point where we can think about running SWIG itself to generate the code for us to compile. I simplified your example interface even further to be just:</p>\n\n<pre><code>%module test\n\n%inline %{\nint gcd(int x, int y) {\n  int g;\n  g = y;\n  while (x &gt; 0) {\n    g = x;\n    x = y % x;\n    y = g;\n  }\n  return g;\n}\n%}\n</code></pre>\n\n<p>And then ran SWIG on my Linux box as:</p>\n\n<pre><code>swig -Wall -python test.i\n</code></pre>\n\n<p>This generated test_wrap.c which I compiled with:</p>\n\n<pre><code>i586-mingw32msvc-gcc test_wrap.c -I../include -Wall -Wextra -shared -o _test.pyd ./libpython27.a\n</code></pre>\n\n<p>And there we have a Windows Python module built using just Linux.</p>\n\n<p>To check it really runs I copied test.py and _test.pyd to a Windows box and then did:</p>\n\n<pre><code>Python 2.7.10 (default, May 23 2015, 09:40:32) [MSC v.1500 32 bit (Intel)] on win32\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n&gt;&gt;&gt; import test\n&gt;&gt;&gt; test.gcd(1024, 512)\n512\n&gt;&gt;&gt;\n</code></pre>\n\n<p>Now all that remains is to make sure distutils can find the right include files and libraries to link against by manipulating its paths.</p>\n"}, {"tags": [], "owner": {"reputation": 119, "user_id": 2355355, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1618d3d242b64d0fef03625cd0c02eea?s=128&d=identicon&r=PG", "display_name": "pablomtz", "link": "https://stackoverflow.com/users/2355355/pablomtz"}, "is_accepted": false, "score": 1, "last_activity_date": 1552073198, "creation_date": 1552073198, "answer_id": 55069752, "question_id": 32361119, "link": "https://stackoverflow.com/questions/32361119/error-when-trying-to-cross-compile-swig-python-extension-for-mingw32-using-distu/55069752#55069752", "title": "Error when trying to cross-compile SWIG Python extension for mingw32 using distutils", "body": "<p>For 64 bits, I couldnt make it work with pexports, so I used gendef to generate the python27.def file.</p>\n\n<p><strong>gendef</strong> is a tool which generate def files from DLLs. A def file is a list of symbols exported by a DLL. The primary use of this tool is to allow creation of a import library of DLLs created by non-GCC compilers. It can handle both x86 (win32) and amd64 (win64) executables.</p>\n\n<p><a href=\"https://sourceforge.net/p/mingw-w64/wiki2/gendef/\" rel=\"nofollow noreferrer\">https://sourceforge.net/p/mingw-w64/wiki2/gendef/</a></p>\n\n<p>Hope It helps!</p>\n"}], "owner": {"reputation": 775, "user_id": 3490356, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WaS1z.png?s=128&g=1", "display_name": "jojek", "link": "https://stackoverflow.com/users/3490356/jojek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1535, "favorite_count": 4, "accepted_answer_id": 32413756, "answer_count": 2, "score": 3, "last_activity_date": 1552073198, "creation_date": 1441220500, "question_id": 32361119, "link": "https://stackoverflow.com/questions/32361119/error-when-trying-to-cross-compile-swig-python-extension-for-mingw32-using-distu", "title": "Error when trying to cross-compile SWIG Python extension for mingw32 using distutils", "body": "<p>I am trying to cross-compile a simple SWIG Python extension on Linux for Windows (mingw32), using the distutils module. </p>\n\n<p>The ultimate goal is to compile a Python wrapper for some library and being able to use it on Windows. Obviously I started with the most basic example and unfortunately it fails.</p>\n\n<p>Here are the files I am using:</p>\n\n<p><strong>example.c</strong></p>\n\n<pre><code>/* File : example.c */\n\n/* A global variable */\ndouble Foo = 3.0;\n\n/* Compute the greatest common divisor of positive integers */\nint gcd(int x, int y) {\n  int g;\n  g = y;\n  while (x &gt; 0) {\n    g = x;\n    x = y % x;\n    y = g;\n  }\n  return g;\n}\n</code></pre>\n\n<p><strong>example.i</strong> - SWIG interface file</p>\n\n<pre><code>/* File : example.i */\n%module example\n\n%inline %{\nextern int    gcd(int x, int y);\nextern double Foo;\n%}\n</code></pre>\n\n<p><strong>setup.py</strong></p>\n\n<pre><code># setup.py\nimport distutils\nfrom distutils.core import setup, Extension\n\nsetup(name = \"SWIG example\",\n      version = \"1.0\",\n      ext_modules = [Extension(\"_example\", [\"example.i\",\"example.c\"])])\n</code></pre>\n\n<p>In order to compile using the native (Linux) gcc compiler, I am invoking:</p>\n\n<pre><code>python setup.py build\n</code></pre>\n\n<p>Everything works like a charm! Unfortunately when trying to specify the Windows target:</p>\n\n<pre><code>python setup.py build --compiler=mingw32\n</code></pre>\n\n<p>I get the error saying that gcc can't recognize -mdll switch:</p>\n\n<pre><code>running build\nrunning build_ext\nbuilding '_example' extension\nswigging example.i to example_wrap.c\nswig -python -o example_wrap.c example.i\ncreating build\ncreating build/temp.linux-x86_64-2.7\ngcc -mdll -O -Wall -I/home/jojek/anaconda/include/python2.7 -c example_wrap.c -o build/temp.linux-x86_64-2.7/example_wrap.o\ngcc: error: unrecognized command line option \u2018-mdll\u2019\nerror: command 'gcc' failed with exit status 1\n</code></pre>\n\n<p>Fair enough, it makes perfect sense, since toolchain is not valid. I made sure that <code>mingw32</code> is installed on my machine. By calling <code>dpkg -L mingw32</code> I know that compiler is located in <code>/usr/bin/i586-mingw32msvc-gcc</code>.</p>\n\n<p>My next step was to override the CC environmental variable with the actual path to my compiler. When I try to compile it again, then I am getting the following error with missing <code>sys/select.h</code> header file:</p>\n\n<pre><code>running build\nrunning build_ext\nbuilding '_example' extension\nswigging example.i to example_wrap.c\nswig -python -o example_wrap.c example.i\ncreating build\ncreating build/temp.linux-x86_64-2.7\n/usr/bin/i586-mingw32msvc-gcc -fno-strict-aliasing -g -O2 -DNDEBUG -g -fwrapv -O3 -Wall -Wstrict-prototypes -fPIC -I/home/jojek/anaconda/include/python2.7 -c example_wrap.c -o build/temp.linux-x86_64-2.7/example_wrap.o\nexample_wrap.c:1: warning: -fPIC ignored for target (all code is position independent)\nIn file included from /home/jojek/anaconda/include/python2.7/Python.h:58,\n                 from example_wrap.c:125:\n/home/jojek/anaconda/include/python2.7/pyport.h:351:24: error: sys/select.h: No such file or directory\nerror: command '/usr/bin/i586-mingw32msvc-gcc' failed with exit status 1\n</code></pre>\n\n<p>Does anyone have an idea how to manage that task?</p>\n"}, {"tags": ["python", "date", "graph", "plotly"], "comments": [{"owner": {"reputation": 31, "user_id": 5293966, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153142324156279/picture?type=large", "display_name": "Rafael Escamilla", "link": "https://stackoverflow.com/users/5293966/rafael-escamilla"}, "reply_to_user": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "edited": false, "score": 0, "creation_date": 1441318170, "post_id": 32361113, "comment_id": 52643024, "body": "trace1 = Scatter(     x=[&#39;2015-01-01&#39;, &#39;2015-01-02&#39;],     y=[&#39;14.7414&#39;, &#39;14.7414&#39;],     name=&#39;Precio del dlar&#39;,     error_y=ErrorY(         color=&#39;rgb(0,116,217)&#39;,         thickness=1,         width=1     ),     error_x=ErrorX(         copy_ystyle=True     ),     marker=Marker(         color=&#39;rgb(0,116,217)&#39;,         size=8,         symbol=&#39;circle&#39;     ),     line=Line(         color=&#39;rgb(0,116,217)&#39;,         width=2     ),     xsrc=&#39;rafaeles:2294:78082d&#39;,     ysrc=&#39;rafaeles:2294:7b41b5&#39; )  The date format that I inserted is x. Plotly coded it as Jan 15 on, but I need that to be in spanish."}, {"owner": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "edited": false, "score": 0, "creation_date": 1441318592, "post_id": 32361113, "comment_id": 52643156, "body": "Edit into your question not as a comment, thanks"}], "answers": [{"tags": [], "owner": {"reputation": 601, "user_id": 473597, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/b8ixz.jpg?s=128&g=1", "display_name": "Ivanhercaz", "link": "https://stackoverflow.com/users/473597/ivanhercaz"}, "is_accepted": false, "score": 0, "last_activity_date": 1581689095, "creation_date": 1581689095, "answer_id": 60227871, "question_id": 32361113, "link": "https://stackoverflow.com/questions/32361113/python-plotly-dates-in-other-languages/60227871#60227871", "title": "Python plotly: Dates in other languages", "body": "<p>This is an old question but maybe it might be useful for someone with the same problem than Rafael and me. I had this problem and I asked to the Plotly Community about <a href=\"https://community.plot.ly/t/how-to-change-date-language/34958\" rel=\"nofollow noreferrer\">how I can change the date language</a> and the answers has been really helpful.</p>\n\n<p>Note that I edited your question to insert your code in a code block to ease the reading of it.</p>\n\n<p>First of all try to check what is your current locale settings with the <code>locale</code> module of Python:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>import locale\nlocale.getlocale()\n</code></pre>\n\n<p>If you get something different than the one you want to use, you can set the one you want for dates and time with <code>locale.setlocale()</code>. For example:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>locale.setlocale(locale.LC_TIME, 'es_ES')\n</code></pre>\n\n<p>You can test this new locale works fine testing it with the <code>datetime</code> module as follows:</p>\n\n<pre><code>import datetime\ntoday = datetime.datetime.now()\n\ndatetime.datetime(2020, 2, 14, 10, 33, 56, 487228)\n\ntoday.strftime('%A %d de %B, %Y')\n\n'viernes 14 de febrero, 2020'\n</code></pre>\n\n<p>Then you can try to reformat your data using <code>datetime</code> and <code>strftime</code>. In your case it might be something similar to:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>dates = [datetime.datetime(2015, 1, 1).strftime('%A %d de %B, %Y'),\n         datetime.datetime(2015, 1, 2).strftime('%A %d de %B, %Y')]\n</code></pre>\n\n<p>This works for me on iPython:</p>\n\n<pre><code>In [1]: import locale                                                                                                                                  \n\nIn [2]: locale.setlocale(locale.LC_TIME, \"es_ES.utf8\")                                                                                                 \nOut[2]: 'es_ES.utf8'\n\nIn [3]: import datetime                                                                                                                                \n\nIn [4]: dates = [datetime.datetime(2015, 1, 1).strftime('%A %d de %B, %Y'), \n   ...:          datetime.datetime(2015, 1, 2).strftime('%A %d de %B, %Y')]                                                                            \n\nIn [5]: dates                                                                                                                                          \nOut[5]: ['jueves 01 de enero, 2015', 'viernes 02 de enero, 2015']\n</code></pre>\n\n<p>Then if you want to use it in <code>x</code> axis, you can call <code>dates</code> inside <code>x</code>:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>trace1 = Scatter(\n  x=dates,\n  y=['14.7414', '14.7414'],\n  ...\n)\n</code></pre>\n\n<p>It works for me! And I hope it works for you too.</p>\n\n<p>If you need a different format for the date I recommend you to read the <a href=\"https://github.com/d3/d3-3.x-api-reference/blob/master/Time-Formatting.md#format\" rel=\"nofollow noreferrer\">documentation about date-time microformats of D3</a>. I also recommend you to read the thread <a href=\"https://community.plot.ly/t/how-to-change-date-language/34958\" rel=\"nofollow noreferrer\">How to change date language?</a> I opened on Plotly Community Forum, because the answers are very useful and are the ones which helped me to solve my issue and to answer this question. You can also check <a href=\"https://plot.ly/~empet/15517/how-to-display-ticklabels-as-d/\" rel=\"nofollow noreferrer\">this notebook</a> shared in the thread, in which one of the users who answer me show how to solve the issue if you are using a <code>pandas</code> dataframe.</p>\n\n<p>Excuse me for a lot of this stuff I am linking, but it might be very useful too to read about the <a href=\"https://plot.ly/python/creating-and-updating-figures/#the-update-axis-methods\" rel=\"nofollow noreferrer\">methods to update axis</a> in Plotly documentation, because you can update the format of the axis you want with as follows:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>fig.update_xaxes(tickformat='%d-%b-%Y')\n</code></pre>\n\n<p>I want to credit to <strong>empet</strong> and <strong>eliasdabbas</strong>, users of the Plotly Community, for their answers!</p>\n"}], "owner": {"reputation": 31, "user_id": 5293966, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153142324156279/picture?type=large", "display_name": "Rafael Escamilla", "link": "https://stackoverflow.com/users/5293966/rafael-escamilla"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 808, "favorite_count": 1, "answer_count": 1, "score": 3, "last_activity_date": 1581689095, "creation_date": 1441220463, "last_edit_date": 1581687369, "question_id": 32361113, "link": "https://stackoverflow.com/questions/32361113/python-plotly-dates-in-other-languages", "title": "Python plotly: Dates in other languages", "body": "<p>I've inserted a dataset in plotly in order to plot a time-series graph. Plotly converted it into a datetime object adequately but the display is in english and I need it to be in spanish. Can I do that? How?</p>\n\n<p>Here's the code:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>trace1 = Scatter(\n  x=['2015-01-01', '2015-01-02'],\n  y=['14.7414', '14.7414'],\n  name='Precio del dlar',\n  error_y=ErrorY(\n    color='rgb(0,116,217)',\n    thickness=1, width=1\n  ),\n  error_x=ErrorX(\n    copy_ystyle=True\n  ),\n  marker=Marker(\n    color='rgb(0,116,217)',\n    size=8,\n    symbol='circle'\n  ),\n  line=Line(\n    color='rgb(0,116,217)',\n    width=2\n  ),\n  xsrc='rafaeles:2294:78082d',\n  ysrc='rafaeles:2294:7b41b5'\n) \n</code></pre>\n\n<p>The date format that I inserted is x. Plotly coded it as Jan 15, but I need that to be in spanish.</p>\n"}, {"tags": ["python", "arrays", "eval"], "comments": [{"owner": {"reputation": 859, "user_id": 3936732, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2b2c447359d903a22a4498662673f456?s=128&d=identicon&r=PG&f=1", "display_name": "David Ma\u0161ek", "link": "https://stackoverflow.com/users/3936732/david-ma%c5%a1ek"}, "edited": false, "score": 2, "creation_date": 1441220853, "post_id": 32361111, "comment_id": 52595170, "body": "IMHO what you&#39;re doing looks weird. You should probably put your arrays to other array (we&#39;re talking about lists right?) if you want to iterate over them. This looks like <a href=\"http://meta.stackexchange.com/questions/66377/what-is-the-xy-problem\">XY problem</a> to me."}, {"owner": {"reputation": 8538, "user_id": 3059812, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/UaU9b.jpg?s=128&g=1", "display_name": "Morgan Thrapp", "link": "https://stackoverflow.com/users/3059812/morgan-thrapp"}, "edited": false, "score": 2, "creation_date": 1441220876, "post_id": 32361111, "comment_id": 52595183, "body": "Don&#39;t use dynamic variable names, use a list."}, {"owner": {"reputation": 156256, "user_id": 33732, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/7ea2bfac80ecc1d368ff3a5bb0e58568?s=128&d=identicon&r=PG", "display_name": "Rob Kennedy", "link": "https://stackoverflow.com/users/33732/rob-kennedy"}, "edited": false, "score": 5, "creation_date": 1441221224, "post_id": 32361111, "comment_id": 52595377, "body": "It seems like you could use <a href=\"https://docs.python.org/3/library/functions.html#setattr\" rel=\"nofollow noreferrer\"><code>setattr</code></a>: <code>setattr(mcmcdata, names1[2+jj], copy.deepcopy(rho))</code>. I&#39;m not familiar with Numpy, though, so maybe that doesn&#39;t work on Numpy views."}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 1, "creation_date": 1441221679, "post_id": 32361111, "comment_id": 52595582, "body": "Why in the world do you think <code>eval</code> is the right tool for this job?"}, {"owner": {"reputation": 15387, "user_id": 2588818, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/0PpNx.jpg?s=128&g=1", "display_name": "Two-Bit Alchemist", "link": "https://stackoverflow.com/users/2588818/two-bit-alchemist"}, "edited": false, "score": 0, "creation_date": 1441221786, "post_id": 32361111, "comment_id": 52595630, "body": "This is definitely some kind of XY problem and you should write your actual problem description. This question reads like you&#39;re asking, &quot;How do I hammer nails in with a shoe?&quot;"}, {"owner": {"reputation": 11, "user_id": 4524714, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-S8CB6YhLA5c/AAAAAAAAAAI/AAAAAAAAAEM/9HYxgCMn45w/photo.jpg?sz=128", "display_name": "Cricket", "link": "https://stackoverflow.com/users/4524714/cricket"}, "edited": false, "score": 0, "creation_date": 1441221790, "post_id": 32361111, "comment_id": 52595632, "body": "well I&#39;m defining the name of the array I want to use as a text string and I want then use that to reference back to the real thing, but I&#39;m a bit confused about how to do that. (as you can tell)."}, {"owner": {"reputation": 11, "user_id": 4524714, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-S8CB6YhLA5c/AAAAAAAAAAI/AAAAAAAAAEM/9HYxgCMn45w/photo.jpg?sz=128", "display_name": "Cricket", "link": "https://stackoverflow.com/users/4524714/cricket"}, "reply_to_user": {"reputation": 15387, "user_id": 2588818, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/0PpNx.jpg?s=128&g=1", "display_name": "Two-Bit Alchemist", "link": "https://stackoverflow.com/users/2588818/two-bit-alchemist"}, "edited": false, "score": 0, "creation_date": 1441221982, "post_id": 32361111, "comment_id": 52595744, "body": "@Two-BitAlchemist I honestly don&#39;t know how to describe the problem which is part of the reason I&#39;m having trouble finding a solution. I think it&#39;s something like how do I use a string to point back to an array of the same name? perhaps that&#39;s a better title."}, {"owner": {"reputation": 11, "user_id": 4524714, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-S8CB6YhLA5c/AAAAAAAAAAI/AAAAAAAAAEM/9HYxgCMn45w/photo.jpg?sz=128", "display_name": "Cricket", "link": "https://stackoverflow.com/users/4524714/cricket"}, "reply_to_user": {"reputation": 156256, "user_id": 33732, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/7ea2bfac80ecc1d368ff3a5bb0e58568?s=128&d=identicon&r=PG", "display_name": "Rob Kennedy", "link": "https://stackoverflow.com/users/33732/rob-kennedy"}, "edited": false, "score": 0, "creation_date": 1441222296, "post_id": 32361111, "comment_id": 52595924, "body": "@RobKennedy I think that is working, thanks so much."}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 4524714, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-S8CB6YhLA5c/AAAAAAAAAAI/AAAAAAAAAEM/9HYxgCMn45w/photo.jpg?sz=128", "display_name": "Cricket", "link": "https://stackoverflow.com/users/4524714/cricket"}, "edited": false, "score": 0, "creation_date": 1441222749, "post_id": 32361612, "comment_id": 52596148, "body": "Can you think of a better way to word the question that might make it more useful for other people?"}], "tags": [], "owner": {"reputation": 156256, "user_id": 33732, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/7ea2bfac80ecc1d368ff3a5bb0e58568?s=128&d=identicon&r=PG", "display_name": "Rob Kennedy", "link": "https://stackoverflow.com/users/33732/rob-kennedy"}, "is_accepted": false, "score": 1, "last_activity_date": 1441222301, "creation_date": 1441222301, "answer_id": 32361612, "question_id": 32361111, "link": "https://stackoverflow.com/questions/32361111/assigning-values-to-array-using-eval-in-python/32361612#32361612", "title": "Assigning values to array using eval in Python?", "body": "<p>The <code>eval</code> command doesn't work the way you seem to think it does. You appear to be using it like a text-replacement macro, hoping that Python will read the given string and then pretend you wrote that text in the original source code. Instead, it receives a string, and then it <em>executes</em> that code. You're giving it an expression that refers to an attribute of an object, which is fine, but the result of evaluating that expression does not yield a thing you can assign to. It yields the <em>value</em> of that attribute.</p>\n\n<p>Although Python provides <code>eval</code>, it also provides many other things that often obviate the need for <code>eval</code>. In the case of your code, Python provides <a href=\"https://docs.python.org/3/library/functions.html#setattr\" rel=\"nofollow\"><code>setattr</code></a>. You give it an object, the name of an attribute on that object, and a value, and it assigns that object's attribute to refer to the given value.</p>\n\n<pre><code>setattr(mcmcdata, names1[2+jj], copy.deepcopy(rho))\n</code></pre>\n\n<p>It <em>might</em> make the code more readable to get rid of the <code>names1</code> portion, too. I might write the code like this:</p>\n\n<pre><code>setattr(mcmcdata, 'rho' + str(jj), copy.deepcopy(rho))\n</code></pre>\n\n<p>That way, it's clear that I'm assigning the rho-related attributes of the object without having to go look at what's held in the <code>names1</code> list; the name <em>names1</em> doesn't offer much information about what's in it.</p>\n"}], "owner": {"reputation": 11, "user_id": 4524714, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-S8CB6YhLA5c/AAAAAAAAAAI/AAAAAAAAAEM/9HYxgCMn45w/photo.jpg?sz=128", "display_name": "Cricket", "link": "https://stackoverflow.com/users/4524714/cricket"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 848, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1441222301, "creation_date": 1441220457, "last_edit_date": 1441221698, "question_id": 32361111, "link": "https://stackoverflow.com/questions/32361111/assigning-values-to-array-using-eval-in-python", "title": "Assigning values to array using eval in Python?", "body": "<p>I have a whole series of arrays with similar names mcmcdata.rho0, mcmcdata.rho1, ... and I want to be able to loop through them while updating their values. I can't figure out how this might be done or even what such a thing might be called.</p>\n\n<p>I read my data in from file like this:</p>\n\n<pre><code>names1='l b rho0 rho1 rho2 rho3 rho4 rho5 rho6 rho7 rho8 rho9 rho10 rho11 rho12 rho13 rho14 rho15 rho16 rho17 rho18 rho19 rho20 rho21 rho22 rho23'.split()\nmcmcdata=np.genfromtxt(filename,names=names1,dtype=None).view(np.recarray)\n</code></pre>\n\n<p>and I want to update the \"rho\" arrays later on after I do some calculations.</p>\n\n<pre><code>for jj in range(dbins):\n\n    mcmc_x, mcmc_y, mcmc_z = wf.lbd_to_xyz(mcmcdata.l,mcmcdata.b,d[jj],R_sun)\n\n    rho, thindisk, thickdisk, halo = wf.total_density_fithRthinhRthickhzthinhzthickhrfRiA( mcmc_x, mcmc_y, mcmc_z, R_sun,params)\n\n    eval(\"mcmcdata.\"+names1[2+jj]) = copy.deepcopy(rho)\n    eval(\"mcmcthin.\"+names1[2+jj]) = copy.deepcopy(thindisk)\n    eval(\"mcmcthick.\"+names1[2+jj]) = copy.deepcopy(thickdisk)\n    eval(\"mcmchalo.\"+names1[2+jj]) = copy.deepcopy(halo)\n</code></pre>\n\n<p>But the eval command is giving an error:</p>\n\n<pre><code>File \"&lt;ipython-input-133-30322c5e633d&gt;\", line 13\n    eval(\"mcmcdata.\"+names1[2+jj]) = copy.deepcopy(rho)\nSyntaxError: can't assign to function call\n</code></pre>\n\n<p>How can I loop through my existing arrays and update their values?\nor\nHow can identify the arrays by name so I can update them?</p>\n"}, {"tags": ["python", "dictionary", "recursion"], "answers": [{"tags": [], "owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "is_accepted": true, "score": 2, "last_activity_date": 1441220549, "creation_date": 1441220549, "answer_id": 32361137, "question_id": 32361043, "link": "https://stackoverflow.com/questions/32361043/extract-set-of-values-from-nested-dictionaries-lists-python/32361137#32361137", "title": "Extract set of values from nested dictionaries/lists Python", "body": "<p>You can do this in a set comprehension; the loop includes all names in the <code>colleagues</code> list plus their recursive colleague names:</p>\n\n<pre><code>def names(teacher):\n    return {name for c in teacher['colleagues'] for name in {c['name']} | names(c)}\n</code></pre>\n\n<p>You could also express it as the union of the set of direct names and the recursive calls:</p>\n\n<pre><code>def names(teacher):\n    direct = {c['name'] for c in teacher['colleagues']}\n    return direct.union(*(names(c) for c in teacher['colleagues']))\n</code></pre>\n\n<p>Demo:</p>\n\n<pre><code>&gt;&gt;&gt; def names(teacher):\n...     return {name for c in teacher['colleagues'] for name in {c['name']} | names(c)}\n... \n&gt;&gt;&gt; names(teacher)\n{'Tim Smith', 'Belinda Barker', 'Kelly Brooker', 'Duncan Turnbull', 'Jenna French', 'Linda Smith'}\n&gt;&gt;&gt; def names(teacher):\n...     direct = {c['name'] for c in teacher['colleagues']}\n...     return direct.union(*(names(c) for c in teacher['colleagues']))\n... \n&gt;&gt;&gt; names(teacher)\n{'Tim Smith', 'Belinda Barker', 'Linda Smith', 'Kelly Brooker', 'Duncan Turnbull', 'Jenna French'}\n</code></pre>\n"}], "owner": {"reputation": 10660, "user_id": 4907767, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/To1v7.jpg?s=128&g=1", "display_name": "gtlambert", "link": "https://stackoverflow.com/users/4907767/gtlambert"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 148, "favorite_count": 0, "accepted_answer_id": 32361137, "answer_count": 1, "score": 0, "last_activity_date": 1441220549, "creation_date": 1441220230, "question_id": 32361043, "link": "https://stackoverflow.com/questions/32361043/extract-set-of-values-from-nested-dictionaries-lists-python", "title": "Extract set of values from nested dictionaries/lists Python", "body": "<p>I have a dictionary <code>teacher</code> which contains nested lists of dictionaries. I'm trying to extract a <code>set</code> of names for all the colleagues and colleagues-of-colleagues of Joe Bloggs using a recursive function.   </p>\n\n<pre><code>teacher = {'age': 27,\n       'name': 'Joe Bloggs',\n       'colleagues': [{'age': 34,\n                 'name': 'Tim Smith',\n                 'colleagues': [{'age': 39,\n                           'name': 'Linda Smith',\n                           'colleagues': [{'age': 41,\n                                     'name': 'Belinda Barker',\n                                     'colleagues': []}]},\n                          {'age': 33,\n                           'name': 'Kelly Brooker',\n                           'colleagues': []},\n                          {'age': 44,\n                           'name': 'Duncan Turnbull',\n                           'colleagues': []}]},\n                 {'age': 29,\n                  'name': 'Jenna French',\n                  'colleagues': []}]}\n</code></pre>\n\n<p><strong>Desired output:</strong></p>\n\n<pre><code>{'Tim Smith', 'Linda Smith', 'Belinda Barker',\n 'Kelly Brooker', 'Duncan Turnbull', 'Jenna French'}\n</code></pre>\n\n<p>Note the output does not need to be in any particular order since it is a <code>set</code>. As is often the case with recursive functions, it is difficult to 'make progress' without actually finding the solution. Thus far I have a recursive function which takes two parameters, but have no idea how to set up my function to generate the desired results:</p>\n\n<pre><code>def names(teacher, colleagues=None):\n</code></pre>\n"}, {"tags": ["python", "windows", "system", "projector"], "answers": [{"tags": [], "owner": {"reputation": 31264, "user_id": 393194, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/3d79d73463b194fb88957db095b92ea2?s=128&d=identicon&r=PG", "display_name": "Mike Driscoll", "link": "https://stackoverflow.com/users/393194/mike-driscoll"}, "is_accepted": false, "score": 0, "last_activity_date": 1441293043, "creation_date": 1441293043, "answer_id": 32379413, "question_id": 32360990, "link": "https://stackoverflow.com/questions/32360990/using-python-for-graphics-projection/32379413#32379413", "title": "Using python for graphics projection?", "body": "<p>Set your laptop to mirror its screen instead of using the projector as an extended desktop. Then you won't have to drag Tkinter over. This is an OS / videocard setting and has nothing to do with Python.</p>\n"}], "owner": {"reputation": 339, "user_id": 1513434, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/5956c45495cb1ba4ef76971dcf3ac42a?s=128&d=identicon&r=PG", "display_name": "andrew", "link": "https://stackoverflow.com/users/1513434/andrew"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 535, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1441293043, "creation_date": 1441220035, "question_id": 32360990, "link": "https://stackoverflow.com/questions/32360990/using-python-for-graphics-projection", "title": "Using python for graphics projection?", "body": "<p>If this is not the best place to ask this, please advise me on an alternative exchange.</p>\n\n<p>I'm trying to create a matrix (N x N) and project it onto a wall using a projector. Each cell of the matrix will have the option to be color-coded or lit. So, given a matrix and a cell, the program will be able to colorize it. </p>\n\n<p>Right now I can achieve this using the <code>graphics.py</code> library and Tkinter. However, when I connect my projector to my laptop via VGA, I have to drag the Tkinter window over and position it on the extended projector screen. It's a manual drag and re-positioning and this should be all automatic. </p>\n\n<p>Are there any other methods (preferably in Python) of achieving this or something similar?</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["python", "list"], "answers": [{"comments": [{"owner": {"reputation": 331, "user_id": 4060646, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/150a59c49e8fc06ab39fe10e2886adb0?s=128&d=identicon&r=PG&f=1", "display_name": "user155876", "link": "https://stackoverflow.com/users/4060646/user155876"}, "edited": false, "score": 0, "creation_date": 1441220866, "post_id": 32361075, "comment_id": 52595174, "body": "I need to start learning the enumerate function. Never even knew it existed as a built-in function in python. Thanks. Is there a way to include a check to make sure each non-string entry is rounded via {:.2f}&quot;.format(floatgoeshere) ?"}, {"owner": {"reputation": 14317, "user_id": 182402, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/de96aa2f424a48b2510a7d29c65a8ace?s=128&d=identicon&r=PG", "display_name": "Wander Nauta", "link": "https://stackoverflow.com/users/182402/wander-nauta"}, "reply_to_user": {"reputation": 331, "user_id": 4060646, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/150a59c49e8fc06ab39fe10e2886adb0?s=128&d=identicon&r=PG&f=1", "display_name": "user155876", "link": "https://stackoverflow.com/users/4060646/user155876"}, "edited": false, "score": 0, "creation_date": 1441220978, "post_id": 32361075, "comment_id": 52595245, "body": "Yep! See @EMS&#39;s answer below. You could either check if something is a number (<code>isinstance(x, Number)</code>) or if it&#39;s not a string (<code>not isinstance(x, str)</code>)."}], "tags": [], "owner": {"reputation": 14317, "user_id": 182402, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/de96aa2f424a48b2510a7d29c65a8ace?s=128&d=identicon&r=PG", "display_name": "Wander Nauta", "link": "https://stackoverflow.com/users/182402/wander-nauta"}, "is_accepted": true, "score": 1, "last_activity_date": 1441220316, "creation_date": 1441220316, "answer_id": 32361075, "question_id": 32360947, "link": "https://stackoverflow.com/questions/32360947/constructing-a-table-by-combining-lists/32361075#32361075", "title": "Constructing a &#39;table&#39; by combining lists", "body": "<p>Do you mean something like this?</p>\n\n<pre><code>for num, heading in enumerate(headings):\n    neatomatic9000(heading)\n    for j in info:\n        neatomatic9000(j[num])\n    print('\\n')\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>Name:               Foo                 Bar                 Pyth the Python     \n\nTime:               15.24242            421.333             3.333               \n\nAwesomeness:        100                 10                  9000                \n</code></pre>\n\n<p>The <code>enumerate</code> function turns a list like <code>[a, b, c]</code> into something like <code>[(0, a), (1, b), (2, c)]</code>. We want one line per heading, so that's our outer loop. Then for the 0th heading, we print the 0th value for every contestant. For the next heading, we print the next value for every contestant, and so on.</p>\n\n<p>Note that this is basically your loop, but inside out.</p>\n"}, {"tags": [], "owner": {"reputation": 4230, "user_id": 1912128, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/YyM8r.png?s=128&g=1", "display_name": "taesu", "link": "https://stackoverflow.com/users/1912128/taesu"}, "is_accepted": false, "score": 0, "last_activity_date": 1441220546, "creation_date": 1441220546, "answer_id": 32361135, "question_id": 32360947, "link": "https://stackoverflow.com/questions/32360947/constructing-a-table-by-combining-lists/32361135#32361135", "title": "Constructing a &#39;table&#39; by combining lists", "body": "<p>without looking at your code:</p>\n\n<pre><code>for left_heading in headings: # for every heading\n    row = left_heading # start with the heading\n    for info in infos: # from data\n        row+= str(info[n])+'\\t' # add data to heading\n    n+=1 # move to next index\n    row+='\\n' # add spacing\n    print row\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 923, "user_id": 5224291, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b101e6ab63ba8eada8f369fa164481c4?s=128&d=identicon&r=PG&f=1", "display_name": "Cody Bouche", "link": "https://stackoverflow.com/users/5224291/cody-bouche"}, "is_accepted": false, "score": 0, "last_activity_date": 1441220698, "creation_date": 1441220698, "answer_id": 32361179, "question_id": 32360947, "link": "https://stackoverflow.com/questions/32360947/constructing-a-table-by-combining-lists/32361179#32361179", "title": "Constructing a &#39;table&#39; by combining lists", "body": "<pre><code>headings = ['Name:','Time:','Awesomeness:']\ninfo = [('Foo', 15.24242, 100), ('Bar', 421.333, 10), ('Pyth the Python', 3.333, 9000)]\ninfo = [[info[v][i] for v in range(len(info))] for i, x in enumerate(info)]\n\ndef neatomatic9000(something):\n    print(\"{0: &lt;20}\".format(something), end = '')\n\nfor i, j in enumerate(info):\n    neatomatic9000(headings[i])\n    for k in j:\n        neatomatic9000(k)\n    print('\\n')\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 883, "user_id": 364984, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a529fd1ad1f897ff720065bd6de1738e?s=128&d=identicon&r=PG", "display_name": "EMS", "link": "https://stackoverflow.com/users/364984/ems"}, "is_accepted": false, "score": 1, "last_activity_date": 1441220723, "last_edit_date": 1495541675, "creation_date": 1441220723, "answer_id": 32361188, "question_id": 32360947, "link": "https://stackoverflow.com/questions/32360947/constructing-a-table-by-combining-lists/32361188#32361188", "title": "Constructing a &#39;table&#39; by combining lists", "body": "<p>With regards to determining whether a python object is a number (int, float, etc.), see <a href=\"https://stackoverflow.com/questions/3441358/python-most-pythonic-way-to-check-if-an-object-is-a-number\">here</a>.  Briefly, \"from numbers import Number\" ... \"isinstance(obj, Number)\"</p>\n"}], "owner": {"reputation": 331, "user_id": 4060646, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/150a59c49e8fc06ab39fe10e2886adb0?s=128&d=identicon&r=PG&f=1", "display_name": "user155876", "link": "https://stackoverflow.com/users/4060646/user155876"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "accepted_answer_id": 32361075, "answer_count": 4, "score": 2, "last_activity_date": 1441220723, "creation_date": 1441219865, "last_edit_date": 1441220233, "question_id": 32360947, "link": "https://stackoverflow.com/questions/32360947/constructing-a-table-by-combining-lists", "title": "Constructing a &#39;table&#39; by combining lists", "body": "<p>I'm trying to construct some presentable tables in python by combining data from two lists.</p>\n\n<p>As an example, let's say I recorded the contestants in a race and I had the name, time and some other arbitrary measurement for each person:</p>\n\n<pre><code>headings = ['Name:','Time:','Awesomeness:']\n\ninfo = [('Foo', 15.24242, 100), ('Bar', 421.333, 10), ('Pyth the Python', 3.333, 9000)]\n</code></pre>\n\n<p>I've applied some formatting by making the function <code>neatomatic9000</code> to make the table's columns indented properly.</p>\n\n<pre><code>def neatomatic9000(something):\n    print(\"{0: &lt;20}\".format(something), end = '')\n\nfor i in headings:\n    neatomatic9000(i)\nprint('\\n')\nfor j in info:\n    for k in j:\n        neatomatic9000(k)\n    print('\\n')\n</code></pre>\n\n<p>My table is printed like so:</p>\n\n<pre><code>Name:               Time:               Awesomeness:        \n\nFoo                 15.24242            100                 \n\nBar                 421.333             10                  \n\nPyth the Python     3.333               9000 \n</code></pre>\n\n<p>Which looks okay, but I'm trying to make the table with the headings as a column on the left - essentially I'm trying to transpose it to look like this:</p>\n\n<pre><code>Name:               Foo               Bar            Pyth the Python\n\nTime:               15.24242          421.333        3.333        \n\nAwesomeness:        100               10             9000\n</code></pre>\n\n<p>EDIT: On another note, python infuriatingly seems to lack a check to see if something is a number regardless if its a float or an integer. I can't seem to incorporate a condition to check if an entry is a number, then round it to two decimal places with  <code> \"{:.2f}\".format(k) </code></p>\n"}, {"tags": ["python", "glob", "errno", "shutil"], "comments": [{"owner": {"reputation": 30558, "user_id": 1013719, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/U8X0A.jpg?s=128&g=1", "display_name": "Ryan Haining", "link": "https://stackoverflow.com/users/1013719/ryan-haining"}, "reply_to_user": {"reputation": 923, "user_id": 5224291, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b101e6ab63ba8eada8f369fa164481c4?s=128&d=identicon&r=PG&f=1", "display_name": "Cody Bouche", "link": "https://stackoverflow.com/users/5224291/cody-bouche"}, "edited": false, "score": 1, "creation_date": 1441220235, "post_id": 32360944, "comment_id": 52594866, "body": "@CodyBouche these look like windows file paths, and telling someone to blindly <code>chmod 777</code> is bad advice."}, {"owner": {"reputation": 30558, "user_id": 1013719, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/U8X0A.jpg?s=128&g=1", "display_name": "Ryan Haining", "link": "https://stackoverflow.com/users/1013719/ryan-haining"}, "edited": false, "score": 0, "creation_date": 1441220322, "post_id": 32360944, "comment_id": 52594900, "body": "@Noah create a smaller example. Can you use <code>shutil.copy</code> to copy a single item out of the problematic directory?"}, {"owner": {"reputation": 40404, "user_id": 282912, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/bmLJq.png?s=128&g=1", "display_name": "msw", "link": "https://stackoverflow.com/users/282912/msw"}, "edited": false, "score": 2, "creation_date": 1441220326, "post_id": 32360944, "comment_id": 52594902, "body": "If you are getting a &quot;Permission denied&quot; error then it is reasonably safe to conclude that you don&#39;t &quot;have full permissions to this folder&quot;."}], "answers": [{"comments": [{"owner": {"reputation": 339, "user_id": 3232860, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/973c248ba431793bda8d4531d3c1dcc5?s=128&d=identicon&r=PG&f=1", "display_name": "Noah Huntington", "link": "https://stackoverflow.com/users/3232860/noah-huntington"}, "edited": false, "score": 0, "creation_date": 1441223799, "post_id": 32361408, "comment_id": 52596767, "body": "Your answer seems to hit close. I have tested using try/expect and can successfully place files outside of subfolder however no luck with subfolder? When run without comment the shutil.copytree call throws this error: [Error 183] Cannot create a file when that file already exists.  <code>for path,dirname,files in os.walk(dir_dst):         for item in src_files:             try:               shutil.copy(item, path)             except:                 print item                 print path               #shutil.copytree(item, path)</code>"}, {"owner": {"reputation": 23864, "user_id": 146073, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2c69ccb9eb83c7ef2ba155a850df68a9?s=128&d=identicon&r=PG", "display_name": "holdenweb", "link": "https://stackoverflow.com/users/146073/holdenweb"}, "reply_to_user": {"reputation": 339, "user_id": 3232860, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/973c248ba431793bda8d4531d3c1dcc5?s=128&d=identicon&r=PG&f=1", "display_name": "Noah Huntington", "link": "https://stackoverflow.com/users/3232860/noah-huntington"}, "edited": false, "score": 0, "creation_date": 1441253618, "post_id": 32361408, "comment_id": 52605707, "body": "Perhaps you are trying to copy files that <code>copytree</code> has already created for you, by continuing to walk down directories you have already processed?"}], "tags": [], "owner": {"reputation": 23864, "user_id": 146073, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2c69ccb9eb83c7ef2ba155a850df68a9?s=128&d=identicon&r=PG", "display_name": "holdenweb", "link": "https://stackoverflow.com/users/146073/holdenweb"}, "is_accepted": true, "score": 1, "last_activity_date": 1441221563, "creation_date": 1441221563, "answer_id": 32361408, "question_id": 32360944, "link": "https://stackoverflow.com/questions/32360944/errno-13-permission-denied/32361408#32361408", "title": "Errno 13 Permission Denied", "body": "<p><code>shutil.copy</code> will only copy files, not directories. Consider using <a href=\"https://docs.python.org/2/library/shutil.html#shutil.copytree\" rel=\"nofollow\"><code>shutil.copytree</code></a> instead, that's what it was designed for.</p>\n"}, {"tags": [], "owner": {"reputation": 339, "user_id": 3232860, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/973c248ba431793bda8d4531d3c1dcc5?s=128&d=identicon&r=PG&f=1", "display_name": "Noah Huntington", "link": "https://stackoverflow.com/users/3232860/noah-huntington"}, "is_accepted": false, "score": 1, "last_activity_date": 1441226402, "creation_date": 1441226402, "answer_id": 32362680, "question_id": 32360944, "link": "https://stackoverflow.com/questions/32360944/errno-13-permission-denied/32362680#32362680", "title": "Errno 13 Permission Denied", "body": "<p>This implementation of copytree seemed to get it done! Thanks for the input @ holdenweb</p>\n\n<pre><code>from distutils.dir_util import copy_tree\n\nfor path,dirname,files in os.walk(dir_dst):\n\n    for item in src_files:\n        try:\n          shutil.copy(item, path)\n        except:\n            print item\n            print path\n            copy_tree(dir_src, path)\n</code></pre>\n"}], "owner": {"reputation": 339, "user_id": 3232860, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/973c248ba431793bda8d4531d3c1dcc5?s=128&d=identicon&r=PG&f=1", "display_name": "Noah Huntington", "link": "https://stackoverflow.com/users/3232860/noah-huntington"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1586, "favorite_count": 0, "accepted_answer_id": 32361408, "answer_count": 2, "score": -1, "last_activity_date": 1441226402, "creation_date": 1441219853, "question_id": 32360944, "link": "https://stackoverflow.com/questions/32360944/errno-13-permission-denied", "title": "Errno 13 Permission Denied", "body": "<p>I have researched the similarly asked questions without prevail.  I am trying to os.walk() a file tree copying a set of files to each directory. Individual files seem to copy ok (1st iteration atleast), but an error is thrown (IOError: [Errno 13] Permission denied: 'S:/NoahFolder\\.images') while trying to copy a folder (.images) and its contents? I have full permissions to this folder (I believe).</p>\n\n<p>What gives?</p>\n\n<pre><code>import os\nimport shutil\nimport glob\n\ndir_src = r'S:/NoahFolder/.*'\ndir_dst = r'E:/Easements/Lynn'\nsrc_files = glob.glob(dir_src)\nprint src_files\n\nfor path,dirname,files in os.walk(dir_dst):\n    for item in src_files:\n        print path\n        print item\n\n        shutil.copy(item, path)\n</code></pre>\n"}]