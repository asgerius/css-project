[{"tags": ["python"], "comments": [{"owner": {"reputation": 49388, "user_id": 6779307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p7O3q.jpg?s=128&g=1", "display_name": "Patrick Haugh", "link": "https://stackoverflow.com/users/6779307/patrick-haugh"}, "edited": false, "score": 7, "creation_date": 1507161507, "post_id": 46575889, "comment_id": 80105123, "body": "Use a <a href=\"https://developers.google.com/edu/python/lists\" rel=\"nofollow noreferrer\"><code>list</code></a>"}, {"owner": {"reputation": 10697, "user_id": 2445864, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/jSfSO.jpg?s=128&g=1", "display_name": "Hubert Grzeskowiak", "link": "https://stackoverflow.com/users/2445864/hubert-grzeskowiak"}, "edited": false, "score": 0, "creation_date": 1507161795, "post_id": 46575889, "comment_id": 80105200, "body": "Sidenote: your condition should have two <code>=</code> signs, not one, and you&#39;re missing the colon at the end of the line: <code>if c[n] == 0:</code>"}, {"owner": {"reputation": 5768, "user_id": 3088572, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/769f723b0fd6eb8c99d5f65b39392b18?s=128&d=identicon&r=PG&f=1", "display_name": "alvits", "link": "https://stackoverflow.com/users/3088572/alvits"}, "edited": false, "score": 0, "creation_date": 1507161974, "post_id": 46575889, "comment_id": 80105247, "body": "If <code>c1</code> up to <code>c9</code> is in a library that you can&#39;t modify (highly doubtful), you may use <code>eval(&#39;c&#39;+str(n))</code>."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 2, "creation_date": 1507162123, "post_id": 46575889, "comment_id": 80105294, "body": "Any time you think you need numbered variables you should be using a list."}], "answers": [{"tags": [], "owner": {"reputation": 10697, "user_id": 2445864, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/jSfSO.jpg?s=128&g=1", "display_name": "Hubert Grzeskowiak", "link": "https://stackoverflow.com/users/2445864/hubert-grzeskowiak"}, "is_accepted": true, "score": 3, "last_activity_date": 1507161742, "creation_date": 1507161742, "answer_id": 46575933, "question_id": 46575889, "link": "https://stackoverflow.com/questions/46575889/how-can-i-call-for-a-variable-by-the-second-character-on-its-name/46575933#46575933", "title": "How can I call for a variable by the second character on its name?", "body": "<p>As suggested in the comments, you are definitely looking for lists:</p>\n\n<pre><code>c = []\nc.append(0)   # access this using c[0]\nc.append(0)   # access this using c[1]\n...\n\n# Alternatively fill the list from start\nc = [0, 2, 1, 3, 0, 3, 1]\n\n...\n\nif c[n] == 0:\n    p[n] = \"X\"\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 216, "user_id": 8452816, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e049d246a3a90d6e860d1161b4553cce?s=128&d=identicon&r=PG", "display_name": "Elliot Godzich", "link": "https://stackoverflow.com/users/8452816/elliot-godzich"}, "is_accepted": false, "score": 0, "last_activity_date": 1507164249, "creation_date": 1507164249, "answer_id": 46576221, "question_id": 46575889, "link": "https://stackoverflow.com/questions/46575889/how-can-i-call-for-a-variable-by-the-second-character-on-its-name/46576221#46576221", "title": "How can I call for a variable by the second character on its name?", "body": "<p>This is technically possible, but I don't recommend it.</p>\n\n<p>You can use <code>getattr(object_or_module_variables_are_in, 'a' + str(number))</code></p>\n\n<p>However, using <code>getattr</code> is usually a sign that you're doing something wrong.</p>\n"}], "owner": {"reputation": 3, "user_id": 8723280, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-CbdHc7JQy6Y/AAAAAAAAAAI/AAAAAAAAAHk/URD_PzZLYbA/photo.jpg?sz=128", "display_name": "Sebastian Caro", "link": "https://stackoverflow.com/users/8723280/sebastian-caro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "accepted_answer_id": 46575933, "answer_count": 2, "score": 0, "last_activity_date": 1507164249, "creation_date": 1507161445, "last_edit_date": 1507162245, "question_id": 46575889, "link": "https://stackoverflow.com/questions/46575889/how-can-i-call-for-a-variable-by-the-second-character-on-its-name", "title": "How can I call for a variable by the second character on its name?", "body": "<p>I am trying to make a list of variables like this</p>\n\n<pre><code>c1 = 0\nc2 = 0\n</code></pre>\n\n<p>all the way up to <code>c9</code>. How can I call for the variable based on the number next to the c?</p>\n\n<p>So for example lets say I want to generalize that when a variable is equal to 0 another variable with the same number next to is defined.</p>\n\n<pre><code>if c[n] = 0\n    p[n] = 'X'\n</code></pre>\n\n<p>PS. Sorry for any formating mistakes, this is my first post.</p>\n"}, {"tags": ["python", "arrays", "numpy"], "answers": [{"tags": [], "owner": {"reputation": 169523, "user_id": 4983450, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/NR2ko.jpg?s=128&g=1", "display_name": "Psidom", "link": "https://stackoverflow.com/users/4983450/psidom"}, "is_accepted": true, "score": 1, "last_activity_date": 1507163173, "creation_date": 1507163173, "answer_id": 46576113, "question_id": 46575863, "link": "https://stackoverflow.com/questions/46575863/grouping-elements-of-a-numpy-array-using-an-array-of-group-counts/46576113#46576113", "title": "Grouping elements of a numpy array using an array of group counts", "body": "<p>You can repeat <code>group_counts</code> so it has the same size as data, then filter and reshape based on the target:</p>\n\n<pre><code>group_counts = np.array([3,4,3,2])\ndata = np.arange(group_counts.sum())\n\ntarget = 3\ndata[np.repeat(group_counts, group_counts) == target].reshape(-1, target)\n\n#array([[0, 1, 2],\n#       [7, 8, 9]])\n</code></pre>\n"}], "owner": {"reputation": 4009, "user_id": 1429402, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/paAFK.jpg?s=128&g=1", "display_name": "Fnord", "link": "https://stackoverflow.com/users/1429402/fnord"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1090, "favorite_count": 0, "accepted_answer_id": 46576113, "answer_count": 1, "score": 0, "last_activity_date": 1507167353, "creation_date": 1507161225, "last_edit_date": 1507167353, "question_id": 46575863, "link": "https://stackoverflow.com/questions/46575863/grouping-elements-of-a-numpy-array-using-an-array-of-group-counts", "title": "Grouping elements of a numpy array using an array of group counts", "body": "<p>Given two arrays, one representing a stream of data, and another representing group counts, such as:</p>\n\n<pre><code>import numpy as np\n\n# given group counts:       3            4           3         2\n# given flattened data:[ 0, 1, 2,   3, 4, 5, 6,   7, 8, 9,   10, 11 ]\n\ngroup_counts = np.array([3,4,3,2])\ndata = np.arange(group_counts.sum()) # placeholder data, real life application will be a very large array\n</code></pre>\n\n<p>I want to generate matrices based on the group counts for the streamed data, such as:</p>\n\n<pre><code>target_count = 3 # I want to make a matrix of all data items who's group_counts = target_count\n# Expected result\n# [[ 0  1  2]\n#  [ 7  8  9]]\n</code></pre>\n\n<p>To do this I wrote the following:</p>\n\n<pre><code># Find all matches\nmatch = np.where(groups == group_target)[0]\ni1 = np.cumsum(groups)[match] # start index for slicing\ni0 = i1 - groups[match] # end index for slicing\n\n# Prep the blank matrix and fill with resuls\nmatched_matrix = np.empty((match.size,target_count))\n\n# Is it possible to get rid of this loop?\nfor i in xrange(match.size):\n    matched_matrix[i] = data[i0[i]:i1[i]]\n\nmatched_matrix\n# Result: array([[ 0,  1,  2],\n                 [ 7,  8,  9]]) # \n</code></pre>\n\n<p>This works, but I would like to get rid of the loop and I can't figure out how.</p>\n\n<p>Doing some research I did find <code>numpy.split</code> and <code>numpy.array_split</code>:</p>\n\n<pre><code>match = np.where(group_counts == target_count)[0]\nmatch = np.array(np.split(data,np.cumsum(groups)))[match]\n# Result: array([array([0, 1, 2]), array([7, 8, 9])], dtype=object) # \n</code></pre>\n\n<p>But <code>numpy.split</code> produces a list of <code>dtype=object</code> that I have to convert.</p>\n\n<p>Is there an elegant way to produce the desired result without a loop?</p>\n"}, {"tags": ["javascript", "python", "api", "google-drive-api", "download"], "comments": [{"owner": {"reputation": 4414, "user_id": 5241032, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/056c678e99e8253ad280b230ba30a7fb?s=128&d=identicon&r=PG&f=1", "display_name": "cmaher", "link": "https://stackoverflow.com/users/5241032/cmaher"}, "edited": false, "score": 0, "creation_date": 1507167464, "post_id": 46575860, "comment_id": 80106443, "body": "Your example is missing"}, {"owner": {"reputation": 89, "user_id": 1996032, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8a02c1b4db390176d55692eb5e5a505?s=128&d=identicon&r=PG", "display_name": "HARJOT SINGH PARMAR", "link": "https://stackoverflow.com/users/1996032/harjot-singh-parmar"}, "reply_to_user": {"reputation": 4414, "user_id": 5241032, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/056c678e99e8253ad280b230ba30a7fb?s=128&d=identicon&r=PG&f=1", "display_name": "cmaher", "link": "https://stackoverflow.com/users/5241032/cmaher"}, "edited": false, "score": 0, "creation_date": 1507178495, "post_id": 46575860, "comment_id": 80108902, "body": "Csv report case is the example."}], "answers": [{"tags": [], "owner": {"reputation": 3042, "user_id": 8342742, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EMVCJ.jpg?s=128&g=1", "display_name": "M\u03b1\u03c0\u03bcQ\u03bc\u03b1\u03c0k\u03b3V\u03c0.0", "link": "https://stackoverflow.com/users/8342742/m%ce%b1%cf%80%ce%bcq%ce%bc%ce%b1%cf%80k%ce%b3v%cf%80-0"}, "is_accepted": false, "score": 0, "last_activity_date": 1507203909, "creation_date": 1507203909, "answer_id": 46584810, "question_id": 46575860, "link": "https://stackoverflow.com/questions/46575860/api-request-response-saved-directly-to-google-drive/46584810#46584810", "title": "api request response saved directly to google drive", "body": "<p>You can use the <a href=\"https://developers.google.com/drive/v3/web/savetodrive\" rel=\"nofollow noreferrer\">Save to Drive Button</a>.</p>\n\n<blockquote>\n  <p>The Save to Drive button enables your web site to allow users to save\n  files to their Drive account from an arbitrary URL via their browser.\n  The button is configured with a few attributes in a div tag in the\n  HTML markup, similar to how the <a href=\"https://developers.google.com/+/web/+1button/\" rel=\"nofollow noreferrer\">+1 button</a> is created.</p>\n</blockquote>\n\n<p>Snippet of code from the documentation:</p>\n\n<blockquote>\n  <p>The simplest way to display a Save to Drive button on your page is to\n  include the necessary JavaScript resource and to add the Save to Drive\n  button tag:</p>\n\n<pre><code>&lt;script src=\"https://apis.google.com/js/platform.js\" async defer&gt;&lt;/script&gt;\n&lt;div class=\"g-savetodrive\"\n   data-src=\"//example.com/path/to/myfile.pdf\"\n   data-filename=\"My Statement.pdf\"\n   data-sitename=\"My Company Name\"&gt;\n&lt;/div&gt;\n</code></pre>\n</blockquote>\n\n<p>This is how it works:</p>\n\n<blockquote>\n  <p>The technology used to upload files is similar to that used by the\n  Google Drive web user interface. The file is downloaded to the user's\n  browser in parts and uploaded to Google Drive as data is received.</p>\n  \n  <p>This allows the user to save files that require some form of HTTP\n  authentication because the download is made in the context of the\n  user's browser.</p>\n  \n  <p>If the user navigates away from the page before the download is\n  complete, the data is discarded and no file is created.</p>\n</blockquote>\n"}], "owner": {"reputation": 89, "user_id": 1996032, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8a02c1b4db390176d55692eb5e5a505?s=128&d=identicon&r=PG", "display_name": "HARJOT SINGH PARMAR", "link": "https://stackoverflow.com/users/1996032/harjot-singh-parmar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 81, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1507203909, "creation_date": 1507161219, "question_id": 46575860, "link": "https://stackoverflow.com/questions/46575860/api-request-response-saved-directly-to-google-drive", "title": "api request response saved directly to google drive", "body": "<p>How can I save api request response directly to google drive ? </p>\n\n<p>Example : </p>\n\n<p>If I pull a csv report from a reporting API, now I need the file to be directly downloaded into my google drive instead of getting downloaded locally onto my system. </p>\n"}, {"tags": ["python", "django", "macos"], "answers": [{"tags": [], "owner": {"reputation": 250720, "user_id": 113962, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b80ae1d65878cf68a4b1a00848467527?s=128&d=identicon&r=PG", "display_name": "Alasdair", "link": "https://stackoverflow.com/users/113962/alasdair"}, "is_accepted": false, "score": 0, "last_activity_date": 1507161488, "creation_date": 1507161488, "answer_id": 46575894, "question_id": 46575851, "link": "https://stackoverflow.com/questions/46575851/django-mysql-setup-error-on-mac-os/46575894#46575894", "title": "Django mysql setup error on mac os", "body": "<p><code>MYSQL-python</code> is not compatible with Python 3. Install mysqlclient instead.</p>\n\n<pre><code>pip3 install mysqlclient\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 8723286, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df33c880dac728ddf3bd8f8ef6dd1015?s=128&d=identicon&r=PG&f=1", "display_name": "mitwa", "link": "https://stackoverflow.com/users/8723286/mitwa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 239, "favorite_count": 0, "closed_date": 1507161531, "answer_count": 1, "score": 0, "last_activity_date": 1507161583, "creation_date": 1507161167, "last_edit_date": 1507161583, "question_id": 46575851, "link": "https://stackoverflow.com/questions/46575851/django-mysql-setup-error-on-mac-os", "closed_reason": "Duplicate", "title": "Django mysql setup error on mac os", "body": "<p>]mitwas-MacBook-Air:mytestsite Mitwa$ pip3 install MYSQL-python\nCollecting MYSQL-python</p>\n\n<p>Using cached MySQL-python-1.2.5.zip\n    Complete output from command python setup.py egg_info:\n    Traceback (most recent call last):</p>\n\n<pre><code>  File \"&lt;string&gt;\", line 1, in &lt;module&gt;\n  File \"/private/var/folders/9l/9zjr811503367lfnybnyqlqc0000gn/T/pip-build-fk08ytxi/MYSQL-python/setup.py\", line 13, in &lt;module&gt;\n</code></pre>\n\n<p>from setup_posix import get_config\n      File \"/private/var/folders/9l/9zjr811503367lfnybnyqlqc0000gn/T/pip-build-fk08ytxi/MYSQL-python/setup_posix.py\", line 2, in \n        from ConfigParser import SafeConfigParser\n    ImportError: No module named 'ConfigParser'</p>\n\n<pre><code>----------------------------------------\n</code></pre>\n\n<p>Command \"python setup.py egg_info\" failed with error code 1 in /private/var/folders/9l/9zjr811503367lfnybnyqlqc0000gn/T/pip-build-fk08ytxi/MYSQL-python/</p>\n\n<p>I am getting this error while setting up Django MYSQL for python. Anyone have idea how to solve it?</p>\n"}, {"tags": ["python", "ruby", "excel", "xlsxwriter", "axlsx"], "comments": [{"owner": {"reputation": 35276, "user_id": 182590, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/134ea397777886d6f0aa992672a50eaa?s=128&d=identicon&r=PG", "display_name": "Mark Thomas", "link": "https://stackoverflow.com/users/182590/mark-thomas"}, "edited": false, "score": 0, "creation_date": 1507163115, "post_id": 46575847, "comment_id": 80105509, "body": "I think you could use either language. If you end up using Ruby, definitely use <a href=\"https://github.com/randym/axlsx\" rel=\"nofollow noreferrer\">axlsx</a>, it&#39;s super simple (much easier than win32ole)."}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 8723140, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/65bdbd6c697f8ce40c3b19a2e7bb0ab1?s=128&d=identicon&r=PG&f=1", "display_name": "SueGunther", "link": "https://stackoverflow.com/users/8723140/suegunther"}, "edited": false, "score": 0, "creation_date": 1507735555, "post_id": 46669389, "comment_id": 80331804, "body": "Thank you Chuck for your answer. Does this mean that OLE runs the graph in Excel? That&#39;s what I want to avoid - because the datasets are too large and the macros take forever to run. I don&#39;t want Excel to process the data, I only want the results to be presented in Excel."}, {"owner": {"reputation": 90, "user_id": 2682818, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/c4ee39b98ec3f9b759d4d22d1da04844?s=128&d=identicon&r=PG&f=1", "display_name": "Chuck Remes", "link": "https://stackoverflow.com/users/2682818/chuck-remes"}, "reply_to_user": {"reputation": 11, "user_id": 8723140, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/65bdbd6c697f8ce40c3b19a2e7bb0ab1?s=128&d=identicon&r=PG&f=1", "display_name": "SueGunther", "link": "https://stackoverflow.com/users/8723140/suegunther"}, "edited": false, "score": 0, "creation_date": 1507747683, "post_id": 46669389, "comment_id": 80338736, "body": "My suggestion was to &quot;port&quot; your existing VBA to Ruby. If the current code takes &quot;forever&quot; to run then Ruby + WIN32OLE won&#39;t be any better. However, you could modify your code to run your dataset calculations in Ruby and then use OLE to produce a chart from the results. No reason this can&#39;t work."}], "tags": [], "owner": {"reputation": 90, "user_id": 2682818, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/c4ee39b98ec3f9b759d4d22d1da04844?s=128&d=identicon&r=PG&f=1", "display_name": "Chuck Remes", "link": "https://stackoverflow.com/users/2682818/chuck-remes"}, "is_accepted": false, "score": 0, "last_activity_date": 1507645959, "creation_date": 1507645959, "answer_id": 46669389, "question_id": 46575847, "link": "https://stackoverflow.com/questions/46575847/automating-excel-reporting-and-graphs-python-xlsxwriter-xlswings-or-ruby-axlsx/46669389#46669389", "title": "Automating excel reporting and graphs - Python xlsxWriter/xlswings or Ruby axlsx/win32ole", "body": "<p>If you already have VBA that <em>works</em> for your project, then translating it to Ruby + WIN32OLE is probably your quickest path to working code. Anything you can do in VBA is doable in Ruby (if you find something you can't do, post here to ask for help).</p>\n\n<p>I prefer working with Excel via OLE since I know the file produced by Excel <em>will work</em> anywhere I open it. I haven't used axlsx but I'm sure it's a fine project; I just wouldn't trust that it would produce working Excel files every time.</p>\n"}], "owner": {"reputation": 11, "user_id": 8723140, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/65bdbd6c697f8ce40c3b19a2e7bb0ab1?s=128&d=identicon&r=PG&f=1", "display_name": "SueGunther", "link": "https://stackoverflow.com/users/8723140/suegunther"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 366, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1507645959, "creation_date": 1507161120, "question_id": 46575847, "link": "https://stackoverflow.com/questions/46575847/automating-excel-reporting-and-graphs-python-xlsxwriter-xlswings-or-ruby-axlsx", "title": "Automating excel reporting and graphs - Python xlsxWriter/xlswings or Ruby axlsx/win32ole", "body": "<p>I want to create a program, which automates excel reporting including various graphs in colours. The program needs to be able to read an excel dataset. Based on this dataset, the program then has to create report pages and graphs and then export to an excel file as well as pdf file.</p>\n\n<p>I have done some research and it seems this is possible using python with pandas - xlsxWriter or xlswings as well as Ruby gems - axlsx or win32ole. </p>\n\n<p>Which is the user-friendlier and easy to learn alternative? What are the advantages and disadvantages? Are there other options I should consider (I would like to avoid VBA - as this is how the reports are currently produced)?</p>\n\n<p>Any responses and comments are appreciated. Thank you!</p>\n"}, {"tags": ["python", "string", "pandas", "numpy", "datetime"], "answers": [{"tags": [], "owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "is_accepted": true, "score": 3, "last_activity_date": 1507161047, "creation_date": 1507161047, "answer_id": 46575833, "question_id": 46575809, "link": "https://stackoverflow.com/questions/46575809/remove-substring-from-multiple-string-columns-in-a-pandas-dataframe/46575833#46575833", "title": "Remove substring from multiple string columns in a pandas DataFrame", "body": "<p>Loops are considered an abomination in pandas. I'd recommend just doing something like this, with <code>str.contains</code> + <code>np.where</code>.</p>\n\n<pre><code>for c in df.columns:\n    # df[c] = df[c].astype(str) # uncomment this if your columns aren't dtype=str \n    df[c] = np.where(df[c].str.contains(\"20\"), df[c].str[:10], df[c])\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "is_accepted": false, "score": 3, "last_activity_date": 1507164296, "creation_date": 1507164296, "answer_id": 46576229, "question_id": 46575809, "link": "https://stackoverflow.com/questions/46575809/remove-substring-from-multiple-string-columns-in-a-pandas-dataframe/46576229#46576229", "title": "Remove substring from multiple string columns in a pandas DataFrame", "body": "<p>IIUC:</p>\n\n<p>You want to do this over the entire dataframe.<br>\nIf so, here is a vectorized way using <code>numpy</code> over the entire dataframe at once.  </p>\n\n<p><strong>Setup</strong>  </p>\n\n<pre><code>df = pd.DataFrame([\n    ['xxxxxxxx20yyyy', 'z' * 14, 'wwwwwwww20vvvv'],\n    ['k' * 14, 'dddddddd20ffff', 'a' * 14]\n], columns=list('ABC'))\n\ndf\n\n                A               B               C\n0  xxxxxxxx20yyyy  zzzzzzzzzzzzzz  wwwwwwww20vvvv\n1  kkkkkkkkkkkkkk  dddddddd20ffff  aaaaaaaaaaaaaa\n</code></pre>\n\n<p><strong>Solution</strong><br>\nUsing <code>numpy.core.defchararray.find</code> and <code>np.where</code>  </p>\n\n<pre><code>from numpy.core.defchararray import find\n\nv = df.values.astype(str)\ni, j = np.where(find(v, '20') &gt; -1)\n\nv[i, j] = v[i, j].astype('&lt;U10')\n\ndf.loc[:] = v\n\ndf\n\n                A               B               C\n0      xxxxxxxx20  zzzzzzzzzzzzzz      wwwwwwww20\n1  kkkkkkkkkkkkkk      dddddddd20  aaaaaaaaaaaaaa\n</code></pre>\n\n<hr>\n\n<p>If you don't want to overwrite the old dataframe, you can create a new one:</p>\n\n<pre><code>pd.DataFrame(v, df.index, df.columns)\n\n                A               B               C\n0      xxxxxxxx20  zzzzzzzzzzzzzz      wwwwwwww20\n1  kkkkkkkkkkkkkk      dddddddd20  aaaaaaaaaaaaaa\n</code></pre>\n"}], "owner": {"reputation": 325, "user_id": 2831637, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/ebc0179a0bf564819688f8998866eb49?s=128&d=identicon&r=PG&f=1", "display_name": "Korzak", "link": "https://stackoverflow.com/users/2831637/korzak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 590, "favorite_count": 0, "accepted_answer_id": 46575833, "answer_count": 2, "score": 2, "last_activity_date": 1547355564, "creation_date": 1507160914, "last_edit_date": 1547355564, "question_id": 46575809, "link": "https://stackoverflow.com/questions/46575809/remove-substring-from-multiple-string-columns-in-a-pandas-dataframe", "title": "Remove substring from multiple string columns in a pandas DataFrame", "body": "<p>I have a list of columns in a dataframe that I want to run through and perform an operation on them. the columns hold datetimes or nothing.  </p>\n\n<p>For each column in the list, I would like to trim every value in the column that contains \"20\" in it to the first 10 characters, otherwise leave it as is.</p>\n\n<p>I've tried this a few ways, but get a variety of errors or imperfect results.</p>\n\n<p>The following version throws an error of \" 'str' object has no attribute 'apply'\", but if I don't use \".astype(str)\", then I get an error of \" argument of type 'datetime.datetime' is not iterable\". </p>\n\n<pre><code>df_combined[dateColumns] = df_combined[dateColumns].fillna(notFoundText).astype(str)\n    print (dateColumns)\n    for column in dateColumns:\n        for row in range(len(column)):\n            print(df_combined[column][row])\n            if \"20\" in (df_combined[column][row]):\n                df_combined[column][row].apply(lambda x: x[:10], axis=1)\n            print(df_combined[column][row])\n</code></pre>\n\n<p>Halp.  Thanks in advance.</p>\n"}, {"tags": ["python", "python-3.x"], "answers": [{"tags": [], "owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "is_accepted": true, "score": 1, "last_activity_date": 1507160878, "creation_date": 1507160878, "answer_id": 46575799, "question_id": 46575787, "link": "https://stackoverflow.com/questions/46575787/outputting-from-a-list/46575799#46575799", "title": "Outputting from a list", "body": "<p>Use <code>err.append</code> to add strings rather than extend, which iterates the string to characters </p>\n"}], "owner": {"reputation": 33, "user_id": 8619687, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/1487bffabf6f5dac296ac22f2d8852dd?s=128&d=identicon&r=PG&f=1", "display_name": "keelsinit", "link": "https://stackoverflow.com/users/8619687/keelsinit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "accepted_answer_id": 46575799, "answer_count": 1, "score": 0, "last_activity_date": 1507160889, "creation_date": 1507160791, "last_edit_date": 1507160889, "question_id": 46575787, "link": "https://stackoverflow.com/questions/46575787/outputting-from-a-list", "title": "Outputting from a list", "body": "<p>Just trying to make my code more efficient! </p>\n\n<pre><code>ip = ['1.1.1.1', '2.2.2.2', '3.3.3.3']\nerr = []\n\nfor address in ip:\n    sock = socket.socket(socket.AF_INET, socket.SOCK_STREAM)\n    result = sock.connect_ex((address, 9999))\n    if result != 0:\n        err.extend(address)\nprint(err)\n</code></pre>\n\n<p>this is the output I receive:</p>\n\n<pre><code>['1', '.', '1', '.', '1', '.', '1', '2', '.', '2', '.', '2', '.', '2', '3', '.', '3', '.', '3', '.', '3']\n</code></pre>\n\n<p>if I run typecast to be either a float or int, there are errors thrown. I just need each ip address inserted into a list so I can print them out looking like:</p>\n\n<pre><code>1.1.1.1\n</code></pre>\n"}, {"tags": ["python", "pillow", "steganography"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1507160812, "post_id": 46575767, "comment_id": 80104950, "body": "<code>fileSize</code> is an empty string. What do you expect <code>int(fileSize)</code> to return?"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1507160898, "post_id": 46575767, "comment_id": 80104968, "body": "Please use <code>True</code> and <code>False</code> for boolean values, not <code>1</code> and <code>0</code>. It makes the code much clearer."}, {"owner": {"reputation": 83, "user_id": 6868511, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/9a1e01808096848af38bdceaffa00c8b?s=128&d=identicon&r=PG&f=1", "display_name": "Paul", "link": "https://stackoverflow.com/users/6868511/paul"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1507161461, "post_id": 46575767, "comment_id": 80105111, "body": "@Barmar yeah that makes sense, however I don&#39;t get how filezise could be empty when I&#39;m populating everything properly? Again this worked the other day, and now it just doesn&#39;t work all of a sudden...."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1507162312, "post_id": 46575767, "comment_id": 80105332, "body": "Programs don&#39;t change their behavior spontaneously. Either the script changed or the file changed."}, {"owner": {"reputation": 7187, "user_id": 2243104, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47daacd71b7294e97d5ef36ba029a95c?s=128&d=identicon&r=PG&f=1", "display_name": "Reti43", "link": "https://stackoverflow.com/users/2243104/reti43"}, "edited": false, "score": 0, "creation_date": 1507163061, "post_id": 46575767, "comment_id": 80105501, "body": "If you can&#39;t replicate the state when the code worked, mentioning that is useless. By the way, inserting your secret worked fine because the program didn&#39;t throw any errors does not necessarily mean it did what you expected it to do. Start from the offending line and print its variables&#39; contents to figure out what triggered the error and go one step back to figure out why those variables held such unexpected values, until you find the cause."}, {"owner": {"reputation": 18935, "user_id": 19405, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a72b55a41a43ea0493fc64641a1ed295?s=128&d=identicon&r=PG", "display_name": "nobody", "link": "https://stackoverflow.com/users/19405/nobody"}, "edited": false, "score": 0, "creation_date": 1507255932, "post_id": 46575767, "comment_id": 80147165, "body": "Never, ever, ever post screenshots of text if the image isn&#39;t actually relevant to the problem (font rendering, widget positioning, etc..). Copy and paste or retype the text."}], "answers": [{"comments": [{"owner": {"reputation": 83, "user_id": 6868511, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/9a1e01808096848af38bdceaffa00c8b?s=128&d=identicon&r=PG&f=1", "display_name": "Paul", "link": "https://stackoverflow.com/users/6868511/paul"}, "edited": false, "score": 0, "creation_date": 1507161523, "post_id": 46575810, "comment_id": 80105130, "body": "Yea that makes sense, but I&#39;m trying to figure out why it&#39;s empty in the first place, when i&#39;m populating everything just fine? again, it was working jsut fine the other day, I can&#39;t imagine why it&#39;s not working now.."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1507161618, "post_id": 46575810, "comment_id": 80105158, "body": "It&#39;s dependent on what&#39;s in the file you&#39;re processing. Maybe it has an empty image."}, {"owner": {"reputation": 83, "user_id": 6868511, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/9a1e01808096848af38bdceaffa00c8b?s=128&d=identicon&r=PG&f=1", "display_name": "Paul", "link": "https://stackoverflow.com/users/6868511/paul"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1507161722, "post_id": 46575810, "comment_id": 80105183, "body": "@Barmar the file it&#39;s creating is not empty"}, {"owner": {"reputation": 64597, "user_id": 1453822, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/2c8db97d2ecdfe5e044cee4c470abb60?s=128&d=identicon&r=PG", "display_name": "DeepSpace", "link": "https://stackoverflow.com/users/1453822/deepspace"}, "reply_to_user": {"reputation": 83, "user_id": 6868511, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/9a1e01808096848af38bdceaffa00c8b?s=128&d=identicon&r=PG&f=1", "display_name": "Paul", "link": "https://stackoverflow.com/users/6868511/paul"}, "edited": false, "score": 0, "creation_date": 1507162017, "post_id": 46575810, "comment_id": 80105260, "body": "@PaulCabz Use a debugger or print the values. We can&#39;t debug your code for you at that level over the internet."}], "tags": [], "owner": {"reputation": 64597, "user_id": 1453822, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/2c8db97d2ecdfe5e044cee4c470abb60?s=128&d=identicon&r=PG", "display_name": "DeepSpace", "link": "https://stackoverflow.com/users/1453822/deepspace"}, "is_accepted": true, "score": 1, "last_activity_date": 1507161227, "last_edit_date": 1507161227, "creation_date": 1507160921, "answer_id": 46575810, "question_id": 46575767, "link": "https://stackoverflow.com/questions/46575767/valueerror-invalid-literal-for-int-with-base-10-when-it-worked-before/46575810#46575810", "title": "ValueError: invalid literal for int() with base 10: &#39; &#39; when it worked before", "body": "<pre><code>fileSize = ''.join(binascii.unhexlify('%x' % int(b,2)) for b in \n                   lsbByte_Array[0:len(lsbByte_Array) - 1])\n</code></pre>\n\n<p>if <code>lsbByte_Array</code> is an empty array then <code>fileSize</code> will be an empty string, which is obviously why <code>int(fileSize)</code> fails.</p>\n\n<p>You should probably use a default value, for example </p>\n\n<pre><code>fileSize = ''.join(binascii.unhexlify('%x' % int(b,2)) for b in \n                   lsbByte_Array[0:len(lsbByte_Array) - 1]) or 0\n</code></pre>\n\n<p>As a side note, stuff like <code>lsbByte_Array[0:len(lsbByte_Array) - 1])</code> can simply be written as <code>lsbByte_Array[0:-1]</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 83, "user_id": 6868511, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/9a1e01808096848af38bdceaffa00c8b?s=128&d=identicon&r=PG&f=1", "display_name": "Paul", "link": "https://stackoverflow.com/users/6868511/paul"}, "is_accepted": false, "score": 0, "last_activity_date": 1507184892, "creation_date": 1507184892, "answer_id": 46579148, "question_id": 46575767, "link": "https://stackoverflow.com/questions/46575767/valueerror-invalid-literal-for-int-with-base-10-when-it-worked-before/46579148#46579148", "title": "ValueError: invalid literal for int() with base 10: &#39; &#39; when it worked before", "body": "<p>I feel really dumb, I just needed to hear it from other people, it turns out in my infinite wisdom, I just tried opening images without actual hidden data in it. But I did fix up my code as other users here advised me to. Thanks for everything guys! </p>\n"}], "owner": {"reputation": 83, "user_id": 6868511, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/9a1e01808096848af38bdceaffa00c8b?s=128&d=identicon&r=PG&f=1", "display_name": "Paul", "link": "https://stackoverflow.com/users/6868511/paul"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1338, "favorite_count": 0, "accepted_answer_id": 46575810, "answer_count": 2, "score": -1, "last_activity_date": 1507184892, "creation_date": 1507160600, "question_id": 46575767, "link": "https://stackoverflow.com/questions/46575767/valueerror-invalid-literal-for-int-with-base-10-when-it-worked-before", "title": "ValueError: invalid literal for int() with base 10: &#39; &#39; when it worked before", "body": "<p>I'm having some issues with my program, basically what I'm trying to do is Stenography, insert an image into another image and then extract the secret image.</p>\n\n<p>My program is able to insert just fine, but extracting it I get this error.</p>\n\n<p><a href=\"https://i.stack.imgur.com/uMauK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uMauK.png\" alt=\"enter image description here\"></a> </p>\n\n<p>It was working fine the other day, I was able to read and write perfectly. I am also using the same BMP images as the other day as well. Anyone know the issue? I didn't change any of the code from it's working state, I even uploaded to github to make sure that version worked. </p>\n\n<p>There are 3 files of code that is on my github. </p>\n\n<p><a href=\"https://github.com/am3ience/Steganography/blob/master/dcstego.py\" rel=\"nofollow noreferrer\">https://github.com/am3ience/Steganography/blob/master/dcstego.py</a></p>\n\n<p><a href=\"https://github.com/am3ience/Steganography/blob/master/dcimage.py\" rel=\"nofollow noreferrer\">https://github.com/am3ience/Steganography/blob/master/dcimage.py</a></p>\n\n<p><a href=\"https://github.com/am3ience/Steganography/blob/master/dcutils.py\" rel=\"nofollow noreferrer\">https://github.com/am3ience/Steganography/blob/master/dcutils.py</a></p>\n\n<p>The problem seems to be happening in dcutils.py in my read function. Any help would be amazing, i'm stumped. </p>\n\n<pre><code>#examine the lsb of each pixel, grouping into bytes\n#check for nulls to signify if we are dealing with data or header info\n#bytes determined to be data result in the hidden file\n#---------------------------------------------------------------\ndef read(mainimage, output, password):\n    lsbByte_Array = []\n    dataString = \"\"\n    secretFileName = \"\"\n    lsbString = \"\"\n    count = 0#iterator\n    headerReceived=0#flags\n    sizeReceived=0\n    imageObject = dcimage.openFile(mainimage)\n    pixels = imageObject.load()\n    imageWidth, imageHeight = imageObject.size\n\n    #cycle through each pixel\n    for x in range(imageWidth):\n        for y in range(imageHeight):\n            r, g, b = pixels[x, y]\n            #trim so we are dealing with only the least significant bit\n            redPixel = str(bin(r)[2:].zfill(8))[7]\n            greenPixel = str(bin(g)[2:].zfill(8))[7]\n            bluePixel = str(bin(b)[2:].zfill(8))[7]\n            secretBits = [redPixel, greenPixel, bluePixel]\n\n            #for each of rgb\n            for i in range(0,3):\n                #check if our flags are set\n                if (headerReceived == 0 or sizeReceived == 0):\n                    lsbString += secretBits[i]\n\n                    #verify each byte\n                    if len(lsbString) == 8:\n                        lsbByte_Array.append(lsbString)\n\n                        #check if we have received a NULL byte\n                        if lsbString == \"00000000\":\n                            if headerReceived == 0:\n\n                                #convert the the bit array into an ascii String\n                                #set flag when header and size was received\n                                fileName = ''.join(binascii.unhexlify('%x' % int(b,2)) for b in lsbByte_Array[0:len(lsbByte_Array) - 1])\n                                print \"File name: \" + str(fileName)\n                                headerReceived = 1\n                            elif sizeReceived == 0:\n                                 fileSize = ''.join(binascii.unhexlify('%x' % int(b,2)) for b in lsbByte_Array[0:len(lsbByte_Array) - 1])\n                                print \"File size: \" + fileSize\n                                sizeReceived=1\n\n                            #reset the values\n                            lsbByte_Array = []\n                        lsbString = \"\"\n\n                #once headers received, resulting data is hidden data\n                elif (headerReceived == 1 and sizeReceived == 1):\n                    if int(count) &lt; int(fileSize):\n                        #keep appending secret bits to the dataString until depleted\n                        dataString += secretBits[i]\n                        count += 1\n                    else:\n                        #send to have hidden file created\nreturn dcimage.saveImage(output, dataString)\n</code></pre>\n"}, {"tags": ["java", "python", "go", "data-analysis", "metrics"], "comments": [{"owner": {"reputation": 24447, "user_id": 603316, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4db0c2cbf2d5c9c196902dfc9db8218d?s=128&d=identicon&r=PG", "display_name": "Peter", "link": "https://stackoverflow.com/users/603316/peter"}, "edited": false, "score": 0, "creation_date": 1507198565, "post_id": 46575762, "comment_id": 80119106, "body": "<a href=\"https://prometheus.io/\" rel=\"nofollow noreferrer\">prometheus.io</a>"}, {"owner": {"reputation": 869, "user_id": 1903880, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/3a7f0353e763f3e86ca839f199ebc6dd?s=128&d=identicon&r=PG", "display_name": "zhihuifan", "link": "https://stackoverflow.com/users/1903880/zhihuifan"}, "reply_to_user": {"reputation": 24447, "user_id": 603316, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4db0c2cbf2d5c9c196902dfc9db8218d?s=128&d=identicon&r=PG", "display_name": "Peter", "link": "https://stackoverflow.com/users/603316/peter"}, "edited": false, "score": 0, "creation_date": 1507264145, "post_id": 46575762, "comment_id": 80148763, "body": "Thanks @Peter,  but that&#39;s not what I want now, please see my edited version."}, {"owner": {"reputation": 24447, "user_id": 603316, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4db0c2cbf2d5c9c196902dfc9db8218d?s=128&d=identicon&r=PG", "display_name": "Peter", "link": "https://stackoverflow.com/users/603316/peter"}, "edited": false, "score": 0, "creation_date": 1507284372, "post_id": 46575762, "comment_id": 80158246, "body": "<a href=\"https://github.com/etsy/skyline\" rel=\"nofollow noreferrer\">github.com/etsy/skyline</a> used to do this. It was intended for statsd and is no longer maintained, but perhaps it helps your googling efforts. Elasticsearch has something similar now (they call it machine learning) -- that is part of the commercial subscriptions though."}, {"owner": {"reputation": 869, "user_id": 1903880, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/3a7f0353e763f3e86ca839f199ebc6dd?s=128&d=identicon&r=PG", "display_name": "zhihuifan", "link": "https://stackoverflow.com/users/1903880/zhihuifan"}, "reply_to_user": {"reputation": 24447, "user_id": 603316, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4db0c2cbf2d5c9c196902dfc9db8218d?s=128&d=identicon&r=PG", "display_name": "Peter", "link": "https://stackoverflow.com/users/603316/peter"}, "edited": false, "score": 0, "creation_date": 1507422731, "post_id": 46575762, "comment_id": 80203397, "body": "this is exactly what I want.  thank you.   I will search for a implemention for prometheus or an implemention with Python / Go /Java.  skylink is Python code but oculus is Ruby."}], "answers": [{"tags": [], "owner": {"reputation": 479, "user_id": 4586310, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-QHwwwYJ_K8w/AAAAAAAAAAI/AAAAAAAAAaE/cDd3z2Ny0Fk/photo.jpg?sz=128", "display_name": "Jordi Mart&#237;n", "link": "https://stackoverflow.com/users/4586310/jordi-mart%c3%adn"}, "is_accepted": false, "score": 0, "last_activity_date": 1507192943, "creation_date": 1507192943, "answer_id": 46581324, "question_id": 46575762, "link": "https://stackoverflow.com/questions/46575762/metric-pattern-analysis-for-troubleshooting/46581324#46581324", "title": "Metric pattern analysis for troubleshooting", "body": "<p>I think you need some monitoring &amp; analytic services like: </p>\n\n<p>DataDog: <a href=\"https://www.datadoghq.com/\" rel=\"nofollow noreferrer\">https://www.datadoghq.com/</a></p>\n\n<p>Librato: <a href=\"https://www.librato.com/\" rel=\"nofollow noreferrer\">https://www.librato.com/</a></p>\n\n<p>etc...</p>\n\n<p>Or a self hosted infrastructure to run Graphite </p>\n\n<p>(<a href=\"https://github.com/hopsoft/docker-graphite-statsd\" rel=\"nofollow noreferrer\">https://github.com/hopsoft/docker-graphite-statsd</a>) or similar tools.</p>\n"}], "owner": {"reputation": 869, "user_id": 1903880, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/3a7f0353e763f3e86ca839f199ebc6dd?s=128&d=identicon&r=PG", "display_name": "zhihuifan", "link": "https://stackoverflow.com/users/1903880/zhihuifan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 44, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1507264113, "creation_date": 1507160559, "last_edit_date": 1507264113, "question_id": 46575762, "link": "https://stackoverflow.com/questions/46575762/metric-pattern-analysis-for-troubleshooting", "title": "Metric pattern analysis for troubleshooting", "body": "<p>When I troubleshoot some site issues, I need to check many metrics like CPU, memory, application metrics and so on. generally, I want to know the following items automatically (without checking all the metrics one by one by human) :</p>\n\n<ol>\n<li>How many metrics have spikes during that time.</li>\n<li>if metric X has the same pattern with metric Y</li>\n<li>if metric X has some periodicity characters.</li>\n</ol>\n\n<p>for item 1 and 2,  I think I can get it by calculating some change rate.  for item 3, I have no idea so far.</p>\n\n<p>my questions here are:</p>\n\n<ol>\n<li>do we have some library already which can be used here, language (Go, Java, Python is ok).</li>\n<li>do you have any suggestion for requirement 3.</li>\n</ol>\n\n<p>=====</p>\n\n<p>More background here:</p>\n\n<p>I have a Prometheus(a monitor system) setup already, but my issue is I want to analyze these metrics automatically.  For example:\nUser input:\nHere are 1000 time-serial data and I have an issue on time 1 to time 2, I see metrics X has spiked during that time. \nProgram output:\nitem 1/2/3 above. </p>\n\n<p>I just have some issue during implement the program.</p>\n"}, {"tags": ["python", "flask"], "answers": [{"tags": [], "owner": {"reputation": 54548, "user_id": 128141, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70dfb4afd84b106d0855184bf0ae4675?s=128&d=identicon&r=PG", "display_name": "Graham Dumpleton", "link": "https://stackoverflow.com/users/128141/graham-dumpleton"}, "is_accepted": false, "score": 2, "last_activity_date": 1507160901, "creation_date": 1507160901, "answer_id": 46575805, "question_id": 46575758, "link": "https://stackoverflow.com/questions/46575758/invalid-syntax-using-app-route/46575805#46575805", "title": "Invalid Syntax using @app.route", "body": "<p>Missing a closing parenthesis on:</p>\n\n<pre><code>return redirect(url_for('start_game', wordlist=wordlist)\n</code></pre>\n\n<p>If you get a syntax error, if the problem isn't obvious in the line the error reports, look at previous lines for issues like missing parenthesis.</p>\n"}], "owner": {"reputation": 11, "user_id": 8723159, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q61wp.jpg?s=128&g=1", "display_name": "Leo Leite", "link": "https://stackoverflow.com/users/8723159/leo-leite"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2096, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1507168928, "creation_date": 1507160536, "last_edit_date": 1507168928, "question_id": 46575758, "link": "https://stackoverflow.com/questions/46575758/invalid-syntax-using-app-route", "title": "Invalid Syntax using @app.route", "body": "<p>I'm getting a Invalid Syntax in line 22 @app.route('/start') and really don't know why... I'm developing it under a Cloud9 server <a href=\"https://c9.io\" rel=\"nofollow noreferrer\">https://c9.io</a> , maybe that has something to do with it... I tried it in two virtual enviroments with python versions 2.7.3 and 3.4.3.  It's exactly the same syntax of a hello.py that actually does work... </p>\n\n<pre><code>#import random\nimport string\nimport hangman\nimport os\nfrom flask import Flask, \\\n                request, \\\n                render_template, \\\n                url_for, \\\n                redirect, \\\n                flash\n\n\napp = Flask(__name__)\n\n@app.route('/')\n@app.route('/index')\ndef initialize():\n    WORDLIST_FILENAME = \"./resources/words.txt\"\n    wordlist = hangman.loadWords(WORDLIST_FILENAME)\n    return redirect(url_for('start_game', wordlist=wordlist)\n\n@app.route('/start')\ndef start_game(wordlist):\n    secretWord = hangman.chooseWord(wordlist).lower()\n    hangman.hang(secretWord)\n    return None\n\nif __name__ == '__main__':\n#app.debug = True\napp.secret_key = 'MySecretKey'\napp.run(host=os.getenv('IP', '0.0.0.0'), port=int(os.getenv('PORT',5000)))\n</code></pre>\n\n<p>feel free to colaborate branching this project at <a href=\"https://github.com/leomagal/hangman\" rel=\"nofollow noreferrer\">https://github.com/leomagal/hangman</a></p>\n"}, {"tags": ["python", "graph", "networkx"], "answers": [{"tags": [], "owner": {"reputation": 17226, "user_id": 2966723, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e40a62626d129d5df080d4d57c22b53d?s=128&d=identicon&r=PG&f=1", "display_name": "Joel", "link": "https://stackoverflow.com/users/2966723/joel"}, "is_accepted": true, "score": 1, "last_activity_date": 1507162116, "creation_date": 1507162116, "answer_id": 46575987, "question_id": 46575740, "link": "https://stackoverflow.com/questions/46575740/are-networkx-edges-multi-directional/46575987#46575987", "title": "Are networkx edges multi-directional", "body": "<p>It depends on how you've defined your graph <code>graph</code>.</p>\n\n<p>If you create it by</p>\n\n<pre><code>graph = nx.Graph()\ngraph.add_edge(0,1)\ngraph.has_edge(1,0)\n&gt; True\n</code></pre>\n\n<p>then yes, the edges go in both directions.  On the other hand, if you use a directed graph</p>\n\n<pre><code>graph = nx.DiGraph()\ngraph.add_edge(0,1)\ngraph.has_edge(1,0)\n&gt; False\n</code></pre>\n\n<p>then no, the edge has direction.</p>\n"}], "owner": {"reputation": 53, "user_id": 5927617, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/415b65efd5744b4b4395b69ea79d2c87?s=128&d=identicon&r=PG&f=1", "display_name": "Minmater", "link": "https://stackoverflow.com/users/5927617/minmater"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1161, "favorite_count": 0, "accepted_answer_id": 46575987, "answer_count": 1, "score": 1, "last_activity_date": 1507162116, "creation_date": 1507160421, "question_id": 46575740, "link": "https://stackoverflow.com/questions/46575740/are-networkx-edges-multi-directional", "title": "Are networkx edges multi-directional", "body": "<p>Is an edge created by networkx python package multi directional?</p>\n\n<p>eg: \n    <code>graph.add_edge(0,1)</code></p>\n\n<p>This implies there is a path from node 0 to 1, but does this also imply a path from 1 to 0?</p>\n"}, {"tags": ["python", "arrays", "for-loop", "indexing"], "answers": [{"comments": [{"owner": {"reputation": 4232, "user_id": 6772373, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wMTdt.jpg?s=128&g=1", "display_name": "Mike Tung", "link": "https://stackoverflow.com/users/6772373/mike-tung"}, "edited": false, "score": 1, "creation_date": 1507160832, "post_id": 46575778, "comment_id": 80104955, "body": "he would have to error handle if it goes out of bounds right?"}, {"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "reply_to_user": {"reputation": 4232, "user_id": 6772373, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wMTdt.jpg?s=128&g=1", "display_name": "Mike Tung", "link": "https://stackoverflow.com/users/6772373/mike-tung"}, "edited": false, "score": 1, "creation_date": 1507160918, "post_id": 46575778, "comment_id": 80104972, "body": "@MikeTung The whole <code>If you want the current and next, you&#39;ll need to iterate till len(rect) - 1. If you want the previous and current, you&#39;ll need to start iterating from 1.</code> is to handle out of bounds."}], "tags": [], "owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "is_accepted": false, "score": 1, "last_activity_date": 1507160856, "last_edit_date": 1507160856, "creation_date": 1507160670, "answer_id": 46575778, "question_id": 46575735, "link": "https://stackoverflow.com/questions/46575735/python-for-loop-on-two-dimensional-index/46575778#46575778", "title": "Python for loop on two dimensional index", "body": "<p><strong>Option 1</strong><br>\nUse <code>enumerate</code>. If you want the current and next, you'll need to iterate till <code>len(rect) - 1</code>. If you want the previous and current, you'll need to start iterating from 1.</p>\n\n<pre><code>for i, r in enumerate(rects[:-1]):\n    cur = r\n    next = rects[i + 1]\n</code></pre>\n\n<p>Or, </p>\n\n<pre><code>for i, r in enumerate(rects[1:]):\n    prev = rects[-1]\n    cur = r\n</code></pre>\n\n<hr>\n\n<p><strong>Option 2</strong><br>\nYou can use <code>zip</code> to the same effect:</p>\n\n<pre><code>for cur, next in zip(rect, rect[1:]):\n    ...\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 39, "user_id": 7881590, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5fa98a452b37d68078b315ebcd03cc51?s=128&d=identicon&r=PG&f=1", "display_name": "freeflow488", "link": "https://stackoverflow.com/users/7881590/freeflow488"}, "edited": false, "score": 1, "creation_date": 1507164721, "post_id": 46575798, "comment_id": 80105873, "body": "Ok I\u2019ve definitely been staring at this way too long - it didn\u2019t even occur that I can just index the current random number into a new index with [counter] as the iteration! Thank you. This works!"}], "tags": [], "owner": {"reputation": 451, "user_id": 809362, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/mMmYg.jpg?s=128&g=1", "display_name": "Tim Gottgetreu", "link": "https://stackoverflow.com/users/809362/tim-gottgetreu"}, "is_accepted": true, "score": 2, "last_activity_date": 1507160861, "creation_date": 1507160861, "answer_id": 46575798, "question_id": 46575735, "link": "https://stackoverflow.com/questions/46575735/python-for-loop-on-two-dimensional-index/46575798#46575798", "title": "Python for loop on two dimensional index", "body": "<p>its late in the day, but this might do you..</p>\n\n<pre><code>counter = 0\nrandom =[]\nfor rect in rects:\n    randomnumber = random.randint(1,101)\n    random.append(randomnumber)\n    if counter &lt; len(rects)-1:\n        if rects[counter] - rects[counter+1]:\n        pastrand = random[-1]\n        randsubtract = randomnumber - pastrand\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 115587, "user_id": 56541, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/Wm7Xg.png?s=128&g=1", "display_name": "David Z", "link": "https://stackoverflow.com/users/56541/david-z"}, "is_accepted": false, "score": 1, "last_activity_date": 1507161501, "creation_date": 1507161501, "answer_id": 46575895, "question_id": 46575735, "link": "https://stackoverflow.com/questions/46575735/python-for-loop-on-two-dimensional-index/46575895#46575895", "title": "Python for loop on two dimensional index", "body": "<p>As written, you can save the value from the previous loop iteration before assigning a new one.</p>\n\n<pre><code>for ...:\n    pastrand = randomnumber\n    randomnumber = ...\n</code></pre>\n\n<p>Of course you will have to assign something to <code>randomnumber</code> before the loop starts so that the assignment works the very first time through.</p>\n\n<p>An alternative would be to loop over <em>pairs</em> of random numbers rather than computing one random number per loop iteration. For this you can use the <code>pairwise()</code> tool whose implementation is given in the <a href=\"https://docs.python.org/3/library/itertools.html\" rel=\"nofollow noreferrer\"><code>itertools</code> documentation</a> or e.g. in the <a href=\"https://pypi.python.org/pypi/more-itertools\" rel=\"nofollow noreferrer\"><code>more-itertools</code> package</a>. Looping over pairs of random numbers could be done like this:</p>\n\n<pre><code>for rand1, rand2 in pairwise(repeatfunc(random.randint, None, 1, 101)):\n    ...\n</code></pre>\n\n<p>where I have used another itertool, <code>repeatfunc()</code>, to repeatedly call <code>randint()</code>. (You can do this without using <code>repeatfunc()</code> too.) At each iteration of this loop except the first, <code>rand1</code> will be equal to <code>rand2</code> from the previous iteration.</p>\n\n<p>Now, you're going to want to pair each random number with a rectangle (assuming that's what is in <code>rects</code>), right? That you can do using <code>zip()</code>. Specifically, <code>zip(random_numbers, rects)</code> is an iterator over tuples of a random number and a rectangle. You could use it like so:</p>\n\n<pre><code>for randomnumber, rect in zip(random_numbers, rects):\n    ...\n</code></pre>\n\n<p>but you're going to want to iterate over pairs, so you combine <code>pairwise</code> with that:</p>\n\n<pre><code>for r1, r2 in pairwise(zip(random_numbers, rects)):\n    rand1, rect1 = r1\n    rand2, rect2 = r2\n    ...\n</code></pre>\n\n<p>Here <code>random_numbers</code> could be that thing I did earlier with <code>repeatfunc()</code>. This will associate one random number with each rectangle, and give you access to each set of two consecutive number/rectangle pairs.</p>\n"}], "owner": {"reputation": 39, "user_id": 7881590, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5fa98a452b37d68078b315ebcd03cc51?s=128&d=identicon&r=PG&f=1", "display_name": "freeflow488", "link": "https://stackoverflow.com/users/7881590/freeflow488"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 147, "favorite_count": 0, "accepted_answer_id": 46575798, "answer_count": 3, "score": 0, "last_activity_date": 1507161501, "creation_date": 1507160408, "question_id": 46575735, "link": "https://stackoverflow.com/questions/46575735/python-for-loop-on-two-dimensional-index", "title": "Python for loop on two dimensional index", "body": "<p>This may be a simple task, but I am unsure of how to achieve this in Python.</p>\n\n<p>I have a for loop executing on an index in Python. I have a unique value that is defined within each iteration that is cycled through the for loop.</p>\n\n<p>I want to get the value of the NEXT or PREVIOUS for loop unique value. For example, I have:</p>\n\n<pre><code>counter = 0\n\nfor rect in rects:\n    randomnumber = random.randint(1,101)\n    if counter &lt; len(rects)-1:\n        if rects[counter] - rects[counter+1]\n            pastrand = {get random value from PREVIOUS loop iteration}\n            randsubtract = randomnumber - pastrand\n</code></pre>\n\n<p>So how do I get the random number from the previous (or next) iteration to use in the CURRENT iteration in Python? For example:</p>\n\n<pre><code>  randomnumber in rects[0]\n  randomnumber in rects[1]\n</code></pre>\n\n<p>How do I call specific values from iterations in for loops?</p>\n"}, {"tags": ["python", "machine-learning", "scikit-learn", "statistics", "svm"], "answers": [{"tags": [], "owner": {"reputation": 7246, "user_id": 8160718, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/fFhDh.jpg?s=128&g=1", "display_name": "Gambit1614", "link": "https://stackoverflow.com/users/8160718/gambit1614"}, "is_accepted": false, "score": -1, "last_activity_date": 1507186692, "creation_date": 1507186692, "answer_id": 46579646, "question_id": 46575729, "link": "https://stackoverflow.com/questions/46575729/find-the-most-import-features-for-a-svm-classification/46579646#46579646", "title": "Find the most import features for a SVM classification", "body": "<p>You can use <a href=\"http://scikit-learn.org/stable/modules/feature_selection.html#feature-selection-using-selectfrommodel\" rel=\"nofollow noreferrer\">SelectFromModel in sklearn</a> to get the names of the most relevant features of your model. <a href=\"http://scikit-learn.org/stable/auto_examples/feature_selection/plot_select_from_model_boston.html#sphx-glr-auto-examples-feature-selection-plot-select-from-model-boston-py\" rel=\"nofollow noreferrer\">Here is an example</a> of extracting the features for LassoCV.</p>\n\n<p>You can also check out <a href=\"https://medium.com/@aneesha/visualising-top-features-in-linear-svm-with-scikit-learn-and-matplotlib-3454ab18a14d\" rel=\"nofollow noreferrer\">this example</a> which makes use of <code>coef_</code> attribute in SVM to visualize the top most features.</p>\n"}, {"tags": [], "owner": {"reputation": 664, "user_id": 2055586, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e4e555de2baf5375726fc5db8ba02506?s=128&d=identicon&r=PG", "display_name": "rigsby", "link": "https://stackoverflow.com/users/2055586/rigsby"}, "is_accepted": false, "score": 1, "last_activity_date": 1507207525, "last_edit_date": 1507207525, "creation_date": 1507205045, "answer_id": 46585173, "question_id": 46575729, "link": "https://stackoverflow.com/questions/46575729/find-the-most-import-features-for-a-svm-classification/46585173#46585173", "title": "Find the most import features for a SVM classification", "body": "<p>So, how do we interpret feature significance for a given sample's classification?</p>\n\n<p>I think using a linear kernel is the most straightforward way to first approach this because of the significance/relative simplicity of the <code>svc.coef_</code> attribute of a trained model. <a href=\"https://stats.stackexchange.com/a/39311\">check out Bitwise's answer</a>.</p>\n\n<p>Below I will train a linear kernel SVM using <code>scikit</code> training data. Then we will look at the <code>coef_</code> attribute. I will include a simple plot showing how the dot product of the classifier's coefficients and training feature data divide the resulting classes.</p>\n\n<pre><code>from sklearn import svm\nfrom sklearn.datasets import load_breast_cancer\nimport numpy as np\nimport matplotlib.pyplot as plt\n\ndata = load_breast_cancer()\nX = data.data                # training features\ny = data.target              # training labels\nlin_clf = svm.SVC(kernel='linear')\nlin_clf.fit(X,y)\n\nscores = np.dot(X, lin_clf.coef_.T)\n\nb0 = y==0 # boolean or \"mask\" index arrays\nb1 = y==1\nmalignant_scores = scores[b1]\nbenign_scores = scores[b1]\n\nfig  = plt.figure()\nfig.suptitle(\"score breakdown by classification\", fontsize=14, fontweight='bold')\nscore_box_plt = ply.boxplot(\n    [malignant_scores, benign_scores],\n    notch=True,\n    labels=list(data.target_names),\n    vert=False\n)\nplt.show(score_box_plt)        \n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/SX0hm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SX0hm.png\" alt=\"score_box_plt\"></a></p>\n\n<p>As you can see we do seem to have accessed the appropriate intercept and coefficient values. There is obvious separation of class scores with our decision boundary hovering around 0.</p>\n\n<p>Now that we have a scoring system based on our linear coefficients we can easily investigate how each feature contributed to final classification. Here we display each features effect on the final score of that sample.</p>\n\n<pre><code>## sample we're using X[2] --&gt; classified benign, lin_clf score~(-20)\nlin_clf.predict(X[2].reshape(1,30))\n\ncontributions = np.multiply(X[2], lin_clf.coef_.reshape((30,)))\nfeature_number = np.arange(len(contributions)) +1\n\nplt.bar(feature_number, contributions, align='center')\nplt.xlabel('feature index')\nplt.ylabel('score contribution')\nplt.title('contribution to classification outcome by feature index')\nplt.show(feature_contrib_bar)\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/be52D.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/be52D.png\" alt=\"contribution to classification outcome by feature index\"></a></p>\n\n<p>We can also simply sort this same data to get a contribution-ranked list of features for a given classification to see which feature contributed the most to the <code>score</code> we are assessing the composition of.</p>\n\n<pre><code>abs_contributions = np.flip(np.sort(np.absolute(contributions)), axis=0)\nfeat_and_contrib = []\nfor contrib in abs_contributions:\n   if contrib not in contributions:\n       contrib = -contrib\n       feat = np.where(contributions == contrib)\n       feat_and_contrib.append((feat[0][0], contrib))\n   else:\n       feat = np.where(contributions == contrib)\n       feat_and_contrib.append((feat[0][0], contrib))\n\n# sorted by max abs value. each row a tuple:;(feature index, contrib)\nfeat_and_contrib \n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/RfwXt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RfwXt.png\" alt=\"contribution-ranked list including feature index\"></a></p>\n\n<p>From that ranked list we can see that the top five feature indices that contributed to the final score (of around -20 along with a classification 'benign') were <code>[0, 22, 13, 2, 21]</code> which correspond to the feature names in our data set; <code>['mean radius', 'worst perimeter', 'area error', 'mean perimeter', 'worst texture']</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 8593767, "user_type": "registered", "profile_image": "https://graph.facebook.com/1489778754450237/picture?type=large", "display_name": "Mushtaq Patel", "link": "https://stackoverflow.com/users/8593767/mushtaq-patel"}, "is_accepted": false, "score": 0, "last_activity_date": 1543088605, "creation_date": 1543088605, "answer_id": 53461760, "question_id": 46575729, "link": "https://stackoverflow.com/questions/46575729/find-the-most-import-features-for-a-svm-classification/53461760#53461760", "title": "Find the most import features for a SVM classification", "body": "<p>Suppose You have Bag of word Featurization and you want to know which words are important\nfor classification then use this code for linear svm</p>\n\n<pre><code>weights = np.abs(lr_svm.coef_[0])\nsorted_index = np.argsort(wt)[::-1]\ntop_10 = sorted_index[:10]\nterms = text_vectorizer.get_feature_names()\nfor ind in top_10:\n    print(terms[ind])\n</code></pre>\n"}], "owner": {"reputation": 9, "user_id": 8723255, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155953354354560/picture?type=large", "display_name": "Andr&#233; Teixeira", "link": "https://stackoverflow.com/users/8723255/andr%c3%a9-teixeira"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2601, "favorite_count": 0, "answer_count": 3, "score": -1, "last_activity_date": 1543088605, "creation_date": 1507160347, "last_edit_date": 1507269685, "question_id": 46575729, "link": "https://stackoverflow.com/questions/46575729/find-the-most-import-features-for-a-svm-classification", "title": "Find the most import features for a SVM classification", "body": "<p>I'm training a <em>binary classifier</em> using <code>python</code> and the popular <code>scikit-learn</code> module's <code>SVM</code> class. After training I use the <code>predict</code> method to make a classification as laid out in <a href=\"http://scikit-learn.org/stable/modules/svm.html#classification\" rel=\"nofollow noreferrer\">sci-kit's SVC documentation</a>. </p>\n\n<p>I would like to know more about the significance of my sample features to the resulting classification made by the trained <code>decision_function</code> (support vectors). Any strategies for evaluating feature significance when making predictions with such a model are welcome.</p>\n\n<p>Thanks!\nAndre</p>\n"}, {"tags": ["python", "r", "d3.js", "matplotlib", "ggplot2"], "answers": [{"comments": [{"owner": {"reputation": 1340, "user_id": 5552014, "user_type": "registered", "accept_rate": 52, "profile_image": "https://lh3.googleusercontent.com/--_ZWSqH8tU0/AAAAAAAAAAI/AAAAAAAABoI/AIL-0NU4Bg0/photo.jpg?sz=128", "display_name": "Nate Gardner", "link": "https://stackoverflow.com/users/5552014/nate-gardner"}, "edited": false, "score": 0, "creation_date": 1507323137, "post_id": 46577195, "comment_id": 80179619, "body": "This is really cool! But I&#39;m unable to replicate it. When I run your code, it comes out looking like this: <a href=\"https://imgur.com/OtgRhKK\" rel=\"nofollow noreferrer\">imgur.com/OtgRhKK</a>"}, {"owner": {"reputation": 81286, "user_id": 496488, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/xnGDw.jpg?s=128&g=1", "display_name": "eipi10", "link": "https://stackoverflow.com/users/496488/eipi10"}, "reply_to_user": {"reputation": 1340, "user_id": 5552014, "user_type": "registered", "accept_rate": 52, "profile_image": "https://lh3.googleusercontent.com/--_ZWSqH8tU0/AAAAAAAAAAI/AAAAAAAABoI/AIL-0NU4Bg0/photo.jpg?sz=128", "display_name": "Nate Gardner", "link": "https://stackoverflow.com/users/5552014/nate-gardner"}, "edited": false, "score": 0, "creation_date": 1507323700, "post_id": 46577195, "comment_id": 80179861, "body": "I&#39;m not sure what&#39;s causing some of the segments to not be portions of circular arcs. However, I suspect that the very long blue arc is due to a trip that started before midnight on a Saturday and continued past midnight into Sunday. I&#39;ll have to think about how to deal with that. You could also change the <code>breaks</code> in <code>scale_y_datetime</code> to cover the full date range of your data."}, {"owner": {"reputation": 1340, "user_id": 5552014, "user_type": "registered", "accept_rate": 52, "profile_image": "https://lh3.googleusercontent.com/--_ZWSqH8tU0/AAAAAAAAAAI/AAAAAAAABoI/AIL-0NU4Bg0/photo.jpg?sz=128", "display_name": "Nate Gardner", "link": "https://stackoverflow.com/users/5552014/nate-gardner"}, "edited": false, "score": 0, "creation_date": 1507324691, "post_id": 46577195, "comment_id": 80180259, "body": "I&#39;ve updated the dataset to include more data. I edited breaks to cover a wider daterange but I&#39;m still ending up with week-long circles and a lot of oddly angled lines. <a href=\"https://imgur.com/ZAoQTVH\" rel=\"nofollow noreferrer\">imgur.com/ZAoQTVH</a>"}, {"owner": {"reputation": 1340, "user_id": 5552014, "user_type": "registered", "accept_rate": 52, "profile_image": "https://lh3.googleusercontent.com/--_ZWSqH8tU0/AAAAAAAAAAI/AAAAAAAABoI/AIL-0NU4Bg0/photo.jpg?sz=128", "display_name": "Nate Gardner", "link": "https://stackoverflow.com/users/5552014/nate-gardner"}, "edited": false, "score": 0, "creation_date": 1507760687, "post_id": 46577195, "comment_id": 80344564, "body": "I retried with the same dataset I provided originally and I&#39;m still getting the crosshatch effect, but the week-long circles are gone. What version of R are you using?"}], "tags": [], "owner": {"reputation": 81286, "user_id": 496488, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/xnGDw.jpg?s=128&g=1", "display_name": "eipi10", "link": "https://stackoverflow.com/users/496488/eipi10"}, "is_accepted": false, "score": 7, "last_activity_date": 1507172429, "creation_date": 1507172429, "answer_id": 46577195, "question_id": 46575723, "link": "https://stackoverflow.com/questions/46575723/creating-a-temporal-range-time-series-spiral-plot/46577195#46577195", "title": "Creating a temporal range time-series spiral plot", "body": "<p>Here's a start. Let me know if this is what you had in mind.</p>\n\n<p>I began with your data sample and put <code>trip_start</code> and <code>trip_stop</code> into <code>POSIXct</code> format before continuing with the code below. </p>\n\n<pre><code>library(tidyverse)\nlibrary(lubridate)\n\ndat = dat %&gt;% \n  mutate(start=(hour(trip_start)*60 + minute(trip_start) + second(trip_start))/(24*60) + wday(trip_start),\n         stop=(hour(trip_stop)*60 + minute(trip_stop) + second(trip_stop))/(24*60) + wday(trip_stop),\n         tod = case_when(hour(trip_start) &lt; 6 ~ \"night\",\n                         hour(trip_start) &lt; 12 ~ \"morning\",\n                         hour(trip_start) &lt; 18 ~ \"afternoon\",\n                         hour(trip_start) &lt; 24 ~ \"evening\"))\n\nggplot(dat) +\n  geom_segment(aes(x=start, xend=stop, \n                   y=trip_start, \n                   yend=trip_stop, \n                   colour=tod), \n               size=5, show.legend = FALSE) +\n  coord_polar() +\n  scale_y_datetime(breaks=seq(as.POSIXct(\"2017-09-01\"), as.POSIXct(\"2017-12-31\"), by=\"week\")) +\n  scale_x_continuous(limits=c(1,8), breaks=1:7, \n                     labels=weekdays(x=as.Date(seq(7)+2, origin=\"1970-01-01\"), \n                                     abbreviate=TRUE))+\n  expand_limits(y=as.POSIXct(\"2017-08-25\")) +\n  theme_bw() +\n  scale_colour_manual(values=c(night=\"black\", morning=\"orange\",\n                               afternoon=\"orange\", evening=\"blue\")) +\n  labs(x=\"\",y=\"\")\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/JFKH6.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/JFKH6.png\" alt=\"enter image description here\"></a></p>\n"}, {"comments": [{"owner": {"reputation": 1340, "user_id": 5552014, "user_type": "registered", "accept_rate": 52, "profile_image": "https://lh3.googleusercontent.com/--_ZWSqH8tU0/AAAAAAAAAAI/AAAAAAAABoI/AIL-0NU4Bg0/photo.jpg?sz=128", "display_name": "Nate Gardner", "link": "https://stackoverflow.com/users/5552014/nate-gardner"}, "edited": false, "score": 0, "creation_date": 1526632837, "post_id": 50407082, "comment_id": 87829717, "body": "Great start! How tolerant is this of long events? It appears the events are made of individual rectangles rather than arcs. While this works for short events, the longer the event, the greater the probability of overlap with other events. Is there a way to give them curvature?"}, {"owner": {"reputation": 4478, "user_id": 5629339, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/c57327d92db7f6de591a7f0d25c0fe69?s=128&d=identicon&r=PG&f=1", "display_name": "filippo", "link": "https://stackoverflow.com/users/5629339/filippo"}, "reply_to_user": {"reputation": 1340, "user_id": 5552014, "user_type": "registered", "accept_rate": 52, "profile_image": "https://lh3.googleusercontent.com/--_ZWSqH8tU0/AAAAAAAAAAI/AAAAAAAABoI/AIL-0NU4Bg0/photo.jpg?sz=128", "display_name": "Nate Gardner", "link": "https://stackoverflow.com/users/5552014/nate-gardner"}, "edited": false, "score": 0, "creation_date": 1526633019, "post_id": 50407082, "comment_id": 87829829, "body": "@NateGardner do you have some sample data with longer events to share? they are spiral arcs so they shouldn&#39;t overlap unless the line width is too thick"}, {"owner": {"reputation": 4478, "user_id": 5629339, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/c57327d92db7f6de591a7f0d25c0fe69?s=128&d=identicon&r=PG&f=1", "display_name": "filippo", "link": "https://stackoverflow.com/users/5629339/filippo"}, "reply_to_user": {"reputation": 1340, "user_id": 5552014, "user_type": "registered", "accept_rate": 52, "profile_image": "https://lh3.googleusercontent.com/--_ZWSqH8tU0/AAAAAAAAAAI/AAAAAAAABoI/AIL-0NU4Bg0/photo.jpg?sz=128", "display_name": "Nate Gardner", "link": "https://stackoverflow.com/users/5552014/nate-gardner"}, "edited": false, "score": 0, "creation_date": 1526633930, "post_id": 50407082, "comment_id": 87830435, "body": "@NateGardner see the edit, no overlapping with an event covering the whole timeline"}], "tags": [], "owner": {"reputation": 4478, "user_id": 5629339, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/c57327d92db7f6de591a7f0d25c0fe69?s=128&d=identicon&r=PG&f=1", "display_name": "filippo", "link": "https://stackoverflow.com/users/5629339/filippo"}, "is_accepted": true, "score": 17, "last_activity_date": 1526893037, "last_edit_date": 1526893037, "creation_date": 1526632465, "answer_id": 50407082, "question_id": 46575723, "link": "https://stackoverflow.com/questions/46575723/creating-a-temporal-range-time-series-spiral-plot/50407082#50407082", "title": "Creating a temporal range time-series spiral plot", "body": "<p>Still needs work, but it's a start, with python and matplotlib.</p>\n\n<p>The idea is to plot a spiral timeline in polar coordinates with 1 week period, each event is an arc of this spiral with a color depending on <code>dist</code> data.</p>\n\n<p>There are lots of overlapping intervals though that this visualization tends to hide... maybe semitransparent arcs could be better, with a carefully chosen colormap.</p>\n\n<pre><code>import numpy as np\nimport matplotlib as mpl\nimport matplotlib.pyplot as plt\nimport matplotlib.patheffects as mpe\nimport pandas as pd\n\n# styling\nLINEWIDTH=4\nEDGEWIDTH=1\nCAPSTYLE=\"projecting\"\nCOLORMAP=\"viridis_r\"\nALPHA=1\nFIRSTDAY=6 # 0=Mon, 6=Sun\n\n# load dataset and parse timestamps\ndf = pd.read_csv('trips.csv')\ndf[['trip_start', 'trip_stop']] = df[['trip_start', 'trip_stop']].apply(pd.to_datetime)\n\n# set origin at the first FIRSTDAY before the first trip, midnight\nfirst_trip = df['trip_start'].min()\norigin = (first_trip - pd.to_timedelta(first_trip.weekday() - FIRSTDAY, unit='d')).replace(hour=0, minute=0, second=0)\nweekdays = pd.date_range(origin, origin + np.timedelta64(1, 'W')).strftime(\"%a\").tolist()\n\n# # convert trip timestamps to week fractions\ndf['start'] = (df['trip_start'] - origin) / np.timedelta64(1, 'W')\ndf['stop']  = (df['trip_stop']  - origin) / np.timedelta64(1, 'W')\n\n# sort dataset so shortest trips are plotted last\n# should prevent longer events to cover shorter ones, still suboptimal\ndf = df.sort_values('dist', ascending=False).reset_index()\n\nfig = plt.figure(figsize=(8, 6))\nax = fig.gca(projection=\"polar\")\n\nfor idx, event in df.iterrows():\n    # sample normalized distance from colormap\n    ndist = event['dist'] / df['dist'].max()\n    color = plt.cm.get_cmap(COLORMAP)(ndist)\n    tstart, tstop = event.loc[['start', 'stop']]\n    # timestamps are in week fractions, 2pi is one week\n    nsamples = int(1000. * (tstop - tstart))\n    t = np.linspace(tstart, tstop, nsamples)\n    theta = 2 * np.pi * t\n    arc, = ax.plot(theta, t, lw=LINEWIDTH, color=color, solid_capstyle=CAPSTYLE, alpha=ALPHA)\n    if EDGEWIDTH &gt; 0:\n        arc.set_path_effects([mpe.Stroke(linewidth=LINEWIDTH+EDGEWIDTH, foreground='black'), mpe.Normal()])\n\n# grid and labels\nax.set_rticks([])\nax.set_theta_zero_location(\"N\")\nax.set_theta_direction(-1)\nax.set_xticks(np.linspace(0, 2*np.pi, 7, endpoint=False))\nax.set_xticklabels(weekdays)\nax.tick_params('x', pad=2)\nax.grid(True)\n# setup a custom colorbar, everything's always a bit tricky with mpl colorbars\nvmin = df['dist'].min()\nvmax = df['dist'].max()\nnorm = mpl.colors.Normalize(vmin=vmin, vmax=vmax)\nsm = plt.cm.ScalarMappable(cmap=COLORMAP, norm=norm)\nsm.set_array([])\nplt.colorbar(sm, ticks=np.linspace(vmin, vmax, 10), fraction=0.04, aspect=60, pad=0.1, label=\"distance\", ax=ax)\n\nplt.savefig(\"spiral.png\", pad_inches=0, bbox_inches=\"tight\")\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/dCeen.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/dCeen.png\" alt=\"trips plot\"></a></p>\n\n<h2>Full timeline</h2>\n\n<p>To see it's a spiral that never overlaps and it works for longer events too you can plot the full timeline (here with <code>LINEWIDTH=3.5</code> to limit moir\u00e9 fringing).</p>\n\n<pre><code>fullt = np.linspace(df['start'].min(), df['stop'].max(), 10000)\ntheta = 2 * np.pi * fullt\nax.plot(theta, fullt, lw=LINEWIDTH,\n        path_effects=[mpe.Stroke(linewidth=LINEWIDTH+LINEBORDER, foreground='black'), mpe.Normal()])\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/MZ9J2.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/MZ9J2.png\" alt=\"full timeline\"></a></p>\n\n<h2>Example with a random set...</h2>\n\n<p>Here's the plot for a random dataset of <code>200</code> mainly short trips with the occasional 1 to 2 weeks long ones.</p>\n\n<pre><code>N = 200\ndf = pd.DataFrame()\ndf[\"start\"] = np.random.uniform(0, 20, size=N)\ndf[\"stop\"] = df[\"start\"] + np.random.choice([np.random.uniform(0, 0.1),\n                                             np.random.uniform(1., 2.)], p=[0.98, 0.02], size=N)\ndf[\"dist\"] = np.random.random(size=N)\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/yPiLH.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/yPiLH.png\" alt=\"random events\"></a></p>\n\n<h2>... and different styles</h2>\n\n<p><code>inferno_r</code> color map, rounded or butted linecaps, semitransparent, bolder edges, etc (<em>click for full size</em>)</p>\n\n<p><a href=\"https://i.stack.imgur.com/lKHZW.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/lKHZWm.png\" alt=\"rounded edges, less crowded\"></a>\n<a href=\"https://i.stack.imgur.com/7rb29.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/7rb29m.png\" alt=\"white rounded edges\"></a>\n<a href=\"https://i.stack.imgur.com/UY5SD.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/UY5SDm.png\" alt=\"semitransparent\"></a>\n<a href=\"https://i.stack.imgur.com/XmfkN.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/XmfkNm.png\" alt=\"butted overlapping\"></a></p>\n"}, {"comments": [{"owner": {"reputation": 1340, "user_id": 5552014, "user_type": "registered", "accept_rate": 52, "profile_image": "https://lh3.googleusercontent.com/--_ZWSqH8tU0/AAAAAAAAAAI/AAAAAAAABoI/AIL-0NU4Bg0/photo.jpg?sz=128", "display_name": "Nate Gardner", "link": "https://stackoverflow.com/users/5552014/nate-gardner"}, "edited": false, "score": 0, "creation_date": 1527177649, "post_id": 50485909, "comment_id": 88039782, "body": "I wish I could give the bounty to both the selected answer and this answer. This is very cool."}, {"owner": {"reputation": 30153, "user_id": 7106086, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/V7fFc.png?s=128&g=1", "display_name": "Andrew Reid", "link": "https://stackoverflow.com/users/7106086/andrew-reid"}, "reply_to_user": {"reputation": 1340, "user_id": 5552014, "user_type": "registered", "accept_rate": 52, "profile_image": "https://lh3.googleusercontent.com/--_ZWSqH8tU0/AAAAAAAAAAI/AAAAAAAABoI/AIL-0NU4Bg0/photo.jpg?sz=128", "display_name": "Nate Gardner", "link": "https://stackoverflow.com/users/5552014/nate-gardner"}, "edited": false, "score": 0, "creation_date": 1527190703, "post_id": 50485909, "comment_id": 88046415, "body": "No worries,  the compliment is plenty."}], "tags": [], "owner": {"reputation": 30153, "user_id": 7106086, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/V7fFc.png?s=128&g=1", "display_name": "Andrew Reid", "link": "https://stackoverflow.com/users/7106086/andrew-reid"}, "is_accepted": false, "score": 7, "last_activity_date": 1527071079, "creation_date": 1527071079, "answer_id": 50485909, "question_id": 46575723, "link": "https://stackoverflow.com/questions/46575723/creating-a-temporal-range-time-series-spiral-plot/50485909#50485909", "title": "Creating a temporal range time-series spiral plot", "body": "<p>This could be achieved relatively straightforwardly with d3. I'll use your data to create a rough template of one basic possible approach. Here's what the result of this approach might look like:</p>\n\n<p><a href=\"https://i.stack.imgur.com/LU7HO.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/LU7HO.png\" alt=\"enter image description here\"></a></p>\n\n<p>The key ingredient is d3's <a href=\"https://github.com/d3/d3-shape#lineRadial\" rel=\"noreferrer\">radial line</a> component that lets us define a line by plotting angle and radius (<a href=\"https://stackoverflow.com/a/40559255/7106086\">here's</a> a recent answer showing another spiral graph, that answer started me down the path on this answer).</p>\n\n<p>All we need to do is scale angle and radius to be able to use this effectively (for which we need the first time and last time in the dataset):</p>\n\n<pre><code>var angle = d3.scaleTime()\n  .domain([start,end])\n  .range([0,Math.PI * 2 * numberWeeks])\n\nvar radius = d3.scaleTime()\n  .domain([start,end])\n  .range([minInnerRadius,maxOuterRadius])\n</code></pre>\n\n<p>And from there we can create a spiral quite easily, we sample some dates throughout the interval and then pass them to the radial line function:</p>\n\n<pre><code>var spiral = d3.radialLine()\n    .curve(d3.curveCardinal)\n    .angle(angle)\n    .radius(radius);\n</code></pre>\n\n<p>Here's a <a href=\"https://bl.ocks.org/andrew-reid/b11f11a50d28ec4d625b738f3e63b7b5\" rel=\"noreferrer\">quick demonstration</a> of just the spiral covering your time period. <em>I'm assuming a base familiarity with d3 for this answer, so have not touched on a few parts of the code.</em></p>\n\n<p>Once we have that, it's just a matter of adding sections from the data. The most simple way would be to plainly draw a stroke with some width and color it appropriately. This requires the same as above, but rather than sampling points from the start and end times of the dataset, we just need the start and end times of each datum:</p>\n\n<pre><code>    // append segments on spiral:  \n    var segments = g.selectAll()\n      .data(data)\n      .enter()\n      .append(\"path\")\n      .attr(\"d\", function(d) {\n        return /* sample points and feed to spiral function here */;\n      })\n      .style(\"stroke-width\", /* appropriate width here */ )\n      .style(\"stroke\",function(d) { return /* color logic here */ })\n</code></pre>\n\n<p>This might look something like <a href=\"https://bl.ocks.org/Andrew-Reid/d6d955b343460cb4cd817207ff2874c8\" rel=\"noreferrer\">this</a> (with data mouseover).</p>\n\n<p>This is just a proof of concept, if you were looking for more control and a nicer look, you could create a polygonal path for each data entry and use both fill &amp; stroke. As is, you'll have to make do with layering strokes to get borders if desired and svg manipulations like line capping options. </p>\n\n<p>Also, as it's d3, and longer timespans may be hard to show all at once, you could show less time but rotate the spiral so that it animates through your time span, dropping off events at the end and creating them in the origin. The actual chart might need to be canvas for this to happen smoothly depending on number of nodes, but to convert to canvas is relatively trivial in this case.</p>\n\n<hr>\n\n<p>For the sake of filling out the visualization a little with a legend and day labels, <a href=\"https://bl.ocks.org/Andrew-Reid/7d8f409a91469b79685db577b24954c6\" rel=\"noreferrer\">this</a> is what I have.</p>\n"}], "owner": {"reputation": 1340, "user_id": 5552014, "user_type": "registered", "accept_rate": 52, "profile_image": "https://lh3.googleusercontent.com/--_ZWSqH8tU0/AAAAAAAAAAI/AAAAAAAABoI/AIL-0NU4Bg0/photo.jpg?sz=128", "display_name": "Nate Gardner", "link": "https://stackoverflow.com/users/5552014/nate-gardner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1754, "favorite_count": 6, "accepted_answer_id": 50407082, "answer_count": 3, "score": 13, "last_activity_date": 1527071079, "creation_date": 1507160292, "last_edit_date": 1507324419, "question_id": 46575723, "link": "https://stackoverflow.com/questions/46575723/creating-a-temporal-range-time-series-spiral-plot", "title": "Creating a temporal range time-series spiral plot", "body": "<p>Similarly to <a href=\"https://stackoverflow.com/questions/39480841/how-to-create-a-time-spiral-graph-using-r\">this question</a>, I'm interested in creating time series spirals. The solution doesn't necessarily have to be implemented in R or using ggplot, but it seems the majority of solutions have been implemented in R with ggplot, with a handful in Python and one in d3. My attempts so far have all used R. Unlike this question, I'm interested in displaying specific ranges of data without quantizing/binning the data. That is, I'd like to display a spiral timeline showing when particular events start and stop, where theta-min and theta-max of every event represent specific points in time.</p>\n\n<p>Consider this travel data:</p>\n\n<pre><code>         trip_start            trip_stop    dist\n2017-04-01 17:42:00  2017-04-01 18:34:00    1.95\n2017-04-01 18:42:00  2017-04-01 19:05:00    6.54\n2017-04-02 01:09:00  2017-04-02 01:12:00    1.07\n2017-04-02 01:22:00  2017-04-02 01:27:00    1.03\n2017-04-02 08:17:00  2017-04-02 08:23:00    1.98\n2017-04-02 11:23:00  2017-04-02 11:30:00    1.98\n2017-04-02 15:44:00  2017-04-02 15:56:00    4.15\n2017-04-02 16:29:00  2017-04-02 16:45:00    4.08\n2017-04-03 10:24:00  2017-04-03 10:55:00    19.76\n2017-04-03 14:01:00  2017-04-03 14:18:00    8.21\n2017-04-03 14:25:00  2017-04-03 14:31:00    1.49\n2017-04-03 14:45:00  2017-04-03 14:50:00    1.59\n2017-04-03 15:44:00  2017-04-03 16:10:00    4.44\n2017-04-03 16:14:00  2017-04-03 16:37:00    9.96\n2017-04-03 16:40:00  2017-04-03 16:45:00    0.7\n2017-04-03 17:15:00  2017-04-03 17:46:00    16.92\n2017-04-03 17:56:00  2017-04-03 18:19:00    5.23\n2017-04-03 18:42:00  2017-04-03 18:45:00    0.49\n2017-04-03 19:02:00  2017-04-03 19:04:00    0.48\n2017-04-04 07:24:00  2017-04-04 07:27:00    0.66\n2017-04-04 07:30:00  2017-04-04 08:04:00    13.55\n2017-04-04 08:32:00  2017-04-04 09:25:00    25.09\n2017-04-04 13:32:00  2017-04-04 13:40:00    3.06\n2017-04-04 13:52:00  2017-04-04 13:57:00    1.3\n2017-04-04 14:55:00  2017-04-04 15:01:00    2.47\n2017-04-04 18:40:00  2017-04-04 19:12:00    22.71\n2017-04-04 22:16:00  2017-04-04 23:54:00    38.28\n2017-04-04 23:59:00  2017-04-05 00:03:00    1.02\n2017-04-05 11:04:00  2017-04-05 11:49:00    25.73\n2017-04-05 12:05:00  2017-04-05 12:18:00    2.97\n2017-04-05 15:19:00  2017-04-05 16:25:00    25.13\n2017-04-05 16:38:00  2017-04-05 16:40:00    0.41\n2017-04-05 18:58:00  2017-04-05 19:02:00    1.25\n2017-04-05 19:13:00  2017-04-05 19:18:00    1.09\n2017-04-05 19:25:00  2017-04-05 19:48:00    6.63\n2017-04-06 10:01:00  2017-04-06 10:44:00    20.81\n2017-04-06 13:22:00  2017-04-06 13:33:00    1.63\n2017-04-06 20:58:00  2017-04-06 21:25:00    24.85\n2017-04-06 21:32:00  2017-04-06 21:56:00    6.06\n2017-04-07 10:55:00  2017-04-07 11:37:00    24.53\n2017-04-07 17:14:00  2017-04-07 17:48:00    19.66\n2017-04-07 17:57:00  2017-04-07 18:07:00    2.12\n2017-04-08 20:57:00  2017-04-08 21:06:00    1.06\n2017-04-08 21:23:00  2017-04-08 21:36:00    2.97\n2017-04-09 08:14:00  2017-04-09 08:19:00    1.99\n2017-04-09 11:40:00  2017-04-09 11:50:00    2.24\n2017-04-09 11:50:00  2017-04-09 11:57:00    1.64\n2017-04-09 16:29:00  2017-04-09 16:34:00    0.53\n2017-04-09 16:43:00  2017-04-09 16:45:00    0.5\n2017-04-09 17:46:00  2017-04-09 17:48:00    0.44\n2017-04-09 17:53:00  2017-04-09 17:56:00    0.4\n2017-04-09 21:33:00  2017-04-09 21:56:00    2.48\n2017-04-09 21:57:00  2017-04-09 22:14:00    2.92\n2017-04-09 22:22:00  2017-04-09 22:25:00    0.9\n2017-04-10 10:37:00  2017-04-10 11:22:00    19.27\n2017-04-10 16:12:00  2017-04-10 16:59:00    21.31\n2017-04-11 11:14:00  2017-04-11 11:18:00    1.24\n2017-04-11 11:21:00  2017-04-11 11:48:00    22.95\n2017-04-11 18:24:00  2017-04-11 19:05:00    28.64\n2017-04-11 19:21:00  2017-04-11 19:34:00    5.37\n2017-04-12 11:00:00  2017-04-12 12:08:00    28.91\n2017-04-12 14:03:00  2017-04-12 15:20:00    28.56\n2017-04-12 20:24:00  2017-04-12 20:29:00    1.17\n2017-04-12 20:32:00  2017-04-12 21:09:00    30.89\n2017-04-13 01:37:00  2017-04-13 02:09:00    32.3\n2017-04-13 08:08:00  2017-04-13 08:39:00    19.39\n2017-04-13 10:53:00  2017-04-13 11:23:00    24.59\n2017-04-13 18:56:00  2017-04-13 19:22:00    22.74\n2017-04-14 01:06:00  2017-04-14 01:37:00    31.36\n2017-04-14 01:48:00  2017-04-14 01:51:00    1.03\n2017-04-14 12:08:00  2017-04-14 12:22:00    1.94\n2017-04-14 12:29:00  2017-04-14 13:01:00    19.07\n2017-04-14 16:17:00  2017-04-14 17:03:00    19.74\n2017-04-14 17:05:00  2017-04-14 17:32:00    3.99\n2017-04-14 21:57:00  2017-04-14 22:02:00    1.98\n2017-04-15 01:46:00  2017-04-15 01:49:00    1.07\n2017-04-15 01:56:00  2017-04-15 01:58:00    1.03\n2017-04-15 07:13:00  2017-04-15 07:15:00    0.45\n2017-04-15 07:19:00  2017-04-15 07:21:00    0.41\n2017-04-15 15:54:00  2017-04-15 16:05:00    1.94\n2017-04-15 22:23:00  2017-04-15 22:26:00    0.86\n2017-04-15 22:46:00  2017-04-15 22:47:00    0.25\n2017-04-15 22:51:00  2017-04-15 22:53:00    0.71\n2017-04-16 11:35:00  2017-04-16 11:54:00    11.4\n2017-04-16 11:58:00  2017-04-16 12:15:00    10.43\n2017-04-17 10:44:00  2017-04-17 10:53:00    3.04\n2017-04-17 10:55:00  2017-04-17 11:22:00    18.26\n2017-04-17 18:09:00  2017-04-17 18:12:00    0.85\n2017-04-17 18:21:00  2017-04-17 19:07:00    37.22\n2017-04-18 02:07:00  2017-04-18 02:47:00    32.41\n2017-04-18 10:55:00  2017-04-18 10:57:00    0.41\n2017-04-18 11:02:00  2017-04-18 11:12:00    2.3\n2017-04-18 11:15:00  2017-04-18 11:52:00    24.05\n2017-04-18 16:59:00  2017-04-18 17:55:00    22.66\n2017-04-19 00:46:00  2017-04-19 01:35:00    39.25\n2017-04-19 10:57:00  2017-04-19 11:44:00    24.06\n2017-04-19 13:23:00  2017-04-19 14:10:00    25.96\n2017-04-19 16:21:00  2017-04-19 17:07:00    18.05\n2017-04-19 23:32:00  2017-04-20 00:19:00    39.67\n2017-04-20 10:47:00  2017-04-20 11:13:00    24.07\n2017-04-20 16:21:00  2017-04-20 16:30:00    0.86\n2017-04-20 16:36:00  2017-04-20 16:58:00    0.85\n2017-04-20 17:41:00  2017-04-20 17:44:00    0.37\n2017-04-20 17:49:00  2017-04-20 18:40:00    19.32\n2017-04-20 22:22:00  2017-04-20 22:53:00    29.2\n2017-04-20 23:07:00  2017-04-20 23:27:00    10.94\n2017-04-21 08:29:00  2017-04-21 08:40:00    1.91\n2017-04-21 11:30:00  2017-04-21 11:32:00    0.42\n2017-04-21 11:38:00  2017-04-21 11:40:00    0.4\n2017-04-21 11:42:00  2017-04-21 12:15:00    19.09\n2017-04-21 16:50:00  2017-04-21 18:17:00    40.61\n2017-04-21 18:55:00  2017-04-21 19:11:00    1.73\n2017-04-21 22:20:00  2017-04-21 22:53:00    28.26\n2017-04-21 23:01:00  2017-04-21 23:22:00    11.76\n2017-04-22 08:56:00  2017-04-22 08:58:00    0.63\n2017-04-22 09:04:00  2017-04-22 09:08:00    0.3\n2017-04-22 09:12:00  2017-04-22 09:15:00    0.42\n2017-04-22 16:48:00  2017-04-22 16:52:00    0.54\n2017-04-22 17:06:00  2017-04-22 17:09:00    0.51\n2017-04-22 17:10:00  2017-04-22 17:13:00    1.03\n2017-04-22 17:22:00  2017-04-22 17:27:00    1.1\n2017-04-23 08:13:00  2017-04-23 08:15:00    0.41\n2017-04-23 08:19:00  2017-04-23 08:20:00    0.4\n2017-04-23 08:21:00  2017-04-23 08:25:00    1.99\n2017-04-23 11:41:00  2017-04-23 11:48:00    2.04\n2017-04-23 12:35:00  2017-04-23 12:50:00    7.59\n2017-04-23 14:08:00  2017-04-23 14:21:00    7.31\n2017-04-23 14:33:00  2017-04-23 15:38:00    37.6\n2017-04-24 00:26:00  2017-04-24 01:18:00    39.21\n2017-04-24 10:24:00  2017-04-24 10:26:00    0.41\n2017-04-24 10:31:00  2017-04-24 10:35:00    1.37\n2017-04-24 10:38:00  2017-04-24 10:43:00    1.19\n2017-04-24 10:49:00  2017-04-24 11:15:00    19.58\n2017-04-24 17:13:00  2017-04-24 18:20:00    37.42\n2017-04-24 19:02:00  2017-04-24 19:08:00    1.76\n2017-04-24 19:49:00  2017-04-24 19:55:00    1.79\n2017-04-24 20:41:00  2017-04-24 21:16:00    32.31\n2017-04-25 10:53:00  2017-04-25 11:25:00    24.83\n2017-04-25 15:15:00  2017-04-25 15:24:00    3.07\n2017-04-25 15:30:00  2017-04-25 15:40:00    3.01\n2017-04-25 17:34:00  2017-04-25 18:18:00    24.8\n2017-04-26 09:59:00  2017-04-26 10:28:00    24.05\n2017-04-26 12:56:00  2017-04-26 13:40:00    29.13\n2017-04-26 14:37:00  2017-04-26 15:34:00    21\n2017-04-27 08:57:00  2017-04-27 10:21:00    40.56\n2017-04-27 16:12:00  2017-04-27 16:44:00    9.89\n2017-04-27 17:09:00  2017-04-27 18:01:00    17.51\n2017-04-28 05:18:00  2017-04-28 06:06:00    39.28\n2017-04-28 12:57:00  2017-04-28 13:52:00    35.82\n2017-04-28 16:48:00  2017-04-28 18:14:00    39.1\n2017-05-01 11:41:00  2017-05-01 12:20:00    18.74\n2017-05-01 18:53:00  2017-05-01 19:34:00    37.15\n2017-05-01 23:08:00  2017-05-01 23:09:00    0.06\n2017-05-01 23:18:00  2017-05-02 00:11:00    38.61\n2017-05-02 11:05:00  2017-05-02 11:42:00    24.07\n2017-05-02 17:34:00  2017-05-02 18:53:00    26.42\n2017-05-03 12:13:00  2017-05-03 12:25:00    3.96\n2017-05-03 12:25:00  2017-05-03 12:56:00    21.15\n2017-05-03 13:26:00  2017-05-03 13:44:00    3.32\n2017-05-03 13:57:00  2017-05-03 14:08:00    3.49\n2017-05-03 18:39:00  2017-05-03 19:08:00    24.85\n2017-05-03 19:09:00  2017-05-03 19:13:00    0.99\n2017-05-03 19:29:00  2017-05-03 19:32:00    0.84\n2017-05-04 10:38:00  2017-05-04 11:06:00    24.05\n2017-05-04 13:34:00  2017-05-04 14:10:00    1.73\n2017-05-04 17:14:00  2017-05-04 18:23:00    24.68\n2017-05-05 20:38:00  2017-05-05 20:52:00    2.24\n2017-05-06 11:45:00  2017-05-06 12:30:00    20.19\n2017-05-06 14:36:00  2017-05-06 15:35:00    14.49\n2017-05-06 15:48:00  2017-05-06 16:17:00    5.25\n2017-05-06 17:11:00  2017-05-06 17:13:00    0.43\n2017-05-06 17:19:00  2017-05-06 17:21:00    0.43\n2017-05-07 08:16:00  2017-05-07 08:22:00    3.27\n2017-05-07 12:09:00  2017-05-07 12:16:00    2.01\n2017-05-07 17:28:00  2017-05-07 17:50:00    10.36\n2017-05-07 17:54:00  2017-05-07 18:01:00    1.19\n2017-05-07 18:02:00  2017-05-07 18:35:00    28.31\n2017-05-07 21:48:00  2017-05-07 21:52:00    1.46\n2017-05-07 22:01:00  2017-05-07 22:05:00    1.37\n2017-05-08 00:59:00  2017-05-08 02:19:00    39.23\n2017-05-08 11:30:00  2017-05-08 11:58:00    22.55\n2017-05-08 18:08:00  2017-05-08 18:30:00    10.47\n2017-05-08 18:33:00  2017-05-08 19:09:00    28.44\n2017-05-08 22:25:00  2017-05-08 23:09:00    38.65\n2017-05-08 23:14:00  2017-05-08 23:17:00    1.04\n2017-05-09 11:35:00  2017-05-09 12:19:00    23.99\n2017-05-09 17:57:00  2017-05-09 18:59:00    29.38\n2017-05-09 20:03:00  2017-05-09 20:13:00    1.9\n2017-05-10 10:18:00  2017-05-10 10:54:00    24.06\n2017-05-10 15:43:00  2017-05-10 16:46:00    24.71\n2017-05-11 12:28:00  2017-05-11 13:07:00    21.75\n2017-05-11 18:00:00  2017-05-11 18:31:00    19.3\n2017-05-12 08:26:00  2017-05-12 08:55:00    20.46\n2017-05-12 13:00:00  2017-05-12 13:34:00    14.6\n2017-05-13 08:44:00  2017-05-13 08:46:00    0.38\n2017-05-13 08:57:00  2017-05-13 09:01:00    0.33\n2017-05-13 14:22:00  2017-05-13 14:41:00    6.86\n2017-05-13 15:17:00  2017-05-13 15:35:00    5.2\n2017-05-13 18:10:00  2017-05-13 18:21:00    1.91\n2017-05-14 11:22:00  2017-05-14 11:26:00    0.9\n2017-05-14 11:36:00  2017-05-14 11:38:00    0.39\n2017-05-14 14:56:00  2017-05-14 15:59:00    40.07\n2017-05-14 16:34:00  2017-05-14 16:41:00    1.49\n2017-05-14 16:56:00  2017-05-14 17:04:00    1.45\n2017-05-14 19:05:00  2017-05-14 20:06:00    39.21\n2017-05-15 11:24:00  2017-05-15 11:33:00    1.91\n2017-05-15 11:41:00  2017-05-15 12:13:00    19.84\n2017-05-15 17:41:00  2017-05-15 18:11:00    16\n2017-05-15 18:15:00  2017-05-15 19:23:00    31.52\n2017-05-15 23:41:00  2017-05-16 00:26:00    39.32\n2017-05-16 09:49:00  2017-05-16 11:02:00    24.91\n2017-05-16 16:08:00  2017-05-16 16:32:00    3.37\n2017-05-16 17:11:00  2017-05-16 17:32:00    4.8\n2017-05-16 17:42:00  2017-05-16 17:56:00    1.81\n2017-05-16 18:13:00  2017-05-16 18:46:00    24.85\n2017-05-16 21:07:00  2017-05-16 21:10:00    1.04\n2017-05-16 21:26:00  2017-05-16 21:29:00    1.02\n2017-07-28 16:10:00  2017-07-28 16:17:00    2.22\n2017-07-28 16:17:00  2017-07-28 16:42:00    7.84\n2017-08-10 12:00:00  2017-08-10 12:44:00    24.05\n2017-08-10 14:56:00  2017-08-10 15:10:00    1.61\n2017-08-10 18:51:00  2017-08-10 19:21:00    24.85\n2017-08-10 19:46:00  2017-08-10 19:56:00    1.14\n2017-08-10 20:08:00  2017-08-10 20:12:00    1.09\n2017-08-11 12:44:00  2017-08-11 12:49:00    0.82\n2017-08-11 12:59:00  2017-08-11 13:01:00    0.56\n2017-08-11 13:18:00  2017-08-11 15:12:00    1.79\n2017-08-11 15:14:00  2017-08-11 16:53:00    34.6\n2017-08-11 19:27:00  2017-08-11 20:34:00    34.91\n2017-08-12 13:52:00  2017-08-12 13:56:00    1.05\n2017-08-12 13:59:00  2017-08-12 14:02:00    0.28\n2017-08-12 14:10:00  2017-08-12 14:30:00    1.22\n2017-08-12 17:15:00  2017-08-12 17:36:00    11.37\n2017-08-12 20:49:00  2017-08-12 21:05:00    10.43\n2017-08-13 12:16:00  2017-08-13 12:44:00    12.96\n2017-08-13 16:03:00  2017-08-13 16:32:00    14.33\n2017-08-13 18:19:00  2017-08-13 18:42:00    9.32\n2017-08-13 18:52:00  2017-08-13 19:05:00    3.99\n2017-08-13 21:42:00  2017-08-13 21:53:00    5.6\n2017-08-14 08:50:00  2017-08-14 09:45:00    24.1\n2017-08-14 13:22:00  2017-08-14 13:54:00    24.84\n2017-08-14 14:02:00  2017-08-14 15:34:00    36.92\n2017-08-14 15:58:00  2017-08-14 17:17:00    35.7\n2017-08-14 17:35:00  2017-08-14 17:45:00    1.99\n2017-08-14 18:07:00  2017-08-14 18:27:00    9.92\n2017-08-15 10:15:00  2017-08-15 10:51:00    25\n2017-08-15 19:23:00  2017-08-15 19:29:00    0.4\n2017-08-15 19:51:00  2017-08-15 20:45:00    24.39\n2017-08-15 20:56:00  2017-08-15 21:04:00    2.78\n2017-08-15 21:09:00  2017-08-15 21:37:00    19.22\n2017-08-16 00:03:00  2017-08-16 00:27:00    15.51\n2017-08-16 00:36:00  2017-08-16 00:41:00    1.23\n2017-08-16 00:46:00  2017-08-16 01:18:00    11.35\n2017-08-16 09:38:00  2017-08-16 09:41:00    1.21\n2017-08-16 09:41:00  2017-08-16 09:43:00    0.08\n2017-08-16 09:47:00  2017-08-16 10:32:00    22.89\n2017-08-16 16:51:00  2017-08-16 17:11:00    3.14\n2017-08-16 17:12:00  2017-08-16 17:25:00    2.76\n2017-08-16 17:41:00  2017-08-16 18:36:00    24.78\n2017-08-17 09:34:00  2017-08-17 10:13:00    24.03\n2017-08-17 12:32:00  2017-08-17 13:07:00    24.82\n2017-08-17 13:35:00  2017-08-17 13:40:00    0.4\n2017-08-17 13:47:00  2017-08-17 15:07:00    36.06\n2017-08-17 15:18:00  2017-08-17 15:24:00    0.06\n2017-08-17 16:03:00  2017-08-17 18:05:00    35.16\n2017-08-18 09:47:00  2017-08-18 10:23:00    24.47\n2017-08-18 16:04:00  2017-08-18 16:42:00    1.63\n2017-08-18 17:56:00  2017-08-18 18:25:00    10.74\n2017-08-18 18:27:00  2017-08-18 18:48:00    1.85\n2017-08-19 00:07:00  2017-08-19 00:41:00    18.92\n2017-08-19 00:52:00  2017-08-19 00:55:00    0.99\n2017-08-19 11:52:00  2017-08-19 12:14:00    7.56\n2017-08-19 15:57:00  2017-08-19 16:12:00    4.02\n2017-08-19 16:37:00  2017-08-19 16:56:00    5.32\n2017-08-19 23:32:00  2017-08-19 23:50:00    7.54\n2017-08-19 23:51:00  2017-08-20 00:17:00    9.59\n2017-08-20 09:03:00  2017-08-20 09:16:00    5.22\n2017-08-20 19:17:00  2017-08-20 19:32:00    4.69\n2017-08-21 09:24:00  2017-08-21 09:40:00    2.31\n2017-08-21 10:59:00  2017-08-21 11:02:00    0.47\n2017-08-21 13:40:00  2017-08-21 15:29:00    36.09\n2017-08-21 15:54:00  2017-08-21 16:48:00    2.24\n2017-08-21 16:57:00  2017-08-21 18:15:00    32.3\n2017-08-22 08:38:00  2017-08-22 09:06:00    0.65\n2017-08-22 09:18:00  2017-08-22 09:19:00    0.04\n2017-08-22 09:22:00  2017-08-22 10:05:00    23.49\n2017-08-22 14:30:00  2017-08-22 15:02:00    1.7\n2017-08-22 16:37:00  2017-08-22 17:41:00    24.8\n2017-08-23 17:16:00  2017-08-23 18:14:00    24.01\n2017-08-23 18:27:00  2017-08-23 18:32:00    1.05\n2017-08-23 19:24:00  2017-08-23 20:04:00    18.14\n2017-08-23 22:01:00  2017-08-23 22:28:00    16.33\n2017-08-23 22:46:00  2017-08-23 22:50:00    1.04\n2017-08-24 09:41:00  2017-08-24 09:44:00    0.02\n2017-08-24 09:59:00  2017-08-24 10:00:00    0.02\n2017-08-24 13:57:00  2017-08-24 15:33:00    42.51\n2017-08-24 16:43:00  2017-08-24 17:00:00    0.07\n2017-08-24 17:06:00  2017-08-24 17:33:00    10.01\n2017-08-24 18:12:00  2017-08-24 19:03:00    27.67\n2017-08-25 09:36:00  2017-08-25 09:55:00    2.63\n2017-08-25 10:01:00  2017-08-25 10:32:00    20.92\n2017-08-25 20:40:00  2017-08-25 21:45:00    17.41\n2017-08-25 21:49:00  2017-08-25 22:14:00    16.02\n2017-08-26 00:10:00  2017-08-26 02:14:00    29.77\n2017-08-26 16:31:00  2017-08-26 16:55:00    7.15\n2017-08-26 17:54:00  2017-08-26 18:19:00    10\n2017-08-26 20:07:00  2017-08-26 20:08:00    0.19\n2017-08-26 20:08:00  2017-08-26 20:11:00    1.35\n2017-08-27 12:39:00  2017-08-27 12:54:00    1\n2017-08-27 12:55:00  2017-08-27 13:48:00    9.29\n2017-08-27 14:00:00  2017-08-27 14:34:00    3.86\n2017-08-27 15:56:00  2017-08-27 16:37:00    10.45\n2017-08-27 16:44:00  2017-08-27 16:51:00    1.8\n2017-08-27 16:55:00  2017-08-27 17:00:00    0.68\n2017-08-27 17:04:00  2017-08-27 17:19:00    4.96\n2017-08-27 17:28:00  2017-08-27 17:39:00    2.33\n2017-08-27 17:47:00  2017-08-27 18:58:00    24.19\n2017-08-27 22:17:00  2017-08-27 22:41:00    16.24\n2017-08-28 00:33:00  2017-08-28 01:22:00    13.62\n2017-08-28 12:48:00  2017-08-28 12:51:00    0.47\n2017-08-28 14:01:00  2017-08-28 14:03:00    0.4\n2017-08-28 14:12:00  2017-08-28 15:31:00    34.86\n2017-08-28 15:56:00  2017-08-28 17:04:00    34.47\n2017-08-28 22:15:00  2017-08-28 22:38:00    18.57\n2017-08-29 01:42:00  2017-08-29 02:05:00    18.88\n2017-08-29 11:40:00  2017-08-29 11:44:00    1.04\n2017-08-29 11:48:00  2017-08-29 12:09:00    0.03\n2017-08-29 12:18:00  2017-08-29 12:21:00    0.03\n2017-08-29 12:26:00  2017-08-29 12:32:00    1.05\n2017-08-29 12:35:00  2017-08-29 13:15:00    24.05\n2017-08-29 19:40:00  2017-08-29 19:42:00    0.35\n2017-08-29 19:50:00  2017-08-29 20:19:00    27.72\n2017-08-29 20:25:00  2017-08-29 20:41:00    10.42\n2017-08-30 10:00:00  2017-08-30 10:47:00    24.25\n2017-08-30 14:31:00  2017-08-30 14:56:00    1.68\n2017-08-30 17:19:00  2017-08-30 17:43:00    0.04\n2017-08-30 17:43:00  2017-08-30 17:50:00    0.29\n2017-08-30 17:56:00  2017-08-30 18:40:00    16.85\n2017-08-30 22:57:00  2017-08-30 23:35:00    17.31\n2017-08-31 11:30:00  2017-08-31 11:41:00    0.43\n2017-08-31 14:04:00  2017-08-31 14:06:00    0.41\n2017-08-31 14:24:00  2017-08-31 14:26:00    0.68\n2017-08-31 14:31:00  2017-08-31 15:42:00    34.88\n2017-08-31 16:01:00  2017-08-31 17:07:00    30.45\n2017-08-31 20:54:00  2017-08-31 21:21:00    19.6\n2017-09-01 10:30:00  2017-09-01 10:59:00    17.63\n2017-09-01 14:07:00  2017-09-01 15:07:00    27.45\n2017-09-01 17:17:00  2017-09-01 17:36:00    1.93\n2017-09-01 18:16:00  2017-09-01 19:19:00    20.58\n2017-09-01 19:25:00  2017-09-01 19:38:00    4.8\n2017-09-01 21:30:00  2017-09-01 21:54:00    1.94\n2017-09-02 15:46:00  2017-09-02 16:06:00    0.99\n2017-09-02 16:13:00  2017-09-02 16:16:00    1.01\n2017-09-02 16:56:00  2017-09-02 16:59:00    0.42\n2017-09-02 17:04:00  2017-09-02 17:06:00    0.4\n2017-09-02 22:52:00  2017-09-02 22:54:00    0.07\n2017-09-02 22:55:00  2017-09-02 23:15:00    18.62\n2017-09-03 01:46:00  2017-09-03 02:10:00    18.9\n2017-09-03 14:49:00  2017-09-03 15:04:00    3.14\n2017-09-03 15:50:00  2017-09-03 16:07:00    10.17\n2017-09-03 16:21:00  2017-09-03 16:38:00    7.79\n2017-09-03 16:47:00  2017-09-03 16:52:00    1.11\n2017-09-03 18:32:00  2017-09-03 18:37:00    1.2\n2017-09-03 18:37:00  2017-09-03 18:44:00    0.91\n2017-09-04 15:50:00  2017-09-04 15:54:00    0.42\n2017-09-04 15:59:00  2017-09-04 16:11:00    2.3\n2017-09-04 16:21:00  2017-09-04 16:43:00    8.31\n2017-09-04 17:05:00  2017-09-04 17:15:00    2.54\n2017-09-04 17:26:00  2017-09-04 17:41:00    4.52\n2017-09-04 17:49:00  2017-09-04 18:25:00    29.55\n2017-09-04 19:36:00  2017-09-04 19:51:00    0.93\n2017-09-04 19:54:00  2017-09-04 19:59:00    0.5\n2017-09-04 21:21:00  2017-09-04 21:55:00    29.37\n2017-09-05 11:08:00  2017-09-05 11:51:00    35.5\n2017-09-05 12:36:00  2017-09-05 13:07:00    2.29\n2017-09-05 13:19:00  2017-09-05 13:22:00    0.51\n2017-09-05 13:26:00  2017-09-05 14:03:00    33.09\n2017-09-05 14:13:00  2017-09-05 15:01:00    24.03\n2017-09-05 17:33:00  2017-09-05 18:11:00    14.55\n2017-09-05 19:01:00  2017-09-05 19:19:00    11.31\n2017-09-06 09:21:00  2017-09-06 09:39:00    7.73\n2017-09-06 10:14:00  2017-09-06 10:30:00    7.75\n2017-09-06 10:37:00  2017-09-06 11:13:00    24.13\n2017-09-06 16:48:00  2017-09-06 17:35:00    25.3\n2017-09-06 17:49:00  2017-09-06 17:55:00    0.18\n2017-09-06 17:58:00  2017-09-06 18:00:00    0.39\n2017-09-06 18:38:00  2017-09-06 19:04:00    15.93\n2017-09-06 23:45:00  2017-09-07 00:14:00    19.45\n2017-09-07 00:26:00  2017-09-07 00:30:00    1.01\n2017-09-07 10:42:00  2017-09-07 11:35:00    31.74\n2017-09-07 14:04:00  2017-09-07 14:39:00    27.38\n2017-09-07 14:43:00  2017-09-07 14:52:00    3.06\n2017-09-07 14:54:00  2017-09-07 16:00:00    32.96\n2017-09-07 16:32:00  2017-09-07 16:33:00    0.07\n2017-09-07 16:38:00  2017-09-07 17:04:00    2.31\n2017-09-07 17:23:00  2017-09-07 18:14:00    33.03\n2017-09-08 10:02:00  2017-09-08 10:30:00    19.73\n2017-09-08 18:09:00  2017-09-08 18:37:00    18.97\n2017-09-08 19:04:00  2017-09-08 19:18:00    1.87\n2017-09-09 02:25:00  2017-09-09 02:28:00    1.1\n2017-09-09 02:33:00  2017-09-09 02:35:00    1.05\n2017-09-10 17:09:00  2017-09-10 17:44:00    14.25\n2017-09-10 22:50:00  2017-09-10 22:53:00    0.25\n2017-09-10 22:56:00  2017-09-10 22:57:00    0.02\n2017-09-10 23:00:00  2017-09-10 23:23:00    16.18\n2017-09-11 00:01:00  2017-09-11 00:19:00    1.83\n2017-09-11 09:59:00  2017-09-11 10:06:00    1.91\n2017-09-11 10:12:00  2017-09-11 10:51:00    27.49\n2017-09-11 13:39:00  2017-09-11 14:13:00    27.23\n2017-09-11 14:31:00  2017-09-11 15:31:00    35.45\n2017-09-11 16:03:00  2017-09-11 17:09:00    36.01\n2017-09-11 17:39:00  2017-09-11 18:01:00    9.88\n2017-09-11 23:01:00  2017-09-11 23:05:00    1.14\n2017-09-11 23:16:00  2017-09-11 23:30:00    5.93\n2017-09-11 23:30:00  2017-09-11 23:54:00    4.94\n2017-09-12 02:56:00  2017-09-12 04:00:00    25.87\n2017-09-12 10:06:00  2017-09-12 10:46:00    24.84\n2017-09-12 16:33:00  2017-09-12 17:20:00    22.43\n2017-09-12 19:38:00  2017-09-12 20:14:00    21.79\n2017-09-13 06:24:00  2017-09-13 06:59:00    25.84\n2017-09-13 07:02:00  2017-09-13 07:14:00    5.77\n2017-09-13 11:14:00  2017-09-13 11:36:00    16.26\n2017-09-13 16:01:00  2017-09-13 16:57:00    24.79\n2017-09-13 17:07:00  2017-09-13 17:48:00    15.94\n2017-09-13 23:13:00  2017-09-13 23:35:00    16.73\n2017-09-14 12:00:00  2017-09-14 12:27:00    19.71\n2017-09-14 12:28:00  2017-09-14 12:30:00    0.18\n2017-09-14 14:36:00  2017-09-14 15:06:00    14.98\n2017-09-14 15:11:00  2017-09-14 15:17:00    2.99\n2017-09-14 15:26:00  2017-09-14 16:44:00    37.48\n2017-09-14 17:03:00  2017-09-14 18:17:00    34.18\n2017-09-14 18:32:00  2017-09-14 18:41:00    3.03\n2017-09-15 10:25:00  2017-09-15 10:26:00    0.05\n2017-09-15 10:45:00  2017-09-15 10:48:00    0.29\n2017-09-15 10:59:00  2017-09-15 11:05:00    0.3\n2017-09-15 11:09:00  2017-09-15 11:36:00    10.82\n2017-09-15 13:00:00  2017-09-15 13:17:00    8.37\n2017-09-15 13:36:00  2017-09-15 14:30:00    25.19\n2017-09-15 14:37:00  2017-09-15 15:01:00    0.45\n2017-09-15 15:04:00  2017-09-15 16:59:00    85.51\n2017-09-15 17:06:00  2017-09-15 18:57:00    129.72\n2017-09-15 19:03:00  2017-09-15 20:02:00    60.96\n2017-09-16 10:18:00  2017-09-16 10:39:00    16.04\n2017-09-16 11:52:00  2017-09-16 12:12:00    16.68\n2017-09-16 12:28:00  2017-09-16 13:29:00    49\n2017-09-16 18:36:00  2017-09-16 19:30:00    45.7\n2017-09-16 19:39:00  2017-09-16 19:47:00    2.1\n2017-09-17 13:32:00  2017-09-17 13:41:00    2.24\n2017-09-17 14:19:00  2017-09-17 14:48:00    14.68\n2017-09-17 18:25:00  2017-09-17 18:26:00    0.05\n2017-09-17 18:36:00  2017-09-17 19:03:00    12.26\n2017-09-18 07:52:00  2017-09-18 08:03:00    2.04\n2017-09-18 08:21:00  2017-09-18 08:56:00    37.94\n2017-09-18 09:01:00  2017-09-18 09:53:00    65.7\n2017-09-18 10:04:00  2017-09-18 10:34:00    39.43\n2017-09-18 10:46:00  2017-09-18 11:07:00    14.25\n2017-09-18 11:19:00  2017-09-18 13:29:00    138.98\n2017-09-18 14:24:00  2017-09-18 14:26:00    0.04\n2017-09-18 14:28:00  2017-09-18 15:23:00    35.52\n2017-09-18 15:53:00  2017-09-18 17:49:00    36.64\n2017-09-19 09:24:00  2017-09-19 10:22:00    24.37\n2017-09-19 15:55:00  2017-09-19 16:53:00    15.87\n2017-09-19 16:53:00  2017-09-19 17:20:00    0.85\n2017-09-19 17:33:00  2017-09-19 18:06:00    10.95\n2017-09-19 18:10:00  2017-09-19 18:34:00    8.41\n2017-09-19 21:06:00  2017-09-19 21:10:00    1.24\n2017-09-19 21:17:00  2017-09-19 21:21:00    1.05\n2017-09-20 11:12:00  2017-09-20 11:16:00    1.22\n2017-09-20 11:18:00  2017-09-20 11:59:00    24.15\n2017-09-20 17:20:00  2017-09-20 18:07:00    24.15\n2017-09-20 18:50:00  2017-09-20 19:17:00    16.02\n2017-09-20 22:05:00  2017-09-20 22:32:00    17.5\n2017-09-21 13:38:00  2017-09-21 13:44:00    0.72\n2017-09-21 13:50:00  2017-09-21 15:26:00    35.81\n2017-09-21 15:59:00  2017-09-21 16:15:00    8.26\n2017-09-21 16:19:00  2017-09-21 17:32:00    28.1\n2017-09-21 18:49:00  2017-09-21 19:25:00    16.05\n2017-09-21 22:30:00  2017-09-21 22:59:00    16.97\n2017-09-22 10:19:00  2017-09-22 10:21:00    0.43\n2017-09-22 10:25:00  2017-09-22 10:26:00    0.4\n2017-09-22 10:30:00  2017-09-22 10:54:00    19.15\n2017-09-22 11:58:00  2017-09-22 12:02:00    1.05\n2017-09-22 18:32:00  2017-09-22 18:59:00    20.95\n2017-09-23 08:34:00  2017-09-23 08:51:00    1.15\n2017-09-23 09:19:00  2017-09-23 10:31:00    37.57\n2017-09-23 11:09:00  2017-09-23 11:23:00    5.67\n2017-09-23 11:51:00  2017-09-23 12:15:00    4.64\n2017-09-23 12:47:00  2017-09-23 13:40:00    8.45\n2017-09-23 13:56:00  2017-09-23 15:08:00    34.62\n2017-09-23 15:37:00  2017-09-23 16:07:00    1.56\n2017-09-24 14:59:00  2017-09-24 15:02:00    0.43\n2017-09-24 15:14:00  2017-09-24 17:09:00    6.6\n2017-09-24 17:37:00  2017-09-24 18:01:00    7.05\n2017-09-24 18:05:00  2017-09-24 18:07:00    0.41\n2017-09-24 19:35:00  2017-09-24 20:31:00    25.28\n2017-09-25 00:24:00  2017-09-25 00:26:00    0.42\n2017-09-25 00:30:00  2017-09-25 01:10:00    23.13\n2017-09-25 12:12:00  2017-09-25 12:38:00    19.45\n2017-09-25 14:22:00  2017-09-25 14:50:00    19.86\n2017-09-25 14:52:00  2017-09-25 15:54:00    35.53\n2017-09-25 16:37:00  2017-09-25 18:17:00    34.54\n2017-09-25 20:36:00  2017-09-25 21:08:00    28.91\n2017-09-26 01:46:00  2017-09-26 02:21:00    26.32\n2017-09-26 09:36:00  2017-09-26 10:18:00    24.02\n2017-09-26 14:05:00  2017-09-26 14:39:00    25.3\n2017-09-26 15:49:00  2017-09-26 15:58:00    1.53\n2017-09-26 16:15:00  2017-09-26 16:22:00    1.1\n2017-09-27 09:15:00  2017-09-27 10:16:00    24.76\n2017-09-27 16:26:00  2017-09-27 17:49:00    35.87\n2017-09-27 17:58:00  2017-09-27 18:46:00    27.64\n2017-09-27 18:51:00  2017-09-27 18:59:00    2.08\n2017-09-27 19:10:00  2017-09-27 20:17:00    21.17\n2017-09-27 20:25:00  2017-09-27 21:56:00    3.6\n2017-09-27 22:04:00  2017-09-27 22:32:00    16.56\n2017-09-28 06:46:00  2017-09-28 07:19:00    14.4\n2017-09-28 09:05:00  2017-09-28 09:29:00    8.06\n2017-09-28 10:41:00  2017-09-28 11:21:00    22.34\n2017-09-28 14:26:00  2017-09-28 16:05:00    35.57\n2017-09-28 16:09:00  2017-09-28 16:21:00    1.17\n2017-09-28 20:37:00  2017-09-28 20:40:00    1.1\n2017-09-28 20:56:00  2017-09-28 21:00:00    1.15\n2017-09-29 09:32:00  2017-09-29 10:02:00    19.73\n</code></pre>\n\n<p>I'd like to plot these discrete events the same way the below plots do, but where 2pi is one week rather than 24 hours in order to illuminate the periodicity of these events, where color represents distance. </p>\n\n<p><a href=\"https://i.stack.imgur.com/1GGfv.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/1GGfv.jpg\" alt=\"Discrete events in a spiral time series plot\"></a>\n<a href=\"https://i.stack.imgur.com/xoMth.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/xoMth.png\" alt=\"Discrete time series spiral plot\"></a></p>\n\n<p>I've attempted modifying the solution linked at the beginning of this question, but it hasn't gotten me anywhere. My new approach is to modify <a href=\"https://stackoverflow.com/questions/31251160/plot-timeline-in-r-as-single-labeled-bar-and-with-dates-at-the-x-axis-labels\">this solution</a>, but I'm having a difficult time getting anything but horizontal and vertical lines scattered about a spiral. Making them curve and display in the correct locations is tough.</p>\n\n<p>I'm open to any approach that successfully displays the data in a spiral plot without quantizing/binning it into specific intervals but rather allows the intervals themselves to describe discrete events along a continuous spiralling timeline. Likewise, I'm not interested in converting this to a raw single-point time series format where I'd have a great deal of data representing the time between trips. I'd like to achieve this in a temporal format (one that describes a time window rather than an event at a particular time).</p>\n"}, {"tags": ["python", "gurobi"], "answers": [{"tags": [], "owner": {"reputation": 23, "user_id": 8673151, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c81e530de1bec4f835a35bde7cdc56ef?s=128&d=identicon&r=PG&f=1", "display_name": "Reza A.", "link": "https://stackoverflow.com/users/8673151/reza-a"}, "is_accepted": true, "score": 0, "last_activity_date": 1507164400, "creation_date": 1507164400, "answer_id": 46576242, "question_id": 46575628, "link": "https://stackoverflow.com/questions/46575628/how-can-i-calculate-the-allowable-range-for-reduced-cost-rc-and-shadow-price/46576242#46576242", "title": "How can I calculate the allowable range for reduced cost (RC) and shadow price (Pi) in gurobi python?", "body": "<p>I just found out about two attribute querying functions: <code>x.SAObjLow</code> &amp; <code>x.SAObjUp</code> which will give the maximum and minimum value that the objective coefficient of x1 can take before the optimal solution changes. And for constraints you can use <code>constrs[t].SARHSLow</code> &amp; <code>constrs[t].SARHSUp</code>. Hope it helps out you as well.</p>\n\n<p>I would strongly recommend anyone new to gurobi (like me) to visit <a href=\"http://www.gurobi.com/documentation/7.0/refman/attributes.html\" rel=\"nofollow noreferrer\">this</a> webpage.</p>\n"}], "owner": {"reputation": 23, "user_id": 8673151, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c81e530de1bec4f835a35bde7cdc56ef?s=128&d=identicon&r=PG&f=1", "display_name": "Reza A.", "link": "https://stackoverflow.com/users/8673151/reza-a"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 732, "favorite_count": 0, "accepted_answer_id": 46576242, "answer_count": 1, "score": 0, "last_activity_date": 1507164400, "creation_date": 1507159444, "last_edit_date": 1507162056, "question_id": 46575628, "link": "https://stackoverflow.com/questions/46575628/how-can-i-calculate-the-allowable-range-for-reduced-cost-rc-and-shadow-price", "title": "How can I calculate the allowable range for reduced cost (RC) and shadow price (Pi) in gurobi python?", "body": "<p>So I'm trying to do a sensitivity analysis with Gurobi python, I found the optimal values alongside with the shadow prices (<code>cons1.Pi</code>) and the reduced costs (<code>x.RC</code>). But I don't know how to calculate their allowable increase and decrease. I would appreciate it if someone could help!!</p>\n\n<p>Basically I am trying to get these two tables filled out:</p>\n\n<pre><code>Variable | Final_Val | Reduced_cost | Obj_Coeff | Allowable_increase | Allowable_decrease\n\nConstraint | Final_Val | shadow_price | RHS | Allowable_increase | Allowable_decrease\n</code></pre>\n"}, {"tags": ["python", "string", "random"], "comments": [{"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 1, "creation_date": 1507160260, "post_id": 46575600, "comment_id": 80104819, "body": "Why are you assigning to the module object, <code>string</code>? <code>string.letters = &quot;SABXT&quot;</code>???"}], "answers": [{"comments": [{"owner": {"reputation": 19411, "user_id": 6640099, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/tf1sO.jpg?s=128&g=1", "display_name": "Christian Dean", "link": "https://stackoverflow.com/users/6640099/christian-dean"}, "edited": false, "score": 0, "creation_date": 1507159559, "post_id": 46575636, "comment_id": 80104702, "body": "Dang it, I&#39;ve gotten slower over the school year :P +1"}, {"owner": {"reputation": 19411, "user_id": 6640099, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/tf1sO.jpg?s=128&g=1", "display_name": "Christian Dean", "link": "https://stackoverflow.com/users/6640099/christian-dean"}, "edited": false, "score": 1, "creation_date": 1507159642, "post_id": 46575636, "comment_id": 80104718, "body": "Nah, had to respond to <a href=\"https://stackoverflow.com/questions/46575590/how-do-i-print-values-of-a-function-for-multiple-inputs-in-python?noredirect=1#comment80104700_46575590\">this guys comment</a> (rather, just see what he said)."}], "tags": [], "owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "is_accepted": true, "score": 3, "last_activity_date": 1507159503, "creation_date": 1507159503, "answer_id": 46575636, "question_id": 46575600, "link": "https://stackoverflow.com/questions/46575600/generate-a-random-character-not-found-in-another-string/46575636#46575636", "title": "Generate a random character not found in another string", "body": "<p>Get a list of characters that are not in your string, and then use <code>random.choice</code> to return one of them.</p>\n\n<pre><code>import string\nimport random\n\np = list(set(string.ascii_uppercase) - set('SAXBT'))\nc = random.choice(p)\n</code></pre>\n\n<p>Granted, the subsequent <code>random.choice</code> may seem redundant since the <code>set</code> shuffles the order, but you can't really depend on the set order for randomness. </p>\n"}, {"comments": [{"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1507159569, "post_id": 46575641, "comment_id": 80104704, "body": "Any <code>random.choice</code> call on a set generates: <code>TypeError: &#39;set&#39; object does not support indexing</code> (python3.4)"}], "tags": [], "owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "is_accepted": false, "score": 1, "last_activity_date": 1507162545, "last_edit_date": 1507162545, "creation_date": 1507159545, "answer_id": 46575641, "question_id": 46575600, "link": "https://stackoverflow.com/questions/46575600/generate-a-random-character-not-found-in-another-string/46575641#46575641", "title": "Generate a random character not found in another string", "body": "<pre><code>import string,random\nprohibitted = \"SABXT\" \n\nprint random.choice(list(set(string.ascii_uppercase)-set(prohibitted)))\n</code></pre>\n\n<p>Is one way.</p>\n\n<p>Another might be:</p>\n\n<pre><code>import string,random\nprohibitted = \"SABXT\" \nmy_choice = random.randint(0,26)\nwhile char(ord('A')+my_choice) in prohibitted:\n    my_choice = random.randint(0,26)\nprint char(ord('A')+my_choice)\n</code></pre>\n\n<p>Yet another way might be:</p>\n\n<pre><code>import string,random\nmy_choice = random.choice(string.ascii_uppercase)\nwhile my_choice in prohibitted:\n    my_choice = random.choice(string.ascii_uppercase)\n</code></pre>\n"}], "owner": {"reputation": 1204, "user_id": 2264392, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/97b21fa989cc7c35a6655fffe5c5bf88?s=128&d=identicon&r=PG&f=1", "display_name": "SMH", "link": "https://stackoverflow.com/users/2264392/smh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 98, "favorite_count": 0, "accepted_answer_id": 46575636, "answer_count": 2, "score": 0, "last_activity_date": 1507444702, "creation_date": 1507159265, "last_edit_date": 1507444702, "question_id": 46575600, "link": "https://stackoverflow.com/questions/46575600/generate-a-random-character-not-found-in-another-string", "title": "Generate a random character not found in another string", "body": "<p>I have a string which has some chars and I need to generate a random uppercase char which is not found in my string.</p>\n\n<p>Example:\nstr = \"SABXT\"\nThe random char can be any char which is not in str</p>\n\n<p>I tried:</p>\n\n<pre><code>string.letters = \"SABXT\"\nrandom.choice(string.letters)\n</code></pre>\n\n<p>but this do the opposite, it generates the char from my str</p>\n"}, {"tags": ["python", "python-3.x", "numpy"], "comments": [{"owner": {"reputation": 19411, "user_id": 6640099, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/tf1sO.jpg?s=128&g=1", "display_name": "Christian Dean", "link": "https://stackoverflow.com/users/6640099/christian-dean"}, "edited": false, "score": 0, "creation_date": 1507159215, "post_id": 46575590, "comment_id": 80104628, "body": "Please post all code verbatim as text."}, {"owner": {"reputation": 19411, "user_id": 6640099, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/tf1sO.jpg?s=128&g=1", "display_name": "Christian Dean", "link": "https://stackoverflow.com/users/6640099/christian-dean"}, "edited": false, "score": 0, "creation_date": 1507159275, "post_id": 46575590, "comment_id": 80104647, "body": "You sorta answered your own question. What&#39;s different about the <code>print</code> line in your first attempt than your second?"}, {"owner": {"reputation": 13, "user_id": 8242434, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66bb2d512e7ae847040d50f5c10dc5be?s=128&d=identicon&r=PG&f=1", "display_name": "John Man", "link": "https://stackoverflow.com/users/8242434/john-man"}, "reply_to_user": {"reputation": 19411, "user_id": 6640099, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/tf1sO.jpg?s=128&g=1", "display_name": "Christian Dean", "link": "https://stackoverflow.com/users/6640099/christian-dean"}, "edited": false, "score": 0, "creation_date": 1507159555, "post_id": 46575590, "comment_id": 80104700, "body": "Oh wow. Thanks a lot! @ChristianDean"}], "answers": [{"tags": [], "owner": {"reputation": 1678, "user_id": 6895491, "user_type": "registered", "profile_image": "https://graph.facebook.com/10157453976390237/picture?type=large", "display_name": "Brenden Petersen", "link": "https://stackoverflow.com/users/6895491/brenden-petersen"}, "is_accepted": false, "score": 0, "last_activity_date": 1507159285, "creation_date": 1507159285, "answer_id": 46575605, "question_id": 46575590, "link": "https://stackoverflow.com/questions/46575590/how-do-i-print-values-of-a-function-for-multiple-inputs-in-python/46575605#46575605", "title": "How do I print values of a function for multiple inputs in python?", "body": "<p>In Python 3, print is a function, so requires parentheses.</p>\n\n<p>Use <code>print(g(x))</code> instead of <code>print g(x)</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 13, "user_id": 8242434, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66bb2d512e7ae847040d50f5c10dc5be?s=128&d=identicon&r=PG&f=1", "display_name": "John Man", "link": "https://stackoverflow.com/users/8242434/john-man"}, "edited": false, "score": 0, "creation_date": 1507159589, "post_id": 46575623, "comment_id": 80104711, "body": "Yeah that did the trick, thanks!"}], "tags": [], "owner": {"reputation": 497, "user_id": 2480769, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/e18498c1a173797a970ab5cf1770df4b?s=128&d=identicon&r=PG", "display_name": "mnickey", "link": "https://stackoverflow.com/users/2480769/mnickey"}, "is_accepted": false, "score": 0, "last_activity_date": 1507159421, "creation_date": 1507159421, "answer_id": 46575623, "question_id": 46575590, "link": "https://stackoverflow.com/questions/46575590/how-do-i-print-values-of-a-function-for-multiple-inputs-in-python/46575623#46575623", "title": "How do I print values of a function for multiple inputs in python?", "body": "<p>Seems like it's working. The only change I did to your code is to rename the variable in the for loop and add the extra parens that was already mentioned.</p>\n\n<pre><code>def g(x):\n    return (x**7+3*x)/4\ng(5)\nOut[28]: 19535.0\nfor num in range(4,14):\n    print(g(num))\n\n4099.0\n19535.0\n69988.5\n205891.0\n524294.0\n1195749.0\n2500007.5\n4871801.0\n8957961.0\n15687139.0\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 8242434, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66bb2d512e7ae847040d50f5c10dc5be?s=128&d=identicon&r=PG&f=1", "display_name": "John Man", "link": "https://stackoverflow.com/users/8242434/john-man"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 41, "favorite_count": 0, "closed_date": 1507159664, "answer_count": 2, "score": 1, "last_activity_date": 1507159421, "creation_date": 1507159142, "last_edit_date": 1507159407, "question_id": 46575590, "link": "https://stackoverflow.com/questions/46575590/how-do-i-print-values-of-a-function-for-multiple-inputs-in-python", "closed_reason": "Duplicate", "title": "How do I print values of a function for multiple inputs in python?", "body": "<p><a href=\"https://i.stack.imgur.com/us9Yx.png\" rel=\"nofollow noreferrer\">Pyhton Code Here</a></p>\n\n<p>Completely new to programming so excuse my ignorance. Pretty clear what I was trying to do in the image attached I think. Had to give up and just rewrite the function. Why isn't it accepting g(x)?</p>\n\n<pre><code>def g(x):\n    return (x**7+3*x)/4\n</code></pre>\n\n<p>and then</p>\n\n<pre><code>for x in range(4,14):\n    print g(x)\n</code></pre>\n\n<p>didn't work so I used</p>\n\n<pre><code>for x in range(4,14):\n    y=(x**7+3*x)/4\n    print(y)\n</code></pre>\n\n<p>Thanks!</p>\n"}, {"tags": ["python", "django", "cart"], "answers": [{"comments": [{"owner": {"reputation": 1013, "user_id": 8715761, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/637c6b941109f3e57ab5e8125d0feef9?s=128&d=identicon&r=PG&f=1", "display_name": "Rutnet", "link": "https://stackoverflow.com/users/8715761/rutnet"}, "edited": false, "score": 0, "creation_date": 1507200875, "post_id": 46575679, "comment_id": 80120586, "body": "Thanks, that is perfect and it works! There is a python syntax error with the colons(:) so we need to use without."}], "tags": [], "owner": {"reputation": 250720, "user_id": 113962, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b80ae1d65878cf68a4b1a00848467527?s=128&d=identicon&r=PG", "display_name": "Alasdair", "link": "https://stackoverflow.com/users/113962/alasdair"}, "is_accepted": true, "score": 0, "last_activity_date": 1507202810, "last_edit_date": 1507202810, "creation_date": 1507159914, "answer_id": 46575679, "question_id": 46575570, "link": "https://stackoverflow.com/questions/46575570/removing-a-single-item-from-django-cart/46575679#46575679", "title": "Removing a single item from Django cart", "body": "<p>You just need to edit the <code>remove</code> method. Subtract one from the quantity, and delete the item it there are none left.</p>\n\n<pre><code>def remove(self, product):\n    \"\"\"\n    Remove a product from the cart.\n    \"\"\"\n    product_id = str(product.id)\n    if product_id in self.cart:\n        # Subtract 1 from the quantity\n        self.cart[product_id]['quantity'] -= 1\n        # If the quantity is now 0, then delete the item\n        if self.cart[product_id]['quantity'] == 0:\n            del self.cart[product_id]\n        self.save()\n</code></pre>\n"}], "owner": {"reputation": 1013, "user_id": 8715761, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/637c6b941109f3e57ab5e8125d0feef9?s=128&d=identicon&r=PG&f=1", "display_name": "Rutnet", "link": "https://stackoverflow.com/users/8715761/rutnet"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1539, "favorite_count": 0, "accepted_answer_id": 46575679, "answer_count": 1, "score": 0, "last_activity_date": 1507202810, "creation_date": 1507159007, "question_id": 46575570, "link": "https://stackoverflow.com/questions/46575570/removing-a-single-item-from-django-cart", "title": "Removing a single item from Django cart", "body": "<p>trying to create a shopping cart application and currently stuck trying to remove a single item from a cart. I can't seem to work out how to remove a single product as currently it removes all of a product ID using the remove function.</p>\n\n<p>This is cart.py file:</p>\n\n<pre><code>from decimal import Decimal\nfrom django.conf import settings\nfrom shop.models import Product\n\n\nclass Cart(object):\n\n    def __init__(self, request):\n        \"\"\"\n        Initialize the cart.\n        \"\"\"\n        self.session = request.session\n        cart = self.session.get(settings.CART_SESSION_ID)\n        if not cart:\n            # save an empty cart in the session\n            cart = self.session[settings.CART_SESSION_ID] = {}\n        self.cart = cart\n\n    def __len__(self):\n        \"\"\"\n        Count all items in the cart.\n        \"\"\"\n        return sum(item['quantity'] for item in self.cart.values())\n\n    def __iter__(self):\n        \"\"\"\n        Iterate over the items in the cart and get the products from the database.\n        \"\"\"\n        product_ids = self.cart.keys()\n        # get the product objects and add them to the cart\n        products = Product.objects.filter(id__in=product_ids)\n        for product in products:\n            self.cart[str(product.id)]['product'] = product\n\n        for item in self.cart.values():\n            item['price'] = Decimal(item['price'])\n            item['total_price'] = item['price'] * item['quantity']\n            yield item\n\n    def add(self, product, quantity=1, update_quantity=False):\n        \"\"\"\n        Add a product to the cart or update its quantity.\n        \"\"\"\n        product_id = str(product.id)\n        if product_id not in self.cart:\n            self.cart[product_id] = {'quantity': 0,\n                                      'price': str(product.price)}\n        if update_quantity:\n            self.cart[product_id]['quantity'] = quantity\n        else:\n            self.cart[product_id]['quantity'] += quantity\n        self.save()\n\n    def remove(self, product):\n        \"\"\"\n        Remove a product from the cart.\n        \"\"\"\n        product_id = str(product.id)\n        if product_id in self.cart:\n            del self.cart[product_id]\n            self.save()\n\n    def save(self):\n        # update the session cart\n        self.session[settings.CART_SESSION_ID] = self.cart\n        # mark the session as \"modified\" to make sure it is saved\n        self.session.modified = True\n\n    def clear(self):\n        # empty cart\n        self.session[settings.CART_SESSION_ID] = {}\n        self.session.modified = True\n\n    def get_total_price(self):\n        return sum(Decimal(item['price']) * item['quantity'] for item in self.cart.values())\n</code></pre>\n\n<p>This is views.py:</p>\n\n<pre><code>from django.shortcuts import render, redirect, get_object_or_404\nfrom django.views.decorators.http import require_POST\nfrom shop.models import Product\nfrom .cart import Cart\nfrom .forms import CartAddProductForm\n\n\n@require_POST\ndef cart_add(request, product_id):\n    cart = Cart(request)\n    product = get_object_or_404(Product, id=product_id)\n    form = CartAddProductForm(request.POST)\n    if form.is_valid():\n        cd = form.cleaned_data\n        cart.add(product=product,\n                #  quantity=cd['quantity'],\n                 update_quantity=cd['update'])\n    return redirect(product.category.get_absolute_url())\n\n\ndef cart_remove(request, product_id):\n    cart = Cart(request)\n    product = get_object_or_404(Product, id=product_id)\n    cart.remove(product)\n    return redirect('cart:cart_detail')\n\n\ndef cart_detail(request):\n    cart = Cart(request)\n    for item in cart:\n        item['update_quantity_form'] = CartAddProductForm(initial={'quantity': item['quantity'],\n                                                                   'update': True})\n    return render(request, 'cart/detail.html', {'cart': cart})\n</code></pre>\n\n<p>Any help is really appreciated!</p>\n"}, {"tags": ["python", "selenium", "web-scraping", "beautifulsoup"], "comments": [{"owner": {"reputation": 189, "user_id": 4926322, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/VBD4B.jpg?s=128&g=1", "display_name": "Jonathan Shobrook", "link": "https://stackoverflow.com/users/4926322/jonathan-shobrook"}, "reply_to_user": {"reputation": 15340, "user_id": 1560035, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/fe3aa4a1766a44d8f27db8a95cb573ed?s=128&d=identicon&r=PG", "display_name": "TheoretiCAL", "link": "https://stackoverflow.com/users/1560035/theoretical"}, "edited": false, "score": 0, "creation_date": 1507168687, "post_id": 46575460, "comment_id": 80106691, "body": "Selenium doesn&#39;t support multiple class names. If a class includes a space it will be treated as a compound selector, which is selected with By.CSS_SELECTOR."}], "answers": [{"comments": [{"owner": {"reputation": 189, "user_id": 4926322, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/VBD4B.jpg?s=128&g=1", "display_name": "Jonathan Shobrook", "link": "https://stackoverflow.com/users/4926322/jonathan-shobrook"}, "edited": false, "score": 0, "creation_date": 1507184607, "post_id": 46576135, "comment_id": 80111032, "body": "Hm, using the Chrome driver still yields a TimeoutException\u2013\u2013it&#39;s failing to find the element. And using PhantomJS 1.9.8 on macOS Sierra always segfaults, which is a known and unsolved <a href=\"https://github.com/ariya/phantomjs/issues/14558\" rel=\"nofollow noreferrer\">issue</a>."}], "tags": [], "owner": {"reputation": 4365, "user_id": 8715278, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9c1b29685540988d902a93290396918?s=128&d=identicon&r=PG&f=1", "display_name": "C. Braun", "link": "https://stackoverflow.com/users/8715278/c-braun"}, "is_accepted": false, "score": 0, "last_activity_date": 1507163385, "creation_date": 1507163385, "answer_id": 46576135, "question_id": 46575460, "link": "https://stackoverflow.com/questions/46575460/how-to-scrape-dynamic-content-with-bs4-or-selenium-python/46576135#46576135", "title": "How to scrape dynamic content with BS4 or Selenium (Python)?", "body": "<p>The current version of PhantomJS can't capture Github content because of Github's Content-Security-Policy setting. This is a known bug and documented <a href=\"https://github.com/ariya/phantomjs/issues/13114\" rel=\"nofollow noreferrer\" title=\"here\">here</a>. According to that issue page, downgrading to PhantomJS version 1.9.8 is a way around the problem.</p>\n\n<p>Another solution would be to use chromedriver:</p>\n\n<pre><code>driver = webdriver.Chrome('chromedriver')\ndriver.get(\"https://github.com/chrisspen/weka/find/master\")\n\nwait = WebDriverWait(driver, 10)\n\nelement = wait.until(\n     EC.presence_of_element_located((\n        By.CLASS_NAME, \"js-tree-finder-path\"\n     ))\n)\n</code></pre>\n"}], "owner": {"reputation": 189, "user_id": 4926322, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/VBD4B.jpg?s=128&g=1", "display_name": "Jonathan Shobrook", "link": "https://stackoverflow.com/users/4926322/jonathan-shobrook"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 455, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1507185948, "creation_date": 1507158202, "last_edit_date": 1507185948, "question_id": 46575460, "link": "https://stackoverflow.com/questions/46575460/how-to-scrape-dynamic-content-with-bs4-or-selenium-python", "title": "How to scrape dynamic content with BS4 or Selenium (Python)?", "body": "<p>I'm trying to scrape all the file paths in a Github repo from the File Finder page (<a href=\"https://github.com/chrisspen/weka/find/master\" rel=\"nofollow noreferrer\">example</a>).</p>\n\n<p>Beautiful Soup 4 fails to scrape the <code>&lt;tbody class=\"js-tree-finder-results js-navigation-container js-active-navigation-container\"&gt;</code> element that wraps the list of file paths. I figured this is b/c bs4 can't scrape dynamic content, so I tried waiting for all the elements to load with Selenium:</p>\n\n<pre><code>driver = webdriver.PhantomJS()\ndriver.get(\"https://github.com/chrisspen/weka/find/master\")\n\n# Explicitly wait for the element to become present\nwait = WebDriverWait(driver, 10)\nelement = wait.until(\n    EC.presence_of_element_located((\n        By.CSS_SELECTOR, \"js-tree-finder-results.js-navigation-container.js-active-navigation-container\"\n    ))\n)\n\n# Pass the found element into the script\nitems = driver.execute_script('return arguments[0].innerHTML;', element)\nprint(items)\n</code></pre>\n\n<p>But it's still failing to find the element.</p>\n\n<p>What am I doing wrong?</p>\n\n<p><strong>P.S.</strong></p>\n\n<p>The file paths can be grabbed easily via the JS console with the following script:</p>\n\n<pre><code>window.onload = function() {\n    var fileLinks = document.getElementsByClassName(\"css-truncate-target js-navigation-open js-tree-finder-path\"); \n    var files = []; \n    for (var i = 0; i &lt; fileLinks.length; i++) { \n        files.push(fileLinks[i].innerHTML); \n    } \n    return files; \n}\n</code></pre>\n\n<p><strong>Edit:</strong></p>\n\n<p>My program requires the use of a headless browser, like PhantomJS.</p>\n"}, {"tags": ["python", "tensorflow", "dataset", "label", "ipython-notebook"], "comments": [{"owner": {"reputation": 12286, "user_id": 1607442, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/18451ad16ed8ad45b0a18bf70b2aa002?s=128&d=identicon&r=PG", "display_name": "Ivan Aksamentov - Drop", "link": "https://stackoverflow.com/users/1607442/ivan-aksamentov-drop"}, "edited": false, "score": 0, "creation_date": 1507158384, "post_id": 46575427, "comment_id": 80104419, "body": "We could, but we need some more context. I shamefully admit, I&#39;ve never heard about SSD network, Widerface dataset or associated label saving issues. What is the problem exactly?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user7697769"}, "reply_to_user": {"reputation": 12286, "user_id": 1607442, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/18451ad16ed8ad45b0a18bf70b2aa002?s=128&d=identicon&r=PG", "display_name": "Ivan Aksamentov - Drop", "link": "https://stackoverflow.com/users/1607442/ivan-aksamentov-drop"}, "edited": false, "score": 0, "creation_date": 1507171295, "post_id": 46575427, "comment_id": 80107237, "body": "ssd is a kind of convolutional network. you can see it here: <a href=\"https://arxiv.org/pdf/1512.02325.pdf\" rel=\"nofollow noreferrer\">arxiv.org/pdf/1512.02325.pdf</a>  Widerface is a great dataset for face detection and its available here: <a href=\"http://mmlab.ie.cuhk.edu.hk/projects/WIDERFace/\" rel=\"nofollow noreferrer\">mmlab.ie.cuhk.edu.hk/projects/WIDERFace</a> . Widerface has a text file annotation . i want to load this dataset and prepare it to use in ssd network . I mean this version of ssd that is implemented here by Tensorflow: <a href=\"https://github.com/balancap/SSD-Tensorflow\" rel=\"nofollow noreferrer\">github.com/balancap/SSD-Tensorflow</a>"}, {"owner": {"reputation": 3947, "user_id": 7443104, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/599eeedbaf5a966b46ef5b5784741b8c?s=128&d=identicon&r=PG", "display_name": "Patwie", "link": "https://stackoverflow.com/users/7443104/patwie"}, "edited": false, "score": 0, "creation_date": 1507175793, "post_id": 46575427, "comment_id": 80108197, "body": "You can load them with TensorPack like I did here: <a href=\"https://gist.github.com/PatWie/a743d2349f388b27ed3ef783919c3882\" rel=\"nofollow noreferrer\">gist.github.com/PatWie/a743d2349f388b27ed3ef783919c3882</a> running this script should give you the images with bounding boxes"}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user7697769"}, "edited": false, "score": 0, "creation_date": 1507574708, "post_id": 46577653, "comment_id": 80255223, "body": "Thank&#39;s . I did all of them but in your entire script I was a little confuse. What&#39;s my wrong here ?   <code>parser.add_argument(&#39;--lmdb&#39;, &#39;C:&#47;Users&#47;User&#47;Documents&#47;FirstCode&#47;Datasett&#47;Wider_Face_Imdb&#39;&zwnj;&#8203;)     parser.add_argument(&#39;--zip&#39;, &#39;C:&#47;Users&#47;User&#47;Documents&#47;FirstCode&#47;Datasett&#47;Wider_Face&#39;,defa&zwnj;&#8203;ult=&#39;WIDER_train.zip&zwnj;&#8203;&#39;)     parser.add_argument(&#39;--mat&#39;, &#39;C:&#47;Users&#47;User&#47;Documents&#47;FirstCode&#47;Datasett&#47;Wider_Face&#39;,defa&zwnj;&#8203;ult=&#39;wider_face_spli&zwnj;&#8203;t&#47;wider_face_train.m&zwnj;&#8203;at&#39;)     parser.add_argument(&#39;--debug&#39;, action=&#39;store_true&#39;,help=&#39;just show the images&#39;)</code>"}], "tags": [], "owner": {"reputation": 3947, "user_id": 7443104, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/599eeedbaf5a966b46ef5b5784741b8c?s=128&d=identicon&r=PG", "display_name": "Patwie", "link": "https://stackoverflow.com/users/7443104/patwie"}, "is_accepted": true, "score": 1, "last_activity_date": 1507564507, "last_edit_date": 1507564507, "creation_date": 1507176118, "answer_id": 46577653, "question_id": 46575427, "link": "https://stackoverflow.com/questions/46575427/how-to-load-and-save-widerface-dataset-for-ssd-network-in-tensorflow/46577653#46577653", "title": "How to load and save Widerface dataset for ssd network in tensorflow?", "body": "<p>To load the dataset, I give you an explanation how to do this in TensorFlow with <a href=\"https://github.com/ppwwyyxx/tensorpack\" rel=\"nofollow noreferrer\">TensorPack</a> (just for the data).</p>\n\n<p>First, we need the zip file and the mat file containing the bounding boxes. The following part basically reads directly from the zip file and the mat-file</p>\n\n<pre><code>class RawWiderFaceReader(RNGDataFlow):\n    \"\"\"Read images directly from tar file without unpacking\n    boxes: left, top, width, height\n    \"\"\"\n    def __init__(self, matfile, zipfile):\n        super(RawWiderFaceReader, self).__init__()\n        self.matfile = matfile\n        self.zipfile = zipfile\n        self.subset = matfile.split('_')[-1].replace('.mat', '')\n        f = sio.loadmat(matfile)\n        events = [f['event_list'][i][0][0] for i in range(len(f['event_list']))]\n        raw_files = [f['file_list'][i][0] for i in range(len(f['file_list']))]\n        raw_bbx = [f['face_bbx_list'][i][0] for i in range(len(f['face_bbx_list']))]\n\n        col_files = []\n        for file, bbx in zip(raw_files, raw_bbx):\n            for filee, bbxe in zip(file, bbx):\n                col_files.append((filee[0][0], bbxe[0]))\n\n        self.col_files2 = []\n        for file, bbx in col_files:\n            for ev in events:\n                if file.startswith(ev.replace('--', '_')):\n                    self.col_files2.append((str('WIDER_%s/images/' % self.subset + ev +\n                                           '/' + file + '.jpg').encode('ascii', 'ignore'), bbx))\n                    break\n\n    def get_data(self):\n        with ZipFile(self.zipfile, 'r') as zip_hnd:\n            for fn, bbx in self.col_files2:\n                buf = zip_hnd.read('%s' % fn)\n                yield [buf, bbx]\n</code></pre>\n\n<p>it gives you a generator <code>get_data()</code> which returns the jpeg encoded images and bounding-boxes. The way it is stored seems to be complicated because it is a file containing the bounding boxes produced by Matlab.\nTo draw the bounding boxes, you can use:</p>\n\n<pre><code>def draw_rect(img, top, left, bottom, right, rgb, margin=1):\n    m = margin\n    r, g, b = rgb\n    img[top:bottom, left - m:left + m, 0] = r\n    img[top:bottom, left - m:left + m, 1] = g\n    img[top:bottom, left - m:left + m, 2] = b\n\n    img[top:bottom, right - m:right + m, 0] = r\n    img[top:bottom, right - m:right + m, 1] = g\n    img[top:bottom, right - m:right + m, 2] = b\n\n    img[top - m:top + m, left:right, 0] = r\n    img[top - m:top + m, left:right, 1] = g\n    img[top - m:top + m, left:right, 2] = b\n\n    img[bottom - m:bottom + m, left:right, 0] = r\n    img[bottom - m:bottom + m, left:right, 1] = g\n    img[bottom - m:bottom + m, left:right, 2] = b\n\n    return img\n</code></pre>\n\n<p>The entire script is here:\n<a href=\"https://gist.github.com/PatWie/a743d2349f388b27ed3ef783919c3882\" rel=\"nofollow noreferrer\">https://gist.github.com/PatWie/a743d2349f388b27ed3ef783919c3882</a></p>\n\n<p>After <code>pip install -U git+https://github.com/ppwwyyxx/tensorpack.git</code> you can fire it up by</p>\n\n<pre><code>python data_sampler.py --zip /scratch/patwie/data/wider_face/WIDER_val.zip \\\n                       --mat wider_face_split/wider_face_val.mat \\\n                       --debug\n</code></pre>\n\n<p>To convert it into an lmdb-file you can use the other argument. No need for unzipping the data here.</p>\n\n<p>To use the data, it is like in the script:</p>\n\n<pre><code>from tensorpack import *\nds = LMDBDataPoint('/scratch/wieschol/data/wider_face/WIDER_train.lmdb', shuffle=True)\nds = RawWiderFaceReader(matfile=args.mat, zipfile=args.zip)\nds.reset_state()\nfor jpeg, bbx in ds.get_data():\n    rgb = cv2.imdecode(np.asarray(jpeg), cv2.IMREAD_COLOR)\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user7697769"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 800, "favorite_count": 0, "accepted_answer_id": 46577653, "answer_count": 1, "score": 0, "last_activity_date": 1507564507, "creation_date": 1507157965, "last_edit_date": 1507256078, "question_id": 46575427, "link": "https://stackoverflow.com/questions/46575427/how-to-load-and-save-widerface-dataset-for-ssd-network-in-tensorflow", "title": "How to load and save Widerface dataset for ssd network in tensorflow?", "body": "<p>I want to load and save Widerface labels for ssd (single shot multibox detector) network in tensorflow, but <code>wider_face_train_bbx_gt</code> is so complicated. </p>\n\n<p>How can I save labels for ssd network in tensorflow?</p>\n"}, {"tags": ["python", "django", "list", "loops", "django-templates"], "answers": [{"tags": [], "owner": {"reputation": 250720, "user_id": 113962, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b80ae1d65878cf68a4b1a00848467527?s=128&d=identicon&r=PG", "display_name": "Alasdair", "link": "https://stackoverflow.com/users/113962/alasdair"}, "is_accepted": true, "score": 0, "last_activity_date": 1507159602, "creation_date": 1507159602, "answer_id": 46575648, "question_id": 46575399, "link": "https://stackoverflow.com/questions/46575399/django-templates-make-child-loop-inside-of-a-nested-loop-to-do-certain-number-o/46575648#46575648", "title": "Django templates: make child loop inside of a nested loop to do certain number of iterations", "body": "<p>Split the longer list into chunks. You can take your pick from the answers to <a href=\"https://stackoverflow.com/questions/312443/how-do-you-split-a-list-into-evenly-sized-chunks\">this question</a>, for example:</p>\n\n<pre><code>def chunks(l, n):\n    \"\"\"\n    Yield successive n-sized chunks from l.\n    code from https://stackoverflow.com/a/312464/113962\n    \"\"\"\n    for i in range(0, len(l), n):\n        yield l[i:i + n]\n</code></pre>\n\n<p>Zip the shorter list and the chunked list together.</p>\n\n<pre><code>list1 = ['a','b','c','d']\nlist2 = [1,2,3,4,5,6,7,8,9,10,11,12]\nchunked = chunks(list2, 3)\nzipped_lists = zip(list1, chunked)\n</code></pre>\n\n<p>Then loop through the zipped list in your template, for example:</p>\n\n<pre><code>{% for x, chunk in zipped_list %}\n{{ x }} {% for y in chunk %}{{ y }} {% endfor %}\n{% endfor %}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2196, "user_id": 4974980, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/20Dm4.jpg?s=128&g=1", "display_name": "Jens Astrup", "link": "https://stackoverflow.com/users/4974980/jens-astrup"}, "is_accepted": false, "score": 0, "last_activity_date": 1507163428, "creation_date": 1507163428, "answer_id": 46576139, "question_id": 46575399, "link": "https://stackoverflow.com/questions/46575399/django-templates-make-child-loop-inside-of-a-nested-loop-to-do-certain-number-o/46576139#46576139", "title": "Django templates: make child loop inside of a nested loop to do certain number of iterations", "body": "<p>Have you looked at <a href=\"https://docs.djangoproject.com/en/1.11/ref/templates/builtins/#for\" rel=\"nofollow noreferrer\">the forloop counter</a>?</p>\n\n<pre><code>{% for row_index in list1 %}\n   &lt;div class=\"row\"&gt;\n      &lt;div class=\"row-index\"&gt;{{ row_index }}&lt;/div&gt;\n      {% for cell in list2 %}\n           {% if forloop.counter &lt; 4 %}\n               &lt;div class=\"cell\"&gt;{{ cell }}&lt;/div&gt;\n           {% endif %}\n      {% endfor %}\n   &lt;/div&gt;\n{% endfor %}\n</code></pre>\n"}], "owner": {"reputation": 35, "user_id": 8519869, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb7e93d4968208fcf5cc64fed5ddbed1?s=128&d=identicon&r=PG&f=1", "display_name": "John Doe", "link": "https://stackoverflow.com/users/8519869/john-doe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 966, "favorite_count": 0, "accepted_answer_id": 46575648, "answer_count": 2, "score": 0, "last_activity_date": 1507163428, "creation_date": 1507157844, "question_id": 46575399, "link": "https://stackoverflow.com/questions/46575399/django-templates-make-child-loop-inside-of-a-nested-loop-to-do-certain-number-o", "title": "Django templates: make child loop inside of a nested loop to do certain number of iterations", "body": "<p>I have two lists:</p>\n\n<pre><code>list1 = ['a','b','c','d']\nlist2 = [1,2,3,4,5,6,7,8,9,10,11,12]\n</code></pre>\n\n<p>I want to render them into the template as follows:</p>\n\n<pre><code>a   1  2  3\nb   4  5  6\nc   7  8  9\nd   10 11 12\n</code></pre>\n\n<p>So the first column with the letters (<code>list1</code>) is row indexes. Each row consists of 3 cells populated from <code>list2</code>.</p>\n\n<p>Template structure is the following:</p>\n\n<pre><code>&lt;div class=\"row\"&gt;\n   &lt;div class=\"row-index\"&gt;row index from list1&lt;/div&gt;\n   &lt;div class=\"cell\"&gt;cell1 from list2&lt;/div&gt;\n   &lt;div class=\"cell\"&gt;cell2 from list2&lt;/div&gt;\n   &lt;div class=\"cell\"&gt;cell3 from list2&lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Obviously it is not enough to do a simple nested nested loop here (for <code>list1</code> and <code>list2</code>):</p>\n\n<pre><code>{% for row_index in list1 %}\n   &lt;div class=\"row\"&gt;\n      &lt;div class=\"row-index\"&gt;{{ row_index }}&lt;/div&gt;\n      {% for cell in list2 %}\n      &lt;div class=\"cell\"&gt;{{ cell }}&lt;/div&gt;\n      {% endfor %}\n   &lt;/div&gt;\n{% endfor %}\n</code></pre>\n\n<p>This will render 4 rows (which is right!) but each row will have 12 cells instead of 3 per row.</p>\n\n<p>Unfortunately, <code>zip_longest(list1, list2)</code> won't help since it adds extra <code>'None'</code> elements to <code>list1</code> to make it of equal length with <code>list2</code>. Result is 4 actual row indexes, followed by 8 empty ones. And the cells rendered are all the same for each individual row, e.g. <code>\"a 1 1 1\"</code>, <code>\"b 2 2 2\"</code>, etc.</p>\n\n<p>Is there any way in Django templates to force child loop (inside the nested loop) to do only 3 iterations per 1 iteration of its parent loop?</p>\n"}, {"tags": ["python", "scaling", "logistic-regression"], "comments": [{"owner": {"reputation": 27269, "user_id": 2320035, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/83d5a6d76755c6a987dd59495698dcfe?s=128&d=identicon&r=PG", "display_name": "sascha", "link": "https://stackoverflow.com/users/2320035/sascha"}, "edited": false, "score": 0, "creation_date": 1507158073, "post_id": 46575392, "comment_id": 80104357, "body": "<code>I tried using invert_transform() method in several places along the code but it didn&#39;t help</code> is not very helpful and this code is not reproducible as we dont have your data. Maybe you want to change that, although invert_transform in the correct places should be correct (but not sure what you were doing exactly)."}, {"owner": {"reputation": 1678, "user_id": 6895491, "user_type": "registered", "profile_image": "https://graph.facebook.com/10157453976390237/picture?type=large", "display_name": "Brenden Petersen", "link": "https://stackoverflow.com/users/6895491/brenden-petersen"}, "edited": false, "score": 1, "creation_date": 1507158214, "post_id": 46575392, "comment_id": 80104386, "body": "&quot;Plot the results&quot; is too vague to give a clear answer, but whatever you do, you&#39;ll need to store the pre-scaled data separately. For example, don&#39;t overwrite <code>X_train</code> and <code>X_test</code>, but create new variables like <code>X_train_sc</code> and <code>X_test_sc</code>, which you then feed into your classifier."}, {"owner": {"reputation": 27269, "user_id": 2320035, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/83d5a6d76755c6a987dd59495698dcfe?s=128&d=identicon&r=PG", "display_name": "sascha", "link": "https://stackoverflow.com/users/2320035/sascha"}, "reply_to_user": {"reputation": 1678, "user_id": 6895491, "user_type": "registered", "profile_image": "https://graph.facebook.com/10157453976390237/picture?type=large", "display_name": "Brenden Petersen", "link": "https://stackoverflow.com/users/6895491/brenden-petersen"}, "edited": false, "score": 0, "creation_date": 1507158596, "post_id": 46575392, "comment_id": 80104465, "body": "@BrendenPetersen He can overwrite them, as everything needed to inverse-transform these is stored in <code>sc_X</code> (but yeah; this kind of overwriting is probably making the code less intuitive)."}, {"owner": {"reputation": 3, "user_id": 8202486, "user_type": "registered", "profile_image": "https://graph.facebook.com/1338936536191748/picture?type=large", "display_name": "Miguel ", "link": "https://stackoverflow.com/users/8202486/miguel"}, "edited": false, "score": 0, "creation_date": 1507158635, "post_id": 46575392, "comment_id": 80104472, "body": "Sorry, I&#39;m really new to this whole universe. I&#39;ll try to be more specific. I&#39;m trying to plot a two region graph divided by the predict line (is this more clear?) I can do that with the current code, but I want to show the results with no scale, as it&#39;s not nice to see Age: -3, 2 and Salary: -3, 3, or something like that. Here&#39;s the data <a href=\"https://drive.google.com/file/d/0By9dFnjaS9K5MGNyUGV6SllvYjg/view?usp=sharing\" rel=\"nofollow noreferrer\">link</a>"}, {"owner": {"reputation": 27269, "user_id": 2320035, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/83d5a6d76755c6a987dd59495698dcfe?s=128&d=identicon&r=PG", "display_name": "sascha", "link": "https://stackoverflow.com/users/2320035/sascha"}, "edited": false, "score": 0, "creation_date": 1507158668, "post_id": 46575392, "comment_id": 80104481, "body": "Add a minimal example we can run or add your data. And probably describe your failed attempts? What&#39;s unclear about these 2 recommendations?"}, {"owner": {"reputation": 3, "user_id": 8202486, "user_type": "registered", "profile_image": "https://graph.facebook.com/1338936536191748/picture?type=large", "display_name": "Miguel ", "link": "https://stackoverflow.com/users/8202486/miguel"}, "edited": false, "score": 0, "creation_date": 1507159804, "post_id": 46575392, "comment_id": 80104747, "body": "I created new training and testing sets:     # Feature Scaling           sc_X = StandardScaler()     X_train_sc = sc_X.fit_transform(X_train)     X_test_sc = sc_X.transform(X_test)     # Fitting the Logistic Regression Model to the Dataset          classifier = LogisticRegression(random_state=0)     classifier.fit(X_train_sc, y_train)                # Visualizing the Training set results          X_set_train, y_set_train = X_train_sc, y_train      The link to the dataset: <a href=\"https://drive.google.com/file/d/0By9dFnjaS9K5MGNyUGV6SllvYjg/view?usp=sharing\" rel=\"nofollow noreferrer\">drive.google.com/file/d/0By9dFnjaS9K5MGNyUGV6SllvYjg/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 8202486, "user_type": "registered", "profile_image": "https://graph.facebook.com/1338936536191748/picture?type=large", "display_name": "Miguel ", "link": "https://stackoverflow.com/users/8202486/miguel"}, "edited": false, "score": 1, "creation_date": 1507161621, "post_id": 46575854, "comment_id": 80105160, "body": "Thank you for the insights and explanation.  I&#39;ll try to follow your suggestions and reminders. I really didn&#39;t want to seem lazy and demanding."}, {"owner": {"reputation": 27269, "user_id": 2320035, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/83d5a6d76755c6a987dd59495698dcfe?s=128&d=identicon&r=PG", "display_name": "sascha", "link": "https://stackoverflow.com/users/2320035/sascha"}, "reply_to_user": {"reputation": 3, "user_id": 8202486, "user_type": "registered", "profile_image": "https://graph.facebook.com/1338936536191748/picture?type=large", "display_name": "Miguel ", "link": "https://stackoverflow.com/users/8202486/miguel"}, "edited": false, "score": 0, "creation_date": 1507161863, "post_id": 46575854, "comment_id": 80105217, "body": "@Miguel Ok. I will remove the first part. Keep learning and good luck!"}], "tags": [], "owner": {"reputation": 27269, "user_id": 2320035, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/83d5a6d76755c6a987dd59495698dcfe?s=128&d=identicon&r=PG", "display_name": "sascha", "link": "https://stackoverflow.com/users/2320035/sascha"}, "is_accepted": true, "score": 0, "last_activity_date": 1507161690, "last_edit_date": 1507161690, "creation_date": 1507161187, "answer_id": 46575854, "question_id": 46575392, "link": "https://stackoverflow.com/questions/46575392/plotting-logistic-regression-non-scaled-values/46575854#46575854", "title": "Plotting Logistic Regression Non-Scaled values", "body": "<p>Your task is just about keeping track of scaled- and non-scaled data. </p>\n\n<p>While not analyzing your code in detail, the basic idea is just: Look where scaled/unscaled values are used and adjust if needed!</p>\n\n<ul>\n<li>A: After training, we don't need the scaled X anymore, so let's transform everything back</li>\n<li>B: But the kind of plot is using the classifier on some np.mesh, which itself is created by unscaled-data, so we need to use the transformer there again</li>\n<li>C: Be careful: the mesh-based approach is creating a dense mesh and if the bounds change while keeping the step-size, you will crash your PC due to memory-consumption\n\n<ul>\n<li>This one actually can be tuned (not sure where the original values came from) as the plot will get subtle changes</li>\n</ul></li>\n</ul>\n\n<p>So the needed changes are:</p>\n\n<p>A: </p>\n\n<pre><code>y_pred = classifier.predict(X_test)  # YOUR CODE\nX_train = sc_X.inverse_transform(X_train) # transform back\nX_test = sc_X.inverse_transform(X_test)   # \"\"\"\n</code></pre>\n\n<p>C:</p>\n\n<pre><code>X1, X2 = np.meshgrid(np.arange(start=X_set_train[:, 0].min(),\n                               stop=X_set_train[:, 0].max(), step=10.), #!!! 0.01 ),\n                     np.arange(start=X_set_train[:, 1].min(),\n                               stop=X_set_train[:, 1].max(), step=0.1)) #!!! 0.01))\n</code></pre>\n\n<p>B:</p>\n\n<pre><code>Z_train = np.array([X1.ravel(), X2.ravel()]).T\nplt.contourf(X1, X2, classifier.predict(sc_X.transform(Z_train)).reshape(X1.shape),  # TRANFORM Z\n                                    alpha=0.75,\n                                    cmap=ListedColormap(\n                                    ('red', 'green')))\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/DWbVs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DWbVs.png\" alt=\"enter image description here\"></a></p>\n\n<p>While the original plot displayed an aliased straight line (fine stair pattern), now we see something different. I will leave that open for the interested reader (it's connected to the scaling!).</p>\n"}], "owner": {"reputation": 3, "user_id": 8202486, "user_type": "registered", "profile_image": "https://graph.facebook.com/1338936536191748/picture?type=large", "display_name": "Miguel ", "link": "https://stackoverflow.com/users/8202486/miguel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1328, "favorite_count": 0, "accepted_answer_id": 46575854, "answer_count": 1, "score": 0, "last_activity_date": 1507161690, "creation_date": 1507157794, "question_id": 46575392, "link": "https://stackoverflow.com/questions/46575392/plotting-logistic-regression-non-scaled-values", "title": "Plotting Logistic Regression Non-Scaled values", "body": "<p>I'm new to Python and programming in general. I'm taking a class about Logistic Regression. The code below is correct and plots relatively nice (not so beautiful, but OK):</p>\n\n<pre><code># ------ LOGISTIC REGRESSION ------ #\n\n# --- Importing the Libraries --- #\n\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport pandas as pd\n\nfrom sklearn.model_selection import train_test_split\nfrom sklearn.preprocessing import StandardScaler\nfrom sklearn.linear_model import LogisticRegression\nfrom sklearn.metrics import confusion_matrix\nfrom matplotlib.colors import ListedColormap\n\n# --- Importing the Dataset --- #\n\npath = '/home/bohrz/Desktop/Programa\u00e7\u00e3o/Machine Learning/Part 3 - ' \\\n       'Classification/Section 14 - Logistic Regression/Social_Network_Ads.csv'\ndataset = pd.read_csv(path)\nX = dataset.iloc[:, 2:4].values\ny = dataset.iloc[:, -1].values\n\n# --- Splitting the Dataset into Training and Test set --- #\n\nX_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.25,\n                                                    random_state=0)\n\n# --- Feature Scaling --- #\n\nsc_X = StandardScaler()\nX_train = sc_X.fit_transform(X_train)\nX_test = sc_X.transform(X_test)\n\n# --- Fitting the Logistic Regression Model to the Dataset --- #\n\nclassifier = LogisticRegression(random_state=0)\nclassifier.fit(X_train, y_train)\n\n# --- Predicting the Test set results --- #\n\ny_pred = classifier.predict(X_test)\n\n# --- Making the Confusion Matrix --- #\n\ncm = confusion_matrix(y_test, y_pred)\n\n# --- Visualizing Logistic Regression results --- #\n\n# --- Visualizing the Training set results --- #\n\nX_set_train, y_set_train = X_train, y_train\nX1, X2 = np.meshgrid(np.arange(start=X_set_train[:, 0].min(),\n                               stop=X_set_train[:, 0].max(), step=0.01),\n                     np.arange(start=X_set_train[:, 1].min(),\n                               stop=X_set_train[:, 1].max(), step=0.01))\n\n# Building the graph contour based on classification method\nZ_train = np.array([X1.ravel(), X2.ravel()]).T\nplt.contourf(X1, X2, classifier.predict(Z_train).reshape(X1.shape), alpha=0.75,\n                                                         cmap=ListedColormap(\n                                                             ('red', 'green')))\n\n# Apply limits when outliers are present\nplt.xlim(X1.min(), X1.max())\nplt.ylim(X2.min(), X2.max())\n\n# Creating the scatter plot of the Training set results\nfor i, j in enumerate(np.unique(y_set_train)):\n    plt.scatter(X_set_train[y_set_train == j, 0], X_set_train[y_set_train == j,\n                                                              1],\n                c=ListedColormap(('red', 'green'))(i), label=j)\n\nplt.title('Logistic Regression (Trainning set results)')\nplt.xlabel('Age')\nplt.ylabel('Estimated Salary')\nplt.legend()\nplt.show()\n</code></pre>\n\n<p>My question is: how do I plot the results with no scale? I tried using invert_transform() method in several places along the code but it didn't help.</p>\n\n<p>Thank you in advance.</p>\n"}, {"tags": ["python", "performance", "numpy", "unique"], "comments": [{"owner": {"reputation": 92118, "user_id": 1217358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2aafb97833979e3668c61d36e697bfc?s=128&d=identicon&r=PG", "display_name": "Warren Weckesser", "link": "https://stackoverflow.com/users/1217358/warren-weckesser"}, "edited": false, "score": 0, "creation_date": 1507158084, "post_id": 46575364, "comment_id": 80104362, "body": "What is the data type of your array (e.g. what is <code>a.dtype</code>)?"}, {"owner": {"reputation": 185, "user_id": 4552349, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/dcb81eaa7fcad19b1a84aa5d2b2dbe3c?s=128&d=identicon&r=PG&f=1", "display_name": "onepint16oz", "link": "https://stackoverflow.com/users/4552349/onepint16oz"}, "reply_to_user": {"reputation": 92118, "user_id": 1217358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2aafb97833979e3668c61d36e697bfc?s=128&d=identicon&r=PG", "display_name": "Warren Weckesser", "link": "https://stackoverflow.com/users/1217358/warren-weckesser"}, "edited": false, "score": 0, "creation_date": 1507158215, "post_id": 46575364, "comment_id": 80104387, "body": "@WarrenWeckesser uint8"}, {"owner": {"reputation": 56440, "user_id": 2285236, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5ac8c2e0f71dbd8cf4543039bebf2ab3?s=128&d=identicon&r=PG&f=1", "display_name": "ayhan", "link": "https://stackoverflow.com/users/2285236/ayhan"}, "edited": false, "score": 5, "creation_date": 1507158441, "post_id": 46575364, "comment_id": 80104432, "body": "pandas&#39; unique function doesn&#39;t sort so it is faster. You might want to check that: <a href=\"https://pandas.pydata.org/pandas-docs/stable/generated/pandas.unique.html\" rel=\"nofollow noreferrer\">pandas.pydata.org/pandas-docs/stable/generated/&hellip;</a>"}, {"owner": {"reputation": 203214, "user_id": 3293881, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/6ZYnq.jpg?s=128&g=1", "display_name": "Divakar", "link": "https://stackoverflow.com/users/3293881/divakar"}, "edited": false, "score": 0, "creation_date": 1507185191, "post_id": 46575364, "comment_id": 80111294, "body": "@twopint32oz Could you time both the posted solutions? It seems there&#39;s some discrepancies on the timings. Could you also report CPU model and RAM alongwith? Thanks!"}], "answers": [{"comments": [{"owner": {"reputation": 185, "user_id": 4552349, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/dcb81eaa7fcad19b1a84aa5d2b2dbe3c?s=128&d=identicon&r=PG&f=1", "display_name": "onepint16oz", "link": "https://stackoverflow.com/users/4552349/onepint16oz"}, "edited": false, "score": 0, "creation_date": 1507170890, "post_id": 46575580, "comment_id": 80107156, "body": "This worked perfectly. Thanks. It seems like this can also be used to return a sorted unique array as well. I wonder why numpy decided to implement their unique() the way they did."}, {"owner": {"reputation": 92118, "user_id": 1217358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2aafb97833979e3668c61d36e697bfc?s=128&d=identicon&r=PG", "display_name": "Warren Weckesser", "link": "https://stackoverflow.com/users/1217358/warren-weckesser"}, "reply_to_user": {"reputation": 185, "user_id": 4552349, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/dcb81eaa7fcad19b1a84aa5d2b2dbe3c?s=128&d=identicon&r=PG&f=1", "display_name": "onepint16oz", "link": "https://stackoverflow.com/users/4552349/onepint16oz"}, "edited": false, "score": 0, "creation_date": 1507184625, "post_id": 46575580, "comment_id": 80111038, "body": "<code>numpy.unique</code> can handle arrays of arbitrary data type (all the various integer and floating point types, complex types, and structured arrays).  It does seem like it would be feasible for <code>numpy.unique</code> to handle the one (and possibly two) byte integer types with this method as a special case."}, {"owner": {"reputation": 21195, "user_id": 125507, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/2a59853d36056b7a088f33c96e3a1619?s=128&d=identicon&r=PG", "display_name": "endolith", "link": "https://stackoverflow.com/users/125507/endolith"}, "edited": false, "score": 0, "creation_date": 1565186320, "post_id": 46575580, "comment_id": 101274017, "body": "There&#39;s nothing stopping you from using this technique for higher bit depths, except that the tallying array <code>q</code> quickly becomes enormous, right?  It works for <code>uint16</code>, too, taking 0.6 s instead of 5.6 s."}], "tags": [], "owner": {"reputation": 92118, "user_id": 1217358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2aafb97833979e3668c61d36e697bfc?s=128&d=identicon&r=PG", "display_name": "Warren Weckesser", "link": "https://stackoverflow.com/users/1217358/warren-weckesser"}, "is_accepted": true, "score": 12, "last_activity_date": 1507159080, "creation_date": 1507159080, "answer_id": 46575580, "question_id": 46575364, "link": "https://stackoverflow.com/questions/46575364/efficiently-counting-number-of-unique-elements-numpy-python/46575580#46575580", "title": "Efficiently counting number of unique elements - NumPy / Python", "body": "<p>Here's a method that works for an array with dtype <code>np.uint8</code> that is faster than <code>np.unique</code>.</p>\n\n<p>First, create an array to work with:</p>\n\n<pre><code>In [128]: a = np.random.randint(1, 128, size=(10, 3000, 3000)).astype(np.uint8)\n</code></pre>\n\n<p>For later comparison, find the unique values using <code>np.unique</code>:</p>\n\n<pre><code>In [129]: u = np.unique(a)\n</code></pre>\n\n<p>Here's the faster method; <code>v</code> will contain the result:</p>\n\n<pre><code>In [130]: q = np.zeros(256, dtype=int)\n\nIn [131]: q[a.ravel()] = 1\n\nIn [132]: v = np.nonzero(q)[0]\n</code></pre>\n\n<p>Verify that we got the same result:</p>\n\n<pre><code>In [133]: np.array_equal(u, v)\nOut[133]: True\n</code></pre>\n\n<p>Timing:</p>\n\n<pre><code>In [134]: %timeit u = np.unique(a)\n2.86 s \u00b1 9.02 ms per loop (mean \u00b1 std. dev. of 7 runs, 1 loop each)\n\nIn [135]: %timeit q = np.zeros(256, dtype=int); q[a.ravel()] = 1; v = np.nonzero(q)\n300 ms \u00b1 5.52 ms per loop (mean \u00b1 std. dev. of 7 runs, 1 loop each)\n</code></pre>\n\n<p>So 2.86 seconds for <code>np.unique()</code>, and 0.3 seconds for the alternative method.</p>\n"}, {"comments": [{"owner": {"reputation": 92118, "user_id": 1217358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2aafb97833979e3668c61d36e697bfc?s=128&d=identicon&r=PG", "display_name": "Warren Weckesser", "link": "https://stackoverflow.com/users/1217358/warren-weckesser"}, "edited": false, "score": 1, "creation_date": 1507184407, "post_id": 46577884, "comment_id": 80110948, "body": "Nice.  I had also experimented with <code>bincount</code>, but it appeared to be slower.  In fact, when I use your code, I get 295 ms for <code>assign_method(a)</code> and 425 ms for <code>(np.bincount(a.ravel())!=0).sum()</code>.  Go figure."}, {"owner": {"reputation": 203214, "user_id": 3293881, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/6ZYnq.jpg?s=128&g=1", "display_name": "Divakar", "link": "https://stackoverflow.com/users/3293881/divakar"}, "reply_to_user": {"reputation": 92118, "user_id": 1217358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2aafb97833979e3668c61d36e697bfc?s=128&d=identicon&r=PG", "display_name": "Warren Weckesser", "link": "https://stackoverflow.com/users/1217358/warren-weckesser"}, "edited": false, "score": 0, "creation_date": 1507185116, "post_id": 46577884, "comment_id": 80111266, "body": "@WarrenWeckesser Could be a hardware thing (CPU, RAM). I am on Intel i7-6700HQ, 16GB RAM. But, yours are reproducible on ideone : <a href=\"https://ideone.com/WDWq9j\" rel=\"nofollow noreferrer\">ideone.com/WDWq9j</a>"}, {"owner": {"reputation": 92118, "user_id": 1217358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2aafb97833979e3668c61d36e697bfc?s=128&d=identicon&r=PG", "display_name": "Warren Weckesser", "link": "https://stackoverflow.com/users/1217358/warren-weckesser"}, "edited": false, "score": 0, "creation_date": 1507185558, "post_id": 46577884, "comment_id": 80111465, "body": "I&#39;m using a &quot;Late 2013&quot; Macbook Pro, 2.6 GHz Intel Core i7,16 GB 1600 MHz DDR3.  Also: Python 3.5.2, numpy 1.13.1."}, {"owner": {"reputation": 185, "user_id": 4552349, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/dcb81eaa7fcad19b1a84aa5d2b2dbe3c?s=128&d=identicon&r=PG&f=1", "display_name": "onepint16oz", "link": "https://stackoverflow.com/users/4552349/onepint16oz"}, "edited": false, "score": 0, "creation_date": 1507309457, "post_id": 46577884, "comment_id": 80173138, "body": "@Divakar Im using 2015 Macbook Pro, 2.9 GHz Intel Core i5, 8GB 1867MHz DDR3, Python 3.5 with numpy 1.12.1. I get 320ms for <code>assign_method(a)</code> and 592ms for <code>(np.bincount(a.ravel()) !=0).sum()</code> for 128 uniques. Similar results for 256 uniques."}, {"owner": {"reputation": 203214, "user_id": 3293881, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/6ZYnq.jpg?s=128&g=1", "display_name": "Divakar", "link": "https://stackoverflow.com/users/3293881/divakar"}, "reply_to_user": {"reputation": 185, "user_id": 4552349, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/dcb81eaa7fcad19b1a84aa5d2b2dbe3c?s=128&d=identicon&r=PG&f=1", "display_name": "onepint16oz", "link": "https://stackoverflow.com/users/4552349/onepint16oz"}, "edited": false, "score": 1, "creation_date": 1507310402, "post_id": 46577884, "comment_id": 80173629, "body": "@twopint32oz Appreciate you getting back with those!"}], "tags": [], "owner": {"reputation": 203214, "user_id": 3293881, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/6ZYnq.jpg?s=128&g=1", "display_name": "Divakar", "link": "https://stackoverflow.com/users/3293881/divakar"}, "is_accepted": false, "score": 4, "last_activity_date": 1507178454, "last_edit_date": 1507178454, "creation_date": 1507177943, "answer_id": 46577884, "question_id": 46575364, "link": "https://stackoverflow.com/questions/46575364/efficiently-counting-number-of-unique-elements-numpy-python/46577884#46577884", "title": "Efficiently counting number of unique elements - NumPy / Python", "body": "<p>We could leverage the fact that the elements are restricted to <code>uint8</code> range by binned-counting with <a href=\"https://docs.scipy.org/doc/numpy-1.13.0/reference/generated/numpy.bincount.html\" rel=\"nofollow noreferrer\"><code>np.bincount</code></a> and then simply count the number of non-zeros in it. Since, <code>np.bincount</code> expects a <code>1D</code> array, we would flatten the input with <code>np.ravel()</code> and then feed it to <code>bincount</code>.</p>\n\n<p>Hence, the implementation would be -</p>\n\n<pre><code>(np.bincount(a.ravel())!=0).sum()\n</code></pre>\n\n<p><strong>Runtime test</strong></p>\n\n<p>Helper function to create input array with various number of unique numbers -</p>\n\n<pre><code>def create_input(n_unique):\n    unq_nums = np.random.choice(np.arange(256), n_unique,replace=0)\n    return np.random.choice(unq_nums, (10,3000,3000)).astype(np.uint8)\n</code></pre>\n\n<p>Other approach(es) :</p>\n\n<pre><code># @Warren Weckesser's soln\ndef assign_method(a):\n    q = np.zeros(256, dtype=int)\n    q[a.ravel()] = 1\n    return len(np.nonzero(q)[0])\n</code></pre>\n\n<p>Verification of proposed method -</p>\n\n<pre><code>In [141]: a = create_input(n_unique=120)\n\nIn [142]: len(np.unique(a))\nOut[142]: 120\n\nIn [143]: (np.bincount(a.ravel())!=0).sum()\nOut[143]: 120\n</code></pre>\n\n<p>Timings -</p>\n\n<pre><code>In [124]: a = create_input(n_unique=128)\n\nIn [125]: %timeit len(np.unique(a)) # Original soln\n     ...: %timeit assign_method(a)  # @Warren Weckesser's soln\n     ...: %timeit (np.bincount(a.ravel())!=0).sum()\n     ...: \n1 loop, best of 3: 3.09 s per loop\n1 loop, best of 3: 394 ms per loop\n1 loop, best of 3: 209 ms per loop\n\nIn [126]: a = create_input(n_unique=256)\n\nIn [127]: %timeit len(np.unique(a)) # Original soln\n     ...: %timeit assign_method(a)  # @Warren Weckesser's soln\n     ...: %timeit (np.bincount(a.ravel())!=0).sum()\n     ...: \n1 loop, best of 3: 3.46 s per loop\n1 loop, best of 3: 378 ms per loop\n1 loop, best of 3: 212 ms per loop\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 21195, "user_id": 125507, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/2a59853d36056b7a088f33c96e3a1619?s=128&d=identicon&r=PG", "display_name": "endolith", "link": "https://stackoverflow.com/users/125507/endolith"}, "edited": false, "score": 0, "creation_date": 1565186496, "post_id": 56816197, "comment_id": 101274129, "body": "You can modify the numba method to count the unique elements, too, right?"}, {"owner": {"reputation": 14311, "user_id": 5085211, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eEZjd.png?s=128&g=1", "display_name": "fuglede", "link": "https://stackoverflow.com/users/5085211/fuglede"}, "reply_to_user": {"reputation": 21195, "user_id": 125507, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/2a59853d36056b7a088f33c96e3a1619?s=128&d=identicon&r=PG", "display_name": "endolith", "link": "https://stackoverflow.com/users/125507/endolith"}, "edited": false, "score": 1, "creation_date": 1565187259, "post_id": 56816197, "comment_id": 101274601, "body": "Sure; just be aware that you may have to roll your own hash map if you want that as your underlying structure; the example at hand is small enough to fit the counts in an array though."}], "tags": [], "owner": {"reputation": 14311, "user_id": 5085211, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eEZjd.png?s=128&g=1", "display_name": "fuglede", "link": "https://stackoverflow.com/users/5085211/fuglede"}, "is_accepted": false, "score": 2, "last_activity_date": 1561798139, "last_edit_date": 1561798139, "creation_date": 1561797644, "answer_id": 56816197, "question_id": 46575364, "link": "https://stackoverflow.com/questions/46575364/efficiently-counting-number-of-unique-elements-numpy-python/56816197#56816197", "title": "Efficiently counting number of unique elements - NumPy / Python", "body": "<p>If you don't mind using <a href=\"https://numba.pydata.org/\" rel=\"nofollow noreferrer\">Numba</a> to JIT compile your code, and modifying your code to make it easy for Numba to do its magic, then it's possible to get some good improvements over the suggestions already listed in the other answers.</p>\n\n<p>Using the naming from @Divakar's post:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>from numba import jit\nimport numpy as np\n\ndef create_input(n_unique):\n    unq_nums = np.random.choice(np.arange(256), n_unique, replace=0)\n    return np.random.choice(unq_nums, (10, 3000, 3000)).astype(np.uint8)\n\ndef unique(a):\n    return len(np.unique(a))\n\ndef assign_method(a):\n    q = np.zeros(256, dtype=int)\n    q[a.ravel()] = 1\n    return len(np.nonzero(q)[0])\n\ndef bincount(a):\n    return (np.bincount(a.ravel())!=0).sum()\n\ndef numba_friendly(a):\n    q = np.zeros(256, dtype=int)\n    count = 0\n    for x in a.ravel():\n        if q[x] == 0:\n            q[x] = 1\n            count += 1\n    return count\n\nunique_jit = jit(unique)\nassign_method_jit = jit(assign_method)\nbincount_jit = jit(bincount)\nnumba_friendly_jit = jit(numba_friendly)\n</code></pre>\n\n<p>Benchmark:</p>\n\n<pre><code>a = create_input(n_unique=128)\n\n%timeit unique(a)\n%timeit unique_jit(a)\n%timeit assign_method(a)\n%timeit assign_method_jit(a)\n%timeit bincount(a)\n%timeit bincount_jit(a)\n%timeit numba_friendly_jit(a)\n</code></pre>\n\n<p>Results:</p>\n\n<pre><code>unique:               7.5 s \u00b1 1.14 s per loop (mean \u00b1 std. dev. of 7 runs, 1 loop each)\nunique_jit:          13.4 s \u00b1 2.03 s per loop (mean \u00b1 std. dev. of 7 runs, 1 loop each)\nassign_method:       388 ms \u00b1 84.8 ms per loop (mean \u00b1 std. dev. of 7 runs, 1 loop each)\nassign_method_jit:   341 ms \u00b1 27.1 ms per loop (mean \u00b1 std. dev. of 7 runs, 1 loop each)\nbincount:            2.71 s \u00b1 218 ms per loop (mean \u00b1 std. dev. of 7 runs, 1 loop each)\nbincount_jit:        138 ms \u00b1 40.9 ms per loop (mean \u00b1 std. dev. of 7 runs, 1 loop each)\nnumba_friendly_jit: 56.4 ms \u00b1 8.96 ms per loop (mean \u00b1 std. dev. of 7 runs, 1 loop each)\n</code></pre>\n"}], "owner": {"reputation": 185, "user_id": 4552349, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/dcb81eaa7fcad19b1a84aa5d2b2dbe3c?s=128&d=identicon&r=PG&f=1", "display_name": "onepint16oz", "link": "https://stackoverflow.com/users/4552349/onepint16oz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5355, "favorite_count": 3, "accepted_answer_id": 46575580, "answer_count": 3, "score": 5, "last_activity_date": 1561798139, "creation_date": 1507157561, "last_edit_date": 1507178260, "question_id": 46575364, "link": "https://stackoverflow.com/questions/46575364/efficiently-counting-number-of-unique-elements-numpy-python", "title": "Efficiently counting number of unique elements - NumPy / Python", "body": "<p>When running np.unique(), it first flattens the array, sorts the array, then finds the unique values. When I have arrays with shape (10, 3000, 3000), it takes about a second to find the uniques, but this quickly adds up as I need to call np.unique() multiple times. Since I only care about the total number of unique numbers in an array, sorting seems like a waste of time.</p>\n\n<p>Is there a faster method of find the total number of unique values in a large array other than np.unique()?</p>\n"}, {"tags": ["python", "matlab", "plot", "gnuplot", "multiple-columns"], "answers": [{"tags": [], "owner": {"reputation": 587, "user_id": 8394209, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/672bd93b427a2477dbd549b7abf1773c?s=128&d=identicon&r=PG&f=1", "display_name": "eSurfsnake", "link": "https://stackoverflow.com/users/8394209/esurfsnake"}, "is_accepted": false, "score": 0, "last_activity_date": 1507157711, "creation_date": 1507157711, "answer_id": 46575384, "question_id": 46575337, "link": "https://stackoverflow.com/questions/46575337/plotting-multiple-files-with-common-basename/46575384#46575384", "title": "Plotting multiple files with common basename", "body": "<p>It wouldn't be hard if you can read them in with Python, get them in a set of lists, and use a declarative plot package like Plotly.</p>\n\n<p>Although Matplotlib is quick and easy, sometimes it takes more work than I imagine to do what seems obvious - especially with lots of data points that end up getting messy.</p>\n"}, {"tags": [], "owner": {"reputation": 1678, "user_id": 6895491, "user_type": "registered", "profile_image": "https://graph.facebook.com/10157453976390237/picture?type=large", "display_name": "Brenden Petersen", "link": "https://stackoverflow.com/users/6895491/brenden-petersen"}, "is_accepted": true, "score": 0, "last_activity_date": 1507157953, "creation_date": 1507157953, "answer_id": 46575423, "question_id": 46575337, "link": "https://stackoverflow.com/questions/46575337/plotting-multiple-files-with-common-basename/46575423#46575423", "title": "Plotting multiple files with common basename", "body": "<pre><code># Example Python implementation using matplotlib\n\nimport numpy as np\nimport matplotlib.pyplot as plt\n\ndelim = \",\" # Whatever delimiter your txt file uses\nbasename = \"file\"\nnumFiles = 100\nplt.figure()\nfor i in range(numFiles):\n    filename = basename + str(i) + \".txt\"\n    data = np.loadtxt(filename, delimiter=delim)\n    print data.shape\n    plt.plot(data[:,0], data[:,1])\nplt.show()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3626, "user_id": 7932936, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/88294cbc3a02c75cfbb906658ad85e15?s=128&d=identicon&r=PG", "display_name": "user8153", "link": "https://stackoverflow.com/users/7932936/user8153"}, "is_accepted": false, "score": 0, "last_activity_date": 1507158410, "creation_date": 1507158410, "answer_id": 46575490, "question_id": 46575337, "link": "https://stackoverflow.com/questions/46575337/plotting-multiple-files-with-common-basename/46575490#46575490", "title": "Plotting multiple files with common basename", "body": "<p>In gnuplot:</p>\n\n<pre><code>plot for [n=0:99] \"file\".n with lp\n</code></pre>\n\n<p>Of course you can modify the plot command as needed (different styles, <code>using</code> directive, etc.).</p>\n"}], "owner": {"reputation": 103, "user_id": 8042202, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aDJl6.jpg?s=128&g=1", "display_name": "Jitendra", "link": "https://stackoverflow.com/users/8042202/jitendra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 117, "favorite_count": 0, "closed_date": 1507184358, "accepted_answer_id": 46575423, "answer_count": 3, "score": -3, "last_activity_date": 1507158410, "creation_date": 1507157396, "question_id": 46575337, "link": "https://stackoverflow.com/questions/46575337/plotting-multiple-files-with-common-basename", "closed_reason": "Needs more focus", "title": "Plotting multiple files with common basename", "body": "<p>I have 100 .txt files with two columns. The file names are file0, file1, file2, ..., file99. I want to plot all of them in one single graph. How can I do this in gnuplot or python or matlab or C ?</p>\n"}, {"tags": ["python", "django", "api", "django-rest-framework", "insert-update"], "answers": [{"comments": [{"owner": {"reputation": 129, "user_id": 8162611, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/002cbedfe286ca30107a6a8fff5a957b?s=128&d=identicon&r=PG&f=1", "display_name": "Rishabh Pandey", "link": "https://stackoverflow.com/users/8162611/rishabh-pandey"}, "edited": false, "score": 0, "creation_date": 1507225375, "post_id": 46579117, "comment_id": 80136577, "body": "I tried it exactly the same way but when many=True it only supports create but not  update . I went through the documentation link already but i am unable to understand how to add an explicit id field to the instance serializer."}, {"owner": {"reputation": 129, "user_id": 8162611, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/002cbedfe286ca30107a6a8fff5a957b?s=128&d=identicon&r=PG&f=1", "display_name": "Rishabh Pandey", "link": "https://stackoverflow.com/users/8162611/rishabh-pandey"}, "edited": false, "score": 0, "creation_date": 1507230703, "post_id": 46579117, "comment_id": 80139255, "body": "It is giving this error - Serializers with many=True do not support multiple update by default, only multiple create. For updates it is unclear how to deal with insertions and deletions. If you need to support multiple update, use a <code>ListSerializer</code> class and override <code>.update()</code> so you can specify the behavior exactly."}, {"owner": {"reputation": 15098, "user_id": 4458034, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f986d9d2a1920cd4c9c71110a2dc7905?s=128&d=identicon&r=PG", "display_name": "Linovia", "link": "https://stackoverflow.com/users/4458034/linovia"}, "reply_to_user": {"reputation": 129, "user_id": 8162611, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/002cbedfe286ca30107a6a8fff5a957b?s=128&d=identicon&r=PG&f=1", "display_name": "Rishabh Pandey", "link": "https://stackoverflow.com/users/8162611/rishabh-pandey"}, "edited": false, "score": 0, "creation_date": 1507265992, "post_id": 46579117, "comment_id": 80149224, "body": "You didn&#39;t mention that id thing in the initial question. You didn&#39;t provide an update function as explained in the documentation. Please closed that question and start a new one."}], "tags": [], "owner": {"reputation": 15098, "user_id": 4458034, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f986d9d2a1920cd4c9c71110a2dc7905?s=128&d=identicon&r=PG", "display_name": "Linovia", "link": "https://stackoverflow.com/users/4458034/linovia"}, "is_accepted": false, "score": 1, "last_activity_date": 1507184735, "creation_date": 1507184735, "answer_id": 46579117, "question_id": 46575333, "link": "https://stackoverflow.com/questions/46575333/update-for-serializers-with-many-true-only-create-is-supported-in-django-api/46579117#46579117", "title": "Update for Serializers with many=True only create is supported in django api", "body": "<p>The argument for the serializer instantiation should be an instance and not a <code>Model</code>.</p>\n\n<pre><code>serializer = AppSerializer(ThirdPartyApps, data=data, context={\"auth_token_id\": a_id}, many=True)\n</code></pre>\n\n<p>You need to replace <code>ThirdPartyApps</code> by the instance list you want to update.</p>\n\n<p>You'll also need to follow the <a href=\"http://www.django-rest-framework.org/api-guide/serializers/#customizing-multiple-update\" rel=\"nofollow noreferrer\">documentation</a> about how to handle multiple update.</p>\n"}], "owner": {"reputation": 129, "user_id": 8162611, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/002cbedfe286ca30107a6a8fff5a957b?s=128&d=identicon&r=PG&f=1", "display_name": "Rishabh Pandey", "link": "https://stackoverflow.com/users/8162611/rishabh-pandey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3692, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1507184735, "creation_date": 1507157369, "last_edit_date": 1507182391, "question_id": 46575333, "link": "https://stackoverflow.com/questions/46575333/update-for-serializers-with-many-true-only-create-is-supported-in-django-api", "title": "Update for Serializers with many=True only create is supported in django api", "body": "<p>I am using many in my serializer for creating new fields . I need to implement update in order to add the new fields coming and leave the existing ones as it is. Mycode is given below.</p>\n\n<p>models.py</p>\n\n<pre><code>class Device(models.Model):\n   device_id = models.CharField(max_length=200)\n   auth_token = models.CharField(max_length=100)\n\n\nclass ThirdPartyApps(models.Model):\n   auth_token = models.ForeignKey(Device, on_delete=models.CASCADE)\n   app_name = models.CharField(max_length=100)\n</code></pre>\n\n<p>serializers.py</p>\n\n<pre><code>class AppSerializer(serializers.ModelSerializer):\n\n    class Meta:\n        model = Apps\n        fields = ('app_name', 'auth_token_id')\n\n    def create(self, validated_data):\n        if \"auth_token_id\" in self.context:\n            id1 = self.context[\"auth_token_id\"]\n            instance = self.Meta.model(**validated_data)\n            user_id = id1\n            if user_id is not None:\n                instance.auth_token_id = user_id\n                instance.save()\n            return instance\n</code></pre>\n\n<p>views.py</p>\n\n<pre><code>@api_view(['POST'])\ndef add_apps(request):\n    data = request.data\n    auth_token = request.META.get('HTTP_AUTHTOKEN', '')\n    auth_tok = Device.objects.get(auth_token=auth_token)\n    a_id = auth_tok.id\n    serializer = AppSerializer(ThirdPartyApps, data=data, context={\"auth_token_id\": a_id}, many=True)\n    if serializer.is_valid():\n        serializer.save()\n        content = collections.OrderedDict(\n                [('status', True), ('message', \"Third party apps are saved\")])\n        return Response(content, status=status.HTTP_200_OK)\n    else:\n        return Response(serializer.errors)\n</code></pre>\n\n<p>I tried to use the update support of django by giving the model name while passing it to serializer to call the update method. But it says that when many=True , update is not supported only create method is supported . It is suggesting to use a <code>ListSerializer</code> class and override `.update() in my serializers. I am unable to understand how to use it. I just want to update my fields .</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 1, "user_id": 8723129, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a22a57cfc8e4ba30970e176e1c9eedb7?s=128&d=identicon&r=PG&f=1", "display_name": "mynamedinkie", "link": "https://stackoverflow.com/users/8723129/mynamedinkie"}, "reply_to_user": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1507157989, "post_id": 46575330, "comment_id": 80104338, "body": "I did. All other age calculations would use import date, which I tried and does not work. I was simply trying to find an easier way to calculate age using the mm dd yyyy input. I can find age prompting them 6 different times with individual day month and year for current and dob but that is obviously a lot sloppier."}], "answers": [{"comments": [{"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1507157674, "post_id": 46575381, "comment_id": 80104258, "body": "Good luck subtracting two strings."}, {"owner": {"reputation": 1, "user_id": 8723129, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a22a57cfc8e4ba30970e176e1c9eedb7?s=128&d=identicon&r=PG&f=1", "display_name": "mynamedinkie", "link": "https://stackoverflow.com/users/8723129/mynamedinkie"}, "edited": false, "score": 0, "creation_date": 1507158114, "post_id": 46575381, "comment_id": 80104371, "body": "It does not work. you have to prompt separately not using mm dd yyyy."}], "tags": [], "owner": {"reputation": 3, "user_id": 7790820, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ML_TIN5_FaA/AAAAAAAAAAI/AAAAAAAAAvY/GtuHYgkVQXs/photo.jpg?sz=128", "display_name": "Harsh Pandey", "link": "https://stackoverflow.com/users/7790820/harsh-pandey"}, "is_accepted": false, "score": 0, "last_activity_date": 1507158921, "last_edit_date": 1507158921, "creation_date": 1507157658, "answer_id": 46575381, "question_id": 46575330, "link": "https://stackoverflow.com/questions/46575330/calculating-age-with-dob-and-current-date-python-3-6-2/46575381#46575381", "title": "Calculating age with DOB and current date. python 3.6.2", "body": "<p>Why don't you simply subtract the birth year with current date? You will get to know how many years you lived. If you want to know it accurately then the subtract the months and dates also.</p>\n"}], "owner": {"reputation": 1, "user_id": 8723129, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a22a57cfc8e4ba30970e176e1c9eedb7?s=128&d=identicon&r=PG&f=1", "display_name": "mynamedinkie", "link": "https://stackoverflow.com/users/8723129/mynamedinkie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1136, "favorite_count": 0, "closed_date": 1507157528, "answer_count": 1, "score": 0, "last_activity_date": 1507158921, "creation_date": 1507157350, "last_edit_date": 1507157482, "question_id": 46575330, "link": "https://stackoverflow.com/questions/46575330/calculating-age-with-dob-and-current-date-python-3-6-2", "closed_reason": "Duplicate", "title": "Calculating age with DOB and current date. python 3.6.2", "body": "<p>I am doing an assignment for an intro python class and do not know how to get age calculated using my birth date and the current date. </p>\n\n<pre><code>print(\"Hello, welcome to Hopper's Computer Museum! To determine your entrance fee, please enter the following:\")\ndob = int(input(\"Your Date of Birth (mm dd yyyy)-: \"))\ncurrentdate = int(input(\"Today's date (mm dd yyyy): \"))\n</code></pre>\n\n<p>Any help on where to start from the code I have already would be fantastic. I do not know how to get an age calculated from using the input mm dd yyyy. </p>\n"}, {"tags": ["python", "pandas", "csv", "date", "datetime"], "comments": [{"owner": {"reputation": 15201, "user_id": 7386332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb50c81104978fe1e111da483c41ff0f?s=128&d=identicon&r=PG&f=1", "display_name": "Anton vBR", "link": "https://stackoverflow.com/users/7386332/anton-vbr"}, "edited": false, "score": 0, "creation_date": 1507445038, "post_id": 46575322, "comment_id": 80206525, "body": "Try to remember: <b>strptime</b> to read strings to datetime and <b>strftime</b> to print datetime strings and you just look it up. I constantly have to look up all the format options. For instance &quot;%A&quot; returns weekday in text."}], "answers": [{"comments": [{"owner": {"reputation": 653, "user_id": 7876832, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/8026603fd9d461598f867990a8eefbd2?s=128&d=identicon&r=PG&f=1", "display_name": "ParalysisByAnalysis", "link": "https://stackoverflow.com/users/7876832/paralysisbyanalysis"}, "edited": false, "score": 1, "creation_date": 1507159023, "post_id": 46575444, "comment_id": 80104568, "body": "Perfect.  My pandas actually utilizes <code>.to_csv</code> in typing up this example quickly I resorted to old habits.  Thanks for the prompt help!"}], "tags": [], "owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "is_accepted": true, "score": 9, "last_activity_date": 1614386561, "last_edit_date": 1614386561, "creation_date": 1507158097, "answer_id": 46575444, "question_id": 46575322, "link": "https://stackoverflow.com/questions/46575322/how-to-get-todays-date-with-pandas/46575444#46575444", "title": "How to get today&#39;s date with pandas?", "body": "<p>You could do this with <code>dt.today</code> and <code>dt.strftime</code>:</p>\n<pre><code>import datetime as dt\n\ntoday = dt.datetime.today().strftime('%m%d%Y')  \noutput_file = 'filename_{}.csv'.format(today)\n</code></pre>\n<p>Also, <code>pd.write_csv</code> is deprecated/removed in newer versions. I suggest upgrading your pandas to the latest version (v0.20 as of now), and using <code>df.to_csv</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 4, "creation_date": 1507158944, "post_id": 46575529, "comment_id": 80104545, "body": "I didn&#39;t know this was possible. Wonderful."}, {"owner": {"reputation": 423, "user_id": 4106458, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c402b192bd7d78b6fe4ff084544a0bd5?s=128&d=identicon&r=PG&f=1", "display_name": "Sarfraaz Ahmed", "link": "https://stackoverflow.com/users/4106458/sarfraaz-ahmed"}, "edited": false, "score": 0, "creation_date": 1602499527, "post_id": 46575529, "comment_id": 113730263, "body": "I found that we could also use <code>now = pd.to_datetime(&#39;today&#39;)</code> to get the same effect. <code>pd.Timestamp</code> was new for me. But, I keep using <code>to_datetime</code> a lot. So, this was easier for me to remember."}], "tags": [], "owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "is_accepted": false, "score": 14, "last_activity_date": 1577118085, "last_edit_date": 1577118085, "creation_date": 1507158731, "answer_id": 46575529, "question_id": 46575322, "link": "https://stackoverflow.com/questions/46575322/how-to-get-todays-date-with-pandas/46575529#46575529", "title": "How to get today&#39;s date with pandas?", "body": "<p>python's <code>format</code> can handle date input</p>\n\n<pre><code>today = pd.Timestamp('today')\n'filename_{:%m%d%Y}.csv'.format(today)\n\n'filename_10042017.csv'\n</code></pre>\n\n<p>Using Python 3.6's <code>f-strings</code></p>\n\n<pre><code>today = pd.Timestamp('today')\nf'filename_{today:%m%d%Y}.csv'\n\n'filename_10042017.csv'\n</code></pre>\n"}], "owner": {"reputation": 653, "user_id": 7876832, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/8026603fd9d461598f867990a8eefbd2?s=128&d=identicon&r=PG&f=1", "display_name": "ParalysisByAnalysis", "link": "https://stackoverflow.com/users/7876832/paralysisbyanalysis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9434, "favorite_count": 2, "accepted_answer_id": 46575444, "answer_count": 2, "score": 4, "last_activity_date": 1614386561, "creation_date": 1507157301, "last_edit_date": 1547344766, "question_id": 46575322, "link": "https://stackoverflow.com/questions/46575322/how-to-get-todays-date-with-pandas", "title": "How to get today&#39;s date with pandas?", "body": "<p>I have a python script that imports a df, processes it, and then outputs to a csv file.  I'm using <code>pandas.write_csv()</code> to output the file.</p>\n\n<p>I'm looking to standardize the manner in which my script names the output file.  Specifically, I would like for the script to pull today's date as format: MMDDYYYY and insert that to the end of the CSV file.</p>\n\n<pre><code>outputfile = 'mypotentialfilename_MMDDYYYY.csv'\npd.write_csv(outputfile) \n</code></pre>\n\n<p>In the past, I've seen quick ways to insert a date into a text, but I cannot seem to find the code to review.  Any help is appreciated.</p>\n"}, {"tags": ["python", "selenium", "jenkins", "selenium-webdriver"], "comments": [{"owner": {"reputation": 4487, "user_id": 2329061, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/89e7e5642e4f608893b279c8438329a3?s=128&d=identicon&r=PG", "display_name": "Buaban", "link": "https://stackoverflow.com/users/2329061/buaban"}, "edited": false, "score": 0, "creation_date": 1507182281, "post_id": 46575294, "comment_id": 80110140, "body": "This may help you <a href=\"https://stackoverflow.com/questions/39547598/selenium-common-exceptions-webdriverexception-message-connection-refused\" title=\"selenium common exceptions webdriverexception message connection refused\">stackoverflow.com/questions/39547598/&hellip;</a>"}, {"owner": {"reputation": 59, "user_id": 964503, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/ed9ab3edcb7e3150a3c3eaceba404fde?s=128&d=identicon&r=PG", "display_name": "user964503", "link": "https://stackoverflow.com/users/964503/user964503"}, "reply_to_user": {"reputation": 4487, "user_id": 2329061, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/89e7e5642e4f608893b279c8438329a3?s=128&d=identicon&r=PG", "display_name": "Buaban", "link": "https://stackoverflow.com/users/2329061/buaban"}, "edited": false, "score": 0, "creation_date": 1507231860, "post_id": 46575294, "comment_id": 80139878, "body": "thanks for your answer but doesn&#39;t seem the same error, the geckodriver has this error:    2017-10-05 09:47:04.236 firefox-bin[51594:3535212] kCFURLVolumeIsAutomountedKey missing for file://localhost/private/var/folders/x7/hbpgtz5d5m5580f70vr6&zwnj;&#8203;09d00000gn/T/AppTran&zwnj;&#8203;slocation/08FF51A1-9&zwnj;&#8203;498-445C-9061-C71A4B&zwnj;&#8203;165F31/: The file \u201c08FF51A1-9498-445C-9061-C71A4B165F31\u201d couldn\u2019t be opened because you don\u2019t have permission to view it. _RegisterApplication(), FAILED TO establish the default connection to the WindowServer, _CGSDefaultConnection() is NULL."}], "owner": {"reputation": 59, "user_id": 964503, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/ed9ab3edcb7e3150a3c3eaceba404fde?s=128&d=identicon&r=PG", "display_name": "user964503", "link": "https://stackoverflow.com/users/964503/user964503"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 500, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1507157140, "creation_date": 1507157140, "question_id": 46575294, "link": "https://stackoverflow.com/questions/46575294/jenkins-not-running-selenium-script-python", "title": "jenkins not running selenium script python", "body": "<p>I'm trying to run a script using jenkins, I'm using pytest framework to write my tests, I try to configure my project I use the option execute shell and using this code:</p>\n\n<pre><code>#!/bin/bash\n\n/Library/Python/2.7/site-packages/virtualenv venv --distribute\n. venv/bin/activate \n\n# try to run your script here\n/Library/Python/2.7/site-packages/pytest -p no:cacheprovider /Users/sergio/testjenkins/test_google.py\n</code></pre>\n\n<p>and this is the script I'm trying to run:</p>\n\n<pre><code>from selenium import webdriver\n\n\nclass TestGoogleSearchTest:\ndriver = None\n\ndef setup(self):\n    # Create a new Firefox driver instance\n    self.driver = webdriver.Firefox(executable_path = '/usr/local/bin/geckodriver')\n\ndef teardown(self):\n    # Close the browser after running the tests\n    self.driver.quit()\n\ndef test_search(self):\n    # Trigger a Google Search\n    self.driver.get('http://www.google.com')\n    searchElement = self.driver.find_element_by_name('q')\n    searchElement.send_keys('6020 peaks')\n    searchElement.submit()\n</code></pre>\n\n<p>my problem is when I try to build my project I receive this error:</p>\n\n<pre><code>E       selenium.common.exceptions.WebDriverException: Message: connection refused\n\n/Users/sergio/.pyenv/versions/3.4.2/lib/python3.4/site-packages/selenium/webdriver/remote/errorhandler.py:194: WebDriverException\n========================== 1 error in 106.06 seconds ===========================\nBuild step 'Execute shell' marked build as failure\nFinished: FAILURE\n</code></pre>\n\n<p>Not really sure what could be the problem.</p>\n\n<p>Thanks in advance</p>\n"}, {"tags": ["python", "string", "python-2.7"], "comments": [{"owner": {"reputation": 261375, "user_id": 174728, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eRO75.jpg?s=128&g=1", "display_name": "John La Rooy", "link": "https://stackoverflow.com/users/174728/john-la-rooy"}, "edited": false, "score": 0, "creation_date": 1507160721, "post_id": 46575257, "comment_id": 80104924, "body": "Can there be more than one &quot;i&quot; or &quot;a&quot; in the string? What is the expected result for those cases?"}], "answers": [{"tags": [], "owner": {"reputation": 137, "user_id": 5849995, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38be8d9cc496cf62df8ce3a892530a5f?s=128&d=identicon&r=PG&f=1", "display_name": "jonatan", "link": "https://stackoverflow.com/users/5849995/jonatan"}, "is_accepted": false, "score": 1, "last_activity_date": 1507157200, "creation_date": 1507157200, "answer_id": 46575306, "question_id": 46575257, "link": "https://stackoverflow.com/questions/46575257/how-to-find-letters-in-order-from-a-string-in-python-2-7/46575306#46575306", "title": "How to find letters in order from a string in Python 2.7", "body": "<p>You'd find out where (and if) the first letter first appears and then search from that location for the second letter.</p>\n\n<p>str.find has an optional start paramter which you can use to specify where the search for the second letter should start.</p>\n"}, {"comments": [{"owner": {"reputation": 1, "user_id": 8723084, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-oLW3zmuIvPQ/AAAAAAAAAAI/AAAAAAAAAEk/4IMm1lFjL7k/photo.jpg?sz=128", "display_name": "Noah Phillips", "link": "https://stackoverflow.com/users/8723084/noah-phillips"}, "edited": false, "score": 0, "creation_date": 1507160919, "post_id": 46575311, "comment_id": 80104973, "body": "Thank you! It worked great, and I appreciate the help."}, {"owner": {"reputation": 1678, "user_id": 6895491, "user_type": "registered", "profile_image": "https://graph.facebook.com/10157453976390237/picture?type=large", "display_name": "Brenden Petersen", "link": "https://stackoverflow.com/users/6895491/brenden-petersen"}, "reply_to_user": {"reputation": 1, "user_id": 8723084, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-oLW3zmuIvPQ/AAAAAAAAAAI/AAAAAAAAAEk/4IMm1lFjL7k/photo.jpg?sz=128", "display_name": "Noah Phillips", "link": "https://stackoverflow.com/users/8723084/noah-phillips"}, "edited": false, "score": 0, "creation_date": 1507220604, "post_id": 46575311, "comment_id": 80133929, "body": "Glad I could help! Please accept the answer as correct if you&#39;re satisfied."}], "tags": [], "owner": {"reputation": 1678, "user_id": 6895491, "user_type": "registered", "profile_image": "https://graph.facebook.com/10157453976390237/picture?type=large", "display_name": "Brenden Petersen", "link": "https://stackoverflow.com/users/6895491/brenden-petersen"}, "is_accepted": false, "score": 1, "last_activity_date": 1507157240, "creation_date": 1507157240, "answer_id": 46575311, "question_id": 46575257, "link": "https://stackoverflow.com/questions/46575257/how-to-find-letters-in-order-from-a-string-in-python-2-7/46575311#46575311", "title": "How to find letters in order from a string in Python 2.7", "body": "<p>The <code>find</code> string method gives you the index of the first occurrence of a substring. If it can't find it, it returns -1.</p>\n\n<pre><code>name = easygui.enterbox(\"string being searched\")\nterm1 = 'i'\nterm2 = 'a'\nposition1 = name.find(term1)\nposition2 = name.find(term2)\nif(position1 != -1 and position2 != -1 and position1 &lt; position2):\n    easygui.msgbox(\"message\")\n    bonus = True\nelse:\n    bonus = False\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 497, "user_id": 2480769, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/e18498c1a173797a970ab5cf1770df4b?s=128&d=identicon&r=PG", "display_name": "mnickey", "link": "https://stackoverflow.com/users/2480769/mnickey"}, "is_accepted": false, "score": 0, "last_activity_date": 1507157966, "creation_date": 1507157966, "answer_id": 46575428, "question_id": 46575257, "link": "https://stackoverflow.com/questions/46575257/how-to-find-letters-in-order-from-a-string-in-python-2-7/46575428#46575428", "title": "How to find letters in order from a string in Python 2.7", "body": "<p>As mentioned already, the find method returns the index. This can be useful though. Instead of using the <code>number</code> value which gets overwritten in the original code, just check for membership.We can do this with <code>in</code> inside an if statement.</p>\n\n<pre><code># set the value as a string just for easy use\nname = 'i am super'\n\n# check for membership of both \"i\" and \"s\"\nif 'i' in name and 's' in name:\n\n    # Now use the .find method to check the indexes and make sure they are in the order you want (i before a or in this case s).\n    if name.find('i') &lt; name.find('s'):\n\n        # print the indexes just to 2x check\n        print(name.find('i'))\n        print(name.find('s'))\n\n        # if both conditions are valid, print True, here's where you'd assign bonus to True\n        print('True')\n    else:\n        # print or assign bonus to false.\n        print('False')\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 8723084, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-oLW3zmuIvPQ/AAAAAAAAAAI/AAAAAAAAAEk/4IMm1lFjL7k/photo.jpg?sz=128", "display_name": "Noah Phillips", "link": "https://stackoverflow.com/users/8723084/noah-phillips"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 91, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1507158112, "creation_date": 1507156934, "question_id": 46575257, "link": "https://stackoverflow.com/questions/46575257/how-to-find-letters-in-order-from-a-string-in-python-2-7", "title": "How to find letters in order from a string in Python 2.7", "body": "<p>For a project I'm making in Python 2.7, I have to write something that can tell if the letters \"i\" and \"a\" appear in a string put in by the user. The letters have to be in that order, but they do not have to be sequential (there can be other letters in between). How would I be able to code it so that it can detect that set of conditions in the string?</p>\n\n<p>So far what I have is this... </p>\n\n<pre><code>name = easygui.enterbox(\"string being searched\");\nterm1 = \"i\";\nnumber = name.find(term1)\nterm2 = \"a\";\nnumber = name.find(term2)\nif(number &gt; 1):\n    easygui.msgbox(\"message\")\n    bonus = True\nelse:\n    bonus = False\n</code></pre>\n\n<p>... but it doesn't take into account the order of the letters. I've gone through many similar types of questions, but nothing has quite worked.</p>\n"}, {"tags": ["python", "pandas", "dataframe", "merge"], "comments": [{"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1507157007, "post_id": 46575219, "comment_id": 80104076, "body": "Check your expected output... there&#39;s a 13 in there. Is that a mistake?"}, {"owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "edited": false, "score": 1, "creation_date": 1507157269, "post_id": 46575219, "comment_id": 80104144, "body": "How you got two h.1 ..in column Id"}], "answers": [{"comments": [{"owner": {"reputation": 1092, "user_id": 6341182, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/c37c2a0f46b44ffbc5ac9a82abf60abd?s=128&d=identicon&r=PG&f=1", "display_name": "Mary", "link": "https://stackoverflow.com/users/6341182/mary"}, "edited": false, "score": 0, "creation_date": 1507157267, "post_id": 46575259, "comment_id": 80104143, "body": "@COLDSPEED, Thank you. Is there anyway not to mention the name of columns from df2? I have about 40 columns in df2."}, {"owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "edited": false, "score": 1, "creation_date": 1507157316, "post_id": 46575259, "comment_id": 80104162, "body": "<code>astype(df2.dtypes)</code>"}, {"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "reply_to_user": {"reputation": 1092, "user_id": 6341182, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/c37c2a0f46b44ffbc5ac9a82abf60abd?s=128&d=identicon&r=PG&f=1", "display_name": "Mary", "link": "https://stackoverflow.com/users/6341182/mary"}, "edited": false, "score": 0, "creation_date": 1507157404, "post_id": 46575259, "comment_id": 80104191, "body": "piRSquared, Wonderful. I didn&#39;t know you could do that. @Mary, you have your answer."}], "tags": [], "owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "is_accepted": true, "score": 3, "last_activity_date": 1507157351, "last_edit_date": 1507157351, "creation_date": 1507156953, "answer_id": 46575259, "question_id": 46575219, "link": "https://stackoverflow.com/questions/46575219/merging-two-dataframes-with-pandas/46575259#46575259", "title": "Merging two dataframes with pandas", "body": "<p>Use an outer <code>merge</code> + <code>fillna</code>:</p>\n\n<pre><code>df[['id']].merge(df2, how='outer')\\\n            .fillna(0).astype(df2.dtypes)\n\n    id  head  sweat  pain\n0  l.1     1      0     1\n1  l.2     0      0     0\n2  l.3     1      0     0\n3  f.1     0      0     0\n4  f.2     3      1     1\n5  h.1     0      0     0\n6  h.3     1      1     0\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 2, "creation_date": 1507157593, "post_id": 46575356, "comment_id": 80104232, "body": "Very nice. You can shorten this: <code>df2.set_index(&#39;id&#39;).reindex(df[&#39;id&#39;], fill_value=0).reset_index()</code> - bonus: you get int columns, so no need to convert."}, {"owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "edited": false, "score": 2, "creation_date": 1507157655, "post_id": 46575356, "comment_id": 80104247, "body": "It also preserves the dtypes"}, {"owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "reply_to_user": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1507157669, "post_id": 46575356, "comment_id": 80104255, "body": "@c\u1d0f\u029f\u1d05s\u1d18\u1d07\u1d07\u1d05 Yes you are right :) much nicer! BTW ...I do not think I get the expected out put he want ...."}, {"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1507157719, "post_id": 46575356, "comment_id": 80104267, "body": "It&#39;s the same as mine though? OP seemed to approve of it."}, {"owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "reply_to_user": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1507157815, "post_id": 46575356, "comment_id": 80104288, "body": "@c\u1d0f\u029f\u1d05s\u1d18\u1d07\u1d07\u1d05 Base on his description , ours solution should be ok, but if you look at his expected out put ...."}, {"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1507157835, "post_id": 46575356, "comment_id": 80104293, "body": "I know, I think there was a mistake when writing it."}, {"owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "reply_to_user": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1507157966, "post_id": 46575356, "comment_id": 80104328, "body": "@c\u1d0f\u029f\u1d05s\u1d18\u1d07\u1d07\u1d05 that is make sense .. :)"}], "tags": [], "owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "is_accepted": false, "score": 4, "last_activity_date": 1507157509, "creation_date": 1507157509, "answer_id": 46575356, "question_id": 46575219, "link": "https://stackoverflow.com/questions/46575219/merging-two-dataframes-with-pandas/46575356#46575356", "title": "Merging two dataframes with pandas", "body": "<p>By using <code>reindex</code></p>\n\n<pre><code>df2.set_index('id').reindex(df1.id).fillna(0).reset_index()\nOut[371]: \n    id  head  sweat  pain\n0  l.1   1.0    0.0   1.0\n1  l.2   0.0    0.0   0.0\n2  l.3   1.0    0.0   0.0\n3  f.1   0.0    0.0   0.0\n4  f.2   3.0    1.0   1.0\n5  h.1   0.0    0.0   0.0\n6  h.3   1.0    1.0   0.0\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "is_accepted": false, "score": 3, "last_activity_date": 1507158490, "last_edit_date": 1507158490, "creation_date": 1507158354, "answer_id": 46575478, "question_id": 46575219, "link": "https://stackoverflow.com/questions/46575219/merging-two-dataframes-with-pandas/46575478#46575478", "title": "Merging two dataframes with pandas", "body": "<p><strong>Outside the Box</strong>  </p>\n\n<pre><code>i = np.setdiff1d(F1.id, F2.id)\nF2.append(pd.DataFrame(0, range(len(i)), F2.columns).assign(id=i))\n\n    id  head  sweat  pain\n0  l.1     1      0     1\n1  l.3     1      0     0\n2  f.2     3      1     1\n3  h.3     1      1     0\n0  f.1     0      0     0\n1  h.1     0      0     0\n2  l.2     0      0     0\n</code></pre>\n\n<hr>\n\n<p>With a normal index</p>\n\n<pre><code>i = np.setdiff1d(F1.id, F2.id)\nF2.append(\n    pd.DataFrame(0, range(len(i)), F2.columns).assign(id=i),\n    ignore_index=True\n)\n\n    id  head  sweat  pain\n0  l.1     1      0     1\n1  l.3     1      0     0\n2  f.2     3      1     1\n3  h.3     1      1     0\n4  f.1     0      0     0\n5  h.1     0      0     0\n6  l.2     0      0     0\n</code></pre>\n"}], "owner": {"reputation": 1092, "user_id": 6341182, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/c37c2a0f46b44ffbc5ac9a82abf60abd?s=128&d=identicon&r=PG&f=1", "display_name": "Mary", "link": "https://stackoverflow.com/users/6341182/mary"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "accepted_answer_id": 46575259, "answer_count": 3, "score": 1, "last_activity_date": 1507444844, "creation_date": 1507156714, "last_edit_date": 1507444844, "question_id": 46575219, "link": "https://stackoverflow.com/questions/46575219/merging-two-dataframes-with-pandas", "title": "Merging two dataframes with pandas", "body": "<p>This is a subset of data frame \nF1:</p>\n\n<pre><code>id        code    s-code\nl.1        1       11\nl.2        2       12\nl.3        3       13\nf.1        4       NA\nf.2        3        1\nh.1        2        1\nh.3        1        1\n</code></pre>\n\n<p>I need to compare the F1.id with F2.id and then add the differences in column \"id\" to the F2 data frame and fill in columns' values for the added \"id\" with 0. </p>\n\n<p>this is the second data frame\nF2:</p>\n\n<pre><code>id        head    sweat  pain\nl.1        1       0      1\nl.3        1       0      0\nf.2        3        1     1\nh.3        1        1     0\n</code></pre>\n\n<p>The output should be like this:</p>\n\n<p>F3:</p>\n\n<pre><code>id        head    sweat  pain\nl.1        1       0      1\nl.3        3       13     0  \nf.2        3        1     1\nh.1        2        1     1\nh.3        1        1     0\nl.2        0        0     0\nh.1        0        0     0\nf.1        0        0     0\n</code></pre>\n\n<p>I tried different solution, such as \n    <code>F1[(F1.index.isin(F2.index)) &amp; (F1.isin(F2))]</code> to return the differences, but non of them worked. </p>\n"}, {"tags": ["python", "python-3.x", "influxdb", "influxdb-python"], "answers": [{"tags": [], "owner": {"reputation": 61, "user_id": 4164210, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/afd6cfb3db723cddb85ac7fdafb75148?s=128&d=identicon&r=PG&f=1", "display_name": "Duke Kong", "link": "https://stackoverflow.com/users/4164210/duke-kong"}, "is_accepted": false, "score": 0, "last_activity_date": 1507164584, "creation_date": 1507164584, "answer_id": 46576261, "question_id": 46575210, "link": "https://stackoverflow.com/questions/46575210/trouble-inserting-dataframe-into-influxdb-using-python/46576261#46576261", "title": "Trouble Inserting DataFrame Into InfluxDB Using Python", "body": "<p>So I realized that I had to explicitly specify the protocol to be json, as such:</p>\n\n<pre><code>influx_pd.write_points(frame, measurement='enroll_pd', protocol='json')\n</code></pre>\n\n<p>in addition to filling in NaN values (JSON has no support for those) with an imputation method. I thought the docs I was under the impression that json was the default, I guess that was not the case.</p>\n\n<p>This, of course, might only be one solution. I welcome other, alternative solutions that work.</p>\n"}], "owner": {"reputation": 61, "user_id": 4164210, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/afd6cfb3db723cddb85ac7fdafb75148?s=128&d=identicon&r=PG&f=1", "display_name": "Duke Kong", "link": "https://stackoverflow.com/users/4164210/duke-kong"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1179, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1507164584, "creation_date": 1507156691, "question_id": 46575210, "link": "https://stackoverflow.com/questions/46575210/trouble-inserting-dataframe-into-influxdb-using-python", "title": "Trouble Inserting DataFrame Into InfluxDB Using Python", "body": "<p>I'm trying to insert a very large CSV file into InfluxDB and am inserting it as such in Python:</p>\n\n<pre><code>influx_pd = influxdb.DataFrameClient(host, port, user, password, db, verify_ssl=False)\n\nfor frame in pd.read_csv(infile, chunksize=batch_count):\n    frame.set_index(pd.DatetimeIndex(frame[date_pk]), inplace=True)\n    frame.dropna(axis=1, how='all')\n    influx_pd.write_points(frame, 'patients')\n</code></pre>\n\n<p>However, on the first call to write_points, I'm receiving this error (truncated):</p>\n\n<pre><code>raise InfluxDBClientError(response.content, response.status_code)\ninfluxdb.exceptions.InfluxDBClientError: 400: {\"error\":\"unable to parse 'enroll_pd Pt Id=\\\"21.0\\\",Admit Date=\\\"2010-12-05\\\", ... MRSA Screening=\\\"Negative\\\" 1291507200000000000': invalid field format\\nunable to parse ... (ellipses used to truncate)\n</code></pre>\n\n<p>I had read about issues with InfluxDB and NaN values (which my CSV file does contain), so I tried inserting placeholder values for NaN values but receive the same result. Could someone please help me locate the issue in my code? It would be much appreciated.</p>\n\n<p>I'm using an InfluxDB 1.3 Docker image just FYI.</p>\n"}, {"tags": ["python", "performance", "bigdata", "itertools", "data-science"], "comments": [{"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 3, "creation_date": 1507156498, "post_id": 46575175, "comment_id": 80103926, "body": "You seriously sat for 8 hours and timed this code? Anyway, I think it would help if you were to show some data, expected output, and what you&#39;re trying to do. No one can do anything more than surface touch ups without any context whatsoever."}, {"owner": {"reputation": 17298, "user_id": 1540468, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2f7d0c7668a2f3b53cf22c01ae63f32b?s=128&d=identicon&r=PG", "display_name": "Paul Rooney", "link": "https://stackoverflow.com/users/1540468/paul-rooney"}, "edited": false, "score": 4, "creation_date": 1507156577, "post_id": 46575175, "comment_id": 80103945, "body": "If you reduce your data set to one which runs in a reasonable time and run it against the profiler do you get any illuminating information?"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 5, "creation_date": 1507156668, "post_id": 46575175, "comment_id": 80103974, "body": "Actually, since your algorithm does n-choose-2 iterations, i.e. <code>(1&#47;2)*(n - 1)*n</code> i.e., you have quadratic complexity, so if you increase the size by 100, you can expect the time required to increase by about 5000, so if it really took 8 hours on 1% of the data, I&#39;d guestimate more like 40,000 hours on 100% of the data"}, {"owner": {"reputation": 288763, "user_id": 487339, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wbe4o.png?s=128&g=1", "display_name": "DSM", "link": "https://stackoverflow.com/users/487339/dsm"}, "edited": false, "score": 0, "creation_date": 1507157174, "post_id": 46575175, "comment_id": 80104129, "body": "+1 for the suggestion of giving more context.  It feels like you&#39;re doing a set consolidation with a fuzzy equality (clustering with your token_sort_ratio), but that&#39;s only a guess."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 1, "creation_date": 1507158091, "post_id": 46575175, "comment_id": 80104363, "body": "And looking at this even more closely, it seems like <i>inside</i> your loop you do on operation that depends linearly on the total size, i.e. <code>sample.clean_name==alpha</code>, so it seems like you actually have <i>cubic</i> complexity, so probably closer to 4,000,000 hours, which is about 456.6210046 years. So, 800 hours wouldn&#39;t have been that bad..."}, {"owner": {"reputation": 83, "user_id": 8000135, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0602a81ce785f28a476cce9cd0bd28f4?s=128&d=identicon&r=PG&f=1", "display_name": "Shooth", "link": "https://stackoverflow.com/users/8000135/shooth"}, "edited": false, "score": 0, "creation_date": 1507159259, "post_id": 46575175, "comment_id": 80104645, "body": "Thanks  juanpa.arrivillaga for confirming that this is a really bad idea after all.  I edited my question now with alot more info"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1507171364, "post_id": 46575175, "comment_id": 80107248, "body": "@Shooth so you say &quot;Basically, I want to compare each name with the next...&quot; but that is <b>not</b> what you are doing. You are comparing each name <i>with every other name</i>."}, {"owner": {"reputation": 83, "user_id": 8000135, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0602a81ce785f28a476cce9cd0bd28f4?s=128&d=identicon&r=PG&f=1", "display_name": "Shooth", "link": "https://stackoverflow.com/users/8000135/shooth"}, "edited": false, "score": 0, "creation_date": 1507200928, "post_id": 46575175, "comment_id": 80120618, "body": "yes, I have to do that, because, in my example, apple inc could be at the bottom of the list. So, the only way (I can think of) to compare apple computers with it, is to compare it with everything, and so on."}, {"owner": {"reputation": 7276, "user_id": 3220135, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RR7BR.jpg?s=128&g=1", "display_name": "Aaron", "link": "https://stackoverflow.com/users/3220135/aaron"}, "edited": false, "score": 0, "creation_date": 1507215739, "post_id": 46575175, "comment_id": 80130938, "body": "you&#39;re gonna need a way to reject matches based on things like &quot;inc&quot;, &quot;co&quot;, &quot;LLC&quot;, etc.."}, {"owner": {"reputation": 6178, "user_id": 4420934, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/a512a390a9af72bcac92dcb903e5cdeb?s=128&d=identicon&r=PG&f=1", "display_name": "syntonym", "link": "https://stackoverflow.com/users/4420934/syntonym"}, "edited": false, "score": 1, "creation_date": 1507215749, "post_id": 46575175, "comment_id": 80130943, "body": "Changing the code (porting to spark or mapreduce) will not help, because the algorithm is just so slow. You should think about an algorithm which is linearly or <code>O(n log(n))</code> in the amount of names. Maybe <a href=\"https://stackoverflow.com/questions/8848991/python-digest-hash-for-string-similarity\">this question</a> can help you."}, {"owner": {"reputation": 7276, "user_id": 3220135, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RR7BR.jpg?s=128&g=1", "display_name": "Aaron", "link": "https://stackoverflow.com/users/3220135/aaron"}, "edited": false, "score": 0, "creation_date": 1507216201, "post_id": 46575175, "comment_id": 80131277, "body": "@Shooth I found a <a href=\"http://www.logarithmic.net/pfh/blog/01164790008\" rel=\"nofollow noreferrer\">thing...</a> this is a bit beyond my complete understanding, but seems like the right direction. You&#39;d likely want to separate individual words for the comparisons, but they could be linked back together afterwards and combined for a more robust heuristic.."}, {"owner": {"reputation": 7276, "user_id": 3220135, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RR7BR.jpg?s=128&g=1", "display_name": "Aaron", "link": "https://stackoverflow.com/users/3220135/aaron"}, "edited": false, "score": 0, "creation_date": 1507216680, "post_id": 46575175, "comment_id": 80131593, "body": "it seems to me like you basically need a spell check algorithm to find similar matches in a large dictionary. there&#39;s tons of research in the subject of spell checkers and how to make them fast for huge lists of words. you just need to combine several words into one search.."}, {"owner": {"reputation": 83, "user_id": 8000135, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0602a81ce785f28a476cce9cd0bd28f4?s=128&d=identicon&r=PG&f=1", "display_name": "Shooth", "link": "https://stackoverflow.com/users/8000135/shooth"}, "reply_to_user": {"reputation": 7276, "user_id": 3220135, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RR7BR.jpg?s=128&g=1", "display_name": "Aaron", "link": "https://stackoverflow.com/users/3220135/aaron"}, "edited": false, "score": 0, "creation_date": 1507217038, "post_id": 46575175, "comment_id": 80131808, "body": "@Aaron, yes I know, I didn&#39;t mention it because it wasn&#39;t important, but I filtered out [&#39;inc&#39;, &#39;corporation&#39;, &#39;corp&#39;, &#39;company&#39;, &#39;group&#39;, &#39;co&#39;,&#39;international&#39;  &#39;incorporated&#39;, &#39;et&#39;, &#39;al&#39;] in my actual code."}, {"owner": {"reputation": 83, "user_id": 8000135, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0602a81ce785f28a476cce9cd0bd28f4?s=128&d=identicon&r=PG&f=1", "display_name": "Shooth", "link": "https://stackoverflow.com/users/8000135/shooth"}, "reply_to_user": {"reputation": 6178, "user_id": 4420934, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/a512a390a9af72bcac92dcb903e5cdeb?s=128&d=identicon&r=PG&f=1", "display_name": "syntonym", "link": "https://stackoverflow.com/users/4420934/syntonym"}, "edited": false, "score": 0, "creation_date": 1507217180, "post_id": 46575175, "comment_id": 80131909, "body": "@syntonym and Aaron I&#39;ll see the 2 links you guys posted and try to understand if I can use them..."}, {"owner": {"reputation": 6178, "user_id": 4420934, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/a512a390a9af72bcac92dcb903e5cdeb?s=128&d=identicon&r=PG&f=1", "display_name": "syntonym", "link": "https://stackoverflow.com/users/4420934/syntonym"}, "reply_to_user": {"reputation": 7276, "user_id": 3220135, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RR7BR.jpg?s=128&g=1", "display_name": "Aaron", "link": "https://stackoverflow.com/users/3220135/aaron"}, "edited": false, "score": 0, "creation_date": 1507218043, "post_id": 46575175, "comment_id": 80132425, "body": "@Aaron I think for that to work you need a list of &quot;true names&quot;/&quot;clean names&quot;. AT Shooth Do you have something like that available? Or do you have no idea which names will appear?"}, {"owner": {"reputation": 83, "user_id": 8000135, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0602a81ce785f28a476cce9cd0bd28f4?s=128&d=identicon&r=PG&f=1", "display_name": "Shooth", "link": "https://stackoverflow.com/users/8000135/shooth"}, "reply_to_user": {"reputation": 6178, "user_id": 4420934, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/a512a390a9af72bcac92dcb903e5cdeb?s=128&d=identicon&r=PG&f=1", "display_name": "syntonym", "link": "https://stackoverflow.com/users/4420934/syntonym"}, "edited": false, "score": 0, "creation_date": 1507218299, "post_id": 46575175, "comment_id": 80132567, "body": "@syntonym I only have a dataframe with 3.3million names. If I looked closely at each one individually, it will be easy to tell if it&#39;s correct or not. I&#39;m not sure if a dictionary would work because something like &quot;Jake Industries&quot; and Jaek Industries&quot; needs to be matched, but there&#39;s no &quot;jake&quot; in the English dictionary"}, {"owner": {"reputation": 7116, "user_id": 1394353, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/519ce8a904896c40b9a9e2d9a82e0d3c?s=128&d=identicon&r=PG", "display_name": "JL Peyret", "link": "https://stackoverflow.com/users/1394353/jl-peyret"}, "edited": false, "score": 0, "creation_date": 1507263093, "post_id": 46575175, "comment_id": 80148571, "body": "are these for publicly listed corps?  if so, why not &quot;anchor&quot; each entry to the baseline company name they are listed under?  easier to match apple under 3 diff variations to a baseline than each variation to each other."}, {"owner": {"reputation": 27784, "user_id": 4531270, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/uw3pm.png?s=128&g=1", "display_name": "pylang", "link": "https://stackoverflow.com/users/4531270/pylang"}, "edited": false, "score": 0, "creation_date": 1507263720, "post_id": 46575175, "comment_id": 80148673, "body": "I imagine may be possible with a 2D numpy matrix where diagnols values for each company.  Then apply a comparison function between the diagnols to the off-diagnols via broadcasting, which should improve performance."}, {"owner": {"reputation": 27784, "user_id": 4531270, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/uw3pm.png?s=128&g=1", "display_name": "pylang", "link": "https://stackoverflow.com/users/4531270/pylang"}, "edited": false, "score": 0, "creation_date": 1507604303, "post_id": 46575175, "comment_id": 80264759, "body": "See post on a numpy approach.  This may give you another way to look at the problem even if it is not the best solution."}], "answers": [{"tags": [], "owner": {"reputation": 27784, "user_id": 4531270, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/uw3pm.png?s=128&g=1", "display_name": "pylang", "link": "https://stackoverflow.com/users/4531270/pylang"}, "is_accepted": false, "score": 6, "last_activity_date": 1508819798, "last_edit_date": 1508819798, "creation_date": 1507604211, "answer_id": 46657969, "question_id": 46575175, "link": "https://stackoverflow.com/questions/46575175/my-python-code-is-taking-8-hours-to-iterate-over-big-data/46657969#46657969", "title": "My python code is taking 8+ hours to iterate over big data", "body": "<p>Using <code>itertools.combinations</code> for 32k rows will certainly make your code slow.  Here is an approach using numpy instead of pandas on a <strong>smaller dataset</strong> to address the following objectives:</p>\n\n<ol>\n<li>Implement a function for grouping company names by some condition (a predicate)</li>\n<li>Make the function(s) faster than the posted implementation</li>\n</ol>\n\n<p>Use this post as a means to attack your problem from a different angle.</p>\n\n<p><strong>Given</strong></p>\n\n<p>Here we build a small list of company names <code>A</code>, <code>B</code>, <code>C</code> and <code>Aa</code>:</p>\n\n<pre><code>import itertools as it\nimport collections as ct\n\nimport numpy as np\n\n\ncompanies = \"A B C Aa\".split()\n</code></pre>\n\n<p><strong>Code</strong></p>\n\n<p>Step 1</p>\n\n<p>First we will create a 2D array where the horizontal and vertical indices are identical company names.  Inside the matrix will comprise the merged company names:</p>\n\n<pre><code># 1. Build a 2D array of joined strings\ndef get_2darray(seq):\n    \"\"\"Return a 2D array of identical axes.\"\"\"\n    x = np.array(seq)\n    y = np.array(seq)\n\n    xx = x[:, np.newaxis]\n    yy = y[np.newaxis, :]\n\n    return np.core.defchararray.add(xx, yy)                # ref 001\n</code></pre>\n\n<p>Demo</p>\n\n<pre><code>arr = get_2darray(companies)\narr\n# array([['AA', 'AB', 'AC', 'AAa'],\n#        ['BA', 'BB', 'BC', 'BAa'],\n#        ['CA', 'CB', 'CC', 'CAa'],\n#        ['AaA', 'AaB', 'AaC', 'AaAa']], \n#       dtype='&lt;U4')\n</code></pre>\n\n<p>Step 2</p>\n\n<p>Second we implement a <code>group</code> function for enumerating similar companies.  Given a 2D array, a helper function (<code>func</code>) will be used to \"transform\" each element to a group number:</p>\n\n<pre><code># 2. Group companies by \"similarity\", e.g. \"AB\" == \"BA\"\ndef group(func, arr, pred=None, verbose=False):\n    \"\"\"Return an array of items enumerated by similarity.\"\"\"\n    if pred is None:\n        # Set diagnol to zero\n        pred = lambda x: len(set(x)) != len(x)\n\n    dd = ct.defaultdict(it.count().__next__)\n    dd[\"\"] = np.nan \n\n    # opt_func = np.vectorize(func)                        # optional, slower\n    opt_func = np.frompyfunc(func, 3, 1)                   # ref 002\n\n    m = opt_func(arr, dd, pred)\n    if verbose: print(dd)\n    return m\n\n\ndef transform(item, lookup, pred):\n    \"\"\"Return a unique group number element-wise.\"\"\"\n    unique_idx = \"\".join(sorted(item.lower()))\n    name_group = lookup[unique_idx]\n    if pred(item):\n        return 0\n    else:\n        return name_group\n</code></pre>\n\n<p>Demo</p>\n\n<pre><code>groups = group(transform, arr, verbose=True)\ngroups\n# defaultdict(&lt;method-wrapper '__next__' of itertools.count object at 0x00000000062BE408&gt;,\n# {'': nan, 'aaa': 3, 'aac': 8, 'ab': 1, \n# 'cc': 7, 'aa': 0, 'bc': 5, 'aaaa': 9,\n# 'ac': 2, 'bb': 4, 'aab': 6})\n\n# array([[0, 1, 2, 0],\n#        [1, 0, 5, 6],\n#        [2, 5, 0, 8],\n#        [0, 6, 8, 0]], dtype=object)\n</code></pre>\n\n<p>Each company name is grouped with a unique number.</p>\n\n<p>Step 3</p>\n\n<p>You can now access the group number for two companies by slicing the <code>groups</code> array:</p>\n\n<pre><code># 3. Lookup the group number shared by companies\nreversed_lookup = {v:k for k, v in enumerate(companies)}\n\ndef group_number(arr, a, b):\n    \"\"\"Return the name_group given company names, in 2D array `m`.\"\"\"\n    i, j = reversed_lookup[a], reversed_lookup[b]\n    return arr[i, j]\n\n\nfor companies in [[\"B\", \"C\"], [\"A\", \"B\"], [\"C\", \"C\"]]:\n    msg = \"Companies {}: group {}\"\n    print(msg.format(\" &amp; \".join(companies), group_number(groups, *companies)))\n\n\n# Companies B &amp; C: group 5\n# Companies A &amp; B: group 1\n# Companies C &amp; C: group 0\n</code></pre>\n\n<hr>\n\n<p><strong>Details</strong></p>\n\n<p>Step 1</p>\n\n<p><em>Why use arrays?</em>  A numpy array allows for fast lookups just like pandas.  In addition, we can later optimize performance using operations implemented at the C level (these are fast).</p>\n\n<p><em>Why merge company names in the array?</em> The 2D array of merged strings is used for comparing company names.  This way of comparison resembles a statistical <a href=\"https://python-graph-gallery.com/correlogram/\" rel=\"nofollow noreferrer\">correlation matrix</a>.</p>\n\n<p>Step 2</p>\n\n<p><em>How are groups determined?</em>  The company names are passed to a special dictionary (<code>dd</code>) that only assigns an incremented integer when a new key is found.  This dictionary is used to track groups as the <code>transform</code> helper function is applied to each element.</p>\n\n<p><em>Why use a helper function?</em>  The <code>tranform</code> function converts each item in the array to a group number.  Notice the tracking dictionary (<code>lookup</code>) is passed in with a predicate.  Here are some notes about these <code>group</code> parameters:</p>\n\n<ul>\n<li>The keys of the tracking dictionary are made by lowering and sorting a given string.  This technique is used internally for equating strings with swapped company names.  For example, merged companies \"AB\" and \"BA\" should belong to the same group.</li>\n<li>The predicate is determined by the user.  If no predicate is given (<code>pred=None</code>), a default predicate is applied, which naively compares  strings with identical names (particularly along the diagnol).</li>\n</ul>\n\n<p>You may wish to use another predicate.  For example, from the default predicate, any set of a lowered strings is equivalent such that <code>A == Aa == AaAa</code> (see the corners of the array are assigned to group 0).  Here is a another sample predicate that distinguishes <code>A</code> from <code>Aa</code> (groups 0 and 3 respectively):</p>\n\n<pre><code>pred = lambda x: all(not(v%2) for k, v in ct.Counter(x).items())\ngroup(transform, arr, pred)\n# array([[0, 1, 2, 3],\n#        [1, 0, 5, 6],\n#        [2, 5, 0, 8],\n#        [3, 6, 8, 0]], dtype=object)\n</code></pre>\n\n<p><em>How is performance optimized?</em>  Some operations are <a href=\"https://stackoverflow.com/a/26692053/4531270\">vectorized</a> to help speed up the code using C implementations.  In the <code>group</code> function, <code>numpy.frompyfun</code> wraps the helper function.  It was determined that this particular <a href=\"https://docs.scipy.org/doc/numpy-1.13.0/reference/ufuncs.html\" rel=\"nofollow noreferrer\">\"universal function\"</a> is faster than a vectorizing function <code>numpy.vectorize</code>.  See also <a href=\"http://www.scipy-lectures.org/advanced/optimizing/#making-code-go-faster\" rel=\"nofollow noreferrer\">Scipy Lecture Notes</a> on more ways to optimize numpy code.</p>\n\n<p>Step 3</p>\n\n<p><em>How to find a group number for two companies?</em>  This is done simply by slicing the returned array  from the <code>group</code> function. <code>group_number</code> is a  slicing function for querying the array.  Since the indices are now numeric from Step 2, we build a reversed dictionary from our starting, ordered sequence <code>companies</code> to find the corresponding numeric index by company name. Note, the reversed dictionary is built outside of the slicing function to avoid rebuilding the dictionary after each query.</p>\n\n<p><strong>Performance</strong></p>\n\n<p><em>How fast is it?</em>  For our simple sequence of &lt; 10 rows, the speed is sub-milliseconds:</p>\n\n<pre><code>%timeit group(transform, arr)\n# 10000 loops, best of 3: 110 \u00b5s per loop\n</code></pre>\n\n<p>For demonstration, let's scale this data up around 1000 rows (beyond that, even creating of the dataset takes long and consumes memory).</p>\n\n<pre><code>test = tuple(map(str, range(1000)))\nfull_arr = get_2darray(test)\nprint(full_arr.shape)\nfull_arr\n# (1000, 1000)\n# array([['00', '01', '02', ..., '0997', '0998', '0999'],\n#        ['10', '11', '12', ..., '1997', '1998', '1999'],\n#        ['20', '21', '22', ..., '2997', '2998', '2999'],\n#        ..., \n#        ['9970', '9971', '9972', ..., '997997', '997998', '997999'],\n#        ['9980', '9981', '9982', ..., '998997', '998998', '998999'],\n#        ['9990', '9991', '9992', ..., '999997', '999998', '999999']], \n#       dtype='&lt;U6')\n\n%timeit group(transform, full_arr)\n# 1 loop, best of 3: 5.3 s per loop\n</code></pre>\n\n<p>Save some computation time by evaluating only half of the matrix:</p>\n\n<pre><code>half_arr = np.triu(test)\nhalf_arr\n# array([['00', '01', '02', ..., '0997', '0998', '0999'],\n#        ['', '11', '12', ..., '1997', '1998', '1999'],\n#        ['', '', '22', ..., '2997', '2998', '2999'],\n#        ..., \n#        ['', '', '', ..., '997997', '997998', '997999'],\n#        ['', '', '', ..., '', '998998', '998999'],\n#        ['', '', '', ..., '', '', '999999']], \n#       dtype='&lt;U6')\n\n%timeit group(transform, half_arr)\n# 1 loop, best of 3: 3.61 s per loop\n</code></pre>\n\n<p>Note: profiling was not performed on a dataset of 32k rows.</p>\n\n<p><strong>Conclusions</strong></p>\n\n<p>In this approach, the aforementioned objectives were acheived by:</p>\n\n<ol>\n<li>separating data munging and evaluation of a small dataset into the Steps 1 and 2.</li>\n<li>analysis by slicing the final numpy array of grouped companies in Step 3.</li>\n</ol>\n\n<p>Consider numpy for optimizing comparison functions at the C-level.  While the performance tests in this post may still take time, numpy offers headroom for further optimizations.  Moreover, it is probable that this code, as is, will take less time than 8 hours on the OP's dataset.  Further profiling is required to assess the complexity of this approach.  If the complexity is reasonable, the user may decide how to proceed, e.g. <a href=\"https://scipy-cookbook.readthedocs.io/items/ParallelProgramming.html\" rel=\"nofollow noreferrer\">parallel processing</a> on multiple threads.  Such tasks are left to those whom may be interested.</p>\n\n<p><strong>References</strong></p>\n\n<ul>\n<li>001: <a href=\"https://stackoverflow.com/a/13906671/4531270\">How to merge strings in a numpy array</a></li>\n<li>002: <a href=\"https://stackoverflow.com/a/26692053/4531270\">Vectorizing functions</a></li>\n</ul>\n"}], "owner": {"reputation": 83, "user_id": 8000135, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0602a81ce785f28a476cce9cd0bd28f4?s=128&d=identicon&r=PG&f=1", "display_name": "Shooth", "link": "https://stackoverflow.com/users/8000135/shooth"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2216, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1508819798, "creation_date": 1507156421, "last_edit_date": 1507214962, "question_id": 46575175, "link": "https://stackoverflow.com/questions/46575175/my-python-code-is-taking-8-hours-to-iterate-over-big-data", "title": "My python code is taking 8+ hours to iterate over big data", "body": "<p><strong>Update:</strong> It's been over 24 hours and the code is <em>still</em> not done yet :)</p>\n\n<p>I have this python code below. Basically, this code is currently only using 1% of the dataset (that's why it's called sample). It has 32968 rows of just names. I cleaned out the punctuation and put it all in lowercase already. </p>\n\n<p>My problem is that this code has been running for 8 hours so far and isn't done yet. Since, as mentioned, I'm only using 1% of the data, I will need to run this code again later on the entire dataset, which would take 100x the time for this one. I don't think waiting 800 hours is a good idea. So for my question:</p>\n\n<p><strong>Are there any ways I can make it faster? Should learn about spark or mapreduce and try to utilize those for this code?</strong> </p>\n\n<p>EDIT: Okay, I will try to add more information on what the code is actually doing. An example of the names before they are cleaned:</p>\n\n<pre><code>import pandas as pd\nimport numpy as np\n\ndata = {'clean_name': ['Abbott Laboratories','Apple Computers', 'Apple, Inc.', 'Abercrombie &amp; Fitch Co.', 'ABM Industries Incorporated', 'Ace Hardware Corporation'], 'name_group': np.zeros(6, dtype=int)}\n\nsample = pd.DataFrame(data)\nsample\n\nOut[2]: \n                    clean_name  name_group\n0          Abbott Laboratories           0\n1              Apple Computers           0\n2                  Apple, Inc.           0\n3      Abercrombie &amp; Fitch Co.           0\n4  ABM Industries Incorporated           0\n5     Ace Hardware Corporation           0\n</code></pre>\n\n<p>Then, I clean it of punctuation and putting it all in lowercase. Basically, I want to compare each name with the next and if it's similar, I'll give it the same group number. Something like this:</p>\n\n<pre><code>sample\nOut[28]: \n                    clean_name  name_group\n0          abbott laboratories           0\n1              apple computers           1\n2                  apple  inc            1\n3      abercrombie   fitch co            0\n4  abm industries incorporated           0\n5     ace hardware corporation           0\n</code></pre>\n\n<p>The code below is what I came up with:</p>\n\n<pre><code>i = 1\nfor alpha,beta in itertools.combinations(sample.clean_name, 2):\n    score = fuzz.token_sort_ratio(alpha, beta)\n    A = sample.loc[sample.clean_name==alpha, 'name_group'].values[0]\n    B = sample.loc[sample.clean_name==beta, 'name_group'].values[0]\n    if score &gt; 60:\n        if ((B != 0) &amp; (A !=0)): continue\n        if ((A == 0) &amp; (B !=0)): A = B\n        elif ((B == 0) &amp; (A !=0)): B = A\n        elif ((B == 0) &amp; (A ==0)):\n            A, B = i, i\n            i += 1\n        sample.loc[sample.clean_name==alpha, 'name_group'] = A\n        sample.loc[sample.clean_name==beta, 'name_group'] = B\n</code></pre>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 2, "creation_date": 1507156438, "post_id": 46575174, "comment_id": 80103911, "body": "It&#39;s refreshing to see a question that isn&#39;t homework once in a while."}, {"owner": {"reputation": 59735, "user_id": 1350899, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a42186174515a63b8058100a736252f?s=128&d=identicon&r=PG", "display_name": "mata", "link": "https://stackoverflow.com/users/1350899/mata"}, "edited": false, "score": 1, "creation_date": 1507157114, "post_id": 46575174, "comment_id": 80104108, "body": "Those rules don&#39;t necessarily apply to builtin classes or classes implemented in C in an extension module."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 3, "creation_date": 1507157116, "post_id": 46575174, "comment_id": 80104109, "body": "I think you just proved that no, a type is not required to have <code>__slots__</code> if it doesn&#39;t have a <code>__dict__</code>"}, {"owner": {"reputation": 13419, "user_id": 1405588, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/01a91a47db3526000ffa9247f95fff62?s=128&d=identicon&r=PG", "display_name": "o11c", "link": "https://stackoverflow.com/users/1405588/o11c"}, "edited": false, "score": 1, "creation_date": 1507158338, "post_id": 46575174, "comment_id": 80104405, "body": "Note that you can delete <code>__slots__</code> after class creation time."}, {"owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "reply_to_user": {"reputation": 13419, "user_id": 1405588, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/01a91a47db3526000ffa9247f95fff62?s=128&d=identicon&r=PG", "display_name": "o11c", "link": "https://stackoverflow.com/users/1405588/o11c"}, "edited": false, "score": 0, "creation_date": 1507159577, "post_id": 46575174, "comment_id": 80104707, "body": "@o11c: Eew, yeah, that adds a layer of potential misdirection to the whole deal."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 156458, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/3PCjR.png?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/156458/tim"}, "edited": false, "score": 0, "creation_date": 1507157624, "post_id": 46575329, "comment_id": 80104237, "body": "Thanks. Is it possible to tell if an object has <code>__dict__</code> merely from its class? If its class has <code>__slots__</code>, then it doesn&#39;t have <code>__dict__</code>. If its class doesn&#39;t have <code>__slots__</code>, how can I tell if it has <code>__dict__</code> or not?"}, {"owner": {"reputation": 25103, "user_id": 1340389, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/5d0e5b16679b92b24c8262e1e6aa2aa7?s=128&d=identicon&r=PG", "display_name": "Kevin", "link": "https://stackoverflow.com/users/1340389/kevin"}, "reply_to_user": {"reputation": 1, "user_id": 156458, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/3PCjR.png?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/156458/tim"}, "edited": false, "score": 0, "creation_date": 1507157796, "post_id": 46575329, "comment_id": 80104284, "body": "@Tim: <code>hasattr(obj, &#39;__dict__&#39;)</code>?"}, {"owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "reply_to_user": {"reputation": 1, "user_id": 156458, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/3PCjR.png?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/156458/tim"}, "edited": false, "score": 0, "creation_date": 1507157811, "post_id": 46575329, "comment_id": 80104287, "body": "@Tim: A class that has <code>__slots__</code> can still have <code>__dict__</code> (if it includes <code>&#39;__dict__&#39;</code> as a slot name, or a parent class didn&#39;t define <code>__slots__</code>). If the class doesn&#39;t have <code>__slots__</code>, it could be a built-in type without <code>__dict__</code>, or a user defined class with a <code>__dict__</code>. Make an instance, check it for <code>__dict__</code>, that&#39;s the reliable way."}, {"owner": {"reputation": 1, "user_id": 156458, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/3PCjR.png?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/156458/tim"}, "edited": false, "score": 0, "creation_date": 1507158009, "post_id": 46575329, "comment_id": 80104343, "body": "by &quot;A class that has <code>__slots__</code> can still have <code>__dict__</code>&quot;, do you mean  &quot;if a class has <code>__slots__</code>, its instances can still have <code>__dict__</code>&quot; or  &quot;if a class has <code>__slots__</code>, the class itself can still have <code>__dict__</code>&quot; ?"}, {"owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "reply_to_user": {"reputation": 1, "user_id": 156458, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/3PCjR.png?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/156458/tim"}, "edited": false, "score": 1, "creation_date": 1507158338, "post_id": 46575329, "comment_id": 80104404, "body": "@Tim: User defined classes themselves <i>always</i> have a <code>__dict__</code>; you can suppress it on the instances with <code>__slots__</code>."}, {"owner": {"reputation": 13419, "user_id": 1405588, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/01a91a47db3526000ffa9247f95fff62?s=128&d=identicon&r=PG", "display_name": "o11c", "link": "https://stackoverflow.com/users/1405588/o11c"}, "edited": false, "score": 0, "creation_date": 1507158427, "post_id": 46575329, "comment_id": 80104428, "body": "Note: the closest you can come to &quot;is this a python or a C type&quot; is testing <code>__flags__ &amp; (1 &lt;&lt; 9)</code>"}, {"owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "reply_to_user": {"reputation": 13419, "user_id": 1405588, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/01a91a47db3526000ffa9247f95fff62?s=128&d=identicon&r=PG", "display_name": "o11c", "link": "https://stackoverflow.com/users/1405588/o11c"}, "edited": false, "score": 0, "creation_date": 1507159109, "post_id": 46575329, "comment_id": 80104600, "body": "@o11c: And I&#39;m not sure that&#39;s a documented guarantee even for CPython, let alone the various alternate interpreters."}, {"owner": {"reputation": 1, "user_id": 156458, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/3PCjR.png?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/156458/tim"}, "edited": false, "score": 0, "creation_date": 1507167247, "post_id": 46575329, "comment_id": 80106397, "body": "Thanks. (1) <a href=\"https://stackoverflow.com/a/1529099\">&quot;To support arbitrary attribute assignment, an object needs a <code>__dict__</code>&quot;</a>. So is it correct that <code>__dict__</code> as an attribute of a class or instance is used for storing user defined attributes of the class or instance?  (2) What do you mean by &quot;Built-in classes often have neither, may provide <code>__dict__</code>&quot; and &quot;<code>__dict__</code> is opt-in for built-in types&quot;? Is <code>__dict__</code> for a builtin class used for storing user-defined attributes?"}, {"owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "edited": false, "score": 0, "creation_date": 1507167546, "post_id": 46575329, "comment_id": 80106455, "body": "To #1: Yes, unless the attributes are slotted, in which case they&#39;re not stored in <code>__dict__</code>. To #2. Exactly what I said. Built-ins can, but almost never do, use <code>__dict__</code> to store instance attributes. When they provide <code>__dict__</code>, it&#39;s usually to allow (for whatever reason) the user to add additional arbitrary attributes to instances of the class."}, {"owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "edited": false, "score": 0, "creation_date": 1507167710, "post_id": 46575329, "comment_id": 80106500, "body": "For example, <code>functools.partial</code> didn&#39;t have to provide <code>__dict__</code>, and doesn&#39;t use it itself (it <a href=\"https://github.com/python/cpython/blob/3.6/Modules/_functoolsmodule.c#L14\" rel=\"nofollow noreferrer\">stores all the stuff it actually uses in top-level pointers in the C struct</a>), but it provides it (and makes sure it survives pickling and unpickling), probably because regular functions allow you to set arbitrary additional attributes, and they wanted it to behave like a normal function object (since it wraps functions and otherwise behaves like one)."}, {"owner": {"reputation": 1, "user_id": 156458, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/3PCjR.png?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/156458/tim"}, "edited": false, "score": 0, "creation_date": 1507169222, "post_id": 46575329, "comment_id": 80106817, "body": "Thanks. <code>object</code> is a builtin class, but <code>object.__dict__</code> is not empty by default,.   <code>__dict__</code> is meant to store user-defined attributes, while <code>object.__dict__</code>  stores builtin attributes of <code>object</code>?"}, {"owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "edited": false, "score": 0, "creation_date": 1507175232, "post_id": 46575329, "comment_id": 80108075, "body": "Nothing mandates that <i>only</i> user defined stuff go in <code>__dict__</code>. Classes have <code>__dict__</code>, always, but if you actually look at the <code>__dict__</code> for <code>object</code>, it&#39;s mostly just a bunch of slot wrappers; descriptors that provide a Python-level names for the C level function pointers associated with the type (which are dynamically defined, because not all slots are populated on each type). In any event, you&#39;re trying to draw hard &amp; fast lines that don&#39;t exist. <code>__dict__</code> is a simple, convenient way to store arbitrary attributes. Nothing <i>requires</i> that it only be used for user specified attributes."}, {"owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "edited": false, "score": 0, "creation_date": 1507175828, "post_id": 46575329, "comment_id": 80108208, "body": "As it happens, it looks like <code>type</code> subclasses (which are what classes themselves are instances of) <i>can&#39;t</i> define non-empty <code>__slots__</code> (and non-empty <code>__slots__</code> doesn&#39;t actually block <code>__dict__</code>), possibly due to optimization related concerns for super class lookups and the like, possibly because trying to do so would interfere with the automatically generated attributes Python creates for classes; for classes, the only place they have to store arbitrary data is <code>__dict__</code>, thus the observed behavior."}], "tags": [], "owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "is_accepted": true, "score": 10, "last_activity_date": 1507160248, "last_edit_date": 1507160248, "creation_date": 1507157346, "answer_id": 46575329, "question_id": 46575174, "link": "https://stackoverflow.com/questions/46575174/if-an-object-doesnt-have-dict-does-its-class-must-have-a-slots-att/46575329#46575329", "title": "If an object doesn&#39;t have `__dict__`, does its class must have a `__slots__` attribute?", "body": "<p>For user defined classes (defined using the <code>class</code> keyword in regular Python code), a class will always have <code>__slots__</code> on the class, <code>__dict__</code> on the instance, or both (if one of the slots defined is <code>'__dict__'</code>, or one of the user defined classes in an inheritance chain defines <code>__slots__</code> and another one does not, creating <code>__dict__</code> implicitly). So that's three of four possibilities covered for user defined classes.</p>\n\n<p><strong>Edit:</strong> A correction: Technically, a user-defined class <a href=\"https://stackoverflow.com/questions/46575174/if-an-object-doesnt-have-dict-does-its-class-must-have-a-slots-att#comment80104405_46575174\">could have <em>neither</em></a>; the class would be defined with <code>__slots__</code>, but have it deleted after definition time (the machinery that sets up the type doesn't require <code>__slots__</code> to persist after the class definition finishes). No sane person should do this, and it could have undesirable side-effects (full behavior untested), but it's possible.</p>\n\n<p>For built-in types, at least in the CPython reference interpreter, they're <em>extremely</em> unlikely to have <code>__slots__</code> (if they did, it would be to simulate a user-defined class, defining it doesn't actually <em>do</em> anything useful). A built-in type typically stores its attributes as raw C level values and pointers on a C level struct, optionally with explicitly created descriptors or accessor methods, which eliminates the purpose of <code>__slots__</code>, which are just a convenient limited purpose equivalent of such struct games for user defined classes. <code>__dict__</code> is opt-in for built-in types, not on by default (though the opt-in process is fairly easy; you need to put a <code>PyObject*</code> entry somewhere in the struct and provide the offset to it in the type definition).</p>\n\n<p>To be clear, <code>__dict__</code> need not appear on the <em>class</em> for it to appear on its <em>instances</em>; <code>__slots__</code> is class level, and can suppress the <code>__dict__</code> on the <em>instance</em>, but has no effect on whether the class itself has a <code>__dict__</code>; user defined <em>classes</em> always have <code>__dict__</code>, but their instances won't if you're careful to use <code>__slots__</code> appropriately.</p>\n\n<p>So in short:</p>\n\n<p>(Sane) User defined classes have at least one of <code>__dict__</code> (on the instances) or <code>__slots__</code> (on the class), and can have both. Insane user defined classes <em>could</em> have neither, but only a deranged developer would do it.</p>\n\n<p>Built-in classes often have neither, <em>may</em> provide <code>__dict__</code>, and almost never provide <code>__slots__</code> as it is pointless for them.</p>\n\n<p>Examples:</p>\n\n<pre><code># Class has __slots__, instances don't have __dict__\nclass DictLess:\n    __slots__ = ()\n\n# Instances have __dict__, class lacks __slots__\nclass DictOnly:\n    pass\n\n# Class has __slots__, instances have __dict__ because __slots__ declares it\nclass SlottedDict:\n    __slots__ = '__dict__',\n\n# Class has __slots__ without __dict__ slot, instances have it anyway from unslotted parent\nclass DictFromParent(DictOnly):\n    __slots__ = ()\n\n# Complete insanity: __slots__ takes effect at class definition time, but can\n# be deleted later, without changing the class behavior:\nclass NoSlotNoDict:\n    __slots__ = ()\ndel NoSlotNoDict.__slots__\n# Instances have no __dict__, class has no __slots__ but acts like it does\n# (the machinery to make it slotted isn't undone by deleting __slots__)\n# Please, please don't actually do this\n\n# Built-in type without instance __dict__ or class defined __slots__:\nint().__dict__  # Raises AttributeError\nint.__slots__   # Also raises AttributeError\n\n# Built-in type that opts in to __dict__ on instances:\nimport functools\nfunctools.partial(int).__dict__ # Works fine\nfunctools.partial.__slots__ # Raises AttributeError\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 156458, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/3PCjR.png?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/156458/tim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3912, "favorite_count": 3, "accepted_answer_id": 46575329, "answer_count": 1, "score": 6, "last_activity_date": 1507160248, "creation_date": 1507156418, "last_edit_date": 1507157598, "question_id": 46575174, "link": "https://stackoverflow.com/questions/46575174/if-an-object-doesnt-have-dict-does-its-class-must-have-a-slots-att", "title": "If an object doesn&#39;t have `__dict__`, does its class must have a `__slots__` attribute?", "body": "<p>From <a href=\"https://stackoverflow.com/a/1529099/156458\">https://stackoverflow.com/a/1529099/156458</a></p>\n\n<blockquote>\n  <p>To support arbitrary attribute assignment, an object needs a <code>__dict__</code>:\n  a dict associated with the object, where arbitrary attributes can be\n  stored. Otherwise, there's nowhere to put new attributes.</p>\n  \n  <p>An instance of <code>object</code> does not carry around a <code>__dict__</code> -- if it did,\n  before the horrible circular dependence problem (since <code>__dict__</code>, like most\n  everything else, inherits from <code>object</code>;-), this would saddle every\n  object in Python with a dict, which would mean an overhead of many\n  bytes per object that currently doesn't have or need a dict\n  (essentially, all objects that don't have arbitrarily assignable\n  attributes don't have or need a dict).</p>\n  \n  <p>...</p>\n  \n  <p>When the class has the <code>__slots__</code> special attribute (a sequence of strings), then the <code>class</code> statement (more precisely, the default metaclass, <code>type</code>) does <strong>not</strong> equip every instance of that class with a <code>__dict__</code> (and therefore the ability to have arbitrary attributes), just a finite, rigid set of \"slots\" (basically places which can each hold one reference to some object) with the given names.</p>\n</blockquote>\n\n<p>If an object doesn't have <code>__dict__</code>, does its class must have a <code>__slots__</code> attribute?</p>\n\n<p>For example an instance of <code>object</code> doesn't have <code>__dict__</code>, </p>\n\n<pre><code>&gt;&gt;&gt; object().__dict__\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\nAttributeError: 'object' object has no attribute '__dict__'\n</code></pre>\n\n<p>but</p>\n\n<pre><code>&gt;&gt;&gt; object.__slots__\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\nAttributeError: type object 'object' has no attribute '__slots__'\n</code></pre>\n\n<p>So why does an instance of <code>object</code> not have <code>__dict__</code> and <code>object</code> has no    <code>__slots__</code> attribute? </p>\n\n<p>Does an instance of <code>object</code> have any attribute?</p>\n\n<p>How many possibilities are there:</p>\n\n<ul>\n<li>an object has <code>__dict__</code>, and its class has <code>__dict__</code> but no <code>__slots__</code></li>\n<li>an object doesn't have <code>__dict__</code>, and its class has <code>__slots__</code></li>\n<li>an object doesn't have <code>__dict__</code>, and its class doesn't have <code>__slots__</code> ?</li>\n</ul>\n\n<p>Is it possible to tell if an object has <code>__dict__</code> from its class?</p>\n\n<ul>\n<li>if its class has <code>__slots__</code>, then it doesn't have <code>__dict__</code></li>\n<li>if its class doesn't have <code>__slots__</code>, how can I tell if it has <code>__dict__</code> or not?</li>\n</ul>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 8552, "user_id": 1941241, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YvyT6.png?s=128&g=1", "display_name": "rickdenhaan", "link": "https://stackoverflow.com/users/1941241/rickdenhaan"}, "edited": false, "score": 0, "creation_date": 1507156497, "post_id": 46575171, "comment_id": 80103925, "body": "Look into the <code>os</code> module, you can use that to check whether a path exists."}, {"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1507156641, "post_id": 46575171, "comment_id": 80103960, "body": "How about looking for it yourself?"}, {"owner": {"reputation": 1, "user_id": 8628693, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-P1PfuJjyfEA/AAAAAAAAAAI/AAAAAAAAKFs/VBL_eLJ91Gs/photo.jpg?sz=128", "display_name": "Shafaqat Ali", "link": "https://stackoverflow.com/users/8628693/shafaqat-ali"}, "edited": false, "score": 0, "creation_date": 1507156712, "post_id": 46575171, "comment_id": 80103991, "body": "No to python, could you shoe me an example please?"}], "owner": {"reputation": 1, "user_id": 8628693, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-P1PfuJjyfEA/AAAAAAAAAAI/AAAAAAAAKFs/VBL_eLJ91Gs/photo.jpg?sz=128", "display_name": "Shafaqat Ali", "link": "https://stackoverflow.com/users/8628693/shafaqat-ali"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 12, "favorite_count": 0, "closed_date": 1507156635, "answer_count": 0, "score": 0, "last_activity_date": 1507156406, "creation_date": 1507156406, "question_id": 46575171, "link": "https://stackoverflow.com/questions/46575171/python-if-statement-conditions", "closed_reason": "Duplicate", "title": "Python if statement conditions", "body": "<p>can someone show me how I can add conditons to my code to if file does not exits, it cannot go further however if file exits then they add can? \nThis is what I have so far?</p>\n\n<pre><code>def students():\n  enter = input(\"Enter text file: \")\n  print (\"File found\") \n  f=open(enter,'a+')\n  t=' '.join(f)\n  Username = input(\"Enter Username: \")\n  f.write(Username+\",\")\n  password = input(\"Enter password:\")\n  f.write(password)\n  f.write(t)\n  f.write('\\n')\n  f.close()\n</code></pre>\n"}, {"tags": ["python", "django"], "answers": [{"comments": [{"owner": {"reputation": 153, "user_id": 8629278, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cCQ3C.jpg?s=128&g=1", "display_name": "MK87", "link": "https://stackoverflow.com/users/8629278/mk87"}, "edited": false, "score": 0, "creation_date": 1507158705, "post_id": 46575439, "comment_id": 80104494, "body": "Your solution to using tuples has solved the problem. I had strings used due to an earlier problem that the keys were not strings, but now it works with tuples. Thank you"}, {"owner": {"reputation": 250720, "user_id": 113962, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b80ae1d65878cf68a4b1a00848467527?s=128&d=identicon&r=PG", "display_name": "Alasdair", "link": "https://stackoverflow.com/users/113962/alasdair"}, "reply_to_user": {"reputation": 153, "user_id": 8629278, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cCQ3C.jpg?s=128&g=1", "display_name": "MK87", "link": "https://stackoverflow.com/users/8629278/mk87"}, "edited": false, "score": 0, "creation_date": 1507158798, "post_id": 46575439, "comment_id": 80104509, "body": "As, I said, I&#39;m not sure why you got that error with the code <code>matchfield[str((m+k, n))]</code>, but glad that changing to tuples solved the problem."}, {"owner": {"reputation": 153, "user_id": 8629278, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cCQ3C.jpg?s=128&g=1", "display_name": "MK87", "link": "https://stackoverflow.com/users/8629278/mk87"}, "edited": false, "score": 0, "creation_date": 1507160212, "post_id": 46575439, "comment_id": 80104812, "body": "Sorry, little Update: dictionary[str(x, y)] is the working solution. With tuples as keys I got the error again that keys must be strings. This error came from json."}, {"owner": {"reputation": 250720, "user_id": 113962, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b80ae1d65878cf68a4b1a00848467527?s=128&d=identicon&r=PG", "display_name": "Alasdair", "link": "https://stackoverflow.com/users/113962/alasdair"}, "reply_to_user": {"reputation": 153, "user_id": 8629278, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cCQ3C.jpg?s=128&g=1", "display_name": "MK87", "link": "https://stackoverflow.com/users/8629278/mk87"}, "edited": false, "score": 0, "creation_date": 1507161398, "post_id": 46575439, "comment_id": 80105094, "body": "Ah, didn&#39;t realise that you were converting to json, in which case you do need strings for the keys. However I would have thought that you needed double parentheses e.g. <code>matchfield[((i, j))]</code>, not single parentheses as in your comment above."}, {"owner": {"reputation": 153, "user_id": 8629278, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cCQ3C.jpg?s=128&g=1", "display_name": "MK87", "link": "https://stackoverflow.com/users/8629278/mk87"}, "edited": false, "score": 0, "creation_date": 1507191939, "post_id": 46575439, "comment_id": 80114886, "body": "I am a bit confused, because today I see, that my code is identical to the code that issued the error, but it works as expected. I have 4 nearly identical snippets so set some values to 1 - if I change one of them to not str() I got an error for the first line with matchfield[str((m+k, n))]. I am using json in another function to check if the value from a clicked button (12x12 Buttons) in html is 0 or 1 in the dictionary. The error is internally fired by Python from site-packages (json) if the key is not a string."}, {"owner": {"reputation": 250720, "user_id": 113962, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b80ae1d65878cf68a4b1a00848467527?s=128&d=identicon&r=PG", "display_name": "Alasdair", "link": "https://stackoverflow.com/users/113962/alasdair"}, "reply_to_user": {"reputation": 153, "user_id": 8629278, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cCQ3C.jpg?s=128&g=1", "display_name": "MK87", "link": "https://stackoverflow.com/users/8629278/mk87"}, "edited": false, "score": 0, "creation_date": 1507194846, "post_id": 46575439, "comment_id": 80116545, "body": "As I said, the code in the traceback <code>matchfield[str((m+k, n))]</code> shouldn&#39;t have given that error. I think that perhaps Django was running an old version of the code (but reading the current version when constructing the error message), and needed a restart."}], "tags": [], "owner": {"reputation": 250720, "user_id": 113962, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b80ae1d65878cf68a4b1a00848467527?s=128&d=identicon&r=PG", "display_name": "Alasdair", "link": "https://stackoverflow.com/users/113962/alasdair"}, "is_accepted": true, "score": 1, "last_activity_date": 1507161323, "last_edit_date": 1507161323, "creation_date": 1507158029, "answer_id": 46575439, "question_id": 46575166, "link": "https://stackoverflow.com/questions/46575166/django-python-str-argument-2-must-be-str-not-int/46575439#46575439", "title": "Django Python str() argument 2 must be str, not int", "body": "<p>I would expect the <code>argument 2 must be str</code> error to occur if you had </p>\n\n<pre><code>matchfield[str(m+k, n)]\n</code></pre>\n\n<p>In Python 3, the second argument to <a href=\"https://docs.python.org/3/library/functions.html#func-str\" rel=\"nofollow noreferrer\"><code>str</code></a> is the encoding, so an integer <code>n</code> would cause that error.</p>\n\n<p>However, your traceback shows <code>matchfield[str((m+k, n))]</code>, which shouldn't cause that error. Try restarting the Django server to make sure you're running the current code.</p>\n\n<p>At first, I suggested that you use tuples as dictionary keys, e.g.</p>\n\n<pre><code>matchfield[(i, j)] = 0\n</code></pre>\n\n<p>However, if you are serializing <code>matchfield</code> to json then that won't work because the keys need to be strings.</p>\n"}], "owner": {"reputation": 153, "user_id": 8629278, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cCQ3C.jpg?s=128&g=1", "display_name": "MK87", "link": "https://stackoverflow.com/users/8629278/mk87"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2183, "favorite_count": 0, "accepted_answer_id": 46575439, "answer_count": 1, "score": 0, "last_activity_date": 1507161323, "creation_date": 1507156346, "last_edit_date": 1507156674, "question_id": 46575166, "link": "https://stackoverflow.com/questions/46575166/django-python-str-argument-2-must-be-str-not-int", "title": "Django Python str() argument 2 must be str, not int", "body": "<p>I have a 12x12 dictionary with values, which are 0 for all.</p>\n\n<pre><code>matchfield = {}\n    for i in range(12):\n        for j in range(12):\n            matchfield[str((i, j))] = 0\n</code></pre>\n\n<p>I want to set some values to 1 with the following snippet (it checks whether the surrounding fields are free):</p>\n\n<pre><code>length = 4\nm = randint(1, 10-length)\nn = randint(1, 10)\nfor x in range(m-1, m+length+1):\n    for y in range(n-1, n+1):\n        if not matchfield[str((x, y))]:\n            for k in range(length):\n                matchfield[str((m+k, n))] = 1\n</code></pre>\n\n<p>if I test this in python console, all works and the 4 selected values are set to 1, but in my Django view function I got an TypeError on the following line:</p>\n\n<h2>    matchfield[str((m+k, n))] = 1</h2>\n\n<pre><code>Environment:\n\n\nRequest Method: GET\nRequest URL: https://www.maik-kusmat.de/schiffeversenken/start/\n\nDjango Version: 1.11.5\nPython Version: 3.5.3\nInstalled Applications:\n['django.contrib.admin',\n 'django.contrib.auth',\n 'django.contrib.contenttypes',\n 'django.contrib.sessions',\n 'django.contrib.messages',\n 'django.contrib.staticfiles',\n 'django.contrib.sites',\n 'django.contrib.flatpages',\n 'accounts',\n 'home',\n 'contact',\n 'kopfrechnen',\n 'braces',\n 'ckeditor',\n 'ckeditor_uploader',\n 'battleship',\n 'hangman']\nInstalled Middleware:\n['django.middleware.security.SecurityMiddleware',\n 'django.contrib.sessions.middleware.SessionMiddleware',\n 'django.middleware.common.CommonMiddleware',\n 'django.middleware.csrf.CsrfViewMiddleware',\n 'django.contrib.auth.middleware.AuthenticationMiddleware',\n 'django.contrib.messages.middleware.MessageMiddleware',\n 'django.middleware.clickjacking.XFrameOptionsMiddleware',\n 'django.middleware.locale.LocaleMiddleware',\n 'django.contrib.flatpages.middleware.FlatpageFallbackMiddleware']\n\n\n\nTraceback:\n\nFile \"/home/pi/Dev/mkenergy/lib/python3.5/site-packages/django/core/handlers/exception.py\" in inner\n  41.             response = get_response(request)\n\nFile \"/home/pi/Dev/mkenergy/lib/python3.5/site-packages/django/core/handlers/base.py\" in _get_response\n  187.                 response = self.process_exception_by_middleware(e, request)\n\nFile \"/home/pi/Dev/mkenergy/lib/python3.5/site-packages/django/core/handlers/base.py\" in _get_response\n  185.                 response = wrapped_callback(request, *callback_args, **callback_kwargs)\n\nFile \"/home/pi/Dev/mkenergy/lib/python3.5/site-packages/django/contrib/auth/decorators.py\" in _wrapped_view\n  23.                 return view_func(request, *args, **kwargs)\n\nFile \"/home/pi/Dev/mkenergy/src/battleship/views.py\" in battleship_start\n  36.                                 matchfield[str((m+k, n))] = 1\n\nException Type: TypeError at /schiffeversenken/start/\nException Value: str() argument 2 must be str, not int\n</code></pre>\n\n<p>did I miss something? I do not understand the error</p>\n"}, {"tags": ["python", "parsing", "datetime", "dataframe"], "comments": [{"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1507156195, "post_id": 46575135, "comment_id": 80103824, "body": "Have you tried <code>pd.to_datetime</code>?"}, {"owner": {"reputation": 19, "user_id": 5834700, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/674672948b7d4afb96a711f61e9db99c?s=128&d=identicon&r=PG&f=1", "display_name": "IF U FLOW U KNOW", "link": "https://stackoverflow.com/users/5834700/if-u-flow-u-know"}, "reply_to_user": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1507162288, "post_id": 46575135, "comment_id": 80105326, "body": "not yet i will though, thank you"}, {"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1507162311, "post_id": 46575135, "comment_id": 80105331, "body": "See my answer..."}, {"owner": {"reputation": 19, "user_id": 5834700, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/674672948b7d4afb96a711f61e9db99c?s=128&d=identicon&r=PG&f=1", "display_name": "IF U FLOW U KNOW", "link": "https://stackoverflow.com/users/5834700/if-u-flow-u-know"}, "reply_to_user": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1507163046, "post_id": 46575135, "comment_id": 80105499, "body": "the times are a string within the dataframe under the start_time column and end_time columns"}, {"owner": {"reputation": 19, "user_id": 5834700, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/674672948b7d4afb96a711f61e9db99c?s=128&d=identicon&r=PG&f=1", "display_name": "IF U FLOW U KNOW", "link": "https://stackoverflow.com/users/5834700/if-u-flow-u-know"}, "reply_to_user": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1507163128, "post_id": 46575135, "comment_id": 80105511, "body": "you mean adding the pd.to_date after i convert the string to a datetime format?"}, {"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1507163170, "post_id": 46575135, "comment_id": 80105518, "body": "In my answer, <code>series</code> is a column of strings."}], "owner": {"reputation": 19, "user_id": 5834700, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/674672948b7d4afb96a711f61e9db99c?s=128&d=identicon&r=PG&f=1", "display_name": "IF U FLOW U KNOW", "link": "https://stackoverflow.com/users/5834700/if-u-flow-u-know"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 32, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1507156283, "creation_date": 1507156120, "question_id": 46575135, "link": "https://stackoverflow.com/questions/46575135/for-loop-for-slicing-dataframes-based-on-times-from-another-dataframe", "title": "For Loop for slicing dataframes based on times from another dataframe", "body": "<p>I have created a df with start and end times. However they are in strings and need them in datetime formats. Below is the code I have written</p>\n\n<pre><code>import dateutil.parser as date_parser\nstart_time = df_gt['start_time']\nend_time = df_gt['end_time']\n\nfor i in start_time:\n    datetime = date_parser.parse(i)\n    print(datetime)\n\n2017-10-04 10:45:08\n2017-10-04 10:47:31\n2017-10-04 10:47:51\n2017-10-04 10:49:43\n</code></pre>\n\n<p>Ideal output would be datatimes with just 10:49:43 times. </p>\n\n<p>Problem with the output is i dont want the date 2017-10-04 in the output. Can anyone tell me how to set the parameters to just make it convert the string to datetime? or show me a page with the knowledge?</p>\n\n<p>Thanks </p>\n"}, {"tags": ["python", "scheduler", "python-rq", "omxplayer"], "owner": {"reputation": 11, "user_id": 8722823, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/239af813173c4ae62925c9dc917a86b4?s=128&d=identicon&r=PG&f=1", "display_name": "Bart", "link": "https://stackoverflow.com/users/8722823/bart"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 73, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1507156092, "creation_date": 1507156092, "question_id": 46575131, "link": "https://stackoverflow.com/questions/46575131/task-scheduler-for-python-jobs", "title": "Task scheduler for python jobs", "body": "<p>I have one main function which I want execute with different arguments. It's function which play video on raspberry pi using omxplayer. \nI would like to use scheduler which let me to plan executing of specific task, they should define time when task will be executed and/or make a queue, and if I execute this main function, scheduler places this task at the end of queue.</p>\n\n<p>I have tried Python-RQ and it's good, but the problem is that I don't know how I can add new task at the end of queue if I don't know name of previous job.. </p>\n\n<p>I have function which should adds jobs to queue.</p>\n\n<pre><code>def add_movie(path):\n    q.enqueue(run_movie2, '{0}'.format(path))\n</code></pre>\n\n<p>Which execute:</p>\n\n<pre><code>def run_movie2(path):\n    subprocess.Popen(['omxplayer','-o', 'hdmi', '/home/bart/FlaskApp/movies/{0}'.format(path)])\n    return \"Playing {0}\".format(path)\n</code></pre>\n\n<p>Do you know scheduler which meet the requirements? \nWhat can you advise with python rq? Is it any way to do it one by one ? How can I always add jobs at the end of queue ?</p>\n\n<p>Thank you.</p>\n"}, {"tags": ["python", "mongodb", "pymongo"], "answers": [{"comments": [{"owner": {"reputation": 10605, "user_id": 825706, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/572bd664aa7b6c34eded040804a240d7?s=128&d=identicon&r=PG", "display_name": "Travis Bear", "link": "https://stackoverflow.com/users/825706/travis-bear"}, "edited": false, "score": 0, "creation_date": 1557181205, "post_id": 46575901, "comment_id": 98671086, "body": "A link to wherever &#39;here&#39; is would be helpful."}], "tags": [], "owner": {"reputation": 10123, "user_id": 3639023, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/RkSU9.png?s=128&g=1", "display_name": "johnchase", "link": "https://stackoverflow.com/users/3639023/johnchase"}, "is_accepted": true, "score": 12, "last_activity_date": 1557187946, "last_edit_date": 1557187946, "creation_date": 1507161545, "answer_id": 46575901, "question_id": 46575083, "link": "https://stackoverflow.com/questions/46575083/add-a-validator-to-a-mongodb-collection-with-pymongo/46575901#46575901", "title": "Add a validator to a Mongodb collection with pymongo", "body": "<p>I eventually found the solution here. Hopefully it can help someone else.</p>\n\n<p>Of course, when all else fails read the docs...</p>\n\n<blockquote>\n  <p>.. note:: the order of keys in the <code>command</code> document is\n         significant (the \"verb\" must come first), so commands\n         which require multiple keys (e.g. <code>findandmodify</code>)\n         should use an instance of :class:<code>~bson.son.SON</code> or\n         a string and kwargs instead of a Python <code>dict</code></p>\n</blockquote>\n\n<p>Also valid is an <code>OrderedDict</code></p>\n\n<pre><code>query = [('collMod', 'contacts'),\n        ('validator', {'phone': {'$type': 'string'}}),\n        ('validationLevel', 'moderate')]\nquery = OrderedDict(query)\ndb.command(query)\n{'ok': 1.0}\n</code></pre>\n\n<p><strong>EDIT:</strong></p>\n\n<p><a href=\"http://api.mongodb.com/python/current/api/pymongo/database.html?highlight=command#pymongo.database.Database.command\" rel=\"nofollow noreferrer\">Current Documentation</a> from where the above comes from. Note this was added after the question was originally answered so the documentation has changed, however it should still be relevant</p>\n"}], "owner": {"reputation": 10123, "user_id": 3639023, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/RkSU9.png?s=128&g=1", "display_name": "johnchase", "link": "https://stackoverflow.com/users/3639023/johnchase"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2423, "favorite_count": 4, "accepted_answer_id": 46575901, "answer_count": 1, "score": 7, "last_activity_date": 1557187946, "creation_date": 1507155747, "last_edit_date": 1507159921, "question_id": 46575083, "link": "https://stackoverflow.com/questions/46575083/add-a-validator-to-a-mongodb-collection-with-pymongo", "title": "Add a validator to a Mongodb collection with pymongo", "body": "<p>I am trying to add a validator to a MongoDB collection using pymongo.</p>\n\n<p>The command I would like to run adapted from <a href=\"https://docs.mongodb.com/manual/core/document-validation/\" rel=\"noreferrer\">here</a></p>\n\n<p>Is equivalent to this:</p>\n\n<pre><code>db.runCommand( {\n   collMod: \"contacts\",\n   validator: { phone: { $type: 'string' } },\n   validationLevel: \"moderate\"\n} )\n{ \"ok\" : 1 }\n</code></pre>\n\n<p>And subsequently will throw an error if a non-string datatype is inserted tin the phone field</p>\n\n<p>Using python I did the following: </p>\n\n<pre><code>db.command({'collMod': 'contacts',\n            'validator': {'phone': {'$type': 'string'}},\n            'validationLevel': 'moderate'})\n.\n.\n.\nInvalidDocument: Cannot encode object: Collection(Database(MongoClient(host=['localhost:27017'], document_class=dict, tz_aware=False, connect=True), 'test_table'), 'contacts')\n</code></pre>\n\n<p>I'm sure that my python interpretation is wrong, that much is clear, however I have not been able to find the correct translation, or whether this is even possible in python</p>\n"}, {"tags": ["python", "if-statement", "conditional"], "comments": [{"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 2, "creation_date": 1507155314, "post_id": 46574990, "comment_id": 80103523, "body": "Very nice. So what&#39;s your question?"}, {"owner": {"reputation": 15, "user_id": 8723042, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/958f2fd8d991828cf20f1d91441a437c?s=128&d=identicon&r=PG&f=1", "display_name": "Wilnny Abreu", "link": "https://stackoverflow.com/users/8723042/wilnny-abreu"}, "reply_to_user": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1507155373, "post_id": 46574990, "comment_id": 80103545, "body": "how can I do the problem using &quot;if&quot; statement"}, {"owner": {"reputation": 8552, "user_id": 1941241, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YvyT6.png?s=128&g=1", "display_name": "rickdenhaan", "link": "https://stackoverflow.com/users/1941241/rickdenhaan"}, "edited": false, "score": 0, "creation_date": 1507155454, "post_id": 46574990, "comment_id": 80103567, "body": "Sounds to me like they want a &quot;yes&quot;/&quot;no&quot; output. If the remainder is 0, 1 or 2 output &quot;yes&quot;, otherwise output &quot;no&quot;."}, {"owner": {"reputation": 15, "user_id": 8723042, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/958f2fd8d991828cf20f1d91441a437c?s=128&d=identicon&r=PG&f=1", "display_name": "Wilnny Abreu", "link": "https://stackoverflow.com/users/8723042/wilnny-abreu"}, "edited": false, "score": 0, "creation_date": 1507155466, "post_id": 46574990, "comment_id": 80103572, "body": "noi don&#39;t understand"}, {"owner": {"reputation": 8411, "user_id": 2399775, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29a2523b23d09e0bfc15d3a77e505271?s=128&d=identicon&r=PG", "display_name": "wpercy", "link": "https://stackoverflow.com/users/2399775/wpercy"}, "reply_to_user": {"reputation": 8552, "user_id": 1941241, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YvyT6.png?s=128&g=1", "display_name": "rickdenhaan", "link": "https://stackoverflow.com/users/1941241/rickdenhaan"}, "edited": false, "score": 1, "creation_date": 1507155505, "post_id": 46574990, "comment_id": 80103581, "body": "@rickdenhaan that would output &quot;yes&quot; for every possible input..."}, {"owner": {"reputation": 15, "user_id": 8723042, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/958f2fd8d991828cf20f1d91441a437c?s=128&d=identicon&r=PG&f=1", "display_name": "Wilnny Abreu", "link": "https://stackoverflow.com/users/8723042/wilnny-abreu"}, "edited": false, "score": 0, "creation_date": 1507155508, "post_id": 46574990, "comment_id": 80103584, "body": "Oh! now I get it"}, {"owner": {"reputation": 15, "user_id": 8723042, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/958f2fd8d991828cf20f1d91441a437c?s=128&d=identicon&r=PG&f=1", "display_name": "Wilnny Abreu", "link": "https://stackoverflow.com/users/8723042/wilnny-abreu"}, "edited": false, "score": 0, "creation_date": 1507155554, "post_id": 46574990, "comment_id": 80103601, "body": "wait the reminder always going to get a 0,1,2?"}, {"owner": {"reputation": 8552, "user_id": 1941241, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YvyT6.png?s=128&g=1", "display_name": "rickdenhaan", "link": "https://stackoverflow.com/users/1941241/rickdenhaan"}, "reply_to_user": {"reputation": 8411, "user_id": 2399775, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29a2523b23d09e0bfc15d3a77e505271?s=128&d=identicon&r=PG", "display_name": "wpercy", "link": "https://stackoverflow.com/users/2399775/wpercy"}, "edited": false, "score": 0, "creation_date": 1507155617, "post_id": 46574990, "comment_id": 80103622, "body": "@wpercy yes, but that is how I interpret the question."}, {"owner": {"reputation": 8411, "user_id": 2399775, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29a2523b23d09e0bfc15d3a77e505271?s=128&d=identicon&r=PG", "display_name": "wpercy", "link": "https://stackoverflow.com/users/2399775/wpercy"}, "edited": false, "score": 0, "creation_date": 1507155668, "post_id": 46574990, "comment_id": 80103644, "body": "@WilnnyAbreu yes, the output of <code>x % 3</code> is always going to be one of 0, 1 or 2."}, {"owner": {"reputation": 2171, "user_id": 1190376, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/61970bb1278cba93a6060586f35241b0?s=128&d=identicon&r=PG", "display_name": "Antimony", "link": "https://stackoverflow.com/users/1190376/antimony"}, "edited": false, "score": 0, "creation_date": 1507155675, "post_id": 46574990, "comment_id": 80103649, "body": "Would be a tad strange mathematically, to get a remainder of something divided by 3, to be, say, 100."}, {"owner": {"reputation": 15, "user_id": 8723042, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/958f2fd8d991828cf20f1d91441a437c?s=128&d=identicon&r=PG&f=1", "display_name": "Wilnny Abreu", "link": "https://stackoverflow.com/users/8723042/wilnny-abreu"}, "edited": false, "score": 0, "creation_date": 1507155738, "post_id": 46574990, "comment_id": 80103670, "body": "ok, thanks for the help."}, {"owner": {"reputation": 6961, "user_id": 1248974, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ClqC2.jpg?s=128&g=1", "display_name": "davedwards", "link": "https://stackoverflow.com/users/1248974/davedwards"}, "edited": false, "score": 0, "creation_date": 1507155777, "post_id": 46574990, "comment_id": 80103688, "body": "check out this similar question <a href=\"https://stackoverflow.com/questions/40481623/if-statement-with-modulo-operator\">If statement with modulo operator</a>"}, {"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1507155855, "post_id": 46574990, "comment_id": 80103716, "body": "Heavily edited question to canonise and remove off topic remarks such as the needs and desires of various professors."}, {"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1507444365, "post_id": 46574990, "comment_id": 80206399, "body": "<a href=\"https://stackoverflow.com/help/someone-answers\">Accept an answer</a> if your question was solved."}], "answers": [{"tags": [], "owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "is_accepted": false, "score": 1, "last_activity_date": 1507159873, "last_edit_date": 1507159873, "creation_date": 1507155572, "answer_id": 46575043, "question_id": 46574990, "link": "https://stackoverflow.com/questions/46574990/testing-the-remainder-from-a-modulo-operation-using-conditionals/46575043#46575043", "title": "Testing the remainder from a modulo operation using conditionals", "body": "<p>Use the <code>if</code> to test the remainder from the <code>%</code> operation:</p>\n\n<pre><code>number = int(input(\"Please enter the number\"))\nif number % 3:   # is true if the remainder is 1 or 2\n    print('Not divisible')\nelse:\n    print('Divisible')\n</code></pre>\n"}], "owner": {"reputation": 15, "user_id": 8723042, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/958f2fd8d991828cf20f1d91441a437c?s=128&d=identicon&r=PG&f=1", "display_name": "Wilnny Abreu", "link": "https://stackoverflow.com/users/8723042/wilnny-abreu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1507159873, "creation_date": 1507155217, "last_edit_date": 1507155796, "question_id": 46574990, "link": "https://stackoverflow.com/questions/46574990/testing-the-remainder-from-a-modulo-operation-using-conditionals", "title": "Testing the remainder from a modulo operation using conditionals", "body": "<p>Takes in a number and indicates if its remainder when divided by 3 is 0, 1, or 2. </p>\n\n<p>My code:</p>\n\n<pre><code>number = int(input(\"Please enter the number\"))\nprint(number % 3)\n</code></pre>\n\n<p>How do I test the result of the modulo to determine whether the number is divisible by 3 or not?</p>\n"}, {"tags": ["python", "paramiko"], "comments": [{"owner": {"reputation": 3399, "user_id": 3011564, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/USArP.png?s=128&g=1", "display_name": "D4RKCIDE", "link": "https://stackoverflow.com/users/3011564/d4rkcide"}, "edited": false, "score": 0, "creation_date": 1507157696, "post_id": 46574978, "comment_id": 80104261, "body": "Providing info about your use case always helps, good luck!"}, {"owner": {"reputation": 327, "user_id": 8597114, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e9a6bf481ec5481f41a8180a03cc2810?s=128&d=identicon&r=PG&f=1", "display_name": "Marci", "link": "https://stackoverflow.com/users/8597114/marci"}, "reply_to_user": {"reputation": 3399, "user_id": 3011564, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/USArP.png?s=128&g=1", "display_name": "D4RKCIDE", "link": "https://stackoverflow.com/users/3011564/d4rkcide"}, "edited": false, "score": 0, "creation_date": 1507158889, "post_id": 46574978, "comment_id": 80104530, "body": "<a href=\"https://stackoverflow.com/questions/46572165/uploading-file-to-google-cloud-server-in-python\" title=\"uploading file to google cloud server in python\">stackoverflow.com/questions/46572165/&hellip;</a> thanks"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 10142148, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e7dc24f77f616f6abd05f386879a37d6?s=128&d=identicon&r=PG&f=1", "display_name": "Whiplash", "link": "https://stackoverflow.com/users/10142148/whiplash"}, "edited": false, "score": 1, "creation_date": 1585218872, "post_id": 60865276, "comment_id": 107686745, "body": "more info could see this <a href=\"http://docs.paramiko.org/en/2.4/api/ssh_exception.html\" rel=\"nofollow noreferrer\">docs.paramiko.org/en/2.4/api/ssh_exception.html</a>"}], "tags": [], "owner": {"reputation": 1, "user_id": 10142148, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e7dc24f77f616f6abd05f386879a37d6?s=128&d=identicon&r=PG&f=1", "display_name": "Whiplash", "link": "https://stackoverflow.com/users/10142148/whiplash"}, "is_accepted": false, "score": 0, "last_activity_date": 1585218825, "creation_date": 1585218825, "answer_id": 60865276, "question_id": 46574978, "link": "https://stackoverflow.com/questions/46574978/paramiko-ssh-exception-passwordrequiredexception-private-key-file-is-encrypted/60865276#60865276", "title": "paramiko.ssh_exception.PasswordRequiredException: Private key file is encrypted", "body": "<p>It was your RSA key gen with password, just try it with your password\nprivate_key = paramiko.RSAKey.from_private_key_file(rsa_key, password)</p>\n"}], "owner": {"reputation": 327, "user_id": 8597114, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e9a6bf481ec5481f41a8180a03cc2810?s=128&d=identicon&r=PG&f=1", "display_name": "Marci", "link": "https://stackoverflow.com/users/8597114/marci"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1671, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1585218825, "creation_date": 1507155167, "question_id": 46574978, "link": "https://stackoverflow.com/questions/46574978/paramiko-ssh-exception-passwordrequiredexception-private-key-file-is-encrypted", "title": "paramiko.ssh_exception.PasswordRequiredException: Private key file is encrypted", "body": "<p>I'm trying to connect to server with paramiko but there's always some kind of problem with private key. id_dsa is an open ssh key, so I don't know what the problem can be.</p>\n\n<p>Thanks in advance!</p>\n\n<pre><code>   import paramiko\n   k = paramiko.RSAKey.from_private_key_file(\"C:/Users/bok/Desktop/id_dsa\")\n\n   c = paramiko.SSHClient()\n   c.set_missing_host_key_policy(paramiko.AutoAddPolicy())\n   print (\"connecting\")\n   c.connect( hostname = \"3x.1x9.2x.2x\", username = \"taq4\", password = \"xxxxxx\", pkey=k)\n   print (\"connected\")\n   commands = [ \"ls\", \"pwd\" ]\n   for command in commands:\n           print (\"Executing {}\").format( command )\n           stdin , stdout, stderr = c.exec_command(command)\n           print(stdout.read())\n           print(\"Errors\")\n           print(stderr.read())\n   c.close()\n</code></pre>\n\n<p>error:</p>\n\n<pre><code>paramiko.ssh_exception.PasswordRequiredException: Private key file is encrypted\n</code></pre>\n"}, {"tags": ["python", "django"], "comments": [{"owner": {"reputation": 59346, "user_id": 444036, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/My2AZ.jpg?s=128&g=1", "display_name": "Paulo Scardine", "link": "https://stackoverflow.com/users/444036/paulo-scardine"}, "edited": false, "score": 1, "creation_date": 1507155082, "post_id": 46574911, "comment_id": 80103449, "body": "&quot;What is best&quot; is off-topic in this Q&amp;A website because it generates opinion-based answers and flame-wars. Unless you are having trouble just pick the one you like more. That said, you can also use the DELETE HTTP method instead of GET or POST."}], "answers": [{"comments": [{"owner": {"reputation": 583, "user_id": 7080457, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/1c401b8d7c36164cfdbd94d877156e24?s=128&d=identicon&r=PG&f=1", "display_name": "Mar", "link": "https://stackoverflow.com/users/7080457/mar"}, "edited": false, "score": 0, "creation_date": 1507158486, "post_id": 46574997, "comment_id": 80104443, "body": "what changes I need to work with your code in my project for this ? on the <code>Task</code> only I use my model name ?and in the <code>template_name = &#39;template&#47;delete.html&#39;</code> can I use some template like <code>&#39;movies_details.html&#39;</code> ? and final what I need to write in my html template ?sorry but I am new thanx you"}, {"owner": {"reputation": 583, "user_id": 7080457, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/1c401b8d7c36164cfdbd94d877156e24?s=128&d=identicon&r=PG&f=1", "display_name": "Mar", "link": "https://stackoverflow.com/users/7080457/mar"}, "edited": false, "score": 0, "creation_date": 1507229223, "post_id": 46574997, "comment_id": 80138517, "body": "don&#39;t work your code I take syntax error at this line <code>pk_url_kwarg = &#39;id&#39;</code>"}, {"owner": {"reputation": 10905, "user_id": 6794568, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JQCl8.jpg?s=128&g=1", "display_name": "Astik Anand", "link": "https://stackoverflow.com/users/6794568/astik-anand"}, "reply_to_user": {"reputation": 583, "user_id": 7080457, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/1c401b8d7c36164cfdbd94d877156e24?s=128&d=identicon&r=PG&f=1", "display_name": "Mar", "link": "https://stackoverflow.com/users/7080457/mar"}, "edited": false, "score": 0, "creation_date": 1507279212, "post_id": 46574997, "comment_id": 80155060, "body": "@Mar, Sorry for late reply. You can use any name as of template and then in <code>pk_url_kwarg</code> instead of <code>id</code> use whatever you are passing in <code>url</code>."}, {"owner": {"reputation": 583, "user_id": 7080457, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/1c401b8d7c36164cfdbd94d877156e24?s=128&d=identicon&r=PG&f=1", "display_name": "Mar", "link": "https://stackoverflow.com/users/7080457/mar"}, "edited": false, "score": 0, "creation_date": 1507297077, "post_id": 46574997, "comment_id": 80165906, "body": "<code>pk_url_kwarg</code> is for url ?and if that I want to delete is the image how to remove from server I mean the complete delete from media folder how to do this with your code ?"}], "tags": [], "owner": {"reputation": 10905, "user_id": 6794568, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JQCl8.jpg?s=128&g=1", "display_name": "Astik Anand", "link": "https://stackoverflow.com/users/6794568/astik-anand"}, "is_accepted": false, "score": 2, "last_activity_date": 1507155265, "creation_date": 1507155265, "answer_id": 46574997, "question_id": 46574911, "link": "https://stackoverflow.com/questions/46574911/django-delete-object-with-html-button/46574997#46574997", "title": "django delete object with html button", "body": "<p>You can use <code>DeleteView</code> functionality of django. I think that will be the better one.</p>\n\n<pre><code>from django.views.generic.edit import DeleteView\nfrom django.urls import reverse_lazy\n\nclass DeleteTaskView(DeleteView):\n     template_name = 'template/delete.html'\n     model = Task\n     pk_url_kwarg = 'id'\n\n    def get_success_url(self):\n        return reverse_lazy('movies_details.views.movies_details')\n</code></pre>\n"}], "owner": {"reputation": 583, "user_id": 7080457, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/1c401b8d7c36164cfdbd94d877156e24?s=128&d=identicon&r=PG&f=1", "display_name": "Mar", "link": "https://stackoverflow.com/users/7080457/mar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1891, "favorite_count": 1, "answer_count": 1, "score": 3, "last_activity_date": 1507158301, "creation_date": 1507154799, "last_edit_date": 1507158301, "question_id": 46574911, "link": "https://stackoverflow.com/questions/46574911/django-delete-object-with-html-button", "title": "django delete object with html button", "body": "<p>I have a simple site project in Django and I have movies lists in man page and movies details in the second page.</p>\n\n<p>I want to add a delete button on movies details tab where user can delete the movies object.</p>\n\n<p><strong>views.py</strong></p>\n\n<pre><code>def movies_list(request):\n    return render(request, 'movies.html',{'movies':movies.objects.all()})\n\n\ndef movies_details(request,slug):\n    movies_details=MyModel.objects.all()\n    det=get_object_or_404(movies_details, slug_name=slug)\n    return render(request, 'movies_details.html',{'movies_details':movies_details,'det':det})\n</code></pre>\n\n<p>what is the better method to do that ?</p>\n\n<p>something like this using new view :</p>\n\n<pre><code>def delete(request, id):\n    note = get_object_or_404(Note, pk=id).delete()\n    return HttpResponseRedirect(reverse('movies_details.views.movies_details'))\n</code></pre>\n\n<p><strong>urls.py</strong></p>\n\n<pre><code>url(r'^delete/(?P&lt;id&gt;\\d+)/$','project.app.views.delete'),\n</code></pre>\n\n<p>or some like this ?</p>\n\n<pre><code>if request.POST.get('delete'):\n    obj.delete()\n</code></pre>\n\n<p>or use some Django form ?</p>\n"}, {"tags": ["python", "multiprocessing"], "owner": {"reputation": 1179, "user_id": 3314194, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/6b9b162c9007788e34d6831a2761087e?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin Vasko", "link": "https://stackoverflow.com/users/3314194/kevin-vasko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1447, "favorite_count": 0, "closed_date": 1507155419, "answer_count": 0, "score": 1, "last_activity_date": 1507155977, "creation_date": 1507154786, "question_id": 46574908, "link": "https://stackoverflow.com/questions/46574908/how-do-i-pass-object-data-to-other-python-multiprocessing-processes", "closed_reason": "Duplicate", "title": "How do I pass object data to other Python multiprocessing processes?", "body": "<p>I am trying to process some data coming back from my database in parallel. </p>\n\n<p>I run a query and get a resultset.</p>\n\n<p><code>results = dbsession.query(table1, table2).outerjoin(table1.fk_id).limit(10).all()</code></p>\n\n<p>I see all of my data and fields in PyCharms debugger and object viewer. One of these fields is an XML object (XML field in MSSQL). I found code to make a custom type in python (code below). </p>\n\n<p><a href=\"https://i.stack.imgur.com/VK2iv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VK2iv.png\" alt=\"raw_xml element\"></a></p>\n\n<p>I then map that list and send it to my multiprocessing function via map.</p>\n\n<pre><code>pool = mp.Pool(processes=4)\nmp_process_results = pool.map(partial(test_mp), results)\n</code></pre>\n\n<p>My multiprocessing function </p>\n\n<pre><code>def test_mp(resultset):\n    processed_file = Generic_translator(resultset).translate_record()\n    return processed_file\n</code></pre>\n\n<p>Once the object gets to the my test_mp() function the raw_xml data is no longer in the raw_xml field. <a href=\"https://i.stack.imgur.com/9IRU4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9IRU4.png\" alt=\"raw_xml disappeared\"></a>. The other fields (e.g. id, filename, basename, filesize, etc.) are all present and available. Unfortunately, I need the raw_xml field.</p>\n\n<p>I assume that this is due to the fact that the processed don't share the same memory space. However, I'm not sure how I can make that data available to the other processes.</p>\n\n<pre><code>import sqlalchemy.types as types\nimport lxml\nimport logging\n\nfrom lxml import etree\n\nclass XMLType(types.UserDefinedType):\n\n    def get_col_spec(self):\n        return 'XML'\n\n    def bind_processor(self, dialect):\n        def process(value):\n            if value is not None:\n                if isinstance(value, str):\n                    return value\n                else:\n                    return etree.tostring(value)\n            else:\n                return None\n        return process\n\n    def result_processor(self, dialect, coltype):\n        def process(value):\n            if (value is not None) and (value is not '') :\n                try:\n                    value = etree.fromstring(value)\n                except lxml.etree.XMLSyntaxError:\n                    logging.error(\"Syntax error in XML file: %s\", value)\n                    logging.error(\"XML result is probably NULL\")\n                    logging.error(\"XMLSyntaxError: %s\", lxml.etree.XMLSyntaxError)\n            return value\n        return process\n</code></pre>\n"}, {"tags": ["python", "loops", "for-loop", "while-loop", "iteration"], "comments": [{"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 1, "creation_date": 1507154757, "post_id": 46574885, "comment_id": 80103353, "body": "Yes, in the for loop, the range is precomputed, so the iterations fix. In the while loop, the condition is retested based on the values of <code>a</code> and <code>i</code> after each iteration."}, {"owner": {"reputation": 12211, "user_id": 5411817, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Z0g8T.png?s=128&g=1", "display_name": "SherylHohman", "link": "https://stackoverflow.com/users/5411817/sherylhohman"}, "reply_to_user": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1507156319, "post_id": 46574885, "comment_id": 80103870, "body": "You can add a print statement inside each loop to see @c\u1d0f\u029f\u1d05s\u1d18\u1d07\u1d07\u1d05&#39;s answer and Python loops in action."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1507157409, "post_id": 46574885, "comment_id": 80104193, "body": "Yes, python <code>for</code> loops are &quot;for-each&quot; constructs"}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 8702084, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XbKhd.png?s=128&g=1", "display_name": "Sirius5783", "link": "https://stackoverflow.com/users/8702084/sirius5783"}, "edited": false, "score": 0, "creation_date": 1508770437, "post_id": 46574928, "comment_id": 80731901, "body": "Sorry,new to stackoverflow. I thought upvoting means acceptance to the answer, just found out that theres a check mark beside the answer that needed be toggled. Thanks for the help!"}], "tags": [], "owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "is_accepted": true, "score": 2, "last_activity_date": 1507154912, "creation_date": 1507154912, "answer_id": 46574928, "question_id": 46574885, "link": "https://stackoverflow.com/questions/46574885/why-do-these-for-and-while-loops-iterate-differently/46574928#46574928", "title": "Why do these for and while loops iterate differently?", "body": "<pre><code>a = 28\nfor i in range(1,a):\n    a = a - 5\n</code></pre>\n\n<p>Read: <em>Subtract 5 from <code>a</code>, 27 times.</em></p>\n\n<hr>\n\n<pre><code>a = 28\ni = 1\nwhile i &lt; a:\n    a = a - 5\n    i = i + 1\n</code></pre>\n\n<p>Read: <em>Keep subtracting 5 from <code>a</code> as long as <code>i</code> is lesser than <code>a</code>.</em></p>\n\n<hr>\n\n<p>Obviously, these two statements are not the same. The <code>for</code> loop precomputes the range, and the iterations are fixed, regardless of the value of <code>a</code>. In the case of the <code>while</code>, the condition is retested with the latest value of <code>a</code> at each new iteration, accounting for the difference you see.</p>\n"}], "owner": {"reputation": 13, "user_id": 8702084, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XbKhd.png?s=128&g=1", "display_name": "Sirius5783", "link": "https://stackoverflow.com/users/8702084/sirius5783"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 1, "accepted_answer_id": 46574928, "answer_count": 1, "score": 1, "last_activity_date": 1507444626, "creation_date": 1507154674, "last_edit_date": 1507444626, "question_id": 46574885, "link": "https://stackoverflow.com/questions/46574885/why-do-these-for-and-while-loops-iterate-differently", "title": "Why do these for and while loops iterate differently?", "body": "<p>I have a question about the for and while loop in Python3.6: </p>\n\n<p>Why variables within the while loop can effect this loop, and variables within the for loop cannot? Is there a way to make the latter way work as well?</p>\n\n<p>I am doing a math question using Python to calculate, the algorithm uses a for loop same as the first one in the code blocks.\nBut with the value of variable-a in this loop changing, the for-loop's range  stays.</p>\n\n<p>So I uses a while loop to achieve my goal and it goes through.\nMy guess on this is that a range(a set of elements) is decided once it is been run, or a for-loop does not share the same 'nature' as a while-loop.</p>\n\n<pre><code>a = 28\nfor i in range(1,a):\n    a = a - 5\n\n# outcomes: a = -107, i =27\n\na = 28\ni = 1\nwhile i &lt; a:\n    a = a - 5\n    i = i + 1\n\n# outcomes: a = 3, i = 6\n</code></pre>\n"}, {"tags": ["python", "django", "django-models", "django-forms"], "comments": [{"owner": {"reputation": 8411, "user_id": 2399775, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29a2523b23d09e0bfc15d3a77e505271?s=128&d=identicon&r=PG", "display_name": "wpercy", "link": "https://stackoverflow.com/users/2399775/wpercy"}, "edited": false, "score": 0, "creation_date": 1507155875, "post_id": 46574878, "comment_id": 80103723, "body": "You&#39;re using an apostrophe and it&#39;s getting converted into its HTML character code: <code>&amp;#39;</code>. Try enclosing the values in <code>LEAGUE_ROLES</code> with double quotes."}, {"owner": {"reputation": 65, "user_id": 4209022, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/ea51a8bff4a9f45fd9030bbf99bde4a2?s=128&d=identicon&r=PG&f=1", "display_name": "Shawn", "link": "https://stackoverflow.com/users/4209022/shawn"}, "reply_to_user": {"reputation": 8411, "user_id": 2399775, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29a2523b23d09e0bfc15d3a77e505271?s=128&d=identicon&r=PG", "display_name": "wpercy", "link": "https://stackoverflow.com/users/2399775/wpercy"}, "edited": false, "score": 0, "creation_date": 1507156460, "post_id": 46574878, "comment_id": 80103913, "body": "So I replaced the single quotes to double quotes in <code>LEAGUE_ROLES</code>, but form still returns invalid for the same reason. I even tried changing <code>models.CharField</code> to <code>models.IntegerField</code> in <code>models.py</code> and changing my values in <code>LEAGUE_ROLES</code> to integers, but the form is still invalid because: <code>Select a valid choice. [&amp;#39;2&amp;#39;, &amp;#39;3&amp;#39;, &amp;#39;4&amp;#39;] is not one of the available choices.</code>"}, {"owner": {"reputation": 8411, "user_id": 2399775, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29a2523b23d09e0bfc15d3a77e505271?s=128&d=identicon&r=PG", "display_name": "wpercy", "link": "https://stackoverflow.com/users/2399775/wpercy"}, "edited": false, "score": 0, "creation_date": 1507156539, "post_id": 46574878, "comment_id": 80103935, "body": "What if you made it integers and removed the quotes altogether?"}, {"owner": {"reputation": 65, "user_id": 4209022, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/ea51a8bff4a9f45fd9030bbf99bde4a2?s=128&d=identicon&r=PG&f=1", "display_name": "Shawn", "link": "https://stackoverflow.com/users/4209022/shawn"}, "reply_to_user": {"reputation": 8411, "user_id": 2399775, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29a2523b23d09e0bfc15d3a77e505271?s=128&d=identicon&r=PG", "display_name": "wpercy", "link": "https://stackoverflow.com/users/2399775/wpercy"}, "edited": false, "score": 0, "creation_date": 1507156844, "post_id": 46574878, "comment_id": 80104029, "body": "@wpercy hi, I tried doing that but did not work, the form is still invalid for a similar reason. See my last comment for more details"}, {"owner": {"reputation": 8411, "user_id": 2399775, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29a2523b23d09e0bfc15d3a77e505271?s=128&d=identicon&r=PG", "display_name": "wpercy", "link": "https://stackoverflow.com/users/2399775/wpercy"}, "edited": false, "score": 0, "creation_date": 1507157494, "post_id": 46574878, "comment_id": 80104204, "body": "Try defining each of your options inside your model class like they suggest in the django docs: <a href=\"https://docs.djangoproject.com/en/1.11/ref/models/fields/#choices\" rel=\"nofollow noreferrer\">docs.djangoproject.com/en/1.11/ref/models/fields/#choices</a>"}, {"owner": {"reputation": 65, "user_id": 4209022, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/ea51a8bff4a9f45fd9030bbf99bde4a2?s=128&d=identicon&r=PG&f=1", "display_name": "Shawn", "link": "https://stackoverflow.com/users/4209022/shawn"}, "reply_to_user": {"reputation": 8411, "user_id": 2399775, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29a2523b23d09e0bfc15d3a77e505271?s=128&d=identicon&r=PG", "display_name": "wpercy", "link": "https://stackoverflow.com/users/2399775/wpercy"}, "edited": false, "score": 0, "creation_date": 1507157925, "post_id": 46574878, "comment_id": 80104316, "body": "I moved <code>LEAGUE_ROLES</code> to be inside the model class but still the same issue occurs."}, {"owner": {"reputation": 65, "user_id": 4209022, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/ea51a8bff4a9f45fd9030bbf99bde4a2?s=128&d=identicon&r=PG&f=1", "display_name": "Shawn", "link": "https://stackoverflow.com/users/4209022/shawn"}, "reply_to_user": {"reputation": 8411, "user_id": 2399775, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29a2523b23d09e0bfc15d3a77e505271?s=128&d=identicon&r=PG", "display_name": "wpercy", "link": "https://stackoverflow.com/users/2399775/wpercy"}, "edited": false, "score": 0, "creation_date": 1507162694, "post_id": 46574878, "comment_id": 80105425, "body": "I&#39;ve added more information"}], "answers": [{"tags": [], "owner": {"reputation": 8411, "user_id": 2399775, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29a2523b23d09e0bfc15d3a77e505271?s=128&d=identicon&r=PG", "display_name": "wpercy", "link": "https://stackoverflow.com/users/2399775/wpercy"}, "is_accepted": false, "score": 0, "last_activity_date": 1507734928, "creation_date": 1507734928, "answer_id": 46691912, "question_id": 46574878, "link": "https://stackoverflow.com/questions/46574878/django-form-returning-invalid/46691912#46691912", "title": "Django Form Returning Invalid", "body": "<p>This is happening because you're trying to pass a list of two text values into a <code>CharField</code>. A list is (for obvious reasons) an invalid choice for a <code>CharField</code>. If you want to allow for multiple options, consider using a <code>JSONField</code> (postgres only) or perhaps a <a href=\"https://docs.djangoproject.com/en/1.11/ref/forms/fields/#multiplechoicefield\" rel=\"nofollow noreferrer\"><code>MultipleChoiceField</code></a>.</p>\n\n<p>The MultipleChoiceField definition would look something like </p>\n\n<pre><code>createPostingOpenRoles = models.MultipleChoiceField(choices=LEAGUE_ROLES)\n</code></pre>\n\n<p>The \"empty\" value for a MultipleChoiceField is an empty list (<code>[]</code>)</p>\n"}], "owner": {"reputation": 65, "user_id": 4209022, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/ea51a8bff4a9f45fd9030bbf99bde4a2?s=128&d=identicon&r=PG&f=1", "display_name": "Shawn", "link": "https://stackoverflow.com/users/4209022/shawn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 497, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1507734928, "creation_date": 1507154637, "last_edit_date": 1507162611, "question_id": 46574878, "link": "https://stackoverflow.com/questions/46574878/django-form-returning-invalid", "title": "Django Form Returning Invalid", "body": "<p>I'm trying to implement a form that has checkbox options for a field, and a user can select multiple checkboxes for that specific field in the form and all the check-marked values should be sent in the POST request. </p>\n\n<p>But <code>views.py</code> is saying that the form is invalid when I try to submit the form. The reason it is invalid is this<br> <code>Select a valid choice. [&amp;#39;top&amp;#39;, &amp;#39;mid&amp;#39;] is not one of the available choices.</code></p>\n\n<p>I get a similar error when I only select one checkbox. </p>\n\n<p>Here is my partial <code>models.py</code> \n<br></p>\n\n<pre><code>from django.db import models\nLEAGUE_ROLES = (\n    ('top','Top'),\n    ('mid','Mid'),\n    ('jungle','Jungle'),\n    ('bottom','Bottom/ADC'),\n    ('support','Support'),\n)\nclass CreatePosting(models.Model)\n    createPostingOpenRoles = models.CharField(max_length = 10, choices=LEAGUE_ROLES, default=None)\n    def __str__(self):   # __unicode__ on Python 2\n        return self.title\n</code></pre>\n\n<p>Here is my partial <code>forms.py</code></p>\n\n<pre><code>class TeamPostingCreateForm(ModelForm):\n    class Meta:\n        model = CreatePosting\n        widgets = {\n            'createPostingOpenRoles': forms.CheckboxSelectMultiple(),\n        }\n        fields = '__all__'\n    def __init__(self, *args, **kwargs):\n        super(TeamPostingCreateForm, self).__init__(*args, **kwargs)\n</code></pre>\n\n<p>Here is my partial <code>views.py</code></p>\n\n<pre><code>def createposting(request):\n    UserTeamPostingCreateForm = TeamPostingCreateForm()\n    if request.method == \"POST\":\n        UserTeamPostingCreateForm = TeamPostingCreateForm(request.POST)\n        if UserTeamPostingCreateForm.is_valid():\n            logger.error(\"valid form\")\n        else:\n            #print form error\n            logger.error(UserTeamPostingCreateForm.errors)\n    variables = { 'form': UserTeamPostingCreateForm }\n    return render(request, 'createposting.html', variables)\n</code></pre>\n\n<p>And in my template, I have this for the form field</p>\n\n<pre><code>{{ form.createPostingOpenRoles }}\n</code></pre>\n\n<p>Let me know if you need any more code.\nI tried researching for the solution but nothing was working for me. </p>\n\n<p>I'd appreciate any help, thank you</p>\n\n<p>UPDATE</p>\n\n<p>So I printed out the choices that <code>views.py</code> will render to the template with this</p>\n\n<pre><code>    logger.error(UserTeamPostingCreateForm.fields['createPostingOpenRoles'].choices)\n</code></pre>\n\n<p>and I got this output</p>\n\n<pre><code>[('top', 'Top'), ('mid', 'Mid'), ('jungle', 'Jungle'), ('bottom', 'Bottom/ADC'), ('support', 'Support')]\n</code></pre>\n\n<p>Then when I submit the form with checkboxes 'Top' and 'Mid' marked I get this an invalid form, because:</p>\n\n<pre><code>Select a valid choice. ['top', 'mid'] is not one of the available choices.\n</code></pre>\n"}, {"tags": ["python", "pandas", "dataframe", "max"], "comments": [{"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1507154388, "post_id": 46574769, "comment_id": 80103218, "body": "Your df and reorded_df do not have the same values. Please look again."}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user7830303"}, "edited": false, "score": 0, "creation_date": 1507155165, "post_id": 46574849, "comment_id": 80103476, "body": "could you please edit your solution using the snippet above? I need to keep both dataframes: <code>df</code>and <code>reordered_df</code>"}, {"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1507155211, "post_id": 46574849, "comment_id": 80103488, "body": "@outkast You don&#39;t need the for loop. Also, see edit."}], "tags": [], "owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "is_accepted": true, "score": 2, "last_activity_date": 1507155224, "last_edit_date": 1507155224, "creation_date": 1507154451, "answer_id": 46574849, "question_id": 46574769, "link": "https://stackoverflow.com/questions/46574769/filter-dataframe-rows-according-to-max-column-value/46574849#46574849", "title": "Filter dataframe rows according to max column value", "body": "<p>Find the <code>max</code> row-wise along the columns, compare to <code>class2</code>, and discard accordingly.</p>\n\n<pre><code>reordered_df\n        artist               track  class1  class2  class3\n1  Yo La Tengo     Our Way to Fall    0.14    0.86     0.0\n2    Radiohead  Fake Plastic Trees    0.03    0.97     0.0\n0   Portishead               Roads    0.98    0.02     0.0\n\nreordered_df[reordered_df.max(1) == reordered_df.class2]\n        artist               track  class1  class2  class3\n1  Yo La Tengo     Our Way to Fall    0.14    0.86     0.0\n2    Radiohead  Fake Plastic Trees    0.03    0.97     0.0\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user7830303"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 783, "favorite_count": 0, "accepted_answer_id": 46574849, "answer_count": 1, "score": 0, "last_activity_date": 1507444076, "creation_date": 1507154046, "last_edit_date": 1507444076, "question_id": 46574769, "link": "https://stackoverflow.com/questions/46574769/filter-dataframe-rows-according-to-max-column-value", "title": "Filter dataframe rows according to max column value", "body": "<hr>\n\n<p>I have this <code>df</code> dataframe:</p>\n\n<pre><code>        artist               track  class1  class2      class3\n0   Portishead               Roads   0.98    0.02          0.0\n1  Yo La Tengo     Our Way to Fall   0.14    0.86          0.0\n2    Radiohead  Fake Plastic Trees   0.03    0.97          0.0\n</code></pre>\n\n<p>given these user inputs:</p>\n\n<pre><code>input_value = 0.8\ninput_class = 'class2'\n</code></pre>\n\n<p>I use the following code in reorder the dataframe according to class2 max value:</p>\n\n<pre><code> for col in df.ix[:,'class1':'class3']:\n     if col == input_class:\n        reordered_df = df.iloc[(df[input_class] - input_value).argsort()]\n</code></pre>\n\n<p>like so:</p>\n\n<pre><code>1  Yo La Tengo     Our Way to Fall   0.14    0.86          0.0\n2    Radiohead  Fake Plastic Trees   0.03    0.97          0.0\n0   Portishead               Roads   0.98    0.02          0.0\n</code></pre>\n\n<p>however, I still need to satisfy one class condition , that is class2 value must be the highest <strong>float</strong> value in each <strong>row</strong>. in other words:</p>\n\n<pre><code>0   Portishead               Roads   0.98    0.02          0.0\n</code></pre>\n\n<p>should be discarted, because max value belongs to another class.</p>\n\n<p>how do I insert this condition on the snippet above?</p>\n"}, {"tags": ["python", "list", "file", "keyerror"], "comments": [{"owner": {"reputation": 1666, "user_id": 4900574, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/1e889e234c602cf27c433d382dfb8d70?s=128&d=identicon&r=PG&f=1", "display_name": "amarynets", "link": "https://stackoverflow.com/users/4900574/amarynets"}, "edited": false, "score": 0, "creation_date": 1507154087, "post_id": 46574729, "comment_id": 80103105, "body": "Just read your header so <code>fieldnames =  open(&#39;hdr_name.txt&#39;, &#39;r&#39;).readlines()</code>"}, {"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "reply_to_user": {"reputation": 1666, "user_id": 4900574, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/1e889e234c602cf27c433d382dfb8d70?s=128&d=identicon&r=PG&f=1", "display_name": "amarynets", "link": "https://stackoverflow.com/users/4900574/amarynets"}, "edited": false, "score": 0, "creation_date": 1507154110, "post_id": 46574729, "comment_id": 80103113, "body": "@AndMar That unfortunately does not fix it, because the file contains a single line with a str&#39;d list."}, {"owner": {"reputation": 1666, "user_id": 4900574, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/1e889e234c602cf27c433d382dfb8d70?s=128&d=identicon&r=PG&f=1", "display_name": "amarynets", "link": "https://stackoverflow.com/users/4900574/amarynets"}, "edited": false, "score": 0, "creation_date": 1507154252, "post_id": 46574729, "comment_id": 80103166, "body": "Yes, that&#39;s true("}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1507154381, "post_id": 46574729, "comment_id": 80103215, "body": "More importantly, stop dumping the string representation of an object to a txt file and calling it serialization - <b>use pre-existing serialization formats</b>."}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 8722555, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1b635d1928943f8d719505a6ad1a524b?s=128&d=identicon&r=PG&f=1", "display_name": "Israel Diaz", "link": "https://stackoverflow.com/users/8722555/israel-diaz"}, "edited": false, "score": 0, "creation_date": 1507166727, "post_id": 46574757, "comment_id": 80106288, "body": "Ok. found other of the multiple ways to do it, once I got the main idea! Thanks @COLDSPEED  <code>fieldnames =  eval(open(&#39;hdr_name.txt&#39;, &#39;r&#39;).read())</code>  Using <code>eval()</code>"}, {"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "reply_to_user": {"reputation": 13, "user_id": 8722555, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1b635d1928943f8d719505a6ad1a524b?s=128&d=identicon&r=PG&f=1", "display_name": "Israel Diaz", "link": "https://stackoverflow.com/users/8722555/israel-diaz"}, "edited": false, "score": 0, "creation_date": 1507192171, "post_id": 46574757, "comment_id": 80115016, "body": "@IsraelDiaz try to stay away from eval, it is unsafe compared to ast."}, {"owner": {"reputation": 13, "user_id": 8722555, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1b635d1928943f8d719505a6ad1a524b?s=128&d=identicon&r=PG&f=1", "display_name": "Israel Diaz", "link": "https://stackoverflow.com/users/8722555/israel-diaz"}, "edited": false, "score": 0, "creation_date": 1507215508, "post_id": 46574757, "comment_id": 80130765, "body": "@COLDSPEED - Oky. got it! 10xs!"}, {"owner": {"reputation": 13, "user_id": 8722555, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1b635d1928943f8d719505a6ad1a524b?s=128&d=identicon&r=PG&f=1", "display_name": "Israel Diaz", "link": "https://stackoverflow.com/users/8722555/israel-diaz"}, "edited": false, "score": 0, "creation_date": 1507220621, "post_id": 46574757, "comment_id": 80133942, "body": "Just more info about it: from documentation states: <code>See ast.literal_eval() for a function that can safely evaluate strings with expressions containing only literals.</code> [ <a href=\"https://docs.python.org/2/library/functions.html?highlight=eval#eval\" rel=\"nofollow noreferrer\">docs.python.org/2/library/functions.html?highlight=eval#eval</a> ]"}], "tags": [], "owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "is_accepted": true, "score": 2, "last_activity_date": 1507153980, "creation_date": 1507153980, "answer_id": 46574757, "question_id": 46574729, "link": "https://stackoverflow.com/questions/46574729/how-to-resolve-keyerror-variable-in-python/46574757#46574757", "title": "How to resolve KeyError: &lt;variable&gt; in Python?", "body": "<p><code>fieldnames</code> is a string that looks like this:</p>\n\n<pre><code>\"['name', 'paterno', 'materno']\"\n</code></pre>\n\n<p>Naturally, a membership test will return true, but that does not imply <code>fieldnames</code> is a list. Remember, <code>file.read</code> returns a string - you still need to cast it to a list.</p>\n\n<p>This doesn't appear to look like JSON, so I'd recommend <code>ast</code>:</p>\n\n<pre><code>import ast\nwith open('hdr_name.txt', 'r') as f:\n     fieldnames = ast.literal_eval(f.read().strip())\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 8722555, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1b635d1928943f8d719505a6ad1a524b?s=128&d=identicon&r=PG&f=1", "display_name": "Israel Diaz", "link": "https://stackoverflow.com/users/8722555/israel-diaz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2148, "favorite_count": 0, "accepted_answer_id": 46574757, "answer_count": 1, "score": 0, "last_activity_date": 1507444014, "creation_date": 1507153747, "last_edit_date": 1507444014, "question_id": 46574729, "link": "https://stackoverflow.com/questions/46574729/how-to-resolve-keyerror-variable-in-python", "title": "How to resolve KeyError: &lt;variable&gt; in Python?", "body": "<p>Hi I'm trying to open simple csv file with the header from an external file:</p>\n\n<p>got next file named: <strong>name.csv</strong> with next content:</p>\n\n<pre><code>Leo,Days,Ju\nTomas,Lee,Bruce\nMax,Perez,Smith\n</code></pre>\n\n<p>If I code:</p>\n\n<pre><code>import csv\nsep = ','\nwith open('name.csv') as csvfile:\n     fieldnames = ['name', 'paterno', 'materno']\n     reader = csv.DictReader(csvfile,fieldnames)\n     for row in reader:\n         list = (row['name'], \\\n                 row['materno'])\n         print (sep.join(list))\n</code></pre>\n\n<p>The result is desired like:</p>\n\n<pre><code>Leo,Ju\nTomas,Bruce\nMax,Smith\n</code></pre>\n\n<p>But if got an extra file with headers named <strong>hdr_name.txt</strong> with:</p>\n\n<pre><code>['name', 'paterno', 'materno']\n</code></pre>\n\n<p>With this new code:</p>\n\n<pre><code>import csv\nsep = ','\nfieldnames =  open('hdr_name.txt', 'r').read()\nwith open('name.csv') as csvfile:\n    print(fieldnames)\n    reader = csv.DictReader(csvfile,fieldnames)\n    for row in reader:\n        list = (row['name'], \\\n            row['materno'])\n        print (sep.join(list))\n</code></pre>\n\n<p>Got as result:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 5, in &lt;module&gt;\nKeyError: 'name'\n</code></pre>\n\n<p>But if I ask for 'name' in fieldnames, is there!</p>\n\n<pre><code>&gt;&gt;&gt; 'name' in fieldnames\nTrue\n&gt;&gt;&gt; \n</code></pre>\n\n<p>What I'm doing wrong, with opening header from external file ?</p>\n"}, {"tags": ["python", "python-3.x", "pandas"], "comments": [{"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1507154634, "post_id": 46574727, "comment_id": 80103314, "body": "Add your expected output here."}, {"owner": {"reputation": 1, "user_id": 8722810, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/566866c657e1da4ec6daadcaaf23c0d7?s=128&d=identicon&r=PG&f=1", "display_name": "SammySebastian Innovation", "link": "https://stackoverflow.com/users/8722810/sammysebastian-innovation"}, "reply_to_user": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1507211607, "post_id": 46574727, "comment_id": 80127948, "body": "Ok cool!  So for Q1 it would look like:"}], "owner": {"reputation": 1, "user_id": 8722810, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/566866c657e1da4ec6daadcaaf23c0d7?s=128&d=identicon&r=PG&f=1", "display_name": "SammySebastian Innovation", "link": "https://stackoverflow.com/users/8722810/sammysebastian-innovation"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 34, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1507221251, "creation_date": 1507153732, "last_edit_date": 1507221251, "question_id": 46574727, "link": "https://stackoverflow.com/questions/46574727/how-do-i-find-the-first-duplicate-value-in-a-data-frame-based-on-time-stamp-in-p", "title": "How do i find the first duplicate value in a data frame based on time stamp in Python 3.x?", "body": "<p>I am new to Python 3.6 and I have been trying to solve an assignment without any success using Pandas. </p>\n\n<p>My dataframe looks like this:</p>\n\n<pre><code>Index  ID           Time              Account  Key   City    County \n 0      10     2016-01-01 12:30          11      55     a       NZ\n 1      2      2016-01-02 13:30          14      34     b       AL\n 2      33     2016-01-03 11:20          4       55     a       NZ\n 3      4      2016-01-01 14:30          11      40     b       AL \n 4      18     2016-01-20 23:30          14      34     b       AL\n ..\n\n100    41     2016-03-20 13:50          11      55     a       NZ\n</code></pre>\n\n<ol>\n<li><p>I want to identify that Account 11 and 14 are reoccurring and to count them in different buckets in a new column (Ie: occurring with changes in Key and occurring without changes in Key) but I want 11 to be counted once. </p></li>\n<li><p>I want to calculate the time difference in hours between the first and second occurrence of Account 11 but to ignore all other occurrences of 11. The results should be placed in a new data frame with columns 'Account' and 'Time_diff'</p></li>\n</ol>\n\n<p>Any ideas on how to proceed? I am using Spyder if that makes any difference =)</p>\n\n<p>So for Q1 it would look like:</p>\n\n<pre><code>Index  ID           Time              Account  Key   City    County ChangeKey\n 0      10     2016-01-01 12:30          11      55     a       NZ       0\n 1      2      2016-01-02 13:30          14      34     b       AL       0\n 2      33     2016-01-03 11:20          4       55     a       NZ       0\n 3      4      2016-01-01 14:30          11      40     b       AL       1\n 4      18     2016-01-20 23:30          14      34     b       AL       0\n</code></pre>\n\n<p>The key changes for account 11 but not account 14.  </p>\n\n<p>For Q2 the final result would look like </p>\n\n<pre><code> Index        Time         Account  Timediff \n 0     2016-01-01 12:30    11         0      \n 1     2016-01-02 13:30    14         0      \n 2     2016-01-03 11:20    4          NA      \n 3     2016-01-01 14:30    11         2      \n 4     2016-01-20 23:30    14        320       \n</code></pre>\n"}, {"tags": ["python", "gensim", "lda"], "answers": [{"tags": [], "owner": {"reputation": 605, "user_id": 4244519, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/3a1a5ff72aac038950f233ee08a9eb07?s=128&d=identicon&r=PG&f=1", "display_name": "Sumit Sidana", "link": "https://stackoverflow.com/users/4244519/sumit-sidana"}, "is_accepted": false, "score": 1, "last_activity_date": 1587679278, "creation_date": 1587679278, "answer_id": 61397756, "question_id": 46574720, "link": "https://stackoverflow.com/questions/46574720/python-gensim-lda-add-the-topic-to-the-document-after-getting-the-topics/61397756#61397756", "title": "Python gensim LDA: add the topic to the document after getting the topics", "body": "<p>I was facing the same problem. A little bit of searching resulted in the code below:</p>\n\n<pre><code> all_topics = ldamodel.get_document_topics(corpus_lda, minimum_probability=0.0)\n all_topics_csr = gensim.matutils.corpus2csc(all_topics)\n all_topics_numpy = all_topics_csr.T.toarray()\n all_topics_df = pd.DataFrame(all_topics_numpy)\n</code></pre>\n\n<p>References:</p>\n\n<ol>\n<li><p><a href=\"https://stackoverflow.com/questions/48358161/efficient-transformation-of-gensim-transformedcorpus-data-to-array\">Efficient transformation of gensim TransformedCorpus data to array</a></p></li>\n<li><p><a href=\"https://stackoverflow.com/questions/45310925/how-to-get-a-complete-topic-distribution-for-a-document-using-gensim-lda\">How to get a complete topic distribution for a document using gensim LDA?</a></p></li>\n<li><p><a href=\"https://github.com/RaRe-Technologies/gensim/blob/develop/docs/notebooks/topic_methods.ipynb\" rel=\"nofollow noreferrer\">https://github.com/RaRe-Technologies/gensim/blob/develop/docs/notebooks/topic_methods.ipynb</a></p></li>\n</ol>\n"}], "owner": {"reputation": 21, "user_id": 8722795, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8eb5585b8e43433c18fbc4c5eb250330?s=128&d=identicon&r=PG&f=1", "display_name": "Datafront", "link": "https://stackoverflow.com/users/8722795/datafront"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 872, "favorite_count": 4, "answer_count": 1, "score": 2, "last_activity_date": 1587679278, "creation_date": 1507153703, "last_edit_date": 1507153763, "question_id": 46574720, "link": "https://stackoverflow.com/questions/46574720/python-gensim-lda-add-the-topic-to-the-document-after-getting-the-topics", "title": "Python gensim LDA: add the topic to the document after getting the topics", "body": "<p>I'm using LDA from gensim to perform a topic modeling. I know how to convert the raw text data to corpus and get the topics. But, after I get the topics, can I label or add back the topics results to the raw document? </p>\n\n<p><strong>Here are my codes:</strong></p>\n\n<pre><code>movie_reviews = pd.read_csv(data_path + 'movie_review.tsv',header=0,delimiter='\\t',quoting=3) \n\nreviews = []\nfor i in range(len(movie_reviews['review'])):\nreviews.append(review_to_words(movie_reviews['review']\n              [i],stops=stopwords.words('english')))\nfrom gensim import corpora\ndictionary = corpora.Dictionary(reviews)\ncorpus = [dictionary.doc2bow(review) for review in reviews]\nfrom gensim import models\ntfidf = models.TfidfModel(corpus)\ncorpus_tfidf = tfidf[corpus]\nlda = models.LdaModel(corpus_tfidf, id2word=dictionary, num_topics=10)\ncorpus_lda = lda[corpus_tfidf]\nlda.print_topics(10)\n[(0,\n  u'0.001*ben + 0.001*sinatra + 0.001*santa + 0.001*henry + 0.001*band + 0.001*william + 0.001*fool + 0.001*tragic + 0.001*favourite + 0.001*bed'),\n (1,\n  u'0.002*dentist + 0.002*homeless + 0.002*connery + 0.002*hawn + 0.002*judas + 0.002*bogus + 0.001*dickens + 0.001*hilarity + 0.001*snuff + 0.001*chong'),\n (2,\n  u'0.002*freddy + 0.002*mst + 0.001*summary + 0.001*aliens + 0.001*fred + 0.001*broke + 0.001*express + 0.001*cube + 0.001*perfection + 0.001*struck'),\n (3,\n  u'0.004*ned + 0.003*kidman + 0.002*nicole + 0.002*chuck + 0.002*hart + 0.002*sabrina + 0.002*miyazaki + 0.002*roberts + 0.002*amitabh + 0.001*educational'),\n (4,\n  u'0.002*seagal + 0.002*buffy + 0.002*caprica + 0.002*stargate + 0.002*clown + 0.002*travolta + 0.001*bsg + 0.001*goat + 0.001*insomnia + 0.001*update'),\n (5,\n  u'0.003*cinderella + 0.002*envy + 0.002*homicide + 0.002*sucker + 0.002*quantum + 0.002*stallone + 0.002*elvira + 0.002*walt + 0.002*lundgren + 0.001*boobs'),\n (6,\n  u'0.002*pickford + 0.002*guaranteed + 0.002*swearing + 0.002*eleniak + 0.002*biko + 0.002*tremendously + 0.001*characterisation + 0.001*arnie + 0.001*radical + 0.001*generate'),\n (7,\n  u'0.003*sandler + 0.002*dont + 0.002*buff + 0.002*ustinov + 0.002*brosnan + 0.001*amazon + 0.001*perry + 0.001*link + 0.001*maker + 0.001*adam'),\n (8,\n  u'0.002*gandhi + 0.002*scarecrow + 0.002*frankie + 0.002*boxing + 0.002*creep + 0.002*worms + 0.002*mcqueen + 0.002*sellers + 0.002*duchovny + 0.002*appearances'),\n (9,\n  u'0.002*sentinel + 0.002*scrooge + 0.002*che + 0.002*robots + 0.002*betty + 0.002*wtf + 0.002*redneck + 0.002*unexplained + 0.002*stiller + 0.002*groups') \n\nprint corpus_lda[0]]\n[(1, 0.032862717742657352), (2, 0.061544456899498043), (3, 0.17498689066920223), (5, 0.034931340026756269), (6, 0.01142214861116901), (7, 0.01368447078032208), (8, 0.014051012107502465), (9, 0.58954345105937356)]\n</code></pre>\n\n<p>The last code shows the distribution of each topic in document 1. Now, my question is: how can I convert it into a numeric variable for each topic with its weight for each document? </p>\n\n<p>Desired output in Dataframe:</p>\n\n<pre><code>Document ID  Topic1   Topic2   Topic3.... \n0           0.032    0.062   0.175  \n</code></pre>\n\n<p>As you can see, this is a DataFrame with the topic as column name and weight as the value. </p>\n\n<p>Also, can I link this topic variable back to the raw document, which is movie_review here? </p>\n"}, {"tags": ["python", "mysql", "bigdata", "mysql-python"], "comments": [{"owner": {"reputation": 1299, "user_id": 6367660, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/cbdcfc8c9b500e9876e04ad6366d917d?s=128&d=identicon&r=PG&f=1", "display_name": "Chris J", "link": "https://stackoverflow.com/users/6367660/chris-j"}, "edited": false, "score": 0, "creation_date": 1507153925, "post_id": 46574694, "comment_id": 80103046, "body": "Use Talend Open Studio - it&#39;s well suited to this kind of task imo"}, {"owner": {"reputation": 105038, "user_id": 1766831, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ee974306d2def46eb69534fbcf95cc5?s=128&d=identicon&r=PG", "display_name": "Rick James", "link": "https://stackoverflow.com/users/1766831/rick-james"}, "edited": false, "score": 0, "creation_date": 1507405437, "post_id": 46574694, "comment_id": 80199340, "body": "What is &quot;ML&quot;?  Any database can, for example, SUM a column in a zillion-row table.  But if the &quot;analysis&quot; is too complex, then that is not viable."}], "answers": [{"tags": [], "owner": {"reputation": 1573, "user_id": 5849560, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z35qu.jpg?s=128&g=1", "display_name": "Jacques Amar", "link": "https://stackoverflow.com/users/5849560/jacques-amar"}, "is_accepted": false, "score": 0, "last_activity_date": 1507159912, "creation_date": 1507159912, "answer_id": 46575678, "question_id": 46574694, "link": "https://stackoverflow.com/questions/46574694/storing-and-querying-a-large-amount-of-data/46575678#46575678", "title": "Storing and querying a large amount of data", "body": "<blockquote>\n  <p>Can anyone offer a host of tips for me to look into</p>\n</blockquote>\n\n<p>Gladly!</p>\n\n<ul>\n<li>Look at the CSV file first line to see if there is a header. You'd need to create a table with the same fields (and type of data)</li>\n<li>One of the fields might seem unique per line and can be used <strong>later</strong> to find the line. That's your candidate for <code>PRIMARY KEY</code>. Otherwise add an <code>AUTO-INCREMENT</code> field as <code>PRIMARY KEY</code></li>\n<li><code>INDEX</code>es are used to <strong>later</strong> search for data. Whatever fields you feel you will be searching/filtering on later should have some sort of <code>INDEX</code>. You can always add them later. </li>\n<li>INDEXes can combine multiple fields if they are often searched together</li>\n<li>In order to read in the data, you have 2 ways:</li>\n<li><ol>\n<li>Use <code>LOAD DATA INFILE</code> <a href=\"https://dev.mysql.com/doc/refman/5.7/en/load-data.html\" rel=\"nofollow noreferrer\">Load Data Infile Documentation</a></li>\n</ol></li>\n<li><ol start=\"2\">\n<li>Write your own script: The best technique is to create a <code>prepared statement</code> for the\n<code>INSERT</code> command. Then read your CSV line by line (in a loop), split the fields\ninto variables and <code>execute</code> the prepared statement with this line's\nvalues</li>\n</ol></li>\n<li>You will benefit from a web page designed to search the data. Depends on who needs to use it.</li>\n</ul>\n\n<p>Hope this gives you some ideas</p>\n"}, {"tags": [], "owner": {"reputation": 320, "user_id": 4776987, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/98e4dbd1e3d1a0b3d1a5bbf2ab6a2b76?s=128&d=identicon&r=PG&f=1", "display_name": "M-BNCH", "link": "https://stackoverflow.com/users/4776987/m-bnch"}, "is_accepted": false, "score": 0, "last_activity_date": 1507298787, "creation_date": 1507298787, "answer_id": 46607645, "question_id": 46574694, "link": "https://stackoverflow.com/questions/46574694/storing-and-querying-a-large-amount-of-data/46607645#46607645", "title": "Storing and querying a large amount of data", "body": "<p>That's depend on what you have, you can use Apache spark and then use their SQL feature, spark SQL gives you the possibility to write SQL queries in your dataset, but for best performance you need a distributed mode(you can use it in a local machine but the result is limited) and high machine performance. you can use python, scala, java to write your code.</p>\n"}], "owner": {"reputation": 153, "user_id": 7717868, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/5d9e7385709df78e092ca8e9f70fd1ab?s=128&d=identicon&r=PG&f=1", "display_name": "Iltl", "link": "https://stackoverflow.com/users/7717868/iltl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 510, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1507298787, "creation_date": 1507153534, "question_id": 46574694, "link": "https://stackoverflow.com/questions/46574694/storing-and-querying-a-large-amount-of-data", "title": "Storing and querying a large amount of data", "body": "<p>I have a large amount of data around 50GB worth in a csv which i want to analyse purposes of ML. It is however way to large to fit in Python. I ideally want to use mySQL because querying is easier. Can anyone offer a host of tips for me to look into. This can be anything from: </p>\n\n<ol>\n<li><p>How to store it in the first place, i realise i probably can't load it in all at once, would i do it iteratively? If so what things can i look into for this? In addition i've heard about indexing, would that really speed up queries on such a massive data set?</p></li>\n<li><p>Are there better technologies out there to handle this amount of data and still be able to query and do feature engineering quickly. What i eventually feed into my algorithm should be able to be done in Python but i need query and do some feature engineering before i get my data set that is ready to be analysed.</p></li>\n</ol>\n\n<p>I'd really appreciate any advice this all needs to be done on personal computer! Thanks!!</p>\n"}, {"tags": ["python", "pandas", "nlp"], "comments": [{"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 1, "creation_date": 1507153624, "post_id": 46574684, "comment_id": 80102915, "body": "Also, can you explain a bit more about your problem, and add an expected output?"}, {"owner": {"reputation": 342, "user_id": 1258329, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MDVJv.png?s=128&g=1", "display_name": "mutux", "link": "https://stackoverflow.com/users/1258329/mutux"}, "edited": false, "score": 0, "creation_date": 1507225709, "post_id": 46574684, "comment_id": 80136767, "body": "Compute the similarity between sentences and token lists, select the most similar sentence of a token list as its output sentence. Or, a simpler way, counting the occurrence of tokens of each token list in sentences, choose the sentence with maximum occurrence of tokens as the output of the token list."}], "answers": [{"tags": [], "owner": {"reputation": 93, "user_id": 8603972, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ed913b6a5de13a514d19a64154d6c97a?s=128&d=identicon&r=PG&f=1", "display_name": "Renton", "link": "https://stackoverflow.com/users/8603972/renton"}, "is_accepted": true, "score": 0, "last_activity_date": 1507310724, "creation_date": 1507310724, "answer_id": 46610980, "question_id": 46574684, "link": "https://stackoverflow.com/questions/46574684/find-the-most-suitable-sentence-for-array-of-tokens/46610980#46610980", "title": "Find the most suitable sentence for array of tokens", "body": "<p>As I said earlier, this post is just an illustration of my problem. I was solving clustering problem. I used LDA and K-means algorithms to do that. To find the most <strong>suitable sentence</strong> for my tokens list, I used <strong>K-means distance parameter</strong>.</p>\n\n<pre><code>import pandas as pd\nfrom sklearn.feature_extraction.text import TfidfVectorizer\nimport lda\nfrom sklearn.feature_extraction.text import CountVectorizer\nimport logging\nfrom sklearn.cluster import MiniBatchKMeans\nfrom sklearn import preprocessing \n\ndf = pd.DataFrame({'text':[\"Anyone who reads Old and Middle English literary texts will be familiar with the mid-brown volumes of the EETS, with the symbol of Alfreds jewel embossed on the front cover\",\n                         \"Most of the works attributed to King Alfred or to Aelfric, along with some of those by bishop Wulfstan and much anonymous prose and verse from the pre-Conquest period, are to be found within the Society's three series\",\n                         \"all of the surviving medieval drama, most of the Middle English romances, much religious and secular prose and verse including the English works of John Gower, Thomas Hoccleve and most of Caxton's prints all find their place in the publications\",\n                         \"Without EETS editions, study of medieval English texts would hardly be possible.\"],\n                  'tokens':[['middl engl', 'mid-brown', 'symbol'], [\"king\", 'anonym', 'series'], ['mediev', 'romance', 'relig'], ['hocclev', 'edit', 'publ']]})\ndf['tokens'] = df.tokens.str.join(',')\n\n\nvectorizer = TfidfVectorizer(min_df=1, max_features=10000, ngram_range=(1, 2))\nvz = vectorizer.fit_transform(df['tokens'])\n\nlogging.getLogger(\"lda\").setLevel(logging.WARNING)\ncvectorizer = CountVectorizer(min_df=1, max_features=10000, ngram_range=(1,2))\ncvz = cvectorizer.fit_transform(df['tokens'])\n\nn_topics = 4\n\nn_iter = 2000\nlda_model = lda.LDA(n_topics=n_topics, n_iter=n_iter)\nX_topics = lda_model.fit_transform(cvz)\n\nnum_clusters = 4\nkmeans_model = MiniBatchKMeans(n_clusters=num_clusters, init='k-means++', n_init=1, \n                         init_size=1000, batch_size=1000, verbose=False, max_iter=1000)\nkmeans = kmeans_model.fit(vz)\nkmeans_clusters = kmeans.predict(vz)\nkmeans_distances = kmeans.transform(vz)\n\nX_all  = X_topics\nkmeans1 = kmeans_model.fit(X_all)\nkmeans_clusters1 = kmeans1.predict(X_all)\nkmeans_distances1 = kmeans1.transform(X_all)\nd = dict()\nl = 1\n\n\nfor i, desc in enumerate(df.text):\n    if(i &lt; 3):\n        num = 3\n        if kmeans_clusters1[i] == num:\n            if l &gt; kmeans_distances1[i][kmeans_clusters1[i]]:\n                l = kmeans_distances1[i][kmeans_clusters1[i]]  \n            d['Cluster' + str(kmeans_clusters1[i])] = \"distance:  \" + str(l)+ \"   \"+ df.iloc[i]['text']\n            print(\"Cluster \" + str(kmeans_clusters1[i]) + \": \" + desc + \n                  \"(distance: \" + str(kmeans_distances1[i][kmeans_clusters1[i]]) + \")\")\n            print('---')\nprint(\"Cluster \" + str(num) + \"   \" + str(d.get('Cluster' + str(num))))\n</code></pre>\n\n<p>So token with the lowest distance within specific cluster, is the most suitable.</p>\n"}], "owner": {"reputation": 93, "user_id": 8603972, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ed913b6a5de13a514d19a64154d6c97a?s=128&d=identicon&r=PG&f=1", "display_name": "Renton", "link": "https://stackoverflow.com/users/8603972/renton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "accepted_answer_id": 46610980, "answer_count": 1, "score": 1, "last_activity_date": 1507310724, "creation_date": 1507153477, "last_edit_date": 1507155298, "question_id": 46574684, "link": "https://stackoverflow.com/questions/46574684/find-the-most-suitable-sentence-for-array-of-tokens", "title": "Find the most suitable sentence for array of tokens", "body": "<p>I have the following DataFrame for text mining:</p>\n\n<pre><code>df = pd.DataFrame({'text':[\"Anyone who reads Old and Middle English literary texts will be familiar with the mid-brown volumes of the EETS, with the symbol of Alfreds jewel embossed on the front cover\",\n                     \"Most of the works attributed to King Alfred or to Aelfric, along with some of those by bishop Wulfstan and much anonymous prose and verse from the pre-Conquest period, are to be found within the Society's three series\",\n                     \"all of the surviving medieval drama, most of the Middle English romances, much religious and secular prose and verse including the English works of John Gower, Thomas Hoccleve and most of Caxton's prints all find their place in the publications\",\n                     \"Without EETS editions, study of medieval English texts would hardly be possible.\"]})\n\n\n\ntext\n0   Anyone who reads Old and Middle English litera...\n1   Most of the works attributed to King Alfred or...\n2   all of the surviving medieval drama, most of t...\n3   Without EETS editions, study of medieval Engli...\n</code></pre>\n\n<p>And I have lists of tokens:</p>\n\n<pre><code>tokens = [['middl engl', 'mid-brown', 'symbol'], [\"king\", 'anonym', 'series'], ['mediev', 'romance', 'relig'], ['hocclev', 'edit', 'publ']]\n</code></pre>\n\n<p>I'm trying to find the most suitable sentence for each array of tokens from the list <strong>tokens</strong> above.</p>\n\n<p>UPDATE: I was asked to explain my problem in more details.</p>\n\n<p>The problem is that I'm doing it on non-English texts, so it is very problematic to illustrate a bit more of my problem. </p>\n\n<p>I'm looking for some function x which takes as input each element of my <strong>tokens</strong> list and for each element of <strong>tokens</strong> list, it searches for most suitable(maybe in some metric sense) sentences in <code>df.text</code>. This is the main idea the output doesn't matter. I just want it to work:)</p>\n"}, {"tags": ["python", "sql", "logic"], "comments": [{"owner": {"reputation": 1497, "user_id": 5504922, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15bc22b2096bef7bf39b68e241b81efb?s=128&d=identicon&r=PG&f=1", "display_name": "EdmCoff", "link": "https://stackoverflow.com/users/5504922/edmcoff"}, "edited": false, "score": 0, "creation_date": 1507153926, "post_id": 46574662, "comment_id": 80103047, "body": "Is absolutely any reallocation acceptable or is the goal to affect the minimum customers/employees possible? i.e. In your example, is 21/10/10 the only acceptable solution? Also, is it correct that customers/employees may not be moved across stores?"}, {"owner": {"reputation": 4570, "user_id": 1385774, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6z25x.jpg?s=128&g=1", "display_name": "maSTAShuFu", "link": "https://stackoverflow.com/users/1385774/mastashufu"}, "edited": false, "score": 0, "creation_date": 1507154048, "post_id": 46574662, "comment_id": 80103090, "body": "re-allocate randomly? A does not have to have the most number of customer or is it because from the original percentage?"}, {"owner": {"reputation": 55, "user_id": 2300435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c06e4c821bcc1a19be07c6c03405f97b?s=128&d=identicon&r=PG", "display_name": "user2300435", "link": "https://stackoverflow.com/users/2300435/user2300435"}, "edited": false, "score": 0, "creation_date": 1507154162, "post_id": 46574662, "comment_id": 80103133, "body": "Re-allocate randomly within employees from the same store."}, {"owner": {"reputation": 55, "user_id": 2300435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c06e4c821bcc1a19be07c6c03405f97b?s=128&d=identicon&r=PG", "display_name": "user2300435", "link": "https://stackoverflow.com/users/2300435/user2300435"}, "reply_to_user": {"reputation": 1497, "user_id": 5504922, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15bc22b2096bef7bf39b68e241b81efb?s=128&d=identicon&r=PG&f=1", "display_name": "EdmCoff", "link": "https://stackoverflow.com/users/5504922/edmcoff"}, "edited": false, "score": 0, "creation_date": 1507154297, "post_id": 46574662, "comment_id": 80103187, "body": "@EdmCoff No 21/10/10 is not the only acceptable solution I am looking for but I want to make sure there is a balance among the employees."}], "answers": [{"comments": [{"owner": {"reputation": 1497, "user_id": 5504922, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15bc22b2096bef7bf39b68e241b81efb?s=128&d=identicon&r=PG&f=1", "display_name": "EdmCoff", "link": "https://stackoverflow.com/users/5504922/edmcoff"}, "edited": false, "score": 0, "creation_date": 1507224797, "post_id": 46575168, "comment_id": 80136246, "body": "I&#39;m not sure this is what the question wanted. I assume we are starting from the data in Table 1 of the question and trying to update it to meet the requirements. If we are really starting from something like the data you have in @mytable and selecting a summary of the solution, then I don&#39;t see why you wouldn&#39;t just do a query like <a href=\"http://sqlfiddle.com/#!6/313e3/1/0\" rel=\"nofollow noreferrer\">sqlfiddle.com/#!6/313e3/1/0</a> ."}, {"owner": {"reputation": 4570, "user_id": 1385774, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6z25x.jpg?s=128&g=1", "display_name": "maSTAShuFu", "link": "https://stackoverflow.com/users/1385774/mastashufu"}, "reply_to_user": {"reputation": 1497, "user_id": 5504922, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15bc22b2096bef7bf39b68e241b81efb?s=128&d=identicon&r=PG&f=1", "display_name": "EdmCoff", "link": "https://stackoverflow.com/users/5504922/edmcoff"}, "edited": false, "score": 0, "creation_date": 1507237327, "post_id": 46575168, "comment_id": 80142421, "body": "the problem was about re-allocation but not equal re-allocation. of course i need to dissect the solution to better understand....  re-test your solution and put values A=5,B=50,C=2,D=1  and see the difference"}, {"owner": {"reputation": 1497, "user_id": 5504922, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15bc22b2096bef7bf39b68e241b81efb?s=128&d=identicon&r=PG&f=1", "display_name": "EdmCoff", "link": "https://stackoverflow.com/users/5504922/edmcoff"}, "edited": false, "score": 0, "creation_date": 1507239448, "post_id": 46575168, "comment_id": 80143338, "body": "I also didn&#39;t say anything about equal allocation, just that I think the question wanted you to use Table 1 to update Table 1 (i.e. actually reallocate the table, not just generate a report). Generating a reallocated report from an existing reallocated report is much simpler."}, {"owner": {"reputation": 1497, "user_id": 5504922, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15bc22b2096bef7bf39b68e241b81efb?s=128&d=identicon&r=PG&f=1", "display_name": "EdmCoff", "link": "https://stackoverflow.com/users/5504922/edmcoff"}, "edited": false, "score": 0, "creation_date": 1507239720, "post_id": 46575168, "comment_id": 80143444, "body": "Just to clarify, I mean table 1 in the question which assigns the actual customers to employees, not just counts of employees to customers."}], "tags": [], "owner": {"reputation": 4570, "user_id": 1385774, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6z25x.jpg?s=128&g=1", "display_name": "maSTAShuFu", "link": "https://stackoverflow.com/users/1385774/mastashufu"}, "is_accepted": false, "score": 0, "last_activity_date": 1507237131, "last_edit_date": 1507237131, "creation_date": 1507156372, "answer_id": 46575168, "question_id": 46574662, "link": "https://stackoverflow.com/questions/46574662/reallocation-logic/46575168#46575168", "title": "Reallocation logic", "body": "<p>Please find my solution below with notes.  SQLServer 2012+ for the IIF otherwise use CASE</p>\n\n<pre><code>declare @mytable table (employee varchar(10), customers int)\ndeclare @min smallint = 10\ndeclare @divcustomers smallint \ndeclare @totalcustomers smallint \ndeclare @balance smallint \n\ninsert into @mytable\nvalues ('A',   18),\n('B',       23),\n('C',       13),\n('D',       15)\n\n-- get even allocation\nselect @divcustomers = sum(customers)/count(employee), @totalcustomers = sum(customers) from @mytable\n\n-- re-initialise minimum otheriwse get the allocation\nselect employee, iif(customers&lt; @min and @divcustomers &gt; @min-1,@min,@divcustomers) customers\ninto #temptable\nfrom @mytable t\n\n-- update the balance to the most number of customers.. keeping the least to the minimum\nupdate #temptable \nset customers = customers + (select @totalcustomers - sum(customers) from #temptable)\nwhere employee = (\nselect top 1 employee from @mytable\norder by customers desc\n\n)\n\nselect * from #temptable\n\ndrop table #temptable\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 4570, "user_id": 1385774, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6z25x.jpg?s=128&g=1", "display_name": "maSTAShuFu", "link": "https://stackoverflow.com/users/1385774/mastashufu"}, "edited": false, "score": 0, "creation_date": 1507160723, "post_id": 46575509, "comment_id": 80104925, "body": "this is really painful and don&#39;t think you got the solution working to be honest.. the solution should be in a procedure/function form as a statement would not suffice."}, {"owner": {"reputation": 1497, "user_id": 5504922, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15bc22b2096bef7bf39b68e241b81efb?s=128&d=identicon&r=PG&f=1", "display_name": "EdmCoff", "link": "https://stackoverflow.com/users/5504922/edmcoff"}, "reply_to_user": {"reputation": 4570, "user_id": 1385774, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6z25x.jpg?s=128&g=1", "display_name": "maSTAShuFu", "link": "https://stackoverflow.com/users/1385774/mastashufu"}, "edited": false, "score": 0, "creation_date": 1507211819, "post_id": 46575509, "comment_id": 80128129, "body": "@maSTAShuFu Why doesn&#39;t this work? In what case would it fail? I listed the two big assumptions I am aware of in this. I included a sqlfiddle link to show the actual results and let you experiment with it."}], "tags": [], "owner": {"reputation": 1497, "user_id": 5504922, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15bc22b2096bef7bf39b68e241b81efb?s=128&d=identicon&r=PG&f=1", "display_name": "EdmCoff", "link": "https://stackoverflow.com/users/5504922/edmcoff"}, "is_accepted": false, "score": 0, "last_activity_date": 1507159660, "last_edit_date": 1507159660, "creation_date": 1507158609, "answer_id": 46575509, "question_id": 46574662, "link": "https://stackoverflow.com/questions/46574662/reallocation-logic/46575509#46575509", "title": "Reallocation logic", "body": "<p>Here's a solution that ignores the starting position completely. If the only criteria is to balance the customers to employees, all we care about it which employees are at which store, which customers are at which store, and assigning them evenly. Even the 10 limit doesn't seem particularly relevant. If we balance customers evenly, either there are enough customers to give each employee 10 or there aren't (in which case any other method would also fail).</p>\n\n<p>I am assuming each store has at least as many customers as employees and that the same customer can't be assigned to multiple employees at the same store.</p>\n\n<p>Here's the SQL server version (<a href=\"http://sqlfiddle.com/#!6/3f6e71/1/0\" rel=\"nofollow noreferrer\">sqlfiddle</a>):</p>\n\n<pre><code>update tab \nSET tab.employee = thedata.employee\nFROM \n(SELECT storeemp.store, storeemp.employee, storecus.customer\nFROM\n(SELECT store, customer, row_number() over (partition by store order by customer) as r\nFROM tab\nGROUP BY store, customer) storecus\njoin\n(SELECT store, employee, row_number() over (partition by store order by employee) as r\nFROM tab\nGROUP BY store, employee) storeemp\non storecus.store = storeemp.store and (storecus.r-1)%(SELECT count(distinct employee) from tab where tab.store=storecus.store) = storeemp.r-1) theta\nWHERE tab.store = thedata.store and tab.customer = thedata.customer\n</code></pre>\n\n<p>Here's the Oracle version (MOD instead of %):</p>\n\n<pre><code>update tab \nSET tab.employee = thedata.employee\nFROM \n(SELECT storeemp.store, storeemp.employee, storecus.customer\nFROM\n (SELECT store, customer, row_number() over (partition by store order by customer) as r\n FROM tab\n GROUP BY store, customer) storecus\njoin\n (SELECT store, employee, row_number() over (partition by store order by employee) as r\n FROM tab\n GROUP BY store, employee) storeemp\non \n storecus.store = storeemp.store \n and mod(storecus.r-1,(SELECT count(distinct employee) from tab where tab.store=storecus.store)) = storeemp.r-1) thedata\nWHERE tab.store = thedata.store and tab.customer = thedata.customer\n</code></pre>\n"}], "owner": {"reputation": 55, "user_id": 2300435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c06e4c821bcc1a19be07c6c03405f97b?s=128&d=identicon&r=PG", "display_name": "user2300435", "link": "https://stackoverflow.com/users/2300435/user2300435"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 45, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1507306537, "creation_date": 1507153284, "last_edit_date": 1507306537, "question_id": 46574662, "link": "https://stackoverflow.com/questions/46574662/reallocation-logic", "title": "Reallocation logic", "body": "<p>I am trying to see if a reallocation logic can be implemented in SQL , please let me know if this is doable in SQL or point me to the right place.</p>\n\n<p>Table 1:</p>\n\n<pre><code>Store   Employee    Customer\n1             A        1\n1             A        2\n1             B        3\n</code></pre>\n\n<p>The number of customers for each store is randomly distributed , some employees may have 30 customers while some can have as low as 1. </p>\n\n<p>I am trying to see if within each store the customers can be re-allocated among employees</p>\n\n<p>Eg:</p>\n\n<pre><code>Employee A has 30 customers\nEmployee B has 9 Customers\nEmployee C has 2 customers\n</code></pre>\n\n<p>I want to re-allocate to the following:\nMinimum per employee as 10 </p>\n\n<pre><code>Employee A has 21 customers\nEmployee B has 10 customers\nEmployee C has 10 Customers\n</code></pre>\n\n<p>THanks</p>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 1, "creation_date": 1507153290, "post_id": 46574642, "comment_id": 80102784, "body": "Replace <code>print (printFunction(int(input()))</code> with <code>printFunction(int(input())</code> - don&#39;t print the return value if there&#39;s nothing being returned."}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 2, "creation_date": 1507153310, "post_id": 46574642, "comment_id": 80102791, "body": "If you don\u2019t want to see None, don\u2019t print the return value of a function that doesn\u2019t return anything?"}, {"owner": {"reputation": 49, "user_id": 8722921, "user_type": "registered", "profile_image": "https://graph.facebook.com/706182399592310/picture?type=large", "display_name": "Benjamin Safari", "link": "https://stackoverflow.com/users/8722921/benjamin-safari"}, "edited": false, "score": 0, "creation_date": 1507153450, "post_id": 46574642, "comment_id": 80102856, "body": "Thnx for the edit. Can you show me how you did that?"}, {"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1507153512, "post_id": 46574642, "comment_id": 80102875, "body": "You highlight your code and hit ctrl+k."}], "answers": [{"comments": [{"owner": {"reputation": 73988, "user_id": 1639625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4224d1458a149d37b56a53115656f4df?s=128&d=identicon&r=PG", "display_name": "tobias_k", "link": "https://stackoverflow.com/users/1639625/tobias-k"}, "edited": false, "score": 0, "creation_date": 1507153652, "post_id": 46574699, "comment_id": 80102936, "body": "<code>printFunction</code> is the name of the function. <code>Function</code> is not defined."}, {"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 1, "creation_date": 1507153677, "post_id": 46574699, "comment_id": 80102946, "body": "...did you read the question?"}], "tags": [], "owner": {"reputation": 2142, "user_id": 7923124, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/Y53Pw.jpg?s=128&g=1", "display_name": "Chetan_Vasudevan", "link": "https://stackoverflow.com/users/7923124/chetan-vasudevan"}, "is_accepted": true, "score": 1, "last_activity_date": 1507154196, "last_edit_date": 1507154196, "creation_date": 1507153597, "answer_id": 46574699, "question_id": 46574642, "link": "https://stackoverflow.com/questions/46574642/python-using-while-loops-in-functions/46574699#46574699", "title": "Python - Using while loops in functions", "body": "<p>You can use this code to prevent none, tough its just the last line changed </p>\n\n<pre><code>def printFunction(n):\ni = 1\nwhile i &lt;= n:\n    print(i)\n    i+=1\nprintFunction(int(input()))\n</code></pre>\n\n<p>In the last line you were using \n <code>print(printFunction(int(input())))</code> which was getting you None after printing the results.</p>\n\n<p>Instead just use <code>printFunction(int(input()))</code>. This will not print None. You can also use a message to ask user like <code>printFunction(int(input(\"Enter a number\")))</code>. Since there is noting getting returned you no need to use <code>print</code>.</p>\n"}], "owner": {"reputation": 49, "user_id": 8722921, "user_type": "registered", "profile_image": "https://graph.facebook.com/706182399592310/picture?type=large", "display_name": "Benjamin Safari", "link": "https://stackoverflow.com/users/8722921/benjamin-safari"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 209, "favorite_count": 0, "closed_date": 1507153794, "accepted_answer_id": 46574699, "answer_count": 1, "score": -1, "last_activity_date": 1507154196, "creation_date": 1507153202, "last_edit_date": 1507153278, "question_id": 46574642, "link": "https://stackoverflow.com/questions/46574642/python-using-while-loops-in-functions", "closed_reason": "Duplicate", "title": "Python - Using while loops in functions", "body": "<p>I'm trying to create a function that uses a while loop to count up from one to a number given by a user. The code executes as I intend it to but returns None at the end. How do I get rid of the None? Here's the code.</p>\n\n<pre><code>def printFunction(n):\n    i = 1\n    while i &lt;= n:\n        print(i)\n        i+=1\n\n\nprint (printFunction(int(input())))\n</code></pre>\n"}, {"tags": ["python", "matplotlib"], "comments": [{"owner": {"reputation": 769, "user_id": 7187106, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/084f4df88a7a92fa348f3e619cd2e0ba?s=128&d=identicon&r=PG&f=1", "display_name": "Longwen Ou", "link": "https://stackoverflow.com/users/7187106/longwen-ou"}, "edited": false, "score": 1, "creation_date": 1507153631, "post_id": 46574613, "comment_id": 80102921, "body": "Your function only has one variable, how can you draw a 3d graph from that?"}, {"owner": {"reputation": 1663, "user_id": 2794211, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/08491cf4df5c79f1867c5b6276a118e5?s=128&d=identicon&r=PG&f=1", "display_name": "Elbbard", "link": "https://stackoverflow.com/users/2794211/elbbard"}, "reply_to_user": {"reputation": 769, "user_id": 7187106, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/084f4df88a7a92fa348f3e619cd2e0ba?s=128&d=identicon&r=PG&f=1", "display_name": "Longwen Ou", "link": "https://stackoverflow.com/users/7187106/longwen-ou"}, "edited": false, "score": 0, "creation_date": 1507153741, "post_id": 46574613, "comment_id": 80102962, "body": "I made a mistake, it would be y + 2x + 3"}], "answers": [{"tags": [], "owner": {"reputation": 769, "user_id": 7187106, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/084f4df88a7a92fa348f3e619cd2e0ba?s=128&d=identicon&r=PG&f=1", "display_name": "Longwen Ou", "link": "https://stackoverflow.com/users/7187106/longwen-ou"}, "is_accepted": true, "score": 1, "last_activity_date": 1507154225, "creation_date": 1507154225, "answer_id": 46574805, "question_id": 46574613, "link": "https://stackoverflow.com/questions/46574613/plot-3d-surface-with-matplotlib-ay-bx-c/46574805#46574805", "title": "Plot 3D surface with Matplotlib a*y + b*x + c", "body": "<p>Try this:</p>\n\n<pre><code>fig = plt.figure()\nax = fig.add_subplot(111, projection='3d')\nX = np.arange(-5, 5, 0.25)\nY = np.arange(-5, 5, 0.25)\nX, Y = np.meshgrid(X, Y)\nZ = X + Y * 2 + 3\n# Plot the surface.\nax.plot_surface(X, Y, Z, linewidth=0)\nplt.show()\n</code></pre>\n\n<p>You need to first create a meshgrid of your variables, then calculate function values on the meshgrid.</p>\n\n<p><a href=\"https://i.stack.imgur.com/h0JAD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/h0JAD.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 1663, "user_id": 2794211, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/08491cf4df5c79f1867c5b6276a118e5?s=128&d=identicon&r=PG&f=1", "display_name": "Elbbard", "link": "https://stackoverflow.com/users/2794211/elbbard"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "accepted_answer_id": 46574805, "answer_count": 1, "score": 1, "last_activity_date": 1507154225, "creation_date": 1507153082, "last_edit_date": 1592644375, "question_id": 46574613, "link": "https://stackoverflow.com/questions/46574613/plot-3d-surface-with-matplotlib-ay-bx-c", "title": "Plot 3D surface with Matplotlib a*y + b*x + c", "body": "<p>I'm new to Matplotlib and I need to plot a plane in a 3d graph. I have the values for a, b and c in the equation, something like <code>1y + 2x + 3</code>.</p>\n<pre><code>theta = np.array([1,2,3])\nfig = plt.figure()\nax = fig.add_subplot(111, projection='3d')\nax.plot_surface(theta[0],theta[1],theta[2])\nplt.show()\n</code></pre>\n<p>I know it's not the right way to use the <code>plot_surface()</code> function but I can't figure out how to.</p>\n<h1>Update 1</h1>\n<p>I figured something out using a wireframe.</p>\n<pre><code># Plot the plane\nX = np.linspace(0,100, 500)\nY = np.linspace(0,100, 500)\nZ = np.dot(theta[0],X) + np.dot(theta[1],Y) + theta[2]\nfig = plt.figure()\nax = fig.add_subplot(111, projection='3d')\nax.plot_wireframe(X,Y,Z)\nplt.show()\n</code></pre>\n<p>But it only shows a line.</p>\n<p><a href=\"https://i.stack.imgur.com/t1RQn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/t1RQn.png\" alt=\"enter image description here\" /></a></p>\n"}, {"tags": ["python", "math", "binary", "integer", "twos-complement"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 3, "creation_date": 1507153421, "post_id": 46574611, "comment_id": 80102844, "body": "Python uses (effectively) infinite-bit integers."}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 4, "creation_date": 1507153458, "post_id": 46574611, "comment_id": 80102858, "body": "Assumption 3 is wrong."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1507153677, "post_id": 46574611, "comment_id": 80102945, "body": "Python <code>int</code> objects are arbitrarily sized."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1507153813, "post_id": 46574611, "comment_id": 80102998, "body": "Check out <a href=\"https://stackoverflow.com/questions/9860588/maximum-value-for-long-integer\">this question</a> which is mostly concerned with Python 2, which had the word-sized <code>int</code> and the arbitrary-sized <code>long</code> types, but in Python 3, these integer types were unified, and <code>long</code> -&gt; <code>int</code> and there is no corresponding numeric type for what was a Python 2 fixed-sized int."}, {"owner": {"reputation": 1086, "user_id": 7619353, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/e4d2a067a2026b3805e1f2f6a6ac48d0?s=128&d=identicon&r=PG&f=1", "display_name": "tyleax", "link": "https://stackoverflow.com/users/7619353/tyleax"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1507155350, "post_id": 46574611, "comment_id": 80103537, "body": "@jonrsharpe Thanks, I&#39;ve editted the post to remove that assumption"}, {"owner": {"reputation": 1086, "user_id": 7619353, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/e4d2a067a2026b3805e1f2f6a6ac48d0?s=128&d=identicon&r=PG&f=1", "display_name": "tyleax", "link": "https://stackoverflow.com/users/7619353/tyleax"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1507155635, "post_id": 46574611, "comment_id": 80103629, "body": "@user2357112 How do other systems, protocols, communications handle this infinite-bit integer? Isn&#39;t messages sent typically in chunks of bytes?"}, {"owner": {"reputation": 48421, "user_id": 1196549, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/fa597bf0dc47449a25e1f7f5b57e3ef1?s=128&d=identicon&r=PG", "display_name": "Yves Daoust", "link": "https://stackoverflow.com/users/1196549/yves-daoust"}, "edited": false, "score": 1, "creation_date": 1507197733, "post_id": 46574611, "comment_id": 80118522, "body": "How do you know your integer is 32 bits ?"}], "answers": [{"tags": [], "owner": {"reputation": 354, "user_id": 2782067, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/67c02aa5e855cffe2fc7625744fc714a?s=128&d=identicon&r=PG&f=1", "display_name": "user2782067", "link": "https://stackoverflow.com/users/2782067/user2782067"}, "is_accepted": false, "score": 1, "last_activity_date": 1507155233, "creation_date": 1507155233, "answer_id": 46574991, "question_id": 46574611, "link": "https://stackoverflow.com/questions/46574611/how-does-python-output-4294967296-in-32-bits-integer/46574991#46574991", "title": "How does python output -4294967296 in 32 bits integer", "body": "<p>Python does not have a limit for the size on an integer. </p>\n\n<p>In Python 2, integers would automatically be converted to longs when they went past the limit for an INT.</p>\n\n<p>In Python 3, Integers have arbitrarily high precision.There is no defined limit in the language.</p>\n"}], "owner": {"reputation": 1086, "user_id": 7619353, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/e4d2a067a2026b3805e1f2f6a6ac48d0?s=128&d=identicon&r=PG&f=1", "display_name": "tyleax", "link": "https://stackoverflow.com/users/7619353/tyleax"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 315, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1507155335, "creation_date": 1507153076, "last_edit_date": 1507155335, "question_id": 46574611, "link": "https://stackoverflow.com/questions/46574611/how-does-python-output-4294967296-in-32-bits-integer", "title": "How does python output -4294967296 in 32 bits integer", "body": "<p>I'm trying to understand how Python 2.7.6 can output -4294967296 from a 32 bit integer. My assumptions on python integers are:</p>\n\n<ol>\n<li>Python does not have unsigned integers</li>\n<li>Python uses 2's complement</li>\n</ol>\n\n<p>If assumption 2 is true than in a 32 bit integer the max negative number should be -2147483648 (-2^31) since the MSB is resolved for the sign of the integer.</p>\n\n<p>Does Python stack on another 32 bits ( 32 bit + 32 bit) to make a 64 bit integer?</p>\n"}, {"tags": ["python", "python-2.7", "tensorflow", "tensorflow-serving", "tensorflow-gpu"], "answers": [{"comments": [{"owner": {"reputation": 126, "user_id": 8087043, "user_type": "registered", "accept_rate": 14, "profile_image": "https://lh6.googleusercontent.com/-Vy1rdoIq0-E/AAAAAAAAAAI/AAAAAAAACEY/Pxlxj26yn-g/photo.jpg?sz=128", "display_name": "charanReddy", "link": "https://stackoverflow.com/users/8087043/charanreddy"}, "edited": false, "score": 0, "creation_date": 1507185385, "post_id": 46575531, "comment_id": 80111393, "body": "Do you mean grads_and_vars = optimizer.compute_gradients(cost,var)?"}], "tags": [], "owner": {"reputation": 10237, "user_id": 2464597, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/12eaebfe8c9ae6c3a29aefe69ebcb4bd?s=128&d=identicon&r=PG", "display_name": "Engineero", "link": "https://stackoverflow.com/users/2464597/engineero"}, "is_accepted": false, "score": 0, "last_activity_date": 1507158736, "creation_date": 1507158736, "answer_id": 46575531, "question_id": 46574601, "link": "https://stackoverflow.com/questions/46574601/got-valueerror-no-gradients-provided-for-any-variable-while-modifying-tf-get-co/46575531#46575531", "title": "Got ValueError: No gradients provided for any variable while modifying tf.get_collection list", "body": "<p>You could try something very similar to what you are doing here, but applied to the gradients directly with:</p>\n\n<pre><code># assuming your optimizer is defined in \"optimizer\"\ngrads_and_vars = optimizer.compute_gradients(cost)  # get list of (grad, var) tuples\nmy_grads_and_vars = []\nfor ind in range(len(grads_and_vars)):\n    if ind &lt; 7:\n        continue\n    else:\n        my_grads_and_vars.append(grads_and_vars[ind])  # filter them\noptimizer.apply_gradients(my_grads_and_vars)  # apply filtered gradients\n</code></pre>\n\n<p>That said, it's possible you have some operation in your graph that prevents you from getting gradients. Without a minimal example illustrating the problem, I can't be sure.</p>\n"}], "owner": {"reputation": 126, "user_id": 8087043, "user_type": "registered", "accept_rate": 14, "profile_image": "https://lh6.googleusercontent.com/-Vy1rdoIq0-E/AAAAAAAAAAI/AAAAAAAACEY/Pxlxj26yn-g/photo.jpg?sz=128", "display_name": "charanReddy", "link": "https://stackoverflow.com/users/8087043/charanreddy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 80, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1507158736, "creation_date": 1507153013, "last_edit_date": 1507153289, "question_id": 46574601, "link": "https://stackoverflow.com/questions/46574601/got-valueerror-no-gradients-provided-for-any-variable-while-modifying-tf-get-co", "title": "Got ValueError: No gradients provided for any variable while modifying tf.get_collection list", "body": "<p>Got an error while sending modified vars to optimizer, tried to remove unwanted vars from tf.get_collection\nSuggest me a safe alternative to remove some items from our list of tf.get_collection with specific scope</p>\n\n<p>Code:</p>\n\n<pre><code>with tf.Session() as sess:\n    restorer = tf.train.import_meta_graph('abcd.ckpt.meta')\n    restorer.restore(sess,'abcd.ckpt')\n    print('Done')\n    var = tf.get_collection(tf.GraphKeys.GLOBAL_VARIABLES)\n    new_vars=[]\n    for index in range(len(var)):\n        if index &lt;7:\n           continue\n        else:\n           new_vars.append(var[index])\n</code></pre>\n\n<p>Error near below line:</p>\n\n<pre><code>optimzing_op = optimizer.minimize(optimizing_var, var_list=list(new_vars.values()))\n</code></pre>\n\n<blockquote>\n  <p>File \"/home/anaconda2/lib/python2.7/site-packages/tensorflow/python/training/optimizer.py\", line 295, in minimize\n          ([str(v) for _, v in grads_and_vars], loss))</p>\n  \n  <p>ValueError: No gradients provided for any variable, check your graph for ops that do not support gradients, between variables</p>\n</blockquote>\n"}, {"tags": ["python", "correlation", "missing-data", "pearson"], "owner": {"reputation": 53, "user_id": 8068457, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DfVtQ.jpg?s=128&g=1", "display_name": "Acia Delilah", "link": "https://stackoverflow.com/users/8068457/acia-delilah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 326, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1507166427, "creation_date": 1507152577, "last_edit_date": 1507166427, "question_id": 46574512, "link": "https://stackoverflow.com/questions/46574512/python-proper-way-to-find-correlations-between-features-containing-missing-dat", "title": "python - Proper way to find correlations between features containing missing data", "body": "<p>1) Most of the <strong>features are NOT normally distributed</strong></p>\n\n<ul>\n<li>Just realized that <a href=\"https://docs.scipy.org/doc/scipy/reference/generated/scipy.stats.pearsonr.html\" rel=\"nofollow noreferrer\">SciPy pearsonr</a> I used requires normal\ndistribution (what's <a href=\"https://stats.stackexchange.com/questions/3730/pearsons-or-spearmans-correlation-with-non-normal-data\">indeed weird</a>). </li>\n<li><a href=\"https://docs.scipy.org/doc/numpy/reference/generated/numpy.corrcoef.html\" rel=\"nofollow noreferrer\">Numpy.corrcoef</a> description says nothing about such requirements. Should I use it? Other recommendations?</li>\n</ul>\n\n<p>2) <strong>Features contain missing data</strong> (less than 50% per feature), and I'd like to feel it later. I can't find how those modules handle None values. (Just see that in comparison with the same dataset filled with medians pearsonr > 0.7 finds 71 correlated features instead of 200+)</p>\n\n<p>Everything is stored in pandas dataframe, so technically I pass list(df.column_name) to pearsonr.</p>\n\n<hr>\n\n<p><strong>UPD:</strong> \nWell, found <strong>pandas.DataFrame.corr</strong>: </p>\n\n<ul>\n<li>offers both <em>pearson, kendall, spearman</em> </li>\n<li>clearly says it's <em>excluding NA/null values</em></li>\n<li>says nothing about requirements or other details</li>\n</ul>\n\n<p>It's too seductive to deny, so I'll go with it (and Spearman as my friend who can into math stats recommends). But nevertheless - lazy pandas aren't always there for you.</p>\n"}, {"tags": ["python", "tensorflow", "iterator", "tensorflow-datasets"], "comments": [{"owner": {"reputation": 12286, "user_id": 1607442, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/18451ad16ed8ad45b0a18bf70b2aa002?s=128&d=identicon&r=PG", "display_name": "Ivan Aksamentov - Drop", "link": "https://stackoverflow.com/users/1607442/ivan-aksamentov-drop"}, "edited": false, "score": 0, "creation_date": 1507155566, "post_id": 46574494, "comment_id": 80103604, "body": "Start simple: does <a href=\"https://www.tensorflow.org/programmers_guide/datasets#creating_an_iterator\" rel=\"nofollow noreferrer\">example in Creating an iterator</a> (copy-pasted verbatim into an empty file, with only import statements added) work for you? What is your tensorflow version?"}, {"owner": {"reputation": 43, "user_id": 2137798, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/741628fb897b52c2efdab6720c63265c?s=128&d=identicon&r=PG", "display_name": "Wascally Wabbit", "link": "https://stackoverflow.com/users/2137798/wascally-wabbit"}, "reply_to_user": {"reputation": 12286, "user_id": 1607442, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/18451ad16ed8ad45b0a18bf70b2aa002?s=128&d=identicon&r=PG", "display_name": "Ivan Aksamentov - Drop", "link": "https://stackoverflow.com/users/1607442/ivan-aksamentov-drop"}, "edited": false, "score": 0, "creation_date": 1507170763, "post_id": 46574494, "comment_id": 80107131, "body": "I found the problem: I was passing the session to eval(session=sess) earlier in the code."}, {"owner": {"reputation": 119710, "user_id": 3574081, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LIW6C.jpg?s=128&g=1", "display_name": "mrry", "link": "https://stackoverflow.com/users/3574081/mrry"}, "edited": false, "score": 0, "creation_date": 1507214962, "post_id": 46574494, "comment_id": 80130366, "body": "Just to check: are you using TensorFlow 1.2 or 1.3? From the error message, I think you might be experiencing a bug that was fixed in 1.3."}, {"owner": {"reputation": 43, "user_id": 2137798, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/741628fb897b52c2efdab6720c63265c?s=128&d=identicon&r=PG", "display_name": "Wascally Wabbit", "link": "https://stackoverflow.com/users/2137798/wascally-wabbit"}, "edited": false, "score": 1, "creation_date": 1507247261, "post_id": 46574494, "comment_id": 80145428, "body": "&gt;python -c &quot;import tensorflow as tf; print(tf.__version__)&quot; &gt;1.2.1"}, {"owner": {"reputation": 44162, "user_id": 752843, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/dfab97c10311207545414b6d7d9bde93?s=128&d=identicon&r=PG", "display_name": "Richard", "link": "https://stackoverflow.com/users/752843/richard"}, "edited": false, "score": 0, "creation_date": 1574278263, "post_id": 46574494, "comment_id": 104179168, "body": "<code># &lt;--- death stalks this line</code> is an excellent comment."}], "answers": [{"comments": [{"owner": {"reputation": 1988, "user_id": 4876765, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/37Wx5.jpg?s=128&g=1", "display_name": "LYu", "link": "https://stackoverflow.com/users/4876765/lyu"}, "edited": false, "score": 1, "creation_date": 1512459115, "post_id": 47396308, "comment_id": 82254757, "body": "Even 1.4 is available now, hope OP fixed this :p"}], "tags": [], "owner": {"reputation": 119710, "user_id": 3574081, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LIW6C.jpg?s=128&g=1", "display_name": "mrry", "link": "https://stackoverflow.com/users/3574081/mrry"}, "is_accepted": false, "score": 1, "last_activity_date": 1511194220, "creation_date": 1511194220, "answer_id": 47396308, "question_id": 46574494, "link": "https://stackoverflow.com/questions/46574494/initializing-a-basic-one-shot-iterator-in-tensorflow/47396308#47396308", "title": "Initializing a basic, one-shot iterator in tensorflow", "body": "<p>If you see the error message \"Function ... is not defined\" when creating a <code>tf.data.Dataset</code> or <code>tf.data.Iterator</code>, upgrade to a newer version of TensorFlow. The error message is caused by a bug in TensorFlow 1.2, which was fixed in TensorFlow 1.3.</p>\n"}], "owner": {"reputation": 43, "user_id": 2137798, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/741628fb897b52c2efdab6720c63265c?s=128&d=identicon&r=PG", "display_name": "Wascally Wabbit", "link": "https://stackoverflow.com/users/2137798/wascally-wabbit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2983, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1511194220, "creation_date": 1507152508, "last_edit_date": 1507158889, "question_id": 46574494, "link": "https://stackoverflow.com/questions/46574494/initializing-a-basic-one-shot-iterator-in-tensorflow", "title": "Initializing a basic, one-shot iterator in tensorflow", "body": "<p>I am a new user of tensorflow, and am working with Datasets. As a primer, I have copied and used the following sample code from the <a href=\"https://www.tensorflow.org/programmers_guide/datasets\" rel=\"nofollow noreferrer\">tensorflow site</a>:</p>\n\n<pre><code># the sample code doesn't tell me where the session comes from, so I wrote these few lines:\ndef my_initializer():\n    return tf.global_variables_initializer()\nsess = tf.InteractiveSession()\nmy_initializer()\n\n# back to sample code\ndataset = tf.contrib.data.Dataset.range(100)\niterator = dataset.make_one_shot_iterator()\nnext_element = iterator.get_next()\n\nfor i in range(100):\n  value = sess.run(next_element)  # &lt;--- death stalks this line\n  assert i == value\n</code></pre>\n\n<p>On the 1st call to <code>sess.run()</code> I see the following error:</p>\n\n<blockquote>\n  <p>NotFoundError (see above for traceback): Function\n  _make_dataset_989f6fa6 is not defined.     [[Node: OneShotIterator = OneShotIteratorcontainer=\"\",\n  dataset_factory=_make_dataset_989f6fa6[], output_shapes=[[]],\n  output_types=[DT_INT64], shared_name=\"\",\n  _device=\"/job:localhost/replica:0/task:0/cpu:0\"]]</p>\n</blockquote>\n\n<p>I have been bitten by a similar error every time I try to use an iterator. The objective here is simply to get a handle on the basic mechanics of feeding data to a graph. I do have a graph, but I have left it out of this post, because I don't think that is the problem at all.</p>\n\n<p>Obviously, I am not understanding something very simple. Could someone help me out? \nThank you.</p>\n"}, {"tags": ["python", "unit-testing", "mocking"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 1, "creation_date": 1507152557, "post_id": 46574479, "comment_id": 80102500, "body": "Why would you need to <i>mock</i> that?! Just pass in a string that splits to the appropriate values."}, {"owner": {"reputation": 71, "user_id": 4789593, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7be7ae754ad5686623d663ed06c70f7c?s=128&d=identicon&r=PG&f=1", "display_name": "miphos", "link": "https://stackoverflow.com/users/4789593/miphos"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1507152870, "post_id": 46574479, "comment_id": 80102611, "body": "That method there is just a fragment, the idea is to mock that specific part, that&#39;s why I&#39;m putting it on a method to see how. In the main method that string comes from methods I can&#39;t manipulate."}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 1, "creation_date": 1507153039, "post_id": 46574479, "comment_id": 80102685, "body": "Then you mock those methods, to return an appropriate string. Without an actually representative example, it\u2019s hard to suggest further."}], "answers": [{"tags": [], "owner": {"reputation": 517, "user_id": 3002766, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Zn6A9.jpg?s=128&g=1", "display_name": "lortimer", "link": "https://stackoverflow.com/users/3002766/lortimer"}, "is_accepted": false, "score": 1, "last_activity_date": 1507157164, "creation_date": 1507157164, "answer_id": 46575299, "question_id": 46574479, "link": "https://stackoverflow.com/questions/46574479/mock-a-property-of-a-string/46575299#46575299", "title": "Mock a property of a string", "body": "<p>The string you want to split is passed into your method. You don't need to use <code>patch</code>, just pass a <a href=\"https://docs.python.org/3/library/unittest.mock.html#unittest.mock.Mock\" rel=\"nofollow noreferrer\">Mock</a> into the method.</p>\n\n<pre><code># Production Code\ndef method_separator(s):\ntry:\n    a, b, c = s.split('-')\n    print a, b, c\nexcept: ValueError:\n    print \"An error occurred or so\"\n\n# Test Code\nfrom unittest.mock import Mock\n\nwith self.assertRaises(ValueError):\n    mock_string = Mock(spec=string)\n    mock_string.side_effect = ValueError(\"Some message\")\n    this = method_separator(mock_string)\n</code></pre>\n\n<p><code>patch</code> is useful when you want your production to get a mock <em>through an import statement</em>. If you pass values directly to your production code, you have to make your own Mock objects.</p>\n"}], "owner": {"reputation": 71, "user_id": 4789593, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7be7ae754ad5686623d663ed06c70f7c?s=128&d=identicon&r=PG&f=1", "display_name": "miphos", "link": "https://stackoverflow.com/users/4789593/miphos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2162, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1507157164, "creation_date": 1507152456, "last_edit_date": 1507152674, "question_id": 46574479, "link": "https://stackoverflow.com/questions/46574479/mock-a-property-of-a-string", "title": "Mock a property of a string", "body": "<p>What I'm trying to accomplish is to mock a the split inside a method like this</p>\n\n<pre><code>def method_separator(s):\n    try:\n        a, b, c = s.split('-')\n        print a, b, c\n    except: ValueError:\n        print \"An error occurred or so\"\n</code></pre>\n\n<p>In the test</p>\n\n<pre><code>with self.assertRaises(ValueError):\n    with mock.patch(What to put here?) as mock_patch:\n    mock_patch.return_value = \"TEXT\" # To raise ValueError\n    this = method_separator('Some-good-text') # The mock should not let this good test to pass\n</code></pre>\n\n<p>I've made the mock working with <strong>string.split</strong> </p>\n\n<pre><code>def method_separator(s):\n    try:\n        a, b, c = split.string(s, '-')\n        print a, b, c\n    except: ValueError:\n        print \"An error occurred or so\"\n\nwith self.assertRaises(ValueError):\n    with mock.patch('string.split') as mock_patch:\n    mock_patch.return_value = \"TEXT\" # To raise ValueError\n    this = method_separator('Some-good-text') # The mock should not let this good test to pass\n</code></pre>\n\n<p>Even if that work, the question remains, it is posible to do? mock the result of <strong>\"\".split('-')</strong></p>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1507152777, "post_id": 46574430, "comment_id": 80102573, "body": "If the first number is even, you just skip over it and recurse on the rest. So you&#39;re removing all the even numbers, not moving them to the back."}], "answers": [{"tags": [], "owner": {"reputation": 71409, "user_id": 3125566, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QcWOt.jpg?s=128&g=1", "display_name": "Moses Koledoye", "link": "https://stackoverflow.com/users/3125566/moses-koledoye"}, "is_accepted": true, "score": 3, "last_activity_date": 1507153078, "last_edit_date": 1507153078, "creation_date": 1507152540, "answer_id": 46574502, "question_id": 46574430, "link": "https://stackoverflow.com/questions/46574430/get-even-numbers-and-odd-numbers-in-order-in-list/46574502#46574502", "title": "Get even numbers and odd numbers in order in list", "body": "<p>You can use <code>sorted</code> with a 2-tuple, putting the odd numbers first and then sorting by the magnitude of the numbers for each category:</p>\n\n<pre><code>&gt;&gt;&gt; lst = [1, 2, -3, 4, 7, 4, -6, 3, -1]\n&gt;&gt;&gt; sorted(lst, key=lambda x: (x % 2 == 0, x))\n[-3, -1, 1, 3, 7, -6, 2, 4, 4]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6525, "user_id": 936083, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/dace92a4c0b65a1f52abbabd294ca1a8?s=128&d=identicon&r=PG", "display_name": "Casey Kuball", "link": "https://stackoverflow.com/users/936083/casey-kuball"}, "is_accepted": false, "score": 1, "last_activity_date": 1507154200, "creation_date": 1507154200, "answer_id": 46574801, "question_id": 46574430, "link": "https://stackoverflow.com/questions/46574430/get-even-numbers-and-odd-numbers-in-order-in-list/46574801#46574801", "title": "Get even numbers and odd numbers in order in list", "body": "<p>Here's a fairly readable version, that uses the <code>filter</code> built-in function to get all the odd/even values in separate lists, sorts those lists, and then combines them (using the list <code>+</code> operator):</p>\n\n<pre><code>def is_even(i):\n    return (i % 2) == 0\n\ndef is_odd(i):\n    return (i % 2) != 0\n\ndef get_evens_at_back(l):\n    odds = list(filter(is_odd, l))\n    evens = list(filter(is_even, l))\n\n    return sorted(odds) + sorted(evens)\n</code></pre>\n"}], "owner": {"reputation": 153, "user_id": 8057003, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/ed24feaa1ac5d6febc871832eae39cb2?s=128&d=identicon&r=PG&f=1", "display_name": "Kee", "link": "https://stackoverflow.com/users/8057003/kee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1527, "favorite_count": 0, "accepted_answer_id": 46574502, "answer_count": 2, "score": 1, "last_activity_date": 1507154200, "creation_date": 1507152240, "question_id": 46574430, "link": "https://stackoverflow.com/questions/46574430/get-even-numbers-and-odd-numbers-in-order-in-list", "title": "Get even numbers and odd numbers in order in list", "body": "<p>An example:</p>\n\n<pre><code>def get_evens_at_back(a_list):\n    if not a_list:\n      return []\n    if a_list[0] % 2 == 1:\n      return [a_list[0]] + get_evens_at_back(a_list[1:])\n    return get_evens_at_back(a_list[1:])\n\n    print(\"1.\", get_evens_at_back([-1, 2, -3, 4, -2, 3, 5]))\n    print(\"2.\", get_evens_at_back([1, 2, -3, 4, 7, 4, -6, 3, -1]))\n    print(\"3.\", get_evens_at_back([-4, -2, 6, 8, 6, 2]))\n    print(\"4.\", get_evens_at_back([-3, -1, 3, 1, 7, 9]))\n    print(\"5.\", get_evens_at_back([]))\n</code></pre>\n\n<p>output:</p>\n\n<pre><code> 1. [-1, -3, 3, 5]\n 2. [1, -3, 7, 3, -1]\n 3. []\n 4. [-3, -1, 3, 1, 7, 9]\n 5. []\n</code></pre>\n\n<p>I'm trying get a new list with all the odd numbers from the list (in sorted order) at the front and all the even numbers from the list (in sorted order) at the back of the list.  If the list is empty, the function should return an empty list.I'm not sure how to fix it.</p>\n\n<p>expected:</p>\n\n<pre><code> 1. [-3, -1, 3, 5, -2, 2, 4]\n 2. [-3, -1, 1, 3, 7, -6, 2, 4, 4]\n 3. [-4, -2, 2, 6, 6, 8]\n 4. [-3, -1, 1, 3, 7, 9]\n 5. []\n</code></pre>\n"}, {"tags": ["python", "sql-server", "python-2.7", "pypyodbc"], "comments": [{"owner": {"reputation": 10371, "user_id": 3322400, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/l3BGk.jpg?s=128&g=1", "display_name": "Lo&#239;c", "link": "https://stackoverflow.com/users/3322400/lo%c3%afc"}, "edited": false, "score": 0, "creation_date": 1507152942, "post_id": 46574427, "comment_id": 80102650, "body": "Pls can you show your table structure ? <code>exec sp_columns yourTable;</code>"}, {"owner": {"reputation": 239, "user_id": 1944673, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/e2bb86a4f97026b9d42612a37dee3128?s=128&d=identicon&r=PG", "display_name": "user1944673", "link": "https://stackoverflow.com/users/1944673/user1944673"}, "reply_to_user": {"reputation": 10371, "user_id": 3322400, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/l3BGk.jpg?s=128&g=1", "display_name": "Lo&#239;c", "link": "https://stackoverflow.com/users/3322400/lo%c3%afc"}, "edited": false, "score": 1, "creation_date": 1507154774, "post_id": 46574427, "comment_id": 80103357, "body": "@Lo&#239;c I could not run your query in my environment, but edited above issue description with the table structure. Thanks for looking!"}, {"owner": {"reputation": 10371, "user_id": 3322400, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/l3BGk.jpg?s=128&g=1", "display_name": "Lo&#239;c", "link": "https://stackoverflow.com/users/3322400/lo%c3%afc"}, "edited": false, "score": 0, "creation_date": 1507155645, "post_id": 46574427, "comment_id": 80103633, "body": "that is weird, your query looks fine from my point of view. Are you sure this is the one query triggering the crash ? Could you print the SQL being generated for the insert ?"}, {"owner": {"reputation": 239, "user_id": 1944673, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/e2bb86a4f97026b9d42612a37dee3128?s=128&d=identicon&r=PG", "display_name": "user1944673", "link": "https://stackoverflow.com/users/1944673/user1944673"}, "reply_to_user": {"reputation": 10371, "user_id": 3322400, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/l3BGk.jpg?s=128&g=1", "display_name": "Lo&#239;c", "link": "https://stackoverflow.com/users/3322400/lo%c3%afc"}, "edited": false, "score": 0, "creation_date": 1507160187, "post_id": 46574427, "comment_id": 80104807, "body": "Hmmm I&#39;m unable to pull the query via debugging, but am certain there is something going wrong with the float values. I assume SQL Server is interpreting the values as shortdatetime instead of floats for some reason."}, {"owner": {"reputation": 4570, "user_id": 1385774, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6z25x.jpg?s=128&g=1", "display_name": "maSTAShuFu", "link": "https://stackoverflow.com/users/1385774/mastashufu"}, "edited": false, "score": 0, "creation_date": 1507161538, "post_id": 46574427, "comment_id": 80105137, "body": "are you able to highlight the field.."}, {"owner": {"reputation": 97598, "user_id": 2144390, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6QjmY.jpg?s=128&g=1", "display_name": "Gord Thompson", "link": "https://stackoverflow.com/users/2144390/gord-thompson"}, "edited": false, "score": 0, "creation_date": 1507162158, "post_id": 46574427, "comment_id": 80105305, "body": "Can you <a href=\"https://stackoverflow.com/posts/46574427/edit\">edit</a> your question with the versions of Python and pypyodbc that you are using? I am unable to reproduce your issue using the test code <a href=\"https://pastebin.com/nmNFD2nr\" rel=\"nofollow noreferrer\">here</a>."}, {"owner": {"reputation": 10371, "user_id": 3322400, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/l3BGk.jpg?s=128&g=1", "display_name": "Lo&#239;c", "link": "https://stackoverflow.com/users/3322400/lo%c3%afc"}, "edited": false, "score": 0, "creation_date": 1507164053, "post_id": 46574427, "comment_id": 80105731, "body": "can you check this : <a href=\"https://stackoverflow.com/questions/5266430/how-to-see-the-real-sql-query-in-python-cursor-execute\" title=\"how to see the real sql query in python cursor execute\">stackoverflow.com/questions/5266430/&hellip;</a> I think that being able to see the real sql insert would help lots. There are other ways like this : <a href=\"https://stackoverflow.com/questions/13638435/last-executed-queries-for-a-specific-database\" title=\"last executed queries for a specific database\">stackoverflow.com/questions/13638435/&hellip;</a>"}, {"owner": {"reputation": 239, "user_id": 1944673, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/e2bb86a4f97026b9d42612a37dee3128?s=128&d=identicon&r=PG", "display_name": "user1944673", "link": "https://stackoverflow.com/users/1944673/user1944673"}, "reply_to_user": {"reputation": 10371, "user_id": 3322400, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/l3BGk.jpg?s=128&g=1", "display_name": "Lo&#239;c", "link": "https://stackoverflow.com/users/3322400/lo%c3%afc"}, "edited": false, "score": 0, "creation_date": 1507221604, "post_id": 46574427, "comment_id": 80134539, "body": "Unfortunately it looks like capturing the actual query is not possible using pyodbc: <a href=\"https://stackoverflow.com/questions/17591459/how-to-get-prepared-query-which-is-sent-to-db\" title=\"how to get prepared query which is sent to db\">stackoverflow.com/questions/17591459/&hellip;</a>. I also don&#39;t have the access rights to perform the query in your second link, @Lo&#239;c."}, {"owner": {"reputation": 239, "user_id": 1944673, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/e2bb86a4f97026b9d42612a37dee3128?s=128&d=identicon&r=PG", "display_name": "user1944673", "link": "https://stackoverflow.com/users/1944673/user1944673"}, "reply_to_user": {"reputation": 97598, "user_id": 2144390, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6QjmY.jpg?s=128&g=1", "display_name": "Gord Thompson", "link": "https://stackoverflow.com/users/2144390/gord-thompson"}, "edited": false, "score": 0, "creation_date": 1507221867, "post_id": 46574427, "comment_id": 80134669, "body": "@GordThompson I&#39;ve updated the question with my versions of Python and pypyodbc. Thanks for helping troubleshoot...I&#39;m still at a loss for what is going on here."}, {"owner": {"reputation": 10371, "user_id": 3322400, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/l3BGk.jpg?s=128&g=1", "display_name": "Lo&#239;c", "link": "https://stackoverflow.com/users/3322400/lo%c3%afc"}, "edited": false, "score": 0, "creation_date": 1507224103, "post_id": 46574427, "comment_id": 80135884, "body": "maybe you should use decimal instead of float with python for MinRate / MaxRate"}, {"owner": {"reputation": 97598, "user_id": 2144390, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6QjmY.jpg?s=128&g=1", "display_name": "Gord Thompson", "link": "https://stackoverflow.com/users/2144390/gord-thompson"}, "edited": false, "score": 0, "creation_date": 1507225024, "post_id": 46574427, "comment_id": 80136376, "body": "Also unable to reproduce the issue with Python 2.7.13 and pypyodbc 1.3.5 (PyCharm wouldn&#39;t install 1.3.3). My test code is <a href=\"https://pastebin.com/jHRg1hUd\" rel=\"nofollow noreferrer\">here</a>. Can you reproduce with pypyodbc 1.3.5?"}, {"owner": {"reputation": 239, "user_id": 1944673, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/e2bb86a4f97026b9d42612a37dee3128?s=128&d=identicon&r=PG", "display_name": "user1944673", "link": "https://stackoverflow.com/users/1944673/user1944673"}, "edited": false, "score": 0, "creation_date": 1507247450, "post_id": 46574427, "comment_id": 80145470, "body": "I upgraded my pypyodbc to 1.3.5 and still see the failure. I also changed the data type to Decimal, resulting in the same error message with &quot;float&quot; replaced by &quot;decimal.&quot;"}, {"owner": {"reputation": 239, "user_id": 1944673, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/e2bb86a4f97026b9d42612a37dee3128?s=128&d=identicon&r=PG", "display_name": "user1944673", "link": "https://stackoverflow.com/users/1944673/user1944673"}, "edited": false, "score": 0, "creation_date": 1507247613, "post_id": 46574427, "comment_id": 80145509, "body": "This leads me to believe the values &quot;33.5&quot; and &quot;50.24&quot; in the above example are being interpreted as smalldatetimes, not float/decimals."}, {"owner": {"reputation": 97598, "user_id": 2144390, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6QjmY.jpg?s=128&g=1", "display_name": "Gord Thompson", "link": "https://stackoverflow.com/users/2144390/gord-thompson"}, "edited": false, "score": 0, "creation_date": 1507305566, "post_id": 46574427, "comment_id": 80171190, "body": "Can you double-check that <code>type(requisition.MinRate)</code> returns <code>&lt;type &#39;float&#39;&gt;</code> ...?"}, {"owner": {"reputation": 239, "user_id": 1944673, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/e2bb86a4f97026b9d42612a37dee3128?s=128&d=identicon&r=PG", "display_name": "user1944673", "link": "https://stackoverflow.com/users/1944673/user1944673"}, "edited": false, "score": 0, "creation_date": 1507333563, "post_id": 46574427, "comment_id": 80182495, "body": "Yes I have confirmed that it is of type float."}, {"owner": {"reputation": 239, "user_id": 1944673, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/e2bb86a4f97026b9d42612a37dee3128?s=128&d=identicon&r=PG", "display_name": "user1944673", "link": "https://stackoverflow.com/users/1944673/user1944673"}, "edited": false, "score": 0, "creation_date": 1507333579, "post_id": 46574427, "comment_id": 80182497, "body": "I&#39;ve implemented a workaround for now, as I&#39;ve still been unable to resolve the issue. Thank you everyone for the help!"}], "owner": {"reputation": 239, "user_id": 1944673, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/e2bb86a4f97026b9d42612a37dee3128?s=128&d=identicon&r=PG", "display_name": "user1944673", "link": "https://stackoverflow.com/users/1944673/user1944673"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 227, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1507221756, "creation_date": 1507152231, "last_edit_date": 1507221756, "question_id": 46574427, "link": "https://stackoverflow.com/questions/46574427/failed-sql-conversion-from-smalldatetime-to-float", "title": "Failed SQL conversion from smalldatetime to float", "body": "<p>I am using pypyodbc to insert a new record into a MS SQL Server table with the parameterized query below. </p>\n\n<p>I've included table structure below. For the execute query, I've added inline comments of debug values at runtime.</p>\n\n<pre><code>    sql_statement = \"\"\"\n      INSERT INTO [hr].[VMS.Requisitions] \n        (VMSRequisitionID,         \n         JobTitle,                 \n         HiringManagerEEID,        \n         GroupID,                  \n         DepartmentID,             \n         LocationID,               \n         MinRate,                  \n         MaxRate,                  \n         LaborTypeID,              \n         RequisitionStatusID,      \n         Openings,                 \n         OpeningsRemaining,        \n         RequisitionCreateDate,    \n         RequisitionApproveDate,   \n         RequisitionOpenDate,      \n         RequisitionCloseDate,     \n         CreateDate,               \n         ModifyDate)               \n      VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)\"\"\"\n\n    cursor.execute(sql_statement,(requisition.VMSRequisitionID,     # {unicode} 'xxx'\n                     requisition.JobTitle,               # {unicode} 'xxx'\n                     requisition.HiringManagerEEID,      # {int} 3\n                     requisition.GroupID,                # {int} 36\n                     requisition.DepartmentID,           # {int} 189\n                     requisition.LocationID,             # {int} 44\n                     requisition.MinRate,                # {float} 33.5\n                     requisition.MaxRate,                # {float} 50.24\n                     requisition.LaborTypeID,            # {int} 5\n                     requisition.RequisitionStatusID,    # {int} 9\n                     requisition.Openings,               # {int} 11\n                     requisition.OpeningsRemaining,      # {int} 11\n                     requisition.RequisitionCreateDate,  # {datetime} 2017-07-10 11:41:36\n                     requisition.RequisitionApproveDate, # {NoneType} None\n                     requisition.RequisitionOpenDate,    # {NoneType} None \n                     requisition.RequisitionCloseDate,   # {NoneType} None\n                     now,  # {str} '2017-10-04T12:37:14'\n                     now,  # {str} '2017-10-04T12:37:14'\n                     ))\n    cursor.commit()\n</code></pre>\n\n<p>I'm receiving the following error:</p>\n\n<blockquote>\n  <p>ProgrammingError: (u'42000', u'[42000] [Microsoft][ODBC SQL Server Driver][SQL Server]Implicit conversion from data type smalldatetime to float is not allowed. Use the CONVERT function to run this query.')</p>\n</blockquote>\n\n<p>I've been debugging this for hours and don't understand what's going wrong. I believe the issue arose when I added in the MinRate and MaxRate columns to the table, so assume there is an issue with the floats not converting properly using a parameterized query.</p>\n\n<p>Table structure is as follows:</p>\n\n<pre><code>RequisitionID            int           Primary Key, Identity Column / Auto-increment\nVMSRequisitionID         varchar(255)  Required\nJobTitle                 varchar(255)  Required\nHiringManagerEEID        int           NULLs allowed\nGroupID                  int           NULLs allowed\nDepartmentID             int           NULLs allowed\nLocationID               int           NULLs allowed\nMinRate                  float         NULLs allowed\nMaxRate                  float         NULLs allowed\nLaborTypeID              int           NULLs allowed\nRequisitionStatusID      int           NULLs allowed\nOpenings                 int           NULLs allowed\nOpeningsRemaining        int           NULLs allowed \nRequisitionCreateDate    datetime      NULLs allowed\nRequisitionApproveDate   datetime      NULLs allowed \nRequisitionOpenDate      datetime      NULLs allowed  \nRequisitionCloseDate     datetime      NULLs allowed\nCreateDate               datetime      Required\nModifyDate               datetime      Required\n</code></pre>\n\n<p>Any thoughts? I am using Python 2.7 and pypyodbc 1.3.3.</p>\n"}, {"tags": ["python", "google-app-engine", "importerror"], "answers": [{"tags": [], "owner": {"reputation": 27241, "user_id": 5320906, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NOdNo.jpg?s=128&g=1", "display_name": "snakecharmerb", "link": "https://stackoverflow.com/users/5320906/snakecharmerb"}, "is_accepted": false, "score": 1, "last_activity_date": 1507177740, "creation_date": 1507177740, "answer_id": 46577852, "question_id": 46574365, "link": "https://stackoverflow.com/questions/46574365/importerror-cannot-import-name-stubs-for-google-app-engine-gae-init-quick-start/46577852#46577852", "title": "ImportError: cannot import name stubs for Google App Engine GAE Init Quick Start &amp; Tutorial", "body": "<p>This is a <a href=\"https://github.com/gae-init/gae-init/issues/713\" rel=\"nofollow noreferrer\">known issue</a> in gae-init; the location of the stubs package has changed in recent versions of the SDK, causing the <code>ImportError</code>.</p>\n\n<p>According to the <a href=\"https://github.com/gae-init/gae-init/issues/713#issuecomment-332565492\" rel=\"nofollow noreferrer\">this comment</a> on the bug report you can work around the problem by changing the import statement in <code>appengine_config.py</code> from </p>\n\n<p><code>from google.appengine.tools.devappserver2.python import stubs</code></p>\n\n<p>to</p>\n\n<p><code>from google.appengine.tools.devappserver2.python.runtime import stubs</code></p>\n"}], "owner": {"reputation": 21, "user_id": 6633024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e07f1956d0bc4c0139adf024e64ed37?s=128&d=identicon&r=PG&f=1", "display_name": "K.P.", "link": "https://stackoverflow.com/users/6633024/k-p"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 391, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1507196691, "creation_date": 1507151984, "last_edit_date": 1507196691, "question_id": 46574365, "link": "https://stackoverflow.com/questions/46574365/importerror-cannot-import-name-stubs-for-google-app-engine-gae-init-quick-start", "title": "ImportError: cannot import name stubs for Google App Engine GAE Init Quick Start &amp; Tutorial", "body": "<p>Running into this error when trying quick start \"hello\" on <a href=\"http://docs.gae-init.appspot.com/quickstart/\" rel=\"nofollow noreferrer\">gae-init</a></p>\n\n<pre><code>ERROR    2017-10-04 21:16:02,378 wsgi.py:263] \n    Traceback (most recent call last):\n      File \"/Users/anon/Desktop/Hacking/google-cloud-sdk/platform/google_appengine/google/appengine/runtime/wsgi.py\", line 240, in Handle\n        handler = _config_handle.add_wsgi_middleware(self._LoadHandler())\n      File \"/Users/anon/Desktop/Hacking/google-cloud-sdk/platform/google_appengine/google/appengine/api/lib_config.py\", line 351, in __getattr__\n        self._update_configs()\n      File \"/Users/anon/Desktop/Hacking/google-cloud-sdk/platform/google_appengine/google/appengine/api/lib_config.py\", line 287, in _update_configs\n        self._registry.initialize()\n      File \"/Users/anon/Desktop/Hacking/google-cloud-sdk/platform/google_appengine/google/appengine/api/lib_config.py\", line 160, in initialize\n        import_func(self._modname)\n      File \"/Users/anon/Desktop/Hacking/hello/main/appengine_config.py\", line 17, in &lt;module&gt;\n        from google.appengine.tools.devappserver2.python import stubs\n    ImportError: cannot import name stubs\n</code></pre>\n\n<p>I have followed all the directions for setting up requirements on gae-init...help! Same error for the tutorial on phone book.</p>\n"}, {"tags": ["python", "pandas", "dictionary", "dataframe"], "comments": [{"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1507152246, "post_id": 46574338, "comment_id": 80102389, "body": "Do you mean to do: <code>mean_dict[wave] = [df.iloc[:9, col].mean(axis=0)]</code> - initialising a single element list so you can append to it?"}, {"owner": {"reputation": 357, "user_id": 8565759, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/66a60d0d027ff8de6e81d61a5acee75e?s=128&d=identicon&r=PG&f=1", "display_name": "Brain_overflowed", "link": "https://stackoverflow.com/users/8565759/brain-overflowed"}, "reply_to_user": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1507152934, "post_id": 46574338, "comment_id": 80102644, "body": "i was trying to add a value to a key in the dictionary. I used the append looking at &lt;<a href=\"https://stackoverflow.com/questions/20585920/how-to-add-multiple-values-to-a-dictionary-key-in-python\" title=\"how to add multiple values to a dictionary key in python\">stackoverflow.com/questions/20585920/&hellip;</a>&gt; @coldspeed"}, {"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1507153179, "post_id": 46574338, "comment_id": 80102744, "body": "That is incorrect. My previous comment already shows the fix (besides that line, everything else is the same), so you&#39;d best be implementing it and seeing if it works after that."}, {"owner": {"reputation": 357, "user_id": 8565759, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/66a60d0d027ff8de6e81d61a5acee75e?s=128&d=identicon&r=PG&f=1", "display_name": "Brain_overflowed", "link": "https://stackoverflow.com/users/8565759/brain-overflowed"}, "reply_to_user": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1507153325, "post_id": 46574338, "comment_id": 80102800, "body": "My output: NONE =/"}, {"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1507153360, "post_id": 46574338, "comment_id": 80102814, "body": "Questions seeking debugging help (&quot;why isn&#39;t this code working?&quot;) must include the desired behavior, a specific problem or error and the shortest code necessary to reproduce it in the question itself. Questions without a clear problem statement are not useful to other readers. See: How to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}], "owner": {"reputation": 357, "user_id": 8565759, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/66a60d0d027ff8de6e81d61a5acee75e?s=128&d=identicon&r=PG&f=1", "display_name": "Brain_overflowed", "link": "https://stackoverflow.com/users/8565759/brain-overflowed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 86, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1507152174, "creation_date": 1507151888, "last_edit_date": 1507152174, "question_id": 46574338, "link": "https://stackoverflow.com/questions/46574338/creating-a-dictionary-to-have-two-values-per-key-from-mean-values-of-cols-in-dat", "title": "Creating a Dictionary to have two values per key from mean values of cols in Dataframe- Python", "body": "<p>There are multiple posts about creating dictionaries with multiple values per key but I am missing what I am doing wrong.</p>\n\n<p>I want to create a dictionary with selected col headers from a dataframe as keys. There should be two values:</p>\n\n<p>value1 = mean of first ten values in the column\nvalue2 = mean of last ten values in the column</p>\n\n<pre><code>    band_list = ['A', 'B', 'D', 'E', 'F']\n    def mean_ten(df, band_list):\n       mean_dict = {}\n       for wave in band_list:\n            col = df.columns.get_loc(wave);print(col)\n            mean_dict[wave] = df.iloc[:9, col].mean(axis=0)\n            mean_dict[wave].append(df.iloc[-10:,col].mean(axis = 0))\n    #Convert dictionary to df and return\n</code></pre>\n"}, {"tags": ["python", "html", "web-scraping"], "comments": [{"owner": {"reputation": 623, "user_id": 1569573, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/38b8d6aa83833a196b04a61d0ccd6dcb?s=128&d=identicon&r=PG", "display_name": "Don Rowe", "link": "https://stackoverflow.com/users/1569573/don-rowe"}, "edited": false, "score": 0, "creation_date": 1507154613, "post_id": 46574335, "comment_id": 80103300, "body": "Why not just search for URLs in the HTML document itself?"}, {"owner": {"reputation": 31, "user_id": 5283219, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/976feaa99c46f622b5281440a728ecd9?s=128&d=identicon&r=PG", "display_name": "JWinstanley", "link": "https://stackoverflow.com/users/5283219/jwinstanley"}, "reply_to_user": {"reputation": 623, "user_id": 1569573, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/38b8d6aa83833a196b04a61d0ccd6dcb?s=128&d=identicon&r=PG", "display_name": "Don Rowe", "link": "https://stackoverflow.com/users/1569573/don-rowe"}, "edited": false, "score": 0, "creation_date": 1507241446, "post_id": 46574335, "comment_id": 80143992, "body": "Can you suggest a method for this?"}, {"owner": {"reputation": 623, "user_id": 1569573, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/38b8d6aa83833a196b04a61d0ccd6dcb?s=128&d=identicon&r=PG", "display_name": "Don Rowe", "link": "https://stackoverflow.com/users/1569573/don-rowe"}, "edited": false, "score": 0, "creation_date": 1507244273, "post_id": 46574335, "comment_id": 80144734, "body": "Instead of building a Beautiful Soup object out of the HTML response body, just search the raw response text itself."}], "owner": {"reputation": 31, "user_id": 5283219, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/976feaa99c46f622b5281440a728ecd9?s=128&d=identicon&r=PG", "display_name": "JWinstanley", "link": "https://stackoverflow.com/users/5283219/jwinstanley"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 51, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1507151876, "creation_date": 1507151876, "question_id": 46574335, "link": "https://stackoverflow.com/questions/46574335/python-find-urls-in-html-without-parsing", "title": "Python find URLs in HTML without parsing", "body": "<p>I have a chunk of HTML text, and I need to programmatically search this text for URLs, however, parsing the document isn't going to work.</p>\n\n<p>For example, parsing the document using something like Beautiful Soup:</p>\n\n<pre><code>    #Find Links\n    for link in soup.find_all('a', href=True):\n        self.parseResult(link)\n</code></pre>\n\n<p>Would only capture a url in the form:</p>\n\n<pre><code>&lt;a href=\"#\"&gt;Something&lt;/a&gt;\n</code></pre>\n\n<p>But, what if I want to go beyond this, and capture URLs referenced <strong>anywhere</strong> in the document? Such as:</p>\n\n<pre><code>&lt;!-- See this URL for more information on the HTML code below: http://example.com --&gt;\n</code></pre>\n\n<p>Or:</p>\n\n<pre><code>Go to the /FAQ page for more information\n</code></pre>\n\n<p>Does anyone know how I might go about this? I was thinking about using a combination of BeautifulSoup and Regex, however, I can't think of how RegEx would be able to scrape any relative URLs. </p>\n\n<p>Any thoughts?</p>\n"}, {"tags": ["python", "pyspark", "installation", "nltk", "libraries"], "owner": {"reputation": 289, "user_id": 3527917, "user_type": "registered", "accept_rate": 21, "profile_image": "https://www.gravatar.com/avatar/3ffc05762f5587e65cadeac4dbc09c0a?s=128&d=identicon&r=PG&f=1", "display_name": "user3527917", "link": "https://stackoverflow.com/users/3527917/user3527917"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 545, "favorite_count": 2, "answer_count": 0, "score": 4, "last_activity_date": 1507154022, "creation_date": 1507151848, "last_edit_date": 1507154022, "question_id": 46574328, "link": "https://stackoverflow.com/questions/46574328/pyspark-install-python-libraries-example-nltk", "title": "pyspark install python libraries (example: nltk)", "body": "<p>I don't have nltk installed on worker nodes, but trying to ship the library through pyspark, here is sample code:</p>\n\n<pre><code>   import pyspark \n   sc = pyspark.SparkContext()\n   sc.addPyFile(\"mymodule.py\") \n   sc.addPyFile(\"nltk-3.1-py3-none-any.whl\")\n   # sc.addFile(\"nltk-3.1-py3-none-any.whl\")\n   # sc.addPyFile(\"nltk.py\") \n   sc.addFile(\"stop_words.txt\")\n\n   def func(raw_text):\n       import os\n       os.system(\"pip install nltk-3.1-py3-none-any.whl\");\n       import nltk\n       import mymodule    \n       cleaned_text = mymodule.clean_text(raw_text)\n       return pd.Series({'cleaned_text':cleaned_text})\n\n   dummy_rdd = sc.parallelize(emails) \n   ret_list = dummy_rdd.map(func).collect()\n</code></pre>\n\n<p>it still throws error from worker node --- No module named 'nltk'</p>\n\n<p>anyone knows how to install nltk on the fly while using pyspark like this?</p>\n\n<p>here is some relevant discussion when I googled:\n<a href=\"https://stackoverflow.com/questions/24686474/shipping-python-modules-in-pyspark-to-other-nodes\">shipping python modules in pyspark to other nodes?</a></p>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1507151783, "post_id": 46574302, "comment_id": 80102182, "body": "Have you tried using <code>pd.to_datetime</code>?"}, {"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 1, "creation_date": 1507151854, "post_id": 46574302, "comment_id": 80102211, "body": "<code>pd.to_datetime(df[&#39;date&#39;], format=&#39;%m&#47;%d&#47;%y&#39;)</code>"}, {"owner": {"reputation": 125, "user_id": 8691415, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c17078900e84891c41bc707588ab3062?s=128&d=identicon&r=PG&f=1", "display_name": "Dom B", "link": "https://stackoverflow.com/users/8691415/dom-b"}, "reply_to_user": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1507156712, "post_id": 46574302, "comment_id": 80103992, "body": "Thanks, yeah just need to convert both to datetime and the join worked."}], "answers": [{"tags": [], "owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "is_accepted": false, "score": 1, "last_activity_date": 1507152042, "creation_date": 1507152042, "answer_id": 46574381, "question_id": 46574302, "link": "https://stackoverflow.com/questions/46574302/change-all-row-values-in-pandas-dataframe-in-date-format-mm-dd-yyyy-to-yyyy-m/46574381#46574381", "title": "Change all row values in Pandas dataframe in date format &quot;mm/dd/yyyy&quot; to &quot;yyyy-mm-dd&quot;", "body": "<p>When you read your csv adding <a href=\"https://pandas.pydata.org/pandas-docs/stable/generated/pandas.read_csv.html\" rel=\"nofollow noreferrer\"><code>parse_dates</code></a></p>\n\n<pre><code>pd.read_csv('q.csv',parse_dates=True)\n</code></pre>\n\n<p>Or </p>\n\n<pre><code>pd.read_csv('q.csv',parse_dates=['Dates'])# your date format column here\n</code></pre>\n"}], "owner": {"reputation": 125, "user_id": 8691415, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c17078900e84891c41bc707588ab3062?s=128&d=identicon&r=PG&f=1", "display_name": "Dom B", "link": "https://stackoverflow.com/users/8691415/dom-b"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 665, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1507152042, "creation_date": 1507151707, "question_id": 46574302, "link": "https://stackoverflow.com/questions/46574302/change-all-row-values-in-pandas-dataframe-in-date-format-mm-dd-yyyy-to-yyyy-m", "title": "Change all row values in Pandas dataframe in date format &quot;mm/dd/yyyy&quot; to &quot;yyyy-mm-dd&quot;", "body": "<p>Like the title states, I have two csv files I have read into a Pandas dataframe and I want to join the two tables on their \"Dates\" column values. I'm having an issue converting the special character \"/\" to \"-\" and switching the ordering to year-month-day. Any easy quick way that will convert all the row values from the \"mm/dd/yyyy\" format to the correct \"yyyy-mm-dd\" format for the join?</p>\n"}, {"tags": ["python", "button", "text"], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user8179991"}, "edited": false, "score": 0, "creation_date": 1507305305, "post_id": 46605481, "comment_id": 80171031, "body": "Thanks for the help."}], "tags": [], "owner": {"reputation": 1664, "user_id": 8648876, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7f1oU.jpg?s=128&g=1", "display_name": "Rach Sharp", "link": "https://stackoverflow.com/users/8648876/rach-sharp"}, "is_accepted": true, "score": 0, "last_activity_date": 1507291986, "creation_date": 1507291986, "answer_id": 46605481, "question_id": 46574259, "link": "https://stackoverflow.com/questions/46574259/make-buttons-when-pressed-read-text-from-a-txt-file-and-display-it-python/46605481#46605481", "title": "Make buttons when pressed read text from a .txt file and display it (Python)", "body": "<p>Here's a basic example of how to do this, using globals and without preserving the button objects (as they are only defined locally). I've put the buttons in a frame so you can pack the buttons after the Load Dice Button but before the Exit Button. I've made it global for simplicity of the example, since <code>mainMenu</code> is already global, but I've also included a commented out example of how you can use <code>functools.partial</code> to pass parameters to button commands.</p>\n\n<pre><code>import glob\nimport functools\nimport os\n\n... the rest of your code\n\ndef loadDice():\n    for dice_file_name in glob.glob('*.txt'):\n        print(dice_file_name)\n        btnDie = tkinter.Button(frameCustomDice, text=os.path.splitext(dice_file_name)[0])\n        btnDie.pack()\n    mainMenu.update()\n\ndef mainMenu():\n    global mainMenu\n    mainMenu = tkinter.Tk()\n    mainMenu.title(\"Menu\")\n\n    global frameCustomDice\n    frameCustomDice = tkinter.Frame(height=2, bd=1, relief=tkinter.SUNKEN)\n\n    btnCreateDice = tkinter.Button(mainMenu, text=\"Create Dice\", command=createDice)\n    btnLoadDice = tkinter.Button(mainMenu, text=\"Load Dice\", command=loadDice)\n    # btnLoadDice = tkinter.Button(mainMenu, text=\"Load Dice\", command=functools.partial(loadDice, mainMenu, frameCustomDice))\n    btnExit = tkinter.Button(mainMenu, text=\"Exit\", command=exit)\n\n    btnCreateDice.pack()\n    btnLoadDice.pack()\n    frameCustomDice.pack()\n    btnExit.pack()\n\n    mainMenu.mainloop()\n\nmainMenu()\n</code></pre>\n\n<p>From this point, some points to consider:</p>\n\n<ul>\n<li>Try and avoid using the <code>global</code> variables if possible, by passing the necessary variables to your commands as parameters.</li>\n<li>use <code>functools.partial</code> to provide a custom parameterized command for each of the buttons created in <code>loadDice</code>, either by passing the file name to some function (say <code>rollDice</code>), or parsing the probabilities of the sides of the dice from the file, in <code>loadDice</code>, and passing those probabilities to <code>rollDice</code> as parameters.</li>\n<li>track the loaded buttons, currently if you run <code>loadButton</code> twice, it will load the buttons again. I think you can either remove all buttons from the frame first, or save some data about what buttons are loaded, and check this before loading a new button.</li>\n</ul>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user8179991"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 704, "favorite_count": 0, "accepted_answer_id": 46605481, "answer_count": 1, "score": 0, "last_activity_date": 1507291986, "creation_date": 1507151512, "question_id": 46574259, "link": "https://stackoverflow.com/questions/46574259/make-buttons-when-pressed-read-text-from-a-txt-file-and-display-it-python", "title": "Make buttons when pressed read text from a .txt file and display it (Python)", "body": "<pre><code>def createDice():\n\n    mainMenu.destroy()\n\n    global createMenu\n    createMenu = tkinter.Tk()\n    createMenu.title(\"Dice Maker.\")\n\n    global lblName\n    global entName\n    global lblPassword\n    global entPassword\n    global lblOutcomes\n    global entOut1\n    global entOut2\n    global entOut3\n    global entOut4\n    global entOut5\n    global entOut6\n    global btnConfirm\n\n    lblName = tkinter.Label(createMenu, text=\"What would you like to call your dice? Dont put .(file type) at the end.\")\n    entName = tkinter.Entry(createMenu)\n    lblPassword = tkinter.Label(createMenu, text=\"If you would like a password in order\\n to use your dice, enter one.\")\n    entPassword = tkinter.Entry(createMenu)\n    lblOutcomes = tkinter.Label(createMenu, text=\"Enter the outcomes for the dice, the bottom one is outcome 6.\")\n\n    entOut1 = tkinter.Entry(createMenu)\n    entOut2 = tkinter.Entry(createMenu)\n    entOut3 = tkinter.Entry(createMenu)\n    entOut4 = tkinter.Entry(createMenu)\n    entOut5 = tkinter.Entry(createMenu)\n    entOut6 = tkinter.Entry(createMenu)\n    btnConfirm = tkinter.Button(createMenu, text=\"Confirm\", command=createDice2)\n\n    lblName.pack()\n    entName.pack()\n    lblPassword.pack()\n    entPassword.pack()\n    lblOutcomes.pack()\n    entOut1.pack()\n    entOut2.pack()\n    entOut3.pack()\n    entOut4.pack()\n    entOut5.pack()\n    entOut6.pack()\n    btnConfirm.pack()\n\ndef createDice2():\n\n    global name\n    global nameTxt\n    global password\n    global out1\n    global out2\n    global out3\n    global out4\n    global out5\n    global out6\n\n    name = entName.get()\n    nameTxt = name + \".txt\"\n    password = entPassword.get()\n    out1u = entOut1.get()\n    out2u = entOut2.get()\n    out3u = entOut3.get()\n    out4u = entOut4.get()\n    out5u = entOut5.get()\n    out6u = entOut6.get()\n\n    out1 = out1u + \"\\n\"\n    out2 = out2u + \"\\n\"\n    out3 = out3u + \"\\n\"\n    out4 = out4u + \"\\n\"\n    out5 = out5u + \"\\n\"\n    out6 = out6u + \"\\n\"\n\n    f = open(nameTxt, 'w')\n    f.write(out1)\n    f.write(out2)\n    f.write(out3)\n    f.write(out4)\n    f.write(out5)\n    f.write(out6)\n    f.write(password)\n    f.close()\n\n    createMenu.destroy()\n    restartpls = tkinter.Tk()\n    restartpls.title(\"Restart this program\")\n\n    lblrestart = tkinter.Label(restartpls, text=\"Please restart this program, this is needed so that\\n the program can see that you have created\\n a new dice.\")\n    lblrestart.pack()\n\n    restartpls.mainloop()\n    sys.exit()\n\ndef loadDice():\n #see the other .txt files around the python file and make a button for each of them.\n #other code i will do.\n\ndef mainMenu():\n    global mainMenu\n    mainMenu = tkinter.Tk()\n    mainMenu.title(\"Menu\")\n\n    btnCreateDice = tkinter.Button(mainMenu, text=\"Create Dice\", command=createDice)\n    btnLoadDice = tkinter.Button(mainMenu, text=\"Load Dice\")\n    btnExit = tkinter.Button(mainMenu, text=\"Exit\", command=exit)\n\n    btnCreateDice.pack()\n    btnLoadDice.pack()\n    btnExit.pack()\n\n    mainMenu.mainloop()\nmainMenu()\n</code></pre>\n\n<p>When you run this code it will ask you to either create a dice, exit or load a dice. I have coded the create a dice and exit button program. I can't figure out how to make python create a button for each of the .txt file/s in the same folder as it and put it in a button/s. Then when a specific button is pressed it will put the first 6 lines of code into the outputs for a dice and the 7th line into a password.</p>\n\n<p><strong>how to make python create a button for each of the .txt file/s in the same folder as it and put it in a button/s</strong></p>\n\n<p>I'm putting this code at the def loadDice(): at the bottom. </p>\n"}, {"tags": ["python", "html", "pandas", "dataframe", "nan"], "comments": [{"owner": {"reputation": 32054, "user_id": 6287308, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NdmQp.jpg?s=128&g=1", "display_name": "Vaishali", "link": "https://stackoverflow.com/users/6287308/vaishali"}, "edited": false, "score": 1, "creation_date": 1507151502, "post_id": 46574237, "comment_id": 80102054, "body": "fillna doesn&#39;t assign inplace, you need table.fillna(&#39;&#39;, inplace = True)"}, {"owner": {"reputation": 497, "user_id": 2480769, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/e18498c1a173797a970ab5cf1770df4b?s=128&d=identicon&r=PG", "display_name": "mnickey", "link": "https://stackoverflow.com/users/2480769/mnickey"}, "edited": false, "score": 0, "creation_date": 1507151782, "post_id": 46574237, "comment_id": 80102181, "body": "I had a similar need. Here&#39;s what I did. <code>import numpy as np</code>  <code>table = table.replace([np.nan, np.inf, -np.inf], &#39;0.0&#39;, regex=True)</code> Of course you&#39;ll want to replace the <code>0.0</code> with whatever suits your need."}], "owner": {"reputation": 36741, "user_id": 258483, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/dd4dee2094dcd427aaec8ee329d9cfd6?s=128&d=identicon&r=PG", "display_name": "Dims", "link": "https://stackoverflow.com/users/258483/dims"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 232, "favorite_count": 0, "closed_date": 1507151580, "answer_count": 0, "score": 0, "last_activity_date": 1507151407, "creation_date": 1507151407, "question_id": 46574237, "link": "https://stackoverflow.com/questions/46574237/how-to-remove-nan-s-from-html-representation-of-pandas-dataframe", "closed_reason": "Duplicate", "title": "How to remove NaN-s from HTML representation of pandas DataFrame?", "body": "<p>I do the following way</p>\n\n<pre><code>table.fillna('')\ntable.to_html('table.html')\n</code></pre>\n\n<p>and it draws a table, full fo <code>NaN</code>-s </p>\n\n<p>How to force it to display spaces?</p>\n"}, {"tags": ["python", "import"], "comments": [{"owner": {"reputation": 1495, "user_id": 6805800, "user_type": "registered", "accept_rate": 87, "profile_image": "https://lh3.googleusercontent.com/-cyN0h9Zirp4/AAAAAAAAAAI/AAAAAAAAD94/64n1VqNQK50/photo.jpg?sz=128", "display_name": "Jonathan Porter", "link": "https://stackoverflow.com/users/6805800/jonathan-porter"}, "edited": false, "score": 0, "creation_date": 1507151543, "post_id": 46574235, "comment_id": 80102069, "body": "Can you show the code you are using?"}, {"owner": {"reputation": 11, "user_id": 7625528, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JQLY4.jpg?s=128&g=1", "display_name": "Deepesh Pant", "link": "https://stackoverflow.com/users/7625528/deepesh-pant"}, "reply_to_user": {"reputation": 1495, "user_id": 6805800, "user_type": "registered", "accept_rate": 87, "profile_image": "https://lh3.googleusercontent.com/-cyN0h9Zirp4/AAAAAAAAAAI/AAAAAAAAD94/64n1VqNQK50/photo.jpg?sz=128", "display_name": "Jonathan Porter", "link": "https://stackoverflow.com/users/6805800/jonathan-porter"}, "edited": false, "score": 0, "creation_date": 1507152032, "post_id": 46574235, "comment_id": 80102298, "body": "@JonathanPorter sir the code has been edited please have a look"}, {"owner": {"reputation": 1495, "user_id": 6805800, "user_type": "registered", "accept_rate": 87, "profile_image": "https://lh3.googleusercontent.com/-cyN0h9Zirp4/AAAAAAAAAAI/AAAAAAAAD94/64n1VqNQK50/photo.jpg?sz=128", "display_name": "Jonathan Porter", "link": "https://stackoverflow.com/users/6805800/jonathan-porter"}, "edited": false, "score": 0, "creation_date": 1507152249, "post_id": 46574235, "comment_id": 80102391, "body": "it sounds like you have multiple versions of python and aren&#39;t using the version you installed tweepy on. Add the following to your code and check your assumptions: <code>import sys</code>  <code>print sys.version </code>"}, {"owner": {"reputation": 11, "user_id": 7625528, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JQLY4.jpg?s=128&g=1", "display_name": "Deepesh Pant", "link": "https://stackoverflow.com/users/7625528/deepesh-pant"}, "reply_to_user": {"reputation": 1495, "user_id": 6805800, "user_type": "registered", "accept_rate": 87, "profile_image": "https://lh3.googleusercontent.com/-cyN0h9Zirp4/AAAAAAAAAAI/AAAAAAAAD94/64n1VqNQK50/photo.jpg?sz=128", "display_name": "Jonathan Porter", "link": "https://stackoverflow.com/users/6805800/jonathan-porter"}, "edited": false, "score": 0, "creation_date": 1507152387, "post_id": 46574235, "comment_id": 80102436, "body": "@JonathanPorter this was the ouput   2.7.12 (default, Nov 19 2016, 06:48:10)  [GCC 5.4.0 20160609]"}], "owner": {"reputation": 11, "user_id": 7625528, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JQLY4.jpg?s=128&g=1", "display_name": "Deepesh Pant", "link": "https://stackoverflow.com/users/7625528/deepesh-pant"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 34, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1507151964, "creation_date": 1507151398, "last_edit_date": 1507151964, "question_id": 46574235, "link": "https://stackoverflow.com/questions/46574235/getting-error-while-trying-to-stream-data-using-python-2-7-and-tweepy", "title": "Getting error while trying to stream data using python 2.7 and tweepy", "body": "<p>I am trying to stream data using tweepy but getting error \nImportError: No module named tweepy\n i have tried to uninstall and reinstall tweepy and installed it using pip and pip3 as well</p>\n\n<p>I am using ubuntu 16.04LTS</p>\n\n<p>Code used is:- </p>\n\n<pre><code>from tweepy import StreamListener\nfrom tweepy import OAuthHandler\nfrom tweepy import Stream\n\n #Variables that contains the user credentials to access Twitter API \n api_key = \"\"\n api_secret = \"\"\n access_token_key = \"\"\n acess_token_secret = \"\"\n\n\n\n  class StdOutListener(StreamListener):\n\n    def on_data(self, data):\n    print data\n    return True\n\ndef on_error(self, status):\n    print status\n\n\nif __name__ == '__main__':\n\nl = StdOutListener()\nauth = OAuthHandler(consumer_key, consumer_secret)\nauth.set_access_token(access_token, access_token_secret)\nstream = Stream(auth, l)\n\n'python', 'javascript', 'ruby'\nstream.filter(track=['python', 'javascript', 'ruby']) \n</code></pre>\n"}, {"tags": ["python", "python-2.7", "dictionary"], "comments": [{"owner": {"reputation": 36413, "user_id": 2301450, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/4xgoZ.png?s=128&g=1", "display_name": "vaultah", "link": "https://stackoverflow.com/users/2301450/vaultah"}, "edited": false, "score": 2, "creation_date": 1507151477, "post_id": 46574217, "comment_id": 80102044, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/3972872/python-variables-as-keys-to-dict\">Python variables as keys to dict</a>"}, {"owner": {"reputation": 902, "user_id": 4366271, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8qSNz.jpg?s=128&g=1", "display_name": "Sagar", "link": "https://stackoverflow.com/users/4366271/sagar"}, "edited": false, "score": 0, "creation_date": 1507151855, "post_id": 46574217, "comment_id": 80102215, "body": "why aren&#39;t you using defaultdict ?"}, {"owner": {"reputation": 12211, "user_id": 5411817, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Z0g8T.png?s=128&g=1", "display_name": "SherylHohman", "link": "https://stackoverflow.com/users/5411817/sherylhohman"}, "edited": false, "score": 0, "creation_date": 1507154366, "post_id": 46574217, "comment_id": 80103208, "body": "see my <a href=\"https://stackoverflow.com/a/46574487/5411817\">answer below</a>"}, {"owner": {"reputation": 97, "user_id": 8722807, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-KZKV8dfAZfg/AAAAAAAAAAI/AAAAAAAAAGY/Q91C-BX-MWc/photo.jpg?sz=128", "display_name": "slim s", "link": "https://stackoverflow.com/users/8722807/slim-s"}, "edited": false, "score": 0, "creation_date": 1507154558, "post_id": 46574217, "comment_id": 80103275, "body": "I&#39;m not very familiar with defaultdict, how would that be able to get me the desired output?"}, {"owner": {"reputation": 12211, "user_id": 5411817, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Z0g8T.png?s=128&g=1", "display_name": "SherylHohman", "link": "https://stackoverflow.com/users/5411817/sherylhohman"}, "edited": false, "score": 0, "creation_date": 1507155279, "post_id": 46574217, "comment_id": 80103510, "body": "I don&#39;t see how <code>defaultdict</code> would be useful in this case.  I&#39;m all ears if someone can show me though !"}], "answers": [{"tags": [], "owner": {"reputation": 1692, "user_id": 5063151, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Sd8xZ.jpg?s=128&g=1", "display_name": "Jabari Dash", "link": "https://stackoverflow.com/users/5063151/jabari-dash"}, "is_accepted": false, "score": 0, "last_activity_date": 1507152094, "creation_date": 1507152094, "answer_id": 46574392, "question_id": 46574217, "link": "https://stackoverflow.com/questions/46574217/convert-mutiple-lists-into-a-dictionary/46574392#46574392", "title": "convert mutiple lists into a dictionary", "body": "<pre><code>list1 = ['a', 'b', 'c']\nlist2 = ['d', 'e', 'f']\nlist3 = ['g', 'h', 'i']\n\ndictionary = dict()\n\ndictionary['list1'] = list1\ndictionary['list2'] = list2\ndictionary['list3'] = list3\n\nprint(dictionary)\n</code></pre>\n\n<p>output:</p>\n\n<pre><code>{'list1': ['a', 'b', 'c'], 'list2': ['d', 'e', 'f'], 'list3': ['g', 'h', 'i']}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 12211, "user_id": 5411817, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Z0g8T.png?s=128&g=1", "display_name": "SherylHohman", "link": "https://stackoverflow.com/users/5411817/sherylhohman"}, "is_accepted": true, "score": 4, "last_activity_date": 1507154713, "last_edit_date": 1507154713, "creation_date": 1507152500, "answer_id": 46574487, "question_id": 46574217, "link": "https://stackoverflow.com/questions/46574217/convert-mutiple-lists-into-a-dictionary/46574487#46574487", "title": "convert mutiple lists into a dictionary", "body": "<p>if you're able to define your list in its own function,<br>\n(so they are the only variables in the local function),<br>\nyou can do this:</p>\n\n<pre><code>def loc():    \n  list1 = ['a', 'b', 'c']\n  list2 = ['d', 'e', 'f']\n  list3 = ['g', 'h', 'i']\n\n  list_dictionary = (locals())\n\n  print(list_dictionary)\n\nloc()\n</code></pre>\n\n<blockquote>\n  <p>{'list1': ['a', 'b', 'c'], 'list2': ['d', 'e', 'f'], 'list3': ['g', 'h', 'i']}</p>\n</blockquote>\n\n<hr />\n\n<p>Otherwise, you may need to resort to something more like this:  </p>\n\n<pre><code>list1 = ['a', 'b', 'c']\nlist2 = ['d', 'e', 'f']    \nlist3 = ['g', 'h', 'i']\n\nlist_dictionary = {}\nfor i in ('list1', 'list2', 'list3'):\n  list_dictionary[i] = locals()[i]\n\nprint (list_dictionary)\n</code></pre>\n\n<blockquote>\n  <p>{'list1': ['a', 'b', 'c'], 'list2': ['d', 'e', 'f'], 'list3': ['g', 'h', 'i']}</p>\n</blockquote>\n\n<p>source: <a href=\"https://stackoverflow.com/a/3972978/5411817\">https://stackoverflow.com/a/3972978/5411817</a></p>\n\n<hr />\n\n<p>if your variable names are repetitive, as in the example, you can compose a list of strings for the variable names:</p>\n\n<pre><code>variable_names_as_strings = []\nfor i in range(1,4):\n    variable_names_as_strings.append('list' + str(i))\n</code></pre>\n\n<p>Then create your dictionary:</p>\n\n<pre><code>for i in variable_names_as_strings:\n  list_dictionary[i] = locals()[i]\nprint (list_dictionary)\n</code></pre>\n\n<blockquote>\n  <p>{'list1': ['a', 'b', 'c'], 'list2': ['d', 'e', 'f'], 'list3': ['g', 'h', 'i']}</p>\n</blockquote>\n\n<p><hr />\nmore info on <code>locals()</code> (also look up <code>globals()</code>):<br>\n<a href=\"https://www.programiz.com/python-programming/methods/built-in/locals\" rel=\"nofollow noreferrer\">https://www.programiz.com/python-programming/methods/built-in/locals</a>\n<a href=\"https://docs.python.org/3.3/library/functions.html#locals\" rel=\"nofollow noreferrer\">https://docs.python.org/3.3/library/functions.html#locals</a></p>\n"}], "owner": {"reputation": 97, "user_id": 8722807, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-KZKV8dfAZfg/AAAAAAAAAAI/AAAAAAAAAGY/Q91C-BX-MWc/photo.jpg?sz=128", "display_name": "slim s", "link": "https://stackoverflow.com/users/8722807/slim-s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 1, "accepted_answer_id": 46574487, "answer_count": 2, "score": -1, "last_activity_date": 1507169254, "creation_date": 1507151347, "last_edit_date": 1507169254, "question_id": 46574217, "link": "https://stackoverflow.com/questions/46574217/convert-mutiple-lists-into-a-dictionary", "title": "convert mutiple lists into a dictionary", "body": "<p>I'm not sure if this is possible, but is there a way to combine 3 lists into a dictionary so that the list name is the key and the list of items is the value?</p>\n\n<p>Example:</p>\n\n<p><strong>Inputs:</strong></p>\n\n<pre><code>list1 = ['a', 'b', 'c'] \nlist2 = ['d', 'e', 'f']\nlist3 = ['g', 'h', 'i']\n</code></pre>\n\n<p><strong>output:</strong></p>\n\n<pre><code>dict = {\n  'list1': ['a', 'b', 'c'],\n  'list2': ['d', 'e', 'f'],\n  'list3': ['g', 'h', 'i']\n}\n</code></pre>\n\n<p>thanks</p>\n"}, {"tags": ["python", "dictionary"], "comments": [{"owner": {"reputation": 15014, "user_id": 2505645, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/lgpuB.jpg?s=128&g=1", "display_name": "Markus Meskanen", "link": "https://stackoverflow.com/users/2505645/markus-meskanen"}, "edited": false, "score": 0, "creation_date": 1507151303, "post_id": 46574183, "comment_id": 80101958, "body": "What&#39;s the problem with your code?"}, {"owner": {"reputation": 254, "user_id": 7278270, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c5b972a42d1b3e77b54d56454df8b044?s=128&d=identicon&r=PG&f=1", "display_name": "leeum", "link": "https://stackoverflow.com/users/7278270/leeum"}, "reply_to_user": {"reputation": 15014, "user_id": 2505645, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/lgpuB.jpg?s=128&g=1", "display_name": "Markus Meskanen", "link": "https://stackoverflow.com/users/2505645/markus-meskanen"}, "edited": false, "score": 0, "creation_date": 1507151342, "post_id": 46574183, "comment_id": 80101975, "body": "@MarkusMeskanen it tells me that the min arg is an empty sequence"}, {"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 1, "creation_date": 1507151389, "post_id": 46574183, "comment_id": 80102004, "body": "<code>min(d, key=lambda x: d[x][-1])</code>"}], "answers": [{"tags": [], "owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "is_accepted": true, "score": 1, "last_activity_date": 1507151426, "creation_date": 1507151426, "answer_id": 46574238, "question_id": 46574183, "link": "https://stackoverflow.com/questions/46574183/how-to-get-minimum-item-from-a-dict-of-lists/46574238#46574238", "title": "How to get minimum item from a dict of lists?", "body": "<p>You almost had it. You're iterating over the keys, so <code>x</code> is the key you'll use to index into your dictionary. This is what you want:</p>\n\n<pre><code>In [797]: min(d, key=lambda x: d[x][-1])\nOut[797]: 'AD'\n</code></pre>\n\n<p>I would also recommend renaming your dictionary to something besides <code>dict</code>, it shadows the builtin class <code>dict</code>.</p>\n"}], "owner": {"reputation": 254, "user_id": 7278270, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c5b972a42d1b3e77b54d56454df8b044?s=128&d=identicon&r=PG&f=1", "display_name": "leeum", "link": "https://stackoverflow.com/users/7278270/leeum"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "accepted_answer_id": 46574238, "answer_count": 1, "score": -2, "last_activity_date": 1507443943, "creation_date": 1507151216, "last_edit_date": 1507443943, "question_id": 46574183, "link": "https://stackoverflow.com/questions/46574183/how-to-get-minimum-item-from-a-dict-of-lists", "title": "How to get minimum item from a dict of lists?", "body": "<p>My dictionary looks like this:</p>\n\n<pre><code>Key:                List:\nAB                   [A, B, 32]\nAC                   [A, C, 20]\nAD                   [A, D, 18]\n</code></pre>\n\n<p>I want to get the key that has the minimum value in the third location on the list. So, <code>AD</code> is what I want outputted.</p>\n\n<p>The code I am using is:</p>\n\n<pre><code>print min(dict.keys(), key=lambda x: x[2])\n</code></pre>\n"}, {"tags": ["python", "raspberry-pi"], "comments": [{"owner": {"reputation": 664, "user_id": 2771301, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/CFLQl.jpg?s=128&g=1", "display_name": "Dinesh.hmn", "link": "https://stackoverflow.com/users/2771301/dinesh-hmn"}, "edited": false, "score": 0, "creation_date": 1507151384, "post_id": 46574177, "comment_id": 80102001, "body": "you will have to get the module installed on the pi before calling the code, I am guessing on raspi, you still use pip"}, {"owner": {"reputation": 1, "user_id": 8587119, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b22fe03bc871958f5a2a5ab1ad6d6b7?s=128&d=identicon&r=PG&f=1", "display_name": "CluelessCoder", "link": "https://stackoverflow.com/users/8587119/cluelesscoder"}, "reply_to_user": {"reputation": 664, "user_id": 2771301, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/CFLQl.jpg?s=128&g=1", "display_name": "Dinesh.hmn", "link": "https://stackoverflow.com/users/2771301/dinesh-hmn"}, "edited": false, "score": 0, "creation_date": 1507174107, "post_id": 46574177, "comment_id": 80107841, "body": "I installed the opencv before I cloned the repo I&#39;m so lost lol"}], "owner": {"reputation": 1, "user_id": 8587119, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b22fe03bc871958f5a2a5ab1ad6d6b7?s=128&d=identicon&r=PG&f=1", "display_name": "CluelessCoder", "link": "https://stackoverflow.com/users/8587119/cluelesscoder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 645, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1507151200, "creation_date": 1507151200, "question_id": 46574177, "link": "https://stackoverflow.com/questions/46574177/raspberry-pi-project-no-module-named-error", "title": "Raspberry Pi project - no module named error", "body": "<p>Ok so im trying my first Raspberry Pi project <a href=\"https://www.youtube.com/watch?v=Y2QFu-tTvTI\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=Y2QFu-tTvTI</a> </p>\n\n<p>i have followed the steps for installing open cv and the other dependencies but when i try to run it i get the following error </p>\n\n<pre><code>(cv) pi@raspberrypi:~/Smart-Security-Camera $ python main.py\nTraceback (most recent call last):\n  File \"main.py\", line 3, in &lt;module&gt;\n    from mail import sendEmail\n  File \"/home/pi/Smart-Security-Camera/mail.py\", line 2, in &lt;module&gt;\n    from email.MIMEMultipart import MIMEMultipart\nImportError: No module named 'email.MIMEMultipart'\n</code></pre>\n\n<p>i then tried entering \"sudo python main.py\" and got a different messege but the same problem as shown below </p>\n\n<pre><code>(cv) pi@raspberrypi:~/Smart-Security-Camera $ sudo python main.py\nTraceback (most recent call last):\n  File \"main.py\", line 5, in &lt;module&gt;\n    from camera import VideoCamera\n  File \"/home/pi/Smart-Security-Camera/camera.py\", line 2, in &lt;module&gt;\n    from imutils.video.pivideostream import PiVideoStream\nImportError: No module named imutils.video.pivideostream\n</code></pre>\n\n<p>finally i tried \"sudo python3 main.py\" and again different messege same issue.</p>\n\n<pre><code>(cv) pi@raspberrypi:~/Smart-Security-Camera $ sudo python3 main.py\nTraceback (most recent call last):\n  File \"main.py\", line 1, in &lt;module&gt;\n    import cv2\nImportError: No module named 'cv2'\n</code></pre>\n\n<p>any help is appreciated </p>\n"}, {"tags": ["python", "pylint"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 1, "creation_date": 1507151189, "post_id": 46574150, "comment_id": 80101910, "body": "You&#39;ve reused the <code>cls</code> variable. Don&#39;t do that."}, {"owner": {"reputation": 553, "user_id": 1018443, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/lZgT0.png?s=128&g=1", "display_name": "nharrer", "link": "https://stackoverflow.com/users/1018443/nharrer"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1507188174, "post_id": 46574150, "comment_id": 80112834, "body": "Thank you! Yes, I misunderstood what cls is. Replacing cls = Class1() with newobj = Class1() works now. Or even new newobj = cls()."}, {"owner": {"reputation": 553, "user_id": 1018443, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/lZgT0.png?s=128&g=1", "display_name": "nharrer", "link": "https://stackoverflow.com/users/1018443/nharrer"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1507189256, "post_id": 46574150, "comment_id": 80113438, "body": "user2357112, I added the correct example. If you add this as an answer, I&#39;ll choose it as accepted answer."}], "owner": {"reputation": 553, "user_id": 1018443, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/lZgT0.png?s=128&g=1", "display_name": "nharrer", "link": "https://stackoverflow.com/users/1018443/nharrer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 844, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1507189153, "creation_date": 1507151053, "last_edit_date": 1507189153, "question_id": 46574150, "link": "https://stackoverflow.com/questions/46574150/pylint-e1101class-x-has-no-y-member-even-though-defined-in-init", "title": "PyLint: E1101:Class X has no &#39;Y&#39; member&#39;, even though defined in __init__", "body": "<p>I have following code:</p>\n\n<pre><code>class Class1(object):\n    \"\"\"Demo Class\"\"\"\n\n    def __init__(self):\n        self.name = None\n        self.lines = []\n\n    @classmethod\n    def from_log(cls, log):\n        \"\"\"Instantiate from log\"\"\"\n\n        cls = Class1()\n        cls.name = 'log'\n\n        for line in log.splitlines():\n            cls.lines.append(line)  # &lt;-- pylint message here\n\n        return cls\n\n\nOBJ = Class1.from_log(\"line1\\nline2\")\nprint(OBJ.lines)\n</code></pre>\n\n<p>Which causes pylint to complain:</p>\n\n<pre><code>E1101:Class 'Class1' has no 'lines' member\n</code></pre>\n\n<p>What's wrong here? And since it complains about <code>cls.lines</code>, why doesn't it complain about <code>cls.name</code>?</p>\n\n<p>I am using:</p>\n\n<ul>\n<li>pylint 1.7.4 </li>\n<li>Python 3.6.2</li>\n</ul>\n\n<p><strong>EDIT:</strong> Thanks to user2357112 I realized that I misunderstood the type of cls. cls is the class-object of Class1. What I am creating is an instance of Class1. That's different. Reusing it confuses pylint. The correct code looks like that:</p>\n\n<pre><code>class Class1(object):\n    \"\"\"Demo Class\"\"\"\n\n    def __init__(self):\n        self.name = None\n        self.lines = []\n\n    @classmethod\n    def from_log(cls, log):\n        \"\"\"Instanciate from log-file\"\"\"\n\n        newobj = Class1() # &lt;-- don't reuse cls. create a new variable.\n        newobj.name = 'log'\n\n        for line in log.splitlines():\n            newobj.lines.append(line)\n\n        return newobj\n</code></pre>\n\n<p>It can even be:</p>\n\n<pre><code>newobj = cls()\n</code></pre>\n"}, {"tags": ["python", "tesseract"], "comments": [{"owner": {"reputation": 6626, "user_id": 4907913, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c2769a366bde01ddbf60008819e371c?s=128&d=identicon&r=PG&f=1", "display_name": "thewaywewere", "link": "https://stackoverflow.com/users/4907913/thewaywewere"}, "edited": false, "score": 0, "creation_date": 1507467785, "post_id": 46574142, "comment_id": 80212142, "body": "Add image to the question for answerers to see your problem."}, {"owner": {"reputation": 13023, "user_id": 819417, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/C3Phl.jpg?s=128&g=1", "display_name": "Cees Timmerman", "link": "https://stackoverflow.com/users/819417/cees-timmerman"}, "edited": false, "score": 0, "creation_date": 1559901707, "post_id": 46574142, "comment_id": 99573140, "body": "I went with <a href=\"https://stackoverflow.com/questions/9413216/simple-digit-recognition-ocr-in-opencv-python/9620295#9620295\" title=\"simple digit recognition ocr in opencv python\">stackoverflow.com/questions/9413216/&hellip;</a> instead."}, {"owner": {"reputation": 2726, "user_id": 300632, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/968fba3ba6e5df2df68a458218be7104?s=128&d=identicon&r=PG", "display_name": "Jarl", "link": "https://stackoverflow.com/users/300632/jarl"}, "edited": false, "score": 0, "creation_date": 1569858748, "post_id": 46574142, "comment_id": 102723769, "body": "@CuriousGeorge: Did you find a solution to your upgrade problem?"}], "answers": [{"comments": [{"owner": {"reputation": 418, "user_id": 2471388, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/246de95474c20c32f16d80206483036d?s=128&d=identicon&r=PG&f=1", "display_name": "Jakub Mendyk", "link": "https://stackoverflow.com/users/2471388/jakub-mendyk"}, "edited": false, "score": 0, "creation_date": 1530107798, "post_id": 46589648, "comment_id": 89119244, "body": "&quot;oem&quot; in config argument is mistyped as &quot;eom&quot;"}, {"owner": {"reputation": 418, "user_id": 2471388, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/246de95474c20c32f16d80206483036d?s=128&d=identicon&r=PG&f=1", "display_name": "Jakub Mendyk", "link": "https://stackoverflow.com/users/2471388/jakub-mendyk"}, "edited": false, "score": 5, "creation_date": 1530107877, "post_id": 46589648, "comment_id": 89119308, "body": "This solution doesn&#39;t work for tesseract 4.0+. There&#39;s an open issue related to this on GitHub: <a href=\"https://github.com/tesseract-ocr/tesseract/issues/751\" rel=\"nofollow noreferrer\">github.com/tesseract-ocr/tesseract/issues/751</a>."}, {"owner": {"reputation": 6626, "user_id": 4907913, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c2769a366bde01ddbf60008819e371c?s=128&d=identicon&r=PG&f=1", "display_name": "thewaywewere", "link": "https://stackoverflow.com/users/4907913/thewaywewere"}, "reply_to_user": {"reputation": 418, "user_id": 2471388, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/246de95474c20c32f16d80206483036d?s=128&d=identicon&r=PG&f=1", "display_name": "Jakub Mendyk", "link": "https://stackoverflow.com/users/2471388/jakub-mendyk"}, "edited": false, "score": 0, "creation_date": 1530116748, "post_id": 46589648, "comment_id": 89124814, "body": "Tried to fix the typo on May but somehow still showed <code>--eom</code>. Anyway, re-fixed it."}, {"owner": {"reputation": 2089, "user_id": 4766168, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-xrRVf1o5oQk/AAAAAAAAAAI/AAAAAAAAAEk/Uu9PgLhfHwA/photo.jpg?sz=128", "display_name": "Dmitrii Z.", "link": "https://stackoverflow.com/users/4766168/dmitrii-z"}, "edited": false, "score": 0, "creation_date": 1530133956, "post_id": 46589648, "comment_id": 89132735, "body": "As Jakub mentioned it won&#39;t work with 4.0. Instead there is a separate tessdata file for digits"}, {"owner": {"reputation": 3923, "user_id": 900394, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/wAnlv.jpg?s=128&g=1", "display_name": "Alaa M.", "link": "https://stackoverflow.com/users/900394/alaa-m"}, "edited": false, "score": 0, "creation_date": 1565162503, "post_id": 46589648, "comment_id": 101260660, "body": "I&#39;m looking for OCR for recognizing time. E.g. <b>11:25</b> . Adding a colon (:) to the whitelist didn&#39;t work. Any ideas?"}], "tags": [], "owner": {"reputation": 6626, "user_id": 4907913, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c2769a366bde01ddbf60008819e371c?s=128&d=identicon&r=PG&f=1", "display_name": "thewaywewere", "link": "https://stackoverflow.com/users/4907913/thewaywewere"}, "is_accepted": false, "score": 14, "last_activity_date": 1530116685, "last_edit_date": 1530116685, "creation_date": 1507217889, "answer_id": 46589648, "question_id": 46574142, "link": "https://stackoverflow.com/questions/46574142/pytesseract-using-tesseract-4-0-numbers-only-not-working/46589648#46589648", "title": "pytesseract using tesseract 4.0 numbers only not working", "body": "<p>You can specify the numbers in the <code>tessedit_char_whitelist</code> as below as a <code>config option</code>.</p>\n\n<pre><code>ocr_result = pytesseract.image_to_string(image, lang='eng', boxes=False, \\\n           config='--psm 10 --oem 3 -c tessedit_char_whitelist=0123456789')\n</code></pre>\n\n<p>Hope this help.</p>\n"}, {"comments": [{"owner": {"reputation": 3579, "user_id": 4761601, "user_type": "registered", "accept_rate": 43, "profile_image": "https://lh5.googleusercontent.com/-vWbmAEDn9Iw/AAAAAAAAAAI/AAAAAAAABdk/fSWyEWfB1Y0/photo.jpg?sz=128", "display_name": "Maksim Kniazev", "link": "https://stackoverflow.com/users/4761601/maksim-kniazev"}, "edited": false, "score": 1, "creation_date": 1562973974, "post_id": 55030869, "comment_id": 100561729, "body": "what if I need text and digits ?"}, {"owner": {"reputation": 149, "user_id": 8105296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dfd8cee9ca05d059a1751ea64699d2c2?s=128&d=identicon&r=PG&f=1", "display_name": "Robert Harris", "link": "https://stackoverflow.com/users/8105296/robert-harris"}, "reply_to_user": {"reputation": 3579, "user_id": 4761601, "user_type": "registered", "accept_rate": 43, "profile_image": "https://lh5.googleusercontent.com/-vWbmAEDn9Iw/AAAAAAAAAAI/AAAAAAAABdk/fSWyEWfB1Y0/photo.jpg?sz=128", "display_name": "Maksim Kniazev", "link": "https://stackoverflow.com/users/4761601/maksim-kniazev"}, "edited": false, "score": 0, "creation_date": 1572363805, "post_id": 55030869, "comment_id": 103532139, "body": "you can put both text and digits in the digits config file.  For example, you could put &#39;1234567890abcdefg...&#39; and it will only return those alphanumeric characters."}, {"owner": {"reputation": 151, "user_id": 9514712, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-f0Dgo5kH2LI/AAAAAAAAAAI/AAAAAAAAAEg/T8acFmfLbQ8/photo.jpg?sz=128", "display_name": "Ganesh Kharad", "link": "https://stackoverflow.com/users/9514712/ganesh-kharad"}, "edited": false, "score": 0, "creation_date": 1582808387, "post_id": 55030869, "comment_id": 106909756, "body": "Which version are you using ?? the method &quot; config=&#39;digits&#39; &quot; doesen&#39;t wor for me im usin pytesseract==0.3.0"}, {"owner": {"reputation": 75, "user_id": 7085807, "user_type": "registered", "profile_image": "https://graph.facebook.com/629083213929191/picture?type=large", "display_name": "Ammar H Sufyan", "link": "https://stackoverflow.com/users/7085807/ammar-h-sufyan"}, "edited": false, "score": 0, "creation_date": 1590403229, "post_id": 55030869, "comment_id": 109657272, "body": "Works with the latest tesseract as of 2020"}, {"owner": {"reputation": 109, "user_id": 10082774, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-vCKMjMp0nNM/AAAAAAAAAAI/AAAAAAAAAGg/9skNMNTU2ac/photo.jpg?sz=128", "display_name": "ircham", "link": "https://stackoverflow.com/users/10082774/ircham"}, "edited": false, "score": 0, "creation_date": 1593701274, "post_id": 55030869, "comment_id": 110877686, "body": "<code>config=digits</code> only do the whitelisting for numeric from alphanumeric input. How to treat an image as only numeric instead of alphanumeric, any ideas? Like treat <code>l</code> as <code>one</code> instead of <code>L</code>"}], "tags": [], "owner": {"reputation": 149, "user_id": 8105296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dfd8cee9ca05d059a1751ea64699d2c2?s=128&d=identicon&r=PG&f=1", "display_name": "Robert Harris", "link": "https://stackoverflow.com/users/8105296/robert-harris"}, "is_accepted": false, "score": 10, "last_activity_date": 1551900687, "creation_date": 1551900687, "answer_id": 55030869, "question_id": 46574142, "link": "https://stackoverflow.com/questions/46574142/pytesseract-using-tesseract-4-0-numbers-only-not-working/55030869#55030869", "title": "pytesseract using tesseract 4.0 numbers only not working", "body": "<p>Using tessedit_char_whitelist flags with pytesseract did not work for me.  However, one workaround is to use a flag that works, which is config='digits':</p>\n\n<pre><code>import pytesseract\ntext = pytesseract.image_to_string(pixels, config='digits')\n</code></pre>\n\n<p>where pixels is a numpy array of your image (PIL image should also work).  This should force your pytesseract into returning only digits.  Now, to customize what it returns, find your digits configuration file, on Windows mine was located here:</p>\n\n<p>C:\\Program Files (x86)\\Tesseract-OCR\\tessdata\\configs</p>\n\n<p>Open the digits file and add whatever characters you want.  After saving and running pytesseract, it should return only those customized characters.</p>\n"}, {"comments": [{"owner": {"reputation": 1326, "user_id": 6499558, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-zutOXave6sk/AAAAAAAAAAI/AAAAAAAAAvg/HLYMIAXFFUg/photo.jpg=k-s128", "display_name": "Do\u011fu\u015f", "link": "https://stackoverflow.com/users/6499558/do%c4%9fu%c5%9f"}, "edited": false, "score": 1, "creation_date": 1600276488, "post_id": 60920920, "comment_id": 113039578, "body": "Thanks! Updating to version 4.1.1 from source has solved the problem. <a href=\"https://github.com/tesseract-ocr/tesseract/releases\" rel=\"nofollow noreferrer\">github.com/tesseract-ocr/tesseract/releases</a>"}], "tags": [], "owner": {"reputation": 1176, "user_id": 2056125, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/P48EN.png?s=128&g=1", "display_name": "mhellmeier", "link": "https://stackoverflow.com/users/2056125/mhellmeier"}, "is_accepted": false, "score": 2, "last_activity_date": 1585517092, "creation_date": 1585517092, "answer_id": 60920920, "question_id": 46574142, "link": "https://stackoverflow.com/questions/46574142/pytesseract-using-tesseract-4-0-numbers-only-not-working/60920920#60920920", "title": "pytesseract using tesseract 4.0 numbers only not working", "body": "<p>As you can see in <a href=\"https://github.com/tesseract-ocr/tesseract/issues/751\" rel=\"nofollow noreferrer\">this GitHub issue</a>, the blacklist and whitelist doesn't work with tesseract version 4.0.</p>\n\n<p>There are 3 possible solutions for this problem, as I described in <a href=\"https://return2.net/python-tesseract-4-0-get-numbers-only/\" rel=\"nofollow noreferrer\">this blog article</a>:</p>\n\n<ol>\n<li>Update tesseract to version > 4.1</li>\n<li>Use the legacy mode as described in <a href=\"https://stackoverflow.com/a/46589648/2056125\">the answer</a> from <a href=\"https://stackoverflow.com/users/4907913/thewaywewere\">@thewaywewere</a></li>\n<li><p>Create a python function which uses a simple regex to extract all numbers:</p>\n\n<pre><code>def replace_chars(text):\n    list_of_numbers = re.findall(r'\\d+', text)\n    result_number = ''.join(list_of_numbers)\n    return result_number\n\nresult_number = pytesseract.image_to_string(im)\n</code></pre></li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 51, "user_id": 8290286, "user_type": "registered", "profile_image": "https://graph.facebook.com/650866265108740/picture?type=large", "display_name": "Tejesh Teju", "link": "https://stackoverflow.com/users/8290286/tejesh-teju"}, "is_accepted": false, "score": 3, "last_activity_date": 1591137288, "last_edit_date": 1591137288, "creation_date": 1591133727, "answer_id": 62161775, "question_id": 46574142, "link": "https://stackoverflow.com/questions/46574142/pytesseract-using-tesseract-4-0-numbers-only-not-working/62161775#62161775", "title": "pytesseract using tesseract 4.0 numbers only not working", "body": "<p>You can specify the numbers in the <code>tessedit_char_whitelist</code> as below as a config option.</p>\n\n<pre><code>ocr_result = pytesseract.image_to_string(image, lang='eng',config='--psm 10 --oem 3 -c tessedit_char_whitelist=0123456789')\n</code></pre>\n"}], "owner": {"reputation": 181, "user_id": 5411829, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/61b1eb7ee30ffc07f84994a0a7d3cdd4?s=128&d=identicon&r=PG&f=1", "display_name": "CuriousGeorge", "link": "https://stackoverflow.com/users/5411829/curiousgeorge"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 25901, "favorite_count": 6, "answer_count": 4, "score": 15, "last_activity_date": 1591137288, "creation_date": 1507151028, "question_id": 46574142, "link": "https://stackoverflow.com/questions/46574142/pytesseract-using-tesseract-4-0-numbers-only-not-working", "title": "pytesseract using tesseract 4.0 numbers only not working", "body": "<p>Any one tried to get numbers only calling the latest version of tesseract 4.0 in python?</p>\n\n<p>The below worked in 3.05 but still returns characters in 4.0, I tried removing all config files but the digits file and still didn't work; any help would be great:</p>\n\n<p>im is an image of a date, black text white background:</p>\n\n<pre><code>import pytesseract\nim =  imageOfDate\nim = pytesseract.image_to_string(im, config='outputbase digits')\nprint(im)\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "variables"], "comments": [{"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 2, "creation_date": 1507151048, "post_id": 46574123, "comment_id": 80101830, "body": "Use a dictionary?"}, {"owner": {"reputation": 31, "user_id": 8503840, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/2568437233797131ccdd8e6660e34dd2?s=128&d=identicon&r=PG&f=1", "display_name": "Alexander Jephtha", "link": "https://stackoverflow.com/users/8503840/alexander-jephtha"}, "reply_to_user": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1507151115, "post_id": 46574123, "comment_id": 80101869, "body": "how would you suggest?"}, {"owner": {"reputation": 1174, "user_id": 3750325, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/01804ed862c30a3efe758805a9b79828?s=128&d=identicon&r=PG&f=1", "display_name": "user3750325", "link": "https://stackoverflow.com/users/3750325/user3750325"}, "edited": false, "score": 2, "creation_date": 1507151157, "post_id": 46574123, "comment_id": 80101891, "body": "You&#39;ve got to be designing something wrong if you want dynamic variable names. Maybe expand more on what you are trying to do with this?"}, {"owner": {"reputation": 27649, "user_id": 5067311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qjltV.png?s=128&g=1", "display_name": "Andras Deak", "link": "https://stackoverflow.com/users/5067311/andras-deak"}, "edited": false, "score": 2, "creation_date": 1507151275, "post_id": 46574123, "comment_id": 80101945, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/14241133/how-can-i-create-lists-from-a-list-of-strings\">How can I create lists from a list of strings?</a>"}, {"owner": {"reputation": 27649, "user_id": 5067311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qjltV.png?s=128&g=1", "display_name": "Andras Deak", "link": "https://stackoverflow.com/users/5067311/andras-deak"}, "edited": false, "score": 0, "creation_date": 1507151318, "post_id": 46574123, "comment_id": 80101964, "body": "What I suggested is one of many possible duplicates, see for instance <a href=\"https://stackoverflow.com/questions/26850361/dynamically-assigning-variable-names\" title=\"dynamically assigning variable names\">stackoverflow.com/questions/26850361/&hellip;</a> . The bottom line is always &quot;use a dictionary [or a list]&quot; instead of generating dynamic variable names."}, {"owner": {"reputation": 37387, "user_id": 137650, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/418a42c29b040f2e0a51eea5330e2b7f?s=128&d=identicon&r=PG", "display_name": "MatsLindh", "link": "https://stackoverflow.com/users/137650/matslindh"}, "edited": false, "score": 0, "creation_date": 1507151544, "post_id": 46574123, "comment_id": 80102071, "body": "Which is why you use a dictionary, so that you can look up the value there instead. <code>y = {}, for .. : y[x] = x</code>. What is the problem you think this is the solution to?"}, {"owner": {"reputation": 31, "user_id": 8503840, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/2568437233797131ccdd8e6660e34dd2?s=128&d=identicon&r=PG&f=1", "display_name": "Alexander Jephtha", "link": "https://stackoverflow.com/users/8503840/alexander-jephtha"}, "edited": false, "score": 0, "creation_date": 1507152083, "post_id": 46574123, "comment_id": 80102316, "body": "Dictionaries appear to work thank you, but is there also a way to do it so that you can type print(y1), after you find it in a dictionary?"}, {"owner": {"reputation": 27649, "user_id": 5067311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qjltV.png?s=128&g=1", "display_name": "Andras Deak", "link": "https://stackoverflow.com/users/5067311/andras-deak"}, "edited": false, "score": 0, "creation_date": 1507152103, "post_id": 46574123, "comment_id": 80102323, "body": "&quot;<i>What I need is for the variable assignment name to be changed every time</i>&quot;: no, you don&#39;t. See also <a href=\"https://www.youtube.com/watch?v=7S94ohyErSw\" rel=\"nofollow noreferrer\">youtube.com/watch?v=7S94ohyErSw</a> ."}, {"owner": {"reputation": 31, "user_id": 8503840, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/2568437233797131ccdd8e6660e34dd2?s=128&d=identicon&r=PG&f=1", "display_name": "Alexander Jephtha", "link": "https://stackoverflow.com/users/8503840/alexander-jephtha"}, "edited": false, "score": 0, "creation_date": 1507152167, "post_id": 46574123, "comment_id": 80102356, "body": "I said need, not want..."}, {"owner": {"reputation": 69207, "user_id": 1440565, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/ec430cc01ef4cf4ae63ebbe9e8596f72?s=128&d=identicon&r=PG", "display_name": "Code-Apprentice", "link": "https://stackoverflow.com/users/1440565/code-apprentice"}, "edited": false, "score": 0, "creation_date": 1507161226, "post_id": 46574123, "comment_id": 80105044, "body": "This sounds like an XY problem."}], "answers": [{"comments": [{"owner": {"reputation": 357, "user_id": 8565759, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/66a60d0d027ff8de6e81d61a5acee75e?s=128&d=identicon&r=PG&f=1", "display_name": "Brain_overflowed", "link": "https://stackoverflow.com/users/8565759/brain-overflowed"}, "edited": false, "score": 0, "creation_date": 1507211383, "post_id": 46574545, "comment_id": 80127782, "body": "Is this not what you wanted?"}], "tags": [], "owner": {"reputation": 357, "user_id": 8565759, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/66a60d0d027ff8de6e81d61a5acee75e?s=128&d=identicon&r=PG&f=1", "display_name": "Brain_overflowed", "link": "https://stackoverflow.com/users/8565759/brain-overflowed"}, "is_accepted": false, "score": -1, "last_activity_date": 1507152728, "creation_date": 1507152728, "answer_id": 46574545, "question_id": 46574123, "link": "https://stackoverflow.com/questions/46574123/how-do-you-alter-a-variable-name-in-a-loop-in-python/46574545#46574545", "title": "How do you alter a variable name in a loop in python?", "body": "<p>Use dictionaries:</p>\n\n<pre><code>    y = {}\n    x = 1\n    while x &lt; 10:\n        y[x] = x\n        x += 1\n\n    &gt;&gt;&gt; y = {1: 1, 2: 2, 3: 3, 4: 4, 5: 5, 6: 6, 7: 7, 8: 8, 9: 9} \n</code></pre>\n\n<p>Here, you can access the different y values by their keys: y[1], y[2], etc.</p>\n\n<p>Or, use lists:</p>\n\n<pre><code>    y = []\n    x = 1\n    while x &lt; 10:\n        y.append(x)\n        x += 1    \n\n    &gt;&gt;&gt; y = [1, 2, 3, 4, 5, 6, 7, 8, 9]\n</code></pre>\n\n<p>Here you can access each y value using their index(starting at 0)</p>\n"}], "owner": {"reputation": 31, "user_id": 8503840, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/2568437233797131ccdd8e6660e34dd2?s=128&d=identicon&r=PG&f=1", "display_name": "Alexander Jephtha", "link": "https://stackoverflow.com/users/8503840/alexander-jephtha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 67, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1507152728, "creation_date": 1507150945, "last_edit_date": 1507151365, "question_id": 46574123, "link": "https://stackoverflow.com/questions/46574123/how-do-you-alter-a-variable-name-in-a-loop-in-python", "title": "How do you alter a variable name in a loop in python?", "body": "<p>I having trouble figuring out how to do what is probably a simple thing.\nI may have not have phrased the question well so i will just demonstrate what I want to do in the code below:</p>\n\n<pre><code>    x = 1\n    while x != 10:\n        y = x\n        x = x + 1\n</code></pre>\n\n<p>I problem is that I want there to be a number after y, which is equal to x.</p>\n\n<p>So when x = 1:\ny1 = 1</p>\n\n<p>And when x = 2:\ny2 = 2</p>\n\n<p>This code is the simplest way I think I can show my question but your answer will help me be able to run my code like I want to.\nI just want you to keep in mind that I will NOT accept this answer:</p>\n\n<pre><code>    x = 1\n    while(x != 10):\n        if x = 1:\n            y1 = 1\n        elif x = 2:\n            y2 = 2\n        elif x = 3:\n            y3 = 3\n        (etc...)\n</code></pre>\n\n<p>The whole purpose of this question is to avoid using the process above.\nI appreciate your time.</p>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1507151073, "post_id": 46574113, "comment_id": 80101850, "body": "You could use regular expressions."}, {"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 1, "creation_date": 1507151121, "post_id": 46574113, "comment_id": 80101875, "body": "<code>assert re.search(&quot;Element .*? is not clickable at point&quot;, getattr(e, &#39;message&#39;, str(e)))</code>"}], "owner": {"reputation": 3408, "user_id": 6373357, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/a3b870102aa2df81c64374b893f601ba?s=128&d=identicon&r=PG&f=1", "display_name": "jacobcan118", "link": "https://stackoverflow.com/users/6373357/jacobcan118"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 21, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1507150912, "creation_date": 1507150912, "question_id": 46574113, "link": "https://stackoverflow.com/questions/46574113/find-error-message-contain-particular-substring-with-wildcard", "title": "find error message contain particular substring with wildcard", "body": "<p>I have one error message like following, How can I use assert to make sure the error message contains \"Element is not clickable\"?\nI have tried but it does not work</p>\n\n<pre><code>assert getattr(e, 'message', str(e)) == \"Element * is not clickable at point\"\n</code></pre>\n\n<p><code>Message: unknown error: Element &lt;i class=\"dropdown\"&gt;&lt;/i&gt; is not clickable at point (860, 345). Other element would receive the click: &lt;div class=\"field\"&gt;...&lt;/div&gt;\n  (Session info: chrome=61.0.3163.100)\n  (Driver info: chromedriver=2.30.477690 (c53f4ad87510ee97b5c3425a14c0e79780cdf262),platform=Mac OS X 10.11.4 x86_64) (WARNING: The server did not provide any stacktrace information)\nCommand duration or timeout: 75 milliseconds\nBuild info: version: '2.53.1', revision: 'a36b8b1', time: '2016-06-30 17:37:03'\nSession ID: 026bc5877b6f98f4ccb50fecb690a941\nScreenshot: available via screen</code></p>\n"}, {"tags": ["python", "python-2.7"], "comments": [{"owner": {"reputation": 1057, "user_id": 993553, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/663cafef8493817f8f918e6d54c0462e?s=128&d=identicon&r=PG", "display_name": "user993553", "link": "https://stackoverflow.com/users/993553/user993553"}, "edited": false, "score": 0, "creation_date": 1507150837, "post_id": 46574073, "comment_id": 80101729, "body": "You need a tmp file for that to copy to"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4404219"}, "reply_to_user": {"reputation": 1057, "user_id": 993553, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/663cafef8493817f8f918e6d54c0462e?s=128&d=identicon&r=PG", "display_name": "user993553", "link": "https://stackoverflow.com/users/993553/user993553"}, "edited": false, "score": 0, "creation_date": 1507151568, "post_id": 46574073, "comment_id": 80102083, "body": "that did it. Thanks."}], "answers": [{"tags": [], "owner": {"reputation": 3191, "user_id": 857383, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f5139c6c6a8c445c07d7baeca5c5a14b?s=128&d=identicon&r=PG", "display_name": "Sergey Vasilyev", "link": "https://stackoverflow.com/users/857383/sergey-vasilyev"}, "is_accepted": true, "score": 0, "last_activity_date": 1507151643, "creation_date": 1507151643, "answer_id": 46574287, "question_id": 46574073, "link": "https://stackoverflow.com/questions/46574073/write-function-not-writing-back-to-original-line-after-finished/46574287#46574287", "title": ".write function not writing back to original line after finished", "body": "<p>Pretty simple.</p>\n\n<p>You <code>next(f)</code> statement reads one line, the first line in the file, and does nothing with it.</p>\n\n<p>Then, you do <code>for line in f</code> for the first time, and it tries to read the second line. Which will be empty (because you probably have a newline after the first line).</p>\n\n<p>It fails parsing your empty line with the substring detection, because there are not <code>|</code> chars, or anything of that kind.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user4404219"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 21, "favorite_count": 0, "accepted_answer_id": 46574287, "answer_count": 1, "score": 0, "last_activity_date": 1507151643, "creation_date": 1507150712, "question_id": 46574073, "link": "https://stackoverflow.com/questions/46574073/write-function-not-writing-back-to-original-line-after-finished", "title": ".write function not writing back to original line after finished", "body": "<p>My code doesn't like me asking it to append certain info to specific lines. And I'm not sure why?</p>\n\n<p>For reference, my code looks like this:</p>\n\n<pre><code>def lookOnMe(fileName):\nimport socket\nglobal HostName\nwith open(fileName, 'r+') as f:\n    next(f)\n    for line in f:\n        f.seek(0)\n        print(line)\n        findStop = line.index(\"|\")\n        remainder = line[findStop+2:]\n        findStop = remainder.index(\"|\")\n        ipAdd = remainder[:findStop]\n        ipAdd = \"\".join(ipAdd.split())\n        try:\n            HostName = socket.gethostbyaddr(ipAdd)\n        except:\n            HostName = '-'\n\n        f.write(line.rstrip('\\n') + \" | \" + HostName + '\\n')\n        f.read()\n</code></pre>\n\n<p>And the input string, like this:</p>\n\n<pre><code>5558    | 1.000.00.00      | 1.222.0.0/10        | ER | apnic    | 2001-07-19 | SOMESTUFF\n</code></pre>\n"}, {"tags": ["python", "ipython", "spyder"], "answers": [{"tags": [], "owner": {"reputation": 27032, "user_id": 438386, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aceace9b2049723617a2f59f698df0ff?s=128&d=identicon&r=PG", "display_name": "Carlos Cordoba", "link": "https://stackoverflow.com/users/438386/carlos-cordoba"}, "is_accepted": false, "score": 3, "last_activity_date": 1507153673, "creation_date": 1507153673, "answer_id": 46574716, "question_id": 46574039, "link": "https://stackoverflow.com/questions/46574039/autoclosing-of-brackets-and-quotes-in-spyder-ipython-console/46574716#46574716", "title": "Autoclosing of brackets and quotes in Spyder IPython console?", "body": "<p>(<em>Spyder developer here</em>) There's no option to do this, sorry.</p>\n"}, {"comments": [{"owner": {"reputation": 27032, "user_id": 438386, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aceace9b2049723617a2f59f698df0ff?s=128&d=identicon&r=PG", "display_name": "Carlos Cordoba", "link": "https://stackoverflow.com/users/438386/carlos-cordoba"}, "edited": false, "score": 0, "creation_date": 1548252237, "post_id": 54300627, "comment_id": 95475938, "body": "That&#39;s for the Editor, not for the IPython console, so your answer is incorrect."}], "tags": [], "owner": {"reputation": 1, "user_id": 4594137, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4655479858a1d2bcbdd6feeeed8d9bba?s=128&d=identicon&r=PG&f=1", "display_name": "user4594137", "link": "https://stackoverflow.com/users/4594137/user4594137"}, "is_accepted": false, "score": 0, "last_activity_date": 1548125682, "creation_date": 1548125682, "answer_id": 54300627, "question_id": 46574039, "link": "https://stackoverflow.com/questions/46574039/autoclosing-of-brackets-and-quotes-in-spyder-ipython-console/54300627#54300627", "title": "Autoclosing of brackets and quotes in Spyder IPython console?", "body": "<p>Please select the check boxes at</p>\n\n<p>Tools > Preferences > Editor > Advanced Settings</p>\n"}, {"comments": [{"owner": {"reputation": 910, "user_id": 3023715, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/b805a17f8a5875bb5c6bdf353210eeb0?s=128&d=identicon&r=PG&f=1", "display_name": "user3023715", "link": "https://stackoverflow.com/users/3023715/user3023715"}, "edited": false, "score": 0, "creation_date": 1588973910, "post_id": 58409880, "comment_id": 109117443, "body": "It works in Version 3.3.6 but I noticed there is a bug in version 3.2.6 where it&#39;s completely broken."}], "tags": [], "owner": {"reputation": 21, "user_id": 12225472, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mBTwf8crDyBn9N1I0cLvsLmf9u31w72GbF6jWLz_A=k-s128", "display_name": "Shahzain", "link": "https://stackoverflow.com/users/12225472/shahzain"}, "is_accepted": false, "score": 2, "last_activity_date": 1571217466, "creation_date": 1571217466, "answer_id": 58409880, "question_id": 46574039, "link": "https://stackoverflow.com/questions/46574039/autoclosing-of-brackets-and-quotes-in-spyder-ipython-console/58409880#58409880", "title": "Autoclosing of brackets and quotes in Spyder IPython console?", "body": "<p><a href=\"https://i.stack.imgur.com/AyOmP.png\" rel=\"nofollow noreferrer\">Click to see what to do</a></p>\n\n<p>Simply follow this:</p>\n\n<p>Go to Tools > Preferences > Editor > Advanced settings and tick the \"Automatic insertion of quotes\" option and click apply.</p>\n\n<p>It worked for me, hope it works for you too.</p>\n"}], "owner": {"reputation": 460, "user_id": 6832556, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/37f222f512d925b88880038d394a2aa7?s=128&d=identicon&r=PG&f=1", "display_name": "HMK", "link": "https://stackoverflow.com/users/6832556/hmk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2581, "favorite_count": 0, "answer_count": 3, "score": 4, "last_activity_date": 1571217466, "creation_date": 1507150588, "question_id": 46574039, "link": "https://stackoverflow.com/questions/46574039/autoclosing-of-brackets-and-quotes-in-spyder-ipython-console", "title": "Autoclosing of brackets and quotes in Spyder IPython console?", "body": "<p>How do I configure the IPython console in Spyder to auto-close brackets/braces/parens and quotes?</p>\n"}, {"tags": ["python", "discord"], "comments": [{"owner": {"reputation": 2496, "user_id": 8360823, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/--iRIbf8Fk8Y/AAAAAAAAAAI/AAAAAAAAAF8/1uBGGDxy7W0/photo.jpg?sz=128", "display_name": "Sam Rockett", "link": "https://stackoverflow.com/users/8360823/sam-rockett"}, "edited": false, "score": 0, "creation_date": 1507151146, "post_id": 46574021, "comment_id": 80101884, "body": "So are you just trying to read the section from a given start and end point? or are you trying to just choose from lines that match a given start and end?"}, {"owner": {"reputation": 2496, "user_id": 8360823, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/--iRIbf8Fk8Y/AAAAAAAAAAI/AAAAAAAAAF8/1uBGGDxy7W0/photo.jpg?sz=128", "display_name": "Sam Rockett", "link": "https://stackoverflow.com/users/8360823/sam-rockett"}, "edited": false, "score": 0, "creation_date": 1507151196, "post_id": 46574021, "comment_id": 80101916, "body": "also remember to close your files by either using <code>with open(...) as emailFile</code> or with <code>emailFile.close()</code>"}, {"owner": {"reputation": 27, "user_id": 8704043, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/631b51f37023ae4bf7c637608f2353cb?s=128&d=identicon&r=PG&f=1", "display_name": "Kaitlyn Wathen", "link": "https://stackoverflow.com/users/8704043/kaitlyn-wathen"}, "reply_to_user": {"reputation": 2496, "user_id": 8360823, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/--iRIbf8Fk8Y/AAAAAAAAAAI/AAAAAAAAAF8/1uBGGDxy7W0/photo.jpg?sz=128", "display_name": "Sam Rockett", "link": "https://stackoverflow.com/users/8360823/sam-rockett"}, "edited": false, "score": 0, "creation_date": 1507151360, "post_id": 46574021, "comment_id": 80101992, "body": "@squaswin ok so say there is a comma at the start and a comma at the end of a message in the txt file... I want for it to use the message in between the commas"}, {"owner": {"reputation": 601, "user_id": 8722421, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb42ec60f48b520c49ed48821b61f262?s=128&d=identicon&r=PG&f=1", "display_name": "Amiga500", "link": "https://stackoverflow.com/users/8722421/amiga500"}, "edited": false, "score": 0, "creation_date": 1507151440, "post_id": 46574021, "comment_id": 80102031, "body": "Would this link help? <a href=\"https://stackoverflow.com/questions/7559397/python-read-file-from-and-to-specific-lines-of-text\" title=\"python read file from and to specific lines of text\">stackoverflow.com/questions/7559397/&hellip;</a>"}, {"owner": {"reputation": 27, "user_id": 8704043, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/631b51f37023ae4bf7c637608f2353cb?s=128&d=identicon&r=PG&f=1", "display_name": "Kaitlyn Wathen", "link": "https://stackoverflow.com/users/8704043/kaitlyn-wathen"}, "reply_to_user": {"reputation": 601, "user_id": 8722421, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb42ec60f48b520c49ed48821b61f262?s=128&d=identicon&r=PG&f=1", "display_name": "Amiga500", "link": "https://stackoverflow.com/users/8722421/amiga500"}, "edited": false, "score": 0, "creation_date": 1507151855, "post_id": 46574021, "comment_id": 80102214, "body": "@Amiga500 do you know if that would work with multiple \u201cstart end\u201d statements in the file like to choose a random one from the file"}, {"owner": {"reputation": 2496, "user_id": 8360823, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/--iRIbf8Fk8Y/AAAAAAAAAAI/AAAAAAAAAF8/1uBGGDxy7W0/photo.jpg?sz=128", "display_name": "Sam Rockett", "link": "https://stackoverflow.com/users/8360823/sam-rockett"}, "edited": false, "score": 0, "creation_date": 1507152043, "post_id": 46574021, "comment_id": 80102305, "body": "Hmmm. If the commas are both start and end delimiters, then there is a really easy solution with <code>re</code>."}, {"owner": {"reputation": 27, "user_id": 8704043, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/631b51f37023ae4bf7c637608f2353cb?s=128&d=identicon&r=PG&f=1", "display_name": "Kaitlyn Wathen", "link": "https://stackoverflow.com/users/8704043/kaitlyn-wathen"}, "reply_to_user": {"reputation": 2496, "user_id": 8360823, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/--iRIbf8Fk8Y/AAAAAAAAAAI/AAAAAAAAAF8/1uBGGDxy7W0/photo.jpg?sz=128", "display_name": "Sam Rockett", "link": "https://stackoverflow.com/users/8360823/sam-rockett"}, "edited": false, "score": 0, "creation_date": 1507152103, "post_id": 46574021, "comment_id": 80102322, "body": "@squaswin that is exactly what I want... if you could make an answer for that I would be very appreciative"}], "answers": [{"comments": [{"owner": {"reputation": 27, "user_id": 8704043, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/631b51f37023ae4bf7c637608f2353cb?s=128&d=identicon&r=PG&f=1", "display_name": "Kaitlyn Wathen", "link": "https://stackoverflow.com/users/8704043/kaitlyn-wathen"}, "edited": false, "score": 0, "creation_date": 1507152907, "post_id": 46574526, "comment_id": 80102625, "body": "Not to sound like an idiot but where would I put this in reference to my program"}, {"owner": {"reputation": 2496, "user_id": 8360823, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/--iRIbf8Fk8Y/AAAAAAAAAAI/AAAAAAAAAF8/1uBGGDxy7W0/photo.jpg?sz=128", "display_name": "Sam Rockett", "link": "https://stackoverflow.com/users/8360823/sam-rockett"}, "reply_to_user": {"reputation": 27, "user_id": 8704043, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/631b51f37023ae4bf7c637608f2353cb?s=128&d=identicon&r=PG&f=1", "display_name": "Kaitlyn Wathen", "link": "https://stackoverflow.com/users/8704043/kaitlyn-wathen"}, "edited": false, "score": 0, "creation_date": 1507153260, "post_id": 46574526, "comment_id": 80102773, "body": "as long as you understand what its doing, you should just be able to drop it in as its own function and then you can either call it in the global scope <code>emails = load_file(emailFile)</code> or put it in the command function <code>msg = load_file(emailFile)</code>. The latter would mean that the file is reread every time the command is called, and therefore will update in real time"}, {"owner": {"reputation": 27, "user_id": 8704043, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/631b51f37023ae4bf7c637608f2353cb?s=128&d=identicon&r=PG&f=1", "display_name": "Kaitlyn Wathen", "link": "https://stackoverflow.com/users/8704043/kaitlyn-wathen"}, "edited": false, "score": 0, "creation_date": 1507159970, "post_id": 46574526, "comment_id": 80104778, "body": "discord.ext.commands.errors.CommandInvokeError: Command raised an exception: NameError: name &#39;emailFile&#39; is not defined ... But as you can see from my code it is."}, {"owner": {"reputation": 2496, "user_id": 8360823, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/--iRIbf8Fk8Y/AAAAAAAAAAI/AAAAAAAAAF8/1uBGGDxy7W0/photo.jpg?sz=128", "display_name": "Sam Rockett", "link": "https://stackoverflow.com/users/8360823/sam-rockett"}, "reply_to_user": {"reputation": 27, "user_id": 8704043, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/631b51f37023ae4bf7c637608f2353cb?s=128&d=identicon&r=PG&f=1", "display_name": "Kaitlyn Wathen", "link": "https://stackoverflow.com/users/8704043/kaitlyn-wathen"}, "edited": false, "score": 0, "creation_date": 1507160258, "post_id": 46574526, "comment_id": 80104818, "body": "Oh whoops, I didn&#39;t realise that <code>emailFile</code> was a file object while that function asks for a string filepath. Maybe there are some scoping issues going on in your command method. Try defining the filepath inside the command body instead of on the global scope."}, {"owner": {"reputation": 27, "user_id": 8704043, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/631b51f37023ae4bf7c637608f2353cb?s=128&d=identicon&r=PG&f=1", "display_name": "Kaitlyn Wathen", "link": "https://stackoverflow.com/users/8704043/kaitlyn-wathen"}, "edited": false, "score": 0, "creation_date": 1507161118, "post_id": 46574526, "comment_id": 80105017, "body": "i defined it in the command and i get this error: discord.ext.commands.errors.CommandInvokeError: Command raised an exception: TypeError: expected str, bytes or os.PathLike object, not _io.TextIOWrapper"}, {"owner": {"reputation": 27, "user_id": 8704043, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/631b51f37023ae4bf7c637608f2353cb?s=128&d=identicon&r=PG&f=1", "display_name": "Kaitlyn Wathen", "link": "https://stackoverflow.com/users/8704043/kaitlyn-wathen"}, "edited": false, "score": 0, "creation_date": 1507170484, "post_id": 46574526, "comment_id": 80107079, "body": "I think this explains why its giving me the error, but i dont know how to change the return at the end for your code <a href=\"https://stackoverflow.com/questions/43490993/python-write-then-read-file\" title=\"python write then read file\">stackoverflow.com/questions/43490993/&hellip;</a>"}], "tags": [], "owner": {"reputation": 2496, "user_id": 8360823, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/--iRIbf8Fk8Y/AAAAAAAAAAI/AAAAAAAAAF8/1uBGGDxy7W0/photo.jpg?sz=128", "display_name": "Sam Rockett", "link": "https://stackoverflow.com/users/8360823/sam-rockett"}, "is_accepted": true, "score": 0, "last_activity_date": 1507152611, "creation_date": 1507152611, "answer_id": 46574526, "question_id": 46574021, "link": "https://stackoverflow.com/questions/46574021/how-to-read-a-txt-file-by-where-a-specific-character-is/46574526#46574526", "title": "How To Read a txt File by Where A Specific Character Is", "body": "<p>As you've explained, you use comma (<code>,</code>) as a delimeter, so you can use <code>str.split()</code> to split the file into sections on the comma.</p>\n\n<pre><code>def load_file(fp):\n    with open(fp) as file:\n        content = file.read()\n    lines = content.split(\",\")\n    # Given \", hi ,\", this will return [\"\", \" hi \", \"\"]\n\n    # To clean the whitespace:\n    lines = [x.strip() for x in lines]\n    # To remove the empty start and end\n    lines = lines[1:-1]\n\n    # If your file is \", email 1 , email 2 , email 3 ,\n    # then you can return here, otherwise youll need to remove \n    # intermediate entries\n    lines = [l for i, l in enumerate(lines) if i % 2 == 0]\n\n    return lines\n</code></pre>\n\n<p>That last list comprehension spins off every line with an index number and keeps only the even ones.</p>\n"}], "owner": {"reputation": 27, "user_id": 8704043, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/631b51f37023ae4bf7c637608f2353cb?s=128&d=identicon&r=PG&f=1", "display_name": "Kaitlyn Wathen", "link": "https://stackoverflow.com/users/8704043/kaitlyn-wathen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 79, "favorite_count": 0, "accepted_answer_id": 46574526, "answer_count": 1, "score": 0, "last_activity_date": 1507152611, "creation_date": 1507150519, "question_id": 46574021, "link": "https://stackoverflow.com/questions/46574021/how-to-read-a-txt-file-by-where-a-specific-character-is", "title": "How To Read a txt File by Where A Specific Character Is", "body": "<p>I Have a code that reads a file and randomly chooses a line from that file and sends it through DMs as a discord bot. However, I want it to read a certain section of the txt file by which character the section starts and ends with.\nEx:                                                                             ,\nHi\n,</p>\n\n<p>This is the code I'm using that reads a random line and sends it through DM:</p>\n\n<pre><code>emailFile = open(\"C:/Users/jacob/Downloads/Spotify_premiums.txt\", \"r\")\nemails = []\nfor email in emailFile:\n    emails.append(email)\n\n@bot.command(pass_context = True)\n@commands.cooldown(1, 30, commands.BucketType.user)\n@commands.has_any_role(\"| Premium |\")\nasync def spotifypremium(ctx):\n    msg = emails\n    await bot.send_message(ctx.message.author, random.choice(msg))\n    await bot.send_message(ctx.message.channel, \"Alt Has Been Seen To Your DMs\")\n    await bot.purge_from(ctx.message.channel, limit=2)\n    await bot.send_message(ctx.message.author, \"Please Wait 30 Seconds Before Using This Command Again. If you do not wait the full time then you won't be sent an alt.\")\n</code></pre>\n"}, {"tags": ["python", "exception", "file-upload", "gitlab", "gitlab-api"], "comments": [{"owner": {"reputation": 1495, "user_id": 6805800, "user_type": "registered", "accept_rate": 87, "profile_image": "https://lh3.googleusercontent.com/-cyN0h9Zirp4/AAAAAAAAAAI/AAAAAAAAD94/64n1VqNQK50/photo.jpg?sz=128", "display_name": "Jonathan Porter", "link": "https://stackoverflow.com/users/6805800/jonathan-porter"}, "edited": false, "score": 0, "creation_date": 1507151480, "post_id": 46573982, "comment_id": 80102046, "body": "You&#39;re seeing an attribute error because the <code>project</code> module doesn&#39;t have any attribute named <code>upload_file</code>. You&#39;ll have to define the attribute by importing it explicitly."}, {"owner": {"reputation": 35, "user_id": 7508392, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-V75SWsTuo3o/AAAAAAAAAAI/AAAAAAAAABI/e_DsfakhWrI/photo.jpg?sz=128", "display_name": "Mohammed Shamma", "link": "https://stackoverflow.com/users/7508392/mohammed-shamma"}, "reply_to_user": {"reputation": 1495, "user_id": 6805800, "user_type": "registered", "accept_rate": 87, "profile_image": "https://lh3.googleusercontent.com/-cyN0h9Zirp4/AAAAAAAAAAI/AAAAAAAAD94/64n1VqNQK50/photo.jpg?sz=128", "display_name": "Jonathan Porter", "link": "https://stackoverflow.com/users/6805800/jonathan-porter"}, "edited": false, "score": 0, "creation_date": 1507153164, "post_id": 46573982, "comment_id": 80102736, "body": "Thanks! @JonathanPorter It looks like the documentation may have some inconsistencies.  I&#39;ve updated the attribute to project.upload() instead of project.upload_file() and it worked."}], "answers": [{"tags": [], "owner": {"reputation": 1495, "user_id": 6805800, "user_type": "registered", "accept_rate": 87, "profile_image": "https://lh3.googleusercontent.com/-cyN0h9Zirp4/AAAAAAAAAAI/AAAAAAAAD94/64n1VqNQK50/photo.jpg?sz=128", "display_name": "Jonathan Porter", "link": "https://stackoverflow.com/users/6805800/jonathan-porter"}, "is_accepted": true, "score": 1, "last_activity_date": 1507208372, "creation_date": 1507208372, "answer_id": 46586244, "question_id": 46573982, "link": "https://stackoverflow.com/questions/46573982/guidance-on-getting-the-python-gitlab-file-upload-sample-to-work/46586244#46586244", "title": "Guidance on getting the Python Gitlab file upload sample to work", "body": "<p>You're seeing an attribute error because the <code>project</code> module doesn't have any attribute named <code>upload_file</code>.</p>\n\n<p>Normally this means that it wasn't imported it explicitly (i.e. <code>import gl.upload_file</code>) but in this case <code>upload_file</code> simply didn't exist and <code>upload</code> was the correct method to use.</p>\n"}], "owner": {"reputation": 35, "user_id": 7508392, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-V75SWsTuo3o/AAAAAAAAAAI/AAAAAAAAABI/e_DsfakhWrI/photo.jpg?sz=128", "display_name": "Mohammed Shamma", "link": "https://stackoverflow.com/users/7508392/mohammed-shamma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 418, "favorite_count": 0, "accepted_answer_id": 46586244, "answer_count": 1, "score": 0, "last_activity_date": 1507208372, "creation_date": 1507150370, "last_edit_date": 1507153500, "question_id": 46573982, "link": "https://stackoverflow.com/questions/46573982/guidance-on-getting-the-python-gitlab-file-upload-sample-to-work", "title": "Guidance on getting the Python Gitlab file upload sample to work", "body": "<p>The following code sample is a modified version of what's found in the documentation at: <a href=\"http://python-gitlab.readthedocs.io/en/stable/gl_objects/projects.html#file-uploads\" rel=\"nofollow noreferrer\">http://python-gitlab.readthedocs.io/en/stable/gl_objects/projects.html#file-uploads</a>.  </p>\n\n<p>If you receive an AttributeError with a single key 'upload_file'. Then update the project.upload_file() attribute to project.upload(). </p>\n\n<p>Thanks to @JonathanPorter for help with this.</p>\n\n<pre><code>project = gl.projects.get('vogon/bypass')\nissue = project.issues.get(42)\ntry:\n    # note: use project.upload() not project.upload_file()\n    uploaded_file = project.upload(\"the_answer_to_life.txt\", \n        filedata=\"data\")\n    issue.notes.create({\n        \"body\": \"See the [attached file]\n            ({})\".format(uploaded_file[\"url\"])\n    })\nexcept Exception as e:\n    self.log.debug(e[0])\n</code></pre>\n"}, {"tags": ["python", "amazon-web-services", "boto3"], "comments": [{"owner": {"reputation": 107, "user_id": 7981991, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/d41ea8e28e6aaf25fcaed65256295123?s=128&d=identicon&r=PG&f=1", "display_name": "Mark Jones ", "link": "https://stackoverflow.com/users/7981991/mark-jones"}, "edited": false, "score": 1, "creation_date": 1507153806, "post_id": 46573977, "comment_id": 80102993, "body": "I figured out the answer but Boto3&#39;s documentation isn&#39;t clear so I thought I would leave the question up and put the answer in the comments to any other wandering poor vagrant souls:  Boto&#39;s filters on describe_tags() won&#39;t accept multiple filters of different types. You can do as many Name:&#39;key&#39; filters as you want, but resource-type, resource-id and other already named tags you can only choose 1 to filter by."}, {"owner": {"reputation": 4725, "user_id": 6077057, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/zgBIH.png?s=128&g=1", "display_name": "Kush Vyas", "link": "https://stackoverflow.com/users/6077057/kush-vyas"}, "edited": false, "score": 1, "creation_date": 1507187383, "post_id": 46573977, "comment_id": 80112383, "body": "Answer the question your self stating I found the solution , so that people can read , many do not read commend but a proper formatted answer will help all.  Thanks"}], "owner": {"reputation": 107, "user_id": 7981991, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/d41ea8e28e6aaf25fcaed65256295123?s=128&d=identicon&r=PG&f=1", "display_name": "Mark Jones ", "link": "https://stackoverflow.com/users/7981991/mark-jones"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 757, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1507152978, "creation_date": 1507150351, "last_edit_date": 1507152978, "question_id": 46573977, "link": "https://stackoverflow.com/questions/46573977/why-wont-my-boto3-filters-work-for-ec2-describe-tags", "title": "Why won&#39;t my boto3 filters work for ec2.describe_tags()", "body": "<p>The request works and returns the correct boto3 response syntax, but it contains tags from resource-type that is 'instance', 'volume' and others. It should only return tags from resource-type of 'volume'. It doesn't successfully only return tags with 'key' of 'Name'. </p>\n\n<pre><code>Filters=[\n    {\n        'Name':'resource-type',\n        'Values': [\n            'volume',\n        ],\n        'Name':'key',\n        'Values': [\n            'Name',\n        ],\n    },\n]\n\nclient = boto3.client('ec2', region, aws_access_key_id=aws_access_key_id, aws_secret_access_key=aws_secret_access_key)\ntags = client.describe_tags(Filters=Filters)\npprint(tags)\n</code></pre>\n"}, {"tags": ["python", "abaqus"], "answers": [{"comments": [{"owner": {"reputation": 6498, "user_id": 1004168, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c05e808436031bc45a7620adc236e3d?s=128&d=identicon&r=PG", "display_name": "agentp", "link": "https://stackoverflow.com/users/1004168/agentp"}, "edited": false, "score": 2, "creation_date": 1507165773, "post_id": 46574677, "comment_id": 80106100, "body": "note you can write this even more compactly using list comprehension  <code>E=[v.data for v in EE.values]</code> (maybe a little performance gain too)"}, {"owner": {"reputation": 2095, "user_id": 7038689, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ea19ae9f57b95d7abfeaa796650bd2d1?s=128&d=identicon&r=PG&f=1", "display_name": "Matt P", "link": "https://stackoverflow.com/users/7038689/matt-p"}, "edited": false, "score": 1, "creation_date": 1507219153, "post_id": 46574677, "comment_id": 80133074, "body": "Nice. BTW, this technique (also mentioned in the Abaqus Scripting User&#39;s Manual under &quot;Creating objects to hold temporary variables&quot;) can be used in any Python script where you would like to avoid repeated reconstructions of a sequence of objects."}, {"owner": {"reputation": 595, "user_id": 9983652, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-W7Yb8pu6G5M/AAAAAAAAAAI/AAAAAAAAAUM/UGR-Id9ofEE/photo.jpg?sz=128", "display_name": "roudan", "link": "https://stackoverflow.com/users/9983652/roudan"}, "edited": false, "score": 0, "creation_date": 1598118530, "post_id": 46574677, "comment_id": 112356241, "body": "Thanks Austin. That is a great technique. After saving it as pickle. next step is how to open and read this pickle file. Can you post your example. I am very interested in it."}], "tags": [], "owner": {"reputation": 733, "user_id": 4271553, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/gtjZd.jpg?s=128&g=1", "display_name": "Austin Downey", "link": "https://stackoverflow.com/users/4271553/austin-downey"}, "is_accepted": true, "score": 2, "last_activity_date": 1507153371, "creation_date": 1507153371, "answer_id": 46574677, "question_id": 46573959, "link": "https://stackoverflow.com/questions/46573959/accelerate-a-slow-loop-in-abaqus-python-code-for-extracting-strain-data-from-od/46574677#46574677", "title": "Accelerate a slow loop in Abaqus-python code for extracting strain data from .odb file", "body": "<p>I found out that I was having to reopen the subdirectories in the odb dictionary every time I wanted a strain. Therefore, to fix the problem I saved the odb object as a smaller object. My updated code that takes a fraction of a second to solve is below. </p>\n\n<pre><code>from odbAccess import openOdb\nimport pickle as pickle\n\n# import database\nodbname = 'plate2'\npath = './'\nmyodbpath = path + odbname + '.odb'\nodb = openOdb(myodbpath)\n\n# load the strain values into a list\nE = []\nEE = odb.steps['Step-1'].frames[0].fieldOutputs['E']\nfor i in range(1000):\n    E.append(EE.values[i].data)  \n\n# save the data\nwith open(\"mises.pickle\", \"wb\") as input_file:\n    pickle.dump(E, input_file)\n\nodb.close()\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 11838, "user_id": 4427777, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1106434f7517ac69aad09d2cf529d793?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel F", "link": "https://stackoverflow.com/users/4427777/daniel-f"}, "edited": false, "score": 0, "creation_date": 1508914484, "post_id": 46635434, "comment_id": 80798347, "body": "I&#39;ve encountered the strange performance of <code>bulkDataBlacks</code> as well, I&#39;ll see if <code>np.copy</code> improves things."}, {"owner": {"reputation": 5208, "user_id": 4045774, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c23c0c730b6a9cb71d1ce17838f2beb7?s=128&d=identicon&r=PG&f=1", "display_name": "max9111", "link": "https://stackoverflow.com/users/4045774/max9111"}, "reply_to_user": {"reputation": 11838, "user_id": 4427777, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1106434f7517ac69aad09d2cf529d793?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel F", "link": "https://stackoverflow.com/users/4427777/daniel-f"}, "edited": false, "score": 0, "creation_date": 1508933826, "post_id": 46635434, "comment_id": 80811230, "body": "I encountered no performance problems when using the bulkDataBlocks method. It should be much faster than the value method. I encountered problems when i reshape or slice the numpy array returned by the  bulkDataBlocks method. But with copiing the array everything should be OK."}, {"owner": {"reputation": 11838, "user_id": 4427777, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1106434f7517ac69aad09d2cf529d793?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel F", "link": "https://stackoverflow.com/users/4427777/daniel-f"}, "edited": false, "score": 0, "creation_date": 1508996093, "post_id": 46635434, "comment_id": 80840096, "body": "I meant more the random results from manipulating the <code>bulkDataBlocks</code>.  I hadn&#39;t thought of just copying the blocks elsewhere in memory."}], "tags": [], "owner": {"reputation": 5208, "user_id": 4045774, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c23c0c730b6a9cb71d1ce17838f2beb7?s=128&d=identicon&r=PG&f=1", "display_name": "max9111", "link": "https://stackoverflow.com/users/4045774/max9111"}, "is_accepted": false, "score": 2, "last_activity_date": 1507492628, "creation_date": 1507492628, "answer_id": 46635434, "question_id": 46573959, "link": "https://stackoverflow.com/questions/46573959/accelerate-a-slow-loop-in-abaqus-python-code-for-extracting-strain-data-from-od/46635434#46635434", "title": "Accelerate a slow loop in Abaqus-python code for extracting strain data from .odb file", "body": "<p>I would use bulkDataBlocks here. This is much faster than using the value method. Also using Pickle is usually slow and not necessary. Take a look in the C++ Manual <a href=\"http://abaqus.software.polimi.it/v6.14/books/ker/default.htm\" rel=\"nofollow noreferrer\">http://abaqus.software.polimi.it/v6.14/books/ker/default.htm</a> at the FieldBulkData object. The Python method is the same but at least in Abaqus 6.14 it is not documented in the Python-Scripting-Reference (it is available since 6.13).</p>\n\n<p>For example:</p>\n\n<pre><code>from odbAccess import openOdb\nimport numpy as np\n\n# import database\nodbname = 'plate2'\npath = './'\nmyodbpath = path + odbname + '.odb'\nodb = openOdb(myodbpath)\n\n# load the strain values into a numpy array\nEE = odb.steps['Step-1'].frames[0].fieldOutputs['E']\n\n# get a numpy array with your data \n# Not using np.copy here may work also, but sometimes I encountered some weird bugs\nStrains=np.copy(EE.bulkDataBlocks[0].data)\n\n# save the data\nnp.save('OutputPath',Strains)\n\nodb.close()\n</code></pre>\n\n<p>Keep in mind, that if you have multiple Element Types there may be more than one bulkDataBlock.</p>\n"}, {"tags": [], "owner": {"reputation": 11838, "user_id": 4427777, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1106434f7517ac69aad09d2cf529d793?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel F", "link": "https://stackoverflow.com/users/4427777/daniel-f"}, "is_accepted": false, "score": 2, "last_activity_date": 1508915534, "last_edit_date": 1508915534, "creation_date": 1508914704, "answer_id": 46925902, "question_id": 46573959, "link": "https://stackoverflow.com/questions/46573959/accelerate-a-slow-loop-in-abaqus-python-code-for-extracting-strain-data-from-od/46925902#46925902", "title": "Accelerate a slow loop in Abaqus-python code for extracting strain data from .odb file", "body": "<p>Little late to the party, but I find using <a href=\"https://docs.python.org/2/library/operator.html\" rel=\"nofollow noreferrer\"><code>operator.attrgetter</code></a> to be much faster than a <code>for</code> loop or list comprehension in this case</p>\n\n<p>So instead of @AustinDowney</p>\n\n<pre><code>E = []\nEE = odb.steps['Step-1'].frames[0].fieldOutputs['E']\nfor i in range(1000):\n    E.append(EE.values[i].data) \n</code></pre>\n\n<p>do this:</p>\n\n<pre><code>from operator import attrgetter\nEE = odb.steps['Step-1'].frames[0].fieldOutputs['E']\nE = map(attrgetter('data'), EE.values)\n</code></pre>\n\n<p>This is about the same speed as list comprehension, but is much better if you have multiple attributes you want to extract at once (say <code>coordinates</code> or <code>elementId</code>)</p>\n"}], "owner": {"reputation": 733, "user_id": 4271553, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/gtjZd.jpg?s=128&g=1", "display_name": "Austin Downey", "link": "https://stackoverflow.com/users/4271553/austin-downey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1757, "favorite_count": 4, "accepted_answer_id": 46574677, "answer_count": 3, "score": 3, "last_activity_date": 1614719025, "creation_date": 1507150273, "last_edit_date": 1579189845, "question_id": 46573959, "link": "https://stackoverflow.com/questions/46573959/accelerate-a-slow-loop-in-abaqus-python-code-for-extracting-strain-data-from-od", "title": "Accelerate a slow loop in Abaqus-python code for extracting strain data from .odb file", "body": "<p>I have a .odb file, named plate2.odb, that I want to extract the strain data from. To do this I built the simple code below that loops through the field output E (strain) for each element and saves it to a list. </p>\n\n<pre><code>from odbAccess import openOdb\nimport pickle as pickle\n\n# import database\nodbname = 'plate2'\npath = './'\nmyodbpath = path + odbname + '.odb'\nodb = openOdb(myodbpath)\n\n# load the strain values into a list\nE = []\nfor i in range(1000):\n    E.append(odb.steps['Step-1'].frames[0].fieldOutputs['E'].values[i].data)   \n\n# save the data\nwith open(\"mises.pickle\", \"wb\") as input_file:\n    pickle.dump(E, input_file)\n\nodb.close()\n</code></pre>\n\n<p>The issue is the for loop that loads the strain values into a list is taking a long time (35 seconds for 1000 elements). At this rate (0.035 queries/second), it would take me 2 hours to extract the data for my model with 200,000 elements. Why is this taking so long? How can I accelerate this? </p>\n\n<p>If I do a single strain query outside any Python loop it takes  0.04 seconds, so I know this is not an issue with the Python loop.</p>\n"}, {"tags": ["python", "python-2.7", "text", "difflib"], "answers": [{"tags": [], "owner": {"reputation": 345, "user_id": 6454901, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfd182be3a2aa9d571d21b62ab0ae74a?s=128&d=identicon&r=PG&f=1", "display_name": "DevBot", "link": "https://stackoverflow.com/users/6454901/devbot"}, "is_accepted": false, "score": 0, "last_activity_date": 1507151535, "creation_date": 1507151535, "answer_id": 46574263, "question_id": 46573923, "link": "https://stackoverflow.com/questions/46573923/python-find-similar-sequences-in-string/46574263#46574263", "title": "Python find similar sequences in string", "body": "<p>When we edit your code to this it will tell us where 6 is coming from:   </p>\n\n<pre><code>from difflib import SequenceMatcher\na='Apple Banana'\nb='Banana Apple'\ndef similar(a,b):\n    c = SequenceMatcher(None,a.lower(),b.lower()).get_matching_blocks()\n    for block in c:\n        print \"a[%d] and b[%d] match for %d elements\" % block\nprint similar(a,b)\n</code></pre>\n\n<blockquote>\n  <p>a[6] and b[0] match for 6 elements</p>\n  \n  <p>a[12] and b[12] match for 0 elements</p>\n</blockquote>\n"}, {"comments": [{"owner": {"reputation": 6626, "user_id": 4907913, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c2769a366bde01ddbf60008819e371c?s=128&d=identicon&r=PG&f=1", "display_name": "thewaywewere", "link": "https://stackoverflow.com/users/4907913/thewaywewere"}, "edited": false, "score": 0, "creation_date": 1507154585, "post_id": 46574366, "comment_id": 80103289, "body": "Tried to set <code>a=&#39;Apple Banana Orange&#39;</code> &amp; <code>b=&#39;Orange Banana Apple&#39;</code>, then get a result <code>13</code>?"}, {"owner": {"reputation": 2171, "user_id": 1190376, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/61970bb1278cba93a6060586f35241b0?s=128&d=identicon&r=PG", "display_name": "Antimony", "link": "https://stackoverflow.com/users/1190376/antimony"}, "reply_to_user": {"reputation": 6626, "user_id": 4907913, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c2769a366bde01ddbf60008819e371c?s=128&d=identicon&r=PG&f=1", "display_name": "thewaywewere", "link": "https://stackoverflow.com/users/4907913/thewaywewere"}, "edited": false, "score": 0, "creation_date": 1507157326, "post_id": 46574366, "comment_id": 80104168, "body": "I have updated my answer to handle more general cases, including the one that you mentioned. Thanks for pointing it out!"}, {"owner": {"reputation": 157, "user_id": 5045085, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-CjaEv7qLQ2Y/AAAAAAAAAAI/AAAAAAAAA2I/mlCHnHnaH8I/photo.jpg?sz=128", "display_name": "Mostafa Ghafoori", "link": "https://stackoverflow.com/users/5045085/mostafa-ghafoori"}, "edited": false, "score": 0, "creation_date": 1507161888, "post_id": 46574366, "comment_id": 80105225, "body": "if you move  sizes = [i.size for i in c]     i = sizes.index(max(sizes))  inside while loop it works better"}, {"owner": {"reputation": 2171, "user_id": 1190376, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/61970bb1278cba93a6060586f35241b0?s=128&d=identicon&r=PG", "display_name": "Antimony", "link": "https://stackoverflow.com/users/1190376/antimony"}, "edited": false, "score": 0, "creation_date": 1507163658, "post_id": 46574366, "comment_id": 80105627, "body": "Whoops! That was a mistake I made when copying the lines to SO. Thanks for the heads up. I&#39;ve updated my answer."}, {"owner": {"reputation": 823, "user_id": 374437, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/5Lakp.jpg?s=128&g=1", "display_name": "Veltzer Doron", "link": "https://stackoverflow.com/users/374437/veltzer-doron"}, "edited": false, "score": 0, "creation_date": 1601459573, "post_id": 46574366, "comment_id": 113412653, "body": "you should use get_longest_match and subtract that segment, instead"}], "tags": [], "owner": {"reputation": 2171, "user_id": 1190376, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/61970bb1278cba93a6060586f35241b0?s=128&d=identicon&r=PG", "display_name": "Antimony", "link": "https://stackoverflow.com/users/1190376/antimony"}, "is_accepted": true, "score": 0, "last_activity_date": 1507163681, "last_edit_date": 1507163681, "creation_date": 1507151991, "answer_id": 46574366, "question_id": 46573923, "link": "https://stackoverflow.com/questions/46573923/python-find-similar-sequences-in-string/46574366#46574366", "title": "Python find similar sequences in string", "body": "<p><a href=\"https://docs.python.org/2/library/difflib.html\" rel=\"nofollow noreferrer\"><code>get_matching_blocks()</code></a> returns the longest contiguous matching subsequence. Here the longest matching subsequence is 'banana' in both the strings, with length 6. Hence it is returning 6.</p>\n\n<p>Try this instead:</p>\n\n<pre><code>def similar(a,b):\n    c = 'something' # Initialize this to anything to make the while loop condition pass for the first time\n    sum = 0\n\n    while(len(c) != 1):\n        c = SequenceMatcher(lambda x: x == ' ',a.lower(),b.lower()).get_matching_blocks()\n\n        sizes = [i.size for i in c]\n        i = sizes.index(max(sizes))\n        sum += max(sizes)\n\n        a = a[0:c[i].a] + a[c[i].a + c[i].size:]\n        b = b[0:c[i].b] + b[c[i].b + c[i].size:]\n\n    return sum\n</code></pre>\n\n<p>This \"subtracts\" the matching part of the strings, and matches them again, until <code>len(c)</code> is 1, which would happen when there are no more matches left.</p>\n\n<p>However, this script doesn't ignore spaces. In order to do that, I used the suggestion from <a href=\"https://stackoverflow.com/questions/16431964/ignore-spaces-when-comparing-strings-in-python\">this other SO answer</a>: just preprocess the strings before you pass them to the function like so:</p>\n\n<pre><code>a = 'Apple Banana'.replace(' ', '')\nb = 'Banana Apple'.replace(' ', '')\n</code></pre>\n\n<p>You can include this part inside the function too.</p>\n"}, {"tags": [], "owner": {"reputation": 157, "user_id": 5045085, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-CjaEv7qLQ2Y/AAAAAAAAAAI/AAAAAAAAA2I/mlCHnHnaH8I/photo.jpg?sz=128", "display_name": "Mostafa Ghafoori", "link": "https://stackoverflow.com/users/5045085/mostafa-ghafoori"}, "is_accepted": false, "score": 0, "last_activity_date": 1507161833, "creation_date": 1507161833, "answer_id": 46575945, "question_id": 46573923, "link": "https://stackoverflow.com/questions/46573923/python-find-similar-sequences-in-string/46575945#46575945", "title": "Python find similar sequences in string", "body": "<p>I made a small change to your code and it is working like a charm, thanks @Antimony</p>\n\n<pre><code>def similar(a,b):\n    a=a.replace(' ', '')\n    b=b.replace(' ', '')\n\n    c = 'something' # Initialize this to anything to make the while loop condition pass for the first time\n    sum = 0\n    i = 2\n    while(len(c) != 1):\n        c = SequenceMatcher(lambda x: x == ' ',a.lower(),b.lower()).get_matching_blocks()\n        sizes = [i.size for i in c]\n        i = sizes.index(max(sizes))\n        sum += max(sizes)\n        a = a[0:c[i].a] + a[c[i].a + c[i].size:]\n        b = b[0:c[i].b] + b[c[i].b + c[i].size:]\n    return sum\n</code></pre>\n"}], "owner": {"reputation": 157, "user_id": 5045085, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-CjaEv7qLQ2Y/AAAAAAAAAAI/AAAAAAAAA2I/mlCHnHnaH8I/photo.jpg?sz=128", "display_name": "Mostafa Ghafoori", "link": "https://stackoverflow.com/users/5045085/mostafa-ghafoori"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 592, "favorite_count": 1, "accepted_answer_id": 46574366, "answer_count": 3, "score": 0, "last_activity_date": 1507163681, "creation_date": 1507150135, "question_id": 46573923, "link": "https://stackoverflow.com/questions/46573923/python-find-similar-sequences-in-string", "title": "Python find similar sequences in string", "body": "<p>I want a code to return sum of all similar sequences in two string. I wrote the following code but it only returns one of them</p>\n\n<pre><code>from difflib import SequenceMatcher\na='Apple Banana'\nb='Banana Apple'\ndef similar(a,b):\n    c = SequenceMatcher(None,a.lower(),b.lower()).get_matching_blocks()\n    return sum( [c[i].size if c[i].size&gt;1 else 0 for i in range(0,len(c)) ] )\nprint similar(a,b)\n</code></pre>\n\n<p>and the output will be </p>\n\n<pre><code>6\n</code></pre>\n\n<p>I expect it to be: 11</p>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 30485, "user_id": 1222951, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/s64JD.png?s=128&g=1", "display_name": "Aran-Fey", "link": "https://stackoverflow.com/users/1222951/aran-fey"}, "edited": false, "score": 0, "creation_date": 1507150067, "post_id": 46573893, "comment_id": 80101370, "body": "I don&#39;t think the <code>python-requests</code> tag is necessary?"}, {"owner": {"reputation": 1, "user_id": 6058178, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c6e1fe5ed371e8b2f64bae5a9a03dce0?s=128&d=identicon&r=PG&f=1", "display_name": "Yang Lu", "link": "https://stackoverflow.com/users/6058178/yang-lu"}, "reply_to_user": {"reputation": 30485, "user_id": 1222951, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/s64JD.png?s=128&g=1", "display_name": "Aran-Fey", "link": "https://stackoverflow.com/users/1222951/aran-fey"}, "edited": false, "score": 0, "creation_date": 1507150725, "post_id": 46573893, "comment_id": 80101670, "body": "I suppose not. One of the methods that I tried to import classes imported the class successfully, but broke my mock, and I originally geared this question towards how to import my class in general, before rewriting it to specifically ask about my current solution.  That&#39;s one thing I hope people can keep in mind before suggesting any hacky ways to import it instead (if that&#39;s what&#39;s breaking it), that I did have problems with imports."}], "owner": {"reputation": 1, "user_id": 6058178, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c6e1fe5ed371e8b2f64bae5a9a03dce0?s=128&d=identicon&r=PG&f=1", "display_name": "Yang Lu", "link": "https://stackoverflow.com/users/6058178/yang-lu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 19, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1507150075, "creation_date": 1507149990, "last_edit_date": 1507150075, "question_id": 46573893, "link": "https://stackoverflow.com/questions/46573893/unittest-is-not-running-my-tests-after-reorganising-file-structure", "title": "unittest is not running my tests after reorganising file structure", "body": "<p>Here is my structure:</p>\n\n<pre><code>directory/\n      __init__.py (blank)\n      myClass.py\n      test/\n             UnitTest.py\n             IntegrationTest.py\n             __init__.py (blank)\n</code></pre>\n\n<p>Let's use UnitTest as the example (both of them result in 0 tests). Feel free to critique my imports, I was fiddling around with it forever to import the class correctly so I can execute the UnitTest script. Also yes, I did copy a lot of code from other stack exchange questions in my search.</p>\n\n<p>Before I moved to this structure, I had everything in one directory, so I know the test file works (outside of the imports)</p>\n\n<pre><code>import sys\nfrom pathlib import Path\n\nif __name__ == '__main__' and __package__ is None:\n    file = Path(__file__).resolve()\n    parent, top = file.parent, file.parents[2]\n\n    sys.path.append(str(top))\n    try:\n        sys.path.remove(str(parent))\n    except ValueError: # Already removed\n        pass\n\n    import directory.test\n    __package__ = 'directory.test'\n\nfrom myClass import myClass\nimport unittest\nfrom unittest import mock\n\nprint(\"Running Unit Tests...\")\nmc = myClass(params)\n\ndef mockingResponse(*args, **kwargs):\n    class MockResponse:\n        def __init__(self, json_data, status_code):\n            self.json_data = json_data\n            self.status_code = status_code\n\n        def json(self):\n            return self.json_data\n\n    #if/elses that return value\n\n@mock.patch('myClass.requests.get', side_effect = mockingResponse)\n\nclass unitTest(unittest.TestCase):\n    print(\"this should run before test call\")\n    def testsomefunc():\n        response = mc.somefunc()\n        differenceSet = set(response) ^ set(mockrespose from if/elses)\n        assert len(differenceSet) == 0\n    def testotherfunc():\n        #7 tests in total, same layout, different mockresponse\n\nprint(\"is this actually running\")\nunittest.main()\n</code></pre>\n\n<p>Then I get this in terminal:</p>\n\n<pre><code>privacy:~/git/directory$ python3 -m test.UnitTest.py \nRunning Unit Tests...\nthis should run before test call\nis this actually running\n\n----------------------------------------------------------------------\nRan 0 tests in 0.000s\n\nOK\n</code></pre>\n\n<p>Checking online, I know it's not the issue of not having my names start with test and it's not because I have it indented wrong. Can't find much else in my search.</p>\n\n<p>My only other thought is that it might be because I ran it as a module, but if I don't I have more problems with importing myClass. Of the many solutions I've tried for importing, this is the only one that has worked thus far.</p>\n"}, {"tags": ["python", "iterator", "anagram"], "answers": [{"tags": [], "owner": {"reputation": 169, "user_id": 7449967, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-44DpQkzhx8Q/AAAAAAAAAAI/AAAAAAAACc8/wEjqJzMC9UE/photo.jpg?sz=128", "display_name": "matusf", "link": "https://stackoverflow.com/users/7449967/matusf"}, "is_accepted": true, "score": 1, "last_activity_date": 1507154041, "creation_date": 1507154041, "answer_id": 46574766, "question_id": 46573872, "link": "https://stackoverflow.com/questions/46573872/how-to-continue-iteration-through-code/46574766#46574766", "title": "How to continue iteration through code", "body": "<p>If I understand it right and your function takes a list of strings as parameters, you can find anagrams by this function:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>from collections import Counter\n\n\ndef find_anagrams(words):\n    for i in range(len(words)):\n        for j in range(i + 1, len(words)):\n            if (Counter(words[i]) == Counter(words[j]) and \n                words[i] != words[j]):\n                print('Anagrams:', words[i], words[j])\n</code></pre>\n\n<p>It will check every word with every other word in the list, excluding the same ones.</p>\n\n<p>It will produce the following ouput with these parameters:</p>\n\n<pre><code>words = ['aab', 'baa', 'abc', 'cba', 'abcd', 'abbd', 'aba']\nfind_anagrams(words)\n</code></pre>\n\n\n\n<pre><code>&gt;&gt;&gt; Anagrams: aab baa\n&gt;&gt;&gt; Anagrams: aab aba\n&gt;&gt;&gt; Anagrams: baa aba\n&gt;&gt;&gt; Anagrams: abc cba\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 8722751, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6398d6b090e1d95f531021e98ba8c22?s=128&d=identicon&r=PG&f=1", "display_name": "Kadify", "link": "https://stackoverflow.com/users/8722751/kadify"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "accepted_answer_id": 46574766, "answer_count": 1, "score": 0, "last_activity_date": 1518452635, "creation_date": 1507149948, "last_edit_date": 1518452635, "question_id": 46573872, "link": "https://stackoverflow.com/questions/46573872/how-to-continue-iteration-through-code", "title": "How to continue iteration through code", "body": "<pre><code>from collections import Counter\nimport re\ndef find_anagrams(a):\n    A=set((a))\n    B=str(A)\n    C=sorted((A))\n    D=range(0,len(C))\n\n\n    for i in D:\n\n        if Counter(C[i]) == Counter(C[i+1]):\n            print((C[i]),C[i+1])\n            return 'These are anagrams'\n</code></pre>\n\n<p>I'm trying to create a code that checks for an anagram but I can't figure out how to make the iterator loop after getting the first correct match. I've tried using <code>continue</code> but that didn't seem to work. I feel like this is a simple fix but I've been working on it for the past hour and can't seem to figure it out. </p>\n"}, {"tags": ["python", "generator"], "comments": [{"owner": {"reputation": 36413, "user_id": 2301450, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/4xgoZ.png?s=128&g=1", "display_name": "vaultah", "link": "https://stackoverflow.com/users/2301450/vaultah"}, "edited": false, "score": 7, "creation_date": 1507149988, "post_id": 46573871, "comment_id": 80101331, "body": "Because <code>print</code> returns <code>None</code>, a falsey value."}, {"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1507150192, "post_id": 46573871, "comment_id": 80101438, "body": "What were you expecting would happen?"}], "answers": [{"tags": [], "owner": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "is_accepted": false, "score": 3, "last_activity_date": 1507150124, "creation_date": 1507150124, "answer_id": 46573918, "question_id": 46573871, "link": "https://stackoverflow.com/questions/46573871/calling-any-on-a-generator-with-print-inside-it-produces-unexpected-behaviou/46573918#46573918", "title": "Calling any() on a generator with print() inside it produces unexpected behaviour", "body": "<p>The function <code>print()</code> returns <code>None</code>. Consider this:</p>\n\n<pre><code>&gt;&gt;&gt; gen = (print(i) for i in range(10))\n&gt;&gt;&gt; list(gen)\n0\n1\n2\n3\n4\n5\n6\n7\n8\n9\n[None, None, None, None, None, None, None, None, None, None]\n</code></pre>\n\n<p>You can see that the generator returns <code>None</code> for each iteration.</p>\n\n<p><code>any()</code> runs until it finds a truthy value. Since <code>None</code> is never truthy, <code>any()</code> runs to completion.</p>\n\n<p>You can salvage your original code by ensuring that the generator returns the intended value for each iteration:</p>\n\n<pre><code>&gt;&gt;&gt; gen = (print(i) or i for i in range(10))\n&gt;&gt;&gt; next(gen)\n0\n0\n&gt;&gt;&gt; next(gen)\n1\n1\n&gt;&gt;&gt; any(gen)\n2\nTrue\n</code></pre>\n"}], "owner": {"reputation": 110, "user_id": 4496684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5WbEL.png?s=128&g=1", "display_name": "Mac Chaffee", "link": "https://stackoverflow.com/users/4496684/mac-chaffee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 29, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1507155586, "creation_date": 1507149942, "last_edit_date": 1507155586, "question_id": 46573871, "link": "https://stackoverflow.com/questions/46573871/calling-any-on-a-generator-with-print-inside-it-produces-unexpected-behaviou", "title": "Calling any() on a generator with print() inside it produces unexpected behaviour", "body": "<p><code>any</code> is supposed to short-circuit once it finds a single truthy value in any iterable (whether that's an iterator, generator, list, etc.)</p>\n\n<p>For normal generators, this is true:</p>\n\n<pre><code>Python 3.6.2 (v3.6.2:5fd33b5, Jul  8 2017, 04:14:34) [MSC v.1900 32 bit (Intel)] on win32  \nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n&gt;&gt;&gt; gen = (i for i in range(100))\n&gt;&gt;&gt; gen\n&lt;generator object &lt;genexpr&gt; at 0x0341A360&gt;\n&gt;&gt;&gt; next(gen)\n0                         \n&gt;&gt;&gt; next(gen)\n1   \n&gt;&gt;&gt; any(gen)\nTrue                                                                                       \n&gt;&gt;&gt; next(gen)\n3                                      \n&gt;&gt;&gt;\n</code></pre>\n\n<p>If you create a generate that includes <code>print</code> in it, <code>any</code> DOES NOT short-circuit:</p>\n\n<pre><code>&gt;&gt;&gt; gen = (print(i) for i in range(100))\n&gt;&gt;&gt; next(gen)\n0\n&gt;&gt;&gt; next(gen)\n1\n&gt;&gt;&gt; any(gen)\n2\n3\n4\n5\n6\n7\n8\n9\n...\n</code></pre>\n\n<p>Why does adding <code>print</code> prevent <code>any</code> from short-circuiting?                                                                    </p>\n"}, {"tags": ["python", "firebase-realtime-database"], "comments": [{"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1507150275, "post_id": 46573846, "comment_id": 80101476, "body": "Can you add the full traceback?"}, {"owner": {"reputation": 955, "user_id": 2012422, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa63e9919136deb873c55bd717ac4c96?s=128&d=identicon&r=PG", "display_name": "matias elgart", "link": "https://stackoverflow.com/users/2012422/matias-elgart"}, "edited": false, "score": 0, "creation_date": 1507150619, "post_id": 46573846, "comment_id": 80101620, "body": "i think your code has some variable scoping issues, specifically the code after (and including):     self.sse = ClosableSSEClient(URL)"}, {"owner": {"reputation": 1133, "user_id": 6283073, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/c7ae026b1a93bc8fadfb78934acdd2b7?s=128&d=identicon&r=PG&f=1", "display_name": "e.iluf", "link": "https://stackoverflow.com/users/6283073/e-iluf"}, "reply_to_user": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1507150811, "post_id": 46573846, "comment_id": 80101716, "body": "@cricket_007 I have added the traceback"}, {"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1507159827, "post_id": 46573846, "comment_id": 80104752, "body": "Well, the solution would require reading the constructor  of the SSEClient class. I don&#39;t know what session and build_headers refer to, but positional arguments would need you need to add them with the URL"}, {"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1507159968, "post_id": 46573846, "comment_id": 80104777, "body": "Anyways, what&#39;s the goal here? The Python admin sdk can query Firebase database"}, {"owner": {"reputation": 1133, "user_id": 6283073, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/c7ae026b1a93bc8fadfb78934acdd2b7?s=128&d=identicon&r=PG&f=1", "display_name": "e.iluf", "link": "https://stackoverflow.com/users/6283073/e-iluf"}, "reply_to_user": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1507170602, "post_id": 46573846, "comment_id": 80107102, "body": "@cricket_007 I want to add a listener to a node using python and I have not be able to figure it out."}, {"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1507178356, "post_id": 46573846, "comment_id": 80108861, "body": "I see. And you need raw sockets for that? Firebase has an official python sdk, though no realtime listeners. <a href=\"https://firebase.google.com/docs/admin/setup\" rel=\"nofollow noreferrer\">firebase.google.com/docs/admin/setup</a> There are also <code>pyrebase</code> and <code>python-firebase</code> libraries"}], "owner": {"reputation": 1133, "user_id": 6283073, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/c7ae026b1a93bc8fadfb78934acdd2b7?s=128&d=identicon&r=PG&f=1", "display_name": "e.iluf", "link": "https://stackoverflow.com/users/6283073/e-iluf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 513, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1507153963, "creation_date": 1507149807, "last_edit_date": 1507153963, "question_id": 46573846, "link": "https://stackoverflow.com/questions/46573846/firebase-typeerror-init-missing-2-required-positional-arguments-session", "title": "firebase TypeError: __init__() missing 2 required positional arguments: &#39;session&#39; and &#39;build_headers&#39;", "body": "<p>I am just starting to learn python and firebase. I want to set a listener to a node in firebase. the node is in </p>\n\n<p><a href=\"https://database.firebaseio.com/NSN\" rel=\"nofollow noreferrer\">https://database.firebaseio.com/NSN</a></p>\n\n<p>so I was looking through this tutorial</p>\n\n<p><a href=\"https://github.com/firebase/EventSource-Examples/blob/master/python/chat.py\" rel=\"nofollow noreferrer\">https://github.com/firebase/EventSource-Examples/blob/master/python/chat.py</a></p>\n\n<p>based on the above tutorial I came up with this code </p>\n\n<pre><code>URL =\"https://database.firebaseio.com/Missing NSN.json\"\n\n\nclass ClosableSSEClient(SSEClient):\n    \"\"\"\n    Hack in some closing functionality on top of the SSEClient\n    \"\"\"\n\n    def __init__(self, *args, **kwargs):\n        self.should_connect = True\n        super(ClosableSSEClient, self).__init__(*args, **kwargs)\n\n    def _connect(self):\n        if self.should_connect:\n            super(ClosableSSEClient, self)._connect()\n        else:\n            raise StopIteration()\n\n    def close(self):\n        self.should_connect = False\n        self.retry = 0\n        # HACK: dig through the sseclient library to the requests library down to the underlying socket.\n        # then close that to raise an exception to get out of streaming. I should probably file an issue w/ the\n        # requests library to make this easier\n        self.resp.raw._fp.fp._sock.shutdown(socket.SHUT_RDWR)\n        self.resp.raw._fp.fp._sock.close()\n\n\n    self.sse = ClosableSSEClient(URL)\n    for msg in self.sse:\n        msg_data = json.loads(msg.data)\n        if msg_data is None:    # keep-alives\n           continue\n           path = msg_data['path']\n           data = msg_data['data']\n           if path == '/':\n           # initial update\n              if data:\n                  keys = data.keys()\n                  keys.sort()\n                  print(keys)\n                  for k in keys:\n                      self.message_queue.put(data[k])\n           else:\n               self.message_queue.put(data)\n</code></pre>\n\n<p>when i run this script i get this error </p>\n\n<pre><code>&gt;&gt;  Traceback (most recent call last):\nFile \"NSNListener.py\", line 96, in &lt;module&gt;\nself.sse = ClosableSSEClient(URL)\nFile \"NSNListener.py\", line 78, in __init__\nsuper(ClosableSSEClient, self).__init__(*args, **kwargs)\nTypeError: __init__() missing 2 required positional arguments: 'session' and 'build_headers'   \nTypeError: __init__() missing 2 required positional arguments: 'session' and 'build_headers'\n</code></pre>\n\n<p>how can I fix this ?</p>\n"}, {"tags": ["python", "python-3.x", "function", "matplotlib"], "comments": [{"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 1, "creation_date": 1507149798, "post_id": 46573766, "comment_id": 80101236, "body": "SO does not understand tex markup. Please rewrite your expression."}, {"owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 3, "creation_date": 1507150583, "post_id": 46573766, "comment_id": 80101608, "body": "You do realize this is not a tutorial-request page, right? See <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>. Ask one specific question at a time, clearly state the problem. Here you present a task, like &quot;Grab the apple&quot;. As long as we don&#39;t know what problem you have grabbing the apple, this question seems a lot like &quot;I&#39;m too lazy to grab the apple myself, please put it in my mouth.&quot;, which is clearly off-topic here. Instead, if you share what you have tried already, we can see where the problem comes from and help you out."}, {"owner": {"reputation": 95, "user_id": 8613859, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1d7f30fd7253208bd7c82df29a9cbdc7?s=128&d=identicon&r=PG&f=1", "display_name": "Joey", "link": "https://stackoverflow.com/users/8613859/joey"}, "edited": false, "score": 0, "creation_date": 1507204570, "post_id": 46573766, "comment_id": 80122804, "body": "I have edited my question, please have a look."}, {"owner": {"reputation": 10593, "user_id": 4621513, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/uCfJK.png?s=128&g=1", "display_name": "mkrieger1", "link": "https://stackoverflow.com/users/4621513/mkrieger1"}, "edited": false, "score": 0, "creation_date": 1507204937, "post_id": 46573766, "comment_id": 80123040, "body": "Can you describe what you expect to happen, and what happens instead?"}, {"owner": {"reputation": 45920, "user_id": 4996248, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/IUaWZ.jpg?s=128&g=1", "display_name": "John Coleman", "link": "https://stackoverflow.com/users/4996248/john-coleman"}, "edited": false, "score": 0, "creation_date": 1507204971, "post_id": 46573766, "comment_id": 80123064, "body": "Your <code>C_series</code> should involve <code>sum</code>, no? <code>C_func(n)</code> also looks suspicious -- why are you feeding the number <code>0</code> (which is what <code>n</code> is) to <code>C_func()</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 45920, "user_id": 4996248, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/IUaWZ.jpg?s=128&g=1", "display_name": "John Coleman", "link": "https://stackoverflow.com/users/4996248/john-coleman"}, "edited": false, "score": 0, "creation_date": 1507208302, "post_id": 46586080, "comment_id": 80125313, "body": "+1, though that graph isn&#39;t very helpful. These are Taylor polynomials which approximate <code>cos(x)</code> near <code>x=0</code>. You can&#39;t even see the region of good approximation since you are mostly plotting where the approximation breaks down. On the other hand, it is OP&#39;s homework problem so they can tweak the plot range if they want."}, {"owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "reply_to_user": {"reputation": 45920, "user_id": 4996248, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/IUaWZ.jpg?s=128&g=1", "display_name": "John Coleman", "link": "https://stackoverflow.com/users/4996248/john-coleman"}, "edited": false, "score": 0, "creation_date": 1507208686, "post_id": 46586080, "comment_id": 80125602, "body": "The OP of the question is: <i>I am tasked with plotting C for k = [2, 4, 6, 8, 10] for x in range [-3pi, 3pi].</i>"}, {"owner": {"reputation": 45920, "user_id": 4996248, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/IUaWZ.jpg?s=128&g=1", "display_name": "John Coleman", "link": "https://stackoverflow.com/users/4996248/john-coleman"}, "edited": false, "score": 0, "creation_date": 1507211463, "post_id": 46586080, "comment_id": 80127843, "body": "Yes -- but the problem is the y-range of the plot. The range that the plot function picks isn&#39;t good. The relevant part of the graph is the part that is between y = -1 and y = 1 (so plotting from e.g. y = -2 to y = 1 might be maximally informative since it will indicate where the polynomials start diverging from <code>cos(x)</code>."}, {"owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "reply_to_user": {"reputation": 45920, "user_id": 4996248, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/IUaWZ.jpg?s=128&g=1", "display_name": "John Coleman", "link": "https://stackoverflow.com/users/4996248/john-coleman"}, "edited": false, "score": 0, "creation_date": 1507259114, "post_id": 46586080, "comment_id": 80147814, "body": "Of course, that is correct from the point of view of mathematical analysis, but as a programmer I only consider the requirement of the author, those who use the code to analyze their properties will have their criteria. :P"}], "tags": [], "owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "is_accepted": true, "score": 3, "last_activity_date": 1507208612, "last_edit_date": 1507208612, "creation_date": 1507207881, "answer_id": 46586080, "question_id": 46573766, "link": "https://stackoverflow.com/questions/46573766/how-to-plot-a-summation-with-two-variables-in-python-3/46586080#46586080", "title": "How to plot a summation with two variables in Python 3", "body": "<p>x and k must be the input of your function, to simplify the task we create a mesh with meshgrid and then add in one direction and we will obtain the profile of the curve for each k.</p>\n\n<pre><code>import numpy as np\nimport matplotlib.pyplot as plt\nimport math \nfrom scipy import misc\n\n\ndef C_series(x, k):\n    n = np.arange(k)\n    X, N = np.meshgrid(x, n)\n    val =(((-1)**N)*X**(2*N)) / misc.factorial(2*N)\n    return np.sum(val, axis=0)\n\nx0 = -3*math.pi\nxf= 3*math.pi\n\nx = np.linspace(x0, xf, 100)\n\nplt.plot(x, np.cos(x))    \nfor k in [2, 4, 6, 8, 10]:\n    plt.plot(x, C_series(x, k), label=str(k))\n\nplt.show()\n</code></pre>\n\n<p>Screenshot:</p>\n\n<p><a href=\"https://i.stack.imgur.com/j6BFG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/j6BFG.png\" alt=\"enter image description here\"></a></p>\n\n<p>for <code>x0 = -1</code> and <code>xf= 1</code></p>\n\n<p><a href=\"https://i.stack.imgur.com/rtAgn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rtAgn.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 95, "user_id": 8613859, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1d7f30fd7253208bd7c82df29a9cbdc7?s=128&d=identicon&r=PG&f=1", "display_name": "Joey", "link": "https://stackoverflow.com/users/8613859/joey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2438, "favorite_count": 0, "accepted_answer_id": 46586080, "answer_count": 1, "score": 0, "last_activity_date": 1507208612, "creation_date": 1507149481, "last_edit_date": 1507204545, "question_id": 46573766, "link": "https://stackoverflow.com/questions/46573766/how-to-plot-a-summation-with-two-variables-in-python-3", "title": "How to plot a summation with two variables in Python 3", "body": "<p>I would like to make a function and use pyplot to plot it nicely.<br>\nThe function it self looks like this: </p>\n\n<p><a href=\"https://i.stack.imgur.com/YD8xy.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YD8xy.gif\" alt=\"enter image description here\"></a></p>\n\n<p>I am tasked with plotting C for k = [2, 4, 6, 8, 10] for x in range [-3pi, 3pi].\nI also want to plot cos(x) in the same window. </p>\n\n<p>Is there also a way to animate this?</p>\n\n<p>my code so far is :</p>\n\n<pre><code>import numpy as np\nimport matplotlib.pyplot as plt\nimport math \nn=0;\ndef C_series(n):\n    return (((-1)**n)*x**(2*n)) / math.factorial(2*n)\n\nC_func = np.vectorize(C_series)\nx = np.arange(-3*math.pi, 3*math.pi, 5.0)\nk = np.arange(2, 10, 2)\nT = C_func(n)\nplt.plot(T, k)\n</code></pre>\n\n<p>can anyone give me any pointers as to what I am doing wrong?\nI did not mean for this to be a tutorial, and I got some harsh comment, but I hope that now I am trying to grab the apple.</p>\n"}, {"tags": ["python", "while-loop", "pygame"], "comments": [{"owner": {"reputation": 18103, "user_id": 6220679, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LK4H1.png?s=128&g=1", "display_name": "skrx", "link": "https://stackoverflow.com/users/6220679/skrx"}, "edited": false, "score": 2, "creation_date": 1507150336, "post_id": 46573765, "comment_id": 80101505, "body": "I can&#39;t reproduce the error (I&#39;ve only replaced the images with <code>pygame.Surface</code>s) and the program seems to work correctly. What exactly happens when you run the game? Does the window get closed immediately or do you have to press a key first? How do you run the game? Do you see any error messages?"}, {"owner": {"reputation": 61, "user_id": 6205507, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/3138a7b393093595957333902250bdcb?s=128&d=identicon&r=PG", "display_name": "Sir Rage", "link": "https://stackoverflow.com/users/6205507/sir-rage"}, "reply_to_user": {"reputation": 18103, "user_id": 6220679, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LK4H1.png?s=128&g=1", "display_name": "skrx", "link": "https://stackoverflow.com/users/6220679/skrx"}, "edited": false, "score": 0, "creation_date": 1507191390, "post_id": 46573765, "comment_id": 80114602, "body": "Well if i run the game like it is right now it works only if this: SCENE.blit(enemy, enemyPos) stays as a comment, otherwise the While loop breaks at this location. For some reason."}, {"owner": {"reputation": 61, "user_id": 6205507, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/3138a7b393093595957333902250bdcb?s=128&d=identicon&r=PG", "display_name": "Sir Rage", "link": "https://stackoverflow.com/users/6205507/sir-rage"}, "reply_to_user": {"reputation": 18103, "user_id": 6220679, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LK4H1.png?s=128&g=1", "display_name": "skrx", "link": "https://stackoverflow.com/users/6220679/skrx"}, "edited": false, "score": 0, "creation_date": 1507200218, "post_id": 46573765, "comment_id": 80120156, "body": "I found the solution there was a TAB space hidden before the SCENE and that was the problem. Thank you for your help anyway!"}], "owner": {"reputation": 61, "user_id": 6205507, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/3138a7b393093595957333902250bdcb?s=128&d=identicon&r=PG", "display_name": "Sir Rage", "link": "https://stackoverflow.com/users/6205507/sir-rage"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 47, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1507149476, "creation_date": 1507149476, "question_id": 46573765, "link": "https://stackoverflow.com/questions/46573765/python-pygame-my-while-loop-breaks-before-it-ends-and-i-dont-kno-how-to-fix-it", "title": "Python, Pygame, my while loop breaks before it ends and i dont kno how to fix it", "body": "<p>Im working on a school project on a motion projectile but my while loop breaks before it ends.</p>\n\n<pre><code>import pygame, sys\nfrom pygame.locals import *\nfrom math import *\n\ndef rot_center(image, center_angle):\n    orig_rect = image.get_rect()\n    rot_image = pygame.transform.rotate(image, center_angle)\n    rot_rect = orig_rect.copy()\n    rot_rect.center = rot_image.get_rect().center\n    rot_image = rot_image.subsurface(rot_rect).copy()\n    return rot_image\n\npygame.init()\n\nFPS = 144 \nfpsClock = pygame.time.Clock()\n\nSCENE = pygame.display.set_mode((1280, 720), 0, 32)\npygame.display.set_caption('Doma\u010da naloga')\n\nbackgroundImg = pygame.image.load('images/background.png')\ncannonBaseImg = pygame.image.load('images/base.png')\ncannonImg = pygame.image.load('images/cannon.png')\nballImg = pygame.image.load('images/cannonBall.png')\nenemy = pygame.image.load('images/enemy.png')\n\ncannonBasePos = (9,490)\ncannonPos = (-5, 480)\nballPos = (22,510)\nenemyPos = (40, 400)\n\ncannonImg = pygame.transform.rotate(cannonImg, -15)\n\nang = 45\ncannonMovImg = rot_center(cannonImg, ang)\n\n# bug: backgoround image dissapears and it bugges green\nSCENE.blit(backgroundImg, (0,0))\nSCENE.blit(cannonMovImg, cannonPos  )\nSCENE.blit(ballImg, ballPos)\nSCENE.blit(cannonBaseImg, cannonBasePos)\nSCENE.blit(enemy, enemyPos)\n\nt = 0 \ns = ballPos \nv = (0, 0) \nvm = 100 \nlaunched = False \n\nwhile True: #&lt;-- while starts here\n    dt = fpsClock.tick(FPS) \n    if launched:\n        t = t + dt/250.0 # cajt is clocka\n        a = (0.0, 10.0) # acceleration\n        v =  (v0[0] + a[0]*t, v0[1] + a[1]*t) # spazz out nad 1000 !!!\n        vm = sqrt(v[0]*v[0] + v[1]*v[1])\n        s0 = ballPos # poz\n        s = (s0[0] + v0[0]*t + a[0]*t*t/2, s0[1] + v0[1]*t + a[1]*t*t/2)\n        if s[1] &gt;= 510: # tla\n            launched = False\n\n    font = pygame.font.Font(None, 30)\n\n    text_ang = font.render(\"Kot = %d\" % ang, 1, (10, 10, 10))\n    text_ang_pos = (1050, 50)\n\n    text_vm = font.render(\"Hitrost = %.1f m/s\" % vm, 1, (10, 10, 10))\n    text_vm_pos = (1050, 80)\n\n    text_stat = font.render(\"Statistika:\", 1, (10, 10, 10))\n    text_stat_pos = (1050, 20)\n\n    text_x = font.render(\"Dol\u017eina = %.1f m\" % s[0], 1, (10, 10, 10))\n    text_x_pos = (1050, 110)\n\n    text_t = font.render(\"\u010cas = %.1f s\" % t, 1, (10, 10, 10))\n    text_t_pos = (1050, 140)\n\n\n    SCENE.blit(backgroundImg, (0,0))\n    SCENE.blit(cannonMovImg, cannonPos)\n    SCENE.blit(ballImg, s)\n    SCENE.blit(cannonBaseImg, cannonBasePos)\n    SCENE.blit(enemy, enemyPos) #&lt;--- while loop breaks here\n    SCENE.blit(text_t, text_t_pos)\n    SCENE.blit(text_stat, text_stat_pos)\n    SCENE.blit(text_vm, text_vm_pos)\n    SCENE.blit(text_x, text_x_pos)\n    SCENE.blit(text_ang, text_ang_pos)\n\n\n    for event in pygame.event.get():\n        if event.type == QUIT:\n            pygame.quit()\n            sys.exit()\n        elif event.type == KEYDOWN:\n            if event.key == K_SPACE:\n                ballPos = (0,478)\n                s = ballPos\n                t = 0\n                launched = True\n\n                v0 = (vm*cos(radians(ang)), -vm*sin(radians(ang)))\n\n    keystate = pygame.key.get_pressed()\n\n    if keystate[K_LEFT]: \n        ang+=2\n        if ang &gt; 90:\n            ang = 90\n        cannonMovImg = rot_center(cannonImg, ang)\n\n    if keystate[K_RIGHT]: \n        ang-=2\n        if ang &lt; 0:\n            ang = 0\n        cannonMovImg = rot_center(cannonImg, ang)\n\n    if keystate[K_UP]: \n        vm+=2\n\n    if keystate[K_DOWN]: \n        vm-=2\n\n    pygame.display.flip() #&lt;-- while should end here \n</code></pre>\n\n<p>I've tried everything but even my teacher doesnt know the anwser. He said it's a bug in Python 3.6.3. Any ideas. I've researched for the past week and im frustrated. If anyone has any ideas please let me know. Thanks for your anwsers in advance</p>\n"}, {"tags": ["python", "python-3.x", "web-scraping", "beautifulsoup", "python-requests"], "comments": [{"owner": {"reputation": 1666, "user_id": 4900574, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/1e889e234c602cf27c433d382dfb8d70?s=128&d=identicon&r=PG&f=1", "display_name": "amarynets", "link": "https://stackoverflow.com/users/4900574/amarynets"}, "edited": false, "score": 0, "creation_date": 1507149798, "post_id": 46573754, "comment_id": 80101235, "body": "You can use some of this <a href=\"http://selenium-python.readthedocs.io/waits.html\" rel=\"nofollow noreferrer\">selenium-python.readthedocs.io/waits.html</a> or just add <code>time.sleep(n)</code>"}, {"owner": {"reputation": 190, "user_id": 8527597, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2936306bfa720b3f0aa627424c5f4b9?s=128&d=identicon&r=PG&f=1", "display_name": "jabargas", "link": "https://stackoverflow.com/users/8527597/jabargas"}, "edited": false, "score": 0, "creation_date": 1507149929, "post_id": 46573754, "comment_id": 80101296, "body": "can you please check the url? It seems the ; there is a typo and might be causing the error in your scraper"}, {"owner": {"reputation": 15, "user_id": 2833726, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1025a25f814879c2aa2d3e9c04256b9?s=128&d=identicon&r=PG&f=1", "display_name": "fazal", "link": "https://stackoverflow.com/users/2833726/fazal"}, "reply_to_user": {"reputation": 1666, "user_id": 4900574, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/1e889e234c602cf27c433d382dfb8d70?s=128&d=identicon&r=PG&f=1", "display_name": "amarynets", "link": "https://stackoverflow.com/users/4900574/amarynets"}, "edited": false, "score": 0, "creation_date": 1507150664, "post_id": 46573754, "comment_id": 80101643, "body": "@AndMar time.sleep doesnt seem to work in this case. Please suggest where exactly you propose for me to add?"}, {"owner": {"reputation": 15, "user_id": 2833726, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1025a25f814879c2aa2d3e9c04256b9?s=128&d=identicon&r=PG&f=1", "display_name": "fazal", "link": "https://stackoverflow.com/users/2833726/fazal"}, "reply_to_user": {"reputation": 190, "user_id": 8527597, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2936306bfa720b3f0aa627424c5f4b9?s=128&d=identicon&r=PG&f=1", "display_name": "jabargas", "link": "https://stackoverflow.com/users/8527597/jabargas"}, "edited": false, "score": 0, "creation_date": 1507150772, "post_id": 46573754, "comment_id": 80101691, "body": "@jabargas same code works if i just change soup.find(&#39;span&#39;, &#39;buy&#39;) to soup.find(&#39;span&#39;, &#39;btc&#39;) which is just static content instead of dynamic content that gets loaded in a few seconds after the page loads. So i doubt there is any issue with url."}, {"owner": {"reputation": 684, "user_id": 7073884, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/tjoEQ.jpg?s=128&g=1", "display_name": "Lukasz", "link": "https://stackoverflow.com/users/7073884/lukasz"}, "edited": false, "score": 0, "creation_date": 1507150822, "post_id": 46573754, "comment_id": 80101724, "body": "<a href=\"http://selenium-python.readthedocs.io/waits.html#implicit-waits\" rel=\"nofollow noreferrer\">Try <code>browser.implicitly_wait(n)</code> where <code>n</code> is an integer for the amount of seconds.</a>"}, {"owner": {"reputation": 1666, "user_id": 4900574, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/1e889e234c602cf27c433d382dfb8d70?s=128&d=identicon&r=PG&f=1", "display_name": "amarynets", "link": "https://stackoverflow.com/users/4900574/amarynets"}, "edited": false, "score": 0, "creation_date": 1507150918, "post_id": 46573754, "comment_id": 80101759, "body": "@user2833726 between <code>browser.get(url)</code> and <code>html = browser.page_source</code>"}, {"owner": {"reputation": 190, "user_id": 8527597, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2936306bfa720b3f0aa627424c5f4b9?s=128&d=identicon&r=PG&f=1", "display_name": "jabargas", "link": "https://stackoverflow.com/users/8527597/jabargas"}, "edited": false, "score": 0, "creation_date": 1507151040, "post_id": 46573754, "comment_id": 80101825, "body": "can you please tell me what is the content that you want to get? Cause when you use your regular browser and go to <a href=\"https://www.zebpay.com/;1\" rel=\"nofollow noreferrer\">zebpay.com/;1</a>, you&#39;ll get a Page Not Found Error."}, {"owner": {"reputation": 15, "user_id": 2833726, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1025a25f814879c2aa2d3e9c04256b9?s=128&d=identicon&r=PG&f=1", "display_name": "fazal", "link": "https://stackoverflow.com/users/2833726/fazal"}, "reply_to_user": {"reputation": 684, "user_id": 7073884, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/tjoEQ.jpg?s=128&g=1", "display_name": "Lukasz", "link": "https://stackoverflow.com/users/7073884/lukasz"}, "edited": false, "score": 0, "creation_date": 1507151099, "post_id": 46573754, "comment_id": 80101857, "body": "@LukaszSalitra where should i add wait? I added after browser.get(url) and it doesnt work"}, {"owner": {"reputation": 15, "user_id": 2833726, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1025a25f814879c2aa2d3e9c04256b9?s=128&d=identicon&r=PG&f=1", "display_name": "fazal", "link": "https://stackoverflow.com/users/2833726/fazal"}, "reply_to_user": {"reputation": 190, "user_id": 8527597, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2936306bfa720b3f0aa627424c5f4b9?s=128&d=identicon&r=PG&f=1", "display_name": "jabargas", "link": "https://stackoverflow.com/users/8527597/jabargas"}, "edited": false, "score": 0, "creation_date": 1507151255, "post_id": 46573754, "comment_id": 80101938, "body": "@jabargas just visit zebpay.com and I am trying to get value in the html &lt;span id=&quot;buy&quot;&gt;289,162&lt;/span&gt; The reason i used zebpay.com;1 was following the stackoverflow code link that I was referring to."}, {"owner": {"reputation": 15, "user_id": 2833726, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1025a25f814879c2aa2d3e9c04256b9?s=128&d=identicon&r=PG&f=1", "display_name": "fazal", "link": "https://stackoverflow.com/users/2833726/fazal"}, "reply_to_user": {"reputation": 1666, "user_id": 4900574, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/1e889e234c602cf27c433d382dfb8d70?s=128&d=identicon&r=PG&f=1", "display_name": "amarynets", "link": "https://stackoverflow.com/users/4900574/amarynets"}, "edited": false, "score": 0, "creation_date": 1507151736, "post_id": 46573754, "comment_id": 80102159, "body": "@AndMar I tried adding sleep as proposed. No luck."}, {"owner": {"reputation": 1666, "user_id": 4900574, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/1e889e234c602cf27c433d382dfb8d70?s=128&d=identicon&r=PG&f=1", "display_name": "amarynets", "link": "https://stackoverflow.com/users/4900574/amarynets"}, "edited": false, "score": 0, "creation_date": 1507151877, "post_id": 46573754, "comment_id": 80102223, "body": "@user2833726 Have you tried to use Chrome instead PhantomJs?"}, {"owner": {"reputation": 15, "user_id": 2833726, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1025a25f814879c2aa2d3e9c04256b9?s=128&d=identicon&r=PG&f=1", "display_name": "fazal", "link": "https://stackoverflow.com/users/2833726/fazal"}, "reply_to_user": {"reputation": 1666, "user_id": 4900574, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/1e889e234c602cf27c433d382dfb8d70?s=128&d=identicon&r=PG&f=1", "display_name": "amarynets", "link": "https://stackoverflow.com/users/4900574/amarynets"}, "edited": false, "score": 0, "creation_date": 1507392967, "post_id": 46573754, "comment_id": 80195361, "body": "@AndMar doesnt make any difference."}], "answers": [{"comments": [{"owner": {"reputation": 15, "user_id": 2833726, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1025a25f814879c2aa2d3e9c04256b9?s=128&d=identicon&r=PG&f=1", "display_name": "fazal", "link": "https://stackoverflow.com/users/2833726/fazal"}, "edited": false, "score": 0, "creation_date": 1507392924, "post_id": 46582067, "comment_id": 80195351, "body": "Thanks for the response. Although an api will do for this site. The original idea was to still understand how to get the value scraped on such site where there is a slight delay in data loading. That is the key ask from this post."}], "tags": [], "owner": {"reputation": 822, "user_id": 7150931, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4TqZt.png?s=128&g=1", "display_name": "Roman Mindlin", "link": "https://stackoverflow.com/users/7150931/roman-mindlin"}, "is_accepted": false, "score": 0, "last_activity_date": 1508493081, "last_edit_date": 1508493081, "creation_date": 1507195373, "answer_id": 46582067, "question_id": 46573754, "link": "https://stackoverflow.com/questions/46573754/scrape-html-only-after-data-loads-with-delay-using-python-requests/46582067#46582067", "title": "Scrape html only after data loads with delay using Python Requests?", "body": "<p>You can access desired values by <a href=\"https://api.zebpay.com/api/v1/ticker?currencyCode=INR\" rel=\"nofollow noreferrer\">requesting it directly</a> from API and analyze JSON response.</p>\n\n<pre><code>import requests\nimport json\n\nres = request.get('https://api.example.com/api/')\nd = json.loads(res.text)\n\nprint(d['market'])\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 15, "user_id": 2833726, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1025a25f814879c2aa2d3e9c04256b9?s=128&d=identicon&r=PG&f=1", "display_name": "fazal", "link": "https://stackoverflow.com/users/2833726/fazal"}, "edited": false, "score": 0, "creation_date": 1508491750, "post_id": 46622471, "comment_id": 80639856, "body": "it works like a charm using chrome webdriver. But it actually opens up the browser window. Instead is there something similar with headless browser? Maybe if you have similar code for phantomjs or so that doesnt open a physical browser but works under the hood sort of a console windows or so? Thanks again. Once I get your response i will mark this post as answered."}, {"owner": {"reputation": 3109, "user_id": 6879870, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mFE9G.png?s=128&g=1", "display_name": "songxunzhao", "link": "https://stackoverflow.com/users/6879870/songxunzhao"}, "reply_to_user": {"reputation": 15, "user_id": 2833726, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1025a25f814879c2aa2d3e9c04256b9?s=128&d=identicon&r=PG&f=1", "display_name": "fazal", "link": "https://stackoverflow.com/users/2833726/fazal"}, "edited": false, "score": 0, "creation_date": 1508640455, "post_id": 46622471, "comment_id": 80687287, "body": "Please replace webdriver.chorme(&lt;chromedirver path&gt;) to webdriver.PhantomJS(&lt;phantomjs driver path&gt;). All other process is same."}], "tags": [], "owner": {"reputation": 3109, "user_id": 6879870, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mFE9G.png?s=128&g=1", "display_name": "songxunzhao", "link": "https://stackoverflow.com/users/6879870/songxunzhao"}, "is_accepted": true, "score": 2, "last_activity_date": 1507393515, "creation_date": 1507393515, "answer_id": 46622471, "question_id": 46573754, "link": "https://stackoverflow.com/questions/46573754/scrape-html-only-after-data-loads-with-delay-using-python-requests/46622471#46622471", "title": "Scrape html only after data loads with delay using Python Requests?", "body": "<p>You have to run headless browser to run delayed scraping. Please use selenium.\nHere is sample code. Code is using chrome browser as driver</p>\n\n<pre><code>from selenium import webdriver\nfrom selenium.webdriver.common.by import By\nfrom selenium.webdriver.support.ui import WebDriverWait\nfrom selenium.webdriver.support import expected_conditions as EC\nbrowser = webdriver.Chrome(&lt;chromedriver path here&gt;)\nbrowser.set_window_size(1120, 550)\nbrowser.get(link)\nelement = WebDriverWait(browser, 3).until(\n   EC.presence_of_element_located((By.ID, \"blabla\"))\n)\ndata = element.get_attribute('data-blabla')\nprint(data)\nbrowser.quit()\n</code></pre>\n"}], "owner": {"reputation": 15, "user_id": 2833726, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1025a25f814879c2aa2d3e9c04256b9?s=128&d=identicon&r=PG&f=1", "display_name": "fazal", "link": "https://stackoverflow.com/users/2833726/fazal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3954, "favorite_count": 1, "accepted_answer_id": 46622471, "answer_count": 2, "score": 1, "last_activity_date": 1508493081, "creation_date": 1507149437, "last_edit_date": 1508492140, "question_id": 46573754, "link": "https://stackoverflow.com/questions/46573754/scrape-html-only-after-data-loads-with-delay-using-python-requests", "title": "Scrape html only after data loads with delay using Python Requests?", "body": "<p>I am trying to learn data scraping using python and have been using the Requests and BeautifulSoup4 libraries. It works well for normal html websites. But when I tried to get some data out of websites where the data loads after some delay, I found that I get an empty value. An example would be</p>\n\n<pre><code>from bs4 import BeautifulSoup\nfrom operator import itemgetter\nfrom selenium import webdriver\nurl = \"https://www.example.com/;1\"\nbrowser = webdriver.PhantomJS()\nbrowser.get(url)\nhtml = browser.page_source\nsoup = BeautifulSoup(html, 'lxml')\na = soup.find('span', 'buy')\nprint(a)\n</code></pre>\n\n<p>I am trying to grab the  from here:\n(value)</p>\n\n<p>I have already referred a similar topic and tried executing my code on similar lines as the solution provided here. But somehow it doesnt seem to work. I am a novice here so need help getting this work.\n<a href=\"https://stackoverflow.com/questions/36055259/how-to-scrape-html-table-only-after-data-loads-using-python-requests?rq=1\">How to scrape html table only after data loads using Python Requests?</a></p>\n\n<p>The table (content) is probably generated by JavaScript and thus can't be \"seen\". I am using python3.6 / PhantomJS / Selenium as proposed by a lot of answers here.</p>\n"}, {"tags": ["python", "vigenere"], "comments": [{"owner": {"reputation": 2171, "user_id": 1190376, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/61970bb1278cba93a6060586f35241b0?s=128&d=identicon&r=PG", "display_name": "Antimony", "link": "https://stackoverflow.com/users/1190376/antimony"}, "edited": false, "score": 1, "creation_date": 1507149313, "post_id": 46573675, "comment_id": 80101018, "body": "Well if <code>index</code> is something small like 0, then you&#39;re trying to access <code>keyword[-65]</code>. What string are you trying this with?"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1507149471, "post_id": 46573675, "comment_id": 80101084, "body": "You have lots of problems in this code. You should be looping over the indexes of the characters in <code>plaintext</code>, not <code>keylength</code>. You need to get the character codes of the current element in <code>keyword</code> and <code>plaintext</code>, and do your calculations on those."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1507149511, "post_id": 46573675, "comment_id": 80101096, "body": "The function <code>ord(character)</code> will return the characer code."}, {"owner": {"reputation": 40001, "user_id": 2681632, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YnXs3.png?s=128&g=1", "display_name": "Ilja Everil&#228;", "link": "https://stackoverflow.com/users/2681632/ilja-everil%c3%a4"}, "edited": false, "score": 0, "creation_date": 1507149717, "post_id": 46573675, "comment_id": 80101191, "body": "At a risk of being nitpicky: your traceback snippet is not from the code shown. There&#39;s no <code>ord()</code> call, and that actually matters since it looks like you&#39;re trying to twiddle with the codepoints, but misplaced the subtraction"}, {"owner": {"reputation": 73, "user_id": 8565479, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ab3c070ea26e3223c608e300ea0701f1?s=128&d=identicon&r=PG&f=1", "display_name": "zorange", "link": "https://stackoverflow.com/users/8565479/zorange"}, "edited": false, "score": 0, "creation_date": 1507150047, "post_id": 46573675, "comment_id": 80101363, "body": "That&#39;s a lot of help Ilja. Thank you. Lets have a look"}], "owner": {"reputation": 73, "user_id": 8565479, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ab3c070ea26e3223c608e300ea0701f1?s=128&d=identicon&r=PG&f=1", "display_name": "zorange", "link": "https://stackoverflow.com/users/8565479/zorange"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 62, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1507149125, "creation_date": 1507149125, "question_id": 46573675, "link": "https://stackoverflow.com/questions/46573675/my-string-index-keeps-getting-out-of-range-in-python3", "title": "My string index keeps getting out of range in Python3", "body": "<p>Im coding in python and working towards encrypting with the Vigenere method.\nIm using Python 3.6.2. and Visual Studio Code</p>\n\n<pre><code>import sys\n\ndef hi():\n    if len(sys.argv) != 2:\n        exit\n\nkeyword = sys.argv[1]\nindex = 0\nshift = 0\nkeylength = len(sys.argv[1])\n\nif str.isalpha(keyword):\n    plaintext = input(\"plaintext:\")\n    print(\"ciphertext:\", end='')\n\nfor i in range(0,keylength):\n    if str.isalpha(plaintext):\n        index = i % keylength\n\n        if (str.isupper(plaintext[i])):\n            print(keyword[index-65])\n\n        elif (str.islower(plaintext[i])):\n            shift = keyword[index-97]\n    print(shift)\n</code></pre>\n\n<p>So this is my code but I get this error:</p>\n\n<pre><code>File \"vigenere.py\", line 22, in &lt;module&gt;\nprint(ord(keyword[index-65]))\nIndexError: string index out of range\n</code></pre>\n\n<p>So the shift is not working. How could I fix?</p>\n"}, {"tags": ["python", "csv", "for-loop", "indexing", "counter"], "answers": [{"comments": [{"owner": {"reputation": 124, "user_id": 8722564, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-Y_MeMj2lt-g/AAAAAAAAAAI/AAAAAAAAACE/OSSBObnQvqY/photo.jpg?sz=128", "display_name": "Joost Luijben", "link": "https://stackoverflow.com/users/8722564/joost-luijben"}, "edited": false, "score": 0, "creation_date": 1507150495, "post_id": 46573684, "comment_id": 80101572, "body": "I get an syntax error with this, there&#39;s no closing square bracket. I think you meant writer.writerow({fieldnames[i] : tup[i][random.randrange](10) for i in range(10)}). That does work, thanks!"}, {"owner": {"reputation": 1678, "user_id": 6895491, "user_type": "registered", "profile_image": "https://graph.facebook.com/10157453976390237/picture?type=large", "display_name": "Brenden Petersen", "link": "https://stackoverflow.com/users/6895491/brenden-petersen"}, "reply_to_user": {"reputation": 124, "user_id": 8722564, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-Y_MeMj2lt-g/AAAAAAAAAAI/AAAAAAAAACE/OSSBObnQvqY/photo.jpg?sz=128", "display_name": "Joost Luijben", "link": "https://stackoverflow.com/users/8722564/joost-luijben"}, "edited": false, "score": 0, "creation_date": 1507150528, "post_id": 46573684, "comment_id": 80101591, "body": "Oops, edited my answer to include the <code>]</code>. Please accept if it works, thanks!"}], "tags": [], "owner": {"reputation": 1678, "user_id": 6895491, "user_type": "registered", "profile_image": "https://graph.facebook.com/10157453976390237/picture?type=large", "display_name": "Brenden Petersen", "link": "https://stackoverflow.com/users/6895491/brenden-petersen"}, "is_accepted": true, "score": 0, "last_activity_date": 1507150370, "last_edit_date": 1507150370, "creation_date": 1507149156, "answer_id": 46573684, "question_id": 46573645, "link": "https://stackoverflow.com/questions/46573645/use-indexnumber-in-for-loop-python/46573684#46573684", "title": "use indexnumber in for loop python", "body": "<pre><code>for line in range(100000):\n    writer.writerow({fieldnames[i] : tup[i][random.randrange(10)] for i in range(10)})\n</code></pre>\n"}], "owner": {"reputation": 124, "user_id": 8722564, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-Y_MeMj2lt-g/AAAAAAAAAAI/AAAAAAAAACE/OSSBObnQvqY/photo.jpg?sz=128", "display_name": "Joost Luijben", "link": "https://stackoverflow.com/users/8722564/joost-luijben"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 22, "favorite_count": 0, "accepted_answer_id": 46573684, "answer_count": 1, "score": 0, "last_activity_date": 1507150370, "creation_date": 1507148998, "last_edit_date": 1507149211, "question_id": 46573645, "link": "https://stackoverflow.com/questions/46573645/use-indexnumber-in-for-loop-python", "title": "use indexnumber in for loop python", "body": "<p>So I have this code</p>\n\n<pre><code>fieldnames = (\n        'Woonplaats', 'Kleur', 'Naam', 'Merk', 'Deuraantal', 'Leeftijd', 'Vloeistof', 'Snelheid', 'Tankstation',\n        'Ramen')     \n\nfor line in range(100000):\n    writer.writerow({fieldnames[0]: tup[0][random.randrange(10)],\n                     fieldnames[1]: tup[1][random.randrange(10)],\n                     fieldnames[2]: tup[2][random.randrange(10)],\n                     fieldnames[3]: tup[3][random.randrange(10)],\n                     fieldnames[4]: tup[4][random.randrange(10)],\n                     fieldnames[5]: tup[5][random.randrange(10)],\n                     fieldnames[6]: tup[6][random.randrange(10)],\n                     fieldnames[7]: tup[7][random.randrange(10)],\n                     fieldnames[8]: tup[8][random.randrange(10)],\n                     fieldnames[9]: tup[9][random.randrange(10)]})\n</code></pre>\n\n<p>I have different tuples inside a tuple which I am refering to with the <code>tup[0],tup[1]</code>. The goal is to create a csv file with randomly chosen values from the tuples. Here's a sample of my csv file</p>\n\n<pre><code>Nijmegen,wit,Henk,Citroen,5,70,whiskey,90,Q8,7\nEindhoven,groen,Klaas,Volkswagen,3,50,limonade,70,Total,5\nUtrecht,geel,Piet,Ford,2,40,water,60,Esso,4\nNijmegen,wit,Henk,Citroen,5,70,whiskey,90,Q8,7\n</code></pre>\n\n<p>Now I wonder if there's a way to automatically fill in the numbers <code>0</code> to <code>9</code>, because I imagine if the columns get larger, you can't type this out. I tried this with a for loop, but I just got a bunch of commas and some values.</p>\n"}, {"tags": ["python", "django", "transactions", "django-database"], "answers": [{"tags": [], "owner": {"reputation": 36561, "user_id": 2395796, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8786484468219bcf403bbdce5eb37c8d?s=128&d=identicon&r=PG", "display_name": "Kevin Christopher Henry", "link": "https://stackoverflow.com/users/2395796/kevin-christopher-henry"}, "is_accepted": true, "score": 2, "last_activity_date": 1507274900, "last_edit_date": 1507274900, "creation_date": 1507190761, "answer_id": 46580750, "question_id": 46573601, "link": "https://stackoverflow.com/questions/46573601/what-types-of-requests-make-good-candidate-for-transaction-non-atomic-requests/46580750#46580750", "title": "What types of requests make good candidate for `@transaction.non_atomic_requests`?", "body": "<p>Unfortunately I don't think there are many hints, gotchas, and so forth that are generally applicable. The question is just: does this sequence of operations require a database transaction to work correctly, given all the database operations I might perform? If the answer is yes (or you're unsure), use a transaction; if not, don't. </p>\n\n<p>It's a very application-specific question. Taking your example, there are many situations where a <code>save()</code> will require a transaction and many where it won't. I don't know of any substitute to just sitting down and thinking through the possibilities.</p>\n\n<p>The most important thing is to understand database transactions well, particularly <a href=\"https://www.postgresql.org/docs/current/static/transaction-iso.html\" rel=\"nofollow noreferrer\">isolation levels</a>. People often wrongly think that they're safe from some concurrency problem because their mental model of transactions matches the <code>SERIALIZED</code> isolation level, when in fact their operations are using <code>READ COMMITTED</code> (the Django default).</p>\n\n<p>It's also important to understand and consider the other available tools you can use in addition to plain transactions, like locks (e.g. Django's <a href=\"https://docs.djangoproject.com/en/dev/ref/models/querysets/#select-for-update\" rel=\"nofollow noreferrer\"><code>select_for_update()</code></a>) and optimistic concurrency.</p>\n"}], "owner": {"reputation": 4487, "user_id": 3791516, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/CaaX7.jpg?s=128&g=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/3791516/matt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 152, "favorite_count": 0, "accepted_answer_id": 46580750, "answer_count": 1, "score": 0, "last_activity_date": 1507274900, "creation_date": 1507148799, "question_id": 46573601, "link": "https://stackoverflow.com/questions/46573601/what-types-of-requests-make-good-candidate-for-transaction-non-atomic-requests", "title": "What types of requests make good candidate for `@transaction.non_atomic_requests`?", "body": "<p>A common way to handle <a href=\"https://docs.djangoproject.com/en/1.11/topics/db/transactions/#django.db.transaction.non_atomic_requests\" rel=\"nofollow noreferrer\">transactions</a> on the web is to wrap each request in a transaction. In Django, you can set <code>ATOMIC_REQUESTS</code> to True in the configuration of each database for which you want to enable this behavior.</p>\n\n<p>It works like this. Before calling a view function, Django starts a transaction. If the response is produced without problems, Django commits the transaction. If the view produces an exception, Django rolls back the transaction.</p>\n\n<p>While the simplicity of this transaction model is appealing, it also makes it inefficient when traffic increases. Opening a transaction for every view has some overhead.</p>\n\n<p>For requests that do not need to be wrapped in <a href=\"https://docs.djangoproject.com/en/1.11/topics/db/transactions/#django.db.transaction.non_atomic_requests\" rel=\"nofollow noreferrer\">transactions</a>, you can apply the <code>@transaction.non_atomic_requests</code> decorator.</p>\n\n<p>Given a Django <code>view.py</code> with several View classes and request methods. How might I go about deciding which requests would make good candidates for the non-atomic decorator?</p>\n\n<p>What \"gotchas\" might be lurking?</p>\n\n<p>I could see <code>POST</code> methods not making good candidates or anything with a <code>.save()</code>, but what else should I look out for?</p>\n"}, {"tags": ["python", "matplotlib", "plot", "subplot"], "answers": [{"comments": [{"owner": {"reputation": 157, "user_id": 8577364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/94c053282ab356053b63b7ebf7d43f84?s=128&d=identicon&r=PG&f=1", "display_name": "Dr proctor", "link": "https://stackoverflow.com/users/8577364/dr-proctor"}, "edited": false, "score": 0, "creation_date": 1507166070, "post_id": 46573951, "comment_id": 80106153, "body": "Thanks for your answer. I understand that the enumerate basically create indexing in the for loop. So is ax1 and ax2 just indexes? Can you please explain what type of object ax1,axes1, and fig1 in this example are?"}, {"owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "reply_to_user": {"reputation": 157, "user_id": 8577364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/94c053282ab356053b63b7ebf7d43f84?s=128&d=identicon&r=PG&f=1", "display_name": "Dr proctor", "link": "https://stackoverflow.com/users/8577364/dr-proctor"}, "edited": false, "score": 0, "creation_date": 1507191632, "post_id": 46573951, "comment_id": 80114728, "body": "<code>ax1</code> and <code>ax2</code> are the matplotlib axes. <code>enumerate</code> is an easy way to get an index in a loop. Maybe <a href=\"https://www.saltycrane.com/blog/2008/04/how-to-use-pythons-enumerate-and-zip-to/\" rel=\"nofollow noreferrer\">this</a> is of use to understand enumerate better. I updated the answer as well."}], "tags": [], "owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "is_accepted": true, "score": 3, "last_activity_date": 1507193261, "last_edit_date": 1507193261, "creation_date": 1507150242, "answer_id": 46573951, "question_id": 46573570, "link": "https://stackoverflow.com/questions/46573570/plotting-on-multiple-figures-with-subplots-in-a-single-loop/46573951#46573951", "title": "Plotting on multiple figures with subplots in a single loop", "body": "<p>Each of the pyplot function has its corresponding method in the object oriented API. If you really want to loop over both figures' axes at the same time, this would look like this:</p>\n\n<pre><code>import numpy as np\nimport matplotlib.pyplot as plt\n\nx1 = x2 = np.arange(10)\ny1 = y2 = c = np.random.rand(10,6)\n\nfig1, axes1 = plt.subplots(nrows=2,ncols=3)\nfig1.subplots_adjust(hspace=.5,wspace=0.4)\n\nfig2, axes2 = plt.subplots(nrows=2,ncols=3)\nfig2.subplots_adjust(hspace=.5,wspace=0.4)\n\nfor i, (ax1,ax2) in enumerate(zip(axes1.flatten(), axes2.flatten())):\n    ax1.set_title('day='+str(i))\n    ax2.set_title('day='+str(i))\n    sc1 = ax1.scatter(x1,y1[:,i], c=c[:,i])\n    sc2 = ax2.scatter(x2,y2[:,i], c=c[:,i])\n    fig1.colorbar(sc1, ax=ax1)\n    fig2.colorbar(sc2, ax=ax2)\n\nplt.savefig(\"plot.png\") \nplt.show()   \nplt.close()\n</code></pre>\n\n<p>Here you loop over the two flattened axes arrays, such that <code>ax1</code> and <code>ax2</code> are the <a href=\"https://matplotlib.org/api/axes_api.html\" rel=\"nofollow noreferrer\">matplotlib axes</a> to plot to. <code>fig1</code> and <code>fig2</code> are matplotlib figures (<a href=\"https://matplotlib.org/api/figure_api.html\" rel=\"nofollow noreferrer\"><code>matplotlib.figure.Figure</code></a>).</p>\n\n<p>In order to obtain an index as well, <code>enumerate</code> is used. So the line </p>\n\n<pre><code>for i, (ax1,ax2) in enumerate(zip(axes1.flatten(), axes2.flatten())):\n    # loop code\n</code></pre>\n\n<p>is equivalent here to </p>\n\n<pre><code>for i in range(6):\n    ax1 = axes1.flatten()[i]\n    ax2 = axes2.flatten()[i]\n    # loop code\n</code></pre>\n\n<p>or </p>\n\n<pre><code>i = 0\nfor ax1,ax2 in zip(axes1.flatten(), axes2.flatten()):\n    # loop code\n    i += 1\n</code></pre>\n\n<p>which are both longer to write.</p>\n\n<p>At this point you may be interested in the fact that althought the above solution using the object oriented API is surely more versatile and preferable, a pure pyplot solution still is possible. This would look like</p>\n\n<pre><code>import numpy as np\nimport matplotlib.pyplot as plt\n\nx1 = x2 = np.arange(10)\ny1 = y2 = c = np.random.rand(10,6)\n\nplt.figure(1)\nplt.subplots_adjust(hspace=.5,wspace=0.4)\n\nplt.figure(2)\nplt.subplots_adjust(hspace=.5,wspace=0.4)\n\nfor i in range(6):\n    plt.figure(1)\n    plt.subplot(2,3,i+1)\n    sc1 = plt.scatter(x1,y1[:,i], c=c[:,i])\n    plt.colorbar(sc1)\n\n    plt.figure(2)\n    plt.subplot(2,3,i+1)\n    sc2 = plt.scatter(x1,y1[:,i], c=c[:,i])\n    plt.colorbar(sc2)\n\nplt.savefig(\"plot.png\") \nplt.show()   \nplt.close()\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1507155583, "post_id": 46574130, "comment_id": 80103611, "body": "If you answer a question where there is already an answer, it would be good to make it clear in how far yours is different. Just having twice the same solution there is not useful. Also the other answer shows how to use colorbar, so I don&#39;t think it makes sense to state that &quot;we&quot; could have a look at how it works - just you yourself might have a look if you want."}, {"owner": {"reputation": 157, "user_id": 8577364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/94c053282ab356053b63b7ebf7d43f84?s=128&d=identicon&r=PG&f=1", "display_name": "Dr proctor", "link": "https://stackoverflow.com/users/8577364/dr-proctor"}, "edited": false, "score": 0, "creation_date": 1507165734, "post_id": 46574130, "comment_id": 80106085, "body": "Thanks for your reply. one question is that where did the axis1 and axis2 came from. It doesn&#39;t seem like there is any connection to the axesArray1 that you introduced earlier (or is that just a mistake)?"}, {"owner": {"reputation": 71, "user_id": 2507496, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f818986d28c5c6a6b69b1e5c227ae06?s=128&d=identicon&r=PG", "display_name": "Eric", "link": "https://stackoverflow.com/users/2507496/eric"}, "reply_to_user": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1507215189, "post_id": 46574130, "comment_id": 80130532, "body": "@ImportanceOfBeingErnest you&#39;re correct, the other answer appeared while I was writing up my answer and I didn&#39;t see it until after"}, {"owner": {"reputation": 71, "user_id": 2507496, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f818986d28c5c6a6b69b1e5c227ae06?s=128&d=identicon&r=PG", "display_name": "Eric", "link": "https://stackoverflow.com/users/2507496/eric"}, "reply_to_user": {"reputation": 157, "user_id": 8577364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/94c053282ab356053b63b7ebf7d43f84?s=128&d=identicon&r=PG&f=1", "display_name": "Dr proctor", "link": "https://stackoverflow.com/users/8577364/dr-proctor"}, "edited": false, "score": 0, "creation_date": 1507215261, "post_id": 46574130, "comment_id": 80130590, "body": "@Drproctor <code>axis1</code> is created from <code>axesArray1</code> like so: <code>axis1 = axesArray1[rowIdx, colIdx]</code>. <code>axis2</code> is made in a similar way"}], "tags": [], "owner": {"reputation": 71, "user_id": 2507496, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f818986d28c5c6a6b69b1e5c227ae06?s=128&d=identicon&r=PG", "display_name": "Eric", "link": "https://stackoverflow.com/users/2507496/eric"}, "is_accepted": false, "score": 1, "last_activity_date": 1507150984, "creation_date": 1507150984, "answer_id": 46574130, "question_id": 46573570, "link": "https://stackoverflow.com/questions/46573570/plotting-on-multiple-figures-with-subplots-in-a-single-loop/46574130#46574130", "title": "Plotting on multiple figures with subplots in a single loop", "body": "<p>Here's a version that shows how to run scatter plots on two different figures. Basically you reference the axes that are created with <code>plt.subplots</code>.</p>\n\n<pre><code>import matplotlib.pyplot as plt\nimport numpy as np\n\nx1 = y1 = range(10)\nx2 = y2 = range(5)\n\nnRows = nCols = 6\nfig1, axesArray1 = plt.subplots(nrows=nRows,ncols=nCols,figsize=(20, 20))\nfig1.subplots_adjust(hspace=.5,wspace=0.4)\nfig1.subplots_adjust(left=None, bottom=None, right=None, top=None, wspace=None, hspace=None)\n\nfig2, axesArray2 = plt.subplots(nrows=nRows,ncols=nCols,figsize=(20, 20))\nfig2.subplots_adjust(hspace=.5,wspace=0.4)\nfig2.subplots_adjust(left=None, bottom=None, right=None, top=None, wspace=None, hspace=None)\n\ndays = range(1, 32)\ndayRowCol = np.array([i + 1 for i in range(nRows * nCols)]).reshape(nRows, nCols)\nfor day in days:\n    rowIdx, colIdx = np.argwhere(dayRowCol == day)[0]\n\n    axis1 = axesArray1[rowIdx, colIdx]\n    axis1.set_title('day=' + str(day))\n    axis1.scatter(x1, y1)\n\n    axis2 = axesArray2[rowIdx, colIdx]\n    axis2.set_title('day=' + str(day))\n    axis2.scatter(x2, y2)\n\n    # This didn't run in the original script, so I left it as is\n    # plt.colorbar().set_label('Distance from ocean',rotation=270)\n\nfig1.savefig('plots/everyday_D1_color.png')\nfig2.savefig('plots/everyday_D2_color.png')\nplt.close('all')\n</code></pre>\n\n<p>When I took the original code from the post <code>plt.colorbar()</code> raised an error, so I left it out in the answer. If you have an example of how <code>colorbar</code> was intended to work we could look at how to make that happen for two figures, but the rest of the code should work as intended!</p>\n\n<p>Note that if <code>day</code> every does not appear in <code>dayRolCol</code> numpy will raise an error, it's up to you to decide how you want to handle that case. Also, using numpy is definitely not the only way to do it, just a way I'm comfortable with - all you really need to do is find a way to link a certain day/plot with the (x, y) indices of the axis you want to plot on.</p>\n"}], "owner": {"reputation": 157, "user_id": 8577364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/94c053282ab356053b63b7ebf7d43f84?s=128&d=identicon&r=PG&f=1", "display_name": "Dr proctor", "link": "https://stackoverflow.com/users/8577364/dr-proctor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7771, "favorite_count": 0, "accepted_answer_id": 46573951, "answer_count": 2, "score": 4, "last_activity_date": 1507193261, "creation_date": 1507148694, "question_id": 46573570, "link": "https://stackoverflow.com/questions/46573570/plotting-on-multiple-figures-with-subplots-in-a-single-loop", "title": "Plotting on multiple figures with subplots in a single loop", "body": "<p>I'm plotting on two figures and each of these figures have multiple subplots.  I need to do this inside a single loop. Here is what I do when I have only one figure:</p>\n\n<pre><code>fig, ax = plt.subplots(nrows=6,ncols=6,figsize=(20, 20))\nfig.subplots_adjust(hspace=.5,wspace=0.4)\nplt.subplots_adjust(left=None, bottom=None, right=None, top=None, wspace=None, hspace=None)\n\nfor x in range(1,32):\n    plt.subplot(6,6,x)\n    plt.title('day='+str(x))\n    plt.scatter(x1,y1)\n    plt.scatter(x2,y2)\n    plt.colorbar().set_label('Distance from ocean',rotation=270)\nplt.savefig('Plots/everyday_D color.png')    \nplt.close()\n</code></pre>\n\n<p>Now I know when you have multiple figures you need to do something like this:</p>\n\n<pre><code>fig1, ax1 = plt.subplots()\nfig2, ax2 = plt.subplots()\n</code></pre>\n\n<p>But I don't know how to plot in the loop, that each subplot is in it's place (Because you can't keep doing plt.scatter if there are two figures). Please be specific with what do I need to do (regarding whether it is fig1.scatter, ax1.scatter, fig.subplots_adjust, ... and how to save and close at the end)</p>\n"}, {"tags": ["python", "linux", "pip", "putty", "apt-get"], "comments": [{"owner": {"reputation": 402, "user_id": 7853322, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3e75023ca1b18a72290d106f255d8510?s=128&d=identicon&r=PG&f=1", "display_name": "brddawg", "link": "https://stackoverflow.com/users/7853322/brddawg"}, "edited": false, "score": 0, "creation_date": 1507149367, "post_id": 46573537, "comment_id": 80101033, "body": "what was the outcome of the update and fix-missing?"}], "owner": {"reputation": 327, "user_id": 8597114, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e9a6bf481ec5481f41a8180a03cc2810?s=128&d=identicon&r=PG&f=1", "display_name": "Marci", "link": "https://stackoverflow.com/users/8597114/marci"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 278, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1507149567, "creation_date": 1507148539, "last_edit_date": 1507149567, "question_id": 46573537, "link": "https://stackoverflow.com/questions/46573537/installing-pip-in-google-cloud-server-failed", "title": "installing pip in google cloud server failed", "body": "<p>I created a linux virtual machine in google cloud server and copied all the files from my raspberry pi that I used earlier.</p>\n\n<p>I'd like to install the modules and libraries I used in my scripts but when I run the <code>sudo apt-get install python-pip</code> command in putty (after logging into the google cloud) I get the following error:</p>\n\n<pre><code>Err:1 http://security.debian.org stretch/updates/main amd64 linux-libc-dev amd64 4.9.30-2+deb9u3\n  404  Not Found [IP: 21x.2xx.xx2.x2 80]\nE: Failed to fetch http://security.debian.org/pool/updates/main/l/linux/linux-libc-dev_4.9.30-2+deb9u3_amd64.deb  404  Not Found [IP: 21x.2xx.xx2.x2 80]\nE: Unable to fetch some archives, maybe run apt-get update or try with --fix-missing?\n</code></pre>\n\n<p>How could I fix this problem?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["python", "pandas", "datetime", "dataframe"], "comments": [{"owner": {"reputation": 395, "user_id": 5908119, "user_type": "registered", "accept_rate": 69, "profile_image": "https://graph.facebook.com/10153896720569059/picture?type=large", "display_name": "Aquiles P&#225;ez", "link": "https://stackoverflow.com/users/5908119/aquiles-p%c3%a1ez"}, "reply_to_user": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1507148975, "post_id": 46573533, "comment_id": 80100877, "body": "@c\u1d0f\u029f\u1d05s\u1d18\u1d07\u1d07\u1d05 this worked great :), this was the outcome I was looking for. I&#39;d also like to split the index vector (which is my &#39;Date&#39; vector), but I&#39;ll try to find my way to it because it seems &#39;easier&#39;. Thanks a lot!"}, {"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1507149023, "post_id": 46573533, "comment_id": 80100900, "body": "Can you explain how you want it split? I&#39;m not clear on that bit."}, {"owner": {"reputation": 395, "user_id": 5908119, "user_type": "registered", "accept_rate": 69, "profile_image": "https://graph.facebook.com/10153896720569059/picture?type=large", "display_name": "Aquiles P&#225;ez", "link": "https://stackoverflow.com/users/5908119/aquiles-p%c3%a1ez"}, "reply_to_user": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1507149376, "post_id": 46573533, "comment_id": 80101039, "body": "@c\u1d0f\u029f\u1d05s\u1d18\u1d07\u1d07\u1d05 if you see the outcome for &#39;df.index&#39; only, you&#39;ll see the day+blankspace+hour. I&#39;d like to split that into &#39;Day&#39; and &#39;Hour&#39;, separately."}, {"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 1, "creation_date": 1507149531, "post_id": 46573533, "comment_id": 80101106, "body": "<code>d = df.index.day; h = df.index.hour?</code>"}, {"owner": {"reputation": 395, "user_id": 5908119, "user_type": "registered", "accept_rate": 69, "profile_image": "https://graph.facebook.com/10153896720569059/picture?type=large", "display_name": "Aquiles P&#225;ez", "link": "https://stackoverflow.com/users/5908119/aquiles-p%c3%a1ez"}, "reply_to_user": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 1, "creation_date": 1507149676, "post_id": 46573533, "comment_id": 80101170, "body": "This worked :), thanks again @c\u1d0f\u029f\u1d05s\u1d18\u1d07\u1d07\u1d05, I don&#39;t know how I didn&#39;t find these commads before. But I&#39;m really glad you helped me out :)"}], "answers": [{"comments": [{"owner": {"reputation": 395, "user_id": 5908119, "user_type": "registered", "accept_rate": 69, "profile_image": "https://graph.facebook.com/10153896720569059/picture?type=large", "display_name": "Aquiles P&#225;ez", "link": "https://stackoverflow.com/users/5908119/aquiles-p%c3%a1ez"}, "edited": false, "score": 0, "creation_date": 1507149526, "post_id": 46573622, "comment_id": 80101103, "body": "@COLDSPEED thank you again, I&#39;ll take the second line because I noticed that df.resample(&#39;1H&#39;).mean() computes a mean of the values between an interval and that&#39;s not what I want. I want just the time that&#39;s closest to each hour, which is what I get by using df.groupby(pd.TimeGrouper(&#39;1H&#39;)).head(1)"}, {"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "reply_to_user": {"reputation": 395, "user_id": 5908119, "user_type": "registered", "accept_rate": 69, "profile_image": "https://graph.facebook.com/10153896720569059/picture?type=large", "display_name": "Aquiles P&#225;ez", "link": "https://stackoverflow.com/users/5908119/aquiles-p%c3%a1ez"}, "edited": false, "score": 1, "creation_date": 1507149649, "post_id": 46573622, "comment_id": 80101156, "body": "@AquilesP&#225;ez Alright, no worries. I added both because I wasn&#39;t 100% sure what you wanted. Also, if you want to split the index, you can just do <code>d = df.index.day; h = df.index.hour</code>."}], "tags": [], "owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "is_accepted": true, "score": 1, "last_activity_date": 1507149581, "last_edit_date": 1507149581, "creation_date": 1507148898, "answer_id": 46573622, "question_id": 46573533, "link": "https://stackoverflow.com/questions/46573533/filter-datetimeindex-vector-to-a-certain-frequency-with-pandas/46573622#46573622", "title": "Filter DatetimeIndex vector to a certain frequency with pandas", "body": "<p>You can just use the <code>pd.TimeGrouper</code> object and extract the first row for each hour group, something like this:</p>\n\n<pre><code>df = df.groupby(pd.TimeGrouper('1H')).head(1)\n</code></pre>\n"}], "owner": {"reputation": 395, "user_id": 5908119, "user_type": "registered", "accept_rate": 69, "profile_image": "https://graph.facebook.com/10153896720569059/picture?type=large", "display_name": "Aquiles P&#225;ez", "link": "https://stackoverflow.com/users/5908119/aquiles-p%c3%a1ez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 198, "favorite_count": 0, "accepted_answer_id": 46573622, "answer_count": 1, "score": 1, "last_activity_date": 1507443760, "creation_date": 1507148524, "last_edit_date": 1507443760, "question_id": 46573533, "link": "https://stackoverflow.com/questions/46573533/filter-datetimeindex-vector-to-a-certain-frequency-with-pandas", "title": "Filter DatetimeIndex vector to a certain frequency with pandas", "body": "<p>I'm using <a href=\"https://github.com/cuemacro/findatapy\" rel=\"nofollow noreferrer\">findatapy</a> to acquire FX Rates from DukasCopy, the package works great. This is the script I'm using:</p>\n\n<pre><code>from findatapy.market import Market, MarketDataRequest, MarketDataGenerator\n\nmarket = Market(market_data_generator=MarketDataGenerator())\n\nmd_request = MarketDataRequest(start_date='01 Feb 2017', finish_date='03 Feb 2017', category='fx', fields=['bid', 'ask'], freq='tick', data_source='dukascopy', tickers=['EURUSD'])\n\ndf = market.fetch_market(md_request)\n\nprint(df)\nprint(len(df))\nprint(df.index)\nprint(len(df.index))\n</code></pre>\n\n<p>I'm only interested in the points that have an hourly frequency (00:00:00, 01:00:00, 02:00:00 and so on). This means that after filtering, I should only get 24 points per day. </p>\n\n<p>Now, what I get as an outcome, is this. </p>\n\n<p>df:</p>\n\n<p><a href=\"https://i.stack.imgur.com/ucP5C.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ucP5C.png\" alt=\"enter image description here\"></a></p>\n\n<p>df.index:</p>\n\n<p><a href=\"https://i.stack.imgur.com/51C5W.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/51C5W.png\" alt=\"enter image description here\"></a></p>\n\n<p>What I'd like to do now, but I'm completely clueless about how to it, is to filter the index using an hourly frequency and then select the corresponding points. </p>\n\n<p>I think that what I should do is to create an array with Pandas that has the desired index and use that to slice my main array, but how can I do that? Can pandas.date_range help me create this 'desired' array? Or is there a much simpler way of doing this?</p>\n\n<p>Thanks for your time. </p>\n"}, {"tags": ["python", "numpy", "objectinstantiation", "numpy-memmap"], "comments": [{"owner": {"reputation": 3670, "user_id": 2681057, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/7c2135aa4c462b83c2844bf35d03c447?s=128&d=identicon&r=PG&f=1", "display_name": "Nick Chapman", "link": "https://stackoverflow.com/users/2681057/nick-chapman"}, "edited": false, "score": 0, "creation_date": 1507149170, "post_id": 46573528, "comment_id": 80100965, "body": "If you can identify the copy constructor for the memmaps you can write a wrapper around that function that counts the number of invocations and then substitute that wrapper function for the copy constructor. What I don&#39;t know is if the copy constructor is implemented in python or in C."}, {"owner": {"reputation": 673, "user_id": 2084503, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/EmUvm.jpg?s=128&g=1", "display_name": "Pavel Komarov", "link": "https://stackoverflow.com/users/2084503/pavel-komarov"}, "reply_to_user": {"reputation": 3670, "user_id": 2681057, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/7c2135aa4c462b83c2844bf35d03c447?s=128&d=identicon&r=PG&f=1", "display_name": "Nick Chapman", "link": "https://stackoverflow.com/users/2681057/nick-chapman"}, "edited": false, "score": 0, "creation_date": 1507149918, "post_id": 46573528, "comment_id": 80101290, "body": "I don&#39;t really want to write a wrapper and then call that instead of the native constructor in my underlying function. I want some kind of access to the heap so I can see what was put on it."}, {"owner": {"reputation": 96714, "user_id": 198633, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/5b9c04999233026354268c2ee4237e04?s=128&d=identicon&r=PG", "display_name": "inspectorG4dget", "link": "https://stackoverflow.com/users/198633/inspectorg4dget"}, "edited": false, "score": 0, "creation_date": 1507150563, "post_id": 46573528, "comment_id": 80101601, "body": "Another option is to statically analyze your code to see how many objects of type &lt;X&gt; it creates. But that can get very tricky very quickly"}, {"owner": {"reputation": 3670, "user_id": 2681057, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/7c2135aa4c462b83c2844bf35d03c447?s=128&d=identicon&r=PG&f=1", "display_name": "Nick Chapman", "link": "https://stackoverflow.com/users/2681057/nick-chapman"}, "edited": false, "score": 0, "creation_date": 1507151347, "post_id": 46573528, "comment_id": 80101978, "body": "@pvlkmrv writing the wrapper would be really easy, it&#39;s essentially adding a decorator for the constructor"}, {"owner": {"reputation": 673, "user_id": 2084503, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/EmUvm.jpg?s=128&g=1", "display_name": "Pavel Komarov", "link": "https://stackoverflow.com/users/2084503/pavel-komarov"}, "reply_to_user": {"reputation": 96714, "user_id": 198633, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/5b9c04999233026354268c2ee4237e04?s=128&d=identicon&r=PG", "display_name": "inspectorG4dget", "link": "https://stackoverflow.com/users/198633/inspectorg4dget"}, "edited": false, "score": 0, "creation_date": 1507153479, "post_id": 46573528, "comment_id": 80102865, "body": "NickChapman, yeah still don&#39;t want to do that. Want to use native numpy. @inspectorG4dget, is there any way to put such analysis in a unit test?"}], "owner": {"reputation": 673, "user_id": 2084503, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/EmUvm.jpg?s=128&g=1", "display_name": "Pavel Komarov", "link": "https://stackoverflow.com/users/2084503/pavel-komarov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 52, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1507148508, "creation_date": 1507148508, "question_id": 46573528, "link": "https://stackoverflow.com/questions/46573528/can-i-count-the-number-of-objects-instantiated-inside-a-python-function-programm", "title": "Can I count the number of objects instantiated inside a python function programmatically?", "body": "<p>I am writing a unit test. The thing it tests involves numpy memmaps, which, like numpy ndarrays, can be \"views\" that reference an other memmap's data (and take no time to create) or copies (which take a long time to create).</p>\n\n<p>I want to test how many copy-type memmaps are created inside my function and ensure it is minimized given certain inputs. Is this possible?</p>\n"}, {"tags": ["python", "python-3.6"], "comments": [{"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1507148539, "post_id": 46573484, "comment_id": 80100671, "body": "Where is the nested loop here?"}, {"owner": {"reputation": 39, "user_id": 8721221, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/28eeab0a7b045159f17aa4ecc1e092af?s=128&d=identicon&r=PG&f=1", "display_name": "GraphicsLab", "link": "https://stackoverflow.com/users/8721221/graphicslab"}, "reply_to_user": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1507148598, "post_id": 46573484, "comment_id": 80100692, "body": "sorry cold speed meant nested loop ill edit!"}, {"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 1, "creation_date": 1507148632, "post_id": 46573484, "comment_id": 80100717, "body": "It still isn&#39;t clear what you want to do. Why are you mentioning the &quot;shell&quot;?"}, {"owner": {"reputation": 39, "user_id": 8721221, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/28eeab0a7b045159f17aa4ecc1e092af?s=128&d=identicon&r=PG&f=1", "display_name": "GraphicsLab", "link": "https://stackoverflow.com/users/8721221/graphicslab"}, "reply_to_user": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1507148705, "post_id": 46573484, "comment_id": 80100753, "body": "that where it giving the error ill take it out as it dont make sence"}, {"owner": {"reputation": 1710, "user_id": 4365003, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/d94Ue.png?s=128&g=1", "display_name": "RagingRoosevelt", "link": "https://stackoverflow.com/users/4365003/ragingroosevelt"}, "edited": false, "score": 0, "creation_date": 1507149017, "post_id": 46573484, "comment_id": 80100896, "body": "Rather than the contents of your <code>print</code> statement, you could instead put <code>&quot;:  {:9} : {:02d} : {:02d} : {:02d} : {:02d} : {:02d} : &quot;.format(item[0], item[1], item[4], item[2], item[3], item[5])</code>"}, {"owner": {"reputation": 39, "user_id": 8721221, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/28eeab0a7b045159f17aa4ecc1e092af?s=128&d=identicon&r=PG&f=1", "display_name": "GraphicsLab", "link": "https://stackoverflow.com/users/8721221/graphicslab"}, "edited": false, "score": 0, "creation_date": 1507149131, "post_id": 46573484, "comment_id": 80100954, "body": "sorry i understand bits of this but not all could you explain more or with an example?"}, {"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1507149184, "post_id": 46573484, "comment_id": 80100975, "body": "Can you please just post your expected output to your question? That would help."}, {"owner": {"reputation": 1710, "user_id": 4365003, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/d94Ue.png?s=128&g=1", "display_name": "RagingRoosevelt", "link": "https://stackoverflow.com/users/4365003/ragingroosevelt"}, "reply_to_user": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1507149526, "post_id": 46573484, "comment_id": 80101102, "body": "@c\u1d0f\u029f\u1d05s\u1d18\u1d07\u1d07\u1d05, pretty sure he means the python interpreter prompt"}], "answers": [{"comments": [{"owner": {"reputation": 49388, "user_id": 6779307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p7O3q.jpg?s=128&g=1", "display_name": "Patrick Haugh", "link": "https://stackoverflow.com/users/6779307/patrick-haugh"}, "edited": false, "score": 0, "creation_date": 1507149600, "post_id": 46573707, "comment_id": 80101133, "body": "maybe something like <code>print(&quot;: {0[0]} : {0[1]} : {0[4]} : {0[2]} : {0[3]} : {0[5]} : {1}&quot;.format(item, score))</code> for the print?"}, {"owner": {"reputation": 1710, "user_id": 4365003, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/d94Ue.png?s=128&g=1", "display_name": "RagingRoosevelt", "link": "https://stackoverflow.com/users/4365003/ragingroosevelt"}, "reply_to_user": {"reputation": 49388, "user_id": 6779307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p7O3q.jpg?s=128&g=1", "display_name": "Patrick Haugh", "link": "https://stackoverflow.com/users/6779307/patrick-haugh"}, "edited": false, "score": 0, "creation_date": 1507149773, "post_id": 46573707, "comment_id": 80101216, "body": "@PatrickHaugh That, specifically, looses the padding that OP seems to want (could be addressed, though).  Shame OP needs the items out of order.  Otherwise, you could just unroll <code>item</code> as arguments to the format function."}, {"owner": {"reputation": 39, "user_id": 8721221, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/28eeab0a7b045159f17aa4ecc1e092af?s=128&d=identicon&r=PG&f=1", "display_name": "GraphicsLab", "link": "https://stackoverflow.com/users/8721221/graphicslab"}, "edited": false, "score": 0, "creation_date": 1507211500, "post_id": 46573707, "comment_id": 80127874, "body": "hi  I can see that this is working but I need the score list to be going next to couple A not all of them?"}], "tags": [], "owner": {"reputation": 1710, "user_id": 4365003, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/d94Ue.png?s=128&g=1", "display_name": "RagingRoosevelt", "link": "https://stackoverflow.com/users/4365003/ragingroosevelt"}, "is_accepted": false, "score": 0, "last_activity_date": 1507149256, "creation_date": 1507149256, "answer_id": 46573707, "question_id": 46573484, "link": "https://stackoverflow.com/questions/46573484/how-to-use-a-list-in-a-nested-list-that-dont-except-list-and-wants-string/46573707#46573707", "title": "How to use a list in a nested list that don&#39;t except list and wants string?", "body": "<p>Try using the built-in <a href=\"https://docs.python.org/3/library/functions.html#zip\" rel=\"nofollow noreferrer\"><code>zip</code></a> function</p>\n\n<pre><code>ScoreList1 = ['04', '05', '01', '07', '08']\n\n\n\nnestedList = [[\"Judge\", 1, 2, 3, 4, 5],\n             [\"Couple A\", 10, 6, 3, 4, 5],\n              [\"Couple B\", 1, 2, 3, 4, 5],\n              [\"Couple C\", 7, 10, 3, 4, 5],\n              [\"Couple D\", 1, 2, 10, 4, 5],]\n\nfor item, score in zip(nestedList, ScoreList1):\n    print(\": {:9} : {:02d} : {:02d} : {:02d} : {:02d} : {:02d} : {}\".format(item[0], \n                                                                            item[1], \n                                                                            item[4], \n                                                                            item[2], \n                                                                            item[3], \n                                                                            item[5], \n                                                                            score)) \n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 39, "user_id": 8721221, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/28eeab0a7b045159f17aa4ecc1e092af?s=128&d=identicon&r=PG&f=1", "display_name": "GraphicsLab", "link": "https://stackoverflow.com/users/8721221/graphicslab"}, "edited": false, "score": 0, "creation_date": 1507211017, "post_id": 46573952, "comment_id": 80127470, "body": "hi this looks like it would work with a bit of tweaking and help please can you check to see scoreList1 Actually works?"}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "reply_to_user": {"reputation": 39, "user_id": 8721221, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/28eeab0a7b045159f17aa4ecc1e092af?s=128&d=identicon&r=PG&f=1", "display_name": "GraphicsLab", "link": "https://stackoverflow.com/users/8721221/graphicslab"}, "edited": false, "score": 0, "creation_date": 1507211437, "post_id": 46573952, "comment_id": 80127819, "body": "GraphicsLab: I tested it with <code>ScoreList1</code> as shown before I posted it and it appeared to work."}, {"owner": {"reputation": 39, "user_id": 8721221, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/28eeab0a7b045159f17aa4ecc1e092af?s=128&d=identicon&r=PG&f=1", "display_name": "GraphicsLab", "link": "https://stackoverflow.com/users/8721221/graphicslab"}, "edited": false, "score": 0, "creation_date": 1507211735, "post_id": 46573952, "comment_id": 80128056, "body": "Where does ScoreList1 Numbers show up ? I need them to show up next to Couple A : ScoreList1 : ScoreList1 etc"}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "reply_to_user": {"reputation": 39, "user_id": 8721221, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/28eeab0a7b045159f17aa4ecc1e092af?s=128&d=identicon&r=PG&f=1", "display_name": "GraphicsLab", "link": "https://stackoverflow.com/users/8721221/graphicslab"}, "edited": false, "score": 0, "creation_date": 1507212189, "post_id": 46573952, "comment_id": 80128367, "body": "GraphicsLab: This does exactly that (uses the values from <code>ScoreList1</code> when printing the output for <code>Couple A</code>)."}, {"owner": {"reputation": 39, "user_id": 8721221, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/28eeab0a7b045159f17aa4ecc1e092af?s=128&d=identicon&r=PG&f=1", "display_name": "GraphicsLab", "link": "https://stackoverflow.com/users/8721221/graphicslab"}, "edited": false, "score": 0, "creation_date": 1507212483, "post_id": 46573952, "comment_id": 80128594, "body": "o yeah just realised is there anyway of keeping it in order?"}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "reply_to_user": {"reputation": 39, "user_id": 8721221, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/28eeab0a7b045159f17aa4ecc1e092af?s=128&d=identicon&r=PG&f=1", "display_name": "GraphicsLab", "link": "https://stackoverflow.com/users/8721221/graphicslab"}, "edited": false, "score": 0, "creation_date": 1507213106, "post_id": 46573952, "comment_id": 80129022, "body": "GraphicsLab: The argument passed in the <code>print()</code> call determines the order. I just copied what you had in your question. Feel free to change it however you want."}, {"owner": {"reputation": 39, "user_id": 8721221, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/28eeab0a7b045159f17aa4ecc1e092af?s=128&d=identicon&r=PG&f=1", "display_name": "GraphicsLab", "link": "https://stackoverflow.com/users/8721221/graphicslab"}, "edited": false, "score": 0, "creation_date": 1507213351, "post_id": 46573952, "comment_id": 80129196, "body": "omg I didn&#39;t even realise it wasn&#39;t keeping the order sorry! would you be able to help with that?"}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "reply_to_user": {"reputation": 39, "user_id": 8721221, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/28eeab0a7b045159f17aa4ecc1e092af?s=128&d=identicon&r=PG&f=1", "display_name": "GraphicsLab", "link": "https://stackoverflow.com/users/8721221/graphicslab"}, "edited": false, "score": 0, "creation_date": 1507213453, "post_id": 46573952, "comment_id": 80129261, "body": "Just list them in ascending order. i.e. <code>Item[0]</code>, <code>Item[1]</code>...<code>Item[5]</code>. BTW, note that the code modifies the values for the <code>&quot;Couple A&quot;</code> sublist in <code>nestedList</code>."}, {"owner": {"reputation": 39, "user_id": 8721221, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/28eeab0a7b045159f17aa4ecc1e092af?s=128&d=identicon&r=PG&f=1", "display_name": "GraphicsLab", "link": "https://stackoverflow.com/users/8721221/graphicslab"}, "edited": false, "score": 0, "creation_date": 1507481432, "post_id": 46573952, "comment_id": 80216432, "body": "sorry i didn&#39;t see this but yes yours works but can you help me add more scorelist next to each couple name as you have but on row 3 etc there gonna be a score list for all of them ps. ive edited mine to show this!"}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "reply_to_user": {"reputation": 39, "user_id": 8721221, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/28eeab0a7b045159f17aa4ecc1e092af?s=128&d=identicon&r=PG&f=1", "display_name": "GraphicsLab", "link": "https://stackoverflow.com/users/8721221/graphicslab"}, "edited": false, "score": 0, "creation_date": 1507482239, "post_id": 46573952, "comment_id": 80216701, "body": "Just do something similar to the <code>row</code> variable&#39;s value, only check <code>if item[0] == &quot;Couple B&quot;</code> and build the replacement using <code>ScoreList2</code>&#39;s values."}, {"owner": {"reputation": 39, "user_id": 8721221, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/28eeab0a7b045159f17aa4ecc1e092af?s=128&d=identicon&r=PG&f=1", "display_name": "GraphicsLab", "link": "https://stackoverflow.com/users/8721221/graphicslab"}, "edited": false, "score": 0, "creation_date": 1507482474, "post_id": 46573952, "comment_id": 80216786, "body": "can you do one more as an example please and ill build the rest maybe # telling me what to do im so sorry and your so helpful!"}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "reply_to_user": {"reputation": 39, "user_id": 8721221, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/28eeab0a7b045159f17aa4ecc1e092af?s=128&d=identicon&r=PG&f=1", "display_name": "GraphicsLab", "link": "https://stackoverflow.com/users/8721221/graphicslab"}, "edited": false, "score": 0, "creation_date": 1507483061, "post_id": 46573952, "comment_id": 80217009, "body": "If you&#39;re going to be doing more than a few (as it sounds like could be the case), there may be better ways to handle multiple replacements than explicitly checking for each one. Why do you want to do this in the first place? Because it sounds like it might really be an <a href=\"https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem\"><i><b>XY Problem</b></i></a>."}, {"owner": {"reputation": 39, "user_id": 8721221, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/28eeab0a7b045159f17aa4ecc1e092af?s=128&d=identicon&r=PG&f=1", "display_name": "GraphicsLab", "link": "https://stackoverflow.com/users/8721221/graphicslab"}, "edited": false, "score": 0, "creation_date": 1507483200, "post_id": 46573952, "comment_id": 80217061, "body": "i need a table in python to show my score and this is the best solution i have found would you be able to help ?"}, {"owner": {"reputation": 39, "user_id": 8721221, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/28eeab0a7b045159f17aa4ecc1e092af?s=128&d=identicon&r=PG&f=1", "display_name": "GraphicsLab", "link": "https://stackoverflow.com/users/8721221/graphicslab"}, "edited": false, "score": 0, "creation_date": 1507487158, "post_id": 46573952, "comment_id": 80218356, "body": "Didn&#39;t see you edited but just did and made what i wanted thank so so much do you want me to post my final code so you can see?!"}, {"owner": {"reputation": 39, "user_id": 8721221, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/28eeab0a7b045159f17aa4ecc1e092af?s=128&d=identicon&r=PG&f=1", "display_name": "GraphicsLab", "link": "https://stackoverflow.com/users/8721221/graphicslab"}, "edited": false, "score": 0, "creation_date": 1507487400, "post_id": 46573952, "comment_id": 80218435, "body": "when it writes to a text doc it dont keep format can you help? becuase there no \\n to make a new line"}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "reply_to_user": {"reputation": 39, "user_id": 8721221, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/28eeab0a7b045159f17aa4ecc1e092af?s=128&d=identicon&r=PG&f=1", "display_name": "GraphicsLab", "link": "https://stackoverflow.com/users/8721221/graphicslab"}, "edited": false, "score": 0, "creation_date": 1507487892, "post_id": 46573952, "comment_id": 80218593, "body": "I&#39;m skeptical that just writing (more) code for you (that you apparently don&#39;t understand) is doing you a favor. As far as updating your question, do whatever you wish, it&#39;s yours. To get the missing newline when writing to a file with the <code>write()</code> method, you must explicitly add it to the string yourself (by adding a <code>+ &#39;\\n&#39;</code>)\u2014which <code>print()</code> was doing automatically."}, {"owner": {"reputation": 39, "user_id": 8721221, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/28eeab0a7b045159f17aa4ecc1e092af?s=128&d=identicon&r=PG&f=1", "display_name": "GraphicsLab", "link": "https://stackoverflow.com/users/8721221/graphicslab"}, "edited": false, "score": 0, "creation_date": 1507488171, "post_id": 46573952, "comment_id": 80218717, "body": "cheers yes i understand why you dont want to give me code thanks for your help just working out what put to put \\n thank you for your help!"}], "tags": [], "owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "is_accepted": true, "score": 1, "last_activity_date": 1507487333, "last_edit_date": 1507487333, "creation_date": 1507150243, "answer_id": 46573952, "question_id": 46573484, "link": "https://stackoverflow.com/questions/46573484/how-to-use-a-list-in-a-nested-list-that-dont-except-list-and-wants-string/46573952#46573952", "title": "How to use a list in a nested list that don&#39;t except list and wants string?", "body": "<p>The simplest way to do it is to just check for the <code>\"Couple A\"</code> line and use <code>ScoreList1</code> in place of its values when appropriate:</p>\n\n<pre><code>ScoreList1= ['04', '05', '01', '07', '08']\n\nnestedList = [[\"Judge\",    \"01\", \"02\", \"03\", \"04\", \"05\"],\n              [\"Couple A\", \"10\", \"06\", \"03\", \"04\", \"05\"],\n              [\"Couple B\", \"01\", \"02\", \"03\", \"04\", \"05\"],\n              [\"Couple C\", \"07\", \"10\", \"03\", \"04\", \"05\"],\n              [\"Couple D\", \"01\", \"02\", \"10\", \"04\", \"05\"],]\n\nfor item in nestedList:\n    row = item[:1] + ScoreList1 if item[0] == \"Couple A\" else item\n    print(  \": \" + row[0] + \" \"*(9-len(row[0]))\n          + \": \" + row[1] + \" \"*(3-len(row[1]))\n          + \": \" + row[2] + \" \"*(3-len(row[2]))\n          + \": \" + row[3] + \" \"*(3-len(row[3]))\n          + \": \" + row[4] + \" \"*(3-len(row[4]))\n          + \": \" + row[5] + \" \"*(3-len(row[5])))\n</code></pre>\n\n<p>Since you indicated you now want the elements of each sublist printed in order, the construction  of the <code>print()</code> argument could be simplified:</p>\n\n<pre><code>for item in nestedList:\n    row = item[:1] + ScoreList1 if item[0] == \"Couple A\" else item\n    print(\": {:&lt;8} \".format(row[0])\n          + \"\".join(\": {:&lt;2} \".format(field) for field in row[1:]))\n</code></pre>\n\n<p>To extend this to handle two or more substitutions, while you <em>could</em> do something like this:</p>\n\n<pre><code>ScoreList1= ['04', '05', '01', '07', '08']\nScoreList2= ['07', '02', '01', '02', '08']\n\nfor item in nestedList:\n    row = (item[:1] + ScoreList1 if item[0] == \"Couple A\" else\n           item[:1] + ScoreList2 if item[0] == \"Couple B\" else item) # etc, etc\n    print(\": {:&lt;8} \".format(row[0])\n          + \"\".join(\": {:&lt;2} \".format(field) for field in row[1:]))\n</code></pre>\n\n<p>That approach, however, could easily get unwieldy as well as also become relatively slow if there's more than a few to deal with\u2014so it would be better and faster to make the process \"table-driven\" (using what is known as a <a href=\"https://en.wikipedia.org/wiki/Control_table\" rel=\"nofollow noreferrer\">Control Table</a>) and write code handle all the cases once (as opposed writing small fragments of it for each individual case):</p>\n\n<pre><code>substitutions = {\"Couple A\": ScoreList1, \"Couple B\": ScoreList2}\n\nfor item in nestedList:\n    row = item[:1] + substitutions.get(item[0], item[1:])\n    print(\": {:&lt;8} \".format(row[0])\n          + \"\".join(\": {:&lt;2} \".format(field) for field in row[1:]))\n</code></pre>\n"}], "owner": {"reputation": 39, "user_id": 8721221, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/28eeab0a7b045159f17aa4ecc1e092af?s=128&d=identicon&r=PG&f=1", "display_name": "GraphicsLab", "link": "https://stackoverflow.com/users/8721221/graphicslab"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "accepted_answer_id": 46573952, "answer_count": 2, "score": -2, "last_activity_date": 1507487582, "creation_date": 1507148344, "last_edit_date": 1507487582, "question_id": 46573484, "link": "https://stackoverflow.com/questions/46573484/how-to-use-a-list-in-a-nested-list-that-dont-except-list-and-wants-string", "title": "How to use a list in a nested list that don&#39;t except list and wants string?", "body": "<p>I have this bit of code that works but I would like to use <code>ScoreList1</code> as a part of the nested list but is asking for a string not a list.</p>\n\n<p>I need it to work with lists as I have an input that appends to a list.</p>\n\n<pre><code>ScoreList1= ['04', '05', '01', '07', '08']\n\nnestedList = [[\"Judge\",\"01\",\"02\",\"03\",\"04\",\"05\"],\n              [\"Couple A\",\"10\",\"06\",\"03\",\"04\",\"05\"],\n              [\"Couple B\",\"01\",\"02\",\"03\",\"04\",\"05\"],\n              [\"Couple C\",\"07\",\"10\",\"03\",\"04\",\"05\"],\n              [\"Couple D\",\"01\",\"02\",\"10\",\"04\",\"05\"],]\n\nfor item in nestedList:\n    print(\n    \": \"+item[0] + \" \"*(9-len(item[0]))+\": \"+\n         item[1] + \" \"*(3-len(item[1]))+\": \"+\n         item[4] + \" \"*(3-len(item[4]))+\": \"+\n         item[2] + \" \"*(3-len(item[2]))+\": \"+\n         item[3] + \" \"*(3-len(item[3]))+\": \"+\n         item[5] + \" \"*(3-len(item[5]))+\": \")\n</code></pre>\n\n<p>this is my expected output:</p>\n\n<pre><code>: Judge    : 01 : 04 : 02 : 03 : 05 : \n: Couple A : 10 : 04 : 06 : 03 : 05 : \n: Couple B : 01 : 04 : 02 : 03 : 05 : \n: Couple C : 07 : 04 : 10 : 03 : 05 : \n: Couple D : 01 : 04 : 02 : 10 : 05 : \n</code></pre>\n\n<p>but where the line couple a is I want the numbers in scorelist1</p>\n\n<p>edited:</p>\n\n<pre><code>    ScoreList1= ['04', '05', '01', '07', '08']\nScoreList2= ['07', '02', '01', '02', '08']\n\nnestedList = [[\"Judge\",\"01\",\"02\",\"03\",\"04\",\"05\"],\n             [\"Couple A\",\"10\",\"06\",\"03\",\"04\",\"05\"],\n              [\"Couple B\",\"01\",\"02\",\"03\",\"04\",\"05\"],\n              [\"Couple C\",\"07\",\"10\",\"03\",\"04\",\"05\"],\n              [\"Couple D\",\"01\",\"02\",\"10\",\"04\",\"05\"],]\n\nfor item in nestedList:\n    row = item[:1] + ScoreList1 if item[0] == \"Couple A\" else item\n    print(\": {:&lt;8} \".format(row[0])\n          + \"\".join(\": {:&lt;2} \".format(field) for field in row[1:]))\n</code></pre>\n\n<p>need scorelist2 next to couple B</p>\n\n<p>Edit 2:</p>\n\n<pre><code>    ScoreList1= ['04', '05', '01', '07', '08']\nScoreList2= ['07', '02', '01', '02', '08']\nScoreList3= ['02', '01', '01', '10', '08']\nScoreList4= ['01', '10', '02', '10', '09']\nScoreList5= ['02', '08', '01', '10', '01']\nScoreList6= ['01', '07', '01', '01', '01']\n\nnestedListOfNames = [[\"Couple A\"],\n                     [\"Couple B\"],\n                     [\"Couple C\"],\n                     [\"Couple D\"],\n                     [\"Couple E\"],\n                     [\"Couple F\"]]\nprint(\": Judge    : 01 : 02 : 03 : 04 : 05\")\nprint(\"\")\nsubstitutions = {\"Couple A\": ScoreList1, \"Couple B\": ScoreList2, \"Couple C\": ScoreList3, \"Couple D\": ScoreList4, \"Couple E\" : ScoreList5, \"Couple F\" : ScoreList6}\nwith open(\"myfile.txt\",'w') as outfile:\n    for item in nestedListOfNames:\n        row = item[:1] + substitutions.get(item[0], item[1:],)\n        outfile.write(\": {:&lt;8} \".format(row[0])\n        + \"\".join(\": {:&lt;2} \".format(field) for field in row[1:]))\noutfile.close()\n</code></pre>\n\n<p>how can i use \\n to break the lines up for the text file?</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 49388, "user_id": 6779307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p7O3q.jpg?s=128&g=1", "display_name": "Patrick Haugh", "link": "https://stackoverflow.com/users/6779307/patrick-haugh"}, "edited": false, "score": 1, "creation_date": 1507148155, "post_id": 46573409, "comment_id": 80100513, "body": "the <code>else</code> clause in <code>_gcd</code> doesn&#39;t return anything, so if the function can end without a <code>return</code>, which returns <code>None</code>"}], "answers": [{"tags": [], "owner": {"reputation": 1678, "user_id": 6895491, "user_type": "registered", "profile_image": "https://graph.facebook.com/10157453976390237/picture?type=large", "display_name": "Brenden Petersen", "link": "https://stackoverflow.com/users/6895491/brenden-petersen"}, "is_accepted": false, "score": 1, "last_activity_date": 1507148227, "creation_date": 1507148227, "answer_id": 46573456, "question_id": 46573409, "link": "https://stackoverflow.com/questions/46573409/why-the-output-is-returning-none-type/46573456#46573456", "title": "Why the output is returning none type", "body": "<p>You are not returning anything in the <code>else</code> case, so you get a return type of <code>None</code>. Change the recursion call:</p>\n\n<p><code>_gcd(y, x%y)</code></p>\n\n<p>to</p>\n\n<p><code>return self._gcd(y, x%y)</code></p>\n"}], "owner": {"reputation": 1, "user_id": 8722556, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a31a703a1fe295a539f1e39c7a726830?s=128&d=identicon&r=PG&f=1", "display_name": "johnraft", "link": "https://stackoverflow.com/users/8722556/johnraft"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 82, "favorite_count": 0, "closed_date": 1507148341, "answer_count": 1, "score": 0, "last_activity_date": 1507148388, "creation_date": 1507148007, "question_id": 46573409, "link": "https://stackoverflow.com/questions/46573409/why-the-output-is-returning-none-type", "closed_reason": "Duplicate", "title": "Why the output is returning none type", "body": "<p>Below is the code. the main() test is suppose to return greatest common divisor but it is returning None type. Not understanding the return calls issue in gcd</p>\n\n<pre><code>class Fraction:\n    def __init__(self, x, y):\n        self._x = x\n        self._y = y\n\n    def gcd(self):\n        p = self._gcd(self._x, self._y)\n        return p\n\n    def _gcd(self, x, y):\n        if (x % y == 0):\n            return y\n        else:\n             _gcd(y, x%y)\n\n\ndef main():\n    f = Fraction(6,4)\n    return f.gcd()\nif __name__ == '__main__':\n    print (main()) \n</code></pre>\n"}, {"tags": ["python", "pandas", "pickle"], "comments": [{"owner": {"reputation": 37822, "user_id": 1231450, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b9c98b4ce12bf9fd925d8c35c8861bb2?s=128&d=identicon&r=PG", "display_name": "Jan", "link": "https://stackoverflow.com/users/1231450/jan"}, "edited": false, "score": 0, "creation_date": 1507147910, "post_id": 46573353, "comment_id": 80100409, "body": "Convert it to csv, the internal modules might have changed."}, {"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1507147989, "post_id": 46573353, "comment_id": 80100443, "body": "The issue is that you&#39;re trying to save and load between different pandas versions."}, {"owner": {"reputation": 109, "user_id": 6697185, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-4kJp_FykUFo/AAAAAAAAAAI/AAAAAAAAAOQ/fAXMMlXvI24/photo.jpg?sz=128", "display_name": "Ozzycalifornia", "link": "https://stackoverflow.com/users/6697185/ozzycalifornia"}, "edited": false, "score": 0, "creation_date": 1507148448, "post_id": 46573353, "comment_id": 80100630, "body": "Thanks, I figured out that part of the problem. So, what is the best way to transfer dataframes between different versions of pandas then?"}, {"owner": {"reputation": 109, "user_id": 6697185, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-4kJp_FykUFo/AAAAAAAAAAI/AAAAAAAAAOQ/fAXMMlXvI24/photo.jpg?sz=128", "display_name": "Ozzycalifornia", "link": "https://stackoverflow.com/users/6697185/ozzycalifornia"}, "edited": false, "score": 1, "creation_date": 1507148729, "post_id": 46573353, "comment_id": 80100764, "body": "I find statements like this: &quot;pandas offers back compat not forward compat (meaning a newer versions can read older, but older cannot read newer)&quot;, that however doesn&#39;t seem to be true...."}], "owner": {"reputation": 109, "user_id": 6697185, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-4kJp_FykUFo/AAAAAAAAAAI/AAAAAAAAAOQ/fAXMMlXvI24/photo.jpg?sz=128", "display_name": "Ozzycalifornia", "link": "https://stackoverflow.com/users/6697185/ozzycalifornia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 647, "favorite_count": 0, "closed_date": 1507148017, "answer_count": 0, "score": 1, "last_activity_date": 1507147782, "creation_date": 1507147782, "question_id": 46573353, "link": "https://stackoverflow.com/questions/46573353/why-wont-pandas-read-pickle-file-generated-with-older-pandas-version", "closed_reason": "Duplicate", "title": "Why won&#39;t pandas read pickle file generated with older pandas version?", "body": "<p>I have a very simple Series in pandas:</p>\n\n<pre><code>df8 = pd.Series([293.412, 290.743,283.179, 300.837, 334.139, 305.404], index = [0.00, 0.08, 0.16, 0.24, 0.32, 0.40]) \n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/zxzih.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zxzih.png\" alt=\"enter image description here\"></a></p>\n\n<p>I save this Series using:</p>\n\n<pre><code>df8.to_pickle('testdf')\n</code></pre>\n\n<p>When I reload the file using the same computer and hence the same pandas version (0.19.2) everything works fine with:</p>\n\n<pre><code>df = pd.read_pickle('testdf')\n</code></pre>\n\n<p>However, when I try the same on another computer with the pandas version (0.20.3) I get an error message:</p>\n\n<p>ModuleNotFoundError: No module named 'pandas.indexes'</p>\n\n<p>Any idea how that problem could be solved?</p>\n"}, {"tags": ["python", "apache-spark", "pyspark"], "answers": [{"comments": [{"owner": {"reputation": 363, "user_id": 2763088, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/958bd4ceba83a99b9a438baf9c5efacd?s=128&d=identicon&r=PG&f=1", "display_name": "user2763088", "link": "https://stackoverflow.com/users/2763088/user2763088"}, "edited": false, "score": 0, "creation_date": 1507163825, "post_id": 46573818, "comment_id": 80105678, "body": "thanks for response. Do you think any other function could do similar job."}, {"owner": {"reputation": 363, "user_id": 2763088, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/958bd4ceba83a99b9a438baf9c5efacd?s=128&d=identicon&r=PG&f=1", "display_name": "user2763088", "link": "https://stackoverflow.com/users/2763088/user2763088"}, "reply_to_user": {"reputation": 45172, "user_id": 4685471, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/327dc718c142e3ea70e5db4b38050a36?s=128&d=identicon&r=PG", "display_name": "desertnaut", "link": "https://stackoverflow.com/users/4685471/desertnaut"}, "edited": false, "score": 0, "creation_date": 1507301518, "post_id": 46573818, "comment_id": 80168838, "body": "@desertnaut thanks for comments - I understand that we have library for org.apache.spark.ml.linalg in 1.6.1 however the method &#39;fromML&#39; is not available in 1.6.1"}], "tags": [], "owner": {"reputation": 21, "user_id": 8722749, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/d66779eec42f21938f5cddcfa64bcba5?s=128&d=identicon&r=PG", "display_name": "user8722749", "link": "https://stackoverflow.com/users/8722749/user8722749"}, "is_accepted": false, "score": 2, "last_activity_date": 1507149687, "creation_date": 1507149687, "answer_id": 46573818, "question_id": 46573349, "link": "https://stackoverflow.com/questions/46573349/what-is-equivalent-method-for-fromml-in-spark-version-1-6-3/46573818#46573818", "title": "what is equivalent method for fromML in spark version 1.6.3", "body": "<p>Spark 1.x (including 1.6.1) doesn't provide <code>org.apache.spark.ml.linalg</code> package so there can be no equivalent.</p>\n"}], "owner": {"reputation": 363, "user_id": 2763088, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/958bd4ceba83a99b9a438baf9c5efacd?s=128&d=identicon&r=PG&f=1", "display_name": "user2763088", "link": "https://stackoverflow.com/users/2763088/user2763088"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1507298794, "creation_date": 1507147760, "question_id": 46573349, "link": "https://stackoverflow.com/questions/46573349/what-is-equivalent-method-for-fromml-in-spark-version-1-6-3", "title": "what is equivalent method for fromML in spark version 1.6.3", "body": "<p>I'm looking for equivalent method for fromML that can be used and available in spark 1.6.1? </p>\n\n<p>Below is information about fromML method it's available under spark 2.0 version but not sure any equivalent or alternate function that I can use in 1.6.1`  </p>\n\n<p><a href=\"https://spark.apache.org/docs/2.0.1/api/java/org/apache/spark/mllib/linalg/Vectors.html\" rel=\"nofollow noreferrer\">\"https://spark.apache.org/docs/2.0.1/api/java/org/apache/spark/mllib/linalg/Vectors.html\"</a> </p>\n\n<p>Let me know if you need any further details, thank you in advance. </p>\n"}]