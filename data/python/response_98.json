[{"tags": ["python"], "answers": [{"comments": [{"owner": {"reputation": 5300, "user_id": 4727702, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EfsoQ.jpg?s=128&g=1", "display_name": "Yevhen Kuzmovych", "link": "https://stackoverflow.com/users/4727702/yevhen-kuzmovych"}, "edited": false, "score": 1, "creation_date": 1479945940, "post_id": 40776112, "comment_id": 68775939, "body": "Good solution. But I would consider a situation with more than one max value which will produce more than one <code>1</code> in the row."}, {"owner": {"reputation": 39529, "user_id": 2063361, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/jB77z.jpg?s=128&g=1", "display_name": "Anonymous", "link": "https://stackoverflow.com/users/2063361/anonymous"}, "reply_to_user": {"reputation": 5300, "user_id": 4727702, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EfsoQ.jpg?s=128&g=1", "display_name": "Yevhen Kuzmovych", "link": "https://stackoverflow.com/users/4727702/yevhen-kuzmovych"}, "edited": false, "score": 0, "creation_date": 1479946077, "post_id": 40776112, "comment_id": 68775983, "body": "I believe it should be more than <code>1</code> in that case. As I mentioned I do not know the definition of <i>hot result</i>, but I guessed it based on the pattern. If it has to be one. above solution could be modified"}, {"owner": {"reputation": 39529, "user_id": 2063361, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/jB77z.jpg?s=128&g=1", "display_name": "Anonymous", "link": "https://stackoverflow.com/users/2063361/anonymous"}, "reply_to_user": {"reputation": 5300, "user_id": 4727702, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EfsoQ.jpg?s=128&g=1", "display_name": "Yevhen Kuzmovych", "link": "https://stackoverflow.com/users/4727702/yevhen-kuzmovych"}, "edited": false, "score": 0, "creation_date": 1479946634, "post_id": 40776112, "comment_id": 68776109, "body": "@YevhenKuzmovych : I think that was the valid scenario based on <b><i>one</b> hot</i> in question. Made an edit"}, {"owner": {"reputation": 5300, "user_id": 4727702, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EfsoQ.jpg?s=128&g=1", "display_name": "Yevhen Kuzmovych", "link": "https://stackoverflow.com/users/4727702/yevhen-kuzmovych"}, "edited": false, "score": 1, "creation_date": 1479947725, "post_id": 40776112, "comment_id": 68776352, "body": "That would work. But <code>1 not in hot_list</code> increases complexity up to n^2 (if it matters)."}, {"owner": {"reputation": 39529, "user_id": 2063361, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/jB77z.jpg?s=128&g=1", "display_name": "Anonymous", "link": "https://stackoverflow.com/users/2063361/anonymous"}, "reply_to_user": {"reputation": 5300, "user_id": 4727702, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EfsoQ.jpg?s=128&g=1", "display_name": "Yevhen Kuzmovych", "link": "https://stackoverflow.com/users/4727702/yevhen-kuzmovych"}, "edited": false, "score": 0, "creation_date": 1479948057, "post_id": 40776112, "comment_id": 68776425, "body": "@YevhenKuzmovych: Yes, it would have. Updated the answer using flag :)"}], "tags": [], "owner": {"reputation": 39529, "user_id": 2063361, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/jB77z.jpg?s=128&g=1", "display_name": "Anonymous", "link": "https://stackoverflow.com/users/2063361/anonymous"}, "is_accepted": false, "score": 2, "last_activity_date": 1479948036, "last_edit_date": 1479948036, "creation_date": 1479945557, "answer_id": 40776112, "question_id": 40776069, "link": "https://stackoverflow.com/questions/40776069/python-convert-prediction-result-into-one-hot/40776112#40776112", "title": "python convert prediction result into one hot", "body": "<p>By one hot result I assume you want max value of each sub-list to be <code>1</code> and rest to be <code>0</code> (based on the pattern in current result). You may do it using <em>list comprehension</em> as:</p>\n\n<pre><code>&gt;&gt;&gt; [[int(item == max(sublist)) else 0 for item in sublist] for sublist in my_list]\n#      ^  converts bool value returned by `==` into `int`. True -&gt; 1, False -&gt; 0\n[[0, 1, 0], [0, 0, 1], [0, 1, 0], [1, 0, 0], [0, 1, 0]]\n</code></pre>\n\n<p>where <code>my_list</code> is your initial list.</p>\n\n<p>But in the above approach, you will be calculating <code>max()</code> each time while iteration over sub-list. Better way will be to do it like:</p>\n\n<pre><code>def get_hot_value(my_list):\n    max_val = max(my_list)\n    return [int(item == max_val) for item in my_list]\n\nhot_list = [get_hot_value(sublist) for sublist in my_list]\n</code></pre>\n\n<hr>\n\n<p><strong>Edit:</strong> If you are supposed to have just one <code>1</code> in the list (in case of more than 1 element of maximum value), you may modify the <code>get_hot_value</code> function as:</p>\n\n<pre><code>def get_hot_value(my_list):\n    max_val, hot_list, is_max_found = max(my_list), [], False\n    for item in my_list:\n        if item == max_val and not is_max_found:\n            hot_list.append(1)\n        else:\n            hot_list.append(0)\n            is_max_found = True\n    return hot_list\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 39529, "user_id": 2063361, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/jB77z.jpg?s=128&g=1", "display_name": "Anonymous", "link": "https://stackoverflow.com/users/2063361/anonymous"}, "edited": false, "score": 0, "creation_date": 1479948072, "post_id": 40776363, "comment_id": 68776432, "body": "One of the simple and good approach to get this done in case only single <code>1</code> is required in the list"}], "tags": [], "owner": {"reputation": 5300, "user_id": 4727702, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EfsoQ.jpg?s=128&g=1", "display_name": "Yevhen Kuzmovych", "link": "https://stackoverflow.com/users/4727702/yevhen-kuzmovych"}, "is_accepted": false, "score": 1, "last_activity_date": 1479947578, "creation_date": 1479947578, "answer_id": 40776363, "question_id": 40776069, "link": "https://stackoverflow.com/questions/40776069/python-convert-prediction-result-into-one-hot/40776363#40776363", "title": "python convert prediction result into one hot", "body": "<p>I would suggest this:</p>\n\n<pre><code>n = [[0.33058667182922363, 0.3436272442340851, 0.3257860243320465],\n     [0.32983461022377014, 0.3487854599952698, 0.4213798701763153],\n     [0.3311253488063812, 0.3473075330257416, 0.3215670585632324],\n     [0.38368630170822144, 0.35151687264442444, 0.3247968554496765],\n     [0.3332786560058594, 0.343686580657959, 0.32303473353385925]]\n\nhot_results = []\n\nfor row in n:\n    hot_index = row.index(max(row))\n    hot_result = [0] * len(row)\n    hot_result[hot_index] = 1\n    hot_results.append(hot_result)\n\nprint(hot_results)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1990, "user_id": 5766416, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/7523ff30702cb6b742a12335bcc08129?s=128&d=identicon&r=PG", "display_name": "Wboy", "link": "https://stackoverflow.com/users/5766416/wboy"}, "is_accepted": false, "score": 2, "last_activity_date": 1479949954, "creation_date": 1479949954, "answer_id": 40776642, "question_id": 40776069, "link": "https://stackoverflow.com/questions/40776069/python-convert-prediction-result-into-one-hot/40776642#40776642", "title": "python convert prediction result into one hot", "body": "<p>The other solutions are good, and solve the problem. Alternatively, if you have numpy,</p>\n\n<pre><code>import numpy as np\nn = [[0.33058667182922363, 0.3436272442340851, 0.3257860243320465],\n     [0.32983461022377014, 0.3487854599952698, 0.4213798701763153],\n     [0.3311253488063812, 0.3473075330257416, 0.3215670585632324],\n     [0.38368630170822144, 0.35151687264442444, 0.3247968554496765],\n     [0.3332786560058594, 0.343686580657959, 0.32303473353385925]]\n\nmax_indices = np.argmax(n,axis=1)\n\nfinal_values = [n[i] for i in max_indices]\n</code></pre>\n\n<p>argmax is able to find the index of the maximum value in that row, then you just need to do one list comprehension over that. Should be pretty fast I guess?</p>\n"}], "owner": {"reputation": 31, "user_id": 1768619, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ccdff6196651b11feab07008c035a597?s=128&d=identicon&r=PG", "display_name": "user1768619", "link": "https://stackoverflow.com/users/1768619/user1768619"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 202, "favorite_count": 0, "answer_count": 3, "score": 3, "last_activity_date": 1479949954, "creation_date": 1479945261, "question_id": 40776069, "link": "https://stackoverflow.com/questions/40776069/python-convert-prediction-result-into-one-hot", "title": "python convert prediction result into one hot", "body": "<p>I run python neural network prediction expecting one hot result and got back numbers as follow:</p>\n\n<pre><code>[[0.33058667182922363, 0.3436272442340851, 0.3257860243320465], \n[0.32983461022377014, 0.3487854599952698, 0.4213798701763153], \n[0.3311253488063812, 0.3473075330257416, 0.3215670585632324], \n[0.38368630170822144, 0.35151687264442444, 0.3247968554496765], \n[0.3332786560058594, 0.343686580657959, 0.32303473353385925]]\n</code></pre>\n\n<p>how can I convert the array into one hot result, i.e.</p>\n\n<pre><code>[[0,1,0],\n[0,0,1],\n[0,1,0],\n[1,0,0]\n[0,1,0]]\n</code></pre>\n"}, {"tags": ["python", "mathematical-optimization", "gurobi"], "answers": [{"tags": [], "owner": {"reputation": 4806, "user_id": 446610, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/115fdf94f87f4fc3f0a817e514e0cbfc?s=128&d=identicon&r=PG", "display_name": "Greg Glockner", "link": "https://stackoverflow.com/users/446610/greg-glockner"}, "is_accepted": false, "score": 1, "last_activity_date": 1479945884, "creation_date": 1479945884, "answer_id": 40776153, "question_id": 40776002, "link": "https://stackoverflow.com/questions/40776002/python-gurobi-iteration-with-a-threshold-on-gap/40776153#40776153", "title": "Python Gurobi : Iteration with a threshold on gap", "body": "<p>In most cases, it's easier to use restarts with multiple termination criteria; for details, see <a href=\"http://www.gurobi.com/support/faqs\" rel=\"nofollow noreferrer\">Gurobi FAQ 13</a>.  If you must use a callback, look at the callback code in the examples subdirectory.</p>\n"}], "owner": {"reputation": 118, "user_id": 6421428, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/cd3d1c1623bc89c3966ba81b1118e201?s=128&d=identicon&r=PG&f=1", "display_name": "Issouf", "link": "https://stackoverflow.com/users/6421428/issouf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 203, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1583927733, "creation_date": 1479944778, "question_id": 40776002, "link": "https://stackoverflow.com/questions/40776002/python-gurobi-iteration-with-a-threshold-on-gap", "title": "Python Gurobi : Iteration with a threshold on gap", "body": "<p>I try to solve a MIP for planification over several periods by solving the same model over several ierations. How can i use 'callback' to go to next iteration when threshold of the gap is reached or the resolution takes some time without improvement ?\nThanks for all.</p>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 921, "user_id": 7170271, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/5vICV.jpg?s=128&g=1", "display_name": "Yale Newman", "link": "https://stackoverflow.com/users/7170271/yale-newman"}, "edited": false, "score": 0, "creation_date": 1479944902, "post_id": 40775982, "comment_id": 68775700, "body": "This is very similar to: <a href=\"http://stackoverflow.com/questions/40666628/count-rows-with-consecutive-dates-within-pandas-groupby\">link to related question</a> Just not quite there"}, {"owner": {"reputation": 8438, "user_id": 3511819, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/7fac02ad0909ae0411a642e72a1b41d8?s=128&d=identicon&r=PG", "display_name": "AlexG", "link": "https://stackoverflow.com/users/3511819/alexg"}, "edited": false, "score": 0, "creation_date": 1479949171, "post_id": 40775982, "comment_id": 68776658, "body": "What do you mean? The number of consecutive days going backwards? So you would identify &#39;2016-11-22&#39;,&#39;2016-11-21&#39;,&#39;2016-11-20&#39; as a chain and count is as 2?"}, {"owner": {"reputation": 921, "user_id": 7170271, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/5vICV.jpg?s=128&g=1", "display_name": "Yale Newman", "link": "https://stackoverflow.com/users/7170271/yale-newman"}, "reply_to_user": {"reputation": 8438, "user_id": 3511819, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/7fac02ad0909ae0411a642e72a1b41d8?s=128&d=identicon&r=PG", "display_name": "AlexG", "link": "https://stackoverflow.com/users/3511819/alexg"}, "edited": false, "score": 0, "creation_date": 1479951250, "post_id": 40775982, "comment_id": 68777122, "body": "@AlexG correct!"}, {"owner": {"reputation": 921, "user_id": 7170271, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/5vICV.jpg?s=128&g=1", "display_name": "Yale Newman", "link": "https://stackoverflow.com/users/7170271/yale-newman"}, "reply_to_user": {"reputation": 8438, "user_id": 3511819, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/7fac02ad0909ae0411a642e72a1b41d8?s=128&d=identicon&r=PG", "display_name": "AlexG", "link": "https://stackoverflow.com/users/3511819/alexg"}, "edited": false, "score": 0, "creation_date": 1479951281, "post_id": 40775982, "comment_id": 68777131, "body": "@kartik maybe youve got this one too"}, {"owner": {"reputation": 29554, "user_id": 839957, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/3ac5824c6cc4817a754a186d6a45a08b?s=128&d=identicon&r=PG", "display_name": "maxymoo", "link": "https://stackoverflow.com/users/839957/maxymoo"}, "edited": false, "score": 0, "creation_date": 1479952215, "post_id": 40775982, "comment_id": 68777373, "body": "just subtract 1 from your answer?"}, {"owner": {"reputation": 921, "user_id": 7170271, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/5vICV.jpg?s=128&g=1", "display_name": "Yale Newman", "link": "https://stackoverflow.com/users/7170271/yale-newman"}, "reply_to_user": {"reputation": 29554, "user_id": 839957, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/3ac5824c6cc4817a754a186d6a45a08b?s=128&d=identicon&r=PG", "display_name": "maxymoo", "link": "https://stackoverflow.com/users/839957/maxymoo"}, "edited": false, "score": 0, "creation_date": 1479952406, "post_id": 40775982, "comment_id": 68777426, "body": "@maxymoo this is going to be done on a much larger scale, across multiple sellers/ item numbers. i need a way to count how many days in a row from todays date. this example was put together yesterday."}, {"owner": {"reputation": 2296, "user_id": 5839618, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5ed391cd9b92ad37a5242cb69715593d?s=128&d=identicon&r=PG&f=1", "display_name": "3novak", "link": "https://stackoverflow.com/users/5839618/3novak"}, "reply_to_user": {"reputation": 29554, "user_id": 839957, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/3ac5824c6cc4817a754a186d6a45a08b?s=128&d=identicon&r=PG", "display_name": "maxymoo", "link": "https://stackoverflow.com/users/839957/maxymoo"}, "edited": false, "score": 0, "creation_date": 1479952438, "post_id": 40775982, "comment_id": 68777445, "body": "@maxymoo is right. you&#39;re counting the total number of consecutive values. you just need to subtract one to find the number of subsequent dates."}, {"owner": {"reputation": 921, "user_id": 7170271, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/5vICV.jpg?s=128&g=1", "display_name": "Yale Newman", "link": "https://stackoverflow.com/users/7170271/yale-newman"}, "reply_to_user": {"reputation": 29554, "user_id": 839957, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/3ac5824c6cc4817a754a186d6a45a08b?s=128&d=identicon&r=PG", "display_name": "maxymoo", "link": "https://stackoverflow.com/users/839957/maxymoo"}, "edited": false, "score": 0, "creation_date": 1479953137, "post_id": 40775982, "comment_id": 68777611, "body": "@maxymoo is not right. that is just saying 3-1=2. i&#39;ve edited the question."}], "answers": [{"comments": [{"owner": {"reputation": 921, "user_id": 7170271, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/5vICV.jpg?s=128&g=1", "display_name": "Yale Newman", "link": "https://stackoverflow.com/users/7170271/yale-newman"}, "edited": false, "score": 0, "creation_date": 1479958359, "post_id": 40777018, "comment_id": 68778849, "body": "this looks promising! i was thinking it&#39;d take a loop to evaluate if the timedelta is = 1 day then continue. imagine i could use a while loop or something idk. i&#39;ll play with this and get back to you. appreciate the feedback!"}], "tags": [], "owner": {"reputation": 8438, "user_id": 3511819, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/7fac02ad0909ae0411a642e72a1b41d8?s=128&d=identicon&r=PG", "display_name": "AlexG", "link": "https://stackoverflow.com/users/3511819/alexg"}, "is_accepted": false, "score": 0, "last_activity_date": 1479953198, "creation_date": 1479953198, "answer_id": 40777018, "question_id": 40775982, "link": "https://stackoverflow.com/questions/40775982/pandas-count-consecutive-dates-in-a-row-from-start-position/40777018#40777018", "title": "PANDAS count consecutive dates in a row from start position", "body": "<p>Looks like you have some nice functional methods that will probably work for you. But if you want ugly ... I can give you ugly.</p>\n\n<pre><code>date = df.iloc[0, 1]\ncount = 0\n\nconsecutive_obs = []\nfor i, row in enumerate(df.values):\n\n    if row[1] == date - datetime.timedelta(days=1):\n        print(row)\n        count += 1\n    else:\n        if i &gt; 0:\n            consecutive_obs = consecutive_obs + [count]*(count + 1)\n            count = 0        \n    date = row[1]\n\nconsecutive_obs = consecutive_obs + [count]*(count + 1)\n\ndf['consecutive_obs'] = consecutive_obs\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 921, "user_id": 7170271, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/5vICV.jpg?s=128&g=1", "display_name": "Yale Newman", "link": "https://stackoverflow.com/users/7170271/yale-newman"}, "edited": false, "score": 0, "creation_date": 1479972935, "post_id": 40779301, "comment_id": 68783958, "body": "could you possibly throw in an explanation as to what is happening in your code? would love to be able to apply the logic in other situations. cheers. looks great!:)"}, {"owner": {"reputation": 921, "user_id": 7170271, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/5vICV.jpg?s=128&g=1", "display_name": "Yale Newman", "link": "https://stackoverflow.com/users/7170271/yale-newman"}, "edited": false, "score": 0, "creation_date": 1480019602, "post_id": 40779301, "comment_id": 68810433, "body": "having trouble applying this to a dataset that&#39;s more similar to what i&#39;m actually working with. i&#39;ve edited the sample. would love if you could take a look!"}], "tags": [], "owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "is_accepted": false, "score": 3, "last_activity_date": 1479968502, "creation_date": 1479968502, "answer_id": 40779301, "question_id": 40775982, "link": "https://stackoverflow.com/questions/40775982/pandas-count-consecutive-dates-in-a-row-from-start-position/40779301#40779301", "title": "PANDAS count consecutive dates in a row from start position", "body": "<p><strong><em>setup</em></strong><br>\nfixed your data</p>\n\n<pre><code>d = {'item_number':['KIN005','KIN005','KIN005','KIN005','KIN005'],\n 'Comp_ID':['1395','1395','1395','1395','1395'],\n 'date':['2016-11-22','2016-11-21','2016-11-20','2016-11-14','2016-11-13']}\n\ndf = pd.DataFrame(data=d)\n\ndf.date = pd.to_datetime(df.date)\n</code></pre>\n\n<hr>\n\n<p><strong><em>solution</em></strong>  </p>\n\n<pre><code>d = pd.Timedelta(1, 'D')\ndf = df.sort_values('date', ascending=False)\nconsecutive = df.date.diff().fillna(0).abs().le(d)\nidx_loc = df.index.get_loc(consecutive.idxmin())\ndf.iloc[:idx_loc]\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/WfNUE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WfNUE.png\" alt=\"enter image description here\"></a></p>\n\n<hr>\n\n<p>your number of consecutives since most recent is simply</p>\n\n<pre><code>idx_loc - 1\n\n2\n</code></pre>\n"}], "owner": {"reputation": 921, "user_id": 7170271, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/5vICV.jpg?s=128&g=1", "display_name": "Yale Newman", "link": "https://stackoverflow.com/users/7170271/yale-newman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1983, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1480029503, "creation_date": 1479944634, "last_edit_date": 1480029503, "question_id": 40775982, "link": "https://stackoverflow.com/questions/40775982/pandas-count-consecutive-dates-in-a-row-from-start-position", "title": "PANDAS count consecutive dates in a row from start position", "body": "<p>This is an example of the data frame i'm working with:</p>\n\n<pre><code> d = {'item_number':['bdsm1000', 'bdsm1000', 'bdsm1000', 'ZZRWB18','ZZRWB18', 'ZZRWB18', 'ZZRWB18', 'ZZHP1427BLK', 'ZZHP1427', 'ZZHP1427', 'ZZHP1427', 'ZZHP1427', 'ZZHP1427', 'ZZHP1427', 'ZZHP1427', 'ZZHP1427', 'ZZHP1427', 'ZZHP1427', 'ZZHP1427', 'ZZHP1427', 'ZZHP1414', 'ZZHP1414', 'ZZHP1414', 'WRM115WNTR', 'WRM115WNTR', 'WRM115WNTR', 'WRM115WNTR', 'WRM115WNTR', 'WRM115WNTR', 'WRM115WNTR', 'WRM115WNTR', 'WRM115WNTR', 'WRM115WNTR', 'WRM115WNTR', 'WRM115WNTR', 'WRM115WNTR', 'WRM115SCFRE', 'WRM115SCFRE', 'WRM115SCFRE', 'WRM115SCFRE', 'WRM115SCFRE', 'WRM115SCFRE', 'WRM115SCFRE', 'WRM115SCFRE', 'WRM115SCFRE', 'WRM115SCFRE', 'WRM115SCFRE', 'WRM115SCFRE', 'WRM115SCFRE', 'WRM115SCFRE'], 'Comp_ID':, [2454, 2454, 2454, 1395, 1395, 1395, 1395, 3378, 1266941, 660867, 43978, 1266941, 660867, 43978, 1266941, 660867, 43978, 1266941, 660867, 43978, 43978, 43978, 43978, 1197347907, 70745, 4737, 1197347907, 4737, 1197347907, 70745, 4737, 1197347907, 70745, 4737, 1197347907, 4737, 1197487704, 1197347907, 70745, 23872, 4737, 1197347907, 4737, 1197487704, 1197347907, 23872, 4737, 1197487704, 1197347907, 70745]\n'date': ['2016-11-22', '2016-11-20', '2016-11-19', '2016-11-22', '2016-11-20', '2016-11-19', '2016-11-18', '2016-11-22', '2016-11-22', '2016-11-22', '2016-11-22', '2016-11-20', '2016-11-20', '2016-11-20', '2016-11-19', '2016-11-19', '2016-11-19', '2016-11-18', '2016-11-18', '2016-11-18', '2016-11-22', '2016-11-20', '2016-11-19', '2016-11-22', '2016-11-22', '2016-11-22', '2016-11-21', '2016-11-21', '2016-11-20', '2016-11-20', '2016-11-20', '2016-11-19', '2016-11-19', '2016-11-19', '2016-11-18', '2016-11-18', '2016-11-22', '2016-11-22', '2016-11-22', '2016-11-22', '2016-11-22', '2016-11-21', '2016-11-21', '2016-11-20', '2016-11-20', '2016-11-20', '2016-11-20', '2016-11-19', '2016-11-19', '2016-11-19']}\n\ndf = pd.DataFrame(data=d)\n</code></pre>\n\n<p>I'd like to count consecutive observations starting from 2016-11-22 that there are grouped by Comp_ID and item_number.</p>\n\n<p>Essentially, what I am looking to do, is count how many days in a row there is an observation counting back from todays date for each Comp_ID and item_number. (this example was put together on the 22nd of Nov) Consecutive observations observed weeks/ days prior to today are not relevant. Only sequences like today... yesterday... the day before yesterday... and so on are relevant. </p>\n\n<p>I got this to work on a smaller sample, but it seems to be getting tripped up on a larger data-set. </p>\n\n<pre><code>d = {'item_number':['KIN005','KIN005','KIN005','KIN005','KIN005','A789B','A789B','A789B','G123    H','G123H','G123H'],\n'Comp_ID':['1395','1395','1395','1395','1395','7787','7787','7787','1395','1395','1395'],\n'date':['2016-11-22','2016-11-21','2016-11-20','2016-11-14','2016-11-13','2016-11-22','2016-11-21','2016-11-12','2016-11-22','2016-11-21','2016-11-08']}\n\ndf = pd.DataFrame(data=d)\ndf.date = pd.to_datetime(df.date)\nd = pd.Timedelta(1, 'D')\n\ndf = df.sort_values(['item_number','date','Comp_ID'],ascending=False)\n\ng = df.groupby(['Comp_ID','item_number'])\nsequence = g['date'].apply(lambda x: x.diff().fillna(0).abs().le(d)).reset_index()\nsequence.set_index('index',inplace=True)\ntest = df.join(sequence)\ntest.columns = ['Comp_ID','date','item_number','consecutive']\ng = test.groupby(['Comp_ID','item_number'])\ng['consecutive'].apply(lambda x: x.idxmin() - x.idxmax() )\n</code></pre>\n\n<p>This gets the desired result for this data-set of:</p>\n\n<pre><code>Comp_ID  item_number\n1395     G123H          2\n         KIN005         3\n7787     KIN005         2\nName: consecutive, dtype: int64\n</code></pre>\n"}, {"tags": ["python", "html", "beautifulsoup"], "comments": [{"owner": {"reputation": 3219, "user_id": 564514, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/9423524ca73ace9b691c31ebb4150cd4?s=128&d=identicon&r=PG", "display_name": "paragbaxi", "link": "https://stackoverflow.com/users/564514/paragbaxi"}, "edited": false, "score": 0, "creation_date": 1479944695, "post_id": 40775930, "comment_id": 68775633, "body": "Did you try to save the file?  <code>from __future__ import print_function print(&quot;hi there&quot;, file=f)</code>"}], "answers": [{"comments": [{"owner": {"reputation": 7271, "user_id": 604048, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/3a3794db73b04bdb0e768f2f64c63369?s=128&d=identicon&r=PG", "display_name": "Andr&#233; C. Andersen", "link": "https://stackoverflow.com/users/604048/andr%c3%a9-c-andersen"}, "edited": false, "score": 0, "creation_date": 1589490100, "post_id": 40781315, "comment_id": 109323967, "body": "The <code>element.py</code> module in bs4 says <code>DEFAULT_OUTPUT_ENCODING = &quot;utf-8&quot;</code>, so I think you can omit the <code>&quot;utf-8&quot;</code>. But this is 2020, so things might have changed a lot since 2016."}], "tags": [], "owner": {"reputation": 37454, "user_id": 4985733, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/r7daF.jpg?s=128&g=1", "display_name": "Martin Evans", "link": "https://stackoverflow.com/users/4985733/martin-evans"}, "is_accepted": false, "score": 7, "last_activity_date": 1589551161, "last_edit_date": 1589551161, "creation_date": 1479976205, "answer_id": 40781315, "question_id": 40775930, "link": "https://stackoverflow.com/questions/40775930/using-beautifulsoup-to-modify-html/40781315#40781315", "title": "Using BeautifulSoup to modify HTML", "body": "<p>Two things:</p>\n\n<ol>\n<li>You need to add some code to write the output from BeautifulSoup back to a file.</li>\n<li>You should use <a href=\"https://www.crummy.com/software/BeautifulSoup/bs4/doc/#replace-with\" rel=\"nofollow noreferrer\"><code>replace_with()</code></a> to make changes to the HTML. By converting to a string, you were just modifying a textual copy.</li>\n</ol>\n\n<p>This can be done as follows:</p>\n\n<pre><code>from bs4 import BeautifulSoup\nimport os\n\nbase = os.path.dirname(os.path.abspath(__file__))\nhtml = open(os.path.join(base, 'example.html'))\nsoup = BeautifulSoup(html, 'html.parser')\n\nfor i in soup.find('div', {\"id\":None}).findChildren():\n    i.replace_with('##')\n\nwith open(\"example_modified.html\", \"wb\") as f_output:\n    f_output.write(soup.prettify(\"utf-8\"))  \n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 7111470, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fda6be91363446af167df010d0aa220?s=128&d=identicon&r=PG&f=1", "display_name": "michelle", "link": "https://stackoverflow.com/users/7111470/michelle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6903, "favorite_count": 1, "answer_count": 1, "score": 3, "last_activity_date": 1589551161, "creation_date": 1479944377, "last_edit_date": 1479976357, "question_id": 40775930, "link": "https://stackoverflow.com/questions/40775930/using-beautifulsoup-to-modify-html", "title": "Using BeautifulSoup to modify HTML", "body": "<p>I want to use Beautifulsoup to modify a whole <code>div</code> of a HTML. I was trying to modify the HTML, however the console output has the modifications, but the actual .html document itself is not modified. No new HTML was created.</p>\n\n<p>Can someone help me?</p>\n\n<pre><code>from bs4 import BeautifulSoup,Tag\nimport re\nimport urllib2\nimport os.path\nbase=os.path.dirname(os.path.abspath(__file__))\n\nhtml=open(os.path.join(base,'example.html'))\nsoup=BeautifulSoup(html,'html.parser')\n\n\nfor i in  soup.find('div',{\"id\":None}).findChildren():\n    l=str(i);\n    print l\n    print l.replace(l,'##')\n</code></pre>\n"}, {"tags": ["python", "django", "ubuntu", "nginx"], "comments": [{"owner": {"reputation": 47988, "user_id": 267540, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2v58W.jpg?s=128&g=1", "display_name": "e4c5", "link": "https://stackoverflow.com/users/267540/e4c5"}, "edited": false, "score": 0, "creation_date": 1479943910, "post_id": 40775832, "comment_id": 68775415, "body": "This has nothing to do with spread sheets! Please look at the nginx error log file and show the full stacktrace"}, {"owner": {"reputation": 203, "user_id": 3329636, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/50938b4c1d31e6ec7f8f25954f22e508?s=128&d=identicon&r=PG&f=1", "display_name": "Jason Boyce", "link": "https://stackoverflow.com/users/3329636/jason-boyce"}, "reply_to_user": {"reputation": 47988, "user_id": 267540, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2v58W.jpg?s=128&g=1", "display_name": "e4c5", "link": "https://stackoverflow.com/users/267540/e4c5"}, "edited": false, "score": 0, "creation_date": 1479944697, "post_id": 40775832, "comment_id": 68775635, "body": "Sure, where would I find that?"}, {"owner": {"reputation": 47988, "user_id": 267540, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2v58W.jpg?s=128&g=1", "display_name": "e4c5", "link": "https://stackoverflow.com/users/267540/e4c5"}, "edited": false, "score": 0, "creation_date": 1479945897, "post_id": 40775832, "comment_id": 68775925, "body": "The location of the log files will be defined in the gunicorn configuration. Usually this is /var/log/gunicorn"}, {"owner": {"reputation": 1068, "user_id": 4033988, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/44aa6507c1a9f910e8c3ec088cca681e?s=128&d=identicon&r=PG&f=1", "display_name": "aldesabido", "link": "https://stackoverflow.com/users/4033988/aldesabido"}, "edited": false, "score": 0, "creation_date": 1479955100, "post_id": 40775832, "comment_id": 68778042, "body": "Check your nginx error log /var/log/nginx/error.log"}, {"owner": {"reputation": 5580, "user_id": 662345, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/39d2ea0a36d1740e5f544076955a4b30?s=128&d=identicon&r=PG", "display_name": "Antonis Christofides", "link": "https://stackoverflow.com/users/662345/antonis-christofides"}, "edited": false, "score": 0, "creation_date": 1480060455, "post_id": 40775832, "comment_id": 68821507, "body": "You might need to increase your <code>proxy_read_timeout</code>."}], "owner": {"reputation": 203, "user_id": 3329636, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/50938b4c1d31e6ec7f8f25954f22e508?s=128&d=identicon&r=PG&f=1", "display_name": "Jason Boyce", "link": "https://stackoverflow.com/users/3329636/jason-boyce"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 35, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1479945802, "creation_date": 1479943801, "question_id": 40775832, "link": "https://stackoverflow.com/questions/40775832/nginx-spreadsheet-upload-results-in-bad-gateway", "title": "Nginx Spreadsheet Upload results in Bad Gateway", "body": "<p>I have a Django application I'm working on and I want to upload a bunch of spreadsheets into it. However, I'm getting a bunch of 502 Bad Gateway errors inconsistently, which is blowing up my attempt to upload spreadsheets.</p>\n\n<p>Is there something I can do to my nginx config to help it deal? I've been uploading spreadsheets in batches of 500, which I'm willing to do, but even those have been failing, and I have 85,000 entries total to upload. These are only 100kb files so I'm not sure what the problem is.</p>\n\n<p>Here is my nginx config:</p>\n\n<pre><code>server {\n        server_name http://mydomain;\n        # define buffers, necessary for proper communication to prevent 502s\n        proxy_buffer_size 128k;\n        proxy_buffers 4 256k;\n        proxy_busy_buffers_size 256k;\n\n        client_max_body_size 4g;\n\n        access_log off;\n\n        location /static/ {\n                alias /webapps/myapp/static/;\n        }\n\n        location / {\n                proxy_pass http://127.0.0.1:8001;\n                proxy_set_header X-Forwarded-Host $server_name;\n                proxy_set_header X-Real-IP $remote_addr;\n                add_header P3P 'CP=\"ALL DSP COR PSAa PSDa OUR NOR ONL UNI COM NAV\"';\n        }\n}\n</code></pre>\n\n<p>If there are other configurations I should upload info for, please let me know. Thanks!</p>\n"}, {"tags": ["python", "linear-regression", "bayesian", "pymc", "pymc3"], "comments": [{"owner": {"reputation": 1890, "user_id": 815542, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c7f19fc100f2efcfe6414ae6f06050cb?s=128&d=identicon&r=PG", "display_name": "aloctavodia", "link": "https://stackoverflow.com/users/815542/aloctavodia"}, "edited": false, "score": 2, "creation_date": 1479947230, "post_id": 40775817, "comment_id": 68776241, "body": "I am not able to reproduce your error. I notice that your model name is <code>basic_model</code>, but then you use <code>ppc = pm.sample_ppc(trace, model=model, samples=100)</code>. Aren&#39;t you just mixing variables? (probably because you are working with a Jupyter notebook)."}, {"owner": {"reputation": 533, "user_id": 5705270, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/SMqJC.jpg?s=128&g=1", "display_name": "Flow Nuwen", "link": "https://stackoverflow.com/users/5705270/flow-nuwen"}, "reply_to_user": {"reputation": 1890, "user_id": 815542, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c7f19fc100f2efcfe6414ae6f06050cb?s=128&d=identicon&r=PG", "display_name": "aloctavodia", "link": "https://stackoverflow.com/users/815542/aloctavodia"}, "edited": false, "score": 0, "creation_date": 1479948170, "post_id": 40775817, "comment_id": 68776455, "body": "Wow, that solved my problem. Thanks for taking the time to look at it, sometimes it helps to have another set of eyes!"}], "answers": [{"tags": [], "owner": {"reputation": 533, "user_id": 5705270, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/SMqJC.jpg?s=128&g=1", "display_name": "Flow Nuwen", "link": "https://stackoverflow.com/users/5705270/flow-nuwen"}, "is_accepted": true, "score": 2, "last_activity_date": 1479948378, "creation_date": 1479948378, "answer_id": 40776458, "question_id": 40775817, "link": "https://stackoverflow.com/questions/40775817/predicting-posterior-for-new-data-in-bayesian-linear-regression-using-pymc3/40776458#40776458", "title": "Predicting Posterior for New Data in Bayesian Linear Regression Using PyMC3", "body": "<p>As aloctavodia pointed out, this was a simple error in setting variables. In <code>ppc = pm.sample_ppc(trace, model=model, samples=100)</code>, <code>model</code> should be <code>model = basic_model</code></p>\n"}], "owner": {"reputation": 533, "user_id": 5705270, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/SMqJC.jpg?s=128&g=1", "display_name": "Flow Nuwen", "link": "https://stackoverflow.com/users/5705270/flow-nuwen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1555, "favorite_count": 0, "accepted_answer_id": 40776458, "answer_count": 1, "score": 3, "last_activity_date": 1479948378, "creation_date": 1479943692, "question_id": 40775817, "link": "https://stackoverflow.com/questions/40775817/predicting-posterior-for-new-data-in-bayesian-linear-regression-using-pymc3", "title": "Predicting Posterior for New Data in Bayesian Linear Regression Using PyMC3", "body": "<p>Using PyMC3 to perform bayesian linear regression. I built my model, and I want to predict the posterior for new X values using the same model. I have been attempting to follow the instructions at the documentation website: <a href=\"https://pymc-devs.github.io/pymc3/notebooks/posterior_predictive.html\" rel=\"nofollow noreferrer\">https://pymc-devs.github.io/pymc3/notebooks/posterior_predictive.html</a> (see Prediction). This involves making your X values a theano shared variable before analysis, and then changing the values after model building, and running <code>run_ppc()</code>. I ran a quick 200 iterations just as an example (I'd run a lot more for actual analysis). </p>\n\n<pre><code>X1_shared = theano.shared(final_df['poll_diff'].values)\nY1 = final_df['rd_diff'].values\n\nbasic_model = pm.Model()\nwith basic_model:\n\n    # Priors for unknown model parameters\n    sigma = HalfCauchy('sigma', beta=10, testval=1.)\n    intercept = Normal('Intercept', 0, sd=20)\n    x_coeff = Normal('x', 0, sd=20)\n\n    # Define likelihood\n    likelihood = Normal('y', mu=intercept + x_coeff * X1_shared,\n                        sd=sigma, observed= Y1)\n\n    #start = find_MAP()\n    start = find_MAP() # Find starting value by optimization\n    step = NUTS(scaling=start) # Instantiate MCMC sampling algorithm\n    trace = sample(200, step, start=start)\npm.traceplot(trace)\nplt.show()\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/ZAF2z.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZAF2z.png\" alt=\"enter image description here\"></a></p>\n\n<pre><code>sns.lmplot(x=\"poll_diff\", y=\"rd_diff\", data=final_df, size=10)\nx = np.array(range(-1, 2))\npm.glm.plot_posterior_predictive(trace, samples=100, eval=x)\nplt.show()\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/dw2kS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dw2kS.png\" alt=\"enter image description here\"></a></p>\n\n<pre><code>X1_shared.set_value(ana_2016_df['poll_diff'].values)\nppc = pm.sample_ppc(trace, model=model, samples=100)\n</code></pre>\n\n<p>But I get the following error: </p>\n\n<pre><code>AttributeError                            Traceback (most recent call last)\n&lt;ipython-input-73-9c1eb48d987f&gt; in &lt;module&gt;()\n----&gt; 1 ppc = pm.sample_ppc(trace, model=model, samples=100)\n\nC:\\Users\\W\\Anaconda3\\lib\\site-packages\\pymc3\\sampling.py in sample_ppc(trace, samples, model, vars, size, random_seed)\n    349 \n    350     if vars is None:\n--&gt; 351         vars = model.observed_RVs\n    352 \n    353     seed(random_seed)\n\nAttributeError: module 'pymc3.model' has no attribute 'observed_RVs'\n</code></pre>\n\n<p>Notably, if I use the patsy notation version, without changing the variables, this error does not pop up, but I don't know how the patsy format would accept a theano shared variable. So a solution would either address my error message, or show how to introduce a theano shared variable into the patsy version of the model. Thanks!</p>\n"}, {"tags": ["python", "apache", "python-3.x"], "owner": {"reputation": 517, "user_id": 6718984, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wrKry.jpg?s=128&g=1", "display_name": "Gytree", "link": "https://stackoverflow.com/users/6718984/gytree"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 136, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1479947447, "creation_date": 1479943687, "last_edit_date": 1479944681, "question_id": 40775816, "link": "https://stackoverflow.com/questions/40775816/http-client-get-a-404-error", "title": "http.client get a 404 error", "body": "<p>I am trying to make a GET request from a cgi file using the http.client from python, but I still get the 404 status code.</p>\n\n<p>The file is accessible, executable and I can access using the browser, but using the python client I get the 404 code.</p>\n\n<p>My code:</p>\n\n<pre><code>conn = client.HTTPConnection(args.domain)\nconn.request('GET', '/cgi_bin/cgi.py', headers={\n    'Connection': \"Keep-Alive\",\n    'Accept': ' text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8',\n})\nstatus = conn.getresponse().status\nconn.close()\n</code></pre>\n\n<p>the cgi test file:</p>\n\n<pre><code>#!/usr/bin/env python3\nprint(\"Content-Type: text/html;charset=utf-8\\n\\ntest_cgi\")\n</code></pre>\n\n<p>When I use the explorer I get the correct response (test_cgi) and the 200 OK, but when I use the http.client apache2 throws a 404 status.</p>\n\n<p>the apache log access:</p>\n\n<pre><code>127.0.0.1 - - [23/Nov/2016:04:20:25 -0400] \"GET /cgi-bin/cgi.py HTTP/1.1\" 200 210 \"-\" \"Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:49.0) Gecko/20100101 Firefox/49.0\"\n127.0.0.1 - - [23/Nov/2016:04:20:37 -0400] \"GET /cgi_bin/cgi.py HTTP/1.1\" 404 465 \"-\" \"-\"\n</code></pre>\n\n<p>Any idea why this happens?</p>\n"}, {"tags": ["python", "candlestick-chart"], "comments": [{"owner": {"reputation": 44000, "user_id": 535275, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/Ft2Mw.jpg?s=128&g=1", "display_name": "Scott Hunter", "link": "https://stackoverflow.com/users/535275/scott-hunter"}, "edited": false, "score": 1, "creation_date": 1479943563, "post_id": 40775789, "comment_id": 68775295, "body": "Because <code>candlestick</code> isn&#39;t installed properly?"}, {"owner": {"reputation": 38064, "user_id": 683080, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69ad2af1f028b1b7e76c14f83bdf26cb?s=128&d=identicon&r=PG", "display_name": "John Szakmeister", "link": "https://stackoverflow.com/users/683080/john-szakmeister"}, "edited": false, "score": 0, "creation_date": 1479943577, "post_id": 40775789, "comment_id": 68775300, "body": "You should rework your question according to: <a href=\"http://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a>"}], "answers": [{"tags": [], "owner": {"reputation": 450, "user_id": 2965665, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc4f155dbe24567ff73e58704359028f?s=128&d=identicon&r=PG&f=1", "display_name": "Russo", "link": "https://stackoverflow.com/users/2965665/russo"}, "is_accepted": false, "score": 2, "last_activity_date": 1479943650, "creation_date": 1479943650, "answer_id": 40775811, "question_id": 40775789, "link": "https://stackoverflow.com/questions/40775789/importerror-cannot-import-name-candlestick/40775811#40775811", "title": "importerror cannot import name candlestick", "body": "<p>Matplotlib code has been changed...\nGo into the script and replace \"candlestick\" by \"candlestick_ohlc\"</p>\n\n<p>So it should read:</p>\n\n<p>from matplotlib.finance import candlestick_ohlc</p>\n\n<p>candlestick_ohlc(ax1, ...</p>\n"}, {"tags": [], "owner": {"reputation": 2433, "user_id": 5240483, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/6633e058001e90af210fdf970cbdb7fc?s=128&d=identicon&r=PG&f=1", "display_name": "William Ross", "link": "https://stackoverflow.com/users/5240483/william-ross"}, "is_accepted": false, "score": 0, "last_activity_date": 1487023949, "creation_date": 1487023949, "answer_id": 42214496, "question_id": 40775789, "link": "https://stackoverflow.com/questions/40775789/importerror-cannot-import-name-candlestick/42214496#42214496", "title": "importerror cannot import name candlestick", "body": "<p>You need to add an underscore to it to use this same library:</p>\n\n<pre><code>from matplotlib.finance import _candlestick\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 608, "user_id": 1516636, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/lyHvC.jpg?s=128&g=1", "display_name": "Floyd", "link": "https://stackoverflow.com/users/1516636/floyd"}, "is_accepted": false, "score": 1, "last_activity_date": 1500716322, "creation_date": 1500716322, "answer_id": 45253029, "question_id": 40775789, "link": "https://stackoverflow.com/questions/40775789/importerror-cannot-import-name-candlestick/45253029#45253029", "title": "importerror cannot import name candlestick", "body": "<p>Not very nice changing the name and breaking existing code...</p>\n\n<p>I have fixed this by changing the import like this.</p>\n\n<p><code>from matplotlib.finance import candlestick_ohlc as candlestick</code></p>\n\n<p>No further changes are then needed in the code.</p>\n"}], "owner": {"reputation": 450, "user_id": 2965665, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc4f155dbe24567ff73e58704359028f?s=128&d=identicon&r=PG&f=1", "display_name": "Russo", "link": "https://stackoverflow.com/users/2965665/russo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3390, "favorite_count": 0, "answer_count": 3, "score": 3, "last_activity_date": 1500716322, "creation_date": 1479943454, "last_edit_date": 1479944493, "question_id": 40775789, "link": "https://stackoverflow.com/questions/40775789/importerror-cannot-import-name-candlestick", "title": "importerror cannot import name candlestick", "body": "<p>I got an error message from Python:</p>\n\n<blockquote>\n<pre><code>Traceback (most recent call last):  \n  File \"stock_script.py\", line 9, in &lt;module&gt;  \n    from matplotlib.finance import candlestick  \nImportError: cannot import name candlestick\n</code></pre>\n</blockquote>\n\n<p>Why?</p>\n"}, {"tags": ["python", "python-3.x", "matplotlib", "ipython"], "answers": [{"comments": [{"owner": {"reputation": 411, "user_id": 1788656, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/MMRog.jpg?s=128&g=1", "display_name": "Kernel", "link": "https://stackoverflow.com/users/1788656/kernel"}, "edited": false, "score": 0, "creation_date": 1479945431, "post_id": 40776063, "comment_id": 68775823, "body": "I understand this point, what I am asking about is what control the spacing, the y spacing is not linear, why ??"}, {"owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "reply_to_user": {"reputation": 411, "user_id": 1788656, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/MMRog.jpg?s=128&g=1", "display_name": "Kernel", "link": "https://stackoverflow.com/users/1788656/kernel"}, "edited": false, "score": 0, "creation_date": 1479945473, "post_id": 40776063, "comment_id": 68775832, "body": "Do you want to change the scale?"}, {"owner": {"reputation": 411, "user_id": 1788656, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/MMRog.jpg?s=128&g=1", "display_name": "Kernel", "link": "https://stackoverflow.com/users/1788656/kernel"}, "edited": false, "score": 0, "creation_date": 1479945801, "post_id": 40776063, "comment_id": 68775902, "body": "Yes, I want to know why it behave like that without mentioning anything about the type of scale (linear, log, ..)"}, {"owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1479946006, "post_id": 40776063, "comment_id": 68775954, "body": "It behaves like this because you typed it in your code! Just use <code>plt.yticks(c,c)</code> without inverted labelling and you&#39;ll be happy."}, {"owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "reply_to_user": {"reputation": 411, "user_id": 1788656, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/MMRog.jpg?s=128&g=1", "display_name": "Kernel", "link": "https://stackoverflow.com/users/1788656/kernel"}, "edited": false, "score": 0, "creation_date": 1479946301, "post_id": 40776063, "comment_id": 68776038, "body": "@AhmedShaaban try with my solution"}], "tags": [], "owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "is_accepted": true, "score": 1, "last_activity_date": 1479946256, "last_edit_date": 1479946256, "creation_date": 1479945206, "answer_id": 40776063, "question_id": 40775766, "link": "https://stackoverflow.com/questions/40775766/python-matplotlib-uneven-spacing-y/40776063#40776063", "title": "Python matplotlib uneven spacing y", "body": "<pre><code>import numpy as np\nimport matplotlib.pyplot as plt\n\nd = np.zeros([np.arange(0, 8).shape[0], np.arange(0, 100).shape[0]])\n\nfor i in np.arange(0, 8):\n    for j in np.arange(0, 100):\n        d[i, j] = (i + 290) ** 2 + j ** 2\nl = [1000, 850, 700, 500, 400, 300, 250, 200]\nr = [l[-1] + l[0]-x for x in l]\nc = np.array(l)\ne = np.array(r)\n\nplt.contourf(np.arange(0, 100), c, d)\nplt.colorbar()\nplt.yticks(e, c)\nplt.show()\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/lu3bO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lu3bO.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": [], "owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "is_accepted": false, "score": 0, "last_activity_date": 1479946313, "last_edit_date": 1479946313, "creation_date": 1479945527, "answer_id": 40776107, "question_id": 40775766, "link": "https://stackoverflow.com/questions/40775766/python-matplotlib-uneven-spacing-y/40776107#40776107", "title": "Python matplotlib uneven spacing y", "body": "<p>There is nothing surprising about the outcome of that code. The only confusing thing for someone to look at this plot are the inverted labels on the y-axis. But since you have deliberately chosen to invert them, you shouldn't complain. </p>\n\n<p>Here is an example which hopefully shows why it is very confusing to invert the axis labels..</p>\n\n<pre><code>import numpy as np\nimport matplotlib.pyplot as plt\n\nx = np.arange(100)\ny = np.array([0,1,5,10]) \nZ=np.zeros((len(y),len(x)))\n\nfor i in range(len(y)):\n    for j in range(len(x)):\n        Z[i,j]=i*j\n\n\nfig, (ax, ax2, ax3) = plt.subplots(ncols=3)\n\nim = ax.contourf(x,y,Z)\nax.set_yticks(y)\nax.set_yticklabels(y[::-1])\nax.set_title(\"inverted labels\")\n\nim2 = ax2.contourf(x,y,Z)\nax2.set_yticks(y)\nax2.set_yticklabels(y)\nax2.set_title(\"normal labels\")\n\nim3 = ax3.contourf(x,y,Z)\nax3.set_yticks(y)\nax3.set_yticklabels(\"abcd\")\nax3.set_title(\"letters as labels\")\n\nplt.show()\n</code></pre>\n\n<p>In the middle, the axis labels appear as one would expect them, on the left they are inverted. On the right we chose some non numeric labels\nAs one can see the scale is linear in all cases. In the case where we did not mess with the labels, this is clearly seen by the fact that on a scale from 0 to 10, 5 sits in the middle. </p>\n\n<p><a href=\"https://i.stack.imgur.com/Jwr5L.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Jwr5L.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 411, "user_id": 1788656, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/MMRog.jpg?s=128&g=1", "display_name": "Kernel", "link": "https://stackoverflow.com/users/1788656/kernel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 725, "favorite_count": 0, "accepted_answer_id": 40776063, "answer_count": 2, "score": 0, "last_activity_date": 1479946313, "creation_date": 1479943356, "question_id": 40775766, "link": "https://stackoverflow.com/questions/40775766/python-matplotlib-uneven-spacing-y", "title": "Python matplotlib uneven spacing y", "body": "<p>I am wondering how the y axes has such behavior (uneven spacing) without specifying any thing regarding to the yscale as in the following code. </p>\n\n<pre><code>import numpy as np\nimport matplotlib.pyplot as plt\n\n\nd=np.zeros([np.arange(0,8).shape[0],np.arange(0,100).shape[0]])\n\nfor i in np.arange(0,8):\n    for j in np.arange(0,100):\n        d[i,j]=(i+290)**2+j**2\n\nc=np.array([1000,850,700,500,400,300,250,200])      \n\nplt.contourf(np.arange(0,100),c,d);plt.colorbar()\nplt.yticks(c,c[::-1])\nplt.show()\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/c9sBj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/c9sBj.png\" alt=\"enter image description here\"></a></p>\n\n<p>Thanks</p>\n"}, {"tags": ["python", "tensorflow"], "comments": [{"owner": {"reputation": 1, "user_id": 4501417, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/afbce7fe1bb92c1d576210642ab0db4f?s=128&d=identicon&r=PG&f=1", "display_name": "Bohan Zhuang", "link": "https://stackoverflow.com/users/4501417/bohan-zhuang"}, "edited": false, "score": 0, "creation_date": 1479943279, "post_id": 40775748, "comment_id": 68775204, "body": "I&#39;m a beginner of Tensorflow and wrote a piece of code to test on the MNIST dataset. I find that during training my parameters doesn&#39;t change at all and cannot find the problem, so SOS!!!"}, {"owner": {"reputation": 722, "user_id": 7128661, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c595b07a2df938b687940fde1105f36d?s=128&d=identicon&r=PG", "display_name": "Neal", "link": "https://stackoverflow.com/users/7128661/neal"}, "edited": false, "score": 0, "creation_date": 1479945812, "post_id": 40775748, "comment_id": 68775907, "body": "Did you try the TensorFlow tutorials on MNIST? <a href=\"https://www.tensorflow.org/versions/r0.11/tutorials/mnist/beginners/index.html\" rel=\"nofollow noreferrer\">tensorflow.org/versions/r0.11/tutorials/mnist/beginners/&hellip;</a> and <a href=\"https://www.tensorflow.org/versions/r0.11/tutorials/mnist/pros/index.html\" rel=\"nofollow noreferrer\">tensorflow.org/versions/r0.11/tutorials/mnist/pros/index.htm&zwnj;&#8203;l</a> (choose one depending on your level of experience with ML)"}, {"owner": {"reputation": 1, "user_id": 4501417, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/afbce7fe1bb92c1d576210642ab0db4f?s=128&d=identicon&r=PG&f=1", "display_name": "Bohan Zhuang", "link": "https://stackoverflow.com/users/4501417/bohan-zhuang"}, "reply_to_user": {"reputation": 722, "user_id": 7128661, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c595b07a2df938b687940fde1105f36d?s=128&d=identicon&r=PG", "display_name": "Neal", "link": "https://stackoverflow.com/users/7128661/neal"}, "edited": false, "score": 0, "creation_date": 1479948326, "post_id": 40775748, "comment_id": 68776486, "body": "@Neal  Hi Neal, I have tried the basic implementation on MNIST and it&#39;s all OK. Then I tried to implement based on the CIFAR10 tutorial (using multi-gpu training) and tested the code on MNIST, I found that the parameters doesn&#39;t change during training phase."}, {"owner": {"reputation": 722, "user_id": 7128661, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c595b07a2df938b687940fde1105f36d?s=128&d=identicon&r=PG", "display_name": "Neal", "link": "https://stackoverflow.com/users/7128661/neal"}, "edited": false, "score": 0, "creation_date": 1479948536, "post_id": 40775748, "comment_id": 68776528, "body": "Just noticed you aren&#39;t using the GradientDescentOptimizer?"}, {"owner": {"reputation": 1, "user_id": 4501417, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/afbce7fe1bb92c1d576210642ab0db4f?s=128&d=identicon&r=PG&f=1", "display_name": "Bohan Zhuang", "link": "https://stackoverflow.com/users/4501417/bohan-zhuang"}, "reply_to_user": {"reputation": 722, "user_id": 7128661, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c595b07a2df938b687940fde1105f36d?s=128&d=identicon&r=PG", "display_name": "Neal", "link": "https://stackoverflow.com/users/7128661/neal"}, "edited": false, "score": 0, "creation_date": 1479951523, "post_id": 40775748, "comment_id": 68777189, "body": "@Neal  Solved... I found a bug in average_gradients() function, thanks for your help!"}, {"owner": {"reputation": 102, "user_id": 6779006, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c798c405a2612ee999d59cf24daaa0c5?s=128&d=identicon&r=PG&f=1", "display_name": "sha li", "link": "https://stackoverflow.com/users/6779006/sha-li"}, "edited": false, "score": 0, "creation_date": 1479977385, "post_id": 40775748, "comment_id": 68786321, "body": "Hi @Bohan Zhuang , could you please update your result, or post a answer by yourself?"}], "owner": {"reputation": 1, "user_id": 4501417, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/afbce7fe1bb92c1d576210642ab0db4f?s=128&d=identicon&r=PG&f=1", "display_name": "Bohan Zhuang", "link": "https://stackoverflow.com/users/4501417/bohan-zhuang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 64, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1480147074, "creation_date": 1479943253, "last_edit_date": 1592644375, "question_id": 40775748, "link": "https://stackoverflow.com/questions/40775748/the-parameters-are-not-updated-using-multi-gpu-training", "title": "The parameters are not updated using multi-gpu training", "body": "<h2>Solved... I found a bug in average_gradients() function</h2>\n<pre><code>from __future__ import print_function\n\nimport tensorflow as tf\n\nimport numpy as np\n\n\nfrom tensorflow.examples.tutorials.mnist import input_data\n\nmnist = input_data.read_data_sets(&quot;/tmp/data/&quot;, one_hot=True)\n\n\nlearning_rate = 0.0001\n\ntraining_iters = 100000\n\nbatch_size = 32\n\ndisplay_step = 10\n\nnum_gpus = 1\n\n\nn_input = 784\n\nn_classes = 10 \n\ndropout = 0.75 \n\n\n\ndef conv2d(x, W, b, strides=1):\n\n    x = tf.nn.conv2d(x, W, strides=[1, strides, strides, 1], padding='SAME')\n    x = tf.nn.bias_add(x, b)\n    return tf.nn.relu(x)\n\n\ndef maxpool2d(x, k=2):\n\n\n    return tf.nn.max_pool(x, ksize=[1, k, k, 1], strides=[1, k, k, 1],\n                          padding='SAME')\n\n\ndef average_gradients(tower_grads):\n\n    average_grads = []\n    for grad_and_vars in zip(*tower_grads):\n    # Note that each grad_and_vars looks like the following:\n    #   ((grad0_gpu0, var0_gpu0), ... , (grad0_gpuN, var0_gpuN))\n        grads = []\n        for g, _ in grad_and_vars:\n      # Add 0 dimension to the gradients to represent the tower.\n            expanded_g = tf.expand_dims(g, 0)\n\n      # Append on a 'tower' dimension which we will average over below.\n            grads.append(expanded_g)\n\n    # Average over the 'tower' dimension.\n            grad = tf.concat(0, grads)\n            grad = tf.reduce_mean(grad, 0)\n\n    # Keep in mind that the Variables are redundant because they are shared\n    # across towers. So .. we will just return the first tower's pointer to\n    # the Variable.\n    v = grad_and_vars[0][1]\n    grad_and_var = (grad, v)\n    average_grads.append(grad_and_var)\n    return average_grads\n\n\n\n\ndef conv_net(images, dropout):\n    # Reshape input picture\n    images = tf.reshape(images, shape=[-1, 28, 28, 1])\n\n    # Convolution Layer\n    with tf.variable_scope('conv1'):\n        W = tf.get_variable('weights', [5, 5, 1, 32], initializer=tf.random_normal_initializer())\n        b = tf.get_variable(&quot;biases&quot;, [32], initializer=tf.random_normal_initializer())\n        conv1 = conv2d(images, W, b)\n        # Max Pooling (down-sampling)\n        conv1 = maxpool2d(conv1, k=2)\n\n    # Convolution Layer\n    with tf.variable_scope('conv2'):\n        W = tf.get_variable('weights', [5, 5, 32, 64], initializer=tf.random_normal_initializer())\n        b = tf.get_variable(&quot;biases&quot;, [64], initializer=tf.random_normal_initializer())\n    # Max Pooling (down-sampling)\n        conv2 = conv2d(conv1, W, b)\n        conv2 = maxpool2d(conv2, k=2)\n\n    # Fully connected layer\n    # Reshape conv2 output to fit fully connected layer input\n    fc1 = tf.reshape(conv2, [-1, 7*7*64])\n\n    with tf.variable_scope('fully'):\n        weights = tf.get_variable('weights', [7*7*64, 1024], initializer=tf.random_normal_initializer())\n        bias = tf.get_variable('bias', [1024], initializer=tf.random_normal_initializer())\n        fc1 = tf.add(tf.matmul(fc1, weights), bias)\n        fc1 = tf.nn.relu(fc1)\n    # Apply Dropout\n        fc1 = tf.nn.dropout(fc1, dropout)\n\n    # Output, class prediction\n\n    with tf.variable_scope('softmax'):\n        weights = tf.get_variable('weights', [1024, 10], initializer=tf.random_normal_initializer())\n        bias = tf.get_variable('bias', [10], initializer=tf.random_normal_initializer())     \n        out = tf.add(tf.matmul(fc1, weights), bias)\n\n    return out\n\n\n\n\ndef train():\n\n    with tf.Graph().as_default():\n\n        x = tf.placeholder(tf.float32, [batch_size*num_gpus, 784])\n        y = tf.placeholder(tf.float32, [batch_size*num_gpus, n_classes])\n        keep_prob = tf.placeholder(tf.float32) #dropout (keep probability)\n\n        global_step = tf.get_variable('global_step', [], initializer=tf.constant_initializer(0), trainable=False)\n\n\n        optimizer = tf.train.AdamOptimizer(learning_rate=learning_rate)\n        tower_grads = []\n        for i in xrange(num_gpus):\n            with tf.device('/gpu:%d' % i):\n                with tf.name_scope('%s_%d' % ('MNIST', i)) as scope:\n          # Calculate the loss for one tower of the CIFAR model. This function\n          # constructs the entire CIFAR model but shares the variables across\n          # all towers\n          # Reuse variables for the next tower.\n\n                    next_batch = x[i*batch_size:(i+1)*batch_size, :]\n                    next_label_batch = y[i*batch_size:(i+1)*batch_size, :]\n                    pred = conv_net(next_batch, keep_prob)\n\n                    cost = tf.reduce_mean(tf.nn.softmax_cross_entropy_with_logits(pred, next_label_batch))\n\n\n                    correct_pred = tf.equal(tf.argmax(pred, 1), tf.argmax(next_label_batch, 1))\n                    accuracy = tf.reduce_mean(tf.cast(correct_pred, tf.float32))\n\n                    tf.get_variable_scope().reuse_variables()\n\n          # Calculate the gradients for the batch of data on this CIFAR tower.\n                    grads = optimizer.compute_gradients(cost)\n          # Keep track of the gradients across all towers.\n                    tower_grads.append(grads)\n\n\n\n        grads = average_gradients(tower_grads)\n        apply_gradient_op = optimizer.apply_gradients(grads, global_step=global_step)\n\n\n        init = tf.initialize_all_variables()\n\n\n        with tf.Session() as sess:\n\n            sess = tf.Session(config=tf.ConfigProto(\n            allow_soft_placement=True,\n            log_device_placement=True))\n            sess.run(init)\n            saver = tf.train.Saver()\n            var = [v for v in tf.trainable_variables()][0]\n            aa = sess.run(var)\n            np.save('initial.npy', aa)\n            step = 1\n    # Keep training until reach max iterations\n            while step * (num_gpus*batch_size) &lt; training_iters:\n\n                large_input = np.zeros((num_gpus*batch_size, n_input))\n                large_labels = np.zeros((num_gpus*batch_size, n_classes))\n        \n                for index in xrange(num_gpus):\n                    batch_x, batch_y = mnist.train.next_batch(batch_size)\n                    large_input[index*batch_size:(index+1)*batch_size, :] = batch_x\n                    large_labels[index*batch_size:(index+1)*batch_size, :] = batch_y\n\n        # Run optimization op (backprop)\n                sess.run(apply_gradient_op, feed_dict={x: large_input, y: large_labels,\n                                       keep_prob: dropout})\n                if step % display_step == 0:\n            # Calculate batch loss and accuracy\n                    loss, acc = sess.run([cost, accuracy], feed_dict={x: large_input,\n                                                              y: large_labels,\n                                                              keep_prob: 1.})\n                    print(&quot;Iter &quot; + str(step*num_gpus*batch_size) + &quot;, Minibatch Loss= &quot; + \\\n                  &quot;{:.6f}&quot;.format(loss) + &quot;, Training Accuracy= &quot; + \\\n                  &quot;{:.5f}&quot;.format(acc))\n                step += 1\n            print(&quot;Optimization Finished!&quot;)\n\n            var = [v for v in tf.trainable_variables()][0]\n            aa = sess.run(var)\n            np.save('final.npy', aa)\n\n\nif __name__ == '__main__':\n    train()\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "syntax"], "comments": [{"owner": {"reputation": 118102, "user_id": 4952130, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/kKQZw.png?s=128&g=1", "display_name": "Dimitris Fasarakis Hilliard", "link": "https://stackoverflow.com/users/4952130/dimitris-fasarakis-hilliard"}, "edited": false, "score": 0, "creation_date": 1479943262, "post_id": 40775737, "comment_id": 68775198, "body": "<code>and =&lt; 40</code> and <i>what</i> is smaller or equal to <code>40</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 4283, "user_id": 2148023, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/356193279a082d3077d672f63bfc6c33?s=128&d=identicon&r=PG&f=1", "display_name": "Carles Mitjans", "link": "https://stackoverflow.com/users/2148023/carles-mitjans"}, "reply_to_user": {"reputation": 39, "user_id": 7202382, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-UEI8mwJXFU0/AAAAAAAAAAI/AAAAAAAAABE/B9ZflucG_9E/photo.jpg?sz=128", "display_name": "Anonymous", "link": "https://stackoverflow.com/users/7202382/anonymous"}, "edited": false, "score": 0, "creation_date": 1479943949, "post_id": 40775797, "comment_id": 68775429, "body": "Have you also changed <code>=&lt;</code> to <code>&lt;=</code>? The first option is not correct in python."}, {"owner": {"reputation": 88, "user_id": 4786352, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/a5kgB.jpg?s=128&g=1", "display_name": "Deneb", "link": "https://stackoverflow.com/users/4786352/deneb"}, "edited": false, "score": 0, "creation_date": 1479944487, "post_id": 40775797, "comment_id": 68775576, "body": "If you changed both, the syntax is then correct normally."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 3, "creation_date": 1479946249, "post_id": 40775797, "comment_id": 68776025, "body": "And actually, Python allows the very nice construct <code>30 &lt; Q &lt;= 40</code>"}, {"owner": {"reputation": 39, "user_id": 7202382, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-UEI8mwJXFU0/AAAAAAAAAAI/AAAAAAAAABE/B9ZflucG_9E/photo.jpg?sz=128", "display_name": "Anonymous", "link": "https://stackoverflow.com/users/7202382/anonymous"}, "edited": false, "score": 0, "creation_date": 1479989053, "post_id": 40775797, "comment_id": 68794348, "body": "OK that worked, I guess I hadn&#39;t changed it back to &lt;= since I was fiddling with it to try and fix it."}, {"owner": {"reputation": 175, "user_id": 5186623, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/10206691161224996/picture?type=large", "display_name": "Chedi Bechikh", "link": "https://stackoverflow.com/users/5186623/chedi-bechikh"}, "edited": false, "score": 0, "creation_date": 1485440242, "post_id": 40775797, "comment_id": 70932556, "body": "why <code>if Q &gt; 30 and Q &lt; 40:</code> it only work if i add <code>=</code> ?"}], "tags": [], "owner": {"reputation": 4283, "user_id": 2148023, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/356193279a082d3077d672f63bfc6c33?s=128&d=identicon&r=PG&f=1", "display_name": "Carles Mitjans", "link": "https://stackoverflow.com/users/2148023/carles-mitjans"}, "is_accepted": true, "score": 4, "last_activity_date": 1479944084, "last_edit_date": 1479944084, "creation_date": 1479943494, "answer_id": 40775797, "question_id": 40775737, "link": "https://stackoverflow.com/questions/40775737/python-comparing-integers-and-using-if/40775797#40775797", "title": "Python comparing integers and using if", "body": "<p>You probably meant to do this:</p>\n\n<pre><code>#             v mention `Q` here\nif Q &gt; 30 and Q &lt;= 40:\n#               ^ i.e. `&lt;` before `=`\n</code></pre>\n"}], "owner": {"reputation": 39, "user_id": 7202382, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-UEI8mwJXFU0/AAAAAAAAAAI/AAAAAAAAABE/B9ZflucG_9E/photo.jpg?sz=128", "display_name": "Anonymous", "link": "https://stackoverflow.com/users/7202382/anonymous"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 602, "favorite_count": 0, "accepted_answer_id": 40775797, "answer_count": 1, "score": 1, "last_activity_date": 1479946343, "creation_date": 1479943160, "last_edit_date": 1479946343, "question_id": 40775737, "link": "https://stackoverflow.com/questions/40775737/python-comparing-integers-and-using-if", "title": "Python comparing integers and using if", "body": "<pre><code>Q = int(input(\"Enter a number.\"))\nif Q &gt; 30 and =&lt; 40:\n    import easygui\n    easygui.msgbox(\"This number is greater than 30 and less than or equal to 40\")\n</code></pre>\n\n<p>I don't know what's wrong it just says <code>\"Invalid Syntax\"</code> and highlights the equal sign in equal to or less than <code>40</code> before even running the code. <code>easygui</code> isn't the problem.</p>\n"}, {"tags": ["python", "pandas", "dataframe", "pivot", "reshape"], "comments": [{"owner": {"reputation": 400, "user_id": 1524650, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b4c3b30b38f5f4392c017ea82721e0b?s=128&d=identicon&r=PG", "display_name": "John Haberstroh", "link": "https://stackoverflow.com/users/1524650/john-haberstroh"}, "edited": false, "score": 0, "creation_date": 1479943280, "post_id": 40775719, "comment_id": 68775205, "body": "I&#39;m sorry but I can&#39;t see the pattern here. How exactly are the elements of the resulting matrix related to the original?"}, {"owner": {"reputation": 1887, "user_id": 2725109, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/7a8b225b5719aa4756e10e1ec01d5a7a?s=128&d=identicon&r=PG&f=1", "display_name": "user2725109", "link": "https://stackoverflow.com/users/2725109/user2725109"}, "reply_to_user": {"reputation": 400, "user_id": 1524650, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b4c3b30b38f5f4392c017ea82721e0b?s=128&d=identicon&r=PG", "display_name": "John Haberstroh", "link": "https://stackoverflow.com/users/1524650/john-haberstroh"}, "edited": false, "score": 0, "creation_date": 1479943610, "post_id": 40775719, "comment_id": 68775313, "body": "Suppose &#39;b&#39; column shows blood pressure readings and &#39;a&#39; column shows the patient id. I&#39;d like to have all the readings from each patient in one line. Each patient may have from 1 to a maximum number of readings, say 10. So the final table will be of shape number_of_patients x 10."}], "answers": [{"comments": [{"owner": {"reputation": 1887, "user_id": 2725109, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/7a8b225b5719aa4756e10e1ec01d5a7a?s=128&d=identicon&r=PG&f=1", "display_name": "user2725109", "link": "https://stackoverflow.com/users/2725109/user2725109"}, "edited": false, "score": 0, "creation_date": 1479945121, "post_id": 40775826, "comment_id": 68775760, "body": "Great solution. Thanks."}], "tags": [], "owner": {"reputation": 287228, "user_id": 1240268, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/RN9Mw.jpg?s=128&g=1", "display_name": "Andy Hayden", "link": "https://stackoverflow.com/users/1240268/andy-hayden"}, "is_accepted": true, "score": 2, "last_activity_date": 1479943737, "creation_date": 1479943737, "answer_id": 40775826, "question_id": 40775719, "link": "https://stackoverflow.com/questions/40775719/pandas-dataframe-reshape-pivot/40775826#40775826", "title": "pandas dataframe reshape / pivot", "body": "<p>I would do this as follows:</p>\n\n<pre><code>In [11]: df.groupby(\"a\")[\"b\"].apply(lambda x: pd.Series(x.values))\nOut[11]:\na\n1  0    2\n   1    5\n   2    3\n2  0    4\n   1    1\n3  0    7\nName: b, dtype: int64\n</code></pre>\n\n<p>to get the form you wanted you then unstack (though probably above better):</p>\n\n<pre><code>In [22]: df.groupby('a')[\"b\"].apply(lambda x: pd.Series(x.values)).unstack(1)\nOut[22]:\n     0    1    2\na\n1  2.0  5.0  3.0\n2  4.0  1.0  NaN\n3  7.0  NaN  NaN\n</code></pre>\n"}], "owner": {"reputation": 1887, "user_id": 2725109, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/7a8b225b5719aa4756e10e1ec01d5a7a?s=128&d=identicon&r=PG&f=1", "display_name": "user2725109", "link": "https://stackoverflow.com/users/2725109/user2725109"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 199, "favorite_count": 3, "accepted_answer_id": 40775826, "answer_count": 1, "score": 2, "last_activity_date": 1479943737, "creation_date": 1479943055, "question_id": 40775719, "link": "https://stackoverflow.com/questions/40775719/pandas-dataframe-reshape-pivot", "title": "pandas dataframe reshape / pivot", "body": "<p>I'd like to convert the following pandas dataframe</p>\n\n<pre><code>    a   b\n0   1   2\n1   1   5\n2   2   4\n3   1   3\n4   3   7\n5   2   1\n</code></pre>\n\n<p>to</p>\n\n<pre><code>    0   1   2\na           \n1   2   5   3  \n2   4   1   NaN\n3   7   NaN NaN\n</code></pre>\n\n<p>Do you know an easy way?</p>\n"}, {"tags": ["python", "exception-handling", "pycharm"], "comments": [{"owner": {"reputation": 754, "user_id": 7062012, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/CQZ0w.jpg?s=128&g=1", "display_name": "August Williams", "link": "https://stackoverflow.com/users/7062012/august-williams"}, "edited": false, "score": 0, "creation_date": 1479947782, "post_id": 40775709, "comment_id": 68776366, "body": "If you&#39;re looking to turn warnings off they can be found in the settings.  I believe you can search for the exact errors you are looking to change."}, {"owner": {"reputation": 40991, "user_id": 4794, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/f90cd356f2945b284946d5743467d850?s=128&d=identicon&r=PG", "display_name": "Don Kirkby", "link": "https://stackoverflow.com/users/4794/don-kirkby"}, "reply_to_user": {"reputation": 754, "user_id": 7062012, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/CQZ0w.jpg?s=128&g=1", "display_name": "August Williams", "link": "https://stackoverflow.com/users/7062012/august-williams"}, "edited": false, "score": 0, "creation_date": 1480010999, "post_id": 40775709, "comment_id": 68807223, "body": "Thanks, @AugustWilliams, but I just want to tell PyCharm that this try/except block is good. I still want it to complain about other blocks, in case they aren&#39;t logging or dealing with the exception properly."}, {"owner": {"reputation": 754, "user_id": 7062012, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/CQZ0w.jpg?s=128&g=1", "display_name": "August Williams", "link": "https://stackoverflow.com/users/7062012/august-williams"}, "edited": false, "score": 0, "creation_date": 1480184377, "post_id": 40775709, "comment_id": 68862152, "body": "I remember seeing somewhere about ignore this occurrence or something like that. Can&#39;t remember where this button was though, apologies."}], "answers": [{"comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 2, "creation_date": 1479945491, "post_id": 40775710, "comment_id": 68775834, "body": "That&#39;s going to be horribly misleading to anyone reading this code later."}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 4, "creation_date": 1479945661, "post_id": 40775710, "comment_id": 68775868, "body": "you could also add <code># noinspection PyBroadException</code> to right above the <code>try:</code> this would tell pycharm (and probably other IDE&#39;s that you know its too broad and you are ok with it)"}, {"owner": {"reputation": 2496, "user_id": 8360823, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/--iRIbf8Fk8Y/AAAAAAAAAAI/AAAAAAAAAF8/1uBGGDxy7W0/photo.jpg?sz=128", "display_name": "Sam Rockett", "link": "https://stackoverflow.com/users/8360823/sam-rockett"}, "edited": false, "score": 0, "creation_date": 1586443724, "post_id": 40775710, "comment_id": 108135087, "body": "Why wouldd this be horribly misleading? Looks like the logging module checks either <code>isinstance(exc_info, BaseException)</code> in which case it extracts the data from the exception, <code>tuple</code> in which case it assumes the exc_info is accurate, or truthy in which case it uses <code>sys.exc_info()</code>. Passing <code>exc_info=True</code> and <code>exc_info=e</code> should yield identical results, no? (<code>logging.__init__</code> at line 1461)"}, {"owner": {"reputation": 40991, "user_id": 4794, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/f90cd356f2945b284946d5743467d850?s=128&d=identicon&r=PG", "display_name": "Don Kirkby", "link": "https://stackoverflow.com/users/4794/don-kirkby"}, "reply_to_user": {"reputation": 2496, "user_id": 8360823, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/--iRIbf8Fk8Y/AAAAAAAAAAI/AAAAAAAAAF8/1uBGGDxy7W0/photo.jpg?sz=128", "display_name": "Sam Rockett", "link": "https://stackoverflow.com/users/8360823/sam-rockett"}, "edited": false, "score": 0, "creation_date": 1586455323, "post_id": 40775710, "comment_id": 108141389, "body": "Thanks, @Sam, I hadn&#39;t noticed that change to <code>exc_info</code>. I&#39;ve updated the answer to explain it better."}], "tags": [], "owner": {"reputation": 40991, "user_id": 4794, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/f90cd356f2945b284946d5743467d850?s=128&d=identicon&r=PG", "display_name": "Don Kirkby", "link": "https://stackoverflow.com/users/4794/don-kirkby"}, "is_accepted": false, "score": 4, "last_activity_date": 1586455217, "last_edit_date": 1586455217, "creation_date": 1479943018, "answer_id": 40775710, "question_id": 40775709, "link": "https://stackoverflow.com/questions/40775709/avoiding-too-broad-exception-clause-warning-in-pycharm/40775710#40775710", "title": "Avoiding &quot;Too broad exception clause&quot; warning in PyCharm", "body": "<p>I found a hint in this closed <a href=\"https://youtrack.jetbrains.com/issue/PY-2698\" rel=\"nofollow noreferrer\">feature request</a> for PyCharm:</p>\n\n<blockquote>\n  <p>I suggest you to mark this inspection as 'okay' if the except  block makes use of exception instance <code>e</code> somehow.</p>\n</blockquote>\n\n<p>Because I'm logging with <code>exc_info=True</code>, I'm implicitly using the current exception object, but PyCharm doesn't know that. To make it explicit, I can pass the exception object to <code>exc_info</code>. Since Python 3.5, the <a href=\"https://docs.python.org/3/library/logging.html#logging.Logger.debug\" rel=\"nofollow noreferrer\">logger methods</a> have accepted an exception instance to report, as well as accepting any truthy value to report the current exception and stack trace in the log.</p>\n\n<pre><code>import logging\n\nlogging.basicConfig()\n\ntry:\n    raise RuntimeError('Bad stuff happened.')\nexcept Exception as e:\n    logging.error('Failed.', exc_info=e)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 40991, "user_id": 4794, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/f90cd356f2945b284946d5743467d850?s=128&d=identicon&r=PG", "display_name": "Don Kirkby", "link": "https://stackoverflow.com/users/4794/don-kirkby"}, "is_accepted": true, "score": 47, "last_activity_date": 1541640229, "last_edit_date": 1541640229, "creation_date": 1479947701, "answer_id": 40776385, "question_id": 40775709, "link": "https://stackoverflow.com/questions/40775709/avoiding-too-broad-exception-clause-warning-in-pycharm/40776385#40776385", "title": "Avoiding &quot;Too broad exception clause&quot; warning in PyCharm", "body": "<p>From a comment by <a href=\"https://stackoverflow.com/a/40775710/4794#comment68775868_40775710\">Joran</a>: you can use <code># noinspection PyBroadException</code> to tell PyCharm that you're OK with this exception clause. This is what I was originally looking for, but I missed the option to <a href=\"https://www.jetbrains.com/help/pycharm/2016.1/suppressing-inspections.html\" rel=\"noreferrer\">suppress the inspection</a> in the suggestions menu.</p>\n\n<pre><code>import logging\n\nlogging.basicConfig()\n\n# noinspection PyBroadException\ntry:\n    raise RuntimeError('Bad stuff happened.')\nexcept Exception:\n    logging.error('Failed.', exc_info=True)\n</code></pre>\n\n<p>If you don't even want to log the exception, and you just want to suppress it without PyCharm complaining, there's a new feature in Python 3.4: <a href=\"https://docs.python.org/3/library/contextlib.html#contextlib.suppress\" rel=\"noreferrer\"><code>contextlib.suppress()</code></a>.</p>\n\n<pre><code>import contextlib\n\nwith contextlib.suppress(Exception):\n    raise RuntimeError('Bad stuff happened.')\n</code></pre>\n\n<p>That's equivalent to this:</p>\n\n<pre><code>try:\n    raise RuntimeError('Bad stuff happened.')\nexcept Exception:\n    pass\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 246, "user_id": 4114078, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/oUBt0.jpg?s=128&g=1", "display_name": "daniel_serretti", "link": "https://stackoverflow.com/users/4114078/daniel-serretti"}, "is_accepted": false, "score": 4, "last_activity_date": 1565025203, "creation_date": 1565025203, "answer_id": 57363232, "question_id": 40775709, "link": "https://stackoverflow.com/questions/40775709/avoiding-too-broad-exception-clause-warning-in-pycharm/57363232#57363232", "title": "Avoiding &quot;Too broad exception clause&quot; warning in PyCharm", "body": "<p>Not sure about your PyCharm version (mine is 2019.2), but I strongly recommend disabling this PyCharm inspection in File> Settings> Editor> Inspections and type \"too broad\". In Python tab, deselect \"too broad exceptions clauses\" to avoid those. I believe this way PyCharm would show you the correct expression inspection</p>\n"}, {"tags": [], "owner": {"reputation": 3921, "user_id": 8662085, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/401148d498848f2ff46cc832506ae78c?s=128&d=identicon&r=PG&f=1", "display_name": "DeanM", "link": "https://stackoverflow.com/users/8662085/deanm"}, "is_accepted": false, "score": 5, "last_activity_date": 1570133828, "creation_date": 1570133828, "answer_id": 58226320, "question_id": 40775709, "link": "https://stackoverflow.com/questions/40775709/avoiding-too-broad-exception-clause-warning-in-pycharm/58226320#58226320", "title": "Avoiding &quot;Too broad exception clause&quot; warning in PyCharm", "body": "<p>I am reluctant to turn off warnings as a matter of principle.</p>\n\n<p>In the case presented, you know well what the exception is.  It might be best to just be specific.  For example:</p>\n\n<blockquote>\n<pre><code>try:\n    raise RuntimeError(\"Oops\")\nexcept RuntimeError as e:\n    print(e, \"was handled\")\n</code></pre>\n  \n  <p>will yield \"Oops was handled\".</p>\n</blockquote>\n\n<p>If there are a couple of possible exceptions, you could use two except clauses. If there could be a multitude of possible exceptions, should one attempt to use a single try-block to handle everything?  It might be better to reconsider the design!</p>\n"}], "owner": {"reputation": 40991, "user_id": 4794, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/f90cd356f2945b284946d5743467d850?s=128&d=identicon&r=PG", "display_name": "Don Kirkby", "link": "https://stackoverflow.com/users/4794/don-kirkby"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 30658, "favorite_count": 4, "accepted_answer_id": 40776385, "answer_count": 4, "score": 34, "last_activity_date": 1586455217, "creation_date": 1479943018, "question_id": 40775709, "link": "https://stackoverflow.com/questions/40775709/avoiding-too-broad-exception-clause-warning-in-pycharm", "title": "Avoiding &quot;Too broad exception clause&quot; warning in PyCharm", "body": "<p>I'm writing an exception clause at the top level of a script, and I just want it to log whatever errors occur. Annoyingly, PyCharm complains if I just catch <code>Exception</code>.</p>\n\n<pre><code>import logging\n\nlogging.basicConfig()\n\ntry:\n    raise RuntimeError('Bad stuff happened.')\nexcept Exception:  # &lt;= causes warning: Too broad exception clause\n    logging.error('Failed.', exc_info=True)\n</code></pre>\n\n<p>Is there something wrong with this handler? If not, how can I tell PyCharm to shut up about it?</p>\n"}, {"tags": ["python", "python-3.x", "set"], "comments": [{"owner": {"reputation": 54837, "user_id": 2390182, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KKx5r.png?s=128&g=1", "display_name": "schwobaseggl", "link": "https://stackoverflow.com/users/2390182/schwobaseggl"}, "edited": false, "score": 0, "creation_date": 1479943040, "post_id": 40775701, "comment_id": 68775139, "body": "How do you know it is the first? A set is unordered by nature!"}, {"owner": {"reputation": 6359, "user_id": 4854721, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/b236a99ab961ecdccf8ae574d719ad1f?s=128&d=identicon&r=PG&f=1", "display_name": "N Randhawa", "link": "https://stackoverflow.com/users/4854721/n-randhawa"}, "reply_to_user": {"reputation": 54837, "user_id": 2390182, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KKx5r.png?s=128&g=1", "display_name": "schwobaseggl", "link": "https://stackoverflow.com/users/2390182/schwobaseggl"}, "edited": false, "score": 0, "creation_date": 1479943122, "post_id": 40775701, "comment_id": 68775154, "body": "@schwobaseggl Good question, you are right. But my result is always same."}], "owner": {"reputation": 6359, "user_id": 4854721, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/b236a99ab961ecdccf8ae574d719ad1f?s=128&d=identicon&r=PG&f=1", "display_name": "N Randhawa", "link": "https://stackoverflow.com/users/4854721/n-randhawa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 31, "favorite_count": 0, "closed_date": 1479943164, "answer_count": 0, "score": 0, "last_activity_date": 1479943167, "creation_date": 1479942973, "last_edit_date": 1479943167, "question_id": 40775701, "link": "https://stackoverflow.com/questions/40775701/pop-method-of-set-class", "closed_reason": "Duplicate", "title": "pop() method of set class", "body": "<p>According to Python documentation the <code>pop()</code> method removes and returns an <strong>arbitrary element</strong> from the set. </p>\n\n<p>In my example, I have two sets <code>myset1</code> and <code>myset2</code>. Now when I call <code>pop()</code> method on both <code>myset1</code> and <code>myset2</code>,  <code>pop()</code> method always removes and returns the first element of  both sets.  So why does the documetation say:  <code>pop()</code> method removes and returns an <strong>arbitrary element</strong> from the set? Because in my example the <code>pop()</code> method always removes and returns the first /same element of sets. </p>\n\n<pre><code>myset1={i for i in range(99)}\nmyset2={i for i in range(99)}\n\nfor  i in range(99):\n  myset1.pop()\n  print(myset1)\n  myset2.pop()\n  print(myset2)\n</code></pre>\n"}, {"tags": ["python", "pygame"], "comments": [{"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 0, "creation_date": 1479952924, "post_id": 40775695, "comment_id": 68777572, "body": "Describe problem (in question, not in comment)"}, {"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 0, "creation_date": 1479954647, "post_id": 40775695, "comment_id": 68777936, "body": "create list with bricks. Draw every brick in <code>while True</code>, check collision with every brick, etc. You can use <code>pygame.sprite.Group()</code> to keep bricks, easily check collision and easily draw them."}, {"owner": {"reputation": 1, "user_id": 7202526, "user_type": "registered", "profile_image": "https://graph.facebook.com/924113224359178/picture?type=large", "display_name": "Andres ", "link": "https://stackoverflow.com/users/7202526/andres"}, "reply_to_user": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 0, "creation_date": 1479959108, "post_id": 40775695, "comment_id": 68779020, "body": "can you give me an example, please?"}], "answers": [{"tags": [], "owner": {"reputation": 615, "user_id": 1372313, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/ixtB6.png?s=128&g=1", "display_name": "DaMaGeX", "link": "https://stackoverflow.com/users/1372313/damagex"}, "is_accepted": false, "score": -1, "last_activity_date": 1479943346, "creation_date": 1479943346, "answer_id": 40775763, "question_id": 40775695, "link": "https://stackoverflow.com/questions/40775695/how-do-i-make-a-wall-for-breakout-in-pygame/40775763#40775763", "title": "How do i make a wall for breakout in pygame?", "body": "<p>You'll need to build in a constraint so it will only move if the X value is between 0 and ??(max width).</p>\n\n<pre><code>for event in pygame.event.get():\n    if event.type == pygame.QUIT:\n        sys.exit(0)\n    elif event.type == pygame.KEYDOWN:\n        if event.key == K_LEFT and barra.rect.centerx &gt; 0: # Set your minimum value\n            barra.rect.centerx -= 20\n        elif event.key == K_RIGHT and barra.rect.centerx &lt; 100: # Set your maximum value\n            barra.rect.centerx += 20\n        elif event.key == K_ESCAPE:\n            sys.exit(0)\n    elif event.type == pygame.KEYUP:\n        if event.key == K_RIGHT:\n            barra.rect.centerx += 0\n        elif event.key == K_LEFT:\n            barra.rect.centerx += 0\n</code></pre>\n\n<p>And ofcourse you should add or decrease things like the width of your bar. Just play around with these values.</p>\n\n<p>And at the edges you should add something like</p>\n\n<pre><code>barra.rect.centerx -= (difference between left edge and bar)\n\nbarra.rect.centerx += (difference between right edge and bar)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "is_accepted": true, "score": 0, "last_activity_date": 1479962537, "creation_date": 1479962537, "answer_id": 40778183, "question_id": 40775695, "link": "https://stackoverflow.com/questions/40775695/how-do-i-make-a-wall-for-breakout-in-pygame/40778183#40778183", "title": "How do i make a wall for breakout in pygame?", "body": "<p>You can use </p>\n\n<pre><code>bricks = pygame.sprite.Group()\nbricks.add( Bloque(0, 0) )\nbricks.add( Bloque(100, 0) )\n# etc.\n</code></pre>\n\n<p>to keep bricks.</p>\n\n<p>And later you can use </p>\n\n<pre><code>bricks.draw(screen)\n\nbricks.update() \n\npygame.sprite.spritecollide(bola, bricks, dokill=True)\n</code></pre>\n\n<p>Full working code</p>\n\n<pre><code>import pygame\nimport os\nimport sys\n\n#--- constants --- (UPPER_CASE names)\n\nANCHO = 768\nLARGO = 480\n\nDIRECCION = \"imagenes\"\n\nBLACK = (  0,   0,   0)\nWHITE = (255, 255, 255)\n\n#--- classes --- (CamelCase names)\n\nclass Pelota(pygame.sprite.Sprite):\n\n    def __init__(self):\n        pygame.sprite.Sprite.__init__(self)\n\n        self.image = cargar_img(\"bola.png\", DIRECCION, True)\n        self.rect = self.image.get_rect()\n        self.rect.centerx = ANCHO/2\n        self.rect.centery = LARGO/2\n        # self.rect.center = pantalla.get_rect().center\n        self.speed = [6,6]\n\n    def  refrescar(self):\n        global vidas\n\n        if self.rect.left &lt; 0 or self.rect.right &gt; ANCHO: # pantalla.get_rect().right\n            self.speed[0] = -self.speed[0]\n        if self.rect.top &lt; 0 :\n            self.speed[1] = -self.speed[1]\n        if self.rect.bottom &gt; LARGO : # pantalla.get_rect().bottom\n            self.rect.centerx = ANCHO/2 \n            self.rect.centery = LARGO/2\n\n            # self.rect.center = pantalla.get_rect().center\n\n            self.vidas[0] -= 1\n\n        self.rect.move_ip((self.speed[0], self.speed[1]))\n\n    def colision(self, objeto):\n        if self.rect.colliderect(objeto.rect):\n            self.speed[1] = -self.speed[1]\n\n    def draw(self, screen):\n        screen.blit(self.image, self.rect)\n\n#-------------------------------------------------------------------\n\nclass Barra(pygame.sprite.Sprite):\n\n    def __init__(self, y):\n        pygame.sprite.Sprite.__init__(self)\n\n        self.image = cargar_img(\"paleta.png\", DIRECCION, True)\n        self.rect = self.image.get_rect()\n        self.rect.centerx = 384\n        self.rect.centery = 460\n\n    def control(self):\n        if self.rect.right &gt;= ANCHO:\n            self.rect.right = ANCHO\n        elif self.rect.left &lt;= 0:\n            self.rect.left = 0\n\n    def draw(self, screen):\n        screen.blit(self.image, self.rect)\n\n#-------------------------------------------------------------------\n\nclass Bloque(pygame.sprite.Sprite):\n\n    def __init__(self, x, y):\n        pygame.sprite.Sprite.__init__(self)\n\n        self.image = cargar_img(\"ladrillo.png\", DIRECCION, True)\n        self.rect = self.image.get_rect(x=x, y=y)\n\n#    def draw(self, screen):\n#        screen.blit(self.image, self.rect)\n\n#--- functions --- (lower_case names)\n\ndef cargar_img(nombre, direccion, alpha=False):\n\n    ruta = os.path.join(direccion, nombre)\n\n    try:\n        image = pygame.image.load(ruta)\n    except:\n        print(\"Error al cargar la Imagen, compruebe la ruta\")\n        pygame.quit()\n        sys.exit(1)\n\n    if alpha:\n        image = image.convert_alpha()\n    else:\n        image = image.convert()\n\n    return image\n\ndef main():\n\n    # - init -\n\n    pygame.init()\n    pantalla = pygame.display.set_mode ((ANCHO, LARGO))\n    pantalla_rect = pantalla.get_rect()\n\n    pygame.display.set_caption(\"Breakout\")\n\n    # - objects -\n\n    fondo = cargar_img(\"fondo.jpg\", DIRECCION)\n\n    bola  = Pelota()\n    barra = Barra(25)\n\n    bricks = pygame.sprite.Group()\n\n    for y in range(3):\n        for x in range(15):\n            bricks.add( Bloque(x*50, y*50) )\n\n    # - other -\n\n    vidas = [3] # as list to send as reference\n    bola.vidas = vidas\n\n    font = pygame.font.Font(None, 40)\n\n    paused = False\n    pause_text = font.render(\"PAUSE\", True, WHITE)\n    pause_text_rect = pause_text.get_rect(center=pantalla_rect.center)\n\n    pygame.key.set_repeat(1, 20)\n\n    # - mainloop -\n\n    reloj = pygame.time.Clock()\n\n    while True:\n        reloj.tick(60)\n\n        # - updates -\n\n        if not paused:\n            bola.refrescar()\n            bola.colision(barra)\n\n            hits = pygame.sprite.spritecollide(bola, bricks, dokill=True)\n\n            if hits:\n                bola.speed[1] = -bola.speed[1]\n\n            barra.control()\n\n            score = font.render(str(vidas[0]), True, WHITE)\n            score_rect = score.get_rect(x=10, y=10)\n\n        # - draws -\n\n        #pantalla.fill(BLACK) # &lt;-- I don't have image with background\n\n        pantalla.blit(fondo,(0,0))\n\n        bola.draw(pantalla)\n\n        barra.draw(pantalla)\n\n        bricks.draw(pantalla)\n\n        pantalla.blit(score, score_rect)\n\n        if paused:\n            pantalla.blit(pause_text, pause_text_rect)\n\n        pygame.display.flip()\n\n        # - events -\n\n        for event in pygame.event.get():\n            if event.type == pygame.QUIT:\n                pygame.quit()\n                sys.exit(0)\n\n            elif event.type == pygame.KEYDOWN:\n                if event.key == pygame.K_LEFT:\n                    barra.rect.x -= 20\n                elif event.key == pygame.K_RIGHT:\n                    barra.rect.x += 20\n                elif event.key == pygame.K_ESCAPE:\n                    pygame.quit()\n                    sys.exit(0)\n\n                elif event.key == pygame.K_SPACE:\n                    paused = not paused\n\n#-------------------------------------------------------------------                    \n\nif __name__ == \"__main__\":\n    main()\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 7202526, "user_type": "registered", "profile_image": "https://graph.facebook.com/924113224359178/picture?type=large", "display_name": "Andres ", "link": "https://stackoverflow.com/users/7202526/andres"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 291, "favorite_count": 0, "accepted_answer_id": 40778183, "answer_count": 2, "score": -6, "last_activity_date": 1479962537, "creation_date": 1479942927, "last_edit_date": 1479944698, "question_id": 40775695, "link": "https://stackoverflow.com/questions/40775695/how-do-i-make-a-wall-for-breakout-in-pygame", "title": "How do i make a wall for breakout in pygame?", "body": "<pre><code>import pygame\n\nfrom pygame.locals import *\n\nimport os\n\nimport sys\n\n#----------------------------------------------------------------------------------------------------------\n\nancho = 768\n\nlargo = 480\n\ndireccion = \"imagenes\"\n\nvidas = 3\n\n#----------------------------------------------------------------------------------------------------------\n\ndef cargar_img(nombre, direccion, alpha=False):\n\n    ruta = os.path.join(direccion, nombre)\n    try:\n        image = pygame.image.load(ruta)\n    except:\n        print(\"Error al cargar la Imagen, compruebe la ruta\")\n        sys.exit(1)\n\n    if alpha is True:\n        image = image.convert_alpha()\n    else:\n        image = image.convert()\n    return image  \n\n#----------------------------------------------------------------------------------------------------------\n\nclass Pelota(pygame.sprite.Sprite):\n\n    def __init__(self):\n        pygame.sprite.Sprite.__init__(self)\n        self.image = cargar_img(\"bola.png\", direccion, alpha=True)\n        self.rect = self.image.get_rect()\n        self.rect.centerx = ancho/2\n        self.rect.centery = largo/2\n        self.speed = [6,6]\n\n    def  refrescar(self):\n        if self.rect.left &lt; 0 or self.rect.right &gt; ancho:\n            self.speed[0] = -self.speed[0]\n        if self.rect.top &lt; 0 :\n            self.speed[1] = -self.speed[1]\n        if self.rect.bottom &gt; largo :\n            self.rect.centerx = ancho/2\n            self.rect.centery = largo/2\n            global vidas\n            vidas = vidas -1\n\n        self.rect.move_ip((self.speed[0], self.speed[1]))\n\n\n    def colision(self, objeto):\n        if self.rect.colliderect(objeto.rect):\n            self.speed[1] = -self.speed[1]\n\n\n#----------------------------------------------------------------------------------------------------------\n\nclass Barra(pygame.sprite.Sprite):\n\n    def __init__(self, y):\n        pygame.sprite.Sprite.__init__(self)\n        self.image = cargar_img(\"paleta.png\", direccion, alpha = True)\n        self.rect = self.image.get_rect()\n        self.rect.centerx = 384\n        self.rect.centery = 460\n\n    def control(self):\n        if self.rect.right &gt;= ancho:\n            self.rect.right = ancho\n        elif self.rect.left &lt;= 0:\n            self.rect.left = 0\n#--------------------------------------------------------------------------------------------------------\nclass Bloque(pygame.sprite.Sprite):\n\n    def __init__(self):\n        pygame.sprite.Sprite.__init__(self)\n        self.image = cargar_img(\"ladrillo.png\", direccion, alpha = True)\n        self.rect = self.image.get_rect()\n\n\n\n\n#----------------------------------------------------------------------------------------------------------\ndef main():\n\n    pygame.init()\n    pantalla = pygame.display.set_mode ((ancho, largo))\n    pygame.display.set_caption(\"Breakout\")\n#----------------------------------------------------------------------------------------------------------\n    fondo = cargar_img(\"fondo.jpg\", direccion, alpha = False)\n    bola = Pelota()\n    barra= Barra(25)\n    ladrillo = Bloque()\n    reloj = pygame.time.Clock()\n    pygame.key.set_repeat(1,20)\n\n#----------------------------------------------------------------------------------------------------------  \n    while True:\n        reloj.tick(60)\n        bola.refrescar()\n        bola.colision(barra)\n        bola.colision(ladrillo)\n        barra.control()\n\n#----------------------------------------------------------------------------------------------------------  \n\n        pantalla.blit(fondo,(0,0))\n        pantalla.blit(bola.image, bola.rect)\n        pantalla.blit(barra.image, barra.rect)\n        pantalla.blit(ladrillo.image, ladrillo.rect)\n        pygame.display.flip()\n\n#----------------------------------------------------------------------------------------------------------  \n        for event in pygame.event.get():\n            if event.type == pygame.QUIT:\n                sys.exit(0)\n            elif event.type == pygame.KEYDOWN:\n                if event.key == K_LEFT:\n                    barra.rect.centerx -= 20\n                elif event.key == K_RIGHT:\n                    barra.rect.centerx += 20\n                elif event.key == K_ESCAPE:\n                    sys.exit(0)\n            elif event.type == pygame.KEYUP:\n                if event.key == K_RIGHT:\n                    barra.rect.centerx += 0\n                elif event.key == K_LEFT:\n                    barra.rect.centerx += 0\n#----------------------------------------------------------------------------------------------------------\nif __name__ == \"__main__\":\n    main()\n</code></pre>\n"}, {"tags": ["python", "linux", "for-loop"], "comments": [{"owner": {"reputation": 88, "user_id": 4786352, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/a5kgB.jpg?s=128&g=1", "display_name": "Deneb", "link": "https://stackoverflow.com/users/4786352/deneb"}, "edited": false, "score": 0, "creation_date": 1479944083, "post_id": 40775676, "comment_id": 68775465, "body": "I am not too sure what you want according to the code you posted. You do not actually use the hostnames in your <code>hostname</code> list, so why iterating over it ?"}, {"owner": {"reputation": 53, "user_id": 5578188, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/12f7da34bf44a3a61101e39a65a5ba3e?s=128&d=identicon&r=PG&f=1", "display_name": "user5578188", "link": "https://stackoverflow.com/users/5578188/user5578188"}, "reply_to_user": {"reputation": 88, "user_id": 4786352, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/a5kgB.jpg?s=128&g=1", "display_name": "Deneb", "link": "https://stackoverflow.com/users/4786352/deneb"}, "edited": false, "score": 0, "creation_date": 1479944369, "post_id": 40775676, "comment_id": 68775532, "body": "I changed the actual code, because the real code had sensitive information. But i have modified the above script to include hostname variable now"}], "answers": [{"tags": [], "owner": {"reputation": 88, "user_id": 4786352, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/a5kgB.jpg?s=128&g=1", "display_name": "Deneb", "link": "https://stackoverflow.com/users/4786352/deneb"}, "is_accepted": false, "score": 0, "last_activity_date": 1479946894, "creation_date": 1479946894, "answer_id": 40776277, "question_id": 40775676, "link": "https://stackoverflow.com/questions/40775676/python-2-7-using-subprocess-and-a-for-loop-to-output-results/40776277#40776277", "title": "Python 2.7: Using subprocess and a For Loop to output results", "body": "<p>Something like that should do the job:</p>\n\n<pre><code>#!/usr/bin/python\nimport commands, os, string\nimport sys\nimport fileinput\nimport subprocess\nfrom subprocess import Popen, PIPE\nimport shlex\n\n\nnodename = raw_input(\"Enter the hostname: \")\n\nhostname=['hostA', 'hostB', 'hostC']\n\nfor i in hostname:\n    print \"Checking Host List...\"\n\n    cmd = \"ls -l \"+i\n    args = shlex.split(cmd)\n\n    p = subprocess.Popen(args, stdout=subprocess.PIPE, stderr=subprocess.PIPE)\n    out, err = p.communicate()\n    print out\n\n    if out.find(\"Platform\") &gt; -1:\n        print out\n        break\n\n    if i == hostname[-1]:\n        print \"We could not find that host!\"\n</code></pre>\n\n<p><code>hostname[-1]</code> is actually a shortcut for the last element of the <code>hostname</code> list. So, you will only enter in that last if block if you reached the last element of the <code>hostname</code> list and that it did not contain <code>\"Platform\"</code>.</p>\n"}], "owner": {"reputation": 53, "user_id": 5578188, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/12f7da34bf44a3a61101e39a65a5ba3e?s=128&d=identicon&r=PG&f=1", "display_name": "user5578188", "link": "https://stackoverflow.com/users/5578188/user5578188"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 303, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1479946894, "creation_date": 1479942782, "last_edit_date": 1479944310, "question_id": 40775676, "link": "https://stackoverflow.com/questions/40775676/python-2-7-using-subprocess-and-a-for-loop-to-output-results", "title": "Python 2.7: Using subprocess and a For Loop to output results", "body": "<p>I have a script that will check multiple hosts for a string pattern (in this case it looks for \"Platform.\" I want to add to this program to make it print something if it cannot find that search pattern. Can someone help guide me in the right direction? For example, if it did not find any \"Platform\" then it would not print out and it would instead print \"We could not find that host!\"  </p>\n\n<p>#! /usr/bin/python</p>\n\n<pre><code>import commands, os, string\nimport sys\nimport fileinput\nimport subprocess\nfrom subprocess import Popen, PIPE\nimport shlex\n\n\nnodename = raw_input(\"Enter the hostname: \")\n\nhostname=['hostA', 'hostB', 'hostC']\n\nfor i in hostname:\n    print \"Checking Host List...\"\n\n    cmd = \"ls -l\" + hostname\n    args = shlex.split(cmd)\n\n    p = subprocess.Popen(args, stdout=subprocess.PIPE, stderr=subprocess.PIPE)\n    out, err = p.communicate()\n\n    if out.find(\"Platform\") &gt; -1:\n        print out\n        break\n</code></pre>\n"}, {"tags": ["python", "file", "save", "user-input"], "comments": [{"owner": {"reputation": 12521, "user_id": 4498329, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/b1bf128245aa5bcb1b740e8154296900?s=128&d=identicon&r=PG&f=1", "display_name": "skyking", "link": "https://stackoverflow.com/users/4498329/skyking"}, "edited": false, "score": 0, "creation_date": 1479976188, "post_id": 40775658, "comment_id": 68785656, "body": "You&#39;re not supposed to remove your question when you&#39;ve got an answer. The question and answer should remain in case it&#39;s useful for somebody else. Possibly you could accept an answer as the correct one."}], "answers": [{"tags": [], "owner": {"reputation": 86, "user_id": 3763193, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QdIwN.png?s=128&g=1", "display_name": "Oli Radlett", "link": "https://stackoverflow.com/users/3763193/oli-radlett"}, "is_accepted": true, "score": 1, "last_activity_date": 1479974839, "last_edit_date": 1479974839, "creation_date": 1479943804, "answer_id": 40775834, "question_id": 40775658, "link": "https://stackoverflow.com/questions/40775658/write-user-input-to-file-python/40775834#40775834", "title": "Write user input to file python", "body": "<p>Open the file in append mode by using \"a\" as the mode.</p>\n\n<p>For example:</p>\n\n<pre><code>f = open(\"path\", \"a\")\n</code></pre>\n\n<p>Then write to the file and the text should be appended to the end of the file.</p>\n"}, {"tags": [], "owner": {"reputation": 88, "user_id": 4786352, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/a5kgB.jpg?s=128&g=1", "display_name": "Deneb", "link": "https://stackoverflow.com/users/4786352/deneb"}, "is_accepted": false, "score": 0, "last_activity_date": 1479945913, "last_edit_date": 1479945913, "creation_date": 1479945609, "answer_id": 40776120, "question_id": 40775658, "link": "https://stackoverflow.com/questions/40775658/write-user-input-to-file-python/40776120#40776120", "title": "Write user input to file python", "body": "<p>That code example works for me:</p>\n\n<pre><code>#!/usr/bin/env python\n\ndef write_corpus_to_file(mycorpus, myfile):\n    with open(myfile, \"a\") as dstFile:\n        dstFile.write(mycorpus)\n\nwrite_corpus_to_file(\"test\", \"./test.tmp\")\n</code></pre>\n\n<p>The \"with open as\" is a convenient way in python to open a file, do something with it while within the block defined by the \"with\" and let Python handles the rest once you exit it (like, for example, closing the file).</p>\n\n<p>If you want to write the input from the user, you can replace <code>mycorpus</code> with your <code>input</code> (I am not too sure what you want to do from your code snippets).</p>\n\n<p>Note that no carriage return is added by the write method. You probably want to append a \"\\n\" at the end :-)</p>\n"}], "owner": {"reputation": 3, "user_id": 7196113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9cf8c726a8b78e4985cc135b56d7b629?s=128&d=identicon&r=PG&f=1", "display_name": "Student", "link": "https://stackoverflow.com/users/7196113/student"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1281, "favorite_count": 0, "accepted_answer_id": 40775834, "answer_count": 2, "score": 0, "last_activity_date": 1479976099, "creation_date": 1479942672, "last_edit_date": 1479976099, "question_id": 40775658, "link": "https://stackoverflow.com/questions/40775658/write-user-input-to-file-python", "title": "Write user input to file python", "body": "<p>I can't figure out how to write the user input to an existing file. The file already contains a series of letters and is called corpus.txt . I want to take the user input and add it to the file , save and close the loop. </p>\n\n<p>This is the code I have :</p>\n\n<pre><code>if user_input == \"q\":\n    def write_corpus_to_file(mycorpus,myfile):\n        fd = open(myfile,\"w\")\n        input = raw_input(\"user input\")\n        fd.write(input)\n    print \"Writing corpus to file: \", myfile\n    print \"Goodbye\"\n    break\n</code></pre>\n\n<p>Any suggestions?</p>\n\n<p>The user info code is :</p>\n\n<pre><code>def segment_sequence(corpus, letter1, letter2, letter3):\n    one_to_two = corpus.count(letter1+letter2)/corpus.count(letter1)\n    two_to_three = corpus.count(letter2+letter3)/corpus.count(letter2)\n\n    print \"Here is the proposed word boundary given the training corpus:\"\n\n    if one_to_two &lt; two_to_three:\n        print \"The proposed end of one word: %r \" % target[0]\n        print \"The proposed beginning of the new word: %r\" % (target[1] + target[2])\n\n    else:\n        print \"The proposed end of one word: %r \" % (target[0] + target[1])\n        print \"The proposed beginning of the new word: %r\" % target[2]\n</code></pre>\n\n<p>I also tried this : </p>\n\n<pre><code>f = open(myfile, 'w')\nmycorpus = ''.join(corpus)\nf.write(mycorpus)\nf.close()\n</code></pre>\n\n<p>Because I want the user input to be added to the file and not deleting what is already there, but nothing works.</p>\n\n<p>Please help!</p>\n"}, {"tags": ["python", "tkinter"], "comments": [{"owner": {"reputation": 88, "user_id": 4786352, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/a5kgB.jpg?s=128&g=1", "display_name": "Deneb", "link": "https://stackoverflow.com/users/4786352/deneb"}, "edited": false, "score": 0, "creation_date": 1479946290, "post_id": 40775644, "comment_id": 68776036, "body": "Can you give an example of what <code>playerBox</code> would be (A value ? A list containing a value? A list containing a tuple?) and what you would your <code>in ...</code> clause to look like (like, let&#39;s say, <code>[(1, 3), (1, 3, 4, 5, 6)]</code>)? I am not too sure what you really want to obtain as a result to be honest :)"}, {"owner": {"reputation": 1330, "user_id": 6335503, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/229c916be89ba4012cc6962aadaec14a?s=128&d=identicon&r=PG&f=1", "display_name": "Nf4r", "link": "https://stackoverflow.com/users/6335503/nf4r"}, "edited": false, "score": 0, "creation_date": 1479951241, "post_id": 40775644, "comment_id": 68777120, "body": "If you are using Python 3.x, then all you need to do is write <code>if  playerBox in [(1, 3), (1, 3, *coinList)]:</code> *star will unpuck the list to the tuple. (If this is what u want)"}], "answers": [{"tags": [], "owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "is_accepted": false, "score": 0, "last_activity_date": 1479950857, "last_edit_date": 1479950857, "creation_date": 1479950186, "answer_id": 40776674, "question_id": 40775644, "link": "https://stackoverflow.com/questions/40775644/how-would-i-include-values-from-one-list-as-a-range-for-an-if-statement-in-anot/40776674#40776674", "title": "How would I include values from one list as a range for an if statement, in another list?", "body": "<p><code>find_overlapping</code> returns tuple of objects which overlap player rect. You have to compare every element one-by-one</p>\n\n<pre><code>playerBox = screen.find_overlapping(*screen.coords(player))\n\nall_elements = [1, 3] + coinList  \n\nfound = False\nfor x in playerBox:\n    if x in all_elements:\n       found = True\n       break\n\nif found:\n   screen.coords(player, ...)\n</code></pre>\n\n<p>Or you can use <code>set()</code></p>\n\n<pre><code>playerBox = screen.find_overlapping(*screen.coords(player))\n\nall_elements = [1, 3] + coinList  \n\nif set(playerBox) &amp; set(all_elements):\n    screen.coords(player, ...)\n</code></pre>\n"}], "owner": {"reputation": 1600, "user_id": 7202599, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/11ecff3952b6c8d0e878cdeb17642823?s=128&d=identicon&r=PG&f=1", "display_name": "SneakyTurtle", "link": "https://stackoverflow.com/users/7202599/sneakyturtle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 47, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1479950857, "creation_date": 1479942582, "question_id": 40775644, "link": "https://stackoverflow.com/questions/40775644/how-would-i-include-values-from-one-list-as-a-range-for-an-if-statement-in-anot", "title": "How would I include values from one list as a range for an if statement, in another list?", "body": "<p>I've started looking into tkinter with python recently, and have started making a mario-esque style game, involving a player (rectangle) moving around, colliding with platforms and such and collecting coins.</p>\n\n<p>My detection system for the player hitting the ground involves the *.find_overlapping method of the players co-ordinates, and if they are overlapping the ground, or another platform per say, then it sets the players y co-ordinates to be on top of the said object.</p>\n\n<pre><code>def collide():\n    playerBox = screen.find_overlapping(screen.coords(player)[0], screen.coords(player)[1]\n                                  , screen.coords(player)[2], screen.coords(player)[3])\n\n    if  playerBox in [(1, 3)]:\n        screen.coords(player, screen.coords(player)[0], screen.coords(root.floor)[1] - defaultHeight\n                        , screen.coords(player)[2], screen.coords(root.floor)[1])\n</code></pre>\n\n<p>(This is where the (1, 3) returned overlap represents the player overlapping with the ground (floor), and the defaultHeight is 56 if you wish to know, so that the players height remains constant.)</p>\n\n<p>However, if the player is in contact with a coin, then they fall through the ground, and stay below the surface. To fix this, I have the object initiation list (made from a dictionary created alongside the actual coins creation) of the coins made which looks like:</p>\n\n<pre><code>coinList = [4, 5, 6...] #For however many coins are made (As the first coin is the fourth object on screen, this may change though)\n</code></pre>\n\n<p>I want to be able to include this coinList into the if statement shown above, something like:</p>\n\n<pre><code>if  playerBox in [(1, 3), (1, 3, coinList)]:\n</code></pre>\n\n<p>This is not working however, and I cannot understand why or how this could work.</p>\n\n<p>I am open to any other suggestions you may have for solving this problem!</p>\n\n<p>Thanks in advance.</p>\n\n<p>PS: Sorry if my post formatting is wrong or doesn't contain enough information, feel free to ask for more info if needed.</p>\n"}, {"tags": ["python", "pandas", "numpy", "matrix", "scipy"], "answers": [{"comments": [{"owner": {"reputation": 1219, "user_id": 3426358, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/9f7fcc552dd4e78b2347319cd670a61e?s=128&d=identicon&r=PG&f=1", "display_name": "FlyingAura", "link": "https://stackoverflow.com/users/3426358/flyingaura"}, "edited": false, "score": 0, "creation_date": 1479946480, "post_id": 40775715, "comment_id": 68776082, "body": "The sum results in 0&#39;s everywhere. See <a href=\"https://docs.google.com/spreadsheets/d/12ahydyrHjTZIih67KALIOhDFlnZRAZ0c9pFPqvFUU8g/edit\" rel=\"nofollow noreferrer\">Matrix</a> .  I have the files and the python code <a href=\"https://drive.google.com/drive/folders/0B0byAC8kZZPhTExOUFZqQkQ1VTQ\" rel=\"nofollow noreferrer\">here</a> . Please take a look if possible. What am I doing wrong?"}, {"owner": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "reply_to_user": {"reputation": 1219, "user_id": 3426358, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/9f7fcc552dd4e78b2347319cd670a61e?s=128&d=identicon&r=PG&f=1", "display_name": "FlyingAura", "link": "https://stackoverflow.com/users/3426358/flyingaura"}, "edited": false, "score": 0, "creation_date": 1479978355, "post_id": 40775715, "comment_id": 68786904, "body": "Try with <code>all_cols = x.columns | y.columns all_indices = x.index | y.index</code> and pass <code>all_indices</code> as the <code>index</code> param for <code>reindex</code>, this worked for me"}, {"owner": {"reputation": 1219, "user_id": 3426358, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/9f7fcc552dd4e78b2347319cd670a61e?s=128&d=identicon&r=PG&f=1", "display_name": "FlyingAura", "link": "https://stackoverflow.com/users/3426358/flyingaura"}, "edited": false, "score": 0, "creation_date": 1479998160, "post_id": 40775715, "comment_id": 68800349, "body": "The matrix becomes rectangular and the row labels go missing. See <a href=\"https://drive.google.com/open?id=1nZn4-Xhu9NMAUCFx7196anSY_7nWmdHlcHv-F_JDDok\" rel=\"nofollow noreferrer\">Matrix</a> . The modified code is <a href=\"https://drive.google.com/open?id=0B0byAC8kZZPhN1BlTW11U0N0bUk\" rel=\"nofollow noreferrer\">here</a>"}, {"owner": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "reply_to_user": {"reputation": 1219, "user_id": 3426358, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/9f7fcc552dd4e78b2347319cd670a61e?s=128&d=identicon&r=PG&f=1", "display_name": "FlyingAura", "link": "https://stackoverflow.com/users/3426358/flyingaura"}, "edited": false, "score": 0, "creation_date": 1479998377, "post_id": 40775715, "comment_id": 68800469, "body": "You also need to add <code>index_col=0</code> to <code>read_csv</code>: <code>X= pd.read_csv(&#39;30203_Transpose.csv&#39;, index_col=0) Y= pd.read_csv(&#39;62599_1999psCSV.csv&#39;, index_col=0)</code>"}, {"owner": {"reputation": 1219, "user_id": 3426358, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/9f7fcc552dd4e78b2347319cd670a61e?s=128&d=identicon&r=PG&f=1", "display_name": "FlyingAura", "link": "https://stackoverflow.com/users/3426358/flyingaura"}, "edited": false, "score": 0, "creation_date": 1480016518, "post_id": 40775715, "comment_id": 68809327, "body": "Works perfect! Thank you!"}], "tags": [], "owner": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "is_accepted": true, "score": 1, "last_activity_date": 1480016704, "last_edit_date": 1480016704, "creation_date": 1479943041, "answer_id": 40775715, "question_id": 40775626, "link": "https://stackoverflow.com/questions/40775626/add-two-matrices-having-different-dimensions-labels-and-retain-labels-in-sum-ma/40775715#40775715", "title": "Add two matrices having different dimensions, labels and retain labels in sum matrix", "body": "<p>Assuming that the columns and indices labels are the same values, if you take the union of the columns and reindex both dfs and fill the <code>NaN</code> with <code>0</code> prior to adding then you get the result you desire.</p>\n\n<p>if the column and index labels are not the same you can just make 2 arrays of the combined labels:</p>\n\n<pre><code>all_cols = x.columns | y.columns\nall_indices = x.index | y.index\n</code></pre>\n\n<p>and <code>reindex</code>.</p>\n\n<p>With your example data:</p>\n\n<pre><code>In [11]:\nall_cols = x.columns | y.columns\nx = x.reindex(index=all_cols, columns=all_cols).fillna(0)\ny = y.reindex(index=all_cols, columns=all_cols).fillna(0)\nx+y\n\nOut[11]:\n      a    b    c    d    e\na  10.3  1.3  1.4  1.5  9.2\nb   2.1  2.2  2.3  2.4  0.0\nc   3.3  3.4  3.5  3.6  0.0\nd   4.2  4.3  4.4  4.5  0.0\ne   8.1  0.0  0.0  0.0  8.2\n</code></pre>\n\n<p>Actually you can just <code>reindex</code> the result of <code>add</code>:</p>\n\n<pre><code>In [13]:\nx.add(y, fill_value=0).reindex(index=all_cols,columns=all_cols).fillna(0)\n\nOut[13]:\n      a    b    c    d    e\na  10.3  1.3  1.4  1.5  9.2\nb   2.1  2.2  2.3  2.4  0.0\nc   3.3  3.4  3.5  3.6  0.0\nd   4.2  4.3  4.4  4.5  0.0\ne   8.1  0.0  0.0  0.0  8.2\n</code></pre>\n\n<p><strong>EDIT</strong></p>\n\n<p>regarding your real data, you need to specify that the first unnamed column is the index:</p>\n\n<pre><code>X= pd.read_csv('30203_Transpose.csv', index_col=0)\nY= pd.read_csv('62599_1999psCSV.csv', index_col=0)\n</code></pre>\n\n<p>Additionally your index is not the same as your columns so these need to be aggregated separately</p>\n\n<pre><code>all_cols = X.columns | Y.columns\nall_indices = X.index | Y.index\n</code></pre>\n\n<p>then you can <code>add</code>:</p>\n\n<pre><code>X.add(Y, fill_value=0).reindex(index=all_cols,columns=all_cols).fillna(0)\n</code></pre>\n"}], "owner": {"reputation": 1219, "user_id": 3426358, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/9f7fcc552dd4e78b2347319cd670a61e?s=128&d=identicon&r=PG&f=1", "display_name": "FlyingAura", "link": "https://stackoverflow.com/users/3426358/flyingaura"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 484, "favorite_count": 0, "accepted_answer_id": 40775715, "answer_count": 1, "score": 1, "last_activity_date": 1480016704, "creation_date": 1479942503, "last_edit_date": 1495540382, "question_id": 40775626, "link": "https://stackoverflow.com/questions/40775626/add-two-matrices-having-different-dimensions-labels-and-retain-labels-in-sum-ma", "title": "Add two matrices having different dimensions, labels and retain labels in sum matrix", "body": "<p>I have two square matrices as two csv files. Each matrix has a row and column label. Each row, column label detects relation score between two companies. \nBoth the marices have a few labels (companies) which are missing in the other. Also, the dimensions of both matrices are different. ( One is 427 x 427, other is 467 x 467 )</p>\n\n<p>Ex: In the matrix below, the numbers in bold are labels (company serial numbers). </p>\n\n<pre><code>0 is the score between (10010, 10010) . \n0.43967 is the score between (1013, 10010) and so on. \n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/oGysD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oGysD.png\" alt=\"enter image description here\"></a></p>\n\n<p>I need to add these two matrices in such a way that:\nIn the resulting matrix ( sum of the two matrix), no label (row or column labels) is lost. <strong>If label exist in A and not in B, the resulting matrix should have a row &amp; column entry (label and values) for it and vice versa for B.</strong> </p>\n\n<pre><code>Example: \nNote that {a, b ... e} are labels. X &amp; Y are matrices. \n       a   b   c   d               a   e\n    a   1.2 1.3 1.4 1.5         a   9.1 9.2\nX=  b   2.1 2.2 2.3 2.4     Y=  e   8.1 8.2\n    c   3.3 3.4 3.5 3.6                 \n    d   4.2 4.3 4.4 4.5                 \n\n            a       b       c       d       e\n        a   1.2+9.1 1.3     1.4     1.5     9.2\nX+Y=    b   2.1     2.2     2.3     2.4     0\n        c   3.3     3.4     3.5     3.6     0\n        d   4.2     4.3     4.4     4.5     0\n        e   8.1     0       0       0       8.2\n</code></pre>\n\n<p>I had posted a <a href=\"https://stackoverflow.com/questions/40749442/add-matrices-with-different-labels-and-different-dimensions\">similar question</a> but the answer given did not take into account the row labels and made the resulting matrix rectangular. <strong>The resulting matrix must be square too</strong>. </p>\n\n<p>I am lost at how this should be done in python/ pandas or any other python libraries. Can someone help me with this? </p>\n\n<p>The matrix files are <a href=\"https://drive.google.com/drive/folders/0B0byAC8kZZPhTExOUFZqQkQ1VTQ\" rel=\"nofollow noreferrer\">here</a>. </p>\n"}, {"tags": ["python", "python-3.x", "crash"], "answers": [{"comments": [{"owner": {"reputation": 149, "user_id": 1951424, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6442ec3af77ebcf14923e8d93258fb10?s=128&d=identicon&r=PG&f=1", "display_name": "MAGYS", "link": "https://stackoverflow.com/users/1951424/magys"}, "edited": false, "score": 0, "creation_date": 1479980073, "post_id": 40776561, "comment_id": 68788006, "body": "Absolutely right with the read. This was my mistake. I will adjust the sample."}], "tags": [], "owner": {"reputation": 132, "user_id": 4040569, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/92e5a5a560749fdfd82138a88e9cf172?s=128&d=identicon&r=PG&f=1", "display_name": "rawinput", "link": "https://stackoverflow.com/users/4040569/rawinput"}, "is_accepted": true, "score": 2, "last_activity_date": 1479949353, "creation_date": 1479949353, "answer_id": 40776561, "question_id": 40775619, "link": "https://stackoverflow.com/questions/40775619/python-3-crash-with-free-corrupted-unsorted-chunks-while-reading-file/40776561#40776561", "title": "Python 3: Crash with free(): corrupted unsorted chunks while reading file", "body": "<p><strong>first exemple</strong> : Tested in python 2.7 worked and tell me in wich line the   error  occurs</p>\n\n<p><strong>second exemple</strong> : You have to know when you call f.read() the cursor in the file gets to the end of the file so another f.read() will output nothing ie '' so the two exemples are differents</p>\n"}], "owner": {"reputation": 149, "user_id": 1951424, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6442ec3af77ebcf14923e8d93258fb10?s=128&d=identicon&r=PG&f=1", "display_name": "MAGYS", "link": "https://stackoverflow.com/users/1951424/magys"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1169, "favorite_count": 1, "accepted_answer_id": 40776561, "answer_count": 1, "score": 2, "last_activity_date": 1479980142, "creation_date": 1479942461, "last_edit_date": 1479980142, "question_id": 40775619, "link": "https://stackoverflow.com/questions/40775619/python-3-crash-with-free-corrupted-unsorted-chunks-while-reading-file", "title": "Python 3: Crash with free(): corrupted unsorted chunks while reading file", "body": "<p>I found the following strange behavior with Python 3:</p>\n\n<pre><code>file = open(path, mode='rb').read()\nfile_ori = open(self.filePath, mode='rb').read()\n\nm = hashlib.md5()\nmd5 = m.update(file)\nmd5 = m.hexdigest()\n\nfile = '0x'.encode('ascii') + binascii.hexlify(file)\nfile_ori = '0x'.encode('ascii') + binascii.hexlify(file_ori)\n</code></pre>\n\n<p>In this scenario my application will crash sooner or later with <em>free(): corrupted unsorted chunks</em>.</p>\n\n<p>If I change to code to:</p>\n\n<pre><code>file = open(path, mode='rb')\nfile_ori = open(self.filePath, mode='rb')\n\nfilecont = file.read()\nfile_oricont = file_ori.read()\n\nm = hashlib.md5()\nmd5 = m.update(filecont)\nmd5 = m.hexdigest()\n\nfileb = '0x'.encode('ascii') + binascii.hexlify(filecont)\nfileb_ori = '0x'.encode('ascii') + binascii.hexlify(file_oricont)\n</code></pre>\n\n<p>The application is running without problems.</p>\n\n<p>I read the documentation multiple times but can't find any reason for this behavior. Did someone may know more about this? It seems to me there is a bug with Python and the garbage collection?</p>\n\n<p>I tested with python3.4 and python3.5.</p>\n\n<p>Thanks\nManuel</p>\n"}, {"tags": ["python", "csv"], "comments": [{"owner": {"reputation": 37454, "user_id": 4985733, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/r7daF.jpg?s=128&g=1", "display_name": "Martin Evans", "link": "https://stackoverflow.com/users/4985733/martin-evans"}, "edited": false, "score": 0, "creation_date": 1479976863, "post_id": 40775577, "comment_id": 68786012, "body": "Please edit the question to include your expected output for this data."}, {"owner": {"reputation": 13883, "user_id": 2883245, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/NPpPG.jpg?s=128&g=1", "display_name": "erip", "link": "https://stackoverflow.com/users/2883245/erip"}, "edited": false, "score": 0, "creation_date": 1480117180, "post_id": 40775577, "comment_id": 68847153, "body": "What does &quot;B vs P&quot; mean?"}], "answers": [{"tags": [], "owner": {"reputation": 3499, "user_id": 7010554, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/895ef9191cdd3d7c23e5195e359709c7?s=128&d=identicon&r=PG&f=1", "display_name": "maij", "link": "https://stackoverflow.com/users/7010554/maij"}, "is_accepted": false, "score": 0, "last_activity_date": 1479946460, "creation_date": 1479946460, "answer_id": 40776228, "question_id": 40775577, "link": "https://stackoverflow.com/questions/40775577/python-reading-csv-files-column-by-column/40776228#40776228", "title": "Python Reading CSV files column by column", "body": "<p>The lines have different length, so I would not use the csv reader. I suggest to read the file line by line, splitting the lines at the commas, and compare each position individually:</p>\n\n<pre><code>import itertools\n\nwith open(\"data.csv\", \"r\") as datafile:\n\n    line1 = datafile.readline()\n\n    for line2 in datafile:\n\n        tokens1 = line1.strip().split(',')\n        tokens2 = line2.strip().split(',')\n\n        print(\" --- Comparing lines %s &lt;=&gt; %s --- \" % (tokens1[0], tokens2[0]))\n\n        for (a, b) in itertools.zip_longest(tokens1[1:], tokens2[1:]):\n            print(\"%s &lt;=&gt; %s : %s\" % (a, b, \"Equal\" if a==b else \"Not equal\"))\n\n        line1 = line2\n</code></pre>\n\n<p>The output with python 3.4 is: </p>\n\n<pre><code> --- Comparing lines 1 &lt;=&gt; 2 ---\nB &lt;=&gt; T : Not equal\nT &lt;=&gt; P : Not equal\nP &lt;=&gt; B : Not equal\nB &lt;=&gt; P : Not equal\nB &lt;=&gt; B : Equal\nB &lt;=&gt; B : Equal\nP &lt;=&gt; P : Equal\nP &lt;=&gt; P : Equal\nP &lt;=&gt; B : Not equal\nT &lt;=&gt; B : Not equal\nP &lt;=&gt; T : Not equal\nP &lt;=&gt; P : Equal\nP &lt;=&gt; B : Not equal\nP &lt;=&gt; B : Not equal\nT &lt;=&gt; T : Equal\nB &lt;=&gt; P : Not equal\nP &lt;=&gt; P : Equal\nP &lt;=&gt; B : Not equal\nB &lt;=&gt; B : Equal\nP &lt;=&gt; B : Not equal\nP &lt;=&gt; B : Not equal\nB &lt;=&gt; P : Not equal\nB &lt;=&gt; T : Not equal\nP &lt;=&gt; B : Not equal\nP &lt;=&gt; T : Not equal\nNone &lt;=&gt; B : Not equal\nNone &lt;=&gt; B : Not equal\nNone &lt;=&gt; B : Not equal\nNone &lt;=&gt; P : Not equal\n --- Comparing lines 2 &lt;=&gt; 3 ---\nT &lt;=&gt; P : Not equal\nP &lt;=&gt; P : Equal\nB &lt;=&gt; B : Equal\nP &lt;=&gt; B : Not equal\nB &lt;=&gt; P : Not equal\nB &lt;=&gt; B : Equal\nP &lt;=&gt; T : Not equal\nP &lt;=&gt; T : Not equal\nB &lt;=&gt; B : Equal\nB &lt;=&gt; P : Not equal\n...\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 7202593, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa57d027bf20d8b4d72d2d206c0338d4?s=128&d=identicon&r=PG&f=1", "display_name": "stevem0", "link": "https://stackoverflow.com/users/7202593/stevem0"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 113, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1480116893, "creation_date": 1479942210, "last_edit_date": 1480116893, "question_id": 40775577, "link": "https://stackoverflow.com/questions/40775577/python-reading-csv-files-column-by-column", "title": "Python Reading CSV files column by column", "body": "<p>I am trying to manipulate a csv file of data with a python program.  </p>\n\n<p>the csv file looks like this with different length rows:</p>\n\n<pre><code>1,B,T,P,B,B,B,P,P,P,T,P,P,P,P,T,B,P,P,B,P,P,B,B,P,P\n2,T,P,B,P,B,B,P,P,B,B,T,P,B,B,T,P,P,B,B,B,B,P,T,B,T,B,B,B,P\n3,P,P,B,B,P,B,T,T,B,P,P,B,B,B,P,B,B,P,P,B,P,T,P,B,P,P,P\n4,B,B,P,P,P,B,P,B,T,B,P,P,B,B,P,P,B,B,B,T,B,P,B,B,B,P,P,B\n</code></pre>\n\n<p>So in Row 1 I want to evaluate:</p>\n\n<blockquote>\n  <p>B vs T</p>\n</blockquote>\n\n<p>then</p>\n\n<blockquote>\n  <p>T vs P</p>\n</blockquote>\n\n<p>then</p>\n\n<blockquote>\n  <p>P vs B</p>\n</blockquote>\n\n<p>until the end</p>\n\n<blockquote>\n  <p>B vs P</p>\n</blockquote>\n\n<p>Then start on the next row, until the end of file.</p>\n\n<p>I am using: </p>\n\n<pre><code>readCSV = csv.reader(csvfile, delimiter=',')\n\nfor row in readCSV:\n    for col in row:\n</code></pre>\n\n<p>I have tried <code>row[1]</code> vs <code>row[2]</code> but not sure how to increment these for different length rows.</p>\n\n<p>Looking for suggestions for the easiest way to evaluate these so that I complete every row?  Basically I am just testing if new column [2] is equal to the previous column [1], for the entire row.</p>\n"}, {"tags": ["python", "loops", "csv", "lookup"], "comments": [{"owner": {"reputation": 47, "user_id": 6933725, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh4.googleusercontent.com/-SP5qQ1NaxSE/AAAAAAAAAAI/AAAAAAAAAK0/Id0Z0M-Ne00/photo.jpg?sz=128", "display_name": "nanny", "link": "https://stackoverflow.com/users/6933725/nanny"}, "edited": false, "score": 0, "creation_date": 1479942144, "post_id": 40775532, "comment_id": 68774855, "body": "Is a csv file with two rows. The 1st row has the name of the flowers and the second one the prices. I need to look up the price of a flower given the 2nd argument in the function which is the flower name. &quot;def problem3_8(csv_pricefile, flower)&quot;"}, {"owner": {"reputation": 39529, "user_id": 2063361, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/jB77z.jpg?s=128&g=1", "display_name": "Anonymous", "link": "https://stackoverflow.com/users/2063361/anonymous"}, "edited": false, "score": 0, "creation_date": 1479943199, "post_id": 40775532, "comment_id": 68775179, "body": "On re-visiting your question, your code should work. I think you might be printing the content from somewhere else. Even though better way would have been <code>flower == row[0]</code> to check for exact match. But based on your sample data, it should print just one value"}], "answers": [{"comments": [{"owner": {"reputation": 47, "user_id": 6933725, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh4.googleusercontent.com/-SP5qQ1NaxSE/AAAAAAAAAAI/AAAAAAAAAK0/Id0Z0M-Ne00/photo.jpg?sz=128", "display_name": "nanny", "link": "https://stackoverflow.com/users/6933725/nanny"}, "edited": false, "score": 0, "creation_date": 1479943105, "post_id": 40775660, "comment_id": 68775149, "body": "Hi Bryce, yes I meant problem3_7  in both instances.That&#39;s why it wast working :( I got so confuse trying different things, that I didn&#39;t even realize of my mistake! Thanks for your help :) P.S. I am new in programming, LOL!"}], "tags": [], "owner": {"reputation": 497, "user_id": 5249681, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/CftX5.jpg?s=128&g=1", "display_name": "Bryce Frank", "link": "https://stackoverflow.com/users/5249681/bryce-frank"}, "is_accepted": false, "score": 1, "last_activity_date": 1479942689, "creation_date": 1479942689, "answer_id": 40775660, "question_id": 40775532, "link": "https://stackoverflow.com/questions/40775532/look-up-for-a-value-in-a-csv-file/40775660#40775660", "title": "Look up for a value in a csv file", "body": "<p>I ran your code given and had the correct output of 7.95.</p>\n\n<p>Is it possible you called the wrong function? In your question you referred to the function problem3_7 instead of the function problem3_8</p>\n"}], "owner": {"reputation": 47, "user_id": 6933725, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh4.googleusercontent.com/-SP5qQ1NaxSE/AAAAAAAAAAI/AAAAAAAAAK0/Id0Z0M-Ne00/photo.jpg?sz=128", "display_name": "nanny", "link": "https://stackoverflow.com/users/6933725/nanny"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2259, "favorite_count": 0, "closed_date": 1479977415, "answer_count": 1, "score": 0, "last_activity_date": 1479943194, "creation_date": 1479941917, "last_edit_date": 1479941983, "question_id": 40775532, "link": "https://stackoverflow.com/questions/40775532/look-up-for-a-value-in-a-csv-file", "closed_reason": "Not suitable for this site", "title": "Look up for a value in a csv file", "body": "<p>I need to look up a value in a csv file given a criteria in a function. When I run my program I get all the values but not the one associated with my entry. Any help will be appreciated.</p>\n\n<p>The date looks something like this:</p>\n\n<pre><code>rose,7.95\nlily,3.95\nbegonia,5.95\n</code></pre>\n\n<p>The function I created is:</p>\n\n<pre><code>def problem3_8(csv_pricefile, flower):\n    import csv    \n\n    archivo = open(csv_pricefile)\n\n    for row in csv.reader(archivo):\n        if flower in row[0]:\n            print(row[1])\n\n    archivo.close()\n</code></pre>\n\n<p>When I ran the program using the next line:</p>\n\n<pre><code>problem3_7(\"flowers.csv\",\"rose\") \n</code></pre>\n\n<p>I get all the value in the file, like this:</p>\n\n<pre><code>7.95\n3.95\n5.95\n</code></pre>\n\n<p>But the answer should be just the value associated with the second entry.</p>\n\n<pre><code>7.95\n</code></pre>\n\n<p>Thanks</p>\n"}, {"tags": ["python", "python-3.x", "recursion", "counting"], "comments": [{"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 1, "creation_date": 1479943498, "post_id": 40775529, "comment_id": 68775274, "body": "The problem does not reproduce in Python 2.6.6 (both routines return the *7256 result), but it does exactly what you show in Python 3.5.2"}, {"owner": {"reputation": 1164, "user_id": 3500129, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/57d7d24634cc9aee834d020a8dcd29d4?s=128&d=identicon&r=PG&f=1", "display_name": "Kesong Xie", "link": "https://stackoverflow.com/users/3500129/kesong-xie"}, "reply_to_user": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1479943847, "post_id": 40775529, "comment_id": 68775392, "body": "Nice catch, I did not test in Python 2.6.6"}], "answers": [{"comments": [{"owner": {"reputation": 1164, "user_id": 3500129, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/57d7d24634cc9aee834d020a8dcd29d4?s=128&d=identicon&r=PG&f=1", "display_name": "Kesong Xie", "link": "https://stackoverflow.com/users/3500129/kesong-xie"}, "edited": false, "score": 0, "creation_date": 1479946851, "post_id": 40776143, "comment_id": 68776153, "body": "I&#39;m a Python beginner, nice for changing the dictionary key from string to tuple"}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "reply_to_user": {"reputation": 1164, "user_id": 3500129, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/57d7d24634cc9aee834d020a8dcd29d4?s=128&d=identicon&r=PG&f=1", "display_name": "Kesong Xie", "link": "https://stackoverflow.com/users/3500129/kesong-xie"}, "edited": false, "score": 0, "creation_date": 1479948848, "post_id": 40776143, "comment_id": 68776595, "body": "Good.  Any &quot;hashable&quot; type can be used for a dictionary key.  The simplistic definition is easy at the beginner level: immutable objects are hashable; others are not (this is a rule of thumb for you, not actual Python).  Scalar constants, strings, and tuples are immutable.  You did a good job, building a readable string.  The code for a tuple is shorter and easier to read."}], "tags": [], "owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "is_accepted": false, "score": 2, "last_activity_date": 1479945788, "creation_date": 1479945788, "answer_id": 40776143, "question_id": 40775529, "link": "https://stackoverflow.com/questions/40775529/python-recursive-call-counting-ways-of-walking-grid-yield-incorrect-answer-when/40776143#40776143", "title": "Python: Recursive call counting ways of walking grid yield incorrect answer when grid size is too large", "body": "<p>I'm stumped for the time being, but I have some nice progress.  I tried a few things to track this:</p>\n\n<ol>\n<li>I changed your dictionary key from a string to a tuple <strong>(x,y)</strong>, just to make the code more readable.</li>\n<li>I added result variables in a few places, to help track returning values.</li>\n<li>I added several print statements.  These track the last corner values of the cache, the results computed in the functions, and the results received.</li>\n</ol>\n\n<p>The new code is below, as is the output.  You can see the critical problem in the output: the function <em>does</em> compute the proper value and returns it to the calling program.  However, the calling program receives a value that is larger.  This happens in Python 3.5.2, but 2.6.6 computes properly.  There is also a notation difference: 2.6.6 large values have that trailing \"L\" on the displayed value.</p>\n\n<p>Code:</p>\n\n<pre><code>import math\n\ndef gridMovingCount(x, y, cache):\n    if x == 0 or y == 0:\n        return 1\n    elif (x,y)  in cache:\n        if x+y &gt; 98:\n          print (\"returning cached\", x, y, result)\n        return cache[(x,y)]\n    else:\n        cache[(x,y)] = gridMovingCount(x-1, y, cache) + gridMovingCount(x, y-1, cache) # stack will overflow\n        result = cache[(x,y)]\n        if x+y &gt; 98:\n          print (\"returning binomial\", x, y, result)\n        return result\n\ndef gridMovingCountByBinomial(x, y):\n    return int(math.factorial(x + y) / (math.factorial(x) * math.factorial(y)))\n\n\ncache={}\n#the same result\nprint(gridMovingCount(20, 20, cache))    #137846528820\nprint(gridMovingCountByBinomial(20, 20)) #137846528820\n\n# gave different result\nprint()\nprint(\"50x50 summed  \", gridMovingCount(50, 50, cache))    #100891344545564193334812497256\nwith open(\"p3.4_out\", 'w') as fp:\n   lout =  sorted(list(cache.items()))\n   for line in lout:\n      fp.write(str(line) + '\\n')\n\nresult = gridMovingCountByBinomial(50, 50)\nprint()\nprint(\"50x50 binomial\", result) #100891344545564202071714955264\nprint(\"50x50 cached  \", cache[(50,50)])\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>$ python3 so.py\n137846528820\n137846528820\n\nreturning binomial 49 50 50445672272782096667406248628\nreturning binomial 50 49 50445672272782096667406248628\nreturning binomial 50 50 100891344545564193334812497256\n50x50 summed   100891344545564193334812497256\n\n50x50 binomial 100891344545564202071714955264\n50x50 cached   100891344545564193334812497256\n</code></pre>\n\n<p>The difference is 8736902458008; in hex, this is 0x7f237f7aa98 -- i.e. nothing particularly interesting in base 2.  It is not a value anywhere in the cache.</p>\n\n<p>I know this isn't a complete answer, but I hope it narrows the problem scope to something that another SO denizen recognizes.</p>\n\n<p>BTW, I diff'ed the cache files; they're identical, except for the trailing 'L' on each long integer in 2.6.6</p>\n"}, {"comments": [{"owner": {"reputation": 1164, "user_id": 3500129, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/57d7d24634cc9aee834d020a8dcd29d4?s=128&d=identicon&r=PG&f=1", "display_name": "Kesong Xie", "link": "https://stackoverflow.com/users/3500129/kesong-xie"}, "edited": false, "score": 0, "creation_date": 1479962736, "post_id": 40777842, "comment_id": 68779912, "body": "Uh, interesting! I thought it was something wrong with the recursive call, but it turns out to be the other. Nice explanation."}], "tags": [], "owner": {"reputation": 880, "user_id": 1468125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45d460177ead43966a5af7f8b634519f?s=128&d=identicon&r=PG", "display_name": "Gavin", "link": "https://stackoverflow.com/users/1468125/gavin"}, "is_accepted": true, "score": 1, "last_activity_date": 1479960026, "creation_date": 1479960026, "answer_id": 40777842, "question_id": 40775529, "link": "https://stackoverflow.com/questions/40775529/python-recursive-call-counting-ways-of-walking-grid-yield-incorrect-answer-when/40777842#40777842", "title": "Python: Recursive call counting ways of walking grid yield incorrect answer when grid size is too large", "body": "<p>The issue here is a limitation of <strong>floating point arithmetic</strong> and the differences between python2 and python3 in regards to the <strong>division operator</strong>.</p>\n\n<p>In python 2 the division operator returns the floor of the result of a division if the arguments are ints or longs (as in this case) or a reasonable approximation if the arguments are floats or complex. Python 3 on the other hand returns a reasonable approximation of the division independent of argument type.</p>\n\n<p>At small enough numbers this approximation  is close enough that the cast back to an integer ends up with the same result as the python 2 version. However as the result gets large enough the floating point representation is not a sufficient approximation to end up with the correct result when casting back to an int.</p>\n\n<p>In python2.2 the <strong>floor division</strong> operator was introduced <code>//</code> and in python3 <strong>true division</strong> replaced <strong>classic division</strong> (see origin of terminology here: <a href=\"https://www.python.org/dev/peps/pep-0238/\" rel=\"nofollow noreferrer\">https://www.python.org/dev/peps/pep-0238/</a>)</p>\n\n<pre><code>#python2\nfrom math import factorial\nprint(int(factorial(23)/2))  # 12926008369442488320000\nprint(int(factorial(23)//2))  # 12926008369442488320000\n</code></pre>\n\n<hr>\n\n<pre><code>#python3\nfrom math import factorial\nprint(int(factorial(23)/2))  # 12926008369442489106432\nprint(int(factorial(23)//2))  # 12926008369442488320000\n</code></pre>\n\n<p>The upshot of all this is that for your binomial function you can remove the cast to int and use the explicit floor division operator to get the correct results returned.</p>\n\n<pre><code>def gridMovingCountByBinomial(x, y):\n    return math.factorial(x + y) // (math.factorial(x) * math.factorial(y))\n</code></pre>\n"}], "owner": {"reputation": 1164, "user_id": 3500129, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/57d7d24634cc9aee834d020a8dcd29d4?s=128&d=identicon&r=PG&f=1", "display_name": "Kesong Xie", "link": "https://stackoverflow.com/users/3500129/kesong-xie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 519, "favorite_count": 0, "accepted_answer_id": 40777842, "answer_count": 2, "score": 5, "last_activity_date": 1479960026, "creation_date": 1479941901, "last_edit_date": 1479955155, "question_id": 40775529, "link": "https://stackoverflow.com/questions/40775529/python-recursive-call-counting-ways-of-walking-grid-yield-incorrect-answer-when", "title": "Python: Recursive call counting ways of walking grid yield incorrect answer when grid size is too large", "body": "<p>Problem:</p>\n\n<blockquote>\n  <p>Imagine you start at the corner of an X by Y grid. You can only move in two directions: right and down. How many possible paths are there for you to go from (0, 0) to (X, Y)</p>\n</blockquote>\n\n<p>I have two approaches for this, first is to use a recursive algorithm enhanced by memoization, and the second one is to use binomial counting strategy</p>\n\n<p>Recursive Way</p>\n\n<pre><code>def gridMovingCount(x, y, cache):\n    if x == 0 or y == 0:\n        return 1\n    elif str(x)+\":\"+str(y) in cache:\n        return cache[str(x)+\":\"+str(y)]\n    else:\n        cache[str(x)+\":\"+str(y)] = gridMovingCount(x-1, y, cache) + gridMovingCount(x, y-1, cache) \n        return cache[str(x)+\":\"+str(y)]\n</code></pre>\n\n<p>Binomial counting</p>\n\n<pre><code>def gridMovingCountByBinomial(x, y):\n    return int(math.factorial(x + y) / (math.factorial(x) * math.factorial(y)))\n</code></pre>\n\n<p>These two ways give the same answers when x and y are relative small</p>\n\n<pre><code> #the same result\n print(gridMovingCount(20, 20, cache))    #137846528820\n print(gridMovingCountByBinomial(20, 20)) #137846528820\n</code></pre>\n\n<p>When x and y are large</p>\n\n<pre><code># gave different result\nprint(gridMovingCount(50, 50, cache))    #100891344545564193334812497256\nprint(gridMovingCountByBinomial(50, 50)) #100891344545564202071714955264\n</code></pre>\n\n<p>What is the explanation for this. Stack overflow of some sort? However, it does not throw any exception. Are there any way to overcome this for recursive call?</p>\n"}, {"tags": ["python", "anaconda"], "comments": [{"owner": {"reputation": 18703, "user_id": 2912340, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/ddQ02.jpg?s=128&g=1", "display_name": "\u0141ukasz Rogalski", "link": "https://stackoverflow.com/users/2912340/%c5%81ukasz-rogalski"}, "edited": false, "score": 0, "creation_date": 1479941811, "post_id": 40775487, "comment_id": 68774753, "body": "Actual error is located <i>at the bottom</i> of the traceback. You&#39;ve missed it."}, {"owner": {"reputation": 28488, "user_id": 402884, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/35583fe46c2cde92467710cc7ceff266?s=128&d=identicon&r=PG", "display_name": "Chris Martin", "link": "https://stackoverflow.com/users/402884/chris-martin"}, "edited": false, "score": 2, "creation_date": 1479942034, "post_id": 40775487, "comment_id": 68774821, "body": "Text is always vastly preferable to screenshots. Please copy everything from the Python Console into question."}, {"owner": {"reputation": 3, "user_id": 6365908, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de5365f00cbb8069ccf483324fda980d?s=128&d=identicon&r=PG&f=1", "display_name": "muna", "link": "https://stackoverflow.com/users/6365908/muna"}, "edited": false, "score": 0, "creation_date": 1480032464, "post_id": 40775487, "comment_id": 68813957, "body": "I solved the problem by downloading version 3 of bycharm....thank you for your comments"}], "owner": {"reputation": 3, "user_id": 6365908, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de5365f00cbb8069ccf483324fda980d?s=128&d=identicon&r=PG&f=1", "display_name": "muna", "link": "https://stackoverflow.com/users/6365908/muna"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 70, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1479941940, "creation_date": 1479941624, "last_edit_date": 1479941940, "question_id": 40775487, "link": "https://stackoverflow.com/questions/40775487/i-cant-run-pycharm-community-on-windows7-after-install-anaconda-2", "title": "I can&#39;t run PyCharm Community on Windows7 after install anaconda 2", "body": "<p>I am trying to run PyCharm Community on Windows as usual after install anaconda2.</p>\n\n<p>I added to my path and the interpreter of PyCharm Community, but there are many errors appear when I open PyCharm Community to work on my project. Why?</p>\n\n<p>Screenshots:</p>\n\n<p><img src=\"https://i.stack.imgur.com/4QZwf.png\" alt=\"\">\n<img src=\"https://i.stack.imgur.com/slpz8.png\" alt=\"\"></p>\n"}, {"tags": ["python", "mongodb", "pymongo"], "answers": [{"comments": [{"owner": {"reputation": 830, "user_id": 2867790, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/303258aa3318e3fa06708c07bfa4b0a3?s=128&d=identicon&r=PG&f=1", "display_name": "David Hariri", "link": "https://stackoverflow.com/users/2867790/david-hariri"}, "edited": false, "score": 0, "creation_date": 1479996083, "post_id": 40779609, "comment_id": 68799117, "body": "<code>client_id</code> is already of ObjectId type and was not one of the fields affected, but thanks!"}], "tags": [], "owner": {"reputation": 528, "user_id": 225796, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/qqgax.png?s=128&g=1", "display_name": "Waheed", "link": "https://stackoverflow.com/users/225796/waheed"}, "is_accepted": false, "score": 0, "last_activity_date": 1479969827, "creation_date": 1479969827, "answer_id": 40779609, "question_id": 40775422, "link": "https://stackoverflow.com/questions/40775422/mongodb-set-changing-datatypes/40779609#40779609", "title": "MongoDB $set changing datatypes", "body": "<p>after reading your question I got curious to know what went wrong, I guess if you have explicitly sat your type in the creation/update of these record you would not have faced that issue, for example:-</p>\n\n<pre><code>for r in responses: # find cursor with ~1400 documents in it\ndatabase.responses.update_one({\n    \"_id\" : r[\"_id\"]\n}, {\n    \"$set\" : {\n        \"client_id\" : new DateObject(client[\"_id\"]);\n    }\n})\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 830, "user_id": 2867790, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/303258aa3318e3fa06708c07bfa4b0a3?s=128&d=identicon&r=PG&f=1", "display_name": "David Hariri", "link": "https://stackoverflow.com/users/2867790/david-hariri"}, "edited": false, "score": 0, "creation_date": 1480096084, "post_id": 40780596, "comment_id": 68840945, "body": "It could be Pymongo, the MongoDB library I&#39;m using, but it&#39;s never done this before... The objects in the <code>responses</code> list is a cursor object with Pymongo results (BSON dicts)"}], "tags": [], "owner": {"reputation": 2084, "user_id": 3790895, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Jd0FK.jpg?s=128&g=1", "display_name": "pinturic", "link": "https://stackoverflow.com/users/3790895/pinturic"}, "is_accepted": false, "score": 0, "last_activity_date": 1479973531, "creation_date": 1479973531, "answer_id": 40780596, "question_id": 40775422, "link": "https://stackoverflow.com/questions/40775422/mongodb-set-changing-datatypes/40780596#40780596", "title": "MongoDB $set changing datatypes", "body": "<p>My guess is that somewhere else in your code python has made changes in the types (maybe some code that is trying to automatically infer the type !?). </p>\n\n<p>I am pretty sure that before your \"for r in responses: \" code there is something else that is maybe trying to detect the type of the fields. Is this the case? Can you provide the code before the snippet you provided ?</p>\n"}], "owner": {"reputation": 830, "user_id": 2867790, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/303258aa3318e3fa06708c07bfa4b0a3?s=128&d=identicon&r=PG&f=1", "display_name": "David Hariri", "link": "https://stackoverflow.com/users/2867790/david-hariri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 65, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1479973531, "creation_date": 1479941286, "question_id": 40775422, "link": "https://stackoverflow.com/questions/40775422/mongodb-set-changing-datatypes", "title": "MongoDB $set changing datatypes", "body": "<p>I have a MongoDB 3.2 instance running on Ubuntu 14.04. Single node set up. Last night I performed a migration where I ran this code for ~1400 documents in a collection:</p>\n\n<pre><code>for r in responses: # find cursor with ~1400 documents in it\n    database.responses.update_one({\n        \"_id\" : r[\"_id\"]\n    }, {\n        \"$set\" : {\n            \"client_id\" : client[\"_id\"]\n        }\n    })\n</code></pre>\n\n<p>After the migration, some of the fields in my response documents in the <code>responses</code> collection had switched from <code>DateObject</code> types to <code>Int32</code> timestamp representations. Some of the <code>Int32</code> fields had changed to <code>Double</code>s. These fields were not updated in my <code>$set</code> statement (obviously). <strong>This affected only a small subset of the cursor (~75 documents).</strong></p>\n\n<p>This caused catastrophic failure as our models expected those fields to have data types they no longer had. Can someone explain to me what went wrong here?</p>\n"}, {"tags": ["python", "windows", "python-3.x"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1479941756, "post_id": 40775415, "comment_id": 68774732, "body": "It looks like you&#39;ve seriously messed up your Python installations (which you seem to have multiple of). I&#39;d recommend uninstalling all of them and starting over."}, {"owner": {"reputation": 194, "user_id": 4254145, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/58iaV.jpg?s=128&g=1", "display_name": "Jarred Allen", "link": "https://stackoverflow.com/users/4254145/jarred-allen"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1479941874, "post_id": 40775415, "comment_id": 68774769, "body": "Except that I have already installed python and I&#39;ve been using it, with no errors, for over a year, so a messed installation should have been noticed before this time."}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 1, "creation_date": 1479942047, "post_id": 40775415, "comment_id": 68774824, "body": "Well, you&#39;ve at least got a busted import path, and it looks like you have a Python 2 interpreter trying to load the <code>site</code> module from a Python 3 installation. You did <i>something</i> to screw things up."}, {"owner": {"reputation": 29355, "user_id": 205580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/460e6e299e385fd46df156c85a1dd55f?s=128&d=identicon&r=PG", "display_name": "Eryk Sun", "link": "https://stackoverflow.com/users/205580/eryk-sun"}, "edited": false, "score": 0, "creation_date": 1479942107, "post_id": 40775415, "comment_id": 68774840, "body": "You&#39;re running Python 2, and it&#39;s using the standard library from 3.5. What&#39;s the value of <code>PYTHONPATH</code> and <code>PYTHONHOME</code>, if defined? Generally these environment variables should not be defined, especially not <code>PYTHONHOME</code>."}, {"owner": {"reputation": 194, "user_id": 4254145, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/58iaV.jpg?s=128&g=1", "display_name": "Jarred Allen", "link": "https://stackoverflow.com/users/4254145/jarred-allen"}, "edited": false, "score": 0, "creation_date": 1479943231, "post_id": 40775415, "comment_id": 68775189, "body": "I checked my computer and it only has python 3.5.2 installed, it has no versions of python 2"}, {"owner": {"reputation": 118102, "user_id": 4952130, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/kKQZw.png?s=128&g=1", "display_name": "Dimitris Fasarakis Hilliard", "link": "https://stackoverflow.com/users/4952130/dimitris-fasarakis-hilliard"}, "edited": false, "score": 1, "creation_date": 1479944848, "post_id": 40775415, "comment_id": 68775684, "body": "Well this is running Python 2 somehow, that&#39;s why the <code>SyntaxError</code> is there. So you have it, you just might not know where."}, {"owner": {"reputation": 29355, "user_id": 205580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/460e6e299e385fd46df156c85a1dd55f?s=128&d=identicon&r=PG", "display_name": "Eryk Sun", "link": "https://stackoverflow.com/users/205580/eryk-sun"}, "edited": false, "score": 1, "creation_date": 1479945913, "post_id": 40775415, "comment_id": 68775931, "body": "In a command prompt run <code>set PYTHON</code> to see whether you have any Python environment variables set. Check your IDE configuration to whether it sets these variables before running python.exe. Check the IDE&#39;s fully-qualified path to python.exe to find the installation of Python 2 that it&#39;s using. If it has an interactive Python shell that works, check the value of <code>sys.executable</code>."}], "answers": [{"tags": [], "owner": {"reputation": 194, "user_id": 4254145, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/58iaV.jpg?s=128&g=1", "display_name": "Jarred Allen", "link": "https://stackoverflow.com/users/4254145/jarred-allen"}, "is_accepted": false, "score": 2, "last_activity_date": 1488134965, "creation_date": 1488134965, "answer_id": 42472677, "question_id": 40775415, "link": "https://stackoverflow.com/questions/40775415/importerror-no-module-named-site/42472677#42472677", "title": "ImportError: No module named site", "body": "<p>Putting this here because going through <a href=\"https://xkcd.com/979/\" rel=\"nofollow noreferrer\">this</a> is torture.</p>\n\n<p>I uninstalled python from my computer, I deleted every folder on my computer that contained anything that looked like python code, I reinstalled python, and then I set the PYTHONPATH and PYTHONHOME environment variables manually.</p>\n\n<p>And my computer can now run python!</p>\n"}], "owner": {"reputation": 194, "user_id": 4254145, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/58iaV.jpg?s=128&g=1", "display_name": "Jarred Allen", "link": "https://stackoverflow.com/users/4254145/jarred-allen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8386, "favorite_count": 0, "closed_date": 1543569832, "answer_count": 1, "score": 1, "last_activity_date": 1488134965, "creation_date": 1479941252, "last_edit_date": 1479943245, "question_id": 40775415, "link": "https://stackoverflow.com/questions/40775415/importerror-no-module-named-site", "closed_reason": "Duplicate", "title": "ImportError: No module named site", "body": "<p>Whenever I try to run code in python from my IDE, I get an import error because it can't find \"site\".</p>\n\n<p>I have looked at other answers that involve setting variables from the command prompt and, while they work to get past this error while running code on command prompt, I still get this error whenever I try to run any python code (or even just the python command) from command prompt. Error stack trace:</p>\n\n<pre><code>  File \"C:\\Users\\Jarred\\AppData\\Local\\Programs\\Python\\Python35-32\\Lib\\site.py\", line 175\n    print(\"Error processing line {:d} of {}:\\n\".format(n+1, fullname), file=sys.stderr)\n                                                                           ^\nSyntaxError: invalid syntax\n</code></pre>\n"}, {"tags": ["python", "cython"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1479941563, "post_id": 40775413, "comment_id": 68774662, "body": "It doesn&#39;t look like you ever change <code>ii</code> or <code>jj</code>, and you completely ignore the values of <code>i</code> and <code>j</code> from the <code>for</code> loops. Also, using <code>np.arange</code> with a floating-point step is a terrible idea whether or not you&#39;re using Cython. I&#39;d recommend <code>np.linspace</code>, but I don&#39;t think Cython knows how to optimize that."}, {"owner": {"reputation": 4702, "user_id": 1911540, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b3e0a5c16152b319715b01a9dc590fb2?s=128&d=identicon&r=PG", "display_name": "Special Sauce", "link": "https://stackoverflow.com/users/1911540/special-sauce"}, "edited": false, "score": 0, "creation_date": 1479941612, "post_id": 40775413, "comment_id": 68774682, "body": "Casting is also expensive in general and should also be moved out of loops if possible."}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1479941647, "post_id": 40775413, "comment_id": 68774694, "body": "Overall, this code just doesn&#39;t make any sense."}, {"owner": {"reputation": 3408, "user_id": 1740928, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/7fee12dd753aece3fb4464299c578bbd?s=128&d=identicon&r=PG", "display_name": "HyperCube", "link": "https://stackoverflow.com/users/1740928/hypercube"}, "edited": false, "score": 0, "creation_date": 1479941884, "post_id": 40775413, "comment_id": 68774771, "body": "Sorry, I updated the code. ii and jj are used as increments which are then &quot;converted&quot; to indices of the 2d data array."}], "answers": [{"comments": [{"owner": {"reputation": 3334, "user_id": 4765864, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/2M2eC.jpg?s=128&g=1", "display_name": "gonczor", "link": "https://stackoverflow.com/users/4765864/gonczor"}, "edited": false, "score": 1, "creation_date": 1522249253, "post_id": 40775661, "comment_id": 86082734, "body": "While this link may answer the question, it is better to include the essential parts of the answer here and provide the link for reference.  Link-only answers can become invalid if the linked page changes. - <a href=\"/review/low-quality-posts/19261146\">From Review</a>"}, {"owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "reply_to_user": {"reputation": 3334, "user_id": 4765864, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/2M2eC.jpg?s=128&g=1", "display_name": "gonczor", "link": "https://stackoverflow.com/users/4765864/gonczor"}, "edited": false, "score": 0, "creation_date": 1522250092, "post_id": 40775661, "comment_id": 86083432, "body": "@gonczor, those are in the official docs of the relevant modules. If the docs move, users can still search for pages of the same name.  Two years later the links are still valid, while the question is long forgotten, except for an old review stack."}], "tags": [], "owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "is_accepted": false, "score": 2, "last_activity_date": 1479942703, "creation_date": 1479942703, "answer_id": 40775661, "question_id": 40775413, "link": "https://stackoverflow.com/questions/40775413/speed-up-for-loop-in-cython/40775661#40775661", "title": "Speed up for-loop in Cython", "body": "<p>Study the cython example in</p>\n\n<p><a href=\"https://docs.scipy.org/doc/numpy/reference/arrays.nditer.html\" rel=\"nofollow noreferrer\">https://docs.scipy.org/doc/numpy/reference/arrays.nditer.html</a></p>\n\n<p>That uses <code>nditer</code> to hand out the array elements.</p>\n\n<p>And</p>\n\n<p><a href=\"https://cython.readthedocs.io/en/stable/src/userguide/memoryviews.html\" rel=\"nofollow noreferrer\">https://cython.readthedocs.io/en/stable/src/userguide/memoryviews.html</a></p>\n\n<p>which demonstrates the use of memoryviews (and C arrays) to rapidly iterate over the values.</p>\n\n<p>Either way your goal is to let cython access the databuffer directly rather than by way of the numpy functions.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 15615831, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83f524309dd14907365c5f9d6b3ba5bc?s=128&d=identicon&r=PG&f=1", "display_name": "Underscore_", "link": "https://stackoverflow.com/users/15615831/underscore"}, "is_accepted": false, "score": 0, "last_activity_date": 1618277688, "creation_date": 1618277688, "answer_id": 67067609, "question_id": 40775413, "link": "https://stackoverflow.com/questions/40775413/speed-up-for-loop-in-cython/67067609#67067609", "title": "Speed up for-loop in Cython", "body": "<p>I know this is a old question, but i had the same problem and found this simple solution.</p>\n<p><a href=\"https://github.com/cython/cython/issues/3310#issuecomment-707252866\" rel=\"nofollow noreferrer\">https://github.com/cython/cython/issues/3310#issuecomment-707252866</a></p>\n<pre><code>for i in range(start, stop, step):\n    ...\n</code></pre>\n<p>to this:</p>\n<pre><code>i = start - step\nfor _ in range(((stop - start) + (step - 1))//step):\n    i += step\n    ...    \n</code></pre>\n"}], "owner": {"reputation": 3408, "user_id": 1740928, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/7fee12dd753aece3fb4464299c578bbd?s=128&d=identicon&r=PG", "display_name": "HyperCube", "link": "https://stackoverflow.com/users/1740928/hypercube"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5647, "favorite_count": 1, "answer_count": 2, "score": 1, "last_activity_date": 1618277688, "creation_date": 1479941235, "last_edit_date": 1479941719, "question_id": 40775413, "link": "https://stackoverflow.com/questions/40775413/speed-up-for-loop-in-cython", "title": "Speed up for-loop in Cython", "body": "<p>I am still at the beginning to understand how Cython works.\nThis snippet shows one of the slow parts of my program and I am wondering whether this for loop can be improved.\nIt still pretty much looks like the original Numpy version, but I added the cdef's and int-conversion.</p>\n\n<pre><code>cdef Py_ssize_t i, j\ncdef double ii, jj\n\nfor ii in np.arange(startx, endx+1, 0.1):\n    for jj in np.arange(starty, endy+1, 0.1):\n        if my_condition(ii, jj):\n            i = &lt;int&gt;ii\n            j = &lt;int&gt;jj\n            data[i, j] += 1\n</code></pre>\n\n<p>Do you have any recommendations?</p>\n"}, {"tags": ["python", "c++", "opencv", "gstreamer", "python-gstreamer"], "comments": [{"owner": {"reputation": 399, "user_id": 1195803, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/32670f69f6e90a59c1828eec8ece8150?s=128&d=identicon&r=PG", "display_name": "justynnuff", "link": "https://stackoverflow.com/users/1195803/justynnuff"}, "edited": false, "score": 0, "creation_date": 1479948646, "post_id": 40775344, "comment_id": 68776548, "body": "Probably couldn&#39;t have picked a worse time ever to post a question."}], "answers": [{"comments": [{"owner": {"reputation": 399, "user_id": 1195803, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/32670f69f6e90a59c1828eec8ece8150?s=128&d=identicon&r=PG", "display_name": "justynnuff", "link": "https://stackoverflow.com/users/1195803/justynnuff"}, "edited": false, "score": 1, "creation_date": 1480491018, "post_id": 40817499, "comment_id": 68979346, "body": "I cross referenced both your links and got OpenCV with Python 2.7 running on an Udoo Dual.  In case anyone lands here from a search, I posted on the Udoo forums: <a href=\"http://www.udoo.org/forum/threads/using-udoo-camera-with-opencvs-videocapture-class-2-0.6130/#post-23716\" rel=\"nofollow noreferrer\">udoo.org/forum/threads/&hellip;</a>"}], "tags": [], "owner": {"reputation": 946, "user_id": 5773767, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/870fc401476f861630d186ca54645628?s=128&d=identicon&r=PG", "display_name": "Ceppo93", "link": "https://stackoverflow.com/users/5773767/ceppo93"}, "is_accepted": true, "score": 1, "last_activity_date": 1480157098, "creation_date": 1480157098, "answer_id": 40817499, "question_id": 40775344, "link": "https://stackoverflow.com/questions/40775344/python-with-gstreamer-pipeline/40817499#40817499", "title": "Python with Gstreamer pipeline", "body": "<p>The Ubuntu/Debian version is old 2.4.x, to get the last one you need to compile it from source.</p>\n\n<p>Here two tutorials on how to do that:</p>\n\n<ol>\n<li><a href=\"https://opencv-python-tutroals.readthedocs.io/en/latest/py_tutorials/py_setup/py_setup_in_fedora/py_setup_in_fedora.html#installing-opencv-from-source\" rel=\"nofollow noreferrer\">https://opencv-python-tutroals.readthedocs.io/en/latest/py_tutorials/py_setup/py_setup_in_fedora/py_setup_in_fedora.html#installing-opencv-from-source</a></li>\n<li><a href=\"http://www.pyimagesearch.com/2015/07/20/install-opencv-3-0-and-python-3-4-on-ubuntu/\" rel=\"nofollow noreferrer\">http://www.pyimagesearch.com/2015/07/20/install-opencv-3-0-and-python-3-4-on-ubuntu/</a></li>\n</ol>\n\n<p>The first is for <code>Python 2.7</code> on <code>Fedora</code>, the second for <code>Python 3.4</code> on <code>Ubuntu</code>.</p>\n"}], "owner": {"reputation": 399, "user_id": 1195803, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/32670f69f6e90a59c1828eec8ece8150?s=128&d=identicon&r=PG", "display_name": "justynnuff", "link": "https://stackoverflow.com/users/1195803/justynnuff"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 802, "favorite_count": 0, "accepted_answer_id": 40817499, "answer_count": 1, "score": 0, "last_activity_date": 1480157098, "creation_date": 1479940825, "last_edit_date": 1495542652, "question_id": 40775344, "link": "https://stackoverflow.com/questions/40775344/python-with-gstreamer-pipeline", "title": "Python with Gstreamer pipeline", "body": "<p>I'm working on an Udoo trying to get the camera to take a picture that I can manipulate inside Python.</p>\n\n<p>So far, the camera works with</p>\n\n<p><code>gst-launch-1.0 imxv4l2videosrc ! imxipuvideosink</code></p>\n\n<p>I can also take a single picture with</p>\n\n<p><code>gst-launch-1.0 imxv4l2videosrc num-buffers=1 ! video/x-raw ! jpegenc ! filesink location=output.jpg</code></p>\n\n<p>From <a href=\"https://stackoverflow.com/questions/23570572/using-custom-camera-in-opencv-via-gstreamer\">here</a> it seems like you can read straight from a gstreamer stream in Python with OpenCV. </p>\n\n<p>Here is my python code:</p>\n\n<pre><code>import cv2\ncam = cv2.VideoCapture(\"imxv4l2videosrc ! video/x-raw ! appsink\")\nret, image = cam.read()\n</code></pre>\n\n<p>However, ret is <code>False</code>, and image is nothing.</p>\n\n<p>Some places say this only works with OpenCV 3.0+, and others say 2.4.x, but I can't seem to find an actual answer to what version it works on.</p>\n\n<p>If I need to update to OpenCV 3.0, which part to I update?  I downloaded OpenCV via the apt repositories under the package python-opencv.  So do I need to update Python?  Can I just build OpenCV from source, and Python will automatically be using the newest version?  I'm so confused.</p>\n"}, {"tags": ["python", "linux"], "comments": [{"owner": {"reputation": 4702, "user_id": 1911540, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b3e0a5c16152b319715b01a9dc590fb2?s=128&d=identicon&r=PG", "display_name": "Special Sauce", "link": "https://stackoverflow.com/users/1911540/special-sauce"}, "edited": false, "score": 1, "creation_date": 1479940972, "post_id": 40775323, "comment_id": 68774499, "body": "I&#39;m not aware of any solutions to easily accomplish what you want. But it should be easy to write a simple script or program that will take your source files and double them in size, interleaving appropriate # comment lines between each source line, where each comment contains the text of the source code on the line below it."}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1479942103, "post_id": 40775323, "comment_id": 68774838, "body": "step through in pdb? or is that not real time? ... why are you limited to linux terminal(you mean console?)?"}], "owner": {"reputation": 2571, "user_id": 2336976, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/12390034d21617c948635cbbcbc5d668?s=128&d=identicon&r=PG", "display_name": "SheerSt", "link": "https://stackoverflow.com/users/2336976/sheerst"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 34, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1479941169, "creation_date": 1479940751, "last_edit_date": 1479941169, "question_id": 40775323, "link": "https://stackoverflow.com/questions/40775323/python-way-to-view-code-thats-being-executed-in-real-time", "title": "Python - Way to view code that&#39;s being executed in real time?", "body": "<p>I want to see what commands my python script is executing as it runs in real time (for the purpose of presentation.) I am limited to using a linux terminal here.</p>\n\n<p>I have tried ipython's demo mode, using the 'trace.getsource()' method, and using 'sys.setprofile()'. ipython's demo mode requires you to insert # comments into the source code, which isn't ideal.</p>\n\n<p>Does anyone know if what I am describing is possible to do in a linux terminal?</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 15599, "user_id": 4575071, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb9bceb35fc57e732ca44911b801b12e?s=128&d=identicon&r=PG&f=1", "display_name": "ettanany", "link": "https://stackoverflow.com/users/4575071/ettanany"}, "edited": false, "score": 0, "creation_date": 1479940742, "post_id": 40775271, "comment_id": 68774429, "body": "What was your attempt to achieve that?"}, {"owner": {"reputation": 262567, "user_id": 748858, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/17gYz.png?s=128&g=1", "display_name": "mgilson", "link": "https://stackoverflow.com/users/748858/mgilson"}, "edited": false, "score": 0, "creation_date": 1479941466, "post_id": 40775271, "comment_id": 68774631, "body": "This is exactly like evaluating a tree -- You just have to determine at each step if the operands are trees and recursively evaluate them.  If they aren&#39;t trees (they&#39;re leaves), then you skip evaluating that branch and just evaluate the expression."}, {"owner": {"reputation": 33, "user_id": 6841934, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6fa4b35415cee2983c92e2b9e8591aa7?s=128&d=identicon&r=PG&f=1", "display_name": "jack", "link": "https://stackoverflow.com/users/6841934/jack"}, "reply_to_user": {"reputation": 15599, "user_id": 4575071, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb9bceb35fc57e732ca44911b801b12e?s=128&d=identicon&r=PG&f=1", "display_name": "ettanany", "link": "https://stackoverflow.com/users/4575071/ettanany"}, "edited": false, "score": 0, "creation_date": 1479942854, "post_id": 40775271, "comment_id": 68775080, "body": "@ettanany I was not sure how to go about this but like i said in my question was thinking of achieving this by evaluating tree"}], "answers": [{"comments": [{"owner": {"reputation": 39529, "user_id": 2063361, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/jB77z.jpg?s=128&g=1", "display_name": "Anonymous", "link": "https://stackoverflow.com/users/2063361/anonymous"}, "edited": false, "score": 0, "creation_date": 1479941706, "post_id": 40775436, "comment_id": 68774722, "body": "Also, there is a <code>operator</code> module to perform mathematical operations"}, {"owner": {"reputation": 156940, "user_id": 416467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/32cad7487ccecc3740a62e797fc326dc?s=128&d=identicon&r=PG", "display_name": "kindall", "link": "https://stackoverflow.com/users/416467/kindall"}, "reply_to_user": {"reputation": 39529, "user_id": 2063361, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/jB77z.jpg?s=128&g=1", "display_name": "Anonymous", "link": "https://stackoverflow.com/users/2063361/anonymous"}, "edited": false, "score": 2, "creation_date": 1479941777, "post_id": 40775436, "comment_id": 68774741, "body": "Yes, you could write that code using a dictionary and <code>operator</code> functions; I just didn&#39;t want to bamboozle him too much.  :-)"}], "tags": [], "owner": {"reputation": 156940, "user_id": 416467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/32cad7487ccecc3740a62e797fc326dc?s=128&d=identicon&r=PG", "display_name": "kindall", "link": "https://stackoverflow.com/users/416467/kindall"}, "is_accepted": true, "score": 3, "last_activity_date": 1479962585, "last_edit_date": 1479962585, "creation_date": 1479941367, "answer_id": 40775436, "question_id": 40775271, "link": "https://stackoverflow.com/questions/40775271/python-accessing-elements-of-inner-most-list-in-nested-lists/40775436#40775436", "title": "Python : Accessing elements of inner most list in nested lists", "body": "<p>The most straightforward solution is to write a recursive function that calls itself to evaluate the inner expressions.</p>\n\n<pre><code># helper function to parse strings where necessary\ndef intorfloat(number):\n    if not isinstance(number, str):   # already parsed\n       return number\n    try:\n        return int(number)\n    except ValueError:\n        return float(number)\n\n# evaluates a simple expression (no subexpressions)\ndef evaluate2(operation, operand1, operand2):\n    operand1, operand2 = intorfloat(operand1), intorfloat(operand2)\n    if operation == \"*\":\n        return operand1 * operand2\n    elif operation == \"+\":\n        return operand1 + operand2\n    elif operation == \"/\":\n        # keep the result an int if possible\n        result1 = operand1 // operand2\n        result2 = float(operand1) / operand2\n        return result1 if result1 == result2 else result2\n    elif operation == \"-\":\n        return operand1 - operand2\n\n# recursively evaluate an expression with subexpressions\ndef evaluate(expression):\n    operation, operand1, operand2 = expression\n    if isinstance(operand1, list):\n        operand1 = evaluate(operand1)\n    if isinstance(operand1, list):\n        operand2 = evaluate(operand2)\n    return evaluate2(operation, operand1, operand2)\n</code></pre>\n\n<p>An iterative solution is also possible; the advantage is that you can evaluate expressions of any depth. In this version, we keep descending into sublists until we find a leaf: an expression that doesn't have any subexpressions. Then we evaluate the leaf and replace it with its result, and start over from the beginning. Eventually the top-level expression has no subexpressions.</p>\n\n<p>This algorithm actually modifies the expression, repeatedly simplifying it until it's trivial to evaluate it. (The recursive solution does not modify the expression.)</p>\n\n<p>If the expression is deep, we may do a lot of unnecessary traversal to repeatedly find leaf nodes. We could create a stack to allow us to backtrack instead of having to start at the top each time, but we might as well just use the recursive solution at that point.</p>\n\n<pre><code># uses intorfloat() and evaluate2() functions previously shown\n\ndef evaluate(expression):\n    while isinstance(expression[1], list) or isinstance(expression[2], list):\n        current = expression\n        container = None\n        while True:         # find a leaf node\n            operation, operand1, operand2 = current\n            if isinstance(operand1, list):\n               container, slot = current, 1\n               current = operand1\n            elif isinstance(operand2, list):\n                container, slot = current, 2\n                current = operand2\n            else:\n                break\n        if container:\n            container[slot] = evaluate2(*current)\n    return evaluate2(*expression)\n\nprint evaluate(['*', ['*', ['*', '5', '8'], '9'], '10'])   # 3600\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 39529, "user_id": 2063361, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/jB77z.jpg?s=128&g=1", "display_name": "Anonymous", "link": "https://stackoverflow.com/users/2063361/anonymous"}, "is_accepted": false, "score": 0, "last_activity_date": 1479941525, "creation_date": 1479941525, "answer_id": 40775464, "question_id": 40775271, "link": "https://stackoverflow.com/questions/40775271/python-accessing-elements-of-inner-most-list-in-nested-lists/40775464#40775464", "title": "Python : Accessing elements of inner most list in nested lists", "body": "<p>You may create your custome recursive function using <a href=\"https://docs.python.org/2/library/functions.html#eval\" rel=\"nofollow noreferrer\"><code>eval</code></a> to achieve this as:</p>\n\n<pre><code>def perform_operation(my_list):\n    temp_list = []\n    for item in my_list:\n        if isinstance(item, list):\n            item = perform_operation(item)\n        temp_list.append(item)\n    return eval('{} {} {}'.format(temp_list[1], temp_list[0], temp_list[2]))\n</code></pre>\n\n<p>Sample run:</p>\n\n<pre><code>&gt;&gt;&gt; my_list = ['*', ['*', ['*', '5', '8'], '9'], '10']\n&gt;&gt;&gt; perform_operation(my_list)\n3600\n</code></pre>\n\n<p><em>Note:</em> Using eval is not safe as it executes the content of string no matter what it has. So, be sure regarding what you pass to it</p>\n"}, {"tags": [], "owner": {"reputation": 331, "user_id": 1695036, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2MYTC.jpg?s=128&g=1", "display_name": "Leonardo Giordani", "link": "https://stackoverflow.com/users/1695036/leonardo-giordani"}, "is_accepted": false, "score": 1, "last_activity_date": 1479941795, "creation_date": 1479941795, "answer_id": 40775508, "question_id": 40775271, "link": "https://stackoverflow.com/questions/40775271/python-accessing-elements-of-inner-most-list-in-nested-lists/40775508#40775508", "title": "Python : Accessing elements of inner most list in nested lists", "body": "<p>This is a rough solution of your problem</p>\n\n<pre><code>l = ['*', ['*', ['*', '5', '8'], '9'], '10']\n\ndef islist(l):\n    try:\n        l.append\n        return True\n    except AttributeError:\n        return False\n\ndef reduce(l):\n    if islist(l):\n        return recurse(l)\n    else:\n        return l\n\ndef recurse(l):\n    if not islist(l):\n        return l\n\n    first = reduce(l[0])\n    second = reduce(l[1])\n    third = reduce(l[2])\n\n    return \"({} {} {})\".format(second, first, third)\n\nprint recurse(l)\n</code></pre>\n\n<p>Which uses recursion. Python is not the best language to implement recursive algorithms, pure functional languages like Erlang are more powerful on such topics.</p>\n\n<p>The major problems are the maximum number of recursive calls and the memory occupation, but for such a small list this works.</p>\n\n<p>One problem you can have is how to tell apart lists and other things, which is not so simple. You can use isinstance() or try/except like I do. The collections module is not that helpful in this case because both lists and strings are sequences.</p>\n"}, {"tags": [], "owner": {"reputation": 44820, "user_id": 4492932, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e8938ef2681650e100bc9f83434ef272?s=128&d=identicon&r=PG", "display_name": "DYZ", "link": "https://stackoverflow.com/users/4492932/dyz"}, "is_accepted": false, "score": 0, "last_activity_date": 1479942654, "creation_date": 1479942654, "answer_id": 40775654, "question_id": 40775271, "link": "https://stackoverflow.com/questions/40775271/python-accessing-elements-of-inner-most-list-in-nested-lists/40775654#40775654", "title": "Python : Accessing elements of inner most list in nested lists", "body": "<p>Here's a \"more Pythonic\" and more easily extendable version of what kindall proposed above. It also does not assume that the numbers are integer.</p>\n\n<pre><code>import operator\ndef evaluate(expression):\n    if isinstance(expression, str):\n        return float(expression)\n\n    op, operand1, operand2 = expression\n    ops = {\"*\" : operator.mul, \n           \"+\" : operator.add, \n           \"/\" : operator.truediv, \n           \"-\" : operator.sub}\n    return ops[op](evaluate(operand1), evaluate(operand2))    \n\nevaluate(['*', ['*', ['*', '5', '8'], '9'], '10'])\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 6841934, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6fa4b35415cee2983c92e2b9e8591aa7?s=128&d=identicon&r=PG&f=1", "display_name": "jack", "link": "https://stackoverflow.com/users/6841934/jack"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1147, "favorite_count": 0, "accepted_answer_id": 40775436, "answer_count": 4, "score": 1, "last_activity_date": 1479962585, "creation_date": 1479940528, "question_id": 40775271, "link": "https://stackoverflow.com/questions/40775271/python-accessing-elements-of-inner-most-list-in-nested-lists", "title": "Python : Accessing elements of inner most list in nested lists", "body": "<p>If i have nested list as below, how do i first access <code>['*', '5', '8']</code>(innermost list) so that i can perform multiplication and then move on to next innermost list i.e <code>['*',[result_from_previous_step],'9']</code> and so on till outer most list is found</p>\n\n<pre><code>['*', ['*', ['*', '5', '8'], '9'], '10']\n</code></pre>\n\n<p>This seems some what like evaluating a tree to me but in bottom up fashion</p>\n"}, {"tags": ["python", "python-2.7", "sockets", "packet-sniffers"], "comments": [{"owner": {"reputation": 9153, "user_id": 6570042, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FlJAF.jpg?s=128&g=1", "display_name": "Gabor Lengyel", "link": "https://stackoverflow.com/users/6570042/gabor-lengyel"}, "edited": false, "score": 0, "creation_date": 1479940780, "post_id": 40775251, "comment_id": 68774444, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/2778840/socket-error-errno-10013-an-attempt-was-made-to-access-a-socket-in-a-way-forb\">socket.error: &#91;Errno 10013&#93; An attempt was made to access a socket in a way forbidden by its access permissions</a>"}, {"owner": {"reputation": 63, "user_id": 6814402, "user_type": "registered", "profile_image": "https://graph.facebook.com/1759407114326798/picture?type=large", "display_name": "Mahdi Bahri", "link": "https://stackoverflow.com/users/6814402/mahdi-bahri"}, "reply_to_user": {"reputation": 9153, "user_id": 6570042, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FlJAF.jpg?s=128&g=1", "display_name": "Gabor Lengyel", "link": "https://stackoverflow.com/users/6570042/gabor-lengyel"}, "edited": false, "score": 0, "creation_date": 1479941022, "post_id": 40775251, "comment_id": 68774512, "body": "i try but it&#39;s not work"}], "owner": {"reputation": 63, "user_id": 6814402, "user_type": "registered", "profile_image": "https://graph.facebook.com/1759407114326798/picture?type=large", "display_name": "Mahdi Bahri", "link": "https://stackoverflow.com/users/6814402/mahdi-bahri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 917, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1486518130, "creation_date": 1479940454, "last_edit_date": 1486518130, "question_id": 40775251, "link": "https://stackoverflow.com/questions/40775251/python-error-socket-error-errno-10013-une-tentative-d%c3%86acc%c3%9es-%c3%93-un-socket-de-ma", "title": "python error socket.error: [Errno 10013] Une tentative d&#198;acc&#222;s &#211; un socket de mani&#222;re interd te par ses autorisations d&#198;acc&#222;s a &#218;t&#218; tent&#218;e", "body": "<p>i've make a sniff script but i've problem with socket i get like this <code>socket.error</code></p>\n\n<p>my code like this</p>\n\n<pre><code>import socket\nimport os\n# host to listen on\nhost = \"192.168.1.1\"\n# create a raw socket and bind it to the public interface\nif os.name == \"nt\":\n    socket_protocol = socket.IPPROTO_IP\nelse:\n    socket_protocol = socket.IPPROTO_ICMP\nsniffer = socket.socket(socket.AF_INET, socket.SOCK_RAW, socket_protocol)\n\nsniffer.bind((host, 0))\n# we want the IP headers included in the capture\nsniffer.setsockopt(socket.IPPROTO_IP, socket.IP_HDRINCL, 1)\n# if we're using Windows, we need to send an IOCTL\n# to set up promiscuous mode\nif os.name == \"nt\":\n    sniffer.ioctl(socket.SIO_RCVALL, socket.RCVALL_ON)\n# read in a single packet\nprint sniffer.recvfrom(65565)\n# if we're using Windows, turn off promiscuous mode\nif os.name == \"nt\":\n    sniffer.ioctl(socket.SIO_RCVALL, socket.RCVALL_OFF) \n</code></pre>\n\n<p>and error </p>\n\n<p>e par ses autorisations d\u00c6acc\u00des a \u00dat\u00da tent\u00dae</p>\n\n<pre><code>c:\\Users\\noredine\\Desktop\\project0112deep&gt;sniff.py\nraceback (most recent call last):\n File \"C:\\Users\\noredine\\Desktop\\backdoor\\sniff.py\", line 10, in &lt;module&gt;\n   sniffer = socket.socket(socket.AF_INET, socket.SOCK_RAW, socket_protocol)\n File \"C:\\Python27\\lib\\socket.py\", line 191, in __init__\n   _sock = _realsocket(family, type, proto)\nocket.error: [Errno 10013] Une tentative d\u00c6acc\u00des \u00d3 un socket de mani\u00dere interdi\ne par ses autorisations d\u00c6acc\u00des a \u00dat\u00da tent\u00dae\n</code></pre>\n"}, {"tags": ["python", "opencv", "camera-calibration"], "comments": [{"owner": {"reputation": 17033, "user_id": 2393191, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/mFcLT.jpg?s=128&g=1", "display_name": "Micka", "link": "https://stackoverflow.com/users/2393191/micka"}, "edited": false, "score": 0, "creation_date": 1479940878, "post_id": 40775102, "comment_id": 68774474, "body": "do you only need lens correction (undistortion) or do you need all the camera intrinsics?"}, {"owner": {"reputation": 786, "user_id": 6051652, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/a98d4ed4986aeaa7e0db17373729c390?s=128&d=identicon&r=PG&f=1", "display_name": "Eyal S.", "link": "https://stackoverflow.com/users/6051652/eyal-s"}, "reply_to_user": {"reputation": 17033, "user_id": 2393191, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/mFcLT.jpg?s=128&g=1", "display_name": "Micka", "link": "https://stackoverflow.com/users/2393191/micka"}, "edited": false, "score": 0, "creation_date": 1480351565, "post_id": 40775102, "comment_id": 68915273, "body": "I need all the camera intrinsics + the lens correction."}], "answers": [{"tags": [], "owner": {"reputation": 786, "user_id": 6051652, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/a98d4ed4986aeaa7e0db17373729c390?s=128&d=identicon&r=PG&f=1", "display_name": "Eyal S.", "link": "https://stackoverflow.com/users/6051652/eyal-s"}, "is_accepted": true, "score": 1, "last_activity_date": 1510683019, "creation_date": 1510683019, "answer_id": 47292594, "question_id": 40775102, "link": "https://stackoverflow.com/questions/40775102/calibrate-camera-with-only-radial-distortion/47292594#47292594", "title": "Calibrate Camera with only radial distortion", "body": "<p>I found the answer.</p>\n\n<p>For no tangential distortion:</p>\n\n<pre><code> ret, mtx, dist, rvecs, tvecs = cv2.calibrateCamera(objpoints, imgpoints, gray.shape[::-1],None, 4,None,None,cv2.CALIB_ZERO_TANGENT_DIST,\n                                                   criteria = (cv2.TERM_CRITERIA_EPS + cv2.TERM_CRITERIA_MAX_ITER, 30, 2e-16))\n</code></pre>\n\n<p>For only 2 radial distortion coefficients it seems like the documentation suggests using 4 instead of 5 for the number of coefficients. That does not seem to work. Instead I fix the k3 parameter:</p>\n\n<pre><code>ret, mtx, dist, rvecs, tvecs = cv2.calibrateCamera(objpoints, imgpoints, gray.shape[::-1],None, 4,None,None,cv2.CALIB_ZERO_TANGENT_DIST+cv2.CALIB_FIX_K3,\n                                                   criteria = (cv2.TERM_CRITERIA_EPS + cv2.TERM_CRITERIA_MAX_ITER, 30, 2e-16))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1183, "user_id": 25612, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/65ab760665ac1ff5e539f6919312e9b5?s=128&d=identicon&r=PG", "display_name": "motob&#243;i", "link": "https://stackoverflow.com/users/25612/motob%c3%b3i"}, "is_accepted": false, "score": 0, "last_activity_date": 1601923328, "last_edit_date": 1601923328, "creation_date": 1601865205, "answer_id": 64201786, "question_id": 40775102, "link": "https://stackoverflow.com/questions/40775102/calibrate-camera-with-only-radial-distortion/64201786#64201786", "title": "Calibrate Camera with only radial distortion", "body": "<p><a href=\"https://docs.opencv.org/4.4.0/d9/d0c/group__calib3d.html#ga3207604e4b1a1758aa66acb6ed5aa65d\" rel=\"nofollow noreferrer\">The relevant documentation</a>:</p>\n<blockquote>\n<p><strong>distCoeffs</strong> \u2013 Output vector of distortion coefficients <img src=\"https://chart.googleapis.com/chart?cht=tx&amp;chl=(k_1%2C%20k_2%2C%20p_1%2C%20p_2%5B%2C%20k_3%5B%2C%20k_4%2C%20k_5%2C%20k_6%20%5B%2C%20s_1%2C%20s_2%2C%20s_3%2C%20s_4%5B%2C%20%5Ctau_x%2C%20%5Ctau_y%5D%5D%5D%5D)\" alt=\"formula\" /> of 4, 5, or 8 elements.</p>\n<p><strong>CV_CALIB_USE_INTRINSIC_GUESS</strong> cameraMatrix contains valid initial\nvalues of fx, fy, cx, cy that are optimized further. Otherwise, (cx,\ncy) is initially set to the image center ( imageSize is used), and\nfocal distances are computed in a least-squares fashion. Note, that if\nintrinsic parameters are known, there is no need to use this function\njust to estimate extrinsic parameters. Use solvePnP() instead.</p>\n<p><strong>CV_CALIB_FIX_K1,...,CV_CALIB_FIX_K6</strong> The corresponding radial\ndistortion coefficient is not changed during the optimization. If\nCV_CALIB_USE_INTRINSIC_GUESS is set, the coefficient from the supplied\ndistCoeffs matrix is used. Otherwise, it is set to 0.</p>\n<p><strong>CV_CALIB_ZERO_TANGENT_DIST</strong> Tangential distortion coefficients <img src=\"https://chart.googleapis.com/chart?cht=tx&amp;chl=(p_1,%20p_2)\" alt=\"formula\" /> are set to zeros and stay zero.</p>\n</blockquote>\n<p><strong>IMPORTANT</strong>: in Python, cv flags DON'T BEGIN WITH <code>CV_</code>. So I will remove them from now on.</p>\n<hr />\n<p>What the documentation means is:</p>\n<p>If you <em>already have</em> a camera matrix <strong>AND</strong> distortion coefficient vector, you can supply them to the calibration as an initial value and let it guess from there (using <code>CALIB_USE_INTRINSIC_GUESS</code>). You can supply an initial distortion vector and make some components of it static (will always be the supplied value) with the  <code>CALIB_FIX_K1</code>,\u2026,<code>CALIB_FIX_K6</code> flags.</p>\n<p><strong>BUT:</strong> if you set <code>CALIB_FIX_K1</code>, <code>CALIB_FIX_K2</code>, <code>CALIB_FIX_K3</code>, <code>CALIB_FIX_K4</code>, <code>CALIB_FIX_K5</code> or <code>CALIB_FIX_K6</code> without giving an initial estimate, <strong>they will be set to zero</strong>.</p>\n<p>Note that the result distCoeffs vector will be: [<code>K1</code>, <code>K2</code>, <code>tangential1</code>, <code>tangential2</code>, <code>K3</code>]. OpenCV will give you K4, K5 or K6 only if you explicitly ask for it with <code>CALIB_RATIONAL_MODEL</code>.</p>\n<p>So, if you want no tangential distortion factors and only two radial distortion factors, you can supply <code>flags=CALIB_FIX_K3 + CALIB_ZERO_TANGENT_DIST</code>. You don't need <code>distCoeffs</code> or just pass it  as <code>distCoeffs=None</code>.</p>\n<pre><code>success, mtx, distCoeffs, rvecs, tvecs = cv2.calibrateCamera(\n        objectPoints, imagePoints, (width, height),\n        flags=CALIB_FIX_K3 + CALIB_ZERO_TANGENT_DIST)\n\nprint(distCoeffs)\n</code></pre>\n<p>This will result in a distortion vector like this:</p>\n<p><code>[ 0.10509459 -0.31389323  0.          0.          0.     ]</code></p>\n"}], "owner": {"reputation": 786, "user_id": 6051652, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/a98d4ed4986aeaa7e0db17373729c390?s=128&d=identicon&r=PG&f=1", "display_name": "Eyal S.", "link": "https://stackoverflow.com/users/6051652/eyal-s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1092, "favorite_count": 0, "accepted_answer_id": 47292594, "answer_count": 2, "score": 0, "last_activity_date": 1601923328, "creation_date": 1479939714, "question_id": 40775102, "link": "https://stackoverflow.com/questions/40775102/calibrate-camera-with-only-radial-distortion", "title": "Calibrate Camera with only radial distortion", "body": "<p>I'm trying to run camera calibration using opencv in python. I'm using:</p>\n\n<pre><code>cv2.calibrateCamera(objpoints, imgpoints, gray.shape[::-1],None,None)\n</code></pre>\n\n<p>and it seems like it is working well for 5 distortion coefficients. However, I would like to try and run it without the tangential distortion and possibly with only 2 radial distortion coefficients. Is that possible?</p>\n"}, {"tags": ["python", "windows-services", "pywin32"], "comments": [{"owner": {"reputation": 780, "user_id": 4119906, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/q3PG3.jpg?s=128&g=1", "display_name": "Shay Nehmad", "link": "https://stackoverflow.com/users/4119906/shay-nehmad"}, "edited": false, "score": 0, "creation_date": 1479939859, "post_id": 40775095, "comment_id": 68774101, "body": "Running as admin? Might be an issue with privileges"}, {"owner": {"reputation": 535, "user_id": 793754, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/8b4e96645261385609a54c4e9fb93371?s=128&d=identicon&r=PG", "display_name": "Natalia", "link": "https://stackoverflow.com/users/793754/natalia"}, "reply_to_user": {"reputation": 780, "user_id": 4119906, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/q3PG3.jpg?s=128&g=1", "display_name": "Shay Nehmad", "link": "https://stackoverflow.com/users/4119906/shay-nehmad"}, "edited": false, "score": 0, "creation_date": 1479940360, "post_id": 40775095, "comment_id": 68774294, "body": "pythonservice.exe is set to run as administrator"}], "answers": [{"tags": [], "owner": {"reputation": 535, "user_id": 793754, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/8b4e96645261385609a54c4e9fb93371?s=128&d=identicon&r=PG", "display_name": "Natalia", "link": "https://stackoverflow.com/users/793754/natalia"}, "is_accepted": true, "score": 2, "last_activity_date": 1479988877, "creation_date": 1479988877, "answer_id": 40785902, "question_id": 40775095, "link": "https://stackoverflow.com/questions/40775095/python-http-server-unable-to-send-response-inside-windows-service/40785902#40785902", "title": "Python HTTP Server unable to send response inside Windows Service", "body": "<p>Actually it was hanging when executing sys.stderr.write (which is the default logging output for BaseHTTPRequestHandler). So I've overridden log_message function in my request handler class and it works fine now.</p>\n"}], "owner": {"reputation": 535, "user_id": 793754, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/8b4e96645261385609a54c4e9fb93371?s=128&d=identicon&r=PG", "display_name": "Natalia", "link": "https://stackoverflow.com/users/793754/natalia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 323, "favorite_count": 0, "accepted_answer_id": 40785902, "answer_count": 1, "score": 1, "last_activity_date": 1479988877, "creation_date": 1479939687, "question_id": 40775095, "link": "https://stackoverflow.com/questions/40775095/python-http-server-unable-to-send-response-inside-windows-service", "title": "Python HTTP Server unable to send response inside Windows Service", "body": "<p>I've written a simple HTTP server and made it into a Windows service using pywin32. The server successfully processes requests when run in the debugger, inside actual service it gets the request but hangs on send_response operation. What might be the reason?</p>\n\n<pre><code>from http.server import BaseHTTPRequestHandler, HTTPServer\nimport win32serviceutil\nimport win32service\nimport sys\n\nPORT_NUMBER = 6363\n\nclass myHandler(BaseHTTPRequestHandler):\n    def do_GET(self):\n        self.send_response(200)\n        self.send_header('Content-type', 'text/html')\n        self.end_headers()\n        self.wfile.write(bytes(\"Hello World !\", \"utf-8\"))\n        return\n\nclass TestSvc(win32serviceutil.ServiceFramework):\n    _svc_name_ = \"TestSvc\"\n    _svc_display_name_ = \"Test Service\"\n    _svc_description_ = \"Tests server inside service.\"\n\n    def __init__(self, args):\n        win32serviceutil.ServiceFramework.__init__(self, args)\n        self.server = HTTPServer(('', PORT_NUMBER), myHandler)\n\n    def SvcDoRun(self):\n        self.ReportServiceStatus(win32service.SERVICE_RUNNING)\n        print('Started httpserver on port ', PORT_NUMBER)\n        self.server.serve_forever()\n\n    def SvcStop(self):\n        self.ReportServiceStatus(win32service.SERVICE_STOP_PENDING)\n        self.server.shutdown()\n\n#sys.frozen = 'windows_exe'\nif __name__ == '__main__':\n    win32serviceutil.HandleCommandLine(TestSvc, argv=sys.argv)\n</code></pre>\n"}, {"tags": ["python", "bash", "shell", "sigint"], "comments": [{"owner": {"reputation": 116557, "user_id": 918959, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/b9051b2917c3d55d55b3d7042fa49f6c?s=128&d=identicon&r=PG", "display_name": "Antti Haapala", "link": "https://stackoverflow.com/users/918959/antti-haapala"}, "edited": false, "score": 1, "creation_date": 1480149055, "post_id": 40775054, "comment_id": 68852637, "body": "Excellent question, the first new thing that I learned about Python today."}], "answers": [{"comments": [{"owner": {"reputation": 527, "user_id": 1908192, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/10ca174d50c69b636e5bc0a4e8f4f55d?s=128&d=identicon&r=PG", "display_name": "Velda", "link": "https://stackoverflow.com/users/1908192/velda"}, "edited": false, "score": 1, "creation_date": 1480000700, "post_id": 40785230, "comment_id": 68801908, "body": "Thanks for nice explanation. Still, Python documentation is a bit misleading then, isn&#39;t it? I think it should state, that it&#39;s only adding SIGINT handler if it&#39;s not ignored in starting signal mask."}, {"owner": {"reputation": 59735, "user_id": 1350899, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a42186174515a63b8058100a736252f?s=128&d=identicon&r=PG", "display_name": "mata", "link": "https://stackoverflow.com/users/1350899/mata"}, "reply_to_user": {"reputation": 527, "user_id": 1908192, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/10ca174d50c69b636e5bc0a4e8f4f55d?s=128&d=identicon&r=PG", "display_name": "Velda", "link": "https://stackoverflow.com/users/1908192/velda"}, "edited": false, "score": 1, "creation_date": 1480004490, "post_id": 40785230, "comment_id": 68804161, "body": "Yes, the documentation should probably mention that it doesn&#39;t set the sigint handler when it wasn&#39;t set to <code>SIG_DFL</code> at startup"}], "tags": [], "owner": {"reputation": 59735, "user_id": 1350899, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a42186174515a63b8058100a736252f?s=128&d=identicon&r=PG", "display_name": "mata", "link": "https://stackoverflow.com/users/1350899/mata"}, "is_accepted": true, "score": 26, "last_activity_date": 1479995151, "last_edit_date": 1479995151, "creation_date": 1479986835, "answer_id": 40785230, "question_id": 40775054, "link": "https://stackoverflow.com/questions/40775054/capturing-sigint-using-keyboardinterrupt-exception-works-in-terminal-not-in-scr/40785230#40785230", "title": "Capturing SIGINT using KeyboardInterrupt exception works in terminal, not in script", "body": "<p>There is one case in which the default sigint handler is <em>not</em> installed at startup, and that is when the signal mask contains <code>SIG_IGN</code> for <code>SIGINT</code> at program startup. The code responsible for this can be found <a href=\"https://hg.python.org/cpython/file/6eefdf0fade6/Modules/signalmodule.c#l608\" rel=\"noreferrer\">here</a>.</p>\n\n<p>The signal mask for ignored signals is inherited from the parent process, while handled signals are reset to <code>SIG_DFL</code>. So in case <code>SIGINT</code> was ignored the condition <code>if (Handlers[SIGINT].func == DefaultHandler)</code> in the source won't trigger and the default handler is not installed, python doesn't override the settings made by the parent process in this case.</p>\n\n<p>So let's try to show the used signal handler in different situations:</p>\n\n<pre><code># invocation from interactive shell\n$ python -c \"import signal; print(signal.getsignal(signal.SIGINT))\"\n&lt;built-in function default_int_handler&gt;\n\n# background job in interactive shell\n$ python -c \"import signal; print(signal.getsignal(signal.SIGINT))\" &amp;\n&lt;built-in function default_int_handler&gt;\n\n# invocation in non interactive shell\n$ sh -c 'python -c \"import signal; print(signal.getsignal(signal.SIGINT))\"'\n&lt;built-in function default_int_handler&gt;\n\n# background job in non-interactive shell\n$ sh -c 'python -c \"import signal; print(signal.getsignal(signal.SIGINT))\" &amp;'\n1\n</code></pre>\n\n<p>So in the last example, <code>SIGINT</code> is set to 1 (<code>SIG_IGN</code>). This is the same as when you start a background job in a shell script, as those are non interactive by default (unless you use the <code>-i</code> option in the shebang).</p>\n\n<p>So this is caused by the shell ignoring the signal when launching a background job in a non interactive shell session, not by python directly. At least <code>bash</code> and <code>dash</code> behave this way, I've not tried other shells.</p>\n\n<p>There are two options to deal with this situation:</p>\n\n<ul>\n<li><p>manually install the default signal handler:</p>\n\n<pre><code>import signal\nsignal.signal(signal.SIGINT, signal.default_int_handler)\n</code></pre></li>\n<li><p>add the <code>-i</code> option to the shebang of the shell script, e.g:</p>\n\n<pre><code>#!/bin/sh -i\n</code></pre></li>\n</ul>\n\n<hr>\n\n<p>edit: this behaviour is documented in the bash manual:</p>\n\n<blockquote>\n  <p>SIGNALS<br>\n  ...<br>\n  When job control is not in effect, asynchronous commands ignore SIGINT and SIGQUIT in addition to these inherited handlers.</p>\n</blockquote>\n\n<p>which applies to non-interactive shells as they have job control disabled by default, and is actually specified in POSIX: <a href=\"http://pubs.opengroup.org/onlinepubs/9699919799/utilities/V3_chap02.html#tag_18_11\" rel=\"noreferrer\">Shell Command Language</a></p>\n"}], "owner": {"reputation": 527, "user_id": 1908192, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/10ca174d50c69b636e5bc0a4e8f4f55d?s=128&d=identicon&r=PG", "display_name": "Velda", "link": "https://stackoverflow.com/users/1908192/velda"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8476, "favorite_count": 5, "accepted_answer_id": 40785230, "answer_count": 1, "score": 18, "last_activity_date": 1480149905, "creation_date": 1479939474, "last_edit_date": 1480149905, "question_id": 40775054, "link": "https://stackoverflow.com/questions/40775054/capturing-sigint-using-keyboardinterrupt-exception-works-in-terminal-not-in-scr", "title": "Capturing SIGINT using KeyboardInterrupt exception works in terminal, not in script", "body": "<p>I'm trying to catch <code>SIGINT</code> (or keyboard interrupt) in Python 2.7 program. This is how my Python test script <code>test</code> looks:</p>\n\n<pre><code>#!/usr/bin/python\n\nimport time\n\ntry:\n    time.sleep(100)\nexcept KeyboardInterrupt:\n    pass\nexcept:\n    print \"error\"\n</code></pre>\n\n<p>Next I have a shell script <code>test.sh</code>:</p>\n\n<pre><code>./test &amp; pid=$!\nsleep 1\nkill -s 2 $pid\n</code></pre>\n\n<p>When I run the script with bash, or sh, or something <code>bash test.sh</code>, the Python process <code>test</code> stays running and is not killable with <code>SIGINT</code>. Whereas when I copy <code>test.sh</code> command and paste it into (bash) terminal, the Python process <code>test</code> shuts down.</p>\n\n<p>I cannot get what's going on, which I'd like to understand. So, where is difference, and why?</p>\n\n<p>This is not about <em>how to catch <code>SIGINT</code> in Python!</em> According to <a href=\"https://docs.python.org/2/library/signal.html\" rel=\"noreferrer\">docs</a> \u2013 this is the way, which should work:</p>\n\n<blockquote>\n  <p>Python installs a small number of signal handlers by default: SIGPIPE ... and SIGINT is translated into a KeyboardInterrupt exception</p>\n</blockquote>\n\n<p>It is indeed catching <code>KeyboardInterrupt</code> when <code>SIGINT</code> is sent by <code>kill</code> if the program is started directly from shell, but when the program is started from bash script run on background, it seems that <code>KeyboardInterrupt</code> is never raised.</p>\n"}, {"tags": ["python", "pandas", "group-by"], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user7184692"}, "is_accepted": false, "score": 1, "last_activity_date": 1479939567, "creation_date": 1479939567, "answer_id": 40775070, "question_id": 40775038, "link": "https://stackoverflow.com/questions/40775038/efficient-way-to-union-non-set-iterables-within-groups/40775070#40775070", "title": "efficient way to union non-set iterables within groups", "body": "<p>I'd use a function to apply with</p>\n\n<pre><code>def f(x):\n    # grabbing first one so I can\n    # make a set out of it\n    first, *rest = x.values.tolist()\n    # union won't work unless it's on\n    # a set, it doesn't care about the rest\n    return set(first).union(*rest)\n\ndf.groupby('A').B.apply(f)\n\nA\na    {0, 1, 2, 3, 4, 5, 6, 7, 8, 9}\nb                {0, 1, 2, 3, 4, 6}\nc                {1, 2, 5, 6, 8, 9}\nName: B, dtype: object\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 26041, "user_id": 3339965, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ac89d084d3bc5dc083bad3ea5518f11?s=128&d=identicon&r=PG&f=1", "display_name": "root", "link": "https://stackoverflow.com/users/3339965/root"}, "edited": false, "score": 5, "creation_date": 1479940096, "post_id": 40775167, "comment_id": 68774174, "body": "Is the second <code>map</code> necessary?  Works fine for me without it."}, {"owner": {"reputation": 10963, "user_id": 306257, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/701752cfc3dd805d412884f38a464296?s=128&d=identicon&r=PG", "display_name": "Haldean Brown", "link": "https://stackoverflow.com/users/306257/haldean-brown"}, "edited": false, "score": 0, "creation_date": 1479940131, "post_id": 40775167, "comment_id": 68774194, "body": "Yeah, the set construction should be enough, you&#39;re just taking the union of a single set at the end."}, {"owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "edited": false, "score": 0, "creation_date": 1479940215, "post_id": 40775167, "comment_id": 68774227, "body": "Very elegant solution!"}, {"owner": {"reputation": 29554, "user_id": 839957, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/3ac5824c6cc4817a754a186d6a45a08b?s=128&d=identicon&r=PG", "display_name": "maxymoo", "link": "https://stackoverflow.com/users/839957/maxymoo"}, "reply_to_user": {"reputation": 26041, "user_id": 3339965, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ac89d084d3bc5dc083bad3ea5518f11?s=128&d=identicon&r=PG&f=1", "display_name": "root", "link": "https://stackoverflow.com/users/3339965/root"}, "edited": false, "score": 0, "creation_date": 1479962284, "post_id": 40775167, "comment_id": 68779804, "body": "@root of course you&#39;re right, not sure what i was thinking"}], "tags": [], "owner": {"reputation": 29554, "user_id": 839957, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/3ac5824c6cc4817a754a186d6a45a08b?s=128&d=identicon&r=PG", "display_name": "maxymoo", "link": "https://stackoverflow.com/users/839957/maxymoo"}, "is_accepted": true, "score": 5, "last_activity_date": 1479962262, "last_edit_date": 1479962262, "creation_date": 1479940018, "answer_id": 40775167, "question_id": 40775038, "link": "https://stackoverflow.com/questions/40775038/efficient-way-to-union-non-set-iterables-within-groups/40775167#40775167", "title": "efficient way to union non-set iterables within groups", "body": "<p>The problem is that you need to cast them as sets first before applying the union. One solution would be to use <code>sum</code> to concatenate the groups, then cast to set using <code>map</code></p>\n\n<pre><code>In [28]: df.groupby('A').B.sum().map(set)\nOut[28]:\nA\na    {0, 1, 2, 3, 4, 5, 6, 7, 8, 9}\nb                {0, 1, 2, 3, 4, 6}\nc                {1, 2, 5, 6, 8, 9}\ndtype: object\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 29554, "user_id": 839957, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/3ac5824c6cc4817a754a186d6a45a08b?s=128&d=identicon&r=PG", "display_name": "maxymoo", "link": "https://stackoverflow.com/users/839957/maxymoo"}, "edited": false, "score": 0, "creation_date": 1479942337, "post_id": 40775495, "comment_id": 68774914, "body": "yeh this is better than my answer"}, {"owner": {"reputation": 29554, "user_id": 839957, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/3ac5824c6cc4817a754a186d6a45a08b?s=128&d=identicon&r=PG", "display_name": "maxymoo", "link": "https://stackoverflow.com/users/839957/maxymoo"}, "edited": false, "score": 1, "creation_date": 1479942913, "post_id": 40775495, "comment_id": 68775102, "body": "actually if you want a one-liner, you could use <code>df.groupby(&#39;A&#39;).B.apply(lambda x : reduce(set.union, x.map(set)))</code> and include the datatype conversion in the lambda"}, {"owner": {"reputation": 29554, "user_id": 839957, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/3ac5824c6cc4817a754a186d6a45a08b?s=128&d=identicon&r=PG", "display_name": "maxymoo", "link": "https://stackoverflow.com/users/839957/maxymoo"}, "edited": false, "score": 0, "creation_date": 1479962496, "post_id": 40775495, "comment_id": 68779851, "body": "actually this is even better <code>df.groupby(&#39;A&#39;).B.apply(lambda x : reduce(set.union, x, set(x.iloc[0])))</code>, using Harry&#39;s answer&#39;s observation that only the first argument in <code>union</code> needs to be a set"}], "tags": [], "owner": {"reputation": 4592, "user_id": 1571826, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/2fd1e91f14448fca131100f9c8f32f5a?s=128&d=identicon&r=PG", "display_name": "Def_Os", "link": "https://stackoverflow.com/users/1571826/def-os"}, "is_accepted": false, "score": 2, "last_activity_date": 1479957825, "last_edit_date": 1479957825, "creation_date": 1479941704, "answer_id": 40775495, "question_id": 40775038, "link": "https://stackoverflow.com/questions/40775038/efficient-way-to-union-non-set-iterables-within-groups/40775495#40775495", "title": "efficient way to union non-set iterables within groups", "body": "<p>maxymoo's answer is nice, but since it first adds all the lists together it might unnecessarily take a lot of memory (especially so if there are lots of duplicates).</p>\n\n<p>Instead, you should first convert column <code>B</code> to sets, after which you can reduce to a single set much more efficiently. Like this:</p>\n\n<pre><code>df['B'] = df['B'].map(set)\n\n   A             B\n0  b  {0, 1, 2, 3}\n1  a  {9, 2, 6, 7}\n2  b  {0, 1, 4, 6}\n3  c  {9, 2, 5, 1}\n4  a  {8, 1, 4, 5}\n5  c     {8, 5, 6}\n6  a        {0, 9}\n7  c  {8, 1, 2, 6}\n8  a  {2, 3, 6, 7}\n9  a  {8, 1, 9, 7}\n\ndf.groupby('A').B.apply(lambda x: reduce(set.union, x))\n\nA\na    {0, 1, 2, 3, 4, 5, 6, 7, 8, 9}\nb                {0, 1, 2, 3, 4, 6}\nc                {1, 2, 5, 6, 8, 9}\nName: B, dtype: object\n</code></pre>\n\n<p>Or, as a one-liner, as maxymoo points out:</p>\n\n<pre><code>df.groupby('A').B.apply(lambda x : reduce(set.union, x.map(set)))\n</code></pre>\n"}], "owner": {"reputation": 1185, "user_id": 6284734, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d8a6096e9cf3c6558698c7d1176a9cfc?s=128&d=identicon&r=PG&f=1", "display_name": "Brian", "link": "https://stackoverflow.com/users/6284734/brian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 0, "accepted_answer_id": 40775167, "answer_count": 3, "score": 3, "last_activity_date": 1479962262, "creation_date": 1479939370, "question_id": 40775038, "link": "https://stackoverflow.com/questions/40775038/efficient-way-to-union-non-set-iterables-within-groups", "title": "efficient way to union non-set iterables within groups", "body": "<p>I have this <code>df</code></p>\n\n<pre><code>df = pd.DataFrame(dict(\n        A=['b', 'a', 'b', 'c', 'a', 'c', 'a', 'c', 'a', 'a'],\n        B=[[0, 2, 3, 1],\n           [9, 6, 7, 2],\n           [6, 0, 1, 4],\n           [9, 2, 5, 1],\n           [5, 1, 4, 8],\n           [8, 5, 6, 6],\n           [0, 9, 0, 0],\n           [2, 6, 1, 8],\n           [7, 3, 2, 6],\n           [8, 7, 1, 9]]\n        ))\n</code></pre>\n\n<p>I want to group by <code>'A'</code> and union all the lists in <code>'B'</code></p>\n\n<p>Neither <code>df.groupby('A').B.union()</code> nor <code>df.groupby('A').B.apply(set.union)</code> work.</p>\n\n<p>I want the result to be</p>\n\n<pre><code>A\na    {0, 1, 2, 3, 4, 5, 6, 7, 8, 9}\nb                {0, 1, 2, 3, 4, 6}\nc                {1, 2, 5, 6, 8, 9}\nName: B, dtype: object\n</code></pre>\n"}, {"tags": ["python", "dictionary"], "comments": [{"owner": {"reputation": 780, "user_id": 4119906, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/q3PG3.jpg?s=128&g=1", "display_name": "Shay Nehmad", "link": "https://stackoverflow.com/users/4119906/shay-nehmad"}, "edited": false, "score": 0, "creation_date": 1479940009, "post_id": 40775028, "comment_id": 68774146, "body": "What have you tried? This is not a &quot;code for me&quot; site. Have you read about the &#39;random&#39; module?"}, {"owner": {"reputation": 15599, "user_id": 4575071, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb9bceb35fc57e732ca44911b801b12e?s=128&d=identicon&r=PG&f=1", "display_name": "ettanany", "link": "https://stackoverflow.com/users/4575071/ettanany"}, "edited": false, "score": 0, "creation_date": 1479940564, "post_id": 40775028, "comment_id": 68774374, "body": "Do you want to write to a dictionary or a file?"}, {"owner": {"reputation": 45, "user_id": 7150780, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/6e40c7f1943540eed998b628eddcbd39?s=128&d=identicon&r=PG&f=1", "display_name": "naraemee", "link": "https://stackoverflow.com/users/7150780/naraemee"}, "edited": false, "score": 0, "creation_date": 1479942682, "post_id": 40775028, "comment_id": 68775022, "body": "yes, i have read about it and i&#39;m not expecting anyone to code for me. An explanation or lead would be more than enough!"}, {"owner": {"reputation": 45, "user_id": 7150780, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/6e40c7f1943540eed998b628eddcbd39?s=128&d=identicon&r=PG&f=1", "display_name": "naraemee", "link": "https://stackoverflow.com/users/7150780/naraemee"}, "edited": false, "score": 0, "creation_date": 1479942700, "post_id": 40775028, "comment_id": 68775027, "body": "I am trying to write to a dictionary!"}], "answers": [{"comments": [{"owner": {"reputation": 45, "user_id": 7150780, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/6e40c7f1943540eed998b628eddcbd39?s=128&d=identicon&r=PG&f=1", "display_name": "naraemee", "link": "https://stackoverflow.com/users/7150780/naraemee"}, "edited": false, "score": 0, "creation_date": 1479942834, "post_id": 40775364, "comment_id": 68775071, "body": "Oops It seems i accidently asked them for input! Also thanks for explaining the concepts to me rather than just coding everything!! It&#39;s a lot more helpful!"}, {"owner": {"reputation": 45, "user_id": 7150780, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/6e40c7f1943540eed998b628eddcbd39?s=128&d=identicon&r=PG&f=1", "display_name": "naraemee", "link": "https://stackoverflow.com/users/7150780/naraemee"}, "edited": false, "score": 0, "creation_date": 1479943208, "post_id": 40775364, "comment_id": 68775181, "body": "Also thank you for clarifying the other problem in my code!"}], "tags": [], "owner": {"reputation": 767, "user_id": 2078678, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/41918ea59bc753ab7e6b58a5f3dc2973?s=128&d=identicon&r=PG", "display_name": "matiascelasco", "link": "https://stackoverflow.com/users/2078678/matiascelasco"}, "is_accepted": true, "score": 2, "last_activity_date": 1479940915, "creation_date": 1479940915, "answer_id": 40775364, "question_id": 40775028, "link": "https://stackoverflow.com/questions/40775028/sorting-random-element-into-dictionary-python/40775364#40775364", "title": "Sorting random element into dictionary? Python", "body": "<p>It seems that you want to map strings to lists of strings, but instead of that you are mapping strings to strings.</p>\n\n<p>Look at this line:</p>\n\n<pre><code>moodDict[mood] = name.strip()\n</code></pre>\n\n<p>Here you are mapping the string <code>mood</code> to the string <code>name.strip()</code>. If at this point, there was already a name mapped to the current mood, the old value would be replaced and lost. In your file sample, both Jennifer and Jake are happy. At the first iteration of the for loop you have:</p>\n\n<pre><code>moodDict[\"happy\"] = \"Jennifer Clause\"\n</code></pre>\n\n<p>Then, at the second step, you have.</p>\n\n<pre><code>moodDict[\"happy\"] = \"Jake Foster\"\n</code></pre>\n\n<p>Here \"Jake Foster\" replaces \"Jennifer Clause\". Since the moods can be repeated, what you probably want is something like this:</p>\n\n<pre><code>if mood in moodDict:\n    moonDict[mood].append(name.strip())\nelse:\n    moonDict[mood] = [name.strip()]\n</code></pre>\n\n<p>This way, for each mood key you have a list of name values.</p>\n\n<p>Regarding the randomMood function, there are may things doesn't look good:</p>\n\n<ul>\n<li>The if statement should be indented since is part of the function. This should throw an IndentationError, but I will assume it happened when you copied the code into StackOverflow.</li>\n<li>Mood is a string, so what you are actually doing in <code>random.choice(mood)</code> is to choose a random character from that string, which doesn't make any sense. You probably want to choose from the list of moods, which would be something like this <code>randomMood = random.choice(moodDict.keys())</code>.</li>\n<li>Because of what I explained in the previous point, the following line just replace the value under the mood key with a random character from the mood, which doesn't make sense.</li>\n<li>Dictionaries don't have any method named <code>append</code>, this should throw an error too. You probably want to replace it with this: moonDict[randomMood].append(name)</li>\n<li>Finally, I don't understand why you ask the user to input a mood when it is supposed to be chosen randomly.</li>\n</ul>\n\n<p>It seems you are a bit confused about what a Python dictionary is and how it works. Remember that it map keys to values. In your code your keys are the moods and the values are the names, both represented as strings. The keys are unique. This means that if you assign a new value to an existing key, the old value mapped under that key gets lost. If you want to deal with multiple values under the same key you should map the key to a collection of values, like a list, instead of a single value.</p>\n"}], "owner": {"reputation": 45, "user_id": 7150780, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/6e40c7f1943540eed998b628eddcbd39?s=128&d=identicon&r=PG&f=1", "display_name": "naraemee", "link": "https://stackoverflow.com/users/7150780/naraemee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "accepted_answer_id": 40775364, "answer_count": 1, "score": 0, "last_activity_date": 1479940915, "creation_date": 1479939310, "question_id": 40775028, "link": "https://stackoverflow.com/questions/40775028/sorting-random-element-into-dictionary-python", "title": "Sorting random element into dictionary? Python", "body": "<p>I am trying to append a random choice into a dictionary, but my code doesn't seem to be working.</p>\n\n<p>The file I am using (mood.txt):</p>\n\n<pre><code>happy, Jennifer Clause\nhappy, Jake Foster\nsad, Jonathan Bower\nmad, Penny\nexcited, Logan \nawkward, Mason Tyme\n</code></pre>\n\n<p>my code: </p>\n\n<pre><code>def theFile():\n    moodFile = open(\"mood.txt\")\n    theMood = moodFile.readlines()\n    moodFile.close()\n    return(theMood)\n\ndef makeTheDict(myFile):\n    moodDict = {}\n\n    for lines in myFile:\n        (mood, name) = lines.split(\",\")\n\n        moodDict[mood] = name.strip()\n\n    return(moodDict)\n\n\ndef randomMood(name, mood, moodDict):\n\nif mood in moodDict:\n    randomMood = random.choice(mood)\n\n    moodDict[mood] = randomMood\n    moodDict.append(name, randomMood)\n\n    print(name, \"has been put in the\", randomMood, \"group\")\n\n\ndef main():\n\n    moodFile = theFile()\n\n    moodDict = makeTheDict(moodFile)\n\n\n    name = input(\"Choose a name: \")\n\n    newMood = input(\"Choose a mood: \")\n\n    randomMood(name, newMood, moodDict)\n</code></pre>\n\n<p>For example, I want to add a \"Jamie Green\" into a random group, and if it randomly chose \"sad\" then -   </p>\n\n<pre><code>happy, Jennifer Clause\nhappy, Jake Foster\nsad, Jonathan Bower\nmad, Penny\nexcited, Logan \nawkward, Mason Tyme\n#sad, Jamie Green \n</code></pre>\n\n<p>How would I append this into the dictionary randomly? </p>\n\n<p>Thank you!</p>\n"}, {"tags": ["python", "idioms"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 1, "creation_date": 1479939293, "post_id": 40774998, "comment_id": 68773892, "body": "That&#39;s not Python. It looks like it could be an IPython magic command, though."}, {"owner": {"reputation": 815, "user_id": 2999446, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd693334f54ece098ca02afe52e3c669?s=128&d=identicon&r=PG&f=1", "display_name": "Luke K", "link": "https://stackoverflow.com/users/2999446/luke-k"}, "edited": false, "score": 0, "creation_date": 1479939425, "post_id": 40774998, "comment_id": 68773935, "body": "as the person before me said, that looks like an iPython magic command. They invoke terminal commands and return the output"}, {"owner": {"reputation": 21, "user_id": 641891, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/00c241f13f6c0805d5160a616fac0646?s=128&d=identicon&r=PG", "display_name": "nanoook", "link": "https://stackoverflow.com/users/641891/nanoook"}, "edited": false, "score": 0, "creation_date": 1479939456, "post_id": 40774998, "comment_id": 68773947, "body": "Yes! Thanks for direction! I don&#39;t have any experiences with IPython, so I don&#39;t know about any kind of IPython magic commands."}], "answers": [{"tags": [], "owner": {"reputation": 331, "user_id": 1695036, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2MYTC.jpg?s=128&g=1", "display_name": "Leonardo Giordani", "link": "https://stackoverflow.com/users/1695036/leonardo-giordani"}, "is_accepted": false, "score": 0, "last_activity_date": 1479942467, "creation_date": 1479942467, "answer_id": 40775620, "question_id": 40774998, "link": "https://stackoverflow.com/questions/40774998/what-does-this-unusual-python-or-shell-idiom-mean-mv-path-path-png/40775620#40775620", "title": "what does this unusual python (or shell?) idiom mean? &quot;!mv {path} {path}.png&quot;", "body": "<p>You can learn about Jupyter Notebooks (formerly known as IPython Notebooks) from the <a href=\"http://jupyter-notebook.readthedocs.io/en/latest/\" rel=\"nofollow noreferrer\">official documentation</a>.</p>\n\n<p>The specific syntax you are facing is explained <a href=\"http://ipython.org/ipython-doc/dev/interactive/tutorial.html#system-shell-commands\" rel=\"nofollow noreferrer\">here</a> and is indeed just a way to execute shell commands in the Jupyter run-time environment.</p>\n"}], "owner": {"reputation": 21, "user_id": 641891, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/00c241f13f6c0805d5160a616fac0646?s=128&d=identicon&r=PG", "display_name": "nanoook", "link": "https://stackoverflow.com/users/641891/nanoook"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 49, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1479942467, "creation_date": 1479939122, "question_id": 40774998, "link": "https://stackoverflow.com/questions/40774998/what-does-this-unusual-python-or-shell-idiom-mean-mv-path-path-png", "title": "what does this unusual python (or shell?) idiom mean? &quot;!mv {path} {path}.png&quot;", "body": "<pre><code>!mv {path} {path}.png\n</code></pre>\n\n<p>This is one line from python script. What does this mean?\nI've never seen this before. </p>\n\n<p>There is also something similar in the code:</p>\n\n<pre><code>!/some/path/not-string-just-as-it-is-here.png\n</code></pre>\n\n<p>Seems like some kind of string manipulation (formatting?) instruction ...or what?</p>\n"}, {"tags": ["python", "web2py"], "answers": [{"comments": [{"owner": {"reputation": 649, "user_id": 4979237, "user_type": "registered", "accept_rate": 90, "profile_image": "https://lh4.googleusercontent.com/-IhkrApjwfYo/AAAAAAAAAAI/AAAAAAAAABA/g7-CQDdB2BI/photo.jpg?sz=128", "display_name": "Albert Rothman", "link": "https://stackoverflow.com/users/4979237/albert-rothman"}, "edited": false, "score": 0, "creation_date": 1480009081, "post_id": 40776866, "comment_id": 68806430, "body": "Is there any work around for this, or do I just have to use raw SQL or make a sub query and then search the rows?"}, {"owner": {"reputation": 25193, "user_id": 440323, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c524d823f477d9bb60626dc9dcacc95e?s=128&d=identicon&r=PG", "display_name": "Anthony", "link": "https://stackoverflow.com/users/440323/anthony"}, "reply_to_user": {"reputation": 649, "user_id": 4979237, "user_type": "registered", "accept_rate": 90, "profile_image": "https://lh4.googleusercontent.com/-IhkrApjwfYo/AAAAAAAAAAI/AAAAAAAAABA/g7-CQDdB2BI/photo.jpg?sz=128", "display_name": "Albert Rothman", "link": "https://stackoverflow.com/users/4979237/albert-rothman"}, "edited": false, "score": 0, "creation_date": 1480091437, "post_id": 40776866, "comment_id": 68839012, "body": "Which RDBMS are you using? Does it (and its associated Python driver) support the syntax you are using? If so, <code>executesql</code> will work fine."}, {"owner": {"reputation": 649, "user_id": 4979237, "user_type": "registered", "accept_rate": 90, "profile_image": "https://lh4.googleusercontent.com/-IhkrApjwfYo/AAAAAAAAAAI/AAAAAAAAABA/g7-CQDdB2BI/photo.jpg?sz=128", "display_name": "Albert Rothman", "link": "https://stackoverflow.com/users/4979237/albert-rothman"}, "edited": false, "score": 0, "creation_date": 1480099527, "post_id": 40776866, "comment_id": 68842110, "body": "Yeah, executesql works for example with <code>select *...</code>, however it did not with   <code>select count(*)...</code>. In the end I just used <code>query = &quot;select *...&quot; len(db.executesql(query))</code>,"}, {"owner": {"reputation": 25193, "user_id": 440323, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c524d823f477d9bb60626dc9dcacc95e?s=128&d=identicon&r=PG", "display_name": "Anthony", "link": "https://stackoverflow.com/users/440323/anthony"}, "reply_to_user": {"reputation": 649, "user_id": 4979237, "user_type": "registered", "accept_rate": 90, "profile_image": "https://lh4.googleusercontent.com/-IhkrApjwfYo/AAAAAAAAAAI/AAAAAAAAABA/g7-CQDdB2BI/photo.jpg?sz=128", "display_name": "Albert Rothman", "link": "https://stackoverflow.com/users/4979237/albert-rothman"}, "edited": false, "score": 0, "creation_date": 1480102672, "post_id": 40776866, "comment_id": 68843154, "body": "<code>executesql</code> works for any query at all -- it simply sends the raw SQL via the Python driver and returns exactly what the Python driver returns. Most likely, you&#39;re simply not processing the returned data correctly."}], "tags": [], "owner": {"reputation": 25193, "user_id": 440323, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c524d823f477d9bb60626dc9dcacc95e?s=128&d=identicon&r=PG", "display_name": "Anthony", "link": "https://stackoverflow.com/users/440323/anthony"}, "is_accepted": true, "score": 1, "last_activity_date": 1479952013, "creation_date": 1479952013, "answer_id": 40776866, "question_id": 40774989, "link": "https://stackoverflow.com/questions/40774989/web2py-dal-built-in-select-with-json/40776866#40776866", "title": "Web2py DAL/built in select with JSON", "body": "<p>The DAL is able to save JSON data in individual fields, but it does not provide a mechanism for querying specific attributes of the JSON data, as that requires special functionality within the RDBMS itself, which is not supported by most databases.</p>\n"}], "owner": {"reputation": 649, "user_id": 4979237, "user_type": "registered", "accept_rate": 90, "profile_image": "https://lh4.googleusercontent.com/-IhkrApjwfYo/AAAAAAAAAAI/AAAAAAAAABA/g7-CQDdB2BI/photo.jpg?sz=128", "display_name": "Albert Rothman", "link": "https://stackoverflow.com/users/4979237/albert-rothman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 366, "favorite_count": 0, "accepted_answer_id": 40776866, "answer_count": 1, "score": 0, "last_activity_date": 1479952013, "creation_date": 1479939086, "question_id": 40774989, "link": "https://stackoverflow.com/questions/40774989/web2py-dal-built-in-select-with-json", "title": "Web2py DAL/built in select with JSON", "body": "<p>I am wondering if the DAL supports select with JSON, or if there is a hack to make it able to select JSON fields. I can do the following:</p>\n\n<pre><code>SELECT count(id) FROM my_table WHERE my_json_colum::json-&gt;&gt;'form_id' = '%s';\" % (dummy_string)\nmy_count = db.executesql(query)\nreturn my_count\n</code></pre>\n\n<p>However, the <a href=\"http://www.web2py.com/books/default/chapter/29/06/the-database-abstraction-layer#executesql\" rel=\"nofollow noreferrer\">docs</a> suggest this isn't reliabe:</p>\n\n<blockquote>\n  <p>In this case, the return values are not parsed or transformed by the DAL, and the format depends on the specific database driver. </p>\n</blockquote>\n\n<p>I couldn't find anything in the documentation that suggested support for this. More specifically, when I run the above code it returns just the letter H. Is there a workaround (or better yet a legitimate way to do it that I missed) to get the DAL working with JSON?</p>\n"}, {"tags": ["python", "pandas", "transpose"], "answers": [{"tags": [], "owner": {"reputation": 554, "user_id": 1908693, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f44e35bc57ad06191b366cfdb8e00314?s=128&d=identicon&r=PG", "display_name": "Mihkorz", "link": "https://stackoverflow.com/users/1908693/mihkorz"}, "is_accepted": true, "score": 3, "last_activity_date": 1479939216, "creation_date": 1479939216, "answer_id": 40775010, "question_id": 40774954, "link": "https://stackoverflow.com/questions/40774954/emptydataerror-while-writing-and-reading-from-temporary-file-in-python/40775010#40775010", "title": "EmptyDataError while writing and reading from temporary file in Python", "body": "<p>Try this - it will return to the top of the file:</p>\n\n<pre><code>file.seek(0)\n</code></pre>\n"}], "owner": {"reputation": 135, "user_id": 4274179, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/5d9d0534bfaf5f73cf7e329f8941ed29?s=128&d=identicon&r=PG&f=1", "display_name": "Maulik Upadhyay", "link": "https://stackoverflow.com/users/4274179/maulik-upadhyay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1090, "favorite_count": 0, "accepted_answer_id": 40775010, "answer_count": 1, "score": 1, "last_activity_date": 1479939216, "creation_date": 1479938938, "question_id": 40774954, "link": "https://stackoverflow.com/questions/40774954/emptydataerror-while-writing-and-reading-from-temporary-file-in-python", "title": "EmptyDataError while writing and reading from temporary file in Python", "body": "<p>I am converting one file format into another file format by creating a temporary intermediate file. Following are my codes:</p>\n\n<pre><code>import tempfile\nimport pandas as pd\nfrom pandas import DataFrame\ndef convert_binary_step1(file1,file2,file3):\n   source=open(file1)\n   SampleList=convert_file_to_list(file2)\n   dest=open(file3,'w')\n   ti= tempfile.NamedTemporaryFile(delete=False)\n   l=[]    \n   for line in source:\n      a=line.split()\n      del a[-1]\n      for i in range(len(SampleList)):\n          if SampleList[i] in a:\n                 l.append(\"1\")\n          else:\n                 l.append(\"0\")\n     data=a[0]+\"\\t\"+\"\\t\".join(l)+\"\\n\"\n     ti.write(data.encode(\"utf-8\"))\n     del l[:]\n  source1=pd.read_csv(ti,sep=\"\\t\",encoding='utf-8',header=None)\n  dest=source1.transpose()\n  dest.to_csv(file3,sep=\"\\t\",header=None,index=None)\n  source.close()\n  dest.close()\n  ti.close()\ndef convert_file_to_list(file2):\n  source11=open(file2)\n  li=[]\n  for lin in source11:\n      b=lin.split()\n      li+=[b[0]]\n  return li\n  source11.close()\n</code></pre>\n\n<p>However, codes are generating the error-<strong>EmptyDataError: No columns to parse from file</strong>. </p>\n"}, {"tags": ["python", "rdf", "virtuoso"], "comments": [{"owner": {"reputation": 1829, "user_id": 4921673, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/o4nVl.jpg?s=128&g=1", "display_name": "raeX", "link": "https://stackoverflow.com/users/4921673/raex"}, "edited": false, "score": 1, "creation_date": 1479944292, "post_id": 40774932, "comment_id": 68775519, "body": "i am facing the same problem!!! exactly the same, and after some reaserch i believe that Virtuosois somehow is unknowing to RDFLib.  If you  figure it out plz post an answer , i will do the same."}, {"owner": {"reputation": 1829, "user_id": 4921673, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/o4nVl.jpg?s=128&g=1", "display_name": "raeX", "link": "https://stackoverflow.com/users/4921673/raex"}, "edited": false, "score": 1, "creation_date": 1480002906, "post_id": 40774932, "comment_id": 68803223, "body": "After some reaserch, I found this <a href=\"https://github.com/juanique/python-virtuoso\" rel=\"nofollow noreferrer\">Virtuoso wrapper library for python</a>. I have to try it out first but I believe this will do the work!"}, {"owner": {"reputation": 8217, "user_id": 241164, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c827c7be0a2d3dc7e4732934f62aa9a?s=128&d=identicon&r=PG", "display_name": "TallTed", "link": "https://stackoverflow.com/users/241164/tallted"}, "edited": false, "score": 1, "creation_date": 1480346183, "post_id": 40774932, "comment_id": 68911873, "body": "Have you seen these <a href=\"https://github.com/maparent/virtuoso-python\" rel=\"nofollow noreferrer\">RDFLib and SQLAlchemy bindings for Virtuoso</a>, last updated in September 2016?"}, {"owner": {"reputation": 24922, "user_id": 1312080, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/ORKi0.jpg?s=128&g=1", "display_name": "amphibient", "link": "https://stackoverflow.com/users/1312080/amphibient"}, "edited": false, "score": 0, "creation_date": 1480358289, "post_id": 40774932, "comment_id": 68919027, "body": "I am having problems installing python-virtuoso that are encapsulated by <a href=\"http://stackoverflow.com/questions/40850108/python-module-from-github-installed-using-setup-py-cant-see-own-submodules/40850171#40850171\">this post</a>, in case you are able to chime in."}, {"owner": {"reputation": 24922, "user_id": 1312080, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/ORKi0.jpg?s=128&g=1", "display_name": "amphibient", "link": "https://stackoverflow.com/users/1312080/amphibient"}, "reply_to_user": {"reputation": 8217, "user_id": 241164, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c827c7be0a2d3dc7e4732934f62aa9a?s=128&d=identicon&r=PG", "display_name": "TallTed", "link": "https://stackoverflow.com/users/241164/tallted"}, "edited": false, "score": 0, "creation_date": 1480360398, "post_id": 40774932, "comment_id": 68920148, "body": "@TallTed, i got exceptions when running <code>python setup.py install</code>"}, {"owner": {"reputation": 8217, "user_id": 241164, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c827c7be0a2d3dc7e4732934f62aa9a?s=128&d=identicon&r=PG", "display_name": "TallTed", "link": "https://stackoverflow.com/users/241164/tallted"}, "edited": false, "score": 0, "creation_date": 1480363059, "post_id": 40774932, "comment_id": 68921593, "body": "No-one can help resolve exceptions, unless you include the text of same\u2026 Maybe in a new question, maybe in an issue on the project, maybe in a message to a project mailing list\u2026 Totally guessing, you may need to adjust some PATH or similar settings in your environment."}, {"owner": {"reputation": 24922, "user_id": 1312080, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/ORKi0.jpg?s=128&g=1", "display_name": "amphibient", "link": "https://stackoverflow.com/users/1312080/amphibient"}, "edited": false, "score": 0, "creation_date": 1480363830, "post_id": 40774932, "comment_id": 68921978, "body": "i think the problem is that those libraries were written with an older version of Python and I am using 3.5 and they are not forward compatible"}, {"owner": {"reputation": 24922, "user_id": 1312080, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/ORKi0.jpg?s=128&g=1", "display_name": "amphibient", "link": "https://stackoverflow.com/users/1312080/amphibient"}, "edited": false, "score": 0, "creation_date": 1480364040, "post_id": 40774932, "comment_id": 68922061, "body": "for example, they use <code>print</code> without parenths etc"}], "answers": [{"comments": [{"owner": {"reputation": 1829, "user_id": 4921673, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/o4nVl.jpg?s=128&g=1", "display_name": "raeX", "link": "https://stackoverflow.com/users/4921673/raex"}, "edited": false, "score": 0, "creation_date": 1480003063, "post_id": 40790008, "comment_id": 68803324, "body": "the pluginException is seeing when using the first module."}], "tags": [], "owner": {"reputation": 126, "user_id": 3377118, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93d7055aebbbff3964c79558a49fb611?s=128&d=identicon&r=PG&f=1", "display_name": "HughWilliams", "link": "https://stackoverflow.com/users/3377118/hughwilliams"}, "is_accepted": false, "score": 3, "last_activity_date": 1480001266, "creation_date": 1480001266, "answer_id": 40790008, "question_id": 40774932, "link": "https://stackoverflow.com/questions/40774932/how-to-access-virtuoso-rdf-store-from-python/40790008#40790008", "title": "How to access Virtuoso RDF store from Python?", "body": "<p>There is the following Python module for Virtuoso:</p>\n\n<p><a href=\"http://pythonhosted.org/virtuoso/\" rel=\"nofollow noreferrer\">http://pythonhosted.org/virtuoso/</a></p>\n\n<p>and also:</p>\n\n<p><a href=\"http://kidehen.typepad.com/kingsley_idehens_typepad/2011/01/sparql-guide-for-python-developer.html\" rel=\"nofollow noreferrer\">http://kidehen.typepad.com/kingsley_idehens_typepad/2011/01/sparql-guide-for-python-developer.html</a></p>\n"}], "owner": {"reputation": 24922, "user_id": 1312080, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/ORKi0.jpg?s=128&g=1", "display_name": "amphibient", "link": "https://stackoverflow.com/users/1312080/amphibient"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1824, "favorite_count": 0, "answer_count": 1, "score": 4, "last_activity_date": 1546687871, "creation_date": 1479938867, "last_edit_date": 1480001476, "question_id": 40774932, "link": "https://stackoverflow.com/questions/40774932/how-to-access-virtuoso-rdf-store-from-python", "title": "How to access Virtuoso RDF store from Python?", "body": "<p>I would like to access <code>Virtuoso</code> RDF store from <code>Python</code> much like I do Postgres using <code>psycopg</code>. After some googling, I came to the this page but I couldn't get either <code>SQLAlchemy</code>  </p>\n\n<pre><code>sqlalchemy.exc.NoSuchModuleError: Can't load plugin: sqlalchemy.dialects:virtuoso\n</code></pre>\n\n<p>or <code>RDFLib</code></p>\n\n<pre><code>rdflib.plugin.PluginException: No plugin registered for (Virtuoso, &lt;class 'rdflib.store.Store'&gt;)\n</code></pre>\n\n<p>to work. Any idea how to get either one to work so I can query and update RDF data from Python?</p>\n"}, {"tags": ["python", "odometer"], "comments": [{"owner": {"reputation": 3125, "user_id": 2878796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8bxWv.png?s=128&g=1", "display_name": "UnholySheep", "link": "https://stackoverflow.com/users/2878796/unholysheep"}, "edited": false, "score": 0, "creation_date": 1479938956, "post_id": 40774921, "comment_id": 68773773, "body": "And what is your question? What&#39;s the problem with the code?"}, {"owner": {"reputation": 715, "user_id": 3610102, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/999d4ac2d47c4de912caa36f13f9eb38?s=128&d=identicon&r=PG&f=1", "display_name": "Chirality", "link": "https://stackoverflow.com/users/3610102/chirality"}, "reply_to_user": {"reputation": 3125, "user_id": 2878796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8bxWv.png?s=128&g=1", "display_name": "UnholySheep", "link": "https://stackoverflow.com/users/2878796/unholysheep"}, "edited": false, "score": 0, "creation_date": 1479939060, "post_id": 40774921, "comment_id": 68773797, "body": "@UnholySheep I think he wants to know how to write a number in base 4. Beyond that I&#39;m not too sure."}, {"owner": {"reputation": 13, "user_id": 7202457, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/edce6be8bccb83c679782efd070ce28f?s=128&d=identicon&r=PG&f=1", "display_name": "Normy", "link": "https://stackoverflow.com/users/7202457/normy"}, "reply_to_user": {"reputation": 3125, "user_id": 2878796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8bxWv.png?s=128&g=1", "display_name": "UnholySheep", "link": "https://stackoverflow.com/users/2878796/unholysheep"}, "edited": false, "score": 0, "creation_date": 1479940276, "post_id": 40774921, "comment_id": 68774257, "body": "@UnholySheep I am not quite sure how to proceed.  Of course my code does not work but I hope it shows how I am thinking about it.  I want some guidance as I am new to coding."}, {"owner": {"reputation": 1408, "user_id": 3251540, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/PbLpq.jpg?s=128&g=1", "display_name": "AER", "link": "https://stackoverflow.com/users/3251540/aer"}, "edited": false, "score": 0, "creation_date": 1479940321, "post_id": 40774921, "comment_id": 68774276, "body": "Do you want to print all the numbers in that order or as one array?"}, {"owner": {"reputation": 13, "user_id": 7202457, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/edce6be8bccb83c679782efd070ce28f?s=128&d=identicon&r=PG&f=1", "display_name": "Normy", "link": "https://stackoverflow.com/users/7202457/normy"}, "reply_to_user": {"reputation": 1408, "user_id": 3251540, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/PbLpq.jpg?s=128&g=1", "display_name": "AER", "link": "https://stackoverflow.com/users/3251540/aer"}, "edited": false, "score": 0, "creation_date": 1479940618, "post_id": 40774921, "comment_id": 68774389, "body": "@AER I want to modify the odom array and just print it each time, in that order."}, {"owner": {"reputation": 528, "user_id": 5153946, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/J4cXX.jpg?s=128&g=1", "display_name": "George Bou", "link": "https://stackoverflow.com/users/5153946/george-bou"}, "edited": false, "score": 0, "creation_date": 1479941568, "post_id": 40774921, "comment_id": 68774666, "body": "I have worked on it. But so far i can only generate a list of the numbers you need in ascending order and without the leading zeros..."}], "answers": [{"comments": [{"owner": {"reputation": 528, "user_id": 5153946, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/J4cXX.jpg?s=128&g=1", "display_name": "George Bou", "link": "https://stackoverflow.com/users/5153946/george-bou"}, "edited": false, "score": 0, "creation_date": 1479941216, "post_id": 40775390, "comment_id": 68774557, "body": "I think the program must work for N digit numbers. 4 was only an example"}, {"owner": {"reputation": 13, "user_id": 7202457, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/edce6be8bccb83c679782efd070ce28f?s=128&d=identicon&r=PG&f=1", "display_name": "Normy", "link": "https://stackoverflow.com/users/7202457/normy"}, "reply_to_user": {"reputation": 528, "user_id": 5153946, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/J4cXX.jpg?s=128&g=1", "display_name": "George Bou", "link": "https://stackoverflow.com/users/5153946/george-bou"}, "edited": false, "score": 0, "creation_date": 1479941451, "post_id": 40775390, "comment_id": 68774629, "body": "@GeorgeBou You&#39;re correct.  Although the code above does work by changing the arguments of the odo function, I am not exactly sure what the function does.  I&#39;ll do some research into the contents of the function above."}, {"owner": {"reputation": 1624, "user_id": 2461854, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/47e730b86ab52e2857d82e1f3d9d6a43?s=128&d=identicon&r=PG", "display_name": "Tom Malkin", "link": "https://stackoverflow.com/users/2461854/tom-malkin"}, "reply_to_user": {"reputation": 528, "user_id": 5153946, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/J4cXX.jpg?s=128&g=1", "display_name": "George Bou", "link": "https://stackoverflow.com/users/5153946/george-bou"}, "edited": false, "score": 0, "creation_date": 1479941488, "post_id": 40775390, "comment_id": 68774636, "body": "@GeorgeBou you can change the parameters in odo: odo(number of digits, base)"}, {"owner": {"reputation": 1624, "user_id": 2461854, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/47e730b86ab52e2857d82e1f3d9d6a43?s=128&d=identicon&r=PG", "display_name": "Tom Malkin", "link": "https://stackoverflow.com/users/2461854/tom-malkin"}, "reply_to_user": {"reputation": 13, "user_id": 7202457, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/edce6be8bccb83c679782efd070ce28f?s=128&d=identicon&r=PG&f=1", "display_name": "Normy", "link": "https://stackoverflow.com/users/7202457/normy"}, "edited": false, "score": 0, "creation_date": 1479941756, "post_id": 40775390, "comment_id": 68774731, "body": "@Normy the generator function just represents the reverse of the number in base 10 (x), and while the base 4 version of x is less than or equal to numdigits in length, it yields the reverse of the number with calculated padding (leading 0s)"}], "tags": [], "owner": {"reputation": 1624, "user_id": 2461854, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/47e730b86ab52e2857d82e1f3d9d6a43?s=128&d=identicon&r=PG", "display_name": "Tom Malkin", "link": "https://stackoverflow.com/users/2461854/tom-malkin"}, "is_accepted": false, "score": 0, "last_activity_date": 1479941107, "creation_date": 1479941107, "answer_id": 40775390, "question_id": 40774921, "link": "https://stackoverflow.com/questions/40774921/three-digit-size-n-odometer/40775390#40775390", "title": "Three digit size N odometer", "body": "<p>The order of your example doesn't seem to be correct given that it starts by incrementing the first digit by one but it ends by incrementing the last digit by one. Assuming you just want to increase the first digit by 1 in base 4 with 4 digits (change the print if you're using python 2)</p>\n\n<pre><code>import numpy as np\n\ndef odo(numdigits, maxdigit):\n    x = 1\n    while len(np.base_repr(x, base=maxdigit)) &lt;= numdigits:\n        padding = numdigits - len(np.base_repr(x, base=maxdigit))\n        yield np.base_repr(x, base=maxdigit, padding=padding)[::-1]\n        x += 1\n\nfor x in odo(4, 4):\n    print(x)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 153402, "user_id": 1204143, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/5ca341b160687d99b1317859f91054ee?s=128&d=identicon&r=PG", "display_name": "nneonneo", "link": "https://stackoverflow.com/users/1204143/nneonneo"}, "is_accepted": false, "score": 1, "last_activity_date": 1479941866, "last_edit_date": 1479941866, "creation_date": 1479941400, "answer_id": 40775444, "question_id": 40774921, "link": "https://stackoverflow.com/questions/40774921/three-digit-size-n-odometer/40775444#40775444", "title": "Three digit size N odometer", "body": "<p>The easy way is to just use <code>itertools.product</code>:</p>\n\n<pre><code>import itertools\nfor odom in itertools.product('0123', repeat=4):\n    print ''.join(odom)\n</code></pre>\n\n<p>If you need to increment the first digit first, you can use <code>''.join(odom)[::-1]</code> instead.</p>\n"}, {"comments": [{"owner": {"reputation": 1408, "user_id": 3251540, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/PbLpq.jpg?s=128&g=1", "display_name": "AER", "link": "https://stackoverflow.com/users/3251540/aer"}, "edited": false, "score": 0, "creation_date": 1479944529, "post_id": 40775837, "comment_id": 68775589, "body": "Beat me to it. Legendary answer. +1 for recursion."}], "tags": [], "owner": {"reputation": 19530, "user_id": 2823755, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vCEUU.png?s=128&g=1", "display_name": "wwii", "link": "https://stackoverflow.com/users/2823755/wwii"}, "is_accepted": true, "score": 1, "last_activity_date": 1479967301, "last_edit_date": 1479967301, "creation_date": 1479943826, "answer_id": 40775837, "question_id": 40774921, "link": "https://stackoverflow.com/questions/40774921/three-digit-size-n-odometer/40775837#40775837", "title": "Three digit size N odometer", "body": "<pre><code>def foo(n, digits = 4):\n    if digits == 0:\n        return ''\n    msb, lsb = divmod(n, 4)\n    return str(lsb) + foo(msb, digits - 1)\n\nresult = []\nnumber_of_digits = 4\nmaxn = sum(3 * pow(number_of_digits,n) for n in range(number_of_digits))\n\nfor n in range(maxn + 1):\n    result.append(foo(n, number_of_digits))\n</code></pre>\n\n<hr>\n\n<pre><code>result = [foo(n, number_of_digits) for n in range(maxn + 1)]\n\nfoo_4 = functools.partial(foo, digits=4)\nresult = list(map(foo_4, range(maxn + 1)))\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 7202457, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/edce6be8bccb83c679782efd070ce28f?s=128&d=identicon&r=PG&f=1", "display_name": "Normy", "link": "https://stackoverflow.com/users/7202457/normy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1341, "favorite_count": 1, "accepted_answer_id": 40775837, "answer_count": 3, "score": 1, "last_activity_date": 1479967301, "creation_date": 1479938828, "question_id": 40774921, "link": "https://stackoverflow.com/questions/40774921/three-digit-size-n-odometer", "title": "Three digit size N odometer", "body": "<p>I want to generate all possible outputs of a list of size N that acts as a 3 digit odometer.  For example, if N = 4, I want the following output:</p>\n\n<p>0000\n1000\n2000\n3000\n0100\n1100\n...\n3332\n3333.</p>\n\n<p>Here is my code, any help is much appreciated!</p>\n\n<pre><code>odom = [0]*N  ## initialize odometer\nprint odom\nwhile odom[N-1] &lt;= 3:\n    idx = 1\n    odom[0] += 1\n    if odom[0] &gt; 3:\n        while odom[idx] &gt; 3:\n            idx += 1\n        for i in range(idx):\n            odom[i] = 0\n    print odom\n</code></pre>\n"}, {"tags": ["python", "python-2.7", "mpmath"], "comments": [{"owner": {"reputation": 3076, "user_id": 3783002, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/06d56953a61cb745cc8c7755fe0a0b37?s=128&d=identicon&r=PG&f=1", "display_name": "user32882", "link": "https://stackoverflow.com/users/3783002/user32882"}, "edited": false, "score": 0, "creation_date": 1501771649, "post_id": 40774915, "comment_id": 77936291, "body": "How did you install <code>mpmath</code>? I installed it using <code>pip</code> but it doesn&#39;t recognize the <code>invertlaplace</code> function"}, {"owner": {"reputation": 301, "user_id": 457808, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/37bc10b58d205d3355ec4e2421ef11f0?s=128&d=identicon&r=PG", "display_name": "Kris Kuhlman", "link": "https://stackoverflow.com/users/457808/kris-kuhlman"}, "edited": false, "score": 0, "creation_date": 1529099331, "post_id": 40774915, "comment_id": 88768296, "body": "this error (and several others) have been fixed, and this has been merged with the main version of mpmath (see version 1.0) <a href=\"http://mpmath.org/doc/current/calculus/inverselaplace.html\" rel=\"nofollow noreferrer\">mpmath.org/doc/current/calculus/inverselaplace.html</a>"}], "answers": [{"comments": [{"owner": {"reputation": 63, "user_id": 7202421, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/644b8875004b2c8c2f01ce46022b3860?s=128&d=identicon&r=PG&f=1", "display_name": "Jafar", "link": "https://stackoverflow.com/users/7202421/jafar"}, "edited": false, "score": 0, "creation_date": 1480015598, "post_id": 40776513, "comment_id": 68809040, "body": "The thing you said solved the problem. Here is another issue. The DE HOOG method is one of the fast algorithm for the Laplace inverse transform but if I increase the number of steps in the time for example to 20 steps :  t = np.linspace(1,2,20) then the code never stops running. You can try that. Is there any way to resolve this issue?"}], "tags": [], "owner": {"reputation": 727, "user_id": 7120903, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QDvo0.jpg?s=128&g=1", "display_name": "Mark Hannel", "link": "https://stackoverflow.com/users/7120903/mark-hannel"}, "is_accepted": true, "score": 2, "last_activity_date": 1480098175, "last_edit_date": 1480098175, "creation_date": 1479948882, "answer_id": 40776513, "question_id": 40774915, "link": "https://stackoverflow.com/questions/40774915/laplace-inverse-in-python-with-mpmath/40776513#40776513", "title": "Laplace inverse in Python with mpmath", "body": "<p>The object <code>InverseLaplaceTransform</code> has an attribute <code>degrees</code> that dictates the levels of approximation necessary to achieve a given level of precision. Your copy of <code>InverseLaplaceTransform</code> updates <code>degrees</code> each time you call it with a smaller and smaller value. Eventually, <code>degrees</code> is so small the parameter <code>fp</code> has only one value, which is not enough to continue with further calculations. </p>\n\n<p>Solution: edit your call to <code>invlapdehoog</code> to reset degrees each time. I suggest however calling <code>invertlaplace</code> directly rather than <code>invlapdehoog</code>.</p>\n\n<pre><code>for i in xrange(0,10):\n    G.append(mp.invertlaplace(f, t[i], method = 'dehoog', degree = 18))\n</code></pre>\n\n<p><strong>Edit:</strong>\nThe original poster asked a related question in the comments to this solution. They asked why the computation time increases (quite drastically) with consecuitve calls to <code>mp.invertlaplace</code>. In short, the <code>mp.invertlaplace</code> is updating its attribute precision which dictates how many decimal places it should compute in calculating the inverse laplace. As with the above solution, we can pass in precision to each call to make sure we obtain the precision we want (eg - 10 decimal places):</p>\n\n<pre><code>for i in xrange(0,10):\n    G.append(mp.invertlaplace(f, t[i], method = 'dehoog', dps = 10, degree = 18))\n</code></pre>\n\n<p>PS - you can apply the inverse laplace to all of t at once with the following snippet:</p>\n\n<pre><code>G = map( lambda x: mp.invertlaplace(f, x, method = 'dehoog', dps = 10, degree = 18), t)\n</code></pre>\n"}], "owner": {"reputation": 63, "user_id": 7202421, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/644b8875004b2c8c2f01ce46022b3860?s=128&d=identicon&r=PG&f=1", "display_name": "Jafar", "link": "https://stackoverflow.com/users/7202421/jafar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2179, "favorite_count": 0, "accepted_answer_id": 40776513, "answer_count": 1, "score": 3, "last_activity_date": 1480111854, "creation_date": 1479938801, "last_edit_date": 1480111854, "question_id": 40774915, "link": "https://stackoverflow.com/questions/40774915/laplace-inverse-in-python-with-mpmath", "title": "Laplace inverse in Python with mpmath", "body": "<p>I want to use \"DE HOOG\" algorithm for numerical Laplace inverse transform. I want to use the \"mpmath\" package and I installed it from the link:</p>\n\n<p><a href=\"https://github.com/klkuhlm/mpmath\" rel=\"nofollow noreferrer\">https://github.com/klkuhlm/mpmath</a></p>\n\n<p>Lets say I need to find the inverse Laplace transform of the below function at t=1:</p>\n\n<p>f = 1/(s-1)</p>\n\n<p>The inverse Laplace transform of f is : e^(t)</p>\n\n<p>At t=1 the result is expected to be =  e</p>\n\n<pre><code>import mpmath as mp\nimport numpy as np\n\ndef f(s):\n    return 1 / (s-1)\n\nt = np.linspace(0.01,0.5,10)\n\nG = []\n\nfor i in range(0,4):\n    G.append(mp.invlapdehoog(f, t[i]))\n\nprint G \n</code></pre>\n\n<p>The thing is it works perfectly only when I set the range of the \"i\" less than 4. For example once I substitute:</p>\n\n<pre><code>for i in range(0,5): #or for i in range(0,more than 5):\n</code></pre>\n\n<p>I get this error:</p>\n\n<p><a href=\"https://i.stack.imgur.com/z5eKa.png\" rel=\"nofollow noreferrer\">enter image description here</a>       </p>\n\n<p>Could you please help me fix this problem?</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "edited": false, "score": 1, "creation_date": 1479938695, "post_id": 40774787, "comment_id": 68773680, "body": "<code>X_R.columns = [&#39;Retail&#39;,&#39;Cost&#39;]</code>?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user8864088"}, "edited": false, "score": 2, "creation_date": 1543886056, "post_id": 40774787, "comment_id": 94070916, "body": "how did you get the duplicated column names ?"}], "answers": [{"tags": [], "owner": {"reputation": 554, "user_id": 1908693, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f44e35bc57ad06191b366cfdb8e00314?s=128&d=identicon&r=PG", "display_name": "Mihkorz", "link": "https://stackoverflow.com/users/1908693/mihkorz"}, "is_accepted": true, "score": 9, "last_activity_date": 1479939017, "creation_date": 1479939017, "answer_id": 40774966, "question_id": 40774787, "link": "https://stackoverflow.com/questions/40774787/renaming-columns-in-a-pandas-dataframe-with-duplicate-column-names/40774966#40774966", "title": "Renaming columns in a Pandas dataframe with duplicate column names?", "body": "<pre><code>X_R.columns = ['Retail','Cost']\n</code></pre>\n"}, {"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user8864088"}, "edited": false, "score": 0, "creation_date": 1543885848, "post_id": 40774999, "comment_id": 94070860, "body": "I was wondering how to get the duplicated column names in pandas. Pandas only takes the last column, also if I read the data from file it gives me <code>x x.1 x.2</code>."}, {"owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "edited": false, "score": 0, "creation_date": 1543933896, "post_id": 40774999, "comment_id": 94091053, "body": "@astro123, if you want to preserve duplicates in column names use <code>mangle_dupe_cols=False</code> parameter. <code>df.columns[df.columns.duplicated()]</code> - will give you duplicated column names"}], "tags": [], "owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "is_accepted": false, "score": 15, "last_activity_date": 1479939128, "creation_date": 1479939128, "answer_id": 40774999, "question_id": 40774787, "link": "https://stackoverflow.com/questions/40774787/renaming-columns-in-a-pandas-dataframe-with-duplicate-column-names/40774999#40774999", "title": "Renaming columns in a Pandas dataframe with duplicate column names?", "body": "<p>Here is a dynamic solution:</p>\n\n<pre><code>In [59]: df\nOut[59]:\n   a  x  x  x  z\n0  6  2  7  7  8\n1  6  6  3  1  1\n2  6  6  7  5  6\n3  8  3  6  1  8\n4  5  7  5  3  0\n\nIn [60]: d\nOut[60]: {'x': ['x1', 'x2', 'x3']}\n\nIn [61]: df.rename(columns=lambda c: d[c].pop(0) if c in d.keys() else c)\nOut[61]:\n   a  x1  x2  x3  z\n0  6   2   7   7  8\n1  6   6   3   1  1\n2  6   6   7   5  6\n3  8   3   6   1  8\n4  5   7   5   3  0\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 73, "user_id": 4163201, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-en-L_52FTHU/AAAAAAAAAAI/AAAAAAAAKOw/0uTtGYksU4Y/photo.jpg?sz=128", "display_name": "beep_check", "link": "https://stackoverflow.com/users/4163201/beep-check"}, "edited": false, "score": 0, "creation_date": 1570738247, "post_id": 46332739, "comment_id": 103018726, "body": "thanks for this;  i was able to use this to rename columns before doing a column drop... which apparently has trouble with duplicate column names?"}], "tags": [], "owner": {"reputation": 3863, "user_id": 1158990, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/75c96a358578ef004ae24e4204e9cd0b?s=128&d=identicon&r=PG", "display_name": "gbtimmon", "link": "https://stackoverflow.com/users/1158990/gbtimmon"}, "is_accepted": false, "score": 11, "last_activity_date": 1505946973, "creation_date": 1505946973, "answer_id": 46332739, "question_id": 40774787, "link": "https://stackoverflow.com/questions/40774787/renaming-columns-in-a-pandas-dataframe-with-duplicate-column-names/46332739#46332739", "title": "Renaming columns in a Pandas dataframe with duplicate column names?", "body": "<p>Here is another dynamic solution that I think is nicer</p>\n\n<pre><code>In [59]: df\nOut[59]:\n   a  x  x  x  z\n0  6  2  7  7  8\n1  6  6  3  1  1\n2  6  6  7  5  6\n3  8  3  6  1  8\n4  5  7  5  3  0\nIn [61]: class renamer():\n             def __init__(self):\n                  self.d = dict()\n\n              def __call__(self, x):\n                  if x not in self.d:\n                      self.d[x] = 0\n                      return x\n                  else:\n                      self.d[x] += 1\n                      return \"%s_%d\" % (x, self.d[x])\n\n          df.rename(columns=renamer())\nOut[61]:\n   a  x  x_1  x_2  z\n0  6   2   7   7  8\n1  6   6   3   1  1\n2  6   6   7   5  6\n3  8   3   6   1  8\n4  5   7   5   3  0\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 708, "user_id": 3364939, "user_type": "registered", "profile_image": "https://graph.facebook.com/533133733/picture?type=large", "display_name": "Benedictanjw", "link": "https://stackoverflow.com/users/3364939/benedictanjw"}, "is_accepted": false, "score": 3, "last_activity_date": 1598931531, "last_edit_date": 1598931531, "creation_date": 1589727409, "answer_id": 61853830, "question_id": 40774787, "link": "https://stackoverflow.com/questions/40774787/renaming-columns-in-a-pandas-dataframe-with-duplicate-column-names/61853830#61853830", "title": "Renaming columns in a Pandas dataframe with duplicate column names?", "body": "<p><a href=\"https://stackoverflow.com/a/40774999/3364939\">MaxU's answer</a> helped me with this same problem. In this answer, I add in a way to find those duplicated column headers.</p>\n<p>First, we make a dictionary of the duplicated column names with values corresponding to the desired new column names. For this, the <a href=\"https://docs.python.org/3/library/collections.html#defaultdict-objects\" rel=\"nofollow noreferrer\">defaultdict</a> subclass is required.</p>\n<pre><code>import pandas as pd\nfrom collections import defaultdict\n\nrenamer = defaultdict()\n</code></pre>\n<p>We iterate over the duplicated column names to create a dictionary with keys being the duplicated column name and values being a list of new column names. I have chosen this list to be original name_0, original name_1, and so on.</p>\n<pre><code>for column_name in df.columns[df.columns.duplicated(keep=False)].tolist():\n    if column_name not in renamer:\n        renamer[column_name] = [column_name+'_0']\n    else:\n        renamer[column_name].append(column_name +'_'+str(len(renamer[column_name])))\n\nprint(renamer)\ndefaultdict(None, {'b': ['b_0', 'b_1', 'b_2', 'b_3'], 'c': ['c_0', 'c_1']})\n</code></pre>\n<p>Original dataframe:</p>\n<pre><code>print(df)\n        a   b   b   b   b   c   c   d\nItem 0  2   1   0   2   8   3   9   5\nItem 1  3   2   7   3   5   4   6   2\nItem 2  4   3   8   1   5   7   4   4\nItem 3  5   5   3   6   0   5   2   5\n</code></pre>\n<p>Rename the duplicated columns by assigning the new names from our renamer defaultdict, leaving the unduplicated columns alone</p>\n<pre><code>df.rename(\n    columns=lambda column_name: renamer[column_name].pop(0)\n    if column_name in renamer \n    else column_name\n)\n        a   b_0 b_1 b_2 b_3 c_0 c_1 d\nItem 0  2   1   0   2   8   3   9   5\nItem 1  3   2   7   3   5   4   6   2\nItem 2  4   3   8   1   5   7   4   4\nItem 3  5   5   3   6   0   5   2   5\n</code></pre>\n<p>(As a sidenote, a couple of people have questioned why duplicated column names existed in the first place. For myself, I encountered duplicated column names when importing with the <a href=\"https://docs.xlwings.org/en/stable/quickstart.html\" rel=\"nofollow noreferrer\">xlwings</a> package (to deal with password-protected Excel files). You could also inadvertently create duplicate column names by using <code>pd.concat</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 196, "user_id": 6780097, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d063cf37c19ed2e79cb55417269f370?s=128&d=identicon&r=PG&f=1", "display_name": "n49o7", "link": "https://stackoverflow.com/users/6780097/n49o7"}, "is_accepted": false, "score": 3, "last_activity_date": 1609941658, "creation_date": 1609941658, "answer_id": 65597162, "question_id": 40774787, "link": "https://stackoverflow.com/questions/40774787/renaming-columns-in-a-pandas-dataframe-with-duplicate-column-names/65597162#65597162", "title": "Renaming columns in a Pandas dataframe with duplicate column names?", "body": "<p>Not directly an answer, but since this a top search result, here is a short and flexible solution to append a suffix to duplicate column names:</p>\n<pre><code># A dataframe with duplicated column names\ndf = pd.DataFrame([[1, 2, 3],\n                   [4, 5, 6],\n                   [7, 8, 9]])\ndf.columns = ['a', 'b', 'b']\n\n# Columns to not rename\nexcluded = df.columns[~df.columns.duplicated(keep=False)]\n\n# An incrementer\nimport itertools\ninc = itertools.count().__next__\n\n# A renamer\ndef ren(name):\n    return f&quot;{name}{inc()}&quot; if name not in excluded else name\n\n# Use inside rename()\ndf.rename(columns=ren)\n</code></pre>\n<p>\u00a0</p>\n<pre><code>    a   b   b              a  b0  b1\n0   1   2   3          0   1   2   3\n1   4   5   6    =&gt;    1   4   5   6\n2   7   8   8          2   7   8   9\n</code></pre>\n"}], "owner": {"reputation": 1957, "user_id": 3967806, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/a9af47ca60fc2cfa1303a337a625265c?s=128&d=identicon&r=PG&f=1", "display_name": "Alex Kinman", "link": "https://stackoverflow.com/users/3967806/alex-kinman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 21109, "favorite_count": 3, "accepted_answer_id": 40774966, "answer_count": 5, "score": 13, "last_activity_date": 1609941658, "creation_date": 1479938224, "question_id": 40774787, "link": "https://stackoverflow.com/questions/40774787/renaming-columns-in-a-pandas-dataframe-with-duplicate-column-names", "title": "Renaming columns in a Pandas dataframe with duplicate column names?", "body": "<p>I have a df X with columns with duplicate names: </p>\n\n<pre><code>In [77]: X_R\nOut[77]: \n      dollars  dollars\n   0   0.7085   0.5000\n</code></pre>\n\n<p>I want to rename it so that I have: </p>\n\n<pre><code>In [77]: X_R\nOut[77]: \n       Retail   Cost\n   0   0.7085   0.5000\n</code></pre>\n\n<p>Using the Pandas rename function does' work: </p>\n\n<pre><code>X_R.rename(index=str, columns={\"dollars\": \"Retail\", \"dollars\": \"Cost\"})\n</code></pre>\n\n<p>Just gives me two columns named Cost. </p>\n\n<p>How can I rename the columns in this case? </p>\n"}, {"tags": ["python", "django", "django-rest-framework"], "comments": [{"owner": {"reputation": 15076, "user_id": 2549021, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vHZn6.png?s=128&g=1", "display_name": "AKS", "link": "https://stackoverflow.com/users/2549021/aks"}, "edited": false, "score": 2, "creation_date": 1481178407, "post_id": 40774786, "comment_id": 69273434, "body": "Have a look at this question: <a href=\"http://stackoverflow.com/questions/17256724/include-intermediary-through-model-in-responses-in-django-rest-framework\" title=\"include intermediary through model in responses in django rest framework\">stackoverflow.com/questions/17256724/&hellip;</a>. The accepted answer is what you are looking for."}, {"owner": {"reputation": 15076, "user_id": 2549021, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vHZn6.png?s=128&g=1", "display_name": "AKS", "link": "https://stackoverflow.com/users/2549021/aks"}, "edited": false, "score": 0, "creation_date": 1481376472, "post_id": 40774786, "comment_id": 69358453, "body": "Did the post in the above comment not help you find an answer?"}], "answers": [{"tags": [], "owner": {"reputation": 7473, "user_id": 5231877, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/A6ERH.jpg?s=128&g=1", "display_name": "Ivan Semochkin", "link": "https://stackoverflow.com/users/5231877/ivan-semochkin"}, "is_accepted": true, "score": 2, "last_activity_date": 1481721326, "creation_date": 1481721326, "answer_id": 41143604, "question_id": 40774786, "link": "https://stackoverflow.com/questions/40774786/django-serializing-model-with-custom-many-to-many-mapping/41143604#41143604", "title": "Django serializing model with custom many to many mapping", "body": "<p>You could write serializer for <code>EntityToAlertMap</code>  </p>\n\n<pre><code>class EntityToAlertMap(serializers.ModelSerializer):\n    class Meta:\n        model = EntityToAlertMap\n        fields = ('entity', 'distinct_alert', 'entity_alert_relationship_label')\n</code></pre>\n\n<p>Then you retrieve all related <code>EntityToAlertMap</code> instances via related manager</p>\n\n<pre><code>class DistinctAlertSerializer(serializers.ModelSerializer):\n    entities = EntitySerializer(many=True)\n    entity_to_alert_map = EntityToAlertMap(source='entitytoalertmap_set', many=True)\n\n    class Meta:\n        model = DistinctAlert\n        fields = ('id', 'entities', 'entity_to_alert_map')\n</code></pre>\n"}], "owner": {"reputation": 8517, "user_id": 1515864, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/j4msy.jpg?s=128&g=1", "display_name": "Stupid.Fat.Cat", "link": "https://stackoverflow.com/users/1515864/stupid-fat-cat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 373, "favorite_count": 1, "accepted_answer_id": 41143604, "answer_count": 1, "score": 3, "last_activity_date": 1481723458, "creation_date": 1479938213, "last_edit_date": 1481723458, "question_id": 40774786, "link": "https://stackoverflow.com/questions/40774786/django-serializing-model-with-custom-many-to-many-mapping", "title": "Django serializing model with custom many to many mapping", "body": "<p>I have three models:</p>\n\n<pre><code>class DistinctAlert(models.Model):\n    entities = models.ManyToManyField(to='Entity', db_index=True, through='EntityToAlertMap')\n\nclass Entity(models.Model):\n    entity_instance = models.ManyToManyField(EntityInstance)\n\nclass EntityToAlertMap(models.Model):\n    entity = models.ForeignKey(Entity, on_delete=models.CASCADE)\n    distinct_alert = models.ForeignKey(DistinctAlert, on_delete=models.CASCADE)\n    entity_alert_relationship_label = models.ForeignKey(EntityAlertRelationshipLabel, on_delete=models.CASCADE,\n                                                        null=True)\n</code></pre>\n\n<p>Disregarding the extra fields <code>DistinctAlert</code> and <code>Entity</code> has, this is what my serializer looks like:</p>\n\n<pre><code>class EntitySerializer(serializers.ModelSerializer):\n    entity_instance = EntityInstanceSerializer(many=True)\n\n    class Meta:\n        model = Entity\n        fields = ('id', 'entity_instance')\n\nclass EntityInstanceSerializer(serializers.ModelSerializer):\n    entity_type = EntityTypeSerializer()\n\n    class Meta:\n        model = EntityInstance\n        fields = ('label', 'entity_type')\n\nclass DistinctAlertSerializer(serializers.ModelSerializer):\n    entities = EntitySerializer(many=True)\n\n    class Meta:\n        model = DistinctAlert\n        #TODO how do I serialize custom mapping?\n        fields = ('id', 'entities')\n</code></pre>\n\n<p>My problem is, with this, my api will return me just the entity, and it misses out the <code>entity_alert_relationship</code> field that's part of the <code>EntityToAlertMap</code> that I'm using to map entities to distinct alerts in a manytomany field. My question is, how can I serialize the <code>DistinctAlert</code> while maintaining the entity/relationship field</p>\n"}, {"tags": ["python", "subprocess", "adb", "wildcard"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 6661331, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/054cfe45f1432097d3268fdb1432a448?s=128&d=identicon&r=PG&f=1", "display_name": "Miraage", "link": "https://stackoverflow.com/users/6661331/miraage"}, "edited": false, "score": 0, "creation_date": 1479938709, "post_id": 40774827, "comment_id": 68773684, "body": "Sorry didnt work: print echo shows: echo 1b7 23 &gt; /d/asoc/*-snd-card*/*_code*/code_reg"}, {"owner": {"reputation": 4421, "user_id": 3789676, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/aUh8k.jpg?s=128&g=1", "display_name": "midori", "link": "https://stackoverflow.com/users/3789676/midori"}, "reply_to_user": {"reputation": 1, "user_id": 6661331, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/054cfe45f1432097d3268fdb1432a448?s=128&d=identicon&r=PG&f=1", "display_name": "Miraage", "link": "https://stackoverflow.com/users/6661331/miraage"}, "edited": false, "score": 0, "creation_date": 1479938746, "post_id": 40774827, "comment_id": 68773697, "body": "Don&#39;t work is not a good explanation. What is the error you&#39;re having?"}, {"owner": {"reputation": 1, "user_id": 6661331, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/054cfe45f1432097d3268fdb1432a448?s=128&d=identicon&r=PG&f=1", "display_name": "Miraage", "link": "https://stackoverflow.com/users/6661331/miraage"}, "edited": false, "score": 0, "creation_date": 1479938837, "post_id": 40774827, "comment_id": 68773732, "body": "Sorry.. first time using Stack Overflow and Hit &quot;enter&quot; by mistake  ideal way echo should look like: echo 1b7 23 &gt; /d/asoc/xyz-snd-card-device45/ffde_code-fffb/code_reg"}, {"owner": {"reputation": 4421, "user_id": 3789676, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/aUh8k.jpg?s=128&g=1", "display_name": "midori", "link": "https://stackoverflow.com/users/3789676/midori"}, "reply_to_user": {"reputation": 1, "user_id": 6661331, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/054cfe45f1432097d3268fdb1432a448?s=128&d=identicon&r=PG&f=1", "display_name": "Miraage", "link": "https://stackoverflow.com/users/6661331/miraage"}, "edited": false, "score": 0, "creation_date": 1479939368, "post_id": 40774827, "comment_id": 68773914, "body": "you use wildcards, so echo will redirect values to all files matching that primitive regex, one of them would be /d/asoc/xyz-snd-card-device45/ffde_code-fffb/code_reg i assume"}, {"owner": {"reputation": 1, "user_id": 6661331, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/054cfe45f1432097d3268fdb1432a448?s=128&d=identicon&r=PG&f=1", "display_name": "Miraage", "link": "https://stackoverflow.com/users/6661331/miraage"}, "edited": false, "score": 0, "creation_date": 1479939414, "post_id": 40774827, "comment_id": 68773932, "body": "Thank you very much for your help. I am very new to this and thus need sometime to understand what is check_call, and why it is not working.. please give me sometime.. thank you"}, {"owner": {"reputation": 1, "user_id": 6661331, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/054cfe45f1432097d3268fdb1432a448?s=128&d=identicon&r=PG&f=1", "display_name": "Miraage", "link": "https://stackoverflow.com/users/6661331/miraage"}, "edited": false, "score": 0, "creation_date": 1479940233, "post_id": 40774827, "comment_id": 68774237, "body": "So.. after much debugging.. seems like I need to get rid of the * in the echo string... C:&gt;adb shell &quot;echo 197 80 &gt; /d/asoc/*-snd-card*/*_code*/code_reg&quot; /system/bin/sh: can&#39;t create /d/asoc/*-snd-card*/*_code*/code_reg: No such file or directory"}, {"owner": {"reputation": 26831, "user_id": 1778421, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HIUgI.png?s=128&g=1", "display_name": "Alex P.", "link": "https://stackoverflow.com/users/1778421/alex-p"}, "edited": false, "score": 0, "creation_date": 1479943853, "post_id": 40774827, "comment_id": 68775393, "body": "@tinySandy, your change makes the python code better but does not address the root cause of the error that Miraage is getting. his python code works just fine... that&#39;s his Android shell code which does not"}, {"owner": {"reputation": 26831, "user_id": 1778421, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HIUgI.png?s=128&g=1", "display_name": "Alex P.", "link": "https://stackoverflow.com/users/1778421/alex-p"}, "edited": false, "score": 0, "creation_date": 1479945047, "post_id": 40774827, "comment_id": 68775744, "body": "because you failed to comprehend the problem before posting an &quot;answer&quot;?"}, {"owner": {"reputation": 4421, "user_id": 3789676, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/aUh8k.jpg?s=128&g=1", "display_name": "midori", "link": "https://stackoverflow.com/users/3789676/midori"}, "edited": false, "score": 0, "creation_date": 1479945262, "post_id": 40774827, "comment_id": 68775784, "body": "if you failed to comprehend my answer doesn&#39;t mean that OP&#39;s code is correct."}], "tags": [], "owner": {"reputation": 4421, "user_id": 3789676, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/aUh8k.jpg?s=128&g=1", "display_name": "midori", "link": "https://stackoverflow.com/users/3789676/midori"}, "is_accepted": false, "score": 0, "last_activity_date": 1479938401, "creation_date": 1479938401, "answer_id": 40774827, "question_id": 40774766, "link": "https://stackoverflow.com/questions/40774766/python-subprocess-call-with-s-and-inside-adb-shell/40774827#40774827", "title": "Python subprocess call with %s and * inside adb shell", "body": "<pre><code>for regs,vals in zip(regLists,valLists):\n    echo = \"echo {} {} &gt; /d/asoc/*-snd-card*/*_code*/code_reg\".format(regs,vals)\n    sp.check_call([\"adb\", \"shell\" , echo])\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 26831, "user_id": 1778421, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HIUgI.png?s=128&g=1", "display_name": "Alex P.", "link": "https://stackoverflow.com/users/1778421/alex-p"}, "edited": false, "score": 0, "creation_date": 1479949731, "post_id": 40776538, "comment_id": 68776784, "body": "again. this code would also fail if your folder name pattern would expand to multiple entries."}], "tags": [], "owner": {"reputation": 1, "user_id": 6661331, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/054cfe45f1432097d3268fdb1432a448?s=128&d=identicon&r=PG&f=1", "display_name": "Miraage", "link": "https://stackoverflow.com/users/6661331/miraage"}, "is_accepted": false, "score": 0, "last_activity_date": 1479949175, "creation_date": 1479949175, "answer_id": 40776538, "question_id": 40774766, "link": "https://stackoverflow.com/questions/40774766/python-subprocess-call-with-s-and-inside-adb-shell/40776538#40776538", "title": "Python subprocess call with %s and * inside adb shell", "body": "<p>Thank you all for the support.\nI will certainly try the for and find option mentioned above to get more familiar with python programming. In the meantime, did more debugging on google and found another working solution as shown below.\nBy using the &amp;&amp; operator, the code works as expected. </p>\n\n<pre><code>sp.call('adb shell \"cd /d/asoc/*snd-card*/*_code* &amp;&amp; echo %s %s &gt; code_reg\"'%(regs,vals), shell=True)\n</code></pre>\n\n<p>PS: I still need to check the difference between sp.call and sp.check_output</p>\n"}], "owner": {"reputation": 1, "user_id": 6661331, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/054cfe45f1432097d3268fdb1432a448?s=128&d=identicon&r=PG&f=1", "display_name": "Miraage", "link": "https://stackoverflow.com/users/6661331/miraage"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 367, "favorite_count": 0, "answer_count": 2, "score": -2, "last_activity_date": 1479949175, "creation_date": 1479938115, "last_edit_date": 1479940078, "question_id": 40774766, "link": "https://stackoverflow.com/questions/40774766/python-subprocess-call-with-s-and-inside-adb-shell", "title": "Python subprocess call with %s and * inside adb shell", "body": "<p>I am learning python and i am loving it how it can help me automate some of my daily routines. I am using google for all my questions and till now I have been very successful. But this time i am really stuck and have already spent 2 days on this.</p>\n\n<p>The below code does not work as there is %s and * in same line</p>\n\n<pre><code>from Tkinter import *\nimport subprocess as sp\nregLists = ['1b7', '1b6', '209', '197']\nvalLists = ['23', '80', 'ab', '73']\nfor regs,vals in zip(regLists,valLists):\n        sp.call('adb shell \"echo %s %s &gt; /d/asoc/*-snd-card*/*_code*/code_reg\"'%(regs,vals), shell=True)\n</code></pre>\n\n<p>Error:</p>\n\n<pre><code>Error: /system/bin/sh: can't create /d/asoc/*-snd-card*/*_code*/code_reg: \nNo such file or directory\n</code></pre>\n\n<ul>\n<li>a) the path name is different for each device</li>\n<li>b) * is used to find the path name inside linux directory</li>\n</ul>\n\n<p>Working Code is shown below as there is no * and the entire path is mentioned</p>\n\n<pre><code>sp.call('adb shell \"echo %s %s &gt; /d/asoc/xyz-snd-card-device45/ffde_code-fffb/code_reg\"'%(regs,vals), shell=True)\n</code></pre>\n\n<p>Please can someone help how i can change the above code so that i can use above code...</p>\n"}, {"tags": ["python", "python-3.x", "lookup-tables"], "answers": [{"comments": [{"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1479938213, "post_id": 40774775, "comment_id": 68773489, "body": "Wouldn&#39;t it be more useful to add this as an answer to the duplicate question you undid?"}, {"owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "reply_to_user": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1479938277, "post_id": 40774775, "comment_id": 68773520, "body": "Sorry, I didn&#39;t mean to do that; but now I can&#39;t find the dupe you used..."}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1479938459, "post_id": 40774775, "comment_id": 68773588, "body": "You can find it in the list of linked questions in the sidebar to the right (above &quot;Related&quot;), or in <a href=\"http://stackoverflow.com/posts/40774655/revisions\">this question&#39;s revisions page</a>."}], "tags": [], "owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "is_accepted": false, "score": 1, "last_activity_date": 1479938162, "creation_date": 1479938162, "answer_id": 40774775, "question_id": 40774655, "link": "https://stackoverflow.com/questions/40774655/look-up-a-string-based-on-a-number-in-a-range/40774775#40774775", "title": "Look up a string based on a number in a range", "body": "<p>You can use <a href=\"https://docs.python.org/3/library/bisect.html\" rel=\"nofollow noreferrer\">bisect</a> for this.</p>\n\n<pre><code>from bisect import bisect\ndef get_rank(score):\n    points = [500, 1000, 1500, 2500, 3000]\n    ranks = [\"Private\", \"Private I\", \"Private II\", \"Private III\", \"Corporal\"]\n    div = bisect(points, score)\n    return ranks[div]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 25, "user_id": 7174311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/31sQl.jpg?s=128&g=1", "display_name": "PhoenixDeFalco", "link": "https://stackoverflow.com/users/7174311/phoenixdefalco"}, "edited": false, "score": 0, "creation_date": 1479995493, "post_id": 40775085, "comment_id": 68798728, "body": "here&#39;s my next question: our rank system doesn&#39;t have a peak points balance; it tops out in rank at Commander, but Commander is actually set at <code>Commander &lt;= 42,000</code>. So does that effect the exception handler that you set in that last bit of code?"}, {"owner": {"reputation": 46776, "user_id": 1014938, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/FqCGF.png?s=128&g=1", "display_name": "Zero Piraeus", "link": "https://stackoverflow.com/users/1014938/zero-piraeus"}, "reply_to_user": {"reputation": 25, "user_id": 7174311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/31sQl.jpg?s=128&g=1", "display_name": "PhoenixDeFalco", "link": "https://stackoverflow.com/users/7174311/phoenixdefalco"}, "edited": false, "score": 0, "creation_date": 1480008466, "post_id": 40775085, "comment_id": 68806152, "body": "@PhoenixDeFalco you can do whatever you like in the <code>except</code> clause; I&#39;ve updated my answer to return the highest rank rather than raise an exception."}, {"owner": {"reputation": 25, "user_id": 7174311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/31sQl.jpg?s=128&g=1", "display_name": "PhoenixDeFalco", "link": "https://stackoverflow.com/users/7174311/phoenixdefalco"}, "edited": false, "score": 0, "creation_date": 1480035294, "post_id": 40775085, "comment_id": 68814494, "body": "i tried your code that you typed, and i get: <code>Traceback (most recent call last):   File &quot;&lt;pyshell#4&gt;&quot;, line 2, in &lt;module&gt;     print(&quot;%5d %s&quot; % (n, get_rank(n))) NameError: name &#39;get_rank&#39; is not defined</code>  how do i fix this?"}, {"owner": {"reputation": 46776, "user_id": 1014938, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/FqCGF.png?s=128&g=1", "display_name": "Zero Piraeus", "link": "https://stackoverflow.com/users/1014938/zero-piraeus"}, "reply_to_user": {"reputation": 25, "user_id": 7174311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/31sQl.jpg?s=128&g=1", "display_name": "PhoenixDeFalco", "link": "https://stackoverflow.com/users/7174311/phoenixdefalco"}, "edited": false, "score": 1, "creation_date": 1480035771, "post_id": 40775085, "comment_id": 68814586, "body": "You need to define the function! Paste the complete block starting &#39;from bisect import bisect_right ...` into your interpreter. Learning to read tracebacks is an important skill: <code>name &#39;get_rank&#39; is not defined</code> means that you didn&#39;t define <code>get_rank</code>, so obviously it won&#39;t be able to run."}, {"owner": {"reputation": 25, "user_id": 7174311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/31sQl.jpg?s=128&g=1", "display_name": "PhoenixDeFalco", "link": "https://stackoverflow.com/users/7174311/phoenixdefalco"}, "edited": false, "score": 0, "creation_date": 1480035920, "post_id": 40775085, "comment_id": 68814609, "body": "sorry...thank you for the help, and I will try my best to figure it out...thanks again! Happy thanksgiving!"}, {"owner": {"reputation": 25, "user_id": 7174311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/31sQl.jpg?s=128&g=1", "display_name": "PhoenixDeFalco", "link": "https://stackoverflow.com/users/7174311/phoenixdefalco"}, "edited": false, "score": 0, "creation_date": 1480036382, "post_id": 40775085, "comment_id": 68814727, "body": "okay, sorry about this, but i got another traceback, but this one i don&#39;t understand at all... <code>&#39;tuple&#39; object is not callable</code> I tried to google this, but I really don&#39;t understand anything that I found...Could I get one last bit of help on this?"}, {"owner": {"reputation": 46776, "user_id": 1014938, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/FqCGF.png?s=128&g=1", "display_name": "Zero Piraeus", "link": "https://stackoverflow.com/users/1014938/zero-piraeus"}, "reply_to_user": {"reputation": 25, "user_id": 7174311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/31sQl.jpg?s=128&g=1", "display_name": "PhoenixDeFalco", "link": "https://stackoverflow.com/users/7174311/phoenixdefalco"}, "edited": false, "score": 0, "creation_date": 1480037140, "post_id": 40775085, "comment_id": 68814888, "body": "That can only happen if you&#39;ve redefined something that should be a function to be a tuple instead; maybe you typed <code>get_rank = &lt;something&gt;</code>? SO comments are really not good for debugging, but: 1. Exit your Python interpreter and start it again. 2. Copy and paste <b>exactly</b> the whole of the first code block above, from <code>from bisect ...</code> to <code>... return RANKS[-1][1]</code> inclusive. 3. Try typing <code>get_rank(1234)</code> and a few other numbers. The second <code>for n in ...</code> code block is only meant as a usage example; if you&#39;re still having trouble after 1-3, I&#39;m afraid you need to find a Python tutorial."}], "tags": [], "owner": {"reputation": 46776, "user_id": 1014938, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/FqCGF.png?s=128&g=1", "display_name": "Zero Piraeus", "link": "https://stackoverflow.com/users/1014938/zero-piraeus"}, "is_accepted": false, "score": 0, "last_activity_date": 1480008376, "last_edit_date": 1480008376, "creation_date": 1479939645, "answer_id": 40775085, "question_id": 40774655, "link": "https://stackoverflow.com/questions/40774655/look-up-a-string-based-on-a-number-in-a-range/40775085#40775085", "title": "Look up a string based on a number in a range", "body": "<p>A slight improvement to Daniel Roseman's <code>bisect</code> solution to would be to use a single list of 2-tuples:</p>\n\n<pre><code>from bisect import bisect_right\n\nRANKS = [\n    # max balance, rank\n    (500, 'Private'),\n    (1000, 'Private I'),\n    (1500, 'Private II'),\n    (2500, 'Private III'),\n    (3000, 'Corporal'),\n    # ...\n    (42000, 'Commander')\n]\n\ndef get_rank(balance):\n    index = bisect_right(RANKS, (balance, ''))\n    try:\n        return RANKS[index][1]\n    except IndexError:\n        return RANKS[-1][1]\n</code></pre>\n\n<p>The advantages here are that it's easier to read at a glance, and less prone to mistakes when editing your code to introduce new ranks, tweak limits, etc.</p>\n\n<p>It also returns the highest rank when supplied a points balance higher than any accounted for in <code>RANKS</code> (as specified in your comment), rather than raising an exception.</p>\n\n<p>Example:</p>\n\n<pre><code>&gt;&gt;&gt; for n in range(0,42001,500):\n...     print(\"%5d  %s\" % (n, get_rank(n)))\n...     print(\"%5d  %s\" % (n + 1, get_rank(n + 1)))\n... \n    0  Private\n    1  Private\n  500  Private\n  501  Private I\n 1000  Private I\n 1001  Private II\n 1500  Private II\n 1501  Private III\n 2000  Private III\n 2001  Private III\n 2500  Private III\n 2501  Corporal\n 3000  Corporal\n # ...\n 42000  Commander\n 42001  Commander\n</code></pre>\n"}], "owner": {"reputation": 25, "user_id": 7174311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/31sQl.jpg?s=128&g=1", "display_name": "PhoenixDeFalco", "link": "https://stackoverflow.com/users/7174311/phoenixdefalco"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 109, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1480008376, "creation_date": 1479937539, "last_edit_date": 1479940139, "question_id": 40774655, "link": "https://stackoverflow.com/questions/40774655/look-up-a-string-based-on-a-number-in-a-range", "title": "Look up a string based on a number in a range", "body": "<p>I'm trying to create a rank system for my gaming group, similar in nature to Supercell's Trophy System in their Clash of Clans and Clash Royale games for android/iOS systems.</p>\n\n<p>I have the layout of the ranks all figured out, and we already have a point system in place that works ... I just need to now program in the actual ranks.</p>\n\n<p>The ranks work very simply: The individual's point balance falls within specific values, and the rank corresponding to that value is the person's rank. I created a simple table to show what I mean ... here's an excerpt of what it looks like:</p>\n\n<pre><code>Rank: Balance Range\nPrivate: 0-500\nPrivate I: 501-1000\nPrivate II: 1001-1500\nPrivate III: 1501-2500\nCorporal: 2501-3000\n...\n</code></pre>\n\n<p>So here's the simple rank system layout, it goes all the way up to Commander at 42,000 points. My question is this: How do I associate the Rank with the point value, without having to type out all the lines of code like this? </p>\n\n<pre><code>0 &lt;= Private &lt;= 500\n501 &lt;= PrivateI &lt;= 1000\n...\n</code></pre>\n"}, {"tags": ["python", "arduino", "serial-port", "synchronization"], "comments": [{"owner": {"reputation": 5508, "user_id": 794749, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pfE2l.jpg?s=128&g=1", "display_name": "gre_gor", "link": "https://stackoverflow.com/users/794749/gre-gor"}, "edited": false, "score": 0, "creation_date": 1479992844, "post_id": 40774583, "comment_id": 68796913, "body": "Does the Arduino send the received <code>Ok</code> back?"}, {"owner": {"reputation": 5508, "user_id": 794749, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pfE2l.jpg?s=128&g=1", "display_name": "gre_gor", "link": "https://stackoverflow.com/users/794749/gre-gor"}, "edited": false, "score": 0, "creation_date": 1479993134, "post_id": 40774583, "comment_id": 68797112, "body": "<code>Serial.available()&lt;2</code> will only be true, when there is a single byte in the buffer. <code>Ok\\n</code> is three bytes. And you never clear the buffer by reading it."}, {"owner": {"reputation": 383, "user_id": 3180645, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/6ce6520baf26018c3d79d5c79624895a?s=128&d=identicon&r=PG&f=1", "display_name": "gregory", "link": "https://stackoverflow.com/users/3180645/gregory"}, "reply_to_user": {"reputation": 5508, "user_id": 794749, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pfE2l.jpg?s=128&g=1", "display_name": "gre_gor", "link": "https://stackoverflow.com/users/794749/gre-gor"}, "edited": false, "score": 0, "creation_date": 1480002948, "post_id": 40774583, "comment_id": 68803248, "body": "yes, I wanted the code to wait in the while loop while there is only 2 bytes and goes over when there is three (like with &quot;Ok\\n&quot;). When you say clear the buffer, do you mean flush it?"}, {"owner": {"reputation": 1655, "user_id": 6945651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WXXfN.jpg?s=128&g=1", "display_name": "J. Piquard", "link": "https://stackoverflow.com/users/6945651/j-piquard"}, "edited": false, "score": 0, "creation_date": 1480113758, "post_id": 40774583, "comment_id": 68846340, "body": "The architecture of your Arduino <code>loop()</code> function doesn&#39;t comply with a periodical call of that function. Note: it seems that the count of open-brackets is not equal to the close-brackets in that function."}, {"owner": {"reputation": 1655, "user_id": 6945651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WXXfN.jpg?s=128&g=1", "display_name": "J. Piquard", "link": "https://stackoverflow.com/users/6945651/j-piquard"}, "edited": false, "score": 0, "creation_date": 1480114149, "post_id": 40774583, "comment_id": 68846418, "body": "Did the Arduino source code compiling without error ? If not, in the <code>ServoCo()</code> the last close-bracket is missing."}], "answers": [{"tags": [], "owner": {"reputation": 1655, "user_id": 6945651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WXXfN.jpg?s=128&g=1", "display_name": "J. Piquard", "link": "https://stackoverflow.com/users/6945651/j-piquard"}, "is_accepted": true, "score": 3, "last_activity_date": 1480172556, "creation_date": 1480172556, "answer_id": 40819679, "question_id": 40774583, "link": "https://stackoverflow.com/questions/40774583/synchronization-between-python-and-arduino-using-serial-communication/40819679#40819679", "title": "Synchronization between python and arduino using serial communication", "body": "<p>In your <code>loop()</code> function, you have implemented your software as that function will be performed once as the <code>main()</code> in a Console software.</p>\n\n<p>Because <strong>Arduino</strong> (C langage) has to communicate through the serial link with your computer (Python langage), one efficient solution is to use <strong>state-machine</strong> principles.</p>\n\n<p><strong>Step 1</strong> - define the list of states needed and also the number of positions to reach. </p>\n\n<blockquote>\n  <p>A simple <code>enum e_State</code> allow to define the list.</p>\n</blockquote>\n\n<pre><code>typedef enum e_State {\n    STATE_START = 0, // first state to initialize\n    STATE_MOVE_POS,  // moving Servo to the selected position\n    STATE_SEND_CMD,  // sending message when position reached\n    STATE_WAIT_ACK   // waiting acknowledge from message\n} eState;\n</code></pre>\n\n<blockquote>\n  <p>For the 2 positions to reach, <code>enum e_Pos</code> is used:</p>\n</blockquote>\n\n<pre><code>typedef enum e_Pos {\n    FIRST_POS = 0,\n    SECOND_POS\n} ePos;\n</code></pre>\n\n<p><strong>Step 2</strong> - define the starting parameters</p>\n\n<blockquote>\n  <p>To store persistent data between <code>loop()</code> calls, <code>static</code> variables\n  are used:</p>\n</blockquote>\n\n<pre><code>static eState LoopState = STATE_START; // to store the current state\nstatic ePos ServoPos = FIRST_POS;  // to store the selected position\n</code></pre>\n\n<p>And to store temporally the next state, add the <code>eState NextState</code>.</p>\n\n<blockquote>\n  <p>At the entry of the <code>loop()</code> function, <code>NextState = LoopState;</code> to\n  maintain the same state by default.</p>\n</blockquote>\n\n<p><strong>Step 3</strong> - define the state-machine algorithm.</p>\n\n<pre><code>void loop() {\n\nstatic eState LoopState = STATE_START; // to store the current state\nstatic ePos ServoPos = FIRST_POS;  // to store the selected position\n\n    eState NextState = LoopState;\n\n    switch (LoopState) {\n    case STATE_START:\n        ServoPos = FIRST_POS;\n        NextState = STATE_MOVE_POS;\n        break;\n    case STATE_MOVE_POS:\n        NextState = STATE_SEND_CMD;\n        break;\n    case STATE_SEND_CMD:\n        NextState = STATE_WAIT_ACK;\n        break;\n    case STATE_WAIT_ACK:\n        // NextState = STATE_MOVE_POS;\n        break;\n    default:\n        // when undefined state, restart\n        NextState = STATE_START;\n    }\n    // define the state for the next loop\n    LoopState = NextState;\n}\n</code></pre>\n\n<p><strong>Step 4</strong> - manage the action of <code>STATE_MOVE_POS</code> with selected <code>ServoPos</code>.</p>\n\n<pre><code>switch (ServoPos) {\ncase FIRST_POS:\n    ServoCo(15); // go to 'Co' position\n    break;\ncase SECOND_POS:\n    ServoCross(15); // go to 'Cross' position\n    break;\n};\nNextState = STATE_SEND_CMD; // when reached, send serial message\n</code></pre>\n\n<p><strong>Step 5</strong> - manage the action of <code>STATE_SEND_CMD</code> based to the reached <code>ServoPos</code>.</p>\n\n<pre><code>Serial.flush();   // clear the serial buffer\nif (ServoPos == FIRST_POS) {\n    Serial.println(\"Co\"); //send signal 'Co' to python\n}\nelse {\n    Serial.println(\"Cross\"); //send signal 'Cross' to python\n}\nNextState = STATE_WAIT_ACK;\n</code></pre>\n\n<p><strong>Step 6</strong> - manage action of <code>STATE_WAIT_ACK</code> by looking for <strong>\"OK\"</strong> acknowledge.</p>\n\n<blockquote>\n  <p>Optionally, add the comparison <code>if (Str == \"OK\")</code> to be sure that\n  computer answers correctly.</p>\n</blockquote>\n\n<pre><code>if (Serial.available()) { // no state change while no acknowledge\n    String Str = Serial.readStringUntil('\\n');\n    Serial.println(Str);\n    if (Str == \"OK\") {\n        // ack is OK, select the next position and continue\n        ServoPos = (ServoPos == FIRST_POS)?(SECOND_POS):(FIRST_POS);\n        NextState = STATE_MOVE_POS;\n    }\n    else {\n        // ack is KO, restart from first position\n        NextState = STATE_START;\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 383, "user_id": 3180645, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/6ce6520baf26018c3d79d5c79624895a?s=128&d=identicon&r=PG&f=1", "display_name": "gregory", "link": "https://stackoverflow.com/users/3180645/gregory"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2390, "favorite_count": 0, "accepted_answer_id": 40819679, "answer_count": 1, "score": 1, "last_activity_date": 1480172556, "creation_date": 1479937176, "question_id": 40774583, "link": "https://stackoverflow.com/questions/40774583/synchronization-between-python-and-arduino-using-serial-communication", "title": "Synchronization between python and arduino using serial communication", "body": "<p>I have an application where I need to: </p>\n\n<ol>\n<li>move a servo motor using arduino to a position and stop at that position</li>\n<li>have a camera controlled by python acquire an image at that position</li>\n<li>when the image is acquired, the servo should move to a symmetrical position</li>\n</ol>\n\n<p>The sequence is repeated a number N of time</p>\n\n<p>So I tried to synchronize the arduino and the python code using serial communication. On the arduino side, when the servo reaches a position, it sends a string to the python code using serial communication. The string is either \"Cross\", or \"Co\" depending of the position reached. The arduino should wait for a string \"Ok\" to be sent by serial communication by the python code (after image acquisition). After receiving this string, the arduino should actuate the servo for it to move to the other position.</p>\n\n<p>On the python code side, I read serial data and depending on the string received (Cross or Co):</p>\n\n<ol>\n<li>a string name is defined </li>\n<li>An image is acquired using the camera</li>\n<li>the image is saved or append to a list</li>\n<li>The string \"Ok\" is sent to arduino. </li>\n</ol>\n\n<p>the codes are attached below. </p>\n\n<p>The problem is that I do not manage to synchronize correctly the servo positions and the image acquisition. The servo just run back and forth between the two positions and does not seem to be reading any string from the serial communication. It then never stops really to a position. The arduino code however does send \"Cross\" and \"Co\" to the python code, and the python code does manage to read them and acquire and save images but often with the wrong names. Having the arduino code waits long enough at each position is not a solution, since I need a decent frequency of image acquisition.<br>\nSo I would like to know what is the best way to synchronize the two codes and be sure, that the right name of my images will correspond to the right position of the servo?</p>\n\n<p>Thanks in advance for any link or ideas.</p>\n\n<p>Greg </p>\n\n<p>arduino code \n`</p>\n\n<pre><code>#include &lt;Servo.h&gt;\n\n//servo\nServo myservo;  // create servo object to control a servo\n// twelve servo objects can be created on most boards\nint pos = 0;    // variable to store the servo position\n\n//camera\nconst int CameraPin =  53;      // the number of the camera trigg\nint CameraState = LOW;             // ledState used to set the LED\nconst int ledPin =  13;      // the number of the LED pin\nString Str = \"c\";\n\nvoid setup() {\n  myservo.attach(9);  // attaches the servo on pin 9 to the servo object\n  // set the digital LED pin as output:\n  pinMode(CameraPin, OUTPUT);\n  // set the digital camera pin as output:\n  pinMode(ledPin, OUTPUT);\n  //serial communication \n  Serial.begin(9600);\n  Serial.println(\"Ready\");\n      }\nvoid loop() {\n\nSerial.flush();\n// go to Co position and wait\nServoCo(15); // go to Co position\nSerial.println(\"Co\"); //send signal Co to python\nwhile(!Serial.available()) {} // wait for python to send data acquired\nwhile ((Serial.available()&lt;2)) // Test on the length of the serial string   \n{ \n  delay(1);\n  String Str = Serial.readStringUntil('\\n');\n  Serial.println(Str);\n}\n\n// go to cross position and wait\nServoCross(15); // go to Cross position\nSerial.println(\"Cross\");\nwhile(!Serial.available()) {}\n  while ((Serial.available()&lt;2))\n{\n  delay(1);\n  String Str = Serial.readStringUntil('\\n');\n  Serial.println(Str);\n}\n}\ndelay(100);\n}\n\nvoid ServoCross(int ServoDelay)\n{\n  for (pos = 105; pos &gt;= 75; pos -= 1) { // goes from 0 degrees to 180 degrees\n    // in steps of 1 degree\n    myservo.write(pos);              // tell servo to go to position in variable 'pos'\n    delay(ServoDelay);  \n  }\n}\n  void ServoCo(int ServoDelay)\n{\n  for (pos = 75; pos &lt;= 105; pos += 1) \n  { // goes from 0 degrees to 180 degrees\n    // in steps of 1 degree\n    myservo.write(pos);              // tell servo to go to position in variable 'pos'\n    delay(ServoDelay);  \n  }`\n</code></pre>\n\n<p>Python code:</p>\n\n<pre><code>from time import sleep\nimport serial\nimport scipy\nser = serial.Serial('COM10', 9600) # Establish the connection on a specific port\n\nNb_total_image = 100\nimagergb_cross = np.zeros((480,640))\nimagergb_co = np.zeros((480,640))\ncounter_image = 0;\n\nser.write('start')\nwhile counter_image&lt;Nb_total_image:\n    ser.flush()\n    ReadArduino = ser.readline().split('\\r')[0] # Read the newest output from the Arduino\n\n    print(ReadArduino)\n    if ReadArduino == 'Cross':\n        nameImage = 'CrossImage' + str(counterImageCross)\n        cam.reset_frame_ready()                 # reset frame ready flag\n        # send hardware trigger OR call cam.send_trigger() here\n        cam.send_trigger()\n        cam.wait_til_frame_ready(1000)              # wait for frame ready due to trigger        \n        imageRawcross = cam.get_image_data()\n        ser.write(\"Ok\\n\")\n\n    else:\n        nameImage = 'CoImage' + str(counterImageCo)\n        cam.reset_frame_ready()                 # reset frame ready flag\n        # send hardware trigger OR call cam.send_trigger() here\n        cam.send_trigger()\n        cam.wait_til_frame_ready(1000)              # wait for frame ready due to trigger                \n        ImageRawCo = cam.get_image_data()\n        ser.write(\"Ok\\n\")\n    imagergb = imageRawCo-imageRawcross   \n    counter_image = counter_image + 1\n</code></pre>\n"}, {"tags": ["python", "machine-learning", "scikit-learn", "data-mining", "k-means"], "comments": [{"owner": {"reputation": 26717, "user_id": 5352399, "user_type": "registered", "accept_rate": 81, "profile_image": "https://lh3.googleusercontent.com/-Rk_dLwN-xPY/AAAAAAAAAAI/AAAAAAAAAC8/DtCya1W9lX4/photo.jpg?sz=128", "display_name": "Wasi Ahmad", "link": "https://stackoverflow.com/users/5352399/wasi-ahmad"}, "edited": false, "score": 0, "creation_date": 1479937979, "post_id": 40774546, "comment_id": 68773392, "body": "what do you mean by died? is your program throwing some error?"}, {"owner": {"reputation": 2857, "user_id": 5927701, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/b900c58888a1a0d19095618776e9dc70?s=128&d=identicon&r=PG&f=1", "display_name": "data_person", "link": "https://stackoverflow.com/users/5927701/data-person"}, "reply_to_user": {"reputation": 26717, "user_id": 5352399, "user_type": "registered", "accept_rate": 81, "profile_image": "https://lh3.googleusercontent.com/-Rk_dLwN-xPY/AAAAAAAAAAI/AAAAAAAAAC8/DtCya1W9lX4/photo.jpg?sz=128", "display_name": "Wasi Ahmad", "link": "https://stackoverflow.com/users/5352399/wasi-ahmad"}, "edited": false, "score": 0, "creation_date": 1479938076, "post_id": 40774546, "comment_id": 68773432, "body": "@WasiAhmad No its not showing any error, rather the notebook stops responding and the state of the kernel becomes dead."}, {"owner": {"reputation": 26717, "user_id": 5352399, "user_type": "registered", "accept_rate": 81, "profile_image": "https://lh3.googleusercontent.com/-Rk_dLwN-xPY/AAAAAAAAAAI/AAAAAAAAAC8/DtCya1W9lX4/photo.jpg?sz=128", "display_name": "Wasi Ahmad", "link": "https://stackoverflow.com/users/5352399/wasi-ahmad"}, "edited": false, "score": 0, "creation_date": 1479938262, "post_id": 40774546, "comment_id": 68773512, "body": "can you check whether is it because of some memory issue? when you are running your program, you can check memory usage. can you do the test with fewer number of rows without changing the number of columns and see what happens?"}, {"owner": {"reputation": 2857, "user_id": 5927701, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/b900c58888a1a0d19095618776e9dc70?s=128&d=identicon&r=PG&f=1", "display_name": "data_person", "link": "https://stackoverflow.com/users/5927701/data-person"}, "reply_to_user": {"reputation": 26717, "user_id": 5352399, "user_type": "registered", "accept_rate": 81, "profile_image": "https://lh3.googleusercontent.com/-Rk_dLwN-xPY/AAAAAAAAAAI/AAAAAAAAAC8/DtCya1W9lX4/photo.jpg?sz=128", "display_name": "Wasi Ahmad", "link": "https://stackoverflow.com/users/5352399/wasi-ahmad"}, "edited": false, "score": 0, "creation_date": 1479939450, "post_id": 40774546, "comment_id": 68773945, "body": "@WasiAhmad it worked with 30k rows"}, {"owner": {"reputation": 56500, "user_id": 2658050, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yPuAp.jpg?s=128&g=1", "display_name": "lejlot", "link": "https://stackoverflow.com/users/2658050/lejlot"}, "edited": false, "score": 0, "creation_date": 1479939553, "post_id": 40774546, "comment_id": 68773983, "body": "What is the type of <code>dist[0]</code> ? When you do <code>d**2</code> make sure this is <b>element-wise</b> square, some numpy types treat <code>**2</code> as <b>matrix power</b>, which might be quite expensive for 188k rows :)"}, {"owner": {"reputation": 2857, "user_id": 5927701, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/b900c58888a1a0d19095618776e9dc70?s=128&d=identicon&r=PG&f=1", "display_name": "data_person", "link": "https://stackoverflow.com/users/5927701/data-person"}, "reply_to_user": {"reputation": 56500, "user_id": 2658050, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yPuAp.jpg?s=128&g=1", "display_name": "lejlot", "link": "https://stackoverflow.com/users/2658050/lejlot"}, "edited": false, "score": 0, "creation_date": 1479939681, "post_id": 40774546, "comment_id": 68774033, "body": "@lejlot type is &lt;class &#39;numpy.ndarray&#39;&gt;."}, {"owner": {"reputation": 26717, "user_id": 5352399, "user_type": "registered", "accept_rate": 81, "profile_image": "https://lh3.googleusercontent.com/-Rk_dLwN-xPY/AAAAAAAAAAI/AAAAAAAAAC8/DtCya1W9lX4/photo.jpg?sz=128", "display_name": "Wasi Ahmad", "link": "https://stackoverflow.com/users/5352399/wasi-ahmad"}, "edited": false, "score": 1, "creation_date": 1479940157, "post_id": 40774546, "comment_id": 68774206, "body": "@vikky I believe my guess is correct. you are trying to do memory expensive computation! either you run your code in a system with more memory or you can split the computation in several units."}, {"owner": {"reputation": 2857, "user_id": 5927701, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/b900c58888a1a0d19095618776e9dc70?s=128&d=identicon&r=PG&f=1", "display_name": "data_person", "link": "https://stackoverflow.com/users/5927701/data-person"}, "reply_to_user": {"reputation": 26717, "user_id": 5352399, "user_type": "registered", "accept_rate": 81, "profile_image": "https://lh3.googleusercontent.com/-Rk_dLwN-xPY/AAAAAAAAAAI/AAAAAAAAAC8/DtCya1W9lX4/photo.jpg?sz=128", "display_name": "Wasi Ahmad", "link": "https://stackoverflow.com/users/5352399/wasi-ahmad"}, "edited": false, "score": 0, "creation_date": 1479940222, "post_id": 40774546, "comment_id": 68774232, "body": "@WasiAhmad can u suggest me on how to split the computations. My system has a ram of 16gb"}, {"owner": {"reputation": 26717, "user_id": 5352399, "user_type": "registered", "accept_rate": 81, "profile_image": "https://lh3.googleusercontent.com/-Rk_dLwN-xPY/AAAAAAAAAAI/AAAAAAAAAC8/DtCya1W9lX4/photo.jpg?sz=128", "display_name": "Wasi Ahmad", "link": "https://stackoverflow.com/users/5352399/wasi-ahmad"}, "edited": false, "score": 0, "creation_date": 1479941547, "post_id": 40774546, "comment_id": 68774652, "body": "@vikky execute the operation for certain number of rows every time as a batch and go over the whole matrix in this way."}, {"owner": {"reputation": 442, "user_id": 5281775, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd062fbe79a875efb59c1d069f0ac9d0?s=128&d=identicon&r=PG&f=1", "display_name": "enterML", "link": "https://stackoverflow.com/users/5281775/enterml"}, "edited": false, "score": 0, "creation_date": 1479976241, "post_id": 40774546, "comment_id": 68785683, "body": "Give a try with MiniBatchKMeans. It should work!!"}], "answers": [{"tags": [], "owner": {"reputation": 70452, "user_id": 1060350, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/XCkw7.jpg?s=128&g=1", "display_name": "Has QUIT--Anony-Mousse", "link": "https://stackoverflow.com/users/1060350/has-quit-anony-mousse"}, "is_accepted": true, "score": 0, "last_activity_date": 1479973523, "creation_date": 1479973523, "answer_id": 40780592, "question_id": 40774546, "link": "https://stackoverflow.com/questions/40774546/k-means-in-scikit-learn-kernel-died-due-to-long-computations/40780592#40780592", "title": "K means in scikit learn Kernel died - due to long computations", "body": "<p>Rather than recomputing all the distamces, why don't you use the <code>inertia_</code> provided by the k-means object?</p>\n\n<p>Then you won't need your problematic line (which uses inefficient dats structures).</p>\n"}], "owner": {"reputation": 2857, "user_id": 5927701, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/b900c58888a1a0d19095618776e9dc70?s=128&d=identicon&r=PG&f=1", "display_name": "data_person", "link": "https://stackoverflow.com/users/5927701/data-person"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 374, "favorite_count": 0, "accepted_answer_id": 40780592, "answer_count": 1, "score": 0, "last_activity_date": 1479973523, "creation_date": 1479936988, "last_edit_date": 1479973287, "question_id": 40774546, "link": "https://stackoverflow.com/questions/40774546/k-means-in-scikit-learn-kernel-died-due-to-long-computations", "title": "K means in scikit learn Kernel died - due to long computations", "body": "<p>I am trying to use k means clustering using scikit learn.Hence using the elbow method to find the optimal value of k.</p>\n\n<pre><code>def elbow(df, n):\n   kMeansVar = [KMeans(n_clusters=k).fit(df.values) for k in range(10, n)]\n   centroids = [X.cluster_centers_ for X in kMeansVar]\n   k_euclid = [cdist(df.values, cent) for cent in centroids]\n   dist = [np.min(ke, axis=1) for ke in k_euclid]\n   wcss = [sum(d**2) for d in dist] #TILL HERE THE CODE RAN PROPERLY\n   tss = sum(pdist(df.values)**2)/df.values.shape[0]\n   bss = tss - wcss\n   plt.plot(bss)\n   plt.show()\n</code></pre>\n\n<p>My data frame has 14 columns and 188233 rows. When I tried to pass the entire dataframe to the function, the kernel died. When i tried to pass only one single column, even in that case the kernel died. When I tried to triage I was able to figure out the the code ran till the line marked with the comment in the function above. Please suggest me on how to get over this issue. </p>\n"}, {"tags": ["python", "macos", "evernote"], "answers": [{"comments": [{"owner": {"reputation": 1856, "user_id": 2926284, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HSUf0.jpg?s=128&g=1", "display_name": "wolfins", "link": "https://stackoverflow.com/users/2926284/wolfins"}, "edited": false, "score": 0, "creation_date": 1481692552, "post_id": 40775412, "comment_id": 69474166, "body": "So it turns out I had already upgraded to 1.25.2, but Python was locating the old version 1.23.2 in the path ahead of the new version.  Deleting the /usr/local/lib/python2.7/site-packages/evernote-1.23.2-py2.7&zwnj;&#8203;.egg file resolved the issue.  Thanks!"}], "tags": [], "owner": {"reputation": 1219, "user_id": 1691992, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be812dd3d775e199257109b5865d40cb?s=128&d=identicon&r=PG", "display_name": "kentaro", "link": "https://stackoverflow.com/users/1691992/kentaro"}, "is_accepted": true, "score": 2, "last_activity_date": 1479941234, "creation_date": 1479941234, "answer_id": 40775412, "question_id": 40774543, "link": "https://stackoverflow.com/questions/40774543/evernote-python-api-invalid-header-value-authentication-error-received-when-us/40775412#40775412", "title": "Evernote Python API &quot;Invalid header value&quot; authentication error received when using Jupyter iPython on Mac", "body": "<p>The <code>Invalid header value</code> error has to be fixed on the latest SDK, which is <a href=\"https://pypi.python.org/pypi/evernote\" rel=\"nofollow noreferrer\">1.25.2</a>. Please upgrade SDK and try again.</p>\n"}], "owner": {"reputation": 1856, "user_id": 2926284, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HSUf0.jpg?s=128&g=1", "display_name": "wolfins", "link": "https://stackoverflow.com/users/2926284/wolfins"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 782, "favorite_count": 0, "accepted_answer_id": 40775412, "answer_count": 1, "score": 0, "last_activity_date": 1479941234, "creation_date": 1479936966, "question_id": 40774543, "link": "https://stackoverflow.com/questions/40774543/evernote-python-api-invalid-header-value-authentication-error-received-when-us", "title": "Evernote Python API &quot;Invalid header value&quot; authentication error received when using Jupyter iPython on Mac", "body": "<p>I'm having some difficulty using the Evernote Python API with Jupyter iPython from either a notebook or the command line.  Strangely, I have been able to do this in the past, but now it seems to be broken.  The weird part is this is new behavior on my MacBook only.  This still works in Jupyter iPython on my PC.  I suspect something has broken in my setup, but I'm not sure how to diagnose it further.</p>\n\n<p>First, I was able to connect to the API on the Mac running the following .py file:</p>\n\n<pre><code>from evernote.api.client import EvernoteClient\n\ndev_token = \"my_dev_token_here\"\nclient = EvernoteClient(token=dev_token)\nnoteStore = client.get_note_store()\nnbs= noteStore.listNotebooks()\nfor nb in nbs: print nb.name\n</code></pre>\n\n<p>I get the expected output- a list of my Evernote notebooks.</p>\n\n<p>Next, I tried issuing these commands in a ipython CLI instance.  I get following error: </p>\n\n<pre><code>---------------------------------------------------------------------------\nValueError                                Traceback (most recent call last)\n&lt;ipython-input-7-3796a38811af&gt; in &lt;module&gt;()\n----&gt; 1 ns = client.get_note_store()\n\n/usr/local/lib/python2.7/site-packages/evernote-1.23.2-py2.7.egg/evernote/api/client.pyc in get_note_store(self)\n     66     def get_note_store(self):\n     67         user_store = self.get_user_store()\n---&gt; 68         note_store_uri = user_store.getNoteStoreUrl()\n     69         store = Store(self.token, NoteStore.Client, note_store_uri)\n     70         if not store:  # Trick for PyDev code completion\n\n/usr/local/lib/python2.7/site-packages/evernote-1.23.2-py2.7.egg/evernote/api/client.pyc in delegate_method(*args, **kwargs)\n    136                 return functools.partial(\n    137                     targetMethod, authenticationToken=self.token\n--&gt; 138                 )(**dict(zip(arg_names, args)))\n    139             else:\n    140                 return targetMethod(*args, **kwargs)\n\n/usr/local/lib/python2.7/site-packages/evernote-1.23.2-py2.7.egg/evernote/edam/userstore/UserStore.pyc in getNoteStoreUrl(self, authenticationToken)\n    910      - authenticationToken\n    911     \"\"\"\n--&gt; 912     self.send_getNoteStoreUrl(authenticationToken)\n    913     return self.recv_getNoteStoreUrl()\n    914 \n\n/usr/local/lib/python2.7/site-packages/evernote-1.23.2-py2.7.egg/evernote/edam/userstore/UserStore.pyc in send_getNoteStoreUrl(self, authenticationToken)\n    919     args.write(self._oprot)\n    920     self._oprot.writeMessageEnd()\n--&gt; 921     self._oprot.trans.flush()\n    922 \n    923   def recv_getNoteStoreUrl(self, ):\n\n/usr/local/lib/python2.7/site-packages/evernote-1.23.2-py2.7.egg/thrift/transport/THttpClient.pyc in _f(*args, **kwargs)\n    123             orig_timeout = socket.getdefaulttimeout()\n    124             socket.setdefaulttimeout(args[0].__timeout)\n--&gt; 125             result = f(*args, **kwargs)\n    126             socket.setdefaulttimeout(orig_timeout)\n    127             return result\n\n/usr/local/lib/python2.7/site-packages/evernote-1.23.2-py2.7.egg/thrift/transport/THttpClient.pyc in flush(self)\n    148         self.__http.putheader('Content-Length', str(len(data)))\n    149         for key, value in self.__headers.iteritems():\n--&gt; 150             self.__http.putheader(key, value)\n    151         self.__http.endheaders()\n    152 \n\n/usr/local/Cellar/python/2.7.11/Frameworks/Python.framework/Versions/2.7/lib/python2.7/httplib.pyc in putheader(self, header, *values)\n   1033         for one_value in values:\n   1034             if _is_illegal_header_value(one_value):\n-&gt; 1035                 raise ValueError('Invalid header value %r' % (one_value,))\n   1036 \n   1037         hdr = '%s: %s' % (header, '\\r\\n\\t'.join(values))\n\nValueError: Invalid header value 'en-devtoken:V=2 / 1.23; Python / 2.7.11 (default, Jan 22 2016, 08:29:18) \\n[GCC 4.2.1 Compatible Apple LLVM 7.0.2 (clang-700.1.81)];'\n</code></pre>\n\n<p>I get a similar result when running the code in a Jupyter iPython notebook.  Thanks for any clues you can provide.</p>\n"}, {"tags": ["python", "audio", "portaudio", "pyo"], "answers": [{"tags": [], "owner": {"reputation": 1931, "user_id": 2653210, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/va3Pc.jpg?s=128&g=1", "display_name": "Docconcoct", "link": "https://stackoverflow.com/users/2653210/docconcoct"}, "is_accepted": true, "score": 0, "last_activity_date": 1480247059, "creation_date": 1480247059, "answer_id": 40828554, "question_id": 40774534, "link": "https://stackoverflow.com/questions/40774534/playing-sound-in-python-using-pyo/40828554#40828554", "title": "Playing sound in Python using Pyo", "body": "<p>I eventually gave up on the pyo library and successfully managed to play sound in PsychoPy using PyGame by doing the following BEFORE importing <code>sound</code> from psychopy:</p>\n\n<pre><code>from psychopy import prefs\nprefs.general['audioLib'] = ['pygame']\n</code></pre>\n\n<p>...</p>\n\n<pre><code>sound.Sound(value = soundfile)\n</code></pre>\n\n<p>I've found Pyo to be a nightmare when using Windows 7 Pro. Hopefully this work around with PyGame will come in useful.</p>\n"}, {"comments": [{"owner": {"reputation": 1931, "user_id": 2653210, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/va3Pc.jpg?s=128&g=1", "display_name": "Docconcoct", "link": "https://stackoverflow.com/users/2653210/docconcoct"}, "edited": false, "score": 0, "creation_date": 1492517359, "post_id": 43460056, "comment_id": 73998293, "body": "I had tried that solution and it didn&#39;t work. I ended up using PyGame for my audio needs. Thanks for the suggestion though."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user4813927"}, "is_accepted": false, "score": 1, "last_activity_date": 1492465176, "creation_date": 1492465176, "answer_id": 43460056, "question_id": 40774534, "link": "https://stackoverflow.com/questions/40774534/playing-sound-in-python-using-pyo/43460056#43460056", "title": "Playing sound in Python using Pyo", "body": "<p>You have to <code>boot()</code> the <code>Server</code> before doing anything else, so your lines should be:</p>\n\n<pre><code>import pyo\n\ns = pyo.Server()\ns.boot()\ns.start()\ns.setInputDevice(4)\ns.setOutputDevice(4)\n</code></pre>\n\n<p>Then you might use the <code>SfPlayer</code> class from <code>pyo</code> to play a soundfile:</p>\n\n<pre><code>play_audio1 = pyo.SfPlayer(path=\"LRsound.wav\", speed=[1, 1])\nplay_audio1.out()\n</code></pre>\n\n<p>and run the gui interface:</p>\n\n<pre><code>s.gui(locals(), exit=False)\n</code></pre>\n"}], "owner": {"reputation": 1931, "user_id": 2653210, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/va3Pc.jpg?s=128&g=1", "display_name": "Docconcoct", "link": "https://stackoverflow.com/users/2653210/docconcoct"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2780, "favorite_count": 0, "accepted_answer_id": 40828554, "answer_count": 2, "score": 1, "last_activity_date": 1492465176, "creation_date": 1479936942, "last_edit_date": 1483134710, "question_id": 40774534, "link": "https://stackoverflow.com/questions/40774534/playing-sound-in-python-using-pyo", "title": "Playing sound in Python using Pyo", "body": "<p>I'm trying to play sounds using the pyo library.</p>\n\n<p>The following code:</p>\n\n<pre><code>from psychopy import sound, logging, core\nlogging.console.setLevel(logging.DEBUG)\nfrom pyo import *\n\ns = Server()\ns.setInputDevice(4)\ns.setOutputDevice(4)\ns.boot()\ns.start()\n\nprint \"output\", pa_get_output_devices()\nprint \"input\", pa_get_input_devices()\n\nplay_audio1 = sound.SoundPyo(value = 'LRsound.wav', stereo = True)\nplay_audio1.play()\ncore.wait(1) # wait so the sound can play  \n</code></pre>\n\n<p>returns this output:</p>\n\n<blockquote>\n  <p>pyo version 0.8.0 (uses single precision)</p>\n  \n  <p>Portmidi warning: could not open midi output 0 (Microsoft MIDI Mapper): PortMidi: `Host error'</p>\n  \n  <p>output (['Microsoft Sound Mapper - Output', 'Speakers / Headphones\n  (Realtek ', 'Primary Sound Driver', 'Speakers / Headphones (Realtek\n  High Definition Audio)', 'Realtek ASIO', 'Speakers / Headphones\n  (Realtek High Definition Audio)'], [0, 1, 2, 3, 4, 5]) </p>\n  \n  <p>input (['Realtek ASIO'], [4])</p>\n  \n  <p>Server not booted.\n      The Server must be booted!\n      portaudio error in Pa_OpenStream: Illegal combination of I/O devices\n      Portaudio error: Illegal combination of I/O devicesportaudio error in Pa_AbortStream: Invalid stream pointer\n      portaudio error in Pa_CloseStream: Invalid stream pointer</p>\n</blockquote>\n\n<p>As you can see from the code and the output I've attempted to ensure that the input and output devices are the same.</p>\n\n<p>This is due to the message about illegal combination of I/O devices. Granted, as you can also see my attempt has failed miserably. The same error messages appear with or without the <code>Server()</code> code chunk.</p>\n\n<p>I ran the above code in PsychoPy. When I run the same code in Spyder it never actually gets passed:</p>\n\n<pre><code>play_audio1 = sound.SoundPyo(value = 'LRsound.wav', stereo = True)\n</code></pre>\n\n<p>it just hangs doing nothing.</p>\n\n<p>Any idea why pyo is not playing with python as it should? Any ideas on how I can fix it?</p>\n\n<p>Thanks for your time.</p>\n"}, {"tags": ["python", "sift", "descriptor", "opencv3.1"], "comments": [{"owner": {"reputation": 163, "user_id": 4831959, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/c8185cbd3bfc04d682c8573c446bd3cd?s=128&d=identicon&r=PG&f=1", "display_name": "AmiR Hossein", "link": "https://stackoverflow.com/users/4831959/amir-hossein"}, "edited": false, "score": 0, "creation_date": 1480054527, "post_id": 40774491, "comment_id": 68819143, "body": "detectAndCompute has a parameter for this, nFeature, you can set this parameter"}], "answers": [{"tags": [], "owner": {"reputation": 3, "user_id": 9446753, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64b4dc5d881b1075ea4843867b7c102b?s=128&d=identicon&r=PG&f=1", "display_name": "giray", "link": "https://stackoverflow.com/users/9446753/giray"}, "is_accepted": false, "score": 0, "last_activity_date": 1575299569, "creation_date": 1575299569, "answer_id": 59141758, "question_id": 40774491, "link": "https://stackoverflow.com/questions/40774491/how-to-set-the-number-of-keypointsdescriptors-in-sift-algorithm-in-python-usin/59141758#59141758", "title": "How to set the number of keypoints(Descriptors) in SIFT algorithm in python using openCV 3.1?", "body": "<p>You can use nfeatures parameter as:</p>\n\n<pre><code>sift = cv.xfeatures2d.SIFT_create(nfeatures=150)\n</code></pre>\n\n<p>It is the number of best features to retain. The source:</p>\n\n<pre><code>help(cv.xfeatures2d.SIFT_create)\n</code></pre>\n\n<blockquote>\n  <p>SIFT_create(...)</p>\n  \n  <p>SIFT_create([, nfeatures[, nOctaveLayers[, contrastThreshold[, edgeThreshold[, sigma]]]]]) -> retval</p>\n  \n  <blockquote>\n    <p>.   @param nfeatures The number of best features to retain. The features are ranked by their scores</p>\n    \n    <p>.   (measured in SIFT algorithm as the local contrast)</p>\n  </blockquote>\n</blockquote>\n"}], "owner": {"reputation": 11, "user_id": 7134253, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db3a313ead701b3d793e97ba4d1be82b?s=128&d=identicon&r=PG&f=1", "display_name": "Muhammad Mazhar", "link": "https://stackoverflow.com/users/7134253/muhammad-mazhar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1479, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1575299569, "creation_date": 1479936778, "last_edit_date": 1479936822, "question_id": 40774491, "link": "https://stackoverflow.com/questions/40774491/how-to-set-the-number-of-keypointsdescriptors-in-sift-algorithm-in-python-usin", "title": "How to set the number of keypoints(Descriptors) in SIFT algorithm in python using openCV 3.1?", "body": "<p>In opencv 3.0 and previous versions , the number of keypoints in SIFT can be limitize by using the code : </p>\n\n<pre><code>kp, des = cv2.SIFT(150).detectAndCompute(pic, None) \n</code></pre>\n\n<p>But as in opencv 3.1 , SIFT is moved to xfeatures2d so this function is giving error<br>\nHow can i set the number of keypoints in SIFT  opencv3.1</p>\n\n<p>My code is :</p>\n\n<pre><code>def gen_sift_features(gray_img):\n    sift = cv2.xfeatures2d.SIFT_create()\n    kp, desc = sift.detectAndCompute(gray_img, None)\n    return kp, desc  \n</code></pre>\n"}, {"tags": ["python", "regex", "python-3.x"], "comments": [{"owner": {"reputation": 94141, "user_id": 2867928, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/a8DM1.jpg?s=128&g=1", "display_name": "kasravnd", "link": "https://stackoverflow.com/users/2867928/kasravnd"}, "edited": false, "score": 1, "creation_date": 1479936817, "post_id": 40774440, "comment_id": 68772859, "body": "<code>re.findall</code> accepts string or bytes-like object and you passed a list to it!"}, {"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 1, "creation_date": 1479936827, "post_id": 40774440, "comment_id": 68772868, "body": "<code>articles</code> is a list. To pass a string, just join with linefeed again: <code>pattern = re.findall(&quot;[\\S\\s]+[A-Z]{3,}&quot;,&#39;\\n&#39;.join(articles)) </code>"}, {"owner": {"reputation": 94141, "user_id": 2867928, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/a8DM1.jpg?s=128&g=1", "display_name": "kasravnd", "link": "https://stackoverflow.com/users/2867928/kasravnd"}, "edited": false, "score": 0, "creation_date": 1479936866, "post_id": 40774440, "comment_id": 68772891, "body": "Also, do you want the world <code>Alissa J. Rubin</code> entirely?"}, {"owner": {"reputation": 206726, "user_id": 5459839, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iehrR.jpg?s=128&g=1", "display_name": "trincot", "link": "https://stackoverflow.com/users/5459839/trincot"}, "edited": false, "score": 0, "creation_date": 1479937036, "post_id": 40774440, "comment_id": 68772971, "body": "Why the <code>[\\S\\s]+</code>? Note that if you have backslashes like that you would better use  a raw string literal: <code>r&quot;....&quot;</code>"}, {"owner": {"reputation": 253, "user_id": 6758383, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/34557b4758119b2814e167e877053751?s=128&d=identicon&r=PG&f=1", "display_name": "M.Huntz", "link": "https://stackoverflow.com/users/6758383/m-huntz"}, "reply_to_user": {"reputation": 94141, "user_id": 2867928, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/a8DM1.jpg?s=128&g=1", "display_name": "kasravnd", "link": "https://stackoverflow.com/users/2867928/kasravnd"}, "edited": false, "score": 0, "creation_date": 1479937378, "post_id": 40774440, "comment_id": 68773118, "body": "Thanks all for the suggestion. @Kasramvd No, I am just looking for words with 3 or more letters in uppercase"}, {"owner": {"reputation": 253, "user_id": 6758383, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/34557b4758119b2814e167e877053751?s=128&d=identicon&r=PG&f=1", "display_name": "M.Huntz", "link": "https://stackoverflow.com/users/6758383/m-huntz"}, "edited": false, "score": 0, "creation_date": 1479937438, "post_id": 40774440, "comment_id": 68773142, "body": "&quot;BRUSSELS&quot;  is the perfect example of the words I am looking for"}, {"owner": {"reputation": 253, "user_id": 6758383, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/34557b4758119b2814e167e877053751?s=128&d=identicon&r=PG&f=1", "display_name": "M.Huntz", "link": "https://stackoverflow.com/users/6758383/m-huntz"}, "reply_to_user": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1479937718, "post_id": 40774440, "comment_id": 68773270, "body": "I just solved myself with @Jean-Fran&#231;oisFabre &#39;s tip. Shall I close the question?"}, {"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1479937775, "post_id": 40774440, "comment_id": 68773299, "body": "Don&#39;t mind if you do :)"}], "answers": [{"tags": [], "owner": {"reputation": 1444, "user_id": 6888191, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/882ac7ceca6fcf2791985e837e1e12a2?s=128&d=identicon&r=PG&f=1", "display_name": "B. Eckles", "link": "https://stackoverflow.com/users/6888191/b-eckles"}, "is_accepted": false, "score": 0, "last_activity_date": 1479936839, "creation_date": 1479936839, "answer_id": 40774504, "question_id": 40774440, "link": "https://stackoverflow.com/questions/40774440/matching-words-in-uppercase-with-regular-expression-on-a-text-with-multiple-line/40774504#40774504", "title": "Matching words in uppercase with Regular expression on a text with multiple lines", "body": "<p><code>articles</code> is a list, after you did <code>text_read.split</code>. <code>re.findall</code> is expecting a string.</p>\n"}], "owner": {"reputation": 253, "user_id": 6758383, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/34557b4758119b2814e167e877053751?s=128&d=identicon&r=PG&f=1", "display_name": "M.Huntz", "link": "https://stackoverflow.com/users/6758383/m-huntz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 37, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1479937673, "creation_date": 1479936516, "last_edit_date": 1479937673, "question_id": 40774440, "link": "https://stackoverflow.com/questions/40774440/matching-words-in-uppercase-with-regular-expression-on-a-text-with-multiple-line", "title": "Matching words in uppercase with Regular expression on a text with multiple lines", "body": "<p>I scraped several articles and collected them in a text file. From these articles I would like to extract all the words written in uppercase:</p>\n\n<p>This is a sample of one of the articles collected:</p>\n\n<pre><code>\"|[&lt;p&gt;Advertisement ,   By  Milan Schreur  and     Alissa J. Rubin    OCT. 5, 2016 \n ,  BRUSSELS \u2014 A man wounded two police officers with a knife in Brussels around noon on Wednesday in what the authorities called \u201ca potential terrorist attack.\u201d , ....]\"\n</code></pre>\n\n<p>What I want to extract are all those words typed in caps lock, in this case, the word \"BRUSSELS\", but in the file there are many more. So I would like to extract all those words entirely made of uppercases.</p>\n\n<p>I tried with something like this: </p>\n\n<pre><code>import re \n\ntext_open = open(\"Training_News_6.csv\")\ntext_read = text_open.read()\narticles = text_read.split(\"&lt;p&gt;\")\npattern = re.findall(\"\\s[A-Z]{4,}\\s\",'\\n'.join(articles))\nprint(pattern)\n</code></pre>\n"}, {"tags": ["python", "pdf", "text-extraction"], "comments": [{"owner": {"reputation": 21133, "user_id": 1084416, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RLhZZ.jpg?s=128&g=1", "display_name": "Peter Wood", "link": "https://stackoverflow.com/users/1084416/peter-wood"}, "edited": false, "score": 1, "creation_date": 1479936675, "post_id": 40774357, "comment_id": 68772801, "body": "Is Textract meant to be able to download from a website? I imagine you have to do that first with <a href=\"https://stackoverflow.com/questions/22676/how-do-i-download-a-file-over-http-using-python\">something like <code>urllib</code></a>"}, {"owner": {"reputation": 196, "user_id": 1616772, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/30810dad20251527a6e2c65413567b76?s=128&d=identicon&r=PG", "display_name": "jperry1147", "link": "https://stackoverflow.com/users/1616772/jperry1147"}, "reply_to_user": {"reputation": 21133, "user_id": 1084416, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RLhZZ.jpg?s=128&g=1", "display_name": "Peter Wood", "link": "https://stackoverflow.com/users/1084416/peter-wood"}, "edited": false, "score": 0, "creation_date": 1480501594, "post_id": 40774357, "comment_id": 68985737, "body": "Thanks Peter I think Textract can only process local files and urllib pointed me down the right road. I will add an answer with my code."}], "owner": {"reputation": 196, "user_id": 1616772, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/30810dad20251527a6e2c65413567b76?s=128&d=identicon&r=PG", "display_name": "jperry1147", "link": "https://stackoverflow.com/users/1616772/jperry1147"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 904, "favorite_count": 1, "answer_count": 0, "score": 2, "last_activity_date": 1479936565, "creation_date": 1479936161, "last_edit_date": 1479936565, "question_id": 40774357, "link": "https://stackoverflow.com/questions/40774357/python-textract-form-url", "title": "Python Textract form URL", "body": "<p>I am using <a href=\"https://textract.readthedocs.io/en/stable/\" rel=\"nofollow noreferrer\">Textract</a> in python on a web server as part of an API. I want to post a url to the server with a url and have textract extract text from that url (eg <a href=\"http://www.sample-videos.com/pdf/Sample-pdf-5mb.pdf\" rel=\"nofollow noreferrer\">http://www.sample-videos.com/pdf/Sample-pdf-5mb.pdf</a>)</p>\n\n<p>I get a 502 proxy error in response when I try to post and my python log shows</p>\n\n<blockquote>\n  <p>textract.exceptions.MissingFileError: The file \"<a href=\"http://www.sample-videos.com/pdf/Sample-pdf-5mb.pdf\" rel=\"nofollow noreferrer\">http://www.sample-videos.com/pdf/Sample-pdf-5mb.pdf</a>\" can not be found.</p>\n</blockquote>\n\n<p>Is this because Textract can't extract from remote files and if so, is there a work around?</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["python", "mocking"], "answers": [{"tags": [], "owner": {"reputation": 262567, "user_id": 748858, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/17gYz.png?s=128&g=1", "display_name": "mgilson", "link": "https://stackoverflow.com/users/748858/mgilson"}, "is_accepted": false, "score": -1, "last_activity_date": 1479936802, "last_edit_date": 1479936802, "creation_date": 1479936267, "answer_id": 40774392, "question_id": 40774343, "link": "https://stackoverflow.com/questions/40774343/how-to-python-mock-patch-the-open-method-in-multiple-files/40774392#40774392", "title": "How to python mock patch the open method in multiple files", "body": "<p>You should be able to patch <code>open</code> on the <code>__builtin__</code> (<code>builtins</code> on python3.x) module.</p>\n\n<pre><code>&gt;&gt;&gt; import __builtin__\n&gt;&gt;&gt; import mock\n&gt;&gt;&gt; p = mock.patch.object(__builtin__, 'open')\n&gt;&gt;&gt; p.start()\n&lt;MagicMock name='open' id='4331984720'&gt;\n&gt;&gt;&gt; open\n&lt;MagicMock name='open' id='4331984720'&gt;\n&gt;&gt;&gt; p.stop()\n&gt;&gt;&gt; open\n&lt;built-in function open&gt;\n</code></pre>\n\n<p>Of course, this will patch it <em>everywhere</em>.  There isn't a way to whitelist a set of specific modules for this case...</p>\n"}, {"tags": [], "owner": {"reputation": 1593, "user_id": 1279648, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Y3lqA.jpg?s=128&g=1", "display_name": "Gennady Kandaurov", "link": "https://stackoverflow.com/users/1279648/gennady-kandaurov"}, "is_accepted": false, "score": 4, "last_activity_date": 1480320843, "last_edit_date": 1480320843, "creation_date": 1479973919, "answer_id": 40780702, "question_id": 40774343, "link": "https://stackoverflow.com/questions/40774343/how-to-python-mock-patch-the-open-method-in-multiple-files/40780702#40780702", "title": "How to python mock patch the open method in multiple files", "body": "<p>There is no direct way to do what you want. The easiest way is using multiline <code>patch</code> decorator and <a href=\"http://www.voidspace.org.uk/python/mock/helpers.html#mock-open\" rel=\"nofollow noreferrer\">mock_open</a> to mock <code>open</code>:</p>\n\n<pre><code>m = mock.MagicMock(side_effect=OSError('not found'))    \nmopen = mock.mock_open(m)\n\n@mock.patch('file1.open', mopen, create=True)\n@mock.patch('file2.open', mopen, create=True)\ndef test_case():\n    with self.assertRaises(OSError):\n        hello1()\n\n    mopen.side_effect = IOError('er')\n    with self.assertRaises(IOError):\n        hello2()\n</code></pre>\n"}], "owner": {"reputation": 447, "user_id": 463499, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/b7f9b1db0e81c4ba90891a178895e633?s=128&d=identicon&r=PG", "display_name": "Sarvi Shanmugham", "link": "https://stackoverflow.com/users/463499/sarvi-shanmugham"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1354, "favorite_count": 1, "answer_count": 2, "score": 1, "last_activity_date": 1480320843, "creation_date": 1479936086, "question_id": 40774343, "link": "https://stackoverflow.com/questions/40774343/how-to-python-mock-patch-the-open-method-in-multiple-files", "title": "How to python mock patch the open method in multiple files", "body": "<p>I am looking for a way to do something like patch.specialmultiple below,\nWhere I want to patch, say the open method in multiple files with the same Mock object instance. Also so the when used as a decorator, there is only mock object passed to the decorated function</p>\n\n<p>Is there a way to do this with mock</p>\n\n<pre><code>file1.py\n---------\ndef hello():\n    open('test.data').read()\n\nfile2.py\n--------\ndef world():\n    open('test2.data').read()\n\nfile3.py\n--------\nmopen = mock.MagicMock(create=True)\n@patch.specialmultiple(['file1.open', 'file2.open'], new=mopen)\ndef test_case1(mopen):\n    open.side_effect = [OSError('not found'), OSError('Noy found')]\n</code></pre>\n"}, {"tags": ["python"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 7196467, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e7095ffe7c22d4d341d0c37895adadd?s=128&d=identicon&r=PG&f=1", "display_name": "rafie", "link": "https://stackoverflow.com/users/7196467/rafie"}, "edited": false, "score": 0, "creation_date": 1479936355, "post_id": 40774345, "comment_id": 68772658, "body": "Thankyou very much, it helped me a lot! :)"}], "tags": [], "owner": {"reputation": 54837, "user_id": 2390182, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KKx5r.png?s=128&g=1", "display_name": "schwobaseggl", "link": "https://stackoverflow.com/users/2390182/schwobaseggl"}, "is_accepted": false, "score": 4, "last_activity_date": 1479936108, "creation_date": 1479936108, "answer_id": 40774345, "question_id": 40774327, "link": "https://stackoverflow.com/questions/40774327/how-can-i-put-more-options-for-the-user-to-enter-in-python/40774345#40774345", "title": "How can i put more options for the user to enter in python?", "body": "<p>This should cover all your cases:</p>\n\n<pre><code>if answer.lower().startswith(\"y\"):\n</code></pre>\n\n<p>Convert to lower case and just check the first letter. If you want to really limit the answer to variations of <code>y</code> and <code>yes</code>, you could do:</p>\n\n<pre><code>if answer.lower() in (\"y\", \"yes\"):\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 7196467, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e7095ffe7c22d4d341d0c37895adadd?s=128&d=identicon&r=PG&f=1", "display_name": "rafie", "link": "https://stackoverflow.com/users/7196467/rafie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1479942545, "creation_date": 1479936011, "last_edit_date": 1479942545, "question_id": 40774327, "link": "https://stackoverflow.com/questions/40774327/how-can-i-put-more-options-for-the-user-to-enter-in-python", "title": "How can i put more options for the user to enter in python?", "body": "<p>I want to edit this code and allow the user to enter either: <code>Yes | No</code>, <code>Y | y</code>, or <code>N | n</code>!</p>\n\n<p>Can somebody help me please?</p>\n\n<pre><code>answer = input (\"Is your data correct? Please say Y or N only! : \")\n\nif answer == \"Y\":\n    print(\"Thankyou!\")\nelse:\n    print(\"Please re-enter your data again!\")\n</code></pre>\n"}, {"tags": ["python", "debian", "pip"], "answers": [{"comments": [{"owner": {"reputation": 2705, "user_id": 1016065, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/3Wv78.jpg?s=128&g=1", "display_name": "RolfBly", "link": "https://stackoverflow.com/users/1016065/rolfbly"}, "edited": false, "score": 0, "creation_date": 1479937913, "post_id": 40774564, "comment_id": 68773357, "body": "The alias is a nice workaround, thanks. There&#39;s a symlink <code>&#47;usrbin&#47;pip -&gt; &#47;usr&#47;local&#47;bin&#47;pip</code> but the latter doesn&#39;t exist."}, {"owner": {"reputation": 162, "user_id": 7180440, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ddca44e10b633fa8610ae75ea58c2a65?s=128&d=identicon&r=PG&f=1", "display_name": "Hong", "link": "https://stackoverflow.com/users/7180440/hong"}, "reply_to_user": {"reputation": 2705, "user_id": 1016065, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/3Wv78.jpg?s=128&g=1", "display_name": "RolfBly", "link": "https://stackoverflow.com/users/1016065/rolfbly"}, "edited": false, "score": 0, "creation_date": 1479938191, "post_id": 40774564, "comment_id": 68773483, "body": "How did you install your current pip? Last place to look would be <code>$HOME&#47;.local&#47;bin&#47;</code> but that would only be if you manually told python to install pip locally. If you have a symlink at <code>&#47;usr&#47;bin&#47;pip</code> and the target doesn&#39;t exist, I think it should error when trying to run the pip command instead of saying command not found. <code>which pip</code> will there you where it&#39;s looking."}, {"owner": {"reputation": 2705, "user_id": 1016065, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/3Wv78.jpg?s=128&g=1", "display_name": "RolfBly", "link": "https://stackoverflow.com/users/1016065/rolfbly"}, "edited": false, "score": 0, "creation_date": 1479938905, "post_id": 40774564, "comment_id": 68773754, "body": "Which pip says nothing. Empty line."}, {"owner": {"reputation": 162, "user_id": 7180440, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ddca44e10b633fa8610ae75ea58c2a65?s=128&d=identicon&r=PG&f=1", "display_name": "Hong", "link": "https://stackoverflow.com/users/7180440/hong"}, "reply_to_user": {"reputation": 2705, "user_id": 1016065, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/3Wv78.jpg?s=128&g=1", "display_name": "RolfBly", "link": "https://stackoverflow.com/users/1016065/rolfbly"}, "edited": false, "score": 0, "creation_date": 1479943361, "post_id": 40774564, "comment_id": 68775228, "body": "Then it&#39;s not in your PATH, so you don&#39;t have a <code>&#47;usr&#47;bin&#47;pip</code>. Was that a typo or is the directory actually named <code>&#47;usrbin&#47;pip</code> instead of <code>&#47;usr&#47;bin&#47;pip</code> ? Could also check the output of <code>echo $PATH</code> to make sure /usr/bin is in it (but it definitely should be)."}, {"owner": {"reputation": 162, "user_id": 7180440, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ddca44e10b633fa8610ae75ea58c2a65?s=128&d=identicon&r=PG&f=1", "display_name": "Hong", "link": "https://stackoverflow.com/users/7180440/hong"}, "reply_to_user": {"reputation": 2705, "user_id": 1016065, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/3Wv78.jpg?s=128&g=1", "display_name": "RolfBly", "link": "https://stackoverflow.com/users/1016065/rolfbly"}, "edited": false, "score": 0, "creation_date": 1480014911, "post_id": 40774564, "comment_id": 68808786, "body": "That&#39;s really strange... Anyway, my best guess is to check your <code>&#47;root&#47;.local&#47;bin</code> if it exists or your main user&#39;s <code>$HOME&#47;.local&#47;bin</code>. The alias should work for you in the meantime, but having a questionable environment is never good for a developer."}, {"owner": {"reputation": 2705, "user_id": 1016065, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/3Wv78.jpg?s=128&g=1", "display_name": "RolfBly", "link": "https://stackoverflow.com/users/1016065/rolfbly"}, "reply_to_user": {"reputation": 162, "user_id": 7180440, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ddca44e10b633fa8610ae75ea58c2a65?s=128&d=identicon&r=PG&f=1", "display_name": "Hong", "link": "https://stackoverflow.com/users/7180440/hong"}, "edited": false, "score": 0, "creation_date": 1480019970, "post_id": 40774564, "comment_id": 68810577, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/128976/discussion-between-rolfbly-and-hong\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 162, "user_id": 7180440, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ddca44e10b633fa8610ae75ea58c2a65?s=128&d=identicon&r=PG&f=1", "display_name": "Hong", "link": "https://stackoverflow.com/users/7180440/hong"}, "is_accepted": false, "score": 3, "last_activity_date": 1479937102, "creation_date": 1479937102, "answer_id": 40774564, "question_id": 40774324, "link": "https://stackoverflow.com/questions/40774324/yet-another-bash-pip-command-not-found/40774564#40774564", "title": "Yet another `bash: pip: command not found`", "body": "<p>Most packages, including Debian's package, adds a <code>/usr/bin/pip</code> (or <code>pip3</code>, see below). See: <a href=\"https://packages.debian.org/jessie/all/python-pip/filelist\" rel=\"nofollow noreferrer\">https://packages.debian.org/jessie/all/python-pip/filelist</a></p>\n\n<p>I <em>think</em> the pip installer via get-pip.py also does this.</p>\n\n<p>The file basically relays it through python via console_scripts.</p>\n\n<p>Check your /usr/bin and /usr/local/bin for pip. (if you installed pip outside of a package manager or without root/sudo then they probably don't exist). But they should...</p>\n\n<p>If you're on python3, the file might be named pip3 so check /usr/bin and /usr/local/bin for that instead.</p>\n\n<p>You can add an entry to your .bash_aliases to alias if you want the shortcut:</p>\n\n<pre><code>alias pip='pip3'\n# or\n# alias pip='python pip'\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2705, "user_id": 1016065, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/3Wv78.jpg?s=128&g=1", "display_name": "RolfBly", "link": "https://stackoverflow.com/users/1016065/rolfbly"}, "is_accepted": true, "score": 2, "last_activity_date": 1484343719, "last_edit_date": 1484343719, "creation_date": 1479999315, "answer_id": 40789439, "question_id": 40774324, "link": "https://stackoverflow.com/questions/40774324/yet-another-bash-pip-command-not-found/40789439#40789439", "title": "Yet another `bash: pip: command not found`", "body": "<p>Attempts to re-install or fix failed. So I removed pip completely and did what I hope is a clean install. First: </p>\n\n<pre><code>sudo apt-get remove --auto-remove python-pip \n</code></pre>\n\n<p>Then delete pips caches and existing downloads, where appropriate (in my case, I left still working <code>pips</code> inside virtual environments alone): </p>\n\n<pre><code>sudo find / -type d -name 'pip*'\nsudo rm -rf &lt;dirname&gt;\n</code></pre>\n\n<p>Then download the official pip installer and install it: </p>\n\n<pre><code>wget https://bootstrap.pypa.io/get-pip.py \nsudo python get-pip.py  \n</code></pre>\n\n<p>Now <code>pip freeze</code> runs without errors. In addition:  </p>\n\n<ul>\n<li><p>the cause was that the pip-script was gone. After the re-install, it's there again: <code>/usr/local/bin/pip</code>. So what I thought: </p>\n\n<blockquote>\n  <p>the bash shell must understand when to act as a python interpreter. Which it doesn't.  </p>\n</blockquote>\n\n<p>is not right. The shell <em>will</em> launch a python script, if its shebang-line  points to the proper interpreter. Learning all the time...  </p></li>\n<li><p>many sources suggest to <code>sudo apt-get install python-pip</code>. That's wrong. <code>apt-get</code> is several versions behind the current stable one. Mixing versions leads to all sorts of errors.  </p></li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 594, "user_id": 7826656, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-s4AureDNgSM/AAAAAAAAAAI/AAAAAAAABDk/XzUMZwG7f0g/photo.jpg?sz=128", "display_name": "Saif Siddiqui", "link": "https://stackoverflow.com/users/7826656/saif-siddiqui"}, "is_accepted": false, "score": 1, "last_activity_date": 1578325788, "creation_date": 1578325788, "answer_id": 59615073, "question_id": 40774324, "link": "https://stackoverflow.com/questions/40774324/yet-another-bash-pip-command-not-found/59615073#59615073", "title": "Yet another `bash: pip: command not found`", "body": "<p>use <code>python3 -m pip install X</code> where X is the package name like if I want to install Pillow Python Imaging Library is will use</p>\n\n<pre><code>python3 -m pip install Pillow\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 139, "user_id": 11191787, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0378fd06d8ed344f242f85f8063ace50?s=128&d=identicon&r=PG&f=1", "display_name": "Ebin Zacharias", "link": "https://stackoverflow.com/users/11191787/ebin-zacharias"}, "is_accepted": false, "score": 0, "last_activity_date": 1592231158, "creation_date": 1592231158, "answer_id": 62390330, "question_id": 40774324, "link": "https://stackoverflow.com/questions/40774324/yet-another-bash-pip-command-not-found/62390330#62390330", "title": "Yet another `bash: pip: command not found`", "body": "<p>This solved the issue for me.</p>\n\n<p>Purge and reinstall pip.</p>\n\n<pre><code>sudo apt-get purge python-pip\nsudo apt-get update\nsudo apt-get install python-pip\n</code></pre>\n"}], "owner": {"reputation": 2705, "user_id": 1016065, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/3Wv78.jpg?s=128&g=1", "display_name": "RolfBly", "link": "https://stackoverflow.com/users/1016065/rolfbly"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 30127, "favorite_count": 2, "accepted_answer_id": 40789439, "answer_count": 4, "score": 3, "last_activity_date": 1592231158, "creation_date": 1479935982, "last_edit_date": 1495541448, "question_id": 40774324, "link": "https://stackoverflow.com/questions/40774324/yet-another-bash-pip-command-not-found", "title": "Yet another `bash: pip: command not found`", "body": "<p>Lots of installation instructions tell you to do <code>pip install [package]</code>. But in my case that won't work, it'll say <code>-bash: pip: command not found</code>  </p>\n\n<p><code>python pip install [package]</code> works OK. Likewise for <code>easy_install</code>, won't run by itself, will run when started with python. </p>\n\n<p>I'm confused as to how it <em>should</em> work. Pip is no executable, there's no module called pip.py, there's only <code>&lt;path&gt;\\pip\\__init__.py</code>. So if <code>pip install [package]</code> is to work properly, the bash shell must understand when to act as a python interpreter. Which it doesn't. </p>\n\n<p>I don't believe all those install instructions are off. So I must be missing something. What?</p>\n\n<p><a href=\"https://stackoverflow.com/questions/9780717/bash-pip-command-not-found\">This</a> didn't help, nor did <a href=\"https://stackoverflow.com/a/30017353/1016065\">this</a>, in fact trying <code>sudo apt-get install python-pip</code> led to what I think is an <a href=\"https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=787165;msg=5\" rel=\"nofollow noreferrer\">unresolved bug</a>. So I had to revert to <a href=\"https://stackoverflow.com/a/40578125/1016065\">this solution</a>, to get me a somewhat working pip. (Now read again from the top). </p>\n\n<p><strong>Edit</strong>: Python 2.7. Not 3.x.  </p>\n"}, {"tags": ["python", "machine-learning", "scikit-learn", "classification", "feature-selection"], "answers": [{"comments": [{"owner": {"reputation": 23937, "user_id": 678572, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/kZ2Ia.jpg?s=128&g=1", "display_name": "O.rka", "link": "https://stackoverflow.com/users/678572/o-rka"}, "edited": false, "score": 0, "creation_date": 1480099613, "post_id": 40775918, "comment_id": 68842132, "body": "Is this target specific? Or does it apply the prediction process in general?"}, {"owner": {"reputation": 4592, "user_id": 1571826, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/2fd1e91f14448fca131100f9c8f32f5a?s=128&d=identicon&r=PG", "display_name": "Def_Os", "link": "https://stackoverflow.com/users/1571826/def-os"}, "reply_to_user": {"reputation": 23937, "user_id": 678572, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/kZ2Ia.jpg?s=128&g=1", "display_name": "O.rka", "link": "https://stackoverflow.com/users/678572/o-rka"}, "edited": false, "score": 0, "creation_date": 1480359727, "post_id": 40775918, "comment_id": 68919747, "body": "Updated my answer to better address target-specific reasoning."}, {"owner": {"reputation": 23937, "user_id": 678572, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/kZ2Ia.jpg?s=128&g=1", "display_name": "O.rka", "link": "https://stackoverflow.com/users/678572/o-rka"}, "edited": false, "score": 0, "creation_date": 1480879449, "post_id": 40775918, "comment_id": 69134480, "body": "Thanks for the updates on your answer.  The single targets section gives some insight on how it could possibly be done but it is basically saying to build the models from scratch and cataloging the data.  The sensitivity analysis and looking back into the model sections seem to require intense combinatorics to try all of the variations and their predictive capacity.  The general feature importance is what I was trying to avoid.  Although, the f-test is very interesting and I didn&#39;t know that exists.  Thank you for that.  Up-voted."}], "tags": [], "owner": {"reputation": 4592, "user_id": 1571826, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/2fd1e91f14448fca131100f9c8f32f5a?s=128&d=identicon&r=PG", "display_name": "Def_Os", "link": "https://stackoverflow.com/users/1571826/def-os"}, "is_accepted": false, "score": 4, "last_activity_date": 1480359671, "last_edit_date": 1492087457, "creation_date": 1479944312, "answer_id": 40775918, "question_id": 40774323, "link": "https://stackoverflow.com/questions/40774323/attributes-predictive-capacity-for-a-particular-target-in-python-using-feature/40775918#40775918", "title": "Attribute&#39;s predictive capacity for a particular target in Python, using feature selection in Sklearn", "body": "<p><strong>Single targets</strong></p>\n\n<p>Most models are hardly black boxes, so if you are interested in a specific target, you could simply look at the coefficients of the model and do the model calculation by hand to understand how the model came to its output. E.g.:</p>\n\n<ul>\n<li>For a linear model you simply need to multiply with the coefficients and add the bias</li>\n<li>For a neural network you need to know all the coefficients and activation functions and do a few calculations to have a look at how the inputs are translated into new 'features' in the hidden layers and then finally outputs</li>\n<li>For a random forest you need to look at the decision boundaries of all the trees in the forest</li>\n<li>Etc.</li>\n</ul>\n\n<p>Based on such analysis, you could decide what inputs you consider most important.</p>\n\n<p><strong>Sensitivity analysis</strong></p>\n\n<p>More useful, perhaps, would be to look at how the model output changes when your input values change. This will give you a higher-level insight into how important and sensitive the inputs are. This concept is called <a href=\"https://www.wikiwand.com/en/Sensitivity_analysis\" rel=\"nofollow noreferrer\">sensitivity analysis</a>. For most methods, you could simply do some random sampling on the inputs and analyze the outputs.</p>\n\n<p>This can be useful for feature selection, as insensitive inputs are candidates for pruning.</p>\n\n<p><strong>Looking back into the model</strong></p>\n\n<p>Sensitivity analysis is based on the idea of perturbing the input to the model to learn something about how the model comes up with its output. The other way of looking at things would be to take the output and reason backwards into the model and finally the inputs. Such an approach is:</p>\n\n<ol>\n<li>Highly specific to the model technique in question</li>\n<li>Complex, since the more non-linear a model is, and the more feature interactions the model has, the harder it is to 'untangle things'.</li>\n</ol>\n\n<p>For a discussion specific to Random Forests, have a look at <a href=\"https://stats.stackexchange.com/questions/21152/obtaining-knowledge-from-a-random-forest\">this Q&amp;A</a>.</p>\n\n<p>Visualization techniques can help. Example from a neural network tool that could give insight: <a href=\"http://playground.tensorflow.org/\" rel=\"nofollow noreferrer\">http://playground.tensorflow.org/</a></p>\n\n<p><strong>General feature importance</strong></p>\n\n<p>For general feature importance, i.e. over all targets, you can look at <a href=\"http://scikit-learn.org/stable/modules/feature_selection.html#univariate-feature-selection\" rel=\"nofollow noreferrer\">this part of the scikit-learn documentation</a>.</p>\n\n<p><a href=\"http://scikit-learn.org/stable/auto_examples/feature_selection/plot_feature_selection.html\" rel=\"nofollow noreferrer\">The example here</a> shows how you can do univariate feature selection with the F-test for feature scoring.</p>\n"}, {"tags": [], "owner": {"reputation": 29554, "user_id": 839957, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/3ac5824c6cc4817a754a186d6a45a08b?s=128&d=identicon&r=PG", "display_name": "maxymoo", "link": "https://stackoverflow.com/users/839957/maxymoo"}, "is_accepted": false, "score": 2, "last_activity_date": 1479952633, "creation_date": 1479952633, "answer_id": 40776938, "question_id": 40774323, "link": "https://stackoverflow.com/questions/40774323/attributes-predictive-capacity-for-a-particular-target-in-python-using-feature/40776938#40776938", "title": "Attribute&#39;s predictive capacity for a particular target in Python, using feature selection in Sklearn", "body": "<p>I would manually construct separate binary classification models for each of your different possible target values and compare the models. You could possibly normalize the values, however the numerical values themselves are less informative that the ordering of the variables. </p>\n\n<p>Also you might want to look at using a logistic regression model for a different way of calculating your feature importances.</p>\n"}], "owner": {"reputation": 23937, "user_id": 678572, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/kZ2Ia.jpg?s=128&g=1", "display_name": "O.rka", "link": "https://stackoverflow.com/users/678572/o-rka"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 347, "favorite_count": 2, "answer_count": 2, "score": 9, "last_activity_date": 1480879658, "creation_date": 1479935980, "last_edit_date": 1480879658, "question_id": 40774323, "link": "https://stackoverflow.com/questions/40774323/attributes-predictive-capacity-for-a-particular-target-in-python-using-feature", "title": "Attribute&#39;s predictive capacity for a particular target in Python, using feature selection in Sklearn", "body": "<p><strong>Are there any feature selection methods in <code>Scikit-Learn</code> (or algos in general) that give weights of an attribute's ability/predictive-capacity/importance to predict a specific target?</strong>  For example, the <code>from sklearn.datasets import load_iris</code>, ranking each of the 4 attributes weights to predict the 3 iris species separately but for much more complex datasets w/ ~1k-10k attributes. </p>\n\n<p>I'm looking for something analogous to the <code>feature_importances_</code> from <a href=\"http://scikit-learn.org/stable/modules/generated/sklearn.ensemble.RandomForestClassifier.html\" rel=\"nofollow noreferrer\">RandomForestClassifier</a>.  However, <code>RandomForestClassifer</code> gives weights to each attribute for the entire prediction process.  The weights do not need to add up to one but I want to find a way to correlate a specific subset of attributes to a specific target. </p>\n\n<p>First I tried \"overfitting\" the models to enrich for a specific target but the results didn't seem to change much between targets.   Second, I tried going the ordination route by finding which attributes have the greatest variation but that doesn't directly translate to predictive capacity.  Third, I tried sparse models but I encountered the same problem as using <code>feature_importances_</code>. </p>\n\n<p><strong>A link to an example or tutorial that does exactly this is sufficient.  Possibly a tutorial on how to traverse decision trees in a random forest and store the nodes that are predictive of specific targets.</strong> </p>\n"}, {"tags": ["python", "generator", "python-3.5", "python-asyncio", "python-3.6"], "comments": [{"owner": {"reputation": 24473, "user_id": 57952, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/920d3f95a8dfb28d2e716ce91f40105a?s=128&d=identicon&r=PG", "display_name": "Udi", "link": "https://stackoverflow.com/users/57952/udi"}, "edited": false, "score": 0, "creation_date": 1482626976, "post_id": 40774303, "comment_id": 69839596, "body": "python 3.6 was released :-)"}], "answers": [{"tags": [], "owner": {"reputation": 24473, "user_id": 57952, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/920d3f95a8dfb28d2e716ce91f40105a?s=128&d=identicon&r=PG", "display_name": "Udi", "link": "https://stackoverflow.com/users/57952/udi"}, "is_accepted": false, "score": 0, "last_activity_date": 1482628909, "creation_date": 1482628909, "answer_id": 41318075, "question_id": 40774303, "link": "https://stackoverflow.com/questions/40774303/how-do-i-convert-code-that-uses-generators-to-asyncio/41318075#41318075", "title": "How do I convert code that uses generators to asyncio", "body": "<p><a href=\"https://docs.python.org/3/library/asyncio-task.html#asyncio.as_completed\" rel=\"nofollow noreferrer\"><code>asyncio.as_completed()</code></a> might be a better solution here:</p>\n\n<pre><code># pip install beautifulsoup4 aiohttp\nimport asyncio\nfrom urllib.parse import urljoin\n\nimport aiohttp\nimport async_timeout\nfrom bs4 import BeautifulSoup\n\nBASE_URL = \"http://www.thewebsiteyouarescraping.com/\"\nSELECTOR = \".tournament a\"\n\nasync def fetch(session, url):\n    with async_timeout.timeout(10):\n        async with session.get(url) as response:\n            return url, await response.text()\n\n\nasync def main(base_url, selector, loop):\n    async with aiohttp.ClientSession(loop=loop) as session:\n        _, page = await fetch(session, base_url)\n        urls = (urljoin(base_url, link['href']) for link in\n                BeautifulSoup(page, 'html.parser').select(selector))\n        tasks = {fetch(session, url): url for url in urls}\n        for fut in asyncio.as_completed(tasks, loop=loop):\n            process(*await fut)\n        # Compare with:\n        # for fut in tasks:\n        #     process(*await fut)\n\n\ndef process(url, page):\n    print(url, len(page))\n\n\nloop = asyncio.get_event_loop()\nloop.run_until_complete(main(BASE_URL, SELECTOR, loop))\nloop.close()\n</code></pre>\n"}], "owner": {"reputation": 13145, "user_id": 4850343, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/BNXOO.jpg?s=128&g=1", "display_name": "Sebastian Wozny", "link": "https://stackoverflow.com/users/4850343/sebastian-wozny"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 714, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1482628909, "creation_date": 1479935884, "question_id": 40774303, "link": "https://stackoverflow.com/questions/40774303/how-do-i-convert-code-that-uses-generators-to-asyncio", "title": "How do I convert code that uses generators to asyncio", "body": "<p>I have a piece of I/O-bound code that is basically doing some web scraping for a research project of mine.</p>\n\n<p>The code started imperative, then became list-comprehensions which now mostly turned into generators:</p>\n\n<pre><code>if __name__ == '__main__':\n    while True:\n        with suppress(Exception):\n            page = requests.get(baseUrl).content\n        urls = (baseUrl + link['href'] for link in BeautifulSoup(page,'html.parser').select('.tournament a'))\n        resources = (scrape_host(url) for url in urls)\n        keywords = ((keywords_for_resource(referer, site_id), rid) for\n                          referer, site_id, rid in resources)\n        output = (scrape(years, animals) for years, animals in keywords)\n        responses = (post_data_with_exception_handling(list(data)) for data in output)\n        for response in responses:\n            print(response.status_code)\n</code></pre>\n\n<p>This kind of code really fits well into my head, and since it's based on generators, without storing much state, I figured I could pretty easily turn this into <code>asyncio</code> based code:</p>\n\n<pre><code>async def fetch(session, url):\n    with async_timeout.timeout(10):\n        async with session.get(url) as response:\n            return await response.text()             \nasync def main(loop):\n    async with aiohttp.ClientSession(loop=loop) as session: \n        page = await fetch(session,baseUrl)\n        urls = (baseUrl + link['href'] for link in BeautifulSoup(page,'html.parser').select('.tournament a'))\n        subpages = (await fetch(session,url) for url in urls)\n</code></pre>\n\n<p>However in Python 3.5 this just returns a <code>Syntax error</code> since the <code>await</code> expression is not allowed inside comprehensions.</p>\n\n<p>Python 3.6 promises to implement <a href=\"https://docs.python.org/3.6/whatsnew/3.6.html#whatsnew36-pep530\" rel=\"nofollow noreferrer\">asynchronous generators in pep 530</a>.</p>\n\n<p>Will this feature enable me to convert generator based code to <code>asyncio</code> code easily, or does it also need a complete rewrite?</p>\n"}, {"tags": ["python", "robotframework"], "answers": [{"comments": [{"owner": {"reputation": 476, "user_id": 1191286, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/W1xmY.jpg?s=128&g=1", "display_name": "davegallant", "link": "https://stackoverflow.com/users/1191286/davegallant"}, "edited": false, "score": 0, "creation_date": 1479996621, "post_id": 40776356, "comment_id": 68799417, "body": "Brilliant, It works. Doesn&#39;t reduce readability too much either."}, {"owner": {"reputation": 14553, "user_id": 3446126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/I37Df.png?s=128&g=1", "display_name": "Todor Minakov", "link": "https://stackoverflow.com/users/3446126/todor-minakov"}, "edited": false, "score": 0, "creation_date": 1487665467, "post_id": 40776356, "comment_id": 71874259, "body": "Or in the more general case, cast the variable to integer before the assignment, e.g. &#39;${value}   Convert To Number   ${value}&#39;, and then &#39;${foo}=  create dictionary    sensor_id=${value}&#39;"}], "tags": [], "owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "is_accepted": true, "score": 9, "last_activity_date": 1479947519, "creation_date": 1479947519, "answer_id": 40776356, "question_id": 40774299, "link": "https://stackoverflow.com/questions/40774299/robotframework-create-dictionary-with-an-integer-value-instead-of-string/40776356#40776356", "title": "RobotFramework Create Dictionary with an integer value instead of string", "body": "<p>In robot, you can coerce a string to an integer by putting it inside <code>${}</code></p>\n\n<pre><code>${foo}=  create dictionary    sensor_id=${1}\n</code></pre>\n\n<p>With the above, the value in the dictionary will be an integer.</p>\n\n<p>For more information see <a href=\"http://robotframework.org/robotframework/latest/RobotFrameworkUserGuide.html#number-variables\" rel=\"noreferrer\">Number Variables</a> in the robot framework user guide.</p>\n"}, {"tags": [], "owner": {"reputation": 381, "user_id": 4941465, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9004e3a66327fd5a198e303f229183b5?s=128&d=identicon&r=PG&f=1", "display_name": "Blake H", "link": "https://stackoverflow.com/users/4941465/blake-h"}, "is_accepted": false, "score": 0, "last_activity_date": 1533032765, "creation_date": 1533032765, "answer_id": 51611174, "question_id": 40774299, "link": "https://stackoverflow.com/questions/40774299/robotframework-create-dictionary-with-an-integer-value-instead-of-string/51611174#51611174", "title": "RobotFramework Create Dictionary with an integer value instead of string", "body": "<ul>\n<li>literals evaluate to strings (<code>sensor_id=1</code>)</li>\n<li><code>${}</code>'d literals evaluate to integers (<code>sensor_id=${1}</code>) - this is what you need to answer your question</li>\n<li><code>${VAR}</code> variables default to strings</li>\n<li>Use <code>${VAR} =  Convert To Integer  ${VAR}</code> to rebind a variable's type</li>\n</ul>\n"}], "owner": {"reputation": 476, "user_id": 1191286, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/W1xmY.jpg?s=128&g=1", "display_name": "davegallant", "link": "https://stackoverflow.com/users/1191286/davegallant"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5592, "favorite_count": 1, "accepted_answer_id": 40776356, "answer_count": 2, "score": 5, "last_activity_date": 1533032765, "creation_date": 1479935857, "last_edit_date": 1479996660, "question_id": 40774299, "link": "https://stackoverflow.com/questions/40774299/robotframework-create-dictionary-with-an-integer-value-instead-of-string", "title": "RobotFramework Create Dictionary with an integer value instead of string", "body": "<pre><code>Create Dictionary   sensor_id=1\n</code></pre>\n\n<p>when using Python gives me:</p>\n\n<pre><code>{'sensor_id': '1'}\n</code></pre>\n\n<p>Where really I want:</p>\n\n<pre><code>{'sensor_id': 1}\n</code></pre>\n\n<p>Is there anyway to prevent the robot framework from adding these quotes to my integer values?</p>\n"}, {"tags": ["python", "pygame", "project"], "answers": [{"tags": [], "owner": {"reputation": 2232, "user_id": 2641278, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sZDfW.jpg?s=128&g=1", "display_name": "Adrian Sanguineti", "link": "https://stackoverflow.com/users/2641278/adrian-sanguineti"}, "is_accepted": false, "score": 0, "last_activity_date": 1479937555, "creation_date": 1479937555, "answer_id": 40774658, "question_id": 40774276, "link": "https://stackoverflow.com/questions/40774276/python-display-sprites/40774658#40774658", "title": "Python Display Sprites", "body": "<p>It looks like you are calling <code>pygame.display.set_mode</code> too late. You need to move these lines before you create a new instance of <code>Player()</code> as the constructor you have defined is trying to load an image before the display mode has been set.</p>\n\n<pre><code>display_width = 1280\ndisplay_height = 720\n\ngalaxianDisplay = pygame.display.set_mode((display_width, display_height))\n</code></pre>\n\n<p>In other words, your code should look like this</p>\n\n<pre><code>...\n\nall_sprites = pygame.sprite.Group()\n\ndisplay_width = 1280\ndisplay_height = 720\n\ngalaxianDisplay = pygame.display.set_mode((display_width, display_height))   \n\nplayer = Player()\n\nall_sprites.add(player)\n\npygame.mixer.music.load(\"C:\\Users\\Iain\\Desktop\\Computing Project\\Audio\\music\\soundtrack.mp3\")\npygame.mixer.music.play(-1)\n\n...\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "is_accepted": true, "score": 1, "last_activity_date": 1576351281, "last_edit_date": 1576351281, "creation_date": 1479939609, "answer_id": 40775076, "question_id": 40774276, "link": "https://stackoverflow.com/questions/40774276/python-display-sprites/40775076#40775076", "title": "Python Display Sprites", "body": "<p>Method <a href=\"http://pygame.org/docs/ref/surface.html#pygame.Surface.convert\" rel=\"nofollow noreferrer\">.convert()</a> needs information about display/window color depth (8-bit, 16-bit, 24-bit or 32-bit)</p>\n\n<p>So first you have to create this display/window using <a href=\"http://pygame.org/docs/ref/display.html#pygame.display.set_mode\" rel=\"nofollow noreferrer\">set_display()</a></p>\n\n<hr>\n\n<p><strong>EDIT:</strong> Full code. </p>\n\n<p>It executes <code>set_mode()</code> before it executes <code>background = pygame.image.load(...).convert()</code> and even <code>self.image = pygame.image.load(...).convert()</code></p>\n\n<pre><code>import pygame\nimport random\n\n# --- constants --- (UPPER_CASE names)\n\nWHITE  = (255, 255, 255)\nBLACK  = (  0,   0,   0)\nRED    = (255,   0,   0)\nGREEN  = (  0, 255,   0)\nBLUE   = (  0,   0, 255)\nORANGE = (255, 255,   0)\nYELLOW = (  0, 255, 255)\n\nDISPLAY_WIDTH = 1280\nDISPLAY_HEIGHT = 720\n\nFPS = 60\n\n# --- classes --- (CamelCase names)\n\nclass Player(pygame.sprite.Sprite):\n                                     # &lt;-- empty line for readabelity\n    def __init__(self):\n        pygame.sprite.Sprite.__init__(self)\n\n        self.image = pygame.image.load(\"images\\\\user1.gif\").convert()\n        self.rect = self.image.get_rect()\n        self.speed_x = 0\n\n    def update(self):\n        self.rect.x += self.speed_x\n\n# --- functions --- (lower_case names)\n\n# empty\n\n# --- main --- (lower_case names)\n\n# - init -\n\npygame.init()\npygame.mixer.init()\n\ndisplay = pygame.display.set_mode((DISPLAY_WIDTH, DISPLAY_HEIGHT))\ndisplay_rect = display.get_rect()\n\n# - objects -\n\nall_sprites = pygame.sprite.Group()\n\nplayer = Player()\nplayer.rect.center = display_rect.center\nplayer.speed_x = 1\n\nall_sprites.add(player)\n\nbackground = pygame.image.load(\"C:\\\\Users\\\\Iain\\\\Desktop\\\\Computing Project\\\\images\\\\Background.jpg\").convert()\nbackground = pygame.transform.scale(background, (DISPLAY_WIDTH, DISPLAY_HEIGHT))\n\n# - other -\n\npygame.mixer.music.load(\"C:\\\\Users\\\\Iain\\\\Desktop\\\\Computing Project\\Audio\\\\music\\\\soundtrack.mp3\")\npygame.mixer.music.play(-1)\n\n# - mainloop -\n\ncrashed = False\nclock = pygame.time.Clock()\n\nwhile not crashed:\n\n    # - events -\n\n    for event in pygame.event.get():\n        if event.type == pygame.QUIT:\n            crashed = True\n\n        print(event)\n\n    # - updates (without draws) -\n\n    all_sprites.update()\n\n    # - draws (without updates) -\n\n    display.blit(background, (0, 0))\n\n    all_sprites.draw(display)\n\n    pygame.display.update()\n\n    # - FPS -\n\n    clock.tick(FPS)\n\n# - end -\npygame.quit()\n</code></pre>\n"}], "owner": {"reputation": 71, "user_id": 7202289, "user_type": "registered", "accept_rate": 92, "profile_image": "https://lh3.googleusercontent.com/-mCct1kNBZkY/AAAAAAAAAAI/AAAAAAAAAHk/fSmWAV_8Li4/photo.jpg?sz=128", "display_name": "Harry Beggs", "link": "https://stackoverflow.com/users/7202289/harry-beggs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1488, "favorite_count": 0, "accepted_answer_id": 40775076, "answer_count": 2, "score": 0, "last_activity_date": 1576351281, "creation_date": 1479935748, "question_id": 40774276, "link": "https://stackoverflow.com/questions/40774276/python-display-sprites", "title": "Python Display Sprites", "body": "<p>in computing in school we haave to do a project, mines is to make a Space Invaders type game. I am still new to python and keep getting these two errors! I dont know how to fix them, any help would be much appreciated.</p>\n\n<pre><code>C:\\Python27\\python.exe \"C:/Users/Iain/Desktop/Computing Project/Galaxian.py\"\nTraceback (most recent call last):\n  File \"C:/Users/Iain/Desktop/Computing Project/Galaxian.py\", line 32, in &lt;module&gt;\n    player = Player()\n  File \"C:/Users/Iain/Desktop/Computing Project/Galaxian.py\", line 23, in __init__\n    self.image = pygame.image.load('images\\user1.gif').convert()\npygame.error: No video mode has been set\n\nProcess finished with exit code 1\n</code></pre>\n\n<p>Here is my code (Its very messy I know and I am sorry :p)</p>\n\n<pre><code>import random\nimport pygame\n\n# Colours\n\nWhite = (255, 255, 255)\nBlack = (0, 0, 0)\nRed = (255, 0, 0)\nGreen = (0, 255, 0)\nBlue = (0, 0, 255)\nOrange = (255, 255, 0)\nYellow = (0, 255, 255)\n\n# Initialize the game and display\npygame.init()\npygame.mixer.init()\n\nclass Player(pygame.sprite.Sprite):\n    def __init__(self):\n        # type: () -&gt; object\n\n        pygame.sprite.Sprite.__init__(self)\n        self.image = pygame.image.load('images\\user1.gif').convert()\n        self.rect = self.image.get_rect()\n        self.speedx = 0\n\n        def update(self):\n            self.rectx += self.speedx\n\nall_sprites = pygame.sprite.Group()\n\nplayer = Player()\n\nall_sprites.add(player)\n\n\npygame.mixer.music.load(\"C:\\Users\\Iain\\Desktop\\Computing Project\\Audio\\music\\soundtrack.mp3\")\npygame.mixer.music.play(-1)\n\ndisplay_width = 1280\ndisplay_height = 720\n\ngalaxianDisplay = pygame.display.set_mode((display_width, display_heightth))\n\nclock = pygame.time.Clock()\nBackground = pygame.image.load(\"C:\\Users\\Iain\\Desktop\\Computing Project\\images\\Background.jpg\").convert()\nBackground = pygame.transform.scale(Background, (1280, 720))\n\ngalaxianDisplay.blit(Background, [0, 0])\nx = display_width / 2\ny = display_height / 2\n\n# Loop\n\ncrashed = False\n\nwhile not crashed:\n\n    for event in pygame.event.get():\n        if event.type == pygame.QUIT:\n            crashed = True\n\n        print(event)\n    pygame.display.update()\n    clock.tick(60)\n\npygame.quit()\nquit\n</code></pre>\n\n<p>Any help would be great, thanks.</p>\n"}, {"tags": ["python", "binary", "hex", "bit-manipulation", "checksum"], "comments": [{"owner": {"reputation": 695068, "user_id": 20862, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2343ae368d3241278581ce6c87f62a25?s=128&d=identicon&r=PG", "display_name": "Ignacio Vazquez-Abrams", "link": "https://stackoverflow.com/users/20862/ignacio-vazquez-abrams"}, "edited": false, "score": 1, "creation_date": 1479935871, "post_id": 40774250, "comment_id": 68772444, "body": "It all looks like straightforward math. Which part are you having trouble with?"}, {"owner": {"reputation": 4420, "user_id": 6822, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/fe62dcab3879bc1adf557d4176d4326e?s=128&d=identicon&r=PG", "display_name": "Chris Barry", "link": "https://stackoverflow.com/users/6822/chris-barry"}, "reply_to_user": {"reputation": 695068, "user_id": 20862, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2343ae368d3241278581ce6c87f62a25?s=128&d=identicon&r=PG", "display_name": "Ignacio Vazquez-Abrams", "link": "https://stackoverflow.com/users/20862/ignacio-vazquez-abrams"}, "edited": false, "score": 0, "creation_date": 1479937240, "post_id": 40774250, "comment_id": 68773066, "body": "I&#39;ve added a little bit of what I&#39;ve attempted (I&#39;ve tried about 3 other things as well, slicing with a bit mask, and things like that)  I guess I don&#39;t understand this sentence very well - Change the four least significant bits to \u201c1\u201d using OR operator, forming Checksum1, where the four most significant bits of Checksum are stored."}, {"owner": {"reputation": 4420, "user_id": 6822, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/fe62dcab3879bc1adf557d4176d4326e?s=128&d=identicon&r=PG", "display_name": "Chris Barry", "link": "https://stackoverflow.com/users/6822/chris-barry"}, "reply_to_user": {"reputation": 695068, "user_id": 20862, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2343ae368d3241278581ce6c87f62a25?s=128&d=identicon&r=PG", "display_name": "Ignacio Vazquez-Abrams", "link": "https://stackoverflow.com/users/20862/ignacio-vazquez-abrams"}, "edited": false, "score": 0, "creation_date": 1479937362, "post_id": 40774250, "comment_id": 68773109, "body": "Also, my sum is giving me 582, where as in the example, they get 0x46 which is 70?"}], "answers": [{"comments": [{"owner": {"reputation": 4420, "user_id": 6822, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/fe62dcab3879bc1adf557d4176d4326e?s=128&d=identicon&r=PG", "display_name": "Chris Barry", "link": "https://stackoverflow.com/users/6822/chris-barry"}, "edited": false, "score": 0, "creation_date": 1479937743, "post_id": 40774663, "comment_id": 68773282, "body": "Utterly fantastic help. I&#39;m fairly rusty on this stuff, and your answers make complete sense. It&#39;s nice to see exactly how your using the masks in both ways."}], "tags": [], "owner": {"reputation": 695068, "user_id": 20862, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2343ae368d3241278581ce6c87f62a25?s=128&d=identicon&r=PG", "display_name": "Ignacio Vazquez-Abrams", "link": "https://stackoverflow.com/users/20862/ignacio-vazquez-abrams"}, "is_accepted": true, "score": 1, "last_activity_date": 1479937573, "creation_date": 1479937573, "answer_id": 40774663, "question_id": 40774250, "link": "https://stackoverflow.com/questions/40774250/calculating-a-checksum-using-the-most-and-least-significant-bits-differently/40774663#40774663", "title": "Calculating a checksum, using the most and least significant bits differently", "body": "<blockquote>\n  <p>The result is obtained as an unsigned char.</p>\n</blockquote>\n\n<p>This means that you must only use the 8 least significant bits to calculate.</p>\n\n<pre><code>&gt;&gt;&gt; (0x02 + 0x30 + 0x30 + 0x81 + 0x56 + 0x8b + 0x82)\n582\n&gt;&gt;&gt; (0x02 + 0x30 + 0x30 + 0x81 + 0x56 + 0x8b + 0x82) &amp; 0xff\n70\n</code></pre>\n\n<p>And then within those 8 bits you need to set the 4 most and least significant bits.</p>\n\n<pre><code>&gt;&gt;&gt; 70 | 0xf0\n246\n&gt;&gt;&gt; 70 | 0x0f\n79\n</code></pre>\n\n<p>This then results in 0xf6 and 0x4f as shown in the checksum bytes.</p>\n"}], "owner": {"reputation": 4420, "user_id": 6822, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/fe62dcab3879bc1adf557d4176d4326e?s=128&d=identicon&r=PG", "display_name": "Chris Barry", "link": "https://stackoverflow.com/users/6822/chris-barry"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 678, "favorite_count": 0, "accepted_answer_id": 40774663, "answer_count": 1, "score": 0, "last_activity_date": 1479938615, "creation_date": 1479935641, "last_edit_date": 1495540382, "question_id": 40774250, "link": "https://stackoverflow.com/questions/40774250/calculating-a-checksum-using-the-most-and-least-significant-bits-differently", "title": "Calculating a checksum, using the most and least significant bits differently", "body": "<p>I'm trying to calculate a checksum, and I have to admit my binary manipulation knowlege is failing me.</p>\n\n<p>If anyone could help with the below (and improve the title of this question) I'd be most grateful.</p>\n\n<p>(I've tried quite a lot of things, but I think I'm just not going about it correctly)</p>\n\n<p>A previous question I asked is here, but the technique is different, I think - <a href=\"https://stackoverflow.com/questions/40381900/how-to-build-byte-array-frame-and-calculate-checksum\">How to build byte array frame and calculate checksum</a></p>\n\n<h2>Documentation below:</h2>\n\n<p>To avoid the checksum coinciding with any of the control bytes (0x02 and 0x03), the checksum is divided into two bytes. In the first byte the four least significant bits are introduced, and the four most significant ones in the second.</p>\n\n<p>Example:</p>\n\n<p>Checksum calculation of the following command:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>STX 0x02\nFiller1 0x30\nFiller2 0x30\nAddress 0x81\nType 0x56 \u201cV\u201d\nTray 0x8B\nBelt 0x82\nChecksum1 0xF6\nChecksum2 0x4F\nETX 0x03\n</code></pre>\n\n<p>Add the values of every byte previous to the checksum. The result is obtained as an <code>unsigned char</code>.</p>\n\n<pre><code>Checksum = 0x02+0x30+0x30+0x81+0x56+0x8B+0x82 = 0x46\n</code></pre>\n\n<p>Set the four most significant bits to \u201c1\u201d using OR operator, forming <code>Checksum1</code>, where the four least significant bits of <code>Checksum</code> are stored.</p>\n\n<pre><code>Checksum1 = Checksum | 0xF0 = 0x46 | 0xF0 = 0xF6\n</code></pre>\n\n<p>Change the four least significant bits to \u201c1\u201d using OR operator, forming <code>Checksum1</code>, where the four most significant bits of Checksum are stored.</p>\n\n<pre><code>Checksum2 = Checksum | 0x0F = 0x46 | 0x0F = 0x4F\n</code></pre>\n\n<h2>Additional</h2>\n\n<pre><code>def print_bytes(bytes):\n    print(\"\\n\" + \" \".join(\"\\\\x%02X\" % v for v in bytes))\n\nframe = bytearray([0x02,0x30,0x30,0x81,0x56,0x8B,0x82])\n\nprint_bytes(sum(frame).to_bytes(2, \"little\"))\n\n\\x46 \\x02\n</code></pre>\n"}, {"tags": ["python", "soap", "types", "suds"], "answers": [{"tags": [], "owner": {"reputation": 636, "user_id": 3948931, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/62f7a27f913c511bc7a3db36fcc5f465?s=128&d=identicon&r=PG&f=1", "display_name": "Francisco Peters", "link": "https://stackoverflow.com/users/3948931/francisco-peters"}, "is_accepted": true, "score": 2, "last_activity_date": 1480084475, "creation_date": 1480084475, "answer_id": 40807275, "question_id": 40774102, "link": "https://stackoverflow.com/questions/40774102/call-functions-that-use-specific-types-on-suds-python/40807275#40807275", "title": "Call functions that use specific types on Suds, Python", "body": "<p>The solution was to write:</p>\n\n<pre><code>object = client.factory.create('wsInitTransactionInput')\nclient.service.initTransaction(object)\n</code></pre>\n\n<p>And it was in the suds documentation.</p>\n"}], "owner": {"reputation": 636, "user_id": 3948931, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/62f7a27f913c511bc7a3db36fcc5f465?s=128&d=identicon&r=PG&f=1", "display_name": "Francisco Peters", "link": "https://stackoverflow.com/users/3948931/francisco-peters"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 256, "favorite_count": 0, "accepted_answer_id": 40807275, "answer_count": 1, "score": 3, "last_activity_date": 1480084475, "creation_date": 1479934914, "question_id": 40774102, "link": "https://stackoverflow.com/questions/40774102/call-functions-that-use-specific-types-on-suds-python", "title": "Call functions that use specific types on Suds, Python", "body": "<p>I have the following code:</p>\n\n<pre><code>import logging\nlogging.basicConfig(level=logging.INFO)\n\nlogging.getLogger('suds.client').setLevel(logging.DEBUG)\n\nfrom suds.client import Client\nurl = 'https://webpay3gint.transbank.cl/WSWebpayTransaction/cxf/WSWebpayService?wsdl'\n\nclient = Client(url)\n\nprint client\n</code></pre>\n\n<p>Which produces the following output:</p>\n\n<pre><code>Service ( WSWebpayServiceImplService ) tns=\"http://service.wswebpay.webpay.transbank.com/\"\n   Prefixes (1)\n      ns0 = \"http://service.wswebpay.webpay.transbank.com/\"\n   Ports (1):\n      (WSWebpayServiceImplPort)\n         Methods (3):\n            acknowledgeTransaction(xs:string tokenInput, )\n            getTransactionResult(xs:string tokenInput, )\n            initTransaction(wsInitTransactionInput wsInitTransactionInput, )\n         Types (14):\n            acknowledgeTransaction\n            acknowledgeTransactionResponse\n            cardDetail\n            getTransactionResult\n            getTransactionResultResponse\n            initTransaction\n            initTransactionResponse\n            transactionResultOutput\n            wpmDetailInput\n            wsInitTransactionInput\n            wsInitTransactionOutput\n            wsTransactionDetail\n            wsTransactionDetailOutput\n            wsTransactionType\n</code></pre>\n\n<p>As you can see, some methods (initTransaction) use custom types (wsInitTransactionInput), how can I create an element of that custom type so I'm able to call initTransaction()?</p>\n"}, {"tags": ["python", "pandas", "dataframe"], "answers": [{"comments": [{"owner": {"reputation": 269, "user_id": 6434715, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d3459bb179201256082cb19553a83eaa?s=128&d=identicon&r=PG&f=1", "display_name": "ABC", "link": "https://stackoverflow.com/users/6434715/abc"}, "edited": false, "score": 0, "creation_date": 1479980844, "post_id": 40775004, "comment_id": 68788543, "body": "Thank you for picking this up. It was unbelievably awesome."}], "tags": [], "owner": {"reputation": 86789, "user_id": 1422451, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/sFFvX.jpg?s=128&g=1", "display_name": "Parfait", "link": "https://stackoverflow.com/users/1422451/parfait"}, "is_accepted": true, "score": 2, "last_activity_date": 1479939177, "creation_date": 1479939177, "answer_id": 40775004, "question_id": 40774045, "link": "https://stackoverflow.com/questions/40774045/join-two-pandas-dataframes/40775004#40775004", "title": "Join two Pandas Dataframes", "body": "<p>According to your data schema, you have incompatible types where <code>id</code> in <em>event_logs</em> is an Integer and <code>event_log_id</code> in <em>machine_event_logs</em> is a String column. In Python the equality of a string and its equivalent numeric value yields false:</p>\n\n<pre><code>print('0'==0)\n# False\n</code></pre>\n\n<p>Therefore your pandas left join merge returns all <code>NAN</code> on right hand side since no matches are successfully found. Consider converting to align types for proper merging:</p>\n\n<pre><code>event_logs['id'] = event_logs['id'].astype(str)\n</code></pre>\n\n<p>OR</p>\n\n<pre><code>machine_event_logs['event_log_id'] = machine_event_logs['event_log_id'].astype(int)\n</code></pre>\n"}], "owner": {"reputation": 269, "user_id": 6434715, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d3459bb179201256082cb19553a83eaa?s=128&d=identicon&r=PG&f=1", "display_name": "ABC", "link": "https://stackoverflow.com/users/6434715/abc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 309, "favorite_count": 0, "accepted_answer_id": 40775004, "answer_count": 1, "score": 0, "last_activity_date": 1539024863, "creation_date": 1479934688, "last_edit_date": 1539024863, "question_id": 40774045, "link": "https://stackoverflow.com/questions/40774045/join-two-pandas-dataframes", "title": "Join two Pandas Dataframes", "body": "<p>We have two tables:</p>\n\n<p><strong>Table 1: EventLog</strong></p>\n\n<pre><code>class EventLog(Base):\n    \"\"\"\"\"\"\n\n    __tablename__   = 'event_logs'\n\n    id = Column(Integer, primary_key=True, autoincrement=True)\n\n    # Keys\n    event_id        = Column(Integer)\n    data            = Column(String)\n    signature       = Column(String)\n\n    # Unique constraint\n    __table_args__  = (UniqueConstraint('event_id', 'signature'),)\n</code></pre>\n\n<p><strong>Table 2: Machine_Event_Logs</strong></p>\n\n<pre><code>class Machine_Event_Logs(Base):\n    \"\"\"\"\"\"\n\n    __tablename__   = 'machine_event_logs'\n\n    id = Column(Integer, primary_key=True, autoincrement=True)\n\n    # Keys\n    machine_id      = Column(String, ForeignKey(\"machines.id\"))\n    event_log_id    = Column(String, ForeignKey(\"event_logs.id\"))\n    event_record_id = Column(Integer)\n    time_created    = Column(String)\n\n    # Unique constraint\n    __table_args__ = (UniqueConstraint('machine_id', 'event_log_id', 'event_record_id', 'time_created'),)\n\n    # Relationships\n    event_logs      = relationship(\"EventLog\")\n</code></pre>\n\n<p>The relationship between <code>EventLogs</code> and <code>Machine_Event_Logs</code> is 1 to many.</p>\n\n<p>Whereby we register a unique event log into the <code>EventLogs</code> table and then register millions of entries into <code>Machine_Event_Logs</code> for every time we encounter that event.</p>\n\n<p><strong>Goal:</strong> We're trying to join both table to display the entire timeline of event logs captured.</p>\n\n<p>We've tried multiple combinations of the <code>merge()</code> function in Panda Dataframe but it only returns a bunch of NaN or empty. For example:</p>\n\n<pre><code>pd.merge(event_logs, machine_event_logs, how='left', left_on='id', right_on='event_log_id')\n</code></pre>\n\n<p>Any ideas on how to solve this?</p>\n\n<p>Thank in in advance for your assistance.</p>\n"}, {"tags": ["javascript", "python", "html", "image", "templates"], "comments": [{"owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 0, "creation_date": 1479934808, "post_id": 40774000, "comment_id": 68771974, "body": "So where is the code to serve the images?"}], "answers": [{"tags": [], "owner": {"reputation": 3092, "user_id": 5149381, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/35fedff48400e0f43699c56164b605e0?s=128&d=identicon&r=PG&f=1", "display_name": "litel", "link": "https://stackoverflow.com/users/5149381/litel"}, "is_accepted": false, "score": 0, "last_activity_date": 1479936503, "creation_date": 1479936503, "answer_id": 40774439, "question_id": 40774000, "link": "https://stackoverflow.com/questions/40774000/404-error-when-rendering-template-with-image/40774439#40774439", "title": "404 error when rendering template with image", "body": "<p>There are a couple of options for dealing with this in Flask.</p>\n\n<p>Simplest option: you can move the <code>images</code> folder into your <code>static</code> directory and change the <code>src</code> attribute of your from <code>images/newyork1.jpg</code> tag to <code>url_for('static', filename='images/newyork1.jpg)</code>.</p>\n\n<p>Or you can define a route for your <code>images</code> directory in your <code>webapp.py</code> file with a <code>&lt;path:path&gt;</code> appended as catch-all. Then define a function with a <code>path</code> parameter that returns a call to <code>send_from_directory</code> with the arguments <code>images</code> and <code>path</code>. Make sure you import <code>send_from_directory</code> from Flask at the top of your file.</p>\n\n<pre><code>@app.route('/images/&lt;path:path&gt;')\ndef images(path):\n    return send_from_directory('images', path)\n</code></pre>\n"}], "owner": {"reputation": 83, "user_id": 7074846, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/d1e23512615f16b795be4c3d37d1aa7c?s=128&d=identicon&r=PG&f=1", "display_name": "Dylan ", "link": "https://stackoverflow.com/users/7074846/dylan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 470, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1479940127, "creation_date": 1479934492, "last_edit_date": 1479940127, "question_id": 40774000, "link": "https://stackoverflow.com/questions/40774000/404-error-when-rendering-template-with-image", "title": "404 error when rendering template with image", "body": "<p>Folders are as follows:\n<strong>Project</strong></p>\n\n<p>static folder--index.html</p>\n\n<p>templates folder--newyork.html + image folder--newyork.jpg</p>\n\n<p>webapp.py</p>\n\n<p>When I run my code through commander everything works other than the images. For some reason the images wont display and it comes up with a 404 error in the Cmder prompt. Here is my template i'm using:</p>\n\n<pre><code>&lt;!doctype html&gt;\n&lt;title&gt;New York&lt;/title&gt;\n&lt;h1&gt;New York&lt;/h1&gt;       \n&lt;p&gt;\nNew York is a state in the northeastern United States, and is the 27th-most extensive, fourth-most populous, and seventh-most densely populated U.S. state. New York is bordered by New Jersey and Pennsylvania to the south and Connecticut, Massachusetts, and Vermont to the east. The state has a maritime border in the Atlantic Ocean with Rhode Island, east of Long Island, as well as an international border with the Canadian provinces of Quebec to the north and Ontario to the west and north. \n&lt;/p&gt;\n&lt;img src=\"images/newyork1.jpg\" alt=\"New York\" style=\"width:750px;height:350px;\"&gt;\n&lt;p&gt;\nThe state of New York, with an estimated 19.8 million residents in 2015, is often referred to as New York State to distinguish it from New York City, the state's most populous city and its economic hub.\n&lt;/p&gt;\n</code></pre>\n\n<p>Here is my index.html I'm using:</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js\"&gt;&lt;/script&gt;\n&lt;script&gt;\n$(document).ready(function(){\n  $(\"#newyorkbutton\").click(function(){\n    $.get(\"/newyork\", function(data, status){\n      $(\"#city\").html(data);\n    });\n  });\n});\n&lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;h2&gt;Welcome to My Travels&lt;/h2&gt; \n&lt;input type=\"submit\" name=\"NewYork\" id=\"newyorkbutton\" value=\"New York\"&gt;\n&lt;h2&gt;Welcome to My Travels&lt;/h2&gt; \n&lt;div id = \"city\"&gt;\n&lt;p&gt;\nLorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum\n&lt;/p&gt;\n\n&lt;/div&gt;\n&lt;/body&gt; \n&lt;/html&gt;\n</code></pre>\n\n<p>And Finally my python code I'm running:</p>\n\n<pre><code>from flask import Flask, render_template, request\n\napp = Flask(__name__)  \n\n\n@app.route(\"/\")\ndef root():\n    return app.send_static_file('index.html')\n\n@app.route(\"/newyork\") \ndef newyork(): \n   return render_template('newyork.html')\n\nif __name__ == \"__main__\":     \n    app.run()\n</code></pre>\n"}, {"tags": ["python", "csv", "url", "formatting"], "comments": [{"owner": {"reputation": 1038, "user_id": 6779606, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07319033471657740d4baed181bb46d9?s=128&d=identicon&r=PG&f=1", "display_name": "PyNoob", "link": "https://stackoverflow.com/users/6779606/pynoob"}, "edited": false, "score": 1, "creation_date": 1479934677, "post_id": 40773979, "comment_id": 68771910, "body": "Is <code>item</code> the variable you output (and thus, is <code>item[4]</code> the data in the 5th column of the row contained in item)?"}, {"owner": {"reputation": 11, "user_id": 7202242, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bed5bab15ad66329c954fe40bd783d29?s=128&d=identicon&r=PG&f=1", "display_name": "m.orchard", "link": "https://stackoverflow.com/users/7202242/m-orchard"}, "reply_to_user": {"reputation": 1038, "user_id": 6779606, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07319033471657740d4baed181bb46d9?s=128&d=identicon&r=PG&f=1", "display_name": "PyNoob", "link": "https://stackoverflow.com/users/6779606/pynoob"}, "edited": false, "score": 0, "creation_date": 1479934743, "post_id": 40773979, "comment_id": 68771939, "body": "@PyNoob its a bunch of data concerning different earthquakes taken from an online excel document. I want to pick out the one with the highest magnitude and then output the full row in a readable format. So item[4] refers to the magnitude column but it is actually refering to the 5th character which is &#39;-&#39; this is where im stuck"}, {"owner": {"reputation": 1038, "user_id": 6779606, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07319033471657740d4baed181bb46d9?s=128&d=identicon&r=PG&f=1", "display_name": "PyNoob", "link": "https://stackoverflow.com/users/6779606/pynoob"}, "edited": false, "score": 1, "creation_date": 1479935505, "post_id": 40773979, "comment_id": 68772278, "body": "Maybe you can provide the structure of <code>item</code> and more code for a more tailored answer. In the meantime, I provided one that uses pandas."}, {"owner": {"reputation": 11, "user_id": 7202242, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bed5bab15ad66329c954fe40bd783d29?s=128&d=identicon&r=PG&f=1", "display_name": "m.orchard", "link": "https://stackoverflow.com/users/7202242/m-orchard"}, "reply_to_user": {"reputation": 1038, "user_id": 6779606, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07319033471657740d4baed181bb46d9?s=128&d=identicon&r=PG&f=1", "display_name": "PyNoob", "link": "https://stackoverflow.com/users/6779606/pynoob"}, "edited": false, "score": 0, "creation_date": 1479935936, "post_id": 40773979, "comment_id": 68772477, "body": "@PyNoob Ive edited the question to give a context"}], "answers": [{"tags": [], "owner": {"reputation": 1038, "user_id": 6779606, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07319033471657740d4baed181bb46d9?s=128&d=identicon&r=PG&f=1", "display_name": "PyNoob", "link": "https://stackoverflow.com/users/6779606/pynoob"}, "is_accepted": false, "score": 0, "last_activity_date": 1479935686, "last_edit_date": 1495540795, "creation_date": 1479935308, "answer_id": 40774178, "question_id": 40773979, "link": "https://stackoverflow.com/questions/40773979/outputting-a-specific-row-from-a-url/40774178#40774178", "title": "Outputting a specific row from a URL", "body": "<p>Perhaps you can post a few lines of the CSV you're using and some more code to give us a better idea of the data and how you're approaching its analysis.</p>\n\n<p>I found a CSV online that contains rows of earthquake data that I will use for my example. With pandas, you can directly input a URL and easily get the row where the maximum magnitude earthquake occurs (which, I believe, is what you're doing). </p>\n\n<pre><code>&gt; import pandas as pd\n\n&gt; url = 'http://itp.nyu.edu/~cm2897/blog/wp-content/uploads/2012/03/global-earthquakes.csv'\n&gt; df = pd.read_csv(url)\n&gt; df.head()\n   year  month  day      time  latitude  longitude  magnitude  depth\n0  1973      1    1   34609.8     -9.21     150.63        5.3     41\n1  1973      1    1   52229.8    -15.01    -173.96        5.0     33\n2  1973      1    1  114237.5    -35.51     -16.21        6.0     33\n3  1973      1    2    5320.3     -9.85     117.43        5.5     66\n4  1973      1    2   22709.2      1.03     126.21        5.4     61\n\n&gt; df.loc[df['magnitude'].idxmax()]\nyear         2004.00\nmonth          12.00\nday            26.00\ntime         5853.45\nlatitude        3.30\nlongitude      95.98\nmagnitude       9.00\ndepth          30.00\nName: 48506, dtype: float64\n</code></pre>\n\n<p>Pandas' <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.Series.idxmax.html\" rel=\"nofollow noreferrer\"><code>Series.idxmax</code></a> method returns the index where the maximum value occurs in a Series (in this case, the magnitude column from the DataFrame). See <a href=\"https://stackoverflow.com/a/10202789/6779606\">this answer</a> for more information. With this index, we can use <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.loc.html\" rel=\"nofollow noreferrer\"><code>DataFrame.loc</code></a> to return the corresponding row.</p>\n"}], "owner": {"reputation": 11, "user_id": 7202242, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bed5bab15ad66329c954fe40bd783d29?s=128&d=identicon&r=PG&f=1", "display_name": "m.orchard", "link": "https://stackoverflow.com/users/7202242/m-orchard"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 34, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1479936484, "creation_date": 1479934420, "last_edit_date": 1479936484, "question_id": 40773979, "link": "https://stackoverflow.com/questions/40773979/outputting-a-specific-row-from-a-url", "title": "Outputting a specific row from a URL", "body": "<p>This is  the URL i'm using:</p>\n\n<p><a href=\"http://earthquake.usgs.gov/earthquakes/feed/v1.0/summary/all_day.csv\" rel=\"nofollow noreferrer\">http://earthquake.usgs.gov/earthquakes/feed/v1.0/summary/all_day.csv</a></p>\n\n<p>And I need to output it like this:</p>\n\n<p>Downloading earthquake data from USGS ...\nLargest magnitude quake is:\nTime: 2016-10-17T06:14:58.370Z\nLatitude: -6.0526\nLongitude: 148.8617\nLocation: 78km WNW of Kandrian, Papua New Guinea\nMagnitude: 6.9\nDepth: 35</p>\n\n<p>I already have a function that reads and decodes the lines\nthis is a bit of the code:</p>\n\n<pre><code>def online_display_largest_quake():\n print('Downloading earthquake data from USGS ...')\n\n earthquakes = get_text_lines_from_url('http://earthquake.usgs.gov/earthquakes/feed/v1.0/summary/all_day.csv')\n print (earthquakes)\n best_mag = 0\n best_item = []\n\n for (item) in earthquakes[1:]:\n\n    if float(item[4]) &gt; best_mag:\n        best_mag = float(str(item[4]))\n        best_item = item\n\n earthquake_output(best_item) \n</code></pre>\n"}, {"tags": ["javascript", "jquery", "python", "flask", "jinja2"], "answers": [{"comments": [{"owner": {"reputation": 115, "user_id": 3450754, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/d7ecbea0afee1690e78c7d69877dbc18?s=128&d=identicon&r=PG&f=1", "display_name": "user3450754", "link": "https://stackoverflow.com/users/3450754/user3450754"}, "edited": false, "score": 0, "creation_date": 1479934664, "post_id": 40774026, "comment_id": 68771905, "body": "so like how can I just call lock(1) if the room1 is clicked , pleaseeeeee??"}, {"owner": {"reputation": 115, "user_id": 3450754, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/d7ecbea0afee1690e78c7d69877dbc18?s=128&d=identicon&r=PG&f=1", "display_name": "user3450754", "link": "https://stackoverflow.com/users/3450754/user3450754"}, "edited": false, "score": 0, "creation_date": 1479934757, "post_id": 40774026, "comment_id": 68771946, "body": "what do you mean ?? @Martin Pieters"}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "reply_to_user": {"reputation": 115, "user_id": 3450754, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/d7ecbea0afee1690e78c7d69877dbc18?s=128&d=identicon&r=PG&f=1", "display_name": "user3450754", "link": "https://stackoverflow.com/users/3450754/user3450754"}, "edited": false, "score": 0, "creation_date": 1479934927, "post_id": 40774026, "comment_id": 68772016, "body": "@user3450754: I included documentation references; you could read up on  what <a href=\"https://en.wikipedia.org/wiki/Ajax_(programming)\" rel=\"nofollow noreferrer\">AJAX</a> is, for example."}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "reply_to_user": {"reputation": 115, "user_id": 3450754, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/d7ecbea0afee1690e78c7d69877dbc18?s=128&d=identicon&r=PG&f=1", "display_name": "user3450754", "link": "https://stackoverflow.com/users/3450754/user3450754"}, "edited": false, "score": 0, "creation_date": 1479934953, "post_id": 40774026, "comment_id": 68772028, "body": "@user3450754: however, a full tutorial on how to execute an AJAX request is out of the scope of my answer."}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "reply_to_user": {"reputation": 115, "user_id": 3450754, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/d7ecbea0afee1690e78c7d69877dbc18?s=128&d=identicon&r=PG&f=1", "display_name": "user3450754", "link": "https://stackoverflow.com/users/3450754/user3450754"}, "edited": false, "score": 0, "creation_date": 1479935081, "post_id": 40774026, "comment_id": 68772081, "body": "@user3450754: see this other question on the same subject: <a href=\"//stackoverflow.com/q/37346842\">Jinja2 : call function on click</a>"}], "tags": [], "owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "is_accepted": false, "score": 0, "last_activity_date": 1479934676, "last_edit_date": 1479934676, "creation_date": 1479934604, "answer_id": 40774026, "question_id": 40773967, "link": "https://stackoverflow.com/questions/40773967/flask-passing-a-function-but-the-function-gets-rendered-everytime/40774026#40774026", "title": "Flask passing a function but the function gets rendered everytime", "body": "<p>Javascript code (JQuery or otherwise) runs in the browser, the <code>{{ lock(1) }}</code> expression is rendered <em>on the server</em>. Creating the template to send to the browser <em>has</em> to execute that function then and there, Javascript code in the template is not executed on the server and doesn't influence what <code>{{ lock(1) }}</code> outputs. </p>\n\n<p>Only <code>\"None\"</code>, the resulting output in the template, is seen by the JavaScript code.</p>\n\n<p>You'd have to create a new route in your Flask server that the jQuery code then calls via AJAX (using <a href=\"https://api.jquery.com/jquery.get/\" rel=\"nofollow noreferrer\"><code>jQuery.get()</code></a>, for example).</p>\n"}], "owner": {"reputation": 115, "user_id": 3450754, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/d7ecbea0afee1690e78c7d69877dbc18?s=128&d=identicon&r=PG&f=1", "display_name": "user3450754", "link": "https://stackoverflow.com/users/3450754/user3450754"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 40, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1479934702, "creation_date": 1479934402, "last_edit_date": 1479934702, "question_id": 40773967, "link": "https://stackoverflow.com/questions/40773967/flask-passing-a-function-but-the-function-gets-rendered-everytime", "title": "Flask passing a function but the function gets rendered everytime", "body": "<p>I have a flask function called lock(id) and unlock()</p>\n\n<pre><code>def lock(roomId):\n    RoomTDG.update(roomId,True)\n\ndef unlock(roomId):\n    RoomTDG.update(roomId, False)\n</code></pre>\n\n<p>I am calling it in my template </p>\n\n<p><code>{{ lock(1) }}</code></p>\n\n<p>However this piece of code gets always rendered regardless of it being in a jquery if statement or outside. How can I call it when it goes inside the if statement</p>\n\n<pre><code>$('#room1').click(function() {\n              \"{{ lock(1) }}\"\n              alert(\"hello\");\n          });\n</code></pre>\n"}, {"tags": ["python", "python-2.x", "python-2.6", "python-multiprocessing"], "answers": [{"comments": [{"owner": {"reputation": 5911, "user_id": 1688785, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/07b2da937aa23792045dff6ff19556eb?s=128&d=identicon&r=PG", "display_name": "Caramiriel", "link": "https://stackoverflow.com/users/1688785/caramiriel"}, "edited": false, "score": 2, "creation_date": 1479934768, "post_id": 40774039, "comment_id": 68771952, "body": "Doc to be found at: <a href=\"https://docs.python.org/2/library/multiprocessing.html#multiprocessing.pool.AsyncResult\" rel=\"nofollow noreferrer\">docs.python.org/2/library/&hellip;</a>"}], "tags": [], "owner": {"reputation": 209114, "user_id": 1427416, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/QWHKg.png?s=128&g=1", "display_name": "BrenBarn", "link": "https://stackoverflow.com/users/1427416/brenbarn"}, "is_accepted": true, "score": 19, "last_activity_date": 1576909643, "last_edit_date": 1576909643, "creation_date": 1479934667, "answer_id": 40774039, "question_id": 40773925, "link": "https://stackoverflow.com/questions/40773925/where-is-documentation-for-multiprocessing-pool-applyresult/40774039#40774039", "title": "Where is documentation for multiprocessing.pool.ApplyResult?", "body": "<p>You're right that there is in a glitch in the documentation: the class is actually documented as <a href=\"https://docs.python.org/2/library/multiprocessing.html#multiprocessing.pool.AsyncResult\" rel=\"noreferrer\">AsyncResult</a>, not ApplyResult.  The two are different names for the same class:</p>\n\n<pre><code>&gt;&gt;&gt; multiprocessing.pool.ApplyResult is multiprocessing.pool.AsyncResult\nTrue\n</code></pre>\n\n<p>The name may have been changed at some point and the docs weren't consistently updated, but everything is documented, it's just documented under the wrong name.  (There is <a href=\"http://bugs.python.org/issue17805\" rel=\"noreferrer\">a closed bug</a> in which someone pointed out that the docs mention AsyncResult but the class is actually called ApplyResult, so they added AsyncResult as an alias.)</p>\n"}, {"tags": [], "owner": {"reputation": 2065, "user_id": 1729703, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/YTDAA.jpg?s=128&g=1", "display_name": "Mark Gerolimatos", "link": "https://stackoverflow.com/users/1729703/mark-gerolimatos"}, "is_accepted": false, "score": 0, "last_activity_date": 1591787163, "last_edit_date": 1591787163, "creation_date": 1479935257, "answer_id": 40774168, "question_id": 40773925, "link": "https://stackoverflow.com/questions/40773925/where-is-documentation-for-multiprocessing-pool-applyresult/40774168#40774168", "title": "Where is documentation for multiprocessing.pool.ApplyResult?", "body": "<p>This is what I see from the code:</p>\n\n<ul>\n<li><code>ready()</code>: returns true if the task run by the \"thread\" is ready to return a result</li>\n<li><code>get(timeout=None)</code>: waits for a result for timeout units (in floating-point seconds) and returns the result on a successful completion. On timeout raises a <code>TimeoutError</code>, on a non-successful completion raises the associated exception.</li>\n<li><code>wait(timeout=None)</code>: waits on a condition variable set by the worker \"thread\", as per <code>threading.Condition.wait([timeout])</code> <strong><em>DOES NOT IMPLY</em></strong> reaping of the child \"thread\".</li>\n<li><code>successful()</code>: if <code>ready</code>, returns <code>True</code> if the result of <code>get()</code> will be a value. Otherwise, returns <code>False</code> (i.e. the result will be an exception). If assertions are enabled, will raise ValueError if the result is not ready.</li>\n</ul>\n"}], "owner": {"reputation": 2065, "user_id": 1729703, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/YTDAA.jpg?s=128&g=1", "display_name": "Mark Gerolimatos", "link": "https://stackoverflow.com/users/1729703/mark-gerolimatos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9141, "favorite_count": 0, "accepted_answer_id": 40774039, "answer_count": 2, "score": 21, "last_activity_date": 1591787163, "creation_date": 1479934184, "last_edit_date": 1479939270, "question_id": 40773925, "link": "https://stackoverflow.com/questions/40773925/where-is-documentation-for-multiprocessing-pool-applyresult", "title": "Where is documentation for multiprocessing.pool.ApplyResult?", "body": "<p>There is frighteningly little strict API documentation (read: <strong>ZERO</strong>) for <code>multiprocessing.pool.ApplyResult</code>. The multiprocessing explanation doc talks <em>about</em> <code>ApplyResult</code>s, but does not define them.</p>\n\n<p>The same appears to apply to <code>multiprocessing.pool.Pool</code>, although the Python multiprocessing guide appears to cover it better.</p>\n\n<p>Even the <code>ApplyResult</code> <code>help()</code> results are paltry:</p>\n\n<pre><code> |  get(self, timeout=None)\n |  \n |  ready(self)\n |  \n |  successful(self)\n |  \n |  wait(self, timeout=None)\n</code></pre>\n\n<ul>\n<li><p><code>Get()</code> and <code>Ready()</code> I get. Those are fine.</p></li>\n<li><p>I have absolutely no idea what <code>wait()</code> is for, given that you are\ndealing with a \"pool\", which one would assume would waits for you in\nthe <code>get()</code> call. Is this \"wait for the result, but don't get it now\" Or is it an OS-style wait? And if so, what would that even <em>mean</em>?</p></li>\n<li><p>I am equally unsure of what <code>successful()</code> is all about.</p></li>\n</ul>\n"}, {"tags": ["python", "performance", "pandas", "histogram", "vectorization"], "comments": [{"owner": {"reputation": 203214, "user_id": 3293881, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/6ZYnq.jpg?s=128&g=1", "display_name": "Divakar", "link": "https://stackoverflow.com/users/3293881/divakar"}, "edited": false, "score": 0, "creation_date": 1479933947, "post_id": 40773842, "comment_id": 68771564, "body": "Would the buckets limits be such that the end of previous bucket would be same as start of next one always?"}, {"owner": {"reputation": 5372, "user_id": 1700890, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7ae3069bce34ea67aa6ed85035fac697?s=128&d=identicon&r=PG", "display_name": "user1700890", "link": "https://stackoverflow.com/users/1700890/user1700890"}, "reply_to_user": {"reputation": 203214, "user_id": 3293881, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/6ZYnq.jpg?s=128&g=1", "display_name": "Divakar", "link": "https://stackoverflow.com/users/3293881/divakar"}, "edited": false, "score": 0, "creation_date": 1479934068, "post_id": 40773842, "comment_id": 68771625, "body": "@Divakar, thank you for good question. Intervals are open from the left and closed from the right <code>(0,3], (3,5], (5,9]</code> and yes limits are common."}, {"owner": {"reputation": 203214, "user_id": 3293881, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/6ZYnq.jpg?s=128&g=1", "display_name": "Divakar", "link": "https://stackoverflow.com/users/3293881/divakar"}, "edited": false, "score": 0, "creation_date": 1479934394, "post_id": 40773842, "comment_id": 68771769, "body": "Could there be any element in <code>df.A</code> that won&#39;t be in any bucket, i.e. outside the bucket limits?"}, {"owner": {"reputation": 5372, "user_id": 1700890, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7ae3069bce34ea67aa6ed85035fac697?s=128&d=identicon&r=PG", "display_name": "user1700890", "link": "https://stackoverflow.com/users/1700890/user1700890"}, "reply_to_user": {"reputation": 203214, "user_id": 3293881, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/6ZYnq.jpg?s=128&g=1", "display_name": "Divakar", "link": "https://stackoverflow.com/users/3293881/divakar"}, "edited": false, "score": 0, "creation_date": 1479935960, "post_id": 40773842, "comment_id": 68772490, "body": "@Divakar This is possible."}, {"owner": {"reputation": 203214, "user_id": 3293881, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/6ZYnq.jpg?s=128&g=1", "display_name": "Divakar", "link": "https://stackoverflow.com/users/3293881/divakar"}, "edited": false, "score": 0, "creation_date": 1479936018, "post_id": 40773842, "comment_id": 68772518, "body": "So, what would be the expected output for those ones? Add in sample with such cases?"}, {"owner": {"reputation": 5372, "user_id": 1700890, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7ae3069bce34ea67aa6ed85035fac697?s=128&d=identicon&r=PG", "display_name": "user1700890", "link": "https://stackoverflow.com/users/1700890/user1700890"}, "reply_to_user": {"reputation": 203214, "user_id": 3293881, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/6ZYnq.jpg?s=128&g=1", "display_name": "Divakar", "link": "https://stackoverflow.com/users/3293881/divakar"}, "edited": false, "score": 0, "creation_date": 1479936120, "post_id": 40773842, "comment_id": 68772560, "body": "@Divakar, I have not decided it yet, I guess assigning to end buckets would be fine."}], "answers": [{"comments": [{"owner": {"reputation": 5372, "user_id": 1700890, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7ae3069bce34ea67aa6ed85035fac697?s=128&d=identicon&r=PG", "display_name": "user1700890", "link": "https://stackoverflow.com/users/1700890/user1700890"}, "edited": false, "score": 0, "creation_date": 1479936412, "post_id": 40773926, "comment_id": 68772680, "body": "I am impressed with both yours and root&#39;s solution. I wish I can count both of your answers as correct ones. I will give answer to root, since he has lower rank. I hope you do not mind."}, {"owner": {"reputation": 203214, "user_id": 3293881, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/6ZYnq.jpg?s=128&g=1", "display_name": "Divakar", "link": "https://stackoverflow.com/users/3293881/divakar"}, "reply_to_user": {"reputation": 5372, "user_id": 1700890, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7ae3069bce34ea67aa6ed85035fac697?s=128&d=identicon&r=PG", "display_name": "user1700890", "link": "https://stackoverflow.com/users/1700890/user1700890"}, "edited": false, "score": 0, "creation_date": 1479936487, "post_id": 40773926, "comment_id": 68772721, "body": "@user1700890 Sure, that&#39;s fine! :)"}], "tags": [], "owner": {"reputation": 203214, "user_id": 3293881, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/6ZYnq.jpg?s=128&g=1", "display_name": "Divakar", "link": "https://stackoverflow.com/users/3293881/divakar"}, "is_accepted": false, "score": 1, "last_activity_date": 1479936555, "last_edit_date": 1479936555, "creation_date": 1479934203, "answer_id": 40773926, "question_id": 40773842, "link": "https://stackoverflow.com/questions/40773842/pandas-assign-histogram-bucket-to-each-row/40773926#40773926", "title": "Pandas - assign histogram bucket to each row", "body": "<p>You could use <a href=\"https://docs.scipy.org/doc/numpy/reference/generated/numpy.searchsorted.html\" rel=\"nofollow noreferrer\"><code>np.searchsorted</code></a> -</p>\n\n<pre><code>df['buckets_index'] = np.asarray(buckets)[:,1].searchsorted(df.A.values)\n</code></pre>\n\n<p>Runtime test -</p>\n\n<pre><code>In [522]: df = pd.DataFrame({'A': np.random.randint(1,8,(10000))})\n\nIn [523]: buckets = [0,3,5,9]\n\nIn [524]: %timeit pd.cut(df['A'], bins=buckets, labels=False)\n1000 loops, best of 3: 460 \u00b5s per loop # @root's soln\n\nIn [525]: buckets = [(0,3),(3,5),(5,9)]\n\nIn [526]: %timeit np.asarray(buckets)[:,1].searchsorted(df.A.values)\n10000 loops, best of 3: 166 \u00b5s per loop\n</code></pre>\n\n<p><strong>Outside limits cases :</strong> For such cases, we need to use clipping, like so -</p>\n\n<pre><code>np.asarray(buckets)[:,1].searchsorted(df.A.values).clip(max=len(buckets)-1)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 22688, "user_id": 3760920, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aCfir.jpg?s=128&g=1", "display_name": "jeremycg", "link": "https://stackoverflow.com/users/3760920/jeremycg"}, "edited": false, "score": 0, "creation_date": 1479934651, "post_id": 40773955, "comment_id": 68771899, "body": "if needed, you can add <code>.cat.codes</code> to get the integer, rather than categorical dtype too"}], "tags": [], "owner": {"reputation": 26041, "user_id": 3339965, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ac89d084d3bc5dc083bad3ea5518f11?s=128&d=identicon&r=PG&f=1", "display_name": "root", "link": "https://stackoverflow.com/users/3339965/root"}, "is_accepted": true, "score": 2, "last_activity_date": 1479934343, "creation_date": 1479934343, "answer_id": 40773955, "question_id": 40773842, "link": "https://stackoverflow.com/questions/40773842/pandas-assign-histogram-bucket-to-each-row/40773955#40773955", "title": "Pandas - assign histogram bucket to each row", "body": "<p>You can use <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.cut.html\" rel=\"nofollow noreferrer\"><code>pd.cut</code></a>, with <code>labels=False</code> if you only want the index:</p>\n\n<pre><code>buckets = [0,3,5,9]\ndf['bucket'] = pd.cut(df['A'], bins=buckets)\ndf['bucket_idx'] = pd.cut(df['A'], bins=buckets, labels=False)\n</code></pre>\n\n<p>The resulting output:</p>\n\n<pre><code>   A  bucket  bucket_idx\n0  1  (0, 3]           0\n1  2  (0, 3]           0\n2  3  (0, 3]           0\n3  4  (3, 5]           1\n4  6  (5, 9]           2\n5  4  (3, 5]           1\n6  3  (0, 3]           0\n7  2  (0, 3]           0\n8  7  (5, 9]           2\n</code></pre>\n"}], "owner": {"reputation": 5372, "user_id": 1700890, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7ae3069bce34ea67aa6ed85035fac697?s=128&d=identicon&r=PG", "display_name": "user1700890", "link": "https://stackoverflow.com/users/1700890/user1700890"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1064, "favorite_count": 0, "accepted_answer_id": 40773955, "answer_count": 2, "score": 1, "last_activity_date": 1479936555, "creation_date": 1479933823, "last_edit_date": 1479935903, "question_id": 40773842, "link": "https://stackoverflow.com/questions/40773842/pandas-assign-histogram-bucket-to-each-row", "title": "Pandas - assign histogram bucket to each row", "body": "<p>Here is my dataframe:</p>\n\n<pre><code>import pandas as pd\ndf = pd.DataFrame({'A': [1, 2, 3, 4, 6, 4, 3, 2, 7]})\nbuckets = [(0,3),(3,5),(5,9)]\n</code></pre>\n\n<p>I also have histogram buckets stated above. Now I would like to assign each row of dataframe to buckets index. So I would like to get new column with the following info:</p>\n\n<pre><code>df['buckets_index']  = [0,0,0,1,2,1,0,0,2]\n</code></pre>\n\n<p>Of course, I can do it with loops, but I have fairly big dataframe (2.5 mil rows), so I need to get it done quickly.</p>\n\n<p>Any thoughts?</p>\n"}, {"tags": ["python", "import", "module", "importerror", "pypdf"], "comments": [{"owner": {"reputation": 1038, "user_id": 6779606, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07319033471657740d4baed181bb46d9?s=128&d=identicon&r=PG&f=1", "display_name": "PyNoob", "link": "https://stackoverflow.com/users/6779606/pynoob"}, "edited": false, "score": 2, "creation_date": 1479933877, "post_id": 40773839, "comment_id": 68771536, "body": "Imports are case-sensitive. Try <code>import PyPDF2</code>."}, {"owner": {"reputation": 1829, "user_id": 5378132, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/arUcg.png?s=128&g=1", "display_name": "Riley Hun", "link": "https://stackoverflow.com/users/5378132/riley-hun"}, "reply_to_user": {"reputation": 1038, "user_id": 6779606, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07319033471657740d4baed181bb46d9?s=128&d=identicon&r=PG&f=1", "display_name": "PyNoob", "link": "https://stackoverflow.com/users/6779606/pynoob"}, "edited": false, "score": 0, "creation_date": 1479934036, "post_id": 40773839, "comment_id": 68771601, "body": "Wow! Thanks, it worked - I feel like such an idiot."}], "owner": {"reputation": 1829, "user_id": 5378132, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/arUcg.png?s=128&g=1", "display_name": "Riley Hun", "link": "https://stackoverflow.com/users/5378132/riley-hun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 3286, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1479933807, "creation_date": 1479933807, "question_id": 40773839, "link": "https://stackoverflow.com/questions/40773839/no-module-named-pypdf2", "title": "No module named &#39;pyPDF2&#39;", "body": "<p>I am using Python 3.5, and it would appear that I've successfully installed PyPDF2. But for some reason, I get an ImportError. Would appreciate any help given. </p>\n\n<p><a href=\"https://i.stack.imgur.com/qxLnO.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qxLnO.jpg\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/M9I4a.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/M9I4a.jpg\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 695068, "user_id": 20862, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2343ae368d3241278581ce6c87f62a25?s=128&d=identicon&r=PG", "display_name": "Ignacio Vazquez-Abrams", "link": "https://stackoverflow.com/users/20862/ignacio-vazquez-abrams"}, "edited": false, "score": 0, "creation_date": 1479933820, "post_id": 40773820, "comment_id": 68771508, "body": "Did you try passing the return value of the first function to the second function?"}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 1, "creation_date": 1479933838, "post_id": 40773820, "comment_id": 68771515, "body": "You could start by reading the <a href=\"https://docs.python.org/3/tutorial/controlflow.html#defining-functions\" rel=\"nofollow noreferrer\">Python tutorial an functions</a>; your <code>take_quiz()</code> function expects something to be passed in. It looks like your <code>read_qa()</code> function <i>returns</i> something that you could pass on."}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1479933855, "post_id": 40773820, "comment_id": 68771524, "body": "So <code>database = read_qa()</code>, then <code>take_quiz(database)</code>"}, {"owner": {"reputation": 88499, "user_id": 650405, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/5cdee2abea51e91756076032f0053081?s=128&d=identicon&r=PG", "display_name": "Karoly Horvath", "link": "https://stackoverflow.com/users/650405/karoly-horvath"}, "edited": false, "score": 0, "creation_date": 1479933946, "post_id": 40773820, "comment_id": 68771563, "body": "I don&#39;t see a question."}], "answers": [{"tags": [], "owner": {"reputation": 121, "user_id": 7141775, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ufDWF.jpg?s=128&g=1", "display_name": "sopho-saksham", "link": "https://stackoverflow.com/users/7141775/sopho-saksham"}, "is_accepted": false, "score": 0, "last_activity_date": 1479950229, "creation_date": 1479950229, "answer_id": 40776675, "question_id": 40773820, "link": "https://stackoverflow.com/questions/40773820/typeerror-take-quiz-missing-1-required-positional-argument-database/40776675#40776675", "title": "TypeError: take_quiz() missing 1 required positional argument: &#39;database&#39;", "body": "<p>You are returning a value from read_qa(). So you must assign this function to a variable where the returned value can be stored.\nAlso in def of take_quiz() it expects an argument which have been called \"database\" in function declaration. So you need to pass a similar proper argument while calling take_quiz().\ntemp = read_qa(), and then ,\ntake_quiz(temp).\nYou can use any valid variable name instead of temp.\nI hope this helps...</p>\n"}], "owner": {"reputation": 1, "user_id": 7202179, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1299423620916563ac7d54bf63221bc?s=128&d=identicon&r=PG&f=1", "display_name": "B.A.", "link": "https://stackoverflow.com/users/7202179/b-a"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 258, "favorite_count": 0, "answer_count": 1, "score": -3, "last_activity_date": 1479950229, "creation_date": 1479933739, "last_edit_date": 1479933777, "question_id": 40773820, "link": "https://stackoverflow.com/questions/40773820/typeerror-take-quiz-missing-1-required-positional-argument-database", "title": "TypeError: take_quiz() missing 1 required positional argument: &#39;database&#39;", "body": "<p>I am new to programming and I am trying to return a dictionary from one function and use it in another, however I keep getting this same error as said in the title. Here is my code:</p>\n\n<pre><code>def read_qa(filename = 'data.csv'):\n    database = {}\n    f_in = open(filename, 'r')\n    for line in f_in:\n        line_list = line.strip().split(',')\n        question = line_list[0]\n        answers = line_list[1:]\n        database[question] = answers\n    f_in.close()\n    return database\n\ndef take_quiz(database):\n    name = input(\"Enter your name: \")\n    num_questions = eval(input(\"How many questions?: \"))\n    if num_questions &lt; len(database):\n        print('The quiz will have', num_questions, 'questions.')\n    else:\n        print('The quiz will have', len(database), 'questions.')\n    print()\n\nread_qa()\ntake_quiz()\n\n\n\nError:\nTraceback (most recent call last):\n  File \"/Users/BA/PycharmProjects/p/b.py\", line 22, in &lt;module&gt;\n    take_quiz()\nTypeError: take_quiz() missing 1 required positional argument: 'database'\n\nProcess finished with exit code 1\n</code></pre>\n"}, {"tags": ["python", "logging"], "answers": [{"tags": [], "owner": {"reputation": 84127, "user_id": 118903, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7094252405dd3dd5f798b132834d39b2?s=128&d=identicon&r=PG", "display_name": "Vinay Sajip", "link": "https://stackoverflow.com/users/118903/vinay-sajip"}, "is_accepted": false, "score": 2, "last_activity_date": 1480055291, "creation_date": 1480055291, "answer_id": 40798951, "question_id": 40773798, "link": "https://stackoverflow.com/questions/40773798/idiomatic-way-to-prepend-an-identifier-to-pythons-logger-for-the-duration-of-so/40798951#40798951", "title": "Idiomatic way to prepend an identifier to python&#39;s logger for the duration of some request?", "body": "<p>How to do this is documented in the <a href=\"https://docs.python.org/3/howto/logging-cookbook.html#adding-contextual-information-to-your-logging-output\" rel=\"nofollow noreferrer\">Logging Cookbook</a>, which is part of the Python documentation.</p>\n"}], "owner": {"reputation": 12091, "user_id": 1391717, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/oSSdx.jpg?s=128&g=1", "display_name": "Matthew Moisen", "link": "https://stackoverflow.com/users/1391717/matthew-moisen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2354, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1480055291, "creation_date": 1479933650, "question_id": 40773798, "link": "https://stackoverflow.com/questions/40773798/idiomatic-way-to-prepend-an-identifier-to-pythons-logger-for-the-duration-of-so", "title": "Idiomatic way to prepend an identifier to python&#39;s logger for the duration of some request?", "body": "<p>I have a server used by many clients. In order to make finding log entries easier, I wanted to allow the client to supply a UUID for each request, and then prepend each log message with that UUID for the duration of the request. The benefit to this is that the client can supply the ID to me if they encounter some bug, and I would be able to quickly find it in the logs. I assume this is pretty standard; is there any idiomatic was of accomplishing this task in Python?</p>\n\n<p>I could do this naively by manually prepending the uuid to each log message:</p>\n\n<pre><code>import uuid\nimport logging\nlogger = logging.getLogger(__name__)\n\ndef request(*args, **kwargs):\n    _id = args.get(\"_id\", str(uuid.uuid4()))\n    logger.info(\"{} - {}\".format(_id, \"Starting request\"))\n</code></pre>\n\n<p>I could also create a new logger for each request, and change the <code>formatter</code> to take care of prepending for me:</p>\n\n<pre><code>import uuid\nimport logging\n\ndef build_logger(_id):\n    logger = logging.getLogger(_id)\n    # ...\n    formatter = logging.Formatter('%(name)s - %(message)s')\n    # ...\n    return logger\n\nimport uuid\ndef request(*args, **kwargs):\n   _id = args.get(\"_id\", str(uuid.uuid4()))\n    logger = build_logger(_id)\n</code></pre>\n\n<p>Then I thought that I could perhaps create a proxy class, that would intercept calls to <code>info</code>, <code>debug</code>, <code>exception</code>, and etc, and prepend the uuid. Something like:</p>\n\n<pre><code>import uuid\nimport logging\nlogger = logging.getLogger(__name__)\n\nclass Logger(object):\n    \"\"\"Naive Proxy class for logger\"\"\"\n    def __init__(self, _id):\n        self._id = _id\n    def debug(self, msg):\n        logger.debug(\"{} - {}\".format(self._id, msg)\n    def info(self, msg):\n        logger.info(\"{} - {}\".format(self._id, msg)\n    # and etc. for each level and `exception`\n\ndef request(*args, **kwargs):\n    _id = args.get(\"_id\", str(uuid.uuid4()))\n    logger = Logger(_id)\n</code></pre>\n\n<p>And why not collapse these using <code>__getattr__</code> and a decorator?</p>\n\n<pre><code>import uuid\nimport logging\nlogger = logging.getLogger(__name__)\n\ndef loggerator(_id):\n    \"\"\"\n    Decorator to intercept `info`, `debug`, etc. and prepend the `_id`\n    Used in the Logger Proxy class\n    \"\"\"\n    def _loggerator(func):\n        def __loggerator(msg):\n            return func(\"{} - {}\".format(_id, msg))\n        return __loggerator\n    return _loggerator\n\nclass Logger(object):\n    \"\"\"Proxy class for logger\"\"\"\n    def __init__(self, _id):\n        self._id = _id\n    def __getattr__(self, item):\n        if item == '_id':\n            return object.__getattribute__(self, item)\n        if item in ('debug', 'info', 'warn', 'warning', 'error', 'critical', 'fatal', 'exception'):\n            return loggerator(self._id)(getattr(logger, item))\n        return getattr(logger, item)\n\ndef request(*args, **kwargs):\n    _id = args.get(\"_id\", str(uuid.uuid4()))\n    logger = Logger(_id)\n</code></pre>\n"}, {"tags": ["python", "pandas", "dataframe", "multi-index"], "answers": [{"tags": [], "owner": {"reputation": 13049, "user_id": 4413446, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/Z2gMy.png?s=128&g=1", "display_name": "Romain", "link": "https://stackoverflow.com/users/4413446/romain"}, "is_accepted": true, "score": 0, "last_activity_date": 1479936454, "last_edit_date": 1479936454, "creation_date": 1479935687, "answer_id": 40774259, "question_id": 40773797, "link": "https://stackoverflow.com/questions/40773797/python-pandas-how-to-find-the-number-of-entries-in-a-sub-index-in-data-frame/40774259#40774259", "title": "Python Pandas, how to find the number of entries in a sub-index in data frame", "body": "<p>The only solution I know is to reset the index before performing a <code>groupby</code>. I have made a simple reproductible example below, it has to be adapted to your use case.</p>\n\n<p>It should work but there is maybe a better solution. I will have a look.</p>\n\n<pre><code># Creating test data\nnp.random.seed(0)\ndf = pd.DataFrame(np.random.randint(0,10,size=(10, 4)), \n                  columns=list('ABCD'))\ndf = df.set_index(['A', 'B'])\n\n# Reset the index,\n# group by the first level and count the number of second level\n# nunique can also be used to get the number of unique values\n\ndf.reset_index(level=1).groupby(level=0)['B'].count()\n\n# A\n# 2    1\n# 3    1\n# 4    1\n# 5    3\n# 7    2\n# 8    2\n</code></pre>\n\n<h1>Edit</h1>\n\n<p>Here is I think a better solution using the great <code>value_counts</code> method on the index.</p>\n\n<pre><code>df.reset_index(level=1).index.value_counts()\n\n# 5    3\n# 8    2\n# 7    2\n# 4    1\n# 3    1\n# 2    1\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 9512055, "user_type": "registered", "profile_image": "https://graph.facebook.com/1351649911601848/picture?type=large", "display_name": "Harshit Jaitly", "link": "https://stackoverflow.com/users/9512055/harshit-jaitly"}, "is_accepted": false, "score": 0, "last_activity_date": 1566212697, "last_edit_date": 1566212697, "creation_date": 1566212395, "answer_id": 57555413, "question_id": 40773797, "link": "https://stackoverflow.com/questions/40773797/python-pandas-how-to-find-the-number-of-entries-in-a-sub-index-in-data-frame/57555413#57555413", "title": "Python Pandas, how to find the number of entries in a sub-index in data frame", "body": "<pre><code>census_df = census_df.set_index(['STNAME'])\n#this sets all the indices according to STNAME with multiple occurences of each STNAME\ncensus_df.index.value_counts().index[0]\n# .index gives all the indices present multiple times\n# .value_counts() returns a series with number of occurence of each index sorted from max -&gt; low\n#.index[0] gives the STNAME with max occurences = max no. of counties\n</code></pre>\n"}], "owner": {"reputation": 37, "user_id": 6920489, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/549910a3f1199edbea714bb9a5a051c7?s=128&d=identicon&r=PG&f=1", "display_name": "c2709c", "link": "https://stackoverflow.com/users/6920489/c2709c"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1361, "favorite_count": 0, "accepted_answer_id": 40774259, "answer_count": 2, "score": 1, "last_activity_date": 1566212697, "creation_date": 1479933645, "question_id": 40773797, "link": "https://stackoverflow.com/questions/40773797/python-pandas-how-to-find-the-number-of-entries-in-a-sub-index-in-data-frame", "title": "Python Pandas, how to find the number of entries in a sub-index in data frame", "body": "<p>I have this data frame:</p>\n\n<p><a href=\"https://i.stack.imgur.com/BNF6y.png\" rel=\"nofollow noreferrer\">data frame</a></p>\n\n<p>Level 1 index is STNAME, level 2 index is CTYNAME</p>\n\n<p>What is the best way to find the number of entries contained in each level 1 index?</p>\n"}, {"tags": ["python", "tkinter"], "comments": [{"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 0, "creation_date": 1479948535, "post_id": 40773710, "comment_id": 68776527, "body": "keep <code>missing</code> as <code>self.missing</code> and you will have access to this label in other functions. And don&#39;t use <code>sleep</code> because it blocks <code>mainloop</code> which get events, sends it to widgets, update data in widgets, and redraws widgets. Use <code>root.after(milliseconds, function_name)</code> to execute function which will remove label."}, {"owner": {"reputation": 1, "user_id": 7202153, "user_type": "registered", "profile_image": "https://graph.facebook.com/10211498849010803/picture?type=large", "display_name": "Matt Bakker", "link": "https://stackoverflow.com/users/7202153/matt-bakker"}, "reply_to_user": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 0, "creation_date": 1480006981, "post_id": 40773710, "comment_id": 68805475, "body": "Thank you very much! That worked spectacularly"}], "owner": {"reputation": 1, "user_id": 7202153, "user_type": "registered", "profile_image": "https://graph.facebook.com/10211498849010803/picture?type=large", "display_name": "Matt Bakker", "link": "https://stackoverflow.com/users/7202153/matt-bakker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 35, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1479934448, "creation_date": 1479933254, "last_edit_date": 1479934448, "question_id": 40773710, "link": "https://stackoverflow.com/questions/40773710/how-to-interactively-remove-things-from-a-gui", "title": "How to interactively remove things from a GUI?", "body": "<p>So as it stands right now, I am trying to create a GUI will produce error codes when something goes wrong as a label with tkinter. But I also want to error code to go away if the error is resolved and the same button is pressed</p>\n\n<p>My code;</p>\n\n<pre><code>def go(self):\n\n    classname = cxml.classify()\n    if type(classname) is str:\n        missing = Label(self, text =\n            \"\"\"Invalid System Map.\n             Please Double Check Inputs.\n             If it needs to be added\n            to a list, email me.\"\"\", fg='red')\n        missing.place(x=275,y=75)\n        time.sleep(15)\n        missing.destroy()\n\n    else:\n        cxml.absolute_payer(classname,folder,file,person,place,thing)\n        finished = Button(self, text = 'Done? Click here to Exit', command = lambda: exit())\n        finished.place(x=50, y=150)\n</code></pre>\n\n<p>I have a button that reference the def go, and when I press it, I want it to remove the error code that may have been generated if the prior input resulted in an error.  If possible, I would prefer if the \"go\" button was the only button on the screen until the code executes properly.</p>\n\n<p>The purpose would be to open the application and have the ability to produce different error codes (in the same location) within the GUI as long as it is kept open.</p>\n"}, {"tags": ["python", "list", "python-3.x", "dictionary", "default-value"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 6617059, "user_type": "registered", "profile_image": "https://graph.facebook.com/10207516126774426/picture?type=large", "display_name": "Martin Mbaabu", "link": "https://stackoverflow.com/users/6617059/martin-mbaabu"}, "edited": false, "score": 0, "creation_date": 1479935691, "post_id": 40774027, "comment_id": 68772369, "body": "Thank you very much, much appreciated. I can now keep track of my students and make sure none gets left behind."}, {"owner": {"reputation": 1639, "user_id": 3030010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41c97ca617bb8ebf436f2131091f8d3d?s=128&d=identicon&r=PG&f=1", "display_name": "user3030010", "link": "https://stackoverflow.com/users/3030010/user3030010"}, "reply_to_user": {"reputation": 1, "user_id": 6617059, "user_type": "registered", "profile_image": "https://graph.facebook.com/10207516126774426/picture?type=large", "display_name": "Martin Mbaabu", "link": "https://stackoverflow.com/users/6617059/martin-mbaabu"}, "edited": false, "score": 0, "creation_date": 1479935983, "post_id": 40774027, "comment_id": 68772500, "body": "You&#39;re welcome. Would you mind marking this as the solution if it helped you?"}], "tags": [], "owner": {"reputation": 1639, "user_id": 3030010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41c97ca617bb8ebf436f2131091f8d3d?s=128&d=identicon&r=PG&f=1", "display_name": "user3030010", "link": "https://stackoverflow.com/users/3030010/user3030010"}, "is_accepted": false, "score": 0, "last_activity_date": 1479934609, "creation_date": 1479934609, "answer_id": 40774027, "question_id": 40773623, "link": "https://stackoverflow.com/questions/40773623/auto-append-list-items-in-dictionary-with-default-values-python/40774027#40774027", "title": "Auto append list items in dictionary with default values python", "body": "<p>This isn't exactly what you're asking for, but I think it will help. Instead of asking the user to input a name each time for the second part, why not just print the name yourself, and only ask for the outcome? Your last <code>while</code> loop would then become a for loop instead, like this:</p>\n\n<pre><code>for student_name in student_names:\n    outcome = input(\"Outcome for {}: \".format(sudent_name))\n    collector(student_name, student_names, outcome)\n</code></pre>\n\n<p>You could also add some logic to check if outcome is an empty string, and if so, set it to 'N'. This would just allow you to hit enter for most of the names, and only have to type in 'Y' for the certain ones that are absent. That would look like this:</p>\n\n<pre><code>for student_name in student_names:\n    outcome = input(\"Outcome for {}: \".format(sudent_name))\n    if outcome = \"\":\n        outcome = \"N\"\n    collector(student_name, student_names, outcome)\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 6617059, "user_type": "registered", "profile_image": "https://graph.facebook.com/10207516126774426/picture?type=large", "display_name": "Martin Mbaabu", "link": "https://stackoverflow.com/users/6617059/martin-mbaabu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 214, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1479934609, "creation_date": 1479932811, "question_id": 40773623, "link": "https://stackoverflow.com/questions/40773623/auto-append-list-items-in-dictionary-with-default-values-python", "title": "Auto append list items in dictionary with default values python", "body": "<p>I am trying to create an attendance logger where I create a dictionary which I fill with student names. The names will be lists where I append their class attendance data (whether they attended class or not). The code I have so far is displayed below`</p>\n\n<pre><code>#! /bin/python3\n#add student to dict\ndef add_student(_dict):\n    student=input('Add student :')\n    _dict[student]=[]\n    return _dict\n\n#collect outcomes\ndef collector(student,_dict, outcome):\n    _dict[student].append(outcome)\n    return _dict\n\n#counts target\ndef count(_dict,target):\n    for i in _dict: \n        # records total attendance names\n        attendance_stat = len(_dict[i])\n        # records total instances absent\n        freq_of_absence=_dict[i].count(target)\n        # records percentage of absence\n        perc_absence = float((freq_of_absence/attendance_stat)*100)\n        print(i,'DAYS ABSENT =',freq_of_absence)\n        print('TOTAL DAYS: ', i, attendance_stat)\n        print('PERCENTAGE OF ABSENCE:', i, str(round(perc_absence, 2))+'%')\n\n#main function\ndef main():\n    #date=input('DATE: ')\n    outcomes=['Y','N']\n    student_names = {}\n    try:\n        totalstudents = int(input('NO. OF STUDENTS: '))\n    except ValueError:\n        print('input an integer')\n        totalstudents = int(input('NO. OF STUDENTS: '))\n    while len(student_names) &lt; totalstudents:\n        add_student(student_names)\n    print(student_names)\n    i = 0\n    while i &lt; totalstudents:\n        i = i + 1\n        target='Y'\n        student=str(input('student :'))\n        outcome=str(input('outcome :'))\n        collector(student,student_names,outcome)\n    count(student_names,target)\n\nif __name__=='__main__':\n    main()\n</code></pre>\n\n<p>`\nThe code works well so far but the problem is when the number of students is too large, time taken to input is extensive cutting in on class time. Since the number of absentees is usually less than those present, is it possible to select from the dictionary students absent which will append the value Y for each selected absent, while appending N to the remaining lists in dictionary. </p>\n"}, {"tags": ["python", "list"], "comments": [{"owner": {"reputation": 46136, "user_id": 3890632, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hNkgF.png?s=128&g=1", "display_name": "khelwood", "link": "https://stackoverflow.com/users/3890632/khelwood"}, "edited": false, "score": 0, "creation_date": 1479933090, "post_id": 40773596, "comment_id": 68771183, "body": "If you&#39;re going to post Python code, make sure you reproduce your indentation accurately. Badly indented Python code is nonsense."}], "answers": [{"comments": [{"owner": {"reputation": 695, "user_id": 2506949, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/52e5d8756b5535046a2560c4169a464c?s=128&d=identicon&r=PG", "display_name": "David Bern", "link": "https://stackoverflow.com/users/2506949/david-bern"}, "edited": false, "score": 1, "creation_date": 1479933145, "post_id": 40773673, "comment_id": 68771210, "body": "damn, I have to type faster :)"}, {"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "reply_to_user": {"reputation": 695, "user_id": 2506949, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/52e5d8756b5535046a2560c4169a464c?s=128&d=identicon&r=PG", "display_name": "David Bern", "link": "https://stackoverflow.com/users/2506949/david-bern"}, "edited": false, "score": 0, "creation_date": 1479934059, "post_id": 40773673, "comment_id": 68771616, "body": "fast answers are sometimes not the best ones. Here it was simple enough so I think everything is covered properly, but don&#39;t get discouraged. There&#39;s a lot to do on this site."}], "tags": [], "owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "is_accepted": false, "score": 2, "last_activity_date": 1479933090, "creation_date": 1479933090, "answer_id": 40773673, "question_id": 40773596, "link": "https://stackoverflow.com/questions/40773596/how-would-i-remove-commas-when-displaying-my-list-and-printing-its-position-in-t/40773673#40773673", "title": "How would i remove commas when displaying my list and printing its position in the list next to it", "body": "<p>just perform a loop using <code>enumerate</code> and test if <code>n</code> is not empty</p>\n\n<pre><code>l=[\"\",\"\",\"Jake\",\"\",\"Dan\",\"\"]\n\nfor i,n in enumerate(l):\n    if n:\n        print(\"{} {}\".format(i+1,n))\n</code></pre>\n\n<p>or in one line using a generator comprehension inside <code>str.join</code> with a linefeed:</p>\n\n<pre><code>print(\"\\n\".join(\"{} {}\".format(i+1,n) for i,n in enumerate(l) if n))\n</code></pre>\n"}], "owner": {"reputation": 99, "user_id": 7112501, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/d8383eb41e488cdd93ef6d36b19cb170?s=128&d=identicon&r=PG&f=1", "display_name": "Waheed Hussain", "link": "https://stackoverflow.com/users/7112501/waheed-hussain"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 36, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1479933090, "creation_date": 1479932746, "question_id": 40773596, "link": "https://stackoverflow.com/questions/40773596/how-would-i-remove-commas-when-displaying-my-list-and-printing-its-position-in-t", "title": "How would i remove commas when displaying my list and printing its position in the list next to it", "body": "<p>i would like my code to print when asked only the persons name and what position they are in the list like this:</p>\n\n<pre><code>3 jake\n5 Dan\n</code></pre>\n\n<p>instead of what my code does:<code>,,jake,,Dan,,,,</code></p>\n\n<p>how would i do remove the commas and print its position in the list on each line  here is my code so far</p>\n\n<pre><code>while True:\nprint ('1 = Add Name ')\nprint ('2 = Display List ')\nprint ('3 = Quit \\n')\n\nchoice = input('What would you like to do: ')\nif choice== '1':\n    names = ['' for _ in range(9)]\n    name = input('Enter name: ')\n    position = input('What position in the list would you like to add to: ')\n    position = int(position)\n    if -1 &lt; position &lt; 9:\n        names.insert(position-1, name) \nif choice == '2':\n    print(\", \".join(names)) \n    continue\nif choice == '3':\n    print('Program Terminating')\n    break\nelse:\n    print('You have entered something invalid ')\n    print('There are only 10 names in the list')\n    continue\n</code></pre>\n"}, {"tags": ["python", "json", "curl", "sed"], "comments": [{"owner": {"reputation": 69, "user_id": 7176594, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/6b952299d3c52e4953be128fc973f00a?s=128&d=identicon&r=PG&f=1", "display_name": "donny", "link": "https://stackoverflow.com/users/7176594/donny"}, "reply_to_user": {"reputation": 155597, "user_id": 1745001, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99a3ebae89496eb16afe453aae97f5be?s=128&d=identicon&r=PG", "display_name": "Ed Morton", "link": "https://stackoverflow.com/users/1745001/ed-morton"}, "edited": false, "score": 0, "creation_date": 1479933659, "post_id": 40773588, "comment_id": 68771432, "body": "That worked for few but not all cases. Somewhere in the middle it is misbehaving"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1479935720, "post_id": 40773588, "comment_id": 68772380, "body": "Why don&#39;t you write them to separate JSON files instead of all going to the same file?"}, {"owner": {"reputation": 69, "user_id": 7176594, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/6b952299d3c52e4953be128fc973f00a?s=128&d=identicon&r=PG&f=1", "display_name": "donny", "link": "https://stackoverflow.com/users/7176594/donny"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1479936171, "post_id": 40773588, "comment_id": 68772577, "body": "Can you suggest how do I tweak my curl statement here?"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1479936234, "post_id": 40773588, "comment_id": 68772602, "body": "Does your input file really have quotes around the lines?"}], "answers": [{"tags": [], "owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "is_accepted": true, "score": 0, "last_activity_date": 1479936586, "creation_date": 1479936586, "answer_id": 40774452, "question_id": 40773588, "link": "https://stackoverflow.com/questions/40773588/curl-to-fetch-multiple-json-objects/40774452#40774452", "title": "Curl to fetch multiple JSON objects", "body": "<p>Write each result to a different JSON file.</p>\n\n<pre><code>i=0\nwhile read url; do\n    curl -H \"Authorization: Bearer $token\" -X GET -L &gt; data.$i.json\n    i=$((i+1))\ndone &lt; sample.dat\n</code></pre>\n\n<p>Or you could write to a single file in the loop, inserting the comma separators between the elements.</p>\n\n<pre><code>i=0\nwhile read url; do\n    if [[ i -eq 0 ]]\n        then echo '['\n        else echo ','\n    fi\n    curl -H \"Authorization: Bearer $token\" -X GET -L \n    i=$((i+1))\ndone &lt; sample.dat &gt; data.json\necho ']' &gt;&gt; data.json\n</code></pre>\n"}], "owner": {"reputation": 69, "user_id": 7176594, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/6b952299d3c52e4953be128fc973f00a?s=128&d=identicon&r=PG&f=1", "display_name": "donny", "link": "https://stackoverflow.com/users/7176594/donny"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 497, "favorite_count": 0, "accepted_answer_id": 40774452, "answer_count": 1, "score": 0, "last_activity_date": 1479936586, "creation_date": 1479932732, "last_edit_date": 1479935600, "question_id": 40773588, "link": "https://stackoverflow.com/questions/40773588/curl-to-fetch-multiple-json-objects", "title": "Curl to fetch multiple JSON objects", "body": "<p>I have to call a service to fetch some data from it. I use curl for it</p>\n\n<p><strong>Curl Command</strong></p>\n\n<pre><code>&lt; /example/data/sample.dat xargs -P10 curl -H \"Authorization: Bearer $token\" -X GET -L  &gt; /example/json/data.json\n</code></pre>\n\n<p>I have my application token which I use here.</p>\n\n<p>The file sample.dat looks like this</p>\n\n<pre><code>\"http://xxx/marketing/insights/v1/info?id=0553153617,B003W0CI6Y,B000R08E7Y,B001O2SAAU,B00B1MP3MG,B00QRHJBPU,B00007B4DC,0852597088,B0000003H4,1937715213&amp;fields=product.title,product.url,&amp;fieldgroups=default\"\n\"http://xxx/marketing/insights/v1/info?id=0553153617,B003W0CI6Y,B000R08E7Y,B001O2SAAU,B00B1MP3MG,B00QRHJBPU,B00007B4DC,0852597088,B0000003H4,1937715213&amp;fields=product.title,product.url,&amp;fieldgroups=default\"\n\"http://xxx/marketing/insights/v1/info?id=0746029853,1613210035,B004SI9OKW,1572841451,B00FC1BQUA,3170218085,B009QJYBVK,B0181P5E42,B01J8JRZ92,0961268611&amp;fields=product.title,product.url,&amp;fieldgroups=default\"\n\"http://xxx/marketing/insights/v1/info?id=1402206836,B006FQQMZA,1624386903,B001ANZW0O,0872200450,B0035LCSCO,B00JRQ7T5W,1401951341,B00PKSCDRU,B00PKR4UW2&amp;fields=product.title,product.url,&amp;fieldgroups=default\"\n</code></pre>\n\n<p>So as you see I make parallel calls with 10 ids to the service.</p>\n\n<p>The output that I receive is 3 JSON objects in the file <code>/example/json/data.json</code>.</p>\n\n<p>Example:</p>\n\n<pre><code>{.....}{...}{...}\n</code></pre>\n\n<p>Now when I have to parse it using python, it fails saying invalid json. Thats correct because the file does not represent a standard JSON array</p>\n\n<p>So using sed I tried to change it to</p>\n\n<pre><code>[{.....},{...},{...}]\n</code></pre>\n\n<p>Now this looks like JSON and can be parsed. This logic worked fine for small data but with larger data, I think my sed was not able to put the <code>,</code> at the right place inside JSON and hence it resulted in incorrect file. As a result JSON parser in python is failing.</p>\n\n<p>Now I was thinking if I can have the individual JSON objects on each line\nlike</p>\n\n<pre><code>{...}\n{...}\n{...}\n</code></pre>\n\n<p>That way I can read the file line by line.</p>\n\n<p>Can someone help with how I can change the curl to output individual jsons on each line like</p>\n\n<pre><code>{...}\n{...}\n{...} \n</code></pre>\n"}, {"tags": ["python", "python-3.6"], "comments": [{"owner": {"reputation": 5298, "user_id": 411645, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/f9f4ec02e1fe8245e1c9b0881c2b8c71?s=128&d=identicon&r=PG", "display_name": "Thomas Junk", "link": "https://stackoverflow.com/users/411645/thomas-junk"}, "edited": false, "score": 0, "creation_date": 1479933512, "post_id": 40773551, "comment_id": 68771367, "body": "No. According to the Docs, it wouldn&#39;t make sense: <a href=\"https://docs.python.org/3.6/reference/lexical_analysis.html#f-strings\" rel=\"nofollow noreferrer\">docs.python.org/3.6/reference/lexical_analysis.html#f-string&zwnj;&#8203;s</a> As far as I can see, it is syntactic sugar for .format() anyways."}, {"owner": {"reputation": 156940, "user_id": 416467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/32cad7487ccecc3740a62e797fc326dc?s=128&d=identicon&r=PG", "display_name": "kindall", "link": "https://stackoverflow.com/users/416467/kindall"}, "edited": false, "score": 0, "creation_date": 1479934049, "post_id": 40773551, "comment_id": 68771613, "body": "You can technically do it with <code>eval()</code>. This is a bad idea in general, but in this case it&#39;s doubly difficult to assure safety because the format string itself can contain arbitrary Python code. So even if you parse the string first (<code>ast.parse()</code>) and make sure it only contains a single format string, that single format string is just as dangerous as <code>eval()</code> itself."}], "answers": [{"tags": [], "owner": {"reputation": 2096, "user_id": 6732794, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xH8SY.gif?s=128&g=1", "display_name": "lazy dog", "link": "https://stackoverflow.com/users/6732794/lazy-dog"}, "is_accepted": false, "score": 0, "last_activity_date": 1479933935, "creation_date": 1479933935, "answer_id": 40773865, "question_id": 40773551, "link": "https://stackoverflow.com/questions/40773551/python-formatted-string-literals-for-objects/40773865#40773865", "title": "Python formatted string literals for objects", "body": "<p>The <code>str.format</code> syntax does not and will not support the full range of expressions that the newer f-strings will. You'll have to manually evaluate the slice expression outside of the string and supply it to the format function instead:</p>\n\n<pre><code>a = \"abcd\"\nstring_object = \"{a}\".format(a = a[:2])\n</code></pre>\n\n<p>It should also be noted there are <a href=\"https://www.python.org/dev/peps/pep-0498/#differences-between-f-string-and-str-format-expressions\" rel=\"nofollow noreferrer\">subtle differences</a> between the syntax allowed by f-strings and <code>str.format</code>, so that the former is not strictly a superset of the latter.</p>\n"}, {"tags": [], "owner": {"reputation": 118102, "user_id": 4952130, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/kKQZw.png?s=128&g=1", "display_name": "Dimitris Fasarakis Hilliard", "link": "https://stackoverflow.com/users/4952130/dimitris-fasarakis-hilliard"}, "is_accepted": false, "score": 0, "last_activity_date": 1479935813, "creation_date": 1479935813, "answer_id": 40774288, "question_id": 40773551, "link": "https://stackoverflow.com/questions/40773551/python-formatted-string-literals-for-objects/40774288#40774288", "title": "Python formatted string literals for objects", "body": "<p>Nope, <code>str.format</code> tries to cast the indexes to a <code>str</code> first before applying them, that's why you get that error; it tries to index the string with <code>str</code> indices:</p>\n\n<pre><code>a = \"abcd\" \n&gt;&gt;&gt; a[:'2']\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\nTypeError: slice indices must be integers or None or have an __index__ method\n</code></pre>\n\n<p>It really isn't meant for cases like that; <code>\"{a[::]}\".format(a=a)</code> would probably be evaluated as <code>a[:':']</code> too I'd guess.</p>\n\n<p>This is one of the reasons <code>f-strings</code> came about, in order to support any Python expressions' desire to be formatted.</p>\n"}], "owner": {"reputation": 191, "user_id": 3643563, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/f237e6cac5e1582efd3c3c5ec22df342?s=128&d=identicon&r=PG&f=1", "display_name": "Rollmops", "link": "https://stackoverflow.com/users/3643563/rollmops"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 274, "favorite_count": 1, "answer_count": 2, "score": -2, "last_activity_date": 1502917505, "creation_date": 1479932578, "last_edit_date": 1502917505, "question_id": 40773551, "link": "https://stackoverflow.com/questions/40773551/python-formatted-string-literals-for-objects", "title": "Python formatted string literals for objects", "body": "<p>one of a very cool new feature of Python3.6 is the implementation of Formatted string literals (<a href=\"https://docs.python.org/3.6/whatsnew/3.6.html#whatsnew36-pep498\" rel=\"nofollow noreferrer\">https://docs.python.org/3.6/whatsnew/3.6.html#whatsnew36-pep498</a>).</p>\n\n<p>Unfortunately, it does not behave like the well known format() function:</p>\n\n<pre><code>&gt;&gt; a=\"abcd\"\n&gt;&gt; print(f\"{a[:2]}\")\n&gt;&gt; 'ab'\n</code></pre>\n\n<p>As you see, slicing is possible (actually all python functions on string).\nBut <code>format()</code> will not work with slicing:</p>\n\n<pre><code>&gt;&gt; print(\"{a[:2]}\".format(a=\"abcd\")\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\nTypeError: string indices must be integers\n</code></pre>\n\n<p>Is there a way to get the functionality of the new formatted string literals on string objects??</p>\n\n<pre><code>&gt;&gt; string_object = \"{a[:2]}\"   # may also be comming from a file\n&gt;&gt; # some way to get the result 'ab' with 'string_object'\n</code></pre>\n"}, {"tags": ["python", "dictionary"], "comments": [{"owner": {"reputation": 17990, "user_id": 5827958, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/V9KEl.png?s=128&g=1", "display_name": "zondo", "link": "https://stackoverflow.com/users/5827958/zondo"}, "edited": false, "score": 3, "creation_date": 1479932636, "post_id": 40773515, "comment_id": 68770957, "body": "You said <code>for moods in moodDict</code>, so <code>mood</code> isn&#39;t defined.  It should be <code>for mood in moodDict</code>."}, {"owner": {"reputation": 15599, "user_id": 4575071, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb9bceb35fc57e732ca44911b801b12e?s=128&d=identicon&r=PG&f=1", "display_name": "ettanany", "link": "https://stackoverflow.com/users/4575071/ettanany"}, "edited": false, "score": 0, "creation_date": 1479932679, "post_id": 40773515, "comment_id": 68770978, "body": "Can you show us the result that you are expecting?"}], "answers": [{"comments": [{"owner": {"reputation": 45, "user_id": 7150780, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/6e40c7f1943540eed998b628eddcbd39?s=128&d=identicon&r=PG&f=1", "display_name": "naraemee", "link": "https://stackoverflow.com/users/7150780/naraemee"}, "edited": false, "score": 0, "creation_date": 1479933758, "post_id": 40773639, "comment_id": 68771482, "body": "Thank you so much! I understand now :)"}], "tags": [], "owner": {"reputation": 17238, "user_id": 240490, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/536433ff8bf7f50dcab75a920a11d30a?s=128&d=identicon&r=PG", "display_name": "Jonathan Eunice", "link": "https://stackoverflow.com/users/240490/jonathan-eunice"}, "is_accepted": true, "score": 0, "last_activity_date": 1479932931, "creation_date": 1479932931, "answer_id": 40773639, "question_id": 40773515, "link": "https://stackoverflow.com/questions/40773515/print-all-elements-of-a-dictionary-python/40773639#40773639", "title": "print all elements of a dictionary? Python", "body": "<p>You had <code>moods</code> and <code>mood</code> in this routine. You need just one of them. <code>mood</code> seems best.</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>def allMoods(moodDict):\n    for mood in moodDict:\n        print(mood, moodDict[mood])\n</code></pre>\n\n<p>With that change, everything works. It works now because you have defined <code>mood</code> in the <code>for</code> loop, where previously you were calling on <code>mood</code>, but had never defined or set it to anything.</p>\n"}], "owner": {"reputation": 45, "user_id": 7150780, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/6e40c7f1943540eed998b628eddcbd39?s=128&d=identicon&r=PG&f=1", "display_name": "naraemee", "link": "https://stackoverflow.com/users/7150780/naraemee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 303, "favorite_count": 0, "accepted_answer_id": 40773639, "answer_count": 1, "score": 0, "last_activity_date": 1479932931, "creation_date": 1479932476, "question_id": 40773515, "link": "https://stackoverflow.com/questions/40773515/print-all-elements-of-a-dictionary-python", "title": "print all elements of a dictionary? Python", "body": "<p>I can't seem to figure out how to print all elements of a dictionary! I keep getting errors saying that it is not defined. </p>\n\n<p>The file I am using (mood.txt):</p>\n\n<pre><code>happy, Jennifer Clause\nhappy, Jake Foster\nsad, Jonathan Bower\nmad, Penny\nexcited, Logan \nawkward, Mason Tyme\n</code></pre>\n\n<p>my code: </p>\n\n<pre><code>def theFile():\n    moodFile = open(\"mood.txt\")\n    theMood = moodFile.readlines()\n    moodFile.close()\n    return(theMood)\n\ndef makeTheDict(myFile):\n    moodDict = {}\n\n    for lines in myFile:\n        (mood, name) = lines.split(\",\")\n\n        moodDict[mood] = name.strip()\n\n    return(moodDict)\n\n\ndef printMood(mood, moodDict):\n\n    if mood in moodDict:\n        print(\"The people who are\", mood, \":\", moodDict[mood])\n\n\ndef allMoods(moodDict):\n\n    #code I am having trouble with\n    for moods in moodDict:\n        print(mood, moodDict[moods])\n\n\ndef main():\n\n    moodFile = theFile()\n\n    moodDict = makeTheDict(moodFile)\n\n    findMood = input(\"Which mood do you want to choose?: \")\n    printMood(findMood, moodDict)\n\n    allMoods(moodDict)\n</code></pre>\n\n<p>I am trying to print all the moods inside the function <code>allMoods()</code>. Whenever I remove mood from <code>print(mood, moodDict[moods])</code> , it prints out all the names fine, but when I insert the mood it says it is not defined. </p>\n\n<p>I tried calling <code>printMood(mood, moodDict)</code> inside <code>allMoods()</code> but I couldn't get that to work either!</p>\n\n<p>How do I print out everyones moods with their name? Can anyone help! Thanks!</p>\n"}, {"tags": ["python", "python-3.x", "ipython"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1479932606, "post_id": 40773504, "comment_id": 68770943, "body": "Great! So do you have a question?"}, {"owner": {"reputation": 1038, "user_id": 6779606, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07319033471657740d4baed181bb46d9?s=128&d=identicon&r=PG&f=1", "display_name": "PyNoob", "link": "https://stackoverflow.com/users/6779606/pynoob"}, "edited": false, "score": 0, "creation_date": 1479933440, "post_id": 40773504, "comment_id": 68771337, "body": "Pandas&#39; documentation on <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.read_csv.html\" rel=\"nofollow noreferrer\"><code>read_csv</code></a> and <a href=\"http://pandas.pydata.org/pandas-docs/stable/indexing.html\" rel=\"nofollow noreferrer\">indexing and selecting data</a> may help."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 7202075, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1234e0343b13b580fdb7fcf47b2a703d?s=128&d=identicon&r=PG&f=1", "display_name": "Ed Lai", "link": "https://stackoverflow.com/users/7202075/ed-lai"}, "edited": false, "score": 0, "creation_date": 1480012200, "post_id": 40775345, "comment_id": 68807725, "body": "I wrote the script and have encounter the error message &quot;PS C:\\Users\\&gt; python cnum.py   File &quot;cnum.py&quot;, line 15     print row             ^ TabError: Missing parentheses in call to &#39;print&#39;"}, {"owner": {"reputation": 1, "user_id": 7202075, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1234e0343b13b580fdb7fcf47b2a703d?s=128&d=identicon&r=PG&f=1", "display_name": "Ed Lai", "link": "https://stackoverflow.com/users/7202075/ed-lai"}, "edited": false, "score": 0, "creation_date": 1480012332, "post_id": 40775345, "comment_id": 68807786, "body": "Here&#39;s the script:"}, {"owner": {"reputation": 1, "user_id": 7202075, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1234e0343b13b580fdb7fcf47b2a703d?s=128&d=identicon&r=PG&f=1", "display_name": "Ed Lai", "link": "https://stackoverflow.com/users/7202075/ed-lai"}, "edited": false, "score": 0, "creation_date": 1480012368, "post_id": 40775345, "comment_id": 68807805, "body": "import csv import sys  #input number you want to search number = raw_input(&#39;Enter number to find\\n&#39;)  #read csv, and split on &quot;,&quot; the line csv_file = csv.reader(open(&#39;MSDN.csv&#39;, &quot;rb&quot;), delimiter=&quot;,&quot;)  #loop through csv list for row in csv_file:     #if current rows 3rd value is equal to input, print that row     if number == row[2]: \t\t#print row \tprint row"}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "reply_to_user": {"reputation": 1, "user_id": 7202075, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1234e0343b13b580fdb7fcf47b2a703d?s=128&d=identicon&r=PG&f=1", "display_name": "Ed Lai", "link": "https://stackoverflow.com/users/7202075/ed-lai"}, "edited": false, "score": 0, "creation_date": 1480012809, "post_id": 40775345, "comment_id": 68807969, "body": "@Ed: The missing parentheses error is because you&#39;re using Python 3 and <code>print()</code> is function (unlike it was in Python 2). Also, please edit and add the code in your last comment to your question,"}], "tags": [], "owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "is_accepted": false, "score": 0, "last_activity_date": 1479940834, "creation_date": 1479940834, "answer_id": 40775345, "question_id": 40773504, "link": "https://stackoverflow.com/questions/40773504/check-if-string-is-in-csv-and-display-the-values/40775345#40775345", "title": "Check if string is in CSV and display the values", "body": "<p>Since you don't have any code in your question, I won't be providing much of it in my answer\u2014just an outline of how to do what you want:</p>\n\n<ol>\n<li>Set <code>found = False</code>.</li>\n<li>Open CSV file for reading.</li>\n<li>Create <code>csv.reader</code> object from open file.</li>\n<li>Read each row of CSV file using <code>csv.reader</code> object.</li>\n<li>If  <code>row[2]</code> (third item) is equal to the <code>Product Code</code> entered by the user, then print out the entire <code>row</code> <em>and</em> set <code>found = True</code>.</li>\n<li>Following completion of row reading loop, check the value of <code>found</code> to determine whether or not to display the \"Product&nbsp;not&nbsp;found\" message after the entire file has been processed.</li>\n</ol>\n"}], "owner": {"reputation": 1, "user_id": 7202075, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1234e0343b13b580fdb7fcf47b2a703d?s=128&d=identicon&r=PG&f=1", "display_name": "Ed Lai", "link": "https://stackoverflow.com/users/7202075/ed-lai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1967, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1480016335, "creation_date": 1479932457, "last_edit_date": 1479939829, "question_id": 40773504, "link": "https://stackoverflow.com/questions/40773504/check-if-string-is-in-csv-and-display-the-values", "title": "Check if string is in CSV and display the values", "body": "<p>I am new to python and would like to write a simple script to facilitate my work.</p>\n\n<p>I have an Excel csv file with 4 columns and all are strings:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>License Number, Product Name, Product Code, Product Origin\n</code></pre>\n\n<p>I want to do the following:</p>\n\n<ol>\n<li>Prompt for <code>Product Code</code> input.</li>\n<li>Search the csv file and see if it can find a matched <code>Product Code</code> in the csv file.</li>\n<li>If a match is found then display all the 4 values of the <code>Product</code>.</li>\n<li>If not found, then display a \"Product not found\" message.</li>\n</ol>\n"}, {"tags": ["python", "python-2.7", "python-3.x"], "comments": [{"owner": {"reputation": 17990, "user_id": 5827958, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/V9KEl.png?s=128&g=1", "display_name": "zondo", "link": "https://stackoverflow.com/users/5827958/zondo"}, "edited": false, "score": 5, "creation_date": 1479932451, "post_id": 40773448, "comment_id": 68770867, "body": "In Python 3, <code>print</code> is a function, so <code>k*k</code> is an argument to <code>print()</code> and then the result of printing (None) is given the <code>%</code> operator.  To fix, just put parentheses around the whole thing (excluding the actual <code>print</code> word, of course)."}, {"owner": {"reputation": 84731, "user_id": 510937, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/70b13a9ae1aae1ca1aa6ac8dab4643f2?s=128&d=identicon&r=PG", "display_name": "Bakuriu", "link": "https://stackoverflow.com/users/510937/bakuriu"}, "edited": false, "score": 0, "creation_date": 1479932710, "post_id": 40773448, "comment_id": 68770996, "body": "If you want to print the result of <code>(k*k)% (1000000000+7)</code> you have to wrap <i>the whole thing</i> in parenthesis: <code>print((k*k) % (1000000000+7))</code>. BTW: this produces the same result in both python and python3. (The output changes when you start using commas or keyword arguments...)"}], "answers": [{"tags": [], "owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "is_accepted": false, "score": 2, "last_activity_date": 1479932691, "creation_date": 1479932691, "answer_id": 40773577, "question_id": 40773448, "link": "https://stackoverflow.com/questions/40773448/range-difference-in-python-2-7-and-python-3/40773577#40773577", "title": "range difference in Python 2.7 and Python 3", "body": "<p>In Python 2 it's parsing like this:</p>\n\n<pre><code>n = (k*k)%(1000000000+7)\nprint n\n</code></pre>\n\n<p>In Python 3 it's parsing differently, like this:</p>\n\n<pre><code>n = print(k*k)\nn%(1000000000+7)  # TypeError\n</code></pre>\n\n<p>It's due to the changing of <code>print</code> from a statement into a function.  The return code of the print function is <code>None</code>, which you can't use with the remainder operator <code>%</code>.</p>\n\n<p>Make yourself aware also of the differences between <code>input</code> on Python 2 and Python 3</p>\n"}, {"tags": [], "owner": {"reputation": 5659, "user_id": 5952681, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/cd1d7051c326321b5ebb368d725dfe02?s=128&d=identicon&r=PG", "display_name": "linusg", "link": "https://stackoverflow.com/users/5952681/linusg"}, "is_accepted": false, "score": 0, "last_activity_date": 1479932790, "creation_date": 1479932790, "answer_id": 40773612, "question_id": 40773448, "link": "https://stackoverflow.com/questions/40773448/range-difference-in-python-2-7-and-python-3/40773612#40773612", "title": "range difference in Python 2.7 and Python 3", "body": "<p>It has nothing to do with <code>range</code>. You're just trying to use modulo on <code>None</code>, that's what the print function returns. Just reorder the parantheses like this:</p>\n\n<pre><code>print((k*k)%(1000000000+7))\n</code></pre>\n\n<p>Hope this helps!</p>\n"}], "owner": {"reputation": 29, "user_id": 7202040, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3fe37c51e1bf74544c4184fddc031b8?s=128&d=identicon&r=PG&f=1", "display_name": "vri vri", "link": "https://stackoverflow.com/users/7202040/vri-vri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1479932790, "creation_date": 1479932272, "question_id": 40773448, "link": "https://stackoverflow.com/questions/40773448/range-difference-in-python-2-7-and-python-3", "title": "range difference in Python 2.7 and Python 3", "body": "<p>I ran the following code on Python 2 and Python 3</p>\n\n<pre><code>i = int(input())\nfor j in range(i):\n    k = int(input())\n    print(k*k)%(1000000000+7)\n</code></pre>\n\n<p>the input was was fed from a file containing the following</p>\n\n<pre><code>2\n2\n1\n</code></pre>\n\n<p>The Python 2 version ran fine but Python 3 gave this error</p>\n\n<pre><code>4\nTraceback (most recent call last):\n  File \"solution.py\", line 4, in &lt;module&gt;\n    print(k*k)%(1000000000+7)\nTypeError: unsupported operand type(s) for %: 'NoneType' and 'int'\n</code></pre>\n\n<p>why is this error occurring in Python 3 and how do i correct it</p>\n"}, {"tags": ["python", "itertools"], "comments": [{"owner": {"reputation": 5896, "user_id": 5080995, "user_type": "registered", "accept_rate": 91, "profile_image": "https://graph.facebook.com/10153059476487462/picture?type=large", "display_name": "martianwars", "link": "https://stackoverflow.com/users/5080995/martianwars"}, "edited": false, "score": 0, "creation_date": 1479932244, "post_id": 40773360, "comment_id": 68770756, "body": "One way would be to append the desired character to each word produced and then permute the resulting sequence"}, {"owner": {"reputation": 4469, "user_id": 6342812, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/19e9e8f53f02cc9013f635a6bb67647d?s=128&d=identicon&r=PG&f=1", "display_name": "rassar", "link": "https://stackoverflow.com/users/6342812/rassar"}, "reply_to_user": {"reputation": 5896, "user_id": 5080995, "user_type": "registered", "accept_rate": 91, "profile_image": "https://graph.facebook.com/10153059476487462/picture?type=large", "display_name": "martianwars", "link": "https://stackoverflow.com/users/5080995/martianwars"}, "edited": false, "score": 0, "creation_date": 1479933037, "post_id": 40773360, "comment_id": 68771154, "body": "@KalpeshKrishna thank you!"}], "answers": [{"comments": [{"owner": {"reputation": 4469, "user_id": 6342812, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/19e9e8f53f02cc9013f635a6bb67647d?s=128&d=identicon&r=PG&f=1", "display_name": "rassar", "link": "https://stackoverflow.com/users/6342812/rassar"}, "edited": false, "score": 0, "creation_date": 1479933128, "post_id": 40773563, "comment_id": 68771203, "body": "thank you! can you explain why it&#39;s more efficient as a set?"}, {"owner": {"reputation": 6424, "user_id": 3579910, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IoMjv.jpg?s=128&g=1", "display_name": "TemporalWolf", "link": "https://stackoverflow.com/users/3579910/temporalwolf"}, "reply_to_user": {"reputation": 4469, "user_id": 6342812, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/19e9e8f53f02cc9013f635a6bb67647d?s=128&d=identicon&r=PG&f=1", "display_name": "rassar", "link": "https://stackoverflow.com/users/6342812/rassar"}, "edited": false, "score": 0, "creation_date": 1479933572, "post_id": 40773563, "comment_id": 68771394, "body": "@rassar I&#39;ve updated my answer... sets, for your purpose, aren&#39;t the real speed up."}, {"owner": {"reputation": 4469, "user_id": 6342812, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/19e9e8f53f02cc9013f635a6bb67647d?s=128&d=identicon&r=PG&f=1", "display_name": "rassar", "link": "https://stackoverflow.com/users/6342812/rassar"}, "edited": false, "score": 0, "creation_date": 1479933678, "post_id": 40773563, "comment_id": 68771444, "body": "that makes sense. Thank you so much."}, {"owner": {"reputation": 6424, "user_id": 3579910, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IoMjv.jpg?s=128&g=1", "display_name": "TemporalWolf", "link": "https://stackoverflow.com/users/3579910/temporalwolf"}, "reply_to_user": {"reputation": 4469, "user_id": 6342812, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/19e9e8f53f02cc9013f635a6bb67647d?s=128&d=identicon&r=PG&f=1", "display_name": "rassar", "link": "https://stackoverflow.com/users/6342812/rassar"}, "edited": false, "score": 1, "creation_date": 1479933738, "post_id": 40773563, "comment_id": 68771470, "body": "@rassar if you do use <code>random.sample()</code> you will see gains by using a set, as it&#39;s faster to lookup the random elements it chose."}], "tags": [], "owner": {"reputation": 6424, "user_id": 3579910, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IoMjv.jpg?s=128&g=1", "display_name": "TemporalWolf", "link": "https://stackoverflow.com/users/3579910/temporalwolf"}, "is_accepted": true, "score": 1, "last_activity_date": 1479933528, "last_edit_date": 1479933528, "creation_date": 1479932628, "answer_id": 40773563, "question_id": 40773360, "link": "https://stackoverflow.com/questions/40773360/generate-strings-that-always-contain-a-certain-letter-python/40773563#40773563", "title": "Generate strings that always contain a certain letter python", "body": "<p>First, generate the subset of words which contain the letter you want:</p>\n\n<pre><code>def subset(char, words):\n    return set([word for word in words if char in word.lower()])\n\nbsub = subset(\"b\", words)\n</code></pre>\n\n<p>Then you can take a random sample of those words:</p>\n\n<pre><code># Take 100 random words which contain the letter b.\nresult = random.sample(bsub, 100)\n</code></pre>\n\n<p>Alternatively, by modifying getWords we can filter out words that don't contain the required letter:</p>\n\n<pre><code>def getWords(self, iterable, requiredLetter, maxDepth):\n    allWords = set()\n    for depth in range(3, maxDepth + 1):\n        for word in itertools.permutations(iterable, requiredLetter, depth):\n            if requiredLetter in word:\n                allWords.add(word)  # or maybe word.lower() if it's case insensitive\n</code></pre>\n\n<p>It's also worth mentioning: if every word in <code>allWords</code> is unique, converting it into a <a href=\"https://docs.python.org/2/library/stdtypes.html#set\" rel=\"nofollow noreferrer\"><code>set()</code></a> will reduce the membership test from <code>O(n)</code> to <code>O(1)</code>.</p>\n\n<p>Sets are faster because it doesn't have to iterate through the entire list to test membership. Strings are immutable, so they are hashed, which makes membership tests take constant time.</p>\n\n<p>In your case, you aren't doing a membership, so converting to sets won't give an appreciable increase in speed, but making a subset to choose from will speed it up, as then each generation does not require testing for validity.</p>\n"}], "owner": {"reputation": 4469, "user_id": 6342812, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/19e9e8f53f02cc9013f635a6bb67647d?s=128&d=identicon&r=PG&f=1", "display_name": "rassar", "link": "https://stackoverflow.com/users/6342812/rassar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "accepted_answer_id": 40773563, "answer_count": 1, "score": 2, "last_activity_date": 1479933528, "creation_date": 1479931948, "question_id": 40773360, "link": "https://stackoverflow.com/questions/40773360/generate-strings-that-always-contain-a-certain-letter-python", "title": "Generate strings that always contain a certain letter python", "body": "<p>I want to generate words plus a letter. But all of the generated words must contain that letter. I am generating a very high quantity of words. So it is very inefficient to say:</p>\n\n<pre><code>(word for word in self.getWords(letters, 8) if letter in word)\n</code></pre>\n\n<p>or something equivalent.</p>\n\n<p><code>getWords</code> code:</p>\n\n<pre><code>def getWords(self, iterable, maxDepth):\n    allWords = []\n    for depth in range(3, maxDepth + 1):\n        for word in itertools.permutations(iterable, depth):\n            allWords.append(\"\".join(word))\n</code></pre>\n\n<p>I would like to have <code>getWords</code> only think about words with <code>letter</code> in them. Is there way to use <code>itertools</code> to achieve this result?</p>\n"}, {"tags": ["python", "list", "tkinter", "combobox"], "comments": [{"owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 0, "creation_date": 1479933108, "post_id": 40773356, "comment_id": 68771196, "body": "Please read <a href=\"http://www.stackoverflow.com/help/mcve\">How to create a Minimal, Complete and Verifiable Example</a>"}, {"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 0, "creation_date": 1479951039, "post_id": 40773356, "comment_id": 68777065, "body": "there is function <code>list()</code> so don&#39;t use name <code>list</code> because it overwrites function."}, {"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 0, "creation_date": 1479951159, "post_id": 40773356, "comment_id": 68777098, "body": "where do you use <code>list[0]).get()</code> ? Maybe you use it before you select element."}, {"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 0, "creation_date": 1479952874, "post_id": 40773356, "comment_id": 68777560, "body": "example: <a href=\"https://github.com/furas/my-python-codes/blob/master/tkinter/combobox-get-selection/main.py\" rel=\"nofollow noreferrer\">combobox get selection</a>"}], "owner": {"reputation": 203, "user_id": 7121966, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/5f17eaa0ccc37132de989f7526e45ca8?s=128&d=identicon&r=PG&f=1", "display_name": "H_Lev1", "link": "https://stackoverflow.com/users/7121966/h-lev1"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 174, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1479931943, "creation_date": 1479931943, "question_id": 40773356, "link": "https://stackoverflow.com/questions/40773356/how-to-access-current-selection-on-a-combobox-from-a-list", "title": "How to access current selection on a Combobox from a list", "body": "<p>I have a bunch of combo boxes  that I am using in a window. There is too many to define each one separately, so I have used a function to create them. I have also added them to a list, so that I can later recall them. However when I use the .get() on one of the instances in the list, the value that I get is the value that I set it to. Therefore If I was to select a different value in the combo box, and then call the same .get(), It would output the same value as before, because it has not updated in the list. How can I get it to update so that whenever I call .get() onto one of the values in the list, it gives me the latest value. Here is some example code to give a better idea.</p>\n\n<pre><code>alterBox = ttk.Combobox(root, values = (\"1\", \"2\", \"3\"))     \nalterBox.config(height = 7, width =7)\nalterBox.set(\"1\")\nalterBox.place(x=10, y=10)\nlist.append(alterBox)\n</code></pre>\n\n<p>when I call <code>print((list[0]).get())</code> I receive \"1\", however when I choose 2 in the drop down, and then call <code>print((list[0].get())</code> I receive \"1\".</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 4469, "user_id": 6342812, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/19e9e8f53f02cc9013f635a6bb67647d?s=128&d=identicon&r=PG&f=1", "display_name": "rassar", "link": "https://stackoverflow.com/users/6342812/rassar"}, "edited": false, "score": 0, "creation_date": 1479932118, "post_id": 40773337, "comment_id": 68770676, "body": "where are you using the <code>get_letter_score</code> function?"}], "answers": [{"tags": [], "owner": {"reputation": 45, "user_id": 3545091, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d29d0b72a1c6788ef8d2d69fd2bf0184?s=128&d=identicon&r=PG&f=1", "display_name": "Akash Chugh", "link": "https://stackoverflow.com/users/3545091/akash-chugh"}, "is_accepted": false, "score": 0, "last_activity_date": 1479935762, "creation_date": 1479935762, "answer_id": 40774279, "question_id": 40773337, "link": "https://stackoverflow.com/questions/40773337/python-codeacademy-sending-a-letter/40774279#40774279", "title": "python codeacademy sending a letter", "body": "<p>I tried the above code and it works perfectly fine without any changes.\nMaybe if you can share the way in which you are calling the functions, I can shed some light on the erroneous procedure you may have been following. Below attached is the snippet of the code and its corresponding output.</p>\n\n<pre><code>lloyd = {\n        \"name\": \"Lloyd\",\n        \"homework\": [90.0, 97.0, 75.0, 92.0],\n        \"quizzes\": [88.0, 40.0, 94.0],\n        \"tests\": [75.0, 90.0]\n    }\nalice = {\n        \"name\": \"Alice\",\n        \"homework\": [100.0, 92.0, 98.0, 100.0],\n        \"quizzes\": [82.0, 83.0, 91.0],\n        \"tests\": [89.0, 97.0]\n    }\ntyler = {\n        \"name\": \"Tyler\",\n        \"homework\": [0.0, 87.0, 75.0, 22.0],\n        \"quizzes\": [0.0, 75.0, 78.0],\n        \"tests\": [100.0, 100.0]\n    }\n\ndef average(numbers):\n        total = sum(numbers)\n        total = float(total)/len(numbers)\n        return total\n\ndef get_average(student):\n        homework = average(student[\"homework\"])\n        quizzes = average(student[\"quizzes\"])\n        tests = average(student[\"tests\"])\n        studentaverage = (homework * .1 + quizzes * .3 + tests *.6)\n        return studentaverage\n\ndef get_letter_grade(score):\n    if score &gt;= 90:\n        return \"A\"\n    elif score &gt;= 80:\n        return \"B\"\n    elif score &gt;= 70:\n        return \"C\"\n    elif score &gt;= 60:\n        return \"D\"\n    else:\n        return \"F\"\n\n# To calculate the grades of each student\ngrade_tyler = get_letter_grade(get_average(tyler))\ngrade_lloyd = get_letter_grade(get_average(lloyd))\ngrade_alice = get_letter_grade(get_average(alice))\n\nprint(grade_lloyd)\nprint(grade_alice)\nprint(grade_tyler)\n</code></pre>\n\n<p>Output : </p>\n\n<p>B</p>\n\n<p>A</p>\n\n<p>C</p>\n\n<p>Further I also tried individually calling the methods and the results were as expected.</p>\n\n<pre><code>grade_A = get_letter_grade(95)\ngrade_B = get_letter_grade(85)\ngrade_C = get_letter_grade(75)\ngrade_D = get_letter_grade(65)\n\nprint(grade_A)\nprint(grade_B)\nprint(grade_C)\nprint(grade_D)\n</code></pre>\n\n<p>Output : </p>\n\n<p>A</p>\n\n<p>B</p>\n\n<p>C</p>\n\n<p>D</p>\n"}], "owner": {"reputation": 31, "user_id": 7201984, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ff4233de31b316471fa8ce896fac852?s=128&d=identicon&r=PG&f=1", "display_name": "user7201984", "link": "https://stackoverflow.com/users/7201984/user7201984"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 124, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1479935762, "creation_date": 1479931834, "question_id": 40773337, "link": "https://stackoverflow.com/questions/40773337/python-codeacademy-sending-a-letter", "title": "python codeacademy sending a letter", "body": "<p>I'm trying to teach myself Python starting with codeacademy's course, and so far it's been going okay. However, I hit a snag in Student Becomes the Teacher 7/9. I wasn't able to find a thread discussing this issue, but if I missed one please feel free to let me know. </p>\n\n<p>According to codeacademy I completed this exercise successfully, but I know there's something wrong with this code. When I play around with the code below in repl.it, get_average(student) returns the correct values. I've tested this by changing the grades around a bit just to be sure - but get_letter_grade(score) returns \"A\" for every student. I tried being more specific with the number ranges that were allowed (see below), but I keep having the same issue.</p>\n\n<pre><code>lloyd = {\n        \"name\": \"Lloyd\",\n        \"homework\": [90.0, 97.0, 75.0, 92.0],\n        \"quizzes\": [88.0, 40.0, 94.0],\n        \"tests\": [75.0, 90.0]\n    }\nalice = {\n        \"name\": \"Alice\",\n        \"homework\": [100.0, 92.0, 98.0, 100.0],\n        \"quizzes\": [82.0, 83.0, 91.0],\n        \"tests\": [89.0, 97.0]\n    }\ntyler = {\n        \"name\": \"Tyler\",\n        \"homework\": [0.0, 87.0, 75.0, 22.0],\n        \"quizzes\": [0.0, 75.0, 78.0],\n        \"tests\": [100.0, 100.0]\n    }\n\ndef average(numbers):\n        total = sum(numbers)\n        total = float(total)/len(numbers)\n        return total\n\ndef get_average(student):\n        homework = average(student[\"homework\"])\n        quizzes = average(student[\"quizzes\"])\n        tests = average(student[\"tests\"])\n        studentaverage = (homework * .1 + quizzes * .3 + tests *.6)\n        return studentaverage\n\ndef get_letter_grade(score):\n    if score &gt;= 90:\n        return \"A\"\n    elif score &gt;= 80:\n        return \"B\"\n    elif score &gt;= 70:\n        return \"C\"\n    elif score &gt;= 60:\n        return \"D\"\n    else:\n        return \"F\"\n</code></pre>\n\n<p>I also tried changing the get_letter_grade(score) function a little to make it more specific/restricted (I may be thinking the wrong way; I'm very new at this) as below:</p>\n\n<pre><code>def get_letter_grade(score):\n        if score &gt;= 90:\n            return \"A\"\n        elif score &gt;= 80 and score &lt; 90:\n            return \"B\"\n        elif score &gt;= 70 and score &lt; 80:\n            return \"C\"\n        elif score &gt;= 60 and score &lt; 70:\n            return \"D\"\n        else:\n          return \"F\"\n</code></pre>\n\n<p>But as stated above, I have the same problem: it returns \"A\" for every student, no matter how I alter their grades.</p>\n\n<p>Any advice, insight, wisdom, etc. you care to share would be hugely appreciated!</p>\n\n<p>Thank you!</p>\n"}, {"tags": ["python", "excel", "xlsxwriter", "vk"], "comments": [{"owner": {"reputation": 28655, "user_id": 10238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8c3b1025babebf20168dd90ea8f268c?s=128&d=identicon&r=PG", "display_name": "jmcnamara", "link": "https://stackoverflow.com/users/10238/jmcnamara"}, "edited": false, "score": 0, "creation_date": 1479974784, "post_id": 40773327, "comment_id": 68784983, "body": "It looks like a character encoding issue. The strings that you write to the Excel/XlsxWriter file must be UTF-8 encoded. You probably need to decode the strings that you are reading from the <code>getComments()</code> api before writing them with XlsxWriter. That is why the simpler, commented out, version works."}, {"owner": {"reputation": 31, "user_id": 7024490, "user_type": "registered", "profile_image": "https://graph.facebook.com/1086203691434541/picture?type=large", "display_name": "\u0418\u0432\u0430\u043d \u0411\u043b\u0430\u0433\u043e\u043f\u043e\u043b\u0443\u0447\u043d\u044b\u0439", "link": "https://stackoverflow.com/users/7024490/%d0%98%d0%b2%d0%b0%d0%bd-%d0%91%d0%bb%d0%b0%d0%b3%d0%be%d0%bf%d0%be%d0%bb%d1%83%d1%87%d0%bd%d1%8b%d0%b9"}, "reply_to_user": {"reputation": 28655, "user_id": 10238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8c3b1025babebf20168dd90ea8f268c?s=128&d=identicon&r=PG", "display_name": "jmcnamara", "link": "https://stackoverflow.com/users/10238/jmcnamara"}, "edited": false, "score": 0, "creation_date": 1479987502, "post_id": 40773327, "comment_id": 68793371, "body": "a = a.decode(&#39;utf8&#39;) dont work. What correct function to decode is?"}, {"owner": {"reputation": 31, "user_id": 7024490, "user_type": "registered", "profile_image": "https://graph.facebook.com/1086203691434541/picture?type=large", "display_name": "\u0418\u0432\u0430\u043d \u0411\u043b\u0430\u0433\u043e\u043f\u043e\u043b\u0443\u0447\u043d\u044b\u0439", "link": "https://stackoverflow.com/users/7024490/%d0%98%d0%b2%d0%b0%d0%bd-%d0%91%d0%bb%d0%b0%d0%b3%d0%be%d0%bf%d0%be%d0%bb%d1%83%d1%87%d0%bd%d1%8b%d0%b9"}, "reply_to_user": {"reputation": 28655, "user_id": 10238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8c3b1025babebf20168dd90ea8f268c?s=128&d=identicon&r=PG", "display_name": "jmcnamara", "link": "https://stackoverflow.com/users/10238/jmcnamara"}, "edited": false, "score": 0, "creation_date": 1479989374, "post_id": 40773327, "comment_id": 68794572, "body": "board.getComments returns a list of messages in vk topic."}, {"owner": {"reputation": 28655, "user_id": 10238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8c3b1025babebf20168dd90ea8f268c?s=128&d=identicon&r=PG", "display_name": "jmcnamara", "link": "https://stackoverflow.com/users/10238/jmcnamara"}, "edited": false, "score": 0, "creation_date": 1480067969, "post_id": 40773327, "comment_id": 68825418, "body": "At a guess I would say <code>decode(&#39;cp866&#39;)</code> if the input text is Cyrillic. It depends on the encoding of the input text. Maybe try <code>latin1</code> as well."}, {"owner": {"reputation": 31, "user_id": 7024490, "user_type": "registered", "profile_image": "https://graph.facebook.com/1086203691434541/picture?type=large", "display_name": "\u0418\u0432\u0430\u043d \u0411\u043b\u0430\u0433\u043e\u043f\u043e\u043b\u0443\u0447\u043d\u044b\u0439", "link": "https://stackoverflow.com/users/7024490/%d0%98%d0%b2%d0%b0%d0%bd-%d0%91%d0%bb%d0%b0%d0%b3%d0%be%d0%bf%d0%be%d0%bb%d1%83%d1%87%d0%bd%d1%8b%d0%b9"}, "reply_to_user": {"reputation": 28655, "user_id": 10238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8c3b1025babebf20168dd90ea8f268c?s=128&d=identicon&r=PG", "display_name": "jmcnamara", "link": "https://stackoverflow.com/users/10238/jmcnamara"}, "edited": false, "score": 0, "creation_date": 1480548017, "post_id": 40773327, "comment_id": 69013820, "body": "What i get:  Traceback (most recent call last):   File &quot;vk.py&quot;, line 17, in &lt;module&gt;     a = a.decode(&#39;cp866&#39;) AttributeError: &#39;dict&#39; object has no attribute &#39;decode&#39;, with latin1 pointer in have similar error.   It also works if i comment/delete print function."}], "owner": {"reputation": 31, "user_id": 7024490, "user_type": "registered", "profile_image": "https://graph.facebook.com/1086203691434541/picture?type=large", "display_name": "\u0418\u0432\u0430\u043d \u0411\u043b\u0430\u0433\u043e\u043f\u043e\u043b\u0443\u0447\u043d\u044b\u0439", "link": "https://stackoverflow.com/users/7024490/%d0%98%d0%b2%d0%b0%d0%bd-%d0%91%d0%bb%d0%b0%d0%b3%d0%be%d0%bf%d0%be%d0%bb%d1%83%d1%87%d0%bd%d1%8b%d0%b9"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 251, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1479931791, "creation_date": 1479931791, "question_id": 40773327, "link": "https://stackoverflow.com/questions/40773327/cannot-print-by-xlsxwriter", "title": "cannot print by xlsxwriter", "body": "<p>I find next code, by using it i can get text comments from groups. With vk api no problems, all is good. But there something wrong with printing in excel:</p>\n\n<pre><code>import vk_requests\nimport time\nimport xlsxwriter\nimport datetime\nimport codecs\n\napi = vk_requests.create_api(app_id='', \n                             login='', \n                             password='', \n                             phone_number='') \n\n\nGroup_id = 1\nTopic_id = 2\n\n#\u043f\u0435\u0440\u0432\u043e\u0435 \u0446\u0438\u0444\u0440\u043e\u0432\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u043f\u043e \u0441\u0441\u044b\u043b\u043a\u0435 - \u0433\u0440\u0443\u043f\u043f\u0430, \u0432\u0442\u043e\u0440\u043e\u0435 - \u043e\u0431\u0441\u0443\u0436\u0434\u0435\u043d\u0438\u0435\n\na = api.board.getComments(group_id=Group_id, topic_id=Topic_id)\nCommentsCount = a['count']\n\nprint('N = ',CommentsCount)\n\nnum = 10 # input(':\\n')\ncount = num\n\n\ndef GetTopicInfo(Offset):\n    r = api.board.getComments(group_id=Group_id,\n                              topic_id=Topic_id,\n                              count=num,\n                              offset=Offset)\n    return r\n\n# Create a workbook and add a worksheet.\n\n'''\nworkbook = xlsxwriter.Workbook('data.xlsx')\n\nworksheet = workbook.add_worksheet()\n\nworksheet.write('A1', 'Hello world')\n\nworkbook.close()\n\n'''\n\nworkbook  = xlsxwriter.Workbook('unicode_data.xlsx',{'strings_to_urls': False})\n\nworksheet = workbook.add_worksheet()\n\nbold = workbook.add_format({'bold': True})\n\n\n#\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043a\u043e\u043b\u043e\u043d\u043e\u043a\nworksheet.write(0, 0, u'Date', bold) \nworksheet.write(0, 1, u'Author', bold)\nworksheet.write(0, 2, u'id', bold)\nworksheet.write(0, 3, u'Text', bold)\n\nOffset = 0\nrow = 1\ncol = 0\n\nwhile Offset &lt; CommentsCount:\n    r = GetTopicInfo(Offset)\n    i = 0\n    print(Offset)\n    try:\n        while i &lt; num:\n            Topic_info = r['items'][i]\n            Topic_info_from = r['items'][i]['from_id']\n            Topic_info_id = r['items'][i]['id']\n            Topic_info_text = r['items'][i]['text']\n            Topic_info_date =  datetime.datetime.fromtimestamp(\n                int(r['items'][i]['date'])\n                ).strftime('%Y-%m-%d %H:%M:%S')\n\n            worksheet.write(row, col,     Topic_info_date)\n            worksheet.write(row, col + 1, Topic_info_from)\n            worksheet.write(row, col + 2, Topic_info_id)\n            worksheet.write(row, col + 3, Topic_info_text)\n            row += 1\n            print(i, Topic_info)\n            i = i + 1\n    except IndexError:\n        print(u'\u041a\u043e\u043d\u0435\u0446')\n    Offset = Offset + num\n    time.sleep(.35)\n\nworkbook.close()\n</code></pre>\n\n<p>And i have that error's:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"vk.py\", line 90, in &lt;module&gt;\n    print(i, Topic_info)\n\n  File \"C:\\Program Files\\Anaconda3\\lib\\encodings\\cp866.py\", line 19, in encode\n    return codecs.charmap_encode(input,self.errors,encoding_map)[0]\nUnicodeEncodeError: 'charmap' codec can't encode character '\\u0306' in position\n497: character maps to &lt;undefined&gt;\n\nException ignored in: &lt;bound method Workbook.__del__ of &lt;xlsxwriter.workbook.Wor\nkbook object at 0x00000064530D6518&gt;&gt;\n\nTraceback (most recent call last):\n\n  File \"C:\\Program Files\\Anaconda3\\lib\\site-packages\\xlsxwriter\\workbook.py\", li\nne 148, in __del__\n\nException: Exception caught in workbook destructor. Explicit close() may be requ\nired for workbook.\n</code></pre>\n\n<p>Code in comments works well, but in while operator does not. What i must to rewrite for parsing?</p>\n"}, {"tags": ["python", "html", "python-3.x", "clipboard-interaction"], "comments": [{"owner": {"reputation": 5596, "user_id": 1781026, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ebdc7f1a4ea10ca2025fb96e4a00577?s=128&d=identicon&r=PG", "display_name": "chrki", "link": "https://stackoverflow.com/users/1781026/chrki"}, "edited": false, "score": 1, "creation_date": 1479931956, "post_id": 40773298, "comment_id": 68770591, "body": "I can&#39;t help with your specific case, but I think you are looking for storing &quot;rich text&quot; in the clipboard, e.g. <a href=\"http://stackoverflow.com/questions/17298897/how-can-i-copy-from-an-html-file-to-the-clipboard-in-python-in-formatted-text\" title=\"how can i copy from an html file to the clipboard in python in formatted text\">stackoverflow.com/questions/17298897/&hellip;</a>"}, {"owner": {"reputation": 1161, "user_id": 1486850, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/74f1f2564d6b51edae1563c1814ba6a7?s=128&d=identicon&r=PG&f=1", "display_name": "JinSnow", "link": "https://stackoverflow.com/users/1486850/jinsnow"}, "reply_to_user": {"reputation": 5596, "user_id": 1781026, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ebdc7f1a4ea10ca2025fb96e4a00577?s=128&d=identicon&r=PG", "display_name": "chrki", "link": "https://stackoverflow.com/users/1781026/chrki"}, "edited": false, "score": 0, "creation_date": 1479932723, "post_id": 40773298, "comment_id": 68771002, "body": "The code.activestate.com link looks very interesting. But apparently it&#39;s a python 2. I will try to see what I can do with that. Someone already manage to make it work in python 3, I&#39;ll try."}], "answers": [{"tags": [], "owner": {"reputation": 4371, "user_id": 3154274, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/57f05d781a7b78e576611540c393e153?s=128&d=identicon&r=PG&f=1", "display_name": "MagTun", "link": "https://stackoverflow.com/users/3154274/magtun"}, "is_accepted": false, "score": 0, "last_activity_date": 1480071966, "last_edit_date": 1480071966, "creation_date": 1480005098, "answer_id": 40791177, "question_id": 40773298, "link": "https://stackoverflow.com/questions/40773298/python3-storing-a-link-recognized-as-html-format-in-clipboard/40791177#40791177", "title": "Python3: storing a link recognized as HTML format in clipboard", "body": "<p>Based on the link suggested by @chrki. </p>\n\n<p>You can do this:</p>\n\n<ol>\n<li>Install <a href=\"https://gist.github.com/EnoraNedelec/154b18e044148fcf637213451901f351\" rel=\"nofollow noreferrer\">HtmlClipboard</a> : copy the script, save it as <code>HtmlClipboard.py</code> in C:\\Python##\\Lib\\site-packages\\</li>\n<li>Save the script below  as <code>link_as_html.py</code>(I used some of your code in your question): </li>\n<li>Create a shorcut for the script in step to (right click on the file <code>link_as_html.py</code>, and select create a shorcut)</li>\n<li>Right click on the shorcut, select <code>Properties</code>, and and add a keyboard shorcut in Shorcut key. </li>\n</ol>\n\n<p>That's it. When you have an link in our clipboard, you can just press your keyboard shorcut and you can paste your image directly in the html mode of you editor. </p>\n\n<hr>\n\n<p>link_as_html.py (Python34). I assume you have your url <code>http://www.web.com</code> in the clipboard:  </p>\n\n<pre><code>from tkinter import Tk\nroot = Tk()\nroot.withdraw()\nurl = root.clipboard_get()\n\n# send &lt;a href=\"http://www.web.com\" target=\"_blank\"&gt;my link&lt;/a&gt;  to an \"HTML format clipboard\"\nimport HtmlClipboard\nHtmlClipboard.PutHtml(\"&lt;a href=\\\"http://\"+url+\" \\\" target=\\\"_blank\\\"/&gt;my link&lt;/a&gt;\")\n</code></pre>\n"}], "owner": {"reputation": 1161, "user_id": 1486850, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/74f1f2564d6b51edae1563c1814ba6a7?s=128&d=identicon&r=PG&f=1", "display_name": "JinSnow", "link": "https://stackoverflow.com/users/1486850/jinsnow"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 299, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1480071966, "creation_date": 1479931644, "question_id": 40773298, "link": "https://stackoverflow.com/questions/40773298/python3-storing-a-link-recognized-as-html-format-in-clipboard", "title": "Python3: storing a link recognized as HTML format in clipboard", "body": "<p>How can to store this link <code>&lt;a href=\"http://www.web.com\"&gt;my link&lt;/a&gt;</code> in the clipboard to be able to past it in HTML mode (and not source code) in an HTML editor?\n Pasting it in an editor should only show the text <code>my link</code> with a clickable link.</p>\n\n<p>Using Tkinter or pywin32 (or others), how to tell the clipboard that it contain html content (and not just raw text)?</p>\n"}, {"tags": ["python", "performance", "numpy", "iteration", "vectorization"], "answers": [{"comments": [{"owner": {"reputation": 1250, "user_id": 6896234, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/01078cfa69429d82c266d4403596b388?s=128&d=identicon&r=PG&f=1", "display_name": "Elgin Cahangirov", "link": "https://stackoverflow.com/users/6896234/elgin-cahangirov"}, "edited": false, "score": 0, "creation_date": 1479932531, "post_id": 40773366, "comment_id": 68770902, "body": "It&#39;s a bit complicated, but faster solution. Thank you!"}], "tags": [], "owner": {"reputation": 203214, "user_id": 3293881, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/6ZYnq.jpg?s=128&g=1", "display_name": "Divakar", "link": "https://stackoverflow.com/users/3293881/divakar"}, "is_accepted": true, "score": 6, "last_activity_date": 1603571351, "last_edit_date": 1603571351, "creation_date": 1479931974, "answer_id": 40773366, "question_id": 40773275, "link": "https://stackoverflow.com/questions/40773275/sliding-standard-deviation-on-a-1d-numpy-array/40773366#40773366", "title": "Sliding standard deviation on a 1D NumPy array", "body": "<p>You could create a 2D array of sliding windows with <a href=\"https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.strides.html\" rel=\"nofollow noreferrer\"><code>np.lib.stride_tricks.as_strided</code></a> that would be views into the given <code>1D</code> array and as such won't be occupying any more memory. Then, simply use <a href=\"https://docs.scipy.org/doc/numpy-1.10.1/reference/generated/numpy.std.html\" rel=\"nofollow noreferrer\"><code>np.std</code></a> along the second axis (axis=1) for the final result in a vectorized way, like so -</p>\n<pre><code>W = 10 # Window size\nnrows = a.size - W + 1\nn = a.strides[0]\na2D = np.lib.stride_tricks.as_strided(a,shape=(nrows,W),strides=(n,n))\nout = np.std(a2D, axis=1)\n</code></pre>\n<p><strong>Runtime test</strong></p>\n<p>Function definitions -</p>\n<pre><code>def original_app(a, W):\n    b = np.empty(a.size-W+1)\n    for i in range(b.size):\n        b[i] = np.std(a[i:i+W])\n    return b\n    \ndef vectorized_app(a, W):\n    nrows = a.size - W + 1\n    n = a.strides[0]\n    a2D = np.lib.stride_tricks.as_strided(a,shape=(nrows,W),strides=(n,n))\n    return np.std(a2D,1)\n</code></pre>\n<p>Timings and verification -</p>\n<pre><code>In [460]: # Inputs\n     ...: a = np.arange(10000)\n     ...: W = 10\n     ...: \n\nIn [461]: np.allclose(original_app(a, W), vectorized_app(a, W))\nOut[461]: True\n\nIn [462]: %timeit original_app(a, W)\n1 loops, best of 3: 522 ms per loop\n\nIn [463]: %timeit vectorized_app(a, W)\n1000 loops, best of 3: 1.33 ms per loop\n</code></pre>\n<p>So, around <strong><code>400x</code></strong> speedup there!</p>\n<p>For completeness, here's the equivalent pandas version -</p>\n<pre><code>import pandas as pd\n\ndef pdroll(a, W): # a is 1D ndarray and W is window-size\n    return pd.Series(a).rolling(W).std(ddof=0).values[W-1:]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 36, "user_id": 2579140, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c3c5fd7a686b2b524d16448afab9af9?s=128&d=identicon&r=PG", "display_name": "sclizard", "link": "https://stackoverflow.com/users/2579140/sclizard"}, "is_accepted": false, "score": 1, "last_activity_date": 1479934300, "creation_date": 1479934300, "answer_id": 40773944, "question_id": 40773275, "link": "https://stackoverflow.com/questions/40773275/sliding-standard-deviation-on-a-1d-numpy-array/40773944#40773944", "title": "Sliding standard deviation on a 1D NumPy array", "body": "<p>Not so fancy, but the code with no loops would be something like this:</p>\n\n<pre><code>a = np.arange(20)\nb = [a[i:i+10].std() for i in range(len(a)-10)]\n</code></pre>\n"}], "owner": {"reputation": 1250, "user_id": 6896234, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/01078cfa69429d82c266d4403596b388?s=128&d=identicon&r=PG&f=1", "display_name": "Elgin Cahangirov", "link": "https://stackoverflow.com/users/6896234/elgin-cahangirov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1334, "favorite_count": 0, "accepted_answer_id": 40773366, "answer_count": 2, "score": 4, "last_activity_date": 1603571351, "creation_date": 1479931541, "last_edit_date": 1479933279, "question_id": 40773275, "link": "https://stackoverflow.com/questions/40773275/sliding-standard-deviation-on-a-1d-numpy-array", "title": "Sliding standard deviation on a 1D NumPy array", "body": "<p>Suppose that you have an array and want to create another array, which's values are equal to standard deviation of first array's 10 elements successively. With the help of for loop, it can be written easily like below code. What I want to do is avoid using for loop for faster execution time. Any suggestions?</p>\n\n<pre><code>Code\na = np.arange(20)\nb = np.empty(11)\nfor i in range(11):\n    b[i] = np.std(a[i:i+10])\n</code></pre>\n"}, {"tags": ["python", "image-processing", "scipy", "scikit-image"], "answers": [{"tags": [], "owner": {"reputation": 6487, "user_id": 214686, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b30b909765488cf4cf9de4a496f9a408?s=128&d=identicon&r=PG", "display_name": "Stefan van der Walt", "link": "https://stackoverflow.com/users/214686/stefan-van-der-walt"}, "is_accepted": false, "score": 0, "last_activity_date": 1479932784, "creation_date": 1479932784, "answer_id": 40773611, "question_id": 40773267, "link": "https://stackoverflow.com/questions/40773267/loss-of-information-after-resizing-the-image-using-skimage-python-library/40773611#40773611", "title": "Loss of information after resizing the image using skimage python library", "body": "<p>The output of <code>resize</code> has a dtype of float, hence it is in the 0-1 range.  You can convert your image back to uint8 range with:</p>\n\n<pre><code>from skimage import img_as_ubyte\nimage = img_as_ubyte(image)\n</code></pre>\n\n<p>Please see the <a href=\"http://scikit-image.org/docs/dev/user_guide/data_types.html\" rel=\"nofollow noreferrer\">user guide</a> for a full description of data types and their ranges.</p>\n"}, {"tags": [], "owner": {"reputation": 13788, "user_id": 3222797, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/H5JG2.png?s=128&g=1", "display_name": "gobrewers14", "link": "https://stackoverflow.com/users/3222797/gobrewers14"}, "is_accepted": true, "score": 0, "last_activity_date": 1479933098, "creation_date": 1479933098, "answer_id": 40773674, "question_id": 40773267, "link": "https://stackoverflow.com/questions/40773267/loss-of-information-after-resizing-the-image-using-skimage-python-library/40773674#40773674", "title": "Loss of information after resizing the image using skimage python library", "body": "<p>Your images will be converted to floating points when resized.  There is an optional boolean flag that <code>transform.resize()</code> takes: <code>preserve_range</code>.  From the <a href=\"https://github.com/scikit-image/scikit-image/blob/02ea075fc8207f95fb00914e98ac8e63bddcd67e/skimage/transform/_warps.py\" rel=\"nofollow noreferrer\">source code</a></p>\n\n<blockquote>\n  <p><strong>preserve_range</strong>: bool, optional.  Whether to keep the original range of values.  Otherwise, the input image is converted according to the conventions of <code>img_as_float</code>.</p>\n</blockquote>\n\n<p>Set this to <code>True</code> and it should fix your problem.</p>\n"}], "owner": {"reputation": 6417, "user_id": 297850, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/516813af38769764c66c9ab7e4824fab?s=128&d=identicon&r=PG", "display_name": "user297850", "link": "https://stackoverflow.com/users/297850/user297850"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 531, "favorite_count": 0, "accepted_answer_id": 40773674, "answer_count": 2, "score": 1, "last_activity_date": 1483642741, "creation_date": 1479931510, "last_edit_date": 1483642741, "question_id": 40773267, "link": "https://stackoverflow.com/questions/40773267/loss-of-information-after-resizing-the-image-using-skimage-python-library", "title": "Loss of information after resizing the image using skimage python library", "body": "<p>I am using the following function to resize an image set having shape <code>(samples, 1, image_row, image_column)</code>. I am using the <code>skimage</code> library.</p>\n\n<pre><code>from skimage import io\nfrom skimage.transform import resize   \ndef preprocess(imgs):\nimgs_p = np.ndarray((imgs.shape[0], imgs.shape[1], img_rows, img_cols), dtype=np.uint8)\nfor i in range(imgs.shape[0]):\n    imgs_p[i, 0]  = resize(imgs[i, 0], (img_rows, img_cols))\nreturn imgs_p\n</code></pre>\n\n<p>However, I noticed that the resized images kind of becomes 0-1 array. Here are some testing results. We can see the resized image consists of only 0-1 value. I ma not sure what's wrong with my resize function.</p>\n\n<pre><code>   print(image[0,0].shape)\n\n   (420, 580)\n   print(image[0,0])\n[[  0 155 152 ...,  87  91  90]\n  [  0 255 255 ..., 140 141 141]\n  [  0 255 255 ..., 157 156 158]\n    ...,\n  [  0  77  63 ..., 137 133 122]\n  [  0  77  63 ..., 139 136 127]\n  [  0  77  64 ..., 149 144 137]]\n\n  print(resized_image[0,0].shape)\n  (96, 128)\n  print(resized_image[0,0])\n  [[1 1 0 ..., 0 0 0]\n   [0 0 0 ..., 0 0 0]\n   [0 0 0 ..., 0 0 0]\n     ...,\n   [0 0 0 ..., 0 0 0]\n   [0 0 0 ..., 0 0 0]\n   [0 0 0 ..., 0 0 0]]\n</code></pre>\n"}, {"tags": ["python", "html", "css", "django", "templates"], "comments": [{"owner": {"reputation": 5596, "user_id": 1781026, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ebdc7f1a4ea10ca2025fb96e4a00577?s=128&d=identicon&r=PG", "display_name": "chrki", "link": "https://stackoverflow.com/users/1781026/chrki"}, "edited": false, "score": 0, "creation_date": 1479931512, "post_id": 40773246, "comment_id": 68770365, "body": "Please include some code on how you used/included the stylesheet"}, {"owner": {"reputation": 107, "user_id": 7019914, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/4lAbm.jpg?s=128&g=1", "display_name": "E. Lizbeth", "link": "https://stackoverflow.com/users/7019914/e-lizbeth"}, "reply_to_user": {"reputation": 5596, "user_id": 1781026, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ebdc7f1a4ea10ca2025fb96e4a00577?s=128&d=identicon&r=PG", "display_name": "chrki", "link": "https://stackoverflow.com/users/1781026/chrki"}, "edited": false, "score": 0, "creation_date": 1479931598, "post_id": 40773246, "comment_id": 68770415, "body": "Sure, one moment please"}, {"owner": {"reputation": 1842, "user_id": 4592608, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/9hXR4.jpg?s=128&g=1", "display_name": "Zagorodniy Olexiy", "link": "https://stackoverflow.com/users/4592608/zagorodniy-olexiy"}, "edited": false, "score": 0, "creation_date": 1479934295, "post_id": 40773246, "comment_id": 68771727, "body": "there isn&#39;t enough information on your post. show settings file your project. also you can inspect web page with your browser. And see on the errors on the page. Post all this information and we will try to help you"}, {"owner": {"reputation": 107, "user_id": 7019914, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/4lAbm.jpg?s=128&g=1", "display_name": "E. Lizbeth", "link": "https://stackoverflow.com/users/7019914/e-lizbeth"}, "reply_to_user": {"reputation": 1842, "user_id": 4592608, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/9hXR4.jpg?s=128&g=1", "display_name": "Zagorodniy Olexiy", "link": "https://stackoverflow.com/users/4592608/zagorodniy-olexiy"}, "edited": false, "score": 0, "creation_date": 1479944487, "post_id": 40773246, "comment_id": 68775575, "body": "@ZagorodniyOlexiy Thank you for responding and wanting to help me"}], "answers": [{"comments": [{"owner": {"reputation": 107, "user_id": 7019914, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/4lAbm.jpg?s=128&g=1", "display_name": "E. Lizbeth", "link": "https://stackoverflow.com/users/7019914/e-lizbeth"}, "edited": false, "score": 0, "creation_date": 1479943916, "post_id": 40774509, "comment_id": 68775419, "body": "That option was by default"}, {"owner": {"reputation": 3205, "user_id": 3842788, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/81a5bc23ab94f25a1ee37f99a80853d2?s=128&d=identicon&r=PG&f=1", "display_name": "Aseem", "link": "https://stackoverflow.com/users/3842788/aseem"}, "edited": false, "score": 0, "creation_date": 1569188075, "post_id": 40774509, "comment_id": 102505026, "body": "If Allowed_host=[&quot;*&quot;] then debug has to be true"}], "tags": [], "owner": {"reputation": 1511, "user_id": 5244255, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/66GSn.png?s=128&g=1", "display_name": "Zaman Afzal", "link": "https://stackoverflow.com/users/5244255/zaman-afzal"}, "is_accepted": false, "score": 2, "last_activity_date": 1479936849, "creation_date": 1479936849, "answer_id": 40774509, "question_id": 40773246, "link": "https://stackoverflow.com/questions/40773246/css-style-is-missing-in-all-my-django-applications/40774509#40774509", "title": "CSS style is missing in all my Django applications", "body": "<p>Try to change Debug = True in your application settings and then check the admin panel.</p>\n"}, {"tags": [], "owner": {"reputation": 386, "user_id": 2695295, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/x8Lhx.png?s=128&g=1", "display_name": "Dawid", "link": "https://stackoverflow.com/users/2695295/dawid"}, "is_accepted": false, "score": 0, "last_activity_date": 1479946651, "creation_date": 1479946651, "answer_id": 40776254, "question_id": 40773246, "link": "https://stackoverflow.com/questions/40773246/css-style-is-missing-in-all-my-django-applications/40776254#40776254", "title": "CSS style is missing in all my Django applications", "body": "<p>Check your <code>urls.py</code> with <code>urls.py</code> of your friends project. I had the same problem with CSS files. and found answer in the docs <a href=\"https://docs.djangoproject.com/en/1.8/howto/static-files/#serving-static-files-during-development\" rel=\"nofollow noreferrer\">https://docs.djangoproject.com/en/1.8/howto/static-files/#serving-static-files-during-development</a> </p>\n"}, {"comments": [{"owner": {"reputation": 107, "user_id": 7019914, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/4lAbm.jpg?s=128&g=1", "display_name": "E. Lizbeth", "link": "https://stackoverflow.com/users/7019914/e-lizbeth"}, "edited": false, "score": 0, "creation_date": 1480010054, "post_id": 40776295, "comment_id": 68806860, "body": "That has been very helpful to me, I really appreciate it a lot"}], "tags": [], "owner": {"reputation": 1842, "user_id": 4592608, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/9hXR4.jpg?s=128&g=1", "display_name": "Zagorodniy Olexiy", "link": "https://stackoverflow.com/users/4592608/zagorodniy-olexiy"}, "is_accepted": true, "score": 0, "last_activity_date": 1479950646, "last_edit_date": 1479950646, "creation_date": 1479947046, "answer_id": 40776295, "question_id": 40773246, "link": "https://stackoverflow.com/questions/40773246/css-style-is-missing-in-all-my-django-applications/40776295#40776295", "title": "CSS style is missing in all my Django applications", "body": "<p>According to this <a href=\"https://docs.djangoproject.com/en/1.8/howto/static-files/\" rel=\"nofollow noreferrer\">documentation</a> to serve static files during development you have to:</p>\n\n<p>1) define <code>STATIC_URL</code> in settings file - you have it. So you have to create <code>static</code> folder in the root of your project.</p>\n\n<p>2) <code>STATIC_ROOT = os.path.join(BASE_DIR, 'static')</code></p>\n\n<p>3) In urls.py of you project you have to have this snippet:</p>\n\n<pre><code>from django.conf.urls import include, url\nfrom django.conf import settings\nfrom django.conf.urls.static import static\n\nurlpatterns = [\n    ...\n]\n + static(settings.STATIC_URL, document_root=settings.STATICFILES_DIRS) + static(settings.MEDIA_URL, document_root=settings.MEDIA_ROOT)\n</code></pre>\n\n<p>If your project under deployment, then you can serve static files by the web server. Then you don't need snippet in <code>urls.py</code></p>\n\n<p>Hope it helps you</p>\n"}], "owner": {"reputation": 107, "user_id": 7019914, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/4lAbm.jpg?s=128&g=1", "display_name": "E. Lizbeth", "link": "https://stackoverflow.com/users/7019914/e-lizbeth"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1280, "favorite_count": 0, "accepted_answer_id": 40776295, "answer_count": 3, "score": 1, "last_activity_date": 1479950646, "creation_date": 1479931437, "last_edit_date": 1479944385, "question_id": 40773246, "link": "https://stackoverflow.com/questions/40773246/css-style-is-missing-in-all-my-django-applications", "title": "CSS style is missing in all my Django applications", "body": "<p>Since I started using the Django framework I noticed that the CSS style did not appear when I entered the admin site and others templates and I thought it was normal but with the passage of time I have seen that the applications of my partners did have the style, so I copied their projects on my laptop and I ran them and I could see the CSS style of their applications.\nI'm getting data from a database from a server, that's the only difference in how my partners and I have been working.</p>\n\n<p>Does anyone know how I can fix this?</p>\n\n<p>PD: I'm working with version 1.8 of Django and version 3.4.4 of python </p>\n\n<p>This is my base of my HTML's code</p>\n\n<pre><code>{% load staticfiles %}\n&lt;html&gt;\n    &lt;head&gt;\n        &lt;title&gt;DENUE INEGI&lt;/title&gt;\n        &lt;link rel=\"stylesheet\" href=\"//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css\"&gt;\n        &lt;link rel=\"stylesheet\" href=\"//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap-theme.min.css\"&gt;\n        &lt;link href='//fonts.googleapis.com/css?family=Lobster&amp;subset=latin,latin-ext' rel='stylesheet' type='text/css'&gt;\n        &lt;link rel=\"stylesheet\" href=\"{% static 'css/crm.css' %}\"&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;div class=\"page-header\"&gt;\n            {% if user.is_authenticated %}\n            {% else %}\n                &lt;a href=\"{% url 'login' %}\" class=\"top-menu\"&gt;&lt;span class=\"glyphicon glyphiconlock\"&gt;&lt;/span&gt;&lt;/a&gt;\n            {% endif %}\n                &lt;h1&gt;&lt;a href=\"/\"&gt;Directorio Estad\u00edstico Nacional de Unidades Econ\u00f3micas INEGI&lt;/a&gt;&lt;/h1&gt;\n        &lt;/div&gt;\n        &lt;div class=\"content container\"&gt;\n            &lt;div class=\"row\"&gt;\n                &lt;div class=\"col-md-8\"&gt;\n                    {% block content %}\n                    {% endblock %}\n                &lt;/div&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>Here is my setting.py file</p>\n\n<pre><code>TEMPLATES = [\n{\n    'BACKEND': 'django.template.backends.django.DjangoTemplates',\n    'DIRS': [os.path.join(BASE_DIR,'templates')],\n    'APP_DIRS': True,\n    'OPTIONS': {\n        'context_processors': [\n            'django.template.context_processors.debug',\n            'django.template.context_processors.request',\n            'django.contrib.auth.context_processors.auth',\n            'django.contrib.messages.context_processors.messages',\n        ],\n    },\n},\n]\n\n# Static files (CSS, JavaScript, Images)\n# https://docs.djangoproject.com/en/1.8/howto/static-files/\n\nSTATIC_URL = '/static/'\nSTATIC_ROOT = os.path.join(BASE_DIR, 'static')\nLOGIN_REDIRECT_URL = '/'\n</code></pre>\n\n<p>I appreciate your answers, thank you :)</p>\n"}, {"tags": ["python", "list", "tuples", "itertools"], "answers": [{"tags": [], "owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "is_accepted": true, "score": 1, "last_activity_date": 1479932272, "creation_date": 1479932272, "answer_id": 40773447, "question_id": 40773227, "link": "https://stackoverflow.com/questions/40773227/how-to-group-bucket-a-list-of-tuples-based-on-certain-text-criteria/40773447#40773447", "title": "How to group/bucket a list of tuples based on certain text criteria?", "body": "<p>No need extra for modules for this.</p>\n\n<p>I suppose that \"end\" is followed by \"start\", so no need to look for \"end\".</p>\n\n<p>Just compute indexes of items containing <code>\"start\"</code></p>\n\n<pre><code>indexes = [i for i,e in enumerate(lst) if e[0]=='start']\n</code></pre>\n\n<p>then build the sublists using slicing with special case for last element to include last list</p>\n\n<pre><code>result = [lst[indexes[i]:indexes[i+1] if i&lt;len(indexes)-1 else len(lst)] for i in range(len(indexes))]\n</code></pre>\n\n<p>result:</p>\n\n<pre><code>[[('start', 1), ('item_1', 4), ('item_2', 2), ('end', 1)], [('start', 10), ('item_1', 5), ('item_3', 2), ('end', 1)], [('start', 10), ('item_1', 5), ('item_3', 2), ('item_3', 9), ('end', 1)]]\n</code></pre>\n\n<p>which is the <code>desired_result</code> except for items order but I respect the original list order so that must be a typo in your expected result</p>\n"}, {"tags": [], "owner": {"reputation": 17990, "user_id": 5827958, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/V9KEl.png?s=128&g=1", "display_name": "zondo", "link": "https://stackoverflow.com/users/5827958/zondo"}, "is_accepted": false, "score": 0, "last_activity_date": 1479932304, "creation_date": 1479932304, "answer_id": 40773455, "question_id": 40773227, "link": "https://stackoverflow.com/questions/40773227/how-to-group-bucket-a-list-of-tuples-based-on-certain-text-criteria/40773455#40773455", "title": "How to group/bucket a list of tuples based on certain text criteria?", "body": "<p><code>itertools.groupby</code> is a sorting function.  It won't help you in this.  Probably the best way is to do it manually:</p>\n\n<pre><code>new_list = []\nfor item in old_list:\n    if item[0] == 'start':\n        new_list.append([item])\n    else:\n        new_list[-1].append(item)\n</code></pre>\n\n<p>Note that it will error if the first tuple is not a starter.  It will also ignore ending points, so any tuple that is not between a start and end will be added to the same list as the last end.  If you want to catch all the problems there might be, it's a little bit more complicated:</p>\n\n<pre><code>new_list = []\nin_list = False\nfor item in old_list:\n    if item[0] == 'start':\n        if in_list:\n            raise ValueError(\"The last list hasn't completed yet.\")\n        new_list.append([item])\n        in_list = True\n    else:\n        if item[0] == 'end':\n            if not in_list:\n                raise ValueError(\"The list has already completed.\")\n            in_list = False\n\n        # If this is a problem, it will throw its own error\n        new_list[-1].append(item)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 72748, "user_id": 3185459, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PBjxg.jpg?s=128&g=1", "display_name": "RomanPerekhrest", "link": "https://stackoverflow.com/users/3185459/romanperekhrest"}, "is_accepted": false, "score": 1, "last_activity_date": 1480057563, "last_edit_date": 1480057563, "creation_date": 1479937357, "answer_id": 40774617, "question_id": 40773227, "link": "https://stackoverflow.com/questions/40773227/how-to-group-bucket-a-list-of-tuples-based-on-certain-text-criteria/40774617#40774617", "title": "How to group/bucket a list of tuples based on certain text criteria?", "body": "<p>The solution using <code>enumerate</code>, <code>zip</code> and <code>iter</code> functions:</p>\n\n<pre><code>list1 = [('start',1),('item_1',4),('item_2',2),('end',1),('start',10),('item_1',5),('item_3',2),('end',1),('start',10),('item_1',5),('item_3',2),('item_3',9),('end',1)]\n\ngrouped_list = [list1[r[0]:r[1]+1]\n                for r in list(zip(*[iter([k for k,t in enumerate(list1)\n                                          if t[0] in ('start','end')])] * 2))]\n\nprint(grouped_list)\n</code></pre>\n\n<p>The output:</p>\n\n<pre><code>[[('start', 1), ('item_1', 4), ('item_2', 2), ('end', 1)], [('start', 10), ('item_1', 5), ('item_3', 2), ('end', 1)], [('start', 10), ('item_1', 5), ('item_3', 2), ('item_3', 9), ('end', 1)]]\n</code></pre>\n\n<p><em>Details</em>:</p>\n\n<ul>\n<li><p><code>zip(*[iter(sequence)] * n))</code> will pull an item from the iterator(presented with <code>iter(sequence)</code>) and make a tuple of 2 items which point to indices from <code>start</code> to <code>end</code>(consecutively) </p></li>\n<li><p><code>list1[r[0]:r[1]+1]</code> will get a slice of items for each <code>start</code>-<code>end</code> boundaries range</p></li>\n</ul>\n"}], "owner": {"reputation": 4136, "user_id": 2850808, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8f08107c3227db4da8ed3b1619a0df99?s=128&d=identicon&r=PG&f=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/2850808/chris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 210, "favorite_count": 0, "accepted_answer_id": 40773447, "answer_count": 3, "score": 2, "last_activity_date": 1503131281, "creation_date": 1479931379, "last_edit_date": 1503131281, "question_id": 40773227, "link": "https://stackoverflow.com/questions/40773227/how-to-group-bucket-a-list-of-tuples-based-on-certain-text-criteria", "title": "How to group/bucket a list of tuples based on certain text criteria?", "body": "<p>I have a list of tuples and some of the tuples have 'start' and 'end' as the first item in the tuple. I'd like to bucket the list of tuples into a list of list of tuples in which the sublists are grouped by whether they fall between a tuple with a 'start' in the first item and an 'end' in the first item. </p>\n\n<pre><code>list = [('start',1),('item_1',4),('item_2',2),('end',1),('start',10),('item_1',5),('item_3',2),('end',1),('start',10),('item_1',5),('item_3',2),('item_3',9),('end',1)]]\n\ndesired_result =  [[('start',1),('item_1',4),('item_2',2),('end',1)],[('start',10),('item_1',5),('item_3',2),('end',1)],[('start',10),('item_1',5),('item_3',9),('item_3',2),('end',1)]]\n</code></pre>\n\n<p>I'm trying to utilize groupby and itemgetter with little success: </p>\n\n<pre><code>from operator import itemgetter\nfrom itertools import groupby\n\n[list(group) for key, group in itertools.groupby(sorted(list), itemgetter('start','end')]\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1479931145, "post_id": 40773114, "comment_id": 68770163, "body": "&quot; assign those 2 variables to messages part of the http body&quot;? unclear. Do you want to create a json string containing the same thing but with a and b values instead of the empty fields?"}, {"owner": {"reputation": 156940, "user_id": 416467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/32cad7487ccecc3740a62e797fc326dc?s=128&d=identicon&r=PG", "display_name": "kindall", "link": "https://stackoverflow.com/users/416467/kindall"}, "edited": false, "score": 0, "creation_date": 1479931167, "post_id": 40773114, "comment_id": 68770175, "body": "Put them in there the same way you would put values into any other string. Or better yet, build a Python data structure rather than a JSON string and then convert it to JSON using <code>json.dump</code>"}, {"owner": {"reputation": 2391, "user_id": 6764079, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/mUwmx.png?s=128&g=1", "display_name": "Juggernaut", "link": "https://stackoverflow.com/users/6764079/juggernaut"}, "edited": false, "score": 0, "creation_date": 1479931275, "post_id": 40773114, "comment_id": 68770241, "body": "google <code>python string formating</code>"}, {"owner": {"reputation": 74843, "user_id": 2988730, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ZOX7t.jpg?s=128&g=1", "display_name": "Mad Physicist", "link": "https://stackoverflow.com/users/2988730/mad-physicist"}, "edited": false, "score": 0, "creation_date": 1479931373, "post_id": 40773114, "comment_id": 68770281, "body": "Have you I dunno, tried reading some docs? This question is incredibly vague."}], "owner": {"reputation": 33, "user_id": 5492141, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c750cef92b0dc64242bda2b7d877cc1?s=128&d=identicon&r=PG&f=1", "display_name": "Vevek", "link": "https://stackoverflow.com/users/5492141/vevek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 221, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1479931093, "creation_date": 1479930967, "last_edit_date": 1479931093, "question_id": 40773114, "link": "https://stackoverflow.com/questions/40773114/python-assigning-variable-value-to-message-payload-body", "title": "python assigning variable value to message payload body", "body": "<p>I am learning python and i want to know how to assign the variable to json.</p>\n\n<pre><code>a=10\nb=11\n\nbody='{\n\"mode\":\"async\", \n\"messageType\":\"xxxxxxxxxxxxx\", \n\"messages\":[{\"Temperature\":\"\", #-----------&gt;assign a value 10 \n              \"Humidity\":\"\",   #-----------&gt;assign b value 11 here\n              \"timestamp\":1468991773}]\n}'\n\n\n\nbody=('{\"mode\":\"async\", \"messageType\":\"xxxxxxxxxxxxxx\", \"messages\":[{\"Temperature\":\"\", \"Humidity\":\"\", \"timestamp\":1468991773}]}'\n</code></pre>\n\n<p>I need to assign those 2 variables to messages part of the http body.</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["python", "arrays", "numpy"], "answers": [{"comments": [{"owner": {"reputation": 12365, "user_id": 2593236, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/4858dc5268d1e9c5a376a2762a5bc495?s=128&d=identicon&r=PG", "display_name": "pbreach", "link": "https://stackoverflow.com/users/2593236/pbreach"}, "edited": false, "score": 0, "creation_date": 1479931419, "post_id": 40773213, "comment_id": 68770307, "body": "Ah okay, I was wondering why I couldn&#39;t get <code>split</code> to work. I&#39;ll give this a shot later tonight"}, {"owner": {"reputation": 12365, "user_id": 2593236, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/4858dc5268d1e9c5a376a2762a5bc495?s=128&d=identicon&r=PG", "display_name": "pbreach", "link": "https://stackoverflow.com/users/2593236/pbreach"}, "edited": false, "score": 0, "creation_date": 1480017453, "post_id": 40773213, "comment_id": 68809668, "body": "See edit - I think maybe <code>split</code> could still work but not sure."}], "tags": [], "owner": {"reputation": 203214, "user_id": 3293881, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/6ZYnq.jpg?s=128&g=1", "display_name": "Divakar", "link": "https://stackoverflow.com/users/3293881/divakar"}, "is_accepted": false, "score": 2, "last_activity_date": 1479931321, "creation_date": 1479931321, "answer_id": 40773213, "question_id": 40773048, "link": "https://stackoverflow.com/questions/40773048/splitting-an-n-dimensional-numpy-array-into-multiple-1d-arrays/40773213#40773213", "title": "Splitting an N dimensional numpy array into multiple 1D arrays", "body": "<p>You could use <a href=\"https://docs.scipy.org/doc/numpy/reference/generated/numpy.split.html\" rel=\"nofollow noreferrer\"><code>np.split</code></a> on a flattened version and cut into appropriate number of parts as <code>1D</code> lists, like so -</p>\n\n<pre><code>np.split(stacked.ravel(),np.prod(stacked.shape[:2]))\n</code></pre>\n\n<p>Sample run -</p>\n\n<pre><code>In [406]: stacked\nOut[406]: \narray([[[0, 0, 0],\n        [1, 1, 1]],\n\n       [[2, 2, 2],\n        [3, 3, 3]],\n\n       [[4, 4, 4],\n        [5, 5, 5]],\n\n       [[6, 6, 6],\n        [7, 7, 7]]])\n\nIn [407]: np.split(stacked.ravel(),np.prod(stacked.shape[:2]))\nOut[407]: \n[array([0, 0, 0]),\n array([1, 1, 1]),\n array([2, 2, 2]),\n array([3, 3, 3]),\n array([4, 4, 4]),\n array([5, 5, 5]),\n array([6, 6, 6]),\n array([7, 7, 7])]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 203214, "user_id": 3293881, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/6ZYnq.jpg?s=128&g=1", "display_name": "Divakar", "link": "https://stackoverflow.com/users/3293881/divakar"}, "edited": false, "score": 0, "creation_date": 1479933770, "post_id": 40773677, "comment_id": 68771492, "body": "Lovely use of <code>list</code>! Looks pretty fast. Just to make it generic, maybe we could use the shape param there : <code>list(stacked.reshape(-1,stacked.shape[-1]))</code>."}, {"owner": {"reputation": 12365, "user_id": 2593236, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/4858dc5268d1e9c5a376a2762a5bc495?s=128&d=identicon&r=PG", "display_name": "pbreach", "link": "https://stackoverflow.com/users/2593236/pbreach"}, "reply_to_user": {"reputation": 203214, "user_id": 3293881, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/6ZYnq.jpg?s=128&g=1", "display_name": "Divakar", "link": "https://stackoverflow.com/users/3293881/divakar"}, "edited": false, "score": 0, "creation_date": 1480017276, "post_id": 40773677, "comment_id": 68809597, "body": "I messed up on the example input array. Should be <code>stacked = np.stack(state)</code>. Updated the question so now your answer should be <code>list(stacked.reshape(3, -1).T)</code> I think? I agree with @Divakar, great use of <code>list</code>!"}, {"owner": {"reputation": 12365, "user_id": 2593236, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/4858dc5268d1e9c5a376a2762a5bc495?s=128&d=identicon&r=PG", "display_name": "pbreach", "link": "https://stackoverflow.com/users/2593236/pbreach"}, "edited": false, "score": 0, "creation_date": 1480019941, "post_id": 40773677, "comment_id": 68810563, "body": "Looks great, I&#39;ve just confirmed that this works for more than 2 dimensions. The general solution would be, <code>list(np.stack(state, axis=state[0].ndim).reshape(-1, len(state))) </code>"}], "tags": [], "owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "is_accepted": true, "score": 2, "last_activity_date": 1480018702, "last_edit_date": 1480018702, "creation_date": 1479933107, "answer_id": 40773677, "question_id": 40773048, "link": "https://stackoverflow.com/questions/40773048/splitting-an-n-dimensional-numpy-array-into-multiple-1d-arrays/40773677#40773677", "title": "Splitting an N dimensional numpy array into multiple 1D arrays", "body": "<p>If I reshape it to a 9x3 array, then a simple <code>list()</code> will turn it into a list of 3 element arrays:</p>\n\n<pre><code>In [190]: stacked.reshape(-1,3)\nOut[190]: \narray([[0, 0, 0],\n       [1, 1, 1],\n       [2, 2, 2],\n       [3, 3, 3],\n       [4, 4, 4],\n       [5, 5, 5],\n       [6, 6, 6],\n       [7, 7, 7],\n       [8, 8, 8]])\nIn [191]: list(stacked.reshape(-1,3))\nOut[191]: \n[array([0, 0, 0]),\n array([1, 1, 1]),\n array([2, 2, 2]),\n array([3, 3, 3]),\n array([4, 4, 4]),\n array([5, 5, 5]),\n array([6, 6, 6]),\n array([7, 7, 7]),\n array([8, 8, 8])]\n</code></pre>\n\n<p><code>np.split(stacked.reshape(-1,3),9)</code> produces a list of 1x3 arrays.</p>\n\n<p><code>np.split</code> only works on one axis, but you want to split on the 1st 2 - hence the need for a reshape or ravel.</p>\n\n<p>And forget about <code>nditer</code>.  That's a stepping stone to reworking code in cython.  It does not help with ordinary iteration - except that when used in <code>ndindex</code> it can streamline your <code>i,j</code> double loop:</p>\n\n<pre><code>In [196]: [stacked[idx] for idx in np.ndindex(stacked.shape[:2])]\nOut[196]: \n[array([0, 0, 0]),\n array([1, 1, 1]),\n array([2, 2, 2]),\n array([3, 3, 3]),\n array([4, 4, 4]),\n array([5, 5, 5]),\n array([6, 6, 6]),\n array([7, 7, 7]),\n array([8, 8, 8])]\n</code></pre>\n\n<p>======================</p>\n\n<p>With the different <code>state</code>, just stack on a different axis</p>\n\n<pre><code>In [302]: state\nOut[302]: \n[array([[0, 1, 2],\n        [3, 4, 5],\n        [6, 7, 8]]), array([[0, 1, 2],\n        [3, 4, 5],\n        [6, 7, 8]]), array([[0, 1, 2],\n        [3, 4, 5],\n        [6, 7, 8]])]\nIn [303]: np.stack(state,axis=2).reshape(-1,3)\nOut[303]: \narray([[0, 0, 0],\n       [1, 1, 1],\n       [2, 2, 2],\n       [3, 3, 3],\n       [4, 4, 4],\n       [5, 5, 5],\n       [6, 6, 6],\n       [7, 7, 7],\n       [8, 8, 8]])\n</code></pre>\n\n<p><code>stack</code> is rather like <code>np.array</code>, except it gives more control over where the dimension is added.  But do look at it's code.</p>\n"}], "owner": {"reputation": 12365, "user_id": 2593236, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/4858dc5268d1e9c5a376a2762a5bc495?s=128&d=identicon&r=PG", "display_name": "pbreach", "link": "https://stackoverflow.com/users/2593236/pbreach"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3093, "favorite_count": 0, "accepted_answer_id": 40773677, "answer_count": 2, "score": 4, "last_activity_date": 1480031816, "creation_date": 1479930720, "last_edit_date": 1480031816, "question_id": 40773048, "link": "https://stackoverflow.com/questions/40773048/splitting-an-n-dimensional-numpy-array-into-multiple-1d-arrays", "title": "Splitting an N dimensional numpy array into multiple 1D arrays", "body": "<p>I have a simulation model that integrates a set of variables whose states are represented by numpy arrays of an arbitrary number of dimensions. After the simulation, I now have a list of arrays whose elements represent the variable state at a particular point in time.</p>\n\n<p>In order to output the simulation results I want to split these arrays into multiple 1D arrays where the elements correspond to the same component of the state variable through time. Here is an example of a 2D state variable over a number of time steps.</p>\n\n<pre><code>import numpy as np\n\n# Arbitrary state that is constant\narr = np.arange(9).reshape((3, 3))\n\n# State variable through 3 time steps\nstate = [arr.copy() for _ in range(3)]\n\n# Stack the arrays up to 3d. Axis could be rolled here if it makes it easier.\nstacked = np.stack(state)\n</code></pre>\n\n<p>The output I need to get is:</p>\n\n<pre><code>[np.array([0, 0, 0]), np.array([1, 1, 1]), np.array([2, 2, 2]), ...]\n</code></pre>\n\n<p>I've tried doing <code>np.split(stacked, sum(stacked.shape[:-1]), axis=...)</code> (tried everything for <code>axis=</code>) but get the following error: <code>ValueError: array split does not result in an equal division</code>. Is there a way to do this using <code>np.split</code> or maybe <code>np.nditer</code> that will work for the general case?</p>\n\n<p>I guess this would be equivalent to doing:</p>\n\n<pre><code>I, J, K = stacked.shape\n\nresult = []\n\nfor i in range(I):\n    for j in range(J):\n        result.append(stacked[i, j, :])\n</code></pre>\n\n<p>Which is also the ordering I'm hoping to get. Easy enough, however I'm hoping there is something in numpy that I can take advantage of for this that will be more general.</p>\n"}, {"tags": ["python", "python-2.7", "python-3.x", "hadoop", "hive"], "comments": [{"owner": {"reputation": 13788, "user_id": 3222797, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/H5JG2.png?s=128&g=1", "display_name": "gobrewers14", "link": "https://stackoverflow.com/users/3222797/gobrewers14"}, "edited": false, "score": 0, "creation_date": 1479940414, "post_id": 40772988, "comment_id": 68774318, "body": "This is extremely broad and impossible to answer as is.  Please update the question with example data, your Hive and Python code, and what your desired output is.  The more information you provide, the higher probability of getting an answer."}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4941703"}, "edited": false, "score": 0, "creation_date": 1480013412, "post_id": 40777782, "comment_id": 68808214, "body": "Thanks . its fixed... Thanks a lot"}], "tags": [], "owner": {"reputation": 339, "user_id": 4812676, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d48f45ae25bd517e5619af31f0f4bb17?s=128&d=identicon&r=PG&f=1", "display_name": "Mike Gan", "link": "https://stackoverflow.com/users/4812676/mike-gan"}, "is_accepted": true, "score": 0, "last_activity_date": 1479959563, "creation_date": 1479959563, "answer_id": 40777782, "question_id": 40772988, "link": "https://stackoverflow.com/questions/40772988/how-to-use-hive-table-as-a-input-in-python/40777782#40777782", "title": "how to use hive table as a input in python?", "body": "<p>What a coincidence, i just write a python script one hour age for the first time.</p>\n\n<p>use TRANSFORM : <a href=\"https://cwiki.apache.org/confluence/display/Hive/LanguageManual+Transform\" rel=\"nofollow noreferrer\">https://cwiki.apache.org/confluence/display/Hive/LanguageManual+Transform</a></p>\n\n<pre><code>add file hive_recursion.py;\n\nselect transform(id, category_parent_id, '===') using 'python hive_recursion.py' as ( xxx ) \nfrom navigation_category limit 111; \n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user4941703"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 192, "favorite_count": 0, "accepted_answer_id": 40777782, "answer_count": 1, "score": 0, "last_activity_date": 1479959563, "creation_date": 1479930522, "last_edit_date": 1479940314, "question_id": 40772988, "link": "https://stackoverflow.com/questions/40772988/how-to-use-hive-table-as-a-input-in-python", "title": "how to use hive table as a input in python?", "body": "<p>I have 3 tables in Hive.  I want to use these 3 tables as a input in python and update some column values per some conditions.  After updating the column values, put them into a new hive table.</p>\n\n<p>Any idea how to do this?</p>\n"}, {"tags": ["python", "date", "kivy"], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 6052305, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f2727b0e170ab01125b0f5d5b8fb268?s=128&d=identicon&r=PG&f=1", "display_name": "Yon-Joon Choo", "link": "https://stackoverflow.com/users/6052305/yon-joon-choo"}, "edited": false, "score": 0, "creation_date": 1479935017, "post_id": 40773255, "comment_id": 68772052, "body": "This is awesome. It&#39;s unfortunate that date format isn&#39;t supported in its original form, but this will do. Thanks!"}], "tags": [], "owner": {"reputation": 7857, "user_id": 1542900, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00aff6b6266554a0909a07844cbb98ec?s=128&d=identicon&r=PG&f=1", "display_name": "Nykakin", "link": "https://stackoverflow.com/users/1542900/nykakin"}, "is_accepted": false, "score": 0, "last_activity_date": 1479931481, "creation_date": 1479931481, "answer_id": 40773255, "question_id": 40772978, "link": "https://stackoverflow.com/questions/40772978/date-in-kivy-language/40773255#40773255", "title": "Date in Kivy language", "body": "<p>Slider accept integer values so you should convert your dates to some kind of numeric timestamp, for example:</p>\n\n<pre><code>import datetime\nimport time\n\nfrom kivy.uix.button import Button\nfrom kivy.uix.boxlayout import BoxLayout\nfrom kivy.app import App\nfrom kivy.lang import Builder\n\nBuilder.load_string('''\n&lt;MyWidget&gt;\n    Slider:\n        id: slider\n        min: root.minimumdate()\n        max: root.maximumdate()\n        on_value:\n            date_label.text = root.timestamp_to_datetime(args[1]) \n    Label:\n        text: root.timestamp_to_datetime(slider.value)\n        id: date_label\n''')\n\nclass MyWidget(BoxLayout):\n    def minimumdate(self):\n        d = datetime.datetime.now()\n        return time.mktime(d.timetuple())\n\n    def maximumdate(self):\n        d = datetime.datetime.now() + datetime.timedelta(days=1)\n        return time.mktime(d.timetuple())\n\n    def timestamp_to_datetime(self, timestamp):\n        return datetime.datetime.fromtimestamp(\n            int(timestamp)\n        ).strftime('%Y-%m-%d %H:%M:%S')\n\nclass TestApp(App):\n    def build(self):\n        return MyWidget()\n\n\nif __name__ == '__main__':\n    TestApp().run()\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 6052305, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f2727b0e170ab01125b0f5d5b8fb268?s=128&d=identicon&r=PG&f=1", "display_name": "Yon-Joon Choo", "link": "https://stackoverflow.com/users/6052305/yon-joon-choo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1566, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1479931481, "creation_date": 1479930478, "question_id": 40772978, "link": "https://stackoverflow.com/questions/40772978/date-in-kivy-language", "title": "Date in Kivy language", "body": "<p>I am having a hard time getting Kivy's slider to recognize my date values.\nBelow is the code.</p>\n\n<pre><code>Slider:\n    min: root.minimumdate()\n    max: root.maximumdate()\n    value: root.maximumdate()\n    pos: root.width/200, root.height/1.159\n    width: root.width/2.9\n    height: root.height/10\n</code></pre>\n\n<p>Minimumdate and maximumdate functions return my lower and upper bound date values formatted as (YYYY-MM); however, kivy language does not seem to recognize the date values. Is there a date conversion I need to do before using it as slider values?</p>\n\n<p>Any help would be appreciated.</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["python", "opencv", "image-processing"], "comments": [{"owner": {"reputation": 21113, "user_id": 1549918, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/wAHqV.png?s=128&g=1", "display_name": "Chris Halcrow", "link": "https://stackoverflow.com/users/1549918/chris-halcrow"}, "edited": false, "score": 0, "creation_date": 1479930938, "post_id": 40772966, "comment_id": 68770047, "body": "The Sikuli library by MIT makes this easy. It can plug into python. Is that an option for you?"}, {"owner": {"reputation": 211, "user_id": 5717898, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/adf9a1784eb236da3a4910f3afeedf9d?s=128&d=identicon&r=PG&f=1", "display_name": "Optimus 1072", "link": "https://stackoverflow.com/users/5717898/optimus-1072"}, "edited": false, "score": 0, "creation_date": 1479968191, "post_id": 40772966, "comment_id": 68781701, "body": "May be you can make your stride value variable where if the matching score is high then you will decrease the stride value otherwise you will increase it(upto a max threshold). This will surely compare more than 64 regions but it&#39;s a point to start."}, {"owner": {"reputation": 3122, "user_id": 1874627, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eV76W.jpg?s=128&g=1", "display_name": "saurabheights", "link": "https://stackoverflow.com/users/1874627/saurabheights"}, "edited": false, "score": 0, "creation_date": 1479989990, "post_id": 40772966, "comment_id": 68794977, "body": "Use setRoi(64 times) and absDiff(or similar methods) to find if template matches with one of the 8x8 grid objects."}, {"owner": {"reputation": 21, "user_id": 6503030, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-uVQ2a-ryYFI/AAAAAAAAAAI/AAAAAAAAABY/cFxIP4Lou6M/photo.jpg?sz=128", "display_name": "xcepti0n", "link": "https://stackoverflow.com/users/6503030/xcepti0n"}, "reply_to_user": {"reputation": 21113, "user_id": 1549918, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/wAHqV.png?s=128&g=1", "display_name": "Chris Halcrow", "link": "https://stackoverflow.com/users/1549918/chris-halcrow"}, "edited": false, "score": 0, "creation_date": 1484294894, "post_id": 40772966, "comment_id": 70459958, "body": "@ChrisHalcrow actually i am working on a project for that i have to do my task only on cv2 , but i still keep that one in my list for my further projects."}, {"owner": {"reputation": 21, "user_id": 6503030, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-uVQ2a-ryYFI/AAAAAAAAAAI/AAAAAAAAABY/cFxIP4Lou6M/photo.jpg?sz=128", "display_name": "xcepti0n", "link": "https://stackoverflow.com/users/6503030/xcepti0n"}, "reply_to_user": {"reputation": 211, "user_id": 5717898, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/adf9a1784eb236da3a4910f3afeedf9d?s=128&d=identicon&r=PG&f=1", "display_name": "Optimus 1072", "link": "https://stackoverflow.com/users/5717898/optimus-1072"}, "edited": false, "score": 0, "creation_date": 1484295084, "post_id": 40772966, "comment_id": 70460054, "body": "@Optimus1072  as i am a beginner so I don&#39;t know much about how to achieve what you are suggesting, may be a link will work."}, {"owner": {"reputation": 21, "user_id": 6503030, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-uVQ2a-ryYFI/AAAAAAAAAAI/AAAAAAAAABY/cFxIP4Lou6M/photo.jpg?sz=128", "display_name": "xcepti0n", "link": "https://stackoverflow.com/users/6503030/xcepti0n"}, "reply_to_user": {"reputation": 3122, "user_id": 1874627, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eV76W.jpg?s=128&g=1", "display_name": "saurabheights", "link": "https://stackoverflow.com/users/1874627/saurabheights"}, "edited": false, "score": 0, "creation_date": 1484295150, "post_id": 40772966, "comment_id": 70460083, "body": "Thanks @saurabheights I will try that one,"}, {"owner": {"reputation": 5947, "user_id": 1276636, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/5pipn.jpg?s=128&g=1", "display_name": "Sufian", "link": "https://stackoverflow.com/users/1276636/sufian"}, "edited": false, "score": 0, "creation_date": 1539775481, "post_id": 40772966, "comment_id": 92622591, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/12750889/compare-histograms-of-specific-areas-of-two-images-opencv\">Compare histograms of specific areas of two images? OpenCV</a>"}], "owner": {"reputation": 21, "user_id": 6503030, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-uVQ2a-ryYFI/AAAAAAAAAAI/AAAAAAAAABY/cFxIP4Lou6M/photo.jpg?sz=128", "display_name": "xcepti0n", "link": "https://stackoverflow.com/users/6503030/xcepti0n"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 284, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1479930406, "creation_date": 1479930406, "question_id": 40772966, "link": "https://stackoverflow.com/questions/40772966/opencv-how-to-match-a-template-for-a-specfic-region-of-a-large-image-using-pyth", "title": "OpenCV: How to match a template for a specfic region of a large image using python", "body": "<p>I have template of size <i>100*100</i> px and image of 800*800. I don't want to search every possible region of size  <i>100*100</i> in that image. Instead I want to check whether my template exist in specific regions or not, to make it time efficient.<br>\nLet us consider <i>800*800</i> image in form of 2d grid of <i>8*8</i>. I just want to check it in these 64 regions <i>(8*8)</i> not <i>(701*701)</i> regions.<br>\nIs there any possible way to do so?</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 5896, "user_id": 5080995, "user_type": "registered", "accept_rate": 91, "profile_image": "https://graph.facebook.com/10153059476487462/picture?type=large", "display_name": "martianwars", "link": "https://stackoverflow.com/users/5080995/martianwars"}, "edited": false, "score": 0, "creation_date": 1479930515, "post_id": 40772959, "comment_id": 68769849, "body": "You haven&#39;t indented <code>counter=counter+1</code> I think. Besides this, you aren&#39;t exactly using a loop"}, {"owner": {"reputation": 19411, "user_id": 6640099, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/tf1sO.jpg?s=128&g=1", "display_name": "Christian Dean", "link": "https://stackoverflow.com/users/6640099/christian-dean"}, "edited": false, "score": 0, "creation_date": 1479930586, "post_id": 40772959, "comment_id": 68769900, "body": "Can you use <code>len()</code>? That&#39;s the easiest and fastest way to do what you describe. Of course you&#39;d still need to filter out the all the non-letters from your sentence."}], "answers": [{"tags": [], "owner": {"reputation": 425, "user_id": 2230447, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/a698efb1c541100cd93d32fa5f606b35?s=128&d=identicon&r=PG", "display_name": "Kat", "link": "https://stackoverflow.com/users/2230447/kat"}, "is_accepted": false, "score": 0, "last_activity_date": 1479930666, "creation_date": 1479930666, "answer_id": 40773033, "question_id": 40772959, "link": "https://stackoverflow.com/questions/40772959/python-programming-string-handling-functions/40773033#40773033", "title": "Python Programming String Handling Functions", "body": "<p>wrd.isalpha() returns a boolean (true or false). So if the function returns true, counter=counter+1 will be called once (and only once). You need to iterate through every letter of wrd and call isalpha() on each letter.</p>\n"}, {"tags": [], "owner": {"reputation": 5896, "user_id": 5080995, "user_type": "registered", "accept_rate": 91, "profile_image": "https://graph.facebook.com/10153059476487462/picture?type=large", "display_name": "martianwars", "link": "https://stackoverflow.com/users/5080995/martianwars"}, "is_accepted": false, "score": 1, "last_activity_date": 1479931187, "last_edit_date": 1479931187, "creation_date": 1479930818, "answer_id": 40773071, "question_id": 40772959, "link": "https://stackoverflow.com/questions/40772959/python-programming-string-handling-functions/40773071#40773071", "title": "Python Programming String Handling Functions", "body": "<p>You need to indent code inside <code>if</code> blocks. In the code you have provided, you've forgotten to indent <code>counter = counter + 1</code>.</p>\n\n<p>You are missing a loop across all characters of <code>wrd</code>. Try this instead,    </p>\n\n<pre><code>counter = 0\nwrd = raw_input(\"Please enter a short sentence.\")\n# Iterate over every character in string\nfor letter in wrd:\n  # Check if the letter is an alphabet\n  if letter.isalpha():\n    # Increment counter only in this condition\n    counter += 1\n\nprint \"You have \" + str(counter) + \" in your sentence.\"\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 790, "user_id": 2525053, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2c015a2fbc80167042f71daf9ce4c199?s=128&d=identicon&r=PG&f=1", "display_name": "Harish Talanki", "link": "https://stackoverflow.com/users/2525053/harish-talanki"}, "is_accepted": true, "score": 0, "last_activity_date": 1479931569, "last_edit_date": 1479931569, "creation_date": 1479930997, "answer_id": 40773121, "question_id": 40772959, "link": "https://stackoverflow.com/questions/40772959/python-programming-string-handling-functions/40773121#40773121", "title": "Python Programming String Handling Functions", "body": "<p>First of all as @kalpesh mentioned, the statement <code>counter=counter+1</code> should be indented.</p>\n\n<p>Second of all, you need to iterate over the entire string entered and then count the number of characters or whatever the logic you need.</p>\n\n<pre><code>counter=0\n\nwrd=raw_input(\"Please enter a short sentence.\")\n\nfor i in wrd:\n    if i.isalpha():\n        counter = counter+1\n\nprint \"You have \" + str(counter) +\"in your sentence.\"\n</code></pre>\n\n<p>Once you start learning more, then you can use the below code,</p>\n\n<pre><code>counter=[]\ncount = 0\nwrd=raw_input(\"Please enter a short sentence.\")\n\ncounter = [len(i) for i in wrd.split() if i.isalpha()]\n\nprint \"You have \" + str(sum(counter)) +\"in your sentence.\"\n</code></pre>\n\n<p>I am just splitting the word and then checking if it is alpha or not and using the list comprehension to iterate over the string entered.</p>\n"}, {"tags": [], "owner": {"reputation": 86, "user_id": 3763193, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QdIwN.png?s=128&g=1", "display_name": "Oli Radlett", "link": "https://stackoverflow.com/users/3763193/oli-radlett"}, "is_accepted": false, "score": 0, "last_activity_date": 1479932038, "creation_date": 1479932038, "answer_id": 40773386, "question_id": 40772959, "link": "https://stackoverflow.com/questions/40772959/python-programming-string-handling-functions/40773386#40773386", "title": "Python Programming String Handling Functions", "body": "<p>You could always remove the spaces from your sentence using replace() then use len() to get how many characters are in the sentence.</p>\n\n<p>For example:</p>\n\n<pre><code>sentence = input(\"Type in a sentence: \") # Ask the user to input a sentence\nsentence = sentence.replace(\" \", \"\") # Replace the spaces in the sentence with nothing\nprint(\"Your sentence is \" + str(len(sentence)) +  \" characters long\") # Use len() to print out number of letters in the sentence\n</code></pre>\n"}], "owner": {"reputation": 49, "user_id": 7174592, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/9bc5d32709290c3e29be691e83e11de7?s=128&d=identicon&r=PG&f=1", "display_name": "mars", "link": "https://stackoverflow.com/users/7174592/mars"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 88, "favorite_count": 0, "accepted_answer_id": 40773121, "answer_count": 4, "score": 0, "last_activity_date": 1479932038, "creation_date": 1479930382, "question_id": 40772959, "link": "https://stackoverflow.com/questions/40772959/python-programming-string-handling-functions", "title": "Python Programming String Handling Functions", "body": "<p>So, I'm a beginner to programming. I am trying to create a program where the user can input a sentence and the program will tell the user how many letters are in that sentence. </p>\n\n<pre><code>counter=0\n\nwrd=raw_input(\"Please enter a short sentence.\")\n\nif wrd.isalpha():\ncounter=counter+1\nprint \"You have\" + str(counter) +\"in your sentence.\"\n</code></pre>\n\n<p>When I enter this, my output is blank. What is my mistake in this program? </p>\n"}, {"tags": ["python", "sql", "sqlite"], "answers": [{"tags": [], "owner": {"reputation": 38371, "user_id": 3555845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e06f616d9a53b1ca18287d1049a28ee?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/3555845/daniel"}, "is_accepted": true, "score": 1, "last_activity_date": 1479930312, "creation_date": 1479930312, "answer_id": 40772938, "question_id": 40772894, "link": "https://stackoverflow.com/questions/40772894/import-sqlite3-with-a-where-var-like-statement/40772938#40772938", "title": "import sqlite3 with a where var like statement", "body": "<p>You have to add the <code>%</code> to the parameter:</p>\n\n<pre><code>cursor.execute('SELECT itemID FROM itemAttachments WHERE path LIKE ?', ('%{}%'.format(Title), ))\n</code></pre>\n"}], "owner": {"reputation": 143, "user_id": 6714234, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b792e08747c3e6fcc8827ccd1c64091e?s=128&d=identicon&r=PG&f=1", "display_name": "Sitak", "link": "https://stackoverflow.com/users/6714234/sitak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "accepted_answer_id": 40772938, "answer_count": 1, "score": 0, "last_activity_date": 1479930312, "creation_date": 1479930135, "question_id": 40772894, "link": "https://stackoverflow.com/questions/40772894/import-sqlite3-with-a-where-var-like-statement", "title": "import sqlite3 with a where var like statement", "body": "<p>I have this code :</p>\n\n<pre><code>Title= \"somewords\"\nitemID = somenumbers\nimport sqlite3\ndb = sqlite3.connect('C:\\\\db.sqlite')\ncursor = db.cursor()\ncursor.execute('SELECT itemID FROM itemAttachments WHERE path LIKE \"%?%\"  ', (Title, ))\ncursor.execute('SELECT key FROM items WHERE itemID =? ', (itemID,))\n</code></pre>\n\n<p>The second statement with the <code>where item=?</code> works but the first one with the <code>like</code> gives me troubles. </p>\n\n<p>I have tried many combinaisons like <code>\"+Title+\"</code> and <code>{} .format(Title)</code>, adding or removing the \"<code>%...%\"</code> but each time I am getting an error: either <code>sqlite3.ProgrammingError: Incorrect number of bindings supplied</code> or <code>sqlite3.OperationalError: near \",\": syntax error</code>.</p>\n"}, {"tags": ["python", "asynchronous"], "answers": [{"tags": [], "owner": {"reputation": 17990, "user_id": 5827958, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/V9KEl.png?s=128&g=1", "display_name": "zondo", "link": "https://stackoverflow.com/users/5827958/zondo"}, "is_accepted": true, "score": 1, "last_activity_date": 1479931291, "creation_date": 1479931291, "answer_id": 40773206, "question_id": 40772790, "link": "https://stackoverflow.com/questions/40772790/how-to-deal-with-time-delay-conflicts/40773206#40773206", "title": "How to deal with time delay conflicts?", "body": "<p>That looks like the perfect place for a timer from the threading module:</p>\n\n<pre><code>import threading\n\n# It can take whatever args you want.\ndef do_action(a, b, c):\n   # It can do whatever you want.\n\ninputs = continuous_stream_of_input\nfor input in inputs:\n    if conditions:\n        # 5 minutes is 300 seconds.     args is, again, whatever you want.\n        threading.Timer(300, do_action, args=(a, b, c)).start()\n</code></pre>\n"}], "owner": {"reputation": 601, "user_id": 1917407, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/6NIMc.jpg?s=128&g=1", "display_name": "adamcircle", "link": "https://stackoverflow.com/users/1917407/adamcircle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 30, "favorite_count": 0, "accepted_answer_id": 40773206, "answer_count": 1, "score": 1, "last_activity_date": 1479931291, "creation_date": 1479929666, "question_id": 40772790, "link": "https://stackoverflow.com/questions/40772790/how-to-deal-with-time-delay-conflicts", "title": "How to deal with time delay conflicts?", "body": "<p>I'm still an amateur programmer and just trying to understand how to approach this problem. I'm writing in Python.</p>\n\n<p>I have input that is constantly being updated at all times (continuous stream). As it comes in, I run a for loop on the newest entry that verifies if a series of conditions are met. If so, then the program needs to wait for 5 minutes before executing the next action on that piece of input. But it also need to keep checking the rest of the inputs.</p>\n\n<p>So, pseudocode:</p>\n\n<pre><code>inputs = continous_stream_of_input\nfor input in inputs:\n    if conditions == True:\n        wait 5 minutes\n        do next action\n</code></pre>\n\n<p>but this block needs to be run on each piece of input that comes in, as soon as it comes in (without the 5 minute delay). How should I proceed?</p>\n"}, {"tags": ["python", "matplotlib"], "comments": [{"owner": {"reputation": 12860, "user_id": 1168043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IBdCH.jpg?s=128&g=1", "display_name": "cphlewis", "link": "https://stackoverflow.com/users/1168043/cphlewis"}, "edited": false, "score": 0, "creation_date": 1479951913, "post_id": 40772640, "comment_id": 68777297, "body": "There are many possible mappings from RGBA to a scalar value, you&#39;ll have to pick one. (Algebra on the four RGBA values.) What format is the plot in? How are you going to get the RGBA values?"}, {"owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1479973885, "post_id": 40772640, "comment_id": 68784484, "body": "Actually I don&#39;t think this is easily possible. Given a colormap, <code>to_rgba(value)</code> can simply look up the value in the given range of the colormap and return the respective color, it&#39;s a unique scalar to scalar map. However <code>to_value(rgba)</code> would be a mapping of a vector of shape 4 to a scalar and it&#39;s not trivial to find out where in the colormap your color is. Also, it&#39;s a non-unique map (if you think about colormaps like &#39;prism&#39; or &#39;flag&#39;). There may however be a solution for your specific case, so you may want to share more details about why you&#39;d need that mapping."}, {"owner": {"reputation": 153, "user_id": 445066, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8c794ffb30520f0c1a5891da88fb4212?s=128&d=identicon&r=PG&f=1", "display_name": "matsu", "link": "https://stackoverflow.com/users/445066/matsu"}, "edited": false, "score": 0, "creation_date": 1480581311, "post_id": 40772640, "comment_id": 69024366, "body": "I have normal radar based maps with color coded intensities. See this question for relevance: <a href=\"http://stackoverflow.com/questions/35259051/resizing-a-polar-coordinate-image\" title=\"resizing a polar coordinate image\">stackoverflow.com/questions/35259051/&hellip;</a>.  The reason is that I need cartesian coordinates from polar coordinates. Easiest approach I found was to use plotting libraries and then use the plotted maps but now I need raw values back from plotted maps. Let me know if this is not clear."}], "owner": {"reputation": 153, "user_id": 445066, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8c794ffb30520f0c1a5891da88fb4212?s=128&d=identicon&r=PG&f=1", "display_name": "matsu", "link": "https://stackoverflow.com/users/445066/matsu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 233, "favorite_count": 1, "answer_count": 0, "score": 2, "last_activity_date": 1479930912, "creation_date": 1479929157, "last_edit_date": 1479930912, "question_id": 40772640, "link": "https://stackoverflow.com/questions/40772640/rgba-color-to-data-value-from-a-plot", "title": "RGBA Color to data value from a plot", "body": "<p>I have a color coded plot. \nNormally, to get RGBA color from the data value, I could use <code>matplotlib.cm.ScalarMappable</code> instance for <code>to_rgba(value)</code>.</p>\n\n<p>In current situation, I want to reverse it to have a function like <code>to_value(rgba)</code>.</p>\n\n<p>Is there any function or ideas on how to proceed with this?</p>\n"}, {"tags": ["python", "pandas"], "answers": [{"comments": [{"owner": {"reputation": 1192, "user_id": 7168104, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/34f5b3d74753f9a5b1a80dd2f0a9bb6f?s=128&d=identicon&r=PG&f=1", "display_name": "Zanshin", "link": "https://stackoverflow.com/users/7168104/zanshin"}, "edited": false, "score": 0, "creation_date": 1479937087, "post_id": 40773415, "comment_id": 68772994, "body": "Thanks. Would it be possible to have the years as columns? Also, how would I amend the additional code to return the totals of sum and size?"}, {"owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "reply_to_user": {"reputation": 1192, "user_id": 7168104, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/34f5b3d74753f9a5b1a80dd2f0a9bb6f?s=128&d=identicon&r=PG&f=1", "display_name": "Zanshin", "link": "https://stackoverflow.com/users/7168104/zanshin"}, "edited": false, "score": 0, "creation_date": 1479939789, "post_id": 40773415, "comment_id": 68774068, "body": "<code>reset_index(&#39;S&#39;)</code> to get years as a column.  assign result above to <code>df_</code> then <code>df_.append(df_.sum().rename((&#39;Total&#39;, &#39;&#39;)))</code>"}], "tags": [], "owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "is_accepted": true, "score": 1, "last_activity_date": 1479932692, "last_edit_date": 1479932692, "creation_date": 1479932161, "answer_id": 40773415, "question_id": 40772634, "link": "https://stackoverflow.com/questions/40772634/would-it-be-possible-to-create-multiple-dataframes-in-one-go/40773415#40773415", "title": "Would it be possible to create multiple dataframes in one go?", "body": "<pre><code>b_c_idx_locs = [df.columns.get_loc('B'), df.columns.get_loc('C')]\n\na = df.values[:, b_c_idx_locs]\n\ndf['B+C'] = a.sum(1)\ndf['B*C'] = a.prod(1)\ndf['B-C'] = -np.diff(a)\ncols = ['B+C', 'B*C', 'B-C']\n\ndf.groupby(['A', 'S'])[cols].agg(['sum', 'size'])\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/6SsI4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6SsI4.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 1192, "user_id": 7168104, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/34f5b3d74753f9a5b1a80dd2f0a9bb6f?s=128&d=identicon&r=PG&f=1", "display_name": "Zanshin", "link": "https://stackoverflow.com/users/7168104/zanshin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 280, "favorite_count": 0, "accepted_answer_id": 40773415, "answer_count": 1, "score": 3, "last_activity_date": 1479932692, "creation_date": 1479929134, "question_id": 40772634, "link": "https://stackoverflow.com/questions/40772634/would-it-be-possible-to-create-multiple-dataframes-in-one-go", "title": "Would it be possible to create multiple dataframes in one go?", "body": "<pre><code>df = pd.DataFrame( {\n   'A': ['d','d','d','f','f','f','g','g','g','h','h','h'],\n   'B': [5,5,6,7,5,6,6,7,7,6,7,7],\n   'C': [1,1,1,1,1,1,1,1,1,1,1,1],\n   'S': [2012,2013,2014,2015,2016,2012,2013,2014,2015,2016,2012,2013]     \n    } );\n\ndf = (df.B + df.C).groupby([df.A,df.S]).agg(['sum','size']).\n      unstack(fill_value=0)\ndf10 = (df.B * df.C).groupby([df.A,df.S]).agg(['sum','size']).\n      unstack(fill_value=0)\ndf20 = (df.B - df.C).groupby([df.A,df.S]).agg(['sum','size']).\n      unstack(fill_value=0)\n</code></pre>\n\n<p>Can I run the following code in one go for df, df10, df20? Btw, in the real data I will run 80 dataframes with the same code as below;</p>\n\n<pre><code>df1 = df.groupby(level=0, axis=1).sum()\nnew_cols= list(zip(df1.columns.get_level_values(0),['total'] *     len(df.columns)))\ndf1.columns = pd.MultiIndex.from_tuples(new_cols)\ndf2 = pd.concat([df1,df], axis=1).sort_index(axis=1).sort_index(axis=1,  level=1)\ndf2.columns = ['_'.join((col[0], str(col[1]))) for col in df2.columns]\n</code></pre>\n"}, {"tags": ["python", "string", "decode"], "comments": [{"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1479929286, "post_id": 40772626, "comment_id": 68769270, "body": "To be clear, you&#39;ve done <code>open(&#39;J:\\Temp\\Errors\\PerfupD.txt&#39;, &#39;r&#39;, encoding=&#39;utf-8&#39;)</code>?"}, {"owner": {"reputation": 2169, "user_id": 629191, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2927ca5ec0a0a4f21bdbc911d88dc146?s=128&d=identicon&r=PG", "display_name": "Rafael Almeida", "link": "https://stackoverflow.com/users/629191/rafael-almeida"}, "edited": false, "score": 0, "creation_date": 1479929291, "post_id": 40772626, "comment_id": 68769274, "body": "From your screenshots it seems like there is space between the letters. Is that the case?"}, {"owner": {"reputation": 6424, "user_id": 3579910, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IoMjv.jpg?s=128&g=1", "display_name": "TemporalWolf", "link": "https://stackoverflow.com/users/3579910/temporalwolf"}, "edited": false, "score": 0, "creation_date": 1479929318, "post_id": 40772626, "comment_id": 68769284, "body": "Does the source file include the extra spaces?"}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 1, "creation_date": 1479929363, "post_id": 40772626, "comment_id": 68769299, "body": "Actually, I&#39;d try UTF-16."}, {"owner": {"reputation": 21, "user_id": 6100466, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/98057cf7ed52d73a4b08175ffa19e9fa?s=128&d=identicon&r=PG&f=1", "display_name": "AssemblyRequired", "link": "https://stackoverflow.com/users/6100466/assemblyrequired"}, "reply_to_user": {"reputation": 6424, "user_id": 3579910, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IoMjv.jpg?s=128&g=1", "display_name": "TemporalWolf", "link": "https://stackoverflow.com/users/3579910/temporalwolf"}, "edited": false, "score": 0, "creation_date": 1479929397, "post_id": 40772626, "comment_id": 68769321, "body": "@ Tiger: passing the utf-8 argument into open doesn&#39;t work (for me) I get an error . @ Rafael: The text file has no space, but the python print out does...not sure why. I accidentally posted the python printout for both images. Fixed. @TemporalWolf: source file has no spaces."}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 1, "creation_date": 1479929418, "post_id": 40772626, "comment_id": 68769334, "body": "&quot;an error&quot; What error."}, {"owner": {"reputation": 21, "user_id": 6100466, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/98057cf7ed52d73a4b08175ffa19e9fa?s=128&d=identicon&r=PG&f=1", "display_name": "AssemblyRequired", "link": "https://stackoverflow.com/users/6100466/assemblyrequired"}, "edited": false, "score": 0, "creation_date": 1479929541, "post_id": 40772626, "comment_id": 68769395, "body": "@ Tiger: Traceback (most recent call last):   File &quot;C:\\parser2.py&quot;, line 9, in &lt;module&gt;     f = open(&#39;J:\\Temp\\Errors\\PerfupD.txt&#39;, &#39;r&#39;, &#39;utf-8&#39;) TypeError: an integer is required (got type str)"}, {"owner": {"reputation": 695, "user_id": 2506949, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/52e5d8756b5535046a2560c4169a464c?s=128&d=identicon&r=PG", "display_name": "David Bern", "link": "https://stackoverflow.com/users/2506949/david-bern"}, "edited": false, "score": 0, "creation_date": 1479929650, "post_id": 40772626, "comment_id": 68769436, "body": "The code seems to be OK. overall, its almost how I would write it.  Assuming this will narrow the problem to the log. Where is it getting that extra char. Encoding problem?  Are you able to upload the original file?"}, {"owner": {"reputation": 695, "user_id": 2506949, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/52e5d8756b5535046a2560c4169a464c?s=128&d=identicon&r=PG", "display_name": "David Bern", "link": "https://stackoverflow.com/users/2506949/david-bern"}, "edited": false, "score": 0, "creation_date": 1479930166, "post_id": 40772626, "comment_id": 68769654, "body": "I take that back. It would be great if you could give me the original data for testing, but I might have an answer to you"}, {"owner": {"reputation": 21, "user_id": 6100466, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/98057cf7ed52d73a4b08175ffa19e9fa?s=128&d=identicon&r=PG&f=1", "display_name": "AssemblyRequired", "link": "https://stackoverflow.com/users/6100466/assemblyrequired"}, "edited": false, "score": 0, "creation_date": 1479930231, "post_id": 40772626, "comment_id": 68769688, "body": "Tigerhawk...you got it. it was so simple...passing &#39;utf-8&#39; (or anything else) doesn&#39;t work without the &quot;encoding=&quot; behind it. I never noticed that it HAD to have encoding= written in. Thank you!!!!!"}, {"owner": {"reputation": 21, "user_id": 6100466, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/98057cf7ed52d73a4b08175ffa19e9fa?s=128&d=identicon&r=PG&f=1", "display_name": "AssemblyRequired", "link": "https://stackoverflow.com/users/6100466/assemblyrequired"}, "edited": false, "score": 0, "creation_date": 1479930359, "post_id": 40772626, "comment_id": 68769761, "body": "Thanks David, it&#39;s resolved."}, {"owner": {"reputation": 695, "user_id": 2506949, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/52e5d8756b5535046a2560c4169a464c?s=128&d=identicon&r=PG", "display_name": "David Bern", "link": "https://stackoverflow.com/users/2506949/david-bern"}, "edited": false, "score": 0, "creation_date": 1479930454, "post_id": 40772626, "comment_id": 68769817, "body": "ok great. But are you sure? do you have lines that only contain &#39;warnings&#39;?"}, {"owner": {"reputation": 21, "user_id": 6100466, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/98057cf7ed52d73a4b08175ffa19e9fa?s=128&d=identicon&r=PG&f=1", "display_name": "AssemblyRequired", "link": "https://stackoverflow.com/users/6100466/assemblyrequired"}, "edited": false, "score": 1, "creation_date": 1479930724, "post_id": 40772626, "comment_id": 68769964, "body": "Yes I tested it and it&#39;s working fine, thanks again!"}, {"owner": {"reputation": 695, "user_id": 2506949, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/52e5d8756b5535046a2560c4169a464c?s=128&d=identicon&r=PG", "display_name": "David Bern", "link": "https://stackoverflow.com/users/2506949/david-bern"}, "edited": false, "score": 0, "creation_date": 1479931160, "post_id": 40772626, "comment_id": 68770169, "body": "No problem, just want to give you a heads up that you will miss &#39;warnings&#39; located in strings containing more then the word &#39;warnings&#39;"}, {"owner": {"reputation": 6424, "user_id": 3579910, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IoMjv.jpg?s=128&g=1", "display_name": "TemporalWolf", "link": "https://stackoverflow.com/users/3579910/temporalwolf"}, "edited": false, "score": 0, "creation_date": 1479931450, "post_id": 40772626, "comment_id": 68770326, "body": "@Javathon Because in Python 3, <a href=\"https://docs.python.org/3/library/functions.html#open\" rel=\"nofollow noreferrer\">open()</a>&#39;s third positional argument is <code>buffering</code>, which takes an <code>int</code>."}], "owner": {"reputation": 21, "user_id": 6100466, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/98057cf7ed52d73a4b08175ffa19e9fa?s=128&d=identicon&r=PG&f=1", "display_name": "AssemblyRequired", "link": "https://stackoverflow.com/users/6100466/assemblyrequired"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 88, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1479929325, "creation_date": 1479929094, "last_edit_date": 1479929325, "question_id": 40772626, "link": "https://stackoverflow.com/questions/40772626/python-finding-string-in-unknown-output-type", "title": "Python: Finding string in unknown output type", "body": "<p>I have been trying to resolve this for a few weeks now...I have a report that is generated from an outside program.</p>\n\n<p>It generates an error log (70K lines long) that can be read as text that looks like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/TI3IG.png\" rel=\"nofollow noreferrer\">Report Output as Text</a></p>\n\n<p>However, when I try to find the string \"warnings\" in it (confirmed it's there), it doesn't find anything.</p>\n\n<p>I tried looping through it and having Python print out each word it reads and the output looks very strange...as if there is a lot of spacing between each letter:</p>\n\n<p><a href=\"https://i.stack.imgur.com/HG5p3.png\" rel=\"nofollow noreferrer\">Python print out</a></p>\n\n<p>I simply can't figure out why Python reads it like this or how to find the word I'm looking for in the string. </p>\n\n<p>Code I used to loop through the file and print each line:</p>\n\n<pre><code>import io\n\nf = open('J:\\Temp\\Errors\\PerfupD.txt', 'r')\nlines = f.readlines()\nfor words in lines:\n    print(words)\n</code></pre>\n\n<p>Code I use to search:</p>\n\n<pre><code>import io\n\nf = open('J:\\Temp\\Errors\\PerfupD.txt', 'r')\nlines = f.readlines()\nif \"warnings\" in lines:\n    print(\"Error found\")\n</code></pre>\n\n<p>I have tried reading it as bytes and searching for b\"warnings\".\nHave tried reading as bytes, decoding to cp437, latin-1, windows-1252 (since decode UTF-8 doesn't work), and then searching...nothing works!!</p>\n\n<p>Please help.</p>\n"}]